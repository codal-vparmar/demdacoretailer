(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{132:function(e,t,i){"use strict";t.a=function(e){return"string"==typeof e}},20:function(e,t,i){"use strict";i.r(t),function(e){i.d(t,"default",(function(){return m}));var a=i(11),r=i(5),n=i(132),c=i(12),o=i(1),f=i(4);class m extends a.a{constructor(t){super(t);const i=e("#gift-certificate-balance"),a={recipientName:e=>e.length,recipientEmail:(...e)=>c.a.email(...e),senderName:e=>e.length,senderEmail:(...e)=>c.a.email(...e),customAmount:(e,t,i)=>e&&e>=t&&e<=i,setAmount(e,t){let i=!1;return t.forEach(t=>{if(t===e)return i=!0,!1}),i}},n=e("#gift-certificate-form"),m=n.find('input[name="certificate_amount"]'),s=Object(r.a)({submit:'#gift-certificate-form input[type="submit"]',delay:300});if(m.length){const e=n.find('input[name="certificate_amount"]'),t=e.data("min"),i=e.data("minFormatted"),a=e.data("max"),r=e.data("maxFormatted");s.add({selector:'#gift-certificate-form input[name="certificate_amount"]',validate:(e,i)=>{const r=Number(i);r||e(!1),e(r>=t&&r<=a)},errorMessage:`You must enter a certificate amount between ${i} and ${r}.`})}if(s.add([{selector:'#gift-certificate-form input[name="to_name"]',validate:(e,t)=>{e(a.recipientName(t))},errorMessage:this.context.toName},{selector:'#gift-certificate-form input[name="to_email"]',validate:(e,t)=>{e(a.recipientEmail(t))},errorMessage:this.context.toEmail},{selector:'#gift-certificate-form input[name="from_name"]',validate:(e,t)=>{e(a.senderName(t))},errorMessage:this.context.fromName},{selector:'#gift-certificate-form input[name="from_email"]',validate:(e,t)=>{e(a.senderEmail(t))},errorMessage:this.context.fromEmail},{selector:'#gift-certificate-form input[name="certificate_theme"]:first-of-type',triggeredBy:'#gift-certificate-form input[name="certificate_theme"]',validate:e=>{e("string"==typeof n.find('input[name="certificate_theme"]:checked').val())},errorMessage:this.context.certTheme},{selector:'#gift-certificate-form input[name="agree"]',validate:e=>{e(n.find('input[name="agree"]').get(0).checked)},errorMessage:this.context.agreeToTerms},{selector:'#gift-certificate-form input[name="agree2"]',validate:e=>{e(n.find('input[name="agree2"]').get(0).checked)},errorMessage:this.context.agreeToTerms}]),i.length){const e=this.checkCertBalanceValidator(i);i.on("submit",()=>{if(e.performCheck(),!e.areAll("valid"))return!1})}n.on("submit",e=>{if(s.performCheck(),!s.areAll("valid"))return e.preventDefault()}),e("#gift-certificate-preview").click(t=>{if(t.preventDefault(),s.performCheck(),!s.areAll("valid"))return;const i=Object(f.b)(),a=`${e(t.currentTarget).data("previewUrl")}&${n.serialize()}`;i.open(),o.a.getPage(a,{},(e,t)=>{if(e)return i.updateContent(this.context.previewError);i.updateContent(t,{wrap:!0})})})}checkCertBalanceValidator(e){const t=Object(r.a)({submit:e.find('input[type="submit"]')});return t.add({selector:e.find('input[name="giftcertificatecode"]'),validate(e,t){e(Object(n.a)(t))},errorMessage:"You must enter a certificate code."}),t}}}.call(this,i(0))}}]);
//# sourceMappingURL=theme-bundle.chunk.1.js.map