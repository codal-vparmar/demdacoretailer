(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[5],{

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/client/client.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/client/client.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _objectAssign = _interopRequireDefault(__webpack_require__(/*! object-assign */ "./node_modules/object-assign/index.js"));

var _offsitePaymentInitializer = _interopRequireDefault(__webpack_require__(/*! ../payment/offsite-payment-initializer */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/offsite-payment-initializer.js"));

var _paymentSubmitter = _interopRequireDefault(__webpack_require__(/*! ../payment/payment-submitter */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/payment-submitter.js"));

var _clientTokenGenerator = _interopRequireDefault(__webpack_require__(/*! ../payment/client-token-generator */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/client-token-generator.js"));

var _storeRequestSender = _interopRequireDefault(__webpack_require__(/*! ../store/store-request-sender */ "./node_modules/@bigcommerce/bigpay-client/lib/store/store-request-sender.js"));

var _defaultConfig = _interopRequireDefault(__webpack_require__(/*! ./default-config */ "./node_modules/@bigcommerce/bigpay-client/lib/client/default-config.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var Client = /*#__PURE__*/function () {
  _createClass(Client, null, [{
    key: "create",

    /**
     * @param {Object} config
     * @returns {Client}
     */
    value: function create(config) {
      var clientConfig = (0, _objectAssign.default)({}, _defaultConfig.default, config);

      var offsitePaymentInitializer = _offsitePaymentInitializer.default.create(clientConfig);

      var paymentSubmitter = _paymentSubmitter.default.create(clientConfig);

      var clientTokenGenerator = _clientTokenGenerator.default.create(clientConfig);

      var storeRequestSender = _storeRequestSender.default.create(clientConfig);

      return new Client(clientConfig, paymentSubmitter, offsitePaymentInitializer, clientTokenGenerator, storeRequestSender);
    }
    /**
     * @param {Object} config
     * @param {PaymentSubmitter} paymentSubmitter
     * @param {OffsitePaymentInitializer} offsitePaymentInitializer
     * @param {ClientTokenGenerator} clientTokenGenerator
     * @param {StoreRequestSender} storeRequestSender
     */

  }]);

  function Client(config, paymentSubmitter, offsitePaymentInitializer, clientTokenGenerator, storeRequestSender) {
    _classCallCheck(this, Client);

    /**
     * @private
     * @type {Object}
     */
    this.config = config;
    /**
     * @private
     * @type {PaymentSubmitter}
     */

    this.paymentSubmitter = paymentSubmitter;
    /**
     * @private
     * @type {OffsitePaymentInitializer}
     */

    this.offsitePaymentInitializer = offsitePaymentInitializer;
    /**
     * @private
     * @type {ClientTokenGenerator}
     */

    this.clientTokenGenerator = clientTokenGenerator;
    /**
     * @private
     * @type {StoreRequestSender}
     */

    this.storeRequestSender = storeRequestSender;
  }
  /**
   * @param {string} host
   * @returns {void}
   */


  _createClass(Client, [{
    key: "setHost",
    value: function setHost(host) {
      this.config.host = host;
    }
    /**
     * @param {PaymentRequestData} data
     * @param {Function} [callback]
     * @param {string} target
     * @returns {void}
     */

  }, {
    key: "initializeOffsitePayment",
    value: function initializeOffsitePayment(data, callback, target) {
      this.offsitePaymentInitializer.initializeOffsitePayment(data, callback, target);
    }
    /**
     * @param {PaymentRequestData} data
     * @param {Function} [callback]
     * @returns {void}
     */

  }, {
    key: "submitPayment",
    value: function submitPayment(data, callback) {
      this.paymentSubmitter.submitPayment(data, callback);
    }
    /**
     * @param {PaymentRequestData} data
     * @param {Function} [callback]
     * @returns {void}
     */

  }, {
    key: "generateClientToken",
    value: function generateClientToken(data, callback) {
      this.clientTokenGenerator.generateClientToken(data, callback);
    }
    /**
     * @param {Object} data
     * @param {string} data.storeId
     * @param {string} data.customerId
     * @param {string} data.currencyCode
     * @param {Function} [callback]
     * @return {void}
     */

  }, {
    key: "loadInstruments",
    value: function loadInstruments(data, callback) {
      this.storeRequestSender.loadInstruments(data, callback);
    }
    /**
     * @param {Object} data
     * @param {string} data.storeId
     * @param {string} data.customerId
     * @param {string} data.currencyCode
     * @param {AddressData} data.shippingAddress
     * @param {Function} [callback]
     * @return {void}
     */

  }, {
    key: "loadInstrumentsWithAddress",
    value: function loadInstrumentsWithAddress(data, callback) {
      this.storeRequestSender.loadInstrumentsWithAddress(data, callback);
    }
    /**
     * @param {Object} data
     * @param {string} data.storeId
     * @param {string} data.customerId
     * @param {string} data.instrumentId
     * @param {string} data.currencyCode
     * @param {Function} [callback]
     * @return {void}
     */

  }, {
    key: "deleteShopperInstrument",
    value: function deleteShopperInstrument(data, callback) {
      this.storeRequestSender.deleteShopperInstrument(data, callback);
    }
  }]);

  return Client;
}();

exports.default = Client;
//# sourceMappingURL=client.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/client/default-config.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/client/default-config.js ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var DEFAULT_CONFIG = {
  host: ''
};
var _default = DEFAULT_CONFIG;
exports.default = _default;
//# sourceMappingURL=default-config.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/content-types.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/content-types.js ***!
  \******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.APPLICATION_JSON = void 0;
var APPLICATION_JSON = 'application/json';
exports.APPLICATION_JSON = APPLICATION_JSON;
//# sourceMappingURL=content-types.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/default-options.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/default-options.js ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _contentTypes = __webpack_require__(/*! ./content-types */ "./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/content-types.js");

var _methodTypes = __webpack_require__(/*! ./method-types */ "./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/method-types.js");

var DEFAULT_OPTIONS = {
  headers: {
    Accept: _contentTypes.APPLICATION_JSON,
    'Content-Type': _contentTypes.APPLICATION_JSON
  },
  method: _methodTypes.GET
};
var _default = DEFAULT_OPTIONS;
exports.default = _default;
//# sourceMappingURL=default-options.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/method-types.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/method-types.js ***!
  \*****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.DELETE = exports.POST = exports.GET = void 0;
var GET = 'GET';
exports.GET = GET;
var POST = 'POST';
exports.POST = POST;
var DELETE = 'DELETE';
exports.DELETE = DELETE;
//# sourceMappingURL=method-types.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/payload-transformer.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/payload-transformer.js ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _objectAssign2 = _interopRequireDefault(__webpack_require__(/*! object-assign */ "./node_modules/object-assign/index.js"));

var _contentTypes = __webpack_require__(/*! ./content-types */ "./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/content-types.js");

var _utils = __webpack_require__(/*! ../utils */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/index.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var PayloadTransformer = /*#__PURE__*/function () {
  function PayloadTransformer() {
    _classCallCheck(this, PayloadTransformer);
  }

  _createClass(PayloadTransformer, [{
    key: "toRequest",

    /**
     * @param {Object} data
     * @param {string} [contentType = APPLICATION_JSON]
     * @returns {Object}
     */
    value: function toRequest(data) {
      var contentType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _contentTypes.APPLICATION_JSON;

      if (data && (0, _utils.includes)(contentType, _contentTypes.APPLICATION_JSON)) {
        return JSON.stringify(data);
      }

      return data;
    }
    /**
     * @param {XMLHttpRequest} xhr
     * @returns {Object}
     * @property {Object} data
     * @property {number} status
     * @property {string} statusText
     */

  }, {
    key: "fromResponse",
    value: function fromResponse(xhr) {
      var headers = this.parseResponseHeaders(xhr.getAllResponseHeaders());
      var contentType = xhr.getResponseHeader('Content-Type');
      var status = xhr.status,
          statusText = xhr.statusText;
      var data = 'response' in xhr ? xhr.response : xhr.responseText;

      if (data && (0, _utils.includes)(contentType, _contentTypes.APPLICATION_JSON)) {
        data = JSON.parse(data);
      }

      return {
        data: data,
        headers: headers,
        status: status,
        statusText: statusText
      };
    }
    /**
     * @private
     * @param {string} rawHeaders
     * @returns {Object}
     */

  }, {
    key: "parseResponseHeaders",
    value: function parseResponseHeaders(rawHeaders) {
      var lines = rawHeaders ? rawHeaders.replace(/\r?\n[\t ]+/g, ' ').split(/\r?\n/) : [];
      return lines.reduce(function (headers, line) {
        var parts = line.split(':');
        var key = (parts.shift() || '').trim();

        if (!key) {
          return headers;
        }

        return (0, _objectAssign2.default)({}, headers, _defineProperty({}, key.toLowerCase(), parts.join(':').trim()));
      }, {});
    }
  }], [{
    key: "create",

    /**
     * @returns {PayloadTransformer}
     */
    value: function create() {
      return new PayloadTransformer();
    }
  }]);

  return PayloadTransformer;
}();

exports.default = PayloadTransformer;
//# sourceMappingURL=payload-transformer.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/request-factory.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/request-factory.js ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var RequestFactory = /*#__PURE__*/function () {
  function RequestFactory() {
    _classCallCheck(this, RequestFactory);
  }

  _createClass(RequestFactory, [{
    key: "createRequest",

    /**
     * @param {string} url
     * @param {Object} options
     * @param {Function} [callback]
     * @returns {XMLHttpRequest}
     */
    value: function createRequest(url, options, callback) {
      var xhr = new XMLHttpRequest();

      xhr.onerror = function () {
        if (callback) {
          callback(new Error(xhr.statusText));
        }
      };

      xhr.onload = function () {
        if (callback) {
          callback();
        }
      };

      xhr.open(options.method, url, true);
      this.setOptions(xhr, options);
      return xhr;
    }
    /**
     * @private
     * @param {XMLHttpRequest} xhr
     * @param {Object} headers
     * @returns {void}
     */

  }, {
    key: "setHeaders",
    value: function setHeaders(xhr, headers) {
      var headerKeys = Object.keys(headers);
      headerKeys.forEach(function (key) {
        var value = headers[key];
        xhr.setRequestHeader(key, value);
      });
    }
    /**
     * @private
     * @param {XMLHttpRequest} xhr
     * @param {Object} options
     * @returns {void}
     */

  }, {
    key: "setOptions",
    value: function setOptions(xhr, options) {
      xhr.withCredentials = options.withCredentials;

      if (options.headers) {
        this.setHeaders(xhr, options.headers);
      }
    }
  }], [{
    key: "create",

    /**
     * @returns {RequestFactory}
     */
    value: function create() {
      return new RequestFactory();
    }
  }]);

  return RequestFactory;
}();

exports.default = RequestFactory;
//# sourceMappingURL=request-factory.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/request-sender.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/request-sender.js ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _deepAssign = _interopRequireDefault(__webpack_require__(/*! deep-assign */ "./node_modules/deep-assign/index.js"));

var _objectAssign = _interopRequireDefault(__webpack_require__(/*! object-assign */ "./node_modules/object-assign/index.js"));

var _methodTypes = __webpack_require__(/*! ./method-types */ "./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/method-types.js");

var _defaultOptions = _interopRequireDefault(__webpack_require__(/*! ./default-options */ "./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/default-options.js"));

var _payloadTransformer = _interopRequireDefault(__webpack_require__(/*! ./payload-transformer */ "./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/payload-transformer.js"));

var _requestFactory = _interopRequireDefault(__webpack_require__(/*! ./request-factory */ "./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/request-factory.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var RequestSender = /*#__PURE__*/function () {
  _createClass(RequestSender, null, [{
    key: "create",

    /**
     * @returns {RequestSender}
     */
    value: function create() {
      var requestFactory = _requestFactory.default.create();

      var payloadTransformer = _payloadTransformer.default.create();

      return new RequestSender(requestFactory, payloadTransformer);
    }
    /**
     * @param {RequestFactory} requestFactory
     * @param {PayloadTransformer} payloadTransformer
     */

  }]);

  function RequestSender(requestFactory, payloadTransformer) {
    _classCallCheck(this, RequestSender);

    /**
     * @private
     * @type {RequestFactory}
     */
    this.requestFactory = requestFactory;
    /**
     * @private
     * @type {PayloadTransformer}
     */

    this.payloadTransformer = payloadTransformer;
  }
  /**
   * @param {string} url
   * @param {Object} data
   * @param {Object} [options]
   * @param {Function} [callback]
   * @returns {void}
   */


  _createClass(RequestSender, [{
    key: "sendRequest",
    value: function sendRequest(url, data, options, callback) {
      var _this = this;

      var mergedOptions = (0, _deepAssign.default)({}, _defaultOptions.default, options);
      var xhr = this.requestFactory.createRequest(url, mergedOptions, function (error) {
        var response = _this.payloadTransformer.fromResponse(xhr);

        if (!callback) {
          return;
        }

        if (error || !_this.isSuccessfulRequest(xhr)) {
          callback(response);
          return;
        }

        callback(null, response);
      });
      var payload = this.payloadTransformer.toRequest(data, mergedOptions.headers['Content-Type']);
      xhr.send(payload);
    }
    /**
     * @param {string} url
     * @param {Object} data
     * @param {Object} [options]
     * @param {Function} [callback]
     * @returns {void}
     */

  }, {
    key: "postRequest",
    value: function postRequest(url, data, options, callback) {
      var mergedOptions = (0, _objectAssign.default)({}, options, {
        method: _methodTypes.POST
      });
      this.sendRequest(url, data, mergedOptions, callback);
    }
    /**
     * @private
     * @param {XMLHttpRequest} xhr
     * @returns {boolean}
     */

  }, {
    key: "isSuccessfulRequest",
    value: function isSuccessfulRequest(xhr) {
      return xhr.status >= 200 && xhr.status < 300;
    }
  }]);

  return RequestSender;
}();

exports.default = RequestSender;
//# sourceMappingURL=request-sender.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/includes.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/common/utils/includes.js ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = includes;

/**
 * @param {array|string} items
 * @param {array|string} item
 * @returns {boolean}
 */
function includes(items, item) {
  if (!Array.isArray(items) && typeof items !== 'string') {
    return false;
  }

  return items.indexOf(item) !== -1;
}
//# sourceMappingURL=includes.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/index.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/common/utils/index.js ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
Object.defineProperty(exports, "includes", {
  enumerable: true,
  get: function get() {
    return _includes.default;
  }
});
Object.defineProperty(exports, "isNil", {
  enumerable: true,
  get: function get() {
    return _isNil.default;
  }
});
Object.defineProperty(exports, "isObject", {
  enumerable: true,
  get: function get() {
    return _isObject.default;
  }
});
Object.defineProperty(exports, "omitEmptyStringAndNil", {
  enumerable: true,
  get: function get() {
    return _omitEmptystringAndNil.default;
  }
});
Object.defineProperty(exports, "omitNil", {
  enumerable: true,
  get: function get() {
    return _omitNil.default;
  }
});
Object.defineProperty(exports, "omitProperty", {
  enumerable: true,
  get: function get() {
    return _omitProperty.default;
  }
});
Object.defineProperty(exports, "toNumber", {
  enumerable: true,
  get: function get() {
    return _toNumber.default;
  }
});
Object.defineProperty(exports, "toSnakeCase", {
  enumerable: true,
  get: function get() {
    return _toSnakeCase.default;
  }
});
Object.defineProperty(exports, "toString", {
  enumerable: true,
  get: function get() {
    return _toString.default;
  }
});

var _includes = _interopRequireDefault(__webpack_require__(/*! ./includes */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/includes.js"));

var _isNil = _interopRequireDefault(__webpack_require__(/*! ./is-nil */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/is-nil.js"));

var _isObject = _interopRequireDefault(__webpack_require__(/*! ./is-object */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/is-object.js"));

var _omitEmptystringAndNil = _interopRequireDefault(__webpack_require__(/*! ./omit-emptystring-and-nil */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/omit-emptystring-and-nil.js"));

var _omitNil = _interopRequireDefault(__webpack_require__(/*! ./omit-nil */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/omit-nil.js"));

var _omitProperty = _interopRequireDefault(__webpack_require__(/*! ./omit-property */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/omit-property.js"));

var _toNumber = _interopRequireDefault(__webpack_require__(/*! ./to-number */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/to-number.js"));

var _toSnakeCase = _interopRequireDefault(__webpack_require__(/*! ./to-snake-case */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/to-snake-case.js"));

var _toString = _interopRequireDefault(__webpack_require__(/*! ./to-string */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/to-string.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/is-empty-string.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/common/utils/is-empty-string.js ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = isEmptyString;

/**
 * @param {*} value
 * @returns {boolean}
 */
function isEmptyString(value) {
  return value === '';
}
//# sourceMappingURL=is-empty-string.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/is-emptystring-or-nil.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/common/utils/is-emptystring-or-nil.js ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = isEmptyStringOrNil;

var _isEmptyString = _interopRequireDefault(__webpack_require__(/*! ./is-empty-string */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/is-empty-string.js"));

var _isNil = _interopRequireDefault(__webpack_require__(/*! ./is-nil */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/is-nil.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @param {*} value
 * @returns {boolean}
 */
function isEmptyStringOrNil(value) {
  return (0, _isEmptyString.default)(value) || (0, _isNil.default)(value);
}
//# sourceMappingURL=is-emptystring-or-nil.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/is-nil.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/common/utils/is-nil.js ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = isNil;

/**
 * @param {*} value
 * @returns {boolean}
 */
function isNil(value) {
  if (value === null || value === undefined) {
    return true;
  }

  return false;
}
//# sourceMappingURL=is-nil.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/is-object.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/common/utils/is-object.js ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = isObject;

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/**
 * @param {*} value
 * @returns {boolean}
 */
function isObject(value) {
  return value !== null && _typeof(value) === 'object' && !Array.isArray(value);
}
//# sourceMappingURL=is-object.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/omit-emptystring-and-nil.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/common/utils/omit-emptystring-and-nil.js ***!
  \**********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = omitEmptyStringAndNil;

var _isEmptystringOrNil = _interopRequireDefault(__webpack_require__(/*! ./is-emptystring-or-nil */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/is-emptystring-or-nil.js"));

var _omitProperty = _interopRequireDefault(__webpack_require__(/*! ./omit-property */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/omit-property.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @param {Object} object
 * @returns {Object}
 */
function omitEmptyStringAndNil(object) {
  return (0, _omitProperty.default)(object, _isEmptystringOrNil.default);
}
//# sourceMappingURL=omit-emptystring-and-nil.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/omit-nil.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/common/utils/omit-nil.js ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = omitNil;

var _isNil = _interopRequireDefault(__webpack_require__(/*! ./is-nil */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/is-nil.js"));

var _omitProperty = _interopRequireDefault(__webpack_require__(/*! ./omit-property */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/omit-property.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @param {Object} object
 * @returns {Object}
 */
function omitNil(object) {
  return (0, _omitProperty.default)(object, _isNil.default);
}
//# sourceMappingURL=omit-nil.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/omit-property.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/common/utils/omit-property.js ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = omitProperty;

var _isObject = _interopRequireDefault(__webpack_require__(/*! ./is-object */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/is-object.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @param {Object} object
 * @param {Function} predicateFn
 * @returns {Object}
 */
function omitProperty(object, predicateFn) {
  if (!(0, _isObject.default)(object)) {
    return object;
  }

  var keys = Object.keys(object);
  return keys.reduce(function (result, key) {
    var value = object[key];

    if (!predicateFn(value)) {
      result[key] = value;
    }

    return result;
  }, {});
}
//# sourceMappingURL=omit-property.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/to-number.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/common/utils/to-number.js ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = toNumber;

/**
 * @param {*} value
 * @returns {number}
 */
function toNumber(value) {
  return parseFloat(value) || 0;
}
//# sourceMappingURL=to-number.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/to-snake-case.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/common/utils/to-snake-case.js ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = toSnakeCase;

/**
 * @param {string} string
 * @returns {string}
 */
function toSnakeCase(string) {
  if (typeof string !== 'string') {
    return string;
  }

  return string.replace(/([a-z\d])([A-Z]+)/g, '$1_$2').replace(/[-\s]+/g, '_').toLowerCase();
}
//# sourceMappingURL=to-snake-case.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/to-string.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/common/utils/to-string.js ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = toString;

/**
 * @param {*} value
 * @returns {string}
 */
function toString(value) {
  if (typeof value === 'string') {
    return value;
  }

  if (typeof value === 'number' && !Number.isNaN(value)) {
    return value.toString();
  }

  return '';
}
//# sourceMappingURL=to-string.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/index.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createClient = createClient;

var _client = _interopRequireDefault(__webpack_require__(/*! ./client/client */ "./node_modules/@bigcommerce/bigpay-client/lib/client/client.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @param {Object} [config]
 * @returns {Client}
 */
function createClient(config) {
  return _client.default.create(config);
}
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/client-token-generator.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/client-token-generator.js ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _requestSender = _interopRequireDefault(__webpack_require__(/*! ../common/http-request/request-sender */ "./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/request-sender.js"));

var _clientTokenMapper = _interopRequireDefault(__webpack_require__(/*! ./v2/payment-mappers/client-token-mapper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v2/payment-mappers/client-token-mapper.js"));

var _urlHelper = _interopRequireDefault(__webpack_require__(/*! ./url-helper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/url-helper.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var ClientTokenGenerator = /*#__PURE__*/function () {
  _createClass(ClientTokenGenerator, null, [{
    key: "create",

    /**
     * @param {Object} config
     * @returns {PaymentSubmitter}
     */
    value: function create(config) {
      var urlHelper = _urlHelper.default.create(config);

      var requestSender = _requestSender.default.create();

      var clientTokenMapper = _clientTokenMapper.default.create();

      return new ClientTokenGenerator(urlHelper, requestSender, clientTokenMapper);
    }
    /**
     * @param {UrlHelper} urlHelper
     * @param {RequestSender} requestSender
     * @param {ClientTokenMapper} clientTokenMapper
     * @returns {void}
     */

  }]);

  function ClientTokenGenerator(urlHelper, requestSender, clientTokenMapper) {
    _classCallCheck(this, ClientTokenGenerator);

    /**
     * @private
     * @type {UrlHelper}
     */
    this.urlHelper = urlHelper;
    /**
     * @private
     * @type {RequestSender}
     */

    this.requestSender = requestSender;
    /**
     * @private
     * @type {ClientTokenMapper}
     */

    this.clientTokenMapper = clientTokenMapper;
  }
  /**
   * @param {PaymentRequestData} data
   * @param {Function} [callback]
   * @returns {void}
   */


  _createClass(ClientTokenGenerator, [{
    key: "generateClientToken",
    value: function generateClientToken(data, callback) {
      var url = this.urlHelper.getGenerateClientTokenUrl();
      var payload = this.clientTokenMapper.mapToClientToken(data);
      this.requestSender.postRequest(url, payload, {}, callback);
    }
  }]);

  return ClientTokenGenerator;
}();

exports.default = ClientTokenGenerator;
//# sourceMappingURL=client-token-generator.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/offsite-payment-initializer.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/offsite-payment-initializer.js ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _formPoster = __webpack_require__(/*! @bigcommerce/form-poster */ "./node_modules/@bigcommerce/form-poster/lib/index.js");

var _paymentTypes = __webpack_require__(/*! ./payment-types */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/payment-types.js");

var _payloadMapper = _interopRequireDefault(__webpack_require__(/*! ./offsite-payment-mappers/payload-mapper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/offsite-payment-mappers/payload-mapper.js"));

var _urlHelper = _interopRequireDefault(__webpack_require__(/*! ./url-helper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/url-helper.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var OffsitePaymentInitializer = /*#__PURE__*/function () {
  _createClass(OffsitePaymentInitializer, null, [{
    key: "create",

    /**
     * @param {Object} config
     * @returns {OffsitePaymentInitializer}
     */
    value: function create(config) {
      var urlHelper = _urlHelper.default.create(config);

      var formPoster = (0, _formPoster.createFormPoster)();

      var payloadMapper = _payloadMapper.default.create();

      return new OffsitePaymentInitializer(urlHelper, formPoster, payloadMapper);
    }
    /**
     * @param {UrlHelper} urlHelper
     * @param {FormPoster} formPoster
     * @param {PayloadMapper} payloadMapper
     * @returns {void}
     */

  }]);

  function OffsitePaymentInitializer(urlHelper, formPoster, payloadMapper) {
    _classCallCheck(this, OffsitePaymentInitializer);

    /**
     * @private
     * @type {UrlHelper}
     */
    this.urlHelper = urlHelper;
    /**
     * @private
     * @type {FormPoster}
     */

    this.formPoster = formPoster;
    /**
     * @private
     * @type {PayloadMapper}
     */

    this.payloadMapper = payloadMapper;
  }
  /**
   * @param {PaymentRequestData} data
   * @param {Function} [callback]
   * @param {string} target
   * @returns {void}
   * @throws {Error}
   */


  _createClass(OffsitePaymentInitializer, [{
    key: "initializeOffsitePayment",
    value: function initializeOffsitePayment(data, callback, target) {
      var _data$paymentMethod = data.paymentMethod,
          paymentMethod = _data$paymentMethod === void 0 ? {} : _data$paymentMethod;

      if (paymentMethod.type !== _paymentTypes.HOSTED) {
        throw new Error("".concat(paymentMethod.type, " is not supported."));
      }

      var payload = this.payloadMapper.mapToPayload(data);
      var url = this.urlHelper.getOffsitePaymentUrl();
      this.formPoster.postForm(url, payload, callback, target);
    }
  }]);

  return OffsitePaymentInitializer;
}();

exports.default = OffsitePaymentInitializer;
//# sourceMappingURL=offsite-payment-initializer.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/offsite-payment-mappers/address-mapper.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/offsite-payment-mappers/address-mapper.js ***!
  \*******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _utils = __webpack_require__(/*! ../../common/utils */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/index.js");

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var AddressMapper = /*#__PURE__*/function () {
  function AddressMapper() {
    _classCallCheck(this, AddressMapper);
  }

  _createClass(AddressMapper, [{
    key: "mapToBillingAddress",

    /**
     * @param {PaymentRequestData} data
     * @returns {Object}
     */
    value: function mapToBillingAddress(data) {
      return this.mapToAddress(data, 'billingAddress');
    }
    /**
     * @param {PaymentRequestData} data
     * @returns {Object}
     */

  }, {
    key: "mapToShippingAddress",
    value: function mapToShippingAddress(data) {
      return this.mapToAddress(data, 'shippingAddress');
    }
    /**
     * @private
     * @param {PaymentRequestData} data
     * @param {string} addressKey
     * @returns {Object}
     */

  }, {
    key: "mapToAddress",
    value: function mapToAddress(data, addressKey) {
      var _omitNil;

      var address = data[addressKey] || {};
      var formattedAddressKey = (0, _utils.toSnakeCase)(addressKey);
      return (0, _utils.omitNil)((_omitNil = {}, _defineProperty(_omitNil, "".concat(formattedAddressKey, "_city"), address.city), _defineProperty(_omitNil, "".concat(formattedAddressKey, "_company"), address.company), _defineProperty(_omitNil, "".concat(formattedAddressKey, "_country_code"), address.countryCode), _defineProperty(_omitNil, "".concat(formattedAddressKey, "_country"), address.country), _defineProperty(_omitNil, "".concat(formattedAddressKey, "_first_name"), address.firstName), _defineProperty(_omitNil, "".concat(formattedAddressKey, "_last_name"), address.lastName), _defineProperty(_omitNil, "".concat(formattedAddressKey, "_phone"), address.phone), _defineProperty(_omitNil, "".concat(formattedAddressKey, "_state_code"), address.provinceCode), _defineProperty(_omitNil, "".concat(formattedAddressKey, "_state"), address.province), _defineProperty(_omitNil, "".concat(formattedAddressKey, "_street_1"), address.addressLine1), _defineProperty(_omitNil, "".concat(formattedAddressKey, "_street_2"), address.addressLine2), _defineProperty(_omitNil, "".concat(formattedAddressKey, "_zip"), address.postCode), _omitNil));
    }
  }], [{
    key: "create",

    /**
     * @returns {AddressMapper}
     */
    value: function create() {
      return new AddressMapper();
    }
  }]);

  return AddressMapper;
}();

exports.default = AddressMapper;
//# sourceMappingURL=address-mapper.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/offsite-payment-mappers/customer-mapper.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/offsite-payment-mappers/customer-mapper.js ***!
  \********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _utils = __webpack_require__(/*! ../../common/utils */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/index.js");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var CustomerMapper = /*#__PURE__*/function () {
  function CustomerMapper() {
    _classCallCheck(this, CustomerMapper);
  }

  _createClass(CustomerMapper, [{
    key: "mapToCustomer",

    /**
     * @param {PaymentRequestData} data
     * @returns {Object}
     */
    value: function mapToCustomer(data) {
      var _data$customer = data.customer,
          customer = _data$customer === void 0 ? {} : _data$customer,
          _data$quoteMeta = data.quoteMeta,
          quoteMeta = _data$quoteMeta === void 0 ? {} : _data$quoteMeta,
          _data$store = data.store,
          store = _data$store === void 0 ? {} : _data$store;
      return (0, _utils.omitNil)({
        customer_browser_info: navigator.userAgent,
        customer_email: customer.email,
        customer_first_name: customer.firstName,
        customer_geo_ip_country_code: quoteMeta.request ? quoteMeta.request.geoCountryCode : null,
        customer_id: customer.customerId,
        customer_last_name: customer.lastName,
        customer_locale: store.storeLanguage,
        customer_name: customer.name,
        customer_phone: customer.phoneNumber,
        customer_reference: customer.email
      });
    }
  }], [{
    key: "create",

    /**
     * @returns {CustomerMapper}
     */
    value: function create() {
      return new CustomerMapper();
    }
  }]);

  return CustomerMapper;
}();

exports.default = CustomerMapper;
//# sourceMappingURL=customer-mapper.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/offsite-payment-mappers/meta-mapper.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/offsite-payment-mappers/meta-mapper.js ***!
  \****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _utils = __webpack_require__(/*! ../../common/utils */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/index.js");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var MetaMapper = /*#__PURE__*/function () {
  function MetaMapper() {
    _classCallCheck(this, MetaMapper);
  }

  _createClass(MetaMapper, [{
    key: "mapToMeta",

    /**
     * @param {PaymentRequestData} data
     * @returns {Object}
     */
    value: function mapToMeta(data) {
      var source = data.source;
      return (0, _utils.omitNil)({
        meta_referrer: document.referrer,
        meta_source: source,
        meta_user_agent: navigator.userAgent
      });
    }
  }], [{
    key: "create",

    /**
     * @returns {MetaMapper}
     */
    value: function create() {
      return new MetaMapper();
    }
  }]);

  return MetaMapper;
}();

exports.default = MetaMapper;
//# sourceMappingURL=meta-mapper.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/offsite-payment-mappers/payload-mapper.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/offsite-payment-mappers/payload-mapper.js ***!
  \*******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _objectAssign = _interopRequireDefault(__webpack_require__(/*! object-assign */ "./node_modules/object-assign/index.js"));

var _utils = __webpack_require__(/*! ../../common/utils */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/index.js");

var _addressMapper = _interopRequireDefault(__webpack_require__(/*! ./address-mapper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/offsite-payment-mappers/address-mapper.js"));

var _customerMapper = _interopRequireDefault(__webpack_require__(/*! ./customer-mapper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/offsite-payment-mappers/customer-mapper.js"));

var _metaMapper = _interopRequireDefault(__webpack_require__(/*! ./meta-mapper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/offsite-payment-mappers/meta-mapper.js"));

var _paymentMethodIdMapper = _interopRequireDefault(__webpack_require__(/*! ../payment-method-mappers/payment-method-id-mapper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/payment-method-mappers/payment-method-id-mapper.js"));

var _storeMapper = _interopRequireDefault(__webpack_require__(/*! ./store-mapper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/offsite-payment-mappers/store-mapper.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var PayloadMapper = /*#__PURE__*/function () {
  _createClass(PayloadMapper, null, [{
    key: "create",

    /**
     * @returns {PayloadMapper}
     */
    value: function create() {
      var addressMapper = _addressMapper.default.create();

      var customerMapper = _customerMapper.default.create();

      var metaMapper = _metaMapper.default.create();

      var paymentMethodIdMapper = _paymentMethodIdMapper.default.create();

      var storeMapper = _storeMapper.default.create();

      return new PayloadMapper(addressMapper, customerMapper, metaMapper, paymentMethodIdMapper, storeMapper);
    }
    /**
     * @param {AddressMapper} addressMapper
     * @param {CustomerMapper} customerMapper
     * @param {MetaMapper} metaMapper
     * @param {PaymentMethodIdMapper} paymentMethodIdMapper
     * @param {StoreMapper} storeMapper
     * @returns {Object}
     */

  }]);

  function PayloadMapper(addressMapper, customerMapper, metaMapper, paymentMethodIdMapper, storeMapper) {
    _classCallCheck(this, PayloadMapper);

    /**
     * @private
     * @type {AddressMapper}
     */
    this.addressMapper = addressMapper;
    /**
     * @private
     * @type {CustomerMapper}
     */

    this.customerMapper = customerMapper;
    /**
     * @private
     * @type {MetaMapper}
     */

    this.metaMapper = metaMapper;
    /**
     * @private
     * @type {PaymentMethodIdMapper}
     */

    this.paymentMethodIdMapper = paymentMethodIdMapper;
    /**
     * @private
     * @type {StoreMapper}
     */

    this.storeMapper = storeMapper;
  }
  /**
   * @param {PaymentRequestData} data
   * @returns {Object}
   */


  _createClass(PayloadMapper, [{
    key: "mapToPayload",
    value: function mapToPayload(data) {
      var authToken = data.authToken,
          _data$order = data.order,
          order = _data$order === void 0 ? {} : _data$order,
          _data$payment = data.payment,
          payment = _data$payment === void 0 ? {} : _data$payment,
          _data$paymentMethod = data.paymentMethod,
          paymentMethod = _data$paymentMethod === void 0 ? {} : _data$paymentMethod;
      var payload = (0, _objectAssign.default)({
        amount: order.grandTotal ? order.grandTotal.integerAmount : null,
        bc_auth_token: authToken,
        currency: order.currency,
        gateway: this.paymentMethodIdMapper.mapToId(paymentMethod),
        notify_url: order.callbackUrl,
        order_id: order.orderId ? (0, _utils.toString)(order.orderId) : null,
        page_title: document.title ? document.title : null,
        payment_method_id: paymentMethod.id,
        reference_id: order.orderId ? (0, _utils.toString)(order.orderId) : null,
        return_url: paymentMethod.returnUrl || (order.payment ? order.payment.returnUrl : null)
      }, this.addressMapper.mapToBillingAddress(data), this.customerMapper.mapToCustomer(data), this.metaMapper.mapToMeta(data), this.addressMapper.mapToShippingAddress(data), this.storeMapper.mapToStore(data));
      var _payment$formattedPay = payment.formattedPayload,
          formattedPayload = _payment$formattedPay === void 0 ? {} : _payment$formattedPay;
      (0, _objectAssign.default)(payload, formattedPayload);
      return (0, _utils.omitNil)(payload);
    }
  }]);

  return PayloadMapper;
}();

exports.default = PayloadMapper;
//# sourceMappingURL=payload-mapper.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/offsite-payment-mappers/store-mapper.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/offsite-payment-mappers/store-mapper.js ***!
  \*****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _utils = __webpack_require__(/*! ../../common/utils */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/index.js");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var StoreMapper = /*#__PURE__*/function () {
  function StoreMapper() {
    _classCallCheck(this, StoreMapper);
  }

  _createClass(StoreMapper, [{
    key: "mapToStore",

    /**
     * @param {PaymentRequestData} data
     * @returns {Object}
     */
    value: function mapToStore(data) {
      var _data$store = data.store,
          store = _data$store === void 0 ? {} : _data$store;
      return (0, _utils.omitNil)({
        store_hash: store.storeHash,
        store_id: store.storeId ? (0, _utils.toString)(store.storeId) : null
      });
    }
  }], [{
    key: "create",

    /**
     * @returns {StoreMapper}
     */
    value: function create() {
      return new StoreMapper();
    }
  }]);

  return StoreMapper;
}();

exports.default = StoreMapper;
//# sourceMappingURL=store-mapper.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/payment-method-ids.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/payment-method-ids.js ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PAYPAL_COMMERCE_CREDIT_CARDS = exports.PAYPAL_COMMERCE_CREDIT = exports.PAYPAL_COMMERCE_ALTERNATIVE_METHODS = exports.PAYPAL_COMMERCE = exports.BRAINTREE_GOOGLEPAY = exports.BRAINTREE_VISACHECKOUT = exports.BRAINTREE_PAYPAL_CREDIT = exports.BRAINTREE_PAYPAL = exports.BRAINTREE = void 0;
var BRAINTREE = 'braintree';
exports.BRAINTREE = BRAINTREE;
var BRAINTREE_PAYPAL = 'braintreepaypal';
exports.BRAINTREE_PAYPAL = BRAINTREE_PAYPAL;
var BRAINTREE_PAYPAL_CREDIT = 'braintreepaypalcredit';
exports.BRAINTREE_PAYPAL_CREDIT = BRAINTREE_PAYPAL_CREDIT;
var BRAINTREE_VISACHECKOUT = 'braintreevisacheckout';
exports.BRAINTREE_VISACHECKOUT = BRAINTREE_VISACHECKOUT;
var BRAINTREE_GOOGLEPAY = 'googlepaybraintree';
exports.BRAINTREE_GOOGLEPAY = BRAINTREE_GOOGLEPAY;
var PAYPAL_COMMERCE = 'paypalcommerce';
exports.PAYPAL_COMMERCE = PAYPAL_COMMERCE;
var PAYPAL_COMMERCE_ALTERNATIVE_METHODS = 'paypalcommercealternativemethods';
exports.PAYPAL_COMMERCE_ALTERNATIVE_METHODS = PAYPAL_COMMERCE_ALTERNATIVE_METHODS;
var PAYPAL_COMMERCE_CREDIT = 'paypalcommercecredit';
exports.PAYPAL_COMMERCE_CREDIT = PAYPAL_COMMERCE_CREDIT;
var PAYPAL_COMMERCE_CREDIT_CARDS = 'paypalcommercecreditcards';
exports.PAYPAL_COMMERCE_CREDIT_CARDS = PAYPAL_COMMERCE_CREDIT_CARDS;
//# sourceMappingURL=payment-method-ids.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/payment-method-mappers/payment-method-id-mapper.js":
/*!****************************************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/payment-method-mappers/payment-method-id-mapper.js ***!
  \****************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _paymentMethodTypes = __webpack_require__(/*! ../payment-method-types */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/payment-method-types.js");

var _paymentMethodIds = __webpack_require__(/*! ../payment-method-ids */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/payment-method-ids.js");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

/**
 * @param {string} id
 * @return {Boolean}
 */
function isBraintreePaymentMethod(id) {
  switch (id) {
    case _paymentMethodIds.BRAINTREE_PAYPAL:
    case _paymentMethodIds.BRAINTREE_PAYPAL_CREDIT:
    case _paymentMethodIds.BRAINTREE_VISACHECKOUT:
    case _paymentMethodIds.BRAINTREE_GOOGLEPAY:
      return true;

    default:
      return false;
  }
}
/**
 * @param {string} id
 * @return {Boolean}
 */


function isPaypalCommercePaymentMethod(id) {
  switch (id) {
    case _paymentMethodIds.PAYPAL_COMMERCE_CREDIT:
    case _paymentMethodIds.PAYPAL_COMMERCE_CREDIT_CARDS:
    case _paymentMethodIds.PAYPAL_COMMERCE_ALTERNATIVE_METHODS:
      return true;

    default:
      return false;
  }
}

var PaymentMethodIdMapper = /*#__PURE__*/function () {
  function PaymentMethodIdMapper() {
    _classCallCheck(this, PaymentMethodIdMapper);
  }

  _createClass(PaymentMethodIdMapper, [{
    key: "mapToId",

    /**
     * @param {PaymentMethod} paymentMethod
     * @returns {string}
     */
    value: function mapToId(paymentMethod) {
      var id = paymentMethod.id;

      if (paymentMethod.method === _paymentMethodTypes.MULTI_OPTION) {
        id = paymentMethod.gateway;
      }

      if (isBraintreePaymentMethod(id)) {
        return _paymentMethodIds.BRAINTREE;
      }

      if (isPaypalCommercePaymentMethod(id)) {
        return _paymentMethodIds.PAYPAL_COMMERCE;
      }

      return id;
    }
  }], [{
    key: "create",

    /**
     * @returns {PaymentMethodIdMapper}
     */
    value: function create() {
      return new PaymentMethodIdMapper();
    }
  }]);

  return PaymentMethodIdMapper;
}();

exports.default = PaymentMethodIdMapper;
//# sourceMappingURL=payment-method-id-mapper.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/payment-method-types.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/payment-method-types.js ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.MULTI_OPTION = exports.CREDIT_CARD = void 0;
var CREDIT_CARD = 'credit-card';
exports.CREDIT_CARD = CREDIT_CARD;
var MULTI_OPTION = 'multi-option';
exports.MULTI_OPTION = MULTI_OPTION;
//# sourceMappingURL=payment-method-types.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/payment-submitter.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/payment-submitter.js ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _paymentTypes = __webpack_require__(/*! ./payment-types */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/payment-types.js");

var _payloadMapper = _interopRequireDefault(__webpack_require__(/*! ./v1/payment-mappers/payload-mapper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v1/payment-mappers/payload-mapper.js"));

var _requestSender = _interopRequireDefault(__webpack_require__(/*! ../common/http-request/request-sender */ "./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/request-sender.js"));

var _urlHelper = _interopRequireDefault(__webpack_require__(/*! ./url-helper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/url-helper.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var PaymentSubmitter = /*#__PURE__*/function () {
  _createClass(PaymentSubmitter, null, [{
    key: "create",

    /**
     * @param {Object} config
     * @returns {PaymentSubmitter}
     */
    value: function create(config) {
      var urlHelper = _urlHelper.default.create(config);

      var requestSender = _requestSender.default.create();

      var payloadMapper = _payloadMapper.default.create();

      return new PaymentSubmitter(urlHelper, requestSender, payloadMapper);
    }
    /**
     * @param {UrlHelper} urlHelper
     * @param {RequestSender} requestSender
     * @param {PayloadMapper} payloadMapper
     * @returns {void}
     */

  }]);

  function PaymentSubmitter(urlHelper, requestSender, payloadMapper) {
    _classCallCheck(this, PaymentSubmitter);

    /**
     * @private
     * @type {UrlHelper}
     */
    this.urlHelper = urlHelper;
    /**
     * @private
     * @type {RequestSender}
     */

    this.requestSender = requestSender;
    /**
     * @private
     * @type {PayloadMapper}
     */

    this.payloadMapper = payloadMapper;
  }
  /**
   * @param {PaymentRequestData} data
   * @param {Function} [callback]
   * @returns {void}
   * @throws {Error}
   */


  _createClass(PaymentSubmitter, [{
    key: "submitPayment",
    value: function submitPayment(data, callback) {
      var _data$paymentMethod = data.paymentMethod,
          paymentMethod = _data$paymentMethod === void 0 ? {} : _data$paymentMethod;

      if (paymentMethod.type !== _paymentTypes.API) {
        throw new Error("".concat(paymentMethod.type, " is not supported."));
      }

      var payload = this.payloadMapper.mapToPayload(data);
      var url = this.urlHelper.getPaymentUrl();
      var options = {
        headers: this.payloadMapper.mapToHeaders(data)
      };
      this.requestSender.postRequest(url, payload, options, callback);
    }
  }]);

  return PaymentSubmitter;
}();

exports.default = PaymentSubmitter;
//# sourceMappingURL=payment-submitter.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/payment-types.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/payment-types.js ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.OFFLINE = exports.HOSTED = exports.API = void 0;
var API = 'PAYMENT_TYPE_API';
exports.API = API;
var HOSTED = 'PAYMENT_TYPE_HOSTED';
exports.HOSTED = HOSTED;
var OFFLINE = 'PAYMENT_TYPE_OFFLINE';
exports.OFFLINE = OFFLINE;
//# sourceMappingURL=payment-types.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/url-helper.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/url-helper.js ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var UrlHelper = /*#__PURE__*/function () {
  _createClass(UrlHelper, null, [{
    key: "create",

    /**
     * @param {Object} config
     * @param {string} config.host
     * @returns {CustomerMapper}
     */
    value: function create(config) {
      return new UrlHelper(config);
    }
    /**
     * @param {Object} config
     * @param {string} config.host
     * @returns {void}
     */

  }]);

  function UrlHelper(config) {
    _classCallCheck(this, UrlHelper);

    /**
     * @private
     * @type {Object}
     */
    this.config = config;
  }
  /**
   * @private
   * @returns {string}
   */


  _createClass(UrlHelper, [{
    key: "getOffsitePaymentUrl",

    /**
     * @returns {string}
     */
    value: function getOffsitePaymentUrl() {
      return "".concat(this.host, "/pay/initialize");
    }
    /**
     * @returns {string}
     */

  }, {
    key: "getPaymentUrl",
    value: function getPaymentUrl() {
      return "".concat(this.host, "/api/public/v1/orders/payments");
    }
    /**
     * @returns {string}
     */

  }, {
    key: "getGenerateClientTokenUrl",
    value: function getGenerateClientTokenUrl() {
      return "".concat(this.host, "/api/v2/public/payments/client_tokens");
    }
  }, {
    key: "host",
    get: function get() {
      return this.config.host;
    }
  }]);

  return UrlHelper;
}();

exports.default = UrlHelper;
//# sourceMappingURL=url-helper.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v1/payment-mappers/customer-mapper.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/v1/payment-mappers/customer-mapper.js ***!
  \***************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _utils = __webpack_require__(/*! ../../../common/utils */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/index.js");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var CustomerMapper = /*#__PURE__*/function () {
  function CustomerMapper() {
    _classCallCheck(this, CustomerMapper);
  }

  _createClass(CustomerMapper, [{
    key: "mapToCustomer",

    /**
     * @param {PaymentRequestData} data
     * @returns {Object}
     */
    value: function mapToCustomer(data) {
      var _data$customer = data.customer,
          customer = _data$customer === void 0 ? {} : _data$customer,
          _data$quoteMeta = data.quoteMeta,
          quoteMeta = _data$quoteMeta === void 0 ? {} : _data$quoteMeta;
      return (0, _utils.omitNil)({
        customer_group: customer.customerGroupName ? {
          name: customer.customerGroupName
        } : null,
        geo_ip_country_code: quoteMeta.request ? quoteMeta.request.geoCountryCode : null,
        id: customer.customerId ? (0, _utils.toString)(customer.customerId) : null,
        session_token: quoteMeta.request ? quoteMeta.request.sessionHash : null
      });
    }
  }], [{
    key: "create",

    /**
     * @returns {CustomerMapper}
     */
    value: function create() {
      return new CustomerMapper();
    }
  }]);

  return CustomerMapper;
}();

exports.default = CustomerMapper;
//# sourceMappingURL=customer-mapper.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v1/payment-mappers/order-mapper.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/v1/payment-mappers/order-mapper.js ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _utils = __webpack_require__(/*! ../../../common/utils */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/index.js");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var OrderMapper = /*#__PURE__*/function () {
  function OrderMapper() {
    _classCallCheck(this, OrderMapper);
  }

  _createClass(OrderMapper, [{
    key: "mapToOrder",

    /**
     * @param {PaymentRequestData} data
     * @returns {Object}
     */
    value: function mapToOrder(data) {
      var _data$order = data.order,
          order = _data$order === void 0 ? {} : _data$order;
      return (0, _utils.omitNil)({
        billing_address: this.mapToBillingAddress(data),
        coupons: this.mapToCoupons(data),
        currency: order.currency,
        id: order.orderId ? (0, _utils.toString)(order.orderId) : null,
        items: this.mapToItems(data),
        shipping: this.mapToShipping(data),
        shipping_address: this.mapToShippingAddress(data),
        token: order.token,
        totals: this.mapToOrderTotals(data)
      });
    }
    /**
     * @private
     * @param {PaymentRequestData} data
     * @returns {Object}
     */

  }, {
    key: "mapToBillingAddress",
    value: function mapToBillingAddress(data) {
      var _data$customer = data.customer,
          customer = _data$customer === void 0 ? {} : _data$customer;
      var address = this.mapToAddress(data, 'billingAddress');

      if (customer.email) {
        address.email = customer.email;
      }

      return address;
    }
    /**
     * @private
     * @param  {PaymentRequestData} data
     * @return {Shipping[]}
     */

  }, {
    key: "mapToShipping",
    value: function mapToShipping(data) {
      var _ref = data.shippingOption || {},
          description = _ref.description,
          transitTime = _ref.transitTime;

      if (description) {
        return [(0, _utils.omitEmptyStringAndNil)({
          method: description,
          transit_time: transitTime
        })];
      }

      return [];
    }
    /**
     * @private
     * @param {PaymentRequestData} data
     * @returns {Coupon[]}
     */

  }, {
    key: "mapToCoupons",
    value: function mapToCoupons(_ref2) {
      var _ref2$order = _ref2.order,
          order = _ref2$order === void 0 ? {} : _ref2$order;

      if (order.coupon && order.coupon.coupons) {
        return order.coupon.coupons.map(function (_ref3) {
          var code = _ref3.code;
          return {
            code: code
          };
        });
      }

      return [];
    }
    /**
     * @private
     * @param {PaymentRequestData} data
     * @returns {Object}
     */

  }, {
    key: "mapToShippingAddress",
    value: function mapToShippingAddress(data) {
      return this.mapToAddress(data, 'shippingAddress');
    }
    /**
     * @private
     * @param {PaymentRequestData} data
     * @param {string} addressKey
     * @returns {Object}
     */

  }, {
    key: "mapToAddress",
    value: function mapToAddress(data, addressKey) {
      var address = data[addressKey] || {};
      return (0, _utils.omitEmptyStringAndNil)({
        city: address.city,
        company: address.company,
        country_code: address.countryCode,
        country: address.country,
        first_name: address.firstName,
        last_name: address.lastName,
        phone: address.phone,
        state_code: address.provinceCode,
        state: address.province,
        street_1: address.addressLine1,
        street_2: address.addressLine2,
        zip: address.postCode
      });
    }
    /**
     * @private
     * @param {PaymentRequestData} data
     * @returns {Object}
     */

  }, {
    key: "mapToItems",
    value: function mapToItems(data) {
      var _data$cart = data.cart,
          cart = _data$cart === void 0 ? {
        items: []
      } : _data$cart;
      return cart.items.map(function (itemData) {
        return (0, _utils.omitNil)({
          code: itemData.id,
          variant_id: itemData.variantId,
          name: itemData.name,
          price: itemData.integerAmount,
          unit_price: itemData.integerUnitPrice,
          quantity: itemData.quantity,
          sku: itemData.sku
        });
      });
    }
    /**
     * @private
     * @param {PaymentRequestData} data
     * @returns {Object}
     */

  }, {
    key: "mapToOrderTotals",
    value: function mapToOrderTotals(data) {
      var _data$order2 = data.order,
          order = _data$order2 === void 0 ? {} : _data$order2;
      return (0, _utils.omitNil)({
        grand_total: order.grandTotal ? order.grandTotal.integerAmount : null,
        handling: order.handling ? order.handling.integerAmount : null,
        shipping: order.shipping ? order.shipping.integerAmount : null,
        subtotal: order.subtotal ? order.subtotal.integerAmount : null,
        tax: order.taxTotal ? order.taxTotal.integerAmount : null
      });
    }
  }], [{
    key: "create",

    /**
     * @returns {OrderMapper}
     */
    value: function create() {
      return new OrderMapper();
    }
  }]);

  return OrderMapper;
}();

exports.default = OrderMapper;
//# sourceMappingURL=order-mapper.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v1/payment-mappers/payload-mapper.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/v1/payment-mappers/payload-mapper.js ***!
  \**************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _utils = __webpack_require__(/*! ../../../common/utils */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/index.js");

var _customerMapper = _interopRequireDefault(__webpack_require__(/*! ./customer-mapper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v1/payment-mappers/customer-mapper.js"));

var _orderMapper = _interopRequireDefault(__webpack_require__(/*! ./order-mapper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v1/payment-mappers/order-mapper.js"));

var _paymentMapper = _interopRequireDefault(__webpack_require__(/*! ./payment-mapper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v1/payment-mappers/payment-mapper.js"));

var _storeMapper = _interopRequireDefault(__webpack_require__(/*! ./store-mapper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v1/payment-mappers/store-mapper.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var PayloadMapper = /*#__PURE__*/function () {
  _createClass(PayloadMapper, null, [{
    key: "create",

    /**
     * @returns {PayloadMapper}
     */
    value: function create() {
      var customerMapper = _customerMapper.default.create();

      var orderMapper = _orderMapper.default.create();

      var paymentMapper = _paymentMapper.default.create();

      var storeMapper = _storeMapper.default.create();

      return new PayloadMapper(customerMapper, orderMapper, paymentMapper, storeMapper);
    }
    /**
     * @param {CustomerMapper} customerMapper
     * @param {OrderMapper} orderMapper
     * @param {PaymentMapper} paymentMapper
     * @param {StoreMapper} storeMapper
     */

  }]);

  function PayloadMapper(customerMapper, orderMapper, paymentMapper, storeMapper) {
    _classCallCheck(this, PayloadMapper);

    /**
     * @private
     * @type {CustomerMapper}
     */
    this.customerMapper = customerMapper;
    /**
     * @private
     * @type {OrderMapper}
     */

    this.orderMapper = orderMapper;
    /**
     * @private
     * @type {PaymentMapper}
     */

    this.paymentMapper = paymentMapper;
    /**
     * @private
     * @type {StoreMapper}
     */

    this.storeMapper = storeMapper;
  }
  /**
   * @param {PaymentRequestData} data
   * @returns {Object}
   */


  _createClass(PayloadMapper, [{
    key: "mapToPayload",
    value: function mapToPayload(data) {
      var _data$order = data.order,
          order = _data$order === void 0 ? {} : _data$order,
          additionalAction = data.additionalAction;
      return (0, _utils.omitNil)({
        customer: this.customerMapper.mapToCustomer(data),
        notify_url: order.callbackUrl,
        order: this.orderMapper.mapToOrder(data),
        payment: this.paymentMapper.mapToPayment(data),
        store: this.storeMapper.mapToStore(data),
        additional_action: additionalAction
      });
    }
    /**
     * @param {PaymentRequestData} data
     * @returns {Object}
     */

  }, {
    key: "mapToHeaders",
    value: function mapToHeaders(data) {
      var authToken = data.authToken;
      return (0, _utils.omitNil)({
        Authorization: authToken
      });
    }
  }]);

  return PayloadMapper;
}();

exports.default = PayloadMapper;
//# sourceMappingURL=payload-mapper.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v1/payment-mappers/payment-mapper.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/v1/payment-mappers/payment-mapper.js ***!
  \**************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _objectAssign = _interopRequireDefault(__webpack_require__(/*! object-assign */ "./node_modules/object-assign/index.js"));

var _utils = __webpack_require__(/*! ../../../common/utils */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/index.js");

var _paymentMethodIdMapper = _interopRequireDefault(__webpack_require__(/*! ../../payment-method-mappers/payment-method-id-mapper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/payment-method-mappers/payment-method-id-mapper.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var PaymentMapper = /*#__PURE__*/function () {
  _createClass(PaymentMapper, null, [{
    key: "create",

    /**
     * @param {PaymentMethodIdMapper} paymentMethodIdMapper
     * @returns {PaymentMapper}
     */
    value: function create() {
      var paymentMethodIdMapper = _paymentMethodIdMapper.default.create();

      return new PaymentMapper(paymentMethodIdMapper);
    }
    /**
     * @param {PaymentMethodIdMapper} paymentMethodIdMapper
     * @returns {void}
     */

  }]);

  function PaymentMapper(paymentMethodIdMapper) {
    _classCallCheck(this, PaymentMapper);

    /**
     * @private
     * @type {PaymentMethodIdMapper}
     */
    this.paymentMethodIdMapper = paymentMethodIdMapper;
  }
  /**
   * @param {PaymentRequestData} data
   * @returns {Object}
   */


  _createClass(PaymentMapper, [{
    key: "mapToPayment",
    value: function mapToPayment(data) {
      var _data$order = data.order,
          order = _data$order === void 0 ? {} : _data$order,
          _data$orderMeta = data.orderMeta,
          orderMeta = _data$orderMeta === void 0 ? {} : _data$orderMeta,
          _data$payment = data.payment,
          payment = _data$payment === void 0 ? {} : _data$payment,
          _data$paymentMethod = data.paymentMethod,
          paymentMethod = _data$paymentMethod === void 0 ? {} : _data$paymentMethod;
      var payload = {
        device_info: payment.deviceSessionId ? payment.deviceSessionId : null,
        device: orderMeta.deviceFingerprint ? {
          fingerprint_id: orderMeta.deviceFingerprint
        } : null,
        gateway: this.paymentMethodIdMapper.mapToId(paymentMethod),
        notify_url: order.callbackUrl,
        return_url: paymentMethod.returnUrl || (order.payment ? order.payment.returnUrl : null),
        vault_payment_instrument: !payment.instrumentId ? payment.shouldSaveInstrument : null,
        set_as_default_stored_instrument: payment.instrumentId || payment.shouldSaveInstrument ? payment.shouldSetAsDefaultInstrument : null
      };
      var method = paymentMethod.method;

      if (method) {
        (0, _objectAssign.default)(payload, {
          method: method
        });
      }

      var nonce = payment.nonce || paymentMethod.nonce;

      if (payment.formattedPayload) {
        (0, _objectAssign.default)(payload, payment.formattedPayload);
      } else if (payment.instrumentId) {
        (0, _objectAssign.default)(payload, {
          bigpay_token: this.mapToBigPayToken(data)
        });
      } else if (nonce) {
        (0, _objectAssign.default)(payload, {
          credit_card_token: {
            token: nonce
          }
        });
      } else if (payment.cryptogramId) {
        (0, _objectAssign.default)(payload, {
          credit_card_cryptogram: this.mapToCryptogram(data)
        });
      } else {
        (0, _objectAssign.default)(payload, {
          credit_card: this.mapToCreditCard(data)
        });
      }

      return (0, _utils.omitNil)(payload);
    }
    /**
     * @private
     * @param {PaymentRequestData} data
     * @returns {Object}
     */

  }, {
    key: "mapToCreditCard",
    value: function mapToCreditCard(data) {
      var _data$payment2 = data.payment,
          payment = _data$payment2 === void 0 ? {} : _data$payment2;
      return (0, _utils.omitNil)({
        account_name: payment.ccName,
        month: payment.ccExpiry ? (0, _utils.toNumber)(payment.ccExpiry.month) : null,
        number: payment.ccNumber,
        verification_value: payment.ccCvv,
        year: payment.ccExpiry ? (0, _utils.toNumber)(payment.ccExpiry.year) : null,
        customer_code: payment.ccCustomerCode,
        three_d_secure: payment.threeDSecure,
        hosted_form_nonce: payment.hostedFormNonce
      });
    }
    /**
     * @private
     * @param {PaymentRequestData} data
     * @return {Object}
     */

  }, {
    key: "mapToBigPayToken",
    value: function mapToBigPayToken(_ref) {
      var payment = _ref.payment;
      return (0, _utils.omitNil)({
        credit_card_number_confirmation: payment.ccNumber,
        token: payment.instrumentId,
        verification_value: payment.ccCvv,
        verification_nonce: payment.nonce,
        three_d_secure: payment.threeDSecure
      });
    }
    /**
     * @private
     * @param {PaymentRequestData} data
     * @return {Object}
     */

  }, {
    key: "mapToCryptogram",
    value: function mapToCryptogram(_ref2) {
      var payment = _ref2.payment;
      return (0, _utils.omitNil)({
        payment_cryptogram: payment.cryptogramId,
        eci: payment.eci,
        xid: payment.transactionId,
        month: payment.ccExpiry ? (0, _utils.toNumber)(payment.ccExpiry.month) : null,
        number: payment.ccNumber,
        year: payment.ccExpiry ? (0, _utils.toNumber)(payment.ccExpiry.year) : null,
        account_mask: payment.accountMask
      });
    }
  }]);

  return PaymentMapper;
}();

exports.default = PaymentMapper;
//# sourceMappingURL=payment-mapper.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v1/payment-mappers/store-mapper.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/v1/payment-mappers/store-mapper.js ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _utils = __webpack_require__(/*! ../../../common/utils */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/index.js");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var StoreMapper = /*#__PURE__*/function () {
  function StoreMapper() {
    _classCallCheck(this, StoreMapper);
  }

  _createClass(StoreMapper, [{
    key: "mapToStore",

    /**
     * @param {PaymentRequestData} data
     * @returns {Object}
     */
    value: function mapToStore(data) {
      var _data$store = data.store,
          store = _data$store === void 0 ? {} : _data$store;
      return (0, _utils.omitNil)({
        hash: store.storeHash,
        id: store.storeId ? (0, _utils.toString)(store.storeId) : null,
        name: store.storeName
      });
    }
  }], [{
    key: "create",

    /**
     * @returns {StoreMapper}
     */
    value: function create() {
      return new StoreMapper();
    }
  }]);

  return StoreMapper;
}();

exports.default = StoreMapper;
//# sourceMappingURL=store-mapper.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v2/payment-mappers/cart-mapper.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/v2/payment-mappers/cart-mapper.js ***!
  \***********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _utils = __webpack_require__(/*! ../../../common/utils */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/index.js");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var CartMapper = /*#__PURE__*/function () {
  function CartMapper() {
    _classCallCheck(this, CartMapper);
  }

  _createClass(CartMapper, [{
    key: "mapToCart",

    /**
     * @param {PaymentRequestData} data
     * @returns {Object}
     */
    value: function mapToCart(data) {
      var _data$cart = data.cart,
          cart = _data$cart === void 0 ? {} : _data$cart;
      return (0, _utils.omitNil)({
        currency_code: cart.currency,
        items: this.mapToItems(data),
        totals: this.mapToOrderTotals(data)
      });
    }
    /**
     * @private
     * @param {PaymentRequestData} data
     * @returns {Object[]}
     */

  }, {
    key: "mapToItems",
    value: function mapToItems(data) {
      var _this = this;

      var _data$cart2 = data.cart,
          cart = _data$cart2 === void 0 ? {
        items: []
      } : _data$cart2;
      return cart.items.map(function (itemData) {
        return (0, _utils.omitNil)({
          discount_amount: itemData.integerDiscount,
          name: itemData.name,
          price: itemData.integerAmount,
          unit_price: itemData.integerUnitPrice,
          quantity: itemData.quantity,
          sku: itemData.sku,
          tax_amount: itemData.integerTax,
          amount: itemData.integerAmountAfterDiscount,
          type: _this.mapToType(itemData)
        });
      });
    }
    /**
     * @private
     * @param {PaymentRequestData} data
     * @returns {Object}
     */

  }, {
    key: "mapToOrderTotals",
    value: function mapToOrderTotals(data) {
      var _data$cart3 = data.cart,
          cart = _data$cart3 === void 0 ? {} : _data$cart3;
      return (0, _utils.omitNil)({
        discount_total: cart.discount ? cart.discount.integerAmount : null,
        grand_total: cart.grandTotal ? cart.grandTotal.integerAmount : null,
        shipping_total: cart.shipping ? cart.shipping.integerAmount : null,
        subtotal: cart.subtotal ? cart.subtotal.integerAmount : null,
        surcharge_total: cart.handling ? cart.handling.integerAmount : null,
        tax_total: cart.taxTotal ? cart.taxTotal.integerAmount : null
      });
    }
    /**
     * @private
     * @param {Object} itemData
     * @returns {Object}
     */

  }, {
    key: "mapToType",
    value: function mapToType(itemData) {
      var types = {
        ItemPhysicalEntity: 'physical',
        ItemDigitalEntity: 'digital',
        ItemGiftCertificateEntity: 'gift_card'
      };
      return types[itemData.type];
    }
  }], [{
    key: "create",

    /**
     * @returns {CartMapper}
     */
    value: function create() {
      return new CartMapper();
    }
  }]);

  return CartMapper;
}();

exports.default = CartMapper;
//# sourceMappingURL=cart-mapper.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v2/payment-mappers/client-token-mapper.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/v2/payment-mappers/client-token-mapper.js ***!
  \*******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _utils = __webpack_require__(/*! ../../../common/utils */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/index.js");

var _cartMapper = _interopRequireDefault(__webpack_require__(/*! ./cart-mapper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v2/payment-mappers/cart-mapper.js"));

var _gatewayMapper = _interopRequireDefault(__webpack_require__(/*! ./gateway-mapper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v2/payment-mappers/gateway-mapper.js"));

var _quoteMapper = _interopRequireDefault(__webpack_require__(/*! ./quote-mapper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v2/payment-mappers/quote-mapper.js"));

var _storeMapper = _interopRequireDefault(__webpack_require__(/*! ./store-mapper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v2/payment-mappers/store-mapper.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var ClientTokenMapper = /*#__PURE__*/function () {
  _createClass(ClientTokenMapper, null, [{
    key: "create",

    /**
     * @returns {ClientTokenMapper}
     */
    value: function create() {
      var cartMapper = _cartMapper.default.create();

      var gatewayMapper = _gatewayMapper.default.create();

      var quoteMapper = _quoteMapper.default.create();

      var storeMapper = _storeMapper.default.create();

      return new ClientTokenMapper(cartMapper, gatewayMapper, quoteMapper, storeMapper);
    }
    /**
     * @param {CartMapper} cartMapper
     * @param {GatewayMapper} gatewayMapper
     * @param {QuoteMapper} quoteMapper
     * @param {StoreMapper} storeMapper
     */

  }]);

  function ClientTokenMapper(cartMapper, gatewayMapper, quoteMapper, storeMapper) {
    _classCallCheck(this, ClientTokenMapper);

    /**
     * @private
     * @type {CartMapper}
     */
    this.cartMapper = cartMapper;
    /**
     * @private
     * @type {GatewayMapper}
     */

    this.gatewayMapper = gatewayMapper;
    /**
     * @private
     * @type {QuoteMapper}
     */

    this.quoteMapper = quoteMapper;
    /**
     * @private
     * @type {StoreMapper}
     */

    this.storeMapper = storeMapper;
  }
  /**
   * @param {PaymentRequestData} data
   * @returns {Object}
   */


  _createClass(ClientTokenMapper, [{
    key: "mapToClientToken",
    value: function mapToClientToken(data) {
      return (0, _utils.omitNil)({
        cart: this.cartMapper.mapToCart(data),
        gateway: this.gatewayMapper.mapToGateway(data),
        quote: this.quoteMapper.mapToQuote(data),
        store: this.storeMapper.mapToStore(data)
      });
    }
  }]);

  return ClientTokenMapper;
}();

exports.default = ClientTokenMapper;
//# sourceMappingURL=client-token-mapper.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v2/payment-mappers/gateway-mapper.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/v2/payment-mappers/gateway-mapper.js ***!
  \**************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _utils = __webpack_require__(/*! ../../../common/utils */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/index.js");

var _paymentMethodIdMapper = _interopRequireDefault(__webpack_require__(/*! ../../payment-method-mappers/payment-method-id-mapper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/payment-method-mappers/payment-method-id-mapper.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var GatewayMapper = /*#__PURE__*/function () {
  _createClass(GatewayMapper, null, [{
    key: "create",

    /**
     * @returns {GatewayMapper}
     */
    value: function create() {
      var paymentMethodIdMapper = _paymentMethodIdMapper.default.create();

      return new GatewayMapper(paymentMethodIdMapper);
    }
    /**
     * @param {PaymentMethodIdMapper} paymentMethodIdMapper
     * @returns {void}
     */

  }]);

  function GatewayMapper(paymentMethodIdMapper) {
    _classCallCheck(this, GatewayMapper);

    /**
     * @private
     * @type {PaymentMethodIdMapper}
     */
    this.paymentMethodIdMapper = paymentMethodIdMapper;
  }
  /**
   * @param {PaymentRequestData} data
   * @returns {Object}
   */


  _createClass(GatewayMapper, [{
    key: "mapToGateway",
    value: function mapToGateway(data) {
      var _data$paymentMethod = data.paymentMethod,
          paymentMethod = _data$paymentMethod === void 0 ? {} : _data$paymentMethod;
      return (0, _utils.omitNil)({
        name: this.paymentMethodIdMapper.mapToId(paymentMethod)
      });
    }
  }]);

  return GatewayMapper;
}();

exports.default = GatewayMapper;
//# sourceMappingURL=gateway-mapper.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v2/payment-mappers/quote-mapper.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/v2/payment-mappers/quote-mapper.js ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _utils = __webpack_require__(/*! ../../../common/utils */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/index.js");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var QuoteMapper = /*#__PURE__*/function () {
  function QuoteMapper() {
    _classCallCheck(this, QuoteMapper);
  }

  _createClass(QuoteMapper, [{
    key: "mapToQuote",

    /**
     * @param {PaymentRequestData} data
     * @returns {Object}
     */
    value: function mapToQuote(data) {
      return (0, _utils.omitNil)({
        billing_address: this.mapToAddress(data, 'billingAddress'),
        shipping_address: this.mapToAddress(data, 'shippingAddress')
      });
    }
    /**
     * @private
     * @param {PaymentRequestData} data
     * @param {string} addressKey
     * @returns {Object}
     */

  }, {
    key: "mapToAddress",
    value: function mapToAddress(data, addressKey) {
      var _data$customer = data.customer,
          customer = _data$customer === void 0 ? {} : _data$customer;
      var address = data[addressKey] || {};
      return (0, _utils.omitNil)({
        address_line_1: address.addressLine1,
        address_line_2: address.addressLine2,
        city: address.city,
        company: address.company,
        country_code: address.countryCode,
        email: customer.email,
        first_name: address.firstName,
        last_name: address.lastName,
        phone: address.phone,
        postal_code: address.postCode,
        state: address.province
      });
    }
  }], [{
    key: "create",

    /**
     * @returns {QuoteMapper}
     */
    value: function create() {
      return new QuoteMapper();
    }
  }]);

  return QuoteMapper;
}();

exports.default = QuoteMapper;
//# sourceMappingURL=quote-mapper.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v2/payment-mappers/store-mapper.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/v2/payment-mappers/store-mapper.js ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _utils = __webpack_require__(/*! ../../../common/utils */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/index.js");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var StoreMapper = /*#__PURE__*/function () {
  function StoreMapper() {
    _classCallCheck(this, StoreMapper);
  }

  _createClass(StoreMapper, [{
    key: "mapToStore",

    /**
     * @param {PaymentRequestData} data
     * @returns {Object}
     */
    value: function mapToStore(data) {
      return (0, _utils.omitNil)({
        locale: this.mapToLocale(data),
        store_identity: this.mapToIdentity(data),
        urls: this.mapToUrls(data)
      });
    }
    /**
     * @private
     * @param {PaymentRequestData} data
     * @returns {Object}
     */

  }, {
    key: "mapToLocale",
    value: function mapToLocale(data) {
      var _data$store = data.store,
          store = _data$store === void 0 ? {} : _data$store;
      return (0, _utils.omitNil)({
        country_code: store.countryCode,
        currency_code: store.currencyCode,
        language_code: store.storeLanguage
      });
    }
    /**
     * @private
     * @param {PaymentRequestData} data
     * @returns {Object}
     */

  }, {
    key: "mapToIdentity",
    value: function mapToIdentity(data) {
      var _data$store2 = data.store,
          store = _data$store2 === void 0 ? {} : _data$store2;
      return (0, _utils.omitNil)({
        id: store.storeId ? (0, _utils.toNumber)(store.storeId) : null,
        name: store.storeName
      });
    }
    /**
     * @private
     * @param {PaymentRequestData} data
     * @returns {Object}
     */

  }, {
    key: "mapToUrls",
    value: function mapToUrls(data) {
      var _data$store3 = data.store,
          store = _data$store3 === void 0 ? {} : _data$store3;
      return (0, _utils.omitNil)({
        cart: store.cartLink,
        checkout: store.checkoutLink,
        confirmation: store.orderConfirmationLink,
        home: store.shopPath
      });
    }
  }], [{
    key: "create",

    /**
     * @returns {StoreMapper}
     */
    value: function create() {
      return new StoreMapper();
    }
  }]);

  return StoreMapper;
}();

exports.default = StoreMapper;
//# sourceMappingURL=store-mapper.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/store/store-request-sender.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/store/store-request-sender.js ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _requestSender = _interopRequireDefault(__webpack_require__(/*! ../common/http-request/request-sender */ "./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/request-sender.js"));

var _methodTypes = __webpack_require__(/*! ../common/http-request/method-types */ "./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/method-types.js");

var _urlHelper = _interopRequireDefault(__webpack_require__(/*! ./url-helper */ "./node_modules/@bigcommerce/bigpay-client/lib/store/url-helper.js"));

var _mappers = __webpack_require__(/*! ./v2/mappers */ "./node_modules/@bigcommerce/bigpay-client/lib/store/v2/mappers/index.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var StoreRequestSender = /*#__PURE__*/function () {
  _createClass(StoreRequestSender, null, [{
    key: "create",

    /**
     * @param {Object} config
     * @returns {StoreRequestSender}
     */
    value: function create(config) {
      var urlHelper = _urlHelper.default.create(config);

      var requestSender = _requestSender.default.create();

      return new StoreRequestSender(urlHelper, requestSender);
    }
    /**
     * @param {UrlHelper} urlHelper
     * @param {RequestSender} requestSender
     * @returns {void}
     */

  }]);

  function StoreRequestSender(urlHelper, requestSender) {
    _classCallCheck(this, StoreRequestSender);

    /**
     * @private
     * @type {UrlHelper}
     */
    this.urlHelper = urlHelper;
    /**
     * @private
     * @type {RequestSender}
     */

    this.requestSender = requestSender;
  }
  /**
   * @param {Object} data
   * @param {Function} [callback]
   * @return {void}
   */


  _createClass(StoreRequestSender, [{
    key: "loadInstruments",
    value: function loadInstruments(data, callback) {
      var url = this.urlHelper.getInstrumentsUrl(data.storeId, data.customerId, data.currencyCode);
      var options = {
        headers: (0, _mappers.mapToHeaders)(data)
      };
      this.requestSender.sendRequest(url, null, options, callback);
    }
    /**
     * @param {Object} data
     * @param {Function} [callback]
     * @return {void}
     */

  }, {
    key: "loadInstrumentsWithAddress",
    value: function loadInstrumentsWithAddress(data, callback) {
      var url = this.urlHelper.getTrustedShippingAddressUrl(data.storeId, data.customerId, data.currencyCode);
      var payload = (0, _mappers.mapToTrustedShippingAddressPayload)(data);
      var options = {
        method: _methodTypes.POST,
        headers: (0, _mappers.mapToHeaders)(data)
      };
      this.requestSender.postRequest(url, payload, options, callback);
    }
    /**
     * @param {Object} data
     * @param {Function} [callback]
     * @return {void}
     */

  }, {
    key: "deleteShopperInstrument",
    value: function deleteShopperInstrument(data, callback) {
      var url = this.urlHelper.getInstrumentByIdUrl(data.storeId, data.customerId, data.instrumentId, data.currencyCode);
      var options = {
        method: _methodTypes.DELETE,
        headers: (0, _mappers.mapToHeaders)(data)
      };
      this.requestSender.sendRequest(url, null, options, callback);
    }
  }]);

  return StoreRequestSender;
}();

exports.default = StoreRequestSender;
//# sourceMappingURL=store-request-sender.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/store/url-helper.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/store/url-helper.js ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var UrlHelper = /*#__PURE__*/function () {
  _createClass(UrlHelper, null, [{
    key: "create",

    /**
     * @param {Object} config
     * @param {string} config.host
     * @returns {CustomerMapper}
     */
    value: function create(config) {
      return new UrlHelper(config);
    }
    /**
     * @param {Object} config
     * @param {string} config.host
     * @returns {void}
     */

  }]);

  function UrlHelper(config) {
    _classCallCheck(this, UrlHelper);

    /**
     * @private
     * @type {Object}
     */
    this.config = config;
  }
  /**
   * @private
   * @returns {string}
   * @throws {Error}
   */


  _createClass(UrlHelper, [{
    key: "getInstrumentsUrl",

    /**
     * @param {number} storeId
     * @param {number} customerId
     * @param {string} currencyCode
     * @returns {string}
     */
    value: function getInstrumentsUrl(storeId, customerId, currencyCode) {
      return "".concat(this.host, "/api/v3/stores/").concat(storeId, "/shoppers/").concat(customerId, "/instruments?currency_code=").concat(currencyCode);
    }
    /**
     * @param {number} storeId
     * @param {number} customerId
     * @param {string} currencyCode
     * @return {string}
     */

  }, {
    key: "getTrustedShippingAddressUrl",
    value: function getTrustedShippingAddressUrl(storeId, customerId, currencyCode) {
      return "".concat(this.host, "/api/v3/stores/").concat(storeId, "/shoppers/").concat(customerId, "/instruments/trusted_shipping_address?currency_code=").concat(currencyCode);
    }
    /**
     * @param {number} storeId
     * @param {number} customerId
     * @param {number} instrumentId
     * @param {string} currencyCode
     * @returns {string}
     */

  }, {
    key: "getInstrumentByIdUrl",
    value: function getInstrumentByIdUrl(storeId, customerId, instrumentId, currencyCode) {
      return "".concat(this.host, "/api/v2/stores/").concat(storeId, "/shoppers/").concat(customerId, "/instruments/").concat(instrumentId, "?currency_code=").concat(currencyCode);
    }
  }, {
    key: "host",
    get: function get() {
      if (!this.config || !this.config.host) {
        throw new Error('Host URL unavailable or not supplied.');
      }

      return this.config.host;
    }
  }]);

  return UrlHelper;
}();

exports.default = UrlHelper;
//# sourceMappingURL=url-helper.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/store/v2/mappers/index.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/store/v2/mappers/index.js ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.mapToInstrumentPayload = mapToInstrumentPayload;
exports.mapToTrustedShippingAddressPayload = mapToTrustedShippingAddressPayload;
exports.mapToHeaders = mapToHeaders;

var _utils = __webpack_require__(/*! ../../../common/utils */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/index.js");

/**
 * @param {Object} [data={}]
 * @param {Object} data.billingAddress
 * @param {CreditCard} data.creditCard
 * @param {boolean} data.defaultInstrument
 * @param {string} data.providerName
 * @return {Object}
 */
function mapToInstrumentPayload() {
  var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var providerName = data.providerName,
      defaultInstrument = data.defaultInstrument;
  var provider = (0, _utils.omitNil)({
    name: providerName
  });
  return (0, _utils.omitNil)({
    provider: provider,
    credit_card: mapToCreditCard(data),
    billing_address: mapToAddress(data.billingAddress),
    default_instrument: defaultInstrument
  });
}
/**
 * @param {Object} [data={}]
 * @param {Object} data.shippingAddress
 * @return {Object}
 */


function mapToTrustedShippingAddressPayload() {
  var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  return (0, _utils.omitNil)({
    shipping_address: mapToAddress(data.shippingAddress)
  });
}
/**
 * @param {Object} data
 * @param {string} data.authToken
 * @return {Object}
 */


function mapToHeaders() {
  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
      Authorization = _ref.authToken;

  return (0, _utils.omitNil)({
    Authorization: Authorization
  });
}
/**
 * @param {AddressData} address
 * @return {Object}
 */


function mapToAddress() {
  var address = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var state = mapToState(address.provinceCode, address.province);
  return (0, _utils.omitNil)({
    address_line_1: address.addressLine1,
    address_line_2: address.addressLine2,
    city: address.city,
    company: address.company,
    country_code: address.countryCode,
    email: address.email,
    first_name: address.firstName,
    last_name: address.lastName,
    phone: address.phone,
    postal_code: address.postCode,
    state: state
  });
}
/**
 * @param {string} code
 * @param {string} name
 * @return {Object}
 */


function mapToState(code, name) {
  return (0, _utils.omitNil)({
    code: code,
    name: name
  });
}
/**
 * @param {Object} data
 * @param {CreditCard} data.creditCard
 * @return {Object}
 */


function mapToCreditCard(_ref2) {
  var _ref2$creditCard = _ref2.creditCard,
      creditCard = _ref2$creditCard === void 0 ? {} : _ref2$creditCard;
  var threeDSecure = (0, _utils.omitNil)(creditCard.threeDSecure);
  return (0, _utils.omitNil)({
    cardholder_name: creditCard.cardholderName,
    number: creditCard.number,
    month: creditCard.month,
    year: creditCard.year,
    verification_code: creditCard.verificationCode,
    issue_month: creditCard.issueMonth,
    issue_year: creditCard.issueYear,
    issue_number: creditCard.issueNumber,
    track_data: creditCard.trackData,
    is_manual_entry: creditCard.isManualEntry,
    icc_data: creditCard.iccData,
    fallback_reason: creditCard.fallbackReason,
    is_contactless: creditCard.isContactless,
    encrypted_pin_cryptogram: creditCard.encryptedPinCryptogram,
    encrypted_pin_ksn: creditCard.encryptedPinKsn,
    three_d_secure: threeDSecure
  });
}
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/checkout-sdk/dist/checkout-sdk.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@bigcommerce/checkout-sdk/dist/checkout-sdk.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=195)}([function(t,e){t.exports=__webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js")},function(t,e){t.exports=__webpack_require__(/*! @bigcommerce/data-store */ "./node_modules/@bigcommerce/data-store/lib/index.js")},function(t,e){t.exports=__webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js")},function(t,e){t.exports=__webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js")},,function(t,e){t.exports=__webpack_require__(/*! @bigcommerce/memoize */ "./node_modules/@bigcommerce/memoize/lib/index.js")},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.CreateConsignmentsRequested="CREATE_CONSIGNMENTS_REQUESTED",t.CreateConsignmentsSucceeded="CREATE_CONSIGNMENTS_SUCCEEDED",t.CreateConsignmentsFailed="CREATE_CONSIGNMENTS_FAILED",t.UpdateConsignmentRequested="UPDATE_CONSIGNMENT_REQUESTED",t.UpdateConsignmentSucceeded="UPDATE_CONSIGNMENT_SUCCEEDED",t.UpdateConsignmentFailed="UPDATE_CONSIGNMENT_FAILED",t.DeleteConsignmentRequested="DELETE_CONSIGNMENT_REQUESTED",t.DeleteConsignmentSucceeded="DELETE_CONSIGNMENT_SUCCEEDED",t.DeleteConsignmentFailed="DELETE_CONSIGNMENT_FAILED",t.UpdateShippingOptionRequested="UPDATE_SHIPPING_OPTION_REQUESTED",t.UpdateShippingOptionSucceeded="UPDATE_SHIPPING_OPTION_SUCCEEDED",t.UpdateShippingOptionFailed="UPDATE_SHIPPING_OPTION_FAILED",t.LoadShippingOptionsRequested="LOAD_SHIPPING_OPTIONS_REQUESTED",t.LoadShippingOptionsSucceeded="LOAD_SHIPPING_OPTIONS_SUCCEEDED",t.LoadShippingOptionsFailed="LOAD_SHIPPING_OPTIONS_FAILED"}(r||(r={}))},,function(t,e){t.exports=__webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js")},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.UpdateAddressFailed="SHIPPING_STRATEGY_UPDATE_ADDRESS_FAILED",t.UpdateAddressRequested="SHIPPING_STRATEGY_UPDATE_ADDRESS_REQUESTED",t.UpdateAddressSucceeded="SHIPPING_STRATEGY_UPDATE_ADDRESS_SUCCEEDED",t.SelectOptionFailed="SHIPPING_STRATEGY_SELECT_OPTION_FAILED",t.SelectOptionRequested="SHIPPING_STRATEGY_SELECT_OPTION_REQUESTED",t.SelectOptionSucceeded="SHIPPING_STRATEGY_SELECT_OPTION_SUCCEEDED",t.InitializeFailed="SHIPPING_STRATEGY_INITIALIZE_FAILED",t.InitializeRequested="SHIPPING_STRATEGY_INITIALIZE_REQUESTED",t.InitializeSucceeded="SHIPPING_STRATEGY_INITIALIZE_SUCCEEDED",t.DeinitializeFailed="SHIPPING_STRATEGY_DEINITIALIZE_FAILED",t.DeinitializeRequested="SHIPPING_STRATEGY_DEINITIALIZE_REQUESTED",t.DeinitializeSucceeded="SHIPPING_STRATEGY_DEINITIALIZE_SUCCEEDED",t.WidgetInteractionStarted="SHIPPING_STRATEGY_WIDGET_INTERACTION_STARTED",t.WidgetInteractionFinished="SHIPPING_STRATEGY_WIDGET_INTERACTION_FINISHED",t.WidgetInteractionFailed="SHIPPING_STRATEGY_WIDGET_INTERACTION_FAILED"}(r||(r={}))},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.SignInFailed="CUSTOMER_STRATEGY_SIGN_IN_FAILED",t.SignInRequested="CUSTOMER_STRATEGY_SIGN_IN_REQUESTED",t.SignInSucceeded="CUSTOMER_STRATEGY_SIGN_IN_SUCCEEDED",t.SignOutFailed="CUSTOMER_STRATEGY_SIGN_OUT_FAILED",t.SignOutRequested="CUSTOMER_STRATEGY_SIGN_OUT_REQUESTED",t.SignOutSucceeded="CUSTOMER_STRATEGY_SIGN_OUT_SUCCEEDED",t.InitializeFailed="CUSTOMER_STRATEGY_INITIALIZE_FAILED",t.InitializeRequested="CUSTOMER_STRATEGY_INITIALIZE_REQUESTED",t.InitializeSucceeded="CUSTOMER_STRATEGY_INITIALIZE_SUCCEEDED",t.DeinitializeFailed="CUSTOMER_STRATEGY_DEINITIALIZE_FAILED",t.DeinitializeRequested="CUSTOMER_STRATEGY_DEINITIALIZE_REQUESTED",t.DeinitializeSucceeded="CUSTOMER_STRATEGY_DEINITIALIZE_SUCCEEDED",t.WidgetInteractionStarted="CUSTOMER_STRATEGY_WIDGET_INTERACTION_STARTED",t.WidgetInteractionFinished="CUSTOMER_STRATEGY_WIDGET_INTERACTION_FINISHED",t.WidgetInteractionFailed="CUSTOMER_STRATEGY_WIDGET_INTERACTION_FAILED"}(r||(r={}))},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.ExecuteFailed="PAYMENT_STRATEGY_EXECUTE_FAILED",t.ExecuteRequested="PAYMENT_STRATEGY_EXECUTE_REQUESTED",t.ExecuteSucceeded="PAYMENT_STRATEGY_EXECUTE_SUCCEEDED",t.FinalizeFailed="PAYMENT_STRATEGY_FINALIZE_FAILED",t.FinalizeRequested="PAYMENT_STRATEGY_FINALIZE_REQUESTED",t.FinalizeSucceeded="PAYMENT_STRATEGY_FINALIZE_SUCCEEDED",t.InitializeFailed="PAYMENT_STRATEGY_INITIALIZE_FAILED",t.InitializeRequested="PAYMENT_STRATEGY_INITIALIZE_REQUESTED",t.InitializeSucceeded="PAYMENT_STRATEGY_INITIALIZE_SUCCEEDED",t.DeinitializeFailed="PAYMENT_STRATEGY_DEINITIALIZE_FAILED",t.DeinitializeRequested="PAYMENT_STRATEGY_DEINITIALIZE_REQUESTED",t.DeinitializeSucceeded="PAYMENT_STRATEGY_DEINITIALIZE_SUCCEEDED",t.WidgetInteractionStarted="PAYMENT_STRATEGY_WIDGET_INTERACTION_STARTED",t.WidgetInteractionFinished="PAYMENT_STRATEGY_WIDGET_INTERACTION_FINISHED",t.WidgetInteractionFailed="PAYMENT_STRATEGY_WIDGET_INTERACTION_FAILED"}(r||(r={}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r,i=n(0),o=n(23);!function(t){t[t.MissingBillingAddress=0]="MissingBillingAddress",t[t.MissingCart=1]="MissingCart",t[t.MissingCheckout=2]="MissingCheckout",t[t.MissingConsignments=3]="MissingConsignments",t[t.MissingCheckoutConfig=4]="MissingCheckoutConfig",t[t.MissingOrder=5]="MissingOrder",t[t.MissingOrderConfig=6]="MissingOrderConfig",t[t.MissingOrderId=7]="MissingOrderId",t[t.MissingPayment=8]="MissingPayment",t[t.MissingPaymentInstrument=9]="MissingPaymentInstrument",t[t.MissingPaymentMethod=10]="MissingPaymentMethod",t[t.MissingPaymentToken=11]="MissingPaymentToken",t[t.MissingShippingAddress=12]="MissingShippingAddress"}(r||(r={}));var a=function(t){function e(e){var n=t.call(this,function(t){switch(t){case r.MissingBillingAddress:return"Unable to proceed because billing address data is unavailable.";case r.MissingCart:return"Unable to proceed because cart data is unavailable.";case r.MissingConsignments:return"Unable to proceed because consignments data is unavailable.";case r.MissingCheckout:return"Unable to proceed because checkout data is unavailable.";case r.MissingCheckoutConfig:case r.MissingOrderConfig:return"Unable to proceed because configuration data is unavailable.";case r.MissingOrder:return"Unable to proceed because order data is unavailable.";case r.MissingOrderId:return"Unable to proceed because order ID is unavailable or not generated yet.";case r.MissingPayment:return"Unable to proceed because payment data is unavailable.";case r.MissingPaymentToken:return"Unable to proceed because the token required to submit a payment is missing.";case r.MissingPaymentMethod:return"Unable to proceed because payment method data is unavailable or not properly configured.";case r.MissingShippingAddress:return"Unable to proceed because shipping address data is unavailable.";default:return"Unable to proceed because the required data is unavailable."}}(e))||this;return n.subtype=e,n.name="MissingDataError",n.type="missing_data",n}return Object(i.__extends)(e,t),e}(o.a);e.b=a},function(t,e,n){"use strict";var r;!function(t){t.ADYENV2="adyenv2",t.ADYENV2_GOOGLEPAY="googlepayadyenv2",t.AFFIRM="affirm",t.AFTERPAY="afterpay",t.AMAZON="amazon",t.AUTHORIZENET_GOOGLE_PAY="googlepayauthorizenet",t.AMAZONPAYV2="amazonpay",t.BARCLAYS="barclays",t.BLUESNAPV2="bluesnapv2",t.BOLT="bolt",t.CHECKOUTCOM="checkoutcom",t.CREDIT_CARD="creditcard",t.CHECKOUTCOM_GOOGLE_PAY="googlepaycheckoutcom",t.CYBERSOURCE="cybersource",t.CYBERSOURCEV2="cybersourcev2",t.KLARNA="klarna",t.KLARNAV2="klarnav2",t.LAYBUY="laybuy",t.LEGACY="legacy",t.OFFLINE="offline",t.OFFSITE="offsite",t.PAYPAL="paypal",t.PAYPAL_EXPRESS="paypalexpress",t.PAYPAL_EXPRESS_CREDIT="paypalexpresscredit",t.PAYPAL_COMMERCE="paypalcommerce",t.PAYPAL_COMMERCE_CREDIT="paypalcommercecredit",t.PAYPAL_COMMERCE_CREDIT_CARD="paypalcommercecreditcards",t.PAYPAL_COMMERCE_ALTERNATIVE_METHODS="paypalcommercealternativemethods",t.SAGE_PAY="sagepay",t.SQUARE="squarev2",t.STRIPEV3="stripev3",t.NO_PAYMENT_DATA_REQUIRED="nopaymentdatarequired",t.BRAINTREE="braintree",t.BRAINTREE_PAYPAL="braintreepaypal",t.BRAINTREE_PAYPAL_CREDIT="braintreepaypalcredit",t.BRAINTREE_VISA_CHECKOUT="braintreevisacheckout",t.BRAINTREE_GOOGLE_PAY="googlepaybraintree",t.CHASE_PAY="chasepay",t.WE_PAY="wepay",t.MASTERPASS="masterpass",t.STRIPE_GOOGLE_PAY="googlepaystripe",t.SEZZLE="sezzle",t.ZIP="zip",t.CONVERGE="converge"}(r||(r={})),e.a=r},,,,function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.LoadCheckoutRequested="LOAD_CHECKOUT_REQUESTED",t.LoadCheckoutSucceeded="LOAD_CHECKOUT_SUCCEEDED",t.LoadCheckoutFailed="LOAD_CHECKOUT_FAILED",t.UpdateCheckoutRequested="UPDATE_CHECKOUT_REQUESTED",t.UpdateCheckoutSucceeded="UPDATE_CHECKOUT_SUCCEEDED",t.UpdateCheckoutFailed="UPDATE_CHECKOUT_FAILED"}(r||(r={}))},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.LoadOrderRequested="LOAD_ORDER_REQUESTED",t.LoadOrderSucceeded="LOAD_ORDER_SUCCEEDED",t.LoadOrderFailed="LOAD_ORDER_FAILED",t.LoadOrderPaymentsRequested="LOAD_ORDER_PAYMENTS_REQUESTED",t.LoadOrderPaymentsSucceeded="LOAD_ORDER_PAYMENTS_SUCCEEDED",t.LoadOrderPaymentsFailed="LOAD_ORDER_PAYMENTS_FAILED",t.SubmitOrderRequested="SUBMIT_ORDER_REQUESTED",t.SubmitOrderSucceeded="SUBMIT_ORDER_SUCCEEDED",t.SubmitOrderFailed="SUBMIT_ORDER_FAILED",t.FinalizeOrderRequested="FINALIZE_ORDER_REQUESTED",t.FinalizeOrderSucceeded="FINALIZE_ORDER_SUCCEEDED",t.FinalizeOrderFailed="FINALIZE_ORDER_FAILED"}(r||(r={}))},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.LoadPaymentMethodRequested="LOAD_PAYMENT_METHOD_REQUESTED",t.LoadPaymentMethodSucceeded="LOAD_PAYMENT_METHOD_SUCCEEDED",t.LoadPaymentMethodFailed="LOAD_PAYMENT_METHOD_FAILED",t.LoadPaymentMethodsRequested="LOAD_PAYMENT_METHODS_REQUESTED",t.LoadPaymentMethodsSucceeded="LOAD_PAYMENT_METHODS_SUCCEEDED",t.LoadPaymentMethodsFailed="LOAD_PAYMENT_METHODS_FAILED"}(r||(r={}))},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.UpdateBillingAddressRequested="UPDATE_BILLING_ADDRESS_REQUESTED",t.UpdateBillingAddressSucceeded="UPDATE_BILLING_ADDRESS_SUCCEEDED",t.UpdateBillingAddressFailed="UPDATE_BILLING_ADDRESS_FAILED",t.ContinueAsGuestRequested="CONTINUE_AS_GUEST_REQUESTED",t.ContinueAsGuestSucceeded="CONTINUE_AS_GUEST_SUCCEEDED",t.ContinueAsGuestFailed="CONTINUE_AS_GUEST_FAILED"}(r||(r={}))},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.InitializeButtonFailed="INITIALIZE_BUTTON_FAILED",t.InitializeButtonRequested="INITIALIZE_BUTTON_REQUESTED",t.InitializeButtonSucceeded="INITIALIZE_BUTTON_SUCCEEDED",t.DeinitializeButtonFailed="DEINITIALIZE_BUTTON_FAILED",t.DeinitializeButtonRequested="DEINITIALIZE_BUTTON_REQUESTED",t.DeinitializeButtonSucceeded="DEINITIALIZE_BUTTON_SUCCEEDED"}(r||(r={}))},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.ApplyCouponRequested="APPLY_COUPON_REQUESTED",t.ApplyCouponSucceeded="APPLY_COUPON_SUCCEEDED",t.ApplyCouponFailed="APPLY_COUPON_FAILED",t.RemoveCouponRequested="REMOVE_COUPON_REQUESTED",t.RemoveCouponSucceeded="REMOVE_COUPON_SUCCEEDED",t.RemoveCouponFailed="REMOVE_COUPON_FAILED"}(r||(r={}))},function(t,e,n){"use strict";var r=n(0);var i=function(t){function e(e){var n,r,i=this.constructor,o=t.call(this,e||"An unexpected error has occurred.")||this;return o.name="StandardError",o.type="standard",n=o,r=i.prototype,Object.setPrototypeOf?Object.setPrototypeOf(n,r):n.__proto__=r,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(o,i):o.stack=new Error(o.message).stack,o}return Object(r.__extends)(e,t),e}(Error);e.a=i},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.CheckoutComplete="CHECKOUT_COMPLETE",t.CheckoutError="CHECKOUT_ERROR",t.CheckoutLoaded="CHECKOUT_LOADED",t.FrameError="FRAME_ERROR",t.FrameLoaded="FRAME_LOADED",t.SignedOut="SIGNED_OUT"}(r||(r={}))},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.LoadInstrumentsRequested="LOAD_INSTRUMENTS_REQUESTED",t.LoadInstrumentsSucceeded="LOAD_INSTRUMENTS_SUCCEEDED",t.LoadInstrumentsFailed="LOAD_INSTRUMENTS_FAILED",t.DeleteInstrumentRequested="DELETE_INSTRUMENT_REQUESTED",t.DeleteInstrumentSucceeded="DELETE_INSTRUMENT_SUCCEEDED",t.DeleteInstrumentFailed="DELETE_INSTRUMENT_FAILED"}(r||(r={}))},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.ApplyGiftCertificateRequested="APPLY_GIFT_CERTIFICATE_REQUESTED",t.ApplyGiftCertificateSucceeded="APPLY_GIFT_CERTIFICATE_SUCCEEDED",t.ApplyGiftCertificateFailed="APPLY_GIFT_CERTIFICATE_FAILED",t.RemoveGiftCertificateRequested="REMOVE_GIFT_CERTIFICATE_REQUESTED",t.RemoveGiftCertificateSucceeded="REMOVE_GIFT_CERTIFICATE_SUCCEEDED",t.RemoveGiftCertificateFailed="REMOVE_GIFT_CERTIFICATE_FAILED"}(r||(r={}))},,function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.InitializeRemoteBillingRequested="INITIALIZE_REMOTE_BILLING_REQUESTED",t.InitializeRemoteBillingSucceeded="INITIALIZE_REMOTE_BILLING_SUCCEEDED",t.InitializeRemoteBillingFailed="INITIALIZE_REMOTE_BILLING_FAILED",t.InitializeRemoteShippingRequested="INITIALIZE_REMOTE_SHIPPING_REQUESTED",t.InitializeRemoteShippingSucceeded="INITIALIZE_REMOTE_SHIPPING_SUCCEEDED",t.InitializeRemoteShippingFailed="INITIALIZE_REMOTE_SHIPPING_FAILED",t.InitializeRemotePaymentRequested="INITIALIZE_REMOTE_PAYMENT_REQUESTED",t.InitializeRemotePaymentSucceeded="INITIALIZE_REMOTE_PAYMENT_SUCCEEDED",t.InitializeRemotePaymentFailed="INITIALIZE_REMOTE_PAYMENT_FAILED",t.LoadRemoteSettingsRequested="LOAD_REMOTE_SETTINGS_REQUESTED",t.LoadRemoteSettingsSucceeded="LOAD_REMOTE_SETTINGS_SUCCEEDED",t.LoadRemoteSettingsFailed="LOAD_REMOTE_SETTINGS_FAILED",t.SignOutRemoteCustomerRequested="SIGN_OUT_REMOTE_CUSTOMER_REQUESTED",t.SignOutRemoteCustomerSucceeded="SIGN_OUT_REMOTE_CUSTOMER_SUCCEEDED",t.SignOutRemoteCustomerFailed="SIGN_OUT_REMOTE_CUSTOMER_FAILED",t.UpdateRemoteCheckout="UPDATE_REMOTE_CHECKOUT"}(r||(r={}))},,function(t,e,n){"use strict";var r,i,o;n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o})),function(t){t.Long="long",t.Short="short"}(r||(r={})),function(t){t.Default="default",t.Black="black",t.White="white"}(i||(i={})),function(t){t.Min="MIN",t.Full="FULL"}(o||(o={}))},function(t,e,n){"use strict";var r;!function(t){t.Json="application/json",t.JsonV1="application/vnd.bc.v1+json"}(r||(r={})),e.a=r},,function(t,e){t.exports=__webpack_require__(/*! @bigcommerce/script-loader */ "./node_modules/@bigcommerce/script-loader/lib/index.js")},function(t,e){t.exports=__webpack_require__(/*! card-validator */ "./node_modules/card-validator/index.js")},,function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.SignInCustomerRequested="SIGN_IN_CUSTOMER_REQUESTED",t.SignInCustomerSucceeded="SIGN_IN_CUSTOMER_SUCCEEDED",t.SignInCustomerFailed="SIGN_IN_CUSTOMER_FAILED",t.SignOutCustomerRequested="SIGN_OUT_CUSTOMER_REQUESTED",t.SignOutCustomerSucceeded="SIGN_OUT_CUSTOMER_SUCCEEDED",t.SignOutCustomerFailed="SIGN_OUT_CUSTOMER_FAILED",t.CreateCustomerRequested="CREATE_CUSTOMER_REQUESTED",t.CreateCustomerSucceeded="CREATE_CUSTOMER_SUCCEEDED",t.CreateCustomerFailed="CREATE_CUSTOMER_FAILED"}(r||(r={}))},function(t,e,n){"use strict";var r=n(0),i=n(23),o={body:{},headers:{},status:0},a=function(t){function e(e,n){var r=void 0===n?{}:n,i=r.message,a=r.errors,s=this,c=e||o,u=c.body,d=c.headers,p=c.status;return(s=t.call(this,i||"An unexpected error has occurred.")||this).name="RequestError",s.type="request",s.body=u,s.headers=d,s.status=p,s.errors=a||[],s}return Object(r.__extends)(e,t),e}(i.a);e.a=a},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i}));var r="ACKNOWLEDGE",i="FINALIZE"},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.LoadConfigRequested="LOAD_CONFIG_REQUESTED",t.LoadConfigSucceeded="LOAD_CONFIG_SUCCEEDED",t.LoadConfigFailed="LOAD_CONFIG_FAILED"}(r||(r={}))},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.LoadFormFieldsRequested="LOAD_FORM_FIELDS_REQUESTED",t.LoadFormFieldsSucceeded="LOAD_FORM_FIELDS_SUCCEEDED",t.LoadFormFieldsFailed="LOAD_FORM_FIELDS_FAILED"}(r||(r={}))},function(t,e,n){"use strict";function r(t){return Boolean(t.instrumentId)}function i(t){return Boolean(t.instrumentId)&&!t.hasOwnProperty("ccNumber")&&!t.hasOwnProperty("ccCvv")}function o(t){var e=t.formattedPayload;return!!e&&("string"==typeof e.bigpay_token||Boolean(e.bigpay_token&&e.bigpay_token.token))}n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return o}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(2);function i(t){return Object(r.isPlainObject)(t)}},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.LoadCountriesRequested="LOAD_COUNTRIES_REQUESTED",t.LoadCountriesSucceeded="LOAD_COUNTRIES_SUCCEEDED",t.LoadCountriesFailed="LOAD_COUNTRIES_FAILED"}(r||(r={}))},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.LoadShippingCountriesRequested="LOAD_SHIPPING_COUNTRIES_REQUESTED",t.LoadShippingCountriesSucceeded="LOAD_SHIPPING_COUNTRIES_SUCCEEDED",t.LoadShippingCountriesFailed="LOAD_SHIPPING_COUNTRIES_FAILED"}(r||(r={}))},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.SendSignInEmailRequested="SEND_SIGNIN_EMAIL_REQUESTED",t.SendSignInEmailSucceeded="SEND_SIGNIN_EMAIL_SUCCEEDED",t.SendSignInEmailFailed="SEND_SIGNIN_EMAIL_FAILED"}(r||(r={}))},function(t,e,n){"use strict";var r=n(0),i=function(t){function e(e){var n=t.call(this,e||"Unable to proceed because the client library of a payment method is not loaded or ready to be used.")||this;return n.name="PaymentMethodClientUnavailableError",n.type="payment_method_client_unavailable",n}return Object(r.__extends)(e,t),e}(n(23).a);e.a=i},function(t,e){t.exports=__webpack_require__(/*! @bigcommerce/request-sender */ "./node_modules/@bigcommerce/request-sender/esm/index.js")},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.ApplyStoreCreditRequested="APPLY_STORE_CREDIT_REQUESTED",t.ApplyStoreCreditSucceeded="APPLY_STORE_CREDIT_SUCCEEDED",t.ApplyStoreCreditFailed="APPLY_STORE_CREDIT_FAILED"}(r||(r={}))},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.AttachSucceeded="HOSTED_INPUT:ATTACH_SUCCEEDED",t.AttachFailed="HOSTED_INPUT:ATTACH_FAILED",t.BinChanged="HOSTED_INPUT:BIN_CHANGED",t.Blurred="HOSTED_INPUT:BLURRED",t.Changed="HOSTED_INPUT:CHANGED",t.CardTypeChanged="HOSTED_INPUT:CARD_TYPE_CHANGED",t.Entered="HOSTED_INPUT:ENTERED",t.Focused="HOSTED_INPUT:FOCUSED",t.SubmitSucceeded="HOSTED_INPUT:SUBMIT_SUCCEEDED",t.SubmitFailed="HOSTED_INPUT:SUBMIT_FAILED",t.Validated="HOSTED_INPUT:VALIDATED"}(r||(r={}))},,,function(t,e,n){"use strict";var r=n(0),i=function(t){function e(e){var n=t.call(this,e||"Invalid arguments have been provided.")||this;return n.name="InvalidArgumentError",n.type="invalid_argument",n}return Object(r.__extends)(e,t),e}(n(23).a);e.a=i},,,,function(t,e,n){"use strict";function r(t,e){return t.type===e}n.d(e,"a",(function(){return r}))},,function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i}));var r="PAYMENT_TYPE_HOSTED",i="PAYMENT_TYPE_OFFLINE"},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(108);function i(t,e){var n;return Object(r.a)(t)?n=t.id:e&&e.length&&(n=e[0].id),{id:n,firstName:t.firstName,lastName:t.lastName,company:t.company,addressLine1:t.address1,addressLine2:t.address2,city:t.city,province:t.stateOrProvince,provinceCode:t.stateOrProvinceCode,postCode:t.postalCode,country:t.country,countryCode:t.countryCode,phone:t.phone,customFields:t.customFields}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="This API endpoint is for internal use only and may change in the future"},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.SubmitPaymentRequested="SUBMIT_PAYMENT_REQUESTED",t.SubmitPaymentSucceeded="SUBMIT_PAYMENT_SUCCEEDED",t.SubmitPaymentFailed="SUBMIT_PAYMENT_FAILED",t.InitializeOffsitePaymentRequested="INITIALIZE_OFFSITE_PAYMENT_REQUESTED",t.InitializeOffsitePaymentSucceeded="INITIALIZE_OFFSITE_PAYMENT_SUCCEEDED",t.InitializeOffsitePaymentFailed="INITIALIZE_OFFSITE_PAYMENT_FAILED"}(r||(r={}))},,,function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(2);function i(t){return Object(r.uniq)(t).join(",")}},function(t,e,n){"use strict";var r=n(0),i=n(81);var o=n(78);function a(t,e,n){return void 0===n&&(n="id"),Object.keys(t).reduce((function(a,s){return Object(r.__spreadArrays)(a,t[s].map((function(t){return"giftCertificates"===s?function(t,e){var n=new i.a(e);return{id:t.id,imageUrl:"",name:t.name,amount:t.amount,amountAfterDiscount:t.amount,discount:0,integerAmount:n.toInteger(t.amount),integerAmountAfterDiscount:n.toInteger(t.amount),integerUnitPrice:n.toInteger(t.amount),integerUnitPriceAfterDiscount:n.toInteger(t.amount),integerDiscount:0,quantity:1,sender:t.sender,recipient:t.recipient,type:"ItemGiftCertificateEntity",attributes:[],variantId:null}}(t,e):Object(o.a)(t,function(t){switch(t){case"physicalItems":return"ItemPhysicalEntity";case"digitalItems":return"ItemDigitalEntity";case"giftCertificates":return"ItemGiftCertificateEntity";default:return""}}(s),e,n)})))}),[])}n.d(e,"a",(function(){return a}))},function(t,e){t.exports=__webpack_require__(/*! local-storage-fallback */ "./node_modules/local-storage-fallback/lib/index.js")},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.InitializeFailed="SPAM_PROTECTION_INITIALIZE_FAILED",t.InitializeSucceeded="SPAM_PROTECTION_INITIALIZE_SUCCEEDED",t.InitializeRequested="SPAM_PROTECTION_INITIALIZE_REQUESTED",t.VerifyCheckoutRequested="SPAM_PROTECTION_CHECKOUT_VERIFY_REQUESTED",t.VerifyCheckoutSucceeded="SPAM_PROTECTION_CHECKOUT_VERIFY_SUCCEEDED",t.VerifyCheckoutFailed="SPAM_PROTECTION_CHECKOUT_VERIFY_FAILED",t.ExecuteRequested="SPAM_PROTECTION_EXECUTE_REQUESTED",t.ExecuteSucceeded="SPAM_PROTECTION_EXECUTE_SUCCEEDED",t.ExecuteFailed="SPAM_PROTECTION_EXECUTE_FAILED"}(r||(r={}))},function(t,e){t.exports=__webpack_require__(/*! shallowequal */ "./node_modules/shallowequal/index.js")},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.AttachRequested="HOSTED_FIELD:ATTACH_REQUESTED",t.SubmitRequested="HOSTED_FIELD:SUBMITTED_REQUESTED",t.ValidateRequested="HOSTED_FIELD:VALIDATE_REQUESTED"}(r||(r={}))},,,function(t,e,n){"use strict";function r(t,e,n){return t===e||(t&&e&&"object"==typeof t&&"object"==typeof e?Array.isArray(t)&&Array.isArray(e)?function(t,e,n){if(t.length!==e.length)return!1;for(var i=0,o=t.length;i<o;i++)if(!r(t[i],e[i],n))return!1;return!0}(t,e,n):!Array.isArray(t)&&!Array.isArray(e)&&(t instanceof Date&&e instanceof Date?function(t,e){return t.getTime()===e.getTime()}(t,e):!(t instanceof Date||e instanceof Date)&&(t instanceof RegExp&&e instanceof RegExp?function(t,e){return t.toString()===e.toString()}(t,e):!(t instanceof RegExp||e instanceof RegExp)&&function(t,e,n){var i=n&&n.keyFilter,o=i?Object.keys(t).filter(i):Object.keys(t),a=i?Object.keys(e).filter(i):Object.keys(e);if(o.length!==a.length)return!1;for(var s=0,c=o.length;s<c;s++){var u=o[s];if(!e.hasOwnProperty(u))return!1;if(!r(t[u],e[u],n))return!1}return!0}(t,e,n))):t===e)}n.d(e,"a",(function(){return r}))},function(t,e){t.exports=__webpack_require__(/*! @bigcommerce/form-poster */ "./node_modules/@bigcommerce/form-poster/lib/index.js")},,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(81);function i(t,e,n,i){void 0===i&&(i="id");var o=new r.a(n);return{id:t[i],imageUrl:t.imageUrl,amount:t.extendedListPrice,amountAfterDiscount:t.extendedSalePrice,discount:t.discountAmount,integerAmount:o.toInteger(t.extendedListPrice),integerAmountAfterDiscount:o.toInteger(t.extendedSalePrice),integerDiscount:o.toInteger(t.discountAmount),integerUnitPrice:o.toInteger(t.listPrice),integerUnitPriceAfterDiscount:o.toInteger(t.salePrice),downloadsPageUrl:t.downloadPageUrl,name:t.name,quantity:t.quantity,brand:t.brand,sku:t.sku,categoryNames:t.categoryNames,variantId:t.variantId,productId:t.productId,attributes:(t.options||[]).map((function(t){return{name:t.name,value:t.value}})),addedByPromotion:t.addedByPromotion,type:e}}},function(t,e){t.exports=__webpack_require__(/*! reselect */ "./node_modules/reselect/es/index.js")},function(t,e,n){"use strict";function r(t,e){return{description:t.description,module:t.type,price:t.cost,id:t.id,selected:e,isRecommended:t.isRecommended,imageUrl:t.imageUrl,transitTime:t.transitTime}}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r=function(){function t(t){this._decimalPlaces=t}return t.prototype.toInteger=function(t){return Math.round(t*Math.pow(10,this._decimalPlaces))},t}();e.a=r},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(52);function i(t){if(!/^(https?:)?\/\//.test(t))throw new r.a("The provided URL must be absolute.");var e=document.createElement("a");e.href=t;var n=e.port&&-1!==t.indexOf(e.hostname+":"+e.port)?e.port:"";return{hash:e.hash,hostname:e.hostname,href:e.href,origin:e.protocol+"//"+e.hostname+(n?":"+n:""),pathname:e.pathname,port:n,protocol:e.protocol,search:e.search}}},,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(0),i=n(5);function o(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=e.pop();return t.apply(void 0,Object(r.__spreadArrays)(e,[function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=o.apply(void 0,t);return"function"==typeof n?Object(i.memoize)(n):n}]))}}},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.ClearError="CLEAR_ERROR"}(r||(r={}))},function(t,e,n){"use strict";var r=n(0),i=n(1),o=n(3),a=n(93),s=n(19),c=function(){function t(t){this._requestSender=t}return t.prototype.loadPaymentMethods=function(t){var e=this;return o.Observable.create((function(n){n.next(Object(i.createAction)(s.a.LoadPaymentMethodsRequested)),e._requestSender.loadPaymentMethods(t).then((function(t){var e={deviceSessionId:t.headers["x-device-session-id"],sessionHash:t.headers["x-session-hash"]};n.next(Object(i.createAction)(s.a.LoadPaymentMethodsSucceeded,t.body,e)),n.complete()})).catch((function(t){n.error(Object(i.createErrorAction)(s.a.LoadPaymentMethodsFailed,t))}))}))},t.prototype.loadPaymentMethod=function(t,e){var n=this;return o.Observable.create((function(r){r.next(Object(i.createAction)(s.a.LoadPaymentMethodRequested,void 0,{methodId:t})),n._requestSender.loadPaymentMethod(t,e).then((function(e){r.next(Object(i.createAction)(s.a.LoadPaymentMethodSucceeded,e.body,{methodId:t})),r.complete()})).catch((function(e){r.error(Object(i.createErrorAction)(s.a.LoadPaymentMethodFailed,e,{methodId:t}))}))}))},Object(r.__decorate)([a.a],t.prototype,"loadPaymentMethod",null),t}();e.a=c},function(t,e,n){"use strict";var r=n(31),i=n(60),o=function(){function t(t){this._requestSender=t}return t.prototype.loadPaymentMethods=function(t){var e=(void 0===t?{}:t).timeout;return this._requestSender.get("/api/storefront/payments",{timeout:e,headers:{Accept:r.a.JsonV1,"X-API-INTERNAL":i.a}})},t.prototype.loadPaymentMethod=function(t,e){var n=(void 0===e?{}:e).timeout,o="/api/storefront/payments/"+t;return this._requestSender.get(o,{timeout:n,headers:{Accept:r.a.JsonV1,"X-API-INTERNAL":i.a}})},t}();e.a=o},function(t,e,n){"use strict";e.a=["cart.lineItems.physicalItems.options","cart.lineItems.digitalItems.options","customer","customer.customerGroup","payments","promotions.banners"]},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(1),i=n(3);function o(t,e,n){return(o=e)&&o.type&&o.error?Object(i.concat)(Object(i.of)(e),Object(i.throwError)(Object(r.createErrorAction)(t,e.payload,n))):Object(i.throwError)(Object(r.createErrorAction)(t,e,n));var o}},function(t,e,n){"use strict";var r=n(0),i=function(t){function e(e){var n=t.call(this,e||"Unable to proceed because the client library of a payment method has thrown an unexpected error.")||this;return n.name="PaymentMethodFailedError",n.type="payment_method_client_invalid",n}return Object(r.__extends)(e,t),e}(n(23).a);e.a=i},function(t,e,n){"use strict";var r=n(0),i=n(5),o=n(3),a=n(8);function s(t){return Object(i.memoize)((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var s=t.call.apply(t,Object(r.__spreadArrays)([this],e));return s instanceof o.Observable?Object(o.from)(s).pipe(Object(a.shareReplay)()):"function"==typeof s?Object(i.memoize)((function(t){return Object(o.from)(s(t)).pipe(Object(a.shareReplay)())})):s}))}function c(t){return t&&"boolean"==typeof t.useCache}function u(t,e,n){var i=new WeakMap;function o(t){var n=this;return function(){for(var o,a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var d=a[a.length-1],p=(c(d)?d:{useCache:!1}).useCache;if(!p)return t.call.apply(t,Object(r.__spreadArrays)([n],a));var h=i.get(n)||{};return i.get(n)||i.set(n,h),h[e]||(h[e]=s(t)),(o=h[e]).call.apply(o,Object(r.__spreadArrays)([n],a))}}return{get:function(){if("function"!=typeof n.value)throw new Error("Decorator should be used in functions");var t=o.call(this,n.value);return Object.defineProperty(this,e,Object(r.__assign)(Object(r.__assign)({},n),{value:t})),t}}}n.d(e,"a",(function(){return u}))},,,,,function(t,e,n){"use strict";var r=n(0);function i(t,e,n){if("function"!=typeof n.value)return n;var i=n.value;return{get:function(){var t=i.bind(this);return Object.defineProperty(this,e,Object(r.__assign)(Object(r.__assign)({},n),{value:t})),t},set:function(t){i=t}}}e.a=function(t,e,n){return e&&n?i(t,e,n):function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e}(t);return Object.getOwnPropertyNames(t.prototype).forEach((function(n){var r=Object.getOwnPropertyDescriptor(t.prototype,n);r&&"constructor"!==n&&Object.defineProperty(e.prototype,n,i(t.prototype,n,r))})),e}(t)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(59);function i(t,e){var n=t.firstName||e.firstName||"",i=t.lastName||e.lastName||"";return{addresses:(t.addresses||[]).map((function(t){return Object(r.a)(t)})),customerId:t.id,isGuest:t.isGuest,storeCredit:t.storeCredit,email:t.email||e.email||"",firstName:n,lastName:i,name:t.fullName||[n,i].join(" "),customerGroupName:t.customerGroup&&t.customerGroup.name}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(0),i=n(2),o=n(65),a=n(81),s=n(111);n(58);function c(t,e){void 0===e&&(e={});var n,r,c=t.currency.decimalPlaces,u=new a.a(c);return{id:t.orderId,items:Object(o.a)(t.lineItems,t.currency.decimalPlaces,"productId"),orderId:t.orderId,currency:t.currency.code,customerCanBeCreated:t.customerCanBeCreated,payment:p(t.payments,e.payment),subtotal:{amount:t.baseAmount,integerAmount:u.toInteger(t.baseAmount)},coupon:{discountedAmount:Object(i.reduce)(t.coupons,(function(t,e){return t+e.discountedAmount}),0),coupons:t.coupons.map(s.a)},discount:{amount:t.discountAmount,integerAmount:u.toInteger(t.discountAmount)},token:e.orderToken,callbackUrl:e.callbackUrl,discountNotifications:[],giftCertificate:(n=t.payments,r=Object(i.filter)(n,{providerId:"giftcertificate"}),{totalDiscountedAmount:Object(i.reduce)(r,(function(t,e){return e.amount+t}),0),appliedGiftCertificates:Object(i.keyBy)(r.map((function(t){return{code:t.detail.code,discountedAmount:t.amount,remainingBalance:t.detail.remaining,giftCertificate:{balance:t.amount+t.detail.remaining,code:t.detail.code,purchaseDate:""}}})),"code")}),socialData:l(t),status:t.status,hasDigitalItems:t.hasDigitalItems,isDownloadable:t.isDownloadable,isComplete:t.isComplete,shipping:{amount:t.shippingCostTotal,integerAmount:u.toInteger(t.shippingCostTotal),amountBeforeDiscount:t.shippingCostBeforeDiscount,integerAmountBeforeDiscount:u.toInteger(t.shippingCostBeforeDiscount)},storeCredit:{amount:d(t.payments)},taxes:t.taxes,taxTotal:{amount:t.taxTotal,integerAmount:u.toInteger(t.taxTotal)},handling:{amount:t.handlingCostTotal,integerAmount:u.toInteger(t.handlingCostTotal)},grandTotal:{amount:t.orderAmount,integerAmount:t.orderAmountAsInteger}}}function u(t){return"PAYMENT_STATUS_"+t}function d(t){var e=Object(i.find)(t,{providerId:"storecredit"});return e?e.amount:0}function p(t,e){void 0===e&&(e={});var n=Object(i.find)(t,h);return n?{id:n.providerId,status:u(n.detail.step),helpText:n.detail.instructions,returnUrl:e.returnUrl}:{}}function h(t){return"giftcertificate"!==t.providerId&&"storecredit"!==t.providerId}function l(t){var e={};return Object(r.__spreadArrays)(t.lineItems.physicalItems,t.lineItems.digitalItems).forEach((function(t){var n;e[t.id]=(n=t,["fb","tw","gp"].reduce((function(t,e){var r=n.socialMedia&&Object(i.find)(n.socialMedia,(function(t){return t.code===e}));return r?(t[e]={name:n.name,description:n.name,image:n.imageUrl,url:r.link,shareText:r.text,sharingLink:r.link,channelName:r.channel,channelCode:r.code},t):t}),{}))})),e}},function(t,e,n){"use strict";var r=n(2),i=n(81),o=n(111),a=n(143);var s=n(65);function c(t){var e,n,c=t.cart.currency.decimalPlaces,u=new i.a(c);return{id:t.cart.id,items:Object(s.a)(t.cart.lineItems,c),currency:t.cart.currency.code,coupon:{discountedAmount:Object(r.reduce)(t.cart.coupons,(function(t,e){return t+e.discountedAmount}),0),coupons:t.cart.coupons.map(o.a)},discount:{amount:t.cart.discountAmount,integerAmount:u.toInteger(t.cart.discountAmount)},discountNotifications:(e=t.promotions,n=[],(e||[]).forEach((function(t){(t.banners||[]).forEach((function(t){n.push({placeholders:[],discountType:null,message:"",messageHtml:t.text})}))})),n),giftCertificate:{totalDiscountedAmount:Object(r.reduce)(t.giftCertificates,(function(t,e){return t+e.used}),0),appliedGiftCertificates:Object(r.keyBy)(t.giftCertificates.map(a.a),"code")},shipping:{amount:t.shippingCostTotal,integerAmount:u.toInteger(t.shippingCostTotal),amountBeforeDiscount:t.shippingCostBeforeDiscount,integerAmountBeforeDiscount:u.toInteger(t.shippingCostBeforeDiscount),required:Object(r.some)(t.cart.lineItems.physicalItems,(function(t){return t.isShippingRequired}))},subtotal:{amount:t.subtotal,integerAmount:u.toInteger(t.subtotal)},storeCredit:{amount:t.customer?t.customer.storeCredit:0},taxSubtotal:{amount:t.taxTotal,integerAmount:u.toInteger(t.taxTotal)},taxes:t.taxes,taxTotal:{amount:t.taxTotal,integerAmount:u.toInteger(t.taxTotal)},handling:{amount:t.handlingCostTotal,integerAmount:u.toInteger(t.handlingCostTotal)},grandTotal:{amount:t.grandTotal,integerAmount:u.toInteger(t.grandTotal)}}}n.d(e,"a",(function(){return c}))},,function(t,e){t.exports=__webpack_require__(/*! @bigcommerce/bigpay-client */ "./node_modules/@bigcommerce/bigpay-client/lib/index.js")},function(t,e,n){"use strict";var r,i,o,a,s;n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return s})),function(t){t.de="eu",t.jp="fe",t.uk="eu",t.us="na"}(r||(r={})),function(t){t.en_US="en_US",t.en_GB="en_GB",t.de_DE="de_DE",t.fr_FR="fr_FR",t.it_IT="it_IT",t.es_ES="es_ES",t.ja_JP="ja_JP"}(i||(i={})),function(t){t.Home="Home",t.Product="Product",t.Cart="Cart",t.Checkout="Checkout",t.Other="Other"}(o||(o={})),function(t){t.USD="USD",t.EUR="EUR",t.GBP="GBP",t.JPY="JPY"}(a||(a={})),function(t){t.PayAndShip="PayAndShip",t.PayOnly="PayOnly"}(s||(s={}))},function(t,e,n){"use strict";var r=n(0),i=n(46),o=function(){function t(t,e){void 0===e&&(e=window),this._scriptLoader=t,this._window=e}return t.prototype.loadClient=function(){var t=this;return this._scriptLoader.loadScript("//js.braintreegateway.com/web/3.59.0/js/client.min.js").then((function(){if(!t._window.braintree||!t._window.braintree.client)throw new i.a;return t._window.braintree.client}))},t.prototype.load3DS=function(){var t=this;return this._scriptLoader.loadScript("//js.braintreegateway.com/web/3.59.0/js/three-d-secure.min.js").then((function(){if(!t._window.braintree||!t._window.braintree.threeDSecure)throw new i.a;return t._window.braintree.threeDSecure}))},t.prototype.loadDataCollector=function(){var t=this;return this._scriptLoader.loadScript("//js.braintreegateway.com/web/3.59.0/js/data-collector.min.js").then((function(){if(!t._window.braintree||!t._window.braintree.dataCollector)throw new i.a;return t._window.braintree.dataCollector}))},t.prototype.loadPaypal=function(){var t=this;return this._scriptLoader.loadScript("//js.braintreegateway.com/web/3.59.0/js/paypal.min.js").then((function(){if(!t._window.braintree||!t._window.braintree.paypal)throw new i.a;return t._window.braintree.paypal}))},t.prototype.loadPaypalCheckout=function(){var t=this;return this._scriptLoader.loadScript("//js.braintreegateway.com/web/3.59.0/js/paypal-checkout.min.js").then((function(){if(!t._window.braintree||!t._window.braintree.paypalCheckout)throw new i.a;return t._window.braintree.paypalCheckout}))},t.prototype.loadVisaCheckout=function(){var t=this;return this._scriptLoader.loadScript("//js.braintreegateway.com/web/3.59.0/js/visa-checkout.min.js").then((function(){if(!t._window.braintree||!t._window.braintree.visaCheckout)throw new i.a;return t._window.braintree.visaCheckout}))},t.prototype.loadGooglePayment=function(){var t=this;return this._scriptLoader.loadScript("//js.braintreegateway.com/web/3.59.0/js/google-payment.min.js").then((function(){if(!t._window.braintree||!t._window.braintree.googlePayment)throw new i.a;return t._window.braintree.googlePayment}))},t.prototype.loadHostedFields=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return[4,this._scriptLoader.loadScript("//js.braintreegateway.com/web/3.59.0/js/hosted-fields.min.js")];case 1:if(t.sent(),!this._window.braintree||!this._window.braintree.hostedFields)throw new i.a;return[2,this._window.braintree.hostedFields]}}))}))},t}();e.a=o},function(t,e,n){"use strict";var r=n(0),i=n(112),o=function(){function t(t){this._braintreeScriptLoader=t,this._dataCollectors={}}return t.prototype.initialize=function(t){this._clientToken=t},t.prototype.getClient=function(){var t=this;if(!this._clientToken)throw new i.b(i.a.PaymentNotInitialized);return this._client||(this._client=this._braintreeScriptLoader.loadClient().then((function(e){return e.create({authorization:t._clientToken})}))),this._client},t.prototype.getPaypal=function(){return this._paypal||(this._paypal=Promise.all([this.getClient(),this._braintreeScriptLoader.loadPaypal()]).then((function(t){var e=t[0];return t[1].create({client:e})}))),this._paypal},t.prototype.getPaypalCheckout=function(){return this._paypalCheckout||(this._paypalCheckout=Promise.all([this.getClient(),this._braintreeScriptLoader.loadPaypalCheckout()]).then((function(t){var e=t[0];return t[1].create({client:e})}))),this._paypalCheckout},t.prototype.get3DS=function(){return this._3ds||(this._3ds=Promise.all([this.getClient(),this._braintreeScriptLoader.load3DS()]).then((function(t){var e=t[0];return t[1].create({client:e,version:2})}))),this._3ds},t.prototype.getDataCollector=function(t){var e=t&&t.paypal?"paypal":"default",n=this._dataCollectors[e];return n||(n=Promise.all([this.getClient(),this._braintreeScriptLoader.loadDataCollector()]).then((function(e){var n=e[0];return e[1].create(Object(r.__assign)({client:n,kount:!0},t))})).catch((function(t){if(t&&"DATA_COLLECTOR_KOUNT_NOT_ENABLED"===t.code)return{deviceData:void 0,teardown:function(){return Promise.resolve()}};throw t})),this._dataCollectors[e]=n),n},t.prototype.getVisaCheckout=function(){return this._visaCheckout||(this._visaCheckout=Promise.all([this.getClient(),this._braintreeScriptLoader.loadVisaCheckout()]).then((function(t){var e=t[0];return t[1].create({client:e})}))),this._visaCheckout},t.prototype.getGooglePaymentComponent=function(){return this._googlePay||(this._googlePay=Promise.all([this.getClient(),this._braintreeScriptLoader.loadGooglePayment()]).then((function(t){var e=t[0];return t[1].create({client:e})}))),this._googlePay},t.prototype.createHostedFields=function(t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(r.__generator)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this.getClient(),this._braintreeScriptLoader.loadHostedFields()])];case 1:return e=i.sent(),n=e[0],[2,e[1].create(Object(r.__assign)(Object(r.__assign)({},t),{client:n}))]}}))}))},t.prototype.teardown=function(){var t=this;return Promise.all([this._teardown(this._3ds),this._teardown(this._dataCollectors.default),this._teardown(this._dataCollectors.paypal),this._teardown(this._visaCheckout),this._teardown(this._googlePay)]).then((function(){t._3ds=void 0,t._visaCheckout=void 0,t._dataCollectors={},t._googlePay=void 0}))},t.prototype._teardown=function(t){return t?t.then((function(t){return t.teardown()})):Promise.resolve()},t}();e.a=o},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.StyleConfigured="STYLE_CONFIGURED"}(r||(r={}))},function(t,e,n){"use strict";function r(t){return void 0!==t.id}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r=function(){function t(){}return t.prototype.format=function(t){var e=t.split(new RegExp("\\s*/\\s*")),n=e[0],r=void 0===n?"":n,i=e[1],o=void 0===i?"":i,a=r.slice(0,2),s=4===o.length?o.slice(-2):o?o.slice(0,2):r.slice(2);return t.length<2?r:t.length>3&&!s?a:a+" / "+s},t.prototype.toObject=function(t){var e=t.split(new RegExp("\\s*/\\s*")),n=e[0],r=void 0===n?"":n,i=e[1],o=void 0===i?"":i;return/^\d+$/.test(r)&&/^\d+$/.test(o)?{month:1===r.length?"0"+r:r.slice(0,2),year:2===o.length?"20"+o:o.slice(0,4)}:{month:"",year:""}},t}();e.a=r},function(t,e,n){"use strict";var r=n(34),i=n(2),o=function(){function t(){}return t.prototype.format=function(t){var e=Object(r.number)(t).card;if(!e)return t;var n=Object(i.max)(Object(r.creditCardType)(t).map((function(t){return Object(i.max)(t.lengths)}))),o=this.unformat(t).slice(0,n);return e.gaps.filter((function(t){return o.length>t})).reduce((function(t,e,n){return[t.slice(0,e+n),t.slice(e+n)].join(" ")}),o)},t.prototype.unformat=function(t){return Object(r.number)(t).card?t.replace(new RegExp(" ","g"),""):t},t}();e.a=o},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=["per_item_discount","percentage_discount","per_total_discount","shipping_discount","free_shipping"];function i(t){return{code:t.code,discount:t.displayName,discountType:r.indexOf(t.couponType)}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r,i=n(0),o=n(23);!function(t){t[t.CheckoutButtonNotInitialized=0]="CheckoutButtonNotInitialized",t[t.CustomerNotInitialized=1]="CustomerNotInitialized",t[t.PaymentNotInitialized=2]="PaymentNotInitialized",t[t.ShippingNotInitialized=3]="ShippingNotInitialized",t[t.SpamProtectionNotInitialized=4]="SpamProtectionNotInitialized"}(r||(r={}));var a=function(t){function e(e){var n=t.call(this,function(t){switch(t){case r.CustomerNotInitialized:return"Unable to proceed because the customer step of checkout has not been initialized.";case r.PaymentNotInitialized:return"Unable to proceed because the payment step of checkout has not been initialized.";case r.ShippingNotInitialized:return"Unable to proceed because the shipping step of checkout has not been initialized.";case r.SpamProtectionNotInitialized:return"Unable to proceed because the checkout spam protection has not been initialized.";default:return"Unable to proceed because the required component has not been initialized."}}(e))||this;return n.subtype=e,n.name="NotInitializedError",n.type="not_initialized",n}return Object(i.__extends)(e,t),e}(o.a);e.b=a},function(t,e,n){"use strict";var r=n(0),i=n(64),o=n(2);function a(t,e){return void 0===e&&(e=[]),Array.isArray(e)?Object(i.a)(Object(r.__spreadArrays)(t,e)):function(t,e){var n=Object(o.keys)(Object(o.pickBy)(e,(function(t){return!t}))),a=Object(o.keys)(Object(o.filter)(e));return Object(i.a)(Object(r.__spreadArrays)(Object(o.difference)(t,n),a))}(t,e)}n.d(e,"a",(function(){return a}))},,,,,,,,,,,,,,function(t,e){t.exports=__webpack_require__(/*! iframe-resizer */ "./node_modules/iframe-resizer/index.js")},function(t,e){t.exports=__webpack_require__(/*! iframe-resizer/js/iframeResizer.contentWindow */ "./node_modules/iframe-resizer/js/iframeResizer.contentWindow.js")},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(2);function i(t,e){return Array.isArray(t)?t.map((function(t){return i(t,e)})):Object(r.isPlainObject)(t)?Object(r.transform)(Object(r.omitBy)(t,e),(function(t,n,r){t[r]=i(n,e)}),{}):t}},function(t,e,n){"use strict";var r=n(0),i=n(1),o=n(3),a=n(8),s=n(91),c=n(12),u=n(17),d=function(){function t(t,e,n){this._checkoutRequestSender=t,this._configActionCreator=e,this._formFieldsActionCreator=n}return t.prototype.loadCheckout=function(t,e){var n=this;return Object(o.concat)(Object(o.of)(Object(i.createAction)(u.a.LoadCheckoutRequested)),Object(o.merge)(this._configActionCreator.loadConfig(Object(r.__assign)(Object(r.__assign)({},e),{useCache:!0})),this._formFieldsActionCreator.loadFormFields(Object(r.__assign)(Object(r.__assign)({},e),{useCache:!0})),Object(o.defer)((function(){return n._checkoutRequestSender.loadCheckout(t,e).then((function(t){var e=t.body;return Object(i.createAction)(u.a.LoadCheckoutSucceeded,e)}))})))).pipe(Object(a.catchError)((function(t){return Object(s.a)(u.a.LoadCheckoutFailed,t)})))},t.prototype.loadDefaultCheckout=function(t){var e=this;return function(n){return Object(o.concat)(Object(o.of)(Object(i.createAction)(u.a.LoadCheckoutRequested)),Object(o.merge)(e._configActionCreator.loadConfig(),e._formFieldsActionCreator.loadFormFields(Object(r.__assign)(Object(r.__assign)({},t),{useCache:!0}))),Object(o.defer)((function(){return Object(r.__awaiter)(e,void 0,void 0,(function(){var e,o,a;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:if(e=n.getState(),!(o=e.config.getContextConfig())||!o.checkoutId)throw new c.b(c.a.MissingCheckoutConfig);return[4,this._checkoutRequestSender.loadCheckout(o.checkoutId,t)];case 1:return a=r.sent().body,[2,Object(i.createAction)(u.a.LoadCheckoutSucceeded,a)]}}))}))}))).pipe(Object(a.catchError)((function(t){return Object(s.a)(u.a.LoadCheckoutFailed,t)})))}},t.prototype.updateCheckout=function(t,e){var n=this;return function(r){return new o.Observable((function(o){var a=r.getState().checkout.getCheckout();if(!a)throw new c.b(c.a.MissingCheckout);o.next(Object(i.createAction)(u.a.UpdateCheckoutRequested)),n._checkoutRequestSender.updateCheckout(a.id,t,e).then((function(t){var e=t.body;o.next(Object(i.createAction)(u.a.UpdateCheckoutSucceeded,e)),o.complete()})).catch((function(t){o.error(Object(i.createErrorAction)(u.a.UpdateCheckoutFailed,t))}))}))}},t.prototype.loadCurrentCheckout=function(t){var e=this;return function(n){var r=n.getState().checkout.getCheckout();if(!r)throw new c.b(c.a.MissingCheckout);return e.loadCheckout(r.id,t)}},t}();e.a=d},function(t,e,n){"use strict";var r=n(0),i=n(1),o=n(2),a=n(3),s=n(139),c=n(12),u=n(52),d=n(6),p=function(){function t(t,e){this._consignmentRequestSender=t,this._checkoutRequestSender=e}return t.prototype.unassignItemsByAddress=function(t,e){var n=this;return function(r){var i=r.getState();if(!i.checkout.getCheckout())throw new c.b(c.a.MissingCheckout);var o=i.consignments.getConsignmentByAddress(t.shippingAddress);if(!o)throw new u.a("No consignment found for the specified address");var a=n._removeLineItems(t.lineItems,o,i.cart.getCart());return a.length?n.updateConsignment({id:o.id,shippingAddress:t.shippingAddress,lineItems:a},e)(r):n.deleteConsignment(o.id,e)(r)}},t.prototype.assignItemsByAddress=function(t,e){var n=this;return function(r){var i=r.getState(),o=i.consignments.getConsignmentByAddress(t.shippingAddress);return n._createOrUpdateConsignment({id:o&&o.id,shippingAddress:t.shippingAddress,lineItems:n._addLineItems(t.lineItems,o,i.cart.getCart())},e)(r)}},t.prototype.selectShippingOption=function(t,e){var n=this;return function(r){return a.Observable.create((function(o){var a=r.getState(),s=a.checkout.getCheckout(),u=a.consignments.getConsignments();if(!s)throw new c.b(c.a.MissingCheckout);if(!u||!u.length)throw new c.b(c.a.MissingConsignments);var p={id:u[0].id,shippingOptionId:t},h={id:u[0].id};o.next(Object(i.createAction)(d.a.UpdateShippingOptionRequested,void 0,h)),n._consignmentRequestSender.updateConsignment(s.id,p,e).then((function(t){var e=t.body;o.next(Object(i.createAction)(d.a.UpdateShippingOptionSucceeded,e,h)),o.complete()})).catch((function(t){o.error(Object(i.createErrorAction)(d.a.UpdateShippingOptionFailed,t,h))}))}))}},t.prototype.loadShippingOptions=function(t){var e=this;return function(n){return a.Observable.create((function(o){var a=n.getState().checkout.getCheckout();if(!a)throw new c.b(c.a.MissingCheckout);o.next(Object(i.createAction)(d.a.LoadShippingOptionsRequested)),e._checkoutRequestSender.loadCheckout(a.id,Object(r.__assign)(Object(r.__assign)({},t),{params:{include:[s.a.AvailableShippingOptions]}})).then((function(t){var e=t.body;o.next(Object(i.createAction)(d.a.LoadShippingOptionsSucceeded,e)),o.complete()})).catch((function(t){o.error(Object(i.createErrorAction)(d.a.LoadShippingOptionsFailed,t))}))}))}},t.prototype.updateAddress=function(t,e){var n=this;return function(r){var i=n._getUpdateAddressRequestBody(t,r),o=r.getState().consignments.getConsignments();return o&&o.length&&(i.id=o[0].id),n._createOrUpdateConsignment(i,e)(r)}},t.prototype.createConsignments=function(t,e){var n=this;return function(r){return a.Observable.create((function(o){var a=r.getState().checkout.getCheckout();if(!a||!a.id)throw new c.b(c.a.MissingCheckout);o.next(Object(i.createAction)(d.a.CreateConsignmentsRequested)),n._consignmentRequestSender.createConsignments(a.id,t,e).then((function(t){var e=t.body;o.next(Object(i.createAction)(d.a.CreateConsignmentsSucceeded,e)),o.complete()})).catch((function(t){o.error(Object(i.createErrorAction)(d.a.CreateConsignmentsFailed,t))}))}))}},t.prototype.updateConsignment=function(t,e){var n=this;return function(r){return a.Observable.create((function(o){var a=r.getState().checkout.getCheckout();if(!a||!a.id)throw new c.b(c.a.MissingCheckout);var s={id:t.id};o.next(Object(i.createAction)(d.a.UpdateConsignmentRequested,void 0,s)),n._consignmentRequestSender.updateConsignment(a.id,t,e).then((function(t){var e=t.body;o.next(Object(i.createAction)(d.a.UpdateConsignmentSucceeded,e,s)),o.complete()})).catch((function(t){o.error(Object(i.createErrorAction)(d.a.UpdateConsignmentFailed,t,s))}))}))}},t.prototype.deleteConsignment=function(t,e){var n=this;return function(r){return a.Observable.create((function(o){var a=r.getState().checkout.getCheckout(),s={id:t};if(!a||!a.id)throw new c.b(c.a.MissingCheckout);o.next(Object(i.createAction)(d.a.DeleteConsignmentRequested,void 0,s)),n._consignmentRequestSender.deleteConsignment(a.id,t,e).then((function(t){var e=t.body;o.next(Object(i.createAction)(d.a.DeleteConsignmentSucceeded,e,s)),o.complete()})).catch((function(t){o.error(Object(i.createErrorAction)(d.a.DeleteConsignmentFailed,t,s))}))}))}},t.prototype.updateShippingOption=function(t,e){var n=this;return function(r){return a.Observable.create((function(o){var a=r.getState().checkout.getCheckout();if(!a||!a.id)throw new c.b(c.a.MissingCheckout);var s={id:t.id};o.next(Object(i.createAction)(d.a.UpdateShippingOptionRequested,void 0,s)),n._consignmentRequestSender.updateConsignment(a.id,t,e).then((function(t){var e=t.body;o.next(Object(i.createAction)(d.a.UpdateShippingOptionSucceeded,e,s)),o.complete()})).catch((function(t){o.error(Object(i.createErrorAction)(d.a.UpdateShippingOptionFailed,t,s))}))}))}},t.prototype._createOrUpdateConsignment=function(t,e){var n=this;return function(r){var i=r.getState().checkout.getCheckout();if(!i||!i.id)throw new c.b(c.a.MissingCheckout);return n._isUpdateConsignmentRequest(t)?n.updateConsignment(t,e)(r):n.createConsignments([t],e)(r)}},t.prototype._getUpdateAddressRequestBody=function(t,e){var n=e.getState().cart.getCart();if(!n)throw new c.b(c.a.MissingCart);var i=n.lineItems,o=i.physicalItems,a=i.customItems,s=void 0===a?[]:a;return{shippingAddress:t,lineItems:Object(r.__spreadArrays)(o,s).map((function(t){return{itemId:t.id,quantity:t.quantity}}))}},t.prototype._removeLineItems=function(t,e,n){if(!n)throw new c.b(c.a.MissingCart);return this._hydrateLineItems(e.lineItemIds,n).map((function(e){var n=Object(o.find)(t,(function(t){return t.itemId===e.itemId}));return Object(r.__assign)(Object(r.__assign)({},e),{quantity:n?e.quantity-n.quantity:e.quantity})})).filter((function(t){return t.quantity>0}))},t.prototype._addLineItems=function(t,e,n){if(!e)return t;if(!n)throw new c.b(c.a.MissingCart);return t.concat(this._hydrateLineItems(e.lineItemIds,n)).filter((function(t){return t.quantity>0}))},t.prototype._hydrateLineItems=function(t,e){return t.map((function(t){var n=Object(o.find)(e.lineItems.physicalItems,(function(e){return e.id===t}));return{itemId:t,quantity:n?n.quantity:0}}))},t.prototype._isUpdateConsignmentRequest=function(t){return!!t.id},t}();e.a=p},function(t,e,n){"use strict";var r=n(0),i=n(31),o=n(113),a=n(64),s=["consignments.availableShippingOptions","cart.lineItems.physicalItems.options","cart.lineItems.digitalItems.options","customer","promotions.banners"],c=function(){function t(t){this._requestSender=t}return t.prototype.createConsignments=function(t,e,n){var r=void 0===n?{}:n,a=r.timeout,c=r.params,u=(void 0===c?{}:c).include,d="/api/storefront/checkouts/"+t+"/consignments",p={Accept:i.a.JsonV1};return this._requestSender.post(d,{body:e,params:{include:Object(o.a)(s,u)},headers:p,timeout:a})},t.prototype.updateConsignment=function(t,e,n){var a=void 0===n?{}:n,c=a.timeout,u=a.params,d=(void 0===u?{}:u).include,p=e.id,h=Object(r.__rest)(e,["id"]),l="/api/storefront/checkouts/"+t+"/consignments/"+p,m={Accept:i.a.JsonV1};return this._requestSender.put(l,{body:h,params:{include:Object(o.a)(s,d)},headers:m,timeout:c})},t.prototype.deleteConsignment=function(t,e,n){var r=(void 0===n?{}:n).timeout,o="/api/storefront/checkouts/"+t+"/consignments/"+e,c={Accept:i.a.JsonV1},u=Object(a.a)(s);return this._requestSender.delete(o,{params:{include:u},headers:c,timeout:r})},t}();e.a=c},function(t,e,n){"use strict";function r(t){return window.location.origin+"/checkout.php?action=set_external_checkout&provider=masterpass&gateway=stripe&origin="+t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r=n(0),i=n(2),o=n(59),a=n(101),s=n(12),c=n(99),u=n(109),d=n(110),p=n(100),h=n(80),l=n(41),m=function(){function t(){this._cardExpiryFormatter=new u.a,this._cardNumberFormatter=new d.a}return t.prototype.transform=function(t,e){var n=e.billingAddress.getBillingAddress(),u=e.checkout.getCheckout(),d=e.customer.getCustomer(),m=e.order.getOrder(),f=e.paymentMethods.getPaymentMethod(t.methodId,t.gatewayId),_=e.shippingAddress.getShippingAddress(),y=e.consignments.getConsignments(),g=e.consignments.getShippingOption(),b=e.config.getStoreConfig(),v=e.config.getContextConfig(),C=e.instruments.getInstrumentsMeta(),O=e.paymentMethods.getPaymentMethodsMeta(),S=e.order.getOrderMeta(),w=d&&n&&Object(c.a)(d,n),I=C&&t.paymentData&&(Object(l.a)(t.paymentData)||Object(l.b)(t.paymentData))?e.payment.getPaymentToken()+", "+C.vaultAccessToken:e.payment.getPaymentToken();if(!I)throw new s.b(s.a.MissingPaymentToken);return{additionalAction:t.additionalAction,authToken:I,customer:w,billingAddress:n&&Object(o.a)(n),shippingAddress:_&&Object(o.a)(_,y),shippingOption:g&&Object(h.a)(g,!0),cart:u&&Object(a.a)(u),order:m&&Object(p.a)(m,S),orderMeta:S,payment:t.paymentData,paymentMethod:f&&this._transformPaymentMethod(f),quoteMeta:{request:Object(r.__assign)(Object(r.__assign)({},O),{geoCountryCode:v&&v.geoCountryCode})},source:"bigcommerce-checkout-js-sdk",store:Object(i.pick)(b&&b.storeProfile,["storeHash","storeId","storeLanguage","storeName"])}},t.prototype.transformWithHostedFormData=function(t,e,n){var s=e.additionalAction,u=e.authToken,d=e.checkout,l=e.config,m=e.order,f=e.orderMeta,_=e.payment,y=void 0===_?{}:_,g=e.paymentMethod,b=e.paymentMethodMeta,v=d&&d.consignments[0],C=v&&v.shippingAddress,O=v&&v.selectedShippingOption;return{additionalAction:s,authToken:u,paymentMethod:g&&this._transformPaymentMethod(g),customer:m&&m.billingAddress&&d&&Object(c.a)(d.customer,m.billingAddress),billingAddress:m&&m.billingAddress&&Object(o.a)(m.billingAddress),shippingAddress:C&&d&&Object(o.a)(C,d.consignments),shippingOption:O&&Object(h.a)(O,!0),cart:d&&Object(a.a)(d),order:m&&Object(p.a)(m,f),orderMeta:f,payment:this._transformHostedInputValues(t,y,n),quoteMeta:{request:Object(r.__assign)(Object(r.__assign)({},b),{geoCountryCode:l&&l.context.geoCountryCode})},source:"bigcommerce-checkout-js-sdk",store:l&&Object(i.pick)(l.storeConfig.storeProfile,["storeHash","storeId","storeLanguage","storeName"])}},t.prototype._transformPaymentMethod=function(t){return"multi-option"!==t.method||t.gateway?t.initializationData&&t.initializationData.gateway?Object(r.__assign)(Object(r.__assign)({},t),{id:t.initializationData.gateway}):t:Object(r.__assign)(Object(r.__assign)({},t),{gateway:t.id})},t.prototype._transformHostedInputValues=function(t,e,n){return"instrumentId"in e?Object(r.__assign)(Object(r.__assign)({},e),{ccCvv:t.cardCodeVerification,ccNumber:t.cardNumberVerification&&this._cardNumberFormatter.unformat(t.cardNumberVerification),hostedFormNonce:n}):Object(r.__assign)(Object(r.__assign)({},e),{ccCvv:t.cardCode,ccExpiry:this._cardExpiryFormatter.toObject(t.cardExpiry||""),ccName:t.cardName||"",ccNumber:this._cardNumberFormatter.unformat(t.cardNumber||""),hostedFormNonce:n})},t}();e.a=m},function(t,e,n){"use strict";var r=function(){function t(t){this._client=t}return t.prototype.submitPayment=function(t){var e=this;return new Promise((function(n,r){e._client.submitPayment(t,(function(t,i){t?r(e._transformResponse(t)):n(e._transformResponse(i))}))}))},t.prototype.initializeOffsitePayment=function(t,e){var n=this;return new Promise((function(){n._client.initializeOffsitePayment(t,null,e)}))},t.prototype._transformResponse=function(t){return{headers:t.headers,body:t.data,status:t.status,statusText:t.statusText}},t}();e.a=r},function(t,e,n){"use strict";function r(t){return 0===(""+t).indexOf("$$")||0===(""+t).indexOf("_")}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r=n(0),i=n(1),o=n(170),a=n(37),s=function(t){function e(e,n){var r=t.call(this,e,{message:n||"An unexpected error has occurred. The checkout process cannot continue as a result."})||this;return r.name="UnrecoverableError",r.type="unrecoverable",r}return Object(r.__extends)(e,t),e}(a.a),c=n(2);function u(t){return t.reduce((function(t,e){return e?Object(r.__spreadArrays)(t,[e]):t}),[]).join(" ")}var d=n(168),p=n(169),h=function(){function t(){this._factoryMethods={},this.register("default",(function(t,e){return new a.a(t,{message:e})})),this.register("internal",(function(t,e){return function(t,e){var n=t.body,r=n.errors,i=void 0===r?[]:r;return new a.a(t,{message:u(i)||n.detail||n.title||e,errors:i.length?i.map((function(t){return{code:n.type,message:t}})):[{code:n.type,message:n.detail||n.title}]})}(t,e)})),this.register("storefront",(function(t,e){return function(t,e){var n=t.body;return new a.a(t,{message:e||n.detail||n.title,errors:[{code:n.code||n.type,message:n.detail||n.title}]})}(t,e)})),this.register("payment",(function(t,e){return Object(d.a)(t,e)})),this.register("timeout",(function(t){return new p.a(t)}))}return t.prototype.register=function(t,e){this._factoryMethods[t]=e},t.prototype.createError=function(t,e){return(this._factoryMethods[this._getType(t)]||this._factoryMethods.default)(t,e)},t.prototype._getType=function(t){if(0===t.status)return"timeout";if(this._isStorefrontErrorResponseBody(t.body))return"storefront";if(this._isInternalErrorResponseBody(t.body)){var e=Object(c.last)(t.body.type.split("/"));return e&&this._factoryMethods[e]?e:"internal"}var n=Object(c.last)(t.body&&t.body.errors);return n&&n.code&&this._factoryMethods[n.code]?n.code:"payment"},t.prototype._isStorefrontErrorResponseBody=function(t){var e=t;return!this._isInternalErrorResponseBody(t)&&"string"==typeof e.title&&"string"==typeof e.type&&"number"==typeof e.status&&"string"==typeof e.detail},t.prototype._isInternalErrorResponseBody=function(t){var e=t;return"object"==typeof e.errors&&"string"==typeof e.title&&"string"==typeof e.type&&"number"==typeof e.status},t}();var l=n(3),m=n(8);var f=n(17),_=n(129),y=n(87);function g(t,e){return function(t){return t.type===y.a.ClearError}(e)?Object(_.a)(t,(function(t){return t===e.payload})):t}var b=n(72);function v(t,e){return void 0===e||Object(b.a)(t,e)?t:e}function C(t,e,n){var i;return t&&t.hasOwnProperty(e)&&Object(b.a)(t[e],n)?t:Object(r.__assign)(Object(r.__assign)({},t),((i={})[e]=n,i))}var O=n(18),S=n(172),w=n(20),I={errors:{},statuses:{}};function A(t,e){return void 0===t&&(t=I),Object(i.combineReducers)({data:E,errors:Object(i.composeReducers)(P,g),statuses:j})(t,e)}function E(t,e){switch(e.type){case w.a.UpdateBillingAddressSucceeded:case w.a.ContinueAsGuestSucceeded:case f.a.LoadCheckoutSucceeded:case O.a.LoadOrderSucceeded:return v(t,e.payload&&e.payload.billingAddress);default:return t}}function P(t,e){switch(void 0===t&&(t=I.errors),e.type){case f.a.LoadCheckoutRequested:case f.a.LoadCheckoutSucceeded:return C(t,"loadError",void 0);case f.a.LoadCheckoutFailed:return C(t,"loadError",e.payload);case w.a.UpdateBillingAddressRequested:case w.a.UpdateBillingAddressSucceeded:return C(t,"updateError",void 0);case w.a.UpdateBillingAddressFailed:return C(t,"updateError",e.payload);case S.a.UpdateSubscriptionsRequested:case S.a.UpdateSubscriptionsSucceeded:case w.a.ContinueAsGuestRequested:case w.a.ContinueAsGuestSucceeded:return C(t,"continueAsGuestError",void 0);case S.a.UpdateSubscriptionsFailed:case w.a.ContinueAsGuestFailed:return C(t,"continueAsGuestError",e.payload);default:return t}}function j(t,e){switch(void 0===t&&(t=I.statuses),e.type){case f.a.LoadCheckoutRequested:return C(t,"isLoading",!0);case f.a.LoadCheckoutSucceeded:case f.a.LoadCheckoutFailed:return C(t,"isLoading",!1);case w.a.UpdateBillingAddressRequested:return C(t,"isUpdating",!0);case w.a.UpdateBillingAddressFailed:case w.a.UpdateBillingAddressSucceeded:return C(t,"isUpdating",!1);case w.a.ContinueAsGuestRequested:case S.a.UpdateSubscriptionsRequested:return C(t,"isContinuingAsGuest",!0);case S.a.UpdateSubscriptionsSucceeded:case S.a.UpdateSubscriptionsFailed:case w.a.ContinueAsGuestFailed:case w.a.ContinueAsGuestSucceeded:return C(t,"isContinuingAsGuest",!1);default:return t}}var k=n(42);var M=function t(e,n,r){var i=(r||{}).matchObject,o=void 0===i?function(t,e){return void 0!==t.id&&t.id===e.id}:i;if(!e)return n;if(!n||e===n)return e;var a=0,s=0,u=function(t,e,n){return a+=t===e?1:0,s+=t===n?1:0,t},d=n.map((function(n,r){var i=e&&e[r];return Object(k.a)(i)&&Object(k.a)(n)?o(i,n)?u(T(i,n),i,n):u(v(i,n),i,n):Object(c.isArray)(i)&&Object(c.isArray)(n)?u(t(i,n),i,n):u(v(i,n),i,n)}));return a===n.length&&e&&e.length===n.length?e:s===n.length?n:d};var T=function t(e,n){return e?n&&e!==n?Object.keys(n).reduce((function(e,r){var i=e[r],o=n[r];return Object(k.a)(i)&&Object(k.a)(o)?C(e,r,t(i,o)):Object(c.isArray)(i)&&Object(c.isArray)(o)?C(e,r,M(i,o)):C(e,r,o)}),e):e:n},R=n(22),D=n(26),z=n(6),L={errors:{},statuses:{}};function N(t,e){return void 0===t&&(t=L),Object(i.combineReducers)({data:F,errors:Object(i.composeReducers)(U,g),statuses:q})(t,e)}function F(t,e){switch(e.type){case w.a.UpdateBillingAddressSucceeded:case f.a.LoadCheckoutSucceeded:case z.a.CreateConsignmentsSucceeded:case z.a.DeleteConsignmentSucceeded:case z.a.UpdateConsignmentSucceeded:case z.a.UpdateShippingOptionSucceeded:case z.a.LoadShippingOptionsSucceeded:case R.a.ApplyCouponSucceeded:case R.a.RemoveCouponSucceeded:case D.a.ApplyGiftCertificateSucceeded:case D.a.RemoveGiftCertificateSucceeded:return T(t,e.payload&&e.payload.cart);default:return t}}function q(t,e){switch(void 0===t&&(t=L.statuses),e.type){case f.a.LoadCheckoutRequested:return C(t,"isLoading",!0);case f.a.LoadCheckoutFailed:case f.a.LoadCheckoutSucceeded:return C(t,"isLoading",!1);default:return t}}function U(t,e){switch(void 0===t&&(t=L.errors),e.type){case f.a.LoadCheckoutRequested:case f.a.LoadCheckoutSucceeded:return C(t,"loadError",void 0);case f.a.LoadCheckoutFailed:return C(t,"loadError",e.payload);default:return t}}var x=n(21),B={data:{},errors:{},statuses:{}},G={initializedContainers:{}},V={},Y={};function H(t,e){var n,r,o;return void 0===t&&(t=B),e.meta&&e.meta.methodId?Object(i.combineReducers)({data:Object(i.combineReducers)((n={},n[e.meta.methodId]=W,n)),errors:Object(i.combineReducers)((r={},r[e.meta.methodId]=K,r)),statuses:Object(i.combineReducers)((o={},o[e.meta.methodId]=J,o))})(t,e):t}function W(t,e){var n;switch(void 0===t&&(t=G),e.type){case x.a.InitializeButtonSucceeded:return e.meta&&e.meta.containerId?T(t,{initializedContainers:(n={},n[e.meta.containerId]=!0,n)}):t;case x.a.DeinitializeButtonSucceeded:return C(t,"initializedContainers",{})}return t}function K(t,e){switch(void 0===t&&(t=V),e.type){case x.a.InitializeButtonRequested:case x.a.InitializeButtonSucceeded:return C(t,"initializeError",void 0);case x.a.InitializeButtonFailed:return C(t,"initializeError",e.payload);case x.a.DeinitializeButtonRequested:case x.a.DeinitializeButtonSucceeded:return C(t,"deinitializeError",void 0);case x.a.DeinitializeButtonFailed:return C(t,"deinitializeError",e.payload);default:return t}}function J(t,e){switch(void 0===t&&(t=Y),e.type){case x.a.InitializeButtonRequested:return C(t,"isInitializing",!0);case x.a.InitializeButtonFailed:case x.a.InitializeButtonSucceeded:return C(t,"isInitializing",!1);case x.a.DeinitializeButtonRequested:return C(t,"isDeinitializing",!0);case x.a.DeinitializeButtonFailed:case x.a.DeinitializeButtonSucceeded:return C(t,"isDeinitializing",!1);default:return t}}var Z=n(39),Q={meta:{},errors:{},statuses:{}};function X(t,e){return void 0===t&&(t=Q),Object(i.combineReducers)({data:$,errors:Object(i.composeReducers)(tt,g),statuses:et})(t,e)}function $(t,e){switch(e.type){case Z.a.LoadConfigSucceeded:return T(t,e.payload);default:return t}}function tt(t,e){switch(void 0===t&&(t=Q.errors),e.type){case Z.a.LoadConfigSucceeded:return C(t,"loadError",void 0);case Z.a.LoadConfigFailed:return C(t,"loadError",e.payload);default:return t}}function et(t,e){switch(void 0===t&&(t=Q.statuses),e.type){case Z.a.LoadConfigRequested:return C(t,"isLoading",!0);case Z.a.LoadConfigSucceeded:case Z.a.LoadConfigFailed:return C(t,"isLoading",!1);default:return t}}var nt={errors:{},statuses:{}};function rt(t,e){return void 0===t&&(t=nt),Object(i.combineReducers)({data:it,errors:Object(i.composeReducers)(ot,g),statuses:at})(t,e)}function it(t,e){switch(e.type){case f.a.LoadCheckoutSucceeded:case R.a.ApplyCouponSucceeded:case z.a.UpdateShippingOptionSucceeded:case R.a.RemoveCouponSucceeded:case O.a.LoadOrderSucceeded:return M(t,e.payload&&e.payload.coupons);default:return t}}function ot(t,e){switch(void 0===t&&(t={}),e.type){case R.a.ApplyCouponRequested:case R.a.ApplyCouponSucceeded:return C(t,"applyCouponError",void 0);case R.a.ApplyCouponFailed:return C(t,"applyCouponError",e.payload);case R.a.RemoveCouponRequested:case R.a.RemoveCouponSucceeded:return C(t,"removeCouponError",void 0);case R.a.RemoveCouponFailed:return C(t,"removeCouponError",e.payload);default:return t}}function at(t,e){switch(void 0===t&&(t={}),e.type){case R.a.ApplyCouponRequested:return C(t,"isApplyingCoupon",!0);case R.a.ApplyCouponSucceeded:case R.a.ApplyCouponFailed:return C(t,"isApplyingCoupon",!1);case R.a.RemoveCouponRequested:return C(t,"isRemovingCoupon",!0);case R.a.RemoveCouponSucceeded:case R.a.RemoveCouponFailed:return C(t,"isRemovingCoupon",!1);default:return t}}var st={errors:{},statuses:{}};function ct(t,e){return void 0===t&&(t=st),Object(i.combineReducers)({data:ut,errors:Object(i.composeReducers)(dt,g),statuses:pt})(t,e)}function ut(t,e){switch(e.type){case f.a.LoadCheckoutSucceeded:case z.a.CreateConsignmentsSucceeded:case z.a.UpdateConsignmentSucceeded:case z.a.DeleteConsignmentSucceeded:case z.a.UpdateShippingOptionSucceeded:case R.a.ApplyCouponSucceeded:case R.a.RemoveCouponSucceeded:case D.a.ApplyGiftCertificateSucceeded:case D.a.RemoveGiftCertificateSucceeded:return M(t,e.payload&&e.payload.giftCertificates);default:return t}}function dt(t,e){switch(void 0===t&&(t=st.errors),e.type){case D.a.ApplyGiftCertificateRequested:case D.a.ApplyGiftCertificateSucceeded:return C(t,"applyGiftCertificateError",void 0);case D.a.ApplyGiftCertificateFailed:return C(t,"applyGiftCertificateError",e.payload);case D.a.RemoveGiftCertificateRequested:case D.a.RemoveGiftCertificateSucceeded:return C(t,"removeGiftCertificateError",void 0);case D.a.RemoveGiftCertificateFailed:return C(t,"removeGiftCertificateError",e.payload);default:return t}}function pt(t,e){switch(void 0===t&&(t=st.statuses),e.type){case D.a.ApplyGiftCertificateRequested:return C(t,"isApplyingGiftCertificate",!0);case D.a.ApplyGiftCertificateSucceeded:case D.a.ApplyGiftCertificateFailed:return C(t,"isApplyingGiftCertificate",!1);case D.a.RemoveGiftCertificateRequested:return C(t,"isRemovingGiftCertificate",!0);case D.a.RemoveGiftCertificateSucceeded:case D.a.RemoveGiftCertificateFailed:return C(t,"isRemovingGiftCertificate",!1);default:return t}}var ht=n(36),lt={errors:{},statuses:{}};function mt(t,e){return void 0===t&&(t=lt),Object(i.combineReducers)({data:ft,errors:Object(i.composeReducers)(_t,g),statuses:yt})(t,e)}function ft(t,e){switch(e.type){case w.a.ContinueAsGuestSucceeded:case f.a.LoadCheckoutSucceeded:return T(t,e.payload&&e.payload.customer);default:return t}}function _t(t,e){switch(void 0===t&&(t=lt.errors),e.type){case ht.a.CreateCustomerRequested:case ht.a.CreateCustomerSucceeded:return C(t,"createError",void 0);case ht.a.CreateCustomerFailed:return C(t,"createError",e.payload);default:return t}}function yt(t,e){switch(void 0===t&&(t=lt.statuses),e.type){case ht.a.CreateCustomerRequested:return C(t,"isCreating",!0);case ht.a.CreateCustomerFailed:case ht.a.CreateCustomerSucceeded:return C(t,"isCreating",!1);default:return t}}var gt=n(10),bt={data:{},errors:{},statuses:{}};function vt(t,e){return void 0===t&&(t=bt),Object(i.combineReducers)({data:Ct,errors:Object(i.composeReducers)(Ot,g),statuses:St})(t,e)}function Ct(t,e){var n,r;switch(void 0===t&&(t=bt.data),e.type){case gt.a.InitializeSucceeded:return T(t,((n={})[e.meta&&e.meta.methodId]={isInitialized:!0},n));case gt.a.DeinitializeSucceeded:return T(t,((r={})[e.meta&&e.meta.methodId]={isInitialized:!1},r))}return t}function Ot(t,e){switch(void 0===t&&(t=bt.errors),e.type){case gt.a.InitializeRequested:case gt.a.InitializeSucceeded:return T(t,{initializeError:void 0,initializeMethodId:void 0});case gt.a.InitializeFailed:return T(t,{initializeError:e.payload,initializeMethodId:e.meta&&e.meta.methodId});case gt.a.DeinitializeRequested:case gt.a.DeinitializeSucceeded:return T(t,{deinitializeError:void 0,deinitializeMethodId:void 0});case gt.a.DeinitializeFailed:return T(t,{deinitializeError:e.payload,deinitializeMethodId:e.meta&&e.meta.methodId});case gt.a.SignInRequested:case gt.a.SignInSucceeded:return T(t,{signInError:void 0,signInMethodId:void 0});case gt.a.SignInFailed:return T(t,{signInError:e.payload,signInMethodId:e.meta&&e.meta.methodId});case gt.a.SignOutRequested:case gt.a.SignOutSucceeded:return T(t,{signOutError:void 0,signOutMethodId:void 0});case gt.a.SignOutFailed:return T(t,{signOutError:e.payload,signOutMethodId:e.meta&&e.meta.methodId});case gt.a.WidgetInteractionStarted:case gt.a.WidgetInteractionFinished:return T(t,{widgetInteractionError:void 0,widgetInteractionMethodId:void 0});case gt.a.WidgetInteractionFailed:return T(t,{widgetInteractionError:e.payload,widgetInteractionMethodId:e.meta.methodId});default:return t}}function St(t,e){switch(void 0===t&&(t=bt.statuses),e.type){case gt.a.InitializeRequested:return T(t,{isInitializing:!0,initializeMethodId:e.meta&&e.meta.methodId});case gt.a.InitializeFailed:case gt.a.InitializeSucceeded:return T(t,{isInitializing:!1,initializeMethodId:void 0});case gt.a.DeinitializeRequested:return T(t,{isDeinitializing:!0,deinitializeMethodId:e.meta&&e.meta.methodId});case gt.a.DeinitializeFailed:case gt.a.DeinitializeSucceeded:return T(t,{isDeinitializing:!1,deinitializeMethodId:void 0});case gt.a.SignInRequested:return T(t,{isSigningIn:!0,signInMethodId:e.meta&&e.meta.methodId});case gt.a.SignInFailed:case gt.a.SignInSucceeded:return T(t,{isSigningIn:!1,signInMethodId:void 0});case gt.a.SignOutRequested:return T(t,{isSigningOut:!0,signOutMethodId:e.meta&&e.meta.methodId});case gt.a.SignOutFailed:case gt.a.SignOutSucceeded:return T(t,{isSigningOut:!1,signOutMethodId:void 0});case gt.a.WidgetInteractionStarted:return T(t,{isWidgetInteracting:!0,widgetInteractionMethodId:e.meta.methodId});case gt.a.WidgetInteractionFinished:case gt.a.WidgetInteractionFailed:return T(t,{isWidgetInteracting:!1,widgetInteractionMethodId:void 0});default:return t}}var wt=n(40),It={errors:{},statuses:{}};function At(t,e){return void 0===t&&(t=It),Object(i.combineReducers)({data:Et,errors:Object(i.composeReducers)(Pt,g),statuses:jt})(t,e)}function Et(t,e){switch(e.type){case wt.a.LoadFormFieldsSucceeded:return T(t,e.payload);default:return t}}function Pt(t,e){switch(void 0===t&&(t=It.errors),e.type){case wt.a.LoadFormFieldsSucceeded:return C(t,"loadError",void 0);case wt.a.LoadFormFieldsFailed:return C(t,"loadError",e.payload);default:return t}}function jt(t,e){switch(void 0===t&&(t=It.statuses),e.type){case wt.a.LoadFormFieldsRequested:return C(t,"isLoading",!0);case wt.a.LoadFormFieldsSucceeded:case wt.a.LoadFormFieldsFailed:return C(t,"isLoading",!1);default:return t}}var kt=n(43),Mt={errors:{},statuses:{}};function Tt(t,e){return void 0===t&&(t=Mt),Object(i.combineReducers)({data:Rt,errors:Object(i.composeReducers)(Dt,g),statuses:zt})(t,e)}function Rt(t,e){switch(e.type){case kt.a.LoadCountriesSucceeded:return M(t,e.payload);default:return t}}function Dt(t,e){switch(void 0===t&&(t=Mt.errors),e.type){case kt.a.LoadCountriesRequested:case kt.a.LoadCountriesSucceeded:return C(t,"loadError",void 0);case kt.a.LoadCountriesFailed:return C(t,"loadError",e.payload);default:return t}}function zt(t,e){switch(void 0===t&&(t=Mt.statuses),e.type){case kt.a.LoadCountriesRequested:return C(t,"isLoading",!0);case kt.a.LoadCountriesSucceeded:case kt.a.LoadCountriesFailed:return C(t,"isLoading",!1);default:return t}}var Lt={errors:{},meta:{},statuses:{}};function Nt(t,e){return void 0===t&&(t=Lt),Object(i.combineReducers)({data:Ft,errors:Object(i.composeReducers)(Ut,g),meta:qt,statuses:xt})(t,e)}function Ft(t,e){switch(e.type){case O.a.LoadOrderSucceeded:case O.a.LoadOrderPaymentsSucceeded:return T(t,Object(c.omit)(e.payload,["billingAddress","coupons"]));default:return t}}function qt(t,e){switch(e.type){case O.a.FinalizeOrderSucceeded:case O.a.SubmitOrderSucceeded:return T(t,Object(r.__assign)(Object(r.__assign)({},e.meta),{callbackUrl:e.payload&&e.payload.order.callbackUrl,orderToken:e.payload&&e.payload.order.token,payment:e.payload&&e.payload.order&&e.payload.order.payment}));default:return t}}function Ut(t,e){switch(void 0===t&&(t=Lt.errors),e.type){case O.a.LoadOrderRequested:case O.a.LoadOrderSucceeded:case O.a.LoadOrderPaymentsSucceeded:case O.a.LoadOrderPaymentsRequested:return C(t,"loadError",void 0);case O.a.LoadOrderFailed:case O.a.LoadOrderPaymentsFailed:return C(t,"loadError",e.payload);default:return t}}function xt(t,e){switch(void 0===t&&(t=Lt.statuses),e.type){case O.a.LoadOrderRequested:case O.a.LoadOrderPaymentsRequested:return C(t,"isLoading",!0);case O.a.LoadOrderSucceeded:case O.a.LoadOrderFailed:case O.a.LoadOrderPaymentsSucceeded:case O.a.LoadOrderPaymentsFailed:return C(t,"isLoading",!1);default:return t}}var Bt=n(61);function Gt(t,e){return void 0===t&&(t={}),Object(i.combineReducers)({data:Vt})(t,e)}function Vt(t,e){switch(e.type){case Bt.a.SubmitPaymentSucceeded:return e.payload;default:return t}}var Yt=n(19),Ht={errors:{},statuses:{}};function Wt(t,e){return void 0===t&&(t=Ht),Object(i.combineReducers)({data:Kt,errors:Object(i.composeReducers)(Zt,g),meta:Jt,statuses:Qt})(t,e)}function Kt(t,e){switch(e.type){case Yt.a.LoadPaymentMethodSucceeded:return function(t,e,n){if(!e)return t;var i=Object(c.pick)(e,"id"),o=Object(c.findIndex)(t,"object"==typeof n?Object(c.pickBy)(n):n||i),a=Object(r.__spreadArrays)(t);if(-1===o)a.push(e);else{var s=t[o];a[o]=Object(k.a)(s)&&Object(k.a)(e)?T(s,e):e}return a}(t||[],e.payload,e.payload&&{id:e.payload.id,gateway:e.payload.gateway});case Yt.a.LoadPaymentMethodsSucceeded:return M(t,e.payload,{matchObject:function(t,e){return t.id===e.id&&t.gateway===e.gateway}});default:return t}}function Jt(t,e){switch(e.type){case Yt.a.LoadPaymentMethodsSucceeded:return T(t,e.meta);default:return t}}function Zt(t,e){switch(void 0===t&&(t=Ht.errors),e.type){case Yt.a.LoadPaymentMethodsRequested:case Yt.a.LoadPaymentMethodsSucceeded:return C(t,"loadError",void 0);case Yt.a.LoadPaymentMethodsFailed:return C(t,"loadError",e.payload);case Yt.a.LoadPaymentMethodRequested:case Yt.a.LoadPaymentMethodSucceeded:return T(t,{loadMethodId:void 0,loadMethodError:void 0});case Yt.a.LoadPaymentMethodFailed:return T(t,{loadMethodId:e.meta.methodId,loadMethodError:e.payload});default:return t}}function Qt(t,e){switch(void 0===t&&(t=Ht.statuses),e.type){case Yt.a.LoadPaymentMethodsRequested:return C(t,"isLoading",!0);case Yt.a.LoadPaymentMethodsSucceeded:case Yt.a.LoadPaymentMethodsFailed:return C(t,"isLoading",!1);case Yt.a.LoadPaymentMethodRequested:return T(t,{isLoadingMethod:!0,loadMethodId:e.meta.methodId});case Yt.a.LoadPaymentMethodSucceeded:case Yt.a.LoadPaymentMethodFailed:return T(t,{isLoadingMethod:!1,loadMethodId:void 0});default:return t}}var Xt=n(11),$t={data:{},errors:{},statuses:{}};function te(t,e){return void 0===t&&(t=$t),Object(i.combineReducers)({data:ee,errors:Object(i.composeReducers)(ne,g),statuses:re})(t,e)}function ee(t,e){var n,r;switch(void 0===t&&(t=$t.data),e.type){case Xt.a.InitializeSucceeded:return T(t,((n={})[e.meta&&e.meta.methodId]={isInitialized:!0},n));case Xt.a.DeinitializeSucceeded:return T(t,((r={})[e.meta&&e.meta.methodId]={isInitialized:!1},r))}return t}function ne(t,e){switch(void 0===t&&(t=$t.errors),e.type){case Xt.a.InitializeRequested:case Xt.a.InitializeSucceeded:return T(t,{initializeError:void 0,initializeMethodId:void 0});case Xt.a.InitializeFailed:return T(t,{initializeError:e.payload,initializeMethodId:e.meta&&e.meta.methodId});case Xt.a.DeinitializeRequested:case Xt.a.DeinitializeSucceeded:return T(t,{deinitializeError:void 0,deinitializeMethodId:void 0});case Xt.a.DeinitializeFailed:return T(t,{deinitializeError:e.payload,deinitializeMethodId:e.meta&&e.meta.methodId});case Xt.a.ExecuteRequested:case Xt.a.ExecuteSucceeded:return T(t,{executeError:void 0,executeMethodId:void 0});case Xt.a.ExecuteFailed:return T(t,{executeError:e.payload,executeMethodId:e.meta&&e.meta.methodId});case Xt.a.FinalizeRequested:case Xt.a.FinalizeSucceeded:return T(t,{finalizeError:void 0,finalizeMethodId:void 0});case Xt.a.FinalizeFailed:return T(t,{finalizeError:e.payload,finalizeMethodId:e.meta&&e.meta.methodId});case Xt.a.WidgetInteractionStarted:case Xt.a.WidgetInteractionFinished:return T(t,{widgetInteractionError:void 0,widgetInteractionMethodId:void 0});case Xt.a.WidgetInteractionFailed:return T(t,{widgetInteractionError:e.payload,widgetInteractionMethodId:e.meta.methodId});default:return t}}function re(t,e){switch(void 0===t&&(t=$t.statuses),e.type){case Xt.a.InitializeRequested:return T(t,{isInitializing:!0,initializeMethodId:e.meta&&e.meta.methodId});case Xt.a.InitializeFailed:case Xt.a.InitializeSucceeded:return T(t,{isInitializing:!1,initializeMethodId:void 0});case Xt.a.DeinitializeRequested:return T(t,{isDeinitializing:!0,deinitializeMethodId:e.meta&&e.meta.methodId});case Xt.a.DeinitializeFailed:case Xt.a.DeinitializeSucceeded:return T(t,{isDeinitializing:!1,deinitializeMethodId:void 0});case Xt.a.ExecuteRequested:return T(t,{isExecuting:!0,executeMethodId:e.meta&&e.meta.methodId});case Xt.a.ExecuteFailed:case Xt.a.ExecuteSucceeded:return T(t,{isExecuting:!1,executeMethodId:void 0});case Xt.a.FinalizeRequested:return T(t,{isFinalizing:!0,finalizeMethodId:e.meta&&e.meta.methodId});case Xt.a.FinalizeFailed:case Xt.a.FinalizeSucceeded:return T(t,{isFinalizing:!1,finalizeMethodId:void 0});case Xt.a.WidgetInteractionStarted:return T(t,{isWidgetInteracting:!0,widgetInteractionMethodId:e.meta.methodId});case Xt.a.WidgetInteractionFinished:case Xt.a.WidgetInteractionFailed:return T(t,{isWidgetInteracting:!1,widgetInteractionMethodId:void 0});default:return t}}var ie=n(25),oe={data:[],errors:{},statuses:{}};function ae(t,e){return void 0===t&&(t=oe),Object(i.combineReducers)({data:se,errors:Object(i.composeReducers)(ue,g),meta:ce,statuses:de})(t,e)}function se(t,e){switch(void 0===t&&(t=oe.data),e.type){case ie.a.LoadInstrumentsSucceeded:return M(t,e.payload&&e.payload.vaultedInstruments||[]);default:return t}}function ce(t,e){switch(e.type){case ie.a.LoadInstrumentsSucceeded:case ie.a.DeleteInstrumentSucceeded:return T(t,e.meta);default:return t}}function ue(t,e){switch(void 0===t&&(t=oe.errors),e.type){case ie.a.LoadInstrumentsRequested:case ie.a.LoadInstrumentsSucceeded:return C(t,"loadError",void 0);case ie.a.DeleteInstrumentRequested:case ie.a.DeleteInstrumentSucceeded:return T(t,{deleteError:void 0,failedInstrument:void 0});case ie.a.LoadInstrumentsFailed:return C(t,"loadError",e.payload);case ie.a.DeleteInstrumentFailed:return T(t,{deleteError:e.payload,failedInstrument:e.meta.instrumentId});default:return t}}function de(t,e){switch(void 0===t&&(t=oe.statuses),e.type){case ie.a.LoadInstrumentsRequested:return C(t,"isLoading",!0);case ie.a.DeleteInstrumentRequested:return T(t,{isDeleting:!0,deletingInstrument:e.meta.instrumentId});case ie.a.LoadInstrumentsSucceeded:case ie.a.LoadInstrumentsFailed:return C(t,"isLoading",!1);case ie.a.DeleteInstrumentSucceeded:case ie.a.DeleteInstrumentFailed:return T(t,{isDeleting:!1,deletingInstrument:void 0});default:return t}}var pe=n(28),he={data:{}};function le(t,e){var n;return void 0===t&&(t=he),e.meta&&e.meta.methodId?Object(i.combineReducers)({data:Object(i.combineReducers)((n={},n[e.meta.methodId]=me,n))})(t,e):t}function me(t,e){switch(e.type){case pe.a.InitializeRemoteBillingSucceeded:return C(t,"billing",e.payload&&e.payload.billing);case pe.a.InitializeRemoteShippingSucceeded:return C(t,"shipping",e.payload&&e.payload.shipping);case pe.a.LoadRemoteSettingsSucceeded:return C(t,"settings",e.payload);case pe.a.UpdateRemoteCheckout:return T(t,e.payload);default:return t}}var fe={errors:{updateShippingOptionError:{},updateError:{},deleteError:{}},statuses:{isUpdating:{},isUpdatingShippingOption:{},isDeleting:{}}};function _e(t,e){return void 0===t&&(t=fe),Object(i.combineReducers)({data:ye,errors:Object(i.composeReducers)(ge,g),statuses:be})(t,e)}function ye(t,e){switch(e.type){case f.a.LoadCheckoutSucceeded:case z.a.LoadShippingOptionsSucceeded:case z.a.CreateConsignmentsSucceeded:case z.a.UpdateConsignmentSucceeded:case z.a.DeleteConsignmentSucceeded:case z.a.UpdateShippingOptionSucceeded:case R.a.ApplyCouponSucceeded:case R.a.RemoveCouponSucceeded:return M(t,e.payload&&e.payload.consignments);case ht.a.SignOutCustomerSucceeded:return M(t,[]);default:return t}}function ge(t,e){var n,r,i,o,a,s;switch(void 0===t&&(t=fe.errors),e.type){case f.a.LoadCheckoutRequested:case f.a.LoadCheckoutSucceeded:case z.a.LoadShippingOptionsSucceeded:case z.a.LoadShippingOptionsRequested:return C(t,"loadError",void 0);case f.a.LoadCheckoutFailed:case z.a.LoadShippingOptionsFailed:return C(t,"loadError",e.payload);case z.a.CreateConsignmentsRequested:case z.a.CreateConsignmentsSucceeded:return C(t,"createError",void 0);case z.a.CreateConsignmentsFailed:return C(t,"createError",e.payload);case z.a.UpdateConsignmentSucceeded:case z.a.UpdateConsignmentRequested:return e.meta?T(t,{updateError:(n={},n[e.meta.id]=void 0,n)}):t;case z.a.UpdateConsignmentFailed:return e.meta?T(t,{updateError:(r={},r[e.meta.id]=e.payload,r)}):t;case z.a.DeleteConsignmentSucceeded:case z.a.DeleteConsignmentRequested:return e.meta?T(t,{deleteError:(i={},i[e.meta.id]=void 0,i)}):t;case z.a.DeleteConsignmentFailed:return e.meta?T(t,{deleteError:(o={},o[e.meta.id]=e.payload,o)}):t;case z.a.UpdateShippingOptionRequested:case z.a.UpdateShippingOptionSucceeded:return e.meta?T(t,{updateShippingOptionError:(a={},a[e.meta.id]=void 0,a)}):t;case z.a.UpdateShippingOptionFailed:return e.meta?T(t,{updateShippingOptionError:(s={},s[e.meta.id]=e.payload,s)}):t;default:return t}}function be(t,e){var n,r,i,o,a,s;switch(void 0===t&&(t=fe.statuses),e.type){case f.a.LoadCheckoutRequested:return C(t,"isLoading",!0);case z.a.LoadShippingOptionsRequested:return C(t,"isLoadingShippingOptions",!0);case f.a.LoadCheckoutSucceeded:case f.a.LoadCheckoutFailed:return C(t,"isLoading",!1);case z.a.LoadShippingOptionsSucceeded:case z.a.LoadShippingOptionsFailed:return C(t,"isLoadingShippingOptions",!1);case z.a.CreateConsignmentsRequested:return C(t,"isCreating",!0);case z.a.CreateConsignmentsSucceeded:case z.a.CreateConsignmentsFailed:return C(t,"isCreating",!1);case z.a.UpdateConsignmentRequested:return e.meta?T(t,{isUpdating:(n={},n[e.meta.id]=!0,n)}):t;case z.a.UpdateConsignmentSucceeded:case z.a.UpdateConsignmentFailed:return e.meta?T(t,{isUpdating:(r={},r[e.meta.id]=!1,r)}):t;case z.a.DeleteConsignmentRequested:return e.meta?T(t,{isDeleting:(i={},i[e.meta.id]=!0,i)}):t;case z.a.DeleteConsignmentSucceeded:case z.a.DeleteConsignmentFailed:return e.meta?T(t,{isDeleting:(o={},o[e.meta.id]=!1,o)}):t;case z.a.UpdateShippingOptionRequested:return e.meta?T(t,{isUpdatingShippingOption:(a={},a[e.meta.id]=!0,a)}):t;case z.a.UpdateShippingOptionSucceeded:case z.a.UpdateShippingOptionFailed:return e.meta?T(t,{isUpdatingShippingOption:(s={},s[e.meta.id]=!1,s)}):t;default:return t}}var ve=n(44),Ce={errors:{},statuses:{}};function Oe(t,e){return void 0===t&&(t=Ce),Object(i.combineReducers)({data:Se,errors:Object(i.composeReducers)(we,g),statuses:Ie})(t,e)}function Se(t,e){switch(e.type){case ve.a.LoadShippingCountriesSucceeded:return M(t,e.payload);default:return t}}function we(t,e){switch(void 0===t&&(t=Ce.errors),e.type){case ve.a.LoadShippingCountriesRequested:case ve.a.LoadShippingCountriesSucceeded:return C(t,"loadError",void 0);case ve.a.LoadShippingCountriesFailed:return C(t,"loadError",e.payload);default:return t}}function Ie(t,e){switch(void 0===t&&(t=Ce.statuses),e.type){case ve.a.LoadShippingCountriesRequested:return C(t,"isLoading",!0);case ve.a.LoadShippingCountriesSucceeded:case ve.a.LoadShippingCountriesFailed:return C(t,"isLoading",!1);default:return t}}var Ae=n(9),Ee={data:{},errors:{},statuses:{}};function Pe(t,e){return void 0===t&&(t=Ee),Object(i.combineReducers)({data:je,errors:Object(i.composeReducers)(ke,g),statuses:Me})(t,e)}function je(t,e){var n,r;switch(void 0===t&&(t=Ee.data),e.type){case Ae.a.InitializeSucceeded:return T(t,((n={})[e.meta&&e.meta.methodId]={isInitialized:!0},n));case Ae.a.DeinitializeSucceeded:return T(t,((r={})[e.meta&&e.meta.methodId]={isInitialized:!1},r))}return t}function ke(t,e){switch(void 0===t&&(t=Ee.errors),e.type){case Ae.a.InitializeRequested:case Ae.a.InitializeSucceeded:return T(t,{initializeError:void 0,initializeMethodId:void 0});case Ae.a.InitializeFailed:return T(t,{initializeError:e.payload,initializeMethodId:e.meta&&e.meta.methodId});case Ae.a.DeinitializeRequested:case Ae.a.DeinitializeSucceeded:return T(t,{deinitializeError:void 0,deinitializeMethodId:void 0});case Ae.a.DeinitializeFailed:return T(t,{deinitializeError:e.payload,deinitializeMethodId:e.meta&&e.meta.methodId});case Ae.a.UpdateAddressRequested:case Ae.a.UpdateAddressSucceeded:return T(t,{updateAddressError:void 0,updateAddressMethodId:void 0});case Ae.a.UpdateAddressFailed:return T(t,{updateAddressError:e.payload,updateAddressMethodId:e.meta&&e.meta.methodId});case Ae.a.SelectOptionRequested:case Ae.a.SelectOptionSucceeded:return T(t,{selectOptionError:void 0,selectOptionMethodId:void 0});case Ae.a.SelectOptionFailed:return T(t,{selectOptionError:e.payload,selectOptionMethodId:e.meta&&e.meta.methodId});case Ae.a.WidgetInteractionStarted:case Ae.a.WidgetInteractionFinished:return T(t,{widgetInteractionError:void 0,widgetInteractionMethodId:void 0});case Ae.a.WidgetInteractionFailed:return T(t,{widgetInteractionError:e.payload,widgetInteractionMethodId:e.meta&&e.meta.methodId});default:return t}}function Me(t,e){switch(void 0===t&&(t=Ee.statuses),e.type){case Ae.a.InitializeRequested:return T(t,{isInitializing:!0,initializeMethodId:e.meta&&e.meta.methodId});case Ae.a.InitializeFailed:case Ae.a.InitializeSucceeded:return T(t,{isInitializing:!1,initializeMethodId:void 0});case Ae.a.DeinitializeRequested:return T(t,{isDeinitializing:!0,deinitializeMethodId:e.meta&&e.meta.methodId});case Ae.a.DeinitializeFailed:case Ae.a.DeinitializeSucceeded:return T(t,{isDeinitializing:!1,deinitializeMethodId:void 0});case Ae.a.UpdateAddressRequested:return T(t,{isUpdatingAddress:!0,updateAddressMethodId:e.meta&&e.meta.methodId});case Ae.a.UpdateAddressFailed:case Ae.a.UpdateAddressSucceeded:return T(t,{isUpdatingAddress:!1,updateAddressMethodId:void 0});case Ae.a.SelectOptionRequested:return T(t,{isSelectingOption:!0,selectOptionMethodId:e.meta&&e.meta.methodId});case Ae.a.SelectOptionFailed:case Ae.a.SelectOptionSucceeded:return T(t,{isSelectingOption:!1,selectOptionMethodId:void 0});case Ae.a.WidgetInteractionStarted:return T(t,{isWidgetInteracting:!0,widgetInteractionMethodId:e.meta&&e.meta.methodId});case Ae.a.WidgetInteractionFinished:case Ae.a.WidgetInteractionFailed:return T(t,{isWidgetInteracting:!1,widgetInteractionMethodId:void 0});default:return t}}var Te=n(45),Re={errors:{},statuses:{}};function De(t,e){return void 0===t&&(t=Re),Object(i.combineReducers)({data:ze,errors:Object(i.composeReducers)(Le,g),statuses:Ne})(t,e)}function ze(t,e){switch(e.type){case Te.a.SendSignInEmailSucceeded:return T(t,e.payload);default:return t}}function Le(t,e){switch(void 0===t&&(t=Re.errors),e.type){case Te.a.SendSignInEmailRequested:case Te.a.SendSignInEmailSucceeded:return C(t,"sendError",void 0);case Te.a.SendSignInEmailFailed:return C(t,"sendError",e.payload);default:return t}}function Ne(t,e){switch(void 0===t&&(t=Re.statuses),e.type){case Te.a.SendSignInEmailRequested:return C(t,"isSending",!0);case Te.a.SendSignInEmailFailed:case Te.a.SendSignInEmailSucceeded:return C(t,"isSending",!1);default:return t}}var Fe=n(48),qe={errors:{},statuses:{}};function Ue(t,e){return void 0===t&&(t=qe),Object(i.combineReducers)({errors:Object(i.composeReducers)(xe,g),statuses:Be})(t,e)}function xe(t,e){switch(void 0===t&&(t=qe.errors),e.type){case Fe.a.ApplyStoreCreditRequested:case Fe.a.ApplyStoreCreditSucceeded:return C(t,"applyError",void 0);case Fe.a.ApplyStoreCreditFailed:return C(t,"applyError",e.payload);default:return t}}function Be(t,e){switch(void 0===t&&(t=qe.statuses),e.type){case Fe.a.ApplyStoreCreditRequested:return C(t,"isApplying",!0);case Fe.a.ApplyStoreCreditSucceeded:case Fe.a.ApplyStoreCreditFailed:return C(t,"isApplying",!1);default:return t}}var Ge={errors:{},statuses:{}};function Ve(t,e){return void 0===t&&(t=Ge),Object(i.combineReducers)({errors:Object(i.composeReducers)(Ye,g),statuses:He})(t,e)}function Ye(t,e){switch(void 0===t&&(t=Ge.errors),e.type){case S.a.UpdateSubscriptionsRequested:case S.a.UpdateSubscriptionsSucceeded:return C(t,"updateError",void 0);case S.a.UpdateSubscriptionsFailed:return C(t,"updateError",e.payload);default:return t}}function He(t,e){switch(void 0===t&&(t=Ge.statuses),e.type){case S.a.UpdateSubscriptionsRequested:return C(t,"isUpdating",!0);case S.a.UpdateSubscriptionsFailed:case S.a.UpdateSubscriptionsSucceeded:return C(t,"isUpdating",!1);default:return t}}var We=n(67),Ke={errors:{},statuses:{}};function Je(t,e){return void 0===t&&(t=Ke),Object(i.combineReducers)({data:Ze,errors:Object(i.composeReducers)(Qe,g),statuses:Xe})(t,e)}function Ze(t,e){switch(e.type){case f.a.LoadCheckoutSucceeded:case f.a.UpdateCheckoutSucceeded:case Fe.a.ApplyStoreCreditSucceeded:case w.a.UpdateBillingAddressSucceeded:case R.a.ApplyCouponSucceeded:case R.a.RemoveCouponSucceeded:case z.a.CreateConsignmentsSucceeded:case z.a.UpdateConsignmentSucceeded:case z.a.DeleteConsignmentSucceeded:case z.a.UpdateShippingOptionSucceeded:case z.a.LoadShippingOptionsSucceeded:case D.a.ApplyGiftCertificateSucceeded:case D.a.RemoveGiftCertificateSucceeded:case We.a.VerifyCheckoutSucceeded:return T(t,Object(c.omit)(e.payload,["billingAddress","cart","consignments","customer","coupons","giftCertificates"]));case O.a.SubmitOrderSucceeded:return C(t,"orderId",e.payload&&e.payload.order.orderId);default:return t}}function Qe(t,e){switch(void 0===t&&(t=Ke.errors),e.type){case f.a.LoadCheckoutRequested:case f.a.LoadCheckoutSucceeded:return C(t,"loadError",void 0);case f.a.LoadCheckoutFailed:return C(t,"loadError",e.payload);case f.a.UpdateCheckoutRequested:case f.a.UpdateCheckoutSucceeded:return C(t,"updateError",void 0);case f.a.UpdateCheckoutFailed:return C(t,"updateError",e.payload);default:return t}}function Xe(t,e){switch(void 0===t&&(t=Ke.statuses),e.type){case f.a.LoadCheckoutRequested:return C(t,"isLoading",!0);case f.a.LoadCheckoutFailed:case f.a.LoadCheckoutSucceeded:return C(t,"isLoading",!1);case f.a.UpdateCheckoutRequested:return C(t,"isUpdating",!0);case f.a.UpdateCheckoutFailed:case f.a.UpdateCheckoutSucceeded:return C(t,"isUpdating",!1);case We.a.ExecuteRequested:return C(t,"isExecutingSpamCheck",!0);case We.a.ExecuteFailed:case We.a.ExecuteSucceeded:return C(t,"isExecutingSpamCheck",!1);default:return t}}var $e=n(5),tn=n(12),en=n(171);function nn(t,e){if(null==t)throw e?e():new Error("An unexpected error has occurred.");return t}function rn(t){return function(t,e){var n=Object.create(t);return function(t,e){var n=Object.getPrototypeOf(t);for(;n;)e(n),n=Object.getPrototypeOf(n)}(t,(function(r){Object.getOwnPropertyNames(r).forEach((function(r){"constructor"!==r&&"function"==typeof n[r]&&"_"!==r.charAt(0)&&(n[r]=e(t,r,n))}))})),n}(t,(function(t,e){return function(){for(var n,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return Object(i.deepFreeze)((n=t[e]).call.apply(n,Object(r.__spreadArrays)([t],o)))}}))}function on(){var t=Object(en.a)((function(t){return t.data}),(function(t){return function(e,n){void 0===e&&(e=[]);var r=Object(c.find)(e,{code:n});return(t?t.shippingAddress:[]).map((function(t){return a(t,e,r)}))}})),e=Object(en.a)((function(t){return t.data}),(function(t){return function(e,n){void 0===e&&(e=[]);var r=Object(c.find)(e,{code:n});return(t?t.billingAddress:[]).map((function(t){return a(t,e,r)}))}})),n=Object(en.a)((function(t){return t.data}),(function(t){return function(){return t?t.customerAccount:[]}})),i=Object(en.a)((function(t){return t.errors.loadError}),(function(t){return function(){return t}})),o=Object(en.a)((function(t){return!!t.statuses.isLoading}),(function(t){return function(){return t}}));function a(t,e,n){return"countryCode"===t.name?function(t,e,n){void 0===e&&(e=[]);if(!e.length)return t;var i=(n||{}).code,o=void 0===i?"":i,a=e.map((function(t){return{value:t.code,label:t.name}}));return Object(r.__assign)(Object(r.__assign)({},t),{options:{items:a},default:o,type:"array",fieldType:"dropdown",itemtype:"string"})}(t,e,n):"stateOrProvince"===t.name?function(t,e){var n=e||{},i=n.subdivisions,o=void 0===i?[]:i,a=n.requiresState;if(!o.length)return Object(r.__assign)(Object(r.__assign)({},t),{required:null!=a&&a});var s=o.map((function(t){return{value:t.code,label:t.name}}));return Object(r.__assign)(Object(r.__assign)({},t),{name:"stateOrProvinceCode",options:{items:s},required:null==a||a,type:"array",fieldType:"dropdown",itemtype:"string"})}(t,n):"postalCode"===t.name?function(t,e){var n=(e||{}).hasPostalCodes,i=void 0===n?[]:n;if(void 0===i)return t;return Object(r.__assign)(Object(r.__assign)({},t),{required:Boolean(i)})}(t,n):t}return Object($e.memoizeOne)((function(r){return void 0===r&&(r=It),{getShippingAddressFields:t(r),getBillingAddressFields:e(r),getCustomerAccountFields:n(r),getLoadError:i(r),isLoading:o(r)}}))}var an=n(58),sn=n(38);var cn={"adyenv2.scheme":{provider:"adyenv2",method:"scheme"},"adyenv2.bcmc":{provider:"adyenv2",method:"bcmc"},"adyenv2.ideal":{provider:"adyenv2",method:"ideal"},"adyenv2.sepadirectdebit":{provider:"adyenv2",method:"sepadirectdebit"},"adyenv2.directEbanking":{provider:"adyenv2",method:"directEbanking"},"adyenv2.giropay":{provider:"adyenv2",method:"giropay"},barclays:{provider:"barclays",method:"credit_card"},braintree:{provider:"braintree",method:"credit_card"},braintreepaypal:{provider:"braintree",method:"paypal"},authorizenet:{provider:"authorizenet",method:"credit_card"},elavon:{provider:"elavon",method:"credit_card"},checkoutcom:{provider:"checkoutcom",method:"credit_card"},stripe:{provider:"stripe",method:"credit_card"},"stripev3.card":{provider:"stripev3",method:"card"},cybersource:{provider:"cybersource",method:"credit_card"},converge:{provider:"converge",method:"credit_card"},bluesnapv2:{provider:"bluesnapv2",method:"credit_card"},orbital:{provider:"orbital",method:"credit_card"},paymetric:{provider:"paymetric",method:"credit_card"},bolt:{provider:"bolt",method:"credit_card"},"barclaycard.credit_card":{provider:"barclaycard",method:"credit_card"}};function un(t){return Object(c.pickBy)({firstName:t.firstName,lastName:t.lastName,company:t.company,address1:t.address1,address2:t.address2,city:t.city,stateOrProvince:t.stateOrProvince,countryCode:t.countryCode,postalCode:t.postalCode,phone:t.phone,customFields:t.customFields},c.identity)}function dn(){var t=Object(en.a)((function(t){return t.data}),(function(t){return function(){return t}})),e=Object(en.a)((function(t){return t.data}),(function(t){return function(e){if(t&&t.length)return Object(c.find)(t,{id:e})}})),n=Object(en.a)((function(t){return t.data}),(function(t){return function(e){if(t&&t.length)return Object(c.find)(t,(function(t){return n=t.shippingAddress,r=e,Object(c.isEqual)(un(n),un(r));var n,r}))}})),r=Object(en.a)((function(t){return t.data}),(function(t){return function(){if(t&&t.length)return t[0].selectedShippingOption}})),i=Object(en.a)((function(t){return t.errors.loadError}),(function(t){return function(){return t}})),o=Object(en.a)((function(t){return t.errors.createError}),(function(t){return function(){return t}})),a=Object(en.a)((function(t){return t.errors.loadShippingOptionsError}),(function(t){return function(){return t}})),s=Object(en.a)(t,(function(t,e){return e.cart.getCart}),(function(t,e){return function(){var n=e();if(!n)return[];var r=(t()||[]).reduce((function(t,e){return t.concat(e.lineItemIds)}),[]);return(n.lineItems.physicalItems||[]).filter((function(t){return r.indexOf(t.id)<0}))}})),u=Object(en.a)((function(t){return t.errors.updateError}),(function(t){return function(e){return e?t[e]:Object(c.find)(t)}})),d=Object(en.a)((function(t){return t.errors.deleteError}),(function(t){return function(e){return e?t[e]:Object(c.find)(t)}})),p=Object(en.a)(n,u,o,(function(t,e,n){return function(r){var i=t(r);return i?e(i.id):n()}})),h=Object(en.a)((function(t){return t.errors.updateShippingOptionError}),(function(t){return function(e){return e?t[e]:Object(c.find)(t)}})),l=Object(en.a)((function(t){return t.statuses.isLoading}),(function(t){return function(){return!0===t}})),m=Object(en.a)((function(t){return t.statuses.isLoadingShippingOptions}),(function(t){return function(){return!0===t}})),f=Object(en.a)((function(t){return t.statuses.isCreating}),(function(t){return function(){return!0===t}})),_=Object(en.a)((function(t){return t.statuses.isUpdating}),(function(t){return function(e){return e?!0===t[e]:!0===Object(c.find)(t)}})),y=Object(en.a)((function(t){return t.statuses.isDeleting}),(function(t){return function(e){return e?!0===t[e]:!0===Object(c.find)(t)}})),g=Object(en.a)(n,_,f,(function(t,e,n){return function(r){var i=t(r);return i?e(i.id):n()}})),b=Object(en.a)((function(t){return t.statuses.isUpdatingShippingOption}),(function(t){return function(e){return e?!0===t[e]:!0===Object(c.find)(t)}}));return Object($e.memoizeOne)((function(c,v){return void 0===c&&(c=fe),{getConsignments:t(c),getConsignmentById:e(c),getConsignmentByAddress:n(c),getShippingOption:r(c),getLoadError:i(c),getCreateError:o(c),getLoadShippingOptionsError:a(c),getUnassignedItems:s(c,{cart:v}),getUpdateError:u(c),getDeleteError:d(c),getItemAssignmentError:p(c),getUpdateShippingOptionError:h(c),isLoading:l(c),isLoadingShippingOptions:m(c),isCreating:f(c),isUpdating:_(c),isDeleting:y(c),isAssigningItems:g(c),isUpdatingShippingOption:b(c)}}))}var pn={errors:{},statuses:{}};function hn(){var t,e,n,i,o,a,s,u,d,p,h,l,m,f,_,y,g,b,v,C,O,S,w,A,E,P,j,k,M,T,R,D,z,N,F,q,U=(t=Object(en.a)((function(t){return t.data}),(function(t){return function(){return t}})),e=Object(en.a)(t,(function(t){return function(){return nn(t(),(function(){return new tn.b(tn.a.MissingBillingAddress)}))}})),n=Object(en.a)((function(t){return t.errors.updateError}),(function(t){return function(){return t}})),i=Object(en.a)((function(t){return t.errors.continueAsGuestError}),(function(t){return function(){return t}})),o=Object(en.a)((function(t){return t.errors.loadError}),(function(t){return function(){return t}})),a=Object(en.a)((function(t){return!!t.statuses.isUpdating}),(function(t){return function(){return t}})),s=Object(en.a)((function(t){return!!t.statuses.isContinuingAsGuest}),(function(t){return function(){return t}})),u=Object(en.a)((function(t){return!!t.statuses.isLoading}),(function(t){return function(){return t}})),Object($e.memoizeOne)((function(r){return void 0===r&&(r=I),{getBillingAddress:t(r),getBillingAddressOrThrow:e(r),getUpdateError:n(r),getContinueAsGuestError:i(r),getLoadError:o(r),isUpdating:a(r),isContinuingAsGuest:s(r),isLoading:u(r)}}))),x=function(){var t=Object(en.a)((function(t){return t.data}),(function(t){return function(){return t}})),e=Object(en.a)(t,(function(t){return function(){return nn(t(),(function(){return new tn.b(tn.a.MissingCart)}))}})),n=Object(en.a)((function(t){return t.errors.loadError}),(function(t){return function(){return t}})),r=Object(en.a)((function(t){return!!t.statuses.isLoading}),(function(t){return function(){return t}}));return Object($e.memoizeOne)((function(i){return void 0===i&&(i=L),{getCart:t(i),getCartOrThrow:e(i),getLoadError:n(i),isLoading:r(i)}}))}(),G=(d=Object(en.a)((function(t){return t}),(function(t){return function(){return t}})),p=Object(en.a)((function(t){return t.statuses}),(function(t){return Object($e.memoize)((function(e){if(e){var n=t[e];return!0===(n&&n.isInitializing)}return Object(c.some)(t,{isInitializing:!0})}))})),h=Object(en.a)((function(t){return t.data}),(function(t){return Object($e.memoize)((function(e,n){var r=t[e];return!!r&&(n?!0===r.initializedContainers[n]:Object(c.some)(r.initializedContainers,(function(t){return!0===t})))}))})),l=Object(en.a)((function(t){return t.statuses}),(function(t){return Object($e.memoize)((function(e){if(e){var n=t[e];return!0===(n&&n.isDeinitializing)}return Object(c.some)(t,{isDeinitializing:!0})}))})),m=Object(en.a)((function(t){return t.errors}),(function(t){return Object($e.memoize)((function(e){var n=e?t[e]:Object(c.find)(Object(c.values)(t),(function(t){return!(!t||!t.initializeError)}));return n&&n.initializeError}))})),f=Object(en.a)((function(t){return t.errors}),(function(t){return Object($e.memoize)((function(e){var n=e?t[e]:Object(c.find)(Object(c.values)(t),(function(t){return!(!t||!t.deinitializeError)}));return n&&n.deinitializeError}))})),Object($e.memoizeOne)((function(t){return void 0===t&&(t=B),{getState:d(t),isInitializing:p(t),isInitialized:h(t),isDeinitializing:l(t),getInitializeError:m(t),getDeinitializeError:f(t)}}))),V=function(){var t=Object(en.a)((function(t){return t.data}),(function(t){return function(){return t}})),e=Object(en.a)((function(t){return t.data}),(function(t){return function(e){if(t){var n=t.context.flashMessages;if(n)return void 0!==e?n.filter((function(t){var n=t.type;return e===n})):n}}})),n=Object(en.a)((function(t){return t.data}),(function(t,e){var n=e.formState;return n&&n.data}),(function(t,e){return function(){return t&&e?Object(r.__assign)(Object(r.__assign)({},t.storeConfig),{formFields:e}):void 0}})),i=Object(en.a)(n,(function(t){return function(){return nn(t(),(function(){return new tn.b(tn.a.MissingCheckoutConfig)}))}})),o=Object(en.a)((function(t){return t.data&&t.data.context}),(function(t){return function(){return t}})),a=Object(en.a)((function(t){return t.meta&&t.meta.externalSource}),(function(t){return function(){return t}})),s=Object(en.a)((function(t){return t.meta&&t.meta.variantIdentificationToken}),(function(t){return function(){return t}})),c=Object(en.a)((function(t){return t.errors.loadError}),(function(t){return function(){return t}})),u=Object(en.a)((function(t){return!!t.statuses.isLoading}),(function(t){return function(){return t}}));return Object($e.memoizeOne)((function(r,d){return void 0===r&&(r=Q),{getConfig:t(r),getFlashMessages:e(r),getStoreConfig:n(r,{formState:d}),getStoreConfigOrThrow:i(r,{formState:d}),getContextConfig:o(r),getExternalSource:a(r),getVariantIdentificationToken:s(r),getLoadError:c(r),isLoading:u(r)}}))}(),Y=function(){var t=Object(en.a)((function(t){return t.data}),(function(t){return function(){return t}})),e=Object(en.a)((function(t){return t.errors.loadError}),(function(t){return function(){return t}})),n=Object(en.a)((function(t){return!!t.statuses.isLoading}),(function(t){return function(){return t}}));return Object($e.memoizeOne)((function(r){return void 0===r&&(r=Mt),{getCountries:t(r),getLoadError:e(r),isLoading:n(r)}}))}(),H=(_=Object(en.a)((function(t){return t.data}),(function(t){return function(){return t}})),y=Object(en.a)((function(t){return t.errors.removeCouponError}),(function(t){return function(){return t}})),g=Object(en.a)((function(t){return t.errors.applyCouponError}),(function(t){return function(){return t}})),b=Object(en.a)((function(t){return!!t.statuses.isApplyingCoupon}),(function(t){return function(){return t}})),v=Object(en.a)((function(t){return!!t.statuses.isRemovingCoupon}),(function(t){return function(){return t}})),Object($e.memoizeOne)((function(t){return void 0===t&&(t=nt),{getCoupons:_(t),getRemoveError:y(t),getApplyError:g(t),isApplying:b(t),isRemoving:v(t)}}))),W=(C=Object(en.a)((function(t){return t.data}),(function(t){return function(){return t}})),O=Object(en.a)((function(t){return t.errors.createError}),(function(t){return function(){return t}})),S=Object(en.a)((function(t){return!!t.statuses.isCreating}),(function(t){return function(){return t}})),Object($e.memoizeOne)((function(t){return void 0===t&&(t=lt),{getCustomer:C(t),getCreateAccountError:O(t),isCreatingCustomerAccount:S(t)}}))),K=function(){var t=Object(en.a)((function(t){return t.errors.signInMethodId}),(function(t){return t.errors.signInError}),(function(t,e){return function(n){if(!n||t===n)return e}})),e=Object(en.a)((function(t){return t.errors.signOutMethodId}),(function(t){return t.errors.signOutError}),(function(t,e){return function(n){if(!n||t===n)return e}})),n=Object(en.a)((function(t){return t.errors.initializeMethodId}),(function(t){return t.errors.initializeError}),(function(t,e){return function(n){if(!n||t===n)return e}})),r=Object(en.a)((function(t){return t.errors.widgetInteractionMethodId}),(function(t){return t.errors.widgetInteractionError}),(function(t,e){return function(n){if(!n||t===n)return e}})),i=Object(en.a)((function(t){return t.statuses.signInMethodId}),(function(t){return t.statuses.isSigningIn}),(function(t,e){return function(n){return(!n||t===n)&&!!e}})),o=Object(en.a)((function(t){return t.statuses.signOutMethodId}),(function(t){return t.statuses.isSigningOut}),(function(t,e){return function(n){return(!n||t===n)&&!!e}})),a=Object(en.a)((function(t){return t.statuses.initializeMethodId}),(function(t){return t.statuses.isInitializing}),(function(t,e){return function(n){return(!n||t===n)&&!!e}})),s=Object(en.a)((function(t){return t.data}),(function(t){return function(e){return!(!t[e]||!t[e].isInitialized)}})),c=Object(en.a)((function(t){return t.statuses.widgetInteractionMethodId}),(function(t){return t.statuses.isWidgetInteracting}),(function(t,e){return function(n){return(!n||t===n)&&!!e}}));return Object($e.memoizeOne)((function(u){return void 0===u&&(u=bt),{getSignInError:t(u),getSignOutError:e(u),getInitializeError:n(u),getWidgetInteractionError:r(u),isSigningIn:i(u),isSigningOut:o(u),isInitializing:a(u),isInitialized:s(u),isWidgetInteracting:c(u)}}))}(),J=function(){var t=Object(en.a)((function(t){return t.data}),(function(t){return function(){return t}})),e=Object(en.a)((function(t){return t.errors.removeGiftCertificateError}),(function(t){return function(){return t}})),n=Object(en.a)((function(t){return t.errors.applyGiftCertificateError}),(function(t){return function(){return t}})),r=Object(en.a)((function(t){return!!t.statuses.isApplyingGiftCertificate}),(function(t){return function(){return t}})),i=Object(en.a)((function(t){return!!t.statuses.isRemovingGiftCertificate}),(function(t){return function(){return t}}));return Object($e.memoizeOne)((function(o){return void 0===o&&(o=st),{getGiftCertificates:t(o),getRemoveError:e(o),getApplyError:n(o),isApplying:r(o),isRemoving:i(o)}}))}(),Z=function(){var t=Object(en.a)((function(t){return t.data}),(function(t){return function(e){if(t){var n=e.gateway?e.gateway+"."+e.id:e.id,r=cn[n];return r?Object(c.filter)(t,r):[]}}})),e=Object(en.a)((function(t){return t.data}),(function(t){return void 0===t&&(t=[]),function(e){var n=Object(c.values)(cn);return t.find((function(t){return t.bigpayToken===e&&"card"===t.type&&n.some((function(e){return Object(c.isMatch)(t,e)}))}))}})),n=Object(en.a)((function(t){return t.data}),(function(t){return function(){if(t)return Object(c.flatMap)(cn,(function(e){return Object(c.filter)(t,(function(t){return Object(c.isMatch)(t,e)}))}))}})),r=Object(en.a)((function(t){return t.meta}),(function(t){return function(){return t}})),i=Object(en.a)((function(t){return t.errors.loadError}),(function(t){return function(){return t}})),o=Object(en.a)((function(t){return t.errors.failedInstrument}),(function(t){return t.errors.deleteError}),(function(t,e){return function(n){if(!n||t===n)return e}})),a=Object(en.a)((function(t){return t.statuses.isLoading}),(function(t){return function(){return!!t}})),s=Object(en.a)((function(t){return t.statuses.deletingInstrument}),(function(t){return t.statuses.isDeleting}),(function(t,e){return function(n){return(!n||t===n)&&!!e}}));return Object($e.memoizeOne)((function(c){return void 0===c&&(c=oe),{getCardInstrument:e(c),getInstruments:n(c),getInstrumentsByPaymentMethod:t(c),getInstrumentsMeta:r(c),getLoadError:i(c),getDeleteError:o(c),isLoading:a(c),isDeleting:s(c)}}))}(),X=on(),$=function(){var t=Object(en.a)((function(t){return t.data}),(function(t){return function(){return t}})),e=Object(en.a)((function(t){return t.meta}),(function(t){return function(){return t}})),n=Object(en.a)((function(t){return t.data}),(function(t){return function(e,n){return n?Object(c.find)(t,{id:e,gateway:n}):Object(c.find)(t,{id:e})}})),r=Object(en.a)(n,(function(t){return function(e,n){return nn(t(e,n),(function(){return new tn.b(tn.a.MissingPaymentMethod)}))}})),i=Object(en.a)((function(t){return t.errors.loadError}),(function(t){return function(){return t}})),o=Object(en.a)((function(t){return t.errors.loadMethodId}),(function(t){return t.errors.loadMethodError}),(function(t,e){return function(n){if(!n||t===n)return e}})),a=Object(en.a)((function(t){return t.statuses.isLoading}),(function(t){return function(){return!!t}})),s=Object(en.a)((function(t){return t.statuses.loadMethodId}),(function(t){return t.statuses.isLoadingMethod}),(function(t,e){return function(n){return(!n||t===n)&&!!e}}));return Object($e.memoizeOne)((function(c){return void 0===c&&(c=Ht),{getPaymentMethods:t(c),getPaymentMethodsMeta:e(c),getPaymentMethod:n(c),getPaymentMethodOrThrow:r(c),getLoadError:i(c),getLoadMethodError:o(c),isLoading:a(c),isLoadingMethod:s(c)}}))}(),tt=function(){var t=Object(en.a)((function(t){return t.errors.initializeMethodId}),(function(t){return t.errors.initializeError}),(function(t,e){return function(n){if(!n||t===n)return e}})),e=Object(en.a)((function(t){return t.errors.executeMethodId}),(function(t){return t.errors.executeError}),(function(t,e){return function(n){if(!n||t===n)return e}})),n=Object(en.a)((function(t){return t.errors.finalizeMethodId}),(function(t){return t.errors.finalizeError}),(function(t,e){return function(n){if(!n||t===n)return e}})),r=Object(en.a)((function(t){return t.errors.widgetInteractionMethodId}),(function(t){return t.errors.widgetInteractionError}),(function(t,e){return function(n){if(!n||t===n)return e}})),i=Object(en.a)((function(t){return t.statuses.initializeMethodId}),(function(t){return t.statuses.isInitializing}),(function(t,e){return function(n){return(!n||t===n)&&!!e}})),o=Object(en.a)((function(t){return t.data}),(function(t){return function(e){return!(!t[e]||!t[e].isInitialized)}})),a=Object(en.a)((function(t){return t.statuses.executeMethodId}),(function(t){return t.statuses.isExecuting}),(function(t,e){return function(n){return(!n||t===n)&&!!e}})),s=Object(en.a)((function(t){return t.statuses.finalizeMethodId}),(function(t){return t.statuses.isFinalizing}),(function(t,e){return function(n){return(!n||t===n)&&!!e}})),c=Object(en.a)((function(t){return t.statuses.widgetInteractionMethodId}),(function(t){return t.statuses.isWidgetInteracting}),(function(t,e){return function(n){return(!n||t===n)&&!!e}}));return Object($e.memoizeOne)((function(u){return void 0===u&&(u=$t),{getInitializeError:t(u),getExecuteError:e(u),getFinalizeError:n(u),getWidgetInteractingError:r(u),isInitializing:i(u),isInitialized:o(u),isExecuting:a(u),isFinalizing:s(u),isWidgetInteracting:c(u)}}))}(),et=(w=Object(en.a)((function(t){return t.data}),(function(t){return function(e){return t[e]}})),Object($e.memoizeOne)((function(t){return void 0===t&&(t=he),{getCheckout:w(t)}}))),rt=(A=Object(en.a)((function(t){return t.data}),(function(t){return function(){if(t&&t[0])return t[0].shippingAddress}})),Object($e.memoizeOne)((function(t){return void 0===t&&(t=fe),{getShippingAddress:A(t)}}))),it=function(){var t=Object(en.a)((function(t){return t.data}),(function(t){return function(){return t}})),e=Object(en.a)((function(t){return t.errors.loadError}),(function(t){return function(){return t}})),n=Object(en.a)((function(t){return t.statuses.isLoading}),(function(t){return function(){return!!t}}));return Object($e.memoizeOne)((function(r){return void 0===r&&(r=Ce),{getShippingCountries:t(r),getLoadError:e(r),isLoading:n(r)}}))}(),ot=function(){var t=Object(en.a)((function(t){return t.errors.updateAddressMethodId}),(function(t){return t.errors.updateAddressError}),(function(t,e){return function(n){if(!n||t===n)return e}})),e=Object(en.a)((function(t){return t.errors.selectOptionMethodId}),(function(t){return t.errors.selectOptionError}),(function(t,e){return function(n){if(!n||t===n)return e}})),n=Object(en.a)((function(t){return t.errors.initializeMethodId}),(function(t){return t.errors.initializeError}),(function(t,e){return function(n){if(!n||t===n)return e}})),r=Object(en.a)((function(t){return t.errors.widgetInteractionMethodId}),(function(t){return t.errors.widgetInteractionError}),(function(t,e){return function(n){if(!n||t===n)return e}})),i=Object(en.a)((function(t){return t.statuses.updateAddressMethodId}),(function(t){return t.statuses.isUpdatingAddress}),(function(t,e){return function(n){return(!n||t===n)&&!!e}})),o=Object(en.a)((function(t){return t.statuses.selectOptionMethodId}),(function(t){return t.statuses.isSelectingOption}),(function(t,e){return function(n){return(!n||t===n)&&!!e}})),a=Object(en.a)((function(t){return t.statuses.initializeMethodId}),(function(t){return t.statuses.isInitializing}),(function(t,e){return function(n){return(!n||t===n)&&!!e}})),s=Object(en.a)((function(t){return t.data}),(function(t){return function(e){return!(!t[e]||!t[e].isInitialized)}})),c=Object(en.a)((function(t){return t.statuses.widgetInteractionMethodId}),(function(t){return t.statuses.isWidgetInteracting}),(function(t,e){return function(n){return(!n||t===n)&&!!e}}));return Object($e.memoizeOne)((function(u){return void 0===u&&(u=Ee),{getUpdateAddressError:t(u),getSelectOptionError:e(u),getInitializeError:n(u),getWidgetInteractionError:r(u),isUpdatingAddress:i(u),isSelectingOption:o(u),isInitializing:a(u),isInitialized:s(u),isWidgetInteracting:c(u)}}))}(),at=dn(),ct=function(){var t=Object(en.a)((function(t){return t.data}),(function(t,e){return e.billingAddress.getBillingAddress}),(function(t,e){return e.cart.getCart}),(function(t,e){return e.customer.getCustomer}),(function(t,e){return e.consignments.getConsignments}),(function(t,e){return e.coupons.getCoupons}),(function(t,e){return e.giftCertificates.getGiftCertificates}),(function(t,e,n,i,o,a,s){return function(){var c=e(),u=n(),d=i(),p=o()||[],h=a()||[],l=s()||[];if(t&&u&&d)return Object(r.__assign)(Object(r.__assign)({},t),{billingAddress:c,cart:u,customer:d,consignments:p,coupons:h,giftCertificates:l})}})),e=Object(en.a)(t,(function(t){return function(){return nn(t(),(function(){return new tn.b(tn.a.MissingCheckout)}))}})),n=Object(en.a)(t,(function(t){return function(e){var n=t();if(n){var r=n.grandTotal||0,i=n.customer.storeCredit||0;return e?Math.max(r-i,0):n.outstandingBalance}}})),i=Object(en.a)((function(t){return t.errors.loadError}),(function(t){return function(){return t}})),o=Object(en.a)((function(t){return t.errors.updateError}),(function(t){return function(){return t}})),a=Object(en.a)((function(t){return t.statuses.isExecutingSpamCheck}),(function(t){return function(){return!0===t}})),s=Object(en.a)((function(t){return t.statuses.isLoading}),(function(t){return function(){return!0===t}})),c=Object(en.a)((function(t){return t.statuses.isUpdating}),(function(t){return function(){return!0===t}}));return Object($e.memoizeOne)((function(r,u,d,p,h,l,m){return void 0===r&&(r=Ke),{getCheckout:t(r,{billingAddress:u,cart:d,consignments:p,coupons:h,customer:l,giftCertificates:m}),getCheckoutOrThrow:e(r,{billingAddress:u,cart:d,consignments:p,coupons:h,customer:l,giftCertificates:m}),getOutstandingBalance:n(r,{billingAddress:u,cart:d,consignments:p,coupons:h,customer:l,giftCertificates:m}),getLoadError:i(r),getUpdateError:o(r),isExecutingSpamCheck:a(r),isLoading:s(r),isUpdating:c(r)}}))}(),ut=function(){var t=Object(en.a)((function(t){return t.data}),(function(t,e){return e.billingAddress.getBillingAddress()}),(function(t,e){return e.coupons.getCoupons()}),(function(t,e,n){return void 0===n&&(n=[]),function(){if(t&&e)return Object(r.__assign)(Object(r.__assign)({},t),{billingAddress:e,coupons:n})}})),e=Object(en.a)(t,(function(t){return function(){return nn(t(),(function(){return new tn.b(tn.a.MissingOrder)}))}})),n=Object(en.a)((function(t){return t.meta}),(function(t){return function(){return t}})),i=Object(en.a)((function(t){return t.errors.loadError}),(function(t){return function(){return t}})),o=Object(en.a)((function(t){return!!t.statuses.isLoading}),(function(t){return function(){return t}}));return Object($e.memoizeOne)((function(r,a,s){return void 0===r&&(r=Lt),{getOrder:t(r,{billingAddress:a,coupons:s}),getOrderOrThrow:e(r,{billingAddress:a,coupons:s}),getOrderMeta:n(r),getLoadError:i(r),isLoading:o(r)}}))}(),dt=(E=Object(en.a)((function(t){return t.order.getOrderMeta}),(function(t){return function(){var e=t();return e&&e.payment}})),P=Object(en.a)((function(t){return t.order.getOrder}),(function(t){return function(){var e=t();return Object(c.find)(e&&e.payments,(function(t){var e=t.providerId;return"giftcertificate"!==e&&"storecredit"!==e}))}})),j=Object(en.a)((function(t){return t.checkout.getCheckout}),(function(t){return function(){var e=t();return Object(c.find)(e&&e.payments,(function(t){return t.providerType===an.a}))}})),k=Object(en.a)(E,j,P,(function(t,e,n){return function(){var r=t();if(r&&r.id)return{providerId:r.id,gatewayId:r.gateway};var i=e()||n();return i&&i.providerId?{providerId:i.providerId,gatewayId:i.gatewayId}:void 0}})),M=Object(en.a)(E,j,P,(function(t,e,n){return function(){var r=t();if(r&&r.status)return r.status.replace("PAYMENT_STATUS_","");var i=e()||n();return i?i.detail.step:void 0}})),T=Object(en.a)((function(t){return t.order.getOrderMeta}),(function(t){return function(){var e=t();return e&&e.token}})),R=Object(en.a)(E,(function(t){return function(){var e=t();return e&&e.redirectUrl}})),D=Object(en.a)((function(t){return t.checkout.getOutstandingBalance}),(function(t){return function(e){void 0===e&&(e=!1);var n=t(e);return!!n&&n>0}})),z=Object(en.a)(M,(function(t){return function(e){return!(!e||!e.nonce)||t()===sn.a||t()===sn.b}})),Object($e.memoizeOne)((function(t,e){return{getPaymentId:k({checkout:t,order:e}),getPaymentStatus:M({checkout:t,order:e}),getPaymentToken:T({checkout:t,order:e}),getPaymentRedirectUrl:R({checkout:t,order:e}),isPaymentDataRequired:D({checkout:t,order:e}),isPaymentDataSubmitted:z({checkout:t,order:e})}}))),pt=function(){var t=Object(en.a)((function(t){return t.errors.applyError}),(function(t){return function(){return t}})),e=Object(en.a)((function(t){return!!t.statuses.isApplying}),(function(t){return function(){return t}}));return Object($e.memoizeOne)((function(n){return void 0===n&&(n=pn),{getApplyError:t(n),isApplying:e(n)}}))}(),ht=function(){var t=Object(en.a)((function(t){return t.errors.updateError}),(function(t){return function(){return t}})),e=Object(en.a)((function(t){return!!t.statuses.isUpdating}),(function(t){return function(){return t}}));return Object($e.memoizeOne)((function(n){return void 0===n&&(n=Ge),{getUpdateError:t(n),isUpdating:e(n)}}))}(),mt=(N=Object(en.a)((function(t){return t.data}),(function(t){return function(){return t}})),F=Object(en.a)((function(t){return t.errors.sendError}),(function(t){return function(){return t}})),q=Object(en.a)((function(t){return!!t.statuses.isSending}),(function(t){return function(){return t}})),Object($e.memoizeOne)((function(t){return void 0===t&&(t=Re),{getEmail:N(t),getSendError:F(t),isSending:q(t)}})));return function(t,e){void 0===e&&(e={});var n,r=U(t.billingAddress),i=x(t.cart),o=G(t.checkoutButton),a=Y(t.countries),s=H(t.coupons),c=W(t.customer),u=K(t.customerStrategies),d=X(t.formFields),p=J(t.giftCertificates),h=Z(t.instruments),l=$(t.paymentMethods),m=tt(t.paymentStrategies),f=et(t.remoteCheckout),_=rt(t.consignments),y=it(t.shippingCountries),g=ot(t.shippingStrategies),b=ht(t.subscriptions),v=pt(t.storeCredit),C=mt(t.signInEmail),O=at(t.consignments,i),S=ct(t.checkout,r,i,O,s,c,p),w=ut(t.order,r,s),I=dt(S,w),A={billingAddress:r,cart:i,checkout:S,checkoutButton:o,config:V(t.config,t.formFields),consignments:O,countries:a,coupons:s,customer:c,customerStrategies:u,form:d,giftCertificates:p,instruments:h,order:w,payment:I,paymentMethods:l,paymentStrategies:m,remoteCheckout:f,shippingAddress:_,shippingCountries:y,shippingStrategies:g,signInEmail:C,subscriptions:b,storeCredit:v};return e.shouldWarnMutation?(n=A,Object.keys(n).reduce((function(t,e){return t[e]=rn(n[e]),t}),{})):A}}function ln(t,e){void 0===t&&(t={});var n,a,c=(a=new h,["catalog_only","empty_cart","invalid_order_id","invalid_order_token","missing_order_token","missing_provider_token","missing_shipping_method","order_completion_error","order_could_not_be_finalized_error","order_create_failed","provider_fatal_error","provider_setup_error","stock_too_low"].forEach((function(t){a.register(t,(function(t,e){return new s(t,e)}))})),a.register("invalid_payment_provider",(function(t){return new o.a(t)})),a.register("payment_config_not_found",(function(t){return new o.a(t)})),n=a,function(t){return Object(l.from)(t).pipe(Object(m.catchError)((function(t){if(t instanceof Error||t.payload instanceof Error)throw t;if((i=t.payload)&&"object"==typeof i&&["body","headers","status","statusText"].every((function(t){return i.hasOwnProperty(t)}))){var e=t.payload.body&&t.payload.body.detail;throw Object(r.__assign)(Object(r.__assign)({},t),{payload:n.createError(t.payload,e)})}var i;throw t})))}),u=hn();return Object(i.createDataStore)(Object(i.combineReducers)({billingAddress:A,cart:N,checkout:Je,checkoutButton:H,config:X,consignments:_e,countries:Tt,coupons:rt,customer:mt,customerStrategies:vt,formFields:At,giftCertificates:ct,instruments:ae,order:Nt,payment:Gt,paymentMethods:Wt,paymentStrategies:te,remoteCheckout:le,shippingCountries:Oe,shippingStrategies:Pe,signInEmail:De,subscriptions:Ve,storeCredit:Ue}),t,Object(r.__assign)({actionTransformer:c,stateTransformer:function(t){return u(t)}},e))}n.d(e,"a",(function(){return ln}))},function(t,e,n){"use strict";var r=n(31),i=n(113),o=n(90),a=n(0),s=function(t){function e(e){var n=t.call(this,e,{message:e.body.title})||this;return n.name="CheckoutNotAvailableError",n.type="checkout_not_available",n}return Object(a.__extends)(e,t),e}(n(37).a),c=function(){function t(t){this._requestSender=t}return t.prototype.loadCheckout=function(t,e){var n=void 0===e?{}:e,a=n.params,c=(void 0===a?{}:a).include,u=n.timeout,d="/api/storefront/checkout/"+t,p={Accept:r.a.JsonV1};return this._requestSender.get(d,{params:{include:Object(i.a)(o.a,c)},headers:p,timeout:u}).catch((function(t){if(t.status>=400&&t.status<500)throw new s(t);throw t}))},t.prototype.updateCheckout=function(t,e,n){var a=void 0===n?{}:n,s=a.params,c=(void 0===s?{}:s).include,u=a.timeout,d="/api/storefront/checkout/"+t,p={Accept:r.a.JsonV1};return this._requestSender.put(d,{params:{include:Object(i.a)(o.a,c)},body:e,headers:p,timeout:u})},t}();e.a=c},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.AvailableShippingOptions="consignments.availableShippingOptions",t.PhysicalItemsCategoryNames="cart.lineItems.physicalItems.categoryNames",t.DigitalItemsCategoryNames="cart.lineItems.digitalItems.categoryNames"}(r||(r={}))},,,,function(t,e,n){"use strict";function r(t){return{code:t.code,discountedAmount:t.used,remainingBalance:t.remaining,giftCertificate:{balance:t.balance,code:t.code,purchaseDate:t.purchaseDate}}}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r=n(3),i=n(8),o=n(82),a=n(56),s=function(){function t(t,e){this._targetWindow=e,this._targetOrigin="*"===t?"*":Object(o.a)(t).origin}return t.prototype.post=function(t,e){var n=this;if(window!==this._targetWindow){if(!this._targetWindow)throw new Error("Unable to post message because target window is not set.");var o=e&&Object(r.fromEvent)(window,"message").pipe(Object(i.filter)((function(t){return t.origin===n._targetOrigin&&Object(a.a)(t.data,t.data.type)&&-1!==[e.successType,e.errorType].indexOf(t.data.type)})),Object(i.map)((function(t){if(e.errorType===t.data.type)throw t.data;return t.data})),Object(i.take)(1)).toPromise();return this._targetWindow.postMessage(t,this._targetOrigin),o}},t.prototype.setTarget=function(t){this._targetWindow=t},t}();e.a=s},function(t,e,n){"use strict";var r=n(0),i=n(82),o=n(98),a=n(56),s=function(){function t(t){this._sourceOrigin=Object(i.a)(t).origin,this._isListening=!1,this._listeners={}}return t.prototype.listen=function(){this._isListening||(this._isListening=!0,window.addEventListener("message",this._handleMessage))},t.prototype.stopListen=function(){this._isListening&&(this._isListening=!1,window.removeEventListener("message",this._handleMessage))},t.prototype.addListener=function(t,e){var n=this._listeners[t];n||(this._listeners[t]=n=[]),-1===n.indexOf(e)&&n.push(e)},t.prototype.removeListener=function(t,e){var n=this._listeners[t];if(n){var r=n.indexOf(e);r>=0&&n.splice(r,1)}},t.prototype.trigger=function(t){var e=this._listeners[t.type];e&&e.forEach((function(e){return e(t)}))},t.prototype._handleMessage=function(t){t.origin===this._sourceOrigin&&Object(a.a)(t.data,t.data.type)&&this.trigger(t.data)},Object(r.__decorate)([o.a],t.prototype,"_handleMessage",null),t}();e.a=s},function(t,e,n){"use strict";var r=n(73),i=n(47),o=n(137),a=n(88),s=n(89),c=n(0);var u=n(2),d=n(52);var p=n(98),h=n(5),l=n(149),m=n(72),f=n(136);function _(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(c.__extends)(e,t),e}(t);return Object.getOwnPropertyNames(t.prototype).forEach((function(n){var r=Object.getOwnPropertyDescriptor(t.prototype,n);r&&"constructor"!==n&&Object.defineProperty(e.prototype,n,function(t,e,n){if("function"!=typeof n.value)return n;var r=new l.a,i=n.value,o=Object(h.memoize)(i);return Object(p.a)(t,e,{get:function(){var t=this,a=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var a=o.call.apply(o,Object(c.__spreadArrays)([t],e));if(1===r.getUsedCount.apply(r,e))return a;var s=i.call.apply(i,Object(c.__spreadArrays)([t],e));return Object(m.a)(s,a,{keyFilter:function(t){return!Object(f.a)(t)}})?a:(o.cache.set(r.getKey.apply(r,e),s),s)};return Object.defineProperty(this,e,Object(c.__assign)(Object(c.__assign)({},n),{value:a})),a},set:function(t){r=new l.a,i=t,o=Object(h.memoize)(i)}})}(t.prototype,n,r))})),e}var y=function(){function t(t){this._checkoutButton=t.checkoutButton}return t.prototype.getInitializeButtonError=function(t){return this._checkoutButton.getInitializeError(t)},t.prototype.getDeinitializeButtonError=function(t){return this._checkoutButton.getDeinitializeError(t)},t=Object(c.__decorate)([_],t)}(),g=function(){function t(t){this._checkoutButton=t.checkoutButton}return t.prototype.isInitializingButton=function(t){return this._checkoutButton.isInitializing(t)},t.prototype.isDeinitializingButton=function(t){return this._checkoutButton.isDeinitializing(t)},t=Object(c.__decorate)([_],t)}();function b(t){return{errors:new y(t),statuses:new g(t)}}var v,C=function(){function t(t,e){var n=this;this._store=t,this._buttonStrategyActionCreator=e,this._state=b(this._store.getState()),this._store.subscribe((function(t){n._state=b(t)}))}return t.prototype.getState=function(){return this._state},t.prototype.subscribe=function(t){for(var e,n=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return(e=this._store).subscribe.apply(e,Object(c.__spreadArrays)([function(){return t(n.getState())},function(t){return t.checkoutButton.getState()}],r.map((function(t){return function(e){return t(b(e))}}))))},t.prototype.initializeButton=function(t){var e,n=this,r=(e=t.containerId,/^\w[\w\-\:\.]*$/.test(e)?[t.containerId]:function(t,e){var n=document.querySelectorAll(t);if(!n.length)throw new d.a("Unable to find any element with the specified selector: "+t);return Array.prototype.slice.call(n).map((function(t){return t.id||(t.id=Object(u.uniqueId)(e)),t.id}))}(t.containerId,t.methodId+"-container"));return Promise.all(r.map((function(e){var r=n._buttonStrategyActionCreator.initialize(Object(c.__assign)(Object(c.__assign)({},t),{containerId:e})),i="checkoutButtonStrategy:"+t.methodId+":"+e;return n._store.dispatch(r,{queueId:i})}))).then((function(){return n.getState()}))},t.prototype.deinitializeButton=function(t){var e=this,n=this._buttonStrategyActionCreator.deinitialize(t),r="checkoutButtonStrategy:"+t.methodId;return this._store.dispatch(n,{queueId:r}).then((function(){return e.getState()}))},t=Object(c.__decorate)([p.a],t)}(),O=n(1),S=n(3),w=n(8),I=n(91),A=n(21),E=function(){function t(t,e){this._registry=t,this._paymentMethodActionCreator=e}return t.prototype.initialize=function(t){var e=this;return function(n){var r={methodId:t.methodId,containerId:t.containerId};return n.getState().checkoutButton.isInitialized(t.methodId,t.containerId)?Object(S.empty)():Object(S.concat)(Object(S.of)(Object(O.createAction)(A.a.InitializeButtonRequested,void 0,r)),e._paymentMethodActionCreator.loadPaymentMethod(t.methodId,{timeout:t.timeout,useCache:!0}),Object(S.defer)((function(){return e._registry.get(t.methodId).initialize(t).then((function(){return Object(O.createAction)(A.a.InitializeButtonSucceeded,void 0,r)}))}))).pipe(Object(w.catchError)((function(t){return Object(I.a)(A.a.InitializeButtonFailed,t,r)})))}},t.prototype.deinitialize=function(t){var e=this;return function(n){var r={methodId:t.methodId};return n.getState().checkoutButton.isInitialized(t.methodId)?Object(S.concat)(Object(S.of)(Object(O.createAction)(A.a.DeinitializeButtonRequested,void 0,r)),Object(S.defer)((function(){return e._registry.get(t.methodId).deinitialize().then((function(){return Object(O.createAction)(A.a.DeinitializeButtonSucceeded,void 0,r)}))}))).pipe(Object(w.catchError)((function(t){return Object(I.a)(A.a.DeinitializeButtonFailed,t,r)}))):Object(S.empty)()}},t}(),P=n(33),j=n(130),k=n(138),M=n(179),T=n(173),R=n(174),D=n(176),z=n(177),L=n(198),N=n(106),F=n(105),q=n(199),U=n(182),x=n(184),B=n(185),G=n(186),V=n(187),Y=n(183),H=n(190),W=n(197);!function(t){t.AMAZON_PAY_V2="amazonpay",t.BRAINTREE_PAYPAL="braintreepaypal",t.BRAINTREE_PAYPAL_CREDIT="braintreepaypalcredit",t.GOOGLEPAY_ADYENV2="googlepayadyenv2",t.GOOGLEPAY_AUTHORIZENET="googlepayauthorizenet",t.GOOGLEPAY_BRAINTREE="googlepaybraintree",t.GOOGLEPAY_CHECKOUTCOM="googlepaycheckoutcom",t.GOOGLEPAY_STRIPE="googlepaystripe",t.MASTERPASS="masterpass",t.PAYPALEXPRESS="paypalexpress",t.PAYPALCOMMERCE="paypalcommerce"}(v||(v={}));var K=v,J=n(12),Z=n(104),Q=n(203),X=function(){function t(t,e,n){this._store=t,this._checkoutActionCreator=e,this._amazonPayV2PaymentProcessor=n}return t.prototype.initialize=function(t){return Object(c.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(c.__generator)(this,(function(a){switch(a.label){case 0:if(e=t.containerId,n=t.methodId,r=t.amazonpay,!e||!n)throw new d.a('Unable to proceed because "containerId" or "methodId" argument is not provided.');return i=this._store.getState().paymentMethods.getPaymentMethodOrThrow(n),[4,this._amazonPayV2PaymentProcessor.initialize(i)];case 1:return a.sent(),o=this,[4,this._createSignInButton(e,i,r)];case 2:return o._walletButton=a.sent(),[2]}}))}))},t.prototype.deinitialize=function(){return this._walletButton&&this._walletButton.parentNode&&(this._walletButton.parentNode.removeChild(this._walletButton),this._walletButton=void 0),Promise.resolve()},t.prototype._createSignInButton=function(t,e,n){return Object(c.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return Object(c.__generator)(this,(function(a){switch(a.label){case 0:if(!(r=document.getElementById(t)))throw new d.a("Unable to create sign-in button without valid container ID.");return null==n?[3,1]:(o=n,[3,3]);case 1:return[4,this._getAmazonPayV2ButtonOptions(e)];case 2:o=a.sent(),a.label=3;case 3:return i=o,this._amazonPayV2PaymentProcessor.createButton("#"+t,i),[2,r]}}))}))},t.prototype._getAmazonPayV2ButtonOptions=function(t){return Object(c.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,o,a,s,u,d,p,h;return Object(c.__generator)(this,(function(c){switch(c.label){case 0:return[4,this._store.dispatch(this._checkoutActionCreator.loadDefaultCheckout())];case 1:if(e=c.sent(),n=e.cart.getCart(),r=e.config.getStoreConfigOrThrow().storeProfile.shopPath,i=t.config,o=i.merchantId,a=i.testMode,s=t.initializationData,u=s.checkoutLanguage,d=s.ledgerCurrency,p=s.checkoutSessionMethod,h=s.extractAmazonCheckoutSessionId,!o||!d||!r)throw new J.b(J.a.MissingPaymentMethod);return[2,{merchantId:o,createCheckoutSession:{url:r+"/remote-checkout/"+t.id+"/payment-session",method:p,extractAmazonCheckoutSessionId:h},sandbox:!!a,ledgerCurrency:d,checkoutLanguage:u,productType:n&&0===Object(Q.a)(n)?Z.a.PayOnly:Z.a.PayAndShip,placement:Z.b.Cart}]}}))}))},t}(),$=n(112),tt=function(){function t(t,e,n,r,i,o){void 0===o&&(o=!1),this._store=t,this._checkoutActionCreator=e,this._braintreeSDKCreator=n,this._paypalScriptLoader=r,this._formPoster=i,this._offerCredit=o}return t.prototype.initialize=function(t){var e=this,n=(this._offerCredit?t.braintreepaypalcredit:t.braintreepaypal)||{},r=this._store.getState(),i=this._paymentMethod=r.paymentMethods.getPaymentMethod(t.methodId);if(!i||!i.clientToken)throw new J.b(J.a.MissingPaymentMethod);return this._braintreeSDKCreator.initialize(i.clientToken),Promise.all([this._braintreeSDKCreator.getPaypalCheckout(),this._paypalScriptLoader.loadPaypal()]).then((function(r){var o=r[0],a=r[1];e._paypalCheckout=o;var s=[],d=[];return n.allowCredit?s.push(a.FUNDING.CREDIT):d.push(a.FUNDING.CREDIT),a.Button.render({env:i.config.testMode?"sandbox":"production",commit:!!n.shouldProcessPayment,funding:{allowed:s,disallowed:d},style:Object(c.__assign)({shape:"rect",label:e._offerCredit?"credit":void 0},Object(u.pick)(n.style,"layout","size","color","label","shape","tagline","fundingicons")),payment:function(){return e._setupPayment(n.shippingAddress,n.onPaymentError)},onAuthorize:function(t){return e._tokenizePayment(t,n.shouldProcessPayment,n.onAuthorizeError)}},t.containerId)}))},t.prototype.deinitialize=function(){return this._paypalCheckout=void 0,this._paymentMethod=void 0,this._braintreeSDKCreator.teardown(),Promise.resolve()},t.prototype._setupPayment=function(t,e){var n=this;return this._store.dispatch(this._checkoutActionCreator.loadDefaultCheckout()).then((function(e){var r=e.checkout.getCheckout(),i=e.config.getStoreConfig(),o=e.customer.getCustomer(),a=void 0===t?o&&o.addresses&&o.addresses[0]:t;if(!n._paypalCheckout)throw new $.b($.a.CheckoutButtonNotInitialized);if(!r)throw new J.b(J.a.MissingCheckout);if(!i)throw new J.b(J.a.MissingCheckoutConfig);return n._paypalCheckout.createPayment({flow:"checkout",enableShippingAddress:!0,shippingAddressEditable:!1,shippingAddressOverride:a?n._mapToBraintreeAddress(a):void 0,amount:r.outstandingBalance,currency:i.currency.code,offerCredit:n._offerCredit})})).catch((function(t){throw e&&e(t),t}))},t.prototype._tokenizePayment=function(t,e,n){var r=this;if(!this._paypalCheckout||!this._paymentMethod)throw new $.b($.a.CheckoutButtonNotInitialized);var i=this._paymentMethod.id;return Promise.all([this._paypalCheckout.tokenizePayment(t),this._braintreeSDKCreator.getDataCollector({paypal:!0})]).then((function(t){var n=t[0],o=t[1].deviceData;return r._formPoster.postForm("/checkout.php",{payment_type:"paypal",provider:i,action:e?"process_payment":"set_external_checkout",nonce:n.nonce,device_data:o,shipping_address:JSON.stringify(r._mapToLegacyShippingAddress(n)),billing_address:JSON.stringify(r._mapToLegacyBillingAddress(n))}),n})).catch((function(t){throw n&&n(t),t}))},t.prototype._mapToLegacyShippingAddress=function(t){var e=t.details.shippingAddress,n=(e&&e.recipientName||"").split(" "),r=n[0],i=n[1];return{email:t.details.email,first_name:r,last_name:i,phone_number:t.details.phone,address_line_1:e&&e.line1,address_line_2:e&&e.line2,city:e&&e.city,state:e&&e.state,country_code:e&&e.countryCode,postal_code:e&&e.postalCode}},t.prototype._mapToLegacyBillingAddress=function(t){var e=t.details.billingAddress,n=t.details.shippingAddress;return e?{email:t.details.email,first_name:t.details.firstName,last_name:t.details.lastName,phone_number:t.details.phone,address_line_1:e.line1,address_line_2:e.line2,city:e.city,state:e.state,country_code:e.countryCode,postal_code:e.postalCode}:{email:t.details.email,first_name:t.details.firstName,last_name:t.details.lastName,phone_number:t.details.phone,address_line_1:n&&n.line1,address_line_2:n&&n.line2,city:n&&n.city,state:n&&n.state,country_code:n&&n.countryCode,postal_code:n&&n.postalCode}},t.prototype._mapToBraintreeAddress=function(t){return{line1:t.address1,line2:t.address2,city:t.city,state:t.stateOrProvinceCode,postalCode:t.postalCode,countryCode:t.countryCode,phone:t.phone,recipientName:t.firstName+" "+t.lastName}},t}(),et=function(){function t(t,e,n,r){this._store=t,this._formPoster=e,this._checkoutActionCreator=n,this._googlePayPaymentProcessor=r}return t.prototype.initialize=function(t){return Object(c.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(c.__generator)(this,(function(r){switch(r.label){case 0:if(e=t.containerId,n=t.methodId,!e||!n)throw new d.a('Unable to proceed because "containerId" argument is not provided.');return this._methodId=n,[4,this._store.dispatch(this._checkoutActionCreator.loadDefaultCheckout())];case 1:return r.sent(),[4,this._googlePayPaymentProcessor.initialize(this._getMethodId())];case 2:return r.sent(),this._walletButton=this._createSignInButton(e),[2]}}))}))},t.prototype.deinitialize=function(){return this._walletButton&&this._walletButton.parentNode&&(this._walletButton.parentNode.removeChild(this._walletButton),this._walletButton=void 0),this._googlePayPaymentProcessor.deinitialize()},t.prototype._createSignInButton=function(t){var e=document.getElementById(t);if(!e)throw new d.a("Unable to create sign-in button without valid container ID.");var n=this._googlePayPaymentProcessor.createButton(this._handleWalletButtonClick);return e.appendChild(n),n},t.prototype._getMethodId=function(){if(!this._methodId)throw new $.b($.a.PaymentNotInitialized);return this._methodId},t.prototype._handleWalletButtonClick=function(t){return Object(c.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i;return Object(c.__generator)(this,(function(o){switch(o.label){case 0:t.preventDefault(),e=this._store.getState().cart.getCartOrThrow(),n=Object(Q.a)(e)>0,o.label=1;case 1:return o.trys.push([1,7,,8]),[4,this._googlePayPaymentProcessor.displayWallet()];case 2:return r=o.sent(),[4,this._googlePayPaymentProcessor.handleSuccess(r)];case 3:return o.sent(),n&&r.shippingAddress?[4,this._googlePayPaymentProcessor.updateShippingAddress(r.shippingAddress)]:[3,5];case 4:o.sent(),o.label=5;case 5:return[4,this._onPaymentSelectComplete()];case 6:return o.sent(),[3,8];case 7:if((i=o.sent())&&"CANCELED"!==i.message)throw i;return[3,8];case 8:return[2]}}))}))},t.prototype._onPaymentSelectComplete=function(){this._formPoster.postForm("/checkout.php",{headers:{Accept:"text/html","Content-Type":"application/x-www-form-urlencoded"}})},Object(c.__decorate)([p.a],t.prototype,"_handleWalletButtonClick",null),t}(),nt=n(133),rt=function(){function t(t,e,n){this._store=t,this._checkoutActionCreator=e,this._masterpassScriptLoader=n}return t.prototype.initialize=function(t){var e=this,n=t.containerId,r=t.methodId;if(!n||!r)throw new d.a('Unable to proceed because "containerId" argument is not provided.');return this._methodId=r,this._store.dispatch(this._checkoutActionCreator.loadDefaultCheckout()).then((function(t){var n=t.paymentMethods.getPaymentMethod(r);if(!n||!n.initializationData.checkoutId)throw new J.b(J.a.MissingPaymentMethod);return e._masterpassScriptLoader.load(n.config.testMode)})).then((function(t){e._masterpassClient=t,e._signInButton=e._createSignInButton(n)}))},t.prototype.deinitialize=function(){return this._signInButton&&this._signInButton.parentNode&&(this._signInButton.removeEventListener("click",this._handleWalletButtonClick),this._signInButton.parentNode.removeChild(this._signInButton),this._signInButton=void 0),Promise.resolve()},t.prototype._createSignInButton=function(t){var e=document.getElementById(t);if(!e)throw new Error("Need a container to place the button");var n=document.createElement("input");return n.type="image",n.src="https://static.masterpass.com/dyn/img/btn/global/mp_chk_btn_160x037px.svg",e.appendChild(n),n.addEventListener("click",this._handleWalletButtonClick),n},t.prototype._createMasterpassPayload=function(){var t=this._store.getState(),e=t.checkout.getCheckout(),n=this._methodId?t.paymentMethods.getPaymentMethod(this._methodId):null;if(!e)throw new J.b(J.a.MissingCheckout);if(!n)throw new J.b(J.a.MissingPaymentMethod);return{checkoutId:n.initializationData.checkoutId,allowedCardTypes:n.initializationData.allowedCardTypes,amount:e.cart.cartAmount.toString(),currency:e.cart.currency.code,cartId:e.cart.id,suppressShippingAddress:!1,callbackUrl:Object(nt.a)("cart")}},t.prototype._handleWalletButtonClick=function(){if(!this._masterpassClient)throw new $.b($.a.CheckoutButtonNotInitialized);this._masterpassClient.checkout(this._createMasterpassPayload())},Object(c.__decorate)([p.a],t.prototype,"_handleWalletButtonClick",null),t}(),it=n(60),ot=function(){function t(t,e,n,r,i){void 0===i&&(i=""),this._store=t,this._checkoutActionCreator=e,this._paypalScriptLoader=n,this._formPoster=r,this._host=i}return t.prototype.initialize=function(t){var e=this,n=t.paypal,r=this._store.getState(),i=this._paymentMethod=r.paymentMethods.getPaymentMethod(t.methodId);if(!n)throw new d.a;if(!i)throw new J.b(J.a.MissingPaymentMethod);return this._paypalScriptLoader.loadPaypal(i.config.merchantId).then((function(r){var o;if(!i||!i.config.merchantId)throw new J.b(J.a.MissingPaymentMethod);var a=i.config.merchantId,s=i.config.testMode?"sandbox":"production",d=((o={})[s]=n.clientId,o),p=[],h=[];return n.allowCredit?p.push(r.FUNDING.CREDIT):h.push(r.FUNDING.CREDIT),r.Button.render({env:s,client:d,commit:n.shouldProcessPayment,funding:{allowed:p,disallowed:h},style:Object(c.__assign)({shape:"rect"},Object(u.pick)(n.style,"layout","size","color","label","shape","tagline","fundingicons")),payment:function(t,r){return e._setupPayment(a,r,n.onPaymentError)},onAuthorize:function(t,r){return e._tokenizePayment(t,r,n.shouldProcessPayment,n.onAuthorizeError)}},t.containerId)}))},t.prototype.deinitialize=function(){return this._paymentMethod=void 0,Promise.resolve()},t.prototype._setupPayment=function(t,e,n){var r=this;if(!e)throw new $.b($.a.CheckoutButtonNotInitialized);return this._store.dispatch(this._checkoutActionCreator.loadDefaultCheckout()).then((function(n){var i=n.cart.getCart(),o=i?i.id:"";return e.request.post(r._host+"/api/storefront/payment/paypalexpress",{merchantId:t,cartId:o},{headers:{"X-API-INTERNAL":it.a}})})).then((function(t){return t.id})).catch((function(t){throw n&&n(t),t}))},t.prototype._tokenizePayment=function(t,e,n,r){var i=this;if(!this._paymentMethod)throw new $.b($.a.CheckoutButtonNotInitialized);if(!e)throw new $.b($.a.CheckoutButtonNotInitialized);if(!t.paymentID||!t.payerID)throw new J.b(J.a.MissingPayment);var o=this._paymentMethod.id;return e.payment.get(t.paymentID).then((function(e){i._formPoster.postForm("/checkout.php",{payment_type:"paypal",provider:o,action:n?"process_payment":"set_external_checkout",paymentId:t.paymentID,payerId:t.payerID,payerInfo:JSON.stringify(e.payer.payer_info)})}))},t}(),at=function(){function t(t,e,n,r){this._store=t,this._checkoutActionCreator=e,this._formPoster=n,this._paypalCommercePaymentProcessor=r}return t.prototype.initialize=function(t){var e;return Object(c.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u=this;return Object(c.__generator)(this,(function(c){switch(c.label){case 0:if(n=this._store.getState(),!(r=n.paymentMethods.getPaymentMethodOrThrow(t.methodId).initializationData).clientId)throw new d.a;return[4,this._store.dispatch(this._checkoutActionCreator.loadDefaultCheckout())];case 1:return n=c.sent(),i=n.cart.getCartOrThrow(),o={onApprove:function(t){return u._tokenizePayment(t)},onClick:function(t){return u._handleClickButtonProvider(t)}},t.paypalCommerce&&t.paypalCommerce.style&&(o.style=t.paypalCommerce.style),a=null===(e=t.paypalCommerce)||void 0===e?void 0:e.messagingContainer,s=Boolean(a&&document.getElementById(a)),[4,this._paypalCommercePaymentProcessor.initialize(this._getParamsScript(r,i))];case 2:return c.sent(),this._paypalCommercePaymentProcessor.renderButtons(i.id,"#"+t.containerId,o),s&&this._paypalCommercePaymentProcessor.renderMessages(i.cartAmount,"#"+a),[2,Promise.resolve()]}}))}))},t.prototype.deinitialize=function(){return this._isCredit=void 0,Promise.resolve()},t.prototype._handleClickButtonProvider=function(t){var e=t.fundingSource;this._isCredit="credit"===e||"paylater"===e},t.prototype._tokenizePayment=function(t){var e=t.orderID;if(!e)throw new J.b(J.a.MissingPayment);return this._formPoster.postForm("/checkout.php",{payment_type:"paypal",action:"set_external_checkout",provider:this._isCredit?"paypalcommercecredit":"paypalcommerce",order_id:e})},t.prototype._getParamsScript=function(t,e){var n=t.clientId,r=t.intent,i=t.isPayPalCreditAvailable,o=t.merchantId,a=["card"];return i||a.push("credit"),{"client-id":n,"merchant-id":o,commit:!1,currency:e.currency.code,components:["buttons","messages"],"disable-funding":a,intent:r}},t}();function st(t){var e=t&&t.host,n=Object(o.a)(),c=Object(i.createRequestSender)({host:e}),u=Object(r.createFormPoster)({host:e});return new C(n,new E(function(t,e,n,r){var i=new M.a,o=Object(P.getScriptLoader)(),a=new j.a(new k.a(e),new T.a(new R.a(e)),new D.a(new z.a(e))),s=Object(W.a)(o,e);return i.register(K.BRAINTREE_PAYPAL,(function(){return new tt(t,a,new N.a(new F.a(o)),new H.a(o),n)})),i.register(K.BRAINTREE_PAYPAL_CREDIT,(function(){return new tt(t,a,new N.a(new F.a(o)),new H.a(o),n,!0)})),i.register(K.MASTERPASS,(function(){return new rt(t,a,new Y.a(o))})),i.register(K.GOOGLEPAY_ADYENV2,(function(){return new et(t,n,a,Object(q.a)(t,new U.a))})),i.register(K.GOOGLEPAY_AUTHORIZENET,(function(){return new et(t,n,a,Object(q.a)(t,new x.a))})),i.register(K.GOOGLEPAY_BRAINTREE,(function(){return new et(t,n,a,Object(q.a)(t,new B.a(new N.a(new F.a(o)))))})),i.register(K.GOOGLEPAY_CHECKOUTCOM,(function(){return new et(t,n,a,Object(q.a)(t,new G.a(e)))})),i.register(K.GOOGLEPAY_STRIPE,(function(){return new et(t,n,a,Object(q.a)(t,new V.a))})),i.register(K.PAYPALEXPRESS,(function(){return new ot(t,a,new H.a(o),n,r)})),i.register(K.PAYPALCOMMERCE,(function(){return new at(t,a,n,s)})),i.register(K.AMAZON_PAY_V2,(function(){return new X(t,a,Object(L.a)())})),i}(n,c,u,e),new a.a(new s.a(c))))}n.d(e,"a",(function(){return st}))},function(t,e,n){"use strict";var r,i=n(47),o=n(145),a=n(144),s=n(66),c=n.n(s),u=function(){function t(t){this._namespace=t}return t.prototype.getItem=function(t){var e=c.a.getItem(this.withNamespace(t));if(null===e)return null;try{return JSON.parse(e)}catch(e){return this.removeItem(this.withNamespace(t)),null}},t.prototype.getItemOnce=function(t){var e=this.getItem(t);return this.removeItem(t),e},t.prototype.setItem=function(t,e){return c.a.setItem(this.withNamespace(t),JSON.stringify(e))},t.prototype.removeItem=function(t){return c.a.removeItem(this.withNamespace(t))},t.prototype.withNamespace=function(t){return this._namespace+"."+t},t}(),d=n(82),p=n(0),h=n(98),l=n(24),m=function(t){function e(e){var n=t.call(this,e,{message:e.body.title})||this;return n.name="InvalidLoginTokenError",n.type="invalid_login_token",n}return Object(p.__extends)(e,t),e}(n(37).a),f=n(23);!function(t){t.MissingContainer="missing_container",t.MissingContent="missing_content",t.UnknownError="unknown_error"}(r||(r={}));var _=function(t){function e(e,n){void 0===n&&(n=r.UnknownError);var i=t.call(this,e||"Unable to embed the checkout form.")||this;return i.subtype=n,i.name="NotEmbeddableError",i.type="not_embeddable",i}return Object(p.__extends)(e,t),e}(f.a),y=n(107),g=function(){function t(t,e,n,r,i,o,a,s){var c=this;this._iframeCreator=t,this._messageListener=e,this._messagePoster=n,this._loadingIndicator=r,this._requestSender=i,this._storage=o,this._location=a,this._options=s,this._isAttached=!1,this._options.onComplete&&this._messageListener.addListener(l.a.CheckoutComplete,this._options.onComplete),this._options.onError&&this._messageListener.addListener(l.a.CheckoutError,this._options.onError),this._options.onLoad&&this._messageListener.addListener(l.a.CheckoutLoaded,this._options.onLoad),this._options.onFrameLoad&&this._messageListener.addListener(l.a.FrameLoaded,this._options.onFrameLoad),this._options.onSignOut&&this._messageListener.addListener(l.a.SignedOut,this._options.onSignOut),this._messageListener.addListener(l.a.FrameLoaded,(function(){return c._configureStyles()}))}return t.prototype.attach=function(){var t=this;return this._isAttached?Promise.resolve(this):(this._isAttached=!0,this._messageListener.listen(),this._loadingIndicator.show(this._options.containerId),this._allowCookie().then((function(){return t._attemptLogin()})).then((function(e){return t._iframeCreator.createFrame(e,t._options.containerId)})).then((function(e){t._iframe=e,t._configureStyles(),t._loadingIndicator.hide()})).catch((function(e){return t._isAttached=!1,t._retryAllowCookie(e).catch((function(){throw t._messageListener.trigger({type:l.a.FrameError,payload:e}),t._loadingIndicator.hide(),e}))})).then((function(){return t})))},t.prototype.detach=function(){this._isAttached&&(this._isAttached=!1,this._messageListener.stopListen(),this._iframe&&this._iframe.parentNode&&(this._iframe.parentNode.removeChild(this._iframe),this._iframe.iFrameResizer.close()))},t.prototype._configureStyles=function(){this._iframe&&this._iframe.contentWindow&&this._options.styles&&(this._messagePoster.setTarget(this._iframe.contentWindow),this._messagePoster.post({type:y.a.StyleConfigured,payload:this._options.styles}))},t.prototype._attemptLogin=function(){return/^\/login\/token/.test(Object(d.a)(this._options.url).pathname)?this._requestSender.post(this._options.url).then((function(t){return t.body.redirectUrl})).catch((function(t){return Promise.reject(new m(t))})):Promise.resolve(this._options.url)},t.prototype._allowCookie=function(){if(this._storage.getItem("isCookieAllowed"))return Promise.resolve();this._storage.setItem("isCookieAllowed",!0),this._storage.setItem("lastAllowCookieAttempt",Date.now());var t=Object(d.a)(this._options.url).origin+"/embedded-checkout/allow-cookie?returnUrl="+encodeURIComponent(this._location.href);return document.body.style.visibility="hidden",this._location.replace(t),new Promise((function(){}))},t.prototype._retryAllowCookie=function(t){var e=Number(this._storage.getItem("lastAllowCookieAttempt"));return(!e||Date.now()-e>6e5)&&t instanceof _&&t.subtype===r.MissingContent?(this._storage.removeItem("lastAllowCookieAttempt"),this._storage.removeItem("isCookieAllowed"),this._allowCookie()):Promise.reject()},t=Object(p.__decorate)([h.a],t)}(),b={size:70,color:"#d9d9d9",backgroundColor:"#ffffff"},v="embedded-checkout-loading-indicator-rotation",C=function(){function t(t){this._styles=Object(p.__assign)(Object(p.__assign)({},b),t&&t.styles),this._defineAnimation(),this._container=this._buildContainer(),this._indicator=this._buildIndicator(),this._container.appendChild(this._indicator)}return t.prototype.show=function(t){if(t){var e=document.getElementById(t);if(!e)throw new Error("Unable to attach the loading indicator because the parent ID is not valid.");e.appendChild(this._container)}this._container.style.visibility="visible",this._container.style.opacity="1"},t.prototype.hide=function(){var t=this,e=function(){t._container.style.visibility="hidden",t._container.removeEventListener("transitionend",e)};this._container.addEventListener("transitionend",e),this._container.style.opacity="0"},t.prototype._buildContainer=function(){var t=document.createElement("div");return t.style.display="block",t.style.bottom="0",t.style.left="0",t.style.height="100%",t.style.width="100%",t.style.position="absolute",t.style.right="0",t.style.top="0",t.style.transition="all 250ms ease-out",t.style.opacity="0",t},t.prototype._buildIndicator=function(){var t=document.createElement("div");return t.style.display="block",t.style.width=this._styles.size+"px",t.style.height=this._styles.size+"px",t.style.borderRadius=this._styles.size+"px",t.style.border="solid 1px",t.style.borderColor=this._styles.backgroundColor+" "+this._styles.backgroundColor+" "+this._styles.color+" "+this._styles.color,t.style.margin="0 auto",t.style.position="absolute",t.style.left="0",t.style.right="0",t.style.top="50%",t.style.transform="translateY(-50%) rotate(0deg)",t.style.transformStyle="preserve-3d",t.style.animation=v+" 500ms infinite cubic-bezier(0.69, 0.31, 0.56, 0.83)",t},t.prototype._defineAnimation=function(){if(!document.getElementById(v)){var t=document.createElement("style");t.id=v,document.head.appendChild(t),t.sheet instanceof CSSStyleSheet&&t.sheet.insertRule("\n                @keyframes "+v+" {\n                    0% { transform: translateY(-50%) rotate(0deg); }\n                    100% { transform: translateY(-50%) rotate(360deg); }\n                }\n            ",0)}},t}(),O=n(56),S=n(192),w=function(){function t(t){this._options=t}return t.prototype.createFrame=function(t,e){var n=document.getElementById(e),i=(this._options||{}).timeout,o=void 0===i?6e4:i;if(!n)throw new _("Unable to embed the iframe because the container element could not be found.",r.MissingContainer);var a=document.createElement("iframe");return a.src=t,a.style.border="none",a.style.display="none",a.style.width="100%",a.allowPaymentRequest=!0,n.appendChild(a),this._toResizableFrame(a,o).catch((function(t){throw n.removeChild(a),t}))},t.prototype._toResizableFrame=function(t,e){return new Promise((function(n,i){var o=window.setTimeout((function(){i(new _("Unable to embed the iframe because the content could not be loaded."))}),e),a=function(e){if(e.origin===Object(d.a)(t.src).origin&&(Object(O.a)(e.data,l.a.FrameError)&&(s(),i(new _(e.data.payload.message,r.MissingContent))),Object(O.a)(e.data,l.a.FrameLoaded))){t.style.display="";var o=e.data.payload&&e.data.payload.contentId,a=Object(S.a)({scrolling:!1,sizeWidth:!1,heightCalculationMethod:o?"taggedElement":"lowestElement"},t);s(),n(a[a.length-1])}},s=function(){window.removeEventListener("message",a),window.clearTimeout(o)};window.addEventListener("message",a)}))},t}();n.d(e,"a",(function(){return A}));var I="BigCommerce.EmbeddedCheckout";function A(t){var e=Object(d.a)(t.url).origin;return new g(new w,new o.a(e),new a.a(e),new C({styles:t.styles&&t.styles.loadingIndicator}),Object(i.createRequestSender)(),new u(I),window.location,t).attach()}},function(t,e,n){"use strict";var r=n(192),i=n(145),o=n(144),a=n(24);function s(t){if(t.payload&&t.payload.contentId){var e=document.getElementById(t.payload.contentId);e&&!e.hasAttribute("data-iframe-height")&&e.setAttribute("data-iframe-height","")}}var c=n(0);function u(t){return"string"==typeof t.message&&"string"==typeof t.type&&("string"==typeof t.subtype||!t.subtype)&&t instanceof Error}var d=n(98),p=n(107),h=function(){function t(t,e,n,r){void 0===r&&(r={}),this._messageListener=t,this._messagePoster=e,this._untargetedMessagePoster=n,this._messageHandlers=r,this._messageListener.listen()}return t.prototype.postComplete=function(){var t={type:a.a.CheckoutComplete};this._postMessage(t)},t.prototype.postError=function(t){var e={type:a.a.CheckoutError,payload:this._transformError(t)};this._postMessage(e)},t.prototype.postFrameError=function(t){var e={type:a.a.FrameError,payload:this._transformError(t)};this._postMessage(e,{untargeted:!0})},t.prototype.postFrameLoaded=function(t){var e={type:a.a.FrameLoaded,payload:t};this._postMessage(e)},t.prototype.postLoaded=function(){var t={type:a.a.CheckoutLoaded};this._postMessage(t)},t.prototype.postSignedOut=function(){var t={type:a.a.SignedOut};this._postMessage(t)},t.prototype.receiveStyles=function(t){this._messageListener.addListener(p.a.StyleConfigured,(function(e){var n=e.payload;t(n)}))},t.prototype._postMessage=function(t,e){if(this._notifyMessageHandlers(t),e&&e.untargeted)return this._untargetedMessagePoster.post(t);this._messagePoster.post(t)},t.prototype._notifyMessageHandlers=function(t){var e=this;Object.keys(this._messageHandlers).forEach((function(n){if(t.type===n){var r=e._messageHandlers[n];r&&r.call(null,t)}}))},t.prototype._transformError=function(t){return{message:t.message,type:u(t)?t.type:void 0,subtype:u(t)?t.subtype:void 0}},t=Object(c.__decorate)([d.a],t)}(),l=function(){function t(){}return t.prototype.postComplete=function(){},t.prototype.postError=function(){},t.prototype.postFrameError=function(){},t.prototype.postFrameLoaded=function(){},t.prototype.postLoaded=function(){},t.prototype.postSignedOut=function(){},t.prototype.receiveStyles=function(){},t=Object(c.__decorate)([d.a],t)}();function m(t){var e;Object(r.b)();var n=t.parentWindow||window.parent;return window===n?new l:new h(new i.a(t.parentOrigin),new o.a(t.parentOrigin,n),new o.a("*",n),((e={})[a.a.FrameLoaded]=s,e))}n.d(e,"a",(function(){return m}))},function(t,e,n){"use strict";var r=n(0),i=n(2),o=n(68),a=n.n(o);function s(t){return t.hasOwnProperty("cacheKey")}var c=function(){function t(t){this._lastId=0,this._map={maps:[]},this._usedMaps=[],this._options=Object(r.__assign)({maxSize:0,isEqual:a.a,onExpire:i.noop},t)}return t.prototype.getKey=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._resolveMap.apply(this,t),r=n.index,i=n.parentMap,o=n.map;return o&&o.cacheKey?o.usedCount++:o=this._generateMap(i,t.slice(r)),this._removeLeastUsedMap(o),o.cacheKey},t.prototype.getUsedCount=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._resolveMap.apply(this,t).map;return n?n.usedCount:0},t.prototype._resolveMap=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=0,i=this._map;i.maps.length;){for(var o=!1,a=0;a<i.maps.length;a++){var c=i.maps[a];if(this._options.isEqual(c.value,e[r])){if((t=i.maps).unshift.apply(t,i.maps.splice(a,1)),(0===e.length||r===e.length-1)&&s(c))return{index:r,map:c,parentMap:i};o=!0,i=c,r++;break}}if(!o)break}return{index:r,parentMap:i}},t.prototype._generateMap=function(t,e){var n,r=0,i=t;do{n={maps:[],parentMap:i,usedCount:1,value:e[r]},i.maps.unshift(n),i=n,r++}while(r<e.length);var o=n;return o.cacheKey=""+ ++this._lastId,o},t.prototype._removeLeastUsedMap=function(t){if(this._options.maxSize){var e=this._usedMaps.indexOf(t);if(this._usedMaps.splice(-1===e?0:e,-1===e?0:1,t),!(this._usedMaps.length<=this._options.maxSize)){var n=this._usedMaps.pop();n&&(this._removeMap(n),this._options.onExpire(n.cacheKey))}}},t.prototype._removeMap=function(t){t.parentMap&&(t.parentMap.maps.splice(t.parentMap.maps.indexOf(t),1),function(t){return t.hasOwnProperty("parentMap")}(t.parentMap)||this._removeMap(t.parentMap))},t}();e.a=c},function(t,e){t.exports=__webpack_require__(/*! messageformat */ "./node_modules/messageformat/lib/messageformat.js")},,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(0),i=n(37);function o(t,e){var n=t.body.errors,r=void 0===n?[]:n;return new i.a(t,{message:a(r)||e,errors:r})}function a(t){if(Array.isArray(t))return t.reduce((function(t,e){return e&&e.message?Object(r.__spreadArrays)(t,[e.message]):t}),[]).join(" ")}},function(t,e,n){"use strict";var r=n(0),i=function(t){function e(e){var n=t.call(this,e,{message:"The request has timed out or aborted."})||this;return n.name="TimeoutError",n.type="timeout",n}return Object(r.__extends)(e,t),e}(n(37).a);e.a=i},function(t,e,n){"use strict";var r=n(0),i=function(t){function e(e){var n=t.call(this,e,{message:"There is a problem processing your payment. Please try again later."})||this;return n.name="PaymentMethodInvalidError",n.type="payment_method_invalid",n}return Object(r.__extends)(e,t),e}(n(37).a);e.a=i},function(t,e,n){"use strict";var r=n(79),i=n(86);e.a=Object(i.a)(r.createSelector)},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.UpdateSubscriptionsRequested="UPDATE_SUBSCRIPTIONS_REQUESTED",t.UpdateSubscriptionsSucceeded="UPDATE_SUBSCRIPTIONS_SUCCEEDED",t.UpdateSubscriptionsFailed="UPDATE_SUBSCRIPTIONS_FAILED"}(r||(r={}))},function(t,e,n){"use strict";var r=n(0),i=n(1),o=n(3),a=n(93),s=n(39),c=function(){function t(t){this._configRequestSender=t}return t.prototype.loadConfig=function(t){var e=this;return o.Observable.create((function(n){n.next(Object(i.createAction)(s.a.LoadConfigRequested)),e._configRequestSender.loadConfig(t).then((function(t){n.next(Object(i.createAction)(s.a.LoadConfigSucceeded,t.body)),n.complete()})).catch((function(t){n.error(Object(i.createErrorAction)(s.a.LoadConfigFailed,t))}))}))},Object(r.__decorate)([a.a],t.prototype,"loadConfig",null),t}();e.a=c},function(t,e,n){"use strict";var r=n(31),i=n(60),o=function(){function t(t){this._requestSender=t}return t.prototype.loadConfig=function(t){var e=(void 0===t?{}:t).timeout;return this._requestSender.get("/api/storefront/checkout-settings",{timeout:e,headers:{Accept:r.a.JsonV1,"X-API-INTERNAL":i.a}})},t}();e.a=o},function(t,e,n){"use strict";var r=n(31),i=function(){function t(t){this._requestSender=t}return t.prototype.updateSubscriptions=function(t,e){var n=(void 0===e?{}:e).timeout,i={Accept:r.a.JsonV1};return this._requestSender.post("/api/storefront/subscriptions",{body:t,headers:i,timeout:n})},t}();e.a=i},function(t,e,n){"use strict";var r=n(0),i=n(1),o=n(3),a=n(8),s=n(93),c=n(91),u=n(40),d=function(){function t(t){this._formFieldsRequestSender=t}return t.prototype.loadFormFields=function(t){var e=this;return Object(o.concat)(Object(o.of)(Object(i.createAction)(u.a.LoadFormFieldsRequested)),Object(o.defer)((function(){return Object(r.__awaiter)(e,void 0,void 0,(function(){var e;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return[4,this._formFieldsRequestSender.loadFields(t)];case 1:return e=n.sent().body,[2,Object(i.createAction)(u.a.LoadFormFieldsSucceeded,e)]}}))}))}))).pipe(Object(a.catchError)((function(t){return Object(c.a)(u.a.LoadFormFieldsFailed,t)})))},Object(r.__decorate)([s.a],t.prototype,"loadFormFields",null),t}();e.a=d},function(t,e,n){"use strict";var r=n(31),i=n(60),o=function(){function t(t){this._requestSender=t}return t.prototype.loadFields=function(t){var e=(void 0===t?{}:t).timeout;return this._requestSender.get("/api/storefront/form-fields",{timeout:e,headers:{Accept:r.a.JsonV1,"X-API-INTERNAL":i.a}})},t}();e.a=o},function(t,e,n){"use strict";var r=n(0),i=n(31),o={include:["cart.lineItems.physicalItems.options","cart.lineItems.digitalItems.options","customer","promotions.banners"].join(",")},a=function(){function t(t){this._requestSender=t}return t.prototype.createAddress=function(t,e,n){var r=(void 0===n?{}:n).timeout,a="/api/storefront/checkouts/"+t+"/billing-address",s={Accept:i.a.JsonV1};return this._requestSender.post(a,{body:e,params:o,headers:s,timeout:r})},t.prototype.updateAddress=function(t,e,n){var a=(void 0===n?{}:n).timeout,s=e.id,c=Object(r.__rest)(e,["id"]),u="/api/storefront/checkouts/"+t+"/billing-address/"+s,d={Accept:i.a.JsonV1};return this._requestSender.put(u,{params:o,body:c,headers:d,timeout:a})},t}();e.a=a},function(t,e,n){"use strict";var r=n(0),i=n(52),o=function(){function t(t){this._factories={},this._instances={},this._options=Object(r.__assign)({defaultToken:"default"},t)}return t.prototype.get=function(t,e){try{return this._getInstance(t||this._options.defaultToken,e||t||this._options.defaultToken)}catch(t){return this._getInstance(this._options.defaultToken,e||this._options.defaultToken)}},t.prototype.register=function(t,e){if(this._hasFactory(t))throw new i.a("'"+t+"' is already registered.");this._factories[t]=e},t.prototype._hasFactory=function(t){return!!this._factories[t]},t.prototype._hasInstance=function(t){return!!this._instances[t]},t.prototype._getInstance=function(t,e){if(!this._hasInstance(e)){var n=this._factories[t];if(!n)throw new i.a("'"+t+"' is not registered.");this._instances[e]=n()}return this._instances[e]},t}();e.a=o},function(t,e,n){"use strict";var r=n(0),i=function(t){function e(e){var n=t.call(this,e||"Not implemented.")||this;return n.name="NotImplementedError",n.type="not_implemented",n}return Object(r.__extends)(e,t),e}(n(23).a);e.a=i},function(t,e,n){"use strict";var r=n(0),i=function(t){function e(e){var n=t.call(this,"Unable to synchronize your checkout details with a third party provider. Please try again later.")||this;return n.error=e,n.name="RemoteCheckoutSynchronizationError",n.type="remote_checkout_synchronization",n}return Object(r.__extends)(e,t),e}(n(23).a);e.a=i},function(t,e,n){"use strict";var r=n(2),i=n(30),o=function(){function t(){}return t.prototype.initialize=function(t,e,n){return Promise.resolve(this._getGooglePayPaymentDataRequest(t,e,n))},t.prototype.teardown=function(){return Promise.resolve()},t.prototype.parseResponse=function(t){var e=t.paymentMethodData,n=e.type,r=e.tokenizationData.token,i=e.info,o=i.cardNetwork,a=i.cardDetails;return Promise.resolve({type:n,nonce:r,details:{cardType:o,lastFour:a}})},t.prototype._getGooglePayPaymentDataRequest=function(t,e,n){var o=t.outstandingBalance,a=t.cart.currency.code,s=e.initializationData,c=s.gatewayMerchantId,u=s.storeCountry,d=s.googleMerchantName,p=s.googleMerchantId;return{apiVersion:2,apiVersionMinor:0,merchantInfo:{authJwt:s.platformToken,merchantId:p,merchantName:d},allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:e.supportedCards.map((function(t){return"MC"===t?"MASTERCARD":t})),billingAddressRequired:!0,billingAddressParameters:{format:i.a.Full,phoneNumberRequired:!0}},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:{gateway:"adyen",gatewayMerchantId:c}}}],transactionInfo:{countryCode:u,currencyCode:a,totalPriceStatus:"FINAL",totalPrice:Object(r.round)(o,2).toFixed(2)},emailRequired:!0,shippingAddressRequired:!n,shippingAddressParameters:{phoneNumberRequired:!0}}},t}();e.a=o},function(t,e,n){"use strict";var r=n(46),i=function(){function t(t,e){void 0===e&&(e=window),this._scriptLoader=t,this._window=e}return t.prototype.load=function(t){var e=this;return this._scriptLoader.loadScript("//"+(t?"sandbox.":"")+"masterpass.com/integration/merchant.js").then((function(){if(!e._window.masterpass)throw new r.a;return e._window.masterpass}))},t}();e.a=i},function(t,e,n){"use strict";var r=n(0),i=n(2),o=n(30),a={apiVersion:2,apiVersionMinor:0},s=function(){function t(){}return t.prototype.initialize=function(t,e,n){return Promise.resolve(this._getGooglePaymentDataRequest(t,e,n))},t.prototype.teardown=function(){return Promise.resolve()},t.prototype.parseResponse=function(t){var e=t.paymentMethodData,n=e.type,r=e.tokenizationData.token,i=e.info,o=i.cardNetwork,a=i.cardDetails;return Promise.resolve({type:n,nonce:btoa(r),details:{cardType:o,lastFour:a}})},t.prototype._getGooglePaymentDataRequest=function(t,e,n){var o=t.outstandingBalance,s=t.cart.currency.code,c=e.initializationData,u=c.paymentGatewayId,d=c.storeCountry,p=c.googleMerchantName,h=c.googleMerchantId,l=c.platformToken,m=e.supportedCards,f=this._getPaymentGatewaySpecification(u),_=this._getCardPaymentMethod(f,m);return Object(r.__assign)(Object(r.__assign)({},a),{allowedPaymentMethods:[_],transactionInfo:{totalPriceStatus:"FINAL",totalPrice:Object(i.round)(o,2).toFixed(2),currencyCode:s,countryCode:d},merchantInfo:{merchantName:p,merchantId:h,authJwt:l},emailRequired:!0,shippingAddressRequired:!n,shippingAddressParameters:{phoneNumberRequired:!0}})},t.prototype._getPaymentGatewaySpecification=function(t){return{type:"PAYMENT_GATEWAY",parameters:{gateway:"authorizenet",gatewayMerchantId:t}}},t.prototype._getCardPaymentMethod=function(t,e){return{type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:e.map((function(t){return"MC"===t?"MASTERCARD":t})),billingAddressRequired:!0,billingAddressParameters:{format:o.a.Full,phoneNumberRequired:!0}},tokenizationSpecification:t}},t}();e.a=s},function(t,e,n){"use strict";var r=n(2),i=n(12),o=n(30),a=function(){function t(t){this._braintreeSDKCreator=t}return t.prototype.initialize=function(t,e,n){var r=this;if(!e.clientToken)throw new i.b(i.a.MissingPaymentMethod);return this._braintreeSDKCreator.initialize(e.clientToken),this._braintreeSDKCreator.getGooglePaymentComponent().then((function(i){return r._googlePaymentInstance=i,r._createGooglePayPayload(t,e.initializationData,n)}))},t.prototype.teardown=function(){return this._braintreeSDKCreator.teardown()},t.prototype.parseResponse=function(t){var e=JSON.parse(t.paymentMethodData.tokenizationData.token).androidPayCards[0];return Promise.resolve({nonce:e.nonce,type:e.type,description:e.description,details:{cardType:e.details.cardType,lastFour:e.details.lastFour,lastTwo:e.details.lastTwo},binData:e.binData})},t.prototype._createGooglePayPayload=function(t,e,n){if(!e.platformToken)throw new i.b(i.a.MissingPaymentMethod);var o={merchantInfo:{authJwt:e.platformToken,merchantName:e.googleMerchantName,merchantId:e.googleMerchantId},transactionInfo:{currencyCode:t.cart.currency.code,totalPriceStatus:"FINAL",totalPrice:Object(r.round)(t.outstandingBalance,2).toFixed(2)},cardRequirements:{billingAddressRequired:!0,billingAddressFormat:"FULL"},shippingAddressRequired:!n,emailRequired:!0,phoneNumberRequired:!0};return this._mapGooglePayBraintreeDataRequestToGooglePayDataRequestV2(this._googlePaymentInstance.createPaymentDataRequest(o))},t.prototype._mapGooglePayBraintreeDataRequestToGooglePayDataRequestV2=function(t){return{apiVersion:2,apiVersionMinor:0,merchantInfo:{authJwt:t.merchantInfo.authJwt,merchantId:t.merchantInfo.merchantId,merchantName:t.merchantInfo.merchantName},allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:t.cardRequirements.allowedCardNetworks,billingAddressRequired:!0,billingAddressParameters:{format:o.a.Full,phoneNumberRequired:!0}},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:{gateway:"braintree","braintree:apiVersion":"v1","braintree:authorizationFingerprint":t.paymentMethodTokenizationParameters.parameters["braintree:authorizationFingerprint"],"braintree:merchantId":t.paymentMethodTokenizationParameters.parameters["braintree:merchantId"],"braintree:sdkVersion":t.paymentMethodTokenizationParameters.parameters["braintree:sdkVersion"]}}}],transactionInfo:t.transactionInfo,emailRequired:!0,shippingAddressRequired:t.shippingAddressRequired,shippingAddressParameters:{phoneNumberRequired:t.phoneNumberRequired}}},t}();e.a=a},function(t,e,n){"use strict";var r=n(0),i=n(2),o=n(52),a=n(31),s=n(92),c=n(30),u=function(){function t(t){this._requestSender=t,this._publishableKey="",this._testMode=!0}return t.prototype.initialize=function(t,e,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(r){return this._publishableKey=e.initializationData.checkoutcomkey,this._testMode=!!e.config.testMode,[2,this._mapGooglePayCheckoutcomDataRequestToGooglePayDataRequestV2(t,e.initializationData,n)]}))}))},t.prototype.teardown=function(){return Promise.resolve()},t.prototype.parseResponse=function(t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:try{e=JSON.parse(t.paymentMethodData.tokenizationData.token)}catch(t){throw new o.a("Unable to parse response from Google Pay.")}if(!e.signature||!e.protocolVersion||!e.signedMessage)throw new s.a("Unable to parse response from Google Pay.");return[4,this._convertToken(this._testMode,this._publishableKey,e)];case 1:return[2,{nonce:n.sent(),type:"CreditCard",description:t.paymentMethodData.description,details:{cardType:t.paymentMethodData.info.cardNetwork,lastFour:t.paymentMethodData.info.cardDetails}}]}}))}))},t.prototype._convertToken=function(t,e,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:if(!n||!n.protocolVersion)throw new s.a("Unable to parse response from GooglePay.");return[4,this._requestCheckoutcomTokenize(t,e,{type:"googlepay",token_data:n})];case 1:if(!(i=r.sent())||!i.token)throw new s.a("Unable to parse response from Checkout.com");return[2,i.token]}}))}))},t.prototype._requestCheckoutcomTokenize=function(t,e,n){return void 0===n&&(n={}),Object(r.__awaiter)(this,void 0,void 0,(function(){var i;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return"https://api.sandbox.checkout.com/tokens","https://api.checkout.com/tokens",i=t?"https://api.sandbox.checkout.com/tokens":"https://api.checkout.com/tokens",[4,this._requestSender.post(i,{credentials:!1,body:n,headers:{"Content-Type":a.a.Json,Authorization:e,"X-XSRF-TOKEN":null}})];case 1:return[2,r.sent().body]}}))}))},t.prototype._mapGooglePayCheckoutcomDataRequestToGooglePayDataRequestV2=function(t,e,n){return{apiVersion:2,apiVersionMinor:0,merchantInfo:{authJwt:e.platformToken,merchantId:e.googleMerchantId,merchantName:e.googleMerchantName},allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:["AMEX","DISCOVER","JCB","MASTERCARD","VISA"],billingAddressRequired:!0,billingAddressParameters:{format:c.a.Full,phoneNumberRequired:!0}},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:{gateway:"checkoutltd",gatewayMerchantId:e.checkoutcomkey}}}],transactionInfo:{currencyCode:t.cart.currency.code,totalPriceStatus:"FINAL",totalPrice:Object(i.round)(t.outstandingBalance,2).toFixed(2)},emailRequired:!0,shippingAddressRequired:!n,shippingAddressParameters:{phoneNumberRequired:!0}}},t}();e.a=u},function(t,e,n){"use strict";var r=n(2),i=n(52),o=n(30),a=function(){function t(){}return t.prototype.initialize=function(t,e,n){return Promise.resolve(this._getGooglePayPaymentDataRequest(t,e,n))},t.prototype.teardown=function(){return Promise.resolve()},t.prototype.parseResponse=function(t){try{var e=JSON.parse(t.paymentMethodData.tokenizationData.token);return Promise.resolve({nonce:e.id,type:e.type,details:{cardType:e.card.brand,lastFour:e.card.last4}})}catch(t){throw new i.a("Unable to parse response from Google Pay.")}},t.prototype._getGooglePayPaymentDataRequest=function(t,e,n){var i=t.outstandingBalance,a=t.cart.currency.code,s=e.initializationData,c=s.googleMerchantName,u=s.googleMerchantId,d=s.platformToken,p=s.stripeVersion,h=s.stripePublishableKey,l=s.stripeConnectedAccount;return{apiVersion:2,apiVersionMinor:0,merchantInfo:{authJwt:d,merchantId:u,merchantName:c},allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:e.supportedCards.map((function(t){return"MC"===t?"MASTERCARD":t})),billingAddressRequired:!0,billingAddressParameters:{format:o.a.Full,phoneNumberRequired:!0}},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:{gateway:"stripe","stripe:version":p,"stripe:publishableKey":h+"/"+l}}}],transactionInfo:{currencyCode:a,totalPriceStatus:"FINAL",totalPrice:Object(r.round)(i,2).toFixed(2)},emailRequired:!0,shippingAddressRequired:!n,shippingAddressParameters:{phoneNumberRequired:!0}}},t}();e.a=a},function(t,e,n){"use strict";var r=n(0),i=function(t){function e(e){var n=t.call(this,e||"Unable to proceed due to invalid configuration provided for the hosted payment form.")||this;return n.name="InvalidHostedFormConfigError",n.type="invalid_hosted_form_config",n}return Object(r.__extends)(e,t),e}(n(23).a);e.a=i},function(t,e,n){"use strict";var r=n(0),i=n(2),o=function(t){function e(e){var n=t.call(this,Object(r.__spreadArrays)(["Unable to proceed due to invalid user input values"],Object(i.flatMap)(Object(i.values)(e),(function(t){return Object(i.map)(t,(function(t){return t.message}))}))).join(". "))||this;return n.errors=e,n.name="InvalidHostedFormValueError",n.type="invalid_hosted_form_value",n}return Object(r.__extends)(e,t),e}(n(23).a);e.a=o},function(t,e,n){"use strict";var r=n(0),i=n(46),o=function(){function t(t){this._scriptLoader=t,this._window=window}return t.prototype.loadPaypal=function(t){return void 0===t&&(t=""),Object(r.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return e="//www.paypalobjects.com/api/checkout.min.js",n={async:!0,attributes:{"data-merchant-id":t}},t?[4,this._scriptLoader.loadScript(e,n)]:[3,2];case 1:return r.sent(),[3,4];case 2:return[4,this._scriptLoader.loadScript(e)];case 3:r.sent(),r.label=4;case 4:if(!this._window.paypal)throw new i.a;return[2,this._window.paypal]}}))}))},t}();e.a=o},function(t,e,n){"use strict";var r=n(0),i=n(60),o=n(31),a=function(){function t(t){this._requestSender=t}return t.prototype.setupPayment=function(t,e){return void 0===e&&(e={}),Object(r.__awaiter)(this,void 0,void 0,(function(){var n,a,s,c,u,d,p,h;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return n=e.isCredit,a=e.isCheckout,s=e.isCreditCard,c=e.isAPM,u="paypalcommerce",s?u="paypalcommercecreditcardscheckout":a?u=n?"paypalcommercecreditcheckout":"paypalcommercecheckout":n&&(u="paypalcommercecredit"),c&&(u="paypalcommercealternativemethods"),d="/api/storefront/payment/"+u,p={cartId:t},h={"X-API-INTERNAL":i.a,"Content-Type":o.a.Json},[4,this._requestSender.post(d,{headers:h,body:p})];case 1:return[2,r.sent().body]}}))}))},t.prototype.getOrderStatus=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(e){switch(e.label){case 0:return"/api/storefront/initialization/paypalcommerce",t={"X-API-INTERNAL":i.a,"Content-Type":o.a.Json},[4,this._requestSender.get("/api/storefront/initialization/paypalcommerce",{headers:t})];case 1:return[2,e.sent().body]}}))}))},t}();e.a=a},function(t,e,n){"use strict";function r(t,e){return(0,n(127).iframeResizer)(t,e)}function i(){n(128)}n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i}))},,,function(t,e,n){"use strict";n.r(e);var r=n(47),i=n(33),o=n(202),a=n(178),s=n(87),c=function(){function t(){}return t.prototype.clearError=function(t){return{type:s.a.ClearError,payload:t}},t}();function u(){try{return "development"||false}catch(t){return"development"}}var d=n(0),p=function(){function t(t){this._console=t}return t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logToConsole.apply(this,Object(d.__spreadArrays)(["log"],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logToConsole.apply(this,Object(d.__spreadArrays)(["info"],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logToConsole.apply(this,Object(d.__spreadArrays)(["warn"],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logToConsole.apply(this,Object(d.__spreadArrays)(["error"],t))},t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logToConsole.apply(this,Object(d.__spreadArrays)(["debug"],t))},t.prototype._logToConsole=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this._console&&this._console[t]&&(e=this._console[t]).call.apply(e,Object(d.__spreadArrays)([this._console],n))},t}(),h=function(){function t(){}return t.prototype.log=function(){},t.prototype.info=function(){},t.prototype.warn=function(){},t.prototype.error=function(){},t.prototype.debug=function(){},t}();var l,m=(void 0===(l="test"!==u())&&(l=!0),l?new p(console):new h);function f(){return m}var _=n(173),y=n(174),g=n(1),b=n(3),v=n(12),C=n(22),O=function(){function t(t){this._couponRequestSender=t}return t.prototype.applyCoupon=function(t,e){var n=this;return function(r){return b.Observable.create((function(i){var o=r.getState().checkout.getCheckout();if(!o)throw new v.b(v.a.MissingCheckout);i.next(Object(g.createAction)(C.a.ApplyCouponRequested)),n._couponRequestSender.applyCoupon(o.id,t,e).then((function(t){var e=t.body;i.next(Object(g.createAction)(C.a.ApplyCouponSucceeded,e)),i.complete()})).catch((function(t){i.error(Object(g.createErrorAction)(C.a.ApplyCouponFailed,t))}))}))}},t.prototype.removeCoupon=function(t,e){var n=this;return function(r){return b.Observable.create((function(i){var o=r.getState().checkout.getCheckout();if(!o)throw new v.b(v.a.MissingCheckout);i.next(Object(g.createAction)(C.a.RemoveCouponRequested)),n._couponRequestSender.removeCoupon(o.id,t,e).then((function(t){var e=t.body;i.next(Object(g.createAction)(C.a.RemoveCouponSucceeded,e)),i.complete()})).catch((function(t){i.error(Object(g.createErrorAction)(C.a.RemoveCouponFailed,t))}))}))}},t}(),S=n(90),w=n(139),I=n(31),A=n(64),E=function(){function t(t){this._requestSender=t}return t.prototype.applyCoupon=function(t,e,n){var r=(void 0===n?{}:n).timeout,i="/api/storefront/checkouts/"+t+"/coupons",o={Accept:I.a.JsonV1};return this._requestSender.post(i,{headers:o,timeout:r,params:{include:Object(A.a)(Object(d.__spreadArrays)(S.a,[w.a.AvailableShippingOptions]))},body:{couponCode:e}})},t.prototype.removeCoupon=function(t,e,n){var r=(void 0===n?{}:n).timeout,i="/api/storefront/checkouts/"+t+"/coupons/"+e,o={Accept:I.a.JsonV1};return this._requestSender.delete(i,{headers:o,timeout:r,params:{include:Object(A.a)(Object(d.__spreadArrays)(S.a,[w.a.AvailableShippingOptions]))}})},t}(),P=n(26),j=function(){function t(t){this._giftCertificateRequestSender=t}return t.prototype.applyGiftCertificate=function(t,e){var n=this;return function(r){return b.Observable.create((function(i){var o=r.getState().checkout.getCheckout();if(!o)throw new v.b(v.a.MissingCheckout);i.next(Object(g.createAction)(P.a.ApplyGiftCertificateRequested)),n._giftCertificateRequestSender.applyGiftCertificate(o.id,t,e).then((function(t){var e=t.body;i.next(Object(g.createAction)(P.a.ApplyGiftCertificateSucceeded,e)),i.complete()})).catch((function(t){i.error(Object(g.createErrorAction)(P.a.ApplyGiftCertificateFailed,t))}))}))}},t.prototype.removeGiftCertificate=function(t,e){var n=this;return function(r){return b.Observable.create((function(i){var o=r.getState().checkout.getCheckout();if(!o)throw new v.b(v.a.MissingCheckout);i.next(Object(g.createAction)(P.a.RemoveGiftCertificateRequested)),n._giftCertificateRequestSender.removeGiftCertificate(o.id,t,e).then((function(t){var e=t.body;i.next(Object(g.createAction)(P.a.RemoveGiftCertificateSucceeded,e)),i.complete()})).catch((function(t){i.error(Object(g.createErrorAction)(P.a.RemoveGiftCertificateFailed,t))}))}))}},t}(),k=function(){function t(t){this._requestSender=t}return t.prototype.applyGiftCertificate=function(t,e,n){var r=(void 0===n?{}:n).timeout,i="/api/storefront/checkouts/"+t+"/gift-certificates",o={Accept:I.a.JsonV1};return this._requestSender.post(i,{headers:o,timeout:r,params:{include:Object(A.a)(S.a)},body:{giftCertificateCode:e}})},t.prototype.removeGiftCertificate=function(t,e,n){var r=(void 0===n?{}:n).timeout,i="/api/storefront/checkouts/"+t+"/gift-certificates/"+e,o={Accept:I.a.JsonV1};return this._requestSender.delete(i,{headers:o,timeout:r,params:{include:Object(A.a)(S.a)}})},t}(),M=n(8),T=n(91);function R(t){var e=t;return"object"==typeof e&&"object"==typeof e.payload&&"string"==typeof e.payload.token}var D=n(36),z=function(){function t(t,e,n){this._customerRequestSender=t,this._checkoutActionCreator=e,this._spamProtectionActionCreator=n}return t.prototype.createCustomer=function(t,e){var n=this;return function(r){var i=r.getState().config.getStoreConfigOrThrow().checkoutSettings.isStorefrontSpamProtectionEnabled,o=function(i){return Object(b.from)(n._customerRequestSender.createAccount(Object(d.__assign)(Object(d.__assign)({},t),{token:i}),e)).pipe(Object(M.switchMap)((function(){return Object(b.concat)(n._checkoutActionCreator.loadCurrentCheckout(e)(r),Object(b.of)(Object(g.createAction)(D.a.CreateCustomerSucceeded)))})))};return Object(b.concat)(Object(b.of)(Object(g.createAction)(D.a.CreateCustomerRequested)),i?Object(b.from)(n._spamProtectionActionCreator.execute()(r)).pipe(Object(M.switchMap)((function(t){var e;return R(t)?Object(b.concat)(Object(b.of)(t),o(null===(e=t.payload)||void 0===e?void 0:e.token)):Object(b.of)(t)}))):o()).pipe(Object(M.catchError)((function(t){return Object(T.a)(D.a.CreateCustomerFailed,t)})))}},t.prototype.signInCustomer=function(t,e){var n=this;return function(r){return Object(b.concat)(Object(b.of)(Object(g.createAction)(D.a.SignInCustomerRequested)),Object(b.from)(n._customerRequestSender.signInCustomer(t,e)).pipe(Object(M.switchMap)((function(t){var i=t.body;return Object(b.concat)(n._checkoutActionCreator.loadCurrentCheckout(e)(r),Object(b.of)(Object(g.createAction)(D.a.SignInCustomerSucceeded,i.data)))})))).pipe(Object(M.catchError)((function(t){return Object(T.a)(D.a.SignInCustomerFailed,t)})))}},t.prototype.signOutCustomer=function(t){var e=this;return function(n){return Object(b.concat)(Object(b.of)(Object(g.createAction)(D.a.SignOutCustomerRequested)),Object(b.from)(e._customerRequestSender.signOutCustomer(t)).pipe(Object(M.switchMap)((function(r){var i=r.body;return Object(b.concat)(e._checkoutActionCreator.loadCurrentCheckout(t)(n),Object(b.of)(Object(g.createAction)(D.a.SignOutCustomerSucceeded,i.data)))})))).pipe(Object(M.catchError)((function(t){return Object(T.a)(D.a.SignOutCustomerFailed,t)})))}},t}(),L=function(){function t(t){this._requestSender=t}return t.prototype.createAccount=function(t,e){var n=(void 0===e?{}:e).timeout;return this._requestSender.post("/api/storefront/customer",{timeout:n,body:t})},t.prototype.signInCustomer=function(t,e){var n=(void 0===e?{}:e).timeout;return this._requestSender.post("/internalapi/v1/checkout/customer",{timeout:n,body:t})},t.prototype.signOutCustomer=function(t){var e=(void 0===t?{}:t).timeout;return this._requestSender.delete("/internalapi/v1/checkout/customer",{timeout:e})},t}(),N=n(10),F=function(){function t(t){this._strategyRegistry=t}return t.prototype.signIn=function(t,e){var n=this;return b.Observable.create((function(r){var i=e&&e.methodId,o={methodId:i};r.next(Object(g.createAction)(N.a.SignInRequested,void 0,o)),n._strategyRegistry.get(i).signIn(t,e).then((function(){r.next(Object(g.createAction)(N.a.SignInSucceeded,void 0,o)),r.complete()})).catch((function(t){r.error(Object(g.createErrorAction)(N.a.SignInFailed,t,o))}))}))},t.prototype.signOut=function(t){var e=this;return b.Observable.create((function(n){var r=t&&t.methodId,i={methodId:r};n.next(Object(g.createAction)(N.a.SignOutRequested,void 0,i)),e._strategyRegistry.get(r).signOut(t).then((function(){n.next(Object(g.createAction)(N.a.SignOutSucceeded,void 0,i)),n.complete()})).catch((function(t){n.error(Object(g.createErrorAction)(N.a.SignOutFailed,t,i))}))}))},t.prototype.initialize=function(t){var e=this;return function(n){return b.Observable.create((function(r){var i=n.getState(),o=t&&t.methodId,a={methodId:o};if(o&&i.customerStrategies.isInitialized(o))return r.complete();r.next(Object(g.createAction)(N.a.InitializeRequested,void 0,a)),e._strategyRegistry.get(o).initialize(t).then((function(){r.next(Object(g.createAction)(N.a.InitializeSucceeded,void 0,a)),r.complete()})).catch((function(t){r.error(Object(g.createErrorAction)(N.a.InitializeFailed,t,a))}))}))}},t.prototype.deinitialize=function(t){var e=this;return function(n){return b.Observable.create((function(r){var i=n.getState(),o=t&&t.methodId,a={methodId:o};if(o&&!i.customerStrategies.isInitialized(o))return r.complete();r.next(Object(g.createAction)(N.a.DeinitializeRequested,void 0,a)),e._strategyRegistry.get(o).deinitialize(t).then((function(){r.next(Object(g.createAction)(N.a.DeinitializeSucceeded,void 0,a)),r.complete()})).catch((function(t){r.error(Object(g.createErrorAction)(N.a.DeinitializeFailed,t,a))}))}))}},t.prototype.widgetInteraction=function(t,e){return b.Observable.create((function(n){var r={methodId:e&&e.methodId};n.next(Object(g.createAction)(N.a.WidgetInteractionStarted,void 0,r)),t().then((function(){n.next(Object(g.createAction)(N.a.WidgetInteractionFinished,void 0,r)),n.complete()})).catch((function(t){n.error(Object(g.createErrorAction)(N.a.WidgetInteractionFailed,t,r))}))}))},t}(),q=n(73),U=n(138),x=n(130),B=n(179),G=n(176),V=n(177),Y=n(88),H=n(89),W=function(){function t(t){this._scriptLoader=t,this._window=window}return t.prototype.loadWidget=function(t,e){var n=t.config,r=n.merchantId,i=n.testMode,o=t.initializationData,a=(void 0===o?{}:o).region,s=void 0===a?"us":a,c="https://"+("us"!==s.toLowerCase()?"static-eu.":"static-na.")+"payments-amazon.com/OffAmazonPayments/"+s.toLowerCase()+"/"+(i?"sandbox/":"")+("us"!==s.toLowerCase()?"lpa/":"")+"js/Widgets.js?sellerId="+r;return this._configureWidget(t,e),this._scriptLoader.loadScript(c)},t.prototype._configureWidget=function(t,e){var n=this,r=function(){n._window.amazon&&(n._window.amazon.Login.setClientId(t.initializationData.clientId),n._window.amazon.Login.setUseCookie(!0))};this._window.amazon&&this._window.amazon.Login?r():this._window.onAmazonLoginReady=r,this._window.OffAmazonPayments&&e?e():this._window.onAmazonPaymentsReady=e},t}(),K=n(198),J=n(105),Z=n(106),Q=function(){function t(t,e){this._braintreeSDKCreator=t,this._requestSender=e}return t.prototype.initialize=function(t,e){return this._braintreeSDKCreator.initialize(t),this._braintreeSDKCreator.getVisaCheckout().then((function(t){return t.createInitOptions({settings:{locale:e.locale,shipping:{collectShipping:e.collectShipping}},paymentRequest:{currencyCode:e.currencyCode,subtotal:String(e.subtotal)}})}))},t.prototype.deinitialize=function(){return this._braintreeSDKCreator.teardown()},t.prototype.handleSuccess=function(t,e,n){var r=this;return this._braintreeSDKCreator.getVisaCheckout().then((function(i){return Promise.all([i.tokenize(t),r._braintreeSDKCreator.getDataCollector()]).then((function(t){var i=t[0],o=t[1],a=i.shippingAddress,s=void 0===a?r._toVisaCheckoutAddress(e):a,c=i.billingAddress,u=void 0===c?r._toVisaCheckoutAddress(n):c;return r._postForm(Object(d.__assign)(Object(d.__assign)({},i),{shippingAddress:s,billingAddress:u}),o)}))}))},t.prototype._postForm=function(t,e){var n=t.userData,r=t.billingAddress,i=t.shippingAddress,o=t.details,a=n.userEmail,s=e.deviceData;return this._requestSender.post("/checkout.php",{headers:{Accept:"text/html","Content-Type":"application/x-www-form-urlencoded"},body:{payment_type:t.type,nonce:t.nonce,provider:"braintreevisacheckout",action:"set_external_checkout",device_data:s,card_information:this._getCardInformation(o),billing_address:this._getAddress(a,r),shipping_address:this._getAddress(a,i)}})},t.prototype._toVisaCheckoutAddress=function(t){return t?{firstName:t.firstName,lastName:t.lastName,phoneNumber:t.phone,streetAddress:t.address1,extendedAddress:t.address2,locality:t.city,region:t.stateOrProvinceCode,countryCode:t.countryCode,postalCode:t.postalCode}:{}},t.prototype._getAddress=function(t,e){return void 0===e&&(e={}),{email:t,first_name:e.firstName,last_name:e.lastName,phone_number:e.phoneNumber,address_line_1:e.streetAddress,address_line_2:e.extendedAddress,city:e.locality,state:e.region,country_code:e.countryCode,postal_code:e.postalCode}},t.prototype._getCardInformation=function(t){return{type:t.cardType,number:t.lastTwo}},t}();function X(t,e){var n=new J.a(t),r=new Z.a(n);return new Q(r,e)}var $=n(46),tt=function(){function t(t,e){void 0===e&&(e=window),this._scriptLoader=t,this._window=e}return t.prototype.load=function(t){var e=this;return this._scriptLoader.loadScript("//"+(t?"sandbox-":"")+"assets.secure.checkout.visa.com/checkout-widget/resources/js/integration/v1/sdk.js").then((function(){if(!e._window.V)throw new $.a;return e._window.V}))},t}(),et=function(){function t(t,e){void 0===e&&(e=window),this._scriptLoader=t,this._window=e}return t.prototype.load=function(t){var e=this;return this._scriptLoader.loadScript("//pwc"+(t?"psb":"")+".chase.com/pwc/checkout/js/v20170521/list.action?type=raw&applId=PWC&channelId=CWC&version=1").then((function(){if(!e._window.JPMC)throw new $.a;return e._window.JPMC}))},t}(),nt=n(199),rt=n(182),it=n(184),ot=n(185),at=n(186),st=n(187),ct=n(183),ut=function(){function t(t){this._requestSender=t}return t.prototype.initializeBilling=function(t,e,n){var r=(void 0===n?{}:n).timeout,i="/remote-checkout/"+t+"/billing";return this._requestSender.get(i,{params:e,timeout:r})},t.prototype.initializeShipping=function(t,e,n){var r=(void 0===n?{}:n).timeout,i="/remote-checkout/"+t+"/shipping";return this._requestSender.get(i,{params:e,timeout:r})},t.prototype.initializePayment=function(t,e,n){var r=(void 0===n?{}:n).timeout,i="/remote-checkout/"+t+"/payment";return this._requestSender.get(i,{params:e,timeout:r})},t.prototype.loadSettings=function(t,e){var n=(void 0===e?{}:e).timeout,r="/remote-checkout/"+t+"/settings";return this._requestSender.get(r,{timeout:n})},t.prototype.signOut=function(t,e){var n=(void 0===e?{}:e).timeout,r="/remote-checkout/"+t+"/signout";return this._requestSender.get(r,{timeout:n})},t.prototype.generateToken=function(t){var e=(void 0===t?{}:t).timeout;return this._requestSender.get("/remote-checkout-token",{timeout:e})},t.prototype.trackAuthorizationEvent=function(t){var e=(void 0===t?{}:t).timeout;return this._requestSender.post("/remote-checkout/events/shopper-checkout-service-provider-authorization-requested",{timeout:e})},t}(),dt=n(28),pt=function(){function t(t){this._remoteCheckoutRequestSender=t}return t.prototype.initializeBilling=function(t,e,n){var r=this;return b.Observable.create((function(i){i.next(Object(g.createAction)(dt.a.InitializeRemoteBillingRequested,void 0,{methodId:t})),r._remoteCheckoutRequestSender.initializeBilling(t,e,n).then((function(e){var n=e.body,r=void 0===n?{}:n;i.next(Object(g.createAction)(dt.a.InitializeRemoteBillingSucceeded,r,{methodId:t})),i.complete()})).catch((function(e){i.error(Object(g.createErrorAction)(dt.a.InitializeRemoteBillingFailed,e,{methodId:t}))}))}))},t.prototype.initializeShipping=function(t,e,n){var r=this;return b.Observable.create((function(i){i.next(Object(g.createAction)(dt.a.InitializeRemoteShippingRequested,void 0,{methodId:t})),r._remoteCheckoutRequestSender.initializeShipping(t,e,n).then((function(e){var n=e.body,r=void 0===n?{}:n;i.next(Object(g.createAction)(dt.a.InitializeRemoteShippingSucceeded,r,{methodId:t})),i.complete()})).catch((function(e){i.error(Object(g.createErrorAction)(dt.a.InitializeRemoteShippingFailed,e,{methodId:t}))}))}))},t.prototype.initializePayment=function(t,e,n){var r=this;return b.Observable.create((function(i){i.next(Object(g.createAction)(dt.a.InitializeRemotePaymentRequested,void 0,{methodId:t})),r._remoteCheckoutRequestSender.initializePayment(t,e,n).then((function(e){var n=e.body,r=void 0===n?{}:n;i.next(Object(g.createAction)(dt.a.InitializeRemotePaymentSucceeded,r,{methodId:t})),i.complete()})).catch((function(e){i.error(Object(g.createErrorAction)(dt.a.InitializeRemotePaymentFailed,e,{methodId:t}))}))}))},t.prototype.loadSettings=function(t,e){var n=this;return b.Observable.create((function(r){r.next(Object(g.createAction)(dt.a.LoadRemoteSettingsRequested,void 0,{methodId:t})),n._remoteCheckoutRequestSender.loadSettings(t,e).then((function(e){var n=e.body;r.next(Object(g.createAction)(dt.a.LoadRemoteSettingsSucceeded,n,{methodId:t})),r.complete()})).catch((function(e){r.error(Object(g.createErrorAction)(dt.a.LoadRemoteSettingsFailed,e,{methodId:t}))}))}))},t.prototype.signOut=function(t,e){var n=this;return b.Observable.create((function(r){r.next(Object(g.createAction)(dt.a.SignOutRemoteCustomerRequested,void 0,{methodId:t})),n._remoteCheckoutRequestSender.signOut(t,e).then((function(){r.next(Object(g.createAction)(dt.a.SignOutRemoteCustomerSucceeded,void 0,{methodId:t})),r.complete()})).catch((function(e){r.error(Object(g.createErrorAction)(dt.a.SignOutRemoteCustomerFailed,e,{methodId:t}))}))}))},t.prototype.updateCheckout=function(t,e){return Object(g.createAction)(dt.a.UpdateRemoteCheckout,e,{methodId:t})},t}(),ht=n(23),lt=function(t){function e(){var e=t.call(this,"You haven't complete our spam protection challenge. Please try again.")||this;return e.name="SpamProtectionChallengeNotCompletedError",e.type="spam_protection_challenge_not_completed",e}return Object(d.__extends)(e,t),e}(ht.a),mt=function(t){function e(){var e=t.call(this,"We were not able to complete your spam protection verification. Please try again.")||this;return e.name="SpamProtectionFailedError",e.type="spam_protection_failed",e}return Object(d.__extends)(e,t),e}(ht.a),ft=n(67),_t=function(){function t(t,e){this._googleRecaptcha=t,this._requestSender=e}return t.prototype.initialize=function(t){var e=this;return function(n){return Object(b.concat)(Object(b.of)(Object(g.createAction)(ft.a.InitializeRequested,void 0)),Object(b.defer)((function(){return Object(d.__awaiter)(e,void 0,void 0,(function(){var e,r,i,o,a;return Object(d.__generator)(this,(function(s){switch(s.label){case 0:return e=t?t.containerId:"spamProtectionContainer",t||document.getElementById(e)||((r=document.createElement("div")).setAttribute("id",e),document.body.appendChild(r)),i=n.getState(),o=i.config.getStoreConfigOrThrow(),a=o.checkoutSettings.googleRecaptchaSitekey,[4,this._googleRecaptcha.load(e,a)];case 1:return s.sent(),[2,Object(g.createAction)(ft.a.InitializeSucceeded)]}}))}))}))).pipe(Object(M.catchError)((function(t){return Object(T.a)(ft.a.InitializeFailed,t)})))}},t.prototype.verifyCheckoutSpamProtection=function(){var t=this;return function(e){return Object(b.defer)((function(){var n=e.getState().checkout.getCheckout();if(!n)throw new v.b(v.a.MissingCheckout);return Object(b.concat)(Object(b.of)(Object(g.createAction)(ft.a.VerifyCheckoutRequested)),Object(b.from)(t.execute()(e)).pipe(Object(M.switchMap)((function(e){return R(e)&&e.payload?Object(b.from)(t._requestSender.validate(n.id,e.payload.token)).pipe(Object(M.switchMap)((function(t){var n=t.body;return Object(b.concat)(Object(b.of)(e),Object(b.of)(Object(g.createAction)(ft.a.VerifyCheckoutSucceeded,n)))}))):Object(b.of)(e)})))).pipe(Object(M.catchError)((function(t){return Object(T.a)(ft.a.VerifyCheckoutFailed,t)})))}))}},t.prototype.execute=function(){var t=this;return function(e){return Object(b.concat)(Object(b.of)(Object(g.createAction)(ft.a.ExecuteRequested)),t.initialize()(e),t._googleRecaptcha.execute().pipe(Object(M.take)(1)).pipe(Object(M.switchMap)((function(e){var n=e.error,r=e.token;return Object(d.__awaiter)(t,void 0,void 0,(function(){return Object(d.__generator)(this,(function(t){if(n instanceof lt)throw n;if(n||!r)throw new mt;return[2,Object(g.createAction)(ft.a.ExecuteSucceeded,{token:r})]}))}))})))).pipe(Object(M.catchError)((function(t){return Object(T.a)(ft.a.ExecuteFailed,t)})))}},t}(),yt=function(){function t(t){void 0===t&&(t=window),this._window=t}return t.prototype.create=function(t){return new this._window.MutationObserver(t)},t}(),gt=n(5),bt=n(112),vt=function(t){function e(){var e=t.call(this,"Spam protection is not loaded. Please try again.")||this;return e.name="SpamProtectionNotLoadedError",e.type="spam_protection_failed",e}return Object(d.__extends)(e,t),e}(ht.a),Ct=function(){function t(t,e){var n=this;this.googleRecaptchaScriptLoader=t,this.mutationObserverFactory=e,this._memoized=Object(gt.memoize)((function(t,e,r){var i=new b.Subject;if(!r)throw new Error;return n._widgetId=t.render(r.id,{sitekey:e,size:"invisible",callback:function(){i.next({token:t.getResponse(n._widgetId)}),t.reset(n._widgetId)},"error-callback":function(){i.next({error:new mt})}}),i}),{isEqual:function(t,e){return t===e}})}return t.prototype.load=function(t,e){var n=this;return this.googleRecaptchaScriptLoader.load().then((function(r){n._event$=n._memoized(r,e,document.getElementById(t)),n._recaptcha=r}))},t.prototype.execute=function(){var t=this;return Object(b.defer)((function(){var e=t._event$,n=t._recaptcha;if(!e||!n)throw new bt.b(bt.a.SpamProtectionNotInitialized);return Object(b.defer)((function(){var t=document.querySelector('iframe[src*="bframe"]');return t?Object(b.of)(t):Object(b.throwError)(new vt)})).pipe(Object(M.retryWhen)((function(t){return t.pipe(Object(M.delay)(250),Object(M.switchMap)((function(t,e){return e<28?Object(b.of)(t):Object(b.throwError)(t)})))})),Object(M.switchMap)((function(r){return t._watchRecaptchaChallengeWindow(e,r),n.execute(t._widgetId),e})),Object(M.catchError)((function(t){return Object(b.of)({error:t})})))}))},t.prototype._watchRecaptchaChallengeWindow=function(t,e){var n=e.parentElement;if(!n)throw new vt;var r=n.parentElement;if(!r)throw new vt;this.mutationObserverFactory.create((function(){"hidden"===r.style.visibility&&t.next({error:new lt})})).observe(r,{attributes:!0,attributeFilter:["style"]})},t}(),Ot=function(){function t(t,e){void 0===e&&(e=window),this._scriptLoader=t,this._window=e}return t.prototype.load=function(){return this._loadPromise||(this._loadPromise=this._loadScript()),this._loadPromise},t.prototype._loadScript=function(){var t=this,e=["onload=initRecaptcha","render=explicit"].join("&");return new Promise((function(n,r){t._window.initRecaptcha=function(){return n(t._window.grecaptcha)},t._scriptLoader.loadScript("//www.google.com/recaptcha/api.js?"+e).catch((function(e){t._loadPromise=void 0,r(e)}))}))},t}();function St(t){return new Ct(new Ot(t),new yt)}var wt=function(){function t(t){this._requestSender=t}return t.prototype.validate=function(t,e,n){var r=(void 0===n?{}:n).timeout,i="/api/storefront/checkouts/"+t+"/spam-protection",o={Accept:I.a.JsonV1};return this._requestSender.post(i,{body:{token:e},headers:o,timeout:r})},t}(),It=n(52),At=n(180),Et=function(){function t(t,e,n,r,i){this._store=t,this._paymentMethodActionCreator=e,this._remoteCheckoutActionCreator=n,this._remoteCheckoutRequestSender=r,this._scriptLoader=i,this._window=window}return t.prototype.initialize=function(t){var e=this,n=t.amazon,r=t.methodId;if(!n||!r)throw new It.a('Unable to proceed because "options.amazon" argument is not provided.');return this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(r)).then((function(t){return new Promise((function(i,o){if(e._paymentMethod=t.paymentMethods.getPaymentMethod(r),!e._paymentMethod)throw new v.b(v.a.MissingPaymentMethod);var a=n.onError,s=void 0===a?function(){}:a;e._scriptLoader.loadWidget(e._paymentMethod,(function(){e._createSignInButton(Object(d.__assign)(Object(d.__assign)({},n),{onError:function(t){o(t),s(t)}})),i()})).catch(o)}))})).then((function(){return e._store.getState()}))},t.prototype.deinitialize=function(){return this._paymentMethod=void 0,Promise.resolve(this._store.getState())},t.prototype.signIn=function(){throw new At.a('In order to sign in via AmazonPay, the shopper must click on "Login with Amazon" button.')},t.prototype.signOut=function(t){var e=this._store.getState().payment.getPaymentId();return e?this._store.dispatch(this._remoteCheckoutActionCreator.signOut(e.providerId,t)):Promise.resolve(this._store.getState())},t.prototype._createSignInButton=function(t){var e=this;if(!this._paymentMethod||!this._window.OffAmazonPayments)throw new bt.b(bt.a.CustomerNotInitialized);if(!this._paymentMethod.config.merchantId)throw new v.b(v.a.MissingPaymentMethod);var n=this._paymentMethod.initializationData;return new this._window.OffAmazonPayments.Button(t.container,this._paymentMethod.config.merchantId,{color:t.color||"Gold",size:t.size||"small",type:"PwA",useAmazonAddressBook:!0,onError:t.onError,authorization:function(){e._handleAuthorization(n)}})},t.prototype._handleAuthorization=function(t){var e=this;this._remoteCheckoutRequestSender.generateToken().then((function(n){var r=n.body;if(!e._window.amazon)throw new bt.b(bt.a.ShippingNotInitialized);e._window.amazon.Login.authorize({popup:!1,scope:"payments:shipping_address payments:billing_address payments:widget profile",state:""+t.tokenPrefix+r.token},t.redirectUrl),e._remoteCheckoutRequestSender.trackAuthorizationEvent()}))},t}(),Pt=n(104),jt=n(203),kt=function(){function t(t,e,n,r){this._store=t,this._paymentMethodActionCreator=e,this._remoteCheckoutActionCreator=n,this._amazonPayV2PaymentProcessor=r}return t.prototype.initialize=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i;return Object(d.__generator)(this,(function(o){switch(o.label){case 0:if(e=t.methodId,n=t.amazonpay,!e||!n)throw new It.a('Unable to proceed because "options.methodId" or "options.amazonpay" argument is not provided.');return[4,this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(e))];case 1:return r=o.sent(),i=r.paymentMethods.getPaymentMethodOrThrow(e),[4,this._amazonPayV2PaymentProcessor.initialize(i)];case 2:return o.sent(),this._walletButton=this._createSignInButton(n.container,e),[2,this._store.getState()]}}))}))},t.prototype.deinitialize=function(){return this._walletButton&&this._walletButton.parentNode&&(this._walletButton.parentNode.removeChild(this._walletButton),this._walletButton=void 0),Promise.resolve(this._store.getState())},t.prototype.signIn=function(){throw new At.a('In order to sign in via Amazon, the shopper must click on "Amazon Pay" button.')},t.prototype.signOut=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(d.__generator)(this,(function(r){switch(r.label){case 0:return e=this._store.getState(),(n=e.payment.getPaymentId())?[4,this._amazonPayV2PaymentProcessor.signout()]:[2,Promise.resolve(this._store.getState())];case 1:return r.sent(),[2,this._store.dispatch(this._remoteCheckoutActionCreator.signOut(n.providerId,t))]}}))}))},t.prototype._createSignInButton=function(t,e){var n=document.getElementById(t);if(!n)throw new It.a("Unable to create sign-in button without valid container ID.");var r=this._store.getState(),i=r.paymentMethods.getPaymentMethod(e),o=r.config.getStoreConfig(),a=r.cart.getCart();if(!o)throw new v.b(v.a.MissingCheckoutConfig);if(!i)throw new v.b(v.a.MissingPaymentMethod);var s=i.config,c=s.merchantId,u=s.testMode,d=i.initializationData,p=d.checkoutLanguage,h=d.ledgerCurrency,l=d.checkoutSessionMethod,m=d.extractAmazonCheckoutSessionId;if(!c)throw new It.a("Unable to create sign-in button without valid merchant ID.");var f={merchantId:c,sandbox:!!u,checkoutLanguage:p,ledgerCurrency:h,productType:a&&0===Object(jt.a)(a)?Pt.a.PayOnly:Pt.a.PayAndShip,createCheckoutSession:{method:l,url:o.storeProfile.shopPath+"/remote-checkout/"+e+"/payment-session",extractAmazonCheckoutSessionId:m},placement:Pt.b.Checkout};return this._amazonPayV2PaymentProcessor.createButton("#"+t,f),n},t}(),Mt=function(){function t(t,e,n,r,i,o,a){this._store=t,this._checkoutActionCreator=e,this._paymentMethodActionCreator=n,this._customerStrategyActionCreator=r,this._remoteCheckoutActionCreator=i,this._braintreeVisaCheckoutPaymentProcessor=o,this._visaCheckoutScriptLoader=a,this._buttonClassName="visa-checkout-wrapper"}return t.prototype.initialize=function(t){var e=this,n=t.braintreevisacheckout,r=t.methodId;if(!n||!r)throw new It.a('Unable to proceed because "options.braintreevisacheckout" argument is not provided.');return this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(r)).then((function(t){e._paymentMethod=t.paymentMethods.getPaymentMethod(r);var i=t.checkout.getCheckout(),o=t.config.getStoreConfig();if(!i)throw new v.b(v.a.MissingCheckout);if(!o)throw new v.b(v.a.MissingCheckoutConfig);if(!e._paymentMethod||!e._paymentMethod.clientToken)throw new v.b(v.a.MissingPaymentMethod);var a=n.container,s=n.onError,c=void 0===s?function(){}:s,u={locale:o.storeProfile.storeLanguage,collectShipping:!0,subtotal:i.subtotal,currencyCode:o.currency.code};return Promise.all([e._visaCheckoutScriptLoader.load(e._paymentMethod.config.testMode),e._braintreeVisaCheckoutPaymentProcessor.initialize(e._paymentMethod.clientToken,u)]).then((function(t){var n=t[0],r=t[1],i=e._createSignInButton(a,e._buttonClassName);return n.init(r),n.on("payment.success",(function(t){return e._paymentInstrumentSelected(t).catch((function(t){return c(t)}))})),n.on("payment.error",(function(t,e){return c(e)})),i})).then((function(t){t.style.visibility="visible"}))})).then((function(){return e._store.getState()}))},t.prototype.signIn=function(){throw new At.a('In order to sign in via VisaCheckout, the shopper must click on "Visa Checkout" button.')},t.prototype.signOut=function(t){return this._store.dispatch(this._remoteCheckoutActionCreator.signOut("braintreevisacheckout",t))},t.prototype.deinitialize=function(){var t=this;return this._paymentMethod=void 0,this._braintreeVisaCheckoutPaymentProcessor.deinitialize().then((function(){return t._store.getState()}))},t.prototype._paymentInstrumentSelected=function(t){var e=this,n=this._store.getState();if(!this._paymentMethod)throw new Error("Payment method not initialized");var r=this._paymentMethod.id;return this._store.dispatch(this._customerStrategyActionCreator.widgetInteraction((function(){return e._braintreeVisaCheckoutPaymentProcessor.handleSuccess(t,n.shippingAddress.getShippingAddress(),n.billingAddress.getBillingAddress()).then((function(){return e._store.dispatch(e._checkoutActionCreator.loadCurrentCheckout())}))}),{methodId:r}),{queueId:"widgetInteraction"})},t.prototype._createSignInButton=function(t,e){var n=document.querySelector("#"+t);if(!n)throw new Error("Need a container to place the button");return n.querySelector("."+e)||this._insertVisaCheckoutButton(n,e)},t.prototype._insertVisaCheckoutButton=function(t,e){var n=document.createElement("div");return n.style.display="flex",n.style.flexDirection="column",n.style.visibility="hidden",n.className=e,n.innerHTML='\n            <img\n                alt="Visa Checkout"\n                class="v-button"\n                role="button"\n                src="https://secure.checkout.visa.com/wallet-services-web/xo/button.png?acceptCanadianVisaDebit=false&cobrand=true&size=154"\n                />\n            <a class="v-learn v-learn-default" style="text-align: right; display: block; font-size: 10px; color: #003366;" href="#" data-locale="en_US">Tell Me More</a>',t.appendChild(n),n},t}(),Tt=function(){function t(t,e,n,r,i,o){this._store=t,this._paymentMethodActionCreator=e,this._remoteCheckoutActionCreator=n,this._chasePayScriptLoader=r,this._requestSender=i,this._formPoster=o}return t.prototype.initialize=function(t){var e=this,n=t.chasepay,r=t.methodId;if(!n||!r)throw new It.a('Unable to proceed because "options.chasepay" argument is not provided.');return this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(r)).then((function(t){e._paymentMethod=t.paymentMethods.getPaymentMethod(r);var i=t.cart.getCart(),o=t.config.getStoreConfig();if(!i)throw new v.b(v.a.MissingCart);if(!o)throw new v.b(v.a.MissingCheckoutConfig);if(!e._paymentMethod||!e._paymentMethod.initializationData.digitalSessionId)throw new bt.b(bt.a.PaymentNotInitialized);var a=n.container;return e._chasePayScriptLoader.load(e._paymentMethod.config.testMode).then((function(t){var n=t.ChasePay;n.configure({language:o.storeProfile.storeLanguage}),n.isChasePayUp&&n.insertButtons({containers:[a]}),n.on(n.EventType.START_CHECKOUT,(function(){e._store.dispatch(e._paymentMethodActionCreator.loadPaymentMethod(r)).then((function(){var t=e._store.getState().paymentMethods.getPaymentMethod(r),i=t&&t.initializationData&&t.initializationData.digitalSessionId;i&&n.startCheckout(i)}))})),n.on(n.EventType.COMPLETE_CHECKOUT,(function(t){var n=e._store.getState().paymentMethods.getPaymentMethod(r),i=n&&n.initializationData&&n.initializationData.merchantRequestId;i&&e._setExternalCheckoutData(t,i).then((function(){e._reloadPage()}))}))}))})).then((function(){return e._store.getState()}))},t.prototype.deinitialize=function(){return Promise.resolve(this._store.getState())},t.prototype.signIn=function(){throw new At.a('In order to sign in via Chase Pay®, the shopper must click on "Chase Pay®" button.')},t.prototype.signOut=function(t){var e=this._store.getState().payment.getPaymentId();return e?this._store.dispatch(this._remoteCheckoutActionCreator.signOut(e.providerId,t)):Promise.resolve(this._store.getState())},t.prototype._setExternalCheckoutData=function(t,e){var n={headers:{Accept:"text/html","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:{sessionToken:t.sessionToken,merchantRequestId:e},method:"post"};return this._requestSender.sendRequest("checkout.php?provider=chasepay&action=set_external_checkout",n)},t.prototype._reloadPage=function(){this._formPoster.postForm("/checkout.php",{headers:{Accept:"text/html","Content-Type":"application/x-www-form-urlencoded"},params:{fromChasePay:!0}})},t}(),Rt=function(){function t(t,e){this._store=t,this._customerActionCreator=e}return t.prototype.signIn=function(t,e){return this._store.dispatch(this._customerActionCreator.signInCustomer(t,e))},t.prototype.signOut=function(t){return this._store.dispatch(this._customerActionCreator.signOutCustomer(t))},t.prototype.initialize=function(){return Promise.resolve(this._store.getState())},t.prototype.deinitialize=function(){return Promise.resolve(this._store.getState())},t}(),Dt=n(98),zt=function(){function t(t,e,n,r){this._store=t,this._remoteCheckoutActionCreator=e,this._googlePayPaymentProcessor=n,this._formPoster=r}return t.prototype.initialize=function(t){var e=this,n=t.methodId,r=this._getGooglePayOptions(t);if(!n)throw new v.b(v.a.MissingPaymentMethod);return this._googlePayPaymentProcessor.initialize(n).then((function(){e._walletButton=e._createSignInButton(r.container)})).then((function(){return e._store.getState()}))},t.prototype.deinitialize=function(){var t=this;return this._walletButton&&this._walletButton.parentNode&&(this._walletButton.parentNode.removeChild(this._walletButton),this._walletButton=void 0),this._googlePayPaymentProcessor.deinitialize().then((function(){return t._store.getState()}))},t.prototype.signIn=function(){throw new At.a('In order to sign in via Google Pay, the shopper must click on "Google Pay" button.')},t.prototype.signOut=function(t){var e=this._store.getState().payment.getPaymentId();return e?this._store.dispatch(this._remoteCheckoutActionCreator.signOut(e.providerId,t)):Promise.resolve(this._store.getState())},t.prototype._createSignInButton=function(t){var e=document.querySelector("#"+t);if(!e)throw new It.a("Unable to create sign-in button without valid container ID.");var n=this._googlePayPaymentProcessor.createButton(this._handleWalletButtonClick);return e.appendChild(n),n},t.prototype._getGooglePayOptions=function(t){if("googlepayadyenv2"===t.methodId&&t.googlepayadyenv2)return t.googlepayadyenv2;if("googlepayauthorizenet"===t.methodId&&t.googlepayauthorizenet)return t.googlepayauthorizenet;if("googlepaybraintree"===t.methodId&&t.googlepaybraintree)return t.googlepaybraintree;if("googlepaycheckoutcom"===t.methodId&&t.googlepaycheckoutcom)return t.googlepaycheckoutcom;if("googlepaystripe"===t.methodId&&t.googlepaystripe)return t.googlepaystripe;throw new It.a},t.prototype._handleWalletButtonClick=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i;return Object(d.__generator)(this,(function(o){switch(o.label){case 0:t.preventDefault(),e=this._store.getState().cart.getCartOrThrow(),n=Object(jt.a)(e)>0,o.label=1;case 1:return o.trys.push([1,7,,8]),[4,this._googlePayPaymentProcessor.displayWallet()];case 2:return r=o.sent(),[4,this._googlePayPaymentProcessor.handleSuccess(r)];case 3:return o.sent(),n&&r.shippingAddress?[4,this._googlePayPaymentProcessor.updateShippingAddress(r.shippingAddress)]:[3,5];case 4:o.sent(),o.label=5;case 5:return[4,this._onPaymentSelectComplete()];case 6:return o.sent(),[3,8];case 7:if((i=o.sent())&&"CANCELED"!==i.message)throw i;return[3,8];case 8:return[2]}}))}))},t.prototype._onPaymentSelectComplete=function(){this._formPoster.postForm("/checkout.php",{headers:{Accept:"text/html","Content-Type":"application/x-www-form-urlencoded"}})},Object(d.__decorate)([Dt.a],t.prototype,"_handleWalletButtonClick",null),t}(),Lt=n(133),Nt=function(){function t(t,e,n,r){this._store=t,this._paymentMethodActionCreator=e,this._remoteCheckoutActionCreator=n,this._masterpassScriptLoader=r}return t.prototype.initialize=function(t){var e=this,n=t.masterpass,r=t.methodId;if(!n||!r)throw new It.a('Unable to proceed because "options.masterpass" argument is not provided.');return this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(r)).then((function(t){if(e._paymentMethod=t.paymentMethods.getPaymentMethod(r),!e._paymentMethod||!e._paymentMethod.initializationData.checkoutId)throw new v.b(v.a.MissingPaymentMethod);var i=t.cart.getCart();if(!i)throw new v.b(v.a.MissingCart);var o=n.container,a={checkoutId:e._paymentMethod.initializationData.checkoutId,allowedCardTypes:e._paymentMethod.initializationData.allowedCardTypes,amount:i.cartAmount.toString(),currency:i.currency.code,cartId:i.id,suppressShippingAddress:!1,callbackUrl:Object(Lt.a)("checkout")};return e._masterpassScriptLoader.load(e._paymentMethod.config.testMode).then((function(t){e._signInButton=e._createSignInButton(o),e._signInButton.addEventListener("click",(function(){t.checkout(a)}))}))})).then((function(){return e._store.getState()}))},t.prototype.deinitialize=function(){return this._paymentMethod=void 0,this._signInButton&&this._signInButton.parentNode&&(this._signInButton.parentNode.removeChild(this._signInButton),this._signInButton=void 0),Promise.resolve(this._store.getState())},t.prototype.signIn=function(){throw new At.a('In order to sign in via Masterpass, the shopper must click on "Masterpass" button.')},t.prototype.signOut=function(t){var e=this._store.getState().payment.getPaymentId();return e?this._store.dispatch(this._remoteCheckoutActionCreator.signOut(e.providerId,t)):Promise.resolve(this._store.getState())},t.prototype._createSignInButton=function(t){var e=document.querySelector("#"+t);if(!e)throw new It.a("Unable to create sign-in button without valid container ID.");var n=document.createElement("input");return n.type="image",n.src="https://static.masterpass.com/dyn/img/btn/global/mp_chk_btn_160x037px.svg",e.appendChild(n),n},t}(),Ft=function(){function t(t,e){this._store=t,this._remoteCheckoutActionCreator=e}return t.prototype.signIn=function(){throw new At.a('In order to sign in via Masterpass, the shopper must click on "Masterpass" button.')},t.prototype.signOut=function(t){var e=this._store.getState().payment.getPaymentId();return e?this._store.dispatch(this._remoteCheckoutActionCreator.signOut(e.providerId,t)):Promise.resolve(this._store.getState())},t.prototype.initialize=function(){return Promise.resolve(this._store.getState())},t.prototype.deinitialize=function(){return Promise.resolve(this._store.getState())},t}();var qt=n(43),Ut=function(){function t(t){this._countryRequestSender=t}return t.prototype.loadCountries=function(t){var e=this;return b.Observable.create((function(n){n.next(Object(g.createAction)(qt.a.LoadCountriesRequested)),e._countryRequestSender.loadCountries(t).then((function(t){n.next(Object(g.createAction)(qt.a.LoadCountriesSucceeded,t.body.data)),n.complete()})).catch((function(t){n.error(Object(g.createErrorAction)(qt.a.LoadCountriesFailed,t))}))}))},t}(),xt=function(){function t(t,e){this._requestSender=t,this._config=e}return t.prototype.loadCountries=function(t){var e=(void 0===t?{}:t).timeout,n={"Accept-Language":this._config.locale};return this._requestSender.get("/internalapi/v1/store/countries",{headers:n,timeout:e})},t}(),Bt=n(2),Gt=function(){function t(t){this._requestSender=t}return t.prototype.loadOrder=function(t,e){var n=void 0===e?{}:e,r=n.timeout,i=n.params,o="/api/storefront/orders/"+t,a={Accept:I.a.JsonV1};return this._requestSender.get(o,{params:{include:Object(A.a)(Object(d.__spreadArrays)(["payments","lineItems.physicalItems.socialMedia","lineItems.physicalItems.options","lineItems.digitalItems.socialMedia","lineItems.digitalItems.options"],i&&i.include||[]))},headers:a,timeout:r})},t.prototype.submitOrder=function(t,e){var n=void 0===e?{}:e,r=n.headers,i=n.timeout;return this._requestSender.post("/internalapi/v1/checkout/order",{body:t,headers:Object(Bt.omitBy)({"X-Checkout-Variant":r&&r.checkoutVariant,"X-Checkout-SDK-Version":"1.125.0"},Bt.isNil),timeout:i})},t.prototype.finalizeOrder=function(t,e){var n=(void 0===e?{}:e).timeout,r="/internalapi/v1/checkout/order/"+t;return this._requestSender.post(r,{timeout:n})},t}(),Vt=function(t){function e(){var e=t.call(this,"You haven't complete our spam check. Please try again.")||this;return e.name="SpamProtectionNotCompletedError",e.type="spam_protection_not_completed",e}return Object(d.__extends)(e,t),e}(ht.a),Yt=n(18),Ht=function(){function t(t,e){this._orderRequestSender=t,this._checkoutValidator=e}return t.prototype.loadOrder=function(t,e){var n=this;return new b.Observable((function(r){r.next(Object(g.createAction)(Yt.a.LoadOrderRequested)),n._orderRequestSender.loadOrder(t,e).then((function(t){r.next(Object(g.createAction)(Yt.a.LoadOrderSucceeded,t.body)),r.complete()})).catch((function(t){r.error(Object(g.createErrorAction)(Yt.a.LoadOrderFailed,t))}))}))},t.prototype.loadOrderPayments=function(t,e){var n=this;return new b.Observable((function(r){r.next(Object(g.createAction)(Yt.a.LoadOrderPaymentsRequested)),n._orderRequestSender.loadOrder(t,e).then((function(t){r.next(Object(g.createAction)(Yt.a.LoadOrderPaymentsSucceeded,t.body)),r.complete()})).catch((function(t){r.error(Object(g.createErrorAction)(Yt.a.LoadOrderPaymentsFailed,t))}))}))},t.prototype.loadCurrentOrder=function(t){var e=this;return function(n){return Object(b.defer)((function(){var r=e._getCurrentOrderId(n.getState());if(!r)throw new v.b(v.a.MissingOrderId);return e.loadOrder(r,t)}))}},t.prototype.submitOrder=function(t,e){var n=this;return function(r){return Object(b.concat)(Object(b.of)(Object(g.createAction)(Yt.a.SubmitOrderRequested)),Object(b.defer)((function(){var i=r.getState(),o=i.config.getExternalSource(),a=i.config.getVariantIdentificationToken(),s=i.checkout.getCheckout();if(!s)throw new v.b(v.a.MissingCheckout);if(s.shouldExecuteSpamCheck)throw new Vt;return Object(b.from)(n._checkoutValidator.validate(s,e).then((function(){return n._orderRequestSender.submitOrder(n._mapToOrderRequestBody(t,s.customerMessage,o),Object(d.__assign)(Object(d.__assign)({},e),{headers:{checkoutVariant:a}}))}))).pipe(Object(M.switchMap)((function(t){return Object(b.concat)(n.loadOrder(t.body.data.order.orderId,e),Object(b.of)(Object(g.createAction)(Yt.a.SubmitOrderSucceeded,t.body.data,Object(d.__assign)(Object(d.__assign)({},t.body.meta),{token:t.headers.token}))))})))})).pipe(Object(M.catchError)((function(t){return Object(T.a)(Yt.a.SubmitOrderFailed,t)}))))}},t.prototype.finalizeOrder=function(t,e){var n=this;return Object(b.concat)(Object(b.of)(Object(g.createAction)(Yt.a.FinalizeOrderRequested)),Object(b.from)(this._orderRequestSender.finalizeOrder(t,e)).pipe(Object(M.switchMap)((function(r){return Object(b.concat)(n.loadOrder(t,e),Object(b.of)(Object(g.createAction)(Yt.a.FinalizeOrderSucceeded,r.body.data)))})))).pipe(Object(M.catchError)((function(t){return Object(T.a)(Yt.a.FinalizeOrderFailed,t)})))},t.prototype._getCurrentOrderId=function(t){var e=t.order.getOrder(),n=t.checkout.getCheckout();return e&&e.orderId||n&&n.orderId},t.prototype._mapToOrderRequestBody=function(t,e,n){var r=t.payment,i=Object(d.__rest)(t,["payment"]);return r?Object(d.__assign)(Object(d.__assign)({},i),{customerMessage:e,externalSource:n,payment:{paymentData:r.paymentData,name:r.methodId,gateway:r.gatewayId}}):Object(d.__assign)(Object(d.__assign)({},i),{customerMessage:e,externalSource:n})},t}(),Wt=n(103);var Kt=function(t){function e(){var e=t.call(this,"The current order does not need to be finalized at this stage.")||this;return e.name="OrderFinalizationNotRequiredError",e.type="order_finalization_not_required",e}return Object(d.__extends)(e,t),e}(ht.a),Jt=n(11),Zt=n(13),Qt=function(){function t(t,e,n){this._strategyRegistry=t,this._orderActionCreator=e,this._spamProtectionActionCreator=n}return t.prototype.execute=function(t,e){var n=this,r=t.payment,i=void 0===r?{}:r,o=t.useStoreCredit,a={methodId:i.methodId};return function(r){var s=r.getState().checkout.getCheckoutOrThrow().shouldExecuteSpamCheck;return Object(b.concat)(s?n._spamProtectionActionCreator.verifyCheckoutSpamProtection()(r):Object(b.empty)(),Object(b.of)(Object(g.createAction)(Jt.a.ExecuteRequested,void 0,a)),Object(b.defer)((function(){var s,c=r.getState();if(c.payment.isPaymentDataRequired(o)){var u=c.paymentMethods.getPaymentMethod(i.methodId,i.gatewayId);if(!u)throw new v.b(v.a.MissingPaymentMethod);s=n._strategyRegistry.getByMethod(u)}else s=n._strategyRegistry.get(Zt.a.NO_PAYMENT_DATA_REQUIRED);return s.execute(t,Object(d.__assign)(Object(d.__assign)({},e),{methodId:i.methodId,gatewayId:i.gatewayId})).then((function(){return Object(g.createAction)(Jt.a.ExecuteSucceeded,void 0,a)}))}))).pipe(Object(M.catchError)((function(t){return Object(T.a)(Jt.a.ExecuteFailed,t,a)})))}},t.prototype.finalize=function(t){var e=this;return function(n){return Object(b.concat)(Object(b.of)(Object(g.createAction)(Jt.a.FinalizeRequested)),e._loadOrderPaymentsIfNeeded(n,t),Object(b.defer)((function(){var r=n.getState(),i=r.payment.getPaymentId()||{},o=i.providerId,a=void 0===o?"":o,s=i.gatewayId,c=void 0===s?"":s,u=r.paymentMethods.getPaymentMethod(a,c);if(!u)throw new Kt;return e._strategyRegistry.getByMethod(u).finalize(Object(d.__assign)(Object(d.__assign)({},t),{methodId:u.id,gatewayId:u.gateway})).then((function(){return Object(g.createAction)(Jt.a.FinalizeSucceeded,void 0,{methodId:u.id})}))}))).pipe(Object(M.catchError)((function(t){var e=n.getState().payment.getPaymentId();return Object(T.a)(Jt.a.FinalizeFailed,t,{methodId:e&&e.providerId})})))}},t.prototype.initialize=function(t){var e=this,n=t.methodId,r=t.gatewayId;return function(i){return Object(b.defer)((function(){var o=i.getState(),a=o.paymentMethods.getPaymentMethod(n,r);if(!a)throw new v.b(v.a.MissingPaymentMethod);return n&&o.paymentStrategies.isInitialized(n)?Object(b.empty)():Object(b.concat)(Object(b.of)(Object(g.createAction)(Jt.a.InitializeRequested,void 0,{methodId:n})),e._strategyRegistry.getByMethod(a).initialize(Object(d.__assign)(Object(d.__assign)({},t),{methodId:n,gatewayId:r})).then((function(){return Object(g.createAction)(Jt.a.InitializeSucceeded,void 0,{methodId:n})})))})).pipe(Object(M.catchError)((function(t){return Object(T.a)(Jt.a.InitializeFailed,t,{methodId:n})})))}},t.prototype.deinitialize=function(t){var e=this,n=t.methodId,r=t.gatewayId;return function(i){return Object(b.defer)((function(){var o=i.getState(),a=o.paymentMethods.getPaymentMethod(n,r);if(!a)throw new v.b(v.a.MissingPaymentMethod);return n&&!o.paymentStrategies.isInitialized(n)?Object(b.empty)():Object(b.concat)(Object(b.of)(Object(g.createAction)(Jt.a.DeinitializeRequested,void 0,{methodId:n})),e._strategyRegistry.getByMethod(a).deinitialize(Object(d.__assign)(Object(d.__assign)({},t),{methodId:n,gatewayId:r})).then((function(){return Object(g.createAction)(Jt.a.DeinitializeSucceeded,void 0,{methodId:n})})))})).pipe(Object(M.catchError)((function(t){return Object(T.a)(Jt.a.DeinitializeFailed,t,{methodId:n})})))}},t.prototype.widgetInteraction=function(t,e){var n={methodId:e&&e.methodId};return Object(b.concat)(Object(b.of)(Object(g.createAction)(Jt.a.WidgetInteractionStarted,void 0,n)),Object(b.defer)((function(){return t().then((function(){return Object(g.createAction)(Jt.a.WidgetInteractionFinished,void 0,n)}))}))).pipe(Object(M.catchError)((function(t){return Object(T.a)(Jt.a.WidgetInteractionFailed,t,n)})))},t.prototype._loadOrderPaymentsIfNeeded=function(t,e){var n=t.getState().checkout.getCheckout();return n&&n.orderId?this._orderActionCreator.loadOrderPayments(n.orderId,e):Object(b.empty)()},t}(),Xt=function(){function t(){}return t.prototype.isEqual=function(t,e){return Object(Bt.isEqual)(this._normalize(t),this._normalize(e))},t.prototype._normalize=function(t){return{cartAmount:t.cartAmount,currency:t.currency,id:t.id,lineItems:{digitalItems:t.lineItems.digitalItems.slice().sort((function(t,e){return(""+t.productId+t.variantId).localeCompare(""+e.productId+e.variantId)})).map((function(t){return{extendedSalePrice:t.extendedSalePrice,productId:t.productId,quantity:t.quantity,variantId:t.variantId}})),giftCertificates:t.lineItems.giftCertificates.slice().sort((function(t,e){return(""+t.id).localeCompare(""+e.id)})).map((function(t){return{amount:t.amount,recipient:t.recipient}})),physicalItems:t.lineItems.physicalItems.slice().sort((function(t,e){return(""+t.productId+t.variantId).localeCompare(""+e.productId+e.variantId)})).map((function(t){return{extendedSalePrice:t.extendedSalePrice,productId:t.productId,quantity:t.quantity,variantId:t.variantId,giftWrapping:t.giftWrapping}}))}}},t}(),$t=function(t){function e(){var e=t.call(this,"An update to your shopping cart has been detected and your available shipping costs have been updated.")||this;return e.name="CartChangedError",e.type="cart_changed",e}return Object(d.__extends)(e,t),e}(ht.a),te=function(){function t(t){this._checkoutRequestSender=t}return t.prototype.validate=function(t,e){var n=this;if(!t)throw new v.b(v.a.MissingCheckout);return this._checkoutRequestSender.loadCheckout(t.id,e).then((function(e){var r=new Xt;if(!(t.outstandingBalance===e.body.outstandingBalance&&n._compareCoupons(t.coupons,e.body.coupons)&&n._compareGiftCertificates(t.giftCertificates,e.body.giftCertificates)&&r.isEqual(t.cart,e.body.cart)))throw new $t}))},t.prototype._compareCoupons=function(t,e){return Object(Bt.isEqual)(Object(Bt.map)(t,"code"),Object(Bt.map)(e,"code"))},t.prototype._compareGiftCertificates=function(t,e){return Object(Bt.isEqual)(Object(Bt.map)(t,"code"),Object(Bt.map)(e,"code"))},t}(),ee=function(t){var e=this,n=new Promise((function(t,n){e.cancel=n}));this.promise=Promise.race([t,n])},ne=function(t){function e(e){var n=t.call(this,e||"Unable to proceed because the required element is unexpectedly detached from the page.")||this;return n.name="UnexpectedDetachmentError",n.type="unexpected_detachment",n}return Object(d.__extends)(e,t),e}(ht.a),re=function(){function t(t){this._mutationObserver=t}return t.prototype.ensurePresence=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return Object(d.__generator)(this,(function(a){switch(a.label){case 0:n=new ee(e),(r=this._mutationObserver.create((function(e){e.forEach((function(e){0!==Array.from(e.removedNodes).filter((function(e){return t.some((function(t){return e===t||e.contains(t)}))})).length&&n.cancel(new ne)}))}))).observe(document.body,{childList:!0,subtree:!0}),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n.promise];case 2:return i=a.sent(),r.disconnect(),[2,i];case 3:throw o=a.sent(),r.disconnect(),o;case 4:return[2]}}))}))},t}(),ie=n(144),oe=n(145),ae=function(t){function e(){var e=t.call(this,"Please complete our human verification challenge and try again.")||this;return e.name="CardingProtectionChallengeNotCompletedError",e.type="carding_protection_challenge_not_completed",e}return Object(d.__extends)(e,t),e}(ht.a),se=function(t){function e(){var e=t.call(this,"We were not able to verify that you are not a robot. Please try again.")||this;return e.name="CardingProtectionFailedError",e.type="carding_protection_failed",e}return Object(d.__extends)(e,t),e}(ht.a),ce=function(){function t(t){this._googleRecaptcha=t}return t.prototype.handle=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){var e=this;return Object(d.__generator)(this,(function(n){switch(n.label){case 0:if(!this._isPaymentHumanVerificationRequest(t))throw t;return[4,this._initialize(t.body.additional_action_required.data.key)];case 1:return n.sent(),[2,this._googleRecaptcha.execute().pipe(Object(M.take)(1)).pipe(Object(M.switchMap)((function(t){var n=t.error,r=t.token;return Object(d.__awaiter)(e,void 0,void 0,(function(){return Object(d.__generator)(this,(function(t){if(n instanceof lt)throw new ae;if(n||!r)throw new se;return[2,{type:"recaptcha_v2_verification",data:{human_verification_token:r}}]}))}))}))).toPromise()]}}))}))},t.prototype._initialize=function(t){var e=document.getElementById("cardingProtectionContainer");return e&&e.parentNode&&e.parentNode.removeChild(e),(e=document.createElement("div")).setAttribute("id","cardingProtectionContainer"),document.body.appendChild(e),this._googleRecaptcha.load("cardingProtectionContainer",t)},t.prototype._isPaymentHumanVerificationRequest=function(t){var e=t.body||{},n=e.additional_action_required;return"additional_action_required"===e.status&&n&&"recaptcha_v2_verification"===n.type},t}(),ue=n(168),de=n(82),pe=n(188),he=function(t){function e(e){var n=t.call(this,e||"Unable to proceed due to an unknown error with the hosted payment form.")||this;return n.name="InvalidHostedFormError",n.type="invalid_hosted_form",n}return Object(d.__extends)(e,t),e}(ht.a),le=n(189),me=n(69),fe=n(49),_e=function(){function t(t,e,n,r,i,o,a,s,c){this._type=t,this._containerId=e,this._placeholder=n,this._accessibilityLabel=r,this._styles=i,this._eventPoster=o,this._eventListener=a,this._detachmentObserver=s,this._cardInstrument=c,this._iframe=document.createElement("iframe"),this._iframe.src="/checkout/payment/hosted-field?version=1.125.0",this._iframe.style.border="none",this._iframe.style.height="100%",this._iframe.style.overflow="hidden",this._iframe.style.width="100%"}return t.prototype.getType=function(){return this._type},t.prototype.attach=function(){return Object(d.__awaiter)(this,void 0,void 0,(function(){var t,e,n=this;return Object(d.__generator)(this,(function(r){switch(r.label){case 0:if(!(t=document.getElementById(this._containerId)))throw new pe.a("Unable to proceed because the provided container ID is not valid.");return t.appendChild(this._iframe),this._eventListener.listen(),e=Object(b.fromEvent)(this._iframe,"load").pipe(Object(M.switchMap)((function(t){var e=t.target;return Object(d.__awaiter)(n,void 0,void 0,(function(){var t;return Object(d.__generator)(this,(function(n){switch(n.label){case 0:if(!(t=e&&e.contentWindow))throw new Error("The content window of the iframe cannot be accessed.");return this._eventPoster.setTarget(t),[4,this._eventPoster.post({type:me.a.AttachRequested,payload:{accessibilityLabel:this._accessibilityLabel,cardInstrument:this._cardInstrument,fontUrls:this._getFontUrls(),placeholder:this._placeholder,styles:this._styles,type:this._type}},{successType:fe.a.AttachSucceeded,errorType:fe.a.AttachFailed})];case 1:return n.sent(),[2]}}))}))})),Object(M.take)(1)).toPromise(),[4,this._detachmentObserver.ensurePresence([this._iframe],e)];case 1:return r.sent(),[2]}}))}))},t.prototype.detach=function(){this._iframe.parentElement&&(this._iframe.parentElement.removeChild(this._iframe),this._eventListener.stopListen())},t.prototype.submitForm=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(d.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),n=this._eventPoster.post({type:me.a.SubmitRequested,payload:{fields:t,data:e}},{successType:fe.a.SubmitSucceeded,errorType:fe.a.SubmitFailed}),[4,this._detachmentObserver.ensurePresence([this._iframe],n)];case 1:return i.sent(),[3,3];case 2:if(r=i.sent(),this._isSubmitErrorEvent(r)){if("hosted_form_error"===r.payload.error.code)throw new he(r.payload.error.message);if(r.payload.response)throw Object(ue.a)(r.payload.response);throw new Error(r.payload.error.message)}throw r;case 3:return[2]}}))}))},t.prototype.validateForm=function(){return Object(d.__awaiter)(this,void 0,void 0,(function(){var t,e;return Object(d.__generator)(this,(function(n){switch(n.label){case 0:return t=this._eventPoster.post({type:me.a.ValidateRequested},{successType:fe.a.Validated}),[4,this._detachmentObserver.ensurePresence([this._iframe],t)];case 1:if(!(e=n.sent().payload).isValid)throw new le.a(e.errors);return[2]}}))}))},t.prototype._getFontUrls=function(){var t=this,e=document.querySelectorAll("link[href*='fonts.googleapis.com'][rel='stylesheet']");return Array.prototype.slice.call(e).filter((function(t){return"fonts.googleapis.com"===Object(de.a)(t.href).hostname})).filter((function(e){return Object(Bt.values)(t._styles).map((function(t){return t&&t.fontFamily})).filter((function(t){return"string"==typeof t})).some((function(t){return t.split(/,\s/).some((function(t){return-1!==e.href.indexOf(t.replace(" ","+"))}))}))})).map((function(t){return t.href}))},t.prototype._isSubmitErrorEvent=function(t){return t.type===fe.a.SubmitFailed},t}(),ye=function(){function t(t,e,n,r,i){var o=this;this._fields=t,this._eventListener=e,this._payloadTransformer=n,this._eventCallbacks=r,this._paymentHumanVerificationHandler=i,this._handleEnter=function(t){var e=t.payload;return Object(d.__awaiter)(o,void 0,void 0,(function(){var t,n;return Object(d.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.validate()];case 1:return r.sent(),[3,3];case 2:if("InvalidHostedFormValueError"!==(t=r.sent()).name)throw t;return[3,3];case 3:return n=this._eventCallbacks.onEnter,(void 0===n?Bt.noop:n)(e),[2]}}))}))};var a=this._eventCallbacks,s=a.onBlur,c=void 0===s?Bt.noop:s,u=a.onCardTypeChange,p=void 0===u?Bt.noop:u,h=a.onFocus,l=void 0===h?Bt.noop:h,m=a.onValidate,f=void 0===m?Bt.noop:m;this._eventListener.addListener(fe.a.Blurred,(function(t){var e=t.payload;return c(e)})),this._eventListener.addListener(fe.a.CardTypeChanged,(function(t){var e=t.payload;return p(e)})),this._eventListener.addListener(fe.a.Focused,(function(t){var e=t.payload;return l(e)})),this._eventListener.addListener(fe.a.Validated,(function(t){var e=t.payload;return f(e)})),this._eventListener.addListener(fe.a.Entered,this._handleEnter),this._eventListener.addListener(fe.a.CardTypeChanged,(function(t){var e=t.payload;return o._cardType=e.cardType})),this._eventListener.addListener(fe.a.BinChanged,(function(t){var e=t.payload;return o._bin=e.bin}))}return t.prototype.getBin=function(){return this._bin},t.prototype.getCardType=function(){return this._cardType},t.prototype.attach=function(){return Object(d.__awaiter)(this,void 0,void 0,(function(){var t,e;return Object(d.__generator)(this,(function(n){switch(n.label){case 0:return this._eventListener.listen(),t=this._getFirstField(),e=Object(Bt.without)(this._fields,t),[4,t.attach()];case 1:return n.sent(),[4,Promise.all(e.map((function(t){return t.attach()})))];case 2:return n.sent(),[2]}}))}))},t.prototype.detach=function(){this._eventListener.stopListen(),this._fields.forEach((function(t){t.detach()}))},t.prototype.submit=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(d.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,5]),[4,this._getFirstField().submitForm(this._fields.map((function(t){return t.getType()})),this._payloadTransformer.transform(t))];case 1:return[2,r.sent()];case 2:return e=r.sent(),[4,this._paymentHumanVerificationHandler.handle(e)];case 3:return n=r.sent(),[4,this._getFirstField().submitForm(this._fields.map((function(t){return t.getType()})),this._payloadTransformer.transform(t,n))];case 4:return[2,r.sent()];case 5:return[2]}}))}))},t.prototype.validate=function(){return Object(d.__awaiter)(this,void 0,void 0,(function(){return Object(d.__generator)(this,(function(t){switch(t.label){case 0:return[4,this._getFirstField().validateForm()];case 1:return[2,t.sent()]}}))}))},t.prototype._getFirstField=function(){var t=this._fields[0];if(!t)throw new pe.a("Unable to proceed because the payment form has no field defined.");return t},t}(),ge=n(41),be=function(){function t(t){this._store=t}return t.prototype.transform=function(t,e){var n=this._store.getState(),r=n.checkout.getCheckout(),i=n.config.getConfig(),o=n.instruments.getInstrumentsMeta(),a=n.order.getOrder(),s=n.order.getOrderMeta(),c=Object(Bt.omit)(t.paymentData,"ccExpiry","ccName","ccNumber","ccCvv"),u=n.paymentMethods.getPaymentMethod(t.methodId,t.gatewayId),d=n.paymentMethods.getPaymentMethodsMeta(),p=o&&c&&Object(ge.a)(c)?n.payment.getPaymentToken()+", "+o.vaultAccessToken:n.payment.getPaymentToken();if(!p)throw new v.b(v.a.MissingPaymentToken);return{additionalAction:e,authToken:p,checkout:r,config:i,order:a,orderMeta:s,payment:c,paymentMethod:u,paymentMethodMeta:d}},t}(),ve=function(){function t(t){this._store=t}return t.prototype.create=function(t,e){var n=this,r=Object.keys(e.fields).reduce((function(r,i){var o=e.fields[i];return o?Object(d.__spreadArrays)(r,[new _e(i,o.containerId,o.placeholder||"",o.accessibilityLabel||"",e.styles||{},new ie.a(t),new oe.a(t),new re(new yt),"instrumentId"in o?n._getCardInstrument(o.instrumentId):void 0)]):r}),[]);return new ye(r,new oe.a(t),new be(this._store),Object(Bt.pick)(e,"onBlur","onEnter","onFocus","onCardTypeChange","onValidate"),new ce(St(Object(i.createScriptLoader)())))},t.prototype._getCardInstrument=function(t){var e=(0,this._store.getState().instruments.getCardInstrument)(t);if(!e)throw new v.b(v.a.MissingPaymentInstrument);return e},t}(),Ce=n(48),Oe=function(){function t(t){this._storeCreditRequestSender=t}return t.prototype.applyStoreCredit=function(t,e){var n=this;return function(r){return Object(b.concat)(Object(b.of)(Object(g.createAction)(Ce.a.ApplyStoreCreditRequested)),Object(b.defer)((function(){return Object(d.__awaiter)(n,void 0,void 0,(function(){var n,i,o;return Object(d.__generator)(this,(function(a){switch(a.label){case 0:if(n=r.getState(),!(i=n.checkout.getCheckout()))throw new v.b(v.a.MissingCheckout);return[4,t?this._storeCreditRequestSender.applyStoreCredit(i.id,e):this._storeCreditRequestSender.removeStoreCredit(i.id,e)];case 1:return o=a.sent().body,[2,Object(g.createAction)(Ce.a.ApplyStoreCreditSucceeded,o)]}}))}))}))).pipe(Object(M.catchError)((function(t){return Object(T.a)(Ce.a.ApplyStoreCreditFailed,t)})))}},t}(),Se=function(){function t(t){this._requestSender=t}return t.prototype.applyStoreCredit=function(t,e){var n=(void 0===e?{}:e).timeout,r="/api/storefront/checkouts/"+t+"/store-credit",i={Accept:I.a.JsonV1};return this._requestSender.post(r,{headers:i,timeout:n,params:{include:Object(A.a)(S.a)}})},t.prototype.removeStoreCredit=function(t,e){var n=(void 0===e?{}:e).timeout,r="/api/storefront/checkouts/"+t+"/store-credit",i={Accept:I.a.JsonV1};return this._requestSender.delete(r,{headers:i,timeout:n,params:{include:Object(A.a)(S.a)}})},t}(),we=n(201),Ie=n(175),Ae=n(61),Ee=function(){function t(t,e,n,r){var i=this;this._paymentRequestSender=t,this._orderActionCreator=e,this._paymentRequestTransformer=n,this._paymentHumanVerificationHandler=r,this.initializeOffsitePayment=function(t){var e=t.methodId,n=t.gatewayId,r=t.instrumentId,o=t.target,a=t.promise,s=t.shouldSaveInstrument,c=t.shouldSetAsDefaultInstrument;return function(t){var u;r?u={formattedPayload:{bigpay_token:r}}:s&&(u={formattedPayload:{vault_payment_instrument:s,set_as_default_stored_instrument:c||null}});var d=i._paymentRequestTransformer.transform({gatewayId:n,methodId:e,paymentData:u},t.getState());return Object(b.concat)(Object(b.of)(Object(g.createAction)(Ae.a.InitializeOffsitePaymentRequested)),Promise.race([i._paymentRequestSender.initializeOffsitePayment(d,o),a].filter(Boolean)).then((function(){return Object(g.createAction)(Ae.a.InitializeOffsitePaymentSucceeded)}))).pipe(Object(M.catchError)((function(t){return Object(T.a)(Ae.a.InitializeOffsitePaymentFailed,t)})))}}}return t.prototype.submitPayment=function(t){var e=this;return function(n){return Object(b.concat)(Object(b.of)(Object(g.createAction)(Ae.a.SubmitPaymentRequested)),Object(b.defer)((function(){return Object(d.__awaiter)(e,void 0,void 0,(function(){var e,r;return Object(d.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,5]),[4,this._paymentRequestSender.submitPayment(this._paymentRequestTransformer.transform(t,n.getState()))];case 1:return[2,i.sent()];case 2:return e=i.sent(),[4,this._paymentHumanVerificationHandler.handle(e)];case 3:return r=i.sent(),[4,this._paymentRequestSender.submitPayment(this._paymentRequestTransformer.transform(Object(d.__assign)(Object(d.__assign)({},t),{additionalAction:r}),n.getState()))];case 4:return[2,i.sent()];case 5:return[2]}}))}))})).pipe(Object(M.switchMap)((function(t){var r=t.body;return Object(b.concat)(e._orderActionCreator.loadCurrentOrder()(n),Object(b.of)(Object(g.createAction)(Ae.a.SubmitPaymentSucceeded,r)))})))).pipe(Object(M.catchError)((function(t){return Object(T.a)(Ae.a.SubmitPaymentFailed,t)})))}},t}(),Pe=n(135),je=n(134),ke=n(58),Me=function(t){function e(e,n){var r=t.call(this,n)||this;return r._store=e,r}return Object(d.__extends)(e,t),e.prototype.getByMethod=function(t){if(!t)return this.get();var e=this._getToken(t),n=[t.gateway,t.id].filter((function(t){return null!=t})).join("-");return this.get(e,n)},e.prototype._getToken=function(t){if("klarna"===t.gateway)return Zt.a.KLARNAV2;if(t.id===Zt.a.PAYPAL_COMMERCE_CREDIT)return Zt.a.PAYPAL_COMMERCE;if(t.gateway===Zt.a.PAYPAL_COMMERCE_ALTERNATIVE_METHODS)return Zt.a.PAYPAL_COMMERCE_ALTERNATIVE_METHODS;var e=t.gateway||t.id;return this._hasFactoryForMethod(e)?e:t.type===ke.b?Zt.a.OFFLINE:this._isLegacyMethod(t)?Zt.a.LEGACY:t.type===ke.a?Zt.a.OFFSITE:Zt.a.CREDIT_CARD},e.prototype._hasFactoryForMethod=function(t){return this._hasFactory(t)},e.prototype._isLegacyMethod=function(t){var e=this._store.getState().config.getStoreConfig();if(!e)throw new v.b(v.a.MissingCheckoutConfig);var n=e.paymentSettings.clientSidePaymentProviders;return!(!n||"adyen"===t.gateway||"barclaycard"===t.gateway)&&!Object(Bt.some)(n,(function(e){return t.id===e||t.gateway===e}))},e}(B.a);function Te(){return{color_depth:screen.colorDepth||24,java_enabled:"function"==typeof navigator.javaEnabled&&navigator.javaEnabled(),language:navigator.language||navigator.userLanguage,screen_height:screen.height,screen_width:screen.width,time_zone_offset:(new Date).getTimezoneOffset().toString()}}var Re,De,ze,Le,Ne,Fe=n(37),qe=function(t){function e(e){var n=this,r="Unable to submit payment for the order because the payload is invalid.";return e&&(r=r+" Make sure the following fields are provided correctly: "+e.join(", ")+"."),(n=t.call(this,r)||this).name="PaymentArgumentInvalidError",n}return Object(d.__extends)(e,t),e}(It.a),Ue=function(t){function e(e){var n=t.call(this,e||"Payment process was cancelled.")||this;return n.name="PaymentMethodCancelledError",n.type="payment_cancelled",n}return Object(d.__extends)(e,t),e}(ht.a);function xe(t){return t&&"string"==typeof t.data.paymentMethod.encryptedSecurityCode||"string"==typeof t.data.paymentMethod.encryptedExpiryMonth}!function(t){t.ThreeDS2Fingerprint="threeDS2Fingerprint",t.ThreeDS2Challenge="threeDS2Challenge",t.Redirect="redirect",t.QRCode="qrCode",t.Voucher="voucher"}(Re||(Re={})),function(t){t.SecuredFields="securedfields"}(De||(De={})),function(t){t.ACH="ach",t.AliPay="alipay",t.Bancontact="bcmc",t.CreditCard="scheme",t.Klarna="klarna",t.KlarnaPayNow="klarna_paynow",t.KlarnaAccount="klarna_account",t.iDEAL="ideal",t.GiroPay="giropay",t.GooglePay="paywithgoogle",t.SEPA="sepadirectdebit",t.Sofort="directEbanking",t.Vipps="vipps",t.WeChatPayQR="wechatpayQR"}(ze||(ze={})),function(t){t.POST="POST"}(Le||(Le={})),function(t){t.ChallengeShopper="ChallengeShopper",t.Error="Error",t.IdentifyShopper="IdentifyShopper"}(Ne||(Ne={}));var Be,Ge=function(){function t(t,e,n,r){this._store=t,this._paymentActionCreator=e,this._orderActionCreator=n,this._scriptLoader=r}return t.prototype.initialize=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,o,a,s;return Object(d.__generator)(this,(function(c){switch(c.label){case 0:if(!(e=t.adyenv2))throw new It.a('Unable to initialize payment because "options.adyenv2" argument is not provided.');return this._paymentInitializeOptions=e,n=this._store.getState().paymentMethods.getPaymentMethodOrThrow(t.methodId),r={key:"",value:""},n.initializationData.originKey?(r.key="originKey",r.value=n.initializationData.originKey):(r.key="clientKey",r.value=n.initializationData.clientKey),i=this,[4,this._scriptLoader.load((s={environment:n.initializationData.environment,locale:navigator.language},s[r.key]=r.value,s.paymentMethodsResponse=n.initializationData.paymentMethodsResponse,s))];case 1:return i._adyenClient=c.sent(),o=this,[4,this._mountPaymentComponent(n)];case 2:return o._paymentComponent=c.sent(),n.method!==ze.CreditCard&&n.method!==ze.Bancontact?[3,4]:(a=this,[4,this._mountCardVerificationComponent()]);case 3:a._cardVerificationComponent=c.sent(),c.label=4;case 4:return[2,Promise.resolve(this._store.getState())]}}))}))},t.prototype.execute=function(t,e){var n=this,r=t.payment,i=Object(d.__rest)(t,["payment"]),o=r&&r.paymentData,a=o&&o.shouldSaveInstrument,s=o&&o.shouldSetAsDefaultInstrument;if(!r)throw new qe(["payment"]);return this._store.dispatch(this._orderActionCreator.submitOrder(i,e)).then((function(){var t=n._componentState;if(!t)throw new bt.b(bt.a.PaymentNotInitialized);if(o&&Object(ge.a)(o)){var e={};if(xe(t)){var i=t.data.paymentMethod,c=i.encryptedCardNumber,u=i.encryptedSecurityCode;e={credit_card_number_confirmation:c,expiry_month:i.encryptedExpiryMonth,expiry_year:i.encryptedExpiryYear,verification_value:u}}if(xe(t)||-1!==["ideal","sepadirectdebit","directEbanking","giropay"].indexOf(t.data.paymentMethod.type))return n._store.dispatch(n._paymentActionCreator.submitPayment(Object(d.__assign)(Object(d.__assign)({},r),{paymentData:{formattedPayload:{bigpay_token:Object(d.__assign)(Object(d.__assign)({},e),{token:o.instrumentId}),browser_info:Te(),set_as_default_stored_instrument:s||null}}})))}return n._store.dispatch(n._paymentActionCreator.submitPayment({methodId:r.methodId,paymentData:{formattedPayload:{credit_card_token:{token:JSON.stringify(Object(d.__assign)(Object(d.__assign)({},t.data.paymentMethod),{origin:window.location.origin}))},browser_info:Te(),vault_payment_instrument:a||null,set_as_default_stored_instrument:s||null}}}))})).catch((function(t){return n._processAdditionalAction(t,a,s)}))},t.prototype.finalize=function(){return Promise.reject(new Kt)},t.prototype.deinitialize=function(){return this._paymentComponent&&(this._paymentComponent.unmount(),this._paymentComponent=void 0),this._cardVerificationComponent&&(this._cardVerificationComponent.unmount(),this._cardVerificationComponent=void 0),Promise.resolve(this._store.getState())},t.prototype._getAdyenClient=function(){if(!this._adyenClient)throw new bt.b(bt.a.PaymentNotInitialized);return this._adyenClient},t.prototype._getPaymentInitializeOptions=function(){if(!this._paymentInitializeOptions)throw new It.a('"options.adyenv2" argument was not provided during initialization.');return this._paymentInitializeOptions},t.prototype._getThreeDS2ChallengeWidgetSize=function(){var t=this._getPaymentInitializeOptions().threeDS2Options.widgetSize;return t||"05"},t.prototype._handleAction=function(t){var e=this;return new Promise((function(n,r){var i=e._getPaymentInitializeOptions(),o=i.threeDS2ContainerId,a=i.additionalActionOptions,s=a.onBeforeLoad,c=a.containerId,u=a.onLoad,d=a.onComplete,p=JSON.parse(t.action),h=e._getAdyenClient().createFromAction(p,{onAdditionalDetails:function(t){var e={methodId:p.paymentMethodType,paymentData:{nonce:JSON.stringify(t.data)}};d&&d(),n(e)},size:e._getThreeDS2ChallengeWidgetSize(),onError:function(t){return r(t)}});s&&s(p.type===Re.ThreeDS2Challenge||p.type===Re.QRCode),h.mount("#"+(c||o)),u&&u((function(){r(new Ue),h.unmount()}))}))},t.prototype._mapAdyenPlaceholderData=function(t){return t?{holderName:t.firstName+" "+t.lastName,billingAddress:{street:t.address1,houseNumberOrName:t.address2,postalCode:t.postalCode,city:t.city,stateOrProvince:t.stateOrProvinceCode,country:t.countryCode}}:{}},t.prototype._mountCardVerificationComponent=function(){var t,e=this,n=this._getPaymentInitializeOptions(),r=this._getAdyenClient();return new Promise((function(i,o){if(n.cardVerificationContainerId){t=r.create(De.SecuredFields,Object(d.__assign)(Object(d.__assign)({},n.options),{onChange:function(t){return e._updateComponentState(t)},onError:function(t){return e._updateComponentState(t)}}));try{t.mount("#"+n.cardVerificationContainerId)}catch(t){o(new bt.b(bt.a.PaymentNotInitialized))}}i(t)}))},t.prototype._mountPaymentComponent=function(t){var e,n=this,r=this._getPaymentInitializeOptions(),i=this._getAdyenClient();return new Promise((function(o,a){switch(t.method){case ze.CreditCard:case ze.ACH:case ze.Bancontact:var s=n._store.getState().billingAddress.getBillingAddress();e=i.create(t.method,Object(d.__assign)(Object(d.__assign)({},r.options),{onChange:function(t){return n._updateComponentState(t)},data:n._mapAdyenPlaceholderData(s)}));try{e.mount("#"+r.containerId)}catch(t){a(new bt.b(bt.a.PaymentNotInitialized))}break;case ze.iDEAL:case ze.SEPA:if(r.hasVaultedInstruments)n._updateComponentState({data:{paymentMethod:{type:t.method}}});else{e=i.create(t.method,Object(d.__assign)(Object(d.__assign)({},r.options),{onChange:function(t){return n._updateComponentState(t)}}));try{e.mount("#"+r.containerId)}catch(t){a(new bt.b(bt.a.PaymentNotInitialized))}}break;case ze.AliPay:case ze.GiroPay:case ze.Sofort:case ze.Klarna:case ze.KlarnaPayNow:case ze.KlarnaAccount:case ze.Vipps:case ze.WeChatPayQR:n._updateComponentState({data:{paymentMethod:{type:t.method}}})}o(e)}))},t.prototype._processAdditionalAction=function(t,e,n){return Object(d.__awaiter)(this,void 0,void 0,(function(){var r,i;return Object(d.__generator)(this,(function(o){switch(o.label){case 0:return t instanceof Fe.a&&Object(Bt.some)(t.body.errors,{code:"additional_action_required"})?[4,this._handleAction(t.body.provider_data)]:[2,Promise.reject(t)];case 1:r=o.sent(),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,this._store.dispatch(this._paymentActionCreator.submitPayment(Object(d.__assign)(Object(d.__assign)({},r),{paymentData:Object(d.__assign)(Object(d.__assign)({},r.paymentData),{shouldSaveInstrument:e,shouldSetAsDefaultInstrument:n})})))];case 3:return[2,o.sent()];case 4:return i=o.sent(),[2,this._processAdditionalAction(i,e,n)];case 5:return[2]}}))}))},t.prototype._updateComponentState=function(t){this._componentState=t},t}(),Ve=function(){function t(t,e,n){void 0===n&&(n=window),this._scriptLoader=t,this._stylesheetLoader=e,this._window=n}return t.prototype.load=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){return Object(d.__generator)(this,(function(e){switch(e.label){case 0:return[4,Promise.all([this._stylesheetLoader.loadStylesheet("https://checkoutshopper-"+t.environment+".adyen.com/checkoutshopper/sdk/3.10.1/adyen.css"),this._scriptLoader.loadScript("https://checkoutshopper-"+t.environment+".adyen.com/checkoutshopper/sdk/3.10.1/adyen.js")])];case 1:if(e.sent(),!this._window.AdyenCheckout)throw new $.a;return[2,new this._window.AdyenCheckout(t)]}}))}))},t}(),Ye=n(81);!function(t){t.DigitalItemsCategories="lineItems.digitalItems.categories",t.PhysicalItemsCategories="lineItems.physicalItems.categories"}(Be||(Be={}));var He=n(170),We=function(){function t(t,e,n,r,i){this._store=t,this._orderActionCreator=e,this._paymentActionCreator=n,this._paymentMethodActionCreator=r,this._affirmScriptLoader=i}return t.prototype.initialize=function(t){var e=this;return this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(t.methodId)).then((function(n){var r=n.paymentMethods.getPaymentMethod(t.methodId);if(!r||!r.clientToken)throw new v.b(v.a.MissingPaymentMethod);var i=r.config.testMode,o=r.clientToken;return e._affirmScriptLoader.load(o,i)})).then((function(t){return e._affirm=t,e._store.getState()}))},t.prototype.execute=function(t,e){var n=this,r=t.payment&&t.payment.methodId,i=t.useStoreCredit,o=this._affirm;if(!o)throw new bt.b(bt.a.PaymentNotInitialized);if(!r)throw new qe(["payment.methodId"]);var a=Object(d.__assign)(Object(d.__assign)({},e),{params:{include:[Be.PhysicalItemsCategories,Be.DigitalItemsCategories]}});return this._store.dispatch(this._orderActionCreator.submitOrder({useStoreCredit:i},a)).then((function(){return o.checkout(n._getCheckoutInformation()),new Promise((function(t,e){o.checkout.open({onFail:function(t){"canceled"===t.reason?e(new Ue):e(new He.a)},onSuccess:function(e){t(e)}}),o.ui.error.on("close",(function(){e(new Ue)}))}))})).then((function(t){var e={methodId:r,paymentData:{nonce:t.checkout_token}};return n._store.dispatch(n._paymentActionCreator.submitPayment(e))}))},t.prototype.deinitialize=function(){return this._affirm&&(this._affirm=void 0),Promise.resolve(this._store.getState())},t.prototype.finalize=function(){return Promise.reject(new Kt)},t.prototype._getCheckoutInformation=function(){var t=this._store.getState(),e=t.config.getStoreConfig(),n=t.consignments.getConsignments(),r=t.order.getOrder();if(!e)throw new v.b(v.a.MissingCheckoutConfig);if(!r)throw new v.b(v.a.MissingCheckout);var i=new Ye.a(r.currency.decimalPlaces),o=this._getBillingAddress();return{merchant:{user_confirmation_url:e.links.checkoutLink,user_cancel_url:e.links.checkoutLink,user_confirmation_url_action:"POST"},shipping:this._getShippingAddress()||o,billing:o,items:this._getItems(i,r),metadata:{shipping_type:this._getShippingType(n),mode:"modal",platform_type:"BigCommerce",platform_version:"",platform_affirm:""},discounts:this._getDiscounts(i,r),order_id:r.orderId?r.orderId.toString():"",shipping_amount:i.toInteger(r.shippingCostTotal),tax_amount:i.toInteger(r.taxTotal),total:i.toInteger(r.orderAmount)}},t.prototype._getShippingType=function(t){if(!t)return"";var e=t[0];return e&&e.selectedShippingOption?e.selectedShippingOption.type:""},t.prototype._getBillingAddress=function(){var t=this._store.getState().billingAddress.getBillingAddress();if(!t)throw new v.b(v.a.MissingBillingAddress);return{name:{first:t.firstName,last:t.lastName,full:t.firstName+" "+t.lastName},address:{line1:t.address1,line2:t.address2,city:t.city,state:t.stateOrProvinceCode,zipcode:t.postalCode,country:t.countryCode},phone_number:t.phone,email:t.email}},t.prototype._getShippingAddress=function(){var t=this._store.getState().shippingAddress.getShippingAddress();if(t)return{name:{first:t.firstName,last:t.lastName,full:t.firstName+" "+t.lastName},address:{line1:t.address1,line2:t.address2,city:t.city,state:t.stateOrProvinceCode,zipcode:t.postalCode,country:t.countryCode},phone_number:t.phone}},t.prototype._getItems=function(t,e){for(var n=[],r=0,i=e.lineItems.physicalItems;r<i.length;r++){var o=i[r];n.push({display_name:o.name,sku:o.sku,unit_price:t.toInteger(o.salePrice),qty:o.quantity,item_image_url:o.imageUrl,item_url:o.url,categories:this._getCategories(o.categories)})}for(var a=0,s=e.lineItems.digitalItems;a<s.length;a++){o=s[a];n.push({display_name:o.name,sku:o.sku,unit_price:t.toInteger(o.salePrice),qty:o.quantity,item_image_url:o.imageUrl,item_url:o.url,categories:this._getCategories(o.categories)})}for(var c=0,u=e.lineItems.giftCertificates;c<u.length;c++){o=u[c];n.push({display_name:o.name,sku:"",unit_price:t.toInteger(o.amount),qty:1,item_image_url:"",item_url:""})}if(e.lineItems.customItems)for(var d=0,p=e.lineItems.customItems;d<p.length;d++){o=p[d];n.push({display_name:o.name,sku:o.sku,unit_price:t.toInteger(o.listPrice),qty:o.quantity,item_image_url:"",item_url:""})}return n},t.prototype._getDiscounts=function(t,e){for(var n={},r=0,i=e.coupons;r<i.length;r++){var o=i[r];o.discountedAmount>0&&(n[o.code]={discount_amount:t.toInteger(o.discountedAmount),discount_display_name:o.displayName})}return e.discountAmount>0&&(n.DISCOUNTED_AMOUNT={discount_amount:t.toInteger(e.discountAmount),discount_display_name:"discount"}),n},t.prototype._getCategories=function(t){return t?t.map((function(t){return t.map((function(t){return t.name}))})):[[]]},t}();var Ke=function(){function t(t){void 0===t&&(t=window),this._window=t}return t.prototype.load=function(t,e){void 0===t&&(t="");var n=this._getScriptURI(e);if(function(t,e,n,r,i,o,a,s){var c=t[n]||{},u=document.createElement(o),d=document.getElementsByTagName(o)[0],p=function(t,e,n){return function(){t[e]._.push([n,arguments])}};c[r]=p(c,r,"set");var h=c[r];c[i]={},c[i]._=[],h._=[],c._=[],c[i][a]=p(c,i,a),c[s]=function(){c._.push([a,arguments])};for(var l=0,m="set add save post open empty reset on off trigger ready setProduct".split(" ");l<m.length;l++)h[m[l]]=p(c,r,m[l]);for(var f=0,_=["get","token","url","items"];f<_.length;f++)h[_[f]]=function(){};u.async=!0,u.src=e[o],d.parentNode&&d.parentNode.insertBefore(u,d),delete e[o],h(e),t[n]=c}(window,{public_api_key:t,script:n},"affirm","checkout","ui","script","ready","jsReady"),!this._window.affirm)throw new $.a;return Promise.resolve(this._window.affirm)},t.prototype._getScriptURI=function(t){return void 0===t&&(t=!1),t?"//cdn1-sandbox.affirm.com/js/v2/affirm.js":"//cdn1.affirm.com/js/v2/affirm.js"},t}(),Je=function(){function t(t,e,n,r,i,o,a){this._store=t,this._checkoutValidator=e,this._orderActionCreator=n,this._paymentActionCreator=r,this._paymentMethodActionCreator=i,this._storeCreditActionCreator=o,this._afterpayScriptLoader=a}return t.prototype.initialize=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(d.__generator)(this,(function(a){switch(a.label){case 0:if(e=this._store.getState(),n=e.paymentMethods.getPaymentMethod(t.methodId,t.gatewayId),r=e.config.getStoreConfig(),i=r?r.storeProfile.storeCountry:"",!n)throw new v.b(v.a.MissingPaymentMethod);return o=this,[4,this._afterpayScriptLoader.load(n,this._mapCountryToISO2(i))];case 1:return o._afterpaySdk=a.sent(),[2,this._store.getState()]}}))}))},t.prototype.deinitialize=function(){return this._afterpaySdk&&(this._afterpaySdk=void 0),Promise.resolve(this._store.getState())},t.prototype.execute=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(d.__generator)(this,(function(s){switch(s.label){case 0:if(!(n=t.payment&&t.payment.gatewayId))throw new qe(["payment.gatewayId"]);return r=this._store.getState(),i=r.config.getStoreConfig(),o=i?i.storeProfile.storeCountry:"",void 0===(a=t.useStoreCredit)?[3,2]:[4,this._store.dispatch(this._storeCreditActionCreator.applyStoreCredit(a))];case 1:r=s.sent(),s.label=2;case 2:return[4,this._checkoutValidator.validate(r.checkout.getCheckout(),e)];case 3:return s.sent(),[4,this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(n,e))];case 4:return r=s.sent(),[4,this._redirectToAfterpay(o,r.paymentMethods.getPaymentMethod(n))];case 5:return s.sent(),[2,new Promise((function(){}))]}}))}))},t.prototype.finalize=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i;return Object(d.__generator)(this,(function(o){switch(o.label){case 0:if(e=this._store.getState(),n=e.payment.getPaymentId(),r=e.config.getContextConfig(),!n)throw new v.b(v.a.MissingCheckout);if(!r||!r.payment.token)throw new v.b(v.a.MissingCheckoutConfig);return i={methodId:n.providerId,paymentData:{nonce:r.payment.token}},[4,this._store.dispatch(this._orderActionCreator.submitOrder({},t))];case 1:return o.sent(),[2,this._store.dispatch(this._paymentActionCreator.submitPayment(i))]}}))}))},t.prototype._redirectToAfterpay=function(t,e){if(!this._afterpaySdk||!e||!e.clientToken)throw new bt.b(bt.a.PaymentNotInitialized);this._afterpaySdk.initialize({countryCode:this._mapCountryToISO2(t)}),this._afterpaySdk.redirect({token:e.clientToken})},t.prototype._mapCountryToISO2=function(t){switch(t){case"Australia":return"AU";case"New Zealand":return"NZ";case"United States":return"US";default:return"AU"}},t}(),Ze="//portal.afterpay.com/afterpay-async.js",Qe="//portal-sandbox.afterpay.com/afterpay-async.js",Xe="//portal.afterpay.com/afterpay-async.js",$e="//portal.us-sandbox.afterpay.com/afterpay-async.js",tn=function(){function t(t){this._scriptLoader=t}return t.prototype.load=function(t,e){var n=t.config.testMode||!1,r=this._getScriptURI(e,n);return this._scriptLoader.loadScript(r).then((function(){return window.AfterPay}))},t.prototype._getScriptURI=function(t,e){return"US"===t?e?$e:Xe:e?Qe:Ze},t}(),en=n(59),nn=n(136),rn=n(129);function on(t,e){return Object(Bt.isEqual)(an(t),an(e))}function an(t){var e,n=["id","provinceCode"];return Object.keys((e=t,Object(rn.a)(e,(function(t,e){return Object(nn.a)(e)}))||{})).reduce((function(e,r){var i;return-1===n.indexOf(r)&&t[r]?Object(d.__assign)(Object(d.__assign)({},e),((i={})[r]=t[r],i)):e}),{})}function sn(t){return{id:t.id,firstName:t.firstName,lastName:t.lastName,company:t.company,address1:t.addressLine1,address2:t.addressLine2,city:t.city,stateOrProvince:t.province,stateOrProvinceCode:t.provinceCode,postalCode:t.postCode,country:t.country,countryCode:t.countryCode,phone:t.phone,customFields:t.customFields}}var cn=n(181),un=function(){function t(t,e,n,r,i){this._store=t,this._orderActionCreator=e,this._billingAddressActionCreator=n,this._remoteCheckoutActionCreator=r,this._scriptLoader=i,this._window=window,this._isPaymentMethodSelected=!1}return t.prototype.initialize=function(t){var e=this,n=t.amazon,r=t.methodId,i=this._store.getState().paymentMethods.getPaymentMethod(r);if(!n)throw new It.a('Unable to initialize payment because "options.amazon" argument is not provided.');if(!i)throw new v.b(v.a.MissingPaymentMethod);return this._walletOptions=n,this._paymentMethod=i,new Promise((function(t,r){e._scriptLoader.loadWidget(i,(function(){e._createWallet(n).then(t).catch(r)})).catch(r)})).then((function(){return e._store.getState()}))},t.prototype.deinitialize=function(){return this._walletOptions=void 0,Promise.resolve(this._store.getState())},t.prototype.execute=function(t,e){var n=this,r=this._getOrderReferenceId(),i=this._getMerchantId();if(!r||!i)throw new bt.b(bt.a.PaymentNotInitialized);if(!t.payment)throw new It.a('Unable to proceed because "payload.payment.methodId" argument is not provided.');if(!this._isPaymentMethodSelected)throw new v.b(v.a.MissingPaymentMethod);var o=t.payment,a=(o.paymentData,Object(d.__rest)(o,["paymentData"])),s=t.useStoreCredit;return e&&this._paymentMethod&&this._paymentMethod.config.is3dsEnabled?this._processPaymentWith3ds(i,r,a.methodId,s,e):this._store.dispatch(this._remoteCheckoutActionCreator.initializePayment(a.methodId,{referenceId:r,useStoreCredit:s})).then((function(){return n._store.dispatch(n._orderActionCreator.submitOrder(Object(d.__assign)(Object(d.__assign)({},t),{payment:a}),e))})).catch((function(t){return t instanceof Fe.a&&"provider_widget_error"===t.body.type&&n._walletOptions?n._createWallet(n._walletOptions).then((function(){return Promise.reject(t)})):Promise.reject(t)}))},t.prototype.finalize=function(){return Promise.reject(new Kt)},t.prototype._getMerchantId=function(){return this._paymentMethod&&this._paymentMethod.config.merchantId},t.prototype._getOrderReferenceId=function(){var t=this._store.getState().remoteCheckout.getCheckout("amazon");return t?t.referenceId:void 0},t.prototype._getOrderReferenceIdFromInitializationData=function(){return this._paymentMethod?this._paymentMethod.initializationData.orderReferenceId:void 0},t.prototype._createWallet=function(t){var e=this;return new Promise((function(n,r){var i=t.container,o=t.onError,a=void 0===o?Bt.noop:o,s=t.onPaymentSelect,c=void 0===s?Bt.noop:s,u=t.onReady,d=void 0===u?Bt.noop:u,p=e._getOrderReferenceId()||e._getOrderReferenceIdFromInitializationData(),h=e._getMerchantId();if(!document.getElementById(i))return r(new It.a("Unable to create AmazonPay Wallet widget without valid container ID."));if(!e._window.OffAmazonPayments)return r(new bt.b(bt.a.PaymentNotInitialized));if(!h)return r(new v.b(v.a.MissingPaymentMethod));var l={amazonOrderReferenceId:p,design:{designMode:"responsive"},scope:"payments:billing_address payments:shipping_address payments:widget profile",sellerId:h,onError:function(t){r(t),a(t)},onPaymentSelect:function(t){e._synchronizeBillingAddress().then((function(){e._isPaymentMethodSelected=!0,c(t)})).catch(a)},onReady:function(t){n(),d(t)}};e._getOrderReferenceId()||(l.onReady=function(t){e._updateOrderReference(t).then((function(){n(),d(t)})).catch(a)});var m=new e._window.OffAmazonPayments.Widgets.Wallet(l);return m.bind(i),m}))},t.prototype._synchronizeBillingAddress=function(){var t=this,e=this._getOrderReferenceId(),n=this._paymentMethod&&this._paymentMethod.id;if(!n||!e)throw new cn.a;return this._store.dispatch(this._remoteCheckoutActionCreator.initializeBilling(n,{referenceId:e})).then((function(e){var n=e.remoteCheckout.getCheckout("amazon"),r=n&&n.billing&&n.billing.address,i=e.billingAddress.getBillingAddress(),o=i&&Object(en.a)(i);if(!1===r)throw new cn.a;return!r||on(r,o||{})?t._store.getState():t._store.dispatch(t._billingAddressActionCreator.updateAddress(sn(r)))}))},t.prototype._updateOrderReference=function(t){return this._store.dispatch(this._remoteCheckoutActionCreator.updateCheckout("amazon",{referenceId:t.getAmazonOrderReferenceId()}))},t.prototype._processPaymentWith3ds=function(t,e,n,r,i){var o=this;return new Promise((function(a,s){return o._window.OffAmazonPayments?o._window.OffAmazonPayments.initConfirmationFlow(t,e,(function(t){return o._store.dispatch(o._orderActionCreator.submitOrder({useStoreCredit:r},i)).then((function(){return o._store.dispatch(o._remoteCheckoutActionCreator.initializePayment(n,{referenceId:e,useStoreCredit:r}))})).then((function(){return t.success(),new Promise((function(){}))})).catch((function(e){return t.error(),s(e)}))})):s(new bt.b(bt.a.PaymentNotInitialized))}))},t}(),dn=function(){function t(t,e,n,r,i,o){this._store=t,this._paymentStrategyActionCreator=e,this._paymentMethodActionCreator=n,this._orderActionCreator=r,this._paymentActionCreator=i,this._amazonPayV2PaymentProcessor=o}return t.prototype.initialize=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,o,a;return Object(d.__generator)(this,(function(s){switch(s.label){case 0:if(e=t.methodId,n=t.amazonpay,!e||!n)throw new It.a('Unable to proceed because "options.amazonpay" argument is not provided.');return[4,this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(e))];case 1:return r=s.sent(),i=r.paymentMethods.getPaymentMethodOrThrow(e),[4,this._amazonPayV2PaymentProcessor.initialize(i)];case 2:return s.sent(),o=i.initializationData.paymentToken,a=n.editButtonId,o&&a?this._bindEditButton(a,o,"changePayment"):this._walletButton=this._createSignInButton(i),[2,this._store.getState()]}}))}))},t.prototype.execute=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,c;return Object(d.__generator)(this,(function(u){switch(u.label){case 0:if(!(n=t.payment))throw new qe(["payment"]);return r=n.methodId,[4,this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(r))];case 1:return i=u.sent(),o=i.paymentMethods.getPaymentMethodOrThrow(r),(a=o.initializationData.paymentToken)?(s={methodId:r,paymentData:{nonce:a}},[4,this._store.dispatch(this._orderActionCreator.submitOrder(t,e))]):[3,6];case 2:u.sent(),u.label=3;case 3:return u.trys.push([3,5,,6]),[4,this._store.dispatch(this._paymentActionCreator.submitPayment(s))];case 4:return[2,u.sent()];case 5:if((c=u.sent())instanceof Fe.a&&"additional_action_required"===c.body.status)return[2,new Promise((function(){window.location.replace(c.body.additional_action_required.data.redirect_url)}))];throw c;case 6:if(!this._walletButton)throw new bt.b(bt.a.PaymentNotInitialized);return this._walletButton.click(),[2,new Promise(Bt.noop)]}}))}))},t.prototype.finalize=function(){return Promise.reject(new Kt)},t.prototype.deinitialize=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){return Object(d.__generator)(this,(function(t){switch(t.label){case 0:return this._walletButton&&this._walletButton.parentNode&&(this._walletButton.parentNode.removeChild(this._walletButton),this._walletButton=void 0),[4,this._amazonPayV2PaymentProcessor.deinitialize()];case 1:return t.sent(),[2,Promise.resolve(this._store.getState())]}}))}))},t.prototype._bindEditButton=function(t,e,n){var r=this,i=document.getElementById(t);if(i&&i.parentNode){var o=i.cloneNode(!0);i.parentNode.replaceChild(o,i),o.addEventListener("click",(function(){return r._showLoadingSpinner((function(){return new Promise(Bt.noop)}))})),this._amazonPayV2PaymentProcessor.bindButton(t,e,n)}},t.prototype._showLoadingSpinner=function(t){return this._store.dispatch(this._paymentStrategyActionCreator.widgetInteraction((function(){return t?t():Promise.reject()})),{queueId:"widgetInteraction"})},t.prototype._createContainer=function(){var t=document.getElementById("AmazonPayButton");return t||((t=document.createElement("div")).id="AmazonPayButton",t.style.display="none",document.body.appendChild(t))},t.prototype._createSignInButton=function(t){var e=this._store.getState(),n=e.cart.getCart(),r=e.config.getStoreConfig();if(!r)throw new v.b(v.a.MissingCheckoutConfig);if(!t)throw new v.b(v.a.MissingPaymentMethod);var i=t.config,o=i.merchantId,a=i.testMode,s=t.initializationData,c=s.checkoutLanguage,u=s.ledgerCurrency,d=s.checkoutSessionMethod,p=s.extractAmazonCheckoutSessionId;if(!o)throw new v.b(v.a.MissingPaymentMethod);var h={merchantId:o,sandbox:!!a,checkoutLanguage:c,ledgerCurrency:u,productType:n&&0===Object(jt.a)(n)?Pt.a.PayOnly:Pt.a.PayAndShip,createCheckoutSession:{method:d,url:r.links.siteLink+"/remote-checkout/"+t.id+"/payment-session",extractAmazonCheckoutSessionId:p},placement:Pt.b.Checkout},l=this._createContainer();return this._amazonPayV2PaymentProcessor.createButton("#"+l.id,h),l},t}(),pn=function(){function t(t,e,n,r){this._store=t,this._orderActionCreator=e,this._paymentActionCreator=n,this._hostedFormFactory=r}return t.prototype.execute=function(t,e){var n,r;return this._isHostedPaymentFormEnabled(null===(n=t.payment)||void 0===n?void 0:n.methodId,null===(r=t.payment)||void 0===r?void 0:r.gatewayId)&&this._shouldRenderHostedForm?this._executeWithHostedForm(t,e):this._executeWithoutHostedForm(t,e)},t.prototype.finalize=function(t){return Promise.reject(new Kt)},t.prototype.initialize=function(t){var e=this;if(!this._isHostedPaymentFormEnabled(null==t?void 0:t.methodId,null==t?void 0:t.gatewayId)||!this._isHostedFieldAvailable(t))return this._shouldRenderHostedForm=!1,Promise.resolve(this._store.getState());var n=t&&t.creditCard&&t.creditCard.form,r=(this._store.getState().config.getStoreConfig()||{}).paymentSettings,i=(void 0===r?{}:r).bigpayBaseUrl,o=void 0===i?"":i;if(!n)throw new It.a;var a=this._hostedFormFactory.create(o,n);return a.attach().then((function(){return e._shouldRenderHostedForm=!0,e._hostedForm=a,e._store.getState()}))},t.prototype.deinitialize=function(t){return this._hostedForm&&this._hostedForm.detach(),Promise.resolve(this._store.getState())},t.prototype._executeWithoutHostedForm=function(t,e){var n=this,r=t.payment,i=Object(d.__rest)(t,["payment"]),o=r&&r.paymentData;if(!r||!o)throw new qe(["payment.paymentData"]);return this._store.dispatch(this._orderActionCreator.submitOrder(i,e)).then((function(){return n._store.dispatch(n._paymentActionCreator.submitPayment(Object(d.__assign)(Object(d.__assign)({},r),{paymentData:o})))}))},t.prototype._executeWithHostedForm=function(t,e){var n=this,r=t.payment,i=Object(d.__rest)(t,["payment"]),o=this._hostedForm;if(!o)throw new bt.b(bt.a.PaymentNotInitialized);if(!r||!r.methodId)throw new qe(["payment.methodId"]);return o.validate().then((function(){return n._store.dispatch(n._orderActionCreator.submitOrder(i,e))})).then((function(){return o.submit(r)})).then((function(){return n._store.dispatch(n._orderActionCreator.loadCurrentOrder())}))},t.prototype._isHostedPaymentFormEnabled=function(t,e){return!!t&&!0===(0,this._store.getState().paymentMethods.getPaymentMethodOrThrow)(t,e).config.isHostedFormEnabled},t.prototype._isHostedFieldAvailable=function(t){return!Object(Bt.values)(t&&t.creditCard&&t.creditCard.form.fields).every(Bt.isNil)},t}(),hn=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,r,i)||this;return a._threeDSecureFlow=o,a}return Object(d.__extends)(e,t),e.prototype.initialize=function(e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(d.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this._store.getState().paymentMethods.getPaymentMethodOrThrow,(r=n(e.methodId)).config.is3dsEnabled?[4,this._threeDSecureFlow.prepare(r)]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2,this._store.getState()]}}))}))},e.prototype.execute=function(e,n){return Object(d.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return Object(d.__generator)(this,(function(a){return r=e.payment,i=(void 0===r?{}:r).methodId,o=void 0===i?"":i,(0,this._store.getState().paymentMethods.getPaymentMethodOrThrow)(o).config.is3dsEnabled?[2,this._threeDSecureFlow.start(t.prototype.execute.bind(this),e,n,this._hostedForm)]:[2,t.prototype.execute.call(this,e,n)]}))}))},e}(pn),ln=n(38),mn=function(){function t(t,e,n){this._store=t,this._orderActionCreator=e,this._paymentActionCreator=n}return t.prototype.execute=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Object(d.__generator)(this,(function(c){switch(c.label){case 0:if(!(n=t.payment))throw new qe(["payment"]);if(!this._initializeOptions)throw new bt.b(bt.a.PaymentNotInitialized);return[4,this._store.dispatch(this._orderActionCreator.submitOrder(t,e))];case 1:return c.sent(),r=this._initializeOptions,i=r.onLoad,o=r.style,a=this._createIframe("bluesnapv2_hosted_payment_page",o),s=new ee(new Promise(Bt.noop)),i(a,(function(){return s.cancel(new Ue)})),[2,this._store.dispatch(this._paymentActionCreator.initializeOffsitePayment({methodId:n.methodId,gatewayId:n.gatewayId,shouldSaveInstrument:!1,target:a.name,promise:s.promise}))]}}))}))},t.prototype.finalize=function(t){var e=this._store.getState(),n=e.order.getOrder(),r=e.payment.getPaymentStatus();return!n||r!==ln.a&&r!==ln.b?Promise.reject(new Kt):this._store.dispatch(this._orderActionCreator.finalizeOrder(n.orderId,t))},t.prototype.initialize=function(t){return this._initializeOptions=t&&t.bluesnapv2,Promise.resolve(this._store.getState())},t.prototype.deinitialize=function(){return Promise.resolve(this._store.getState())},t.prototype._createIframe=function(t,e){var n=document.createElement("iframe");if(n.name=t,e){var r=e.border,i=e.height,o=e.width;n.style.border=r,n.style.height=i,n.style.width=o}return n},t}();var fn=function(){function t(t,e,n,r,i,o){this._store=t,this._orderActionCreator=e,this._paymentActionCreator=n,this._paymentMethodActionCreator=r,this._storeCreditActionCreator=i,this._boltScriptLoader=o,this._useBoltClient=!1}return t.prototype.initialize=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,o,a;return Object(d.__generator)(this,(function(s){switch(s.label){case 0:if(e=t.bolt,n=t.methodId,this._useBoltClient=!(!e||!e.useBigCommerceCheckout),!this._useBoltClient)return[3,2];if(r=this._store.getState(),!(i=r.paymentMethods.getPaymentMethod(n))||!i.initializationData.publishableKey)throw new v.b(v.a.MissingPaymentMethod);return o=i.initializationData.publishableKey,a=this,[4,this._boltScriptLoader.load(o,i.config.testMode)];case 1:a._boltClient=s.sent(),s.label=2;case 2:return[2,Promise.resolve(this._store.getState())]}}))}))},t.prototype.deinitialize=function(){return this._boltClient=void 0,Promise.resolve(this._store.getState())},t.prototype.execute=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){return Object(d.__generator)(this,(function(n){return this._useBoltClient?[2,this._executeWithBoltClient(t,e)]:[2,this._executeWithBoltCheckout(t,e)]}))}))},t.prototype.finalize=function(){return Promise.reject(new Kt)},t.prototype._executeWithBoltClient=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,c,u,p,h;return Object(d.__generator)(this,(function(l){switch(l.label){case 0:if(n=t.payment,r=Object(d.__rest)(t,["payment"]),!n)throw new qe(["payment"]);if(!this._boltClient)throw new bt.b(bt.a.PaymentNotInitialized);return i=this._boltClient,[4,this._store.dispatch(this._orderActionCreator.submitOrder(r,e))];case 1:return l.sent(),void 0===(o=this._store.getState().checkout.getCheckoutOrThrow().isStoreCreditApplied)?[3,3]:[4,this._store.dispatch(this._storeCreditActionCreator.applyStoreCredit(o))];case 2:l.sent(),l.label=3;case 3:return[4,this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(n.methodId,e))];case 4:if(a=l.sent(),!(s=a.paymentMethods.getPaymentMethod(n.methodId))||!s.clientToken)throw new v.b(v.a.MissingPaymentMethod);return c=s.clientToken,[4,new Promise((function(t,e){var n={success:function(e,n){t(e),n()},close:function(){e(new Ue)}};i.configure({orderToken:c},{},n).open()}))];case 5:return u=l.sent(),p=n.paymentData.shouldSaveInstrument,h={methodId:n.methodId,paymentData:{nonce:u.reference,shouldSaveInstrument:p}},[2,this._store.dispatch(this._paymentActionCreator.submitPayment(h))]}}))}))},t.prototype._executeWithBoltCheckout=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return Object(d.__generator)(this,(function(a){switch(a.label){case 0:if(n=t.payment,r=Object(d.__rest)(t,["payment"]),!n)throw new qe(["payment"]);if(i=n.methodId,o=n.paymentData,!i)throw new v.b(v.a.MissingPaymentMethod);if(!o||!Boolean(o.nonce))throw new v.b(v.a.MissingPayment);return[4,this._store.dispatch(this._orderActionCreator.submitOrder(r,e))];case 1:return a.sent(),[2,this._store.dispatch(this._paymentActionCreator.submitPayment({methodId:i,paymentData:o}))]}}))}))},t}(),_n=function(){function t(t,e){void 0===e&&(e=window),this._scriptLoader=t,this._window=e}return t.prototype.load=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n;return Object(d.__generator)(this,(function(r){switch(r.label){case 0:return n={async:!0,attributes:{id:"bolt-connect","data-publishable-key":t}},[4,this._scriptLoader.loadScript("//connect"+(e?"-sandbox":"")+".bolt.com/connect-bigcommerce.js",n)];case 1:if(r.sent(),!this._window.BoltCheckout)throw new $.a;return[2,this._window.BoltCheckout]}}))}))},t}();var yn,gn=function(){function t(t){var e=this._createElements(t),n=e.element,r=e.closeElement,i=e.mainElement;this._element=n,this._closeElement=r,this._mainElement=i}return t.prototype.show=function(t){var e=this;this._mainElement.parentElement||(this._registerClick(t),document.body.appendChild(this._mainElement),setTimeout((function(){return e._element.style.opacity="1"})))},t.prototype.remove=function(){var t=this;this._mainElement.parentElement&&(this._unregisterClick&&this._unregisterClick(),this._removeAfterTransition(),setTimeout((function(){return t._element.style.opacity="0"})))},t.prototype._createElements=function(t){var e,n,r,i,o=document.createElement("div"),a=t||{},s=a.background,c=void 0===s?"rgba(0, 0, 0, 0.8)":s,u=a.id,d=void 0===u?"checkoutOverlay":u,p=a.transitionDuration,h=void 0===p?400:p,l=a.hasCloseButton,m=a.innerHtml,f=o;if(d&&(o.id=d),m){var _=document.createElement("div");i=d+"--overlayText",_.className=i,_.appendChild(m),o.appendChild(_)}return l&&(r=d+"--close",(e=document.createElement("div")).className=r,n=d+"--layout",(f=document.createElement("div")).className=n,f.appendChild(o),f.appendChild(e)),f.appendChild(function(t){var e=t.id,n=t.background,r=t.transitionDuration,i=t.classLayout,o=t.classOverlayText,a=t.classClose,s=document.createElement("style"),c=i?", ."+i:"";return s.id=e+"--styles",s.type="text/css",s.innerText="\n        #"+e+c+" {\n            display: block;\n            height: 100%;\n            width: 100%;\n            left: 0;\n            top: 0;\n            position: fixed;\n            z-index: 2147483647;\n        }\n        #"+e+" {\n            transition: opacity "+r+"ms ease-out;\n            background: "+n+";\n            opacity: 0;\n        }\n    ",o&&(s.innerText+="\n             #"+e+" {\n                display: flex;\n                align-items: center;\n                justify-content: center;\n             }\n             #"+e+" ."+o+" {\n                color: white;\n                max-width: 330px;\n                font-size: 1.2em;\n                text-align: center;\n             }\n        "),a&&(s.innerText+="\n            #"+e+" {\n                opacity: 1;\n            }\n            ."+i+" ."+a+" {\n                position: fixed;\n                right: 16px;\n                top: 16px;\n                width: 16px;\n                height: 16px;\n                opacity: 0.6;\n                cursor: pointer;\n                z-index: 3147483647;\n            }\n            ."+i+" ."+a+"::after, ."+i+" ."+a+"::before {\n                position: absolute;\n                left: 8px;\n                content: '';\n                height: 16px;\n                width: 2px;\n                background-color: #fff;\n            }\n            ."+i+" ."+a+"::after {\n                transform: rotate(-45deg);\n            }\n            ."+i+" ."+a+"::before {\n                transform: rotate(45deg);\n            }\n        "),s}({id:d,background:c,transitionDuration:h,classLayout:n,classOverlayText:i,classClose:r})),{element:o,closeElement:e,mainElement:f}},t.prototype._addEventListener=function(t,e){t&&e&&t.addEventListener("click",e)},t.prototype._removeEventListener=function(t,e){t&&e&&t.removeEventListener("click",e)},t.prototype._registerClick=function(t){var e=this;if(this._unregisterClick&&this._unregisterClick(),t){var n=t.onClick,r=t.onClickClose;this._addEventListener(this._element,n),this._addEventListener(this._closeElement,r),this._unregisterClick=function(){e._removeEventListener(e._element,n),e._removeEventListener(e._closeElement,r),e._unregisterClick=void 0}}},t.prototype._removeAfterTransition=function(){var t=this,e=function(n){"opacity"===n.propertyName&&(t._mainElement.parentElement&&t._mainElement.remove(),t._element.removeEventListener("transitionend",e))};this._element.addEventListener("transitionend",e)},t}(),bn=function(t){function e(e,n){var r=t.call(this,n||"Unable to proceed because the payment form contains invalid data.")||this;return r.details=e,r.name="PaymentInvalidFormError",r.type="payment_invalid_form",r}return Object(d.__extends)(e,t),e}(ht.a);!function(t){t.CardCode="cardCode",t.CardCodeVerification="cardCodeVerification",t.CardExpiry="cardExpiry",t.CardName="cardName",t.CardNumber="cardNumber",t.CardNumberVerification="cardNumberVerification"}(yn||(yn={}));var vn,Cn=function(){function t(t,e){var n,r=this;this._options=t,this._styles=e,this._handleBlur=function(){var t;r._applyStyles(null===(t=r._styles)||void 0===t?void 0:t.default)},this._handleFocus=function(){var t;r._applyStyles(null===(t=r._styles)||void 0===t?void 0:t.focus)},this._input=document.createElement("input"),this._input.style.backgroundColor="transparent",this._input.style.border="0",this._input.style.display="block",this._input.style.height="100%",this._input.style.margin="0",this._input.style.outline="none",this._input.style.padding="0",this._input.style.width="100%",this._input.placeholder=this._options.placeholder||"",this._input.addEventListener("blur",this._handleBlur),this._input.addEventListener("focus",this._handleFocus),this._applyStyles(null===(n=this._styles)||void 0===n?void 0:n.default)}return t.prototype.getValue=function(){return this._input.value},t.prototype.attach=function(){var t=document.getElementById(this._options.containerId);if(!t)throw new It.a;t.appendChild(this._input)},t.prototype.detach=function(){var t;null===(t=this._input.parentNode)||void 0===t||t.removeChild(this._input)},t.prototype.on=function(t,e){this._input.addEventListener(t,e)},t.prototype.off=function(t,e){this._input.removeEventListener(t,e)},t.prototype._applyStyles=function(t){var e=this;t&&Object.keys(t).forEach((function(n){e._input.style[n]=t[n]||""}))},t}();function On(t){return!!t.cardNumber}!function(t){t[t.CreditCard=0]="CreditCard",t[t.StoredCardVerification=1]="StoredCardVerification"}(vn||(vn={}));var Sn=function(){function t(t){var e=this;this._braintreeSDKCreator=t,this._handleBlur=function(t){var n,r;null===(r=null===(n=e._formOptions)||void 0===n?void 0:n.onBlur)||void 0===r||r.call(n,{fieldType:e._mapFieldType(t.emittedBy)})},this._handleNameBlur=function(){var t,n;null===(n=null===(t=e._formOptions)||void 0===t?void 0:t.onBlur)||void 0===n||n.call(t,{fieldType:yn.CardName})},this._handleFocus=function(t){var n,r;null===(r=null===(n=e._formOptions)||void 0===n?void 0:n.onFocus)||void 0===r||r.call(n,{fieldType:e._mapFieldType(t.emittedBy)})},this._handleNameFocus=function(){var t,n;null===(n=null===(t=e._formOptions)||void 0===t?void 0:t.onFocus)||void 0===n||n.call(t,{fieldType:yn.CardName})},this._handleCardTypeChange=function(t){var n,r,i;null===(r=null===(n=e._formOptions)||void 0===n?void 0:n.onCardTypeChange)||void 0===r||r.call(n,{cardType:null===(i=t.cards[0])||void 0===i?void 0:i.type})},this._handleInputSubmitRequest=function(t){var n,r;null===(r=null===(n=e._formOptions)||void 0===n?void 0:n.onEnter)||void 0===r||r.call(n,{fieldType:e._mapFieldType(t.emittedBy)})},this._handleValidityChange=function(t){var n,r;null===(r=null===(n=e._formOptions)||void 0===n?void 0:n.onValidate)||void 0===r||r.call(n,{isValid:Object.keys(t.fields).every((function(e){var n;return null===(n=t.fields[e])||void 0===n?void 0:n.isValid})),errors:e._mapValidationErrors(t.fields)})}}return t.prototype.initialize=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(d.__generator)(this,(function(r){switch(r.label){case 0:return this._formOptions=t,this._type=On(t.fields)?vn.CreditCard:vn.StoredCardVerification,e=this._mapFieldOptions(t.fields),Object(Bt.isEmpty)(e)?[2,!1]:(n=this,[4,this._braintreeSDKCreator.createHostedFields({fields:e,styles:t.styles&&this._mapStyleOptions(t.styles)})]);case 1:return n._cardFields=r.sent(),this._cardFields.on("blur",this._handleBlur),this._cardFields.on("focus",this._handleFocus),this._cardFields.on("cardTypeChange",this._handleCardTypeChange),this._cardFields.on("validityChange",this._handleValidityChange),this._cardFields.on("inputSubmitRequest",this._handleInputSubmitRequest),On(t.fields)&&(this._cardNameField=new Cn(t.fields.cardName,t.styles),this._cardNameField.on("blur",this._handleNameBlur),this._cardNameField.on("focus",this._handleNameFocus),this._cardNameField.attach()),[2,!0]}}))}))},t.prototype.deinitialize=function(){var t,e;return Object(d.__awaiter)(this,void 0,void 0,(function(){return Object(d.__generator)(this,(function(n){switch(n.label){case 0:return[4,null===(t=this._cardFields)||void 0===t?void 0:t.teardown()];case 1:return n.sent(),null===(e=this._cardNameField)||void 0===e||e.detach(),[2]}}))}))},t.prototype.tokenize=function(t){var e,n,r,i,o;return Object(d.__awaiter)(this,void 0,void 0,(function(){var a,s,c;return Object(d.__generator)(this,(function(u){switch(u.label){case 0:if(!this._cardFields)throw new bt.b(bt.a.PaymentNotInitialized);u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this._cardFields.tokenize(Object(Bt.omitBy)({billingAddress:t&&this._mapBillingAddress(t),cardholderName:null===(e=this._cardNameField)||void 0===e?void 0:e.getValue()},Bt.isNil))];case 2:return a=u.sent().nonce,null===(r=null===(n=this._formOptions)||void 0===n?void 0:n.onValidate)||void 0===r||r.call(n,{isValid:!0,errors:{}}),[2,{nonce:a}];case 3:if(s=u.sent(),c=this._mapTokenizeError(s))throw null===(o=null===(i=this._formOptions)||void 0===i?void 0:i.onValidate)||void 0===o||o.call(i,{isValid:!1,errors:c}),new bn(c);throw s;case 4:return[2]}}))}))},t.prototype.tokenizeForStoredCardVerification=function(){var t,e,n,r,i;return Object(d.__awaiter)(this,void 0,void 0,(function(){var o,a,s;return Object(d.__generator)(this,(function(c){switch(c.label){case 0:if(!this._cardFields)throw new bt.b(bt.a.PaymentNotInitialized);c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this._cardFields.tokenize(Object(Bt.omitBy)({cardholderName:null===(t=this._cardNameField)||void 0===t?void 0:t.getValue()},Bt.isNil))];case 2:return o=c.sent().nonce,null===(n=null===(e=this._formOptions)||void 0===e?void 0:e.onValidate)||void 0===n||n.call(e,{isValid:!0,errors:{}}),[2,{nonce:o}];case 3:if(a=c.sent(),s=this._mapTokenizeError(a))throw null===(i=null===(r=this._formOptions)||void 0===r?void 0:r.onValidate)||void 0===i||i.call(r,{isValid:!1,errors:s}),new bn(s);throw a;case 4:return[2]}}))}))},t.prototype._mapBillingAddress=function(t){return{countryName:t.country,postalCode:t.postalCode,streetAddress:t.address2?t.address1+" "+t.address2:t.address1}},t.prototype._mapFieldOptions=function(t){return On(t)?Object(Bt.omitBy)({number:{container:"#"+t.cardNumber.containerId,placeholder:t.cardNumber.placeholder},expirationDate:{container:"#"+t.cardExpiry.containerId,placeholder:t.cardExpiry.placeholder},cvv:t.cardCode&&{container:"#"+t.cardCode.containerId,placeholder:t.cardCode.placeholder}},Bt.isNil):Object(Bt.omitBy)({number:t.cardNumberVerification&&{container:"#"+t.cardNumberVerification.containerId,placeholder:t.cardNumberVerification.placeholder},cvv:t.cardCodeVerification&&{container:"#"+t.cardCodeVerification.containerId,placeholder:t.cardCodeVerification.placeholder}},Bt.isNil)},t.prototype._mapStyleOptions=function(t){var e=function(t){return void 0===t&&(t={}),Object(Bt.omitBy)({color:t.color,"font-family":t.fontFamily,"font-size":t.fontSize,"font-weight":t.fontWeight},Bt.isNil)};return{input:e(t.default),".invalid":e(t.error),":focus":e(t.focus)}},t.prototype._mapFieldType=function(t){switch(t){case"number":return this._type===vn.StoredCardVerification?yn.CardNumberVerification:yn.CardNumber;case"expirationDate":return yn.CardExpiry;case"cvv":return this._type===vn.StoredCardVerification?yn.CardCodeVerification:yn.CardCode;default:throw new Error("Unexpected field type")}},t.prototype._mapValidationErrors=function(t){var e=this;return Object.keys(t).reduce((function(n,r){var i,o;return Object(d.__assign)(Object(d.__assign)({},n),((i={})[e._mapFieldType(r)]=(null===(o=t[r])||void 0===o?void 0:o.isValid)?void 0:[e._createInvalidError(e._mapFieldType(r))],i))}),{})},t.prototype._mapTokenizeError=function(t){var e,n,r,i=this;return"HOSTED_FIELDS_FIELDS_EMPTY"===t.code?((e={})[this._mapFieldType("cvv")]=[this._createRequiredError(this._mapFieldType("cvv"))],e[this._mapFieldType("expirationDate")]=[this._createRequiredError(this._mapFieldType("expirationDate"))],e[this._mapFieldType("number")]=[this._createRequiredError(this._mapFieldType("number"))],e):null===(r=null===(n=null==t?void 0:t.details)||void 0===n?void 0:n.invalidFieldKeys)||void 0===r?void 0:r.reduce((function(t,e){var n;return Object(d.__assign)(Object(d.__assign)({},t),((n={})[i._mapFieldType(e)]=[i._createInvalidError(i._mapFieldType(e))],n))}),{})},t.prototype._createRequiredError=function(t){switch(t){case yn.CardCodeVerification:case yn.CardCode:return{fieldType:t,message:"CVV is required",type:"required"};case yn.CardNumberVerification:case yn.CardNumber:return{fieldType:t,message:"Credit card number is required",type:"required"};case yn.CardExpiry:return{fieldType:t,message:"Expiration date is required",type:"required"};case yn.CardName:return{fieldType:t,message:"Full name is required",type:"required"};default:return{fieldType:t,message:"Field is required",type:"required"}}},t.prototype._createInvalidError=function(t){switch(t){case yn.CardCodeVerification:return{fieldType:t,message:"Invalid card code",type:"invalid_card_code"};case yn.CardNumberVerification:return{fieldType:t,message:"Invalid card number",type:"invalid_card_number"};case yn.CardCode:return{fieldType:t,message:"Invalid card code",type:"invalid_card_code"};case yn.CardExpiry:return{fieldType:t,message:"Invalid card expiry",type:"invalid_card_expiry"};case yn.CardNumber:return{fieldType:t,message:"Invalid card number",type:"invalid_card_number"};default:return{fieldType:t,message:"Invalid field",type:"invalid"}}},t}(),wn=function(){function t(t,e,n){this._braintreeSDKCreator=t,this._braintreeHostedForm=e,this._overlay=n}return t.prototype.initialize=function(t,e){this._braintreeSDKCreator.initialize(t),this._threeDSecureOptions=e&&e.threeDSecure},t.prototype.preloadPaypal=function(){return this._braintreeSDKCreator.getPaypal()},t.prototype.tokenizeCard=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n;return Object(d.__generator)(this,(function(r){switch(r.label){case 0:return n=this._mapToCreditCard(t.paymentData,e),[4,this._braintreeSDKCreator.getClient()];case 1:return[4,r.sent().request(n)];case 2:return[2,{nonce:r.sent().creditCards[0].nonce}]}}))}))},t.prototype.verifyCard=function(t,e,n){return Object(d.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return Object(d.__generator)(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.tokenizeCard(t,e),this._braintreeSDKCreator.get3DS()])];case 1:return r=a.sent(),i=r[0].nonce,o=r[1],[2,this._present3DSChallenge(o,n,i)]}}))}))},t.prototype.paypal=function(t){var e=this,n=t.shouldSaveInstrument,r=Object(d.__rest)(t,["shouldSaveInstrument"]);return this._braintreeSDKCreator.getPaypal().then((function(t){return e._overlay.show({onClick:function(){return t.focusWindow()}}),t.tokenize(Object(d.__assign)({enableShippingAddress:!0,flow:n?"vault":"checkout",useraction:"commit"},r))})).then((function(t){return e._overlay.remove(),t})).catch((function(t){throw e._overlay.remove(),t}))},t.prototype.getSessionId=function(){return this._braintreeSDKCreator.getDataCollector().then((function(t){return t.deviceData}))},t.prototype.appendSessionId=function(t){var e=this;return t.then((function(t){return Promise.all([t,e._braintreeSDKCreator.getDataCollector()])})).then((function(t){var e=t[0],n=t[1].deviceData;return Object(d.__assign)(Object(d.__assign)({},e),{deviceSessionId:n})}))},t.prototype.deinitialize=function(){return this._braintreeSDKCreator.teardown()},t.prototype.initializeHostedForm=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){return Object(d.__generator)(this,(function(e){switch(e.label){case 0:return[4,this._braintreeHostedForm.initialize(t)];case 1:return[2,e.sent()]}}))}))},t.prototype.deinitializeHostedForm=function(){return Object(d.__awaiter)(this,void 0,void 0,(function(){return Object(d.__generator)(this,(function(t){switch(t.label){case 0:return[4,this._braintreeHostedForm.deinitialize()];case 1:return t.sent(),[2]}}))}))},t.prototype.tokenizeHostedForm=function(t){return this._braintreeHostedForm.tokenize(t)},t.prototype.tokenizeHostedFormForStoredCardVerification=function(){return this._braintreeHostedForm.tokenizeForStoredCardVerification()},t.prototype.verifyCardWithHostedForm=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(d.__generator)(this,(function(o){switch(o.label){case 0:return[4,Promise.all([this._braintreeHostedForm.tokenize(t),this._braintreeSDKCreator.get3DS()])];case 1:return n=o.sent(),r=n[0].nonce,i=n[1],[2,this._present3DSChallenge(i,e,r)]}}))}))},t.prototype._present3DSChallenge=function(t,e,n){var r=this;if(!this._threeDSecureOptions)throw new bt.b(bt.a.PaymentNotInitialized);var i=this._threeDSecureOptions,o=i.addFrame,a=i.removeFrame,s=function(){return Object(d.__awaiter)(r,void 0,void 0,(function(){var e;return Object(d.__generator)(this,(function(n){switch(n.label){case 0:return[4,t.cancelVerifyCard()];case 1:return e=n.sent(),c.cancel(new Ue),[2,e]}}))}))},c=new ee(t.verifyCard({addFrame:function(t,e){o(t,e,s)},amount:e,nonce:n,removeFrame:a,onLookupComplete:function(t,e){e()}}));return c.promise},t.prototype._mapToCreditCard=function(t,e){return{data:{creditCard:{cardholderName:t.ccName,number:t.ccNumber,cvv:t.ccCvv,expirationDate:t.ccExpiry.month+"/"+t.ccExpiry.year,options:{validate:!1},billingAddress:e&&{countryName:e.country,postalCode:e.postalCode,streetAddress:e.address2?e.address1+" "+e.address2:e.address1}}},endpoint:"payment_methods/credit_cards",method:"post"}},t}();var In=n(92),An=function(){function t(t,e,n,r,i){this._store=t,this._orderActionCreator=e,this._paymentActionCreator=n,this._paymentMethodActionCreator=r,this._braintreePaymentProcessor=i}return t.prototype.initialize=function(t){var e;return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(d.__generator)(this,(function(s){switch(s.label){case 0:return[4,this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(t.methodId))];case 1:if(n=s.sent(),!(r=n.paymentMethods.getPaymentMethod(t.methodId))||!r.clientToken)throw new v.b(v.a.MissingPaymentMethod);s.label=2;case 2:return s.trys.push([2,6,,7]),this._braintreePaymentProcessor.initialize(r.clientToken,t.braintree),this._isHostedPaymentFormEnabled(t.methodId,t.gatewayId)&&(null===(e=t.braintree)||void 0===e?void 0:e.form)?(i=this,[4,this._braintreePaymentProcessor.initializeHostedForm(t.braintree.form)]):[3,4];case 3:i._isHostedFormInitialized=s.sent(),s.label=4;case 4:return this._is3dsEnabled=r.config.is3dsEnabled,o=this,[4,this._braintreePaymentProcessor.getSessionId()];case 5:return o._deviceSessionId=s.sent(),[3,7];case 6:return a=s.sent(),this._handleError(a),[3,7];case 7:return[2,this._store.getState()]}}))}))},t.prototype.execute=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,c,u,p,h,l,m,f;return Object(d.__generator)(this,(function(_){switch(_.label){case 0:if(n=t.payment,r=Object(d.__rest)(t,["payment"]),!n)throw new qe(["payment"]);return[4,this._store.dispatch(this._orderActionCreator.submitOrder(r,e))];case 1:if(i=_.sent(),o=i.billingAddress.getBillingAddressOrThrow,a=i.order.getOrderOrThrow,!(0,i.payment.isPaymentDataRequired)(r.useStoreCredit))return[2,i];_.label=2;case 2:return _.trys.push([2,7,,8]),c=(s=this._store).dispatch,p=(u=this._paymentActionCreator).submitPayment,h=[Object(d.__assign)({},n)],l={},this._isHostedFormInitialized?[4,this._prepareHostedPaymentData(n,o(),a().orderAmount)]:[3,4];case 3:return m=_.sent(),[3,6];case 4:return[4,this._preparePaymentData(n,o(),a().orderAmount)];case 5:m=_.sent(),_.label=6;case 6:return[2,c.apply(s,[p.apply(u,[d.__assign.apply(void 0,h.concat([(l.paymentData=m,l)]))])])];case 7:return f=_.sent(),this._handleError(f),[3,8];case 8:return[2]}}))}))},t.prototype.finalize=function(){return Promise.reject(new Kt)},t.prototype.deinitialize=function(){return Object(d.__awaiter)(this,void 0,void 0,(function(){return Object(d.__generator)(this,(function(t){switch(t.label){case 0:return this._isHostedFormInitialized=!1,[4,Promise.all([this._braintreePaymentProcessor.deinitialize(),this._braintreePaymentProcessor.deinitializeHostedForm()])];case 1:return t.sent(),[2,this._store.getState()]}}))}))},t.prototype._handleError=function(t){if("BraintreeError"===t.name)throw new In.a(t.message);throw t},t.prototype._preparePaymentData=function(t,e,n){return Object(d.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,c,u;return Object(d.__generator)(this,(function(p){switch(p.label){case 0:return r={deviceSessionId:this._deviceSessionId},this._isSubmittingWithStoredCard(t)||this._isStoringNewCard(t)?[2,Object(d.__assign)(Object(d.__assign)({},r),t.paymentData)]:this._shouldPerform3DSVerification(t)?(i=[Object(d.__assign)({},r)],o=this._mapToNonceInstrument,a=[Object(d.__assign)({},t.paymentData)],[4,this._braintreePaymentProcessor.verifyCard(t,e,n)]):[3,2];case 1:return[2,d.__assign.apply(void 0,i.concat([o.apply(this,[d.__assign.apply(void 0,a.concat([p.sent()]))])]))];case 2:return s=[Object(d.__assign)({},r)],c=this._mapToNonceInstrument,u=[Object(d.__assign)({},t.paymentData)],[4,this._braintreePaymentProcessor.tokenizeCard(t,e)];case 3:return[2,d.__assign.apply(void 0,s.concat([c.apply(this,[d.__assign.apply(void 0,u.concat([p.sent()]))])]))]}}))}))},t.prototype._prepareHostedPaymentData=function(t,e,n){return Object(d.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,c,u,p,h,l;return Object(d.__generator)(this,(function(m){switch(m.label){case 0:return r={deviceSessionId:this._deviceSessionId},this._shouldPerform3DSVerification(t)?(i=[Object(d.__assign)({},r)],o=this._mapToNonceInstrument,a=[Object(d.__assign)({},t.paymentData)],[4,this._braintreePaymentProcessor.verifyCardWithHostedForm(e,n)]):[3,2];case 1:return[2,d.__assign.apply(void 0,i.concat([o.apply(this,[d.__assign.apply(void 0,a.concat([m.sent()]))])]))];case 2:return this._isSubmittingWithStoredCard(t)?(s=[Object(d.__assign)({},r)],c=this._mapToVaultedInstrumentWithNonceVerification,u=[Object(d.__assign)({},t.paymentData)],[4,this._braintreePaymentProcessor.tokenizeHostedFormForStoredCardVerification()]):[3,4];case 3:return[2,d.__assign.apply(void 0,s.concat([c.apply(this,[d.__assign.apply(void 0,u.concat([m.sent()]))])]))];case 4:return p=[Object(d.__assign)({},r)],h=this._mapToNonceInstrument,l=[Object(d.__assign)({},t.paymentData)],[4,this._braintreePaymentProcessor.tokenizeHostedForm(e)];case 5:return[2,d.__assign.apply(void 0,p.concat([h.apply(this,[d.__assign.apply(void 0,l.concat([m.sent()]))])]))]}}))}))},t.prototype._mapToNonceInstrument=function(t){return Object(Bt.pick)(t,"nonce","shouldSaveInstrument","shouldSetAsDefaultInstrument")},t.prototype._mapToVaultedInstrumentWithNonceVerification=function(t){return Object(Bt.pick)(t,"nonce","instrumentId")},t.prototype._isHostedPaymentFormEnabled=function(t,e){return!!t&&!0===(0,this._store.getState().paymentMethods.getPaymentMethodOrThrow)(t,e).config.isHostedFormEnabled},t.prototype._isSubmittingWithStoredCard=function(t){return!(!t.paymentData||!Object(ge.a)(t.paymentData))},t.prototype._isStoringNewCard=function(t){var e;return!!(t.paymentData&&(null===(e=t.paymentData)||void 0===e?void 0:e.shouldSaveInstrument))},t.prototype._shouldPerform3DSVerification=function(t){return!(!this._is3dsEnabled||this._isSubmittingWithStoredCard(t))},t}();var En=function(){function t(t,e,n,r,i,o){void 0===o&&(o=!1),this._store=t,this._orderActionCreator=e,this._paymentActionCreator=n,this._paymentMethodActionCreator=r,this._braintreePaymentProcessor=i,this._credit=o}return t.prototype.initialize=function(t){var e=this,n=t.braintree,r=t.methodId;return this._paymentMethod=this._store.getState().paymentMethods.getPaymentMethod(r),this._paymentMethod&&this._paymentMethod.nonce?Promise.resolve(this._store.getState()):this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(r)).then((function(t){if(e._paymentMethod=t.paymentMethods.getPaymentMethod(r),!e._paymentMethod||!e._paymentMethod.clientToken)throw new v.b(v.a.MissingPaymentMethod);return e._braintreePaymentProcessor.initialize(e._paymentMethod.clientToken,n),e._braintreePaymentProcessor.preloadPaypal()})).then((function(){return e._store.getState()})).catch((function(t){return e._handleError(t)}))},t.prototype.execute=function(t,e){var n=this,r=t.payment,i=Object(d.__rest)(t,["payment"]);if(!r)throw new qe(["payment"]);return(r?this._preparePaymentData(r,i.useStoreCredit):Promise.resolve(r)).then((function(t){return Promise.all([t,n._store.dispatch(n._orderActionCreator.submitOrder(i,e))])})).then((function(t){var e=t[0];return n._store.dispatch(n._paymentActionCreator.submitPayment(e))})).catch((function(t){return n._handleError(t)}))},t.prototype.finalize=function(){return Promise.reject(new Kt)},t.prototype.deinitialize=function(){var t=this;return this._braintreePaymentProcessor.deinitialize().then((function(){return t._store.getState()}))},t.prototype._handleError=function(t){if(!function(t){return"BraintreeError"===t.name}(t))throw t;if("PAYPAL_POPUP_CLOSED"===t.code)throw new Ue(t.message);throw new In.a(t.message)},t.prototype._preparePaymentData=function(t,e){var n=this,r=this._store.getState(),i=r.checkout.getOutstandingBalance(e),o=r.config.getStoreConfig();if(!i)throw new v.b(v.a.MissingCheckout);if(!o)throw new v.b(v.a.MissingCheckoutConfig);if(!this._paymentMethod)throw new bt.b(bt.a.PaymentNotInitialized);var a=o.currency,s=o.storeProfile.storeLanguage,c=this._paymentMethod,u=c.nonce,p=c.config.isVaultingEnabled,h=t.paymentData,l=void 0===h?{}:h;if(u)return Promise.resolve(Object(d.__assign)(Object(d.__assign)({},t),{paymentData:this._formattedPayload(u)}));if(Object(ge.a)(l)||Object(ge.c)(l)){if(!p)throw new It.a("Vaulting is disabled but a vaulted instrument was being used for this transaction");return Promise.resolve(t)}if(l.shouldSaveInstrument&&!p)throw new It.a("Vaulting is disabled but shouldSaveInstrument is set to true");var m,f=r.shippingAddress.getShippingAddress(),_=f?{recipientName:(m=f).firstName+" "+m.lastName,line1:m.address1,line2:m.address2,city:m.city,state:m.stateOrProvinceCode,postalCode:m.postalCode,countryCode:m.countryCode,phone:m.phone}:void 0;return Promise.all([this._braintreePaymentProcessor.paypal({amount:i,locale:s,currency:a.code,offerCredit:this._credit,shippingAddressOverride:_,shouldSaveInstrument:l.shouldSaveInstrument||!1}),this._braintreePaymentProcessor.getSessionId()]).then((function(e){var r=e[0],i=void 0===r?{}:r,o=i.nonce,a=i.details,s=e[1];return Object(d.__assign)(Object(d.__assign)({},t),{paymentData:n._formattedPayload(o,a&&a.email,s,l.shouldSaveInstrument,l.shouldSetAsDefaultInstrument)})}))},t.prototype._formattedPayload=function(t,e,n,r,i){return{formattedPayload:{vault_payment_instrument:r||null,set_as_default_stored_instrument:i||null,device_info:n||null,paypal_account:{token:t,email:e||null}}}},t}(),Pn=function(){function t(t,e,n,r,i,o,a,s){this._store=t,this._checkoutActionCreator=e,this._paymentMethodActionCreator=n,this._paymentStrategyActionCreator=r,this._paymentActionCreator=i,this._orderActionCreator=o,this._braintreeVisaCheckoutPaymentProcessor=a,this._visaCheckoutScriptLoader=s}return t.prototype.initialize=function(t){var e=this,n=t.braintreevisacheckout,r=t.methodId;if(!n)throw new It.a('Unable to initialize payment because "options.braintreevisacheckout" argument is not provided.');return this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(r)).then((function(t){e._paymentMethod=t.paymentMethods.getPaymentMethod(r);var i=t.checkout.getCheckout(),o=t.config.getStoreConfig();if(!i)throw new v.b(v.a.MissingCheckout);if(!o)throw new v.b(v.a.MissingCheckoutConfig);if(!e._paymentMethod||!e._paymentMethod.clientToken)throw new v.b(v.a.MissingPaymentMethod);var a=n.onError,s=void 0===a?function(){}:a,c=n.onPaymentSelect,u=void 0===c?function(){}:c,d={locale:o.storeProfile.storeLanguage,collectShipping:!1,subtotal:i.subtotal,currencyCode:o.currency.code};return Promise.all([e._visaCheckoutScriptLoader.load(e._paymentMethod.config.testMode),e._braintreeVisaCheckoutPaymentProcessor.initialize(e._paymentMethod.clientToken,d)]).then((function(t){var n=t[0],r=t[1];n.init(r),n.on("payment.success",(function(t){return e._paymentInstrumentSelected(t).then((function(){return u()})).catch((function(t){return s(t)}))})),n.on("payment.error",(function(t,e){return s(e)}))}))})).then((function(){return e._store.getState()}))},t.prototype.execute=function(t,e){var n=this,r=t.payment,i=Object(d.__rest)(t,["payment"]);if(!r)throw new It.a('Unable to submit payment because "payload.payment" argument is not provided.');if(!this._paymentMethod||!this._paymentMethod.initializationData||!this._paymentMethod.initializationData.nonce)throw new v.b(v.a.MissingPaymentMethod);var o=this._paymentMethod.initializationData.nonce;return this._store.dispatch(this._orderActionCreator.submitOrder(i,e)).then((function(){return n._store.dispatch(n._paymentActionCreator.submitPayment(Object(d.__assign)(Object(d.__assign)({},r),{paymentData:{nonce:o}})))})).catch((function(t){return n._handleError(t)}))},t.prototype.finalize=function(){return Promise.reject(new Kt)},t.prototype.deinitialize=function(){var t=this;return this._braintreeVisaCheckoutPaymentProcessor.deinitialize().then((function(){return t._store.getState()}))},t.prototype._paymentInstrumentSelected=function(t){var e=this,n=this._store.getState();if(!this._paymentMethod)throw new Error("Payment method not initialized");var r=this._paymentMethod.id;return this._store.dispatch(this._paymentStrategyActionCreator.widgetInteraction((function(){return e._braintreeVisaCheckoutPaymentProcessor.handleSuccess(t,n.shippingAddress.getShippingAddress(),n.billingAddress.getBillingAddress()).then((function(){return Promise.all([e._store.dispatch(e._checkoutActionCreator.loadCurrentCheckout()),e._store.dispatch(e._paymentMethodActionCreator.loadPaymentMethod(r))])}))}),{methodId:r}),{queueId:"widgetInteraction"})},t.prototype._handleError=function(t){if("BraintreeError"===t.name)throw new In.a(t.message);throw t},t}();var jn,kn,Mn,Tn,Rn,Dn,zn,Ln=function(){function t(t,e,n){this._store=t,this._paymentActionCreator=e,this._cardinalClient=n}return t.prototype.prepare=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){return Object(d.__generator)(this,(function(e){switch(e.label){case 0:return[4,this._cardinalClient.load(t.id,t.config.testMode)];case 1:return e.sent(),[2]}}))}))},t.prototype.start=function(t,e,n,r){var i,o,a;return Object(d.__awaiter)(this,void 0,void 0,(function(){var s,c,u,p,h,l,m,f,_,y,g,b;return Object(d.__generator)(this,(function(d){switch(d.label){case 0:s=this._store.getState().instruments.getCardInstrument,c=e.payment,p=(u=void 0===c?{methodId:""}:c).paymentData,h=void 0===p?{}:p,d.label=1;case 1:return d.trys.push([1,3,,13]),[4,t(e,n)];case 2:return[2,d.sent()];case 3:return(l=d.sent())instanceof Fe.a&&"additional_action_required"===l.body.status?(m=null===(o=null===(i=l.body.additional_action_required)||void 0===i?void 0:i.data)||void 0===o?void 0:o.token,f=null===(a=l.body.three_ds_result)||void 0===a?void 0:a.payer_auth_request,[4,this._cardinalClient.configure(m)]):[3,12];case 4:return d.sent(),(_=this._getBin(h,s,r))?[4,this._cardinalClient.runBinProcess(_)]:[3,6];case 5:d.sent(),d.label=6;case 6:return d.trys.push([6,8,,12]),[4,this._submitPayment(u,{xid:f},r)];case 7:return[2,d.sent()];case 8:return(y=d.sent())instanceof Fe.a&&Object(Bt.some)(y.body.errors,{code:"three_d_secure_required"})?(g=y.body.three_ds_result,b=null==g?void 0:g.payer_auth_request,[4,this._cardinalClient.getThreeDSecureData(g,this._getOrderData())]):[3,11];case 9:return d.sent(),[4,this._submitPayment(u,{token:b},r)];case 10:return[2,d.sent()];case 11:throw y;case 12:throw l;case 13:return[2]}}))}))},t.prototype._getOrderData=function(){var t=this._store.getState(),e=t.billingAddress.getBillingAddressOrThrow(),n=t.shippingAddress.getShippingAddress(),r=t.checkout.getCheckoutOrThrow().cart,i=r.currency.code,o=r.cartAmount;return{billingAddress:e,shippingAddress:n,currencyCode:i,id:t.order.getOrderOrThrow().orderId.toString(),amount:o}},t.prototype._submitPayment=function(t,e,n){return Object(d.__awaiter)(this,void 0,void 0,(function(){var r;return Object(d.__generator)(this,(function(i){switch(i.label){case 0:return r=Object(Bt.merge)({},t,{paymentData:{threeDSecure:e}}),n?[3,2]:[4,this._store.dispatch(this._paymentActionCreator.submitPayment(r))];case 1:return[2,i.sent()];case 2:return[4,n.submit(r)];case 3:return i.sent(),[2,this._store.getState()]}}))}))},t.prototype._getBin=function(t,e,n){var r=Object(ge.a)(t)&&e(t.instrumentId),i=function(t){var e=t;return!Object(ge.a)(e)&&"string"==typeof e.ccName&&"string"==typeof e.ccNumber&&"object"==typeof e.ccExpiry&&"string"==typeof e.ccExpiry.month&&"string"==typeof e.ccExpiry.year}(t)&&t.ccNumber;return(r?r.iin:n?null==n?void 0:n.getBin():i)||""},t}(),Nn=[100004,1010,1011,1020];!function(t){t.Init="init",t.Complete="complete",t.Confirm="confirm"}(jn||(jn={})),function(t){t.SetupCompleted="payments.setupComplete",t.Validated="payments.validated"}(kn||(kn={})),function(t){t.Success="SUCCESS",t.NoAction="NOACTION",t.Failure="FAILURE",t.Error="ERROR"}(Mn||(Mn={})),function(t){t.CCA="CCA",t.Paypal="Paypal",t.Wallet="Wallet",t.VisaCheckout="VisaCheckout",t.ApplePay="ApplePay",t.DiscoverWallet="DiscoverWallet"}(Tn||(Tn={})),function(t){t.BinProcess="bin.process"}(Rn||(Rn={})),function(t){t.CCA="cca"}(Dn||(Dn={})),function(t){t.Yes="Y",t.No="N"}(zn||(zn={}));var Fn,qn=function(){function t(t){this._scriptLoader=t,this._provider="",this._testMode=!1,this._configurationToken=""}return t.prototype.load=function(t,e){return void 0===e&&(e=!1),this._provider=t,this._testMode=e,this._sdk||(this._sdk=this._scriptLoader.load(t,e)),this._sdk.then((function(){}))},t.prototype.configure=function(t){var e=this;if(this._configurationToken){if(this._configurationToken===t)return Promise.resolve();this._sdk=this._scriptLoader.load(this._provider+"."+Date.now(),this._testMode)}return this._getClientSDK().then((function(n){return new Promise((function(r,i){n.on(kn.SetupCompleted,(function(){n.off(kn.SetupCompleted),n.off(kn.Validated),e._configurationToken=t,r()})),n.on(kn.Validated,(function(t){switch(n.off(kn.SetupCompleted),n.off(kn.Validated),t.ActionCode){case Mn.Error:Object(Bt.includes)(Nn,t.ErrorNumber)&&i(new v.b(v.a.MissingPaymentMethod)),i(new In.a(t.ErrorDescription))}})),n.setup(jn.Init,{jwt:t})}))}))},t.prototype.runBinProcess=function(t){return this._getClientSDK().then((function(e){return e.trigger(Rn.BinProcess,t).catch((function(){}))})).then((function(t){if(!t||!t.Status)throw new bt.b(bt.a.PaymentNotInitialized)}))},t.prototype.getThreeDSecureData=function(t,e){var n=this;return this._getClientSDK().then((function(r){return new Promise((function(i,o){r.on(kn.Validated,(function(t,e){if(r.off(kn.Validated),!e)return o(new In.a(t.ErrorDescription?t.ErrorDescription:"An error was encountered while processing the transaction."));if(!t.ActionCode)return i({token:e});switch(t.ActionCode){case Mn.Success:return i({token:e});case Mn.NoAction:return t.ErrorNumber>0?o(new In.a(t.ErrorDescription)):t.Payment&&t.Payment.ExtendedData&&t.Payment.ExtendedData.SignatureVerification===zn.Yes?i({token:e}):o(new In.a("Transaction signature could not be validated."));case Mn.Failure:return o(new In.a("User failed authentication or an error was encountered while processing the transaction."));case Mn.Error:return o(new In.a(t.ErrorDescription))}}));var a={AcsUrl:t.acs_url,Payload:t.merchant_data},s=n._mapToPartialOrder(e,t.payer_auth_request);r.continue(Dn.CCA,a,s)}))}))},t.prototype._mapToPartialOrder=function(t,e){var n={BillingAddress:this._mapToCardinalAddress(t.billingAddress)};return t.paymentData&&(n.Account=this._mapToCardinalAccount(t.paymentData)),t.billingAddress.email&&(n.Email1=t.billingAddress.email),t.shippingAddress&&(n.ShippingAddress=this._mapToCardinalAddress(t.shippingAddress)),{Consumer:n,OrderDetails:{OrderNumber:t.id,Amount:t.amount,CurrencyCode:t.currencyCode,OrderChannel:"S",TransactionId:e}}},t.prototype._mapToCardinalAccount=function(t){return{AccountNumber:Number(t.ccNumber),ExpirationMonth:Number(t.ccExpiry.month),ExpirationYear:Number(t.ccExpiry.year),NameOnAccount:t.ccName,CardCode:Number(t.ccCvv)}},t.prototype._mapToCardinalAddress=function(t){var e={FirstName:t.firstName,LastName:t.lastName,Address1:t.address1,City:t.city,State:t.stateOrProvince,PostalCode:t.postalCode,CountryCode:t.countryCode};return t.address2&&(e.Address2=t.address2),t.phone&&(e.Phone1=t.phone),e},t.prototype._getClientSDK=function(){if(!this._sdk)throw new bt.b(bt.a.PaymentNotInitialized);return this._sdk},t}(),Un=function(){function t(t,e){void 0===e&&(e=window),this._scriptLoader=t,this._window=e}return t.prototype.load=function(t,e){var n=this,r=e?"https://songbirdstag.cardinalcommerce.com/edge/v1/songbird.js":"https://songbird.cardinalcommerce.com/edge/v1/songbird.js";return this._scriptLoader.loadScript(r+"?v="+t).then((function(){if(!n._window.Cardinal)throw new $.a;return n._window.Cardinal}))},t}(),xn=function(){function t(t,e,n,r){this._store=t,this._paymentActionCreator=e,this._paymentMethodActionCreator=n,this._cardinalClient=r}return t.prototype.prepare=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(d.__generator)(this,(function(r){switch(r.label){case 0:return[4,this._cardinalClient.load(t.id,t.config.testMode)];case 1:return r.sent(),n=(e=this._cardinalClient).configure,[4,this._getClientToken(t)];case 2:return[4,n.apply(e,[r.sent()])];case 3:return r.sent(),[2]}}))}))},t.prototype.start=function(t,e,n,r){return Object(d.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,c,u,p,h,l,m,f,_,y;return Object(d.__generator)(this,(function(d){switch(d.label){case 0:return i=this._store.getState(),o=i.instruments.getCardInstrument,a=i.paymentMethods.getPaymentMethodOrThrow,s=e.payment,u=(c=void 0===s?{}:s).methodId,p=void 0===u?"":u,h=c.paymentData,l=void 0===h?{}:h,m=Object(ge.a)(l)&&o(l.instrumentId),(f=m?m.iin:r&&r.getBin())?[4,this._cardinalClient.runBinProcess(f)]:[3,2];case 1:d.sent(),d.label=2;case 2:return d.trys.push([2,4,,9]),[4,t(Object(Bt.merge)(e,{payment:{paymentData:{threeDSecure:{token:a(p).clientToken}}}}),n)];case 3:return[2,d.sent()];case 4:if(!((_=d.sent())instanceof Fe.a&&Object(Bt.some)(_.body.errors,{code:"three_d_secure_required"})))throw _;return[4,this._cardinalClient.getThreeDSecureData(_.body.three_ds_result,this._getOrderData())];case 5:return y=d.sent(),r?[3,7]:[4,this._store.dispatch(this._paymentActionCreator.submitPayment(Object(Bt.merge)(e.payment,{paymentData:{threeDSecure:y}})))];case 6:return[2,d.sent()];case 7:return[4,r.submit(Object(Bt.merge)(e.payment,{paymentData:{threeDSecure:y}}))];case 8:return d.sent(),[2,this._store.getState()];case 9:return[2]}}))}))},t.prototype._getClientToken=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){return Object(d.__generator)(this,(function(e){switch(e.label){case 0:return t.clientToken?[2,t.clientToken]:[4,this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(t.id))];case 1:return[2,(0,e.sent().paymentMethods.getPaymentMethodOrThrow)(t.id).clientToken||""]}}))}))},t.prototype._getOrderData=function(){var t=this._store.getState(),e=t.billingAddress.getBillingAddressOrThrow(),n=t.shippingAddress.getShippingAddress(),r=t.checkout.getCheckoutOrThrow(),i=t.order.getOrderOrThrow();return{billingAddress:e,shippingAddress:n,currencyCode:r.cart.currency.code,id:i.orderId.toString(),amount:r.cart.cartAmount}},t}();!function(t){t.StartCheckout="startCheckout",t.CompleteCheckout="completeCheckout",t.CancelCheckout="cancelCheckout"}(Fn||(Fn={}));var Bn,Gn,Vn=function(){function t(t,e,n,r,i,o,a,s,c){this._store=t,this._checkoutActionCreator=e,this._orderActionCreator=n,this._paymentActionCreator=r,this._paymentMethodActionCreator=i,this._paymentStrategyActionCreator=o,this._requestSender=a,this._chasePayScriptLoader=s,this._wepayRiskClient=c,this._walletEvent$=new b.Subject}return t.prototype.initialize=function(t){var e=this;if(this._methodId=t.methodId,!t.chasepay)throw new It.a('Unable to initialize payment because "options.chasepay" argument is not provided.');var n=t.chasepay.walletButton&&document.getElementById(t.chasepay.walletButton);return n&&(this._walletButton=n,this._walletButton.addEventListener("click",this._handleWalletButtonClick)),this._configureWallet(t.chasepay).then((function(){return e._store.getState()}))},t.prototype.deinitialize=function(){return this._walletButton&&this._walletButton.removeEventListener("click",this._handleWalletButtonClick),this._walletButton=void 0,this._chasePayClient=void 0,Promise.resolve(this._store.getState())},t.prototype.execute=function(t,e){var n=this;return this._getPayment().catch((function(t){if(t.subtype===v.a.MissingPayment)return n._displayWallet().then((function(){return n._getPayment()}));throw t})).then((function(r){return n._createOrder(r,t.useStoreCredit,e)}))},t.prototype.finalize=function(){return Promise.reject(new Kt)},t.prototype._configureWallet=function(t){var e=this,n=this._store.getState(),r=n.paymentMethods.getPaymentMethod(this._methodId),i=n.config.getStoreConfig();if(!r)throw new v.b(v.a.MissingPaymentMethod);if(!i)throw new v.b(v.a.MissingCheckoutConfig);return this._chasePayScriptLoader.load(r.config.testMode).then((function(n){var r=n.ChasePay;e._chasePayClient=r,t.logoContainer&&document.getElementById(t.logoContainer)&&e._chasePayClient.insertBrandings({color:"white",containers:[t.logoContainer]}),e._chasePayClient.configure({language:i.storeProfile.storeLanguage}),e._chasePayClient.on(Fn.CancelCheckout,(function(){e._walletEvent$.next({type:Fn.CancelCheckout}),t.onCancel&&t.onCancel()})),e._chasePayClient.on(Fn.CompleteCheckout,(function(n){e._setSessionToken(n.sessionToken).then((function(){e._walletEvent$.next({type:Fn.CompleteCheckout}),t.onPaymentSelect&&t.onPaymentSelect()}))}))}))},t.prototype._displayWallet=function(){var t=this;return this._store.dispatch(this._paymentStrategyActionCreator.widgetInteraction((function(){return t._store.dispatch(t._paymentMethodActionCreator.loadPaymentMethod(t._methodId)).then((function(e){var n=e.paymentMethods.getPaymentMethod(t._methodId);if(!t._chasePayClient)throw new bt.b(bt.a.PaymentNotInitialized);if(!n)throw new v.b(v.a.MissingPaymentMethod);t._chasePayClient.showLoadingAnimation(),t._chasePayClient.startCheckout(n.initializationData.digitalSessionId)})),new Promise((function(e,n){t._walletEvent$.pipe(Object(M.take)(1)).subscribe((function(t){t.type===Fn.CancelCheckout?n(new Ue):t.type===Fn.CompleteCheckout&&e()}))}))}),{methodId:this._methodId}),{queueId:"widgetInteraction"})},t.prototype._setSessionToken=function(t){var e=this,n=this._store.getState().paymentMethods.getPaymentMethod(this._methodId),r=n&&n.initializationData.merchantRequestId;return this._requestSender.post("checkout.php",{headers:{Accept:"text/html","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:{action:"set_external_checkout",provider:this._methodId,sessionToken:t,merchantRequestId:r}}).then((function(){return Promise.all([e._store.dispatch(e._checkoutActionCreator.loadCurrentCheckout()),e._store.dispatch(e._paymentMethodActionCreator.loadPaymentMethod(e._methodId))])})).then((function(){return e._store.getState()}))},t.prototype._getPayment=function(){var t=this;return this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(this._methodId)).then((function(){return"wepay"===t._methodId?t._wepayRiskClient.initialize().then((function(t){return t.getRiskToken()})):""})).then((function(e){var n=t._store.getState().paymentMethods.getPaymentMethod(t._methodId);if(!n)throw new v.b(v.a.MissingPaymentMethod);if(!n.initializationData.paymentCryptogram)throw new v.b(v.a.MissingPayment);var r={method:t._methodId,cryptogramId:n.initializationData.paymentCryptogram,eci:n.initializationData.eci,transactionId:btoa(n.initializationData.reqTokenId),ccExpiry:{month:n.initializationData.expDate.toString().substr(0,2),year:n.initializationData.expDate.toString().substr(2,2)},ccNumber:n.initializationData.accountNum,accountMask:n.initializationData.accountMask,extraData:e?{riskToken:e}:void 0};return{methodId:t._methodId,paymentData:r}}))},t.prototype._createOrder=function(t,e,n){var r=this;return this._store.dispatch(this._orderActionCreator.submitOrder({useStoreCredit:e},n)).then((function(){return r._store.dispatch(r._paymentActionCreator.submitPayment(t))}))},t.prototype._handleWalletButtonClick=function(t){t.preventDefault(),this._displayWallet()},Object(d.__decorate)([Dt.a],t.prototype,"_handleWalletButtonClick",null),t}(),Yn=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,r,i)||this;return a._formPoster=o,a}return Object(d.__extends)(e,t),e.prototype.execute=function(e,n){var r=this;return t.prototype.execute.call(this,e,n).catch((function(t){return t instanceof Fe.a&&Object(Bt.some)(t.body.errors,{code:"three_d_secure_required"})?new Promise((function(){r._formPoster.postForm(t.body.three_ds_result.acs_url,{PaReq:t.body.three_ds_result.payer_auth_request,TermUrl:t.body.three_ds_result.callback_url,MD:t.body.three_ds_result.merchant_data})})):Promise.reject(t)}))},e.prototype.finalize=function(t){var e=this._store.getState(),n=e.order.getOrder();return n&&e.payment.getPaymentStatus()===ln.b?this._store.dispatch(this._orderActionCreator.finalizeOrder(n.orderId,t)):Promise.reject(new Kt)},e}(pn),Hn=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,r,i)||this;return a._store=e,a._orderActionCreator=n,a._paymentActionCreator=r,a._hostedFormFactory=i,a._formPoster=o,a}return Object(d.__extends)(e,t),e.prototype.finalize=function(t){var e=this._store.getState(),n=e.order.getOrder();return n&&e.payment.getPaymentStatus()===ln.b?this._store.dispatch(this._orderActionCreator.finalizeOrder(n.orderId,t)):Promise.reject(new Kt)},e.prototype._executeWithoutHostedForm=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a=this;return Object(d.__generator)(this,(function(s){switch(s.label){case 0:if(n=t.payment,r=Object(d.__rest)(t,["payment"]),i=n&&n.paymentData,!n||!i)throw new qe(["payment.paymentData"]);return[4,this._store.dispatch(this._orderActionCreator.submitOrder(r,e))];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this._store.dispatch(this._paymentActionCreator.submitPayment(Object(d.__assign)(Object(d.__assign)({},n),{paymentData:i})))];case 3:return[2,s.sent()];case 4:return(o=s.sent())instanceof Fe.a&&Object(Bt.some)(o.body.errors,{code:"three_d_secure_required"})?[2,new Promise((function(){return a._formPoster.postForm(o.body.three_ds_result.acs_url,{PaReq:o.body.three_ds_result.payer_auth_request||null,TermUrl:o.body.three_ds_result.callback_url||null,MD:o.body.three_ds_result.merchant_data||null})}))]:[2,Promise.reject(o)];case 5:return[2]}}))}))},e.prototype._executeWithHostedForm=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a=this;return Object(d.__generator)(this,(function(s){switch(s.label){case 0:if(n=t.payment,r=Object(d.__rest)(t,["payment"]),!(i=this._hostedForm))throw new bt.b(bt.a.PaymentNotInitialized);if(!n||!n.methodId)throw new qe(["payment.methodId"]);s.label=1;case 1:return s.trys.push([1,5,,6]),[4,i.validate()];case 2:return s.sent(),[4,this._store.dispatch(this._orderActionCreator.submitOrder(r,e))];case 3:return s.sent(),[4,i.submit(n)];case 4:return s.sent(),[3,6];case 5:return(o=s.sent())instanceof Fe.a&&Object(Bt.some)(o.body.errors,{code:"three_d_secure_required"})?[2,new Promise((function(){return a._formPoster.postForm(o.body.three_ds_result.acs_url,{PaReq:o.body.three_ds_result.payer_auth_request||null,TermUrl:o.body.three_ds_result.callback_url||null,MD:o.body.three_ds_result.merchant_data||null})}))]:[2,Promise.reject(o)];case 6:return[4,this._store.dispatch(this._orderActionCreator.loadCurrentOrder())];case 7:return[2,s.sent()]}}))}))},e}(pn),Wn=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,r,i)||this;return a._threeDSecureFlow=o,a}return Object(d.__extends)(e,t),e.prototype.initialize=function(e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(d.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this._store.getState().paymentMethods.getPaymentMethodOrThrow,(r=n(e.methodId)).config.is3dsEnabled?[4,this._threeDSecureFlow.prepare(r)]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2,this._store.getState()]}}))}))},e.prototype.execute=function(e,n){return Object(d.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return Object(d.__generator)(this,(function(a){return r=e.payment,i=(void 0===r?{}:r).methodId,o=void 0===i?"":i,(0,this._store.getState().paymentMethods.getPaymentMethodOrThrow)(o).config.is3dsEnabled?[2,this._threeDSecureFlow.start(t.prototype.execute.bind(this),e,n,this._hostedForm)]:[2,t.prototype.execute.call(this,e,n)]}))}))},e}(pn),Kn=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,r,i)||this;return a._threeDSecureFlow=o,a}return Object(d.__extends)(e,t),e.prototype.initialize=function(e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(d.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this._store.getState().paymentMethods.getPaymentMethodOrThrow,(r=n(e.methodId)).config.is3dsEnabled?[4,this._threeDSecureFlow.prepare(r)]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2,this._store.getState()]}}))}))},e.prototype.execute=function(e,n){return Object(d.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return Object(d.__generator)(this,(function(a){return r=e.payment,i=(void 0===r?{}:r).methodId,o=void 0===i?"":i,(0,this._store.getState().paymentMethods.getPaymentMethodOrThrow)(o).config.is3dsEnabled?[2,this._threeDSecureFlow.start(t.prototype.execute.bind(this),e,n,this._hostedForm)]:[2,t.prototype.execute.call(this,e,n)]}))}))},e}(pn),Jn=function(){function t(t,e,n,r){this._store=t,this._orderActionCreator=e,this._paymentActionCreator=n,this._formPoster=r}return t.prototype.execute=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a=this;return Object(d.__generator)(this,(function(s){switch(s.label){case 0:if(n=t.payment,r=Object(d.__rest)(t,["payment"]),i=n&&n.paymentData,!n||!i)throw new qe(["payment.paymentData"]);return[4,this._store.dispatch(this._orderActionCreator.submitOrder(r,e))];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this._store.dispatch(this._paymentActionCreator.submitPayment(Object(d.__assign)(Object(d.__assign)({},n),{paymentData:i})))];case 3:return[2,s.sent()];case 4:return o=s.sent(),this._isAdditionalActionRequired(o)?[2,new Promise((function(){a._formPoster.postForm(o.body.additional_action_required.data.redirect_url,{})}))]:[2,Promise.reject(o)];case 5:return[2]}}))}))},t.prototype.finalize=function(){return Promise.reject(new Kt)},t.prototype.initialize=function(){return Promise.resolve(this._store.getState())},t.prototype.deinitialize=function(){return Promise.resolve(this._store.getState())},t.prototype._isAdditionalActionRequired=function(t){var e=t.body,n=e.additional_action_required;return"additional_action_required"===e.status&&n&&"offsite_redirect"===n.type},t}(),Zn=function(){function t(t,e,n,r,i,o,a,s){this._store=t,this._checkoutActionCreator=e,this._paymentMethodActionCreator=n,this._paymentStrategyActionCreator=r,this._paymentActionCreator=i,this._orderActionCreator=o,this._googlePayPaymentProcessor=a,this._googlePayAdyenV2PaymentProcessor=s}return t.prototype.initialize=function(t){var e=this;return this._methodId=t.methodId,this._googlePayPaymentProcessor.initialize(this._methodId).then((function(){if(e._googlePayOptions=e._getGooglePayOptions(t),!e._googlePayOptions)throw new It.a('Unable to initialize payment because "options.googlepay" argument is not provided.');var n=e._googlePayOptions.walletButton&&document.getElementById(e._googlePayOptions.walletButton);return n&&(e._walletButton=n,e._walletButton.addEventListener("click",e._handleWalletButtonClick)),e._store.getState()}))},t.prototype.deinitialize=function(){var t=this;return this._walletButton&&this._walletButton.removeEventListener("click",this._handleWalletButtonClick),this._walletButton=void 0,this._googlePayPaymentProcessor.deinitialize().then((function(){return t._store.getState()}))},t.prototype.execute=function(t,e){var n=this;if(!this._googlePayOptions)throw new It.a('Unable to initialize payment because "options.googlepay" argument is not provided.');var r=this._googlePayOptions,i=r.onError,o=void 0===i?function(){}:i,a=r.onPaymentSelect,s=void 0===a?function(){}:a;return Promise.resolve(this._getPayment()).then((function(t){return t.paymentData.nonce&&t.paymentData.cardInformation?t:n._googlePayPaymentProcessor.displayWallet().then((function(t){return n._paymentInstrumentSelected(t)})).then((function(){return s()})).then((function(){return n._getPayment()})).catch((function(t){"CANCELED"!==t.statusCode&&o(t)}))})).then((function(){return n._store.dispatch(n._orderActionCreator.submitOrder({useStoreCredit:t.useStoreCredit},e)).then((function(){return n._store.dispatch(n._paymentActionCreator.submitPayment(n._getPayment()))})).catch((function(t){var e;return(null===(e=n._googlePayAdyenV2PaymentProcessor)||void 0===e?void 0:e.processAdditionalAction(t))||Promise.reject(t)}))}))},t.prototype.finalize=function(){return Promise.reject(new Kt)},t.prototype._getGooglePayOptions=function(t){if("googlepayadyenv2"===t.methodId&&t.googlepayadyenv2){if(!this._googlePayAdyenV2PaymentProcessor)throw new bt.b(bt.a.PaymentNotInitialized);return this._googlePayAdyenV2PaymentProcessor.initialize(t),t.googlepayadyenv2}if("googlepayauthorizenet"===t.methodId&&t.googlepayauthorizenet)return t.googlepayauthorizenet;if("googlepaycheckoutcom"===t.methodId&&t.googlepaycheckoutcom)return t.googlepaycheckoutcom;if("googlepaybraintree"===t.methodId&&t.googlepaybraintree)return t.googlepaybraintree;if("googlepaystripe"===t.methodId&&t.googlepaystripe)return t.googlepaystripe;throw new It.a},t.prototype._getPayment=function(){if(!this._methodId)throw new bt.b(bt.a.PaymentNotInitialized);var t,e=this._store.getState().paymentMethods.getPaymentMethod(this._methodId);if(!e)throw new v.b(v.a.MissingPaymentMethod);if(!e.initializationData.nonce)throw new v.b(v.a.MissingPayment);t="googlepayadyenv2"===this._methodId?JSON.stringify({type:ze.GooglePay,googlePayToken:e.initializationData.nonce,browser_info:Te()}):e.initializationData.nonce;var n={method:this._methodId,nonce:t,cardInformation:e.initializationData.card_information};return{methodId:this._methodId,paymentData:n}},t.prototype._handleWalletButtonClick=function(t){var e=this;if(t.preventDefault(),!this._methodId||!this._googlePayOptions)throw new bt.b(bt.a.PaymentNotInitialized);var n=this._googlePayOptions,r=n.onError,i=void 0===r?function(){}:r,o=n.onPaymentSelect,a=void 0===o?function(){}:o;return this._store.dispatch(this._paymentStrategyActionCreator.widgetInteraction((function(){return e._googlePayPaymentProcessor.displayWallet().then((function(t){return e._paymentInstrumentSelected(t)})).then((function(){return a()})).catch((function(t){"CANCELED"!==t.statusCode&&i(t)}))}),{methodId:this._methodId}),{queueId:"widgetInteraction"})},t.prototype._paymentInstrumentSelected=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){var e;return Object(d.__generator)(this,(function(n){switch(n.label){case 0:if(!this._methodId)throw new bt.b(bt.a.PaymentNotInitialized);return e=this._methodId,[4,this._googlePayPaymentProcessor.handleSuccess(t)];case 1:return n.sent(),[4,Promise.all([this._store.dispatch(this._checkoutActionCreator.loadCurrentCheckout()),this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(e))])];case 2:return[2,n.sent()]}}))}))},Object(d.__decorate)([Dt.a],t.prototype,"_handleWalletButtonClick",null),t}(),Qn=function(){function t(t,e,n){this._store=t,this._paymentActionCreator=e,this._scriptLoader=n}return t.prototype.initialize=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,o,a;return Object(d.__generator)(this,(function(s){switch(s.label){case 0:if(e=this._store.getState(),n=e.paymentMethods.getPaymentMethodOrThrow(t.methodId),!(r=e.config.getStoreConfig()))throw new v.b(v.a.MissingCheckoutConfig);return i={key:"",value:""},n.initializationData.originKey?(i.key="originKey",i.value=n.initializationData.originKey):(i.key="clientKey",i.value=n.initializationData.clientKey),o=this,[4,this._scriptLoader.load((a={environment:n.config.testMode?"TEST":" PRODUCTION",locale:r.storeProfile.storeLanguage},a[i.key]=i.value,a.paymentMethodsResponse=n.initializationData.paymentMethodsResponse,a))];case 1:return o._adyenClient=s.sent(),[2]}}))}))},t.prototype.processAdditionalAction=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(d.__generator)(this,(function(r){switch(r.label){case 0:return t instanceof Fe.a&&Object(Bt.some)(t.body.errors,{code:"additional_action_required"})?[4,this._handleAction(t.body.provider_data)]:[2,Promise.reject(t)];case 1:e=r.sent(),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,this._store.dispatch(this._paymentActionCreator.submitPayment(Object(d.__assign)(Object(d.__assign)({},e),{paymentData:Object(d.__assign)({},e.paymentData)})))];case 3:return[2,r.sent()];case 4:return n=r.sent(),[2,this.processAdditionalAction(n)];case 5:return[2]}}))}))},t.prototype._handleAction=function(t){var e=this;return new Promise((function(n,r){var i=JSON.parse(t.action);e._getAdyenClient().createFromAction(i,{onAdditionalDetails:function(t){var e={methodId:i.paymentMethodType,paymentData:{nonce:JSON.stringify(t.data)}};n(e)},size:"05",onError:function(t){return r(t)}}).mount("body"),r(new Ue)}))},t.prototype._getAdyenClient=function(){if(!this._adyenClient)throw new bt.b(bt.a.PaymentNotInitialized);return this._adyenClient},t}(),Xn=["AT","CH","DE","DK","ES","FI","GB","NL","NO","NZ","SE"],$n=["AU"],tr=function(){function t(t,e,n,r,i){this._store=t,this._orderActionCreator=e,this._paymentMethodActionCreator=n,this._remoteCheckoutActionCreator=r,this._klarnaScriptLoader=i}return t.prototype.initialize=function(t){var e=this;return this._klarnaScriptLoader.load().then((function(t){e._klarnaCredit=t})).then((function(){return e._unsubscribe=e._store.subscribe((function(n){n.paymentStrategies.isInitialized(t.methodId)&&e._loadWidget(t)}),(function(t){var e=t.checkout.getCheckout();return e&&e.outstandingBalance}),(function(t){var e=t.checkout.getCheckout();return e&&e.coupons})),e._loadWidget(t)})).then((function(){return e._store.getState()}))},t.prototype.deinitialize=function(){return this._unsubscribe&&this._unsubscribe(),Promise.resolve(this._store.getState())},t.prototype.execute=function(t,e){var n=this;if(!t.payment)throw new It.a('Unable to proceed because "payload.payment" argument is not provided.');var r=t.payment,i=(r.paymentData,Object(d.__rest)(r,["paymentData"]));return this._authorize().then((function(t){var e=t.authorization_token;return n._store.dispatch(n._remoteCheckoutActionCreator.initializePayment(i.methodId,{authorizationToken:e}))})).then((function(){return n._store.dispatch(n._orderActionCreator.submitOrder(Object(d.__assign)(Object(d.__assign)({},t),{payment:i,useStoreCredit:t.useStoreCredit}),e))}))},t.prototype.finalize=function(){return Promise.reject(new Kt)},t.prototype._loadWidget=function(t){var e=this;if(!t.klarna)throw new It.a('Unable to load widget because "options.klarna" argument is not provided.');var n=t.methodId,r=t.klarna,i=r.container,o=r.onLoad;return this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(n)).then((function(t){return new Promise((function(r){var a=t.paymentMethods.getPaymentMethod(n);if(!a)throw new v.b(v.a.MissingPaymentMethod);if(!e._klarnaCredit||!a.clientToken)throw new bt.b(bt.a.PaymentNotInitialized);e._klarnaCredit.init({client_token:a.clientToken}),e._klarnaCredit.load({container:i},(function(t){o&&o(t),r(t)}))}))}))},t.prototype._getUpdateSessionData=function(t,e){if(!Object(Bt.includes)(Object(d.__spreadArrays)(Xn,$n),t.countryCode))return{};var n={billing_address:this._mapToKlarnaAddress(t,t.email)};return e&&(n.shipping_address=this._mapToKlarnaAddress(e,t.email)),n},t.prototype._needsStateCode=function(t){return Object(Bt.includes)($n,t)},t.prototype._mapToKlarnaAddress=function(t,e){var n={street_address:t.address1,city:t.city,country:t.countryCode,given_name:t.firstName,family_name:t.lastName,postal_code:t.postalCode,region:this._needsStateCode(t.countryCode)?t.stateOrProvinceCode:t.stateOrProvince,email:e};return t.address2&&(n.street_address2=t.address2),t.phone&&(n.phone=t.phone),n},t.prototype._authorize=function(){var t=this;return new Promise((function(e,n){var r=t._store.getState().billingAddress.getBillingAddress(),i=t._store.getState().shippingAddress.getShippingAddress();if(!r)throw new v.b(v.a.MissingBillingAddress);if(!t._klarnaCredit)throw new bt.b(bt.a.PaymentNotInitialized);var o=t._getUpdateSessionData(r,i);t._klarnaCredit.authorize(o,(function(t){return t.approved?e(t):t.show_form?n(new Ue):void n(new He.a)}))}))},t}(),er=function(){function t(t){this._scriptLoader=t}return t.prototype.load=function(){return this._scriptLoader.loadScript("//credit.klarnacdn.net/lib/v1/api.js").then((function(){return window.Klarna.Credit}))},t}(),nr=function(){function t(t,e,n,r,i){this._store=t,this._orderActionCreator=e,this._paymentMethodActionCreator=n,this._remoteCheckoutActionCreator=r,this._klarnav2ScriptLoader=i}return t.prototype.initialize=function(t){var e=this;return this._klarnav2ScriptLoader.load().then((function(t){e._klarnaPayments=t})).then((function(){return e._unsubscribe=e._store.subscribe((function(n){n.paymentStrategies.isInitialized(t.methodId)&&e._loadPaymentsWidget(t)}),(function(t){var e=t.checkout.getCheckout();return e&&e.outstandingBalance}),(function(t){var e=t.checkout.getCheckout();return e&&e.coupons})),e._loadPaymentsWidget(t)})).then((function(){return e._store.getState()}))},t.prototype.deinitialize=function(){return this._unsubscribe&&this._unsubscribe(),Promise.resolve(this._store.getState())},t.prototype.execute=function(t,e){var n=this;if(!t.payment)throw new It.a('Unable to proceed because "payload.payment" argument is not provided.');var r=t.payment,i=(r.paymentData,Object(d.__rest)(r,["paymentData"])),o=i.gatewayId;if(!o)throw new It.a('Unable to proceed because "payload.payment.gatewayId" argument is not provided.');return this._authorize(i.methodId).then((function(t){var e=t.authorization_token;return n._store.dispatch(n._remoteCheckoutActionCreator.initializePayment(o,{authorizationToken:e}))})).then((function(){return n._store.dispatch(n._orderActionCreator.submitOrder(Object(d.__assign)(Object(d.__assign)({},t),{payment:i,useStoreCredit:t.useStoreCredit}),e))}))},t.prototype.finalize=function(){return Promise.reject(new Kt)},t.prototype._loadPaymentsWidget=function(t){var e=this;if(!t.klarnav2)throw new It.a('Unable to load widget because "options.klarnav2" argument is not provided.');var n=t.methodId,r=t.gatewayId,i=t.klarnav2,o=i.container,a=i.onLoad,s=this._store.getState();if(!r)throw new It.a('Unable to proceed because "payload.payment.gatewayId" argument is not provided.');return this._updateOrder(r).then((function(){return new Promise((function(t){var r=s.paymentMethods.getPaymentMethodOrThrow(n);if(!e._klarnaPayments||!r.clientToken)throw new bt.b(bt.a.PaymentNotInitialized);e._klarnaPayments.init({client_token:r.clientToken}),e._klarnaPayments.load({container:o,payment_method_category:r.id},(function(e){a&&a(e),t(e)}))}))}))},t.prototype._getUpdateSessionData=function(t,e){if(!Object(Bt.includes)(Object(d.__spreadArrays)(Xn,$n),t.countryCode))return{};var n={billing_address:this._mapToKlarnaAddress(t,t.email)};return e&&(n.shipping_address=this._mapToKlarnaAddress(e,t.email)),n},t.prototype._needsStateCode=function(t){return Object(Bt.includes)($n,t)},t.prototype._mapToKlarnaAddress=function(t,e){var n={street_address:t.address1,city:t.city,country:t.countryCode,given_name:t.firstName,family_name:t.lastName,postal_code:t.postalCode,region:this._needsStateCode(t.countryCode)?t.stateOrProvinceCode:t.stateOrProvince,email:e};return t.address2&&(n.street_address2=t.address2),t.phone&&(n.phone=t.phone),n},t.prototype._updateOrder=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){return Object(d.__generator)(this,(function(e){switch(e.label){case 0:return[4,this._paymentMethodActionCreator.loadPaymentMethod(t).toPromise()];case 1:return e.sent(),[2]}}))}))},t.prototype._authorize=function(t){var e=this;return new Promise((function(n,r){var i=e._store.getState().billingAddress.getBillingAddress(),o=e._store.getState().shippingAddress.getShippingAddress();if(!i)throw new v.b(v.a.MissingBillingAddress);var a=e._getUpdateSessionData(i,o);if(!e._klarnaPayments)throw new bt.b(bt.a.PaymentNotInitialized);e._klarnaPayments.authorize({payment_method_category:t},a,(function(t){return t.approved?n(t):t.show_form?r(new Ue):void r(new He.a)}))}))},t}(),rr=function(){function t(t){this._scriptLoader=t}return t.prototype.load=function(){return this._scriptLoader.loadScript("https://x.klarnacdn.net/kp/lib/v1/api.js").then((function(){return window.Klarna.Payments}))},t}(),ir=function(){function t(t,e){this._store=t,this._orderActionCreator=e}return t.prototype.execute=function(t,e){return this._store.dispatch(this._orderActionCreator.submitOrder(t,e))},t.prototype.finalize=function(){return Promise.reject(new Kt)},t.prototype.initialize=function(){return Promise.resolve(this._store.getState())},t.prototype.deinitialize=function(){return Promise.resolve(this._store.getState())},t}(),or=function(){function t(t,e,n,r){this._store=t,this._orderActionCreator=e,this._paymentActionCreator=n,this._masterpassScriptLoader=r}return t.prototype.initialize=function(t){var e=this,n=t.methodId;if(this._paymentMethod=this._store.getState().paymentMethods.getPaymentMethod(n),!this._paymentMethod)throw new v.b(v.a.MissingPaymentMethod);return this._masterpassScriptLoader.load(this._paymentMethod.config.testMode).then((function(n){if(e._masterpassClient=n,!t.masterpass)throw new It.a('Unable to initialize payment because "options.masterpass" argument is not provided.');var r=t.masterpass.walletButton&&document.getElementById(t.masterpass.walletButton);return r&&(e._walletButton=r,e._walletButton.addEventListener("click",e._handleWalletButtonClick)),e._store.getState()}))},t.prototype.deinitialize=function(){return this._paymentMethod=void 0,this._walletButton&&this._walletButton.removeEventListener("click",this._handleWalletButtonClick),this._walletButton=void 0,this._masterpassClient=void 0,Promise.resolve(this._store.getState())},t.prototype.execute=function(t,e){var n=this,r=t.payment,i={useStoreCredit:t.useStoreCredit};if(!r)throw new It.a('Unable to submit payment because "payload.payment" argument is not provided.');if(!this._paymentMethod||!this._paymentMethod.initializationData||!this._paymentMethod.initializationData.gateway)throw new v.b(v.a.MissingPaymentMethod);var o=this._paymentMethod.initializationData.paymentData;if(!o)throw new It.a('Unable to proceed because "paymentMethod.initializationData.paymentData" argument is not provided.');return this._store.dispatch(this._orderActionCreator.submitOrder(i,e)).then((function(){return n._store.dispatch(n._paymentActionCreator.submitPayment(Object(d.__assign)(Object(d.__assign)({},r),{paymentData:o})))}))},t.prototype.finalize=function(){return Promise.reject(new Kt)},t.prototype._createMasterpassPayload=function(){var t=this._store.getState(),e=t.checkout.getCheckout(),n=t.config.getStoreConfig();if(!e)throw new v.b(v.a.MissingCheckout);if(!n)throw new v.b(v.a.MissingCheckoutConfig);if(!this._paymentMethod||!this._paymentMethod.initializationData)throw new v.b(v.a.MissingPaymentMethod);return{checkoutId:this._paymentMethod.initializationData.checkoutId,allowedCardTypes:this._paymentMethod.initializationData.allowedCardTypes,amount:e.subtotal.toFixed(2),currency:n.currency.code,cartId:e.cart.id,suppressShippingAddress:!1,callbackUrl:Object(Lt.a)("checkout")}},t.prototype._handleWalletButtonClick=function(t){if(t.preventDefault(),this._masterpassClient){var e=this._createMasterpassPayload();this._masterpassClient.checkout(e)}},Object(d.__decorate)([Dt.a],t.prototype,"_handleWalletButtonClick",null),t}(),ar=function(){function t(t,e){this._store=t,this._orderActionCreator=e}return t.prototype.execute=function(t,e){return this._store.dispatch(this._orderActionCreator.submitOrder(Object(Bt.omit)(t,"payment"),e))},t.prototype.finalize=function(){return Promise.reject(new Kt)},t.prototype.initialize=function(){return Promise.resolve(this._store.getState())},t.prototype.deinitialize=function(){return Promise.resolve(this._store.getState())},t}(),sr=function(){function t(t,e){this._store=t,this._orderActionCreator=e}return t.prototype.execute=function(t,e){var n=this._orderActionCreator.submitOrder(Object(d.__assign)(Object(d.__assign)({},t),{payment:t.payment?{methodId:t.payment.methodId}:void 0}),e);return this._store.dispatch(n)},t.prototype.finalize=function(){return Promise.reject(new Kt)},t.prototype.initialize=function(){return Promise.resolve(this._store.getState())},t.prototype.deinitialize=function(){return Promise.resolve(this._store.getState())},t}(),cr=function(){function t(t,e,n){this._store=t,this._orderActionCreator=e,this._paymentActionCreator=n}return t.prototype.execute=function(t,e){var n=this,r=t.payment,i=Object(d.__rest)(t,["payment"]),o=this._shouldSubmitFullPayload(r)?t:i,a=r&&r.paymentData,s=a&&a.instrumentId||void 0,c=a&&a.shouldSaveInstrument||void 0,u=a&&a.shouldSetAsDefaultInstrument||void 0;if(!r)throw new qe(["payment"]);var p=r.methodId,h=r.gatewayId;return this._store.dispatch(this._orderActionCreator.submitOrder(o,e)).then((function(){return n._store.dispatch(n._paymentActionCreator.initializeOffsitePayment({methodId:p,gatewayId:h,instrumentId:s,shouldSaveInstrument:c,shouldSetAsDefaultInstrument:u}))}))},t.prototype.finalize=function(t){var e=this._store.getState(),n=e.order.getOrder(),r=e.payment.getPaymentStatus();return!n||r!==ln.a&&r!==ln.b?Promise.reject(new Kt):this._store.dispatch(this._orderActionCreator.finalizeOrder(n.orderId,t))},t.prototype.initialize=function(){return Promise.resolve(this._store.getState())},t.prototype.deinitialize=function(){return Promise.resolve(this._store.getState())},t.prototype._shouldSubmitFullPayload=function(t){return!!t&&("adyen"===t.gatewayId||"barclaycard"===t.gatewayId||"ccavenuemars"===t.methodId)},t}(),ur=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,r,i)||this;return a._threeDSecureFlow=o,a}return Object(d.__extends)(e,t),e.prototype.initialize=function(e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(d.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this._store.getState().paymentMethods.getPaymentMethodOrThrow,(r=n(e.methodId)).config.is3dsEnabled?[4,this._threeDSecureFlow.prepare(r)]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2,this._store.getState()]}}))}))},e.prototype.execute=function(e,n){var r=e.payment,i=(void 0===r?{}:r).methodId,o=void 0===i?"":i,a=this._store.getState(),s=a.payment.getPaymentStatus,c=a.paymentMethods.getPaymentMethodOrThrow;return s()===ln.a?this._store.dispatch(this._orderActionCreator.submitOrder(Object(d.__assign)(Object(d.__assign)({},e),{payment:{methodId:o}}),n)):c(o).config.is3dsEnabled?this._threeDSecureFlow.start(t.prototype.execute.bind(this),e,n,this._hostedForm):t.prototype.execute.call(this,e,n)},e}(pn),dr=function(){function t(t,e,n,r){void 0===r&&(r=window),this._store=t,this._orderActionCreator=e,this._scriptLoader=n,this._window=r,this._useRedirectFlow=!1}return t.prototype.initialize=function(t){var e=this,n=this._store.getState();return this._paymentMethod=n.paymentMethods.getPaymentMethod(t.methodId),this._useRedirectFlow=!0===(t.paypalexpress&&t.paypalexpress.useRedirectFlow),this._isInContextEnabled()?this._scriptLoader.loadPaypal().then((function(t){if(e._paypalSdk=t,!e._paymentMethod||!e._paymentMethod.config.merchantId)throw new v.b(v.a.MissingPaymentMethod);e._paypalSdk.checkout.setup(e._paymentMethod.config.merchantId,{button:"paypal-button",environment:e._paymentMethod.config.testMode?"sandbox":"production"})})).then((function(){return e._store.getState()})):Promise.resolve(this._store.getState())},t.prototype.deinitialize=function(){return this._isInContextEnabled()&&this._paypalSdk&&(this._paypalSdk.checkout.closeFlow(),this._paypalSdk=void 0),Promise.resolve(this._store.getState())},t.prototype.execute=function(t,e){var n=this,r=this._paypalSdk;if(this._isAcknowledgedOrFinalized())return this._store.dispatch(this._orderActionCreator.submitOrder(t,e));if(!this._isInContextEnabled()||this._useRedirectFlow)return this._store.dispatch(this._orderActionCreator.submitOrder(t,e)).then((function(t){var e=t.payment.getPaymentRedirectUrl();return e&&(n._window.top.location.href=e),new Promise((function(){}))}));if(!r)throw new bt.b(bt.a.PaymentNotInitialized);return r.checkout.initXO(),this._store.dispatch(this._orderActionCreator.submitOrder(t,e)).then((function(t){var e=t.payment.getPaymentRedirectUrl();return e&&r.checkout.startFlow(e),new Promise((function(){}))})).catch((function(t){return r.checkout.closeFlow(),Promise.reject(t)}))},t.prototype.finalize=function(t){var e=this._store.getState().order.getOrder();return e&&this._isAcknowledgedOrFinalized()?this._store.dispatch(this._orderActionCreator.finalizeOrder(e.orderId,t)):Promise.reject(new Kt)},t.prototype._isAcknowledgedOrFinalized=function(){var t=this._store.getState();return t.payment.getPaymentStatus()===ln.a||t.payment.getPaymentStatus()===ln.b},t.prototype._isInContextEnabled=function(){return!(!this._paymentMethod||!this._paymentMethod.config.merchantId)},t}(),pr=n(190),hr=function(){function t(t,e,n,r,i){this._store=t,this._paymentMethodActionCreator=e,this._paypalCommerceHostedForm=n,this._orderActionCreator=r,this._paymentActionCreator=i}return t.prototype.initialize=function(t){var e=t.methodId,n=t.paypalcommerce;return Object(d.__awaiter)(this,void 0,void 0,(function(){var t,r,i,o,a,s,c,u,p,h;return Object(d.__generator)(this,(function(d){switch(d.label){case 0:if(!n||!this._isPaypalCommerceOptionsPayments(n))throw new It.a('Unable to proceed because "options.paypalcommerce.form" argument is not provided.');return[4,this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(e))];case 1:if(t=d.sent(),r=t.paymentMethods.getPaymentMethodOrThrow,i=t.cart.getCartOrThrow,o=r(e),a=o.clientToken,s=o.initializationData,!a)throw new v.b(v.a.MissingPaymentMethod);return c=i(),u=c.id,p=c.currency.code,h=this._getOptionsScript(s,p,a),[4,this._paypalCommerceHostedForm.initialize(n.form,u,h)];case 2:return d.sent(),[2,this._store.getState()]}}))}))},t.prototype.execute=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(d.__generator)(this,(function(s){switch(s.label){case 0:if(n=t.payment,r=Object(d.__rest)(t,["payment"]),!n)throw new qe(["payment"]);return this._paypalCommerceHostedForm.validate(),[4,this._store.dispatch(this._orderActionCreator.submitOrder(r,e))];case 1:return i=s.sent().paymentMethods.getPaymentMethodOrThrow,[4,this._paypalCommerceHostedForm.submit(i(n.methodId).config.is3dsEnabled)];case 2:return o=s.sent().orderId,a={formattedPayload:{vault_payment_instrument:null,set_as_default_stored_instrument:null,device_info:null,paypal_account:{order_id:o}}},[2,this._store.dispatch(this._paymentActionCreator.submitPayment(Object(d.__assign)(Object(d.__assign)({},n),{paymentData:a})))]}}))}))},t.prototype.finalize=function(){return Promise.reject(new Kt)},t.prototype.deinitialize=function(){return this._paypalCommerceHostedForm.deinitialize(),Promise.resolve(this._store.getState())},t.prototype._isPaypalCommerceOptionsPayments=function(t){return!!t.form},t.prototype._getOptionsScript=function(t,e,n){var r=t.clientId,i=t.intent;return{"client-id":r,"merchant-id":t.merchantId,"data-client-token":n,components:["hosted-fields"],commit:!0,currency:e,intent:i}},t}(),lr=function(){function t(t,e){var n,r=this;this._options=t,this._styles=e,this._handleBlur=function(){var t;r._applyStyles(null===(t=r._styles)||void 0===t?void 0:t.default)},this._handleFocus=function(){var t;r._applyStyles(null===(t=r._styles)||void 0===t?void 0:t.focus)},this._input=document.createElement("input"),this._input.style.backgroundColor="transparent",this._input.style.border="0",this._input.style.display="block",this._input.style.height="100%",this._input.style.margin="0",this._input.style.outline="none",this._input.style.padding="0",this._input.style.width="100%",this._input.placeholder=this._options.placeholder||"",this._input.addEventListener("blur",this._handleBlur),this._input.addEventListener("focus",this._handleFocus),this._applyStyles(null===(n=this._styles)||void 0===n?void 0:n.default)}return t.prototype.getValue=function(){return this._input.value},t.prototype.attach=function(){var t=document.getElementById(this._options.containerId);if(!t)throw new It.a;t.appendChild(this._input)},t.prototype.detach=function(){var t;null===(t=this._input.parentNode)||void 0===t||t.removeChild(this._input)},t.prototype._applyStyles=function(t){var e=this;t&&Object.keys(t).forEach((function(n){e._input.style[n]=t[n]||""}))},t}();!function(t){t.CardCode="cardCode",t.CardCodeVerification="cardCodeVerification",t.CardExpiry="cardExpiry",t.CardName="cardName",t.CardNumber="cardNumber",t.CardNumberVerification="cardNumberVerification"}(Bn||(Bn={})),function(t){t[t.CreditCard=0]="CreditCard",t[t.StoredCardVerification=1]="StoredCardVerification"}(Gn||(Gn={}));var mr,fr,_r=function(){function t(t){var e=this;this._paypalCommercePaymentProcessor=t,this._handleBlur=function(t){var n,r;null===(r=null===(n=e._formOptions)||void 0===n?void 0:n.onBlur)||void 0===r||r.call(n,{fieldType:e._mapFieldType(t.emittedBy)})},this._handleFocus=function(t){var n,r;null===(r=null===(n=e._formOptions)||void 0===n?void 0:n.onFocus)||void 0===r||r.call(n,{fieldType:e._mapFieldType(t.emittedBy)})},this._handleCardTypeChange=function(t){var n,r,i;null===(r=null===(n=e._formOptions)||void 0===n?void 0:n.onCardTypeChange)||void 0===r||r.call(n,{cardType:null===(i=t.cards[0])||void 0===i?void 0:i.type})},this._handleInputSubmitRequest=function(t){var n,r;null===(r=null===(n=e._formOptions)||void 0===n?void 0:n.onEnter)||void 0===r||r.call(n,{fieldType:e._mapFieldType(t.emittedBy)})},this._handleValidityChange=function(t){var n,r;null===(r=null===(n=e._formOptions)||void 0===n?void 0:n.onValidate)||void 0===r||r.call(n,{isValid:Object.keys(t.fields).every((function(e){var n;return null===(n=t.fields[e])||void 0===n?void 0:n.isValid})),errors:e._mapValidationErrors(t.fields)})}}return t.prototype.initialize=function(t,e,n){return Object(d.__awaiter)(this,void 0,void 0,(function(){var r,i;return Object(d.__generator)(this,(function(o){switch(o.label){case 0:return[4,this._paypalCommercePaymentProcessor.initialize(n)];case 1:return o.sent(),this._formOptions=t,this._type=this._isPaypalCommerceFormFieldsMap(t.fields)?Gn.CreditCard:Gn.StoredCardVerification,r={fields:this._mapFieldOptions(t.fields),styles:t.styles&&this._mapStyleOptions(t.styles)},i={blur:this._handleBlur,focus:this._handleFocus,cardTypeChange:this._handleCardTypeChange,validityChange:this._handleValidityChange,inputSubmitRequest:this._handleInputSubmitRequest},[4,this._paypalCommercePaymentProcessor.renderHostedFields(e,r,i)];case 2:return o.sent(),this._isPaypalCommerceFormFieldsMap(t.fields)&&(this._cardNameField=new lr(t.fields.cardName,t.styles),this._cardNameField.attach()),[2]}}))}))},t.prototype.submit=function(t){var e;return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(d.__generator)(this,(function(i){switch(i.label){case 0:return this.validate(),n={cardholderName:null===(e=this._cardNameField)||void 0===e?void 0:e.getValue(),contingencies:t?["3D_SECURE"]:void 0},[4,this._paypalCommercePaymentProcessor.submitHostedFields(n)];case 1:if(r=i.sent(),t&&("NO"===r.liabilityShift||"UNKNOWN"===r.liabilityShift))throw new In.a("Failed authentication. Please try to authorize again.");return[2,r]}}))}))},t.prototype.validate=function(){var t,e,n=this._paypalCommercePaymentProcessor.getHostedFieldsValidationState(),r=n.isValid,i=n.fields;if(!r){var o=this._mapValidationErrors(i);throw null===(e=null===(t=this._formOptions)||void 0===t?void 0:t.onValidate)||void 0===e||e.call(t,{errors:o,isValid:!1}),new bn(o)}},t.prototype.deinitialize=function(){this._paypalCommercePaymentProcessor.deinitialize()},t.prototype._mapFieldOptions=function(t){return this._isPaypalCommerceFormFieldsMap(t)?Object(Bt.omitBy)({number:{selector:"#"+t.cardNumber.containerId,placeholder:t.cardNumber.placeholder},expirationDate:{selector:"#"+t.cardExpiry.containerId,placeholder:t.cardExpiry.placeholder},cvv:t.cardCode&&{selector:"#"+t.cardCode.containerId,placeholder:t.cardCode.placeholder}},Bt.isNil):Object(Bt.omitBy)({number:t.cardNumberVerification&&{selector:"#"+t.cardNumberVerification.containerId,placeholder:t.cardNumberVerification.placeholder},cvv:t.cardCodeVerification&&{selector:"#"+t.cardCodeVerification.containerId,placeholder:t.cardCodeVerification.placeholder}},Bt.isNil)},t.prototype._mapStyleOptions=function(t){var e=function(t){return void 0===t&&(t={}),Object.keys(t).reduce((function(e,n){var r;return t[n]?Object(d.__assign)(Object(d.__assign)({},e),((r={})[Object(Bt.kebabCase)(n)]=t[n],r)):e}),{})};return{input:e(t.default),".invalid":e(t.error),":focus":e(t.focus)}},t.prototype._isPaypalCommerceFormFieldsMap=function(t){return!!t.cardNumber},t.prototype._mapFieldType=function(t){switch(t){case"number":return this._type===Gn.StoredCardVerification?Bn.CardNumberVerification:Bn.CardNumber;case"expirationDate":return Bn.CardExpiry;case"cvv":return this._type===Gn.StoredCardVerification?Bn.CardCodeVerification:Bn.CardCode;default:throw new Error("Unexpected field type")}},t.prototype._mapValidationErrors=function(t){var e=this;return Object.keys(t).reduce((function(n,r){var i,o;return Object(d.__assign)(Object(d.__assign)({},n),((i={})[e._mapFieldType(r)]=(null===(o=t[r])||void 0===o?void 0:o.isValid)?void 0:[e._createInvalidError(e._mapFieldType(r))],i))}),{})},t.prototype._createInvalidError=function(t){switch(t){case Bn.CardCodeVerification:return{fieldType:t,message:"Invalid card code",type:"invalid_card_code"};case Bn.CardNumberVerification:return{fieldType:t,message:"Invalid card number",type:"invalid_card_number"};case Bn.CardCode:return{fieldType:t,message:"Invalid card code",type:"invalid_card_code"};case Bn.CardExpiry:return{fieldType:t,message:"Invalid card expiry",type:"invalid_card_expiry"};case Bn.CardNumber:return{fieldType:t,message:"Invalid card number",type:"invalid_card_number"};default:return{fieldType:t,message:"Invalid field",type:"invalid"}}},t}(),yr=n(197),gr=n(169),br=function(){function t(t,e,n,r,i,o,a,s){void 0===s&&(s=0),this._store=t,this._orderActionCreator=e,this._paymentActionCreator=n,this._paypalCommercePaymentProcessor=r,this._paypalCommerceFundingKeyResolver=i,this._paypalCommerceRequestSender=o,this._pollingInterval=a,this._pollingTimer=s}return t.prototype.initialize=function(t){var e=t.gatewayId,n=t.methodId,r=t.paypalcommerce;return Object(d.__awaiter)(this,void 0,void 0,(function(){var t,i,o,a,s,c,u,p,h,l,m,f,_,y,g,b,v=this;return Object(d.__generator)(this,(function(C){switch(C.label){case 0:if(t=this._store.getState(),i=t.paymentMethods.getPaymentMethodOrThrow,o=t.cart.getCartOrThrow,a=i(n,e).initializationData,c=(s=null!=a?a:{}).orderId,u=s.buttonStyle,c)return this._orderId=c,[2,this._store.getState()];if(!r)throw new It.a('Unable to initialize payment because "options.paypalcommerce" argument is not provided.');if(!this._isPaypalCommerceOptionsPayments(r))throw new It.a('Unable to initialize payment because "options.paypalcommerce" argument should contain "container", "onRenderButton", "submitForm".');return p=r.container,h=r.onRenderButton,l=r.submitForm,m=r.onValidate,f=o(),_=f.id,y=f.currency.code,g=this._getOptionsScript(a,y),b={style:u,onApprove:function(t){v._deinitializePollingTimer(e),v._tokenizePayment(t,l)},onClick:function(t,i){return Object(d.__awaiter)(v,void 0,void 0,(function(){return Object(d.__generator)(this,(function(t){return this._initializePollingMechanism(l,e,n,r),[2,m(i.resolve,i.reject)]}))}))},onCancel:function(){v._deinitializePollingTimer(e)}},[4,this._paypalCommercePaymentProcessor.initialize(g,void 0,e)];case 1:return C.sent(),this._paypalCommercePaymentProcessor.renderButtons(_,p,b,{onRenderButton:h,fundingKey:this._paypalCommerceFundingKeyResolver.resolve(n,e),paramsForProvider:{isCheckout:!0}}),[2,this._store.getState()]}}))}))},t.prototype.execute=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(d.__generator)(this,(function(o){switch(o.label){case 0:if(n=t.payment,r=Object(d.__rest)(t,["payment"]),!n)throw new qe(["payment"]);if(!this._orderId)throw new He.a;return i={formattedPayload:{vault_payment_instrument:null,set_as_default_stored_instrument:null,device_info:null,method_id:n.methodId,paypal_account:{order_id:this._orderId}}},[4,this._store.dispatch(this._orderActionCreator.submitOrder(r,e))];case 1:return o.sent(),[2,this._store.dispatch(this._paymentActionCreator.submitPayment(Object(d.__assign)(Object(d.__assign)({},n),{paymentData:i})))]}}))}))},t.prototype.finalize=function(){return Promise.reject(new Kt)},t.prototype.deinitialize=function(t){var e=t.gatewayId;return Object(d.__awaiter)(this,void 0,void 0,(function(){return Object(d.__generator)(this,(function(t){return this._deinitializePollingTimer(e),this._orderId=void 0,this._paypalCommercePaymentProcessor.deinitialize(),[2,Promise.resolve(this._store.getState())]}))}))},t.prototype._initializePollingMechanism=function(t,e,n,r){var i=this;e===Zt.a.PAYPAL_COMMERCE_ALTERNATIVE_METHODS&&(this._pollingInterval=window.setTimeout((function(){return Object(d.__awaiter)(i,void 0,void 0,(function(){var i,o,a;return Object(d.__generator)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),this._pollingTimer+=3e3,[4,this._paypalCommerceRequestSender.getOrderStatus()];case 1:if("APPROVED"===(i=s.sent().status))this._deinitializePollingTimer(e),this._tokenizePayment({orderID:this._paypalCommercePaymentProcessor.getOrderId()},t);else{if(!("CREATED"===i&&this._pollingTimer<6e5))throw this._reinitializeButtons({gatewayId:e,methodId:n,paypalcommerce:r}),new gr.a;this._initializePollingMechanism(t,e,n,r)}return[3,3];case 2:return o=s.sent(),this._deinitializePollingTimer(e),null===(a=r.onError)||void 0===a||a.call(r,o),[3,3];case 3:return[2]}}))}))}),3e3))},t.prototype._reinitializeButtons=function(t){var e=t.gatewayId,n=t.methodId,r=t.paypalcommerce;this.deinitialize({methodId:n,gatewayId:e}),this.initialize({gatewayId:e,methodId:n,paypalcommerce:r})},t.prototype._deinitializePollingTimer=function(t){t===Zt.a.PAYPAL_COMMERCE_ALTERNATIVE_METHODS&&(clearTimeout(this._pollingInterval),this._pollingTimer=0)},t.prototype._isPaypalCommerceOptionsPayments=function(t){return!!t.container},t.prototype._tokenizePayment=function(t,e){var n=t.orderID;this._orderId=n,e()},t.prototype._getOptionsScript=function(t,e){var n=t.clientId,r=t.intent,i=t.merchantId,o=t.buyerCountry,a={"client-id":n,"merchant-id":i,commit:!0,currency:e,intent:r};return t.isDeveloperModeApplicable?Object(d.__assign)(Object(d.__assign)({},a),{"buyer-country":o}):a},t}(),vr=function(){function t(){}return t.prototype.resolve=function(t,e){if(t===Zt.a.PAYPAL_COMMERCE)return"PAYPAL";if(t===Zt.a.PAYPAL_COMMERCE_CREDIT)return"PAYLATER";if(e===Zt.a.PAYPAL_COMMERCE_ALTERNATIVE_METHODS)switch(t){case"bancontact":return"BANCONTACT";case"giropay":return"GIROPAY";case"przelewy24":return"P24";case"eps":return"EPS";case"ideal":return"IDEAL";case"mybank":return"MYBANK";case"sofort":return"SOFORT";case"blik":return"BLIK"}throw new Error("Unable to resolve funding key")},t}(),Cr=n(191),Or=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,r,i)||this;return a._formPoster=o,a}return Object(d.__extends)(e,t),e.prototype.execute=function(e,n){var r=this;return t.prototype.execute.call(this,e,n).catch((function(t){return t instanceof Fe.a&&Object(Bt.some)(t.body.errors,{code:"three_d_secure_required"})?new Promise((function(){r._formPoster.postForm(t.body.three_ds_result.acs_url,{PaReq:t.body.three_ds_result.payer_auth_request,TermUrl:t.body.three_ds_result.callback_url,MD:t.body.three_ds_result.merchant_data},void 0,"_top")})):Promise.reject(t)}))},e.prototype.finalize=function(e){var n=this._store.getState(),r=n.order.getOrder();return r&&n.payment.getPaymentStatus()===ln.b?this._store.dispatch(this._orderActionCreator.finalizeOrder(r.orderId,e)):t.prototype.finalize.call(this,e)},e}(pn),Sr=function(t){function e(e){var n=t.call(this,e||"Unsupported browser error")||this;return n.name="UnsupportedBrowserError",n.type="unsupported_browser",n}return Object(d.__extends)(e,t),e}(ht.a);!function(t){t.americanExpress="AMERICAN_EXPRESS",t.discover="DISCOVER",t.discoverDiners="DISCOVER_DINERS",t.JCB="JCB",t.masterCard="MASTERCARD",t.unionPay="CHINA_UNIONPAY",t.unknown="OTHER_BRAND",t.visa="VISA",t.squareGift="SQUARE_GIFT_CARD"}(mr||(mr={})),function(t){t.applePay="APPLEPAY",t.masterpass="MASTERPASS",t.none="NONE"}(fr||(fr={}));var wr,Ir,Ar,Er=function(){function t(t,e,n,r,i,o,a,s){this._store=t,this._checkoutActionCreator=e,this._orderActionCreator=n,this._paymentActionCreator=r,this._paymentMethodActionCreator=i,this._paymentStrategyActionCreator=o,this._requestSender=a,this._scriptLoader=s}return t.prototype.initialize=function(t){var e=this,n=t.methodId;return this._syncPaymentMethod(n),this._scriptLoader.load().then((function(n){return new Promise((function(r,i){e._paymentForm=n(e._getFormOptions(t,{resolve:r,reject:i})),e._paymentForm.build()}))})).then((function(){return e._store.getState()}))},t.prototype.execute=function(t,e){var n=this,r=t.payment;if(!r||!r.methodId)throw new It.a('Unable to submit payment because "payload.payment.methodId" argument is not provided.');return this._syncPaymentMethod(r.methodId),this._getNonceInstrument(r.methodId).then((function(i){return n._store.dispatch(n._orderActionCreator.submitOrder(Object(Bt.omit)(t,"payment"),e)).then((function(){return n._store.dispatch(n._paymentActionCreator.submitPayment(Object(d.__assign)(Object(d.__assign)({},r),{paymentData:i})))}))}))},t.prototype.finalize=function(){return Promise.reject(new Kt)},t.prototype.deinitialize=function(){return Promise.resolve(this._store.getState())},t.prototype._syncPaymentMethod=function(t){var e=this._store.getState();if(this._paymentMethod=e.paymentMethods.getPaymentMethod(t),!this._paymentMethod||!this._paymentMethod.initializationData)throw new v.b(v.a.MissingPaymentMethod)},t.prototype._getCountryCode=function(t){switch(t.toUpperCase()){case"NEW ZELAND":return"NZ";case"AUSTRALIA":return"AU";default:return"US"}},t.prototype._getNonceInstrument=function(t){var e=this,n=this._store.getState().paymentMethods.getPaymentMethod(t);if(n){var r=n.initializationData;if(r&&r.paymentData.nonce)return Promise.resolve({nonce:n.initializationData.paymentData.nonce})}return new Promise((function(t,n){if(!e._paymentForm)throw new bt.b(bt.a.PaymentNotInitialized);e._deferredRequestNonce&&e._deferredRequestNonce.reject(new gr.a),e._deferredRequestNonce={resolve:t,reject:n},e._paymentForm.requestCardNonce()}))},t.prototype._getFormOptions=function(t,e){var n=this,r=t.square;if(!r||!this._paymentMethod)throw new It.a('Unable to proceed because "options.square" argument is not provided.');return this._squareOptions=r,Object(d.__assign)(Object(d.__assign)(Object(d.__assign)({},this._squareOptions),this._paymentMethod.initializationData),{callbacks:{cardNonceResponseReceived:function(t,e,r,i,o){r&&r.digital_wallet_type!==fr.none?n._handleWalletNonceResponse(t,e,r,i,o):n._handleCardNonceResponse(t,e)},createPaymentRequest:function(){return n._paymentRequestPayload()},methodsSupported:function(t){var e=r.masterpass;e&&n._showPaymentMethods(t,e)},paymentFormLoaded:function(){e.resolve(),n._setPostalCode()},unsupportedBrowserDetected:function(){return e.reject(new Sr)}}})},t.prototype._handleWalletNonceResponse=function(t,e,n,r,i){var o=this._squareOptions&&this._squareOptions.onError||b.noop,a=this._squareOptions&&this._squareOptions.onPaymentSelect||b.noop;t?o(t):e&&this._paymentMethod&&this._paymentInstrumentSelected(this._paymentMethod.id,e,n,r,i).then(a).catch(o)},t.prototype._handleCardNonceResponse=function(t,e){if(!this._deferredRequestNonce)throw new bt.b(bt.a.PaymentNotInitialized);!e||t?((this._squareOptions&&this._squareOptions.onError||b.noop)(t),this._deferredRequestNonce.reject(t)):this._deferredRequestNonce.resolve({nonce:e})},t.prototype._paymentInstrumentSelected=function(t,e,n,r,i){var o=this;return this._store.dispatch(this._paymentStrategyActionCreator.widgetInteraction((function(){return o._setExternalCheckoutData(e,n,r,i).then((function(){return Promise.all([o._store.dispatch(o._checkoutActionCreator.loadCurrentCheckout()),o._store.dispatch(o._paymentMethodActionCreator.loadPaymentMethod(t))])}))}),{methodId:t}),{queueId:"widgetInteraction"})},t.prototype._paymentRequestPayload=function(){var t=this._store.getState(),e=t.checkout.getCheckout(),n=t.config.getStoreConfig();if(!e)throw new v.b(v.a.MissingCheckout);if(!n)throw new v.b(v.a.MissingCheckoutConfig);return{requestShippingAddress:!0,requestBillingInfo:!0,currencyCode:n.currency.code,countryCode:this._getCountryCode(n.storeProfile.storeCountry),total:{label:n.storeProfile.storeName,amount:String(e.subtotal),pending:!1}}},t.prototype._setExternalCheckoutData=function(t,e,n,r){return this._requestSender.post("/checkout.php",{headers:{Accept:"text/html","Content-Type":"application/x-www-form-urlencoded"},body:{nonce:t,provider:"squarev2",action:"set_external_checkout",cardData:JSON.stringify(e),billingContact:JSON.stringify(n),shippingContact:JSON.stringify(r)}})},t.prototype._setPostalCode=function(){var t=this._store.getState().billingAddress.getBillingAddress();if(!this._paymentForm)throw new bt.b(bt.a.PaymentNotInitialized);t&&t.postalCode&&this._paymentForm.setPostalCode(t.postalCode)},t.prototype._showPaymentMethods=function(t,e){var n=document.getElementById(e.elementId);n&&t.masterpass&&(n.style.display="inline-block")},t}(),Pr=function(){function t(t){this._scriptLoader=t}return t.prototype.load=function(){return this._scriptLoader.loadScript("//js.squareup.com/v2/paymentform").then((function(){return function(t){return new window.SqPaymentForm(t)}}))},t}(),jr=n(108);function kr(t){return Boolean(t.cardNumberElementOptions)&&Boolean(t.cardCvcElementOptions)&&Boolean(t.cardExpiryElementOptions)}!function(t){t.Solid="solid",t.Default="default"}(wr||(wr={})),function(t){t.Alipay="alipay",t.CardCvc="cardCvc",t.CardExpiry="cardExpiry",t.CardNumber="cardNumber",t.CreditCard="card",t.iDEAL="idealBank",t.Sepa="iban"}(Ir||(Ir={})),function(t){t.Alipay="alipay",t.CreditCard="card",t.iDEAL="ideal",t.Sepa="sepa_debit"}(Ar||(Ar={}));var Mr=function(){function t(t,e,n,r,i,o,a){this._store=t,this._paymentMethodActionCreator=e,this._paymentActionCreator=n,this._orderActionCreator=r,this._stripeScriptLoader=i,this._storeCreditActionCreator=o,this._locale=a}return t.prototype.initialize=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,o,a,s;return Object(d.__generator)(this,(function(c){switch(c.label){case 0:return this._initializeOptions=t,e=this._store.getState().paymentMethods.getPaymentMethodOrThrow(this._getInitializeOptions().methodId),n=e.initializationData,r=n.stripePublishableKey,i=n.stripeConnectedAccount,o=n.useIndividualCardFields,this._useIndividualCardFields=o,a=this,[4,this._loadStripeJs(r,i)];case 1:return a._stripeV3Client=c.sent(),s=this,[4,this._mountElement(this._getInitializeOptions().methodId)];case 2:return s._stripeElement=c.sent(),[2,Promise.resolve(this._store.getState())]}}))}))},t.prototype.execute=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,c,u,p,h,l,m,f,_,y,g,b,C;return Object(d.__generator)(this,(function(O){switch(O.label){case 0:if(n=t.payment,r=Object(d.__rest)(t,["payment"]),!n||!n.paymentData)throw new qe(["payment.paymentData"]);return a=n.paymentData,s=n.gatewayId,c=n.methodId,p=(u=a).shouldSaveInstrument,h=void 0!==p&&p,l=u.shouldSetAsDefaultInstrument,m=void 0!==l&&l,[4,this._store.dispatch(this._orderActionCreator.submitOrder(r,e))];case 1:return O.sent(),(f=this._store.getState().checkout.getCheckoutOrThrow().isStoreCreditApplied)?[4,this._store.dispatch(this._storeCreditActionCreator.applyStoreCredit(f))]:[3,3];case 2:O.sent(),O.label=3;case 3:if(!Object(ge.a)(a))return[3,9];O.label=4;case 4:return O.trys.push([4,6,,8]),[4,this._store.dispatch(this._paymentActionCreator.submitPayment(Object(d.__assign)(Object(d.__assign)({},n),{paymentData:a})))];case 5:return[2,O.sent()];case 6:return _=O.sent(),_ instanceof Fe.a&&Object(Bt.some)(_.body.errors,{code:"three_d_secure_required"})?(y=_.body.three_ds_result.token,[4,this._confirmVaultedPayment(y)]):[2,Promise.reject(_)];case 7:if(!(i=O.sent()).id)throw new v.b(v.a.MissingPaymentToken);return o={methodId:c,paymentData:{nonce:i.id}},[3,8];case 8:return[3,12];case 9:return[4,this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(s+"?method="+c))];case 10:return g=O.sent(),b=g.paymentMethods.getPaymentMethodOrThrow(c),[4,this._confirmStripePayment(b,h)];case 11:if(!(i=O.sent()).id)throw new v.b(v.a.MissingPaymentToken);o={methodId:c,paymentData:Object(d.__assign)(Object(d.__assign)({},a),{nonce:i.id,shouldSaveInstrument:h,shouldSetAsDefaultInstrument:m})},O.label=12;case 12:return O.trys.push([12,14,,16]),[4,this._store.dispatch(this._paymentActionCreator.submitPayment(o))];case 13:return[2,O.sent()];case 14:return C=O.sent(),[4,this._processAdditionalAction(C)];case 15:return[2,O.sent()];case 16:return[2]}}))}))},t.prototype.finalize=function(){return Promise.reject(new Kt)},t.prototype.deinitialize=function(){return this._unmountElement(),Promise.resolve(this._store.getState())},t.prototype._processAdditionalAction=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){var e;return Object(d.__generator)(this,(function(n){return Object(Bt.some)(t.body.errors,{code:"additional_action_required"})&&(e=t.body.additional_action_required)&&"redirect_to_url"===e.type?[2,new Promise((function(){window.location.replace(e.data.redirect_url)}))]:[2,Promise.reject(t)]}))}))},t.prototype._confirmStripePayment=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s=this;return Object(d.__generator)(this,(function(c){if(n=t.clientToken,r=t.returnUrl,!n)throw new v.b(v.a.MissingPaymentMethod);return[2,new Promise((function(c,u){return Object(d.__awaiter)(s,void 0,void 0,(function(){var s,p,h,l;return Object(d.__generator)(this,(function(d){switch(d.label){case 0:switch(t.method){case Ir.Alipay:return[3,1];case Ir.CreditCard:return[3,3];case Ir.iDEAL:return[3,5];case Ir.Sepa:return[3,7]}return[3,9];case 1:return[4,this._getStripeJs().confirmAlipayPayment(n,{return_url:r},{handleActions:!1})];case 2:return s=d.sent(),o=s.error,a=s.paymentIntent,[3,9];case 3:return i=this._mapStripePaymentData(Ar.CreditCard,e),[4,this._getStripeJs().confirmCardPayment(n,i)];case 4:return p=d.sent(),o=p.error,a=p.paymentIntent,[3,9];case 5:return i=this._mapStripePaymentData(Ar.iDEAL,r),[4,this._getStripeJs().confirmIdealPayment(n,i,{handleActions:!1})];case 6:return h=d.sent(),o=h.error,a=h.paymentIntent,[3,9];case 7:return i=this._mapStripePaymentData(Ar.Sepa),[4,this._getStripeJs().confirmSepaDebitPayment(n,i)];case 8:return l=d.sent(),o=l.error,a=l.paymentIntent,[3,9];case 9:return o&&u(o),c(a),[2]}}))}))}))]}))}))},t.prototype._confirmVaultedPayment=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){var e=this;return Object(d.__generator)(this,(function(n){return[2,new Promise((function(n,r){return Object(d.__awaiter)(e,void 0,void 0,(function(){var e,i,o;return Object(d.__generator)(this,(function(a){switch(a.label){case 0:return[4,this._getStripeJs().confirmCardPayment(t)];case 1:return e=a.sent(),i=e.error,o=e.paymentIntent,i&&r(i),n(o),[2]}}))}))}))]}))}))},t.prototype._getInitializeOptions=function(){if(!this._initializeOptions)throw new bt.b(bt.a.PaymentNotInitialized);return this._initializeOptions},t.prototype._getStripeInitializeOptions=function(){var t=this._getInitializeOptions().stripev3;if(!t)throw new It.a('Unable to initialize payment because "options.stripev3" argument is not provided.');return t},t.prototype._getStripeElement=function(){if(!this._stripeElement)throw new bt.b(bt.a.PaymentNotInitialized);return this._stripeElement},t.prototype._getStripeCardElements=function(){if(!this._stripeCardElements)throw new bt.b(bt.a.PaymentNotInitialized);return this._stripeCardElements},t.prototype._getStripeJs=function(){if(!this._stripeV3Client)throw new bt.b(bt.a.PaymentNotInitialized);return this._stripeV3Client},t.prototype._loadStripeJs=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){return Object(d.__generator)(this,(function(n){switch(n.label){case 0:return this._stripeV3Client?[2,Promise.resolve(this._stripeV3Client)]:[4,this._stripeScriptLoader.load(t,e,this._locale)];case 1:return[2,n.sent()]}}))}))},t.prototype._mountElement=function(t){var e,n=this,r=t,i=this._getStripeInitializeOptions(),o=i.options,a=i.containerId;return new Promise((function(t,i){switch(n._stripeElements||(n._stripeElements=n._getStripeJs().elements()),r){case Ir.CreditCard:if(n._useIndividualCardFields&&kr(o)){var s=o.cardNumberElementOptions,c=o.cardExpiryElementOptions,u=o.cardCvcElementOptions,d=n._stripeElements.getElement(Ir.CardNumber)||n._stripeElements.create(Ir.CardNumber,s),p=n._stripeElements.getElement(Ir.CardExpiry)||n._stripeElements.create(Ir.CardExpiry,c),h=n._stripeElements.getElement(Ir.CardCvc)||n._stripeElements.create(Ir.CardCvc,u);n._stripeCardElements=[d,p,h],e=n._stripeCardElements[0];try{d.mount("#"+s.containerId),p.mount("#"+c.containerId),h.mount("#"+u.containerId)}catch(t){i(new It.a("Unable to mount Stripe component without valid container ID."))}}else{e=n._stripeElements.getElement(r)||n._stripeElements.create(r,o);try{e.mount("#"+a)}catch(t){i(new It.a("Unable to mount Stripe component without valid container ID."))}}break;case Ir.iDEAL:case Ir.Sepa:e=n._stripeElements.getElement(r)||n._stripeElements.create(r,o);try{e.mount("#"+a)}catch(t){i(new It.a("Unable to mount Stripe component without valid container ID."))}break;case Ir.Alipay:}t(e)}))},t.prototype._mapStripeAddress=function(t){return t?{city:t.city,country:t.countryCode,line1:t.address1,line2:t.address2,postal_code:t.postalCode,state:t.stateOrProvinceCode}:{line1:""}},t.prototype._mapStripeBillingDetails=function(t,e){var n=t||e||{firstName:"Guest",lastName:""},r=(n.firstName+" "+n.lastName).trim(),i=this._getStripeInitializeOptions().options;if(this._useIndividualCardFields&&kr(i)){var o=i.zipCodeElementOptions;if(o){var a=document.getElementById(o.containerId)?document.getElementById(o.containerId).value:"";a&&t&&(t=Object(d.__assign)(Object(d.__assign)({},t),{postalCode:a}))}}var s={address:this._mapStripeAddress(t)};if(e&&e.addresses[0]&&Object(jr.a)(e.addresses[0])){var c=e.addresses[0],u=e.email;return(p=c.phone)?Object(d.__assign)(Object(d.__assign)({},s),{email:u,name:r,phone:p}):Object(d.__assign)(Object(d.__assign)({},s),{email:u,name:r})}if(t){var p;u=t.email;return(p=t.phone)?Object(d.__assign)(Object(d.__assign)({},s),{email:u,name:r,phone:p}):Object(d.__assign)(Object(d.__assign)({},s),{email:u,name:r})}return Object(d.__assign)(Object(d.__assign)({},s),{name:r})},t.prototype._mapStripePaymentData=function(t,e){var n,r,i=this._store.getState().customer.getCustomer(),o=this._store.getState().billingAddress.getBillingAddress();switch(r={payment_method:(n={},n[t]=t===Ar.CreditCard&&this._useIndividualCardFields?this._getStripeCardElements()[0]:this._getStripeElement(),n.billing_details=this._mapStripeBillingDetails(o,i),n)},t){case Ar.CreditCard:var a=this._store.getState().cart.getCart();if(a&&Object(jt.a)(a)>0){var s=this._store.getState().shippingAddress.getShippingAddress();r=Object(d.__assign)(Object(d.__assign)({},r),{shipping:this._mapStripeShippingAddress(s,i)})}return e?Object(d.__assign)(Object(d.__assign)({},r),{setup_future_usage:"off_session"}):r;case Ar.iDEAL:return Object(d.__assign)(Object(d.__assign)({},r),{return_url:e})}return r},t.prototype._mapStripeShippingAddress=function(t,e){var n=t||e||{firstName:"Guest",lastName:""},r=(n.firstName+" "+n.lastName).trim(),i={address:this._mapStripeAddress(t)};if(e&&e.addresses[0]){var o=e.addresses[0].phone;return Object(d.__assign)(Object(d.__assign)({},i),{name:r,phone:o})}if(t){o=t.phone;return Object(d.__assign)(Object(d.__assign)({},i),{name:r,phone:o})}return Object(d.__assign)(Object(d.__assign)({},i),{name:r})},t.prototype._unmountElement=function(){this._stripeElement&&(this._stripeElement.unmount(),this._stripeElement=void 0)},t}(),Tr=function(){function t(t,e){void 0===e&&(e=window),this._scriptLoader=t,this._window=e}return t.prototype.load=function(t,e,n){var r=this;return this._scriptLoader.loadScript("https://js.stripe.com/v3/").then((function(){if(!r._window.Stripe)throw new $.a;return r._window.Stripe(t,{stripeAccount:e,locale:n,betas:["payment_intent_beta_3","alipay_pm_beta_1"],apiVersion:"2020-03-02;alipay_beta=v1"})}))},t}(),Rr=function(){function t(t){this._scriptLoader=t}return t.prototype.initialize=function(){var t=this;return this._scriptLoader.loadScript("//static.wepay.com/min/js/risk.1.latest.js").then((function(){return t._riskClient=window.WePay.risk})).then((function(){return t}))},t.prototype.getRiskToken=function(){if(!this._riskClient)throw new bt.b(bt.a.PaymentNotInitialized);return this._riskClient.generate_risk_token(),this._riskClient.get_risk_token()},t}(),Dr=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,r,i)||this;return a._wepayRiskClient=o,a}return Object(d.__extends)(e,t),e.prototype.initialize=function(e){return this._wepayRiskClient.initialize(),t.prototype.initialize.call(this,e)},e.prototype.execute=function(e,n){var r=this._wepayRiskClient.getRiskToken(),i=Object(Bt.merge)({},e,{payment:{paymentData:{deviceSessionId:r}}});return t.prototype.execute.call(this,i,n)},e}(pn),zr=n(60),Lr=function(t){function e(e){var n=t.call(this,e||"The selected payment method was declined. Please select another payment method.")||this;return n.name="PaymentMethodDeclinedError",n.type="payment_declined",n}return Object(d.__extends)(e,t),e}(ht.a),Nr=function(){function t(t,e,n,r,i,o,a,s){this._store=t,this._orderActionCreator=e,this._paymentActionCreator=n,this._paymentMethodActionCreator=r,this._storeCreditActionCreator=i,this._remoteCheckoutActionCreator=o,this._zipScriptLoader=a,this._requestSender=s}return t.prototype.initialize=function(){return Object(d.__awaiter)(this,void 0,void 0,(function(){var t;return Object(d.__generator)(this,(function(e){switch(e.label){case 0:return[4,this._zipScriptLoader.load()];case 1:return t=e.sent(),this._zipClient=t,[2,this._store.getState()]}}))}))},t.prototype.deinitialize=function(){return this._paymentMethod=void 0,this._zipClient=void 0,Promise.resolve(this._store.getState())},t.prototype.execute=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,c=this;return Object(d.__generator)(this,(function(u){switch(u.label){case 0:if(n=t.payment,r=Object(d.__rest)(t,["payment"]),i=this._zipClient,!n)throw new It.a('Unable to submit payment because "payload.payment" argument is not provided.');if(!i)throw new bt.b(bt.a.PaymentNotInitialized);return void 0===(o=this._store.getState().checkout.getCheckoutOrThrow().isStoreCreditApplied)?[3,2]:[4,this._store.dispatch(this._storeCreditActionCreator.applyStoreCredit(o))];case 1:u.sent(),u.label=2;case 2:return[4,this._store.dispatch(this._orderActionCreator.submitOrder(r,e))];case 3:return u.sent(),[4,this._store.dispatch(this._remoteCheckoutActionCreator.initializePayment(n.methodId,{useStoreCredit:o}))];case 4:return u.sent(),[4,this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(n.methodId,e))];case 5:if(a=u.sent(),this._paymentMethod=a.paymentMethods.getPaymentMethod(n.methodId),!this._paymentMethod||!this._paymentMethod.clientToken)throw new v.b(v.a.MissingPaymentMethod);return[4,new Promise((function(t,e){i.Checkout.init({onComplete:function(r){var i=r.checkoutId,o=r.state;return Object(d.__awaiter)(c,void 0,void 0,(function(){return Object(d.__generator)(this,(function(r){switch(r.label){case 0:return"cancelled"===o?[2,e(new Ue)]:"referred"===o&&i?[4,this._prepareForReferredRegistration(n.methodId,i)]:[3,2];case 1:return r.sent(),[2,t()];case 2:return"approved"===o&&i?[2,t(i)]:"declined"===o?[2,e(new Lr("Unfortunately your application was declined. Please select another payment method."))]:(e(new He.a),[2])}}))}))},onCheckout:function(t){if(!c._paymentMethod||!c._paymentMethod.clientToken)throw new v.b(v.a.MissingPaymentMethod);t(JSON.parse(c._paymentMethod.clientToken))}})}))];case 6:return void 0!==(s=u.sent())?[2,this._store.dispatch(this._paymentActionCreator.submitPayment({methodId:n.methodId,paymentData:{nonce:s}}))]:[2,this._store.getState()]}}))}))},t.prototype.finalize=function(){return Promise.reject(new Kt)},t.prototype._prepareForReferredRegistration=function(t,e){var n="/api/storefront/payment/"+t+"/save-external-id",r={headers:{Accept:I.a.JsonV1,"X-API-INTERNAL":zr.a},body:{externalId:e,provider:t}};return this._requestSender.post(n,r)},t}(),Fr=function(){function t(t,e){void 0===e&&(e=window),this._scriptLoader=t,this._window=e}return t.prototype.load=function(){var t=this;return this._scriptLoader.loadScript("//static.zipmoney.com.au/checkout/checkout-v1.min.js").then((function(){if(!t._window.Zip)throw new $.a;return t._window.Zip}))},t}();function qr(t,e,n,r,s){var c=new Me(t,{defaultToken:Zt.a.CREDIT_CARD}),u=Object(i.getScriptLoader)(),d=new je.a,p=new Pe.a(e),h=new o.a(new a.a(n),new we.a(new Ie.a(n))),l=function(t){var e=new J.a(t),n=new Z.a(e),r=new Sn(n),i=new gn;return new wn(n,r,i)}(u),m=new U.a(n),f=new te(m),g=new _t(r,new wt(n)),b=new Ht(new Gt(n),f),v=new Oe(new Se(n)),C=new ce(St(Object(i.createScriptLoader)())),O=new Ee(p,b,d,C),S=new Y.a(new H.a(n)),w=new pt(new ut(n)),I=new _.a(new y.a(n)),A=new G.a(new V.a(n)),E=new x.a(m,I,A),P=new Qt(c,b,g),j=Object(q.createFormPoster)(),k=new ve(t);return c.register(Zt.a.ADYENV2,(function(){return new Ge(t,O,b,new Ve(u,Object(i.getStylesheetLoader)()))})),c.register(Zt.a.ADYENV2_GOOGLEPAY,(function(){return new Zn(t,E,S,P,O,b,Object(nt.a)(t,new rt.a),new Qn(t,O,new Ve(u,Object(i.getStylesheetLoader)())))})),c.register(Zt.a.AFFIRM,(function(){return new We(t,b,O,S,new Ke)})),c.register(Zt.a.AFTERPAY,(function(){return new Je(t,f,b,O,S,v,new tn(u))})),c.register(Zt.a.AMAZON,(function(){return new un(t,b,h,w,new W(u))})),c.register(Zt.a.AUTHORIZENET_GOOGLE_PAY,(function(){return new Zn(t,E,S,P,O,b,Object(nt.a)(t,new it.a))})),c.register(Zt.a.AMAZONPAYV2,(function(){return new dn(t,P,S,b,O,Object(K.a)())})),c.register(Zt.a.BARCLAYS,(function(){return new hn(t,b,O,k,new Ln(t,O,new qn(new Un(u))))})),c.register(Zt.a.BLUESNAPV2,(function(){return new mn(t,b,O)})),c.register(Zt.a.CREDIT_CARD,(function(){return new pn(t,b,O,k)})),c.register(Zt.a.CHECKOUTCOM,(function(){return new Hn(t,b,O,k,j)})),c.register(Zt.a.CYBERSOURCE,(function(){return new Wn(t,b,O,k,new xn(t,O,S,new qn(new Un(u))))})),c.register(Zt.a.CYBERSOURCEV2,(function(){return new Kn(t,b,O,k,new Ln(t,O,new qn(new Un(u))))})),c.register(Zt.a.KLARNA,(function(){return new tr(t,b,S,w,new er(u))})),c.register(Zt.a.KLARNAV2,(function(){return new nr(t,b,S,w,new rr(u))})),c.register(Zt.a.LEGACY,(function(){return new ir(t,b)})),c.register(Zt.a.OFFLINE,(function(){return new sr(t,b)})),c.register(Zt.a.OFFSITE,(function(){return new cr(t,b,O)})),c.register(Zt.a.PAYPAL,(function(){return new ur(t,b,O,k,new xn(t,O,S,new qn(new Un(u))))})),c.register(Zt.a.PAYPAL_EXPRESS,(function(){return new dr(t,b,new pr.a(u))})),c.register(Zt.a.PAYPAL_EXPRESS_CREDIT,(function(){return new dr(t,b,new pr.a(u))})),c.register(Zt.a.PAYPAL_COMMERCE_CREDIT_CARD,(function(){return new hr(t,S,new _r(Object(yr.a)(u,n)),b,O)})),c.register(Zt.a.PAYPAL_COMMERCE,(function(){return new br(t,b,O,Object(yr.a)(u,n),new vr,new Cr.a(n))})),c.register(Zt.a.PAYPAL_COMMERCE_ALTERNATIVE_METHODS,(function(){return new br(t,b,O,Object(yr.a)(u,n),new vr,new Cr.a(n))})),c.register(Zt.a.SAGE_PAY,(function(){return new Or(t,b,O,k,j)})),c.register(Zt.a.SQUARE,(function(){return new Er(t,E,b,O,S,P,n,new Pr(u))})),c.register(Zt.a.NO_PAYMENT_DATA_REQUIRED,(function(){return new ar(t,b)})),c.register(Zt.a.BRAINTREE,(function(){return new An(t,b,O,S,l)})),c.register(Zt.a.BRAINTREE_PAYPAL,(function(){return new En(t,b,O,S,l)})),c.register(Zt.a.BRAINTREE_PAYPAL_CREDIT,(function(){return new En(t,b,O,S,l,!0)})),c.register(Zt.a.BRAINTREE_VISA_CHECKOUT,(function(){return new Pn(t,E,S,P,O,b,X(u,n),new tt(u))})),c.register(Zt.a.CHASE_PAY,(function(){return new Vn(t,E,b,O,S,P,n,new et(u),new Rr(u))})),c.register(Zt.a.BRAINTREE_GOOGLE_PAY,(function(){return new Zn(t,E,S,P,O,b,Object(nt.a)(t,new ot.a(new Z.a(new J.a(u)))))})),c.register(Zt.a.WE_PAY,(function(){return new Dr(t,b,O,k,new Rr(u))})),c.register(Zt.a.MASTERPASS,(function(){return new or(t,b,O,new ct.a(u))})),c.register(Zt.a.STRIPE_GOOGLE_PAY,(function(){return new Zn(t,E,S,P,O,b,Object(nt.a)(t,new st.a))})),c.register(Zt.a.CHECKOUTCOM_GOOGLE_PAY,(function(){return new Zn(t,E,S,P,O,b,Object(nt.a)(t,new at.a(n)))})),c.register(Zt.a.ZIP,(function(){return new Nr(t,b,O,S,v,w,new Fr(u),n)})),c.register(Zt.a.CONVERGE,(function(){return new Yn(t,b,O,k,j)})),c.register(Zt.a.LAYBUY,(function(){return new Jn(t,b,O,j)})),c.register(Zt.a.SEZZLE,(function(){return new Jn(t,b,O,j)})),c.register(Zt.a.STRIPEV3,(function(){return new Mr(t,S,O,b,new Tr(u),v,s)})),c.register(Zt.a.BOLT,(function(){return new fn(t,b,O,S,v,new _n(u))})),c}var Ur=n(25),xr=function(){function t(t){this._instrumentRequestSender=t}return t.prototype.loadInstruments=function(){var t=this;return function(e){return b.Observable.create((function(n){n.next(Object(g.createAction)(Ur.a.LoadInstrumentsRequested));var r=t._getSessionContext(e),i=t._getCurrentAccessToken(e),o=t._getShippingAddress(e);return t._getValidAccessToken(i).then((function(e){return t._instrumentRequestSender.loadInstruments(Object(d.__assign)(Object(d.__assign)({},r),{authToken:e.vaultAccessToken}),o).then((function(t){var r=t.body;n.next(Object(g.createAction)(Ur.a.LoadInstrumentsSucceeded,r,e)),n.complete()}))})).catch((function(t){n.error(Object(g.createErrorAction)(Ur.a.LoadInstrumentsFailed,t))}))}))}},t.prototype.deleteInstrument=function(t){var e=this;return function(n){return b.Observable.create((function(r){r.next(Object(g.createAction)(Ur.a.DeleteInstrumentRequested,void 0,{instrumentId:t}));var i=e._getSessionContext(n),o=e._getCurrentAccessToken(n);return e._getValidAccessToken(o).then((function(n){return e._instrumentRequestSender.deleteInstrument(Object(d.__assign)(Object(d.__assign)({},i),{authToken:n.vaultAccessToken}),t).then((function(e){var i=e.body;r.next(Object(g.createAction)(Ur.a.DeleteInstrumentSucceeded,i,Object(d.__assign)({instrumentId:t},n))),r.complete()}))})).catch((function(e){r.error(Object(g.createErrorAction)(Ur.a.DeleteInstrumentFailed,e,{instrumentId:t}))}))}))}},t.prototype._isValidVaultAccessToken=function(t){if(!t||!t.vaultAccessToken)return!1;var e,n,r;return function(t){return t.valueOf()>Date.now()}((e=new Date(t.vaultAccessExpiry),n=2,(r=new Date(e.getTime())).setMinutes(e.getMinutes()+n),r))},t.prototype._getCurrentAccessToken=function(t){var e=t.getState().instruments.getInstrumentsMeta();if(e)return{vaultAccessToken:e.vaultAccessToken,vaultAccessExpiry:e.vaultAccessExpiry}},t.prototype._getValidAccessToken=function(t){return t&&this._isValidVaultAccessToken(t)?Promise.resolve(t):this._instrumentRequestSender.getVaultAccessToken().then((function(t){return t.body}))},t.prototype._getShippingAddress=function(t){return t.getState().shippingAddress.getShippingAddress()},t.prototype._getSessionContext=function(t){var e=t.getState(),n=e.config.getStoreConfig(),r=e.cart.getCart();if(!n)throw new v.b(v.a.MissingCheckoutConfig);if(!r)throw new v.b(v.a.MissingCart);return{customerId:r.customerId,storeId:n.storeProfile.storeId,currencyCode:(n.shopperCurrency.isTransactional?n.shopperCurrency:n.currency).code}},t}();var Br=function(){function t(){}return t.prototype.transformResponse=function(t){var e=this._transformResponse(t),n=e.body,r=Object(d.__rest)(e,["body"]);return Object(d.__assign)(Object(d.__assign)({},r),{body:{vaultedInstruments:this._transformVaultedInstruments(n.vaulted_instruments)}})},t.prototype.transformErrorResponse=function(t){return this._transformResponse(t)},t.prototype.transformVaultAccessResponse=function(t){return Object(d.__assign)(Object(d.__assign)({},t),{body:{vaultAccessToken:t.body.data.token,vaultAccessExpiry:t.body.data.expires_at}})},t.prototype._transformVaultedInstruments=function(t){var e=this;return void 0===t&&(t=[]),t.map((function(t){return e._isPayPalInstrument(t)?function(t){return{bigpayToken:t.bigpay_token,defaultInstrument:t.default_instrument,provider:t.provider,externalId:t.external_id,trustedShippingAddress:t.trusted_shipping_address,method:"paypal",type:"account"}}(t):e._isBankInstrument(t)?function(t){return{bigpayToken:t.bigpay_token,defaultInstrument:t.default_instrument,provider:t.provider,externalId:t.external_id,trustedShippingAddress:t.trusted_shipping_address,accountNumber:t.account_number,issuer:t.issuer,iban:t.iban,method:t.method,type:"bank"}}(t):function(t){return{bigpayToken:t.bigpay_token,defaultInstrument:t.default_instrument,provider:t.provider,iin:t.iin,last4:t.last_4,expiryMonth:t.expiry_month,expiryYear:t.expiry_year,brand:t.brand,trustedShippingAddress:t.trusted_shipping_address,method:t.method,type:"card"}}(t)}))},t.prototype._isPayPalInstrument=function(t){return"paypal"===t.method_type},t.prototype._isBankInstrument=function(t){return"bank"===t.method_type},t.prototype._transformResponse=function(t){var e=t.data,n=Object(d.__rest)(t,["data"]);return Object(d.__assign)(Object(d.__assign)({},n),{body:e})},t}(),Gr=function(){function t(t,e){this._client=t,this._requestSender=e,this._transformer=new Br}return t.prototype.getVaultAccessToken=function(t){var e=(void 0===t?{}:t).timeout;return this._requestSender.get("/internalapi/v1/checkout/payments/vault-access-token",{timeout:e}).then((function(t){return Object(d.__assign)(Object(d.__assign)({},t),{body:{vaultAccessToken:t.body.data.token,vaultAccessExpiry:t.body.data.expires_at}})}))},t.prototype.loadInstruments=function(t,e){return e?this._loadInstrumentsWithAddress(t,e):this._loadInstruments(t)},t.prototype.deleteInstrument=function(t,e){var n=this,r=Object(d.__assign)(Object(d.__assign)({},t),{instrumentId:e});return new Promise((function(t,e){n._client.deleteShopperInstrument(r,(function(r,i){return r?e(n._transformer.transformErrorResponse(r)):t(n._transformer.transformResponse(i))}))}))},t.prototype._loadInstruments=function(t){var e=this;return new Promise((function(n,r){e._client.loadInstruments(t,(function(t,i){return t?r(e._transformer.transformErrorResponse(t)):n(e._transformer.transformResponse(i))}))}))},t.prototype._loadInstrumentsWithAddress=function(t,e){var n=this,r=Object(d.__assign)(Object(d.__assign)({},t),{shippingAddress:Object(en.a)(e)});return new Promise((function(t,e){n._client.loadInstrumentsWithAddress(r,(function(r,i){return r?e(n._transformer.transformErrorResponse(r)):t(n._transformer.transformResponse(i))}))}))},t}(),Vr=n(131),Yr=n(132),Hr=n(44),Wr=function(){function t(t){this._shippingCountryRequestSender=t}return t.prototype.loadCountries=function(t){var e=this;return b.Observable.create((function(n){n.next(Object(g.createAction)(Hr.a.LoadShippingCountriesRequested)),e._shippingCountryRequestSender.loadCountries(t).then((function(t){n.next(Object(g.createAction)(Hr.a.LoadShippingCountriesSucceeded,t.body.data)),n.complete()})).catch((function(t){n.error(Object(g.createErrorAction)(Hr.a.LoadShippingCountriesFailed,t))}))}))},t}(),Kr=function(){function t(t,e){this._requestSender=t,this._config=e}return t.prototype.loadCountries=function(t){var e=(void 0===t?{}:t).timeout,n={"Accept-Language":this._config.locale};return this._requestSender.get("/internalapi/v1/shipping/countries",{headers:n,timeout:e})},t}(),Jr=n(9),Zr=function(){function t(t){this._strategyRegistry=t}return t.prototype.updateAddress=function(t,e){var n=this;return function(r){return b.Observable.create((function(i){var o=r.getState().payment.getPaymentId(),a=e&&e.methodId||o&&o.providerId;i.next(Object(g.createAction)(Jr.a.UpdateAddressRequested,void 0,{methodId:a})),n._strategyRegistry.get(a).updateAddress(t,Object(d.__assign)(Object(d.__assign)({},e),{methodId:a})).then((function(){i.next(Object(g.createAction)(Jr.a.UpdateAddressSucceeded,void 0,{methodId:a})),i.complete()})).catch((function(t){i.error(Object(g.createErrorAction)(Jr.a.UpdateAddressFailed,t,{methodId:a}))}))}))}},t.prototype.selectOption=function(t,e){var n=this;return function(r){return b.Observable.create((function(i){var o=r.getState().payment.getPaymentId(),a=e&&e.methodId||o&&o.providerId;i.next(Object(g.createAction)(Jr.a.SelectOptionRequested,void 0,{methodId:a})),n._strategyRegistry.get(a).selectOption(t,Object(d.__assign)(Object(d.__assign)({},e),{methodId:a})).then((function(){i.next(Object(g.createAction)(Jr.a.SelectOptionSucceeded,void 0,{methodId:a})),i.complete()})).catch((function(t){i.error(Object(g.createErrorAction)(Jr.a.SelectOptionFailed,t,{methodId:a}))}))}))}},t.prototype.initialize=function(t){var e=this;return function(n){return b.Observable.create((function(r){var i=n.getState(),o=i.payment.getPaymentId(),a=t&&t.methodId||o&&o.providerId,s=Object(d.__assign)(Object(d.__assign)({},t),{methodId:a});if(a&&i.shippingStrategies.isInitialized(a))return r.complete();r.next(Object(g.createAction)(Jr.a.InitializeRequested,void 0,{methodId:a})),e._strategyRegistry.get(a).initialize(s).then((function(){r.next(Object(g.createAction)(Jr.a.InitializeSucceeded,void 0,{methodId:a})),r.complete()})).catch((function(t){r.error(Object(g.createErrorAction)(Jr.a.InitializeFailed,t,{methodId:a}))}))}))}},t.prototype.deinitialize=function(t){var e=this;return function(n){return b.Observable.create((function(r){var i=n.getState(),o=i.payment.getPaymentId(),a=t&&t.methodId||o&&o.providerId;if(a&&!i.shippingStrategies.isInitialized(a))return r.complete();r.next(Object(g.createAction)(Jr.a.DeinitializeRequested,void 0,{methodId:a})),e._strategyRegistry.get(a).deinitialize(Object(d.__assign)(Object(d.__assign)({},t),{methodId:a})).then((function(){r.next(Object(g.createAction)(Jr.a.DeinitializeSucceeded,void 0,{methodId:a})),r.complete()})).catch((function(t){r.error(Object(g.createErrorAction)(Jr.a.DeinitializeFailed,t,{methodId:a}))}))}))}},t.prototype.widgetInteraction=function(t,e){return b.Observable.create((function(n){var r={methodId:e&&e.methodId};n.next(Object(g.createAction)(Jr.a.WidgetInteractionStarted,void 0,r)),t().then((function(){n.next(Object(g.createAction)(Jr.a.WidgetInteractionFinished,void 0,r)),n.complete()})).catch((function(t){n.error(Object(g.createErrorAction)(Jr.a.WidgetInteractionFailed,t,r))}))}))},t}(),Qr=function(){function t(t,e,n,r,i){this._store=t,this._consignmentActionCreator=e,this._paymentMethodActionCreator=n,this._remoteCheckoutActionCreator=r,this._scriptLoader=i,this._window=window}return t.prototype.initialize=function(t){var e=this,n=t.amazon,r=t.methodId;if(!n||!r)throw new It.a('Unable to proceed because "options.amazon" argument is not provided.');return this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(r)).then((function(t){return new Promise((function(i,o){if(e._paymentMethod=t.paymentMethods.getPaymentMethod(r),!e._paymentMethod)throw new v.b(v.a.MissingPaymentMethod);e._scriptLoader.loadWidget(e._paymentMethod,(function(){e._createAddressBook(n).then(i).catch(o)})).catch(o)}))})).then((function(){return e._store.getState()}))},t.prototype.deinitialize=function(){return this._paymentMethod=void 0,Promise.resolve(this._store.getState())},t.prototype.updateAddress=function(t,e){var n=Object(d.__assign)(Object(d.__assign)({},this._store.getState().shippingAddress.getShippingAddress()),{customFields:t.customFields});return this._store.dispatch(this._consignmentActionCreator.updateAddress(n,e))},t.prototype.selectOption=function(t,e){return this._store.dispatch(this._consignmentActionCreator.selectShippingOption(t,e))},t.prototype._createAddressBook=function(t){var e=this;return new Promise((function(n,r){var i=t.container,o=t.onAddressSelect,a=void 0===o?function(){}:o,s=t.onError,c=void 0===s?function(){}:s,u=t.onReady,d=void 0===u?function(){}:u,p=e._paymentMethod&&e._paymentMethod.config.merchantId;if(!document.getElementById(i))return r(new It.a("Unable to create AmazonPay AddressBook widget without valid container ID."));if(!e._window.OffAmazonPayments)return r(new bt.b(bt.a.ShippingNotInitialized));if(!p)return r(new v.b(v.a.MissingPaymentMethod));var h=new e._window.OffAmazonPayments.Widgets.AddressBook({design:{designMode:"responsive"},scope:"payments:billing_address payments:shipping_address payments:widget profile",sellerId:p,onAddressSelect:function(t){e._synchronizeShippingAddress().then((function(){return a(t)})).catch(c)},onError:function(t){r(t),c(t)},onReady:function(t){e._updateOrderReference(t).then((function(){n(),d(t)})).catch(c)}});return h.bind(i),h}))},t.prototype._synchronizeShippingAddress=function(){var t=this,e=this._paymentMethod&&this._paymentMethod.id,n=this._store.getState().remoteCheckout.getCheckout("amazon"),r=n?n.referenceId:void 0;if(!e||!r)throw new cn.a;return this._store.dispatch(Object(g.createAction)(Jr.a.UpdateAddressRequested,void 0,{methodId:e})).then((function(){return t._store.dispatch(t._remoteCheckoutActionCreator.initializeShipping(e,{referenceId:r}))})).then((function(e){var n=e.remoteCheckout.getCheckout("amazon"),r=n&&n.shipping&&n.shipping.address,i=e.shippingAddress.getShippingAddress();if(!1===r)throw new cn.a;return!r||on(r,i||{})?t._store.getState():t._store.dispatch(t._consignmentActionCreator.updateAddress(sn(r)))})).then((function(){return t._store.dispatch(Object(g.createAction)(Jr.a.UpdateAddressSucceeded,void 0,{methodId:e}))})).catch((function(n){return t._store.dispatch(Object(g.createErrorAction)(Jr.a.UpdateAddressFailed,n,{methodId:e}))}))},t.prototype._updateOrderReference=function(t){return this._store.dispatch(this._remoteCheckoutActionCreator.updateCheckout("amazon",{referenceId:t.getAmazonOrderReferenceId()}))},t}(),Xr=function(){function t(t,e,n,r,i){this._store=t,this._consignmentActionCreator=e,this._paymentMethodActionCreator=n,this._amazonPayV2PaymentProcessor=r,this._shippingStrategyActionCreator=i}return t.prototype.updateAddress=function(t,e){var n=this._store.getState().shippingAddress.getShippingAddress();if(!n)throw new v.b(v.a.MissingShippingAddress);var r=Object(d.__assign)(Object(d.__assign)({},n),{customFields:t.customFields});return this._store.dispatch(this._consignmentActionCreator.updateAddress(r,e))},t.prototype.selectOption=function(t,e){return this._store.dispatch(this._consignmentActionCreator.selectShippingOption(t,e))},t.prototype.initialize=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,o,a;return Object(d.__generator)(this,(function(s){switch(s.label){case 0:if(e=t.amazonpay,n=t.methodId,!e||!n)throw new It.a('Unable to proceed because "options.amazonpay" argument is not provided.');return[4,this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(n))];case 1:return r=s.sent(),i=r.paymentMethods.getPaymentMethodOrThrow(n),[4,this._amazonPayV2PaymentProcessor.initialize(i)];case 2:return s.sent(),o=i.initializationData.paymentToken,a=e.editAddressButtonId,o&&a&&this._bindEditButton(a,o,"changeAddress"),[2,this._store.getState()]}}))}))},t.prototype.deinitialize=function(){return Object(d.__awaiter)(this,void 0,void 0,(function(){return Object(d.__generator)(this,(function(t){switch(t.label){case 0:return[4,this._amazonPayV2PaymentProcessor.deinitialize()];case 1:return t.sent(),[2,Promise.resolve(this._store.getState())]}}))}))},t.prototype._bindEditButton=function(t,e,n){var r=this,i=document.getElementById(t);if(i&&i.parentNode){var o=i.cloneNode(!0);i.parentNode.replaceChild(o,i),o.addEventListener("click",(function(){return r._showLoadingSpinner((function(){return new Promise(b.noop)}))})),this._amazonPayV2PaymentProcessor.bindButton(t,e,n)}},t.prototype._showLoadingSpinner=function(t){return this._store.dispatch(this._shippingStrategyActionCreator.widgetInteraction((function(){return t?t():Promise.reject()})),{queueId:"widgetInteraction"})},t}(),$r=function(){function t(t,e){this._store=t,this._consignmentActionCreator=e}return t.prototype.updateAddress=function(t,e){return this._store.dispatch(this._consignmentActionCreator.updateAddress(t,e))},t.prototype.selectOption=function(t,e){return this._store.dispatch(this._consignmentActionCreator.selectShippingOption(t,e))},t.prototype.initialize=function(){return Promise.resolve(this._store.getState())},t.prototype.deinitialize=function(){return Promise.resolve(this._store.getState())},t}();var ti,ei=n(45),ni=function(){function t(t){this._requestSender=t}return t.prototype.sendSignInEmail=function(t,e){var n=this;return Object(b.concat)(Object(b.of)(Object(g.createAction)(ei.a.SendSignInEmailRequested)),Object(b.defer)((function(){return Object(d.__awaiter)(n,void 0,void 0,(function(){var n;return Object(d.__generator)(this,(function(r){switch(r.label){case 0:return[4,this._requestSender.sendSignInEmail(t,e)];case 1:return n=r.sent().body,[2,Object(g.createAction)(ei.a.SendSignInEmailSucceeded,n)]}}))}))}))).pipe(Object(M.catchError)((function(t){return Object(T.a)(ei.a.SendSignInEmailFailed,t)})))},t}(),ri=function(){function t(t){this._requestSender=t}return t.prototype.sendSignInEmail=function(t,e){var n=t.email,r=t.redirectUrl,i=(void 0===e?{}:e).timeout,o={Accept:I.a.JsonV1};return this._requestSender.post("/login.php?action=passwordless_login",{body:{email:n,redirect_url:r||Object(de.a)(window.top.location.href).pathname},headers:o,timeout:i})},t}();!function(t){t.Synchronize="SYNCHRONIZE"}(ti||(ti={}));var ii=n(171),oi=n(42),ai=Object(Bt.memoize)((function(t){return Array.isArray(t)?t.map((function(t){return si(t)})):Object(oi.a)(t)?Object.keys(t).reduce((function(e,n){var r;return Object(d.__assign)(Object(d.__assign)({},e),((r={})[n]=si(t[n]),r))}),{}):t}));ai.cache=new WeakMap;var si=function(t){return"object"==typeof t&&null!==t?ai(t):t};function ci(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return si(t.apply(void 0,e))}}var ui=n(79),di=n(68),pi=n.n(di),hi=n(86),li=Object(ui.createSelectorCreator)(ui.defaultMemoize,(function(t,e){return pi()(t,e)})),mi=Object(hi.a)(li);function fi(){var t,e,n,r,i,o,a,s,c,u,p,h,l,m,f,_,y,g,b,v,C,O,S,w,I,A,E,P,j,k,M,T,R,D=(t=Object(ii.a)((function(t){return t.checkout.getCheckout}),(function(t){return ci(t)})),e=Object(ii.a)((function(t){return t.order.getOrder}),(function(t){return ci(t)})),n=Object(ii.a)((function(t){return t.config.getStoreConfig}),(function(t){return ci(t)})),r=Object(ii.a)((function(t){return t.shippingAddress.getShippingAddress}),(function(t){return t.config.getContextConfig}),(function(t,e){return ci((function(){var n=t(),r=e();if(!n){if(!r||!r.geoCountryCode)return;return{firstName:"",lastName:"",company:"",address1:"",address2:"",city:"",stateOrProvince:"",stateOrProvinceCode:"",postalCode:"",country:"",phone:"",customFields:[],countryCode:r.geoCountryCode}}return n}))})),i=Object(ii.a)((function(t){return t.consignments.getConsignments}),(function(t){return ci((function(){var e=t();if(e&&e.length)return e[0].availableShippingOptions}))})),o=Object(ii.a)((function(t){return t.consignments.getConsignments}),(function(t){return ci(t)})),a=Object(ii.a)((function(t){return t.consignments.getConsignments}),(function(t){return ci((function(){var e=t();if(e&&e.length)return e[0].selectedShippingOption}))})),s=Object(ii.a)((function(t){return t.shippingCountries.getShippingCountries}),(function(t){return ci(t)})),c=Object(ii.a)((function(t){return t.billingAddress.getBillingAddress}),(function(t){return t.config.getContextConfig}),(function(t,e){return ci((function(){var n=t(),r=e();return(!n||Object(Bt.values)(Object(Bt.omit)(n,"shouldSaveAddress","email","id")).every((function(t){return!t||!t.length})))&&r&&r.geoCountryCode?{id:n?n.id:"",firstName:"",lastName:"",company:"",address1:"",address2:"",city:"",email:n?n.email:"",stateOrProvince:"",stateOrProvinceCode:"",postalCode:"",country:"",phone:"",customFields:[],countryCode:r.geoCountryCode}:n}))})),u=Object(ii.a)((function(t){return t.countries.getCountries}),(function(t){return ci(t)})),p=Object(ii.a)((function(t){return t.paymentMethods.getPaymentMethods}),(function(t){return ci(t)})),h=Object(ii.a)((function(t){return t.paymentMethods.getPaymentMethod}),(function(t){return ci(t)})),l=Object(ii.a)((function(t){return t.payment.getPaymentId}),(function(t){return t.paymentMethods.getPaymentMethod}),(function(t,e){return ci((function(){var n=t();return n&&e(n.providerId,n.gatewayId)}))})),m=Object(ii.a)((function(t){return t.cart.getCart}),(function(t){return ci(t)})),f=Object(ii.a)((function(t){return t.coupons.getCoupons}),(function(t){return ci(t)})),_=Object(ii.a)((function(t){return t.giftCertificates.getGiftCertificates}),(function(t){return ci(t)})),y=Object(ii.a)((function(t){return t.customer.getCustomer}),(function(t){return ci(t)})),g=Object(ii.a)((function(t){return t.signInEmail.getEmail}),(function(t){return ci(t)})),b=Object(ii.a)((function(t){return t.payment.isPaymentDataRequired}),(function(t){return ci(t)})),v=Object(ii.a)((function(t){return t.payment.isPaymentDataSubmitted}),(function(t){return t.paymentMethods.getPaymentMethod}),(function(t,e){return ci((function(n,r){return t(e(n,r))}))})),C=Object(ii.a)((function(t){return t.instruments.getInstruments}),(function(t){return t.instruments.getInstrumentsByPaymentMethod}),(function(t,e){return ci((function(n){return n?e(n):t()}))})),O=Object(ii.a)((function(t){return t.form.getCustomerAccountFields}),(function(t){return ci(t)})),S=Object(ii.a)((function(t){return t.form.getBillingAddressFields}),(function(t){return t.countries.getCountries}),(function(t,e){return ci((function(n){return t(e(),n)}))})),w=Object(ii.a)((function(t){return t.form.getShippingAddressFields}),(function(t){return t.shippingCountries.getShippingCountries}),(function(t,e){return ci((function(n){return t(e(),n)}))})),I=Object(ii.a)((function(t){return t.config.getFlashMessages}),(function(t){return ci(t)})),Object(gt.memoizeOne)((function(d){return{getCheckout:t(d),getOrder:e(d),getConfig:n(d),getFlashMessages:I(d),getShippingAddress:r(d),getShippingOptions:i(d),getConsignments:o(d),getSelectedShippingOption:a(d),getShippingCountries:s(d),getBillingAddress:c(d),getBillingCountries:u(d),getPaymentMethods:p(d),getPaymentMethod:h(d),getSelectedPaymentMethod:l(d),getCart:m(d),getCoupons:f(d),getGiftCertificates:_(d),getCustomer:y(d),isPaymentDataRequired:b(d),isPaymentDataSubmitted:v(d),getSignInEmail:g(d),getInstruments:C(d),getCustomerAccountFields:O(d),getBillingAddressFields:S(d),getShippingAddressFields:w(d)}}))),z=(A=mi((function(t){return t}),(function(t){return function(){for(var e=0,n=Object.keys(t);e<n.length;e++){var r=n[e],i=t[r]();if(i)return i}}})),E=Object(ii.a)((function(t){return t.shippingStrategies.getSelectOptionError}),(function(t){return t.consignments.getUpdateShippingOptionError}),(function(t,e){return function(n){return t()||e(n)}})),Object(gt.memoizeOne)((function(t){var e={getLoadCheckoutError:t.checkout.getLoadError,getUpdateCheckoutError:t.checkout.getUpdateError,getSubmitOrderError:t.paymentStrategies.getExecuteError,getFinalizeOrderError:t.paymentStrategies.getFinalizeError,getLoadOrderError:t.order.getLoadError,getLoadCartError:t.cart.getLoadError,getLoadBillingCountriesError:t.countries.getLoadError,getLoadShippingCountriesError:t.shippingCountries.getLoadError,getLoadPaymentMethodsError:t.paymentMethods.getLoadError,getLoadPaymentMethodError:t.paymentMethods.getLoadMethodError,getInitializePaymentError:t.paymentStrategies.getInitializeError,getSignInError:t.customerStrategies.getSignInError,getSignOutError:t.customerStrategies.getSignOutError,getInitializeCustomerError:t.customerStrategies.getInitializeError,getLoadShippingOptionsError:t.consignments.getLoadShippingOptionsError,getSelectShippingOptionError:E(t),getContinueAsGuestError:t.billingAddress.getContinueAsGuestError,getUpdateBillingAddressError:t.billingAddress.getUpdateError,getUpdateSubscriptionsError:t.subscriptions.getUpdateError,getUpdateShippingAddressError:t.shippingStrategies.getUpdateAddressError,getDeleteConsignmentError:t.consignments.getDeleteError,getUpdateConsignmentError:t.consignments.getUpdateError,getCreateConsignmentsError:t.consignments.getCreateError,getInitializeShippingError:t.shippingStrategies.getInitializeError,getApplyStoreCreditError:t.storeCredit.getApplyError,getApplyCouponError:t.coupons.getApplyError,getRemoveCouponError:t.coupons.getRemoveError,getApplyGiftCertificateError:t.giftCertificates.getApplyError,getRemoveGiftCertificateError:t.giftCertificates.getRemoveError,getLoadInstrumentsError:t.instruments.getLoadError,getDeleteInstrumentError:t.instruments.getDeleteError,getLoadConfigError:t.config.getLoadError,getSignInEmailError:t.signInEmail.getSendError,getCreateCustomerAccountError:t.customer.getCreateAccountError};return Object(d.__assign)({getError:A(e)},e)}))),L=(P=mi((function(t){return t}),(function(t){return function(){return Object.keys(t).some((function(e){return t[e]()}))}})),j=Object(ii.a)((function(t){return t.shippingStrategies.isSelectingOption}),(function(t){return t.consignments.isUpdatingShippingOption}),(function(t,e){return function(n){return t()||e(n)}})),k=Object(ii.a)((function(t){return t.customerStrategies.isInitializing}),(function(t){return t.customerStrategies.isSigningIn}),(function(t){return t.customerStrategies.isSigningOut}),(function(t){return t.customerStrategies.isWidgetInteracting}),(function(t,e,n,r){return function(i){return t(i)||e(i)||n(i)||r(i)}})),M=Object(ii.a)((function(t){return t.shippingStrategies.isInitializing}),(function(t){return t.shippingStrategies.isUpdatingAddress}),(function(t){return t.shippingStrategies.isSelectingOption}),(function(t){return t.shippingStrategies.isWidgetInteracting}),(function(t,e,n,r){return function(i){return t(i)||e(i)||n(i)||r(i)}})),T=Object(ii.a)((function(t){return t.paymentStrategies.isInitializing}),(function(t){return t.paymentStrategies.isExecuting}),(function(t){return t.paymentStrategies.isFinalizing}),(function(t){return t.paymentStrategies.isWidgetInteracting}),(function(t,e,n,r){return function(i){return t(i)||e(i)||n(i)||r(i)}})),R=Object(ii.a)((function(t){return t.paymentStrategies.isExecuting}),(function(t){return t.checkout.isExecutingSpamCheck}),(function(t,e){return function(n){return t(n)||e()}})),Object(gt.memoizeOne)((function(t){var e={isLoadingCheckout:t.checkout.isLoading,isUpdatingCheckout:t.checkout.isUpdating,isExecutingSpamCheck:t.checkout.isExecutingSpamCheck,isSubmittingOrder:R(t),isFinalizingOrder:t.paymentStrategies.isFinalizing,isLoadingOrder:t.order.isLoading,isLoadingCart:t.cart.isLoading,isLoadingBillingCountries:t.countries.isLoading,isLoadingShippingCountries:t.shippingCountries.isLoading,isLoadingPaymentMethods:t.paymentMethods.isLoading,isLoadingPaymentMethod:t.paymentMethods.isLoadingMethod,isInitializingPayment:t.paymentStrategies.isInitializing,isSigningIn:t.customerStrategies.isSigningIn,isSigningOut:t.customerStrategies.isSigningOut,isInitializingCustomer:t.customerStrategies.isInitializing,isLoadingShippingOptions:t.consignments.isLoadingShippingOptions,isSelectingShippingOption:j(t),isUpdatingBillingAddress:t.billingAddress.isUpdating,isUpdatingSubscriptions:t.subscriptions.isUpdating,isCreatingCustomerAccount:t.customer.isCreatingCustomerAccount,isContinuingAsGuest:t.billingAddress.isContinuingAsGuest,isUpdatingShippingAddress:t.shippingStrategies.isUpdatingAddress,isUpdatingConsignment:t.consignments.isUpdating,isDeletingConsignment:t.consignments.isDeleting,isCreatingConsignments:t.consignments.isCreating,isInitializingShipping:t.shippingStrategies.isInitializing,isApplyingStoreCredit:t.storeCredit.isApplying,isApplyingCoupon:t.coupons.isApplying,isRemovingCoupon:t.coupons.isRemoving,isApplyingGiftCertificate:t.giftCertificates.isApplying,isRemovingGiftCertificate:t.giftCertificates.isRemoving,isLoadingInstruments:t.instruments.isLoading,isDeletingInstrument:t.instruments.isDeleting,isLoadingConfig:t.config.isLoading,isSendingSignInEmail:t.signInEmail.isSending,isCustomerStepPending:k(t),isShippingStepPending:M(t),isPaymentStepPending:T(t)};return Object(d.__assign)({isPending:P(e)},e)})));return function(t){return{data:D(t),errors:z(t),statuses:L(t)}}}var _i=function(){function t(t){this._messageCustomizer=t}return t.prototype.transform=function(t){var e;return t.message=(e=this._messageCustomizer(t))?e.split(/(?:\r\n|\n|\r)/).map((function(t){return t.replace(/^\s+/gm,"")})).join(" ").trim():"",t},t}();var yi=function(){function t(t,e,n,r,i,o,a,s,c,d,p,h,l,m,f,_,y,b,C,O,S,w){var I,A,E,P;this._store=t,this._billingAddressActionCreator=e,this._checkoutActionCreator=n,this._configActionCreator=r,this._customerActionCreator=i,this._consignmentActionCreator=o,this._countryActionCreator=a,this._couponActionCreator=s,this._customerStrategyActionCreator=c,this._errorActionCreator=d,this._giftCertificateActionCreator=p,this._instrumentActionCreator=h,this._orderActionCreator=l,this._paymentMethodActionCreator=m,this._paymentStrategyActionCreator=f,this._shippingCountryActionCreator=_,this._shippingStrategyActionCreator=y,this._signInEmailActionCreator=b,this._spamProtectionActionCreator=C,this._storeCreditActionCreator=O,this._subscriptionsActionCreator=S,this._formFieldsActionCreator=w,this._errorTransformer=(void 0===I&&(I="development"===u()),new _i((function(t){if(!I||!function(t){return!(!t.subtype&&!t.type)}(t))return t.message;switch(t.subtype||t.type){case v.a.MissingConsignments:return"\n                "+t.message+"\n                The data could be unavailable because no shipping address has been provided.\n                To fix this, create a consignment or update the shipping address before performing\n                the same action again.\n            ";case v.a.MissingCart:case v.a.MissingCheckout:return"\n                "+t.message+"\n                The data could be unavailable because it has not loaded from the server yet.\n                To fix this issue, you can try calling `CheckoutService#loadCheckout`\n                before performing the same action again.\n            ";case v.a.MissingCheckoutConfig:return"\n                "+t.message+"\n                The data could be unavailable because it has not loaded from the server yet.\n                To fix this issue, you need to make sure `CheckoutService` is initialized\n                properly by calling `CheckoutService#loadCheckout` before performing any\n                other actions.\n            ";case v.a.MissingOrder:return"\n                "+t.message+"\n                The data could be unavailable because it has not loaded from the server yet.\n                To fix this issue, you can try calling `CheckoutService#loadOrder`\n                before performing the same action again.\n            ";case v.a.MissingOrderId:return"\n                "+t.message+"\n                The data could be unavailable because no order has been created yet. You have\n                to first create the order before you can perform the action.\n            ";case v.a.MissingPaymentMethod:return"\n                "+t.message+"\n                The data could be unavailable because it has not loaded from the server, or\n                configured by the merchant yet. To fix the former issue, you can try calling\n                `CheckoutService#loadPaymentMethods` before performing the same action again.\n            ";case bt.a.CustomerNotInitialized:return"\n                In order to initialize the customer step of checkout, you need to call\n                `CheckoutService#initializeCustomer`. Afterwards, you should be able to\n                submit customer details.\n            ";case bt.a.PaymentNotInitialized:return"\n                "+t.message+"\n                In order to initialize the payment step of checkout, you need to call\n                `CheckoutService#initializePayment`. Afterwards, you should be able to\n                submit payment details.\n            ";case bt.a.ShippingNotInitialized:return"\n                "+t.message+"\n                In order to initialize the shipping step of checkout, you need to call\n                `CheckoutService#initializeShipping`. Afterwards, you should be able to\n                submit shipping details.\n            ";default:return t.message}}))),this._selectorsFactory=fi(),this._storeProjection=(A=this._store,E=this._selectorsFactory,P=Object(g.createDataStore)((function(t,e){return e.type===ti.Synchronize?e.payload:t}),A.getState(),{stateTransformer:E}),A.subscribe((function(t){P.dispatch(Object(g.createAction)(ti.Synchronize,t))}),{initial:!1}),P)}return t.prototype.getState=function(){return this._storeProjection.getState()},t.prototype.notifyState=function(){this._storeProjection.notifyState()},t.prototype.subscribe=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return(e=this._storeProjection).subscribe.apply(e,Object(d.__spreadArrays)([t],n))},t.prototype.loadCheckout=function(t,e){return this._dispatch(t?this._checkoutActionCreator.loadCheckout(t,e):this._checkoutActionCreator.loadDefaultCheckout(e))},t.prototype.updateCheckout=function(t,e){var n=this._checkoutActionCreator.updateCheckout(t,e);return this._dispatch(n)},t.prototype.loadOrder=function(t,e){var n=this,r=this._orderActionCreator.loadOrder(t,e),i=this._formFieldsActionCreator.loadFormFields(e),o=this._configActionCreator.loadConfig(e);return Promise.all([this._dispatch(r),this._dispatch(o,{queueId:"config"}),this._dispatch(i,{queueId:"formFields"})]).then((function(){return n.getState()}))},t.prototype.submitOrder=function(t,e){var n=this._paymentStrategyActionCreator.execute(t,e);return this._dispatch(n,{queueId:"paymentStrategy"})},t.prototype.finalizeOrderIfNeeded=function(t){var e=this._paymentStrategyActionCreator.finalize(t);return this._dispatch(e,{queueId:"paymentStrategy"})},t.prototype.loadPaymentMethods=function(t){var e=this._paymentMethodActionCreator.loadPaymentMethods(t);return this._dispatch(e,{queueId:"paymentMethods"})},t.prototype.loadPaymentMethod=function(t,e){var n=this._paymentMethodActionCreator.loadPaymentMethod(t,e);return this._dispatch(n,{queueId:"paymentMethods"})},t.prototype.initializePayment=function(t){var e=this._paymentStrategyActionCreator.initialize(t);return this._dispatch(e,{queueId:"paymentStrategy"})},t.prototype.deinitializePayment=function(t){var e=this._paymentStrategyActionCreator.deinitialize(t);return this._dispatch(e,{queueId:"paymentStrategy"})},t.prototype.loadBillingCountries=function(t){var e=this._countryActionCreator.loadCountries(t);return this._dispatch(e,{queueId:"billingCountries"})},t.prototype.loadShippingCountries=function(t){var e=this._shippingCountryActionCreator.loadCountries(t);return this._dispatch(e,{queueId:"shippingCountries"})},t.prototype.loadBillingAddressFields=function(t){return this.loadBillingCountries(t)},t.prototype.loadShippingAddressFields=function(t){return this.loadShippingCountries(t)},t.prototype.initializeCustomer=function(t){var e=this._customerStrategyActionCreator.initialize(t);return this._dispatch(e,{queueId:"customerStrategy"})},t.prototype.deinitializeCustomer=function(t){var e=this._customerStrategyActionCreator.deinitialize(t);return this._dispatch(e,{queueId:"customerStrategy"})},t.prototype.sendSignInEmail=function(t,e){var n=this._signInEmailActionCreator.sendSignInEmail(t,e);return this._dispatch(n,{queueId:"signInEmail"})},t.prototype.createCustomerAccount=function(t,e){var n=this._customerActionCreator.createCustomer(t,e);return this._dispatch(n)},t.prototype.updateSubscriptions=function(t,e){var n=this._subscriptionsActionCreator.updateSubscriptions(t,e);return this._dispatch(n,{queueId:"subscriptions"})},t.prototype.continueAsGuest=function(t,e){var n=this._billingAddressActionCreator.continueAsGuest(t,e);return this._dispatch(n)},t.prototype.signInCustomer=function(t,e){var n=this._customerStrategyActionCreator.signIn(t,e);return this._dispatch(n,{queueId:"customerStrategy"})},t.prototype.signOutCustomer=function(t){var e=this._customerStrategyActionCreator.signOut(t);return this._dispatch(e,{queueId:"customerStrategy"})},t.prototype.loadShippingOptions=function(t){var e=this._consignmentActionCreator.loadShippingOptions(t);return this._dispatch(e)},t.prototype.initializeShipping=function(t){var e=this._shippingStrategyActionCreator.initialize(t);return this._dispatch(e,{queueId:"shippingStrategy"})},t.prototype.deinitializeShipping=function(t){var e=this._shippingStrategyActionCreator.deinitialize(t);return this._dispatch(e,{queueId:"shippingStrategy"})},t.prototype.selectShippingOption=function(t,e){var n=this._shippingStrategyActionCreator.selectOption(t,e);return this._dispatch(n,{queueId:"shippingStrategy"})},t.prototype.updateShippingAddress=function(t,e){var n=this._shippingStrategyActionCreator.updateAddress(t,e);return this._dispatch(n,{queueId:"shippingStrategy"})},t.prototype.createConsignments=function(t,e){var n=this._consignmentActionCreator.createConsignments(t,e);return this._dispatch(n,{queueId:"shippingStrategy"})},t.prototype.deleteConsignment=function(t,e){var n=this._consignmentActionCreator.deleteConsignment(t,e);return this._dispatch(n,{queueId:"shippingStrategy"})},t.prototype.updateConsignment=function(t,e){var n=this._consignmentActionCreator.updateConsignment(t,e);return this._dispatch(n,{queueId:"shippingStrategy"})},t.prototype.assignItemsToAddress=function(t,e){var n=this._consignmentActionCreator.assignItemsByAddress(t,e);return this._dispatch(n,{queueId:"shippingStrategy"})},t.prototype.unassignItemsToAddress=function(t,e){var n=this._consignmentActionCreator.unassignItemsByAddress(t,e);return this._dispatch(n,{queueId:"shippingStrategy"})},t.prototype.selectConsignmentShippingOption=function(t,e,n){var r=this._consignmentActionCreator.updateShippingOption({id:t,shippingOptionId:e},n);return this._dispatch(r,{queueId:"shippingStrategy"})},t.prototype.updateBillingAddress=function(t,e){void 0===e&&(e={});var n=this._billingAddressActionCreator.updateAddress(t,e);return this._dispatch(n)},t.prototype.applyStoreCredit=function(t,e){var n=this._storeCreditActionCreator.applyStoreCredit(t,e);return this._dispatch(n)},t.prototype.applyCoupon=function(t,e){var n=this._couponActionCreator.applyCoupon(t,e);return this._dispatch(n)},t.prototype.removeCoupon=function(t,e){var n=this._couponActionCreator.removeCoupon(t,e);return this._dispatch(n)},t.prototype.applyGiftCertificate=function(t,e){var n=this._giftCertificateActionCreator.applyGiftCertificate(t,e);return this._dispatch(n)},t.prototype.removeGiftCertificate=function(t,e){var n=this._giftCertificateActionCreator.removeGiftCertificate(t,e);return this._dispatch(n)},t.prototype.loadInstruments=function(){var t=this._instrumentActionCreator.loadInstruments();return this._dispatch(t)},t.prototype.deleteInstrument=function(t){var e=this,n=this._instrumentActionCreator.deleteInstrument(t);return this._dispatch(n).then((function(){return e.loadInstruments()}))},t.prototype.clearError=function(t){var e=this._errorActionCreator.clearError(t);return this._dispatch(e)},t.prototype.initializeSpamProtection=function(t){var e=this._spamProtectionActionCreator.initialize(t);return this._dispatch(e,{queueId:"spamProtection"})},t.prototype.executeSpamCheck=function(){var t=this._spamProtectionActionCreator.verifyCheckoutSpamProtection();return this._dispatch(t,{queueId:"spamProtection"})},t.prototype._dispatch=function(t,e){var n=this;return this._store.dispatch(t,e).then((function(){return n.getState()})).catch((function(t){throw n._errorTransformer.transform(t)}))},t=Object(d.__decorate)([Dt.a],t)}(),gi=n(137);function bi(t){"https:"!==document.location.protocol&&f().warn("The BigCommerce Checkout SDK should not be used on a non-HTTPS page"),"production"!==u()&&f().warn("Note that the development build is not optimized. To create a production build, set process.env.NODE_ENV to `production`.");var e={meta:{externalSource:t&&t.externalSource,variantIdentificationToken:window.checkoutVariantIdentificationToken},errors:{},statuses:{}},n=t||{},s=n.locale,d=void 0===s?"":s,p=n.shouldWarnMutation,h=void 0===p||p,l=Object(r.createRequestSender)({host:t&&t.host}),m=Object(gi.a)({config:e},{shouldWarnMutation:h}),g=function(t){var e=Object(Wt.createClient)();return t.subscribe((function(t){var n=t.config.getStoreConfig();n&&e.setHost(n.paymentSettings.bigpayBaseUrl)}),(function(t){return t.config.getStoreConfig()})),e}(m),b=new Gt(l),v=new U.a(l),C=new _.a(new y.a(l)),S=St(Object(i.createScriptLoader)()),w=new wt(l),I=new _t(S,w),A=new Ht(b,new te(v)),P=new we.a(new Ie.a(l)),M=new G.a(new V.a(l)),T=new x.a(v,C,M);return new yi(m,new o.a(new a.a(l),P),T,C,new z(new L(l),T,I),new Vr.a(new Yr.a(l),v),new Ut(new xt(l,{locale:d})),new O(new E(l)),new F(function(t,e){var n=new B.a,r=Object(i.getScriptLoader)(),o=new U.a(e),a=new x.a(o,new _.a(new y.a(e)),new G.a(new V.a(e))),s=Object(q.createFormPoster)(),c=new Y.a(new H.a(e)),u=new ut(e),d=new pt(u);return n.register("googlepayadyenv2",(function(){return new zt(t,d,Object(nt.a)(t,new rt.a),s)})),n.register("amazon",(function(){return new Et(t,c,d,u,new W(r))})),n.register("amazonpay",(function(){return new kt(t,c,d,Object(K.a)())})),n.register("braintreevisacheckout",(function(){return new Mt(t,a,c,new F(n),d,X(r,e),new tt(r))})),n.register("chasepay",(function(){return new Tt(t,c,d,new et(r),e,s)})),n.register("squarev2",(function(){return new Ft(t,new pt(u))})),n.register("masterpass",(function(){return new Nt(t,c,d,new ct.a(r))})),n.register("googlepayauthorizenet",(function(){return new zt(t,d,Object(nt.a)(t,new it.a),s)})),n.register("googlepaybraintree",(function(){return new zt(t,d,Object(nt.a)(t,new ot.a(new Z.a(new J.a(r)))),s)})),n.register("googlepaycheckoutcom",(function(){return new zt(t,d,Object(nt.a)(t,new at.a(e)),s)})),n.register("googlepaystripe",(function(){return new zt(t,d,Object(nt.a)(t,new st.a),s)})),n.register("default",(function(){return new Rt(t,new z(new L(e),a,new _t(St(r),new wt(e))))})),n}(m,l)),new c,new j(new k(l)),new xr(new Gr(g,l)),A,new Y.a(new H.a(l)),new Qt(qr(m,g,l,S,d),A,I),new Wr(new Kr(l,{locale:d})),new Zr(function(t,e){var n=new B.a,r=new U.a(e),o=new Yr.a(e),a=new Vr.a(o,r);return n.register("amazon",(function(){return new Qr(t,a,new Y.a(new H.a(e)),new pt(new ut(e)),new W(Object(i.getScriptLoader)()))})),n.register("amazonpay",(function(){return new Xr(t,a,new Y.a(new H.a(e)),Object(K.a)(),new Zr(n))})),n.register("default",(function(){return new $r(t,a)})),n}(m,l)),new ni(new ri(l)),I,new Oe(new Se(l)),P,M)}var vi=n(146),Ci=n(147),Oi=n(148),Si=n(150),wi=n.n(Si),Ii=function(){function t(t,e){this._logger=e;var n=this._transformConfig(t),r=n.locale,i=n.locales,o=n.translations;this._locale=r,this._locales=i,this._translations=o,this._formatters={}}return t.prototype.mapKeys=function(t){var e=this;Object.keys(t).forEach((function(n){var r="optimized_checkout."+t[n];e._translations["optimized_checkout."+n]=e._translations[r]}))},t.prototype.getLocale=function(){return this._hasTranslations()?this._locale:"en"},t.prototype.translate=function(t,e){void 0===e&&(e={});var n="optimized_checkout."+t;if("string"!=typeof this._translations[n])return this._logger.warn('Translation key "'+n+'" is missing'),n;if(!this._formatters[n]){var r=new wi.a(this._locales[n]);this._formatters[n]=r.compile(this._translations[n]||"")}return this._formatters[n](this._transformData(e))},t.prototype._transformConfig=function(t){void 0===t&&(t={});var e={defaultTranslations:{},translations:{},locales:{},locale:t.locale||"en"},n=t.locales||{},r=this._flattenObject(t.translations||{}),i=this._flattenObject(t.defaultTranslations||{});return Object(Bt.union)(Object.keys(i),Object.keys(r)).forEach((function(t){r&&r[t]?(e.translations[t]=r[t],e.locales[t]=n[t]||e.locale):(e.translations[t]=i[t],e.locales[t]="en")})),e},t.prototype._flattenObject=function(t,e,n){var r=this;void 0===e&&(e={}),void 0===n&&(n="");try{Object.keys(t).forEach((function(i){var o=t[i],a=n?n+"."+i:i;if(Object(Bt.isObject)(o))return r._flattenObject(o,e,a);e[a]=o}))}catch(t){this._logger.warn("Unable to parse object: "+t)}return e},t.prototype._transformData=function(t){return Object.keys(t).reduce((function(e,n){var r=t[n];return e[n]=null==r?"":r,e}),{})},t.prototype._hasTranslations=function(){var t=this;return Object.keys(this._locales).map((function(e){return t._locales[e]})).filter((function(e){return e.split("-")[0]===t._locale.split("-")[0]})).length>0},t=Object(d.__decorate)([Dt.a],t)}();function Ai(t){return void 0===t&&(t={}),new Ii(t,f())}var Ei=function(){function t(t){if(!t)throw new Error("Currency settings missing");var e=t.decimalPlaces,n=t.symbolLocation,r=t.symbol,i=t.thousandsSeparator,o=t.decimalSeparator;if("string"!=typeof n||"string"!=typeof r||"string"!=typeof i||"string"!=typeof o||"string"!=typeof e)throw new It.a("Invalid currency settings provided");this._decimalPlaces=parseInt(e,10),this._symbolLocation=n,this._symbol=r,this._thousandsSeparator=i,this._decimalSeparator=o}return t.prototype.format=function(t){if("number"!=typeof t)throw new It.a("Invalid amount provided");var e=this._formatNumber(t),n=this._formatCurrency(e);return t<0?"-"+n:n},t.prototype._formatNumber=function(t){var e=Math.abs(t),n=this._toFixed(e,this._decimalPlaces).split("."),r=n[0],i=n[1],o=void 0===i?"":i,a=r.replace(/\B(?=(\d{3})+(?!\d))/g,this._thousandsSeparator);return this._decimalPlaces<1?a:[a,o].join(this._decimalSeparator)},t.prototype._formatCurrency=function(t){return"left"===this._symbolLocation.toLowerCase()?""+this._symbol+t:""+t+this._symbol},t.prototype._toFixed=function(t,e){return(+(Math.round(+(t+"e"+e))+"e"+-e)).toFixed(e)},t}(),Pi=function(){function t(t){this._storeConfig=t,this._customerFormatter=new Ei(this._storeConfig.shopperCurrency),this._storeFormatter=new Ei(this._storeConfig.currency)}return t.prototype.toCustomerCurrency=function(t){var e=this._storeConfig.shopperCurrency.exchangeRate;return this._customerFormatter.format(t*e)},t.prototype.toStoreCurrency=function(t){return this._storeFormatter.format(t)},t=Object(d.__decorate)([Dt.a],t)}();function ji(t){return new Pi(t)}var ki,Mi=n(66),Ti=n.n(Mi);!function(t){t[t.CUSTOMER=1]="CUSTOMER",t[t.SHIPPING=2]="SHIPPING",t[t.BILLING=3]="BILLING",t[t.PAYMENT=4]="PAYMENT"}(ki||(ki={}));var Ri={customer:ki.CUSTOMER,shipping:ki.SHIPPING,billing:ki.BILLING,payment:ki.PAYMENT},Di=function(){function t(t,e,n,r){var i=(void 0===r?{}:r).checkoutSteps;if(this.checkoutService=t,this.storage=e,this.analytics=n,this._checkoutStarted=!1,this._completedSteps={},this._viewedSteps={},this._analyticStepOrder=["customer","shipping","billing","payment"],void 0!==i){if(i.some((function(t){return!(t in Ri)})))throw new It.a("Invalid checkout steps provided. Valid values are: "+Object(Bt.keys)(Ri).join(", ")+".");this._analyticStepOrder=i}}return t.prototype.trackCheckoutStarted=function(){if(!this._checkoutStarted){var t=this.getCheckout();if(t){var e=t.coupons,n=t.grandTotal,r=t.shippingCostTotal,i=t.taxTotal,o=t.cart,a=o.lineItems,s=o.discountAmount,c=o.id,u=this.saveExtraItemsData(c,a);this.analytics.track("Checkout Started",this.getTrackingPayload({revenue:n,shipping:r,tax:i,discount:s,coupons:e,lineItems:a,extraItemsData:u})),this._checkoutStarted=!0}}},t.prototype.trackOrderComplete=function(){var t,e=this,n=this.getOrder();if(n){var r=n.isComplete,i=n.orderId,o=n.orderAmount,a=n.shippingCostTotal,s=n.taxTotal,c=n.discountAmount,u=n.coupons,d=n.lineItems,p=n.cartId;if(r){var h=this.readExtraItemsData(p);if(null!==h){var l=null===(t=this.checkoutService.getState().data.getConfig())||void 0===t?void 0:t.checkoutSettings.features["DATA-6891.missing_orders_within_GA"],m=this.getTrackingPayload({orderId:i,revenue:o,shipping:a,tax:s,discount:c,coupons:u,extraItemsData:h,lineItems:d});if(l&&this.analytics.hasPayloadLimit(m))return this.analytics.hit("transaction",{"&ti":m.orderId,"&ta":m.affiliation,"&tr":m.revenue,"&ts":m.shipping,"&tt":m.tax,"&tcc":m.coupon,"&cu":m.currency}),m.products.map((function(t){e.analytics.hit("item",{"&ti":m.orderId,"&in":t.name,"&ic":t.sku,"&iv":""+t.category,"&ip":t.price,"&iq":t.quantity})})),this.clearExtraItemData(p);this.analytics.track("Order Completed",m),this.clearExtraItemData(p)}}}},t.prototype.trackStepViewed=function(t){var e=this.getIdFromStep(t);e&&!this.hasStepViewed(e)&&(this.trackViewed(e),this.backfill(e))},t.prototype.trackStepCompleted=function(t){var e=this.getIdFromStep(t);e&&!this.hasStepCompleted(e)&&(this.backfill(e),this.trackCompleted(e))},t.prototype.backfill=function(t){for(var e=0,n=this._analyticStepOrder;e<n.length;e++){var r=n[e],i=this.getIdFromStep(r);if(!i)break;if(this.hasStepViewed(i)||this.trackViewed(i),i===t)break;this.hasStepCompleted(i)||this.trackCompleted(i)}},t.prototype.trackCompleted=function(t){var e=this.getSelectedShippingOption(),n=(this.getShopperCurrency()||{}).code,r=void 0===n?"":n,i=this.getPaymentMethodName(),o={step:t,currency:r};e&&(o.shippingMethod=e.description),i&&(o.paymentMethod=i),o.shippingMethod||o.paymentMethod||(o.shippingMethod=" "),this.analytics.track("Checkout Step Completed",o);var a=e?e.id:"",s=t===ki.SHIPPING?t+"-"+a:t;this._completedSteps[s]=!0},t.prototype.getTrackingPayload=function(t){var e=t.orderId,n=t.revenue,r=t.shipping,i=t.tax,o=t.discount,a=t.coupons,s=t.extraItemsData,c=t.lineItems,u=(this.getShopperCurrency()||{}).code,d=void 0===u?"":u,p=(this.getStoreProfile()||{}).storeName;return{orderId:e,affiliation:void 0===p?"":p,revenue:this.toShopperCurrency(n),shipping:this.toShopperCurrency(r),tax:this.toShopperCurrency(i),discount:this.toShopperCurrency(o),coupon:(a||[]).map((function(t){return t.code.toUpperCase()})).join(","),currency:d,products:this.getProducts(s,c)}},t.prototype.hasStepCompleted=function(t){var e=this.getSelectedShippingOption(),n=e?e.id:"";return this._completedSteps.hasOwnProperty(t)||t===ki.SHIPPING&&this._completedSteps.hasOwnProperty(t+"-"+n)},t.prototype.hasStepViewed=function(t){return!!this._viewedSteps[t]},t.prototype.getIdFromStep=function(t){var e=t.split(".");return Ri[e[0]]||null},t.prototype.trackViewed=function(t){var e=this.getShopperCurrency();this.analytics.track("Checkout Step Viewed",{step:t,currency:e?e.code:""}),this._viewedSteps[t]=!0},t.prototype.getOrder=function(){return(0,this.checkoutService.getState().data.getOrder)()},t.prototype.getCheckout=function(){return(0,this.checkoutService.getState().data.getCheckout)()},t.prototype.getShopperCurrency=function(){var t=(0,this.checkoutService.getState().data.getConfig)();return t&&t.shopperCurrency},t.prototype.getStoreProfile=function(){var t=(0,this.checkoutService.getState().data.getConfig)();return t&&t.storeProfile},t.prototype.toShopperCurrency=function(t){var e=(this.getShopperCurrency()||{}).exchangeRate,n=void 0===e?1:e;return Math.round(t*n*100)/100},t.prototype.saveExtraItemsData=function(t,e){var n=Object(d.__spreadArrays)(e.physicalItems,e.digitalItems).reduce((function(t,e){return t[e.productId]={brand:e.brand?e.brand:"",category:e.categoryNames?e.categoryNames.join(", "):""},t}),{});try{return this.storage.setItem(this.getStorageKey(t),JSON.stringify(n)),n}catch(t){return{}}},t.prototype.getStorageKey=function(t){return t?"ORDER_ITEMS_"+t:""},t.prototype.readExtraItemsData=function(t){try{var e=this.storage.getItem(this.getStorageKey(t));return e?JSON.parse(e):null}catch(t){return null}},t.prototype.clearExtraItemData=function(t){try{this.storage.removeItem(this.getStorageKey(t))}catch(t){}},t.prototype.getSelectedShippingOption=function(){var t=this.checkoutService.getState().data.getSelectedShippingOption();return t&&t.id&&t.description?t:null},t.prototype.getPaymentMethodName=function(){var t=this.checkoutService.getState().data.getSelectedPaymentMethod();return t&&t.config&&t.config.displayName||""},t.prototype.getProducts=function(t,e){var n=this,r=(e.customItems||[]).map((function(t){return{product_id:t.id,sku:t.sku,price:t.listPrice,quantity:t.quantity,name:t.name}})),i=e.giftCertificates.map((function(t){return{product_id:t.id,price:n.toShopperCurrency(t.amount),name:t.name,quantity:1}})),o=Object(d.__spreadArrays)(e.physicalItems,e.digitalItems).map((function(e){var n;return e.options&&e.options.length&&(n=e.options.map((function(t){return t.name+":"+t.value}))).sort(),{product_id:e.productId,sku:e.sku,price:e.salePrice,image_url:e.imageUrl,name:e.name,quantity:e.quantity,brand:t[e.productId]?t[e.productId].brand:"",category:t[e.productId]?t[e.productId].category:"",variant:(n||[]).join(", ")}}));return Object(d.__spreadArrays)(r,o,i)},t}();var zi=function(){function t(){}return t.prototype.trackCheckoutStarted=function(){},t.prototype.trackOrderComplete=function(){},t.prototype.trackStepViewed=function(){},t.prototype.trackStepCompleted=function(){},t}();function Li(t,e){var n=t.getState().data.getConfig();if(!n)throw new v.b(v.a.MissingCheckoutConfig);return n.checkoutSettings.isAnalyticsEnabled&&function(t){return Boolean(t.analytics)}(window)?new Di(t,Ti.a,window.analytics,e):new zi}n.d(e,"createTimeout",(function(){return r.createTimeout})),n.d(e,"createCheckoutService",(function(){return bi})),n.d(e,"createCheckoutButtonInitializer",(function(){return vi.a})),n.d(e,"embedCheckout",(function(){return Ci.a})),n.d(e,"createEmbeddedCheckoutMessenger",(function(){return Oi.a})),n.d(e,"createLanguageService",(function(){return Ai})),n.d(e,"createCurrencyService",(function(){return ji})),n.d(e,"createStepTracker",(function(){return Li}))},,function(t,e,n){"use strict";var r,i,o,a,s=n(0),c=n(52),u=n(46),d=function(){function t(t){this._scriptLoader=t,this._window=window}return t.prototype.loadPaypalCommerce=function(t,e){return Object(s.__awaiter)(this,void 0,void 0,(function(){return Object(s.__generator)(this,(function(n){switch(n.label){case 0:return this._validateParams(t,e),this._window.paypalLoadScript?[3,2]:("https://unpkg.com/@paypal/paypal-js@1.0.2/dist/paypal.browser.min.js",[4,this._scriptLoader.loadScript("https://unpkg.com/@paypal/paypal-js@1.0.2/dist/paypal.browser.min.js",{async:!0,attributes:{}})]);case 1:if(n.sent(),!this._window.paypalLoadScript)throw new u.a;n.label=2;case 2:return[4,this._window.paypalLoadScript(t)];case 3:if(n.sent(),!this._window.paypal)throw new u.a;return[2,this._window.paypal]}}))}))},t.prototype._validateParams=function(t,e){var n;if(t?t["client-id"]?t["merchant-id"]||e||(n="merchant-id"):n="client-id":n="options",n)throw new c.a('Unable to proceed because "'+n+'" argument in PayPal script is not provided.')},t}(),p=n(191),h=n(2),l=n(112),m=n(180),f=n(13);!function(t){t.paypal="paypal",t.checkout="checkout",t.buynow="buynow",t.pay="pay",t.installment="installment"}(r||(r={})),function(t){t.vertical="vertical",t.horizontal="horizontal"}(i||(i={})),function(t){t.gold="gold",t.blue="blue",t.silver="silver",t.black="black",t.white="white"}(o||(o={})),function(t){t.pill="pill",t.rect="rect"}(a||(a={}));var _=function(){function t(t,e){this._paypalScriptLoader=t,this._paypalCommerceRequestSender=e,this._validateStyleParams=function(t){var e=Object(s.__assign)({},t),n=t.label,c=t.color,u=t.layout,d=t.shape,p=t.height,h=t.tagline;return n&&!r[n]&&delete e.label,u&&!i[u]&&delete e.layout,c&&!o[c]&&delete e.color,d&&!a[d]&&delete e.shape,"number"==typeof p?e.height=p<25?25:p>55?55:p:delete e.height,("boolean"!=typeof h||h&&e.layout!==i[i.horizontal])&&delete e.tagline,e}}return t.prototype.initialize=function(t,e,n){return Object(s.__awaiter)(this,void 0,void 0,(function(){var r;return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return r=this,[4,this._paypalScriptLoader.loadPaypalCommerce(t,e)];case 1:return r._paypal=i.sent(),this._gatewayId=n,[2,this._paypal]}}))}))},t.prototype.renderButtons=function(t,e,n,r){var i=this;if(void 0===n&&(n={}),void 0===r&&(r={}),!this._paypal||!this._paypal.Buttons)throw new u.a;var o=r.paramsForProvider,a=r.fundingKey,c=r.onRenderButton,d=Object(s.__assign)(Object(s.__assign)({},n),{createOrder:function(){return i._setupPayment(t,o)},onClick:function(t,e){return Object(s.__awaiter)(i,void 0,void 0,(function(){var r;return Object(s.__generator)(this,(function(i){return this._fundingSource=t.fundingSource,[2,null===(r=n.onClick)||void 0===r?void 0:r.call(n,t,e)]}))}))}});return n.style&&(d.style=this._validateStyleParams(n.style)),a&&(this._fundingSource=this._paypal.FUNDING[a],d.fundingSource=this._fundingSource),this._paypalButtons=this._paypal.Buttons(d),this._paypalButtons.isEligible()||this._processNotEligible(d,a),null==c||c(),this._paypalButtons.render(e),this._paypalButtons},t.prototype.getOrderId=function(){return this._orderId},t.prototype.renderMessages=function(t,e){if(!this._paypal||!this._paypal.Messages)throw new u.a;return this._paypalMessages=this._paypal.Messages({amount:t,placement:"cart",style:{layout:"text"}}),this._paypalMessages.render(e),this._paypalMessages},t.prototype.renderHostedFields=function(t,e,n){return Object(s.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a=this;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:if(!this._paypal||!this._paypal.HostedFields)throw new u.a;if(r=e.fields,i=e.styles,!this._paypal.HostedFields.isEligible())throw new l.b(l.a.PaymentNotInitialized);return o=this,[4,this._paypal.HostedFields.render({fields:r,styles:i,paymentsSDK:!0,createOrder:function(){return a._setupPayment(t,{isCreditCard:!0})}})];case 1:return o._hostedFields=s.sent(),n&&Object.keys(n).forEach((function(t){a._hostedFields.on(t,n[t])})),[2]}}))}))},t.prototype.submitHostedFields=function(t){return Object(s.__awaiter)(this,void 0,void 0,(function(){return Object(s.__generator)(this,(function(e){if(!this._hostedFields)throw new l.b(l.a.PaymentNotInitialized);return[2,this._hostedFields.submit(Object(h.omitBy)(t,h.isNil))]}))}))},t.prototype.getHostedFieldsValidationState=function(){if(!this._hostedFields)throw new l.b(l.a.PaymentNotInitialized);var t=this._hostedFields.getState().fields;return{isValid:Object.keys(t).every((function(e){var n;return null===(n=t[e])||void 0===n?void 0:n.isValid})),fields:t}},t.prototype.deinitialize=function(){var t,e;null===(e=null===(t=this._paypalButtons)||void 0===t?void 0:t.close)||void 0===e||e.call(t),this._paypal=void 0,this._paypalButtons=void 0,this._fundingSource=void 0,this._hostedFields=void 0},t.prototype._setupPayment=function(t,e){return void 0===e&&(e={}),Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(s.__generator)(this,(function(o){switch(o.label){case 0:return n=Object(s.__assign)(Object(s.__assign)({},e),{isCredit:"credit"===this._fundingSource||"paylater"===this._fundingSource}),r=this._gatewayId===f.a.PAYPAL_COMMERCE_ALTERNATIVE_METHODS,[4,this._paypalCommerceRequestSender.setupPayment(t,Object(s.__assign)(Object(s.__assign)({},n),{isAPM:r}))];case 1:return i=o.sent().orderId,this._orderId=i,[2,i]}}))}))},t.prototype._processNotEligible=function(t,e){var n,r,i,o;if(e!==(null===(n=this._paypal)||void 0===n?void 0:n.FUNDING.PAYLATER)||(t.fundingSource=null===(r=this._paypal)||void 0===r?void 0:r.FUNDING.CREDIT,this._paypalButtons=null===(i=this._paypal)||void 0===i?void 0:i.Buttons(t),null===(o=this._paypalButtons)||void 0===o||!o.isEligible()))throw new m.a("PayPal "+(this._fundingSource||"")+" is not available for your region. Please use PayPal Checkout instead.")},t}();function y(t,e){var n=new d(t),r=new p.a(e);return new _(n,r)}n.d(e,"a",(function(){return y}))},function(t,e,n){"use strict";var r=n(33),i=n(0),o=n(112),a=function(){function t(t){this._amazonPayV2ScriptLoader=t}return t.prototype.initialize=function(t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return e=this,[4,this._amazonPayV2ScriptLoader.load(t)];case 1:return e._amazonPayV2SDK=n.sent(),[2]}}))}))},t.prototype.deinitialize=function(){return this._amazonPayV2SDK=void 0,Promise.resolve()},t.prototype.bindButton=function(t,e,n){this._getAmazonPayV2SDK().Pay.bindChangeAction("#"+t,{amazonCheckoutSessionId:e,changeAction:n})},t.prototype.createButton=function(t,e){return this._getAmazonPayV2SDK().Pay.renderButton(t,e)},t.prototype.signout=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return this._amazonPayV2SDK&&this._amazonPayV2SDK.Pay.signout(),[2,Promise.resolve()]}))}))},t.prototype._getAmazonPayV2SDK=function(){if(!this._amazonPayV2SDK)throw new o.b(o.a.PaymentNotInitialized);return this._amazonPayV2SDK},t}(),s=n(46),c=n(104),u=function(){function t(t,e){void 0===e&&(e=window),this._scriptLoader=t,this._window=e}return t.prototype.load=function(t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var e,n,r,o;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return e=t.initializationData,n=(void 0===e?{}:e).region,r=void 0===n?"us":n,o=c.c[r],[4,this._scriptLoader.loadScript("https://static-"+o+".payments-amazon.com/checkout.js")];case 1:if(i.sent(),!this._window.amazon)throw new s.a;return[2,this._window.amazon]}}))}))},t}();function d(){return new a(new u(Object(r.getScriptLoader)()))}n.d(e,"a",(function(){return d}))},function(t,e,n){"use strict";var r=n(47),i=n(33),o=n(202),a=n(178),s=n(138),c=n(131),u=n(132),d=n(201),p=n(175),h=n(88),l=n(89),m=n(112),f=n(12),_=n(181),y=n(170),g=n(30),b=function(){function t(t,e,n,r,i,o,a){this._store=t,this._paymentMethodActionCreator=e,this._googlePayScriptLoader=n,this._googlePayInitializer=r,this._billingAddressActionCreator=i,this._consignmentActionCreator=o,this._requestSender=a}return t.prototype.initialize=function(t){return this._methodId=t,this._configureWallet()},t.prototype.deinitialize=function(){return this._googlePayInitializer.teardown()},t.prototype.createButton=function(t,e,n){if(void 0===e&&(e=g.c.Short),void 0===n&&(n=g.b.Default),!this._googlePayClient)throw new m.b(m.a.PaymentNotInitialized);return this._googlePayClient.createButton({buttonColor:n,buttonType:e,onClick:t})},t.prototype.displayWallet=function(){if(!this._googlePayClient)throw new m.b(m.a.PaymentNotInitialized);return this._googlePayClient.loadPaymentData(this._getPaymentDataRequest())},t.prototype.handleSuccess=function(t){var e=this;return this._googlePayInitializer.parseResponse(t).then((function(t){return e._postForm(t)})).then((function(){return e._updateBillingAddress(t)}))},t.prototype.updateShippingAddress=function(t){return this._store.dispatch(this._consignmentActionCreator.updateAddress(this._mapGooglePayAddressToShippingAddress(t)))},t.prototype._configureWallet=function(){var t=this,e=this._getMethodId();return this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(e)).then((function(n){var r=n.paymentMethods.getPaymentMethod(e),i=n.checkout.getCheckout(),o=!!n.shippingAddress.getShippingAddress();if(!r)throw new f.b(f.a.MissingPaymentMethod);if(!i)throw new f.b(f.a.MissingCheckout);var a=r.config.testMode;return Promise.all([t._googlePayScriptLoader.load(),t._googlePayInitializer.initialize(i,r,o)]).then((function(e){var n=e[0],r=e[1];return t._googlePayClient=t._getGooglePayClient(n,a),t._paymentDataRequest=r,t._googlePayClient.isReadyToPay({allowedPaymentMethods:[{type:r.allowedPaymentMethods[0].type,parameters:{allowedAuthMethods:r.allowedPaymentMethods[0].parameters.allowedAuthMethods,allowedCardNetworks:r.allowedPaymentMethods[0].parameters.allowedCardNetworks}}],apiVersion:r.apiVersion,apiVersionMinor:r.apiVersionMinor}).then((function(t){if(!t.result)throw new y.a}))}))}))},t.prototype._getCardInformation=function(t){return{type:t.cardType,number:t.lastFour}},t.prototype._getPaymentDataRequest=function(){if(!this._paymentDataRequest)throw new _.a;return this._paymentDataRequest},t.prototype._getGooglePayClient=function(t,e){if(void 0===e)throw new f.b(f.a.MissingPaymentMethod);var n=e?"TEST":"PRODUCTION";return new t.payments.api.PaymentsClient({environment:n})},t.prototype._getMethodId=function(){if(!this._methodId)throw new m.b(m.a.PaymentNotInitialized);return this._methodId},t.prototype._mapGooglePayAddressToBillingAddress=function(t,e){return{id:e,firstName:t.paymentMethodData.info.billingAddress.name.split(" ").slice(0,-1).join(" "),lastName:t.paymentMethodData.info.billingAddress.name.split(" ").slice(-1).join(" "),company:t.paymentMethodData.info.billingAddress.companyName,address1:t.paymentMethodData.info.billingAddress.address1,address2:t.paymentMethodData.info.billingAddress.address2+t.paymentMethodData.info.billingAddress.address3,city:t.paymentMethodData.info.billingAddress.locality,stateOrProvince:t.paymentMethodData.info.billingAddress.administrativeArea,stateOrProvinceCode:t.paymentMethodData.info.billingAddress.administrativeArea,postalCode:t.paymentMethodData.info.billingAddress.postalCode,countryCode:t.paymentMethodData.info.billingAddress.countryCode,phone:t.paymentMethodData.info.billingAddress.phoneNumber,customFields:[],email:t.email}},t.prototype._mapGooglePayAddressToShippingAddress=function(t){return{firstName:t.name.split(" ").slice(0,-1).join(" "),lastName:t.name.split(" ").slice(-1).join(" "),company:t.companyName,address1:t.address1,address2:t.address2+t.address3,city:t.locality,stateOrProvince:t.administrativeArea,stateOrProvinceCode:t.administrativeArea,postalCode:t.postalCode,countryCode:t.countryCode,phone:t.phoneNumber,customFields:[]}},t.prototype._postForm=function(t){var e=t.details;return this._requestSender.post("/checkout.php",{headers:{Accept:"text/html","Content-Type":"application/x-www-form-urlencoded"},body:{payment_type:t.type,nonce:t.nonce,provider:this._getMethodId(),action:"set_external_checkout",card_information:this._getCardInformation(e)}})},t.prototype._updateBillingAddress=function(t){var e=this._store.getState().billingAddress.getBillingAddress();if(!e)throw new f.b(f.a.MissingBillingAddress);var n=this._mapGooglePayAddressToBillingAddress(t,e.id);return this._store.dispatch(this._billingAddressActionCreator.updateAddress(n))},t}(),v=n(46),C=function(){function t(t,e){void 0===e&&(e=window),this._scriptLoader=t,this._window=e}return t.prototype.load=function(){var t=this;return this._scriptLoader.loadScript("https://pay.google.com/gp/p/js/pay.js").then((function(){if(!t._window.google)throw new v.a;return t._window.google}))},t}();function O(t,e){var n=Object(r.createRequestSender)(),m=Object(i.getScriptLoader)();return new b(t,new h.a(new l.a(n)),new C(m),e,new o.a(new a.a(n),new d.a(new p.a(n))),new c.a(new u.a(n),new s.a(n)),n)}n.d(e,"a",(function(){return O}))},,function(t,e,n){"use strict";var r=n(0),i=n(1),o=n(3),a=n(8),s=n(91),c=n(172),u=function(t){function e(e){var n=t.call(this,e)||this;return n.name="UpdateSubscriptionsError",n.type="update_subscriptions",n}return Object(r.__extends)(e,t),e}(n(37).a),d=function(){function t(t){this._subscriptionsRequestSender=t}return t.prototype.updateSubscriptions=function(t,e){var n=this;return Object(o.concat)(Object(o.of)(Object(i.createAction)(c.a.UpdateSubscriptionsRequested)),Object(o.defer)((function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,this._subscriptionsRequestSender.updateSubscriptions(t,e)];case 1:return n=r.sent().body,[2,Object(i.createAction)(c.a.UpdateSubscriptionsSucceeded,n)]}}))}))}))).pipe(Object(a.catchError)((function(t){return Object(s.a)(c.a.UpdateSubscriptionsFailed,new u(t))})))},t}();e.a=d},function(t,e,n){"use strict";var r=n(0),i=n(1),o=n(3),a=n(8),s=n(91),c=n(12),u=n(20),d=function(t){function e(e){var n=t.call(this,e||"Unable to continue as a guest because the customer is already signed in.")||this;return n.name="UnableToContinueAsGuestError",n.type="unable_to_continue_as_guest",n}return Object(r.__extends)(e,t),e}(n(23).a),p=function(){function t(t,e){this._requestSender=t,this._subscriptionActionCreator=e}return t.prototype.continueAsGuest=function(t,e){var n=this;return function(p){var h=p.getState(),l=h.checkout.getCheckout();if(!l)throw new c.b(c.a.MissingCheckout);var m=h.customer.getCustomer();if(m&&!m.isGuest)throw new d;var f,_=h.billingAddress.getBillingAddress();if(_){_.country;var y=Object(r.__rest)(_,["country"]);f=Object(r.__assign)(Object(r.__assign)({},y),t)}else f=t;return Object(o.merge)(Object(o.concat)(Object(o.of)(Object(i.createAction)(u.a.ContinueAsGuestRequested)),Object(o.defer)((function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return[4,this._createOrUpdateBillingAddress(l.id,f,e)];case 1:return t=n.sent().body,[2,Object(i.createAction)(u.a.ContinueAsGuestSucceeded,t)]}}))}))}))).pipe(Object(a.catchError)((function(t){return Object(s.a)(u.a.ContinueAsGuestFailed,t)}))),n._updateCustomerConsent(t,e))}},t.prototype.updateAddress=function(t,e){var n=this;return function(a){return o.Observable.create((function(o){var s=a.getState(),d=s.checkout.getCheckout();if(!d)throw new c.b(c.a.MissingCheckout);o.next(Object(i.createAction)(u.a.UpdateBillingAddressRequested));var p=s.billingAddress.getBillingAddress(),h=Object(r.__assign)(Object(r.__assign)({},t),{email:void 0===t.email&&p?p.email:t.email});p&&p.id&&(h.id=p.id),n._createOrUpdateBillingAddress(d.id,h,e).then((function(t){var e=t.body;o.next(Object(i.createAction)(u.a.UpdateBillingAddressSucceeded,e)),o.complete()})).catch((function(t){o.error(Object(i.createErrorAction)(u.a.UpdateBillingAddressFailed,t))}))}))}},t.prototype._updateCustomerConsent=function(t,e){var n=t.email,r=t.acceptsAbandonedCartEmails,i=t.acceptsMarketingNewsletter;return null==r&&null==i?Object(o.empty)():this._subscriptionActionCreator.updateSubscriptions({email:n,acceptsMarketingNewsletter:i||!1,acceptsAbandonedCartEmails:r||!1},e)},t.prototype._createOrUpdateBillingAddress=function(t,e,n){return e.id?this._requestSender.updateAddress(t,e,n):this._requestSender.createAddress(t,e,n)},t}();e.a=p},function(t,e,n){"use strict";var r=n(2);function i(t){return e=t.lineItems.physicalItems.filter((function(t){return!t.addedByPromotion})),Object(r.reduce)(e,(function(t,e){return t+e.quantity}),0);var e}n.d(e,"a",(function(){return i}))}]);
//# sourceMappingURL=checkout-sdk.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/data-store/lib/combine-reducers.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@bigcommerce/data-store/lib/combine-reducers.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var lodash_1 = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
var shallowEqual = __webpack_require__(/*! shallowequal */ "./node_modules/shallowequal/index.js");
function combineReducers(reducers, options) {
    var _a = (options || {}).equalityCheck, equalityCheck = _a === void 0 ? shallowEqual : _a;
    return function (state, action) {
        return Object.keys(reducers).reduce(function (result, key) {
            var reducer = reducers[key];
            var currentState = state ? state[key] : undefined;
            var newState = reducer(currentState, action);
            if (equalityCheck(currentState, newState) && result) {
                return result;
            }
            return lodash_1.assign({}, result, (_a = {}, _a[key] = newState, _a));
            var _a;
        }, state || {});
    };
}
exports.default = combineReducers;
//# sourceMappingURL=combine-reducers.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/data-store/lib/compose-reducers.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@bigcommerce/data-store/lib/compose-reducers.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
var lodash_1 = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
var shallowEqual = __webpack_require__(/*! shallowequal */ "./node_modules/shallowequal/index.js");
function composeReducers() {
    var args = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
    }
    var reducers = args;
    var options = {};
    if (typeof args[args.length - 1] === 'object') {
        reducers = args.slice(0, -1);
        options = tslib_1.__assign({}, options, args[args.length - 1]);
    }
    var _a = options.equalityCheck, equalityCheck = _a === void 0 ? shallowEqual : _a;
    return function (state, action) {
        var newState = lodash_1.flowRight(reducers
            .filter(function (reducer) { return reducer.length === 2; })
            .map(function (reducer) { return lodash_1.curryRight(reducer)(action); }))(state);
        return equalityCheck(state, newState) ? state : newState;
    };
}
exports.default = composeReducers;
//# sourceMappingURL=compose-reducers.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/data-store/lib/create-action.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@bigcommerce/data-store/lib/create-action.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
var lodash_1 = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
function createAction(type, payload, meta) {
    if (typeof type !== 'string' || type === '') {
        throw new Error('`type` must be a string');
    }
    return tslib_1.__assign({ type: type }, lodash_1.omitBy({ payload: payload, meta: meta }, function (value) { return value === undefined; }));
}
exports.default = createAction;
//# sourceMappingURL=create-action.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/data-store/lib/create-data-store.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@bigcommerce/data-store/lib/create-data-store.js ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var combine_reducers_1 = __webpack_require__(/*! ./combine-reducers */ "./node_modules/@bigcommerce/data-store/lib/combine-reducers.js");
var data_store_1 = __webpack_require__(/*! ./data-store */ "./node_modules/@bigcommerce/data-store/lib/data-store.js");
function createDataStore(reducer, initialState, options) {
    if (typeof reducer === 'function') {
        return new data_store_1.default(reducer, initialState, options);
    }
    return new data_store_1.default(combine_reducers_1.default(reducer, { equalityCheck: options && options.equalityCheck }), initialState, options);
}
exports.default = createDataStore;
//# sourceMappingURL=create-data-store.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/data-store/lib/create-error-action.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@bigcommerce/data-store/lib/create-error-action.js ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
var create_action_1 = __webpack_require__(/*! ./create-action */ "./node_modules/@bigcommerce/data-store/lib/create-action.js");
function createErrorAction(type, payload, meta) {
    return tslib_1.__assign({}, create_action_1.default(type, payload, meta), { error: true });
}
exports.default = createErrorAction;
//# sourceMappingURL=create-error-action.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/data-store/lib/data-store.js":
/*!****************************************************************!*\
  !*** ./node_modules/@bigcommerce/data-store/lib/data-store.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
var lodash_1 = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
var rxjs_1 = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var operators_1 = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var shallowEqual = __webpack_require__(/*! shallowequal */ "./node_modules/shallowequal/index.js");
var deep_freeze_1 = __webpack_require__(/*! ./deep-freeze */ "./node_modules/@bigcommerce/data-store/lib/deep-freeze.js");
var is_observable_action_like_1 = __webpack_require__(/*! ./is-observable-action-like */ "./node_modules/@bigcommerce/data-store/lib/is-observable-action-like.js");
var noop_action_transformer_1 = __webpack_require__(/*! ./noop-action-transformer */ "./node_modules/@bigcommerce/data-store/lib/noop-action-transformer.js");
var noop_state_transformer_1 = __webpack_require__(/*! ./noop-state-transformer */ "./node_modules/@bigcommerce/data-store/lib/noop-state-transformer.js");
var DataStore = (function () {
    function DataStore(reducer, initialState, options) {
        if (initialState === void 0) { initialState = {}; }
        var _this = this;
        this._reducer = reducer;
        this._options = tslib_1.__assign({ actionTransformer: noop_action_transformer_1.default, equalityCheck: shallowEqual, shouldWarnMutation: true, stateTransformer: noop_state_transformer_1.default }, options);
        this._state$ = new rxjs_1.BehaviorSubject(this._options.stateTransformer(initialState));
        this._notification$ = new rxjs_1.Subject();
        this._dispatchers = {};
        this._dispatchQueue$ = new rxjs_1.Subject();
        this._errors = {};
        this._dispatchQueue$
            .pipe(operators_1.mergeMap(function (dispatcher$) { return dispatcher$.pipe(operators_1.concatMap(function (action$) { return action$; })); }), operators_1.filter(function (action) { return !!action.type; }), operators_1.scan(function (states, action) {
            return _this._transformStates(states, action);
        }, {
            state: initialState,
            transformedState: this._state$.getValue(),
        }), operators_1.distinctUntilChanged(function (_a, _b) {
            var stateA = _a.state;
            var stateB = _b.state;
            return _this._options.equalityCheck(stateA, stateB);
        }), operators_1.map(function (_a) {
            var transformedState = _a.transformedState;
            return transformedState;
        }))
            .subscribe(this._state$);
        this.dispatch({ type: 'INIT' });
    }
    DataStore.prototype.dispatch = function (action, options) {
        if (is_observable_action_like_1.default(action)) {
            return this._dispatchObservableAction(action, options);
        }
        if (typeof action === 'function') {
            return this._dispatchThunkAction(action, options);
        }
        return this._dispatchAction(action);
    };
    DataStore.prototype.getState = function () {
        return this._state$.getValue();
    };
    DataStore.prototype.notifyState = function () {
        this._notification$.next(this.getState());
    };
    DataStore.prototype.subscribe = function (subscriber) {
        var _this = this;
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        var options = typeof args[0] === 'object' ? args[0] : undefined;
        var filters = options ? (options.filters || []) : args;
        var state$ = this._state$;
        if (filters.length > 0) {
            state$ = state$.pipe(operators_1.distinctUntilChanged(function (stateA, stateB) {
                return filters.every(function (filterFn) {
                    return _this._options.equalityCheck(filterFn(stateA), filterFn(stateB));
                });
            }));
        }
        if (options && options.initial === false) {
            state$ = state$.pipe(operators_1.skip(1));
        }
        var subscriptions = [
            state$.subscribe(subscriber),
            this._notification$.subscribe(subscriber),
        ];
        return function () { return subscriptions.forEach(function (subscription) { return subscription.unsubscribe(); }); };
    };
    DataStore.prototype._transformStates = function (states, action) {
        try {
            var newState = this._options.shouldWarnMutation === false ?
                this._reducer(states.state, action) :
                deep_freeze_1.default(this._reducer(states.state, action), {
                    equalityCheck: this._options.equalityCheck,
                    previousValue: states.state,
                });
            var transformedState = this._options.stateTransformer(newState);
            return { state: newState, transformedState: transformedState };
        }
        catch (error) {
            this._getDispatchError(action.meta && action.meta.queueId).next(error);
            return { state: states.state, transformedState: states.transformedState };
        }
    };
    DataStore.prototype._dispatchAction = function (action) {
        return this._dispatchObservableAction(action.error ? rxjs_1.throwError(action) : rxjs_1.of(action));
    };
    DataStore.prototype._dispatchObservableAction = function (action$, options) {
        var _this = this;
        if (options === void 0) { options = {}; }
        return new Promise(function (resolve, reject) {
            var error$ = _this._getDispatchError(options.queueId);
            var transformedAction$ = _this._options.actionTransformer(rxjs_1.from(action$).pipe(operators_1.map(function (action) {
                return options.queueId ?
                    lodash_1.merge({}, action, { meta: { queueId: options.queueId } }) :
                    action;
            })));
            _this._getDispatcher(options.queueId).next(rxjs_1.from(transformedAction$)
                .pipe(operators_1.map(function (action, index) {
                if (index === 0) {
                    error$.pipe(operators_1.first()).subscribe(reject);
                }
                if (action.error) {
                    reject(action.payload);
                }
                return action;
            }), operators_1.catchError(function (action) {
                reject(action instanceof Error ? action : action.payload);
                return rxjs_1.of(action);
            }), operators_1.tap({
                complete: function () {
                    resolve(_this.getState());
                },
            })));
        });
    };
    DataStore.prototype._dispatchThunkAction = function (thunkAction, options) {
        var _this = this;
        if (options === void 0) { options = {}; }
        return this._dispatchObservableAction(rxjs_1.defer(function () { return thunkAction(_this); }), options);
    };
    DataStore.prototype._getDispatcher = function (queueId) {
        if (queueId === void 0) { queueId = 'default'; }
        if (!this._dispatchers[queueId]) {
            this._dispatchers[queueId] = new rxjs_1.Subject();
            this._dispatchQueue$.next(this._dispatchers[queueId]);
        }
        return this._dispatchers[queueId];
    };
    DataStore.prototype._getDispatchError = function (queueId) {
        if (queueId === void 0) { queueId = 'default'; }
        if (!this._errors[queueId]) {
            this._errors[queueId] = new rxjs_1.Subject();
        }
        return this._errors[queueId];
    };
    return DataStore;
}());
exports.default = DataStore;
//# sourceMappingURL=data-store.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/data-store/lib/deep-freeze.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@bigcommerce/data-store/lib/deep-freeze.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var lodash_1 = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
var shallowEqual = __webpack_require__(/*! shallowequal */ "./node_modules/shallowequal/index.js");
function deepFreeze(object, options) {
    try {
        var _a = options || {}, _b = _a.equalityCheck, equalityCheck_1 = _b === void 0 ? shallowEqual : _b, _c = _a.previousValue, previousValue_1 = _c === void 0 ? null : _c;
        if (equalityCheck_1(object, previousValue_1) && Object.isFrozen(previousValue_1)) {
            return previousValue_1;
        }
        if (Object.isFrozen(object) || (!Array.isArray(object) && !lodash_1.isPlainObject(object))) {
            return object;
        }
        if (Array.isArray(object)) {
            return Object.freeze(object.map(function (value, index) {
                return deepFreeze(value, {
                    equalityCheck: equalityCheck_1,
                    previousValue: Array.isArray(previousValue_1) ? previousValue_1[index] : undefined,
                });
            }));
        }
        return Object.freeze(Object.getOwnPropertyNames(object).reduce(function (result, key) {
            result[key] = deepFreeze(object[key], {
                equalityCheck: equalityCheck_1,
                previousValue: previousValue_1 && previousValue_1.hasOwnProperty(key) ?
                    previousValue_1[key] :
                    undefined,
            });
            return result;
        }, {}));
    }
    catch (error) {
        if (error instanceof TypeError) {
            return object;
        }
        throw error;
    }
}
exports.default = deepFreeze;
//# sourceMappingURL=deep-freeze.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/data-store/lib/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/@bigcommerce/data-store/lib/index.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var data_store_1 = __webpack_require__(/*! ./data-store */ "./node_modules/@bigcommerce/data-store/lib/data-store.js");
exports.DataStore = data_store_1.default;
var combine_reducers_1 = __webpack_require__(/*! ./combine-reducers */ "./node_modules/@bigcommerce/data-store/lib/combine-reducers.js");
exports.combineReducers = combine_reducers_1.default;
var compose_reducers_1 = __webpack_require__(/*! ./compose-reducers */ "./node_modules/@bigcommerce/data-store/lib/compose-reducers.js");
exports.composeReducers = compose_reducers_1.default;
var create_action_1 = __webpack_require__(/*! ./create-action */ "./node_modules/@bigcommerce/data-store/lib/create-action.js");
exports.createAction = create_action_1.default;
var create_data_store_1 = __webpack_require__(/*! ./create-data-store */ "./node_modules/@bigcommerce/data-store/lib/create-data-store.js");
exports.createDataStore = create_data_store_1.default;
var create_error_action_1 = __webpack_require__(/*! ./create-error-action */ "./node_modules/@bigcommerce/data-store/lib/create-error-action.js");
exports.createErrorAction = create_error_action_1.default;
var deep_freeze_1 = __webpack_require__(/*! ./deep-freeze */ "./node_modules/@bigcommerce/data-store/lib/deep-freeze.js");
exports.deepFreeze = deep_freeze_1.default;
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/data-store/lib/is-observable-action-like.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@bigcommerce/data-store/lib/is-observable-action-like.js ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function isObservableActionLike(action) {
    return (typeof action.subscribe === 'function' ||
        typeof action.then === 'function');
}
exports.default = isObservableActionLike;
//# sourceMappingURL=is-observable-action-like.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/data-store/lib/noop-action-transformer.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@bigcommerce/data-store/lib/noop-action-transformer.js ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function noopActionTransformer(action) {
    return action;
}
exports.default = noopActionTransformer;
//# sourceMappingURL=noop-action-transformer.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/data-store/lib/noop-state-transformer.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@bigcommerce/data-store/lib/noop-state-transformer.js ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function noopStateTransformer(state) {
    return state;
}
exports.default = noopStateTransformer;
//# sourceMappingURL=noop-state-transformer.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/form-poster/lib/create-form-poster.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@bigcommerce/form-poster/lib/create-form-poster.js ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var form_builder_1 = __webpack_require__(/*! ./form-builder */ "./node_modules/@bigcommerce/form-poster/lib/form-builder.js");
var form_poster_1 = __webpack_require__(/*! ./form-poster */ "./node_modules/@bigcommerce/form-poster/lib/form-poster.js");
function createFormPoster(options) {
    var formBuilder = new form_builder_1.default();
    var formPoster = new form_poster_1.default(formBuilder, options);
    return formPoster;
}
exports.default = createFormPoster;
//# sourceMappingURL=create-form-poster.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/form-poster/lib/form-builder.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@bigcommerce/form-poster/lib/form-builder.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var FormBuilder = (function () {
    function FormBuilder() {
    }
    FormBuilder.prototype.build = function (url, data, target) {
        var _this = this;
        var form = document.createElement('form');
        form.style.display = 'none';
        form.setAttribute('action', url);
        form.setAttribute('method', 'POST');
        form.setAttribute('target', target || '_top');
        Object.keys(data)
            .forEach(function (key) {
            var value = data[key];
            form.appendChild(_this._createInput(value, key));
        });
        return form;
    };
    FormBuilder.prototype._createInput = function (value, key) {
        var input = document.createElement('input');
        input.setAttribute('name', key);
        input.setAttribute('type', 'hidden');
        input.setAttribute('value', value);
        return input;
    };
    return FormBuilder;
}());
exports.default = FormBuilder;
//# sourceMappingURL=form-builder.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/form-poster/lib/form-poster.js":
/*!******************************************************************!*\
  !*** ./node_modules/@bigcommerce/form-poster/lib/form-poster.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var url_utils_1 = __webpack_require__(/*! ./url-utils */ "./node_modules/@bigcommerce/form-poster/lib/url-utils.js");
var FormPoster = (function () {
    function FormPoster(_formBuilder, _options) {
        this._formBuilder = _formBuilder;
        this._options = _options;
    }
    FormPoster.prototype.postForm = function (url, data, callback, target) {
        var form = this._formBuilder.build(this._prependHost(url), data, target);
        window.addEventListener('unload', function handleUnload() {
            window.removeEventListener('unload', handleUnload);
            if (callback) {
                callback();
            }
        });
        document.body.appendChild(form);
        form.submit();
        document.body.removeChild(form);
    };
    FormPoster.prototype._prependHost = function (url) {
        if (!this._options || !this._options.host || url_utils_1.isAbsoluteUrl(url)) {
            return url;
        }
        return url_utils_1.joinPaths(this._options.host, url);
    };
    return FormPoster;
}());
exports.default = FormPoster;
//# sourceMappingURL=form-poster.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/form-poster/lib/index.js":
/*!************************************************************!*\
  !*** ./node_modules/@bigcommerce/form-poster/lib/index.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var create_form_poster_1 = __webpack_require__(/*! ./create-form-poster */ "./node_modules/@bigcommerce/form-poster/lib/create-form-poster.js");
exports.createFormPoster = create_form_poster_1.default;
var form_poster_1 = __webpack_require__(/*! ./form-poster */ "./node_modules/@bigcommerce/form-poster/lib/form-poster.js");
exports.FormPoster = form_poster_1.default;
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/form-poster/lib/url-utils.js":
/*!****************************************************************!*\
  !*** ./node_modules/@bigcommerce/form-poster/lib/url-utils.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function isAbsoluteUrl(url) {
    return /^https?:\/\//.test(url);
}
exports.isAbsoluteUrl = isAbsoluteUrl;
function joinPaths(pathA, pathB) {
    return removeTrailingSlash(pathA) + "/" + removeLeadingSlash(pathB);
}
exports.joinPaths = joinPaths;
function removeTrailingSlash(path) {
    return path.replace(/\/$/, '');
}
function removeLeadingSlash(path) {
    return path.replace(/^\//, '');
}
//# sourceMappingURL=url-utils.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/memoize/lib/cache-key-maps.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@bigcommerce/memoize/lib/cache-key-maps.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function isTerminalCacheKeyMap(map) {
    return map.hasOwnProperty('cacheKey');
}
exports.isTerminalCacheKeyMap = isTerminalCacheKeyMap;
function isRootCacheKeyMap(map) {
    return map.hasOwnProperty('parentMap');
}
exports.isRootCacheKeyMap = isRootCacheKeyMap;
//# sourceMappingURL=cache-key-maps.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/memoize/lib/cache-key-resolver.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@bigcommerce/memoize/lib/cache-key-resolver.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
var lodash_1 = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
var shallowequal_1 = tslib_1.__importDefault(__webpack_require__(/*! shallowequal */ "./node_modules/shallowequal/index.js"));
var cache_key_maps_1 = __webpack_require__(/*! ./cache-key-maps */ "./node_modules/@bigcommerce/memoize/lib/cache-key-maps.js");
var CacheKeyResolver = /** @class */ (function () {
    function CacheKeyResolver(options) {
        this._lastId = 0;
        this._map = { maps: [] };
        this._usedMaps = [];
        this._options = tslib_1.__assign({ isEqual: shallowequal_1.default, maxSize: 0, onExpire: lodash_1.noop }, options);
    }
    CacheKeyResolver.prototype.getKey = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        var result = this._resolveMap.apply(this, args);
        var index = result.index, parentMap = result.parentMap;
        var map = result.map;
        if (map && map.cacheKey) {
            map.usedCount++;
        }
        else {
            map = this._generateMap(parentMap, args.slice(index));
        }
        // Keep track of the least used map so we can remove it if the size of
        // the stack exceeds the maximum size.
        this._removeLeastUsedMap(map);
        return map.cacheKey;
    };
    CacheKeyResolver.prototype.getUsedCount = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        var map = this._resolveMap.apply(this, args).map;
        return map ? map.usedCount : 0;
    };
    CacheKeyResolver.prototype._resolveMap = function () {
        var _a;
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        var index = 0;
        var parentMap = this._map;
        // Traverse the tree to find the linked list of maps that match the
        // arguments of the call. Each intermediate or terminal map contains a
        // value that could be used to match with the arguments. The last map in
        // the list (the terminal) should contain a cache key. If it can does
        // not exist, we will return a falsy value so that the caller could
        // handle and generate a new cache key.
        while (parentMap.maps.length) {
            var isMatched = false;
            for (var mapIndex = 0; mapIndex < parentMap.maps.length; mapIndex++) {
                var map = parentMap.maps[mapIndex];
                if (!this._options.isEqual(map.value, args[index])) {
                    continue;
                }
                // Move the most recently used map to the top of the stack for
                // quicker access
                (_a = parentMap.maps).unshift.apply(_a, parentMap.maps.splice(mapIndex, 1));
                if ((args.length === 0 || index === args.length - 1) && cache_key_maps_1.isTerminalCacheKeyMap(map)) {
                    return { index: index, map: map, parentMap: parentMap };
                }
                isMatched = true;
                parentMap = map;
                index++;
                break;
            }
            if (!isMatched) {
                break;
            }
        }
        return { index: index, parentMap: parentMap };
    };
    CacheKeyResolver.prototype._generateMap = function (parent, args) {
        var index = 0;
        var parentMap = parent;
        var map;
        do {
            map = {
                maps: [],
                parentMap: parentMap,
                usedCount: 1,
                value: args[index],
            };
            // Continue to build the tree of maps so that it could be resolved
            // next time when the function is called with the same set of
            // arguments.
            parentMap.maps.unshift(map);
            parentMap = map;
            index++;
        } while (index < args.length);
        var terminalMap = map;
        terminalMap.cacheKey = "" + ++this._lastId;
        return terminalMap;
    };
    CacheKeyResolver.prototype._removeLeastUsedMap = function (recentlyUsedMap) {
        if (!this._options.maxSize) {
            return;
        }
        var index = this._usedMaps.indexOf(recentlyUsedMap);
        this._usedMaps.splice(index === -1 ? 0 : index, index === -1 ? 0 : 1, recentlyUsedMap);
        if (this._usedMaps.length <= this._options.maxSize) {
            return;
        }
        var map = this._usedMaps.pop();
        if (!map) {
            return;
        }
        this._removeMap(map);
        this._options.onExpire(map.cacheKey);
    };
    CacheKeyResolver.prototype._removeMap = function (map) {
        if (!map.parentMap) {
            return;
        }
        map.parentMap.maps.splice(map.parentMap.maps.indexOf(map), 1);
        if (cache_key_maps_1.isRootCacheKeyMap(map.parentMap)) {
            return;
        }
        this._removeMap(map.parentMap);
    };
    return CacheKeyResolver;
}());
exports.default = CacheKeyResolver;
//# sourceMappingURL=cache-key-resolver.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/memoize/lib/index.js":
/*!********************************************************!*\
  !*** ./node_modules/@bigcommerce/memoize/lib/index.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var memoize_1 = __webpack_require__(/*! ./memoize */ "./node_modules/@bigcommerce/memoize/lib/memoize.js");
exports.memoize = memoize_1.default;
exports.memoizeOne = memoize_1.memoizeOne;
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/memoize/lib/memoize.js":
/*!**********************************************************!*\
  !*** ./node_modules/@bigcommerce/memoize/lib/memoize.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
var lodash_memoize_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash.memoize */ "./node_modules/lodash.memoize/index.js")); // tslint:disable-line:match-default-export-name
var shallowequal_1 = tslib_1.__importDefault(__webpack_require__(/*! shallowequal */ "./node_modules/shallowequal/index.js"));
var cache_key_resolver_1 = tslib_1.__importDefault(__webpack_require__(/*! ./cache-key-resolver */ "./node_modules/@bigcommerce/memoize/lib/cache-key-resolver.js"));
function memoize(fn, options) {
    var _a = tslib_1.__assign({ maxSize: 0, isEqual: shallowequal_1.default }, options), maxSize = _a.maxSize, isEqual = _a.isEqual;
    var cache = new Map();
    var resolver = new cache_key_resolver_1.default({
        isEqual: isEqual,
        maxSize: maxSize,
        onExpire: function (key) { return cache.delete(key); },
    });
    var memoized = lodash_memoize_1.default(fn, function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        return resolver.getKey.apply(resolver, args);
    });
    memoized.cache = cache;
    return memoized;
}
exports.default = memoize;
function memoizeOne(fn, options) {
    return memoize(fn, tslib_1.__assign({}, options, { maxSize: 1 }));
}
exports.memoizeOne = memoizeOne;
//# sourceMappingURL=memoize.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/request-sender/esm/cache.js":
/*!***************************************************************!*\
  !*** ./node_modules/@bigcommerce/request-sender/esm/cache.js ***!
  \***************************************************************/
/*! exports provided: DefaultCache */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DefaultCache", function() { return DefaultCache; });
/* harmony import */ var query_string__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! query-string */ "./node_modules/query-string/index.js");
/* harmony import */ var query_string__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(query_string__WEBPACK_IMPORTED_MODULE_0__);

var DefaultCache = (function () {
    function DefaultCache() {
        this._cache = {};
    }
    DefaultCache.prototype.read = function (url, options) {
        var cacheKey = this.getKey(url, options.params);
        return this._cache[cacheKey] || null;
    };
    DefaultCache.prototype.write = function (url, options, response) {
        var cacheKey = this.getKey(url, options.params);
        this._cache[cacheKey] = response;
    };
    DefaultCache.prototype.getKey = function (url, params) {
        if (params === void 0) { params = {}; }
        if (Object.keys(params).length === 0) {
            return url;
        }
        return url + "?" + query_string__WEBPACK_IMPORTED_MODULE_0__["stringify"](params);
    };
    return DefaultCache;
}());

//# sourceMappingURL=cache.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/request-sender/esm/create-request-sender.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@bigcommerce/request-sender/esm/create-request-sender.js ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return createRequestSender; });
/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! js-cookie */ "./node_modules/js-cookie/src/js.cookie.js");
/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(js_cookie__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _payload_transformer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./payload-transformer */ "./node_modules/@bigcommerce/request-sender/esm/payload-transformer.js");
/* harmony import */ var _request_factory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./request-factory */ "./node_modules/@bigcommerce/request-sender/esm/request-factory.js");
/* harmony import */ var _request_sender__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./request-sender */ "./node_modules/@bigcommerce/request-sender/esm/request-sender.js");




function createRequestSender(options) {
    return new _request_sender__WEBPACK_IMPORTED_MODULE_3__["default"](new _request_factory__WEBPACK_IMPORTED_MODULE_2__["default"](), new _payload_transformer__WEBPACK_IMPORTED_MODULE_1__["default"](), js_cookie__WEBPACK_IMPORTED_MODULE_0__, options);
}
//# sourceMappingURL=create-request-sender.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/request-sender/esm/create-timeout.js":
/*!************************************************************************!*\
  !*** ./node_modules/@bigcommerce/request-sender/esm/create-timeout.js ***!
  \************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return createTimeout; });
/* harmony import */ var _timeout__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./timeout */ "./node_modules/@bigcommerce/request-sender/esm/timeout.js");

function createTimeout(delay) {
    return new _timeout__WEBPACK_IMPORTED_MODULE_0__["default"](delay);
}
//# sourceMappingURL=create-timeout.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/request-sender/esm/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/@bigcommerce/request-sender/esm/index.js ***!
  \***************************************************************/
/*! exports provided: createRequestSender, createTimeout, RequestSender, Timeout */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _create_request_sender__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./create-request-sender */ "./node_modules/@bigcommerce/request-sender/esm/create-request-sender.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "createRequestSender", function() { return _create_request_sender__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var _create_timeout__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./create-timeout */ "./node_modules/@bigcommerce/request-sender/esm/create-timeout.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "createTimeout", function() { return _create_timeout__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony import */ var _request_sender__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./request-sender */ "./node_modules/@bigcommerce/request-sender/esm/request-sender.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RequestSender", function() { return _request_sender__WEBPACK_IMPORTED_MODULE_2__["default"]; });

/* harmony import */ var _timeout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./timeout */ "./node_modules/@bigcommerce/request-sender/esm/timeout.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Timeout", function() { return _timeout__WEBPACK_IMPORTED_MODULE_3__["default"]; });





//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/request-sender/esm/is-promise.js":
/*!********************************************************************!*\
  !*** ./node_modules/@bigcommerce/request-sender/esm/is-promise.js ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return isPromise; });
function isPromise(promise) {
    return !!promise &&
        (typeof promise === 'object' || typeof promise === 'function') &&
        typeof promise.then === 'function';
}
//# sourceMappingURL=is-promise.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/request-sender/esm/payload-transformer.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@bigcommerce/request-sender/esm/payload-transformer.js ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _to_form_url_encoded__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./to-form-url-encoded */ "./node_modules/@bigcommerce/request-sender/esm/to-form-url-encoded.js");


var JSON_CONTENT_TYPE_REGEXP = /application\/(\w+\+)?json/;
var FORM_URLENCODED_CONTENT_TYPE_REGEXP = /application\/x-www-form-urlencoded/;
var PayloadTransformer = (function () {
    function PayloadTransformer() {
    }
    PayloadTransformer.prototype.toRequestBody = function (options) {
        var contentType = options.headers ? this._getHeader(options.headers, 'Content-Type') : '';
        if (options.body) {
            if (JSON_CONTENT_TYPE_REGEXP.test(contentType)) {
                return JSON.stringify(options.body);
            }
            if (FORM_URLENCODED_CONTENT_TYPE_REGEXP.test(contentType)) {
                return Object(_to_form_url_encoded__WEBPACK_IMPORTED_MODULE_1__["default"])(options.body);
            }
        }
        return options.body;
    };
    PayloadTransformer.prototype.toResponse = function (xhr) {
        var headers = this._parseResponseHeaders(xhr.getAllResponseHeaders());
        var body = this._parseResponseBody('response' in xhr ? xhr.response : xhr.responseText, headers);
        return {
            body: body,
            headers: headers,
            status: xhr.status,
            statusText: xhr.statusText,
        };
    };
    PayloadTransformer.prototype._parseResponseBody = function (body, headers) {
        var contentType = this._getHeader(headers, 'Content-Type');
        if (body && JSON_CONTENT_TYPE_REGEXP.test(contentType)) {
            return JSON.parse(body);
        }
        return body;
    };
    PayloadTransformer.prototype._parseResponseHeaders = function (rawHeaders) {
        var lines = rawHeaders ? rawHeaders.replace(/\r?\n[\t ]+/g, ' ').split(/\r?\n/) : [];
        return lines.reduce(function (headers, line) {
            var _a;
            var parts = line.split(':');
            var key = (parts.shift() || '').trim();
            if (!key) {
                return headers;
            }
            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"])({}, headers), (_a = {}, _a[key.toLowerCase()] = parts.join(':').trim(), _a));
        }, {});
    };
    PayloadTransformer.prototype._getHeader = function (headers, key) {
        if (!headers || !key) {
            return '';
        }
        return headers[key] || headers[key.toLowerCase()] || '';
    };
    return PayloadTransformer;
}());
/* harmony default export */ __webpack_exports__["default"] = (PayloadTransformer);
//# sourceMappingURL=payload-transformer.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/request-sender/esm/request-factory.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@bigcommerce/request-sender/esm/request-factory.js ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var query_string__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! query-string */ "./node_modules/query-string/index.js");
/* harmony import */ var query_string__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(query_string__WEBPACK_IMPORTED_MODULE_0__);

var RequestFactory = (function () {
    function RequestFactory() {
    }
    RequestFactory.prototype.createRequest = function (url, options) {
        var xhr = new XMLHttpRequest();
        this._configureRequest(xhr, url, options);
        return xhr;
    };
    RequestFactory.prototype._configureRequest = function (xhr, url, options) {
        if (options === void 0) { options = {}; }
        xhr.open(options.method || 'GET', this._formatUrl(url, options.params, options.encodeParams), true);
        if (options.headers) {
            this._configureRequestHeaders(xhr, options.headers);
        }
        if (typeof options.credentials === 'boolean') {
            xhr.withCredentials = options.credentials;
        }
        if (typeof options.timeout === 'number') {
            xhr.timeout = options.timeout;
        }
    };
    RequestFactory.prototype._configureRequestHeaders = function (xhr, headers) {
        Object.keys(headers)
            .filter(function (key) { return headers[key] !== null; })
            .forEach(function (key) {
            xhr.setRequestHeader(key, headers[key]);
        });
    };
    RequestFactory.prototype._formatUrl = function (url, params, encodeParams) {
        if (encodeParams === void 0) { encodeParams = true; }
        if (!params || Object.keys(params).length === 0) {
            return url;
        }
        return url + "?" + query_string__WEBPACK_IMPORTED_MODULE_0__["stringify"](params, { encode: encodeParams });
    };
    return RequestFactory;
}());
/* harmony default export */ __webpack_exports__["default"] = (RequestFactory);
//# sourceMappingURL=request-factory.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/request-sender/esm/request-sender.js":
/*!************************************************************************!*\
  !*** ./node_modules/@bigcommerce/request-sender/esm/request-sender.js ***!
  \************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash.merge */ "./node_modules/lodash.merge/index.js");
/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_merge__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _cache__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./cache */ "./node_modules/@bigcommerce/request-sender/esm/cache.js");
/* harmony import */ var _is_promise__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./is-promise */ "./node_modules/@bigcommerce/request-sender/esm/is-promise.js");
/* harmony import */ var _timeout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./timeout */ "./node_modules/@bigcommerce/request-sender/esm/timeout.js");





var RequestSender = (function () {
    function RequestSender(_requestFactory, _payloadTransformer, _cookie, _options) {
        if (_options === void 0) { _options = {}; }
        this._requestFactory = _requestFactory;
        this._payloadTransformer = _payloadTransformer;
        this._cookie = _cookie;
        this._options = _options;
        this._cache = this._options.cache || new _cache__WEBPACK_IMPORTED_MODULE_2__["DefaultCache"]();
    }
    RequestSender.prototype.sendRequest = function (url, options) {
        var _this = this;
        var requestOptions = this._mergeDefaultOptions(url, options);
        var cachedRequest = this._getCachedRequest(url, requestOptions);
        if (cachedRequest) {
            return Promise.resolve(cachedRequest);
        }
        var request = this._requestFactory.createRequest(this._prependHost(url), requestOptions);
        return new Promise(function (resolve, reject) {
            var requestHandler = function () {
                var response = _this._payloadTransformer.toResponse(request);
                if (response.status >= 200 && response.status < 300) {
                    _this._cacheRequest(url, requestOptions, response);
                    resolve(response);
                }
                else {
                    reject(response);
                }
            };
            request.onload = requestHandler;
            request.onerror = requestHandler;
            request.onabort = requestHandler;
            request.ontimeout = requestHandler;
            if (requestOptions.timeout instanceof _timeout__WEBPACK_IMPORTED_MODULE_4__["default"]) {
                requestOptions.timeout.onComplete(function () { return request.abort(); });
                requestOptions.timeout.start();
            }
            if (Object(_is_promise__WEBPACK_IMPORTED_MODULE_3__["default"])(requestOptions.timeout)) {
                requestOptions.timeout.then(function () { return request.abort(); });
            }
            request.send(_this._payloadTransformer.toRequestBody(requestOptions));
        });
    };
    RequestSender.prototype.get = function (url, options) {
        return this.sendRequest(url, Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"])({}, options), { method: 'GET' }));
    };
    RequestSender.prototype.post = function (url, options) {
        return this.sendRequest(url, Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"])({}, options), { method: 'POST' }));
    };
    RequestSender.prototype.put = function (url, options) {
        return this.sendRequest(url, Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"])({}, options), { method: 'PUT' }));
    };
    RequestSender.prototype.patch = function (url, options) {
        return this.sendRequest(url, Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"])({}, options), { method: 'PATCH' }));
    };
    RequestSender.prototype.delete = function (url, options) {
        return this.sendRequest(url, Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"])({}, options), { method: 'DELETE' }));
    };
    RequestSender.prototype._mergeDefaultOptions = function (url, options) {
        var defaultOptions = {
            credentials: true,
            encodeParams: true,
            headers: {
                Accept: 'application/json, text/plain, */*',
            },
            method: 'GET',
        };
        var csrfToken = this._cookie.get('XSRF-TOKEN');
        if (csrfToken && defaultOptions.headers && !this._isAssetRequest(url, options)) {
            defaultOptions.headers['X-XSRF-TOKEN'] = csrfToken;
        }
        if (options && options.body && defaultOptions.headers) {
            defaultOptions.headers['Content-Type'] = 'application/json';
        }
        return lodash_merge__WEBPACK_IMPORTED_MODULE_1___default()({}, defaultOptions, options);
    };
    RequestSender.prototype._prependHost = function (url) {
        if (!this._options.host || /^https?:\/\//.test(url)) {
            return url;
        }
        return this._options.host.replace(/\/$/, '') + "/" + url.replace(/^\//, '');
    };
    RequestSender.prototype._shouldCacheRequest = function (options) {
        var method = options.method || 'GET';
        return method.toUpperCase() === 'GET' && Boolean(options.cache);
    };
    RequestSender.prototype._getCachedRequest = function (url, options) {
        if (this._shouldCacheRequest(options)) {
            return this._cache.read(url, options);
        }
        return null;
    };
    RequestSender.prototype._cacheRequest = function (url, options, response) {
        if (this._shouldCacheRequest(options)) {
            this._cache.write(url, options, response);
        }
    };
    RequestSender.prototype._isAssetRequest = function (url, options) {
        if (options && options.method && options.method.toUpperCase() !== 'GET') {
            return false;
        }
        return /\.(png|gif|jpe?g|css|js|json|svg|html?)$/.test(url.split('?')[0]);
    };
    return RequestSender;
}());
/* harmony default export */ __webpack_exports__["default"] = (RequestSender);
//# sourceMappingURL=request-sender.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/request-sender/esm/timeout.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@bigcommerce/request-sender/esm/timeout.js ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
var Timeout = (function () {
    function Timeout(_delay) {
        var _this = this;
        this._delay = _delay;
        this._resolve = function () { };
        this._promise = new Promise(function (resolve) {
            _this._resolve = resolve;
        });
    }
    Timeout.prototype.onComplete = function (callback) {
        this._promise.then(callback);
    };
    Timeout.prototype.complete = function () {
        this._resolve();
        if (this._timeoutToken) {
            window.clearTimeout(this._timeoutToken);
        }
    };
    Timeout.prototype.start = function () {
        var _this = this;
        if (this._delay) {
            this._timeoutToken = window.setTimeout(function () { return _this.complete(); }, this._delay);
        }
    };
    return Timeout;
}());
/* harmony default export */ __webpack_exports__["default"] = (Timeout);
//# sourceMappingURL=timeout.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/request-sender/esm/to-form-url-encoded.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@bigcommerce/request-sender/esm/to-form-url-encoded.js ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return toFormUrlEncoded; });
function toFormUrlEncoded(data) {
    if (typeof data !== 'object' || data === null) {
        return data;
    }
    return Object.keys(data)
        .filter(function (key) { return data[key] !== undefined; })
        .map(function (key) {
        var value = data[key];
        if (typeof value === 'string') {
            return key + "=" + encodeURIComponent(value);
        }
        return key + "=" + encodeURIComponent(JSON.stringify(value) || '');
    })
        .join('&');
}
//# sourceMappingURL=to-form-url-encoded.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/script-loader/lib/browser-support.js":
/*!************************************************************************!*\
  !*** ./node_modules/@bigcommerce/script-loader/lib/browser-support.js ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var BrowserSupport = (function () {
    function BrowserSupport() {
    }
    BrowserSupport.prototype.canSupportRel = function (rel) {
        var link = document.createElement('link');
        return !!(link.relList &&
            link.relList.supports &&
            link.relList.supports(rel));
    };
    return BrowserSupport;
}());
exports.default = BrowserSupport;
//# sourceMappingURL=browser-support.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/script-loader/lib/create-script-loader.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@bigcommerce/script-loader/lib/create-script-loader.js ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var request_sender_1 = __webpack_require__(/*! @bigcommerce/request-sender */ "./node_modules/@bigcommerce/request-sender/esm/index.js");
var browser_support_1 = __webpack_require__(/*! ./browser-support */ "./node_modules/@bigcommerce/script-loader/lib/browser-support.js");
var script_loader_1 = __webpack_require__(/*! ./script-loader */ "./node_modules/@bigcommerce/script-loader/lib/script-loader.js");
function createScriptLoader() {
    return new script_loader_1.default(new browser_support_1.default(), request_sender_1.createRequestSender());
}
exports.default = createScriptLoader;
//# sourceMappingURL=create-script-loader.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/script-loader/lib/create-stylesheet-loader.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@bigcommerce/script-loader/lib/create-stylesheet-loader.js ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var request_sender_1 = __webpack_require__(/*! @bigcommerce/request-sender */ "./node_modules/@bigcommerce/request-sender/esm/index.js");
var browser_support_1 = __webpack_require__(/*! ./browser-support */ "./node_modules/@bigcommerce/script-loader/lib/browser-support.js");
var stylesheet_loader_1 = __webpack_require__(/*! ./stylesheet-loader */ "./node_modules/@bigcommerce/script-loader/lib/stylesheet-loader.js");
function createStylesheetLoader() {
    return new stylesheet_loader_1.default(new browser_support_1.default(), request_sender_1.createRequestSender());
}
exports.default = createStylesheetLoader;
//# sourceMappingURL=create-stylesheet-loader.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/script-loader/lib/get-script-loader.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@bigcommerce/script-loader/lib/get-script-loader.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var create_script_loader_1 = __webpack_require__(/*! ./create-script-loader */ "./node_modules/@bigcommerce/script-loader/lib/create-script-loader.js");
var instance;
function getScriptLoader() {
    if (!instance) {
        instance = create_script_loader_1.default();
    }
    return instance;
}
exports.default = getScriptLoader;
//# sourceMappingURL=get-script-loader.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/script-loader/lib/get-stylesheet-loader.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@bigcommerce/script-loader/lib/get-stylesheet-loader.js ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var create_stylesheet_loader_1 = __webpack_require__(/*! ./create-stylesheet-loader */ "./node_modules/@bigcommerce/script-loader/lib/create-stylesheet-loader.js");
var instance;
function getStylesheetLoader() {
    if (!instance) {
        instance = create_stylesheet_loader_1.default();
    }
    return instance;
}
exports.default = getStylesheetLoader;
//# sourceMappingURL=get-stylesheet-loader.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/script-loader/lib/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/@bigcommerce/script-loader/lib/index.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var script_loader_1 = __webpack_require__(/*! ./script-loader */ "./node_modules/@bigcommerce/script-loader/lib/script-loader.js");
exports.ScriptLoader = script_loader_1.default;
var create_script_loader_1 = __webpack_require__(/*! ./create-script-loader */ "./node_modules/@bigcommerce/script-loader/lib/create-script-loader.js");
exports.createScriptLoader = create_script_loader_1.default;
var get_script_loader_1 = __webpack_require__(/*! ./get-script-loader */ "./node_modules/@bigcommerce/script-loader/lib/get-script-loader.js");
exports.getScriptLoader = get_script_loader_1.default;
var stylesheet_loader_1 = __webpack_require__(/*! ./stylesheet-loader */ "./node_modules/@bigcommerce/script-loader/lib/stylesheet-loader.js");
exports.StylesheetLoader = stylesheet_loader_1.default;
var create_stylesheet_loader_1 = __webpack_require__(/*! ./create-stylesheet-loader */ "./node_modules/@bigcommerce/script-loader/lib/create-stylesheet-loader.js");
exports.createStylesheetLoader = create_stylesheet_loader_1.default;
var get_stylesheet_loader_1 = __webpack_require__(/*! ./get-stylesheet-loader */ "./node_modules/@bigcommerce/script-loader/lib/get-stylesheet-loader.js");
exports.getStylesheetLoader = get_stylesheet_loader_1.default;
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/script-loader/lib/script-loader.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@bigcommerce/script-loader/lib/script-loader.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var ScriptLoader = (function () {
    function ScriptLoader(_browserSupport, _requestSender) {
        this._browserSupport = _browserSupport;
        this._requestSender = _requestSender;
        this._scripts = {};
        this._preloadedScripts = {};
    }
    ScriptLoader.prototype.loadScript = function (src, options) {
        var _this = this;
        if (!this._scripts[src]) {
            this._scripts[src] = new Promise(function (resolve, reject) {
                var script = document.createElement('script');
                var _a = options || {}, _b = _a.async, async = _b === void 0 ? false : _b, _c = _a.attributes, attributes = _c === void 0 ? {} : _c;
                Object.keys(attributes)
                    .forEach(function (key) {
                    script.setAttribute(key, attributes[key]);
                });
                script.onload = function () { return resolve(); };
                script.onreadystatechange = function () { return resolve(); };
                script.onerror = function (event) {
                    delete _this._scripts[src];
                    reject(event);
                };
                script.async = async;
                script.src = src;
                document.body.appendChild(script);
            });
        }
        return this._scripts[src];
    };
    ScriptLoader.prototype.loadScripts = function (urls, options) {
        var _this = this;
        return Promise.all(urls.map(function (url) { return _this.loadScript(url, options); }))
            .then(function () { return undefined; });
    };
    ScriptLoader.prototype.preloadScript = function (url, options) {
        var _this = this;
        if (!this._preloadedScripts[url]) {
            this._preloadedScripts[url] = new Promise(function (resolve, reject) {
                var _a = (options || {}).prefetch, prefetch = _a === void 0 ? false : _a;
                var rel = prefetch ? 'prefetch' : 'preload';
                if (_this._browserSupport.canSupportRel(rel)) {
                    var preloadedScript = document.createElement('link');
                    preloadedScript.as = 'script';
                    preloadedScript.rel = rel;
                    preloadedScript.href = url;
                    preloadedScript.onload = function () {
                        resolve();
                    };
                    preloadedScript.onerror = function () {
                        delete _this._preloadedScripts[url];
                        reject();
                    };
                    document.head.appendChild(preloadedScript);
                }
                else {
                    _this._requestSender.get(url, {
                        credentials: false,
                        headers: { Accept: 'application/javascript' },
                    })
                        .then(function () { return resolve(); })
                        .catch(reject);
                }
            });
        }
        return this._preloadedScripts[url];
    };
    ScriptLoader.prototype.preloadScripts = function (urls, options) {
        var _this = this;
        return Promise.all(urls.map(function (url) { return _this.preloadScript(url, options); }))
            .then(function () { return undefined; });
    };
    return ScriptLoader;
}());
exports.default = ScriptLoader;
//# sourceMappingURL=script-loader.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/script-loader/lib/stylesheet-loader.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@bigcommerce/script-loader/lib/stylesheet-loader.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var StylesheetLoader = (function () {
    function StylesheetLoader(_browserSupport, _requestSender) {
        this._browserSupport = _browserSupport;
        this._requestSender = _requestSender;
        this._stylesheets = {};
        this._preloadedStylesheets = {};
    }
    StylesheetLoader.prototype.loadStylesheet = function (src, options) {
        var _this = this;
        if (!this._stylesheets[src]) {
            this._stylesheets[src] = new Promise(function (resolve, reject) {
                var stylesheet = document.createElement('link');
                var _a = options || {}, _b = _a.prepend, prepend = _b === void 0 ? false : _b, _c = _a.attributes, attributes = _c === void 0 ? {} : _c;
                Object.keys(attributes)
                    .forEach(function (key) {
                    stylesheet.setAttribute(key, attributes[key]);
                });
                stylesheet.onload = function () { return resolve(); };
                stylesheet.onerror = function (event) {
                    delete _this._stylesheets[src];
                    reject(event);
                };
                stylesheet.rel = 'stylesheet';
                stylesheet.href = src;
                if (prepend && document.head.children[0]) {
                    document.head.insertBefore(stylesheet, document.head.children[0]);
                }
                else {
                    document.head.appendChild(stylesheet);
                }
            });
        }
        return this._stylesheets[src];
    };
    StylesheetLoader.prototype.loadStylesheets = function (urls, options) {
        var _this = this;
        return Promise.all(urls.map(function (url) { return _this.loadStylesheet(url, options); }))
            .then(function () { return undefined; });
    };
    StylesheetLoader.prototype.preloadStylesheet = function (url, options) {
        var _this = this;
        if (!this._preloadedStylesheets[url]) {
            this._preloadedStylesheets[url] = new Promise(function (resolve, reject) {
                var _a = (options || {}).prefetch, prefetch = _a === void 0 ? false : _a;
                var rel = prefetch ? 'prefetch' : 'preload';
                if (_this._browserSupport.canSupportRel(rel)) {
                    var preloadedStylesheet = document.createElement('link');
                    preloadedStylesheet.as = 'style';
                    preloadedStylesheet.rel = prefetch ? 'prefetch' : 'preload';
                    preloadedStylesheet.href = url;
                    preloadedStylesheet.onload = function () {
                        resolve();
                    };
                    preloadedStylesheet.onerror = function (event) {
                        delete _this._preloadedStylesheets[url];
                        reject(event);
                    };
                    document.head.appendChild(preloadedStylesheet);
                }
                else {
                    _this._requestSender.get(url, {
                        credentials: false,
                        headers: { Accept: 'text/css' },
                    })
                        .then(function () { return resolve(); })
                        .catch(reject);
                }
            });
        }
        return this._preloadedStylesheets[url];
    };
    StylesheetLoader.prototype.preloadStylesheets = function (urls, options) {
        var _this = this;
        return Promise.all(urls.map(function (url) { return _this.preloadStylesheet(url, options); }))
            .then(function () { return undefined; });
    };
    return StylesheetLoader;
}());
exports.default = StylesheetLoader;
//# sourceMappingURL=stylesheet-loader.js.map

/***/ }),

/***/ "./node_modules/assert/assert.js":
/*!***************************************!*\
  !*** ./node_modules/assert/assert.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {

var objectAssign = __webpack_require__(/*! object-assign */ "./node_modules/object-assign/index.js");

// compare and isBuffer taken from https://github.com/feross/buffer/blob/680e9e5e488f22aac27599a57dc844a6315928dd/index.js
// original notice:

/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
function compare(a, b) {
  if (a === b) {
    return 0;
  }

  var x = a.length;
  var y = b.length;

  for (var i = 0, len = Math.min(x, y); i < len; ++i) {
    if (a[i] !== b[i]) {
      x = a[i];
      y = b[i];
      break;
    }
  }

  if (x < y) {
    return -1;
  }
  if (y < x) {
    return 1;
  }
  return 0;
}
function isBuffer(b) {
  if (global.Buffer && typeof global.Buffer.isBuffer === 'function') {
    return global.Buffer.isBuffer(b);
  }
  return !!(b != null && b._isBuffer);
}

// based on node assert, original notice:
// NB: The URL to the CommonJS spec is kept just for tradition.
//     node-assert has evolved a lot since then, both in API and behavior.

// http://wiki.commonjs.org/wiki/Unit_Testing/1.0
//
// THIS IS NOT TESTED NOR LIKELY TO WORK OUTSIDE V8!
//
// Originally from narwhal.js (http://narwhaljs.org)
// Copyright (c) 2009 Thomas Robinson <280north.com>
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the 'Software'), to
// deal in the Software without restriction, including without limitation the
// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
// sell copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
// ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

var util = __webpack_require__(/*! util/ */ "./node_modules/util/util.js");
var hasOwn = Object.prototype.hasOwnProperty;
var pSlice = Array.prototype.slice;
var functionsHaveNames = (function () {
  return function foo() {}.name === 'foo';
}());
function pToString (obj) {
  return Object.prototype.toString.call(obj);
}
function isView(arrbuf) {
  if (isBuffer(arrbuf)) {
    return false;
  }
  if (typeof global.ArrayBuffer !== 'function') {
    return false;
  }
  if (typeof ArrayBuffer.isView === 'function') {
    return ArrayBuffer.isView(arrbuf);
  }
  if (!arrbuf) {
    return false;
  }
  if (arrbuf instanceof DataView) {
    return true;
  }
  if (arrbuf.buffer && arrbuf.buffer instanceof ArrayBuffer) {
    return true;
  }
  return false;
}
// 1. The assert module provides functions that throw
// AssertionError's when particular conditions are not met. The
// assert module must conform to the following interface.

var assert = module.exports = ok;

// 2. The AssertionError is defined in assert.
// new assert.AssertionError({ message: message,
//                             actual: actual,
//                             expected: expected })

var regex = /\s*function\s+([^\(\s]*)\s*/;
// based on https://github.com/ljharb/function.prototype.name/blob/adeeeec8bfcc6068b187d7d9fb3d5bb1d3a30899/implementation.js
function getName(func) {
  if (!util.isFunction(func)) {
    return;
  }
  if (functionsHaveNames) {
    return func.name;
  }
  var str = func.toString();
  var match = str.match(regex);
  return match && match[1];
}
assert.AssertionError = function AssertionError(options) {
  this.name = 'AssertionError';
  this.actual = options.actual;
  this.expected = options.expected;
  this.operator = options.operator;
  if (options.message) {
    this.message = options.message;
    this.generatedMessage = false;
  } else {
    this.message = getMessage(this);
    this.generatedMessage = true;
  }
  var stackStartFunction = options.stackStartFunction || fail;
  if (Error.captureStackTrace) {
    Error.captureStackTrace(this, stackStartFunction);
  } else {
    // non v8 browsers so we can have a stacktrace
    var err = new Error();
    if (err.stack) {
      var out = err.stack;

      // try to strip useless frames
      var fn_name = getName(stackStartFunction);
      var idx = out.indexOf('\n' + fn_name);
      if (idx >= 0) {
        // once we have located the function frame
        // we need to strip out everything before it (and its line)
        var next_line = out.indexOf('\n', idx + 1);
        out = out.substring(next_line + 1);
      }

      this.stack = out;
    }
  }
};

// assert.AssertionError instanceof Error
util.inherits(assert.AssertionError, Error);

function truncate(s, n) {
  if (typeof s === 'string') {
    return s.length < n ? s : s.slice(0, n);
  } else {
    return s;
  }
}
function inspect(something) {
  if (functionsHaveNames || !util.isFunction(something)) {
    return util.inspect(something);
  }
  var rawname = getName(something);
  var name = rawname ? ': ' + rawname : '';
  return '[Function' +  name + ']';
}
function getMessage(self) {
  return truncate(inspect(self.actual), 128) + ' ' +
         self.operator + ' ' +
         truncate(inspect(self.expected), 128);
}

// At present only the three keys mentioned above are used and
// understood by the spec. Implementations or sub modules can pass
// other keys to the AssertionError's constructor - they will be
// ignored.

// 3. All of the following functions must throw an AssertionError
// when a corresponding condition is not met, with a message that
// may be undefined if not provided.  All assertion methods provide
// both the actual and expected values to the assertion error for
// display purposes.

function fail(actual, expected, message, operator, stackStartFunction) {
  throw new assert.AssertionError({
    message: message,
    actual: actual,
    expected: expected,
    operator: operator,
    stackStartFunction: stackStartFunction
  });
}

// EXTENSION! allows for well behaved errors defined elsewhere.
assert.fail = fail;

// 4. Pure assertion tests whether a value is truthy, as determined
// by !!guard.
// assert.ok(guard, message_opt);
// This statement is equivalent to assert.equal(true, !!guard,
// message_opt);. To test strictly for the value true, use
// assert.strictEqual(true, guard, message_opt);.

function ok(value, message) {
  if (!value) fail(value, true, message, '==', assert.ok);
}
assert.ok = ok;

// 5. The equality assertion tests shallow, coercive equality with
// ==.
// assert.equal(actual, expected, message_opt);

assert.equal = function equal(actual, expected, message) {
  if (actual != expected) fail(actual, expected, message, '==', assert.equal);
};

// 6. The non-equality assertion tests for whether two objects are not equal
// with != assert.notEqual(actual, expected, message_opt);

assert.notEqual = function notEqual(actual, expected, message) {
  if (actual == expected) {
    fail(actual, expected, message, '!=', assert.notEqual);
  }
};

// 7. The equivalence assertion tests a deep equality relation.
// assert.deepEqual(actual, expected, message_opt);

assert.deepEqual = function deepEqual(actual, expected, message) {
  if (!_deepEqual(actual, expected, false)) {
    fail(actual, expected, message, 'deepEqual', assert.deepEqual);
  }
};

assert.deepStrictEqual = function deepStrictEqual(actual, expected, message) {
  if (!_deepEqual(actual, expected, true)) {
    fail(actual, expected, message, 'deepStrictEqual', assert.deepStrictEqual);
  }
};

function _deepEqual(actual, expected, strict, memos) {
  // 7.1. All identical values are equivalent, as determined by ===.
  if (actual === expected) {
    return true;
  } else if (isBuffer(actual) && isBuffer(expected)) {
    return compare(actual, expected) === 0;

  // 7.2. If the expected value is a Date object, the actual value is
  // equivalent if it is also a Date object that refers to the same time.
  } else if (util.isDate(actual) && util.isDate(expected)) {
    return actual.getTime() === expected.getTime();

  // 7.3 If the expected value is a RegExp object, the actual value is
  // equivalent if it is also a RegExp object with the same source and
  // properties (`global`, `multiline`, `lastIndex`, `ignoreCase`).
  } else if (util.isRegExp(actual) && util.isRegExp(expected)) {
    return actual.source === expected.source &&
           actual.global === expected.global &&
           actual.multiline === expected.multiline &&
           actual.lastIndex === expected.lastIndex &&
           actual.ignoreCase === expected.ignoreCase;

  // 7.4. Other pairs that do not both pass typeof value == 'object',
  // equivalence is determined by ==.
  } else if ((actual === null || typeof actual !== 'object') &&
             (expected === null || typeof expected !== 'object')) {
    return strict ? actual === expected : actual == expected;

  // If both values are instances of typed arrays, wrap their underlying
  // ArrayBuffers in a Buffer each to increase performance
  // This optimization requires the arrays to have the same type as checked by
  // Object.prototype.toString (aka pToString). Never perform binary
  // comparisons for Float*Arrays, though, since e.g. +0 === -0 but their
  // bit patterns are not identical.
  } else if (isView(actual) && isView(expected) &&
             pToString(actual) === pToString(expected) &&
             !(actual instanceof Float32Array ||
               actual instanceof Float64Array)) {
    return compare(new Uint8Array(actual.buffer),
                   new Uint8Array(expected.buffer)) === 0;

  // 7.5 For all other Object pairs, including Array objects, equivalence is
  // determined by having the same number of owned properties (as verified
  // with Object.prototype.hasOwnProperty.call), the same set of keys
  // (although not necessarily the same order), equivalent values for every
  // corresponding key, and an identical 'prototype' property. Note: this
  // accounts for both named and indexed properties on Arrays.
  } else if (isBuffer(actual) !== isBuffer(expected)) {
    return false;
  } else {
    memos = memos || {actual: [], expected: []};

    var actualIndex = memos.actual.indexOf(actual);
    if (actualIndex !== -1) {
      if (actualIndex === memos.expected.indexOf(expected)) {
        return true;
      }
    }

    memos.actual.push(actual);
    memos.expected.push(expected);

    return objEquiv(actual, expected, strict, memos);
  }
}

function isArguments(object) {
  return Object.prototype.toString.call(object) == '[object Arguments]';
}

function objEquiv(a, b, strict, actualVisitedObjects) {
  if (a === null || a === undefined || b === null || b === undefined)
    return false;
  // if one is a primitive, the other must be same
  if (util.isPrimitive(a) || util.isPrimitive(b))
    return a === b;
  if (strict && Object.getPrototypeOf(a) !== Object.getPrototypeOf(b))
    return false;
  var aIsArgs = isArguments(a);
  var bIsArgs = isArguments(b);
  if ((aIsArgs && !bIsArgs) || (!aIsArgs && bIsArgs))
    return false;
  if (aIsArgs) {
    a = pSlice.call(a);
    b = pSlice.call(b);
    return _deepEqual(a, b, strict);
  }
  var ka = objectKeys(a);
  var kb = objectKeys(b);
  var key, i;
  // having the same number of owned properties (keys incorporates
  // hasOwnProperty)
  if (ka.length !== kb.length)
    return false;
  //the same set of keys (although not necessarily the same order),
  ka.sort();
  kb.sort();
  //~~~cheap key test
  for (i = ka.length - 1; i >= 0; i--) {
    if (ka[i] !== kb[i])
      return false;
  }
  //equivalent values for every corresponding key, and
  //~~~possibly expensive deep test
  for (i = ka.length - 1; i >= 0; i--) {
    key = ka[i];
    if (!_deepEqual(a[key], b[key], strict, actualVisitedObjects))
      return false;
  }
  return true;
}

// 8. The non-equivalence assertion tests for any deep inequality.
// assert.notDeepEqual(actual, expected, message_opt);

assert.notDeepEqual = function notDeepEqual(actual, expected, message) {
  if (_deepEqual(actual, expected, false)) {
    fail(actual, expected, message, 'notDeepEqual', assert.notDeepEqual);
  }
};

assert.notDeepStrictEqual = notDeepStrictEqual;
function notDeepStrictEqual(actual, expected, message) {
  if (_deepEqual(actual, expected, true)) {
    fail(actual, expected, message, 'notDeepStrictEqual', notDeepStrictEqual);
  }
}


// 9. The strict equality assertion tests strict equality, as determined by ===.
// assert.strictEqual(actual, expected, message_opt);

assert.strictEqual = function strictEqual(actual, expected, message) {
  if (actual !== expected) {
    fail(actual, expected, message, '===', assert.strictEqual);
  }
};

// 10. The strict non-equality assertion tests for strict inequality, as
// determined by !==.  assert.notStrictEqual(actual, expected, message_opt);

assert.notStrictEqual = function notStrictEqual(actual, expected, message) {
  if (actual === expected) {
    fail(actual, expected, message, '!==', assert.notStrictEqual);
  }
};

function expectedException(actual, expected) {
  if (!actual || !expected) {
    return false;
  }

  if (Object.prototype.toString.call(expected) == '[object RegExp]') {
    return expected.test(actual);
  }

  try {
    if (actual instanceof expected) {
      return true;
    }
  } catch (e) {
    // Ignore.  The instanceof check doesn't work for arrow functions.
  }

  if (Error.isPrototypeOf(expected)) {
    return false;
  }

  return expected.call({}, actual) === true;
}

function _tryBlock(block) {
  var error;
  try {
    block();
  } catch (e) {
    error = e;
  }
  return error;
}

function _throws(shouldThrow, block, expected, message) {
  var actual;

  if (typeof block !== 'function') {
    throw new TypeError('"block" argument must be a function');
  }

  if (typeof expected === 'string') {
    message = expected;
    expected = null;
  }

  actual = _tryBlock(block);

  message = (expected && expected.name ? ' (' + expected.name + ').' : '.') +
            (message ? ' ' + message : '.');

  if (shouldThrow && !actual) {
    fail(actual, expected, 'Missing expected exception' + message);
  }

  var userProvidedMessage = typeof message === 'string';
  var isUnwantedException = !shouldThrow && util.isError(actual);
  var isUnexpectedException = !shouldThrow && actual && !expected;

  if ((isUnwantedException &&
      userProvidedMessage &&
      expectedException(actual, expected)) ||
      isUnexpectedException) {
    fail(actual, expected, 'Got unwanted exception' + message);
  }

  if ((shouldThrow && actual && expected &&
      !expectedException(actual, expected)) || (!shouldThrow && actual)) {
    throw actual;
  }
}

// 11. Expected to throw an error:
// assert.throws(block, Error_opt, message_opt);

assert.throws = function(block, /*optional*/error, /*optional*/message) {
  _throws(true, block, error, message);
};

// EXTENSION! This is annoying to write outside this module.
assert.doesNotThrow = function(block, /*optional*/error, /*optional*/message) {
  _throws(false, block, error, message);
};

assert.ifError = function(err) { if (err) throw err; };

// Expose a strict only variant of assert
function strict(value, message) {
  if (!value) fail(value, true, message, '==', strict);
}
assert.strict = objectAssign(strict, assert, {
  equal: assert.strictEqual,
  deepEqual: assert.deepStrictEqual,
  notEqual: assert.notStrictEqual,
  notDeepEqual: assert.notDeepStrictEqual
});
assert.strict.strict = assert.strict;

var objectKeys = Object.keys || function (obj) {
  var keys = [];
  for (var key in obj) {
    if (hasOwn.call(obj, key)) keys.push(key);
  }
  return keys;
};

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/card-validator/index.js":
/*!**********************************************!*\
  !*** ./node_modules/card-validator/index.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = {
  number: __webpack_require__(/*! ./src/card-number */ "./node_modules/card-validator/src/card-number.js"),
  expirationDate: __webpack_require__(/*! ./src/expiration-date */ "./node_modules/card-validator/src/expiration-date.js"),
  expirationMonth: __webpack_require__(/*! ./src/expiration-month */ "./node_modules/card-validator/src/expiration-month.js"),
  expirationYear: __webpack_require__(/*! ./src/expiration-year */ "./node_modules/card-validator/src/expiration-year.js"),
  cvv: __webpack_require__(/*! ./src/cvv */ "./node_modules/card-validator/src/cvv.js"),
  postalCode: __webpack_require__(/*! ./src/postal-code */ "./node_modules/card-validator/src/postal-code.js"),
  creditCardType: __webpack_require__(/*! credit-card-type */ "./node_modules/credit-card-type/index.js")
};


/***/ }),

/***/ "./node_modules/card-validator/src/card-number.js":
/*!********************************************************!*\
  !*** ./node_modules/card-validator/src/card-number.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var luhn10 = __webpack_require__(/*! ./luhn-10 */ "./node_modules/card-validator/src/luhn-10.js");
var getCardTypes = __webpack_require__(/*! credit-card-type */ "./node_modules/credit-card-type/index.js");

function verification(card, isPotentiallyValid, isValid) {
  return {card: card, isPotentiallyValid: isPotentiallyValid, isValid: isValid};
}

function cardNumber(value, options) {
  var potentialTypes, cardType, isPotentiallyValid, isValid, i, maxLength;

  options = options || {};

  if (typeof value === 'number') {
    value = String(value);
  }

  if (typeof value !== 'string') { return verification(null, false, false); }

  value = value.replace(/\-|\s/g, '');

  if (!/^\d*$/.test(value)) { return verification(null, false, false); }

  potentialTypes = getCardTypes(value);

  if (potentialTypes.length === 0) {
    return verification(null, false, false);
  } else if (potentialTypes.length !== 1) {
    return verification(null, true, false);
  }

  cardType = potentialTypes[0];

  if (options.maxLength && value.length > options.maxLength) {
    return verification(cardType, false, false);
  }

  if (cardType.type === getCardTypes.types.UNIONPAY && options.luhnValidateUnionPay !== true) {
    isValid = true;
  } else {
    isValid = luhn10(value);
  }

  maxLength = Math.max.apply(null, cardType.lengths);
  if (options.maxLength) {
    maxLength = Math.min(options.maxLength, maxLength);
  }

  for (i = 0; i < cardType.lengths.length; i++) {
    if (cardType.lengths[i] === value.length) {
      isPotentiallyValid = value.length < maxLength || isValid;

      return verification(cardType, isPotentiallyValid, isValid);
    }
  }

  return verification(cardType, value.length < maxLength, false);
}

module.exports = cardNumber;


/***/ }),

/***/ "./node_modules/card-validator/src/cvv.js":
/*!************************************************!*\
  !*** ./node_modules/card-validator/src/cvv.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var DEFAULT_LENGTH = 3;

function includes(array, thing) {
  var i = 0;

  for (; i < array.length; i++) {
    if (thing === array[i]) { return true; }
  }

  return false;
}

function max(array) {
  var maximum = DEFAULT_LENGTH;
  var i = 0;

  for (; i < array.length; i++) {
    maximum = array[i] > maximum ? array[i] : maximum;
  }

  return maximum;
}

function verification(isValid, isPotentiallyValid) {
  return {isValid: isValid, isPotentiallyValid: isPotentiallyValid};
}

function cvv(value, maxLength) {
  maxLength = maxLength || DEFAULT_LENGTH;
  maxLength = maxLength instanceof Array ? maxLength : [maxLength];

  if (typeof value !== 'string') { return verification(false, false); }
  if (!/^\d*$/.test(value)) { return verification(false, false); }
  if (includes(maxLength, value.length)) { return verification(true, true); }
  if (value.length < Math.min.apply(null, maxLength)) { return verification(false, true); }
  if (value.length > max(maxLength)) { return verification(false, false); }

  return verification(true, true);
}

module.exports = cvv;


/***/ }),

/***/ "./node_modules/card-validator/src/expiration-date.js":
/*!************************************************************!*\
  !*** ./node_modules/card-validator/src/expiration-date.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var parseDate = __webpack_require__(/*! ./parse-date */ "./node_modules/card-validator/src/parse-date.js");
var expirationMonth = __webpack_require__(/*! ./expiration-month */ "./node_modules/card-validator/src/expiration-month.js");
var expirationYear = __webpack_require__(/*! ./expiration-year */ "./node_modules/card-validator/src/expiration-year.js");

function verification(isValid, isPotentiallyValid, month, year) {
  return {
    isValid: isValid,
    isPotentiallyValid: isPotentiallyValid,
    month: month,
    year: year
  };
}

function expirationDate(value, maxElapsedYear) {
  var date, monthValid, yearValid, isValidForThisYear;

  if (typeof value === 'string') {
    value = value.replace(/^(\d\d) (\d\d(\d\d)?)$/, '$1/$2');
    date = parseDate(value);
  } else if (value !== null && typeof value === 'object') {
    date = {
      month: String(value.month),
      year: String(value.year)
    };
  } else {
    return verification(false, false, null, null);
  }

  monthValid = expirationMonth(date.month);
  yearValid = expirationYear(date.year, maxElapsedYear);

  if (monthValid.isValid) {
    if (yearValid.isCurrentYear) {
      isValidForThisYear = monthValid.isValidForThisYear;

      return verification(isValidForThisYear, isValidForThisYear, date.month, date.year);
    }

    if (yearValid.isValid) {
      return verification(true, true, date.month, date.year);
    }
  }

  if (monthValid.isPotentiallyValid && yearValid.isPotentiallyValid) {
    return verification(false, true, null, null);
  }

  return verification(false, false, null, null);
}

module.exports = expirationDate;


/***/ }),

/***/ "./node_modules/card-validator/src/expiration-month.js":
/*!*************************************************************!*\
  !*** ./node_modules/card-validator/src/expiration-month.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


function verification(isValid, isPotentiallyValid, isValidForThisYear) {
  return {
    isValid: isValid,
    isPotentiallyValid: isPotentiallyValid,
    isValidForThisYear: isValidForThisYear || false
  };
}

function expirationMonth(value) {
  var month, result;
  var currentMonth = new Date().getMonth() + 1;

  if (typeof value !== 'string') {
    return verification(false, false);
  }
  if (value.replace(/\s/g, '') === '' || value === '0') {
    return verification(false, true);
  }
  if (!/^\d*$/.test(value)) {
    return verification(false, false);
  }

  month = parseInt(value, 10);

  if (isNaN(value)) {
    return verification(false, false);
  }

  result = month > 0 && month < 13;

  return verification(result, result, result && month >= currentMonth);
}

module.exports = expirationMonth;


/***/ }),

/***/ "./node_modules/card-validator/src/expiration-year.js":
/*!************************************************************!*\
  !*** ./node_modules/card-validator/src/expiration-year.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var DEFAULT_VALID_NUMBER_OF_YEARS_IN_THE_FUTURE = 19;

function verification(isValid, isPotentiallyValid, isCurrentYear) {
  return {
    isValid: isValid,
    isPotentiallyValid: isPotentiallyValid,
    isCurrentYear: isCurrentYear || false
  };
}

function expirationYear(value, maxElapsedYear) {
  var currentFirstTwo, currentYear, firstTwo, len, twoDigitYear, valid, isCurrentYear;

  maxElapsedYear = maxElapsedYear || DEFAULT_VALID_NUMBER_OF_YEARS_IN_THE_FUTURE;

  if (typeof value !== 'string') {
    return verification(false, false);
  }
  if (value.replace(/\s/g, '') === '') {
    return verification(false, true);
  }
  if (!/^\d*$/.test(value)) {
    return verification(false, false);
  }

  len = value.length;

  if (len < 2) {
    return verification(false, true);
  }

  currentYear = new Date().getFullYear();

  if (len === 3) {
    // 20x === 20x
    firstTwo = value.slice(0, 2);
    currentFirstTwo = String(currentYear).slice(0, 2);

    return verification(false, firstTwo === currentFirstTwo);
  }

  if (len > 4) {
    return verification(false, false);
  }

  value = parseInt(value, 10);
  twoDigitYear = Number(String(currentYear).substr(2, 2));

  if (len === 2) {
    isCurrentYear = twoDigitYear === value;
    valid = value >= twoDigitYear && value <= twoDigitYear + maxElapsedYear;
  } else if (len === 4) {
    isCurrentYear = currentYear === value;
    valid = value >= currentYear && value <= currentYear + maxElapsedYear;
  }

  return verification(valid, valid, isCurrentYear);
}

module.exports = expirationYear;


/***/ }),

/***/ "./node_modules/card-validator/src/lib/is-array.js":
/*!*********************************************************!*\
  !*** ./node_modules/card-validator/src/lib/is-array.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


// Polyfill taken from <https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray#Polyfill>.

module.exports = Array.isArray || function (arg) {
  return Object.prototype.toString.call(arg) === '[object Array]';
};


/***/ }),

/***/ "./node_modules/card-validator/src/luhn-10.js":
/*!****************************************************!*\
  !*** ./node_modules/card-validator/src/luhn-10.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/*
 * Luhn algorithm implementation in JavaScript
 * Copyright (c) 2009 Nicholas C. Zakas
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */


function luhn10(identifier) {
  var sum = 0;
  var alt = false;
  var i = identifier.length - 1;
  var num;

  while (i >= 0) {
    num = parseInt(identifier.charAt(i), 10);

    if (alt) {
      num *= 2;
      if (num > 9) {
        num = (num % 10) + 1; // eslint-disable-line no-extra-parens
      }
    }

    alt = !alt;

    sum += num;

    i--;
  }

  return sum % 10 === 0;
}

module.exports = luhn10;


/***/ }),

/***/ "./node_modules/card-validator/src/parse-date.js":
/*!*******************************************************!*\
  !*** ./node_modules/card-validator/src/parse-date.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var expirationYear = __webpack_require__(/*! ./expiration-year */ "./node_modules/card-validator/src/expiration-year.js");
var isArray = __webpack_require__(/*! ./lib/is-array */ "./node_modules/card-validator/src/lib/is-array.js");

function getNumberOfMonthDigitsInDateString(dateString) {
  var firstCharacter = Number(dateString[0]);
  var assumedYear;

  /*
    if the first character in the string starts with `0`,
    we know that the month will be 2 digits.

    '0122' => {month: '01', year: '22'}
  */
  if (firstCharacter === 0) {
    return 2;
  }

  /*
    if the first character in the string starts with
    number greater than 1, it must be a 1 digit month

    '322' => {month: '3', year: '22'}
  */
  if (firstCharacter > 1) {
    return 1;
  }

  /*
    if the first 2 characters make up a number between
    13-19, we know that the month portion must be 1

    '139' => {month: '1', year: '39'}
  */
  if (firstCharacter === 1 && Number(dateString[1]) > 2) {
    return 1;
  }

  /*
    if the first 2 characters make up a number between
    10-12, we check if the year portion would be considered
    valid if we assumed that the month was 1. If it is
    not potentially valid, we assume the month must have
    2 digits.

    '109' => {month: '10', year: '9'}
    '120' => {month: '1', year: '20'} // when checked in the year 2019
    '120' => {month: '12', year: '0'} // when checked in the year 2021
  */
  if (firstCharacter === 1) {
    assumedYear = dateString.substr(1);

    return expirationYear(assumedYear).isPotentiallyValid ? 1 : 2;
  }

  /*
    If the length of the value is exactly 5 characters,
    we assume a full year was passed in, meaning the remaining
    single leading digit must be the month value.

    '12202' => {month: '1', year: '2202'}
  */
  if (dateString.length === 5) {
    return 1;
  }

  /*
    If the length of the value is more than five characters,
    we assume a full year was passed in addition to the month
    and therefore the month portion must be 2 digits.

    '112020' => {month: '11', year: '2020'}
  */
  if (dateString.length > 5) {
    return 2;
  }

  /*
    By default, the month value is the first value
  */
  return 1;
}

function parseDate(date) {
  var month, numberOfDigitsInMonth;

  if (/^\d{4}-\d{1,2}$/.test(date)) {
    date = date.split('-').reverse();
  } else if (/\//.test(date)) {
    date = date.split(/\s*\/\s*/g);
  } else if (/\s/.test(date)) {
    date = date.split(/ +/g);
  }

  if (isArray(date)) {
    return {
      month: date[0] || '',
      year: date.slice(1).join()
    };
  }

  numberOfDigitsInMonth = getNumberOfMonthDigitsInDateString(date);

  month = date.substr(0, numberOfDigitsInMonth);

  return {
    month: month,
    year: date.substr(month.length)
  };
}

module.exports = parseDate;


/***/ }),

/***/ "./node_modules/card-validator/src/postal-code.js":
/*!********************************************************!*\
  !*** ./node_modules/card-validator/src/postal-code.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var DEFAULT_MIN_POSTAL_CODE_LENGTH = 3;

function verification(isValid, isPotentiallyValid) {
  return {isValid: isValid, isPotentiallyValid: isPotentiallyValid};
}

function postalCode(value, options) {
  var minLength;

  options = options || {};

  minLength = options.minLength || DEFAULT_MIN_POSTAL_CODE_LENGTH;

  if (typeof value !== 'string') {
    return verification(false, false);
  } else if (value.length < minLength) {
    return verification(false, true);
  }

  return verification(true, true);
}

module.exports = postalCode;


/***/ }),

/***/ "./node_modules/cookie/index.js":
/*!**************************************!*\
  !*** ./node_modules/cookie/index.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */



/**
 * Module exports.
 * @public
 */

exports.parse = parse;
exports.serialize = serialize;

/**
 * Module variables.
 * @private
 */

var decode = decodeURIComponent;
var encode = encodeURIComponent;
var pairSplitRegExp = /; */;

/**
 * RegExp to match field-content in RFC 7230 sec 3.2
 *
 * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]
 * field-vchar   = VCHAR / obs-text
 * obs-text      = %x80-FF
 */

var fieldContentRegExp = /^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;

/**
 * Parse a cookie header.
 *
 * Parse the given cookie header string into an object
 * The object has the various cookies as keys(names) => values
 *
 * @param {string} str
 * @param {object} [options]
 * @return {object}
 * @public
 */

function parse(str, options) {
  if (typeof str !== 'string') {
    throw new TypeError('argument str must be a string');
  }

  var obj = {}
  var opt = options || {};
  var pairs = str.split(pairSplitRegExp);
  var dec = opt.decode || decode;

  for (var i = 0; i < pairs.length; i++) {
    var pair = pairs[i];
    var eq_idx = pair.indexOf('=');

    // skip things that don't look like key=value
    if (eq_idx < 0) {
      continue;
    }

    var key = pair.substr(0, eq_idx).trim()
    var val = pair.substr(++eq_idx, pair.length).trim();

    // quoted values
    if ('"' == val[0]) {
      val = val.slice(1, -1);
    }

    // only assign once
    if (undefined == obj[key]) {
      obj[key] = tryDecode(val, dec);
    }
  }

  return obj;
}

/**
 * Serialize data into a cookie header.
 *
 * Serialize the a name value pair into a cookie string suitable for
 * http headers. An optional options object specified cookie parameters.
 *
 * serialize('foo', 'bar', { httpOnly: true })
 *   => "foo=bar; httpOnly"
 *
 * @param {string} name
 * @param {string} val
 * @param {object} [options]
 * @return {string}
 * @public
 */

function serialize(name, val, options) {
  var opt = options || {};
  var enc = opt.encode || encode;

  if (typeof enc !== 'function') {
    throw new TypeError('option encode is invalid');
  }

  if (!fieldContentRegExp.test(name)) {
    throw new TypeError('argument name is invalid');
  }

  var value = enc(val);

  if (value && !fieldContentRegExp.test(value)) {
    throw new TypeError('argument val is invalid');
  }

  var str = name + '=' + value;

  if (null != opt.maxAge) {
    var maxAge = opt.maxAge - 0;
    if (isNaN(maxAge)) throw new Error('maxAge should be a Number');
    str += '; Max-Age=' + Math.floor(maxAge);
  }

  if (opt.domain) {
    if (!fieldContentRegExp.test(opt.domain)) {
      throw new TypeError('option domain is invalid');
    }

    str += '; Domain=' + opt.domain;
  }

  if (opt.path) {
    if (!fieldContentRegExp.test(opt.path)) {
      throw new TypeError('option path is invalid');
    }

    str += '; Path=' + opt.path;
  }

  if (opt.expires) {
    if (typeof opt.expires.toUTCString !== 'function') {
      throw new TypeError('option expires is invalid');
    }

    str += '; Expires=' + opt.expires.toUTCString();
  }

  if (opt.httpOnly) {
    str += '; HttpOnly';
  }

  if (opt.secure) {
    str += '; Secure';
  }

  if (opt.sameSite) {
    var sameSite = typeof opt.sameSite === 'string'
      ? opt.sameSite.toLowerCase() : opt.sameSite;

    switch (sameSite) {
      case true:
        str += '; SameSite=Strict';
        break;
      case 'lax':
        str += '; SameSite=Lax';
        break;
      case 'strict':
        str += '; SameSite=Strict';
        break;
      default:
        throw new TypeError('option sameSite is invalid');
    }
  }

  return str;
}

/**
 * Try decoding a string using a decoding function.
 *
 * @param {string} str
 * @param {function} decode
 * @private
 */

function tryDecode(str, decode) {
  try {
    return decode(str);
  } catch (e) {
    return str;
  }
}


/***/ }),

/***/ "./node_modules/credit-card-type/index.js":
/*!************************************************!*\
  !*** ./node_modules/credit-card-type/index.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var types = __webpack_require__(/*! ./lib/card-types */ "./node_modules/credit-card-type/lib/card-types.js");
var clone = __webpack_require__(/*! ./lib/clone */ "./node_modules/credit-card-type/lib/clone.js");
var findBestMatch = __webpack_require__(/*! ./lib/find-best-match */ "./node_modules/credit-card-type/lib/find-best-match.js");
var isValidInputType = __webpack_require__(/*! ./lib/is-valid-input-type */ "./node_modules/credit-card-type/lib/is-valid-input-type.js");
var addMatchingCardsToResults = __webpack_require__(/*! ./lib/add-matching-cards-to-results */ "./node_modules/credit-card-type/lib/add-matching-cards-to-results.js");

var testOrder;
var customCards = {};

var cardNames = {
  VISA: 'visa',
  MASTERCARD: 'mastercard',
  AMERICAN_EXPRESS: 'american-express',
  DINERS_CLUB: 'diners-club',
  DISCOVER: 'discover',
  JCB: 'jcb',
  UNIONPAY: 'unionpay',
  MAESTRO: 'maestro',
  ELO: 'elo',
  MIR: 'mir',
  HIPER: 'hiper',
  HIPERCARD: 'hipercard'
};

var ORIGINAL_TEST_ORDER = [
  cardNames.VISA,
  cardNames.MASTERCARD,
  cardNames.AMERICAN_EXPRESS,
  cardNames.DINERS_CLUB,
  cardNames.DISCOVER,
  cardNames.JCB,
  cardNames.UNIONPAY,
  cardNames.MAESTRO,
  cardNames.ELO,
  cardNames.MIR,
  cardNames.HIPER,
  cardNames.HIPERCARD
];

testOrder = clone(ORIGINAL_TEST_ORDER);

function findType(type) {
  return customCards[type] || types[type];
}

function getAllCardTypes() {
  return testOrder.map(function (type) {
    return clone(findType(type));
  });
}

function getCardPosition(name, ignoreErrorForNotExisting) {
  var position = testOrder.indexOf(name);

  if (!ignoreErrorForNotExisting && position === -1) {
    throw new Error('"' + name + '" is not a supported card type.');
  }

  return position;
}

function creditCardType(cardNumber) {
  var bestMatch;
  var results = [];

  if (!isValidInputType(cardNumber)) {
    return [];
  }

  if (cardNumber.length === 0) {
    return getAllCardTypes(testOrder);
  }

  testOrder.forEach(function (type) {
    var cardConfiguration = findType(type);

    addMatchingCardsToResults(cardNumber, cardConfiguration, results);
  });

  bestMatch = findBestMatch(results);

  if (bestMatch) {
    return [bestMatch];
  }

  return results;
}

creditCardType.getTypeInfo = function (type) {
  return clone(findType(type));
};

creditCardType.removeCard = function (name) {
  var position = getCardPosition(name);

  testOrder.splice(position, 1);
};

creditCardType.addCard = function (config) {
  var existingCardPosition = getCardPosition(config.type, true);

  customCards[config.type] = config;

  if (existingCardPosition === -1) {
    testOrder.push(config.type);
  }
};

creditCardType.updateCard = function (cardType, updates) {
  var clonedCard;
  var originalObject = customCards[cardType] || types[cardType];

  if (!originalObject) {
    throw new Error('"' + cardType + '" is not a recognized type. Use `addCard` instead.');
  }

  if (updates.type && originalObject.type !== updates.type) {
    throw new Error('Cannot overwrite type parameter.');
  }

  clonedCard = clone(originalObject, true);

  Object.keys(clonedCard).forEach(function (key) {
    if (updates[key]) {
      clonedCard[key] = updates[key];
    }
  });

  customCards[clonedCard.type] = clonedCard;
};

creditCardType.changeOrder = function (name, position) {
  var currentPosition = getCardPosition(name);

  testOrder.splice(currentPosition, 1);
  testOrder.splice(position, 0, name);
};

creditCardType.resetModifications = function () {
  testOrder = clone(ORIGINAL_TEST_ORDER);
  customCards = {};
};

creditCardType.types = cardNames;

module.exports = creditCardType;


/***/ }),

/***/ "./node_modules/credit-card-type/lib/add-matching-cards-to-results.js":
/*!****************************************************************************!*\
  !*** ./node_modules/credit-card-type/lib/add-matching-cards-to-results.js ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var clone = __webpack_require__(/*! ./clone */ "./node_modules/credit-card-type/lib/clone.js");
var matches = __webpack_require__(/*! ./matches */ "./node_modules/credit-card-type/lib/matches.js");

function addMatchingCardsToResults(cardNumber, cardConfiguration, results) {
  var i, pattern, patternLength, clonedCardConfiguration;

  for (i = 0; i < cardConfiguration.patterns.length; i++) {
    pattern = cardConfiguration.patterns[i];

    if (!matches(cardNumber, pattern)) {
      continue;
    }

    clonedCardConfiguration = clone(cardConfiguration);

    if (Array.isArray(pattern)) {
      patternLength = String(pattern[0]).length;
    } else {
      patternLength = String(pattern).length;
    }

    if (cardNumber.length >= patternLength) {
      clonedCardConfiguration.matchStrength = patternLength;
    }

    results.push(clonedCardConfiguration);
    break;
  }
}

module.exports = addMatchingCardsToResults;


/***/ }),

/***/ "./node_modules/credit-card-type/lib/card-types.js":
/*!*********************************************************!*\
  !*** ./node_modules/credit-card-type/lib/card-types.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var cardTypes = {
  visa: {
    niceType: 'Visa',
    type: 'visa',
    patterns: [
      4
    ],
    gaps: [4, 8, 12],
    lengths: [16, 18, 19],
    code: {
      name: 'CVV',
      size: 3
    }
  },
  mastercard: {
    niceType: 'Mastercard',
    type: 'mastercard',
    patterns: [
      [51, 55],
      [2221, 2229],
      [223, 229],
      [23, 26],
      [270, 271],
      2720
    ],
    gaps: [4, 8, 12],
    lengths: [16],
    code: {
      name: 'CVC',
      size: 3
    }
  },
  'american-express': {
    niceType: 'American Express',
    type: 'american-express',
    patterns: [
      34,
      37
    ],
    gaps: [4, 10],
    lengths: [15],
    code: {
      name: 'CID',
      size: 4
    }
  },
  'diners-club': {
    niceType: 'Diners Club',
    type: 'diners-club',
    patterns: [
      [300, 305],
      36,
      38,
      39
    ],
    gaps: [4, 10],
    lengths: [14, 16, 19],
    code: {
      name: 'CVV',
      size: 3
    }
  },
  discover: {
    niceType: 'Discover',
    type: 'discover',
    patterns: [
      6011,
      [644, 649],
      65
    ],
    gaps: [4, 8, 12],
    lengths: [16, 19],
    code: {
      name: 'CID',
      size: 3
    }
  },
  jcb: {
    niceType: 'JCB',
    type: 'jcb',
    patterns: [
      2131,
      1800,
      [3528, 3589]
    ],
    gaps: [4, 8, 12],
    lengths: [16, 17, 18, 19],
    code: {
      name: 'CVV',
      size: 3
    }
  },
  unionpay: {
    niceType: 'UnionPay',
    type: 'unionpay',
    patterns: [
      620,
      [624, 626],
      [62100, 62182],
      [62184, 62187],
      [62185, 62197],
      [62200, 62205],
      [622010, 622999],
      622018,
      [622019, 622999],
      [62207, 62209],
      [622126, 622925],
      [623, 626],
      6270,
      6272,
      6276,
      [627700, 627779],
      [627781, 627799],
      [6282, 6289],
      6291,
      6292,
      810,
      [8110, 8131],
      [8132, 8151],
      [8152, 8163],
      [8164, 8171]
    ],
    gaps: [4, 8, 12],
    lengths: [14, 15, 16, 17, 18, 19],
    code: {
      name: 'CVN',
      size: 3
    }
  },
  maestro: {
    niceType: 'Maestro',
    type: 'maestro',
    patterns: [
      493698,
      [500000, 506698],
      [506779, 508999],
      [56, 59],
      63,
      67,
      6
    ],
    gaps: [4, 8, 12],
    lengths: [12, 13, 14, 15, 16, 17, 18, 19],
    code: {
      name: 'CVC',
      size: 3
    }
  },
  elo: {
    niceType: 'Elo',
    type: 'elo',
    patterns: [
      401178,
      401179,
      438935,
      457631,
      457632,
      431274,
      451416,
      457393,
      504175,
      [506699, 506778],
      [509000, 509999],
      627780,
      636297,
      636368,
      [650031, 650033],
      [650035, 650051],
      [650405, 650439],
      [650485, 650538],
      [650541, 650598],
      [650700, 650718],
      [650720, 650727],
      [650901, 650978],
      [651652, 651679],
      [655000, 655019],
      [655021, 655058]
    ],
    gaps: [4, 8, 12],
    lengths: [16],
    code: {
      name: 'CVE',
      size: 3
    }
  },
  mir: {
    niceType: 'Mir',
    type: 'mir',
    patterns: [
      [2200, 2204]
    ],
    gaps: [4, 8, 12],
    lengths: [16, 17, 18, 19],
    code: {
      name: 'CVP2',
      size: 3
    }
  },
  hiper: {
    niceType: 'Hiper',
    type: 'hiper',
    patterns: [
      637095,
      637568,
      637599,
      637609,
      637612
    ],
    gaps: [4, 8, 12],
    lengths: [16],
    code: {
      name: 'CVC',
      size: 3
    }
  },
  hipercard: {
    niceType: 'Hipercard',
    type: 'hipercard',
    patterns: [
      606282
    ],
    gaps: [4, 8, 12],
    lengths: [16],
    code: {
      name: 'CVC',
      size: 3
    }
  }
};

module.exports = cardTypes;


/***/ }),

/***/ "./node_modules/credit-card-type/lib/clone.js":
/*!****************************************************!*\
  !*** ./node_modules/credit-card-type/lib/clone.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


function clone(originalObject) {
  var dupe;

  if (!originalObject) { return null; }

  dupe = JSON.parse(JSON.stringify(originalObject));

  return dupe;
}

module.exports = clone;


/***/ }),

/***/ "./node_modules/credit-card-type/lib/find-best-match.js":
/*!**************************************************************!*\
  !*** ./node_modules/credit-card-type/lib/find-best-match.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


function hasEnoughResultsToDetermineBestMatch(results) {
  var numberOfResultsWithMaxStrengthProperty = results.filter(function (result) {
    return result.matchStrength;
  }).length;

  // if all possible results have a maxStrength property
  // that means the card number is sufficiently long
  // enough to determine conclusively what the type is
  return numberOfResultsWithMaxStrengthProperty > 0 &&
    numberOfResultsWithMaxStrengthProperty === results.length;
}

function findBestMatch(results) {
  if (!hasEnoughResultsToDetermineBestMatch(results)) {
    return;
  }

  return results.reduce(function (bestMatch, result) { // eslint-disable-line consistent-return
    if (!bestMatch) {
      return result;
    }

    // if the current best match pattern is less specific
    // than this result, set the result as the new best match
    if (bestMatch.matchStrength < result.matchStrength) {
      return result;
    }

    return bestMatch;
  });
}

module.exports = findBestMatch;


/***/ }),

/***/ "./node_modules/credit-card-type/lib/is-valid-input-type.js":
/*!******************************************************************!*\
  !*** ./node_modules/credit-card-type/lib/is-valid-input-type.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


function isValidInputType(cardNumber) {
  return typeof cardNumber === 'string' || cardNumber instanceof String;
}

module.exports = isValidInputType;


/***/ }),

/***/ "./node_modules/credit-card-type/lib/matches.js":
/*!******************************************************!*\
  !*** ./node_modules/credit-card-type/lib/matches.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


// Adapted from https://github.com/polvo-labs/card-type/blob/aaab11f80fa1939bccc8f24905a06ae3cd864356/src/cardType.js#L37-L42
function matchesRange(cardNumber, min, max) {
  var maxLengthToCheck = String(min).length;
  var substr = cardNumber.substr(0, maxLengthToCheck);
  var integerRepresentationOfCardNumber = parseInt(substr, 10);

  min = parseInt(String(min).substr(0, substr.length), 10);
  max = parseInt(String(max).substr(0, substr.length), 10);

  return integerRepresentationOfCardNumber >= min && integerRepresentationOfCardNumber <= max;
}

function matchesPattern(cardNumber, pattern) {
  pattern = String(pattern);

  return pattern.substring(0, cardNumber.length) === cardNumber.substring(0, pattern.length);
}

function matches(cardNumber, pattern) {
  if (Array.isArray(pattern)) {
    return matchesRange(cardNumber, pattern[0], pattern[1]);
  }

  return matchesPattern(cardNumber, pattern);
}

module.exports = matches;


/***/ }),

/***/ "./node_modules/deep-assign/index.js":
/*!*******************************************!*\
  !*** ./node_modules/deep-assign/index.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var isObj = __webpack_require__(/*! is-obj */ "./node_modules/is-obj/index.js");
var hasOwnProperty = Object.prototype.hasOwnProperty;
var propIsEnumerable = Object.prototype.propertyIsEnumerable;

function toObject(val) {
	if (val === null || val === undefined) {
		throw new TypeError('Sources cannot be null or undefined');
	}

	return Object(val);
}

function assignKey(to, from, key) {
	var val = from[key];

	if (val === undefined || val === null) {
		return;
	}

	if (hasOwnProperty.call(to, key)) {
		if (to[key] === undefined || to[key] === null) {
			throw new TypeError('Cannot convert undefined or null to object (' + key + ')');
		}
	}

	if (!hasOwnProperty.call(to, key) || !isObj(val)) {
		to[key] = val;
	} else {
		to[key] = assign(Object(to[key]), from[key]);
	}
}

function assign(to, from) {
	if (to === from) {
		return to;
	}

	from = Object(from);

	for (var key in from) {
		if (hasOwnProperty.call(from, key)) {
			assignKey(to, from, key);
		}
	}

	if (Object.getOwnPropertySymbols) {
		var symbols = Object.getOwnPropertySymbols(from);

		for (var i = 0; i < symbols.length; i++) {
			if (propIsEnumerable.call(from, symbols[i])) {
				assignKey(to, from, symbols[i]);
			}
		}
	}

	return to;
}

module.exports = function deepAssign(target) {
	target = toObject(target);

	for (var s = 1; s < arguments.length; s++) {
		assign(target, arguments[s]);
	}

	return target;
};


/***/ }),

/***/ "./node_modules/iframe-resizer/index.js":
/*!**********************************************!*\
  !*** ./node_modules/iframe-resizer/index.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = __webpack_require__(/*! ./js */ "./node_modules/iframe-resizer/js/index.js")


/***/ }),

/***/ "./node_modules/iframe-resizer/js/iframeResizer.contentWindow.js":
/*!***********************************************************************!*\
  !*** ./node_modules/iframe-resizer/js/iframeResizer.contentWindow.js ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(__webpack_provided_window_dot_jQuery) {/*
 * File: iframeResizer.contentWindow.js
 * Desc: Include this file in any page being loaded into an iframe
 *       to force the iframe to resize to the content size.
 * Requires: iframeResizer.js on host page.
 * Doc: https://github.com/davidjbradshaw/iframe-resizer
 * Author: David J. Bradshaw - dave@bradshaw.net
 * Contributor: Jure Mav - jure.mav@gmail.com
 * Contributor: Ian Caunce - ian@hallnet.co.uk
 */

(function(undefined) {
  'use strict';

  if (typeof window === 'undefined') return; // don't run for server side render

  var autoResize = true,
    base = 10,
    bodyBackground = '',
    bodyMargin = 0,
    bodyMarginStr = '',
    bodyObserver = null,
    bodyPadding = '',
    calculateWidth = false,
    doubleEventList = { resize: 1, click: 1 },
    eventCancelTimer = 128,
    firstRun = true,
    height = 1,
    heightCalcModeDefault = 'bodyOffset',
    heightCalcMode = heightCalcModeDefault,
    initLock = true,
    initMsg = '',
    inPageLinks = {},
    interval = 32,
    intervalTimer = null,
    logging = false,
    msgID = '[iFrameSizer]', //Must match host page msg ID
    msgIdLen = msgID.length,
    myID = '',
    observer = null,
    resetRequiredMethods = {
      max: 1,
      min: 1,
      bodyScroll: 1,
      documentElementScroll: 1
    },
    resizeFrom = 'child',
    sendPermit = true,
    target = window.parent,
    targetOriginDefault = '*',
    tolerance = 0,
    triggerLocked = false,
    triggerLockedTimer = null,
    throttledTimer = 16,
    width = 1,
    widthCalcModeDefault = 'scroll',
    widthCalcMode = widthCalcModeDefault,
    win = window,
    messageCallback = function() {
      warn('MessageCallback function not defined');
    },
    readyCallback = function() {},
    pageInfoCallback = function() {},
    customCalcMethods = {
      height: function() {
        warn('Custom height calculation function not defined');
        return document.documentElement.offsetHeight;
      },
      width: function() {
        warn('Custom width calculation function not defined');
        return document.body.scrollWidth;
      }
    },
    eventHandlersByName = {},
    passiveSupported = false,
    onceSupported = false;

  function noop() {}

  try {
    var options = Object.create(
      {},
      {
        passive: {
          get: function() {
            passiveSupported = true;
          }
        },
        once: {
          get: function() {
            onceSupported = true;
          }
        }
      }
    );
    window.addEventListener('test', noop, options);
    window.removeEventListener('test', noop, options);
  } catch (e) {
    /* */
  }

  function addEventListener(el, evt, func, options) {
    /* istanbul ignore else */ // Not testable in phantomJS
    if ('addEventListener' in window) {
      el.addEventListener(evt, func, passiveSupported ? options || {} : false);
    } else if ('attachEvent' in window) {
      //IE
      el.attachEvent('on' + evt, func);
    }
  }

  function removeEventListener(el, evt, func) {
    /* istanbul ignore else */ // Not testable in phantomJS
    if ('removeEventListener' in window) {
      el.removeEventListener(evt, func, false);
    } else if ('detachEvent' in window) {
      //IE
      el.detachEvent('on' + evt, func);
    }
  }

  function capitalizeFirstLetter(string) {
    return string.charAt(0).toUpperCase() + string.slice(1);
  }

  //Based on underscore.js
  function throttle(func) {
    var context,
      args,
      result,
      timeout = null,
      previous = 0,
      later = function() {
        previous = getNow();
        timeout = null;
        result = func.apply(context, args);
        if (!timeout) {
          context = args = null;
        }
      };

    return function() {
      var now = getNow();

      if (!previous) {
        previous = now;
      }

      var remaining = throttledTimer - (now - previous);

      context = this;
      args = arguments;

      if (remaining <= 0 || remaining > throttledTimer) {
        if (timeout) {
          clearTimeout(timeout);
          timeout = null;
        }

        previous = now;
        result = func.apply(context, args);

        if (!timeout) {
          context = args = null;
        }
      } else if (!timeout) {
        timeout = setTimeout(later, remaining);
      }

      return result;
    };
  }

  var getNow =
    Date.now ||
    function() {
      /* istanbul ignore next */ // Not testable in PhantonJS
      return new Date().getTime();
    };

  function formatLogMsg(msg) {
    return msgID + '[' + myID + ']' + ' ' + msg;
  }

  function log(msg) {
    if (logging && 'object' === typeof window.console) {
      console.log(formatLogMsg(msg));
    }
  }

  function warn(msg) {
    if ('object' === typeof window.console) {
      console.warn(formatLogMsg(msg));
    }
  }

  function init() {
    readDataFromParent();
    log('Initialising iFrame (' + location.href + ')');
    readDataFromPage();
    setMargin();
    setBodyStyle('background', bodyBackground);
    setBodyStyle('padding', bodyPadding);
    injectClearFixIntoBodyElement();
    checkHeightMode();
    checkWidthMode();
    stopInfiniteResizingOfIFrame();
    setupPublicMethods();
    startEventListeners();
    inPageLinks = setupInPageLinks();
    sendSize('init', 'Init message from host page');
    readyCallback();
  }

  function readDataFromParent() {
    function strBool(str) {
      return 'true' === str ? true : false;
    }

    var data = initMsg.substr(msgIdLen).split(':');

    myID = data[0];
    bodyMargin = undefined !== data[1] ? Number(data[1]) : bodyMargin; //For V1 compatibility
    calculateWidth = undefined !== data[2] ? strBool(data[2]) : calculateWidth;
    logging = undefined !== data[3] ? strBool(data[3]) : logging;
    interval = undefined !== data[4] ? Number(data[4]) : interval;
    autoResize = undefined !== data[6] ? strBool(data[6]) : autoResize;
    bodyMarginStr = data[7];
    heightCalcMode = undefined !== data[8] ? data[8] : heightCalcMode;
    bodyBackground = data[9];
    bodyPadding = data[10];
    tolerance = undefined !== data[11] ? Number(data[11]) : tolerance;
    inPageLinks.enable = undefined !== data[12] ? strBool(data[12]) : false;
    resizeFrom = undefined !== data[13] ? data[13] : resizeFrom;
    widthCalcMode = undefined !== data[14] ? data[14] : widthCalcMode;
  }

  function readDataFromPage() {
    function readData() {
      var data = window.iFrameResizer;

      log('Reading data from page: ' + JSON.stringify(data));

      messageCallback =
        'messageCallback' in data ? data.messageCallback : messageCallback;
      readyCallback =
        'readyCallback' in data ? data.readyCallback : readyCallback;
      targetOriginDefault =
        'targetOrigin' in data ? data.targetOrigin : targetOriginDefault;
      heightCalcMode =
        'heightCalculationMethod' in data
          ? data.heightCalculationMethod
          : heightCalcMode;
      widthCalcMode =
        'widthCalculationMethod' in data
          ? data.widthCalculationMethod
          : widthCalcMode;
    }

    function setupCustomCalcMethods(calcMode, calcFunc) {
      if ('function' === typeof calcMode) {
        log('Setup custom ' + calcFunc + 'CalcMethod');
        customCalcMethods[calcFunc] = calcMode;
        calcMode = 'custom';
      }

      return calcMode;
    }

    if (
      'iFrameResizer' in window &&
      Object === window.iFrameResizer.constructor
    ) {
      readData();
      heightCalcMode = setupCustomCalcMethods(heightCalcMode, 'height');
      widthCalcMode = setupCustomCalcMethods(widthCalcMode, 'width');
    }

    log('TargetOrigin for parent set to: ' + targetOriginDefault);
  }

  function chkCSS(attr, value) {
    if (-1 !== value.indexOf('-')) {
      warn('Negative CSS value ignored for ' + attr);
      value = '';
    }
    return value;
  }

  function setBodyStyle(attr, value) {
    if (undefined !== value && '' !== value && 'null' !== value) {
      document.body.style[attr] = value;
      log('Body ' + attr + ' set to "' + value + '"');
    }
  }

  function setMargin() {
    //If called via V1 script, convert bodyMargin from int to str
    if (undefined === bodyMarginStr) {
      bodyMarginStr = bodyMargin + 'px';
    }

    setBodyStyle('margin', chkCSS('margin', bodyMarginStr));
  }

  function stopInfiniteResizingOfIFrame() {
    document.documentElement.style.height = '';
    document.body.style.height = '';
    log('HTML & body height set to "auto"');
  }

  function manageTriggerEvent(options) {
    var listener = {
      add: function(eventName) {
        function handleEvent() {
          sendSize(options.eventName, options.eventType);
        }

        eventHandlersByName[eventName] = handleEvent;

        addEventListener(window, eventName, handleEvent, { passive: true });
      },
      remove: function(eventName) {
        var handleEvent = eventHandlersByName[eventName];
        delete eventHandlersByName[eventName];

        removeEventListener(window, eventName, handleEvent);
      }
    };

    if (options.eventNames && Array.prototype.map) {
      options.eventName = options.eventNames[0];
      options.eventNames.map(listener[options.method]);
    } else {
      listener[options.method](options.eventName);
    }

    log(
      capitalizeFirstLetter(options.method) +
        ' event listener: ' +
        options.eventType
    );
  }

  function manageEventListeners(method) {
    manageTriggerEvent({
      method: method,
      eventType: 'Animation Start',
      eventNames: ['animationstart', 'webkitAnimationStart']
    });
    manageTriggerEvent({
      method: method,
      eventType: 'Animation Iteration',
      eventNames: ['animationiteration', 'webkitAnimationIteration']
    });
    manageTriggerEvent({
      method: method,
      eventType: 'Animation End',
      eventNames: ['animationend', 'webkitAnimationEnd']
    });
    manageTriggerEvent({
      method: method,
      eventType: 'Input',
      eventName: 'input'
    });
    manageTriggerEvent({
      method: method,
      eventType: 'Mouse Up',
      eventName: 'mouseup'
    });
    manageTriggerEvent({
      method: method,
      eventType: 'Mouse Down',
      eventName: 'mousedown'
    });
    manageTriggerEvent({
      method: method,
      eventType: 'Orientation Change',
      eventName: 'orientationchange'
    });
    manageTriggerEvent({
      method: method,
      eventType: 'Print',
      eventName: ['afterprint', 'beforeprint']
    });
    manageTriggerEvent({
      method: method,
      eventType: 'Ready State Change',
      eventName: 'readystatechange'
    });
    manageTriggerEvent({
      method: method,
      eventType: 'Touch Start',
      eventName: 'touchstart'
    });
    manageTriggerEvent({
      method: method,
      eventType: 'Touch End',
      eventName: 'touchend'
    });
    manageTriggerEvent({
      method: method,
      eventType: 'Touch Cancel',
      eventName: 'touchcancel'
    });
    manageTriggerEvent({
      method: method,
      eventType: 'Transition Start',
      eventNames: [
        'transitionstart',
        'webkitTransitionStart',
        'MSTransitionStart',
        'oTransitionStart',
        'otransitionstart'
      ]
    });
    manageTriggerEvent({
      method: method,
      eventType: 'Transition Iteration',
      eventNames: [
        'transitioniteration',
        'webkitTransitionIteration',
        'MSTransitionIteration',
        'oTransitionIteration',
        'otransitioniteration'
      ]
    });
    manageTriggerEvent({
      method: method,
      eventType: 'Transition End',
      eventNames: [
        'transitionend',
        'webkitTransitionEnd',
        'MSTransitionEnd',
        'oTransitionEnd',
        'otransitionend'
      ]
    });
    if ('child' === resizeFrom) {
      manageTriggerEvent({
        method: method,
        eventType: 'IFrame Resized',
        eventName: 'resize'
      });
    }
  }

  function checkCalcMode(calcMode, calcModeDefault, modes, type) {
    if (calcModeDefault !== calcMode) {
      if (!(calcMode in modes)) {
        warn(
          calcMode + ' is not a valid option for ' + type + 'CalculationMethod.'
        );
        calcMode = calcModeDefault;
      }
      log(type + ' calculation method set to "' + calcMode + '"');
    }

    return calcMode;
  }

  function checkHeightMode() {
    heightCalcMode = checkCalcMode(
      heightCalcMode,
      heightCalcModeDefault,
      getHeight,
      'height'
    );
  }

  function checkWidthMode() {
    widthCalcMode = checkCalcMode(
      widthCalcMode,
      widthCalcModeDefault,
      getWidth,
      'width'
    );
  }

  function startEventListeners() {
    if (true === autoResize) {
      manageEventListeners('add');
      setupMutationObserver();
    } else {
      log('Auto Resize disabled');
    }
  }

  function stopMsgsToParent() {
    log('Disable outgoing messages');
    sendPermit = false;
  }

  function removeMsgListener() {
    log('Remove event listener: Message');
    removeEventListener(window, 'message', receiver);
  }

  function disconnectMutationObserver() {
    if (null !== bodyObserver) {
      /* istanbul ignore next */ // Not testable in PhantonJS
      bodyObserver.disconnect();
    }
  }

  function stopEventListeners() {
    manageEventListeners('remove');
    disconnectMutationObserver();
    clearInterval(intervalTimer);
  }

  function teardown() {
    stopMsgsToParent();
    removeMsgListener();
    if (true === autoResize) stopEventListeners();
  }

  function injectClearFixIntoBodyElement() {
    var clearFix = document.createElement('div');
    clearFix.style.clear = 'both';
    clearFix.style.display = 'block'; //Guard against this having been globally redefined in CSS.
    document.body.appendChild(clearFix);
  }

  function setupInPageLinks() {
    function getPagePosition() {
      return {
        x:
          window.pageXOffset !== undefined
            ? window.pageXOffset
            : document.documentElement.scrollLeft,
        y:
          window.pageYOffset !== undefined
            ? window.pageYOffset
            : document.documentElement.scrollTop
      };
    }

    function getElementPosition(el) {
      var elPosition = el.getBoundingClientRect(),
        pagePosition = getPagePosition();

      return {
        x: parseInt(elPosition.left, 10) + parseInt(pagePosition.x, 10),
        y: parseInt(elPosition.top, 10) + parseInt(pagePosition.y, 10)
      };
    }

    function findTarget(location) {
      function jumpToTarget(target) {
        var jumpPosition = getElementPosition(target);

        log(
          'Moving to in page link (#' +
            hash +
            ') at x: ' +
            jumpPosition.x +
            ' y: ' +
            jumpPosition.y
        );
        sendMsg(jumpPosition.y, jumpPosition.x, 'scrollToOffset'); // X&Y reversed at sendMsg uses height/width
      }

      var hash = location.split('#')[1] || location, //Remove # if present
        hashData = decodeURIComponent(hash),
        target =
          document.getElementById(hashData) ||
          document.getElementsByName(hashData)[0];

      if (undefined !== target) {
        jumpToTarget(target);
      } else {
        log(
          'In page link (#' +
            hash +
            ') not found in iFrame, so sending to parent'
        );
        sendMsg(0, 0, 'inPageLink', '#' + hash);
      }
    }

    function checkLocationHash() {
      if ('' !== location.hash && '#' !== location.hash) {
        findTarget(location.href);
      }
    }

    function bindAnchors() {
      function setupLink(el) {
        function linkClicked(e) {
          e.preventDefault();

          /*jshint validthis:true */
          findTarget(this.getAttribute('href'));
        }

        if ('#' !== el.getAttribute('href')) {
          addEventListener(el, 'click', linkClicked);
        }
      }

      Array.prototype.forEach.call(
        document.querySelectorAll('a[href^="#"]'),
        setupLink
      );
    }

    function bindLocationHash() {
      addEventListener(window, 'hashchange', checkLocationHash);
    }

    function initCheck() {
      //check if page loaded with location hash after init resize
      setTimeout(checkLocationHash, eventCancelTimer);
    }

    function enableInPageLinks() {
      /* istanbul ignore else */ // Not testable in phantonJS
      if (Array.prototype.forEach && document.querySelectorAll) {
        log('Setting up location.hash handlers');
        bindAnchors();
        bindLocationHash();
        initCheck();
      } else {
        warn(
          'In page linking not fully supported in this browser! (See README.md for IE8 workaround)'
        );
      }
    }

    if (inPageLinks.enable) {
      enableInPageLinks();
    } else {
      log('In page linking not enabled');
    }

    return {
      findTarget: findTarget
    };
  }

  function setupPublicMethods() {
    log('Enable public methods');

    win.parentIFrame = {
      autoResize: function autoResizeF(resize) {
        if (true === resize && false === autoResize) {
          autoResize = true;
          startEventListeners();
          //sendSize('autoResize','Auto Resize enabled');
        } else if (false === resize && true === autoResize) {
          autoResize = false;
          stopEventListeners();
        }

        return autoResize;
      },

      close: function closeF() {
        sendMsg(0, 0, 'close');
        teardown();
      },

      getId: function getIdF() {
        return myID;
      },

      getPageInfo: function getPageInfoF(callback) {
        if ('function' === typeof callback) {
          pageInfoCallback = callback;
          sendMsg(0, 0, 'pageInfo');
        } else {
          pageInfoCallback = function() {};
          sendMsg(0, 0, 'pageInfoStop');
        }
      },

      moveToAnchor: function moveToAnchorF(hash) {
        inPageLinks.findTarget(hash);
      },

      reset: function resetF() {
        resetIFrame('parentIFrame.reset');
      },

      scrollTo: function scrollToF(x, y) {
        sendMsg(y, x, 'scrollTo'); // X&Y reversed at sendMsg uses height/width
      },

      scrollToOffset: function scrollToF(x, y) {
        sendMsg(y, x, 'scrollToOffset'); // X&Y reversed at sendMsg uses height/width
      },

      sendMessage: function sendMessageF(msg, targetOrigin) {
        sendMsg(0, 0, 'message', JSON.stringify(msg), targetOrigin);
      },

      setHeightCalculationMethod: function setHeightCalculationMethodF(
        heightCalculationMethod
      ) {
        heightCalcMode = heightCalculationMethod;
        checkHeightMode();
      },

      setWidthCalculationMethod: function setWidthCalculationMethodF(
        widthCalculationMethod
      ) {
        widthCalcMode = widthCalculationMethod;
        checkWidthMode();
      },

      setTargetOrigin: function setTargetOriginF(targetOrigin) {
        log('Set targetOrigin: ' + targetOrigin);
        targetOriginDefault = targetOrigin;
      },

      size: function sizeF(customHeight, customWidth) {
        var valString =
          '' +
          (customHeight ? customHeight : '') +
          (customWidth ? ',' + customWidth : '');
        //lockTrigger();
        sendSize(
          'size',
          'parentIFrame.size(' + valString + ')',
          customHeight,
          customWidth
        );
      }
    };
  }

  function initInterval() {
    if (0 !== interval) {
      log('setInterval: ' + interval + 'ms');
      intervalTimer = setInterval(function() {
        sendSize('interval', 'setInterval: ' + interval);
      }, Math.abs(interval));
    }
  } //Not testable in PhantomJS

  /* istanbul ignore next */ function setupBodyMutationObserver() {
    function addImageLoadListners(mutation) {
      function addImageLoadListener(element) {
        if (false === element.complete) {
          log('Attach listeners to ' + element.src);
          element.addEventListener('load', imageLoaded, false);
          element.addEventListener('error', imageError, false);
          elements.push(element);
        }
      }

      if (mutation.type === 'attributes' && mutation.attributeName === 'src') {
        addImageLoadListener(mutation.target);
      } else if (mutation.type === 'childList') {
        Array.prototype.forEach.call(
          mutation.target.querySelectorAll('img'),
          addImageLoadListener
        );
      }
    }

    function removeFromArray(element) {
      elements.splice(elements.indexOf(element), 1);
    }

    function removeImageLoadListener(element) {
      log('Remove listeners from ' + element.src);
      element.removeEventListener('load', imageLoaded, false);
      element.removeEventListener('error', imageError, false);
      removeFromArray(element);
    }

    function imageEventTriggered(event, type, typeDesc) {
      removeImageLoadListener(event.target);
      sendSize(type, typeDesc + ': ' + event.target.src, undefined, undefined);
    }

    function imageLoaded(event) {
      imageEventTriggered(event, 'imageLoad', 'Image loaded');
    }

    function imageError(event) {
      imageEventTriggered(event, 'imageLoadFailed', 'Image load failed');
    }

    function mutationObserved(mutations) {
      sendSize(
        'mutationObserver',
        'mutationObserver: ' + mutations[0].target + ' ' + mutations[0].type
      );

      //Deal with WebKit asyncing image loading when tags are injected into the page
      mutations.forEach(addImageLoadListners);
    }

    function createMutationObserver() {
      var target = document.querySelector('body'),
        config = {
          attributes: true,
          attributeOldValue: false,
          characterData: true,
          characterDataOldValue: false,
          childList: true,
          subtree: true
        };

      observer = new MutationObserver(mutationObserved);

      log('Create body MutationObserver');
      observer.observe(target, config);

      return observer;
    }

    var elements = [],
      MutationObserver =
        window.MutationObserver || window.WebKitMutationObserver,
      observer = createMutationObserver();

    return {
      disconnect: function() {
        if ('disconnect' in observer) {
          log('Disconnect body MutationObserver');
          observer.disconnect();
          elements.forEach(removeImageLoadListener);
        }
      }
    };
  }

  function setupMutationObserver() {
    var forceIntervalTimer = 0 > interval; // Not testable in PhantomJS

    /* istanbul ignore if */ if (
      window.MutationObserver ||
      window.WebKitMutationObserver
    ) {
      if (forceIntervalTimer) {
        initInterval();
      } else {
        bodyObserver = setupBodyMutationObserver();
      }
    } else {
      log('MutationObserver not supported in this browser!');
      initInterval();
    }
  }

  // document.documentElement.offsetHeight is not reliable, so
  // we have to jump through hoops to get a better value.
  function getComputedStyle(prop, el) {
    /* istanbul ignore next */ //Not testable in PhantomJS
    function convertUnitsToPxForIE8(value) {
      var PIXEL = /^\d+(px)?$/i;

      if (PIXEL.test(value)) {
        return parseInt(value, base);
      }

      var style = el.style.left,
        runtimeStyle = el.runtimeStyle.left;

      el.runtimeStyle.left = el.currentStyle.left;
      el.style.left = value || 0;
      value = el.style.pixelLeft;
      el.style.left = style;
      el.runtimeStyle.left = runtimeStyle;

      return value;
    }

    var retVal = 0;
    el = el || document.body; // Not testable in phantonJS

    /* istanbul ignore else */ if (
      'defaultView' in document &&
      'getComputedStyle' in document.defaultView
    ) {
      retVal = document.defaultView.getComputedStyle(el, null);
      retVal = null !== retVal ? retVal[prop] : 0;
    } else {
      //IE8
      retVal = convertUnitsToPxForIE8(el.currentStyle[prop]);
    }

    return parseInt(retVal, base);
  }

  function chkEventThottle(timer) {
    if (timer > throttledTimer / 2) {
      throttledTimer = 2 * timer;
      log('Event throttle increased to ' + throttledTimer + 'ms');
    }
  }

  //Idea from https://github.com/guardian/iframe-messenger
  function getMaxElement(side, elements) {
    var elementsLength = elements.length,
      elVal = 0,
      maxVal = 0,
      Side = capitalizeFirstLetter(side),
      timer = getNow();

    for (var i = 0; i < elementsLength; i++) {
      elVal =
        elements[i].getBoundingClientRect()[side] +
        getComputedStyle('margin' + Side, elements[i]);
      if (elVal > maxVal) {
        maxVal = elVal;
      }
    }

    timer = getNow() - timer;

    log('Parsed ' + elementsLength + ' HTML elements');
    log('Element position calculated in ' + timer + 'ms');

    chkEventThottle(timer);

    return maxVal;
  }

  function getAllMeasurements(dimention) {
    return [
      dimention.bodyOffset(),
      dimention.bodyScroll(),
      dimention.documentElementOffset(),
      dimention.documentElementScroll()
    ];
  }

  function getTaggedElements(side, tag) {
    function noTaggedElementsFound() {
      warn('No tagged elements (' + tag + ') found on page');
      return document.querySelectorAll('body *');
    }

    var elements = document.querySelectorAll('[' + tag + ']');

    if (0 === elements.length) noTaggedElementsFound();

    return getMaxElement(side, elements);
  }

  function getAllElements() {
    return document.querySelectorAll('body *');
  }

  var getHeight = {
      bodyOffset: function getBodyOffsetHeight() {
        return (
          document.body.offsetHeight +
          getComputedStyle('marginTop') +
          getComputedStyle('marginBottom')
        );
      },

      offset: function() {
        return getHeight.bodyOffset(); //Backwards compatability
      },

      bodyScroll: function getBodyScrollHeight() {
        return document.body.scrollHeight;
      },

      custom: function getCustomWidth() {
        return customCalcMethods.height();
      },

      documentElementOffset: function getDEOffsetHeight() {
        return document.documentElement.offsetHeight;
      },

      documentElementScroll: function getDEScrollHeight() {
        return document.documentElement.scrollHeight;
      },

      max: function getMaxHeight() {
        return Math.max.apply(null, getAllMeasurements(getHeight));
      },

      min: function getMinHeight() {
        return Math.min.apply(null, getAllMeasurements(getHeight));
      },

      grow: function growHeight() {
        return getHeight.max(); //Run max without the forced downsizing
      },

      lowestElement: function getBestHeight() {
        return Math.max(
          getHeight.bodyOffset() || getHeight.documentElementOffset(),
          getMaxElement('bottom', getAllElements())
        );
      },

      taggedElement: function getTaggedElementsHeight() {
        return getTaggedElements('bottom', 'data-iframe-height');
      }
    },
    getWidth = {
      bodyScroll: function getBodyScrollWidth() {
        return document.body.scrollWidth;
      },

      bodyOffset: function getBodyOffsetWidth() {
        return document.body.offsetWidth;
      },

      custom: function getCustomWidth() {
        return customCalcMethods.width();
      },

      documentElementScroll: function getDEScrollWidth() {
        return document.documentElement.scrollWidth;
      },

      documentElementOffset: function getDEOffsetWidth() {
        return document.documentElement.offsetWidth;
      },

      scroll: function getMaxWidth() {
        return Math.max(
          getWidth.bodyScroll(),
          getWidth.documentElementScroll()
        );
      },

      max: function getMaxWidth() {
        return Math.max.apply(null, getAllMeasurements(getWidth));
      },

      min: function getMinWidth() {
        return Math.min.apply(null, getAllMeasurements(getWidth));
      },

      rightMostElement: function rightMostElement() {
        return getMaxElement('right', getAllElements());
      },

      taggedElement: function getTaggedElementsWidth() {
        return getTaggedElements('right', 'data-iframe-width');
      }
    };

  function sizeIFrame(
    triggerEvent,
    triggerEventDesc,
    customHeight,
    customWidth
  ) {
    function resizeIFrame() {
      height = currentHeight;
      width = currentWidth;

      sendMsg(height, width, triggerEvent);
    }

    function isSizeChangeDetected() {
      function checkTolarance(a, b) {
        var retVal = Math.abs(a - b) <= tolerance;
        return !retVal;
      }

      currentHeight =
        undefined !== customHeight ? customHeight : getHeight[heightCalcMode]();
      currentWidth =
        undefined !== customWidth ? customWidth : getWidth[widthCalcMode]();

      return (
        checkTolarance(height, currentHeight) ||
        (calculateWidth && checkTolarance(width, currentWidth))
      );
    }

    function isForceResizableEvent() {
      return !(triggerEvent in { init: 1, interval: 1, size: 1 });
    }

    function isForceResizableCalcMode() {
      return (
        heightCalcMode in resetRequiredMethods ||
        (calculateWidth && widthCalcMode in resetRequiredMethods)
      );
    }

    function logIgnored() {
      log('No change in size detected');
    }

    function checkDownSizing() {
      if (isForceResizableEvent() && isForceResizableCalcMode()) {
        resetIFrame(triggerEventDesc);
      } else if (!(triggerEvent in { interval: 1 })) {
        logIgnored();
      }
    }

    var currentHeight, currentWidth;

    if (isSizeChangeDetected() || 'init' === triggerEvent) {
      lockTrigger();
      resizeIFrame();
    } else {
      checkDownSizing();
    }
  }

  var sizeIFrameThrottled = throttle(sizeIFrame);

  function sendSize(triggerEvent, triggerEventDesc, customHeight, customWidth) {
    function recordTrigger() {
      if (!(triggerEvent in { reset: 1, resetPage: 1, init: 1 })) {
        log('Trigger event: ' + triggerEventDesc);
      }
    }

    function isDoubleFiredEvent() {
      return triggerLocked && triggerEvent in doubleEventList;
    }

    if (!isDoubleFiredEvent()) {
      recordTrigger();
      if (triggerEvent === 'init') {
        sizeIFrame(triggerEvent, triggerEventDesc, customHeight, customWidth);
      } else {
        sizeIFrameThrottled(
          triggerEvent,
          triggerEventDesc,
          customHeight,
          customWidth
        );
      }
    } else {
      log('Trigger event cancelled: ' + triggerEvent);
    }
  }

  function lockTrigger() {
    if (!triggerLocked) {
      triggerLocked = true;
      log('Trigger event lock on');
    }
    clearTimeout(triggerLockedTimer);
    triggerLockedTimer = setTimeout(function() {
      triggerLocked = false;
      log('Trigger event lock off');
      log('--');
    }, eventCancelTimer);
  }

  function triggerReset(triggerEvent) {
    height = getHeight[heightCalcMode]();
    width = getWidth[widthCalcMode]();

    sendMsg(height, width, triggerEvent);
  }

  function resetIFrame(triggerEventDesc) {
    var hcm = heightCalcMode;
    heightCalcMode = heightCalcModeDefault;

    log('Reset trigger event: ' + triggerEventDesc);
    lockTrigger();
    triggerReset('reset');

    heightCalcMode = hcm;
  }

  function sendMsg(height, width, triggerEvent, msg, targetOrigin) {
    function setTargetOrigin() {
      if (undefined === targetOrigin) {
        targetOrigin = targetOriginDefault;
      } else {
        log('Message targetOrigin: ' + targetOrigin);
      }
    }

    function sendToParent() {
      var size = height + ':' + width,
        message =
          myID +
          ':' +
          size +
          ':' +
          triggerEvent +
          (undefined !== msg ? ':' + msg : '');

      log('Sending message to host page (' + message + ')');
      target.postMessage(msgID + message, targetOrigin);
    }

    if (true === sendPermit) {
      setTargetOrigin();
      sendToParent();
    }
  }

  function receiver(event) {
    var processRequestFromParent = {
      init: function initFromParent() {
        initMsg = event.data;
        target = event.source;

        init();
        firstRun = false;
        setTimeout(function() {
          initLock = false;
        }, eventCancelTimer);
      },

      reset: function resetFromParent() {
        if (!initLock) {
          log('Page size reset by host page');
          triggerReset('resetPage');
        } else {
          log('Page reset ignored by init');
        }
      },

      resize: function resizeFromParent() {
        sendSize('resizeParent', 'Parent window requested size check');
      },

      moveToAnchor: function moveToAnchorF() {
        inPageLinks.findTarget(getData());
      },
      inPageLink: function inPageLinkF() {
        this.moveToAnchor();
      }, //Backward compatability

      pageInfo: function pageInfoFromParent() {
        var msgBody = getData();
        log('PageInfoFromParent called from parent: ' + msgBody);
        pageInfoCallback(JSON.parse(msgBody));
        log(' --');
      },

      message: function messageFromParent() {
        var msgBody = getData();

        log('MessageCallback called from parent: ' + msgBody);
        messageCallback(JSON.parse(msgBody));
        log(' --');
      }
    };

    function isMessageForUs() {
      return msgID === ('' + event.data).substr(0, msgIdLen); //''+ Protects against non-string messages
    }

    function getMessageType() {
      return event.data.split(']')[1].split(':')[0];
    }

    function getData() {
      return event.data.substr(event.data.indexOf(':') + 1);
    }

    function isMiddleTier() {
      return (
        (!( true && module.exports) &&
          'iFrameResize' in window) ||
        ('jQuery' in window && 'iFrameResize' in __webpack_provided_window_dot_jQuery.prototype)
      );
    }

    function isInitMsg() {
      //Test if this message is from a child below us. This is an ugly test, however, updating
      //the message format would break backwards compatibity.
      return event.data.split(':')[2] in { true: 1, false: 1 };
    }

    function callFromParent() {
      var messageType = getMessageType();

      if (messageType in processRequestFromParent) {
        processRequestFromParent[messageType]();
      } else if (!isMiddleTier() && !isInitMsg()) {
        warn('Unexpected message (' + event.data + ')');
      }
    }

    function processMessage() {
      if (false === firstRun) {
        callFromParent();
      } else if (isInitMsg()) {
        processRequestFromParent.init();
      } else {
        log(
          'Ignored message of type "' +
            getMessageType() +
            '". Received before initialization.'
        );
      }
    }

    if (isMessageForUs()) {
      processMessage();
    }
  }

  //Normally the parent kicks things off when it detects the iFrame has loaded.
  //If this script is async-loaded, then tell parent page to retry init.
  function chkLateLoaded() {
    if ('loading' !== document.readyState) {
      window.parent.postMessage('[iFrameResizerChild]Ready', '*');
    }
  }

  addEventListener(window, 'message', receiver);
  addEventListener(window, 'readystatechange', chkLateLoaded);
  chkLateLoaded();

  
})();

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.min.js")))

/***/ }),

/***/ "./node_modules/iframe-resizer/js/iframeResizer.js":
/*!*********************************************************!*\
  !*** ./node_modules/iframe-resizer/js/iframeResizer.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(__webpack_provided_window_dot_jQuery) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*
 * File: iframeResizer.js
 * Desc: Force iframes to size to content.
 * Requires: iframeResizer.contentWindow.js to be loaded into the target frame.
 * Doc: https://github.com/davidjbradshaw/iframe-resizer
 * Author: David J. Bradshaw - dave@bradshaw.net
 * Contributor: Jure Mav - jure.mav@gmail.com
 * Contributor: Reed Dadoune - reed@dadoune.com
 */

(function(undefined) {
  'use strict';

  if (typeof window === 'undefined') return; // don't run for server side render

  var count = 0,
    logEnabled = false,
    hiddenCheckEnabled = false,
    msgHeader = 'message',
    msgHeaderLen = msgHeader.length,
    msgId = '[iFrameSizer]', //Must match iframe msg ID
    msgIdLen = msgId.length,
    pagePosition = null,
    requestAnimationFrame = window.requestAnimationFrame,
    resetRequiredMethods = {
      max: 1,
      scroll: 1,
      bodyScroll: 1,
      documentElementScroll: 1
    },
    settings = {},
    timer = null,
    logId = 'Host Page',
    defaults = {
      autoResize: true,
      bodyBackground: null,
      bodyMargin: null,
      bodyMarginV1: 8,
      bodyPadding: null,
      checkOrigin: true,
      inPageLinks: false,
      enablePublicMethods: true,
      heightCalculationMethod: 'bodyOffset',
      id: 'iFrameResizer',
      interval: 32,
      log: false,
      maxHeight: Infinity,
      maxWidth: Infinity,
      minHeight: 0,
      minWidth: 0,
      resizeFrom: 'parent',
      scrolling: false,
      sizeHeight: true,
      sizeWidth: false,
      warningTimeout: 5000,
      tolerance: 0,
      widthCalculationMethod: 'scroll',
      closedCallback: function() {},
      initCallback: function() {},
      messageCallback: function() {
        warn('MessageCallback function not defined');
      },
      resizedCallback: function() {},
      scrollCallback: function() {
        return true;
      }
    };

  function getMutationObserver() {
    return window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;
  }

  function addEventListener(obj, evt, func) {
    /* istanbul ignore else */ // Not testable in PhantonJS
    if ('addEventListener' in window) {
      obj.addEventListener(evt, func, false);
    } else if ('attachEvent' in window) {
      //IE
      obj.attachEvent('on' + evt, func);
    }
  }

  function removeEventListener(el, evt, func) {
    /* istanbul ignore else */ // Not testable in phantonJS
    if ('removeEventListener' in window) {
      el.removeEventListener(evt, func, false);
    } else if ('detachEvent' in window) {
      //IE
      el.detachEvent('on' + evt, func);
    }
  }

  function setupRequestAnimationFrame() {
    var vendors = ['moz', 'webkit', 'o', 'ms'],
      x;

    // Remove vendor prefixing if prefixed and break early if not
    for (x = 0; x < vendors.length && !requestAnimationFrame; x += 1) {
      requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];
    }

    if (!requestAnimationFrame) {
      log('setup', 'RequestAnimationFrame not supported');
    }
  }

  function getMyID(iframeId) {
    var retStr = 'Host page: ' + iframeId;

    if (window.top !== window.self) {
      if (window.parentIFrame && window.parentIFrame.getId) {
        retStr = window.parentIFrame.getId() + ': ' + iframeId;
      } else {
        retStr = 'Nested host page: ' + iframeId;
      }
    }

    return retStr;
  }

  function formatLogHeader(iframeId) {
    return msgId + '[' + getMyID(iframeId) + ']';
  }

  function isLogEnabled(iframeId) {
    return settings[iframeId] ? settings[iframeId].log : logEnabled;
  }

  function log(iframeId, msg) {
    output('log', iframeId, msg, isLogEnabled(iframeId));
  }

  function info(iframeId, msg) {
    output('info', iframeId, msg, isLogEnabled(iframeId));
  }

  function warn(iframeId, msg) {
    output('warn', iframeId, msg, true);
  }

  function output(type, iframeId, msg, enabled) {
    if (true === enabled && 'object' === typeof window.console) {
      console[type](formatLogHeader(iframeId), msg);
    }
  }

  function iFrameListener(event) {
    function resizeIFrame() {
      function resize() {
        setSize(messageData);
        setPagePosition(iframeId);
        callback('resizedCallback', messageData);
      }

      ensureInRange('Height');
      ensureInRange('Width');

      syncResize(resize, messageData, 'init');
    }

    function processMsg() {
      var data = msg.substr(msgIdLen).split(':');

      return {
        iframe: settings[data[0]] && settings[data[0]].iframe,
        id: data[0],
        height: data[1],
        width: data[2],
        type: data[3]
      };
    }

    function ensureInRange(Dimension) {
      var max = Number(settings[iframeId]['max' + Dimension]),
        min = Number(settings[iframeId]['min' + Dimension]),
        dimension = Dimension.toLowerCase(),
        size = Number(messageData[dimension]);

      log(
        iframeId,
        'Checking ' + dimension + ' is in range ' + min + '-' + max
      );

      if (size < min) {
        size = min;
        log(iframeId, 'Set ' + dimension + ' to min value');
      }

      if (size > max) {
        size = max;
        log(iframeId, 'Set ' + dimension + ' to max value');
      }

      messageData[dimension] = '' + size;
    }

    function isMessageFromIFrame() {
      function checkAllowedOrigin() {
        function checkList() {
          var i = 0,
            retCode = false;

          log(
            iframeId,
            'Checking connection is from allowed list of origins: ' +
              checkOrigin
          );

          for (; i < checkOrigin.length; i++) {
            if (checkOrigin[i] === origin) {
              retCode = true;
              break;
            }
          }
          return retCode;
        }

        function checkSingle() {
          var remoteHost = settings[iframeId] && settings[iframeId].remoteHost;
          log(iframeId, 'Checking connection is from: ' + remoteHost);
          return origin === remoteHost;
        }

        return checkOrigin.constructor === Array ? checkList() : checkSingle();
      }

      var origin = event.origin,
        checkOrigin = settings[iframeId] && settings[iframeId].checkOrigin;

      if (checkOrigin && '' + origin !== 'null' && !checkAllowedOrigin()) {
        throw new Error(
          'Unexpected message received from: ' +
            origin +
            ' for ' +
            messageData.iframe.id +
            '. Message was: ' +
            event.data +
            '. This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.'
        );
      }

      return true;
    }

    function isMessageForUs() {
      return (
        msgId === ('' + msg).substr(0, msgIdLen) &&
        msg.substr(msgIdLen).split(':')[0] in settings
      ); //''+Protects against non-string msg
    }

    function isMessageFromMetaParent() {
      //Test if this message is from a parent above us. This is an ugly test, however, updating
      //the message format would break backwards compatibity.
      var retCode = messageData.type in { true: 1, false: 1, undefined: 1 };

      if (retCode) {
        log(iframeId, 'Ignoring init message from meta parent page');
      }

      return retCode;
    }

    function getMsgBody(offset) {
      return msg.substr(msg.indexOf(':') + msgHeaderLen + offset);
    }

    function forwardMsgFromIFrame(msgBody) {
      log(
        iframeId,
        'MessageCallback passed: {iframe: ' +
          messageData.iframe.id +
          ', message: ' +
          msgBody +
          '}'
      );
      callback('messageCallback', {
        iframe: messageData.iframe,
        message: JSON.parse(msgBody)
      });
      log(iframeId, '--');
    }

    function getPageInfo() {
      var bodyPosition = document.body.getBoundingClientRect(),
        iFramePosition = messageData.iframe.getBoundingClientRect();

      return JSON.stringify({
        iframeHeight: iFramePosition.height,
        iframeWidth: iFramePosition.width,
        clientHeight: Math.max(
          document.documentElement.clientHeight,
          window.innerHeight || 0
        ),
        clientWidth: Math.max(
          document.documentElement.clientWidth,
          window.innerWidth || 0
        ),
        offsetTop: parseInt(iFramePosition.top - bodyPosition.top, 10),
        offsetLeft: parseInt(iFramePosition.left - bodyPosition.left, 10),
        scrollTop: window.pageYOffset,
        scrollLeft: window.pageXOffset
      });
    }

    function sendPageInfoToIframe(iframe, iframeId) {
      function debouncedTrigger() {
        trigger(
          'Send Page Info',
          'pageInfo:' + getPageInfo(),
          iframe,
          iframeId
        );
      }
      debounceFrameEvents(debouncedTrigger, 32, iframeId);
    }

    function startPageInfoMonitor() {
      function setListener(type, func) {
        function sendPageInfo() {
          if (settings[id]) {
            sendPageInfoToIframe(settings[id].iframe, id);
          } else {
            stop();
          }
        }

        ['scroll', 'resize'].forEach(function(evt) {
          log(id, type + evt + ' listener for sendPageInfo');
          func(window, evt, sendPageInfo);
        });
      }

      function stop() {
        setListener('Remove ', removeEventListener);
      }

      function start() {
        setListener('Add ', addEventListener);
      }

      var id = iframeId; //Create locally scoped copy of iFrame ID

      start();

      if (settings[id]) {
        settings[id].stopPageInfo = stop;
      }
    }

    function stopPageInfoMonitor() {
      if (settings[iframeId] && settings[iframeId].stopPageInfo) {
        settings[iframeId].stopPageInfo();
        delete settings[iframeId].stopPageInfo;
      }
    }

    function checkIFrameExists() {
      var retBool = true;

      if (null === messageData.iframe) {
        warn(iframeId, 'IFrame (' + messageData.id + ') not found');
        retBool = false;
      }
      return retBool;
    }

    function getElementPosition(target) {
      var iFramePosition = target.getBoundingClientRect();

      getPagePosition(iframeId);

      return {
        x: Math.floor(Number(iFramePosition.left) + Number(pagePosition.x)),
        y: Math.floor(Number(iFramePosition.top) + Number(pagePosition.y))
      };
    }

    function scrollRequestFromChild(addOffset) {
      /* istanbul ignore next */ //Not testable in Karma
      function reposition() {
        pagePosition = newPosition;
        scrollTo();
        log(iframeId, '--');
      }

      function calcOffset() {
        return {
          x: Number(messageData.width) + offset.x,
          y: Number(messageData.height) + offset.y
        };
      }

      function scrollParent() {
        if (window.parentIFrame) {
          window.parentIFrame['scrollTo' + (addOffset ? 'Offset' : '')](
            newPosition.x,
            newPosition.y
          );
        } else {
          warn(
            iframeId,
            'Unable to scroll to requested position, window.parentIFrame not found'
          );
        }
      }

      var offset = addOffset
          ? getElementPosition(messageData.iframe)
          : { x: 0, y: 0 },
        newPosition = calcOffset();

      log(
        iframeId,
        'Reposition requested from iFrame (offset x:' +
          offset.x +
          ' y:' +
          offset.y +
          ')'
      );

      if (window.top !== window.self) {
        scrollParent();
      } else {
        reposition();
      }
    }

    function scrollTo() {
      if (false !== callback('scrollCallback', pagePosition)) {
        setPagePosition(iframeId);
      } else {
        unsetPagePosition();
      }
    }

    function findTarget(location) {
      function jumpToTarget() {
        var jumpPosition = getElementPosition(target);

        log(
          iframeId,
          'Moving to in page link (#' +
            hash +
            ') at x: ' +
            jumpPosition.x +
            ' y: ' +
            jumpPosition.y
        );
        pagePosition = {
          x: jumpPosition.x,
          y: jumpPosition.y
        };

        scrollTo();
        log(iframeId, '--');
      }

      function jumpToParent() {
        if (window.parentIFrame) {
          window.parentIFrame.moveToAnchor(hash);
        } else {
          log(
            iframeId,
            'In page link #' +
              hash +
              ' not found and window.parentIFrame not found'
          );
        }
      }

      var hash = location.split('#')[1] || '',
        hashData = decodeURIComponent(hash),
        target =
          document.getElementById(hashData) ||
          document.getElementsByName(hashData)[0];

      if (target) {
        jumpToTarget();
      } else if (window.top !== window.self) {
        jumpToParent();
      } else {
        log(iframeId, 'In page link #' + hash + ' not found');
      }
    }

    function callback(funcName, val) {
      return chkCallback(iframeId, funcName, val);
    }

    function actionMsg() {
      if (settings[iframeId] && settings[iframeId].firstRun) firstRun();

      switch (messageData.type) {
        case 'close':
          if (settings[iframeId].closeRequestCallback)
            chkCallback(
              iframeId,
              'closeRequestCallback',
              settings[iframeId].iframe
            );
          else closeIFrame(messageData.iframe);
          break;
        case 'message':
          forwardMsgFromIFrame(getMsgBody(6));
          break;
        case 'scrollTo':
          scrollRequestFromChild(false);
          break;
        case 'scrollToOffset':
          scrollRequestFromChild(true);
          break;
        case 'pageInfo':
          sendPageInfoToIframe(
            settings[iframeId] && settings[iframeId].iframe,
            iframeId
          );
          startPageInfoMonitor();
          break;
        case 'pageInfoStop':
          stopPageInfoMonitor();
          break;
        case 'inPageLink':
          findTarget(getMsgBody(9));
          break;
        case 'reset':
          resetIFrame(messageData);
          break;
        case 'init':
          resizeIFrame();
          callback('initCallback', messageData.iframe);
          break;
        default:
          resizeIFrame();
      }
    }

    function hasSettings(iframeId) {
      var retBool = true;

      if (!settings[iframeId]) {
        retBool = false;
        warn(
          messageData.type +
            ' No settings for ' +
            iframeId +
            '. Message was: ' +
            msg
        );
      }

      return retBool;
    }

    function iFrameReadyMsgReceived() {
      for (var iframeId in settings) {
        trigger(
          'iFrame requested init',
          createOutgoingMsg(iframeId),
          document.getElementById(iframeId),
          iframeId
        );
      }
    }

    function firstRun() {
      if (settings[iframeId]) {
        settings[iframeId].firstRun = false;
      }
    }

    function clearWarningTimeout() {
      if (settings[iframeId]) {
        clearTimeout(settings[iframeId].msgTimeout);
        settings[iframeId].warningTimeout = 0;
      }
    }

    var msg = event.data,
      messageData = {},
      iframeId = null;

    if ('[iFrameResizerChild]Ready' === msg) {
      iFrameReadyMsgReceived();
    } else if (isMessageForUs()) {
      messageData = processMsg();
      iframeId = logId = messageData.id;
      if (settings[iframeId]) {
        settings[iframeId].loaded = true;
      }

      if (!isMessageFromMetaParent() && hasSettings(iframeId)) {
        log(iframeId, 'Received: ' + msg);

        if (checkIFrameExists() && isMessageFromIFrame()) {
          actionMsg();
        }
      }
    } else {
      info(iframeId, 'Ignored: ' + msg);
    }
  }

  function chkCallback(iframeId, funcName, val) {
    var func = null,
      retVal = null;

    if (settings[iframeId]) {
      func = settings[iframeId][funcName];

      if ('function' === typeof func) {
        retVal = func(val);
      } else {
        throw new TypeError(
          funcName + ' on iFrame[' + iframeId + '] is not a function'
        );
      }
    }

    return retVal;
  }

  function removeIframeListeners(iframe) {
    var iframeId = iframe.id;
    delete settings[iframeId];
  }

  function closeIFrame(iframe) {
    var iframeId = iframe.id;
    log(iframeId, 'Removing iFrame: ' + iframeId);

    try {
      // Catch race condition error with React
      if (iframe.parentNode) {
        iframe.parentNode.removeChild(iframe);
      }
    } catch (e) {}

    chkCallback(iframeId, 'closedCallback', iframeId);
    log(iframeId, '--');
    removeIframeListeners(iframe);
  }

  function getPagePosition(iframeId) {
    if (null === pagePosition) {
      pagePosition = {
        x:
          window.pageXOffset !== undefined
            ? window.pageXOffset
            : document.documentElement.scrollLeft,
        y:
          window.pageYOffset !== undefined
            ? window.pageYOffset
            : document.documentElement.scrollTop
      };
      log(
        iframeId,
        'Get page position: ' + pagePosition.x + ',' + pagePosition.y
      );
    }
  }

  function setPagePosition(iframeId) {
    if (null !== pagePosition) {
      window.scrollTo(pagePosition.x, pagePosition.y);
      log(
        iframeId,
        'Set page position: ' + pagePosition.x + ',' + pagePosition.y
      );
      unsetPagePosition();
    }
  }

  function unsetPagePosition() {
    pagePosition = null;
  }

  function resetIFrame(messageData) {
    function reset() {
      setSize(messageData);
      trigger('reset', 'reset', messageData.iframe, messageData.id);
    }

    log(
      messageData.id,
      'Size reset requested by ' +
        ('init' === messageData.type ? 'host page' : 'iFrame')
    );
    getPagePosition(messageData.id);
    syncResize(reset, messageData, 'reset');
  }

  function setSize(messageData) {
    function setDimension(dimension) {
      if (!messageData.id) {
        log('undefined', 'messageData id not set');
        return;
      }
      messageData.iframe.style[dimension] = messageData[dimension] + 'px';
      log(
        messageData.id,
        'IFrame (' +
          iframeId +
          ') ' +
          dimension +
          ' set to ' +
          messageData[dimension] +
          'px'
      );
    }

    function chkZero(dimension) {
      //FireFox sets dimension of hidden iFrames to zero.
      //So if we detect that set up an event to check for
      //when iFrame becomes visible.

      /* istanbul ignore next */ //Not testable in PhantomJS
      if (!hiddenCheckEnabled && '0' === messageData[dimension]) {
        hiddenCheckEnabled = true;
        log(iframeId, 'Hidden iFrame detected, creating visibility listener');
        fixHiddenIFrames();
      }
    }

    function processDimension(dimension) {
      setDimension(dimension);
      chkZero(dimension);
    }

    var iframeId = messageData.iframe.id;

    if (settings[iframeId]) {
      if (settings[iframeId].sizeHeight) {
        processDimension('height');
      }
      if (settings[iframeId].sizeWidth) {
        processDimension('width');
      }
    }
  }

  function syncResize(func, messageData, doNotSync) {
    /* istanbul ignore if */ //Not testable in PhantomJS
    if (doNotSync !== messageData.type && requestAnimationFrame) {
      log(messageData.id, 'Requesting animation frame');
      requestAnimationFrame(func);
    } else {
      func();
    }
  }

  function trigger(calleeMsg, msg, iframe, id, noResponseWarning) {
    function postMessageToIFrame() {
      var target = settings[id] && settings[id].targetOrigin;
      log(
        id,
        '[' +
          calleeMsg +
          '] Sending msg to iframe[' +
          id +
          '] (' +
          msg +
          ') targetOrigin: ' +
          target
      );
      iframe.contentWindow.postMessage(msgId + msg, target);
    }

    function iFrameNotFound() {
      warn(id, '[' + calleeMsg + '] IFrame(' + id + ') not found');
    }

    function chkAndSend() {
      if (
        iframe &&
        'contentWindow' in iframe &&
        null !== iframe.contentWindow
      ) {
        //Null test for PhantomJS
        postMessageToIFrame();
      } else {
        iFrameNotFound();
      }
    }

    function warnOnNoResponse() {
      function warning() {
        if (settings[id] && !settings[id].loaded && !errorShown) {
          errorShown = true;
          warn(
            id,
            'IFrame has not responded within ' +
              settings[id].warningTimeout / 1000 +
              ' seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning.'
          );
        }
      }

      if (
        !!noResponseWarning &&
        settings[id] &&
        !!settings[id].warningTimeout
      ) {
        settings[id].msgTimeout = setTimeout(
          warning,
          settings[id].warningTimeout
        );
      }
    }

    var errorShown = false;

    id = id || iframe.id;

    if (settings[id]) {
      chkAndSend();
      warnOnNoResponse();
    }
  }

  function createOutgoingMsg(iframeId) {
    return (
      iframeId +
      ':' +
      settings[iframeId].bodyMarginV1 +
      ':' +
      settings[iframeId].sizeWidth +
      ':' +
      settings[iframeId].log +
      ':' +
      settings[iframeId].interval +
      ':' +
      settings[iframeId].enablePublicMethods +
      ':' +
      settings[iframeId].autoResize +
      ':' +
      settings[iframeId].bodyMargin +
      ':' +
      settings[iframeId].heightCalculationMethod +
      ':' +
      settings[iframeId].bodyBackground +
      ':' +
      settings[iframeId].bodyPadding +
      ':' +
      settings[iframeId].tolerance +
      ':' +
      settings[iframeId].inPageLinks +
      ':' +
      settings[iframeId].resizeFrom +
      ':' +
      settings[iframeId].widthCalculationMethod
    );
  }

  function setupIFrame(iframe, options) {
    function setLimits() {
      function addStyle(style) {
        if (
          Infinity !== settings[iframeId][style] &&
          0 !== settings[iframeId][style]
        ) {
          iframe.style[style] = settings[iframeId][style] + 'px';
          log(
            iframeId,
            'Set ' + style + ' = ' + settings[iframeId][style] + 'px'
          );
        }
      }

      function chkMinMax(dimension) {
        if (
          settings[iframeId]['min' + dimension] >
          settings[iframeId]['max' + dimension]
        ) {
          throw new Error(
            'Value for min' +
              dimension +
              ' can not be greater than max' +
              dimension
          );
        }
      }

      chkMinMax('Height');
      chkMinMax('Width');

      addStyle('maxHeight');
      addStyle('minHeight');
      addStyle('maxWidth');
      addStyle('minWidth');
    }

    function newId() {
      var id = (options && options.id) || defaults.id + count++;
      if (null !== document.getElementById(id)) {
        id = id + count++;
      }
      return id;
    }

    function ensureHasId(iframeId) {
      logId = iframeId;
      if ('' === iframeId) {
        iframe.id = iframeId = newId();
        logEnabled = (options || {}).log;
        logId = iframeId;
        log(
          iframeId,
          'Added missing iframe ID: ' + iframeId + ' (' + iframe.src + ')'
        );
      }

      return iframeId;
    }

    function setScrolling() {
      log(
        iframeId,
        'IFrame scrolling ' +
          (settings[iframeId] && settings[iframeId].scrolling
            ? 'enabled'
            : 'disabled') +
          ' for ' +
          iframeId
      );
      iframe.style.overflow =
        false === (settings[iframeId] && settings[iframeId].scrolling)
          ? 'hidden'
          : 'auto';
      switch (settings[iframeId] && settings[iframeId].scrolling) {
        case 'omit':
          break;
        case true:
          iframe.scrolling = 'yes';
          break;
        case false:
          iframe.scrolling = 'no';
          break;
        default:
          iframe.scrolling = settings[iframeId]
            ? settings[iframeId].scrolling
            : 'no';
      }
    }

    //The V1 iFrame script expects an int, where as in V2 expects a CSS
    //string value such as '1px 3em', so if we have an int for V2, set V1=V2
    //and then convert V2 to a string PX value.
    function setupBodyMarginValues() {
      if (
        'number' ===
          typeof (settings[iframeId] && settings[iframeId].bodyMargin) ||
        '0' === (settings[iframeId] && settings[iframeId].bodyMargin)
      ) {
        settings[iframeId].bodyMarginV1 = settings[iframeId].bodyMargin;
        settings[iframeId].bodyMargin =
          '' + settings[iframeId].bodyMargin + 'px';
      }
    }

    function checkReset() {
      // Reduce scope of firstRun to function, because IE8's JS execution
      // context stack is borked and this value gets externally
      // changed midway through running this function!!!
      var firstRun = settings[iframeId] && settings[iframeId].firstRun,
        resetRequertMethod =
          settings[iframeId] &&
          settings[iframeId].heightCalculationMethod in resetRequiredMethods;

      if (!firstRun && resetRequertMethod) {
        resetIFrame({ iframe: iframe, height: 0, width: 0, type: 'init' });
      }
    }

    function setupIFrameObject() {
      if (Function.prototype.bind && settings[iframeId]) {
        //Ignore unpolyfilled IE8.
        settings[iframeId].iframe.iFrameResizer = {
          close: closeIFrame.bind(null, settings[iframeId].iframe),

          removeListeners: removeIframeListeners.bind(
            null,
            settings[iframeId].iframe
          ),

          resize: trigger.bind(
            null,
            'Window resize',
            'resize',
            settings[iframeId].iframe
          ),

          moveToAnchor: function(anchor) {
            trigger(
              'Move to anchor',
              'moveToAnchor:' + anchor,
              settings[iframeId].iframe,
              iframeId
            );
          },

          sendMessage: function(message) {
            message = JSON.stringify(message);
            trigger(
              'Send Message',
              'message:' + message,
              settings[iframeId].iframe,
              iframeId
            );
          }
        };
      }
    }

    //We have to call trigger twice, as we can not be sure if all
    //iframes have completed loading when this code runs. The
    //event listener also catches the page changing in the iFrame.
    function init(msg) {
      function iFrameLoaded() {
        trigger('iFrame.onload', msg, iframe, undefined, true);
        checkReset();
      }

      function createDestroyObserver(MutationObserver) {
        if (!iframe.parentNode) {
          return;
        }

        var destroyObserver = new MutationObserver(function (mutations) {
          mutations.forEach(function (mutation) {
            var removedNodes = Array.prototype.slice.call(mutation.removedNodes); // Transform NodeList into an Array
            removedNodes.forEach(function (removedNode) {
              if (removedNode === iframe) {
                closeIFrame(iframe);
              }
            });
          });
        });
        destroyObserver.observe(iframe.parentNode, {
          childList: true
        });
      }

      var MutationObserver = getMutationObserver();
      if (MutationObserver) {
        createDestroyObserver(MutationObserver);
      }

      addEventListener(iframe, 'load', iFrameLoaded);
      trigger('init', msg, iframe, undefined, true);
    }

    function checkOptions(options) {
      if ('object' !== typeof options) {
        throw new TypeError('Options is not an object');
      }
    }

    function copyOptions(options) {
      for (var option in defaults) {
        if (defaults.hasOwnProperty(option)) {
          settings[iframeId][option] = options.hasOwnProperty(option)
            ? options[option]
            : defaults[option];
        }
      }
    }

    function getTargetOrigin(remoteHost) {
      return '' === remoteHost || 'file://' === remoteHost ? '*' : remoteHost;
    }

    function processOptions(options) {
      options = options || {};
      settings[iframeId] = {
        firstRun: true,
        iframe: iframe,
        remoteHost: iframe.src
          .split('/')
          .slice(0, 3)
          .join('/')
      };

      checkOptions(options);
      copyOptions(options);

      if (settings[iframeId]) {
        settings[iframeId].targetOrigin =
          true === settings[iframeId].checkOrigin
            ? getTargetOrigin(settings[iframeId].remoteHost)
            : '*';
      }
    }

    function beenHere() {
      return iframeId in settings && 'iFrameResizer' in iframe;
    }

    var iframeId = ensureHasId(iframe.id);

    if (!beenHere()) {
      processOptions(options);
      setScrolling();
      setLimits();
      setupBodyMarginValues();
      init(createOutgoingMsg(iframeId));
      setupIFrameObject();
    } else {
      warn(iframeId, 'Ignored iFrame, already setup.');
    }
  }

  function debouce(fn, time) {
    if (null === timer) {
      timer = setTimeout(function() {
        timer = null;
        fn();
      }, time);
    }
  }

  var frameTimer = {};
  function debounceFrameEvents(fn, time, frameId) {
    if (!frameTimer[frameId]) {
      frameTimer[frameId] = setTimeout(function() {
        frameTimer[frameId] = null;
        fn();
      }, time);
    }
  } //Not testable in PhantomJS

  /* istanbul ignore next */ function fixHiddenIFrames() {
    function checkIFrames() {
      function checkIFrame(settingId) {
        function chkDimension(dimension) {
          return (
            '0px' ===
            (settings[settingId] && settings[settingId].iframe.style[dimension])
          );
        }

        function isVisible(el) {
          return null !== el.offsetParent;
        }

        if (
          settings[settingId] &&
          isVisible(settings[settingId].iframe) &&
          (chkDimension('height') || chkDimension('width'))
        ) {
          trigger(
            'Visibility change',
            'resize',
            settings[settingId].iframe,
            settingId
          );
        }
      }

      for (var settingId in settings) {
        checkIFrame(settingId);
      }
    }

    function mutationObserved(mutations) {
      log(
        'window',
        'Mutation observed: ' + mutations[0].target + ' ' + mutations[0].type
      );
      debouce(checkIFrames, 16);
    }

    function createMutationObserver() {
      var target = document.querySelector('body'),
        config = {
          attributes: true,
          attributeOldValue: false,
          characterData: true,
          characterDataOldValue: false,
          childList: true,
          subtree: true
        },
        observer = new MutationObserver(mutationObserved);

      observer.observe(target, config);
    }

    var MutationObserver = getMutationObserver();
    if (MutationObserver) {
      createMutationObserver();
    }
  }

  function resizeIFrames(event) {
    function resize() {
      sendTriggerMsg('Window ' + event, 'resize');
    }

    log('window', 'Trigger event: ' + event);
    debouce(resize, 16);
  } //Not testable in PhantomJS

  /* istanbul ignore next */ function tabVisible() {
    function resize() {
      sendTriggerMsg('Tab Visable', 'resize');
    }

    if ('hidden' !== document.visibilityState) {
      log('document', 'Trigger event: Visiblity change');
      debouce(resize, 16);
    }
  }

  function sendTriggerMsg(eventName, event) {
    function isIFrameResizeEnabled(iframeId) {
      return (
        settings[iframeId] &&
        'parent' === settings[iframeId].resizeFrom &&
        settings[iframeId].autoResize &&
        !settings[iframeId].firstRun
      );
    }

    for (var iframeId in settings) {
      if (isIFrameResizeEnabled(iframeId)) {
        trigger(eventName, event, document.getElementById(iframeId), iframeId);
      }
    }
  }

  function setupEventListeners() {
    addEventListener(window, 'message', iFrameListener);

    addEventListener(window, 'resize', function() {
      resizeIFrames('resize');
    });

    addEventListener(document, 'visibilitychange', tabVisible);
    addEventListener(document, '-webkit-visibilitychange', tabVisible); //Andriod 4.4
    addEventListener(window, 'focusin', function() {
      resizeIFrames('focus');
    }); //IE8-9
    addEventListener(window, 'focus', function() {
      resizeIFrames('focus');
    });
  }

  function factory() {
    function init(options, element) {
      function chkType() {
        if (!element.tagName) {
          throw new TypeError('Object is not a valid DOM element');
        } else if ('IFRAME' !== element.tagName.toUpperCase()) {
          throw new TypeError(
            'Expected <IFRAME> tag, found <' + element.tagName + '>'
          );
        }
      }

      if (element) {
        chkType();
        setupIFrame(element, options);
        iFrames.push(element);
      }
    }

    function warnDeprecatedOptions(options) {
      if (options && options.enablePublicMethods) {
        warn(
          'enablePublicMethods option has been removed, public methods are now always available in the iFrame'
        );
      }
    }

    var iFrames;

    setupRequestAnimationFrame();
    setupEventListeners();

    return function iFrameResizeF(options, target) {
      iFrames = []; //Only return iFrames past in on this call

      warnDeprecatedOptions(options);

      switch (typeof target) {
        case 'undefined':
        case 'string':
          Array.prototype.forEach.call(
            document.querySelectorAll(target || 'iframe'),
            init.bind(undefined, options)
          );
          break;
        case 'object':
          init(options, target);
          break;
        default:
          throw new TypeError('Unexpected data type (' + typeof target + ')');
      }

      return iFrames;
    };
  }

  function createJQueryPublicMethod($) {
    if (!$.fn) {
      info('', 'Unable to bind to jQuery, it is not fully loaded.');
    } else if (!$.fn.iFrameResize) {
      $.fn.iFrameResize = function $iFrameResizeF(options) {
        function init(index, element) {
          setupIFrame(element, options);
        }

        return this.filter('iframe')
          .each(init)
          .end();
      };
    }
  }

  if (__webpack_provided_window_dot_jQuery) {
    createJQueryPublicMethod(__webpack_provided_window_dot_jQuery);
  }

  if (true) {
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else {}
  window.iFrameResize = window.iFrameResize || factory();
})();

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.min.js")))

/***/ }),

/***/ "./node_modules/iframe-resizer/js/index.js":
/*!*************************************************!*\
  !*** ./node_modules/iframe-resizer/js/index.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports.iframeResizer = __webpack_require__(/*! ./iframeResizer */ "./node_modules/iframe-resizer/js/iframeResizer.js");
exports.iframeResizerContentWindow = __webpack_require__(/*! ./iframeResizer.contentWindow */ "./node_modules/iframe-resizer/js/iframeResizer.contentWindow.js");


/***/ }),

/***/ "./node_modules/is-obj/index.js":
/*!**************************************!*\
  !*** ./node_modules/is-obj/index.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

module.exports = function (x) {
	var type = typeof x;
	return x !== null && (type === 'object' || type === 'function');
};


/***/ }),

/***/ "./node_modules/js-cookie/src/js.cookie.js":
/*!*************************************************!*\
  !*** ./node_modules/js-cookie/src/js.cookie.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */
;(function (factory) {
	var registeredInModuleLoader;
	if (true) {
		!(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :
				__WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
		registeredInModuleLoader = true;
	}
	if (true) {
		module.exports = factory();
		registeredInModuleLoader = true;
	}
	if (!registeredInModuleLoader) {
		var OldCookies = window.Cookies;
		var api = window.Cookies = factory();
		api.noConflict = function () {
			window.Cookies = OldCookies;
			return api;
		};
	}
}(function () {
	function extend () {
		var i = 0;
		var result = {};
		for (; i < arguments.length; i++) {
			var attributes = arguments[ i ];
			for (var key in attributes) {
				result[key] = attributes[key];
			}
		}
		return result;
	}

	function decode (s) {
		return s.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);
	}

	function init (converter) {
		function api() {}

		function set (key, value, attributes) {
			if (typeof document === 'undefined') {
				return;
			}

			attributes = extend({
				path: '/'
			}, api.defaults, attributes);

			if (typeof attributes.expires === 'number') {
				attributes.expires = new Date(new Date() * 1 + attributes.expires * 864e+5);
			}

			// We're using "expires" because "max-age" is not supported by IE
			attributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';

			try {
				var result = JSON.stringify(value);
				if (/^[\{\[]/.test(result)) {
					value = result;
				}
			} catch (e) {}

			value = converter.write ?
				converter.write(value, key) :
				encodeURIComponent(String(value))
					.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);

			key = encodeURIComponent(String(key))
				.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)
				.replace(/[\(\)]/g, escape);

			var stringifiedAttributes = '';
			for (var attributeName in attributes) {
				if (!attributes[attributeName]) {
					continue;
				}
				stringifiedAttributes += '; ' + attributeName;
				if (attributes[attributeName] === true) {
					continue;
				}

				// Considers RFC 6265 section 5.2:
				// ...
				// 3.  If the remaining unparsed-attributes contains a %x3B (";")
				//     character:
				// Consume the characters of the unparsed-attributes up to,
				// not including, the first %x3B (";") character.
				// ...
				stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];
			}

			return (document.cookie = key + '=' + value + stringifiedAttributes);
		}

		function get (key, json) {
			if (typeof document === 'undefined') {
				return;
			}

			var jar = {};
			// To prevent the for loop in the first place assign an empty array
			// in case there are no cookies at all.
			var cookies = document.cookie ? document.cookie.split('; ') : [];
			var i = 0;

			for (; i < cookies.length; i++) {
				var parts = cookies[i].split('=');
				var cookie = parts.slice(1).join('=');

				if (!json && cookie.charAt(0) === '"') {
					cookie = cookie.slice(1, -1);
				}

				try {
					var name = decode(parts[0]);
					cookie = (converter.read || converter)(cookie, name) ||
						decode(cookie);

					if (json) {
						try {
							cookie = JSON.parse(cookie);
						} catch (e) {}
					}

					jar[name] = cookie;

					if (key === name) {
						break;
					}
				} catch (e) {}
			}

			return key ? jar[key] : jar;
		}

		api.set = set;
		api.get = function (key) {
			return get(key, false /* read as raw */);
		};
		api.getJSON = function (key) {
			return get(key, true /* read as json */);
		};
		api.remove = function (key, attributes) {
			set(key, '', extend(attributes, {
				expires: -1
			}));
		};

		api.defaults = {};

		api.withConverter = init;

		return api;
	}

	return init(function () {});
}));


/***/ }),

/***/ "./node_modules/local-storage-fallback/lib/CookieStorage.js":
/*!******************************************************************!*\
  !*** ./node_modules/local-storage-fallback/lib/CookieStorage.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.hasCookies = hasCookies;

var _cookie = __webpack_require__(/*! cookie */ "./node_modules/cookie/index.js");

var _cookie2 = _interopRequireDefault(_cookie);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var prefix = 'lS_';

var CookieStorage = function () {
  function CookieStorage() {
    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

    _classCallCheck(this, CookieStorage);

    this.cookieOptions = Object.assign({ path: '/' }, options);
    prefix = options.prefix === undefined ? prefix : options.prefix;
  }

  _createClass(CookieStorage, [{
    key: 'getItem',
    value: function getItem(key) {
      var cookies = _cookie2.default.parse(document.cookie);
      if (!cookies || !cookies.hasOwnProperty(prefix + key)) {
        return null;
      }
      return cookies[prefix + key];
    }
  }, {
    key: 'setItem',
    value: function setItem(key, value) {
      document.cookie = _cookie2.default.serialize(prefix + key, value, this.cookieOptions);
      return value;
    }
  }, {
    key: 'removeItem',
    value: function removeItem(key) {
      var options = Object.assign({}, this.cookieOptions, { maxAge: -1 });
      document.cookie = _cookie2.default.serialize(prefix + key, '', options);
      return null;
    }
  }, {
    key: 'clear',
    value: function clear() {
      var cookies = _cookie2.default.parse(document.cookie);
      for (var key in cookies) {
        if (key.indexOf(prefix) === 0) {
          this.removeItem(key.substr(prefix.length));
        }
      }

      return null;
    }
  }]);

  return CookieStorage;
}();

exports.default = CookieStorage;
function hasCookies() {
  var storage = new CookieStorage();

  try {
    var TEST_KEY = '__test';
    storage.setItem(TEST_KEY, '1');
    var value = storage.getItem(TEST_KEY);
    storage.removeItem(TEST_KEY);

    return value === '1';
  } catch (e) {
    return false;
  }
}

/***/ }),

/***/ "./node_modules/local-storage-fallback/lib/MemoryStorage.js":
/*!******************************************************************!*\
  !*** ./node_modules/local-storage-fallback/lib/MemoryStorage.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var MemoryStorage = function () {
  function MemoryStorage() {
    _classCallCheck(this, MemoryStorage);

    this._data = {};
  }

  _createClass(MemoryStorage, [{
    key: "getItem",
    value: function getItem(key) {
      return this._data.hasOwnProperty(key) ? this._data[key] : null;
    }
  }, {
    key: "setItem",
    value: function setItem(key, value) {
      return this._data[key] = String(value);
    }
  }, {
    key: "removeItem",
    value: function removeItem(key) {
      return delete this._data[key];
    }
  }, {
    key: "clear",
    value: function clear() {
      return this._data = {};
    }
  }]);

  return MemoryStorage;
}();

exports.default = MemoryStorage;

/***/ }),

/***/ "./node_modules/local-storage-fallback/lib/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/local-storage-fallback/lib/index.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.MemoryStorage = exports.CookieStorage = exports.isSupported = exports.storage = undefined;

var _isSupported = __webpack_require__(/*! ./isSupported */ "./node_modules/local-storage-fallback/lib/isSupported.js");

var _isSupported2 = _interopRequireDefault(_isSupported);

var _CookieStorage = __webpack_require__(/*! ./CookieStorage */ "./node_modules/local-storage-fallback/lib/CookieStorage.js");

var _CookieStorage2 = _interopRequireDefault(_CookieStorage);

var _MemoryStorage = __webpack_require__(/*! ./MemoryStorage */ "./node_modules/local-storage-fallback/lib/MemoryStorage.js");

var _MemoryStorage2 = _interopRequireDefault(_MemoryStorage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var storage = null;

if ((0, _isSupported2.default)('localStorage')) {
  // use localStorage
  exports.storage = storage = window.localStorage;
} else if ((0, _isSupported2.default)('sessionStorage')) {
  // use sessionStorage
  exports.storage = storage = window.sessionStorage;
} else if ((0, _isSupported2.default)('cookieStorage')) {
  // use cookies
  exports.storage = storage = new _CookieStorage2.default();
} else {
  // use memory
  exports.storage = storage = new _MemoryStorage2.default();
}

exports.default = storage;
exports.storage = storage;
exports.isSupported = _isSupported2.default;
exports.CookieStorage = _CookieStorage2.default;
exports.MemoryStorage = _MemoryStorage2.default;

/***/ }),

/***/ "./node_modules/local-storage-fallback/lib/isSupported.js":
/*!****************************************************************!*\
  !*** ./node_modules/local-storage-fallback/lib/isSupported.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = isSupported;

var _CookieStorage = __webpack_require__(/*! ./CookieStorage */ "./node_modules/local-storage-fallback/lib/CookieStorage.js");

var TEST_KEY = '__test';

function hasStorage(name) {
  try {
    var storage = window[name];
    storage.setItem(TEST_KEY, '1');
    storage.removeItem(TEST_KEY);
    return true;
  } catch (e) {
    return false;
  }
}

function isSupported() {
  var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'localStorage';

  var storage = String(name).replace(/storage$/i, '').toLowerCase();

  if (storage === 'local') {
    return hasStorage('localStorage');
  }

  if (storage === 'session') {
    return hasStorage('sessionStorage');
  }

  if (storage === 'cookie') {
    return (0, _CookieStorage.hasCookies)();
  }

  if (storage === 'memory') {
    return true;
  }

  throw new Error('Storage method `' + name + '` is not available.\n    Please use one of the following: localStorage, sessionStorage, cookieStorage, memoryStorage.');
}

/***/ }),

/***/ "./node_modules/lodash.memoize/index.js":
/*!**********************************************!*\
  !*** ./node_modules/lodash.memoize/index.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as the `TypeError` message for "Functions" methods. */
var FUNC_ERROR_TEXT = 'Expected a function';

/** Used to stand-in for `undefined` hash values. */
var HASH_UNDEFINED = '__lodash_hash_undefined__';

/** `Object#toString` result references. */
var funcTag = '[object Function]',
    genTag = '[object GeneratorFunction]';

/**
 * Used to match `RegExp`
 * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
 */
var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;

/** Used to detect host constructors (Safari). */
var reIsHostCtor = /^\[object .+?Constructor\]$/;

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/**
 * Gets the value at `key` of `object`.
 *
 * @private
 * @param {Object} [object] The object to query.
 * @param {string} key The key of the property to get.
 * @returns {*} Returns the property value.
 */
function getValue(object, key) {
  return object == null ? undefined : object[key];
}

/**
 * Checks if `value` is a host object in IE < 9.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a host object, else `false`.
 */
function isHostObject(value) {
  // Many host objects are `Object` objects that can coerce to strings
  // despite having improperly defined `toString` methods.
  var result = false;
  if (value != null && typeof value.toString != 'function') {
    try {
      result = !!(value + '');
    } catch (e) {}
  }
  return result;
}

/** Used for built-in method references. */
var arrayProto = Array.prototype,
    funcProto = Function.prototype,
    objectProto = Object.prototype;

/** Used to detect overreaching core-js shims. */
var coreJsData = root['__core-js_shared__'];

/** Used to detect methods masquerading as native. */
var maskSrcKey = (function() {
  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');
  return uid ? ('Symbol(src)_1.' + uid) : '';
}());

/** Used to resolve the decompiled source of functions. */
var funcToString = funcProto.toString;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/** Used to detect if a method is native. */
var reIsNative = RegExp('^' +
  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\$&')
  .replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?') + '$'
);

/** Built-in value references. */
var splice = arrayProto.splice;

/* Built-in method references that are verified to be native. */
var Map = getNative(root, 'Map'),
    nativeCreate = getNative(Object, 'create');

/**
 * Creates a hash object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function Hash(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the hash.
 *
 * @private
 * @name clear
 * @memberOf Hash
 */
function hashClear() {
  this.__data__ = nativeCreate ? nativeCreate(null) : {};
}

/**
 * Removes `key` and its value from the hash.
 *
 * @private
 * @name delete
 * @memberOf Hash
 * @param {Object} hash The hash to modify.
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function hashDelete(key) {
  return this.has(key) && delete this.__data__[key];
}

/**
 * Gets the hash value for `key`.
 *
 * @private
 * @name get
 * @memberOf Hash
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function hashGet(key) {
  var data = this.__data__;
  if (nativeCreate) {
    var result = data[key];
    return result === HASH_UNDEFINED ? undefined : result;
  }
  return hasOwnProperty.call(data, key) ? data[key] : undefined;
}

/**
 * Checks if a hash value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf Hash
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function hashHas(key) {
  var data = this.__data__;
  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);
}

/**
 * Sets the hash `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf Hash
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the hash instance.
 */
function hashSet(key, value) {
  var data = this.__data__;
  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;
  return this;
}

// Add methods to `Hash`.
Hash.prototype.clear = hashClear;
Hash.prototype['delete'] = hashDelete;
Hash.prototype.get = hashGet;
Hash.prototype.has = hashHas;
Hash.prototype.set = hashSet;

/**
 * Creates an list cache object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function ListCache(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the list cache.
 *
 * @private
 * @name clear
 * @memberOf ListCache
 */
function listCacheClear() {
  this.__data__ = [];
}

/**
 * Removes `key` and its value from the list cache.
 *
 * @private
 * @name delete
 * @memberOf ListCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function listCacheDelete(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    return false;
  }
  var lastIndex = data.length - 1;
  if (index == lastIndex) {
    data.pop();
  } else {
    splice.call(data, index, 1);
  }
  return true;
}

/**
 * Gets the list cache value for `key`.
 *
 * @private
 * @name get
 * @memberOf ListCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function listCacheGet(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  return index < 0 ? undefined : data[index][1];
}

/**
 * Checks if a list cache value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf ListCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function listCacheHas(key) {
  return assocIndexOf(this.__data__, key) > -1;
}

/**
 * Sets the list cache `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf ListCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the list cache instance.
 */
function listCacheSet(key, value) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    data.push([key, value]);
  } else {
    data[index][1] = value;
  }
  return this;
}

// Add methods to `ListCache`.
ListCache.prototype.clear = listCacheClear;
ListCache.prototype['delete'] = listCacheDelete;
ListCache.prototype.get = listCacheGet;
ListCache.prototype.has = listCacheHas;
ListCache.prototype.set = listCacheSet;

/**
 * Creates a map cache object to store key-value pairs.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function MapCache(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the map.
 *
 * @private
 * @name clear
 * @memberOf MapCache
 */
function mapCacheClear() {
  this.__data__ = {
    'hash': new Hash,
    'map': new (Map || ListCache),
    'string': new Hash
  };
}

/**
 * Removes `key` and its value from the map.
 *
 * @private
 * @name delete
 * @memberOf MapCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function mapCacheDelete(key) {
  return getMapData(this, key)['delete'](key);
}

/**
 * Gets the map value for `key`.
 *
 * @private
 * @name get
 * @memberOf MapCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function mapCacheGet(key) {
  return getMapData(this, key).get(key);
}

/**
 * Checks if a map value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf MapCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function mapCacheHas(key) {
  return getMapData(this, key).has(key);
}

/**
 * Sets the map `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf MapCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the map cache instance.
 */
function mapCacheSet(key, value) {
  getMapData(this, key).set(key, value);
  return this;
}

// Add methods to `MapCache`.
MapCache.prototype.clear = mapCacheClear;
MapCache.prototype['delete'] = mapCacheDelete;
MapCache.prototype.get = mapCacheGet;
MapCache.prototype.has = mapCacheHas;
MapCache.prototype.set = mapCacheSet;

/**
 * Gets the index at which the `key` is found in `array` of key-value pairs.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {*} key The key to search for.
 * @returns {number} Returns the index of the matched value, else `-1`.
 */
function assocIndexOf(array, key) {
  var length = array.length;
  while (length--) {
    if (eq(array[length][0], key)) {
      return length;
    }
  }
  return -1;
}

/**
 * The base implementation of `_.isNative` without bad shim checks.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a native function,
 *  else `false`.
 */
function baseIsNative(value) {
  if (!isObject(value) || isMasked(value)) {
    return false;
  }
  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;
  return pattern.test(toSource(value));
}

/**
 * Gets the data for `map`.
 *
 * @private
 * @param {Object} map The map to query.
 * @param {string} key The reference key.
 * @returns {*} Returns the map data.
 */
function getMapData(map, key) {
  var data = map.__data__;
  return isKeyable(key)
    ? data[typeof key == 'string' ? 'string' : 'hash']
    : data.map;
}

/**
 * Gets the native function at `key` of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {string} key The key of the method to get.
 * @returns {*} Returns the function if it's native, else `undefined`.
 */
function getNative(object, key) {
  var value = getValue(object, key);
  return baseIsNative(value) ? value : undefined;
}

/**
 * Checks if `value` is suitable for use as unique object key.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is suitable, else `false`.
 */
function isKeyable(value) {
  var type = typeof value;
  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')
    ? (value !== '__proto__')
    : (value === null);
}

/**
 * Checks if `func` has its source masked.
 *
 * @private
 * @param {Function} func The function to check.
 * @returns {boolean} Returns `true` if `func` is masked, else `false`.
 */
function isMasked(func) {
  return !!maskSrcKey && (maskSrcKey in func);
}

/**
 * Converts `func` to its source code.
 *
 * @private
 * @param {Function} func The function to process.
 * @returns {string} Returns the source code.
 */
function toSource(func) {
  if (func != null) {
    try {
      return funcToString.call(func);
    } catch (e) {}
    try {
      return (func + '');
    } catch (e) {}
  }
  return '';
}

/**
 * Creates a function that memoizes the result of `func`. If `resolver` is
 * provided, it determines the cache key for storing the result based on the
 * arguments provided to the memoized function. By default, the first argument
 * provided to the memoized function is used as the map cache key. The `func`
 * is invoked with the `this` binding of the memoized function.
 *
 * **Note:** The cache is exposed as the `cache` property on the memoized
 * function. Its creation may be customized by replacing the `_.memoize.Cache`
 * constructor with one whose instances implement the
 * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)
 * method interface of `delete`, `get`, `has`, and `set`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to have its output memoized.
 * @param {Function} [resolver] The function to resolve the cache key.
 * @returns {Function} Returns the new memoized function.
 * @example
 *
 * var object = { 'a': 1, 'b': 2 };
 * var other = { 'c': 3, 'd': 4 };
 *
 * var values = _.memoize(_.values);
 * values(object);
 * // => [1, 2]
 *
 * values(other);
 * // => [3, 4]
 *
 * object.a = 2;
 * values(object);
 * // => [1, 2]
 *
 * // Modify the result cache.
 * values.cache.set(object, ['a', 'b']);
 * values(object);
 * // => ['a', 'b']
 *
 * // Replace `_.memoize.Cache`.
 * _.memoize.Cache = WeakMap;
 */
function memoize(func, resolver) {
  if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  var memoized = function() {
    var args = arguments,
        key = resolver ? resolver.apply(this, args) : args[0],
        cache = memoized.cache;

    if (cache.has(key)) {
      return cache.get(key);
    }
    var result = func.apply(this, args);
    memoized.cache = cache.set(key, result);
    return result;
  };
  memoized.cache = new (memoize.Cache || MapCache);
  return memoized;
}

// Assign cache to `_.memoize`.
memoize.Cache = MapCache;

/**
 * Performs a
 * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * comparison between two values to determine if they are equivalent.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to compare.
 * @param {*} other The other value to compare.
 * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
 * @example
 *
 * var object = { 'a': 1 };
 * var other = { 'a': 1 };
 *
 * _.eq(object, object);
 * // => true
 *
 * _.eq(object, other);
 * // => false
 *
 * _.eq('a', 'a');
 * // => true
 *
 * _.eq('a', Object('a'));
 * // => false
 *
 * _.eq(NaN, NaN);
 * // => true
 */
function eq(value, other) {
  return value === other || (value !== value && other !== other);
}

/**
 * Checks if `value` is classified as a `Function` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a function, else `false`.
 * @example
 *
 * _.isFunction(_);
 * // => true
 *
 * _.isFunction(/abc/);
 * // => false
 */
function isFunction(value) {
  // The use of `Object#toString` avoids issues with the `typeof` operator
  // in Safari 8-9 which returns 'object' for typed array and other constructors.
  var tag = isObject(value) ? objectToString.call(value) : '';
  return tag == funcTag || tag == genTag;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return !!value && (type == 'object' || type == 'function');
}

module.exports = memoize;

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/lodash.merge/index.js":
/*!********************************************!*\
  !*** ./node_modules/lodash.merge/index.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global, module) {/**
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as the size to enable large array optimizations. */
var LARGE_ARRAY_SIZE = 200;

/** Used to stand-in for `undefined` hash values. */
var HASH_UNDEFINED = '__lodash_hash_undefined__';

/** Used to detect hot functions by number of calls within a span of milliseconds. */
var HOT_COUNT = 800,
    HOT_SPAN = 16;

/** Used as references for various `Number` constants. */
var MAX_SAFE_INTEGER = 9007199254740991;

/** `Object#toString` result references. */
var argsTag = '[object Arguments]',
    arrayTag = '[object Array]',
    asyncTag = '[object AsyncFunction]',
    boolTag = '[object Boolean]',
    dateTag = '[object Date]',
    errorTag = '[object Error]',
    funcTag = '[object Function]',
    genTag = '[object GeneratorFunction]',
    mapTag = '[object Map]',
    numberTag = '[object Number]',
    nullTag = '[object Null]',
    objectTag = '[object Object]',
    proxyTag = '[object Proxy]',
    regexpTag = '[object RegExp]',
    setTag = '[object Set]',
    stringTag = '[object String]',
    undefinedTag = '[object Undefined]',
    weakMapTag = '[object WeakMap]';

var arrayBufferTag = '[object ArrayBuffer]',
    dataViewTag = '[object DataView]',
    float32Tag = '[object Float32Array]',
    float64Tag = '[object Float64Array]',
    int8Tag = '[object Int8Array]',
    int16Tag = '[object Int16Array]',
    int32Tag = '[object Int32Array]',
    uint8Tag = '[object Uint8Array]',
    uint8ClampedTag = '[object Uint8ClampedArray]',
    uint16Tag = '[object Uint16Array]',
    uint32Tag = '[object Uint32Array]';

/**
 * Used to match `RegExp`
 * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
 */
var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;

/** Used to detect host constructors (Safari). */
var reIsHostCtor = /^\[object .+?Constructor\]$/;

/** Used to detect unsigned integer values. */
var reIsUint = /^(?:0|[1-9]\d*)$/;

/** Used to identify `toStringTag` values of typed arrays. */
var typedArrayTags = {};
typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =
typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =
typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =
typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =
typedArrayTags[uint32Tag] = true;
typedArrayTags[argsTag] = typedArrayTags[arrayTag] =
typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =
typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =
typedArrayTags[errorTag] = typedArrayTags[funcTag] =
typedArrayTags[mapTag] = typedArrayTags[numberTag] =
typedArrayTags[objectTag] = typedArrayTags[regexpTag] =
typedArrayTags[setTag] = typedArrayTags[stringTag] =
typedArrayTags[weakMapTag] = false;

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/** Detect free variable `exports`. */
var freeExports =  true && exports && !exports.nodeType && exports;

/** Detect free variable `module`. */
var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;

/** Detect the popular CommonJS extension `module.exports`. */
var moduleExports = freeModule && freeModule.exports === freeExports;

/** Detect free variable `process` from Node.js. */
var freeProcess = moduleExports && freeGlobal.process;

/** Used to access faster Node.js helpers. */
var nodeUtil = (function() {
  try {
    // Use `util.types` for Node.js 10+.
    var types = freeModule && freeModule.require && freeModule.require('util').types;

    if (types) {
      return types;
    }

    // Legacy `process.binding('util')` for Node.js < 10.
    return freeProcess && freeProcess.binding && freeProcess.binding('util');
  } catch (e) {}
}());

/* Node.js helper references. */
var nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;

/**
 * A faster alternative to `Function#apply`, this function invokes `func`
 * with the `this` binding of `thisArg` and the arguments of `args`.
 *
 * @private
 * @param {Function} func The function to invoke.
 * @param {*} thisArg The `this` binding of `func`.
 * @param {Array} args The arguments to invoke `func` with.
 * @returns {*} Returns the result of `func`.
 */
function apply(func, thisArg, args) {
  switch (args.length) {
    case 0: return func.call(thisArg);
    case 1: return func.call(thisArg, args[0]);
    case 2: return func.call(thisArg, args[0], args[1]);
    case 3: return func.call(thisArg, args[0], args[1], args[2]);
  }
  return func.apply(thisArg, args);
}

/**
 * The base implementation of `_.times` without support for iteratee shorthands
 * or max array length checks.
 *
 * @private
 * @param {number} n The number of times to invoke `iteratee`.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Array} Returns the array of results.
 */
function baseTimes(n, iteratee) {
  var index = -1,
      result = Array(n);

  while (++index < n) {
    result[index] = iteratee(index);
  }
  return result;
}

/**
 * The base implementation of `_.unary` without support for storing metadata.
 *
 * @private
 * @param {Function} func The function to cap arguments for.
 * @returns {Function} Returns the new capped function.
 */
function baseUnary(func) {
  return function(value) {
    return func(value);
  };
}

/**
 * Gets the value at `key` of `object`.
 *
 * @private
 * @param {Object} [object] The object to query.
 * @param {string} key The key of the property to get.
 * @returns {*} Returns the property value.
 */
function getValue(object, key) {
  return object == null ? undefined : object[key];
}

/**
 * Creates a unary function that invokes `func` with its argument transformed.
 *
 * @private
 * @param {Function} func The function to wrap.
 * @param {Function} transform The argument transform.
 * @returns {Function} Returns the new function.
 */
function overArg(func, transform) {
  return function(arg) {
    return func(transform(arg));
  };
}

/** Used for built-in method references. */
var arrayProto = Array.prototype,
    funcProto = Function.prototype,
    objectProto = Object.prototype;

/** Used to detect overreaching core-js shims. */
var coreJsData = root['__core-js_shared__'];

/** Used to resolve the decompiled source of functions. */
var funcToString = funcProto.toString;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/** Used to detect methods masquerading as native. */
var maskSrcKey = (function() {
  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');
  return uid ? ('Symbol(src)_1.' + uid) : '';
}());

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var nativeObjectToString = objectProto.toString;

/** Used to infer the `Object` constructor. */
var objectCtorString = funcToString.call(Object);

/** Used to detect if a method is native. */
var reIsNative = RegExp('^' +
  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\$&')
  .replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?') + '$'
);

/** Built-in value references. */
var Buffer = moduleExports ? root.Buffer : undefined,
    Symbol = root.Symbol,
    Uint8Array = root.Uint8Array,
    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,
    getPrototype = overArg(Object.getPrototypeOf, Object),
    objectCreate = Object.create,
    propertyIsEnumerable = objectProto.propertyIsEnumerable,
    splice = arrayProto.splice,
    symToStringTag = Symbol ? Symbol.toStringTag : undefined;

var defineProperty = (function() {
  try {
    var func = getNative(Object, 'defineProperty');
    func({}, '', {});
    return func;
  } catch (e) {}
}());

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,
    nativeMax = Math.max,
    nativeNow = Date.now;

/* Built-in method references that are verified to be native. */
var Map = getNative(root, 'Map'),
    nativeCreate = getNative(Object, 'create');

/**
 * The base implementation of `_.create` without support for assigning
 * properties to the created object.
 *
 * @private
 * @param {Object} proto The object to inherit from.
 * @returns {Object} Returns the new object.
 */
var baseCreate = (function() {
  function object() {}
  return function(proto) {
    if (!isObject(proto)) {
      return {};
    }
    if (objectCreate) {
      return objectCreate(proto);
    }
    object.prototype = proto;
    var result = new object;
    object.prototype = undefined;
    return result;
  };
}());

/**
 * Creates a hash object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function Hash(entries) {
  var index = -1,
      length = entries == null ? 0 : entries.length;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the hash.
 *
 * @private
 * @name clear
 * @memberOf Hash
 */
function hashClear() {
  this.__data__ = nativeCreate ? nativeCreate(null) : {};
  this.size = 0;
}

/**
 * Removes `key` and its value from the hash.
 *
 * @private
 * @name delete
 * @memberOf Hash
 * @param {Object} hash The hash to modify.
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function hashDelete(key) {
  var result = this.has(key) && delete this.__data__[key];
  this.size -= result ? 1 : 0;
  return result;
}

/**
 * Gets the hash value for `key`.
 *
 * @private
 * @name get
 * @memberOf Hash
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function hashGet(key) {
  var data = this.__data__;
  if (nativeCreate) {
    var result = data[key];
    return result === HASH_UNDEFINED ? undefined : result;
  }
  return hasOwnProperty.call(data, key) ? data[key] : undefined;
}

/**
 * Checks if a hash value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf Hash
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function hashHas(key) {
  var data = this.__data__;
  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);
}

/**
 * Sets the hash `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf Hash
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the hash instance.
 */
function hashSet(key, value) {
  var data = this.__data__;
  this.size += this.has(key) ? 0 : 1;
  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;
  return this;
}

// Add methods to `Hash`.
Hash.prototype.clear = hashClear;
Hash.prototype['delete'] = hashDelete;
Hash.prototype.get = hashGet;
Hash.prototype.has = hashHas;
Hash.prototype.set = hashSet;

/**
 * Creates an list cache object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function ListCache(entries) {
  var index = -1,
      length = entries == null ? 0 : entries.length;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the list cache.
 *
 * @private
 * @name clear
 * @memberOf ListCache
 */
function listCacheClear() {
  this.__data__ = [];
  this.size = 0;
}

/**
 * Removes `key` and its value from the list cache.
 *
 * @private
 * @name delete
 * @memberOf ListCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function listCacheDelete(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    return false;
  }
  var lastIndex = data.length - 1;
  if (index == lastIndex) {
    data.pop();
  } else {
    splice.call(data, index, 1);
  }
  --this.size;
  return true;
}

/**
 * Gets the list cache value for `key`.
 *
 * @private
 * @name get
 * @memberOf ListCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function listCacheGet(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  return index < 0 ? undefined : data[index][1];
}

/**
 * Checks if a list cache value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf ListCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function listCacheHas(key) {
  return assocIndexOf(this.__data__, key) > -1;
}

/**
 * Sets the list cache `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf ListCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the list cache instance.
 */
function listCacheSet(key, value) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    ++this.size;
    data.push([key, value]);
  } else {
    data[index][1] = value;
  }
  return this;
}

// Add methods to `ListCache`.
ListCache.prototype.clear = listCacheClear;
ListCache.prototype['delete'] = listCacheDelete;
ListCache.prototype.get = listCacheGet;
ListCache.prototype.has = listCacheHas;
ListCache.prototype.set = listCacheSet;

/**
 * Creates a map cache object to store key-value pairs.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function MapCache(entries) {
  var index = -1,
      length = entries == null ? 0 : entries.length;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the map.
 *
 * @private
 * @name clear
 * @memberOf MapCache
 */
function mapCacheClear() {
  this.size = 0;
  this.__data__ = {
    'hash': new Hash,
    'map': new (Map || ListCache),
    'string': new Hash
  };
}

/**
 * Removes `key` and its value from the map.
 *
 * @private
 * @name delete
 * @memberOf MapCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function mapCacheDelete(key) {
  var result = getMapData(this, key)['delete'](key);
  this.size -= result ? 1 : 0;
  return result;
}

/**
 * Gets the map value for `key`.
 *
 * @private
 * @name get
 * @memberOf MapCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function mapCacheGet(key) {
  return getMapData(this, key).get(key);
}

/**
 * Checks if a map value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf MapCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function mapCacheHas(key) {
  return getMapData(this, key).has(key);
}

/**
 * Sets the map `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf MapCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the map cache instance.
 */
function mapCacheSet(key, value) {
  var data = getMapData(this, key),
      size = data.size;

  data.set(key, value);
  this.size += data.size == size ? 0 : 1;
  return this;
}

// Add methods to `MapCache`.
MapCache.prototype.clear = mapCacheClear;
MapCache.prototype['delete'] = mapCacheDelete;
MapCache.prototype.get = mapCacheGet;
MapCache.prototype.has = mapCacheHas;
MapCache.prototype.set = mapCacheSet;

/**
 * Creates a stack cache object to store key-value pairs.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function Stack(entries) {
  var data = this.__data__ = new ListCache(entries);
  this.size = data.size;
}

/**
 * Removes all key-value entries from the stack.
 *
 * @private
 * @name clear
 * @memberOf Stack
 */
function stackClear() {
  this.__data__ = new ListCache;
  this.size = 0;
}

/**
 * Removes `key` and its value from the stack.
 *
 * @private
 * @name delete
 * @memberOf Stack
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function stackDelete(key) {
  var data = this.__data__,
      result = data['delete'](key);

  this.size = data.size;
  return result;
}

/**
 * Gets the stack value for `key`.
 *
 * @private
 * @name get
 * @memberOf Stack
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function stackGet(key) {
  return this.__data__.get(key);
}

/**
 * Checks if a stack value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf Stack
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function stackHas(key) {
  return this.__data__.has(key);
}

/**
 * Sets the stack `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf Stack
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the stack cache instance.
 */
function stackSet(key, value) {
  var data = this.__data__;
  if (data instanceof ListCache) {
    var pairs = data.__data__;
    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {
      pairs.push([key, value]);
      this.size = ++data.size;
      return this;
    }
    data = this.__data__ = new MapCache(pairs);
  }
  data.set(key, value);
  this.size = data.size;
  return this;
}

// Add methods to `Stack`.
Stack.prototype.clear = stackClear;
Stack.prototype['delete'] = stackDelete;
Stack.prototype.get = stackGet;
Stack.prototype.has = stackHas;
Stack.prototype.set = stackSet;

/**
 * Creates an array of the enumerable property names of the array-like `value`.
 *
 * @private
 * @param {*} value The value to query.
 * @param {boolean} inherited Specify returning inherited property names.
 * @returns {Array} Returns the array of property names.
 */
function arrayLikeKeys(value, inherited) {
  var isArr = isArray(value),
      isArg = !isArr && isArguments(value),
      isBuff = !isArr && !isArg && isBuffer(value),
      isType = !isArr && !isArg && !isBuff && isTypedArray(value),
      skipIndexes = isArr || isArg || isBuff || isType,
      result = skipIndexes ? baseTimes(value.length, String) : [],
      length = result.length;

  for (var key in value) {
    if ((inherited || hasOwnProperty.call(value, key)) &&
        !(skipIndexes && (
           // Safari 9 has enumerable `arguments.length` in strict mode.
           key == 'length' ||
           // Node.js 0.10 has enumerable non-index properties on buffers.
           (isBuff && (key == 'offset' || key == 'parent')) ||
           // PhantomJS 2 has enumerable non-index properties on typed arrays.
           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||
           // Skip index properties.
           isIndex(key, length)
        ))) {
      result.push(key);
    }
  }
  return result;
}

/**
 * This function is like `assignValue` except that it doesn't assign
 * `undefined` values.
 *
 * @private
 * @param {Object} object The object to modify.
 * @param {string} key The key of the property to assign.
 * @param {*} value The value to assign.
 */
function assignMergeValue(object, key, value) {
  if ((value !== undefined && !eq(object[key], value)) ||
      (value === undefined && !(key in object))) {
    baseAssignValue(object, key, value);
  }
}

/**
 * Assigns `value` to `key` of `object` if the existing value is not equivalent
 * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * for equality comparisons.
 *
 * @private
 * @param {Object} object The object to modify.
 * @param {string} key The key of the property to assign.
 * @param {*} value The value to assign.
 */
function assignValue(object, key, value) {
  var objValue = object[key];
  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||
      (value === undefined && !(key in object))) {
    baseAssignValue(object, key, value);
  }
}

/**
 * Gets the index at which the `key` is found in `array` of key-value pairs.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {*} key The key to search for.
 * @returns {number} Returns the index of the matched value, else `-1`.
 */
function assocIndexOf(array, key) {
  var length = array.length;
  while (length--) {
    if (eq(array[length][0], key)) {
      return length;
    }
  }
  return -1;
}

/**
 * The base implementation of `assignValue` and `assignMergeValue` without
 * value checks.
 *
 * @private
 * @param {Object} object The object to modify.
 * @param {string} key The key of the property to assign.
 * @param {*} value The value to assign.
 */
function baseAssignValue(object, key, value) {
  if (key == '__proto__' && defineProperty) {
    defineProperty(object, key, {
      'configurable': true,
      'enumerable': true,
      'value': value,
      'writable': true
    });
  } else {
    object[key] = value;
  }
}

/**
 * The base implementation of `baseForOwn` which iterates over `object`
 * properties returned by `keysFunc` and invokes `iteratee` for each property.
 * Iteratee functions may exit iteration early by explicitly returning `false`.
 *
 * @private
 * @param {Object} object The object to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @param {Function} keysFunc The function to get the keys of `object`.
 * @returns {Object} Returns `object`.
 */
var baseFor = createBaseFor();

/**
 * The base implementation of `getTag` without fallbacks for buggy environments.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the `toStringTag`.
 */
function baseGetTag(value) {
  if (value == null) {
    return value === undefined ? undefinedTag : nullTag;
  }
  return (symToStringTag && symToStringTag in Object(value))
    ? getRawTag(value)
    : objectToString(value);
}

/**
 * The base implementation of `_.isArguments`.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an `arguments` object,
 */
function baseIsArguments(value) {
  return isObjectLike(value) && baseGetTag(value) == argsTag;
}

/**
 * The base implementation of `_.isNative` without bad shim checks.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a native function,
 *  else `false`.
 */
function baseIsNative(value) {
  if (!isObject(value) || isMasked(value)) {
    return false;
  }
  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;
  return pattern.test(toSource(value));
}

/**
 * The base implementation of `_.isTypedArray` without Node.js optimizations.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
 */
function baseIsTypedArray(value) {
  return isObjectLike(value) &&
    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];
}

/**
 * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 */
function baseKeysIn(object) {
  if (!isObject(object)) {
    return nativeKeysIn(object);
  }
  var isProto = isPrototype(object),
      result = [];

  for (var key in object) {
    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {
      result.push(key);
    }
  }
  return result;
}

/**
 * The base implementation of `_.merge` without support for multiple sources.
 *
 * @private
 * @param {Object} object The destination object.
 * @param {Object} source The source object.
 * @param {number} srcIndex The index of `source`.
 * @param {Function} [customizer] The function to customize merged values.
 * @param {Object} [stack] Tracks traversed source values and their merged
 *  counterparts.
 */
function baseMerge(object, source, srcIndex, customizer, stack) {
  if (object === source) {
    return;
  }
  baseFor(source, function(srcValue, key) {
    stack || (stack = new Stack);
    if (isObject(srcValue)) {
      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);
    }
    else {
      var newValue = customizer
        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)
        : undefined;

      if (newValue === undefined) {
        newValue = srcValue;
      }
      assignMergeValue(object, key, newValue);
    }
  }, keysIn);
}

/**
 * A specialized version of `baseMerge` for arrays and objects which performs
 * deep merges and tracks traversed objects enabling objects with circular
 * references to be merged.
 *
 * @private
 * @param {Object} object The destination object.
 * @param {Object} source The source object.
 * @param {string} key The key of the value to merge.
 * @param {number} srcIndex The index of `source`.
 * @param {Function} mergeFunc The function to merge values.
 * @param {Function} [customizer] The function to customize assigned values.
 * @param {Object} [stack] Tracks traversed source values and their merged
 *  counterparts.
 */
function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {
  var objValue = safeGet(object, key),
      srcValue = safeGet(source, key),
      stacked = stack.get(srcValue);

  if (stacked) {
    assignMergeValue(object, key, stacked);
    return;
  }
  var newValue = customizer
    ? customizer(objValue, srcValue, (key + ''), object, source, stack)
    : undefined;

  var isCommon = newValue === undefined;

  if (isCommon) {
    var isArr = isArray(srcValue),
        isBuff = !isArr && isBuffer(srcValue),
        isTyped = !isArr && !isBuff && isTypedArray(srcValue);

    newValue = srcValue;
    if (isArr || isBuff || isTyped) {
      if (isArray(objValue)) {
        newValue = objValue;
      }
      else if (isArrayLikeObject(objValue)) {
        newValue = copyArray(objValue);
      }
      else if (isBuff) {
        isCommon = false;
        newValue = cloneBuffer(srcValue, true);
      }
      else if (isTyped) {
        isCommon = false;
        newValue = cloneTypedArray(srcValue, true);
      }
      else {
        newValue = [];
      }
    }
    else if (isPlainObject(srcValue) || isArguments(srcValue)) {
      newValue = objValue;
      if (isArguments(objValue)) {
        newValue = toPlainObject(objValue);
      }
      else if (!isObject(objValue) || isFunction(objValue)) {
        newValue = initCloneObject(srcValue);
      }
    }
    else {
      isCommon = false;
    }
  }
  if (isCommon) {
    // Recursively merge objects and arrays (susceptible to call stack limits).
    stack.set(srcValue, newValue);
    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);
    stack['delete'](srcValue);
  }
  assignMergeValue(object, key, newValue);
}

/**
 * The base implementation of `_.rest` which doesn't validate or coerce arguments.
 *
 * @private
 * @param {Function} func The function to apply a rest parameter to.
 * @param {number} [start=func.length-1] The start position of the rest parameter.
 * @returns {Function} Returns the new function.
 */
function baseRest(func, start) {
  return setToString(overRest(func, start, identity), func + '');
}

/**
 * The base implementation of `setToString` without support for hot loop shorting.
 *
 * @private
 * @param {Function} func The function to modify.
 * @param {Function} string The `toString` result.
 * @returns {Function} Returns `func`.
 */
var baseSetToString = !defineProperty ? identity : function(func, string) {
  return defineProperty(func, 'toString', {
    'configurable': true,
    'enumerable': false,
    'value': constant(string),
    'writable': true
  });
};

/**
 * Creates a clone of  `buffer`.
 *
 * @private
 * @param {Buffer} buffer The buffer to clone.
 * @param {boolean} [isDeep] Specify a deep clone.
 * @returns {Buffer} Returns the cloned buffer.
 */
function cloneBuffer(buffer, isDeep) {
  if (isDeep) {
    return buffer.slice();
  }
  var length = buffer.length,
      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);

  buffer.copy(result);
  return result;
}

/**
 * Creates a clone of `arrayBuffer`.
 *
 * @private
 * @param {ArrayBuffer} arrayBuffer The array buffer to clone.
 * @returns {ArrayBuffer} Returns the cloned array buffer.
 */
function cloneArrayBuffer(arrayBuffer) {
  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);
  new Uint8Array(result).set(new Uint8Array(arrayBuffer));
  return result;
}

/**
 * Creates a clone of `typedArray`.
 *
 * @private
 * @param {Object} typedArray The typed array to clone.
 * @param {boolean} [isDeep] Specify a deep clone.
 * @returns {Object} Returns the cloned typed array.
 */
function cloneTypedArray(typedArray, isDeep) {
  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;
  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);
}

/**
 * Copies the values of `source` to `array`.
 *
 * @private
 * @param {Array} source The array to copy values from.
 * @param {Array} [array=[]] The array to copy values to.
 * @returns {Array} Returns `array`.
 */
function copyArray(source, array) {
  var index = -1,
      length = source.length;

  array || (array = Array(length));
  while (++index < length) {
    array[index] = source[index];
  }
  return array;
}

/**
 * Copies properties of `source` to `object`.
 *
 * @private
 * @param {Object} source The object to copy properties from.
 * @param {Array} props The property identifiers to copy.
 * @param {Object} [object={}] The object to copy properties to.
 * @param {Function} [customizer] The function to customize copied values.
 * @returns {Object} Returns `object`.
 */
function copyObject(source, props, object, customizer) {
  var isNew = !object;
  object || (object = {});

  var index = -1,
      length = props.length;

  while (++index < length) {
    var key = props[index];

    var newValue = customizer
      ? customizer(object[key], source[key], key, object, source)
      : undefined;

    if (newValue === undefined) {
      newValue = source[key];
    }
    if (isNew) {
      baseAssignValue(object, key, newValue);
    } else {
      assignValue(object, key, newValue);
    }
  }
  return object;
}

/**
 * Creates a function like `_.assign`.
 *
 * @private
 * @param {Function} assigner The function to assign values.
 * @returns {Function} Returns the new assigner function.
 */
function createAssigner(assigner) {
  return baseRest(function(object, sources) {
    var index = -1,
        length = sources.length,
        customizer = length > 1 ? sources[length - 1] : undefined,
        guard = length > 2 ? sources[2] : undefined;

    customizer = (assigner.length > 3 && typeof customizer == 'function')
      ? (length--, customizer)
      : undefined;

    if (guard && isIterateeCall(sources[0], sources[1], guard)) {
      customizer = length < 3 ? undefined : customizer;
      length = 1;
    }
    object = Object(object);
    while (++index < length) {
      var source = sources[index];
      if (source) {
        assigner(object, source, index, customizer);
      }
    }
    return object;
  });
}

/**
 * Creates a base function for methods like `_.forIn` and `_.forOwn`.
 *
 * @private
 * @param {boolean} [fromRight] Specify iterating from right to left.
 * @returns {Function} Returns the new base function.
 */
function createBaseFor(fromRight) {
  return function(object, iteratee, keysFunc) {
    var index = -1,
        iterable = Object(object),
        props = keysFunc(object),
        length = props.length;

    while (length--) {
      var key = props[fromRight ? length : ++index];
      if (iteratee(iterable[key], key, iterable) === false) {
        break;
      }
    }
    return object;
  };
}

/**
 * Gets the data for `map`.
 *
 * @private
 * @param {Object} map The map to query.
 * @param {string} key The reference key.
 * @returns {*} Returns the map data.
 */
function getMapData(map, key) {
  var data = map.__data__;
  return isKeyable(key)
    ? data[typeof key == 'string' ? 'string' : 'hash']
    : data.map;
}

/**
 * Gets the native function at `key` of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {string} key The key of the method to get.
 * @returns {*} Returns the function if it's native, else `undefined`.
 */
function getNative(object, key) {
  var value = getValue(object, key);
  return baseIsNative(value) ? value : undefined;
}

/**
 * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the raw `toStringTag`.
 */
function getRawTag(value) {
  var isOwn = hasOwnProperty.call(value, symToStringTag),
      tag = value[symToStringTag];

  try {
    value[symToStringTag] = undefined;
    var unmasked = true;
  } catch (e) {}

  var result = nativeObjectToString.call(value);
  if (unmasked) {
    if (isOwn) {
      value[symToStringTag] = tag;
    } else {
      delete value[symToStringTag];
    }
  }
  return result;
}

/**
 * Initializes an object clone.
 *
 * @private
 * @param {Object} object The object to clone.
 * @returns {Object} Returns the initialized clone.
 */
function initCloneObject(object) {
  return (typeof object.constructor == 'function' && !isPrototype(object))
    ? baseCreate(getPrototype(object))
    : {};
}

/**
 * Checks if `value` is a valid array-like index.
 *
 * @private
 * @param {*} value The value to check.
 * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.
 * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.
 */
function isIndex(value, length) {
  var type = typeof value;
  length = length == null ? MAX_SAFE_INTEGER : length;

  return !!length &&
    (type == 'number' ||
      (type != 'symbol' && reIsUint.test(value))) &&
        (value > -1 && value % 1 == 0 && value < length);
}

/**
 * Checks if the given arguments are from an iteratee call.
 *
 * @private
 * @param {*} value The potential iteratee value argument.
 * @param {*} index The potential iteratee index or key argument.
 * @param {*} object The potential iteratee object argument.
 * @returns {boolean} Returns `true` if the arguments are from an iteratee call,
 *  else `false`.
 */
function isIterateeCall(value, index, object) {
  if (!isObject(object)) {
    return false;
  }
  var type = typeof index;
  if (type == 'number'
        ? (isArrayLike(object) && isIndex(index, object.length))
        : (type == 'string' && index in object)
      ) {
    return eq(object[index], value);
  }
  return false;
}

/**
 * Checks if `value` is suitable for use as unique object key.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is suitable, else `false`.
 */
function isKeyable(value) {
  var type = typeof value;
  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')
    ? (value !== '__proto__')
    : (value === null);
}

/**
 * Checks if `func` has its source masked.
 *
 * @private
 * @param {Function} func The function to check.
 * @returns {boolean} Returns `true` if `func` is masked, else `false`.
 */
function isMasked(func) {
  return !!maskSrcKey && (maskSrcKey in func);
}

/**
 * Checks if `value` is likely a prototype object.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.
 */
function isPrototype(value) {
  var Ctor = value && value.constructor,
      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;

  return value === proto;
}

/**
 * This function is like
 * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)
 * except that it includes inherited enumerable properties.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 */
function nativeKeysIn(object) {
  var result = [];
  if (object != null) {
    for (var key in Object(object)) {
      result.push(key);
    }
  }
  return result;
}

/**
 * Converts `value` to a string using `Object.prototype.toString`.
 *
 * @private
 * @param {*} value The value to convert.
 * @returns {string} Returns the converted string.
 */
function objectToString(value) {
  return nativeObjectToString.call(value);
}

/**
 * A specialized version of `baseRest` which transforms the rest array.
 *
 * @private
 * @param {Function} func The function to apply a rest parameter to.
 * @param {number} [start=func.length-1] The start position of the rest parameter.
 * @param {Function} transform The rest array transform.
 * @returns {Function} Returns the new function.
 */
function overRest(func, start, transform) {
  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);
  return function() {
    var args = arguments,
        index = -1,
        length = nativeMax(args.length - start, 0),
        array = Array(length);

    while (++index < length) {
      array[index] = args[start + index];
    }
    index = -1;
    var otherArgs = Array(start + 1);
    while (++index < start) {
      otherArgs[index] = args[index];
    }
    otherArgs[start] = transform(array);
    return apply(func, this, otherArgs);
  };
}

/**
 * Gets the value at `key`, unless `key` is "__proto__" or "constructor".
 *
 * @private
 * @param {Object} object The object to query.
 * @param {string} key The key of the property to get.
 * @returns {*} Returns the property value.
 */
function safeGet(object, key) {
  if (key === 'constructor' && typeof object[key] === 'function') {
    return;
  }

  if (key == '__proto__') {
    return;
  }

  return object[key];
}

/**
 * Sets the `toString` method of `func` to return `string`.
 *
 * @private
 * @param {Function} func The function to modify.
 * @param {Function} string The `toString` result.
 * @returns {Function} Returns `func`.
 */
var setToString = shortOut(baseSetToString);

/**
 * Creates a function that'll short out and invoke `identity` instead
 * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`
 * milliseconds.
 *
 * @private
 * @param {Function} func The function to restrict.
 * @returns {Function} Returns the new shortable function.
 */
function shortOut(func) {
  var count = 0,
      lastCalled = 0;

  return function() {
    var stamp = nativeNow(),
        remaining = HOT_SPAN - (stamp - lastCalled);

    lastCalled = stamp;
    if (remaining > 0) {
      if (++count >= HOT_COUNT) {
        return arguments[0];
      }
    } else {
      count = 0;
    }
    return func.apply(undefined, arguments);
  };
}

/**
 * Converts `func` to its source code.
 *
 * @private
 * @param {Function} func The function to convert.
 * @returns {string} Returns the source code.
 */
function toSource(func) {
  if (func != null) {
    try {
      return funcToString.call(func);
    } catch (e) {}
    try {
      return (func + '');
    } catch (e) {}
  }
  return '';
}

/**
 * Performs a
 * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * comparison between two values to determine if they are equivalent.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to compare.
 * @param {*} other The other value to compare.
 * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
 * @example
 *
 * var object = { 'a': 1 };
 * var other = { 'a': 1 };
 *
 * _.eq(object, object);
 * // => true
 *
 * _.eq(object, other);
 * // => false
 *
 * _.eq('a', 'a');
 * // => true
 *
 * _.eq('a', Object('a'));
 * // => false
 *
 * _.eq(NaN, NaN);
 * // => true
 */
function eq(value, other) {
  return value === other || (value !== value && other !== other);
}

/**
 * Checks if `value` is likely an `arguments` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an `arguments` object,
 *  else `false`.
 * @example
 *
 * _.isArguments(function() { return arguments; }());
 * // => true
 *
 * _.isArguments([1, 2, 3]);
 * // => false
 */
var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {
  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&
    !propertyIsEnumerable.call(value, 'callee');
};

/**
 * Checks if `value` is classified as an `Array` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array, else `false`.
 * @example
 *
 * _.isArray([1, 2, 3]);
 * // => true
 *
 * _.isArray(document.body.children);
 * // => false
 *
 * _.isArray('abc');
 * // => false
 *
 * _.isArray(_.noop);
 * // => false
 */
var isArray = Array.isArray;

/**
 * Checks if `value` is array-like. A value is considered array-like if it's
 * not a function and has a `value.length` that's an integer greater than or
 * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
 * @example
 *
 * _.isArrayLike([1, 2, 3]);
 * // => true
 *
 * _.isArrayLike(document.body.children);
 * // => true
 *
 * _.isArrayLike('abc');
 * // => true
 *
 * _.isArrayLike(_.noop);
 * // => false
 */
function isArrayLike(value) {
  return value != null && isLength(value.length) && !isFunction(value);
}

/**
 * This method is like `_.isArrayLike` except that it also checks if `value`
 * is an object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array-like object,
 *  else `false`.
 * @example
 *
 * _.isArrayLikeObject([1, 2, 3]);
 * // => true
 *
 * _.isArrayLikeObject(document.body.children);
 * // => true
 *
 * _.isArrayLikeObject('abc');
 * // => false
 *
 * _.isArrayLikeObject(_.noop);
 * // => false
 */
function isArrayLikeObject(value) {
  return isObjectLike(value) && isArrayLike(value);
}

/**
 * Checks if `value` is a buffer.
 *
 * @static
 * @memberOf _
 * @since 4.3.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.
 * @example
 *
 * _.isBuffer(new Buffer(2));
 * // => true
 *
 * _.isBuffer(new Uint8Array(2));
 * // => false
 */
var isBuffer = nativeIsBuffer || stubFalse;

/**
 * Checks if `value` is classified as a `Function` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a function, else `false`.
 * @example
 *
 * _.isFunction(_);
 * // => true
 *
 * _.isFunction(/abc/);
 * // => false
 */
function isFunction(value) {
  if (!isObject(value)) {
    return false;
  }
  // The use of `Object#toString` avoids issues with the `typeof` operator
  // in Safari 9 which returns 'object' for typed arrays and other constructors.
  var tag = baseGetTag(value);
  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;
}

/**
 * Checks if `value` is a valid array-like length.
 *
 * **Note:** This method is loosely based on
 * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
 * @example
 *
 * _.isLength(3);
 * // => true
 *
 * _.isLength(Number.MIN_VALUE);
 * // => false
 *
 * _.isLength(Infinity);
 * // => false
 *
 * _.isLength('3');
 * // => false
 */
function isLength(value) {
  return typeof value == 'number' &&
    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return value != null && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return value != null && typeof value == 'object';
}

/**
 * Checks if `value` is a plain object, that is, an object created by the
 * `Object` constructor or one with a `[[Prototype]]` of `null`.
 *
 * @static
 * @memberOf _
 * @since 0.8.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.
 * @example
 *
 * function Foo() {
 *   this.a = 1;
 * }
 *
 * _.isPlainObject(new Foo);
 * // => false
 *
 * _.isPlainObject([1, 2, 3]);
 * // => false
 *
 * _.isPlainObject({ 'x': 0, 'y': 0 });
 * // => true
 *
 * _.isPlainObject(Object.create(null));
 * // => true
 */
function isPlainObject(value) {
  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {
    return false;
  }
  var proto = getPrototype(value);
  if (proto === null) {
    return true;
  }
  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;
  return typeof Ctor == 'function' && Ctor instanceof Ctor &&
    funcToString.call(Ctor) == objectCtorString;
}

/**
 * Checks if `value` is classified as a typed array.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
 * @example
 *
 * _.isTypedArray(new Uint8Array);
 * // => true
 *
 * _.isTypedArray([]);
 * // => false
 */
var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;

/**
 * Converts `value` to a plain object flattening inherited enumerable string
 * keyed properties of `value` to own properties of the plain object.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category Lang
 * @param {*} value The value to convert.
 * @returns {Object} Returns the converted plain object.
 * @example
 *
 * function Foo() {
 *   this.b = 2;
 * }
 *
 * Foo.prototype.c = 3;
 *
 * _.assign({ 'a': 1 }, new Foo);
 * // => { 'a': 1, 'b': 2 }
 *
 * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));
 * // => { 'a': 1, 'b': 2, 'c': 3 }
 */
function toPlainObject(value) {
  return copyObject(value, keysIn(value));
}

/**
 * Creates an array of the own and inherited enumerable property names of `object`.
 *
 * **Note:** Non-object values are coerced to objects.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category Object
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 * @example
 *
 * function Foo() {
 *   this.a = 1;
 *   this.b = 2;
 * }
 *
 * Foo.prototype.c = 3;
 *
 * _.keysIn(new Foo);
 * // => ['a', 'b', 'c'] (iteration order is not guaranteed)
 */
function keysIn(object) {
  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);
}

/**
 * This method is like `_.assign` except that it recursively merges own and
 * inherited enumerable string keyed properties of source objects into the
 * destination object. Source properties that resolve to `undefined` are
 * skipped if a destination value exists. Array and plain object properties
 * are merged recursively. Other objects and value types are overridden by
 * assignment. Source objects are applied from left to right. Subsequent
 * sources overwrite property assignments of previous sources.
 *
 * **Note:** This method mutates `object`.
 *
 * @static
 * @memberOf _
 * @since 0.5.0
 * @category Object
 * @param {Object} object The destination object.
 * @param {...Object} [sources] The source objects.
 * @returns {Object} Returns `object`.
 * @example
 *
 * var object = {
 *   'a': [{ 'b': 2 }, { 'd': 4 }]
 * };
 *
 * var other = {
 *   'a': [{ 'c': 3 }, { 'e': 5 }]
 * };
 *
 * _.merge(object, other);
 * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }
 */
var merge = createAssigner(function(object, source, srcIndex) {
  baseMerge(object, source, srcIndex);
});

/**
 * Creates a function that returns `value`.
 *
 * @static
 * @memberOf _
 * @since 2.4.0
 * @category Util
 * @param {*} value The value to return from the new function.
 * @returns {Function} Returns the new constant function.
 * @example
 *
 * var objects = _.times(2, _.constant({ 'a': 1 }));
 *
 * console.log(objects);
 * // => [{ 'a': 1 }, { 'a': 1 }]
 *
 * console.log(objects[0] === objects[1]);
 * // => true
 */
function constant(value) {
  return function() {
    return value;
  };
}

/**
 * This method returns the first argument it receives.
 *
 * @static
 * @since 0.1.0
 * @memberOf _
 * @category Util
 * @param {*} value Any value.
 * @returns {*} Returns `value`.
 * @example
 *
 * var object = { 'a': 1 };
 *
 * console.log(_.identity(object) === object);
 * // => true
 */
function identity(value) {
  return value;
}

/**
 * This method returns `false`.
 *
 * @static
 * @memberOf _
 * @since 4.13.0
 * @category Util
 * @returns {boolean} Returns `false`.
 * @example
 *
 * _.times(2, _.stubFalse);
 * // => [false, false]
 */
function stubFalse() {
  return false;
}

module.exports = merge;

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js"), __webpack_require__(/*! ./../webpack/buildin/module.js */ "./node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./node_modules/make-plural/umd/pluralCategories.js":
/*!**********************************************************!*\
  !*** ./node_modules/make-plural/umd/pluralCategories.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;var _cc = [
  {cardinal:["other"],ordinal:["other"]},
  {cardinal:["one","other"],ordinal:["other"]},
  {cardinal:["one","other"],ordinal:["one","other"]},
  {cardinal:["one","two","other"],ordinal:["other"]}
];

(function (root, pluralCategories) {
  if (true) {
    !(__WEBPACK_AMD_DEFINE_FACTORY__ = (pluralCategories),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :
				__WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else {}
}(this, {
af: _cc[1],
ak: _cc[1],
am: _cc[1],
ar: {cardinal:["zero","one","two","few","many","other"],ordinal:["other"]},
ars: {cardinal:["zero","one","two","few","many","other"],ordinal:["other"]},
as: {cardinal:["one","other"],ordinal:["one","two","few","many","other"]},
asa: _cc[1],
ast: _cc[1],
az: {cardinal:["one","other"],ordinal:["one","few","many","other"]},
be: {cardinal:["one","few","many","other"],ordinal:["few","other"]},
bem: _cc[1],
bez: _cc[1],
bg: _cc[1],
bh: _cc[1],
bm: _cc[0],
bn: {cardinal:["one","other"],ordinal:["one","two","few","many","other"]},
bo: _cc[0],
br: {cardinal:["one","two","few","many","other"],ordinal:["other"]},
brx: _cc[1],
bs: {cardinal:["one","few","other"],ordinal:["other"]},
ca: {cardinal:["one","other"],ordinal:["one","two","few","other"]},
ce: _cc[1],
cgg: _cc[1],
chr: _cc[1],
ckb: _cc[1],
cs: {cardinal:["one","few","many","other"],ordinal:["other"]},
cy: {cardinal:["zero","one","two","few","many","other"],ordinal:["zero","one","two","few","many","other"]},
da: _cc[1],
de: _cc[1],
dsb: {cardinal:["one","two","few","other"],ordinal:["other"]},
dv: _cc[1],
dz: _cc[0],
ee: _cc[1],
el: _cc[1],
en: {cardinal:["one","other"],ordinal:["one","two","few","other"]},
eo: _cc[1],
es: _cc[1],
et: _cc[1],
eu: _cc[1],
fa: _cc[1],
ff: _cc[1],
fi: _cc[1],
fil: _cc[2],
fo: _cc[1],
fr: _cc[2],
fur: _cc[1],
fy: _cc[1],
ga: {cardinal:["one","two","few","many","other"],ordinal:["one","other"]},
gd: {cardinal:["one","two","few","other"],ordinal:["one","two","few","other"]},
gl: _cc[1],
gsw: _cc[1],
gu: {cardinal:["one","other"],ordinal:["one","two","few","many","other"]},
guw: _cc[1],
gv: {cardinal:["one","two","few","many","other"],ordinal:["other"]},
ha: _cc[1],
haw: _cc[1],
he: {cardinal:["one","two","many","other"],ordinal:["other"]},
hi: {cardinal:["one","other"],ordinal:["one","two","few","many","other"]},
hr: {cardinal:["one","few","other"],ordinal:["other"]},
hsb: {cardinal:["one","two","few","other"],ordinal:["other"]},
hu: _cc[2],
hy: _cc[2],
ia: _cc[1],
id: _cc[0],
ig: _cc[0],
ii: _cc[0],
"in": _cc[0],
io: _cc[1],
is: _cc[1],
it: {cardinal:["one","other"],ordinal:["many","other"]},
iu: _cc[3],
iw: {cardinal:["one","two","many","other"],ordinal:["other"]},
ja: _cc[0],
jbo: _cc[0],
jgo: _cc[1],
ji: _cc[1],
jmc: _cc[1],
jv: _cc[0],
jw: _cc[0],
ka: {cardinal:["one","other"],ordinal:["one","many","other"]},
kab: _cc[1],
kaj: _cc[1],
kcg: _cc[1],
kde: _cc[0],
kea: _cc[0],
kk: {cardinal:["one","other"],ordinal:["many","other"]},
kkj: _cc[1],
kl: _cc[1],
km: _cc[0],
kn: _cc[1],
ko: _cc[0],
ks: _cc[1],
ksb: _cc[1],
ksh: {cardinal:["zero","one","other"],ordinal:["other"]},
ku: _cc[1],
kw: _cc[3],
ky: _cc[1],
lag: {cardinal:["zero","one","other"],ordinal:["other"]},
lb: _cc[1],
lg: _cc[1],
lkt: _cc[0],
ln: _cc[1],
lo: {cardinal:["other"],ordinal:["one","other"]},
lt: {cardinal:["one","few","many","other"],ordinal:["other"]},
lv: {cardinal:["zero","one","other"],ordinal:["other"]},
mas: _cc[1],
mg: _cc[1],
mgo: _cc[1],
mk: {cardinal:["one","other"],ordinal:["one","two","many","other"]},
ml: _cc[1],
mn: _cc[1],
mo: {cardinal:["one","few","other"],ordinal:["one","other"]},
mr: {cardinal:["one","other"],ordinal:["one","two","few","other"]},
ms: {cardinal:["other"],ordinal:["one","other"]},
mt: {cardinal:["one","few","many","other"],ordinal:["other"]},
my: _cc[0],
nah: _cc[1],
naq: _cc[3],
nb: _cc[1],
nd: _cc[1],
ne: _cc[2],
nl: _cc[1],
nn: _cc[1],
nnh: _cc[1],
no: _cc[1],
nqo: _cc[0],
nr: _cc[1],
nso: _cc[1],
ny: _cc[1],
nyn: _cc[1],
om: _cc[1],
or: {cardinal:["one","other"],ordinal:["one","two","few","many","other"]},
os: _cc[1],
pa: _cc[1],
pap: _cc[1],
pl: {cardinal:["one","few","many","other"],ordinal:["other"]},
prg: {cardinal:["zero","one","other"],ordinal:["other"]},
ps: _cc[1],
pt: _cc[1],
"pt-PT": _cc[1],
rm: _cc[1],
ro: {cardinal:["one","few","other"],ordinal:["one","other"]},
rof: _cc[1],
root: _cc[0],
ru: {cardinal:["one","few","many","other"],ordinal:["other"]},
rwk: _cc[1],
sah: _cc[0],
saq: _cc[1],
sc: {cardinal:["one","other"],ordinal:["many","other"]},
scn: {cardinal:["one","other"],ordinal:["many","other"]},
sd: _cc[1],
sdh: _cc[1],
se: _cc[3],
seh: _cc[1],
ses: _cc[0],
sg: _cc[0],
sh: {cardinal:["one","few","other"],ordinal:["other"]},
shi: {cardinal:["one","few","other"],ordinal:["other"]},
si: _cc[1],
sk: {cardinal:["one","few","many","other"],ordinal:["other"]},
sl: {cardinal:["one","two","few","other"],ordinal:["other"]},
sma: _cc[3],
smi: _cc[3],
smj: _cc[3],
smn: _cc[3],
sms: _cc[3],
sn: _cc[1],
so: _cc[1],
sq: {cardinal:["one","other"],ordinal:["one","many","other"]},
sr: {cardinal:["one","few","other"],ordinal:["other"]},
ss: _cc[1],
ssy: _cc[1],
st: _cc[1],
sv: _cc[2],
sw: _cc[1],
syr: _cc[1],
ta: _cc[1],
te: _cc[1],
teo: _cc[1],
th: _cc[0],
ti: _cc[1],
tig: _cc[1],
tk: {cardinal:["one","other"],ordinal:["few","other"]},
tl: _cc[2],
tn: _cc[1],
to: _cc[0],
tr: _cc[1],
ts: _cc[1],
tzm: _cc[1],
ug: _cc[1],
uk: {cardinal:["one","few","many","other"],ordinal:["few","other"]},
ur: _cc[1],
uz: _cc[1],
ve: _cc[1],
vi: {cardinal:["other"],ordinal:["one","other"]},
vo: _cc[1],
vun: _cc[1],
wa: _cc[1],
wae: _cc[1],
wo: _cc[0],
xh: _cc[1],
xog: _cc[1],
yi: _cc[1],
yo: _cc[0],
yue: _cc[0],
zh: _cc[0],
zu: _cc[1]
}));


/***/ }),

/***/ "./node_modules/make-plural/umd/plurals.js":
/*!*************************************************!*\
  !*** ./node_modules/make-plural/umd/plurals.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;var _cp = [
function(n, ord) {
  if (ord) return 'other';
  return 'other';
},
function(n, ord) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},
function(n, ord) {
  if (ord) return 'other';
  return ((n == 0
          || n == 1)) ? 'one' : 'other';
},
function(n, ord) {
  var s = String(n).split('.'), v0 = !s[1];
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one' : 'other';
}
];

(function (root, plurals) {
  if (true) {
    !(__WEBPACK_AMD_DEFINE_FACTORY__ = (plurals),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :
				__WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else {}
}(this, {
af: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

ak: function(n, ord
) {
  if (ord) return 'other';
  return ((n == 0
          || n == 1)) ? 'one' : 'other';
},

am: function(n, ord
) {
  if (ord) return 'other';
  return (n >= 0 && n <= 1) ? 'one' : 'other';
},

ar: function(n, ord
) {
  var s = String(n).split('.'), t0 = Number(s[0]) == n,
      n100 = t0 && s[0].slice(-2);
  if (ord) return 'other';
  return (n == 0) ? 'zero'
      : (n == 1) ? 'one'
      : (n == 2) ? 'two'
      : ((n100 >= 3 && n100 <= 10)) ? 'few'
      : ((n100 >= 11 && n100 <= 99)) ? 'many'
      : 'other';
},

ars: function(n, ord
) {
  var s = String(n).split('.'), t0 = Number(s[0]) == n,
      n100 = t0 && s[0].slice(-2);
  if (ord) return 'other';
  return (n == 0) ? 'zero'
      : (n == 1) ? 'one'
      : (n == 2) ? 'two'
      : ((n100 >= 3 && n100 <= 10)) ? 'few'
      : ((n100 >= 11 && n100 <= 99)) ? 'many'
      : 'other';
},

as: function(n, ord
) {
  if (ord) return ((n == 1 || n == 5 || n == 7 || n == 8 || n == 9
          || n == 10)) ? 'one'
      : ((n == 2
          || n == 3)) ? 'two'
      : (n == 4) ? 'few'
      : (n == 6) ? 'many'
      : 'other';
  return (n >= 0 && n <= 1) ? 'one' : 'other';
},

asa: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

ast: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1];
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

az: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], i10 = i.slice(-1),
      i100 = i.slice(-2), i1000 = i.slice(-3);
  if (ord) return ((i10 == 1 || i10 == 2 || i10 == 5 || i10 == 7 || i10 == 8)
          || (i100 == 20 || i100 == 50 || i100 == 70
          || i100 == 80)) ? 'one'
      : ((i10 == 3 || i10 == 4) || (i1000 == 100 || i1000 == 200
          || i1000 == 300 || i1000 == 400 || i1000 == 500 || i1000 == 600 || i1000 == 700
          || i1000 == 800
          || i1000 == 900)) ? 'few'
      : (i == 0 || i10 == 6 || (i100 == 40 || i100 == 60
          || i100 == 90)) ? 'many'
      : 'other';
  return (n == 1) ? 'one' : 'other';
},

be: function(n, ord
) {
  var s = String(n).split('.'), t0 = Number(s[0]) == n,
      n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2);
  if (ord) return ((n10 == 2
          || n10 == 3) && n100 != 12 && n100 != 13) ? 'few' : 'other';
  return (n10 == 1 && n100 != 11) ? 'one'
      : ((n10 >= 2 && n10 <= 4) && (n100 < 12
          || n100 > 14)) ? 'few'
      : (t0 && n10 == 0 || (n10 >= 5 && n10 <= 9)
          || (n100 >= 11 && n100 <= 14)) ? 'many'
      : 'other';
},

bem: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

bez: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

bg: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

bh: function(n, ord
) {
  if (ord) return 'other';
  return ((n == 0
          || n == 1)) ? 'one' : 'other';
},

bm: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

bn: function(n, ord
) {
  if (ord) return ((n == 1 || n == 5 || n == 7 || n == 8 || n == 9
          || n == 10)) ? 'one'
      : ((n == 2
          || n == 3)) ? 'two'
      : (n == 4) ? 'few'
      : (n == 6) ? 'many'
      : 'other';
  return (n >= 0 && n <= 1) ? 'one' : 'other';
},

bo: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

br: function(n, ord
) {
  var s = String(n).split('.'), t0 = Number(s[0]) == n,
      n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2),
      n1000000 = t0 && s[0].slice(-6);
  if (ord) return 'other';
  return (n10 == 1 && n100 != 11 && n100 != 71 && n100 != 91) ? 'one'
      : (n10 == 2 && n100 != 12 && n100 != 72 && n100 != 92) ? 'two'
      : (((n10 == 3 || n10 == 4) || n10 == 9) && (n100 < 10
          || n100 > 19) && (n100 < 70 || n100 > 79) && (n100 < 90
          || n100 > 99)) ? 'few'
      : (n != 0 && t0 && n1000000 == 0) ? 'many'
      : 'other';
},

brx: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

bs: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1],
      i10 = i.slice(-1), i100 = i.slice(-2), f10 = f.slice(-1), f100 = f.slice(-2);
  if (ord) return 'other';
  return (v0 && i10 == 1 && i100 != 11
          || f10 == 1 && f100 != 11) ? 'one'
      : (v0 && (i10 >= 2 && i10 <= 4) && (i100 < 12 || i100 > 14)
          || (f10 >= 2 && f10 <= 4) && (f100 < 12
          || f100 > 14)) ? 'few'
      : 'other';
},

ca: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1];
  if (ord) return ((n == 1
          || n == 3)) ? 'one'
      : (n == 2) ? 'two'
      : (n == 4) ? 'few'
      : 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

ce: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

cgg: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

chr: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

ckb: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

cs: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], v0 = !s[1];
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one'
      : ((i >= 2 && i <= 4) && v0) ? 'few'
      : (!v0) ? 'many'
      : 'other';
},

cy: function(n, ord
) {
  if (ord) return ((n == 0 || n == 7 || n == 8
          || n == 9)) ? 'zero'
      : (n == 1) ? 'one'
      : (n == 2) ? 'two'
      : ((n == 3
          || n == 4)) ? 'few'
      : ((n == 5
          || n == 6)) ? 'many'
      : 'other';
  return (n == 0) ? 'zero'
      : (n == 1) ? 'one'
      : (n == 2) ? 'two'
      : (n == 3) ? 'few'
      : (n == 6) ? 'many'
      : 'other';
},

da: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], t0 = Number(s[0]) == n;
  if (ord) return 'other';
  return (n == 1 || !t0 && (i == 0
          || i == 1)) ? 'one' : 'other';
},

de: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1];
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

dsb: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1],
      i100 = i.slice(-2), f100 = f.slice(-2);
  if (ord) return 'other';
  return (v0 && i100 == 1
          || f100 == 1) ? 'one'
      : (v0 && i100 == 2
          || f100 == 2) ? 'two'
      : (v0 && (i100 == 3 || i100 == 4) || (f100 == 3
          || f100 == 4)) ? 'few'
      : 'other';
},

dv: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

dz: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

ee: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

el: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

en: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1], t0 = Number(s[0]) == n,
      n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2);
  if (ord) return (n10 == 1 && n100 != 11) ? 'one'
      : (n10 == 2 && n100 != 12) ? 'two'
      : (n10 == 3 && n100 != 13) ? 'few'
      : 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

eo: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

es: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

et: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1];
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

eu: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

fa: function(n, ord
) {
  if (ord) return 'other';
  return (n >= 0 && n <= 1) ? 'one' : 'other';
},

ff: function(n, ord
) {
  if (ord) return 'other';
  return (n >= 0 && n < 2) ? 'one' : 'other';
},

fi: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1];
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

fil: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1],
      i10 = i.slice(-1), f10 = f.slice(-1);
  if (ord) return (n == 1) ? 'one' : 'other';
  return (v0 && (i == 1 || i == 2 || i == 3)
          || v0 && i10 != 4 && i10 != 6 && i10 != 9
          || !v0 && f10 != 4 && f10 != 6 && f10 != 9) ? 'one' : 'other';
},

fo: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

fr: function(n, ord
) {
  if (ord) return (n == 1) ? 'one' : 'other';
  return (n >= 0 && n < 2) ? 'one' : 'other';
},

fur: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

fy: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1];
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

ga: function(n, ord
) {
  var s = String(n).split('.'), t0 = Number(s[0]) == n;
  if (ord) return (n == 1) ? 'one' : 'other';
  return (n == 1) ? 'one'
      : (n == 2) ? 'two'
      : ((t0 && n >= 3 && n <= 6)) ? 'few'
      : ((t0 && n >= 7 && n <= 10)) ? 'many'
      : 'other';
},

gd: function(n, ord
) {
  var s = String(n).split('.'), t0 = Number(s[0]) == n;
  if (ord) return ((n == 1
          || n == 11)) ? 'one'
      : ((n == 2
          || n == 12)) ? 'two'
      : ((n == 3
          || n == 13)) ? 'few'
      : 'other';
  return ((n == 1
          || n == 11)) ? 'one'
      : ((n == 2
          || n == 12)) ? 'two'
      : (((t0 && n >= 3 && n <= 10)
          || (t0 && n >= 13 && n <= 19))) ? 'few'
      : 'other';
},

gl: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1];
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

gsw: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

gu: function(n, ord
) {
  if (ord) return (n == 1) ? 'one'
      : ((n == 2
          || n == 3)) ? 'two'
      : (n == 4) ? 'few'
      : (n == 6) ? 'many'
      : 'other';
  return (n >= 0 && n <= 1) ? 'one' : 'other';
},

guw: function(n, ord
) {
  if (ord) return 'other';
  return ((n == 0
          || n == 1)) ? 'one' : 'other';
},

gv: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], v0 = !s[1], i10 = i.slice(-1),
      i100 = i.slice(-2);
  if (ord) return 'other';
  return (v0 && i10 == 1) ? 'one'
      : (v0 && i10 == 2) ? 'two'
      : (v0 && (i100 == 0 || i100 == 20 || i100 == 40 || i100 == 60
          || i100 == 80)) ? 'few'
      : (!v0) ? 'many'
      : 'other';
},

ha: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

haw: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

he: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], v0 = !s[1], t0 = Number(s[0]) == n,
      n10 = t0 && s[0].slice(-1);
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one'
      : (i == 2 && v0) ? 'two'
      : (v0 && (n < 0
          || n > 10) && t0 && n10 == 0) ? 'many'
      : 'other';
},

hi: function(n, ord
) {
  if (ord) return (n == 1) ? 'one'
      : ((n == 2
          || n == 3)) ? 'two'
      : (n == 4) ? 'few'
      : (n == 6) ? 'many'
      : 'other';
  return (n >= 0 && n <= 1) ? 'one' : 'other';
},

hr: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1],
      i10 = i.slice(-1), i100 = i.slice(-2), f10 = f.slice(-1), f100 = f.slice(-2);
  if (ord) return 'other';
  return (v0 && i10 == 1 && i100 != 11
          || f10 == 1 && f100 != 11) ? 'one'
      : (v0 && (i10 >= 2 && i10 <= 4) && (i100 < 12 || i100 > 14)
          || (f10 >= 2 && f10 <= 4) && (f100 < 12
          || f100 > 14)) ? 'few'
      : 'other';
},

hsb: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1],
      i100 = i.slice(-2), f100 = f.slice(-2);
  if (ord) return 'other';
  return (v0 && i100 == 1
          || f100 == 1) ? 'one'
      : (v0 && i100 == 2
          || f100 == 2) ? 'two'
      : (v0 && (i100 == 3 || i100 == 4) || (f100 == 3
          || f100 == 4)) ? 'few'
      : 'other';
},

hu: function(n, ord
) {
  if (ord) return ((n == 1
          || n == 5)) ? 'one' : 'other';
  return (n == 1) ? 'one' : 'other';
},

hy: function(n, ord
) {
  if (ord) return (n == 1) ? 'one' : 'other';
  return (n >= 0 && n < 2) ? 'one' : 'other';
},

ia: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1];
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

id: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

ig: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

ii: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

"in": function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

io: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1];
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

is: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], t0 = Number(s[0]) == n,
      i10 = i.slice(-1), i100 = i.slice(-2);
  if (ord) return 'other';
  return (t0 && i10 == 1 && i100 != 11
          || !t0) ? 'one' : 'other';
},

it: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1];
  if (ord) return ((n == 11 || n == 8 || n == 80
          || n == 800)) ? 'many' : 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

iu: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one'
      : (n == 2) ? 'two'
      : 'other';
},

iw: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], v0 = !s[1], t0 = Number(s[0]) == n,
      n10 = t0 && s[0].slice(-1);
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one'
      : (i == 2 && v0) ? 'two'
      : (v0 && (n < 0
          || n > 10) && t0 && n10 == 0) ? 'many'
      : 'other';
},

ja: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

jbo: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

jgo: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

ji: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1];
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

jmc: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

jv: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

jw: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

ka: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], i100 = i.slice(-2);
  if (ord) return (i == 1) ? 'one'
      : (i == 0 || ((i100 >= 2 && i100 <= 20) || i100 == 40 || i100 == 60
          || i100 == 80)) ? 'many'
      : 'other';
  return (n == 1) ? 'one' : 'other';
},

kab: function(n, ord
) {
  if (ord) return 'other';
  return (n >= 0 && n < 2) ? 'one' : 'other';
},

kaj: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

kcg: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

kde: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

kea: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

kk: function(n, ord
) {
  var s = String(n).split('.'), t0 = Number(s[0]) == n,
      n10 = t0 && s[0].slice(-1);
  if (ord) return (n10 == 6 || n10 == 9
          || t0 && n10 == 0 && n != 0) ? 'many' : 'other';
  return (n == 1) ? 'one' : 'other';
},

kkj: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

kl: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

km: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

kn: function(n, ord
) {
  if (ord) return 'other';
  return (n >= 0 && n <= 1) ? 'one' : 'other';
},

ko: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

ks: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

ksb: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

ksh: function(n, ord
) {
  if (ord) return 'other';
  return (n == 0) ? 'zero'
      : (n == 1) ? 'one'
      : 'other';
},

ku: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

kw: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one'
      : (n == 2) ? 'two'
      : 'other';
},

ky: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

lag: function(n, ord
) {
  var s = String(n).split('.'), i = s[0];
  if (ord) return 'other';
  return (n == 0) ? 'zero'
      : ((i == 0
          || i == 1) && n != 0) ? 'one'
      : 'other';
},

lb: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

lg: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

lkt: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

ln: function(n, ord
) {
  if (ord) return 'other';
  return ((n == 0
          || n == 1)) ? 'one' : 'other';
},

lo: function(n, ord
) {
  if (ord) return (n == 1) ? 'one' : 'other';
  return 'other';
},

lt: function(n, ord
) {
  var s = String(n).split('.'), f = s[1] || '', t0 = Number(s[0]) == n,
      n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2);
  if (ord) return 'other';
  return (n10 == 1 && (n100 < 11
          || n100 > 19)) ? 'one'
      : ((n10 >= 2 && n10 <= 9) && (n100 < 11
          || n100 > 19)) ? 'few'
      : (f != 0) ? 'many'
      : 'other';
},

lv: function(n, ord
) {
  var s = String(n).split('.'), f = s[1] || '', v = f.length,
      t0 = Number(s[0]) == n, n10 = t0 && s[0].slice(-1),
      n100 = t0 && s[0].slice(-2), f100 = f.slice(-2), f10 = f.slice(-1);
  if (ord) return 'other';
  return (t0 && n10 == 0 || (n100 >= 11 && n100 <= 19)
          || v == 2 && (f100 >= 11 && f100 <= 19)) ? 'zero'
      : (n10 == 1 && n100 != 11 || v == 2 && f10 == 1 && f100 != 11
          || v != 2 && f10 == 1) ? 'one'
      : 'other';
},

mas: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

mg: function(n, ord
) {
  if (ord) return 'other';
  return ((n == 0
          || n == 1)) ? 'one' : 'other';
},

mgo: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

mk: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1],
      i10 = i.slice(-1), i100 = i.slice(-2), f10 = f.slice(-1), f100 = f.slice(-2);
  if (ord) return (i10 == 1 && i100 != 11) ? 'one'
      : (i10 == 2 && i100 != 12) ? 'two'
      : ((i10 == 7
          || i10 == 8) && i100 != 17 && i100 != 18) ? 'many'
      : 'other';
  return (v0 && i10 == 1 && i100 != 11
          || f10 == 1 && f100 != 11) ? 'one' : 'other';
},

ml: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

mn: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

mo: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1], t0 = Number(s[0]) == n,
      n100 = t0 && s[0].slice(-2);
  if (ord) return (n == 1) ? 'one' : 'other';
  return (n == 1 && v0) ? 'one'
      : (!v0 || n == 0
          || n != 1 && (n100 >= 1 && n100 <= 19)) ? 'few'
      : 'other';
},

mr: function(n, ord
) {
  if (ord) return (n == 1) ? 'one'
      : ((n == 2
          || n == 3)) ? 'two'
      : (n == 4) ? 'few'
      : 'other';
  return (n >= 0 && n <= 1) ? 'one' : 'other';
},

ms: function(n, ord
) {
  if (ord) return (n == 1) ? 'one' : 'other';
  return 'other';
},

mt: function(n, ord
) {
  var s = String(n).split('.'), t0 = Number(s[0]) == n,
      n100 = t0 && s[0].slice(-2);
  if (ord) return 'other';
  return (n == 1) ? 'one'
      : (n == 0
          || (n100 >= 2 && n100 <= 10)) ? 'few'
      : ((n100 >= 11 && n100 <= 19)) ? 'many'
      : 'other';
},

my: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

nah: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

naq: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one'
      : (n == 2) ? 'two'
      : 'other';
},

nb: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

nd: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

ne: function(n, ord
) {
  var s = String(n).split('.'), t0 = Number(s[0]) == n;
  if (ord) return ((t0 && n >= 1 && n <= 4)) ? 'one' : 'other';
  return (n == 1) ? 'one' : 'other';
},

nl: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1];
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

nn: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

nnh: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

no: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

nqo: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

nr: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

nso: function(n, ord
) {
  if (ord) return 'other';
  return ((n == 0
          || n == 1)) ? 'one' : 'other';
},

ny: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

nyn: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

om: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

or: function(n, ord
) {
  var s = String(n).split('.'), t0 = Number(s[0]) == n;
  if (ord) return ((n == 1 || n == 5
          || (t0 && n >= 7 && n <= 9))) ? 'one'
      : ((n == 2
          || n == 3)) ? 'two'
      : (n == 4) ? 'few'
      : (n == 6) ? 'many'
      : 'other';
  return (n == 1) ? 'one' : 'other';
},

os: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

pa: function(n, ord
) {
  if (ord) return 'other';
  return ((n == 0
          || n == 1)) ? 'one' : 'other';
},

pap: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

pl: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], v0 = !s[1], i10 = i.slice(-1),
      i100 = i.slice(-2);
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one'
      : (v0 && (i10 >= 2 && i10 <= 4) && (i100 < 12
          || i100 > 14)) ? 'few'
      : (v0 && i != 1 && (i10 == 0 || i10 == 1)
          || v0 && (i10 >= 5 && i10 <= 9)
          || v0 && (i100 >= 12 && i100 <= 14)) ? 'many'
      : 'other';
},

prg: function(n, ord
) {
  var s = String(n).split('.'), f = s[1] || '', v = f.length,
      t0 = Number(s[0]) == n, n10 = t0 && s[0].slice(-1),
      n100 = t0 && s[0].slice(-2), f100 = f.slice(-2), f10 = f.slice(-1);
  if (ord) return 'other';
  return (t0 && n10 == 0 || (n100 >= 11 && n100 <= 19)
          || v == 2 && (f100 >= 11 && f100 <= 19)) ? 'zero'
      : (n10 == 1 && n100 != 11 || v == 2 && f10 == 1 && f100 != 11
          || v != 2 && f10 == 1) ? 'one'
      : 'other';
},

ps: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

pt: function(n, ord
) {
  var s = String(n).split('.'), i = s[0];
  if (ord) return 'other';
  return ((i == 0
          || i == 1)) ? 'one' : 'other';
},

"pt-PT": function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1];
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

rm: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

ro: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1], t0 = Number(s[0]) == n,
      n100 = t0 && s[0].slice(-2);
  if (ord) return (n == 1) ? 'one' : 'other';
  return (n == 1 && v0) ? 'one'
      : (!v0 || n == 0
          || n != 1 && (n100 >= 1 && n100 <= 19)) ? 'few'
      : 'other';
},

rof: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

root: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

ru: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], v0 = !s[1], i10 = i.slice(-1),
      i100 = i.slice(-2);
  if (ord) return 'other';
  return (v0 && i10 == 1 && i100 != 11) ? 'one'
      : (v0 && (i10 >= 2 && i10 <= 4) && (i100 < 12
          || i100 > 14)) ? 'few'
      : (v0 && i10 == 0 || v0 && (i10 >= 5 && i10 <= 9)
          || v0 && (i100 >= 11 && i100 <= 14)) ? 'many'
      : 'other';
},

rwk: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

sah: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

saq: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

sc: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1];
  if (ord) return ((n == 11 || n == 8 || n == 80
          || n == 800)) ? 'many' : 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

scn: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1];
  if (ord) return ((n == 11 || n == 8 || n == 80
          || n == 800)) ? 'many' : 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

sd: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

sdh: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

se: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one'
      : (n == 2) ? 'two'
      : 'other';
},

seh: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

ses: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

sg: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

sh: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1],
      i10 = i.slice(-1), i100 = i.slice(-2), f10 = f.slice(-1), f100 = f.slice(-2);
  if (ord) return 'other';
  return (v0 && i10 == 1 && i100 != 11
          || f10 == 1 && f100 != 11) ? 'one'
      : (v0 && (i10 >= 2 && i10 <= 4) && (i100 < 12 || i100 > 14)
          || (f10 >= 2 && f10 <= 4) && (f100 < 12
          || f100 > 14)) ? 'few'
      : 'other';
},

shi: function(n, ord
) {
  var s = String(n).split('.'), t0 = Number(s[0]) == n;
  if (ord) return 'other';
  return (n >= 0 && n <= 1) ? 'one'
      : ((t0 && n >= 2 && n <= 10)) ? 'few'
      : 'other';
},

si: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], f = s[1] || '';
  if (ord) return 'other';
  return ((n == 0 || n == 1)
          || i == 0 && f == 1) ? 'one' : 'other';
},

sk: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], v0 = !s[1];
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one'
      : ((i >= 2 && i <= 4) && v0) ? 'few'
      : (!v0) ? 'many'
      : 'other';
},

sl: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], v0 = !s[1], i100 = i.slice(-2);
  if (ord) return 'other';
  return (v0 && i100 == 1) ? 'one'
      : (v0 && i100 == 2) ? 'two'
      : (v0 && (i100 == 3 || i100 == 4)
          || !v0) ? 'few'
      : 'other';
},

sma: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one'
      : (n == 2) ? 'two'
      : 'other';
},

smi: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one'
      : (n == 2) ? 'two'
      : 'other';
},

smj: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one'
      : (n == 2) ? 'two'
      : 'other';
},

smn: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one'
      : (n == 2) ? 'two'
      : 'other';
},

sms: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one'
      : (n == 2) ? 'two'
      : 'other';
},

sn: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

so: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

sq: function(n, ord
) {
  var s = String(n).split('.'), t0 = Number(s[0]) == n,
      n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2);
  if (ord) return (n == 1) ? 'one'
      : (n10 == 4 && n100 != 14) ? 'many'
      : 'other';
  return (n == 1) ? 'one' : 'other';
},

sr: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1],
      i10 = i.slice(-1), i100 = i.slice(-2), f10 = f.slice(-1), f100 = f.slice(-2);
  if (ord) return 'other';
  return (v0 && i10 == 1 && i100 != 11
          || f10 == 1 && f100 != 11) ? 'one'
      : (v0 && (i10 >= 2 && i10 <= 4) && (i100 < 12 || i100 > 14)
          || (f10 >= 2 && f10 <= 4) && (f100 < 12
          || f100 > 14)) ? 'few'
      : 'other';
},

ss: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

ssy: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

st: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

sv: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1], t0 = Number(s[0]) == n,
      n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2);
  if (ord) return ((n10 == 1
          || n10 == 2) && n100 != 11 && n100 != 12) ? 'one' : 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

sw: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1];
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

syr: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

ta: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

te: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

teo: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

th: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

ti: function(n, ord
) {
  if (ord) return 'other';
  return ((n == 0
          || n == 1)) ? 'one' : 'other';
},

tig: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

tk: function(n, ord
) {
  var s = String(n).split('.'), t0 = Number(s[0]) == n,
      n10 = t0 && s[0].slice(-1);
  if (ord) return ((n10 == 6 || n10 == 9)
          || n == 10) ? 'few' : 'other';
  return (n == 1) ? 'one' : 'other';
},

tl: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1],
      i10 = i.slice(-1), f10 = f.slice(-1);
  if (ord) return (n == 1) ? 'one' : 'other';
  return (v0 && (i == 1 || i == 2 || i == 3)
          || v0 && i10 != 4 && i10 != 6 && i10 != 9
          || !v0 && f10 != 4 && f10 != 6 && f10 != 9) ? 'one' : 'other';
},

tn: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

to: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

tr: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

ts: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

tzm: function(n, ord
) {
  var s = String(n).split('.'), t0 = Number(s[0]) == n;
  if (ord) return 'other';
  return ((n == 0 || n == 1)
          || (t0 && n >= 11 && n <= 99)) ? 'one' : 'other';
},

ug: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

uk: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], v0 = !s[1], t0 = Number(s[0]) == n,
      n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2), i10 = i.slice(-1),
      i100 = i.slice(-2);
  if (ord) return (n10 == 3 && n100 != 13) ? 'few' : 'other';
  return (v0 && i10 == 1 && i100 != 11) ? 'one'
      : (v0 && (i10 >= 2 && i10 <= 4) && (i100 < 12
          || i100 > 14)) ? 'few'
      : (v0 && i10 == 0 || v0 && (i10 >= 5 && i10 <= 9)
          || v0 && (i100 >= 11 && i100 <= 14)) ? 'many'
      : 'other';
},

ur: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1];
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

uz: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

ve: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

vi: function(n, ord
) {
  if (ord) return (n == 1) ? 'one' : 'other';
  return 'other';
},

vo: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

vun: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

wa: function(n, ord
) {
  if (ord) return 'other';
  return ((n == 0
          || n == 1)) ? 'one' : 'other';
},

wae: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

wo: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

xh: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

xog: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

yi: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1];
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

yo: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

yue: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

zh: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

zu: function(n, ord
) {
  if (ord) return 'other';
  return (n >= 0 && n <= 1) ? 'one' : 'other';
}
}));


/***/ }),

/***/ "./node_modules/messageformat-parser/parser.js":
/*!*****************************************************!*\
  !*** ./node_modules/messageformat-parser/parser.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/*
 * Generated by PEG.js 0.10.0.
 *
 * http://pegjs.org/
 */



function peg$subclass(child, parent) {
  function ctor() { this.constructor = child; }
  ctor.prototype = parent.prototype;
  child.prototype = new ctor();
}

function peg$SyntaxError(message, expected, found, location) {
  this.message  = message;
  this.expected = expected;
  this.found    = found;
  this.location = location;
  this.name     = "SyntaxError";

  if (typeof Error.captureStackTrace === "function") {
    Error.captureStackTrace(this, peg$SyntaxError);
  }
}

peg$subclass(peg$SyntaxError, Error);

peg$SyntaxError.buildMessage = function(expected, found) {
  var DESCRIBE_EXPECTATION_FNS = {
        literal: function(expectation) {
          return "\"" + literalEscape(expectation.text) + "\"";
        },

        "class": function(expectation) {
          var escapedParts = "",
              i;

          for (i = 0; i < expectation.parts.length; i++) {
            escapedParts += expectation.parts[i] instanceof Array
              ? classEscape(expectation.parts[i][0]) + "-" + classEscape(expectation.parts[i][1])
              : classEscape(expectation.parts[i]);
          }

          return "[" + (expectation.inverted ? "^" : "") + escapedParts + "]";
        },

        any: function(expectation) {
          return "any character";
        },

        end: function(expectation) {
          return "end of input";
        },

        other: function(expectation) {
          return expectation.description;
        }
      };

  function hex(ch) {
    return ch.charCodeAt(0).toString(16).toUpperCase();
  }

  function literalEscape(s) {
    return s
      .replace(/\\/g, '\\\\')
      .replace(/"/g,  '\\"')
      .replace(/\0/g, '\\0')
      .replace(/\t/g, '\\t')
      .replace(/\n/g, '\\n')
      .replace(/\r/g, '\\r')
      .replace(/[\x00-\x0F]/g,          function(ch) { return '\\x0' + hex(ch); })
      .replace(/[\x10-\x1F\x7F-\x9F]/g, function(ch) { return '\\x'  + hex(ch); });
  }

  function classEscape(s) {
    return s
      .replace(/\\/g, '\\\\')
      .replace(/\]/g, '\\]')
      .replace(/\^/g, '\\^')
      .replace(/-/g,  '\\-')
      .replace(/\0/g, '\\0')
      .replace(/\t/g, '\\t')
      .replace(/\n/g, '\\n')
      .replace(/\r/g, '\\r')
      .replace(/[\x00-\x0F]/g,          function(ch) { return '\\x0' + hex(ch); })
      .replace(/[\x10-\x1F\x7F-\x9F]/g, function(ch) { return '\\x'  + hex(ch); });
  }

  function describeExpectation(expectation) {
    return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation);
  }

  function describeExpected(expected) {
    var descriptions = new Array(expected.length),
        i, j;

    for (i = 0; i < expected.length; i++) {
      descriptions[i] = describeExpectation(expected[i]);
    }

    descriptions.sort();

    if (descriptions.length > 0) {
      for (i = 1, j = 1; i < descriptions.length; i++) {
        if (descriptions[i - 1] !== descriptions[i]) {
          descriptions[j] = descriptions[i];
          j++;
        }
      }
      descriptions.length = j;
    }

    switch (descriptions.length) {
      case 1:
        return descriptions[0];

      case 2:
        return descriptions[0] + " or " + descriptions[1];

      default:
        return descriptions.slice(0, -1).join(", ")
          + ", or "
          + descriptions[descriptions.length - 1];
    }
  }

  function describeFound(found) {
    return found ? "\"" + literalEscape(found) + "\"" : "end of input";
  }

  return "Expected " + describeExpected(expected) + " but " + describeFound(found) + " found.";
};

function peg$parse(input, options) {
  options = options !== void 0 ? options : {};

  var peg$FAILED = {},

      peg$startRuleFunctions = { start: peg$parsestart },
      peg$startRuleFunction  = peg$parsestart,

      peg$c0 = "#",
      peg$c1 = peg$literalExpectation("#", false),
      peg$c2 = function() { return inPlural[0]; },
      peg$c3 = function() { return { type: 'octothorpe' }; },
      peg$c4 = function(str) { return str.join(''); },
      peg$c5 = "{",
      peg$c6 = peg$literalExpectation("{", false),
      peg$c7 = "}",
      peg$c8 = peg$literalExpectation("}", false),
      peg$c9 = function(arg) {
          return {
            type: 'argument',
            arg: arg
          };
        },
      peg$c10 = ",",
      peg$c11 = peg$literalExpectation(",", false),
      peg$c12 = "select",
      peg$c13 = peg$literalExpectation("select", false),
      peg$c14 = function(arg, m) { if (options.strict) { inPlural.unshift(false); } return m; },
      peg$c15 = function(arg, cases) {
          if (options.strict) inPlural.shift()
          return {
            type: 'select',
            arg: arg,
            cases: cases
          };
        },
      peg$c16 = "plural",
      peg$c17 = peg$literalExpectation("plural", false),
      peg$c18 = "selectordinal",
      peg$c19 = peg$literalExpectation("selectordinal", false),
      peg$c20 = function(arg, m) { inPlural.unshift(true); return m; },
      peg$c21 = function(arg, type, offset, cases) {
          var ls = ((type === 'selectordinal') ? options.ordinal : options.cardinal)
                   || ['zero', 'one', 'two', 'few', 'many', 'other'];
          if (ls && ls.length) cases.forEach(function(c) {
            if (isNaN(c.key) && ls.indexOf(c.key) < 0) throw new Error(
              'Invalid key `' + c.key + '` for argument `' + arg + '`.' +
              ' Valid ' + type + ' keys for this locale are `' + ls.join('`, `') +
              '`, and explicit keys like `=0`.');
          });
          inPlural.shift()
          return {
            type: type,
            arg: arg,
            offset: offset || 0,
            cases: cases
          };
        },
      peg$c22 = function(arg, key, param) {
          return {
            type: 'function',
            arg: arg,
            key: key,
            param: param
          };
        },
      peg$c23 = peg$otherExpectation("identifier"),
      peg$c24 = /^[^\t-\r \x85\u200E\u200F\u2028\u2029!-\/:-@[-\^`{-~\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u2010-\u2027\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46]/,
      peg$c25 = peg$classExpectation([["\t", "\r"], " ", "\x85", "\u200E", "\u200F", "\u2028", "\u2029", ["!", "/"], [":", "@"], ["[", "^"], "`", ["{", "~"], ["\xA1", "\xA7"], "\xA9", "\xAB", "\xAC", "\xAE", "\xB0", "\xB1", "\xB6", "\xBB", "\xBF", "\xD7", "\xF7", ["\u2010", "\u2027"], ["\u2030", "\u203E"], ["\u2041", "\u2053"], ["\u2055", "\u205E"], ["\u2190", "\u245F"], ["\u2500", "\u2775"], ["\u2794", "\u2BFF"], ["\u2E00", "\u2E7F"], ["\u3001", "\u3003"], ["\u3008", "\u3020"], "\u3030", "\uFD3E", "\uFD3F", "\uFE45", "\uFE46"], true, false),
      peg$c26 = function(key, tokens) { return { key: key, tokens: tokens }; },
      peg$c27 = function(tokens) { return tokens; },
      peg$c28 = peg$otherExpectation("plural offset"),
      peg$c29 = "offset",
      peg$c30 = peg$literalExpectation("offset", false),
      peg$c31 = ":",
      peg$c32 = peg$literalExpectation(":", false),
      peg$c33 = function(d) { return d; },
      peg$c34 = "=",
      peg$c35 = peg$literalExpectation("=", false),
      peg$c36 = "number",
      peg$c37 = peg$literalExpectation("number", false),
      peg$c38 = "date",
      peg$c39 = peg$literalExpectation("date", false),
      peg$c40 = "time",
      peg$c41 = peg$literalExpectation("time", false),
      peg$c42 = "spellout",
      peg$c43 = peg$literalExpectation("spellout", false),
      peg$c44 = "ordinal",
      peg$c45 = peg$literalExpectation("ordinal", false),
      peg$c46 = "duration",
      peg$c47 = peg$literalExpectation("duration", false),
      peg$c48 = function(key) {
            if (options.strict || /^\d/.test(key)) return false
            switch (key.toLowerCase()) {
              case 'select':
              case 'plural':
              case 'selectordinal':
                return false
              default:
                return true
            }
          },
      peg$c49 = function(key) { return key },
      peg$c50 = function(tokens) { return !options.strict },
      peg$c51 = function(tokens) { return { tokens: tokens } },
      peg$c52 = function(parts) { return { tokens: [parts.join('')] } },
      peg$c53 = peg$otherExpectation("a valid (strict) function parameter"),
      peg$c54 = /^[^'{}]/,
      peg$c55 = peg$classExpectation(["'", "{", "}"], true, false),
      peg$c56 = function(p) { return p.join('') },
      peg$c57 = "'",
      peg$c58 = peg$literalExpectation("'", false),
      peg$c59 = function(quoted) { return quoted },
      peg$c60 = function(p) { return '{' + p.join('') + '}' },
      peg$c61 = peg$otherExpectation("doubled apostrophe"),
      peg$c62 = "''",
      peg$c63 = peg$literalExpectation("''", false),
      peg$c64 = function() { return "'"; },
      peg$c65 = /^[^']/,
      peg$c66 = peg$classExpectation(["'"], true, false),
      peg$c67 = "'{",
      peg$c68 = peg$literalExpectation("'{", false),
      peg$c69 = function(str) { return '\u007B'+str.join(''); },
      peg$c70 = "'}",
      peg$c71 = peg$literalExpectation("'}", false),
      peg$c72 = function(str) { return '\u007D'+str.join(''); },
      peg$c73 = peg$otherExpectation("escaped string"),
      peg$c74 = "'#",
      peg$c75 = peg$literalExpectation("'#", false),
      peg$c76 = function(str) { return "#"+str.join(''); },
      peg$c77 = function(quotedOcto) { return quotedOcto[0]; },
      peg$c78 = peg$otherExpectation("plain char"),
      peg$c79 = /^[^{}#\0-\x08\x0E-\x1F\x7F]/,
      peg$c80 = peg$classExpectation(["{", "}", "#", ["\0", "\b"], ["\x0E", "\x1F"], "\x7F"], true, false),
      peg$c81 = function(octo) { return !inPlural[0]; },
      peg$c82 = function(octo) { return octo; },
      peg$c83 = peg$otherExpectation("integer"),
      peg$c84 = /^[0-9]/,
      peg$c85 = peg$classExpectation([["0", "9"]], false, false),
      peg$c86 = peg$otherExpectation("white space"),
      peg$c87 = /^[\t-\r \x85\u200E\u200F\u2028\u2029]/,
      peg$c88 = peg$classExpectation([["\t", "\r"], " ", "\x85", "\u200E", "\u200F", "\u2028", "\u2029"], false, false),

      peg$currPos          = 0,
      peg$savedPos         = 0,
      peg$posDetailsCache  = [{ line: 1, column: 1 }],
      peg$maxFailPos       = 0,
      peg$maxFailExpected  = [],
      peg$silentFails      = 0,

      peg$result;

  if ("startRule" in options) {
    if (!(options.startRule in peg$startRuleFunctions)) {
      throw new Error("Can't start parsing from rule \"" + options.startRule + "\".");
    }

    peg$startRuleFunction = peg$startRuleFunctions[options.startRule];
  }

  function text() {
    return input.substring(peg$savedPos, peg$currPos);
  }

  function location() {
    return peg$computeLocation(peg$savedPos, peg$currPos);
  }

  function expected(description, location) {
    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)

    throw peg$buildStructuredError(
      [peg$otherExpectation(description)],
      input.substring(peg$savedPos, peg$currPos),
      location
    );
  }

  function error(message, location) {
    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)

    throw peg$buildSimpleError(message, location);
  }

  function peg$literalExpectation(text, ignoreCase) {
    return { type: "literal", text: text, ignoreCase: ignoreCase };
  }

  function peg$classExpectation(parts, inverted, ignoreCase) {
    return { type: "class", parts: parts, inverted: inverted, ignoreCase: ignoreCase };
  }

  function peg$anyExpectation() {
    return { type: "any" };
  }

  function peg$endExpectation() {
    return { type: "end" };
  }

  function peg$otherExpectation(description) {
    return { type: "other", description: description };
  }

  function peg$computePosDetails(pos) {
    var details = peg$posDetailsCache[pos], p;

    if (details) {
      return details;
    } else {
      p = pos - 1;
      while (!peg$posDetailsCache[p]) {
        p--;
      }

      details = peg$posDetailsCache[p];
      details = {
        line:   details.line,
        column: details.column
      };

      while (p < pos) {
        if (input.charCodeAt(p) === 10) {
          details.line++;
          details.column = 1;
        } else {
          details.column++;
        }

        p++;
      }

      peg$posDetailsCache[pos] = details;
      return details;
    }
  }

  function peg$computeLocation(startPos, endPos) {
    var startPosDetails = peg$computePosDetails(startPos),
        endPosDetails   = peg$computePosDetails(endPos);

    return {
      start: {
        offset: startPos,
        line:   startPosDetails.line,
        column: startPosDetails.column
      },
      end: {
        offset: endPos,
        line:   endPosDetails.line,
        column: endPosDetails.column
      }
    };
  }

  function peg$fail(expected) {
    if (peg$currPos < peg$maxFailPos) { return; }

    if (peg$currPos > peg$maxFailPos) {
      peg$maxFailPos = peg$currPos;
      peg$maxFailExpected = [];
    }

    peg$maxFailExpected.push(expected);
  }

  function peg$buildSimpleError(message, location) {
    return new peg$SyntaxError(message, null, null, location);
  }

  function peg$buildStructuredError(expected, found, location) {
    return new peg$SyntaxError(
      peg$SyntaxError.buildMessage(expected, found),
      expected,
      found,
      location
    );
  }

  function peg$parsestart() {
    var s0, s1;

    s0 = [];
    s1 = peg$parsetoken();
    while (s1 !== peg$FAILED) {
      s0.push(s1);
      s1 = peg$parsetoken();
    }

    return s0;
  }

  function peg$parsetoken() {
    var s0, s1, s2;

    s0 = peg$parseargument();
    if (s0 === peg$FAILED) {
      s0 = peg$parseselect();
      if (s0 === peg$FAILED) {
        s0 = peg$parseplural();
        if (s0 === peg$FAILED) {
          s0 = peg$parsefunction();
          if (s0 === peg$FAILED) {
            s0 = peg$currPos;
            if (input.charCodeAt(peg$currPos) === 35) {
              s1 = peg$c0;
              peg$currPos++;
            } else {
              s1 = peg$FAILED;
              if (peg$silentFails === 0) { peg$fail(peg$c1); }
            }
            if (s1 !== peg$FAILED) {
              peg$savedPos = peg$currPos;
              s2 = peg$c2();
              if (s2) {
                s2 = void 0;
              } else {
                s2 = peg$FAILED;
              }
              if (s2 !== peg$FAILED) {
                peg$savedPos = s0;
                s1 = peg$c3();
                s0 = s1;
              } else {
                peg$currPos = s0;
                s0 = peg$FAILED;
              }
            } else {
              peg$currPos = s0;
              s0 = peg$FAILED;
            }
            if (s0 === peg$FAILED) {
              s0 = peg$currPos;
              s1 = [];
              s2 = peg$parsechar();
              if (s2 !== peg$FAILED) {
                while (s2 !== peg$FAILED) {
                  s1.push(s2);
                  s2 = peg$parsechar();
                }
              } else {
                s1 = peg$FAILED;
              }
              if (s1 !== peg$FAILED) {
                peg$savedPos = s0;
                s1 = peg$c4(s1);
              }
              s0 = s1;
            }
          }
        }
      }
    }

    return s0;
  }

  function peg$parseargument() {
    var s0, s1, s2, s3, s4, s5;

    s0 = peg$currPos;
    if (input.charCodeAt(peg$currPos) === 123) {
      s1 = peg$c5;
      peg$currPos++;
    } else {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c6); }
    }
    if (s1 !== peg$FAILED) {
      s2 = peg$parse_();
      if (s2 !== peg$FAILED) {
        s3 = peg$parseid();
        if (s3 !== peg$FAILED) {
          s4 = peg$parse_();
          if (s4 !== peg$FAILED) {
            if (input.charCodeAt(peg$currPos) === 125) {
              s5 = peg$c7;
              peg$currPos++;
            } else {
              s5 = peg$FAILED;
              if (peg$silentFails === 0) { peg$fail(peg$c8); }
            }
            if (s5 !== peg$FAILED) {
              peg$savedPos = s0;
              s1 = peg$c9(s3);
              s0 = s1;
            } else {
              peg$currPos = s0;
              s0 = peg$FAILED;
            }
          } else {
            peg$currPos = s0;
            s0 = peg$FAILED;
          }
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }

    return s0;
  }

  function peg$parseselect() {
    var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10, s11, s12, s13;

    s0 = peg$currPos;
    if (input.charCodeAt(peg$currPos) === 123) {
      s1 = peg$c5;
      peg$currPos++;
    } else {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c6); }
    }
    if (s1 !== peg$FAILED) {
      s2 = peg$parse_();
      if (s2 !== peg$FAILED) {
        s3 = peg$parseid();
        if (s3 !== peg$FAILED) {
          s4 = peg$parse_();
          if (s4 !== peg$FAILED) {
            if (input.charCodeAt(peg$currPos) === 44) {
              s5 = peg$c10;
              peg$currPos++;
            } else {
              s5 = peg$FAILED;
              if (peg$silentFails === 0) { peg$fail(peg$c11); }
            }
            if (s5 !== peg$FAILED) {
              s6 = peg$parse_();
              if (s6 !== peg$FAILED) {
                s7 = peg$currPos;
                if (input.substr(peg$currPos, 6) === peg$c12) {
                  s8 = peg$c12;
                  peg$currPos += 6;
                } else {
                  s8 = peg$FAILED;
                  if (peg$silentFails === 0) { peg$fail(peg$c13); }
                }
                if (s8 !== peg$FAILED) {
                  peg$savedPos = s7;
                  s8 = peg$c14(s3, s8);
                }
                s7 = s8;
                if (s7 !== peg$FAILED) {
                  s8 = peg$parse_();
                  if (s8 !== peg$FAILED) {
                    if (input.charCodeAt(peg$currPos) === 44) {
                      s9 = peg$c10;
                      peg$currPos++;
                    } else {
                      s9 = peg$FAILED;
                      if (peg$silentFails === 0) { peg$fail(peg$c11); }
                    }
                    if (s9 !== peg$FAILED) {
                      s10 = peg$parse_();
                      if (s10 !== peg$FAILED) {
                        s11 = [];
                        s12 = peg$parseselectCase();
                        if (s12 !== peg$FAILED) {
                          while (s12 !== peg$FAILED) {
                            s11.push(s12);
                            s12 = peg$parseselectCase();
                          }
                        } else {
                          s11 = peg$FAILED;
                        }
                        if (s11 !== peg$FAILED) {
                          s12 = peg$parse_();
                          if (s12 !== peg$FAILED) {
                            if (input.charCodeAt(peg$currPos) === 125) {
                              s13 = peg$c7;
                              peg$currPos++;
                            } else {
                              s13 = peg$FAILED;
                              if (peg$silentFails === 0) { peg$fail(peg$c8); }
                            }
                            if (s13 !== peg$FAILED) {
                              peg$savedPos = s0;
                              s1 = peg$c15(s3, s11);
                              s0 = s1;
                            } else {
                              peg$currPos = s0;
                              s0 = peg$FAILED;
                            }
                          } else {
                            peg$currPos = s0;
                            s0 = peg$FAILED;
                          }
                        } else {
                          peg$currPos = s0;
                          s0 = peg$FAILED;
                        }
                      } else {
                        peg$currPos = s0;
                        s0 = peg$FAILED;
                      }
                    } else {
                      peg$currPos = s0;
                      s0 = peg$FAILED;
                    }
                  } else {
                    peg$currPos = s0;
                    s0 = peg$FAILED;
                  }
                } else {
                  peg$currPos = s0;
                  s0 = peg$FAILED;
                }
              } else {
                peg$currPos = s0;
                s0 = peg$FAILED;
              }
            } else {
              peg$currPos = s0;
              s0 = peg$FAILED;
            }
          } else {
            peg$currPos = s0;
            s0 = peg$FAILED;
          }
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }

    return s0;
  }

  function peg$parseplural() {
    var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10, s11, s12, s13, s14;

    s0 = peg$currPos;
    if (input.charCodeAt(peg$currPos) === 123) {
      s1 = peg$c5;
      peg$currPos++;
    } else {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c6); }
    }
    if (s1 !== peg$FAILED) {
      s2 = peg$parse_();
      if (s2 !== peg$FAILED) {
        s3 = peg$parseid();
        if (s3 !== peg$FAILED) {
          s4 = peg$parse_();
          if (s4 !== peg$FAILED) {
            if (input.charCodeAt(peg$currPos) === 44) {
              s5 = peg$c10;
              peg$currPos++;
            } else {
              s5 = peg$FAILED;
              if (peg$silentFails === 0) { peg$fail(peg$c11); }
            }
            if (s5 !== peg$FAILED) {
              s6 = peg$parse_();
              if (s6 !== peg$FAILED) {
                s7 = peg$currPos;
                if (input.substr(peg$currPos, 6) === peg$c16) {
                  s8 = peg$c16;
                  peg$currPos += 6;
                } else {
                  s8 = peg$FAILED;
                  if (peg$silentFails === 0) { peg$fail(peg$c17); }
                }
                if (s8 === peg$FAILED) {
                  if (input.substr(peg$currPos, 13) === peg$c18) {
                    s8 = peg$c18;
                    peg$currPos += 13;
                  } else {
                    s8 = peg$FAILED;
                    if (peg$silentFails === 0) { peg$fail(peg$c19); }
                  }
                }
                if (s8 !== peg$FAILED) {
                  peg$savedPos = s7;
                  s8 = peg$c20(s3, s8);
                }
                s7 = s8;
                if (s7 !== peg$FAILED) {
                  s8 = peg$parse_();
                  if (s8 !== peg$FAILED) {
                    if (input.charCodeAt(peg$currPos) === 44) {
                      s9 = peg$c10;
                      peg$currPos++;
                    } else {
                      s9 = peg$FAILED;
                      if (peg$silentFails === 0) { peg$fail(peg$c11); }
                    }
                    if (s9 !== peg$FAILED) {
                      s10 = peg$parse_();
                      if (s10 !== peg$FAILED) {
                        s11 = peg$parseoffset();
                        if (s11 === peg$FAILED) {
                          s11 = null;
                        }
                        if (s11 !== peg$FAILED) {
                          s12 = [];
                          s13 = peg$parsepluralCase();
                          if (s13 !== peg$FAILED) {
                            while (s13 !== peg$FAILED) {
                              s12.push(s13);
                              s13 = peg$parsepluralCase();
                            }
                          } else {
                            s12 = peg$FAILED;
                          }
                          if (s12 !== peg$FAILED) {
                            s13 = peg$parse_();
                            if (s13 !== peg$FAILED) {
                              if (input.charCodeAt(peg$currPos) === 125) {
                                s14 = peg$c7;
                                peg$currPos++;
                              } else {
                                s14 = peg$FAILED;
                                if (peg$silentFails === 0) { peg$fail(peg$c8); }
                              }
                              if (s14 !== peg$FAILED) {
                                peg$savedPos = s0;
                                s1 = peg$c21(s3, s7, s11, s12);
                                s0 = s1;
                              } else {
                                peg$currPos = s0;
                                s0 = peg$FAILED;
                              }
                            } else {
                              peg$currPos = s0;
                              s0 = peg$FAILED;
                            }
                          } else {
                            peg$currPos = s0;
                            s0 = peg$FAILED;
                          }
                        } else {
                          peg$currPos = s0;
                          s0 = peg$FAILED;
                        }
                      } else {
                        peg$currPos = s0;
                        s0 = peg$FAILED;
                      }
                    } else {
                      peg$currPos = s0;
                      s0 = peg$FAILED;
                    }
                  } else {
                    peg$currPos = s0;
                    s0 = peg$FAILED;
                  }
                } else {
                  peg$currPos = s0;
                  s0 = peg$FAILED;
                }
              } else {
                peg$currPos = s0;
                s0 = peg$FAILED;
              }
            } else {
              peg$currPos = s0;
              s0 = peg$FAILED;
            }
          } else {
            peg$currPos = s0;
            s0 = peg$FAILED;
          }
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }

    return s0;
  }

  function peg$parsefunction() {
    var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10;

    s0 = peg$currPos;
    if (input.charCodeAt(peg$currPos) === 123) {
      s1 = peg$c5;
      peg$currPos++;
    } else {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c6); }
    }
    if (s1 !== peg$FAILED) {
      s2 = peg$parse_();
      if (s2 !== peg$FAILED) {
        s3 = peg$parseid();
        if (s3 !== peg$FAILED) {
          s4 = peg$parse_();
          if (s4 !== peg$FAILED) {
            if (input.charCodeAt(peg$currPos) === 44) {
              s5 = peg$c10;
              peg$currPos++;
            } else {
              s5 = peg$FAILED;
              if (peg$silentFails === 0) { peg$fail(peg$c11); }
            }
            if (s5 !== peg$FAILED) {
              s6 = peg$parse_();
              if (s6 !== peg$FAILED) {
                s7 = peg$parsefunctionKey();
                if (s7 !== peg$FAILED) {
                  s8 = peg$parse_();
                  if (s8 !== peg$FAILED) {
                    s9 = peg$parsefunctionParam();
                    if (s9 === peg$FAILED) {
                      s9 = null;
                    }
                    if (s9 !== peg$FAILED) {
                      if (input.charCodeAt(peg$currPos) === 125) {
                        s10 = peg$c7;
                        peg$currPos++;
                      } else {
                        s10 = peg$FAILED;
                        if (peg$silentFails === 0) { peg$fail(peg$c8); }
                      }
                      if (s10 !== peg$FAILED) {
                        peg$savedPos = s0;
                        s1 = peg$c22(s3, s7, s9);
                        s0 = s1;
                      } else {
                        peg$currPos = s0;
                        s0 = peg$FAILED;
                      }
                    } else {
                      peg$currPos = s0;
                      s0 = peg$FAILED;
                    }
                  } else {
                    peg$currPos = s0;
                    s0 = peg$FAILED;
                  }
                } else {
                  peg$currPos = s0;
                  s0 = peg$FAILED;
                }
              } else {
                peg$currPos = s0;
                s0 = peg$FAILED;
              }
            } else {
              peg$currPos = s0;
              s0 = peg$FAILED;
            }
          } else {
            peg$currPos = s0;
            s0 = peg$FAILED;
          }
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }

    return s0;
  }

  function peg$parseid() {
    var s0, s1, s2;

    peg$silentFails++;
    s0 = peg$currPos;
    s1 = [];
    if (peg$c24.test(input.charAt(peg$currPos))) {
      s2 = input.charAt(peg$currPos);
      peg$currPos++;
    } else {
      s2 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c25); }
    }
    if (s2 !== peg$FAILED) {
      while (s2 !== peg$FAILED) {
        s1.push(s2);
        if (peg$c24.test(input.charAt(peg$currPos))) {
          s2 = input.charAt(peg$currPos);
          peg$currPos++;
        } else {
          s2 = peg$FAILED;
          if (peg$silentFails === 0) { peg$fail(peg$c25); }
        }
      }
    } else {
      s1 = peg$FAILED;
    }
    if (s1 !== peg$FAILED) {
      s0 = input.substring(s0, peg$currPos);
    } else {
      s0 = s1;
    }
    peg$silentFails--;
    if (s0 === peg$FAILED) {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c23); }
    }

    return s0;
  }

  function peg$parseselectCase() {
    var s0, s1, s2, s3, s4;

    s0 = peg$currPos;
    s1 = peg$parse_();
    if (s1 !== peg$FAILED) {
      s2 = peg$parseid();
      if (s2 !== peg$FAILED) {
        s3 = peg$parse_();
        if (s3 !== peg$FAILED) {
          s4 = peg$parsecaseTokens();
          if (s4 !== peg$FAILED) {
            peg$savedPos = s0;
            s1 = peg$c26(s2, s4);
            s0 = s1;
          } else {
            peg$currPos = s0;
            s0 = peg$FAILED;
          }
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }

    return s0;
  }

  function peg$parsepluralCase() {
    var s0, s1, s2, s3, s4;

    s0 = peg$currPos;
    s1 = peg$parse_();
    if (s1 !== peg$FAILED) {
      s2 = peg$parsepluralKey();
      if (s2 !== peg$FAILED) {
        s3 = peg$parse_();
        if (s3 !== peg$FAILED) {
          s4 = peg$parsecaseTokens();
          if (s4 !== peg$FAILED) {
            peg$savedPos = s0;
            s1 = peg$c26(s2, s4);
            s0 = s1;
          } else {
            peg$currPos = s0;
            s0 = peg$FAILED;
          }
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }

    return s0;
  }

  function peg$parsecaseTokens() {
    var s0, s1, s2, s3, s4, s5;

    s0 = peg$currPos;
    if (input.charCodeAt(peg$currPos) === 123) {
      s1 = peg$c5;
      peg$currPos++;
    } else {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c6); }
    }
    if (s1 !== peg$FAILED) {
      s2 = peg$currPos;
      s3 = peg$parse_();
      if (s3 !== peg$FAILED) {
        s4 = peg$currPos;
        peg$silentFails++;
        if (input.charCodeAt(peg$currPos) === 123) {
          s5 = peg$c5;
          peg$currPos++;
        } else {
          s5 = peg$FAILED;
          if (peg$silentFails === 0) { peg$fail(peg$c6); }
        }
        peg$silentFails--;
        if (s5 !== peg$FAILED) {
          peg$currPos = s4;
          s4 = void 0;
        } else {
          s4 = peg$FAILED;
        }
        if (s4 !== peg$FAILED) {
          s3 = [s3, s4];
          s2 = s3;
        } else {
          peg$currPos = s2;
          s2 = peg$FAILED;
        }
      } else {
        peg$currPos = s2;
        s2 = peg$FAILED;
      }
      if (s2 === peg$FAILED) {
        s2 = null;
      }
      if (s2 !== peg$FAILED) {
        s3 = [];
        s4 = peg$parsetoken();
        while (s4 !== peg$FAILED) {
          s3.push(s4);
          s4 = peg$parsetoken();
        }
        if (s3 !== peg$FAILED) {
          s4 = peg$parse_();
          if (s4 !== peg$FAILED) {
            if (input.charCodeAt(peg$currPos) === 125) {
              s5 = peg$c7;
              peg$currPos++;
            } else {
              s5 = peg$FAILED;
              if (peg$silentFails === 0) { peg$fail(peg$c8); }
            }
            if (s5 !== peg$FAILED) {
              peg$savedPos = s0;
              s1 = peg$c27(s3);
              s0 = s1;
            } else {
              peg$currPos = s0;
              s0 = peg$FAILED;
            }
          } else {
            peg$currPos = s0;
            s0 = peg$FAILED;
          }
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }

    return s0;
  }

  function peg$parseoffset() {
    var s0, s1, s2, s3, s4, s5, s6, s7;

    peg$silentFails++;
    s0 = peg$currPos;
    s1 = peg$parse_();
    if (s1 !== peg$FAILED) {
      if (input.substr(peg$currPos, 6) === peg$c29) {
        s2 = peg$c29;
        peg$currPos += 6;
      } else {
        s2 = peg$FAILED;
        if (peg$silentFails === 0) { peg$fail(peg$c30); }
      }
      if (s2 !== peg$FAILED) {
        s3 = peg$parse_();
        if (s3 !== peg$FAILED) {
          if (input.charCodeAt(peg$currPos) === 58) {
            s4 = peg$c31;
            peg$currPos++;
          } else {
            s4 = peg$FAILED;
            if (peg$silentFails === 0) { peg$fail(peg$c32); }
          }
          if (s4 !== peg$FAILED) {
            s5 = peg$parse_();
            if (s5 !== peg$FAILED) {
              s6 = peg$parsedigits();
              if (s6 !== peg$FAILED) {
                s7 = peg$parse_();
                if (s7 !== peg$FAILED) {
                  peg$savedPos = s0;
                  s1 = peg$c33(s6);
                  s0 = s1;
                } else {
                  peg$currPos = s0;
                  s0 = peg$FAILED;
                }
              } else {
                peg$currPos = s0;
                s0 = peg$FAILED;
              }
            } else {
              peg$currPos = s0;
              s0 = peg$FAILED;
            }
          } else {
            peg$currPos = s0;
            s0 = peg$FAILED;
          }
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }
    peg$silentFails--;
    if (s0 === peg$FAILED) {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c28); }
    }

    return s0;
  }

  function peg$parsepluralKey() {
    var s0, s1, s2;

    s0 = peg$parseid();
    if (s0 === peg$FAILED) {
      s0 = peg$currPos;
      if (input.charCodeAt(peg$currPos) === 61) {
        s1 = peg$c34;
        peg$currPos++;
      } else {
        s1 = peg$FAILED;
        if (peg$silentFails === 0) { peg$fail(peg$c35); }
      }
      if (s1 !== peg$FAILED) {
        s2 = peg$parsedigits();
        if (s2 !== peg$FAILED) {
          peg$savedPos = s0;
          s1 = peg$c33(s2);
          s0 = s1;
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    }

    return s0;
  }

  function peg$parsefunctionKey() {
    var s0, s1, s2, s3, s4, s5;

    if (input.substr(peg$currPos, 6) === peg$c36) {
      s0 = peg$c36;
      peg$currPos += 6;
    } else {
      s0 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c37); }
    }
    if (s0 === peg$FAILED) {
      if (input.substr(peg$currPos, 4) === peg$c38) {
        s0 = peg$c38;
        peg$currPos += 4;
      } else {
        s0 = peg$FAILED;
        if (peg$silentFails === 0) { peg$fail(peg$c39); }
      }
      if (s0 === peg$FAILED) {
        if (input.substr(peg$currPos, 4) === peg$c40) {
          s0 = peg$c40;
          peg$currPos += 4;
        } else {
          s0 = peg$FAILED;
          if (peg$silentFails === 0) { peg$fail(peg$c41); }
        }
        if (s0 === peg$FAILED) {
          if (input.substr(peg$currPos, 8) === peg$c42) {
            s0 = peg$c42;
            peg$currPos += 8;
          } else {
            s0 = peg$FAILED;
            if (peg$silentFails === 0) { peg$fail(peg$c43); }
          }
          if (s0 === peg$FAILED) {
            if (input.substr(peg$currPos, 7) === peg$c44) {
              s0 = peg$c44;
              peg$currPos += 7;
            } else {
              s0 = peg$FAILED;
              if (peg$silentFails === 0) { peg$fail(peg$c45); }
            }
            if (s0 === peg$FAILED) {
              if (input.substr(peg$currPos, 8) === peg$c46) {
                s0 = peg$c46;
                peg$currPos += 8;
              } else {
                s0 = peg$FAILED;
                if (peg$silentFails === 0) { peg$fail(peg$c47); }
              }
              if (s0 === peg$FAILED) {
                s0 = peg$currPos;
                s1 = peg$currPos;
                peg$silentFails++;
                if (input.substr(peg$currPos, 6) === peg$c12) {
                  s2 = peg$c12;
                  peg$currPos += 6;
                } else {
                  s2 = peg$FAILED;
                  if (peg$silentFails === 0) { peg$fail(peg$c13); }
                }
                peg$silentFails--;
                if (s2 === peg$FAILED) {
                  s1 = void 0;
                } else {
                  peg$currPos = s1;
                  s1 = peg$FAILED;
                }
                if (s1 !== peg$FAILED) {
                  s2 = peg$currPos;
                  peg$silentFails++;
                  if (input.substr(peg$currPos, 6) === peg$c16) {
                    s3 = peg$c16;
                    peg$currPos += 6;
                  } else {
                    s3 = peg$FAILED;
                    if (peg$silentFails === 0) { peg$fail(peg$c17); }
                  }
                  peg$silentFails--;
                  if (s3 === peg$FAILED) {
                    s2 = void 0;
                  } else {
                    peg$currPos = s2;
                    s2 = peg$FAILED;
                  }
                  if (s2 !== peg$FAILED) {
                    s3 = peg$currPos;
                    peg$silentFails++;
                    if (input.substr(peg$currPos, 13) === peg$c18) {
                      s4 = peg$c18;
                      peg$currPos += 13;
                    } else {
                      s4 = peg$FAILED;
                      if (peg$silentFails === 0) { peg$fail(peg$c19); }
                    }
                    peg$silentFails--;
                    if (s4 === peg$FAILED) {
                      s3 = void 0;
                    } else {
                      peg$currPos = s3;
                      s3 = peg$FAILED;
                    }
                    if (s3 !== peg$FAILED) {
                      s4 = peg$parseid();
                      if (s4 !== peg$FAILED) {
                        peg$savedPos = peg$currPos;
                        s5 = peg$c48(s4);
                        if (s5) {
                          s5 = void 0;
                        } else {
                          s5 = peg$FAILED;
                        }
                        if (s5 !== peg$FAILED) {
                          peg$savedPos = s0;
                          s1 = peg$c49(s4);
                          s0 = s1;
                        } else {
                          peg$currPos = s0;
                          s0 = peg$FAILED;
                        }
                      } else {
                        peg$currPos = s0;
                        s0 = peg$FAILED;
                      }
                    } else {
                      peg$currPos = s0;
                      s0 = peg$FAILED;
                    }
                  } else {
                    peg$currPos = s0;
                    s0 = peg$FAILED;
                  }
                } else {
                  peg$currPos = s0;
                  s0 = peg$FAILED;
                }
              }
            }
          }
        }
      }
    }

    return s0;
  }

  function peg$parsefunctionParam() {
    var s0, s1, s2, s3, s4;

    s0 = peg$currPos;
    s1 = peg$parse_();
    if (s1 !== peg$FAILED) {
      if (input.charCodeAt(peg$currPos) === 44) {
        s2 = peg$c10;
        peg$currPos++;
      } else {
        s2 = peg$FAILED;
        if (peg$silentFails === 0) { peg$fail(peg$c11); }
      }
      if (s2 !== peg$FAILED) {
        s3 = [];
        s4 = peg$parsetoken();
        while (s4 !== peg$FAILED) {
          s3.push(s4);
          s4 = peg$parsetoken();
        }
        if (s3 !== peg$FAILED) {
          peg$savedPos = peg$currPos;
          s4 = peg$c50(s3);
          if (s4) {
            s4 = void 0;
          } else {
            s4 = peg$FAILED;
          }
          if (s4 !== peg$FAILED) {
            peg$savedPos = s0;
            s1 = peg$c51(s3);
            s0 = s1;
          } else {
            peg$currPos = s0;
            s0 = peg$FAILED;
          }
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }
    if (s0 === peg$FAILED) {
      s0 = peg$currPos;
      s1 = peg$parse_();
      if (s1 !== peg$FAILED) {
        if (input.charCodeAt(peg$currPos) === 44) {
          s2 = peg$c10;
          peg$currPos++;
        } else {
          s2 = peg$FAILED;
          if (peg$silentFails === 0) { peg$fail(peg$c11); }
        }
        if (s2 !== peg$FAILED) {
          s3 = [];
          s4 = peg$parsestrictFunctionParamPart();
          while (s4 !== peg$FAILED) {
            s3.push(s4);
            s4 = peg$parsestrictFunctionParamPart();
          }
          if (s3 !== peg$FAILED) {
            peg$savedPos = s0;
            s1 = peg$c52(s3);
            s0 = s1;
          } else {
            peg$currPos = s0;
            s0 = peg$FAILED;
          }
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    }

    return s0;
  }

  function peg$parsestrictFunctionParamPart() {
    var s0, s1, s2, s3;

    peg$silentFails++;
    s0 = peg$currPos;
    s1 = [];
    if (peg$c54.test(input.charAt(peg$currPos))) {
      s2 = input.charAt(peg$currPos);
      peg$currPos++;
    } else {
      s2 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c55); }
    }
    if (s2 !== peg$FAILED) {
      while (s2 !== peg$FAILED) {
        s1.push(s2);
        if (peg$c54.test(input.charAt(peg$currPos))) {
          s2 = input.charAt(peg$currPos);
          peg$currPos++;
        } else {
          s2 = peg$FAILED;
          if (peg$silentFails === 0) { peg$fail(peg$c55); }
        }
      }
    } else {
      s1 = peg$FAILED;
    }
    if (s1 !== peg$FAILED) {
      peg$savedPos = s0;
      s1 = peg$c56(s1);
    }
    s0 = s1;
    if (s0 === peg$FAILED) {
      s0 = peg$parsedoubleapos();
      if (s0 === peg$FAILED) {
        s0 = peg$currPos;
        if (input.charCodeAt(peg$currPos) === 39) {
          s1 = peg$c57;
          peg$currPos++;
        } else {
          s1 = peg$FAILED;
          if (peg$silentFails === 0) { peg$fail(peg$c58); }
        }
        if (s1 !== peg$FAILED) {
          s2 = peg$parseinapos();
          if (s2 !== peg$FAILED) {
            if (input.charCodeAt(peg$currPos) === 39) {
              s3 = peg$c57;
              peg$currPos++;
            } else {
              s3 = peg$FAILED;
              if (peg$silentFails === 0) { peg$fail(peg$c58); }
            }
            if (s3 !== peg$FAILED) {
              peg$savedPos = s0;
              s1 = peg$c59(s2);
              s0 = s1;
            } else {
              peg$currPos = s0;
              s0 = peg$FAILED;
            }
          } else {
            peg$currPos = s0;
            s0 = peg$FAILED;
          }
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
        if (s0 === peg$FAILED) {
          s0 = peg$currPos;
          if (input.charCodeAt(peg$currPos) === 123) {
            s1 = peg$c5;
            peg$currPos++;
          } else {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) { peg$fail(peg$c6); }
          }
          if (s1 !== peg$FAILED) {
            s2 = [];
            s3 = peg$parsestrictFunctionParamPart();
            while (s3 !== peg$FAILED) {
              s2.push(s3);
              s3 = peg$parsestrictFunctionParamPart();
            }
            if (s2 !== peg$FAILED) {
              if (input.charCodeAt(peg$currPos) === 125) {
                s3 = peg$c7;
                peg$currPos++;
              } else {
                s3 = peg$FAILED;
                if (peg$silentFails === 0) { peg$fail(peg$c8); }
              }
              if (s3 !== peg$FAILED) {
                peg$savedPos = s0;
                s1 = peg$c60(s2);
                s0 = s1;
              } else {
                peg$currPos = s0;
                s0 = peg$FAILED;
              }
            } else {
              peg$currPos = s0;
              s0 = peg$FAILED;
            }
          } else {
            peg$currPos = s0;
            s0 = peg$FAILED;
          }
        }
      }
    }
    peg$silentFails--;
    if (s0 === peg$FAILED) {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c53); }
    }

    return s0;
  }

  function peg$parsedoubleapos() {
    var s0, s1;

    peg$silentFails++;
    s0 = peg$currPos;
    if (input.substr(peg$currPos, 2) === peg$c62) {
      s1 = peg$c62;
      peg$currPos += 2;
    } else {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c63); }
    }
    if (s1 !== peg$FAILED) {
      peg$savedPos = s0;
      s1 = peg$c64();
    }
    s0 = s1;
    peg$silentFails--;
    if (s0 === peg$FAILED) {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c61); }
    }

    return s0;
  }

  function peg$parseinapos() {
    var s0, s1, s2;

    s0 = peg$parsedoubleapos();
    if (s0 === peg$FAILED) {
      s0 = peg$currPos;
      s1 = [];
      if (peg$c65.test(input.charAt(peg$currPos))) {
        s2 = input.charAt(peg$currPos);
        peg$currPos++;
      } else {
        s2 = peg$FAILED;
        if (peg$silentFails === 0) { peg$fail(peg$c66); }
      }
      if (s2 !== peg$FAILED) {
        while (s2 !== peg$FAILED) {
          s1.push(s2);
          if (peg$c65.test(input.charAt(peg$currPos))) {
            s2 = input.charAt(peg$currPos);
            peg$currPos++;
          } else {
            s2 = peg$FAILED;
            if (peg$silentFails === 0) { peg$fail(peg$c66); }
          }
        }
      } else {
        s1 = peg$FAILED;
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$c4(s1);
      }
      s0 = s1;
    }

    return s0;
  }

  function peg$parsequotedCurly() {
    var s0, s1, s2, s3;

    s0 = peg$currPos;
    if (input.substr(peg$currPos, 2) === peg$c67) {
      s1 = peg$c67;
      peg$currPos += 2;
    } else {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c68); }
    }
    if (s1 !== peg$FAILED) {
      s2 = [];
      s3 = peg$parseinapos();
      while (s3 !== peg$FAILED) {
        s2.push(s3);
        s3 = peg$parseinapos();
      }
      if (s2 !== peg$FAILED) {
        if (input.charCodeAt(peg$currPos) === 39) {
          s3 = peg$c57;
          peg$currPos++;
        } else {
          s3 = peg$FAILED;
          if (peg$silentFails === 0) { peg$fail(peg$c58); }
        }
        if (s3 !== peg$FAILED) {
          peg$savedPos = s0;
          s1 = peg$c69(s2);
          s0 = s1;
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }
    if (s0 === peg$FAILED) {
      s0 = peg$currPos;
      if (input.substr(peg$currPos, 2) === peg$c70) {
        s1 = peg$c70;
        peg$currPos += 2;
      } else {
        s1 = peg$FAILED;
        if (peg$silentFails === 0) { peg$fail(peg$c71); }
      }
      if (s1 !== peg$FAILED) {
        s2 = [];
        s3 = peg$parseinapos();
        while (s3 !== peg$FAILED) {
          s2.push(s3);
          s3 = peg$parseinapos();
        }
        if (s2 !== peg$FAILED) {
          if (input.charCodeAt(peg$currPos) === 39) {
            s3 = peg$c57;
            peg$currPos++;
          } else {
            s3 = peg$FAILED;
            if (peg$silentFails === 0) { peg$fail(peg$c58); }
          }
          if (s3 !== peg$FAILED) {
            peg$savedPos = s0;
            s1 = peg$c72(s2);
            s0 = s1;
          } else {
            peg$currPos = s0;
            s0 = peg$FAILED;
          }
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    }

    return s0;
  }

  function peg$parsequoted() {
    var s0, s1, s2, s3, s4, s5;

    peg$silentFails++;
    s0 = peg$parsequotedCurly();
    if (s0 === peg$FAILED) {
      s0 = peg$currPos;
      s1 = peg$currPos;
      s2 = peg$currPos;
      if (input.substr(peg$currPos, 2) === peg$c74) {
        s3 = peg$c74;
        peg$currPos += 2;
      } else {
        s3 = peg$FAILED;
        if (peg$silentFails === 0) { peg$fail(peg$c75); }
      }
      if (s3 !== peg$FAILED) {
        s4 = [];
        s5 = peg$parseinapos();
        while (s5 !== peg$FAILED) {
          s4.push(s5);
          s5 = peg$parseinapos();
        }
        if (s4 !== peg$FAILED) {
          if (input.charCodeAt(peg$currPos) === 39) {
            s5 = peg$c57;
            peg$currPos++;
          } else {
            s5 = peg$FAILED;
            if (peg$silentFails === 0) { peg$fail(peg$c58); }
          }
          if (s5 !== peg$FAILED) {
            peg$savedPos = s2;
            s3 = peg$c76(s4);
            s2 = s3;
          } else {
            peg$currPos = s2;
            s2 = peg$FAILED;
          }
        } else {
          peg$currPos = s2;
          s2 = peg$FAILED;
        }
      } else {
        peg$currPos = s2;
        s2 = peg$FAILED;
      }
      if (s2 !== peg$FAILED) {
        peg$savedPos = peg$currPos;
        s3 = peg$c2();
        if (s3) {
          s3 = void 0;
        } else {
          s3 = peg$FAILED;
        }
        if (s3 !== peg$FAILED) {
          s2 = [s2, s3];
          s1 = s2;
        } else {
          peg$currPos = s1;
          s1 = peg$FAILED;
        }
      } else {
        peg$currPos = s1;
        s1 = peg$FAILED;
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$c77(s1);
      }
      s0 = s1;
      if (s0 === peg$FAILED) {
        if (input.charCodeAt(peg$currPos) === 39) {
          s0 = peg$c57;
          peg$currPos++;
        } else {
          s0 = peg$FAILED;
          if (peg$silentFails === 0) { peg$fail(peg$c58); }
        }
      }
    }
    peg$silentFails--;
    if (s0 === peg$FAILED) {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c73); }
    }

    return s0;
  }

  function peg$parseplainChar() {
    var s0, s1;

    peg$silentFails++;
    if (peg$c79.test(input.charAt(peg$currPos))) {
      s0 = input.charAt(peg$currPos);
      peg$currPos++;
    } else {
      s0 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c80); }
    }
    peg$silentFails--;
    if (s0 === peg$FAILED) {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c78); }
    }

    return s0;
  }

  function peg$parsechar() {
    var s0, s1, s2;

    s0 = peg$parsedoubleapos();
    if (s0 === peg$FAILED) {
      s0 = peg$parsequoted();
      if (s0 === peg$FAILED) {
        s0 = peg$currPos;
        if (input.charCodeAt(peg$currPos) === 35) {
          s1 = peg$c0;
          peg$currPos++;
        } else {
          s1 = peg$FAILED;
          if (peg$silentFails === 0) { peg$fail(peg$c1); }
        }
        if (s1 !== peg$FAILED) {
          peg$savedPos = peg$currPos;
          s2 = peg$c81(s1);
          if (s2) {
            s2 = void 0;
          } else {
            s2 = peg$FAILED;
          }
          if (s2 !== peg$FAILED) {
            peg$savedPos = s0;
            s1 = peg$c82(s1);
            s0 = s1;
          } else {
            peg$currPos = s0;
            s0 = peg$FAILED;
          }
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
        if (s0 === peg$FAILED) {
          s0 = peg$parseplainChar();
        }
      }
    }

    return s0;
  }

  function peg$parsedigits() {
    var s0, s1, s2;

    peg$silentFails++;
    s0 = peg$currPos;
    s1 = [];
    if (peg$c84.test(input.charAt(peg$currPos))) {
      s2 = input.charAt(peg$currPos);
      peg$currPos++;
    } else {
      s2 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c85); }
    }
    if (s2 !== peg$FAILED) {
      while (s2 !== peg$FAILED) {
        s1.push(s2);
        if (peg$c84.test(input.charAt(peg$currPos))) {
          s2 = input.charAt(peg$currPos);
          peg$currPos++;
        } else {
          s2 = peg$FAILED;
          if (peg$silentFails === 0) { peg$fail(peg$c85); }
        }
      }
    } else {
      s1 = peg$FAILED;
    }
    if (s1 !== peg$FAILED) {
      s0 = input.substring(s0, peg$currPos);
    } else {
      s0 = s1;
    }
    peg$silentFails--;
    if (s0 === peg$FAILED) {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c83); }
    }

    return s0;
  }

  function peg$parse_() {
    var s0, s1, s2;

    peg$silentFails++;
    s0 = peg$currPos;
    s1 = [];
    if (peg$c87.test(input.charAt(peg$currPos))) {
      s2 = input.charAt(peg$currPos);
      peg$currPos++;
    } else {
      s2 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c88); }
    }
    while (s2 !== peg$FAILED) {
      s1.push(s2);
      if (peg$c87.test(input.charAt(peg$currPos))) {
        s2 = input.charAt(peg$currPos);
        peg$currPos++;
      } else {
        s2 = peg$FAILED;
        if (peg$silentFails === 0) { peg$fail(peg$c88); }
      }
    }
    if (s1 !== peg$FAILED) {
      s0 = input.substring(s0, peg$currPos);
    } else {
      s0 = s1;
    }
    peg$silentFails--;
    if (s0 === peg$FAILED) {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c86); }
    }

    return s0;
  }


    var inPlural = [false];


  peg$result = peg$startRuleFunction();

  if (peg$result !== peg$FAILED && peg$currPos === input.length) {
    return peg$result;
  } else {
    if (peg$result !== peg$FAILED && peg$currPos < input.length) {
      peg$fail(peg$endExpectation());
    }

    throw peg$buildStructuredError(
      peg$maxFailExpected,
      peg$maxFailPos < input.length ? input.charAt(peg$maxFailPos) : null,
      peg$maxFailPos < input.length
        ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1)
        : peg$computeLocation(peg$maxFailPos, peg$maxFailPos)
    );
  }
}

module.exports = {
  SyntaxError: peg$SyntaxError,
  parse:       peg$parse
};


/***/ }),

/***/ "./node_modules/messageformat/lib/compiler.js":
/*!****************************************************!*\
  !*** ./node_modules/messageformat/lib/compiler.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var reserved = __webpack_require__(/*! reserved-words */ "./node_modules/reserved-words/lib/index.js");
var parse = __webpack_require__(/*! messageformat-parser */ "./node_modules/messageformat-parser/parser.js").parse;

/** Creates a new message compiler. Called internally from {@link MessageFormat#compile}.
 *
 * @class
 * @private
 * @param {MessageFormat} mf - A MessageFormat instance
 * @property {object} locales - The locale identifiers that are used by the compiled functions
 * @property {object} runtime - Names of the core runtime functions that are used by the compiled functions
 * @property {object} formatters - The formatter functions that are used by the compiled functions
 */
function Compiler(mf) {
  this.mf = mf;
  this.lc = null;
  this.locales = {};
  this.runtime = {};
  this.formatters = {};
}

module.exports = Compiler;

/** Utility function for quoting an Object's key value if required
 *
 *  Quotes the key if it contains invalid characters or is an
 *  ECMAScript 3rd Edition reserved word (for IE8).
 */
Compiler.propname = function(key, obj) {
  if (
    /^[A-Z_$][0-9A-Z_$]*$/i.test(key) &&
    [
      'break',
      'continue',
      'delete',
      'else',
      'for',
      'function',
      'if',
      'in',
      'new',
      'return',
      'this',
      'typeof',
      'var',
      'void',
      'while',
      'with',
      'case',
      'catch',
      'default',
      'do',
      'finally',
      'instanceof',
      'switch',
      'throw',
      'try'
    ].indexOf(key) < 0
  ) {
    return obj ? obj + '.' + key : key;
  } else {
    var jkey = JSON.stringify(key);
    return obj ? obj + '[' + jkey + ']' : jkey;
  }
};

/** Utility function for escaping a function name if required
 */
Compiler.funcname = function(key) {
  var fn = key.trim().replace(/\W+/g, '_');
  return reserved.check(fn, 'es2015', true) || /^\d/.test(fn) ? '_' + fn : fn;
};

/** Utility formatter function for enforcing Bidi Structured Text by using UCC
 *
 *  List inlined from data extracted from CLDR v27 & v28
 *  To verify/recreate, use the following:
 *
 *     git clone https://github.com/unicode-cldr/cldr-misc-full.git
 *     cd cldr-misc-full/main/
 *     grep characterOrder -r . | tr '"/' '\t' | cut -f2,6 | grep -C4 right-to-left
 */
Compiler.bidiMarkText = function(text, locale) {
  function isLocaleRTL(locale) {
    var rtlLanguages = [
      'ar',
      'ckb',
      'fa',
      'he',
      'ks($|[^bfh])',
      'lrc',
      'mzn',
      'pa-Arab',
      'ps',
      'ug',
      'ur',
      'uz-Arab',
      'yi'
    ];
    return new RegExp('^' + rtlLanguages.join('|^')).test(locale);
  }
  var mark = JSON.stringify(isLocaleRTL(locale) ? '\u200F' : '\u200E');
  return mark + ' + ' + text + ' + ' + mark;
};

/** @private */
Compiler.prototype.cases = function(token, plural) {
  var needOther = token.type === 'select' || !this.mf.hasCustomPluralFuncs;
  var r = token.cases.map(function(c) {
    if (c.key === 'other') needOther = false;
    var s = c.tokens.map(function(tok) {
      return this.token(tok, plural);
    }, this);
    return Compiler.propname(c.key) + ': ' + (s.join(' + ') || '""');
  }, this);
  if (needOther)
    throw new Error("No 'other' form found in " + JSON.stringify(token));
  return '{ ' + r.join(', ') + ' }';
};

/** @private */
Compiler.prototype.token = function(token, plural) {
  if (typeof token == 'string') return JSON.stringify(token);

  var fn,
    args = [Compiler.propname(token.arg, 'd')];
  switch (token.type) {
    case 'argument':
      return this.mf.bidiSupport
        ? Compiler.bidiMarkText(args[0], this.lc)
        : args[0];

    case 'select':
      fn = 'select';
      if (plural && this.mf.strictNumberSign) plural = null;
      args.push(this.cases(token, plural));
      this.runtime.select = true;
      break;

    case 'selectordinal':
      fn = 'plural';
      args.push(0, Compiler.funcname(this.lc), this.cases(token, token), 1);
      this.locales[this.lc] = true;
      this.runtime.plural = true;
      break;

    case 'plural':
      fn = 'plural';
      args.push(
        token.offset || 0,
        Compiler.funcname(this.lc),
        this.cases(token, token)
      );
      this.locales[this.lc] = true;
      this.runtime.plural = true;
      break;

    case 'function':
      if (
        !(token.key in this.mf.fmt) &&
        token.key in this.mf.constructor.formatters
      ) {
        var fmt = this.mf.constructor.formatters[token.key];
        this.mf.fmt[token.key] = fmt(this.mf);
      }
      if (!this.mf.fmt[token.key])
        throw new Error(
          'Formatting function ' + JSON.stringify(token.key) + ' not found!'
        );
      args.push(JSON.stringify(this.lc));
      if (token.param) {
        if (plural && this.mf.strictNumberSign) plural = null;
        var s = token.param.tokens.map(function(tok) {
          return this.token(tok, plural);
        }, this);
        args.push('(' + (s.join(' + ') || '""') + ').trim()');
      }
      fn = Compiler.propname(token.key, 'fmt');
      this.formatters[token.key] = true;
      break;

    case 'octothorpe':
      if (!plural) return '"#"';
      fn = 'number';
      args = [Compiler.propname(plural.arg, 'd'), JSON.stringify(plural.arg)];
      if (plural.offset) args.push(plural.offset);
      this.runtime.number = true;
      break;
  }

  if (!fn) throw new Error('Parser error for token ' + JSON.stringify(token));
  return fn + '(' + args.join(', ') + ')';
};

/** Recursively compile a string or a tree of strings to JavaScript function sources
 *
 *  If `src` is an object with a key that is also present in `plurals`, the key
 *  in question will be used as the locale identifier for its value. To disable
 *  the compile-time checks for plural & selectordinal keys while maintaining
 *  multi-locale support, use falsy values in `plurals`.
 *
 * @param {string|object} src - the source for which the JS code should be generated
 * @param {string} lc - the default locale
 * @param {object} plurals - a map of pluralization keys for all available locales
 */
Compiler.prototype.compile = function(src, lc, plurals) {
  if (typeof src != 'object') {
    this.lc = lc;
    var pc = plurals[lc] || { cardinal: [], ordinal: [] };
    pc.strict = !!this.mf.strictNumberSign;
    var r = parse(src, pc).map(function(token) {
      return this.token(token);
    }, this);
    return 'function(d) { return ' + (r.join(' + ') || '""') + '; }';
  } else {
    var result = {};
    for (var key in src) {
      var lcKey = plurals.hasOwnProperty(key) ? key : lc;
      result[key] = this.compile(src[key], lcKey, plurals);
    }
    return result;
  }
};


/***/ }),

/***/ "./node_modules/messageformat/lib/formatters/date.js":
/*!***********************************************************!*\
  !*** ./node_modules/messageformat/lib/formatters/date.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* eslint-disable no-fallthrough */

/** Represent a date as a short/default/long/full string
 *
 * The input value needs to be in a form that the
 * {@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Date Date object}
 * can process using its single-argument form, `new Date(value)`.
 *
 * @memberof Formatters
 * @param {number|string} value - Either a Unix epoch time in milliseconds, or a string value representing a date
 * @param {string} [type='default'] - One of `'short'`, `'default'`, `'long'` , or `full`
 *
 * @example
 * var mf = new MessageFormat(['en', 'fi']);
 *
 * mf.compile('Today is {T, date}')({ T: Date.now() })
 * // 'Today is Feb 21, 2016'
 *
 * mf.compile('Tänään on {T, date}', 'fi')({ T: Date.now() })
 * // 'Tänään on 21. helmikuuta 2016'
 *
 * mf.compile('Unix time started on {T, date, full}')({ T: 0 })
 * // 'Unix time started on Thursday, January 1, 1970'
 *
 * var cf = mf.compile('{sys} became operational on {d0, date, short}');
 * cf({ sys: 'HAL 9000', d0: '12 January 1999' })
 * // 'HAL 9000 became operational on 1/12/1999'
 */
function date(v, lc, p) {
  var o = { day: 'numeric', month: 'short', year: 'numeric' };
  switch (p) {
    case 'full':
      o.weekday = 'long';
    case 'long':
      o.month = 'long';
      break;
    case 'short':
      o.month = 'numeric';
  }
  return new Date(v).toLocaleDateString(lc, o);
}

module.exports = function() {
  return date;
};


/***/ }),

/***/ "./node_modules/messageformat/lib/formatters/duration.js":
/*!***************************************************************!*\
  !*** ./node_modules/messageformat/lib/formatters/duration.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * Represent a duration in seconds as a string
 *
 * Input should be a finite number; output will include one or two `:`
 * separators, and match the pattern `hhhh:mm:ss`, possibly with a leading `-`
 * for negative values and a trailing `.sss` part for non-integer input
 *
 * @memberof Formatters
 * @param {number|string} value - A finite number, or its string representation
 *
 * @example
 * var mf = new MessageFormat();
 *
 * mf.compile('It has been {D, duration}')({ D: 123 })
 * // 'It has been 2:03'
 *
 * mf.compile('Countdown: {D, duration}')({ D: -151200.42 })
 * // 'Countdown: -42:00:00.420'
 */
function duration(value) {
  if (!isFinite(value)) return String(value);
  var sign = '';
  if (value < 0) {
    sign = '-';
    value = Math.abs(value);
  } else {
    value = Number(value);
  }
  var sec = value % 60;
  var parts = [Math.round(sec) === sec ? sec : sec.toFixed(3)];
  if (value < 60) {
    parts.unshift(0); // at least one : is required
  } else {
    value = Math.round((value - parts[0]) / 60);
    parts.unshift(value % 60); // minutes
    if (value >= 60) {
      value = Math.round((value - parts[0]) / 60);
      parts.unshift(value); // hours
    }
  }
  var first = parts.shift();
  return (
    sign +
    first +
    ':' +
    parts
      .map(function(n) {
        return n < 10 ? '0' + String(n) : String(n);
      })
      .join(':')
  );
}

module.exports = function() {
  return duration;
};


/***/ }),

/***/ "./node_modules/messageformat/lib/formatters/index.js":
/*!************************************************************!*\
  !*** ./node_modules/messageformat/lib/formatters/index.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/**
 * @classdesc
 * Default number formatting functions in the style of ICU's
 * {@link http://icu-project.org/apiref/icu4j/com/ibm/icu/text/MessageFormat.html simpleArg syntax}
 * implemented using the
 * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl Intl}
 * object defined by ECMA-402.
 *
 * In MessageFormat source, a formatter function is called with the syntax
 * `{var, name, arg}`, where `var` is a variable, `name` is the formatter name
 * (by default, either `date`, `duration`, `number` or `time`; `spellout` and
 * `ordinal` are not supported by default), and `arg` is an optional string
 * argument.
 *
 * In JavaScript, a formatter is a function called with three parameters:
 *   - The **`value`** of the variable; this can be of any user-defined type
 *   - The current **`locale`** code
 *   - The trimmed **`arg`** string value, or `null` if not set
 *
 * As formatter functions may be used in a precompiled context, they should not
 * refer to any variables that are not defined by the function parameters or
 * within the function body. To add your own formatter, either add it to the
 * static `MessageFormat.formatters` object, or use
 * {@link MessageFormat#addFormatters} to add it to a MessageFormat instance.
 *
 * @class Formatters
 * @private
 * @hideconstructor
 */

module.exports = {
  date: __webpack_require__(/*! ./date */ "./node_modules/messageformat/lib/formatters/date.js"),
  duration: __webpack_require__(/*! ./duration */ "./node_modules/messageformat/lib/formatters/duration.js"),
  number: __webpack_require__(/*! ./number */ "./node_modules/messageformat/lib/formatters/number.js"),
  time: __webpack_require__(/*! ./time */ "./node_modules/messageformat/lib/formatters/time.js")
};


/***/ }),

/***/ "./node_modules/messageformat/lib/formatters/number.js":
/*!*************************************************************!*\
  !*** ./node_modules/messageformat/lib/formatters/number.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* global CURRENCY, Intl */

/** Represent a number as an integer, percent or currency value
 *
 *  Available in MessageFormat strings as `{VAR, number, integer|percent|currency}`.
 *  Internally, calls Intl.NumberFormat with appropriate parameters. `currency` will
 *  default to USD; to change, set `MessageFormat#currency` to the appropriate
 *  three-letter currency code, or use the `currency:EUR` form of the argument.
 *
 * @memberof Formatters
 * @param {number} value - The value to operate on
 * @param {string} type - One of `'integer'`, `'percent'` , `'currency'`, or `/currency:[A-Z]{3}/`
 *
 * @example
 * var mf = new MessageFormat('en');
 * mf.currency = 'EUR';  // needs to be set before first compile() call
 *
 * mf.compile('{N} is almost {N, number, integer}')({ N: 3.14 })
 * // '3.14 is almost 3'
 *
 * mf.compile('{P, number, percent} complete')({ P: 0.99 })
 * // '99% complete'
 *
 * mf.compile('The total is {V, number, currency}.')({ V: 5.5 })
 * // 'The total is €5.50.'
 *
 * mf.compile('The total is {V, number, currency:GBP}.')({ V: 5.5 })
 * // 'The total is £5.50.'
 */

function number(value, lc, arg) {
  var a = (arg && arg.split(':')) || [];
  var opt = {
    integer: { maximumFractionDigits: 0 },
    percent: { style: 'percent' },
    currency: {
      style: 'currency',
      currency: (a[1] && a[1].trim()) || CURRENCY,
      minimumFractionDigits: 2,
      maximumFractionDigits: 2
    }
  };
  return new Intl.NumberFormat(lc, opt[a[0]] || {}).format(value);
}

module.exports = function(mf) {
  var parts = number
    .toString()
    .replace('CURRENCY', JSON.stringify(mf.currency || 'USD'))
    .match(/\(([^)]*)\)[^{]*{([\s\S]*)}/);
  return new Function(parts[1], parts[2]);
};


/***/ }),

/***/ "./node_modules/messageformat/lib/formatters/time.js":
/*!***********************************************************!*\
  !*** ./node_modules/messageformat/lib/formatters/time.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/** Represent a time as a short/default/long string
 *
 * The input value needs to be in a form that the
 * {@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Date Date object}
 * can process using its single-argument form, `new Date(value)`.
 *
 * @memberof Formatters
 * @param {number|string} value - Either a Unix epoch time in milliseconds, or a string value representing a date
 * @param {string} [type='default'] - One of `'short'`, `'default'`, `'long'` , or `full`
 *
 * @example
 * var mf = new MessageFormat(['en', 'fi']);
 *
 * mf.compile('The time is now {T, time}')({ T: Date.now() })
 * // 'The time is now 11:26:35 PM'
 *
 * mf.compile('Kello on nyt {T, time}', 'fi')({ T: Date.now() })
 * // 'Kello on nyt 23.26.35'
 *
 * var cf = mf.compile('The Eagle landed at {T, time, full} on {T, date, full}');
 * cf({ T: '1969-07-20 20:17:40 UTC' })
 * // 'The Eagle landed at 10:17:40 PM GMT+2 on Sunday, July 20, 1969'
 */
function time(v, lc, p) {
  var o = { second: 'numeric', minute: 'numeric', hour: 'numeric' };
  switch (p) {
    case 'full':
    case 'long':
      o.timeZoneName = 'short';
      break;
    case 'short':
      delete o.second;
  }
  return new Date(v).toLocaleTimeString(lc, o);
}

module.exports = function() {
  return time;
};


/***/ }),

/***/ "./node_modules/messageformat/lib/messageformat.js":
/*!*********************************************************!*\
  !*** ./node_modules/messageformat/lib/messageformat.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var Compiler = __webpack_require__(/*! ./compiler */ "./node_modules/messageformat/lib/compiler.js");
var formatters = __webpack_require__(/*! ./formatters */ "./node_modules/messageformat/lib/formatters/index.js");
var Plurals = __webpack_require__(/*! ./plurals */ "./node_modules/messageformat/lib/plurals.js");
var Runtime = __webpack_require__(/*! ./runtime */ "./node_modules/messageformat/lib/runtime.js");

/**
 * Create a new MessageFormat compiler
 *
 * If set, the `locale` parameter limits the compiler to use a subset of the 204
 * languages' pluralisation rules made available by the Unicode CLDR.
 *
 * Leaving `locale` undefined or using an array of strings will create a
 * MessageFormat instance with multi-language support. To select which to use,
 * use the second parameter of `{@link MessageFormat#compile compile()}`, or use
 * message keys corresponding to your locales. The default locale will be the
 * first entry of the array, or `{@link MessageFormat.defaultLocale defaultLocale}`
 * if not set.
 *
 * A string `locale` will create a single-locale MessageFormat instance.
 *
 * Using an object `locale` with all properties of type `function` allows for
 * the use of custom or externally defined pluralisation rules; in this case
 *
 * @class
 * @param {string|string[]|Object} [locale] - The locale(s) to use
 *
 * @classdesc MessageFormat-to-JavaScript compiler
 *
 * ```
 * import MessageFormat from 'messageformat'
 * ```
 */
function MessageFormat(locale) {
  this.pluralFuncs = {};
  if (typeof locale === 'string') {
    this.pluralFuncs[locale] = Plurals.get(locale);
    this.defaultLocale = locale;
  } else if (Array.isArray(locale)) {
    locale.forEach(function(lc) {
      this.pluralFuncs[lc] = Plurals.get(lc);
    }, this);
    this.defaultLocale = locale[0];
  } else {
    for (var lc in locale)
      if (locale.hasOwnProperty(lc)) {
        if (typeof locale[lc] !== 'function') {
          throw new Error(
            'Expected function value for locale ' + JSON.stringify(lc)
          );
        }
        this.pluralFuncs[lc] = locale[lc];
        if (!this.defaultLocale) this.defaultLocale = lc;
      }
    if (this.defaultLocale) {
      this.hasCustomPluralFuncs = true;
    } else {
      this.defaultLocale = MessageFormat.defaultLocale;
    }
  }
  this.fmt = {};
  this.runtime = new Runtime(this);
}

/**
 * The default locale
 *
 * Used by the constructor when no `locale` has been set to initialise the value
 * of its instance counterpart, `MessageFormat#defaultLocale`.
 *
 * @memberof MessageFormat
 * @default 'en'
 */
MessageFormat.defaultLocale = 'en';

/** Escape special characaters
 *
 *  Surround the characters `{` and `}` in the input string with 'quotes'.
 *  This will allow those characters to not be considered as MessageFormat
 *  control characters.
 *
 * @param {string} str - The input string
 * @param {boolean} [octothorpe=false] - Include `#` in the escaped characters
 * @returns {string} The escaped string
 */
MessageFormat.escape = function(str, octothorpe) {
  var esc = octothorpe ? '[#{}]' : '[{}]';
  return String(str).replace(new RegExp(esc, 'g'), "'$&'");
};

MessageFormat.formatters = formatters;

/**
 * Add custom formatter functions to this MessageFormat instance. See the
 * {@tutorial guide} for more details.
 *
 * The general syntax for calling a formatting function in MessageFormat is
 * `{var, fn[, arg]}`, where `var` is the variable that will be set by the
 * user code, `fn` determines the formatting function, and `arg` is an
 * optional string argument.
 *
 * In JavaScript, each formatting function is called with three parameters;
 * the variable value `v`, the current locale `lc`, and `arg` as a string, or
 * undefined if not set. `arg` will be trimmed of surrounding whitespace.
 * Formatting functions should not have side effects.
 *
 * @memberof MessageFormat
 * @param {Object.<string,function>} fmt - A map of formatting functions
 * @returns {MessageFormat} The MessageFormat instance, to allow for chaining
 *
 * @example
 * const mf = new MessageFormat('en-GB')
 * mf.addFormatters({
 *   upcase: function(v) { return v.toUpperCase() },
 *   locale: function(v, lc) { return lc },
 *   prop: function(v, lc, p) { return v[p] }
 * })
 * const messages = mf.compile({
 *   describe: 'This is {VAR, upcase}.',
 *   locale: 'The current locale is {_, locale}.',
 *   answer: 'Answer: {obj, prop, a}'
 * }
 *
 * messages.describe({ VAR: 'big' })        // 'This is BIG.'
 * messages.locale({})                      // 'The current locale is en-GB.'
 * messages.answer({ obj: {q: 3, a: 42} })  // 'Answer: 42'
 */
MessageFormat.prototype.addFormatters = function(fmt) {
  for (var name in fmt)
    if (fmt.hasOwnProperty(name)) {
      this.fmt[name] = fmt[name];
    }
  return this;
};

/** Disable the validation of plural & selectordinal keys
 *
 *  Previous versions of messageformat allowed the use of plural &
 *  selectordinal statements with any keys; now we throw an error when a
 *  statement uses a non-numerical key that will never be matched as a
 *  pluralization category for the current locale.
 *
 *  Use this method to disable the validation and allow usage as previously.
 *  To re-enable, you'll need to create a new MessageFormat instance.
 *
 * @returns {MessageFormat} The MessageFormat instance, to allow for chaining
 *
 * @example
 * const mf = new MessageFormat('en')
 * const msg = '{X, plural, zero{no answers} one{an answer} other{# answers}}'
 *
 * mf.compile(msg)
 * // Error: Invalid key `zero` for argument `X`. Valid plural keys for this
 * //        locale are `one`, `other`, and explicit keys like `=0`.
 *
 * mf.disablePluralKeyChecks()
 * mf.compile(msg)({ X: 0 })  // '0 answers'
 */
MessageFormat.prototype.disablePluralKeyChecks = function() {
  this.noPluralKeyChecks = true;
  for (var lc in this.pluralFuncs)
    if (this.pluralFuncs.hasOwnProperty(lc)) {
      this.pluralFuncs[lc].cardinal = [];
      this.pluralFuncs[lc].ordinal = [];
    }
  return this;
};

/** Enable or disable the addition of Unicode control characters to all input
 *  to preserve the integrity of the output when mixing LTR and RTL text.
 *
 * @see http://cldr.unicode.org/development/development-process/design-proposals/bidi-handling-of-structured-text
 *
 * @memberof MessageFormat
 * @param {boolean} [enable=true]
 * @returns {MessageFormat} The MessageFormat instance, to allow for chaining
 *
 * @example
 * // upper case stands for RTL characters, output is shown as rendered
 * const mf = new MessageFormat('en')
 *
 * mf.compile('{0} >> {1} >> {2}')(['first', 'SECOND', 'THIRD'])
 *   // 'first >> THIRD << SECOND'
 *
 * mf.setBiDiSupport(true)
 * mf.compile('{0} >> {1} >> {2}')(['first', 'SECOND', 'THIRD'])
 *   // 'first >> SECOND >> THIRD'
 */
MessageFormat.prototype.setBiDiSupport = function(enable) {
  this.bidiSupport = !!enable || typeof enable == 'undefined';
  return this;
};

/** According to the ICU MessageFormat spec, a `#` character directly inside a
 *  `plural` or `selectordinal` statement should be replaced by the number
 *  matching the surrounding statement. By default, messageformat will replace
 *  `#` signs with the value of the nearest surrounding `plural` or
 *  `selectordinal` statement.
 *
 *  Set this to true to follow the stricter ICU MessageFormat spec, and to
 *  throw a runtime error if `#` is used with non-numeric input.
 *
 * @memberof MessageFormat
 * @param {boolean} [enable=true]
 * @returns {MessageFormat} The MessageFormat instance, to allow for chaining
 *
 * @example
 * const mf = new MessageFormat('en')
 * const src = {
 *   cookie: '#: {X, plural, =0{no cookies} one{a cookie} other{# cookies}}',
 *   pastry: `{X, plural,
 *     one {{P, select, cookie{a cookie} other{a pie}}}
 *     other {{P, select, cookie{# cookies} other{# pies}}}
 *   }`
 * }
 * let messages = mf.compile(src)
 *
 * messages.cookie({ X: 3 })            // '#: 3 cookies'
 * messages.pastry({ X: 3, P: 'pie' })  // '3 pies'
 *
 * mf.setStrictNumberSign(true)
 * messages = mf.compile(src)
 * messages.pastry({ X: 3, P: 'pie' })  // '# pies'
 */
MessageFormat.prototype.setStrictNumberSign = function(enable) {
  this.strictNumberSign = !!enable || typeof enable == 'undefined';
  this.runtime.setStrictNumber(this.strictNumberSign);
  return this;
};

/** Compile messages into storable functions
 *
 *  If `messages` is a single string including ICU MessageFormat declarations,
 *  the result of `compile()` is a function taking a single Object parameter
 *  `d` representing each of the input's defined variables.
 *
 *  If `messages` is a hierarchical structure of such strings, the output of
 *  `compile()` will match that structure, with each string replaced by its
 *  corresponding JavaScript function.
 *
 *  If the input `messages` -- and therefore the output -- of `compile()` is an
 *  object, the output object will have a `toString(global)` method that may be
 *  used to store or cache the compiled functions to disk, for later inclusion
 *  in any JS environment, without a local MessageFormat instance required. If
 *  its `global` parameter is null or undefined, the result is an ES6 module
 *  with a default export. If `global` is a string containing `.`, the result
 *  will be a script setting its value. Otherwise, the output defaults to an UMD
 *  pattern that sets the value of `global` if used outside of AMD and CommonJS
 *  loaders.
 *
 *  If `locale` is not set, it will default to
 *  `{@link MessageFormat.defaultLocale defaultLocale}`; using a key at any
 *  depth of `messages` that is a declared locale will set its child elements to
 *  use that locale.
 *
 *  If `locale` is set, it is used for all messages, ignoring any otherwise
 *  matching locale keys. If the constructor declared any locales, `locale`
 *  needs to be one of them.
 *
 *  If `compile()` is called with a `messages` object on a MessageFormat
 *  instance that does not specify any locales, it will match keys to *all* 204
 *  available locales. This is really useful if you want your messages to be
 *  completely determined by your data, but may provide surprising results if
 *  your input includes any 2-3 letter strings that are not locale identifiers.
 *
 * @memberof MessageFormat
 * @param {string|Object} messages - The input message(s) to be compiled, in ICU MessageFormat
 * @param {string} [locale] - A locale to use for the messages
 * @returns {function|Object} The first match found for the given locale(s)
 *
 * @example
 * const mf = new MessageFormat('en')
 * const msg = mf.compile('A {TYPE} example.')
 *
 * msg({ TYPE: 'simple' })  // 'A simple example.'
 *
 * @example
 * const mf = new MessageFormat(['en', 'fi'])
 * const messages = mf.compile({
 *   en: { a: 'A {TYPE} example.',
 *         b: 'This is the {COUNT, selectordinal, one{#st} two{#nd} few{#rd} other{#th}} example.' },
 *   fi: { a: '{TYPE} esimerkki.',
 *         b: 'Tämä on {COUNT, selectordinal, other{#.}} esimerkki.' }
 * })
 *
 * messages.en.b({ COUNT: 2 })  // 'This is the 2nd example.'
 * messages.fi.b({ COUNT: 2 })  // 'Tämä on 2. esimerkki.'
 *
 * @example
 * const fs = require('fs')
 * const mf = new MessageFormat('en')
 * const msgSet = {
 *   a: 'A {TYPE} example.',
 *   b: 'This has {COUNT, plural, one{one member} other{# members}}.',
 *   c: 'We have {P, number, percent} code coverage.'
 * }
 * const msgStr = mf.compile(msgSet).toString('module.exports')
 * fs.writeFileSync('messages.js', msgStr)
 *
 * ...
 *
 * const messages = require('./messages')
 *
 * messages.a({ TYPE: 'more complex' })  // 'A more complex example.'
 * messages.b({ COUNT: 3 })              // 'This has 3 members.'
 */
MessageFormat.prototype.compile = function(messages, locale) {
  function _stringify(obj, level) {
    if (!level) level = 0;
    if (typeof obj != 'object') return obj;
    var o = [],
      indent = '';
    for (var i = 0; i < level; ++i) indent += '  ';
    for (var k in obj)
      o.push(
        '\n' +
          indent +
          '  ' +
          Compiler.propname(k) +
          ': ' +
          _stringify(obj[k], level + 1)
      );
    return '{' + o.join(',') + '\n' + indent + '}';
  }

  var pf = {};
  if (Object.keys(this.pluralFuncs).length === 0) {
    if (locale) {
      var pfn0 = Plurals.get(locale, this.noPluralKeyChecks);
      if (!pfn0)
        throw new Error('Locale ' + JSON.stringify(locale) + ' not found!');
      pf[locale] = pfn0;
    } else {
      locale = this.defaultLocale;
      pf = Plurals.getAll(this.noPluralKeyChecks);
    }
  } else if (locale) {
    var pfn1 = this.pluralFuncs[locale];
    if (!pfn1)
      throw new Error(
        'Locale ' +
          JSON.stringify(locale) +
          ' not found in ' +
          JSON.stringify(this.pluralFuncs) +
          '!'
      );
    pf[locale] = pfn1;
  } else {
    locale = this.defaultLocale;
    pf = this.pluralFuncs;
  }

  var compiler = new Compiler(this);
  var obj = compiler.compile(messages, locale, pf);

  if (typeof messages != 'object') {
    var fn = new Function(
      'number, plural, select, fmt',
      Compiler.funcname(locale),
      'return ' + obj
    );
    var rt = this.runtime;
    return fn(rt.number, rt.plural, rt.select, this.fmt, pf[locale]);
  }

  var rtStr = this.runtime.toString(pf, compiler) + '\n';
  var objStr = _stringify(obj);
  var result = new Function(rtStr + 'return ' + objStr)();
  if (result.hasOwnProperty('toString'))
    throw new Error('The top-level message key `toString` is reserved');

  result.toString = function(global) {
    if (!global || global === 'export default') {
      return rtStr + 'export default ' + objStr;
    } else if (global.indexOf('.') > -1) {
      return rtStr + global + ' = ' + objStr;
    } else {
      return (
        rtStr +
        [
          '(function (root, G) {',
          '  if (typeof define === "function" && define.amd) { define(G); }',
          '  else if (typeof exports === "object") { module.exports = G; }',
          '  else { ' + Compiler.propname(global, 'root') + ' = G; }',
          '})(this, ' + objStr + ');'
        ].join('\n')
      );
    }
  };
  return result;
};

module.exports = MessageFormat;


/***/ }),

/***/ "./node_modules/messageformat/lib/plurals.js":
/*!***************************************************!*\
  !*** ./node_modules/messageformat/lib/plurals.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var categories = __webpack_require__(/*! make-plural/umd/pluralCategories */ "./node_modules/make-plural/umd/pluralCategories.js");
var plurals = __webpack_require__(/*! make-plural/umd/plurals */ "./node_modules/make-plural/umd/plurals.js");

/**
 * @class
 * @private
 * @hideconstructor
 * @classdesc Utility getter/wrapper for pluralization functions from
 * {@link http://github.com/eemeli/make-plural.js make-plural}
 */

function wrapPluralFunc(lc, pf, noPluralKeyChecks) {
  var fn = function() {
    return pf.apply(this, arguments);
  };
  fn.toString = function() {
    return pf.toString();
  };
  if (noPluralKeyChecks) {
    fn.cardinal = [];
    fn.ordinal = [];
  } else {
    var pc = categories[lc] || {};
    fn.cardinal = pc.cardinal;
    fn.ordinal = pc.ordinal;
  }
  return fn;
}

function get(locale, noPluralKeyChecks) {
  for (var l = locale; l; l = l.replace(/[-_]?[^-_]*$/, '')) {
    var pf = plurals[l];
    if (pf) return wrapPluralFunc(l, pf, noPluralKeyChecks);
  }
  throw new Error(
    'Localisation function not found for locale ' + JSON.stringify(locale)
  );
}

function getAll(noPluralKeyChecks) {
  return Object.keys(plurals).reduce(function(locales, lc) {
    locales[lc] = wrapPluralFunc(lc, plurals[lc], noPluralKeyChecks);
    return locales;
  }, {});
}

module.exports = {
  get: get,
  getAll: getAll
};


/***/ }),

/***/ "./node_modules/messageformat/lib/runtime.js":
/*!***************************************************!*\
  !*** ./node_modules/messageformat/lib/runtime.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var Compiler = __webpack_require__(/*! ./compiler */ "./node_modules/messageformat/lib/compiler.js");

/** A set of utility functions that are called by the compiled Javascript
 *  functions, these are included locally in the output of {@link
 *  MessageFormat#compile compile()}.
 *
 * @class
 * @private
 * @param {MessageFormat} mf - A MessageFormat instance
 */
function Runtime(mf) {
  this.mf = mf;
  this.setStrictNumber(mf.strictNumberSign);
}

module.exports = Runtime;

/** Utility function for `#` in plural rules
 *
 *  Will throw an Error if `value` has a non-numeric value and `offset` is
 *  non-zero or {@link MessageFormat#setStrictNumberSign} is set.
 *
 * @function Runtime#number
 * @param {number} value - The value to operate on
 * @param {string} name - The name of the argument, used for error reporting
 * @param {number} [offset=0] - An optional offset, set by the surrounding context
 * @returns {number|string} The result of applying the offset to the input value
 */
function defaultNumber(value, name, offset) {
  if (!offset) return value;
  if (isNaN(value))
    throw new Error(
      "Can't apply offset:" +
        offset +
        ' to argument `' +
        name +
        '` with non-numerical value ' +
        JSON.stringify(value) +
        '.'
    );
  return value - offset;
}

/** @private */
function strictNumber(value, name, offset) {
  if (isNaN(value))
    throw new Error(
      'Argument `' +
        name +
        '` has non-numerical value ' +
        JSON.stringify(value) +
        '.'
    );
  return value - (offset || 0);
}

/** Set how strictly the {@link number} method parses its input.
 *
 *  According to the ICU MessageFormat spec, `#` can only be used to replace a
 *  number input of a `plural` statement. By default, messageformat does not
 *  throw a runtime error if you use non-numeric argument with a `plural` rule,
 *  unless rule also includes a non-zero `offset`.
 *
 *  This is called by {@link MessageFormat#setStrictNumberSign} to follow the
 *  stricter ICU MessageFormat spec.
 *
 * @param {boolean} [enable=false]
 */
Runtime.prototype.setStrictNumber = function(enable) {
  this.number = enable ? strictNumber : defaultNumber;
};

/** Utility function for `{N, plural|selectordinal, ...}`
 *
 * @param {number} value - The key to use to find a pluralization rule
 * @param {number} offset - An offset to apply to `value`
 * @param {function} lcfunc - A locale function from `pluralFuncs`
 * @param {Object.<string,string>} data - The object from which results are looked up
 * @param {?boolean} isOrdinal - If true, use ordinal rather than cardinal rules
 * @returns {string} The result of the pluralization
 */
Runtime.prototype.plural = function(value, offset, lcfunc, data, isOrdinal) {
  if ({}.hasOwnProperty.call(data, value)) return data[value];
  if (offset) value -= offset;
  var key = lcfunc(value, isOrdinal);
  if (key in data) return data[key];
  return data.other;
};

/** Utility function for `{N, select, ...}`
 *
 * @param {number} value - The key to use to find a selection
 * @param {Object.<string,string>} data - The object from which results are looked up
 * @returns {string} The result of the select statement
 */
Runtime.prototype.select = function(value, data) {
  if ({}.hasOwnProperty.call(data, value)) return data[value];
  return data.other;
};

/** @private */
Runtime.prototype.toString = function(pluralFuncs, compiler) {
  function _stringify(o, level) {
    if (typeof o != 'object') {
      var funcStr = o.toString().replace(/^(function )\w*/, '$1');
      var funcIndent = /([ \t]*)\S.*$/.exec(funcStr);
      return funcIndent
        ? funcStr.replace(new RegExp('^' + funcIndent[1], 'mg'), '')
        : funcStr;
    }
    var s = [];
    for (var i in o) {
      if (level === 0)
        s.push('var ' + i + ' = ' + _stringify(o[i], level + 1) + ';\n');
      else s.push(Compiler.propname(i) + ': ' + _stringify(o[i], level + 1));
    }
    if (level === 0) return s.join('');
    if (s.length === 0) return '{}';
    var indent = '  ';
    while (--level) indent += '  ';
    return '{\n' + s.join(',\n').replace(/^/gm, indent) + '\n}';
  }

  var obj = {};
  Object.keys(compiler.locales).forEach(function(lc) {
    obj[Compiler.funcname(lc)] = pluralFuncs[lc];
  });
  Object.keys(compiler.runtime).forEach(function(fn) {
    obj[fn] = this[fn];
  }, this);
  var fmtKeys = Object.keys(compiler.formatters);
  var fmt = this.mf.fmt;
  if (fmtKeys.length)
    obj.fmt = fmtKeys.reduce(function(o, key) {
      o[key] = fmt[key];
      return o;
    }, {});
  return _stringify(obj, 0);
};


/***/ }),

/***/ "./node_modules/process/browser.js":
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };


/***/ }),

/***/ "./node_modules/reselect/es/index.js":
/*!*******************************************!*\
  !*** ./node_modules/reselect/es/index.js ***!
  \*******************************************/
/*! exports provided: defaultMemoize, createSelectorCreator, createSelector, createStructuredSelector */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "defaultMemoize", function() { return defaultMemoize; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createSelectorCreator", function() { return createSelectorCreator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createSelector", function() { return createSelector; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createStructuredSelector", function() { return createStructuredSelector; });
function defaultEqualityCheck(a, b) {
  return a === b;
}

function areArgumentsShallowlyEqual(equalityCheck, prev, next) {
  if (prev === null || next === null || prev.length !== next.length) {
    return false;
  }

  // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.
  var length = prev.length;
  for (var i = 0; i < length; i++) {
    if (!equalityCheck(prev[i], next[i])) {
      return false;
    }
  }

  return true;
}

function defaultMemoize(func) {
  var equalityCheck = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultEqualityCheck;

  var lastArgs = null;
  var lastResult = null;
  // we reference arguments instead of spreading them for performance reasons
  return function () {
    if (!areArgumentsShallowlyEqual(equalityCheck, lastArgs, arguments)) {
      // apply arguments instead of spreading for performance.
      lastResult = func.apply(null, arguments);
    }

    lastArgs = arguments;
    return lastResult;
  };
}

function getDependencies(funcs) {
  var dependencies = Array.isArray(funcs[0]) ? funcs[0] : funcs;

  if (!dependencies.every(function (dep) {
    return typeof dep === 'function';
  })) {
    var dependencyTypes = dependencies.map(function (dep) {
      return typeof dep;
    }).join(', ');
    throw new Error('Selector creators expect all input-selectors to be functions, ' + ('instead received the following types: [' + dependencyTypes + ']'));
  }

  return dependencies;
}

function createSelectorCreator(memoize) {
  for (var _len = arguments.length, memoizeOptions = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    memoizeOptions[_key - 1] = arguments[_key];
  }

  return function () {
    for (var _len2 = arguments.length, funcs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      funcs[_key2] = arguments[_key2];
    }

    var recomputations = 0;
    var resultFunc = funcs.pop();
    var dependencies = getDependencies(funcs);

    var memoizedResultFunc = memoize.apply(undefined, [function () {
      recomputations++;
      // apply arguments instead of spreading for performance.
      return resultFunc.apply(null, arguments);
    }].concat(memoizeOptions));

    // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.
    var selector = memoize(function () {
      var params = [];
      var length = dependencies.length;

      for (var i = 0; i < length; i++) {
        // apply arguments instead of spreading and mutate a local list of params for performance.
        params.push(dependencies[i].apply(null, arguments));
      }

      // apply arguments instead of spreading for performance.
      return memoizedResultFunc.apply(null, params);
    });

    selector.resultFunc = resultFunc;
    selector.dependencies = dependencies;
    selector.recomputations = function () {
      return recomputations;
    };
    selector.resetRecomputations = function () {
      return recomputations = 0;
    };
    return selector;
  };
}

var createSelector = createSelectorCreator(defaultMemoize);

function createStructuredSelector(selectors) {
  var selectorCreator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : createSelector;

  if (typeof selectors !== 'object') {
    throw new Error('createStructuredSelector expects first argument to be an object ' + ('where each property is a selector, instead received a ' + typeof selectors));
  }
  var objectKeys = Object.keys(selectors);
  return selectorCreator(objectKeys.map(function (key) {
    return selectors[key];
  }), function () {
    for (var _len3 = arguments.length, values = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      values[_key3] = arguments[_key3];
    }

    return values.reduce(function (composition, value, index) {
      composition[objectKeys[index]] = value;
      return composition;
    }, {});
  });
}

/***/ }),

/***/ "./node_modules/reserved-words/lib/index.js":
/*!**************************************************!*\
  !*** ./node_modules/reserved-words/lib/index.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! ./reserved-words */ "./node_modules/reserved-words/lib/reserved-words.js");


/***/ }),

/***/ "./node_modules/reserved-words/lib/reserved-words.js":
/*!***********************************************************!*\
  !*** ./node_modules/reserved-words/lib/reserved-words.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var assert = __webpack_require__(/*! assert */ "./node_modules/assert/assert.js");

/**
 * Structure for storing keywords.
 *
 * @typedef {Object.<String,Boolean>} KeywordsHash
 */

/**
 * ECMAScript dialects.
 *
 * @const
 * @type {Object.<String,Number|String>} - keys as readable names and values as versions
 */
var DIALECTS = {
    es3: 3,
    es5: 5,
    es2015: 6,
    es7: 7,

    // aliases
    es6: 6,
    'default': 5,
    next: 6
};

/**
 * ECMAScript reserved words.
 *
 * @type {Object.<String,KeywordsHash>}
 */
var KEYWORDS = exports.KEYWORDS = {};

/**
 * Check word for being an reserved word.
 *
 * @param {String} word - word to check
 * @param {String|Number} [dialect] - dialect or version
 * @param {Boolean} [strict] - strict mode
 * @returns {?Boolean}
 */
exports.check = function check(word, dialect, strict) {
    dialect = dialect || DIALECTS.default;
    var version = DIALECTS[dialect] || dialect;

    if (strict && version >= 5) {
        version += '-strict';
    }

    assert(KEYWORDS[version], 'Unknown dialect');

    return KEYWORDS[version].hasOwnProperty(word);
};

/**
 * Reserved Words for ES3
 *
 * ECMA-262 3rd: 7.5.1
 * http://www.ecma-international.org/publications/files/ECMA-ST-ARCH/ECMA-262,%203rd%20edition,%20December%201999.pdf
 *
 * @type {KeywordsHash}
 */
KEYWORDS['3'] = _hash(
    // Keyword, ECMA-262 3rd: 7.5.2
    'break    else       new     var',
    'case     finally    return  void',
    'catch    for        switch  while',
    'continue function   this    with',
    'default  if         throw',
    'delete   in         try',
    'do       instanceof typeof',
    // FutureReservedWord, ECMA-262 3rd 7.5.3
    'abstract enum       int        short',
    'boolean  export     interface  static',
    'byte     extends    long       super',
    'char     final      native     synchronized',
    'class    float      package    throws',
    'const    goto       private    transient',
    'debugger implements protected  volatile',
    'double   import     public',
    // NullLiteral & BooleanLiteral
    'null true false'
);

/**
 * Reserved Words for ES5.
 *
 * http://es5.github.io/#x7.6.1
 *
 * @type {KeywordsHash}
 */
KEYWORDS['5'] = _hash(
    // Keyword
    'break    do       instanceof typeof',
    'case     else     new        var',
    'catch    finally  return     void',
    'continue for      switch     while',
    'debugger function this       with',
    'default  if       throw',
    'delete   in       try',
    // FutureReservedWord
    'class enum extends super',
    'const export import',
    // NullLiteral & BooleanLiteral
    'null true false'
);

/**
 * Reserved Words for ES5 in strict mode.
 *
 * @type {KeywordsHash}
 */
KEYWORDS['5-strict'] = _hash(
    KEYWORDS['5'],
    // FutureReservedWord, strict mode. http://es5.github.io/#x7.6.1.2
    'implements let     private   public yield',
    'interface  package protected static'
);

/**
 * Reserved Words for ES6.
 *
 * 11.6.2
 * http://www.ecma-international.org/ecma-262/6.0/index.html#sec-reserved-words
 *
 * @type {KeywordsHash}
 */
KEYWORDS['6'] = _hash(
    // Keywords, ES6 11.6.2.1, http://www.ecma-international.org/ecma-262/6.0/index.html#sec-keywords
    'break    do       in         typeof',
    'case     else     instanceof var',
    'catch    export   new        void',
    'class    extends  return     while',
    'const    finally  super      with',
    'continue for      switch     yield',
    'debugger function this',
    'default  if       throw',
    'delete   import   try',
    // Future Reserved Words, ES6 11.6.2.2
    // http://www.ecma-international.org/ecma-262/6.0/index.html#sec-future-reserved-words
    'enum await',
    // NullLiteral & BooleanLiteral
    'null true false'
);

/**
 * Reserved Words for ES6 in strict mode.
 *
 * @type {KeywordsHash}
 */
KEYWORDS['6-strict'] = _hash(
    KEYWORDS['6'],
    // Keywords, ES6 11.6.2.1
    'let static',
    // Future Reserved Words, ES6 11.6.2.2
    'implements package protected',
    'interface private public'
);

/**
 * Generates hash from strings
 *
 * @private
 * @param {...String|KeywordsHash} keywords - Space-delimited string or previous result of _hash
 * @return {KeywordsHash} - Object with keywords in keys and true in values
 */
function _hash() {
    var set = Array.prototype.map.call(arguments, function(v) {
        return typeof v === 'string' ? v : Object.keys(v).join(' ');
    }).join(' ');

    return set.split(/\s+/)
        .reduce(function(res, keyword) {
            res[keyword] = true;
            return res;
        }, {});
}


/***/ }),

/***/ "./node_modules/rxjs/_esm5/index.js":
/*!******************************************!*\
  !*** ./node_modules/rxjs/_esm5/index.js ***!
  \******************************************/
/*! exports provided: Observable, ConnectableObservable, GroupedObservable, observable, Subject, BehaviorSubject, ReplaySubject, AsyncSubject, asap, asapScheduler, async, asyncScheduler, queue, queueScheduler, animationFrame, animationFrameScheduler, VirtualTimeScheduler, VirtualAction, Scheduler, Subscription, Subscriber, Notification, NotificationKind, pipe, noop, identity, isObservable, ArgumentOutOfRangeError, EmptyError, ObjectUnsubscribedError, UnsubscriptionError, TimeoutError, bindCallback, bindNodeCallback, combineLatest, concat, defer, empty, forkJoin, from, fromEvent, fromEventPattern, generate, iif, interval, merge, never, of, onErrorResumeNext, pairs, partition, race, range, throwError, timer, using, zip, scheduled, EMPTY, NEVER, config */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _internal_Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal/Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Observable", function() { return _internal_Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"]; });

/* harmony import */ var _internal_observable_ConnectableObservable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./internal/observable/ConnectableObservable */ "./node_modules/rxjs/_esm5/internal/observable/ConnectableObservable.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ConnectableObservable", function() { return _internal_observable_ConnectableObservable__WEBPACK_IMPORTED_MODULE_1__["ConnectableObservable"]; });

/* harmony import */ var _internal_operators_groupBy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./internal/operators/groupBy */ "./node_modules/rxjs/_esm5/internal/operators/groupBy.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "GroupedObservable", function() { return _internal_operators_groupBy__WEBPACK_IMPORTED_MODULE_2__["GroupedObservable"]; });

/* harmony import */ var _internal_symbol_observable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./internal/symbol/observable */ "./node_modules/rxjs/_esm5/internal/symbol/observable.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "observable", function() { return _internal_symbol_observable__WEBPACK_IMPORTED_MODULE_3__["observable"]; });

/* harmony import */ var _internal_Subject__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./internal/Subject */ "./node_modules/rxjs/_esm5/internal/Subject.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Subject", function() { return _internal_Subject__WEBPACK_IMPORTED_MODULE_4__["Subject"]; });

/* harmony import */ var _internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./internal/BehaviorSubject */ "./node_modules/rxjs/_esm5/internal/BehaviorSubject.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BehaviorSubject", function() { return _internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_5__["BehaviorSubject"]; });

/* harmony import */ var _internal_ReplaySubject__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./internal/ReplaySubject */ "./node_modules/rxjs/_esm5/internal/ReplaySubject.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ReplaySubject", function() { return _internal_ReplaySubject__WEBPACK_IMPORTED_MODULE_6__["ReplaySubject"]; });

/* harmony import */ var _internal_AsyncSubject__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./internal/AsyncSubject */ "./node_modules/rxjs/_esm5/internal/AsyncSubject.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AsyncSubject", function() { return _internal_AsyncSubject__WEBPACK_IMPORTED_MODULE_7__["AsyncSubject"]; });

/* harmony import */ var _internal_scheduler_asap__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./internal/scheduler/asap */ "./node_modules/rxjs/_esm5/internal/scheduler/asap.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "asap", function() { return _internal_scheduler_asap__WEBPACK_IMPORTED_MODULE_8__["asap"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "asapScheduler", function() { return _internal_scheduler_asap__WEBPACK_IMPORTED_MODULE_8__["asapScheduler"]; });

/* harmony import */ var _internal_scheduler_async__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./internal/scheduler/async */ "./node_modules/rxjs/_esm5/internal/scheduler/async.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "async", function() { return _internal_scheduler_async__WEBPACK_IMPORTED_MODULE_9__["async"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "asyncScheduler", function() { return _internal_scheduler_async__WEBPACK_IMPORTED_MODULE_9__["asyncScheduler"]; });

/* harmony import */ var _internal_scheduler_queue__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./internal/scheduler/queue */ "./node_modules/rxjs/_esm5/internal/scheduler/queue.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "queue", function() { return _internal_scheduler_queue__WEBPACK_IMPORTED_MODULE_10__["queue"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "queueScheduler", function() { return _internal_scheduler_queue__WEBPACK_IMPORTED_MODULE_10__["queueScheduler"]; });

/* harmony import */ var _internal_scheduler_animationFrame__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./internal/scheduler/animationFrame */ "./node_modules/rxjs/_esm5/internal/scheduler/animationFrame.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "animationFrame", function() { return _internal_scheduler_animationFrame__WEBPACK_IMPORTED_MODULE_11__["animationFrame"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "animationFrameScheduler", function() { return _internal_scheduler_animationFrame__WEBPACK_IMPORTED_MODULE_11__["animationFrameScheduler"]; });

/* harmony import */ var _internal_scheduler_VirtualTimeScheduler__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./internal/scheduler/VirtualTimeScheduler */ "./node_modules/rxjs/_esm5/internal/scheduler/VirtualTimeScheduler.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "VirtualTimeScheduler", function() { return _internal_scheduler_VirtualTimeScheduler__WEBPACK_IMPORTED_MODULE_12__["VirtualTimeScheduler"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "VirtualAction", function() { return _internal_scheduler_VirtualTimeScheduler__WEBPACK_IMPORTED_MODULE_12__["VirtualAction"]; });

/* harmony import */ var _internal_Scheduler__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./internal/Scheduler */ "./node_modules/rxjs/_esm5/internal/Scheduler.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Scheduler", function() { return _internal_Scheduler__WEBPACK_IMPORTED_MODULE_13__["Scheduler"]; });

/* harmony import */ var _internal_Subscription__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./internal/Subscription */ "./node_modules/rxjs/_esm5/internal/Subscription.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Subscription", function() { return _internal_Subscription__WEBPACK_IMPORTED_MODULE_14__["Subscription"]; });

/* harmony import */ var _internal_Subscriber__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./internal/Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Subscriber", function() { return _internal_Subscriber__WEBPACK_IMPORTED_MODULE_15__["Subscriber"]; });

/* harmony import */ var _internal_Notification__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./internal/Notification */ "./node_modules/rxjs/_esm5/internal/Notification.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Notification", function() { return _internal_Notification__WEBPACK_IMPORTED_MODULE_16__["Notification"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "NotificationKind", function() { return _internal_Notification__WEBPACK_IMPORTED_MODULE_16__["NotificationKind"]; });

/* harmony import */ var _internal_util_pipe__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./internal/util/pipe */ "./node_modules/rxjs/_esm5/internal/util/pipe.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "pipe", function() { return _internal_util_pipe__WEBPACK_IMPORTED_MODULE_17__["pipe"]; });

/* harmony import */ var _internal_util_noop__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./internal/util/noop */ "./node_modules/rxjs/_esm5/internal/util/noop.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "noop", function() { return _internal_util_noop__WEBPACK_IMPORTED_MODULE_18__["noop"]; });

/* harmony import */ var _internal_util_identity__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./internal/util/identity */ "./node_modules/rxjs/_esm5/internal/util/identity.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "identity", function() { return _internal_util_identity__WEBPACK_IMPORTED_MODULE_19__["identity"]; });

/* harmony import */ var _internal_util_isObservable__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./internal/util/isObservable */ "./node_modules/rxjs/_esm5/internal/util/isObservable.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isObservable", function() { return _internal_util_isObservable__WEBPACK_IMPORTED_MODULE_20__["isObservable"]; });

/* harmony import */ var _internal_util_ArgumentOutOfRangeError__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./internal/util/ArgumentOutOfRangeError */ "./node_modules/rxjs/_esm5/internal/util/ArgumentOutOfRangeError.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ArgumentOutOfRangeError", function() { return _internal_util_ArgumentOutOfRangeError__WEBPACK_IMPORTED_MODULE_21__["ArgumentOutOfRangeError"]; });

/* harmony import */ var _internal_util_EmptyError__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./internal/util/EmptyError */ "./node_modules/rxjs/_esm5/internal/util/EmptyError.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "EmptyError", function() { return _internal_util_EmptyError__WEBPACK_IMPORTED_MODULE_22__["EmptyError"]; });

/* harmony import */ var _internal_util_ObjectUnsubscribedError__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./internal/util/ObjectUnsubscribedError */ "./node_modules/rxjs/_esm5/internal/util/ObjectUnsubscribedError.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ObjectUnsubscribedError", function() { return _internal_util_ObjectUnsubscribedError__WEBPACK_IMPORTED_MODULE_23__["ObjectUnsubscribedError"]; });

/* harmony import */ var _internal_util_UnsubscriptionError__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./internal/util/UnsubscriptionError */ "./node_modules/rxjs/_esm5/internal/util/UnsubscriptionError.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UnsubscriptionError", function() { return _internal_util_UnsubscriptionError__WEBPACK_IMPORTED_MODULE_24__["UnsubscriptionError"]; });

/* harmony import */ var _internal_util_TimeoutError__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./internal/util/TimeoutError */ "./node_modules/rxjs/_esm5/internal/util/TimeoutError.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TimeoutError", function() { return _internal_util_TimeoutError__WEBPACK_IMPORTED_MODULE_25__["TimeoutError"]; });

/* harmony import */ var _internal_observable_bindCallback__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./internal/observable/bindCallback */ "./node_modules/rxjs/_esm5/internal/observable/bindCallback.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "bindCallback", function() { return _internal_observable_bindCallback__WEBPACK_IMPORTED_MODULE_26__["bindCallback"]; });

/* harmony import */ var _internal_observable_bindNodeCallback__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./internal/observable/bindNodeCallback */ "./node_modules/rxjs/_esm5/internal/observable/bindNodeCallback.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "bindNodeCallback", function() { return _internal_observable_bindNodeCallback__WEBPACK_IMPORTED_MODULE_27__["bindNodeCallback"]; });

/* harmony import */ var _internal_observable_combineLatest__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./internal/observable/combineLatest */ "./node_modules/rxjs/_esm5/internal/observable/combineLatest.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "combineLatest", function() { return _internal_observable_combineLatest__WEBPACK_IMPORTED_MODULE_28__["combineLatest"]; });

/* harmony import */ var _internal_observable_concat__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./internal/observable/concat */ "./node_modules/rxjs/_esm5/internal/observable/concat.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "concat", function() { return _internal_observable_concat__WEBPACK_IMPORTED_MODULE_29__["concat"]; });

/* harmony import */ var _internal_observable_defer__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./internal/observable/defer */ "./node_modules/rxjs/_esm5/internal/observable/defer.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "defer", function() { return _internal_observable_defer__WEBPACK_IMPORTED_MODULE_30__["defer"]; });

/* harmony import */ var _internal_observable_empty__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./internal/observable/empty */ "./node_modules/rxjs/_esm5/internal/observable/empty.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "empty", function() { return _internal_observable_empty__WEBPACK_IMPORTED_MODULE_31__["empty"]; });

/* harmony import */ var _internal_observable_forkJoin__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./internal/observable/forkJoin */ "./node_modules/rxjs/_esm5/internal/observable/forkJoin.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "forkJoin", function() { return _internal_observable_forkJoin__WEBPACK_IMPORTED_MODULE_32__["forkJoin"]; });

/* harmony import */ var _internal_observable_from__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./internal/observable/from */ "./node_modules/rxjs/_esm5/internal/observable/from.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "from", function() { return _internal_observable_from__WEBPACK_IMPORTED_MODULE_33__["from"]; });

/* harmony import */ var _internal_observable_fromEvent__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./internal/observable/fromEvent */ "./node_modules/rxjs/_esm5/internal/observable/fromEvent.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "fromEvent", function() { return _internal_observable_fromEvent__WEBPACK_IMPORTED_MODULE_34__["fromEvent"]; });

/* harmony import */ var _internal_observable_fromEventPattern__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./internal/observable/fromEventPattern */ "./node_modules/rxjs/_esm5/internal/observable/fromEventPattern.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "fromEventPattern", function() { return _internal_observable_fromEventPattern__WEBPACK_IMPORTED_MODULE_35__["fromEventPattern"]; });

/* harmony import */ var _internal_observable_generate__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./internal/observable/generate */ "./node_modules/rxjs/_esm5/internal/observable/generate.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "generate", function() { return _internal_observable_generate__WEBPACK_IMPORTED_MODULE_36__["generate"]; });

/* harmony import */ var _internal_observable_iif__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./internal/observable/iif */ "./node_modules/rxjs/_esm5/internal/observable/iif.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "iif", function() { return _internal_observable_iif__WEBPACK_IMPORTED_MODULE_37__["iif"]; });

/* harmony import */ var _internal_observable_interval__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./internal/observable/interval */ "./node_modules/rxjs/_esm5/internal/observable/interval.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "interval", function() { return _internal_observable_interval__WEBPACK_IMPORTED_MODULE_38__["interval"]; });

/* harmony import */ var _internal_observable_merge__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./internal/observable/merge */ "./node_modules/rxjs/_esm5/internal/observable/merge.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "merge", function() { return _internal_observable_merge__WEBPACK_IMPORTED_MODULE_39__["merge"]; });

/* harmony import */ var _internal_observable_never__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./internal/observable/never */ "./node_modules/rxjs/_esm5/internal/observable/never.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "never", function() { return _internal_observable_never__WEBPACK_IMPORTED_MODULE_40__["never"]; });

/* harmony import */ var _internal_observable_of__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./internal/observable/of */ "./node_modules/rxjs/_esm5/internal/observable/of.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "of", function() { return _internal_observable_of__WEBPACK_IMPORTED_MODULE_41__["of"]; });

/* harmony import */ var _internal_observable_onErrorResumeNext__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./internal/observable/onErrorResumeNext */ "./node_modules/rxjs/_esm5/internal/observable/onErrorResumeNext.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "onErrorResumeNext", function() { return _internal_observable_onErrorResumeNext__WEBPACK_IMPORTED_MODULE_42__["onErrorResumeNext"]; });

/* harmony import */ var _internal_observable_pairs__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./internal/observable/pairs */ "./node_modules/rxjs/_esm5/internal/observable/pairs.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "pairs", function() { return _internal_observable_pairs__WEBPACK_IMPORTED_MODULE_43__["pairs"]; });

/* harmony import */ var _internal_observable_partition__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./internal/observable/partition */ "./node_modules/rxjs/_esm5/internal/observable/partition.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "partition", function() { return _internal_observable_partition__WEBPACK_IMPORTED_MODULE_44__["partition"]; });

/* harmony import */ var _internal_observable_race__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./internal/observable/race */ "./node_modules/rxjs/_esm5/internal/observable/race.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "race", function() { return _internal_observable_race__WEBPACK_IMPORTED_MODULE_45__["race"]; });

/* harmony import */ var _internal_observable_range__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./internal/observable/range */ "./node_modules/rxjs/_esm5/internal/observable/range.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "range", function() { return _internal_observable_range__WEBPACK_IMPORTED_MODULE_46__["range"]; });

/* harmony import */ var _internal_observable_throwError__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./internal/observable/throwError */ "./node_modules/rxjs/_esm5/internal/observable/throwError.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "throwError", function() { return _internal_observable_throwError__WEBPACK_IMPORTED_MODULE_47__["throwError"]; });

/* harmony import */ var _internal_observable_timer__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./internal/observable/timer */ "./node_modules/rxjs/_esm5/internal/observable/timer.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "timer", function() { return _internal_observable_timer__WEBPACK_IMPORTED_MODULE_48__["timer"]; });

/* harmony import */ var _internal_observable_using__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ./internal/observable/using */ "./node_modules/rxjs/_esm5/internal/observable/using.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "using", function() { return _internal_observable_using__WEBPACK_IMPORTED_MODULE_49__["using"]; });

/* harmony import */ var _internal_observable_zip__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./internal/observable/zip */ "./node_modules/rxjs/_esm5/internal/observable/zip.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "zip", function() { return _internal_observable_zip__WEBPACK_IMPORTED_MODULE_50__["zip"]; });

/* harmony import */ var _internal_scheduled_scheduled__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ./internal/scheduled/scheduled */ "./node_modules/rxjs/_esm5/internal/scheduled/scheduled.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "scheduled", function() { return _internal_scheduled_scheduled__WEBPACK_IMPORTED_MODULE_51__["scheduled"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "EMPTY", function() { return _internal_observable_empty__WEBPACK_IMPORTED_MODULE_31__["EMPTY"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "NEVER", function() { return _internal_observable_never__WEBPACK_IMPORTED_MODULE_40__["NEVER"]; });

/* harmony import */ var _internal_config__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ./internal/config */ "./node_modules/rxjs/_esm5/internal/config.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "config", function() { return _internal_config__WEBPACK_IMPORTED_MODULE_52__["config"]; });

/** PURE_IMPORTS_START  PURE_IMPORTS_END */























































//# sourceMappingURL=index.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/AsyncSubject.js":
/*!**********************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/AsyncSubject.js ***!
  \**********************************************************/
/*! exports provided: AsyncSubject */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AsyncSubject", function() { return AsyncSubject; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Subject */ "./node_modules/rxjs/_esm5/internal/Subject.js");
/* harmony import */ var _Subscription__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Subscription */ "./node_modules/rxjs/_esm5/internal/Subscription.js");
/** PURE_IMPORTS_START tslib,_Subject,_Subscription PURE_IMPORTS_END */



var AsyncSubject = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](AsyncSubject, _super);
    function AsyncSubject() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.value = null;
        _this.hasNext = false;
        _this.hasCompleted = false;
        return _this;
    }
    AsyncSubject.prototype._subscribe = function (subscriber) {
        if (this.hasError) {
            subscriber.error(this.thrownError);
            return _Subscription__WEBPACK_IMPORTED_MODULE_2__["Subscription"].EMPTY;
        }
        else if (this.hasCompleted && this.hasNext) {
            subscriber.next(this.value);
            subscriber.complete();
            return _Subscription__WEBPACK_IMPORTED_MODULE_2__["Subscription"].EMPTY;
        }
        return _super.prototype._subscribe.call(this, subscriber);
    };
    AsyncSubject.prototype.next = function (value) {
        if (!this.hasCompleted) {
            this.value = value;
            this.hasNext = true;
        }
    };
    AsyncSubject.prototype.error = function (error) {
        if (!this.hasCompleted) {
            _super.prototype.error.call(this, error);
        }
    };
    AsyncSubject.prototype.complete = function () {
        this.hasCompleted = true;
        if (this.hasNext) {
            _super.prototype.next.call(this, this.value);
        }
        _super.prototype.complete.call(this);
    };
    return AsyncSubject;
}(_Subject__WEBPACK_IMPORTED_MODULE_1__["Subject"]));

//# sourceMappingURL=AsyncSubject.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/BehaviorSubject.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/BehaviorSubject.js ***!
  \*************************************************************/
/*! exports provided: BehaviorSubject */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BehaviorSubject", function() { return BehaviorSubject; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Subject */ "./node_modules/rxjs/_esm5/internal/Subject.js");
/* harmony import */ var _util_ObjectUnsubscribedError__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util/ObjectUnsubscribedError */ "./node_modules/rxjs/_esm5/internal/util/ObjectUnsubscribedError.js");
/** PURE_IMPORTS_START tslib,_Subject,_util_ObjectUnsubscribedError PURE_IMPORTS_END */



var BehaviorSubject = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](BehaviorSubject, _super);
    function BehaviorSubject(_value) {
        var _this = _super.call(this) || this;
        _this._value = _value;
        return _this;
    }
    Object.defineProperty(BehaviorSubject.prototype, "value", {
        get: function () {
            return this.getValue();
        },
        enumerable: true,
        configurable: true
    });
    BehaviorSubject.prototype._subscribe = function (subscriber) {
        var subscription = _super.prototype._subscribe.call(this, subscriber);
        if (subscription && !subscription.closed) {
            subscriber.next(this._value);
        }
        return subscription;
    };
    BehaviorSubject.prototype.getValue = function () {
        if (this.hasError) {
            throw this.thrownError;
        }
        else if (this.closed) {
            throw new _util_ObjectUnsubscribedError__WEBPACK_IMPORTED_MODULE_2__["ObjectUnsubscribedError"]();
        }
        else {
            return this._value;
        }
    };
    BehaviorSubject.prototype.next = function (value) {
        _super.prototype.next.call(this, this._value = value);
    };
    return BehaviorSubject;
}(_Subject__WEBPACK_IMPORTED_MODULE_1__["Subject"]));

//# sourceMappingURL=BehaviorSubject.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/InnerSubscriber.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/InnerSubscriber.js ***!
  \*************************************************************/
/*! exports provided: InnerSubscriber */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InnerSubscriber", function() { return InnerSubscriber; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


var InnerSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](InnerSubscriber, _super);
    function InnerSubscriber(parent, outerValue, outerIndex) {
        var _this = _super.call(this) || this;
        _this.parent = parent;
        _this.outerValue = outerValue;
        _this.outerIndex = outerIndex;
        _this.index = 0;
        return _this;
    }
    InnerSubscriber.prototype._next = function (value) {
        this.parent.notifyNext(this.outerValue, value, this.outerIndex, this.index++, this);
    };
    InnerSubscriber.prototype._error = function (error) {
        this.parent.notifyError(error, this);
        this.unsubscribe();
    };
    InnerSubscriber.prototype._complete = function () {
        this.parent.notifyComplete(this);
        this.unsubscribe();
    };
    return InnerSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));

//# sourceMappingURL=InnerSubscriber.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/Notification.js":
/*!**********************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/Notification.js ***!
  \**********************************************************/
/*! exports provided: NotificationKind, Notification */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NotificationKind", function() { return NotificationKind; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Notification", function() { return Notification; });
/* harmony import */ var _observable_empty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./observable/empty */ "./node_modules/rxjs/_esm5/internal/observable/empty.js");
/* harmony import */ var _observable_of__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./observable/of */ "./node_modules/rxjs/_esm5/internal/observable/of.js");
/* harmony import */ var _observable_throwError__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./observable/throwError */ "./node_modules/rxjs/_esm5/internal/observable/throwError.js");
/** PURE_IMPORTS_START _observable_empty,_observable_of,_observable_throwError PURE_IMPORTS_END */



var NotificationKind;
/*@__PURE__*/ (function (NotificationKind) {
    NotificationKind["NEXT"] = "N";
    NotificationKind["ERROR"] = "E";
    NotificationKind["COMPLETE"] = "C";
})(NotificationKind || (NotificationKind = {}));
var Notification = /*@__PURE__*/ (function () {
    function Notification(kind, value, error) {
        this.kind = kind;
        this.value = value;
        this.error = error;
        this.hasValue = kind === 'N';
    }
    Notification.prototype.observe = function (observer) {
        switch (this.kind) {
            case 'N':
                return observer.next && observer.next(this.value);
            case 'E':
                return observer.error && observer.error(this.error);
            case 'C':
                return observer.complete && observer.complete();
        }
    };
    Notification.prototype.do = function (next, error, complete) {
        var kind = this.kind;
        switch (kind) {
            case 'N':
                return next && next(this.value);
            case 'E':
                return error && error(this.error);
            case 'C':
                return complete && complete();
        }
    };
    Notification.prototype.accept = function (nextOrObserver, error, complete) {
        if (nextOrObserver && typeof nextOrObserver.next === 'function') {
            return this.observe(nextOrObserver);
        }
        else {
            return this.do(nextOrObserver, error, complete);
        }
    };
    Notification.prototype.toObservable = function () {
        var kind = this.kind;
        switch (kind) {
            case 'N':
                return Object(_observable_of__WEBPACK_IMPORTED_MODULE_1__["of"])(this.value);
            case 'E':
                return Object(_observable_throwError__WEBPACK_IMPORTED_MODULE_2__["throwError"])(this.error);
            case 'C':
                return Object(_observable_empty__WEBPACK_IMPORTED_MODULE_0__["empty"])();
        }
        throw new Error('unexpected notification kind value');
    };
    Notification.createNext = function (value) {
        if (typeof value !== 'undefined') {
            return new Notification('N', value);
        }
        return Notification.undefinedValueNotification;
    };
    Notification.createError = function (err) {
        return new Notification('E', undefined, err);
    };
    Notification.createComplete = function () {
        return Notification.completeNotification;
    };
    Notification.completeNotification = new Notification('C');
    Notification.undefinedValueNotification = new Notification('N', undefined);
    return Notification;
}());

//# sourceMappingURL=Notification.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/Observable.js":
/*!********************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/Observable.js ***!
  \********************************************************/
/*! exports provided: Observable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Observable", function() { return Observable; });
/* harmony import */ var _util_canReportError__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/canReportError */ "./node_modules/rxjs/_esm5/internal/util/canReportError.js");
/* harmony import */ var _util_toSubscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/toSubscriber */ "./node_modules/rxjs/_esm5/internal/util/toSubscriber.js");
/* harmony import */ var _symbol_observable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./symbol/observable */ "./node_modules/rxjs/_esm5/internal/symbol/observable.js");
/* harmony import */ var _util_pipe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./util/pipe */ "./node_modules/rxjs/_esm5/internal/util/pipe.js");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./config */ "./node_modules/rxjs/_esm5/internal/config.js");
/** PURE_IMPORTS_START _util_canReportError,_util_toSubscriber,_symbol_observable,_util_pipe,_config PURE_IMPORTS_END */





var Observable = /*@__PURE__*/ (function () {
    function Observable(subscribe) {
        this._isScalar = false;
        if (subscribe) {
            this._subscribe = subscribe;
        }
    }
    Observable.prototype.lift = function (operator) {
        var observable = new Observable();
        observable.source = this;
        observable.operator = operator;
        return observable;
    };
    Observable.prototype.subscribe = function (observerOrNext, error, complete) {
        var operator = this.operator;
        var sink = Object(_util_toSubscriber__WEBPACK_IMPORTED_MODULE_1__["toSubscriber"])(observerOrNext, error, complete);
        if (operator) {
            sink.add(operator.call(sink, this.source));
        }
        else {
            sink.add(this.source || (_config__WEBPACK_IMPORTED_MODULE_4__["config"].useDeprecatedSynchronousErrorHandling && !sink.syncErrorThrowable) ?
                this._subscribe(sink) :
                this._trySubscribe(sink));
        }
        if (_config__WEBPACK_IMPORTED_MODULE_4__["config"].useDeprecatedSynchronousErrorHandling) {
            if (sink.syncErrorThrowable) {
                sink.syncErrorThrowable = false;
                if (sink.syncErrorThrown) {
                    throw sink.syncErrorValue;
                }
            }
        }
        return sink;
    };
    Observable.prototype._trySubscribe = function (sink) {
        try {
            return this._subscribe(sink);
        }
        catch (err) {
            if (_config__WEBPACK_IMPORTED_MODULE_4__["config"].useDeprecatedSynchronousErrorHandling) {
                sink.syncErrorThrown = true;
                sink.syncErrorValue = err;
            }
            if (Object(_util_canReportError__WEBPACK_IMPORTED_MODULE_0__["canReportError"])(sink)) {
                sink.error(err);
            }
            else {
                console.warn(err);
            }
        }
    };
    Observable.prototype.forEach = function (next, promiseCtor) {
        var _this = this;
        promiseCtor = getPromiseCtor(promiseCtor);
        return new promiseCtor(function (resolve, reject) {
            var subscription;
            subscription = _this.subscribe(function (value) {
                try {
                    next(value);
                }
                catch (err) {
                    reject(err);
                    if (subscription) {
                        subscription.unsubscribe();
                    }
                }
            }, reject, resolve);
        });
    };
    Observable.prototype._subscribe = function (subscriber) {
        var source = this.source;
        return source && source.subscribe(subscriber);
    };
    Observable.prototype[_symbol_observable__WEBPACK_IMPORTED_MODULE_2__["observable"]] = function () {
        return this;
    };
    Observable.prototype.pipe = function () {
        var operations = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            operations[_i] = arguments[_i];
        }
        if (operations.length === 0) {
            return this;
        }
        return Object(_util_pipe__WEBPACK_IMPORTED_MODULE_3__["pipeFromArray"])(operations)(this);
    };
    Observable.prototype.toPromise = function (promiseCtor) {
        var _this = this;
        promiseCtor = getPromiseCtor(promiseCtor);
        return new promiseCtor(function (resolve, reject) {
            var value;
            _this.subscribe(function (x) { return value = x; }, function (err) { return reject(err); }, function () { return resolve(value); });
        });
    };
    Observable.create = function (subscribe) {
        return new Observable(subscribe);
    };
    return Observable;
}());

function getPromiseCtor(promiseCtor) {
    if (!promiseCtor) {
        promiseCtor = _config__WEBPACK_IMPORTED_MODULE_4__["config"].Promise || Promise;
    }
    if (!promiseCtor) {
        throw new Error('no Promise impl found');
    }
    return promiseCtor;
}
//# sourceMappingURL=Observable.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/Observer.js":
/*!******************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/Observer.js ***!
  \******************************************************/
/*! exports provided: empty */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "empty", function() { return empty; });
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config */ "./node_modules/rxjs/_esm5/internal/config.js");
/* harmony import */ var _util_hostReportError__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/hostReportError */ "./node_modules/rxjs/_esm5/internal/util/hostReportError.js");
/** PURE_IMPORTS_START _config,_util_hostReportError PURE_IMPORTS_END */


var empty = {
    closed: true,
    next: function (value) { },
    error: function (err) {
        if (_config__WEBPACK_IMPORTED_MODULE_0__["config"].useDeprecatedSynchronousErrorHandling) {
            throw err;
        }
        else {
            Object(_util_hostReportError__WEBPACK_IMPORTED_MODULE_1__["hostReportError"])(err);
        }
    },
    complete: function () { }
};
//# sourceMappingURL=Observer.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/OuterSubscriber.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/OuterSubscriber.js ***!
  \*************************************************************/
/*! exports provided: OuterSubscriber */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OuterSubscriber", function() { return OuterSubscriber; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


var OuterSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](OuterSubscriber, _super);
    function OuterSubscriber() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    OuterSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this.destination.next(innerValue);
    };
    OuterSubscriber.prototype.notifyError = function (error, innerSub) {
        this.destination.error(error);
    };
    OuterSubscriber.prototype.notifyComplete = function (innerSub) {
        this.destination.complete();
    };
    return OuterSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));

//# sourceMappingURL=OuterSubscriber.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/ReplaySubject.js":
/*!***********************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/ReplaySubject.js ***!
  \***********************************************************/
/*! exports provided: ReplaySubject */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReplaySubject", function() { return ReplaySubject; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Subject */ "./node_modules/rxjs/_esm5/internal/Subject.js");
/* harmony import */ var _scheduler_queue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scheduler/queue */ "./node_modules/rxjs/_esm5/internal/scheduler/queue.js");
/* harmony import */ var _Subscription__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Subscription */ "./node_modules/rxjs/_esm5/internal/Subscription.js");
/* harmony import */ var _operators_observeOn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./operators/observeOn */ "./node_modules/rxjs/_esm5/internal/operators/observeOn.js");
/* harmony import */ var _util_ObjectUnsubscribedError__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./util/ObjectUnsubscribedError */ "./node_modules/rxjs/_esm5/internal/util/ObjectUnsubscribedError.js");
/* harmony import */ var _SubjectSubscription__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./SubjectSubscription */ "./node_modules/rxjs/_esm5/internal/SubjectSubscription.js");
/** PURE_IMPORTS_START tslib,_Subject,_scheduler_queue,_Subscription,_operators_observeOn,_util_ObjectUnsubscribedError,_SubjectSubscription PURE_IMPORTS_END */







var ReplaySubject = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ReplaySubject, _super);
    function ReplaySubject(bufferSize, windowTime, scheduler) {
        if (bufferSize === void 0) {
            bufferSize = Number.POSITIVE_INFINITY;
        }
        if (windowTime === void 0) {
            windowTime = Number.POSITIVE_INFINITY;
        }
        var _this = _super.call(this) || this;
        _this.scheduler = scheduler;
        _this._events = [];
        _this._infiniteTimeWindow = false;
        _this._bufferSize = bufferSize < 1 ? 1 : bufferSize;
        _this._windowTime = windowTime < 1 ? 1 : windowTime;
        if (windowTime === Number.POSITIVE_INFINITY) {
            _this._infiniteTimeWindow = true;
            _this.next = _this.nextInfiniteTimeWindow;
        }
        else {
            _this.next = _this.nextTimeWindow;
        }
        return _this;
    }
    ReplaySubject.prototype.nextInfiniteTimeWindow = function (value) {
        if (!this.isStopped) {
            var _events = this._events;
            _events.push(value);
            if (_events.length > this._bufferSize) {
                _events.shift();
            }
        }
        _super.prototype.next.call(this, value);
    };
    ReplaySubject.prototype.nextTimeWindow = function (value) {
        if (!this.isStopped) {
            this._events.push(new ReplayEvent(this._getNow(), value));
            this._trimBufferThenGetEvents();
        }
        _super.prototype.next.call(this, value);
    };
    ReplaySubject.prototype._subscribe = function (subscriber) {
        var _infiniteTimeWindow = this._infiniteTimeWindow;
        var _events = _infiniteTimeWindow ? this._events : this._trimBufferThenGetEvents();
        var scheduler = this.scheduler;
        var len = _events.length;
        var subscription;
        if (this.closed) {
            throw new _util_ObjectUnsubscribedError__WEBPACK_IMPORTED_MODULE_5__["ObjectUnsubscribedError"]();
        }
        else if (this.isStopped || this.hasError) {
            subscription = _Subscription__WEBPACK_IMPORTED_MODULE_3__["Subscription"].EMPTY;
        }
        else {
            this.observers.push(subscriber);
            subscription = new _SubjectSubscription__WEBPACK_IMPORTED_MODULE_6__["SubjectSubscription"](this, subscriber);
        }
        if (scheduler) {
            subscriber.add(subscriber = new _operators_observeOn__WEBPACK_IMPORTED_MODULE_4__["ObserveOnSubscriber"](subscriber, scheduler));
        }
        if (_infiniteTimeWindow) {
            for (var i = 0; i < len && !subscriber.closed; i++) {
                subscriber.next(_events[i]);
            }
        }
        else {
            for (var i = 0; i < len && !subscriber.closed; i++) {
                subscriber.next(_events[i].value);
            }
        }
        if (this.hasError) {
            subscriber.error(this.thrownError);
        }
        else if (this.isStopped) {
            subscriber.complete();
        }
        return subscription;
    };
    ReplaySubject.prototype._getNow = function () {
        return (this.scheduler || _scheduler_queue__WEBPACK_IMPORTED_MODULE_2__["queue"]).now();
    };
    ReplaySubject.prototype._trimBufferThenGetEvents = function () {
        var now = this._getNow();
        var _bufferSize = this._bufferSize;
        var _windowTime = this._windowTime;
        var _events = this._events;
        var eventsCount = _events.length;
        var spliceCount = 0;
        while (spliceCount < eventsCount) {
            if ((now - _events[spliceCount].time) < _windowTime) {
                break;
            }
            spliceCount++;
        }
        if (eventsCount > _bufferSize) {
            spliceCount = Math.max(spliceCount, eventsCount - _bufferSize);
        }
        if (spliceCount > 0) {
            _events.splice(0, spliceCount);
        }
        return _events;
    };
    return ReplaySubject;
}(_Subject__WEBPACK_IMPORTED_MODULE_1__["Subject"]));

var ReplayEvent = /*@__PURE__*/ (function () {
    function ReplayEvent(time, value) {
        this.time = time;
        this.value = value;
    }
    return ReplayEvent;
}());
//# sourceMappingURL=ReplaySubject.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/Scheduler.js":
/*!*******************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/Scheduler.js ***!
  \*******************************************************/
/*! exports provided: Scheduler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Scheduler", function() { return Scheduler; });
var Scheduler = /*@__PURE__*/ (function () {
    function Scheduler(SchedulerAction, now) {
        if (now === void 0) {
            now = Scheduler.now;
        }
        this.SchedulerAction = SchedulerAction;
        this.now = now;
    }
    Scheduler.prototype.schedule = function (work, delay, state) {
        if (delay === void 0) {
            delay = 0;
        }
        return new this.SchedulerAction(this, work).schedule(state, delay);
    };
    Scheduler.now = function () { return Date.now(); };
    return Scheduler;
}());

//# sourceMappingURL=Scheduler.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/Subject.js":
/*!*****************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/Subject.js ***!
  \*****************************************************/
/*! exports provided: SubjectSubscriber, Subject, AnonymousSubject */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SubjectSubscriber", function() { return SubjectSubscriber; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Subject", function() { return Subject; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnonymousSubject", function() { return AnonymousSubject; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _Subscription__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Subscription */ "./node_modules/rxjs/_esm5/internal/Subscription.js");
/* harmony import */ var _util_ObjectUnsubscribedError__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./util/ObjectUnsubscribedError */ "./node_modules/rxjs/_esm5/internal/util/ObjectUnsubscribedError.js");
/* harmony import */ var _SubjectSubscription__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./SubjectSubscription */ "./node_modules/rxjs/_esm5/internal/SubjectSubscription.js");
/* harmony import */ var _internal_symbol_rxSubscriber__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../internal/symbol/rxSubscriber */ "./node_modules/rxjs/_esm5/internal/symbol/rxSubscriber.js");
/** PURE_IMPORTS_START tslib,_Observable,_Subscriber,_Subscription,_util_ObjectUnsubscribedError,_SubjectSubscription,_internal_symbol_rxSubscriber PURE_IMPORTS_END */







var SubjectSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SubjectSubscriber, _super);
    function SubjectSubscriber(destination) {
        var _this = _super.call(this, destination) || this;
        _this.destination = destination;
        return _this;
    }
    return SubjectSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_2__["Subscriber"]));

var Subject = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](Subject, _super);
    function Subject() {
        var _this = _super.call(this) || this;
        _this.observers = [];
        _this.closed = false;
        _this.isStopped = false;
        _this.hasError = false;
        _this.thrownError = null;
        return _this;
    }
    Subject.prototype[_internal_symbol_rxSubscriber__WEBPACK_IMPORTED_MODULE_6__["rxSubscriber"]] = function () {
        return new SubjectSubscriber(this);
    };
    Subject.prototype.lift = function (operator) {
        var subject = new AnonymousSubject(this, this);
        subject.operator = operator;
        return subject;
    };
    Subject.prototype.next = function (value) {
        if (this.closed) {
            throw new _util_ObjectUnsubscribedError__WEBPACK_IMPORTED_MODULE_4__["ObjectUnsubscribedError"]();
        }
        if (!this.isStopped) {
            var observers = this.observers;
            var len = observers.length;
            var copy = observers.slice();
            for (var i = 0; i < len; i++) {
                copy[i].next(value);
            }
        }
    };
    Subject.prototype.error = function (err) {
        if (this.closed) {
            throw new _util_ObjectUnsubscribedError__WEBPACK_IMPORTED_MODULE_4__["ObjectUnsubscribedError"]();
        }
        this.hasError = true;
        this.thrownError = err;
        this.isStopped = true;
        var observers = this.observers;
        var len = observers.length;
        var copy = observers.slice();
        for (var i = 0; i < len; i++) {
            copy[i].error(err);
        }
        this.observers.length = 0;
    };
    Subject.prototype.complete = function () {
        if (this.closed) {
            throw new _util_ObjectUnsubscribedError__WEBPACK_IMPORTED_MODULE_4__["ObjectUnsubscribedError"]();
        }
        this.isStopped = true;
        var observers = this.observers;
        var len = observers.length;
        var copy = observers.slice();
        for (var i = 0; i < len; i++) {
            copy[i].complete();
        }
        this.observers.length = 0;
    };
    Subject.prototype.unsubscribe = function () {
        this.isStopped = true;
        this.closed = true;
        this.observers = null;
    };
    Subject.prototype._trySubscribe = function (subscriber) {
        if (this.closed) {
            throw new _util_ObjectUnsubscribedError__WEBPACK_IMPORTED_MODULE_4__["ObjectUnsubscribedError"]();
        }
        else {
            return _super.prototype._trySubscribe.call(this, subscriber);
        }
    };
    Subject.prototype._subscribe = function (subscriber) {
        if (this.closed) {
            throw new _util_ObjectUnsubscribedError__WEBPACK_IMPORTED_MODULE_4__["ObjectUnsubscribedError"]();
        }
        else if (this.hasError) {
            subscriber.error(this.thrownError);
            return _Subscription__WEBPACK_IMPORTED_MODULE_3__["Subscription"].EMPTY;
        }
        else if (this.isStopped) {
            subscriber.complete();
            return _Subscription__WEBPACK_IMPORTED_MODULE_3__["Subscription"].EMPTY;
        }
        else {
            this.observers.push(subscriber);
            return new _SubjectSubscription__WEBPACK_IMPORTED_MODULE_5__["SubjectSubscription"](this, subscriber);
        }
    };
    Subject.prototype.asObservable = function () {
        var observable = new _Observable__WEBPACK_IMPORTED_MODULE_1__["Observable"]();
        observable.source = this;
        return observable;
    };
    Subject.create = function (destination, source) {
        return new AnonymousSubject(destination, source);
    };
    return Subject;
}(_Observable__WEBPACK_IMPORTED_MODULE_1__["Observable"]));

var AnonymousSubject = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](AnonymousSubject, _super);
    function AnonymousSubject(destination, source) {
        var _this = _super.call(this) || this;
        _this.destination = destination;
        _this.source = source;
        return _this;
    }
    AnonymousSubject.prototype.next = function (value) {
        var destination = this.destination;
        if (destination && destination.next) {
            destination.next(value);
        }
    };
    AnonymousSubject.prototype.error = function (err) {
        var destination = this.destination;
        if (destination && destination.error) {
            this.destination.error(err);
        }
    };
    AnonymousSubject.prototype.complete = function () {
        var destination = this.destination;
        if (destination && destination.complete) {
            this.destination.complete();
        }
    };
    AnonymousSubject.prototype._subscribe = function (subscriber) {
        var source = this.source;
        if (source) {
            return this.source.subscribe(subscriber);
        }
        else {
            return _Subscription__WEBPACK_IMPORTED_MODULE_3__["Subscription"].EMPTY;
        }
    };
    return AnonymousSubject;
}(Subject));

//# sourceMappingURL=Subject.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/SubjectSubscription.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/SubjectSubscription.js ***!
  \*****************************************************************/
/*! exports provided: SubjectSubscription */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SubjectSubscription", function() { return SubjectSubscription; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscription__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Subscription */ "./node_modules/rxjs/_esm5/internal/Subscription.js");
/** PURE_IMPORTS_START tslib,_Subscription PURE_IMPORTS_END */


var SubjectSubscription = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SubjectSubscription, _super);
    function SubjectSubscription(subject, subscriber) {
        var _this = _super.call(this) || this;
        _this.subject = subject;
        _this.subscriber = subscriber;
        _this.closed = false;
        return _this;
    }
    SubjectSubscription.prototype.unsubscribe = function () {
        if (this.closed) {
            return;
        }
        this.closed = true;
        var subject = this.subject;
        var observers = subject.observers;
        this.subject = null;
        if (!observers || observers.length === 0 || subject.isStopped || subject.closed) {
            return;
        }
        var subscriberIndex = observers.indexOf(this.subscriber);
        if (subscriberIndex !== -1) {
            observers.splice(subscriberIndex, 1);
        }
    };
    return SubjectSubscription;
}(_Subscription__WEBPACK_IMPORTED_MODULE_1__["Subscription"]));

//# sourceMappingURL=SubjectSubscription.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/Subscriber.js":
/*!********************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/Subscriber.js ***!
  \********************************************************/
/*! exports provided: Subscriber, SafeSubscriber */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Subscriber", function() { return Subscriber; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SafeSubscriber", function() { return SafeSubscriber; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _util_isFunction__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/isFunction */ "./node_modules/rxjs/_esm5/internal/util/isFunction.js");
/* harmony import */ var _Observer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Observer */ "./node_modules/rxjs/_esm5/internal/Observer.js");
/* harmony import */ var _Subscription__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Subscription */ "./node_modules/rxjs/_esm5/internal/Subscription.js");
/* harmony import */ var _internal_symbol_rxSubscriber__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../internal/symbol/rxSubscriber */ "./node_modules/rxjs/_esm5/internal/symbol/rxSubscriber.js");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./config */ "./node_modules/rxjs/_esm5/internal/config.js");
/* harmony import */ var _util_hostReportError__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./util/hostReportError */ "./node_modules/rxjs/_esm5/internal/util/hostReportError.js");
/** PURE_IMPORTS_START tslib,_util_isFunction,_Observer,_Subscription,_internal_symbol_rxSubscriber,_config,_util_hostReportError PURE_IMPORTS_END */







var Subscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](Subscriber, _super);
    function Subscriber(destinationOrNext, error, complete) {
        var _this = _super.call(this) || this;
        _this.syncErrorValue = null;
        _this.syncErrorThrown = false;
        _this.syncErrorThrowable = false;
        _this.isStopped = false;
        switch (arguments.length) {
            case 0:
                _this.destination = _Observer__WEBPACK_IMPORTED_MODULE_2__["empty"];
                break;
            case 1:
                if (!destinationOrNext) {
                    _this.destination = _Observer__WEBPACK_IMPORTED_MODULE_2__["empty"];
                    break;
                }
                if (typeof destinationOrNext === 'object') {
                    if (destinationOrNext instanceof Subscriber) {
                        _this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;
                        _this.destination = destinationOrNext;
                        destinationOrNext.add(_this);
                    }
                    else {
                        _this.syncErrorThrowable = true;
                        _this.destination = new SafeSubscriber(_this, destinationOrNext);
                    }
                    break;
                }
            default:
                _this.syncErrorThrowable = true;
                _this.destination = new SafeSubscriber(_this, destinationOrNext, error, complete);
                break;
        }
        return _this;
    }
    Subscriber.prototype[_internal_symbol_rxSubscriber__WEBPACK_IMPORTED_MODULE_4__["rxSubscriber"]] = function () { return this; };
    Subscriber.create = function (next, error, complete) {
        var subscriber = new Subscriber(next, error, complete);
        subscriber.syncErrorThrowable = false;
        return subscriber;
    };
    Subscriber.prototype.next = function (value) {
        if (!this.isStopped) {
            this._next(value);
        }
    };
    Subscriber.prototype.error = function (err) {
        if (!this.isStopped) {
            this.isStopped = true;
            this._error(err);
        }
    };
    Subscriber.prototype.complete = function () {
        if (!this.isStopped) {
            this.isStopped = true;
            this._complete();
        }
    };
    Subscriber.prototype.unsubscribe = function () {
        if (this.closed) {
            return;
        }
        this.isStopped = true;
        _super.prototype.unsubscribe.call(this);
    };
    Subscriber.prototype._next = function (value) {
        this.destination.next(value);
    };
    Subscriber.prototype._error = function (err) {
        this.destination.error(err);
        this.unsubscribe();
    };
    Subscriber.prototype._complete = function () {
        this.destination.complete();
        this.unsubscribe();
    };
    Subscriber.prototype._unsubscribeAndRecycle = function () {
        var _parentOrParents = this._parentOrParents;
        this._parentOrParents = null;
        this.unsubscribe();
        this.closed = false;
        this.isStopped = false;
        this._parentOrParents = _parentOrParents;
        return this;
    };
    return Subscriber;
}(_Subscription__WEBPACK_IMPORTED_MODULE_3__["Subscription"]));

var SafeSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SafeSubscriber, _super);
    function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {
        var _this = _super.call(this) || this;
        _this._parentSubscriber = _parentSubscriber;
        var next;
        var context = _this;
        if (Object(_util_isFunction__WEBPACK_IMPORTED_MODULE_1__["isFunction"])(observerOrNext)) {
            next = observerOrNext;
        }
        else if (observerOrNext) {
            next = observerOrNext.next;
            error = observerOrNext.error;
            complete = observerOrNext.complete;
            if (observerOrNext !== _Observer__WEBPACK_IMPORTED_MODULE_2__["empty"]) {
                context = Object.create(observerOrNext);
                if (Object(_util_isFunction__WEBPACK_IMPORTED_MODULE_1__["isFunction"])(context.unsubscribe)) {
                    _this.add(context.unsubscribe.bind(context));
                }
                context.unsubscribe = _this.unsubscribe.bind(_this);
            }
        }
        _this._context = context;
        _this._next = next;
        _this._error = error;
        _this._complete = complete;
        return _this;
    }
    SafeSubscriber.prototype.next = function (value) {
        if (!this.isStopped && this._next) {
            var _parentSubscriber = this._parentSubscriber;
            if (!_config__WEBPACK_IMPORTED_MODULE_5__["config"].useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {
                this.__tryOrUnsub(this._next, value);
            }
            else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {
                this.unsubscribe();
            }
        }
    };
    SafeSubscriber.prototype.error = function (err) {
        if (!this.isStopped) {
            var _parentSubscriber = this._parentSubscriber;
            var useDeprecatedSynchronousErrorHandling = _config__WEBPACK_IMPORTED_MODULE_5__["config"].useDeprecatedSynchronousErrorHandling;
            if (this._error) {
                if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {
                    this.__tryOrUnsub(this._error, err);
                    this.unsubscribe();
                }
                else {
                    this.__tryOrSetError(_parentSubscriber, this._error, err);
                    this.unsubscribe();
                }
            }
            else if (!_parentSubscriber.syncErrorThrowable) {
                this.unsubscribe();
                if (useDeprecatedSynchronousErrorHandling) {
                    throw err;
                }
                Object(_util_hostReportError__WEBPACK_IMPORTED_MODULE_6__["hostReportError"])(err);
            }
            else {
                if (useDeprecatedSynchronousErrorHandling) {
                    _parentSubscriber.syncErrorValue = err;
                    _parentSubscriber.syncErrorThrown = true;
                }
                else {
                    Object(_util_hostReportError__WEBPACK_IMPORTED_MODULE_6__["hostReportError"])(err);
                }
                this.unsubscribe();
            }
        }
    };
    SafeSubscriber.prototype.complete = function () {
        var _this = this;
        if (!this.isStopped) {
            var _parentSubscriber = this._parentSubscriber;
            if (this._complete) {
                var wrappedComplete = function () { return _this._complete.call(_this._context); };
                if (!_config__WEBPACK_IMPORTED_MODULE_5__["config"].useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {
                    this.__tryOrUnsub(wrappedComplete);
                    this.unsubscribe();
                }
                else {
                    this.__tryOrSetError(_parentSubscriber, wrappedComplete);
                    this.unsubscribe();
                }
            }
            else {
                this.unsubscribe();
            }
        }
    };
    SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {
        try {
            fn.call(this._context, value);
        }
        catch (err) {
            this.unsubscribe();
            if (_config__WEBPACK_IMPORTED_MODULE_5__["config"].useDeprecatedSynchronousErrorHandling) {
                throw err;
            }
            else {
                Object(_util_hostReportError__WEBPACK_IMPORTED_MODULE_6__["hostReportError"])(err);
            }
        }
    };
    SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {
        if (!_config__WEBPACK_IMPORTED_MODULE_5__["config"].useDeprecatedSynchronousErrorHandling) {
            throw new Error('bad call');
        }
        try {
            fn.call(this._context, value);
        }
        catch (err) {
            if (_config__WEBPACK_IMPORTED_MODULE_5__["config"].useDeprecatedSynchronousErrorHandling) {
                parent.syncErrorValue = err;
                parent.syncErrorThrown = true;
                return true;
            }
            else {
                Object(_util_hostReportError__WEBPACK_IMPORTED_MODULE_6__["hostReportError"])(err);
                return true;
            }
        }
        return false;
    };
    SafeSubscriber.prototype._unsubscribe = function () {
        var _parentSubscriber = this._parentSubscriber;
        this._context = null;
        this._parentSubscriber = null;
        _parentSubscriber.unsubscribe();
    };
    return SafeSubscriber;
}(Subscriber));

//# sourceMappingURL=Subscriber.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/Subscription.js":
/*!**********************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/Subscription.js ***!
  \**********************************************************/
/*! exports provided: Subscription */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Subscription", function() { return Subscription; });
/* harmony import */ var _util_isArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/isArray */ "./node_modules/rxjs/_esm5/internal/util/isArray.js");
/* harmony import */ var _util_isObject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/isObject */ "./node_modules/rxjs/_esm5/internal/util/isObject.js");
/* harmony import */ var _util_isFunction__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util/isFunction */ "./node_modules/rxjs/_esm5/internal/util/isFunction.js");
/* harmony import */ var _util_UnsubscriptionError__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./util/UnsubscriptionError */ "./node_modules/rxjs/_esm5/internal/util/UnsubscriptionError.js");
/** PURE_IMPORTS_START _util_isArray,_util_isObject,_util_isFunction,_util_UnsubscriptionError PURE_IMPORTS_END */




var Subscription = /*@__PURE__*/ (function () {
    function Subscription(unsubscribe) {
        this.closed = false;
        this._parentOrParents = null;
        this._subscriptions = null;
        if (unsubscribe) {
            this._ctorUnsubscribe = true;
            this._unsubscribe = unsubscribe;
        }
    }
    Subscription.prototype.unsubscribe = function () {
        var errors;
        if (this.closed) {
            return;
        }
        var _a = this, _parentOrParents = _a._parentOrParents, _ctorUnsubscribe = _a._ctorUnsubscribe, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;
        this.closed = true;
        this._parentOrParents = null;
        this._subscriptions = null;
        if (_parentOrParents instanceof Subscription) {
            _parentOrParents.remove(this);
        }
        else if (_parentOrParents !== null) {
            for (var index = 0; index < _parentOrParents.length; ++index) {
                var parent_1 = _parentOrParents[index];
                parent_1.remove(this);
            }
        }
        if (Object(_util_isFunction__WEBPACK_IMPORTED_MODULE_2__["isFunction"])(_unsubscribe)) {
            if (_ctorUnsubscribe) {
                this._unsubscribe = undefined;
            }
            try {
                _unsubscribe.call(this);
            }
            catch (e) {
                errors = e instanceof _util_UnsubscriptionError__WEBPACK_IMPORTED_MODULE_3__["UnsubscriptionError"] ? flattenUnsubscriptionErrors(e.errors) : [e];
            }
        }
        if (Object(_util_isArray__WEBPACK_IMPORTED_MODULE_0__["isArray"])(_subscriptions)) {
            var index = -1;
            var len = _subscriptions.length;
            while (++index < len) {
                var sub = _subscriptions[index];
                if (Object(_util_isObject__WEBPACK_IMPORTED_MODULE_1__["isObject"])(sub)) {
                    try {
                        sub.unsubscribe();
                    }
                    catch (e) {
                        errors = errors || [];
                        if (e instanceof _util_UnsubscriptionError__WEBPACK_IMPORTED_MODULE_3__["UnsubscriptionError"]) {
                            errors = errors.concat(flattenUnsubscriptionErrors(e.errors));
                        }
                        else {
                            errors.push(e);
                        }
                    }
                }
            }
        }
        if (errors) {
            throw new _util_UnsubscriptionError__WEBPACK_IMPORTED_MODULE_3__["UnsubscriptionError"](errors);
        }
    };
    Subscription.prototype.add = function (teardown) {
        var subscription = teardown;
        if (!teardown) {
            return Subscription.EMPTY;
        }
        switch (typeof teardown) {
            case 'function':
                subscription = new Subscription(teardown);
            case 'object':
                if (subscription === this || subscription.closed || typeof subscription.unsubscribe !== 'function') {
                    return subscription;
                }
                else if (this.closed) {
                    subscription.unsubscribe();
                    return subscription;
                }
                else if (!(subscription instanceof Subscription)) {
                    var tmp = subscription;
                    subscription = new Subscription();
                    subscription._subscriptions = [tmp];
                }
                break;
            default: {
                throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');
            }
        }
        var _parentOrParents = subscription._parentOrParents;
        if (_parentOrParents === null) {
            subscription._parentOrParents = this;
        }
        else if (_parentOrParents instanceof Subscription) {
            if (_parentOrParents === this) {
                return subscription;
            }
            subscription._parentOrParents = [_parentOrParents, this];
        }
        else if (_parentOrParents.indexOf(this) === -1) {
            _parentOrParents.push(this);
        }
        else {
            return subscription;
        }
        var subscriptions = this._subscriptions;
        if (subscriptions === null) {
            this._subscriptions = [subscription];
        }
        else {
            subscriptions.push(subscription);
        }
        return subscription;
    };
    Subscription.prototype.remove = function (subscription) {
        var subscriptions = this._subscriptions;
        if (subscriptions) {
            var subscriptionIndex = subscriptions.indexOf(subscription);
            if (subscriptionIndex !== -1) {
                subscriptions.splice(subscriptionIndex, 1);
            }
        }
    };
    Subscription.EMPTY = (function (empty) {
        empty.closed = true;
        return empty;
    }(new Subscription()));
    return Subscription;
}());

function flattenUnsubscriptionErrors(errors) {
    return errors.reduce(function (errs, err) { return errs.concat((err instanceof _util_UnsubscriptionError__WEBPACK_IMPORTED_MODULE_3__["UnsubscriptionError"]) ? err.errors : err); }, []);
}
//# sourceMappingURL=Subscription.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/config.js":
/*!****************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/config.js ***!
  \****************************************************/
/*! exports provided: config */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "config", function() { return config; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
var _enable_super_gross_mode_that_will_cause_bad_things = false;
var config = {
    Promise: undefined,
    set useDeprecatedSynchronousErrorHandling(value) {
        if (value) {
            var error = /*@__PURE__*/ new Error();
            /*@__PURE__*/ console.warn('DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n' + error.stack);
        }
        else if (_enable_super_gross_mode_that_will_cause_bad_things) {
            /*@__PURE__*/ console.log('RxJS: Back to a better error behavior. Thank you. <3');
        }
        _enable_super_gross_mode_that_will_cause_bad_things = value;
    },
    get useDeprecatedSynchronousErrorHandling() {
        return _enable_super_gross_mode_that_will_cause_bad_things;
    },
};
//# sourceMappingURL=config.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js":
/*!************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/innerSubscribe.js ***!
  \************************************************************/
/*! exports provided: SimpleInnerSubscriber, ComplexInnerSubscriber, SimpleOuterSubscriber, ComplexOuterSubscriber, innerSubscribe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SimpleInnerSubscriber", function() { return SimpleInnerSubscriber; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ComplexInnerSubscriber", function() { return ComplexInnerSubscriber; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SimpleOuterSubscriber", function() { return SimpleOuterSubscriber; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ComplexOuterSubscriber", function() { return ComplexOuterSubscriber; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "innerSubscribe", function() { return innerSubscribe; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _util_subscribeTo__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./util/subscribeTo */ "./node_modules/rxjs/_esm5/internal/util/subscribeTo.js");
/** PURE_IMPORTS_START tslib,_Subscriber,_Observable,_util_subscribeTo PURE_IMPORTS_END */




var SimpleInnerSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SimpleInnerSubscriber, _super);
    function SimpleInnerSubscriber(parent) {
        var _this = _super.call(this) || this;
        _this.parent = parent;
        return _this;
    }
    SimpleInnerSubscriber.prototype._next = function (value) {
        this.parent.notifyNext(value);
    };
    SimpleInnerSubscriber.prototype._error = function (error) {
        this.parent.notifyError(error);
        this.unsubscribe();
    };
    SimpleInnerSubscriber.prototype._complete = function () {
        this.parent.notifyComplete();
        this.unsubscribe();
    };
    return SimpleInnerSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));

var ComplexInnerSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ComplexInnerSubscriber, _super);
    function ComplexInnerSubscriber(parent, outerValue, outerIndex) {
        var _this = _super.call(this) || this;
        _this.parent = parent;
        _this.outerValue = outerValue;
        _this.outerIndex = outerIndex;
        return _this;
    }
    ComplexInnerSubscriber.prototype._next = function (value) {
        this.parent.notifyNext(this.outerValue, value, this.outerIndex, this);
    };
    ComplexInnerSubscriber.prototype._error = function (error) {
        this.parent.notifyError(error);
        this.unsubscribe();
    };
    ComplexInnerSubscriber.prototype._complete = function () {
        this.parent.notifyComplete(this);
        this.unsubscribe();
    };
    return ComplexInnerSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));

var SimpleOuterSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SimpleOuterSubscriber, _super);
    function SimpleOuterSubscriber() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    SimpleOuterSubscriber.prototype.notifyNext = function (innerValue) {
        this.destination.next(innerValue);
    };
    SimpleOuterSubscriber.prototype.notifyError = function (err) {
        this.destination.error(err);
    };
    SimpleOuterSubscriber.prototype.notifyComplete = function () {
        this.destination.complete();
    };
    return SimpleOuterSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));

var ComplexOuterSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ComplexOuterSubscriber, _super);
    function ComplexOuterSubscriber() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ComplexOuterSubscriber.prototype.notifyNext = function (_outerValue, innerValue, _outerIndex, _innerSub) {
        this.destination.next(innerValue);
    };
    ComplexOuterSubscriber.prototype.notifyError = function (error) {
        this.destination.error(error);
    };
    ComplexOuterSubscriber.prototype.notifyComplete = function (_innerSub) {
        this.destination.complete();
    };
    return ComplexOuterSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));

function innerSubscribe(result, innerSubscriber) {
    if (innerSubscriber.closed) {
        return undefined;
    }
    if (result instanceof _Observable__WEBPACK_IMPORTED_MODULE_2__["Observable"]) {
        return result.subscribe(innerSubscriber);
    }
    return Object(_util_subscribeTo__WEBPACK_IMPORTED_MODULE_3__["subscribeTo"])(result)(innerSubscriber);
}
//# sourceMappingURL=innerSubscribe.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/ConnectableObservable.js":
/*!******************************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/ConnectableObservable.js ***!
  \******************************************************************************/
/*! exports provided: ConnectableObservable, connectableObservableDescriptor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConnectableObservable", function() { return ConnectableObservable; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "connectableObservableDescriptor", function() { return connectableObservableDescriptor; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subject */ "./node_modules/rxjs/_esm5/internal/Subject.js");
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _Subscription__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Subscription */ "./node_modules/rxjs/_esm5/internal/Subscription.js");
/* harmony import */ var _operators_refCount__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../operators/refCount */ "./node_modules/rxjs/_esm5/internal/operators/refCount.js");
/** PURE_IMPORTS_START tslib,_Subject,_Observable,_Subscriber,_Subscription,_operators_refCount PURE_IMPORTS_END */






var ConnectableObservable = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ConnectableObservable, _super);
    function ConnectableObservable(source, subjectFactory) {
        var _this = _super.call(this) || this;
        _this.source = source;
        _this.subjectFactory = subjectFactory;
        _this._refCount = 0;
        _this._isComplete = false;
        return _this;
    }
    ConnectableObservable.prototype._subscribe = function (subscriber) {
        return this.getSubject().subscribe(subscriber);
    };
    ConnectableObservable.prototype.getSubject = function () {
        var subject = this._subject;
        if (!subject || subject.isStopped) {
            this._subject = this.subjectFactory();
        }
        return this._subject;
    };
    ConnectableObservable.prototype.connect = function () {
        var connection = this._connection;
        if (!connection) {
            this._isComplete = false;
            connection = this._connection = new _Subscription__WEBPACK_IMPORTED_MODULE_4__["Subscription"]();
            connection.add(this.source
                .subscribe(new ConnectableSubscriber(this.getSubject(), this)));
            if (connection.closed) {
                this._connection = null;
                connection = _Subscription__WEBPACK_IMPORTED_MODULE_4__["Subscription"].EMPTY;
            }
        }
        return connection;
    };
    ConnectableObservable.prototype.refCount = function () {
        return Object(_operators_refCount__WEBPACK_IMPORTED_MODULE_5__["refCount"])()(this);
    };
    return ConnectableObservable;
}(_Observable__WEBPACK_IMPORTED_MODULE_2__["Observable"]));

var connectableObservableDescriptor = /*@__PURE__*/ (function () {
    var connectableProto = ConnectableObservable.prototype;
    return {
        operator: { value: null },
        _refCount: { value: 0, writable: true },
        _subject: { value: null, writable: true },
        _connection: { value: null, writable: true },
        _subscribe: { value: connectableProto._subscribe },
        _isComplete: { value: connectableProto._isComplete, writable: true },
        getSubject: { value: connectableProto.getSubject },
        connect: { value: connectableProto.connect },
        refCount: { value: connectableProto.refCount }
    };
})();
var ConnectableSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ConnectableSubscriber, _super);
    function ConnectableSubscriber(destination, connectable) {
        var _this = _super.call(this, destination) || this;
        _this.connectable = connectable;
        return _this;
    }
    ConnectableSubscriber.prototype._error = function (err) {
        this._unsubscribe();
        _super.prototype._error.call(this, err);
    };
    ConnectableSubscriber.prototype._complete = function () {
        this.connectable._isComplete = true;
        this._unsubscribe();
        _super.prototype._complete.call(this);
    };
    ConnectableSubscriber.prototype._unsubscribe = function () {
        var connectable = this.connectable;
        if (connectable) {
            this.connectable = null;
            var connection = connectable._connection;
            connectable._refCount = 0;
            connectable._subject = null;
            connectable._connection = null;
            if (connection) {
                connection.unsubscribe();
            }
        }
    };
    return ConnectableSubscriber;
}(_Subject__WEBPACK_IMPORTED_MODULE_1__["SubjectSubscriber"]));
var RefCountOperator = /*@__PURE__*/ (function () {
    function RefCountOperator(connectable) {
        this.connectable = connectable;
    }
    RefCountOperator.prototype.call = function (subscriber, source) {
        var connectable = this.connectable;
        connectable._refCount++;
        var refCounter = new RefCountSubscriber(subscriber, connectable);
        var subscription = source.subscribe(refCounter);
        if (!refCounter.closed) {
            refCounter.connection = connectable.connect();
        }
        return subscription;
    };
    return RefCountOperator;
}());
var RefCountSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](RefCountSubscriber, _super);
    function RefCountSubscriber(destination, connectable) {
        var _this = _super.call(this, destination) || this;
        _this.connectable = connectable;
        return _this;
    }
    RefCountSubscriber.prototype._unsubscribe = function () {
        var connectable = this.connectable;
        if (!connectable) {
            this.connection = null;
            return;
        }
        this.connectable = null;
        var refCount = connectable._refCount;
        if (refCount <= 0) {
            this.connection = null;
            return;
        }
        connectable._refCount = refCount - 1;
        if (refCount > 1) {
            this.connection = null;
            return;
        }
        var connection = this.connection;
        var sharedConnection = connectable._connection;
        this.connection = null;
        if (sharedConnection && (!connection || sharedConnection === connection)) {
            sharedConnection.unsubscribe();
        }
    };
    return RefCountSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_3__["Subscriber"]));
//# sourceMappingURL=ConnectableObservable.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/SubscribeOnObservable.js":
/*!******************************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/SubscribeOnObservable.js ***!
  \******************************************************************************/
/*! exports provided: SubscribeOnObservable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SubscribeOnObservable", function() { return SubscribeOnObservable; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _scheduler_asap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../scheduler/asap */ "./node_modules/rxjs/_esm5/internal/scheduler/asap.js");
/* harmony import */ var _util_isNumeric__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/isNumeric */ "./node_modules/rxjs/_esm5/internal/util/isNumeric.js");
/** PURE_IMPORTS_START tslib,_Observable,_scheduler_asap,_util_isNumeric PURE_IMPORTS_END */




var SubscribeOnObservable = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SubscribeOnObservable, _super);
    function SubscribeOnObservable(source, delayTime, scheduler) {
        if (delayTime === void 0) {
            delayTime = 0;
        }
        if (scheduler === void 0) {
            scheduler = _scheduler_asap__WEBPACK_IMPORTED_MODULE_2__["asap"];
        }
        var _this = _super.call(this) || this;
        _this.source = source;
        _this.delayTime = delayTime;
        _this.scheduler = scheduler;
        if (!Object(_util_isNumeric__WEBPACK_IMPORTED_MODULE_3__["isNumeric"])(delayTime) || delayTime < 0) {
            _this.delayTime = 0;
        }
        if (!scheduler || typeof scheduler.schedule !== 'function') {
            _this.scheduler = _scheduler_asap__WEBPACK_IMPORTED_MODULE_2__["asap"];
        }
        return _this;
    }
    SubscribeOnObservable.create = function (source, delay, scheduler) {
        if (delay === void 0) {
            delay = 0;
        }
        if (scheduler === void 0) {
            scheduler = _scheduler_asap__WEBPACK_IMPORTED_MODULE_2__["asap"];
        }
        return new SubscribeOnObservable(source, delay, scheduler);
    };
    SubscribeOnObservable.dispatch = function (arg) {
        var source = arg.source, subscriber = arg.subscriber;
        return this.add(source.subscribe(subscriber));
    };
    SubscribeOnObservable.prototype._subscribe = function (subscriber) {
        var delay = this.delayTime;
        var source = this.source;
        var scheduler = this.scheduler;
        return scheduler.schedule(SubscribeOnObservable.dispatch, delay, {
            source: source, subscriber: subscriber
        });
    };
    return SubscribeOnObservable;
}(_Observable__WEBPACK_IMPORTED_MODULE_1__["Observable"]));

//# sourceMappingURL=SubscribeOnObservable.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/bindCallback.js":
/*!*********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/bindCallback.js ***!
  \*********************************************************************/
/*! exports provided: bindCallback */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bindCallback", function() { return bindCallback; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _AsyncSubject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../AsyncSubject */ "./node_modules/rxjs/_esm5/internal/AsyncSubject.js");
/* harmony import */ var _operators_map__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../operators/map */ "./node_modules/rxjs/_esm5/internal/operators/map.js");
/* harmony import */ var _util_canReportError__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/canReportError */ "./node_modules/rxjs/_esm5/internal/util/canReportError.js");
/* harmony import */ var _util_isArray__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/isArray */ "./node_modules/rxjs/_esm5/internal/util/isArray.js");
/* harmony import */ var _util_isScheduler__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/isScheduler */ "./node_modules/rxjs/_esm5/internal/util/isScheduler.js");
/** PURE_IMPORTS_START _Observable,_AsyncSubject,_operators_map,_util_canReportError,_util_isArray,_util_isScheduler PURE_IMPORTS_END */






function bindCallback(callbackFunc, resultSelector, scheduler) {
    if (resultSelector) {
        if (Object(_util_isScheduler__WEBPACK_IMPORTED_MODULE_5__["isScheduler"])(resultSelector)) {
            scheduler = resultSelector;
        }
        else {
            return function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i] = arguments[_i];
                }
                return bindCallback(callbackFunc, scheduler).apply(void 0, args).pipe(Object(_operators_map__WEBPACK_IMPORTED_MODULE_2__["map"])(function (args) { return Object(_util_isArray__WEBPACK_IMPORTED_MODULE_4__["isArray"])(args) ? resultSelector.apply(void 0, args) : resultSelector(args); }));
            };
        }
    }
    return function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        var context = this;
        var subject;
        var params = {
            context: context,
            subject: subject,
            callbackFunc: callbackFunc,
            scheduler: scheduler,
        };
        return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) {
            if (!scheduler) {
                if (!subject) {
                    subject = new _AsyncSubject__WEBPACK_IMPORTED_MODULE_1__["AsyncSubject"]();
                    var handler = function () {
                        var innerArgs = [];
                        for (var _i = 0; _i < arguments.length; _i++) {
                            innerArgs[_i] = arguments[_i];
                        }
                        subject.next(innerArgs.length <= 1 ? innerArgs[0] : innerArgs);
                        subject.complete();
                    };
                    try {
                        callbackFunc.apply(context, args.concat([handler]));
                    }
                    catch (err) {
                        if (Object(_util_canReportError__WEBPACK_IMPORTED_MODULE_3__["canReportError"])(subject)) {
                            subject.error(err);
                        }
                        else {
                            console.warn(err);
                        }
                    }
                }
                return subject.subscribe(subscriber);
            }
            else {
                var state = {
                    args: args, subscriber: subscriber, params: params,
                };
                return scheduler.schedule(dispatch, 0, state);
            }
        });
    };
}
function dispatch(state) {
    var _this = this;
    var self = this;
    var args = state.args, subscriber = state.subscriber, params = state.params;
    var callbackFunc = params.callbackFunc, context = params.context, scheduler = params.scheduler;
    var subject = params.subject;
    if (!subject) {
        subject = params.subject = new _AsyncSubject__WEBPACK_IMPORTED_MODULE_1__["AsyncSubject"]();
        var handler = function () {
            var innerArgs = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                innerArgs[_i] = arguments[_i];
            }
            var value = innerArgs.length <= 1 ? innerArgs[0] : innerArgs;
            _this.add(scheduler.schedule(dispatchNext, 0, { value: value, subject: subject }));
        };
        try {
            callbackFunc.apply(context, args.concat([handler]));
        }
        catch (err) {
            subject.error(err);
        }
    }
    this.add(subject.subscribe(subscriber));
}
function dispatchNext(state) {
    var value = state.value, subject = state.subject;
    subject.next(value);
    subject.complete();
}
function dispatchError(state) {
    var err = state.err, subject = state.subject;
    subject.error(err);
}
//# sourceMappingURL=bindCallback.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/bindNodeCallback.js":
/*!*************************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/bindNodeCallback.js ***!
  \*************************************************************************/
/*! exports provided: bindNodeCallback */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bindNodeCallback", function() { return bindNodeCallback; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _AsyncSubject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../AsyncSubject */ "./node_modules/rxjs/_esm5/internal/AsyncSubject.js");
/* harmony import */ var _operators_map__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../operators/map */ "./node_modules/rxjs/_esm5/internal/operators/map.js");
/* harmony import */ var _util_canReportError__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/canReportError */ "./node_modules/rxjs/_esm5/internal/util/canReportError.js");
/* harmony import */ var _util_isScheduler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/isScheduler */ "./node_modules/rxjs/_esm5/internal/util/isScheduler.js");
/* harmony import */ var _util_isArray__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/isArray */ "./node_modules/rxjs/_esm5/internal/util/isArray.js");
/** PURE_IMPORTS_START _Observable,_AsyncSubject,_operators_map,_util_canReportError,_util_isScheduler,_util_isArray PURE_IMPORTS_END */






function bindNodeCallback(callbackFunc, resultSelector, scheduler) {
    if (resultSelector) {
        if (Object(_util_isScheduler__WEBPACK_IMPORTED_MODULE_4__["isScheduler"])(resultSelector)) {
            scheduler = resultSelector;
        }
        else {
            return function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i] = arguments[_i];
                }
                return bindNodeCallback(callbackFunc, scheduler).apply(void 0, args).pipe(Object(_operators_map__WEBPACK_IMPORTED_MODULE_2__["map"])(function (args) { return Object(_util_isArray__WEBPACK_IMPORTED_MODULE_5__["isArray"])(args) ? resultSelector.apply(void 0, args) : resultSelector(args); }));
            };
        }
    }
    return function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        var params = {
            subject: undefined,
            args: args,
            callbackFunc: callbackFunc,
            scheduler: scheduler,
            context: this,
        };
        return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) {
            var context = params.context;
            var subject = params.subject;
            if (!scheduler) {
                if (!subject) {
                    subject = params.subject = new _AsyncSubject__WEBPACK_IMPORTED_MODULE_1__["AsyncSubject"]();
                    var handler = function () {
                        var innerArgs = [];
                        for (var _i = 0; _i < arguments.length; _i++) {
                            innerArgs[_i] = arguments[_i];
                        }
                        var err = innerArgs.shift();
                        if (err) {
                            subject.error(err);
                            return;
                        }
                        subject.next(innerArgs.length <= 1 ? innerArgs[0] : innerArgs);
                        subject.complete();
                    };
                    try {
                        callbackFunc.apply(context, args.concat([handler]));
                    }
                    catch (err) {
                        if (Object(_util_canReportError__WEBPACK_IMPORTED_MODULE_3__["canReportError"])(subject)) {
                            subject.error(err);
                        }
                        else {
                            console.warn(err);
                        }
                    }
                }
                return subject.subscribe(subscriber);
            }
            else {
                return scheduler.schedule(dispatch, 0, { params: params, subscriber: subscriber, context: context });
            }
        });
    };
}
function dispatch(state) {
    var _this = this;
    var params = state.params, subscriber = state.subscriber, context = state.context;
    var callbackFunc = params.callbackFunc, args = params.args, scheduler = params.scheduler;
    var subject = params.subject;
    if (!subject) {
        subject = params.subject = new _AsyncSubject__WEBPACK_IMPORTED_MODULE_1__["AsyncSubject"]();
        var handler = function () {
            var innerArgs = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                innerArgs[_i] = arguments[_i];
            }
            var err = innerArgs.shift();
            if (err) {
                _this.add(scheduler.schedule(dispatchError, 0, { err: err, subject: subject }));
            }
            else {
                var value = innerArgs.length <= 1 ? innerArgs[0] : innerArgs;
                _this.add(scheduler.schedule(dispatchNext, 0, { value: value, subject: subject }));
            }
        };
        try {
            callbackFunc.apply(context, args.concat([handler]));
        }
        catch (err) {
            this.add(scheduler.schedule(dispatchError, 0, { err: err, subject: subject }));
        }
    }
    this.add(subject.subscribe(subscriber));
}
function dispatchNext(arg) {
    var value = arg.value, subject = arg.subject;
    subject.next(value);
    subject.complete();
}
function dispatchError(arg) {
    var err = arg.err, subject = arg.subject;
    subject.error(err);
}
//# sourceMappingURL=bindNodeCallback.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/combineLatest.js":
/*!**********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/combineLatest.js ***!
  \**********************************************************************/
/*! exports provided: combineLatest, CombineLatestOperator, CombineLatestSubscriber */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "combineLatest", function() { return combineLatest; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CombineLatestOperator", function() { return CombineLatestOperator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CombineLatestSubscriber", function() { return CombineLatestSubscriber; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _util_isScheduler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/isScheduler */ "./node_modules/rxjs/_esm5/internal/util/isScheduler.js");
/* harmony import */ var _util_isArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/isArray */ "./node_modules/rxjs/_esm5/internal/util/isArray.js");
/* harmony import */ var _OuterSubscriber__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../OuterSubscriber */ "./node_modules/rxjs/_esm5/internal/OuterSubscriber.js");
/* harmony import */ var _util_subscribeToResult__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/subscribeToResult */ "./node_modules/rxjs/_esm5/internal/util/subscribeToResult.js");
/* harmony import */ var _fromArray__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./fromArray */ "./node_modules/rxjs/_esm5/internal/observable/fromArray.js");
/** PURE_IMPORTS_START tslib,_util_isScheduler,_util_isArray,_OuterSubscriber,_util_subscribeToResult,_fromArray PURE_IMPORTS_END */






var NONE = {};
function combineLatest() {
    var observables = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        observables[_i] = arguments[_i];
    }
    var resultSelector = undefined;
    var scheduler = undefined;
    if (Object(_util_isScheduler__WEBPACK_IMPORTED_MODULE_1__["isScheduler"])(observables[observables.length - 1])) {
        scheduler = observables.pop();
    }
    if (typeof observables[observables.length - 1] === 'function') {
        resultSelector = observables.pop();
    }
    if (observables.length === 1 && Object(_util_isArray__WEBPACK_IMPORTED_MODULE_2__["isArray"])(observables[0])) {
        observables = observables[0];
    }
    return Object(_fromArray__WEBPACK_IMPORTED_MODULE_5__["fromArray"])(observables, scheduler).lift(new CombineLatestOperator(resultSelector));
}
var CombineLatestOperator = /*@__PURE__*/ (function () {
    function CombineLatestOperator(resultSelector) {
        this.resultSelector = resultSelector;
    }
    CombineLatestOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new CombineLatestSubscriber(subscriber, this.resultSelector));
    };
    return CombineLatestOperator;
}());

var CombineLatestSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](CombineLatestSubscriber, _super);
    function CombineLatestSubscriber(destination, resultSelector) {
        var _this = _super.call(this, destination) || this;
        _this.resultSelector = resultSelector;
        _this.active = 0;
        _this.values = [];
        _this.observables = [];
        return _this;
    }
    CombineLatestSubscriber.prototype._next = function (observable) {
        this.values.push(NONE);
        this.observables.push(observable);
    };
    CombineLatestSubscriber.prototype._complete = function () {
        var observables = this.observables;
        var len = observables.length;
        if (len === 0) {
            this.destination.complete();
        }
        else {
            this.active = len;
            this.toRespond = len;
            for (var i = 0; i < len; i++) {
                var observable = observables[i];
                this.add(Object(_util_subscribeToResult__WEBPACK_IMPORTED_MODULE_4__["subscribeToResult"])(this, observable, undefined, i));
            }
        }
    };
    CombineLatestSubscriber.prototype.notifyComplete = function (unused) {
        if ((this.active -= 1) === 0) {
            this.destination.complete();
        }
    };
    CombineLatestSubscriber.prototype.notifyNext = function (_outerValue, innerValue, outerIndex) {
        var values = this.values;
        var oldVal = values[outerIndex];
        var toRespond = !this.toRespond
            ? 0
            : oldVal === NONE ? --this.toRespond : this.toRespond;
        values[outerIndex] = innerValue;
        if (toRespond === 0) {
            if (this.resultSelector) {
                this._tryResultSelector(values);
            }
            else {
                this.destination.next(values.slice());
            }
        }
    };
    CombineLatestSubscriber.prototype._tryResultSelector = function (values) {
        var result;
        try {
            result = this.resultSelector.apply(this, values);
        }
        catch (err) {
            this.destination.error(err);
            return;
        }
        this.destination.next(result);
    };
    return CombineLatestSubscriber;
}(_OuterSubscriber__WEBPACK_IMPORTED_MODULE_3__["OuterSubscriber"]));

//# sourceMappingURL=combineLatest.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/concat.js":
/*!***************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/concat.js ***!
  \***************************************************************/
/*! exports provided: concat */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "concat", function() { return concat; });
/* harmony import */ var _of__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./of */ "./node_modules/rxjs/_esm5/internal/observable/of.js");
/* harmony import */ var _operators_concatAll__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../operators/concatAll */ "./node_modules/rxjs/_esm5/internal/operators/concatAll.js");
/** PURE_IMPORTS_START _of,_operators_concatAll PURE_IMPORTS_END */


function concat() {
    var observables = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        observables[_i] = arguments[_i];
    }
    return Object(_operators_concatAll__WEBPACK_IMPORTED_MODULE_1__["concatAll"])()(_of__WEBPACK_IMPORTED_MODULE_0__["of"].apply(void 0, observables));
}
//# sourceMappingURL=concat.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/defer.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/defer.js ***!
  \**************************************************************/
/*! exports provided: defer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "defer", function() { return defer; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _from__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./from */ "./node_modules/rxjs/_esm5/internal/observable/from.js");
/* harmony import */ var _empty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./empty */ "./node_modules/rxjs/_esm5/internal/observable/empty.js");
/** PURE_IMPORTS_START _Observable,_from,_empty PURE_IMPORTS_END */



function defer(observableFactory) {
    return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) {
        var input;
        try {
            input = observableFactory();
        }
        catch (err) {
            subscriber.error(err);
            return undefined;
        }
        var source = input ? Object(_from__WEBPACK_IMPORTED_MODULE_1__["from"])(input) : Object(_empty__WEBPACK_IMPORTED_MODULE_2__["empty"])();
        return source.subscribe(subscriber);
    });
}
//# sourceMappingURL=defer.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/empty.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/empty.js ***!
  \**************************************************************/
/*! exports provided: EMPTY, empty */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EMPTY", function() { return EMPTY; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "empty", function() { return empty; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/** PURE_IMPORTS_START _Observable PURE_IMPORTS_END */

var EMPTY = /*@__PURE__*/ new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) { return subscriber.complete(); });
function empty(scheduler) {
    return scheduler ? emptyScheduled(scheduler) : EMPTY;
}
function emptyScheduled(scheduler) {
    return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) { return scheduler.schedule(function () { return subscriber.complete(); }); });
}
//# sourceMappingURL=empty.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/forkJoin.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/forkJoin.js ***!
  \*****************************************************************/
/*! exports provided: forkJoin */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "forkJoin", function() { return forkJoin; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _util_isArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/isArray */ "./node_modules/rxjs/_esm5/internal/util/isArray.js");
/* harmony import */ var _operators_map__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../operators/map */ "./node_modules/rxjs/_esm5/internal/operators/map.js");
/* harmony import */ var _util_isObject__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/isObject */ "./node_modules/rxjs/_esm5/internal/util/isObject.js");
/* harmony import */ var _from__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./from */ "./node_modules/rxjs/_esm5/internal/observable/from.js");
/** PURE_IMPORTS_START _Observable,_util_isArray,_operators_map,_util_isObject,_from PURE_IMPORTS_END */





function forkJoin() {
    var sources = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        sources[_i] = arguments[_i];
    }
    if (sources.length === 1) {
        var first_1 = sources[0];
        if (Object(_util_isArray__WEBPACK_IMPORTED_MODULE_1__["isArray"])(first_1)) {
            return forkJoinInternal(first_1, null);
        }
        if (Object(_util_isObject__WEBPACK_IMPORTED_MODULE_3__["isObject"])(first_1) && Object.getPrototypeOf(first_1) === Object.prototype) {
            var keys = Object.keys(first_1);
            return forkJoinInternal(keys.map(function (key) { return first_1[key]; }), keys);
        }
    }
    if (typeof sources[sources.length - 1] === 'function') {
        var resultSelector_1 = sources.pop();
        sources = (sources.length === 1 && Object(_util_isArray__WEBPACK_IMPORTED_MODULE_1__["isArray"])(sources[0])) ? sources[0] : sources;
        return forkJoinInternal(sources, null).pipe(Object(_operators_map__WEBPACK_IMPORTED_MODULE_2__["map"])(function (args) { return resultSelector_1.apply(void 0, args); }));
    }
    return forkJoinInternal(sources, null);
}
function forkJoinInternal(sources, keys) {
    return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) {
        var len = sources.length;
        if (len === 0) {
            subscriber.complete();
            return;
        }
        var values = new Array(len);
        var completed = 0;
        var emitted = 0;
        var _loop_1 = function (i) {
            var source = Object(_from__WEBPACK_IMPORTED_MODULE_4__["from"])(sources[i]);
            var hasValue = false;
            subscriber.add(source.subscribe({
                next: function (value) {
                    if (!hasValue) {
                        hasValue = true;
                        emitted++;
                    }
                    values[i] = value;
                },
                error: function (err) { return subscriber.error(err); },
                complete: function () {
                    completed++;
                    if (completed === len || !hasValue) {
                        if (emitted === len) {
                            subscriber.next(keys ?
                                keys.reduce(function (result, key, i) { return (result[key] = values[i], result); }, {}) :
                                values);
                        }
                        subscriber.complete();
                    }
                }
            }));
        };
        for (var i = 0; i < len; i++) {
            _loop_1(i);
        }
    });
}
//# sourceMappingURL=forkJoin.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/from.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/from.js ***!
  \*************************************************************/
/*! exports provided: from */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "from", function() { return from; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _util_subscribeTo__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/subscribeTo */ "./node_modules/rxjs/_esm5/internal/util/subscribeTo.js");
/* harmony import */ var _scheduled_scheduled__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../scheduled/scheduled */ "./node_modules/rxjs/_esm5/internal/scheduled/scheduled.js");
/** PURE_IMPORTS_START _Observable,_util_subscribeTo,_scheduled_scheduled PURE_IMPORTS_END */



function from(input, scheduler) {
    if (!scheduler) {
        if (input instanceof _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"]) {
            return input;
        }
        return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](Object(_util_subscribeTo__WEBPACK_IMPORTED_MODULE_1__["subscribeTo"])(input));
    }
    else {
        return Object(_scheduled_scheduled__WEBPACK_IMPORTED_MODULE_2__["scheduled"])(input, scheduler);
    }
}
//# sourceMappingURL=from.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/fromArray.js":
/*!******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/fromArray.js ***!
  \******************************************************************/
/*! exports provided: fromArray */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fromArray", function() { return fromArray; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _util_subscribeToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/subscribeToArray */ "./node_modules/rxjs/_esm5/internal/util/subscribeToArray.js");
/* harmony import */ var _scheduled_scheduleArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../scheduled/scheduleArray */ "./node_modules/rxjs/_esm5/internal/scheduled/scheduleArray.js");
/** PURE_IMPORTS_START _Observable,_util_subscribeToArray,_scheduled_scheduleArray PURE_IMPORTS_END */



function fromArray(input, scheduler) {
    if (!scheduler) {
        return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](Object(_util_subscribeToArray__WEBPACK_IMPORTED_MODULE_1__["subscribeToArray"])(input));
    }
    else {
        return Object(_scheduled_scheduleArray__WEBPACK_IMPORTED_MODULE_2__["scheduleArray"])(input, scheduler);
    }
}
//# sourceMappingURL=fromArray.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/fromEvent.js":
/*!******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/fromEvent.js ***!
  \******************************************************************/
/*! exports provided: fromEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fromEvent", function() { return fromEvent; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _util_isArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/isArray */ "./node_modules/rxjs/_esm5/internal/util/isArray.js");
/* harmony import */ var _util_isFunction__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/isFunction */ "./node_modules/rxjs/_esm5/internal/util/isFunction.js");
/* harmony import */ var _operators_map__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../operators/map */ "./node_modules/rxjs/_esm5/internal/operators/map.js");
/** PURE_IMPORTS_START _Observable,_util_isArray,_util_isFunction,_operators_map PURE_IMPORTS_END */




var toString = /*@__PURE__*/ (function () { return Object.prototype.toString; })();
function fromEvent(target, eventName, options, resultSelector) {
    if (Object(_util_isFunction__WEBPACK_IMPORTED_MODULE_2__["isFunction"])(options)) {
        resultSelector = options;
        options = undefined;
    }
    if (resultSelector) {
        return fromEvent(target, eventName, options).pipe(Object(_operators_map__WEBPACK_IMPORTED_MODULE_3__["map"])(function (args) { return Object(_util_isArray__WEBPACK_IMPORTED_MODULE_1__["isArray"])(args) ? resultSelector.apply(void 0, args) : resultSelector(args); }));
    }
    return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) {
        function handler(e) {
            if (arguments.length > 1) {
                subscriber.next(Array.prototype.slice.call(arguments));
            }
            else {
                subscriber.next(e);
            }
        }
        setupSubscription(target, eventName, handler, subscriber, options);
    });
}
function setupSubscription(sourceObj, eventName, handler, subscriber, options) {
    var unsubscribe;
    if (isEventTarget(sourceObj)) {
        var source_1 = sourceObj;
        sourceObj.addEventListener(eventName, handler, options);
        unsubscribe = function () { return source_1.removeEventListener(eventName, handler, options); };
    }
    else if (isJQueryStyleEventEmitter(sourceObj)) {
        var source_2 = sourceObj;
        sourceObj.on(eventName, handler);
        unsubscribe = function () { return source_2.off(eventName, handler); };
    }
    else if (isNodeStyleEventEmitter(sourceObj)) {
        var source_3 = sourceObj;
        sourceObj.addListener(eventName, handler);
        unsubscribe = function () { return source_3.removeListener(eventName, handler); };
    }
    else if (sourceObj && sourceObj.length) {
        for (var i = 0, len = sourceObj.length; i < len; i++) {
            setupSubscription(sourceObj[i], eventName, handler, subscriber, options);
        }
    }
    else {
        throw new TypeError('Invalid event target');
    }
    subscriber.add(unsubscribe);
}
function isNodeStyleEventEmitter(sourceObj) {
    return sourceObj && typeof sourceObj.addListener === 'function' && typeof sourceObj.removeListener === 'function';
}
function isJQueryStyleEventEmitter(sourceObj) {
    return sourceObj && typeof sourceObj.on === 'function' && typeof sourceObj.off === 'function';
}
function isEventTarget(sourceObj) {
    return sourceObj && typeof sourceObj.addEventListener === 'function' && typeof sourceObj.removeEventListener === 'function';
}
//# sourceMappingURL=fromEvent.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/fromEventPattern.js":
/*!*************************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/fromEventPattern.js ***!
  \*************************************************************************/
/*! exports provided: fromEventPattern */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fromEventPattern", function() { return fromEventPattern; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _util_isArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/isArray */ "./node_modules/rxjs/_esm5/internal/util/isArray.js");
/* harmony import */ var _util_isFunction__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/isFunction */ "./node_modules/rxjs/_esm5/internal/util/isFunction.js");
/* harmony import */ var _operators_map__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../operators/map */ "./node_modules/rxjs/_esm5/internal/operators/map.js");
/** PURE_IMPORTS_START _Observable,_util_isArray,_util_isFunction,_operators_map PURE_IMPORTS_END */




function fromEventPattern(addHandler, removeHandler, resultSelector) {
    if (resultSelector) {
        return fromEventPattern(addHandler, removeHandler).pipe(Object(_operators_map__WEBPACK_IMPORTED_MODULE_3__["map"])(function (args) { return Object(_util_isArray__WEBPACK_IMPORTED_MODULE_1__["isArray"])(args) ? resultSelector.apply(void 0, args) : resultSelector(args); }));
    }
    return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) {
        var handler = function () {
            var e = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                e[_i] = arguments[_i];
            }
            return subscriber.next(e.length === 1 ? e[0] : e);
        };
        var retValue;
        try {
            retValue = addHandler(handler);
        }
        catch (err) {
            subscriber.error(err);
            return undefined;
        }
        if (!Object(_util_isFunction__WEBPACK_IMPORTED_MODULE_2__["isFunction"])(removeHandler)) {
            return undefined;
        }
        return function () { return removeHandler(handler, retValue); };
    });
}
//# sourceMappingURL=fromEventPattern.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/generate.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/generate.js ***!
  \*****************************************************************/
/*! exports provided: generate */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "generate", function() { return generate; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _util_identity__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/identity */ "./node_modules/rxjs/_esm5/internal/util/identity.js");
/* harmony import */ var _util_isScheduler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/isScheduler */ "./node_modules/rxjs/_esm5/internal/util/isScheduler.js");
/** PURE_IMPORTS_START _Observable,_util_identity,_util_isScheduler PURE_IMPORTS_END */



function generate(initialStateOrOptions, condition, iterate, resultSelectorOrObservable, scheduler) {
    var resultSelector;
    var initialState;
    if (arguments.length == 1) {
        var options = initialStateOrOptions;
        initialState = options.initialState;
        condition = options.condition;
        iterate = options.iterate;
        resultSelector = options.resultSelector || _util_identity__WEBPACK_IMPORTED_MODULE_1__["identity"];
        scheduler = options.scheduler;
    }
    else if (resultSelectorOrObservable === undefined || Object(_util_isScheduler__WEBPACK_IMPORTED_MODULE_2__["isScheduler"])(resultSelectorOrObservable)) {
        initialState = initialStateOrOptions;
        resultSelector = _util_identity__WEBPACK_IMPORTED_MODULE_1__["identity"];
        scheduler = resultSelectorOrObservable;
    }
    else {
        initialState = initialStateOrOptions;
        resultSelector = resultSelectorOrObservable;
    }
    return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) {
        var state = initialState;
        if (scheduler) {
            return scheduler.schedule(dispatch, 0, {
                subscriber: subscriber,
                iterate: iterate,
                condition: condition,
                resultSelector: resultSelector,
                state: state
            });
        }
        do {
            if (condition) {
                var conditionResult = void 0;
                try {
                    conditionResult = condition(state);
                }
                catch (err) {
                    subscriber.error(err);
                    return undefined;
                }
                if (!conditionResult) {
                    subscriber.complete();
                    break;
                }
            }
            var value = void 0;
            try {
                value = resultSelector(state);
            }
            catch (err) {
                subscriber.error(err);
                return undefined;
            }
            subscriber.next(value);
            if (subscriber.closed) {
                break;
            }
            try {
                state = iterate(state);
            }
            catch (err) {
                subscriber.error(err);
                return undefined;
            }
        } while (true);
        return undefined;
    });
}
function dispatch(state) {
    var subscriber = state.subscriber, condition = state.condition;
    if (subscriber.closed) {
        return undefined;
    }
    if (state.needIterate) {
        try {
            state.state = state.iterate(state.state);
        }
        catch (err) {
            subscriber.error(err);
            return undefined;
        }
    }
    else {
        state.needIterate = true;
    }
    if (condition) {
        var conditionResult = void 0;
        try {
            conditionResult = condition(state.state);
        }
        catch (err) {
            subscriber.error(err);
            return undefined;
        }
        if (!conditionResult) {
            subscriber.complete();
            return undefined;
        }
        if (subscriber.closed) {
            return undefined;
        }
    }
    var value;
    try {
        value = state.resultSelector(state.state);
    }
    catch (err) {
        subscriber.error(err);
        return undefined;
    }
    if (subscriber.closed) {
        return undefined;
    }
    subscriber.next(value);
    if (subscriber.closed) {
        return undefined;
    }
    return this.schedule(state);
}
//# sourceMappingURL=generate.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/iif.js":
/*!************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/iif.js ***!
  \************************************************************/
/*! exports provided: iif */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "iif", function() { return iif; });
/* harmony import */ var _defer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./defer */ "./node_modules/rxjs/_esm5/internal/observable/defer.js");
/* harmony import */ var _empty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./empty */ "./node_modules/rxjs/_esm5/internal/observable/empty.js");
/** PURE_IMPORTS_START _defer,_empty PURE_IMPORTS_END */


function iif(condition, trueResult, falseResult) {
    if (trueResult === void 0) {
        trueResult = _empty__WEBPACK_IMPORTED_MODULE_1__["EMPTY"];
    }
    if (falseResult === void 0) {
        falseResult = _empty__WEBPACK_IMPORTED_MODULE_1__["EMPTY"];
    }
    return Object(_defer__WEBPACK_IMPORTED_MODULE_0__["defer"])(function () { return condition() ? trueResult : falseResult; });
}
//# sourceMappingURL=iif.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/interval.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/interval.js ***!
  \*****************************************************************/
/*! exports provided: interval */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "interval", function() { return interval; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _scheduler_async__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../scheduler/async */ "./node_modules/rxjs/_esm5/internal/scheduler/async.js");
/* harmony import */ var _util_isNumeric__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/isNumeric */ "./node_modules/rxjs/_esm5/internal/util/isNumeric.js");
/** PURE_IMPORTS_START _Observable,_scheduler_async,_util_isNumeric PURE_IMPORTS_END */



function interval(period, scheduler) {
    if (period === void 0) {
        period = 0;
    }
    if (scheduler === void 0) {
        scheduler = _scheduler_async__WEBPACK_IMPORTED_MODULE_1__["async"];
    }
    if (!Object(_util_isNumeric__WEBPACK_IMPORTED_MODULE_2__["isNumeric"])(period) || period < 0) {
        period = 0;
    }
    if (!scheduler || typeof scheduler.schedule !== 'function') {
        scheduler = _scheduler_async__WEBPACK_IMPORTED_MODULE_1__["async"];
    }
    return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) {
        subscriber.add(scheduler.schedule(dispatch, period, { subscriber: subscriber, counter: 0, period: period }));
        return subscriber;
    });
}
function dispatch(state) {
    var subscriber = state.subscriber, counter = state.counter, period = state.period;
    subscriber.next(counter);
    this.schedule({ subscriber: subscriber, counter: counter + 1, period: period }, period);
}
//# sourceMappingURL=interval.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/merge.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/merge.js ***!
  \**************************************************************/
/*! exports provided: merge */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "merge", function() { return merge; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _util_isScheduler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/isScheduler */ "./node_modules/rxjs/_esm5/internal/util/isScheduler.js");
/* harmony import */ var _operators_mergeAll__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../operators/mergeAll */ "./node_modules/rxjs/_esm5/internal/operators/mergeAll.js");
/* harmony import */ var _fromArray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./fromArray */ "./node_modules/rxjs/_esm5/internal/observable/fromArray.js");
/** PURE_IMPORTS_START _Observable,_util_isScheduler,_operators_mergeAll,_fromArray PURE_IMPORTS_END */




function merge() {
    var observables = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        observables[_i] = arguments[_i];
    }
    var concurrent = Number.POSITIVE_INFINITY;
    var scheduler = null;
    var last = observables[observables.length - 1];
    if (Object(_util_isScheduler__WEBPACK_IMPORTED_MODULE_1__["isScheduler"])(last)) {
        scheduler = observables.pop();
        if (observables.length > 1 && typeof observables[observables.length - 1] === 'number') {
            concurrent = observables.pop();
        }
    }
    else if (typeof last === 'number') {
        concurrent = observables.pop();
    }
    if (scheduler === null && observables.length === 1 && observables[0] instanceof _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"]) {
        return observables[0];
    }
    return Object(_operators_mergeAll__WEBPACK_IMPORTED_MODULE_2__["mergeAll"])(concurrent)(Object(_fromArray__WEBPACK_IMPORTED_MODULE_3__["fromArray"])(observables, scheduler));
}
//# sourceMappingURL=merge.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/never.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/never.js ***!
  \**************************************************************/
/*! exports provided: NEVER, never */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NEVER", function() { return NEVER; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "never", function() { return never; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _util_noop__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/noop */ "./node_modules/rxjs/_esm5/internal/util/noop.js");
/** PURE_IMPORTS_START _Observable,_util_noop PURE_IMPORTS_END */


var NEVER = /*@__PURE__*/ new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](_util_noop__WEBPACK_IMPORTED_MODULE_1__["noop"]);
function never() {
    return NEVER;
}
//# sourceMappingURL=never.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/of.js":
/*!***********************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/of.js ***!
  \***********************************************************/
/*! exports provided: of */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "of", function() { return of; });
/* harmony import */ var _util_isScheduler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/isScheduler */ "./node_modules/rxjs/_esm5/internal/util/isScheduler.js");
/* harmony import */ var _fromArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fromArray */ "./node_modules/rxjs/_esm5/internal/observable/fromArray.js");
/* harmony import */ var _scheduled_scheduleArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../scheduled/scheduleArray */ "./node_modules/rxjs/_esm5/internal/scheduled/scheduleArray.js");
/** PURE_IMPORTS_START _util_isScheduler,_fromArray,_scheduled_scheduleArray PURE_IMPORTS_END */



function of() {
    var args = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
    }
    var scheduler = args[args.length - 1];
    if (Object(_util_isScheduler__WEBPACK_IMPORTED_MODULE_0__["isScheduler"])(scheduler)) {
        args.pop();
        return Object(_scheduled_scheduleArray__WEBPACK_IMPORTED_MODULE_2__["scheduleArray"])(args, scheduler);
    }
    else {
        return Object(_fromArray__WEBPACK_IMPORTED_MODULE_1__["fromArray"])(args);
    }
}
//# sourceMappingURL=of.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/onErrorResumeNext.js":
/*!**************************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/onErrorResumeNext.js ***!
  \**************************************************************************/
/*! exports provided: onErrorResumeNext */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "onErrorResumeNext", function() { return onErrorResumeNext; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _from__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./from */ "./node_modules/rxjs/_esm5/internal/observable/from.js");
/* harmony import */ var _util_isArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/isArray */ "./node_modules/rxjs/_esm5/internal/util/isArray.js");
/* harmony import */ var _empty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./empty */ "./node_modules/rxjs/_esm5/internal/observable/empty.js");
/** PURE_IMPORTS_START _Observable,_from,_util_isArray,_empty PURE_IMPORTS_END */




function onErrorResumeNext() {
    var sources = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        sources[_i] = arguments[_i];
    }
    if (sources.length === 0) {
        return _empty__WEBPACK_IMPORTED_MODULE_3__["EMPTY"];
    }
    var first = sources[0], remainder = sources.slice(1);
    if (sources.length === 1 && Object(_util_isArray__WEBPACK_IMPORTED_MODULE_2__["isArray"])(first)) {
        return onErrorResumeNext.apply(void 0, first);
    }
    return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) {
        var subNext = function () { return subscriber.add(onErrorResumeNext.apply(void 0, remainder).subscribe(subscriber)); };
        return Object(_from__WEBPACK_IMPORTED_MODULE_1__["from"])(first).subscribe({
            next: function (value) { subscriber.next(value); },
            error: subNext,
            complete: subNext,
        });
    });
}
//# sourceMappingURL=onErrorResumeNext.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/pairs.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/pairs.js ***!
  \**************************************************************/
/*! exports provided: pairs, dispatch */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pairs", function() { return pairs; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "dispatch", function() { return dispatch; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _Subscription__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscription */ "./node_modules/rxjs/_esm5/internal/Subscription.js");
/** PURE_IMPORTS_START _Observable,_Subscription PURE_IMPORTS_END */


function pairs(obj, scheduler) {
    if (!scheduler) {
        return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) {
            var keys = Object.keys(obj);
            for (var i = 0; i < keys.length && !subscriber.closed; i++) {
                var key = keys[i];
                if (obj.hasOwnProperty(key)) {
                    subscriber.next([key, obj[key]]);
                }
            }
            subscriber.complete();
        });
    }
    else {
        return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) {
            var keys = Object.keys(obj);
            var subscription = new _Subscription__WEBPACK_IMPORTED_MODULE_1__["Subscription"]();
            subscription.add(scheduler.schedule(dispatch, 0, { keys: keys, index: 0, subscriber: subscriber, subscription: subscription, obj: obj }));
            return subscription;
        });
    }
}
function dispatch(state) {
    var keys = state.keys, index = state.index, subscriber = state.subscriber, subscription = state.subscription, obj = state.obj;
    if (!subscriber.closed) {
        if (index < keys.length) {
            var key = keys[index];
            subscriber.next([key, obj[key]]);
            subscription.add(this.schedule({ keys: keys, index: index + 1, subscriber: subscriber, subscription: subscription, obj: obj }));
        }
        else {
            subscriber.complete();
        }
    }
}
//# sourceMappingURL=pairs.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/partition.js":
/*!******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/partition.js ***!
  \******************************************************************/
/*! exports provided: partition */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "partition", function() { return partition; });
/* harmony import */ var _util_not__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/not */ "./node_modules/rxjs/_esm5/internal/util/not.js");
/* harmony import */ var _util_subscribeTo__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/subscribeTo */ "./node_modules/rxjs/_esm5/internal/util/subscribeTo.js");
/* harmony import */ var _operators_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../operators/filter */ "./node_modules/rxjs/_esm5/internal/operators/filter.js");
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/** PURE_IMPORTS_START _util_not,_util_subscribeTo,_operators_filter,_Observable PURE_IMPORTS_END */




function partition(source, predicate, thisArg) {
    return [
        Object(_operators_filter__WEBPACK_IMPORTED_MODULE_2__["filter"])(predicate, thisArg)(new _Observable__WEBPACK_IMPORTED_MODULE_3__["Observable"](Object(_util_subscribeTo__WEBPACK_IMPORTED_MODULE_1__["subscribeTo"])(source))),
        Object(_operators_filter__WEBPACK_IMPORTED_MODULE_2__["filter"])(Object(_util_not__WEBPACK_IMPORTED_MODULE_0__["not"])(predicate, thisArg))(new _Observable__WEBPACK_IMPORTED_MODULE_3__["Observable"](Object(_util_subscribeTo__WEBPACK_IMPORTED_MODULE_1__["subscribeTo"])(source)))
    ];
}
//# sourceMappingURL=partition.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/race.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/race.js ***!
  \*************************************************************/
/*! exports provided: race, RaceOperator, RaceSubscriber */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "race", function() { return race; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RaceOperator", function() { return RaceOperator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RaceSubscriber", function() { return RaceSubscriber; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _util_isArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/isArray */ "./node_modules/rxjs/_esm5/internal/util/isArray.js");
/* harmony import */ var _fromArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./fromArray */ "./node_modules/rxjs/_esm5/internal/observable/fromArray.js");
/* harmony import */ var _OuterSubscriber__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../OuterSubscriber */ "./node_modules/rxjs/_esm5/internal/OuterSubscriber.js");
/* harmony import */ var _util_subscribeToResult__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/subscribeToResult */ "./node_modules/rxjs/_esm5/internal/util/subscribeToResult.js");
/** PURE_IMPORTS_START tslib,_util_isArray,_fromArray,_OuterSubscriber,_util_subscribeToResult PURE_IMPORTS_END */





function race() {
    var observables = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        observables[_i] = arguments[_i];
    }
    if (observables.length === 1) {
        if (Object(_util_isArray__WEBPACK_IMPORTED_MODULE_1__["isArray"])(observables[0])) {
            observables = observables[0];
        }
        else {
            return observables[0];
        }
    }
    return Object(_fromArray__WEBPACK_IMPORTED_MODULE_2__["fromArray"])(observables, undefined).lift(new RaceOperator());
}
var RaceOperator = /*@__PURE__*/ (function () {
    function RaceOperator() {
    }
    RaceOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new RaceSubscriber(subscriber));
    };
    return RaceOperator;
}());

var RaceSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](RaceSubscriber, _super);
    function RaceSubscriber(destination) {
        var _this = _super.call(this, destination) || this;
        _this.hasFirst = false;
        _this.observables = [];
        _this.subscriptions = [];
        return _this;
    }
    RaceSubscriber.prototype._next = function (observable) {
        this.observables.push(observable);
    };
    RaceSubscriber.prototype._complete = function () {
        var observables = this.observables;
        var len = observables.length;
        if (len === 0) {
            this.destination.complete();
        }
        else {
            for (var i = 0; i < len && !this.hasFirst; i++) {
                var observable = observables[i];
                var subscription = Object(_util_subscribeToResult__WEBPACK_IMPORTED_MODULE_4__["subscribeToResult"])(this, observable, undefined, i);
                if (this.subscriptions) {
                    this.subscriptions.push(subscription);
                }
                this.add(subscription);
            }
            this.observables = null;
        }
    };
    RaceSubscriber.prototype.notifyNext = function (_outerValue, innerValue, outerIndex) {
        if (!this.hasFirst) {
            this.hasFirst = true;
            for (var i = 0; i < this.subscriptions.length; i++) {
                if (i !== outerIndex) {
                    var subscription = this.subscriptions[i];
                    subscription.unsubscribe();
                    this.remove(subscription);
                }
            }
            this.subscriptions = null;
        }
        this.destination.next(innerValue);
    };
    return RaceSubscriber;
}(_OuterSubscriber__WEBPACK_IMPORTED_MODULE_3__["OuterSubscriber"]));

//# sourceMappingURL=race.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/range.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/range.js ***!
  \**************************************************************/
/*! exports provided: range, dispatch */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "range", function() { return range; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "dispatch", function() { return dispatch; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/** PURE_IMPORTS_START _Observable PURE_IMPORTS_END */

function range(start, count, scheduler) {
    if (start === void 0) {
        start = 0;
    }
    return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) {
        if (count === undefined) {
            count = start;
            start = 0;
        }
        var index = 0;
        var current = start;
        if (scheduler) {
            return scheduler.schedule(dispatch, 0, {
                index: index, count: count, start: start, subscriber: subscriber
            });
        }
        else {
            do {
                if (index++ >= count) {
                    subscriber.complete();
                    break;
                }
                subscriber.next(current++);
                if (subscriber.closed) {
                    break;
                }
            } while (true);
        }
        return undefined;
    });
}
function dispatch(state) {
    var start = state.start, index = state.index, count = state.count, subscriber = state.subscriber;
    if (index >= count) {
        subscriber.complete();
        return;
    }
    subscriber.next(start);
    if (subscriber.closed) {
        return;
    }
    state.index = index + 1;
    state.start = start + 1;
    this.schedule(state);
}
//# sourceMappingURL=range.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/throwError.js":
/*!*******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/throwError.js ***!
  \*******************************************************************/
/*! exports provided: throwError */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "throwError", function() { return throwError; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/** PURE_IMPORTS_START _Observable PURE_IMPORTS_END */

function throwError(error, scheduler) {
    if (!scheduler) {
        return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) { return subscriber.error(error); });
    }
    else {
        return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) { return scheduler.schedule(dispatch, 0, { error: error, subscriber: subscriber }); });
    }
}
function dispatch(_a) {
    var error = _a.error, subscriber = _a.subscriber;
    subscriber.error(error);
}
//# sourceMappingURL=throwError.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/timer.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/timer.js ***!
  \**************************************************************/
/*! exports provided: timer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "timer", function() { return timer; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _scheduler_async__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../scheduler/async */ "./node_modules/rxjs/_esm5/internal/scheduler/async.js");
/* harmony import */ var _util_isNumeric__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/isNumeric */ "./node_modules/rxjs/_esm5/internal/util/isNumeric.js");
/* harmony import */ var _util_isScheduler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/isScheduler */ "./node_modules/rxjs/_esm5/internal/util/isScheduler.js");
/** PURE_IMPORTS_START _Observable,_scheduler_async,_util_isNumeric,_util_isScheduler PURE_IMPORTS_END */




function timer(dueTime, periodOrScheduler, scheduler) {
    if (dueTime === void 0) {
        dueTime = 0;
    }
    var period = -1;
    if (Object(_util_isNumeric__WEBPACK_IMPORTED_MODULE_2__["isNumeric"])(periodOrScheduler)) {
        period = Number(periodOrScheduler) < 1 && 1 || Number(periodOrScheduler);
    }
    else if (Object(_util_isScheduler__WEBPACK_IMPORTED_MODULE_3__["isScheduler"])(periodOrScheduler)) {
        scheduler = periodOrScheduler;
    }
    if (!Object(_util_isScheduler__WEBPACK_IMPORTED_MODULE_3__["isScheduler"])(scheduler)) {
        scheduler = _scheduler_async__WEBPACK_IMPORTED_MODULE_1__["async"];
    }
    return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) {
        var due = Object(_util_isNumeric__WEBPACK_IMPORTED_MODULE_2__["isNumeric"])(dueTime)
            ? dueTime
            : (+dueTime - scheduler.now());
        return scheduler.schedule(dispatch, due, {
            index: 0, period: period, subscriber: subscriber
        });
    });
}
function dispatch(state) {
    var index = state.index, period = state.period, subscriber = state.subscriber;
    subscriber.next(index);
    if (subscriber.closed) {
        return;
    }
    else if (period === -1) {
        return subscriber.complete();
    }
    state.index = index + 1;
    this.schedule(state, period);
}
//# sourceMappingURL=timer.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/using.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/using.js ***!
  \**************************************************************/
/*! exports provided: using */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "using", function() { return using; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _from__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./from */ "./node_modules/rxjs/_esm5/internal/observable/from.js");
/* harmony import */ var _empty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./empty */ "./node_modules/rxjs/_esm5/internal/observable/empty.js");
/** PURE_IMPORTS_START _Observable,_from,_empty PURE_IMPORTS_END */



function using(resourceFactory, observableFactory) {
    return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) {
        var resource;
        try {
            resource = resourceFactory();
        }
        catch (err) {
            subscriber.error(err);
            return undefined;
        }
        var result;
        try {
            result = observableFactory(resource);
        }
        catch (err) {
            subscriber.error(err);
            return undefined;
        }
        var source = result ? Object(_from__WEBPACK_IMPORTED_MODULE_1__["from"])(result) : _empty__WEBPACK_IMPORTED_MODULE_2__["EMPTY"];
        var subscription = source.subscribe(subscriber);
        return function () {
            subscription.unsubscribe();
            if (resource) {
                resource.unsubscribe();
            }
        };
    });
}
//# sourceMappingURL=using.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/zip.js":
/*!************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/zip.js ***!
  \************************************************************/
/*! exports provided: zip, ZipOperator, ZipSubscriber */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "zip", function() { return zip; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ZipOperator", function() { return ZipOperator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ZipSubscriber", function() { return ZipSubscriber; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _fromArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fromArray */ "./node_modules/rxjs/_esm5/internal/observable/fromArray.js");
/* harmony import */ var _util_isArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/isArray */ "./node_modules/rxjs/_esm5/internal/util/isArray.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _internal_symbol_iterator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../internal/symbol/iterator */ "./node_modules/rxjs/_esm5/internal/symbol/iterator.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_fromArray,_util_isArray,_Subscriber,_.._internal_symbol_iterator,_innerSubscribe PURE_IMPORTS_END */






function zip() {
    var observables = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        observables[_i] = arguments[_i];
    }
    var resultSelector = observables[observables.length - 1];
    if (typeof resultSelector === 'function') {
        observables.pop();
    }
    return Object(_fromArray__WEBPACK_IMPORTED_MODULE_1__["fromArray"])(observables, undefined).lift(new ZipOperator(resultSelector));
}
var ZipOperator = /*@__PURE__*/ (function () {
    function ZipOperator(resultSelector) {
        this.resultSelector = resultSelector;
    }
    ZipOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new ZipSubscriber(subscriber, this.resultSelector));
    };
    return ZipOperator;
}());

var ZipSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ZipSubscriber, _super);
    function ZipSubscriber(destination, resultSelector, values) {
        if (values === void 0) {
            values = Object.create(null);
        }
        var _this = _super.call(this, destination) || this;
        _this.resultSelector = resultSelector;
        _this.iterators = [];
        _this.active = 0;
        _this.resultSelector = (typeof resultSelector === 'function') ? resultSelector : undefined;
        return _this;
    }
    ZipSubscriber.prototype._next = function (value) {
        var iterators = this.iterators;
        if (Object(_util_isArray__WEBPACK_IMPORTED_MODULE_2__["isArray"])(value)) {
            iterators.push(new StaticArrayIterator(value));
        }
        else if (typeof value[_internal_symbol_iterator__WEBPACK_IMPORTED_MODULE_4__["iterator"]] === 'function') {
            iterators.push(new StaticIterator(value[_internal_symbol_iterator__WEBPACK_IMPORTED_MODULE_4__["iterator"]]()));
        }
        else {
            iterators.push(new ZipBufferIterator(this.destination, this, value));
        }
    };
    ZipSubscriber.prototype._complete = function () {
        var iterators = this.iterators;
        var len = iterators.length;
        this.unsubscribe();
        if (len === 0) {
            this.destination.complete();
            return;
        }
        this.active = len;
        for (var i = 0; i < len; i++) {
            var iterator = iterators[i];
            if (iterator.stillUnsubscribed) {
                var destination = this.destination;
                destination.add(iterator.subscribe());
            }
            else {
                this.active--;
            }
        }
    };
    ZipSubscriber.prototype.notifyInactive = function () {
        this.active--;
        if (this.active === 0) {
            this.destination.complete();
        }
    };
    ZipSubscriber.prototype.checkIterators = function () {
        var iterators = this.iterators;
        var len = iterators.length;
        var destination = this.destination;
        for (var i = 0; i < len; i++) {
            var iterator = iterators[i];
            if (typeof iterator.hasValue === 'function' && !iterator.hasValue()) {
                return;
            }
        }
        var shouldComplete = false;
        var args = [];
        for (var i = 0; i < len; i++) {
            var iterator = iterators[i];
            var result = iterator.next();
            if (iterator.hasCompleted()) {
                shouldComplete = true;
            }
            if (result.done) {
                destination.complete();
                return;
            }
            args.push(result.value);
        }
        if (this.resultSelector) {
            this._tryresultSelector(args);
        }
        else {
            destination.next(args);
        }
        if (shouldComplete) {
            destination.complete();
        }
    };
    ZipSubscriber.prototype._tryresultSelector = function (args) {
        var result;
        try {
            result = this.resultSelector.apply(this, args);
        }
        catch (err) {
            this.destination.error(err);
            return;
        }
        this.destination.next(result);
    };
    return ZipSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_3__["Subscriber"]));

var StaticIterator = /*@__PURE__*/ (function () {
    function StaticIterator(iterator) {
        this.iterator = iterator;
        this.nextResult = iterator.next();
    }
    StaticIterator.prototype.hasValue = function () {
        return true;
    };
    StaticIterator.prototype.next = function () {
        var result = this.nextResult;
        this.nextResult = this.iterator.next();
        return result;
    };
    StaticIterator.prototype.hasCompleted = function () {
        var nextResult = this.nextResult;
        return Boolean(nextResult && nextResult.done);
    };
    return StaticIterator;
}());
var StaticArrayIterator = /*@__PURE__*/ (function () {
    function StaticArrayIterator(array) {
        this.array = array;
        this.index = 0;
        this.length = 0;
        this.length = array.length;
    }
    StaticArrayIterator.prototype[_internal_symbol_iterator__WEBPACK_IMPORTED_MODULE_4__["iterator"]] = function () {
        return this;
    };
    StaticArrayIterator.prototype.next = function (value) {
        var i = this.index++;
        var array = this.array;
        return i < this.length ? { value: array[i], done: false } : { value: null, done: true };
    };
    StaticArrayIterator.prototype.hasValue = function () {
        return this.array.length > this.index;
    };
    StaticArrayIterator.prototype.hasCompleted = function () {
        return this.array.length === this.index;
    };
    return StaticArrayIterator;
}());
var ZipBufferIterator = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ZipBufferIterator, _super);
    function ZipBufferIterator(destination, parent, observable) {
        var _this = _super.call(this, destination) || this;
        _this.parent = parent;
        _this.observable = observable;
        _this.stillUnsubscribed = true;
        _this.buffer = [];
        _this.isComplete = false;
        return _this;
    }
    ZipBufferIterator.prototype[_internal_symbol_iterator__WEBPACK_IMPORTED_MODULE_4__["iterator"]] = function () {
        return this;
    };
    ZipBufferIterator.prototype.next = function () {
        var buffer = this.buffer;
        if (buffer.length === 0 && this.isComplete) {
            return { value: null, done: true };
        }
        else {
            return { value: buffer.shift(), done: false };
        }
    };
    ZipBufferIterator.prototype.hasValue = function () {
        return this.buffer.length > 0;
    };
    ZipBufferIterator.prototype.hasCompleted = function () {
        return this.buffer.length === 0 && this.isComplete;
    };
    ZipBufferIterator.prototype.notifyComplete = function () {
        if (this.buffer.length > 0) {
            this.isComplete = true;
            this.parent.notifyInactive();
        }
        else {
            this.destination.complete();
        }
    };
    ZipBufferIterator.prototype.notifyNext = function (innerValue) {
        this.buffer.push(innerValue);
        this.parent.checkIterators();
    };
    ZipBufferIterator.prototype.subscribe = function () {
        return Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_5__["innerSubscribe"])(this.observable, new _innerSubscribe__WEBPACK_IMPORTED_MODULE_5__["SimpleInnerSubscriber"](this));
    };
    return ZipBufferIterator;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_5__["SimpleOuterSubscriber"]));
//# sourceMappingURL=zip.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/audit.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/audit.js ***!
  \*************************************************************/
/*! exports provided: audit */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "audit", function() { return audit; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */


function audit(durationSelector) {
    return function auditOperatorFunction(source) {
        return source.lift(new AuditOperator(durationSelector));
    };
}
var AuditOperator = /*@__PURE__*/ (function () {
    function AuditOperator(durationSelector) {
        this.durationSelector = durationSelector;
    }
    AuditOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new AuditSubscriber(subscriber, this.durationSelector));
    };
    return AuditOperator;
}());
var AuditSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](AuditSubscriber, _super);
    function AuditSubscriber(destination, durationSelector) {
        var _this = _super.call(this, destination) || this;
        _this.durationSelector = durationSelector;
        _this.hasValue = false;
        return _this;
    }
    AuditSubscriber.prototype._next = function (value) {
        this.value = value;
        this.hasValue = true;
        if (!this.throttled) {
            var duration = void 0;
            try {
                var durationSelector = this.durationSelector;
                duration = durationSelector(value);
            }
            catch (err) {
                return this.destination.error(err);
            }
            var innerSubscription = Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["innerSubscribe"])(duration, new _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleInnerSubscriber"](this));
            if (!innerSubscription || innerSubscription.closed) {
                this.clearThrottle();
            }
            else {
                this.add(this.throttled = innerSubscription);
            }
        }
    };
    AuditSubscriber.prototype.clearThrottle = function () {
        var _a = this, value = _a.value, hasValue = _a.hasValue, throttled = _a.throttled;
        if (throttled) {
            this.remove(throttled);
            this.throttled = undefined;
            throttled.unsubscribe();
        }
        if (hasValue) {
            this.value = undefined;
            this.hasValue = false;
            this.destination.next(value);
        }
    };
    AuditSubscriber.prototype.notifyNext = function () {
        this.clearThrottle();
    };
    AuditSubscriber.prototype.notifyComplete = function () {
        this.clearThrottle();
    };
    return AuditSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleOuterSubscriber"]));
//# sourceMappingURL=audit.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/auditTime.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/auditTime.js ***!
  \*****************************************************************/
/*! exports provided: auditTime */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "auditTime", function() { return auditTime; });
/* harmony import */ var _scheduler_async__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../scheduler/async */ "./node_modules/rxjs/_esm5/internal/scheduler/async.js");
/* harmony import */ var _audit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./audit */ "./node_modules/rxjs/_esm5/internal/operators/audit.js");
/* harmony import */ var _observable_timer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../observable/timer */ "./node_modules/rxjs/_esm5/internal/observable/timer.js");
/** PURE_IMPORTS_START _scheduler_async,_audit,_observable_timer PURE_IMPORTS_END */



function auditTime(duration, scheduler) {
    if (scheduler === void 0) {
        scheduler = _scheduler_async__WEBPACK_IMPORTED_MODULE_0__["async"];
    }
    return Object(_audit__WEBPACK_IMPORTED_MODULE_1__["audit"])(function () { return Object(_observable_timer__WEBPACK_IMPORTED_MODULE_2__["timer"])(duration, scheduler); });
}
//# sourceMappingURL=auditTime.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/buffer.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/buffer.js ***!
  \**************************************************************/
/*! exports provided: buffer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "buffer", function() { return buffer; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */


function buffer(closingNotifier) {
    return function bufferOperatorFunction(source) {
        return source.lift(new BufferOperator(closingNotifier));
    };
}
var BufferOperator = /*@__PURE__*/ (function () {
    function BufferOperator(closingNotifier) {
        this.closingNotifier = closingNotifier;
    }
    BufferOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new BufferSubscriber(subscriber, this.closingNotifier));
    };
    return BufferOperator;
}());
var BufferSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](BufferSubscriber, _super);
    function BufferSubscriber(destination, closingNotifier) {
        var _this = _super.call(this, destination) || this;
        _this.buffer = [];
        _this.add(Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["innerSubscribe"])(closingNotifier, new _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleInnerSubscriber"](_this)));
        return _this;
    }
    BufferSubscriber.prototype._next = function (value) {
        this.buffer.push(value);
    };
    BufferSubscriber.prototype.notifyNext = function () {
        var buffer = this.buffer;
        this.buffer = [];
        this.destination.next(buffer);
    };
    return BufferSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleOuterSubscriber"]));
//# sourceMappingURL=buffer.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/bufferCount.js":
/*!*******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/bufferCount.js ***!
  \*******************************************************************/
/*! exports provided: bufferCount */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bufferCount", function() { return bufferCount; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function bufferCount(bufferSize, startBufferEvery) {
    if (startBufferEvery === void 0) {
        startBufferEvery = null;
    }
    return function bufferCountOperatorFunction(source) {
        return source.lift(new BufferCountOperator(bufferSize, startBufferEvery));
    };
}
var BufferCountOperator = /*@__PURE__*/ (function () {
    function BufferCountOperator(bufferSize, startBufferEvery) {
        this.bufferSize = bufferSize;
        this.startBufferEvery = startBufferEvery;
        if (!startBufferEvery || bufferSize === startBufferEvery) {
            this.subscriberClass = BufferCountSubscriber;
        }
        else {
            this.subscriberClass = BufferSkipCountSubscriber;
        }
    }
    BufferCountOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new this.subscriberClass(subscriber, this.bufferSize, this.startBufferEvery));
    };
    return BufferCountOperator;
}());
var BufferCountSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](BufferCountSubscriber, _super);
    function BufferCountSubscriber(destination, bufferSize) {
        var _this = _super.call(this, destination) || this;
        _this.bufferSize = bufferSize;
        _this.buffer = [];
        return _this;
    }
    BufferCountSubscriber.prototype._next = function (value) {
        var buffer = this.buffer;
        buffer.push(value);
        if (buffer.length == this.bufferSize) {
            this.destination.next(buffer);
            this.buffer = [];
        }
    };
    BufferCountSubscriber.prototype._complete = function () {
        var buffer = this.buffer;
        if (buffer.length > 0) {
            this.destination.next(buffer);
        }
        _super.prototype._complete.call(this);
    };
    return BufferCountSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
var BufferSkipCountSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](BufferSkipCountSubscriber, _super);
    function BufferSkipCountSubscriber(destination, bufferSize, startBufferEvery) {
        var _this = _super.call(this, destination) || this;
        _this.bufferSize = bufferSize;
        _this.startBufferEvery = startBufferEvery;
        _this.buffers = [];
        _this.count = 0;
        return _this;
    }
    BufferSkipCountSubscriber.prototype._next = function (value) {
        var _a = this, bufferSize = _a.bufferSize, startBufferEvery = _a.startBufferEvery, buffers = _a.buffers, count = _a.count;
        this.count++;
        if (count % startBufferEvery === 0) {
            buffers.push([]);
        }
        for (var i = buffers.length; i--;) {
            var buffer = buffers[i];
            buffer.push(value);
            if (buffer.length === bufferSize) {
                buffers.splice(i, 1);
                this.destination.next(buffer);
            }
        }
    };
    BufferSkipCountSubscriber.prototype._complete = function () {
        var _a = this, buffers = _a.buffers, destination = _a.destination;
        while (buffers.length > 0) {
            var buffer = buffers.shift();
            if (buffer.length > 0) {
                destination.next(buffer);
            }
        }
        _super.prototype._complete.call(this);
    };
    return BufferSkipCountSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=bufferCount.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/bufferTime.js":
/*!******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/bufferTime.js ***!
  \******************************************************************/
/*! exports provided: bufferTime */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bufferTime", function() { return bufferTime; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _scheduler_async__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../scheduler/async */ "./node_modules/rxjs/_esm5/internal/scheduler/async.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _util_isScheduler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/isScheduler */ "./node_modules/rxjs/_esm5/internal/util/isScheduler.js");
/** PURE_IMPORTS_START tslib,_scheduler_async,_Subscriber,_util_isScheduler PURE_IMPORTS_END */




function bufferTime(bufferTimeSpan) {
    var length = arguments.length;
    var scheduler = _scheduler_async__WEBPACK_IMPORTED_MODULE_1__["async"];
    if (Object(_util_isScheduler__WEBPACK_IMPORTED_MODULE_3__["isScheduler"])(arguments[arguments.length - 1])) {
        scheduler = arguments[arguments.length - 1];
        length--;
    }
    var bufferCreationInterval = null;
    if (length >= 2) {
        bufferCreationInterval = arguments[1];
    }
    var maxBufferSize = Number.POSITIVE_INFINITY;
    if (length >= 3) {
        maxBufferSize = arguments[2];
    }
    return function bufferTimeOperatorFunction(source) {
        return source.lift(new BufferTimeOperator(bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler));
    };
}
var BufferTimeOperator = /*@__PURE__*/ (function () {
    function BufferTimeOperator(bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler) {
        this.bufferTimeSpan = bufferTimeSpan;
        this.bufferCreationInterval = bufferCreationInterval;
        this.maxBufferSize = maxBufferSize;
        this.scheduler = scheduler;
    }
    BufferTimeOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new BufferTimeSubscriber(subscriber, this.bufferTimeSpan, this.bufferCreationInterval, this.maxBufferSize, this.scheduler));
    };
    return BufferTimeOperator;
}());
var Context = /*@__PURE__*/ (function () {
    function Context() {
        this.buffer = [];
    }
    return Context;
}());
var BufferTimeSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](BufferTimeSubscriber, _super);
    function BufferTimeSubscriber(destination, bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler) {
        var _this = _super.call(this, destination) || this;
        _this.bufferTimeSpan = bufferTimeSpan;
        _this.bufferCreationInterval = bufferCreationInterval;
        _this.maxBufferSize = maxBufferSize;
        _this.scheduler = scheduler;
        _this.contexts = [];
        var context = _this.openContext();
        _this.timespanOnly = bufferCreationInterval == null || bufferCreationInterval < 0;
        if (_this.timespanOnly) {
            var timeSpanOnlyState = { subscriber: _this, context: context, bufferTimeSpan: bufferTimeSpan };
            _this.add(context.closeAction = scheduler.schedule(dispatchBufferTimeSpanOnly, bufferTimeSpan, timeSpanOnlyState));
        }
        else {
            var closeState = { subscriber: _this, context: context };
            var creationState = { bufferTimeSpan: bufferTimeSpan, bufferCreationInterval: bufferCreationInterval, subscriber: _this, scheduler: scheduler };
            _this.add(context.closeAction = scheduler.schedule(dispatchBufferClose, bufferTimeSpan, closeState));
            _this.add(scheduler.schedule(dispatchBufferCreation, bufferCreationInterval, creationState));
        }
        return _this;
    }
    BufferTimeSubscriber.prototype._next = function (value) {
        var contexts = this.contexts;
        var len = contexts.length;
        var filledBufferContext;
        for (var i = 0; i < len; i++) {
            var context_1 = contexts[i];
            var buffer = context_1.buffer;
            buffer.push(value);
            if (buffer.length == this.maxBufferSize) {
                filledBufferContext = context_1;
            }
        }
        if (filledBufferContext) {
            this.onBufferFull(filledBufferContext);
        }
    };
    BufferTimeSubscriber.prototype._error = function (err) {
        this.contexts.length = 0;
        _super.prototype._error.call(this, err);
    };
    BufferTimeSubscriber.prototype._complete = function () {
        var _a = this, contexts = _a.contexts, destination = _a.destination;
        while (contexts.length > 0) {
            var context_2 = contexts.shift();
            destination.next(context_2.buffer);
        }
        _super.prototype._complete.call(this);
    };
    BufferTimeSubscriber.prototype._unsubscribe = function () {
        this.contexts = null;
    };
    BufferTimeSubscriber.prototype.onBufferFull = function (context) {
        this.closeContext(context);
        var closeAction = context.closeAction;
        closeAction.unsubscribe();
        this.remove(closeAction);
        if (!this.closed && this.timespanOnly) {
            context = this.openContext();
            var bufferTimeSpan = this.bufferTimeSpan;
            var timeSpanOnlyState = { subscriber: this, context: context, bufferTimeSpan: bufferTimeSpan };
            this.add(context.closeAction = this.scheduler.schedule(dispatchBufferTimeSpanOnly, bufferTimeSpan, timeSpanOnlyState));
        }
    };
    BufferTimeSubscriber.prototype.openContext = function () {
        var context = new Context();
        this.contexts.push(context);
        return context;
    };
    BufferTimeSubscriber.prototype.closeContext = function (context) {
        this.destination.next(context.buffer);
        var contexts = this.contexts;
        var spliceIndex = contexts ? contexts.indexOf(context) : -1;
        if (spliceIndex >= 0) {
            contexts.splice(contexts.indexOf(context), 1);
        }
    };
    return BufferTimeSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_2__["Subscriber"]));
function dispatchBufferTimeSpanOnly(state) {
    var subscriber = state.subscriber;
    var prevContext = state.context;
    if (prevContext) {
        subscriber.closeContext(prevContext);
    }
    if (!subscriber.closed) {
        state.context = subscriber.openContext();
        state.context.closeAction = this.schedule(state, state.bufferTimeSpan);
    }
}
function dispatchBufferCreation(state) {
    var bufferCreationInterval = state.bufferCreationInterval, bufferTimeSpan = state.bufferTimeSpan, subscriber = state.subscriber, scheduler = state.scheduler;
    var context = subscriber.openContext();
    var action = this;
    if (!subscriber.closed) {
        subscriber.add(context.closeAction = scheduler.schedule(dispatchBufferClose, bufferTimeSpan, { subscriber: subscriber, context: context }));
        action.schedule(state, bufferCreationInterval);
    }
}
function dispatchBufferClose(arg) {
    var subscriber = arg.subscriber, context = arg.context;
    subscriber.closeContext(context);
}
//# sourceMappingURL=bufferTime.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/bufferToggle.js":
/*!********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/bufferToggle.js ***!
  \********************************************************************/
/*! exports provided: bufferToggle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bufferToggle", function() { return bufferToggle; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscription__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscription */ "./node_modules/rxjs/_esm5/internal/Subscription.js");
/* harmony import */ var _util_subscribeToResult__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/subscribeToResult */ "./node_modules/rxjs/_esm5/internal/util/subscribeToResult.js");
/* harmony import */ var _OuterSubscriber__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../OuterSubscriber */ "./node_modules/rxjs/_esm5/internal/OuterSubscriber.js");
/** PURE_IMPORTS_START tslib,_Subscription,_util_subscribeToResult,_OuterSubscriber PURE_IMPORTS_END */




function bufferToggle(openings, closingSelector) {
    return function bufferToggleOperatorFunction(source) {
        return source.lift(new BufferToggleOperator(openings, closingSelector));
    };
}
var BufferToggleOperator = /*@__PURE__*/ (function () {
    function BufferToggleOperator(openings, closingSelector) {
        this.openings = openings;
        this.closingSelector = closingSelector;
    }
    BufferToggleOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new BufferToggleSubscriber(subscriber, this.openings, this.closingSelector));
    };
    return BufferToggleOperator;
}());
var BufferToggleSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](BufferToggleSubscriber, _super);
    function BufferToggleSubscriber(destination, openings, closingSelector) {
        var _this = _super.call(this, destination) || this;
        _this.closingSelector = closingSelector;
        _this.contexts = [];
        _this.add(Object(_util_subscribeToResult__WEBPACK_IMPORTED_MODULE_2__["subscribeToResult"])(_this, openings));
        return _this;
    }
    BufferToggleSubscriber.prototype._next = function (value) {
        var contexts = this.contexts;
        var len = contexts.length;
        for (var i = 0; i < len; i++) {
            contexts[i].buffer.push(value);
        }
    };
    BufferToggleSubscriber.prototype._error = function (err) {
        var contexts = this.contexts;
        while (contexts.length > 0) {
            var context_1 = contexts.shift();
            context_1.subscription.unsubscribe();
            context_1.buffer = null;
            context_1.subscription = null;
        }
        this.contexts = null;
        _super.prototype._error.call(this, err);
    };
    BufferToggleSubscriber.prototype._complete = function () {
        var contexts = this.contexts;
        while (contexts.length > 0) {
            var context_2 = contexts.shift();
            this.destination.next(context_2.buffer);
            context_2.subscription.unsubscribe();
            context_2.buffer = null;
            context_2.subscription = null;
        }
        this.contexts = null;
        _super.prototype._complete.call(this);
    };
    BufferToggleSubscriber.prototype.notifyNext = function (outerValue, innerValue) {
        outerValue ? this.closeBuffer(outerValue) : this.openBuffer(innerValue);
    };
    BufferToggleSubscriber.prototype.notifyComplete = function (innerSub) {
        this.closeBuffer(innerSub.context);
    };
    BufferToggleSubscriber.prototype.openBuffer = function (value) {
        try {
            var closingSelector = this.closingSelector;
            var closingNotifier = closingSelector.call(this, value);
            if (closingNotifier) {
                this.trySubscribe(closingNotifier);
            }
        }
        catch (err) {
            this._error(err);
        }
    };
    BufferToggleSubscriber.prototype.closeBuffer = function (context) {
        var contexts = this.contexts;
        if (contexts && context) {
            var buffer = context.buffer, subscription = context.subscription;
            this.destination.next(buffer);
            contexts.splice(contexts.indexOf(context), 1);
            this.remove(subscription);
            subscription.unsubscribe();
        }
    };
    BufferToggleSubscriber.prototype.trySubscribe = function (closingNotifier) {
        var contexts = this.contexts;
        var buffer = [];
        var subscription = new _Subscription__WEBPACK_IMPORTED_MODULE_1__["Subscription"]();
        var context = { buffer: buffer, subscription: subscription };
        contexts.push(context);
        var innerSubscription = Object(_util_subscribeToResult__WEBPACK_IMPORTED_MODULE_2__["subscribeToResult"])(this, closingNotifier, context);
        if (!innerSubscription || innerSubscription.closed) {
            this.closeBuffer(context);
        }
        else {
            innerSubscription.context = context;
            this.add(innerSubscription);
            subscription.add(innerSubscription);
        }
    };
    return BufferToggleSubscriber;
}(_OuterSubscriber__WEBPACK_IMPORTED_MODULE_3__["OuterSubscriber"]));
//# sourceMappingURL=bufferToggle.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/bufferWhen.js":
/*!******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/bufferWhen.js ***!
  \******************************************************************/
/*! exports provided: bufferWhen */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bufferWhen", function() { return bufferWhen; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscription__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscription */ "./node_modules/rxjs/_esm5/internal/Subscription.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_Subscription,_innerSubscribe PURE_IMPORTS_END */



function bufferWhen(closingSelector) {
    return function (source) {
        return source.lift(new BufferWhenOperator(closingSelector));
    };
}
var BufferWhenOperator = /*@__PURE__*/ (function () {
    function BufferWhenOperator(closingSelector) {
        this.closingSelector = closingSelector;
    }
    BufferWhenOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new BufferWhenSubscriber(subscriber, this.closingSelector));
    };
    return BufferWhenOperator;
}());
var BufferWhenSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](BufferWhenSubscriber, _super);
    function BufferWhenSubscriber(destination, closingSelector) {
        var _this = _super.call(this, destination) || this;
        _this.closingSelector = closingSelector;
        _this.subscribing = false;
        _this.openBuffer();
        return _this;
    }
    BufferWhenSubscriber.prototype._next = function (value) {
        this.buffer.push(value);
    };
    BufferWhenSubscriber.prototype._complete = function () {
        var buffer = this.buffer;
        if (buffer) {
            this.destination.next(buffer);
        }
        _super.prototype._complete.call(this);
    };
    BufferWhenSubscriber.prototype._unsubscribe = function () {
        this.buffer = undefined;
        this.subscribing = false;
    };
    BufferWhenSubscriber.prototype.notifyNext = function () {
        this.openBuffer();
    };
    BufferWhenSubscriber.prototype.notifyComplete = function () {
        if (this.subscribing) {
            this.complete();
        }
        else {
            this.openBuffer();
        }
    };
    BufferWhenSubscriber.prototype.openBuffer = function () {
        var closingSubscription = this.closingSubscription;
        if (closingSubscription) {
            this.remove(closingSubscription);
            closingSubscription.unsubscribe();
        }
        var buffer = this.buffer;
        if (this.buffer) {
            this.destination.next(buffer);
        }
        this.buffer = [];
        var closingNotifier;
        try {
            var closingSelector = this.closingSelector;
            closingNotifier = closingSelector();
        }
        catch (err) {
            return this.error(err);
        }
        closingSubscription = new _Subscription__WEBPACK_IMPORTED_MODULE_1__["Subscription"]();
        this.closingSubscription = closingSubscription;
        this.add(closingSubscription);
        this.subscribing = true;
        closingSubscription.add(Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_2__["innerSubscribe"])(closingNotifier, new _innerSubscribe__WEBPACK_IMPORTED_MODULE_2__["SimpleInnerSubscriber"](this)));
        this.subscribing = false;
    };
    return BufferWhenSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_2__["SimpleOuterSubscriber"]));
//# sourceMappingURL=bufferWhen.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/catchError.js":
/*!******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/catchError.js ***!
  \******************************************************************/
/*! exports provided: catchError */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "catchError", function() { return catchError; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */


function catchError(selector) {
    return function catchErrorOperatorFunction(source) {
        var operator = new CatchOperator(selector);
        var caught = source.lift(operator);
        return (operator.caught = caught);
    };
}
var CatchOperator = /*@__PURE__*/ (function () {
    function CatchOperator(selector) {
        this.selector = selector;
    }
    CatchOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new CatchSubscriber(subscriber, this.selector, this.caught));
    };
    return CatchOperator;
}());
var CatchSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](CatchSubscriber, _super);
    function CatchSubscriber(destination, selector, caught) {
        var _this = _super.call(this, destination) || this;
        _this.selector = selector;
        _this.caught = caught;
        return _this;
    }
    CatchSubscriber.prototype.error = function (err) {
        if (!this.isStopped) {
            var result = void 0;
            try {
                result = this.selector(err, this.caught);
            }
            catch (err2) {
                _super.prototype.error.call(this, err2);
                return;
            }
            this._unsubscribeAndRecycle();
            var innerSubscriber = new _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleInnerSubscriber"](this);
            this.add(innerSubscriber);
            var innerSubscription = Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["innerSubscribe"])(result, innerSubscriber);
            if (innerSubscription !== innerSubscriber) {
                this.add(innerSubscription);
            }
        }
    };
    return CatchSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleOuterSubscriber"]));
//# sourceMappingURL=catchError.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/combineAll.js":
/*!******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/combineAll.js ***!
  \******************************************************************/
/*! exports provided: combineAll */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "combineAll", function() { return combineAll; });
/* harmony import */ var _observable_combineLatest__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../observable/combineLatest */ "./node_modules/rxjs/_esm5/internal/observable/combineLatest.js");
/** PURE_IMPORTS_START _observable_combineLatest PURE_IMPORTS_END */

function combineAll(project) {
    return function (source) { return source.lift(new _observable_combineLatest__WEBPACK_IMPORTED_MODULE_0__["CombineLatestOperator"](project)); };
}
//# sourceMappingURL=combineAll.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/combineLatest.js":
/*!*********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/combineLatest.js ***!
  \*********************************************************************/
/*! exports provided: combineLatest */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "combineLatest", function() { return combineLatest; });
/* harmony import */ var _util_isArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/isArray */ "./node_modules/rxjs/_esm5/internal/util/isArray.js");
/* harmony import */ var _observable_combineLatest__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../observable/combineLatest */ "./node_modules/rxjs/_esm5/internal/observable/combineLatest.js");
/* harmony import */ var _observable_from__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../observable/from */ "./node_modules/rxjs/_esm5/internal/observable/from.js");
/** PURE_IMPORTS_START _util_isArray,_observable_combineLatest,_observable_from PURE_IMPORTS_END */



var none = {};
function combineLatest() {
    var observables = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        observables[_i] = arguments[_i];
    }
    var project = null;
    if (typeof observables[observables.length - 1] === 'function') {
        project = observables.pop();
    }
    if (observables.length === 1 && Object(_util_isArray__WEBPACK_IMPORTED_MODULE_0__["isArray"])(observables[0])) {
        observables = observables[0].slice();
    }
    return function (source) { return source.lift.call(Object(_observable_from__WEBPACK_IMPORTED_MODULE_2__["from"])([source].concat(observables)), new _observable_combineLatest__WEBPACK_IMPORTED_MODULE_1__["CombineLatestOperator"](project)); };
}
//# sourceMappingURL=combineLatest.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/concat.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/concat.js ***!
  \**************************************************************/
/*! exports provided: concat */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "concat", function() { return concat; });
/* harmony import */ var _observable_concat__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../observable/concat */ "./node_modules/rxjs/_esm5/internal/observable/concat.js");
/** PURE_IMPORTS_START _observable_concat PURE_IMPORTS_END */

function concat() {
    var observables = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        observables[_i] = arguments[_i];
    }
    return function (source) { return source.lift.call(_observable_concat__WEBPACK_IMPORTED_MODULE_0__["concat"].apply(void 0, [source].concat(observables))); };
}
//# sourceMappingURL=concat.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/concatAll.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/concatAll.js ***!
  \*****************************************************************/
/*! exports provided: concatAll */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "concatAll", function() { return concatAll; });
/* harmony import */ var _mergeAll__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mergeAll */ "./node_modules/rxjs/_esm5/internal/operators/mergeAll.js");
/** PURE_IMPORTS_START _mergeAll PURE_IMPORTS_END */

function concatAll() {
    return Object(_mergeAll__WEBPACK_IMPORTED_MODULE_0__["mergeAll"])(1);
}
//# sourceMappingURL=concatAll.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/concatMap.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/concatMap.js ***!
  \*****************************************************************/
/*! exports provided: concatMap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "concatMap", function() { return concatMap; });
/* harmony import */ var _mergeMap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mergeMap */ "./node_modules/rxjs/_esm5/internal/operators/mergeMap.js");
/** PURE_IMPORTS_START _mergeMap PURE_IMPORTS_END */

function concatMap(project, resultSelector) {
    return Object(_mergeMap__WEBPACK_IMPORTED_MODULE_0__["mergeMap"])(project, resultSelector, 1);
}
//# sourceMappingURL=concatMap.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/concatMapTo.js":
/*!*******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/concatMapTo.js ***!
  \*******************************************************************/
/*! exports provided: concatMapTo */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "concatMapTo", function() { return concatMapTo; });
/* harmony import */ var _concatMap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./concatMap */ "./node_modules/rxjs/_esm5/internal/operators/concatMap.js");
/** PURE_IMPORTS_START _concatMap PURE_IMPORTS_END */

function concatMapTo(innerObservable, resultSelector) {
    return Object(_concatMap__WEBPACK_IMPORTED_MODULE_0__["concatMap"])(function () { return innerObservable; }, resultSelector);
}
//# sourceMappingURL=concatMapTo.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/count.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/count.js ***!
  \*************************************************************/
/*! exports provided: count */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "count", function() { return count; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function count(predicate) {
    return function (source) { return source.lift(new CountOperator(predicate, source)); };
}
var CountOperator = /*@__PURE__*/ (function () {
    function CountOperator(predicate, source) {
        this.predicate = predicate;
        this.source = source;
    }
    CountOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new CountSubscriber(subscriber, this.predicate, this.source));
    };
    return CountOperator;
}());
var CountSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](CountSubscriber, _super);
    function CountSubscriber(destination, predicate, source) {
        var _this = _super.call(this, destination) || this;
        _this.predicate = predicate;
        _this.source = source;
        _this.count = 0;
        _this.index = 0;
        return _this;
    }
    CountSubscriber.prototype._next = function (value) {
        if (this.predicate) {
            this._tryPredicate(value);
        }
        else {
            this.count++;
        }
    };
    CountSubscriber.prototype._tryPredicate = function (value) {
        var result;
        try {
            result = this.predicate(value, this.index++, this.source);
        }
        catch (err) {
            this.destination.error(err);
            return;
        }
        if (result) {
            this.count++;
        }
    };
    CountSubscriber.prototype._complete = function () {
        this.destination.next(this.count);
        this.destination.complete();
    };
    return CountSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=count.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/debounce.js":
/*!****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/debounce.js ***!
  \****************************************************************/
/*! exports provided: debounce */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "debounce", function() { return debounce; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */


function debounce(durationSelector) {
    return function (source) { return source.lift(new DebounceOperator(durationSelector)); };
}
var DebounceOperator = /*@__PURE__*/ (function () {
    function DebounceOperator(durationSelector) {
        this.durationSelector = durationSelector;
    }
    DebounceOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new DebounceSubscriber(subscriber, this.durationSelector));
    };
    return DebounceOperator;
}());
var DebounceSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](DebounceSubscriber, _super);
    function DebounceSubscriber(destination, durationSelector) {
        var _this = _super.call(this, destination) || this;
        _this.durationSelector = durationSelector;
        _this.hasValue = false;
        return _this;
    }
    DebounceSubscriber.prototype._next = function (value) {
        try {
            var result = this.durationSelector.call(this, value);
            if (result) {
                this._tryNext(value, result);
            }
        }
        catch (err) {
            this.destination.error(err);
        }
    };
    DebounceSubscriber.prototype._complete = function () {
        this.emitValue();
        this.destination.complete();
    };
    DebounceSubscriber.prototype._tryNext = function (value, duration) {
        var subscription = this.durationSubscription;
        this.value = value;
        this.hasValue = true;
        if (subscription) {
            subscription.unsubscribe();
            this.remove(subscription);
        }
        subscription = Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["innerSubscribe"])(duration, new _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleInnerSubscriber"](this));
        if (subscription && !subscription.closed) {
            this.add(this.durationSubscription = subscription);
        }
    };
    DebounceSubscriber.prototype.notifyNext = function () {
        this.emitValue();
    };
    DebounceSubscriber.prototype.notifyComplete = function () {
        this.emitValue();
    };
    DebounceSubscriber.prototype.emitValue = function () {
        if (this.hasValue) {
            var value = this.value;
            var subscription = this.durationSubscription;
            if (subscription) {
                this.durationSubscription = undefined;
                subscription.unsubscribe();
                this.remove(subscription);
            }
            this.value = undefined;
            this.hasValue = false;
            _super.prototype._next.call(this, value);
        }
    };
    return DebounceSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleOuterSubscriber"]));
//# sourceMappingURL=debounce.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/debounceTime.js":
/*!********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/debounceTime.js ***!
  \********************************************************************/
/*! exports provided: debounceTime */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "debounceTime", function() { return debounceTime; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _scheduler_async__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../scheduler/async */ "./node_modules/rxjs/_esm5/internal/scheduler/async.js");
/** PURE_IMPORTS_START tslib,_Subscriber,_scheduler_async PURE_IMPORTS_END */



function debounceTime(dueTime, scheduler) {
    if (scheduler === void 0) {
        scheduler = _scheduler_async__WEBPACK_IMPORTED_MODULE_2__["async"];
    }
    return function (source) { return source.lift(new DebounceTimeOperator(dueTime, scheduler)); };
}
var DebounceTimeOperator = /*@__PURE__*/ (function () {
    function DebounceTimeOperator(dueTime, scheduler) {
        this.dueTime = dueTime;
        this.scheduler = scheduler;
    }
    DebounceTimeOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new DebounceTimeSubscriber(subscriber, this.dueTime, this.scheduler));
    };
    return DebounceTimeOperator;
}());
var DebounceTimeSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](DebounceTimeSubscriber, _super);
    function DebounceTimeSubscriber(destination, dueTime, scheduler) {
        var _this = _super.call(this, destination) || this;
        _this.dueTime = dueTime;
        _this.scheduler = scheduler;
        _this.debouncedSubscription = null;
        _this.lastValue = null;
        _this.hasValue = false;
        return _this;
    }
    DebounceTimeSubscriber.prototype._next = function (value) {
        this.clearDebounce();
        this.lastValue = value;
        this.hasValue = true;
        this.add(this.debouncedSubscription = this.scheduler.schedule(dispatchNext, this.dueTime, this));
    };
    DebounceTimeSubscriber.prototype._complete = function () {
        this.debouncedNext();
        this.destination.complete();
    };
    DebounceTimeSubscriber.prototype.debouncedNext = function () {
        this.clearDebounce();
        if (this.hasValue) {
            var lastValue = this.lastValue;
            this.lastValue = null;
            this.hasValue = false;
            this.destination.next(lastValue);
        }
    };
    DebounceTimeSubscriber.prototype.clearDebounce = function () {
        var debouncedSubscription = this.debouncedSubscription;
        if (debouncedSubscription !== null) {
            this.remove(debouncedSubscription);
            debouncedSubscription.unsubscribe();
            this.debouncedSubscription = null;
        }
    };
    return DebounceTimeSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
function dispatchNext(subscriber) {
    subscriber.debouncedNext();
}
//# sourceMappingURL=debounceTime.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/defaultIfEmpty.js":
/*!**********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/defaultIfEmpty.js ***!
  \**********************************************************************/
/*! exports provided: defaultIfEmpty */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "defaultIfEmpty", function() { return defaultIfEmpty; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function defaultIfEmpty(defaultValue) {
    if (defaultValue === void 0) {
        defaultValue = null;
    }
    return function (source) { return source.lift(new DefaultIfEmptyOperator(defaultValue)); };
}
var DefaultIfEmptyOperator = /*@__PURE__*/ (function () {
    function DefaultIfEmptyOperator(defaultValue) {
        this.defaultValue = defaultValue;
    }
    DefaultIfEmptyOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new DefaultIfEmptySubscriber(subscriber, this.defaultValue));
    };
    return DefaultIfEmptyOperator;
}());
var DefaultIfEmptySubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](DefaultIfEmptySubscriber, _super);
    function DefaultIfEmptySubscriber(destination, defaultValue) {
        var _this = _super.call(this, destination) || this;
        _this.defaultValue = defaultValue;
        _this.isEmpty = true;
        return _this;
    }
    DefaultIfEmptySubscriber.prototype._next = function (value) {
        this.isEmpty = false;
        this.destination.next(value);
    };
    DefaultIfEmptySubscriber.prototype._complete = function () {
        if (this.isEmpty) {
            this.destination.next(this.defaultValue);
        }
        this.destination.complete();
    };
    return DefaultIfEmptySubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=defaultIfEmpty.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/delay.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/delay.js ***!
  \*************************************************************/
/*! exports provided: delay */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "delay", function() { return delay; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _scheduler_async__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../scheduler/async */ "./node_modules/rxjs/_esm5/internal/scheduler/async.js");
/* harmony import */ var _util_isDate__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/isDate */ "./node_modules/rxjs/_esm5/internal/util/isDate.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _Notification__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Notification */ "./node_modules/rxjs/_esm5/internal/Notification.js");
/** PURE_IMPORTS_START tslib,_scheduler_async,_util_isDate,_Subscriber,_Notification PURE_IMPORTS_END */





function delay(delay, scheduler) {
    if (scheduler === void 0) {
        scheduler = _scheduler_async__WEBPACK_IMPORTED_MODULE_1__["async"];
    }
    var absoluteDelay = Object(_util_isDate__WEBPACK_IMPORTED_MODULE_2__["isDate"])(delay);
    var delayFor = absoluteDelay ? (+delay - scheduler.now()) : Math.abs(delay);
    return function (source) { return source.lift(new DelayOperator(delayFor, scheduler)); };
}
var DelayOperator = /*@__PURE__*/ (function () {
    function DelayOperator(delay, scheduler) {
        this.delay = delay;
        this.scheduler = scheduler;
    }
    DelayOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new DelaySubscriber(subscriber, this.delay, this.scheduler));
    };
    return DelayOperator;
}());
var DelaySubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](DelaySubscriber, _super);
    function DelaySubscriber(destination, delay, scheduler) {
        var _this = _super.call(this, destination) || this;
        _this.delay = delay;
        _this.scheduler = scheduler;
        _this.queue = [];
        _this.active = false;
        _this.errored = false;
        return _this;
    }
    DelaySubscriber.dispatch = function (state) {
        var source = state.source;
        var queue = source.queue;
        var scheduler = state.scheduler;
        var destination = state.destination;
        while (queue.length > 0 && (queue[0].time - scheduler.now()) <= 0) {
            queue.shift().notification.observe(destination);
        }
        if (queue.length > 0) {
            var delay_1 = Math.max(0, queue[0].time - scheduler.now());
            this.schedule(state, delay_1);
        }
        else {
            this.unsubscribe();
            source.active = false;
        }
    };
    DelaySubscriber.prototype._schedule = function (scheduler) {
        this.active = true;
        var destination = this.destination;
        destination.add(scheduler.schedule(DelaySubscriber.dispatch, this.delay, {
            source: this, destination: this.destination, scheduler: scheduler
        }));
    };
    DelaySubscriber.prototype.scheduleNotification = function (notification) {
        if (this.errored === true) {
            return;
        }
        var scheduler = this.scheduler;
        var message = new DelayMessage(scheduler.now() + this.delay, notification);
        this.queue.push(message);
        if (this.active === false) {
            this._schedule(scheduler);
        }
    };
    DelaySubscriber.prototype._next = function (value) {
        this.scheduleNotification(_Notification__WEBPACK_IMPORTED_MODULE_4__["Notification"].createNext(value));
    };
    DelaySubscriber.prototype._error = function (err) {
        this.errored = true;
        this.queue = [];
        this.destination.error(err);
        this.unsubscribe();
    };
    DelaySubscriber.prototype._complete = function () {
        this.scheduleNotification(_Notification__WEBPACK_IMPORTED_MODULE_4__["Notification"].createComplete());
        this.unsubscribe();
    };
    return DelaySubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_3__["Subscriber"]));
var DelayMessage = /*@__PURE__*/ (function () {
    function DelayMessage(time, notification) {
        this.time = time;
        this.notification = notification;
    }
    return DelayMessage;
}());
//# sourceMappingURL=delay.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/delayWhen.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/delayWhen.js ***!
  \*****************************************************************/
/*! exports provided: delayWhen */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "delayWhen", function() { return delayWhen; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _OuterSubscriber__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../OuterSubscriber */ "./node_modules/rxjs/_esm5/internal/OuterSubscriber.js");
/* harmony import */ var _util_subscribeToResult__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/subscribeToResult */ "./node_modules/rxjs/_esm5/internal/util/subscribeToResult.js");
/** PURE_IMPORTS_START tslib,_Subscriber,_Observable,_OuterSubscriber,_util_subscribeToResult PURE_IMPORTS_END */





function delayWhen(delayDurationSelector, subscriptionDelay) {
    if (subscriptionDelay) {
        return function (source) {
            return new SubscriptionDelayObservable(source, subscriptionDelay)
                .lift(new DelayWhenOperator(delayDurationSelector));
        };
    }
    return function (source) { return source.lift(new DelayWhenOperator(delayDurationSelector)); };
}
var DelayWhenOperator = /*@__PURE__*/ (function () {
    function DelayWhenOperator(delayDurationSelector) {
        this.delayDurationSelector = delayDurationSelector;
    }
    DelayWhenOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new DelayWhenSubscriber(subscriber, this.delayDurationSelector));
    };
    return DelayWhenOperator;
}());
var DelayWhenSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](DelayWhenSubscriber, _super);
    function DelayWhenSubscriber(destination, delayDurationSelector) {
        var _this = _super.call(this, destination) || this;
        _this.delayDurationSelector = delayDurationSelector;
        _this.completed = false;
        _this.delayNotifierSubscriptions = [];
        _this.index = 0;
        return _this;
    }
    DelayWhenSubscriber.prototype.notifyNext = function (outerValue, _innerValue, _outerIndex, _innerIndex, innerSub) {
        this.destination.next(outerValue);
        this.removeSubscription(innerSub);
        this.tryComplete();
    };
    DelayWhenSubscriber.prototype.notifyError = function (error, innerSub) {
        this._error(error);
    };
    DelayWhenSubscriber.prototype.notifyComplete = function (innerSub) {
        var value = this.removeSubscription(innerSub);
        if (value) {
            this.destination.next(value);
        }
        this.tryComplete();
    };
    DelayWhenSubscriber.prototype._next = function (value) {
        var index = this.index++;
        try {
            var delayNotifier = this.delayDurationSelector(value, index);
            if (delayNotifier) {
                this.tryDelay(delayNotifier, value);
            }
        }
        catch (err) {
            this.destination.error(err);
        }
    };
    DelayWhenSubscriber.prototype._complete = function () {
        this.completed = true;
        this.tryComplete();
        this.unsubscribe();
    };
    DelayWhenSubscriber.prototype.removeSubscription = function (subscription) {
        subscription.unsubscribe();
        var subscriptionIdx = this.delayNotifierSubscriptions.indexOf(subscription);
        if (subscriptionIdx !== -1) {
            this.delayNotifierSubscriptions.splice(subscriptionIdx, 1);
        }
        return subscription.outerValue;
    };
    DelayWhenSubscriber.prototype.tryDelay = function (delayNotifier, value) {
        var notifierSubscription = Object(_util_subscribeToResult__WEBPACK_IMPORTED_MODULE_4__["subscribeToResult"])(this, delayNotifier, value);
        if (notifierSubscription && !notifierSubscription.closed) {
            var destination = this.destination;
            destination.add(notifierSubscription);
            this.delayNotifierSubscriptions.push(notifierSubscription);
        }
    };
    DelayWhenSubscriber.prototype.tryComplete = function () {
        if (this.completed && this.delayNotifierSubscriptions.length === 0) {
            this.destination.complete();
        }
    };
    return DelayWhenSubscriber;
}(_OuterSubscriber__WEBPACK_IMPORTED_MODULE_3__["OuterSubscriber"]));
var SubscriptionDelayObservable = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SubscriptionDelayObservable, _super);
    function SubscriptionDelayObservable(source, subscriptionDelay) {
        var _this = _super.call(this) || this;
        _this.source = source;
        _this.subscriptionDelay = subscriptionDelay;
        return _this;
    }
    SubscriptionDelayObservable.prototype._subscribe = function (subscriber) {
        this.subscriptionDelay.subscribe(new SubscriptionDelaySubscriber(subscriber, this.source));
    };
    return SubscriptionDelayObservable;
}(_Observable__WEBPACK_IMPORTED_MODULE_2__["Observable"]));
var SubscriptionDelaySubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SubscriptionDelaySubscriber, _super);
    function SubscriptionDelaySubscriber(parent, source) {
        var _this = _super.call(this) || this;
        _this.parent = parent;
        _this.source = source;
        _this.sourceSubscribed = false;
        return _this;
    }
    SubscriptionDelaySubscriber.prototype._next = function (unused) {
        this.subscribeToSource();
    };
    SubscriptionDelaySubscriber.prototype._error = function (err) {
        this.unsubscribe();
        this.parent.error(err);
    };
    SubscriptionDelaySubscriber.prototype._complete = function () {
        this.unsubscribe();
        this.subscribeToSource();
    };
    SubscriptionDelaySubscriber.prototype.subscribeToSource = function () {
        if (!this.sourceSubscribed) {
            this.sourceSubscribed = true;
            this.unsubscribe();
            this.source.subscribe(this.parent);
        }
    };
    return SubscriptionDelaySubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=delayWhen.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/dematerialize.js":
/*!*********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/dematerialize.js ***!
  \*********************************************************************/
/*! exports provided: dematerialize */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "dematerialize", function() { return dematerialize; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function dematerialize() {
    return function dematerializeOperatorFunction(source) {
        return source.lift(new DeMaterializeOperator());
    };
}
var DeMaterializeOperator = /*@__PURE__*/ (function () {
    function DeMaterializeOperator() {
    }
    DeMaterializeOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new DeMaterializeSubscriber(subscriber));
    };
    return DeMaterializeOperator;
}());
var DeMaterializeSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](DeMaterializeSubscriber, _super);
    function DeMaterializeSubscriber(destination) {
        return _super.call(this, destination) || this;
    }
    DeMaterializeSubscriber.prototype._next = function (value) {
        value.observe(this.destination);
    };
    return DeMaterializeSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=dematerialize.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/distinct.js":
/*!****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/distinct.js ***!
  \****************************************************************/
/*! exports provided: distinct, DistinctSubscriber */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "distinct", function() { return distinct; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DistinctSubscriber", function() { return DistinctSubscriber; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */


function distinct(keySelector, flushes) {
    return function (source) { return source.lift(new DistinctOperator(keySelector, flushes)); };
}
var DistinctOperator = /*@__PURE__*/ (function () {
    function DistinctOperator(keySelector, flushes) {
        this.keySelector = keySelector;
        this.flushes = flushes;
    }
    DistinctOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new DistinctSubscriber(subscriber, this.keySelector, this.flushes));
    };
    return DistinctOperator;
}());
var DistinctSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](DistinctSubscriber, _super);
    function DistinctSubscriber(destination, keySelector, flushes) {
        var _this = _super.call(this, destination) || this;
        _this.keySelector = keySelector;
        _this.values = new Set();
        if (flushes) {
            _this.add(Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["innerSubscribe"])(flushes, new _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleInnerSubscriber"](_this)));
        }
        return _this;
    }
    DistinctSubscriber.prototype.notifyNext = function () {
        this.values.clear();
    };
    DistinctSubscriber.prototype.notifyError = function (error) {
        this._error(error);
    };
    DistinctSubscriber.prototype._next = function (value) {
        if (this.keySelector) {
            this._useKeySelector(value);
        }
        else {
            this._finalizeNext(value, value);
        }
    };
    DistinctSubscriber.prototype._useKeySelector = function (value) {
        var key;
        var destination = this.destination;
        try {
            key = this.keySelector(value);
        }
        catch (err) {
            destination.error(err);
            return;
        }
        this._finalizeNext(key, value);
    };
    DistinctSubscriber.prototype._finalizeNext = function (key, value) {
        var values = this.values;
        if (!values.has(key)) {
            values.add(key);
            this.destination.next(value);
        }
    };
    return DistinctSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleOuterSubscriber"]));

//# sourceMappingURL=distinct.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/distinctUntilChanged.js":
/*!****************************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/distinctUntilChanged.js ***!
  \****************************************************************************/
/*! exports provided: distinctUntilChanged */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "distinctUntilChanged", function() { return distinctUntilChanged; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function distinctUntilChanged(compare, keySelector) {
    return function (source) { return source.lift(new DistinctUntilChangedOperator(compare, keySelector)); };
}
var DistinctUntilChangedOperator = /*@__PURE__*/ (function () {
    function DistinctUntilChangedOperator(compare, keySelector) {
        this.compare = compare;
        this.keySelector = keySelector;
    }
    DistinctUntilChangedOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new DistinctUntilChangedSubscriber(subscriber, this.compare, this.keySelector));
    };
    return DistinctUntilChangedOperator;
}());
var DistinctUntilChangedSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](DistinctUntilChangedSubscriber, _super);
    function DistinctUntilChangedSubscriber(destination, compare, keySelector) {
        var _this = _super.call(this, destination) || this;
        _this.keySelector = keySelector;
        _this.hasKey = false;
        if (typeof compare === 'function') {
            _this.compare = compare;
        }
        return _this;
    }
    DistinctUntilChangedSubscriber.prototype.compare = function (x, y) {
        return x === y;
    };
    DistinctUntilChangedSubscriber.prototype._next = function (value) {
        var key;
        try {
            var keySelector = this.keySelector;
            key = keySelector ? keySelector(value) : value;
        }
        catch (err) {
            return this.destination.error(err);
        }
        var result = false;
        if (this.hasKey) {
            try {
                var compare = this.compare;
                result = compare(this.key, key);
            }
            catch (err) {
                return this.destination.error(err);
            }
        }
        else {
            this.hasKey = true;
        }
        if (!result) {
            this.key = key;
            this.destination.next(value);
        }
    };
    return DistinctUntilChangedSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=distinctUntilChanged.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/distinctUntilKeyChanged.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/distinctUntilKeyChanged.js ***!
  \*******************************************************************************/
/*! exports provided: distinctUntilKeyChanged */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "distinctUntilKeyChanged", function() { return distinctUntilKeyChanged; });
/* harmony import */ var _distinctUntilChanged__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./distinctUntilChanged */ "./node_modules/rxjs/_esm5/internal/operators/distinctUntilChanged.js");
/** PURE_IMPORTS_START _distinctUntilChanged PURE_IMPORTS_END */

function distinctUntilKeyChanged(key, compare) {
    return Object(_distinctUntilChanged__WEBPACK_IMPORTED_MODULE_0__["distinctUntilChanged"])(function (x, y) { return compare ? compare(x[key], y[key]) : x[key] === y[key]; });
}
//# sourceMappingURL=distinctUntilKeyChanged.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/elementAt.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/elementAt.js ***!
  \*****************************************************************/
/*! exports provided: elementAt */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "elementAt", function() { return elementAt; });
/* harmony import */ var _util_ArgumentOutOfRangeError__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/ArgumentOutOfRangeError */ "./node_modules/rxjs/_esm5/internal/util/ArgumentOutOfRangeError.js");
/* harmony import */ var _filter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./filter */ "./node_modules/rxjs/_esm5/internal/operators/filter.js");
/* harmony import */ var _throwIfEmpty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./throwIfEmpty */ "./node_modules/rxjs/_esm5/internal/operators/throwIfEmpty.js");
/* harmony import */ var _defaultIfEmpty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./defaultIfEmpty */ "./node_modules/rxjs/_esm5/internal/operators/defaultIfEmpty.js");
/* harmony import */ var _take__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./take */ "./node_modules/rxjs/_esm5/internal/operators/take.js");
/** PURE_IMPORTS_START _util_ArgumentOutOfRangeError,_filter,_throwIfEmpty,_defaultIfEmpty,_take PURE_IMPORTS_END */





function elementAt(index, defaultValue) {
    if (index < 0) {
        throw new _util_ArgumentOutOfRangeError__WEBPACK_IMPORTED_MODULE_0__["ArgumentOutOfRangeError"]();
    }
    var hasDefaultValue = arguments.length >= 2;
    return function (source) {
        return source.pipe(Object(_filter__WEBPACK_IMPORTED_MODULE_1__["filter"])(function (v, i) { return i === index; }), Object(_take__WEBPACK_IMPORTED_MODULE_4__["take"])(1), hasDefaultValue
            ? Object(_defaultIfEmpty__WEBPACK_IMPORTED_MODULE_3__["defaultIfEmpty"])(defaultValue)
            : Object(_throwIfEmpty__WEBPACK_IMPORTED_MODULE_2__["throwIfEmpty"])(function () { return new _util_ArgumentOutOfRangeError__WEBPACK_IMPORTED_MODULE_0__["ArgumentOutOfRangeError"](); }));
    };
}
//# sourceMappingURL=elementAt.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/endWith.js":
/*!***************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/endWith.js ***!
  \***************************************************************/
/*! exports provided: endWith */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "endWith", function() { return endWith; });
/* harmony import */ var _observable_concat__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../observable/concat */ "./node_modules/rxjs/_esm5/internal/observable/concat.js");
/* harmony import */ var _observable_of__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../observable/of */ "./node_modules/rxjs/_esm5/internal/observable/of.js");
/** PURE_IMPORTS_START _observable_concat,_observable_of PURE_IMPORTS_END */


function endWith() {
    var array = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        array[_i] = arguments[_i];
    }
    return function (source) { return Object(_observable_concat__WEBPACK_IMPORTED_MODULE_0__["concat"])(source, _observable_of__WEBPACK_IMPORTED_MODULE_1__["of"].apply(void 0, array)); };
}
//# sourceMappingURL=endWith.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/every.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/every.js ***!
  \*************************************************************/
/*! exports provided: every */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "every", function() { return every; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function every(predicate, thisArg) {
    return function (source) { return source.lift(new EveryOperator(predicate, thisArg, source)); };
}
var EveryOperator = /*@__PURE__*/ (function () {
    function EveryOperator(predicate, thisArg, source) {
        this.predicate = predicate;
        this.thisArg = thisArg;
        this.source = source;
    }
    EveryOperator.prototype.call = function (observer, source) {
        return source.subscribe(new EverySubscriber(observer, this.predicate, this.thisArg, this.source));
    };
    return EveryOperator;
}());
var EverySubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](EverySubscriber, _super);
    function EverySubscriber(destination, predicate, thisArg, source) {
        var _this = _super.call(this, destination) || this;
        _this.predicate = predicate;
        _this.thisArg = thisArg;
        _this.source = source;
        _this.index = 0;
        _this.thisArg = thisArg || _this;
        return _this;
    }
    EverySubscriber.prototype.notifyComplete = function (everyValueMatch) {
        this.destination.next(everyValueMatch);
        this.destination.complete();
    };
    EverySubscriber.prototype._next = function (value) {
        var result = false;
        try {
            result = this.predicate.call(this.thisArg, value, this.index++, this.source);
        }
        catch (err) {
            this.destination.error(err);
            return;
        }
        if (!result) {
            this.notifyComplete(false);
        }
    };
    EverySubscriber.prototype._complete = function () {
        this.notifyComplete(true);
    };
    return EverySubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=every.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/exhaust.js":
/*!***************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/exhaust.js ***!
  \***************************************************************/
/*! exports provided: exhaust */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "exhaust", function() { return exhaust; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */


function exhaust() {
    return function (source) { return source.lift(new SwitchFirstOperator()); };
}
var SwitchFirstOperator = /*@__PURE__*/ (function () {
    function SwitchFirstOperator() {
    }
    SwitchFirstOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new SwitchFirstSubscriber(subscriber));
    };
    return SwitchFirstOperator;
}());
var SwitchFirstSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SwitchFirstSubscriber, _super);
    function SwitchFirstSubscriber(destination) {
        var _this = _super.call(this, destination) || this;
        _this.hasCompleted = false;
        _this.hasSubscription = false;
        return _this;
    }
    SwitchFirstSubscriber.prototype._next = function (value) {
        if (!this.hasSubscription) {
            this.hasSubscription = true;
            this.add(Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["innerSubscribe"])(value, new _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleInnerSubscriber"](this)));
        }
    };
    SwitchFirstSubscriber.prototype._complete = function () {
        this.hasCompleted = true;
        if (!this.hasSubscription) {
            this.destination.complete();
        }
    };
    SwitchFirstSubscriber.prototype.notifyComplete = function () {
        this.hasSubscription = false;
        if (this.hasCompleted) {
            this.destination.complete();
        }
    };
    return SwitchFirstSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleOuterSubscriber"]));
//# sourceMappingURL=exhaust.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/exhaustMap.js":
/*!******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/exhaustMap.js ***!
  \******************************************************************/
/*! exports provided: exhaustMap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "exhaustMap", function() { return exhaustMap; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _map__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./map */ "./node_modules/rxjs/_esm5/internal/operators/map.js");
/* harmony import */ var _observable_from__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../observable/from */ "./node_modules/rxjs/_esm5/internal/observable/from.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_map,_observable_from,_innerSubscribe PURE_IMPORTS_END */




function exhaustMap(project, resultSelector) {
    if (resultSelector) {
        return function (source) { return source.pipe(exhaustMap(function (a, i) { return Object(_observable_from__WEBPACK_IMPORTED_MODULE_2__["from"])(project(a, i)).pipe(Object(_map__WEBPACK_IMPORTED_MODULE_1__["map"])(function (b, ii) { return resultSelector(a, b, i, ii); })); })); };
    }
    return function (source) {
        return source.lift(new ExhaustMapOperator(project));
    };
}
var ExhaustMapOperator = /*@__PURE__*/ (function () {
    function ExhaustMapOperator(project) {
        this.project = project;
    }
    ExhaustMapOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new ExhaustMapSubscriber(subscriber, this.project));
    };
    return ExhaustMapOperator;
}());
var ExhaustMapSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ExhaustMapSubscriber, _super);
    function ExhaustMapSubscriber(destination, project) {
        var _this = _super.call(this, destination) || this;
        _this.project = project;
        _this.hasSubscription = false;
        _this.hasCompleted = false;
        _this.index = 0;
        return _this;
    }
    ExhaustMapSubscriber.prototype._next = function (value) {
        if (!this.hasSubscription) {
            this.tryNext(value);
        }
    };
    ExhaustMapSubscriber.prototype.tryNext = function (value) {
        var result;
        var index = this.index++;
        try {
            result = this.project(value, index);
        }
        catch (err) {
            this.destination.error(err);
            return;
        }
        this.hasSubscription = true;
        this._innerSub(result);
    };
    ExhaustMapSubscriber.prototype._innerSub = function (result) {
        var innerSubscriber = new _innerSubscribe__WEBPACK_IMPORTED_MODULE_3__["SimpleInnerSubscriber"](this);
        var destination = this.destination;
        destination.add(innerSubscriber);
        var innerSubscription = Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_3__["innerSubscribe"])(result, innerSubscriber);
        if (innerSubscription !== innerSubscriber) {
            destination.add(innerSubscription);
        }
    };
    ExhaustMapSubscriber.prototype._complete = function () {
        this.hasCompleted = true;
        if (!this.hasSubscription) {
            this.destination.complete();
        }
        this.unsubscribe();
    };
    ExhaustMapSubscriber.prototype.notifyNext = function (innerValue) {
        this.destination.next(innerValue);
    };
    ExhaustMapSubscriber.prototype.notifyError = function (err) {
        this.destination.error(err);
    };
    ExhaustMapSubscriber.prototype.notifyComplete = function () {
        this.hasSubscription = false;
        if (this.hasCompleted) {
            this.destination.complete();
        }
    };
    return ExhaustMapSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_3__["SimpleOuterSubscriber"]));
//# sourceMappingURL=exhaustMap.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/expand.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/expand.js ***!
  \**************************************************************/
/*! exports provided: expand, ExpandOperator, ExpandSubscriber */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "expand", function() { return expand; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExpandOperator", function() { return ExpandOperator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExpandSubscriber", function() { return ExpandSubscriber; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */


function expand(project, concurrent, scheduler) {
    if (concurrent === void 0) {
        concurrent = Number.POSITIVE_INFINITY;
    }
    concurrent = (concurrent || 0) < 1 ? Number.POSITIVE_INFINITY : concurrent;
    return function (source) { return source.lift(new ExpandOperator(project, concurrent, scheduler)); };
}
var ExpandOperator = /*@__PURE__*/ (function () {
    function ExpandOperator(project, concurrent, scheduler) {
        this.project = project;
        this.concurrent = concurrent;
        this.scheduler = scheduler;
    }
    ExpandOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new ExpandSubscriber(subscriber, this.project, this.concurrent, this.scheduler));
    };
    return ExpandOperator;
}());

var ExpandSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ExpandSubscriber, _super);
    function ExpandSubscriber(destination, project, concurrent, scheduler) {
        var _this = _super.call(this, destination) || this;
        _this.project = project;
        _this.concurrent = concurrent;
        _this.scheduler = scheduler;
        _this.index = 0;
        _this.active = 0;
        _this.hasCompleted = false;
        if (concurrent < Number.POSITIVE_INFINITY) {
            _this.buffer = [];
        }
        return _this;
    }
    ExpandSubscriber.dispatch = function (arg) {
        var subscriber = arg.subscriber, result = arg.result, value = arg.value, index = arg.index;
        subscriber.subscribeToProjection(result, value, index);
    };
    ExpandSubscriber.prototype._next = function (value) {
        var destination = this.destination;
        if (destination.closed) {
            this._complete();
            return;
        }
        var index = this.index++;
        if (this.active < this.concurrent) {
            destination.next(value);
            try {
                var project = this.project;
                var result = project(value, index);
                if (!this.scheduler) {
                    this.subscribeToProjection(result, value, index);
                }
                else {
                    var state = { subscriber: this, result: result, value: value, index: index };
                    var destination_1 = this.destination;
                    destination_1.add(this.scheduler.schedule(ExpandSubscriber.dispatch, 0, state));
                }
            }
            catch (e) {
                destination.error(e);
            }
        }
        else {
            this.buffer.push(value);
        }
    };
    ExpandSubscriber.prototype.subscribeToProjection = function (result, value, index) {
        this.active++;
        var destination = this.destination;
        destination.add(Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["innerSubscribe"])(result, new _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleInnerSubscriber"](this)));
    };
    ExpandSubscriber.prototype._complete = function () {
        this.hasCompleted = true;
        if (this.hasCompleted && this.active === 0) {
            this.destination.complete();
        }
        this.unsubscribe();
    };
    ExpandSubscriber.prototype.notifyNext = function (innerValue) {
        this._next(innerValue);
    };
    ExpandSubscriber.prototype.notifyComplete = function () {
        var buffer = this.buffer;
        this.active--;
        if (buffer && buffer.length > 0) {
            this._next(buffer.shift());
        }
        if (this.hasCompleted && this.active === 0) {
            this.destination.complete();
        }
    };
    return ExpandSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleOuterSubscriber"]));

//# sourceMappingURL=expand.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/filter.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/filter.js ***!
  \**************************************************************/
/*! exports provided: filter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "filter", function() { return filter; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function filter(predicate, thisArg) {
    return function filterOperatorFunction(source) {
        return source.lift(new FilterOperator(predicate, thisArg));
    };
}
var FilterOperator = /*@__PURE__*/ (function () {
    function FilterOperator(predicate, thisArg) {
        this.predicate = predicate;
        this.thisArg = thisArg;
    }
    FilterOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new FilterSubscriber(subscriber, this.predicate, this.thisArg));
    };
    return FilterOperator;
}());
var FilterSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](FilterSubscriber, _super);
    function FilterSubscriber(destination, predicate, thisArg) {
        var _this = _super.call(this, destination) || this;
        _this.predicate = predicate;
        _this.thisArg = thisArg;
        _this.count = 0;
        return _this;
    }
    FilterSubscriber.prototype._next = function (value) {
        var result;
        try {
            result = this.predicate.call(this.thisArg, value, this.count++);
        }
        catch (err) {
            this.destination.error(err);
            return;
        }
        if (result) {
            this.destination.next(value);
        }
    };
    return FilterSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=filter.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/finalize.js":
/*!****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/finalize.js ***!
  \****************************************************************/
/*! exports provided: finalize */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "finalize", function() { return finalize; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _Subscription__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Subscription */ "./node_modules/rxjs/_esm5/internal/Subscription.js");
/** PURE_IMPORTS_START tslib,_Subscriber,_Subscription PURE_IMPORTS_END */



function finalize(callback) {
    return function (source) { return source.lift(new FinallyOperator(callback)); };
}
var FinallyOperator = /*@__PURE__*/ (function () {
    function FinallyOperator(callback) {
        this.callback = callback;
    }
    FinallyOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new FinallySubscriber(subscriber, this.callback));
    };
    return FinallyOperator;
}());
var FinallySubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](FinallySubscriber, _super);
    function FinallySubscriber(destination, callback) {
        var _this = _super.call(this, destination) || this;
        _this.add(new _Subscription__WEBPACK_IMPORTED_MODULE_2__["Subscription"](callback));
        return _this;
    }
    return FinallySubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=finalize.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/find.js":
/*!************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/find.js ***!
  \************************************************************/
/*! exports provided: find, FindValueOperator, FindValueSubscriber */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "find", function() { return find; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FindValueOperator", function() { return FindValueOperator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FindValueSubscriber", function() { return FindValueSubscriber; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function find(predicate, thisArg) {
    if (typeof predicate !== 'function') {
        throw new TypeError('predicate is not a function');
    }
    return function (source) { return source.lift(new FindValueOperator(predicate, source, false, thisArg)); };
}
var FindValueOperator = /*@__PURE__*/ (function () {
    function FindValueOperator(predicate, source, yieldIndex, thisArg) {
        this.predicate = predicate;
        this.source = source;
        this.yieldIndex = yieldIndex;
        this.thisArg = thisArg;
    }
    FindValueOperator.prototype.call = function (observer, source) {
        return source.subscribe(new FindValueSubscriber(observer, this.predicate, this.source, this.yieldIndex, this.thisArg));
    };
    return FindValueOperator;
}());

var FindValueSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](FindValueSubscriber, _super);
    function FindValueSubscriber(destination, predicate, source, yieldIndex, thisArg) {
        var _this = _super.call(this, destination) || this;
        _this.predicate = predicate;
        _this.source = source;
        _this.yieldIndex = yieldIndex;
        _this.thisArg = thisArg;
        _this.index = 0;
        return _this;
    }
    FindValueSubscriber.prototype.notifyComplete = function (value) {
        var destination = this.destination;
        destination.next(value);
        destination.complete();
        this.unsubscribe();
    };
    FindValueSubscriber.prototype._next = function (value) {
        var _a = this, predicate = _a.predicate, thisArg = _a.thisArg;
        var index = this.index++;
        try {
            var result = predicate.call(thisArg || this, value, index, this.source);
            if (result) {
                this.notifyComplete(this.yieldIndex ? index : value);
            }
        }
        catch (err) {
            this.destination.error(err);
        }
    };
    FindValueSubscriber.prototype._complete = function () {
        this.notifyComplete(this.yieldIndex ? -1 : undefined);
    };
    return FindValueSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));

//# sourceMappingURL=find.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/findIndex.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/findIndex.js ***!
  \*****************************************************************/
/*! exports provided: findIndex */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "findIndex", function() { return findIndex; });
/* harmony import */ var _operators_find__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../operators/find */ "./node_modules/rxjs/_esm5/internal/operators/find.js");
/** PURE_IMPORTS_START _operators_find PURE_IMPORTS_END */

function findIndex(predicate, thisArg) {
    return function (source) { return source.lift(new _operators_find__WEBPACK_IMPORTED_MODULE_0__["FindValueOperator"](predicate, source, true, thisArg)); };
}
//# sourceMappingURL=findIndex.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/first.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/first.js ***!
  \*************************************************************/
/*! exports provided: first */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "first", function() { return first; });
/* harmony import */ var _util_EmptyError__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/EmptyError */ "./node_modules/rxjs/_esm5/internal/util/EmptyError.js");
/* harmony import */ var _filter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./filter */ "./node_modules/rxjs/_esm5/internal/operators/filter.js");
/* harmony import */ var _take__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./take */ "./node_modules/rxjs/_esm5/internal/operators/take.js");
/* harmony import */ var _defaultIfEmpty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./defaultIfEmpty */ "./node_modules/rxjs/_esm5/internal/operators/defaultIfEmpty.js");
/* harmony import */ var _throwIfEmpty__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./throwIfEmpty */ "./node_modules/rxjs/_esm5/internal/operators/throwIfEmpty.js");
/* harmony import */ var _util_identity__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/identity */ "./node_modules/rxjs/_esm5/internal/util/identity.js");
/** PURE_IMPORTS_START _util_EmptyError,_filter,_take,_defaultIfEmpty,_throwIfEmpty,_util_identity PURE_IMPORTS_END */






function first(predicate, defaultValue) {
    var hasDefaultValue = arguments.length >= 2;
    return function (source) { return source.pipe(predicate ? Object(_filter__WEBPACK_IMPORTED_MODULE_1__["filter"])(function (v, i) { return predicate(v, i, source); }) : _util_identity__WEBPACK_IMPORTED_MODULE_5__["identity"], Object(_take__WEBPACK_IMPORTED_MODULE_2__["take"])(1), hasDefaultValue ? Object(_defaultIfEmpty__WEBPACK_IMPORTED_MODULE_3__["defaultIfEmpty"])(defaultValue) : Object(_throwIfEmpty__WEBPACK_IMPORTED_MODULE_4__["throwIfEmpty"])(function () { return new _util_EmptyError__WEBPACK_IMPORTED_MODULE_0__["EmptyError"](); })); };
}
//# sourceMappingURL=first.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/groupBy.js":
/*!***************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/groupBy.js ***!
  \***************************************************************/
/*! exports provided: groupBy, GroupedObservable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "groupBy", function() { return groupBy; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GroupedObservable", function() { return GroupedObservable; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _Subscription__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Subscription */ "./node_modules/rxjs/_esm5/internal/Subscription.js");
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _Subject__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Subject */ "./node_modules/rxjs/_esm5/internal/Subject.js");
/** PURE_IMPORTS_START tslib,_Subscriber,_Subscription,_Observable,_Subject PURE_IMPORTS_END */





function groupBy(keySelector, elementSelector, durationSelector, subjectSelector) {
    return function (source) {
        return source.lift(new GroupByOperator(keySelector, elementSelector, durationSelector, subjectSelector));
    };
}
var GroupByOperator = /*@__PURE__*/ (function () {
    function GroupByOperator(keySelector, elementSelector, durationSelector, subjectSelector) {
        this.keySelector = keySelector;
        this.elementSelector = elementSelector;
        this.durationSelector = durationSelector;
        this.subjectSelector = subjectSelector;
    }
    GroupByOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new GroupBySubscriber(subscriber, this.keySelector, this.elementSelector, this.durationSelector, this.subjectSelector));
    };
    return GroupByOperator;
}());
var GroupBySubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](GroupBySubscriber, _super);
    function GroupBySubscriber(destination, keySelector, elementSelector, durationSelector, subjectSelector) {
        var _this = _super.call(this, destination) || this;
        _this.keySelector = keySelector;
        _this.elementSelector = elementSelector;
        _this.durationSelector = durationSelector;
        _this.subjectSelector = subjectSelector;
        _this.groups = null;
        _this.attemptedToUnsubscribe = false;
        _this.count = 0;
        return _this;
    }
    GroupBySubscriber.prototype._next = function (value) {
        var key;
        try {
            key = this.keySelector(value);
        }
        catch (err) {
            this.error(err);
            return;
        }
        this._group(value, key);
    };
    GroupBySubscriber.prototype._group = function (value, key) {
        var groups = this.groups;
        if (!groups) {
            groups = this.groups = new Map();
        }
        var group = groups.get(key);
        var element;
        if (this.elementSelector) {
            try {
                element = this.elementSelector(value);
            }
            catch (err) {
                this.error(err);
            }
        }
        else {
            element = value;
        }
        if (!group) {
            group = (this.subjectSelector ? this.subjectSelector() : new _Subject__WEBPACK_IMPORTED_MODULE_4__["Subject"]());
            groups.set(key, group);
            var groupedObservable = new GroupedObservable(key, group, this);
            this.destination.next(groupedObservable);
            if (this.durationSelector) {
                var duration = void 0;
                try {
                    duration = this.durationSelector(new GroupedObservable(key, group));
                }
                catch (err) {
                    this.error(err);
                    return;
                }
                this.add(duration.subscribe(new GroupDurationSubscriber(key, group, this)));
            }
        }
        if (!group.closed) {
            group.next(element);
        }
    };
    GroupBySubscriber.prototype._error = function (err) {
        var groups = this.groups;
        if (groups) {
            groups.forEach(function (group, key) {
                group.error(err);
            });
            groups.clear();
        }
        this.destination.error(err);
    };
    GroupBySubscriber.prototype._complete = function () {
        var groups = this.groups;
        if (groups) {
            groups.forEach(function (group, key) {
                group.complete();
            });
            groups.clear();
        }
        this.destination.complete();
    };
    GroupBySubscriber.prototype.removeGroup = function (key) {
        this.groups.delete(key);
    };
    GroupBySubscriber.prototype.unsubscribe = function () {
        if (!this.closed) {
            this.attemptedToUnsubscribe = true;
            if (this.count === 0) {
                _super.prototype.unsubscribe.call(this);
            }
        }
    };
    return GroupBySubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
var GroupDurationSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](GroupDurationSubscriber, _super);
    function GroupDurationSubscriber(key, group, parent) {
        var _this = _super.call(this, group) || this;
        _this.key = key;
        _this.group = group;
        _this.parent = parent;
        return _this;
    }
    GroupDurationSubscriber.prototype._next = function (value) {
        this.complete();
    };
    GroupDurationSubscriber.prototype._unsubscribe = function () {
        var _a = this, parent = _a.parent, key = _a.key;
        this.key = this.parent = null;
        if (parent) {
            parent.removeGroup(key);
        }
    };
    return GroupDurationSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
var GroupedObservable = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](GroupedObservable, _super);
    function GroupedObservable(key, groupSubject, refCountSubscription) {
        var _this = _super.call(this) || this;
        _this.key = key;
        _this.groupSubject = groupSubject;
        _this.refCountSubscription = refCountSubscription;
        return _this;
    }
    GroupedObservable.prototype._subscribe = function (subscriber) {
        var subscription = new _Subscription__WEBPACK_IMPORTED_MODULE_2__["Subscription"]();
        var _a = this, refCountSubscription = _a.refCountSubscription, groupSubject = _a.groupSubject;
        if (refCountSubscription && !refCountSubscription.closed) {
            subscription.add(new InnerRefCountSubscription(refCountSubscription));
        }
        subscription.add(groupSubject.subscribe(subscriber));
        return subscription;
    };
    return GroupedObservable;
}(_Observable__WEBPACK_IMPORTED_MODULE_3__["Observable"]));

var InnerRefCountSubscription = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](InnerRefCountSubscription, _super);
    function InnerRefCountSubscription(parent) {
        var _this = _super.call(this) || this;
        _this.parent = parent;
        parent.count++;
        return _this;
    }
    InnerRefCountSubscription.prototype.unsubscribe = function () {
        var parent = this.parent;
        if (!parent.closed && !this.closed) {
            _super.prototype.unsubscribe.call(this);
            parent.count -= 1;
            if (parent.count === 0 && parent.attemptedToUnsubscribe) {
                parent.unsubscribe();
            }
        }
    };
    return InnerRefCountSubscription;
}(_Subscription__WEBPACK_IMPORTED_MODULE_2__["Subscription"]));
//# sourceMappingURL=groupBy.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/ignoreElements.js":
/*!**********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/ignoreElements.js ***!
  \**********************************************************************/
/*! exports provided: ignoreElements */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ignoreElements", function() { return ignoreElements; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function ignoreElements() {
    return function ignoreElementsOperatorFunction(source) {
        return source.lift(new IgnoreElementsOperator());
    };
}
var IgnoreElementsOperator = /*@__PURE__*/ (function () {
    function IgnoreElementsOperator() {
    }
    IgnoreElementsOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new IgnoreElementsSubscriber(subscriber));
    };
    return IgnoreElementsOperator;
}());
var IgnoreElementsSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](IgnoreElementsSubscriber, _super);
    function IgnoreElementsSubscriber() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    IgnoreElementsSubscriber.prototype._next = function (unused) {
    };
    return IgnoreElementsSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=ignoreElements.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/isEmpty.js":
/*!***************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/isEmpty.js ***!
  \***************************************************************/
/*! exports provided: isEmpty */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isEmpty", function() { return isEmpty; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function isEmpty() {
    return function (source) { return source.lift(new IsEmptyOperator()); };
}
var IsEmptyOperator = /*@__PURE__*/ (function () {
    function IsEmptyOperator() {
    }
    IsEmptyOperator.prototype.call = function (observer, source) {
        return source.subscribe(new IsEmptySubscriber(observer));
    };
    return IsEmptyOperator;
}());
var IsEmptySubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](IsEmptySubscriber, _super);
    function IsEmptySubscriber(destination) {
        return _super.call(this, destination) || this;
    }
    IsEmptySubscriber.prototype.notifyComplete = function (isEmpty) {
        var destination = this.destination;
        destination.next(isEmpty);
        destination.complete();
    };
    IsEmptySubscriber.prototype._next = function (value) {
        this.notifyComplete(false);
    };
    IsEmptySubscriber.prototype._complete = function () {
        this.notifyComplete(true);
    };
    return IsEmptySubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=isEmpty.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/last.js":
/*!************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/last.js ***!
  \************************************************************/
/*! exports provided: last */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "last", function() { return last; });
/* harmony import */ var _util_EmptyError__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/EmptyError */ "./node_modules/rxjs/_esm5/internal/util/EmptyError.js");
/* harmony import */ var _filter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./filter */ "./node_modules/rxjs/_esm5/internal/operators/filter.js");
/* harmony import */ var _takeLast__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./takeLast */ "./node_modules/rxjs/_esm5/internal/operators/takeLast.js");
/* harmony import */ var _throwIfEmpty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./throwIfEmpty */ "./node_modules/rxjs/_esm5/internal/operators/throwIfEmpty.js");
/* harmony import */ var _defaultIfEmpty__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./defaultIfEmpty */ "./node_modules/rxjs/_esm5/internal/operators/defaultIfEmpty.js");
/* harmony import */ var _util_identity__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/identity */ "./node_modules/rxjs/_esm5/internal/util/identity.js");
/** PURE_IMPORTS_START _util_EmptyError,_filter,_takeLast,_throwIfEmpty,_defaultIfEmpty,_util_identity PURE_IMPORTS_END */






function last(predicate, defaultValue) {
    var hasDefaultValue = arguments.length >= 2;
    return function (source) { return source.pipe(predicate ? Object(_filter__WEBPACK_IMPORTED_MODULE_1__["filter"])(function (v, i) { return predicate(v, i, source); }) : _util_identity__WEBPACK_IMPORTED_MODULE_5__["identity"], Object(_takeLast__WEBPACK_IMPORTED_MODULE_2__["takeLast"])(1), hasDefaultValue ? Object(_defaultIfEmpty__WEBPACK_IMPORTED_MODULE_4__["defaultIfEmpty"])(defaultValue) : Object(_throwIfEmpty__WEBPACK_IMPORTED_MODULE_3__["throwIfEmpty"])(function () { return new _util_EmptyError__WEBPACK_IMPORTED_MODULE_0__["EmptyError"](); })); };
}
//# sourceMappingURL=last.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/map.js":
/*!***********************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/map.js ***!
  \***********************************************************/
/*! exports provided: map, MapOperator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "map", function() { return map; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MapOperator", function() { return MapOperator; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function map(project, thisArg) {
    return function mapOperation(source) {
        if (typeof project !== 'function') {
            throw new TypeError('argument is not a function. Are you looking for `mapTo()`?');
        }
        return source.lift(new MapOperator(project, thisArg));
    };
}
var MapOperator = /*@__PURE__*/ (function () {
    function MapOperator(project, thisArg) {
        this.project = project;
        this.thisArg = thisArg;
    }
    MapOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));
    };
    return MapOperator;
}());

var MapSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](MapSubscriber, _super);
    function MapSubscriber(destination, project, thisArg) {
        var _this = _super.call(this, destination) || this;
        _this.project = project;
        _this.count = 0;
        _this.thisArg = thisArg || _this;
        return _this;
    }
    MapSubscriber.prototype._next = function (value) {
        var result;
        try {
            result = this.project.call(this.thisArg, value, this.count++);
        }
        catch (err) {
            this.destination.error(err);
            return;
        }
        this.destination.next(result);
    };
    return MapSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=map.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/mapTo.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/mapTo.js ***!
  \*************************************************************/
/*! exports provided: mapTo */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mapTo", function() { return mapTo; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function mapTo(value) {
    return function (source) { return source.lift(new MapToOperator(value)); };
}
var MapToOperator = /*@__PURE__*/ (function () {
    function MapToOperator(value) {
        this.value = value;
    }
    MapToOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new MapToSubscriber(subscriber, this.value));
    };
    return MapToOperator;
}());
var MapToSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](MapToSubscriber, _super);
    function MapToSubscriber(destination, value) {
        var _this = _super.call(this, destination) || this;
        _this.value = value;
        return _this;
    }
    MapToSubscriber.prototype._next = function (x) {
        this.destination.next(this.value);
    };
    return MapToSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=mapTo.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/materialize.js":
/*!*******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/materialize.js ***!
  \*******************************************************************/
/*! exports provided: materialize */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "materialize", function() { return materialize; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _Notification__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Notification */ "./node_modules/rxjs/_esm5/internal/Notification.js");
/** PURE_IMPORTS_START tslib,_Subscriber,_Notification PURE_IMPORTS_END */



function materialize() {
    return function materializeOperatorFunction(source) {
        return source.lift(new MaterializeOperator());
    };
}
var MaterializeOperator = /*@__PURE__*/ (function () {
    function MaterializeOperator() {
    }
    MaterializeOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new MaterializeSubscriber(subscriber));
    };
    return MaterializeOperator;
}());
var MaterializeSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](MaterializeSubscriber, _super);
    function MaterializeSubscriber(destination) {
        return _super.call(this, destination) || this;
    }
    MaterializeSubscriber.prototype._next = function (value) {
        this.destination.next(_Notification__WEBPACK_IMPORTED_MODULE_2__["Notification"].createNext(value));
    };
    MaterializeSubscriber.prototype._error = function (err) {
        var destination = this.destination;
        destination.next(_Notification__WEBPACK_IMPORTED_MODULE_2__["Notification"].createError(err));
        destination.complete();
    };
    MaterializeSubscriber.prototype._complete = function () {
        var destination = this.destination;
        destination.next(_Notification__WEBPACK_IMPORTED_MODULE_2__["Notification"].createComplete());
        destination.complete();
    };
    return MaterializeSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=materialize.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/max.js":
/*!***********************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/max.js ***!
  \***********************************************************/
/*! exports provided: max */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "max", function() { return max; });
/* harmony import */ var _reduce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./reduce */ "./node_modules/rxjs/_esm5/internal/operators/reduce.js");
/** PURE_IMPORTS_START _reduce PURE_IMPORTS_END */

function max(comparer) {
    var max = (typeof comparer === 'function')
        ? function (x, y) { return comparer(x, y) > 0 ? x : y; }
        : function (x, y) { return x > y ? x : y; };
    return Object(_reduce__WEBPACK_IMPORTED_MODULE_0__["reduce"])(max);
}
//# sourceMappingURL=max.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/merge.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/merge.js ***!
  \*************************************************************/
/*! exports provided: merge */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "merge", function() { return merge; });
/* harmony import */ var _observable_merge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../observable/merge */ "./node_modules/rxjs/_esm5/internal/observable/merge.js");
/** PURE_IMPORTS_START _observable_merge PURE_IMPORTS_END */

function merge() {
    var observables = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        observables[_i] = arguments[_i];
    }
    return function (source) { return source.lift.call(_observable_merge__WEBPACK_IMPORTED_MODULE_0__["merge"].apply(void 0, [source].concat(observables))); };
}
//# sourceMappingURL=merge.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/mergeAll.js":
/*!****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/mergeAll.js ***!
  \****************************************************************/
/*! exports provided: mergeAll */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mergeAll", function() { return mergeAll; });
/* harmony import */ var _mergeMap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mergeMap */ "./node_modules/rxjs/_esm5/internal/operators/mergeMap.js");
/* harmony import */ var _util_identity__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/identity */ "./node_modules/rxjs/_esm5/internal/util/identity.js");
/** PURE_IMPORTS_START _mergeMap,_util_identity PURE_IMPORTS_END */


function mergeAll(concurrent) {
    if (concurrent === void 0) {
        concurrent = Number.POSITIVE_INFINITY;
    }
    return Object(_mergeMap__WEBPACK_IMPORTED_MODULE_0__["mergeMap"])(_util_identity__WEBPACK_IMPORTED_MODULE_1__["identity"], concurrent);
}
//# sourceMappingURL=mergeAll.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/mergeMap.js":
/*!****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/mergeMap.js ***!
  \****************************************************************/
/*! exports provided: mergeMap, MergeMapOperator, MergeMapSubscriber, flatMap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mergeMap", function() { return mergeMap; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MergeMapOperator", function() { return MergeMapOperator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MergeMapSubscriber", function() { return MergeMapSubscriber; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "flatMap", function() { return flatMap; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _map__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./map */ "./node_modules/rxjs/_esm5/internal/operators/map.js");
/* harmony import */ var _observable_from__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../observable/from */ "./node_modules/rxjs/_esm5/internal/observable/from.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_map,_observable_from,_innerSubscribe PURE_IMPORTS_END */




function mergeMap(project, resultSelector, concurrent) {
    if (concurrent === void 0) {
        concurrent = Number.POSITIVE_INFINITY;
    }
    if (typeof resultSelector === 'function') {
        return function (source) { return source.pipe(mergeMap(function (a, i) { return Object(_observable_from__WEBPACK_IMPORTED_MODULE_2__["from"])(project(a, i)).pipe(Object(_map__WEBPACK_IMPORTED_MODULE_1__["map"])(function (b, ii) { return resultSelector(a, b, i, ii); })); }, concurrent)); };
    }
    else if (typeof resultSelector === 'number') {
        concurrent = resultSelector;
    }
    return function (source) { return source.lift(new MergeMapOperator(project, concurrent)); };
}
var MergeMapOperator = /*@__PURE__*/ (function () {
    function MergeMapOperator(project, concurrent) {
        if (concurrent === void 0) {
            concurrent = Number.POSITIVE_INFINITY;
        }
        this.project = project;
        this.concurrent = concurrent;
    }
    MergeMapOperator.prototype.call = function (observer, source) {
        return source.subscribe(new MergeMapSubscriber(observer, this.project, this.concurrent));
    };
    return MergeMapOperator;
}());

var MergeMapSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](MergeMapSubscriber, _super);
    function MergeMapSubscriber(destination, project, concurrent) {
        if (concurrent === void 0) {
            concurrent = Number.POSITIVE_INFINITY;
        }
        var _this = _super.call(this, destination) || this;
        _this.project = project;
        _this.concurrent = concurrent;
        _this.hasCompleted = false;
        _this.buffer = [];
        _this.active = 0;
        _this.index = 0;
        return _this;
    }
    MergeMapSubscriber.prototype._next = function (value) {
        if (this.active < this.concurrent) {
            this._tryNext(value);
        }
        else {
            this.buffer.push(value);
        }
    };
    MergeMapSubscriber.prototype._tryNext = function (value) {
        var result;
        var index = this.index++;
        try {
            result = this.project(value, index);
        }
        catch (err) {
            this.destination.error(err);
            return;
        }
        this.active++;
        this._innerSub(result);
    };
    MergeMapSubscriber.prototype._innerSub = function (ish) {
        var innerSubscriber = new _innerSubscribe__WEBPACK_IMPORTED_MODULE_3__["SimpleInnerSubscriber"](this);
        var destination = this.destination;
        destination.add(innerSubscriber);
        var innerSubscription = Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_3__["innerSubscribe"])(ish, innerSubscriber);
        if (innerSubscription !== innerSubscriber) {
            destination.add(innerSubscription);
        }
    };
    MergeMapSubscriber.prototype._complete = function () {
        this.hasCompleted = true;
        if (this.active === 0 && this.buffer.length === 0) {
            this.destination.complete();
        }
        this.unsubscribe();
    };
    MergeMapSubscriber.prototype.notifyNext = function (innerValue) {
        this.destination.next(innerValue);
    };
    MergeMapSubscriber.prototype.notifyComplete = function () {
        var buffer = this.buffer;
        this.active--;
        if (buffer.length > 0) {
            this._next(buffer.shift());
        }
        else if (this.active === 0 && this.hasCompleted) {
            this.destination.complete();
        }
    };
    return MergeMapSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_3__["SimpleOuterSubscriber"]));

var flatMap = mergeMap;
//# sourceMappingURL=mergeMap.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/mergeMapTo.js":
/*!******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/mergeMapTo.js ***!
  \******************************************************************/
/*! exports provided: mergeMapTo */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mergeMapTo", function() { return mergeMapTo; });
/* harmony import */ var _mergeMap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mergeMap */ "./node_modules/rxjs/_esm5/internal/operators/mergeMap.js");
/** PURE_IMPORTS_START _mergeMap PURE_IMPORTS_END */

function mergeMapTo(innerObservable, resultSelector, concurrent) {
    if (concurrent === void 0) {
        concurrent = Number.POSITIVE_INFINITY;
    }
    if (typeof resultSelector === 'function') {
        return Object(_mergeMap__WEBPACK_IMPORTED_MODULE_0__["mergeMap"])(function () { return innerObservable; }, resultSelector, concurrent);
    }
    if (typeof resultSelector === 'number') {
        concurrent = resultSelector;
    }
    return Object(_mergeMap__WEBPACK_IMPORTED_MODULE_0__["mergeMap"])(function () { return innerObservable; }, concurrent);
}
//# sourceMappingURL=mergeMapTo.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/mergeScan.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/mergeScan.js ***!
  \*****************************************************************/
/*! exports provided: mergeScan, MergeScanOperator, MergeScanSubscriber */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mergeScan", function() { return mergeScan; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MergeScanOperator", function() { return MergeScanOperator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MergeScanSubscriber", function() { return MergeScanSubscriber; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */


function mergeScan(accumulator, seed, concurrent) {
    if (concurrent === void 0) {
        concurrent = Number.POSITIVE_INFINITY;
    }
    return function (source) { return source.lift(new MergeScanOperator(accumulator, seed, concurrent)); };
}
var MergeScanOperator = /*@__PURE__*/ (function () {
    function MergeScanOperator(accumulator, seed, concurrent) {
        this.accumulator = accumulator;
        this.seed = seed;
        this.concurrent = concurrent;
    }
    MergeScanOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new MergeScanSubscriber(subscriber, this.accumulator, this.seed, this.concurrent));
    };
    return MergeScanOperator;
}());

var MergeScanSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](MergeScanSubscriber, _super);
    function MergeScanSubscriber(destination, accumulator, acc, concurrent) {
        var _this = _super.call(this, destination) || this;
        _this.accumulator = accumulator;
        _this.acc = acc;
        _this.concurrent = concurrent;
        _this.hasValue = false;
        _this.hasCompleted = false;
        _this.buffer = [];
        _this.active = 0;
        _this.index = 0;
        return _this;
    }
    MergeScanSubscriber.prototype._next = function (value) {
        if (this.active < this.concurrent) {
            var index = this.index++;
            var destination = this.destination;
            var ish = void 0;
            try {
                var accumulator = this.accumulator;
                ish = accumulator(this.acc, value, index);
            }
            catch (e) {
                return destination.error(e);
            }
            this.active++;
            this._innerSub(ish);
        }
        else {
            this.buffer.push(value);
        }
    };
    MergeScanSubscriber.prototype._innerSub = function (ish) {
        var innerSubscriber = new _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleInnerSubscriber"](this);
        var destination = this.destination;
        destination.add(innerSubscriber);
        var innerSubscription = Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["innerSubscribe"])(ish, innerSubscriber);
        if (innerSubscription !== innerSubscriber) {
            destination.add(innerSubscription);
        }
    };
    MergeScanSubscriber.prototype._complete = function () {
        this.hasCompleted = true;
        if (this.active === 0 && this.buffer.length === 0) {
            if (this.hasValue === false) {
                this.destination.next(this.acc);
            }
            this.destination.complete();
        }
        this.unsubscribe();
    };
    MergeScanSubscriber.prototype.notifyNext = function (innerValue) {
        var destination = this.destination;
        this.acc = innerValue;
        this.hasValue = true;
        destination.next(innerValue);
    };
    MergeScanSubscriber.prototype.notifyComplete = function () {
        var buffer = this.buffer;
        this.active--;
        if (buffer.length > 0) {
            this._next(buffer.shift());
        }
        else if (this.active === 0 && this.hasCompleted) {
            if (this.hasValue === false) {
                this.destination.next(this.acc);
            }
            this.destination.complete();
        }
    };
    return MergeScanSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleOuterSubscriber"]));

//# sourceMappingURL=mergeScan.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/min.js":
/*!***********************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/min.js ***!
  \***********************************************************/
/*! exports provided: min */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "min", function() { return min; });
/* harmony import */ var _reduce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./reduce */ "./node_modules/rxjs/_esm5/internal/operators/reduce.js");
/** PURE_IMPORTS_START _reduce PURE_IMPORTS_END */

function min(comparer) {
    var min = (typeof comparer === 'function')
        ? function (x, y) { return comparer(x, y) < 0 ? x : y; }
        : function (x, y) { return x < y ? x : y; };
    return Object(_reduce__WEBPACK_IMPORTED_MODULE_0__["reduce"])(min);
}
//# sourceMappingURL=min.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/multicast.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/multicast.js ***!
  \*****************************************************************/
/*! exports provided: multicast, MulticastOperator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "multicast", function() { return multicast; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MulticastOperator", function() { return MulticastOperator; });
/* harmony import */ var _observable_ConnectableObservable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../observable/ConnectableObservable */ "./node_modules/rxjs/_esm5/internal/observable/ConnectableObservable.js");
/** PURE_IMPORTS_START _observable_ConnectableObservable PURE_IMPORTS_END */

function multicast(subjectOrSubjectFactory, selector) {
    return function multicastOperatorFunction(source) {
        var subjectFactory;
        if (typeof subjectOrSubjectFactory === 'function') {
            subjectFactory = subjectOrSubjectFactory;
        }
        else {
            subjectFactory = function subjectFactory() {
                return subjectOrSubjectFactory;
            };
        }
        if (typeof selector === 'function') {
            return source.lift(new MulticastOperator(subjectFactory, selector));
        }
        var connectable = Object.create(source, _observable_ConnectableObservable__WEBPACK_IMPORTED_MODULE_0__["connectableObservableDescriptor"]);
        connectable.source = source;
        connectable.subjectFactory = subjectFactory;
        return connectable;
    };
}
var MulticastOperator = /*@__PURE__*/ (function () {
    function MulticastOperator(subjectFactory, selector) {
        this.subjectFactory = subjectFactory;
        this.selector = selector;
    }
    MulticastOperator.prototype.call = function (subscriber, source) {
        var selector = this.selector;
        var subject = this.subjectFactory();
        var subscription = selector(subject).subscribe(subscriber);
        subscription.add(source.subscribe(subject));
        return subscription;
    };
    return MulticastOperator;
}());

//# sourceMappingURL=multicast.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/observeOn.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/observeOn.js ***!
  \*****************************************************************/
/*! exports provided: observeOn, ObserveOnOperator, ObserveOnSubscriber, ObserveOnMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "observeOn", function() { return observeOn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObserveOnOperator", function() { return ObserveOnOperator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObserveOnSubscriber", function() { return ObserveOnSubscriber; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObserveOnMessage", function() { return ObserveOnMessage; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _Notification__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Notification */ "./node_modules/rxjs/_esm5/internal/Notification.js");
/** PURE_IMPORTS_START tslib,_Subscriber,_Notification PURE_IMPORTS_END */



function observeOn(scheduler, delay) {
    if (delay === void 0) {
        delay = 0;
    }
    return function observeOnOperatorFunction(source) {
        return source.lift(new ObserveOnOperator(scheduler, delay));
    };
}
var ObserveOnOperator = /*@__PURE__*/ (function () {
    function ObserveOnOperator(scheduler, delay) {
        if (delay === void 0) {
            delay = 0;
        }
        this.scheduler = scheduler;
        this.delay = delay;
    }
    ObserveOnOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new ObserveOnSubscriber(subscriber, this.scheduler, this.delay));
    };
    return ObserveOnOperator;
}());

var ObserveOnSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ObserveOnSubscriber, _super);
    function ObserveOnSubscriber(destination, scheduler, delay) {
        if (delay === void 0) {
            delay = 0;
        }
        var _this = _super.call(this, destination) || this;
        _this.scheduler = scheduler;
        _this.delay = delay;
        return _this;
    }
    ObserveOnSubscriber.dispatch = function (arg) {
        var notification = arg.notification, destination = arg.destination;
        notification.observe(destination);
        this.unsubscribe();
    };
    ObserveOnSubscriber.prototype.scheduleMessage = function (notification) {
        var destination = this.destination;
        destination.add(this.scheduler.schedule(ObserveOnSubscriber.dispatch, this.delay, new ObserveOnMessage(notification, this.destination)));
    };
    ObserveOnSubscriber.prototype._next = function (value) {
        this.scheduleMessage(_Notification__WEBPACK_IMPORTED_MODULE_2__["Notification"].createNext(value));
    };
    ObserveOnSubscriber.prototype._error = function (err) {
        this.scheduleMessage(_Notification__WEBPACK_IMPORTED_MODULE_2__["Notification"].createError(err));
        this.unsubscribe();
    };
    ObserveOnSubscriber.prototype._complete = function () {
        this.scheduleMessage(_Notification__WEBPACK_IMPORTED_MODULE_2__["Notification"].createComplete());
        this.unsubscribe();
    };
    return ObserveOnSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));

var ObserveOnMessage = /*@__PURE__*/ (function () {
    function ObserveOnMessage(notification, destination) {
        this.notification = notification;
        this.destination = destination;
    }
    return ObserveOnMessage;
}());

//# sourceMappingURL=observeOn.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/onErrorResumeNext.js":
/*!*************************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/onErrorResumeNext.js ***!
  \*************************************************************************/
/*! exports provided: onErrorResumeNext, onErrorResumeNextStatic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "onErrorResumeNext", function() { return onErrorResumeNext; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "onErrorResumeNextStatic", function() { return onErrorResumeNextStatic; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _observable_from__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../observable/from */ "./node_modules/rxjs/_esm5/internal/observable/from.js");
/* harmony import */ var _util_isArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/isArray */ "./node_modules/rxjs/_esm5/internal/util/isArray.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_observable_from,_util_isArray,_innerSubscribe PURE_IMPORTS_END */




function onErrorResumeNext() {
    var nextSources = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        nextSources[_i] = arguments[_i];
    }
    if (nextSources.length === 1 && Object(_util_isArray__WEBPACK_IMPORTED_MODULE_2__["isArray"])(nextSources[0])) {
        nextSources = nextSources[0];
    }
    return function (source) { return source.lift(new OnErrorResumeNextOperator(nextSources)); };
}
function onErrorResumeNextStatic() {
    var nextSources = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        nextSources[_i] = arguments[_i];
    }
    var source = undefined;
    if (nextSources.length === 1 && Object(_util_isArray__WEBPACK_IMPORTED_MODULE_2__["isArray"])(nextSources[0])) {
        nextSources = nextSources[0];
    }
    source = nextSources.shift();
    return Object(_observable_from__WEBPACK_IMPORTED_MODULE_1__["from"])(source).lift(new OnErrorResumeNextOperator(nextSources));
}
var OnErrorResumeNextOperator = /*@__PURE__*/ (function () {
    function OnErrorResumeNextOperator(nextSources) {
        this.nextSources = nextSources;
    }
    OnErrorResumeNextOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new OnErrorResumeNextSubscriber(subscriber, this.nextSources));
    };
    return OnErrorResumeNextOperator;
}());
var OnErrorResumeNextSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](OnErrorResumeNextSubscriber, _super);
    function OnErrorResumeNextSubscriber(destination, nextSources) {
        var _this = _super.call(this, destination) || this;
        _this.destination = destination;
        _this.nextSources = nextSources;
        return _this;
    }
    OnErrorResumeNextSubscriber.prototype.notifyError = function () {
        this.subscribeToNextSource();
    };
    OnErrorResumeNextSubscriber.prototype.notifyComplete = function () {
        this.subscribeToNextSource();
    };
    OnErrorResumeNextSubscriber.prototype._error = function (err) {
        this.subscribeToNextSource();
        this.unsubscribe();
    };
    OnErrorResumeNextSubscriber.prototype._complete = function () {
        this.subscribeToNextSource();
        this.unsubscribe();
    };
    OnErrorResumeNextSubscriber.prototype.subscribeToNextSource = function () {
        var next = this.nextSources.shift();
        if (!!next) {
            var innerSubscriber = new _innerSubscribe__WEBPACK_IMPORTED_MODULE_3__["SimpleInnerSubscriber"](this);
            var destination = this.destination;
            destination.add(innerSubscriber);
            var innerSubscription = Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_3__["innerSubscribe"])(next, innerSubscriber);
            if (innerSubscription !== innerSubscriber) {
                destination.add(innerSubscription);
            }
        }
        else {
            this.destination.complete();
        }
    };
    return OnErrorResumeNextSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_3__["SimpleOuterSubscriber"]));
//# sourceMappingURL=onErrorResumeNext.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/pairwise.js":
/*!****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/pairwise.js ***!
  \****************************************************************/
/*! exports provided: pairwise */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pairwise", function() { return pairwise; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function pairwise() {
    return function (source) { return source.lift(new PairwiseOperator()); };
}
var PairwiseOperator = /*@__PURE__*/ (function () {
    function PairwiseOperator() {
    }
    PairwiseOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new PairwiseSubscriber(subscriber));
    };
    return PairwiseOperator;
}());
var PairwiseSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](PairwiseSubscriber, _super);
    function PairwiseSubscriber(destination) {
        var _this = _super.call(this, destination) || this;
        _this.hasPrev = false;
        return _this;
    }
    PairwiseSubscriber.prototype._next = function (value) {
        var pair;
        if (this.hasPrev) {
            pair = [this.prev, value];
        }
        else {
            this.hasPrev = true;
        }
        this.prev = value;
        if (pair) {
            this.destination.next(pair);
        }
    };
    return PairwiseSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=pairwise.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/partition.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/partition.js ***!
  \*****************************************************************/
/*! exports provided: partition */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "partition", function() { return partition; });
/* harmony import */ var _util_not__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/not */ "./node_modules/rxjs/_esm5/internal/util/not.js");
/* harmony import */ var _filter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./filter */ "./node_modules/rxjs/_esm5/internal/operators/filter.js");
/** PURE_IMPORTS_START _util_not,_filter PURE_IMPORTS_END */


function partition(predicate, thisArg) {
    return function (source) {
        return [
            Object(_filter__WEBPACK_IMPORTED_MODULE_1__["filter"])(predicate, thisArg)(source),
            Object(_filter__WEBPACK_IMPORTED_MODULE_1__["filter"])(Object(_util_not__WEBPACK_IMPORTED_MODULE_0__["not"])(predicate, thisArg))(source)
        ];
    };
}
//# sourceMappingURL=partition.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/pluck.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/pluck.js ***!
  \*************************************************************/
/*! exports provided: pluck */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pluck", function() { return pluck; });
/* harmony import */ var _map__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./map */ "./node_modules/rxjs/_esm5/internal/operators/map.js");
/** PURE_IMPORTS_START _map PURE_IMPORTS_END */

function pluck() {
    var properties = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        properties[_i] = arguments[_i];
    }
    var length = properties.length;
    if (length === 0) {
        throw new Error('list of properties cannot be empty.');
    }
    return function (source) { return Object(_map__WEBPACK_IMPORTED_MODULE_0__["map"])(plucker(properties, length))(source); };
}
function plucker(props, length) {
    var mapper = function (x) {
        var currentProp = x;
        for (var i = 0; i < length; i++) {
            var p = currentProp != null ? currentProp[props[i]] : undefined;
            if (p !== void 0) {
                currentProp = p;
            }
            else {
                return undefined;
            }
        }
        return currentProp;
    };
    return mapper;
}
//# sourceMappingURL=pluck.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/publish.js":
/*!***************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/publish.js ***!
  \***************************************************************/
/*! exports provided: publish */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "publish", function() { return publish; });
/* harmony import */ var _Subject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Subject */ "./node_modules/rxjs/_esm5/internal/Subject.js");
/* harmony import */ var _multicast__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./multicast */ "./node_modules/rxjs/_esm5/internal/operators/multicast.js");
/** PURE_IMPORTS_START _Subject,_multicast PURE_IMPORTS_END */


function publish(selector) {
    return selector ?
        Object(_multicast__WEBPACK_IMPORTED_MODULE_1__["multicast"])(function () { return new _Subject__WEBPACK_IMPORTED_MODULE_0__["Subject"](); }, selector) :
        Object(_multicast__WEBPACK_IMPORTED_MODULE_1__["multicast"])(new _Subject__WEBPACK_IMPORTED_MODULE_0__["Subject"]());
}
//# sourceMappingURL=publish.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/publishBehavior.js":
/*!***********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/publishBehavior.js ***!
  \***********************************************************************/
/*! exports provided: publishBehavior */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "publishBehavior", function() { return publishBehavior; });
/* harmony import */ var _BehaviorSubject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../BehaviorSubject */ "./node_modules/rxjs/_esm5/internal/BehaviorSubject.js");
/* harmony import */ var _multicast__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./multicast */ "./node_modules/rxjs/_esm5/internal/operators/multicast.js");
/** PURE_IMPORTS_START _BehaviorSubject,_multicast PURE_IMPORTS_END */


function publishBehavior(value) {
    return function (source) { return Object(_multicast__WEBPACK_IMPORTED_MODULE_1__["multicast"])(new _BehaviorSubject__WEBPACK_IMPORTED_MODULE_0__["BehaviorSubject"](value))(source); };
}
//# sourceMappingURL=publishBehavior.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/publishLast.js":
/*!*******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/publishLast.js ***!
  \*******************************************************************/
/*! exports provided: publishLast */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "publishLast", function() { return publishLast; });
/* harmony import */ var _AsyncSubject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../AsyncSubject */ "./node_modules/rxjs/_esm5/internal/AsyncSubject.js");
/* harmony import */ var _multicast__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./multicast */ "./node_modules/rxjs/_esm5/internal/operators/multicast.js");
/** PURE_IMPORTS_START _AsyncSubject,_multicast PURE_IMPORTS_END */


function publishLast() {
    return function (source) { return Object(_multicast__WEBPACK_IMPORTED_MODULE_1__["multicast"])(new _AsyncSubject__WEBPACK_IMPORTED_MODULE_0__["AsyncSubject"]())(source); };
}
//# sourceMappingURL=publishLast.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/publishReplay.js":
/*!*********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/publishReplay.js ***!
  \*********************************************************************/
/*! exports provided: publishReplay */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "publishReplay", function() { return publishReplay; });
/* harmony import */ var _ReplaySubject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ReplaySubject */ "./node_modules/rxjs/_esm5/internal/ReplaySubject.js");
/* harmony import */ var _multicast__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./multicast */ "./node_modules/rxjs/_esm5/internal/operators/multicast.js");
/** PURE_IMPORTS_START _ReplaySubject,_multicast PURE_IMPORTS_END */


function publishReplay(bufferSize, windowTime, selectorOrScheduler, scheduler) {
    if (selectorOrScheduler && typeof selectorOrScheduler !== 'function') {
        scheduler = selectorOrScheduler;
    }
    var selector = typeof selectorOrScheduler === 'function' ? selectorOrScheduler : undefined;
    var subject = new _ReplaySubject__WEBPACK_IMPORTED_MODULE_0__["ReplaySubject"](bufferSize, windowTime, scheduler);
    return function (source) { return Object(_multicast__WEBPACK_IMPORTED_MODULE_1__["multicast"])(function () { return subject; }, selector)(source); };
}
//# sourceMappingURL=publishReplay.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/race.js":
/*!************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/race.js ***!
  \************************************************************/
/*! exports provided: race */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "race", function() { return race; });
/* harmony import */ var _util_isArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/isArray */ "./node_modules/rxjs/_esm5/internal/util/isArray.js");
/* harmony import */ var _observable_race__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../observable/race */ "./node_modules/rxjs/_esm5/internal/observable/race.js");
/** PURE_IMPORTS_START _util_isArray,_observable_race PURE_IMPORTS_END */


function race() {
    var observables = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        observables[_i] = arguments[_i];
    }
    return function raceOperatorFunction(source) {
        if (observables.length === 1 && Object(_util_isArray__WEBPACK_IMPORTED_MODULE_0__["isArray"])(observables[0])) {
            observables = observables[0];
        }
        return source.lift.call(_observable_race__WEBPACK_IMPORTED_MODULE_1__["race"].apply(void 0, [source].concat(observables)));
    };
}
//# sourceMappingURL=race.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/reduce.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/reduce.js ***!
  \**************************************************************/
/*! exports provided: reduce */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "reduce", function() { return reduce; });
/* harmony import */ var _scan__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./scan */ "./node_modules/rxjs/_esm5/internal/operators/scan.js");
/* harmony import */ var _takeLast__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./takeLast */ "./node_modules/rxjs/_esm5/internal/operators/takeLast.js");
/* harmony import */ var _defaultIfEmpty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./defaultIfEmpty */ "./node_modules/rxjs/_esm5/internal/operators/defaultIfEmpty.js");
/* harmony import */ var _util_pipe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/pipe */ "./node_modules/rxjs/_esm5/internal/util/pipe.js");
/** PURE_IMPORTS_START _scan,_takeLast,_defaultIfEmpty,_util_pipe PURE_IMPORTS_END */




function reduce(accumulator, seed) {
    if (arguments.length >= 2) {
        return function reduceOperatorFunctionWithSeed(source) {
            return Object(_util_pipe__WEBPACK_IMPORTED_MODULE_3__["pipe"])(Object(_scan__WEBPACK_IMPORTED_MODULE_0__["scan"])(accumulator, seed), Object(_takeLast__WEBPACK_IMPORTED_MODULE_1__["takeLast"])(1), Object(_defaultIfEmpty__WEBPACK_IMPORTED_MODULE_2__["defaultIfEmpty"])(seed))(source);
        };
    }
    return function reduceOperatorFunction(source) {
        return Object(_util_pipe__WEBPACK_IMPORTED_MODULE_3__["pipe"])(Object(_scan__WEBPACK_IMPORTED_MODULE_0__["scan"])(function (acc, value, index) { return accumulator(acc, value, index + 1); }), Object(_takeLast__WEBPACK_IMPORTED_MODULE_1__["takeLast"])(1))(source);
    };
}
//# sourceMappingURL=reduce.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/refCount.js":
/*!****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/refCount.js ***!
  \****************************************************************/
/*! exports provided: refCount */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "refCount", function() { return refCount; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function refCount() {
    return function refCountOperatorFunction(source) {
        return source.lift(new RefCountOperator(source));
    };
}
var RefCountOperator = /*@__PURE__*/ (function () {
    function RefCountOperator(connectable) {
        this.connectable = connectable;
    }
    RefCountOperator.prototype.call = function (subscriber, source) {
        var connectable = this.connectable;
        connectable._refCount++;
        var refCounter = new RefCountSubscriber(subscriber, connectable);
        var subscription = source.subscribe(refCounter);
        if (!refCounter.closed) {
            refCounter.connection = connectable.connect();
        }
        return subscription;
    };
    return RefCountOperator;
}());
var RefCountSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](RefCountSubscriber, _super);
    function RefCountSubscriber(destination, connectable) {
        var _this = _super.call(this, destination) || this;
        _this.connectable = connectable;
        return _this;
    }
    RefCountSubscriber.prototype._unsubscribe = function () {
        var connectable = this.connectable;
        if (!connectable) {
            this.connection = null;
            return;
        }
        this.connectable = null;
        var refCount = connectable._refCount;
        if (refCount <= 0) {
            this.connection = null;
            return;
        }
        connectable._refCount = refCount - 1;
        if (refCount > 1) {
            this.connection = null;
            return;
        }
        var connection = this.connection;
        var sharedConnection = connectable._connection;
        this.connection = null;
        if (sharedConnection && (!connection || sharedConnection === connection)) {
            sharedConnection.unsubscribe();
        }
    };
    return RefCountSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=refCount.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/repeat.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/repeat.js ***!
  \**************************************************************/
/*! exports provided: repeat */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "repeat", function() { return repeat; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _observable_empty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../observable/empty */ "./node_modules/rxjs/_esm5/internal/observable/empty.js");
/** PURE_IMPORTS_START tslib,_Subscriber,_observable_empty PURE_IMPORTS_END */



function repeat(count) {
    if (count === void 0) {
        count = -1;
    }
    return function (source) {
        if (count === 0) {
            return Object(_observable_empty__WEBPACK_IMPORTED_MODULE_2__["empty"])();
        }
        else if (count < 0) {
            return source.lift(new RepeatOperator(-1, source));
        }
        else {
            return source.lift(new RepeatOperator(count - 1, source));
        }
    };
}
var RepeatOperator = /*@__PURE__*/ (function () {
    function RepeatOperator(count, source) {
        this.count = count;
        this.source = source;
    }
    RepeatOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new RepeatSubscriber(subscriber, this.count, this.source));
    };
    return RepeatOperator;
}());
var RepeatSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](RepeatSubscriber, _super);
    function RepeatSubscriber(destination, count, source) {
        var _this = _super.call(this, destination) || this;
        _this.count = count;
        _this.source = source;
        return _this;
    }
    RepeatSubscriber.prototype.complete = function () {
        if (!this.isStopped) {
            var _a = this, source = _a.source, count = _a.count;
            if (count === 0) {
                return _super.prototype.complete.call(this);
            }
            else if (count > -1) {
                this.count = count - 1;
            }
            source.subscribe(this._unsubscribeAndRecycle());
        }
    };
    return RepeatSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=repeat.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/repeatWhen.js":
/*!******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/repeatWhen.js ***!
  \******************************************************************/
/*! exports provided: repeatWhen */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "repeatWhen", function() { return repeatWhen; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subject */ "./node_modules/rxjs/_esm5/internal/Subject.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_Subject,_innerSubscribe PURE_IMPORTS_END */



function repeatWhen(notifier) {
    return function (source) { return source.lift(new RepeatWhenOperator(notifier)); };
}
var RepeatWhenOperator = /*@__PURE__*/ (function () {
    function RepeatWhenOperator(notifier) {
        this.notifier = notifier;
    }
    RepeatWhenOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new RepeatWhenSubscriber(subscriber, this.notifier, source));
    };
    return RepeatWhenOperator;
}());
var RepeatWhenSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](RepeatWhenSubscriber, _super);
    function RepeatWhenSubscriber(destination, notifier, source) {
        var _this = _super.call(this, destination) || this;
        _this.notifier = notifier;
        _this.source = source;
        _this.sourceIsBeingSubscribedTo = true;
        return _this;
    }
    RepeatWhenSubscriber.prototype.notifyNext = function () {
        this.sourceIsBeingSubscribedTo = true;
        this.source.subscribe(this);
    };
    RepeatWhenSubscriber.prototype.notifyComplete = function () {
        if (this.sourceIsBeingSubscribedTo === false) {
            return _super.prototype.complete.call(this);
        }
    };
    RepeatWhenSubscriber.prototype.complete = function () {
        this.sourceIsBeingSubscribedTo = false;
        if (!this.isStopped) {
            if (!this.retries) {
                this.subscribeToRetries();
            }
            if (!this.retriesSubscription || this.retriesSubscription.closed) {
                return _super.prototype.complete.call(this);
            }
            this._unsubscribeAndRecycle();
            this.notifications.next(undefined);
        }
    };
    RepeatWhenSubscriber.prototype._unsubscribe = function () {
        var _a = this, notifications = _a.notifications, retriesSubscription = _a.retriesSubscription;
        if (notifications) {
            notifications.unsubscribe();
            this.notifications = undefined;
        }
        if (retriesSubscription) {
            retriesSubscription.unsubscribe();
            this.retriesSubscription = undefined;
        }
        this.retries = undefined;
    };
    RepeatWhenSubscriber.prototype._unsubscribeAndRecycle = function () {
        var _unsubscribe = this._unsubscribe;
        this._unsubscribe = null;
        _super.prototype._unsubscribeAndRecycle.call(this);
        this._unsubscribe = _unsubscribe;
        return this;
    };
    RepeatWhenSubscriber.prototype.subscribeToRetries = function () {
        this.notifications = new _Subject__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        var retries;
        try {
            var notifier = this.notifier;
            retries = notifier(this.notifications);
        }
        catch (e) {
            return _super.prototype.complete.call(this);
        }
        this.retries = retries;
        this.retriesSubscription = Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_2__["innerSubscribe"])(retries, new _innerSubscribe__WEBPACK_IMPORTED_MODULE_2__["SimpleInnerSubscriber"](this));
    };
    return RepeatWhenSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_2__["SimpleOuterSubscriber"]));
//# sourceMappingURL=repeatWhen.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/retry.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/retry.js ***!
  \*************************************************************/
/*! exports provided: retry */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "retry", function() { return retry; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function retry(count) {
    if (count === void 0) {
        count = -1;
    }
    return function (source) { return source.lift(new RetryOperator(count, source)); };
}
var RetryOperator = /*@__PURE__*/ (function () {
    function RetryOperator(count, source) {
        this.count = count;
        this.source = source;
    }
    RetryOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new RetrySubscriber(subscriber, this.count, this.source));
    };
    return RetryOperator;
}());
var RetrySubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](RetrySubscriber, _super);
    function RetrySubscriber(destination, count, source) {
        var _this = _super.call(this, destination) || this;
        _this.count = count;
        _this.source = source;
        return _this;
    }
    RetrySubscriber.prototype.error = function (err) {
        if (!this.isStopped) {
            var _a = this, source = _a.source, count = _a.count;
            if (count === 0) {
                return _super.prototype.error.call(this, err);
            }
            else if (count > -1) {
                this.count = count - 1;
            }
            source.subscribe(this._unsubscribeAndRecycle());
        }
    };
    return RetrySubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=retry.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/retryWhen.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/retryWhen.js ***!
  \*****************************************************************/
/*! exports provided: retryWhen */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "retryWhen", function() { return retryWhen; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subject */ "./node_modules/rxjs/_esm5/internal/Subject.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_Subject,_innerSubscribe PURE_IMPORTS_END */



function retryWhen(notifier) {
    return function (source) { return source.lift(new RetryWhenOperator(notifier, source)); };
}
var RetryWhenOperator = /*@__PURE__*/ (function () {
    function RetryWhenOperator(notifier, source) {
        this.notifier = notifier;
        this.source = source;
    }
    RetryWhenOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new RetryWhenSubscriber(subscriber, this.notifier, this.source));
    };
    return RetryWhenOperator;
}());
var RetryWhenSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](RetryWhenSubscriber, _super);
    function RetryWhenSubscriber(destination, notifier, source) {
        var _this = _super.call(this, destination) || this;
        _this.notifier = notifier;
        _this.source = source;
        return _this;
    }
    RetryWhenSubscriber.prototype.error = function (err) {
        if (!this.isStopped) {
            var errors = this.errors;
            var retries = this.retries;
            var retriesSubscription = this.retriesSubscription;
            if (!retries) {
                errors = new _Subject__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
                try {
                    var notifier = this.notifier;
                    retries = notifier(errors);
                }
                catch (e) {
                    return _super.prototype.error.call(this, e);
                }
                retriesSubscription = Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_2__["innerSubscribe"])(retries, new _innerSubscribe__WEBPACK_IMPORTED_MODULE_2__["SimpleInnerSubscriber"](this));
            }
            else {
                this.errors = undefined;
                this.retriesSubscription = undefined;
            }
            this._unsubscribeAndRecycle();
            this.errors = errors;
            this.retries = retries;
            this.retriesSubscription = retriesSubscription;
            errors.next(err);
        }
    };
    RetryWhenSubscriber.prototype._unsubscribe = function () {
        var _a = this, errors = _a.errors, retriesSubscription = _a.retriesSubscription;
        if (errors) {
            errors.unsubscribe();
            this.errors = undefined;
        }
        if (retriesSubscription) {
            retriesSubscription.unsubscribe();
            this.retriesSubscription = undefined;
        }
        this.retries = undefined;
    };
    RetryWhenSubscriber.prototype.notifyNext = function () {
        var _unsubscribe = this._unsubscribe;
        this._unsubscribe = null;
        this._unsubscribeAndRecycle();
        this._unsubscribe = _unsubscribe;
        this.source.subscribe(this);
    };
    return RetryWhenSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_2__["SimpleOuterSubscriber"]));
//# sourceMappingURL=retryWhen.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/sample.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/sample.js ***!
  \**************************************************************/
/*! exports provided: sample */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sample", function() { return sample; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */


function sample(notifier) {
    return function (source) { return source.lift(new SampleOperator(notifier)); };
}
var SampleOperator = /*@__PURE__*/ (function () {
    function SampleOperator(notifier) {
        this.notifier = notifier;
    }
    SampleOperator.prototype.call = function (subscriber, source) {
        var sampleSubscriber = new SampleSubscriber(subscriber);
        var subscription = source.subscribe(sampleSubscriber);
        subscription.add(Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["innerSubscribe"])(this.notifier, new _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleInnerSubscriber"](sampleSubscriber)));
        return subscription;
    };
    return SampleOperator;
}());
var SampleSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SampleSubscriber, _super);
    function SampleSubscriber() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.hasValue = false;
        return _this;
    }
    SampleSubscriber.prototype._next = function (value) {
        this.value = value;
        this.hasValue = true;
    };
    SampleSubscriber.prototype.notifyNext = function () {
        this.emitValue();
    };
    SampleSubscriber.prototype.notifyComplete = function () {
        this.emitValue();
    };
    SampleSubscriber.prototype.emitValue = function () {
        if (this.hasValue) {
            this.hasValue = false;
            this.destination.next(this.value);
        }
    };
    return SampleSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleOuterSubscriber"]));
//# sourceMappingURL=sample.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/sampleTime.js":
/*!******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/sampleTime.js ***!
  \******************************************************************/
/*! exports provided: sampleTime */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sampleTime", function() { return sampleTime; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _scheduler_async__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../scheduler/async */ "./node_modules/rxjs/_esm5/internal/scheduler/async.js");
/** PURE_IMPORTS_START tslib,_Subscriber,_scheduler_async PURE_IMPORTS_END */



function sampleTime(period, scheduler) {
    if (scheduler === void 0) {
        scheduler = _scheduler_async__WEBPACK_IMPORTED_MODULE_2__["async"];
    }
    return function (source) { return source.lift(new SampleTimeOperator(period, scheduler)); };
}
var SampleTimeOperator = /*@__PURE__*/ (function () {
    function SampleTimeOperator(period, scheduler) {
        this.period = period;
        this.scheduler = scheduler;
    }
    SampleTimeOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new SampleTimeSubscriber(subscriber, this.period, this.scheduler));
    };
    return SampleTimeOperator;
}());
var SampleTimeSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SampleTimeSubscriber, _super);
    function SampleTimeSubscriber(destination, period, scheduler) {
        var _this = _super.call(this, destination) || this;
        _this.period = period;
        _this.scheduler = scheduler;
        _this.hasValue = false;
        _this.add(scheduler.schedule(dispatchNotification, period, { subscriber: _this, period: period }));
        return _this;
    }
    SampleTimeSubscriber.prototype._next = function (value) {
        this.lastValue = value;
        this.hasValue = true;
    };
    SampleTimeSubscriber.prototype.notifyNext = function () {
        if (this.hasValue) {
            this.hasValue = false;
            this.destination.next(this.lastValue);
        }
    };
    return SampleTimeSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
function dispatchNotification(state) {
    var subscriber = state.subscriber, period = state.period;
    subscriber.notifyNext();
    this.schedule(state, period);
}
//# sourceMappingURL=sampleTime.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/scan.js":
/*!************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/scan.js ***!
  \************************************************************/
/*! exports provided: scan */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "scan", function() { return scan; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function scan(accumulator, seed) {
    var hasSeed = false;
    if (arguments.length >= 2) {
        hasSeed = true;
    }
    return function scanOperatorFunction(source) {
        return source.lift(new ScanOperator(accumulator, seed, hasSeed));
    };
}
var ScanOperator = /*@__PURE__*/ (function () {
    function ScanOperator(accumulator, seed, hasSeed) {
        if (hasSeed === void 0) {
            hasSeed = false;
        }
        this.accumulator = accumulator;
        this.seed = seed;
        this.hasSeed = hasSeed;
    }
    ScanOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new ScanSubscriber(subscriber, this.accumulator, this.seed, this.hasSeed));
    };
    return ScanOperator;
}());
var ScanSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ScanSubscriber, _super);
    function ScanSubscriber(destination, accumulator, _seed, hasSeed) {
        var _this = _super.call(this, destination) || this;
        _this.accumulator = accumulator;
        _this._seed = _seed;
        _this.hasSeed = hasSeed;
        _this.index = 0;
        return _this;
    }
    Object.defineProperty(ScanSubscriber.prototype, "seed", {
        get: function () {
            return this._seed;
        },
        set: function (value) {
            this.hasSeed = true;
            this._seed = value;
        },
        enumerable: true,
        configurable: true
    });
    ScanSubscriber.prototype._next = function (value) {
        if (!this.hasSeed) {
            this.seed = value;
            this.destination.next(value);
        }
        else {
            return this._tryNext(value);
        }
    };
    ScanSubscriber.prototype._tryNext = function (value) {
        var index = this.index++;
        var result;
        try {
            result = this.accumulator(this.seed, value, index);
        }
        catch (err) {
            this.destination.error(err);
        }
        this.seed = result;
        this.destination.next(result);
    };
    return ScanSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=scan.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/sequenceEqual.js":
/*!*********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/sequenceEqual.js ***!
  \*********************************************************************/
/*! exports provided: sequenceEqual, SequenceEqualOperator, SequenceEqualSubscriber */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sequenceEqual", function() { return sequenceEqual; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SequenceEqualOperator", function() { return SequenceEqualOperator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SequenceEqualSubscriber", function() { return SequenceEqualSubscriber; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function sequenceEqual(compareTo, comparator) {
    return function (source) { return source.lift(new SequenceEqualOperator(compareTo, comparator)); };
}
var SequenceEqualOperator = /*@__PURE__*/ (function () {
    function SequenceEqualOperator(compareTo, comparator) {
        this.compareTo = compareTo;
        this.comparator = comparator;
    }
    SequenceEqualOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new SequenceEqualSubscriber(subscriber, this.compareTo, this.comparator));
    };
    return SequenceEqualOperator;
}());

var SequenceEqualSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SequenceEqualSubscriber, _super);
    function SequenceEqualSubscriber(destination, compareTo, comparator) {
        var _this = _super.call(this, destination) || this;
        _this.compareTo = compareTo;
        _this.comparator = comparator;
        _this._a = [];
        _this._b = [];
        _this._oneComplete = false;
        _this.destination.add(compareTo.subscribe(new SequenceEqualCompareToSubscriber(destination, _this)));
        return _this;
    }
    SequenceEqualSubscriber.prototype._next = function (value) {
        if (this._oneComplete && this._b.length === 0) {
            this.emit(false);
        }
        else {
            this._a.push(value);
            this.checkValues();
        }
    };
    SequenceEqualSubscriber.prototype._complete = function () {
        if (this._oneComplete) {
            this.emit(this._a.length === 0 && this._b.length === 0);
        }
        else {
            this._oneComplete = true;
        }
        this.unsubscribe();
    };
    SequenceEqualSubscriber.prototype.checkValues = function () {
        var _c = this, _a = _c._a, _b = _c._b, comparator = _c.comparator;
        while (_a.length > 0 && _b.length > 0) {
            var a = _a.shift();
            var b = _b.shift();
            var areEqual = false;
            try {
                areEqual = comparator ? comparator(a, b) : a === b;
            }
            catch (e) {
                this.destination.error(e);
            }
            if (!areEqual) {
                this.emit(false);
            }
        }
    };
    SequenceEqualSubscriber.prototype.emit = function (value) {
        var destination = this.destination;
        destination.next(value);
        destination.complete();
    };
    SequenceEqualSubscriber.prototype.nextB = function (value) {
        if (this._oneComplete && this._a.length === 0) {
            this.emit(false);
        }
        else {
            this._b.push(value);
            this.checkValues();
        }
    };
    SequenceEqualSubscriber.prototype.completeB = function () {
        if (this._oneComplete) {
            this.emit(this._a.length === 0 && this._b.length === 0);
        }
        else {
            this._oneComplete = true;
        }
    };
    return SequenceEqualSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));

var SequenceEqualCompareToSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SequenceEqualCompareToSubscriber, _super);
    function SequenceEqualCompareToSubscriber(destination, parent) {
        var _this = _super.call(this, destination) || this;
        _this.parent = parent;
        return _this;
    }
    SequenceEqualCompareToSubscriber.prototype._next = function (value) {
        this.parent.nextB(value);
    };
    SequenceEqualCompareToSubscriber.prototype._error = function (err) {
        this.parent.error(err);
        this.unsubscribe();
    };
    SequenceEqualCompareToSubscriber.prototype._complete = function () {
        this.parent.completeB();
        this.unsubscribe();
    };
    return SequenceEqualCompareToSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=sequenceEqual.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/share.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/share.js ***!
  \*************************************************************/
/*! exports provided: share */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "share", function() { return share; });
/* harmony import */ var _multicast__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./multicast */ "./node_modules/rxjs/_esm5/internal/operators/multicast.js");
/* harmony import */ var _refCount__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./refCount */ "./node_modules/rxjs/_esm5/internal/operators/refCount.js");
/* harmony import */ var _Subject__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Subject */ "./node_modules/rxjs/_esm5/internal/Subject.js");
/** PURE_IMPORTS_START _multicast,_refCount,_Subject PURE_IMPORTS_END */



function shareSubjectFactory() {
    return new _Subject__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
}
function share() {
    return function (source) { return Object(_refCount__WEBPACK_IMPORTED_MODULE_1__["refCount"])()(Object(_multicast__WEBPACK_IMPORTED_MODULE_0__["multicast"])(shareSubjectFactory)(source)); };
}
//# sourceMappingURL=share.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/shareReplay.js":
/*!*******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/shareReplay.js ***!
  \*******************************************************************/
/*! exports provided: shareReplay */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "shareReplay", function() { return shareReplay; });
/* harmony import */ var _ReplaySubject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ReplaySubject */ "./node_modules/rxjs/_esm5/internal/ReplaySubject.js");
/** PURE_IMPORTS_START _ReplaySubject PURE_IMPORTS_END */

function shareReplay(configOrBufferSize, windowTime, scheduler) {
    var config;
    if (configOrBufferSize && typeof configOrBufferSize === 'object') {
        config = configOrBufferSize;
    }
    else {
        config = {
            bufferSize: configOrBufferSize,
            windowTime: windowTime,
            refCount: false,
            scheduler: scheduler
        };
    }
    return function (source) { return source.lift(shareReplayOperator(config)); };
}
function shareReplayOperator(_a) {
    var _b = _a.bufferSize, bufferSize = _b === void 0 ? Number.POSITIVE_INFINITY : _b, _c = _a.windowTime, windowTime = _c === void 0 ? Number.POSITIVE_INFINITY : _c, useRefCount = _a.refCount, scheduler = _a.scheduler;
    var subject;
    var refCount = 0;
    var subscription;
    var hasError = false;
    var isComplete = false;
    return function shareReplayOperation(source) {
        refCount++;
        var innerSub;
        if (!subject || hasError) {
            hasError = false;
            subject = new _ReplaySubject__WEBPACK_IMPORTED_MODULE_0__["ReplaySubject"](bufferSize, windowTime, scheduler);
            innerSub = subject.subscribe(this);
            subscription = source.subscribe({
                next: function (value) { subject.next(value); },
                error: function (err) {
                    hasError = true;
                    subject.error(err);
                },
                complete: function () {
                    isComplete = true;
                    subscription = undefined;
                    subject.complete();
                },
            });
        }
        else {
            innerSub = subject.subscribe(this);
        }
        this.add(function () {
            refCount--;
            innerSub.unsubscribe();
            if (subscription && !isComplete && useRefCount && refCount === 0) {
                subscription.unsubscribe();
                subscription = undefined;
                subject = undefined;
            }
        });
    };
}
//# sourceMappingURL=shareReplay.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/single.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/single.js ***!
  \**************************************************************/
/*! exports provided: single */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "single", function() { return single; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _util_EmptyError__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/EmptyError */ "./node_modules/rxjs/_esm5/internal/util/EmptyError.js");
/** PURE_IMPORTS_START tslib,_Subscriber,_util_EmptyError PURE_IMPORTS_END */



function single(predicate) {
    return function (source) { return source.lift(new SingleOperator(predicate, source)); };
}
var SingleOperator = /*@__PURE__*/ (function () {
    function SingleOperator(predicate, source) {
        this.predicate = predicate;
        this.source = source;
    }
    SingleOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new SingleSubscriber(subscriber, this.predicate, this.source));
    };
    return SingleOperator;
}());
var SingleSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SingleSubscriber, _super);
    function SingleSubscriber(destination, predicate, source) {
        var _this = _super.call(this, destination) || this;
        _this.predicate = predicate;
        _this.source = source;
        _this.seenValue = false;
        _this.index = 0;
        return _this;
    }
    SingleSubscriber.prototype.applySingleValue = function (value) {
        if (this.seenValue) {
            this.destination.error('Sequence contains more than one element');
        }
        else {
            this.seenValue = true;
            this.singleValue = value;
        }
    };
    SingleSubscriber.prototype._next = function (value) {
        var index = this.index++;
        if (this.predicate) {
            this.tryNext(value, index);
        }
        else {
            this.applySingleValue(value);
        }
    };
    SingleSubscriber.prototype.tryNext = function (value, index) {
        try {
            if (this.predicate(value, index, this.source)) {
                this.applySingleValue(value);
            }
        }
        catch (err) {
            this.destination.error(err);
        }
    };
    SingleSubscriber.prototype._complete = function () {
        var destination = this.destination;
        if (this.index > 0) {
            destination.next(this.seenValue ? this.singleValue : undefined);
            destination.complete();
        }
        else {
            destination.error(new _util_EmptyError__WEBPACK_IMPORTED_MODULE_2__["EmptyError"]);
        }
    };
    return SingleSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=single.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/skip.js":
/*!************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/skip.js ***!
  \************************************************************/
/*! exports provided: skip */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "skip", function() { return skip; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function skip(count) {
    return function (source) { return source.lift(new SkipOperator(count)); };
}
var SkipOperator = /*@__PURE__*/ (function () {
    function SkipOperator(total) {
        this.total = total;
    }
    SkipOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new SkipSubscriber(subscriber, this.total));
    };
    return SkipOperator;
}());
var SkipSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SkipSubscriber, _super);
    function SkipSubscriber(destination, total) {
        var _this = _super.call(this, destination) || this;
        _this.total = total;
        _this.count = 0;
        return _this;
    }
    SkipSubscriber.prototype._next = function (x) {
        if (++this.count > this.total) {
            this.destination.next(x);
        }
    };
    return SkipSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=skip.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/skipLast.js":
/*!****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/skipLast.js ***!
  \****************************************************************/
/*! exports provided: skipLast */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "skipLast", function() { return skipLast; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _util_ArgumentOutOfRangeError__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/ArgumentOutOfRangeError */ "./node_modules/rxjs/_esm5/internal/util/ArgumentOutOfRangeError.js");
/** PURE_IMPORTS_START tslib,_Subscriber,_util_ArgumentOutOfRangeError PURE_IMPORTS_END */



function skipLast(count) {
    return function (source) { return source.lift(new SkipLastOperator(count)); };
}
var SkipLastOperator = /*@__PURE__*/ (function () {
    function SkipLastOperator(_skipCount) {
        this._skipCount = _skipCount;
        if (this._skipCount < 0) {
            throw new _util_ArgumentOutOfRangeError__WEBPACK_IMPORTED_MODULE_2__["ArgumentOutOfRangeError"];
        }
    }
    SkipLastOperator.prototype.call = function (subscriber, source) {
        if (this._skipCount === 0) {
            return source.subscribe(new _Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"](subscriber));
        }
        else {
            return source.subscribe(new SkipLastSubscriber(subscriber, this._skipCount));
        }
    };
    return SkipLastOperator;
}());
var SkipLastSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SkipLastSubscriber, _super);
    function SkipLastSubscriber(destination, _skipCount) {
        var _this = _super.call(this, destination) || this;
        _this._skipCount = _skipCount;
        _this._count = 0;
        _this._ring = new Array(_skipCount);
        return _this;
    }
    SkipLastSubscriber.prototype._next = function (value) {
        var skipCount = this._skipCount;
        var count = this._count++;
        if (count < skipCount) {
            this._ring[count] = value;
        }
        else {
            var currentIndex = count % skipCount;
            var ring = this._ring;
            var oldValue = ring[currentIndex];
            ring[currentIndex] = value;
            this.destination.next(oldValue);
        }
    };
    return SkipLastSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=skipLast.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/skipUntil.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/skipUntil.js ***!
  \*****************************************************************/
/*! exports provided: skipUntil */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "skipUntil", function() { return skipUntil; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */


function skipUntil(notifier) {
    return function (source) { return source.lift(new SkipUntilOperator(notifier)); };
}
var SkipUntilOperator = /*@__PURE__*/ (function () {
    function SkipUntilOperator(notifier) {
        this.notifier = notifier;
    }
    SkipUntilOperator.prototype.call = function (destination, source) {
        return source.subscribe(new SkipUntilSubscriber(destination, this.notifier));
    };
    return SkipUntilOperator;
}());
var SkipUntilSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SkipUntilSubscriber, _super);
    function SkipUntilSubscriber(destination, notifier) {
        var _this = _super.call(this, destination) || this;
        _this.hasValue = false;
        var innerSubscriber = new _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleInnerSubscriber"](_this);
        _this.add(innerSubscriber);
        _this.innerSubscription = innerSubscriber;
        var innerSubscription = Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["innerSubscribe"])(notifier, innerSubscriber);
        if (innerSubscription !== innerSubscriber) {
            _this.add(innerSubscription);
            _this.innerSubscription = innerSubscription;
        }
        return _this;
    }
    SkipUntilSubscriber.prototype._next = function (value) {
        if (this.hasValue) {
            _super.prototype._next.call(this, value);
        }
    };
    SkipUntilSubscriber.prototype.notifyNext = function () {
        this.hasValue = true;
        if (this.innerSubscription) {
            this.innerSubscription.unsubscribe();
        }
    };
    SkipUntilSubscriber.prototype.notifyComplete = function () {
    };
    return SkipUntilSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleOuterSubscriber"]));
//# sourceMappingURL=skipUntil.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/skipWhile.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/skipWhile.js ***!
  \*****************************************************************/
/*! exports provided: skipWhile */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "skipWhile", function() { return skipWhile; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function skipWhile(predicate) {
    return function (source) { return source.lift(new SkipWhileOperator(predicate)); };
}
var SkipWhileOperator = /*@__PURE__*/ (function () {
    function SkipWhileOperator(predicate) {
        this.predicate = predicate;
    }
    SkipWhileOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new SkipWhileSubscriber(subscriber, this.predicate));
    };
    return SkipWhileOperator;
}());
var SkipWhileSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SkipWhileSubscriber, _super);
    function SkipWhileSubscriber(destination, predicate) {
        var _this = _super.call(this, destination) || this;
        _this.predicate = predicate;
        _this.skipping = true;
        _this.index = 0;
        return _this;
    }
    SkipWhileSubscriber.prototype._next = function (value) {
        var destination = this.destination;
        if (this.skipping) {
            this.tryCallPredicate(value);
        }
        if (!this.skipping) {
            destination.next(value);
        }
    };
    SkipWhileSubscriber.prototype.tryCallPredicate = function (value) {
        try {
            var result = this.predicate(value, this.index++);
            this.skipping = Boolean(result);
        }
        catch (err) {
            this.destination.error(err);
        }
    };
    return SkipWhileSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=skipWhile.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/startWith.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/startWith.js ***!
  \*****************************************************************/
/*! exports provided: startWith */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "startWith", function() { return startWith; });
/* harmony import */ var _observable_concat__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../observable/concat */ "./node_modules/rxjs/_esm5/internal/observable/concat.js");
/* harmony import */ var _util_isScheduler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/isScheduler */ "./node_modules/rxjs/_esm5/internal/util/isScheduler.js");
/** PURE_IMPORTS_START _observable_concat,_util_isScheduler PURE_IMPORTS_END */


function startWith() {
    var array = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        array[_i] = arguments[_i];
    }
    var scheduler = array[array.length - 1];
    if (Object(_util_isScheduler__WEBPACK_IMPORTED_MODULE_1__["isScheduler"])(scheduler)) {
        array.pop();
        return function (source) { return Object(_observable_concat__WEBPACK_IMPORTED_MODULE_0__["concat"])(array, source, scheduler); };
    }
    else {
        return function (source) { return Object(_observable_concat__WEBPACK_IMPORTED_MODULE_0__["concat"])(array, source); };
    }
}
//# sourceMappingURL=startWith.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/subscribeOn.js":
/*!*******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/subscribeOn.js ***!
  \*******************************************************************/
/*! exports provided: subscribeOn */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "subscribeOn", function() { return subscribeOn; });
/* harmony import */ var _observable_SubscribeOnObservable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../observable/SubscribeOnObservable */ "./node_modules/rxjs/_esm5/internal/observable/SubscribeOnObservable.js");
/** PURE_IMPORTS_START _observable_SubscribeOnObservable PURE_IMPORTS_END */

function subscribeOn(scheduler, delay) {
    if (delay === void 0) {
        delay = 0;
    }
    return function subscribeOnOperatorFunction(source) {
        return source.lift(new SubscribeOnOperator(scheduler, delay));
    };
}
var SubscribeOnOperator = /*@__PURE__*/ (function () {
    function SubscribeOnOperator(scheduler, delay) {
        this.scheduler = scheduler;
        this.delay = delay;
    }
    SubscribeOnOperator.prototype.call = function (subscriber, source) {
        return new _observable_SubscribeOnObservable__WEBPACK_IMPORTED_MODULE_0__["SubscribeOnObservable"](source, this.delay, this.scheduler).subscribe(subscriber);
    };
    return SubscribeOnOperator;
}());
//# sourceMappingURL=subscribeOn.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/switchAll.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/switchAll.js ***!
  \*****************************************************************/
/*! exports provided: switchAll */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "switchAll", function() { return switchAll; });
/* harmony import */ var _switchMap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./switchMap */ "./node_modules/rxjs/_esm5/internal/operators/switchMap.js");
/* harmony import */ var _util_identity__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/identity */ "./node_modules/rxjs/_esm5/internal/util/identity.js");
/** PURE_IMPORTS_START _switchMap,_util_identity PURE_IMPORTS_END */


function switchAll() {
    return Object(_switchMap__WEBPACK_IMPORTED_MODULE_0__["switchMap"])(_util_identity__WEBPACK_IMPORTED_MODULE_1__["identity"]);
}
//# sourceMappingURL=switchAll.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/switchMap.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/switchMap.js ***!
  \*****************************************************************/
/*! exports provided: switchMap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "switchMap", function() { return switchMap; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _map__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./map */ "./node_modules/rxjs/_esm5/internal/operators/map.js");
/* harmony import */ var _observable_from__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../observable/from */ "./node_modules/rxjs/_esm5/internal/observable/from.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_map,_observable_from,_innerSubscribe PURE_IMPORTS_END */




function switchMap(project, resultSelector) {
    if (typeof resultSelector === 'function') {
        return function (source) { return source.pipe(switchMap(function (a, i) { return Object(_observable_from__WEBPACK_IMPORTED_MODULE_2__["from"])(project(a, i)).pipe(Object(_map__WEBPACK_IMPORTED_MODULE_1__["map"])(function (b, ii) { return resultSelector(a, b, i, ii); })); })); };
    }
    return function (source) { return source.lift(new SwitchMapOperator(project)); };
}
var SwitchMapOperator = /*@__PURE__*/ (function () {
    function SwitchMapOperator(project) {
        this.project = project;
    }
    SwitchMapOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new SwitchMapSubscriber(subscriber, this.project));
    };
    return SwitchMapOperator;
}());
var SwitchMapSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SwitchMapSubscriber, _super);
    function SwitchMapSubscriber(destination, project) {
        var _this = _super.call(this, destination) || this;
        _this.project = project;
        _this.index = 0;
        return _this;
    }
    SwitchMapSubscriber.prototype._next = function (value) {
        var result;
        var index = this.index++;
        try {
            result = this.project(value, index);
        }
        catch (error) {
            this.destination.error(error);
            return;
        }
        this._innerSub(result);
    };
    SwitchMapSubscriber.prototype._innerSub = function (result) {
        var innerSubscription = this.innerSubscription;
        if (innerSubscription) {
            innerSubscription.unsubscribe();
        }
        var innerSubscriber = new _innerSubscribe__WEBPACK_IMPORTED_MODULE_3__["SimpleInnerSubscriber"](this);
        var destination = this.destination;
        destination.add(innerSubscriber);
        this.innerSubscription = Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_3__["innerSubscribe"])(result, innerSubscriber);
        if (this.innerSubscription !== innerSubscriber) {
            destination.add(this.innerSubscription);
        }
    };
    SwitchMapSubscriber.prototype._complete = function () {
        var innerSubscription = this.innerSubscription;
        if (!innerSubscription || innerSubscription.closed) {
            _super.prototype._complete.call(this);
        }
        this.unsubscribe();
    };
    SwitchMapSubscriber.prototype._unsubscribe = function () {
        this.innerSubscription = undefined;
    };
    SwitchMapSubscriber.prototype.notifyComplete = function () {
        this.innerSubscription = undefined;
        if (this.isStopped) {
            _super.prototype._complete.call(this);
        }
    };
    SwitchMapSubscriber.prototype.notifyNext = function (innerValue) {
        this.destination.next(innerValue);
    };
    return SwitchMapSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_3__["SimpleOuterSubscriber"]));
//# sourceMappingURL=switchMap.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/switchMapTo.js":
/*!*******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/switchMapTo.js ***!
  \*******************************************************************/
/*! exports provided: switchMapTo */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "switchMapTo", function() { return switchMapTo; });
/* harmony import */ var _switchMap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./switchMap */ "./node_modules/rxjs/_esm5/internal/operators/switchMap.js");
/** PURE_IMPORTS_START _switchMap PURE_IMPORTS_END */

function switchMapTo(innerObservable, resultSelector) {
    return resultSelector ? Object(_switchMap__WEBPACK_IMPORTED_MODULE_0__["switchMap"])(function () { return innerObservable; }, resultSelector) : Object(_switchMap__WEBPACK_IMPORTED_MODULE_0__["switchMap"])(function () { return innerObservable; });
}
//# sourceMappingURL=switchMapTo.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/take.js":
/*!************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/take.js ***!
  \************************************************************/
/*! exports provided: take */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "take", function() { return take; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _util_ArgumentOutOfRangeError__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/ArgumentOutOfRangeError */ "./node_modules/rxjs/_esm5/internal/util/ArgumentOutOfRangeError.js");
/* harmony import */ var _observable_empty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../observable/empty */ "./node_modules/rxjs/_esm5/internal/observable/empty.js");
/** PURE_IMPORTS_START tslib,_Subscriber,_util_ArgumentOutOfRangeError,_observable_empty PURE_IMPORTS_END */




function take(count) {
    return function (source) {
        if (count === 0) {
            return Object(_observable_empty__WEBPACK_IMPORTED_MODULE_3__["empty"])();
        }
        else {
            return source.lift(new TakeOperator(count));
        }
    };
}
var TakeOperator = /*@__PURE__*/ (function () {
    function TakeOperator(total) {
        this.total = total;
        if (this.total < 0) {
            throw new _util_ArgumentOutOfRangeError__WEBPACK_IMPORTED_MODULE_2__["ArgumentOutOfRangeError"];
        }
    }
    TakeOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new TakeSubscriber(subscriber, this.total));
    };
    return TakeOperator;
}());
var TakeSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](TakeSubscriber, _super);
    function TakeSubscriber(destination, total) {
        var _this = _super.call(this, destination) || this;
        _this.total = total;
        _this.count = 0;
        return _this;
    }
    TakeSubscriber.prototype._next = function (value) {
        var total = this.total;
        var count = ++this.count;
        if (count <= total) {
            this.destination.next(value);
            if (count === total) {
                this.destination.complete();
                this.unsubscribe();
            }
        }
    };
    return TakeSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=take.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/takeLast.js":
/*!****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/takeLast.js ***!
  \****************************************************************/
/*! exports provided: takeLast */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "takeLast", function() { return takeLast; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _util_ArgumentOutOfRangeError__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/ArgumentOutOfRangeError */ "./node_modules/rxjs/_esm5/internal/util/ArgumentOutOfRangeError.js");
/* harmony import */ var _observable_empty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../observable/empty */ "./node_modules/rxjs/_esm5/internal/observable/empty.js");
/** PURE_IMPORTS_START tslib,_Subscriber,_util_ArgumentOutOfRangeError,_observable_empty PURE_IMPORTS_END */




function takeLast(count) {
    return function takeLastOperatorFunction(source) {
        if (count === 0) {
            return Object(_observable_empty__WEBPACK_IMPORTED_MODULE_3__["empty"])();
        }
        else {
            return source.lift(new TakeLastOperator(count));
        }
    };
}
var TakeLastOperator = /*@__PURE__*/ (function () {
    function TakeLastOperator(total) {
        this.total = total;
        if (this.total < 0) {
            throw new _util_ArgumentOutOfRangeError__WEBPACK_IMPORTED_MODULE_2__["ArgumentOutOfRangeError"];
        }
    }
    TakeLastOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new TakeLastSubscriber(subscriber, this.total));
    };
    return TakeLastOperator;
}());
var TakeLastSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](TakeLastSubscriber, _super);
    function TakeLastSubscriber(destination, total) {
        var _this = _super.call(this, destination) || this;
        _this.total = total;
        _this.ring = new Array();
        _this.count = 0;
        return _this;
    }
    TakeLastSubscriber.prototype._next = function (value) {
        var ring = this.ring;
        var total = this.total;
        var count = this.count++;
        if (ring.length < total) {
            ring.push(value);
        }
        else {
            var index = count % total;
            ring[index] = value;
        }
    };
    TakeLastSubscriber.prototype._complete = function () {
        var destination = this.destination;
        var count = this.count;
        if (count > 0) {
            var total = this.count >= this.total ? this.total : this.count;
            var ring = this.ring;
            for (var i = 0; i < total; i++) {
                var idx = (count++) % total;
                destination.next(ring[idx]);
            }
        }
        destination.complete();
    };
    return TakeLastSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=takeLast.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/takeUntil.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/takeUntil.js ***!
  \*****************************************************************/
/*! exports provided: takeUntil */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "takeUntil", function() { return takeUntil; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */


function takeUntil(notifier) {
    return function (source) { return source.lift(new TakeUntilOperator(notifier)); };
}
var TakeUntilOperator = /*@__PURE__*/ (function () {
    function TakeUntilOperator(notifier) {
        this.notifier = notifier;
    }
    TakeUntilOperator.prototype.call = function (subscriber, source) {
        var takeUntilSubscriber = new TakeUntilSubscriber(subscriber);
        var notifierSubscription = Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["innerSubscribe"])(this.notifier, new _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleInnerSubscriber"](takeUntilSubscriber));
        if (notifierSubscription && !takeUntilSubscriber.seenValue) {
            takeUntilSubscriber.add(notifierSubscription);
            return source.subscribe(takeUntilSubscriber);
        }
        return takeUntilSubscriber;
    };
    return TakeUntilOperator;
}());
var TakeUntilSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](TakeUntilSubscriber, _super);
    function TakeUntilSubscriber(destination) {
        var _this = _super.call(this, destination) || this;
        _this.seenValue = false;
        return _this;
    }
    TakeUntilSubscriber.prototype.notifyNext = function () {
        this.seenValue = true;
        this.complete();
    };
    TakeUntilSubscriber.prototype.notifyComplete = function () {
    };
    return TakeUntilSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleOuterSubscriber"]));
//# sourceMappingURL=takeUntil.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/takeWhile.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/takeWhile.js ***!
  \*****************************************************************/
/*! exports provided: takeWhile */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "takeWhile", function() { return takeWhile; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function takeWhile(predicate, inclusive) {
    if (inclusive === void 0) {
        inclusive = false;
    }
    return function (source) {
        return source.lift(new TakeWhileOperator(predicate, inclusive));
    };
}
var TakeWhileOperator = /*@__PURE__*/ (function () {
    function TakeWhileOperator(predicate, inclusive) {
        this.predicate = predicate;
        this.inclusive = inclusive;
    }
    TakeWhileOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new TakeWhileSubscriber(subscriber, this.predicate, this.inclusive));
    };
    return TakeWhileOperator;
}());
var TakeWhileSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](TakeWhileSubscriber, _super);
    function TakeWhileSubscriber(destination, predicate, inclusive) {
        var _this = _super.call(this, destination) || this;
        _this.predicate = predicate;
        _this.inclusive = inclusive;
        _this.index = 0;
        return _this;
    }
    TakeWhileSubscriber.prototype._next = function (value) {
        var destination = this.destination;
        var result;
        try {
            result = this.predicate(value, this.index++);
        }
        catch (err) {
            destination.error(err);
            return;
        }
        this.nextOrComplete(value, result);
    };
    TakeWhileSubscriber.prototype.nextOrComplete = function (value, predicateResult) {
        var destination = this.destination;
        if (Boolean(predicateResult)) {
            destination.next(value);
        }
        else {
            if (this.inclusive) {
                destination.next(value);
            }
            destination.complete();
        }
    };
    return TakeWhileSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=takeWhile.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/tap.js":
/*!***********************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/tap.js ***!
  \***********************************************************/
/*! exports provided: tap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "tap", function() { return tap; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _util_noop__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/noop */ "./node_modules/rxjs/_esm5/internal/util/noop.js");
/* harmony import */ var _util_isFunction__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/isFunction */ "./node_modules/rxjs/_esm5/internal/util/isFunction.js");
/** PURE_IMPORTS_START tslib,_Subscriber,_util_noop,_util_isFunction PURE_IMPORTS_END */




function tap(nextOrObserver, error, complete) {
    return function tapOperatorFunction(source) {
        return source.lift(new DoOperator(nextOrObserver, error, complete));
    };
}
var DoOperator = /*@__PURE__*/ (function () {
    function DoOperator(nextOrObserver, error, complete) {
        this.nextOrObserver = nextOrObserver;
        this.error = error;
        this.complete = complete;
    }
    DoOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new TapSubscriber(subscriber, this.nextOrObserver, this.error, this.complete));
    };
    return DoOperator;
}());
var TapSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](TapSubscriber, _super);
    function TapSubscriber(destination, observerOrNext, error, complete) {
        var _this = _super.call(this, destination) || this;
        _this._tapNext = _util_noop__WEBPACK_IMPORTED_MODULE_2__["noop"];
        _this._tapError = _util_noop__WEBPACK_IMPORTED_MODULE_2__["noop"];
        _this._tapComplete = _util_noop__WEBPACK_IMPORTED_MODULE_2__["noop"];
        _this._tapError = error || _util_noop__WEBPACK_IMPORTED_MODULE_2__["noop"];
        _this._tapComplete = complete || _util_noop__WEBPACK_IMPORTED_MODULE_2__["noop"];
        if (Object(_util_isFunction__WEBPACK_IMPORTED_MODULE_3__["isFunction"])(observerOrNext)) {
            _this._context = _this;
            _this._tapNext = observerOrNext;
        }
        else if (observerOrNext) {
            _this._context = observerOrNext;
            _this._tapNext = observerOrNext.next || _util_noop__WEBPACK_IMPORTED_MODULE_2__["noop"];
            _this._tapError = observerOrNext.error || _util_noop__WEBPACK_IMPORTED_MODULE_2__["noop"];
            _this._tapComplete = observerOrNext.complete || _util_noop__WEBPACK_IMPORTED_MODULE_2__["noop"];
        }
        return _this;
    }
    TapSubscriber.prototype._next = function (value) {
        try {
            this._tapNext.call(this._context, value);
        }
        catch (err) {
            this.destination.error(err);
            return;
        }
        this.destination.next(value);
    };
    TapSubscriber.prototype._error = function (err) {
        try {
            this._tapError.call(this._context, err);
        }
        catch (err) {
            this.destination.error(err);
            return;
        }
        this.destination.error(err);
    };
    TapSubscriber.prototype._complete = function () {
        try {
            this._tapComplete.call(this._context);
        }
        catch (err) {
            this.destination.error(err);
            return;
        }
        return this.destination.complete();
    };
    return TapSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=tap.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/throttle.js":
/*!****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/throttle.js ***!
  \****************************************************************/
/*! exports provided: defaultThrottleConfig, throttle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "defaultThrottleConfig", function() { return defaultThrottleConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "throttle", function() { return throttle; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */


var defaultThrottleConfig = {
    leading: true,
    trailing: false
};
function throttle(durationSelector, config) {
    if (config === void 0) {
        config = defaultThrottleConfig;
    }
    return function (source) { return source.lift(new ThrottleOperator(durationSelector, !!config.leading, !!config.trailing)); };
}
var ThrottleOperator = /*@__PURE__*/ (function () {
    function ThrottleOperator(durationSelector, leading, trailing) {
        this.durationSelector = durationSelector;
        this.leading = leading;
        this.trailing = trailing;
    }
    ThrottleOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new ThrottleSubscriber(subscriber, this.durationSelector, this.leading, this.trailing));
    };
    return ThrottleOperator;
}());
var ThrottleSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ThrottleSubscriber, _super);
    function ThrottleSubscriber(destination, durationSelector, _leading, _trailing) {
        var _this = _super.call(this, destination) || this;
        _this.destination = destination;
        _this.durationSelector = durationSelector;
        _this._leading = _leading;
        _this._trailing = _trailing;
        _this._hasValue = false;
        return _this;
    }
    ThrottleSubscriber.prototype._next = function (value) {
        this._hasValue = true;
        this._sendValue = value;
        if (!this._throttled) {
            if (this._leading) {
                this.send();
            }
            else {
                this.throttle(value);
            }
        }
    };
    ThrottleSubscriber.prototype.send = function () {
        var _a = this, _hasValue = _a._hasValue, _sendValue = _a._sendValue;
        if (_hasValue) {
            this.destination.next(_sendValue);
            this.throttle(_sendValue);
        }
        this._hasValue = false;
        this._sendValue = undefined;
    };
    ThrottleSubscriber.prototype.throttle = function (value) {
        var duration = this.tryDurationSelector(value);
        if (!!duration) {
            this.add(this._throttled = Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["innerSubscribe"])(duration, new _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleInnerSubscriber"](this)));
        }
    };
    ThrottleSubscriber.prototype.tryDurationSelector = function (value) {
        try {
            return this.durationSelector(value);
        }
        catch (err) {
            this.destination.error(err);
            return null;
        }
    };
    ThrottleSubscriber.prototype.throttlingDone = function () {
        var _a = this, _throttled = _a._throttled, _trailing = _a._trailing;
        if (_throttled) {
            _throttled.unsubscribe();
        }
        this._throttled = undefined;
        if (_trailing) {
            this.send();
        }
    };
    ThrottleSubscriber.prototype.notifyNext = function () {
        this.throttlingDone();
    };
    ThrottleSubscriber.prototype.notifyComplete = function () {
        this.throttlingDone();
    };
    return ThrottleSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleOuterSubscriber"]));
//# sourceMappingURL=throttle.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/throttleTime.js":
/*!********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/throttleTime.js ***!
  \********************************************************************/
/*! exports provided: throttleTime */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "throttleTime", function() { return throttleTime; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _scheduler_async__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../scheduler/async */ "./node_modules/rxjs/_esm5/internal/scheduler/async.js");
/* harmony import */ var _throttle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./throttle */ "./node_modules/rxjs/_esm5/internal/operators/throttle.js");
/** PURE_IMPORTS_START tslib,_Subscriber,_scheduler_async,_throttle PURE_IMPORTS_END */




function throttleTime(duration, scheduler, config) {
    if (scheduler === void 0) {
        scheduler = _scheduler_async__WEBPACK_IMPORTED_MODULE_2__["async"];
    }
    if (config === void 0) {
        config = _throttle__WEBPACK_IMPORTED_MODULE_3__["defaultThrottleConfig"];
    }
    return function (source) { return source.lift(new ThrottleTimeOperator(duration, scheduler, config.leading, config.trailing)); };
}
var ThrottleTimeOperator = /*@__PURE__*/ (function () {
    function ThrottleTimeOperator(duration, scheduler, leading, trailing) {
        this.duration = duration;
        this.scheduler = scheduler;
        this.leading = leading;
        this.trailing = trailing;
    }
    ThrottleTimeOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new ThrottleTimeSubscriber(subscriber, this.duration, this.scheduler, this.leading, this.trailing));
    };
    return ThrottleTimeOperator;
}());
var ThrottleTimeSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ThrottleTimeSubscriber, _super);
    function ThrottleTimeSubscriber(destination, duration, scheduler, leading, trailing) {
        var _this = _super.call(this, destination) || this;
        _this.duration = duration;
        _this.scheduler = scheduler;
        _this.leading = leading;
        _this.trailing = trailing;
        _this._hasTrailingValue = false;
        _this._trailingValue = null;
        return _this;
    }
    ThrottleTimeSubscriber.prototype._next = function (value) {
        if (this.throttled) {
            if (this.trailing) {
                this._trailingValue = value;
                this._hasTrailingValue = true;
            }
        }
        else {
            this.add(this.throttled = this.scheduler.schedule(dispatchNext, this.duration, { subscriber: this }));
            if (this.leading) {
                this.destination.next(value);
            }
            else if (this.trailing) {
                this._trailingValue = value;
                this._hasTrailingValue = true;
            }
        }
    };
    ThrottleTimeSubscriber.prototype._complete = function () {
        if (this._hasTrailingValue) {
            this.destination.next(this._trailingValue);
            this.destination.complete();
        }
        else {
            this.destination.complete();
        }
    };
    ThrottleTimeSubscriber.prototype.clearThrottle = function () {
        var throttled = this.throttled;
        if (throttled) {
            if (this.trailing && this._hasTrailingValue) {
                this.destination.next(this._trailingValue);
                this._trailingValue = null;
                this._hasTrailingValue = false;
            }
            throttled.unsubscribe();
            this.remove(throttled);
            this.throttled = null;
        }
    };
    return ThrottleTimeSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
function dispatchNext(arg) {
    var subscriber = arg.subscriber;
    subscriber.clearThrottle();
}
//# sourceMappingURL=throttleTime.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/throwIfEmpty.js":
/*!********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/throwIfEmpty.js ***!
  \********************************************************************/
/*! exports provided: throwIfEmpty */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "throwIfEmpty", function() { return throwIfEmpty; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _util_EmptyError__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/EmptyError */ "./node_modules/rxjs/_esm5/internal/util/EmptyError.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_util_EmptyError,_Subscriber PURE_IMPORTS_END */



function throwIfEmpty(errorFactory) {
    if (errorFactory === void 0) {
        errorFactory = defaultErrorFactory;
    }
    return function (source) {
        return source.lift(new ThrowIfEmptyOperator(errorFactory));
    };
}
var ThrowIfEmptyOperator = /*@__PURE__*/ (function () {
    function ThrowIfEmptyOperator(errorFactory) {
        this.errorFactory = errorFactory;
    }
    ThrowIfEmptyOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new ThrowIfEmptySubscriber(subscriber, this.errorFactory));
    };
    return ThrowIfEmptyOperator;
}());
var ThrowIfEmptySubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ThrowIfEmptySubscriber, _super);
    function ThrowIfEmptySubscriber(destination, errorFactory) {
        var _this = _super.call(this, destination) || this;
        _this.errorFactory = errorFactory;
        _this.hasValue = false;
        return _this;
    }
    ThrowIfEmptySubscriber.prototype._next = function (value) {
        this.hasValue = true;
        this.destination.next(value);
    };
    ThrowIfEmptySubscriber.prototype._complete = function () {
        if (!this.hasValue) {
            var err = void 0;
            try {
                err = this.errorFactory();
            }
            catch (e) {
                err = e;
            }
            this.destination.error(err);
        }
        else {
            return this.destination.complete();
        }
    };
    return ThrowIfEmptySubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_2__["Subscriber"]));
function defaultErrorFactory() {
    return new _util_EmptyError__WEBPACK_IMPORTED_MODULE_1__["EmptyError"]();
}
//# sourceMappingURL=throwIfEmpty.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/timeInterval.js":
/*!********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/timeInterval.js ***!
  \********************************************************************/
/*! exports provided: timeInterval, TimeInterval */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "timeInterval", function() { return timeInterval; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TimeInterval", function() { return TimeInterval; });
/* harmony import */ var _scheduler_async__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../scheduler/async */ "./node_modules/rxjs/_esm5/internal/scheduler/async.js");
/* harmony import */ var _scan__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./scan */ "./node_modules/rxjs/_esm5/internal/operators/scan.js");
/* harmony import */ var _observable_defer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../observable/defer */ "./node_modules/rxjs/_esm5/internal/observable/defer.js");
/* harmony import */ var _map__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./map */ "./node_modules/rxjs/_esm5/internal/operators/map.js");
/** PURE_IMPORTS_START _scheduler_async,_scan,_observable_defer,_map PURE_IMPORTS_END */




function timeInterval(scheduler) {
    if (scheduler === void 0) {
        scheduler = _scheduler_async__WEBPACK_IMPORTED_MODULE_0__["async"];
    }
    return function (source) {
        return Object(_observable_defer__WEBPACK_IMPORTED_MODULE_2__["defer"])(function () {
            return source.pipe(Object(_scan__WEBPACK_IMPORTED_MODULE_1__["scan"])(function (_a, value) {
                var current = _a.current;
                return ({ value: value, current: scheduler.now(), last: current });
            }, { current: scheduler.now(), value: undefined, last: undefined }), Object(_map__WEBPACK_IMPORTED_MODULE_3__["map"])(function (_a) {
                var current = _a.current, last = _a.last, value = _a.value;
                return new TimeInterval(value, current - last);
            }));
        });
    };
}
var TimeInterval = /*@__PURE__*/ (function () {
    function TimeInterval(value, interval) {
        this.value = value;
        this.interval = interval;
    }
    return TimeInterval;
}());

//# sourceMappingURL=timeInterval.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/timeout.js":
/*!***************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/timeout.js ***!
  \***************************************************************/
/*! exports provided: timeout */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "timeout", function() { return timeout; });
/* harmony import */ var _scheduler_async__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../scheduler/async */ "./node_modules/rxjs/_esm5/internal/scheduler/async.js");
/* harmony import */ var _util_TimeoutError__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/TimeoutError */ "./node_modules/rxjs/_esm5/internal/util/TimeoutError.js");
/* harmony import */ var _timeoutWith__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./timeoutWith */ "./node_modules/rxjs/_esm5/internal/operators/timeoutWith.js");
/* harmony import */ var _observable_throwError__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../observable/throwError */ "./node_modules/rxjs/_esm5/internal/observable/throwError.js");
/** PURE_IMPORTS_START _scheduler_async,_util_TimeoutError,_timeoutWith,_observable_throwError PURE_IMPORTS_END */




function timeout(due, scheduler) {
    if (scheduler === void 0) {
        scheduler = _scheduler_async__WEBPACK_IMPORTED_MODULE_0__["async"];
    }
    return Object(_timeoutWith__WEBPACK_IMPORTED_MODULE_2__["timeoutWith"])(due, Object(_observable_throwError__WEBPACK_IMPORTED_MODULE_3__["throwError"])(new _util_TimeoutError__WEBPACK_IMPORTED_MODULE_1__["TimeoutError"]()), scheduler);
}
//# sourceMappingURL=timeout.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/timeoutWith.js":
/*!*******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/timeoutWith.js ***!
  \*******************************************************************/
/*! exports provided: timeoutWith */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "timeoutWith", function() { return timeoutWith; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _scheduler_async__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../scheduler/async */ "./node_modules/rxjs/_esm5/internal/scheduler/async.js");
/* harmony import */ var _util_isDate__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/isDate */ "./node_modules/rxjs/_esm5/internal/util/isDate.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_scheduler_async,_util_isDate,_innerSubscribe PURE_IMPORTS_END */




function timeoutWith(due, withObservable, scheduler) {
    if (scheduler === void 0) {
        scheduler = _scheduler_async__WEBPACK_IMPORTED_MODULE_1__["async"];
    }
    return function (source) {
        var absoluteTimeout = Object(_util_isDate__WEBPACK_IMPORTED_MODULE_2__["isDate"])(due);
        var waitFor = absoluteTimeout ? (+due - scheduler.now()) : Math.abs(due);
        return source.lift(new TimeoutWithOperator(waitFor, absoluteTimeout, withObservable, scheduler));
    };
}
var TimeoutWithOperator = /*@__PURE__*/ (function () {
    function TimeoutWithOperator(waitFor, absoluteTimeout, withObservable, scheduler) {
        this.waitFor = waitFor;
        this.absoluteTimeout = absoluteTimeout;
        this.withObservable = withObservable;
        this.scheduler = scheduler;
    }
    TimeoutWithOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new TimeoutWithSubscriber(subscriber, this.absoluteTimeout, this.waitFor, this.withObservable, this.scheduler));
    };
    return TimeoutWithOperator;
}());
var TimeoutWithSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](TimeoutWithSubscriber, _super);
    function TimeoutWithSubscriber(destination, absoluteTimeout, waitFor, withObservable, scheduler) {
        var _this = _super.call(this, destination) || this;
        _this.absoluteTimeout = absoluteTimeout;
        _this.waitFor = waitFor;
        _this.withObservable = withObservable;
        _this.scheduler = scheduler;
        _this.scheduleTimeout();
        return _this;
    }
    TimeoutWithSubscriber.dispatchTimeout = function (subscriber) {
        var withObservable = subscriber.withObservable;
        subscriber._unsubscribeAndRecycle();
        subscriber.add(Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_3__["innerSubscribe"])(withObservable, new _innerSubscribe__WEBPACK_IMPORTED_MODULE_3__["SimpleInnerSubscriber"](subscriber)));
    };
    TimeoutWithSubscriber.prototype.scheduleTimeout = function () {
        var action = this.action;
        if (action) {
            this.action = action.schedule(this, this.waitFor);
        }
        else {
            this.add(this.action = this.scheduler.schedule(TimeoutWithSubscriber.dispatchTimeout, this.waitFor, this));
        }
    };
    TimeoutWithSubscriber.prototype._next = function (value) {
        if (!this.absoluteTimeout) {
            this.scheduleTimeout();
        }
        _super.prototype._next.call(this, value);
    };
    TimeoutWithSubscriber.prototype._unsubscribe = function () {
        this.action = undefined;
        this.scheduler = null;
        this.withObservable = null;
    };
    return TimeoutWithSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_3__["SimpleOuterSubscriber"]));
//# sourceMappingURL=timeoutWith.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/timestamp.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/timestamp.js ***!
  \*****************************************************************/
/*! exports provided: timestamp, Timestamp */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "timestamp", function() { return timestamp; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Timestamp", function() { return Timestamp; });
/* harmony import */ var _scheduler_async__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../scheduler/async */ "./node_modules/rxjs/_esm5/internal/scheduler/async.js");
/* harmony import */ var _map__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./map */ "./node_modules/rxjs/_esm5/internal/operators/map.js");
/** PURE_IMPORTS_START _scheduler_async,_map PURE_IMPORTS_END */


function timestamp(scheduler) {
    if (scheduler === void 0) {
        scheduler = _scheduler_async__WEBPACK_IMPORTED_MODULE_0__["async"];
    }
    return Object(_map__WEBPACK_IMPORTED_MODULE_1__["map"])(function (value) { return new Timestamp(value, scheduler.now()); });
}
var Timestamp = /*@__PURE__*/ (function () {
    function Timestamp(value, timestamp) {
        this.value = value;
        this.timestamp = timestamp;
    }
    return Timestamp;
}());

//# sourceMappingURL=timestamp.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/toArray.js":
/*!***************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/toArray.js ***!
  \***************************************************************/
/*! exports provided: toArray */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toArray", function() { return toArray; });
/* harmony import */ var _reduce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./reduce */ "./node_modules/rxjs/_esm5/internal/operators/reduce.js");
/** PURE_IMPORTS_START _reduce PURE_IMPORTS_END */

function toArrayReducer(arr, item, index) {
    if (index === 0) {
        return [item];
    }
    arr.push(item);
    return arr;
}
function toArray() {
    return Object(_reduce__WEBPACK_IMPORTED_MODULE_0__["reduce"])(toArrayReducer, []);
}
//# sourceMappingURL=toArray.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/window.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/window.js ***!
  \**************************************************************/
/*! exports provided: window */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "window", function() { return window; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subject */ "./node_modules/rxjs/_esm5/internal/Subject.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_Subject,_innerSubscribe PURE_IMPORTS_END */



function window(windowBoundaries) {
    return function windowOperatorFunction(source) {
        return source.lift(new WindowOperator(windowBoundaries));
    };
}
var WindowOperator = /*@__PURE__*/ (function () {
    function WindowOperator(windowBoundaries) {
        this.windowBoundaries = windowBoundaries;
    }
    WindowOperator.prototype.call = function (subscriber, source) {
        var windowSubscriber = new WindowSubscriber(subscriber);
        var sourceSubscription = source.subscribe(windowSubscriber);
        if (!sourceSubscription.closed) {
            windowSubscriber.add(Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_2__["innerSubscribe"])(this.windowBoundaries, new _innerSubscribe__WEBPACK_IMPORTED_MODULE_2__["SimpleInnerSubscriber"](windowSubscriber)));
        }
        return sourceSubscription;
    };
    return WindowOperator;
}());
var WindowSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](WindowSubscriber, _super);
    function WindowSubscriber(destination) {
        var _this = _super.call(this, destination) || this;
        _this.window = new _Subject__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        destination.next(_this.window);
        return _this;
    }
    WindowSubscriber.prototype.notifyNext = function () {
        this.openWindow();
    };
    WindowSubscriber.prototype.notifyError = function (error) {
        this._error(error);
    };
    WindowSubscriber.prototype.notifyComplete = function () {
        this._complete();
    };
    WindowSubscriber.prototype._next = function (value) {
        this.window.next(value);
    };
    WindowSubscriber.prototype._error = function (err) {
        this.window.error(err);
        this.destination.error(err);
    };
    WindowSubscriber.prototype._complete = function () {
        this.window.complete();
        this.destination.complete();
    };
    WindowSubscriber.prototype._unsubscribe = function () {
        this.window = null;
    };
    WindowSubscriber.prototype.openWindow = function () {
        var prevWindow = this.window;
        if (prevWindow) {
            prevWindow.complete();
        }
        var destination = this.destination;
        var newWindow = this.window = new _Subject__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        destination.next(newWindow);
    };
    return WindowSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_2__["SimpleOuterSubscriber"]));
//# sourceMappingURL=window.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/windowCount.js":
/*!*******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/windowCount.js ***!
  \*******************************************************************/
/*! exports provided: windowCount */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "windowCount", function() { return windowCount; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _Subject__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Subject */ "./node_modules/rxjs/_esm5/internal/Subject.js");
/** PURE_IMPORTS_START tslib,_Subscriber,_Subject PURE_IMPORTS_END */



function windowCount(windowSize, startWindowEvery) {
    if (startWindowEvery === void 0) {
        startWindowEvery = 0;
    }
    return function windowCountOperatorFunction(source) {
        return source.lift(new WindowCountOperator(windowSize, startWindowEvery));
    };
}
var WindowCountOperator = /*@__PURE__*/ (function () {
    function WindowCountOperator(windowSize, startWindowEvery) {
        this.windowSize = windowSize;
        this.startWindowEvery = startWindowEvery;
    }
    WindowCountOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new WindowCountSubscriber(subscriber, this.windowSize, this.startWindowEvery));
    };
    return WindowCountOperator;
}());
var WindowCountSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](WindowCountSubscriber, _super);
    function WindowCountSubscriber(destination, windowSize, startWindowEvery) {
        var _this = _super.call(this, destination) || this;
        _this.destination = destination;
        _this.windowSize = windowSize;
        _this.startWindowEvery = startWindowEvery;
        _this.windows = [new _Subject__WEBPACK_IMPORTED_MODULE_2__["Subject"]()];
        _this.count = 0;
        destination.next(_this.windows[0]);
        return _this;
    }
    WindowCountSubscriber.prototype._next = function (value) {
        var startWindowEvery = (this.startWindowEvery > 0) ? this.startWindowEvery : this.windowSize;
        var destination = this.destination;
        var windowSize = this.windowSize;
        var windows = this.windows;
        var len = windows.length;
        for (var i = 0; i < len && !this.closed; i++) {
            windows[i].next(value);
        }
        var c = this.count - windowSize + 1;
        if (c >= 0 && c % startWindowEvery === 0 && !this.closed) {
            windows.shift().complete();
        }
        if (++this.count % startWindowEvery === 0 && !this.closed) {
            var window_1 = new _Subject__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
            windows.push(window_1);
            destination.next(window_1);
        }
    };
    WindowCountSubscriber.prototype._error = function (err) {
        var windows = this.windows;
        if (windows) {
            while (windows.length > 0 && !this.closed) {
                windows.shift().error(err);
            }
        }
        this.destination.error(err);
    };
    WindowCountSubscriber.prototype._complete = function () {
        var windows = this.windows;
        if (windows) {
            while (windows.length > 0 && !this.closed) {
                windows.shift().complete();
            }
        }
        this.destination.complete();
    };
    WindowCountSubscriber.prototype._unsubscribe = function () {
        this.count = 0;
        this.windows = null;
    };
    return WindowCountSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=windowCount.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/windowTime.js":
/*!******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/windowTime.js ***!
  \******************************************************************/
/*! exports provided: windowTime */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "windowTime", function() { return windowTime; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subject */ "./node_modules/rxjs/_esm5/internal/Subject.js");
/* harmony import */ var _scheduler_async__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../scheduler/async */ "./node_modules/rxjs/_esm5/internal/scheduler/async.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _util_isNumeric__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/isNumeric */ "./node_modules/rxjs/_esm5/internal/util/isNumeric.js");
/* harmony import */ var _util_isScheduler__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/isScheduler */ "./node_modules/rxjs/_esm5/internal/util/isScheduler.js");
/** PURE_IMPORTS_START tslib,_Subject,_scheduler_async,_Subscriber,_util_isNumeric,_util_isScheduler PURE_IMPORTS_END */






function windowTime(windowTimeSpan) {
    var scheduler = _scheduler_async__WEBPACK_IMPORTED_MODULE_2__["async"];
    var windowCreationInterval = null;
    var maxWindowSize = Number.POSITIVE_INFINITY;
    if (Object(_util_isScheduler__WEBPACK_IMPORTED_MODULE_5__["isScheduler"])(arguments[3])) {
        scheduler = arguments[3];
    }
    if (Object(_util_isScheduler__WEBPACK_IMPORTED_MODULE_5__["isScheduler"])(arguments[2])) {
        scheduler = arguments[2];
    }
    else if (Object(_util_isNumeric__WEBPACK_IMPORTED_MODULE_4__["isNumeric"])(arguments[2])) {
        maxWindowSize = Number(arguments[2]);
    }
    if (Object(_util_isScheduler__WEBPACK_IMPORTED_MODULE_5__["isScheduler"])(arguments[1])) {
        scheduler = arguments[1];
    }
    else if (Object(_util_isNumeric__WEBPACK_IMPORTED_MODULE_4__["isNumeric"])(arguments[1])) {
        windowCreationInterval = Number(arguments[1]);
    }
    return function windowTimeOperatorFunction(source) {
        return source.lift(new WindowTimeOperator(windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler));
    };
}
var WindowTimeOperator = /*@__PURE__*/ (function () {
    function WindowTimeOperator(windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler) {
        this.windowTimeSpan = windowTimeSpan;
        this.windowCreationInterval = windowCreationInterval;
        this.maxWindowSize = maxWindowSize;
        this.scheduler = scheduler;
    }
    WindowTimeOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new WindowTimeSubscriber(subscriber, this.windowTimeSpan, this.windowCreationInterval, this.maxWindowSize, this.scheduler));
    };
    return WindowTimeOperator;
}());
var CountedSubject = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](CountedSubject, _super);
    function CountedSubject() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._numberOfNextedValues = 0;
        return _this;
    }
    CountedSubject.prototype.next = function (value) {
        this._numberOfNextedValues++;
        _super.prototype.next.call(this, value);
    };
    Object.defineProperty(CountedSubject.prototype, "numberOfNextedValues", {
        get: function () {
            return this._numberOfNextedValues;
        },
        enumerable: true,
        configurable: true
    });
    return CountedSubject;
}(_Subject__WEBPACK_IMPORTED_MODULE_1__["Subject"]));
var WindowTimeSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](WindowTimeSubscriber, _super);
    function WindowTimeSubscriber(destination, windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler) {
        var _this = _super.call(this, destination) || this;
        _this.destination = destination;
        _this.windowTimeSpan = windowTimeSpan;
        _this.windowCreationInterval = windowCreationInterval;
        _this.maxWindowSize = maxWindowSize;
        _this.scheduler = scheduler;
        _this.windows = [];
        var window = _this.openWindow();
        if (windowCreationInterval !== null && windowCreationInterval >= 0) {
            var closeState = { subscriber: _this, window: window, context: null };
            var creationState = { windowTimeSpan: windowTimeSpan, windowCreationInterval: windowCreationInterval, subscriber: _this, scheduler: scheduler };
            _this.add(scheduler.schedule(dispatchWindowClose, windowTimeSpan, closeState));
            _this.add(scheduler.schedule(dispatchWindowCreation, windowCreationInterval, creationState));
        }
        else {
            var timeSpanOnlyState = { subscriber: _this, window: window, windowTimeSpan: windowTimeSpan };
            _this.add(scheduler.schedule(dispatchWindowTimeSpanOnly, windowTimeSpan, timeSpanOnlyState));
        }
        return _this;
    }
    WindowTimeSubscriber.prototype._next = function (value) {
        var windows = this.windows;
        var len = windows.length;
        for (var i = 0; i < len; i++) {
            var window_1 = windows[i];
            if (!window_1.closed) {
                window_1.next(value);
                if (window_1.numberOfNextedValues >= this.maxWindowSize) {
                    this.closeWindow(window_1);
                }
            }
        }
    };
    WindowTimeSubscriber.prototype._error = function (err) {
        var windows = this.windows;
        while (windows.length > 0) {
            windows.shift().error(err);
        }
        this.destination.error(err);
    };
    WindowTimeSubscriber.prototype._complete = function () {
        var windows = this.windows;
        while (windows.length > 0) {
            var window_2 = windows.shift();
            if (!window_2.closed) {
                window_2.complete();
            }
        }
        this.destination.complete();
    };
    WindowTimeSubscriber.prototype.openWindow = function () {
        var window = new CountedSubject();
        this.windows.push(window);
        var destination = this.destination;
        destination.next(window);
        return window;
    };
    WindowTimeSubscriber.prototype.closeWindow = function (window) {
        window.complete();
        var windows = this.windows;
        windows.splice(windows.indexOf(window), 1);
    };
    return WindowTimeSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_3__["Subscriber"]));
function dispatchWindowTimeSpanOnly(state) {
    var subscriber = state.subscriber, windowTimeSpan = state.windowTimeSpan, window = state.window;
    if (window) {
        subscriber.closeWindow(window);
    }
    state.window = subscriber.openWindow();
    this.schedule(state, windowTimeSpan);
}
function dispatchWindowCreation(state) {
    var windowTimeSpan = state.windowTimeSpan, subscriber = state.subscriber, scheduler = state.scheduler, windowCreationInterval = state.windowCreationInterval;
    var window = subscriber.openWindow();
    var action = this;
    var context = { action: action, subscription: null };
    var timeSpanState = { subscriber: subscriber, window: window, context: context };
    context.subscription = scheduler.schedule(dispatchWindowClose, windowTimeSpan, timeSpanState);
    action.add(context.subscription);
    action.schedule(state, windowCreationInterval);
}
function dispatchWindowClose(state) {
    var subscriber = state.subscriber, window = state.window, context = state.context;
    if (context && context.action && context.subscription) {
        context.action.remove(context.subscription);
    }
    subscriber.closeWindow(window);
}
//# sourceMappingURL=windowTime.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/windowToggle.js":
/*!********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/windowToggle.js ***!
  \********************************************************************/
/*! exports provided: windowToggle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "windowToggle", function() { return windowToggle; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subject */ "./node_modules/rxjs/_esm5/internal/Subject.js");
/* harmony import */ var _Subscription__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Subscription */ "./node_modules/rxjs/_esm5/internal/Subscription.js");
/* harmony import */ var _OuterSubscriber__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../OuterSubscriber */ "./node_modules/rxjs/_esm5/internal/OuterSubscriber.js");
/* harmony import */ var _util_subscribeToResult__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/subscribeToResult */ "./node_modules/rxjs/_esm5/internal/util/subscribeToResult.js");
/** PURE_IMPORTS_START tslib,_Subject,_Subscription,_OuterSubscriber,_util_subscribeToResult PURE_IMPORTS_END */





function windowToggle(openings, closingSelector) {
    return function (source) { return source.lift(new WindowToggleOperator(openings, closingSelector)); };
}
var WindowToggleOperator = /*@__PURE__*/ (function () {
    function WindowToggleOperator(openings, closingSelector) {
        this.openings = openings;
        this.closingSelector = closingSelector;
    }
    WindowToggleOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new WindowToggleSubscriber(subscriber, this.openings, this.closingSelector));
    };
    return WindowToggleOperator;
}());
var WindowToggleSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](WindowToggleSubscriber, _super);
    function WindowToggleSubscriber(destination, openings, closingSelector) {
        var _this = _super.call(this, destination) || this;
        _this.openings = openings;
        _this.closingSelector = closingSelector;
        _this.contexts = [];
        _this.add(_this.openSubscription = Object(_util_subscribeToResult__WEBPACK_IMPORTED_MODULE_4__["subscribeToResult"])(_this, openings, openings));
        return _this;
    }
    WindowToggleSubscriber.prototype._next = function (value) {
        var contexts = this.contexts;
        if (contexts) {
            var len = contexts.length;
            for (var i = 0; i < len; i++) {
                contexts[i].window.next(value);
            }
        }
    };
    WindowToggleSubscriber.prototype._error = function (err) {
        var contexts = this.contexts;
        this.contexts = null;
        if (contexts) {
            var len = contexts.length;
            var index = -1;
            while (++index < len) {
                var context_1 = contexts[index];
                context_1.window.error(err);
                context_1.subscription.unsubscribe();
            }
        }
        _super.prototype._error.call(this, err);
    };
    WindowToggleSubscriber.prototype._complete = function () {
        var contexts = this.contexts;
        this.contexts = null;
        if (contexts) {
            var len = contexts.length;
            var index = -1;
            while (++index < len) {
                var context_2 = contexts[index];
                context_2.window.complete();
                context_2.subscription.unsubscribe();
            }
        }
        _super.prototype._complete.call(this);
    };
    WindowToggleSubscriber.prototype._unsubscribe = function () {
        var contexts = this.contexts;
        this.contexts = null;
        if (contexts) {
            var len = contexts.length;
            var index = -1;
            while (++index < len) {
                var context_3 = contexts[index];
                context_3.window.unsubscribe();
                context_3.subscription.unsubscribe();
            }
        }
    };
    WindowToggleSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        if (outerValue === this.openings) {
            var closingNotifier = void 0;
            try {
                var closingSelector = this.closingSelector;
                closingNotifier = closingSelector(innerValue);
            }
            catch (e) {
                return this.error(e);
            }
            var window_1 = new _Subject__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
            var subscription = new _Subscription__WEBPACK_IMPORTED_MODULE_2__["Subscription"]();
            var context_4 = { window: window_1, subscription: subscription };
            this.contexts.push(context_4);
            var innerSubscription = Object(_util_subscribeToResult__WEBPACK_IMPORTED_MODULE_4__["subscribeToResult"])(this, closingNotifier, context_4);
            if (innerSubscription.closed) {
                this.closeWindow(this.contexts.length - 1);
            }
            else {
                innerSubscription.context = context_4;
                subscription.add(innerSubscription);
            }
            this.destination.next(window_1);
        }
        else {
            this.closeWindow(this.contexts.indexOf(outerValue));
        }
    };
    WindowToggleSubscriber.prototype.notifyError = function (err) {
        this.error(err);
    };
    WindowToggleSubscriber.prototype.notifyComplete = function (inner) {
        if (inner !== this.openSubscription) {
            this.closeWindow(this.contexts.indexOf(inner.context));
        }
    };
    WindowToggleSubscriber.prototype.closeWindow = function (index) {
        if (index === -1) {
            return;
        }
        var contexts = this.contexts;
        var context = contexts[index];
        var window = context.window, subscription = context.subscription;
        contexts.splice(index, 1);
        window.complete();
        subscription.unsubscribe();
    };
    return WindowToggleSubscriber;
}(_OuterSubscriber__WEBPACK_IMPORTED_MODULE_3__["OuterSubscriber"]));
//# sourceMappingURL=windowToggle.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/windowWhen.js":
/*!******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/windowWhen.js ***!
  \******************************************************************/
/*! exports provided: windowWhen */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "windowWhen", function() { return windowWhen; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subject */ "./node_modules/rxjs/_esm5/internal/Subject.js");
/* harmony import */ var _OuterSubscriber__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../OuterSubscriber */ "./node_modules/rxjs/_esm5/internal/OuterSubscriber.js");
/* harmony import */ var _util_subscribeToResult__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/subscribeToResult */ "./node_modules/rxjs/_esm5/internal/util/subscribeToResult.js");
/** PURE_IMPORTS_START tslib,_Subject,_OuterSubscriber,_util_subscribeToResult PURE_IMPORTS_END */




function windowWhen(closingSelector) {
    return function windowWhenOperatorFunction(source) {
        return source.lift(new WindowOperator(closingSelector));
    };
}
var WindowOperator = /*@__PURE__*/ (function () {
    function WindowOperator(closingSelector) {
        this.closingSelector = closingSelector;
    }
    WindowOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new WindowSubscriber(subscriber, this.closingSelector));
    };
    return WindowOperator;
}());
var WindowSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](WindowSubscriber, _super);
    function WindowSubscriber(destination, closingSelector) {
        var _this = _super.call(this, destination) || this;
        _this.destination = destination;
        _this.closingSelector = closingSelector;
        _this.openWindow();
        return _this;
    }
    WindowSubscriber.prototype.notifyNext = function (_outerValue, _innerValue, _outerIndex, _innerIndex, innerSub) {
        this.openWindow(innerSub);
    };
    WindowSubscriber.prototype.notifyError = function (error) {
        this._error(error);
    };
    WindowSubscriber.prototype.notifyComplete = function (innerSub) {
        this.openWindow(innerSub);
    };
    WindowSubscriber.prototype._next = function (value) {
        this.window.next(value);
    };
    WindowSubscriber.prototype._error = function (err) {
        this.window.error(err);
        this.destination.error(err);
        this.unsubscribeClosingNotification();
    };
    WindowSubscriber.prototype._complete = function () {
        this.window.complete();
        this.destination.complete();
        this.unsubscribeClosingNotification();
    };
    WindowSubscriber.prototype.unsubscribeClosingNotification = function () {
        if (this.closingNotification) {
            this.closingNotification.unsubscribe();
        }
    };
    WindowSubscriber.prototype.openWindow = function (innerSub) {
        if (innerSub === void 0) {
            innerSub = null;
        }
        if (innerSub) {
            this.remove(innerSub);
            innerSub.unsubscribe();
        }
        var prevWindow = this.window;
        if (prevWindow) {
            prevWindow.complete();
        }
        var window = this.window = new _Subject__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        this.destination.next(window);
        var closingNotifier;
        try {
            var closingSelector = this.closingSelector;
            closingNotifier = closingSelector();
        }
        catch (e) {
            this.destination.error(e);
            this.window.error(e);
            return;
        }
        this.add(this.closingNotification = Object(_util_subscribeToResult__WEBPACK_IMPORTED_MODULE_3__["subscribeToResult"])(this, closingNotifier));
    };
    return WindowSubscriber;
}(_OuterSubscriber__WEBPACK_IMPORTED_MODULE_2__["OuterSubscriber"]));
//# sourceMappingURL=windowWhen.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/withLatestFrom.js":
/*!**********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/withLatestFrom.js ***!
  \**********************************************************************/
/*! exports provided: withLatestFrom */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withLatestFrom", function() { return withLatestFrom; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _OuterSubscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../OuterSubscriber */ "./node_modules/rxjs/_esm5/internal/OuterSubscriber.js");
/* harmony import */ var _util_subscribeToResult__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/subscribeToResult */ "./node_modules/rxjs/_esm5/internal/util/subscribeToResult.js");
/** PURE_IMPORTS_START tslib,_OuterSubscriber,_util_subscribeToResult PURE_IMPORTS_END */



function withLatestFrom() {
    var args = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
    }
    return function (source) {
        var project;
        if (typeof args[args.length - 1] === 'function') {
            project = args.pop();
        }
        var observables = args;
        return source.lift(new WithLatestFromOperator(observables, project));
    };
}
var WithLatestFromOperator = /*@__PURE__*/ (function () {
    function WithLatestFromOperator(observables, project) {
        this.observables = observables;
        this.project = project;
    }
    WithLatestFromOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new WithLatestFromSubscriber(subscriber, this.observables, this.project));
    };
    return WithLatestFromOperator;
}());
var WithLatestFromSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](WithLatestFromSubscriber, _super);
    function WithLatestFromSubscriber(destination, observables, project) {
        var _this = _super.call(this, destination) || this;
        _this.observables = observables;
        _this.project = project;
        _this.toRespond = [];
        var len = observables.length;
        _this.values = new Array(len);
        for (var i = 0; i < len; i++) {
            _this.toRespond.push(i);
        }
        for (var i = 0; i < len; i++) {
            var observable = observables[i];
            _this.add(Object(_util_subscribeToResult__WEBPACK_IMPORTED_MODULE_2__["subscribeToResult"])(_this, observable, undefined, i));
        }
        return _this;
    }
    WithLatestFromSubscriber.prototype.notifyNext = function (_outerValue, innerValue, outerIndex) {
        this.values[outerIndex] = innerValue;
        var toRespond = this.toRespond;
        if (toRespond.length > 0) {
            var found = toRespond.indexOf(outerIndex);
            if (found !== -1) {
                toRespond.splice(found, 1);
            }
        }
    };
    WithLatestFromSubscriber.prototype.notifyComplete = function () {
    };
    WithLatestFromSubscriber.prototype._next = function (value) {
        if (this.toRespond.length === 0) {
            var args = [value].concat(this.values);
            if (this.project) {
                this._tryProject(args);
            }
            else {
                this.destination.next(args);
            }
        }
    };
    WithLatestFromSubscriber.prototype._tryProject = function (args) {
        var result;
        try {
            result = this.project.apply(this, args);
        }
        catch (err) {
            this.destination.error(err);
            return;
        }
        this.destination.next(result);
    };
    return WithLatestFromSubscriber;
}(_OuterSubscriber__WEBPACK_IMPORTED_MODULE_1__["OuterSubscriber"]));
//# sourceMappingURL=withLatestFrom.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/zip.js":
/*!***********************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/zip.js ***!
  \***********************************************************/
/*! exports provided: zip */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "zip", function() { return zip; });
/* harmony import */ var _observable_zip__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../observable/zip */ "./node_modules/rxjs/_esm5/internal/observable/zip.js");
/** PURE_IMPORTS_START _observable_zip PURE_IMPORTS_END */

function zip() {
    var observables = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        observables[_i] = arguments[_i];
    }
    return function zipOperatorFunction(source) {
        return source.lift.call(_observable_zip__WEBPACK_IMPORTED_MODULE_0__["zip"].apply(void 0, [source].concat(observables)));
    };
}
//# sourceMappingURL=zip.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/zipAll.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/zipAll.js ***!
  \**************************************************************/
/*! exports provided: zipAll */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "zipAll", function() { return zipAll; });
/* harmony import */ var _observable_zip__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../observable/zip */ "./node_modules/rxjs/_esm5/internal/observable/zip.js");
/** PURE_IMPORTS_START _observable_zip PURE_IMPORTS_END */

function zipAll(project) {
    return function (source) { return source.lift(new _observable_zip__WEBPACK_IMPORTED_MODULE_0__["ZipOperator"](project)); };
}
//# sourceMappingURL=zipAll.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/scheduled/scheduleArray.js":
/*!*********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/scheduled/scheduleArray.js ***!
  \*********************************************************************/
/*! exports provided: scheduleArray */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "scheduleArray", function() { return scheduleArray; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _Subscription__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscription */ "./node_modules/rxjs/_esm5/internal/Subscription.js");
/** PURE_IMPORTS_START _Observable,_Subscription PURE_IMPORTS_END */


function scheduleArray(input, scheduler) {
    return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) {
        var sub = new _Subscription__WEBPACK_IMPORTED_MODULE_1__["Subscription"]();
        var i = 0;
        sub.add(scheduler.schedule(function () {
            if (i === input.length) {
                subscriber.complete();
                return;
            }
            subscriber.next(input[i++]);
            if (!subscriber.closed) {
                sub.add(this.schedule());
            }
        }));
        return sub;
    });
}
//# sourceMappingURL=scheduleArray.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/scheduled/scheduleIterable.js":
/*!************************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/scheduled/scheduleIterable.js ***!
  \************************************************************************/
/*! exports provided: scheduleIterable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "scheduleIterable", function() { return scheduleIterable; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _Subscription__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscription */ "./node_modules/rxjs/_esm5/internal/Subscription.js");
/* harmony import */ var _symbol_iterator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../symbol/iterator */ "./node_modules/rxjs/_esm5/internal/symbol/iterator.js");
/** PURE_IMPORTS_START _Observable,_Subscription,_symbol_iterator PURE_IMPORTS_END */



function scheduleIterable(input, scheduler) {
    if (!input) {
        throw new Error('Iterable cannot be null');
    }
    return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) {
        var sub = new _Subscription__WEBPACK_IMPORTED_MODULE_1__["Subscription"]();
        var iterator;
        sub.add(function () {
            if (iterator && typeof iterator.return === 'function') {
                iterator.return();
            }
        });
        sub.add(scheduler.schedule(function () {
            iterator = input[_symbol_iterator__WEBPACK_IMPORTED_MODULE_2__["iterator"]]();
            sub.add(scheduler.schedule(function () {
                if (subscriber.closed) {
                    return;
                }
                var value;
                var done;
                try {
                    var result = iterator.next();
                    value = result.value;
                    done = result.done;
                }
                catch (err) {
                    subscriber.error(err);
                    return;
                }
                if (done) {
                    subscriber.complete();
                }
                else {
                    subscriber.next(value);
                    this.schedule();
                }
            }));
        }));
        return sub;
    });
}
//# sourceMappingURL=scheduleIterable.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/scheduled/scheduleObservable.js":
/*!**************************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/scheduled/scheduleObservable.js ***!
  \**************************************************************************/
/*! exports provided: scheduleObservable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "scheduleObservable", function() { return scheduleObservable; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _Subscription__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscription */ "./node_modules/rxjs/_esm5/internal/Subscription.js");
/* harmony import */ var _symbol_observable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../symbol/observable */ "./node_modules/rxjs/_esm5/internal/symbol/observable.js");
/** PURE_IMPORTS_START _Observable,_Subscription,_symbol_observable PURE_IMPORTS_END */



function scheduleObservable(input, scheduler) {
    return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) {
        var sub = new _Subscription__WEBPACK_IMPORTED_MODULE_1__["Subscription"]();
        sub.add(scheduler.schedule(function () {
            var observable = input[_symbol_observable__WEBPACK_IMPORTED_MODULE_2__["observable"]]();
            sub.add(observable.subscribe({
                next: function (value) { sub.add(scheduler.schedule(function () { return subscriber.next(value); })); },
                error: function (err) { sub.add(scheduler.schedule(function () { return subscriber.error(err); })); },
                complete: function () { sub.add(scheduler.schedule(function () { return subscriber.complete(); })); },
            }));
        }));
        return sub;
    });
}
//# sourceMappingURL=scheduleObservable.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/scheduled/schedulePromise.js":
/*!***********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/scheduled/schedulePromise.js ***!
  \***********************************************************************/
/*! exports provided: schedulePromise */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "schedulePromise", function() { return schedulePromise; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _Subscription__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscription */ "./node_modules/rxjs/_esm5/internal/Subscription.js");
/** PURE_IMPORTS_START _Observable,_Subscription PURE_IMPORTS_END */


function schedulePromise(input, scheduler) {
    return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) {
        var sub = new _Subscription__WEBPACK_IMPORTED_MODULE_1__["Subscription"]();
        sub.add(scheduler.schedule(function () {
            return input.then(function (value) {
                sub.add(scheduler.schedule(function () {
                    subscriber.next(value);
                    sub.add(scheduler.schedule(function () { return subscriber.complete(); }));
                }));
            }, function (err) {
                sub.add(scheduler.schedule(function () { return subscriber.error(err); }));
            });
        }));
        return sub;
    });
}
//# sourceMappingURL=schedulePromise.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/scheduled/scheduled.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/scheduled/scheduled.js ***!
  \*****************************************************************/
/*! exports provided: scheduled */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "scheduled", function() { return scheduled; });
/* harmony import */ var _scheduleObservable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./scheduleObservable */ "./node_modules/rxjs/_esm5/internal/scheduled/scheduleObservable.js");
/* harmony import */ var _schedulePromise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./schedulePromise */ "./node_modules/rxjs/_esm5/internal/scheduled/schedulePromise.js");
/* harmony import */ var _scheduleArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scheduleArray */ "./node_modules/rxjs/_esm5/internal/scheduled/scheduleArray.js");
/* harmony import */ var _scheduleIterable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./scheduleIterable */ "./node_modules/rxjs/_esm5/internal/scheduled/scheduleIterable.js");
/* harmony import */ var _util_isInteropObservable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/isInteropObservable */ "./node_modules/rxjs/_esm5/internal/util/isInteropObservable.js");
/* harmony import */ var _util_isPromise__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/isPromise */ "./node_modules/rxjs/_esm5/internal/util/isPromise.js");
/* harmony import */ var _util_isArrayLike__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../util/isArrayLike */ "./node_modules/rxjs/_esm5/internal/util/isArrayLike.js");
/* harmony import */ var _util_isIterable__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../util/isIterable */ "./node_modules/rxjs/_esm5/internal/util/isIterable.js");
/** PURE_IMPORTS_START _scheduleObservable,_schedulePromise,_scheduleArray,_scheduleIterable,_util_isInteropObservable,_util_isPromise,_util_isArrayLike,_util_isIterable PURE_IMPORTS_END */








function scheduled(input, scheduler) {
    if (input != null) {
        if (Object(_util_isInteropObservable__WEBPACK_IMPORTED_MODULE_4__["isInteropObservable"])(input)) {
            return Object(_scheduleObservable__WEBPACK_IMPORTED_MODULE_0__["scheduleObservable"])(input, scheduler);
        }
        else if (Object(_util_isPromise__WEBPACK_IMPORTED_MODULE_5__["isPromise"])(input)) {
            return Object(_schedulePromise__WEBPACK_IMPORTED_MODULE_1__["schedulePromise"])(input, scheduler);
        }
        else if (Object(_util_isArrayLike__WEBPACK_IMPORTED_MODULE_6__["isArrayLike"])(input)) {
            return Object(_scheduleArray__WEBPACK_IMPORTED_MODULE_2__["scheduleArray"])(input, scheduler);
        }
        else if (Object(_util_isIterable__WEBPACK_IMPORTED_MODULE_7__["isIterable"])(input) || typeof input === 'string') {
            return Object(_scheduleIterable__WEBPACK_IMPORTED_MODULE_3__["scheduleIterable"])(input, scheduler);
        }
    }
    throw new TypeError((input !== null && typeof input || input) + ' is not observable');
}
//# sourceMappingURL=scheduled.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/scheduler/Action.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/scheduler/Action.js ***!
  \**************************************************************/
/*! exports provided: Action */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Action", function() { return Action; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscription__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscription */ "./node_modules/rxjs/_esm5/internal/Subscription.js");
/** PURE_IMPORTS_START tslib,_Subscription PURE_IMPORTS_END */


var Action = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](Action, _super);
    function Action(scheduler, work) {
        return _super.call(this) || this;
    }
    Action.prototype.schedule = function (state, delay) {
        if (delay === void 0) {
            delay = 0;
        }
        return this;
    };
    return Action;
}(_Subscription__WEBPACK_IMPORTED_MODULE_1__["Subscription"]));

//# sourceMappingURL=Action.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/scheduler/AnimationFrameAction.js":
/*!****************************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/scheduler/AnimationFrameAction.js ***!
  \****************************************************************************/
/*! exports provided: AnimationFrameAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnimationFrameAction", function() { return AnimationFrameAction; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _AsyncAction__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AsyncAction */ "./node_modules/rxjs/_esm5/internal/scheduler/AsyncAction.js");
/** PURE_IMPORTS_START tslib,_AsyncAction PURE_IMPORTS_END */


var AnimationFrameAction = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](AnimationFrameAction, _super);
    function AnimationFrameAction(scheduler, work) {
        var _this = _super.call(this, scheduler, work) || this;
        _this.scheduler = scheduler;
        _this.work = work;
        return _this;
    }
    AnimationFrameAction.prototype.requestAsyncId = function (scheduler, id, delay) {
        if (delay === void 0) {
            delay = 0;
        }
        if (delay !== null && delay > 0) {
            return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);
        }
        scheduler.actions.push(this);
        return scheduler.scheduled || (scheduler.scheduled = requestAnimationFrame(function () { return scheduler.flush(null); }));
    };
    AnimationFrameAction.prototype.recycleAsyncId = function (scheduler, id, delay) {
        if (delay === void 0) {
            delay = 0;
        }
        if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {
            return _super.prototype.recycleAsyncId.call(this, scheduler, id, delay);
        }
        if (scheduler.actions.length === 0) {
            cancelAnimationFrame(id);
            scheduler.scheduled = undefined;
        }
        return undefined;
    };
    return AnimationFrameAction;
}(_AsyncAction__WEBPACK_IMPORTED_MODULE_1__["AsyncAction"]));

//# sourceMappingURL=AnimationFrameAction.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/scheduler/AnimationFrameScheduler.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/scheduler/AnimationFrameScheduler.js ***!
  \*******************************************************************************/
/*! exports provided: AnimationFrameScheduler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnimationFrameScheduler", function() { return AnimationFrameScheduler; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _AsyncScheduler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AsyncScheduler */ "./node_modules/rxjs/_esm5/internal/scheduler/AsyncScheduler.js");
/** PURE_IMPORTS_START tslib,_AsyncScheduler PURE_IMPORTS_END */


var AnimationFrameScheduler = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](AnimationFrameScheduler, _super);
    function AnimationFrameScheduler() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    AnimationFrameScheduler.prototype.flush = function (action) {
        this.active = true;
        this.scheduled = undefined;
        var actions = this.actions;
        var error;
        var index = -1;
        var count = actions.length;
        action = action || actions.shift();
        do {
            if (error = action.execute(action.state, action.delay)) {
                break;
            }
        } while (++index < count && (action = actions.shift()));
        this.active = false;
        if (error) {
            while (++index < count && (action = actions.shift())) {
                action.unsubscribe();
            }
            throw error;
        }
    };
    return AnimationFrameScheduler;
}(_AsyncScheduler__WEBPACK_IMPORTED_MODULE_1__["AsyncScheduler"]));

//# sourceMappingURL=AnimationFrameScheduler.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/scheduler/AsapAction.js":
/*!******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/scheduler/AsapAction.js ***!
  \******************************************************************/
/*! exports provided: AsapAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AsapAction", function() { return AsapAction; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _util_Immediate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Immediate */ "./node_modules/rxjs/_esm5/internal/util/Immediate.js");
/* harmony import */ var _AsyncAction__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AsyncAction */ "./node_modules/rxjs/_esm5/internal/scheduler/AsyncAction.js");
/** PURE_IMPORTS_START tslib,_util_Immediate,_AsyncAction PURE_IMPORTS_END */



var AsapAction = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](AsapAction, _super);
    function AsapAction(scheduler, work) {
        var _this = _super.call(this, scheduler, work) || this;
        _this.scheduler = scheduler;
        _this.work = work;
        return _this;
    }
    AsapAction.prototype.requestAsyncId = function (scheduler, id, delay) {
        if (delay === void 0) {
            delay = 0;
        }
        if (delay !== null && delay > 0) {
            return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);
        }
        scheduler.actions.push(this);
        return scheduler.scheduled || (scheduler.scheduled = _util_Immediate__WEBPACK_IMPORTED_MODULE_1__["Immediate"].setImmediate(scheduler.flush.bind(scheduler, null)));
    };
    AsapAction.prototype.recycleAsyncId = function (scheduler, id, delay) {
        if (delay === void 0) {
            delay = 0;
        }
        if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {
            return _super.prototype.recycleAsyncId.call(this, scheduler, id, delay);
        }
        if (scheduler.actions.length === 0) {
            _util_Immediate__WEBPACK_IMPORTED_MODULE_1__["Immediate"].clearImmediate(id);
            scheduler.scheduled = undefined;
        }
        return undefined;
    };
    return AsapAction;
}(_AsyncAction__WEBPACK_IMPORTED_MODULE_2__["AsyncAction"]));

//# sourceMappingURL=AsapAction.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/scheduler/AsapScheduler.js":
/*!*********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/scheduler/AsapScheduler.js ***!
  \*********************************************************************/
/*! exports provided: AsapScheduler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AsapScheduler", function() { return AsapScheduler; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _AsyncScheduler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AsyncScheduler */ "./node_modules/rxjs/_esm5/internal/scheduler/AsyncScheduler.js");
/** PURE_IMPORTS_START tslib,_AsyncScheduler PURE_IMPORTS_END */


var AsapScheduler = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](AsapScheduler, _super);
    function AsapScheduler() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    AsapScheduler.prototype.flush = function (action) {
        this.active = true;
        this.scheduled = undefined;
        var actions = this.actions;
        var error;
        var index = -1;
        var count = actions.length;
        action = action || actions.shift();
        do {
            if (error = action.execute(action.state, action.delay)) {
                break;
            }
        } while (++index < count && (action = actions.shift()));
        this.active = false;
        if (error) {
            while (++index < count && (action = actions.shift())) {
                action.unsubscribe();
            }
            throw error;
        }
    };
    return AsapScheduler;
}(_AsyncScheduler__WEBPACK_IMPORTED_MODULE_1__["AsyncScheduler"]));

//# sourceMappingURL=AsapScheduler.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/scheduler/AsyncAction.js":
/*!*******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/scheduler/AsyncAction.js ***!
  \*******************************************************************/
/*! exports provided: AsyncAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AsyncAction", function() { return AsyncAction; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Action__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Action */ "./node_modules/rxjs/_esm5/internal/scheduler/Action.js");
/** PURE_IMPORTS_START tslib,_Action PURE_IMPORTS_END */


var AsyncAction = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](AsyncAction, _super);
    function AsyncAction(scheduler, work) {
        var _this = _super.call(this, scheduler, work) || this;
        _this.scheduler = scheduler;
        _this.work = work;
        _this.pending = false;
        return _this;
    }
    AsyncAction.prototype.schedule = function (state, delay) {
        if (delay === void 0) {
            delay = 0;
        }
        if (this.closed) {
            return this;
        }
        this.state = state;
        var id = this.id;
        var scheduler = this.scheduler;
        if (id != null) {
            this.id = this.recycleAsyncId(scheduler, id, delay);
        }
        this.pending = true;
        this.delay = delay;
        this.id = this.id || this.requestAsyncId(scheduler, this.id, delay);
        return this;
    };
    AsyncAction.prototype.requestAsyncId = function (scheduler, id, delay) {
        if (delay === void 0) {
            delay = 0;
        }
        return setInterval(scheduler.flush.bind(scheduler, this), delay);
    };
    AsyncAction.prototype.recycleAsyncId = function (scheduler, id, delay) {
        if (delay === void 0) {
            delay = 0;
        }
        if (delay !== null && this.delay === delay && this.pending === false) {
            return id;
        }
        clearInterval(id);
        return undefined;
    };
    AsyncAction.prototype.execute = function (state, delay) {
        if (this.closed) {
            return new Error('executing a cancelled action');
        }
        this.pending = false;
        var error = this._execute(state, delay);
        if (error) {
            return error;
        }
        else if (this.pending === false && this.id != null) {
            this.id = this.recycleAsyncId(this.scheduler, this.id, null);
        }
    };
    AsyncAction.prototype._execute = function (state, delay) {
        var errored = false;
        var errorValue = undefined;
        try {
            this.work(state);
        }
        catch (e) {
            errored = true;
            errorValue = !!e && e || new Error(e);
        }
        if (errored) {
            this.unsubscribe();
            return errorValue;
        }
    };
    AsyncAction.prototype._unsubscribe = function () {
        var id = this.id;
        var scheduler = this.scheduler;
        var actions = scheduler.actions;
        var index = actions.indexOf(this);
        this.work = null;
        this.state = null;
        this.pending = false;
        this.scheduler = null;
        if (index !== -1) {
            actions.splice(index, 1);
        }
        if (id != null) {
            this.id = this.recycleAsyncId(scheduler, id, null);
        }
        this.delay = null;
    };
    return AsyncAction;
}(_Action__WEBPACK_IMPORTED_MODULE_1__["Action"]));

//# sourceMappingURL=AsyncAction.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/scheduler/AsyncScheduler.js":
/*!**********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/scheduler/AsyncScheduler.js ***!
  \**********************************************************************/
/*! exports provided: AsyncScheduler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AsyncScheduler", function() { return AsyncScheduler; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Scheduler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Scheduler */ "./node_modules/rxjs/_esm5/internal/Scheduler.js");
/** PURE_IMPORTS_START tslib,_Scheduler PURE_IMPORTS_END */


var AsyncScheduler = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](AsyncScheduler, _super);
    function AsyncScheduler(SchedulerAction, now) {
        if (now === void 0) {
            now = _Scheduler__WEBPACK_IMPORTED_MODULE_1__["Scheduler"].now;
        }
        var _this = _super.call(this, SchedulerAction, function () {
            if (AsyncScheduler.delegate && AsyncScheduler.delegate !== _this) {
                return AsyncScheduler.delegate.now();
            }
            else {
                return now();
            }
        }) || this;
        _this.actions = [];
        _this.active = false;
        _this.scheduled = undefined;
        return _this;
    }
    AsyncScheduler.prototype.schedule = function (work, delay, state) {
        if (delay === void 0) {
            delay = 0;
        }
        if (AsyncScheduler.delegate && AsyncScheduler.delegate !== this) {
            return AsyncScheduler.delegate.schedule(work, delay, state);
        }
        else {
            return _super.prototype.schedule.call(this, work, delay, state);
        }
    };
    AsyncScheduler.prototype.flush = function (action) {
        var actions = this.actions;
        if (this.active) {
            actions.push(action);
            return;
        }
        var error;
        this.active = true;
        do {
            if (error = action.execute(action.state, action.delay)) {
                break;
            }
        } while (action = actions.shift());
        this.active = false;
        if (error) {
            while (action = actions.shift()) {
                action.unsubscribe();
            }
            throw error;
        }
    };
    return AsyncScheduler;
}(_Scheduler__WEBPACK_IMPORTED_MODULE_1__["Scheduler"]));

//# sourceMappingURL=AsyncScheduler.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/scheduler/QueueAction.js":
/*!*******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/scheduler/QueueAction.js ***!
  \*******************************************************************/
/*! exports provided: QueueAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QueueAction", function() { return QueueAction; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _AsyncAction__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AsyncAction */ "./node_modules/rxjs/_esm5/internal/scheduler/AsyncAction.js");
/** PURE_IMPORTS_START tslib,_AsyncAction PURE_IMPORTS_END */


var QueueAction = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](QueueAction, _super);
    function QueueAction(scheduler, work) {
        var _this = _super.call(this, scheduler, work) || this;
        _this.scheduler = scheduler;
        _this.work = work;
        return _this;
    }
    QueueAction.prototype.schedule = function (state, delay) {
        if (delay === void 0) {
            delay = 0;
        }
        if (delay > 0) {
            return _super.prototype.schedule.call(this, state, delay);
        }
        this.delay = delay;
        this.state = state;
        this.scheduler.flush(this);
        return this;
    };
    QueueAction.prototype.execute = function (state, delay) {
        return (delay > 0 || this.closed) ?
            _super.prototype.execute.call(this, state, delay) :
            this._execute(state, delay);
    };
    QueueAction.prototype.requestAsyncId = function (scheduler, id, delay) {
        if (delay === void 0) {
            delay = 0;
        }
        if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {
            return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);
        }
        return scheduler.flush(this);
    };
    return QueueAction;
}(_AsyncAction__WEBPACK_IMPORTED_MODULE_1__["AsyncAction"]));

//# sourceMappingURL=QueueAction.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/scheduler/QueueScheduler.js":
/*!**********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/scheduler/QueueScheduler.js ***!
  \**********************************************************************/
/*! exports provided: QueueScheduler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QueueScheduler", function() { return QueueScheduler; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _AsyncScheduler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AsyncScheduler */ "./node_modules/rxjs/_esm5/internal/scheduler/AsyncScheduler.js");
/** PURE_IMPORTS_START tslib,_AsyncScheduler PURE_IMPORTS_END */


var QueueScheduler = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](QueueScheduler, _super);
    function QueueScheduler() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return QueueScheduler;
}(_AsyncScheduler__WEBPACK_IMPORTED_MODULE_1__["AsyncScheduler"]));

//# sourceMappingURL=QueueScheduler.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/scheduler/VirtualTimeScheduler.js":
/*!****************************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/scheduler/VirtualTimeScheduler.js ***!
  \****************************************************************************/
/*! exports provided: VirtualTimeScheduler, VirtualAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VirtualTimeScheduler", function() { return VirtualTimeScheduler; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VirtualAction", function() { return VirtualAction; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _AsyncAction__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AsyncAction */ "./node_modules/rxjs/_esm5/internal/scheduler/AsyncAction.js");
/* harmony import */ var _AsyncScheduler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AsyncScheduler */ "./node_modules/rxjs/_esm5/internal/scheduler/AsyncScheduler.js");
/** PURE_IMPORTS_START tslib,_AsyncAction,_AsyncScheduler PURE_IMPORTS_END */



var VirtualTimeScheduler = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](VirtualTimeScheduler, _super);
    function VirtualTimeScheduler(SchedulerAction, maxFrames) {
        if (SchedulerAction === void 0) {
            SchedulerAction = VirtualAction;
        }
        if (maxFrames === void 0) {
            maxFrames = Number.POSITIVE_INFINITY;
        }
        var _this = _super.call(this, SchedulerAction, function () { return _this.frame; }) || this;
        _this.maxFrames = maxFrames;
        _this.frame = 0;
        _this.index = -1;
        return _this;
    }
    VirtualTimeScheduler.prototype.flush = function () {
        var _a = this, actions = _a.actions, maxFrames = _a.maxFrames;
        var error, action;
        while ((action = actions[0]) && action.delay <= maxFrames) {
            actions.shift();
            this.frame = action.delay;
            if (error = action.execute(action.state, action.delay)) {
                break;
            }
        }
        if (error) {
            while (action = actions.shift()) {
                action.unsubscribe();
            }
            throw error;
        }
    };
    VirtualTimeScheduler.frameTimeFactor = 10;
    return VirtualTimeScheduler;
}(_AsyncScheduler__WEBPACK_IMPORTED_MODULE_2__["AsyncScheduler"]));

var VirtualAction = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](VirtualAction, _super);
    function VirtualAction(scheduler, work, index) {
        if (index === void 0) {
            index = scheduler.index += 1;
        }
        var _this = _super.call(this, scheduler, work) || this;
        _this.scheduler = scheduler;
        _this.work = work;
        _this.index = index;
        _this.active = true;
        _this.index = scheduler.index = index;
        return _this;
    }
    VirtualAction.prototype.schedule = function (state, delay) {
        if (delay === void 0) {
            delay = 0;
        }
        if (!this.id) {
            return _super.prototype.schedule.call(this, state, delay);
        }
        this.active = false;
        var action = new VirtualAction(this.scheduler, this.work);
        this.add(action);
        return action.schedule(state, delay);
    };
    VirtualAction.prototype.requestAsyncId = function (scheduler, id, delay) {
        if (delay === void 0) {
            delay = 0;
        }
        this.delay = scheduler.frame + delay;
        var actions = scheduler.actions;
        actions.push(this);
        actions.sort(VirtualAction.sortActions);
        return true;
    };
    VirtualAction.prototype.recycleAsyncId = function (scheduler, id, delay) {
        if (delay === void 0) {
            delay = 0;
        }
        return undefined;
    };
    VirtualAction.prototype._execute = function (state, delay) {
        if (this.active === true) {
            return _super.prototype._execute.call(this, state, delay);
        }
    };
    VirtualAction.sortActions = function (a, b) {
        if (a.delay === b.delay) {
            if (a.index === b.index) {
                return 0;
            }
            else if (a.index > b.index) {
                return 1;
            }
            else {
                return -1;
            }
        }
        else if (a.delay > b.delay) {
            return 1;
        }
        else {
            return -1;
        }
    };
    return VirtualAction;
}(_AsyncAction__WEBPACK_IMPORTED_MODULE_1__["AsyncAction"]));

//# sourceMappingURL=VirtualTimeScheduler.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/scheduler/animationFrame.js":
/*!**********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/scheduler/animationFrame.js ***!
  \**********************************************************************/
/*! exports provided: animationFrameScheduler, animationFrame */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "animationFrameScheduler", function() { return animationFrameScheduler; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "animationFrame", function() { return animationFrame; });
/* harmony import */ var _AnimationFrameAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AnimationFrameAction */ "./node_modules/rxjs/_esm5/internal/scheduler/AnimationFrameAction.js");
/* harmony import */ var _AnimationFrameScheduler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AnimationFrameScheduler */ "./node_modules/rxjs/_esm5/internal/scheduler/AnimationFrameScheduler.js");
/** PURE_IMPORTS_START _AnimationFrameAction,_AnimationFrameScheduler PURE_IMPORTS_END */


var animationFrameScheduler = /*@__PURE__*/ new _AnimationFrameScheduler__WEBPACK_IMPORTED_MODULE_1__["AnimationFrameScheduler"](_AnimationFrameAction__WEBPACK_IMPORTED_MODULE_0__["AnimationFrameAction"]);
var animationFrame = animationFrameScheduler;
//# sourceMappingURL=animationFrame.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/scheduler/asap.js":
/*!************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/scheduler/asap.js ***!
  \************************************************************/
/*! exports provided: asapScheduler, asap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "asapScheduler", function() { return asapScheduler; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "asap", function() { return asap; });
/* harmony import */ var _AsapAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AsapAction */ "./node_modules/rxjs/_esm5/internal/scheduler/AsapAction.js");
/* harmony import */ var _AsapScheduler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AsapScheduler */ "./node_modules/rxjs/_esm5/internal/scheduler/AsapScheduler.js");
/** PURE_IMPORTS_START _AsapAction,_AsapScheduler PURE_IMPORTS_END */


var asapScheduler = /*@__PURE__*/ new _AsapScheduler__WEBPACK_IMPORTED_MODULE_1__["AsapScheduler"](_AsapAction__WEBPACK_IMPORTED_MODULE_0__["AsapAction"]);
var asap = asapScheduler;
//# sourceMappingURL=asap.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/scheduler/async.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/scheduler/async.js ***!
  \*************************************************************/
/*! exports provided: asyncScheduler, async */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "asyncScheduler", function() { return asyncScheduler; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "async", function() { return async; });
/* harmony import */ var _AsyncAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AsyncAction */ "./node_modules/rxjs/_esm5/internal/scheduler/AsyncAction.js");
/* harmony import */ var _AsyncScheduler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AsyncScheduler */ "./node_modules/rxjs/_esm5/internal/scheduler/AsyncScheduler.js");
/** PURE_IMPORTS_START _AsyncAction,_AsyncScheduler PURE_IMPORTS_END */


var asyncScheduler = /*@__PURE__*/ new _AsyncScheduler__WEBPACK_IMPORTED_MODULE_1__["AsyncScheduler"](_AsyncAction__WEBPACK_IMPORTED_MODULE_0__["AsyncAction"]);
var async = asyncScheduler;
//# sourceMappingURL=async.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/scheduler/queue.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/scheduler/queue.js ***!
  \*************************************************************/
/*! exports provided: queueScheduler, queue */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "queueScheduler", function() { return queueScheduler; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "queue", function() { return queue; });
/* harmony import */ var _QueueAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./QueueAction */ "./node_modules/rxjs/_esm5/internal/scheduler/QueueAction.js");
/* harmony import */ var _QueueScheduler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./QueueScheduler */ "./node_modules/rxjs/_esm5/internal/scheduler/QueueScheduler.js");
/** PURE_IMPORTS_START _QueueAction,_QueueScheduler PURE_IMPORTS_END */


var queueScheduler = /*@__PURE__*/ new _QueueScheduler__WEBPACK_IMPORTED_MODULE_1__["QueueScheduler"](_QueueAction__WEBPACK_IMPORTED_MODULE_0__["QueueAction"]);
var queue = queueScheduler;
//# sourceMappingURL=queue.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/symbol/iterator.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/symbol/iterator.js ***!
  \*************************************************************/
/*! exports provided: getSymbolIterator, iterator, $$iterator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSymbolIterator", function() { return getSymbolIterator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "iterator", function() { return iterator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "$$iterator", function() { return $$iterator; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
function getSymbolIterator() {
    if (typeof Symbol !== 'function' || !Symbol.iterator) {
        return '@@iterator';
    }
    return Symbol.iterator;
}
var iterator = /*@__PURE__*/ getSymbolIterator();
var $$iterator = iterator;
//# sourceMappingURL=iterator.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/symbol/observable.js":
/*!***************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/symbol/observable.js ***!
  \***************************************************************/
/*! exports provided: observable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "observable", function() { return observable; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
var observable = /*@__PURE__*/ (function () { return typeof Symbol === 'function' && Symbol.observable || '@@observable'; })();
//# sourceMappingURL=observable.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/symbol/rxSubscriber.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/symbol/rxSubscriber.js ***!
  \*****************************************************************/
/*! exports provided: rxSubscriber, $$rxSubscriber */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "rxSubscriber", function() { return rxSubscriber; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "$$rxSubscriber", function() { return $$rxSubscriber; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
var rxSubscriber = /*@__PURE__*/ (function () {
    return typeof Symbol === 'function'
        ? /*@__PURE__*/ Symbol('rxSubscriber')
        : '@@rxSubscriber_' + /*@__PURE__*/ Math.random();
})();
var $$rxSubscriber = rxSubscriber;
//# sourceMappingURL=rxSubscriber.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/ArgumentOutOfRangeError.js":
/*!**************************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/ArgumentOutOfRangeError.js ***!
  \**************************************************************************/
/*! exports provided: ArgumentOutOfRangeError */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ArgumentOutOfRangeError", function() { return ArgumentOutOfRangeError; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
var ArgumentOutOfRangeErrorImpl = /*@__PURE__*/ (function () {
    function ArgumentOutOfRangeErrorImpl() {
        Error.call(this);
        this.message = 'argument out of range';
        this.name = 'ArgumentOutOfRangeError';
        return this;
    }
    ArgumentOutOfRangeErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);
    return ArgumentOutOfRangeErrorImpl;
})();
var ArgumentOutOfRangeError = ArgumentOutOfRangeErrorImpl;
//# sourceMappingURL=ArgumentOutOfRangeError.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/EmptyError.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/EmptyError.js ***!
  \*************************************************************/
/*! exports provided: EmptyError */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EmptyError", function() { return EmptyError; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
var EmptyErrorImpl = /*@__PURE__*/ (function () {
    function EmptyErrorImpl() {
        Error.call(this);
        this.message = 'no elements in sequence';
        this.name = 'EmptyError';
        return this;
    }
    EmptyErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);
    return EmptyErrorImpl;
})();
var EmptyError = EmptyErrorImpl;
//# sourceMappingURL=EmptyError.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/Immediate.js":
/*!************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/Immediate.js ***!
  \************************************************************/
/*! exports provided: Immediate, TestTools */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Immediate", function() { return Immediate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TestTools", function() { return TestTools; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
var nextHandle = 1;
var RESOLVED = /*@__PURE__*/ (function () { return /*@__PURE__*/ Promise.resolve(); })();
var activeHandles = {};
function findAndClearHandle(handle) {
    if (handle in activeHandles) {
        delete activeHandles[handle];
        return true;
    }
    return false;
}
var Immediate = {
    setImmediate: function (cb) {
        var handle = nextHandle++;
        activeHandles[handle] = true;
        RESOLVED.then(function () { return findAndClearHandle(handle) && cb(); });
        return handle;
    },
    clearImmediate: function (handle) {
        findAndClearHandle(handle);
    },
};
var TestTools = {
    pending: function () {
        return Object.keys(activeHandles).length;
    }
};
//# sourceMappingURL=Immediate.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/ObjectUnsubscribedError.js":
/*!**************************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/ObjectUnsubscribedError.js ***!
  \**************************************************************************/
/*! exports provided: ObjectUnsubscribedError */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectUnsubscribedError", function() { return ObjectUnsubscribedError; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
var ObjectUnsubscribedErrorImpl = /*@__PURE__*/ (function () {
    function ObjectUnsubscribedErrorImpl() {
        Error.call(this);
        this.message = 'object unsubscribed';
        this.name = 'ObjectUnsubscribedError';
        return this;
    }
    ObjectUnsubscribedErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);
    return ObjectUnsubscribedErrorImpl;
})();
var ObjectUnsubscribedError = ObjectUnsubscribedErrorImpl;
//# sourceMappingURL=ObjectUnsubscribedError.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/TimeoutError.js":
/*!***************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/TimeoutError.js ***!
  \***************************************************************/
/*! exports provided: TimeoutError */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TimeoutError", function() { return TimeoutError; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
var TimeoutErrorImpl = /*@__PURE__*/ (function () {
    function TimeoutErrorImpl() {
        Error.call(this);
        this.message = 'Timeout has occurred';
        this.name = 'TimeoutError';
        return this;
    }
    TimeoutErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);
    return TimeoutErrorImpl;
})();
var TimeoutError = TimeoutErrorImpl;
//# sourceMappingURL=TimeoutError.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/UnsubscriptionError.js":
/*!**********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/UnsubscriptionError.js ***!
  \**********************************************************************/
/*! exports provided: UnsubscriptionError */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UnsubscriptionError", function() { return UnsubscriptionError; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
var UnsubscriptionErrorImpl = /*@__PURE__*/ (function () {
    function UnsubscriptionErrorImpl(errors) {
        Error.call(this);
        this.message = errors ?
            errors.length + " errors occurred during unsubscription:\n" + errors.map(function (err, i) { return i + 1 + ") " + err.toString(); }).join('\n  ') : '';
        this.name = 'UnsubscriptionError';
        this.errors = errors;
        return this;
    }
    UnsubscriptionErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);
    return UnsubscriptionErrorImpl;
})();
var UnsubscriptionError = UnsubscriptionErrorImpl;
//# sourceMappingURL=UnsubscriptionError.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/canReportError.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/canReportError.js ***!
  \*****************************************************************/
/*! exports provided: canReportError */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "canReportError", function() { return canReportError; });
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START _Subscriber PURE_IMPORTS_END */

function canReportError(observer) {
    while (observer) {
        var _a = observer, closed_1 = _a.closed, destination = _a.destination, isStopped = _a.isStopped;
        if (closed_1 || isStopped) {
            return false;
        }
        else if (destination && destination instanceof _Subscriber__WEBPACK_IMPORTED_MODULE_0__["Subscriber"]) {
            observer = destination;
        }
        else {
            observer = null;
        }
    }
    return true;
}
//# sourceMappingURL=canReportError.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/hostReportError.js":
/*!******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/hostReportError.js ***!
  \******************************************************************/
/*! exports provided: hostReportError */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hostReportError", function() { return hostReportError; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
function hostReportError(err) {
    setTimeout(function () { throw err; }, 0);
}
//# sourceMappingURL=hostReportError.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/identity.js":
/*!***********************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/identity.js ***!
  \***********************************************************/
/*! exports provided: identity */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "identity", function() { return identity; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
function identity(x) {
    return x;
}
//# sourceMappingURL=identity.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/isArray.js":
/*!**********************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/isArray.js ***!
  \**********************************************************/
/*! exports provided: isArray */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isArray", function() { return isArray; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
var isArray = /*@__PURE__*/ (function () { return Array.isArray || (function (x) { return x && typeof x.length === 'number'; }); })();
//# sourceMappingURL=isArray.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/isArrayLike.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/isArrayLike.js ***!
  \**************************************************************/
/*! exports provided: isArrayLike */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isArrayLike", function() { return isArrayLike; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
var isArrayLike = (function (x) { return x && typeof x.length === 'number' && typeof x !== 'function'; });
//# sourceMappingURL=isArrayLike.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/isDate.js":
/*!*********************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/isDate.js ***!
  \*********************************************************/
/*! exports provided: isDate */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isDate", function() { return isDate; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
function isDate(value) {
    return value instanceof Date && !isNaN(+value);
}
//# sourceMappingURL=isDate.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/isFunction.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/isFunction.js ***!
  \*************************************************************/
/*! exports provided: isFunction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isFunction", function() { return isFunction; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
function isFunction(x) {
    return typeof x === 'function';
}
//# sourceMappingURL=isFunction.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/isInteropObservable.js":
/*!**********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/isInteropObservable.js ***!
  \**********************************************************************/
/*! exports provided: isInteropObservable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isInteropObservable", function() { return isInteropObservable; });
/* harmony import */ var _symbol_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../symbol/observable */ "./node_modules/rxjs/_esm5/internal/symbol/observable.js");
/** PURE_IMPORTS_START _symbol_observable PURE_IMPORTS_END */

function isInteropObservable(input) {
    return input && typeof input[_symbol_observable__WEBPACK_IMPORTED_MODULE_0__["observable"]] === 'function';
}
//# sourceMappingURL=isInteropObservable.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/isIterable.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/isIterable.js ***!
  \*************************************************************/
/*! exports provided: isIterable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isIterable", function() { return isIterable; });
/* harmony import */ var _symbol_iterator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../symbol/iterator */ "./node_modules/rxjs/_esm5/internal/symbol/iterator.js");
/** PURE_IMPORTS_START _symbol_iterator PURE_IMPORTS_END */

function isIterable(input) {
    return input && typeof input[_symbol_iterator__WEBPACK_IMPORTED_MODULE_0__["iterator"]] === 'function';
}
//# sourceMappingURL=isIterable.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/isNumeric.js":
/*!************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/isNumeric.js ***!
  \************************************************************/
/*! exports provided: isNumeric */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isNumeric", function() { return isNumeric; });
/* harmony import */ var _isArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isArray */ "./node_modules/rxjs/_esm5/internal/util/isArray.js");
/** PURE_IMPORTS_START _isArray PURE_IMPORTS_END */

function isNumeric(val) {
    return !Object(_isArray__WEBPACK_IMPORTED_MODULE_0__["isArray"])(val) && (val - parseFloat(val) + 1) >= 0;
}
//# sourceMappingURL=isNumeric.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/isObject.js":
/*!***********************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/isObject.js ***!
  \***********************************************************/
/*! exports provided: isObject */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isObject", function() { return isObject; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
function isObject(x) {
    return x !== null && typeof x === 'object';
}
//# sourceMappingURL=isObject.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/isObservable.js":
/*!***************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/isObservable.js ***!
  \***************************************************************/
/*! exports provided: isObservable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isObservable", function() { return isObservable; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/** PURE_IMPORTS_START _Observable PURE_IMPORTS_END */

function isObservable(obj) {
    return !!obj && (obj instanceof _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"] || (typeof obj.lift === 'function' && typeof obj.subscribe === 'function'));
}
//# sourceMappingURL=isObservable.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/isPromise.js":
/*!************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/isPromise.js ***!
  \************************************************************/
/*! exports provided: isPromise */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isPromise", function() { return isPromise; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
function isPromise(value) {
    return !!value && typeof value.subscribe !== 'function' && typeof value.then === 'function';
}
//# sourceMappingURL=isPromise.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/isScheduler.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/isScheduler.js ***!
  \**************************************************************/
/*! exports provided: isScheduler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isScheduler", function() { return isScheduler; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
function isScheduler(value) {
    return value && typeof value.schedule === 'function';
}
//# sourceMappingURL=isScheduler.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/noop.js":
/*!*******************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/noop.js ***!
  \*******************************************************/
/*! exports provided: noop */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "noop", function() { return noop; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
function noop() { }
//# sourceMappingURL=noop.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/not.js":
/*!******************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/not.js ***!
  \******************************************************/
/*! exports provided: not */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "not", function() { return not; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
function not(pred, thisArg) {
    function notPred() {
        return !(notPred.pred.apply(notPred.thisArg, arguments));
    }
    notPred.pred = pred;
    notPred.thisArg = thisArg;
    return notPred;
}
//# sourceMappingURL=not.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/pipe.js":
/*!*******************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/pipe.js ***!
  \*******************************************************/
/*! exports provided: pipe, pipeFromArray */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pipe", function() { return pipe; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pipeFromArray", function() { return pipeFromArray; });
/* harmony import */ var _identity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./identity */ "./node_modules/rxjs/_esm5/internal/util/identity.js");
/** PURE_IMPORTS_START _identity PURE_IMPORTS_END */

function pipe() {
    var fns = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        fns[_i] = arguments[_i];
    }
    return pipeFromArray(fns);
}
function pipeFromArray(fns) {
    if (fns.length === 0) {
        return _identity__WEBPACK_IMPORTED_MODULE_0__["identity"];
    }
    if (fns.length === 1) {
        return fns[0];
    }
    return function piped(input) {
        return fns.reduce(function (prev, fn) { return fn(prev); }, input);
    };
}
//# sourceMappingURL=pipe.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/subscribeTo.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/subscribeTo.js ***!
  \**************************************************************/
/*! exports provided: subscribeTo */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "subscribeTo", function() { return subscribeTo; });
/* harmony import */ var _subscribeToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./subscribeToArray */ "./node_modules/rxjs/_esm5/internal/util/subscribeToArray.js");
/* harmony import */ var _subscribeToPromise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./subscribeToPromise */ "./node_modules/rxjs/_esm5/internal/util/subscribeToPromise.js");
/* harmony import */ var _subscribeToIterable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./subscribeToIterable */ "./node_modules/rxjs/_esm5/internal/util/subscribeToIterable.js");
/* harmony import */ var _subscribeToObservable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./subscribeToObservable */ "./node_modules/rxjs/_esm5/internal/util/subscribeToObservable.js");
/* harmony import */ var _isArrayLike__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./isArrayLike */ "./node_modules/rxjs/_esm5/internal/util/isArrayLike.js");
/* harmony import */ var _isPromise__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./isPromise */ "./node_modules/rxjs/_esm5/internal/util/isPromise.js");
/* harmony import */ var _isObject__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./isObject */ "./node_modules/rxjs/_esm5/internal/util/isObject.js");
/* harmony import */ var _symbol_iterator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../symbol/iterator */ "./node_modules/rxjs/_esm5/internal/symbol/iterator.js");
/* harmony import */ var _symbol_observable__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../symbol/observable */ "./node_modules/rxjs/_esm5/internal/symbol/observable.js");
/** PURE_IMPORTS_START _subscribeToArray,_subscribeToPromise,_subscribeToIterable,_subscribeToObservable,_isArrayLike,_isPromise,_isObject,_symbol_iterator,_symbol_observable PURE_IMPORTS_END */









var subscribeTo = function (result) {
    if (!!result && typeof result[_symbol_observable__WEBPACK_IMPORTED_MODULE_8__["observable"]] === 'function') {
        return Object(_subscribeToObservable__WEBPACK_IMPORTED_MODULE_3__["subscribeToObservable"])(result);
    }
    else if (Object(_isArrayLike__WEBPACK_IMPORTED_MODULE_4__["isArrayLike"])(result)) {
        return Object(_subscribeToArray__WEBPACK_IMPORTED_MODULE_0__["subscribeToArray"])(result);
    }
    else if (Object(_isPromise__WEBPACK_IMPORTED_MODULE_5__["isPromise"])(result)) {
        return Object(_subscribeToPromise__WEBPACK_IMPORTED_MODULE_1__["subscribeToPromise"])(result);
    }
    else if (!!result && typeof result[_symbol_iterator__WEBPACK_IMPORTED_MODULE_7__["iterator"]] === 'function') {
        return Object(_subscribeToIterable__WEBPACK_IMPORTED_MODULE_2__["subscribeToIterable"])(result);
    }
    else {
        var value = Object(_isObject__WEBPACK_IMPORTED_MODULE_6__["isObject"])(result) ? 'an invalid object' : "'" + result + "'";
        var msg = "You provided " + value + " where a stream was expected."
            + ' You can provide an Observable, Promise, Array, or Iterable.';
        throw new TypeError(msg);
    }
};
//# sourceMappingURL=subscribeTo.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/subscribeToArray.js":
/*!*******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/subscribeToArray.js ***!
  \*******************************************************************/
/*! exports provided: subscribeToArray */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "subscribeToArray", function() { return subscribeToArray; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
var subscribeToArray = function (array) {
    return function (subscriber) {
        for (var i = 0, len = array.length; i < len && !subscriber.closed; i++) {
            subscriber.next(array[i]);
        }
        subscriber.complete();
    };
};
//# sourceMappingURL=subscribeToArray.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/subscribeToIterable.js":
/*!**********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/subscribeToIterable.js ***!
  \**********************************************************************/
/*! exports provided: subscribeToIterable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "subscribeToIterable", function() { return subscribeToIterable; });
/* harmony import */ var _symbol_iterator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../symbol/iterator */ "./node_modules/rxjs/_esm5/internal/symbol/iterator.js");
/** PURE_IMPORTS_START _symbol_iterator PURE_IMPORTS_END */

var subscribeToIterable = function (iterable) {
    return function (subscriber) {
        var iterator = iterable[_symbol_iterator__WEBPACK_IMPORTED_MODULE_0__["iterator"]]();
        do {
            var item = void 0;
            try {
                item = iterator.next();
            }
            catch (err) {
                subscriber.error(err);
                return subscriber;
            }
            if (item.done) {
                subscriber.complete();
                break;
            }
            subscriber.next(item.value);
            if (subscriber.closed) {
                break;
            }
        } while (true);
        if (typeof iterator.return === 'function') {
            subscriber.add(function () {
                if (iterator.return) {
                    iterator.return();
                }
            });
        }
        return subscriber;
    };
};
//# sourceMappingURL=subscribeToIterable.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/subscribeToObservable.js":
/*!************************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/subscribeToObservable.js ***!
  \************************************************************************/
/*! exports provided: subscribeToObservable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "subscribeToObservable", function() { return subscribeToObservable; });
/* harmony import */ var _symbol_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../symbol/observable */ "./node_modules/rxjs/_esm5/internal/symbol/observable.js");
/** PURE_IMPORTS_START _symbol_observable PURE_IMPORTS_END */

var subscribeToObservable = function (obj) {
    return function (subscriber) {
        var obs = obj[_symbol_observable__WEBPACK_IMPORTED_MODULE_0__["observable"]]();
        if (typeof obs.subscribe !== 'function') {
            throw new TypeError('Provided object does not correctly implement Symbol.observable');
        }
        else {
            return obs.subscribe(subscriber);
        }
    };
};
//# sourceMappingURL=subscribeToObservable.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/subscribeToPromise.js":
/*!*********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/subscribeToPromise.js ***!
  \*********************************************************************/
/*! exports provided: subscribeToPromise */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "subscribeToPromise", function() { return subscribeToPromise; });
/* harmony import */ var _hostReportError__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./hostReportError */ "./node_modules/rxjs/_esm5/internal/util/hostReportError.js");
/** PURE_IMPORTS_START _hostReportError PURE_IMPORTS_END */

var subscribeToPromise = function (promise) {
    return function (subscriber) {
        promise.then(function (value) {
            if (!subscriber.closed) {
                subscriber.next(value);
                subscriber.complete();
            }
        }, function (err) { return subscriber.error(err); })
            .then(null, _hostReportError__WEBPACK_IMPORTED_MODULE_0__["hostReportError"]);
        return subscriber;
    };
};
//# sourceMappingURL=subscribeToPromise.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/subscribeToResult.js":
/*!********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/subscribeToResult.js ***!
  \********************************************************************/
/*! exports provided: subscribeToResult */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "subscribeToResult", function() { return subscribeToResult; });
/* harmony import */ var _InnerSubscriber__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../InnerSubscriber */ "./node_modules/rxjs/_esm5/internal/InnerSubscriber.js");
/* harmony import */ var _subscribeTo__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./subscribeTo */ "./node_modules/rxjs/_esm5/internal/util/subscribeTo.js");
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/** PURE_IMPORTS_START _InnerSubscriber,_subscribeTo,_Observable PURE_IMPORTS_END */



function subscribeToResult(outerSubscriber, result, outerValue, outerIndex, innerSubscriber) {
    if (innerSubscriber === void 0) {
        innerSubscriber = new _InnerSubscriber__WEBPACK_IMPORTED_MODULE_0__["InnerSubscriber"](outerSubscriber, outerValue, outerIndex);
    }
    if (innerSubscriber.closed) {
        return undefined;
    }
    if (result instanceof _Observable__WEBPACK_IMPORTED_MODULE_2__["Observable"]) {
        return result.subscribe(innerSubscriber);
    }
    return Object(_subscribeTo__WEBPACK_IMPORTED_MODULE_1__["subscribeTo"])(result)(innerSubscriber);
}
//# sourceMappingURL=subscribeToResult.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/toSubscriber.js":
/*!***************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/toSubscriber.js ***!
  \***************************************************************/
/*! exports provided: toSubscriber */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toSubscriber", function() { return toSubscriber; });
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _symbol_rxSubscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../symbol/rxSubscriber */ "./node_modules/rxjs/_esm5/internal/symbol/rxSubscriber.js");
/* harmony import */ var _Observer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Observer */ "./node_modules/rxjs/_esm5/internal/Observer.js");
/** PURE_IMPORTS_START _Subscriber,_symbol_rxSubscriber,_Observer PURE_IMPORTS_END */



function toSubscriber(nextOrObserver, error, complete) {
    if (nextOrObserver) {
        if (nextOrObserver instanceof _Subscriber__WEBPACK_IMPORTED_MODULE_0__["Subscriber"]) {
            return nextOrObserver;
        }
        if (nextOrObserver[_symbol_rxSubscriber__WEBPACK_IMPORTED_MODULE_1__["rxSubscriber"]]) {
            return nextOrObserver[_symbol_rxSubscriber__WEBPACK_IMPORTED_MODULE_1__["rxSubscriber"]]();
        }
    }
    if (!nextOrObserver && !error && !complete) {
        return new _Subscriber__WEBPACK_IMPORTED_MODULE_0__["Subscriber"](_Observer__WEBPACK_IMPORTED_MODULE_2__["empty"]);
    }
    return new _Subscriber__WEBPACK_IMPORTED_MODULE_0__["Subscriber"](nextOrObserver, error, complete);
}
//# sourceMappingURL=toSubscriber.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/operators/index.js":
/*!****************************************************!*\
  !*** ./node_modules/rxjs/_esm5/operators/index.js ***!
  \****************************************************/
/*! exports provided: audit, auditTime, buffer, bufferCount, bufferTime, bufferToggle, bufferWhen, catchError, combineAll, combineLatest, concat, concatAll, concatMap, concatMapTo, count, debounce, debounceTime, defaultIfEmpty, delay, delayWhen, dematerialize, distinct, distinctUntilChanged, distinctUntilKeyChanged, elementAt, endWith, every, exhaust, exhaustMap, expand, filter, finalize, find, findIndex, first, groupBy, ignoreElements, isEmpty, last, map, mapTo, materialize, max, merge, mergeAll, mergeMap, flatMap, mergeMapTo, mergeScan, min, multicast, observeOn, onErrorResumeNext, pairwise, partition, pluck, publish, publishBehavior, publishLast, publishReplay, race, reduce, repeat, repeatWhen, retry, retryWhen, refCount, sample, sampleTime, scan, sequenceEqual, share, shareReplay, single, skip, skipLast, skipUntil, skipWhile, startWith, subscribeOn, switchAll, switchMap, switchMapTo, take, takeLast, takeUntil, takeWhile, tap, throttle, throttleTime, throwIfEmpty, timeInterval, timeout, timeoutWith, timestamp, toArray, window, windowCount, windowTime, windowToggle, windowWhen, withLatestFrom, zip, zipAll */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _internal_operators_audit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../internal/operators/audit */ "./node_modules/rxjs/_esm5/internal/operators/audit.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "audit", function() { return _internal_operators_audit__WEBPACK_IMPORTED_MODULE_0__["audit"]; });

/* harmony import */ var _internal_operators_auditTime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../internal/operators/auditTime */ "./node_modules/rxjs/_esm5/internal/operators/auditTime.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "auditTime", function() { return _internal_operators_auditTime__WEBPACK_IMPORTED_MODULE_1__["auditTime"]; });

/* harmony import */ var _internal_operators_buffer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../internal/operators/buffer */ "./node_modules/rxjs/_esm5/internal/operators/buffer.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "buffer", function() { return _internal_operators_buffer__WEBPACK_IMPORTED_MODULE_2__["buffer"]; });

/* harmony import */ var _internal_operators_bufferCount__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../internal/operators/bufferCount */ "./node_modules/rxjs/_esm5/internal/operators/bufferCount.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "bufferCount", function() { return _internal_operators_bufferCount__WEBPACK_IMPORTED_MODULE_3__["bufferCount"]; });

/* harmony import */ var _internal_operators_bufferTime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../internal/operators/bufferTime */ "./node_modules/rxjs/_esm5/internal/operators/bufferTime.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "bufferTime", function() { return _internal_operators_bufferTime__WEBPACK_IMPORTED_MODULE_4__["bufferTime"]; });

/* harmony import */ var _internal_operators_bufferToggle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../internal/operators/bufferToggle */ "./node_modules/rxjs/_esm5/internal/operators/bufferToggle.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "bufferToggle", function() { return _internal_operators_bufferToggle__WEBPACK_IMPORTED_MODULE_5__["bufferToggle"]; });

/* harmony import */ var _internal_operators_bufferWhen__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../internal/operators/bufferWhen */ "./node_modules/rxjs/_esm5/internal/operators/bufferWhen.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "bufferWhen", function() { return _internal_operators_bufferWhen__WEBPACK_IMPORTED_MODULE_6__["bufferWhen"]; });

/* harmony import */ var _internal_operators_catchError__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../internal/operators/catchError */ "./node_modules/rxjs/_esm5/internal/operators/catchError.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "catchError", function() { return _internal_operators_catchError__WEBPACK_IMPORTED_MODULE_7__["catchError"]; });

/* harmony import */ var _internal_operators_combineAll__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../internal/operators/combineAll */ "./node_modules/rxjs/_esm5/internal/operators/combineAll.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "combineAll", function() { return _internal_operators_combineAll__WEBPACK_IMPORTED_MODULE_8__["combineAll"]; });

/* harmony import */ var _internal_operators_combineLatest__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../internal/operators/combineLatest */ "./node_modules/rxjs/_esm5/internal/operators/combineLatest.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "combineLatest", function() { return _internal_operators_combineLatest__WEBPACK_IMPORTED_MODULE_9__["combineLatest"]; });

/* harmony import */ var _internal_operators_concat__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../internal/operators/concat */ "./node_modules/rxjs/_esm5/internal/operators/concat.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "concat", function() { return _internal_operators_concat__WEBPACK_IMPORTED_MODULE_10__["concat"]; });

/* harmony import */ var _internal_operators_concatAll__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../internal/operators/concatAll */ "./node_modules/rxjs/_esm5/internal/operators/concatAll.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "concatAll", function() { return _internal_operators_concatAll__WEBPACK_IMPORTED_MODULE_11__["concatAll"]; });

/* harmony import */ var _internal_operators_concatMap__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../internal/operators/concatMap */ "./node_modules/rxjs/_esm5/internal/operators/concatMap.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "concatMap", function() { return _internal_operators_concatMap__WEBPACK_IMPORTED_MODULE_12__["concatMap"]; });

/* harmony import */ var _internal_operators_concatMapTo__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../internal/operators/concatMapTo */ "./node_modules/rxjs/_esm5/internal/operators/concatMapTo.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "concatMapTo", function() { return _internal_operators_concatMapTo__WEBPACK_IMPORTED_MODULE_13__["concatMapTo"]; });

/* harmony import */ var _internal_operators_count__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../internal/operators/count */ "./node_modules/rxjs/_esm5/internal/operators/count.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "count", function() { return _internal_operators_count__WEBPACK_IMPORTED_MODULE_14__["count"]; });

/* harmony import */ var _internal_operators_debounce__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../internal/operators/debounce */ "./node_modules/rxjs/_esm5/internal/operators/debounce.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "debounce", function() { return _internal_operators_debounce__WEBPACK_IMPORTED_MODULE_15__["debounce"]; });

/* harmony import */ var _internal_operators_debounceTime__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../internal/operators/debounceTime */ "./node_modules/rxjs/_esm5/internal/operators/debounceTime.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "debounceTime", function() { return _internal_operators_debounceTime__WEBPACK_IMPORTED_MODULE_16__["debounceTime"]; });

/* harmony import */ var _internal_operators_defaultIfEmpty__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../internal/operators/defaultIfEmpty */ "./node_modules/rxjs/_esm5/internal/operators/defaultIfEmpty.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "defaultIfEmpty", function() { return _internal_operators_defaultIfEmpty__WEBPACK_IMPORTED_MODULE_17__["defaultIfEmpty"]; });

/* harmony import */ var _internal_operators_delay__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../internal/operators/delay */ "./node_modules/rxjs/_esm5/internal/operators/delay.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "delay", function() { return _internal_operators_delay__WEBPACK_IMPORTED_MODULE_18__["delay"]; });

/* harmony import */ var _internal_operators_delayWhen__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../internal/operators/delayWhen */ "./node_modules/rxjs/_esm5/internal/operators/delayWhen.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "delayWhen", function() { return _internal_operators_delayWhen__WEBPACK_IMPORTED_MODULE_19__["delayWhen"]; });

/* harmony import */ var _internal_operators_dematerialize__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../internal/operators/dematerialize */ "./node_modules/rxjs/_esm5/internal/operators/dematerialize.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "dematerialize", function() { return _internal_operators_dematerialize__WEBPACK_IMPORTED_MODULE_20__["dematerialize"]; });

/* harmony import */ var _internal_operators_distinct__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../internal/operators/distinct */ "./node_modules/rxjs/_esm5/internal/operators/distinct.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "distinct", function() { return _internal_operators_distinct__WEBPACK_IMPORTED_MODULE_21__["distinct"]; });

/* harmony import */ var _internal_operators_distinctUntilChanged__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../internal/operators/distinctUntilChanged */ "./node_modules/rxjs/_esm5/internal/operators/distinctUntilChanged.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "distinctUntilChanged", function() { return _internal_operators_distinctUntilChanged__WEBPACK_IMPORTED_MODULE_22__["distinctUntilChanged"]; });

/* harmony import */ var _internal_operators_distinctUntilKeyChanged__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../internal/operators/distinctUntilKeyChanged */ "./node_modules/rxjs/_esm5/internal/operators/distinctUntilKeyChanged.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "distinctUntilKeyChanged", function() { return _internal_operators_distinctUntilKeyChanged__WEBPACK_IMPORTED_MODULE_23__["distinctUntilKeyChanged"]; });

/* harmony import */ var _internal_operators_elementAt__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../internal/operators/elementAt */ "./node_modules/rxjs/_esm5/internal/operators/elementAt.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "elementAt", function() { return _internal_operators_elementAt__WEBPACK_IMPORTED_MODULE_24__["elementAt"]; });

/* harmony import */ var _internal_operators_endWith__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../internal/operators/endWith */ "./node_modules/rxjs/_esm5/internal/operators/endWith.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "endWith", function() { return _internal_operators_endWith__WEBPACK_IMPORTED_MODULE_25__["endWith"]; });

/* harmony import */ var _internal_operators_every__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../internal/operators/every */ "./node_modules/rxjs/_esm5/internal/operators/every.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "every", function() { return _internal_operators_every__WEBPACK_IMPORTED_MODULE_26__["every"]; });

/* harmony import */ var _internal_operators_exhaust__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../internal/operators/exhaust */ "./node_modules/rxjs/_esm5/internal/operators/exhaust.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "exhaust", function() { return _internal_operators_exhaust__WEBPACK_IMPORTED_MODULE_27__["exhaust"]; });

/* harmony import */ var _internal_operators_exhaustMap__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../internal/operators/exhaustMap */ "./node_modules/rxjs/_esm5/internal/operators/exhaustMap.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "exhaustMap", function() { return _internal_operators_exhaustMap__WEBPACK_IMPORTED_MODULE_28__["exhaustMap"]; });

/* harmony import */ var _internal_operators_expand__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../internal/operators/expand */ "./node_modules/rxjs/_esm5/internal/operators/expand.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "expand", function() { return _internal_operators_expand__WEBPACK_IMPORTED_MODULE_29__["expand"]; });

/* harmony import */ var _internal_operators_filter__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../internal/operators/filter */ "./node_modules/rxjs/_esm5/internal/operators/filter.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "filter", function() { return _internal_operators_filter__WEBPACK_IMPORTED_MODULE_30__["filter"]; });

/* harmony import */ var _internal_operators_finalize__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../internal/operators/finalize */ "./node_modules/rxjs/_esm5/internal/operators/finalize.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "finalize", function() { return _internal_operators_finalize__WEBPACK_IMPORTED_MODULE_31__["finalize"]; });

/* harmony import */ var _internal_operators_find__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../internal/operators/find */ "./node_modules/rxjs/_esm5/internal/operators/find.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "find", function() { return _internal_operators_find__WEBPACK_IMPORTED_MODULE_32__["find"]; });

/* harmony import */ var _internal_operators_findIndex__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../internal/operators/findIndex */ "./node_modules/rxjs/_esm5/internal/operators/findIndex.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "findIndex", function() { return _internal_operators_findIndex__WEBPACK_IMPORTED_MODULE_33__["findIndex"]; });

/* harmony import */ var _internal_operators_first__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../internal/operators/first */ "./node_modules/rxjs/_esm5/internal/operators/first.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "first", function() { return _internal_operators_first__WEBPACK_IMPORTED_MODULE_34__["first"]; });

/* harmony import */ var _internal_operators_groupBy__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../internal/operators/groupBy */ "./node_modules/rxjs/_esm5/internal/operators/groupBy.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "groupBy", function() { return _internal_operators_groupBy__WEBPACK_IMPORTED_MODULE_35__["groupBy"]; });

/* harmony import */ var _internal_operators_ignoreElements__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../internal/operators/ignoreElements */ "./node_modules/rxjs/_esm5/internal/operators/ignoreElements.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ignoreElements", function() { return _internal_operators_ignoreElements__WEBPACK_IMPORTED_MODULE_36__["ignoreElements"]; });

/* harmony import */ var _internal_operators_isEmpty__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../internal/operators/isEmpty */ "./node_modules/rxjs/_esm5/internal/operators/isEmpty.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isEmpty", function() { return _internal_operators_isEmpty__WEBPACK_IMPORTED_MODULE_37__["isEmpty"]; });

/* harmony import */ var _internal_operators_last__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../internal/operators/last */ "./node_modules/rxjs/_esm5/internal/operators/last.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "last", function() { return _internal_operators_last__WEBPACK_IMPORTED_MODULE_38__["last"]; });

/* harmony import */ var _internal_operators_map__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../internal/operators/map */ "./node_modules/rxjs/_esm5/internal/operators/map.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "map", function() { return _internal_operators_map__WEBPACK_IMPORTED_MODULE_39__["map"]; });

/* harmony import */ var _internal_operators_mapTo__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../internal/operators/mapTo */ "./node_modules/rxjs/_esm5/internal/operators/mapTo.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "mapTo", function() { return _internal_operators_mapTo__WEBPACK_IMPORTED_MODULE_40__["mapTo"]; });

/* harmony import */ var _internal_operators_materialize__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../internal/operators/materialize */ "./node_modules/rxjs/_esm5/internal/operators/materialize.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "materialize", function() { return _internal_operators_materialize__WEBPACK_IMPORTED_MODULE_41__["materialize"]; });

/* harmony import */ var _internal_operators_max__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../internal/operators/max */ "./node_modules/rxjs/_esm5/internal/operators/max.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "max", function() { return _internal_operators_max__WEBPACK_IMPORTED_MODULE_42__["max"]; });

/* harmony import */ var _internal_operators_merge__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ../internal/operators/merge */ "./node_modules/rxjs/_esm5/internal/operators/merge.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "merge", function() { return _internal_operators_merge__WEBPACK_IMPORTED_MODULE_43__["merge"]; });

/* harmony import */ var _internal_operators_mergeAll__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ../internal/operators/mergeAll */ "./node_modules/rxjs/_esm5/internal/operators/mergeAll.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "mergeAll", function() { return _internal_operators_mergeAll__WEBPACK_IMPORTED_MODULE_44__["mergeAll"]; });

/* harmony import */ var _internal_operators_mergeMap__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ../internal/operators/mergeMap */ "./node_modules/rxjs/_esm5/internal/operators/mergeMap.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "mergeMap", function() { return _internal_operators_mergeMap__WEBPACK_IMPORTED_MODULE_45__["mergeMap"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "flatMap", function() { return _internal_operators_mergeMap__WEBPACK_IMPORTED_MODULE_45__["flatMap"]; });

/* harmony import */ var _internal_operators_mergeMapTo__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ../internal/operators/mergeMapTo */ "./node_modules/rxjs/_esm5/internal/operators/mergeMapTo.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "mergeMapTo", function() { return _internal_operators_mergeMapTo__WEBPACK_IMPORTED_MODULE_46__["mergeMapTo"]; });

/* harmony import */ var _internal_operators_mergeScan__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ../internal/operators/mergeScan */ "./node_modules/rxjs/_esm5/internal/operators/mergeScan.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "mergeScan", function() { return _internal_operators_mergeScan__WEBPACK_IMPORTED_MODULE_47__["mergeScan"]; });

/* harmony import */ var _internal_operators_min__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ../internal/operators/min */ "./node_modules/rxjs/_esm5/internal/operators/min.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "min", function() { return _internal_operators_min__WEBPACK_IMPORTED_MODULE_48__["min"]; });

/* harmony import */ var _internal_operators_multicast__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ../internal/operators/multicast */ "./node_modules/rxjs/_esm5/internal/operators/multicast.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "multicast", function() { return _internal_operators_multicast__WEBPACK_IMPORTED_MODULE_49__["multicast"]; });

/* harmony import */ var _internal_operators_observeOn__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ../internal/operators/observeOn */ "./node_modules/rxjs/_esm5/internal/operators/observeOn.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "observeOn", function() { return _internal_operators_observeOn__WEBPACK_IMPORTED_MODULE_50__["observeOn"]; });

/* harmony import */ var _internal_operators_onErrorResumeNext__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ../internal/operators/onErrorResumeNext */ "./node_modules/rxjs/_esm5/internal/operators/onErrorResumeNext.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "onErrorResumeNext", function() { return _internal_operators_onErrorResumeNext__WEBPACK_IMPORTED_MODULE_51__["onErrorResumeNext"]; });

/* harmony import */ var _internal_operators_pairwise__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ../internal/operators/pairwise */ "./node_modules/rxjs/_esm5/internal/operators/pairwise.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "pairwise", function() { return _internal_operators_pairwise__WEBPACK_IMPORTED_MODULE_52__["pairwise"]; });

/* harmony import */ var _internal_operators_partition__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ../internal/operators/partition */ "./node_modules/rxjs/_esm5/internal/operators/partition.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "partition", function() { return _internal_operators_partition__WEBPACK_IMPORTED_MODULE_53__["partition"]; });

/* harmony import */ var _internal_operators_pluck__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ../internal/operators/pluck */ "./node_modules/rxjs/_esm5/internal/operators/pluck.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "pluck", function() { return _internal_operators_pluck__WEBPACK_IMPORTED_MODULE_54__["pluck"]; });

/* harmony import */ var _internal_operators_publish__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ../internal/operators/publish */ "./node_modules/rxjs/_esm5/internal/operators/publish.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "publish", function() { return _internal_operators_publish__WEBPACK_IMPORTED_MODULE_55__["publish"]; });

/* harmony import */ var _internal_operators_publishBehavior__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ../internal/operators/publishBehavior */ "./node_modules/rxjs/_esm5/internal/operators/publishBehavior.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "publishBehavior", function() { return _internal_operators_publishBehavior__WEBPACK_IMPORTED_MODULE_56__["publishBehavior"]; });

/* harmony import */ var _internal_operators_publishLast__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ../internal/operators/publishLast */ "./node_modules/rxjs/_esm5/internal/operators/publishLast.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "publishLast", function() { return _internal_operators_publishLast__WEBPACK_IMPORTED_MODULE_57__["publishLast"]; });

/* harmony import */ var _internal_operators_publishReplay__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ../internal/operators/publishReplay */ "./node_modules/rxjs/_esm5/internal/operators/publishReplay.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "publishReplay", function() { return _internal_operators_publishReplay__WEBPACK_IMPORTED_MODULE_58__["publishReplay"]; });

/* harmony import */ var _internal_operators_race__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ../internal/operators/race */ "./node_modules/rxjs/_esm5/internal/operators/race.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "race", function() { return _internal_operators_race__WEBPACK_IMPORTED_MODULE_59__["race"]; });

/* harmony import */ var _internal_operators_reduce__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ../internal/operators/reduce */ "./node_modules/rxjs/_esm5/internal/operators/reduce.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "reduce", function() { return _internal_operators_reduce__WEBPACK_IMPORTED_MODULE_60__["reduce"]; });

/* harmony import */ var _internal_operators_repeat__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! ../internal/operators/repeat */ "./node_modules/rxjs/_esm5/internal/operators/repeat.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "repeat", function() { return _internal_operators_repeat__WEBPACK_IMPORTED_MODULE_61__["repeat"]; });

/* harmony import */ var _internal_operators_repeatWhen__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! ../internal/operators/repeatWhen */ "./node_modules/rxjs/_esm5/internal/operators/repeatWhen.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "repeatWhen", function() { return _internal_operators_repeatWhen__WEBPACK_IMPORTED_MODULE_62__["repeatWhen"]; });

/* harmony import */ var _internal_operators_retry__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ../internal/operators/retry */ "./node_modules/rxjs/_esm5/internal/operators/retry.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "retry", function() { return _internal_operators_retry__WEBPACK_IMPORTED_MODULE_63__["retry"]; });

/* harmony import */ var _internal_operators_retryWhen__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! ../internal/operators/retryWhen */ "./node_modules/rxjs/_esm5/internal/operators/retryWhen.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "retryWhen", function() { return _internal_operators_retryWhen__WEBPACK_IMPORTED_MODULE_64__["retryWhen"]; });

/* harmony import */ var _internal_operators_refCount__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! ../internal/operators/refCount */ "./node_modules/rxjs/_esm5/internal/operators/refCount.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "refCount", function() { return _internal_operators_refCount__WEBPACK_IMPORTED_MODULE_65__["refCount"]; });

/* harmony import */ var _internal_operators_sample__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! ../internal/operators/sample */ "./node_modules/rxjs/_esm5/internal/operators/sample.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "sample", function() { return _internal_operators_sample__WEBPACK_IMPORTED_MODULE_66__["sample"]; });

/* harmony import */ var _internal_operators_sampleTime__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! ../internal/operators/sampleTime */ "./node_modules/rxjs/_esm5/internal/operators/sampleTime.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "sampleTime", function() { return _internal_operators_sampleTime__WEBPACK_IMPORTED_MODULE_67__["sampleTime"]; });

/* harmony import */ var _internal_operators_scan__WEBPACK_IMPORTED_MODULE_68__ = __webpack_require__(/*! ../internal/operators/scan */ "./node_modules/rxjs/_esm5/internal/operators/scan.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "scan", function() { return _internal_operators_scan__WEBPACK_IMPORTED_MODULE_68__["scan"]; });

/* harmony import */ var _internal_operators_sequenceEqual__WEBPACK_IMPORTED_MODULE_69__ = __webpack_require__(/*! ../internal/operators/sequenceEqual */ "./node_modules/rxjs/_esm5/internal/operators/sequenceEqual.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "sequenceEqual", function() { return _internal_operators_sequenceEqual__WEBPACK_IMPORTED_MODULE_69__["sequenceEqual"]; });

/* harmony import */ var _internal_operators_share__WEBPACK_IMPORTED_MODULE_70__ = __webpack_require__(/*! ../internal/operators/share */ "./node_modules/rxjs/_esm5/internal/operators/share.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "share", function() { return _internal_operators_share__WEBPACK_IMPORTED_MODULE_70__["share"]; });

/* harmony import */ var _internal_operators_shareReplay__WEBPACK_IMPORTED_MODULE_71__ = __webpack_require__(/*! ../internal/operators/shareReplay */ "./node_modules/rxjs/_esm5/internal/operators/shareReplay.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "shareReplay", function() { return _internal_operators_shareReplay__WEBPACK_IMPORTED_MODULE_71__["shareReplay"]; });

/* harmony import */ var _internal_operators_single__WEBPACK_IMPORTED_MODULE_72__ = __webpack_require__(/*! ../internal/operators/single */ "./node_modules/rxjs/_esm5/internal/operators/single.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "single", function() { return _internal_operators_single__WEBPACK_IMPORTED_MODULE_72__["single"]; });

/* harmony import */ var _internal_operators_skip__WEBPACK_IMPORTED_MODULE_73__ = __webpack_require__(/*! ../internal/operators/skip */ "./node_modules/rxjs/_esm5/internal/operators/skip.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "skip", function() { return _internal_operators_skip__WEBPACK_IMPORTED_MODULE_73__["skip"]; });

/* harmony import */ var _internal_operators_skipLast__WEBPACK_IMPORTED_MODULE_74__ = __webpack_require__(/*! ../internal/operators/skipLast */ "./node_modules/rxjs/_esm5/internal/operators/skipLast.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "skipLast", function() { return _internal_operators_skipLast__WEBPACK_IMPORTED_MODULE_74__["skipLast"]; });

/* harmony import */ var _internal_operators_skipUntil__WEBPACK_IMPORTED_MODULE_75__ = __webpack_require__(/*! ../internal/operators/skipUntil */ "./node_modules/rxjs/_esm5/internal/operators/skipUntil.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "skipUntil", function() { return _internal_operators_skipUntil__WEBPACK_IMPORTED_MODULE_75__["skipUntil"]; });

/* harmony import */ var _internal_operators_skipWhile__WEBPACK_IMPORTED_MODULE_76__ = __webpack_require__(/*! ../internal/operators/skipWhile */ "./node_modules/rxjs/_esm5/internal/operators/skipWhile.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "skipWhile", function() { return _internal_operators_skipWhile__WEBPACK_IMPORTED_MODULE_76__["skipWhile"]; });

/* harmony import */ var _internal_operators_startWith__WEBPACK_IMPORTED_MODULE_77__ = __webpack_require__(/*! ../internal/operators/startWith */ "./node_modules/rxjs/_esm5/internal/operators/startWith.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "startWith", function() { return _internal_operators_startWith__WEBPACK_IMPORTED_MODULE_77__["startWith"]; });

/* harmony import */ var _internal_operators_subscribeOn__WEBPACK_IMPORTED_MODULE_78__ = __webpack_require__(/*! ../internal/operators/subscribeOn */ "./node_modules/rxjs/_esm5/internal/operators/subscribeOn.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "subscribeOn", function() { return _internal_operators_subscribeOn__WEBPACK_IMPORTED_MODULE_78__["subscribeOn"]; });

/* harmony import */ var _internal_operators_switchAll__WEBPACK_IMPORTED_MODULE_79__ = __webpack_require__(/*! ../internal/operators/switchAll */ "./node_modules/rxjs/_esm5/internal/operators/switchAll.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "switchAll", function() { return _internal_operators_switchAll__WEBPACK_IMPORTED_MODULE_79__["switchAll"]; });

/* harmony import */ var _internal_operators_switchMap__WEBPACK_IMPORTED_MODULE_80__ = __webpack_require__(/*! ../internal/operators/switchMap */ "./node_modules/rxjs/_esm5/internal/operators/switchMap.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "switchMap", function() { return _internal_operators_switchMap__WEBPACK_IMPORTED_MODULE_80__["switchMap"]; });

/* harmony import */ var _internal_operators_switchMapTo__WEBPACK_IMPORTED_MODULE_81__ = __webpack_require__(/*! ../internal/operators/switchMapTo */ "./node_modules/rxjs/_esm5/internal/operators/switchMapTo.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "switchMapTo", function() { return _internal_operators_switchMapTo__WEBPACK_IMPORTED_MODULE_81__["switchMapTo"]; });

/* harmony import */ var _internal_operators_take__WEBPACK_IMPORTED_MODULE_82__ = __webpack_require__(/*! ../internal/operators/take */ "./node_modules/rxjs/_esm5/internal/operators/take.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "take", function() { return _internal_operators_take__WEBPACK_IMPORTED_MODULE_82__["take"]; });

/* harmony import */ var _internal_operators_takeLast__WEBPACK_IMPORTED_MODULE_83__ = __webpack_require__(/*! ../internal/operators/takeLast */ "./node_modules/rxjs/_esm5/internal/operators/takeLast.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "takeLast", function() { return _internal_operators_takeLast__WEBPACK_IMPORTED_MODULE_83__["takeLast"]; });

/* harmony import */ var _internal_operators_takeUntil__WEBPACK_IMPORTED_MODULE_84__ = __webpack_require__(/*! ../internal/operators/takeUntil */ "./node_modules/rxjs/_esm5/internal/operators/takeUntil.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "takeUntil", function() { return _internal_operators_takeUntil__WEBPACK_IMPORTED_MODULE_84__["takeUntil"]; });

/* harmony import */ var _internal_operators_takeWhile__WEBPACK_IMPORTED_MODULE_85__ = __webpack_require__(/*! ../internal/operators/takeWhile */ "./node_modules/rxjs/_esm5/internal/operators/takeWhile.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "takeWhile", function() { return _internal_operators_takeWhile__WEBPACK_IMPORTED_MODULE_85__["takeWhile"]; });

/* harmony import */ var _internal_operators_tap__WEBPACK_IMPORTED_MODULE_86__ = __webpack_require__(/*! ../internal/operators/tap */ "./node_modules/rxjs/_esm5/internal/operators/tap.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "tap", function() { return _internal_operators_tap__WEBPACK_IMPORTED_MODULE_86__["tap"]; });

/* harmony import */ var _internal_operators_throttle__WEBPACK_IMPORTED_MODULE_87__ = __webpack_require__(/*! ../internal/operators/throttle */ "./node_modules/rxjs/_esm5/internal/operators/throttle.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "throttle", function() { return _internal_operators_throttle__WEBPACK_IMPORTED_MODULE_87__["throttle"]; });

/* harmony import */ var _internal_operators_throttleTime__WEBPACK_IMPORTED_MODULE_88__ = __webpack_require__(/*! ../internal/operators/throttleTime */ "./node_modules/rxjs/_esm5/internal/operators/throttleTime.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "throttleTime", function() { return _internal_operators_throttleTime__WEBPACK_IMPORTED_MODULE_88__["throttleTime"]; });

/* harmony import */ var _internal_operators_throwIfEmpty__WEBPACK_IMPORTED_MODULE_89__ = __webpack_require__(/*! ../internal/operators/throwIfEmpty */ "./node_modules/rxjs/_esm5/internal/operators/throwIfEmpty.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "throwIfEmpty", function() { return _internal_operators_throwIfEmpty__WEBPACK_IMPORTED_MODULE_89__["throwIfEmpty"]; });

/* harmony import */ var _internal_operators_timeInterval__WEBPACK_IMPORTED_MODULE_90__ = __webpack_require__(/*! ../internal/operators/timeInterval */ "./node_modules/rxjs/_esm5/internal/operators/timeInterval.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "timeInterval", function() { return _internal_operators_timeInterval__WEBPACK_IMPORTED_MODULE_90__["timeInterval"]; });

/* harmony import */ var _internal_operators_timeout__WEBPACK_IMPORTED_MODULE_91__ = __webpack_require__(/*! ../internal/operators/timeout */ "./node_modules/rxjs/_esm5/internal/operators/timeout.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "timeout", function() { return _internal_operators_timeout__WEBPACK_IMPORTED_MODULE_91__["timeout"]; });

/* harmony import */ var _internal_operators_timeoutWith__WEBPACK_IMPORTED_MODULE_92__ = __webpack_require__(/*! ../internal/operators/timeoutWith */ "./node_modules/rxjs/_esm5/internal/operators/timeoutWith.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "timeoutWith", function() { return _internal_operators_timeoutWith__WEBPACK_IMPORTED_MODULE_92__["timeoutWith"]; });

/* harmony import */ var _internal_operators_timestamp__WEBPACK_IMPORTED_MODULE_93__ = __webpack_require__(/*! ../internal/operators/timestamp */ "./node_modules/rxjs/_esm5/internal/operators/timestamp.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "timestamp", function() { return _internal_operators_timestamp__WEBPACK_IMPORTED_MODULE_93__["timestamp"]; });

/* harmony import */ var _internal_operators_toArray__WEBPACK_IMPORTED_MODULE_94__ = __webpack_require__(/*! ../internal/operators/toArray */ "./node_modules/rxjs/_esm5/internal/operators/toArray.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "toArray", function() { return _internal_operators_toArray__WEBPACK_IMPORTED_MODULE_94__["toArray"]; });

/* harmony import */ var _internal_operators_window__WEBPACK_IMPORTED_MODULE_95__ = __webpack_require__(/*! ../internal/operators/window */ "./node_modules/rxjs/_esm5/internal/operators/window.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "window", function() { return _internal_operators_window__WEBPACK_IMPORTED_MODULE_95__["window"]; });

/* harmony import */ var _internal_operators_windowCount__WEBPACK_IMPORTED_MODULE_96__ = __webpack_require__(/*! ../internal/operators/windowCount */ "./node_modules/rxjs/_esm5/internal/operators/windowCount.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "windowCount", function() { return _internal_operators_windowCount__WEBPACK_IMPORTED_MODULE_96__["windowCount"]; });

/* harmony import */ var _internal_operators_windowTime__WEBPACK_IMPORTED_MODULE_97__ = __webpack_require__(/*! ../internal/operators/windowTime */ "./node_modules/rxjs/_esm5/internal/operators/windowTime.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "windowTime", function() { return _internal_operators_windowTime__WEBPACK_IMPORTED_MODULE_97__["windowTime"]; });

/* harmony import */ var _internal_operators_windowToggle__WEBPACK_IMPORTED_MODULE_98__ = __webpack_require__(/*! ../internal/operators/windowToggle */ "./node_modules/rxjs/_esm5/internal/operators/windowToggle.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "windowToggle", function() { return _internal_operators_windowToggle__WEBPACK_IMPORTED_MODULE_98__["windowToggle"]; });

/* harmony import */ var _internal_operators_windowWhen__WEBPACK_IMPORTED_MODULE_99__ = __webpack_require__(/*! ../internal/operators/windowWhen */ "./node_modules/rxjs/_esm5/internal/operators/windowWhen.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "windowWhen", function() { return _internal_operators_windowWhen__WEBPACK_IMPORTED_MODULE_99__["windowWhen"]; });

/* harmony import */ var _internal_operators_withLatestFrom__WEBPACK_IMPORTED_MODULE_100__ = __webpack_require__(/*! ../internal/operators/withLatestFrom */ "./node_modules/rxjs/_esm5/internal/operators/withLatestFrom.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "withLatestFrom", function() { return _internal_operators_withLatestFrom__WEBPACK_IMPORTED_MODULE_100__["withLatestFrom"]; });

/* harmony import */ var _internal_operators_zip__WEBPACK_IMPORTED_MODULE_101__ = __webpack_require__(/*! ../internal/operators/zip */ "./node_modules/rxjs/_esm5/internal/operators/zip.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "zip", function() { return _internal_operators_zip__WEBPACK_IMPORTED_MODULE_101__["zip"]; });

/* harmony import */ var _internal_operators_zipAll__WEBPACK_IMPORTED_MODULE_102__ = __webpack_require__(/*! ../internal/operators/zipAll */ "./node_modules/rxjs/_esm5/internal/operators/zipAll.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "zipAll", function() { return _internal_operators_zipAll__WEBPACK_IMPORTED_MODULE_102__["zipAll"]; });

/** PURE_IMPORTS_START  PURE_IMPORTS_END */







































































































//# sourceMappingURL=index.js.map


/***/ }),

/***/ "./node_modules/shallowequal/index.js":
/*!********************************************!*\
  !*** ./node_modules/shallowequal/index.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

//

module.exports = function shallowEqual(objA, objB, compare, compareContext) {
  var ret = compare ? compare.call(compareContext, objA, objB) : void 0;

  if (ret !== void 0) {
    return !!ret;
  }

  if (objA === objB) {
    return true;
  }

  if (typeof objA !== "object" || !objA || typeof objB !== "object" || !objB) {
    return false;
  }

  var keysA = Object.keys(objA);
  var keysB = Object.keys(objB);

  if (keysA.length !== keysB.length) {
    return false;
  }

  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);

  // Test for A's keys different from B.
  for (var idx = 0; idx < keysA.length; idx++) {
    var key = keysA[idx];

    if (!bHasOwnProperty(key)) {
      return false;
    }

    var valueA = objA[key];
    var valueB = objB[key];

    ret = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;

    if (ret === false || (ret === void 0 && valueA !== valueB)) {
      return false;
    }
  }

  return true;
};


/***/ }),

/***/ "./node_modules/tslib/tslib.es6.js":
/*!*****************************************!*\
  !*** ./node_modules/tslib/tslib.es6.js ***!
  \*****************************************/
/*! exports provided: __extends, __assign, __rest, __decorate, __param, __metadata, __awaiter, __generator, __createBinding, __exportStar, __values, __read, __spread, __spreadArrays, __await, __asyncGenerator, __asyncDelegator, __asyncValues, __makeTemplateObject, __importStar, __importDefault, __classPrivateFieldGet, __classPrivateFieldSet */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__extends", function() { return __extends; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__assign", function() { return __assign; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__rest", function() { return __rest; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__decorate", function() { return __decorate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__param", function() { return __param; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__metadata", function() { return __metadata; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__awaiter", function() { return __awaiter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__generator", function() { return __generator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__createBinding", function() { return __createBinding; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__exportStar", function() { return __exportStar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__values", function() { return __values; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__read", function() { return __read; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__spread", function() { return __spread; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__spreadArrays", function() { return __spreadArrays; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__await", function() { return __await; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__asyncGenerator", function() { return __asyncGenerator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__asyncDelegator", function() { return __asyncDelegator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__asyncValues", function() { return __asyncValues; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__makeTemplateObject", function() { return __makeTemplateObject; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__importStar", function() { return __importStar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__importDefault", function() { return __importDefault; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__classPrivateFieldGet", function() { return __classPrivateFieldGet; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__classPrivateFieldSet", function() { return __classPrivateFieldSet; });
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/* global Reflect, Promise */

var extendStatics = function(d, b) {
    extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return extendStatics(d, b);
};

function __extends(d, b) {
    extendStatics(d, b);
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
}

var __assign = function() {
    __assign = Object.assign || function __assign(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
        }
        return t;
    }
    return __assign.apply(this, arguments);
}

function __rest(s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
}

function __decorate(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
}

function __param(paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
}

function __metadata(metadataKey, metadataValue) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(metadataKey, metadataValue);
}

function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

function __generator(thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
}

function __createBinding(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}

function __exportStar(m, exports) {
    for (var p in m) if (p !== "default" && !exports.hasOwnProperty(p)) exports[p] = m[p];
}

function __values(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
}

function __read(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
}

function __spread() {
    for (var ar = [], i = 0; i < arguments.length; i++)
        ar = ar.concat(__read(arguments[i]));
    return ar;
}

function __spreadArrays() {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
};

function __await(v) {
    return this instanceof __await ? (this.v = v, this) : new __await(v);
}

function __asyncGenerator(thisArg, _arguments, generator) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var g = generator.apply(thisArg, _arguments || []), i, q = [];
    return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;
    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }
    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }
    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }
    function fulfill(value) { resume("next", value); }
    function reject(value) { resume("throw", value); }
    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }
}

function __asyncDelegator(o) {
    var i, p;
    return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;
    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === "return" } : f ? f(v) : v; } : f; }
}

function __asyncValues(o) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var m = o[Symbol.asyncIterator], i;
    return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }
}

function __makeTemplateObject(cooked, raw) {
    if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
    return cooked;
};

function __importStar(mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result.default = mod;
    return result;
}

function __importDefault(mod) {
    return (mod && mod.__esModule) ? mod : { default: mod };
}

function __classPrivateFieldGet(receiver, privateMap) {
    if (!privateMap.has(receiver)) {
        throw new TypeError("attempted to get private field on non-instance");
    }
    return privateMap.get(receiver);
}

function __classPrivateFieldSet(receiver, privateMap, value) {
    if (!privateMap.has(receiver)) {
        throw new TypeError("attempted to set private field on non-instance");
    }
    privateMap.set(receiver, value);
    return value;
}


/***/ }),

/***/ "./node_modules/util/node_modules/inherits/inherits_browser.js":
/*!*********************************************************************!*\
  !*** ./node_modules/util/node_modules/inherits/inherits_browser.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

if (typeof Object.create === 'function') {
  // implementation from standard node.js 'util' module
  module.exports = function inherits(ctor, superCtor) {
    ctor.super_ = superCtor
    ctor.prototype = Object.create(superCtor.prototype, {
      constructor: {
        value: ctor,
        enumerable: false,
        writable: true,
        configurable: true
      }
    });
  };
} else {
  // old school shim for old browsers
  module.exports = function inherits(ctor, superCtor) {
    ctor.super_ = superCtor
    var TempCtor = function () {}
    TempCtor.prototype = superCtor.prototype
    ctor.prototype = new TempCtor()
    ctor.prototype.constructor = ctor
  }
}


/***/ }),

/***/ "./node_modules/util/support/isBufferBrowser.js":
/*!******************************************************!*\
  !*** ./node_modules/util/support/isBufferBrowser.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function isBuffer(arg) {
  return arg && typeof arg === 'object'
    && typeof arg.copy === 'function'
    && typeof arg.fill === 'function'
    && typeof arg.readUInt8 === 'function';
}

/***/ }),

/***/ "./node_modules/util/util.js":
/*!***********************************!*\
  !*** ./node_modules/util/util.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(process) {// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

var getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors ||
  function getOwnPropertyDescriptors(obj) {
    var keys = Object.keys(obj);
    var descriptors = {};
    for (var i = 0; i < keys.length; i++) {
      descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);
    }
    return descriptors;
  };

var formatRegExp = /%[sdj%]/g;
exports.format = function(f) {
  if (!isString(f)) {
    var objects = [];
    for (var i = 0; i < arguments.length; i++) {
      objects.push(inspect(arguments[i]));
    }
    return objects.join(' ');
  }

  var i = 1;
  var args = arguments;
  var len = args.length;
  var str = String(f).replace(formatRegExp, function(x) {
    if (x === '%%') return '%';
    if (i >= len) return x;
    switch (x) {
      case '%s': return String(args[i++]);
      case '%d': return Number(args[i++]);
      case '%j':
        try {
          return JSON.stringify(args[i++]);
        } catch (_) {
          return '[Circular]';
        }
      default:
        return x;
    }
  });
  for (var x = args[i]; i < len; x = args[++i]) {
    if (isNull(x) || !isObject(x)) {
      str += ' ' + x;
    } else {
      str += ' ' + inspect(x);
    }
  }
  return str;
};


// Mark that a method should not be used.
// Returns a modified function which warns once by default.
// If --no-deprecation is set, then it is a no-op.
exports.deprecate = function(fn, msg) {
  if (typeof process !== 'undefined' && process.noDeprecation === true) {
    return fn;
  }

  // Allow for deprecating things in the process of starting up.
  if (typeof process === 'undefined') {
    return function() {
      return exports.deprecate(fn, msg).apply(this, arguments);
    };
  }

  var warned = false;
  function deprecated() {
    if (!warned) {
      if (process.throwDeprecation) {
        throw new Error(msg);
      } else if (process.traceDeprecation) {
        console.trace(msg);
      } else {
        console.error(msg);
      }
      warned = true;
    }
    return fn.apply(this, arguments);
  }

  return deprecated;
};


var debugs = {};
var debugEnviron;
exports.debuglog = function(set) {
  if (isUndefined(debugEnviron))
    debugEnviron = process.env.NODE_DEBUG || '';
  set = set.toUpperCase();
  if (!debugs[set]) {
    if (new RegExp('\\b' + set + '\\b', 'i').test(debugEnviron)) {
      var pid = process.pid;
      debugs[set] = function() {
        var msg = exports.format.apply(exports, arguments);
        console.error('%s %d: %s', set, pid, msg);
      };
    } else {
      debugs[set] = function() {};
    }
  }
  return debugs[set];
};


/**
 * Echos the value of a value. Trys to print the value out
 * in the best way possible given the different types.
 *
 * @param {Object} obj The object to print out.
 * @param {Object} opts Optional options object that alters the output.
 */
/* legacy: obj, showHidden, depth, colors*/
function inspect(obj, opts) {
  // default options
  var ctx = {
    seen: [],
    stylize: stylizeNoColor
  };
  // legacy...
  if (arguments.length >= 3) ctx.depth = arguments[2];
  if (arguments.length >= 4) ctx.colors = arguments[3];
  if (isBoolean(opts)) {
    // legacy...
    ctx.showHidden = opts;
  } else if (opts) {
    // got an "options" object
    exports._extend(ctx, opts);
  }
  // set default options
  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;
  if (isUndefined(ctx.depth)) ctx.depth = 2;
  if (isUndefined(ctx.colors)) ctx.colors = false;
  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;
  if (ctx.colors) ctx.stylize = stylizeWithColor;
  return formatValue(ctx, obj, ctx.depth);
}
exports.inspect = inspect;


// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics
inspect.colors = {
  'bold' : [1, 22],
  'italic' : [3, 23],
  'underline' : [4, 24],
  'inverse' : [7, 27],
  'white' : [37, 39],
  'grey' : [90, 39],
  'black' : [30, 39],
  'blue' : [34, 39],
  'cyan' : [36, 39],
  'green' : [32, 39],
  'magenta' : [35, 39],
  'red' : [31, 39],
  'yellow' : [33, 39]
};

// Don't use 'blue' not visible on cmd.exe
inspect.styles = {
  'special': 'cyan',
  'number': 'yellow',
  'boolean': 'yellow',
  'undefined': 'grey',
  'null': 'bold',
  'string': 'green',
  'date': 'magenta',
  // "name": intentionally not styling
  'regexp': 'red'
};


function stylizeWithColor(str, styleType) {
  var style = inspect.styles[styleType];

  if (style) {
    return '\u001b[' + inspect.colors[style][0] + 'm' + str +
           '\u001b[' + inspect.colors[style][1] + 'm';
  } else {
    return str;
  }
}


function stylizeNoColor(str, styleType) {
  return str;
}


function arrayToHash(array) {
  var hash = {};

  array.forEach(function(val, idx) {
    hash[val] = true;
  });

  return hash;
}


function formatValue(ctx, value, recurseTimes) {
  // Provide a hook for user-specified inspect functions.
  // Check that value is an object with an inspect function on it
  if (ctx.customInspect &&
      value &&
      isFunction(value.inspect) &&
      // Filter out the util module, it's inspect function is special
      value.inspect !== exports.inspect &&
      // Also filter out any prototype objects using the circular check.
      !(value.constructor && value.constructor.prototype === value)) {
    var ret = value.inspect(recurseTimes, ctx);
    if (!isString(ret)) {
      ret = formatValue(ctx, ret, recurseTimes);
    }
    return ret;
  }

  // Primitive types cannot have properties
  var primitive = formatPrimitive(ctx, value);
  if (primitive) {
    return primitive;
  }

  // Look up the keys of the object.
  var keys = Object.keys(value);
  var visibleKeys = arrayToHash(keys);

  if (ctx.showHidden) {
    keys = Object.getOwnPropertyNames(value);
  }

  // IE doesn't make error fields non-enumerable
  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx
  if (isError(value)
      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {
    return formatError(value);
  }

  // Some type of object without properties can be shortcutted.
  if (keys.length === 0) {
    if (isFunction(value)) {
      var name = value.name ? ': ' + value.name : '';
      return ctx.stylize('[Function' + name + ']', 'special');
    }
    if (isRegExp(value)) {
      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');
    }
    if (isDate(value)) {
      return ctx.stylize(Date.prototype.toString.call(value), 'date');
    }
    if (isError(value)) {
      return formatError(value);
    }
  }

  var base = '', array = false, braces = ['{', '}'];

  // Make Array say that they are Array
  if (isArray(value)) {
    array = true;
    braces = ['[', ']'];
  }

  // Make functions say that they are functions
  if (isFunction(value)) {
    var n = value.name ? ': ' + value.name : '';
    base = ' [Function' + n + ']';
  }

  // Make RegExps say that they are RegExps
  if (isRegExp(value)) {
    base = ' ' + RegExp.prototype.toString.call(value);
  }

  // Make dates with properties first say the date
  if (isDate(value)) {
    base = ' ' + Date.prototype.toUTCString.call(value);
  }

  // Make error with message first say the error
  if (isError(value)) {
    base = ' ' + formatError(value);
  }

  if (keys.length === 0 && (!array || value.length == 0)) {
    return braces[0] + base + braces[1];
  }

  if (recurseTimes < 0) {
    if (isRegExp(value)) {
      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');
    } else {
      return ctx.stylize('[Object]', 'special');
    }
  }

  ctx.seen.push(value);

  var output;
  if (array) {
    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);
  } else {
    output = keys.map(function(key) {
      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);
    });
  }

  ctx.seen.pop();

  return reduceToSingleString(output, base, braces);
}


function formatPrimitive(ctx, value) {
  if (isUndefined(value))
    return ctx.stylize('undefined', 'undefined');
  if (isString(value)) {
    var simple = '\'' + JSON.stringify(value).replace(/^"|"$/g, '')
                                             .replace(/'/g, "\\'")
                                             .replace(/\\"/g, '"') + '\'';
    return ctx.stylize(simple, 'string');
  }
  if (isNumber(value))
    return ctx.stylize('' + value, 'number');
  if (isBoolean(value))
    return ctx.stylize('' + value, 'boolean');
  // For some reason typeof null is "object", so special case here.
  if (isNull(value))
    return ctx.stylize('null', 'null');
}


function formatError(value) {
  return '[' + Error.prototype.toString.call(value) + ']';
}


function formatArray(ctx, value, recurseTimes, visibleKeys, keys) {
  var output = [];
  for (var i = 0, l = value.length; i < l; ++i) {
    if (hasOwnProperty(value, String(i))) {
      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,
          String(i), true));
    } else {
      output.push('');
    }
  }
  keys.forEach(function(key) {
    if (!key.match(/^\d+$/)) {
      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,
          key, true));
    }
  });
  return output;
}


function formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {
  var name, str, desc;
  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };
  if (desc.get) {
    if (desc.set) {
      str = ctx.stylize('[Getter/Setter]', 'special');
    } else {
      str = ctx.stylize('[Getter]', 'special');
    }
  } else {
    if (desc.set) {
      str = ctx.stylize('[Setter]', 'special');
    }
  }
  if (!hasOwnProperty(visibleKeys, key)) {
    name = '[' + key + ']';
  }
  if (!str) {
    if (ctx.seen.indexOf(desc.value) < 0) {
      if (isNull(recurseTimes)) {
        str = formatValue(ctx, desc.value, null);
      } else {
        str = formatValue(ctx, desc.value, recurseTimes - 1);
      }
      if (str.indexOf('\n') > -1) {
        if (array) {
          str = str.split('\n').map(function(line) {
            return '  ' + line;
          }).join('\n').substr(2);
        } else {
          str = '\n' + str.split('\n').map(function(line) {
            return '   ' + line;
          }).join('\n');
        }
      }
    } else {
      str = ctx.stylize('[Circular]', 'special');
    }
  }
  if (isUndefined(name)) {
    if (array && key.match(/^\d+$/)) {
      return str;
    }
    name = JSON.stringify('' + key);
    if (name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)) {
      name = name.substr(1, name.length - 2);
      name = ctx.stylize(name, 'name');
    } else {
      name = name.replace(/'/g, "\\'")
                 .replace(/\\"/g, '"')
                 .replace(/(^"|"$)/g, "'");
      name = ctx.stylize(name, 'string');
    }
  }

  return name + ': ' + str;
}


function reduceToSingleString(output, base, braces) {
  var numLinesEst = 0;
  var length = output.reduce(function(prev, cur) {
    numLinesEst++;
    if (cur.indexOf('\n') >= 0) numLinesEst++;
    return prev + cur.replace(/\u001b\[\d\d?m/g, '').length + 1;
  }, 0);

  if (length > 60) {
    return braces[0] +
           (base === '' ? '' : base + '\n ') +
           ' ' +
           output.join(',\n  ') +
           ' ' +
           braces[1];
  }

  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];
}


// NOTE: These type checking functions intentionally don't use `instanceof`
// because it is fragile and can be easily faked with `Object.create()`.
function isArray(ar) {
  return Array.isArray(ar);
}
exports.isArray = isArray;

function isBoolean(arg) {
  return typeof arg === 'boolean';
}
exports.isBoolean = isBoolean;

function isNull(arg) {
  return arg === null;
}
exports.isNull = isNull;

function isNullOrUndefined(arg) {
  return arg == null;
}
exports.isNullOrUndefined = isNullOrUndefined;

function isNumber(arg) {
  return typeof arg === 'number';
}
exports.isNumber = isNumber;

function isString(arg) {
  return typeof arg === 'string';
}
exports.isString = isString;

function isSymbol(arg) {
  return typeof arg === 'symbol';
}
exports.isSymbol = isSymbol;

function isUndefined(arg) {
  return arg === void 0;
}
exports.isUndefined = isUndefined;

function isRegExp(re) {
  return isObject(re) && objectToString(re) === '[object RegExp]';
}
exports.isRegExp = isRegExp;

function isObject(arg) {
  return typeof arg === 'object' && arg !== null;
}
exports.isObject = isObject;

function isDate(d) {
  return isObject(d) && objectToString(d) === '[object Date]';
}
exports.isDate = isDate;

function isError(e) {
  return isObject(e) &&
      (objectToString(e) === '[object Error]' || e instanceof Error);
}
exports.isError = isError;

function isFunction(arg) {
  return typeof arg === 'function';
}
exports.isFunction = isFunction;

function isPrimitive(arg) {
  return arg === null ||
         typeof arg === 'boolean' ||
         typeof arg === 'number' ||
         typeof arg === 'string' ||
         typeof arg === 'symbol' ||  // ES6 symbol
         typeof arg === 'undefined';
}
exports.isPrimitive = isPrimitive;

exports.isBuffer = __webpack_require__(/*! ./support/isBuffer */ "./node_modules/util/support/isBufferBrowser.js");

function objectToString(o) {
  return Object.prototype.toString.call(o);
}


function pad(n) {
  return n < 10 ? '0' + n.toString(10) : n.toString(10);
}


var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',
              'Oct', 'Nov', 'Dec'];

// 26 Feb 16:19:34
function timestamp() {
  var d = new Date();
  var time = [pad(d.getHours()),
              pad(d.getMinutes()),
              pad(d.getSeconds())].join(':');
  return [d.getDate(), months[d.getMonth()], time].join(' ');
}


// log is just a thin wrapper to console.log that prepends a timestamp
exports.log = function() {
  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));
};


/**
 * Inherit the prototype methods from one constructor into another.
 *
 * The Function.prototype.inherits from lang.js rewritten as a standalone
 * function (not on Function.prototype). NOTE: If this file is to be loaded
 * during bootstrapping this function needs to be rewritten using some native
 * functions as prototype setup using normal JavaScript does not work as
 * expected during bootstrapping (see mirror.js in r114903).
 *
 * @param {function} ctor Constructor function which needs to inherit the
 *     prototype.
 * @param {function} superCtor Constructor function to inherit prototype from.
 */
exports.inherits = __webpack_require__(/*! inherits */ "./node_modules/util/node_modules/inherits/inherits_browser.js");

exports._extend = function(origin, add) {
  // Don't do anything if add isn't an object
  if (!add || !isObject(add)) return origin;

  var keys = Object.keys(add);
  var i = keys.length;
  while (i--) {
    origin[keys[i]] = add[keys[i]];
  }
  return origin;
};

function hasOwnProperty(obj, prop) {
  return Object.prototype.hasOwnProperty.call(obj, prop);
}

var kCustomPromisifiedSymbol = typeof Symbol !== 'undefined' ? Symbol('util.promisify.custom') : undefined;

exports.promisify = function promisify(original) {
  if (typeof original !== 'function')
    throw new TypeError('The "original" argument must be of type Function');

  if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {
    var fn = original[kCustomPromisifiedSymbol];
    if (typeof fn !== 'function') {
      throw new TypeError('The "util.promisify.custom" argument must be of type Function');
    }
    Object.defineProperty(fn, kCustomPromisifiedSymbol, {
      value: fn, enumerable: false, writable: false, configurable: true
    });
    return fn;
  }

  function fn() {
    var promiseResolve, promiseReject;
    var promise = new Promise(function (resolve, reject) {
      promiseResolve = resolve;
      promiseReject = reject;
    });

    var args = [];
    for (var i = 0; i < arguments.length; i++) {
      args.push(arguments[i]);
    }
    args.push(function (err, value) {
      if (err) {
        promiseReject(err);
      } else {
        promiseResolve(value);
      }
    });

    try {
      original.apply(this, args);
    } catch (err) {
      promiseReject(err);
    }

    return promise;
  }

  Object.setPrototypeOf(fn, Object.getPrototypeOf(original));

  if (kCustomPromisifiedSymbol) Object.defineProperty(fn, kCustomPromisifiedSymbol, {
    value: fn, enumerable: false, writable: false, configurable: true
  });
  return Object.defineProperties(
    fn,
    getOwnPropertyDescriptors(original)
  );
}

exports.promisify.custom = kCustomPromisifiedSymbol

function callbackifyOnRejected(reason, cb) {
  // `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).
  // Because `null` is a special error value in callbacks which means "no error
  // occurred", we error-wrap so the callback consumer can distinguish between
  // "the promise rejected with null" or "the promise fulfilled with undefined".
  if (!reason) {
    var newReason = new Error('Promise was rejected with a falsy value');
    newReason.reason = reason;
    reason = newReason;
  }
  return cb(reason);
}

function callbackify(original) {
  if (typeof original !== 'function') {
    throw new TypeError('The "original" argument must be of type Function');
  }

  // We DO NOT return the promise as it gives the user a false sense that
  // the promise is actually somehow related to the callback's execution
  // and that the callback throwing will reject the promise.
  function callbackified() {
    var args = [];
    for (var i = 0; i < arguments.length; i++) {
      args.push(arguments[i]);
    }

    var maybeCb = args.pop();
    if (typeof maybeCb !== 'function') {
      throw new TypeError('The last argument must be of type Function');
    }
    var self = this;
    var cb = function() {
      return maybeCb.apply(self, arguments);
    };
    // In true node style we process the callback on `nextTick` with all the
    // implications (stack, `uncaughtException`, `async_hooks`)
    original.apply(this, args)
      .then(function(ret) { process.nextTick(cb, null, ret) },
            function(rej) { process.nextTick(callbackifyOnRejected, rej, cb) });
  }

  Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));
  Object.defineProperties(callbackified,
                          getOwnPropertyDescriptors(original));
  return callbackified;
}
exports.callbackify = callbackify;

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../process/browser.js */ "./node_modules/process/browser.js")))

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2JpZ3BheS1jbGllbnQvbGliL2NsaWVudC9jbGllbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9iaWdwYXktY2xpZW50L2xpYi9jbGllbnQvZGVmYXVsdC1jb25maWcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9iaWdwYXktY2xpZW50L2xpYi9jb21tb24vaHR0cC1yZXF1ZXN0L2NvbnRlbnQtdHlwZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9iaWdwYXktY2xpZW50L2xpYi9jb21tb24vaHR0cC1yZXF1ZXN0L2RlZmF1bHQtb3B0aW9ucy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2JpZ3BheS1jbGllbnQvbGliL2NvbW1vbi9odHRwLXJlcXVlc3QvbWV0aG9kLXR5cGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvYmlncGF5LWNsaWVudC9saWIvY29tbW9uL2h0dHAtcmVxdWVzdC9wYXlsb2FkLXRyYW5zZm9ybWVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvYmlncGF5LWNsaWVudC9saWIvY29tbW9uL2h0dHAtcmVxdWVzdC9yZXF1ZXN0LWZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9iaWdwYXktY2xpZW50L2xpYi9jb21tb24vaHR0cC1yZXF1ZXN0L3JlcXVlc3Qtc2VuZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvYmlncGF5LWNsaWVudC9saWIvY29tbW9uL3V0aWxzL2luY2x1ZGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvYmlncGF5LWNsaWVudC9saWIvY29tbW9uL3V0aWxzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvYmlncGF5LWNsaWVudC9saWIvY29tbW9uL3V0aWxzL2lzLWVtcHR5LXN0cmluZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2JpZ3BheS1jbGllbnQvbGliL2NvbW1vbi91dGlscy9pcy1lbXB0eXN0cmluZy1vci1uaWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9iaWdwYXktY2xpZW50L2xpYi9jb21tb24vdXRpbHMvaXMtbmlsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvYmlncGF5LWNsaWVudC9saWIvY29tbW9uL3V0aWxzL2lzLW9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2JpZ3BheS1jbGllbnQvbGliL2NvbW1vbi91dGlscy9vbWl0LWVtcHR5c3RyaW5nLWFuZC1uaWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9iaWdwYXktY2xpZW50L2xpYi9jb21tb24vdXRpbHMvb21pdC1uaWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9iaWdwYXktY2xpZW50L2xpYi9jb21tb24vdXRpbHMvb21pdC1wcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2JpZ3BheS1jbGllbnQvbGliL2NvbW1vbi91dGlscy90by1udW1iZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9iaWdwYXktY2xpZW50L2xpYi9jb21tb24vdXRpbHMvdG8tc25ha2UtY2FzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2JpZ3BheS1jbGllbnQvbGliL2NvbW1vbi91dGlscy90by1zdHJpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9iaWdwYXktY2xpZW50L2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2JpZ3BheS1jbGllbnQvbGliL3BheW1lbnQvY2xpZW50LXRva2VuLWdlbmVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2JpZ3BheS1jbGllbnQvbGliL3BheW1lbnQvb2Zmc2l0ZS1wYXltZW50LWluaXRpYWxpemVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvYmlncGF5LWNsaWVudC9saWIvcGF5bWVudC9vZmZzaXRlLXBheW1lbnQtbWFwcGVycy9hZGRyZXNzLW1hcHBlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2JpZ3BheS1jbGllbnQvbGliL3BheW1lbnQvb2Zmc2l0ZS1wYXltZW50LW1hcHBlcnMvY3VzdG9tZXItbWFwcGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvYmlncGF5LWNsaWVudC9saWIvcGF5bWVudC9vZmZzaXRlLXBheW1lbnQtbWFwcGVycy9tZXRhLW1hcHBlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2JpZ3BheS1jbGllbnQvbGliL3BheW1lbnQvb2Zmc2l0ZS1wYXltZW50LW1hcHBlcnMvcGF5bG9hZC1tYXBwZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9iaWdwYXktY2xpZW50L2xpYi9wYXltZW50L29mZnNpdGUtcGF5bWVudC1tYXBwZXJzL3N0b3JlLW1hcHBlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2JpZ3BheS1jbGllbnQvbGliL3BheW1lbnQvcGF5bWVudC1tZXRob2QtaWRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvYmlncGF5LWNsaWVudC9saWIvcGF5bWVudC9wYXltZW50LW1ldGhvZC1tYXBwZXJzL3BheW1lbnQtbWV0aG9kLWlkLW1hcHBlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2JpZ3BheS1jbGllbnQvbGliL3BheW1lbnQvcGF5bWVudC1tZXRob2QtdHlwZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9iaWdwYXktY2xpZW50L2xpYi9wYXltZW50L3BheW1lbnQtc3VibWl0dGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvYmlncGF5LWNsaWVudC9saWIvcGF5bWVudC9wYXltZW50LXR5cGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvYmlncGF5LWNsaWVudC9saWIvcGF5bWVudC91cmwtaGVscGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvYmlncGF5LWNsaWVudC9saWIvcGF5bWVudC92MS9wYXltZW50LW1hcHBlcnMvY3VzdG9tZXItbWFwcGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvYmlncGF5LWNsaWVudC9saWIvcGF5bWVudC92MS9wYXltZW50LW1hcHBlcnMvb3JkZXItbWFwcGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvYmlncGF5LWNsaWVudC9saWIvcGF5bWVudC92MS9wYXltZW50LW1hcHBlcnMvcGF5bG9hZC1tYXBwZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9iaWdwYXktY2xpZW50L2xpYi9wYXltZW50L3YxL3BheW1lbnQtbWFwcGVycy9wYXltZW50LW1hcHBlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2JpZ3BheS1jbGllbnQvbGliL3BheW1lbnQvdjEvcGF5bWVudC1tYXBwZXJzL3N0b3JlLW1hcHBlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2JpZ3BheS1jbGllbnQvbGliL3BheW1lbnQvdjIvcGF5bWVudC1tYXBwZXJzL2NhcnQtbWFwcGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvYmlncGF5LWNsaWVudC9saWIvcGF5bWVudC92Mi9wYXltZW50LW1hcHBlcnMvY2xpZW50LXRva2VuLW1hcHBlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2JpZ3BheS1jbGllbnQvbGliL3BheW1lbnQvdjIvcGF5bWVudC1tYXBwZXJzL2dhdGV3YXktbWFwcGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvYmlncGF5LWNsaWVudC9saWIvcGF5bWVudC92Mi9wYXltZW50LW1hcHBlcnMvcXVvdGUtbWFwcGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvYmlncGF5LWNsaWVudC9saWIvcGF5bWVudC92Mi9wYXltZW50LW1hcHBlcnMvc3RvcmUtbWFwcGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvYmlncGF5LWNsaWVudC9saWIvc3RvcmUvc3RvcmUtcmVxdWVzdC1zZW5kZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9iaWdwYXktY2xpZW50L2xpYi9zdG9yZS91cmwtaGVscGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvYmlncGF5LWNsaWVudC9saWIvc3RvcmUvdjIvbWFwcGVycy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9kaXN0L2NoZWNrb3V0LXNkay5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2RhdGEtc3RvcmUvbGliL2NvbWJpbmUtcmVkdWNlcnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9kYXRhLXN0b3JlL2xpYi9jb21wb3NlLXJlZHVjZXJzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvZGF0YS1zdG9yZS9saWIvY3JlYXRlLWFjdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2RhdGEtc3RvcmUvbGliL2NyZWF0ZS1kYXRhLXN0b3JlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvZGF0YS1zdG9yZS9saWIvY3JlYXRlLWVycm9yLWFjdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2RhdGEtc3RvcmUvbGliL2RhdGEtc3RvcmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9kYXRhLXN0b3JlL2xpYi9kZWVwLWZyZWV6ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2RhdGEtc3RvcmUvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvZGF0YS1zdG9yZS9saWIvaXMtb2JzZXJ2YWJsZS1hY3Rpb24tbGlrZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2RhdGEtc3RvcmUvbGliL25vb3AtYWN0aW9uLXRyYW5zZm9ybWVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvZGF0YS1zdG9yZS9saWIvbm9vcC1zdGF0ZS10cmFuc2Zvcm1lci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2Zvcm0tcG9zdGVyL2xpYi9jcmVhdGUtZm9ybS1wb3N0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9mb3JtLXBvc3Rlci9saWIvZm9ybS1idWlsZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvZm9ybS1wb3N0ZXIvbGliL2Zvcm0tcG9zdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvZm9ybS1wb3N0ZXIvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvZm9ybS1wb3N0ZXIvbGliL3VybC11dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL21lbW9pemUvbGliL2NhY2hlLWtleS1tYXBzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvbWVtb2l6ZS9saWIvY2FjaGUta2V5LXJlc29sdmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvbWVtb2l6ZS9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9tZW1vaXplL2xpYi9tZW1vaXplLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvcmVxdWVzdC1zZW5kZXIvZXNtL2NhY2hlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvcmVxdWVzdC1zZW5kZXIvZXNtL2NyZWF0ZS1yZXF1ZXN0LXNlbmRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL3JlcXVlc3Qtc2VuZGVyL2VzbS9jcmVhdGUtdGltZW91dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL3JlcXVlc3Qtc2VuZGVyL2VzbS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL3JlcXVlc3Qtc2VuZGVyL2VzbS9pcy1wcm9taXNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvcmVxdWVzdC1zZW5kZXIvZXNtL3BheWxvYWQtdHJhbnNmb3JtZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9yZXF1ZXN0LXNlbmRlci9lc20vcmVxdWVzdC1mYWN0b3J5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvcmVxdWVzdC1zZW5kZXIvZXNtL3JlcXVlc3Qtc2VuZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvcmVxdWVzdC1zZW5kZXIvZXNtL3RpbWVvdXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9yZXF1ZXN0LXNlbmRlci9lc20vdG8tZm9ybS11cmwtZW5jb2RlZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL3NjcmlwdC1sb2FkZXIvbGliL2Jyb3dzZXItc3VwcG9ydC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL3NjcmlwdC1sb2FkZXIvbGliL2NyZWF0ZS1zY3JpcHQtbG9hZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2Uvc2NyaXB0LWxvYWRlci9saWIvY3JlYXRlLXN0eWxlc2hlZXQtbG9hZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2Uvc2NyaXB0LWxvYWRlci9saWIvZ2V0LXNjcmlwdC1sb2FkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9zY3JpcHQtbG9hZGVyL2xpYi9nZXQtc3R5bGVzaGVldC1sb2FkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9zY3JpcHQtbG9hZGVyL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL3NjcmlwdC1sb2FkZXIvbGliL3NjcmlwdC1sb2FkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9zY3JpcHQtbG9hZGVyL2xpYi9zdHlsZXNoZWV0LWxvYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXNzZXJ0L2Fzc2VydC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2FyZC12YWxpZGF0b3IvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NhcmQtdmFsaWRhdG9yL3NyYy9jYXJkLW51bWJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2FyZC12YWxpZGF0b3Ivc3JjL2N2di5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2FyZC12YWxpZGF0b3Ivc3JjL2V4cGlyYXRpb24tZGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2FyZC12YWxpZGF0b3Ivc3JjL2V4cGlyYXRpb24tbW9udGguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NhcmQtdmFsaWRhdG9yL3NyYy9leHBpcmF0aW9uLXllYXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NhcmQtdmFsaWRhdG9yL3NyYy9saWIvaXMtYXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NhcmQtdmFsaWRhdG9yL3NyYy9sdWhuLTEwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jYXJkLXZhbGlkYXRvci9zcmMvcGFyc2UtZGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2FyZC12YWxpZGF0b3Ivc3JjL3Bvc3RhbC1jb2RlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb29raWUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NyZWRpdC1jYXJkLXR5cGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NyZWRpdC1jYXJkLXR5cGUvbGliL2FkZC1tYXRjaGluZy1jYXJkcy10by1yZXN1bHRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jcmVkaXQtY2FyZC10eXBlL2xpYi9jYXJkLXR5cGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jcmVkaXQtY2FyZC10eXBlL2xpYi9jbG9uZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY3JlZGl0LWNhcmQtdHlwZS9saWIvZmluZC1iZXN0LW1hdGNoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jcmVkaXQtY2FyZC10eXBlL2xpYi9pcy12YWxpZC1pbnB1dC10eXBlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jcmVkaXQtY2FyZC10eXBlL2xpYi9tYXRjaGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kZWVwLWFzc2lnbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaWZyYW1lLXJlc2l6ZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2lmcmFtZS1yZXNpemVyL2pzL2lmcmFtZVJlc2l6ZXIuY29udGVudFdpbmRvdy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaWZyYW1lLXJlc2l6ZXIvanMvaWZyYW1lUmVzaXplci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaWZyYW1lLXJlc2l6ZXIvanMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2lzLW9iai9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvanMtY29va2llL3NyYy9qcy5jb29raWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvY2FsLXN0b3JhZ2UtZmFsbGJhY2svbGliL0Nvb2tpZVN0b3JhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvY2FsLXN0b3JhZ2UtZmFsbGJhY2svbGliL01lbW9yeVN0b3JhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvY2FsLXN0b3JhZ2UtZmFsbGJhY2svbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2NhbC1zdG9yYWdlLWZhbGxiYWNrL2xpYi9pc1N1cHBvcnRlZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoLm1lbW9pemUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC5tZXJnZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbWFrZS1wbHVyYWwvdW1kL3BsdXJhbENhdGVnb3JpZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21ha2UtcGx1cmFsL3VtZC9wbHVyYWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tZXNzYWdlZm9ybWF0LXBhcnNlci9wYXJzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21lc3NhZ2Vmb3JtYXQvbGliL2NvbXBpbGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tZXNzYWdlZm9ybWF0L2xpYi9mb3JtYXR0ZXJzL2RhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21lc3NhZ2Vmb3JtYXQvbGliL2Zvcm1hdHRlcnMvZHVyYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21lc3NhZ2Vmb3JtYXQvbGliL2Zvcm1hdHRlcnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21lc3NhZ2Vmb3JtYXQvbGliL2Zvcm1hdHRlcnMvbnVtYmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tZXNzYWdlZm9ybWF0L2xpYi9mb3JtYXR0ZXJzL3RpbWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21lc3NhZ2Vmb3JtYXQvbGliL21lc3NhZ2Vmb3JtYXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21lc3NhZ2Vmb3JtYXQvbGliL3BsdXJhbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21lc3NhZ2Vmb3JtYXQvbGliL3J1bnRpbWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVzZWxlY3QvZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Jlc2VydmVkLXdvcmRzL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVzZXJ2ZWQtd29yZHMvbGliL3Jlc2VydmVkLXdvcmRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL0FzeW5jU3ViamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9CZWhhdmlvclN1YmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvSW5uZXJTdWJzY3JpYmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL05vdGlmaWNhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9PYnNlcnZhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL09ic2VydmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL091dGVyU3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9SZXBsYXlTdWJqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL1NjaGVkdWxlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9TdWJqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL1N1YmplY3RTdWJzY3JpcHRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvU3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9TdWJzY3JpcHRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvY29uZmlnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL2lubmVyU3Vic2NyaWJlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvQ29ubmVjdGFibGVPYnNlcnZhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvU3Vic2NyaWJlT25PYnNlcnZhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvYmluZENhbGxiYWNrLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvYmluZE5vZGVDYWxsYmFjay5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2NvbWJpbmVMYXRlc3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9jb25jYXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9kZWZlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2VtcHR5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvZm9ya0pvaW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9mcm9tLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvZnJvbUFycmF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvZnJvbUV2ZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvZnJvbUV2ZW50UGF0dGVybi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2dlbmVyYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvaWlmLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvaW50ZXJ2YWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9tZXJnZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL25ldmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvb2YuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9vbkVycm9yUmVzdW1lTmV4dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL3BhaXJzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvcGFydGl0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvcmFjZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL3JhbmdlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvdGhyb3dFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL3RpbWVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvdXNpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS96aXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL2F1ZGl0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9hdWRpdFRpbWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL2J1ZmZlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvYnVmZmVyQ291bnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL2J1ZmZlclRpbWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL2J1ZmZlclRvZ2dsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvYnVmZmVyV2hlbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvY2F0Y2hFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvY29tYmluZUFsbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvY29tYmluZUxhdGVzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvY29uY2F0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9jb25jYXRBbGwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL2NvbmNhdE1hcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvY29uY2F0TWFwVG8uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL2NvdW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9kZWJvdW5jZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvZGVib3VuY2VUaW1lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9kZWZhdWx0SWZFbXB0eS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvZGVsYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL2RlbGF5V2hlbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvZGVtYXRlcmlhbGl6ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvZGlzdGluY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL2Rpc3RpbmN0VW50aWxDaGFuZ2VkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9kaXN0aW5jdFVudGlsS2V5Q2hhbmdlZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvZWxlbWVudEF0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9lbmRXaXRoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9ldmVyeS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvZXhoYXVzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvZXhoYXVzdE1hcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvZXhwYW5kLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9maWx0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL2ZpbmFsaXplLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9maW5kLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9maW5kSW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL2ZpcnN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9ncm91cEJ5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9pZ25vcmVFbGVtZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvaXNFbXB0eS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvbGFzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvbWFwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9tYXBUby5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvbWF0ZXJpYWxpemUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL21heC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlQWxsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9tZXJnZU1hcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VNYXBUby5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VTY2FuLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9taW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL211bHRpY2FzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvb2JzZXJ2ZU9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9vbkVycm9yUmVzdW1lTmV4dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvcGFpcndpc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3BhcnRpdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvcGx1Y2suanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3B1Ymxpc2guanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3B1Ymxpc2hCZWhhdmlvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvcHVibGlzaExhc3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3B1Ymxpc2hSZXBsYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3JhY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3JlZHVjZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvcmVmQ291bnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3JlcGVhdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvcmVwZWF0V2hlbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvcmV0cnkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3JldHJ5V2hlbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvc2FtcGxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9zYW1wbGVUaW1lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9zY2FuLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9zZXF1ZW5jZUVxdWFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9zaGFyZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvc2hhcmVSZXBsYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3NpbmdsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvc2tpcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvc2tpcExhc3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3NraXBVbnRpbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvc2tpcFdoaWxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9zdGFydFdpdGguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3N1YnNjcmliZU9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9zd2l0Y2hBbGwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3N3aXRjaE1hcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvc3dpdGNoTWFwVG8uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3Rha2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3Rha2VMYXN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy90YWtlVW50aWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3Rha2VXaGlsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvdGFwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy90aHJvdHRsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvdGhyb3R0bGVUaW1lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy90aHJvd0lmRW1wdHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3RpbWVJbnRlcnZhbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvdGltZW91dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvdGltZW91dFdpdGguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3RpbWVzdGFtcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvdG9BcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvd2luZG93LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy93aW5kb3dDb3VudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvd2luZG93VGltZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvd2luZG93VG9nZ2xlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy93aW5kb3dXaGVuLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy93aXRoTGF0ZXN0RnJvbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvemlwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy96aXBBbGwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlQXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlSXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVQcm9taXNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL0FjdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvQW5pbWF0aW9uRnJhbWVBY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL0FuaW1hdGlvbkZyYW1lU2NoZWR1bGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlci9Bc2FwQWN0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlci9Bc2FwU2NoZWR1bGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlci9Bc3luY0FjdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvQXN5bmNTY2hlZHVsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL1F1ZXVlQWN0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlci9RdWV1ZVNjaGVkdWxlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvVmlydHVhbFRpbWVTY2hlZHVsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL2FuaW1hdGlvbkZyYW1lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlci9hc2FwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlci9hc3luYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvcXVldWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc3ltYm9sL2l0ZXJhdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3N5bWJvbC9vYnNlcnZhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3N5bWJvbC9yeFN1YnNjcmliZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9Bcmd1bWVudE91dE9mUmFuZ2VFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL0VtcHR5RXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9JbW1lZGlhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9PYmplY3RVbnN1YnNjcmliZWRFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL1RpbWVvdXRFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9jYW5SZXBvcnRFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2hvc3RSZXBvcnRFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lkZW50aXR5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNBcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzQXJyYXlMaWtlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNEYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNGdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzSW50ZXJvcE9ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pc0l0ZXJhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNOdW1lcmljLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNPYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pc09ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pc1Byb21pc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pc1NjaGVkdWxlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL25vb3AuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9ub3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9waXBlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvc3Vic2NyaWJlVG8uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9zdWJzY3JpYmVUb0FycmF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvc3Vic2NyaWJlVG9JdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL3N1YnNjcmliZVRvT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL3N1YnNjcmliZVRvUHJvbWlzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL3N1YnNjcmliZVRvUmVzdWx0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvdG9TdWJzY3JpYmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L29wZXJhdG9ycy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc2hhbGxvd2VxdWFsL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V0aWwvbm9kZV9tb2R1bGVzL2luaGVyaXRzL2luaGVyaXRzX2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V0aWwvc3VwcG9ydC9pc0J1ZmZlckJyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V0aWwvdXRpbC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQWE7O0FBRWI7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQSwyQ0FBMkMsbUJBQU8sQ0FBQyw0REFBZTs7QUFFbEUsd0RBQXdELG1CQUFPLENBQUMsb0lBQXdDOztBQUV4RywrQ0FBK0MsbUJBQU8sQ0FBQyxnSEFBOEI7O0FBRXJGLG1EQUFtRCxtQkFBTyxDQUFDLDBIQUFtQzs7QUFFOUYsaURBQWlELG1CQUFPLENBQUMsa0hBQStCOztBQUV4Riw0Q0FBNEMsbUJBQU8sQ0FBQyxnR0FBa0I7O0FBRXRFLHNDQUFzQyx1Q0FBdUMsZ0JBQWdCOztBQUU3RixpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2SiwyQ0FBMkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRTs7QUFFM1QsNkRBQTZELHNFQUFzRSw4REFBOEQsb0JBQW9COztBQUVyTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxlQUFlLE9BQU87QUFDdEIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxzREFBc0Q7O0FBRXREOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixlQUFlLGlCQUFpQjtBQUNo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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsV0FBVyxtQkFBTyxDQUFDLDBDQUFPO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0EsbURBQW1EOztBQUVuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FB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QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0Esc0VBQXNFO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsMERBQTBELGdCQUFnQjtBQUMxRSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0U7QUFDbEU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQSxrQ0FBa0M7QUFDbEMsT0FBTzs7QUFFUDtBQUNBLHdDQUF3QztBQUN4QyxPQUFPOztBQUVQO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwQ0FBMEM7O0FBRTFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSw2QkFBNkI7O0FBRTdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSx3QkFBd0I7O0FBRXhCOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsYUFBYTtBQUMxQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNCQUFzQjtBQUN0Qjs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EscUJBQXFCLG9EQUFvRDtBQUN6RTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVzs7QUFFWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUZBQWlGO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSx1RUFBdUU7QUFDdkU7QUFDQTtBQUNBLEtBQUssRUFBRTtBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsbUJBQW1COztBQUVuQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE1BQU0sb0NBQWE7QUFDbkIsNkJBQTZCLG9DQUFhO0FBQzFDOztBQUVBLE1BQU0sSUFBMEM7QUFDaEQsSUFBSSxpQ0FBTyxFQUFFLG9DQUFFLE9BQU87QUFBQTtBQUFBO0FBQUEsb0dBQUM7QUFDdkIsR0FBRyxNQUFNLEVBR047QUFDSDtBQUNBLENBQUM7Ozs7Ozs7Ozs7Ozs7QUNsekNELHdCQUF3QixtQkFBTyxDQUFDLDBFQUFpQjtBQUNqRCxxQ0FBcUMsbUJBQU8sQ0FBQyxzR0FBK0I7Ozs7Ozs7Ozs7Ozs7QUNEL0Q7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSxLQUFLLElBQTBDO0FBQy9DLEVBQUUsb0NBQU8sT0FBTztBQUFBO0FBQUE7QUFBQTtBQUFBLG9HQUFDO0FBQ2pCO0FBQ0E7QUFDQSxLQUFLLElBQTJCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzQkFBc0I7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQkFBK0IsRUFBRTtBQUNqQzs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtRUFBbUU7QUFDbkU7QUFDQTtBQUNBLHdDQUF3QztBQUN4QztBQUNBLHFFQUFxRTtBQUNyRTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRDtBQUMzRDs7QUFFQSxTQUFTLG9CQUFvQjtBQUM3QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQSwyQkFBMkI7QUFDM0IsQ0FBQzs7Ozs7Ozs7Ozs7OztBQ2xLWTs7QUFFYjtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCxnQ0FBZ0MsMkNBQTJDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQsMkRBQTJELEVBQUUsRUFBRSx5REFBeUQscUVBQXFFLDZEQUE2RCxvQkFBb0IsR0FBRyxFQUFFOztBQUVqakI7O0FBRUEsY0FBYyxtQkFBTyxDQUFDLDhDQUFROztBQUU5Qjs7QUFFQSxzQ0FBc0MsdUNBQXVDLGdCQUFnQjs7QUFFN0YsaURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdko7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBLHdDQUF3QyxZQUFZO0FBQ3BEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLG9DQUFvQyx1QkFBdUIsYUFBYTtBQUN4RTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEM7Ozs7Ozs7Ozs7OztBQ25GYTs7QUFFYjtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCxnQ0FBZ0MsMkNBQTJDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQsMkRBQTJELEVBQUUsRUFBRSx5REFBeUQscUVBQXFFLDZEQUE2RCxvQkFBb0IsR0FBRyxFQUFFOztBQUVqakIsaURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdko7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVELGdDOzs7Ozs7Ozs7Ozs7QUMxQ2E7O0FBRWI7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQSxtQkFBbUIsbUJBQU8sQ0FBQywrRUFBZTs7QUFFMUM7O0FBRUEscUJBQXFCLG1CQUFPLENBQUMsbUZBQWlCOztBQUU5Qzs7QUFFQSxxQkFBcUIsbUJBQU8sQ0FBQyxtRkFBaUI7O0FBRTlDOztBQUVBLHNDQUFzQyx1Q0FBdUMsZ0JBQWdCOztBQUU3Rjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEOzs7Ozs7Ozs7Ozs7QUN6Q2E7O0FBRWI7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQSxxQkFBcUIsbUJBQU8sQ0FBQyxtRkFBaUI7O0FBRTlDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDOzs7Ozs7Ozs7OztBQzVDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7O0FBRXBDO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsRUFBRTtBQUNmO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYSxFQUFFO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxFQUFFO0FBQ2IsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsRUFBRTtBQUNmO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxFQUFFO0FBQ2IsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYSxFQUFFO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxFQUFFO0FBQ2IsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsRUFBRTtBQUNiLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsRUFBRTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixhQUFhLEVBQUU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsU0FBUztBQUNwQixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixXQUFXLEVBQUU7QUFDYixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7Ozs7Ozs7Ozs7Ozs7QUNucUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7O0FBRXBDO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsS0FBMEI7O0FBRTVDO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQzs7QUFFRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsV0FBVyxFQUFFO0FBQ2IsV0FBVyxNQUFNO0FBQ2pCLGFBQWEsRUFBRTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxTQUFTO0FBQ3BCLGFBQWEsTUFBTTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsRUFBRTtBQUNmO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsU0FBUztBQUNwQixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBLEdBQUc7QUFDSCxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLEVBQUU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLEVBQUU7QUFDYixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYSxFQUFFO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLEVBQUU7QUFDYixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsRUFBRTtBQUNmO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsRUFBRTtBQUNiLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsRUFBRTtBQUNmO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsRUFBRTtBQUNiLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxNQUFNLElBQTBDO0FBQ2hELElBQUksb0NBQU8sT0FBTztBQUFBO0FBQUE7QUFBQTtBQUFBLG9HQUFDO0FBQ25CLEdBQUcsTUFBTSxFQUlOO0FBQ0gsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFD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O0FBQ0E7QUFDQTtBQUNBLFdBQVcsY0FBYztBQUN6QixjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsV0FBVyx1QkFBdUI7QUFDbEM7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtB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QUFDcEI7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0EsYUFBYSxpREFBaUQ7QUFDOUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxJQUFJO0FBQ1Q7QUFDQTs7Ozs7Ozs7Ozs7O0FDMUlBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyx1QkFBdUI7QUFDbEMsWUFBWSxhQUFhO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsSUFBSTtBQUNiOzs7Ozs7Ozs7Ozs7O0FDaExBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFB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QUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNvRDtBQUNRO0FBQ047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QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNENBQTRDLEtBQUs7O0FBRWpEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQSxtQ0FBbUMsT0FBTztBQUMxQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOzs7QUFHQTtBQUNBO0FBQ0EseURBQXlEO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIsbUJBQU8sQ0FBQywwRUFBb0I7O0FBRS9DO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQSxtQkFBbUIsbUJBQU8sQ0FBQywrRUFBVTs7QUFFckM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLG1CQUFtQixzQkFBc0I7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsc0JBQXNCO0FBQ3pDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixrQ0FBa0M7QUFDN0QsMkJBQTJCLG1EQUFtRDtBQUM5RTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoidGhlbWUtYnVuZGxlLmNodW5rLjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9vYmplY3RBc3NpZ24gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJvYmplY3QtYXNzaWduXCIpKTtcblxudmFyIF9vZmZzaXRlUGF5bWVudEluaXRpYWxpemVyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vcGF5bWVudC9vZmZzaXRlLXBheW1lbnQtaW5pdGlhbGl6ZXJcIikpO1xuXG52YXIgX3BheW1lbnRTdWJtaXR0ZXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi9wYXltZW50L3BheW1lbnQtc3VibWl0dGVyXCIpKTtcblxudmFyIF9jbGllbnRUb2tlbkdlbmVyYXRvciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uL3BheW1lbnQvY2xpZW50LXRva2VuLWdlbmVyYXRvclwiKSk7XG5cbnZhciBfc3RvcmVSZXF1ZXN0U2VuZGVyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vc3RvcmUvc3RvcmUtcmVxdWVzdC1zZW5kZXJcIikpO1xuXG52YXIgX2RlZmF1bHRDb25maWcgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL2RlZmF1bHQtY29uZmlnXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG52YXIgQ2xpZW50ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgX2NyZWF0ZUNsYXNzKENsaWVudCwgbnVsbCwgW3tcbiAgICBrZXk6IFwiY3JlYXRlXCIsXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gICAgICogQHJldHVybnMge0NsaWVudH1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKGNvbmZpZykge1xuICAgICAgdmFyIGNsaWVudENvbmZpZyA9ICgwLCBfb2JqZWN0QXNzaWduLmRlZmF1bHQpKHt9LCBfZGVmYXVsdENvbmZpZy5kZWZhdWx0LCBjb25maWcpO1xuXG4gICAgICB2YXIgb2Zmc2l0ZVBheW1lbnRJbml0aWFsaXplciA9IF9vZmZzaXRlUGF5bWVudEluaXRpYWxpemVyLmRlZmF1bHQuY3JlYXRlKGNsaWVudENvbmZpZyk7XG5cbiAgICAgIHZhciBwYXltZW50U3VibWl0dGVyID0gX3BheW1lbnRTdWJtaXR0ZXIuZGVmYXVsdC5jcmVhdGUoY2xpZW50Q29uZmlnKTtcblxuICAgICAgdmFyIGNsaWVudFRva2VuR2VuZXJhdG9yID0gX2NsaWVudFRva2VuR2VuZXJhdG9yLmRlZmF1bHQuY3JlYXRlKGNsaWVudENvbmZpZyk7XG5cbiAgICAgIHZhciBzdG9yZVJlcXVlc3RTZW5kZXIgPSBfc3RvcmVSZXF1ZXN0U2VuZGVyLmRlZmF1bHQuY3JlYXRlKGNsaWVudENvbmZpZyk7XG5cbiAgICAgIHJldHVybiBuZXcgQ2xpZW50KGNsaWVudENvbmZpZywgcGF5bWVudFN1Ym1pdHRlciwgb2Zmc2l0ZVBheW1lbnRJbml0aWFsaXplciwgY2xpZW50VG9rZW5HZW5lcmF0b3IsIHN0b3JlUmVxdWVzdFNlbmRlcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAgICAgKiBAcGFyYW0ge1BheW1lbnRTdWJtaXR0ZXJ9IHBheW1lbnRTdWJtaXR0ZXJcbiAgICAgKiBAcGFyYW0ge09mZnNpdGVQYXltZW50SW5pdGlhbGl6ZXJ9IG9mZnNpdGVQYXltZW50SW5pdGlhbGl6ZXJcbiAgICAgKiBAcGFyYW0ge0NsaWVudFRva2VuR2VuZXJhdG9yfSBjbGllbnRUb2tlbkdlbmVyYXRvclxuICAgICAqIEBwYXJhbSB7U3RvcmVSZXF1ZXN0U2VuZGVyfSBzdG9yZVJlcXVlc3RTZW5kZXJcbiAgICAgKi9cblxuICB9XSk7XG5cbiAgZnVuY3Rpb24gQ2xpZW50KGNvbmZpZywgcGF5bWVudFN1Ym1pdHRlciwgb2Zmc2l0ZVBheW1lbnRJbml0aWFsaXplciwgY2xpZW50VG9rZW5HZW5lcmF0b3IsIHN0b3JlUmVxdWVzdFNlbmRlcikge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDbGllbnQpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge1BheW1lbnRTdWJtaXR0ZXJ9XG4gICAgICovXG5cbiAgICB0aGlzLnBheW1lbnRTdWJtaXR0ZXIgPSBwYXltZW50U3VibWl0dGVyO1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge09mZnNpdGVQYXltZW50SW5pdGlhbGl6ZXJ9XG4gICAgICovXG5cbiAgICB0aGlzLm9mZnNpdGVQYXltZW50SW5pdGlhbGl6ZXIgPSBvZmZzaXRlUGF5bWVudEluaXRpYWxpemVyO1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0NsaWVudFRva2VuR2VuZXJhdG9yfVxuICAgICAqL1xuXG4gICAgdGhpcy5jbGllbnRUb2tlbkdlbmVyYXRvciA9IGNsaWVudFRva2VuR2VuZXJhdG9yO1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge1N0b3JlUmVxdWVzdFNlbmRlcn1cbiAgICAgKi9cblxuICAgIHRoaXMuc3RvcmVSZXF1ZXN0U2VuZGVyID0gc3RvcmVSZXF1ZXN0U2VuZGVyO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaG9zdFxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoQ2xpZW50LCBbe1xuICAgIGtleTogXCJzZXRIb3N0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldEhvc3QoaG9zdCkge1xuICAgICAgdGhpcy5jb25maWcuaG9zdCA9IGhvc3Q7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UGF5bWVudFJlcXVlc3REYXRhfSBkYXRhXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YXJnZXRcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImluaXRpYWxpemVPZmZzaXRlUGF5bWVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0aWFsaXplT2Zmc2l0ZVBheW1lbnQoZGF0YSwgY2FsbGJhY2ssIHRhcmdldCkge1xuICAgICAgdGhpcy5vZmZzaXRlUGF5bWVudEluaXRpYWxpemVyLmluaXRpYWxpemVPZmZzaXRlUGF5bWVudChkYXRhLCBjYWxsYmFjaywgdGFyZ2V0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQYXltZW50UmVxdWVzdERhdGF9IGRhdGFcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdXG4gICAgICogQHJldHVybnMge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzdWJtaXRQYXltZW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN1Ym1pdFBheW1lbnQoZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgIHRoaXMucGF5bWVudFN1Ym1pdHRlci5zdWJtaXRQYXltZW50KGRhdGEsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQYXltZW50UmVxdWVzdERhdGF9IGRhdGFcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdXG4gICAgICogQHJldHVybnMge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZW5lcmF0ZUNsaWVudFRva2VuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdlbmVyYXRlQ2xpZW50VG9rZW4oZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuY2xpZW50VG9rZW5HZW5lcmF0b3IuZ2VuZXJhdGVDbGllbnRUb2tlbihkYXRhLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGEuc3RvcmVJZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhLmN1c3RvbWVySWRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0YS5jdXJyZW5jeUNvZGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImxvYWRJbnN0cnVtZW50c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBsb2FkSW5zdHJ1bWVudHMoZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuc3RvcmVSZXF1ZXN0U2VuZGVyLmxvYWRJbnN0cnVtZW50cyhkYXRhLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGEuc3RvcmVJZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhLmN1c3RvbWVySWRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0YS5jdXJyZW5jeUNvZGVcbiAgICAgKiBAcGFyYW0ge0FkZHJlc3NEYXRhfSBkYXRhLnNoaXBwaW5nQWRkcmVzc1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja11cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibG9hZEluc3RydW1lbnRzV2l0aEFkZHJlc3NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbG9hZEluc3RydW1lbnRzV2l0aEFkZHJlc3MoZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuc3RvcmVSZXF1ZXN0U2VuZGVyLmxvYWRJbnN0cnVtZW50c1dpdGhBZGRyZXNzKGRhdGEsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0YS5zdG9yZUlkXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGEuY3VzdG9tZXJJZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhLmluc3RydW1lbnRJZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhLmN1cnJlbmN5Q29kZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja11cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZGVsZXRlU2hvcHBlckluc3RydW1lbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVsZXRlU2hvcHBlckluc3RydW1lbnQoZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuc3RvcmVSZXF1ZXN0U2VuZGVyLmRlbGV0ZVNob3BwZXJJbnN0cnVtZW50KGRhdGEsIGNhbGxiYWNrKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ2xpZW50O1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBDbGllbnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jbGllbnQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG52YXIgREVGQVVMVF9DT05GSUcgPSB7XG4gIGhvc3Q6ICcnXG59O1xudmFyIF9kZWZhdWx0ID0gREVGQVVMVF9DT05GSUc7XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlZmF1bHQtY29uZmlnLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5BUFBMSUNBVElPTl9KU09OID0gdm9pZCAwO1xudmFyIEFQUExJQ0FUSU9OX0pTT04gPSAnYXBwbGljYXRpb24vanNvbic7XG5leHBvcnRzLkFQUExJQ0FUSU9OX0pTT04gPSBBUFBMSUNBVElPTl9KU09OO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29udGVudC10eXBlcy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9jb250ZW50VHlwZXMgPSByZXF1aXJlKFwiLi9jb250ZW50LXR5cGVzXCIpO1xuXG52YXIgX21ldGhvZFR5cGVzID0gcmVxdWlyZShcIi4vbWV0aG9kLXR5cGVzXCIpO1xuXG52YXIgREVGQVVMVF9PUFRJT05TID0ge1xuICBoZWFkZXJzOiB7XG4gICAgQWNjZXB0OiBfY29udGVudFR5cGVzLkFQUExJQ0FUSU9OX0pTT04sXG4gICAgJ0NvbnRlbnQtVHlwZSc6IF9jb250ZW50VHlwZXMuQVBQTElDQVRJT05fSlNPTlxuICB9LFxuICBtZXRob2Q6IF9tZXRob2RUeXBlcy5HRVRcbn07XG52YXIgX2RlZmF1bHQgPSBERUZBVUxUX09QVElPTlM7XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlZmF1bHQtb3B0aW9ucy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuREVMRVRFID0gZXhwb3J0cy5QT1NUID0gZXhwb3J0cy5HRVQgPSB2b2lkIDA7XG52YXIgR0VUID0gJ0dFVCc7XG5leHBvcnRzLkdFVCA9IEdFVDtcbnZhciBQT1NUID0gJ1BPU1QnO1xuZXhwb3J0cy5QT1NUID0gUE9TVDtcbnZhciBERUxFVEUgPSAnREVMRVRFJztcbmV4cG9ydHMuREVMRVRFID0gREVMRVRFO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWV0aG9kLXR5cGVzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX29iamVjdEFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJvYmplY3QtYXNzaWduXCIpKTtcblxudmFyIF9jb250ZW50VHlwZXMgPSByZXF1aXJlKFwiLi9jb250ZW50LXR5cGVzXCIpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4uL3V0aWxzXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbnZhciBQYXlsb2FkVHJhbnNmb3JtZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBQYXlsb2FkVHJhbnNmb3JtZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBheWxvYWRUcmFuc2Zvcm1lcik7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUGF5bG9hZFRyYW5zZm9ybWVyLCBbe1xuICAgIGtleTogXCJ0b1JlcXVlc3RcIixcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjb250ZW50VHlwZSA9IEFQUExJQ0FUSU9OX0pTT05dXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9SZXF1ZXN0KGRhdGEpIHtcbiAgICAgIHZhciBjb250ZW50VHlwZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogX2NvbnRlbnRUeXBlcy5BUFBMSUNBVElPTl9KU09OO1xuXG4gICAgICBpZiAoZGF0YSAmJiAoMCwgX3V0aWxzLmluY2x1ZGVzKShjb250ZW50VHlwZSwgX2NvbnRlbnRUeXBlcy5BUFBMSUNBVElPTl9KU09OKSkge1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1hNTEh0dHBSZXF1ZXN0fSB4aHJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHN0YXR1c1xuICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBzdGF0dXNUZXh0XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJmcm9tUmVzcG9uc2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZnJvbVJlc3BvbnNlKHhocikge1xuICAgICAgdmFyIGhlYWRlcnMgPSB0aGlzLnBhcnNlUmVzcG9uc2VIZWFkZXJzKHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSk7XG4gICAgICB2YXIgY29udGVudFR5cGUgPSB4aHIuZ2V0UmVzcG9uc2VIZWFkZXIoJ0NvbnRlbnQtVHlwZScpO1xuICAgICAgdmFyIHN0YXR1cyA9IHhoci5zdGF0dXMsXG4gICAgICAgICAgc3RhdHVzVGV4dCA9IHhoci5zdGF0dXNUZXh0O1xuICAgICAgdmFyIGRhdGEgPSAncmVzcG9uc2UnIGluIHhociA/IHhoci5yZXNwb25zZSA6IHhoci5yZXNwb25zZVRleHQ7XG5cbiAgICAgIGlmIChkYXRhICYmICgwLCBfdXRpbHMuaW5jbHVkZXMpKGNvbnRlbnRUeXBlLCBfY29udGVudFR5cGVzLkFQUExJQ0FUSU9OX0pTT04pKSB7XG4gICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICBzdGF0dXM6IHN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogc3RhdHVzVGV4dFxuICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmF3SGVhZGVyc1xuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJwYXJzZVJlc3BvbnNlSGVhZGVyc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwYXJzZVJlc3BvbnNlSGVhZGVycyhyYXdIZWFkZXJzKSB7XG4gICAgICB2YXIgbGluZXMgPSByYXdIZWFkZXJzID8gcmF3SGVhZGVycy5yZXBsYWNlKC9cXHI/XFxuW1xcdCBdKy9nLCAnICcpLnNwbGl0KC9cXHI/XFxuLykgOiBbXTtcbiAgICAgIHJldHVybiBsaW5lcy5yZWR1Y2UoZnVuY3Rpb24gKGhlYWRlcnMsIGxpbmUpIHtcbiAgICAgICAgdmFyIHBhcnRzID0gbGluZS5zcGxpdCgnOicpO1xuICAgICAgICB2YXIga2V5ID0gKHBhcnRzLnNoaWZ0KCkgfHwgJycpLnRyaW0oKTtcblxuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgIHJldHVybiBoZWFkZXJzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICgwLCBfb2JqZWN0QXNzaWduMi5kZWZhdWx0KSh7fSwgaGVhZGVycywgX2RlZmluZVByb3BlcnR5KHt9LCBrZXkudG9Mb3dlckNhc2UoKSwgcGFydHMuam9pbignOicpLnRyaW0oKSkpO1xuICAgICAgfSwge30pO1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiBcImNyZWF0ZVwiLFxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge1BheWxvYWRUcmFuc2Zvcm1lcn1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgICAgcmV0dXJuIG5ldyBQYXlsb2FkVHJhbnNmb3JtZXIoKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUGF5bG9hZFRyYW5zZm9ybWVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBQYXlsb2FkVHJhbnNmb3JtZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXlsb2FkLXRyYW5zZm9ybWVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbnZhciBSZXF1ZXN0RmFjdG9yeSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFJlcXVlc3RGYWN0b3J5KCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSZXF1ZXN0RmFjdG9yeSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUmVxdWVzdEZhY3RvcnksIFt7XG4gICAga2V5OiBcImNyZWF0ZVJlcXVlc3RcIixcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja11cbiAgICAgKiBAcmV0dXJucyB7WE1MSHR0cFJlcXVlc3R9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVJlcXVlc3QodXJsLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKHhoci5zdGF0dXNUZXh0KSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHhoci5vcGVuKG9wdGlvbnMubWV0aG9kLCB1cmwsIHRydWUpO1xuICAgICAgdGhpcy5zZXRPcHRpb25zKHhociwgb3B0aW9ucyk7XG4gICAgICByZXR1cm4geGhyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3R9IHhoclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBoZWFkZXJzXG4gICAgICogQHJldHVybnMge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzZXRIZWFkZXJzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldEhlYWRlcnMoeGhyLCBoZWFkZXJzKSB7XG4gICAgICB2YXIgaGVhZGVyS2V5cyA9IE9iamVjdC5rZXlzKGhlYWRlcnMpO1xuICAgICAgaGVhZGVyS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gaGVhZGVyc1trZXldO1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIHZhbHVlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3R9IHhoclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHJldHVybnMge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzZXRPcHRpb25zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldE9wdGlvbnMoeGhyLCBvcHRpb25zKSB7XG4gICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gb3B0aW9ucy53aXRoQ3JlZGVudGlhbHM7XG5cbiAgICAgIGlmIChvcHRpb25zLmhlYWRlcnMpIHtcbiAgICAgICAgdGhpcy5zZXRIZWFkZXJzKHhociwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogXCJjcmVhdGVcIixcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtSZXF1ZXN0RmFjdG9yeX1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgICAgcmV0dXJuIG5ldyBSZXF1ZXN0RmFjdG9yeSgpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBSZXF1ZXN0RmFjdG9yeTtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUmVxdWVzdEZhY3Rvcnk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXF1ZXN0LWZhY3RvcnkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfZGVlcEFzc2lnbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcImRlZXAtYXNzaWduXCIpKTtcblxudmFyIF9vYmplY3RBc3NpZ24gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJvYmplY3QtYXNzaWduXCIpKTtcblxudmFyIF9tZXRob2RUeXBlcyA9IHJlcXVpcmUoXCIuL21ldGhvZC10eXBlc1wiKTtcblxudmFyIF9kZWZhdWx0T3B0aW9ucyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vZGVmYXVsdC1vcHRpb25zXCIpKTtcblxudmFyIF9wYXlsb2FkVHJhbnNmb3JtZXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3BheWxvYWQtdHJhbnNmb3JtZXJcIikpO1xuXG52YXIgX3JlcXVlc3RGYWN0b3J5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9yZXF1ZXN0LWZhY3RvcnlcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbnZhciBSZXF1ZXN0U2VuZGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgX2NyZWF0ZUNsYXNzKFJlcXVlc3RTZW5kZXIsIG51bGwsIFt7XG4gICAga2V5OiBcImNyZWF0ZVwiLFxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge1JlcXVlc3RTZW5kZXJ9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICAgIHZhciByZXF1ZXN0RmFjdG9yeSA9IF9yZXF1ZXN0RmFjdG9yeS5kZWZhdWx0LmNyZWF0ZSgpO1xuXG4gICAgICB2YXIgcGF5bG9hZFRyYW5zZm9ybWVyID0gX3BheWxvYWRUcmFuc2Zvcm1lci5kZWZhdWx0LmNyZWF0ZSgpO1xuXG4gICAgICByZXR1cm4gbmV3IFJlcXVlc3RTZW5kZXIocmVxdWVzdEZhY3RvcnksIHBheWxvYWRUcmFuc2Zvcm1lcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UmVxdWVzdEZhY3Rvcnl9IHJlcXVlc3RGYWN0b3J5XG4gICAgICogQHBhcmFtIHtQYXlsb2FkVHJhbnNmb3JtZXJ9IHBheWxvYWRUcmFuc2Zvcm1lclxuICAgICAqL1xuXG4gIH1dKTtcblxuICBmdW5jdGlvbiBSZXF1ZXN0U2VuZGVyKHJlcXVlc3RGYWN0b3J5LCBwYXlsb2FkVHJhbnNmb3JtZXIpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVxdWVzdFNlbmRlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtSZXF1ZXN0RmFjdG9yeX1cbiAgICAgKi9cbiAgICB0aGlzLnJlcXVlc3RGYWN0b3J5ID0gcmVxdWVzdEZhY3Rvcnk7XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7UGF5bG9hZFRyYW5zZm9ybWVyfVxuICAgICAqL1xuXG4gICAgdGhpcy5wYXlsb2FkVHJhbnNmb3JtZXIgPSBwYXlsb2FkVHJhbnNmb3JtZXI7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhSZXF1ZXN0U2VuZGVyLCBbe1xuICAgIGtleTogXCJzZW5kUmVxdWVzdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZW5kUmVxdWVzdCh1cmwsIGRhdGEsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgbWVyZ2VkT3B0aW9ucyA9ICgwLCBfZGVlcEFzc2lnbi5kZWZhdWx0KSh7fSwgX2RlZmF1bHRPcHRpb25zLmRlZmF1bHQsIG9wdGlvbnMpO1xuICAgICAgdmFyIHhociA9IHRoaXMucmVxdWVzdEZhY3RvcnkuY3JlYXRlUmVxdWVzdCh1cmwsIG1lcmdlZE9wdGlvbnMsIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICB2YXIgcmVzcG9uc2UgPSBfdGhpcy5wYXlsb2FkVHJhbnNmb3JtZXIuZnJvbVJlc3BvbnNlKHhocik7XG5cbiAgICAgICAgaWYgKCFjYWxsYmFjaykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlcnJvciB8fCAhX3RoaXMuaXNTdWNjZXNzZnVsUmVxdWVzdCh4aHIpKSB7XG4gICAgICAgICAgY2FsbGJhY2socmVzcG9uc2UpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3BvbnNlKTtcbiAgICAgIH0pO1xuICAgICAgdmFyIHBheWxvYWQgPSB0aGlzLnBheWxvYWRUcmFuc2Zvcm1lci50b1JlcXVlc3QoZGF0YSwgbWVyZ2VkT3B0aW9ucy5oZWFkZXJzWydDb250ZW50LVR5cGUnXSk7XG4gICAgICB4aHIuc2VuZChwYXlsb2FkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja11cbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInBvc3RSZXF1ZXN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBvc3RSZXF1ZXN0KHVybCwgZGF0YSwgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICAgIHZhciBtZXJnZWRPcHRpb25zID0gKDAsIF9vYmplY3RBc3NpZ24uZGVmYXVsdCkoe30sIG9wdGlvbnMsIHtcbiAgICAgICAgbWV0aG9kOiBfbWV0aG9kVHlwZXMuUE9TVFxuICAgICAgfSk7XG4gICAgICB0aGlzLnNlbmRSZXF1ZXN0KHVybCwgZGF0YSwgbWVyZ2VkT3B0aW9ucywgY2FsbGJhY2spO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3R9IHhoclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiaXNTdWNjZXNzZnVsUmVxdWVzdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc1N1Y2Nlc3NmdWxSZXF1ZXN0KHhocikge1xuICAgICAgcmV0dXJuIHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPCAzMDA7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFJlcXVlc3RTZW5kZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFJlcXVlc3RTZW5kZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXF1ZXN0LXNlbmRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGluY2x1ZGVzO1xuXG4vKipcbiAqIEBwYXJhbSB7YXJyYXl8c3RyaW5nfSBpdGVtc1xuICogQHBhcmFtIHthcnJheXxzdHJpbmd9IGl0ZW1cbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpbmNsdWRlcyhpdGVtcywgaXRlbSkge1xuICBpZiAoIUFycmF5LmlzQXJyYXkoaXRlbXMpICYmIHR5cGVvZiBpdGVtcyAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gaXRlbXMuaW5kZXhPZihpdGVtKSAhPT0gLTE7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmNsdWRlcy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImluY2x1ZGVzXCIsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbmNsdWRlcy5kZWZhdWx0O1xuICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImlzTmlsXCIsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pc05pbC5kZWZhdWx0O1xuICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImlzT2JqZWN0XCIsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pc09iamVjdC5kZWZhdWx0O1xuICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIm9taXRFbXB0eVN0cmluZ0FuZE5pbFwiLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfb21pdEVtcHR5c3RyaW5nQW5kTmlsLmRlZmF1bHQ7XG4gIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwib21pdE5pbFwiLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfb21pdE5pbC5kZWZhdWx0O1xuICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIm9taXRQcm9wZXJ0eVwiLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfb21pdFByb3BlcnR5LmRlZmF1bHQ7XG4gIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwidG9OdW1iZXJcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX3RvTnVtYmVyLmRlZmF1bHQ7XG4gIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwidG9TbmFrZUNhc2VcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX3RvU25ha2VDYXNlLmRlZmF1bHQ7XG4gIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwidG9TdHJpbmdcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX3RvU3RyaW5nLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2luY2x1ZGVzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9pbmNsdWRlc1wiKSk7XG5cbnZhciBfaXNOaWwgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL2lzLW5pbFwiKSk7XG5cbnZhciBfaXNPYmplY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL2lzLW9iamVjdFwiKSk7XG5cbnZhciBfb21pdEVtcHR5c3RyaW5nQW5kTmlsID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9vbWl0LWVtcHR5c3RyaW5nLWFuZC1uaWxcIikpO1xuXG52YXIgX29taXROaWwgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL29taXQtbmlsXCIpKTtcblxudmFyIF9vbWl0UHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL29taXQtcHJvcGVydHlcIikpO1xuXG52YXIgX3RvTnVtYmVyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi90by1udW1iZXJcIikpO1xuXG52YXIgX3RvU25ha2VDYXNlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi90by1zbmFrZS1jYXNlXCIpKTtcblxudmFyIF90b1N0cmluZyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vdG8tc3RyaW5nXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gaXNFbXB0eVN0cmluZztcblxuLyoqXG4gKiBAcGFyYW0geyp9IHZhbHVlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNFbXB0eVN0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT09ICcnO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXMtZW1wdHktc3RyaW5nLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gaXNFbXB0eVN0cmluZ09yTmlsO1xuXG52YXIgX2lzRW1wdHlTdHJpbmcgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL2lzLWVtcHR5LXN0cmluZ1wiKSk7XG5cbnZhciBfaXNOaWwgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL2lzLW5pbFwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogQHBhcmFtIHsqfSB2YWx1ZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzRW1wdHlTdHJpbmdPck5pbCh2YWx1ZSkge1xuICByZXR1cm4gKDAsIF9pc0VtcHR5U3RyaW5nLmRlZmF1bHQpKHZhbHVlKSB8fCAoMCwgX2lzTmlsLmRlZmF1bHQpKHZhbHVlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzLWVtcHR5c3RyaW5nLW9yLW5pbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGlzTmlsO1xuXG4vKipcbiAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc05pbCh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXMtbmlsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gaXNPYmplY3Q7XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuLyoqXG4gKiBAcGFyYW0geyp9IHZhbHVlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIF90eXBlb2YodmFsdWUpID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pcy1vYmplY3QuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBvbWl0RW1wdHlTdHJpbmdBbmROaWw7XG5cbnZhciBfaXNFbXB0eXN0cmluZ09yTmlsID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9pcy1lbXB0eXN0cmluZy1vci1uaWxcIikpO1xuXG52YXIgX29taXRQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vb21pdC1wcm9wZXJ0eVwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gb21pdEVtcHR5U3RyaW5nQW5kTmlsKG9iamVjdCkge1xuICByZXR1cm4gKDAsIF9vbWl0UHJvcGVydHkuZGVmYXVsdCkob2JqZWN0LCBfaXNFbXB0eXN0cmluZ09yTmlsLmRlZmF1bHQpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b21pdC1lbXB0eXN0cmluZy1hbmQtbmlsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gb21pdE5pbDtcblxudmFyIF9pc05pbCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vaXMtbmlsXCIpKTtcblxudmFyIF9vbWl0UHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL29taXQtcHJvcGVydHlcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKipcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIG9taXROaWwob2JqZWN0KSB7XG4gIHJldHVybiAoMCwgX29taXRQcm9wZXJ0eS5kZWZhdWx0KShvYmplY3QsIF9pc05pbC5kZWZhdWx0KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9taXQtbmlsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gb21pdFByb3BlcnR5O1xuXG52YXIgX2lzT2JqZWN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9pcy1vYmplY3RcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKipcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZUZuXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBvbWl0UHJvcGVydHkob2JqZWN0LCBwcmVkaWNhdGVGbikge1xuICBpZiAoISgwLCBfaXNPYmplY3QuZGVmYXVsdCkob2JqZWN0KSkge1xuICAgIHJldHVybiBvYmplY3Q7XG4gIH1cblxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7XG4gIHJldHVybiBrZXlzLnJlZHVjZShmdW5jdGlvbiAocmVzdWx0LCBrZXkpIHtcbiAgICB2YXIgdmFsdWUgPSBvYmplY3Rba2V5XTtcblxuICAgIGlmICghcHJlZGljYXRlRm4odmFsdWUpKSB7XG4gICAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sIHt9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9taXQtcHJvcGVydHkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB0b051bWJlcjtcblxuLyoqXG4gKiBAcGFyYW0geyp9IHZhbHVlXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5mdW5jdGlvbiB0b051bWJlcih2YWx1ZSkge1xuICByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZSkgfHwgMDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRvLW51bWJlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHRvU25ha2VDYXNlO1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmdcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIHRvU25ha2VDYXNlKHN0cmluZykge1xuICBpZiAodHlwZW9mIHN0cmluZyAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gc3RyaW5nO1xuICB9XG5cbiAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC8oW2EtelxcZF0pKFtBLVpdKykvZywgJyQxXyQyJykucmVwbGFjZSgvWy1cXHNdKy9nLCAnXycpLnRvTG93ZXJDYXNlKCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10by1zbmFrZS1jYXNlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdG9TdHJpbmc7XG5cbi8qKlxuICogQHBhcmFtIHsqfSB2YWx1ZVxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gdG9TdHJpbmcodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiAhTnVtYmVyLmlzTmFOKHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xuICB9XG5cbiAgcmV0dXJuICcnO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dG8tc3RyaW5nLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5jcmVhdGVDbGllbnQgPSBjcmVhdGVDbGllbnQ7XG5cbnZhciBfY2xpZW50ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9jbGllbnQvY2xpZW50XCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZ11cbiAqIEByZXR1cm5zIHtDbGllbnR9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUNsaWVudChjb25maWcpIHtcbiAgcmV0dXJuIF9jbGllbnQuZGVmYXVsdC5jcmVhdGUoY29uZmlnKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3JlcXVlc3RTZW5kZXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi9jb21tb24vaHR0cC1yZXF1ZXN0L3JlcXVlc3Qtc2VuZGVyXCIpKTtcblxudmFyIF9jbGllbnRUb2tlbk1hcHBlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vdjIvcGF5bWVudC1tYXBwZXJzL2NsaWVudC10b2tlbi1tYXBwZXJcIikpO1xuXG52YXIgX3VybEhlbHBlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vdXJsLWhlbHBlclwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxudmFyIENsaWVudFRva2VuR2VuZXJhdG9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgX2NyZWF0ZUNsYXNzKENsaWVudFRva2VuR2VuZXJhdG9yLCBudWxsLCBbe1xuICAgIGtleTogXCJjcmVhdGVcIixcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAgICAgKiBAcmV0dXJucyB7UGF5bWVudFN1Ym1pdHRlcn1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKGNvbmZpZykge1xuICAgICAgdmFyIHVybEhlbHBlciA9IF91cmxIZWxwZXIuZGVmYXVsdC5jcmVhdGUoY29uZmlnKTtcblxuICAgICAgdmFyIHJlcXVlc3RTZW5kZXIgPSBfcmVxdWVzdFNlbmRlci5kZWZhdWx0LmNyZWF0ZSgpO1xuXG4gICAgICB2YXIgY2xpZW50VG9rZW5NYXBwZXIgPSBfY2xpZW50VG9rZW5NYXBwZXIuZGVmYXVsdC5jcmVhdGUoKTtcblxuICAgICAgcmV0dXJuIG5ldyBDbGllbnRUb2tlbkdlbmVyYXRvcih1cmxIZWxwZXIsIHJlcXVlc3RTZW5kZXIsIGNsaWVudFRva2VuTWFwcGVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtVcmxIZWxwZXJ9IHVybEhlbHBlclxuICAgICAqIEBwYXJhbSB7UmVxdWVzdFNlbmRlcn0gcmVxdWVzdFNlbmRlclxuICAgICAqIEBwYXJhbSB7Q2xpZW50VG9rZW5NYXBwZXJ9IGNsaWVudFRva2VuTWFwcGVyXG4gICAgICogQHJldHVybnMge3ZvaWR9XG4gICAgICovXG5cbiAgfV0pO1xuXG4gIGZ1bmN0aW9uIENsaWVudFRva2VuR2VuZXJhdG9yKHVybEhlbHBlciwgcmVxdWVzdFNlbmRlciwgY2xpZW50VG9rZW5NYXBwZXIpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2xpZW50VG9rZW5HZW5lcmF0b3IpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7VXJsSGVscGVyfVxuICAgICAqL1xuICAgIHRoaXMudXJsSGVscGVyID0gdXJsSGVscGVyO1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge1JlcXVlc3RTZW5kZXJ9XG4gICAgICovXG5cbiAgICB0aGlzLnJlcXVlc3RTZW5kZXIgPSByZXF1ZXN0U2VuZGVyO1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0NsaWVudFRva2VuTWFwcGVyfVxuICAgICAqL1xuXG4gICAgdGhpcy5jbGllbnRUb2tlbk1hcHBlciA9IGNsaWVudFRva2VuTWFwcGVyO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge1BheW1lbnRSZXF1ZXN0RGF0YX0gZGF0YVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhDbGllbnRUb2tlbkdlbmVyYXRvciwgW3tcbiAgICBrZXk6IFwiZ2VuZXJhdGVDbGllbnRUb2tlblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZW5lcmF0ZUNsaWVudFRva2VuKGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgdXJsID0gdGhpcy51cmxIZWxwZXIuZ2V0R2VuZXJhdGVDbGllbnRUb2tlblVybCgpO1xuICAgICAgdmFyIHBheWxvYWQgPSB0aGlzLmNsaWVudFRva2VuTWFwcGVyLm1hcFRvQ2xpZW50VG9rZW4oZGF0YSk7XG4gICAgICB0aGlzLnJlcXVlc3RTZW5kZXIucG9zdFJlcXVlc3QodXJsLCBwYXlsb2FkLCB7fSwgY2FsbGJhY2spO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDbGllbnRUb2tlbkdlbmVyYXRvcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQ2xpZW50VG9rZW5HZW5lcmF0b3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jbGllbnQtdG9rZW4tZ2VuZXJhdG9yLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX2Zvcm1Qb3N0ZXIgPSByZXF1aXJlKFwiQGJpZ2NvbW1lcmNlL2Zvcm0tcG9zdGVyXCIpO1xuXG52YXIgX3BheW1lbnRUeXBlcyA9IHJlcXVpcmUoXCIuL3BheW1lbnQtdHlwZXNcIik7XG5cbnZhciBfcGF5bG9hZE1hcHBlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vb2Zmc2l0ZS1wYXltZW50LW1hcHBlcnMvcGF5bG9hZC1tYXBwZXJcIikpO1xuXG52YXIgX3VybEhlbHBlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vdXJsLWhlbHBlclwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxudmFyIE9mZnNpdGVQYXltZW50SW5pdGlhbGl6ZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBfY3JlYXRlQ2xhc3MoT2Zmc2l0ZVBheW1lbnRJbml0aWFsaXplciwgbnVsbCwgW3tcbiAgICBrZXk6IFwiY3JlYXRlXCIsXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gICAgICogQHJldHVybnMge09mZnNpdGVQYXltZW50SW5pdGlhbGl6ZXJ9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZShjb25maWcpIHtcbiAgICAgIHZhciB1cmxIZWxwZXIgPSBfdXJsSGVscGVyLmRlZmF1bHQuY3JlYXRlKGNvbmZpZyk7XG5cbiAgICAgIHZhciBmb3JtUG9zdGVyID0gKDAsIF9mb3JtUG9zdGVyLmNyZWF0ZUZvcm1Qb3N0ZXIpKCk7XG5cbiAgICAgIHZhciBwYXlsb2FkTWFwcGVyID0gX3BheWxvYWRNYXBwZXIuZGVmYXVsdC5jcmVhdGUoKTtcblxuICAgICAgcmV0dXJuIG5ldyBPZmZzaXRlUGF5bWVudEluaXRpYWxpemVyKHVybEhlbHBlciwgZm9ybVBvc3RlciwgcGF5bG9hZE1hcHBlcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7VXJsSGVscGVyfSB1cmxIZWxwZXJcbiAgICAgKiBAcGFyYW0ge0Zvcm1Qb3N0ZXJ9IGZvcm1Qb3N0ZXJcbiAgICAgKiBAcGFyYW0ge1BheWxvYWRNYXBwZXJ9IHBheWxvYWRNYXBwZXJcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKi9cblxuICB9XSk7XG5cbiAgZnVuY3Rpb24gT2Zmc2l0ZVBheW1lbnRJbml0aWFsaXplcih1cmxIZWxwZXIsIGZvcm1Qb3N0ZXIsIHBheWxvYWRNYXBwZXIpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgT2Zmc2l0ZVBheW1lbnRJbml0aWFsaXplcik7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtVcmxIZWxwZXJ9XG4gICAgICovXG4gICAgdGhpcy51cmxIZWxwZXIgPSB1cmxIZWxwZXI7XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Rm9ybVBvc3Rlcn1cbiAgICAgKi9cblxuICAgIHRoaXMuZm9ybVBvc3RlciA9IGZvcm1Qb3N0ZXI7XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7UGF5bG9hZE1hcHBlcn1cbiAgICAgKi9cblxuICAgIHRoaXMucGF5bG9hZE1hcHBlciA9IHBheWxvYWRNYXBwZXI7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7UGF5bWVudFJlcXVlc3REYXRhfSBkYXRhXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja11cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRhcmdldFxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICogQHRocm93cyB7RXJyb3J9XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKE9mZnNpdGVQYXltZW50SW5pdGlhbGl6ZXIsIFt7XG4gICAga2V5OiBcImluaXRpYWxpemVPZmZzaXRlUGF5bWVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0aWFsaXplT2Zmc2l0ZVBheW1lbnQoZGF0YSwgY2FsbGJhY2ssIHRhcmdldCkge1xuICAgICAgdmFyIF9kYXRhJHBheW1lbnRNZXRob2QgPSBkYXRhLnBheW1lbnRNZXRob2QsXG4gICAgICAgICAgcGF5bWVudE1ldGhvZCA9IF9kYXRhJHBheW1lbnRNZXRob2QgPT09IHZvaWQgMCA/IHt9IDogX2RhdGEkcGF5bWVudE1ldGhvZDtcblxuICAgICAgaWYgKHBheW1lbnRNZXRob2QudHlwZSAhPT0gX3BheW1lbnRUeXBlcy5IT1NURUQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiXCIuY29uY2F0KHBheW1lbnRNZXRob2QudHlwZSwgXCIgaXMgbm90IHN1cHBvcnRlZC5cIikpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcGF5bG9hZCA9IHRoaXMucGF5bG9hZE1hcHBlci5tYXBUb1BheWxvYWQoZGF0YSk7XG4gICAgICB2YXIgdXJsID0gdGhpcy51cmxIZWxwZXIuZ2V0T2Zmc2l0ZVBheW1lbnRVcmwoKTtcbiAgICAgIHRoaXMuZm9ybVBvc3Rlci5wb3N0Rm9ybSh1cmwsIHBheWxvYWQsIGNhbGxiYWNrLCB0YXJnZXQpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBPZmZzaXRlUGF5bWVudEluaXRpYWxpemVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBPZmZzaXRlUGF5bWVudEluaXRpYWxpemVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2Zmc2l0ZS1wYXltZW50LWluaXRpYWxpemVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4uLy4uL2NvbW1vbi91dGlsc1wiKTtcblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG52YXIgQWRkcmVzc01hcHBlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEFkZHJlc3NNYXBwZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFkZHJlc3NNYXBwZXIpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEFkZHJlc3NNYXBwZXIsIFt7XG4gICAga2V5OiBcIm1hcFRvQmlsbGluZ0FkZHJlc3NcIixcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UGF5bWVudFJlcXVlc3REYXRhfSBkYXRhXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gbWFwVG9CaWxsaW5nQWRkcmVzcyhkYXRhKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYXBUb0FkZHJlc3MoZGF0YSwgJ2JpbGxpbmdBZGRyZXNzJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UGF5bWVudFJlcXVlc3REYXRhfSBkYXRhXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm1hcFRvU2hpcHBpbmdBZGRyZXNzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1hcFRvU2hpcHBpbmdBZGRyZXNzKGRhdGEpIHtcbiAgICAgIHJldHVybiB0aGlzLm1hcFRvQWRkcmVzcyhkYXRhLCAnc2hpcHBpbmdBZGRyZXNzJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQYXltZW50UmVxdWVzdERhdGF9IGRhdGFcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYWRkcmVzc0tleVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJtYXBUb0FkZHJlc3NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWFwVG9BZGRyZXNzKGRhdGEsIGFkZHJlc3NLZXkpIHtcbiAgICAgIHZhciBfb21pdE5pbDtcblxuICAgICAgdmFyIGFkZHJlc3MgPSBkYXRhW2FkZHJlc3NLZXldIHx8IHt9O1xuICAgICAgdmFyIGZvcm1hdHRlZEFkZHJlc3NLZXkgPSAoMCwgX3V0aWxzLnRvU25ha2VDYXNlKShhZGRyZXNzS2V5KTtcbiAgICAgIHJldHVybiAoMCwgX3V0aWxzLm9taXROaWwpKChfb21pdE5pbCA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX29taXROaWwsIFwiXCIuY29uY2F0KGZvcm1hdHRlZEFkZHJlc3NLZXksIFwiX2NpdHlcIiksIGFkZHJlc3MuY2l0eSksIF9kZWZpbmVQcm9wZXJ0eShfb21pdE5pbCwgXCJcIi5jb25jYXQoZm9ybWF0dGVkQWRkcmVzc0tleSwgXCJfY29tcGFueVwiKSwgYWRkcmVzcy5jb21wYW55KSwgX2RlZmluZVByb3BlcnR5KF9vbWl0TmlsLCBcIlwiLmNvbmNhdChmb3JtYXR0ZWRBZGRyZXNzS2V5LCBcIl9jb3VudHJ5X2NvZGVcIiksIGFkZHJlc3MuY291bnRyeUNvZGUpLCBfZGVmaW5lUHJvcGVydHkoX29taXROaWwsIFwiXCIuY29uY2F0KGZvcm1hdHRlZEFkZHJlc3NLZXksIFwiX2NvdW50cnlcIiksIGFkZHJlc3MuY291bnRyeSksIF9kZWZpbmVQcm9wZXJ0eShfb21pdE5pbCwgXCJcIi5jb25jYXQoZm9ybWF0dGVkQWRkcmVzc0tleSwgXCJfZmlyc3RfbmFtZVwiKSwgYWRkcmVzcy5maXJzdE5hbWUpLCBfZGVmaW5lUHJvcGVydHkoX29taXROaWwsIFwiXCIuY29uY2F0KGZvcm1hdHRlZEFkZHJlc3NLZXksIFwiX2xhc3RfbmFtZVwiKSwgYWRkcmVzcy5sYXN0TmFtZSksIF9kZWZpbmVQcm9wZXJ0eShfb21pdE5pbCwgXCJcIi5jb25jYXQoZm9ybWF0dGVkQWRkcmVzc0tleSwgXCJfcGhvbmVcIiksIGFkZHJlc3MucGhvbmUpLCBfZGVmaW5lUHJvcGVydHkoX29taXROaWwsIFwiXCIuY29uY2F0KGZvcm1hdHRlZEFkZHJlc3NLZXksIFwiX3N0YXRlX2NvZGVcIiksIGFkZHJlc3MucHJvdmluY2VDb2RlKSwgX2RlZmluZVByb3BlcnR5KF9vbWl0TmlsLCBcIlwiLmNvbmNhdChmb3JtYXR0ZWRBZGRyZXNzS2V5LCBcIl9zdGF0ZVwiKSwgYWRkcmVzcy5wcm92aW5jZSksIF9kZWZpbmVQcm9wZXJ0eShfb21pdE5pbCwgXCJcIi5jb25jYXQoZm9ybWF0dGVkQWRkcmVzc0tleSwgXCJfc3RyZWV0XzFcIiksIGFkZHJlc3MuYWRkcmVzc0xpbmUxKSwgX2RlZmluZVByb3BlcnR5KF9vbWl0TmlsLCBcIlwiLmNvbmNhdChmb3JtYXR0ZWRBZGRyZXNzS2V5LCBcIl9zdHJlZXRfMlwiKSwgYWRkcmVzcy5hZGRyZXNzTGluZTIpLCBfZGVmaW5lUHJvcGVydHkoX29taXROaWwsIFwiXCIuY29uY2F0KGZvcm1hdHRlZEFkZHJlc3NLZXksIFwiX3ppcFwiKSwgYWRkcmVzcy5wb3N0Q29kZSksIF9vbWl0TmlsKSk7XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwiY3JlYXRlXCIsXG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7QWRkcmVzc01hcHBlcn1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgICAgcmV0dXJuIG5ldyBBZGRyZXNzTWFwcGVyKCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEFkZHJlc3NNYXBwZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEFkZHJlc3NNYXBwZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hZGRyZXNzLW1hcHBlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuLi8uLi9jb21tb24vdXRpbHNcIik7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxudmFyIEN1c3RvbWVyTWFwcGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQ3VzdG9tZXJNYXBwZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEN1c3RvbWVyTWFwcGVyKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDdXN0b21lck1hcHBlciwgW3tcbiAgICBrZXk6IFwibWFwVG9DdXN0b21lclwiLFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQYXltZW50UmVxdWVzdERhdGF9IGRhdGFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXBUb0N1c3RvbWVyKGRhdGEpIHtcbiAgICAgIHZhciBfZGF0YSRjdXN0b21lciA9IGRhdGEuY3VzdG9tZXIsXG4gICAgICAgICAgY3VzdG9tZXIgPSBfZGF0YSRjdXN0b21lciA9PT0gdm9pZCAwID8ge30gOiBfZGF0YSRjdXN0b21lcixcbiAgICAgICAgICBfZGF0YSRxdW90ZU1ldGEgPSBkYXRhLnF1b3RlTWV0YSxcbiAgICAgICAgICBxdW90ZU1ldGEgPSBfZGF0YSRxdW90ZU1ldGEgPT09IHZvaWQgMCA/IHt9IDogX2RhdGEkcXVvdGVNZXRhLFxuICAgICAgICAgIF9kYXRhJHN0b3JlID0gZGF0YS5zdG9yZSxcbiAgICAgICAgICBzdG9yZSA9IF9kYXRhJHN0b3JlID09PSB2b2lkIDAgPyB7fSA6IF9kYXRhJHN0b3JlO1xuICAgICAgcmV0dXJuICgwLCBfdXRpbHMub21pdE5pbCkoe1xuICAgICAgICBjdXN0b21lcl9icm93c2VyX2luZm86IG5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgIGN1c3RvbWVyX2VtYWlsOiBjdXN0b21lci5lbWFpbCxcbiAgICAgICAgY3VzdG9tZXJfZmlyc3RfbmFtZTogY3VzdG9tZXIuZmlyc3ROYW1lLFxuICAgICAgICBjdXN0b21lcl9nZW9faXBfY291bnRyeV9jb2RlOiBxdW90ZU1ldGEucmVxdWVzdCA/IHF1b3RlTWV0YS5yZXF1ZXN0Lmdlb0NvdW50cnlDb2RlIDogbnVsbCxcbiAgICAgICAgY3VzdG9tZXJfaWQ6IGN1c3RvbWVyLmN1c3RvbWVySWQsXG4gICAgICAgIGN1c3RvbWVyX2xhc3RfbmFtZTogY3VzdG9tZXIubGFzdE5hbWUsXG4gICAgICAgIGN1c3RvbWVyX2xvY2FsZTogc3RvcmUuc3RvcmVMYW5ndWFnZSxcbiAgICAgICAgY3VzdG9tZXJfbmFtZTogY3VzdG9tZXIubmFtZSxcbiAgICAgICAgY3VzdG9tZXJfcGhvbmU6IGN1c3RvbWVyLnBob25lTnVtYmVyLFxuICAgICAgICBjdXN0b21lcl9yZWZlcmVuY2U6IGN1c3RvbWVyLmVtYWlsXG4gICAgICB9KTtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogXCJjcmVhdGVcIixcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtDdXN0b21lck1hcHBlcn1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgICAgcmV0dXJuIG5ldyBDdXN0b21lck1hcHBlcigpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDdXN0b21lck1hcHBlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQ3VzdG9tZXJNYXBwZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jdXN0b21lci1tYXBwZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi4vLi4vY29tbW9uL3V0aWxzXCIpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbnZhciBNZXRhTWFwcGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTWV0YU1hcHBlcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWV0YU1hcHBlcik7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTWV0YU1hcHBlciwgW3tcbiAgICBrZXk6IFwibWFwVG9NZXRhXCIsXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BheW1lbnRSZXF1ZXN0RGF0YX0gZGF0YVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1hcFRvTWV0YShkYXRhKSB7XG4gICAgICB2YXIgc291cmNlID0gZGF0YS5zb3VyY2U7XG4gICAgICByZXR1cm4gKDAsIF91dGlscy5vbWl0TmlsKSh7XG4gICAgICAgIG1ldGFfcmVmZXJyZXI6IGRvY3VtZW50LnJlZmVycmVyLFxuICAgICAgICBtZXRhX3NvdXJjZTogc291cmNlLFxuICAgICAgICBtZXRhX3VzZXJfYWdlbnQ6IG5hdmlnYXRvci51c2VyQWdlbnRcbiAgICAgIH0pO1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiBcImNyZWF0ZVwiLFxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge01ldGFNYXBwZXJ9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICAgIHJldHVybiBuZXcgTWV0YU1hcHBlcigpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBNZXRhTWFwcGVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBNZXRhTWFwcGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWV0YS1tYXBwZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfb2JqZWN0QXNzaWduID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwib2JqZWN0LWFzc2lnblwiKSk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi4vLi4vY29tbW9uL3V0aWxzXCIpO1xuXG52YXIgX2FkZHJlc3NNYXBwZXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL2FkZHJlc3MtbWFwcGVyXCIpKTtcblxudmFyIF9jdXN0b21lck1hcHBlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vY3VzdG9tZXItbWFwcGVyXCIpKTtcblxudmFyIF9tZXRhTWFwcGVyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9tZXRhLW1hcHBlclwiKSk7XG5cbnZhciBfcGF5bWVudE1ldGhvZElkTWFwcGVyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vcGF5bWVudC1tZXRob2QtbWFwcGVycy9wYXltZW50LW1ldGhvZC1pZC1tYXBwZXJcIikpO1xuXG52YXIgX3N0b3JlTWFwcGVyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9zdG9yZS1tYXBwZXJcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbnZhciBQYXlsb2FkTWFwcGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgX2NyZWF0ZUNsYXNzKFBheWxvYWRNYXBwZXIsIG51bGwsIFt7XG4gICAga2V5OiBcImNyZWF0ZVwiLFxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge1BheWxvYWRNYXBwZXJ9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICAgIHZhciBhZGRyZXNzTWFwcGVyID0gX2FkZHJlc3NNYXBwZXIuZGVmYXVsdC5jcmVhdGUoKTtcblxuICAgICAgdmFyIGN1c3RvbWVyTWFwcGVyID0gX2N1c3RvbWVyTWFwcGVyLmRlZmF1bHQuY3JlYXRlKCk7XG5cbiAgICAgIHZhciBtZXRhTWFwcGVyID0gX21ldGFNYXBwZXIuZGVmYXVsdC5jcmVhdGUoKTtcblxuICAgICAgdmFyIHBheW1lbnRNZXRob2RJZE1hcHBlciA9IF9wYXltZW50TWV0aG9kSWRNYXBwZXIuZGVmYXVsdC5jcmVhdGUoKTtcblxuICAgICAgdmFyIHN0b3JlTWFwcGVyID0gX3N0b3JlTWFwcGVyLmRlZmF1bHQuY3JlYXRlKCk7XG5cbiAgICAgIHJldHVybiBuZXcgUGF5bG9hZE1hcHBlcihhZGRyZXNzTWFwcGVyLCBjdXN0b21lck1hcHBlciwgbWV0YU1hcHBlciwgcGF5bWVudE1ldGhvZElkTWFwcGVyLCBzdG9yZU1hcHBlcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QWRkcmVzc01hcHBlcn0gYWRkcmVzc01hcHBlclxuICAgICAqIEBwYXJhbSB7Q3VzdG9tZXJNYXBwZXJ9IGN1c3RvbWVyTWFwcGVyXG4gICAgICogQHBhcmFtIHtNZXRhTWFwcGVyfSBtZXRhTWFwcGVyXG4gICAgICogQHBhcmFtIHtQYXltZW50TWV0aG9kSWRNYXBwZXJ9IHBheW1lbnRNZXRob2RJZE1hcHBlclxuICAgICAqIEBwYXJhbSB7U3RvcmVNYXBwZXJ9IHN0b3JlTWFwcGVyXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cblxuICB9XSk7XG5cbiAgZnVuY3Rpb24gUGF5bG9hZE1hcHBlcihhZGRyZXNzTWFwcGVyLCBjdXN0b21lck1hcHBlciwgbWV0YU1hcHBlciwgcGF5bWVudE1ldGhvZElkTWFwcGVyLCBzdG9yZU1hcHBlcikge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQYXlsb2FkTWFwcGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0FkZHJlc3NNYXBwZXJ9XG4gICAgICovXG4gICAgdGhpcy5hZGRyZXNzTWFwcGVyID0gYWRkcmVzc01hcHBlcjtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtDdXN0b21lck1hcHBlcn1cbiAgICAgKi9cblxuICAgIHRoaXMuY3VzdG9tZXJNYXBwZXIgPSBjdXN0b21lck1hcHBlcjtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtNZXRhTWFwcGVyfVxuICAgICAqL1xuXG4gICAgdGhpcy5tZXRhTWFwcGVyID0gbWV0YU1hcHBlcjtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtQYXltZW50TWV0aG9kSWRNYXBwZXJ9XG4gICAgICovXG5cbiAgICB0aGlzLnBheW1lbnRNZXRob2RJZE1hcHBlciA9IHBheW1lbnRNZXRob2RJZE1hcHBlcjtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtTdG9yZU1hcHBlcn1cbiAgICAgKi9cblxuICAgIHRoaXMuc3RvcmVNYXBwZXIgPSBzdG9yZU1hcHBlcjtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtQYXltZW50UmVxdWVzdERhdGF9IGRhdGFcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoUGF5bG9hZE1hcHBlciwgW3tcbiAgICBrZXk6IFwibWFwVG9QYXlsb2FkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1hcFRvUGF5bG9hZChkYXRhKSB7XG4gICAgICB2YXIgYXV0aFRva2VuID0gZGF0YS5hdXRoVG9rZW4sXG4gICAgICAgICAgX2RhdGEkb3JkZXIgPSBkYXRhLm9yZGVyLFxuICAgICAgICAgIG9yZGVyID0gX2RhdGEkb3JkZXIgPT09IHZvaWQgMCA/IHt9IDogX2RhdGEkb3JkZXIsXG4gICAgICAgICAgX2RhdGEkcGF5bWVudCA9IGRhdGEucGF5bWVudCxcbiAgICAgICAgICBwYXltZW50ID0gX2RhdGEkcGF5bWVudCA9PT0gdm9pZCAwID8ge30gOiBfZGF0YSRwYXltZW50LFxuICAgICAgICAgIF9kYXRhJHBheW1lbnRNZXRob2QgPSBkYXRhLnBheW1lbnRNZXRob2QsXG4gICAgICAgICAgcGF5bWVudE1ldGhvZCA9IF9kYXRhJHBheW1lbnRNZXRob2QgPT09IHZvaWQgMCA/IHt9IDogX2RhdGEkcGF5bWVudE1ldGhvZDtcbiAgICAgIHZhciBwYXlsb2FkID0gKDAsIF9vYmplY3RBc3NpZ24uZGVmYXVsdCkoe1xuICAgICAgICBhbW91bnQ6IG9yZGVyLmdyYW5kVG90YWwgPyBvcmRlci5ncmFuZFRvdGFsLmludGVnZXJBbW91bnQgOiBudWxsLFxuICAgICAgICBiY19hdXRoX3Rva2VuOiBhdXRoVG9rZW4sXG4gICAgICAgIGN1cnJlbmN5OiBvcmRlci5jdXJyZW5jeSxcbiAgICAgICAgZ2F0ZXdheTogdGhpcy5wYXltZW50TWV0aG9kSWRNYXBwZXIubWFwVG9JZChwYXltZW50TWV0aG9kKSxcbiAgICAgICAgbm90aWZ5X3VybDogb3JkZXIuY2FsbGJhY2tVcmwsXG4gICAgICAgIG9yZGVyX2lkOiBvcmRlci5vcmRlcklkID8gKDAsIF91dGlscy50b1N0cmluZykob3JkZXIub3JkZXJJZCkgOiBudWxsLFxuICAgICAgICBwYWdlX3RpdGxlOiBkb2N1bWVudC50aXRsZSA/IGRvY3VtZW50LnRpdGxlIDogbnVsbCxcbiAgICAgICAgcGF5bWVudF9tZXRob2RfaWQ6IHBheW1lbnRNZXRob2QuaWQsXG4gICAgICAgIHJlZmVyZW5jZV9pZDogb3JkZXIub3JkZXJJZCA/ICgwLCBfdXRpbHMudG9TdHJpbmcpKG9yZGVyLm9yZGVySWQpIDogbnVsbCxcbiAgICAgICAgcmV0dXJuX3VybDogcGF5bWVudE1ldGhvZC5yZXR1cm5VcmwgfHwgKG9yZGVyLnBheW1lbnQgPyBvcmRlci5wYXltZW50LnJldHVyblVybCA6IG51bGwpXG4gICAgICB9LCB0aGlzLmFkZHJlc3NNYXBwZXIubWFwVG9CaWxsaW5nQWRkcmVzcyhkYXRhKSwgdGhpcy5jdXN0b21lck1hcHBlci5tYXBUb0N1c3RvbWVyKGRhdGEpLCB0aGlzLm1ldGFNYXBwZXIubWFwVG9NZXRhKGRhdGEpLCB0aGlzLmFkZHJlc3NNYXBwZXIubWFwVG9TaGlwcGluZ0FkZHJlc3MoZGF0YSksIHRoaXMuc3RvcmVNYXBwZXIubWFwVG9TdG9yZShkYXRhKSk7XG4gICAgICB2YXIgX3BheW1lbnQkZm9ybWF0dGVkUGF5ID0gcGF5bWVudC5mb3JtYXR0ZWRQYXlsb2FkLFxuICAgICAgICAgIGZvcm1hdHRlZFBheWxvYWQgPSBfcGF5bWVudCRmb3JtYXR0ZWRQYXkgPT09IHZvaWQgMCA/IHt9IDogX3BheW1lbnQkZm9ybWF0dGVkUGF5O1xuICAgICAgKDAsIF9vYmplY3RBc3NpZ24uZGVmYXVsdCkocGF5bG9hZCwgZm9ybWF0dGVkUGF5bG9hZCk7XG4gICAgICByZXR1cm4gKDAsIF91dGlscy5vbWl0TmlsKShwYXlsb2FkKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUGF5bG9hZE1hcHBlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUGF5bG9hZE1hcHBlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBheWxvYWQtbWFwcGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4uLy4uL2NvbW1vbi91dGlsc1wiKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG52YXIgU3RvcmVNYXBwZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTdG9yZU1hcHBlcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3RvcmVNYXBwZXIpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFN0b3JlTWFwcGVyLCBbe1xuICAgIGtleTogXCJtYXBUb1N0b3JlXCIsXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BheW1lbnRSZXF1ZXN0RGF0YX0gZGF0YVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1hcFRvU3RvcmUoZGF0YSkge1xuICAgICAgdmFyIF9kYXRhJHN0b3JlID0gZGF0YS5zdG9yZSxcbiAgICAgICAgICBzdG9yZSA9IF9kYXRhJHN0b3JlID09PSB2b2lkIDAgPyB7fSA6IF9kYXRhJHN0b3JlO1xuICAgICAgcmV0dXJuICgwLCBfdXRpbHMub21pdE5pbCkoe1xuICAgICAgICBzdG9yZV9oYXNoOiBzdG9yZS5zdG9yZUhhc2gsXG4gICAgICAgIHN0b3JlX2lkOiBzdG9yZS5zdG9yZUlkID8gKDAsIF91dGlscy50b1N0cmluZykoc3RvcmUuc3RvcmVJZCkgOiBudWxsXG4gICAgICB9KTtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogXCJjcmVhdGVcIixcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtTdG9yZU1hcHBlcn1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgICAgcmV0dXJuIG5ldyBTdG9yZU1hcHBlcigpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTdG9yZU1hcHBlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gU3RvcmVNYXBwZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdG9yZS1tYXBwZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLlBBWVBBTF9DT01NRVJDRV9DUkVESVRfQ0FSRFMgPSBleHBvcnRzLlBBWVBBTF9DT01NRVJDRV9DUkVESVQgPSBleHBvcnRzLlBBWVBBTF9DT01NRVJDRV9BTFRFUk5BVElWRV9NRVRIT0RTID0gZXhwb3J0cy5QQVlQQUxfQ09NTUVSQ0UgPSBleHBvcnRzLkJSQUlOVFJFRV9HT09HTEVQQVkgPSBleHBvcnRzLkJSQUlOVFJFRV9WSVNBQ0hFQ0tPVVQgPSBleHBvcnRzLkJSQUlOVFJFRV9QQVlQQUxfQ1JFRElUID0gZXhwb3J0cy5CUkFJTlRSRUVfUEFZUEFMID0gZXhwb3J0cy5CUkFJTlRSRUUgPSB2b2lkIDA7XG52YXIgQlJBSU5UUkVFID0gJ2JyYWludHJlZSc7XG5leHBvcnRzLkJSQUlOVFJFRSA9IEJSQUlOVFJFRTtcbnZhciBCUkFJTlRSRUVfUEFZUEFMID0gJ2JyYWludHJlZXBheXBhbCc7XG5leHBvcnRzLkJSQUlOVFJFRV9QQVlQQUwgPSBCUkFJTlRSRUVfUEFZUEFMO1xudmFyIEJSQUlOVFJFRV9QQVlQQUxfQ1JFRElUID0gJ2JyYWludHJlZXBheXBhbGNyZWRpdCc7XG5leHBvcnRzLkJSQUlOVFJFRV9QQVlQQUxfQ1JFRElUID0gQlJBSU5UUkVFX1BBWVBBTF9DUkVESVQ7XG52YXIgQlJBSU5UUkVFX1ZJU0FDSEVDS09VVCA9ICdicmFpbnRyZWV2aXNhY2hlY2tvdXQnO1xuZXhwb3J0cy5CUkFJTlRSRUVfVklTQUNIRUNLT1VUID0gQlJBSU5UUkVFX1ZJU0FDSEVDS09VVDtcbnZhciBCUkFJTlRSRUVfR09PR0xFUEFZID0gJ2dvb2dsZXBheWJyYWludHJlZSc7XG5leHBvcnRzLkJSQUlOVFJFRV9HT09HTEVQQVkgPSBCUkFJTlRSRUVfR09PR0xFUEFZO1xudmFyIFBBWVBBTF9DT01NRVJDRSA9ICdwYXlwYWxjb21tZXJjZSc7XG5leHBvcnRzLlBBWVBBTF9DT01NRVJDRSA9IFBBWVBBTF9DT01NRVJDRTtcbnZhciBQQVlQQUxfQ09NTUVSQ0VfQUxURVJOQVRJVkVfTUVUSE9EUyA9ICdwYXlwYWxjb21tZXJjZWFsdGVybmF0aXZlbWV0aG9kcyc7XG5leHBvcnRzLlBBWVBBTF9DT01NRVJDRV9BTFRFUk5BVElWRV9NRVRIT0RTID0gUEFZUEFMX0NPTU1FUkNFX0FMVEVSTkFUSVZFX01FVEhPRFM7XG52YXIgUEFZUEFMX0NPTU1FUkNFX0NSRURJVCA9ICdwYXlwYWxjb21tZXJjZWNyZWRpdCc7XG5leHBvcnRzLlBBWVBBTF9DT01NRVJDRV9DUkVESVQgPSBQQVlQQUxfQ09NTUVSQ0VfQ1JFRElUO1xudmFyIFBBWVBBTF9DT01NRVJDRV9DUkVESVRfQ0FSRFMgPSAncGF5cGFsY29tbWVyY2VjcmVkaXRjYXJkcyc7XG5leHBvcnRzLlBBWVBBTF9DT01NRVJDRV9DUkVESVRfQ0FSRFMgPSBQQVlQQUxfQ09NTUVSQ0VfQ1JFRElUX0NBUkRTO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGF5bWVudC1tZXRob2QtaWRzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3BheW1lbnRNZXRob2RUeXBlcyA9IHJlcXVpcmUoXCIuLi9wYXltZW50LW1ldGhvZC10eXBlc1wiKTtcblxudmFyIF9wYXltZW50TWV0aG9kSWRzID0gcmVxdWlyZShcIi4uL3BheW1lbnQtbWV0aG9kLWlkc1wiKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNCcmFpbnRyZWVQYXltZW50TWV0aG9kKGlkKSB7XG4gIHN3aXRjaCAoaWQpIHtcbiAgICBjYXNlIF9wYXltZW50TWV0aG9kSWRzLkJSQUlOVFJFRV9QQVlQQUw6XG4gICAgY2FzZSBfcGF5bWVudE1ldGhvZElkcy5CUkFJTlRSRUVfUEFZUEFMX0NSRURJVDpcbiAgICBjYXNlIF9wYXltZW50TWV0aG9kSWRzLkJSQUlOVFJFRV9WSVNBQ0hFQ0tPVVQ6XG4gICAgY2FzZSBfcGF5bWVudE1ldGhvZElkcy5CUkFJTlRSRUVfR09PR0xFUEFZOlxuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuXG5cbmZ1bmN0aW9uIGlzUGF5cGFsQ29tbWVyY2VQYXltZW50TWV0aG9kKGlkKSB7XG4gIHN3aXRjaCAoaWQpIHtcbiAgICBjYXNlIF9wYXltZW50TWV0aG9kSWRzLlBBWVBBTF9DT01NRVJDRV9DUkVESVQ6XG4gICAgY2FzZSBfcGF5bWVudE1ldGhvZElkcy5QQVlQQUxfQ09NTUVSQ0VfQ1JFRElUX0NBUkRTOlxuICAgIGNhc2UgX3BheW1lbnRNZXRob2RJZHMuUEFZUEFMX0NPTU1FUkNFX0FMVEVSTkFUSVZFX01FVEhPRFM6XG4gICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxudmFyIFBheW1lbnRNZXRob2RJZE1hcHBlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFBheW1lbnRNZXRob2RJZE1hcHBlcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGF5bWVudE1ldGhvZElkTWFwcGVyKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhQYXltZW50TWV0aG9kSWRNYXBwZXIsIFt7XG4gICAga2V5OiBcIm1hcFRvSWRcIixcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UGF5bWVudE1ldGhvZH0gcGF5bWVudE1ldGhvZFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1hcFRvSWQocGF5bWVudE1ldGhvZCkge1xuICAgICAgdmFyIGlkID0gcGF5bWVudE1ldGhvZC5pZDtcblxuICAgICAgaWYgKHBheW1lbnRNZXRob2QubWV0aG9kID09PSBfcGF5bWVudE1ldGhvZFR5cGVzLk1VTFRJX09QVElPTikge1xuICAgICAgICBpZCA9IHBheW1lbnRNZXRob2QuZ2F0ZXdheTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzQnJhaW50cmVlUGF5bWVudE1ldGhvZChpZCkpIHtcbiAgICAgICAgcmV0dXJuIF9wYXltZW50TWV0aG9kSWRzLkJSQUlOVFJFRTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzUGF5cGFsQ29tbWVyY2VQYXltZW50TWV0aG9kKGlkKSkge1xuICAgICAgICByZXR1cm4gX3BheW1lbnRNZXRob2RJZHMuUEFZUEFMX0NPTU1FUkNFO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaWQ7XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwiY3JlYXRlXCIsXG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7UGF5bWVudE1ldGhvZElkTWFwcGVyfVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgICByZXR1cm4gbmV3IFBheW1lbnRNZXRob2RJZE1hcHBlcigpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBQYXltZW50TWV0aG9kSWRNYXBwZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFBheW1lbnRNZXRob2RJZE1hcHBlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBheW1lbnQtbWV0aG9kLWlkLW1hcHBlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuTVVMVElfT1BUSU9OID0gZXhwb3J0cy5DUkVESVRfQ0FSRCA9IHZvaWQgMDtcbnZhciBDUkVESVRfQ0FSRCA9ICdjcmVkaXQtY2FyZCc7XG5leHBvcnRzLkNSRURJVF9DQVJEID0gQ1JFRElUX0NBUkQ7XG52YXIgTVVMVElfT1BUSU9OID0gJ211bHRpLW9wdGlvbic7XG5leHBvcnRzLk1VTFRJX09QVElPTiA9IE1VTFRJX09QVElPTjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBheW1lbnQtbWV0aG9kLXR5cGVzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3BheW1lbnRUeXBlcyA9IHJlcXVpcmUoXCIuL3BheW1lbnQtdHlwZXNcIik7XG5cbnZhciBfcGF5bG9hZE1hcHBlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vdjEvcGF5bWVudC1tYXBwZXJzL3BheWxvYWQtbWFwcGVyXCIpKTtcblxudmFyIF9yZXF1ZXN0U2VuZGVyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vY29tbW9uL2h0dHAtcmVxdWVzdC9yZXF1ZXN0LXNlbmRlclwiKSk7XG5cbnZhciBfdXJsSGVscGVyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi91cmwtaGVscGVyXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG52YXIgUGF5bWVudFN1Ym1pdHRlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIF9jcmVhdGVDbGFzcyhQYXltZW50U3VibWl0dGVyLCBudWxsLCBbe1xuICAgIGtleTogXCJjcmVhdGVcIixcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAgICAgKiBAcmV0dXJucyB7UGF5bWVudFN1Ym1pdHRlcn1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKGNvbmZpZykge1xuICAgICAgdmFyIHVybEhlbHBlciA9IF91cmxIZWxwZXIuZGVmYXVsdC5jcmVhdGUoY29uZmlnKTtcblxuICAgICAgdmFyIHJlcXVlc3RTZW5kZXIgPSBfcmVxdWVzdFNlbmRlci5kZWZhdWx0LmNyZWF0ZSgpO1xuXG4gICAgICB2YXIgcGF5bG9hZE1hcHBlciA9IF9wYXlsb2FkTWFwcGVyLmRlZmF1bHQuY3JlYXRlKCk7XG5cbiAgICAgIHJldHVybiBuZXcgUGF5bWVudFN1Ym1pdHRlcih1cmxIZWxwZXIsIHJlcXVlc3RTZW5kZXIsIHBheWxvYWRNYXBwZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1VybEhlbHBlcn0gdXJsSGVscGVyXG4gICAgICogQHBhcmFtIHtSZXF1ZXN0U2VuZGVyfSByZXF1ZXN0U2VuZGVyXG4gICAgICogQHBhcmFtIHtQYXlsb2FkTWFwcGVyfSBwYXlsb2FkTWFwcGVyXG4gICAgICogQHJldHVybnMge3ZvaWR9XG4gICAgICovXG5cbiAgfV0pO1xuXG4gIGZ1bmN0aW9uIFBheW1lbnRTdWJtaXR0ZXIodXJsSGVscGVyLCByZXF1ZXN0U2VuZGVyLCBwYXlsb2FkTWFwcGVyKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBheW1lbnRTdWJtaXR0ZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7VXJsSGVscGVyfVxuICAgICAqL1xuICAgIHRoaXMudXJsSGVscGVyID0gdXJsSGVscGVyO1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge1JlcXVlc3RTZW5kZXJ9XG4gICAgICovXG5cbiAgICB0aGlzLnJlcXVlc3RTZW5kZXIgPSByZXF1ZXN0U2VuZGVyO1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge1BheWxvYWRNYXBwZXJ9XG4gICAgICovXG5cbiAgICB0aGlzLnBheWxvYWRNYXBwZXIgPSBwYXlsb2FkTWFwcGVyO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge1BheW1lbnRSZXF1ZXN0RGF0YX0gZGF0YVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKiBAdGhyb3dzIHtFcnJvcn1cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoUGF5bWVudFN1Ym1pdHRlciwgW3tcbiAgICBrZXk6IFwic3VibWl0UGF5bWVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdWJtaXRQYXltZW50KGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgX2RhdGEkcGF5bWVudE1ldGhvZCA9IGRhdGEucGF5bWVudE1ldGhvZCxcbiAgICAgICAgICBwYXltZW50TWV0aG9kID0gX2RhdGEkcGF5bWVudE1ldGhvZCA9PT0gdm9pZCAwID8ge30gOiBfZGF0YSRwYXltZW50TWV0aG9kO1xuXG4gICAgICBpZiAocGF5bWVudE1ldGhvZC50eXBlICE9PSBfcGF5bWVudFR5cGVzLkFQSSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJcIi5jb25jYXQocGF5bWVudE1ldGhvZC50eXBlLCBcIiBpcyBub3Qgc3VwcG9ydGVkLlwiKSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBwYXlsb2FkID0gdGhpcy5wYXlsb2FkTWFwcGVyLm1hcFRvUGF5bG9hZChkYXRhKTtcbiAgICAgIHZhciB1cmwgPSB0aGlzLnVybEhlbHBlci5nZXRQYXltZW50VXJsKCk7XG4gICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgaGVhZGVyczogdGhpcy5wYXlsb2FkTWFwcGVyLm1hcFRvSGVhZGVycyhkYXRhKVxuICAgICAgfTtcbiAgICAgIHRoaXMucmVxdWVzdFNlbmRlci5wb3N0UmVxdWVzdCh1cmwsIHBheWxvYWQsIG9wdGlvbnMsIGNhbGxiYWNrKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUGF5bWVudFN1Ym1pdHRlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUGF5bWVudFN1Ym1pdHRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBheW1lbnQtc3VibWl0dGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5PRkZMSU5FID0gZXhwb3J0cy5IT1NURUQgPSBleHBvcnRzLkFQSSA9IHZvaWQgMDtcbnZhciBBUEkgPSAnUEFZTUVOVF9UWVBFX0FQSSc7XG5leHBvcnRzLkFQSSA9IEFQSTtcbnZhciBIT1NURUQgPSAnUEFZTUVOVF9UWVBFX0hPU1RFRCc7XG5leHBvcnRzLkhPU1RFRCA9IEhPU1RFRDtcbnZhciBPRkZMSU5FID0gJ1BBWU1FTlRfVFlQRV9PRkZMSU5FJztcbmV4cG9ydHMuT0ZGTElORSA9IE9GRkxJTkU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXltZW50LXR5cGVzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbnZhciBVcmxIZWxwZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBfY3JlYXRlQ2xhc3MoVXJsSGVscGVyLCBudWxsLCBbe1xuICAgIGtleTogXCJjcmVhdGVcIixcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29uZmlnLmhvc3RcbiAgICAgKiBAcmV0dXJucyB7Q3VzdG9tZXJNYXBwZXJ9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZShjb25maWcpIHtcbiAgICAgIHJldHVybiBuZXcgVXJsSGVscGVyKGNvbmZpZyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29uZmlnLmhvc3RcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKi9cblxuICB9XSk7XG5cbiAgZnVuY3Rpb24gVXJsSGVscGVyKGNvbmZpZykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBVcmxIZWxwZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICB9XG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhVcmxIZWxwZXIsIFt7XG4gICAga2V5OiBcImdldE9mZnNpdGVQYXltZW50VXJsXCIsXG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRPZmZzaXRlUGF5bWVudFVybCgpIHtcbiAgICAgIHJldHVybiBcIlwiLmNvbmNhdCh0aGlzLmhvc3QsIFwiL3BheS9pbml0aWFsaXplXCIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0UGF5bWVudFVybFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQYXltZW50VXJsKCkge1xuICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KHRoaXMuaG9zdCwgXCIvYXBpL3B1YmxpYy92MS9vcmRlcnMvcGF5bWVudHNcIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRHZW5lcmF0ZUNsaWVudFRva2VuVXJsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEdlbmVyYXRlQ2xpZW50VG9rZW5VcmwoKSB7XG4gICAgICByZXR1cm4gXCJcIi5jb25jYXQodGhpcy5ob3N0LCBcIi9hcGkvdjIvcHVibGljL3BheW1lbnRzL2NsaWVudF90b2tlbnNcIik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImhvc3RcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5ob3N0O1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBVcmxIZWxwZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFVybEhlbHBlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVybC1oZWxwZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vY29tbW9uL3V0aWxzXCIpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbnZhciBDdXN0b21lck1hcHBlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEN1c3RvbWVyTWFwcGVyKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDdXN0b21lck1hcHBlcik7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ3VzdG9tZXJNYXBwZXIsIFt7XG4gICAga2V5OiBcIm1hcFRvQ3VzdG9tZXJcIixcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UGF5bWVudFJlcXVlc3REYXRhfSBkYXRhXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gbWFwVG9DdXN0b21lcihkYXRhKSB7XG4gICAgICB2YXIgX2RhdGEkY3VzdG9tZXIgPSBkYXRhLmN1c3RvbWVyLFxuICAgICAgICAgIGN1c3RvbWVyID0gX2RhdGEkY3VzdG9tZXIgPT09IHZvaWQgMCA/IHt9IDogX2RhdGEkY3VzdG9tZXIsXG4gICAgICAgICAgX2RhdGEkcXVvdGVNZXRhID0gZGF0YS5xdW90ZU1ldGEsXG4gICAgICAgICAgcXVvdGVNZXRhID0gX2RhdGEkcXVvdGVNZXRhID09PSB2b2lkIDAgPyB7fSA6IF9kYXRhJHF1b3RlTWV0YTtcbiAgICAgIHJldHVybiAoMCwgX3V0aWxzLm9taXROaWwpKHtcbiAgICAgICAgY3VzdG9tZXJfZ3JvdXA6IGN1c3RvbWVyLmN1c3RvbWVyR3JvdXBOYW1lID8ge1xuICAgICAgICAgIG5hbWU6IGN1c3RvbWVyLmN1c3RvbWVyR3JvdXBOYW1lXG4gICAgICAgIH0gOiBudWxsLFxuICAgICAgICBnZW9faXBfY291bnRyeV9jb2RlOiBxdW90ZU1ldGEucmVxdWVzdCA/IHF1b3RlTWV0YS5yZXF1ZXN0Lmdlb0NvdW50cnlDb2RlIDogbnVsbCxcbiAgICAgICAgaWQ6IGN1c3RvbWVyLmN1c3RvbWVySWQgPyAoMCwgX3V0aWxzLnRvU3RyaW5nKShjdXN0b21lci5jdXN0b21lcklkKSA6IG51bGwsXG4gICAgICAgIHNlc3Npb25fdG9rZW46IHF1b3RlTWV0YS5yZXF1ZXN0ID8gcXVvdGVNZXRhLnJlcXVlc3Quc2Vzc2lvbkhhc2ggOiBudWxsXG4gICAgICB9KTtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogXCJjcmVhdGVcIixcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtDdXN0b21lck1hcHBlcn1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgICAgcmV0dXJuIG5ldyBDdXN0b21lck1hcHBlcigpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDdXN0b21lck1hcHBlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQ3VzdG9tZXJNYXBwZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jdXN0b21lci1tYXBwZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vY29tbW9uL3V0aWxzXCIpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbnZhciBPcmRlck1hcHBlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE9yZGVyTWFwcGVyKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBPcmRlck1hcHBlcik7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoT3JkZXJNYXBwZXIsIFt7XG4gICAga2V5OiBcIm1hcFRvT3JkZXJcIixcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UGF5bWVudFJlcXVlc3REYXRhfSBkYXRhXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gbWFwVG9PcmRlcihkYXRhKSB7XG4gICAgICB2YXIgX2RhdGEkb3JkZXIgPSBkYXRhLm9yZGVyLFxuICAgICAgICAgIG9yZGVyID0gX2RhdGEkb3JkZXIgPT09IHZvaWQgMCA/IHt9IDogX2RhdGEkb3JkZXI7XG4gICAgICByZXR1cm4gKDAsIF91dGlscy5vbWl0TmlsKSh7XG4gICAgICAgIGJpbGxpbmdfYWRkcmVzczogdGhpcy5tYXBUb0JpbGxpbmdBZGRyZXNzKGRhdGEpLFxuICAgICAgICBjb3Vwb25zOiB0aGlzLm1hcFRvQ291cG9ucyhkYXRhKSxcbiAgICAgICAgY3VycmVuY3k6IG9yZGVyLmN1cnJlbmN5LFxuICAgICAgICBpZDogb3JkZXIub3JkZXJJZCA/ICgwLCBfdXRpbHMudG9TdHJpbmcpKG9yZGVyLm9yZGVySWQpIDogbnVsbCxcbiAgICAgICAgaXRlbXM6IHRoaXMubWFwVG9JdGVtcyhkYXRhKSxcbiAgICAgICAgc2hpcHBpbmc6IHRoaXMubWFwVG9TaGlwcGluZyhkYXRhKSxcbiAgICAgICAgc2hpcHBpbmdfYWRkcmVzczogdGhpcy5tYXBUb1NoaXBwaW5nQWRkcmVzcyhkYXRhKSxcbiAgICAgICAgdG9rZW46IG9yZGVyLnRva2VuLFxuICAgICAgICB0b3RhbHM6IHRoaXMubWFwVG9PcmRlclRvdGFscyhkYXRhKVxuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQYXltZW50UmVxdWVzdERhdGF9IGRhdGFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibWFwVG9CaWxsaW5nQWRkcmVzc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXBUb0JpbGxpbmdBZGRyZXNzKGRhdGEpIHtcbiAgICAgIHZhciBfZGF0YSRjdXN0b21lciA9IGRhdGEuY3VzdG9tZXIsXG4gICAgICAgICAgY3VzdG9tZXIgPSBfZGF0YSRjdXN0b21lciA9PT0gdm9pZCAwID8ge30gOiBfZGF0YSRjdXN0b21lcjtcbiAgICAgIHZhciBhZGRyZXNzID0gdGhpcy5tYXBUb0FkZHJlc3MoZGF0YSwgJ2JpbGxpbmdBZGRyZXNzJyk7XG5cbiAgICAgIGlmIChjdXN0b21lci5lbWFpbCkge1xuICAgICAgICBhZGRyZXNzLmVtYWlsID0gY3VzdG9tZXIuZW1haWw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhZGRyZXNzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge1BheW1lbnRSZXF1ZXN0RGF0YX0gZGF0YVxuICAgICAqIEByZXR1cm4ge1NoaXBwaW5nW119XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJtYXBUb1NoaXBwaW5nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1hcFRvU2hpcHBpbmcoZGF0YSkge1xuICAgICAgdmFyIF9yZWYgPSBkYXRhLnNoaXBwaW5nT3B0aW9uIHx8IHt9LFxuICAgICAgICAgIGRlc2NyaXB0aW9uID0gX3JlZi5kZXNjcmlwdGlvbixcbiAgICAgICAgICB0cmFuc2l0VGltZSA9IF9yZWYudHJhbnNpdFRpbWU7XG5cbiAgICAgIGlmIChkZXNjcmlwdGlvbikge1xuICAgICAgICByZXR1cm4gWygwLCBfdXRpbHMub21pdEVtcHR5U3RyaW5nQW5kTmlsKSh7XG4gICAgICAgICAgbWV0aG9kOiBkZXNjcmlwdGlvbixcbiAgICAgICAgICB0cmFuc2l0X3RpbWU6IHRyYW5zaXRUaW1lXG4gICAgICAgIH0pXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UGF5bWVudFJlcXVlc3REYXRhfSBkYXRhXG4gICAgICogQHJldHVybnMge0NvdXBvbltdfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibWFwVG9Db3Vwb25zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1hcFRvQ291cG9ucyhfcmVmMikge1xuICAgICAgdmFyIF9yZWYyJG9yZGVyID0gX3JlZjIub3JkZXIsXG4gICAgICAgICAgb3JkZXIgPSBfcmVmMiRvcmRlciA9PT0gdm9pZCAwID8ge30gOiBfcmVmMiRvcmRlcjtcblxuICAgICAgaWYgKG9yZGVyLmNvdXBvbiAmJiBvcmRlci5jb3Vwb24uY291cG9ucykge1xuICAgICAgICByZXR1cm4gb3JkZXIuY291cG9uLmNvdXBvbnMubWFwKGZ1bmN0aW9uIChfcmVmMykge1xuICAgICAgICAgIHZhciBjb2RlID0gX3JlZjMuY29kZTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY29kZTogY29kZVxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQYXltZW50UmVxdWVzdERhdGF9IGRhdGFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibWFwVG9TaGlwcGluZ0FkZHJlc3NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWFwVG9TaGlwcGluZ0FkZHJlc3MoZGF0YSkge1xuICAgICAgcmV0dXJuIHRoaXMubWFwVG9BZGRyZXNzKGRhdGEsICdzaGlwcGluZ0FkZHJlc3MnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BheW1lbnRSZXF1ZXN0RGF0YX0gZGF0YVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhZGRyZXNzS2V5XG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm1hcFRvQWRkcmVzc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXBUb0FkZHJlc3MoZGF0YSwgYWRkcmVzc0tleSkge1xuICAgICAgdmFyIGFkZHJlc3MgPSBkYXRhW2FkZHJlc3NLZXldIHx8IHt9O1xuICAgICAgcmV0dXJuICgwLCBfdXRpbHMub21pdEVtcHR5U3RyaW5nQW5kTmlsKSh7XG4gICAgICAgIGNpdHk6IGFkZHJlc3MuY2l0eSxcbiAgICAgICAgY29tcGFueTogYWRkcmVzcy5jb21wYW55LFxuICAgICAgICBjb3VudHJ5X2NvZGU6IGFkZHJlc3MuY291bnRyeUNvZGUsXG4gICAgICAgIGNvdW50cnk6IGFkZHJlc3MuY291bnRyeSxcbiAgICAgICAgZmlyc3RfbmFtZTogYWRkcmVzcy5maXJzdE5hbWUsXG4gICAgICAgIGxhc3RfbmFtZTogYWRkcmVzcy5sYXN0TmFtZSxcbiAgICAgICAgcGhvbmU6IGFkZHJlc3MucGhvbmUsXG4gICAgICAgIHN0YXRlX2NvZGU6IGFkZHJlc3MucHJvdmluY2VDb2RlLFxuICAgICAgICBzdGF0ZTogYWRkcmVzcy5wcm92aW5jZSxcbiAgICAgICAgc3RyZWV0XzE6IGFkZHJlc3MuYWRkcmVzc0xpbmUxLFxuICAgICAgICBzdHJlZXRfMjogYWRkcmVzcy5hZGRyZXNzTGluZTIsXG4gICAgICAgIHppcDogYWRkcmVzcy5wb3N0Q29kZVxuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQYXltZW50UmVxdWVzdERhdGF9IGRhdGFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibWFwVG9JdGVtc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXBUb0l0ZW1zKGRhdGEpIHtcbiAgICAgIHZhciBfZGF0YSRjYXJ0ID0gZGF0YS5jYXJ0LFxuICAgICAgICAgIGNhcnQgPSBfZGF0YSRjYXJ0ID09PSB2b2lkIDAgPyB7XG4gICAgICAgIGl0ZW1zOiBbXVxuICAgICAgfSA6IF9kYXRhJGNhcnQ7XG4gICAgICByZXR1cm4gY2FydC5pdGVtcy5tYXAoZnVuY3Rpb24gKGl0ZW1EYXRhKSB7XG4gICAgICAgIHJldHVybiAoMCwgX3V0aWxzLm9taXROaWwpKHtcbiAgICAgICAgICBjb2RlOiBpdGVtRGF0YS5pZCxcbiAgICAgICAgICB2YXJpYW50X2lkOiBpdGVtRGF0YS52YXJpYW50SWQsXG4gICAgICAgICAgbmFtZTogaXRlbURhdGEubmFtZSxcbiAgICAgICAgICBwcmljZTogaXRlbURhdGEuaW50ZWdlckFtb3VudCxcbiAgICAgICAgICB1bml0X3ByaWNlOiBpdGVtRGF0YS5pbnRlZ2VyVW5pdFByaWNlLFxuICAgICAgICAgIHF1YW50aXR5OiBpdGVtRGF0YS5xdWFudGl0eSxcbiAgICAgICAgICBza3U6IGl0ZW1EYXRhLnNrdVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UGF5bWVudFJlcXVlc3REYXRhfSBkYXRhXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm1hcFRvT3JkZXJUb3RhbHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWFwVG9PcmRlclRvdGFscyhkYXRhKSB7XG4gICAgICB2YXIgX2RhdGEkb3JkZXIyID0gZGF0YS5vcmRlcixcbiAgICAgICAgICBvcmRlciA9IF9kYXRhJG9yZGVyMiA9PT0gdm9pZCAwID8ge30gOiBfZGF0YSRvcmRlcjI7XG4gICAgICByZXR1cm4gKDAsIF91dGlscy5vbWl0TmlsKSh7XG4gICAgICAgIGdyYW5kX3RvdGFsOiBvcmRlci5ncmFuZFRvdGFsID8gb3JkZXIuZ3JhbmRUb3RhbC5pbnRlZ2VyQW1vdW50IDogbnVsbCxcbiAgICAgICAgaGFuZGxpbmc6IG9yZGVyLmhhbmRsaW5nID8gb3JkZXIuaGFuZGxpbmcuaW50ZWdlckFtb3VudCA6IG51bGwsXG4gICAgICAgIHNoaXBwaW5nOiBvcmRlci5zaGlwcGluZyA/IG9yZGVyLnNoaXBwaW5nLmludGVnZXJBbW91bnQgOiBudWxsLFxuICAgICAgICBzdWJ0b3RhbDogb3JkZXIuc3VidG90YWwgPyBvcmRlci5zdWJ0b3RhbC5pbnRlZ2VyQW1vdW50IDogbnVsbCxcbiAgICAgICAgdGF4OiBvcmRlci50YXhUb3RhbCA/IG9yZGVyLnRheFRvdGFsLmludGVnZXJBbW91bnQgOiBudWxsXG4gICAgICB9KTtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogXCJjcmVhdGVcIixcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtPcmRlck1hcHBlcn1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgICAgcmV0dXJuIG5ldyBPcmRlck1hcHBlcigpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBPcmRlck1hcHBlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gT3JkZXJNYXBwZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vcmRlci1tYXBwZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vY29tbW9uL3V0aWxzXCIpO1xuXG52YXIgX2N1c3RvbWVyTWFwcGVyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9jdXN0b21lci1tYXBwZXJcIikpO1xuXG52YXIgX29yZGVyTWFwcGVyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9vcmRlci1tYXBwZXJcIikpO1xuXG52YXIgX3BheW1lbnRNYXBwZXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3BheW1lbnQtbWFwcGVyXCIpKTtcblxudmFyIF9zdG9yZU1hcHBlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vc3RvcmUtbWFwcGVyXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG52YXIgUGF5bG9hZE1hcHBlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIF9jcmVhdGVDbGFzcyhQYXlsb2FkTWFwcGVyLCBudWxsLCBbe1xuICAgIGtleTogXCJjcmVhdGVcIixcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtQYXlsb2FkTWFwcGVyfVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgICB2YXIgY3VzdG9tZXJNYXBwZXIgPSBfY3VzdG9tZXJNYXBwZXIuZGVmYXVsdC5jcmVhdGUoKTtcblxuICAgICAgdmFyIG9yZGVyTWFwcGVyID0gX29yZGVyTWFwcGVyLmRlZmF1bHQuY3JlYXRlKCk7XG5cbiAgICAgIHZhciBwYXltZW50TWFwcGVyID0gX3BheW1lbnRNYXBwZXIuZGVmYXVsdC5jcmVhdGUoKTtcblxuICAgICAgdmFyIHN0b3JlTWFwcGVyID0gX3N0b3JlTWFwcGVyLmRlZmF1bHQuY3JlYXRlKCk7XG5cbiAgICAgIHJldHVybiBuZXcgUGF5bG9hZE1hcHBlcihjdXN0b21lck1hcHBlciwgb3JkZXJNYXBwZXIsIHBheW1lbnRNYXBwZXIsIHN0b3JlTWFwcGVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtDdXN0b21lck1hcHBlcn0gY3VzdG9tZXJNYXBwZXJcbiAgICAgKiBAcGFyYW0ge09yZGVyTWFwcGVyfSBvcmRlck1hcHBlclxuICAgICAqIEBwYXJhbSB7UGF5bWVudE1hcHBlcn0gcGF5bWVudE1hcHBlclxuICAgICAqIEBwYXJhbSB7U3RvcmVNYXBwZXJ9IHN0b3JlTWFwcGVyXG4gICAgICovXG5cbiAgfV0pO1xuXG4gIGZ1bmN0aW9uIFBheWxvYWRNYXBwZXIoY3VzdG9tZXJNYXBwZXIsIG9yZGVyTWFwcGVyLCBwYXltZW50TWFwcGVyLCBzdG9yZU1hcHBlcikge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQYXlsb2FkTWFwcGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0N1c3RvbWVyTWFwcGVyfVxuICAgICAqL1xuICAgIHRoaXMuY3VzdG9tZXJNYXBwZXIgPSBjdXN0b21lck1hcHBlcjtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtPcmRlck1hcHBlcn1cbiAgICAgKi9cblxuICAgIHRoaXMub3JkZXJNYXBwZXIgPSBvcmRlck1hcHBlcjtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtQYXltZW50TWFwcGVyfVxuICAgICAqL1xuXG4gICAgdGhpcy5wYXltZW50TWFwcGVyID0gcGF5bWVudE1hcHBlcjtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtTdG9yZU1hcHBlcn1cbiAgICAgKi9cblxuICAgIHRoaXMuc3RvcmVNYXBwZXIgPSBzdG9yZU1hcHBlcjtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtQYXltZW50UmVxdWVzdERhdGF9IGRhdGFcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoUGF5bG9hZE1hcHBlciwgW3tcbiAgICBrZXk6IFwibWFwVG9QYXlsb2FkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1hcFRvUGF5bG9hZChkYXRhKSB7XG4gICAgICB2YXIgX2RhdGEkb3JkZXIgPSBkYXRhLm9yZGVyLFxuICAgICAgICAgIG9yZGVyID0gX2RhdGEkb3JkZXIgPT09IHZvaWQgMCA/IHt9IDogX2RhdGEkb3JkZXIsXG4gICAgICAgICAgYWRkaXRpb25hbEFjdGlvbiA9IGRhdGEuYWRkaXRpb25hbEFjdGlvbjtcbiAgICAgIHJldHVybiAoMCwgX3V0aWxzLm9taXROaWwpKHtcbiAgICAgICAgY3VzdG9tZXI6IHRoaXMuY3VzdG9tZXJNYXBwZXIubWFwVG9DdXN0b21lcihkYXRhKSxcbiAgICAgICAgbm90aWZ5X3VybDogb3JkZXIuY2FsbGJhY2tVcmwsXG4gICAgICAgIG9yZGVyOiB0aGlzLm9yZGVyTWFwcGVyLm1hcFRvT3JkZXIoZGF0YSksXG4gICAgICAgIHBheW1lbnQ6IHRoaXMucGF5bWVudE1hcHBlci5tYXBUb1BheW1lbnQoZGF0YSksXG4gICAgICAgIHN0b3JlOiB0aGlzLnN0b3JlTWFwcGVyLm1hcFRvU3RvcmUoZGF0YSksXG4gICAgICAgIGFkZGl0aW9uYWxfYWN0aW9uOiBhZGRpdGlvbmFsQWN0aW9uXG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQYXltZW50UmVxdWVzdERhdGF9IGRhdGFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibWFwVG9IZWFkZXJzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1hcFRvSGVhZGVycyhkYXRhKSB7XG4gICAgICB2YXIgYXV0aFRva2VuID0gZGF0YS5hdXRoVG9rZW47XG4gICAgICByZXR1cm4gKDAsIF91dGlscy5vbWl0TmlsKSh7XG4gICAgICAgIEF1dGhvcml6YXRpb246IGF1dGhUb2tlblxuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFBheWxvYWRNYXBwZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFBheWxvYWRNYXBwZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXlsb2FkLW1hcHBlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9vYmplY3RBc3NpZ24gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJvYmplY3QtYXNzaWduXCIpKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuLi8uLi8uLi9jb21tb24vdXRpbHNcIik7XG5cbnZhciBfcGF5bWVudE1ldGhvZElkTWFwcGVyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vLi4vcGF5bWVudC1tZXRob2QtbWFwcGVycy9wYXltZW50LW1ldGhvZC1pZC1tYXBwZXJcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbnZhciBQYXltZW50TWFwcGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgX2NyZWF0ZUNsYXNzKFBheW1lbnRNYXBwZXIsIG51bGwsIFt7XG4gICAga2V5OiBcImNyZWF0ZVwiLFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQYXltZW50TWV0aG9kSWRNYXBwZXJ9IHBheW1lbnRNZXRob2RJZE1hcHBlclxuICAgICAqIEByZXR1cm5zIHtQYXltZW50TWFwcGVyfVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgICB2YXIgcGF5bWVudE1ldGhvZElkTWFwcGVyID0gX3BheW1lbnRNZXRob2RJZE1hcHBlci5kZWZhdWx0LmNyZWF0ZSgpO1xuXG4gICAgICByZXR1cm4gbmV3IFBheW1lbnRNYXBwZXIocGF5bWVudE1ldGhvZElkTWFwcGVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQYXltZW50TWV0aG9kSWRNYXBwZXJ9IHBheW1lbnRNZXRob2RJZE1hcHBlclxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxuICAgICAqL1xuXG4gIH1dKTtcblxuICBmdW5jdGlvbiBQYXltZW50TWFwcGVyKHBheW1lbnRNZXRob2RJZE1hcHBlcikge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQYXltZW50TWFwcGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge1BheW1lbnRNZXRob2RJZE1hcHBlcn1cbiAgICAgKi9cbiAgICB0aGlzLnBheW1lbnRNZXRob2RJZE1hcHBlciA9IHBheW1lbnRNZXRob2RJZE1hcHBlcjtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtQYXltZW50UmVxdWVzdERhdGF9IGRhdGFcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoUGF5bWVudE1hcHBlciwgW3tcbiAgICBrZXk6IFwibWFwVG9QYXltZW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1hcFRvUGF5bWVudChkYXRhKSB7XG4gICAgICB2YXIgX2RhdGEkb3JkZXIgPSBkYXRhLm9yZGVyLFxuICAgICAgICAgIG9yZGVyID0gX2RhdGEkb3JkZXIgPT09IHZvaWQgMCA/IHt9IDogX2RhdGEkb3JkZXIsXG4gICAgICAgICAgX2RhdGEkb3JkZXJNZXRhID0gZGF0YS5vcmRlck1ldGEsXG4gICAgICAgICAgb3JkZXJNZXRhID0gX2RhdGEkb3JkZXJNZXRhID09PSB2b2lkIDAgPyB7fSA6IF9kYXRhJG9yZGVyTWV0YSxcbiAgICAgICAgICBfZGF0YSRwYXltZW50ID0gZGF0YS5wYXltZW50LFxuICAgICAgICAgIHBheW1lbnQgPSBfZGF0YSRwYXltZW50ID09PSB2b2lkIDAgPyB7fSA6IF9kYXRhJHBheW1lbnQsXG4gICAgICAgICAgX2RhdGEkcGF5bWVudE1ldGhvZCA9IGRhdGEucGF5bWVudE1ldGhvZCxcbiAgICAgICAgICBwYXltZW50TWV0aG9kID0gX2RhdGEkcGF5bWVudE1ldGhvZCA9PT0gdm9pZCAwID8ge30gOiBfZGF0YSRwYXltZW50TWV0aG9kO1xuICAgICAgdmFyIHBheWxvYWQgPSB7XG4gICAgICAgIGRldmljZV9pbmZvOiBwYXltZW50LmRldmljZVNlc3Npb25JZCA/IHBheW1lbnQuZGV2aWNlU2Vzc2lvbklkIDogbnVsbCxcbiAgICAgICAgZGV2aWNlOiBvcmRlck1ldGEuZGV2aWNlRmluZ2VycHJpbnQgPyB7XG4gICAgICAgICAgZmluZ2VycHJpbnRfaWQ6IG9yZGVyTWV0YS5kZXZpY2VGaW5nZXJwcmludFxuICAgICAgICB9IDogbnVsbCxcbiAgICAgICAgZ2F0ZXdheTogdGhpcy5wYXltZW50TWV0aG9kSWRNYXBwZXIubWFwVG9JZChwYXltZW50TWV0aG9kKSxcbiAgICAgICAgbm90aWZ5X3VybDogb3JkZXIuY2FsbGJhY2tVcmwsXG4gICAgICAgIHJldHVybl91cmw6IHBheW1lbnRNZXRob2QucmV0dXJuVXJsIHx8IChvcmRlci5wYXltZW50ID8gb3JkZXIucGF5bWVudC5yZXR1cm5VcmwgOiBudWxsKSxcbiAgICAgICAgdmF1bHRfcGF5bWVudF9pbnN0cnVtZW50OiAhcGF5bWVudC5pbnN0cnVtZW50SWQgPyBwYXltZW50LnNob3VsZFNhdmVJbnN0cnVtZW50IDogbnVsbCxcbiAgICAgICAgc2V0X2FzX2RlZmF1bHRfc3RvcmVkX2luc3RydW1lbnQ6IHBheW1lbnQuaW5zdHJ1bWVudElkIHx8IHBheW1lbnQuc2hvdWxkU2F2ZUluc3RydW1lbnQgPyBwYXltZW50LnNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQgOiBudWxsXG4gICAgICB9O1xuICAgICAgdmFyIG1ldGhvZCA9IHBheW1lbnRNZXRob2QubWV0aG9kO1xuXG4gICAgICBpZiAobWV0aG9kKSB7XG4gICAgICAgICgwLCBfb2JqZWN0QXNzaWduLmRlZmF1bHQpKHBheWxvYWQsIHtcbiAgICAgICAgICBtZXRob2Q6IG1ldGhvZFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdmFyIG5vbmNlID0gcGF5bWVudC5ub25jZSB8fCBwYXltZW50TWV0aG9kLm5vbmNlO1xuXG4gICAgICBpZiAocGF5bWVudC5mb3JtYXR0ZWRQYXlsb2FkKSB7XG4gICAgICAgICgwLCBfb2JqZWN0QXNzaWduLmRlZmF1bHQpKHBheWxvYWQsIHBheW1lbnQuZm9ybWF0dGVkUGF5bG9hZCk7XG4gICAgICB9IGVsc2UgaWYgKHBheW1lbnQuaW5zdHJ1bWVudElkKSB7XG4gICAgICAgICgwLCBfb2JqZWN0QXNzaWduLmRlZmF1bHQpKHBheWxvYWQsIHtcbiAgICAgICAgICBiaWdwYXlfdG9rZW46IHRoaXMubWFwVG9CaWdQYXlUb2tlbihkYXRhKVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAobm9uY2UpIHtcbiAgICAgICAgKDAsIF9vYmplY3RBc3NpZ24uZGVmYXVsdCkocGF5bG9hZCwge1xuICAgICAgICAgIGNyZWRpdF9jYXJkX3Rva2VuOiB7XG4gICAgICAgICAgICB0b2tlbjogbm9uY2VcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChwYXltZW50LmNyeXB0b2dyYW1JZCkge1xuICAgICAgICAoMCwgX29iamVjdEFzc2lnbi5kZWZhdWx0KShwYXlsb2FkLCB7XG4gICAgICAgICAgY3JlZGl0X2NhcmRfY3J5cHRvZ3JhbTogdGhpcy5tYXBUb0NyeXB0b2dyYW0oZGF0YSlcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAoMCwgX29iamVjdEFzc2lnbi5kZWZhdWx0KShwYXlsb2FkLCB7XG4gICAgICAgICAgY3JlZGl0X2NhcmQ6IHRoaXMubWFwVG9DcmVkaXRDYXJkKGRhdGEpXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gKDAsIF91dGlscy5vbWl0TmlsKShwYXlsb2FkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BheW1lbnRSZXF1ZXN0RGF0YX0gZGF0YVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJtYXBUb0NyZWRpdENhcmRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWFwVG9DcmVkaXRDYXJkKGRhdGEpIHtcbiAgICAgIHZhciBfZGF0YSRwYXltZW50MiA9IGRhdGEucGF5bWVudCxcbiAgICAgICAgICBwYXltZW50ID0gX2RhdGEkcGF5bWVudDIgPT09IHZvaWQgMCA/IHt9IDogX2RhdGEkcGF5bWVudDI7XG4gICAgICByZXR1cm4gKDAsIF91dGlscy5vbWl0TmlsKSh7XG4gICAgICAgIGFjY291bnRfbmFtZTogcGF5bWVudC5jY05hbWUsXG4gICAgICAgIG1vbnRoOiBwYXltZW50LmNjRXhwaXJ5ID8gKDAsIF91dGlscy50b051bWJlcikocGF5bWVudC5jY0V4cGlyeS5tb250aCkgOiBudWxsLFxuICAgICAgICBudW1iZXI6IHBheW1lbnQuY2NOdW1iZXIsXG4gICAgICAgIHZlcmlmaWNhdGlvbl92YWx1ZTogcGF5bWVudC5jY0N2dixcbiAgICAgICAgeWVhcjogcGF5bWVudC5jY0V4cGlyeSA/ICgwLCBfdXRpbHMudG9OdW1iZXIpKHBheW1lbnQuY2NFeHBpcnkueWVhcikgOiBudWxsLFxuICAgICAgICBjdXN0b21lcl9jb2RlOiBwYXltZW50LmNjQ3VzdG9tZXJDb2RlLFxuICAgICAgICB0aHJlZV9kX3NlY3VyZTogcGF5bWVudC50aHJlZURTZWN1cmUsXG4gICAgICAgIGhvc3RlZF9mb3JtX25vbmNlOiBwYXltZW50Lmhvc3RlZEZvcm1Ob25jZVxuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQYXltZW50UmVxdWVzdERhdGF9IGRhdGFcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJtYXBUb0JpZ1BheVRva2VuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1hcFRvQmlnUGF5VG9rZW4oX3JlZikge1xuICAgICAgdmFyIHBheW1lbnQgPSBfcmVmLnBheW1lbnQ7XG4gICAgICByZXR1cm4gKDAsIF91dGlscy5vbWl0TmlsKSh7XG4gICAgICAgIGNyZWRpdF9jYXJkX251bWJlcl9jb25maXJtYXRpb246IHBheW1lbnQuY2NOdW1iZXIsXG4gICAgICAgIHRva2VuOiBwYXltZW50Lmluc3RydW1lbnRJZCxcbiAgICAgICAgdmVyaWZpY2F0aW9uX3ZhbHVlOiBwYXltZW50LmNjQ3Z2LFxuICAgICAgICB2ZXJpZmljYXRpb25fbm9uY2U6IHBheW1lbnQubm9uY2UsXG4gICAgICAgIHRocmVlX2Rfc2VjdXJlOiBwYXltZW50LnRocmVlRFNlY3VyZVxuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQYXltZW50UmVxdWVzdERhdGF9IGRhdGFcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJtYXBUb0NyeXB0b2dyYW1cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWFwVG9DcnlwdG9ncmFtKF9yZWYyKSB7XG4gICAgICB2YXIgcGF5bWVudCA9IF9yZWYyLnBheW1lbnQ7XG4gICAgICByZXR1cm4gKDAsIF91dGlscy5vbWl0TmlsKSh7XG4gICAgICAgIHBheW1lbnRfY3J5cHRvZ3JhbTogcGF5bWVudC5jcnlwdG9ncmFtSWQsXG4gICAgICAgIGVjaTogcGF5bWVudC5lY2ksXG4gICAgICAgIHhpZDogcGF5bWVudC50cmFuc2FjdGlvbklkLFxuICAgICAgICBtb250aDogcGF5bWVudC5jY0V4cGlyeSA/ICgwLCBfdXRpbHMudG9OdW1iZXIpKHBheW1lbnQuY2NFeHBpcnkubW9udGgpIDogbnVsbCxcbiAgICAgICAgbnVtYmVyOiBwYXltZW50LmNjTnVtYmVyLFxuICAgICAgICB5ZWFyOiBwYXltZW50LmNjRXhwaXJ5ID8gKDAsIF91dGlscy50b051bWJlcikocGF5bWVudC5jY0V4cGlyeS55ZWFyKSA6IG51bGwsXG4gICAgICAgIGFjY291bnRfbWFzazogcGF5bWVudC5hY2NvdW50TWFza1xuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFBheW1lbnRNYXBwZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFBheW1lbnRNYXBwZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXltZW50LW1hcHBlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuLi8uLi8uLi9jb21tb24vdXRpbHNcIik7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxudmFyIFN0b3JlTWFwcGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU3RvcmVNYXBwZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN0b3JlTWFwcGVyKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhTdG9yZU1hcHBlciwgW3tcbiAgICBrZXk6IFwibWFwVG9TdG9yZVwiLFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQYXltZW50UmVxdWVzdERhdGF9IGRhdGFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXBUb1N0b3JlKGRhdGEpIHtcbiAgICAgIHZhciBfZGF0YSRzdG9yZSA9IGRhdGEuc3RvcmUsXG4gICAgICAgICAgc3RvcmUgPSBfZGF0YSRzdG9yZSA9PT0gdm9pZCAwID8ge30gOiBfZGF0YSRzdG9yZTtcbiAgICAgIHJldHVybiAoMCwgX3V0aWxzLm9taXROaWwpKHtcbiAgICAgICAgaGFzaDogc3RvcmUuc3RvcmVIYXNoLFxuICAgICAgICBpZDogc3RvcmUuc3RvcmVJZCA/ICgwLCBfdXRpbHMudG9TdHJpbmcpKHN0b3JlLnN0b3JlSWQpIDogbnVsbCxcbiAgICAgICAgbmFtZTogc3RvcmUuc3RvcmVOYW1lXG4gICAgICB9KTtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogXCJjcmVhdGVcIixcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtTdG9yZU1hcHBlcn1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgICAgcmV0dXJuIG5ldyBTdG9yZU1hcHBlcigpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTdG9yZU1hcHBlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gU3RvcmVNYXBwZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdG9yZS1tYXBwZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vY29tbW9uL3V0aWxzXCIpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbnZhciBDYXJ0TWFwcGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQ2FydE1hcHBlcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FydE1hcHBlcik7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ2FydE1hcHBlciwgW3tcbiAgICBrZXk6IFwibWFwVG9DYXJ0XCIsXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BheW1lbnRSZXF1ZXN0RGF0YX0gZGF0YVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1hcFRvQ2FydChkYXRhKSB7XG4gICAgICB2YXIgX2RhdGEkY2FydCA9IGRhdGEuY2FydCxcbiAgICAgICAgICBjYXJ0ID0gX2RhdGEkY2FydCA9PT0gdm9pZCAwID8ge30gOiBfZGF0YSRjYXJ0O1xuICAgICAgcmV0dXJuICgwLCBfdXRpbHMub21pdE5pbCkoe1xuICAgICAgICBjdXJyZW5jeV9jb2RlOiBjYXJ0LmN1cnJlbmN5LFxuICAgICAgICBpdGVtczogdGhpcy5tYXBUb0l0ZW1zKGRhdGEpLFxuICAgICAgICB0b3RhbHM6IHRoaXMubWFwVG9PcmRlclRvdGFscyhkYXRhKVxuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQYXltZW50UmVxdWVzdERhdGF9IGRhdGFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0W119XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJtYXBUb0l0ZW1zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1hcFRvSXRlbXMoZGF0YSkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIF9kYXRhJGNhcnQyID0gZGF0YS5jYXJ0LFxuICAgICAgICAgIGNhcnQgPSBfZGF0YSRjYXJ0MiA9PT0gdm9pZCAwID8ge1xuICAgICAgICBpdGVtczogW11cbiAgICAgIH0gOiBfZGF0YSRjYXJ0MjtcbiAgICAgIHJldHVybiBjYXJ0Lml0ZW1zLm1hcChmdW5jdGlvbiAoaXRlbURhdGEpIHtcbiAgICAgICAgcmV0dXJuICgwLCBfdXRpbHMub21pdE5pbCkoe1xuICAgICAgICAgIGRpc2NvdW50X2Ftb3VudDogaXRlbURhdGEuaW50ZWdlckRpc2NvdW50LFxuICAgICAgICAgIG5hbWU6IGl0ZW1EYXRhLm5hbWUsXG4gICAgICAgICAgcHJpY2U6IGl0ZW1EYXRhLmludGVnZXJBbW91bnQsXG4gICAgICAgICAgdW5pdF9wcmljZTogaXRlbURhdGEuaW50ZWdlclVuaXRQcmljZSxcbiAgICAgICAgICBxdWFudGl0eTogaXRlbURhdGEucXVhbnRpdHksXG4gICAgICAgICAgc2t1OiBpdGVtRGF0YS5za3UsXG4gICAgICAgICAgdGF4X2Ftb3VudDogaXRlbURhdGEuaW50ZWdlclRheCxcbiAgICAgICAgICBhbW91bnQ6IGl0ZW1EYXRhLmludGVnZXJBbW91bnRBZnRlckRpc2NvdW50LFxuICAgICAgICAgIHR5cGU6IF90aGlzLm1hcFRvVHlwZShpdGVtRGF0YSlcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BheW1lbnRSZXF1ZXN0RGF0YX0gZGF0YVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJtYXBUb09yZGVyVG90YWxzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1hcFRvT3JkZXJUb3RhbHMoZGF0YSkge1xuICAgICAgdmFyIF9kYXRhJGNhcnQzID0gZGF0YS5jYXJ0LFxuICAgICAgICAgIGNhcnQgPSBfZGF0YSRjYXJ0MyA9PT0gdm9pZCAwID8ge30gOiBfZGF0YSRjYXJ0MztcbiAgICAgIHJldHVybiAoMCwgX3V0aWxzLm9taXROaWwpKHtcbiAgICAgICAgZGlzY291bnRfdG90YWw6IGNhcnQuZGlzY291bnQgPyBjYXJ0LmRpc2NvdW50LmludGVnZXJBbW91bnQgOiBudWxsLFxuICAgICAgICBncmFuZF90b3RhbDogY2FydC5ncmFuZFRvdGFsID8gY2FydC5ncmFuZFRvdGFsLmludGVnZXJBbW91bnQgOiBudWxsLFxuICAgICAgICBzaGlwcGluZ190b3RhbDogY2FydC5zaGlwcGluZyA/IGNhcnQuc2hpcHBpbmcuaW50ZWdlckFtb3VudCA6IG51bGwsXG4gICAgICAgIHN1YnRvdGFsOiBjYXJ0LnN1YnRvdGFsID8gY2FydC5zdWJ0b3RhbC5pbnRlZ2VyQW1vdW50IDogbnVsbCxcbiAgICAgICAgc3VyY2hhcmdlX3RvdGFsOiBjYXJ0LmhhbmRsaW5nID8gY2FydC5oYW5kbGluZy5pbnRlZ2VyQW1vdW50IDogbnVsbCxcbiAgICAgICAgdGF4X3RvdGFsOiBjYXJ0LnRheFRvdGFsID8gY2FydC50YXhUb3RhbC5pbnRlZ2VyQW1vdW50IDogbnVsbFxuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGl0ZW1EYXRhXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm1hcFRvVHlwZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXBUb1R5cGUoaXRlbURhdGEpIHtcbiAgICAgIHZhciB0eXBlcyA9IHtcbiAgICAgICAgSXRlbVBoeXNpY2FsRW50aXR5OiAncGh5c2ljYWwnLFxuICAgICAgICBJdGVtRGlnaXRhbEVudGl0eTogJ2RpZ2l0YWwnLFxuICAgICAgICBJdGVtR2lmdENlcnRpZmljYXRlRW50aXR5OiAnZ2lmdF9jYXJkJ1xuICAgICAgfTtcbiAgICAgIHJldHVybiB0eXBlc1tpdGVtRGF0YS50eXBlXTtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogXCJjcmVhdGVcIixcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtDYXJ0TWFwcGVyfVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgICByZXR1cm4gbmV3IENhcnRNYXBwZXIoKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ2FydE1hcHBlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQ2FydE1hcHBlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhcnQtbWFwcGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4uLy4uLy4uL2NvbW1vbi91dGlsc1wiKTtcblxudmFyIF9jYXJ0TWFwcGVyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9jYXJ0LW1hcHBlclwiKSk7XG5cbnZhciBfZ2F0ZXdheU1hcHBlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vZ2F0ZXdheS1tYXBwZXJcIikpO1xuXG52YXIgX3F1b3RlTWFwcGVyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9xdW90ZS1tYXBwZXJcIikpO1xuXG52YXIgX3N0b3JlTWFwcGVyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9zdG9yZS1tYXBwZXJcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbnZhciBDbGllbnRUb2tlbk1hcHBlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIF9jcmVhdGVDbGFzcyhDbGllbnRUb2tlbk1hcHBlciwgbnVsbCwgW3tcbiAgICBrZXk6IFwiY3JlYXRlXCIsXG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7Q2xpZW50VG9rZW5NYXBwZXJ9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICAgIHZhciBjYXJ0TWFwcGVyID0gX2NhcnRNYXBwZXIuZGVmYXVsdC5jcmVhdGUoKTtcblxuICAgICAgdmFyIGdhdGV3YXlNYXBwZXIgPSBfZ2F0ZXdheU1hcHBlci5kZWZhdWx0LmNyZWF0ZSgpO1xuXG4gICAgICB2YXIgcXVvdGVNYXBwZXIgPSBfcXVvdGVNYXBwZXIuZGVmYXVsdC5jcmVhdGUoKTtcblxuICAgICAgdmFyIHN0b3JlTWFwcGVyID0gX3N0b3JlTWFwcGVyLmRlZmF1bHQuY3JlYXRlKCk7XG5cbiAgICAgIHJldHVybiBuZXcgQ2xpZW50VG9rZW5NYXBwZXIoY2FydE1hcHBlciwgZ2F0ZXdheU1hcHBlciwgcXVvdGVNYXBwZXIsIHN0b3JlTWFwcGVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtDYXJ0TWFwcGVyfSBjYXJ0TWFwcGVyXG4gICAgICogQHBhcmFtIHtHYXRld2F5TWFwcGVyfSBnYXRld2F5TWFwcGVyXG4gICAgICogQHBhcmFtIHtRdW90ZU1hcHBlcn0gcXVvdGVNYXBwZXJcbiAgICAgKiBAcGFyYW0ge1N0b3JlTWFwcGVyfSBzdG9yZU1hcHBlclxuICAgICAqL1xuXG4gIH1dKTtcblxuICBmdW5jdGlvbiBDbGllbnRUb2tlbk1hcHBlcihjYXJ0TWFwcGVyLCBnYXRld2F5TWFwcGVyLCBxdW90ZU1hcHBlciwgc3RvcmVNYXBwZXIpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2xpZW50VG9rZW5NYXBwZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Q2FydE1hcHBlcn1cbiAgICAgKi9cbiAgICB0aGlzLmNhcnRNYXBwZXIgPSBjYXJ0TWFwcGVyO1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0dhdGV3YXlNYXBwZXJ9XG4gICAgICovXG5cbiAgICB0aGlzLmdhdGV3YXlNYXBwZXIgPSBnYXRld2F5TWFwcGVyO1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge1F1b3RlTWFwcGVyfVxuICAgICAqL1xuXG4gICAgdGhpcy5xdW90ZU1hcHBlciA9IHF1b3RlTWFwcGVyO1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge1N0b3JlTWFwcGVyfVxuICAgICAqL1xuXG4gICAgdGhpcy5zdG9yZU1hcHBlciA9IHN0b3JlTWFwcGVyO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge1BheW1lbnRSZXF1ZXN0RGF0YX0gZGF0YVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhDbGllbnRUb2tlbk1hcHBlciwgW3tcbiAgICBrZXk6IFwibWFwVG9DbGllbnRUb2tlblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXBUb0NsaWVudFRva2VuKGRhdGEpIHtcbiAgICAgIHJldHVybiAoMCwgX3V0aWxzLm9taXROaWwpKHtcbiAgICAgICAgY2FydDogdGhpcy5jYXJ0TWFwcGVyLm1hcFRvQ2FydChkYXRhKSxcbiAgICAgICAgZ2F0ZXdheTogdGhpcy5nYXRld2F5TWFwcGVyLm1hcFRvR2F0ZXdheShkYXRhKSxcbiAgICAgICAgcXVvdGU6IHRoaXMucXVvdGVNYXBwZXIubWFwVG9RdW90ZShkYXRhKSxcbiAgICAgICAgc3RvcmU6IHRoaXMuc3RvcmVNYXBwZXIubWFwVG9TdG9yZShkYXRhKVxuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENsaWVudFRva2VuTWFwcGVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBDbGllbnRUb2tlbk1hcHBlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNsaWVudC10b2tlbi1tYXBwZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vY29tbW9uL3V0aWxzXCIpO1xuXG52YXIgX3BheW1lbnRNZXRob2RJZE1hcHBlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uLy4uL3BheW1lbnQtbWV0aG9kLW1hcHBlcnMvcGF5bWVudC1tZXRob2QtaWQtbWFwcGVyXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG52YXIgR2F0ZXdheU1hcHBlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIF9jcmVhdGVDbGFzcyhHYXRld2F5TWFwcGVyLCBudWxsLCBbe1xuICAgIGtleTogXCJjcmVhdGVcIixcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtHYXRld2F5TWFwcGVyfVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgICB2YXIgcGF5bWVudE1ldGhvZElkTWFwcGVyID0gX3BheW1lbnRNZXRob2RJZE1hcHBlci5kZWZhdWx0LmNyZWF0ZSgpO1xuXG4gICAgICByZXR1cm4gbmV3IEdhdGV3YXlNYXBwZXIocGF5bWVudE1ldGhvZElkTWFwcGVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQYXltZW50TWV0aG9kSWRNYXBwZXJ9IHBheW1lbnRNZXRob2RJZE1hcHBlclxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxuICAgICAqL1xuXG4gIH1dKTtcblxuICBmdW5jdGlvbiBHYXRld2F5TWFwcGVyKHBheW1lbnRNZXRob2RJZE1hcHBlcikge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBHYXRld2F5TWFwcGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge1BheW1lbnRNZXRob2RJZE1hcHBlcn1cbiAgICAgKi9cbiAgICB0aGlzLnBheW1lbnRNZXRob2RJZE1hcHBlciA9IHBheW1lbnRNZXRob2RJZE1hcHBlcjtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtQYXltZW50UmVxdWVzdERhdGF9IGRhdGFcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoR2F0ZXdheU1hcHBlciwgW3tcbiAgICBrZXk6IFwibWFwVG9HYXRld2F5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1hcFRvR2F0ZXdheShkYXRhKSB7XG4gICAgICB2YXIgX2RhdGEkcGF5bWVudE1ldGhvZCA9IGRhdGEucGF5bWVudE1ldGhvZCxcbiAgICAgICAgICBwYXltZW50TWV0aG9kID0gX2RhdGEkcGF5bWVudE1ldGhvZCA9PT0gdm9pZCAwID8ge30gOiBfZGF0YSRwYXltZW50TWV0aG9kO1xuICAgICAgcmV0dXJuICgwLCBfdXRpbHMub21pdE5pbCkoe1xuICAgICAgICBuYW1lOiB0aGlzLnBheW1lbnRNZXRob2RJZE1hcHBlci5tYXBUb0lkKHBheW1lbnRNZXRob2QpXG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gR2F0ZXdheU1hcHBlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gR2F0ZXdheU1hcHBlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdhdGV3YXktbWFwcGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4uLy4uLy4uL2NvbW1vbi91dGlsc1wiKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG52YXIgUXVvdGVNYXBwZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBRdW90ZU1hcHBlcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUXVvdGVNYXBwZXIpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFF1b3RlTWFwcGVyLCBbe1xuICAgIGtleTogXCJtYXBUb1F1b3RlXCIsXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BheW1lbnRSZXF1ZXN0RGF0YX0gZGF0YVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1hcFRvUXVvdGUoZGF0YSkge1xuICAgICAgcmV0dXJuICgwLCBfdXRpbHMub21pdE5pbCkoe1xuICAgICAgICBiaWxsaW5nX2FkZHJlc3M6IHRoaXMubWFwVG9BZGRyZXNzKGRhdGEsICdiaWxsaW5nQWRkcmVzcycpLFxuICAgICAgICBzaGlwcGluZ19hZGRyZXNzOiB0aGlzLm1hcFRvQWRkcmVzcyhkYXRhLCAnc2hpcHBpbmdBZGRyZXNzJylcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UGF5bWVudFJlcXVlc3REYXRhfSBkYXRhXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGFkZHJlc3NLZXlcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibWFwVG9BZGRyZXNzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1hcFRvQWRkcmVzcyhkYXRhLCBhZGRyZXNzS2V5KSB7XG4gICAgICB2YXIgX2RhdGEkY3VzdG9tZXIgPSBkYXRhLmN1c3RvbWVyLFxuICAgICAgICAgIGN1c3RvbWVyID0gX2RhdGEkY3VzdG9tZXIgPT09IHZvaWQgMCA/IHt9IDogX2RhdGEkY3VzdG9tZXI7XG4gICAgICB2YXIgYWRkcmVzcyA9IGRhdGFbYWRkcmVzc0tleV0gfHwge307XG4gICAgICByZXR1cm4gKDAsIF91dGlscy5vbWl0TmlsKSh7XG4gICAgICAgIGFkZHJlc3NfbGluZV8xOiBhZGRyZXNzLmFkZHJlc3NMaW5lMSxcbiAgICAgICAgYWRkcmVzc19saW5lXzI6IGFkZHJlc3MuYWRkcmVzc0xpbmUyLFxuICAgICAgICBjaXR5OiBhZGRyZXNzLmNpdHksXG4gICAgICAgIGNvbXBhbnk6IGFkZHJlc3MuY29tcGFueSxcbiAgICAgICAgY291bnRyeV9jb2RlOiBhZGRyZXNzLmNvdW50cnlDb2RlLFxuICAgICAgICBlbWFpbDogY3VzdG9tZXIuZW1haWwsXG4gICAgICAgIGZpcnN0X25hbWU6IGFkZHJlc3MuZmlyc3ROYW1lLFxuICAgICAgICBsYXN0X25hbWU6IGFkZHJlc3MubGFzdE5hbWUsXG4gICAgICAgIHBob25lOiBhZGRyZXNzLnBob25lLFxuICAgICAgICBwb3N0YWxfY29kZTogYWRkcmVzcy5wb3N0Q29kZSxcbiAgICAgICAgc3RhdGU6IGFkZHJlc3MucHJvdmluY2VcbiAgICAgIH0pO1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiBcImNyZWF0ZVwiLFxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge1F1b3RlTWFwcGVyfVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgICByZXR1cm4gbmV3IFF1b3RlTWFwcGVyKCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFF1b3RlTWFwcGVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBRdW90ZU1hcHBlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXF1b3RlLW1hcHBlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuLi8uLi8uLi9jb21tb24vdXRpbHNcIik7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxudmFyIFN0b3JlTWFwcGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU3RvcmVNYXBwZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN0b3JlTWFwcGVyKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhTdG9yZU1hcHBlciwgW3tcbiAgICBrZXk6IFwibWFwVG9TdG9yZVwiLFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQYXltZW50UmVxdWVzdERhdGF9IGRhdGFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXBUb1N0b3JlKGRhdGEpIHtcbiAgICAgIHJldHVybiAoMCwgX3V0aWxzLm9taXROaWwpKHtcbiAgICAgICAgbG9jYWxlOiB0aGlzLm1hcFRvTG9jYWxlKGRhdGEpLFxuICAgICAgICBzdG9yZV9pZGVudGl0eTogdGhpcy5tYXBUb0lkZW50aXR5KGRhdGEpLFxuICAgICAgICB1cmxzOiB0aGlzLm1hcFRvVXJscyhkYXRhKVxuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQYXltZW50UmVxdWVzdERhdGF9IGRhdGFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibWFwVG9Mb2NhbGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWFwVG9Mb2NhbGUoZGF0YSkge1xuICAgICAgdmFyIF9kYXRhJHN0b3JlID0gZGF0YS5zdG9yZSxcbiAgICAgICAgICBzdG9yZSA9IF9kYXRhJHN0b3JlID09PSB2b2lkIDAgPyB7fSA6IF9kYXRhJHN0b3JlO1xuICAgICAgcmV0dXJuICgwLCBfdXRpbHMub21pdE5pbCkoe1xuICAgICAgICBjb3VudHJ5X2NvZGU6IHN0b3JlLmNvdW50cnlDb2RlLFxuICAgICAgICBjdXJyZW5jeV9jb2RlOiBzdG9yZS5jdXJyZW5jeUNvZGUsXG4gICAgICAgIGxhbmd1YWdlX2NvZGU6IHN0b3JlLnN0b3JlTGFuZ3VhZ2VcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UGF5bWVudFJlcXVlc3REYXRhfSBkYXRhXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm1hcFRvSWRlbnRpdHlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWFwVG9JZGVudGl0eShkYXRhKSB7XG4gICAgICB2YXIgX2RhdGEkc3RvcmUyID0gZGF0YS5zdG9yZSxcbiAgICAgICAgICBzdG9yZSA9IF9kYXRhJHN0b3JlMiA9PT0gdm9pZCAwID8ge30gOiBfZGF0YSRzdG9yZTI7XG4gICAgICByZXR1cm4gKDAsIF91dGlscy5vbWl0TmlsKSh7XG4gICAgICAgIGlkOiBzdG9yZS5zdG9yZUlkID8gKDAsIF91dGlscy50b051bWJlcikoc3RvcmUuc3RvcmVJZCkgOiBudWxsLFxuICAgICAgICBuYW1lOiBzdG9yZS5zdG9yZU5hbWVcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UGF5bWVudFJlcXVlc3REYXRhfSBkYXRhXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm1hcFRvVXJsc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXBUb1VybHMoZGF0YSkge1xuICAgICAgdmFyIF9kYXRhJHN0b3JlMyA9IGRhdGEuc3RvcmUsXG4gICAgICAgICAgc3RvcmUgPSBfZGF0YSRzdG9yZTMgPT09IHZvaWQgMCA/IHt9IDogX2RhdGEkc3RvcmUzO1xuICAgICAgcmV0dXJuICgwLCBfdXRpbHMub21pdE5pbCkoe1xuICAgICAgICBjYXJ0OiBzdG9yZS5jYXJ0TGluayxcbiAgICAgICAgY2hlY2tvdXQ6IHN0b3JlLmNoZWNrb3V0TGluayxcbiAgICAgICAgY29uZmlybWF0aW9uOiBzdG9yZS5vcmRlckNvbmZpcm1hdGlvbkxpbmssXG4gICAgICAgIGhvbWU6IHN0b3JlLnNob3BQYXRoXG4gICAgICB9KTtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogXCJjcmVhdGVcIixcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtTdG9yZU1hcHBlcn1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgICAgcmV0dXJuIG5ldyBTdG9yZU1hcHBlcigpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTdG9yZU1hcHBlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gU3RvcmVNYXBwZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdG9yZS1tYXBwZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfcmVxdWVzdFNlbmRlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uL2NvbW1vbi9odHRwLXJlcXVlc3QvcmVxdWVzdC1zZW5kZXJcIikpO1xuXG52YXIgX21ldGhvZFR5cGVzID0gcmVxdWlyZShcIi4uL2NvbW1vbi9odHRwLXJlcXVlc3QvbWV0aG9kLXR5cGVzXCIpO1xuXG52YXIgX3VybEhlbHBlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vdXJsLWhlbHBlclwiKSk7XG5cbnZhciBfbWFwcGVycyA9IHJlcXVpcmUoXCIuL3YyL21hcHBlcnNcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxudmFyIFN0b3JlUmVxdWVzdFNlbmRlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIF9jcmVhdGVDbGFzcyhTdG9yZVJlcXVlc3RTZW5kZXIsIG51bGwsIFt7XG4gICAga2V5OiBcImNyZWF0ZVwiLFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ1xuICAgICAqIEByZXR1cm5zIHtTdG9yZVJlcXVlc3RTZW5kZXJ9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZShjb25maWcpIHtcbiAgICAgIHZhciB1cmxIZWxwZXIgPSBfdXJsSGVscGVyLmRlZmF1bHQuY3JlYXRlKGNvbmZpZyk7XG5cbiAgICAgIHZhciByZXF1ZXN0U2VuZGVyID0gX3JlcXVlc3RTZW5kZXIuZGVmYXVsdC5jcmVhdGUoKTtcblxuICAgICAgcmV0dXJuIG5ldyBTdG9yZVJlcXVlc3RTZW5kZXIodXJsSGVscGVyLCByZXF1ZXN0U2VuZGVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtVcmxIZWxwZXJ9IHVybEhlbHBlclxuICAgICAqIEBwYXJhbSB7UmVxdWVzdFNlbmRlcn0gcmVxdWVzdFNlbmRlclxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxuICAgICAqL1xuXG4gIH1dKTtcblxuICBmdW5jdGlvbiBTdG9yZVJlcXVlc3RTZW5kZXIodXJsSGVscGVyLCByZXF1ZXN0U2VuZGVyKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN0b3JlUmVxdWVzdFNlbmRlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtVcmxIZWxwZXJ9XG4gICAgICovXG4gICAgdGhpcy51cmxIZWxwZXIgPSB1cmxIZWxwZXI7XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7UmVxdWVzdFNlbmRlcn1cbiAgICAgKi9cblxuICAgIHRoaXMucmVxdWVzdFNlbmRlciA9IHJlcXVlc3RTZW5kZXI7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja11cbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoU3RvcmVSZXF1ZXN0U2VuZGVyLCBbe1xuICAgIGtleTogXCJsb2FkSW5zdHJ1bWVudHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbG9hZEluc3RydW1lbnRzKGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgdXJsID0gdGhpcy51cmxIZWxwZXIuZ2V0SW5zdHJ1bWVudHNVcmwoZGF0YS5zdG9yZUlkLCBkYXRhLmN1c3RvbWVySWQsIGRhdGEuY3VycmVuY3lDb2RlKTtcbiAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICBoZWFkZXJzOiAoMCwgX21hcHBlcnMubWFwVG9IZWFkZXJzKShkYXRhKVxuICAgICAgfTtcbiAgICAgIHRoaXMucmVxdWVzdFNlbmRlci5zZW5kUmVxdWVzdCh1cmwsIG51bGwsIG9wdGlvbnMsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImxvYWRJbnN0cnVtZW50c1dpdGhBZGRyZXNzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxvYWRJbnN0cnVtZW50c1dpdGhBZGRyZXNzKGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgdXJsID0gdGhpcy51cmxIZWxwZXIuZ2V0VHJ1c3RlZFNoaXBwaW5nQWRkcmVzc1VybChkYXRhLnN0b3JlSWQsIGRhdGEuY3VzdG9tZXJJZCwgZGF0YS5jdXJyZW5jeUNvZGUpO1xuICAgICAgdmFyIHBheWxvYWQgPSAoMCwgX21hcHBlcnMubWFwVG9UcnVzdGVkU2hpcHBpbmdBZGRyZXNzUGF5bG9hZCkoZGF0YSk7XG4gICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgbWV0aG9kOiBfbWV0aG9kVHlwZXMuUE9TVCxcbiAgICAgICAgaGVhZGVyczogKDAsIF9tYXBwZXJzLm1hcFRvSGVhZGVycykoZGF0YSlcbiAgICAgIH07XG4gICAgICB0aGlzLnJlcXVlc3RTZW5kZXIucG9zdFJlcXVlc3QodXJsLCBwYXlsb2FkLCBvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkZWxldGVTaG9wcGVySW5zdHJ1bWVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxldGVTaG9wcGVySW5zdHJ1bWVudChkYXRhLCBjYWxsYmFjaykge1xuICAgICAgdmFyIHVybCA9IHRoaXMudXJsSGVscGVyLmdldEluc3RydW1lbnRCeUlkVXJsKGRhdGEuc3RvcmVJZCwgZGF0YS5jdXN0b21lcklkLCBkYXRhLmluc3RydW1lbnRJZCwgZGF0YS5jdXJyZW5jeUNvZGUpO1xuICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgIG1ldGhvZDogX21ldGhvZFR5cGVzLkRFTEVURSxcbiAgICAgICAgaGVhZGVyczogKDAsIF9tYXBwZXJzLm1hcFRvSGVhZGVycykoZGF0YSlcbiAgICAgIH07XG4gICAgICB0aGlzLnJlcXVlc3RTZW5kZXIuc2VuZFJlcXVlc3QodXJsLCBudWxsLCBvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFN0b3JlUmVxdWVzdFNlbmRlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gU3RvcmVSZXF1ZXN0U2VuZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RvcmUtcmVxdWVzdC1zZW5kZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxudmFyIFVybEhlbHBlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIF9jcmVhdGVDbGFzcyhVcmxIZWxwZXIsIG51bGwsIFt7XG4gICAga2V5OiBcImNyZWF0ZVwiLFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25maWcuaG9zdFxuICAgICAqIEByZXR1cm5zIHtDdXN0b21lck1hcHBlcn1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKGNvbmZpZykge1xuICAgICAgcmV0dXJuIG5ldyBVcmxIZWxwZXIoY29uZmlnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25maWcuaG9zdFxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxuICAgICAqL1xuXG4gIH1dKTtcblxuICBmdW5jdGlvbiBVcmxIZWxwZXIoY29uZmlnKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFVybEhlbHBlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gIH1cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqIEB0aHJvd3Mge0Vycm9yfVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhVcmxIZWxwZXIsIFt7XG4gICAga2V5OiBcImdldEluc3RydW1lbnRzVXJsXCIsXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RvcmVJZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjdXN0b21lcklkXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGN1cnJlbmN5Q29kZVxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEluc3RydW1lbnRzVXJsKHN0b3JlSWQsIGN1c3RvbWVySWQsIGN1cnJlbmN5Q29kZSkge1xuICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KHRoaXMuaG9zdCwgXCIvYXBpL3YzL3N0b3Jlcy9cIikuY29uY2F0KHN0b3JlSWQsIFwiL3Nob3BwZXJzL1wiKS5jb25jYXQoY3VzdG9tZXJJZCwgXCIvaW5zdHJ1bWVudHM/Y3VycmVuY3lfY29kZT1cIikuY29uY2F0KGN1cnJlbmN5Q29kZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdG9yZUlkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGN1c3RvbWVySWRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY3VycmVuY3lDb2RlXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0VHJ1c3RlZFNoaXBwaW5nQWRkcmVzc1VybFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUcnVzdGVkU2hpcHBpbmdBZGRyZXNzVXJsKHN0b3JlSWQsIGN1c3RvbWVySWQsIGN1cnJlbmN5Q29kZSkge1xuICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KHRoaXMuaG9zdCwgXCIvYXBpL3YzL3N0b3Jlcy9cIikuY29uY2F0KHN0b3JlSWQsIFwiL3Nob3BwZXJzL1wiKS5jb25jYXQoY3VzdG9tZXJJZCwgXCIvaW5zdHJ1bWVudHMvdHJ1c3RlZF9zaGlwcGluZ19hZGRyZXNzP2N1cnJlbmN5X2NvZGU9XCIpLmNvbmNhdChjdXJyZW5jeUNvZGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RvcmVJZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjdXN0b21lcklkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluc3RydW1lbnRJZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjdXJyZW5jeUNvZGVcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0SW5zdHJ1bWVudEJ5SWRVcmxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW5zdHJ1bWVudEJ5SWRVcmwoc3RvcmVJZCwgY3VzdG9tZXJJZCwgaW5zdHJ1bWVudElkLCBjdXJyZW5jeUNvZGUpIHtcbiAgICAgIHJldHVybiBcIlwiLmNvbmNhdCh0aGlzLmhvc3QsIFwiL2FwaS92Mi9zdG9yZXMvXCIpLmNvbmNhdChzdG9yZUlkLCBcIi9zaG9wcGVycy9cIikuY29uY2F0KGN1c3RvbWVySWQsIFwiL2luc3RydW1lbnRzL1wiKS5jb25jYXQoaW5zdHJ1bWVudElkLCBcIj9jdXJyZW5jeV9jb2RlPVwiKS5jb25jYXQoY3VycmVuY3lDb2RlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaG9zdFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgaWYgKCF0aGlzLmNvbmZpZyB8fCAhdGhpcy5jb25maWcuaG9zdCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0hvc3QgVVJMIHVuYXZhaWxhYmxlIG9yIG5vdCBzdXBwbGllZC4nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmhvc3Q7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFVybEhlbHBlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVXJsSGVscGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXJsLWhlbHBlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMubWFwVG9JbnN0cnVtZW50UGF5bG9hZCA9IG1hcFRvSW5zdHJ1bWVudFBheWxvYWQ7XG5leHBvcnRzLm1hcFRvVHJ1c3RlZFNoaXBwaW5nQWRkcmVzc1BheWxvYWQgPSBtYXBUb1RydXN0ZWRTaGlwcGluZ0FkZHJlc3NQYXlsb2FkO1xuZXhwb3J0cy5tYXBUb0hlYWRlcnMgPSBtYXBUb0hlYWRlcnM7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vY29tbW9uL3V0aWxzXCIpO1xuXG4vKipcbiAqIEBwYXJhbSB7T2JqZWN0fSBbZGF0YT17fV1cbiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhLmJpbGxpbmdBZGRyZXNzXG4gKiBAcGFyYW0ge0NyZWRpdENhcmR9IGRhdGEuY3JlZGl0Q2FyZFxuICogQHBhcmFtIHtib29sZWFufSBkYXRhLmRlZmF1bHRJbnN0cnVtZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gZGF0YS5wcm92aWRlck5hbWVcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gbWFwVG9JbnN0cnVtZW50UGF5bG9hZCgpIHtcbiAgdmFyIGRhdGEgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICB2YXIgcHJvdmlkZXJOYW1lID0gZGF0YS5wcm92aWRlck5hbWUsXG4gICAgICBkZWZhdWx0SW5zdHJ1bWVudCA9IGRhdGEuZGVmYXVsdEluc3RydW1lbnQ7XG4gIHZhciBwcm92aWRlciA9ICgwLCBfdXRpbHMub21pdE5pbCkoe1xuICAgIG5hbWU6IHByb3ZpZGVyTmFtZVxuICB9KTtcbiAgcmV0dXJuICgwLCBfdXRpbHMub21pdE5pbCkoe1xuICAgIHByb3ZpZGVyOiBwcm92aWRlcixcbiAgICBjcmVkaXRfY2FyZDogbWFwVG9DcmVkaXRDYXJkKGRhdGEpLFxuICAgIGJpbGxpbmdfYWRkcmVzczogbWFwVG9BZGRyZXNzKGRhdGEuYmlsbGluZ0FkZHJlc3MpLFxuICAgIGRlZmF1bHRfaW5zdHJ1bWVudDogZGVmYXVsdEluc3RydW1lbnRcbiAgfSk7XG59XG4vKipcbiAqIEBwYXJhbSB7T2JqZWN0fSBbZGF0YT17fV1cbiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhLnNoaXBwaW5nQWRkcmVzc1xuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5cblxuZnVuY3Rpb24gbWFwVG9UcnVzdGVkU2hpcHBpbmdBZGRyZXNzUGF5bG9hZCgpIHtcbiAgdmFyIGRhdGEgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICByZXR1cm4gKDAsIF91dGlscy5vbWl0TmlsKSh7XG4gICAgc2hpcHBpbmdfYWRkcmVzczogbWFwVG9BZGRyZXNzKGRhdGEuc2hpcHBpbmdBZGRyZXNzKVxuICB9KTtcbn1cbi8qKlxuICogQHBhcmFtIHtPYmplY3R9IGRhdGFcbiAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhLmF1dGhUb2tlblxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5cblxuZnVuY3Rpb24gbWFwVG9IZWFkZXJzKCkge1xuICB2YXIgX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge30sXG4gICAgICBBdXRob3JpemF0aW9uID0gX3JlZi5hdXRoVG9rZW47XG5cbiAgcmV0dXJuICgwLCBfdXRpbHMub21pdE5pbCkoe1xuICAgIEF1dGhvcml6YXRpb246IEF1dGhvcml6YXRpb25cbiAgfSk7XG59XG4vKipcbiAqIEBwYXJhbSB7QWRkcmVzc0RhdGF9IGFkZHJlc3NcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuXG5cbmZ1bmN0aW9uIG1hcFRvQWRkcmVzcygpIHtcbiAgdmFyIGFkZHJlc3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICB2YXIgc3RhdGUgPSBtYXBUb1N0YXRlKGFkZHJlc3MucHJvdmluY2VDb2RlLCBhZGRyZXNzLnByb3ZpbmNlKTtcbiAgcmV0dXJuICgwLCBfdXRpbHMub21pdE5pbCkoe1xuICAgIGFkZHJlc3NfbGluZV8xOiBhZGRyZXNzLmFkZHJlc3NMaW5lMSxcbiAgICBhZGRyZXNzX2xpbmVfMjogYWRkcmVzcy5hZGRyZXNzTGluZTIsXG4gICAgY2l0eTogYWRkcmVzcy5jaXR5LFxuICAgIGNvbXBhbnk6IGFkZHJlc3MuY29tcGFueSxcbiAgICBjb3VudHJ5X2NvZGU6IGFkZHJlc3MuY291bnRyeUNvZGUsXG4gICAgZW1haWw6IGFkZHJlc3MuZW1haWwsXG4gICAgZmlyc3RfbmFtZTogYWRkcmVzcy5maXJzdE5hbWUsXG4gICAgbGFzdF9uYW1lOiBhZGRyZXNzLmxhc3ROYW1lLFxuICAgIHBob25lOiBhZGRyZXNzLnBob25lLFxuICAgIHBvc3RhbF9jb2RlOiBhZGRyZXNzLnBvc3RDb2RlLFxuICAgIHN0YXRlOiBzdGF0ZVxuICB9KTtcbn1cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvZGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cblxuXG5mdW5jdGlvbiBtYXBUb1N0YXRlKGNvZGUsIG5hbWUpIHtcbiAgcmV0dXJuICgwLCBfdXRpbHMub21pdE5pbCkoe1xuICAgIGNvZGU6IGNvZGUsXG4gICAgbmFtZTogbmFtZVxuICB9KTtcbn1cbi8qKlxuICogQHBhcmFtIHtPYmplY3R9IGRhdGFcbiAqIEBwYXJhbSB7Q3JlZGl0Q2FyZH0gZGF0YS5jcmVkaXRDYXJkXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cblxuXG5mdW5jdGlvbiBtYXBUb0NyZWRpdENhcmQoX3JlZjIpIHtcbiAgdmFyIF9yZWYyJGNyZWRpdENhcmQgPSBfcmVmMi5jcmVkaXRDYXJkLFxuICAgICAgY3JlZGl0Q2FyZCA9IF9yZWYyJGNyZWRpdENhcmQgPT09IHZvaWQgMCA/IHt9IDogX3JlZjIkY3JlZGl0Q2FyZDtcbiAgdmFyIHRocmVlRFNlY3VyZSA9ICgwLCBfdXRpbHMub21pdE5pbCkoY3JlZGl0Q2FyZC50aHJlZURTZWN1cmUpO1xuICByZXR1cm4gKDAsIF91dGlscy5vbWl0TmlsKSh7XG4gICAgY2FyZGhvbGRlcl9uYW1lOiBjcmVkaXRDYXJkLmNhcmRob2xkZXJOYW1lLFxuICAgIG51bWJlcjogY3JlZGl0Q2FyZC5udW1iZXIsXG4gICAgbW9udGg6IGNyZWRpdENhcmQubW9udGgsXG4gICAgeWVhcjogY3JlZGl0Q2FyZC55ZWFyLFxuICAgIHZlcmlmaWNhdGlvbl9jb2RlOiBjcmVkaXRDYXJkLnZlcmlmaWNhdGlvbkNvZGUsXG4gICAgaXNzdWVfbW9udGg6IGNyZWRpdENhcmQuaXNzdWVNb250aCxcbiAgICBpc3N1ZV95ZWFyOiBjcmVkaXRDYXJkLmlzc3VlWWVhcixcbiAgICBpc3N1ZV9udW1iZXI6IGNyZWRpdENhcmQuaXNzdWVOdW1iZXIsXG4gICAgdHJhY2tfZGF0YTogY3JlZGl0Q2FyZC50cmFja0RhdGEsXG4gICAgaXNfbWFudWFsX2VudHJ5OiBjcmVkaXRDYXJkLmlzTWFudWFsRW50cnksXG4gICAgaWNjX2RhdGE6IGNyZWRpdENhcmQuaWNjRGF0YSxcbiAgICBmYWxsYmFja19yZWFzb246IGNyZWRpdENhcmQuZmFsbGJhY2tSZWFzb24sXG4gICAgaXNfY29udGFjdGxlc3M6IGNyZWRpdENhcmQuaXNDb250YWN0bGVzcyxcbiAgICBlbmNyeXB0ZWRfcGluX2NyeXB0b2dyYW06IGNyZWRpdENhcmQuZW5jcnlwdGVkUGluQ3J5cHRvZ3JhbSxcbiAgICBlbmNyeXB0ZWRfcGluX2tzbjogY3JlZGl0Q2FyZC5lbmNyeXB0ZWRQaW5Lc24sXG4gICAgdGhyZWVfZF9zZWN1cmU6IHRocmVlRFNlY3VyZVxuICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIm1vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Z1bmN0aW9uIG4ocil7aWYoZVtyXSlyZXR1cm4gZVtyXS5leHBvcnRzO3ZhciBpPWVbcl09e2k6cixsOiExLGV4cG9ydHM6e319O3JldHVybiB0W3JdLmNhbGwoaS5leHBvcnRzLGksaS5leHBvcnRzLG4pLGkubD0hMCxpLmV4cG9ydHN9cmV0dXJuIG4ubT10LG4uYz1lLG4uZD1mdW5jdGlvbih0LGUscil7bi5vKHQsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2VudW1lcmFibGU6ITAsZ2V0OnJ9KX0sbi5yPWZ1bmN0aW9uKHQpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LG4udD1mdW5jdGlvbih0LGUpe2lmKDEmZSYmKHQ9bih0KSksOCZlKXJldHVybiB0O2lmKDQmZSYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgcj1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG4ucihyKSxPYmplY3QuZGVmaW5lUHJvcGVydHkocixcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTp0fSksMiZlJiZcInN0cmluZ1wiIT10eXBlb2YgdClmb3IodmFyIGkgaW4gdCluLmQocixpLGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfS5iaW5kKG51bGwsaSkpO3JldHVybiByfSxuLm49ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIHQuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gdH07cmV0dXJuIG4uZChlLFwiYVwiLGUpLGV9LG4ubz1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0sbi5wPVwiXCIsbihuLnM9MTk1KX0oW2Z1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXJlcXVpcmUoXCJ0c2xpYlwiKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9cmVxdWlyZShcIkBiaWdjb21tZXJjZS9kYXRhLXN0b3JlXCIpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1yZXF1aXJlKFwibG9kYXNoXCIpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1yZXF1aXJlKFwicnhqc1wiKX0sLGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXJlcXVpcmUoXCJAYmlnY29tbWVyY2UvbWVtb2l6ZVwiKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiByfSkpLGZ1bmN0aW9uKHQpe3QuQ3JlYXRlQ29uc2lnbm1lbnRzUmVxdWVzdGVkPVwiQ1JFQVRFX0NPTlNJR05NRU5UU19SRVFVRVNURURcIix0LkNyZWF0ZUNvbnNpZ25tZW50c1N1Y2NlZWRlZD1cIkNSRUFURV9DT05TSUdOTUVOVFNfU1VDQ0VFREVEXCIsdC5DcmVhdGVDb25zaWdubWVudHNGYWlsZWQ9XCJDUkVBVEVfQ09OU0lHTk1FTlRTX0ZBSUxFRFwiLHQuVXBkYXRlQ29uc2lnbm1lbnRSZXF1ZXN0ZWQ9XCJVUERBVEVfQ09OU0lHTk1FTlRfUkVRVUVTVEVEXCIsdC5VcGRhdGVDb25zaWdubWVudFN1Y2NlZWRlZD1cIlVQREFURV9DT05TSUdOTUVOVF9TVUNDRUVERURcIix0LlVwZGF0ZUNvbnNpZ25tZW50RmFpbGVkPVwiVVBEQVRFX0NPTlNJR05NRU5UX0ZBSUxFRFwiLHQuRGVsZXRlQ29uc2lnbm1lbnRSZXF1ZXN0ZWQ9XCJERUxFVEVfQ09OU0lHTk1FTlRfUkVRVUVTVEVEXCIsdC5EZWxldGVDb25zaWdubWVudFN1Y2NlZWRlZD1cIkRFTEVURV9DT05TSUdOTUVOVF9TVUNDRUVERURcIix0LkRlbGV0ZUNvbnNpZ25tZW50RmFpbGVkPVwiREVMRVRFX0NPTlNJR05NRU5UX0ZBSUxFRFwiLHQuVXBkYXRlU2hpcHBpbmdPcHRpb25SZXF1ZXN0ZWQ9XCJVUERBVEVfU0hJUFBJTkdfT1BUSU9OX1JFUVVFU1RFRFwiLHQuVXBkYXRlU2hpcHBpbmdPcHRpb25TdWNjZWVkZWQ9XCJVUERBVEVfU0hJUFBJTkdfT1BUSU9OX1NVQ0NFRURFRFwiLHQuVXBkYXRlU2hpcHBpbmdPcHRpb25GYWlsZWQ9XCJVUERBVEVfU0hJUFBJTkdfT1BUSU9OX0ZBSUxFRFwiLHQuTG9hZFNoaXBwaW5nT3B0aW9uc1JlcXVlc3RlZD1cIkxPQURfU0hJUFBJTkdfT1BUSU9OU19SRVFVRVNURURcIix0LkxvYWRTaGlwcGluZ09wdGlvbnNTdWNjZWVkZWQ9XCJMT0FEX1NISVBQSU5HX09QVElPTlNfU1VDQ0VFREVEXCIsdC5Mb2FkU2hpcHBpbmdPcHRpb25zRmFpbGVkPVwiTE9BRF9TSElQUElOR19PUFRJT05TX0ZBSUxFRFwifShyfHwocj17fSkpfSwsZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9cmVxdWlyZShcInJ4anMvb3BlcmF0b3JzXCIpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksZnVuY3Rpb24odCl7dC5VcGRhdGVBZGRyZXNzRmFpbGVkPVwiU0hJUFBJTkdfU1RSQVRFR1lfVVBEQVRFX0FERFJFU1NfRkFJTEVEXCIsdC5VcGRhdGVBZGRyZXNzUmVxdWVzdGVkPVwiU0hJUFBJTkdfU1RSQVRFR1lfVVBEQVRFX0FERFJFU1NfUkVRVUVTVEVEXCIsdC5VcGRhdGVBZGRyZXNzU3VjY2VlZGVkPVwiU0hJUFBJTkdfU1RSQVRFR1lfVVBEQVRFX0FERFJFU1NfU1VDQ0VFREVEXCIsdC5TZWxlY3RPcHRpb25GYWlsZWQ9XCJTSElQUElOR19TVFJBVEVHWV9TRUxFQ1RfT1BUSU9OX0ZBSUxFRFwiLHQuU2VsZWN0T3B0aW9uUmVxdWVzdGVkPVwiU0hJUFBJTkdfU1RSQVRFR1lfU0VMRUNUX09QVElPTl9SRVFVRVNURURcIix0LlNlbGVjdE9wdGlvblN1Y2NlZWRlZD1cIlNISVBQSU5HX1NUUkFURUdZX1NFTEVDVF9PUFRJT05fU1VDQ0VFREVEXCIsdC5Jbml0aWFsaXplRmFpbGVkPVwiU0hJUFBJTkdfU1RSQVRFR1lfSU5JVElBTElaRV9GQUlMRURcIix0LkluaXRpYWxpemVSZXF1ZXN0ZWQ9XCJTSElQUElOR19TVFJBVEVHWV9JTklUSUFMSVpFX1JFUVVFU1RFRFwiLHQuSW5pdGlhbGl6ZVN1Y2NlZWRlZD1cIlNISVBQSU5HX1NUUkFURUdZX0lOSVRJQUxJWkVfU1VDQ0VFREVEXCIsdC5EZWluaXRpYWxpemVGYWlsZWQ9XCJTSElQUElOR19TVFJBVEVHWV9ERUlOSVRJQUxJWkVfRkFJTEVEXCIsdC5EZWluaXRpYWxpemVSZXF1ZXN0ZWQ9XCJTSElQUElOR19TVFJBVEVHWV9ERUlOSVRJQUxJWkVfUkVRVUVTVEVEXCIsdC5EZWluaXRpYWxpemVTdWNjZWVkZWQ9XCJTSElQUElOR19TVFJBVEVHWV9ERUlOSVRJQUxJWkVfU1VDQ0VFREVEXCIsdC5XaWRnZXRJbnRlcmFjdGlvblN0YXJ0ZWQ9XCJTSElQUElOR19TVFJBVEVHWV9XSURHRVRfSU5URVJBQ1RJT05fU1RBUlRFRFwiLHQuV2lkZ2V0SW50ZXJhY3Rpb25GaW5pc2hlZD1cIlNISVBQSU5HX1NUUkFURUdZX1dJREdFVF9JTlRFUkFDVElPTl9GSU5JU0hFRFwiLHQuV2lkZ2V0SW50ZXJhY3Rpb25GYWlsZWQ9XCJTSElQUElOR19TVFJBVEVHWV9XSURHRVRfSU5URVJBQ1RJT05fRkFJTEVEXCJ9KHJ8fChyPXt9KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcjtuLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxmdW5jdGlvbih0KXt0LlNpZ25JbkZhaWxlZD1cIkNVU1RPTUVSX1NUUkFURUdZX1NJR05fSU5fRkFJTEVEXCIsdC5TaWduSW5SZXF1ZXN0ZWQ9XCJDVVNUT01FUl9TVFJBVEVHWV9TSUdOX0lOX1JFUVVFU1RFRFwiLHQuU2lnbkluU3VjY2VlZGVkPVwiQ1VTVE9NRVJfU1RSQVRFR1lfU0lHTl9JTl9TVUNDRUVERURcIix0LlNpZ25PdXRGYWlsZWQ9XCJDVVNUT01FUl9TVFJBVEVHWV9TSUdOX09VVF9GQUlMRURcIix0LlNpZ25PdXRSZXF1ZXN0ZWQ9XCJDVVNUT01FUl9TVFJBVEVHWV9TSUdOX09VVF9SRVFVRVNURURcIix0LlNpZ25PdXRTdWNjZWVkZWQ9XCJDVVNUT01FUl9TVFJBVEVHWV9TSUdOX09VVF9TVUNDRUVERURcIix0LkluaXRpYWxpemVGYWlsZWQ9XCJDVVNUT01FUl9TVFJBVEVHWV9JTklUSUFMSVpFX0ZBSUxFRFwiLHQuSW5pdGlhbGl6ZVJlcXVlc3RlZD1cIkNVU1RPTUVSX1NUUkFURUdZX0lOSVRJQUxJWkVfUkVRVUVTVEVEXCIsdC5Jbml0aWFsaXplU3VjY2VlZGVkPVwiQ1VTVE9NRVJfU1RSQVRFR1lfSU5JVElBTElaRV9TVUNDRUVERURcIix0LkRlaW5pdGlhbGl6ZUZhaWxlZD1cIkNVU1RPTUVSX1NUUkFURUdZX0RFSU5JVElBTElaRV9GQUlMRURcIix0LkRlaW5pdGlhbGl6ZVJlcXVlc3RlZD1cIkNVU1RPTUVSX1NUUkFURUdZX0RFSU5JVElBTElaRV9SRVFVRVNURURcIix0LkRlaW5pdGlhbGl6ZVN1Y2NlZWRlZD1cIkNVU1RPTUVSX1NUUkFURUdZX0RFSU5JVElBTElaRV9TVUNDRUVERURcIix0LldpZGdldEludGVyYWN0aW9uU3RhcnRlZD1cIkNVU1RPTUVSX1NUUkFURUdZX1dJREdFVF9JTlRFUkFDVElPTl9TVEFSVEVEXCIsdC5XaWRnZXRJbnRlcmFjdGlvbkZpbmlzaGVkPVwiQ1VTVE9NRVJfU1RSQVRFR1lfV0lER0VUX0lOVEVSQUNUSU9OX0ZJTklTSEVEXCIsdC5XaWRnZXRJbnRlcmFjdGlvbkZhaWxlZD1cIkNVU1RPTUVSX1NUUkFURUdZX1dJREdFVF9JTlRFUkFDVElPTl9GQUlMRURcIn0ocnx8KHI9e30pKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiByfSkpLGZ1bmN0aW9uKHQpe3QuRXhlY3V0ZUZhaWxlZD1cIlBBWU1FTlRfU1RSQVRFR1lfRVhFQ1VURV9GQUlMRURcIix0LkV4ZWN1dGVSZXF1ZXN0ZWQ9XCJQQVlNRU5UX1NUUkFURUdZX0VYRUNVVEVfUkVRVUVTVEVEXCIsdC5FeGVjdXRlU3VjY2VlZGVkPVwiUEFZTUVOVF9TVFJBVEVHWV9FWEVDVVRFX1NVQ0NFRURFRFwiLHQuRmluYWxpemVGYWlsZWQ9XCJQQVlNRU5UX1NUUkFURUdZX0ZJTkFMSVpFX0ZBSUxFRFwiLHQuRmluYWxpemVSZXF1ZXN0ZWQ9XCJQQVlNRU5UX1NUUkFURUdZX0ZJTkFMSVpFX1JFUVVFU1RFRFwiLHQuRmluYWxpemVTdWNjZWVkZWQ9XCJQQVlNRU5UX1NUUkFURUdZX0ZJTkFMSVpFX1NVQ0NFRURFRFwiLHQuSW5pdGlhbGl6ZUZhaWxlZD1cIlBBWU1FTlRfU1RSQVRFR1lfSU5JVElBTElaRV9GQUlMRURcIix0LkluaXRpYWxpemVSZXF1ZXN0ZWQ9XCJQQVlNRU5UX1NUUkFURUdZX0lOSVRJQUxJWkVfUkVRVUVTVEVEXCIsdC5Jbml0aWFsaXplU3VjY2VlZGVkPVwiUEFZTUVOVF9TVFJBVEVHWV9JTklUSUFMSVpFX1NVQ0NFRURFRFwiLHQuRGVpbml0aWFsaXplRmFpbGVkPVwiUEFZTUVOVF9TVFJBVEVHWV9ERUlOSVRJQUxJWkVfRkFJTEVEXCIsdC5EZWluaXRpYWxpemVSZXF1ZXN0ZWQ9XCJQQVlNRU5UX1NUUkFURUdZX0RFSU5JVElBTElaRV9SRVFVRVNURURcIix0LkRlaW5pdGlhbGl6ZVN1Y2NlZWRlZD1cIlBBWU1FTlRfU1RSQVRFR1lfREVJTklUSUFMSVpFX1NVQ0NFRURFRFwiLHQuV2lkZ2V0SW50ZXJhY3Rpb25TdGFydGVkPVwiUEFZTUVOVF9TVFJBVEVHWV9XSURHRVRfSU5URVJBQ1RJT05fU1RBUlRFRFwiLHQuV2lkZ2V0SW50ZXJhY3Rpb25GaW5pc2hlZD1cIlBBWU1FTlRfU1RSQVRFR1lfV0lER0VUX0lOVEVSQUNUSU9OX0ZJTklTSEVEXCIsdC5XaWRnZXRJbnRlcmFjdGlvbkZhaWxlZD1cIlBBWU1FTlRfU1RSQVRFR1lfV0lER0VUX0lOVEVSQUNUSU9OX0ZBSUxFRFwifShyfHwocj17fSkpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSk7dmFyIHIsaT1uKDApLG89bigyMyk7IWZ1bmN0aW9uKHQpe3RbdC5NaXNzaW5nQmlsbGluZ0FkZHJlc3M9MF09XCJNaXNzaW5nQmlsbGluZ0FkZHJlc3NcIix0W3QuTWlzc2luZ0NhcnQ9MV09XCJNaXNzaW5nQ2FydFwiLHRbdC5NaXNzaW5nQ2hlY2tvdXQ9Ml09XCJNaXNzaW5nQ2hlY2tvdXRcIix0W3QuTWlzc2luZ0NvbnNpZ25tZW50cz0zXT1cIk1pc3NpbmdDb25zaWdubWVudHNcIix0W3QuTWlzc2luZ0NoZWNrb3V0Q29uZmlnPTRdPVwiTWlzc2luZ0NoZWNrb3V0Q29uZmlnXCIsdFt0Lk1pc3NpbmdPcmRlcj01XT1cIk1pc3NpbmdPcmRlclwiLHRbdC5NaXNzaW5nT3JkZXJDb25maWc9Nl09XCJNaXNzaW5nT3JkZXJDb25maWdcIix0W3QuTWlzc2luZ09yZGVySWQ9N109XCJNaXNzaW5nT3JkZXJJZFwiLHRbdC5NaXNzaW5nUGF5bWVudD04XT1cIk1pc3NpbmdQYXltZW50XCIsdFt0Lk1pc3NpbmdQYXltZW50SW5zdHJ1bWVudD05XT1cIk1pc3NpbmdQYXltZW50SW5zdHJ1bWVudFwiLHRbdC5NaXNzaW5nUGF5bWVudE1ldGhvZD0xMF09XCJNaXNzaW5nUGF5bWVudE1ldGhvZFwiLHRbdC5NaXNzaW5nUGF5bWVudFRva2VuPTExXT1cIk1pc3NpbmdQYXltZW50VG9rZW5cIix0W3QuTWlzc2luZ1NoaXBwaW5nQWRkcmVzcz0xMl09XCJNaXNzaW5nU2hpcHBpbmdBZGRyZXNzXCJ9KHJ8fChyPXt9KSk7dmFyIGE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godCl7Y2FzZSByLk1pc3NpbmdCaWxsaW5nQWRkcmVzczpyZXR1cm5cIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgYmlsbGluZyBhZGRyZXNzIGRhdGEgaXMgdW5hdmFpbGFibGUuXCI7Y2FzZSByLk1pc3NpbmdDYXJ0OnJldHVyblwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBjYXJ0IGRhdGEgaXMgdW5hdmFpbGFibGUuXCI7Y2FzZSByLk1pc3NpbmdDb25zaWdubWVudHM6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGNvbnNpZ25tZW50cyBkYXRhIGlzIHVuYXZhaWxhYmxlLlwiO2Nhc2Ugci5NaXNzaW5nQ2hlY2tvdXQ6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGNoZWNrb3V0IGRhdGEgaXMgdW5hdmFpbGFibGUuXCI7Y2FzZSByLk1pc3NpbmdDaGVja291dENvbmZpZzpjYXNlIHIuTWlzc2luZ09yZGVyQ29uZmlnOnJldHVyblwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBjb25maWd1cmF0aW9uIGRhdGEgaXMgdW5hdmFpbGFibGUuXCI7Y2FzZSByLk1pc3NpbmdPcmRlcjpyZXR1cm5cIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2Ugb3JkZXIgZGF0YSBpcyB1bmF2YWlsYWJsZS5cIjtjYXNlIHIuTWlzc2luZ09yZGVySWQ6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIG9yZGVyIElEIGlzIHVuYXZhaWxhYmxlIG9yIG5vdCBnZW5lcmF0ZWQgeWV0LlwiO2Nhc2Ugci5NaXNzaW5nUGF5bWVudDpyZXR1cm5cIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgcGF5bWVudCBkYXRhIGlzIHVuYXZhaWxhYmxlLlwiO2Nhc2Ugci5NaXNzaW5nUGF5bWVudFRva2VuOnJldHVyblwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgdG9rZW4gcmVxdWlyZWQgdG8gc3VibWl0IGEgcGF5bWVudCBpcyBtaXNzaW5nLlwiO2Nhc2Ugci5NaXNzaW5nUGF5bWVudE1ldGhvZDpyZXR1cm5cIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgcGF5bWVudCBtZXRob2QgZGF0YSBpcyB1bmF2YWlsYWJsZSBvciBub3QgcHJvcGVybHkgY29uZmlndXJlZC5cIjtjYXNlIHIuTWlzc2luZ1NoaXBwaW5nQWRkcmVzczpyZXR1cm5cIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2Ugc2hpcHBpbmcgYWRkcmVzcyBkYXRhIGlzIHVuYXZhaWxhYmxlLlwiO2RlZmF1bHQ6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSByZXF1aXJlZCBkYXRhIGlzIHVuYXZhaWxhYmxlLlwifX0oZSkpfHx0aGlzO3JldHVybiBuLnN1YnR5cGU9ZSxuLm5hbWU9XCJNaXNzaW5nRGF0YUVycm9yXCIsbi50eXBlPVwibWlzc2luZ19kYXRhXCIsbn1yZXR1cm4gT2JqZWN0KGkuX19leHRlbmRzKShlLHQpLGV9KG8uYSk7ZS5iPWF9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcjshZnVuY3Rpb24odCl7dC5BRFlFTlYyPVwiYWR5ZW52MlwiLHQuQURZRU5WMl9HT09HTEVQQVk9XCJnb29nbGVwYXlhZHllbnYyXCIsdC5BRkZJUk09XCJhZmZpcm1cIix0LkFGVEVSUEFZPVwiYWZ0ZXJwYXlcIix0LkFNQVpPTj1cImFtYXpvblwiLHQuQVVUSE9SSVpFTkVUX0dPT0dMRV9QQVk9XCJnb29nbGVwYXlhdXRob3JpemVuZXRcIix0LkFNQVpPTlBBWVYyPVwiYW1hem9ucGF5XCIsdC5CQVJDTEFZUz1cImJhcmNsYXlzXCIsdC5CTFVFU05BUFYyPVwiYmx1ZXNuYXB2MlwiLHQuQk9MVD1cImJvbHRcIix0LkNIRUNLT1VUQ09NPVwiY2hlY2tvdXRjb21cIix0LkNSRURJVF9DQVJEPVwiY3JlZGl0Y2FyZFwiLHQuQ0hFQ0tPVVRDT01fR09PR0xFX1BBWT1cImdvb2dsZXBheWNoZWNrb3V0Y29tXCIsdC5DWUJFUlNPVVJDRT1cImN5YmVyc291cmNlXCIsdC5DWUJFUlNPVVJDRVYyPVwiY3liZXJzb3VyY2V2MlwiLHQuS0xBUk5BPVwia2xhcm5hXCIsdC5LTEFSTkFWMj1cImtsYXJuYXYyXCIsdC5MQVlCVVk9XCJsYXlidXlcIix0LkxFR0FDWT1cImxlZ2FjeVwiLHQuT0ZGTElORT1cIm9mZmxpbmVcIix0Lk9GRlNJVEU9XCJvZmZzaXRlXCIsdC5QQVlQQUw9XCJwYXlwYWxcIix0LlBBWVBBTF9FWFBSRVNTPVwicGF5cGFsZXhwcmVzc1wiLHQuUEFZUEFMX0VYUFJFU1NfQ1JFRElUPVwicGF5cGFsZXhwcmVzc2NyZWRpdFwiLHQuUEFZUEFMX0NPTU1FUkNFPVwicGF5cGFsY29tbWVyY2VcIix0LlBBWVBBTF9DT01NRVJDRV9DUkVESVQ9XCJwYXlwYWxjb21tZXJjZWNyZWRpdFwiLHQuUEFZUEFMX0NPTU1FUkNFX0NSRURJVF9DQVJEPVwicGF5cGFsY29tbWVyY2VjcmVkaXRjYXJkc1wiLHQuUEFZUEFMX0NPTU1FUkNFX0FMVEVSTkFUSVZFX01FVEhPRFM9XCJwYXlwYWxjb21tZXJjZWFsdGVybmF0aXZlbWV0aG9kc1wiLHQuU0FHRV9QQVk9XCJzYWdlcGF5XCIsdC5TUVVBUkU9XCJzcXVhcmV2MlwiLHQuU1RSSVBFVjM9XCJzdHJpcGV2M1wiLHQuTk9fUEFZTUVOVF9EQVRBX1JFUVVJUkVEPVwibm9wYXltZW50ZGF0YXJlcXVpcmVkXCIsdC5CUkFJTlRSRUU9XCJicmFpbnRyZWVcIix0LkJSQUlOVFJFRV9QQVlQQUw9XCJicmFpbnRyZWVwYXlwYWxcIix0LkJSQUlOVFJFRV9QQVlQQUxfQ1JFRElUPVwiYnJhaW50cmVlcGF5cGFsY3JlZGl0XCIsdC5CUkFJTlRSRUVfVklTQV9DSEVDS09VVD1cImJyYWludHJlZXZpc2FjaGVja291dFwiLHQuQlJBSU5UUkVFX0dPT0dMRV9QQVk9XCJnb29nbGVwYXlicmFpbnRyZWVcIix0LkNIQVNFX1BBWT1cImNoYXNlcGF5XCIsdC5XRV9QQVk9XCJ3ZXBheVwiLHQuTUFTVEVSUEFTUz1cIm1hc3RlcnBhc3NcIix0LlNUUklQRV9HT09HTEVfUEFZPVwiZ29vZ2xlcGF5c3RyaXBlXCIsdC5TRVpaTEU9XCJzZXp6bGVcIix0LlpJUD1cInppcFwiLHQuQ09OVkVSR0U9XCJjb252ZXJnZVwifShyfHwocj17fSkpLGUuYT1yfSwsLCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksZnVuY3Rpb24odCl7dC5Mb2FkQ2hlY2tvdXRSZXF1ZXN0ZWQ9XCJMT0FEX0NIRUNLT1VUX1JFUVVFU1RFRFwiLHQuTG9hZENoZWNrb3V0U3VjY2VlZGVkPVwiTE9BRF9DSEVDS09VVF9TVUNDRUVERURcIix0LkxvYWRDaGVja291dEZhaWxlZD1cIkxPQURfQ0hFQ0tPVVRfRkFJTEVEXCIsdC5VcGRhdGVDaGVja291dFJlcXVlc3RlZD1cIlVQREFURV9DSEVDS09VVF9SRVFVRVNURURcIix0LlVwZGF0ZUNoZWNrb3V0U3VjY2VlZGVkPVwiVVBEQVRFX0NIRUNLT1VUX1NVQ0NFRURFRFwiLHQuVXBkYXRlQ2hlY2tvdXRGYWlsZWQ9XCJVUERBVEVfQ0hFQ0tPVVRfRkFJTEVEXCJ9KHJ8fChyPXt9KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcjtuLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxmdW5jdGlvbih0KXt0LkxvYWRPcmRlclJlcXVlc3RlZD1cIkxPQURfT1JERVJfUkVRVUVTVEVEXCIsdC5Mb2FkT3JkZXJTdWNjZWVkZWQ9XCJMT0FEX09SREVSX1NVQ0NFRURFRFwiLHQuTG9hZE9yZGVyRmFpbGVkPVwiTE9BRF9PUkRFUl9GQUlMRURcIix0LkxvYWRPcmRlclBheW1lbnRzUmVxdWVzdGVkPVwiTE9BRF9PUkRFUl9QQVlNRU5UU19SRVFVRVNURURcIix0LkxvYWRPcmRlclBheW1lbnRzU3VjY2VlZGVkPVwiTE9BRF9PUkRFUl9QQVlNRU5UU19TVUNDRUVERURcIix0LkxvYWRPcmRlclBheW1lbnRzRmFpbGVkPVwiTE9BRF9PUkRFUl9QQVlNRU5UU19GQUlMRURcIix0LlN1Ym1pdE9yZGVyUmVxdWVzdGVkPVwiU1VCTUlUX09SREVSX1JFUVVFU1RFRFwiLHQuU3VibWl0T3JkZXJTdWNjZWVkZWQ9XCJTVUJNSVRfT1JERVJfU1VDQ0VFREVEXCIsdC5TdWJtaXRPcmRlckZhaWxlZD1cIlNVQk1JVF9PUkRFUl9GQUlMRURcIix0LkZpbmFsaXplT3JkZXJSZXF1ZXN0ZWQ9XCJGSU5BTElaRV9PUkRFUl9SRVFVRVNURURcIix0LkZpbmFsaXplT3JkZXJTdWNjZWVkZWQ9XCJGSU5BTElaRV9PUkRFUl9TVUNDRUVERURcIix0LkZpbmFsaXplT3JkZXJGYWlsZWQ9XCJGSU5BTElaRV9PUkRFUl9GQUlMRURcIn0ocnx8KHI9e30pKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiByfSkpLGZ1bmN0aW9uKHQpe3QuTG9hZFBheW1lbnRNZXRob2RSZXF1ZXN0ZWQ9XCJMT0FEX1BBWU1FTlRfTUVUSE9EX1JFUVVFU1RFRFwiLHQuTG9hZFBheW1lbnRNZXRob2RTdWNjZWVkZWQ9XCJMT0FEX1BBWU1FTlRfTUVUSE9EX1NVQ0NFRURFRFwiLHQuTG9hZFBheW1lbnRNZXRob2RGYWlsZWQ9XCJMT0FEX1BBWU1FTlRfTUVUSE9EX0ZBSUxFRFwiLHQuTG9hZFBheW1lbnRNZXRob2RzUmVxdWVzdGVkPVwiTE9BRF9QQVlNRU5UX01FVEhPRFNfUkVRVUVTVEVEXCIsdC5Mb2FkUGF5bWVudE1ldGhvZHNTdWNjZWVkZWQ9XCJMT0FEX1BBWU1FTlRfTUVUSE9EU19TVUNDRUVERURcIix0LkxvYWRQYXltZW50TWV0aG9kc0ZhaWxlZD1cIkxPQURfUEFZTUVOVF9NRVRIT0RTX0ZBSUxFRFwifShyfHwocj17fSkpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksZnVuY3Rpb24odCl7dC5VcGRhdGVCaWxsaW5nQWRkcmVzc1JlcXVlc3RlZD1cIlVQREFURV9CSUxMSU5HX0FERFJFU1NfUkVRVUVTVEVEXCIsdC5VcGRhdGVCaWxsaW5nQWRkcmVzc1N1Y2NlZWRlZD1cIlVQREFURV9CSUxMSU5HX0FERFJFU1NfU1VDQ0VFREVEXCIsdC5VcGRhdGVCaWxsaW5nQWRkcmVzc0ZhaWxlZD1cIlVQREFURV9CSUxMSU5HX0FERFJFU1NfRkFJTEVEXCIsdC5Db250aW51ZUFzR3Vlc3RSZXF1ZXN0ZWQ9XCJDT05USU5VRV9BU19HVUVTVF9SRVFVRVNURURcIix0LkNvbnRpbnVlQXNHdWVzdFN1Y2NlZWRlZD1cIkNPTlRJTlVFX0FTX0dVRVNUX1NVQ0NFRURFRFwiLHQuQ29udGludWVBc0d1ZXN0RmFpbGVkPVwiQ09OVElOVUVfQVNfR1VFU1RfRkFJTEVEXCJ9KHJ8fChyPXt9KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcjtuLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxmdW5jdGlvbih0KXt0LkluaXRpYWxpemVCdXR0b25GYWlsZWQ9XCJJTklUSUFMSVpFX0JVVFRPTl9GQUlMRURcIix0LkluaXRpYWxpemVCdXR0b25SZXF1ZXN0ZWQ9XCJJTklUSUFMSVpFX0JVVFRPTl9SRVFVRVNURURcIix0LkluaXRpYWxpemVCdXR0b25TdWNjZWVkZWQ9XCJJTklUSUFMSVpFX0JVVFRPTl9TVUNDRUVERURcIix0LkRlaW5pdGlhbGl6ZUJ1dHRvbkZhaWxlZD1cIkRFSU5JVElBTElaRV9CVVRUT05fRkFJTEVEXCIsdC5EZWluaXRpYWxpemVCdXR0b25SZXF1ZXN0ZWQ9XCJERUlOSVRJQUxJWkVfQlVUVE9OX1JFUVVFU1RFRFwiLHQuRGVpbml0aWFsaXplQnV0dG9uU3VjY2VlZGVkPVwiREVJTklUSUFMSVpFX0JVVFRPTl9TVUNDRUVERURcIn0ocnx8KHI9e30pKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiByfSkpLGZ1bmN0aW9uKHQpe3QuQXBwbHlDb3Vwb25SZXF1ZXN0ZWQ9XCJBUFBMWV9DT1VQT05fUkVRVUVTVEVEXCIsdC5BcHBseUNvdXBvblN1Y2NlZWRlZD1cIkFQUExZX0NPVVBPTl9TVUNDRUVERURcIix0LkFwcGx5Q291cG9uRmFpbGVkPVwiQVBQTFlfQ09VUE9OX0ZBSUxFRFwiLHQuUmVtb3ZlQ291cG9uUmVxdWVzdGVkPVwiUkVNT1ZFX0NPVVBPTl9SRVFVRVNURURcIix0LlJlbW92ZUNvdXBvblN1Y2NlZWRlZD1cIlJFTU9WRV9DT1VQT05fU1VDQ0VFREVEXCIsdC5SZW1vdmVDb3Vwb25GYWlsZWQ9XCJSRU1PVkVfQ09VUE9OX0ZBSUxFRFwifShyfHwocj17fSkpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigwKTt2YXIgaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuLHIsaT10aGlzLmNvbnN0cnVjdG9yLG89dC5jYWxsKHRoaXMsZXx8XCJBbiB1bmV4cGVjdGVkIGVycm9yIGhhcyBvY2N1cnJlZC5cIil8fHRoaXM7cmV0dXJuIG8ubmFtZT1cIlN0YW5kYXJkRXJyb3JcIixvLnR5cGU9XCJzdGFuZGFyZFwiLG49byxyPWkucHJvdG90eXBlLE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YobixyKTpuLl9fcHJvdG9fXz1yLFwiZnVuY3Rpb25cIj09dHlwZW9mIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlP0Vycm9yLmNhcHR1cmVTdGFja1RyYWNlKG8saSk6by5zdGFjaz1uZXcgRXJyb3Ioby5tZXNzYWdlKS5zdGFjayxvfXJldHVybiBPYmplY3Qoci5fX2V4dGVuZHMpKGUsdCksZX0oRXJyb3IpO2UuYT1pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksZnVuY3Rpb24odCl7dC5DaGVja291dENvbXBsZXRlPVwiQ0hFQ0tPVVRfQ09NUExFVEVcIix0LkNoZWNrb3V0RXJyb3I9XCJDSEVDS09VVF9FUlJPUlwiLHQuQ2hlY2tvdXRMb2FkZWQ9XCJDSEVDS09VVF9MT0FERURcIix0LkZyYW1lRXJyb3I9XCJGUkFNRV9FUlJPUlwiLHQuRnJhbWVMb2FkZWQ9XCJGUkFNRV9MT0FERURcIix0LlNpZ25lZE91dD1cIlNJR05FRF9PVVRcIn0ocnx8KHI9e30pKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiByfSkpLGZ1bmN0aW9uKHQpe3QuTG9hZEluc3RydW1lbnRzUmVxdWVzdGVkPVwiTE9BRF9JTlNUUlVNRU5UU19SRVFVRVNURURcIix0LkxvYWRJbnN0cnVtZW50c1N1Y2NlZWRlZD1cIkxPQURfSU5TVFJVTUVOVFNfU1VDQ0VFREVEXCIsdC5Mb2FkSW5zdHJ1bWVudHNGYWlsZWQ9XCJMT0FEX0lOU1RSVU1FTlRTX0ZBSUxFRFwiLHQuRGVsZXRlSW5zdHJ1bWVudFJlcXVlc3RlZD1cIkRFTEVURV9JTlNUUlVNRU5UX1JFUVVFU1RFRFwiLHQuRGVsZXRlSW5zdHJ1bWVudFN1Y2NlZWRlZD1cIkRFTEVURV9JTlNUUlVNRU5UX1NVQ0NFRURFRFwiLHQuRGVsZXRlSW5zdHJ1bWVudEZhaWxlZD1cIkRFTEVURV9JTlNUUlVNRU5UX0ZBSUxFRFwifShyfHwocj17fSkpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksZnVuY3Rpb24odCl7dC5BcHBseUdpZnRDZXJ0aWZpY2F0ZVJlcXVlc3RlZD1cIkFQUExZX0dJRlRfQ0VSVElGSUNBVEVfUkVRVUVTVEVEXCIsdC5BcHBseUdpZnRDZXJ0aWZpY2F0ZVN1Y2NlZWRlZD1cIkFQUExZX0dJRlRfQ0VSVElGSUNBVEVfU1VDQ0VFREVEXCIsdC5BcHBseUdpZnRDZXJ0aWZpY2F0ZUZhaWxlZD1cIkFQUExZX0dJRlRfQ0VSVElGSUNBVEVfRkFJTEVEXCIsdC5SZW1vdmVHaWZ0Q2VydGlmaWNhdGVSZXF1ZXN0ZWQ9XCJSRU1PVkVfR0lGVF9DRVJUSUZJQ0FURV9SRVFVRVNURURcIix0LlJlbW92ZUdpZnRDZXJ0aWZpY2F0ZVN1Y2NlZWRlZD1cIlJFTU9WRV9HSUZUX0NFUlRJRklDQVRFX1NVQ0NFRURFRFwiLHQuUmVtb3ZlR2lmdENlcnRpZmljYXRlRmFpbGVkPVwiUkVNT1ZFX0dJRlRfQ0VSVElGSUNBVEVfRkFJTEVEXCJ9KHJ8fChyPXt9KSl9LCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksZnVuY3Rpb24odCl7dC5Jbml0aWFsaXplUmVtb3RlQmlsbGluZ1JlcXVlc3RlZD1cIklOSVRJQUxJWkVfUkVNT1RFX0JJTExJTkdfUkVRVUVTVEVEXCIsdC5Jbml0aWFsaXplUmVtb3RlQmlsbGluZ1N1Y2NlZWRlZD1cIklOSVRJQUxJWkVfUkVNT1RFX0JJTExJTkdfU1VDQ0VFREVEXCIsdC5Jbml0aWFsaXplUmVtb3RlQmlsbGluZ0ZhaWxlZD1cIklOSVRJQUxJWkVfUkVNT1RFX0JJTExJTkdfRkFJTEVEXCIsdC5Jbml0aWFsaXplUmVtb3RlU2hpcHBpbmdSZXF1ZXN0ZWQ9XCJJTklUSUFMSVpFX1JFTU9URV9TSElQUElOR19SRVFVRVNURURcIix0LkluaXRpYWxpemVSZW1vdGVTaGlwcGluZ1N1Y2NlZWRlZD1cIklOSVRJQUxJWkVfUkVNT1RFX1NISVBQSU5HX1NVQ0NFRURFRFwiLHQuSW5pdGlhbGl6ZVJlbW90ZVNoaXBwaW5nRmFpbGVkPVwiSU5JVElBTElaRV9SRU1PVEVfU0hJUFBJTkdfRkFJTEVEXCIsdC5Jbml0aWFsaXplUmVtb3RlUGF5bWVudFJlcXVlc3RlZD1cIklOSVRJQUxJWkVfUkVNT1RFX1BBWU1FTlRfUkVRVUVTVEVEXCIsdC5Jbml0aWFsaXplUmVtb3RlUGF5bWVudFN1Y2NlZWRlZD1cIklOSVRJQUxJWkVfUkVNT1RFX1BBWU1FTlRfU1VDQ0VFREVEXCIsdC5Jbml0aWFsaXplUmVtb3RlUGF5bWVudEZhaWxlZD1cIklOSVRJQUxJWkVfUkVNT1RFX1BBWU1FTlRfRkFJTEVEXCIsdC5Mb2FkUmVtb3RlU2V0dGluZ3NSZXF1ZXN0ZWQ9XCJMT0FEX1JFTU9URV9TRVRUSU5HU19SRVFVRVNURURcIix0LkxvYWRSZW1vdGVTZXR0aW5nc1N1Y2NlZWRlZD1cIkxPQURfUkVNT1RFX1NFVFRJTkdTX1NVQ0NFRURFRFwiLHQuTG9hZFJlbW90ZVNldHRpbmdzRmFpbGVkPVwiTE9BRF9SRU1PVEVfU0VUVElOR1NfRkFJTEVEXCIsdC5TaWduT3V0UmVtb3RlQ3VzdG9tZXJSZXF1ZXN0ZWQ9XCJTSUdOX09VVF9SRU1PVEVfQ1VTVE9NRVJfUkVRVUVTVEVEXCIsdC5TaWduT3V0UmVtb3RlQ3VzdG9tZXJTdWNjZWVkZWQ9XCJTSUdOX09VVF9SRU1PVEVfQ1VTVE9NRVJfU1VDQ0VFREVEXCIsdC5TaWduT3V0UmVtb3RlQ3VzdG9tZXJGYWlsZWQ9XCJTSUdOX09VVF9SRU1PVEVfQ1VTVE9NRVJfRkFJTEVEXCIsdC5VcGRhdGVSZW1vdGVDaGVja291dD1cIlVQREFURV9SRU1PVEVfQ0hFQ0tPVVRcIn0ocnx8KHI9e30pKX0sLGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcixpLG87bi5kKGUsXCJjXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksbi5kKGUsXCJiXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSksbi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSksZnVuY3Rpb24odCl7dC5Mb25nPVwibG9uZ1wiLHQuU2hvcnQ9XCJzaG9ydFwifShyfHwocj17fSkpLGZ1bmN0aW9uKHQpe3QuRGVmYXVsdD1cImRlZmF1bHRcIix0LkJsYWNrPVwiYmxhY2tcIix0LldoaXRlPVwid2hpdGVcIn0oaXx8KGk9e30pKSxmdW5jdGlvbih0KXt0Lk1pbj1cIk1JTlwiLHQuRnVsbD1cIkZVTExcIn0ob3x8KG89e30pKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByOyFmdW5jdGlvbih0KXt0Lkpzb249XCJhcHBsaWNhdGlvbi9qc29uXCIsdC5Kc29uVjE9XCJhcHBsaWNhdGlvbi92bmQuYmMudjEranNvblwifShyfHwocj17fSkpLGUuYT1yfSwsZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9cmVxdWlyZShcIkBiaWdjb21tZXJjZS9zY3JpcHQtbG9hZGVyXCIpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1yZXF1aXJlKFwiY2FyZC12YWxpZGF0b3JcIil9LCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksZnVuY3Rpb24odCl7dC5TaWduSW5DdXN0b21lclJlcXVlc3RlZD1cIlNJR05fSU5fQ1VTVE9NRVJfUkVRVUVTVEVEXCIsdC5TaWduSW5DdXN0b21lclN1Y2NlZWRlZD1cIlNJR05fSU5fQ1VTVE9NRVJfU1VDQ0VFREVEXCIsdC5TaWduSW5DdXN0b21lckZhaWxlZD1cIlNJR05fSU5fQ1VTVE9NRVJfRkFJTEVEXCIsdC5TaWduT3V0Q3VzdG9tZXJSZXF1ZXN0ZWQ9XCJTSUdOX09VVF9DVVNUT01FUl9SRVFVRVNURURcIix0LlNpZ25PdXRDdXN0b21lclN1Y2NlZWRlZD1cIlNJR05fT1VUX0NVU1RPTUVSX1NVQ0NFRURFRFwiLHQuU2lnbk91dEN1c3RvbWVyRmFpbGVkPVwiU0lHTl9PVVRfQ1VTVE9NRVJfRkFJTEVEXCIsdC5DcmVhdGVDdXN0b21lclJlcXVlc3RlZD1cIkNSRUFURV9DVVNUT01FUl9SRVFVRVNURURcIix0LkNyZWF0ZUN1c3RvbWVyU3VjY2VlZGVkPVwiQ1JFQVRFX0NVU1RPTUVSX1NVQ0NFRURFRFwiLHQuQ3JlYXRlQ3VzdG9tZXJGYWlsZWQ9XCJDUkVBVEVfQ1VTVE9NRVJfRkFJTEVEXCJ9KHJ8fChyPXt9KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDApLGk9bigyMyksbz17Ym9keTp7fSxoZWFkZXJzOnt9LHN0YXR1czowfSxhPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2YXIgcj12b2lkIDA9PT1uP3t9Om4saT1yLm1lc3NhZ2UsYT1yLmVycm9ycyxzPXRoaXMsYz1lfHxvLHU9Yy5ib2R5LGQ9Yy5oZWFkZXJzLHA9Yy5zdGF0dXM7cmV0dXJuKHM9dC5jYWxsKHRoaXMsaXx8XCJBbiB1bmV4cGVjdGVkIGVycm9yIGhhcyBvY2N1cnJlZC5cIil8fHRoaXMpLm5hbWU9XCJSZXF1ZXN0RXJyb3JcIixzLnR5cGU9XCJyZXF1ZXN0XCIscy5ib2R5PXUscy5oZWFkZXJzPWQscy5zdGF0dXM9cCxzLmVycm9ycz1hfHxbXSxzfXJldHVybiBPYmplY3Qoci5fX2V4dGVuZHMpKGUsdCksZX0oaS5hKTtlLmE9YX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiByfSkpLG4uZChlLFwiYlwiLChmdW5jdGlvbigpe3JldHVybiBpfSkpO3ZhciByPVwiQUNLTk9XTEVER0VcIixpPVwiRklOQUxJWkVcIn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiByfSkpLGZ1bmN0aW9uKHQpe3QuTG9hZENvbmZpZ1JlcXVlc3RlZD1cIkxPQURfQ09ORklHX1JFUVVFU1RFRFwiLHQuTG9hZENvbmZpZ1N1Y2NlZWRlZD1cIkxPQURfQ09ORklHX1NVQ0NFRURFRFwiLHQuTG9hZENvbmZpZ0ZhaWxlZD1cIkxPQURfQ09ORklHX0ZBSUxFRFwifShyfHwocj17fSkpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksZnVuY3Rpb24odCl7dC5Mb2FkRm9ybUZpZWxkc1JlcXVlc3RlZD1cIkxPQURfRk9STV9GSUVMRFNfUkVRVUVTVEVEXCIsdC5Mb2FkRm9ybUZpZWxkc1N1Y2NlZWRlZD1cIkxPQURfRk9STV9GSUVMRFNfU1VDQ0VFREVEXCIsdC5Mb2FkRm9ybUZpZWxkc0ZhaWxlZD1cIkxPQURfRk9STV9GSUVMRFNfRkFJTEVEXCJ9KHJ8fChyPXt9KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiBCb29sZWFuKHQuaW5zdHJ1bWVudElkKX1mdW5jdGlvbiBpKHQpe3JldHVybiBCb29sZWFuKHQuaW5zdHJ1bWVudElkKSYmIXQuaGFzT3duUHJvcGVydHkoXCJjY051bWJlclwiKSYmIXQuaGFzT3duUHJvcGVydHkoXCJjY0N2dlwiKX1mdW5jdGlvbiBvKHQpe3ZhciBlPXQuZm9ybWF0dGVkUGF5bG9hZDtyZXR1cm4hIWUmJihcInN0cmluZ1wiPT10eXBlb2YgZS5iaWdwYXlfdG9rZW58fEJvb2xlYW4oZS5iaWdwYXlfdG9rZW4mJmUuYmlncGF5X3Rva2VuLnRva2VuKSl9bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksbi5kKGUsXCJjXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSksbi5kKGUsXCJiXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtuLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKTt2YXIgcj1uKDIpO2Z1bmN0aW9uIGkodCl7cmV0dXJuIE9iamVjdChyLmlzUGxhaW5PYmplY3QpKHQpfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiByfSkpLGZ1bmN0aW9uKHQpe3QuTG9hZENvdW50cmllc1JlcXVlc3RlZD1cIkxPQURfQ09VTlRSSUVTX1JFUVVFU1RFRFwiLHQuTG9hZENvdW50cmllc1N1Y2NlZWRlZD1cIkxPQURfQ09VTlRSSUVTX1NVQ0NFRURFRFwiLHQuTG9hZENvdW50cmllc0ZhaWxlZD1cIkxPQURfQ09VTlRSSUVTX0ZBSUxFRFwifShyfHwocj17fSkpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksZnVuY3Rpb24odCl7dC5Mb2FkU2hpcHBpbmdDb3VudHJpZXNSZXF1ZXN0ZWQ9XCJMT0FEX1NISVBQSU5HX0NPVU5UUklFU19SRVFVRVNURURcIix0LkxvYWRTaGlwcGluZ0NvdW50cmllc1N1Y2NlZWRlZD1cIkxPQURfU0hJUFBJTkdfQ09VTlRSSUVTX1NVQ0NFRURFRFwiLHQuTG9hZFNoaXBwaW5nQ291bnRyaWVzRmFpbGVkPVwiTE9BRF9TSElQUElOR19DT1VOVFJJRVNfRkFJTEVEXCJ9KHJ8fChyPXt9KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcjtuLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxmdW5jdGlvbih0KXt0LlNlbmRTaWduSW5FbWFpbFJlcXVlc3RlZD1cIlNFTkRfU0lHTklOX0VNQUlMX1JFUVVFU1RFRFwiLHQuU2VuZFNpZ25JbkVtYWlsU3VjY2VlZGVkPVwiU0VORF9TSUdOSU5fRU1BSUxfU1VDQ0VFREVEXCIsdC5TZW5kU2lnbkluRW1haWxGYWlsZWQ9XCJTRU5EX1NJR05JTl9FTUFJTF9GQUlMRURcIn0ocnx8KHI9e30pKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMCksaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzLGV8fFwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgY2xpZW50IGxpYnJhcnkgb2YgYSBwYXltZW50IG1ldGhvZCBpcyBub3QgbG9hZGVkIG9yIHJlYWR5IHRvIGJlIHVzZWQuXCIpfHx0aGlzO3JldHVybiBuLm5hbWU9XCJQYXltZW50TWV0aG9kQ2xpZW50VW5hdmFpbGFibGVFcnJvclwiLG4udHlwZT1cInBheW1lbnRfbWV0aG9kX2NsaWVudF91bmF2YWlsYWJsZVwiLG59cmV0dXJuIE9iamVjdChyLl9fZXh0ZW5kcykoZSx0KSxlfShuKDIzKS5hKTtlLmE9aX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9cmVxdWlyZShcIkBiaWdjb21tZXJjZS9yZXF1ZXN0LXNlbmRlclwiKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiByfSkpLGZ1bmN0aW9uKHQpe3QuQXBwbHlTdG9yZUNyZWRpdFJlcXVlc3RlZD1cIkFQUExZX1NUT1JFX0NSRURJVF9SRVFVRVNURURcIix0LkFwcGx5U3RvcmVDcmVkaXRTdWNjZWVkZWQ9XCJBUFBMWV9TVE9SRV9DUkVESVRfU1VDQ0VFREVEXCIsdC5BcHBseVN0b3JlQ3JlZGl0RmFpbGVkPVwiQVBQTFlfU1RPUkVfQ1JFRElUX0ZBSUxFRFwifShyfHwocj17fSkpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksZnVuY3Rpb24odCl7dC5BdHRhY2hTdWNjZWVkZWQ9XCJIT1NURURfSU5QVVQ6QVRUQUNIX1NVQ0NFRURFRFwiLHQuQXR0YWNoRmFpbGVkPVwiSE9TVEVEX0lOUFVUOkFUVEFDSF9GQUlMRURcIix0LkJpbkNoYW5nZWQ9XCJIT1NURURfSU5QVVQ6QklOX0NIQU5HRURcIix0LkJsdXJyZWQ9XCJIT1NURURfSU5QVVQ6QkxVUlJFRFwiLHQuQ2hhbmdlZD1cIkhPU1RFRF9JTlBVVDpDSEFOR0VEXCIsdC5DYXJkVHlwZUNoYW5nZWQ9XCJIT1NURURfSU5QVVQ6Q0FSRF9UWVBFX0NIQU5HRURcIix0LkVudGVyZWQ9XCJIT1NURURfSU5QVVQ6RU5URVJFRFwiLHQuRm9jdXNlZD1cIkhPU1RFRF9JTlBVVDpGT0NVU0VEXCIsdC5TdWJtaXRTdWNjZWVkZWQ9XCJIT1NURURfSU5QVVQ6U1VCTUlUX1NVQ0NFRURFRFwiLHQuU3VibWl0RmFpbGVkPVwiSE9TVEVEX0lOUFVUOlNVQk1JVF9GQUlMRURcIix0LlZhbGlkYXRlZD1cIkhPU1RFRF9JTlBVVDpWQUxJREFURURcIn0ocnx8KHI9e30pKX0sLCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigwKSxpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMsZXx8XCJJbnZhbGlkIGFyZ3VtZW50cyBoYXZlIGJlZW4gcHJvdmlkZWQuXCIpfHx0aGlzO3JldHVybiBuLm5hbWU9XCJJbnZhbGlkQXJndW1lbnRFcnJvclwiLG4udHlwZT1cImludmFsaWRfYXJndW1lbnRcIixufXJldHVybiBPYmplY3Qoci5fX2V4dGVuZHMpKGUsdCksZX0obigyMykuYSk7ZS5hPWl9LCwsLGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSl7cmV0dXJuIHQudHlwZT09PWV9bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksbi5kKGUsXCJiXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSk7dmFyIHI9XCJQQVlNRU5UX1RZUEVfSE9TVEVEXCIsaT1cIlBBWU1FTlRfVFlQRV9PRkZMSU5FXCJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtuLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKTt2YXIgcj1uKDEwOCk7ZnVuY3Rpb24gaSh0LGUpe3ZhciBuO3JldHVybiBPYmplY3Qoci5hKSh0KT9uPXQuaWQ6ZSYmZS5sZW5ndGgmJihuPWVbMF0uaWQpLHtpZDpuLGZpcnN0TmFtZTp0LmZpcnN0TmFtZSxsYXN0TmFtZTp0Lmxhc3ROYW1lLGNvbXBhbnk6dC5jb21wYW55LGFkZHJlc3NMaW5lMTp0LmFkZHJlc3MxLGFkZHJlc3NMaW5lMjp0LmFkZHJlc3MyLGNpdHk6dC5jaXR5LHByb3ZpbmNlOnQuc3RhdGVPclByb3ZpbmNlLHByb3ZpbmNlQ29kZTp0LnN0YXRlT3JQcm92aW5jZUNvZGUscG9zdENvZGU6dC5wb3N0YWxDb2RlLGNvdW50cnk6dC5jb3VudHJ5LGNvdW50cnlDb2RlOnQuY291bnRyeUNvZGUscGhvbmU6dC5waG9uZSxjdXN0b21GaWVsZHM6dC5jdXN0b21GaWVsZHN9fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiByfSkpO3ZhciByPVwiVGhpcyBBUEkgZW5kcG9pbnQgaXMgZm9yIGludGVybmFsIHVzZSBvbmx5IGFuZCBtYXkgY2hhbmdlIGluIHRoZSBmdXR1cmVcIn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiByfSkpLGZ1bmN0aW9uKHQpe3QuU3VibWl0UGF5bWVudFJlcXVlc3RlZD1cIlNVQk1JVF9QQVlNRU5UX1JFUVVFU1RFRFwiLHQuU3VibWl0UGF5bWVudFN1Y2NlZWRlZD1cIlNVQk1JVF9QQVlNRU5UX1NVQ0NFRURFRFwiLHQuU3VibWl0UGF5bWVudEZhaWxlZD1cIlNVQk1JVF9QQVlNRU5UX0ZBSUxFRFwiLHQuSW5pdGlhbGl6ZU9mZnNpdGVQYXltZW50UmVxdWVzdGVkPVwiSU5JVElBTElaRV9PRkZTSVRFX1BBWU1FTlRfUkVRVUVTVEVEXCIsdC5Jbml0aWFsaXplT2Zmc2l0ZVBheW1lbnRTdWNjZWVkZWQ9XCJJTklUSUFMSVpFX09GRlNJVEVfUEFZTUVOVF9TVUNDRUVERURcIix0LkluaXRpYWxpemVPZmZzaXRlUGF5bWVudEZhaWxlZD1cIklOSVRJQUxJWkVfT0ZGU0lURV9QQVlNRU5UX0ZBSUxFRFwifShyfHwocj17fSkpfSwsLGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtuLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKTt2YXIgcj1uKDIpO2Z1bmN0aW9uIGkodCl7cmV0dXJuIE9iamVjdChyLnVuaXEpKHQpLmpvaW4oXCIsXCIpfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMCksaT1uKDgxKTt2YXIgbz1uKDc4KTtmdW5jdGlvbiBhKHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49XCJpZFwiKSxPYmplY3Qua2V5cyh0KS5yZWR1Y2UoKGZ1bmN0aW9uKGEscyl7cmV0dXJuIE9iamVjdChyLl9fc3ByZWFkQXJyYXlzKShhLHRbc10ubWFwKChmdW5jdGlvbih0KXtyZXR1cm5cImdpZnRDZXJ0aWZpY2F0ZXNcIj09PXM/ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgaS5hKGUpO3JldHVybntpZDp0LmlkLGltYWdlVXJsOlwiXCIsbmFtZTp0Lm5hbWUsYW1vdW50OnQuYW1vdW50LGFtb3VudEFmdGVyRGlzY291bnQ6dC5hbW91bnQsZGlzY291bnQ6MCxpbnRlZ2VyQW1vdW50Om4udG9JbnRlZ2VyKHQuYW1vdW50KSxpbnRlZ2VyQW1vdW50QWZ0ZXJEaXNjb3VudDpuLnRvSW50ZWdlcih0LmFtb3VudCksaW50ZWdlclVuaXRQcmljZTpuLnRvSW50ZWdlcih0LmFtb3VudCksaW50ZWdlclVuaXRQcmljZUFmdGVyRGlzY291bnQ6bi50b0ludGVnZXIodC5hbW91bnQpLGludGVnZXJEaXNjb3VudDowLHF1YW50aXR5OjEsc2VuZGVyOnQuc2VuZGVyLHJlY2lwaWVudDp0LnJlY2lwaWVudCx0eXBlOlwiSXRlbUdpZnRDZXJ0aWZpY2F0ZUVudGl0eVwiLGF0dHJpYnV0ZXM6W10sdmFyaWFudElkOm51bGx9fSh0LGUpOk9iamVjdChvLmEpKHQsZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2VcInBoeXNpY2FsSXRlbXNcIjpyZXR1cm5cIkl0ZW1QaHlzaWNhbEVudGl0eVwiO2Nhc2VcImRpZ2l0YWxJdGVtc1wiOnJldHVyblwiSXRlbURpZ2l0YWxFbnRpdHlcIjtjYXNlXCJnaWZ0Q2VydGlmaWNhdGVzXCI6cmV0dXJuXCJJdGVtR2lmdENlcnRpZmljYXRlRW50aXR5XCI7ZGVmYXVsdDpyZXR1cm5cIlwifX0ocyksZSxuKX0pKSl9KSxbXSl9bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXJlcXVpcmUoXCJsb2NhbC1zdG9yYWdlLWZhbGxiYWNrXCIpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksZnVuY3Rpb24odCl7dC5Jbml0aWFsaXplRmFpbGVkPVwiU1BBTV9QUk9URUNUSU9OX0lOSVRJQUxJWkVfRkFJTEVEXCIsdC5Jbml0aWFsaXplU3VjY2VlZGVkPVwiU1BBTV9QUk9URUNUSU9OX0lOSVRJQUxJWkVfU1VDQ0VFREVEXCIsdC5Jbml0aWFsaXplUmVxdWVzdGVkPVwiU1BBTV9QUk9URUNUSU9OX0lOSVRJQUxJWkVfUkVRVUVTVEVEXCIsdC5WZXJpZnlDaGVja291dFJlcXVlc3RlZD1cIlNQQU1fUFJPVEVDVElPTl9DSEVDS09VVF9WRVJJRllfUkVRVUVTVEVEXCIsdC5WZXJpZnlDaGVja291dFN1Y2NlZWRlZD1cIlNQQU1fUFJPVEVDVElPTl9DSEVDS09VVF9WRVJJRllfU1VDQ0VFREVEXCIsdC5WZXJpZnlDaGVja291dEZhaWxlZD1cIlNQQU1fUFJPVEVDVElPTl9DSEVDS09VVF9WRVJJRllfRkFJTEVEXCIsdC5FeGVjdXRlUmVxdWVzdGVkPVwiU1BBTV9QUk9URUNUSU9OX0VYRUNVVEVfUkVRVUVTVEVEXCIsdC5FeGVjdXRlU3VjY2VlZGVkPVwiU1BBTV9QUk9URUNUSU9OX0VYRUNVVEVfU1VDQ0VFREVEXCIsdC5FeGVjdXRlRmFpbGVkPVwiU1BBTV9QUk9URUNUSU9OX0VYRUNVVEVfRkFJTEVEXCJ9KHJ8fChyPXt9KSl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXJlcXVpcmUoXCJzaGFsbG93ZXF1YWxcIil9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcjtuLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxmdW5jdGlvbih0KXt0LkF0dGFjaFJlcXVlc3RlZD1cIkhPU1RFRF9GSUVMRDpBVFRBQ0hfUkVRVUVTVEVEXCIsdC5TdWJtaXRSZXF1ZXN0ZWQ9XCJIT1NURURfRklFTEQ6U1VCTUlUVEVEX1JFUVVFU1RFRFwiLHQuVmFsaWRhdGVSZXF1ZXN0ZWQ9XCJIT1NURURfRklFTEQ6VkFMSURBVEVfUkVRVUVTVEVEXCJ9KHJ8fChyPXt9KSl9LCwsZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlLG4pe3JldHVybiB0PT09ZXx8KHQmJmUmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZcIm9iamVjdFwiPT10eXBlb2YgZT9BcnJheS5pc0FycmF5KHQpJiZBcnJheS5pc0FycmF5KGUpP2Z1bmN0aW9uKHQsZSxuKXtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgaT0wLG89dC5sZW5ndGg7aTxvO2krKylpZighcih0W2ldLGVbaV0sbikpcmV0dXJuITE7cmV0dXJuITB9KHQsZSxuKTohQXJyYXkuaXNBcnJheSh0KSYmIUFycmF5LmlzQXJyYXkoZSkmJih0IGluc3RhbmNlb2YgRGF0ZSYmZSBpbnN0YW5jZW9mIERhdGU/ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5nZXRUaW1lKCk9PT1lLmdldFRpbWUoKX0odCxlKTohKHQgaW5zdGFuY2VvZiBEYXRlfHxlIGluc3RhbmNlb2YgRGF0ZSkmJih0IGluc3RhbmNlb2YgUmVnRXhwJiZlIGluc3RhbmNlb2YgUmVnRXhwP2Z1bmN0aW9uKHQsZSl7cmV0dXJuIHQudG9TdHJpbmcoKT09PWUudG9TdHJpbmcoKX0odCxlKTohKHQgaW5zdGFuY2VvZiBSZWdFeHB8fGUgaW5zdGFuY2VvZiBSZWdFeHApJiZmdW5jdGlvbih0LGUsbil7dmFyIGk9biYmbi5rZXlGaWx0ZXIsbz1pP09iamVjdC5rZXlzKHQpLmZpbHRlcihpKTpPYmplY3Qua2V5cyh0KSxhPWk/T2JqZWN0LmtleXMoZSkuZmlsdGVyKGkpOk9iamVjdC5rZXlzKGUpO2lmKG8ubGVuZ3RoIT09YS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBzPTAsYz1vLmxlbmd0aDtzPGM7cysrKXt2YXIgdT1vW3NdO2lmKCFlLmhhc093blByb3BlcnR5KHUpKXJldHVybiExO2lmKCFyKHRbdV0sZVt1XSxuKSlyZXR1cm4hMX1yZXR1cm4hMH0odCxlLG4pKSk6dD09PWUpfW4uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiByfSkpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1yZXF1aXJlKFwiQGJpZ2NvbW1lcmNlL2Zvcm0tcG9zdGVyXCIpfSwsLCwsZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiBpfSkpO3ZhciByPW4oODEpO2Z1bmN0aW9uIGkodCxlLG4saSl7dm9pZCAwPT09aSYmKGk9XCJpZFwiKTt2YXIgbz1uZXcgci5hKG4pO3JldHVybntpZDp0W2ldLGltYWdlVXJsOnQuaW1hZ2VVcmwsYW1vdW50OnQuZXh0ZW5kZWRMaXN0UHJpY2UsYW1vdW50QWZ0ZXJEaXNjb3VudDp0LmV4dGVuZGVkU2FsZVByaWNlLGRpc2NvdW50OnQuZGlzY291bnRBbW91bnQsaW50ZWdlckFtb3VudDpvLnRvSW50ZWdlcih0LmV4dGVuZGVkTGlzdFByaWNlKSxpbnRlZ2VyQW1vdW50QWZ0ZXJEaXNjb3VudDpvLnRvSW50ZWdlcih0LmV4dGVuZGVkU2FsZVByaWNlKSxpbnRlZ2VyRGlzY291bnQ6by50b0ludGVnZXIodC5kaXNjb3VudEFtb3VudCksaW50ZWdlclVuaXRQcmljZTpvLnRvSW50ZWdlcih0Lmxpc3RQcmljZSksaW50ZWdlclVuaXRQcmljZUFmdGVyRGlzY291bnQ6by50b0ludGVnZXIodC5zYWxlUHJpY2UpLGRvd25sb2Fkc1BhZ2VVcmw6dC5kb3dubG9hZFBhZ2VVcmwsbmFtZTp0Lm5hbWUscXVhbnRpdHk6dC5xdWFudGl0eSxicmFuZDp0LmJyYW5kLHNrdTp0LnNrdSxjYXRlZ29yeU5hbWVzOnQuY2F0ZWdvcnlOYW1lcyx2YXJpYW50SWQ6dC52YXJpYW50SWQscHJvZHVjdElkOnQucHJvZHVjdElkLGF0dHJpYnV0ZXM6KHQub3B0aW9uc3x8W10pLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJue25hbWU6dC5uYW1lLHZhbHVlOnQudmFsdWV9fSkpLGFkZGVkQnlQcm9tb3Rpb246dC5hZGRlZEJ5UHJvbW90aW9uLHR5cGU6ZX19fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1yZXF1aXJlKFwicmVzZWxlY3RcIil9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSl7cmV0dXJue2Rlc2NyaXB0aW9uOnQuZGVzY3JpcHRpb24sbW9kdWxlOnQudHlwZSxwcmljZTp0LmNvc3QsaWQ6dC5pZCxzZWxlY3RlZDplLGlzUmVjb21tZW5kZWQ6dC5pc1JlY29tbWVuZGVkLGltYWdlVXJsOnQuaW1hZ2VVcmwsdHJhbnNpdFRpbWU6dC50cmFuc2l0VGltZX19bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fZGVjaW1hbFBsYWNlcz10fXJldHVybiB0LnByb3RvdHlwZS50b0ludGVnZXI9ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgucm91bmQodCpNYXRoLnBvdygxMCx0aGlzLl9kZWNpbWFsUGxhY2VzKSl9LHR9KCk7ZS5hPXJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtuLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKTt2YXIgcj1uKDUyKTtmdW5jdGlvbiBpKHQpe2lmKCEvXihodHRwcz86KT9cXC9cXC8vLnRlc3QodCkpdGhyb3cgbmV3IHIuYShcIlRoZSBwcm92aWRlZCBVUkwgbXVzdCBiZSBhYnNvbHV0ZS5cIik7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7ZS5ocmVmPXQ7dmFyIG49ZS5wb3J0JiYtMSE9PXQuaW5kZXhPZihlLmhvc3RuYW1lK1wiOlwiK2UucG9ydCk/ZS5wb3J0OlwiXCI7cmV0dXJue2hhc2g6ZS5oYXNoLGhvc3RuYW1lOmUuaG9zdG5hbWUsaHJlZjplLmhyZWYsb3JpZ2luOmUucHJvdG9jb2wrXCIvL1wiK2UuaG9zdG5hbWUrKG4/XCI6XCIrbjpcIlwiKSxwYXRobmFtZTplLnBhdGhuYW1lLHBvcnQ6bixwcm90b2NvbDplLnByb3RvY29sLHNlYXJjaDplLnNlYXJjaH19fSwsLCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSk7dmFyIHI9bigwKSxpPW4oNSk7ZnVuY3Rpb24gbyh0KXtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspZVtuXT1hcmd1bWVudHNbbl07dmFyIG89ZS5wb3AoKTtyZXR1cm4gdC5hcHBseSh2b2lkIDAsT2JqZWN0KHIuX19zcHJlYWRBcnJheXMpKGUsW2Z1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3ZhciBuPW8uYXBwbHkodm9pZCAwLHQpO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG4/T2JqZWN0KGkubWVtb2l6ZSkobik6bn1dKSl9fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiByfSkpLGZ1bmN0aW9uKHQpe3QuQ2xlYXJFcnJvcj1cIkNMRUFSX0VSUk9SXCJ9KHJ8fChyPXt9KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDApLGk9bigxKSxvPW4oMyksYT1uKDkzKSxzPW4oMTkpLGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3JlcXVlc3RTZW5kZXI9dH1yZXR1cm4gdC5wcm90b3R5cGUubG9hZFBheW1lbnRNZXRob2RzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIG8uT2JzZXJ2YWJsZS5jcmVhdGUoKGZ1bmN0aW9uKG4pe24ubmV4dChPYmplY3QoaS5jcmVhdGVBY3Rpb24pKHMuYS5Mb2FkUGF5bWVudE1ldGhvZHNSZXF1ZXN0ZWQpKSxlLl9yZXF1ZXN0U2VuZGVyLmxvYWRQYXltZW50TWV0aG9kcyh0KS50aGVuKChmdW5jdGlvbih0KXt2YXIgZT17ZGV2aWNlU2Vzc2lvbklkOnQuaGVhZGVyc1tcIngtZGV2aWNlLXNlc3Npb24taWRcIl0sc2Vzc2lvbkhhc2g6dC5oZWFkZXJzW1wieC1zZXNzaW9uLWhhc2hcIl19O24ubmV4dChPYmplY3QoaS5jcmVhdGVBY3Rpb24pKHMuYS5Mb2FkUGF5bWVudE1ldGhvZHNTdWNjZWVkZWQsdC5ib2R5LGUpKSxuLmNvbXBsZXRlKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe24uZXJyb3IoT2JqZWN0KGkuY3JlYXRlRXJyb3JBY3Rpb24pKHMuYS5Mb2FkUGF5bWVudE1ldGhvZHNGYWlsZWQsdCkpfSkpfSkpfSx0LnByb3RvdHlwZS5sb2FkUGF5bWVudE1ldGhvZD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIG8uT2JzZXJ2YWJsZS5jcmVhdGUoKGZ1bmN0aW9uKHIpe3IubmV4dChPYmplY3QoaS5jcmVhdGVBY3Rpb24pKHMuYS5Mb2FkUGF5bWVudE1ldGhvZFJlcXVlc3RlZCx2b2lkIDAse21ldGhvZElkOnR9KSksbi5fcmVxdWVzdFNlbmRlci5sb2FkUGF5bWVudE1ldGhvZCh0LGUpLnRoZW4oKGZ1bmN0aW9uKGUpe3IubmV4dChPYmplY3QoaS5jcmVhdGVBY3Rpb24pKHMuYS5Mb2FkUGF5bWVudE1ldGhvZFN1Y2NlZWRlZCxlLmJvZHkse21ldGhvZElkOnR9KSksci5jb21wbGV0ZSgpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtyLmVycm9yKE9iamVjdChpLmNyZWF0ZUVycm9yQWN0aW9uKShzLmEuTG9hZFBheW1lbnRNZXRob2RGYWlsZWQsZSx7bWV0aG9kSWQ6dH0pKX0pKX0pKX0sT2JqZWN0KHIuX19kZWNvcmF0ZSkoW2EuYV0sdC5wcm90b3R5cGUsXCJsb2FkUGF5bWVudE1ldGhvZFwiLG51bGwpLHR9KCk7ZS5hPWN9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDMxKSxpPW4oNjApLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3JlcXVlc3RTZW5kZXI9dH1yZXR1cm4gdC5wcm90b3R5cGUubG9hZFBheW1lbnRNZXRob2RzPWZ1bmN0aW9uKHQpe3ZhciBlPSh2b2lkIDA9PT10P3t9OnQpLnRpbWVvdXQ7cmV0dXJuIHRoaXMuX3JlcXVlc3RTZW5kZXIuZ2V0KFwiL2FwaS9zdG9yZWZyb250L3BheW1lbnRzXCIse3RpbWVvdXQ6ZSxoZWFkZXJzOntBY2NlcHQ6ci5hLkpzb25WMSxcIlgtQVBJLUlOVEVSTkFMXCI6aS5hfX0pfSx0LnByb3RvdHlwZS5sb2FkUGF5bWVudE1ldGhvZD1mdW5jdGlvbih0LGUpe3ZhciBuPSh2b2lkIDA9PT1lP3t9OmUpLnRpbWVvdXQsbz1cIi9hcGkvc3RvcmVmcm9udC9wYXltZW50cy9cIit0O3JldHVybiB0aGlzLl9yZXF1ZXN0U2VuZGVyLmdldChvLHt0aW1lb3V0Om4saGVhZGVyczp7QWNjZXB0OnIuYS5Kc29uVjEsXCJYLUFQSS1JTlRFUk5BTFwiOmkuYX19KX0sdH0oKTtlLmE9b30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuYT1bXCJjYXJ0LmxpbmVJdGVtcy5waHlzaWNhbEl0ZW1zLm9wdGlvbnNcIixcImNhcnQubGluZUl0ZW1zLmRpZ2l0YWxJdGVtcy5vcHRpb25zXCIsXCJjdXN0b21lclwiLFwiY3VzdG9tZXIuY3VzdG9tZXJHcm91cFwiLFwicGF5bWVudHNcIixcInByb21vdGlvbnMuYmFubmVyc1wiXX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiBvfSkpO3ZhciByPW4oMSksaT1uKDMpO2Z1bmN0aW9uIG8odCxlLG4pe3JldHVybihvPWUpJiZvLnR5cGUmJm8uZXJyb3I/T2JqZWN0KGkuY29uY2F0KShPYmplY3QoaS5vZikoZSksT2JqZWN0KGkudGhyb3dFcnJvcikoT2JqZWN0KHIuY3JlYXRlRXJyb3JBY3Rpb24pKHQsZS5wYXlsb2FkLG4pKSk6T2JqZWN0KGkudGhyb3dFcnJvcikoT2JqZWN0KHIuY3JlYXRlRXJyb3JBY3Rpb24pKHQsZSxuKSk7dmFyIG99fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigwKSxpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMsZXx8XCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBjbGllbnQgbGlicmFyeSBvZiBhIHBheW1lbnQgbWV0aG9kIGhhcyB0aHJvd24gYW4gdW5leHBlY3RlZCBlcnJvci5cIil8fHRoaXM7cmV0dXJuIG4ubmFtZT1cIlBheW1lbnRNZXRob2RGYWlsZWRFcnJvclwiLG4udHlwZT1cInBheW1lbnRfbWV0aG9kX2NsaWVudF9pbnZhbGlkXCIsbn1yZXR1cm4gT2JqZWN0KHIuX19leHRlbmRzKShlLHQpLGV9KG4oMjMpLmEpO2UuYT1pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigwKSxpPW4oNSksbz1uKDMpLGE9big4KTtmdW5jdGlvbiBzKHQpe3JldHVybiBPYmplY3QoaS5tZW1vaXplKSgoZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspZVtuXT1hcmd1bWVudHNbbl07dmFyIHM9dC5jYWxsLmFwcGx5KHQsT2JqZWN0KHIuX19zcHJlYWRBcnJheXMpKFt0aGlzXSxlKSk7cmV0dXJuIHMgaW5zdGFuY2VvZiBvLk9ic2VydmFibGU/T2JqZWN0KG8uZnJvbSkocykucGlwZShPYmplY3QoYS5zaGFyZVJlcGxheSkoKSk6XCJmdW5jdGlvblwiPT10eXBlb2Ygcz9PYmplY3QoaS5tZW1vaXplKSgoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChvLmZyb20pKHModCkpLnBpcGUoT2JqZWN0KGEuc2hhcmVSZXBsYXkpKCkpfSkpOnN9KSl9ZnVuY3Rpb24gYyh0KXtyZXR1cm4gdCYmXCJib29sZWFuXCI9PXR5cGVvZiB0LnVzZUNhY2hlfWZ1bmN0aW9uIHUodCxlLG4pe3ZhciBpPW5ldyBXZWFrTWFwO2Z1bmN0aW9uIG8odCl7dmFyIG49dGhpcztyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIG8sYT1bXSx1PTA7dTxhcmd1bWVudHMubGVuZ3RoO3UrKylhW3VdPWFyZ3VtZW50c1t1XTt2YXIgZD1hW2EubGVuZ3RoLTFdLHA9KGMoZCk/ZDp7dXNlQ2FjaGU6ITF9KS51c2VDYWNoZTtpZighcClyZXR1cm4gdC5jYWxsLmFwcGx5KHQsT2JqZWN0KHIuX19zcHJlYWRBcnJheXMpKFtuXSxhKSk7dmFyIGg9aS5nZXQobil8fHt9O3JldHVybiBpLmdldChuKXx8aS5zZXQobixoKSxoW2VdfHwoaFtlXT1zKHQpKSwobz1oW2VdKS5jYWxsLmFwcGx5KG8sT2JqZWN0KHIuX19zcHJlYWRBcnJheXMpKFtuXSxhKSl9fXJldHVybntnZXQ6ZnVuY3Rpb24oKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBuLnZhbHVlKXRocm93IG5ldyBFcnJvcihcIkRlY29yYXRvciBzaG91bGQgYmUgdXNlZCBpbiBmdW5jdGlvbnNcIik7dmFyIHQ9by5jYWxsKHRoaXMsbi52YWx1ZSk7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLGUsT2JqZWN0KHIuX19hc3NpZ24pKE9iamVjdChyLl9fYXNzaWduKSh7fSxuKSx7dmFsdWU6dH0pKSx0fX19bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSl9LCwsLCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigwKTtmdW5jdGlvbiBpKHQsZSxuKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBuLnZhbHVlKXJldHVybiBuO3ZhciBpPW4udmFsdWU7cmV0dXJue2dldDpmdW5jdGlvbigpe3ZhciB0PWkuYmluZCh0aGlzKTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsZSxPYmplY3Qoci5fX2Fzc2lnbikoT2JqZWN0KHIuX19hc3NpZ24pKHt9LG4pLHt2YWx1ZTp0fSkpLHR9LHNldDpmdW5jdGlvbih0KXtpPXR9fX1lLmE9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBlJiZuP2kodCxlLG4pOmZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBPYmplY3Qoci5fX2V4dGVuZHMpKGUsdCksZX0odCk7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQucHJvdG90eXBlKS5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQucHJvdG90eXBlLG4pO3ImJlwiY29uc3RydWN0b3JcIiE9PW4mJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxuLGkodC5wcm90b3R5cGUsbixyKSl9KSksZX0odCl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSk7dmFyIHI9big1OSk7ZnVuY3Rpb24gaSh0LGUpe3ZhciBuPXQuZmlyc3ROYW1lfHxlLmZpcnN0TmFtZXx8XCJcIixpPXQubGFzdE5hbWV8fGUubGFzdE5hbWV8fFwiXCI7cmV0dXJue2FkZHJlc3NlczoodC5hZGRyZXNzZXN8fFtdKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Qoci5hKSh0KX0pKSxjdXN0b21lcklkOnQuaWQsaXNHdWVzdDp0LmlzR3Vlc3Qsc3RvcmVDcmVkaXQ6dC5zdG9yZUNyZWRpdCxlbWFpbDp0LmVtYWlsfHxlLmVtYWlsfHxcIlwiLGZpcnN0TmFtZTpuLGxhc3ROYW1lOmksbmFtZTp0LmZ1bGxOYW1lfHxbbixpXS5qb2luKFwiIFwiKSxjdXN0b21lckdyb3VwTmFtZTp0LmN1c3RvbWVyR3JvdXAmJnQuY3VzdG9tZXJHcm91cC5uYW1lfX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtuLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gY30pKTt2YXIgcj1uKDApLGk9bigyKSxvPW4oNjUpLGE9big4MSkscz1uKDExMSk7big1OCk7ZnVuY3Rpb24gYyh0LGUpe3ZvaWQgMD09PWUmJihlPXt9KTt2YXIgbixyLGM9dC5jdXJyZW5jeS5kZWNpbWFsUGxhY2VzLHU9bmV3IGEuYShjKTtyZXR1cm57aWQ6dC5vcmRlcklkLGl0ZW1zOk9iamVjdChvLmEpKHQubGluZUl0ZW1zLHQuY3VycmVuY3kuZGVjaW1hbFBsYWNlcyxcInByb2R1Y3RJZFwiKSxvcmRlcklkOnQub3JkZXJJZCxjdXJyZW5jeTp0LmN1cnJlbmN5LmNvZGUsY3VzdG9tZXJDYW5CZUNyZWF0ZWQ6dC5jdXN0b21lckNhbkJlQ3JlYXRlZCxwYXltZW50OnAodC5wYXltZW50cyxlLnBheW1lbnQpLHN1YnRvdGFsOnthbW91bnQ6dC5iYXNlQW1vdW50LGludGVnZXJBbW91bnQ6dS50b0ludGVnZXIodC5iYXNlQW1vdW50KX0sY291cG9uOntkaXNjb3VudGVkQW1vdW50Ok9iamVjdChpLnJlZHVjZSkodC5jb3Vwb25zLChmdW5jdGlvbih0LGUpe3JldHVybiB0K2UuZGlzY291bnRlZEFtb3VudH0pLDApLGNvdXBvbnM6dC5jb3Vwb25zLm1hcChzLmEpfSxkaXNjb3VudDp7YW1vdW50OnQuZGlzY291bnRBbW91bnQsaW50ZWdlckFtb3VudDp1LnRvSW50ZWdlcih0LmRpc2NvdW50QW1vdW50KX0sdG9rZW46ZS5vcmRlclRva2VuLGNhbGxiYWNrVXJsOmUuY2FsbGJhY2tVcmwsZGlzY291bnROb3RpZmljYXRpb25zOltdLGdpZnRDZXJ0aWZpY2F0ZToobj10LnBheW1lbnRzLHI9T2JqZWN0KGkuZmlsdGVyKShuLHtwcm92aWRlcklkOlwiZ2lmdGNlcnRpZmljYXRlXCJ9KSx7dG90YWxEaXNjb3VudGVkQW1vdW50Ok9iamVjdChpLnJlZHVjZSkociwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5hbW91bnQrdH0pLDApLGFwcGxpZWRHaWZ0Q2VydGlmaWNhdGVzOk9iamVjdChpLmtleUJ5KShyLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJue2NvZGU6dC5kZXRhaWwuY29kZSxkaXNjb3VudGVkQW1vdW50OnQuYW1vdW50LHJlbWFpbmluZ0JhbGFuY2U6dC5kZXRhaWwucmVtYWluaW5nLGdpZnRDZXJ0aWZpY2F0ZTp7YmFsYW5jZTp0LmFtb3VudCt0LmRldGFpbC5yZW1haW5pbmcsY29kZTp0LmRldGFpbC5jb2RlLHB1cmNoYXNlRGF0ZTpcIlwifX19KSksXCJjb2RlXCIpfSksc29jaWFsRGF0YTpsKHQpLHN0YXR1czp0LnN0YXR1cyxoYXNEaWdpdGFsSXRlbXM6dC5oYXNEaWdpdGFsSXRlbXMsaXNEb3dubG9hZGFibGU6dC5pc0Rvd25sb2FkYWJsZSxpc0NvbXBsZXRlOnQuaXNDb21wbGV0ZSxzaGlwcGluZzp7YW1vdW50OnQuc2hpcHBpbmdDb3N0VG90YWwsaW50ZWdlckFtb3VudDp1LnRvSW50ZWdlcih0LnNoaXBwaW5nQ29zdFRvdGFsKSxhbW91bnRCZWZvcmVEaXNjb3VudDp0LnNoaXBwaW5nQ29zdEJlZm9yZURpc2NvdW50LGludGVnZXJBbW91bnRCZWZvcmVEaXNjb3VudDp1LnRvSW50ZWdlcih0LnNoaXBwaW5nQ29zdEJlZm9yZURpc2NvdW50KX0sc3RvcmVDcmVkaXQ6e2Ftb3VudDpkKHQucGF5bWVudHMpfSx0YXhlczp0LnRheGVzLHRheFRvdGFsOnthbW91bnQ6dC50YXhUb3RhbCxpbnRlZ2VyQW1vdW50OnUudG9JbnRlZ2VyKHQudGF4VG90YWwpfSxoYW5kbGluZzp7YW1vdW50OnQuaGFuZGxpbmdDb3N0VG90YWwsaW50ZWdlckFtb3VudDp1LnRvSW50ZWdlcih0LmhhbmRsaW5nQ29zdFRvdGFsKX0sZ3JhbmRUb3RhbDp7YW1vdW50OnQub3JkZXJBbW91bnQsaW50ZWdlckFtb3VudDp0Lm9yZGVyQW1vdW50QXNJbnRlZ2VyfX19ZnVuY3Rpb24gdSh0KXtyZXR1cm5cIlBBWU1FTlRfU1RBVFVTX1wiK3R9ZnVuY3Rpb24gZCh0KXt2YXIgZT1PYmplY3QoaS5maW5kKSh0LHtwcm92aWRlcklkOlwic3RvcmVjcmVkaXRcIn0pO3JldHVybiBlP2UuYW1vdW50OjB9ZnVuY3Rpb24gcCh0LGUpe3ZvaWQgMD09PWUmJihlPXt9KTt2YXIgbj1PYmplY3QoaS5maW5kKSh0LGgpO3JldHVybiBuP3tpZDpuLnByb3ZpZGVySWQsc3RhdHVzOnUobi5kZXRhaWwuc3RlcCksaGVscFRleHQ6bi5kZXRhaWwuaW5zdHJ1Y3Rpb25zLHJldHVyblVybDplLnJldHVyblVybH06e319ZnVuY3Rpb24gaCh0KXtyZXR1cm5cImdpZnRjZXJ0aWZpY2F0ZVwiIT09dC5wcm92aWRlcklkJiZcInN0b3JlY3JlZGl0XCIhPT10LnByb3ZpZGVySWR9ZnVuY3Rpb24gbCh0KXt2YXIgZT17fTtyZXR1cm4gT2JqZWN0KHIuX19zcHJlYWRBcnJheXMpKHQubGluZUl0ZW1zLnBoeXNpY2FsSXRlbXMsdC5saW5lSXRlbXMuZGlnaXRhbEl0ZW1zKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgbjtlW3QuaWRdPShuPXQsW1wiZmJcIixcInR3XCIsXCJncFwiXS5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7dmFyIHI9bi5zb2NpYWxNZWRpYSYmT2JqZWN0KGkuZmluZCkobi5zb2NpYWxNZWRpYSwoZnVuY3Rpb24odCl7cmV0dXJuIHQuY29kZT09PWV9KSk7cmV0dXJuIHI/KHRbZV09e25hbWU6bi5uYW1lLGRlc2NyaXB0aW9uOm4ubmFtZSxpbWFnZTpuLmltYWdlVXJsLHVybDpyLmxpbmssc2hhcmVUZXh0OnIudGV4dCxzaGFyaW5nTGluazpyLmxpbmssY2hhbm5lbE5hbWU6ci5jaGFubmVsLGNoYW5uZWxDb2RlOnIuY29kZX0sdCk6dH0pLHt9KSl9KSksZX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDIpLGk9big4MSksbz1uKDExMSksYT1uKDE0Myk7dmFyIHM9big2NSk7ZnVuY3Rpb24gYyh0KXt2YXIgZSxuLGM9dC5jYXJ0LmN1cnJlbmN5LmRlY2ltYWxQbGFjZXMsdT1uZXcgaS5hKGMpO3JldHVybntpZDp0LmNhcnQuaWQsaXRlbXM6T2JqZWN0KHMuYSkodC5jYXJ0LmxpbmVJdGVtcyxjKSxjdXJyZW5jeTp0LmNhcnQuY3VycmVuY3kuY29kZSxjb3Vwb246e2Rpc2NvdW50ZWRBbW91bnQ6T2JqZWN0KHIucmVkdWNlKSh0LmNhcnQuY291cG9ucywoZnVuY3Rpb24odCxlKXtyZXR1cm4gdCtlLmRpc2NvdW50ZWRBbW91bnR9KSwwKSxjb3Vwb25zOnQuY2FydC5jb3Vwb25zLm1hcChvLmEpfSxkaXNjb3VudDp7YW1vdW50OnQuY2FydC5kaXNjb3VudEFtb3VudCxpbnRlZ2VyQW1vdW50OnUudG9JbnRlZ2VyKHQuY2FydC5kaXNjb3VudEFtb3VudCl9LGRpc2NvdW50Tm90aWZpY2F0aW9uczooZT10LnByb21vdGlvbnMsbj1bXSwoZXx8W10pLmZvckVhY2goKGZ1bmN0aW9uKHQpeyh0LmJhbm5lcnN8fFtdKS5mb3JFYWNoKChmdW5jdGlvbih0KXtuLnB1c2goe3BsYWNlaG9sZGVyczpbXSxkaXNjb3VudFR5cGU6bnVsbCxtZXNzYWdlOlwiXCIsbWVzc2FnZUh0bWw6dC50ZXh0fSl9KSl9KSksbiksZ2lmdENlcnRpZmljYXRlOnt0b3RhbERpc2NvdW50ZWRBbW91bnQ6T2JqZWN0KHIucmVkdWNlKSh0LmdpZnRDZXJ0aWZpY2F0ZXMsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQrZS51c2VkfSksMCksYXBwbGllZEdpZnRDZXJ0aWZpY2F0ZXM6T2JqZWN0KHIua2V5QnkpKHQuZ2lmdENlcnRpZmljYXRlcy5tYXAoYS5hKSxcImNvZGVcIil9LHNoaXBwaW5nOnthbW91bnQ6dC5zaGlwcGluZ0Nvc3RUb3RhbCxpbnRlZ2VyQW1vdW50OnUudG9JbnRlZ2VyKHQuc2hpcHBpbmdDb3N0VG90YWwpLGFtb3VudEJlZm9yZURpc2NvdW50OnQuc2hpcHBpbmdDb3N0QmVmb3JlRGlzY291bnQsaW50ZWdlckFtb3VudEJlZm9yZURpc2NvdW50OnUudG9JbnRlZ2VyKHQuc2hpcHBpbmdDb3N0QmVmb3JlRGlzY291bnQpLHJlcXVpcmVkOk9iamVjdChyLnNvbWUpKHQuY2FydC5saW5lSXRlbXMucGh5c2ljYWxJdGVtcywoZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNTaGlwcGluZ1JlcXVpcmVkfSkpfSxzdWJ0b3RhbDp7YW1vdW50OnQuc3VidG90YWwsaW50ZWdlckFtb3VudDp1LnRvSW50ZWdlcih0LnN1YnRvdGFsKX0sc3RvcmVDcmVkaXQ6e2Ftb3VudDp0LmN1c3RvbWVyP3QuY3VzdG9tZXIuc3RvcmVDcmVkaXQ6MH0sdGF4U3VidG90YWw6e2Ftb3VudDp0LnRheFRvdGFsLGludGVnZXJBbW91bnQ6dS50b0ludGVnZXIodC50YXhUb3RhbCl9LHRheGVzOnQudGF4ZXMsdGF4VG90YWw6e2Ftb3VudDp0LnRheFRvdGFsLGludGVnZXJBbW91bnQ6dS50b0ludGVnZXIodC50YXhUb3RhbCl9LGhhbmRsaW5nOnthbW91bnQ6dC5oYW5kbGluZ0Nvc3RUb3RhbCxpbnRlZ2VyQW1vdW50OnUudG9JbnRlZ2VyKHQuaGFuZGxpbmdDb3N0VG90YWwpfSxncmFuZFRvdGFsOnthbW91bnQ6dC5ncmFuZFRvdGFsLGludGVnZXJBbW91bnQ6dS50b0ludGVnZXIodC5ncmFuZFRvdGFsKX19fW4uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiBjfSkpfSwsZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9cmVxdWlyZShcIkBiaWdjb21tZXJjZS9iaWdwYXktY2xpZW50XCIpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHIsaSxvLGEscztuLmQoZSxcImNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxuLmQoZSxcImJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKSxuLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKSxmdW5jdGlvbih0KXt0LmRlPVwiZXVcIix0LmpwPVwiZmVcIix0LnVrPVwiZXVcIix0LnVzPVwibmFcIn0ocnx8KHI9e30pKSxmdW5jdGlvbih0KXt0LmVuX1VTPVwiZW5fVVNcIix0LmVuX0dCPVwiZW5fR0JcIix0LmRlX0RFPVwiZGVfREVcIix0LmZyX0ZSPVwiZnJfRlJcIix0Lml0X0lUPVwiaXRfSVRcIix0LmVzX0VTPVwiZXNfRVNcIix0LmphX0pQPVwiamFfSlBcIn0oaXx8KGk9e30pKSxmdW5jdGlvbih0KXt0LkhvbWU9XCJIb21lXCIsdC5Qcm9kdWN0PVwiUHJvZHVjdFwiLHQuQ2FydD1cIkNhcnRcIix0LkNoZWNrb3V0PVwiQ2hlY2tvdXRcIix0Lk90aGVyPVwiT3RoZXJcIn0ob3x8KG89e30pKSxmdW5jdGlvbih0KXt0LlVTRD1cIlVTRFwiLHQuRVVSPVwiRVVSXCIsdC5HQlA9XCJHQlBcIix0LkpQWT1cIkpQWVwifShhfHwoYT17fSkpLGZ1bmN0aW9uKHQpe3QuUGF5QW5kU2hpcD1cIlBheUFuZFNoaXBcIix0LlBheU9ubHk9XCJQYXlPbmx5XCJ9KHN8fChzPXt9KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDApLGk9big0Niksbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt2b2lkIDA9PT1lJiYoZT13aW5kb3cpLHRoaXMuX3NjcmlwdExvYWRlcj10LHRoaXMuX3dpbmRvdz1lfXJldHVybiB0LnByb3RvdHlwZS5sb2FkQ2xpZW50PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5fc2NyaXB0TG9hZGVyLmxvYWRTY3JpcHQoXCIvL2pzLmJyYWludHJlZWdhdGV3YXkuY29tL3dlYi8zLjU5LjAvanMvY2xpZW50Lm1pbi5qc1wiKS50aGVuKChmdW5jdGlvbigpe2lmKCF0Ll93aW5kb3cuYnJhaW50cmVlfHwhdC5fd2luZG93LmJyYWludHJlZS5jbGllbnQpdGhyb3cgbmV3IGkuYTtyZXR1cm4gdC5fd2luZG93LmJyYWludHJlZS5jbGllbnR9KSl9LHQucHJvdG90eXBlLmxvYWQzRFM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLl9zY3JpcHRMb2FkZXIubG9hZFNjcmlwdChcIi8vanMuYnJhaW50cmVlZ2F0ZXdheS5jb20vd2ViLzMuNTkuMC9qcy90aHJlZS1kLXNlY3VyZS5taW4uanNcIikudGhlbigoZnVuY3Rpb24oKXtpZighdC5fd2luZG93LmJyYWludHJlZXx8IXQuX3dpbmRvdy5icmFpbnRyZWUudGhyZWVEU2VjdXJlKXRocm93IG5ldyBpLmE7cmV0dXJuIHQuX3dpbmRvdy5icmFpbnRyZWUudGhyZWVEU2VjdXJlfSkpfSx0LnByb3RvdHlwZS5sb2FkRGF0YUNvbGxlY3Rvcj1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuX3NjcmlwdExvYWRlci5sb2FkU2NyaXB0KFwiLy9qcy5icmFpbnRyZWVnYXRld2F5LmNvbS93ZWIvMy41OS4wL2pzL2RhdGEtY29sbGVjdG9yLm1pbi5qc1wiKS50aGVuKChmdW5jdGlvbigpe2lmKCF0Ll93aW5kb3cuYnJhaW50cmVlfHwhdC5fd2luZG93LmJyYWludHJlZS5kYXRhQ29sbGVjdG9yKXRocm93IG5ldyBpLmE7cmV0dXJuIHQuX3dpbmRvdy5icmFpbnRyZWUuZGF0YUNvbGxlY3Rvcn0pKX0sdC5wcm90b3R5cGUubG9hZFBheXBhbD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuX3NjcmlwdExvYWRlci5sb2FkU2NyaXB0KFwiLy9qcy5icmFpbnRyZWVnYXRld2F5LmNvbS93ZWIvMy41OS4wL2pzL3BheXBhbC5taW4uanNcIikudGhlbigoZnVuY3Rpb24oKXtpZighdC5fd2luZG93LmJyYWludHJlZXx8IXQuX3dpbmRvdy5icmFpbnRyZWUucGF5cGFsKXRocm93IG5ldyBpLmE7cmV0dXJuIHQuX3dpbmRvdy5icmFpbnRyZWUucGF5cGFsfSkpfSx0LnByb3RvdHlwZS5sb2FkUGF5cGFsQ2hlY2tvdXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLl9zY3JpcHRMb2FkZXIubG9hZFNjcmlwdChcIi8vanMuYnJhaW50cmVlZ2F0ZXdheS5jb20vd2ViLzMuNTkuMC9qcy9wYXlwYWwtY2hlY2tvdXQubWluLmpzXCIpLnRoZW4oKGZ1bmN0aW9uKCl7aWYoIXQuX3dpbmRvdy5icmFpbnRyZWV8fCF0Ll93aW5kb3cuYnJhaW50cmVlLnBheXBhbENoZWNrb3V0KXRocm93IG5ldyBpLmE7cmV0dXJuIHQuX3dpbmRvdy5icmFpbnRyZWUucGF5cGFsQ2hlY2tvdXR9KSl9LHQucHJvdG90eXBlLmxvYWRWaXNhQ2hlY2tvdXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLl9zY3JpcHRMb2FkZXIubG9hZFNjcmlwdChcIi8vanMuYnJhaW50cmVlZ2F0ZXdheS5jb20vd2ViLzMuNTkuMC9qcy92aXNhLWNoZWNrb3V0Lm1pbi5qc1wiKS50aGVuKChmdW5jdGlvbigpe2lmKCF0Ll93aW5kb3cuYnJhaW50cmVlfHwhdC5fd2luZG93LmJyYWludHJlZS52aXNhQ2hlY2tvdXQpdGhyb3cgbmV3IGkuYTtyZXR1cm4gdC5fd2luZG93LmJyYWludHJlZS52aXNhQ2hlY2tvdXR9KSl9LHQucHJvdG90eXBlLmxvYWRHb29nbGVQYXltZW50PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5fc2NyaXB0TG9hZGVyLmxvYWRTY3JpcHQoXCIvL2pzLmJyYWludHJlZWdhdGV3YXkuY29tL3dlYi8zLjU5LjAvanMvZ29vZ2xlLXBheW1lbnQubWluLmpzXCIpLnRoZW4oKGZ1bmN0aW9uKCl7aWYoIXQuX3dpbmRvdy5icmFpbnRyZWV8fCF0Ll93aW5kb3cuYnJhaW50cmVlLmdvb2dsZVBheW1lbnQpdGhyb3cgbmV3IGkuYTtyZXR1cm4gdC5fd2luZG93LmJyYWludHJlZS5nb29nbGVQYXltZW50fSkpfSx0LnByb3RvdHlwZS5sb2FkSG9zdGVkRmllbGRzPWZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChyLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBPYmplY3Qoci5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLl9zY3JpcHRMb2FkZXIubG9hZFNjcmlwdChcIi8vanMuYnJhaW50cmVlZ2F0ZXdheS5jb20vd2ViLzMuNTkuMC9qcy9ob3N0ZWQtZmllbGRzLm1pbi5qc1wiKV07Y2FzZSAxOmlmKHQuc2VudCgpLCF0aGlzLl93aW5kb3cuYnJhaW50cmVlfHwhdGhpcy5fd2luZG93LmJyYWludHJlZS5ob3N0ZWRGaWVsZHMpdGhyb3cgbmV3IGkuYTtyZXR1cm5bMix0aGlzLl93aW5kb3cuYnJhaW50cmVlLmhvc3RlZEZpZWxkc119fSkpfSkpfSx0fSgpO2UuYT1vfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigwKSxpPW4oMTEyKSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9icmFpbnRyZWVTY3JpcHRMb2FkZXI9dCx0aGlzLl9kYXRhQ29sbGVjdG9ycz17fX1yZXR1cm4gdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbih0KXt0aGlzLl9jbGllbnRUb2tlbj10fSx0LnByb3RvdHlwZS5nZXRDbGllbnQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKCF0aGlzLl9jbGllbnRUb2tlbil0aHJvdyBuZXcgaS5iKGkuYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO3JldHVybiB0aGlzLl9jbGllbnR8fCh0aGlzLl9jbGllbnQ9dGhpcy5fYnJhaW50cmVlU2NyaXB0TG9hZGVyLmxvYWRDbGllbnQoKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gZS5jcmVhdGUoe2F1dGhvcml6YXRpb246dC5fY2xpZW50VG9rZW59KX0pKSksdGhpcy5fY2xpZW50fSx0LnByb3RvdHlwZS5nZXRQYXlwYWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGF5cGFsfHwodGhpcy5fcGF5cGFsPVByb21pc2UuYWxsKFt0aGlzLmdldENsaWVudCgpLHRoaXMuX2JyYWludHJlZVNjcmlwdExvYWRlci5sb2FkUGF5cGFsKCldKS50aGVuKChmdW5jdGlvbih0KXt2YXIgZT10WzBdO3JldHVybiB0WzFdLmNyZWF0ZSh7Y2xpZW50OmV9KX0pKSksdGhpcy5fcGF5cGFsfSx0LnByb3RvdHlwZS5nZXRQYXlwYWxDaGVja291dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXlwYWxDaGVja291dHx8KHRoaXMuX3BheXBhbENoZWNrb3V0PVByb21pc2UuYWxsKFt0aGlzLmdldENsaWVudCgpLHRoaXMuX2JyYWludHJlZVNjcmlwdExvYWRlci5sb2FkUGF5cGFsQ2hlY2tvdXQoKV0pLnRoZW4oKGZ1bmN0aW9uKHQpe3ZhciBlPXRbMF07cmV0dXJuIHRbMV0uY3JlYXRlKHtjbGllbnQ6ZX0pfSkpKSx0aGlzLl9wYXlwYWxDaGVja291dH0sdC5wcm90b3R5cGUuZ2V0M0RTPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXzNkc3x8KHRoaXMuXzNkcz1Qcm9taXNlLmFsbChbdGhpcy5nZXRDbGllbnQoKSx0aGlzLl9icmFpbnRyZWVTY3JpcHRMb2FkZXIubG9hZDNEUygpXSkudGhlbigoZnVuY3Rpb24odCl7dmFyIGU9dFswXTtyZXR1cm4gdFsxXS5jcmVhdGUoe2NsaWVudDplLHZlcnNpb246Mn0pfSkpKSx0aGlzLl8zZHN9LHQucHJvdG90eXBlLmdldERhdGFDb2xsZWN0b3I9ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5wYXlwYWw/XCJwYXlwYWxcIjpcImRlZmF1bHRcIixuPXRoaXMuX2RhdGFDb2xsZWN0b3JzW2VdO3JldHVybiBufHwobj1Qcm9taXNlLmFsbChbdGhpcy5nZXRDbGllbnQoKSx0aGlzLl9icmFpbnRyZWVTY3JpcHRMb2FkZXIubG9hZERhdGFDb2xsZWN0b3IoKV0pLnRoZW4oKGZ1bmN0aW9uKGUpe3ZhciBuPWVbMF07cmV0dXJuIGVbMV0uY3JlYXRlKE9iamVjdChyLl9fYXNzaWduKSh7Y2xpZW50Om4sa291bnQ6ITB9LHQpKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7aWYodCYmXCJEQVRBX0NPTExFQ1RPUl9LT1VOVF9OT1RfRU5BQkxFRFwiPT09dC5jb2RlKXJldHVybntkZXZpY2VEYXRhOnZvaWQgMCx0ZWFyZG93bjpmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUoKX19O3Rocm93IHR9KSksdGhpcy5fZGF0YUNvbGxlY3RvcnNbZV09biksbn0sdC5wcm90b3R5cGUuZ2V0VmlzYUNoZWNrb3V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Zpc2FDaGVja291dHx8KHRoaXMuX3Zpc2FDaGVja291dD1Qcm9taXNlLmFsbChbdGhpcy5nZXRDbGllbnQoKSx0aGlzLl9icmFpbnRyZWVTY3JpcHRMb2FkZXIubG9hZFZpc2FDaGVja291dCgpXSkudGhlbigoZnVuY3Rpb24odCl7dmFyIGU9dFswXTtyZXR1cm4gdFsxXS5jcmVhdGUoe2NsaWVudDplfSl9KSkpLHRoaXMuX3Zpc2FDaGVja291dH0sdC5wcm90b3R5cGUuZ2V0R29vZ2xlUGF5bWVudENvbXBvbmVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nb29nbGVQYXl8fCh0aGlzLl9nb29nbGVQYXk9UHJvbWlzZS5hbGwoW3RoaXMuZ2V0Q2xpZW50KCksdGhpcy5fYnJhaW50cmVlU2NyaXB0TG9hZGVyLmxvYWRHb29nbGVQYXltZW50KCldKS50aGVuKChmdW5jdGlvbih0KXt2YXIgZT10WzBdO3JldHVybiB0WzFdLmNyZWF0ZSh7Y2xpZW50OmV9KX0pKSksdGhpcy5fZ29vZ2xlUGF5fSx0LnByb3RvdHlwZS5jcmVhdGVIb3N0ZWRGaWVsZHM9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChyLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLG47cmV0dXJuIE9iamVjdChyLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihpKXtzd2l0Y2goaS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LFByb21pc2UuYWxsKFt0aGlzLmdldENsaWVudCgpLHRoaXMuX2JyYWludHJlZVNjcmlwdExvYWRlci5sb2FkSG9zdGVkRmllbGRzKCldKV07Y2FzZSAxOnJldHVybiBlPWkuc2VudCgpLG49ZVswXSxbMixlWzFdLmNyZWF0ZShPYmplY3Qoci5fX2Fzc2lnbikoT2JqZWN0KHIuX19hc3NpZ24pKHt9LHQpLHtjbGllbnQ6bn0pKV19fSkpfSkpfSx0LnByb3RvdHlwZS50ZWFyZG93bj1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIFByb21pc2UuYWxsKFt0aGlzLl90ZWFyZG93bih0aGlzLl8zZHMpLHRoaXMuX3RlYXJkb3duKHRoaXMuX2RhdGFDb2xsZWN0b3JzLmRlZmF1bHQpLHRoaXMuX3RlYXJkb3duKHRoaXMuX2RhdGFDb2xsZWN0b3JzLnBheXBhbCksdGhpcy5fdGVhcmRvd24odGhpcy5fdmlzYUNoZWNrb3V0KSx0aGlzLl90ZWFyZG93bih0aGlzLl9nb29nbGVQYXkpXSkudGhlbigoZnVuY3Rpb24oKXt0Ll8zZHM9dm9pZCAwLHQuX3Zpc2FDaGVja291dD12b2lkIDAsdC5fZGF0YUNvbGxlY3RvcnM9e30sdC5fZ29vZ2xlUGF5PXZvaWQgMH0pKX0sdC5wcm90b3R5cGUuX3RlYXJkb3duPWZ1bmN0aW9uKHQpe3JldHVybiB0P3QudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIHQudGVhcmRvd24oKX0pKTpQcm9taXNlLnJlc29sdmUoKX0sdH0oKTtlLmE9b30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiByfSkpLGZ1bmN0aW9uKHQpe3QuU3R5bGVDb25maWd1cmVkPVwiU1RZTEVfQ09ORklHVVJFRFwifShyfHwocj17fSkpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdm9pZCAwIT09dC5pZH1uLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuZm9ybWF0PWZ1bmN0aW9uKHQpe3ZhciBlPXQuc3BsaXQobmV3IFJlZ0V4cChcIlxcXFxzKi9cXFxccypcIikpLG49ZVswXSxyPXZvaWQgMD09PW4/XCJcIjpuLGk9ZVsxXSxvPXZvaWQgMD09PWk/XCJcIjppLGE9ci5zbGljZSgwLDIpLHM9ND09PW8ubGVuZ3RoP28uc2xpY2UoLTIpOm8/by5zbGljZSgwLDIpOnIuc2xpY2UoMik7cmV0dXJuIHQubGVuZ3RoPDI/cjp0Lmxlbmd0aD4zJiYhcz9hOmErXCIgLyBcIitzfSx0LnByb3RvdHlwZS50b09iamVjdD1mdW5jdGlvbih0KXt2YXIgZT10LnNwbGl0KG5ldyBSZWdFeHAoXCJcXFxccyovXFxcXHMqXCIpKSxuPWVbMF0scj12b2lkIDA9PT1uP1wiXCI6bixpPWVbMV0sbz12b2lkIDA9PT1pP1wiXCI6aTtyZXR1cm4vXlxcZCskLy50ZXN0KHIpJiYvXlxcZCskLy50ZXN0KG8pP3ttb250aDoxPT09ci5sZW5ndGg/XCIwXCIrcjpyLnNsaWNlKDAsMikseWVhcjoyPT09by5sZW5ndGg/XCIyMFwiK286by5zbGljZSgwLDQpfTp7bW9udGg6XCJcIix5ZWFyOlwiXCJ9fSx0fSgpO2UuYT1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigzNCksaT1uKDIpLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5mb3JtYXQ9ZnVuY3Rpb24odCl7dmFyIGU9T2JqZWN0KHIubnVtYmVyKSh0KS5jYXJkO2lmKCFlKXJldHVybiB0O3ZhciBuPU9iamVjdChpLm1heCkoT2JqZWN0KHIuY3JlZGl0Q2FyZFR5cGUpKHQpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChpLm1heCkodC5sZW5ndGhzKX0pKSksbz10aGlzLnVuZm9ybWF0KHQpLnNsaWNlKDAsbik7cmV0dXJuIGUuZ2Fwcy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBvLmxlbmd0aD50fSkpLnJlZHVjZSgoZnVuY3Rpb24odCxlLG4pe3JldHVyblt0LnNsaWNlKDAsZStuKSx0LnNsaWNlKGUrbildLmpvaW4oXCIgXCIpfSksbyl9LHQucHJvdG90eXBlLnVuZm9ybWF0PWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Qoci5udW1iZXIpKHQpLmNhcmQ/dC5yZXBsYWNlKG5ldyBSZWdFeHAoXCIgXCIsXCJnXCIpLFwiXCIpOnR9LHR9KCk7ZS5hPW99LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtuLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKTt2YXIgcj1bXCJwZXJfaXRlbV9kaXNjb3VudFwiLFwicGVyY2VudGFnZV9kaXNjb3VudFwiLFwicGVyX3RvdGFsX2Rpc2NvdW50XCIsXCJzaGlwcGluZ19kaXNjb3VudFwiLFwiZnJlZV9zaGlwcGluZ1wiXTtmdW5jdGlvbiBpKHQpe3JldHVybntjb2RlOnQuY29kZSxkaXNjb3VudDp0LmRpc3BsYXlOYW1lLGRpc2NvdW50VHlwZTpyLmluZGV4T2YodC5jb3Vwb25UeXBlKX19fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSk7dmFyIHIsaT1uKDApLG89bigyMyk7IWZ1bmN0aW9uKHQpe3RbdC5DaGVja291dEJ1dHRvbk5vdEluaXRpYWxpemVkPTBdPVwiQ2hlY2tvdXRCdXR0b25Ob3RJbml0aWFsaXplZFwiLHRbdC5DdXN0b21lck5vdEluaXRpYWxpemVkPTFdPVwiQ3VzdG9tZXJOb3RJbml0aWFsaXplZFwiLHRbdC5QYXltZW50Tm90SW5pdGlhbGl6ZWQ9Ml09XCJQYXltZW50Tm90SW5pdGlhbGl6ZWRcIix0W3QuU2hpcHBpbmdOb3RJbml0aWFsaXplZD0zXT1cIlNoaXBwaW5nTm90SW5pdGlhbGl6ZWRcIix0W3QuU3BhbVByb3RlY3Rpb25Ob3RJbml0aWFsaXplZD00XT1cIlNwYW1Qcm90ZWN0aW9uTm90SW5pdGlhbGl6ZWRcIn0ocnx8KHI9e30pKTt2YXIgYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlIHIuQ3VzdG9tZXJOb3RJbml0aWFsaXplZDpyZXR1cm5cIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIGN1c3RvbWVyIHN0ZXAgb2YgY2hlY2tvdXQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLlwiO2Nhc2Ugci5QYXltZW50Tm90SW5pdGlhbGl6ZWQ6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBwYXltZW50IHN0ZXAgb2YgY2hlY2tvdXQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLlwiO2Nhc2Ugci5TaGlwcGluZ05vdEluaXRpYWxpemVkOnJldHVyblwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgc2hpcHBpbmcgc3RlcCBvZiBjaGVja291dCBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQuXCI7Y2FzZSByLlNwYW1Qcm90ZWN0aW9uTm90SW5pdGlhbGl6ZWQ6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBjaGVja291dCBzcGFtIHByb3RlY3Rpb24gaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLlwiO2RlZmF1bHQ6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSByZXF1aXJlZCBjb21wb25lbnQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLlwifX0oZSkpfHx0aGlzO3JldHVybiBuLnN1YnR5cGU9ZSxuLm5hbWU9XCJOb3RJbml0aWFsaXplZEVycm9yXCIsbi50eXBlPVwibm90X2luaXRpYWxpemVkXCIsbn1yZXR1cm4gT2JqZWN0KGkuX19leHRlbmRzKShlLHQpLGV9KG8uYSk7ZS5iPWF9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDApLGk9big2NCksbz1uKDIpO2Z1bmN0aW9uIGEodCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9W10pLEFycmF5LmlzQXJyYXkoZSk/T2JqZWN0KGkuYSkoT2JqZWN0KHIuX19zcHJlYWRBcnJheXMpKHQsZSkpOmZ1bmN0aW9uKHQsZSl7dmFyIG49T2JqZWN0KG8ua2V5cykoT2JqZWN0KG8ucGlja0J5KShlLChmdW5jdGlvbih0KXtyZXR1cm4hdH0pKSksYT1PYmplY3Qoby5rZXlzKShPYmplY3Qoby5maWx0ZXIpKGUpKTtyZXR1cm4gT2JqZWN0KGkuYSkoT2JqZWN0KHIuX19zcHJlYWRBcnJheXMpKE9iamVjdChvLmRpZmZlcmVuY2UpKHQsbiksYSkpfSh0LGUpfW4uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiBhfSkpfSwsLCwsLCwsLCwsLCwsZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9cmVxdWlyZShcImlmcmFtZS1yZXNpemVyXCIpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1yZXF1aXJlKFwiaWZyYW1lLXJlc2l6ZXIvanMvaWZyYW1lUmVzaXplci5jb250ZW50V2luZG93XCIpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSk7dmFyIHI9bigyKTtmdW5jdGlvbiBpKHQsZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/dC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBpKHQsZSl9KSk6T2JqZWN0KHIuaXNQbGFpbk9iamVjdCkodCk/T2JqZWN0KHIudHJhbnNmb3JtKShPYmplY3Qoci5vbWl0QnkpKHQsZSksKGZ1bmN0aW9uKHQsbixyKXt0W3JdPWkobixlKX0pLHt9KTp0fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMCksaT1uKDEpLG89bigzKSxhPW4oOCkscz1uKDkxKSxjPW4oMTIpLHU9bigxNyksZD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMuX2NoZWNrb3V0UmVxdWVzdFNlbmRlcj10LHRoaXMuX2NvbmZpZ0FjdGlvbkNyZWF0b3I9ZSx0aGlzLl9mb3JtRmllbGRzQWN0aW9uQ3JlYXRvcj1ufXJldHVybiB0LnByb3RvdHlwZS5sb2FkQ2hlY2tvdXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiBPYmplY3Qoby5jb25jYXQpKE9iamVjdChvLm9mKShPYmplY3QoaS5jcmVhdGVBY3Rpb24pKHUuYS5Mb2FkQ2hlY2tvdXRSZXF1ZXN0ZWQpKSxPYmplY3Qoby5tZXJnZSkodGhpcy5fY29uZmlnQWN0aW9uQ3JlYXRvci5sb2FkQ29uZmlnKE9iamVjdChyLl9fYXNzaWduKShPYmplY3Qoci5fX2Fzc2lnbikoe30sZSkse3VzZUNhY2hlOiEwfSkpLHRoaXMuX2Zvcm1GaWVsZHNBY3Rpb25DcmVhdG9yLmxvYWRGb3JtRmllbGRzKE9iamVjdChyLl9fYXNzaWduKShPYmplY3Qoci5fX2Fzc2lnbikoe30sZSkse3VzZUNhY2hlOiEwfSkpLE9iamVjdChvLmRlZmVyKSgoZnVuY3Rpb24oKXtyZXR1cm4gbi5fY2hlY2tvdXRSZXF1ZXN0U2VuZGVyLmxvYWRDaGVja291dCh0LGUpLnRoZW4oKGZ1bmN0aW9uKHQpe3ZhciBlPXQuYm9keTtyZXR1cm4gT2JqZWN0KGkuY3JlYXRlQWN0aW9uKSh1LmEuTG9hZENoZWNrb3V0U3VjY2VlZGVkLGUpfSkpfSkpKSkucGlwZShPYmplY3QoYS5jYXRjaEVycm9yKSgoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChzLmEpKHUuYS5Mb2FkQ2hlY2tvdXRGYWlsZWQsdCl9KSkpfSx0LnByb3RvdHlwZS5sb2FkRGVmYXVsdENoZWNrb3V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBPYmplY3Qoby5jb25jYXQpKE9iamVjdChvLm9mKShPYmplY3QoaS5jcmVhdGVBY3Rpb24pKHUuYS5Mb2FkQ2hlY2tvdXRSZXF1ZXN0ZWQpKSxPYmplY3Qoby5tZXJnZSkoZS5fY29uZmlnQWN0aW9uQ3JlYXRvci5sb2FkQ29uZmlnKCksZS5fZm9ybUZpZWxkc0FjdGlvbkNyZWF0b3IubG9hZEZvcm1GaWVsZHMoT2JqZWN0KHIuX19hc3NpZ24pKE9iamVjdChyLl9fYXNzaWduKSh7fSx0KSx7dXNlQ2FjaGU6ITB9KSkpLE9iamVjdChvLmRlZmVyKSgoZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KHIuX19hd2FpdGVyKShlLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGUsbyxhO3JldHVybiBPYmplY3Qoci5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDppZihlPW4uZ2V0U3RhdGUoKSwhKG89ZS5jb25maWcuZ2V0Q29udGV4dENvbmZpZygpKXx8IW8uY2hlY2tvdXRJZCl0aHJvdyBuZXcgYy5iKGMuYS5NaXNzaW5nQ2hlY2tvdXRDb25maWcpO3JldHVybls0LHRoaXMuX2NoZWNrb3V0UmVxdWVzdFNlbmRlci5sb2FkQ2hlY2tvdXQoby5jaGVja291dElkLHQpXTtjYXNlIDE6cmV0dXJuIGE9ci5zZW50KCkuYm9keSxbMixPYmplY3QoaS5jcmVhdGVBY3Rpb24pKHUuYS5Mb2FkQ2hlY2tvdXRTdWNjZWVkZWQsYSldfX0pKX0pKX0pKSkucGlwZShPYmplY3QoYS5jYXRjaEVycm9yKSgoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChzLmEpKHUuYS5Mb2FkQ2hlY2tvdXRGYWlsZWQsdCl9KSkpfX0sdC5wcm90b3R5cGUudXBkYXRlQ2hlY2tvdXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gbmV3IG8uT2JzZXJ2YWJsZSgoZnVuY3Rpb24obyl7dmFyIGE9ci5nZXRTdGF0ZSgpLmNoZWNrb3V0LmdldENoZWNrb3V0KCk7aWYoIWEpdGhyb3cgbmV3IGMuYihjLmEuTWlzc2luZ0NoZWNrb3V0KTtvLm5leHQoT2JqZWN0KGkuY3JlYXRlQWN0aW9uKSh1LmEuVXBkYXRlQ2hlY2tvdXRSZXF1ZXN0ZWQpKSxuLl9jaGVja291dFJlcXVlc3RTZW5kZXIudXBkYXRlQ2hlY2tvdXQoYS5pZCx0LGUpLnRoZW4oKGZ1bmN0aW9uKHQpe3ZhciBlPXQuYm9keTtvLm5leHQoT2JqZWN0KGkuY3JlYXRlQWN0aW9uKSh1LmEuVXBkYXRlQ2hlY2tvdXRTdWNjZWVkZWQsZSkpLG8uY29tcGxldGUoKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7by5lcnJvcihPYmplY3QoaS5jcmVhdGVFcnJvckFjdGlvbikodS5hLlVwZGF0ZUNoZWNrb3V0RmFpbGVkLHQpKX0pKX0pKX19LHQucHJvdG90eXBlLmxvYWRDdXJyZW50Q2hlY2tvdXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24obil7dmFyIHI9bi5nZXRTdGF0ZSgpLmNoZWNrb3V0LmdldENoZWNrb3V0KCk7aWYoIXIpdGhyb3cgbmV3IGMuYihjLmEuTWlzc2luZ0NoZWNrb3V0KTtyZXR1cm4gZS5sb2FkQ2hlY2tvdXQoci5pZCx0KX19LHR9KCk7ZS5hPWR9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDApLGk9bigxKSxvPW4oMiksYT1uKDMpLHM9bigxMzkpLGM9bigxMiksdT1uKDUyKSxkPW4oNikscD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLl9jb25zaWdubWVudFJlcXVlc3RTZW5kZXI9dCx0aGlzLl9jaGVja291dFJlcXVlc3RTZW5kZXI9ZX1yZXR1cm4gdC5wcm90b3R5cGUudW5hc3NpZ25JdGVtc0J5QWRkcmVzcz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciBpPXIuZ2V0U3RhdGUoKTtpZighaS5jaGVja291dC5nZXRDaGVja291dCgpKXRocm93IG5ldyBjLmIoYy5hLk1pc3NpbmdDaGVja291dCk7dmFyIG89aS5jb25zaWdubWVudHMuZ2V0Q29uc2lnbm1lbnRCeUFkZHJlc3ModC5zaGlwcGluZ0FkZHJlc3MpO2lmKCFvKXRocm93IG5ldyB1LmEoXCJObyBjb25zaWdubWVudCBmb3VuZCBmb3IgdGhlIHNwZWNpZmllZCBhZGRyZXNzXCIpO3ZhciBhPW4uX3JlbW92ZUxpbmVJdGVtcyh0LmxpbmVJdGVtcyxvLGkuY2FydC5nZXRDYXJ0KCkpO3JldHVybiBhLmxlbmd0aD9uLnVwZGF0ZUNvbnNpZ25tZW50KHtpZDpvLmlkLHNoaXBwaW5nQWRkcmVzczp0LnNoaXBwaW5nQWRkcmVzcyxsaW5lSXRlbXM6YX0sZSkocik6bi5kZWxldGVDb25zaWdubWVudChvLmlkLGUpKHIpfX0sdC5wcm90b3R5cGUuYXNzaWduSXRlbXNCeUFkZHJlc3M9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiBmdW5jdGlvbihyKXt2YXIgaT1yLmdldFN0YXRlKCksbz1pLmNvbnNpZ25tZW50cy5nZXRDb25zaWdubWVudEJ5QWRkcmVzcyh0LnNoaXBwaW5nQWRkcmVzcyk7cmV0dXJuIG4uX2NyZWF0ZU9yVXBkYXRlQ29uc2lnbm1lbnQoe2lkOm8mJm8uaWQsc2hpcHBpbmdBZGRyZXNzOnQuc2hpcHBpbmdBZGRyZXNzLGxpbmVJdGVtczpuLl9hZGRMaW5lSXRlbXModC5saW5lSXRlbXMsbyxpLmNhcnQuZ2V0Q2FydCgpKX0sZSkocil9fSx0LnByb3RvdHlwZS5zZWxlY3RTaGlwcGluZ09wdGlvbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBhLk9ic2VydmFibGUuY3JlYXRlKChmdW5jdGlvbihvKXt2YXIgYT1yLmdldFN0YXRlKCkscz1hLmNoZWNrb3V0LmdldENoZWNrb3V0KCksdT1hLmNvbnNpZ25tZW50cy5nZXRDb25zaWdubWVudHMoKTtpZighcyl0aHJvdyBuZXcgYy5iKGMuYS5NaXNzaW5nQ2hlY2tvdXQpO2lmKCF1fHwhdS5sZW5ndGgpdGhyb3cgbmV3IGMuYihjLmEuTWlzc2luZ0NvbnNpZ25tZW50cyk7dmFyIHA9e2lkOnVbMF0uaWQsc2hpcHBpbmdPcHRpb25JZDp0fSxoPXtpZDp1WzBdLmlkfTtvLm5leHQoT2JqZWN0KGkuY3JlYXRlQWN0aW9uKShkLmEuVXBkYXRlU2hpcHBpbmdPcHRpb25SZXF1ZXN0ZWQsdm9pZCAwLGgpKSxuLl9jb25zaWdubWVudFJlcXVlc3RTZW5kZXIudXBkYXRlQ29uc2lnbm1lbnQocy5pZCxwLGUpLnRoZW4oKGZ1bmN0aW9uKHQpe3ZhciBlPXQuYm9keTtvLm5leHQoT2JqZWN0KGkuY3JlYXRlQWN0aW9uKShkLmEuVXBkYXRlU2hpcHBpbmdPcHRpb25TdWNjZWVkZWQsZSxoKSksby5jb21wbGV0ZSgpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtvLmVycm9yKE9iamVjdChpLmNyZWF0ZUVycm9yQWN0aW9uKShkLmEuVXBkYXRlU2hpcHBpbmdPcHRpb25GYWlsZWQsdCxoKSl9KSl9KSl9fSx0LnByb3RvdHlwZS5sb2FkU2hpcHBpbmdPcHRpb25zPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBhLk9ic2VydmFibGUuY3JlYXRlKChmdW5jdGlvbihvKXt2YXIgYT1uLmdldFN0YXRlKCkuY2hlY2tvdXQuZ2V0Q2hlY2tvdXQoKTtpZighYSl0aHJvdyBuZXcgYy5iKGMuYS5NaXNzaW5nQ2hlY2tvdXQpO28ubmV4dChPYmplY3QoaS5jcmVhdGVBY3Rpb24pKGQuYS5Mb2FkU2hpcHBpbmdPcHRpb25zUmVxdWVzdGVkKSksZS5fY2hlY2tvdXRSZXF1ZXN0U2VuZGVyLmxvYWRDaGVja291dChhLmlkLE9iamVjdChyLl9fYXNzaWduKShPYmplY3Qoci5fX2Fzc2lnbikoe30sdCkse3BhcmFtczp7aW5jbHVkZTpbcy5hLkF2YWlsYWJsZVNoaXBwaW5nT3B0aW9uc119fSkpLnRoZW4oKGZ1bmN0aW9uKHQpe3ZhciBlPXQuYm9keTtvLm5leHQoT2JqZWN0KGkuY3JlYXRlQWN0aW9uKShkLmEuTG9hZFNoaXBwaW5nT3B0aW9uc1N1Y2NlZWRlZCxlKSksby5jb21wbGV0ZSgpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtvLmVycm9yKE9iamVjdChpLmNyZWF0ZUVycm9yQWN0aW9uKShkLmEuTG9hZFNoaXBwaW5nT3B0aW9uc0ZhaWxlZCx0KSl9KSl9KSl9fSx0LnByb3RvdHlwZS51cGRhdGVBZGRyZXNzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gZnVuY3Rpb24ocil7dmFyIGk9bi5fZ2V0VXBkYXRlQWRkcmVzc1JlcXVlc3RCb2R5KHQsciksbz1yLmdldFN0YXRlKCkuY29uc2lnbm1lbnRzLmdldENvbnNpZ25tZW50cygpO3JldHVybiBvJiZvLmxlbmd0aCYmKGkuaWQ9b1swXS5pZCksbi5fY3JlYXRlT3JVcGRhdGVDb25zaWdubWVudChpLGUpKHIpfX0sdC5wcm90b3R5cGUuY3JlYXRlQ29uc2lnbm1lbnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGEuT2JzZXJ2YWJsZS5jcmVhdGUoKGZ1bmN0aW9uKG8pe3ZhciBhPXIuZ2V0U3RhdGUoKS5jaGVja291dC5nZXRDaGVja291dCgpO2lmKCFhfHwhYS5pZCl0aHJvdyBuZXcgYy5iKGMuYS5NaXNzaW5nQ2hlY2tvdXQpO28ubmV4dChPYmplY3QoaS5jcmVhdGVBY3Rpb24pKGQuYS5DcmVhdGVDb25zaWdubWVudHNSZXF1ZXN0ZWQpKSxuLl9jb25zaWdubWVudFJlcXVlc3RTZW5kZXIuY3JlYXRlQ29uc2lnbm1lbnRzKGEuaWQsdCxlKS50aGVuKChmdW5jdGlvbih0KXt2YXIgZT10LmJvZHk7by5uZXh0KE9iamVjdChpLmNyZWF0ZUFjdGlvbikoZC5hLkNyZWF0ZUNvbnNpZ25tZW50c1N1Y2NlZWRlZCxlKSksby5jb21wbGV0ZSgpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtvLmVycm9yKE9iamVjdChpLmNyZWF0ZUVycm9yQWN0aW9uKShkLmEuQ3JlYXRlQ29uc2lnbm1lbnRzRmFpbGVkLHQpKX0pKX0pKX19LHQucHJvdG90eXBlLnVwZGF0ZUNvbnNpZ25tZW50PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGEuT2JzZXJ2YWJsZS5jcmVhdGUoKGZ1bmN0aW9uKG8pe3ZhciBhPXIuZ2V0U3RhdGUoKS5jaGVja291dC5nZXRDaGVja291dCgpO2lmKCFhfHwhYS5pZCl0aHJvdyBuZXcgYy5iKGMuYS5NaXNzaW5nQ2hlY2tvdXQpO3ZhciBzPXtpZDp0LmlkfTtvLm5leHQoT2JqZWN0KGkuY3JlYXRlQWN0aW9uKShkLmEuVXBkYXRlQ29uc2lnbm1lbnRSZXF1ZXN0ZWQsdm9pZCAwLHMpKSxuLl9jb25zaWdubWVudFJlcXVlc3RTZW5kZXIudXBkYXRlQ29uc2lnbm1lbnQoYS5pZCx0LGUpLnRoZW4oKGZ1bmN0aW9uKHQpe3ZhciBlPXQuYm9keTtvLm5leHQoT2JqZWN0KGkuY3JlYXRlQWN0aW9uKShkLmEuVXBkYXRlQ29uc2lnbm1lbnRTdWNjZWVkZWQsZSxzKSksby5jb21wbGV0ZSgpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtvLmVycm9yKE9iamVjdChpLmNyZWF0ZUVycm9yQWN0aW9uKShkLmEuVXBkYXRlQ29uc2lnbm1lbnRGYWlsZWQsdCxzKSl9KSl9KSl9fSx0LnByb3RvdHlwZS5kZWxldGVDb25zaWdubWVudD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBhLk9ic2VydmFibGUuY3JlYXRlKChmdW5jdGlvbihvKXt2YXIgYT1yLmdldFN0YXRlKCkuY2hlY2tvdXQuZ2V0Q2hlY2tvdXQoKSxzPXtpZDp0fTtpZighYXx8IWEuaWQpdGhyb3cgbmV3IGMuYihjLmEuTWlzc2luZ0NoZWNrb3V0KTtvLm5leHQoT2JqZWN0KGkuY3JlYXRlQWN0aW9uKShkLmEuRGVsZXRlQ29uc2lnbm1lbnRSZXF1ZXN0ZWQsdm9pZCAwLHMpKSxuLl9jb25zaWdubWVudFJlcXVlc3RTZW5kZXIuZGVsZXRlQ29uc2lnbm1lbnQoYS5pZCx0LGUpLnRoZW4oKGZ1bmN0aW9uKHQpe3ZhciBlPXQuYm9keTtvLm5leHQoT2JqZWN0KGkuY3JlYXRlQWN0aW9uKShkLmEuRGVsZXRlQ29uc2lnbm1lbnRTdWNjZWVkZWQsZSxzKSksby5jb21wbGV0ZSgpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtvLmVycm9yKE9iamVjdChpLmNyZWF0ZUVycm9yQWN0aW9uKShkLmEuRGVsZXRlQ29uc2lnbm1lbnRGYWlsZWQsdCxzKSl9KSl9KSl9fSx0LnByb3RvdHlwZS51cGRhdGVTaGlwcGluZ09wdGlvbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBhLk9ic2VydmFibGUuY3JlYXRlKChmdW5jdGlvbihvKXt2YXIgYT1yLmdldFN0YXRlKCkuY2hlY2tvdXQuZ2V0Q2hlY2tvdXQoKTtpZighYXx8IWEuaWQpdGhyb3cgbmV3IGMuYihjLmEuTWlzc2luZ0NoZWNrb3V0KTt2YXIgcz17aWQ6dC5pZH07by5uZXh0KE9iamVjdChpLmNyZWF0ZUFjdGlvbikoZC5hLlVwZGF0ZVNoaXBwaW5nT3B0aW9uUmVxdWVzdGVkLHZvaWQgMCxzKSksbi5fY29uc2lnbm1lbnRSZXF1ZXN0U2VuZGVyLnVwZGF0ZUNvbnNpZ25tZW50KGEuaWQsdCxlKS50aGVuKChmdW5jdGlvbih0KXt2YXIgZT10LmJvZHk7by5uZXh0KE9iamVjdChpLmNyZWF0ZUFjdGlvbikoZC5hLlVwZGF0ZVNoaXBwaW5nT3B0aW9uU3VjY2VlZGVkLGUscykpLG8uY29tcGxldGUoKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7by5lcnJvcihPYmplY3QoaS5jcmVhdGVFcnJvckFjdGlvbikoZC5hLlVwZGF0ZVNoaXBwaW5nT3B0aW9uRmFpbGVkLHQscykpfSkpfSkpfX0sdC5wcm90b3R5cGUuX2NyZWF0ZU9yVXBkYXRlQ29uc2lnbm1lbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiBmdW5jdGlvbihyKXt2YXIgaT1yLmdldFN0YXRlKCkuY2hlY2tvdXQuZ2V0Q2hlY2tvdXQoKTtpZighaXx8IWkuaWQpdGhyb3cgbmV3IGMuYihjLmEuTWlzc2luZ0NoZWNrb3V0KTtyZXR1cm4gbi5faXNVcGRhdGVDb25zaWdubWVudFJlcXVlc3QodCk/bi51cGRhdGVDb25zaWdubWVudCh0LGUpKHIpOm4uY3JlYXRlQ29uc2lnbm1lbnRzKFt0XSxlKShyKX19LHQucHJvdG90eXBlLl9nZXRVcGRhdGVBZGRyZXNzUmVxdWVzdEJvZHk9ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmdldFN0YXRlKCkuY2FydC5nZXRDYXJ0KCk7aWYoIW4pdGhyb3cgbmV3IGMuYihjLmEuTWlzc2luZ0NhcnQpO3ZhciBpPW4ubGluZUl0ZW1zLG89aS5waHlzaWNhbEl0ZW1zLGE9aS5jdXN0b21JdGVtcyxzPXZvaWQgMD09PWE/W106YTtyZXR1cm57c2hpcHBpbmdBZGRyZXNzOnQsbGluZUl0ZW1zOk9iamVjdChyLl9fc3ByZWFkQXJyYXlzKShvLHMpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJue2l0ZW1JZDp0LmlkLHF1YW50aXR5OnQucXVhbnRpdHl9fSkpfX0sdC5wcm90b3R5cGUuX3JlbW92ZUxpbmVJdGVtcz1mdW5jdGlvbih0LGUsbil7aWYoIW4pdGhyb3cgbmV3IGMuYihjLmEuTWlzc2luZ0NhcnQpO3JldHVybiB0aGlzLl9oeWRyYXRlTGluZUl0ZW1zKGUubGluZUl0ZW1JZHMsbikubWFwKChmdW5jdGlvbihlKXt2YXIgbj1PYmplY3Qoby5maW5kKSh0LChmdW5jdGlvbih0KXtyZXR1cm4gdC5pdGVtSWQ9PT1lLml0ZW1JZH0pKTtyZXR1cm4gT2JqZWN0KHIuX19hc3NpZ24pKE9iamVjdChyLl9fYXNzaWduKSh7fSxlKSx7cXVhbnRpdHk6bj9lLnF1YW50aXR5LW4ucXVhbnRpdHk6ZS5xdWFudGl0eX0pfSkpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQucXVhbnRpdHk+MH0pKX0sdC5wcm90b3R5cGUuX2FkZExpbmVJdGVtcz1mdW5jdGlvbih0LGUsbil7aWYoIWUpcmV0dXJuIHQ7aWYoIW4pdGhyb3cgbmV3IGMuYihjLmEuTWlzc2luZ0NhcnQpO3JldHVybiB0LmNvbmNhdCh0aGlzLl9oeWRyYXRlTGluZUl0ZW1zKGUubGluZUl0ZW1JZHMsbikpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQucXVhbnRpdHk+MH0pKX0sdC5wcm90b3R5cGUuX2h5ZHJhdGVMaW5lSXRlbXM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5tYXAoKGZ1bmN0aW9uKHQpe3ZhciBuPU9iamVjdChvLmZpbmQpKGUubGluZUl0ZW1zLnBoeXNpY2FsSXRlbXMsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkPT09dH0pKTtyZXR1cm57aXRlbUlkOnQscXVhbnRpdHk6bj9uLnF1YW50aXR5OjB9fSkpfSx0LnByb3RvdHlwZS5faXNVcGRhdGVDb25zaWdubWVudFJlcXVlc3Q9ZnVuY3Rpb24odCl7cmV0dXJuISF0LmlkfSx0fSgpO2UuYT1wfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigwKSxpPW4oMzEpLG89bigxMTMpLGE9big2NCkscz1bXCJjb25zaWdubWVudHMuYXZhaWxhYmxlU2hpcHBpbmdPcHRpb25zXCIsXCJjYXJ0LmxpbmVJdGVtcy5waHlzaWNhbEl0ZW1zLm9wdGlvbnNcIixcImNhcnQubGluZUl0ZW1zLmRpZ2l0YWxJdGVtcy5vcHRpb25zXCIsXCJjdXN0b21lclwiLFwicHJvbW90aW9ucy5iYW5uZXJzXCJdLGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3JlcXVlc3RTZW5kZXI9dH1yZXR1cm4gdC5wcm90b3R5cGUuY3JlYXRlQ29uc2lnbm1lbnRzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj12b2lkIDA9PT1uP3t9Om4sYT1yLnRpbWVvdXQsYz1yLnBhcmFtcyx1PSh2b2lkIDA9PT1jP3t9OmMpLmluY2x1ZGUsZD1cIi9hcGkvc3RvcmVmcm9udC9jaGVja291dHMvXCIrdCtcIi9jb25zaWdubWVudHNcIixwPXtBY2NlcHQ6aS5hLkpzb25WMX07cmV0dXJuIHRoaXMuX3JlcXVlc3RTZW5kZXIucG9zdChkLHtib2R5OmUscGFyYW1zOntpbmNsdWRlOk9iamVjdChvLmEpKHMsdSl9LGhlYWRlcnM6cCx0aW1lb3V0OmF9KX0sdC5wcm90b3R5cGUudXBkYXRlQ29uc2lnbm1lbnQ9ZnVuY3Rpb24odCxlLG4pe3ZhciBhPXZvaWQgMD09PW4/e306bixjPWEudGltZW91dCx1PWEucGFyYW1zLGQ9KHZvaWQgMD09PXU/e306dSkuaW5jbHVkZSxwPWUuaWQsaD1PYmplY3Qoci5fX3Jlc3QpKGUsW1wiaWRcIl0pLGw9XCIvYXBpL3N0b3JlZnJvbnQvY2hlY2tvdXRzL1wiK3QrXCIvY29uc2lnbm1lbnRzL1wiK3AsbT17QWNjZXB0OmkuYS5Kc29uVjF9O3JldHVybiB0aGlzLl9yZXF1ZXN0U2VuZGVyLnB1dChsLHtib2R5OmgscGFyYW1zOntpbmNsdWRlOk9iamVjdChvLmEpKHMsZCl9LGhlYWRlcnM6bSx0aW1lb3V0OmN9KX0sdC5wcm90b3R5cGUuZGVsZXRlQ29uc2lnbm1lbnQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByPSh2b2lkIDA9PT1uP3t9Om4pLnRpbWVvdXQsbz1cIi9hcGkvc3RvcmVmcm9udC9jaGVja291dHMvXCIrdCtcIi9jb25zaWdubWVudHMvXCIrZSxjPXtBY2NlcHQ6aS5hLkpzb25WMX0sdT1PYmplY3QoYS5hKShzKTtyZXR1cm4gdGhpcy5fcmVxdWVzdFNlbmRlci5kZWxldGUobyx7cGFyYW1zOntpbmNsdWRlOnV9LGhlYWRlcnM6Yyx0aW1lb3V0OnJ9KX0sdH0oKTtlLmE9Y30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4rXCIvY2hlY2tvdXQucGhwP2FjdGlvbj1zZXRfZXh0ZXJuYWxfY2hlY2tvdXQmcHJvdmlkZXI9bWFzdGVycGFzcyZnYXRld2F5PXN0cmlwZSZvcmlnaW49XCIrdH1uLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMCksaT1uKDIpLG89big1OSksYT1uKDEwMSkscz1uKDEyKSxjPW4oOTkpLHU9bigxMDkpLGQ9bigxMTApLHA9bigxMDApLGg9big4MCksbD1uKDQxKSxtPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuX2NhcmRFeHBpcnlGb3JtYXR0ZXI9bmV3IHUuYSx0aGlzLl9jYXJkTnVtYmVyRm9ybWF0dGVyPW5ldyBkLmF9cmV0dXJuIHQucHJvdG90eXBlLnRyYW5zZm9ybT1mdW5jdGlvbih0LGUpe3ZhciBuPWUuYmlsbGluZ0FkZHJlc3MuZ2V0QmlsbGluZ0FkZHJlc3MoKSx1PWUuY2hlY2tvdXQuZ2V0Q2hlY2tvdXQoKSxkPWUuY3VzdG9tZXIuZ2V0Q3VzdG9tZXIoKSxtPWUub3JkZXIuZ2V0T3JkZXIoKSxmPWUucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZCh0Lm1ldGhvZElkLHQuZ2F0ZXdheUlkKSxfPWUuc2hpcHBpbmdBZGRyZXNzLmdldFNoaXBwaW5nQWRkcmVzcygpLHk9ZS5jb25zaWdubWVudHMuZ2V0Q29uc2lnbm1lbnRzKCksZz1lLmNvbnNpZ25tZW50cy5nZXRTaGlwcGluZ09wdGlvbigpLGI9ZS5jb25maWcuZ2V0U3RvcmVDb25maWcoKSx2PWUuY29uZmlnLmdldENvbnRleHRDb25maWcoKSxDPWUuaW5zdHJ1bWVudHMuZ2V0SW5zdHJ1bWVudHNNZXRhKCksTz1lLnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2RzTWV0YSgpLFM9ZS5vcmRlci5nZXRPcmRlck1ldGEoKSx3PWQmJm4mJk9iamVjdChjLmEpKGQsbiksST1DJiZ0LnBheW1lbnREYXRhJiYoT2JqZWN0KGwuYSkodC5wYXltZW50RGF0YSl8fE9iamVjdChsLmIpKHQucGF5bWVudERhdGEpKT9lLnBheW1lbnQuZ2V0UGF5bWVudFRva2VuKCkrXCIsIFwiK0MudmF1bHRBY2Nlc3NUb2tlbjplLnBheW1lbnQuZ2V0UGF5bWVudFRva2VuKCk7aWYoIUkpdGhyb3cgbmV3IHMuYihzLmEuTWlzc2luZ1BheW1lbnRUb2tlbik7cmV0dXJue2FkZGl0aW9uYWxBY3Rpb246dC5hZGRpdGlvbmFsQWN0aW9uLGF1dGhUb2tlbjpJLGN1c3RvbWVyOncsYmlsbGluZ0FkZHJlc3M6biYmT2JqZWN0KG8uYSkobiksc2hpcHBpbmdBZGRyZXNzOl8mJk9iamVjdChvLmEpKF8seSksc2hpcHBpbmdPcHRpb246ZyYmT2JqZWN0KGguYSkoZywhMCksY2FydDp1JiZPYmplY3QoYS5hKSh1KSxvcmRlcjptJiZPYmplY3QocC5hKShtLFMpLG9yZGVyTWV0YTpTLHBheW1lbnQ6dC5wYXltZW50RGF0YSxwYXltZW50TWV0aG9kOmYmJnRoaXMuX3RyYW5zZm9ybVBheW1lbnRNZXRob2QoZikscXVvdGVNZXRhOntyZXF1ZXN0Ok9iamVjdChyLl9fYXNzaWduKShPYmplY3Qoci5fX2Fzc2lnbikoe30sTykse2dlb0NvdW50cnlDb2RlOnYmJnYuZ2VvQ291bnRyeUNvZGV9KX0sc291cmNlOlwiYmlnY29tbWVyY2UtY2hlY2tvdXQtanMtc2RrXCIsc3RvcmU6T2JqZWN0KGkucGljaykoYiYmYi5zdG9yZVByb2ZpbGUsW1wic3RvcmVIYXNoXCIsXCJzdG9yZUlkXCIsXCJzdG9yZUxhbmd1YWdlXCIsXCJzdG9yZU5hbWVcIl0pfX0sdC5wcm90b3R5cGUudHJhbnNmb3JtV2l0aEhvc3RlZEZvcm1EYXRhPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcz1lLmFkZGl0aW9uYWxBY3Rpb24sdT1lLmF1dGhUb2tlbixkPWUuY2hlY2tvdXQsbD1lLmNvbmZpZyxtPWUub3JkZXIsZj1lLm9yZGVyTWV0YSxfPWUucGF5bWVudCx5PXZvaWQgMD09PV8/e306XyxnPWUucGF5bWVudE1ldGhvZCxiPWUucGF5bWVudE1ldGhvZE1ldGEsdj1kJiZkLmNvbnNpZ25tZW50c1swXSxDPXYmJnYuc2hpcHBpbmdBZGRyZXNzLE89diYmdi5zZWxlY3RlZFNoaXBwaW5nT3B0aW9uO3JldHVybnthZGRpdGlvbmFsQWN0aW9uOnMsYXV0aFRva2VuOnUscGF5bWVudE1ldGhvZDpnJiZ0aGlzLl90cmFuc2Zvcm1QYXltZW50TWV0aG9kKGcpLGN1c3RvbWVyOm0mJm0uYmlsbGluZ0FkZHJlc3MmJmQmJk9iamVjdChjLmEpKGQuY3VzdG9tZXIsbS5iaWxsaW5nQWRkcmVzcyksYmlsbGluZ0FkZHJlc3M6bSYmbS5iaWxsaW5nQWRkcmVzcyYmT2JqZWN0KG8uYSkobS5iaWxsaW5nQWRkcmVzcyksc2hpcHBpbmdBZGRyZXNzOkMmJmQmJk9iamVjdChvLmEpKEMsZC5jb25zaWdubWVudHMpLHNoaXBwaW5nT3B0aW9uOk8mJk9iamVjdChoLmEpKE8sITApLGNhcnQ6ZCYmT2JqZWN0KGEuYSkoZCksb3JkZXI6bSYmT2JqZWN0KHAuYSkobSxmKSxvcmRlck1ldGE6ZixwYXltZW50OnRoaXMuX3RyYW5zZm9ybUhvc3RlZElucHV0VmFsdWVzKHQseSxuKSxxdW90ZU1ldGE6e3JlcXVlc3Q6T2JqZWN0KHIuX19hc3NpZ24pKE9iamVjdChyLl9fYXNzaWduKSh7fSxiKSx7Z2VvQ291bnRyeUNvZGU6bCYmbC5jb250ZXh0Lmdlb0NvdW50cnlDb2RlfSl9LHNvdXJjZTpcImJpZ2NvbW1lcmNlLWNoZWNrb3V0LWpzLXNka1wiLHN0b3JlOmwmJk9iamVjdChpLnBpY2spKGwuc3RvcmVDb25maWcuc3RvcmVQcm9maWxlLFtcInN0b3JlSGFzaFwiLFwic3RvcmVJZFwiLFwic3RvcmVMYW5ndWFnZVwiLFwic3RvcmVOYW1lXCJdKX19LHQucHJvdG90eXBlLl90cmFuc2Zvcm1QYXltZW50TWV0aG9kPWZ1bmN0aW9uKHQpe3JldHVyblwibXVsdGktb3B0aW9uXCIhPT10Lm1ldGhvZHx8dC5nYXRld2F5P3QuaW5pdGlhbGl6YXRpb25EYXRhJiZ0LmluaXRpYWxpemF0aW9uRGF0YS5nYXRld2F5P09iamVjdChyLl9fYXNzaWduKShPYmplY3Qoci5fX2Fzc2lnbikoe30sdCkse2lkOnQuaW5pdGlhbGl6YXRpb25EYXRhLmdhdGV3YXl9KTp0Ok9iamVjdChyLl9fYXNzaWduKShPYmplY3Qoci5fX2Fzc2lnbikoe30sdCkse2dhdGV3YXk6dC5pZH0pfSx0LnByb3RvdHlwZS5fdHJhbnNmb3JtSG9zdGVkSW5wdXRWYWx1ZXM9ZnVuY3Rpb24odCxlLG4pe3JldHVyblwiaW5zdHJ1bWVudElkXCJpbiBlP09iamVjdChyLl9fYXNzaWduKShPYmplY3Qoci5fX2Fzc2lnbikoe30sZSkse2NjQ3Z2OnQuY2FyZENvZGVWZXJpZmljYXRpb24sY2NOdW1iZXI6dC5jYXJkTnVtYmVyVmVyaWZpY2F0aW9uJiZ0aGlzLl9jYXJkTnVtYmVyRm9ybWF0dGVyLnVuZm9ybWF0KHQuY2FyZE51bWJlclZlcmlmaWNhdGlvbiksaG9zdGVkRm9ybU5vbmNlOm59KTpPYmplY3Qoci5fX2Fzc2lnbikoT2JqZWN0KHIuX19hc3NpZ24pKHt9LGUpLHtjY0N2djp0LmNhcmRDb2RlLGNjRXhwaXJ5OnRoaXMuX2NhcmRFeHBpcnlGb3JtYXR0ZXIudG9PYmplY3QodC5jYXJkRXhwaXJ5fHxcIlwiKSxjY05hbWU6dC5jYXJkTmFtZXx8XCJcIixjY051bWJlcjp0aGlzLl9jYXJkTnVtYmVyRm9ybWF0dGVyLnVuZm9ybWF0KHQuY2FyZE51bWJlcnx8XCJcIiksaG9zdGVkRm9ybU5vbmNlOm59KX0sdH0oKTtlLmE9bX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9jbGllbnQ9dH1yZXR1cm4gdC5wcm90b3R5cGUuc3VibWl0UGF5bWVudD1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXtlLl9jbGllbnQuc3VibWl0UGF5bWVudCh0LChmdW5jdGlvbih0LGkpe3Q/cihlLl90cmFuc2Zvcm1SZXNwb25zZSh0KSk6bihlLl90cmFuc2Zvcm1SZXNwb25zZShpKSl9KSl9KSl9LHQucHJvdG90eXBlLmluaXRpYWxpemVPZmZzaXRlUGF5bWVudD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbigpe24uX2NsaWVudC5pbml0aWFsaXplT2Zmc2l0ZVBheW1lbnQodCxudWxsLGUpfSkpfSx0LnByb3RvdHlwZS5fdHJhbnNmb3JtUmVzcG9uc2U9ZnVuY3Rpb24odCl7cmV0dXJue2hlYWRlcnM6dC5oZWFkZXJzLGJvZHk6dC5kYXRhLHN0YXR1czp0LnN0YXR1cyxzdGF0dXNUZXh0OnQuc3RhdHVzVGV4dH19LHR9KCk7ZS5hPXJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiAwPT09KFwiXCIrdCkuaW5kZXhPZihcIiQkXCIpfHwwPT09KFwiXCIrdCkuaW5kZXhPZihcIl9cIil9bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDApLGk9bigxKSxvPW4oMTcwKSxhPW4oMzcpLHM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3ZhciByPXQuY2FsbCh0aGlzLGUse21lc3NhZ2U6bnx8XCJBbiB1bmV4cGVjdGVkIGVycm9yIGhhcyBvY2N1cnJlZC4gVGhlIGNoZWNrb3V0IHByb2Nlc3MgY2Fubm90IGNvbnRpbnVlIGFzIGEgcmVzdWx0LlwifSl8fHRoaXM7cmV0dXJuIHIubmFtZT1cIlVucmVjb3ZlcmFibGVFcnJvclwiLHIudHlwZT1cInVucmVjb3ZlcmFibGVcIixyfXJldHVybiBPYmplY3Qoci5fX2V4dGVuZHMpKGUsdCksZX0oYS5hKSxjPW4oMik7ZnVuY3Rpb24gdSh0KXtyZXR1cm4gdC5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU/T2JqZWN0KHIuX19zcHJlYWRBcnJheXMpKHQsW2VdKTp0fSksW10pLmpvaW4oXCIgXCIpfXZhciBkPW4oMTY4KSxwPW4oMTY5KSxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuX2ZhY3RvcnlNZXRob2RzPXt9LHRoaXMucmVnaXN0ZXIoXCJkZWZhdWx0XCIsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBhLmEodCx7bWVzc2FnZTplfSl9KSksdGhpcy5yZWdpc3RlcihcImludGVybmFsXCIsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5ib2R5LHI9bi5lcnJvcnMsaT12b2lkIDA9PT1yP1tdOnI7cmV0dXJuIG5ldyBhLmEodCx7bWVzc2FnZTp1KGkpfHxuLmRldGFpbHx8bi50aXRsZXx8ZSxlcnJvcnM6aS5sZW5ndGg/aS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybntjb2RlOm4udHlwZSxtZXNzYWdlOnR9fSkpOlt7Y29kZTpuLnR5cGUsbWVzc2FnZTpuLmRldGFpbHx8bi50aXRsZX1dfSl9KHQsZSl9KSksdGhpcy5yZWdpc3RlcihcInN0b3JlZnJvbnRcIiwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgbj10LmJvZHk7cmV0dXJuIG5ldyBhLmEodCx7bWVzc2FnZTplfHxuLmRldGFpbHx8bi50aXRsZSxlcnJvcnM6W3tjb2RlOm4uY29kZXx8bi50eXBlLG1lc3NhZ2U6bi5kZXRhaWx8fG4udGl0bGV9XX0pfSh0LGUpfSkpLHRoaXMucmVnaXN0ZXIoXCJwYXltZW50XCIsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdChkLmEpKHQsZSl9KSksdGhpcy5yZWdpc3RlcihcInRpbWVvdXRcIiwoZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBwLmEodCl9KSl9cmV0dXJuIHQucHJvdG90eXBlLnJlZ2lzdGVyPWZ1bmN0aW9uKHQsZSl7dGhpcy5fZmFjdG9yeU1ldGhvZHNbdF09ZX0sdC5wcm90b3R5cGUuY3JlYXRlRXJyb3I9ZnVuY3Rpb24odCxlKXtyZXR1cm4odGhpcy5fZmFjdG9yeU1ldGhvZHNbdGhpcy5fZ2V0VHlwZSh0KV18fHRoaXMuX2ZhY3RvcnlNZXRob2RzLmRlZmF1bHQpKHQsZSl9LHQucHJvdG90eXBlLl9nZXRUeXBlPWZ1bmN0aW9uKHQpe2lmKDA9PT10LnN0YXR1cylyZXR1cm5cInRpbWVvdXRcIjtpZih0aGlzLl9pc1N0b3JlZnJvbnRFcnJvclJlc3BvbnNlQm9keSh0LmJvZHkpKXJldHVyblwic3RvcmVmcm9udFwiO2lmKHRoaXMuX2lzSW50ZXJuYWxFcnJvclJlc3BvbnNlQm9keSh0LmJvZHkpKXt2YXIgZT1PYmplY3QoYy5sYXN0KSh0LmJvZHkudHlwZS5zcGxpdChcIi9cIikpO3JldHVybiBlJiZ0aGlzLl9mYWN0b3J5TWV0aG9kc1tlXT9lOlwiaW50ZXJuYWxcIn12YXIgbj1PYmplY3QoYy5sYXN0KSh0LmJvZHkmJnQuYm9keS5lcnJvcnMpO3JldHVybiBuJiZuLmNvZGUmJnRoaXMuX2ZhY3RvcnlNZXRob2RzW24uY29kZV0/bi5jb2RlOlwicGF5bWVudFwifSx0LnByb3RvdHlwZS5faXNTdG9yZWZyb250RXJyb3JSZXNwb25zZUJvZHk9ZnVuY3Rpb24odCl7dmFyIGU9dDtyZXR1cm4hdGhpcy5faXNJbnRlcm5hbEVycm9yUmVzcG9uc2VCb2R5KHQpJiZcInN0cmluZ1wiPT10eXBlb2YgZS50aXRsZSYmXCJzdHJpbmdcIj09dHlwZW9mIGUudHlwZSYmXCJudW1iZXJcIj09dHlwZW9mIGUuc3RhdHVzJiZcInN0cmluZ1wiPT10eXBlb2YgZS5kZXRhaWx9LHQucHJvdG90eXBlLl9pc0ludGVybmFsRXJyb3JSZXNwb25zZUJvZHk9ZnVuY3Rpb24odCl7dmFyIGU9dDtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgZS5lcnJvcnMmJlwic3RyaW5nXCI9PXR5cGVvZiBlLnRpdGxlJiZcInN0cmluZ1wiPT10eXBlb2YgZS50eXBlJiZcIm51bWJlclwiPT10eXBlb2YgZS5zdGF0dXN9LHR9KCk7dmFyIGw9bigzKSxtPW4oOCk7dmFyIGY9bigxNyksXz1uKDEyOSkseT1uKDg3KTtmdW5jdGlvbiBnKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiB0LnR5cGU9PT15LmEuQ2xlYXJFcnJvcn0oZSk/T2JqZWN0KF8uYSkodCwoZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1lLnBheWxvYWR9KSk6dH12YXIgYj1uKDcyKTtmdW5jdGlvbiB2KHQsZSl7cmV0dXJuIHZvaWQgMD09PWV8fE9iamVjdChiLmEpKHQsZSk/dDplfWZ1bmN0aW9uIEModCxlLG4pe3ZhciBpO3JldHVybiB0JiZ0Lmhhc093blByb3BlcnR5KGUpJiZPYmplY3QoYi5hKSh0W2VdLG4pP3Q6T2JqZWN0KHIuX19hc3NpZ24pKE9iamVjdChyLl9fYXNzaWduKSh7fSx0KSwoKGk9e30pW2VdPW4saSkpfXZhciBPPW4oMTgpLFM9bigxNzIpLHc9bigyMCksST17ZXJyb3JzOnt9LHN0YXR1c2VzOnt9fTtmdW5jdGlvbiBBKHQsZSl7cmV0dXJuIHZvaWQgMD09PXQmJih0PUkpLE9iamVjdChpLmNvbWJpbmVSZWR1Y2Vycykoe2RhdGE6RSxlcnJvcnM6T2JqZWN0KGkuY29tcG9zZVJlZHVjZXJzKShQLGcpLHN0YXR1c2VzOmp9KSh0LGUpfWZ1bmN0aW9uIEUodCxlKXtzd2l0Y2goZS50eXBlKXtjYXNlIHcuYS5VcGRhdGVCaWxsaW5nQWRkcmVzc1N1Y2NlZWRlZDpjYXNlIHcuYS5Db250aW51ZUFzR3Vlc3RTdWNjZWVkZWQ6Y2FzZSBmLmEuTG9hZENoZWNrb3V0U3VjY2VlZGVkOmNhc2UgTy5hLkxvYWRPcmRlclN1Y2NlZWRlZDpyZXR1cm4gdih0LGUucGF5bG9hZCYmZS5wYXlsb2FkLmJpbGxpbmdBZGRyZXNzKTtkZWZhdWx0OnJldHVybiB0fX1mdW5jdGlvbiBQKHQsZSl7c3dpdGNoKHZvaWQgMD09PXQmJih0PUkuZXJyb3JzKSxlLnR5cGUpe2Nhc2UgZi5hLkxvYWRDaGVja291dFJlcXVlc3RlZDpjYXNlIGYuYS5Mb2FkQ2hlY2tvdXRTdWNjZWVkZWQ6cmV0dXJuIEModCxcImxvYWRFcnJvclwiLHZvaWQgMCk7Y2FzZSBmLmEuTG9hZENoZWNrb3V0RmFpbGVkOnJldHVybiBDKHQsXCJsb2FkRXJyb3JcIixlLnBheWxvYWQpO2Nhc2Ugdy5hLlVwZGF0ZUJpbGxpbmdBZGRyZXNzUmVxdWVzdGVkOmNhc2Ugdy5hLlVwZGF0ZUJpbGxpbmdBZGRyZXNzU3VjY2VlZGVkOnJldHVybiBDKHQsXCJ1cGRhdGVFcnJvclwiLHZvaWQgMCk7Y2FzZSB3LmEuVXBkYXRlQmlsbGluZ0FkZHJlc3NGYWlsZWQ6cmV0dXJuIEModCxcInVwZGF0ZUVycm9yXCIsZS5wYXlsb2FkKTtjYXNlIFMuYS5VcGRhdGVTdWJzY3JpcHRpb25zUmVxdWVzdGVkOmNhc2UgUy5hLlVwZGF0ZVN1YnNjcmlwdGlvbnNTdWNjZWVkZWQ6Y2FzZSB3LmEuQ29udGludWVBc0d1ZXN0UmVxdWVzdGVkOmNhc2Ugdy5hLkNvbnRpbnVlQXNHdWVzdFN1Y2NlZWRlZDpyZXR1cm4gQyh0LFwiY29udGludWVBc0d1ZXN0RXJyb3JcIix2b2lkIDApO2Nhc2UgUy5hLlVwZGF0ZVN1YnNjcmlwdGlvbnNGYWlsZWQ6Y2FzZSB3LmEuQ29udGludWVBc0d1ZXN0RmFpbGVkOnJldHVybiBDKHQsXCJjb250aW51ZUFzR3Vlc3RFcnJvclwiLGUucGF5bG9hZCk7ZGVmYXVsdDpyZXR1cm4gdH19ZnVuY3Rpb24gaih0LGUpe3N3aXRjaCh2b2lkIDA9PT10JiYodD1JLnN0YXR1c2VzKSxlLnR5cGUpe2Nhc2UgZi5hLkxvYWRDaGVja291dFJlcXVlc3RlZDpyZXR1cm4gQyh0LFwiaXNMb2FkaW5nXCIsITApO2Nhc2UgZi5hLkxvYWRDaGVja291dFN1Y2NlZWRlZDpjYXNlIGYuYS5Mb2FkQ2hlY2tvdXRGYWlsZWQ6cmV0dXJuIEModCxcImlzTG9hZGluZ1wiLCExKTtjYXNlIHcuYS5VcGRhdGVCaWxsaW5nQWRkcmVzc1JlcXVlc3RlZDpyZXR1cm4gQyh0LFwiaXNVcGRhdGluZ1wiLCEwKTtjYXNlIHcuYS5VcGRhdGVCaWxsaW5nQWRkcmVzc0ZhaWxlZDpjYXNlIHcuYS5VcGRhdGVCaWxsaW5nQWRkcmVzc1N1Y2NlZWRlZDpyZXR1cm4gQyh0LFwiaXNVcGRhdGluZ1wiLCExKTtjYXNlIHcuYS5Db250aW51ZUFzR3Vlc3RSZXF1ZXN0ZWQ6Y2FzZSBTLmEuVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3RlZDpyZXR1cm4gQyh0LFwiaXNDb250aW51aW5nQXNHdWVzdFwiLCEwKTtjYXNlIFMuYS5VcGRhdGVTdWJzY3JpcHRpb25zU3VjY2VlZGVkOmNhc2UgUy5hLlVwZGF0ZVN1YnNjcmlwdGlvbnNGYWlsZWQ6Y2FzZSB3LmEuQ29udGludWVBc0d1ZXN0RmFpbGVkOmNhc2Ugdy5hLkNvbnRpbnVlQXNHdWVzdFN1Y2NlZWRlZDpyZXR1cm4gQyh0LFwiaXNDb250aW51aW5nQXNHdWVzdFwiLCExKTtkZWZhdWx0OnJldHVybiB0fX12YXIgaz1uKDQyKTt2YXIgTT1mdW5jdGlvbiB0KGUsbixyKXt2YXIgaT0ocnx8e30pLm1hdGNoT2JqZWN0LG89dm9pZCAwPT09aT9mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDAhPT10LmlkJiZ0LmlkPT09ZS5pZH06aTtpZighZSlyZXR1cm4gbjtpZighbnx8ZT09PW4pcmV0dXJuIGU7dmFyIGE9MCxzPTAsdT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGErPXQ9PT1lPzE6MCxzKz10PT09bj8xOjAsdH0sZD1uLm1hcCgoZnVuY3Rpb24obixyKXt2YXIgaT1lJiZlW3JdO3JldHVybiBPYmplY3Qoay5hKShpKSYmT2JqZWN0KGsuYSkobik/byhpLG4pP3UoVChpLG4pLGksbik6dSh2KGksbiksaSxuKTpPYmplY3QoYy5pc0FycmF5KShpKSYmT2JqZWN0KGMuaXNBcnJheSkobik/dSh0KGksbiksaSxuKTp1KHYoaSxuKSxpLG4pfSkpO3JldHVybiBhPT09bi5sZW5ndGgmJmUmJmUubGVuZ3RoPT09bi5sZW5ndGg/ZTpzPT09bi5sZW5ndGg/bjpkfTt2YXIgVD1mdW5jdGlvbiB0KGUsbil7cmV0dXJuIGU/biYmZSE9PW4/T2JqZWN0LmtleXMobikucmVkdWNlKChmdW5jdGlvbihlLHIpe3ZhciBpPWVbcl0sbz1uW3JdO3JldHVybiBPYmplY3Qoay5hKShpKSYmT2JqZWN0KGsuYSkobyk/QyhlLHIsdChpLG8pKTpPYmplY3QoYy5pc0FycmF5KShpKSYmT2JqZWN0KGMuaXNBcnJheSkobyk/QyhlLHIsTShpLG8pKTpDKGUscixvKX0pLGUpOmU6bn0sUj1uKDIyKSxEPW4oMjYpLHo9big2KSxMPXtlcnJvcnM6e30sc3RhdHVzZXM6e319O2Z1bmN0aW9uIE4odCxlKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9TCksT2JqZWN0KGkuY29tYmluZVJlZHVjZXJzKSh7ZGF0YTpGLGVycm9yczpPYmplY3QoaS5jb21wb3NlUmVkdWNlcnMpKFUsZyksc3RhdHVzZXM6cX0pKHQsZSl9ZnVuY3Rpb24gRih0LGUpe3N3aXRjaChlLnR5cGUpe2Nhc2Ugdy5hLlVwZGF0ZUJpbGxpbmdBZGRyZXNzU3VjY2VlZGVkOmNhc2UgZi5hLkxvYWRDaGVja291dFN1Y2NlZWRlZDpjYXNlIHouYS5DcmVhdGVDb25zaWdubWVudHNTdWNjZWVkZWQ6Y2FzZSB6LmEuRGVsZXRlQ29uc2lnbm1lbnRTdWNjZWVkZWQ6Y2FzZSB6LmEuVXBkYXRlQ29uc2lnbm1lbnRTdWNjZWVkZWQ6Y2FzZSB6LmEuVXBkYXRlU2hpcHBpbmdPcHRpb25TdWNjZWVkZWQ6Y2FzZSB6LmEuTG9hZFNoaXBwaW5nT3B0aW9uc1N1Y2NlZWRlZDpjYXNlIFIuYS5BcHBseUNvdXBvblN1Y2NlZWRlZDpjYXNlIFIuYS5SZW1vdmVDb3Vwb25TdWNjZWVkZWQ6Y2FzZSBELmEuQXBwbHlHaWZ0Q2VydGlmaWNhdGVTdWNjZWVkZWQ6Y2FzZSBELmEuUmVtb3ZlR2lmdENlcnRpZmljYXRlU3VjY2VlZGVkOnJldHVybiBUKHQsZS5wYXlsb2FkJiZlLnBheWxvYWQuY2FydCk7ZGVmYXVsdDpyZXR1cm4gdH19ZnVuY3Rpb24gcSh0LGUpe3N3aXRjaCh2b2lkIDA9PT10JiYodD1MLnN0YXR1c2VzKSxlLnR5cGUpe2Nhc2UgZi5hLkxvYWRDaGVja291dFJlcXVlc3RlZDpyZXR1cm4gQyh0LFwiaXNMb2FkaW5nXCIsITApO2Nhc2UgZi5hLkxvYWRDaGVja291dEZhaWxlZDpjYXNlIGYuYS5Mb2FkQ2hlY2tvdXRTdWNjZWVkZWQ6cmV0dXJuIEModCxcImlzTG9hZGluZ1wiLCExKTtkZWZhdWx0OnJldHVybiB0fX1mdW5jdGlvbiBVKHQsZSl7c3dpdGNoKHZvaWQgMD09PXQmJih0PUwuZXJyb3JzKSxlLnR5cGUpe2Nhc2UgZi5hLkxvYWRDaGVja291dFJlcXVlc3RlZDpjYXNlIGYuYS5Mb2FkQ2hlY2tvdXRTdWNjZWVkZWQ6cmV0dXJuIEModCxcImxvYWRFcnJvclwiLHZvaWQgMCk7Y2FzZSBmLmEuTG9hZENoZWNrb3V0RmFpbGVkOnJldHVybiBDKHQsXCJsb2FkRXJyb3JcIixlLnBheWxvYWQpO2RlZmF1bHQ6cmV0dXJuIHR9fXZhciB4PW4oMjEpLEI9e2RhdGE6e30sZXJyb3JzOnt9LHN0YXR1c2VzOnt9fSxHPXtpbml0aWFsaXplZENvbnRhaW5lcnM6e319LFY9e30sWT17fTtmdW5jdGlvbiBIKHQsZSl7dmFyIG4scixvO3JldHVybiB2b2lkIDA9PT10JiYodD1CKSxlLm1ldGEmJmUubWV0YS5tZXRob2RJZD9PYmplY3QoaS5jb21iaW5lUmVkdWNlcnMpKHtkYXRhOk9iamVjdChpLmNvbWJpbmVSZWR1Y2VycykoKG49e30sbltlLm1ldGEubWV0aG9kSWRdPVcsbikpLGVycm9yczpPYmplY3QoaS5jb21iaW5lUmVkdWNlcnMpKChyPXt9LHJbZS5tZXRhLm1ldGhvZElkXT1LLHIpKSxzdGF0dXNlczpPYmplY3QoaS5jb21iaW5lUmVkdWNlcnMpKChvPXt9LG9bZS5tZXRhLm1ldGhvZElkXT1KLG8pKX0pKHQsZSk6dH1mdW5jdGlvbiBXKHQsZSl7dmFyIG47c3dpdGNoKHZvaWQgMD09PXQmJih0PUcpLGUudHlwZSl7Y2FzZSB4LmEuSW5pdGlhbGl6ZUJ1dHRvblN1Y2NlZWRlZDpyZXR1cm4gZS5tZXRhJiZlLm1ldGEuY29udGFpbmVySWQ/VCh0LHtpbml0aWFsaXplZENvbnRhaW5lcnM6KG49e30sbltlLm1ldGEuY29udGFpbmVySWRdPSEwLG4pfSk6dDtjYXNlIHguYS5EZWluaXRpYWxpemVCdXR0b25TdWNjZWVkZWQ6cmV0dXJuIEModCxcImluaXRpYWxpemVkQ29udGFpbmVyc1wiLHt9KX1yZXR1cm4gdH1mdW5jdGlvbiBLKHQsZSl7c3dpdGNoKHZvaWQgMD09PXQmJih0PVYpLGUudHlwZSl7Y2FzZSB4LmEuSW5pdGlhbGl6ZUJ1dHRvblJlcXVlc3RlZDpjYXNlIHguYS5Jbml0aWFsaXplQnV0dG9uU3VjY2VlZGVkOnJldHVybiBDKHQsXCJpbml0aWFsaXplRXJyb3JcIix2b2lkIDApO2Nhc2UgeC5hLkluaXRpYWxpemVCdXR0b25GYWlsZWQ6cmV0dXJuIEModCxcImluaXRpYWxpemVFcnJvclwiLGUucGF5bG9hZCk7Y2FzZSB4LmEuRGVpbml0aWFsaXplQnV0dG9uUmVxdWVzdGVkOmNhc2UgeC5hLkRlaW5pdGlhbGl6ZUJ1dHRvblN1Y2NlZWRlZDpyZXR1cm4gQyh0LFwiZGVpbml0aWFsaXplRXJyb3JcIix2b2lkIDApO2Nhc2UgeC5hLkRlaW5pdGlhbGl6ZUJ1dHRvbkZhaWxlZDpyZXR1cm4gQyh0LFwiZGVpbml0aWFsaXplRXJyb3JcIixlLnBheWxvYWQpO2RlZmF1bHQ6cmV0dXJuIHR9fWZ1bmN0aW9uIEoodCxlKXtzd2l0Y2godm9pZCAwPT09dCYmKHQ9WSksZS50eXBlKXtjYXNlIHguYS5Jbml0aWFsaXplQnV0dG9uUmVxdWVzdGVkOnJldHVybiBDKHQsXCJpc0luaXRpYWxpemluZ1wiLCEwKTtjYXNlIHguYS5Jbml0aWFsaXplQnV0dG9uRmFpbGVkOmNhc2UgeC5hLkluaXRpYWxpemVCdXR0b25TdWNjZWVkZWQ6cmV0dXJuIEModCxcImlzSW5pdGlhbGl6aW5nXCIsITEpO2Nhc2UgeC5hLkRlaW5pdGlhbGl6ZUJ1dHRvblJlcXVlc3RlZDpyZXR1cm4gQyh0LFwiaXNEZWluaXRpYWxpemluZ1wiLCEwKTtjYXNlIHguYS5EZWluaXRpYWxpemVCdXR0b25GYWlsZWQ6Y2FzZSB4LmEuRGVpbml0aWFsaXplQnV0dG9uU3VjY2VlZGVkOnJldHVybiBDKHQsXCJpc0RlaW5pdGlhbGl6aW5nXCIsITEpO2RlZmF1bHQ6cmV0dXJuIHR9fXZhciBaPW4oMzkpLFE9e21ldGE6e30sZXJyb3JzOnt9LHN0YXR1c2VzOnt9fTtmdW5jdGlvbiBYKHQsZSl7cmV0dXJuIHZvaWQgMD09PXQmJih0PVEpLE9iamVjdChpLmNvbWJpbmVSZWR1Y2Vycykoe2RhdGE6JCxlcnJvcnM6T2JqZWN0KGkuY29tcG9zZVJlZHVjZXJzKSh0dCxnKSxzdGF0dXNlczpldH0pKHQsZSl9ZnVuY3Rpb24gJCh0LGUpe3N3aXRjaChlLnR5cGUpe2Nhc2UgWi5hLkxvYWRDb25maWdTdWNjZWVkZWQ6cmV0dXJuIFQodCxlLnBheWxvYWQpO2RlZmF1bHQ6cmV0dXJuIHR9fWZ1bmN0aW9uIHR0KHQsZSl7c3dpdGNoKHZvaWQgMD09PXQmJih0PVEuZXJyb3JzKSxlLnR5cGUpe2Nhc2UgWi5hLkxvYWRDb25maWdTdWNjZWVkZWQ6cmV0dXJuIEModCxcImxvYWRFcnJvclwiLHZvaWQgMCk7Y2FzZSBaLmEuTG9hZENvbmZpZ0ZhaWxlZDpyZXR1cm4gQyh0LFwibG9hZEVycm9yXCIsZS5wYXlsb2FkKTtkZWZhdWx0OnJldHVybiB0fX1mdW5jdGlvbiBldCh0LGUpe3N3aXRjaCh2b2lkIDA9PT10JiYodD1RLnN0YXR1c2VzKSxlLnR5cGUpe2Nhc2UgWi5hLkxvYWRDb25maWdSZXF1ZXN0ZWQ6cmV0dXJuIEModCxcImlzTG9hZGluZ1wiLCEwKTtjYXNlIFouYS5Mb2FkQ29uZmlnU3VjY2VlZGVkOmNhc2UgWi5hLkxvYWRDb25maWdGYWlsZWQ6cmV0dXJuIEModCxcImlzTG9hZGluZ1wiLCExKTtkZWZhdWx0OnJldHVybiB0fX12YXIgbnQ9e2Vycm9yczp7fSxzdGF0dXNlczp7fX07ZnVuY3Rpb24gcnQodCxlKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9bnQpLE9iamVjdChpLmNvbWJpbmVSZWR1Y2Vycykoe2RhdGE6aXQsZXJyb3JzOk9iamVjdChpLmNvbXBvc2VSZWR1Y2Vycykob3QsZyksc3RhdHVzZXM6YXR9KSh0LGUpfWZ1bmN0aW9uIGl0KHQsZSl7c3dpdGNoKGUudHlwZSl7Y2FzZSBmLmEuTG9hZENoZWNrb3V0U3VjY2VlZGVkOmNhc2UgUi5hLkFwcGx5Q291cG9uU3VjY2VlZGVkOmNhc2Ugei5hLlVwZGF0ZVNoaXBwaW5nT3B0aW9uU3VjY2VlZGVkOmNhc2UgUi5hLlJlbW92ZUNvdXBvblN1Y2NlZWRlZDpjYXNlIE8uYS5Mb2FkT3JkZXJTdWNjZWVkZWQ6cmV0dXJuIE0odCxlLnBheWxvYWQmJmUucGF5bG9hZC5jb3Vwb25zKTtkZWZhdWx0OnJldHVybiB0fX1mdW5jdGlvbiBvdCh0LGUpe3N3aXRjaCh2b2lkIDA9PT10JiYodD17fSksZS50eXBlKXtjYXNlIFIuYS5BcHBseUNvdXBvblJlcXVlc3RlZDpjYXNlIFIuYS5BcHBseUNvdXBvblN1Y2NlZWRlZDpyZXR1cm4gQyh0LFwiYXBwbHlDb3Vwb25FcnJvclwiLHZvaWQgMCk7Y2FzZSBSLmEuQXBwbHlDb3Vwb25GYWlsZWQ6cmV0dXJuIEModCxcImFwcGx5Q291cG9uRXJyb3JcIixlLnBheWxvYWQpO2Nhc2UgUi5hLlJlbW92ZUNvdXBvblJlcXVlc3RlZDpjYXNlIFIuYS5SZW1vdmVDb3Vwb25TdWNjZWVkZWQ6cmV0dXJuIEModCxcInJlbW92ZUNvdXBvbkVycm9yXCIsdm9pZCAwKTtjYXNlIFIuYS5SZW1vdmVDb3Vwb25GYWlsZWQ6cmV0dXJuIEModCxcInJlbW92ZUNvdXBvbkVycm9yXCIsZS5wYXlsb2FkKTtkZWZhdWx0OnJldHVybiB0fX1mdW5jdGlvbiBhdCh0LGUpe3N3aXRjaCh2b2lkIDA9PT10JiYodD17fSksZS50eXBlKXtjYXNlIFIuYS5BcHBseUNvdXBvblJlcXVlc3RlZDpyZXR1cm4gQyh0LFwiaXNBcHBseWluZ0NvdXBvblwiLCEwKTtjYXNlIFIuYS5BcHBseUNvdXBvblN1Y2NlZWRlZDpjYXNlIFIuYS5BcHBseUNvdXBvbkZhaWxlZDpyZXR1cm4gQyh0LFwiaXNBcHBseWluZ0NvdXBvblwiLCExKTtjYXNlIFIuYS5SZW1vdmVDb3Vwb25SZXF1ZXN0ZWQ6cmV0dXJuIEModCxcImlzUmVtb3ZpbmdDb3Vwb25cIiwhMCk7Y2FzZSBSLmEuUmVtb3ZlQ291cG9uU3VjY2VlZGVkOmNhc2UgUi5hLlJlbW92ZUNvdXBvbkZhaWxlZDpyZXR1cm4gQyh0LFwiaXNSZW1vdmluZ0NvdXBvblwiLCExKTtkZWZhdWx0OnJldHVybiB0fX12YXIgc3Q9e2Vycm9yczp7fSxzdGF0dXNlczp7fX07ZnVuY3Rpb24gY3QodCxlKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9c3QpLE9iamVjdChpLmNvbWJpbmVSZWR1Y2Vycykoe2RhdGE6dXQsZXJyb3JzOk9iamVjdChpLmNvbXBvc2VSZWR1Y2VycykoZHQsZyksc3RhdHVzZXM6cHR9KSh0LGUpfWZ1bmN0aW9uIHV0KHQsZSl7c3dpdGNoKGUudHlwZSl7Y2FzZSBmLmEuTG9hZENoZWNrb3V0U3VjY2VlZGVkOmNhc2Ugei5hLkNyZWF0ZUNvbnNpZ25tZW50c1N1Y2NlZWRlZDpjYXNlIHouYS5VcGRhdGVDb25zaWdubWVudFN1Y2NlZWRlZDpjYXNlIHouYS5EZWxldGVDb25zaWdubWVudFN1Y2NlZWRlZDpjYXNlIHouYS5VcGRhdGVTaGlwcGluZ09wdGlvblN1Y2NlZWRlZDpjYXNlIFIuYS5BcHBseUNvdXBvblN1Y2NlZWRlZDpjYXNlIFIuYS5SZW1vdmVDb3Vwb25TdWNjZWVkZWQ6Y2FzZSBELmEuQXBwbHlHaWZ0Q2VydGlmaWNhdGVTdWNjZWVkZWQ6Y2FzZSBELmEuUmVtb3ZlR2lmdENlcnRpZmljYXRlU3VjY2VlZGVkOnJldHVybiBNKHQsZS5wYXlsb2FkJiZlLnBheWxvYWQuZ2lmdENlcnRpZmljYXRlcyk7ZGVmYXVsdDpyZXR1cm4gdH19ZnVuY3Rpb24gZHQodCxlKXtzd2l0Y2godm9pZCAwPT09dCYmKHQ9c3QuZXJyb3JzKSxlLnR5cGUpe2Nhc2UgRC5hLkFwcGx5R2lmdENlcnRpZmljYXRlUmVxdWVzdGVkOmNhc2UgRC5hLkFwcGx5R2lmdENlcnRpZmljYXRlU3VjY2VlZGVkOnJldHVybiBDKHQsXCJhcHBseUdpZnRDZXJ0aWZpY2F0ZUVycm9yXCIsdm9pZCAwKTtjYXNlIEQuYS5BcHBseUdpZnRDZXJ0aWZpY2F0ZUZhaWxlZDpyZXR1cm4gQyh0LFwiYXBwbHlHaWZ0Q2VydGlmaWNhdGVFcnJvclwiLGUucGF5bG9hZCk7Y2FzZSBELmEuUmVtb3ZlR2lmdENlcnRpZmljYXRlUmVxdWVzdGVkOmNhc2UgRC5hLlJlbW92ZUdpZnRDZXJ0aWZpY2F0ZVN1Y2NlZWRlZDpyZXR1cm4gQyh0LFwicmVtb3ZlR2lmdENlcnRpZmljYXRlRXJyb3JcIix2b2lkIDApO2Nhc2UgRC5hLlJlbW92ZUdpZnRDZXJ0aWZpY2F0ZUZhaWxlZDpyZXR1cm4gQyh0LFwicmVtb3ZlR2lmdENlcnRpZmljYXRlRXJyb3JcIixlLnBheWxvYWQpO2RlZmF1bHQ6cmV0dXJuIHR9fWZ1bmN0aW9uIHB0KHQsZSl7c3dpdGNoKHZvaWQgMD09PXQmJih0PXN0LnN0YXR1c2VzKSxlLnR5cGUpe2Nhc2UgRC5hLkFwcGx5R2lmdENlcnRpZmljYXRlUmVxdWVzdGVkOnJldHVybiBDKHQsXCJpc0FwcGx5aW5nR2lmdENlcnRpZmljYXRlXCIsITApO2Nhc2UgRC5hLkFwcGx5R2lmdENlcnRpZmljYXRlU3VjY2VlZGVkOmNhc2UgRC5hLkFwcGx5R2lmdENlcnRpZmljYXRlRmFpbGVkOnJldHVybiBDKHQsXCJpc0FwcGx5aW5nR2lmdENlcnRpZmljYXRlXCIsITEpO2Nhc2UgRC5hLlJlbW92ZUdpZnRDZXJ0aWZpY2F0ZVJlcXVlc3RlZDpyZXR1cm4gQyh0LFwiaXNSZW1vdmluZ0dpZnRDZXJ0aWZpY2F0ZVwiLCEwKTtjYXNlIEQuYS5SZW1vdmVHaWZ0Q2VydGlmaWNhdGVTdWNjZWVkZWQ6Y2FzZSBELmEuUmVtb3ZlR2lmdENlcnRpZmljYXRlRmFpbGVkOnJldHVybiBDKHQsXCJpc1JlbW92aW5nR2lmdENlcnRpZmljYXRlXCIsITEpO2RlZmF1bHQ6cmV0dXJuIHR9fXZhciBodD1uKDM2KSxsdD17ZXJyb3JzOnt9LHN0YXR1c2VzOnt9fTtmdW5jdGlvbiBtdCh0LGUpe3JldHVybiB2b2lkIDA9PT10JiYodD1sdCksT2JqZWN0KGkuY29tYmluZVJlZHVjZXJzKSh7ZGF0YTpmdCxlcnJvcnM6T2JqZWN0KGkuY29tcG9zZVJlZHVjZXJzKShfdCxnKSxzdGF0dXNlczp5dH0pKHQsZSl9ZnVuY3Rpb24gZnQodCxlKXtzd2l0Y2goZS50eXBlKXtjYXNlIHcuYS5Db250aW51ZUFzR3Vlc3RTdWNjZWVkZWQ6Y2FzZSBmLmEuTG9hZENoZWNrb3V0U3VjY2VlZGVkOnJldHVybiBUKHQsZS5wYXlsb2FkJiZlLnBheWxvYWQuY3VzdG9tZXIpO2RlZmF1bHQ6cmV0dXJuIHR9fWZ1bmN0aW9uIF90KHQsZSl7c3dpdGNoKHZvaWQgMD09PXQmJih0PWx0LmVycm9ycyksZS50eXBlKXtjYXNlIGh0LmEuQ3JlYXRlQ3VzdG9tZXJSZXF1ZXN0ZWQ6Y2FzZSBodC5hLkNyZWF0ZUN1c3RvbWVyU3VjY2VlZGVkOnJldHVybiBDKHQsXCJjcmVhdGVFcnJvclwiLHZvaWQgMCk7Y2FzZSBodC5hLkNyZWF0ZUN1c3RvbWVyRmFpbGVkOnJldHVybiBDKHQsXCJjcmVhdGVFcnJvclwiLGUucGF5bG9hZCk7ZGVmYXVsdDpyZXR1cm4gdH19ZnVuY3Rpb24geXQodCxlKXtzd2l0Y2godm9pZCAwPT09dCYmKHQ9bHQuc3RhdHVzZXMpLGUudHlwZSl7Y2FzZSBodC5hLkNyZWF0ZUN1c3RvbWVyUmVxdWVzdGVkOnJldHVybiBDKHQsXCJpc0NyZWF0aW5nXCIsITApO2Nhc2UgaHQuYS5DcmVhdGVDdXN0b21lckZhaWxlZDpjYXNlIGh0LmEuQ3JlYXRlQ3VzdG9tZXJTdWNjZWVkZWQ6cmV0dXJuIEModCxcImlzQ3JlYXRpbmdcIiwhMSk7ZGVmYXVsdDpyZXR1cm4gdH19dmFyIGd0PW4oMTApLGJ0PXtkYXRhOnt9LGVycm9yczp7fSxzdGF0dXNlczp7fX07ZnVuY3Rpb24gdnQodCxlKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9YnQpLE9iamVjdChpLmNvbWJpbmVSZWR1Y2Vycykoe2RhdGE6Q3QsZXJyb3JzOk9iamVjdChpLmNvbXBvc2VSZWR1Y2VycykoT3QsZyksc3RhdHVzZXM6U3R9KSh0LGUpfWZ1bmN0aW9uIEN0KHQsZSl7dmFyIG4scjtzd2l0Y2godm9pZCAwPT09dCYmKHQ9YnQuZGF0YSksZS50eXBlKXtjYXNlIGd0LmEuSW5pdGlhbGl6ZVN1Y2NlZWRlZDpyZXR1cm4gVCh0LCgobj17fSlbZS5tZXRhJiZlLm1ldGEubWV0aG9kSWRdPXtpc0luaXRpYWxpemVkOiEwfSxuKSk7Y2FzZSBndC5hLkRlaW5pdGlhbGl6ZVN1Y2NlZWRlZDpyZXR1cm4gVCh0LCgocj17fSlbZS5tZXRhJiZlLm1ldGEubWV0aG9kSWRdPXtpc0luaXRpYWxpemVkOiExfSxyKSl9cmV0dXJuIHR9ZnVuY3Rpb24gT3QodCxlKXtzd2l0Y2godm9pZCAwPT09dCYmKHQ9YnQuZXJyb3JzKSxlLnR5cGUpe2Nhc2UgZ3QuYS5Jbml0aWFsaXplUmVxdWVzdGVkOmNhc2UgZ3QuYS5Jbml0aWFsaXplU3VjY2VlZGVkOnJldHVybiBUKHQse2luaXRpYWxpemVFcnJvcjp2b2lkIDAsaW5pdGlhbGl6ZU1ldGhvZElkOnZvaWQgMH0pO2Nhc2UgZ3QuYS5Jbml0aWFsaXplRmFpbGVkOnJldHVybiBUKHQse2luaXRpYWxpemVFcnJvcjplLnBheWxvYWQsaW5pdGlhbGl6ZU1ldGhvZElkOmUubWV0YSYmZS5tZXRhLm1ldGhvZElkfSk7Y2FzZSBndC5hLkRlaW5pdGlhbGl6ZVJlcXVlc3RlZDpjYXNlIGd0LmEuRGVpbml0aWFsaXplU3VjY2VlZGVkOnJldHVybiBUKHQse2RlaW5pdGlhbGl6ZUVycm9yOnZvaWQgMCxkZWluaXRpYWxpemVNZXRob2RJZDp2b2lkIDB9KTtjYXNlIGd0LmEuRGVpbml0aWFsaXplRmFpbGVkOnJldHVybiBUKHQse2RlaW5pdGlhbGl6ZUVycm9yOmUucGF5bG9hZCxkZWluaXRpYWxpemVNZXRob2RJZDplLm1ldGEmJmUubWV0YS5tZXRob2RJZH0pO2Nhc2UgZ3QuYS5TaWduSW5SZXF1ZXN0ZWQ6Y2FzZSBndC5hLlNpZ25JblN1Y2NlZWRlZDpyZXR1cm4gVCh0LHtzaWduSW5FcnJvcjp2b2lkIDAsc2lnbkluTWV0aG9kSWQ6dm9pZCAwfSk7Y2FzZSBndC5hLlNpZ25JbkZhaWxlZDpyZXR1cm4gVCh0LHtzaWduSW5FcnJvcjplLnBheWxvYWQsc2lnbkluTWV0aG9kSWQ6ZS5tZXRhJiZlLm1ldGEubWV0aG9kSWR9KTtjYXNlIGd0LmEuU2lnbk91dFJlcXVlc3RlZDpjYXNlIGd0LmEuU2lnbk91dFN1Y2NlZWRlZDpyZXR1cm4gVCh0LHtzaWduT3V0RXJyb3I6dm9pZCAwLHNpZ25PdXRNZXRob2RJZDp2b2lkIDB9KTtjYXNlIGd0LmEuU2lnbk91dEZhaWxlZDpyZXR1cm4gVCh0LHtzaWduT3V0RXJyb3I6ZS5wYXlsb2FkLHNpZ25PdXRNZXRob2RJZDplLm1ldGEmJmUubWV0YS5tZXRob2RJZH0pO2Nhc2UgZ3QuYS5XaWRnZXRJbnRlcmFjdGlvblN0YXJ0ZWQ6Y2FzZSBndC5hLldpZGdldEludGVyYWN0aW9uRmluaXNoZWQ6cmV0dXJuIFQodCx7d2lkZ2V0SW50ZXJhY3Rpb25FcnJvcjp2b2lkIDAsd2lkZ2V0SW50ZXJhY3Rpb25NZXRob2RJZDp2b2lkIDB9KTtjYXNlIGd0LmEuV2lkZ2V0SW50ZXJhY3Rpb25GYWlsZWQ6cmV0dXJuIFQodCx7d2lkZ2V0SW50ZXJhY3Rpb25FcnJvcjplLnBheWxvYWQsd2lkZ2V0SW50ZXJhY3Rpb25NZXRob2RJZDplLm1ldGEubWV0aG9kSWR9KTtkZWZhdWx0OnJldHVybiB0fX1mdW5jdGlvbiBTdCh0LGUpe3N3aXRjaCh2b2lkIDA9PT10JiYodD1idC5zdGF0dXNlcyksZS50eXBlKXtjYXNlIGd0LmEuSW5pdGlhbGl6ZVJlcXVlc3RlZDpyZXR1cm4gVCh0LHtpc0luaXRpYWxpemluZzohMCxpbml0aWFsaXplTWV0aG9kSWQ6ZS5tZXRhJiZlLm1ldGEubWV0aG9kSWR9KTtjYXNlIGd0LmEuSW5pdGlhbGl6ZUZhaWxlZDpjYXNlIGd0LmEuSW5pdGlhbGl6ZVN1Y2NlZWRlZDpyZXR1cm4gVCh0LHtpc0luaXRpYWxpemluZzohMSxpbml0aWFsaXplTWV0aG9kSWQ6dm9pZCAwfSk7Y2FzZSBndC5hLkRlaW5pdGlhbGl6ZVJlcXVlc3RlZDpyZXR1cm4gVCh0LHtpc0RlaW5pdGlhbGl6aW5nOiEwLGRlaW5pdGlhbGl6ZU1ldGhvZElkOmUubWV0YSYmZS5tZXRhLm1ldGhvZElkfSk7Y2FzZSBndC5hLkRlaW5pdGlhbGl6ZUZhaWxlZDpjYXNlIGd0LmEuRGVpbml0aWFsaXplU3VjY2VlZGVkOnJldHVybiBUKHQse2lzRGVpbml0aWFsaXppbmc6ITEsZGVpbml0aWFsaXplTWV0aG9kSWQ6dm9pZCAwfSk7Y2FzZSBndC5hLlNpZ25JblJlcXVlc3RlZDpyZXR1cm4gVCh0LHtpc1NpZ25pbmdJbjohMCxzaWduSW5NZXRob2RJZDplLm1ldGEmJmUubWV0YS5tZXRob2RJZH0pO2Nhc2UgZ3QuYS5TaWduSW5GYWlsZWQ6Y2FzZSBndC5hLlNpZ25JblN1Y2NlZWRlZDpyZXR1cm4gVCh0LHtpc1NpZ25pbmdJbjohMSxzaWduSW5NZXRob2RJZDp2b2lkIDB9KTtjYXNlIGd0LmEuU2lnbk91dFJlcXVlc3RlZDpyZXR1cm4gVCh0LHtpc1NpZ25pbmdPdXQ6ITAsc2lnbk91dE1ldGhvZElkOmUubWV0YSYmZS5tZXRhLm1ldGhvZElkfSk7Y2FzZSBndC5hLlNpZ25PdXRGYWlsZWQ6Y2FzZSBndC5hLlNpZ25PdXRTdWNjZWVkZWQ6cmV0dXJuIFQodCx7aXNTaWduaW5nT3V0OiExLHNpZ25PdXRNZXRob2RJZDp2b2lkIDB9KTtjYXNlIGd0LmEuV2lkZ2V0SW50ZXJhY3Rpb25TdGFydGVkOnJldHVybiBUKHQse2lzV2lkZ2V0SW50ZXJhY3Rpbmc6ITAsd2lkZ2V0SW50ZXJhY3Rpb25NZXRob2RJZDplLm1ldGEubWV0aG9kSWR9KTtjYXNlIGd0LmEuV2lkZ2V0SW50ZXJhY3Rpb25GaW5pc2hlZDpjYXNlIGd0LmEuV2lkZ2V0SW50ZXJhY3Rpb25GYWlsZWQ6cmV0dXJuIFQodCx7aXNXaWRnZXRJbnRlcmFjdGluZzohMSx3aWRnZXRJbnRlcmFjdGlvbk1ldGhvZElkOnZvaWQgMH0pO2RlZmF1bHQ6cmV0dXJuIHR9fXZhciB3dD1uKDQwKSxJdD17ZXJyb3JzOnt9LHN0YXR1c2VzOnt9fTtmdW5jdGlvbiBBdCh0LGUpe3JldHVybiB2b2lkIDA9PT10JiYodD1JdCksT2JqZWN0KGkuY29tYmluZVJlZHVjZXJzKSh7ZGF0YTpFdCxlcnJvcnM6T2JqZWN0KGkuY29tcG9zZVJlZHVjZXJzKShQdCxnKSxzdGF0dXNlczpqdH0pKHQsZSl9ZnVuY3Rpb24gRXQodCxlKXtzd2l0Y2goZS50eXBlKXtjYXNlIHd0LmEuTG9hZEZvcm1GaWVsZHNTdWNjZWVkZWQ6cmV0dXJuIFQodCxlLnBheWxvYWQpO2RlZmF1bHQ6cmV0dXJuIHR9fWZ1bmN0aW9uIFB0KHQsZSl7c3dpdGNoKHZvaWQgMD09PXQmJih0PUl0LmVycm9ycyksZS50eXBlKXtjYXNlIHd0LmEuTG9hZEZvcm1GaWVsZHNTdWNjZWVkZWQ6cmV0dXJuIEModCxcImxvYWRFcnJvclwiLHZvaWQgMCk7Y2FzZSB3dC5hLkxvYWRGb3JtRmllbGRzRmFpbGVkOnJldHVybiBDKHQsXCJsb2FkRXJyb3JcIixlLnBheWxvYWQpO2RlZmF1bHQ6cmV0dXJuIHR9fWZ1bmN0aW9uIGp0KHQsZSl7c3dpdGNoKHZvaWQgMD09PXQmJih0PUl0LnN0YXR1c2VzKSxlLnR5cGUpe2Nhc2Ugd3QuYS5Mb2FkRm9ybUZpZWxkc1JlcXVlc3RlZDpyZXR1cm4gQyh0LFwiaXNMb2FkaW5nXCIsITApO2Nhc2Ugd3QuYS5Mb2FkRm9ybUZpZWxkc1N1Y2NlZWRlZDpjYXNlIHd0LmEuTG9hZEZvcm1GaWVsZHNGYWlsZWQ6cmV0dXJuIEModCxcImlzTG9hZGluZ1wiLCExKTtkZWZhdWx0OnJldHVybiB0fX12YXIga3Q9big0MyksTXQ9e2Vycm9yczp7fSxzdGF0dXNlczp7fX07ZnVuY3Rpb24gVHQodCxlKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9TXQpLE9iamVjdChpLmNvbWJpbmVSZWR1Y2Vycykoe2RhdGE6UnQsZXJyb3JzOk9iamVjdChpLmNvbXBvc2VSZWR1Y2VycykoRHQsZyksc3RhdHVzZXM6enR9KSh0LGUpfWZ1bmN0aW9uIFJ0KHQsZSl7c3dpdGNoKGUudHlwZSl7Y2FzZSBrdC5hLkxvYWRDb3VudHJpZXNTdWNjZWVkZWQ6cmV0dXJuIE0odCxlLnBheWxvYWQpO2RlZmF1bHQ6cmV0dXJuIHR9fWZ1bmN0aW9uIER0KHQsZSl7c3dpdGNoKHZvaWQgMD09PXQmJih0PU10LmVycm9ycyksZS50eXBlKXtjYXNlIGt0LmEuTG9hZENvdW50cmllc1JlcXVlc3RlZDpjYXNlIGt0LmEuTG9hZENvdW50cmllc1N1Y2NlZWRlZDpyZXR1cm4gQyh0LFwibG9hZEVycm9yXCIsdm9pZCAwKTtjYXNlIGt0LmEuTG9hZENvdW50cmllc0ZhaWxlZDpyZXR1cm4gQyh0LFwibG9hZEVycm9yXCIsZS5wYXlsb2FkKTtkZWZhdWx0OnJldHVybiB0fX1mdW5jdGlvbiB6dCh0LGUpe3N3aXRjaCh2b2lkIDA9PT10JiYodD1NdC5zdGF0dXNlcyksZS50eXBlKXtjYXNlIGt0LmEuTG9hZENvdW50cmllc1JlcXVlc3RlZDpyZXR1cm4gQyh0LFwiaXNMb2FkaW5nXCIsITApO2Nhc2Uga3QuYS5Mb2FkQ291bnRyaWVzU3VjY2VlZGVkOmNhc2Uga3QuYS5Mb2FkQ291bnRyaWVzRmFpbGVkOnJldHVybiBDKHQsXCJpc0xvYWRpbmdcIiwhMSk7ZGVmYXVsdDpyZXR1cm4gdH19dmFyIEx0PXtlcnJvcnM6e30sbWV0YTp7fSxzdGF0dXNlczp7fX07ZnVuY3Rpb24gTnQodCxlKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9THQpLE9iamVjdChpLmNvbWJpbmVSZWR1Y2Vycykoe2RhdGE6RnQsZXJyb3JzOk9iamVjdChpLmNvbXBvc2VSZWR1Y2VycykoVXQsZyksbWV0YTpxdCxzdGF0dXNlczp4dH0pKHQsZSl9ZnVuY3Rpb24gRnQodCxlKXtzd2l0Y2goZS50eXBlKXtjYXNlIE8uYS5Mb2FkT3JkZXJTdWNjZWVkZWQ6Y2FzZSBPLmEuTG9hZE9yZGVyUGF5bWVudHNTdWNjZWVkZWQ6cmV0dXJuIFQodCxPYmplY3QoYy5vbWl0KShlLnBheWxvYWQsW1wiYmlsbGluZ0FkZHJlc3NcIixcImNvdXBvbnNcIl0pKTtkZWZhdWx0OnJldHVybiB0fX1mdW5jdGlvbiBxdCh0LGUpe3N3aXRjaChlLnR5cGUpe2Nhc2UgTy5hLkZpbmFsaXplT3JkZXJTdWNjZWVkZWQ6Y2FzZSBPLmEuU3VibWl0T3JkZXJTdWNjZWVkZWQ6cmV0dXJuIFQodCxPYmplY3Qoci5fX2Fzc2lnbikoT2JqZWN0KHIuX19hc3NpZ24pKHt9LGUubWV0YSkse2NhbGxiYWNrVXJsOmUucGF5bG9hZCYmZS5wYXlsb2FkLm9yZGVyLmNhbGxiYWNrVXJsLG9yZGVyVG9rZW46ZS5wYXlsb2FkJiZlLnBheWxvYWQub3JkZXIudG9rZW4scGF5bWVudDplLnBheWxvYWQmJmUucGF5bG9hZC5vcmRlciYmZS5wYXlsb2FkLm9yZGVyLnBheW1lbnR9KSk7ZGVmYXVsdDpyZXR1cm4gdH19ZnVuY3Rpb24gVXQodCxlKXtzd2l0Y2godm9pZCAwPT09dCYmKHQ9THQuZXJyb3JzKSxlLnR5cGUpe2Nhc2UgTy5hLkxvYWRPcmRlclJlcXVlc3RlZDpjYXNlIE8uYS5Mb2FkT3JkZXJTdWNjZWVkZWQ6Y2FzZSBPLmEuTG9hZE9yZGVyUGF5bWVudHNTdWNjZWVkZWQ6Y2FzZSBPLmEuTG9hZE9yZGVyUGF5bWVudHNSZXF1ZXN0ZWQ6cmV0dXJuIEModCxcImxvYWRFcnJvclwiLHZvaWQgMCk7Y2FzZSBPLmEuTG9hZE9yZGVyRmFpbGVkOmNhc2UgTy5hLkxvYWRPcmRlclBheW1lbnRzRmFpbGVkOnJldHVybiBDKHQsXCJsb2FkRXJyb3JcIixlLnBheWxvYWQpO2RlZmF1bHQ6cmV0dXJuIHR9fWZ1bmN0aW9uIHh0KHQsZSl7c3dpdGNoKHZvaWQgMD09PXQmJih0PUx0LnN0YXR1c2VzKSxlLnR5cGUpe2Nhc2UgTy5hLkxvYWRPcmRlclJlcXVlc3RlZDpjYXNlIE8uYS5Mb2FkT3JkZXJQYXltZW50c1JlcXVlc3RlZDpyZXR1cm4gQyh0LFwiaXNMb2FkaW5nXCIsITApO2Nhc2UgTy5hLkxvYWRPcmRlclN1Y2NlZWRlZDpjYXNlIE8uYS5Mb2FkT3JkZXJGYWlsZWQ6Y2FzZSBPLmEuTG9hZE9yZGVyUGF5bWVudHNTdWNjZWVkZWQ6Y2FzZSBPLmEuTG9hZE9yZGVyUGF5bWVudHNGYWlsZWQ6cmV0dXJuIEModCxcImlzTG9hZGluZ1wiLCExKTtkZWZhdWx0OnJldHVybiB0fX12YXIgQnQ9big2MSk7ZnVuY3Rpb24gR3QodCxlKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9e30pLE9iamVjdChpLmNvbWJpbmVSZWR1Y2Vycykoe2RhdGE6VnR9KSh0LGUpfWZ1bmN0aW9uIFZ0KHQsZSl7c3dpdGNoKGUudHlwZSl7Y2FzZSBCdC5hLlN1Ym1pdFBheW1lbnRTdWNjZWVkZWQ6cmV0dXJuIGUucGF5bG9hZDtkZWZhdWx0OnJldHVybiB0fX12YXIgWXQ9bigxOSksSHQ9e2Vycm9yczp7fSxzdGF0dXNlczp7fX07ZnVuY3Rpb24gV3QodCxlKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9SHQpLE9iamVjdChpLmNvbWJpbmVSZWR1Y2Vycykoe2RhdGE6S3QsZXJyb3JzOk9iamVjdChpLmNvbXBvc2VSZWR1Y2VycykoWnQsZyksbWV0YTpKdCxzdGF0dXNlczpRdH0pKHQsZSl9ZnVuY3Rpb24gS3QodCxlKXtzd2l0Y2goZS50eXBlKXtjYXNlIFl0LmEuTG9hZFBheW1lbnRNZXRob2RTdWNjZWVkZWQ6cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtpZighZSlyZXR1cm4gdDt2YXIgaT1PYmplY3QoYy5waWNrKShlLFwiaWRcIiksbz1PYmplY3QoYy5maW5kSW5kZXgpKHQsXCJvYmplY3RcIj09dHlwZW9mIG4/T2JqZWN0KGMucGlja0J5KShuKTpufHxpKSxhPU9iamVjdChyLl9fc3ByZWFkQXJyYXlzKSh0KTtpZigtMT09PW8pYS5wdXNoKGUpO2Vsc2V7dmFyIHM9dFtvXTthW29dPU9iamVjdChrLmEpKHMpJiZPYmplY3Qoay5hKShlKT9UKHMsZSk6ZX1yZXR1cm4gYX0odHx8W10sZS5wYXlsb2FkLGUucGF5bG9hZCYme2lkOmUucGF5bG9hZC5pZCxnYXRld2F5OmUucGF5bG9hZC5nYXRld2F5fSk7Y2FzZSBZdC5hLkxvYWRQYXltZW50TWV0aG9kc1N1Y2NlZWRlZDpyZXR1cm4gTSh0LGUucGF5bG9hZCx7bWF0Y2hPYmplY3Q6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5pZD09PWUuaWQmJnQuZ2F0ZXdheT09PWUuZ2F0ZXdheX19KTtkZWZhdWx0OnJldHVybiB0fX1mdW5jdGlvbiBKdCh0LGUpe3N3aXRjaChlLnR5cGUpe2Nhc2UgWXQuYS5Mb2FkUGF5bWVudE1ldGhvZHNTdWNjZWVkZWQ6cmV0dXJuIFQodCxlLm1ldGEpO2RlZmF1bHQ6cmV0dXJuIHR9fWZ1bmN0aW9uIFp0KHQsZSl7c3dpdGNoKHZvaWQgMD09PXQmJih0PUh0LmVycm9ycyksZS50eXBlKXtjYXNlIFl0LmEuTG9hZFBheW1lbnRNZXRob2RzUmVxdWVzdGVkOmNhc2UgWXQuYS5Mb2FkUGF5bWVudE1ldGhvZHNTdWNjZWVkZWQ6cmV0dXJuIEModCxcImxvYWRFcnJvclwiLHZvaWQgMCk7Y2FzZSBZdC5hLkxvYWRQYXltZW50TWV0aG9kc0ZhaWxlZDpyZXR1cm4gQyh0LFwibG9hZEVycm9yXCIsZS5wYXlsb2FkKTtjYXNlIFl0LmEuTG9hZFBheW1lbnRNZXRob2RSZXF1ZXN0ZWQ6Y2FzZSBZdC5hLkxvYWRQYXltZW50TWV0aG9kU3VjY2VlZGVkOnJldHVybiBUKHQse2xvYWRNZXRob2RJZDp2b2lkIDAsbG9hZE1ldGhvZEVycm9yOnZvaWQgMH0pO2Nhc2UgWXQuYS5Mb2FkUGF5bWVudE1ldGhvZEZhaWxlZDpyZXR1cm4gVCh0LHtsb2FkTWV0aG9kSWQ6ZS5tZXRhLm1ldGhvZElkLGxvYWRNZXRob2RFcnJvcjplLnBheWxvYWR9KTtkZWZhdWx0OnJldHVybiB0fX1mdW5jdGlvbiBRdCh0LGUpe3N3aXRjaCh2b2lkIDA9PT10JiYodD1IdC5zdGF0dXNlcyksZS50eXBlKXtjYXNlIFl0LmEuTG9hZFBheW1lbnRNZXRob2RzUmVxdWVzdGVkOnJldHVybiBDKHQsXCJpc0xvYWRpbmdcIiwhMCk7Y2FzZSBZdC5hLkxvYWRQYXltZW50TWV0aG9kc1N1Y2NlZWRlZDpjYXNlIFl0LmEuTG9hZFBheW1lbnRNZXRob2RzRmFpbGVkOnJldHVybiBDKHQsXCJpc0xvYWRpbmdcIiwhMSk7Y2FzZSBZdC5hLkxvYWRQYXltZW50TWV0aG9kUmVxdWVzdGVkOnJldHVybiBUKHQse2lzTG9hZGluZ01ldGhvZDohMCxsb2FkTWV0aG9kSWQ6ZS5tZXRhLm1ldGhvZElkfSk7Y2FzZSBZdC5hLkxvYWRQYXltZW50TWV0aG9kU3VjY2VlZGVkOmNhc2UgWXQuYS5Mb2FkUGF5bWVudE1ldGhvZEZhaWxlZDpyZXR1cm4gVCh0LHtpc0xvYWRpbmdNZXRob2Q6ITEsbG9hZE1ldGhvZElkOnZvaWQgMH0pO2RlZmF1bHQ6cmV0dXJuIHR9fXZhciBYdD1uKDExKSwkdD17ZGF0YTp7fSxlcnJvcnM6e30sc3RhdHVzZXM6e319O2Z1bmN0aW9uIHRlKHQsZSl7cmV0dXJuIHZvaWQgMD09PXQmJih0PSR0KSxPYmplY3QoaS5jb21iaW5lUmVkdWNlcnMpKHtkYXRhOmVlLGVycm9yczpPYmplY3QoaS5jb21wb3NlUmVkdWNlcnMpKG5lLGcpLHN0YXR1c2VzOnJlfSkodCxlKX1mdW5jdGlvbiBlZSh0LGUpe3ZhciBuLHI7c3dpdGNoKHZvaWQgMD09PXQmJih0PSR0LmRhdGEpLGUudHlwZSl7Y2FzZSBYdC5hLkluaXRpYWxpemVTdWNjZWVkZWQ6cmV0dXJuIFQodCwoKG49e30pW2UubWV0YSYmZS5tZXRhLm1ldGhvZElkXT17aXNJbml0aWFsaXplZDohMH0sbikpO2Nhc2UgWHQuYS5EZWluaXRpYWxpemVTdWNjZWVkZWQ6cmV0dXJuIFQodCwoKHI9e30pW2UubWV0YSYmZS5tZXRhLm1ldGhvZElkXT17aXNJbml0aWFsaXplZDohMX0scikpfXJldHVybiB0fWZ1bmN0aW9uIG5lKHQsZSl7c3dpdGNoKHZvaWQgMD09PXQmJih0PSR0LmVycm9ycyksZS50eXBlKXtjYXNlIFh0LmEuSW5pdGlhbGl6ZVJlcXVlc3RlZDpjYXNlIFh0LmEuSW5pdGlhbGl6ZVN1Y2NlZWRlZDpyZXR1cm4gVCh0LHtpbml0aWFsaXplRXJyb3I6dm9pZCAwLGluaXRpYWxpemVNZXRob2RJZDp2b2lkIDB9KTtjYXNlIFh0LmEuSW5pdGlhbGl6ZUZhaWxlZDpyZXR1cm4gVCh0LHtpbml0aWFsaXplRXJyb3I6ZS5wYXlsb2FkLGluaXRpYWxpemVNZXRob2RJZDplLm1ldGEmJmUubWV0YS5tZXRob2RJZH0pO2Nhc2UgWHQuYS5EZWluaXRpYWxpemVSZXF1ZXN0ZWQ6Y2FzZSBYdC5hLkRlaW5pdGlhbGl6ZVN1Y2NlZWRlZDpyZXR1cm4gVCh0LHtkZWluaXRpYWxpemVFcnJvcjp2b2lkIDAsZGVpbml0aWFsaXplTWV0aG9kSWQ6dm9pZCAwfSk7Y2FzZSBYdC5hLkRlaW5pdGlhbGl6ZUZhaWxlZDpyZXR1cm4gVCh0LHtkZWluaXRpYWxpemVFcnJvcjplLnBheWxvYWQsZGVpbml0aWFsaXplTWV0aG9kSWQ6ZS5tZXRhJiZlLm1ldGEubWV0aG9kSWR9KTtjYXNlIFh0LmEuRXhlY3V0ZVJlcXVlc3RlZDpjYXNlIFh0LmEuRXhlY3V0ZVN1Y2NlZWRlZDpyZXR1cm4gVCh0LHtleGVjdXRlRXJyb3I6dm9pZCAwLGV4ZWN1dGVNZXRob2RJZDp2b2lkIDB9KTtjYXNlIFh0LmEuRXhlY3V0ZUZhaWxlZDpyZXR1cm4gVCh0LHtleGVjdXRlRXJyb3I6ZS5wYXlsb2FkLGV4ZWN1dGVNZXRob2RJZDplLm1ldGEmJmUubWV0YS5tZXRob2RJZH0pO2Nhc2UgWHQuYS5GaW5hbGl6ZVJlcXVlc3RlZDpjYXNlIFh0LmEuRmluYWxpemVTdWNjZWVkZWQ6cmV0dXJuIFQodCx7ZmluYWxpemVFcnJvcjp2b2lkIDAsZmluYWxpemVNZXRob2RJZDp2b2lkIDB9KTtjYXNlIFh0LmEuRmluYWxpemVGYWlsZWQ6cmV0dXJuIFQodCx7ZmluYWxpemVFcnJvcjplLnBheWxvYWQsZmluYWxpemVNZXRob2RJZDplLm1ldGEmJmUubWV0YS5tZXRob2RJZH0pO2Nhc2UgWHQuYS5XaWRnZXRJbnRlcmFjdGlvblN0YXJ0ZWQ6Y2FzZSBYdC5hLldpZGdldEludGVyYWN0aW9uRmluaXNoZWQ6cmV0dXJuIFQodCx7d2lkZ2V0SW50ZXJhY3Rpb25FcnJvcjp2b2lkIDAsd2lkZ2V0SW50ZXJhY3Rpb25NZXRob2RJZDp2b2lkIDB9KTtjYXNlIFh0LmEuV2lkZ2V0SW50ZXJhY3Rpb25GYWlsZWQ6cmV0dXJuIFQodCx7d2lkZ2V0SW50ZXJhY3Rpb25FcnJvcjplLnBheWxvYWQsd2lkZ2V0SW50ZXJhY3Rpb25NZXRob2RJZDplLm1ldGEubWV0aG9kSWR9KTtkZWZhdWx0OnJldHVybiB0fX1mdW5jdGlvbiByZSh0LGUpe3N3aXRjaCh2b2lkIDA9PT10JiYodD0kdC5zdGF0dXNlcyksZS50eXBlKXtjYXNlIFh0LmEuSW5pdGlhbGl6ZVJlcXVlc3RlZDpyZXR1cm4gVCh0LHtpc0luaXRpYWxpemluZzohMCxpbml0aWFsaXplTWV0aG9kSWQ6ZS5tZXRhJiZlLm1ldGEubWV0aG9kSWR9KTtjYXNlIFh0LmEuSW5pdGlhbGl6ZUZhaWxlZDpjYXNlIFh0LmEuSW5pdGlhbGl6ZVN1Y2NlZWRlZDpyZXR1cm4gVCh0LHtpc0luaXRpYWxpemluZzohMSxpbml0aWFsaXplTWV0aG9kSWQ6dm9pZCAwfSk7Y2FzZSBYdC5hLkRlaW5pdGlhbGl6ZVJlcXVlc3RlZDpyZXR1cm4gVCh0LHtpc0RlaW5pdGlhbGl6aW5nOiEwLGRlaW5pdGlhbGl6ZU1ldGhvZElkOmUubWV0YSYmZS5tZXRhLm1ldGhvZElkfSk7Y2FzZSBYdC5hLkRlaW5pdGlhbGl6ZUZhaWxlZDpjYXNlIFh0LmEuRGVpbml0aWFsaXplU3VjY2VlZGVkOnJldHVybiBUKHQse2lzRGVpbml0aWFsaXppbmc6ITEsZGVpbml0aWFsaXplTWV0aG9kSWQ6dm9pZCAwfSk7Y2FzZSBYdC5hLkV4ZWN1dGVSZXF1ZXN0ZWQ6cmV0dXJuIFQodCx7aXNFeGVjdXRpbmc6ITAsZXhlY3V0ZU1ldGhvZElkOmUubWV0YSYmZS5tZXRhLm1ldGhvZElkfSk7Y2FzZSBYdC5hLkV4ZWN1dGVGYWlsZWQ6Y2FzZSBYdC5hLkV4ZWN1dGVTdWNjZWVkZWQ6cmV0dXJuIFQodCx7aXNFeGVjdXRpbmc6ITEsZXhlY3V0ZU1ldGhvZElkOnZvaWQgMH0pO2Nhc2UgWHQuYS5GaW5hbGl6ZVJlcXVlc3RlZDpyZXR1cm4gVCh0LHtpc0ZpbmFsaXppbmc6ITAsZmluYWxpemVNZXRob2RJZDplLm1ldGEmJmUubWV0YS5tZXRob2RJZH0pO2Nhc2UgWHQuYS5GaW5hbGl6ZUZhaWxlZDpjYXNlIFh0LmEuRmluYWxpemVTdWNjZWVkZWQ6cmV0dXJuIFQodCx7aXNGaW5hbGl6aW5nOiExLGZpbmFsaXplTWV0aG9kSWQ6dm9pZCAwfSk7Y2FzZSBYdC5hLldpZGdldEludGVyYWN0aW9uU3RhcnRlZDpyZXR1cm4gVCh0LHtpc1dpZGdldEludGVyYWN0aW5nOiEwLHdpZGdldEludGVyYWN0aW9uTWV0aG9kSWQ6ZS5tZXRhLm1ldGhvZElkfSk7Y2FzZSBYdC5hLldpZGdldEludGVyYWN0aW9uRmluaXNoZWQ6Y2FzZSBYdC5hLldpZGdldEludGVyYWN0aW9uRmFpbGVkOnJldHVybiBUKHQse2lzV2lkZ2V0SW50ZXJhY3Rpbmc6ITEsd2lkZ2V0SW50ZXJhY3Rpb25NZXRob2RJZDp2b2lkIDB9KTtkZWZhdWx0OnJldHVybiB0fX12YXIgaWU9bigyNSksb2U9e2RhdGE6W10sZXJyb3JzOnt9LHN0YXR1c2VzOnt9fTtmdW5jdGlvbiBhZSh0LGUpe3JldHVybiB2b2lkIDA9PT10JiYodD1vZSksT2JqZWN0KGkuY29tYmluZVJlZHVjZXJzKSh7ZGF0YTpzZSxlcnJvcnM6T2JqZWN0KGkuY29tcG9zZVJlZHVjZXJzKSh1ZSxnKSxtZXRhOmNlLHN0YXR1c2VzOmRlfSkodCxlKX1mdW5jdGlvbiBzZSh0LGUpe3N3aXRjaCh2b2lkIDA9PT10JiYodD1vZS5kYXRhKSxlLnR5cGUpe2Nhc2UgaWUuYS5Mb2FkSW5zdHJ1bWVudHNTdWNjZWVkZWQ6cmV0dXJuIE0odCxlLnBheWxvYWQmJmUucGF5bG9hZC52YXVsdGVkSW5zdHJ1bWVudHN8fFtdKTtkZWZhdWx0OnJldHVybiB0fX1mdW5jdGlvbiBjZSh0LGUpe3N3aXRjaChlLnR5cGUpe2Nhc2UgaWUuYS5Mb2FkSW5zdHJ1bWVudHNTdWNjZWVkZWQ6Y2FzZSBpZS5hLkRlbGV0ZUluc3RydW1lbnRTdWNjZWVkZWQ6cmV0dXJuIFQodCxlLm1ldGEpO2RlZmF1bHQ6cmV0dXJuIHR9fWZ1bmN0aW9uIHVlKHQsZSl7c3dpdGNoKHZvaWQgMD09PXQmJih0PW9lLmVycm9ycyksZS50eXBlKXtjYXNlIGllLmEuTG9hZEluc3RydW1lbnRzUmVxdWVzdGVkOmNhc2UgaWUuYS5Mb2FkSW5zdHJ1bWVudHNTdWNjZWVkZWQ6cmV0dXJuIEModCxcImxvYWRFcnJvclwiLHZvaWQgMCk7Y2FzZSBpZS5hLkRlbGV0ZUluc3RydW1lbnRSZXF1ZXN0ZWQ6Y2FzZSBpZS5hLkRlbGV0ZUluc3RydW1lbnRTdWNjZWVkZWQ6cmV0dXJuIFQodCx7ZGVsZXRlRXJyb3I6dm9pZCAwLGZhaWxlZEluc3RydW1lbnQ6dm9pZCAwfSk7Y2FzZSBpZS5hLkxvYWRJbnN0cnVtZW50c0ZhaWxlZDpyZXR1cm4gQyh0LFwibG9hZEVycm9yXCIsZS5wYXlsb2FkKTtjYXNlIGllLmEuRGVsZXRlSW5zdHJ1bWVudEZhaWxlZDpyZXR1cm4gVCh0LHtkZWxldGVFcnJvcjplLnBheWxvYWQsZmFpbGVkSW5zdHJ1bWVudDplLm1ldGEuaW5zdHJ1bWVudElkfSk7ZGVmYXVsdDpyZXR1cm4gdH19ZnVuY3Rpb24gZGUodCxlKXtzd2l0Y2godm9pZCAwPT09dCYmKHQ9b2Uuc3RhdHVzZXMpLGUudHlwZSl7Y2FzZSBpZS5hLkxvYWRJbnN0cnVtZW50c1JlcXVlc3RlZDpyZXR1cm4gQyh0LFwiaXNMb2FkaW5nXCIsITApO2Nhc2UgaWUuYS5EZWxldGVJbnN0cnVtZW50UmVxdWVzdGVkOnJldHVybiBUKHQse2lzRGVsZXRpbmc6ITAsZGVsZXRpbmdJbnN0cnVtZW50OmUubWV0YS5pbnN0cnVtZW50SWR9KTtjYXNlIGllLmEuTG9hZEluc3RydW1lbnRzU3VjY2VlZGVkOmNhc2UgaWUuYS5Mb2FkSW5zdHJ1bWVudHNGYWlsZWQ6cmV0dXJuIEModCxcImlzTG9hZGluZ1wiLCExKTtjYXNlIGllLmEuRGVsZXRlSW5zdHJ1bWVudFN1Y2NlZWRlZDpjYXNlIGllLmEuRGVsZXRlSW5zdHJ1bWVudEZhaWxlZDpyZXR1cm4gVCh0LHtpc0RlbGV0aW5nOiExLGRlbGV0aW5nSW5zdHJ1bWVudDp2b2lkIDB9KTtkZWZhdWx0OnJldHVybiB0fX12YXIgcGU9bigyOCksaGU9e2RhdGE6e319O2Z1bmN0aW9uIGxlKHQsZSl7dmFyIG47cmV0dXJuIHZvaWQgMD09PXQmJih0PWhlKSxlLm1ldGEmJmUubWV0YS5tZXRob2RJZD9PYmplY3QoaS5jb21iaW5lUmVkdWNlcnMpKHtkYXRhOk9iamVjdChpLmNvbWJpbmVSZWR1Y2VycykoKG49e30sbltlLm1ldGEubWV0aG9kSWRdPW1lLG4pKX0pKHQsZSk6dH1mdW5jdGlvbiBtZSh0LGUpe3N3aXRjaChlLnR5cGUpe2Nhc2UgcGUuYS5Jbml0aWFsaXplUmVtb3RlQmlsbGluZ1N1Y2NlZWRlZDpyZXR1cm4gQyh0LFwiYmlsbGluZ1wiLGUucGF5bG9hZCYmZS5wYXlsb2FkLmJpbGxpbmcpO2Nhc2UgcGUuYS5Jbml0aWFsaXplUmVtb3RlU2hpcHBpbmdTdWNjZWVkZWQ6cmV0dXJuIEModCxcInNoaXBwaW5nXCIsZS5wYXlsb2FkJiZlLnBheWxvYWQuc2hpcHBpbmcpO2Nhc2UgcGUuYS5Mb2FkUmVtb3RlU2V0dGluZ3NTdWNjZWVkZWQ6cmV0dXJuIEModCxcInNldHRpbmdzXCIsZS5wYXlsb2FkKTtjYXNlIHBlLmEuVXBkYXRlUmVtb3RlQ2hlY2tvdXQ6cmV0dXJuIFQodCxlLnBheWxvYWQpO2RlZmF1bHQ6cmV0dXJuIHR9fXZhciBmZT17ZXJyb3JzOnt1cGRhdGVTaGlwcGluZ09wdGlvbkVycm9yOnt9LHVwZGF0ZUVycm9yOnt9LGRlbGV0ZUVycm9yOnt9fSxzdGF0dXNlczp7aXNVcGRhdGluZzp7fSxpc1VwZGF0aW5nU2hpcHBpbmdPcHRpb246e30saXNEZWxldGluZzp7fX19O2Z1bmN0aW9uIF9lKHQsZSl7cmV0dXJuIHZvaWQgMD09PXQmJih0PWZlKSxPYmplY3QoaS5jb21iaW5lUmVkdWNlcnMpKHtkYXRhOnllLGVycm9yczpPYmplY3QoaS5jb21wb3NlUmVkdWNlcnMpKGdlLGcpLHN0YXR1c2VzOmJlfSkodCxlKX1mdW5jdGlvbiB5ZSh0LGUpe3N3aXRjaChlLnR5cGUpe2Nhc2UgZi5hLkxvYWRDaGVja291dFN1Y2NlZWRlZDpjYXNlIHouYS5Mb2FkU2hpcHBpbmdPcHRpb25zU3VjY2VlZGVkOmNhc2Ugei5hLkNyZWF0ZUNvbnNpZ25tZW50c1N1Y2NlZWRlZDpjYXNlIHouYS5VcGRhdGVDb25zaWdubWVudFN1Y2NlZWRlZDpjYXNlIHouYS5EZWxldGVDb25zaWdubWVudFN1Y2NlZWRlZDpjYXNlIHouYS5VcGRhdGVTaGlwcGluZ09wdGlvblN1Y2NlZWRlZDpjYXNlIFIuYS5BcHBseUNvdXBvblN1Y2NlZWRlZDpjYXNlIFIuYS5SZW1vdmVDb3Vwb25TdWNjZWVkZWQ6cmV0dXJuIE0odCxlLnBheWxvYWQmJmUucGF5bG9hZC5jb25zaWdubWVudHMpO2Nhc2UgaHQuYS5TaWduT3V0Q3VzdG9tZXJTdWNjZWVkZWQ6cmV0dXJuIE0odCxbXSk7ZGVmYXVsdDpyZXR1cm4gdH19ZnVuY3Rpb24gZ2UodCxlKXt2YXIgbixyLGksbyxhLHM7c3dpdGNoKHZvaWQgMD09PXQmJih0PWZlLmVycm9ycyksZS50eXBlKXtjYXNlIGYuYS5Mb2FkQ2hlY2tvdXRSZXF1ZXN0ZWQ6Y2FzZSBmLmEuTG9hZENoZWNrb3V0U3VjY2VlZGVkOmNhc2Ugei5hLkxvYWRTaGlwcGluZ09wdGlvbnNTdWNjZWVkZWQ6Y2FzZSB6LmEuTG9hZFNoaXBwaW5nT3B0aW9uc1JlcXVlc3RlZDpyZXR1cm4gQyh0LFwibG9hZEVycm9yXCIsdm9pZCAwKTtjYXNlIGYuYS5Mb2FkQ2hlY2tvdXRGYWlsZWQ6Y2FzZSB6LmEuTG9hZFNoaXBwaW5nT3B0aW9uc0ZhaWxlZDpyZXR1cm4gQyh0LFwibG9hZEVycm9yXCIsZS5wYXlsb2FkKTtjYXNlIHouYS5DcmVhdGVDb25zaWdubWVudHNSZXF1ZXN0ZWQ6Y2FzZSB6LmEuQ3JlYXRlQ29uc2lnbm1lbnRzU3VjY2VlZGVkOnJldHVybiBDKHQsXCJjcmVhdGVFcnJvclwiLHZvaWQgMCk7Y2FzZSB6LmEuQ3JlYXRlQ29uc2lnbm1lbnRzRmFpbGVkOnJldHVybiBDKHQsXCJjcmVhdGVFcnJvclwiLGUucGF5bG9hZCk7Y2FzZSB6LmEuVXBkYXRlQ29uc2lnbm1lbnRTdWNjZWVkZWQ6Y2FzZSB6LmEuVXBkYXRlQ29uc2lnbm1lbnRSZXF1ZXN0ZWQ6cmV0dXJuIGUubWV0YT9UKHQse3VwZGF0ZUVycm9yOihuPXt9LG5bZS5tZXRhLmlkXT12b2lkIDAsbil9KTp0O2Nhc2Ugei5hLlVwZGF0ZUNvbnNpZ25tZW50RmFpbGVkOnJldHVybiBlLm1ldGE/VCh0LHt1cGRhdGVFcnJvcjoocj17fSxyW2UubWV0YS5pZF09ZS5wYXlsb2FkLHIpfSk6dDtjYXNlIHouYS5EZWxldGVDb25zaWdubWVudFN1Y2NlZWRlZDpjYXNlIHouYS5EZWxldGVDb25zaWdubWVudFJlcXVlc3RlZDpyZXR1cm4gZS5tZXRhP1QodCx7ZGVsZXRlRXJyb3I6KGk9e30saVtlLm1ldGEuaWRdPXZvaWQgMCxpKX0pOnQ7Y2FzZSB6LmEuRGVsZXRlQ29uc2lnbm1lbnRGYWlsZWQ6cmV0dXJuIGUubWV0YT9UKHQse2RlbGV0ZUVycm9yOihvPXt9LG9bZS5tZXRhLmlkXT1lLnBheWxvYWQsbyl9KTp0O2Nhc2Ugei5hLlVwZGF0ZVNoaXBwaW5nT3B0aW9uUmVxdWVzdGVkOmNhc2Ugei5hLlVwZGF0ZVNoaXBwaW5nT3B0aW9uU3VjY2VlZGVkOnJldHVybiBlLm1ldGE/VCh0LHt1cGRhdGVTaGlwcGluZ09wdGlvbkVycm9yOihhPXt9LGFbZS5tZXRhLmlkXT12b2lkIDAsYSl9KTp0O2Nhc2Ugei5hLlVwZGF0ZVNoaXBwaW5nT3B0aW9uRmFpbGVkOnJldHVybiBlLm1ldGE/VCh0LHt1cGRhdGVTaGlwcGluZ09wdGlvbkVycm9yOihzPXt9LHNbZS5tZXRhLmlkXT1lLnBheWxvYWQscyl9KTp0O2RlZmF1bHQ6cmV0dXJuIHR9fWZ1bmN0aW9uIGJlKHQsZSl7dmFyIG4scixpLG8sYSxzO3N3aXRjaCh2b2lkIDA9PT10JiYodD1mZS5zdGF0dXNlcyksZS50eXBlKXtjYXNlIGYuYS5Mb2FkQ2hlY2tvdXRSZXF1ZXN0ZWQ6cmV0dXJuIEModCxcImlzTG9hZGluZ1wiLCEwKTtjYXNlIHouYS5Mb2FkU2hpcHBpbmdPcHRpb25zUmVxdWVzdGVkOnJldHVybiBDKHQsXCJpc0xvYWRpbmdTaGlwcGluZ09wdGlvbnNcIiwhMCk7Y2FzZSBmLmEuTG9hZENoZWNrb3V0U3VjY2VlZGVkOmNhc2UgZi5hLkxvYWRDaGVja291dEZhaWxlZDpyZXR1cm4gQyh0LFwiaXNMb2FkaW5nXCIsITEpO2Nhc2Ugei5hLkxvYWRTaGlwcGluZ09wdGlvbnNTdWNjZWVkZWQ6Y2FzZSB6LmEuTG9hZFNoaXBwaW5nT3B0aW9uc0ZhaWxlZDpyZXR1cm4gQyh0LFwiaXNMb2FkaW5nU2hpcHBpbmdPcHRpb25zXCIsITEpO2Nhc2Ugei5hLkNyZWF0ZUNvbnNpZ25tZW50c1JlcXVlc3RlZDpyZXR1cm4gQyh0LFwiaXNDcmVhdGluZ1wiLCEwKTtjYXNlIHouYS5DcmVhdGVDb25zaWdubWVudHNTdWNjZWVkZWQ6Y2FzZSB6LmEuQ3JlYXRlQ29uc2lnbm1lbnRzRmFpbGVkOnJldHVybiBDKHQsXCJpc0NyZWF0aW5nXCIsITEpO2Nhc2Ugei5hLlVwZGF0ZUNvbnNpZ25tZW50UmVxdWVzdGVkOnJldHVybiBlLm1ldGE/VCh0LHtpc1VwZGF0aW5nOihuPXt9LG5bZS5tZXRhLmlkXT0hMCxuKX0pOnQ7Y2FzZSB6LmEuVXBkYXRlQ29uc2lnbm1lbnRTdWNjZWVkZWQ6Y2FzZSB6LmEuVXBkYXRlQ29uc2lnbm1lbnRGYWlsZWQ6cmV0dXJuIGUubWV0YT9UKHQse2lzVXBkYXRpbmc6KHI9e30scltlLm1ldGEuaWRdPSExLHIpfSk6dDtjYXNlIHouYS5EZWxldGVDb25zaWdubWVudFJlcXVlc3RlZDpyZXR1cm4gZS5tZXRhP1QodCx7aXNEZWxldGluZzooaT17fSxpW2UubWV0YS5pZF09ITAsaSl9KTp0O2Nhc2Ugei5hLkRlbGV0ZUNvbnNpZ25tZW50U3VjY2VlZGVkOmNhc2Ugei5hLkRlbGV0ZUNvbnNpZ25tZW50RmFpbGVkOnJldHVybiBlLm1ldGE/VCh0LHtpc0RlbGV0aW5nOihvPXt9LG9bZS5tZXRhLmlkXT0hMSxvKX0pOnQ7Y2FzZSB6LmEuVXBkYXRlU2hpcHBpbmdPcHRpb25SZXF1ZXN0ZWQ6cmV0dXJuIGUubWV0YT9UKHQse2lzVXBkYXRpbmdTaGlwcGluZ09wdGlvbjooYT17fSxhW2UubWV0YS5pZF09ITAsYSl9KTp0O2Nhc2Ugei5hLlVwZGF0ZVNoaXBwaW5nT3B0aW9uU3VjY2VlZGVkOmNhc2Ugei5hLlVwZGF0ZVNoaXBwaW5nT3B0aW9uRmFpbGVkOnJldHVybiBlLm1ldGE/VCh0LHtpc1VwZGF0aW5nU2hpcHBpbmdPcHRpb246KHM9e30sc1tlLm1ldGEuaWRdPSExLHMpfSk6dDtkZWZhdWx0OnJldHVybiB0fX12YXIgdmU9big0NCksQ2U9e2Vycm9yczp7fSxzdGF0dXNlczp7fX07ZnVuY3Rpb24gT2UodCxlKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9Q2UpLE9iamVjdChpLmNvbWJpbmVSZWR1Y2Vycykoe2RhdGE6U2UsZXJyb3JzOk9iamVjdChpLmNvbXBvc2VSZWR1Y2Vycykod2UsZyksc3RhdHVzZXM6SWV9KSh0LGUpfWZ1bmN0aW9uIFNlKHQsZSl7c3dpdGNoKGUudHlwZSl7Y2FzZSB2ZS5hLkxvYWRTaGlwcGluZ0NvdW50cmllc1N1Y2NlZWRlZDpyZXR1cm4gTSh0LGUucGF5bG9hZCk7ZGVmYXVsdDpyZXR1cm4gdH19ZnVuY3Rpb24gd2UodCxlKXtzd2l0Y2godm9pZCAwPT09dCYmKHQ9Q2UuZXJyb3JzKSxlLnR5cGUpe2Nhc2UgdmUuYS5Mb2FkU2hpcHBpbmdDb3VudHJpZXNSZXF1ZXN0ZWQ6Y2FzZSB2ZS5hLkxvYWRTaGlwcGluZ0NvdW50cmllc1N1Y2NlZWRlZDpyZXR1cm4gQyh0LFwibG9hZEVycm9yXCIsdm9pZCAwKTtjYXNlIHZlLmEuTG9hZFNoaXBwaW5nQ291bnRyaWVzRmFpbGVkOnJldHVybiBDKHQsXCJsb2FkRXJyb3JcIixlLnBheWxvYWQpO2RlZmF1bHQ6cmV0dXJuIHR9fWZ1bmN0aW9uIEllKHQsZSl7c3dpdGNoKHZvaWQgMD09PXQmJih0PUNlLnN0YXR1c2VzKSxlLnR5cGUpe2Nhc2UgdmUuYS5Mb2FkU2hpcHBpbmdDb3VudHJpZXNSZXF1ZXN0ZWQ6cmV0dXJuIEModCxcImlzTG9hZGluZ1wiLCEwKTtjYXNlIHZlLmEuTG9hZFNoaXBwaW5nQ291bnRyaWVzU3VjY2VlZGVkOmNhc2UgdmUuYS5Mb2FkU2hpcHBpbmdDb3VudHJpZXNGYWlsZWQ6cmV0dXJuIEModCxcImlzTG9hZGluZ1wiLCExKTtkZWZhdWx0OnJldHVybiB0fX12YXIgQWU9big5KSxFZT17ZGF0YTp7fSxlcnJvcnM6e30sc3RhdHVzZXM6e319O2Z1bmN0aW9uIFBlKHQsZSl7cmV0dXJuIHZvaWQgMD09PXQmJih0PUVlKSxPYmplY3QoaS5jb21iaW5lUmVkdWNlcnMpKHtkYXRhOmplLGVycm9yczpPYmplY3QoaS5jb21wb3NlUmVkdWNlcnMpKGtlLGcpLHN0YXR1c2VzOk1lfSkodCxlKX1mdW5jdGlvbiBqZSh0LGUpe3ZhciBuLHI7c3dpdGNoKHZvaWQgMD09PXQmJih0PUVlLmRhdGEpLGUudHlwZSl7Y2FzZSBBZS5hLkluaXRpYWxpemVTdWNjZWVkZWQ6cmV0dXJuIFQodCwoKG49e30pW2UubWV0YSYmZS5tZXRhLm1ldGhvZElkXT17aXNJbml0aWFsaXplZDohMH0sbikpO2Nhc2UgQWUuYS5EZWluaXRpYWxpemVTdWNjZWVkZWQ6cmV0dXJuIFQodCwoKHI9e30pW2UubWV0YSYmZS5tZXRhLm1ldGhvZElkXT17aXNJbml0aWFsaXplZDohMX0scikpfXJldHVybiB0fWZ1bmN0aW9uIGtlKHQsZSl7c3dpdGNoKHZvaWQgMD09PXQmJih0PUVlLmVycm9ycyksZS50eXBlKXtjYXNlIEFlLmEuSW5pdGlhbGl6ZVJlcXVlc3RlZDpjYXNlIEFlLmEuSW5pdGlhbGl6ZVN1Y2NlZWRlZDpyZXR1cm4gVCh0LHtpbml0aWFsaXplRXJyb3I6dm9pZCAwLGluaXRpYWxpemVNZXRob2RJZDp2b2lkIDB9KTtjYXNlIEFlLmEuSW5pdGlhbGl6ZUZhaWxlZDpyZXR1cm4gVCh0LHtpbml0aWFsaXplRXJyb3I6ZS5wYXlsb2FkLGluaXRpYWxpemVNZXRob2RJZDplLm1ldGEmJmUubWV0YS5tZXRob2RJZH0pO2Nhc2UgQWUuYS5EZWluaXRpYWxpemVSZXF1ZXN0ZWQ6Y2FzZSBBZS5hLkRlaW5pdGlhbGl6ZVN1Y2NlZWRlZDpyZXR1cm4gVCh0LHtkZWluaXRpYWxpemVFcnJvcjp2b2lkIDAsZGVpbml0aWFsaXplTWV0aG9kSWQ6dm9pZCAwfSk7Y2FzZSBBZS5hLkRlaW5pdGlhbGl6ZUZhaWxlZDpyZXR1cm4gVCh0LHtkZWluaXRpYWxpemVFcnJvcjplLnBheWxvYWQsZGVpbml0aWFsaXplTWV0aG9kSWQ6ZS5tZXRhJiZlLm1ldGEubWV0aG9kSWR9KTtjYXNlIEFlLmEuVXBkYXRlQWRkcmVzc1JlcXVlc3RlZDpjYXNlIEFlLmEuVXBkYXRlQWRkcmVzc1N1Y2NlZWRlZDpyZXR1cm4gVCh0LHt1cGRhdGVBZGRyZXNzRXJyb3I6dm9pZCAwLHVwZGF0ZUFkZHJlc3NNZXRob2RJZDp2b2lkIDB9KTtjYXNlIEFlLmEuVXBkYXRlQWRkcmVzc0ZhaWxlZDpyZXR1cm4gVCh0LHt1cGRhdGVBZGRyZXNzRXJyb3I6ZS5wYXlsb2FkLHVwZGF0ZUFkZHJlc3NNZXRob2RJZDplLm1ldGEmJmUubWV0YS5tZXRob2RJZH0pO2Nhc2UgQWUuYS5TZWxlY3RPcHRpb25SZXF1ZXN0ZWQ6Y2FzZSBBZS5hLlNlbGVjdE9wdGlvblN1Y2NlZWRlZDpyZXR1cm4gVCh0LHtzZWxlY3RPcHRpb25FcnJvcjp2b2lkIDAsc2VsZWN0T3B0aW9uTWV0aG9kSWQ6dm9pZCAwfSk7Y2FzZSBBZS5hLlNlbGVjdE9wdGlvbkZhaWxlZDpyZXR1cm4gVCh0LHtzZWxlY3RPcHRpb25FcnJvcjplLnBheWxvYWQsc2VsZWN0T3B0aW9uTWV0aG9kSWQ6ZS5tZXRhJiZlLm1ldGEubWV0aG9kSWR9KTtjYXNlIEFlLmEuV2lkZ2V0SW50ZXJhY3Rpb25TdGFydGVkOmNhc2UgQWUuYS5XaWRnZXRJbnRlcmFjdGlvbkZpbmlzaGVkOnJldHVybiBUKHQse3dpZGdldEludGVyYWN0aW9uRXJyb3I6dm9pZCAwLHdpZGdldEludGVyYWN0aW9uTWV0aG9kSWQ6dm9pZCAwfSk7Y2FzZSBBZS5hLldpZGdldEludGVyYWN0aW9uRmFpbGVkOnJldHVybiBUKHQse3dpZGdldEludGVyYWN0aW9uRXJyb3I6ZS5wYXlsb2FkLHdpZGdldEludGVyYWN0aW9uTWV0aG9kSWQ6ZS5tZXRhJiZlLm1ldGEubWV0aG9kSWR9KTtkZWZhdWx0OnJldHVybiB0fX1mdW5jdGlvbiBNZSh0LGUpe3N3aXRjaCh2b2lkIDA9PT10JiYodD1FZS5zdGF0dXNlcyksZS50eXBlKXtjYXNlIEFlLmEuSW5pdGlhbGl6ZVJlcXVlc3RlZDpyZXR1cm4gVCh0LHtpc0luaXRpYWxpemluZzohMCxpbml0aWFsaXplTWV0aG9kSWQ6ZS5tZXRhJiZlLm1ldGEubWV0aG9kSWR9KTtjYXNlIEFlLmEuSW5pdGlhbGl6ZUZhaWxlZDpjYXNlIEFlLmEuSW5pdGlhbGl6ZVN1Y2NlZWRlZDpyZXR1cm4gVCh0LHtpc0luaXRpYWxpemluZzohMSxpbml0aWFsaXplTWV0aG9kSWQ6dm9pZCAwfSk7Y2FzZSBBZS5hLkRlaW5pdGlhbGl6ZVJlcXVlc3RlZDpyZXR1cm4gVCh0LHtpc0RlaW5pdGlhbGl6aW5nOiEwLGRlaW5pdGlhbGl6ZU1ldGhvZElkOmUubWV0YSYmZS5tZXRhLm1ldGhvZElkfSk7Y2FzZSBBZS5hLkRlaW5pdGlhbGl6ZUZhaWxlZDpjYXNlIEFlLmEuRGVpbml0aWFsaXplU3VjY2VlZGVkOnJldHVybiBUKHQse2lzRGVpbml0aWFsaXppbmc6ITEsZGVpbml0aWFsaXplTWV0aG9kSWQ6dm9pZCAwfSk7Y2FzZSBBZS5hLlVwZGF0ZUFkZHJlc3NSZXF1ZXN0ZWQ6cmV0dXJuIFQodCx7aXNVcGRhdGluZ0FkZHJlc3M6ITAsdXBkYXRlQWRkcmVzc01ldGhvZElkOmUubWV0YSYmZS5tZXRhLm1ldGhvZElkfSk7Y2FzZSBBZS5hLlVwZGF0ZUFkZHJlc3NGYWlsZWQ6Y2FzZSBBZS5hLlVwZGF0ZUFkZHJlc3NTdWNjZWVkZWQ6cmV0dXJuIFQodCx7aXNVcGRhdGluZ0FkZHJlc3M6ITEsdXBkYXRlQWRkcmVzc01ldGhvZElkOnZvaWQgMH0pO2Nhc2UgQWUuYS5TZWxlY3RPcHRpb25SZXF1ZXN0ZWQ6cmV0dXJuIFQodCx7aXNTZWxlY3RpbmdPcHRpb246ITAsc2VsZWN0T3B0aW9uTWV0aG9kSWQ6ZS5tZXRhJiZlLm1ldGEubWV0aG9kSWR9KTtjYXNlIEFlLmEuU2VsZWN0T3B0aW9uRmFpbGVkOmNhc2UgQWUuYS5TZWxlY3RPcHRpb25TdWNjZWVkZWQ6cmV0dXJuIFQodCx7aXNTZWxlY3RpbmdPcHRpb246ITEsc2VsZWN0T3B0aW9uTWV0aG9kSWQ6dm9pZCAwfSk7Y2FzZSBBZS5hLldpZGdldEludGVyYWN0aW9uU3RhcnRlZDpyZXR1cm4gVCh0LHtpc1dpZGdldEludGVyYWN0aW5nOiEwLHdpZGdldEludGVyYWN0aW9uTWV0aG9kSWQ6ZS5tZXRhJiZlLm1ldGEubWV0aG9kSWR9KTtjYXNlIEFlLmEuV2lkZ2V0SW50ZXJhY3Rpb25GaW5pc2hlZDpjYXNlIEFlLmEuV2lkZ2V0SW50ZXJhY3Rpb25GYWlsZWQ6cmV0dXJuIFQodCx7aXNXaWRnZXRJbnRlcmFjdGluZzohMSx3aWRnZXRJbnRlcmFjdGlvbk1ldGhvZElkOnZvaWQgMH0pO2RlZmF1bHQ6cmV0dXJuIHR9fXZhciBUZT1uKDQ1KSxSZT17ZXJyb3JzOnt9LHN0YXR1c2VzOnt9fTtmdW5jdGlvbiBEZSh0LGUpe3JldHVybiB2b2lkIDA9PT10JiYodD1SZSksT2JqZWN0KGkuY29tYmluZVJlZHVjZXJzKSh7ZGF0YTp6ZSxlcnJvcnM6T2JqZWN0KGkuY29tcG9zZVJlZHVjZXJzKShMZSxnKSxzdGF0dXNlczpOZX0pKHQsZSl9ZnVuY3Rpb24gemUodCxlKXtzd2l0Y2goZS50eXBlKXtjYXNlIFRlLmEuU2VuZFNpZ25JbkVtYWlsU3VjY2VlZGVkOnJldHVybiBUKHQsZS5wYXlsb2FkKTtkZWZhdWx0OnJldHVybiB0fX1mdW5jdGlvbiBMZSh0LGUpe3N3aXRjaCh2b2lkIDA9PT10JiYodD1SZS5lcnJvcnMpLGUudHlwZSl7Y2FzZSBUZS5hLlNlbmRTaWduSW5FbWFpbFJlcXVlc3RlZDpjYXNlIFRlLmEuU2VuZFNpZ25JbkVtYWlsU3VjY2VlZGVkOnJldHVybiBDKHQsXCJzZW5kRXJyb3JcIix2b2lkIDApO2Nhc2UgVGUuYS5TZW5kU2lnbkluRW1haWxGYWlsZWQ6cmV0dXJuIEModCxcInNlbmRFcnJvclwiLGUucGF5bG9hZCk7ZGVmYXVsdDpyZXR1cm4gdH19ZnVuY3Rpb24gTmUodCxlKXtzd2l0Y2godm9pZCAwPT09dCYmKHQ9UmUuc3RhdHVzZXMpLGUudHlwZSl7Y2FzZSBUZS5hLlNlbmRTaWduSW5FbWFpbFJlcXVlc3RlZDpyZXR1cm4gQyh0LFwiaXNTZW5kaW5nXCIsITApO2Nhc2UgVGUuYS5TZW5kU2lnbkluRW1haWxGYWlsZWQ6Y2FzZSBUZS5hLlNlbmRTaWduSW5FbWFpbFN1Y2NlZWRlZDpyZXR1cm4gQyh0LFwiaXNTZW5kaW5nXCIsITEpO2RlZmF1bHQ6cmV0dXJuIHR9fXZhciBGZT1uKDQ4KSxxZT17ZXJyb3JzOnt9LHN0YXR1c2VzOnt9fTtmdW5jdGlvbiBVZSh0LGUpe3JldHVybiB2b2lkIDA9PT10JiYodD1xZSksT2JqZWN0KGkuY29tYmluZVJlZHVjZXJzKSh7ZXJyb3JzOk9iamVjdChpLmNvbXBvc2VSZWR1Y2VycykoeGUsZyksc3RhdHVzZXM6QmV9KSh0LGUpfWZ1bmN0aW9uIHhlKHQsZSl7c3dpdGNoKHZvaWQgMD09PXQmJih0PXFlLmVycm9ycyksZS50eXBlKXtjYXNlIEZlLmEuQXBwbHlTdG9yZUNyZWRpdFJlcXVlc3RlZDpjYXNlIEZlLmEuQXBwbHlTdG9yZUNyZWRpdFN1Y2NlZWRlZDpyZXR1cm4gQyh0LFwiYXBwbHlFcnJvclwiLHZvaWQgMCk7Y2FzZSBGZS5hLkFwcGx5U3RvcmVDcmVkaXRGYWlsZWQ6cmV0dXJuIEModCxcImFwcGx5RXJyb3JcIixlLnBheWxvYWQpO2RlZmF1bHQ6cmV0dXJuIHR9fWZ1bmN0aW9uIEJlKHQsZSl7c3dpdGNoKHZvaWQgMD09PXQmJih0PXFlLnN0YXR1c2VzKSxlLnR5cGUpe2Nhc2UgRmUuYS5BcHBseVN0b3JlQ3JlZGl0UmVxdWVzdGVkOnJldHVybiBDKHQsXCJpc0FwcGx5aW5nXCIsITApO2Nhc2UgRmUuYS5BcHBseVN0b3JlQ3JlZGl0U3VjY2VlZGVkOmNhc2UgRmUuYS5BcHBseVN0b3JlQ3JlZGl0RmFpbGVkOnJldHVybiBDKHQsXCJpc0FwcGx5aW5nXCIsITEpO2RlZmF1bHQ6cmV0dXJuIHR9fXZhciBHZT17ZXJyb3JzOnt9LHN0YXR1c2VzOnt9fTtmdW5jdGlvbiBWZSh0LGUpe3JldHVybiB2b2lkIDA9PT10JiYodD1HZSksT2JqZWN0KGkuY29tYmluZVJlZHVjZXJzKSh7ZXJyb3JzOk9iamVjdChpLmNvbXBvc2VSZWR1Y2VycykoWWUsZyksc3RhdHVzZXM6SGV9KSh0LGUpfWZ1bmN0aW9uIFllKHQsZSl7c3dpdGNoKHZvaWQgMD09PXQmJih0PUdlLmVycm9ycyksZS50eXBlKXtjYXNlIFMuYS5VcGRhdGVTdWJzY3JpcHRpb25zUmVxdWVzdGVkOmNhc2UgUy5hLlVwZGF0ZVN1YnNjcmlwdGlvbnNTdWNjZWVkZWQ6cmV0dXJuIEModCxcInVwZGF0ZUVycm9yXCIsdm9pZCAwKTtjYXNlIFMuYS5VcGRhdGVTdWJzY3JpcHRpb25zRmFpbGVkOnJldHVybiBDKHQsXCJ1cGRhdGVFcnJvclwiLGUucGF5bG9hZCk7ZGVmYXVsdDpyZXR1cm4gdH19ZnVuY3Rpb24gSGUodCxlKXtzd2l0Y2godm9pZCAwPT09dCYmKHQ9R2Uuc3RhdHVzZXMpLGUudHlwZSl7Y2FzZSBTLmEuVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3RlZDpyZXR1cm4gQyh0LFwiaXNVcGRhdGluZ1wiLCEwKTtjYXNlIFMuYS5VcGRhdGVTdWJzY3JpcHRpb25zRmFpbGVkOmNhc2UgUy5hLlVwZGF0ZVN1YnNjcmlwdGlvbnNTdWNjZWVkZWQ6cmV0dXJuIEModCxcImlzVXBkYXRpbmdcIiwhMSk7ZGVmYXVsdDpyZXR1cm4gdH19dmFyIFdlPW4oNjcpLEtlPXtlcnJvcnM6e30sc3RhdHVzZXM6e319O2Z1bmN0aW9uIEplKHQsZSl7cmV0dXJuIHZvaWQgMD09PXQmJih0PUtlKSxPYmplY3QoaS5jb21iaW5lUmVkdWNlcnMpKHtkYXRhOlplLGVycm9yczpPYmplY3QoaS5jb21wb3NlUmVkdWNlcnMpKFFlLGcpLHN0YXR1c2VzOlhlfSkodCxlKX1mdW5jdGlvbiBaZSh0LGUpe3N3aXRjaChlLnR5cGUpe2Nhc2UgZi5hLkxvYWRDaGVja291dFN1Y2NlZWRlZDpjYXNlIGYuYS5VcGRhdGVDaGVja291dFN1Y2NlZWRlZDpjYXNlIEZlLmEuQXBwbHlTdG9yZUNyZWRpdFN1Y2NlZWRlZDpjYXNlIHcuYS5VcGRhdGVCaWxsaW5nQWRkcmVzc1N1Y2NlZWRlZDpjYXNlIFIuYS5BcHBseUNvdXBvblN1Y2NlZWRlZDpjYXNlIFIuYS5SZW1vdmVDb3Vwb25TdWNjZWVkZWQ6Y2FzZSB6LmEuQ3JlYXRlQ29uc2lnbm1lbnRzU3VjY2VlZGVkOmNhc2Ugei5hLlVwZGF0ZUNvbnNpZ25tZW50U3VjY2VlZGVkOmNhc2Ugei5hLkRlbGV0ZUNvbnNpZ25tZW50U3VjY2VlZGVkOmNhc2Ugei5hLlVwZGF0ZVNoaXBwaW5nT3B0aW9uU3VjY2VlZGVkOmNhc2Ugei5hLkxvYWRTaGlwcGluZ09wdGlvbnNTdWNjZWVkZWQ6Y2FzZSBELmEuQXBwbHlHaWZ0Q2VydGlmaWNhdGVTdWNjZWVkZWQ6Y2FzZSBELmEuUmVtb3ZlR2lmdENlcnRpZmljYXRlU3VjY2VlZGVkOmNhc2UgV2UuYS5WZXJpZnlDaGVja291dFN1Y2NlZWRlZDpyZXR1cm4gVCh0LE9iamVjdChjLm9taXQpKGUucGF5bG9hZCxbXCJiaWxsaW5nQWRkcmVzc1wiLFwiY2FydFwiLFwiY29uc2lnbm1lbnRzXCIsXCJjdXN0b21lclwiLFwiY291cG9uc1wiLFwiZ2lmdENlcnRpZmljYXRlc1wiXSkpO2Nhc2UgTy5hLlN1Ym1pdE9yZGVyU3VjY2VlZGVkOnJldHVybiBDKHQsXCJvcmRlcklkXCIsZS5wYXlsb2FkJiZlLnBheWxvYWQub3JkZXIub3JkZXJJZCk7ZGVmYXVsdDpyZXR1cm4gdH19ZnVuY3Rpb24gUWUodCxlKXtzd2l0Y2godm9pZCAwPT09dCYmKHQ9S2UuZXJyb3JzKSxlLnR5cGUpe2Nhc2UgZi5hLkxvYWRDaGVja291dFJlcXVlc3RlZDpjYXNlIGYuYS5Mb2FkQ2hlY2tvdXRTdWNjZWVkZWQ6cmV0dXJuIEModCxcImxvYWRFcnJvclwiLHZvaWQgMCk7Y2FzZSBmLmEuTG9hZENoZWNrb3V0RmFpbGVkOnJldHVybiBDKHQsXCJsb2FkRXJyb3JcIixlLnBheWxvYWQpO2Nhc2UgZi5hLlVwZGF0ZUNoZWNrb3V0UmVxdWVzdGVkOmNhc2UgZi5hLlVwZGF0ZUNoZWNrb3V0U3VjY2VlZGVkOnJldHVybiBDKHQsXCJ1cGRhdGVFcnJvclwiLHZvaWQgMCk7Y2FzZSBmLmEuVXBkYXRlQ2hlY2tvdXRGYWlsZWQ6cmV0dXJuIEModCxcInVwZGF0ZUVycm9yXCIsZS5wYXlsb2FkKTtkZWZhdWx0OnJldHVybiB0fX1mdW5jdGlvbiBYZSh0LGUpe3N3aXRjaCh2b2lkIDA9PT10JiYodD1LZS5zdGF0dXNlcyksZS50eXBlKXtjYXNlIGYuYS5Mb2FkQ2hlY2tvdXRSZXF1ZXN0ZWQ6cmV0dXJuIEModCxcImlzTG9hZGluZ1wiLCEwKTtjYXNlIGYuYS5Mb2FkQ2hlY2tvdXRGYWlsZWQ6Y2FzZSBmLmEuTG9hZENoZWNrb3V0U3VjY2VlZGVkOnJldHVybiBDKHQsXCJpc0xvYWRpbmdcIiwhMSk7Y2FzZSBmLmEuVXBkYXRlQ2hlY2tvdXRSZXF1ZXN0ZWQ6cmV0dXJuIEModCxcImlzVXBkYXRpbmdcIiwhMCk7Y2FzZSBmLmEuVXBkYXRlQ2hlY2tvdXRGYWlsZWQ6Y2FzZSBmLmEuVXBkYXRlQ2hlY2tvdXRTdWNjZWVkZWQ6cmV0dXJuIEModCxcImlzVXBkYXRpbmdcIiwhMSk7Y2FzZSBXZS5hLkV4ZWN1dGVSZXF1ZXN0ZWQ6cmV0dXJuIEModCxcImlzRXhlY3V0aW5nU3BhbUNoZWNrXCIsITApO2Nhc2UgV2UuYS5FeGVjdXRlRmFpbGVkOmNhc2UgV2UuYS5FeGVjdXRlU3VjY2VlZGVkOnJldHVybiBDKHQsXCJpc0V4ZWN1dGluZ1NwYW1DaGVja1wiLCExKTtkZWZhdWx0OnJldHVybiB0fX12YXIgJGU9big1KSx0bj1uKDEyKSxlbj1uKDE3MSk7ZnVuY3Rpb24gbm4odCxlKXtpZihudWxsPT10KXRocm93IGU/ZSgpOm5ldyBFcnJvcihcIkFuIHVuZXhwZWN0ZWQgZXJyb3IgaGFzIG9jY3VycmVkLlwiKTtyZXR1cm4gdH1mdW5jdGlvbiBybih0KXtyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgbj1PYmplY3QuY3JlYXRlKHQpO3JldHVybiBmdW5jdGlvbih0LGUpe3ZhciBuPU9iamVjdC5nZXRQcm90b3R5cGVPZih0KTtmb3IoO247KWUobiksbj1PYmplY3QuZ2V0UHJvdG90eXBlT2Yobil9KHQsKGZ1bmN0aW9uKHIpe09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHIpLmZvckVhY2goKGZ1bmN0aW9uKHIpe1wiY29uc3RydWN0b3JcIiE9PXImJlwiZnVuY3Rpb25cIj09dHlwZW9mIG5bcl0mJlwiX1wiIT09ci5jaGFyQXQoMCkmJihuW3JdPWUodCxyLG4pKX0pKX0pKSxufSh0LChmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgbixvPVtdLGE9MDthPGFyZ3VtZW50cy5sZW5ndGg7YSsrKW9bYV09YXJndW1lbnRzW2FdO3JldHVybiBPYmplY3QoaS5kZWVwRnJlZXplKSgobj10W2VdKS5jYWxsLmFwcGx5KG4sT2JqZWN0KHIuX19zcHJlYWRBcnJheXMpKFt0XSxvKSkpfX0pKX1mdW5jdGlvbiBvbigpe3ZhciB0PU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGF0YX0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXt2b2lkIDA9PT1lJiYoZT1bXSk7dmFyIHI9T2JqZWN0KGMuZmluZCkoZSx7Y29kZTpufSk7cmV0dXJuKHQ/dC5zaGlwcGluZ0FkZHJlc3M6W10pLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGEodCxlLHIpfSkpfX0pKSxlPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGF0YX0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXt2b2lkIDA9PT1lJiYoZT1bXSk7dmFyIHI9T2JqZWN0KGMuZmluZCkoZSx7Y29kZTpufSk7cmV0dXJuKHQ/dC5iaWxsaW5nQWRkcmVzczpbXSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gYSh0LGUscil9KSl9fSkpLG49T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kYXRhfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0P3QuY3VzdG9tZXJBY2NvdW50OltdfX0pKSxpPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzLmxvYWRFcnJvcn0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSksbz1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiEhdC5zdGF0dXNlcy5pc0xvYWRpbmd9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSkpO2Z1bmN0aW9uIGEodCxlLG4pe3JldHVyblwiY291bnRyeUNvZGVcIj09PXQubmFtZT9mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09ZSYmKGU9W10pO2lmKCFlLmxlbmd0aClyZXR1cm4gdDt2YXIgaT0obnx8e30pLmNvZGUsbz12b2lkIDA9PT1pP1wiXCI6aSxhPWUubWFwKChmdW5jdGlvbih0KXtyZXR1cm57dmFsdWU6dC5jb2RlLGxhYmVsOnQubmFtZX19KSk7cmV0dXJuIE9iamVjdChyLl9fYXNzaWduKShPYmplY3Qoci5fX2Fzc2lnbikoe30sdCkse29wdGlvbnM6e2l0ZW1zOmF9LGRlZmF1bHQ6byx0eXBlOlwiYXJyYXlcIixmaWVsZFR5cGU6XCJkcm9wZG93blwiLGl0ZW10eXBlOlwic3RyaW5nXCJ9KX0odCxlLG4pOlwic3RhdGVPclByb3ZpbmNlXCI9PT10Lm5hbWU/ZnVuY3Rpb24odCxlKXt2YXIgbj1lfHx7fSxpPW4uc3ViZGl2aXNpb25zLG89dm9pZCAwPT09aT9bXTppLGE9bi5yZXF1aXJlc1N0YXRlO2lmKCFvLmxlbmd0aClyZXR1cm4gT2JqZWN0KHIuX19hc3NpZ24pKE9iamVjdChyLl9fYXNzaWduKSh7fSx0KSx7cmVxdWlyZWQ6bnVsbCE9YSYmYX0pO3ZhciBzPW8ubWFwKChmdW5jdGlvbih0KXtyZXR1cm57dmFsdWU6dC5jb2RlLGxhYmVsOnQubmFtZX19KSk7cmV0dXJuIE9iamVjdChyLl9fYXNzaWduKShPYmplY3Qoci5fX2Fzc2lnbikoe30sdCkse25hbWU6XCJzdGF0ZU9yUHJvdmluY2VDb2RlXCIsb3B0aW9uczp7aXRlbXM6c30scmVxdWlyZWQ6bnVsbD09YXx8YSx0eXBlOlwiYXJyYXlcIixmaWVsZFR5cGU6XCJkcm9wZG93blwiLGl0ZW10eXBlOlwic3RyaW5nXCJ9KX0odCxuKTpcInBvc3RhbENvZGVcIj09PXQubmFtZT9mdW5jdGlvbih0LGUpe3ZhciBuPShlfHx7fSkuaGFzUG9zdGFsQ29kZXMsaT12b2lkIDA9PT1uP1tdOm47aWYodm9pZCAwPT09aSlyZXR1cm4gdDtyZXR1cm4gT2JqZWN0KHIuX19hc3NpZ24pKE9iamVjdChyLl9fYXNzaWduKSh7fSx0KSx7cmVxdWlyZWQ6Qm9vbGVhbihpKX0pfSh0LG4pOnR9cmV0dXJuIE9iamVjdCgkZS5tZW1vaXplT25lKSgoZnVuY3Rpb24ocil7cmV0dXJuIHZvaWQgMD09PXImJihyPUl0KSx7Z2V0U2hpcHBpbmdBZGRyZXNzRmllbGRzOnQociksZ2V0QmlsbGluZ0FkZHJlc3NGaWVsZHM6ZShyKSxnZXRDdXN0b21lckFjY291bnRGaWVsZHM6bihyKSxnZXRMb2FkRXJyb3I6aShyKSxpc0xvYWRpbmc6byhyKX19KSl9dmFyIGFuPW4oNTgpLHNuPW4oMzgpO3ZhciBjbj17XCJhZHllbnYyLnNjaGVtZVwiOntwcm92aWRlcjpcImFkeWVudjJcIixtZXRob2Q6XCJzY2hlbWVcIn0sXCJhZHllbnYyLmJjbWNcIjp7cHJvdmlkZXI6XCJhZHllbnYyXCIsbWV0aG9kOlwiYmNtY1wifSxcImFkeWVudjIuaWRlYWxcIjp7cHJvdmlkZXI6XCJhZHllbnYyXCIsbWV0aG9kOlwiaWRlYWxcIn0sXCJhZHllbnYyLnNlcGFkaXJlY3RkZWJpdFwiOntwcm92aWRlcjpcImFkeWVudjJcIixtZXRob2Q6XCJzZXBhZGlyZWN0ZGViaXRcIn0sXCJhZHllbnYyLmRpcmVjdEViYW5raW5nXCI6e3Byb3ZpZGVyOlwiYWR5ZW52MlwiLG1ldGhvZDpcImRpcmVjdEViYW5raW5nXCJ9LFwiYWR5ZW52Mi5naXJvcGF5XCI6e3Byb3ZpZGVyOlwiYWR5ZW52MlwiLG1ldGhvZDpcImdpcm9wYXlcIn0sYmFyY2xheXM6e3Byb3ZpZGVyOlwiYmFyY2xheXNcIixtZXRob2Q6XCJjcmVkaXRfY2FyZFwifSxicmFpbnRyZWU6e3Byb3ZpZGVyOlwiYnJhaW50cmVlXCIsbWV0aG9kOlwiY3JlZGl0X2NhcmRcIn0sYnJhaW50cmVlcGF5cGFsOntwcm92aWRlcjpcImJyYWludHJlZVwiLG1ldGhvZDpcInBheXBhbFwifSxhdXRob3JpemVuZXQ6e3Byb3ZpZGVyOlwiYXV0aG9yaXplbmV0XCIsbWV0aG9kOlwiY3JlZGl0X2NhcmRcIn0sZWxhdm9uOntwcm92aWRlcjpcImVsYXZvblwiLG1ldGhvZDpcImNyZWRpdF9jYXJkXCJ9LGNoZWNrb3V0Y29tOntwcm92aWRlcjpcImNoZWNrb3V0Y29tXCIsbWV0aG9kOlwiY3JlZGl0X2NhcmRcIn0sc3RyaXBlOntwcm92aWRlcjpcInN0cmlwZVwiLG1ldGhvZDpcImNyZWRpdF9jYXJkXCJ9LFwic3RyaXBldjMuY2FyZFwiOntwcm92aWRlcjpcInN0cmlwZXYzXCIsbWV0aG9kOlwiY2FyZFwifSxjeWJlcnNvdXJjZTp7cHJvdmlkZXI6XCJjeWJlcnNvdXJjZVwiLG1ldGhvZDpcImNyZWRpdF9jYXJkXCJ9LGNvbnZlcmdlOntwcm92aWRlcjpcImNvbnZlcmdlXCIsbWV0aG9kOlwiY3JlZGl0X2NhcmRcIn0sYmx1ZXNuYXB2Mjp7cHJvdmlkZXI6XCJibHVlc25hcHYyXCIsbWV0aG9kOlwiY3JlZGl0X2NhcmRcIn0sb3JiaXRhbDp7cHJvdmlkZXI6XCJvcmJpdGFsXCIsbWV0aG9kOlwiY3JlZGl0X2NhcmRcIn0scGF5bWV0cmljOntwcm92aWRlcjpcInBheW1ldHJpY1wiLG1ldGhvZDpcImNyZWRpdF9jYXJkXCJ9LGJvbHQ6e3Byb3ZpZGVyOlwiYm9sdFwiLG1ldGhvZDpcImNyZWRpdF9jYXJkXCJ9LFwiYmFyY2xheWNhcmQuY3JlZGl0X2NhcmRcIjp7cHJvdmlkZXI6XCJiYXJjbGF5Y2FyZFwiLG1ldGhvZDpcImNyZWRpdF9jYXJkXCJ9fTtmdW5jdGlvbiB1bih0KXtyZXR1cm4gT2JqZWN0KGMucGlja0J5KSh7Zmlyc3ROYW1lOnQuZmlyc3ROYW1lLGxhc3ROYW1lOnQubGFzdE5hbWUsY29tcGFueTp0LmNvbXBhbnksYWRkcmVzczE6dC5hZGRyZXNzMSxhZGRyZXNzMjp0LmFkZHJlc3MyLGNpdHk6dC5jaXR5LHN0YXRlT3JQcm92aW5jZTp0LnN0YXRlT3JQcm92aW5jZSxjb3VudHJ5Q29kZTp0LmNvdW50cnlDb2RlLHBvc3RhbENvZGU6dC5wb3N0YWxDb2RlLHBob25lOnQucGhvbmUsY3VzdG9tRmllbGRzOnQuY3VzdG9tRmllbGRzfSxjLmlkZW50aXR5KX1mdW5jdGlvbiBkbigpe3ZhciB0PU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGF0YX0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSksZT1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRhdGF9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKHQmJnQubGVuZ3RoKXJldHVybiBPYmplY3QoYy5maW5kKSh0LHtpZDplfSl9fSkpLG49T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kYXRhfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtpZih0JiZ0Lmxlbmd0aClyZXR1cm4gT2JqZWN0KGMuZmluZCkodCwoZnVuY3Rpb24odCl7cmV0dXJuIG49dC5zaGlwcGluZ0FkZHJlc3Mscj1lLE9iamVjdChjLmlzRXF1YWwpKHVuKG4pLHVuKHIpKTt2YXIgbixyfSkpfX0pKSxyPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGF0YX0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtpZih0JiZ0Lmxlbmd0aClyZXR1cm4gdFswXS5zZWxlY3RlZFNoaXBwaW5nT3B0aW9ufX0pKSxpPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzLmxvYWRFcnJvcn0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSksbz1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVycm9ycy5jcmVhdGVFcnJvcn0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSksYT1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVycm9ycy5sb2FkU2hpcHBpbmdPcHRpb25zRXJyb3J9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSkpLHM9T2JqZWN0KGVuLmEpKHQsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUuY2FydC5nZXRDYXJ0fSksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49ZSgpO2lmKCFuKXJldHVybltdO3ZhciByPSh0KCl8fFtdKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuY29uY2F0KGUubGluZUl0ZW1JZHMpfSksW10pO3JldHVybihuLmxpbmVJdGVtcy5waHlzaWNhbEl0ZW1zfHxbXSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gci5pbmRleE9mKHQuaWQpPDB9KSl9fSkpLHU9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5lcnJvcnMudXBkYXRlRXJyb3J9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBlP3RbZV06T2JqZWN0KGMuZmluZCkodCl9fSkpLGQ9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5lcnJvcnMuZGVsZXRlRXJyb3J9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBlP3RbZV06T2JqZWN0KGMuZmluZCkodCl9fSkpLHA9T2JqZWN0KGVuLmEpKG4sdSxvLChmdW5jdGlvbih0LGUsbil7cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciBpPXQocik7cmV0dXJuIGk/ZShpLmlkKTpuKCl9fSkpLGg9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5lcnJvcnMudXBkYXRlU2hpcHBpbmdPcHRpb25FcnJvcn0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGU/dFtlXTpPYmplY3QoYy5maW5kKSh0KX19KSksbD1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXR1c2VzLmlzTG9hZGluZ30pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4hMD09PXR9fSkpLG09T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGF0dXNlcy5pc0xvYWRpbmdTaGlwcGluZ09wdGlvbnN9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuITA9PT10fX0pKSxmPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RhdHVzZXMuaXNDcmVhdGluZ30pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4hMD09PXR9fSkpLF89T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGF0dXNlcy5pc1VwZGF0aW5nfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZT8hMD09PXRbZV06ITA9PT1PYmplY3QoYy5maW5kKSh0KX19KSkseT1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXR1c2VzLmlzRGVsZXRpbmd9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBlPyEwPT09dFtlXTohMD09PU9iamVjdChjLmZpbmQpKHQpfX0pKSxnPU9iamVjdChlbi5hKShuLF8sZiwoZnVuY3Rpb24odCxlLG4pe3JldHVybiBmdW5jdGlvbihyKXt2YXIgaT10KHIpO3JldHVybiBpP2UoaS5pZCk6bigpfX0pKSxiPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RhdHVzZXMuaXNVcGRhdGluZ1NoaXBwaW5nT3B0aW9ufSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZT8hMD09PXRbZV06ITA9PT1PYmplY3QoYy5maW5kKSh0KX19KSk7cmV0dXJuIE9iamVjdCgkZS5tZW1vaXplT25lKSgoZnVuY3Rpb24oYyx2KXtyZXR1cm4gdm9pZCAwPT09YyYmKGM9ZmUpLHtnZXRDb25zaWdubWVudHM6dChjKSxnZXRDb25zaWdubWVudEJ5SWQ6ZShjKSxnZXRDb25zaWdubWVudEJ5QWRkcmVzczpuKGMpLGdldFNoaXBwaW5nT3B0aW9uOnIoYyksZ2V0TG9hZEVycm9yOmkoYyksZ2V0Q3JlYXRlRXJyb3I6byhjKSxnZXRMb2FkU2hpcHBpbmdPcHRpb25zRXJyb3I6YShjKSxnZXRVbmFzc2lnbmVkSXRlbXM6cyhjLHtjYXJ0OnZ9KSxnZXRVcGRhdGVFcnJvcjp1KGMpLGdldERlbGV0ZUVycm9yOmQoYyksZ2V0SXRlbUFzc2lnbm1lbnRFcnJvcjpwKGMpLGdldFVwZGF0ZVNoaXBwaW5nT3B0aW9uRXJyb3I6aChjKSxpc0xvYWRpbmc6bChjKSxpc0xvYWRpbmdTaGlwcGluZ09wdGlvbnM6bShjKSxpc0NyZWF0aW5nOmYoYyksaXNVcGRhdGluZzpfKGMpLGlzRGVsZXRpbmc6eShjKSxpc0Fzc2lnbmluZ0l0ZW1zOmcoYyksaXNVcGRhdGluZ1NoaXBwaW5nT3B0aW9uOmIoYyl9fSkpfXZhciBwbj17ZXJyb3JzOnt9LHN0YXR1c2VzOnt9fTtmdW5jdGlvbiBobigpe3ZhciB0LGUsbixpLG8sYSxzLHUsZCxwLGgsbCxtLGYsXyx5LGcsYix2LEMsTyxTLHcsQSxFLFAsaixrLE0sVCxSLEQseixOLEYscSxVPSh0PU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGF0YX0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSksZT1PYmplY3QoZW4uYSkodCwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5uKHQoKSwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHRuLmIodG4uYS5NaXNzaW5nQmlsbGluZ0FkZHJlc3MpfSkpfX0pKSxuPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzLnVwZGF0ZUVycm9yfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0pKSxpPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzLmNvbnRpbnVlQXNHdWVzdEVycm9yfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0pKSxvPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzLmxvYWRFcnJvcn0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSksYT1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiEhdC5zdGF0dXNlcy5pc1VwZGF0aW5nfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0pKSxzPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuISF0LnN0YXR1c2VzLmlzQ29udGludWluZ0FzR3Vlc3R9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSkpLHU9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4hIXQuc3RhdHVzZXMuaXNMb2FkaW5nfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0pKSxPYmplY3QoJGUubWVtb2l6ZU9uZSkoKGZ1bmN0aW9uKHIpe3JldHVybiB2b2lkIDA9PT1yJiYocj1JKSx7Z2V0QmlsbGluZ0FkZHJlc3M6dChyKSxnZXRCaWxsaW5nQWRkcmVzc09yVGhyb3c6ZShyKSxnZXRVcGRhdGVFcnJvcjpuKHIpLGdldENvbnRpbnVlQXNHdWVzdEVycm9yOmkociksZ2V0TG9hZEVycm9yOm8ociksaXNVcGRhdGluZzphKHIpLGlzQ29udGludWluZ0FzR3Vlc3Q6cyhyKSxpc0xvYWRpbmc6dShyKX19KSkpLHg9ZnVuY3Rpb24oKXt2YXIgdD1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRhdGF9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSkpLGU9T2JqZWN0KGVuLmEpKHQsKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBubih0KCksKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0bi5iKHRuLmEuTWlzc2luZ0NhcnQpfSkpfX0pKSxuPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzLmxvYWRFcnJvcn0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSkscj1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiEhdC5zdGF0dXNlcy5pc0xvYWRpbmd9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSkpO3JldHVybiBPYmplY3QoJGUubWVtb2l6ZU9uZSkoKGZ1bmN0aW9uKGkpe3JldHVybiB2b2lkIDA9PT1pJiYoaT1MKSx7Z2V0Q2FydDp0KGkpLGdldENhcnRPclRocm93OmUoaSksZ2V0TG9hZEVycm9yOm4oaSksaXNMb2FkaW5nOnIoaSl9fSkpfSgpLEc9KGQ9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdH0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSkscD1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXR1c2VzfSksKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoJGUubWVtb2l6ZSkoKGZ1bmN0aW9uKGUpe2lmKGUpe3ZhciBuPXRbZV07cmV0dXJuITA9PT0obiYmbi5pc0luaXRpYWxpemluZyl9cmV0dXJuIE9iamVjdChjLnNvbWUpKHQse2lzSW5pdGlhbGl6aW5nOiEwfSl9KSl9KSksaD1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRhdGF9KSwoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdCgkZS5tZW1vaXplKSgoZnVuY3Rpb24oZSxuKXt2YXIgcj10W2VdO3JldHVybiEhciYmKG4/ITA9PT1yLmluaXRpYWxpemVkQ29udGFpbmVyc1tuXTpPYmplY3QoYy5zb21lKShyLmluaXRpYWxpemVkQ29udGFpbmVycywoZnVuY3Rpb24odCl7cmV0dXJuITA9PT10fSkpKX0pKX0pKSxsPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RhdHVzZXN9KSwoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdCgkZS5tZW1vaXplKSgoZnVuY3Rpb24oZSl7aWYoZSl7dmFyIG49dFtlXTtyZXR1cm4hMD09PShuJiZuLmlzRGVpbml0aWFsaXppbmcpfXJldHVybiBPYmplY3QoYy5zb21lKSh0LHtpc0RlaW5pdGlhbGl6aW5nOiEwfSl9KSl9KSksbT1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVycm9yc30pLChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KCRlLm1lbW9pemUpKChmdW5jdGlvbihlKXt2YXIgbj1lP3RbZV06T2JqZWN0KGMuZmluZCkoT2JqZWN0KGMudmFsdWVzKSh0KSwoZnVuY3Rpb24odCl7cmV0dXJuISghdHx8IXQuaW5pdGlhbGl6ZUVycm9yKX0pKTtyZXR1cm4gbiYmbi5pbml0aWFsaXplRXJyb3J9KSl9KSksZj1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVycm9yc30pLChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KCRlLm1lbW9pemUpKChmdW5jdGlvbihlKXt2YXIgbj1lP3RbZV06T2JqZWN0KGMuZmluZCkoT2JqZWN0KGMudmFsdWVzKSh0KSwoZnVuY3Rpb24odCl7cmV0dXJuISghdHx8IXQuZGVpbml0aWFsaXplRXJyb3IpfSkpO3JldHVybiBuJiZuLmRlaW5pdGlhbGl6ZUVycm9yfSkpfSkpLE9iamVjdCgkZS5tZW1vaXplT25lKSgoZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PUIpLHtnZXRTdGF0ZTpkKHQpLGlzSW5pdGlhbGl6aW5nOnAodCksaXNJbml0aWFsaXplZDpoKHQpLGlzRGVpbml0aWFsaXppbmc6bCh0KSxnZXRJbml0aWFsaXplRXJyb3I6bSh0KSxnZXREZWluaXRpYWxpemVFcnJvcjpmKHQpfX0pKSksVj1mdW5jdGlvbigpe3ZhciB0PU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGF0YX0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSksZT1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRhdGF9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKHQpe3ZhciBuPXQuY29udGV4dC5mbGFzaE1lc3NhZ2VzO2lmKG4pcmV0dXJuIHZvaWQgMCE9PWU/bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3ZhciBuPXQudHlwZTtyZXR1cm4gZT09PW59KSk6bn19fSkpLG49T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kYXRhfSksKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5mb3JtU3RhdGU7cmV0dXJuIG4mJm4uZGF0YX0pLChmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0JiZlP09iamVjdChyLl9fYXNzaWduKShPYmplY3Qoci5fX2Fzc2lnbikoe30sdC5zdG9yZUNvbmZpZykse2Zvcm1GaWVsZHM6ZX0pOnZvaWQgMH19KSksaT1PYmplY3QoZW4uYSkobiwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5uKHQoKSwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHRuLmIodG4uYS5NaXNzaW5nQ2hlY2tvdXRDb25maWcpfSkpfX0pKSxvPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGF0YSYmdC5kYXRhLmNvbnRleHR9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSkpLGE9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5tZXRhJiZ0Lm1ldGEuZXh0ZXJuYWxTb3VyY2V9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSkpLHM9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5tZXRhJiZ0Lm1ldGEudmFyaWFudElkZW50aWZpY2F0aW9uVG9rZW59KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSkpLGM9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5lcnJvcnMubG9hZEVycm9yfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0pKSx1PU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuISF0LnN0YXR1c2VzLmlzTG9hZGluZ30pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSk7cmV0dXJuIE9iamVjdCgkZS5tZW1vaXplT25lKSgoZnVuY3Rpb24ocixkKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9USkse2dldENvbmZpZzp0KHIpLGdldEZsYXNoTWVzc2FnZXM6ZShyKSxnZXRTdG9yZUNvbmZpZzpuKHIse2Zvcm1TdGF0ZTpkfSksZ2V0U3RvcmVDb25maWdPclRocm93Omkocix7Zm9ybVN0YXRlOmR9KSxnZXRDb250ZXh0Q29uZmlnOm8ociksZ2V0RXh0ZXJuYWxTb3VyY2U6YShyKSxnZXRWYXJpYW50SWRlbnRpZmljYXRpb25Ub2tlbjpzKHIpLGdldExvYWRFcnJvcjpjKHIpLGlzTG9hZGluZzp1KHIpfX0pKX0oKSxZPWZ1bmN0aW9uKCl7dmFyIHQ9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kYXRhfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0pKSxlPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzLmxvYWRFcnJvcn0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSksbj1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiEhdC5zdGF0dXNlcy5pc0xvYWRpbmd9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSkpO3JldHVybiBPYmplY3QoJGUubWVtb2l6ZU9uZSkoKGZ1bmN0aW9uKHIpe3JldHVybiB2b2lkIDA9PT1yJiYocj1NdCkse2dldENvdW50cmllczp0KHIpLGdldExvYWRFcnJvcjplKHIpLGlzTG9hZGluZzpuKHIpfX0pKX0oKSxIPShfPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGF0YX0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSkseT1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVycm9ycy5yZW1vdmVDb3Vwb25FcnJvcn0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSksZz1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVycm9ycy5hcHBseUNvdXBvbkVycm9yfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0pKSxiPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuISF0LnN0YXR1c2VzLmlzQXBwbHlpbmdDb3Vwb259KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSkpLHY9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4hIXQuc3RhdHVzZXMuaXNSZW1vdmluZ0NvdXBvbn0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSksT2JqZWN0KCRlLm1lbW9pemVPbmUpKChmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9bnQpLHtnZXRDb3Vwb25zOl8odCksZ2V0UmVtb3ZlRXJyb3I6eSh0KSxnZXRBcHBseUVycm9yOmcodCksaXNBcHBseWluZzpiKHQpLGlzUmVtb3Zpbmc6dih0KX19KSkpLFc9KEM9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kYXRhfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0pKSxPPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzLmNyZWF0ZUVycm9yfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0pKSxTPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuISF0LnN0YXR1c2VzLmlzQ3JlYXRpbmd9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSkpLE9iamVjdCgkZS5tZW1vaXplT25lKSgoZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PWx0KSx7Z2V0Q3VzdG9tZXI6Qyh0KSxnZXRDcmVhdGVBY2NvdW50RXJyb3I6Tyh0KSxpc0NyZWF0aW5nQ3VzdG9tZXJBY2NvdW50OlModCl9fSkpKSxLPWZ1bmN0aW9uKCl7dmFyIHQ9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5lcnJvcnMuc2lnbkluTWV0aG9kSWR9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzLnNpZ25JbkVycm9yfSksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe2lmKCFufHx0PT09bilyZXR1cm4gZX19KSksZT1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVycm9ycy5zaWduT3V0TWV0aG9kSWR9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzLnNpZ25PdXRFcnJvcn0pLChmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtpZighbnx8dD09PW4pcmV0dXJuIGV9fSkpLG49T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5lcnJvcnMuaW5pdGlhbGl6ZU1ldGhvZElkfSksKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVycm9ycy5pbml0aWFsaXplRXJyb3J9KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7aWYoIW58fHQ9PT1uKXJldHVybiBlfX0pKSxyPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzLndpZGdldEludGVyYWN0aW9uTWV0aG9kSWR9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzLndpZGdldEludGVyYWN0aW9uRXJyb3J9KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7aWYoIW58fHQ9PT1uKXJldHVybiBlfX0pKSxpPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RhdHVzZXMuc2lnbkluTWV0aG9kSWR9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RhdHVzZXMuaXNTaWduaW5nSW59KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuKCFufHx0PT09bikmJiEhZX19KSksbz1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXR1c2VzLnNpZ25PdXRNZXRob2RJZH0pLChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGF0dXNlcy5pc1NpZ25pbmdPdXR9KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuKCFufHx0PT09bikmJiEhZX19KSksYT1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXR1c2VzLmluaXRpYWxpemVNZXRob2RJZH0pLChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGF0dXNlcy5pc0luaXRpYWxpemluZ30pLChmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4oIW58fHQ9PT1uKSYmISFlfX0pKSxzPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGF0YX0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuISghdFtlXXx8IXRbZV0uaXNJbml0aWFsaXplZCl9fSkpLGM9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGF0dXNlcy53aWRnZXRJbnRlcmFjdGlvbk1ldGhvZElkfSksKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXR1c2VzLmlzV2lkZ2V0SW50ZXJhY3Rpbmd9KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuKCFufHx0PT09bikmJiEhZX19KSk7cmV0dXJuIE9iamVjdCgkZS5tZW1vaXplT25lKSgoZnVuY3Rpb24odSl7cmV0dXJuIHZvaWQgMD09PXUmJih1PWJ0KSx7Z2V0U2lnbkluRXJyb3I6dCh1KSxnZXRTaWduT3V0RXJyb3I6ZSh1KSxnZXRJbml0aWFsaXplRXJyb3I6bih1KSxnZXRXaWRnZXRJbnRlcmFjdGlvbkVycm9yOnIodSksaXNTaWduaW5nSW46aSh1KSxpc1NpZ25pbmdPdXQ6byh1KSxpc0luaXRpYWxpemluZzphKHUpLGlzSW5pdGlhbGl6ZWQ6cyh1KSxpc1dpZGdldEludGVyYWN0aW5nOmModSl9fSkpfSgpLEo9ZnVuY3Rpb24oKXt2YXIgdD1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRhdGF9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSkpLGU9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5lcnJvcnMucmVtb3ZlR2lmdENlcnRpZmljYXRlRXJyb3J9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSkpLG49T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5lcnJvcnMuYXBwbHlHaWZ0Q2VydGlmaWNhdGVFcnJvcn0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSkscj1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiEhdC5zdGF0dXNlcy5pc0FwcGx5aW5nR2lmdENlcnRpZmljYXRlfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0pKSxpPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuISF0LnN0YXR1c2VzLmlzUmVtb3ZpbmdHaWZ0Q2VydGlmaWNhdGV9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSkpO3JldHVybiBPYmplY3QoJGUubWVtb2l6ZU9uZSkoKGZ1bmN0aW9uKG8pe3JldHVybiB2b2lkIDA9PT1vJiYobz1zdCkse2dldEdpZnRDZXJ0aWZpY2F0ZXM6dChvKSxnZXRSZW1vdmVFcnJvcjplKG8pLGdldEFwcGx5RXJyb3I6bihvKSxpc0FwcGx5aW5nOnIobyksaXNSZW1vdmluZzppKG8pfX0pKX0oKSxaPWZ1bmN0aW9uKCl7dmFyIHQ9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kYXRhfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtpZih0KXt2YXIgbj1lLmdhdGV3YXk/ZS5nYXRld2F5K1wiLlwiK2UuaWQ6ZS5pZCxyPWNuW25dO3JldHVybiByP09iamVjdChjLmZpbHRlcikodCxyKTpbXX19fSkpLGU9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kYXRhfSksKGZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD1bXSksZnVuY3Rpb24oZSl7dmFyIG49T2JqZWN0KGMudmFsdWVzKShjbik7cmV0dXJuIHQuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuYmlncGF5VG9rZW49PT1lJiZcImNhcmRcIj09PXQudHlwZSYmbi5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGMuaXNNYXRjaCkodCxlKX0pKX0pKX19KSksbj1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRhdGF9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7aWYodClyZXR1cm4gT2JqZWN0KGMuZmxhdE1hcCkoY24sKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoYy5maWx0ZXIpKHQsKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoYy5pc01hdGNoKSh0LGUpfSkpfSkpfX0pKSxyPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQubWV0YX0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSksaT1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVycm9ycy5sb2FkRXJyb3J9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSkpLG89T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5lcnJvcnMuZmFpbGVkSW5zdHJ1bWVudH0pLChmdW5jdGlvbih0KXtyZXR1cm4gdC5lcnJvcnMuZGVsZXRlRXJyb3J9KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7aWYoIW58fHQ9PT1uKXJldHVybiBlfX0pKSxhPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RhdHVzZXMuaXNMb2FkaW5nfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiEhdH19KSkscz1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXR1c2VzLmRlbGV0aW5nSW5zdHJ1bWVudH0pLChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGF0dXNlcy5pc0RlbGV0aW5nfSksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybighbnx8dD09PW4pJiYhIWV9fSkpO3JldHVybiBPYmplY3QoJGUubWVtb2l6ZU9uZSkoKGZ1bmN0aW9uKGMpe3JldHVybiB2b2lkIDA9PT1jJiYoYz1vZSkse2dldENhcmRJbnN0cnVtZW50OmUoYyksZ2V0SW5zdHJ1bWVudHM6bihjKSxnZXRJbnN0cnVtZW50c0J5UGF5bWVudE1ldGhvZDp0KGMpLGdldEluc3RydW1lbnRzTWV0YTpyKGMpLGdldExvYWRFcnJvcjppKGMpLGdldERlbGV0ZUVycm9yOm8oYyksaXNMb2FkaW5nOmEoYyksaXNEZWxldGluZzpzKGMpfX0pKX0oKSxYPW9uKCksJD1mdW5jdGlvbigpe3ZhciB0PU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGF0YX0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSksZT1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm1ldGF9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSkpLG49T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kYXRhfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3JldHVybiBuP09iamVjdChjLmZpbmQpKHQse2lkOmUsZ2F0ZXdheTpufSk6T2JqZWN0KGMuZmluZCkodCx7aWQ6ZX0pfX0pKSxyPU9iamVjdChlbi5hKShuLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXtyZXR1cm4gbm4odChlLG4pLChmdW5jdGlvbigpe3JldHVybiBuZXcgdG4uYih0bi5hLk1pc3NpbmdQYXltZW50TWV0aG9kKX0pKX19KSksaT1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVycm9ycy5sb2FkRXJyb3J9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSkpLG89T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5lcnJvcnMubG9hZE1ldGhvZElkfSksKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVycm9ycy5sb2FkTWV0aG9kRXJyb3J9KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7aWYoIW58fHQ9PT1uKXJldHVybiBlfX0pKSxhPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RhdHVzZXMuaXNMb2FkaW5nfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiEhdH19KSkscz1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXR1c2VzLmxvYWRNZXRob2RJZH0pLChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGF0dXNlcy5pc0xvYWRpbmdNZXRob2R9KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuKCFufHx0PT09bikmJiEhZX19KSk7cmV0dXJuIE9iamVjdCgkZS5tZW1vaXplT25lKSgoZnVuY3Rpb24oYyl7cmV0dXJuIHZvaWQgMD09PWMmJihjPUh0KSx7Z2V0UGF5bWVudE1ldGhvZHM6dChjKSxnZXRQYXltZW50TWV0aG9kc01ldGE6ZShjKSxnZXRQYXltZW50TWV0aG9kOm4oYyksZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3c6cihjKSxnZXRMb2FkRXJyb3I6aShjKSxnZXRMb2FkTWV0aG9kRXJyb3I6byhjKSxpc0xvYWRpbmc6YShjKSxpc0xvYWRpbmdNZXRob2Q6cyhjKX19KSl9KCksdHQ9ZnVuY3Rpb24oKXt2YXIgdD1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVycm9ycy5pbml0aWFsaXplTWV0aG9kSWR9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzLmluaXRpYWxpemVFcnJvcn0pLChmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtpZighbnx8dD09PW4pcmV0dXJuIGV9fSkpLGU9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5lcnJvcnMuZXhlY3V0ZU1ldGhvZElkfSksKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVycm9ycy5leGVjdXRlRXJyb3J9KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7aWYoIW58fHQ9PT1uKXJldHVybiBlfX0pKSxuPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzLmZpbmFsaXplTWV0aG9kSWR9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzLmZpbmFsaXplRXJyb3J9KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7aWYoIW58fHQ9PT1uKXJldHVybiBlfX0pKSxyPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzLndpZGdldEludGVyYWN0aW9uTWV0aG9kSWR9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzLndpZGdldEludGVyYWN0aW9uRXJyb3J9KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7aWYoIW58fHQ9PT1uKXJldHVybiBlfX0pKSxpPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RhdHVzZXMuaW5pdGlhbGl6ZU1ldGhvZElkfSksKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXR1c2VzLmlzSW5pdGlhbGl6aW5nfSksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybighbnx8dD09PW4pJiYhIWV9fSkpLG89T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kYXRhfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4hKCF0W2VdfHwhdFtlXS5pc0luaXRpYWxpemVkKX19KSksYT1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXR1c2VzLmV4ZWN1dGVNZXRob2RJZH0pLChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGF0dXNlcy5pc0V4ZWN1dGluZ30pLChmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4oIW58fHQ9PT1uKSYmISFlfX0pKSxzPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RhdHVzZXMuZmluYWxpemVNZXRob2RJZH0pLChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGF0dXNlcy5pc0ZpbmFsaXppbmd9KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuKCFufHx0PT09bikmJiEhZX19KSksYz1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXR1c2VzLndpZGdldEludGVyYWN0aW9uTWV0aG9kSWR9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RhdHVzZXMuaXNXaWRnZXRJbnRlcmFjdGluZ30pLChmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4oIW58fHQ9PT1uKSYmISFlfX0pKTtyZXR1cm4gT2JqZWN0KCRlLm1lbW9pemVPbmUpKChmdW5jdGlvbih1KXtyZXR1cm4gdm9pZCAwPT09dSYmKHU9JHQpLHtnZXRJbml0aWFsaXplRXJyb3I6dCh1KSxnZXRFeGVjdXRlRXJyb3I6ZSh1KSxnZXRGaW5hbGl6ZUVycm9yOm4odSksZ2V0V2lkZ2V0SW50ZXJhY3RpbmdFcnJvcjpyKHUpLGlzSW5pdGlhbGl6aW5nOmkodSksaXNJbml0aWFsaXplZDpvKHUpLGlzRXhlY3V0aW5nOmEodSksaXNGaW5hbGl6aW5nOnModSksaXNXaWRnZXRJbnRlcmFjdGluZzpjKHUpfX0pKX0oKSxldD0odz1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRhdGF9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfX0pKSxPYmplY3QoJGUubWVtb2l6ZU9uZSkoKGZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD1oZSkse2dldENoZWNrb3V0OncodCl9fSkpKSxydD0oQT1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRhdGF9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7aWYodCYmdFswXSlyZXR1cm4gdFswXS5zaGlwcGluZ0FkZHJlc3N9fSkpLE9iamVjdCgkZS5tZW1vaXplT25lKSgoZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PWZlKSx7Z2V0U2hpcHBpbmdBZGRyZXNzOkEodCl9fSkpKSxpdD1mdW5jdGlvbigpe3ZhciB0PU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGF0YX0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSksZT1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVycm9ycy5sb2FkRXJyb3J9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSkpLG49T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGF0dXNlcy5pc0xvYWRpbmd9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuISF0fX0pKTtyZXR1cm4gT2JqZWN0KCRlLm1lbW9pemVPbmUpKChmdW5jdGlvbihyKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9Q2UpLHtnZXRTaGlwcGluZ0NvdW50cmllczp0KHIpLGdldExvYWRFcnJvcjplKHIpLGlzTG9hZGluZzpuKHIpfX0pKX0oKSxvdD1mdW5jdGlvbigpe3ZhciB0PU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzLnVwZGF0ZUFkZHJlc3NNZXRob2RJZH0pLChmdW5jdGlvbih0KXtyZXR1cm4gdC5lcnJvcnMudXBkYXRlQWRkcmVzc0Vycm9yfSksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe2lmKCFufHx0PT09bilyZXR1cm4gZX19KSksZT1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVycm9ycy5zZWxlY3RPcHRpb25NZXRob2RJZH0pLChmdW5jdGlvbih0KXtyZXR1cm4gdC5lcnJvcnMuc2VsZWN0T3B0aW9uRXJyb3J9KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7aWYoIW58fHQ9PT1uKXJldHVybiBlfX0pKSxuPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzLmluaXRpYWxpemVNZXRob2RJZH0pLChmdW5jdGlvbih0KXtyZXR1cm4gdC5lcnJvcnMuaW5pdGlhbGl6ZUVycm9yfSksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe2lmKCFufHx0PT09bilyZXR1cm4gZX19KSkscj1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVycm9ycy53aWRnZXRJbnRlcmFjdGlvbk1ldGhvZElkfSksKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVycm9ycy53aWRnZXRJbnRlcmFjdGlvbkVycm9yfSksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe2lmKCFufHx0PT09bilyZXR1cm4gZX19KSksaT1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXR1c2VzLnVwZGF0ZUFkZHJlc3NNZXRob2RJZH0pLChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGF0dXNlcy5pc1VwZGF0aW5nQWRkcmVzc30pLChmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4oIW58fHQ9PT1uKSYmISFlfX0pKSxvPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RhdHVzZXMuc2VsZWN0T3B0aW9uTWV0aG9kSWR9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RhdHVzZXMuaXNTZWxlY3RpbmdPcHRpb259KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuKCFufHx0PT09bikmJiEhZX19KSksYT1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXR1c2VzLmluaXRpYWxpemVNZXRob2RJZH0pLChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGF0dXNlcy5pc0luaXRpYWxpemluZ30pLChmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4oIW58fHQ9PT1uKSYmISFlfX0pKSxzPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGF0YX0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuISghdFtlXXx8IXRbZV0uaXNJbml0aWFsaXplZCl9fSkpLGM9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGF0dXNlcy53aWRnZXRJbnRlcmFjdGlvbk1ldGhvZElkfSksKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXR1c2VzLmlzV2lkZ2V0SW50ZXJhY3Rpbmd9KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuKCFufHx0PT09bikmJiEhZX19KSk7cmV0dXJuIE9iamVjdCgkZS5tZW1vaXplT25lKSgoZnVuY3Rpb24odSl7cmV0dXJuIHZvaWQgMD09PXUmJih1PUVlKSx7Z2V0VXBkYXRlQWRkcmVzc0Vycm9yOnQodSksZ2V0U2VsZWN0T3B0aW9uRXJyb3I6ZSh1KSxnZXRJbml0aWFsaXplRXJyb3I6bih1KSxnZXRXaWRnZXRJbnRlcmFjdGlvbkVycm9yOnIodSksaXNVcGRhdGluZ0FkZHJlc3M6aSh1KSxpc1NlbGVjdGluZ09wdGlvbjpvKHUpLGlzSW5pdGlhbGl6aW5nOmEodSksaXNJbml0aWFsaXplZDpzKHUpLGlzV2lkZ2V0SW50ZXJhY3Rpbmc6Yyh1KX19KSl9KCksYXQ9ZG4oKSxjdD1mdW5jdGlvbigpe3ZhciB0PU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGF0YX0pLChmdW5jdGlvbih0LGUpe3JldHVybiBlLmJpbGxpbmdBZGRyZXNzLmdldEJpbGxpbmdBZGRyZXNzfSksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUuY2FydC5nZXRDYXJ0fSksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUuY3VzdG9tZXIuZ2V0Q3VzdG9tZXJ9KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5jb25zaWdubWVudHMuZ2V0Q29uc2lnbm1lbnRzfSksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUuY291cG9ucy5nZXRDb3Vwb25zfSksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUuZ2lmdENlcnRpZmljYXRlcy5nZXRHaWZ0Q2VydGlmaWNhdGVzfSksKGZ1bmN0aW9uKHQsZSxuLGksbyxhLHMpe3JldHVybiBmdW5jdGlvbigpe3ZhciBjPWUoKSx1PW4oKSxkPWkoKSxwPW8oKXx8W10saD1hKCl8fFtdLGw9cygpfHxbXTtpZih0JiZ1JiZkKXJldHVybiBPYmplY3Qoci5fX2Fzc2lnbikoT2JqZWN0KHIuX19hc3NpZ24pKHt9LHQpLHtiaWxsaW5nQWRkcmVzczpjLGNhcnQ6dSxjdXN0b21lcjpkLGNvbnNpZ25tZW50czpwLGNvdXBvbnM6aCxnaWZ0Q2VydGlmaWNhdGVzOmx9KX19KSksZT1PYmplY3QoZW4uYSkodCwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5uKHQoKSwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHRuLmIodG4uYS5NaXNzaW5nQ2hlY2tvdXQpfSkpfX0pKSxuPU9iamVjdChlbi5hKSh0LChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49dCgpO2lmKG4pe3ZhciByPW4uZ3JhbmRUb3RhbHx8MCxpPW4uY3VzdG9tZXIuc3RvcmVDcmVkaXR8fDA7cmV0dXJuIGU/TWF0aC5tYXgoci1pLDApOm4ub3V0c3RhbmRpbmdCYWxhbmNlfX19KSksaT1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVycm9ycy5sb2FkRXJyb3J9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSkpLG89T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5lcnJvcnMudXBkYXRlRXJyb3J9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSkpLGE9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGF0dXNlcy5pc0V4ZWN1dGluZ1NwYW1DaGVja30pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4hMD09PXR9fSkpLHM9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGF0dXNlcy5pc0xvYWRpbmd9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuITA9PT10fX0pKSxjPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RhdHVzZXMuaXNVcGRhdGluZ30pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4hMD09PXR9fSkpO3JldHVybiBPYmplY3QoJGUubWVtb2l6ZU9uZSkoKGZ1bmN0aW9uKHIsdSxkLHAsaCxsLG0pe3JldHVybiB2b2lkIDA9PT1yJiYocj1LZSkse2dldENoZWNrb3V0OnQocix7YmlsbGluZ0FkZHJlc3M6dSxjYXJ0OmQsY29uc2lnbm1lbnRzOnAsY291cG9uczpoLGN1c3RvbWVyOmwsZ2lmdENlcnRpZmljYXRlczptfSksZ2V0Q2hlY2tvdXRPclRocm93OmUocix7YmlsbGluZ0FkZHJlc3M6dSxjYXJ0OmQsY29uc2lnbm1lbnRzOnAsY291cG9uczpoLGN1c3RvbWVyOmwsZ2lmdENlcnRpZmljYXRlczptfSksZ2V0T3V0c3RhbmRpbmdCYWxhbmNlOm4ocix7YmlsbGluZ0FkZHJlc3M6dSxjYXJ0OmQsY29uc2lnbm1lbnRzOnAsY291cG9uczpoLGN1c3RvbWVyOmwsZ2lmdENlcnRpZmljYXRlczptfSksZ2V0TG9hZEVycm9yOmkociksZ2V0VXBkYXRlRXJyb3I6byhyKSxpc0V4ZWN1dGluZ1NwYW1DaGVjazphKHIpLGlzTG9hZGluZzpzKHIpLGlzVXBkYXRpbmc6YyhyKX19KSl9KCksdXQ9ZnVuY3Rpb24oKXt2YXIgdD1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRhdGF9KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5iaWxsaW5nQWRkcmVzcy5nZXRCaWxsaW5nQWRkcmVzcygpfSksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUuY291cG9ucy5nZXRDb3Vwb25zKCl9KSwoZnVuY3Rpb24odCxlLG4pe3JldHVybiB2b2lkIDA9PT1uJiYobj1bXSksZnVuY3Rpb24oKXtpZih0JiZlKXJldHVybiBPYmplY3Qoci5fX2Fzc2lnbikoT2JqZWN0KHIuX19hc3NpZ24pKHt9LHQpLHtiaWxsaW5nQWRkcmVzczplLGNvdXBvbnM6bn0pfX0pKSxlPU9iamVjdChlbi5hKSh0LChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbm4odCgpLChmdW5jdGlvbigpe3JldHVybiBuZXcgdG4uYih0bi5hLk1pc3NpbmdPcmRlcil9KSl9fSkpLG49T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5tZXRhfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0pKSxpPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzLmxvYWRFcnJvcn0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSksbz1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiEhdC5zdGF0dXNlcy5pc0xvYWRpbmd9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSkpO3JldHVybiBPYmplY3QoJGUubWVtb2l6ZU9uZSkoKGZ1bmN0aW9uKHIsYSxzKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9THQpLHtnZXRPcmRlcjp0KHIse2JpbGxpbmdBZGRyZXNzOmEsY291cG9uczpzfSksZ2V0T3JkZXJPclRocm93OmUocix7YmlsbGluZ0FkZHJlc3M6YSxjb3Vwb25zOnN9KSxnZXRPcmRlck1ldGE6bihyKSxnZXRMb2FkRXJyb3I6aShyKSxpc0xvYWRpbmc6byhyKX19KSl9KCksZHQ9KEU9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5vcmRlci5nZXRPcmRlck1ldGF9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9dCgpO3JldHVybiBlJiZlLnBheW1lbnR9fSkpLFA9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5vcmRlci5nZXRPcmRlcn0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT10KCk7cmV0dXJuIE9iamVjdChjLmZpbmQpKGUmJmUucGF5bWVudHMsKGZ1bmN0aW9uKHQpe3ZhciBlPXQucHJvdmlkZXJJZDtyZXR1cm5cImdpZnRjZXJ0aWZpY2F0ZVwiIT09ZSYmXCJzdG9yZWNyZWRpdFwiIT09ZX0pKX19KSksaj1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNoZWNrb3V0LmdldENoZWNrb3V0fSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3ZhciBlPXQoKTtyZXR1cm4gT2JqZWN0KGMuZmluZCkoZSYmZS5wYXltZW50cywoZnVuY3Rpb24odCl7cmV0dXJuIHQucHJvdmlkZXJUeXBlPT09YW4uYX0pKX19KSksaz1PYmplY3QoZW4uYSkoRSxqLFAsKGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgcj10KCk7aWYociYmci5pZClyZXR1cm57cHJvdmlkZXJJZDpyLmlkLGdhdGV3YXlJZDpyLmdhdGV3YXl9O3ZhciBpPWUoKXx8bigpO3JldHVybiBpJiZpLnByb3ZpZGVySWQ/e3Byb3ZpZGVySWQ6aS5wcm92aWRlcklkLGdhdGV3YXlJZDppLmdhdGV3YXlJZH06dm9pZCAwfX0pKSxNPU9iamVjdChlbi5hKShFLGosUCwoZnVuY3Rpb24odCxlLG4pe3JldHVybiBmdW5jdGlvbigpe3ZhciByPXQoKTtpZihyJiZyLnN0YXR1cylyZXR1cm4gci5zdGF0dXMucmVwbGFjZShcIlBBWU1FTlRfU1RBVFVTX1wiLFwiXCIpO3ZhciBpPWUoKXx8bigpO3JldHVybiBpP2kuZGV0YWlsLnN0ZXA6dm9pZCAwfX0pKSxUPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQub3JkZXIuZ2V0T3JkZXJNZXRhfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3ZhciBlPXQoKTtyZXR1cm4gZSYmZS50b2tlbn19KSksUj1PYmplY3QoZW4uYSkoRSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9dCgpO3JldHVybiBlJiZlLnJlZGlyZWN0VXJsfX0pKSxEPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuY2hlY2tvdXQuZ2V0T3V0c3RhbmRpbmdCYWxhbmNlfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT0hMSk7dmFyIG49dChlKTtyZXR1cm4hIW4mJm4+MH19KSksej1PYmplY3QoZW4uYSkoTSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiEoIWV8fCFlLm5vbmNlKXx8dCgpPT09c24uYXx8dCgpPT09c24uYn19KSksT2JqZWN0KCRlLm1lbW9pemVPbmUpKChmdW5jdGlvbih0LGUpe3JldHVybntnZXRQYXltZW50SWQ6ayh7Y2hlY2tvdXQ6dCxvcmRlcjplfSksZ2V0UGF5bWVudFN0YXR1czpNKHtjaGVja291dDp0LG9yZGVyOmV9KSxnZXRQYXltZW50VG9rZW46VCh7Y2hlY2tvdXQ6dCxvcmRlcjplfSksZ2V0UGF5bWVudFJlZGlyZWN0VXJsOlIoe2NoZWNrb3V0OnQsb3JkZXI6ZX0pLGlzUGF5bWVudERhdGFSZXF1aXJlZDpEKHtjaGVja291dDp0LG9yZGVyOmV9KSxpc1BheW1lbnREYXRhU3VibWl0dGVkOnooe2NoZWNrb3V0OnQsb3JkZXI6ZX0pfX0pKSkscHQ9ZnVuY3Rpb24oKXt2YXIgdD1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVycm9ycy5hcHBseUVycm9yfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0pKSxlPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuISF0LnN0YXR1c2VzLmlzQXBwbHlpbmd9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSkpO3JldHVybiBPYmplY3QoJGUubWVtb2l6ZU9uZSkoKGZ1bmN0aW9uKG4pe3JldHVybiB2b2lkIDA9PT1uJiYobj1wbikse2dldEFwcGx5RXJyb3I6dChuKSxpc0FwcGx5aW5nOmUobil9fSkpfSgpLGh0PWZ1bmN0aW9uKCl7dmFyIHQ9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5lcnJvcnMudXBkYXRlRXJyb3J9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSkpLGU9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4hIXQuc3RhdHVzZXMuaXNVcGRhdGluZ30pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSk7cmV0dXJuIE9iamVjdCgkZS5tZW1vaXplT25lKSgoZnVuY3Rpb24obil7cmV0dXJuIHZvaWQgMD09PW4mJihuPUdlKSx7Z2V0VXBkYXRlRXJyb3I6dChuKSxpc1VwZGF0aW5nOmUobil9fSkpfSgpLG10PShOPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGF0YX0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSksRj1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVycm9ycy5zZW5kRXJyb3J9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSkpLHE9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4hIXQuc3RhdHVzZXMuaXNTZW5kaW5nfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0pKSxPYmplY3QoJGUubWVtb2l6ZU9uZSkoKGZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD1SZSkse2dldEVtYWlsOk4odCksZ2V0U2VuZEVycm9yOkYodCksaXNTZW5kaW5nOnEodCl9fSkpKTtyZXR1cm4gZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT17fSk7dmFyIG4scj1VKHQuYmlsbGluZ0FkZHJlc3MpLGk9eCh0LmNhcnQpLG89Ryh0LmNoZWNrb3V0QnV0dG9uKSxhPVkodC5jb3VudHJpZXMpLHM9SCh0LmNvdXBvbnMpLGM9Vyh0LmN1c3RvbWVyKSx1PUsodC5jdXN0b21lclN0cmF0ZWdpZXMpLGQ9WCh0LmZvcm1GaWVsZHMpLHA9Sih0LmdpZnRDZXJ0aWZpY2F0ZXMpLGg9Wih0Lmluc3RydW1lbnRzKSxsPSQodC5wYXltZW50TWV0aG9kcyksbT10dCh0LnBheW1lbnRTdHJhdGVnaWVzKSxmPWV0KHQucmVtb3RlQ2hlY2tvdXQpLF89cnQodC5jb25zaWdubWVudHMpLHk9aXQodC5zaGlwcGluZ0NvdW50cmllcyksZz1vdCh0LnNoaXBwaW5nU3RyYXRlZ2llcyksYj1odCh0LnN1YnNjcmlwdGlvbnMpLHY9cHQodC5zdG9yZUNyZWRpdCksQz1tdCh0LnNpZ25JbkVtYWlsKSxPPWF0KHQuY29uc2lnbm1lbnRzLGkpLFM9Y3QodC5jaGVja291dCxyLGksTyxzLGMscCksdz11dCh0Lm9yZGVyLHIscyksST1kdChTLHcpLEE9e2JpbGxpbmdBZGRyZXNzOnIsY2FydDppLGNoZWNrb3V0OlMsY2hlY2tvdXRCdXR0b246byxjb25maWc6Vih0LmNvbmZpZyx0LmZvcm1GaWVsZHMpLGNvbnNpZ25tZW50czpPLGNvdW50cmllczphLGNvdXBvbnM6cyxjdXN0b21lcjpjLGN1c3RvbWVyU3RyYXRlZ2llczp1LGZvcm06ZCxnaWZ0Q2VydGlmaWNhdGVzOnAsaW5zdHJ1bWVudHM6aCxvcmRlcjp3LHBheW1lbnQ6SSxwYXltZW50TWV0aG9kczpsLHBheW1lbnRTdHJhdGVnaWVzOm0scmVtb3RlQ2hlY2tvdXQ6ZixzaGlwcGluZ0FkZHJlc3M6XyxzaGlwcGluZ0NvdW50cmllczp5LHNoaXBwaW5nU3RyYXRlZ2llczpnLHNpZ25JbkVtYWlsOkMsc3Vic2NyaXB0aW9uczpiLHN0b3JlQ3JlZGl0OnZ9O3JldHVybiBlLnNob3VsZFdhcm5NdXRhdGlvbj8obj1BLE9iamVjdC5rZXlzKG4pLnJlZHVjZSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdFtlXT1ybihuW2VdKSx0fSkse30pKTpBfX1mdW5jdGlvbiBsbih0LGUpe3ZvaWQgMD09PXQmJih0PXt9KTt2YXIgbixhLGM9KGE9bmV3IGgsW1wiY2F0YWxvZ19vbmx5XCIsXCJlbXB0eV9jYXJ0XCIsXCJpbnZhbGlkX29yZGVyX2lkXCIsXCJpbnZhbGlkX29yZGVyX3Rva2VuXCIsXCJtaXNzaW5nX29yZGVyX3Rva2VuXCIsXCJtaXNzaW5nX3Byb3ZpZGVyX3Rva2VuXCIsXCJtaXNzaW5nX3NoaXBwaW5nX21ldGhvZFwiLFwib3JkZXJfY29tcGxldGlvbl9lcnJvclwiLFwib3JkZXJfY291bGRfbm90X2JlX2ZpbmFsaXplZF9lcnJvclwiLFwib3JkZXJfY3JlYXRlX2ZhaWxlZFwiLFwicHJvdmlkZXJfZmF0YWxfZXJyb3JcIixcInByb3ZpZGVyX3NldHVwX2Vycm9yXCIsXCJzdG9ja190b29fbG93XCJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe2EucmVnaXN0ZXIodCwoZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IHModCxlKX0pKX0pKSxhLnJlZ2lzdGVyKFwiaW52YWxpZF9wYXltZW50X3Byb3ZpZGVyXCIsKGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgby5hKHQpfSkpLGEucmVnaXN0ZXIoXCJwYXltZW50X2NvbmZpZ19ub3RfZm91bmRcIiwoZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBvLmEodCl9KSksbj1hLGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QobC5mcm9tKSh0KS5waXBlKE9iamVjdChtLmNhdGNoRXJyb3IpKChmdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgRXJyb3J8fHQucGF5bG9hZCBpbnN0YW5jZW9mIEVycm9yKXRocm93IHQ7aWYoKGk9dC5wYXlsb2FkKSYmXCJvYmplY3RcIj09dHlwZW9mIGkmJltcImJvZHlcIixcImhlYWRlcnNcIixcInN0YXR1c1wiLFwic3RhdHVzVGV4dFwiXS5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIGkuaGFzT3duUHJvcGVydHkodCl9KSkpe3ZhciBlPXQucGF5bG9hZC5ib2R5JiZ0LnBheWxvYWQuYm9keS5kZXRhaWw7dGhyb3cgT2JqZWN0KHIuX19hc3NpZ24pKE9iamVjdChyLl9fYXNzaWduKSh7fSx0KSx7cGF5bG9hZDpuLmNyZWF0ZUVycm9yKHQucGF5bG9hZCxlKX0pfXZhciBpO3Rocm93IHR9KSkpfSksdT1obigpO3JldHVybiBPYmplY3QoaS5jcmVhdGVEYXRhU3RvcmUpKE9iamVjdChpLmNvbWJpbmVSZWR1Y2Vycykoe2JpbGxpbmdBZGRyZXNzOkEsY2FydDpOLGNoZWNrb3V0OkplLGNoZWNrb3V0QnV0dG9uOkgsY29uZmlnOlgsY29uc2lnbm1lbnRzOl9lLGNvdW50cmllczpUdCxjb3Vwb25zOnJ0LGN1c3RvbWVyOm10LGN1c3RvbWVyU3RyYXRlZ2llczp2dCxmb3JtRmllbGRzOkF0LGdpZnRDZXJ0aWZpY2F0ZXM6Y3QsaW5zdHJ1bWVudHM6YWUsb3JkZXI6TnQscGF5bWVudDpHdCxwYXltZW50TWV0aG9kczpXdCxwYXltZW50U3RyYXRlZ2llczp0ZSxyZW1vdGVDaGVja291dDpsZSxzaGlwcGluZ0NvdW50cmllczpPZSxzaGlwcGluZ1N0cmF0ZWdpZXM6UGUsc2lnbkluRW1haWw6RGUsc3Vic2NyaXB0aW9uczpWZSxzdG9yZUNyZWRpdDpVZX0pLHQsT2JqZWN0KHIuX19hc3NpZ24pKHthY3Rpb25UcmFuc2Zvcm1lcjpjLHN0YXRlVHJhbnNmb3JtZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHUodCl9fSxlKSl9bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGxufSkpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigzMSksaT1uKDExMyksbz1uKDkwKSxhPW4oMCkscz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzLGUse21lc3NhZ2U6ZS5ib2R5LnRpdGxlfSl8fHRoaXM7cmV0dXJuIG4ubmFtZT1cIkNoZWNrb3V0Tm90QXZhaWxhYmxlRXJyb3JcIixuLnR5cGU9XCJjaGVja291dF9ub3RfYXZhaWxhYmxlXCIsbn1yZXR1cm4gT2JqZWN0KGEuX19leHRlbmRzKShlLHQpLGV9KG4oMzcpLmEpLGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3JlcXVlc3RTZW5kZXI9dH1yZXR1cm4gdC5wcm90b3R5cGUubG9hZENoZWNrb3V0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dm9pZCAwPT09ZT97fTplLGE9bi5wYXJhbXMsYz0odm9pZCAwPT09YT97fTphKS5pbmNsdWRlLHU9bi50aW1lb3V0LGQ9XCIvYXBpL3N0b3JlZnJvbnQvY2hlY2tvdXQvXCIrdCxwPXtBY2NlcHQ6ci5hLkpzb25WMX07cmV0dXJuIHRoaXMuX3JlcXVlc3RTZW5kZXIuZ2V0KGQse3BhcmFtczp7aW5jbHVkZTpPYmplY3QoaS5hKShvLmEsYyl9LGhlYWRlcnM6cCx0aW1lb3V0OnV9KS5jYXRjaCgoZnVuY3Rpb24odCl7aWYodC5zdGF0dXM+PTQwMCYmdC5zdGF0dXM8NTAwKXRocm93IG5ldyBzKHQpO3Rocm93IHR9KSl9LHQucHJvdG90eXBlLnVwZGF0ZUNoZWNrb3V0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgYT12b2lkIDA9PT1uP3t9Om4scz1hLnBhcmFtcyxjPSh2b2lkIDA9PT1zP3t9OnMpLmluY2x1ZGUsdT1hLnRpbWVvdXQsZD1cIi9hcGkvc3RvcmVmcm9udC9jaGVja291dC9cIit0LHA9e0FjY2VwdDpyLmEuSnNvblYxfTtyZXR1cm4gdGhpcy5fcmVxdWVzdFNlbmRlci5wdXQoZCx7cGFyYW1zOntpbmNsdWRlOk9iamVjdChpLmEpKG8uYSxjKX0sYm9keTplLGhlYWRlcnM6cCx0aW1lb3V0OnV9KX0sdH0oKTtlLmE9Y30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiByfSkpLGZ1bmN0aW9uKHQpe3QuQXZhaWxhYmxlU2hpcHBpbmdPcHRpb25zPVwiY29uc2lnbm1lbnRzLmF2YWlsYWJsZVNoaXBwaW5nT3B0aW9uc1wiLHQuUGh5c2ljYWxJdGVtc0NhdGVnb3J5TmFtZXM9XCJjYXJ0LmxpbmVJdGVtcy5waHlzaWNhbEl0ZW1zLmNhdGVnb3J5TmFtZXNcIix0LkRpZ2l0YWxJdGVtc0NhdGVnb3J5TmFtZXM9XCJjYXJ0LmxpbmVJdGVtcy5kaWdpdGFsSXRlbXMuY2F0ZWdvcnlOYW1lc1wifShyfHwocj17fSkpfSwsLCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm57Y29kZTp0LmNvZGUsZGlzY291bnRlZEFtb3VudDp0LnVzZWQscmVtYWluaW5nQmFsYW5jZTp0LnJlbWFpbmluZyxnaWZ0Q2VydGlmaWNhdGU6e2JhbGFuY2U6dC5iYWxhbmNlLGNvZGU6dC5jb2RlLHB1cmNoYXNlRGF0ZTp0LnB1cmNoYXNlRGF0ZX19fW4uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiByfSkpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigzKSxpPW4oOCksbz1uKDgyKSxhPW4oNTYpLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fdGFyZ2V0V2luZG93PWUsdGhpcy5fdGFyZ2V0T3JpZ2luPVwiKlwiPT09dD9cIipcIjpPYmplY3Qoby5hKSh0KS5vcmlnaW59cmV0dXJuIHQucHJvdG90eXBlLnBvc3Q9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO2lmKHdpbmRvdyE9PXRoaXMuX3RhcmdldFdpbmRvdyl7aWYoIXRoaXMuX3RhcmdldFdpbmRvdyl0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gcG9zdCBtZXNzYWdlIGJlY2F1c2UgdGFyZ2V0IHdpbmRvdyBpcyBub3Qgc2V0LlwiKTt2YXIgbz1lJiZPYmplY3Qoci5mcm9tRXZlbnQpKHdpbmRvdyxcIm1lc3NhZ2VcIikucGlwZShPYmplY3QoaS5maWx0ZXIpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5vcmlnaW49PT1uLl90YXJnZXRPcmlnaW4mJk9iamVjdChhLmEpKHQuZGF0YSx0LmRhdGEudHlwZSkmJi0xIT09W2Uuc3VjY2Vzc1R5cGUsZS5lcnJvclR5cGVdLmluZGV4T2YodC5kYXRhLnR5cGUpfSkpLE9iamVjdChpLm1hcCkoKGZ1bmN0aW9uKHQpe2lmKGUuZXJyb3JUeXBlPT09dC5kYXRhLnR5cGUpdGhyb3cgdC5kYXRhO3JldHVybiB0LmRhdGF9KSksT2JqZWN0KGkudGFrZSkoMSkpLnRvUHJvbWlzZSgpO3JldHVybiB0aGlzLl90YXJnZXRXaW5kb3cucG9zdE1lc3NhZ2UodCx0aGlzLl90YXJnZXRPcmlnaW4pLG99fSx0LnByb3RvdHlwZS5zZXRUYXJnZXQ9ZnVuY3Rpb24odCl7dGhpcy5fdGFyZ2V0V2luZG93PXR9LHR9KCk7ZS5hPXN9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDApLGk9big4Miksbz1uKDk4KSxhPW4oNTYpLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3NvdXJjZU9yaWdpbj1PYmplY3QoaS5hKSh0KS5vcmlnaW4sdGhpcy5faXNMaXN0ZW5pbmc9ITEsdGhpcy5fbGlzdGVuZXJzPXt9fXJldHVybiB0LnByb3RvdHlwZS5saXN0ZW49ZnVuY3Rpb24oKXt0aGlzLl9pc0xpc3RlbmluZ3x8KHRoaXMuX2lzTGlzdGVuaW5nPSEwLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHRoaXMuX2hhbmRsZU1lc3NhZ2UpKX0sdC5wcm90b3R5cGUuc3RvcExpc3Rlbj1mdW5jdGlvbigpe3RoaXMuX2lzTGlzdGVuaW5nJiYodGhpcy5faXNMaXN0ZW5pbmc9ITEsd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsdGhpcy5faGFuZGxlTWVzc2FnZSkpfSx0LnByb3RvdHlwZS5hZGRMaXN0ZW5lcj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2xpc3RlbmVyc1t0XTtufHwodGhpcy5fbGlzdGVuZXJzW3RdPW49W10pLC0xPT09bi5pbmRleE9mKGUpJiZuLnB1c2goZSl9LHQucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fbGlzdGVuZXJzW3RdO2lmKG4pe3ZhciByPW4uaW5kZXhPZihlKTtyPj0wJiZuLnNwbGljZShyLDEpfX0sdC5wcm90b3R5cGUudHJpZ2dlcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9saXN0ZW5lcnNbdC50eXBlXTtlJiZlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlKHQpfSkpfSx0LnByb3RvdHlwZS5faGFuZGxlTWVzc2FnZT1mdW5jdGlvbih0KXt0Lm9yaWdpbj09PXRoaXMuX3NvdXJjZU9yaWdpbiYmT2JqZWN0KGEuYSkodC5kYXRhLHQuZGF0YS50eXBlKSYmdGhpcy50cmlnZ2VyKHQuZGF0YSl9LE9iamVjdChyLl9fZGVjb3JhdGUpKFtvLmFdLHQucHJvdG90eXBlLFwiX2hhbmRsZU1lc3NhZ2VcIixudWxsKSx0fSgpO2UuYT1zfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big3MyksaT1uKDQ3KSxvPW4oMTM3KSxhPW4oODgpLHM9big4OSksYz1uKDApO3ZhciB1PW4oMiksZD1uKDUyKTt2YXIgcD1uKDk4KSxoPW4oNSksbD1uKDE0OSksbT1uKDcyKSxmPW4oMTM2KTtmdW5jdGlvbiBfKHQpe3ZhciBlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBPYmplY3QoYy5fX2V4dGVuZHMpKGUsdCksZX0odCk7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQucHJvdG90eXBlKS5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQucHJvdG90eXBlLG4pO3ImJlwiY29uc3RydWN0b3JcIiE9PW4mJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxuLGZ1bmN0aW9uKHQsZSxuKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBuLnZhbHVlKXJldHVybiBuO3ZhciByPW5ldyBsLmEsaT1uLnZhbHVlLG89T2JqZWN0KGgubWVtb2l6ZSkoaSk7cmV0dXJuIE9iamVjdChwLmEpKHQsZSx7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxhPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLG49MDtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWVbbl09YXJndW1lbnRzW25dO3ZhciBhPW8uY2FsbC5hcHBseShvLE9iamVjdChjLl9fc3ByZWFkQXJyYXlzKShbdF0sZSkpO2lmKDE9PT1yLmdldFVzZWRDb3VudC5hcHBseShyLGUpKXJldHVybiBhO3ZhciBzPWkuY2FsbC5hcHBseShpLE9iamVjdChjLl9fc3ByZWFkQXJyYXlzKShbdF0sZSkpO3JldHVybiBPYmplY3QobS5hKShzLGEse2tleUZpbHRlcjpmdW5jdGlvbih0KXtyZXR1cm4hT2JqZWN0KGYuYSkodCl9fSk/YTooby5jYWNoZS5zZXQoci5nZXRLZXkuYXBwbHkocixlKSxzKSxzKX07cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLGUsT2JqZWN0KGMuX19hc3NpZ24pKE9iamVjdChjLl9fYXNzaWduKSh7fSxuKSx7dmFsdWU6YX0pKSxhfSxzZXQ6ZnVuY3Rpb24odCl7cj1uZXcgbC5hLGk9dCxvPU9iamVjdChoLm1lbW9pemUpKGkpfX0pfSh0LnByb3RvdHlwZSxuLHIpKX0pKSxlfXZhciB5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9jaGVja291dEJ1dHRvbj10LmNoZWNrb3V0QnV0dG9ufXJldHVybiB0LnByb3RvdHlwZS5nZXRJbml0aWFsaXplQnV0dG9uRXJyb3I9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NoZWNrb3V0QnV0dG9uLmdldEluaXRpYWxpemVFcnJvcih0KX0sdC5wcm90b3R5cGUuZ2V0RGVpbml0aWFsaXplQnV0dG9uRXJyb3I9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NoZWNrb3V0QnV0dG9uLmdldERlaW5pdGlhbGl6ZUVycm9yKHQpfSx0PU9iamVjdChjLl9fZGVjb3JhdGUpKFtfXSx0KX0oKSxnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9jaGVja291dEJ1dHRvbj10LmNoZWNrb3V0QnV0dG9ufXJldHVybiB0LnByb3RvdHlwZS5pc0luaXRpYWxpemluZ0J1dHRvbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY2hlY2tvdXRCdXR0b24uaXNJbml0aWFsaXppbmcodCl9LHQucHJvdG90eXBlLmlzRGVpbml0aWFsaXppbmdCdXR0b249ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NoZWNrb3V0QnV0dG9uLmlzRGVpbml0aWFsaXppbmcodCl9LHQ9T2JqZWN0KGMuX19kZWNvcmF0ZSkoW19dLHQpfSgpO2Z1bmN0aW9uIGIodCl7cmV0dXJue2Vycm9yczpuZXcgeSh0KSxzdGF0dXNlczpuZXcgZyh0KX19dmFyIHYsQz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt2YXIgbj10aGlzO3RoaXMuX3N0b3JlPXQsdGhpcy5fYnV0dG9uU3RyYXRlZ3lBY3Rpb25DcmVhdG9yPWUsdGhpcy5fc3RhdGU9Yih0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpKSx0aGlzLl9zdG9yZS5zdWJzY3JpYmUoKGZ1bmN0aW9uKHQpe24uX3N0YXRlPWIodCl9KSl9cmV0dXJuIHQucHJvdG90eXBlLmdldFN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXRlfSx0LnByb3RvdHlwZS5zdWJzY3JpYmU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49dGhpcyxyPVtdLGk9MTtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXJbaS0xXT1hcmd1bWVudHNbaV07cmV0dXJuKGU9dGhpcy5fc3RvcmUpLnN1YnNjcmliZS5hcHBseShlLE9iamVjdChjLl9fc3ByZWFkQXJyYXlzKShbZnVuY3Rpb24oKXtyZXR1cm4gdChuLmdldFN0YXRlKCkpfSxmdW5jdGlvbih0KXtyZXR1cm4gdC5jaGVja291dEJ1dHRvbi5nZXRTdGF0ZSgpfV0sci5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdChiKGUpKX19KSkpKX0sdC5wcm90b3R5cGUuaW5pdGlhbGl6ZUJ1dHRvbj1mdW5jdGlvbih0KXt2YXIgZSxuPXRoaXMscj0oZT10LmNvbnRhaW5lcklkLC9eXFx3W1xcd1xcLVxcOlxcLl0qJC8udGVzdChlKT9bdC5jb250YWluZXJJZF06ZnVuY3Rpb24odCxlKXt2YXIgbj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHQpO2lmKCFuLmxlbmd0aCl0aHJvdyBuZXcgZC5hKFwiVW5hYmxlIHRvIGZpbmQgYW55IGVsZW1lbnQgd2l0aCB0aGUgc3BlY2lmaWVkIHNlbGVjdG9yOiBcIit0KTtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwobikubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pZHx8KHQuaWQ9T2JqZWN0KHUudW5pcXVlSWQpKGUpKSx0LmlkfSkpfSh0LmNvbnRhaW5lcklkLHQubWV0aG9kSWQrXCItY29udGFpbmVyXCIpKTtyZXR1cm4gUHJvbWlzZS5hbGwoci5tYXAoKGZ1bmN0aW9uKGUpe3ZhciByPW4uX2J1dHRvblN0cmF0ZWd5QWN0aW9uQ3JlYXRvci5pbml0aWFsaXplKE9iamVjdChjLl9fYXNzaWduKShPYmplY3QoYy5fX2Fzc2lnbikoe30sdCkse2NvbnRhaW5lcklkOmV9KSksaT1cImNoZWNrb3V0QnV0dG9uU3RyYXRlZ3k6XCIrdC5tZXRob2RJZCtcIjpcIitlO3JldHVybiBuLl9zdG9yZS5kaXNwYXRjaChyLHtxdWV1ZUlkOml9KX0pKSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gbi5nZXRTdGF0ZSgpfSkpfSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemVCdXR0b249ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRoaXMuX2J1dHRvblN0cmF0ZWd5QWN0aW9uQ3JlYXRvci5kZWluaXRpYWxpemUodCkscj1cImNoZWNrb3V0QnV0dG9uU3RyYXRlZ3k6XCIrdC5tZXRob2RJZDtyZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2gobix7cXVldWVJZDpyfSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gZS5nZXRTdGF0ZSgpfSkpfSx0PU9iamVjdChjLl9fZGVjb3JhdGUpKFtwLmFdLHQpfSgpLE89bigxKSxTPW4oMyksdz1uKDgpLEk9big5MSksQT1uKDIxKSxFPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuX3JlZ2lzdHJ5PXQsdGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3I9ZX1yZXR1cm4gdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbihuKXt2YXIgcj17bWV0aG9kSWQ6dC5tZXRob2RJZCxjb250YWluZXJJZDp0LmNvbnRhaW5lcklkfTtyZXR1cm4gbi5nZXRTdGF0ZSgpLmNoZWNrb3V0QnV0dG9uLmlzSW5pdGlhbGl6ZWQodC5tZXRob2RJZCx0LmNvbnRhaW5lcklkKT9PYmplY3QoUy5lbXB0eSkoKTpPYmplY3QoUy5jb25jYXQpKE9iamVjdChTLm9mKShPYmplY3QoTy5jcmVhdGVBY3Rpb24pKEEuYS5Jbml0aWFsaXplQnV0dG9uUmVxdWVzdGVkLHZvaWQgMCxyKSksZS5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3IubG9hZFBheW1lbnRNZXRob2QodC5tZXRob2RJZCx7dGltZW91dDp0LnRpbWVvdXQsdXNlQ2FjaGU6ITB9KSxPYmplY3QoUy5kZWZlcikoKGZ1bmN0aW9uKCl7cmV0dXJuIGUuX3JlZ2lzdHJ5LmdldCh0Lm1ldGhvZElkKS5pbml0aWFsaXplKHQpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChPLmNyZWF0ZUFjdGlvbikoQS5hLkluaXRpYWxpemVCdXR0b25TdWNjZWVkZWQsdm9pZCAwLHIpfSkpfSkpKS5waXBlKE9iamVjdCh3LmNhdGNoRXJyb3IpKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KEkuYSkoQS5hLkluaXRpYWxpemVCdXR0b25GYWlsZWQsdCxyKX0pKSl9fSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24obil7dmFyIHI9e21ldGhvZElkOnQubWV0aG9kSWR9O3JldHVybiBuLmdldFN0YXRlKCkuY2hlY2tvdXRCdXR0b24uaXNJbml0aWFsaXplZCh0Lm1ldGhvZElkKT9PYmplY3QoUy5jb25jYXQpKE9iamVjdChTLm9mKShPYmplY3QoTy5jcmVhdGVBY3Rpb24pKEEuYS5EZWluaXRpYWxpemVCdXR0b25SZXF1ZXN0ZWQsdm9pZCAwLHIpKSxPYmplY3QoUy5kZWZlcikoKGZ1bmN0aW9uKCl7cmV0dXJuIGUuX3JlZ2lzdHJ5LmdldCh0Lm1ldGhvZElkKS5kZWluaXRpYWxpemUoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBPYmplY3QoTy5jcmVhdGVBY3Rpb24pKEEuYS5EZWluaXRpYWxpemVCdXR0b25TdWNjZWVkZWQsdm9pZCAwLHIpfSkpfSkpKS5waXBlKE9iamVjdCh3LmNhdGNoRXJyb3IpKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KEkuYSkoQS5hLkRlaW5pdGlhbGl6ZUJ1dHRvbkZhaWxlZCx0LHIpfSkpKTpPYmplY3QoUy5lbXB0eSkoKX19LHR9KCksUD1uKDMzKSxqPW4oMTMwKSxrPW4oMTM4KSxNPW4oMTc5KSxUPW4oMTczKSxSPW4oMTc0KSxEPW4oMTc2KSx6PW4oMTc3KSxMPW4oMTk4KSxOPW4oMTA2KSxGPW4oMTA1KSxxPW4oMTk5KSxVPW4oMTgyKSx4PW4oMTg0KSxCPW4oMTg1KSxHPW4oMTg2KSxWPW4oMTg3KSxZPW4oMTgzKSxIPW4oMTkwKSxXPW4oMTk3KTshZnVuY3Rpb24odCl7dC5BTUFaT05fUEFZX1YyPVwiYW1hem9ucGF5XCIsdC5CUkFJTlRSRUVfUEFZUEFMPVwiYnJhaW50cmVlcGF5cGFsXCIsdC5CUkFJTlRSRUVfUEFZUEFMX0NSRURJVD1cImJyYWludHJlZXBheXBhbGNyZWRpdFwiLHQuR09PR0xFUEFZX0FEWUVOVjI9XCJnb29nbGVwYXlhZHllbnYyXCIsdC5HT09HTEVQQVlfQVVUSE9SSVpFTkVUPVwiZ29vZ2xlcGF5YXV0aG9yaXplbmV0XCIsdC5HT09HTEVQQVlfQlJBSU5UUkVFPVwiZ29vZ2xlcGF5YnJhaW50cmVlXCIsdC5HT09HTEVQQVlfQ0hFQ0tPVVRDT009XCJnb29nbGVwYXljaGVja291dGNvbVwiLHQuR09PR0xFUEFZX1NUUklQRT1cImdvb2dsZXBheXN0cmlwZVwiLHQuTUFTVEVSUEFTUz1cIm1hc3RlcnBhc3NcIix0LlBBWVBBTEVYUFJFU1M9XCJwYXlwYWxleHByZXNzXCIsdC5QQVlQQUxDT01NRVJDRT1cInBheXBhbGNvbW1lcmNlXCJ9KHZ8fCh2PXt9KSk7dmFyIEs9dixKPW4oMTIpLFo9bigxMDQpLFE9bigyMDMpLFg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt0aGlzLl9zdG9yZT10LHRoaXMuX2NoZWNrb3V0QWN0aW9uQ3JlYXRvcj1lLHRoaXMuX2FtYXpvblBheVYyUGF5bWVudFByb2Nlc3Nvcj1ufXJldHVybiB0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoYy5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSxuLHIsaSxvO3JldHVybiBPYmplY3QoYy5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24oYSl7c3dpdGNoKGEubGFiZWwpe2Nhc2UgMDppZihlPXQuY29udGFpbmVySWQsbj10Lm1ldGhvZElkLHI9dC5hbWF6b25wYXksIWV8fCFuKXRocm93IG5ldyBkLmEoJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgXCJjb250YWluZXJJZFwiIG9yIFwibWV0aG9kSWRcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuJyk7cmV0dXJuIGk9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKS5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyhuKSxbNCx0aGlzLl9hbWF6b25QYXlWMlBheW1lbnRQcm9jZXNzb3IuaW5pdGlhbGl6ZShpKV07Y2FzZSAxOnJldHVybiBhLnNlbnQoKSxvPXRoaXMsWzQsdGhpcy5fY3JlYXRlU2lnbkluQnV0dG9uKGUsaSxyKV07Y2FzZSAyOnJldHVybiBvLl93YWxsZXRCdXR0b249YS5zZW50KCksWzJdfX0pKX0pKX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dhbGxldEJ1dHRvbiYmdGhpcy5fd2FsbGV0QnV0dG9uLnBhcmVudE5vZGUmJih0aGlzLl93YWxsZXRCdXR0b24ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl93YWxsZXRCdXR0b24pLHRoaXMuX3dhbGxldEJ1dHRvbj12b2lkIDApLFByb21pc2UucmVzb2x2ZSgpfSx0LnByb3RvdHlwZS5fY3JlYXRlU2lnbkluQnV0dG9uPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gT2JqZWN0KGMuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHIsaSxvO3JldHVybiBPYmplY3QoYy5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24oYSl7c3dpdGNoKGEubGFiZWwpe2Nhc2UgMDppZighKHI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodCkpKXRocm93IG5ldyBkLmEoXCJVbmFibGUgdG8gY3JlYXRlIHNpZ24taW4gYnV0dG9uIHdpdGhvdXQgdmFsaWQgY29udGFpbmVyIElELlwiKTtyZXR1cm4gbnVsbD09bj9bMywxXToobz1uLFszLDNdKTtjYXNlIDE6cmV0dXJuWzQsdGhpcy5fZ2V0QW1hem9uUGF5VjJCdXR0b25PcHRpb25zKGUpXTtjYXNlIDI6bz1hLnNlbnQoKSxhLmxhYmVsPTM7Y2FzZSAzOnJldHVybiBpPW8sdGhpcy5fYW1hem9uUGF5VjJQYXltZW50UHJvY2Vzc29yLmNyZWF0ZUJ1dHRvbihcIiNcIit0LGkpLFsyLHJdfX0pKX0pKX0sdC5wcm90b3R5cGUuX2dldEFtYXpvblBheVYyQnV0dG9uT3B0aW9ucz1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KGMuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGUsbixyLGksbyxhLHMsdSxkLHAsaDtyZXR1cm4gT2JqZWN0KGMuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKGMpe3N3aXRjaChjLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fY2hlY2tvdXRBY3Rpb25DcmVhdG9yLmxvYWREZWZhdWx0Q2hlY2tvdXQoKSldO2Nhc2UgMTppZihlPWMuc2VudCgpLG49ZS5jYXJ0LmdldENhcnQoKSxyPWUuY29uZmlnLmdldFN0b3JlQ29uZmlnT3JUaHJvdygpLnN0b3JlUHJvZmlsZS5zaG9wUGF0aCxpPXQuY29uZmlnLG89aS5tZXJjaGFudElkLGE9aS50ZXN0TW9kZSxzPXQuaW5pdGlhbGl6YXRpb25EYXRhLHU9cy5jaGVja291dExhbmd1YWdlLGQ9cy5sZWRnZXJDdXJyZW5jeSxwPXMuY2hlY2tvdXRTZXNzaW9uTWV0aG9kLGg9cy5leHRyYWN0QW1hem9uQ2hlY2tvdXRTZXNzaW9uSWQsIW98fCFkfHwhcil0aHJvdyBuZXcgSi5iKEouYS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7cmV0dXJuWzIse21lcmNoYW50SWQ6byxjcmVhdGVDaGVja291dFNlc3Npb246e3VybDpyK1wiL3JlbW90ZS1jaGVja291dC9cIit0LmlkK1wiL3BheW1lbnQtc2Vzc2lvblwiLG1ldGhvZDpwLGV4dHJhY3RBbWF6b25DaGVja291dFNlc3Npb25JZDpofSxzYW5kYm94OiEhYSxsZWRnZXJDdXJyZW5jeTpkLGNoZWNrb3V0TGFuZ3VhZ2U6dSxwcm9kdWN0VHlwZTpuJiYwPT09T2JqZWN0KFEuYSkobik/Wi5hLlBheU9ubHk6Wi5hLlBheUFuZFNoaXAscGxhY2VtZW50OlouYi5DYXJ0fV19fSkpfSkpfSx0fSgpLCQ9bigxMTIpLHR0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyLGksbyl7dm9pZCAwPT09byYmKG89ITEpLHRoaXMuX3N0b3JlPXQsdGhpcy5fY2hlY2tvdXRBY3Rpb25DcmVhdG9yPWUsdGhpcy5fYnJhaW50cmVlU0RLQ3JlYXRvcj1uLHRoaXMuX3BheXBhbFNjcmlwdExvYWRlcj1yLHRoaXMuX2Zvcm1Qb3N0ZXI9aSx0aGlzLl9vZmZlckNyZWRpdD1vfXJldHVybiB0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj0odGhpcy5fb2ZmZXJDcmVkaXQ/dC5icmFpbnRyZWVwYXlwYWxjcmVkaXQ6dC5icmFpbnRyZWVwYXlwYWwpfHx7fSxyPXRoaXMuX3N0b3JlLmdldFN0YXRlKCksaT10aGlzLl9wYXltZW50TWV0aG9kPXIucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZCh0Lm1ldGhvZElkKTtpZighaXx8IWkuY2xpZW50VG9rZW4pdGhyb3cgbmV3IEouYihKLmEuTWlzc2luZ1BheW1lbnRNZXRob2QpO3JldHVybiB0aGlzLl9icmFpbnRyZWVTREtDcmVhdG9yLmluaXRpYWxpemUoaS5jbGllbnRUb2tlbiksUHJvbWlzZS5hbGwoW3RoaXMuX2JyYWludHJlZVNES0NyZWF0b3IuZ2V0UGF5cGFsQ2hlY2tvdXQoKSx0aGlzLl9wYXlwYWxTY3JpcHRMb2FkZXIubG9hZFBheXBhbCgpXSkudGhlbigoZnVuY3Rpb24ocil7dmFyIG89clswXSxhPXJbMV07ZS5fcGF5cGFsQ2hlY2tvdXQ9bzt2YXIgcz1bXSxkPVtdO3JldHVybiBuLmFsbG93Q3JlZGl0P3MucHVzaChhLkZVTkRJTkcuQ1JFRElUKTpkLnB1c2goYS5GVU5ESU5HLkNSRURJVCksYS5CdXR0b24ucmVuZGVyKHtlbnY6aS5jb25maWcudGVzdE1vZGU/XCJzYW5kYm94XCI6XCJwcm9kdWN0aW9uXCIsY29tbWl0OiEhbi5zaG91bGRQcm9jZXNzUGF5bWVudCxmdW5kaW5nOnthbGxvd2VkOnMsZGlzYWxsb3dlZDpkfSxzdHlsZTpPYmplY3QoYy5fX2Fzc2lnbikoe3NoYXBlOlwicmVjdFwiLGxhYmVsOmUuX29mZmVyQ3JlZGl0P1wiY3JlZGl0XCI6dm9pZCAwfSxPYmplY3QodS5waWNrKShuLnN0eWxlLFwibGF5b3V0XCIsXCJzaXplXCIsXCJjb2xvclwiLFwibGFiZWxcIixcInNoYXBlXCIsXCJ0YWdsaW5lXCIsXCJmdW5kaW5naWNvbnNcIikpLHBheW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5fc2V0dXBQYXltZW50KG4uc2hpcHBpbmdBZGRyZXNzLG4ub25QYXltZW50RXJyb3IpfSxvbkF1dGhvcml6ZTpmdW5jdGlvbih0KXtyZXR1cm4gZS5fdG9rZW5pemVQYXltZW50KHQsbi5zaG91bGRQcm9jZXNzUGF5bWVudCxuLm9uQXV0aG9yaXplRXJyb3IpfX0sdC5jb250YWluZXJJZCl9KSl9LHQucHJvdG90eXBlLmRlaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXlwYWxDaGVja291dD12b2lkIDAsdGhpcy5fcGF5bWVudE1ldGhvZD12b2lkIDAsdGhpcy5fYnJhaW50cmVlU0RLQ3JlYXRvci50ZWFyZG93bigpLFByb21pc2UucmVzb2x2ZSgpfSx0LnByb3RvdHlwZS5fc2V0dXBQYXltZW50PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fY2hlY2tvdXRBY3Rpb25DcmVhdG9yLmxvYWREZWZhdWx0Q2hlY2tvdXQoKSkudGhlbigoZnVuY3Rpb24oZSl7dmFyIHI9ZS5jaGVja291dC5nZXRDaGVja291dCgpLGk9ZS5jb25maWcuZ2V0U3RvcmVDb25maWcoKSxvPWUuY3VzdG9tZXIuZ2V0Q3VzdG9tZXIoKSxhPXZvaWQgMD09PXQ/byYmby5hZGRyZXNzZXMmJm8uYWRkcmVzc2VzWzBdOnQ7aWYoIW4uX3BheXBhbENoZWNrb3V0KXRocm93IG5ldyAkLmIoJC5hLkNoZWNrb3V0QnV0dG9uTm90SW5pdGlhbGl6ZWQpO2lmKCFyKXRocm93IG5ldyBKLmIoSi5hLk1pc3NpbmdDaGVja291dCk7aWYoIWkpdGhyb3cgbmV3IEouYihKLmEuTWlzc2luZ0NoZWNrb3V0Q29uZmlnKTtyZXR1cm4gbi5fcGF5cGFsQ2hlY2tvdXQuY3JlYXRlUGF5bWVudCh7ZmxvdzpcImNoZWNrb3V0XCIsZW5hYmxlU2hpcHBpbmdBZGRyZXNzOiEwLHNoaXBwaW5nQWRkcmVzc0VkaXRhYmxlOiExLHNoaXBwaW5nQWRkcmVzc092ZXJyaWRlOmE/bi5fbWFwVG9CcmFpbnRyZWVBZGRyZXNzKGEpOnZvaWQgMCxhbW91bnQ6ci5vdXRzdGFuZGluZ0JhbGFuY2UsY3VycmVuY3k6aS5jdXJyZW5jeS5jb2RlLG9mZmVyQ3JlZGl0Om4uX29mZmVyQ3JlZGl0fSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3Rocm93IGUmJmUodCksdH0pKX0sdC5wcm90b3R5cGUuX3Rva2VuaXplUGF5bWVudD1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcztpZighdGhpcy5fcGF5cGFsQ2hlY2tvdXR8fCF0aGlzLl9wYXltZW50TWV0aG9kKXRocm93IG5ldyAkLmIoJC5hLkNoZWNrb3V0QnV0dG9uTm90SW5pdGlhbGl6ZWQpO3ZhciBpPXRoaXMuX3BheW1lbnRNZXRob2QuaWQ7cmV0dXJuIFByb21pc2UuYWxsKFt0aGlzLl9wYXlwYWxDaGVja291dC50b2tlbml6ZVBheW1lbnQodCksdGhpcy5fYnJhaW50cmVlU0RLQ3JlYXRvci5nZXREYXRhQ29sbGVjdG9yKHtwYXlwYWw6ITB9KV0pLnRoZW4oKGZ1bmN0aW9uKHQpe3ZhciBuPXRbMF0sbz10WzFdLmRldmljZURhdGE7cmV0dXJuIHIuX2Zvcm1Qb3N0ZXIucG9zdEZvcm0oXCIvY2hlY2tvdXQucGhwXCIse3BheW1lbnRfdHlwZTpcInBheXBhbFwiLHByb3ZpZGVyOmksYWN0aW9uOmU/XCJwcm9jZXNzX3BheW1lbnRcIjpcInNldF9leHRlcm5hbF9jaGVja291dFwiLG5vbmNlOm4ubm9uY2UsZGV2aWNlX2RhdGE6byxzaGlwcGluZ19hZGRyZXNzOkpTT04uc3RyaW5naWZ5KHIuX21hcFRvTGVnYWN5U2hpcHBpbmdBZGRyZXNzKG4pKSxiaWxsaW5nX2FkZHJlc3M6SlNPTi5zdHJpbmdpZnkoci5fbWFwVG9MZWdhY3lCaWxsaW5nQWRkcmVzcyhuKSl9KSxufSkpLmNhdGNoKChmdW5jdGlvbih0KXt0aHJvdyBuJiZuKHQpLHR9KSl9LHQucHJvdG90eXBlLl9tYXBUb0xlZ2FjeVNoaXBwaW5nQWRkcmVzcz1mdW5jdGlvbih0KXt2YXIgZT10LmRldGFpbHMuc2hpcHBpbmdBZGRyZXNzLG49KGUmJmUucmVjaXBpZW50TmFtZXx8XCJcIikuc3BsaXQoXCIgXCIpLHI9blswXSxpPW5bMV07cmV0dXJue2VtYWlsOnQuZGV0YWlscy5lbWFpbCxmaXJzdF9uYW1lOnIsbGFzdF9uYW1lOmkscGhvbmVfbnVtYmVyOnQuZGV0YWlscy5waG9uZSxhZGRyZXNzX2xpbmVfMTplJiZlLmxpbmUxLGFkZHJlc3NfbGluZV8yOmUmJmUubGluZTIsY2l0eTplJiZlLmNpdHksc3RhdGU6ZSYmZS5zdGF0ZSxjb3VudHJ5X2NvZGU6ZSYmZS5jb3VudHJ5Q29kZSxwb3N0YWxfY29kZTplJiZlLnBvc3RhbENvZGV9fSx0LnByb3RvdHlwZS5fbWFwVG9MZWdhY3lCaWxsaW5nQWRkcmVzcz1mdW5jdGlvbih0KXt2YXIgZT10LmRldGFpbHMuYmlsbGluZ0FkZHJlc3Msbj10LmRldGFpbHMuc2hpcHBpbmdBZGRyZXNzO3JldHVybiBlP3tlbWFpbDp0LmRldGFpbHMuZW1haWwsZmlyc3RfbmFtZTp0LmRldGFpbHMuZmlyc3ROYW1lLGxhc3RfbmFtZTp0LmRldGFpbHMubGFzdE5hbWUscGhvbmVfbnVtYmVyOnQuZGV0YWlscy5waG9uZSxhZGRyZXNzX2xpbmVfMTplLmxpbmUxLGFkZHJlc3NfbGluZV8yOmUubGluZTIsY2l0eTplLmNpdHksc3RhdGU6ZS5zdGF0ZSxjb3VudHJ5X2NvZGU6ZS5jb3VudHJ5Q29kZSxwb3N0YWxfY29kZTplLnBvc3RhbENvZGV9OntlbWFpbDp0LmRldGFpbHMuZW1haWwsZmlyc3RfbmFtZTp0LmRldGFpbHMuZmlyc3ROYW1lLGxhc3RfbmFtZTp0LmRldGFpbHMubGFzdE5hbWUscGhvbmVfbnVtYmVyOnQuZGV0YWlscy5waG9uZSxhZGRyZXNzX2xpbmVfMTpuJiZuLmxpbmUxLGFkZHJlc3NfbGluZV8yOm4mJm4ubGluZTIsY2l0eTpuJiZuLmNpdHksc3RhdGU6biYmbi5zdGF0ZSxjb3VudHJ5X2NvZGU6biYmbi5jb3VudHJ5Q29kZSxwb3N0YWxfY29kZTpuJiZuLnBvc3RhbENvZGV9fSx0LnByb3RvdHlwZS5fbWFwVG9CcmFpbnRyZWVBZGRyZXNzPWZ1bmN0aW9uKHQpe3JldHVybntsaW5lMTp0LmFkZHJlc3MxLGxpbmUyOnQuYWRkcmVzczIsY2l0eTp0LmNpdHksc3RhdGU6dC5zdGF0ZU9yUHJvdmluY2VDb2RlLHBvc3RhbENvZGU6dC5wb3N0YWxDb2RlLGNvdW50cnlDb2RlOnQuY291bnRyeUNvZGUscGhvbmU6dC5waG9uZSxyZWNpcGllbnROYW1lOnQuZmlyc3ROYW1lK1wiIFwiK3QubGFzdE5hbWV9fSx0fSgpLGV0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyKXt0aGlzLl9zdG9yZT10LHRoaXMuX2Zvcm1Qb3N0ZXI9ZSx0aGlzLl9jaGVja291dEFjdGlvbkNyZWF0b3I9bix0aGlzLl9nb29nbGVQYXlQYXltZW50UHJvY2Vzc29yPXJ9cmV0dXJuIHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChjLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLG47cmV0dXJuIE9iamVjdChjLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOmlmKGU9dC5jb250YWluZXJJZCxuPXQubWV0aG9kSWQsIWV8fCFuKXRocm93IG5ldyBkLmEoJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgXCJjb250YWluZXJJZFwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nKTtyZXR1cm4gdGhpcy5fbWV0aG9kSWQ9bixbNCx0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9jaGVja291dEFjdGlvbkNyZWF0b3IubG9hZERlZmF1bHRDaGVja291dCgpKV07Y2FzZSAxOnJldHVybiByLnNlbnQoKSxbNCx0aGlzLl9nb29nbGVQYXlQYXltZW50UHJvY2Vzc29yLmluaXRpYWxpemUodGhpcy5fZ2V0TWV0aG9kSWQoKSldO2Nhc2UgMjpyZXR1cm4gci5zZW50KCksdGhpcy5fd2FsbGV0QnV0dG9uPXRoaXMuX2NyZWF0ZVNpZ25JbkJ1dHRvbihlKSxbMl19fSkpfSkpfSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2FsbGV0QnV0dG9uJiZ0aGlzLl93YWxsZXRCdXR0b24ucGFyZW50Tm9kZSYmKHRoaXMuX3dhbGxldEJ1dHRvbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX3dhbGxldEJ1dHRvbiksdGhpcy5fd2FsbGV0QnV0dG9uPXZvaWQgMCksdGhpcy5fZ29vZ2xlUGF5UGF5bWVudFByb2Nlc3Nvci5kZWluaXRpYWxpemUoKX0sdC5wcm90b3R5cGUuX2NyZWF0ZVNpZ25JbkJ1dHRvbj1mdW5jdGlvbih0KXt2YXIgZT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0KTtpZighZSl0aHJvdyBuZXcgZC5hKFwiVW5hYmxlIHRvIGNyZWF0ZSBzaWduLWluIGJ1dHRvbiB3aXRob3V0IHZhbGlkIGNvbnRhaW5lciBJRC5cIik7dmFyIG49dGhpcy5fZ29vZ2xlUGF5UGF5bWVudFByb2Nlc3Nvci5jcmVhdGVCdXR0b24odGhpcy5faGFuZGxlV2FsbGV0QnV0dG9uQ2xpY2spO3JldHVybiBlLmFwcGVuZENoaWxkKG4pLG59LHQucHJvdG90eXBlLl9nZXRNZXRob2RJZD1mdW5jdGlvbigpe2lmKCF0aGlzLl9tZXRob2RJZCl0aHJvdyBuZXcgJC5iKCQuYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO3JldHVybiB0aGlzLl9tZXRob2RJZH0sdC5wcm90b3R5cGUuX2hhbmRsZVdhbGxldEJ1dHRvbkNsaWNrPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoYy5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSxuLHIsaTtyZXR1cm4gT2JqZWN0KGMuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKG8pe3N3aXRjaChvLmxhYmVsKXtjYXNlIDA6dC5wcmV2ZW50RGVmYXVsdCgpLGU9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKS5jYXJ0LmdldENhcnRPclRocm93KCksbj1PYmplY3QoUS5hKShlKT4wLG8ubGFiZWw9MTtjYXNlIDE6cmV0dXJuIG8udHJ5cy5wdXNoKFsxLDcsLDhdKSxbNCx0aGlzLl9nb29nbGVQYXlQYXltZW50UHJvY2Vzc29yLmRpc3BsYXlXYWxsZXQoKV07Y2FzZSAyOnJldHVybiByPW8uc2VudCgpLFs0LHRoaXMuX2dvb2dsZVBheVBheW1lbnRQcm9jZXNzb3IuaGFuZGxlU3VjY2VzcyhyKV07Y2FzZSAzOnJldHVybiBvLnNlbnQoKSxuJiZyLnNoaXBwaW5nQWRkcmVzcz9bNCx0aGlzLl9nb29nbGVQYXlQYXltZW50UHJvY2Vzc29yLnVwZGF0ZVNoaXBwaW5nQWRkcmVzcyhyLnNoaXBwaW5nQWRkcmVzcyldOlszLDVdO2Nhc2UgNDpvLnNlbnQoKSxvLmxhYmVsPTU7Y2FzZSA1OnJldHVybls0LHRoaXMuX29uUGF5bWVudFNlbGVjdENvbXBsZXRlKCldO2Nhc2UgNjpyZXR1cm4gby5zZW50KCksWzMsOF07Y2FzZSA3OmlmKChpPW8uc2VudCgpKSYmXCJDQU5DRUxFRFwiIT09aS5tZXNzYWdlKXRocm93IGk7cmV0dXJuWzMsOF07Y2FzZSA4OnJldHVyblsyXX19KSl9KSl9LHQucHJvdG90eXBlLl9vblBheW1lbnRTZWxlY3RDb21wbGV0ZT1mdW5jdGlvbigpe3RoaXMuX2Zvcm1Qb3N0ZXIucG9zdEZvcm0oXCIvY2hlY2tvdXQucGhwXCIse2hlYWRlcnM6e0FjY2VwdDpcInRleHQvaHRtbFwiLFwiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIn19KX0sT2JqZWN0KGMuX19kZWNvcmF0ZSkoW3AuYV0sdC5wcm90b3R5cGUsXCJfaGFuZGxlV2FsbGV0QnV0dG9uQ2xpY2tcIixudWxsKSx0fSgpLG50PW4oMTMzKSxydD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMuX3N0b3JlPXQsdGhpcy5fY2hlY2tvdXRBY3Rpb25DcmVhdG9yPWUsdGhpcy5fbWFzdGVycGFzc1NjcmlwdExvYWRlcj1ufXJldHVybiB0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10LmNvbnRhaW5lcklkLHI9dC5tZXRob2RJZDtpZighbnx8IXIpdGhyb3cgbmV3IGQuYSgnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBcImNvbnRhaW5lcklkXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicpO3JldHVybiB0aGlzLl9tZXRob2RJZD1yLHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX2NoZWNrb3V0QWN0aW9uQ3JlYXRvci5sb2FkRGVmYXVsdENoZWNrb3V0KCkpLnRoZW4oKGZ1bmN0aW9uKHQpe3ZhciBuPXQucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZChyKTtpZighbnx8IW4uaW5pdGlhbGl6YXRpb25EYXRhLmNoZWNrb3V0SWQpdGhyb3cgbmV3IEouYihKLmEuTWlzc2luZ1BheW1lbnRNZXRob2QpO3JldHVybiBlLl9tYXN0ZXJwYXNzU2NyaXB0TG9hZGVyLmxvYWQobi5jb25maWcudGVzdE1vZGUpfSkpLnRoZW4oKGZ1bmN0aW9uKHQpe2UuX21hc3RlcnBhc3NDbGllbnQ9dCxlLl9zaWduSW5CdXR0b249ZS5fY3JlYXRlU2lnbkluQnV0dG9uKG4pfSkpfSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2lnbkluQnV0dG9uJiZ0aGlzLl9zaWduSW5CdXR0b24ucGFyZW50Tm9kZSYmKHRoaXMuX3NpZ25JbkJ1dHRvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLl9oYW5kbGVXYWxsZXRCdXR0b25DbGljayksdGhpcy5fc2lnbkluQnV0dG9uLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fc2lnbkluQnV0dG9uKSx0aGlzLl9zaWduSW5CdXR0b249dm9pZCAwKSxQcm9taXNlLnJlc29sdmUoKX0sdC5wcm90b3R5cGUuX2NyZWF0ZVNpZ25JbkJ1dHRvbj1mdW5jdGlvbih0KXt2YXIgZT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0KTtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJOZWVkIGEgY29udGFpbmVyIHRvIHBsYWNlIHRoZSBidXR0b25cIik7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO3JldHVybiBuLnR5cGU9XCJpbWFnZVwiLG4uc3JjPVwiaHR0cHM6Ly9zdGF0aWMubWFzdGVycGFzcy5jb20vZHluL2ltZy9idG4vZ2xvYmFsL21wX2Noa19idG5fMTYweDAzN3B4LnN2Z1wiLGUuYXBwZW5kQ2hpbGQobiksbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLl9oYW5kbGVXYWxsZXRCdXR0b25DbGljayksbn0sdC5wcm90b3R5cGUuX2NyZWF0ZU1hc3RlcnBhc3NQYXlsb2FkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSxlPXQuY2hlY2tvdXQuZ2V0Q2hlY2tvdXQoKSxuPXRoaXMuX21ldGhvZElkP3QucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZCh0aGlzLl9tZXRob2RJZCk6bnVsbDtpZighZSl0aHJvdyBuZXcgSi5iKEouYS5NaXNzaW5nQ2hlY2tvdXQpO2lmKCFuKXRocm93IG5ldyBKLmIoSi5hLk1pc3NpbmdQYXltZW50TWV0aG9kKTtyZXR1cm57Y2hlY2tvdXRJZDpuLmluaXRpYWxpemF0aW9uRGF0YS5jaGVja291dElkLGFsbG93ZWRDYXJkVHlwZXM6bi5pbml0aWFsaXphdGlvbkRhdGEuYWxsb3dlZENhcmRUeXBlcyxhbW91bnQ6ZS5jYXJ0LmNhcnRBbW91bnQudG9TdHJpbmcoKSxjdXJyZW5jeTplLmNhcnQuY3VycmVuY3kuY29kZSxjYXJ0SWQ6ZS5jYXJ0LmlkLHN1cHByZXNzU2hpcHBpbmdBZGRyZXNzOiExLGNhbGxiYWNrVXJsOk9iamVjdChudC5hKShcImNhcnRcIil9fSx0LnByb3RvdHlwZS5faGFuZGxlV2FsbGV0QnV0dG9uQ2xpY2s9ZnVuY3Rpb24oKXtpZighdGhpcy5fbWFzdGVycGFzc0NsaWVudCl0aHJvdyBuZXcgJC5iKCQuYS5DaGVja291dEJ1dHRvbk5vdEluaXRpYWxpemVkKTt0aGlzLl9tYXN0ZXJwYXNzQ2xpZW50LmNoZWNrb3V0KHRoaXMuX2NyZWF0ZU1hc3RlcnBhc3NQYXlsb2FkKCkpfSxPYmplY3QoYy5fX2RlY29yYXRlKShbcC5hXSx0LnByb3RvdHlwZSxcIl9oYW5kbGVXYWxsZXRCdXR0b25DbGlja1wiLG51bGwpLHR9KCksaXQ9big2MCksb3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIsaSl7dm9pZCAwPT09aSYmKGk9XCJcIiksdGhpcy5fc3RvcmU9dCx0aGlzLl9jaGVja291dEFjdGlvbkNyZWF0b3I9ZSx0aGlzLl9wYXlwYWxTY3JpcHRMb2FkZXI9bix0aGlzLl9mb3JtUG9zdGVyPXIsdGhpcy5faG9zdD1pfXJldHVybiB0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10LnBheXBhbCxyPXRoaXMuX3N0b3JlLmdldFN0YXRlKCksaT10aGlzLl9wYXltZW50TWV0aG9kPXIucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZCh0Lm1ldGhvZElkKTtpZighbil0aHJvdyBuZXcgZC5hO2lmKCFpKXRocm93IG5ldyBKLmIoSi5hLk1pc3NpbmdQYXltZW50TWV0aG9kKTtyZXR1cm4gdGhpcy5fcGF5cGFsU2NyaXB0TG9hZGVyLmxvYWRQYXlwYWwoaS5jb25maWcubWVyY2hhbnRJZCkudGhlbigoZnVuY3Rpb24ocil7dmFyIG87aWYoIWl8fCFpLmNvbmZpZy5tZXJjaGFudElkKXRocm93IG5ldyBKLmIoSi5hLk1pc3NpbmdQYXltZW50TWV0aG9kKTt2YXIgYT1pLmNvbmZpZy5tZXJjaGFudElkLHM9aS5jb25maWcudGVzdE1vZGU/XCJzYW5kYm94XCI6XCJwcm9kdWN0aW9uXCIsZD0oKG89e30pW3NdPW4uY2xpZW50SWQsbykscD1bXSxoPVtdO3JldHVybiBuLmFsbG93Q3JlZGl0P3AucHVzaChyLkZVTkRJTkcuQ1JFRElUKTpoLnB1c2goci5GVU5ESU5HLkNSRURJVCksci5CdXR0b24ucmVuZGVyKHtlbnY6cyxjbGllbnQ6ZCxjb21taXQ6bi5zaG91bGRQcm9jZXNzUGF5bWVudCxmdW5kaW5nOnthbGxvd2VkOnAsZGlzYWxsb3dlZDpofSxzdHlsZTpPYmplY3QoYy5fX2Fzc2lnbikoe3NoYXBlOlwicmVjdFwifSxPYmplY3QodS5waWNrKShuLnN0eWxlLFwibGF5b3V0XCIsXCJzaXplXCIsXCJjb2xvclwiLFwibGFiZWxcIixcInNoYXBlXCIsXCJ0YWdsaW5lXCIsXCJmdW5kaW5naWNvbnNcIikpLHBheW1lbnQ6ZnVuY3Rpb24odCxyKXtyZXR1cm4gZS5fc2V0dXBQYXltZW50KGEscixuLm9uUGF5bWVudEVycm9yKX0sb25BdXRob3JpemU6ZnVuY3Rpb24odCxyKXtyZXR1cm4gZS5fdG9rZW5pemVQYXltZW50KHQscixuLnNob3VsZFByb2Nlc3NQYXltZW50LG4ub25BdXRob3JpemVFcnJvcil9fSx0LmNvbnRhaW5lcklkKX0pKX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BheW1lbnRNZXRob2Q9dm9pZCAwLFByb21pc2UucmVzb2x2ZSgpfSx0LnByb3RvdHlwZS5fc2V0dXBQYXltZW50PWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzO2lmKCFlKXRocm93IG5ldyAkLmIoJC5hLkNoZWNrb3V0QnV0dG9uTm90SW5pdGlhbGl6ZWQpO3JldHVybiB0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9jaGVja291dEFjdGlvbkNyZWF0b3IubG9hZERlZmF1bHRDaGVja291dCgpKS50aGVuKChmdW5jdGlvbihuKXt2YXIgaT1uLmNhcnQuZ2V0Q2FydCgpLG89aT9pLmlkOlwiXCI7cmV0dXJuIGUucmVxdWVzdC5wb3N0KHIuX2hvc3QrXCIvYXBpL3N0b3JlZnJvbnQvcGF5bWVudC9wYXlwYWxleHByZXNzXCIse21lcmNoYW50SWQ6dCxjYXJ0SWQ6b30se2hlYWRlcnM6e1wiWC1BUEktSU5URVJOQUxcIjppdC5hfX0pfSkpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkfSkpLmNhdGNoKChmdW5jdGlvbih0KXt0aHJvdyBuJiZuKHQpLHR9KSl9LHQucHJvdG90eXBlLl90b2tlbml6ZVBheW1lbnQ9ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9dGhpcztpZighdGhpcy5fcGF5bWVudE1ldGhvZCl0aHJvdyBuZXcgJC5iKCQuYS5DaGVja291dEJ1dHRvbk5vdEluaXRpYWxpemVkKTtpZighZSl0aHJvdyBuZXcgJC5iKCQuYS5DaGVja291dEJ1dHRvbk5vdEluaXRpYWxpemVkKTtpZighdC5wYXltZW50SUR8fCF0LnBheWVySUQpdGhyb3cgbmV3IEouYihKLmEuTWlzc2luZ1BheW1lbnQpO3ZhciBvPXRoaXMuX3BheW1lbnRNZXRob2QuaWQ7cmV0dXJuIGUucGF5bWVudC5nZXQodC5wYXltZW50SUQpLnRoZW4oKGZ1bmN0aW9uKGUpe2kuX2Zvcm1Qb3N0ZXIucG9zdEZvcm0oXCIvY2hlY2tvdXQucGhwXCIse3BheW1lbnRfdHlwZTpcInBheXBhbFwiLHByb3ZpZGVyOm8sYWN0aW9uOm4/XCJwcm9jZXNzX3BheW1lbnRcIjpcInNldF9leHRlcm5hbF9jaGVja291dFwiLHBheW1lbnRJZDp0LnBheW1lbnRJRCxwYXllcklkOnQucGF5ZXJJRCxwYXllckluZm86SlNPTi5zdHJpbmdpZnkoZS5wYXllci5wYXllcl9pbmZvKX0pfSkpfSx0fSgpLGF0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyKXt0aGlzLl9zdG9yZT10LHRoaXMuX2NoZWNrb3V0QWN0aW9uQ3JlYXRvcj1lLHRoaXMuX2Zvcm1Qb3N0ZXI9bix0aGlzLl9wYXlwYWxDb21tZXJjZVBheW1lbnRQcm9jZXNzb3I9cn1yZXR1cm4gdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gT2JqZWN0KGMuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG4scixpLG8sYSxzLHU9dGhpcztyZXR1cm4gT2JqZWN0KGMuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKGMpe3N3aXRjaChjLmxhYmVsKXtjYXNlIDA6aWYobj10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLCEocj1uLnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2RPclRocm93KHQubWV0aG9kSWQpLmluaXRpYWxpemF0aW9uRGF0YSkuY2xpZW50SWQpdGhyb3cgbmV3IGQuYTtyZXR1cm5bNCx0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9jaGVja291dEFjdGlvbkNyZWF0b3IubG9hZERlZmF1bHRDaGVja291dCgpKV07Y2FzZSAxOnJldHVybiBuPWMuc2VudCgpLGk9bi5jYXJ0LmdldENhcnRPclRocm93KCksbz17b25BcHByb3ZlOmZ1bmN0aW9uKHQpe3JldHVybiB1Ll90b2tlbml6ZVBheW1lbnQodCl9LG9uQ2xpY2s6ZnVuY3Rpb24odCl7cmV0dXJuIHUuX2hhbmRsZUNsaWNrQnV0dG9uUHJvdmlkZXIodCl9fSx0LnBheXBhbENvbW1lcmNlJiZ0LnBheXBhbENvbW1lcmNlLnN0eWxlJiYoby5zdHlsZT10LnBheXBhbENvbW1lcmNlLnN0eWxlKSxhPW51bGw9PT0oZT10LnBheXBhbENvbW1lcmNlKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5tZXNzYWdpbmdDb250YWluZXIscz1Cb29sZWFuKGEmJmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEpKSxbNCx0aGlzLl9wYXlwYWxDb21tZXJjZVBheW1lbnRQcm9jZXNzb3IuaW5pdGlhbGl6ZSh0aGlzLl9nZXRQYXJhbXNTY3JpcHQocixpKSldO2Nhc2UgMjpyZXR1cm4gYy5zZW50KCksdGhpcy5fcGF5cGFsQ29tbWVyY2VQYXltZW50UHJvY2Vzc29yLnJlbmRlckJ1dHRvbnMoaS5pZCxcIiNcIit0LmNvbnRhaW5lcklkLG8pLHMmJnRoaXMuX3BheXBhbENvbW1lcmNlUGF5bWVudFByb2Nlc3Nvci5yZW5kZXJNZXNzYWdlcyhpLmNhcnRBbW91bnQsXCIjXCIrYSksWzIsUHJvbWlzZS5yZXNvbHZlKCldfX0pKX0pKX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzQ3JlZGl0PXZvaWQgMCxQcm9taXNlLnJlc29sdmUoKX0sdC5wcm90b3R5cGUuX2hhbmRsZUNsaWNrQnV0dG9uUHJvdmlkZXI9ZnVuY3Rpb24odCl7dmFyIGU9dC5mdW5kaW5nU291cmNlO3RoaXMuX2lzQ3JlZGl0PVwiY3JlZGl0XCI9PT1lfHxcInBheWxhdGVyXCI9PT1lfSx0LnByb3RvdHlwZS5fdG9rZW5pemVQYXltZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXQub3JkZXJJRDtpZighZSl0aHJvdyBuZXcgSi5iKEouYS5NaXNzaW5nUGF5bWVudCk7cmV0dXJuIHRoaXMuX2Zvcm1Qb3N0ZXIucG9zdEZvcm0oXCIvY2hlY2tvdXQucGhwXCIse3BheW1lbnRfdHlwZTpcInBheXBhbFwiLGFjdGlvbjpcInNldF9leHRlcm5hbF9jaGVja291dFwiLHByb3ZpZGVyOnRoaXMuX2lzQ3JlZGl0P1wicGF5cGFsY29tbWVyY2VjcmVkaXRcIjpcInBheXBhbGNvbW1lcmNlXCIsb3JkZXJfaWQ6ZX0pfSx0LnByb3RvdHlwZS5fZ2V0UGFyYW1zU2NyaXB0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5jbGllbnRJZCxyPXQuaW50ZW50LGk9dC5pc1BheVBhbENyZWRpdEF2YWlsYWJsZSxvPXQubWVyY2hhbnRJZCxhPVtcImNhcmRcIl07cmV0dXJuIGl8fGEucHVzaChcImNyZWRpdFwiKSx7XCJjbGllbnQtaWRcIjpuLFwibWVyY2hhbnQtaWRcIjpvLGNvbW1pdDohMSxjdXJyZW5jeTplLmN1cnJlbmN5LmNvZGUsY29tcG9uZW50czpbXCJidXR0b25zXCIsXCJtZXNzYWdlc1wiXSxcImRpc2FibGUtZnVuZGluZ1wiOmEsaW50ZW50OnJ9fSx0fSgpO2Z1bmN0aW9uIHN0KHQpe3ZhciBlPXQmJnQuaG9zdCxuPU9iamVjdChvLmEpKCksYz1PYmplY3QoaS5jcmVhdGVSZXF1ZXN0U2VuZGVyKSh7aG9zdDplfSksdT1PYmplY3Qoci5jcmVhdGVGb3JtUG9zdGVyKSh7aG9zdDplfSk7cmV0dXJuIG5ldyBDKG4sbmV3IEUoZnVuY3Rpb24odCxlLG4scil7dmFyIGk9bmV3IE0uYSxvPU9iamVjdChQLmdldFNjcmlwdExvYWRlcikoKSxhPW5ldyBqLmEobmV3IGsuYShlKSxuZXcgVC5hKG5ldyBSLmEoZSkpLG5ldyBELmEobmV3IHouYShlKSkpLHM9T2JqZWN0KFcuYSkobyxlKTtyZXR1cm4gaS5yZWdpc3RlcihLLkJSQUlOVFJFRV9QQVlQQUwsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0dCh0LGEsbmV3IE4uYShuZXcgRi5hKG8pKSxuZXcgSC5hKG8pLG4pfSkpLGkucmVnaXN0ZXIoSy5CUkFJTlRSRUVfUEFZUEFMX0NSRURJVCwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHR0KHQsYSxuZXcgTi5hKG5ldyBGLmEobykpLG5ldyBILmEobyksbiwhMCl9KSksaS5yZWdpc3RlcihLLk1BU1RFUlBBU1MsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBydCh0LGEsbmV3IFkuYShvKSl9KSksaS5yZWdpc3RlcihLLkdPT0dMRVBBWV9BRFlFTlYyLChmdW5jdGlvbigpe3JldHVybiBuZXcgZXQodCxuLGEsT2JqZWN0KHEuYSkodCxuZXcgVS5hKSl9KSksaS5yZWdpc3RlcihLLkdPT0dMRVBBWV9BVVRIT1JJWkVORVQsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBldCh0LG4sYSxPYmplY3QocS5hKSh0LG5ldyB4LmEpKX0pKSxpLnJlZ2lzdGVyKEsuR09PR0xFUEFZX0JSQUlOVFJFRSwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGV0KHQsbixhLE9iamVjdChxLmEpKHQsbmV3IEIuYShuZXcgTi5hKG5ldyBGLmEobykpKSkpfSkpLGkucmVnaXN0ZXIoSy5HT09HTEVQQVlfQ0hFQ0tPVVRDT00sKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBldCh0LG4sYSxPYmplY3QocS5hKSh0LG5ldyBHLmEoZSkpKX0pKSxpLnJlZ2lzdGVyKEsuR09PR0xFUEFZX1NUUklQRSwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGV0KHQsbixhLE9iamVjdChxLmEpKHQsbmV3IFYuYSkpfSkpLGkucmVnaXN0ZXIoSy5QQVlQQUxFWFBSRVNTLChmdW5jdGlvbigpe3JldHVybiBuZXcgb3QodCxhLG5ldyBILmEobyksbixyKX0pKSxpLnJlZ2lzdGVyKEsuUEFZUEFMQ09NTUVSQ0UsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBhdCh0LGEsbixzKX0pKSxpLnJlZ2lzdGVyKEsuQU1BWk9OX1BBWV9WMiwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFgodCxhLE9iamVjdChMLmEpKCkpfSkpLGl9KG4sYyx1LGUpLG5ldyBhLmEobmV3IHMuYShjKSkpKX1uLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gc3R9KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcixpPW4oNDcpLG89bigxNDUpLGE9bigxNDQpLHM9big2NiksYz1uLm4ocyksdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fbmFtZXNwYWNlPXR9cmV0dXJuIHQucHJvdG90eXBlLmdldEl0ZW09ZnVuY3Rpb24odCl7dmFyIGU9Yy5hLmdldEl0ZW0odGhpcy53aXRoTmFtZXNwYWNlKHQpKTtpZihudWxsPT09ZSlyZXR1cm4gbnVsbDt0cnl7cmV0dXJuIEpTT04ucGFyc2UoZSl9Y2F0Y2goZSl7cmV0dXJuIHRoaXMucmVtb3ZlSXRlbSh0aGlzLndpdGhOYW1lc3BhY2UodCkpLG51bGx9fSx0LnByb3RvdHlwZS5nZXRJdGVtT25jZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEl0ZW0odCk7cmV0dXJuIHRoaXMucmVtb3ZlSXRlbSh0KSxlfSx0LnByb3RvdHlwZS5zZXRJdGVtPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGMuYS5zZXRJdGVtKHRoaXMud2l0aE5hbWVzcGFjZSh0KSxKU09OLnN0cmluZ2lmeShlKSl9LHQucHJvdG90eXBlLnJlbW92ZUl0ZW09ZnVuY3Rpb24odCl7cmV0dXJuIGMuYS5yZW1vdmVJdGVtKHRoaXMud2l0aE5hbWVzcGFjZSh0KSl9LHQucHJvdG90eXBlLndpdGhOYW1lc3BhY2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX25hbWVzcGFjZStcIi5cIit0fSx0fSgpLGQ9big4MikscD1uKDApLGg9big5OCksbD1uKDI0KSxtPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMsZSx7bWVzc2FnZTplLmJvZHkudGl0bGV9KXx8dGhpcztyZXR1cm4gbi5uYW1lPVwiSW52YWxpZExvZ2luVG9rZW5FcnJvclwiLG4udHlwZT1cImludmFsaWRfbG9naW5fdG9rZW5cIixufXJldHVybiBPYmplY3QocC5fX2V4dGVuZHMpKGUsdCksZX0obigzNykuYSksZj1uKDIzKTshZnVuY3Rpb24odCl7dC5NaXNzaW5nQ29udGFpbmVyPVwibWlzc2luZ19jb250YWluZXJcIix0Lk1pc3NpbmdDb250ZW50PVwibWlzc2luZ19jb250ZW50XCIsdC5Vbmtub3duRXJyb3I9XCJ1bmtub3duX2Vycm9yXCJ9KHJ8fChyPXt9KSk7dmFyIF89ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3ZvaWQgMD09PW4mJihuPXIuVW5rbm93bkVycm9yKTt2YXIgaT10LmNhbGwodGhpcyxlfHxcIlVuYWJsZSB0byBlbWJlZCB0aGUgY2hlY2tvdXQgZm9ybS5cIil8fHRoaXM7cmV0dXJuIGkuc3VidHlwZT1uLGkubmFtZT1cIk5vdEVtYmVkZGFibGVFcnJvclwiLGkudHlwZT1cIm5vdF9lbWJlZGRhYmxlXCIsaX1yZXR1cm4gT2JqZWN0KHAuX19leHRlbmRzKShlLHQpLGV9KGYuYSkseT1uKDEwNyksZz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scixpLG8sYSxzKXt2YXIgYz10aGlzO3RoaXMuX2lmcmFtZUNyZWF0b3I9dCx0aGlzLl9tZXNzYWdlTGlzdGVuZXI9ZSx0aGlzLl9tZXNzYWdlUG9zdGVyPW4sdGhpcy5fbG9hZGluZ0luZGljYXRvcj1yLHRoaXMuX3JlcXVlc3RTZW5kZXI9aSx0aGlzLl9zdG9yYWdlPW8sdGhpcy5fbG9jYXRpb249YSx0aGlzLl9vcHRpb25zPXMsdGhpcy5faXNBdHRhY2hlZD0hMSx0aGlzLl9vcHRpb25zLm9uQ29tcGxldGUmJnRoaXMuX21lc3NhZ2VMaXN0ZW5lci5hZGRMaXN0ZW5lcihsLmEuQ2hlY2tvdXRDb21wbGV0ZSx0aGlzLl9vcHRpb25zLm9uQ29tcGxldGUpLHRoaXMuX29wdGlvbnMub25FcnJvciYmdGhpcy5fbWVzc2FnZUxpc3RlbmVyLmFkZExpc3RlbmVyKGwuYS5DaGVja291dEVycm9yLHRoaXMuX29wdGlvbnMub25FcnJvciksdGhpcy5fb3B0aW9ucy5vbkxvYWQmJnRoaXMuX21lc3NhZ2VMaXN0ZW5lci5hZGRMaXN0ZW5lcihsLmEuQ2hlY2tvdXRMb2FkZWQsdGhpcy5fb3B0aW9ucy5vbkxvYWQpLHRoaXMuX29wdGlvbnMub25GcmFtZUxvYWQmJnRoaXMuX21lc3NhZ2VMaXN0ZW5lci5hZGRMaXN0ZW5lcihsLmEuRnJhbWVMb2FkZWQsdGhpcy5fb3B0aW9ucy5vbkZyYW1lTG9hZCksdGhpcy5fb3B0aW9ucy5vblNpZ25PdXQmJnRoaXMuX21lc3NhZ2VMaXN0ZW5lci5hZGRMaXN0ZW5lcihsLmEuU2lnbmVkT3V0LHRoaXMuX29wdGlvbnMub25TaWduT3V0KSx0aGlzLl9tZXNzYWdlTGlzdGVuZXIuYWRkTGlzdGVuZXIobC5hLkZyYW1lTG9hZGVkLChmdW5jdGlvbigpe3JldHVybiBjLl9jb25maWd1cmVTdHlsZXMoKX0pKX1yZXR1cm4gdC5wcm90b3R5cGUuYXR0YWNoPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5faXNBdHRhY2hlZD9Qcm9taXNlLnJlc29sdmUodGhpcyk6KHRoaXMuX2lzQXR0YWNoZWQ9ITAsdGhpcy5fbWVzc2FnZUxpc3RlbmVyLmxpc3RlbigpLHRoaXMuX2xvYWRpbmdJbmRpY2F0b3Iuc2hvdyh0aGlzLl9vcHRpb25zLmNvbnRhaW5lcklkKSx0aGlzLl9hbGxvd0Nvb2tpZSgpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX2F0dGVtcHRMb2dpbigpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9pZnJhbWVDcmVhdG9yLmNyZWF0ZUZyYW1lKGUsdC5fb3B0aW9ucy5jb250YWluZXJJZCl9KSkudGhlbigoZnVuY3Rpb24oZSl7dC5faWZyYW1lPWUsdC5fY29uZmlndXJlU3R5bGVzKCksdC5fbG9hZGluZ0luZGljYXRvci5oaWRlKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9pc0F0dGFjaGVkPSExLHQuX3JldHJ5QWxsb3dDb29raWUoZSkuY2F0Y2goKGZ1bmN0aW9uKCl7dGhyb3cgdC5fbWVzc2FnZUxpc3RlbmVyLnRyaWdnZXIoe3R5cGU6bC5hLkZyYW1lRXJyb3IscGF5bG9hZDplfSksdC5fbG9hZGluZ0luZGljYXRvci5oaWRlKCksZX0pKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0fSkpKX0sdC5wcm90b3R5cGUuZGV0YWNoPWZ1bmN0aW9uKCl7dGhpcy5faXNBdHRhY2hlZCYmKHRoaXMuX2lzQXR0YWNoZWQ9ITEsdGhpcy5fbWVzc2FnZUxpc3RlbmVyLnN0b3BMaXN0ZW4oKSx0aGlzLl9pZnJhbWUmJnRoaXMuX2lmcmFtZS5wYXJlbnROb2RlJiYodGhpcy5faWZyYW1lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5faWZyYW1lKSx0aGlzLl9pZnJhbWUuaUZyYW1lUmVzaXplci5jbG9zZSgpKSl9LHQucHJvdG90eXBlLl9jb25maWd1cmVTdHlsZXM9ZnVuY3Rpb24oKXt0aGlzLl9pZnJhbWUmJnRoaXMuX2lmcmFtZS5jb250ZW50V2luZG93JiZ0aGlzLl9vcHRpb25zLnN0eWxlcyYmKHRoaXMuX21lc3NhZ2VQb3N0ZXIuc2V0VGFyZ2V0KHRoaXMuX2lmcmFtZS5jb250ZW50V2luZG93KSx0aGlzLl9tZXNzYWdlUG9zdGVyLnBvc3Qoe3R5cGU6eS5hLlN0eWxlQ29uZmlndXJlZCxwYXlsb2FkOnRoaXMuX29wdGlvbnMuc3R5bGVzfSkpfSx0LnByb3RvdHlwZS5fYXR0ZW1wdExvZ2luPWZ1bmN0aW9uKCl7cmV0dXJuL15cXC9sb2dpblxcL3Rva2VuLy50ZXN0KE9iamVjdChkLmEpKHRoaXMuX29wdGlvbnMudXJsKS5wYXRobmFtZSk/dGhpcy5fcmVxdWVzdFNlbmRlci5wb3N0KHRoaXMuX29wdGlvbnMudXJsKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gdC5ib2R5LnJlZGlyZWN0VXJsfSkpLmNhdGNoKChmdW5jdGlvbih0KXtyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IG0odCkpfSkpOlByb21pc2UucmVzb2x2ZSh0aGlzLl9vcHRpb25zLnVybCl9LHQucHJvdG90eXBlLl9hbGxvd0Nvb2tpZT1mdW5jdGlvbigpe2lmKHRoaXMuX3N0b3JhZ2UuZ2V0SXRlbShcImlzQ29va2llQWxsb3dlZFwiKSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7dGhpcy5fc3RvcmFnZS5zZXRJdGVtKFwiaXNDb29raWVBbGxvd2VkXCIsITApLHRoaXMuX3N0b3JhZ2Uuc2V0SXRlbShcImxhc3RBbGxvd0Nvb2tpZUF0dGVtcHRcIixEYXRlLm5vdygpKTt2YXIgdD1PYmplY3QoZC5hKSh0aGlzLl9vcHRpb25zLnVybCkub3JpZ2luK1wiL2VtYmVkZGVkLWNoZWNrb3V0L2FsbG93LWNvb2tpZT9yZXR1cm5Vcmw9XCIrZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuX2xvY2F0aW9uLmhyZWYpO3JldHVybiBkb2N1bWVudC5ib2R5LnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIix0aGlzLl9sb2NhdGlvbi5yZXBsYWNlKHQpLG5ldyBQcm9taXNlKChmdW5jdGlvbigpe30pKX0sdC5wcm90b3R5cGUuX3JldHJ5QWxsb3dDb29raWU9ZnVuY3Rpb24odCl7dmFyIGU9TnVtYmVyKHRoaXMuX3N0b3JhZ2UuZ2V0SXRlbShcImxhc3RBbGxvd0Nvb2tpZUF0dGVtcHRcIikpO3JldHVybighZXx8RGF0ZS5ub3coKS1lPjZlNSkmJnQgaW5zdGFuY2VvZiBfJiZ0LnN1YnR5cGU9PT1yLk1pc3NpbmdDb250ZW50Pyh0aGlzLl9zdG9yYWdlLnJlbW92ZUl0ZW0oXCJsYXN0QWxsb3dDb29raWVBdHRlbXB0XCIpLHRoaXMuX3N0b3JhZ2UucmVtb3ZlSXRlbShcImlzQ29va2llQWxsb3dlZFwiKSx0aGlzLl9hbGxvd0Nvb2tpZSgpKTpQcm9taXNlLnJlamVjdCgpfSx0PU9iamVjdChwLl9fZGVjb3JhdGUpKFtoLmFdLHQpfSgpLGI9e3NpemU6NzAsY29sb3I6XCIjZDlkOWQ5XCIsYmFja2dyb3VuZENvbG9yOlwiI2ZmZmZmZlwifSx2PVwiZW1iZWRkZWQtY2hlY2tvdXQtbG9hZGluZy1pbmRpY2F0b3Itcm90YXRpb25cIixDPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9zdHlsZXM9T2JqZWN0KHAuX19hc3NpZ24pKE9iamVjdChwLl9fYXNzaWduKSh7fSxiKSx0JiZ0LnN0eWxlcyksdGhpcy5fZGVmaW5lQW5pbWF0aW9uKCksdGhpcy5fY29udGFpbmVyPXRoaXMuX2J1aWxkQ29udGFpbmVyKCksdGhpcy5faW5kaWNhdG9yPXRoaXMuX2J1aWxkSW5kaWNhdG9yKCksdGhpcy5fY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuX2luZGljYXRvcil9cmV0dXJuIHQucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24odCl7aWYodCl7dmFyIGU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodCk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGF0dGFjaCB0aGUgbG9hZGluZyBpbmRpY2F0b3IgYmVjYXVzZSB0aGUgcGFyZW50IElEIGlzIG5vdCB2YWxpZC5cIik7ZS5hcHBlbmRDaGlsZCh0aGlzLl9jb250YWluZXIpfXRoaXMuX2NvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5PVwidmlzaWJsZVwiLHRoaXMuX2NvbnRhaW5lci5zdHlsZS5vcGFjaXR5PVwiMVwifSx0LnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPWZ1bmN0aW9uKCl7dC5fY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIix0Ll9jb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRyYW5zaXRpb25lbmRcIixlKX07dGhpcy5fY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFuc2l0aW9uZW5kXCIsZSksdGhpcy5fY29udGFpbmVyLnN0eWxlLm9wYWNpdHk9XCIwXCJ9LHQucHJvdG90eXBlLl9idWlsZENvbnRhaW5lcj1mdW5jdGlvbigpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cmV0dXJuIHQuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsdC5zdHlsZS5ib3R0b209XCIwXCIsdC5zdHlsZS5sZWZ0PVwiMFwiLHQuc3R5bGUuaGVpZ2h0PVwiMTAwJVwiLHQuc3R5bGUud2lkdGg9XCIxMDAlXCIsdC5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsdC5zdHlsZS5yaWdodD1cIjBcIix0LnN0eWxlLnRvcD1cIjBcIix0LnN0eWxlLnRyYW5zaXRpb249XCJhbGwgMjUwbXMgZWFzZS1vdXRcIix0LnN0eWxlLm9wYWNpdHk9XCIwXCIsdH0sdC5wcm90b3R5cGUuX2J1aWxkSW5kaWNhdG9yPWZ1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm4gdC5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIix0LnN0eWxlLndpZHRoPXRoaXMuX3N0eWxlcy5zaXplK1wicHhcIix0LnN0eWxlLmhlaWdodD10aGlzLl9zdHlsZXMuc2l6ZStcInB4XCIsdC5zdHlsZS5ib3JkZXJSYWRpdXM9dGhpcy5fc3R5bGVzLnNpemUrXCJweFwiLHQuc3R5bGUuYm9yZGVyPVwic29saWQgMXB4XCIsdC5zdHlsZS5ib3JkZXJDb2xvcj10aGlzLl9zdHlsZXMuYmFja2dyb3VuZENvbG9yK1wiIFwiK3RoaXMuX3N0eWxlcy5iYWNrZ3JvdW5kQ29sb3IrXCIgXCIrdGhpcy5fc3R5bGVzLmNvbG9yK1wiIFwiK3RoaXMuX3N0eWxlcy5jb2xvcix0LnN0eWxlLm1hcmdpbj1cIjAgYXV0b1wiLHQuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHQuc3R5bGUubGVmdD1cIjBcIix0LnN0eWxlLnJpZ2h0PVwiMFwiLHQuc3R5bGUudG9wPVwiNTAlXCIsdC5zdHlsZS50cmFuc2Zvcm09XCJ0cmFuc2xhdGVZKC01MCUpIHJvdGF0ZSgwZGVnKVwiLHQuc3R5bGUudHJhbnNmb3JtU3R5bGU9XCJwcmVzZXJ2ZS0zZFwiLHQuc3R5bGUuYW5pbWF0aW9uPXYrXCIgNTAwbXMgaW5maW5pdGUgY3ViaWMtYmV6aWVyKDAuNjksIDAuMzEsIDAuNTYsIDAuODMpXCIsdH0sdC5wcm90b3R5cGUuX2RlZmluZUFuaW1hdGlvbj1mdW5jdGlvbigpe2lmKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh2KSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO3QuaWQ9dixkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHQpLHQuc2hlZXQgaW5zdGFuY2VvZiBDU1NTdHlsZVNoZWV0JiZ0LnNoZWV0Lmluc2VydFJ1bGUoXCJcXG4gICAgICAgICAgICAgICAgQGtleWZyYW1lcyBcIit2K1wiIHtcXG4gICAgICAgICAgICAgICAgICAgIDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpIHJvdGF0ZSgwZGVnKTsgfVxcbiAgICAgICAgICAgICAgICAgICAgMTAwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKSByb3RhdGUoMzYwZGVnKTsgfVxcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgXCIsMCl9fSx0fSgpLE89big1NiksUz1uKDE5Miksdz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fb3B0aW9ucz10fXJldHVybiB0LnByb3RvdHlwZS5jcmVhdGVGcmFtZT1mdW5jdGlvbih0LGUpe3ZhciBuPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpLGk9KHRoaXMuX29wdGlvbnN8fHt9KS50aW1lb3V0LG89dm9pZCAwPT09aT82ZTQ6aTtpZighbil0aHJvdyBuZXcgXyhcIlVuYWJsZSB0byBlbWJlZCB0aGUgaWZyYW1lIGJlY2F1c2UgdGhlIGNvbnRhaW5lciBlbGVtZW50IGNvdWxkIG5vdCBiZSBmb3VuZC5cIixyLk1pc3NpbmdDb250YWluZXIpO3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7cmV0dXJuIGEuc3JjPXQsYS5zdHlsZS5ib3JkZXI9XCJub25lXCIsYS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGEuc3R5bGUud2lkdGg9XCIxMDAlXCIsYS5hbGxvd1BheW1lbnRSZXF1ZXN0PSEwLG4uYXBwZW5kQ2hpbGQoYSksdGhpcy5fdG9SZXNpemFibGVGcmFtZShhLG8pLmNhdGNoKChmdW5jdGlvbih0KXt0aHJvdyBuLnJlbW92ZUNoaWxkKGEpLHR9KSl9LHQucHJvdG90eXBlLl90b1Jlc2l6YWJsZUZyYW1lPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuLGkpe3ZhciBvPXdpbmRvdy5zZXRUaW1lb3V0KChmdW5jdGlvbigpe2kobmV3IF8oXCJVbmFibGUgdG8gZW1iZWQgdGhlIGlmcmFtZSBiZWNhdXNlIHRoZSBjb250ZW50IGNvdWxkIG5vdCBiZSBsb2FkZWQuXCIpKX0pLGUpLGE9ZnVuY3Rpb24oZSl7aWYoZS5vcmlnaW49PT1PYmplY3QoZC5hKSh0LnNyYykub3JpZ2luJiYoT2JqZWN0KE8uYSkoZS5kYXRhLGwuYS5GcmFtZUVycm9yKSYmKHMoKSxpKG5ldyBfKGUuZGF0YS5wYXlsb2FkLm1lc3NhZ2Usci5NaXNzaW5nQ29udGVudCkpKSxPYmplY3QoTy5hKShlLmRhdGEsbC5hLkZyYW1lTG9hZGVkKSkpe3Quc3R5bGUuZGlzcGxheT1cIlwiO3ZhciBvPWUuZGF0YS5wYXlsb2FkJiZlLmRhdGEucGF5bG9hZC5jb250ZW50SWQsYT1PYmplY3QoUy5hKSh7c2Nyb2xsaW5nOiExLHNpemVXaWR0aDohMSxoZWlnaHRDYWxjdWxhdGlvbk1ldGhvZDpvP1widGFnZ2VkRWxlbWVudFwiOlwibG93ZXN0RWxlbWVudFwifSx0KTtzKCksbihhW2EubGVuZ3RoLTFdKX19LHM9ZnVuY3Rpb24oKXt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixhKSx3aW5kb3cuY2xlYXJUaW1lb3V0KG8pfTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixhKX0pKX0sdH0oKTtuLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gQX0pKTt2YXIgST1cIkJpZ0NvbW1lcmNlLkVtYmVkZGVkQ2hlY2tvdXRcIjtmdW5jdGlvbiBBKHQpe3ZhciBlPU9iamVjdChkLmEpKHQudXJsKS5vcmlnaW47cmV0dXJuIG5ldyBnKG5ldyB3LG5ldyBvLmEoZSksbmV3IGEuYShlKSxuZXcgQyh7c3R5bGVzOnQuc3R5bGVzJiZ0LnN0eWxlcy5sb2FkaW5nSW5kaWNhdG9yfSksT2JqZWN0KGkuY3JlYXRlUmVxdWVzdFNlbmRlcikoKSxuZXcgdShJKSx3aW5kb3cubG9jYXRpb24sdCkuYXR0YWNoKCl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigxOTIpLGk9bigxNDUpLG89bigxNDQpLGE9bigyNCk7ZnVuY3Rpb24gcyh0KXtpZih0LnBheWxvYWQmJnQucGF5bG9hZC5jb250ZW50SWQpe3ZhciBlPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHQucGF5bG9hZC5jb250ZW50SWQpO2UmJiFlLmhhc0F0dHJpYnV0ZShcImRhdGEtaWZyYW1lLWhlaWdodFwiKSYmZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWlmcmFtZS1oZWlnaHRcIixcIlwiKX19dmFyIGM9bigwKTtmdW5jdGlvbiB1KHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0Lm1lc3NhZ2UmJlwic3RyaW5nXCI9PXR5cGVvZiB0LnR5cGUmJihcInN0cmluZ1wiPT10eXBlb2YgdC5zdWJ0eXBlfHwhdC5zdWJ0eXBlKSYmdCBpbnN0YW5jZW9mIEVycm9yfXZhciBkPW4oOTgpLHA9bigxMDcpLGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIpe3ZvaWQgMD09PXImJihyPXt9KSx0aGlzLl9tZXNzYWdlTGlzdGVuZXI9dCx0aGlzLl9tZXNzYWdlUG9zdGVyPWUsdGhpcy5fdW50YXJnZXRlZE1lc3NhZ2VQb3N0ZXI9bix0aGlzLl9tZXNzYWdlSGFuZGxlcnM9cix0aGlzLl9tZXNzYWdlTGlzdGVuZXIubGlzdGVuKCl9cmV0dXJuIHQucHJvdG90eXBlLnBvc3RDb21wbGV0ZT1mdW5jdGlvbigpe3ZhciB0PXt0eXBlOmEuYS5DaGVja291dENvbXBsZXRlfTt0aGlzLl9wb3N0TWVzc2FnZSh0KX0sdC5wcm90b3R5cGUucG9zdEVycm9yPWZ1bmN0aW9uKHQpe3ZhciBlPXt0eXBlOmEuYS5DaGVja291dEVycm9yLHBheWxvYWQ6dGhpcy5fdHJhbnNmb3JtRXJyb3IodCl9O3RoaXMuX3Bvc3RNZXNzYWdlKGUpfSx0LnByb3RvdHlwZS5wb3N0RnJhbWVFcnJvcj1mdW5jdGlvbih0KXt2YXIgZT17dHlwZTphLmEuRnJhbWVFcnJvcixwYXlsb2FkOnRoaXMuX3RyYW5zZm9ybUVycm9yKHQpfTt0aGlzLl9wb3N0TWVzc2FnZShlLHt1bnRhcmdldGVkOiEwfSl9LHQucHJvdG90eXBlLnBvc3RGcmFtZUxvYWRlZD1mdW5jdGlvbih0KXt2YXIgZT17dHlwZTphLmEuRnJhbWVMb2FkZWQscGF5bG9hZDp0fTt0aGlzLl9wb3N0TWVzc2FnZShlKX0sdC5wcm90b3R5cGUucG9zdExvYWRlZD1mdW5jdGlvbigpe3ZhciB0PXt0eXBlOmEuYS5DaGVja291dExvYWRlZH07dGhpcy5fcG9zdE1lc3NhZ2UodCl9LHQucHJvdG90eXBlLnBvc3RTaWduZWRPdXQ9ZnVuY3Rpb24oKXt2YXIgdD17dHlwZTphLmEuU2lnbmVkT3V0fTt0aGlzLl9wb3N0TWVzc2FnZSh0KX0sdC5wcm90b3R5cGUucmVjZWl2ZVN0eWxlcz1mdW5jdGlvbih0KXt0aGlzLl9tZXNzYWdlTGlzdGVuZXIuYWRkTGlzdGVuZXIocC5hLlN0eWxlQ29uZmlndXJlZCwoZnVuY3Rpb24oZSl7dmFyIG49ZS5wYXlsb2FkO3Qobil9KSl9LHQucHJvdG90eXBlLl9wb3N0TWVzc2FnZT1mdW5jdGlvbih0LGUpe2lmKHRoaXMuX25vdGlmeU1lc3NhZ2VIYW5kbGVycyh0KSxlJiZlLnVudGFyZ2V0ZWQpcmV0dXJuIHRoaXMuX3VudGFyZ2V0ZWRNZXNzYWdlUG9zdGVyLnBvc3QodCk7dGhpcy5fbWVzc2FnZVBvc3Rlci5wb3N0KHQpfSx0LnByb3RvdHlwZS5fbm90aWZ5TWVzc2FnZUhhbmRsZXJzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7T2JqZWN0LmtleXModGhpcy5fbWVzc2FnZUhhbmRsZXJzKS5mb3JFYWNoKChmdW5jdGlvbihuKXtpZih0LnR5cGU9PT1uKXt2YXIgcj1lLl9tZXNzYWdlSGFuZGxlcnNbbl07ciYmci5jYWxsKG51bGwsdCl9fSkpfSx0LnByb3RvdHlwZS5fdHJhbnNmb3JtRXJyb3I9ZnVuY3Rpb24odCl7cmV0dXJue21lc3NhZ2U6dC5tZXNzYWdlLHR5cGU6dSh0KT90LnR5cGU6dm9pZCAwLHN1YnR5cGU6dSh0KT90LnN1YnR5cGU6dm9pZCAwfX0sdD1PYmplY3QoYy5fX2RlY29yYXRlKShbZC5hXSx0KX0oKSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUucG9zdENvbXBsZXRlPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5wb3N0RXJyb3I9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLnBvc3RGcmFtZUVycm9yPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5wb3N0RnJhbWVMb2FkZWQ9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLnBvc3RMb2FkZWQ9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLnBvc3RTaWduZWRPdXQ9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLnJlY2VpdmVTdHlsZXM9ZnVuY3Rpb24oKXt9LHQ9T2JqZWN0KGMuX19kZWNvcmF0ZSkoW2QuYV0sdCl9KCk7ZnVuY3Rpb24gbSh0KXt2YXIgZTtPYmplY3Qoci5iKSgpO3ZhciBuPXQucGFyZW50V2luZG93fHx3aW5kb3cucGFyZW50O3JldHVybiB3aW5kb3c9PT1uP25ldyBsOm5ldyBoKG5ldyBpLmEodC5wYXJlbnRPcmlnaW4pLG5ldyBvLmEodC5wYXJlbnRPcmlnaW4sbiksbmV3IG8uYShcIipcIixuKSwoKGU9e30pW2EuYS5GcmFtZUxvYWRlZF09cyxlKSl9bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG19KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDApLGk9bigyKSxvPW4oNjgpLGE9bi5uKG8pO2Z1bmN0aW9uIHModCl7cmV0dXJuIHQuaGFzT3duUHJvcGVydHkoXCJjYWNoZUtleVwiKX12YXIgYz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fbGFzdElkPTAsdGhpcy5fbWFwPXttYXBzOltdfSx0aGlzLl91c2VkTWFwcz1bXSx0aGlzLl9vcHRpb25zPU9iamVjdChyLl9fYXNzaWduKSh7bWF4U2l6ZTowLGlzRXF1YWw6YS5hLG9uRXhwaXJlOmkubm9vcH0sdCl9cmV0dXJuIHQucHJvdG90eXBlLmdldEtleT1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTt2YXIgbj10aGlzLl9yZXNvbHZlTWFwLmFwcGx5KHRoaXMsdCkscj1uLmluZGV4LGk9bi5wYXJlbnRNYXAsbz1uLm1hcDtyZXR1cm4gbyYmby5jYWNoZUtleT9vLnVzZWRDb3VudCsrOm89dGhpcy5fZ2VuZXJhdGVNYXAoaSx0LnNsaWNlKHIpKSx0aGlzLl9yZW1vdmVMZWFzdFVzZWRNYXAobyksby5jYWNoZUtleX0sdC5wcm90b3R5cGUuZ2V0VXNlZENvdW50PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3ZhciBuPXRoaXMuX3Jlc29sdmVNYXAuYXBwbHkodGhpcyx0KS5tYXA7cmV0dXJuIG4/bi51c2VkQ291bnQ6MH0sdC5wcm90b3R5cGUuX3Jlc29sdmVNYXA9ZnVuY3Rpb24oKXtmb3IodmFyIHQsZT1bXSxuPTA7bjxhcmd1bWVudHMubGVuZ3RoO24rKyllW25dPWFyZ3VtZW50c1tuXTtmb3IodmFyIHI9MCxpPXRoaXMuX21hcDtpLm1hcHMubGVuZ3RoOyl7Zm9yKHZhciBvPSExLGE9MDthPGkubWFwcy5sZW5ndGg7YSsrKXt2YXIgYz1pLm1hcHNbYV07aWYodGhpcy5fb3B0aW9ucy5pc0VxdWFsKGMudmFsdWUsZVtyXSkpe2lmKCh0PWkubWFwcykudW5zaGlmdC5hcHBseSh0LGkubWFwcy5zcGxpY2UoYSwxKSksKDA9PT1lLmxlbmd0aHx8cj09PWUubGVuZ3RoLTEpJiZzKGMpKXJldHVybntpbmRleDpyLG1hcDpjLHBhcmVudE1hcDppfTtvPSEwLGk9YyxyKys7YnJlYWt9fWlmKCFvKWJyZWFrfXJldHVybntpbmRleDpyLHBhcmVudE1hcDppfX0sdC5wcm90b3R5cGUuX2dlbmVyYXRlTWFwPWZ1bmN0aW9uKHQsZSl7dmFyIG4scj0wLGk9dDtkb3tuPXttYXBzOltdLHBhcmVudE1hcDppLHVzZWRDb3VudDoxLHZhbHVlOmVbcl19LGkubWFwcy51bnNoaWZ0KG4pLGk9bixyKyt9d2hpbGUocjxlLmxlbmd0aCk7dmFyIG89bjtyZXR1cm4gby5jYWNoZUtleT1cIlwiKyArK3RoaXMuX2xhc3RJZCxvfSx0LnByb3RvdHlwZS5fcmVtb3ZlTGVhc3RVc2VkTWFwPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX29wdGlvbnMubWF4U2l6ZSl7dmFyIGU9dGhpcy5fdXNlZE1hcHMuaW5kZXhPZih0KTtpZih0aGlzLl91c2VkTWFwcy5zcGxpY2UoLTE9PT1lPzA6ZSwtMT09PWU/MDoxLHQpLCEodGhpcy5fdXNlZE1hcHMubGVuZ3RoPD10aGlzLl9vcHRpb25zLm1heFNpemUpKXt2YXIgbj10aGlzLl91c2VkTWFwcy5wb3AoKTtuJiYodGhpcy5fcmVtb3ZlTWFwKG4pLHRoaXMuX29wdGlvbnMub25FeHBpcmUobi5jYWNoZUtleSkpfX19LHQucHJvdG90eXBlLl9yZW1vdmVNYXA9ZnVuY3Rpb24odCl7dC5wYXJlbnRNYXAmJih0LnBhcmVudE1hcC5tYXBzLnNwbGljZSh0LnBhcmVudE1hcC5tYXBzLmluZGV4T2YodCksMSksZnVuY3Rpb24odCl7cmV0dXJuIHQuaGFzT3duUHJvcGVydHkoXCJwYXJlbnRNYXBcIil9KHQucGFyZW50TWFwKXx8dGhpcy5fcmVtb3ZlTWFwKHQucGFyZW50TWFwKSl9LHR9KCk7ZS5hPWN9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXJlcXVpcmUoXCJtZXNzYWdlZm9ybWF0XCIpfSwsLCwsLCwsLCwsLCwsLCwsLGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtuLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKTt2YXIgcj1uKDApLGk9bigzNyk7ZnVuY3Rpb24gbyh0LGUpe3ZhciBuPXQuYm9keS5lcnJvcnMscj12b2lkIDA9PT1uP1tdOm47cmV0dXJuIG5ldyBpLmEodCx7bWVzc2FnZTphKHIpfHxlLGVycm9yczpyfSl9ZnVuY3Rpb24gYSh0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiB0LnJlZHVjZSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gZSYmZS5tZXNzYWdlP09iamVjdChyLl9fc3ByZWFkQXJyYXlzKSh0LFtlLm1lc3NhZ2VdKTp0fSksW10pLmpvaW4oXCIgXCIpfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMCksaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzLGUse21lc3NhZ2U6XCJUaGUgcmVxdWVzdCBoYXMgdGltZWQgb3V0IG9yIGFib3J0ZWQuXCJ9KXx8dGhpcztyZXR1cm4gbi5uYW1lPVwiVGltZW91dEVycm9yXCIsbi50eXBlPVwidGltZW91dFwiLG59cmV0dXJuIE9iamVjdChyLl9fZXh0ZW5kcykoZSx0KSxlfShuKDM3KS5hKTtlLmE9aX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMCksaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzLGUse21lc3NhZ2U6XCJUaGVyZSBpcyBhIHByb2JsZW0gcHJvY2Vzc2luZyB5b3VyIHBheW1lbnQuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuXCJ9KXx8dGhpcztyZXR1cm4gbi5uYW1lPVwiUGF5bWVudE1ldGhvZEludmFsaWRFcnJvclwiLG4udHlwZT1cInBheW1lbnRfbWV0aG9kX2ludmFsaWRcIixufXJldHVybiBPYmplY3Qoci5fX2V4dGVuZHMpKGUsdCksZX0obigzNykuYSk7ZS5hPWl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDc5KSxpPW4oODYpO2UuYT1PYmplY3QoaS5hKShyLmNyZWF0ZVNlbGVjdG9yKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiByfSkpLGZ1bmN0aW9uKHQpe3QuVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3RlZD1cIlVQREFURV9TVUJTQ1JJUFRJT05TX1JFUVVFU1RFRFwiLHQuVXBkYXRlU3Vic2NyaXB0aW9uc1N1Y2NlZWRlZD1cIlVQREFURV9TVUJTQ1JJUFRJT05TX1NVQ0NFRURFRFwiLHQuVXBkYXRlU3Vic2NyaXB0aW9uc0ZhaWxlZD1cIlVQREFURV9TVUJTQ1JJUFRJT05TX0ZBSUxFRFwifShyfHwocj17fSkpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigwKSxpPW4oMSksbz1uKDMpLGE9big5Mykscz1uKDM5KSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9jb25maWdSZXF1ZXN0U2VuZGVyPXR9cmV0dXJuIHQucHJvdG90eXBlLmxvYWRDb25maWc9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gby5PYnNlcnZhYmxlLmNyZWF0ZSgoZnVuY3Rpb24obil7bi5uZXh0KE9iamVjdChpLmNyZWF0ZUFjdGlvbikocy5hLkxvYWRDb25maWdSZXF1ZXN0ZWQpKSxlLl9jb25maWdSZXF1ZXN0U2VuZGVyLmxvYWRDb25maWcodCkudGhlbigoZnVuY3Rpb24odCl7bi5uZXh0KE9iamVjdChpLmNyZWF0ZUFjdGlvbikocy5hLkxvYWRDb25maWdTdWNjZWVkZWQsdC5ib2R5KSksbi5jb21wbGV0ZSgpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtuLmVycm9yKE9iamVjdChpLmNyZWF0ZUVycm9yQWN0aW9uKShzLmEuTG9hZENvbmZpZ0ZhaWxlZCx0KSl9KSl9KSl9LE9iamVjdChyLl9fZGVjb3JhdGUpKFthLmFdLHQucHJvdG90eXBlLFwibG9hZENvbmZpZ1wiLG51bGwpLHR9KCk7ZS5hPWN9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDMxKSxpPW4oNjApLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3JlcXVlc3RTZW5kZXI9dH1yZXR1cm4gdC5wcm90b3R5cGUubG9hZENvbmZpZz1mdW5jdGlvbih0KXt2YXIgZT0odm9pZCAwPT09dD97fTp0KS50aW1lb3V0O3JldHVybiB0aGlzLl9yZXF1ZXN0U2VuZGVyLmdldChcIi9hcGkvc3RvcmVmcm9udC9jaGVja291dC1zZXR0aW5nc1wiLHt0aW1lb3V0OmUsaGVhZGVyczp7QWNjZXB0OnIuYS5Kc29uVjEsXCJYLUFQSS1JTlRFUk5BTFwiOmkuYX19KX0sdH0oKTtlLmE9b30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMzEpLGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3JlcXVlc3RTZW5kZXI9dH1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlU3Vic2NyaXB0aW9ucz1mdW5jdGlvbih0LGUpe3ZhciBuPSh2b2lkIDA9PT1lP3t9OmUpLnRpbWVvdXQsaT17QWNjZXB0OnIuYS5Kc29uVjF9O3JldHVybiB0aGlzLl9yZXF1ZXN0U2VuZGVyLnBvc3QoXCIvYXBpL3N0b3JlZnJvbnQvc3Vic2NyaXB0aW9uc1wiLHtib2R5OnQsaGVhZGVyczppLHRpbWVvdXQ6bn0pfSx0fSgpO2UuYT1pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigwKSxpPW4oMSksbz1uKDMpLGE9big4KSxzPW4oOTMpLGM9big5MSksdT1uKDQwKSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9mb3JtRmllbGRzUmVxdWVzdFNlbmRlcj10fXJldHVybiB0LnByb3RvdHlwZS5sb2FkRm9ybUZpZWxkcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBPYmplY3Qoby5jb25jYXQpKE9iamVjdChvLm9mKShPYmplY3QoaS5jcmVhdGVBY3Rpb24pKHUuYS5Mb2FkRm9ybUZpZWxkc1JlcXVlc3RlZCkpLE9iamVjdChvLmRlZmVyKSgoZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KHIuX19hd2FpdGVyKShlLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIE9iamVjdChyLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuX2Zvcm1GaWVsZHNSZXF1ZXN0U2VuZGVyLmxvYWRGaWVsZHModCldO2Nhc2UgMTpyZXR1cm4gZT1uLnNlbnQoKS5ib2R5LFsyLE9iamVjdChpLmNyZWF0ZUFjdGlvbikodS5hLkxvYWRGb3JtRmllbGRzU3VjY2VlZGVkLGUpXX19KSl9KSl9KSkpLnBpcGUoT2JqZWN0KGEuY2F0Y2hFcnJvcikoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoYy5hKSh1LmEuTG9hZEZvcm1GaWVsZHNGYWlsZWQsdCl9KSkpfSxPYmplY3Qoci5fX2RlY29yYXRlKShbcy5hXSx0LnByb3RvdHlwZSxcImxvYWRGb3JtRmllbGRzXCIsbnVsbCksdH0oKTtlLmE9ZH0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMzEpLGk9big2MCksbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fcmVxdWVzdFNlbmRlcj10fXJldHVybiB0LnByb3RvdHlwZS5sb2FkRmllbGRzPWZ1bmN0aW9uKHQpe3ZhciBlPSh2b2lkIDA9PT10P3t9OnQpLnRpbWVvdXQ7cmV0dXJuIHRoaXMuX3JlcXVlc3RTZW5kZXIuZ2V0KFwiL2FwaS9zdG9yZWZyb250L2Zvcm0tZmllbGRzXCIse3RpbWVvdXQ6ZSxoZWFkZXJzOntBY2NlcHQ6ci5hLkpzb25WMSxcIlgtQVBJLUlOVEVSTkFMXCI6aS5hfX0pfSx0fSgpO2UuYT1vfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigwKSxpPW4oMzEpLG89e2luY2x1ZGU6W1wiY2FydC5saW5lSXRlbXMucGh5c2ljYWxJdGVtcy5vcHRpb25zXCIsXCJjYXJ0LmxpbmVJdGVtcy5kaWdpdGFsSXRlbXMub3B0aW9uc1wiLFwiY3VzdG9tZXJcIixcInByb21vdGlvbnMuYmFubmVyc1wiXS5qb2luKFwiLFwiKX0sYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fcmVxdWVzdFNlbmRlcj10fXJldHVybiB0LnByb3RvdHlwZS5jcmVhdGVBZGRyZXNzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj0odm9pZCAwPT09bj97fTpuKS50aW1lb3V0LGE9XCIvYXBpL3N0b3JlZnJvbnQvY2hlY2tvdXRzL1wiK3QrXCIvYmlsbGluZy1hZGRyZXNzXCIscz17QWNjZXB0OmkuYS5Kc29uVjF9O3JldHVybiB0aGlzLl9yZXF1ZXN0U2VuZGVyLnBvc3QoYSx7Ym9keTplLHBhcmFtczpvLGhlYWRlcnM6cyx0aW1lb3V0OnJ9KX0sdC5wcm90b3R5cGUudXBkYXRlQWRkcmVzcz1mdW5jdGlvbih0LGUsbil7dmFyIGE9KHZvaWQgMD09PW4/e306bikudGltZW91dCxzPWUuaWQsYz1PYmplY3Qoci5fX3Jlc3QpKGUsW1wiaWRcIl0pLHU9XCIvYXBpL3N0b3JlZnJvbnQvY2hlY2tvdXRzL1wiK3QrXCIvYmlsbGluZy1hZGRyZXNzL1wiK3MsZD17QWNjZXB0OmkuYS5Kc29uVjF9O3JldHVybiB0aGlzLl9yZXF1ZXN0U2VuZGVyLnB1dCh1LHtwYXJhbXM6byxib2R5OmMsaGVhZGVyczpkLHRpbWVvdXQ6YX0pfSx0fSgpO2UuYT1hfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigwKSxpPW4oNTIpLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX2ZhY3Rvcmllcz17fSx0aGlzLl9pbnN0YW5jZXM9e30sdGhpcy5fb3B0aW9ucz1PYmplY3Qoci5fX2Fzc2lnbikoe2RlZmF1bHRUb2tlbjpcImRlZmF1bHRcIn0sdCl9cmV0dXJuIHQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0LGUpe3RyeXtyZXR1cm4gdGhpcy5fZ2V0SW5zdGFuY2UodHx8dGhpcy5fb3B0aW9ucy5kZWZhdWx0VG9rZW4sZXx8dHx8dGhpcy5fb3B0aW9ucy5kZWZhdWx0VG9rZW4pfWNhdGNoKHQpe3JldHVybiB0aGlzLl9nZXRJbnN0YW5jZSh0aGlzLl9vcHRpb25zLmRlZmF1bHRUb2tlbixlfHx0aGlzLl9vcHRpb25zLmRlZmF1bHRUb2tlbil9fSx0LnByb3RvdHlwZS5yZWdpc3Rlcj1mdW5jdGlvbih0LGUpe2lmKHRoaXMuX2hhc0ZhY3RvcnkodCkpdGhyb3cgbmV3IGkuYShcIidcIit0K1wiJyBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQuXCIpO3RoaXMuX2ZhY3Rvcmllc1t0XT1lfSx0LnByb3RvdHlwZS5faGFzRmFjdG9yeT1mdW5jdGlvbih0KXtyZXR1cm4hIXRoaXMuX2ZhY3Rvcmllc1t0XX0sdC5wcm90b3R5cGUuX2hhc0luc3RhbmNlPWZ1bmN0aW9uKHQpe3JldHVybiEhdGhpcy5faW5zdGFuY2VzW3RdfSx0LnByb3RvdHlwZS5fZ2V0SW5zdGFuY2U9ZnVuY3Rpb24odCxlKXtpZighdGhpcy5faGFzSW5zdGFuY2UoZSkpe3ZhciBuPXRoaXMuX2ZhY3Rvcmllc1t0XTtpZighbil0aHJvdyBuZXcgaS5hKFwiJ1wiK3QrXCInIGlzIG5vdCByZWdpc3RlcmVkLlwiKTt0aGlzLl9pbnN0YW5jZXNbZV09bigpfXJldHVybiB0aGlzLl9pbnN0YW5jZXNbZV19LHR9KCk7ZS5hPW99LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDApLGk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyxlfHxcIk5vdCBpbXBsZW1lbnRlZC5cIil8fHRoaXM7cmV0dXJuIG4ubmFtZT1cIk5vdEltcGxlbWVudGVkRXJyb3JcIixuLnR5cGU9XCJub3RfaW1wbGVtZW50ZWRcIixufXJldHVybiBPYmplY3Qoci5fX2V4dGVuZHMpKGUsdCksZX0obigyMykuYSk7ZS5hPWl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDApLGk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyxcIlVuYWJsZSB0byBzeW5jaHJvbml6ZSB5b3VyIGNoZWNrb3V0IGRldGFpbHMgd2l0aCBhIHRoaXJkIHBhcnR5IHByb3ZpZGVyLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLlwiKXx8dGhpcztyZXR1cm4gbi5lcnJvcj1lLG4ubmFtZT1cIlJlbW90ZUNoZWNrb3V0U3luY2hyb25pemF0aW9uRXJyb3JcIixuLnR5cGU9XCJyZW1vdGVfY2hlY2tvdXRfc3luY2hyb25pemF0aW9uXCIsbn1yZXR1cm4gT2JqZWN0KHIuX19leHRlbmRzKShlLHQpLGV9KG4oMjMpLmEpO2UuYT1pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigyKSxpPW4oMzApLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2dldEdvb2dsZVBheVBheW1lbnREYXRhUmVxdWVzdCh0LGUsbikpfSx0LnByb3RvdHlwZS50ZWFyZG93bj1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0sdC5wcm90b3R5cGUucGFyc2VSZXNwb25zZT1mdW5jdGlvbih0KXt2YXIgZT10LnBheW1lbnRNZXRob2REYXRhLG49ZS50eXBlLHI9ZS50b2tlbml6YXRpb25EYXRhLnRva2VuLGk9ZS5pbmZvLG89aS5jYXJkTmV0d29yayxhPWkuY2FyZERldGFpbHM7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh7dHlwZTpuLG5vbmNlOnIsZGV0YWlsczp7Y2FyZFR5cGU6byxsYXN0Rm91cjphfX0pfSx0LnByb3RvdHlwZS5fZ2V0R29vZ2xlUGF5UGF5bWVudERhdGFSZXF1ZXN0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10Lm91dHN0YW5kaW5nQmFsYW5jZSxhPXQuY2FydC5jdXJyZW5jeS5jb2RlLHM9ZS5pbml0aWFsaXphdGlvbkRhdGEsYz1zLmdhdGV3YXlNZXJjaGFudElkLHU9cy5zdG9yZUNvdW50cnksZD1zLmdvb2dsZU1lcmNoYW50TmFtZSxwPXMuZ29vZ2xlTWVyY2hhbnRJZDtyZXR1cm57YXBpVmVyc2lvbjoyLGFwaVZlcnNpb25NaW5vcjowLG1lcmNoYW50SW5mbzp7YXV0aEp3dDpzLnBsYXRmb3JtVG9rZW4sbWVyY2hhbnRJZDpwLG1lcmNoYW50TmFtZTpkfSxhbGxvd2VkUGF5bWVudE1ldGhvZHM6W3t0eXBlOlwiQ0FSRFwiLHBhcmFtZXRlcnM6e2FsbG93ZWRBdXRoTWV0aG9kczpbXCJQQU5fT05MWVwiLFwiQ1JZUFRPR1JBTV8zRFNcIl0sYWxsb3dlZENhcmROZXR3b3JrczplLnN1cHBvcnRlZENhcmRzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuXCJNQ1wiPT09dD9cIk1BU1RFUkNBUkRcIjp0fSkpLGJpbGxpbmdBZGRyZXNzUmVxdWlyZWQ6ITAsYmlsbGluZ0FkZHJlc3NQYXJhbWV0ZXJzOntmb3JtYXQ6aS5hLkZ1bGwscGhvbmVOdW1iZXJSZXF1aXJlZDohMH19LHRva2VuaXphdGlvblNwZWNpZmljYXRpb246e3R5cGU6XCJQQVlNRU5UX0dBVEVXQVlcIixwYXJhbWV0ZXJzOntnYXRld2F5OlwiYWR5ZW5cIixnYXRld2F5TWVyY2hhbnRJZDpjfX19XSx0cmFuc2FjdGlvbkluZm86e2NvdW50cnlDb2RlOnUsY3VycmVuY3lDb2RlOmEsdG90YWxQcmljZVN0YXR1czpcIkZJTkFMXCIsdG90YWxQcmljZTpPYmplY3Qoci5yb3VuZCkobywyKS50b0ZpeGVkKDIpfSxlbWFpbFJlcXVpcmVkOiEwLHNoaXBwaW5nQWRkcmVzc1JlcXVpcmVkOiFuLHNoaXBwaW5nQWRkcmVzc1BhcmFtZXRlcnM6e3Bob25lTnVtYmVyUmVxdWlyZWQ6ITB9fX0sdH0oKTtlLmE9b30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oNDYpLGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dm9pZCAwPT09ZSYmKGU9d2luZG93KSx0aGlzLl9zY3JpcHRMb2FkZXI9dCx0aGlzLl93aW5kb3c9ZX1yZXR1cm4gdC5wcm90b3R5cGUubG9hZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiB0aGlzLl9zY3JpcHRMb2FkZXIubG9hZFNjcmlwdChcIi8vXCIrKHQ/XCJzYW5kYm94LlwiOlwiXCIpK1wibWFzdGVycGFzcy5jb20vaW50ZWdyYXRpb24vbWVyY2hhbnQuanNcIikudGhlbigoZnVuY3Rpb24oKXtpZighZS5fd2luZG93Lm1hc3RlcnBhc3MpdGhyb3cgbmV3IHIuYTtyZXR1cm4gZS5fd2luZG93Lm1hc3RlcnBhc3N9KSl9LHR9KCk7ZS5hPWl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDApLGk9bigyKSxvPW4oMzApLGE9e2FwaVZlcnNpb246MixhcGlWZXJzaW9uTWlub3I6MH0scz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fZ2V0R29vZ2xlUGF5bWVudERhdGFSZXF1ZXN0KHQsZSxuKSl9LHQucHJvdG90eXBlLnRlYXJkb3duPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfSx0LnByb3RvdHlwZS5wYXJzZVJlc3BvbnNlPWZ1bmN0aW9uKHQpe3ZhciBlPXQucGF5bWVudE1ldGhvZERhdGEsbj1lLnR5cGUscj1lLnRva2VuaXphdGlvbkRhdGEudG9rZW4saT1lLmluZm8sbz1pLmNhcmROZXR3b3JrLGE9aS5jYXJkRGV0YWlscztyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHt0eXBlOm4sbm9uY2U6YnRvYShyKSxkZXRhaWxzOntjYXJkVHlwZTpvLGxhc3RGb3VyOmF9fSl9LHQucHJvdG90eXBlLl9nZXRHb29nbGVQYXltZW50RGF0YVJlcXVlc3Q9ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXQub3V0c3RhbmRpbmdCYWxhbmNlLHM9dC5jYXJ0LmN1cnJlbmN5LmNvZGUsYz1lLmluaXRpYWxpemF0aW9uRGF0YSx1PWMucGF5bWVudEdhdGV3YXlJZCxkPWMuc3RvcmVDb3VudHJ5LHA9Yy5nb29nbGVNZXJjaGFudE5hbWUsaD1jLmdvb2dsZU1lcmNoYW50SWQsbD1jLnBsYXRmb3JtVG9rZW4sbT1lLnN1cHBvcnRlZENhcmRzLGY9dGhpcy5fZ2V0UGF5bWVudEdhdGV3YXlTcGVjaWZpY2F0aW9uKHUpLF89dGhpcy5fZ2V0Q2FyZFBheW1lbnRNZXRob2QoZixtKTtyZXR1cm4gT2JqZWN0KHIuX19hc3NpZ24pKE9iamVjdChyLl9fYXNzaWduKSh7fSxhKSx7YWxsb3dlZFBheW1lbnRNZXRob2RzOltfXSx0cmFuc2FjdGlvbkluZm86e3RvdGFsUHJpY2VTdGF0dXM6XCJGSU5BTFwiLHRvdGFsUHJpY2U6T2JqZWN0KGkucm91bmQpKG8sMikudG9GaXhlZCgyKSxjdXJyZW5jeUNvZGU6cyxjb3VudHJ5Q29kZTpkfSxtZXJjaGFudEluZm86e21lcmNoYW50TmFtZTpwLG1lcmNoYW50SWQ6aCxhdXRoSnd0Omx9LGVtYWlsUmVxdWlyZWQ6ITAsc2hpcHBpbmdBZGRyZXNzUmVxdWlyZWQ6IW4sc2hpcHBpbmdBZGRyZXNzUGFyYW1ldGVyczp7cGhvbmVOdW1iZXJSZXF1aXJlZDohMH19KX0sdC5wcm90b3R5cGUuX2dldFBheW1lbnRHYXRld2F5U3BlY2lmaWNhdGlvbj1mdW5jdGlvbih0KXtyZXR1cm57dHlwZTpcIlBBWU1FTlRfR0FURVdBWVwiLHBhcmFtZXRlcnM6e2dhdGV3YXk6XCJhdXRob3JpemVuZXRcIixnYXRld2F5TWVyY2hhbnRJZDp0fX19LHQucHJvdG90eXBlLl9nZXRDYXJkUGF5bWVudE1ldGhvZD1mdW5jdGlvbih0LGUpe3JldHVybnt0eXBlOlwiQ0FSRFwiLHBhcmFtZXRlcnM6e2FsbG93ZWRBdXRoTWV0aG9kczpbXCJQQU5fT05MWVwiLFwiQ1JZUFRPR1JBTV8zRFNcIl0sYWxsb3dlZENhcmROZXR3b3JrczplLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuXCJNQ1wiPT09dD9cIk1BU1RFUkNBUkRcIjp0fSkpLGJpbGxpbmdBZGRyZXNzUmVxdWlyZWQ6ITAsYmlsbGluZ0FkZHJlc3NQYXJhbWV0ZXJzOntmb3JtYXQ6by5hLkZ1bGwscGhvbmVOdW1iZXJSZXF1aXJlZDohMH19LHRva2VuaXphdGlvblNwZWNpZmljYXRpb246dH19LHR9KCk7ZS5hPXN9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDIpLGk9bigxMiksbz1uKDMwKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9icmFpbnRyZWVTREtDcmVhdG9yPXR9cmV0dXJuIHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXM7aWYoIWUuY2xpZW50VG9rZW4pdGhyb3cgbmV3IGkuYihpLmEuTWlzc2luZ1BheW1lbnRNZXRob2QpO3JldHVybiB0aGlzLl9icmFpbnRyZWVTREtDcmVhdG9yLmluaXRpYWxpemUoZS5jbGllbnRUb2tlbiksdGhpcy5fYnJhaW50cmVlU0RLQ3JlYXRvci5nZXRHb29nbGVQYXltZW50Q29tcG9uZW50KCkudGhlbigoZnVuY3Rpb24oaSl7cmV0dXJuIHIuX2dvb2dsZVBheW1lbnRJbnN0YW5jZT1pLHIuX2NyZWF0ZUdvb2dsZVBheVBheWxvYWQodCxlLmluaXRpYWxpemF0aW9uRGF0YSxuKX0pKX0sdC5wcm90b3R5cGUudGVhcmRvd249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnJhaW50cmVlU0RLQ3JlYXRvci50ZWFyZG93bigpfSx0LnByb3RvdHlwZS5wYXJzZVJlc3BvbnNlPWZ1bmN0aW9uKHQpe3ZhciBlPUpTT04ucGFyc2UodC5wYXltZW50TWV0aG9kRGF0YS50b2tlbml6YXRpb25EYXRhLnRva2VuKS5hbmRyb2lkUGF5Q2FyZHNbMF07cmV0dXJuIFByb21pc2UucmVzb2x2ZSh7bm9uY2U6ZS5ub25jZSx0eXBlOmUudHlwZSxkZXNjcmlwdGlvbjplLmRlc2NyaXB0aW9uLGRldGFpbHM6e2NhcmRUeXBlOmUuZGV0YWlscy5jYXJkVHlwZSxsYXN0Rm91cjplLmRldGFpbHMubGFzdEZvdXIsbGFzdFR3bzplLmRldGFpbHMubGFzdFR3b30sYmluRGF0YTplLmJpbkRhdGF9KX0sdC5wcm90b3R5cGUuX2NyZWF0ZUdvb2dsZVBheVBheWxvYWQ9ZnVuY3Rpb24odCxlLG4pe2lmKCFlLnBsYXRmb3JtVG9rZW4pdGhyb3cgbmV3IGkuYihpLmEuTWlzc2luZ1BheW1lbnRNZXRob2QpO3ZhciBvPXttZXJjaGFudEluZm86e2F1dGhKd3Q6ZS5wbGF0Zm9ybVRva2VuLG1lcmNoYW50TmFtZTplLmdvb2dsZU1lcmNoYW50TmFtZSxtZXJjaGFudElkOmUuZ29vZ2xlTWVyY2hhbnRJZH0sdHJhbnNhY3Rpb25JbmZvOntjdXJyZW5jeUNvZGU6dC5jYXJ0LmN1cnJlbmN5LmNvZGUsdG90YWxQcmljZVN0YXR1czpcIkZJTkFMXCIsdG90YWxQcmljZTpPYmplY3Qoci5yb3VuZCkodC5vdXRzdGFuZGluZ0JhbGFuY2UsMikudG9GaXhlZCgyKX0sY2FyZFJlcXVpcmVtZW50czp7YmlsbGluZ0FkZHJlc3NSZXF1aXJlZDohMCxiaWxsaW5nQWRkcmVzc0Zvcm1hdDpcIkZVTExcIn0sc2hpcHBpbmdBZGRyZXNzUmVxdWlyZWQ6IW4sZW1haWxSZXF1aXJlZDohMCxwaG9uZU51bWJlclJlcXVpcmVkOiEwfTtyZXR1cm4gdGhpcy5fbWFwR29vZ2xlUGF5QnJhaW50cmVlRGF0YVJlcXVlc3RUb0dvb2dsZVBheURhdGFSZXF1ZXN0VjIodGhpcy5fZ29vZ2xlUGF5bWVudEluc3RhbmNlLmNyZWF0ZVBheW1lbnREYXRhUmVxdWVzdChvKSl9LHQucHJvdG90eXBlLl9tYXBHb29nbGVQYXlCcmFpbnRyZWVEYXRhUmVxdWVzdFRvR29vZ2xlUGF5RGF0YVJlcXVlc3RWMj1mdW5jdGlvbih0KXtyZXR1cm57YXBpVmVyc2lvbjoyLGFwaVZlcnNpb25NaW5vcjowLG1lcmNoYW50SW5mbzp7YXV0aEp3dDp0Lm1lcmNoYW50SW5mby5hdXRoSnd0LG1lcmNoYW50SWQ6dC5tZXJjaGFudEluZm8ubWVyY2hhbnRJZCxtZXJjaGFudE5hbWU6dC5tZXJjaGFudEluZm8ubWVyY2hhbnROYW1lfSxhbGxvd2VkUGF5bWVudE1ldGhvZHM6W3t0eXBlOlwiQ0FSRFwiLHBhcmFtZXRlcnM6e2FsbG93ZWRBdXRoTWV0aG9kczpbXCJQQU5fT05MWVwiLFwiQ1JZUFRPR1JBTV8zRFNcIl0sYWxsb3dlZENhcmROZXR3b3Jrczp0LmNhcmRSZXF1aXJlbWVudHMuYWxsb3dlZENhcmROZXR3b3JrcyxiaWxsaW5nQWRkcmVzc1JlcXVpcmVkOiEwLGJpbGxpbmdBZGRyZXNzUGFyYW1ldGVyczp7Zm9ybWF0Om8uYS5GdWxsLHBob25lTnVtYmVyUmVxdWlyZWQ6ITB9fSx0b2tlbml6YXRpb25TcGVjaWZpY2F0aW9uOnt0eXBlOlwiUEFZTUVOVF9HQVRFV0FZXCIscGFyYW1ldGVyczp7Z2F0ZXdheTpcImJyYWludHJlZVwiLFwiYnJhaW50cmVlOmFwaVZlcnNpb25cIjpcInYxXCIsXCJicmFpbnRyZWU6YXV0aG9yaXphdGlvbkZpbmdlcnByaW50XCI6dC5wYXltZW50TWV0aG9kVG9rZW5pemF0aW9uUGFyYW1ldGVycy5wYXJhbWV0ZXJzW1wiYnJhaW50cmVlOmF1dGhvcml6YXRpb25GaW5nZXJwcmludFwiXSxcImJyYWludHJlZTptZXJjaGFudElkXCI6dC5wYXltZW50TWV0aG9kVG9rZW5pemF0aW9uUGFyYW1ldGVycy5wYXJhbWV0ZXJzW1wiYnJhaW50cmVlOm1lcmNoYW50SWRcIl0sXCJicmFpbnRyZWU6c2RrVmVyc2lvblwiOnQucGF5bWVudE1ldGhvZFRva2VuaXphdGlvblBhcmFtZXRlcnMucGFyYW1ldGVyc1tcImJyYWludHJlZTpzZGtWZXJzaW9uXCJdfX19XSx0cmFuc2FjdGlvbkluZm86dC50cmFuc2FjdGlvbkluZm8sZW1haWxSZXF1aXJlZDohMCxzaGlwcGluZ0FkZHJlc3NSZXF1aXJlZDp0LnNoaXBwaW5nQWRkcmVzc1JlcXVpcmVkLHNoaXBwaW5nQWRkcmVzc1BhcmFtZXRlcnM6e3Bob25lTnVtYmVyUmVxdWlyZWQ6dC5waG9uZU51bWJlclJlcXVpcmVkfX19LHR9KCk7ZS5hPWF9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDApLGk9bigyKSxvPW4oNTIpLGE9bigzMSkscz1uKDkyKSxjPW4oMzApLHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3JlcXVlc3RTZW5kZXI9dCx0aGlzLl9wdWJsaXNoYWJsZUtleT1cIlwiLHRoaXMuX3Rlc3RNb2RlPSEwfXJldHVybiB0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gT2JqZWN0KHIuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChyLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihyKXtyZXR1cm4gdGhpcy5fcHVibGlzaGFibGVLZXk9ZS5pbml0aWFsaXphdGlvbkRhdGEuY2hlY2tvdXRjb21rZXksdGhpcy5fdGVzdE1vZGU9ISFlLmNvbmZpZy50ZXN0TW9kZSxbMix0aGlzLl9tYXBHb29nbGVQYXlDaGVja291dGNvbURhdGFSZXF1ZXN0VG9Hb29nbGVQYXlEYXRhUmVxdWVzdFYyKHQsZS5pbml0aWFsaXphdGlvbkRhdGEsbildfSkpfSkpfSx0LnByb3RvdHlwZS50ZWFyZG93bj1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0sdC5wcm90b3R5cGUucGFyc2VSZXNwb25zZT1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KHIuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIE9iamVjdChyLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOnRyeXtlPUpTT04ucGFyc2UodC5wYXltZW50TWV0aG9kRGF0YS50b2tlbml6YXRpb25EYXRhLnRva2VuKX1jYXRjaCh0KXt0aHJvdyBuZXcgby5hKFwiVW5hYmxlIHRvIHBhcnNlIHJlc3BvbnNlIGZyb20gR29vZ2xlIFBheS5cIil9aWYoIWUuc2lnbmF0dXJlfHwhZS5wcm90b2NvbFZlcnNpb258fCFlLnNpZ25lZE1lc3NhZ2UpdGhyb3cgbmV3IHMuYShcIlVuYWJsZSB0byBwYXJzZSByZXNwb25zZSBmcm9tIEdvb2dsZSBQYXkuXCIpO3JldHVybls0LHRoaXMuX2NvbnZlcnRUb2tlbih0aGlzLl90ZXN0TW9kZSx0aGlzLl9wdWJsaXNoYWJsZUtleSxlKV07Y2FzZSAxOnJldHVyblsyLHtub25jZTpuLnNlbnQoKSx0eXBlOlwiQ3JlZGl0Q2FyZFwiLGRlc2NyaXB0aW9uOnQucGF5bWVudE1ldGhvZERhdGEuZGVzY3JpcHRpb24sZGV0YWlsczp7Y2FyZFR5cGU6dC5wYXltZW50TWV0aG9kRGF0YS5pbmZvLmNhcmROZXR3b3JrLGxhc3RGb3VyOnQucGF5bWVudE1ldGhvZERhdGEuaW5mby5jYXJkRGV0YWlsc319XX19KSl9KSl9LHQucHJvdG90eXBlLl9jb252ZXJ0VG9rZW49ZnVuY3Rpb24odCxlLG4pe3JldHVybiBPYmplY3Qoci5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgaTtyZXR1cm4gT2JqZWN0KHIuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6aWYoIW58fCFuLnByb3RvY29sVmVyc2lvbil0aHJvdyBuZXcgcy5hKFwiVW5hYmxlIHRvIHBhcnNlIHJlc3BvbnNlIGZyb20gR29vZ2xlUGF5LlwiKTtyZXR1cm5bNCx0aGlzLl9yZXF1ZXN0Q2hlY2tvdXRjb21Ub2tlbml6ZSh0LGUse3R5cGU6XCJnb29nbGVwYXlcIix0b2tlbl9kYXRhOm59KV07Y2FzZSAxOmlmKCEoaT1yLnNlbnQoKSl8fCFpLnRva2VuKXRocm93IG5ldyBzLmEoXCJVbmFibGUgdG8gcGFyc2UgcmVzcG9uc2UgZnJvbSBDaGVja291dC5jb21cIik7cmV0dXJuWzIsaS50b2tlbl19fSkpfSkpfSx0LnByb3RvdHlwZS5fcmVxdWVzdENoZWNrb3V0Y29tVG9rZW5pemU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB2b2lkIDA9PT1uJiYobj17fSksT2JqZWN0KHIuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGk7cmV0dXJuIE9iamVjdChyLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVyblwiaHR0cHM6Ly9hcGkuc2FuZGJveC5jaGVja291dC5jb20vdG9rZW5zXCIsXCJodHRwczovL2FwaS5jaGVja291dC5jb20vdG9rZW5zXCIsaT10P1wiaHR0cHM6Ly9hcGkuc2FuZGJveC5jaGVja291dC5jb20vdG9rZW5zXCI6XCJodHRwczovL2FwaS5jaGVja291dC5jb20vdG9rZW5zXCIsWzQsdGhpcy5fcmVxdWVzdFNlbmRlci5wb3N0KGkse2NyZWRlbnRpYWxzOiExLGJvZHk6bixoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOmEuYS5Kc29uLEF1dGhvcml6YXRpb246ZSxcIlgtWFNSRi1UT0tFTlwiOm51bGx9fSldO2Nhc2UgMTpyZXR1cm5bMixyLnNlbnQoKS5ib2R5XX19KSl9KSl9LHQucHJvdG90eXBlLl9tYXBHb29nbGVQYXlDaGVja291dGNvbURhdGFSZXF1ZXN0VG9Hb29nbGVQYXlEYXRhUmVxdWVzdFYyPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm57YXBpVmVyc2lvbjoyLGFwaVZlcnNpb25NaW5vcjowLG1lcmNoYW50SW5mbzp7YXV0aEp3dDplLnBsYXRmb3JtVG9rZW4sbWVyY2hhbnRJZDplLmdvb2dsZU1lcmNoYW50SWQsbWVyY2hhbnROYW1lOmUuZ29vZ2xlTWVyY2hhbnROYW1lfSxhbGxvd2VkUGF5bWVudE1ldGhvZHM6W3t0eXBlOlwiQ0FSRFwiLHBhcmFtZXRlcnM6e2FsbG93ZWRBdXRoTWV0aG9kczpbXCJQQU5fT05MWVwiLFwiQ1JZUFRPR1JBTV8zRFNcIl0sYWxsb3dlZENhcmROZXR3b3JrczpbXCJBTUVYXCIsXCJESVNDT1ZFUlwiLFwiSkNCXCIsXCJNQVNURVJDQVJEXCIsXCJWSVNBXCJdLGJpbGxpbmdBZGRyZXNzUmVxdWlyZWQ6ITAsYmlsbGluZ0FkZHJlc3NQYXJhbWV0ZXJzOntmb3JtYXQ6Yy5hLkZ1bGwscGhvbmVOdW1iZXJSZXF1aXJlZDohMH19LHRva2VuaXphdGlvblNwZWNpZmljYXRpb246e3R5cGU6XCJQQVlNRU5UX0dBVEVXQVlcIixwYXJhbWV0ZXJzOntnYXRld2F5OlwiY2hlY2tvdXRsdGRcIixnYXRld2F5TWVyY2hhbnRJZDplLmNoZWNrb3V0Y29ta2V5fX19XSx0cmFuc2FjdGlvbkluZm86e2N1cnJlbmN5Q29kZTp0LmNhcnQuY3VycmVuY3kuY29kZSx0b3RhbFByaWNlU3RhdHVzOlwiRklOQUxcIix0b3RhbFByaWNlOk9iamVjdChpLnJvdW5kKSh0Lm91dHN0YW5kaW5nQmFsYW5jZSwyKS50b0ZpeGVkKDIpfSxlbWFpbFJlcXVpcmVkOiEwLHNoaXBwaW5nQWRkcmVzc1JlcXVpcmVkOiFuLHNoaXBwaW5nQWRkcmVzc1BhcmFtZXRlcnM6e3Bob25lTnVtYmVyUmVxdWlyZWQ6ITB9fX0sdH0oKTtlLmE9dX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMiksaT1uKDUyKSxvPW4oMzApLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2dldEdvb2dsZVBheVBheW1lbnREYXRhUmVxdWVzdCh0LGUsbikpfSx0LnByb3RvdHlwZS50ZWFyZG93bj1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0sdC5wcm90b3R5cGUucGFyc2VSZXNwb25zZT1mdW5jdGlvbih0KXt0cnl7dmFyIGU9SlNPTi5wYXJzZSh0LnBheW1lbnRNZXRob2REYXRhLnRva2VuaXphdGlvbkRhdGEudG9rZW4pO3JldHVybiBQcm9taXNlLnJlc29sdmUoe25vbmNlOmUuaWQsdHlwZTplLnR5cGUsZGV0YWlsczp7Y2FyZFR5cGU6ZS5jYXJkLmJyYW5kLGxhc3RGb3VyOmUuY2FyZC5sYXN0NH19KX1jYXRjaCh0KXt0aHJvdyBuZXcgaS5hKFwiVW5hYmxlIHRvIHBhcnNlIHJlc3BvbnNlIGZyb20gR29vZ2xlIFBheS5cIil9fSx0LnByb3RvdHlwZS5fZ2V0R29vZ2xlUGF5UGF5bWVudERhdGFSZXF1ZXN0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10Lm91dHN0YW5kaW5nQmFsYW5jZSxhPXQuY2FydC5jdXJyZW5jeS5jb2RlLHM9ZS5pbml0aWFsaXphdGlvbkRhdGEsYz1zLmdvb2dsZU1lcmNoYW50TmFtZSx1PXMuZ29vZ2xlTWVyY2hhbnRJZCxkPXMucGxhdGZvcm1Ub2tlbixwPXMuc3RyaXBlVmVyc2lvbixoPXMuc3RyaXBlUHVibGlzaGFibGVLZXksbD1zLnN0cmlwZUNvbm5lY3RlZEFjY291bnQ7cmV0dXJue2FwaVZlcnNpb246MixhcGlWZXJzaW9uTWlub3I6MCxtZXJjaGFudEluZm86e2F1dGhKd3Q6ZCxtZXJjaGFudElkOnUsbWVyY2hhbnROYW1lOmN9LGFsbG93ZWRQYXltZW50TWV0aG9kczpbe3R5cGU6XCJDQVJEXCIscGFyYW1ldGVyczp7YWxsb3dlZEF1dGhNZXRob2RzOltcIlBBTl9PTkxZXCIsXCJDUllQVE9HUkFNXzNEU1wiXSxhbGxvd2VkQ2FyZE5ldHdvcmtzOmUuc3VwcG9ydGVkQ2FyZHMubWFwKChmdW5jdGlvbih0KXtyZXR1cm5cIk1DXCI9PT10P1wiTUFTVEVSQ0FSRFwiOnR9KSksYmlsbGluZ0FkZHJlc3NSZXF1aXJlZDohMCxiaWxsaW5nQWRkcmVzc1BhcmFtZXRlcnM6e2Zvcm1hdDpvLmEuRnVsbCxwaG9uZU51bWJlclJlcXVpcmVkOiEwfX0sdG9rZW5pemF0aW9uU3BlY2lmaWNhdGlvbjp7dHlwZTpcIlBBWU1FTlRfR0FURVdBWVwiLHBhcmFtZXRlcnM6e2dhdGV3YXk6XCJzdHJpcGVcIixcInN0cmlwZTp2ZXJzaW9uXCI6cCxcInN0cmlwZTpwdWJsaXNoYWJsZUtleVwiOmgrXCIvXCIrbH19fV0sdHJhbnNhY3Rpb25JbmZvOntjdXJyZW5jeUNvZGU6YSx0b3RhbFByaWNlU3RhdHVzOlwiRklOQUxcIix0b3RhbFByaWNlOk9iamVjdChyLnJvdW5kKShpLDIpLnRvRml4ZWQoMil9LGVtYWlsUmVxdWlyZWQ6ITAsc2hpcHBpbmdBZGRyZXNzUmVxdWlyZWQ6IW4sc2hpcHBpbmdBZGRyZXNzUGFyYW1ldGVyczp7cGhvbmVOdW1iZXJSZXF1aXJlZDohMH19fSx0fSgpO2UuYT1hfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigwKSxpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMsZXx8XCJVbmFibGUgdG8gcHJvY2VlZCBkdWUgdG8gaW52YWxpZCBjb25maWd1cmF0aW9uIHByb3ZpZGVkIGZvciB0aGUgaG9zdGVkIHBheW1lbnQgZm9ybS5cIil8fHRoaXM7cmV0dXJuIG4ubmFtZT1cIkludmFsaWRIb3N0ZWRGb3JtQ29uZmlnRXJyb3JcIixuLnR5cGU9XCJpbnZhbGlkX2hvc3RlZF9mb3JtX2NvbmZpZ1wiLG59cmV0dXJuIE9iamVjdChyLl9fZXh0ZW5kcykoZSx0KSxlfShuKDIzKS5hKTtlLmE9aX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMCksaT1uKDIpLG89ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyxPYmplY3Qoci5fX3NwcmVhZEFycmF5cykoW1wiVW5hYmxlIHRvIHByb2NlZWQgZHVlIHRvIGludmFsaWQgdXNlciBpbnB1dCB2YWx1ZXNcIl0sT2JqZWN0KGkuZmxhdE1hcCkoT2JqZWN0KGkudmFsdWVzKShlKSwoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChpLm1hcCkodCwoZnVuY3Rpb24odCl7cmV0dXJuIHQubWVzc2FnZX0pKX0pKSkuam9pbihcIi4gXCIpKXx8dGhpcztyZXR1cm4gbi5lcnJvcnM9ZSxuLm5hbWU9XCJJbnZhbGlkSG9zdGVkRm9ybVZhbHVlRXJyb3JcIixuLnR5cGU9XCJpbnZhbGlkX2hvc3RlZF9mb3JtX3ZhbHVlXCIsbn1yZXR1cm4gT2JqZWN0KHIuX19leHRlbmRzKShlLHQpLGV9KG4oMjMpLmEpO2UuYT1vfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigwKSxpPW4oNDYpLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3NjcmlwdExvYWRlcj10LHRoaXMuX3dpbmRvdz13aW5kb3d9cmV0dXJuIHQucHJvdG90eXBlLmxvYWRQYXlwYWw9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PVwiXCIpLE9iamVjdChyLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLG47cmV0dXJuIE9iamVjdChyLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybiBlPVwiLy93d3cucGF5cGFsb2JqZWN0cy5jb20vYXBpL2NoZWNrb3V0Lm1pbi5qc1wiLG49e2FzeW5jOiEwLGF0dHJpYnV0ZXM6e1wiZGF0YS1tZXJjaGFudC1pZFwiOnR9fSx0P1s0LHRoaXMuX3NjcmlwdExvYWRlci5sb2FkU2NyaXB0KGUsbildOlszLDJdO2Nhc2UgMTpyZXR1cm4gci5zZW50KCksWzMsNF07Y2FzZSAyOnJldHVybls0LHRoaXMuX3NjcmlwdExvYWRlci5sb2FkU2NyaXB0KGUpXTtjYXNlIDM6ci5zZW50KCksci5sYWJlbD00O2Nhc2UgNDppZighdGhpcy5fd2luZG93LnBheXBhbCl0aHJvdyBuZXcgaS5hO3JldHVyblsyLHRoaXMuX3dpbmRvdy5wYXlwYWxdfX0pKX0pKX0sdH0oKTtlLmE9b30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMCksaT1uKDYwKSxvPW4oMzEpLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3JlcXVlc3RTZW5kZXI9dH1yZXR1cm4gdC5wcm90b3R5cGUuc2V0dXBQYXltZW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPXt9KSxPYmplY3Qoci5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbixhLHMsYyx1LGQscCxoO3JldHVybiBPYmplY3Qoci5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpyZXR1cm4gbj1lLmlzQ3JlZGl0LGE9ZS5pc0NoZWNrb3V0LHM9ZS5pc0NyZWRpdENhcmQsYz1lLmlzQVBNLHU9XCJwYXlwYWxjb21tZXJjZVwiLHM/dT1cInBheXBhbGNvbW1lcmNlY3JlZGl0Y2FyZHNjaGVja291dFwiOmE/dT1uP1wicGF5cGFsY29tbWVyY2VjcmVkaXRjaGVja291dFwiOlwicGF5cGFsY29tbWVyY2VjaGVja291dFwiOm4mJih1PVwicGF5cGFsY29tbWVyY2VjcmVkaXRcIiksYyYmKHU9XCJwYXlwYWxjb21tZXJjZWFsdGVybmF0aXZlbWV0aG9kc1wiKSxkPVwiL2FwaS9zdG9yZWZyb250L3BheW1lbnQvXCIrdSxwPXtjYXJ0SWQ6dH0saD17XCJYLUFQSS1JTlRFUk5BTFwiOmkuYSxcIkNvbnRlbnQtVHlwZVwiOm8uYS5Kc29ufSxbNCx0aGlzLl9yZXF1ZXN0U2VuZGVyLnBvc3QoZCx7aGVhZGVyczpoLGJvZHk6cH0pXTtjYXNlIDE6cmV0dXJuWzIsci5zZW50KCkuYm9keV19fSkpfSkpfSx0LnByb3RvdHlwZS5nZXRPcmRlclN0YXR1cz1mdW5jdGlvbigpe3JldHVybiBPYmplY3Qoci5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gT2JqZWN0KHIuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKGUpe3N3aXRjaChlLmxhYmVsKXtjYXNlIDA6cmV0dXJuXCIvYXBpL3N0b3JlZnJvbnQvaW5pdGlhbGl6YXRpb24vcGF5cGFsY29tbWVyY2VcIix0PXtcIlgtQVBJLUlOVEVSTkFMXCI6aS5hLFwiQ29udGVudC1UeXBlXCI6by5hLkpzb259LFs0LHRoaXMuX3JlcXVlc3RTZW5kZXIuZ2V0KFwiL2FwaS9zdG9yZWZyb250L2luaXRpYWxpemF0aW9uL3BheXBhbGNvbW1lcmNlXCIse2hlYWRlcnM6dH0pXTtjYXNlIDE6cmV0dXJuWzIsZS5zZW50KCkuYm9keV19fSkpfSkpfSx0fSgpO2UuYT1hfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUpe3JldHVybigwLG4oMTI3KS5pZnJhbWVSZXNpemVyKSh0LGUpfWZ1bmN0aW9uIGkoKXtuKDEyOCl9bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksbi5kKGUsXCJiXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSl9LCwsZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24ucihlKTt2YXIgcj1uKDQ3KSxpPW4oMzMpLG89bigyMDIpLGE9bigxNzgpLHM9big4NyksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmNsZWFyRXJyb3I9ZnVuY3Rpb24odCl7cmV0dXJue3R5cGU6cy5hLkNsZWFyRXJyb3IscGF5bG9hZDp0fX0sdH0oKTtmdW5jdGlvbiB1KCl7dHJ5e3JldHVybiBwcm9jZXNzLmVudi5OT0RFX0VOVnx8ITF9Y2F0Y2godCl7cmV0dXJuXCJkZXZlbG9wbWVudFwifX12YXIgZD1uKDApLHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX2NvbnNvbGU9dH1yZXR1cm4gdC5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3RoaXMuX2xvZ1RvQ29uc29sZS5hcHBseSh0aGlzLE9iamVjdChkLl9fc3ByZWFkQXJyYXlzKShbXCJsb2dcIl0sdCkpfSx0LnByb3RvdHlwZS5pbmZvPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3RoaXMuX2xvZ1RvQ29uc29sZS5hcHBseSh0aGlzLE9iamVjdChkLl9fc3ByZWFkQXJyYXlzKShbXCJpbmZvXCJdLHQpKX0sdC5wcm90b3R5cGUud2Fybj1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTt0aGlzLl9sb2dUb0NvbnNvbGUuYXBwbHkodGhpcyxPYmplY3QoZC5fX3NwcmVhZEFycmF5cykoW1wid2FyblwiXSx0KSl9LHQucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3RoaXMuX2xvZ1RvQ29uc29sZS5hcHBseSh0aGlzLE9iamVjdChkLl9fc3ByZWFkQXJyYXlzKShbXCJlcnJvclwiXSx0KSl9LHQucHJvdG90eXBlLmRlYnVnPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3RoaXMuX2xvZ1RvQ29uc29sZS5hcHBseSh0aGlzLE9iamVjdChkLl9fc3ByZWFkQXJyYXlzKShbXCJkZWJ1Z1wiXSx0KSl9LHQucHJvdG90eXBlLl9sb2dUb0NvbnNvbGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49W10scj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspbltyLTFdPWFyZ3VtZW50c1tyXTt0aGlzLl9jb25zb2xlJiZ0aGlzLl9jb25zb2xlW3RdJiYoZT10aGlzLl9jb25zb2xlW3RdKS5jYWxsLmFwcGx5KGUsT2JqZWN0KGQuX19zcHJlYWRBcnJheXMpKFt0aGlzLl9jb25zb2xlXSxuKSl9LHR9KCksaD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmxvZz1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuaW5mbz1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUud2Fybj1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLmRlYnVnPWZ1bmN0aW9uKCl7fSx0fSgpO3ZhciBsLG09KHZvaWQgMD09PShsPVwidGVzdFwiIT09dSgpKSYmKGw9ITApLGw/bmV3IHAoY29uc29sZSk6bmV3IGgpO2Z1bmN0aW9uIGYoKXtyZXR1cm4gbX12YXIgXz1uKDE3MykseT1uKDE3NCksZz1uKDEpLGI9bigzKSx2PW4oMTIpLEM9bigyMiksTz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fY291cG9uUmVxdWVzdFNlbmRlcj10fXJldHVybiB0LnByb3RvdHlwZS5hcHBseUNvdXBvbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBiLk9ic2VydmFibGUuY3JlYXRlKChmdW5jdGlvbihpKXt2YXIgbz1yLmdldFN0YXRlKCkuY2hlY2tvdXQuZ2V0Q2hlY2tvdXQoKTtpZighbyl0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nQ2hlY2tvdXQpO2kubmV4dChPYmplY3QoZy5jcmVhdGVBY3Rpb24pKEMuYS5BcHBseUNvdXBvblJlcXVlc3RlZCkpLG4uX2NvdXBvblJlcXVlc3RTZW5kZXIuYXBwbHlDb3Vwb24oby5pZCx0LGUpLnRoZW4oKGZ1bmN0aW9uKHQpe3ZhciBlPXQuYm9keTtpLm5leHQoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShDLmEuQXBwbHlDb3Vwb25TdWNjZWVkZWQsZSkpLGkuY29tcGxldGUoKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7aS5lcnJvcihPYmplY3QoZy5jcmVhdGVFcnJvckFjdGlvbikoQy5hLkFwcGx5Q291cG9uRmFpbGVkLHQpKX0pKX0pKX19LHQucHJvdG90eXBlLnJlbW92ZUNvdXBvbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBiLk9ic2VydmFibGUuY3JlYXRlKChmdW5jdGlvbihpKXt2YXIgbz1yLmdldFN0YXRlKCkuY2hlY2tvdXQuZ2V0Q2hlY2tvdXQoKTtpZighbyl0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nQ2hlY2tvdXQpO2kubmV4dChPYmplY3QoZy5jcmVhdGVBY3Rpb24pKEMuYS5SZW1vdmVDb3Vwb25SZXF1ZXN0ZWQpKSxuLl9jb3Vwb25SZXF1ZXN0U2VuZGVyLnJlbW92ZUNvdXBvbihvLmlkLHQsZSkudGhlbigoZnVuY3Rpb24odCl7dmFyIGU9dC5ib2R5O2kubmV4dChPYmplY3QoZy5jcmVhdGVBY3Rpb24pKEMuYS5SZW1vdmVDb3Vwb25TdWNjZWVkZWQsZSkpLGkuY29tcGxldGUoKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7aS5lcnJvcihPYmplY3QoZy5jcmVhdGVFcnJvckFjdGlvbikoQy5hLlJlbW92ZUNvdXBvbkZhaWxlZCx0KSl9KSl9KSl9fSx0fSgpLFM9big5MCksdz1uKDEzOSksST1uKDMxKSxBPW4oNjQpLEU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3JlcXVlc3RTZW5kZXI9dH1yZXR1cm4gdC5wcm90b3R5cGUuYXBwbHlDb3Vwb249ZnVuY3Rpb24odCxlLG4pe3ZhciByPSh2b2lkIDA9PT1uP3t9Om4pLnRpbWVvdXQsaT1cIi9hcGkvc3RvcmVmcm9udC9jaGVja291dHMvXCIrdCtcIi9jb3Vwb25zXCIsbz17QWNjZXB0OkkuYS5Kc29uVjF9O3JldHVybiB0aGlzLl9yZXF1ZXN0U2VuZGVyLnBvc3QoaSx7aGVhZGVyczpvLHRpbWVvdXQ6cixwYXJhbXM6e2luY2x1ZGU6T2JqZWN0KEEuYSkoT2JqZWN0KGQuX19zcHJlYWRBcnJheXMpKFMuYSxbdy5hLkF2YWlsYWJsZVNoaXBwaW5nT3B0aW9uc10pKX0sYm9keTp7Y291cG9uQ29kZTplfX0pfSx0LnByb3RvdHlwZS5yZW1vdmVDb3Vwb249ZnVuY3Rpb24odCxlLG4pe3ZhciByPSh2b2lkIDA9PT1uP3t9Om4pLnRpbWVvdXQsaT1cIi9hcGkvc3RvcmVmcm9udC9jaGVja291dHMvXCIrdCtcIi9jb3Vwb25zL1wiK2Usbz17QWNjZXB0OkkuYS5Kc29uVjF9O3JldHVybiB0aGlzLl9yZXF1ZXN0U2VuZGVyLmRlbGV0ZShpLHtoZWFkZXJzOm8sdGltZW91dDpyLHBhcmFtczp7aW5jbHVkZTpPYmplY3QoQS5hKShPYmplY3QoZC5fX3NwcmVhZEFycmF5cykoUy5hLFt3LmEuQXZhaWxhYmxlU2hpcHBpbmdPcHRpb25zXSkpfX0pfSx0fSgpLFA9bigyNiksaj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fZ2lmdENlcnRpZmljYXRlUmVxdWVzdFNlbmRlcj10fXJldHVybiB0LnByb3RvdHlwZS5hcHBseUdpZnRDZXJ0aWZpY2F0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBiLk9ic2VydmFibGUuY3JlYXRlKChmdW5jdGlvbihpKXt2YXIgbz1yLmdldFN0YXRlKCkuY2hlY2tvdXQuZ2V0Q2hlY2tvdXQoKTtpZighbyl0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nQ2hlY2tvdXQpO2kubmV4dChPYmplY3QoZy5jcmVhdGVBY3Rpb24pKFAuYS5BcHBseUdpZnRDZXJ0aWZpY2F0ZVJlcXVlc3RlZCkpLG4uX2dpZnRDZXJ0aWZpY2F0ZVJlcXVlc3RTZW5kZXIuYXBwbHlHaWZ0Q2VydGlmaWNhdGUoby5pZCx0LGUpLnRoZW4oKGZ1bmN0aW9uKHQpe3ZhciBlPXQuYm9keTtpLm5leHQoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShQLmEuQXBwbHlHaWZ0Q2VydGlmaWNhdGVTdWNjZWVkZWQsZSkpLGkuY29tcGxldGUoKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7aS5lcnJvcihPYmplY3QoZy5jcmVhdGVFcnJvckFjdGlvbikoUC5hLkFwcGx5R2lmdENlcnRpZmljYXRlRmFpbGVkLHQpKX0pKX0pKX19LHQucHJvdG90eXBlLnJlbW92ZUdpZnRDZXJ0aWZpY2F0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBiLk9ic2VydmFibGUuY3JlYXRlKChmdW5jdGlvbihpKXt2YXIgbz1yLmdldFN0YXRlKCkuY2hlY2tvdXQuZ2V0Q2hlY2tvdXQoKTtpZighbyl0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nQ2hlY2tvdXQpO2kubmV4dChPYmplY3QoZy5jcmVhdGVBY3Rpb24pKFAuYS5SZW1vdmVHaWZ0Q2VydGlmaWNhdGVSZXF1ZXN0ZWQpKSxuLl9naWZ0Q2VydGlmaWNhdGVSZXF1ZXN0U2VuZGVyLnJlbW92ZUdpZnRDZXJ0aWZpY2F0ZShvLmlkLHQsZSkudGhlbigoZnVuY3Rpb24odCl7dmFyIGU9dC5ib2R5O2kubmV4dChPYmplY3QoZy5jcmVhdGVBY3Rpb24pKFAuYS5SZW1vdmVHaWZ0Q2VydGlmaWNhdGVTdWNjZWVkZWQsZSkpLGkuY29tcGxldGUoKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7aS5lcnJvcihPYmplY3QoZy5jcmVhdGVFcnJvckFjdGlvbikoUC5hLlJlbW92ZUdpZnRDZXJ0aWZpY2F0ZUZhaWxlZCx0KSl9KSl9KSl9fSx0fSgpLGs9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3JlcXVlc3RTZW5kZXI9dH1yZXR1cm4gdC5wcm90b3R5cGUuYXBwbHlHaWZ0Q2VydGlmaWNhdGU9ZnVuY3Rpb24odCxlLG4pe3ZhciByPSh2b2lkIDA9PT1uP3t9Om4pLnRpbWVvdXQsaT1cIi9hcGkvc3RvcmVmcm9udC9jaGVja291dHMvXCIrdCtcIi9naWZ0LWNlcnRpZmljYXRlc1wiLG89e0FjY2VwdDpJLmEuSnNvblYxfTtyZXR1cm4gdGhpcy5fcmVxdWVzdFNlbmRlci5wb3N0KGkse2hlYWRlcnM6byx0aW1lb3V0OnIscGFyYW1zOntpbmNsdWRlOk9iamVjdChBLmEpKFMuYSl9LGJvZHk6e2dpZnRDZXJ0aWZpY2F0ZUNvZGU6ZX19KX0sdC5wcm90b3R5cGUucmVtb3ZlR2lmdENlcnRpZmljYXRlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj0odm9pZCAwPT09bj97fTpuKS50aW1lb3V0LGk9XCIvYXBpL3N0b3JlZnJvbnQvY2hlY2tvdXRzL1wiK3QrXCIvZ2lmdC1jZXJ0aWZpY2F0ZXMvXCIrZSxvPXtBY2NlcHQ6SS5hLkpzb25WMX07cmV0dXJuIHRoaXMuX3JlcXVlc3RTZW5kZXIuZGVsZXRlKGkse2hlYWRlcnM6byx0aW1lb3V0OnIscGFyYW1zOntpbmNsdWRlOk9iamVjdChBLmEpKFMuYSl9fSl9LHR9KCksTT1uKDgpLFQ9big5MSk7ZnVuY3Rpb24gUih0KXt2YXIgZT10O3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiBlJiZcIm9iamVjdFwiPT10eXBlb2YgZS5wYXlsb2FkJiZcInN0cmluZ1wiPT10eXBlb2YgZS5wYXlsb2FkLnRva2VufXZhciBEPW4oMzYpLHo9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt0aGlzLl9jdXN0b21lclJlcXVlc3RTZW5kZXI9dCx0aGlzLl9jaGVja291dEFjdGlvbkNyZWF0b3I9ZSx0aGlzLl9zcGFtUHJvdGVjdGlvbkFjdGlvbkNyZWF0b3I9bn1yZXR1cm4gdC5wcm90b3R5cGUuY3JlYXRlQ3VzdG9tZXI9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiBmdW5jdGlvbihyKXt2YXIgaT1yLmdldFN0YXRlKCkuY29uZmlnLmdldFN0b3JlQ29uZmlnT3JUaHJvdygpLmNoZWNrb3V0U2V0dGluZ3MuaXNTdG9yZWZyb250U3BhbVByb3RlY3Rpb25FbmFibGVkLG89ZnVuY3Rpb24oaSl7cmV0dXJuIE9iamVjdChiLmZyb20pKG4uX2N1c3RvbWVyUmVxdWVzdFNlbmRlci5jcmVhdGVBY2NvdW50KE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30sdCkse3Rva2VuOml9KSxlKSkucGlwZShPYmplY3QoTS5zd2l0Y2hNYXApKChmdW5jdGlvbigpe3JldHVybiBPYmplY3QoYi5jb25jYXQpKG4uX2NoZWNrb3V0QWN0aW9uQ3JlYXRvci5sb2FkQ3VycmVudENoZWNrb3V0KGUpKHIpLE9iamVjdChiLm9mKShPYmplY3QoZy5jcmVhdGVBY3Rpb24pKEQuYS5DcmVhdGVDdXN0b21lclN1Y2NlZWRlZCkpKX0pKSl9O3JldHVybiBPYmplY3QoYi5jb25jYXQpKE9iamVjdChiLm9mKShPYmplY3QoZy5jcmVhdGVBY3Rpb24pKEQuYS5DcmVhdGVDdXN0b21lclJlcXVlc3RlZCkpLGk/T2JqZWN0KGIuZnJvbSkobi5fc3BhbVByb3RlY3Rpb25BY3Rpb25DcmVhdG9yLmV4ZWN1dGUoKShyKSkucGlwZShPYmplY3QoTS5zd2l0Y2hNYXApKChmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gUih0KT9PYmplY3QoYi5jb25jYXQpKE9iamVjdChiLm9mKSh0KSxvKG51bGw9PT0oZT10LnBheWxvYWQpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnRva2VuKSk6T2JqZWN0KGIub2YpKHQpfSkpKTpvKCkpLnBpcGUoT2JqZWN0KE0uY2F0Y2hFcnJvcikoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoVC5hKShELmEuQ3JlYXRlQ3VzdG9tZXJGYWlsZWQsdCl9KSkpfX0sdC5wcm90b3R5cGUuc2lnbkluQ3VzdG9tZXI9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gT2JqZWN0KGIuY29uY2F0KShPYmplY3QoYi5vZikoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShELmEuU2lnbkluQ3VzdG9tZXJSZXF1ZXN0ZWQpKSxPYmplY3QoYi5mcm9tKShuLl9jdXN0b21lclJlcXVlc3RTZW5kZXIuc2lnbkluQ3VzdG9tZXIodCxlKSkucGlwZShPYmplY3QoTS5zd2l0Y2hNYXApKChmdW5jdGlvbih0KXt2YXIgaT10LmJvZHk7cmV0dXJuIE9iamVjdChiLmNvbmNhdCkobi5fY2hlY2tvdXRBY3Rpb25DcmVhdG9yLmxvYWRDdXJyZW50Q2hlY2tvdXQoZSkociksT2JqZWN0KGIub2YpKE9iamVjdChnLmNyZWF0ZUFjdGlvbikoRC5hLlNpZ25JbkN1c3RvbWVyU3VjY2VlZGVkLGkuZGF0YSkpKX0pKSkpLnBpcGUoT2JqZWN0KE0uY2F0Y2hFcnJvcikoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoVC5hKShELmEuU2lnbkluQ3VzdG9tZXJGYWlsZWQsdCl9KSkpfX0sdC5wcm90b3R5cGUuc2lnbk91dEN1c3RvbWVyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBPYmplY3QoYi5jb25jYXQpKE9iamVjdChiLm9mKShPYmplY3QoZy5jcmVhdGVBY3Rpb24pKEQuYS5TaWduT3V0Q3VzdG9tZXJSZXF1ZXN0ZWQpKSxPYmplY3QoYi5mcm9tKShlLl9jdXN0b21lclJlcXVlc3RTZW5kZXIuc2lnbk91dEN1c3RvbWVyKHQpKS5waXBlKE9iamVjdChNLnN3aXRjaE1hcCkoKGZ1bmN0aW9uKHIpe3ZhciBpPXIuYm9keTtyZXR1cm4gT2JqZWN0KGIuY29uY2F0KShlLl9jaGVja291dEFjdGlvbkNyZWF0b3IubG9hZEN1cnJlbnRDaGVja291dCh0KShuKSxPYmplY3QoYi5vZikoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShELmEuU2lnbk91dEN1c3RvbWVyU3VjY2VlZGVkLGkuZGF0YSkpKX0pKSkpLnBpcGUoT2JqZWN0KE0uY2F0Y2hFcnJvcikoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoVC5hKShELmEuU2lnbk91dEN1c3RvbWVyRmFpbGVkLHQpfSkpKX19LHR9KCksTD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fcmVxdWVzdFNlbmRlcj10fXJldHVybiB0LnByb3RvdHlwZS5jcmVhdGVBY2NvdW50PWZ1bmN0aW9uKHQsZSl7dmFyIG49KHZvaWQgMD09PWU/e306ZSkudGltZW91dDtyZXR1cm4gdGhpcy5fcmVxdWVzdFNlbmRlci5wb3N0KFwiL2FwaS9zdG9yZWZyb250L2N1c3RvbWVyXCIse3RpbWVvdXQ6bixib2R5OnR9KX0sdC5wcm90b3R5cGUuc2lnbkluQ3VzdG9tZXI9ZnVuY3Rpb24odCxlKXt2YXIgbj0odm9pZCAwPT09ZT97fTplKS50aW1lb3V0O3JldHVybiB0aGlzLl9yZXF1ZXN0U2VuZGVyLnBvc3QoXCIvaW50ZXJuYWxhcGkvdjEvY2hlY2tvdXQvY3VzdG9tZXJcIix7dGltZW91dDpuLGJvZHk6dH0pfSx0LnByb3RvdHlwZS5zaWduT3V0Q3VzdG9tZXI9ZnVuY3Rpb24odCl7dmFyIGU9KHZvaWQgMD09PXQ/e306dCkudGltZW91dDtyZXR1cm4gdGhpcy5fcmVxdWVzdFNlbmRlci5kZWxldGUoXCIvaW50ZXJuYWxhcGkvdjEvY2hlY2tvdXQvY3VzdG9tZXJcIix7dGltZW91dDplfSl9LHR9KCksTj1uKDEwKSxGPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9zdHJhdGVneVJlZ2lzdHJ5PXR9cmV0dXJuIHQucHJvdG90eXBlLnNpZ25Jbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIGIuT2JzZXJ2YWJsZS5jcmVhdGUoKGZ1bmN0aW9uKHIpe3ZhciBpPWUmJmUubWV0aG9kSWQsbz17bWV0aG9kSWQ6aX07ci5uZXh0KE9iamVjdChnLmNyZWF0ZUFjdGlvbikoTi5hLlNpZ25JblJlcXVlc3RlZCx2b2lkIDAsbykpLG4uX3N0cmF0ZWd5UmVnaXN0cnkuZ2V0KGkpLnNpZ25Jbih0LGUpLnRoZW4oKGZ1bmN0aW9uKCl7ci5uZXh0KE9iamVjdChnLmNyZWF0ZUFjdGlvbikoTi5hLlNpZ25JblN1Y2NlZWRlZCx2b2lkIDAsbykpLHIuY29tcGxldGUoKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7ci5lcnJvcihPYmplY3QoZy5jcmVhdGVFcnJvckFjdGlvbikoTi5hLlNpZ25JbkZhaWxlZCx0LG8pKX0pKX0pKX0sdC5wcm90b3R5cGUuc2lnbk91dD1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBiLk9ic2VydmFibGUuY3JlYXRlKChmdW5jdGlvbihuKXt2YXIgcj10JiZ0Lm1ldGhvZElkLGk9e21ldGhvZElkOnJ9O24ubmV4dChPYmplY3QoZy5jcmVhdGVBY3Rpb24pKE4uYS5TaWduT3V0UmVxdWVzdGVkLHZvaWQgMCxpKSksZS5fc3RyYXRlZ3lSZWdpc3RyeS5nZXQocikuc2lnbk91dCh0KS50aGVuKChmdW5jdGlvbigpe24ubmV4dChPYmplY3QoZy5jcmVhdGVBY3Rpb24pKE4uYS5TaWduT3V0U3VjY2VlZGVkLHZvaWQgMCxpKSksbi5jb21wbGV0ZSgpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtuLmVycm9yKE9iamVjdChnLmNyZWF0ZUVycm9yQWN0aW9uKShOLmEuU2lnbk91dEZhaWxlZCx0LGkpKX0pKX0pKX0sdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gYi5PYnNlcnZhYmxlLmNyZWF0ZSgoZnVuY3Rpb24ocil7dmFyIGk9bi5nZXRTdGF0ZSgpLG89dCYmdC5tZXRob2RJZCxhPXttZXRob2RJZDpvfTtpZihvJiZpLmN1c3RvbWVyU3RyYXRlZ2llcy5pc0luaXRpYWxpemVkKG8pKXJldHVybiByLmNvbXBsZXRlKCk7ci5uZXh0KE9iamVjdChnLmNyZWF0ZUFjdGlvbikoTi5hLkluaXRpYWxpemVSZXF1ZXN0ZWQsdm9pZCAwLGEpKSxlLl9zdHJhdGVneVJlZ2lzdHJ5LmdldChvKS5pbml0aWFsaXplKHQpLnRoZW4oKGZ1bmN0aW9uKCl7ci5uZXh0KE9iamVjdChnLmNyZWF0ZUFjdGlvbikoTi5hLkluaXRpYWxpemVTdWNjZWVkZWQsdm9pZCAwLGEpKSxyLmNvbXBsZXRlKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3IuZXJyb3IoT2JqZWN0KGcuY3JlYXRlRXJyb3JBY3Rpb24pKE4uYS5Jbml0aWFsaXplRmFpbGVkLHQsYSkpfSkpfSkpfX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBiLk9ic2VydmFibGUuY3JlYXRlKChmdW5jdGlvbihyKXt2YXIgaT1uLmdldFN0YXRlKCksbz10JiZ0Lm1ldGhvZElkLGE9e21ldGhvZElkOm99O2lmKG8mJiFpLmN1c3RvbWVyU3RyYXRlZ2llcy5pc0luaXRpYWxpemVkKG8pKXJldHVybiByLmNvbXBsZXRlKCk7ci5uZXh0KE9iamVjdChnLmNyZWF0ZUFjdGlvbikoTi5hLkRlaW5pdGlhbGl6ZVJlcXVlc3RlZCx2b2lkIDAsYSkpLGUuX3N0cmF0ZWd5UmVnaXN0cnkuZ2V0KG8pLmRlaW5pdGlhbGl6ZSh0KS50aGVuKChmdW5jdGlvbigpe3IubmV4dChPYmplY3QoZy5jcmVhdGVBY3Rpb24pKE4uYS5EZWluaXRpYWxpemVTdWNjZWVkZWQsdm9pZCAwLGEpKSxyLmNvbXBsZXRlKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3IuZXJyb3IoT2JqZWN0KGcuY3JlYXRlRXJyb3JBY3Rpb24pKE4uYS5EZWluaXRpYWxpemVGYWlsZWQsdCxhKSl9KSl9KSl9fSx0LnByb3RvdHlwZS53aWRnZXRJbnRlcmFjdGlvbj1mdW5jdGlvbih0LGUpe3JldHVybiBiLk9ic2VydmFibGUuY3JlYXRlKChmdW5jdGlvbihuKXt2YXIgcj17bWV0aG9kSWQ6ZSYmZS5tZXRob2RJZH07bi5uZXh0KE9iamVjdChnLmNyZWF0ZUFjdGlvbikoTi5hLldpZGdldEludGVyYWN0aW9uU3RhcnRlZCx2b2lkIDAscikpLHQoKS50aGVuKChmdW5jdGlvbigpe24ubmV4dChPYmplY3QoZy5jcmVhdGVBY3Rpb24pKE4uYS5XaWRnZXRJbnRlcmFjdGlvbkZpbmlzaGVkLHZvaWQgMCxyKSksbi5jb21wbGV0ZSgpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtuLmVycm9yKE9iamVjdChnLmNyZWF0ZUVycm9yQWN0aW9uKShOLmEuV2lkZ2V0SW50ZXJhY3Rpb25GYWlsZWQsdCxyKSl9KSl9KSl9LHR9KCkscT1uKDczKSxVPW4oMTM4KSx4PW4oMTMwKSxCPW4oMTc5KSxHPW4oMTc2KSxWPW4oMTc3KSxZPW4oODgpLEg9big4OSksVz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fc2NyaXB0TG9hZGVyPXQsdGhpcy5fd2luZG93PXdpbmRvd31yZXR1cm4gdC5wcm90b3R5cGUubG9hZFdpZGdldD1mdW5jdGlvbih0LGUpe3ZhciBuPXQuY29uZmlnLHI9bi5tZXJjaGFudElkLGk9bi50ZXN0TW9kZSxvPXQuaW5pdGlhbGl6YXRpb25EYXRhLGE9KHZvaWQgMD09PW8/e306bykucmVnaW9uLHM9dm9pZCAwPT09YT9cInVzXCI6YSxjPVwiaHR0cHM6Ly9cIisoXCJ1c1wiIT09cy50b0xvd2VyQ2FzZSgpP1wic3RhdGljLWV1LlwiOlwic3RhdGljLW5hLlwiKStcInBheW1lbnRzLWFtYXpvbi5jb20vT2ZmQW1hem9uUGF5bWVudHMvXCIrcy50b0xvd2VyQ2FzZSgpK1wiL1wiKyhpP1wic2FuZGJveC9cIjpcIlwiKSsoXCJ1c1wiIT09cy50b0xvd2VyQ2FzZSgpP1wibHBhL1wiOlwiXCIpK1wianMvV2lkZ2V0cy5qcz9zZWxsZXJJZD1cIityO3JldHVybiB0aGlzLl9jb25maWd1cmVXaWRnZXQodCxlKSx0aGlzLl9zY3JpcHRMb2FkZXIubG9hZFNjcmlwdChjKX0sdC5wcm90b3R5cGUuX2NvbmZpZ3VyZVdpZGdldD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj1mdW5jdGlvbigpe24uX3dpbmRvdy5hbWF6b24mJihuLl93aW5kb3cuYW1hem9uLkxvZ2luLnNldENsaWVudElkKHQuaW5pdGlhbGl6YXRpb25EYXRhLmNsaWVudElkKSxuLl93aW5kb3cuYW1hem9uLkxvZ2luLnNldFVzZUNvb2tpZSghMCkpfTt0aGlzLl93aW5kb3cuYW1hem9uJiZ0aGlzLl93aW5kb3cuYW1hem9uLkxvZ2luP3IoKTp0aGlzLl93aW5kb3cub25BbWF6b25Mb2dpblJlYWR5PXIsdGhpcy5fd2luZG93Lk9mZkFtYXpvblBheW1lbnRzJiZlP2UoKTp0aGlzLl93aW5kb3cub25BbWF6b25QYXltZW50c1JlYWR5PWV9LHR9KCksSz1uKDE5OCksSj1uKDEwNSksWj1uKDEwNiksUT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLl9icmFpbnRyZWVTREtDcmVhdG9yPXQsdGhpcy5fcmVxdWVzdFNlbmRlcj1lfXJldHVybiB0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2JyYWludHJlZVNES0NyZWF0b3IuaW5pdGlhbGl6ZSh0KSx0aGlzLl9icmFpbnRyZWVTREtDcmVhdG9yLmdldFZpc2FDaGVja291dCgpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNyZWF0ZUluaXRPcHRpb25zKHtzZXR0aW5nczp7bG9jYWxlOmUubG9jYWxlLHNoaXBwaW5nOntjb2xsZWN0U2hpcHBpbmc6ZS5jb2xsZWN0U2hpcHBpbmd9fSxwYXltZW50UmVxdWVzdDp7Y3VycmVuY3lDb2RlOmUuY3VycmVuY3lDb2RlLHN1YnRvdGFsOlN0cmluZyhlLnN1YnRvdGFsKX19KX0pKX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JyYWludHJlZVNES0NyZWF0b3IudGVhcmRvd24oKX0sdC5wcm90b3R5cGUuaGFuZGxlU3VjY2Vzcz1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcztyZXR1cm4gdGhpcy5fYnJhaW50cmVlU0RLQ3JlYXRvci5nZXRWaXNhQ2hlY2tvdXQoKS50aGVuKChmdW5jdGlvbihpKXtyZXR1cm4gUHJvbWlzZS5hbGwoW2kudG9rZW5pemUodCksci5fYnJhaW50cmVlU0RLQ3JlYXRvci5nZXREYXRhQ29sbGVjdG9yKCldKS50aGVuKChmdW5jdGlvbih0KXt2YXIgaT10WzBdLG89dFsxXSxhPWkuc2hpcHBpbmdBZGRyZXNzLHM9dm9pZCAwPT09YT9yLl90b1Zpc2FDaGVja291dEFkZHJlc3MoZSk6YSxjPWkuYmlsbGluZ0FkZHJlc3MsdT12b2lkIDA9PT1jP3IuX3RvVmlzYUNoZWNrb3V0QWRkcmVzcyhuKTpjO3JldHVybiByLl9wb3N0Rm9ybShPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LGkpLHtzaGlwcGluZ0FkZHJlc3M6cyxiaWxsaW5nQWRkcmVzczp1fSksbyl9KSl9KSl9LHQucHJvdG90eXBlLl9wb3N0Rm9ybT1mdW5jdGlvbih0LGUpe3ZhciBuPXQudXNlckRhdGEscj10LmJpbGxpbmdBZGRyZXNzLGk9dC5zaGlwcGluZ0FkZHJlc3Msbz10LmRldGFpbHMsYT1uLnVzZXJFbWFpbCxzPWUuZGV2aWNlRGF0YTtyZXR1cm4gdGhpcy5fcmVxdWVzdFNlbmRlci5wb3N0KFwiL2NoZWNrb3V0LnBocFwiLHtoZWFkZXJzOntBY2NlcHQ6XCJ0ZXh0L2h0bWxcIixcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCJ9LGJvZHk6e3BheW1lbnRfdHlwZTp0LnR5cGUsbm9uY2U6dC5ub25jZSxwcm92aWRlcjpcImJyYWludHJlZXZpc2FjaGVja291dFwiLGFjdGlvbjpcInNldF9leHRlcm5hbF9jaGVja291dFwiLGRldmljZV9kYXRhOnMsY2FyZF9pbmZvcm1hdGlvbjp0aGlzLl9nZXRDYXJkSW5mb3JtYXRpb24obyksYmlsbGluZ19hZGRyZXNzOnRoaXMuX2dldEFkZHJlc3MoYSxyKSxzaGlwcGluZ19hZGRyZXNzOnRoaXMuX2dldEFkZHJlc3MoYSxpKX19KX0sdC5wcm90b3R5cGUuX3RvVmlzYUNoZWNrb3V0QWRkcmVzcz1mdW5jdGlvbih0KXtyZXR1cm4gdD97Zmlyc3ROYW1lOnQuZmlyc3ROYW1lLGxhc3ROYW1lOnQubGFzdE5hbWUscGhvbmVOdW1iZXI6dC5waG9uZSxzdHJlZXRBZGRyZXNzOnQuYWRkcmVzczEsZXh0ZW5kZWRBZGRyZXNzOnQuYWRkcmVzczIsbG9jYWxpdHk6dC5jaXR5LHJlZ2lvbjp0LnN0YXRlT3JQcm92aW5jZUNvZGUsY291bnRyeUNvZGU6dC5jb3VudHJ5Q29kZSxwb3N0YWxDb2RlOnQucG9zdGFsQ29kZX06e319LHQucHJvdG90eXBlLl9nZXRBZGRyZXNzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPXt9KSx7ZW1haWw6dCxmaXJzdF9uYW1lOmUuZmlyc3ROYW1lLGxhc3RfbmFtZTplLmxhc3ROYW1lLHBob25lX251bWJlcjplLnBob25lTnVtYmVyLGFkZHJlc3NfbGluZV8xOmUuc3RyZWV0QWRkcmVzcyxhZGRyZXNzX2xpbmVfMjplLmV4dGVuZGVkQWRkcmVzcyxjaXR5OmUubG9jYWxpdHksc3RhdGU6ZS5yZWdpb24sY291bnRyeV9jb2RlOmUuY291bnRyeUNvZGUscG9zdGFsX2NvZGU6ZS5wb3N0YWxDb2RlfX0sdC5wcm90b3R5cGUuX2dldENhcmRJbmZvcm1hdGlvbj1mdW5jdGlvbih0KXtyZXR1cm57dHlwZTp0LmNhcmRUeXBlLG51bWJlcjp0Lmxhc3RUd299fSx0fSgpO2Z1bmN0aW9uIFgodCxlKXt2YXIgbj1uZXcgSi5hKHQpLHI9bmV3IFouYShuKTtyZXR1cm4gbmV3IFEocixlKX12YXIgJD1uKDQ2KSx0dD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt2b2lkIDA9PT1lJiYoZT13aW5kb3cpLHRoaXMuX3NjcmlwdExvYWRlcj10LHRoaXMuX3dpbmRvdz1lfXJldHVybiB0LnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuX3NjcmlwdExvYWRlci5sb2FkU2NyaXB0KFwiLy9cIisodD9cInNhbmRib3gtXCI6XCJcIikrXCJhc3NldHMuc2VjdXJlLmNoZWNrb3V0LnZpc2EuY29tL2NoZWNrb3V0LXdpZGdldC9yZXNvdXJjZXMvanMvaW50ZWdyYXRpb24vdjEvc2RrLmpzXCIpLnRoZW4oKGZ1bmN0aW9uKCl7aWYoIWUuX3dpbmRvdy5WKXRocm93IG5ldyAkLmE7cmV0dXJuIGUuX3dpbmRvdy5WfSkpfSx0fSgpLGV0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZvaWQgMD09PWUmJihlPXdpbmRvdyksdGhpcy5fc2NyaXB0TG9hZGVyPXQsdGhpcy5fd2luZG93PWV9cmV0dXJuIHQucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5fc2NyaXB0TG9hZGVyLmxvYWRTY3JpcHQoXCIvL3B3Y1wiKyh0P1wicHNiXCI6XCJcIikrXCIuY2hhc2UuY29tL3B3Yy9jaGVja291dC9qcy92MjAxNzA1MjEvbGlzdC5hY3Rpb24/dHlwZT1yYXcmYXBwbElkPVBXQyZjaGFubmVsSWQ9Q1dDJnZlcnNpb249MVwiKS50aGVuKChmdW5jdGlvbigpe2lmKCFlLl93aW5kb3cuSlBNQyl0aHJvdyBuZXcgJC5hO3JldHVybiBlLl93aW5kb3cuSlBNQ30pKX0sdH0oKSxudD1uKDE5OSkscnQ9bigxODIpLGl0PW4oMTg0KSxvdD1uKDE4NSksYXQ9bigxODYpLHN0PW4oMTg3KSxjdD1uKDE4MyksdXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3JlcXVlc3RTZW5kZXI9dH1yZXR1cm4gdC5wcm90b3R5cGUuaW5pdGlhbGl6ZUJpbGxpbmc9ZnVuY3Rpb24odCxlLG4pe3ZhciByPSh2b2lkIDA9PT1uP3t9Om4pLnRpbWVvdXQsaT1cIi9yZW1vdGUtY2hlY2tvdXQvXCIrdCtcIi9iaWxsaW5nXCI7cmV0dXJuIHRoaXMuX3JlcXVlc3RTZW5kZXIuZ2V0KGkse3BhcmFtczplLHRpbWVvdXQ6cn0pfSx0LnByb3RvdHlwZS5pbml0aWFsaXplU2hpcHBpbmc9ZnVuY3Rpb24odCxlLG4pe3ZhciByPSh2b2lkIDA9PT1uP3t9Om4pLnRpbWVvdXQsaT1cIi9yZW1vdGUtY2hlY2tvdXQvXCIrdCtcIi9zaGlwcGluZ1wiO3JldHVybiB0aGlzLl9yZXF1ZXN0U2VuZGVyLmdldChpLHtwYXJhbXM6ZSx0aW1lb3V0OnJ9KX0sdC5wcm90b3R5cGUuaW5pdGlhbGl6ZVBheW1lbnQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByPSh2b2lkIDA9PT1uP3t9Om4pLnRpbWVvdXQsaT1cIi9yZW1vdGUtY2hlY2tvdXQvXCIrdCtcIi9wYXltZW50XCI7cmV0dXJuIHRoaXMuX3JlcXVlc3RTZW5kZXIuZ2V0KGkse3BhcmFtczplLHRpbWVvdXQ6cn0pfSx0LnByb3RvdHlwZS5sb2FkU2V0dGluZ3M9ZnVuY3Rpb24odCxlKXt2YXIgbj0odm9pZCAwPT09ZT97fTplKS50aW1lb3V0LHI9XCIvcmVtb3RlLWNoZWNrb3V0L1wiK3QrXCIvc2V0dGluZ3NcIjtyZXR1cm4gdGhpcy5fcmVxdWVzdFNlbmRlci5nZXQocix7dGltZW91dDpufSl9LHQucHJvdG90eXBlLnNpZ25PdXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj0odm9pZCAwPT09ZT97fTplKS50aW1lb3V0LHI9XCIvcmVtb3RlLWNoZWNrb3V0L1wiK3QrXCIvc2lnbm91dFwiO3JldHVybiB0aGlzLl9yZXF1ZXN0U2VuZGVyLmdldChyLHt0aW1lb3V0Om59KX0sdC5wcm90b3R5cGUuZ2VuZXJhdGVUb2tlbj1mdW5jdGlvbih0KXt2YXIgZT0odm9pZCAwPT09dD97fTp0KS50aW1lb3V0O3JldHVybiB0aGlzLl9yZXF1ZXN0U2VuZGVyLmdldChcIi9yZW1vdGUtY2hlY2tvdXQtdG9rZW5cIix7dGltZW91dDplfSl9LHQucHJvdG90eXBlLnRyYWNrQXV0aG9yaXphdGlvbkV2ZW50PWZ1bmN0aW9uKHQpe3ZhciBlPSh2b2lkIDA9PT10P3t9OnQpLnRpbWVvdXQ7cmV0dXJuIHRoaXMuX3JlcXVlc3RTZW5kZXIucG9zdChcIi9yZW1vdGUtY2hlY2tvdXQvZXZlbnRzL3Nob3BwZXItY2hlY2tvdXQtc2VydmljZS1wcm92aWRlci1hdXRob3JpemF0aW9uLXJlcXVlc3RlZFwiLHt0aW1lb3V0OmV9KX0sdH0oKSxkdD1uKDI4KSxwdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fcmVtb3RlQ2hlY2tvdXRSZXF1ZXN0U2VuZGVyPXR9cmV0dXJuIHQucHJvdG90eXBlLmluaXRpYWxpemVCaWxsaW5nPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzO3JldHVybiBiLk9ic2VydmFibGUuY3JlYXRlKChmdW5jdGlvbihpKXtpLm5leHQoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShkdC5hLkluaXRpYWxpemVSZW1vdGVCaWxsaW5nUmVxdWVzdGVkLHZvaWQgMCx7bWV0aG9kSWQ6dH0pKSxyLl9yZW1vdGVDaGVja291dFJlcXVlc3RTZW5kZXIuaW5pdGlhbGl6ZUJpbGxpbmcodCxlLG4pLnRoZW4oKGZ1bmN0aW9uKGUpe3ZhciBuPWUuYm9keSxyPXZvaWQgMD09PW4/e306bjtpLm5leHQoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShkdC5hLkluaXRpYWxpemVSZW1vdGVCaWxsaW5nU3VjY2VlZGVkLHIse21ldGhvZElkOnR9KSksaS5jb21wbGV0ZSgpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtpLmVycm9yKE9iamVjdChnLmNyZWF0ZUVycm9yQWN0aW9uKShkdC5hLkluaXRpYWxpemVSZW1vdGVCaWxsaW5nRmFpbGVkLGUse21ldGhvZElkOnR9KSl9KSl9KSl9LHQucHJvdG90eXBlLmluaXRpYWxpemVTaGlwcGluZz1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcztyZXR1cm4gYi5PYnNlcnZhYmxlLmNyZWF0ZSgoZnVuY3Rpb24oaSl7aS5uZXh0KE9iamVjdChnLmNyZWF0ZUFjdGlvbikoZHQuYS5Jbml0aWFsaXplUmVtb3RlU2hpcHBpbmdSZXF1ZXN0ZWQsdm9pZCAwLHttZXRob2RJZDp0fSkpLHIuX3JlbW90ZUNoZWNrb3V0UmVxdWVzdFNlbmRlci5pbml0aWFsaXplU2hpcHBpbmcodCxlLG4pLnRoZW4oKGZ1bmN0aW9uKGUpe3ZhciBuPWUuYm9keSxyPXZvaWQgMD09PW4/e306bjtpLm5leHQoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShkdC5hLkluaXRpYWxpemVSZW1vdGVTaGlwcGluZ1N1Y2NlZWRlZCxyLHttZXRob2RJZDp0fSkpLGkuY29tcGxldGUoKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7aS5lcnJvcihPYmplY3QoZy5jcmVhdGVFcnJvckFjdGlvbikoZHQuYS5Jbml0aWFsaXplUmVtb3RlU2hpcHBpbmdGYWlsZWQsZSx7bWV0aG9kSWQ6dH0pKX0pKX0pKX0sdC5wcm90b3R5cGUuaW5pdGlhbGl6ZVBheW1lbnQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXM7cmV0dXJuIGIuT2JzZXJ2YWJsZS5jcmVhdGUoKGZ1bmN0aW9uKGkpe2kubmV4dChPYmplY3QoZy5jcmVhdGVBY3Rpb24pKGR0LmEuSW5pdGlhbGl6ZVJlbW90ZVBheW1lbnRSZXF1ZXN0ZWQsdm9pZCAwLHttZXRob2RJZDp0fSkpLHIuX3JlbW90ZUNoZWNrb3V0UmVxdWVzdFNlbmRlci5pbml0aWFsaXplUGF5bWVudCh0LGUsbikudGhlbigoZnVuY3Rpb24oZSl7dmFyIG49ZS5ib2R5LHI9dm9pZCAwPT09bj97fTpuO2kubmV4dChPYmplY3QoZy5jcmVhdGVBY3Rpb24pKGR0LmEuSW5pdGlhbGl6ZVJlbW90ZVBheW1lbnRTdWNjZWVkZWQscix7bWV0aG9kSWQ6dH0pKSxpLmNvbXBsZXRlKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2kuZXJyb3IoT2JqZWN0KGcuY3JlYXRlRXJyb3JBY3Rpb24pKGR0LmEuSW5pdGlhbGl6ZVJlbW90ZVBheW1lbnRGYWlsZWQsZSx7bWV0aG9kSWQ6dH0pKX0pKX0pKX0sdC5wcm90b3R5cGUubG9hZFNldHRpbmdzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gYi5PYnNlcnZhYmxlLmNyZWF0ZSgoZnVuY3Rpb24ocil7ci5uZXh0KE9iamVjdChnLmNyZWF0ZUFjdGlvbikoZHQuYS5Mb2FkUmVtb3RlU2V0dGluZ3NSZXF1ZXN0ZWQsdm9pZCAwLHttZXRob2RJZDp0fSkpLG4uX3JlbW90ZUNoZWNrb3V0UmVxdWVzdFNlbmRlci5sb2FkU2V0dGluZ3ModCxlKS50aGVuKChmdW5jdGlvbihlKXt2YXIgbj1lLmJvZHk7ci5uZXh0KE9iamVjdChnLmNyZWF0ZUFjdGlvbikoZHQuYS5Mb2FkUmVtb3RlU2V0dGluZ3NTdWNjZWVkZWQsbix7bWV0aG9kSWQ6dH0pKSxyLmNvbXBsZXRlKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3IuZXJyb3IoT2JqZWN0KGcuY3JlYXRlRXJyb3JBY3Rpb24pKGR0LmEuTG9hZFJlbW90ZVNldHRpbmdzRmFpbGVkLGUse21ldGhvZElkOnR9KSl9KSl9KSl9LHQucHJvdG90eXBlLnNpZ25PdXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiBiLk9ic2VydmFibGUuY3JlYXRlKChmdW5jdGlvbihyKXtyLm5leHQoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShkdC5hLlNpZ25PdXRSZW1vdGVDdXN0b21lclJlcXVlc3RlZCx2b2lkIDAse21ldGhvZElkOnR9KSksbi5fcmVtb3RlQ2hlY2tvdXRSZXF1ZXN0U2VuZGVyLnNpZ25PdXQodCxlKS50aGVuKChmdW5jdGlvbigpe3IubmV4dChPYmplY3QoZy5jcmVhdGVBY3Rpb24pKGR0LmEuU2lnbk91dFJlbW90ZUN1c3RvbWVyU3VjY2VlZGVkLHZvaWQgMCx7bWV0aG9kSWQ6dH0pKSxyLmNvbXBsZXRlKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3IuZXJyb3IoT2JqZWN0KGcuY3JlYXRlRXJyb3JBY3Rpb24pKGR0LmEuU2lnbk91dFJlbW90ZUN1c3RvbWVyRmFpbGVkLGUse21ldGhvZElkOnR9KSl9KSl9KSl9LHQucHJvdG90eXBlLnVwZGF0ZUNoZWNrb3V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdChnLmNyZWF0ZUFjdGlvbikoZHQuYS5VcGRhdGVSZW1vdGVDaGVja291dCxlLHttZXRob2RJZDp0fSl9LHR9KCksaHQ9bigyMyksbHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPXQuY2FsbCh0aGlzLFwiWW91IGhhdmVuJ3QgY29tcGxldGUgb3VyIHNwYW0gcHJvdGVjdGlvbiBjaGFsbGVuZ2UuIFBsZWFzZSB0cnkgYWdhaW4uXCIpfHx0aGlzO3JldHVybiBlLm5hbWU9XCJTcGFtUHJvdGVjdGlvbkNoYWxsZW5nZU5vdENvbXBsZXRlZEVycm9yXCIsZS50eXBlPVwic3BhbV9wcm90ZWN0aW9uX2NoYWxsZW5nZV9ub3RfY29tcGxldGVkXCIsZX1yZXR1cm4gT2JqZWN0KGQuX19leHRlbmRzKShlLHQpLGV9KGh0LmEpLG10PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT10LmNhbGwodGhpcyxcIldlIHdlcmUgbm90IGFibGUgdG8gY29tcGxldGUgeW91ciBzcGFtIHByb3RlY3Rpb24gdmVyaWZpY2F0aW9uLiBQbGVhc2UgdHJ5IGFnYWluLlwiKXx8dGhpcztyZXR1cm4gZS5uYW1lPVwiU3BhbVByb3RlY3Rpb25GYWlsZWRFcnJvclwiLGUudHlwZT1cInNwYW1fcHJvdGVjdGlvbl9mYWlsZWRcIixlfXJldHVybiBPYmplY3QoZC5fX2V4dGVuZHMpKGUsdCksZX0oaHQuYSksZnQ9big2NyksX3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fZ29vZ2xlUmVjYXB0Y2hhPXQsdGhpcy5fcmVxdWVzdFNlbmRlcj1lfXJldHVybiB0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBPYmplY3QoYi5jb25jYXQpKE9iamVjdChiLm9mKShPYmplY3QoZy5jcmVhdGVBY3Rpb24pKGZ0LmEuSW5pdGlhbGl6ZVJlcXVlc3RlZCx2b2lkIDApKSxPYmplY3QoYi5kZWZlcikoKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikoZSx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLHIsaSxvLGE7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihzKXtzd2l0Y2gocy5sYWJlbCl7Y2FzZSAwOnJldHVybiBlPXQ/dC5jb250YWluZXJJZDpcInNwYW1Qcm90ZWN0aW9uQ29udGFpbmVyXCIsdHx8ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSl8fCgocj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKS5zZXRBdHRyaWJ1dGUoXCJpZFwiLGUpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocikpLGk9bi5nZXRTdGF0ZSgpLG89aS5jb25maWcuZ2V0U3RvcmVDb25maWdPclRocm93KCksYT1vLmNoZWNrb3V0U2V0dGluZ3MuZ29vZ2xlUmVjYXB0Y2hhU2l0ZWtleSxbNCx0aGlzLl9nb29nbGVSZWNhcHRjaGEubG9hZChlLGEpXTtjYXNlIDE6cmV0dXJuIHMuc2VudCgpLFsyLE9iamVjdChnLmNyZWF0ZUFjdGlvbikoZnQuYS5Jbml0aWFsaXplU3VjY2VlZGVkKV19fSkpfSkpfSkpKS5waXBlKE9iamVjdChNLmNhdGNoRXJyb3IpKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KFQuYSkoZnQuYS5Jbml0aWFsaXplRmFpbGVkLHQpfSkpKX19LHQucHJvdG90eXBlLnZlcmlmeUNoZWNrb3V0U3BhbVByb3RlY3Rpb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGIuZGVmZXIpKChmdW5jdGlvbigpe3ZhciBuPWUuZ2V0U3RhdGUoKS5jaGVja291dC5nZXRDaGVja291dCgpO2lmKCFuKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdDaGVja291dCk7cmV0dXJuIE9iamVjdChiLmNvbmNhdCkoT2JqZWN0KGIub2YpKE9iamVjdChnLmNyZWF0ZUFjdGlvbikoZnQuYS5WZXJpZnlDaGVja291dFJlcXVlc3RlZCkpLE9iamVjdChiLmZyb20pKHQuZXhlY3V0ZSgpKGUpKS5waXBlKE9iamVjdChNLnN3aXRjaE1hcCkoKGZ1bmN0aW9uKGUpe3JldHVybiBSKGUpJiZlLnBheWxvYWQ/T2JqZWN0KGIuZnJvbSkodC5fcmVxdWVzdFNlbmRlci52YWxpZGF0ZShuLmlkLGUucGF5bG9hZC50b2tlbikpLnBpcGUoT2JqZWN0KE0uc3dpdGNoTWFwKSgoZnVuY3Rpb24odCl7dmFyIG49dC5ib2R5O3JldHVybiBPYmplY3QoYi5jb25jYXQpKE9iamVjdChiLm9mKShlKSxPYmplY3QoYi5vZikoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShmdC5hLlZlcmlmeUNoZWNrb3V0U3VjY2VlZGVkLG4pKSl9KSkpOk9iamVjdChiLm9mKShlKX0pKSkpLnBpcGUoT2JqZWN0KE0uY2F0Y2hFcnJvcikoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoVC5hKShmdC5hLlZlcmlmeUNoZWNrb3V0RmFpbGVkLHQpfSkpKX0pKX19LHQucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGIuY29uY2F0KShPYmplY3QoYi5vZikoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShmdC5hLkV4ZWN1dGVSZXF1ZXN0ZWQpKSx0LmluaXRpYWxpemUoKShlKSx0Ll9nb29nbGVSZWNhcHRjaGEuZXhlY3V0ZSgpLnBpcGUoT2JqZWN0KE0udGFrZSkoMSkpLnBpcGUoT2JqZWN0KE0uc3dpdGNoTWFwKSgoZnVuY3Rpb24oZSl7dmFyIG49ZS5lcnJvcixyPWUudG9rZW47cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24odCl7aWYobiBpbnN0YW5jZW9mIGx0KXRocm93IG47aWYobnx8IXIpdGhyb3cgbmV3IG10O3JldHVyblsyLE9iamVjdChnLmNyZWF0ZUFjdGlvbikoZnQuYS5FeGVjdXRlU3VjY2VlZGVkLHt0b2tlbjpyfSldfSkpfSkpfSkpKSkucGlwZShPYmplY3QoTS5jYXRjaEVycm9yKSgoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChULmEpKGZ0LmEuRXhlY3V0ZUZhaWxlZCx0KX0pKSl9fSx0fSgpLHl0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2b2lkIDA9PT10JiYodD13aW5kb3cpLHRoaXMuX3dpbmRvdz10fXJldHVybiB0LnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB0aGlzLl93aW5kb3cuTXV0YXRpb25PYnNlcnZlcih0KX0sdH0oKSxndD1uKDUpLGJ0PW4oMTEyKSx2dD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9dC5jYWxsKHRoaXMsXCJTcGFtIHByb3RlY3Rpb24gaXMgbm90IGxvYWRlZC4gUGxlYXNlIHRyeSBhZ2Fpbi5cIil8fHRoaXM7cmV0dXJuIGUubmFtZT1cIlNwYW1Qcm90ZWN0aW9uTm90TG9hZGVkRXJyb3JcIixlLnR5cGU9XCJzcGFtX3Byb3RlY3Rpb25fZmFpbGVkXCIsZX1yZXR1cm4gT2JqZWN0KGQuX19leHRlbmRzKShlLHQpLGV9KGh0LmEpLEN0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZhciBuPXRoaXM7dGhpcy5nb29nbGVSZWNhcHRjaGFTY3JpcHRMb2FkZXI9dCx0aGlzLm11dGF0aW9uT2JzZXJ2ZXJGYWN0b3J5PWUsdGhpcy5fbWVtb2l6ZWQ9T2JqZWN0KGd0Lm1lbW9pemUpKChmdW5jdGlvbih0LGUscil7dmFyIGk9bmV3IGIuU3ViamVjdDtpZighcil0aHJvdyBuZXcgRXJyb3I7cmV0dXJuIG4uX3dpZGdldElkPXQucmVuZGVyKHIuaWQse3NpdGVrZXk6ZSxzaXplOlwiaW52aXNpYmxlXCIsY2FsbGJhY2s6ZnVuY3Rpb24oKXtpLm5leHQoe3Rva2VuOnQuZ2V0UmVzcG9uc2Uobi5fd2lkZ2V0SWQpfSksdC5yZXNldChuLl93aWRnZXRJZCl9LFwiZXJyb3ItY2FsbGJhY2tcIjpmdW5jdGlvbigpe2kubmV4dCh7ZXJyb3I6bmV3IG10fSl9fSksaX0pLHtpc0VxdWFsOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9PT1lfX0pfXJldHVybiB0LnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gdGhpcy5nb29nbGVSZWNhcHRjaGFTY3JpcHRMb2FkZXIubG9hZCgpLnRoZW4oKGZ1bmN0aW9uKHIpe24uX2V2ZW50JD1uLl9tZW1vaXplZChyLGUsZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodCkpLG4uX3JlY2FwdGNoYT1yfSkpfSx0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gT2JqZWN0KGIuZGVmZXIpKChmdW5jdGlvbigpe3ZhciBlPXQuX2V2ZW50JCxuPXQuX3JlY2FwdGNoYTtpZighZXx8IW4pdGhyb3cgbmV3IGJ0LmIoYnQuYS5TcGFtUHJvdGVjdGlvbk5vdEluaXRpYWxpemVkKTtyZXR1cm4gT2JqZWN0KGIuZGVmZXIpKChmdW5jdGlvbigpe3ZhciB0PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lmcmFtZVtzcmMqPVwiYmZyYW1lXCJdJyk7cmV0dXJuIHQ/T2JqZWN0KGIub2YpKHQpOk9iamVjdChiLnRocm93RXJyb3IpKG5ldyB2dCl9KSkucGlwZShPYmplY3QoTS5yZXRyeVdoZW4pKChmdW5jdGlvbih0KXtyZXR1cm4gdC5waXBlKE9iamVjdChNLmRlbGF5KSgyNTApLE9iamVjdChNLnN3aXRjaE1hcCkoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU8Mjg/T2JqZWN0KGIub2YpKHQpOk9iamVjdChiLnRocm93RXJyb3IpKHQpfSkpKX0pKSxPYmplY3QoTS5zd2l0Y2hNYXApKChmdW5jdGlvbihyKXtyZXR1cm4gdC5fd2F0Y2hSZWNhcHRjaGFDaGFsbGVuZ2VXaW5kb3coZSxyKSxuLmV4ZWN1dGUodC5fd2lkZ2V0SWQpLGV9KSksT2JqZWN0KE0uY2F0Y2hFcnJvcikoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoYi5vZikoe2Vycm9yOnR9KX0pKSl9KSl9LHQucHJvdG90eXBlLl93YXRjaFJlY2FwdGNoYUNoYWxsZW5nZVdpbmRvdz1mdW5jdGlvbih0LGUpe3ZhciBuPWUucGFyZW50RWxlbWVudDtpZighbil0aHJvdyBuZXcgdnQ7dmFyIHI9bi5wYXJlbnRFbGVtZW50O2lmKCFyKXRocm93IG5ldyB2dDt0aGlzLm11dGF0aW9uT2JzZXJ2ZXJGYWN0b3J5LmNyZWF0ZSgoZnVuY3Rpb24oKXtcImhpZGRlblwiPT09ci5zdHlsZS52aXNpYmlsaXR5JiZ0Lm5leHQoe2Vycm9yOm5ldyBsdH0pfSkpLm9ic2VydmUocix7YXR0cmlidXRlczohMCxhdHRyaWJ1dGVGaWx0ZXI6W1wic3R5bGVcIl19KX0sdH0oKSxPdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt2b2lkIDA9PT1lJiYoZT13aW5kb3cpLHRoaXMuX3NjcmlwdExvYWRlcj10LHRoaXMuX3dpbmRvdz1lfXJldHVybiB0LnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvYWRQcm9taXNlfHwodGhpcy5fbG9hZFByb21pc2U9dGhpcy5fbG9hZFNjcmlwdCgpKSx0aGlzLl9sb2FkUHJvbWlzZX0sdC5wcm90b3R5cGUuX2xvYWRTY3JpcHQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9W1wib25sb2FkPWluaXRSZWNhcHRjaGFcIixcInJlbmRlcj1leHBsaWNpdFwiXS5qb2luKFwiJlwiKTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7dC5fd2luZG93LmluaXRSZWNhcHRjaGE9ZnVuY3Rpb24oKXtyZXR1cm4gbih0Ll93aW5kb3cuZ3JlY2FwdGNoYSl9LHQuX3NjcmlwdExvYWRlci5sb2FkU2NyaXB0KFwiLy93d3cuZ29vZ2xlLmNvbS9yZWNhcHRjaGEvYXBpLmpzP1wiK2UpLmNhdGNoKChmdW5jdGlvbihlKXt0Ll9sb2FkUHJvbWlzZT12b2lkIDAscihlKX0pKX0pKX0sdH0oKTtmdW5jdGlvbiBTdCh0KXtyZXR1cm4gbmV3IEN0KG5ldyBPdCh0KSxuZXcgeXQpfXZhciB3dD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fcmVxdWVzdFNlbmRlcj10fXJldHVybiB0LnByb3RvdHlwZS52YWxpZGF0ZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9KHZvaWQgMD09PW4/e306bikudGltZW91dCxpPVwiL2FwaS9zdG9yZWZyb250L2NoZWNrb3V0cy9cIit0K1wiL3NwYW0tcHJvdGVjdGlvblwiLG89e0FjY2VwdDpJLmEuSnNvblYxfTtyZXR1cm4gdGhpcy5fcmVxdWVzdFNlbmRlci5wb3N0KGkse2JvZHk6e3Rva2VuOmV9LGhlYWRlcnM6byx0aW1lb3V0OnJ9KX0sdH0oKSxJdD1uKDUyKSxBdD1uKDE4MCksRXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIsaSl7dGhpcy5fc3RvcmU9dCx0aGlzLl9wYXltZW50TWV0aG9kQWN0aW9uQ3JlYXRvcj1lLHRoaXMuX3JlbW90ZUNoZWNrb3V0QWN0aW9uQ3JlYXRvcj1uLHRoaXMuX3JlbW90ZUNoZWNrb3V0UmVxdWVzdFNlbmRlcj1yLHRoaXMuX3NjcmlwdExvYWRlcj1pLHRoaXMuX3dpbmRvdz13aW5kb3d9cmV0dXJuIHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXQuYW1hem9uLHI9dC5tZXRob2RJZDtpZighbnx8IXIpdGhyb3cgbmV3IEl0LmEoJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgXCJvcHRpb25zLmFtYXpvblwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nKTtyZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3IubG9hZFBheW1lbnRNZXRob2QocikpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oaSxvKXtpZihlLl9wYXltZW50TWV0aG9kPXQucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZChyKSwhZS5fcGF5bWVudE1ldGhvZCl0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7dmFyIGE9bi5vbkVycm9yLHM9dm9pZCAwPT09YT9mdW5jdGlvbigpe306YTtlLl9zY3JpcHRMb2FkZXIubG9hZFdpZGdldChlLl9wYXltZW50TWV0aG9kLChmdW5jdGlvbigpe2UuX2NyZWF0ZVNpZ25JbkJ1dHRvbihPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LG4pLHtvbkVycm9yOmZ1bmN0aW9uKHQpe28odCkscyh0KX19KSksaSgpfSkpLmNhdGNoKG8pfSkpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGUuX3N0b3JlLmdldFN0YXRlKCl9KSl9LHQucHJvdG90eXBlLmRlaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXltZW50TWV0aG9kPXZvaWQgMCxQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSl9LHQucHJvdG90eXBlLnNpZ25Jbj1mdW5jdGlvbigpe3Rocm93IG5ldyBBdC5hKCdJbiBvcmRlciB0byBzaWduIGluIHZpYSBBbWF6b25QYXksIHRoZSBzaG9wcGVyIG11c3QgY2xpY2sgb24gXCJMb2dpbiB3aXRoIEFtYXpvblwiIGJ1dHRvbi4nKX0sdC5wcm90b3R5cGUuc2lnbk91dD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLnBheW1lbnQuZ2V0UGF5bWVudElkKCk7cmV0dXJuIGU/dGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcmVtb3RlQ2hlY2tvdXRBY3Rpb25DcmVhdG9yLnNpZ25PdXQoZS5wcm92aWRlcklkLHQpKTpQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSl9LHQucHJvdG90eXBlLl9jcmVhdGVTaWduSW5CdXR0b249ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZighdGhpcy5fcGF5bWVudE1ldGhvZHx8IXRoaXMuX3dpbmRvdy5PZmZBbWF6b25QYXltZW50cyl0aHJvdyBuZXcgYnQuYihidC5hLkN1c3RvbWVyTm90SW5pdGlhbGl6ZWQpO2lmKCF0aGlzLl9wYXltZW50TWV0aG9kLmNvbmZpZy5tZXJjaGFudElkKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdQYXltZW50TWV0aG9kKTt2YXIgbj10aGlzLl9wYXltZW50TWV0aG9kLmluaXRpYWxpemF0aW9uRGF0YTtyZXR1cm4gbmV3IHRoaXMuX3dpbmRvdy5PZmZBbWF6b25QYXltZW50cy5CdXR0b24odC5jb250YWluZXIsdGhpcy5fcGF5bWVudE1ldGhvZC5jb25maWcubWVyY2hhbnRJZCx7Y29sb3I6dC5jb2xvcnx8XCJHb2xkXCIsc2l6ZTp0LnNpemV8fFwic21hbGxcIix0eXBlOlwiUHdBXCIsdXNlQW1hem9uQWRkcmVzc0Jvb2s6ITAsb25FcnJvcjp0Lm9uRXJyb3IsYXV0aG9yaXphdGlvbjpmdW5jdGlvbigpe2UuX2hhbmRsZUF1dGhvcml6YXRpb24obil9fSl9LHQucHJvdG90eXBlLl9oYW5kbGVBdXRob3JpemF0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy5fcmVtb3RlQ2hlY2tvdXRSZXF1ZXN0U2VuZGVyLmdlbmVyYXRlVG9rZW4oKS50aGVuKChmdW5jdGlvbihuKXt2YXIgcj1uLmJvZHk7aWYoIWUuX3dpbmRvdy5hbWF6b24pdGhyb3cgbmV3IGJ0LmIoYnQuYS5TaGlwcGluZ05vdEluaXRpYWxpemVkKTtlLl93aW5kb3cuYW1hem9uLkxvZ2luLmF1dGhvcml6ZSh7cG9wdXA6ITEsc2NvcGU6XCJwYXltZW50czpzaGlwcGluZ19hZGRyZXNzIHBheW1lbnRzOmJpbGxpbmdfYWRkcmVzcyBwYXltZW50czp3aWRnZXQgcHJvZmlsZVwiLHN0YXRlOlwiXCIrdC50b2tlblByZWZpeCtyLnRva2VufSx0LnJlZGlyZWN0VXJsKSxlLl9yZW1vdGVDaGVja291dFJlcXVlc3RTZW5kZXIudHJhY2tBdXRob3JpemF0aW9uRXZlbnQoKX0pKX0sdH0oKSxQdD1uKDEwNCksanQ9bigyMDMpLGt0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyKXt0aGlzLl9zdG9yZT10LHRoaXMuX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yPWUsdGhpcy5fcmVtb3RlQ2hlY2tvdXRBY3Rpb25DcmVhdG9yPW4sdGhpcy5fYW1hem9uUGF5VjJQYXltZW50UHJvY2Vzc29yPXJ9cmV0dXJuIHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLG4scixpO3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24obyl7c3dpdGNoKG8ubGFiZWwpe2Nhc2UgMDppZihlPXQubWV0aG9kSWQsbj10LmFtYXpvbnBheSwhZXx8IW4pdGhyb3cgbmV3IEl0LmEoJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgXCJvcHRpb25zLm1ldGhvZElkXCIgb3IgXCJvcHRpb25zLmFtYXpvbnBheVwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nKTtyZXR1cm5bNCx0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9wYXltZW50TWV0aG9kQWN0aW9uQ3JlYXRvci5sb2FkUGF5bWVudE1ldGhvZChlKSldO2Nhc2UgMTpyZXR1cm4gcj1vLnNlbnQoKSxpPXIucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3coZSksWzQsdGhpcy5fYW1hem9uUGF5VjJQYXltZW50UHJvY2Vzc29yLmluaXRpYWxpemUoaSldO2Nhc2UgMjpyZXR1cm4gby5zZW50KCksdGhpcy5fd2FsbGV0QnV0dG9uPXRoaXMuX2NyZWF0ZVNpZ25JbkJ1dHRvbihuLmNvbnRhaW5lcixlKSxbMix0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpXX19KSl9KSl9LHQucHJvdG90eXBlLmRlaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl93YWxsZXRCdXR0b24mJnRoaXMuX3dhbGxldEJ1dHRvbi5wYXJlbnROb2RlJiYodGhpcy5fd2FsbGV0QnV0dG9uLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fd2FsbGV0QnV0dG9uKSx0aGlzLl93YWxsZXRCdXR0b249dm9pZCAwKSxQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSl9LHQucHJvdG90eXBlLnNpZ25Jbj1mdW5jdGlvbigpe3Rocm93IG5ldyBBdC5hKCdJbiBvcmRlciB0byBzaWduIGluIHZpYSBBbWF6b24sIHRoZSBzaG9wcGVyIG11c3QgY2xpY2sgb24gXCJBbWF6b24gUGF5XCIgYnV0dG9uLicpfSx0LnByb3RvdHlwZS5zaWduT3V0PWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSxuO3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZT10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLChuPWUucGF5bWVudC5nZXRQYXltZW50SWQoKSk/WzQsdGhpcy5fYW1hem9uUGF5VjJQYXltZW50UHJvY2Vzc29yLnNpZ25vdXQoKV06WzIsUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3N0b3JlLmdldFN0YXRlKCkpXTtjYXNlIDE6cmV0dXJuIHIuc2VudCgpLFsyLHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3JlbW90ZUNoZWNrb3V0QWN0aW9uQ3JlYXRvci5zaWduT3V0KG4ucHJvdmlkZXJJZCx0KSldfX0pKX0pKX0sdC5wcm90b3R5cGUuX2NyZWF0ZVNpZ25JbkJ1dHRvbj1mdW5jdGlvbih0LGUpe3ZhciBuPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHQpO2lmKCFuKXRocm93IG5ldyBJdC5hKFwiVW5hYmxlIHRvIGNyZWF0ZSBzaWduLWluIGJ1dHRvbiB3aXRob3V0IHZhbGlkIGNvbnRhaW5lciBJRC5cIik7dmFyIHI9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSxpPXIucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZChlKSxvPXIuY29uZmlnLmdldFN0b3JlQ29uZmlnKCksYT1yLmNhcnQuZ2V0Q2FydCgpO2lmKCFvKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdDaGVja291dENvbmZpZyk7aWYoIWkpdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ1BheW1lbnRNZXRob2QpO3ZhciBzPWkuY29uZmlnLGM9cy5tZXJjaGFudElkLHU9cy50ZXN0TW9kZSxkPWkuaW5pdGlhbGl6YXRpb25EYXRhLHA9ZC5jaGVja291dExhbmd1YWdlLGg9ZC5sZWRnZXJDdXJyZW5jeSxsPWQuY2hlY2tvdXRTZXNzaW9uTWV0aG9kLG09ZC5leHRyYWN0QW1hem9uQ2hlY2tvdXRTZXNzaW9uSWQ7aWYoIWMpdGhyb3cgbmV3IEl0LmEoXCJVbmFibGUgdG8gY3JlYXRlIHNpZ24taW4gYnV0dG9uIHdpdGhvdXQgdmFsaWQgbWVyY2hhbnQgSUQuXCIpO3ZhciBmPXttZXJjaGFudElkOmMsc2FuZGJveDohIXUsY2hlY2tvdXRMYW5ndWFnZTpwLGxlZGdlckN1cnJlbmN5OmgscHJvZHVjdFR5cGU6YSYmMD09PU9iamVjdChqdC5hKShhKT9QdC5hLlBheU9ubHk6UHQuYS5QYXlBbmRTaGlwLGNyZWF0ZUNoZWNrb3V0U2Vzc2lvbjp7bWV0aG9kOmwsdXJsOm8uc3RvcmVQcm9maWxlLnNob3BQYXRoK1wiL3JlbW90ZS1jaGVja291dC9cIitlK1wiL3BheW1lbnQtc2Vzc2lvblwiLGV4dHJhY3RBbWF6b25DaGVja291dFNlc3Npb25JZDptfSxwbGFjZW1lbnQ6UHQuYi5DaGVja291dH07cmV0dXJuIHRoaXMuX2FtYXpvblBheVYyUGF5bWVudFByb2Nlc3Nvci5jcmVhdGVCdXR0b24oXCIjXCIrdCxmKSxufSx0fSgpLE10PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyLGksbyxhKXt0aGlzLl9zdG9yZT10LHRoaXMuX2NoZWNrb3V0QWN0aW9uQ3JlYXRvcj1lLHRoaXMuX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yPW4sdGhpcy5fY3VzdG9tZXJTdHJhdGVneUFjdGlvbkNyZWF0b3I9cix0aGlzLl9yZW1vdGVDaGVja291dEFjdGlvbkNyZWF0b3I9aSx0aGlzLl9icmFpbnRyZWVWaXNhQ2hlY2tvdXRQYXltZW50UHJvY2Vzc29yPW8sdGhpcy5fdmlzYUNoZWNrb3V0U2NyaXB0TG9hZGVyPWEsdGhpcy5fYnV0dG9uQ2xhc3NOYW1lPVwidmlzYS1jaGVja291dC13cmFwcGVyXCJ9cmV0dXJuIHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXQuYnJhaW50cmVldmlzYWNoZWNrb3V0LHI9dC5tZXRob2RJZDtpZighbnx8IXIpdGhyb3cgbmV3IEl0LmEoJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgXCJvcHRpb25zLmJyYWludHJlZXZpc2FjaGVja291dFwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nKTtyZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3IubG9hZFBheW1lbnRNZXRob2QocikpLnRoZW4oKGZ1bmN0aW9uKHQpe2UuX3BheW1lbnRNZXRob2Q9dC5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kKHIpO3ZhciBpPXQuY2hlY2tvdXQuZ2V0Q2hlY2tvdXQoKSxvPXQuY29uZmlnLmdldFN0b3JlQ29uZmlnKCk7aWYoIWkpdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ0NoZWNrb3V0KTtpZighbyl0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nQ2hlY2tvdXRDb25maWcpO2lmKCFlLl9wYXltZW50TWV0aG9kfHwhZS5fcGF5bWVudE1ldGhvZC5jbGllbnRUb2tlbil0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7dmFyIGE9bi5jb250YWluZXIscz1uLm9uRXJyb3IsYz12b2lkIDA9PT1zP2Z1bmN0aW9uKCl7fTpzLHU9e2xvY2FsZTpvLnN0b3JlUHJvZmlsZS5zdG9yZUxhbmd1YWdlLGNvbGxlY3RTaGlwcGluZzohMCxzdWJ0b3RhbDppLnN1YnRvdGFsLGN1cnJlbmN5Q29kZTpvLmN1cnJlbmN5LmNvZGV9O3JldHVybiBQcm9taXNlLmFsbChbZS5fdmlzYUNoZWNrb3V0U2NyaXB0TG9hZGVyLmxvYWQoZS5fcGF5bWVudE1ldGhvZC5jb25maWcudGVzdE1vZGUpLGUuX2JyYWludHJlZVZpc2FDaGVja291dFBheW1lbnRQcm9jZXNzb3IuaW5pdGlhbGl6ZShlLl9wYXltZW50TWV0aG9kLmNsaWVudFRva2VuLHUpXSkudGhlbigoZnVuY3Rpb24odCl7dmFyIG49dFswXSxyPXRbMV0saT1lLl9jcmVhdGVTaWduSW5CdXR0b24oYSxlLl9idXR0b25DbGFzc05hbWUpO3JldHVybiBuLmluaXQociksbi5vbihcInBheW1lbnQuc3VjY2Vzc1wiLChmdW5jdGlvbih0KXtyZXR1cm4gZS5fcGF5bWVudEluc3RydW1lbnRTZWxlY3RlZCh0KS5jYXRjaCgoZnVuY3Rpb24odCl7cmV0dXJuIGModCl9KSl9KSksbi5vbihcInBheW1lbnQuZXJyb3JcIiwoZnVuY3Rpb24odCxlKXtyZXR1cm4gYyhlKX0pKSxpfSkpLnRoZW4oKGZ1bmN0aW9uKHQpe3Quc3R5bGUudmlzaWJpbGl0eT1cInZpc2libGVcIn0pKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBlLl9zdG9yZS5nZXRTdGF0ZSgpfSkpfSx0LnByb3RvdHlwZS5zaWduSW49ZnVuY3Rpb24oKXt0aHJvdyBuZXcgQXQuYSgnSW4gb3JkZXIgdG8gc2lnbiBpbiB2aWEgVmlzYUNoZWNrb3V0LCB0aGUgc2hvcHBlciBtdXN0IGNsaWNrIG9uIFwiVmlzYSBDaGVja291dFwiIGJ1dHRvbi4nKX0sdC5wcm90b3R5cGUuc2lnbk91dD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcmVtb3RlQ2hlY2tvdXRBY3Rpb25DcmVhdG9yLnNpZ25PdXQoXCJicmFpbnRyZWV2aXNhY2hlY2tvdXRcIix0KSl9LHQucHJvdG90eXBlLmRlaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuX3BheW1lbnRNZXRob2Q9dm9pZCAwLHRoaXMuX2JyYWludHJlZVZpc2FDaGVja291dFBheW1lbnRQcm9jZXNzb3IuZGVpbml0aWFsaXplKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdC5fc3RvcmUuZ2V0U3RhdGUoKX0pKX0sdC5wcm90b3R5cGUuX3BheW1lbnRJbnN0cnVtZW50U2VsZWN0ZWQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRoaXMuX3N0b3JlLmdldFN0YXRlKCk7aWYoIXRoaXMuX3BheW1lbnRNZXRob2QpdGhyb3cgbmV3IEVycm9yKFwiUGF5bWVudCBtZXRob2Qgbm90IGluaXRpYWxpemVkXCIpO3ZhciByPXRoaXMuX3BheW1lbnRNZXRob2QuaWQ7cmV0dXJuIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX2N1c3RvbWVyU3RyYXRlZ3lBY3Rpb25DcmVhdG9yLndpZGdldEludGVyYWN0aW9uKChmdW5jdGlvbigpe3JldHVybiBlLl9icmFpbnRyZWVWaXNhQ2hlY2tvdXRQYXltZW50UHJvY2Vzc29yLmhhbmRsZVN1Y2Nlc3ModCxuLnNoaXBwaW5nQWRkcmVzcy5nZXRTaGlwcGluZ0FkZHJlc3MoKSxuLmJpbGxpbmdBZGRyZXNzLmdldEJpbGxpbmdBZGRyZXNzKCkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGUuX3N0b3JlLmRpc3BhdGNoKGUuX2NoZWNrb3V0QWN0aW9uQ3JlYXRvci5sb2FkQ3VycmVudENoZWNrb3V0KCkpfSkpfSkse21ldGhvZElkOnJ9KSx7cXVldWVJZDpcIndpZGdldEludGVyYWN0aW9uXCJ9KX0sdC5wcm90b3R5cGUuX2NyZWF0ZVNpZ25JbkJ1dHRvbj1mdW5jdGlvbih0LGUpe3ZhciBuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjXCIrdCk7aWYoIW4pdGhyb3cgbmV3IEVycm9yKFwiTmVlZCBhIGNvbnRhaW5lciB0byBwbGFjZSB0aGUgYnV0dG9uXCIpO3JldHVybiBuLnF1ZXJ5U2VsZWN0b3IoXCIuXCIrZSl8fHRoaXMuX2luc2VydFZpc2FDaGVja291dEJ1dHRvbihuLGUpfSx0LnByb3RvdHlwZS5faW5zZXJ0VmlzYUNoZWNrb3V0QnV0dG9uPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm4gbi5zdHlsZS5kaXNwbGF5PVwiZmxleFwiLG4uc3R5bGUuZmxleERpcmVjdGlvbj1cImNvbHVtblwiLG4uc3R5bGUudmlzaWJpbGl0eT1cImhpZGRlblwiLG4uY2xhc3NOYW1lPWUsbi5pbm5lckhUTUw9J1xcbiAgICAgICAgICAgIDxpbWdcXG4gICAgICAgICAgICAgICAgYWx0PVwiVmlzYSBDaGVja291dFwiXFxuICAgICAgICAgICAgICAgIGNsYXNzPVwidi1idXR0b25cIlxcbiAgICAgICAgICAgICAgICByb2xlPVwiYnV0dG9uXCJcXG4gICAgICAgICAgICAgICAgc3JjPVwiaHR0cHM6Ly9zZWN1cmUuY2hlY2tvdXQudmlzYS5jb20vd2FsbGV0LXNlcnZpY2VzLXdlYi94by9idXR0b24ucG5nP2FjY2VwdENhbmFkaWFuVmlzYURlYml0PWZhbHNlJmNvYnJhbmQ9dHJ1ZSZzaXplPTE1NFwiXFxuICAgICAgICAgICAgICAgIC8+XFxuICAgICAgICAgICAgPGEgY2xhc3M9XCJ2LWxlYXJuIHYtbGVhcm4tZGVmYXVsdFwiIHN0eWxlPVwidGV4dC1hbGlnbjogcmlnaHQ7IGRpc3BsYXk6IGJsb2NrOyBmb250LXNpemU6IDEwcHg7IGNvbG9yOiAjMDAzMzY2O1wiIGhyZWY9XCIjXCIgZGF0YS1sb2NhbGU9XCJlbl9VU1wiPlRlbGwgTWUgTW9yZTwvYT4nLHQuYXBwZW5kQ2hpbGQobiksbn0sdH0oKSxUdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scixpLG8pe3RoaXMuX3N0b3JlPXQsdGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3I9ZSx0aGlzLl9yZW1vdGVDaGVja291dEFjdGlvbkNyZWF0b3I9bix0aGlzLl9jaGFzZVBheVNjcmlwdExvYWRlcj1yLHRoaXMuX3JlcXVlc3RTZW5kZXI9aSx0aGlzLl9mb3JtUG9zdGVyPW99cmV0dXJuIHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXQuY2hhc2VwYXkscj10Lm1ldGhvZElkO2lmKCFufHwhcil0aHJvdyBuZXcgSXQuYSgnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBcIm9wdGlvbnMuY2hhc2VwYXlcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuJyk7cmV0dXJuIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yLmxvYWRQYXltZW50TWV0aG9kKHIpKS50aGVuKChmdW5jdGlvbih0KXtlLl9wYXltZW50TWV0aG9kPXQucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZChyKTt2YXIgaT10LmNhcnQuZ2V0Q2FydCgpLG89dC5jb25maWcuZ2V0U3RvcmVDb25maWcoKTtpZighaSl0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nQ2FydCk7aWYoIW8pdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ0NoZWNrb3V0Q29uZmlnKTtpZighZS5fcGF5bWVudE1ldGhvZHx8IWUuX3BheW1lbnRNZXRob2QuaW5pdGlhbGl6YXRpb25EYXRhLmRpZ2l0YWxTZXNzaW9uSWQpdGhyb3cgbmV3IGJ0LmIoYnQuYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO3ZhciBhPW4uY29udGFpbmVyO3JldHVybiBlLl9jaGFzZVBheVNjcmlwdExvYWRlci5sb2FkKGUuX3BheW1lbnRNZXRob2QuY29uZmlnLnRlc3RNb2RlKS50aGVuKChmdW5jdGlvbih0KXt2YXIgbj10LkNoYXNlUGF5O24uY29uZmlndXJlKHtsYW5ndWFnZTpvLnN0b3JlUHJvZmlsZS5zdG9yZUxhbmd1YWdlfSksbi5pc0NoYXNlUGF5VXAmJm4uaW5zZXJ0QnV0dG9ucyh7Y29udGFpbmVyczpbYV19KSxuLm9uKG4uRXZlbnRUeXBlLlNUQVJUX0NIRUNLT1VULChmdW5jdGlvbigpe2UuX3N0b3JlLmRpc3BhdGNoKGUuX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yLmxvYWRQYXltZW50TWV0aG9kKHIpKS50aGVuKChmdW5jdGlvbigpe3ZhciB0PWUuX3N0b3JlLmdldFN0YXRlKCkucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZChyKSxpPXQmJnQuaW5pdGlhbGl6YXRpb25EYXRhJiZ0LmluaXRpYWxpemF0aW9uRGF0YS5kaWdpdGFsU2Vzc2lvbklkO2kmJm4uc3RhcnRDaGVja291dChpKX0pKX0pKSxuLm9uKG4uRXZlbnRUeXBlLkNPTVBMRVRFX0NIRUNLT1VULChmdW5jdGlvbih0KXt2YXIgbj1lLl9zdG9yZS5nZXRTdGF0ZSgpLnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2QociksaT1uJiZuLmluaXRpYWxpemF0aW9uRGF0YSYmbi5pbml0aWFsaXphdGlvbkRhdGEubWVyY2hhbnRSZXF1ZXN0SWQ7aSYmZS5fc2V0RXh0ZXJuYWxDaGVja291dERhdGEodCxpKS50aGVuKChmdW5jdGlvbigpe2UuX3JlbG9hZFBhZ2UoKX0pKX0pKX0pKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBlLl9zdG9yZS5nZXRTdGF0ZSgpfSkpfSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3N0b3JlLmdldFN0YXRlKCkpfSx0LnByb3RvdHlwZS5zaWduSW49ZnVuY3Rpb24oKXt0aHJvdyBuZXcgQXQuYSgnSW4gb3JkZXIgdG8gc2lnbiBpbiB2aWEgQ2hhc2UgUGF5wq4sIHRoZSBzaG9wcGVyIG11c3QgY2xpY2sgb24gXCJDaGFzZSBQYXnCrlwiIGJ1dHRvbi4nKX0sdC5wcm90b3R5cGUuc2lnbk91dD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLnBheW1lbnQuZ2V0UGF5bWVudElkKCk7cmV0dXJuIGU/dGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcmVtb3RlQ2hlY2tvdXRBY3Rpb25DcmVhdG9yLnNpZ25PdXQoZS5wcm92aWRlcklkLHQpKTpQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSl9LHQucHJvdG90eXBlLl9zZXRFeHRlcm5hbENoZWNrb3V0RGF0YT1mdW5jdGlvbih0LGUpe3ZhciBuPXtoZWFkZXJzOntBY2NlcHQ6XCJ0ZXh0L2h0bWxcIixcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04XCJ9LGJvZHk6e3Nlc3Npb25Ub2tlbjp0LnNlc3Npb25Ub2tlbixtZXJjaGFudFJlcXVlc3RJZDplfSxtZXRob2Q6XCJwb3N0XCJ9O3JldHVybiB0aGlzLl9yZXF1ZXN0U2VuZGVyLnNlbmRSZXF1ZXN0KFwiY2hlY2tvdXQucGhwP3Byb3ZpZGVyPWNoYXNlcGF5JmFjdGlvbj1zZXRfZXh0ZXJuYWxfY2hlY2tvdXRcIixuKX0sdC5wcm90b3R5cGUuX3JlbG9hZFBhZ2U9ZnVuY3Rpb24oKXt0aGlzLl9mb3JtUG9zdGVyLnBvc3RGb3JtKFwiL2NoZWNrb3V0LnBocFwiLHtoZWFkZXJzOntBY2NlcHQ6XCJ0ZXh0L2h0bWxcIixcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCJ9LHBhcmFtczp7ZnJvbUNoYXNlUGF5OiEwfX0pfSx0fSgpLFJ0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuX3N0b3JlPXQsdGhpcy5fY3VzdG9tZXJBY3Rpb25DcmVhdG9yPWV9cmV0dXJuIHQucHJvdG90eXBlLnNpZ25Jbj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9jdXN0b21lckFjdGlvbkNyZWF0b3Iuc2lnbkluQ3VzdG9tZXIodCxlKSl9LHQucHJvdG90eXBlLnNpZ25PdXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX2N1c3RvbWVyQWN0aW9uQ3JlYXRvci5zaWduT3V0Q3VzdG9tZXIodCkpfSx0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpKX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpKX0sdH0oKSxEdD1uKDk4KSx6dD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scil7dGhpcy5fc3RvcmU9dCx0aGlzLl9yZW1vdGVDaGVja291dEFjdGlvbkNyZWF0b3I9ZSx0aGlzLl9nb29nbGVQYXlQYXltZW50UHJvY2Vzc29yPW4sdGhpcy5fZm9ybVBvc3Rlcj1yfXJldHVybiB0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10Lm1ldGhvZElkLHI9dGhpcy5fZ2V0R29vZ2xlUGF5T3B0aW9ucyh0KTtpZighbil0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7cmV0dXJuIHRoaXMuX2dvb2dsZVBheVBheW1lbnRQcm9jZXNzb3IuaW5pdGlhbGl6ZShuKS50aGVuKChmdW5jdGlvbigpe2UuX3dhbGxldEJ1dHRvbj1lLl9jcmVhdGVTaWduSW5CdXR0b24oci5jb250YWluZXIpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGUuX3N0b3JlLmdldFN0YXRlKCl9KSl9LHQucHJvdG90eXBlLmRlaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuX3dhbGxldEJ1dHRvbiYmdGhpcy5fd2FsbGV0QnV0dG9uLnBhcmVudE5vZGUmJih0aGlzLl93YWxsZXRCdXR0b24ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl93YWxsZXRCdXR0b24pLHRoaXMuX3dhbGxldEJ1dHRvbj12b2lkIDApLHRoaXMuX2dvb2dsZVBheVBheW1lbnRQcm9jZXNzb3IuZGVpbml0aWFsaXplKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdC5fc3RvcmUuZ2V0U3RhdGUoKX0pKX0sdC5wcm90b3R5cGUuc2lnbkluPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEF0LmEoJ0luIG9yZGVyIHRvIHNpZ24gaW4gdmlhIEdvb2dsZSBQYXksIHRoZSBzaG9wcGVyIG11c3QgY2xpY2sgb24gXCJHb29nbGUgUGF5XCIgYnV0dG9uLicpfSx0LnByb3RvdHlwZS5zaWduT3V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3N0b3JlLmdldFN0YXRlKCkucGF5bWVudC5nZXRQYXltZW50SWQoKTtyZXR1cm4gZT90aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9yZW1vdGVDaGVja291dEFjdGlvbkNyZWF0b3Iuc2lnbk91dChlLnByb3ZpZGVySWQsdCkpOlByb21pc2UucmVzb2x2ZSh0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpKX0sdC5wcm90b3R5cGUuX2NyZWF0ZVNpZ25JbkJ1dHRvbj1mdW5jdGlvbih0KXt2YXIgZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI1wiK3QpO2lmKCFlKXRocm93IG5ldyBJdC5hKFwiVW5hYmxlIHRvIGNyZWF0ZSBzaWduLWluIGJ1dHRvbiB3aXRob3V0IHZhbGlkIGNvbnRhaW5lciBJRC5cIik7dmFyIG49dGhpcy5fZ29vZ2xlUGF5UGF5bWVudFByb2Nlc3Nvci5jcmVhdGVCdXR0b24odGhpcy5faGFuZGxlV2FsbGV0QnV0dG9uQ2xpY2spO3JldHVybiBlLmFwcGVuZENoaWxkKG4pLG59LHQucHJvdG90eXBlLl9nZXRHb29nbGVQYXlPcHRpb25zPWZ1bmN0aW9uKHQpe2lmKFwiZ29vZ2xlcGF5YWR5ZW52MlwiPT09dC5tZXRob2RJZCYmdC5nb29nbGVwYXlhZHllbnYyKXJldHVybiB0Lmdvb2dsZXBheWFkeWVudjI7aWYoXCJnb29nbGVwYXlhdXRob3JpemVuZXRcIj09PXQubWV0aG9kSWQmJnQuZ29vZ2xlcGF5YXV0aG9yaXplbmV0KXJldHVybiB0Lmdvb2dsZXBheWF1dGhvcml6ZW5ldDtpZihcImdvb2dsZXBheWJyYWludHJlZVwiPT09dC5tZXRob2RJZCYmdC5nb29nbGVwYXlicmFpbnRyZWUpcmV0dXJuIHQuZ29vZ2xlcGF5YnJhaW50cmVlO2lmKFwiZ29vZ2xlcGF5Y2hlY2tvdXRjb21cIj09PXQubWV0aG9kSWQmJnQuZ29vZ2xlcGF5Y2hlY2tvdXRjb20pcmV0dXJuIHQuZ29vZ2xlcGF5Y2hlY2tvdXRjb207aWYoXCJnb29nbGVwYXlzdHJpcGVcIj09PXQubWV0aG9kSWQmJnQuZ29vZ2xlcGF5c3RyaXBlKXJldHVybiB0Lmdvb2dsZXBheXN0cmlwZTt0aHJvdyBuZXcgSXQuYX0sdC5wcm90b3R5cGUuX2hhbmRsZVdhbGxldEJ1dHRvbkNsaWNrPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSxuLHIsaTtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKG8pe3N3aXRjaChvLmxhYmVsKXtjYXNlIDA6dC5wcmV2ZW50RGVmYXVsdCgpLGU9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKS5jYXJ0LmdldENhcnRPclRocm93KCksbj1PYmplY3QoanQuYSkoZSk+MCxvLmxhYmVsPTE7Y2FzZSAxOnJldHVybiBvLnRyeXMucHVzaChbMSw3LCw4XSksWzQsdGhpcy5fZ29vZ2xlUGF5UGF5bWVudFByb2Nlc3Nvci5kaXNwbGF5V2FsbGV0KCldO2Nhc2UgMjpyZXR1cm4gcj1vLnNlbnQoKSxbNCx0aGlzLl9nb29nbGVQYXlQYXltZW50UHJvY2Vzc29yLmhhbmRsZVN1Y2Nlc3MocildO2Nhc2UgMzpyZXR1cm4gby5zZW50KCksbiYmci5zaGlwcGluZ0FkZHJlc3M/WzQsdGhpcy5fZ29vZ2xlUGF5UGF5bWVudFByb2Nlc3Nvci51cGRhdGVTaGlwcGluZ0FkZHJlc3Moci5zaGlwcGluZ0FkZHJlc3MpXTpbMyw1XTtjYXNlIDQ6by5zZW50KCksby5sYWJlbD01O2Nhc2UgNTpyZXR1cm5bNCx0aGlzLl9vblBheW1lbnRTZWxlY3RDb21wbGV0ZSgpXTtjYXNlIDY6cmV0dXJuIG8uc2VudCgpLFszLDhdO2Nhc2UgNzppZigoaT1vLnNlbnQoKSkmJlwiQ0FOQ0VMRURcIiE9PWkubWVzc2FnZSl0aHJvdyBpO3JldHVyblszLDhdO2Nhc2UgODpyZXR1cm5bMl19fSkpfSkpfSx0LnByb3RvdHlwZS5fb25QYXltZW50U2VsZWN0Q29tcGxldGU9ZnVuY3Rpb24oKXt0aGlzLl9mb3JtUG9zdGVyLnBvc3RGb3JtKFwiL2NoZWNrb3V0LnBocFwiLHtoZWFkZXJzOntBY2NlcHQ6XCJ0ZXh0L2h0bWxcIixcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCJ9fSl9LE9iamVjdChkLl9fZGVjb3JhdGUpKFtEdC5hXSx0LnByb3RvdHlwZSxcIl9oYW5kbGVXYWxsZXRCdXR0b25DbGlja1wiLG51bGwpLHR9KCksTHQ9bigxMzMpLE50PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyKXt0aGlzLl9zdG9yZT10LHRoaXMuX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yPWUsdGhpcy5fcmVtb3RlQ2hlY2tvdXRBY3Rpb25DcmVhdG9yPW4sdGhpcy5fbWFzdGVycGFzc1NjcmlwdExvYWRlcj1yfXJldHVybiB0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10Lm1hc3RlcnBhc3Mscj10Lm1ldGhvZElkO2lmKCFufHwhcil0aHJvdyBuZXcgSXQuYSgnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBcIm9wdGlvbnMubWFzdGVycGFzc1wiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nKTtyZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3IubG9hZFBheW1lbnRNZXRob2QocikpLnRoZW4oKGZ1bmN0aW9uKHQpe2lmKGUuX3BheW1lbnRNZXRob2Q9dC5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kKHIpLCFlLl9wYXltZW50TWV0aG9kfHwhZS5fcGF5bWVudE1ldGhvZC5pbml0aWFsaXphdGlvbkRhdGEuY2hlY2tvdXRJZCl0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7dmFyIGk9dC5jYXJ0LmdldENhcnQoKTtpZighaSl0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nQ2FydCk7dmFyIG89bi5jb250YWluZXIsYT17Y2hlY2tvdXRJZDplLl9wYXltZW50TWV0aG9kLmluaXRpYWxpemF0aW9uRGF0YS5jaGVja291dElkLGFsbG93ZWRDYXJkVHlwZXM6ZS5fcGF5bWVudE1ldGhvZC5pbml0aWFsaXphdGlvbkRhdGEuYWxsb3dlZENhcmRUeXBlcyxhbW91bnQ6aS5jYXJ0QW1vdW50LnRvU3RyaW5nKCksY3VycmVuY3k6aS5jdXJyZW5jeS5jb2RlLGNhcnRJZDppLmlkLHN1cHByZXNzU2hpcHBpbmdBZGRyZXNzOiExLGNhbGxiYWNrVXJsOk9iamVjdChMdC5hKShcImNoZWNrb3V0XCIpfTtyZXR1cm4gZS5fbWFzdGVycGFzc1NjcmlwdExvYWRlci5sb2FkKGUuX3BheW1lbnRNZXRob2QuY29uZmlnLnRlc3RNb2RlKS50aGVuKChmdW5jdGlvbih0KXtlLl9zaWduSW5CdXR0b249ZS5fY3JlYXRlU2lnbkluQnV0dG9uKG8pLGUuX3NpZ25JbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwoZnVuY3Rpb24oKXt0LmNoZWNrb3V0KGEpfSkpfSkpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGUuX3N0b3JlLmdldFN0YXRlKCl9KSl9LHQucHJvdG90eXBlLmRlaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXltZW50TWV0aG9kPXZvaWQgMCx0aGlzLl9zaWduSW5CdXR0b24mJnRoaXMuX3NpZ25JbkJ1dHRvbi5wYXJlbnROb2RlJiYodGhpcy5fc2lnbkluQnV0dG9uLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fc2lnbkluQnV0dG9uKSx0aGlzLl9zaWduSW5CdXR0b249dm9pZCAwKSxQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSl9LHQucHJvdG90eXBlLnNpZ25Jbj1mdW5jdGlvbigpe3Rocm93IG5ldyBBdC5hKCdJbiBvcmRlciB0byBzaWduIGluIHZpYSBNYXN0ZXJwYXNzLCB0aGUgc2hvcHBlciBtdXN0IGNsaWNrIG9uIFwiTWFzdGVycGFzc1wiIGJ1dHRvbi4nKX0sdC5wcm90b3R5cGUuc2lnbk91dD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLnBheW1lbnQuZ2V0UGF5bWVudElkKCk7cmV0dXJuIGU/dGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcmVtb3RlQ2hlY2tvdXRBY3Rpb25DcmVhdG9yLnNpZ25PdXQoZS5wcm92aWRlcklkLHQpKTpQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSl9LHQucHJvdG90eXBlLl9jcmVhdGVTaWduSW5CdXR0b249ZnVuY3Rpb24odCl7dmFyIGU9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNcIit0KTtpZighZSl0aHJvdyBuZXcgSXQuYShcIlVuYWJsZSB0byBjcmVhdGUgc2lnbi1pbiBidXR0b24gd2l0aG91dCB2YWxpZCBjb250YWluZXIgSUQuXCIpO3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtyZXR1cm4gbi50eXBlPVwiaW1hZ2VcIixuLnNyYz1cImh0dHBzOi8vc3RhdGljLm1hc3RlcnBhc3MuY29tL2R5bi9pbWcvYnRuL2dsb2JhbC9tcF9jaGtfYnRuXzE2MHgwMzdweC5zdmdcIixlLmFwcGVuZENoaWxkKG4pLG59LHR9KCksRnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fc3RvcmU9dCx0aGlzLl9yZW1vdGVDaGVja291dEFjdGlvbkNyZWF0b3I9ZX1yZXR1cm4gdC5wcm90b3R5cGUuc2lnbkluPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEF0LmEoJ0luIG9yZGVyIHRvIHNpZ24gaW4gdmlhIE1hc3RlcnBhc3MsIHRoZSBzaG9wcGVyIG11c3QgY2xpY2sgb24gXCJNYXN0ZXJwYXNzXCIgYnV0dG9uLicpfSx0LnByb3RvdHlwZS5zaWduT3V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3N0b3JlLmdldFN0YXRlKCkucGF5bWVudC5nZXRQYXltZW50SWQoKTtyZXR1cm4gZT90aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9yZW1vdGVDaGVja291dEFjdGlvbkNyZWF0b3Iuc2lnbk91dChlLnByb3ZpZGVySWQsdCkpOlByb21pc2UucmVzb2x2ZSh0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpKX0sdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSl9LHQucHJvdG90eXBlLmRlaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSl9LHR9KCk7dmFyIHF0PW4oNDMpLFV0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9jb3VudHJ5UmVxdWVzdFNlbmRlcj10fXJldHVybiB0LnByb3RvdHlwZS5sb2FkQ291bnRyaWVzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIGIuT2JzZXJ2YWJsZS5jcmVhdGUoKGZ1bmN0aW9uKG4pe24ubmV4dChPYmplY3QoZy5jcmVhdGVBY3Rpb24pKHF0LmEuTG9hZENvdW50cmllc1JlcXVlc3RlZCkpLGUuX2NvdW50cnlSZXF1ZXN0U2VuZGVyLmxvYWRDb3VudHJpZXModCkudGhlbigoZnVuY3Rpb24odCl7bi5uZXh0KE9iamVjdChnLmNyZWF0ZUFjdGlvbikocXQuYS5Mb2FkQ291bnRyaWVzU3VjY2VlZGVkLHQuYm9keS5kYXRhKSksbi5jb21wbGV0ZSgpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtuLmVycm9yKE9iamVjdChnLmNyZWF0ZUVycm9yQWN0aW9uKShxdC5hLkxvYWRDb3VudHJpZXNGYWlsZWQsdCkpfSkpfSkpfSx0fSgpLHh0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuX3JlcXVlc3RTZW5kZXI9dCx0aGlzLl9jb25maWc9ZX1yZXR1cm4gdC5wcm90b3R5cGUubG9hZENvdW50cmllcz1mdW5jdGlvbih0KXt2YXIgZT0odm9pZCAwPT09dD97fTp0KS50aW1lb3V0LG49e1wiQWNjZXB0LUxhbmd1YWdlXCI6dGhpcy5fY29uZmlnLmxvY2FsZX07cmV0dXJuIHRoaXMuX3JlcXVlc3RTZW5kZXIuZ2V0KFwiL2ludGVybmFsYXBpL3YxL3N0b3JlL2NvdW50cmllc1wiLHtoZWFkZXJzOm4sdGltZW91dDplfSl9LHR9KCksQnQ9bigyKSxHdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fcmVxdWVzdFNlbmRlcj10fXJldHVybiB0LnByb3RvdHlwZS5sb2FkT3JkZXI9ZnVuY3Rpb24odCxlKXt2YXIgbj12b2lkIDA9PT1lP3t9OmUscj1uLnRpbWVvdXQsaT1uLnBhcmFtcyxvPVwiL2FwaS9zdG9yZWZyb250L29yZGVycy9cIit0LGE9e0FjY2VwdDpJLmEuSnNvblYxfTtyZXR1cm4gdGhpcy5fcmVxdWVzdFNlbmRlci5nZXQobyx7cGFyYW1zOntpbmNsdWRlOk9iamVjdChBLmEpKE9iamVjdChkLl9fc3ByZWFkQXJyYXlzKShbXCJwYXltZW50c1wiLFwibGluZUl0ZW1zLnBoeXNpY2FsSXRlbXMuc29jaWFsTWVkaWFcIixcImxpbmVJdGVtcy5waHlzaWNhbEl0ZW1zLm9wdGlvbnNcIixcImxpbmVJdGVtcy5kaWdpdGFsSXRlbXMuc29jaWFsTWVkaWFcIixcImxpbmVJdGVtcy5kaWdpdGFsSXRlbXMub3B0aW9uc1wiXSxpJiZpLmluY2x1ZGV8fFtdKSl9LGhlYWRlcnM6YSx0aW1lb3V0OnJ9KX0sdC5wcm90b3R5cGUuc3VibWl0T3JkZXI9ZnVuY3Rpb24odCxlKXt2YXIgbj12b2lkIDA9PT1lP3t9OmUscj1uLmhlYWRlcnMsaT1uLnRpbWVvdXQ7cmV0dXJuIHRoaXMuX3JlcXVlc3RTZW5kZXIucG9zdChcIi9pbnRlcm5hbGFwaS92MS9jaGVja291dC9vcmRlclwiLHtib2R5OnQsaGVhZGVyczpPYmplY3QoQnQub21pdEJ5KSh7XCJYLUNoZWNrb3V0LVZhcmlhbnRcIjpyJiZyLmNoZWNrb3V0VmFyaWFudCxcIlgtQ2hlY2tvdXQtU0RLLVZlcnNpb25cIjpcIjEuMTI1LjBcIn0sQnQuaXNOaWwpLHRpbWVvdXQ6aX0pfSx0LnByb3RvdHlwZS5maW5hbGl6ZU9yZGVyPWZ1bmN0aW9uKHQsZSl7dmFyIG49KHZvaWQgMD09PWU/e306ZSkudGltZW91dCxyPVwiL2ludGVybmFsYXBpL3YxL2NoZWNrb3V0L29yZGVyL1wiK3Q7cmV0dXJuIHRoaXMuX3JlcXVlc3RTZW5kZXIucG9zdChyLHt0aW1lb3V0Om59KX0sdH0oKSxWdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9dC5jYWxsKHRoaXMsXCJZb3UgaGF2ZW4ndCBjb21wbGV0ZSBvdXIgc3BhbSBjaGVjay4gUGxlYXNlIHRyeSBhZ2Fpbi5cIil8fHRoaXM7cmV0dXJuIGUubmFtZT1cIlNwYW1Qcm90ZWN0aW9uTm90Q29tcGxldGVkRXJyb3JcIixlLnR5cGU9XCJzcGFtX3Byb3RlY3Rpb25fbm90X2NvbXBsZXRlZFwiLGV9cmV0dXJuIE9iamVjdChkLl9fZXh0ZW5kcykoZSx0KSxlfShodC5hKSxZdD1uKDE4KSxIdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLl9vcmRlclJlcXVlc3RTZW5kZXI9dCx0aGlzLl9jaGVja291dFZhbGlkYXRvcj1lfXJldHVybiB0LnByb3RvdHlwZS5sb2FkT3JkZXI9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiBuZXcgYi5PYnNlcnZhYmxlKChmdW5jdGlvbihyKXtyLm5leHQoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShZdC5hLkxvYWRPcmRlclJlcXVlc3RlZCkpLG4uX29yZGVyUmVxdWVzdFNlbmRlci5sb2FkT3JkZXIodCxlKS50aGVuKChmdW5jdGlvbih0KXtyLm5leHQoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShZdC5hLkxvYWRPcmRlclN1Y2NlZWRlZCx0LmJvZHkpKSxyLmNvbXBsZXRlKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3IuZXJyb3IoT2JqZWN0KGcuY3JlYXRlRXJyb3JBY3Rpb24pKFl0LmEuTG9hZE9yZGVyRmFpbGVkLHQpKX0pKX0pKX0sdC5wcm90b3R5cGUubG9hZE9yZGVyUGF5bWVudHM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiBuZXcgYi5PYnNlcnZhYmxlKChmdW5jdGlvbihyKXtyLm5leHQoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShZdC5hLkxvYWRPcmRlclBheW1lbnRzUmVxdWVzdGVkKSksbi5fb3JkZXJSZXF1ZXN0U2VuZGVyLmxvYWRPcmRlcih0LGUpLnRoZW4oKGZ1bmN0aW9uKHQpe3IubmV4dChPYmplY3QoZy5jcmVhdGVBY3Rpb24pKFl0LmEuTG9hZE9yZGVyUGF5bWVudHNTdWNjZWVkZWQsdC5ib2R5KSksci5jb21wbGV0ZSgpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtyLmVycm9yKE9iamVjdChnLmNyZWF0ZUVycm9yQWN0aW9uKShZdC5hLkxvYWRPcmRlclBheW1lbnRzRmFpbGVkLHQpKX0pKX0pKX0sdC5wcm90b3R5cGUubG9hZEN1cnJlbnRPcmRlcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gT2JqZWN0KGIuZGVmZXIpKChmdW5jdGlvbigpe3ZhciByPWUuX2dldEN1cnJlbnRPcmRlcklkKG4uZ2V0U3RhdGUoKSk7aWYoIXIpdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ09yZGVySWQpO3JldHVybiBlLmxvYWRPcmRlcihyLHQpfSkpfX0sdC5wcm90b3R5cGUuc3VibWl0T3JkZXI9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gT2JqZWN0KGIuY29uY2F0KShPYmplY3QoYi5vZikoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShZdC5hLlN1Ym1pdE9yZGVyUmVxdWVzdGVkKSksT2JqZWN0KGIuZGVmZXIpKChmdW5jdGlvbigpe3ZhciBpPXIuZ2V0U3RhdGUoKSxvPWkuY29uZmlnLmdldEV4dGVybmFsU291cmNlKCksYT1pLmNvbmZpZy5nZXRWYXJpYW50SWRlbnRpZmljYXRpb25Ub2tlbigpLHM9aS5jaGVja291dC5nZXRDaGVja291dCgpO2lmKCFzKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdDaGVja291dCk7aWYocy5zaG91bGRFeGVjdXRlU3BhbUNoZWNrKXRocm93IG5ldyBWdDtyZXR1cm4gT2JqZWN0KGIuZnJvbSkobi5fY2hlY2tvdXRWYWxpZGF0b3IudmFsaWRhdGUocyxlKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBuLl9vcmRlclJlcXVlc3RTZW5kZXIuc3VibWl0T3JkZXIobi5fbWFwVG9PcmRlclJlcXVlc3RCb2R5KHQscy5jdXN0b21lck1lc3NhZ2UsbyksT2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSxlKSx7aGVhZGVyczp7Y2hlY2tvdXRWYXJpYW50OmF9fSkpfSkpKS5waXBlKE9iamVjdChNLnN3aXRjaE1hcCkoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoYi5jb25jYXQpKG4ubG9hZE9yZGVyKHQuYm9keS5kYXRhLm9yZGVyLm9yZGVySWQsZSksT2JqZWN0KGIub2YpKE9iamVjdChnLmNyZWF0ZUFjdGlvbikoWXQuYS5TdWJtaXRPcmRlclN1Y2NlZWRlZCx0LmJvZHkuZGF0YSxPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LHQuYm9keS5tZXRhKSx7dG9rZW46dC5oZWFkZXJzLnRva2VufSkpKSl9KSkpfSkpLnBpcGUoT2JqZWN0KE0uY2F0Y2hFcnJvcikoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoVC5hKShZdC5hLlN1Ym1pdE9yZGVyRmFpbGVkLHQpfSkpKSl9fSx0LnByb3RvdHlwZS5maW5hbGl6ZU9yZGVyPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gT2JqZWN0KGIuY29uY2F0KShPYmplY3QoYi5vZikoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShZdC5hLkZpbmFsaXplT3JkZXJSZXF1ZXN0ZWQpKSxPYmplY3QoYi5mcm9tKSh0aGlzLl9vcmRlclJlcXVlc3RTZW5kZXIuZmluYWxpemVPcmRlcih0LGUpKS5waXBlKE9iamVjdChNLnN3aXRjaE1hcCkoKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QoYi5jb25jYXQpKG4ubG9hZE9yZGVyKHQsZSksT2JqZWN0KGIub2YpKE9iamVjdChnLmNyZWF0ZUFjdGlvbikoWXQuYS5GaW5hbGl6ZU9yZGVyU3VjY2VlZGVkLHIuYm9keS5kYXRhKSkpfSkpKSkucGlwZShPYmplY3QoTS5jYXRjaEVycm9yKSgoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChULmEpKFl0LmEuRmluYWxpemVPcmRlckZhaWxlZCx0KX0pKSl9LHQucHJvdG90eXBlLl9nZXRDdXJyZW50T3JkZXJJZD1mdW5jdGlvbih0KXt2YXIgZT10Lm9yZGVyLmdldE9yZGVyKCksbj10LmNoZWNrb3V0LmdldENoZWNrb3V0KCk7cmV0dXJuIGUmJmUub3JkZXJJZHx8biYmbi5vcmRlcklkfSx0LnByb3RvdHlwZS5fbWFwVG9PcmRlclJlcXVlc3RCb2R5PWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10LnBheW1lbnQsaT1PYmplY3QoZC5fX3Jlc3QpKHQsW1wicGF5bWVudFwiXSk7cmV0dXJuIHI/T2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSxpKSx7Y3VzdG9tZXJNZXNzYWdlOmUsZXh0ZXJuYWxTb3VyY2U6bixwYXltZW50OntwYXltZW50RGF0YTpyLnBheW1lbnREYXRhLG5hbWU6ci5tZXRob2RJZCxnYXRld2F5OnIuZ2F0ZXdheUlkfX0pOk9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30saSkse2N1c3RvbWVyTWVzc2FnZTplLGV4dGVybmFsU291cmNlOm59KX0sdH0oKSxXdD1uKDEwMyk7dmFyIEt0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT10LmNhbGwodGhpcyxcIlRoZSBjdXJyZW50IG9yZGVyIGRvZXMgbm90IG5lZWQgdG8gYmUgZmluYWxpemVkIGF0IHRoaXMgc3RhZ2UuXCIpfHx0aGlzO3JldHVybiBlLm5hbWU9XCJPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3JcIixlLnR5cGU9XCJvcmRlcl9maW5hbGl6YXRpb25fbm90X3JlcXVpcmVkXCIsZX1yZXR1cm4gT2JqZWN0KGQuX19leHRlbmRzKShlLHQpLGV9KGh0LmEpLEp0PW4oMTEpLFp0PW4oMTMpLFF0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dGhpcy5fc3RyYXRlZ3lSZWdpc3RyeT10LHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvcj1lLHRoaXMuX3NwYW1Qcm90ZWN0aW9uQWN0aW9uQ3JlYXRvcj1ufXJldHVybiB0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXQucGF5bWVudCxpPXZvaWQgMD09PXI/e306cixvPXQudXNlU3RvcmVDcmVkaXQsYT17bWV0aG9kSWQ6aS5tZXRob2RJZH07cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciBzPXIuZ2V0U3RhdGUoKS5jaGVja291dC5nZXRDaGVja291dE9yVGhyb3coKS5zaG91bGRFeGVjdXRlU3BhbUNoZWNrO3JldHVybiBPYmplY3QoYi5jb25jYXQpKHM/bi5fc3BhbVByb3RlY3Rpb25BY3Rpb25DcmVhdG9yLnZlcmlmeUNoZWNrb3V0U3BhbVByb3RlY3Rpb24oKShyKTpPYmplY3QoYi5lbXB0eSkoKSxPYmplY3QoYi5vZikoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShKdC5hLkV4ZWN1dGVSZXF1ZXN0ZWQsdm9pZCAwLGEpKSxPYmplY3QoYi5kZWZlcikoKGZ1bmN0aW9uKCl7dmFyIHMsYz1yLmdldFN0YXRlKCk7aWYoYy5wYXltZW50LmlzUGF5bWVudERhdGFSZXF1aXJlZChvKSl7dmFyIHU9Yy5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kKGkubWV0aG9kSWQsaS5nYXRld2F5SWQpO2lmKCF1KXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdQYXltZW50TWV0aG9kKTtzPW4uX3N0cmF0ZWd5UmVnaXN0cnkuZ2V0QnlNZXRob2QodSl9ZWxzZSBzPW4uX3N0cmF0ZWd5UmVnaXN0cnkuZ2V0KFp0LmEuTk9fUEFZTUVOVF9EQVRBX1JFUVVJUkVEKTtyZXR1cm4gcy5leGVjdXRlKHQsT2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSxlKSx7bWV0aG9kSWQ6aS5tZXRob2RJZCxnYXRld2F5SWQ6aS5nYXRld2F5SWR9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShKdC5hLkV4ZWN1dGVTdWNjZWVkZWQsdm9pZCAwLGEpfSkpfSkpKS5waXBlKE9iamVjdChNLmNhdGNoRXJyb3IpKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KFQuYSkoSnQuYS5FeGVjdXRlRmFpbGVkLHQsYSl9KSkpfX0sdC5wcm90b3R5cGUuZmluYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIE9iamVjdChiLmNvbmNhdCkoT2JqZWN0KGIub2YpKE9iamVjdChnLmNyZWF0ZUFjdGlvbikoSnQuYS5GaW5hbGl6ZVJlcXVlc3RlZCkpLGUuX2xvYWRPcmRlclBheW1lbnRzSWZOZWVkZWQobix0KSxPYmplY3QoYi5kZWZlcikoKGZ1bmN0aW9uKCl7dmFyIHI9bi5nZXRTdGF0ZSgpLGk9ci5wYXltZW50LmdldFBheW1lbnRJZCgpfHx7fSxvPWkucHJvdmlkZXJJZCxhPXZvaWQgMD09PW8/XCJcIjpvLHM9aS5nYXRld2F5SWQsYz12b2lkIDA9PT1zP1wiXCI6cyx1PXIucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZChhLGMpO2lmKCF1KXRocm93IG5ldyBLdDtyZXR1cm4gZS5fc3RyYXRlZ3lSZWdpc3RyeS5nZXRCeU1ldGhvZCh1KS5maW5hbGl6ZShPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LHQpLHttZXRob2RJZDp1LmlkLGdhdGV3YXlJZDp1LmdhdGV3YXl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShKdC5hLkZpbmFsaXplU3VjY2VlZGVkLHZvaWQgMCx7bWV0aG9kSWQ6dS5pZH0pfSkpfSkpKS5waXBlKE9iamVjdChNLmNhdGNoRXJyb3IpKChmdW5jdGlvbih0KXt2YXIgZT1uLmdldFN0YXRlKCkucGF5bWVudC5nZXRQYXltZW50SWQoKTtyZXR1cm4gT2JqZWN0KFQuYSkoSnQuYS5GaW5hbGl6ZUZhaWxlZCx0LHttZXRob2RJZDplJiZlLnByb3ZpZGVySWR9KX0pKSl9fSx0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10Lm1ldGhvZElkLHI9dC5nYXRld2F5SWQ7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiBPYmplY3QoYi5kZWZlcikoKGZ1bmN0aW9uKCl7dmFyIG89aS5nZXRTdGF0ZSgpLGE9by5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kKG4scik7aWYoIWEpdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ1BheW1lbnRNZXRob2QpO3JldHVybiBuJiZvLnBheW1lbnRTdHJhdGVnaWVzLmlzSW5pdGlhbGl6ZWQobik/T2JqZWN0KGIuZW1wdHkpKCk6T2JqZWN0KGIuY29uY2F0KShPYmplY3QoYi5vZikoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShKdC5hLkluaXRpYWxpemVSZXF1ZXN0ZWQsdm9pZCAwLHttZXRob2RJZDpufSkpLGUuX3N0cmF0ZWd5UmVnaXN0cnkuZ2V0QnlNZXRob2QoYSkuaW5pdGlhbGl6ZShPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LHQpLHttZXRob2RJZDpuLGdhdGV3YXlJZDpyfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChnLmNyZWF0ZUFjdGlvbikoSnQuYS5Jbml0aWFsaXplU3VjY2VlZGVkLHZvaWQgMCx7bWV0aG9kSWQ6bn0pfSkpKX0pKS5waXBlKE9iamVjdChNLmNhdGNoRXJyb3IpKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KFQuYSkoSnQuYS5Jbml0aWFsaXplRmFpbGVkLHQse21ldGhvZElkOm59KX0pKSl9fSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXQubWV0aG9kSWQscj10LmdhdGV3YXlJZDtyZXR1cm4gZnVuY3Rpb24oaSl7cmV0dXJuIE9iamVjdChiLmRlZmVyKSgoZnVuY3Rpb24oKXt2YXIgbz1pLmdldFN0YXRlKCksYT1vLnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2QobixyKTtpZighYSl0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7cmV0dXJuIG4mJiFvLnBheW1lbnRTdHJhdGVnaWVzLmlzSW5pdGlhbGl6ZWQobik/T2JqZWN0KGIuZW1wdHkpKCk6T2JqZWN0KGIuY29uY2F0KShPYmplY3QoYi5vZikoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShKdC5hLkRlaW5pdGlhbGl6ZVJlcXVlc3RlZCx2b2lkIDAse21ldGhvZElkOm59KSksZS5fc3RyYXRlZ3lSZWdpc3RyeS5nZXRCeU1ldGhvZChhKS5kZWluaXRpYWxpemUoT2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSx0KSx7bWV0aG9kSWQ6bixnYXRld2F5SWQ6cn0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBPYmplY3QoZy5jcmVhdGVBY3Rpb24pKEp0LmEuRGVpbml0aWFsaXplU3VjY2VlZGVkLHZvaWQgMCx7bWV0aG9kSWQ6bn0pfSkpKX0pKS5waXBlKE9iamVjdChNLmNhdGNoRXJyb3IpKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KFQuYSkoSnQuYS5EZWluaXRpYWxpemVGYWlsZWQsdCx7bWV0aG9kSWQ6bn0pfSkpKX19LHQucHJvdG90eXBlLndpZGdldEludGVyYWN0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIG49e21ldGhvZElkOmUmJmUubWV0aG9kSWR9O3JldHVybiBPYmplY3QoYi5jb25jYXQpKE9iamVjdChiLm9mKShPYmplY3QoZy5jcmVhdGVBY3Rpb24pKEp0LmEuV2lkZ2V0SW50ZXJhY3Rpb25TdGFydGVkLHZvaWQgMCxuKSksT2JqZWN0KGIuZGVmZXIpKChmdW5jdGlvbigpe3JldHVybiB0KCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShKdC5hLldpZGdldEludGVyYWN0aW9uRmluaXNoZWQsdm9pZCAwLG4pfSkpfSkpKS5waXBlKE9iamVjdChNLmNhdGNoRXJyb3IpKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KFQuYSkoSnQuYS5XaWRnZXRJbnRlcmFjdGlvbkZhaWxlZCx0LG4pfSkpKX0sdC5wcm90b3R5cGUuX2xvYWRPcmRlclBheW1lbnRzSWZOZWVkZWQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldFN0YXRlKCkuY2hlY2tvdXQuZ2V0Q2hlY2tvdXQoKTtyZXR1cm4gbiYmbi5vcmRlcklkP3RoaXMuX29yZGVyQWN0aW9uQ3JlYXRvci5sb2FkT3JkZXJQYXltZW50cyhuLm9yZGVySWQsZSk6T2JqZWN0KGIuZW1wdHkpKCl9LHR9KCksWHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdChCdC5pc0VxdWFsKSh0aGlzLl9ub3JtYWxpemUodCksdGhpcy5fbm9ybWFsaXplKGUpKX0sdC5wcm90b3R5cGUuX25vcm1hbGl6ZT1mdW5jdGlvbih0KXtyZXR1cm57Y2FydEFtb3VudDp0LmNhcnRBbW91bnQsY3VycmVuY3k6dC5jdXJyZW5jeSxpZDp0LmlkLGxpbmVJdGVtczp7ZGlnaXRhbEl0ZW1zOnQubGluZUl0ZW1zLmRpZ2l0YWxJdGVtcy5zbGljZSgpLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuKFwiXCIrdC5wcm9kdWN0SWQrdC52YXJpYW50SWQpLmxvY2FsZUNvbXBhcmUoXCJcIitlLnByb2R1Y3RJZCtlLnZhcmlhbnRJZCl9KSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm57ZXh0ZW5kZWRTYWxlUHJpY2U6dC5leHRlbmRlZFNhbGVQcmljZSxwcm9kdWN0SWQ6dC5wcm9kdWN0SWQscXVhbnRpdHk6dC5xdWFudGl0eSx2YXJpYW50SWQ6dC52YXJpYW50SWR9fSkpLGdpZnRDZXJ0aWZpY2F0ZXM6dC5saW5lSXRlbXMuZ2lmdENlcnRpZmljYXRlcy5zbGljZSgpLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuKFwiXCIrdC5pZCkubG9jYWxlQ29tcGFyZShcIlwiK2UuaWQpfSkpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJue2Ftb3VudDp0LmFtb3VudCxyZWNpcGllbnQ6dC5yZWNpcGllbnR9fSkpLHBoeXNpY2FsSXRlbXM6dC5saW5lSXRlbXMucGh5c2ljYWxJdGVtcy5zbGljZSgpLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuKFwiXCIrdC5wcm9kdWN0SWQrdC52YXJpYW50SWQpLmxvY2FsZUNvbXBhcmUoXCJcIitlLnByb2R1Y3RJZCtlLnZhcmlhbnRJZCl9KSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm57ZXh0ZW5kZWRTYWxlUHJpY2U6dC5leHRlbmRlZFNhbGVQcmljZSxwcm9kdWN0SWQ6dC5wcm9kdWN0SWQscXVhbnRpdHk6dC5xdWFudGl0eSx2YXJpYW50SWQ6dC52YXJpYW50SWQsZ2lmdFdyYXBwaW5nOnQuZ2lmdFdyYXBwaW5nfX0pKX19fSx0fSgpLCR0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT10LmNhbGwodGhpcyxcIkFuIHVwZGF0ZSB0byB5b3VyIHNob3BwaW5nIGNhcnQgaGFzIGJlZW4gZGV0ZWN0ZWQgYW5kIHlvdXIgYXZhaWxhYmxlIHNoaXBwaW5nIGNvc3RzIGhhdmUgYmVlbiB1cGRhdGVkLlwiKXx8dGhpcztyZXR1cm4gZS5uYW1lPVwiQ2FydENoYW5nZWRFcnJvclwiLGUudHlwZT1cImNhcnRfY2hhbmdlZFwiLGV9cmV0dXJuIE9iamVjdChkLl9fZXh0ZW5kcykoZSx0KSxlfShodC5hKSx0ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fY2hlY2tvdXRSZXF1ZXN0U2VuZGVyPXR9cmV0dXJuIHQucHJvdG90eXBlLnZhbGlkYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztpZighdCl0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nQ2hlY2tvdXQpO3JldHVybiB0aGlzLl9jaGVja291dFJlcXVlc3RTZW5kZXIubG9hZENoZWNrb3V0KHQuaWQsZSkudGhlbigoZnVuY3Rpb24oZSl7dmFyIHI9bmV3IFh0O2lmKCEodC5vdXRzdGFuZGluZ0JhbGFuY2U9PT1lLmJvZHkub3V0c3RhbmRpbmdCYWxhbmNlJiZuLl9jb21wYXJlQ291cG9ucyh0LmNvdXBvbnMsZS5ib2R5LmNvdXBvbnMpJiZuLl9jb21wYXJlR2lmdENlcnRpZmljYXRlcyh0LmdpZnRDZXJ0aWZpY2F0ZXMsZS5ib2R5LmdpZnRDZXJ0aWZpY2F0ZXMpJiZyLmlzRXF1YWwodC5jYXJ0LGUuYm9keS5jYXJ0KSkpdGhyb3cgbmV3ICR0fSkpfSx0LnByb3RvdHlwZS5fY29tcGFyZUNvdXBvbnM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0KEJ0LmlzRXF1YWwpKE9iamVjdChCdC5tYXApKHQsXCJjb2RlXCIpLE9iamVjdChCdC5tYXApKGUsXCJjb2RlXCIpKX0sdC5wcm90b3R5cGUuX2NvbXBhcmVHaWZ0Q2VydGlmaWNhdGVzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdChCdC5pc0VxdWFsKShPYmplY3QoQnQubWFwKSh0LFwiY29kZVwiKSxPYmplY3QoQnQubWFwKShlLFwiY29kZVwiKSl9LHR9KCksZWU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPW5ldyBQcm9taXNlKChmdW5jdGlvbih0LG4pe2UuY2FuY2VsPW59KSk7dGhpcy5wcm9taXNlPVByb21pc2UucmFjZShbdCxuXSl9LG5lPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMsZXx8XCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSByZXF1aXJlZCBlbGVtZW50IGlzIHVuZXhwZWN0ZWRseSBkZXRhY2hlZCBmcm9tIHRoZSBwYWdlLlwiKXx8dGhpcztyZXR1cm4gbi5uYW1lPVwiVW5leHBlY3RlZERldGFjaG1lbnRFcnJvclwiLG4udHlwZT1cInVuZXhwZWN0ZWRfZGV0YWNobWVudFwiLG59cmV0dXJuIE9iamVjdChkLl9fZXh0ZW5kcykoZSx0KSxlfShodC5hKSxyZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fbXV0YXRpb25PYnNlcnZlcj10fXJldHVybiB0LnByb3RvdHlwZS5lbnN1cmVQcmVzZW5jZT1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbixyLGksbztyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKGEpe3N3aXRjaChhLmxhYmVsKXtjYXNlIDA6bj1uZXcgZWUoZSksKHI9dGhpcy5fbXV0YXRpb25PYnNlcnZlci5jcmVhdGUoKGZ1bmN0aW9uKGUpe2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7MCE9PUFycmF5LmZyb20oZS5yZW1vdmVkTm9kZXMpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHQuc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuIGU9PT10fHxlLmNvbnRhaW5zKHQpfSkpfSkpLmxlbmd0aCYmbi5jYW5jZWwobmV3IG5lKX0pKX0pKSkub2JzZXJ2ZShkb2N1bWVudC5ib2R5LHtjaGlsZExpc3Q6ITAsc3VidHJlZTohMH0pLGEubGFiZWw9MTtjYXNlIDE6cmV0dXJuIGEudHJ5cy5wdXNoKFsxLDMsLDRdKSxbNCxuLnByb21pc2VdO2Nhc2UgMjpyZXR1cm4gaT1hLnNlbnQoKSxyLmRpc2Nvbm5lY3QoKSxbMixpXTtjYXNlIDM6dGhyb3cgbz1hLnNlbnQoKSxyLmRpc2Nvbm5lY3QoKSxvO2Nhc2UgNDpyZXR1cm5bMl19fSkpfSkpfSx0fSgpLGllPW4oMTQ0KSxvZT1uKDE0NSksYWU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPXQuY2FsbCh0aGlzLFwiUGxlYXNlIGNvbXBsZXRlIG91ciBodW1hbiB2ZXJpZmljYXRpb24gY2hhbGxlbmdlIGFuZCB0cnkgYWdhaW4uXCIpfHx0aGlzO3JldHVybiBlLm5hbWU9XCJDYXJkaW5nUHJvdGVjdGlvbkNoYWxsZW5nZU5vdENvbXBsZXRlZEVycm9yXCIsZS50eXBlPVwiY2FyZGluZ19wcm90ZWN0aW9uX2NoYWxsZW5nZV9ub3RfY29tcGxldGVkXCIsZX1yZXR1cm4gT2JqZWN0KGQuX19leHRlbmRzKShlLHQpLGV9KGh0LmEpLHNlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT10LmNhbGwodGhpcyxcIldlIHdlcmUgbm90IGFibGUgdG8gdmVyaWZ5IHRoYXQgeW91IGFyZSBub3QgYSByb2JvdC4gUGxlYXNlIHRyeSBhZ2Fpbi5cIil8fHRoaXM7cmV0dXJuIGUubmFtZT1cIkNhcmRpbmdQcm90ZWN0aW9uRmFpbGVkRXJyb3JcIixlLnR5cGU9XCJjYXJkaW5nX3Byb3RlY3Rpb25fZmFpbGVkXCIsZX1yZXR1cm4gT2JqZWN0KGQuX19leHRlbmRzKShlLHQpLGV9KGh0LmEpLGNlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9nb29nbGVSZWNhcHRjaGE9dH1yZXR1cm4gdC5wcm90b3R5cGUuaGFuZGxlPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDppZighdGhpcy5faXNQYXltZW50SHVtYW5WZXJpZmljYXRpb25SZXF1ZXN0KHQpKXRocm93IHQ7cmV0dXJuWzQsdGhpcy5faW5pdGlhbGl6ZSh0LmJvZHkuYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWQuZGF0YS5rZXkpXTtjYXNlIDE6cmV0dXJuIG4uc2VudCgpLFsyLHRoaXMuX2dvb2dsZVJlY2FwdGNoYS5leGVjdXRlKCkucGlwZShPYmplY3QoTS50YWtlKSgxKSkucGlwZShPYmplY3QoTS5zd2l0Y2hNYXApKChmdW5jdGlvbih0KXt2YXIgbj10LmVycm9yLHI9dC50b2tlbjtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKShlLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbih0KXtpZihuIGluc3RhbmNlb2YgbHQpdGhyb3cgbmV3IGFlO2lmKG58fCFyKXRocm93IG5ldyBzZTtyZXR1cm5bMix7dHlwZTpcInJlY2FwdGNoYV92Ml92ZXJpZmljYXRpb25cIixkYXRhOntodW1hbl92ZXJpZmljYXRpb25fdG9rZW46cn19XX0pKX0pKX0pKSkudG9Qcm9taXNlKCldfX0pKX0pKX0sdC5wcm90b3R5cGUuX2luaXRpYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYXJkaW5nUHJvdGVjdGlvbkNvbnRhaW5lclwiKTtyZXR1cm4gZSYmZS5wYXJlbnROb2RlJiZlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSksKGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSkuc2V0QXR0cmlidXRlKFwiaWRcIixcImNhcmRpbmdQcm90ZWN0aW9uQ29udGFpbmVyXCIpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZSksdGhpcy5fZ29vZ2xlUmVjYXB0Y2hhLmxvYWQoXCJjYXJkaW5nUHJvdGVjdGlvbkNvbnRhaW5lclwiLHQpfSx0LnByb3RvdHlwZS5faXNQYXltZW50SHVtYW5WZXJpZmljYXRpb25SZXF1ZXN0PWZ1bmN0aW9uKHQpe3ZhciBlPXQuYm9keXx8e30sbj1lLmFkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkO3JldHVyblwiYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWRcIj09PWUuc3RhdHVzJiZuJiZcInJlY2FwdGNoYV92Ml92ZXJpZmljYXRpb25cIj09PW4udHlwZX0sdH0oKSx1ZT1uKDE2OCksZGU9big4MikscGU9bigxODgpLGhlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMsZXx8XCJVbmFibGUgdG8gcHJvY2VlZCBkdWUgdG8gYW4gdW5rbm93biBlcnJvciB3aXRoIHRoZSBob3N0ZWQgcGF5bWVudCBmb3JtLlwiKXx8dGhpcztyZXR1cm4gbi5uYW1lPVwiSW52YWxpZEhvc3RlZEZvcm1FcnJvclwiLG4udHlwZT1cImludmFsaWRfaG9zdGVkX2Zvcm1cIixufXJldHVybiBPYmplY3QoZC5fX2V4dGVuZHMpKGUsdCksZX0oaHQuYSksbGU9bigxODkpLG1lPW4oNjkpLGZlPW4oNDkpLF9lPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyLGksbyxhLHMsYyl7dGhpcy5fdHlwZT10LHRoaXMuX2NvbnRhaW5lcklkPWUsdGhpcy5fcGxhY2Vob2xkZXI9bix0aGlzLl9hY2Nlc3NpYmlsaXR5TGFiZWw9cix0aGlzLl9zdHlsZXM9aSx0aGlzLl9ldmVudFBvc3Rlcj1vLHRoaXMuX2V2ZW50TGlzdGVuZXI9YSx0aGlzLl9kZXRhY2htZW50T2JzZXJ2ZXI9cyx0aGlzLl9jYXJkSW5zdHJ1bWVudD1jLHRoaXMuX2lmcmFtZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpLHRoaXMuX2lmcmFtZS5zcmM9XCIvY2hlY2tvdXQvcGF5bWVudC9ob3N0ZWQtZmllbGQ/dmVyc2lvbj0xLjEyNS4wXCIsdGhpcy5faWZyYW1lLnN0eWxlLmJvcmRlcj1cIm5vbmVcIix0aGlzLl9pZnJhbWUuc3R5bGUuaGVpZ2h0PVwiMTAwJVwiLHRoaXMuX2lmcmFtZS5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiLHRoaXMuX2lmcmFtZS5zdHlsZS53aWR0aD1cIjEwMCVcIn1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0VHlwZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90eXBlfSx0LnByb3RvdHlwZS5hdHRhY2g9ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQsZSxuPXRoaXM7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOmlmKCEodD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLl9jb250YWluZXJJZCkpKXRocm93IG5ldyBwZS5hKFwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgcHJvdmlkZWQgY29udGFpbmVyIElEIGlzIG5vdCB2YWxpZC5cIik7cmV0dXJuIHQuYXBwZW5kQ2hpbGQodGhpcy5faWZyYW1lKSx0aGlzLl9ldmVudExpc3RlbmVyLmxpc3RlbigpLGU9T2JqZWN0KGIuZnJvbUV2ZW50KSh0aGlzLl9pZnJhbWUsXCJsb2FkXCIpLnBpcGUoT2JqZWN0KE0uc3dpdGNoTWFwKSgoZnVuY3Rpb24odCl7dmFyIGU9dC50YXJnZXQ7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikobix2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0O3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDppZighKHQ9ZSYmZS5jb250ZW50V2luZG93KSl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgY29udGVudCB3aW5kb3cgb2YgdGhlIGlmcmFtZSBjYW5ub3QgYmUgYWNjZXNzZWQuXCIpO3JldHVybiB0aGlzLl9ldmVudFBvc3Rlci5zZXRUYXJnZXQodCksWzQsdGhpcy5fZXZlbnRQb3N0ZXIucG9zdCh7dHlwZTptZS5hLkF0dGFjaFJlcXVlc3RlZCxwYXlsb2FkOnthY2Nlc3NpYmlsaXR5TGFiZWw6dGhpcy5fYWNjZXNzaWJpbGl0eUxhYmVsLGNhcmRJbnN0cnVtZW50OnRoaXMuX2NhcmRJbnN0cnVtZW50LGZvbnRVcmxzOnRoaXMuX2dldEZvbnRVcmxzKCkscGxhY2Vob2xkZXI6dGhpcy5fcGxhY2Vob2xkZXIsc3R5bGVzOnRoaXMuX3N0eWxlcyx0eXBlOnRoaXMuX3R5cGV9fSx7c3VjY2Vzc1R5cGU6ZmUuYS5BdHRhY2hTdWNjZWVkZWQsZXJyb3JUeXBlOmZlLmEuQXR0YWNoRmFpbGVkfSldO2Nhc2UgMTpyZXR1cm4gbi5zZW50KCksWzJdfX0pKX0pKX0pKSxPYmplY3QoTS50YWtlKSgxKSkudG9Qcm9taXNlKCksWzQsdGhpcy5fZGV0YWNobWVudE9ic2VydmVyLmVuc3VyZVByZXNlbmNlKFt0aGlzLl9pZnJhbWVdLGUpXTtjYXNlIDE6cmV0dXJuIHIuc2VudCgpLFsyXX19KSl9KSl9LHQucHJvdG90eXBlLmRldGFjaD1mdW5jdGlvbigpe3RoaXMuX2lmcmFtZS5wYXJlbnRFbGVtZW50JiYodGhpcy5faWZyYW1lLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5faWZyYW1lKSx0aGlzLl9ldmVudExpc3RlbmVyLnN0b3BMaXN0ZW4oKSl9LHQucHJvdG90eXBlLnN1Ym1pdEZvcm09ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG4scjtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKGkpe3N3aXRjaChpLmxhYmVsKXtjYXNlIDA6cmV0dXJuIGkudHJ5cy5wdXNoKFswLDIsLDNdKSxuPXRoaXMuX2V2ZW50UG9zdGVyLnBvc3Qoe3R5cGU6bWUuYS5TdWJtaXRSZXF1ZXN0ZWQscGF5bG9hZDp7ZmllbGRzOnQsZGF0YTplfX0se3N1Y2Nlc3NUeXBlOmZlLmEuU3VibWl0U3VjY2VlZGVkLGVycm9yVHlwZTpmZS5hLlN1Ym1pdEZhaWxlZH0pLFs0LHRoaXMuX2RldGFjaG1lbnRPYnNlcnZlci5lbnN1cmVQcmVzZW5jZShbdGhpcy5faWZyYW1lXSxuKV07Y2FzZSAxOnJldHVybiBpLnNlbnQoKSxbMywzXTtjYXNlIDI6aWYocj1pLnNlbnQoKSx0aGlzLl9pc1N1Ym1pdEVycm9yRXZlbnQocikpe2lmKFwiaG9zdGVkX2Zvcm1fZXJyb3JcIj09PXIucGF5bG9hZC5lcnJvci5jb2RlKXRocm93IG5ldyBoZShyLnBheWxvYWQuZXJyb3IubWVzc2FnZSk7aWYoci5wYXlsb2FkLnJlc3BvbnNlKXRocm93IE9iamVjdCh1ZS5hKShyLnBheWxvYWQucmVzcG9uc2UpO3Rocm93IG5ldyBFcnJvcihyLnBheWxvYWQuZXJyb3IubWVzc2FnZSl9dGhyb3cgcjtjYXNlIDM6cmV0dXJuWzJdfX0pKX0pKX0sdC5wcm90b3R5cGUudmFsaWRhdGVGb3JtPWZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LGU7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOnJldHVybiB0PXRoaXMuX2V2ZW50UG9zdGVyLnBvc3Qoe3R5cGU6bWUuYS5WYWxpZGF0ZVJlcXVlc3RlZH0se3N1Y2Nlc3NUeXBlOmZlLmEuVmFsaWRhdGVkfSksWzQsdGhpcy5fZGV0YWNobWVudE9ic2VydmVyLmVuc3VyZVByZXNlbmNlKFt0aGlzLl9pZnJhbWVdLHQpXTtjYXNlIDE6aWYoIShlPW4uc2VudCgpLnBheWxvYWQpLmlzVmFsaWQpdGhyb3cgbmV3IGxlLmEoZS5lcnJvcnMpO3JldHVyblsyXX19KSl9KSl9LHQucHJvdG90eXBlLl9nZXRGb250VXJscz1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwibGlua1tocmVmKj0nZm9udHMuZ29vZ2xlYXBpcy5jb20nXVtyZWw9J3N0eWxlc2hlZXQnXVwiKTtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm5cImZvbnRzLmdvb2dsZWFwaXMuY29tXCI9PT1PYmplY3QoZGUuYSkodC5ocmVmKS5ob3N0bmFtZX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoQnQudmFsdWVzKSh0Ll9zdHlsZXMpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuZm9udEZhbWlseX0pKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0fSkpLnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnNwbGl0KC8sXFxzLykuc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuLTEhPT1lLmhyZWYuaW5kZXhPZih0LnJlcGxhY2UoXCIgXCIsXCIrXCIpKX0pKX0pKX0pKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmhyZWZ9KSl9LHQucHJvdG90eXBlLl9pc1N1Ym1pdEVycm9yRXZlbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQudHlwZT09PWZlLmEuU3VibWl0RmFpbGVkfSx0fSgpLHllPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyLGkpe3ZhciBvPXRoaXM7dGhpcy5fZmllbGRzPXQsdGhpcy5fZXZlbnRMaXN0ZW5lcj1lLHRoaXMuX3BheWxvYWRUcmFuc2Zvcm1lcj1uLHRoaXMuX2V2ZW50Q2FsbGJhY2tzPXIsdGhpcy5fcGF5bWVudEh1bWFuVmVyaWZpY2F0aW9uSGFuZGxlcj1pLHRoaXMuX2hhbmRsZUVudGVyPWZ1bmN0aW9uKHQpe3ZhciBlPXQucGF5bG9hZDtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKShvLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQsbjtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHIudHJ5cy5wdXNoKFswLDIsLDNdKSxbNCx0aGlzLnZhbGlkYXRlKCldO2Nhc2UgMTpyZXR1cm4gci5zZW50KCksWzMsM107Y2FzZSAyOmlmKFwiSW52YWxpZEhvc3RlZEZvcm1WYWx1ZUVycm9yXCIhPT0odD1yLnNlbnQoKSkubmFtZSl0aHJvdyB0O3JldHVyblszLDNdO2Nhc2UgMzpyZXR1cm4gbj10aGlzLl9ldmVudENhbGxiYWNrcy5vbkVudGVyLCh2b2lkIDA9PT1uP0J0Lm5vb3A6bikoZSksWzJdfX0pKX0pKX07dmFyIGE9dGhpcy5fZXZlbnRDYWxsYmFja3Mscz1hLm9uQmx1cixjPXZvaWQgMD09PXM/QnQubm9vcDpzLHU9YS5vbkNhcmRUeXBlQ2hhbmdlLHA9dm9pZCAwPT09dT9CdC5ub29wOnUsaD1hLm9uRm9jdXMsbD12b2lkIDA9PT1oP0J0Lm5vb3A6aCxtPWEub25WYWxpZGF0ZSxmPXZvaWQgMD09PW0/QnQubm9vcDptO3RoaXMuX2V2ZW50TGlzdGVuZXIuYWRkTGlzdGVuZXIoZmUuYS5CbHVycmVkLChmdW5jdGlvbih0KXt2YXIgZT10LnBheWxvYWQ7cmV0dXJuIGMoZSl9KSksdGhpcy5fZXZlbnRMaXN0ZW5lci5hZGRMaXN0ZW5lcihmZS5hLkNhcmRUeXBlQ2hhbmdlZCwoZnVuY3Rpb24odCl7dmFyIGU9dC5wYXlsb2FkO3JldHVybiBwKGUpfSkpLHRoaXMuX2V2ZW50TGlzdGVuZXIuYWRkTGlzdGVuZXIoZmUuYS5Gb2N1c2VkLChmdW5jdGlvbih0KXt2YXIgZT10LnBheWxvYWQ7cmV0dXJuIGwoZSl9KSksdGhpcy5fZXZlbnRMaXN0ZW5lci5hZGRMaXN0ZW5lcihmZS5hLlZhbGlkYXRlZCwoZnVuY3Rpb24odCl7dmFyIGU9dC5wYXlsb2FkO3JldHVybiBmKGUpfSkpLHRoaXMuX2V2ZW50TGlzdGVuZXIuYWRkTGlzdGVuZXIoZmUuYS5FbnRlcmVkLHRoaXMuX2hhbmRsZUVudGVyKSx0aGlzLl9ldmVudExpc3RlbmVyLmFkZExpc3RlbmVyKGZlLmEuQ2FyZFR5cGVDaGFuZ2VkLChmdW5jdGlvbih0KXt2YXIgZT10LnBheWxvYWQ7cmV0dXJuIG8uX2NhcmRUeXBlPWUuY2FyZFR5cGV9KSksdGhpcy5fZXZlbnRMaXN0ZW5lci5hZGRMaXN0ZW5lcihmZS5hLkJpbkNoYW5nZWQsKGZ1bmN0aW9uKHQpe3ZhciBlPXQucGF5bG9hZDtyZXR1cm4gby5fYmluPWUuYmlufSkpfXJldHVybiB0LnByb3RvdHlwZS5nZXRCaW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYmlufSx0LnByb3RvdHlwZS5nZXRDYXJkVHlwZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYXJkVHlwZX0sdC5wcm90b3R5cGUuYXR0YWNoPWZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LGU7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLl9ldmVudExpc3RlbmVyLmxpc3RlbigpLHQ9dGhpcy5fZ2V0Rmlyc3RGaWVsZCgpLGU9T2JqZWN0KEJ0LndpdGhvdXQpKHRoaXMuX2ZpZWxkcyx0KSxbNCx0LmF0dGFjaCgpXTtjYXNlIDE6cmV0dXJuIG4uc2VudCgpLFs0LFByb21pc2UuYWxsKGUubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5hdHRhY2goKX0pKSldO2Nhc2UgMjpyZXR1cm4gbi5zZW50KCksWzJdfX0pKX0pKX0sdC5wcm90b3R5cGUuZGV0YWNoPWZ1bmN0aW9uKCl7dGhpcy5fZXZlbnRMaXN0ZW5lci5zdG9wTGlzdGVuKCksdGhpcy5fZmllbGRzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuZGV0YWNoKCl9KSl9LHQucHJvdG90eXBlLnN1Ym1pdD1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGUsbjtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHIudHJ5cy5wdXNoKFswLDIsLDVdKSxbNCx0aGlzLl9nZXRGaXJzdEZpZWxkKCkuc3VibWl0Rm9ybSh0aGlzLl9maWVsZHMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRUeXBlKCl9KSksdGhpcy5fcGF5bG9hZFRyYW5zZm9ybWVyLnRyYW5zZm9ybSh0KSldO2Nhc2UgMTpyZXR1cm5bMixyLnNlbnQoKV07Y2FzZSAyOnJldHVybiBlPXIuc2VudCgpLFs0LHRoaXMuX3BheW1lbnRIdW1hblZlcmlmaWNhdGlvbkhhbmRsZXIuaGFuZGxlKGUpXTtjYXNlIDM6cmV0dXJuIG49ci5zZW50KCksWzQsdGhpcy5fZ2V0Rmlyc3RGaWVsZCgpLnN1Ym1pdEZvcm0odGhpcy5fZmllbGRzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0VHlwZSgpfSkpLHRoaXMuX3BheWxvYWRUcmFuc2Zvcm1lci50cmFuc2Zvcm0odCxuKSldO2Nhc2UgNDpyZXR1cm5bMixyLnNlbnQoKV07Y2FzZSA1OnJldHVyblsyXX19KSl9KSl9LHQucHJvdG90eXBlLnZhbGlkYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLl9nZXRGaXJzdEZpZWxkKCkudmFsaWRhdGVGb3JtKCldO2Nhc2UgMTpyZXR1cm5bMix0LnNlbnQoKV19fSkpfSkpfSx0LnByb3RvdHlwZS5fZ2V0Rmlyc3RGaWVsZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2ZpZWxkc1swXTtpZighdCl0aHJvdyBuZXcgcGUuYShcIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHBheW1lbnQgZm9ybSBoYXMgbm8gZmllbGQgZGVmaW5lZC5cIik7cmV0dXJuIHR9LHR9KCksZ2U9big0MSksYmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3N0b3JlPXR9cmV0dXJuIHQucHJvdG90eXBlLnRyYW5zZm9ybT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX3N0b3JlLmdldFN0YXRlKCkscj1uLmNoZWNrb3V0LmdldENoZWNrb3V0KCksaT1uLmNvbmZpZy5nZXRDb25maWcoKSxvPW4uaW5zdHJ1bWVudHMuZ2V0SW5zdHJ1bWVudHNNZXRhKCksYT1uLm9yZGVyLmdldE9yZGVyKCkscz1uLm9yZGVyLmdldE9yZGVyTWV0YSgpLGM9T2JqZWN0KEJ0Lm9taXQpKHQucGF5bWVudERhdGEsXCJjY0V4cGlyeVwiLFwiY2NOYW1lXCIsXCJjY051bWJlclwiLFwiY2NDdnZcIiksdT1uLnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2QodC5tZXRob2RJZCx0LmdhdGV3YXlJZCksZD1uLnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2RzTWV0YSgpLHA9byYmYyYmT2JqZWN0KGdlLmEpKGMpP24ucGF5bWVudC5nZXRQYXltZW50VG9rZW4oKStcIiwgXCIrby52YXVsdEFjY2Vzc1Rva2VuOm4ucGF5bWVudC5nZXRQYXltZW50VG9rZW4oKTtpZighcCl0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nUGF5bWVudFRva2VuKTtyZXR1cm57YWRkaXRpb25hbEFjdGlvbjplLGF1dGhUb2tlbjpwLGNoZWNrb3V0OnIsY29uZmlnOmksb3JkZXI6YSxvcmRlck1ldGE6cyxwYXltZW50OmMscGF5bWVudE1ldGhvZDp1LHBheW1lbnRNZXRob2RNZXRhOmR9fSx0fSgpLHZlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9zdG9yZT10fXJldHVybiB0LnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9T2JqZWN0LmtleXMoZS5maWVsZHMpLnJlZHVjZSgoZnVuY3Rpb24ocixpKXt2YXIgbz1lLmZpZWxkc1tpXTtyZXR1cm4gbz9PYmplY3QoZC5fX3NwcmVhZEFycmF5cykocixbbmV3IF9lKGksby5jb250YWluZXJJZCxvLnBsYWNlaG9sZGVyfHxcIlwiLG8uYWNjZXNzaWJpbGl0eUxhYmVsfHxcIlwiLGUuc3R5bGVzfHx7fSxuZXcgaWUuYSh0KSxuZXcgb2UuYSh0KSxuZXcgcmUobmV3IHl0KSxcImluc3RydW1lbnRJZFwiaW4gbz9uLl9nZXRDYXJkSW5zdHJ1bWVudChvLmluc3RydW1lbnRJZCk6dm9pZCAwKV0pOnJ9KSxbXSk7cmV0dXJuIG5ldyB5ZShyLG5ldyBvZS5hKHQpLG5ldyBiZSh0aGlzLl9zdG9yZSksT2JqZWN0KEJ0LnBpY2spKGUsXCJvbkJsdXJcIixcIm9uRW50ZXJcIixcIm9uRm9jdXNcIixcIm9uQ2FyZFR5cGVDaGFuZ2VcIixcIm9uVmFsaWRhdGVcIiksbmV3IGNlKFN0KE9iamVjdChpLmNyZWF0ZVNjcmlwdExvYWRlcikoKSkpKX0sdC5wcm90b3R5cGUuX2dldENhcmRJbnN0cnVtZW50PWZ1bmN0aW9uKHQpe3ZhciBlPSgwLHRoaXMuX3N0b3JlLmdldFN0YXRlKCkuaW5zdHJ1bWVudHMuZ2V0Q2FyZEluc3RydW1lbnQpKHQpO2lmKCFlKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdQYXltZW50SW5zdHJ1bWVudCk7cmV0dXJuIGV9LHR9KCksQ2U9big0OCksT2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3N0b3JlQ3JlZGl0UmVxdWVzdFNlbmRlcj10fXJldHVybiB0LnByb3RvdHlwZS5hcHBseVN0b3JlQ3JlZGl0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdChiLmNvbmNhdCkoT2JqZWN0KGIub2YpKE9iamVjdChnLmNyZWF0ZUFjdGlvbikoQ2UuYS5BcHBseVN0b3JlQ3JlZGl0UmVxdWVzdGVkKSksT2JqZWN0KGIuZGVmZXIpKChmdW5jdGlvbigpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKG4sdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbixpLG87cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihhKXtzd2l0Y2goYS5sYWJlbCl7Y2FzZSAwOmlmKG49ci5nZXRTdGF0ZSgpLCEoaT1uLmNoZWNrb3V0LmdldENoZWNrb3V0KCkpKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdDaGVja291dCk7cmV0dXJuWzQsdD90aGlzLl9zdG9yZUNyZWRpdFJlcXVlc3RTZW5kZXIuYXBwbHlTdG9yZUNyZWRpdChpLmlkLGUpOnRoaXMuX3N0b3JlQ3JlZGl0UmVxdWVzdFNlbmRlci5yZW1vdmVTdG9yZUNyZWRpdChpLmlkLGUpXTtjYXNlIDE6cmV0dXJuIG89YS5zZW50KCkuYm9keSxbMixPYmplY3QoZy5jcmVhdGVBY3Rpb24pKENlLmEuQXBwbHlTdG9yZUNyZWRpdFN1Y2NlZWRlZCxvKV19fSkpfSkpfSkpKS5waXBlKE9iamVjdChNLmNhdGNoRXJyb3IpKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KFQuYSkoQ2UuYS5BcHBseVN0b3JlQ3JlZGl0RmFpbGVkLHQpfSkpKX19LHR9KCksU2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3JlcXVlc3RTZW5kZXI9dH1yZXR1cm4gdC5wcm90b3R5cGUuYXBwbHlTdG9yZUNyZWRpdD1mdW5jdGlvbih0LGUpe3ZhciBuPSh2b2lkIDA9PT1lP3t9OmUpLnRpbWVvdXQscj1cIi9hcGkvc3RvcmVmcm9udC9jaGVja291dHMvXCIrdCtcIi9zdG9yZS1jcmVkaXRcIixpPXtBY2NlcHQ6SS5hLkpzb25WMX07cmV0dXJuIHRoaXMuX3JlcXVlc3RTZW5kZXIucG9zdChyLHtoZWFkZXJzOmksdGltZW91dDpuLHBhcmFtczp7aW5jbHVkZTpPYmplY3QoQS5hKShTLmEpfX0pfSx0LnByb3RvdHlwZS5yZW1vdmVTdG9yZUNyZWRpdD1mdW5jdGlvbih0LGUpe3ZhciBuPSh2b2lkIDA9PT1lP3t9OmUpLnRpbWVvdXQscj1cIi9hcGkvc3RvcmVmcm9udC9jaGVja291dHMvXCIrdCtcIi9zdG9yZS1jcmVkaXRcIixpPXtBY2NlcHQ6SS5hLkpzb25WMX07cmV0dXJuIHRoaXMuX3JlcXVlc3RTZW5kZXIuZGVsZXRlKHIse2hlYWRlcnM6aSx0aW1lb3V0Om4scGFyYW1zOntpbmNsdWRlOk9iamVjdChBLmEpKFMuYSl9fSl9LHR9KCksd2U9bigyMDEpLEllPW4oMTc1KSxBZT1uKDYxKSxFZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scil7dmFyIGk9dGhpczt0aGlzLl9wYXltZW50UmVxdWVzdFNlbmRlcj10LHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvcj1lLHRoaXMuX3BheW1lbnRSZXF1ZXN0VHJhbnNmb3JtZXI9bix0aGlzLl9wYXltZW50SHVtYW5WZXJpZmljYXRpb25IYW5kbGVyPXIsdGhpcy5pbml0aWFsaXplT2Zmc2l0ZVBheW1lbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dC5tZXRob2RJZCxuPXQuZ2F0ZXdheUlkLHI9dC5pbnN0cnVtZW50SWQsbz10LnRhcmdldCxhPXQucHJvbWlzZSxzPXQuc2hvdWxkU2F2ZUluc3RydW1lbnQsYz10LnNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQ7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciB1O3I/dT17Zm9ybWF0dGVkUGF5bG9hZDp7YmlncGF5X3Rva2VuOnJ9fTpzJiYodT17Zm9ybWF0dGVkUGF5bG9hZDp7dmF1bHRfcGF5bWVudF9pbnN0cnVtZW50OnMsc2V0X2FzX2RlZmF1bHRfc3RvcmVkX2luc3RydW1lbnQ6Y3x8bnVsbH19KTt2YXIgZD1pLl9wYXltZW50UmVxdWVzdFRyYW5zZm9ybWVyLnRyYW5zZm9ybSh7Z2F0ZXdheUlkOm4sbWV0aG9kSWQ6ZSxwYXltZW50RGF0YTp1fSx0LmdldFN0YXRlKCkpO3JldHVybiBPYmplY3QoYi5jb25jYXQpKE9iamVjdChiLm9mKShPYmplY3QoZy5jcmVhdGVBY3Rpb24pKEFlLmEuSW5pdGlhbGl6ZU9mZnNpdGVQYXltZW50UmVxdWVzdGVkKSksUHJvbWlzZS5yYWNlKFtpLl9wYXltZW50UmVxdWVzdFNlbmRlci5pbml0aWFsaXplT2Zmc2l0ZVBheW1lbnQoZCxvKSxhXS5maWx0ZXIoQm9vbGVhbikpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChnLmNyZWF0ZUFjdGlvbikoQWUuYS5Jbml0aWFsaXplT2Zmc2l0ZVBheW1lbnRTdWNjZWVkZWQpfSkpKS5waXBlKE9iamVjdChNLmNhdGNoRXJyb3IpKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KFQuYSkoQWUuYS5Jbml0aWFsaXplT2Zmc2l0ZVBheW1lbnRGYWlsZWQsdCl9KSkpfX19cmV0dXJuIHQucHJvdG90eXBlLnN1Ym1pdFBheW1lbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIE9iamVjdChiLmNvbmNhdCkoT2JqZWN0KGIub2YpKE9iamVjdChnLmNyZWF0ZUFjdGlvbikoQWUuYS5TdWJtaXRQYXltZW50UmVxdWVzdGVkKSksT2JqZWN0KGIuZGVmZXIpKChmdW5jdGlvbigpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKGUsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSxyO3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24oaSl7c3dpdGNoKGkubGFiZWwpe2Nhc2UgMDpyZXR1cm4gaS50cnlzLnB1c2goWzAsMiwsNV0pLFs0LHRoaXMuX3BheW1lbnRSZXF1ZXN0U2VuZGVyLnN1Ym1pdFBheW1lbnQodGhpcy5fcGF5bWVudFJlcXVlc3RUcmFuc2Zvcm1lci50cmFuc2Zvcm0odCxuLmdldFN0YXRlKCkpKV07Y2FzZSAxOnJldHVyblsyLGkuc2VudCgpXTtjYXNlIDI6cmV0dXJuIGU9aS5zZW50KCksWzQsdGhpcy5fcGF5bWVudEh1bWFuVmVyaWZpY2F0aW9uSGFuZGxlci5oYW5kbGUoZSldO2Nhc2UgMzpyZXR1cm4gcj1pLnNlbnQoKSxbNCx0aGlzLl9wYXltZW50UmVxdWVzdFNlbmRlci5zdWJtaXRQYXltZW50KHRoaXMuX3BheW1lbnRSZXF1ZXN0VHJhbnNmb3JtZXIudHJhbnNmb3JtKE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30sdCkse2FkZGl0aW9uYWxBY3Rpb246cn0pLG4uZ2V0U3RhdGUoKSkpXTtjYXNlIDQ6cmV0dXJuWzIsaS5zZW50KCldO2Nhc2UgNTpyZXR1cm5bMl19fSkpfSkpfSkpLnBpcGUoT2JqZWN0KE0uc3dpdGNoTWFwKSgoZnVuY3Rpb24odCl7dmFyIHI9dC5ib2R5O3JldHVybiBPYmplY3QoYi5jb25jYXQpKGUuX29yZGVyQWN0aW9uQ3JlYXRvci5sb2FkQ3VycmVudE9yZGVyKCkobiksT2JqZWN0KGIub2YpKE9iamVjdChnLmNyZWF0ZUFjdGlvbikoQWUuYS5TdWJtaXRQYXltZW50U3VjY2VlZGVkLHIpKSl9KSkpKS5waXBlKE9iamVjdChNLmNhdGNoRXJyb3IpKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KFQuYSkoQWUuYS5TdWJtaXRQYXltZW50RmFpbGVkLHQpfSkpKX19LHR9KCksUGU9bigxMzUpLGplPW4oMTM0KSxrZT1uKDU4KSxNZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dmFyIHI9dC5jYWxsKHRoaXMsbil8fHRoaXM7cmV0dXJuIHIuX3N0b3JlPWUscn1yZXR1cm4gT2JqZWN0KGQuX19leHRlbmRzKShlLHQpLGUucHJvdG90eXBlLmdldEJ5TWV0aG9kPWZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiB0aGlzLmdldCgpO3ZhciBlPXRoaXMuX2dldFRva2VuKHQpLG49W3QuZ2F0ZXdheSx0LmlkXS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT10fSkpLmpvaW4oXCItXCIpO3JldHVybiB0aGlzLmdldChlLG4pfSxlLnByb3RvdHlwZS5fZ2V0VG9rZW49ZnVuY3Rpb24odCl7aWYoXCJrbGFybmFcIj09PXQuZ2F0ZXdheSlyZXR1cm4gWnQuYS5LTEFSTkFWMjtpZih0LmlkPT09WnQuYS5QQVlQQUxfQ09NTUVSQ0VfQ1JFRElUKXJldHVybiBadC5hLlBBWVBBTF9DT01NRVJDRTtpZih0LmdhdGV3YXk9PT1adC5hLlBBWVBBTF9DT01NRVJDRV9BTFRFUk5BVElWRV9NRVRIT0RTKXJldHVybiBadC5hLlBBWVBBTF9DT01NRVJDRV9BTFRFUk5BVElWRV9NRVRIT0RTO3ZhciBlPXQuZ2F0ZXdheXx8dC5pZDtyZXR1cm4gdGhpcy5faGFzRmFjdG9yeUZvck1ldGhvZChlKT9lOnQudHlwZT09PWtlLmI/WnQuYS5PRkZMSU5FOnRoaXMuX2lzTGVnYWN5TWV0aG9kKHQpP1p0LmEuTEVHQUNZOnQudHlwZT09PWtlLmE/WnQuYS5PRkZTSVRFOlp0LmEuQ1JFRElUX0NBUkR9LGUucHJvdG90eXBlLl9oYXNGYWN0b3J5Rm9yTWV0aG9kPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9oYXNGYWN0b3J5KHQpfSxlLnByb3RvdHlwZS5faXNMZWdhY3lNZXRob2Q9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKS5jb25maWcuZ2V0U3RvcmVDb25maWcoKTtpZighZSl0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nQ2hlY2tvdXRDb25maWcpO3ZhciBuPWUucGF5bWVudFNldHRpbmdzLmNsaWVudFNpZGVQYXltZW50UHJvdmlkZXJzO3JldHVybiEoIW58fFwiYWR5ZW5cIj09PXQuZ2F0ZXdheXx8XCJiYXJjbGF5Y2FyZFwiPT09dC5nYXRld2F5KSYmIU9iamVjdChCdC5zb21lKShuLChmdW5jdGlvbihlKXtyZXR1cm4gdC5pZD09PWV8fHQuZ2F0ZXdheT09PWV9KSl9LGV9KEIuYSk7ZnVuY3Rpb24gVGUoKXtyZXR1cm57Y29sb3JfZGVwdGg6c2NyZWVuLmNvbG9yRGVwdGh8fDI0LGphdmFfZW5hYmxlZDpcImZ1bmN0aW9uXCI9PXR5cGVvZiBuYXZpZ2F0b3IuamF2YUVuYWJsZWQmJm5hdmlnYXRvci5qYXZhRW5hYmxlZCgpLGxhbmd1YWdlOm5hdmlnYXRvci5sYW5ndWFnZXx8bmF2aWdhdG9yLnVzZXJMYW5ndWFnZSxzY3JlZW5faGVpZ2h0OnNjcmVlbi5oZWlnaHQsc2NyZWVuX3dpZHRoOnNjcmVlbi53aWR0aCx0aW1lX3pvbmVfb2Zmc2V0OihuZXcgRGF0ZSkuZ2V0VGltZXpvbmVPZmZzZXQoKS50b1N0cmluZygpfX12YXIgUmUsRGUsemUsTGUsTmUsRmU9bigzNykscWU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10aGlzLHI9XCJVbmFibGUgdG8gc3VibWl0IHBheW1lbnQgZm9yIHRoZSBvcmRlciBiZWNhdXNlIHRoZSBwYXlsb2FkIGlzIGludmFsaWQuXCI7cmV0dXJuIGUmJihyPXIrXCIgTWFrZSBzdXJlIHRoZSBmb2xsb3dpbmcgZmllbGRzIGFyZSBwcm92aWRlZCBjb3JyZWN0bHk6IFwiK2Uuam9pbihcIiwgXCIpK1wiLlwiKSwobj10LmNhbGwodGhpcyxyKXx8dGhpcykubmFtZT1cIlBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvclwiLG59cmV0dXJuIE9iamVjdChkLl9fZXh0ZW5kcykoZSx0KSxlfShJdC5hKSxVZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzLGV8fFwiUGF5bWVudCBwcm9jZXNzIHdhcyBjYW5jZWxsZWQuXCIpfHx0aGlzO3JldHVybiBuLm5hbWU9XCJQYXltZW50TWV0aG9kQ2FuY2VsbGVkRXJyb3JcIixuLnR5cGU9XCJwYXltZW50X2NhbmNlbGxlZFwiLG59cmV0dXJuIE9iamVjdChkLl9fZXh0ZW5kcykoZSx0KSxlfShodC5hKTtmdW5jdGlvbiB4ZSh0KXtyZXR1cm4gdCYmXCJzdHJpbmdcIj09dHlwZW9mIHQuZGF0YS5wYXltZW50TWV0aG9kLmVuY3J5cHRlZFNlY3VyaXR5Q29kZXx8XCJzdHJpbmdcIj09dHlwZW9mIHQuZGF0YS5wYXltZW50TWV0aG9kLmVuY3J5cHRlZEV4cGlyeU1vbnRofSFmdW5jdGlvbih0KXt0LlRocmVlRFMyRmluZ2VycHJpbnQ9XCJ0aHJlZURTMkZpbmdlcnByaW50XCIsdC5UaHJlZURTMkNoYWxsZW5nZT1cInRocmVlRFMyQ2hhbGxlbmdlXCIsdC5SZWRpcmVjdD1cInJlZGlyZWN0XCIsdC5RUkNvZGU9XCJxckNvZGVcIix0LlZvdWNoZXI9XCJ2b3VjaGVyXCJ9KFJlfHwoUmU9e30pKSxmdW5jdGlvbih0KXt0LlNlY3VyZWRGaWVsZHM9XCJzZWN1cmVkZmllbGRzXCJ9KERlfHwoRGU9e30pKSxmdW5jdGlvbih0KXt0LkFDSD1cImFjaFwiLHQuQWxpUGF5PVwiYWxpcGF5XCIsdC5CYW5jb250YWN0PVwiYmNtY1wiLHQuQ3JlZGl0Q2FyZD1cInNjaGVtZVwiLHQuS2xhcm5hPVwia2xhcm5hXCIsdC5LbGFybmFQYXlOb3c9XCJrbGFybmFfcGF5bm93XCIsdC5LbGFybmFBY2NvdW50PVwia2xhcm5hX2FjY291bnRcIix0LmlERUFMPVwiaWRlYWxcIix0Lkdpcm9QYXk9XCJnaXJvcGF5XCIsdC5Hb29nbGVQYXk9XCJwYXl3aXRoZ29vZ2xlXCIsdC5TRVBBPVwic2VwYWRpcmVjdGRlYml0XCIsdC5Tb2ZvcnQ9XCJkaXJlY3RFYmFua2luZ1wiLHQuVmlwcHM9XCJ2aXBwc1wiLHQuV2VDaGF0UGF5UVI9XCJ3ZWNoYXRwYXlRUlwifSh6ZXx8KHplPXt9KSksZnVuY3Rpb24odCl7dC5QT1NUPVwiUE9TVFwifShMZXx8KExlPXt9KSksZnVuY3Rpb24odCl7dC5DaGFsbGVuZ2VTaG9wcGVyPVwiQ2hhbGxlbmdlU2hvcHBlclwiLHQuRXJyb3I9XCJFcnJvclwiLHQuSWRlbnRpZnlTaG9wcGVyPVwiSWRlbnRpZnlTaG9wcGVyXCJ9KE5lfHwoTmU9e30pKTt2YXIgQmUsR2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIpe3RoaXMuX3N0b3JlPXQsdGhpcy5fcGF5bWVudEFjdGlvbkNyZWF0b3I9ZSx0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3I9bix0aGlzLl9zY3JpcHRMb2FkZXI9cn1yZXR1cm4gdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGUsbixyLGksbyxhLHM7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihjKXtzd2l0Y2goYy5sYWJlbCl7Y2FzZSAwOmlmKCEoZT10LmFkeWVudjIpKXRocm93IG5ldyBJdC5hKCdVbmFibGUgdG8gaW5pdGlhbGl6ZSBwYXltZW50IGJlY2F1c2UgXCJvcHRpb25zLmFkeWVudjJcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuJyk7cmV0dXJuIHRoaXMuX3BheW1lbnRJbml0aWFsaXplT3B0aW9ucz1lLG49dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKS5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyh0Lm1ldGhvZElkKSxyPXtrZXk6XCJcIix2YWx1ZTpcIlwifSxuLmluaXRpYWxpemF0aW9uRGF0YS5vcmlnaW5LZXk/KHIua2V5PVwib3JpZ2luS2V5XCIsci52YWx1ZT1uLmluaXRpYWxpemF0aW9uRGF0YS5vcmlnaW5LZXkpOihyLmtleT1cImNsaWVudEtleVwiLHIudmFsdWU9bi5pbml0aWFsaXphdGlvbkRhdGEuY2xpZW50S2V5KSxpPXRoaXMsWzQsdGhpcy5fc2NyaXB0TG9hZGVyLmxvYWQoKHM9e2Vudmlyb25tZW50Om4uaW5pdGlhbGl6YXRpb25EYXRhLmVudmlyb25tZW50LGxvY2FsZTpuYXZpZ2F0b3IubGFuZ3VhZ2V9LHNbci5rZXldPXIudmFsdWUscy5wYXltZW50TWV0aG9kc1Jlc3BvbnNlPW4uaW5pdGlhbGl6YXRpb25EYXRhLnBheW1lbnRNZXRob2RzUmVzcG9uc2UscykpXTtjYXNlIDE6cmV0dXJuIGkuX2FkeWVuQ2xpZW50PWMuc2VudCgpLG89dGhpcyxbNCx0aGlzLl9tb3VudFBheW1lbnRDb21wb25lbnQobildO2Nhc2UgMjpyZXR1cm4gby5fcGF5bWVudENvbXBvbmVudD1jLnNlbnQoKSxuLm1ldGhvZCE9PXplLkNyZWRpdENhcmQmJm4ubWV0aG9kIT09emUuQmFuY29udGFjdD9bMyw0XTooYT10aGlzLFs0LHRoaXMuX21vdW50Q2FyZFZlcmlmaWNhdGlvbkNvbXBvbmVudCgpXSk7Y2FzZSAzOmEuX2NhcmRWZXJpZmljYXRpb25Db21wb25lbnQ9Yy5zZW50KCksYy5sYWJlbD00O2Nhc2UgNDpyZXR1cm5bMixQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSldfX0pKX0pKX0sdC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj10LnBheW1lbnQsaT1PYmplY3QoZC5fX3Jlc3QpKHQsW1wicGF5bWVudFwiXSksbz1yJiZyLnBheW1lbnREYXRhLGE9byYmby5zaG91bGRTYXZlSW5zdHJ1bWVudCxzPW8mJm8uc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudDtpZighcil0aHJvdyBuZXcgcWUoW1wicGF5bWVudFwiXSk7cmV0dXJuIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvci5zdWJtaXRPcmRlcihpLGUpKS50aGVuKChmdW5jdGlvbigpe3ZhciB0PW4uX2NvbXBvbmVudFN0YXRlO2lmKCF0KXRocm93IG5ldyBidC5iKGJ0LmEuUGF5bWVudE5vdEluaXRpYWxpemVkKTtpZihvJiZPYmplY3QoZ2UuYSkobykpe3ZhciBlPXt9O2lmKHhlKHQpKXt2YXIgaT10LmRhdGEucGF5bWVudE1ldGhvZCxjPWkuZW5jcnlwdGVkQ2FyZE51bWJlcix1PWkuZW5jcnlwdGVkU2VjdXJpdHlDb2RlO2U9e2NyZWRpdF9jYXJkX251bWJlcl9jb25maXJtYXRpb246YyxleHBpcnlfbW9udGg6aS5lbmNyeXB0ZWRFeHBpcnlNb250aCxleHBpcnlfeWVhcjppLmVuY3J5cHRlZEV4cGlyeVllYXIsdmVyaWZpY2F0aW9uX3ZhbHVlOnV9fWlmKHhlKHQpfHwtMSE9PVtcImlkZWFsXCIsXCJzZXBhZGlyZWN0ZGViaXRcIixcImRpcmVjdEViYW5raW5nXCIsXCJnaXJvcGF5XCJdLmluZGV4T2YodC5kYXRhLnBheW1lbnRNZXRob2QudHlwZSkpcmV0dXJuIG4uX3N0b3JlLmRpc3BhdGNoKG4uX3BheW1lbnRBY3Rpb25DcmVhdG9yLnN1Ym1pdFBheW1lbnQoT2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSxyKSx7cGF5bWVudERhdGE6e2Zvcm1hdHRlZFBheWxvYWQ6e2JpZ3BheV90b2tlbjpPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LGUpLHt0b2tlbjpvLmluc3RydW1lbnRJZH0pLGJyb3dzZXJfaW5mbzpUZSgpLHNldF9hc19kZWZhdWx0X3N0b3JlZF9pbnN0cnVtZW50OnN8fG51bGx9fX0pKSl9cmV0dXJuIG4uX3N0b3JlLmRpc3BhdGNoKG4uX3BheW1lbnRBY3Rpb25DcmVhdG9yLnN1Ym1pdFBheW1lbnQoe21ldGhvZElkOnIubWV0aG9kSWQscGF5bWVudERhdGE6e2Zvcm1hdHRlZFBheWxvYWQ6e2NyZWRpdF9jYXJkX3Rva2VuOnt0b2tlbjpKU09OLnN0cmluZ2lmeShPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LHQuZGF0YS5wYXltZW50TWV0aG9kKSx7b3JpZ2luOndpbmRvdy5sb2NhdGlvbi5vcmlnaW59KSl9LGJyb3dzZXJfaW5mbzpUZSgpLHZhdWx0X3BheW1lbnRfaW5zdHJ1bWVudDphfHxudWxsLHNldF9hc19kZWZhdWx0X3N0b3JlZF9pbnN0cnVtZW50OnN8fG51bGx9fX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7cmV0dXJuIG4uX3Byb2Nlc3NBZGRpdGlvbmFsQWN0aW9uKHQsYSxzKX0pKX0sdC5wcm90b3R5cGUuZmluYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEt0KX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BheW1lbnRDb21wb25lbnQmJih0aGlzLl9wYXltZW50Q29tcG9uZW50LnVubW91bnQoKSx0aGlzLl9wYXltZW50Q29tcG9uZW50PXZvaWQgMCksdGhpcy5fY2FyZFZlcmlmaWNhdGlvbkNvbXBvbmVudCYmKHRoaXMuX2NhcmRWZXJpZmljYXRpb25Db21wb25lbnQudW5tb3VudCgpLHRoaXMuX2NhcmRWZXJpZmljYXRpb25Db21wb25lbnQ9dm9pZCAwKSxQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSl9LHQucHJvdG90eXBlLl9nZXRBZHllbkNsaWVudD1mdW5jdGlvbigpe2lmKCF0aGlzLl9hZHllbkNsaWVudCl0aHJvdyBuZXcgYnQuYihidC5hLlBheW1lbnROb3RJbml0aWFsaXplZCk7cmV0dXJuIHRoaXMuX2FkeWVuQ2xpZW50fSx0LnByb3RvdHlwZS5fZ2V0UGF5bWVudEluaXRpYWxpemVPcHRpb25zPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX3BheW1lbnRJbml0aWFsaXplT3B0aW9ucyl0aHJvdyBuZXcgSXQuYSgnXCJvcHRpb25zLmFkeWVudjJcIiBhcmd1bWVudCB3YXMgbm90IHByb3ZpZGVkIGR1cmluZyBpbml0aWFsaXphdGlvbi4nKTtyZXR1cm4gdGhpcy5fcGF5bWVudEluaXRpYWxpemVPcHRpb25zfSx0LnByb3RvdHlwZS5fZ2V0VGhyZWVEUzJDaGFsbGVuZ2VXaWRnZXRTaXplPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZ2V0UGF5bWVudEluaXRpYWxpemVPcHRpb25zKCkudGhyZWVEUzJPcHRpb25zLndpZGdldFNpemU7cmV0dXJuIHR8fFwiMDVcIn0sdC5wcm90b3R5cGUuX2hhbmRsZUFjdGlvbj1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXt2YXIgaT1lLl9nZXRQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMoKSxvPWkudGhyZWVEUzJDb250YWluZXJJZCxhPWkuYWRkaXRpb25hbEFjdGlvbk9wdGlvbnMscz1hLm9uQmVmb3JlTG9hZCxjPWEuY29udGFpbmVySWQsdT1hLm9uTG9hZCxkPWEub25Db21wbGV0ZSxwPUpTT04ucGFyc2UodC5hY3Rpb24pLGg9ZS5fZ2V0QWR5ZW5DbGllbnQoKS5jcmVhdGVGcm9tQWN0aW9uKHAse29uQWRkaXRpb25hbERldGFpbHM6ZnVuY3Rpb24odCl7dmFyIGU9e21ldGhvZElkOnAucGF5bWVudE1ldGhvZFR5cGUscGF5bWVudERhdGE6e25vbmNlOkpTT04uc3RyaW5naWZ5KHQuZGF0YSl9fTtkJiZkKCksbihlKX0sc2l6ZTplLl9nZXRUaHJlZURTMkNoYWxsZW5nZVdpZGdldFNpemUoKSxvbkVycm9yOmZ1bmN0aW9uKHQpe3JldHVybiByKHQpfX0pO3MmJnMocC50eXBlPT09UmUuVGhyZWVEUzJDaGFsbGVuZ2V8fHAudHlwZT09PVJlLlFSQ29kZSksaC5tb3VudChcIiNcIisoY3x8bykpLHUmJnUoKGZ1bmN0aW9uKCl7cihuZXcgVWUpLGgudW5tb3VudCgpfSkpfSkpfSx0LnByb3RvdHlwZS5fbWFwQWR5ZW5QbGFjZWhvbGRlckRhdGE9ZnVuY3Rpb24odCl7cmV0dXJuIHQ/e2hvbGRlck5hbWU6dC5maXJzdE5hbWUrXCIgXCIrdC5sYXN0TmFtZSxiaWxsaW5nQWRkcmVzczp7c3RyZWV0OnQuYWRkcmVzczEsaG91c2VOdW1iZXJPck5hbWU6dC5hZGRyZXNzMixwb3N0YWxDb2RlOnQucG9zdGFsQ29kZSxjaXR5OnQuY2l0eSxzdGF0ZU9yUHJvdmluY2U6dC5zdGF0ZU9yUHJvdmluY2VDb2RlLGNvdW50cnk6dC5jb3VudHJ5Q29kZX19Ont9fSx0LnByb3RvdHlwZS5fbW91bnRDYXJkVmVyaWZpY2F0aW9uQ29tcG9uZW50PWZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLG49dGhpcy5fZ2V0UGF5bWVudEluaXRpYWxpemVPcHRpb25zKCkscj10aGlzLl9nZXRBZHllbkNsaWVudCgpO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oaSxvKXtpZihuLmNhcmRWZXJpZmljYXRpb25Db250YWluZXJJZCl7dD1yLmNyZWF0ZShEZS5TZWN1cmVkRmllbGRzLE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30sbi5vcHRpb25zKSx7b25DaGFuZ2U6ZnVuY3Rpb24odCl7cmV0dXJuIGUuX3VwZGF0ZUNvbXBvbmVudFN0YXRlKHQpfSxvbkVycm9yOmZ1bmN0aW9uKHQpe3JldHVybiBlLl91cGRhdGVDb21wb25lbnRTdGF0ZSh0KX19KSk7dHJ5e3QubW91bnQoXCIjXCIrbi5jYXJkVmVyaWZpY2F0aW9uQ29udGFpbmVySWQpfWNhdGNoKHQpe28obmV3IGJ0LmIoYnQuYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpKX19aSh0KX0pKX0sdC5wcm90b3R5cGUuX21vdW50UGF5bWVudENvbXBvbmVudD1mdW5jdGlvbih0KXt2YXIgZSxuPXRoaXMscj10aGlzLl9nZXRQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMoKSxpPXRoaXMuX2dldEFkeWVuQ2xpZW50KCk7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihvLGEpe3N3aXRjaCh0Lm1ldGhvZCl7Y2FzZSB6ZS5DcmVkaXRDYXJkOmNhc2UgemUuQUNIOmNhc2UgemUuQmFuY29udGFjdDp2YXIgcz1uLl9zdG9yZS5nZXRTdGF0ZSgpLmJpbGxpbmdBZGRyZXNzLmdldEJpbGxpbmdBZGRyZXNzKCk7ZT1pLmNyZWF0ZSh0Lm1ldGhvZCxPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LHIub3B0aW9ucykse29uQ2hhbmdlOmZ1bmN0aW9uKHQpe3JldHVybiBuLl91cGRhdGVDb21wb25lbnRTdGF0ZSh0KX0sZGF0YTpuLl9tYXBBZHllblBsYWNlaG9sZGVyRGF0YShzKX0pKTt0cnl7ZS5tb3VudChcIiNcIityLmNvbnRhaW5lcklkKX1jYXRjaCh0KXthKG5ldyBidC5iKGJ0LmEuUGF5bWVudE5vdEluaXRpYWxpemVkKSl9YnJlYWs7Y2FzZSB6ZS5pREVBTDpjYXNlIHplLlNFUEE6aWYoci5oYXNWYXVsdGVkSW5zdHJ1bWVudHMpbi5fdXBkYXRlQ29tcG9uZW50U3RhdGUoe2RhdGE6e3BheW1lbnRNZXRob2Q6e3R5cGU6dC5tZXRob2R9fX0pO2Vsc2V7ZT1pLmNyZWF0ZSh0Lm1ldGhvZCxPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LHIub3B0aW9ucykse29uQ2hhbmdlOmZ1bmN0aW9uKHQpe3JldHVybiBuLl91cGRhdGVDb21wb25lbnRTdGF0ZSh0KX19KSk7dHJ5e2UubW91bnQoXCIjXCIrci5jb250YWluZXJJZCl9Y2F0Y2godCl7YShuZXcgYnQuYihidC5hLlBheW1lbnROb3RJbml0aWFsaXplZCkpfX1icmVhaztjYXNlIHplLkFsaVBheTpjYXNlIHplLkdpcm9QYXk6Y2FzZSB6ZS5Tb2ZvcnQ6Y2FzZSB6ZS5LbGFybmE6Y2FzZSB6ZS5LbGFybmFQYXlOb3c6Y2FzZSB6ZS5LbGFybmFBY2NvdW50OmNhc2UgemUuVmlwcHM6Y2FzZSB6ZS5XZUNoYXRQYXlRUjpuLl91cGRhdGVDb21wb25lbnRTdGF0ZSh7ZGF0YTp7cGF5bWVudE1ldGhvZDp7dHlwZTp0Lm1ldGhvZH19fSl9byhlKX0pKX0sdC5wcm90b3R5cGUuX3Byb2Nlc3NBZGRpdGlvbmFsQWN0aW9uPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHIsaTtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKG8pe3N3aXRjaChvLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHQgaW5zdGFuY2VvZiBGZS5hJiZPYmplY3QoQnQuc29tZSkodC5ib2R5LmVycm9ycyx7Y29kZTpcImFkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkXCJ9KT9bNCx0aGlzLl9oYW5kbGVBY3Rpb24odC5ib2R5LnByb3ZpZGVyX2RhdGEpXTpbMixQcm9taXNlLnJlamVjdCh0KV07Y2FzZSAxOnI9by5zZW50KCksby5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gby50cnlzLnB1c2goWzIsNCwsNV0pLFs0LHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3BheW1lbnRBY3Rpb25DcmVhdG9yLnN1Ym1pdFBheW1lbnQoT2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSxyKSx7cGF5bWVudERhdGE6T2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSxyLnBheW1lbnREYXRhKSx7c2hvdWxkU2F2ZUluc3RydW1lbnQ6ZSxzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50Om59KX0pKSldO2Nhc2UgMzpyZXR1cm5bMixvLnNlbnQoKV07Y2FzZSA0OnJldHVybiBpPW8uc2VudCgpLFsyLHRoaXMuX3Byb2Nlc3NBZGRpdGlvbmFsQWN0aW9uKGksZSxuKV07Y2FzZSA1OnJldHVyblsyXX19KSl9KSl9LHQucHJvdG90eXBlLl91cGRhdGVDb21wb25lbnRTdGF0ZT1mdW5jdGlvbih0KXt0aGlzLl9jb21wb25lbnRTdGF0ZT10fSx0fSgpLFZlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dm9pZCAwPT09biYmKG49d2luZG93KSx0aGlzLl9zY3JpcHRMb2FkZXI9dCx0aGlzLl9zdHlsZXNoZWV0TG9hZGVyPWUsdGhpcy5fd2luZG93PW59cmV0dXJuIHQucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24oZSl7c3dpdGNoKGUubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxQcm9taXNlLmFsbChbdGhpcy5fc3R5bGVzaGVldExvYWRlci5sb2FkU3R5bGVzaGVldChcImh0dHBzOi8vY2hlY2tvdXRzaG9wcGVyLVwiK3QuZW52aXJvbm1lbnQrXCIuYWR5ZW4uY29tL2NoZWNrb3V0c2hvcHBlci9zZGsvMy4xMC4xL2FkeWVuLmNzc1wiKSx0aGlzLl9zY3JpcHRMb2FkZXIubG9hZFNjcmlwdChcImh0dHBzOi8vY2hlY2tvdXRzaG9wcGVyLVwiK3QuZW52aXJvbm1lbnQrXCIuYWR5ZW4uY29tL2NoZWNrb3V0c2hvcHBlci9zZGsvMy4xMC4xL2FkeWVuLmpzXCIpXSldO2Nhc2UgMTppZihlLnNlbnQoKSwhdGhpcy5fd2luZG93LkFkeWVuQ2hlY2tvdXQpdGhyb3cgbmV3ICQuYTtyZXR1cm5bMixuZXcgdGhpcy5fd2luZG93LkFkeWVuQ2hlY2tvdXQodCldfX0pKX0pKX0sdH0oKSxZZT1uKDgxKTshZnVuY3Rpb24odCl7dC5EaWdpdGFsSXRlbXNDYXRlZ29yaWVzPVwibGluZUl0ZW1zLmRpZ2l0YWxJdGVtcy5jYXRlZ29yaWVzXCIsdC5QaHlzaWNhbEl0ZW1zQ2F0ZWdvcmllcz1cImxpbmVJdGVtcy5waHlzaWNhbEl0ZW1zLmNhdGVnb3JpZXNcIn0oQmV8fChCZT17fSkpO3ZhciBIZT1uKDE3MCksV2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIsaSl7dGhpcy5fc3RvcmU9dCx0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3I9ZSx0aGlzLl9wYXltZW50QWN0aW9uQ3JlYXRvcj1uLHRoaXMuX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yPXIsdGhpcy5fYWZmaXJtU2NyaXB0TG9hZGVyPWl9cmV0dXJuIHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3IubG9hZFBheW1lbnRNZXRob2QodC5tZXRob2RJZCkpLnRoZW4oKGZ1bmN0aW9uKG4pe3ZhciByPW4ucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZCh0Lm1ldGhvZElkKTtpZighcnx8IXIuY2xpZW50VG9rZW4pdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ1BheW1lbnRNZXRob2QpO3ZhciBpPXIuY29uZmlnLnRlc3RNb2RlLG89ci5jbGllbnRUb2tlbjtyZXR1cm4gZS5fYWZmaXJtU2NyaXB0TG9hZGVyLmxvYWQobyxpKX0pKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gZS5fYWZmaXJtPXQsZS5fc3RvcmUuZ2V0U3RhdGUoKX0pKX0sdC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj10LnBheW1lbnQmJnQucGF5bWVudC5tZXRob2RJZCxpPXQudXNlU3RvcmVDcmVkaXQsbz10aGlzLl9hZmZpcm07aWYoIW8pdGhyb3cgbmV3IGJ0LmIoYnQuYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO2lmKCFyKXRocm93IG5ldyBxZShbXCJwYXltZW50Lm1ldGhvZElkXCJdKTt2YXIgYT1PYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LGUpLHtwYXJhbXM6e2luY2x1ZGU6W0JlLlBoeXNpY2FsSXRlbXNDYXRlZ29yaWVzLEJlLkRpZ2l0YWxJdGVtc0NhdGVnb3JpZXNdfX0pO3JldHVybiB0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3Iuc3VibWl0T3JkZXIoe3VzZVN0b3JlQ3JlZGl0Oml9LGEpKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBvLmNoZWNrb3V0KG4uX2dldENoZWNrb3V0SW5mb3JtYXRpb24oKSksbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsZSl7by5jaGVja291dC5vcGVuKHtvbkZhaWw6ZnVuY3Rpb24odCl7XCJjYW5jZWxlZFwiPT09dC5yZWFzb24/ZShuZXcgVWUpOmUobmV3IEhlLmEpfSxvblN1Y2Nlc3M6ZnVuY3Rpb24oZSl7dChlKX19KSxvLnVpLmVycm9yLm9uKFwiY2xvc2VcIiwoZnVuY3Rpb24oKXtlKG5ldyBVZSl9KSl9KSl9KSkudGhlbigoZnVuY3Rpb24odCl7dmFyIGU9e21ldGhvZElkOnIscGF5bWVudERhdGE6e25vbmNlOnQuY2hlY2tvdXRfdG9rZW59fTtyZXR1cm4gbi5fc3RvcmUuZGlzcGF0Y2gobi5fcGF5bWVudEFjdGlvbkNyZWF0b3Iuc3VibWl0UGF5bWVudChlKSl9KSl9LHQucHJvdG90eXBlLmRlaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hZmZpcm0mJih0aGlzLl9hZmZpcm09dm9pZCAwKSxQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSl9LHQucHJvdG90eXBlLmZpbmFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBLdCl9LHQucHJvdG90eXBlLl9nZXRDaGVja291dEluZm9ybWF0aW9uPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSxlPXQuY29uZmlnLmdldFN0b3JlQ29uZmlnKCksbj10LmNvbnNpZ25tZW50cy5nZXRDb25zaWdubWVudHMoKSxyPXQub3JkZXIuZ2V0T3JkZXIoKTtpZighZSl0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nQ2hlY2tvdXRDb25maWcpO2lmKCFyKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdDaGVja291dCk7dmFyIGk9bmV3IFllLmEoci5jdXJyZW5jeS5kZWNpbWFsUGxhY2VzKSxvPXRoaXMuX2dldEJpbGxpbmdBZGRyZXNzKCk7cmV0dXJue21lcmNoYW50Ont1c2VyX2NvbmZpcm1hdGlvbl91cmw6ZS5saW5rcy5jaGVja291dExpbmssdXNlcl9jYW5jZWxfdXJsOmUubGlua3MuY2hlY2tvdXRMaW5rLHVzZXJfY29uZmlybWF0aW9uX3VybF9hY3Rpb246XCJQT1NUXCJ9LHNoaXBwaW5nOnRoaXMuX2dldFNoaXBwaW5nQWRkcmVzcygpfHxvLGJpbGxpbmc6byxpdGVtczp0aGlzLl9nZXRJdGVtcyhpLHIpLG1ldGFkYXRhOntzaGlwcGluZ190eXBlOnRoaXMuX2dldFNoaXBwaW5nVHlwZShuKSxtb2RlOlwibW9kYWxcIixwbGF0Zm9ybV90eXBlOlwiQmlnQ29tbWVyY2VcIixwbGF0Zm9ybV92ZXJzaW9uOlwiXCIscGxhdGZvcm1fYWZmaXJtOlwiXCJ9LGRpc2NvdW50czp0aGlzLl9nZXREaXNjb3VudHMoaSxyKSxvcmRlcl9pZDpyLm9yZGVySWQ/ci5vcmRlcklkLnRvU3RyaW5nKCk6XCJcIixzaGlwcGluZ19hbW91bnQ6aS50b0ludGVnZXIoci5zaGlwcGluZ0Nvc3RUb3RhbCksdGF4X2Ftb3VudDppLnRvSW50ZWdlcihyLnRheFRvdGFsKSx0b3RhbDppLnRvSW50ZWdlcihyLm9yZGVyQW1vdW50KX19LHQucHJvdG90eXBlLl9nZXRTaGlwcGluZ1R5cGU9ZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuXCJcIjt2YXIgZT10WzBdO3JldHVybiBlJiZlLnNlbGVjdGVkU2hpcHBpbmdPcHRpb24/ZS5zZWxlY3RlZFNoaXBwaW5nT3B0aW9uLnR5cGU6XCJcIn0sdC5wcm90b3R5cGUuX2dldEJpbGxpbmdBZGRyZXNzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKS5iaWxsaW5nQWRkcmVzcy5nZXRCaWxsaW5nQWRkcmVzcygpO2lmKCF0KXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdCaWxsaW5nQWRkcmVzcyk7cmV0dXJue25hbWU6e2ZpcnN0OnQuZmlyc3ROYW1lLGxhc3Q6dC5sYXN0TmFtZSxmdWxsOnQuZmlyc3ROYW1lK1wiIFwiK3QubGFzdE5hbWV9LGFkZHJlc3M6e2xpbmUxOnQuYWRkcmVzczEsbGluZTI6dC5hZGRyZXNzMixjaXR5OnQuY2l0eSxzdGF0ZTp0LnN0YXRlT3JQcm92aW5jZUNvZGUsemlwY29kZTp0LnBvc3RhbENvZGUsY291bnRyeTp0LmNvdW50cnlDb2RlfSxwaG9uZV9udW1iZXI6dC5waG9uZSxlbWFpbDp0LmVtYWlsfX0sdC5wcm90b3R5cGUuX2dldFNoaXBwaW5nQWRkcmVzcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3N0b3JlLmdldFN0YXRlKCkuc2hpcHBpbmdBZGRyZXNzLmdldFNoaXBwaW5nQWRkcmVzcygpO2lmKHQpcmV0dXJue25hbWU6e2ZpcnN0OnQuZmlyc3ROYW1lLGxhc3Q6dC5sYXN0TmFtZSxmdWxsOnQuZmlyc3ROYW1lK1wiIFwiK3QubGFzdE5hbWV9LGFkZHJlc3M6e2xpbmUxOnQuYWRkcmVzczEsbGluZTI6dC5hZGRyZXNzMixjaXR5OnQuY2l0eSxzdGF0ZTp0LnN0YXRlT3JQcm92aW5jZUNvZGUsemlwY29kZTp0LnBvc3RhbENvZGUsY291bnRyeTp0LmNvdW50cnlDb2RlfSxwaG9uZV9udW1iZXI6dC5waG9uZX19LHQucHJvdG90eXBlLl9nZXRJdGVtcz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1bXSxyPTAsaT1lLmxpbmVJdGVtcy5waHlzaWNhbEl0ZW1zO3I8aS5sZW5ndGg7cisrKXt2YXIgbz1pW3JdO24ucHVzaCh7ZGlzcGxheV9uYW1lOm8ubmFtZSxza3U6by5za3UsdW5pdF9wcmljZTp0LnRvSW50ZWdlcihvLnNhbGVQcmljZSkscXR5Om8ucXVhbnRpdHksaXRlbV9pbWFnZV91cmw6by5pbWFnZVVybCxpdGVtX3VybDpvLnVybCxjYXRlZ29yaWVzOnRoaXMuX2dldENhdGVnb3JpZXMoby5jYXRlZ29yaWVzKX0pfWZvcih2YXIgYT0wLHM9ZS5saW5lSXRlbXMuZGlnaXRhbEl0ZW1zO2E8cy5sZW5ndGg7YSsrKXtvPXNbYV07bi5wdXNoKHtkaXNwbGF5X25hbWU6by5uYW1lLHNrdTpvLnNrdSx1bml0X3ByaWNlOnQudG9JbnRlZ2VyKG8uc2FsZVByaWNlKSxxdHk6by5xdWFudGl0eSxpdGVtX2ltYWdlX3VybDpvLmltYWdlVXJsLGl0ZW1fdXJsOm8udXJsLGNhdGVnb3JpZXM6dGhpcy5fZ2V0Q2F0ZWdvcmllcyhvLmNhdGVnb3JpZXMpfSl9Zm9yKHZhciBjPTAsdT1lLmxpbmVJdGVtcy5naWZ0Q2VydGlmaWNhdGVzO2M8dS5sZW5ndGg7YysrKXtvPXVbY107bi5wdXNoKHtkaXNwbGF5X25hbWU6by5uYW1lLHNrdTpcIlwiLHVuaXRfcHJpY2U6dC50b0ludGVnZXIoby5hbW91bnQpLHF0eToxLGl0ZW1faW1hZ2VfdXJsOlwiXCIsaXRlbV91cmw6XCJcIn0pfWlmKGUubGluZUl0ZW1zLmN1c3RvbUl0ZW1zKWZvcih2YXIgZD0wLHA9ZS5saW5lSXRlbXMuY3VzdG9tSXRlbXM7ZDxwLmxlbmd0aDtkKyspe289cFtkXTtuLnB1c2goe2Rpc3BsYXlfbmFtZTpvLm5hbWUsc2t1Om8uc2t1LHVuaXRfcHJpY2U6dC50b0ludGVnZXIoby5saXN0UHJpY2UpLHF0eTpvLnF1YW50aXR5LGl0ZW1faW1hZ2VfdXJsOlwiXCIsaXRlbV91cmw6XCJcIn0pfXJldHVybiBufSx0LnByb3RvdHlwZS5fZ2V0RGlzY291bnRzPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXt9LHI9MCxpPWUuY291cG9ucztyPGkubGVuZ3RoO3IrKyl7dmFyIG89aVtyXTtvLmRpc2NvdW50ZWRBbW91bnQ+MCYmKG5bby5jb2RlXT17ZGlzY291bnRfYW1vdW50OnQudG9JbnRlZ2VyKG8uZGlzY291bnRlZEFtb3VudCksZGlzY291bnRfZGlzcGxheV9uYW1lOm8uZGlzcGxheU5hbWV9KX1yZXR1cm4gZS5kaXNjb3VudEFtb3VudD4wJiYobi5ESVNDT1VOVEVEX0FNT1VOVD17ZGlzY291bnRfYW1vdW50OnQudG9JbnRlZ2VyKGUuZGlzY291bnRBbW91bnQpLGRpc2NvdW50X2Rpc3BsYXlfbmFtZTpcImRpc2NvdW50XCJ9KSxufSx0LnByb3RvdHlwZS5fZ2V0Q2F0ZWdvcmllcz1mdW5jdGlvbih0KXtyZXR1cm4gdD90Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lfSkpfSkpOltbXV19LHR9KCk7dmFyIEtlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2b2lkIDA9PT10JiYodD13aW5kb3cpLHRoaXMuX3dpbmRvdz10fXJldHVybiB0LnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09dCYmKHQ9XCJcIik7dmFyIG49dGhpcy5fZ2V0U2NyaXB0VVJJKGUpO2lmKGZ1bmN0aW9uKHQsZSxuLHIsaSxvLGEscyl7dmFyIGM9dFtuXXx8e30sdT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KG8pLGQ9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUobylbMF0scD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGZ1bmN0aW9uKCl7dFtlXS5fLnB1c2goW24sYXJndW1lbnRzXSl9fTtjW3JdPXAoYyxyLFwic2V0XCIpO3ZhciBoPWNbcl07Y1tpXT17fSxjW2ldLl89W10saC5fPVtdLGMuXz1bXSxjW2ldW2FdPXAoYyxpLGEpLGNbc109ZnVuY3Rpb24oKXtjLl8ucHVzaChbYSxhcmd1bWVudHNdKX07Zm9yKHZhciBsPTAsbT1cInNldCBhZGQgc2F2ZSBwb3N0IG9wZW4gZW1wdHkgcmVzZXQgb24gb2ZmIHRyaWdnZXIgcmVhZHkgc2V0UHJvZHVjdFwiLnNwbGl0KFwiIFwiKTtsPG0ubGVuZ3RoO2wrKyloW21bbF1dPXAoYyxyLG1bbF0pO2Zvcih2YXIgZj0wLF89W1wiZ2V0XCIsXCJ0b2tlblwiLFwidXJsXCIsXCJpdGVtc1wiXTtmPF8ubGVuZ3RoO2YrKyloW19bZl1dPWZ1bmN0aW9uKCl7fTt1LmFzeW5jPSEwLHUuc3JjPWVbb10sZC5wYXJlbnROb2RlJiZkLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHUsZCksZGVsZXRlIGVbb10saChlKSx0W25dPWN9KHdpbmRvdyx7cHVibGljX2FwaV9rZXk6dCxzY3JpcHQ6bn0sXCJhZmZpcm1cIixcImNoZWNrb3V0XCIsXCJ1aVwiLFwic2NyaXB0XCIsXCJyZWFkeVwiLFwianNSZWFkeVwiKSwhdGhpcy5fd2luZG93LmFmZmlybSl0aHJvdyBuZXcgJC5hO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fd2luZG93LmFmZmlybSl9LHQucHJvdG90eXBlLl9nZXRTY3JpcHRVUkk9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PSExKSx0P1wiLy9jZG4xLXNhbmRib3guYWZmaXJtLmNvbS9qcy92Mi9hZmZpcm0uanNcIjpcIi8vY2RuMS5hZmZpcm0uY29tL2pzL3YyL2FmZmlybS5qc1wifSx0fSgpLEplPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyLGksbyxhKXt0aGlzLl9zdG9yZT10LHRoaXMuX2NoZWNrb3V0VmFsaWRhdG9yPWUsdGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yPW4sdGhpcy5fcGF5bWVudEFjdGlvbkNyZWF0b3I9cix0aGlzLl9wYXltZW50TWV0aG9kQWN0aW9uQ3JlYXRvcj1pLHRoaXMuX3N0b3JlQ3JlZGl0QWN0aW9uQ3JlYXRvcj1vLHRoaXMuX2FmdGVycGF5U2NyaXB0TG9hZGVyPWF9cmV0dXJuIHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLG4scixpLG87cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihhKXtzd2l0Y2goYS5sYWJlbCl7Y2FzZSAwOmlmKGU9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSxuPWUucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZCh0Lm1ldGhvZElkLHQuZ2F0ZXdheUlkKSxyPWUuY29uZmlnLmdldFN0b3JlQ29uZmlnKCksaT1yP3Iuc3RvcmVQcm9maWxlLnN0b3JlQ291bnRyeTpcIlwiLCFuKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdQYXltZW50TWV0aG9kKTtyZXR1cm4gbz10aGlzLFs0LHRoaXMuX2FmdGVycGF5U2NyaXB0TG9hZGVyLmxvYWQobix0aGlzLl9tYXBDb3VudHJ5VG9JU08yKGkpKV07Y2FzZSAxOnJldHVybiBvLl9hZnRlcnBheVNkaz1hLnNlbnQoKSxbMix0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpXX19KSl9KSl9LHQucHJvdG90eXBlLmRlaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hZnRlcnBheVNkayYmKHRoaXMuX2FmdGVycGF5U2RrPXZvaWQgMCksUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3N0b3JlLmdldFN0YXRlKCkpfSx0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBuLHIsaSxvLGE7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihzKXtzd2l0Y2gocy5sYWJlbCl7Y2FzZSAwOmlmKCEobj10LnBheW1lbnQmJnQucGF5bWVudC5nYXRld2F5SWQpKXRocm93IG5ldyBxZShbXCJwYXltZW50LmdhdGV3YXlJZFwiXSk7cmV0dXJuIHI9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSxpPXIuY29uZmlnLmdldFN0b3JlQ29uZmlnKCksbz1pP2kuc3RvcmVQcm9maWxlLnN0b3JlQ291bnRyeTpcIlwiLHZvaWQgMD09PShhPXQudXNlU3RvcmVDcmVkaXQpP1szLDJdOls0LHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3N0b3JlQ3JlZGl0QWN0aW9uQ3JlYXRvci5hcHBseVN0b3JlQ3JlZGl0KGEpKV07Y2FzZSAxOnI9cy5zZW50KCkscy5sYWJlbD0yO2Nhc2UgMjpyZXR1cm5bNCx0aGlzLl9jaGVja291dFZhbGlkYXRvci52YWxpZGF0ZShyLmNoZWNrb3V0LmdldENoZWNrb3V0KCksZSldO2Nhc2UgMzpyZXR1cm4gcy5zZW50KCksWzQsdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3IubG9hZFBheW1lbnRNZXRob2QobixlKSldO2Nhc2UgNDpyZXR1cm4gcj1zLnNlbnQoKSxbNCx0aGlzLl9yZWRpcmVjdFRvQWZ0ZXJwYXkobyxyLnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2QobikpXTtjYXNlIDU6cmV0dXJuIHMuc2VudCgpLFsyLG5ldyBQcm9taXNlKChmdW5jdGlvbigpe30pKV19fSkpfSkpfSx0LnByb3RvdHlwZS5maW5hbGl6ZT1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGUsbixyLGk7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihvKXtzd2l0Y2goby5sYWJlbCl7Y2FzZSAwOmlmKGU9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSxuPWUucGF5bWVudC5nZXRQYXltZW50SWQoKSxyPWUuY29uZmlnLmdldENvbnRleHRDb25maWcoKSwhbil0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nQ2hlY2tvdXQpO2lmKCFyfHwhci5wYXltZW50LnRva2VuKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdDaGVja291dENvbmZpZyk7cmV0dXJuIGk9e21ldGhvZElkOm4ucHJvdmlkZXJJZCxwYXltZW50RGF0YTp7bm9uY2U6ci5wYXltZW50LnRva2VufX0sWzQsdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yLnN1Ym1pdE9yZGVyKHt9LHQpKV07Y2FzZSAxOnJldHVybiBvLnNlbnQoKSxbMix0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9wYXltZW50QWN0aW9uQ3JlYXRvci5zdWJtaXRQYXltZW50KGkpKV19fSkpfSkpfSx0LnByb3RvdHlwZS5fcmVkaXJlY3RUb0FmdGVycGF5PWZ1bmN0aW9uKHQsZSl7aWYoIXRoaXMuX2FmdGVycGF5U2RrfHwhZXx8IWUuY2xpZW50VG9rZW4pdGhyb3cgbmV3IGJ0LmIoYnQuYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO3RoaXMuX2FmdGVycGF5U2RrLmluaXRpYWxpemUoe2NvdW50cnlDb2RlOnRoaXMuX21hcENvdW50cnlUb0lTTzIodCl9KSx0aGlzLl9hZnRlcnBheVNkay5yZWRpcmVjdCh7dG9rZW46ZS5jbGllbnRUb2tlbn0pfSx0LnByb3RvdHlwZS5fbWFwQ291bnRyeVRvSVNPMj1mdW5jdGlvbih0KXtzd2l0Y2godCl7Y2FzZVwiQXVzdHJhbGlhXCI6cmV0dXJuXCJBVVwiO2Nhc2VcIk5ldyBaZWFsYW5kXCI6cmV0dXJuXCJOWlwiO2Nhc2VcIlVuaXRlZCBTdGF0ZXNcIjpyZXR1cm5cIlVTXCI7ZGVmYXVsdDpyZXR1cm5cIkFVXCJ9fSx0fSgpLFplPVwiLy9wb3J0YWwuYWZ0ZXJwYXkuY29tL2FmdGVycGF5LWFzeW5jLmpzXCIsUWU9XCIvL3BvcnRhbC1zYW5kYm94LmFmdGVycGF5LmNvbS9hZnRlcnBheS1hc3luYy5qc1wiLFhlPVwiLy9wb3J0YWwuYWZ0ZXJwYXkuY29tL2FmdGVycGF5LWFzeW5jLmpzXCIsJGU9XCIvL3BvcnRhbC51cy1zYW5kYm94LmFmdGVycGF5LmNvbS9hZnRlcnBheS1hc3luYy5qc1wiLHRuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9zY3JpcHRMb2FkZXI9dH1yZXR1cm4gdC5wcm90b3R5cGUubG9hZD1mdW5jdGlvbih0LGUpe3ZhciBuPXQuY29uZmlnLnRlc3RNb2RlfHwhMSxyPXRoaXMuX2dldFNjcmlwdFVSSShlLG4pO3JldHVybiB0aGlzLl9zY3JpcHRMb2FkZXIubG9hZFNjcmlwdChyKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB3aW5kb3cuQWZ0ZXJQYXl9KSl9LHQucHJvdG90eXBlLl9nZXRTY3JpcHRVUkk9ZnVuY3Rpb24odCxlKXtyZXR1cm5cIlVTXCI9PT10P2U/JGU6WGU6ZT9RZTpaZX0sdH0oKSxlbj1uKDU5KSxubj1uKDEzNikscm49bigxMjkpO2Z1bmN0aW9uIG9uKHQsZSl7cmV0dXJuIE9iamVjdChCdC5pc0VxdWFsKShhbih0KSxhbihlKSl9ZnVuY3Rpb24gYW4odCl7dmFyIGUsbj1bXCJpZFwiLFwicHJvdmluY2VDb2RlXCJdO3JldHVybiBPYmplY3Qua2V5cygoZT10LE9iamVjdChybi5hKShlLChmdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3Qobm4uYSkoZSl9KSl8fHt9KSkucmVkdWNlKChmdW5jdGlvbihlLHIpe3ZhciBpO3JldHVybi0xPT09bi5pbmRleE9mKHIpJiZ0W3JdP09iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30sZSksKChpPXt9KVtyXT10W3JdLGkpKTplfSkse30pfWZ1bmN0aW9uIHNuKHQpe3JldHVybntpZDp0LmlkLGZpcnN0TmFtZTp0LmZpcnN0TmFtZSxsYXN0TmFtZTp0Lmxhc3ROYW1lLGNvbXBhbnk6dC5jb21wYW55LGFkZHJlc3MxOnQuYWRkcmVzc0xpbmUxLGFkZHJlc3MyOnQuYWRkcmVzc0xpbmUyLGNpdHk6dC5jaXR5LHN0YXRlT3JQcm92aW5jZTp0LnByb3ZpbmNlLHN0YXRlT3JQcm92aW5jZUNvZGU6dC5wcm92aW5jZUNvZGUscG9zdGFsQ29kZTp0LnBvc3RDb2RlLGNvdW50cnk6dC5jb3VudHJ5LGNvdW50cnlDb2RlOnQuY291bnRyeUNvZGUscGhvbmU6dC5waG9uZSxjdXN0b21GaWVsZHM6dC5jdXN0b21GaWVsZHN9fXZhciBjbj1uKDE4MSksdW49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIsaSl7dGhpcy5fc3RvcmU9dCx0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3I9ZSx0aGlzLl9iaWxsaW5nQWRkcmVzc0FjdGlvbkNyZWF0b3I9bix0aGlzLl9yZW1vdGVDaGVja291dEFjdGlvbkNyZWF0b3I9cix0aGlzLl9zY3JpcHRMb2FkZXI9aSx0aGlzLl93aW5kb3c9d2luZG93LHRoaXMuX2lzUGF5bWVudE1ldGhvZFNlbGVjdGVkPSExfXJldHVybiB0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10LmFtYXpvbixyPXQubWV0aG9kSWQsaT10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2Qocik7aWYoIW4pdGhyb3cgbmV3IEl0LmEoJ1VuYWJsZSB0byBpbml0aWFsaXplIHBheW1lbnQgYmVjYXVzZSBcIm9wdGlvbnMuYW1hem9uXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicpO2lmKCFpKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdQYXltZW50TWV0aG9kKTtyZXR1cm4gdGhpcy5fd2FsbGV0T3B0aW9ucz1uLHRoaXMuX3BheW1lbnRNZXRob2Q9aSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCxyKXtlLl9zY3JpcHRMb2FkZXIubG9hZFdpZGdldChpLChmdW5jdGlvbigpe2UuX2NyZWF0ZVdhbGxldChuKS50aGVuKHQpLmNhdGNoKHIpfSkpLmNhdGNoKHIpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGUuX3N0b3JlLmdldFN0YXRlKCl9KSl9LHQucHJvdG90eXBlLmRlaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl93YWxsZXRPcHRpb25zPXZvaWQgMCxQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSl9LHQucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9dGhpcy5fZ2V0T3JkZXJSZWZlcmVuY2VJZCgpLGk9dGhpcy5fZ2V0TWVyY2hhbnRJZCgpO2lmKCFyfHwhaSl0aHJvdyBuZXcgYnQuYihidC5hLlBheW1lbnROb3RJbml0aWFsaXplZCk7aWYoIXQucGF5bWVudCl0aHJvdyBuZXcgSXQuYSgnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBcInBheWxvYWQucGF5bWVudC5tZXRob2RJZFwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nKTtpZighdGhpcy5faXNQYXltZW50TWV0aG9kU2VsZWN0ZWQpdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ1BheW1lbnRNZXRob2QpO3ZhciBvPXQucGF5bWVudCxhPShvLnBheW1lbnREYXRhLE9iamVjdChkLl9fcmVzdCkobyxbXCJwYXltZW50RGF0YVwiXSkpLHM9dC51c2VTdG9yZUNyZWRpdDtyZXR1cm4gZSYmdGhpcy5fcGF5bWVudE1ldGhvZCYmdGhpcy5fcGF5bWVudE1ldGhvZC5jb25maWcuaXMzZHNFbmFibGVkP3RoaXMuX3Byb2Nlc3NQYXltZW50V2l0aDNkcyhpLHIsYS5tZXRob2RJZCxzLGUpOnRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3JlbW90ZUNoZWNrb3V0QWN0aW9uQ3JlYXRvci5pbml0aWFsaXplUGF5bWVudChhLm1ldGhvZElkLHtyZWZlcmVuY2VJZDpyLHVzZVN0b3JlQ3JlZGl0OnN9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gbi5fc3RvcmUuZGlzcGF0Y2gobi5fb3JkZXJBY3Rpb25DcmVhdG9yLnN1Ym1pdE9yZGVyKE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30sdCkse3BheW1lbnQ6YX0pLGUpKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBGZS5hJiZcInByb3ZpZGVyX3dpZGdldF9lcnJvclwiPT09dC5ib2R5LnR5cGUmJm4uX3dhbGxldE9wdGlvbnM/bi5fY3JlYXRlV2FsbGV0KG4uX3dhbGxldE9wdGlvbnMpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KHQpfSkpOlByb21pc2UucmVqZWN0KHQpfSkpfSx0LnByb3RvdHlwZS5maW5hbGl6ZT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlamVjdChuZXcgS3QpfSx0LnByb3RvdHlwZS5fZ2V0TWVyY2hhbnRJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXltZW50TWV0aG9kJiZ0aGlzLl9wYXltZW50TWV0aG9kLmNvbmZpZy5tZXJjaGFudElkfSx0LnByb3RvdHlwZS5fZ2V0T3JkZXJSZWZlcmVuY2VJZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3N0b3JlLmdldFN0YXRlKCkucmVtb3RlQ2hlY2tvdXQuZ2V0Q2hlY2tvdXQoXCJhbWF6b25cIik7cmV0dXJuIHQ/dC5yZWZlcmVuY2VJZDp2b2lkIDB9LHQucHJvdG90eXBlLl9nZXRPcmRlclJlZmVyZW5jZUlkRnJvbUluaXRpYWxpemF0aW9uRGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXltZW50TWV0aG9kP3RoaXMuX3BheW1lbnRNZXRob2QuaW5pdGlhbGl6YXRpb25EYXRhLm9yZGVyUmVmZXJlbmNlSWQ6dm9pZCAwfSx0LnByb3RvdHlwZS5fY3JlYXRlV2FsbGV0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe3ZhciBpPXQuY29udGFpbmVyLG89dC5vbkVycm9yLGE9dm9pZCAwPT09bz9CdC5ub29wOm8scz10Lm9uUGF5bWVudFNlbGVjdCxjPXZvaWQgMD09PXM/QnQubm9vcDpzLHU9dC5vblJlYWR5LGQ9dm9pZCAwPT09dT9CdC5ub29wOnUscD1lLl9nZXRPcmRlclJlZmVyZW5jZUlkKCl8fGUuX2dldE9yZGVyUmVmZXJlbmNlSWRGcm9tSW5pdGlhbGl6YXRpb25EYXRhKCksaD1lLl9nZXRNZXJjaGFudElkKCk7aWYoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGkpKXJldHVybiByKG5ldyBJdC5hKFwiVW5hYmxlIHRvIGNyZWF0ZSBBbWF6b25QYXkgV2FsbGV0IHdpZGdldCB3aXRob3V0IHZhbGlkIGNvbnRhaW5lciBJRC5cIikpO2lmKCFlLl93aW5kb3cuT2ZmQW1hem9uUGF5bWVudHMpcmV0dXJuIHIobmV3IGJ0LmIoYnQuYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpKTtpZighaClyZXR1cm4gcihuZXcgdi5iKHYuYS5NaXNzaW5nUGF5bWVudE1ldGhvZCkpO3ZhciBsPXthbWF6b25PcmRlclJlZmVyZW5jZUlkOnAsZGVzaWduOntkZXNpZ25Nb2RlOlwicmVzcG9uc2l2ZVwifSxzY29wZTpcInBheW1lbnRzOmJpbGxpbmdfYWRkcmVzcyBwYXltZW50czpzaGlwcGluZ19hZGRyZXNzIHBheW1lbnRzOndpZGdldCBwcm9maWxlXCIsc2VsbGVySWQ6aCxvbkVycm9yOmZ1bmN0aW9uKHQpe3IodCksYSh0KX0sb25QYXltZW50U2VsZWN0OmZ1bmN0aW9uKHQpe2UuX3N5bmNocm9uaXplQmlsbGluZ0FkZHJlc3MoKS50aGVuKChmdW5jdGlvbigpe2UuX2lzUGF5bWVudE1ldGhvZFNlbGVjdGVkPSEwLGModCl9KSkuY2F0Y2goYSl9LG9uUmVhZHk6ZnVuY3Rpb24odCl7bigpLGQodCl9fTtlLl9nZXRPcmRlclJlZmVyZW5jZUlkKCl8fChsLm9uUmVhZHk9ZnVuY3Rpb24odCl7ZS5fdXBkYXRlT3JkZXJSZWZlcmVuY2UodCkudGhlbigoZnVuY3Rpb24oKXtuKCksZCh0KX0pKS5jYXRjaChhKX0pO3ZhciBtPW5ldyBlLl93aW5kb3cuT2ZmQW1hem9uUGF5bWVudHMuV2lkZ2V0cy5XYWxsZXQobCk7cmV0dXJuIG0uYmluZChpKSxtfSkpfSx0LnByb3RvdHlwZS5fc3luY2hyb25pemVCaWxsaW5nQWRkcmVzcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10aGlzLl9nZXRPcmRlclJlZmVyZW5jZUlkKCksbj10aGlzLl9wYXltZW50TWV0aG9kJiZ0aGlzLl9wYXltZW50TWV0aG9kLmlkO2lmKCFufHwhZSl0aHJvdyBuZXcgY24uYTtyZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcmVtb3RlQ2hlY2tvdXRBY3Rpb25DcmVhdG9yLmluaXRpYWxpemVCaWxsaW5nKG4se3JlZmVyZW5jZUlkOmV9KSkudGhlbigoZnVuY3Rpb24oZSl7dmFyIG49ZS5yZW1vdGVDaGVja291dC5nZXRDaGVja291dChcImFtYXpvblwiKSxyPW4mJm4uYmlsbGluZyYmbi5iaWxsaW5nLmFkZHJlc3MsaT1lLmJpbGxpbmdBZGRyZXNzLmdldEJpbGxpbmdBZGRyZXNzKCksbz1pJiZPYmplY3QoZW4uYSkoaSk7aWYoITE9PT1yKXRocm93IG5ldyBjbi5hO3JldHVybiFyfHxvbihyLG98fHt9KT90Ll9zdG9yZS5nZXRTdGF0ZSgpOnQuX3N0b3JlLmRpc3BhdGNoKHQuX2JpbGxpbmdBZGRyZXNzQWN0aW9uQ3JlYXRvci51cGRhdGVBZGRyZXNzKHNuKHIpKSl9KSl9LHQucHJvdG90eXBlLl91cGRhdGVPcmRlclJlZmVyZW5jZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcmVtb3RlQ2hlY2tvdXRBY3Rpb25DcmVhdG9yLnVwZGF0ZUNoZWNrb3V0KFwiYW1hem9uXCIse3JlZmVyZW5jZUlkOnQuZ2V0QW1hem9uT3JkZXJSZWZlcmVuY2VJZCgpfSkpfSx0LnByb3RvdHlwZS5fcHJvY2Vzc1BheW1lbnRXaXRoM2RzPWZ1bmN0aW9uKHQsZSxuLHIsaSl7dmFyIG89dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGEscyl7cmV0dXJuIG8uX3dpbmRvdy5PZmZBbWF6b25QYXltZW50cz9vLl93aW5kb3cuT2ZmQW1hem9uUGF5bWVudHMuaW5pdENvbmZpcm1hdGlvbkZsb3codCxlLChmdW5jdGlvbih0KXtyZXR1cm4gby5fc3RvcmUuZGlzcGF0Y2goby5fb3JkZXJBY3Rpb25DcmVhdG9yLnN1Ym1pdE9yZGVyKHt1c2VTdG9yZUNyZWRpdDpyfSxpKSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gby5fc3RvcmUuZGlzcGF0Y2goby5fcmVtb3RlQ2hlY2tvdXRBY3Rpb25DcmVhdG9yLmluaXRpYWxpemVQYXltZW50KG4se3JlZmVyZW5jZUlkOmUsdXNlU3RvcmVDcmVkaXQ6cn0pKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0LnN1Y2Nlc3MoKSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24oKXt9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3JldHVybiB0LmVycm9yKCkscyhlKX0pKX0pKTpzKG5ldyBidC5iKGJ0LmEuUGF5bWVudE5vdEluaXRpYWxpemVkKSl9KSl9LHR9KCksZG49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIsaSxvKXt0aGlzLl9zdG9yZT10LHRoaXMuX3BheW1lbnRTdHJhdGVneUFjdGlvbkNyZWF0b3I9ZSx0aGlzLl9wYXltZW50TWV0aG9kQWN0aW9uQ3JlYXRvcj1uLHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvcj1yLHRoaXMuX3BheW1lbnRBY3Rpb25DcmVhdG9yPWksdGhpcy5fYW1hem9uUGF5VjJQYXltZW50UHJvY2Vzc29yPW99cmV0dXJuIHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLG4scixpLG8sYTtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKHMpe3N3aXRjaChzLmxhYmVsKXtjYXNlIDA6aWYoZT10Lm1ldGhvZElkLG49dC5hbWF6b25wYXksIWV8fCFuKXRocm93IG5ldyBJdC5hKCdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIFwib3B0aW9ucy5hbWF6b25wYXlcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuJyk7cmV0dXJuWzQsdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3IubG9hZFBheW1lbnRNZXRob2QoZSkpXTtjYXNlIDE6cmV0dXJuIHI9cy5zZW50KCksaT1yLnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2RPclRocm93KGUpLFs0LHRoaXMuX2FtYXpvblBheVYyUGF5bWVudFByb2Nlc3Nvci5pbml0aWFsaXplKGkpXTtjYXNlIDI6cmV0dXJuIHMuc2VudCgpLG89aS5pbml0aWFsaXphdGlvbkRhdGEucGF5bWVudFRva2VuLGE9bi5lZGl0QnV0dG9uSWQsbyYmYT90aGlzLl9iaW5kRWRpdEJ1dHRvbihhLG8sXCJjaGFuZ2VQYXltZW50XCIpOnRoaXMuX3dhbGxldEJ1dHRvbj10aGlzLl9jcmVhdGVTaWduSW5CdXR0b24oaSksWzIsdGhpcy5fc3RvcmUuZ2V0U3RhdGUoKV19fSkpfSkpfSx0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBuLHIsaSxvLGEscyxjO3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24odSl7c3dpdGNoKHUubGFiZWwpe2Nhc2UgMDppZighKG49dC5wYXltZW50KSl0aHJvdyBuZXcgcWUoW1wicGF5bWVudFwiXSk7cmV0dXJuIHI9bi5tZXRob2RJZCxbNCx0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9wYXltZW50TWV0aG9kQWN0aW9uQ3JlYXRvci5sb2FkUGF5bWVudE1ldGhvZChyKSldO2Nhc2UgMTpyZXR1cm4gaT11LnNlbnQoKSxvPWkucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cociksKGE9by5pbml0aWFsaXphdGlvbkRhdGEucGF5bWVudFRva2VuKT8ocz17bWV0aG9kSWQ6cixwYXltZW50RGF0YTp7bm9uY2U6YX19LFs0LHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvci5zdWJtaXRPcmRlcih0LGUpKV0pOlszLDZdO2Nhc2UgMjp1LnNlbnQoKSx1LmxhYmVsPTM7Y2FzZSAzOnJldHVybiB1LnRyeXMucHVzaChbMyw1LCw2XSksWzQsdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcGF5bWVudEFjdGlvbkNyZWF0b3Iuc3VibWl0UGF5bWVudChzKSldO2Nhc2UgNDpyZXR1cm5bMix1LnNlbnQoKV07Y2FzZSA1OmlmKChjPXUuc2VudCgpKWluc3RhbmNlb2YgRmUuYSYmXCJhZGRpdGlvbmFsX2FjdGlvbl9yZXF1aXJlZFwiPT09Yy5ib2R5LnN0YXR1cylyZXR1cm5bMixuZXcgUHJvbWlzZSgoZnVuY3Rpb24oKXt3aW5kb3cubG9jYXRpb24ucmVwbGFjZShjLmJvZHkuYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWQuZGF0YS5yZWRpcmVjdF91cmwpfSkpXTt0aHJvdyBjO2Nhc2UgNjppZighdGhpcy5fd2FsbGV0QnV0dG9uKXRocm93IG5ldyBidC5iKGJ0LmEuUGF5bWVudE5vdEluaXRpYWxpemVkKTtyZXR1cm4gdGhpcy5fd2FsbGV0QnV0dG9uLmNsaWNrKCksWzIsbmV3IFByb21pc2UoQnQubm9vcCldfX0pKX0pKX0sdC5wcm90b3R5cGUuZmluYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEt0KX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMuX3dhbGxldEJ1dHRvbiYmdGhpcy5fd2FsbGV0QnV0dG9uLnBhcmVudE5vZGUmJih0aGlzLl93YWxsZXRCdXR0b24ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl93YWxsZXRCdXR0b24pLHRoaXMuX3dhbGxldEJ1dHRvbj12b2lkIDApLFs0LHRoaXMuX2FtYXpvblBheVYyUGF5bWVudFByb2Nlc3Nvci5kZWluaXRpYWxpemUoKV07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSxbMixQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSldfX0pKX0pKX0sdC5wcm90b3R5cGUuX2JpbmRFZGl0QnV0dG9uPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLGk9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodCk7aWYoaSYmaS5wYXJlbnROb2RlKXt2YXIgbz1pLmNsb25lTm9kZSghMCk7aS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChvLGkpLG8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHIuX3Nob3dMb2FkaW5nU3Bpbm5lcigoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFByb21pc2UoQnQubm9vcCl9KSl9KSksdGhpcy5fYW1hem9uUGF5VjJQYXltZW50UHJvY2Vzc29yLmJpbmRCdXR0b24odCxlLG4pfX0sdC5wcm90b3R5cGUuX3Nob3dMb2FkaW5nU3Bpbm5lcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcGF5bWVudFN0cmF0ZWd5QWN0aW9uQ3JlYXRvci53aWRnZXRJbnRlcmFjdGlvbigoZnVuY3Rpb24oKXtyZXR1cm4gdD90KCk6UHJvbWlzZS5yZWplY3QoKX0pKSx7cXVldWVJZDpcIndpZGdldEludGVyYWN0aW9uXCJ9KX0sdC5wcm90b3R5cGUuX2NyZWF0ZUNvbnRhaW5lcj1mdW5jdGlvbigpe3ZhciB0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiQW1hem9uUGF5QnV0dG9uXCIpO3JldHVybiB0fHwoKHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSkuaWQ9XCJBbWF6b25QYXlCdXR0b25cIix0LnN0eWxlLmRpc3BsYXk9XCJub25lXCIsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0KSl9LHQucHJvdG90eXBlLl9jcmVhdGVTaWduSW5CdXR0b249ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSxuPWUuY2FydC5nZXRDYXJ0KCkscj1lLmNvbmZpZy5nZXRTdG9yZUNvbmZpZygpO2lmKCFyKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdDaGVja291dENvbmZpZyk7aWYoIXQpdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ1BheW1lbnRNZXRob2QpO3ZhciBpPXQuY29uZmlnLG89aS5tZXJjaGFudElkLGE9aS50ZXN0TW9kZSxzPXQuaW5pdGlhbGl6YXRpb25EYXRhLGM9cy5jaGVja291dExhbmd1YWdlLHU9cy5sZWRnZXJDdXJyZW5jeSxkPXMuY2hlY2tvdXRTZXNzaW9uTWV0aG9kLHA9cy5leHRyYWN0QW1hem9uQ2hlY2tvdXRTZXNzaW9uSWQ7aWYoIW8pdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ1BheW1lbnRNZXRob2QpO3ZhciBoPXttZXJjaGFudElkOm8sc2FuZGJveDohIWEsY2hlY2tvdXRMYW5ndWFnZTpjLGxlZGdlckN1cnJlbmN5OnUscHJvZHVjdFR5cGU6biYmMD09PU9iamVjdChqdC5hKShuKT9QdC5hLlBheU9ubHk6UHQuYS5QYXlBbmRTaGlwLGNyZWF0ZUNoZWNrb3V0U2Vzc2lvbjp7bWV0aG9kOmQsdXJsOnIubGlua3Muc2l0ZUxpbmsrXCIvcmVtb3RlLWNoZWNrb3V0L1wiK3QuaWQrXCIvcGF5bWVudC1zZXNzaW9uXCIsZXh0cmFjdEFtYXpvbkNoZWNrb3V0U2Vzc2lvbklkOnB9LHBsYWNlbWVudDpQdC5iLkNoZWNrb3V0fSxsPXRoaXMuX2NyZWF0ZUNvbnRhaW5lcigpO3JldHVybiB0aGlzLl9hbWF6b25QYXlWMlBheW1lbnRQcm9jZXNzb3IuY3JlYXRlQnV0dG9uKFwiI1wiK2wuaWQsaCksbH0sdH0oKSxwbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scil7dGhpcy5fc3RvcmU9dCx0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3I9ZSx0aGlzLl9wYXltZW50QWN0aW9uQ3JlYXRvcj1uLHRoaXMuX2hvc3RlZEZvcm1GYWN0b3J5PXJ9cmV0dXJuIHQucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24odCxlKXt2YXIgbixyO3JldHVybiB0aGlzLl9pc0hvc3RlZFBheW1lbnRGb3JtRW5hYmxlZChudWxsPT09KG49dC5wYXltZW50KXx8dm9pZCAwPT09bj92b2lkIDA6bi5tZXRob2RJZCxudWxsPT09KHI9dC5wYXltZW50KXx8dm9pZCAwPT09cj92b2lkIDA6ci5nYXRld2F5SWQpJiZ0aGlzLl9zaG91bGRSZW5kZXJIb3N0ZWRGb3JtP3RoaXMuX2V4ZWN1dGVXaXRoSG9zdGVkRm9ybSh0LGUpOnRoaXMuX2V4ZWN1dGVXaXRob3V0SG9zdGVkRm9ybSh0LGUpfSx0LnByb3RvdHlwZS5maW5hbGl6ZT1mdW5jdGlvbih0KXtyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEt0KX0sdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKCF0aGlzLl9pc0hvc3RlZFBheW1lbnRGb3JtRW5hYmxlZChudWxsPT10P3ZvaWQgMDp0Lm1ldGhvZElkLG51bGw9PXQ/dm9pZCAwOnQuZ2F0ZXdheUlkKXx8IXRoaXMuX2lzSG9zdGVkRmllbGRBdmFpbGFibGUodCkpcmV0dXJuIHRoaXMuX3Nob3VsZFJlbmRlckhvc3RlZEZvcm09ITEsUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3N0b3JlLmdldFN0YXRlKCkpO3ZhciBuPXQmJnQuY3JlZGl0Q2FyZCYmdC5jcmVkaXRDYXJkLmZvcm0scj0odGhpcy5fc3RvcmUuZ2V0U3RhdGUoKS5jb25maWcuZ2V0U3RvcmVDb25maWcoKXx8e30pLnBheW1lbnRTZXR0aW5ncyxpPSh2b2lkIDA9PT1yP3t9OnIpLmJpZ3BheUJhc2VVcmwsbz12b2lkIDA9PT1pP1wiXCI6aTtpZighbil0aHJvdyBuZXcgSXQuYTt2YXIgYT10aGlzLl9ob3N0ZWRGb3JtRmFjdG9yeS5jcmVhdGUobyxuKTtyZXR1cm4gYS5hdHRhY2goKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBlLl9zaG91bGRSZW5kZXJIb3N0ZWRGb3JtPSEwLGUuX2hvc3RlZEZvcm09YSxlLl9zdG9yZS5nZXRTdGF0ZSgpfSkpfSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2hvc3RlZEZvcm0mJnRoaXMuX2hvc3RlZEZvcm0uZGV0YWNoKCksUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3N0b3JlLmdldFN0YXRlKCkpfSx0LnByb3RvdHlwZS5fZXhlY3V0ZVdpdGhvdXRIb3N0ZWRGb3JtPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXQucGF5bWVudCxpPU9iamVjdChkLl9fcmVzdCkodCxbXCJwYXltZW50XCJdKSxvPXImJnIucGF5bWVudERhdGE7aWYoIXJ8fCFvKXRocm93IG5ldyBxZShbXCJwYXltZW50LnBheW1lbnREYXRhXCJdKTtyZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yLnN1Ym1pdE9yZGVyKGksZSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIG4uX3N0b3JlLmRpc3BhdGNoKG4uX3BheW1lbnRBY3Rpb25DcmVhdG9yLnN1Ym1pdFBheW1lbnQoT2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSxyKSx7cGF5bWVudERhdGE6b30pKSl9KSl9LHQucHJvdG90eXBlLl9leGVjdXRlV2l0aEhvc3RlZEZvcm09ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9dC5wYXltZW50LGk9T2JqZWN0KGQuX19yZXN0KSh0LFtcInBheW1lbnRcIl0pLG89dGhpcy5faG9zdGVkRm9ybTtpZighbyl0aHJvdyBuZXcgYnQuYihidC5hLlBheW1lbnROb3RJbml0aWFsaXplZCk7aWYoIXJ8fCFyLm1ldGhvZElkKXRocm93IG5ldyBxZShbXCJwYXltZW50Lm1ldGhvZElkXCJdKTtyZXR1cm4gby52YWxpZGF0ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIG4uX3N0b3JlLmRpc3BhdGNoKG4uX29yZGVyQWN0aW9uQ3JlYXRvci5zdWJtaXRPcmRlcihpLGUpKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBvLnN1Ym1pdChyKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBuLl9zdG9yZS5kaXNwYXRjaChuLl9vcmRlckFjdGlvbkNyZWF0b3IubG9hZEN1cnJlbnRPcmRlcigpKX0pKX0sdC5wcm90b3R5cGUuX2lzSG9zdGVkUGF5bWVudEZvcm1FbmFibGVkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuISF0JiYhMD09PSgwLHRoaXMuX3N0b3JlLmdldFN0YXRlKCkucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cpKHQsZSkuY29uZmlnLmlzSG9zdGVkRm9ybUVuYWJsZWR9LHQucHJvdG90eXBlLl9pc0hvc3RlZEZpZWxkQXZhaWxhYmxlPWZ1bmN0aW9uKHQpe3JldHVybiFPYmplY3QoQnQudmFsdWVzKSh0JiZ0LmNyZWRpdENhcmQmJnQuY3JlZGl0Q2FyZC5mb3JtLmZpZWxkcykuZXZlcnkoQnQuaXNOaWwpfSx0fSgpLGhuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsaSxvKXt2YXIgYT10LmNhbGwodGhpcyxlLG4scixpKXx8dGhpcztyZXR1cm4gYS5fdGhyZWVEU2VjdXJlRmxvdz1vLGF9cmV0dXJuIE9iamVjdChkLl9fZXh0ZW5kcykoZSx0KSxlLnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbixyO3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24oaSl7c3dpdGNoKGkubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0LnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcyxlKV07Y2FzZSAxOnJldHVybiBpLnNlbnQoKSxuPXRoaXMuX3N0b3JlLmdldFN0YXRlKCkucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3csKHI9bihlLm1ldGhvZElkKSkuY29uZmlnLmlzM2RzRW5hYmxlZD9bNCx0aGlzLl90aHJlZURTZWN1cmVGbG93LnByZXBhcmUocildOlszLDNdO2Nhc2UgMjppLnNlbnQoKSxpLmxhYmVsPTM7Y2FzZSAzOnJldHVyblsyLHRoaXMuX3N0b3JlLmdldFN0YXRlKCldfX0pKX0pKX0sZS5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbihlLG4pe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgcixpLG87cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihhKXtyZXR1cm4gcj1lLnBheW1lbnQsaT0odm9pZCAwPT09cj97fTpyKS5tZXRob2RJZCxvPXZvaWQgMD09PWk/XCJcIjppLCgwLHRoaXMuX3N0b3JlLmdldFN0YXRlKCkucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cpKG8pLmNvbmZpZy5pczNkc0VuYWJsZWQ/WzIsdGhpcy5fdGhyZWVEU2VjdXJlRmxvdy5zdGFydCh0LnByb3RvdHlwZS5leGVjdXRlLmJpbmQodGhpcyksZSxuLHRoaXMuX2hvc3RlZEZvcm0pXTpbMix0LnByb3RvdHlwZS5leGVjdXRlLmNhbGwodGhpcyxlLG4pXX0pKX0pKX0sZX0ocG4pLGxuPW4oMzgpLG1uPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dGhpcy5fc3RvcmU9dCx0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3I9ZSx0aGlzLl9wYXltZW50QWN0aW9uQ3JlYXRvcj1ufXJldHVybiB0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBuLHIsaSxvLGEscztyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKGMpe3N3aXRjaChjLmxhYmVsKXtjYXNlIDA6aWYoIShuPXQucGF5bWVudCkpdGhyb3cgbmV3IHFlKFtcInBheW1lbnRcIl0pO2lmKCF0aGlzLl9pbml0aWFsaXplT3B0aW9ucyl0aHJvdyBuZXcgYnQuYihidC5hLlBheW1lbnROb3RJbml0aWFsaXplZCk7cmV0dXJuWzQsdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yLnN1Ym1pdE9yZGVyKHQsZSkpXTtjYXNlIDE6cmV0dXJuIGMuc2VudCgpLHI9dGhpcy5faW5pdGlhbGl6ZU9wdGlvbnMsaT1yLm9uTG9hZCxvPXIuc3R5bGUsYT10aGlzLl9jcmVhdGVJZnJhbWUoXCJibHVlc25hcHYyX2hvc3RlZF9wYXltZW50X3BhZ2VcIixvKSxzPW5ldyBlZShuZXcgUHJvbWlzZShCdC5ub29wKSksaShhLChmdW5jdGlvbigpe3JldHVybiBzLmNhbmNlbChuZXcgVWUpfSkpLFsyLHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3BheW1lbnRBY3Rpb25DcmVhdG9yLmluaXRpYWxpemVPZmZzaXRlUGF5bWVudCh7bWV0aG9kSWQ6bi5tZXRob2RJZCxnYXRld2F5SWQ6bi5nYXRld2F5SWQsc2hvdWxkU2F2ZUluc3RydW1lbnQ6ITEsdGFyZ2V0OmEubmFtZSxwcm9taXNlOnMucHJvbWlzZX0pKV19fSkpfSkpfSx0LnByb3RvdHlwZS5maW5hbGl6ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLG49ZS5vcmRlci5nZXRPcmRlcigpLHI9ZS5wYXltZW50LmdldFBheW1lbnRTdGF0dXMoKTtyZXR1cm4hbnx8ciE9PWxuLmEmJnIhPT1sbi5iP1Byb21pc2UucmVqZWN0KG5ldyBLdCk6dGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yLmZpbmFsaXplT3JkZXIobi5vcmRlcklkLHQpKX0sdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5faW5pdGlhbGl6ZU9wdGlvbnM9dCYmdC5ibHVlc25hcHYyLFByb21pc2UucmVzb2x2ZSh0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpKX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpKX0sdC5wcm90b3R5cGUuX2NyZWF0ZUlmcmFtZT1mdW5jdGlvbih0LGUpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7aWYobi5uYW1lPXQsZSl7dmFyIHI9ZS5ib3JkZXIsaT1lLmhlaWdodCxvPWUud2lkdGg7bi5zdHlsZS5ib3JkZXI9cixuLnN0eWxlLmhlaWdodD1pLG4uc3R5bGUud2lkdGg9b31yZXR1cm4gbn0sdH0oKTt2YXIgZm49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIsaSxvKXt0aGlzLl9zdG9yZT10LHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvcj1lLHRoaXMuX3BheW1lbnRBY3Rpb25DcmVhdG9yPW4sdGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3I9cix0aGlzLl9zdG9yZUNyZWRpdEFjdGlvbkNyZWF0b3I9aSx0aGlzLl9ib2x0U2NyaXB0TG9hZGVyPW8sdGhpcy5fdXNlQm9sdENsaWVudD0hMX1yZXR1cm4gdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGUsbixyLGksbyxhO3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24ocyl7c3dpdGNoKHMubGFiZWwpe2Nhc2UgMDppZihlPXQuYm9sdCxuPXQubWV0aG9kSWQsdGhpcy5fdXNlQm9sdENsaWVudD0hKCFlfHwhZS51c2VCaWdDb21tZXJjZUNoZWNrb3V0KSwhdGhpcy5fdXNlQm9sdENsaWVudClyZXR1cm5bMywyXTtpZihyPXRoaXMuX3N0b3JlLmdldFN0YXRlKCksIShpPXIucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZChuKSl8fCFpLmluaXRpYWxpemF0aW9uRGF0YS5wdWJsaXNoYWJsZUtleSl0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7cmV0dXJuIG89aS5pbml0aWFsaXphdGlvbkRhdGEucHVibGlzaGFibGVLZXksYT10aGlzLFs0LHRoaXMuX2JvbHRTY3JpcHRMb2FkZXIubG9hZChvLGkuY29uZmlnLnRlc3RNb2RlKV07Y2FzZSAxOmEuX2JvbHRDbGllbnQ9cy5zZW50KCkscy5sYWJlbD0yO2Nhc2UgMjpyZXR1cm5bMixQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSldfX0pKX0pKX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JvbHRDbGllbnQ9dm9pZCAwLFByb21pc2UucmVzb2x2ZSh0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpKX0sdC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl91c2VCb2x0Q2xpZW50P1syLHRoaXMuX2V4ZWN1dGVXaXRoQm9sdENsaWVudCh0LGUpXTpbMix0aGlzLl9leGVjdXRlV2l0aEJvbHRDaGVja291dCh0LGUpXX0pKX0pKX0sdC5wcm90b3R5cGUuZmluYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEt0KX0sdC5wcm90b3R5cGUuX2V4ZWN1dGVXaXRoQm9sdENsaWVudD1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbixyLGksbyxhLHMsYyx1LHAsaDtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKGwpe3N3aXRjaChsLmxhYmVsKXtjYXNlIDA6aWYobj10LnBheW1lbnQscj1PYmplY3QoZC5fX3Jlc3QpKHQsW1wicGF5bWVudFwiXSksIW4pdGhyb3cgbmV3IHFlKFtcInBheW1lbnRcIl0pO2lmKCF0aGlzLl9ib2x0Q2xpZW50KXRocm93IG5ldyBidC5iKGJ0LmEuUGF5bWVudE5vdEluaXRpYWxpemVkKTtyZXR1cm4gaT10aGlzLl9ib2x0Q2xpZW50LFs0LHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvci5zdWJtaXRPcmRlcihyLGUpKV07Y2FzZSAxOnJldHVybiBsLnNlbnQoKSx2b2lkIDA9PT0obz10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLmNoZWNrb3V0LmdldENoZWNrb3V0T3JUaHJvdygpLmlzU3RvcmVDcmVkaXRBcHBsaWVkKT9bMywzXTpbNCx0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9zdG9yZUNyZWRpdEFjdGlvbkNyZWF0b3IuYXBwbHlTdG9yZUNyZWRpdChvKSldO2Nhc2UgMjpsLnNlbnQoKSxsLmxhYmVsPTM7Y2FzZSAzOnJldHVybls0LHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yLmxvYWRQYXltZW50TWV0aG9kKG4ubWV0aG9kSWQsZSkpXTtjYXNlIDQ6aWYoYT1sLnNlbnQoKSwhKHM9YS5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kKG4ubWV0aG9kSWQpKXx8IXMuY2xpZW50VG9rZW4pdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ1BheW1lbnRNZXRob2QpO3JldHVybiBjPXMuY2xpZW50VG9rZW4sWzQsbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsZSl7dmFyIG49e3N1Y2Nlc3M6ZnVuY3Rpb24oZSxuKXt0KGUpLG4oKX0sY2xvc2U6ZnVuY3Rpb24oKXtlKG5ldyBVZSl9fTtpLmNvbmZpZ3VyZSh7b3JkZXJUb2tlbjpjfSx7fSxuKS5vcGVuKCl9KSldO2Nhc2UgNTpyZXR1cm4gdT1sLnNlbnQoKSxwPW4ucGF5bWVudERhdGEuc2hvdWxkU2F2ZUluc3RydW1lbnQsaD17bWV0aG9kSWQ6bi5tZXRob2RJZCxwYXltZW50RGF0YTp7bm9uY2U6dS5yZWZlcmVuY2Usc2hvdWxkU2F2ZUluc3RydW1lbnQ6cH19LFsyLHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3BheW1lbnRBY3Rpb25DcmVhdG9yLnN1Ym1pdFBheW1lbnQoaCkpXX19KSl9KSl9LHQucHJvdG90eXBlLl9leGVjdXRlV2l0aEJvbHRDaGVja291dD1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbixyLGksbztyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKGEpe3N3aXRjaChhLmxhYmVsKXtjYXNlIDA6aWYobj10LnBheW1lbnQscj1PYmplY3QoZC5fX3Jlc3QpKHQsW1wicGF5bWVudFwiXSksIW4pdGhyb3cgbmV3IHFlKFtcInBheW1lbnRcIl0pO2lmKGk9bi5tZXRob2RJZCxvPW4ucGF5bWVudERhdGEsIWkpdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ1BheW1lbnRNZXRob2QpO2lmKCFvfHwhQm9vbGVhbihvLm5vbmNlKSl0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nUGF5bWVudCk7cmV0dXJuWzQsdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yLnN1Ym1pdE9yZGVyKHIsZSkpXTtjYXNlIDE6cmV0dXJuIGEuc2VudCgpLFsyLHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3BheW1lbnRBY3Rpb25DcmVhdG9yLnN1Ym1pdFBheW1lbnQoe21ldGhvZElkOmkscGF5bWVudERhdGE6b30pKV19fSkpfSkpfSx0fSgpLF9uPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZvaWQgMD09PWUmJihlPXdpbmRvdyksdGhpcy5fc2NyaXB0TG9hZGVyPXQsdGhpcy5fd2luZG93PWV9cmV0dXJuIHQucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG47cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybiBuPXthc3luYzohMCxhdHRyaWJ1dGVzOntpZDpcImJvbHQtY29ubmVjdFwiLFwiZGF0YS1wdWJsaXNoYWJsZS1rZXlcIjp0fX0sWzQsdGhpcy5fc2NyaXB0TG9hZGVyLmxvYWRTY3JpcHQoXCIvL2Nvbm5lY3RcIisoZT9cIi1zYW5kYm94XCI6XCJcIikrXCIuYm9sdC5jb20vY29ubmVjdC1iaWdjb21tZXJjZS5qc1wiLG4pXTtjYXNlIDE6aWYoci5zZW50KCksIXRoaXMuX3dpbmRvdy5Cb2x0Q2hlY2tvdXQpdGhyb3cgbmV3ICQuYTtyZXR1cm5bMix0aGlzLl93aW5kb3cuQm9sdENoZWNrb3V0XX19KSl9KSl9LHR9KCk7dmFyIHluLGduPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2YXIgZT10aGlzLl9jcmVhdGVFbGVtZW50cyh0KSxuPWUuZWxlbWVudCxyPWUuY2xvc2VFbGVtZW50LGk9ZS5tYWluRWxlbWVudDt0aGlzLl9lbGVtZW50PW4sdGhpcy5fY2xvc2VFbGVtZW50PXIsdGhpcy5fbWFpbkVsZW1lbnQ9aX1yZXR1cm4gdC5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMuX21haW5FbGVtZW50LnBhcmVudEVsZW1lbnR8fCh0aGlzLl9yZWdpc3RlckNsaWNrKHQpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5fbWFpbkVsZW1lbnQpLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIGUuX2VsZW1lbnQuc3R5bGUub3BhY2l0eT1cIjFcIn0pKSl9LHQucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5fbWFpbkVsZW1lbnQucGFyZW50RWxlbWVudCYmKHRoaXMuX3VucmVnaXN0ZXJDbGljayYmdGhpcy5fdW5yZWdpc3RlckNsaWNrKCksdGhpcy5fcmVtb3ZlQWZ0ZXJUcmFuc2l0aW9uKCksc2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gdC5fZWxlbWVudC5zdHlsZS5vcGFjaXR5PVwiMFwifSkpKX0sdC5wcm90b3R5cGUuX2NyZWF0ZUVsZW1lbnRzPWZ1bmN0aW9uKHQpe3ZhciBlLG4scixpLG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxhPXR8fHt9LHM9YS5iYWNrZ3JvdW5kLGM9dm9pZCAwPT09cz9cInJnYmEoMCwgMCwgMCwgMC44KVwiOnMsdT1hLmlkLGQ9dm9pZCAwPT09dT9cImNoZWNrb3V0T3ZlcmxheVwiOnUscD1hLnRyYW5zaXRpb25EdXJhdGlvbixoPXZvaWQgMD09PXA/NDAwOnAsbD1hLmhhc0Nsb3NlQnV0dG9uLG09YS5pbm5lckh0bWwsZj1vO2lmKGQmJihvLmlkPWQpLG0pe3ZhciBfPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aT1kK1wiLS1vdmVybGF5VGV4dFwiLF8uY2xhc3NOYW1lPWksXy5hcHBlbmRDaGlsZChtKSxvLmFwcGVuZENoaWxkKF8pfXJldHVybiBsJiYocj1kK1wiLS1jbG9zZVwiLChlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLmNsYXNzTmFtZT1yLG49ZCtcIi0tbGF5b3V0XCIsKGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSkuY2xhc3NOYW1lPW4sZi5hcHBlbmRDaGlsZChvKSxmLmFwcGVuZENoaWxkKGUpKSxmLmFwcGVuZENoaWxkKGZ1bmN0aW9uKHQpe3ZhciBlPXQuaWQsbj10LmJhY2tncm91bmQscj10LnRyYW5zaXRpb25EdXJhdGlvbixpPXQuY2xhc3NMYXlvdXQsbz10LmNsYXNzT3ZlcmxheVRleHQsYT10LmNsYXNzQ2xvc2Uscz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIiksYz1pP1wiLCAuXCIraTpcIlwiO3JldHVybiBzLmlkPWUrXCItLXN0eWxlc1wiLHMudHlwZT1cInRleHQvY3NzXCIscy5pbm5lclRleHQ9XCJcXG4gICAgICAgICNcIitlK2MrXCIge1xcbiAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICAgICAgICAgIGhlaWdodDogMTAwJTtcXG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcXG4gICAgICAgICAgICBsZWZ0OiAwO1xcbiAgICAgICAgICAgIHRvcDogMDtcXG4gICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XFxuICAgICAgICAgICAgei1pbmRleDogMjE0NzQ4MzY0NztcXG4gICAgICAgIH1cXG4gICAgICAgICNcIitlK1wiIHtcXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IFwiK3IrXCJtcyBlYXNlLW91dDtcXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIituK1wiO1xcbiAgICAgICAgICAgIG9wYWNpdHk6IDA7XFxuICAgICAgICB9XFxuICAgIFwiLG8mJihzLmlubmVyVGV4dCs9XCJcXG4gICAgICAgICAgICAgI1wiK2UrXCIge1xcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAjXCIrZStcIiAuXCIrbytcIiB7XFxuICAgICAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcXG4gICAgICAgICAgICAgICAgbWF4LXdpZHRoOiAzMzBweDtcXG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAxLjJlbTtcXG4gICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgICAgICAgICAgICB9XFxuICAgICAgICBcIiksYSYmKHMuaW5uZXJUZXh0Kz1cIlxcbiAgICAgICAgICAgICNcIitlK1wiIHtcXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgLlwiK2krXCIgLlwiK2ErXCIge1xcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XFxuICAgICAgICAgICAgICAgIHJpZ2h0OiAxNnB4O1xcbiAgICAgICAgICAgICAgICB0b3A6IDE2cHg7XFxuICAgICAgICAgICAgICAgIHdpZHRoOiAxNnB4O1xcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDE2cHg7XFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuNjtcXG4gICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xcbiAgICAgICAgICAgICAgICB6LWluZGV4OiAzMTQ3NDgzNjQ3O1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAuXCIraStcIiAuXCIrYStcIjo6YWZ0ZXIsIC5cIitpK1wiIC5cIithK1wiOjpiZWZvcmUge1xcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgICAgICAgICAgICAgIGxlZnQ6IDhweDtcXG4gICAgICAgICAgICAgICAgY29udGVudDogJyc7XFxuICAgICAgICAgICAgICAgIGhlaWdodDogMTZweDtcXG4gICAgICAgICAgICAgICAgd2lkdGg6IDJweDtcXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgLlwiK2krXCIgLlwiK2ErXCI6OmFmdGVyIHtcXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoLTQ1ZGVnKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgLlwiK2krXCIgLlwiK2ErXCI6OmJlZm9yZSB7XFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKDQ1ZGVnKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICBcIiksc30oe2lkOmQsYmFja2dyb3VuZDpjLHRyYW5zaXRpb25EdXJhdGlvbjpoLGNsYXNzTGF5b3V0Om4sY2xhc3NPdmVybGF5VGV4dDppLGNsYXNzQ2xvc2U6cn0pKSx7ZWxlbWVudDpvLGNsb3NlRWxlbWVudDplLG1haW5FbGVtZW50OmZ9fSx0LnByb3RvdHlwZS5fYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbih0LGUpe3QmJmUmJnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZSl9LHQucHJvdG90eXBlLl9yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKHQsZSl7dCYmZSYmdC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIixlKX0sdC5wcm90b3R5cGUuX3JlZ2lzdGVyQ2xpY2s9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZih0aGlzLl91bnJlZ2lzdGVyQ2xpY2smJnRoaXMuX3VucmVnaXN0ZXJDbGljaygpLHQpe3ZhciBuPXQub25DbGljayxyPXQub25DbGlja0Nsb3NlO3RoaXMuX2FkZEV2ZW50TGlzdGVuZXIodGhpcy5fZWxlbWVudCxuKSx0aGlzLl9hZGRFdmVudExpc3RlbmVyKHRoaXMuX2Nsb3NlRWxlbWVudCxyKSx0aGlzLl91bnJlZ2lzdGVyQ2xpY2s9ZnVuY3Rpb24oKXtlLl9yZW1vdmVFdmVudExpc3RlbmVyKGUuX2VsZW1lbnQsbiksZS5fcmVtb3ZlRXZlbnRMaXN0ZW5lcihlLl9jbG9zZUVsZW1lbnQsciksZS5fdW5yZWdpc3RlckNsaWNrPXZvaWQgMH19fSx0LnByb3RvdHlwZS5fcmVtb3ZlQWZ0ZXJUcmFuc2l0aW9uPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPWZ1bmN0aW9uKG4pe1wib3BhY2l0eVwiPT09bi5wcm9wZXJ0eU5hbWUmJih0Ll9tYWluRWxlbWVudC5wYXJlbnRFbGVtZW50JiZ0Ll9tYWluRWxlbWVudC5yZW1vdmUoKSx0Ll9lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0cmFuc2l0aW9uZW5kXCIsZSkpfTt0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFuc2l0aW9uZW5kXCIsZSl9LHR9KCksYm49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3ZhciByPXQuY2FsbCh0aGlzLG58fFwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgcGF5bWVudCBmb3JtIGNvbnRhaW5zIGludmFsaWQgZGF0YS5cIil8fHRoaXM7cmV0dXJuIHIuZGV0YWlscz1lLHIubmFtZT1cIlBheW1lbnRJbnZhbGlkRm9ybUVycm9yXCIsci50eXBlPVwicGF5bWVudF9pbnZhbGlkX2Zvcm1cIixyfXJldHVybiBPYmplY3QoZC5fX2V4dGVuZHMpKGUsdCksZX0oaHQuYSk7IWZ1bmN0aW9uKHQpe3QuQ2FyZENvZGU9XCJjYXJkQ29kZVwiLHQuQ2FyZENvZGVWZXJpZmljYXRpb249XCJjYXJkQ29kZVZlcmlmaWNhdGlvblwiLHQuQ2FyZEV4cGlyeT1cImNhcmRFeHBpcnlcIix0LkNhcmROYW1lPVwiY2FyZE5hbWVcIix0LkNhcmROdW1iZXI9XCJjYXJkTnVtYmVyXCIsdC5DYXJkTnVtYmVyVmVyaWZpY2F0aW9uPVwiY2FyZE51bWJlclZlcmlmaWNhdGlvblwifSh5bnx8KHluPXt9KSk7dmFyIHZuLENuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZhciBuLHI9dGhpczt0aGlzLl9vcHRpb25zPXQsdGhpcy5fc3R5bGVzPWUsdGhpcy5faGFuZGxlQmx1cj1mdW5jdGlvbigpe3ZhciB0O3IuX2FwcGx5U3R5bGVzKG51bGw9PT0odD1yLl9zdHlsZXMpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmRlZmF1bHQpfSx0aGlzLl9oYW5kbGVGb2N1cz1mdW5jdGlvbigpe3ZhciB0O3IuX2FwcGx5U3R5bGVzKG51bGw9PT0odD1yLl9zdHlsZXMpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmZvY3VzKX0sdGhpcy5faW5wdXQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpLHRoaXMuX2lucHV0LnN0eWxlLmJhY2tncm91bmRDb2xvcj1cInRyYW5zcGFyZW50XCIsdGhpcy5faW5wdXQuc3R5bGUuYm9yZGVyPVwiMFwiLHRoaXMuX2lucHV0LnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiLHRoaXMuX2lucHV0LnN0eWxlLmhlaWdodD1cIjEwMCVcIix0aGlzLl9pbnB1dC5zdHlsZS5tYXJnaW49XCIwXCIsdGhpcy5faW5wdXQuc3R5bGUub3V0bGluZT1cIm5vbmVcIix0aGlzLl9pbnB1dC5zdHlsZS5wYWRkaW5nPVwiMFwiLHRoaXMuX2lucHV0LnN0eWxlLndpZHRoPVwiMTAwJVwiLHRoaXMuX2lucHV0LnBsYWNlaG9sZGVyPXRoaXMuX29wdGlvbnMucGxhY2Vob2xkZXJ8fFwiXCIsdGhpcy5faW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIix0aGlzLl9oYW5kbGVCbHVyKSx0aGlzLl9pbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIix0aGlzLl9oYW5kbGVGb2N1cyksdGhpcy5fYXBwbHlTdHlsZXMobnVsbD09PShuPXRoaXMuX3N0eWxlcyl8fHZvaWQgMD09PW4/dm9pZCAwOm4uZGVmYXVsdCl9cmV0dXJuIHQucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lucHV0LnZhbHVlfSx0LnByb3RvdHlwZS5hdHRhY2g9ZnVuY3Rpb24oKXt2YXIgdD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLl9vcHRpb25zLmNvbnRhaW5lcklkKTtpZighdCl0aHJvdyBuZXcgSXQuYTt0LmFwcGVuZENoaWxkKHRoaXMuX2lucHV0KX0sdC5wcm90b3R5cGUuZGV0YWNoPWZ1bmN0aW9uKCl7dmFyIHQ7bnVsbD09PSh0PXRoaXMuX2lucHV0LnBhcmVudE5vZGUpfHx2b2lkIDA9PT10fHx0LnJlbW92ZUNoaWxkKHRoaXMuX2lucHV0KX0sdC5wcm90b3R5cGUub249ZnVuY3Rpb24odCxlKXt0aGlzLl9pbnB1dC5hZGRFdmVudExpc3RlbmVyKHQsZSl9LHQucHJvdG90eXBlLm9mZj1mdW5jdGlvbih0LGUpe3RoaXMuX2lucHV0LnJlbW92ZUV2ZW50TGlzdGVuZXIodCxlKX0sdC5wcm90b3R5cGUuX2FwcGx5U3R5bGVzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dCYmT2JqZWN0LmtleXModCkuZm9yRWFjaCgoZnVuY3Rpb24obil7ZS5faW5wdXQuc3R5bGVbbl09dFtuXXx8XCJcIn0pKX0sdH0oKTtmdW5jdGlvbiBPbih0KXtyZXR1cm4hIXQuY2FyZE51bWJlcn0hZnVuY3Rpb24odCl7dFt0LkNyZWRpdENhcmQ9MF09XCJDcmVkaXRDYXJkXCIsdFt0LlN0b3JlZENhcmRWZXJpZmljYXRpb249MV09XCJTdG9yZWRDYXJkVmVyaWZpY2F0aW9uXCJ9KHZufHwodm49e30pKTt2YXIgU249ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3ZhciBlPXRoaXM7dGhpcy5fYnJhaW50cmVlU0RLQ3JlYXRvcj10LHRoaXMuX2hhbmRsZUJsdXI9ZnVuY3Rpb24odCl7dmFyIG4scjtudWxsPT09KHI9bnVsbD09PShuPWUuX2Zvcm1PcHRpb25zKXx8dm9pZCAwPT09bj92b2lkIDA6bi5vbkJsdXIpfHx2b2lkIDA9PT1yfHxyLmNhbGwobix7ZmllbGRUeXBlOmUuX21hcEZpZWxkVHlwZSh0LmVtaXR0ZWRCeSl9KX0sdGhpcy5faGFuZGxlTmFtZUJsdXI9ZnVuY3Rpb24oKXt2YXIgdCxuO251bGw9PT0obj1udWxsPT09KHQ9ZS5fZm9ybU9wdGlvbnMpfHx2b2lkIDA9PT10P3ZvaWQgMDp0Lm9uQmx1cil8fHZvaWQgMD09PW58fG4uY2FsbCh0LHtmaWVsZFR5cGU6eW4uQ2FyZE5hbWV9KX0sdGhpcy5faGFuZGxlRm9jdXM9ZnVuY3Rpb24odCl7dmFyIG4scjtudWxsPT09KHI9bnVsbD09PShuPWUuX2Zvcm1PcHRpb25zKXx8dm9pZCAwPT09bj92b2lkIDA6bi5vbkZvY3VzKXx8dm9pZCAwPT09cnx8ci5jYWxsKG4se2ZpZWxkVHlwZTplLl9tYXBGaWVsZFR5cGUodC5lbWl0dGVkQnkpfSl9LHRoaXMuX2hhbmRsZU5hbWVGb2N1cz1mdW5jdGlvbigpe3ZhciB0LG47bnVsbD09PShuPW51bGw9PT0odD1lLl9mb3JtT3B0aW9ucyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQub25Gb2N1cyl8fHZvaWQgMD09PW58fG4uY2FsbCh0LHtmaWVsZFR5cGU6eW4uQ2FyZE5hbWV9KX0sdGhpcy5faGFuZGxlQ2FyZFR5cGVDaGFuZ2U9ZnVuY3Rpb24odCl7dmFyIG4scixpO251bGw9PT0ocj1udWxsPT09KG49ZS5fZm9ybU9wdGlvbnMpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLm9uQ2FyZFR5cGVDaGFuZ2UpfHx2b2lkIDA9PT1yfHxyLmNhbGwobix7Y2FyZFR5cGU6bnVsbD09PShpPXQuY2FyZHNbMF0pfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnR5cGV9KX0sdGhpcy5faGFuZGxlSW5wdXRTdWJtaXRSZXF1ZXN0PWZ1bmN0aW9uKHQpe3ZhciBuLHI7bnVsbD09PShyPW51bGw9PT0obj1lLl9mb3JtT3B0aW9ucyl8fHZvaWQgMD09PW4/dm9pZCAwOm4ub25FbnRlcil8fHZvaWQgMD09PXJ8fHIuY2FsbChuLHtmaWVsZFR5cGU6ZS5fbWFwRmllbGRUeXBlKHQuZW1pdHRlZEJ5KX0pfSx0aGlzLl9oYW5kbGVWYWxpZGl0eUNoYW5nZT1mdW5jdGlvbih0KXt2YXIgbixyO251bGw9PT0ocj1udWxsPT09KG49ZS5fZm9ybU9wdGlvbnMpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLm9uVmFsaWRhdGUpfHx2b2lkIDA9PT1yfHxyLmNhbGwobix7aXNWYWxpZDpPYmplY3Qua2V5cyh0LmZpZWxkcykuZXZlcnkoKGZ1bmN0aW9uKGUpe3ZhciBuO3JldHVybiBudWxsPT09KG49dC5maWVsZHNbZV0pfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmlzVmFsaWR9KSksZXJyb3JzOmUuX21hcFZhbGlkYXRpb25FcnJvcnModC5maWVsZHMpfSl9fXJldHVybiB0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSxuO3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5fZm9ybU9wdGlvbnM9dCx0aGlzLl90eXBlPU9uKHQuZmllbGRzKT92bi5DcmVkaXRDYXJkOnZuLlN0b3JlZENhcmRWZXJpZmljYXRpb24sZT10aGlzLl9tYXBGaWVsZE9wdGlvbnModC5maWVsZHMpLE9iamVjdChCdC5pc0VtcHR5KShlKT9bMiwhMV06KG49dGhpcyxbNCx0aGlzLl9icmFpbnRyZWVTREtDcmVhdG9yLmNyZWF0ZUhvc3RlZEZpZWxkcyh7ZmllbGRzOmUsc3R5bGVzOnQuc3R5bGVzJiZ0aGlzLl9tYXBTdHlsZU9wdGlvbnModC5zdHlsZXMpfSldKTtjYXNlIDE6cmV0dXJuIG4uX2NhcmRGaWVsZHM9ci5zZW50KCksdGhpcy5fY2FyZEZpZWxkcy5vbihcImJsdXJcIix0aGlzLl9oYW5kbGVCbHVyKSx0aGlzLl9jYXJkRmllbGRzLm9uKFwiZm9jdXNcIix0aGlzLl9oYW5kbGVGb2N1cyksdGhpcy5fY2FyZEZpZWxkcy5vbihcImNhcmRUeXBlQ2hhbmdlXCIsdGhpcy5faGFuZGxlQ2FyZFR5cGVDaGFuZ2UpLHRoaXMuX2NhcmRGaWVsZHMub24oXCJ2YWxpZGl0eUNoYW5nZVwiLHRoaXMuX2hhbmRsZVZhbGlkaXR5Q2hhbmdlKSx0aGlzLl9jYXJkRmllbGRzLm9uKFwiaW5wdXRTdWJtaXRSZXF1ZXN0XCIsdGhpcy5faGFuZGxlSW5wdXRTdWJtaXRSZXF1ZXN0KSxPbih0LmZpZWxkcykmJih0aGlzLl9jYXJkTmFtZUZpZWxkPW5ldyBDbih0LmZpZWxkcy5jYXJkTmFtZSx0LnN0eWxlcyksdGhpcy5fY2FyZE5hbWVGaWVsZC5vbihcImJsdXJcIix0aGlzLl9oYW5kbGVOYW1lQmx1ciksdGhpcy5fY2FyZE5hbWVGaWVsZC5vbihcImZvY3VzXCIsdGhpcy5faGFuZGxlTmFtZUZvY3VzKSx0aGlzLl9jYXJkTmFtZUZpZWxkLmF0dGFjaCgpKSxbMiwhMF19fSkpfSkpfSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemU9ZnVuY3Rpb24oKXt2YXIgdCxlO3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKG4pe3N3aXRjaChuLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsbnVsbD09PSh0PXRoaXMuX2NhcmRGaWVsZHMpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnRlYXJkb3duKCldO2Nhc2UgMTpyZXR1cm4gbi5zZW50KCksbnVsbD09PShlPXRoaXMuX2NhcmROYW1lRmllbGQpfHx2b2lkIDA9PT1lfHxlLmRldGFjaCgpLFsyXX19KSl9KSl9LHQucHJvdG90eXBlLnRva2VuaXplPWZ1bmN0aW9uKHQpe3ZhciBlLG4scixpLG87cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBhLHMsYztyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKHUpe3N3aXRjaCh1LmxhYmVsKXtjYXNlIDA6aWYoIXRoaXMuX2NhcmRGaWVsZHMpdGhyb3cgbmV3IGJ0LmIoYnQuYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO3UubGFiZWw9MTtjYXNlIDE6cmV0dXJuIHUudHJ5cy5wdXNoKFsxLDMsLDRdKSxbNCx0aGlzLl9jYXJkRmllbGRzLnRva2VuaXplKE9iamVjdChCdC5vbWl0QnkpKHtiaWxsaW5nQWRkcmVzczp0JiZ0aGlzLl9tYXBCaWxsaW5nQWRkcmVzcyh0KSxjYXJkaG9sZGVyTmFtZTpudWxsPT09KGU9dGhpcy5fY2FyZE5hbWVGaWVsZCl8fHZvaWQgMD09PWU/dm9pZCAwOmUuZ2V0VmFsdWUoKX0sQnQuaXNOaWwpKV07Y2FzZSAyOnJldHVybiBhPXUuc2VudCgpLm5vbmNlLG51bGw9PT0ocj1udWxsPT09KG49dGhpcy5fZm9ybU9wdGlvbnMpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLm9uVmFsaWRhdGUpfHx2b2lkIDA9PT1yfHxyLmNhbGwobix7aXNWYWxpZDohMCxlcnJvcnM6e319KSxbMix7bm9uY2U6YX1dO2Nhc2UgMzppZihzPXUuc2VudCgpLGM9dGhpcy5fbWFwVG9rZW5pemVFcnJvcihzKSl0aHJvdyBudWxsPT09KG89bnVsbD09PShpPXRoaXMuX2Zvcm1PcHRpb25zKXx8dm9pZCAwPT09aT92b2lkIDA6aS5vblZhbGlkYXRlKXx8dm9pZCAwPT09b3x8by5jYWxsKGkse2lzVmFsaWQ6ITEsZXJyb3JzOmN9KSxuZXcgYm4oYyk7dGhyb3cgcztjYXNlIDQ6cmV0dXJuWzJdfX0pKX0pKX0sdC5wcm90b3R5cGUudG9rZW5pemVGb3JTdG9yZWRDYXJkVmVyaWZpY2F0aW9uPWZ1bmN0aW9uKCl7dmFyIHQsZSxuLHIsaTtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG8sYSxzO3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24oYyl7c3dpdGNoKGMubGFiZWwpe2Nhc2UgMDppZighdGhpcy5fY2FyZEZpZWxkcyl0aHJvdyBuZXcgYnQuYihidC5hLlBheW1lbnROb3RJbml0aWFsaXplZCk7Yy5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gYy50cnlzLnB1c2goWzEsMywsNF0pLFs0LHRoaXMuX2NhcmRGaWVsZHMudG9rZW5pemUoT2JqZWN0KEJ0Lm9taXRCeSkoe2NhcmRob2xkZXJOYW1lOm51bGw9PT0odD10aGlzLl9jYXJkTmFtZUZpZWxkKXx8dm9pZCAwPT09dD92b2lkIDA6dC5nZXRWYWx1ZSgpfSxCdC5pc05pbCkpXTtjYXNlIDI6cmV0dXJuIG89Yy5zZW50KCkubm9uY2UsbnVsbD09PShuPW51bGw9PT0oZT10aGlzLl9mb3JtT3B0aW9ucyl8fHZvaWQgMD09PWU/dm9pZCAwOmUub25WYWxpZGF0ZSl8fHZvaWQgMD09PW58fG4uY2FsbChlLHtpc1ZhbGlkOiEwLGVycm9yczp7fX0pLFsyLHtub25jZTpvfV07Y2FzZSAzOmlmKGE9Yy5zZW50KCkscz10aGlzLl9tYXBUb2tlbml6ZUVycm9yKGEpKXRocm93IG51bGw9PT0oaT1udWxsPT09KHI9dGhpcy5fZm9ybU9wdGlvbnMpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLm9uVmFsaWRhdGUpfHx2b2lkIDA9PT1pfHxpLmNhbGwocix7aXNWYWxpZDohMSxlcnJvcnM6c30pLG5ldyBibihzKTt0aHJvdyBhO2Nhc2UgNDpyZXR1cm5bMl19fSkpfSkpfSx0LnByb3RvdHlwZS5fbWFwQmlsbGluZ0FkZHJlc3M9ZnVuY3Rpb24odCl7cmV0dXJue2NvdW50cnlOYW1lOnQuY291bnRyeSxwb3N0YWxDb2RlOnQucG9zdGFsQ29kZSxzdHJlZXRBZGRyZXNzOnQuYWRkcmVzczI/dC5hZGRyZXNzMStcIiBcIit0LmFkZHJlc3MyOnQuYWRkcmVzczF9fSx0LnByb3RvdHlwZS5fbWFwRmllbGRPcHRpb25zPWZ1bmN0aW9uKHQpe3JldHVybiBPbih0KT9PYmplY3QoQnQub21pdEJ5KSh7bnVtYmVyOntjb250YWluZXI6XCIjXCIrdC5jYXJkTnVtYmVyLmNvbnRhaW5lcklkLHBsYWNlaG9sZGVyOnQuY2FyZE51bWJlci5wbGFjZWhvbGRlcn0sZXhwaXJhdGlvbkRhdGU6e2NvbnRhaW5lcjpcIiNcIit0LmNhcmRFeHBpcnkuY29udGFpbmVySWQscGxhY2Vob2xkZXI6dC5jYXJkRXhwaXJ5LnBsYWNlaG9sZGVyfSxjdnY6dC5jYXJkQ29kZSYme2NvbnRhaW5lcjpcIiNcIit0LmNhcmRDb2RlLmNvbnRhaW5lcklkLHBsYWNlaG9sZGVyOnQuY2FyZENvZGUucGxhY2Vob2xkZXJ9fSxCdC5pc05pbCk6T2JqZWN0KEJ0Lm9taXRCeSkoe251bWJlcjp0LmNhcmROdW1iZXJWZXJpZmljYXRpb24mJntjb250YWluZXI6XCIjXCIrdC5jYXJkTnVtYmVyVmVyaWZpY2F0aW9uLmNvbnRhaW5lcklkLHBsYWNlaG9sZGVyOnQuY2FyZE51bWJlclZlcmlmaWNhdGlvbi5wbGFjZWhvbGRlcn0sY3Z2OnQuY2FyZENvZGVWZXJpZmljYXRpb24mJntjb250YWluZXI6XCIjXCIrdC5jYXJkQ29kZVZlcmlmaWNhdGlvbi5jb250YWluZXJJZCxwbGFjZWhvbGRlcjp0LmNhcmRDb2RlVmVyaWZpY2F0aW9uLnBsYWNlaG9sZGVyfX0sQnQuaXNOaWwpfSx0LnByb3RvdHlwZS5fbWFwU3R5bGVPcHRpb25zPWZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD17fSksT2JqZWN0KEJ0Lm9taXRCeSkoe2NvbG9yOnQuY29sb3IsXCJmb250LWZhbWlseVwiOnQuZm9udEZhbWlseSxcImZvbnQtc2l6ZVwiOnQuZm9udFNpemUsXCJmb250LXdlaWdodFwiOnQuZm9udFdlaWdodH0sQnQuaXNOaWwpfTtyZXR1cm57aW5wdXQ6ZSh0LmRlZmF1bHQpLFwiLmludmFsaWRcIjplKHQuZXJyb3IpLFwiOmZvY3VzXCI6ZSh0LmZvY3VzKX19LHQucHJvdG90eXBlLl9tYXBGaWVsZFR5cGU9ZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2VcIm51bWJlclwiOnJldHVybiB0aGlzLl90eXBlPT09dm4uU3RvcmVkQ2FyZFZlcmlmaWNhdGlvbj95bi5DYXJkTnVtYmVyVmVyaWZpY2F0aW9uOnluLkNhcmROdW1iZXI7Y2FzZVwiZXhwaXJhdGlvbkRhdGVcIjpyZXR1cm4geW4uQ2FyZEV4cGlyeTtjYXNlXCJjdnZcIjpyZXR1cm4gdGhpcy5fdHlwZT09PXZuLlN0b3JlZENhcmRWZXJpZmljYXRpb24/eW4uQ2FyZENvZGVWZXJpZmljYXRpb246eW4uQ2FyZENvZGU7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIGZpZWxkIHR5cGVcIil9fSx0LnByb3RvdHlwZS5fbWFwVmFsaWRhdGlvbkVycm9ycz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBPYmplY3Qua2V5cyh0KS5yZWR1Y2UoKGZ1bmN0aW9uKG4scil7dmFyIGksbztyZXR1cm4gT2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSxuKSwoKGk9e30pW2UuX21hcEZpZWxkVHlwZShyKV09KG51bGw9PT0obz10W3JdKXx8dm9pZCAwPT09bz92b2lkIDA6by5pc1ZhbGlkKT92b2lkIDA6W2UuX2NyZWF0ZUludmFsaWRFcnJvcihlLl9tYXBGaWVsZFR5cGUocikpXSxpKSl9KSx7fSl9LHQucHJvdG90eXBlLl9tYXBUb2tlbml6ZUVycm9yPWZ1bmN0aW9uKHQpe3ZhciBlLG4scixpPXRoaXM7cmV0dXJuXCJIT1NURURfRklFTERTX0ZJRUxEU19FTVBUWVwiPT09dC5jb2RlPygoZT17fSlbdGhpcy5fbWFwRmllbGRUeXBlKFwiY3Z2XCIpXT1bdGhpcy5fY3JlYXRlUmVxdWlyZWRFcnJvcih0aGlzLl9tYXBGaWVsZFR5cGUoXCJjdnZcIikpXSxlW3RoaXMuX21hcEZpZWxkVHlwZShcImV4cGlyYXRpb25EYXRlXCIpXT1bdGhpcy5fY3JlYXRlUmVxdWlyZWRFcnJvcih0aGlzLl9tYXBGaWVsZFR5cGUoXCJleHBpcmF0aW9uRGF0ZVwiKSldLGVbdGhpcy5fbWFwRmllbGRUeXBlKFwibnVtYmVyXCIpXT1bdGhpcy5fY3JlYXRlUmVxdWlyZWRFcnJvcih0aGlzLl9tYXBGaWVsZFR5cGUoXCJudW1iZXJcIikpXSxlKTpudWxsPT09KHI9bnVsbD09PShuPW51bGw9PXQ/dm9pZCAwOnQuZGV0YWlscyl8fHZvaWQgMD09PW4/dm9pZCAwOm4uaW52YWxpZEZpZWxkS2V5cyl8fHZvaWQgMD09PXI/dm9pZCAwOnIucmVkdWNlKChmdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiBPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LHQpLCgobj17fSlbaS5fbWFwRmllbGRUeXBlKGUpXT1baS5fY3JlYXRlSW52YWxpZEVycm9yKGkuX21hcEZpZWxkVHlwZShlKSldLG4pKX0pLHt9KX0sdC5wcm90b3R5cGUuX2NyZWF0ZVJlcXVpcmVkRXJyb3I9ZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2UgeW4uQ2FyZENvZGVWZXJpZmljYXRpb246Y2FzZSB5bi5DYXJkQ29kZTpyZXR1cm57ZmllbGRUeXBlOnQsbWVzc2FnZTpcIkNWViBpcyByZXF1aXJlZFwiLHR5cGU6XCJyZXF1aXJlZFwifTtjYXNlIHluLkNhcmROdW1iZXJWZXJpZmljYXRpb246Y2FzZSB5bi5DYXJkTnVtYmVyOnJldHVybntmaWVsZFR5cGU6dCxtZXNzYWdlOlwiQ3JlZGl0IGNhcmQgbnVtYmVyIGlzIHJlcXVpcmVkXCIsdHlwZTpcInJlcXVpcmVkXCJ9O2Nhc2UgeW4uQ2FyZEV4cGlyeTpyZXR1cm57ZmllbGRUeXBlOnQsbWVzc2FnZTpcIkV4cGlyYXRpb24gZGF0ZSBpcyByZXF1aXJlZFwiLHR5cGU6XCJyZXF1aXJlZFwifTtjYXNlIHluLkNhcmROYW1lOnJldHVybntmaWVsZFR5cGU6dCxtZXNzYWdlOlwiRnVsbCBuYW1lIGlzIHJlcXVpcmVkXCIsdHlwZTpcInJlcXVpcmVkXCJ9O2RlZmF1bHQ6cmV0dXJue2ZpZWxkVHlwZTp0LG1lc3NhZ2U6XCJGaWVsZCBpcyByZXF1aXJlZFwiLHR5cGU6XCJyZXF1aXJlZFwifX19LHQucHJvdG90eXBlLl9jcmVhdGVJbnZhbGlkRXJyb3I9ZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2UgeW4uQ2FyZENvZGVWZXJpZmljYXRpb246cmV0dXJue2ZpZWxkVHlwZTp0LG1lc3NhZ2U6XCJJbnZhbGlkIGNhcmQgY29kZVwiLHR5cGU6XCJpbnZhbGlkX2NhcmRfY29kZVwifTtjYXNlIHluLkNhcmROdW1iZXJWZXJpZmljYXRpb246cmV0dXJue2ZpZWxkVHlwZTp0LG1lc3NhZ2U6XCJJbnZhbGlkIGNhcmQgbnVtYmVyXCIsdHlwZTpcImludmFsaWRfY2FyZF9udW1iZXJcIn07Y2FzZSB5bi5DYXJkQ29kZTpyZXR1cm57ZmllbGRUeXBlOnQsbWVzc2FnZTpcIkludmFsaWQgY2FyZCBjb2RlXCIsdHlwZTpcImludmFsaWRfY2FyZF9jb2RlXCJ9O2Nhc2UgeW4uQ2FyZEV4cGlyeTpyZXR1cm57ZmllbGRUeXBlOnQsbWVzc2FnZTpcIkludmFsaWQgY2FyZCBleHBpcnlcIix0eXBlOlwiaW52YWxpZF9jYXJkX2V4cGlyeVwifTtjYXNlIHluLkNhcmROdW1iZXI6cmV0dXJue2ZpZWxkVHlwZTp0LG1lc3NhZ2U6XCJJbnZhbGlkIGNhcmQgbnVtYmVyXCIsdHlwZTpcImludmFsaWRfY2FyZF9udW1iZXJcIn07ZGVmYXVsdDpyZXR1cm57ZmllbGRUeXBlOnQsbWVzc2FnZTpcIkludmFsaWQgZmllbGRcIix0eXBlOlwiaW52YWxpZFwifX19LHR9KCksd249ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt0aGlzLl9icmFpbnRyZWVTREtDcmVhdG9yPXQsdGhpcy5fYnJhaW50cmVlSG9zdGVkRm9ybT1lLHRoaXMuX292ZXJsYXk9bn1yZXR1cm4gdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbih0LGUpe3RoaXMuX2JyYWludHJlZVNES0NyZWF0b3IuaW5pdGlhbGl6ZSh0KSx0aGlzLl90aHJlZURTZWN1cmVPcHRpb25zPWUmJmUudGhyZWVEU2VjdXJlfSx0LnByb3RvdHlwZS5wcmVsb2FkUGF5cGFsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JyYWludHJlZVNES0NyZWF0b3IuZ2V0UGF5cGFsKCl9LHQucHJvdG90eXBlLnRva2VuaXplQ2FyZD1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbjtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cmV0dXJuIG49dGhpcy5fbWFwVG9DcmVkaXRDYXJkKHQucGF5bWVudERhdGEsZSksWzQsdGhpcy5fYnJhaW50cmVlU0RLQ3JlYXRvci5nZXRDbGllbnQoKV07Y2FzZSAxOnJldHVybls0LHIuc2VudCgpLnJlcXVlc3QobildO2Nhc2UgMjpyZXR1cm5bMix7bm9uY2U6ci5zZW50KCkuY3JlZGl0Q2FyZHNbMF0ubm9uY2V9XX19KSl9KSl9LHQucHJvdG90eXBlLnZlcmlmeUNhcmQ9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgcixpLG87cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihhKXtzd2l0Y2goYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LFByb21pc2UuYWxsKFt0aGlzLnRva2VuaXplQ2FyZCh0LGUpLHRoaXMuX2JyYWludHJlZVNES0NyZWF0b3IuZ2V0M0RTKCldKV07Y2FzZSAxOnJldHVybiByPWEuc2VudCgpLGk9clswXS5ub25jZSxvPXJbMV0sWzIsdGhpcy5fcHJlc2VudDNEU0NoYWxsZW5nZShvLG4saSldfX0pKX0pKX0sdC5wcm90b3R5cGUucGF5cGFsPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10LnNob3VsZFNhdmVJbnN0cnVtZW50LHI9T2JqZWN0KGQuX19yZXN0KSh0LFtcInNob3VsZFNhdmVJbnN0cnVtZW50XCJdKTtyZXR1cm4gdGhpcy5fYnJhaW50cmVlU0RLQ3JlYXRvci5nZXRQYXlwYWwoKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gZS5fb3ZlcmxheS5zaG93KHtvbkNsaWNrOmZ1bmN0aW9uKCl7cmV0dXJuIHQuZm9jdXNXaW5kb3coKX19KSx0LnRva2VuaXplKE9iamVjdChkLl9fYXNzaWduKSh7ZW5hYmxlU2hpcHBpbmdBZGRyZXNzOiEwLGZsb3c6bj9cInZhdWx0XCI6XCJjaGVja291dFwiLHVzZXJhY3Rpb246XCJjb21taXRcIn0scikpfSkpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBlLl9vdmVybGF5LnJlbW92ZSgpLHR9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3Rocm93IGUuX292ZXJsYXkucmVtb3ZlKCksdH0pKX0sdC5wcm90b3R5cGUuZ2V0U2Vzc2lvbklkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JyYWludHJlZVNES0NyZWF0b3IuZ2V0RGF0YUNvbGxlY3RvcigpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRldmljZURhdGF9KSl9LHQucHJvdG90eXBlLmFwcGVuZFNlc3Npb25JZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiB0LnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBQcm9taXNlLmFsbChbdCxlLl9icmFpbnRyZWVTREtDcmVhdG9yLmdldERhdGFDb2xsZWN0b3IoKV0pfSkpLnRoZW4oKGZ1bmN0aW9uKHQpe3ZhciBlPXRbMF0sbj10WzFdLmRldmljZURhdGE7cmV0dXJuIE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30sZSkse2RldmljZVNlc3Npb25JZDpufSl9KSl9LHQucHJvdG90eXBlLmRlaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9icmFpbnRyZWVTREtDcmVhdG9yLnRlYXJkb3duKCl9LHQucHJvdG90eXBlLmluaXRpYWxpemVIb3N0ZWRGb3JtPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKGUpe3N3aXRjaChlLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5fYnJhaW50cmVlSG9zdGVkRm9ybS5pbml0aWFsaXplKHQpXTtjYXNlIDE6cmV0dXJuWzIsZS5zZW50KCldfX0pKX0pKX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplSG9zdGVkRm9ybT1mdW5jdGlvbigpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5fYnJhaW50cmVlSG9zdGVkRm9ybS5kZWluaXRpYWxpemUoKV07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSxbMl19fSkpfSkpfSx0LnByb3RvdHlwZS50b2tlbml6ZUhvc3RlZEZvcm09ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2JyYWludHJlZUhvc3RlZEZvcm0udG9rZW5pemUodCl9LHQucHJvdG90eXBlLnRva2VuaXplSG9zdGVkRm9ybUZvclN0b3JlZENhcmRWZXJpZmljYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnJhaW50cmVlSG9zdGVkRm9ybS50b2tlbml6ZUZvclN0b3JlZENhcmRWZXJpZmljYXRpb24oKX0sdC5wcm90b3R5cGUudmVyaWZ5Q2FyZFdpdGhIb3N0ZWRGb3JtPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBuLHIsaTtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKG8pe3N3aXRjaChvLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsUHJvbWlzZS5hbGwoW3RoaXMuX2JyYWludHJlZUhvc3RlZEZvcm0udG9rZW5pemUodCksdGhpcy5fYnJhaW50cmVlU0RLQ3JlYXRvci5nZXQzRFMoKV0pXTtjYXNlIDE6cmV0dXJuIG49by5zZW50KCkscj1uWzBdLm5vbmNlLGk9blsxXSxbMix0aGlzLl9wcmVzZW50M0RTQ2hhbGxlbmdlKGksZSxyKV19fSkpfSkpfSx0LnByb3RvdHlwZS5fcHJlc2VudDNEU0NoYWxsZW5nZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcztpZighdGhpcy5fdGhyZWVEU2VjdXJlT3B0aW9ucyl0aHJvdyBuZXcgYnQuYihidC5hLlBheW1lbnROb3RJbml0aWFsaXplZCk7dmFyIGk9dGhpcy5fdGhyZWVEU2VjdXJlT3B0aW9ucyxvPWkuYWRkRnJhbWUsYT1pLnJlbW92ZUZyYW1lLHM9ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKShyLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHQuY2FuY2VsVmVyaWZ5Q2FyZCgpXTtjYXNlIDE6cmV0dXJuIGU9bi5zZW50KCksYy5jYW5jZWwobmV3IFVlKSxbMixlXX19KSl9KSl9LGM9bmV3IGVlKHQudmVyaWZ5Q2FyZCh7YWRkRnJhbWU6ZnVuY3Rpb24odCxlKXtvKHQsZSxzKX0sYW1vdW50OmUsbm9uY2U6bixyZW1vdmVGcmFtZTphLG9uTG9va3VwQ29tcGxldGU6ZnVuY3Rpb24odCxlKXtlKCl9fSkpO3JldHVybiBjLnByb21pc2V9LHQucHJvdG90eXBlLl9tYXBUb0NyZWRpdENhcmQ9ZnVuY3Rpb24odCxlKXtyZXR1cm57ZGF0YTp7Y3JlZGl0Q2FyZDp7Y2FyZGhvbGRlck5hbWU6dC5jY05hbWUsbnVtYmVyOnQuY2NOdW1iZXIsY3Z2OnQuY2NDdnYsZXhwaXJhdGlvbkRhdGU6dC5jY0V4cGlyeS5tb250aCtcIi9cIit0LmNjRXhwaXJ5LnllYXIsb3B0aW9uczp7dmFsaWRhdGU6ITF9LGJpbGxpbmdBZGRyZXNzOmUmJntjb3VudHJ5TmFtZTplLmNvdW50cnkscG9zdGFsQ29kZTplLnBvc3RhbENvZGUsc3RyZWV0QWRkcmVzczplLmFkZHJlc3MyP2UuYWRkcmVzczErXCIgXCIrZS5hZGRyZXNzMjplLmFkZHJlc3MxfX19LGVuZHBvaW50OlwicGF5bWVudF9tZXRob2RzL2NyZWRpdF9jYXJkc1wiLG1ldGhvZDpcInBvc3RcIn19LHR9KCk7dmFyIEluPW4oOTIpLEFuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyLGkpe3RoaXMuX3N0b3JlPXQsdGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yPWUsdGhpcy5fcGF5bWVudEFjdGlvbkNyZWF0b3I9bix0aGlzLl9wYXltZW50TWV0aG9kQWN0aW9uQ3JlYXRvcj1yLHRoaXMuX2JyYWludHJlZVBheW1lbnRQcm9jZXNzb3I9aX1yZXR1cm4gdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG4scixpLG8sYTtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKHMpe3N3aXRjaChzLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3IubG9hZFBheW1lbnRNZXRob2QodC5tZXRob2RJZCkpXTtjYXNlIDE6aWYobj1zLnNlbnQoKSwhKHI9bi5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kKHQubWV0aG9kSWQpKXx8IXIuY2xpZW50VG9rZW4pdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ1BheW1lbnRNZXRob2QpO3MubGFiZWw9MjtjYXNlIDI6cmV0dXJuIHMudHJ5cy5wdXNoKFsyLDYsLDddKSx0aGlzLl9icmFpbnRyZWVQYXltZW50UHJvY2Vzc29yLmluaXRpYWxpemUoci5jbGllbnRUb2tlbix0LmJyYWludHJlZSksdGhpcy5faXNIb3N0ZWRQYXltZW50Rm9ybUVuYWJsZWQodC5tZXRob2RJZCx0LmdhdGV3YXlJZCkmJihudWxsPT09KGU9dC5icmFpbnRyZWUpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmZvcm0pPyhpPXRoaXMsWzQsdGhpcy5fYnJhaW50cmVlUGF5bWVudFByb2Nlc3Nvci5pbml0aWFsaXplSG9zdGVkRm9ybSh0LmJyYWludHJlZS5mb3JtKV0pOlszLDRdO2Nhc2UgMzppLl9pc0hvc3RlZEZvcm1Jbml0aWFsaXplZD1zLnNlbnQoKSxzLmxhYmVsPTQ7Y2FzZSA0OnJldHVybiB0aGlzLl9pczNkc0VuYWJsZWQ9ci5jb25maWcuaXMzZHNFbmFibGVkLG89dGhpcyxbNCx0aGlzLl9icmFpbnRyZWVQYXltZW50UHJvY2Vzc29yLmdldFNlc3Npb25JZCgpXTtjYXNlIDU6cmV0dXJuIG8uX2RldmljZVNlc3Npb25JZD1zLnNlbnQoKSxbMyw3XTtjYXNlIDY6cmV0dXJuIGE9cy5zZW50KCksdGhpcy5faGFuZGxlRXJyb3IoYSksWzMsN107Y2FzZSA3OnJldHVyblsyLHRoaXMuX3N0b3JlLmdldFN0YXRlKCldfX0pKX0pKX0sdC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbixyLGksbyxhLHMsYyx1LHAsaCxsLG0sZjtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKF8pe3N3aXRjaChfLmxhYmVsKXtjYXNlIDA6aWYobj10LnBheW1lbnQscj1PYmplY3QoZC5fX3Jlc3QpKHQsW1wicGF5bWVudFwiXSksIW4pdGhyb3cgbmV3IHFlKFtcInBheW1lbnRcIl0pO3JldHVybls0LHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvci5zdWJtaXRPcmRlcihyLGUpKV07Y2FzZSAxOmlmKGk9Xy5zZW50KCksbz1pLmJpbGxpbmdBZGRyZXNzLmdldEJpbGxpbmdBZGRyZXNzT3JUaHJvdyxhPWkub3JkZXIuZ2V0T3JkZXJPclRocm93LCEoMCxpLnBheW1lbnQuaXNQYXltZW50RGF0YVJlcXVpcmVkKShyLnVzZVN0b3JlQ3JlZGl0KSlyZXR1cm5bMixpXTtfLmxhYmVsPTI7Y2FzZSAyOnJldHVybiBfLnRyeXMucHVzaChbMiw3LCw4XSksYz0ocz10aGlzLl9zdG9yZSkuZGlzcGF0Y2gscD0odT10aGlzLl9wYXltZW50QWN0aW9uQ3JlYXRvcikuc3VibWl0UGF5bWVudCxoPVtPYmplY3QoZC5fX2Fzc2lnbikoe30sbildLGw9e30sdGhpcy5faXNIb3N0ZWRGb3JtSW5pdGlhbGl6ZWQ/WzQsdGhpcy5fcHJlcGFyZUhvc3RlZFBheW1lbnREYXRhKG4sbygpLGEoKS5vcmRlckFtb3VudCldOlszLDRdO2Nhc2UgMzpyZXR1cm4gbT1fLnNlbnQoKSxbMyw2XTtjYXNlIDQ6cmV0dXJuWzQsdGhpcy5fcHJlcGFyZVBheW1lbnREYXRhKG4sbygpLGEoKS5vcmRlckFtb3VudCldO2Nhc2UgNTptPV8uc2VudCgpLF8ubGFiZWw9NjtjYXNlIDY6cmV0dXJuWzIsYy5hcHBseShzLFtwLmFwcGx5KHUsW2QuX19hc3NpZ24uYXBwbHkodm9pZCAwLGguY29uY2F0KFsobC5wYXltZW50RGF0YT1tLGwpXSkpXSldKV07Y2FzZSA3OnJldHVybiBmPV8uc2VudCgpLHRoaXMuX2hhbmRsZUVycm9yKGYpLFszLDhdO2Nhc2UgODpyZXR1cm5bMl19fSkpfSkpfSx0LnByb3RvdHlwZS5maW5hbGl6ZT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlamVjdChuZXcgS3QpfSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLl9pc0hvc3RlZEZvcm1Jbml0aWFsaXplZD0hMSxbNCxQcm9taXNlLmFsbChbdGhpcy5fYnJhaW50cmVlUGF5bWVudFByb2Nlc3Nvci5kZWluaXRpYWxpemUoKSx0aGlzLl9icmFpbnRyZWVQYXltZW50UHJvY2Vzc29yLmRlaW5pdGlhbGl6ZUhvc3RlZEZvcm0oKV0pXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLFsyLHRoaXMuX3N0b3JlLmdldFN0YXRlKCldfX0pKX0pKX0sdC5wcm90b3R5cGUuX2hhbmRsZUVycm9yPWZ1bmN0aW9uKHQpe2lmKFwiQnJhaW50cmVlRXJyb3JcIj09PXQubmFtZSl0aHJvdyBuZXcgSW4uYSh0Lm1lc3NhZ2UpO3Rocm93IHR9LHQucHJvdG90eXBlLl9wcmVwYXJlUGF5bWVudERhdGE9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgcixpLG8sYSxzLGMsdTtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKHApe3N3aXRjaChwLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHI9e2RldmljZVNlc3Npb25JZDp0aGlzLl9kZXZpY2VTZXNzaW9uSWR9LHRoaXMuX2lzU3VibWl0dGluZ1dpdGhTdG9yZWRDYXJkKHQpfHx0aGlzLl9pc1N0b3JpbmdOZXdDYXJkKHQpP1syLE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30sciksdC5wYXltZW50RGF0YSldOnRoaXMuX3Nob3VsZFBlcmZvcm0zRFNWZXJpZmljYXRpb24odCk/KGk9W09iamVjdChkLl9fYXNzaWduKSh7fSxyKV0sbz10aGlzLl9tYXBUb05vbmNlSW5zdHJ1bWVudCxhPVtPYmplY3QoZC5fX2Fzc2lnbikoe30sdC5wYXltZW50RGF0YSldLFs0LHRoaXMuX2JyYWludHJlZVBheW1lbnRQcm9jZXNzb3IudmVyaWZ5Q2FyZCh0LGUsbildKTpbMywyXTtjYXNlIDE6cmV0dXJuWzIsZC5fX2Fzc2lnbi5hcHBseSh2b2lkIDAsaS5jb25jYXQoW28uYXBwbHkodGhpcyxbZC5fX2Fzc2lnbi5hcHBseSh2b2lkIDAsYS5jb25jYXQoW3Auc2VudCgpXSkpXSldKSldO2Nhc2UgMjpyZXR1cm4gcz1bT2JqZWN0KGQuX19hc3NpZ24pKHt9LHIpXSxjPXRoaXMuX21hcFRvTm9uY2VJbnN0cnVtZW50LHU9W09iamVjdChkLl9fYXNzaWduKSh7fSx0LnBheW1lbnREYXRhKV0sWzQsdGhpcy5fYnJhaW50cmVlUGF5bWVudFByb2Nlc3Nvci50b2tlbml6ZUNhcmQodCxlKV07Y2FzZSAzOnJldHVyblsyLGQuX19hc3NpZ24uYXBwbHkodm9pZCAwLHMuY29uY2F0KFtjLmFwcGx5KHRoaXMsW2QuX19hc3NpZ24uYXBwbHkodm9pZCAwLHUuY29uY2F0KFtwLnNlbnQoKV0pKV0pXSkpXX19KSl9KSl9LHQucHJvdG90eXBlLl9wcmVwYXJlSG9zdGVkUGF5bWVudERhdGE9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgcixpLG8sYSxzLGMsdSxwLGgsbDtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKG0pe3N3aXRjaChtLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHI9e2RldmljZVNlc3Npb25JZDp0aGlzLl9kZXZpY2VTZXNzaW9uSWR9LHRoaXMuX3Nob3VsZFBlcmZvcm0zRFNWZXJpZmljYXRpb24odCk/KGk9W09iamVjdChkLl9fYXNzaWduKSh7fSxyKV0sbz10aGlzLl9tYXBUb05vbmNlSW5zdHJ1bWVudCxhPVtPYmplY3QoZC5fX2Fzc2lnbikoe30sdC5wYXltZW50RGF0YSldLFs0LHRoaXMuX2JyYWludHJlZVBheW1lbnRQcm9jZXNzb3IudmVyaWZ5Q2FyZFdpdGhIb3N0ZWRGb3JtKGUsbildKTpbMywyXTtjYXNlIDE6cmV0dXJuWzIsZC5fX2Fzc2lnbi5hcHBseSh2b2lkIDAsaS5jb25jYXQoW28uYXBwbHkodGhpcyxbZC5fX2Fzc2lnbi5hcHBseSh2b2lkIDAsYS5jb25jYXQoW20uc2VudCgpXSkpXSldKSldO2Nhc2UgMjpyZXR1cm4gdGhpcy5faXNTdWJtaXR0aW5nV2l0aFN0b3JlZENhcmQodCk/KHM9W09iamVjdChkLl9fYXNzaWduKSh7fSxyKV0sYz10aGlzLl9tYXBUb1ZhdWx0ZWRJbnN0cnVtZW50V2l0aE5vbmNlVmVyaWZpY2F0aW9uLHU9W09iamVjdChkLl9fYXNzaWduKSh7fSx0LnBheW1lbnREYXRhKV0sWzQsdGhpcy5fYnJhaW50cmVlUGF5bWVudFByb2Nlc3Nvci50b2tlbml6ZUhvc3RlZEZvcm1Gb3JTdG9yZWRDYXJkVmVyaWZpY2F0aW9uKCldKTpbMyw0XTtjYXNlIDM6cmV0dXJuWzIsZC5fX2Fzc2lnbi5hcHBseSh2b2lkIDAscy5jb25jYXQoW2MuYXBwbHkodGhpcyxbZC5fX2Fzc2lnbi5hcHBseSh2b2lkIDAsdS5jb25jYXQoW20uc2VudCgpXSkpXSldKSldO2Nhc2UgNDpyZXR1cm4gcD1bT2JqZWN0KGQuX19hc3NpZ24pKHt9LHIpXSxoPXRoaXMuX21hcFRvTm9uY2VJbnN0cnVtZW50LGw9W09iamVjdChkLl9fYXNzaWduKSh7fSx0LnBheW1lbnREYXRhKV0sWzQsdGhpcy5fYnJhaW50cmVlUGF5bWVudFByb2Nlc3Nvci50b2tlbml6ZUhvc3RlZEZvcm0oZSldO2Nhc2UgNTpyZXR1cm5bMixkLl9fYXNzaWduLmFwcGx5KHZvaWQgMCxwLmNvbmNhdChbaC5hcHBseSh0aGlzLFtkLl9fYXNzaWduLmFwcGx5KHZvaWQgMCxsLmNvbmNhdChbbS5zZW50KCldKSldKV0pKV19fSkpfSkpfSx0LnByb3RvdHlwZS5fbWFwVG9Ob25jZUluc3RydW1lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChCdC5waWNrKSh0LFwibm9uY2VcIixcInNob3VsZFNhdmVJbnN0cnVtZW50XCIsXCJzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50XCIpfSx0LnByb3RvdHlwZS5fbWFwVG9WYXVsdGVkSW5zdHJ1bWVudFdpdGhOb25jZVZlcmlmaWNhdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KEJ0LnBpY2spKHQsXCJub25jZVwiLFwiaW5zdHJ1bWVudElkXCIpfSx0LnByb3RvdHlwZS5faXNIb3N0ZWRQYXltZW50Rm9ybUVuYWJsZWQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4hIXQmJiEwPT09KDAsdGhpcy5fc3RvcmUuZ2V0U3RhdGUoKS5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kT3JUaHJvdykodCxlKS5jb25maWcuaXNIb3N0ZWRGb3JtRW5hYmxlZH0sdC5wcm90b3R5cGUuX2lzU3VibWl0dGluZ1dpdGhTdG9yZWRDYXJkPWZ1bmN0aW9uKHQpe3JldHVybiEoIXQucGF5bWVudERhdGF8fCFPYmplY3QoZ2UuYSkodC5wYXltZW50RGF0YSkpfSx0LnByb3RvdHlwZS5faXNTdG9yaW5nTmV3Q2FyZD1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4hISh0LnBheW1lbnREYXRhJiYobnVsbD09PShlPXQucGF5bWVudERhdGEpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnNob3VsZFNhdmVJbnN0cnVtZW50KSl9LHQucHJvdG90eXBlLl9zaG91bGRQZXJmb3JtM0RTVmVyaWZpY2F0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiEoIXRoaXMuX2lzM2RzRW5hYmxlZHx8dGhpcy5faXNTdWJtaXR0aW5nV2l0aFN0b3JlZENhcmQodCkpfSx0fSgpO3ZhciBFbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scixpLG8pe3ZvaWQgMD09PW8mJihvPSExKSx0aGlzLl9zdG9yZT10LHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvcj1lLHRoaXMuX3BheW1lbnRBY3Rpb25DcmVhdG9yPW4sdGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3I9cix0aGlzLl9icmFpbnRyZWVQYXltZW50UHJvY2Vzc29yPWksdGhpcy5fY3JlZGl0PW99cmV0dXJuIHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXQuYnJhaW50cmVlLHI9dC5tZXRob2RJZDtyZXR1cm4gdGhpcy5fcGF5bWVudE1ldGhvZD10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2QociksdGhpcy5fcGF5bWVudE1ldGhvZCYmdGhpcy5fcGF5bWVudE1ldGhvZC5ub25jZT9Qcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSk6dGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3IubG9hZFBheW1lbnRNZXRob2QocikpLnRoZW4oKGZ1bmN0aW9uKHQpe2lmKGUuX3BheW1lbnRNZXRob2Q9dC5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kKHIpLCFlLl9wYXltZW50TWV0aG9kfHwhZS5fcGF5bWVudE1ldGhvZC5jbGllbnRUb2tlbil0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7cmV0dXJuIGUuX2JyYWludHJlZVBheW1lbnRQcm9jZXNzb3IuaW5pdGlhbGl6ZShlLl9wYXltZW50TWV0aG9kLmNsaWVudFRva2VuLG4pLGUuX2JyYWludHJlZVBheW1lbnRQcm9jZXNzb3IucHJlbG9hZFBheXBhbCgpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGUuX3N0b3JlLmdldFN0YXRlKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3JldHVybiBlLl9oYW5kbGVFcnJvcih0KX0pKX0sdC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj10LnBheW1lbnQsaT1PYmplY3QoZC5fX3Jlc3QpKHQsW1wicGF5bWVudFwiXSk7aWYoIXIpdGhyb3cgbmV3IHFlKFtcInBheW1lbnRcIl0pO3JldHVybihyP3RoaXMuX3ByZXBhcmVQYXltZW50RGF0YShyLGkudXNlU3RvcmVDcmVkaXQpOlByb21pc2UucmVzb2x2ZShyKSkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIFByb21pc2UuYWxsKFt0LG4uX3N0b3JlLmRpc3BhdGNoKG4uX29yZGVyQWN0aW9uQ3JlYXRvci5zdWJtaXRPcmRlcihpLGUpKV0pfSkpLnRoZW4oKGZ1bmN0aW9uKHQpe3ZhciBlPXRbMF07cmV0dXJuIG4uX3N0b3JlLmRpc3BhdGNoKG4uX3BheW1lbnRBY3Rpb25DcmVhdG9yLnN1Ym1pdFBheW1lbnQoZSkpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtyZXR1cm4gbi5faGFuZGxlRXJyb3IodCl9KSl9LHQucHJvdG90eXBlLmZpbmFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBLdCl9LHQucHJvdG90eXBlLmRlaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuX2JyYWludHJlZVBheW1lbnRQcm9jZXNzb3IuZGVpbml0aWFsaXplKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdC5fc3RvcmUuZ2V0U3RhdGUoKX0pKX0sdC5wcm90b3R5cGUuX2hhbmRsZUVycm9yPWZ1bmN0aW9uKHQpe2lmKCFmdW5jdGlvbih0KXtyZXR1cm5cIkJyYWludHJlZUVycm9yXCI9PT10Lm5hbWV9KHQpKXRocm93IHQ7aWYoXCJQQVlQQUxfUE9QVVBfQ0xPU0VEXCI9PT10LmNvZGUpdGhyb3cgbmV3IFVlKHQubWVzc2FnZSk7dGhyb3cgbmV3IEluLmEodC5tZXNzYWdlKX0sdC5wcm90b3R5cGUuX3ByZXBhcmVQYXltZW50RGF0YT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLGk9ci5jaGVja291dC5nZXRPdXRzdGFuZGluZ0JhbGFuY2UoZSksbz1yLmNvbmZpZy5nZXRTdG9yZUNvbmZpZygpO2lmKCFpKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdDaGVja291dCk7aWYoIW8pdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ0NoZWNrb3V0Q29uZmlnKTtpZighdGhpcy5fcGF5bWVudE1ldGhvZCl0aHJvdyBuZXcgYnQuYihidC5hLlBheW1lbnROb3RJbml0aWFsaXplZCk7dmFyIGE9by5jdXJyZW5jeSxzPW8uc3RvcmVQcm9maWxlLnN0b3JlTGFuZ3VhZ2UsYz10aGlzLl9wYXltZW50TWV0aG9kLHU9Yy5ub25jZSxwPWMuY29uZmlnLmlzVmF1bHRpbmdFbmFibGVkLGg9dC5wYXltZW50RGF0YSxsPXZvaWQgMD09PWg/e306aDtpZih1KXJldHVybiBQcm9taXNlLnJlc29sdmUoT2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSx0KSx7cGF5bWVudERhdGE6dGhpcy5fZm9ybWF0dGVkUGF5bG9hZCh1KX0pKTtpZihPYmplY3QoZ2UuYSkobCl8fE9iamVjdChnZS5jKShsKSl7aWYoIXApdGhyb3cgbmV3IEl0LmEoXCJWYXVsdGluZyBpcyBkaXNhYmxlZCBidXQgYSB2YXVsdGVkIGluc3RydW1lbnQgd2FzIGJlaW5nIHVzZWQgZm9yIHRoaXMgdHJhbnNhY3Rpb25cIik7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0KX1pZihsLnNob3VsZFNhdmVJbnN0cnVtZW50JiYhcCl0aHJvdyBuZXcgSXQuYShcIlZhdWx0aW5nIGlzIGRpc2FibGVkIGJ1dCBzaG91bGRTYXZlSW5zdHJ1bWVudCBpcyBzZXQgdG8gdHJ1ZVwiKTt2YXIgbSxmPXIuc2hpcHBpbmdBZGRyZXNzLmdldFNoaXBwaW5nQWRkcmVzcygpLF89Zj97cmVjaXBpZW50TmFtZToobT1mKS5maXJzdE5hbWUrXCIgXCIrbS5sYXN0TmFtZSxsaW5lMTptLmFkZHJlc3MxLGxpbmUyOm0uYWRkcmVzczIsY2l0eTptLmNpdHksc3RhdGU6bS5zdGF0ZU9yUHJvdmluY2VDb2RlLHBvc3RhbENvZGU6bS5wb3N0YWxDb2RlLGNvdW50cnlDb2RlOm0uY291bnRyeUNvZGUscGhvbmU6bS5waG9uZX06dm9pZCAwO3JldHVybiBQcm9taXNlLmFsbChbdGhpcy5fYnJhaW50cmVlUGF5bWVudFByb2Nlc3Nvci5wYXlwYWwoe2Ftb3VudDppLGxvY2FsZTpzLGN1cnJlbmN5OmEuY29kZSxvZmZlckNyZWRpdDp0aGlzLl9jcmVkaXQsc2hpcHBpbmdBZGRyZXNzT3ZlcnJpZGU6XyxzaG91bGRTYXZlSW5zdHJ1bWVudDpsLnNob3VsZFNhdmVJbnN0cnVtZW50fHwhMX0pLHRoaXMuX2JyYWludHJlZVBheW1lbnRQcm9jZXNzb3IuZ2V0U2Vzc2lvbklkKCldKS50aGVuKChmdW5jdGlvbihlKXt2YXIgcj1lWzBdLGk9dm9pZCAwPT09cj97fTpyLG89aS5ub25jZSxhPWkuZGV0YWlscyxzPWVbMV07cmV0dXJuIE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30sdCkse3BheW1lbnREYXRhOm4uX2Zvcm1hdHRlZFBheWxvYWQobyxhJiZhLmVtYWlsLHMsbC5zaG91bGRTYXZlSW5zdHJ1bWVudCxsLnNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQpfSl9KSl9LHQucHJvdG90eXBlLl9mb3JtYXR0ZWRQYXlsb2FkPWZ1bmN0aW9uKHQsZSxuLHIsaSl7cmV0dXJue2Zvcm1hdHRlZFBheWxvYWQ6e3ZhdWx0X3BheW1lbnRfaW5zdHJ1bWVudDpyfHxudWxsLHNldF9hc19kZWZhdWx0X3N0b3JlZF9pbnN0cnVtZW50Oml8fG51bGwsZGV2aWNlX2luZm86bnx8bnVsbCxwYXlwYWxfYWNjb3VudDp7dG9rZW46dCxlbWFpbDplfHxudWxsfX19fSx0fSgpLFBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyLGksbyxhLHMpe3RoaXMuX3N0b3JlPXQsdGhpcy5fY2hlY2tvdXRBY3Rpb25DcmVhdG9yPWUsdGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3I9bix0aGlzLl9wYXltZW50U3RyYXRlZ3lBY3Rpb25DcmVhdG9yPXIsdGhpcy5fcGF5bWVudEFjdGlvbkNyZWF0b3I9aSx0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3I9byx0aGlzLl9icmFpbnRyZWVWaXNhQ2hlY2tvdXRQYXltZW50UHJvY2Vzc29yPWEsdGhpcy5fdmlzYUNoZWNrb3V0U2NyaXB0TG9hZGVyPXN9cmV0dXJuIHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXQuYnJhaW50cmVldmlzYWNoZWNrb3V0LHI9dC5tZXRob2RJZDtpZighbil0aHJvdyBuZXcgSXQuYSgnVW5hYmxlIHRvIGluaXRpYWxpemUgcGF5bWVudCBiZWNhdXNlIFwib3B0aW9ucy5icmFpbnRyZWV2aXNhY2hlY2tvdXRcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuJyk7cmV0dXJuIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yLmxvYWRQYXltZW50TWV0aG9kKHIpKS50aGVuKChmdW5jdGlvbih0KXtlLl9wYXltZW50TWV0aG9kPXQucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZChyKTt2YXIgaT10LmNoZWNrb3V0LmdldENoZWNrb3V0KCksbz10LmNvbmZpZy5nZXRTdG9yZUNvbmZpZygpO2lmKCFpKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdDaGVja291dCk7aWYoIW8pdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ0NoZWNrb3V0Q29uZmlnKTtpZighZS5fcGF5bWVudE1ldGhvZHx8IWUuX3BheW1lbnRNZXRob2QuY2xpZW50VG9rZW4pdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ1BheW1lbnRNZXRob2QpO3ZhciBhPW4ub25FcnJvcixzPXZvaWQgMD09PWE/ZnVuY3Rpb24oKXt9OmEsYz1uLm9uUGF5bWVudFNlbGVjdCx1PXZvaWQgMD09PWM/ZnVuY3Rpb24oKXt9OmMsZD17bG9jYWxlOm8uc3RvcmVQcm9maWxlLnN0b3JlTGFuZ3VhZ2UsY29sbGVjdFNoaXBwaW5nOiExLHN1YnRvdGFsOmkuc3VidG90YWwsY3VycmVuY3lDb2RlOm8uY3VycmVuY3kuY29kZX07cmV0dXJuIFByb21pc2UuYWxsKFtlLl92aXNhQ2hlY2tvdXRTY3JpcHRMb2FkZXIubG9hZChlLl9wYXltZW50TWV0aG9kLmNvbmZpZy50ZXN0TW9kZSksZS5fYnJhaW50cmVlVmlzYUNoZWNrb3V0UGF5bWVudFByb2Nlc3Nvci5pbml0aWFsaXplKGUuX3BheW1lbnRNZXRob2QuY2xpZW50VG9rZW4sZCldKS50aGVuKChmdW5jdGlvbih0KXt2YXIgbj10WzBdLHI9dFsxXTtuLmluaXQociksbi5vbihcInBheW1lbnQuc3VjY2Vzc1wiLChmdW5jdGlvbih0KXtyZXR1cm4gZS5fcGF5bWVudEluc3RydW1lbnRTZWxlY3RlZCh0KS50aGVuKChmdW5jdGlvbigpe3JldHVybiB1KCl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3JldHVybiBzKHQpfSkpfSkpLG4ub24oXCJwYXltZW50LmVycm9yXCIsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHMoZSl9KSl9KSl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gZS5fc3RvcmUuZ2V0U3RhdGUoKX0pKX0sdC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj10LnBheW1lbnQsaT1PYmplY3QoZC5fX3Jlc3QpKHQsW1wicGF5bWVudFwiXSk7aWYoIXIpdGhyb3cgbmV3IEl0LmEoJ1VuYWJsZSB0byBzdWJtaXQgcGF5bWVudCBiZWNhdXNlIFwicGF5bG9hZC5wYXltZW50XCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicpO2lmKCF0aGlzLl9wYXltZW50TWV0aG9kfHwhdGhpcy5fcGF5bWVudE1ldGhvZC5pbml0aWFsaXphdGlvbkRhdGF8fCF0aGlzLl9wYXltZW50TWV0aG9kLmluaXRpYWxpemF0aW9uRGF0YS5ub25jZSl0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7dmFyIG89dGhpcy5fcGF5bWVudE1ldGhvZC5pbml0aWFsaXphdGlvbkRhdGEubm9uY2U7cmV0dXJuIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvci5zdWJtaXRPcmRlcihpLGUpKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBuLl9zdG9yZS5kaXNwYXRjaChuLl9wYXltZW50QWN0aW9uQ3JlYXRvci5zdWJtaXRQYXltZW50KE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30scikse3BheW1lbnREYXRhOntub25jZTpvfX0pKSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3JldHVybiBuLl9oYW5kbGVFcnJvcih0KX0pKX0sdC5wcm90b3R5cGUuZmluYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEt0KX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5fYnJhaW50cmVlVmlzYUNoZWNrb3V0UGF5bWVudFByb2Nlc3Nvci5kZWluaXRpYWxpemUoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0Ll9zdG9yZS5nZXRTdGF0ZSgpfSkpfSx0LnByb3RvdHlwZS5fcGF5bWVudEluc3RydW1lbnRTZWxlY3RlZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKTtpZighdGhpcy5fcGF5bWVudE1ldGhvZCl0aHJvdyBuZXcgRXJyb3IoXCJQYXltZW50IG1ldGhvZCBub3QgaW5pdGlhbGl6ZWRcIik7dmFyIHI9dGhpcy5fcGF5bWVudE1ldGhvZC5pZDtyZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcGF5bWVudFN0cmF0ZWd5QWN0aW9uQ3JlYXRvci53aWRnZXRJbnRlcmFjdGlvbigoZnVuY3Rpb24oKXtyZXR1cm4gZS5fYnJhaW50cmVlVmlzYUNoZWNrb3V0UGF5bWVudFByb2Nlc3Nvci5oYW5kbGVTdWNjZXNzKHQsbi5zaGlwcGluZ0FkZHJlc3MuZ2V0U2hpcHBpbmdBZGRyZXNzKCksbi5iaWxsaW5nQWRkcmVzcy5nZXRCaWxsaW5nQWRkcmVzcygpKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLmFsbChbZS5fc3RvcmUuZGlzcGF0Y2goZS5fY2hlY2tvdXRBY3Rpb25DcmVhdG9yLmxvYWRDdXJyZW50Q2hlY2tvdXQoKSksZS5fc3RvcmUuZGlzcGF0Y2goZS5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3IubG9hZFBheW1lbnRNZXRob2QocikpXSl9KSl9KSx7bWV0aG9kSWQ6cn0pLHtxdWV1ZUlkOlwid2lkZ2V0SW50ZXJhY3Rpb25cIn0pfSx0LnByb3RvdHlwZS5faGFuZGxlRXJyb3I9ZnVuY3Rpb24odCl7aWYoXCJCcmFpbnRyZWVFcnJvclwiPT09dC5uYW1lKXRocm93IG5ldyBJbi5hKHQubWVzc2FnZSk7dGhyb3cgdH0sdH0oKTt2YXIgam4sa24sTW4sVG4sUm4sRG4sem4sTG49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt0aGlzLl9zdG9yZT10LHRoaXMuX3BheW1lbnRBY3Rpb25DcmVhdG9yPWUsdGhpcy5fY2FyZGluYWxDbGllbnQ9bn1yZXR1cm4gdC5wcm90b3R5cGUucHJlcGFyZT1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihlKXtzd2l0Y2goZS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuX2NhcmRpbmFsQ2xpZW50LmxvYWQodC5pZCx0LmNvbmZpZy50ZXN0TW9kZSldO2Nhc2UgMTpyZXR1cm4gZS5zZW50KCksWzJdfX0pKX0pKX0sdC5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24odCxlLG4scil7dmFyIGksbyxhO3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgcyxjLHUscCxoLGwsbSxmLF8seSxnLGI7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihkKXtzd2l0Y2goZC5sYWJlbCl7Y2FzZSAwOnM9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKS5pbnN0cnVtZW50cy5nZXRDYXJkSW5zdHJ1bWVudCxjPWUucGF5bWVudCxwPSh1PXZvaWQgMD09PWM/e21ldGhvZElkOlwiXCJ9OmMpLnBheW1lbnREYXRhLGg9dm9pZCAwPT09cD97fTpwLGQubGFiZWw9MTtjYXNlIDE6cmV0dXJuIGQudHJ5cy5wdXNoKFsxLDMsLDEzXSksWzQsdChlLG4pXTtjYXNlIDI6cmV0dXJuWzIsZC5zZW50KCldO2Nhc2UgMzpyZXR1cm4obD1kLnNlbnQoKSlpbnN0YW5jZW9mIEZlLmEmJlwiYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWRcIj09PWwuYm9keS5zdGF0dXM/KG09bnVsbD09PShvPW51bGw9PT0oaT1sLmJvZHkuYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWQpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmRhdGEpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLnRva2VuLGY9bnVsbD09PShhPWwuYm9keS50aHJlZV9kc19yZXN1bHQpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLnBheWVyX2F1dGhfcmVxdWVzdCxbNCx0aGlzLl9jYXJkaW5hbENsaWVudC5jb25maWd1cmUobSldKTpbMywxMl07Y2FzZSA0OnJldHVybiBkLnNlbnQoKSwoXz10aGlzLl9nZXRCaW4oaCxzLHIpKT9bNCx0aGlzLl9jYXJkaW5hbENsaWVudC5ydW5CaW5Qcm9jZXNzKF8pXTpbMyw2XTtjYXNlIDU6ZC5zZW50KCksZC5sYWJlbD02O2Nhc2UgNjpyZXR1cm4gZC50cnlzLnB1c2goWzYsOCwsMTJdKSxbNCx0aGlzLl9zdWJtaXRQYXltZW50KHUse3hpZDpmfSxyKV07Y2FzZSA3OnJldHVyblsyLGQuc2VudCgpXTtjYXNlIDg6cmV0dXJuKHk9ZC5zZW50KCkpaW5zdGFuY2VvZiBGZS5hJiZPYmplY3QoQnQuc29tZSkoeS5ib2R5LmVycm9ycyx7Y29kZTpcInRocmVlX2Rfc2VjdXJlX3JlcXVpcmVkXCJ9KT8oZz15LmJvZHkudGhyZWVfZHNfcmVzdWx0LGI9bnVsbD09Zz92b2lkIDA6Zy5wYXllcl9hdXRoX3JlcXVlc3QsWzQsdGhpcy5fY2FyZGluYWxDbGllbnQuZ2V0VGhyZWVEU2VjdXJlRGF0YShnLHRoaXMuX2dldE9yZGVyRGF0YSgpKV0pOlszLDExXTtjYXNlIDk6cmV0dXJuIGQuc2VudCgpLFs0LHRoaXMuX3N1Ym1pdFBheW1lbnQodSx7dG9rZW46Yn0scildO2Nhc2UgMTA6cmV0dXJuWzIsZC5zZW50KCldO2Nhc2UgMTE6dGhyb3cgeTtjYXNlIDEyOnRocm93IGw7Y2FzZSAxMzpyZXR1cm5bMl19fSkpfSkpfSx0LnByb3RvdHlwZS5fZ2V0T3JkZXJEYXRhPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSxlPXQuYmlsbGluZ0FkZHJlc3MuZ2V0QmlsbGluZ0FkZHJlc3NPclRocm93KCksbj10LnNoaXBwaW5nQWRkcmVzcy5nZXRTaGlwcGluZ0FkZHJlc3MoKSxyPXQuY2hlY2tvdXQuZ2V0Q2hlY2tvdXRPclRocm93KCkuY2FydCxpPXIuY3VycmVuY3kuY29kZSxvPXIuY2FydEFtb3VudDtyZXR1cm57YmlsbGluZ0FkZHJlc3M6ZSxzaGlwcGluZ0FkZHJlc3M6bixjdXJyZW5jeUNvZGU6aSxpZDp0Lm9yZGVyLmdldE9yZGVyT3JUaHJvdygpLm9yZGVySWQudG9TdHJpbmcoKSxhbW91bnQ6b319LHQucHJvdG90eXBlLl9zdWJtaXRQYXltZW50PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHI7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihpKXtzd2l0Y2goaS5sYWJlbCl7Y2FzZSAwOnJldHVybiByPU9iamVjdChCdC5tZXJnZSkoe30sdCx7cGF5bWVudERhdGE6e3RocmVlRFNlY3VyZTplfX0pLG4/WzMsMl06WzQsdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcGF5bWVudEFjdGlvbkNyZWF0b3Iuc3VibWl0UGF5bWVudChyKSldO2Nhc2UgMTpyZXR1cm5bMixpLnNlbnQoKV07Y2FzZSAyOnJldHVybls0LG4uc3VibWl0KHIpXTtjYXNlIDM6cmV0dXJuIGkuc2VudCgpLFsyLHRoaXMuX3N0b3JlLmdldFN0YXRlKCldfX0pKX0pKX0sdC5wcm90b3R5cGUuX2dldEJpbj1mdW5jdGlvbih0LGUsbil7dmFyIHI9T2JqZWN0KGdlLmEpKHQpJiZlKHQuaW5zdHJ1bWVudElkKSxpPWZ1bmN0aW9uKHQpe3ZhciBlPXQ7cmV0dXJuIU9iamVjdChnZS5hKShlKSYmXCJzdHJpbmdcIj09dHlwZW9mIGUuY2NOYW1lJiZcInN0cmluZ1wiPT10eXBlb2YgZS5jY051bWJlciYmXCJvYmplY3RcIj09dHlwZW9mIGUuY2NFeHBpcnkmJlwic3RyaW5nXCI9PXR5cGVvZiBlLmNjRXhwaXJ5Lm1vbnRoJiZcInN0cmluZ1wiPT10eXBlb2YgZS5jY0V4cGlyeS55ZWFyfSh0KSYmdC5jY051bWJlcjtyZXR1cm4ocj9yLmlpbjpuP251bGw9PW4/dm9pZCAwOm4uZ2V0QmluKCk6aSl8fFwiXCJ9LHR9KCksTm49WzEwMDAwNCwxMDEwLDEwMTEsMTAyMF07IWZ1bmN0aW9uKHQpe3QuSW5pdD1cImluaXRcIix0LkNvbXBsZXRlPVwiY29tcGxldGVcIix0LkNvbmZpcm09XCJjb25maXJtXCJ9KGpufHwoam49e30pKSxmdW5jdGlvbih0KXt0LlNldHVwQ29tcGxldGVkPVwicGF5bWVudHMuc2V0dXBDb21wbGV0ZVwiLHQuVmFsaWRhdGVkPVwicGF5bWVudHMudmFsaWRhdGVkXCJ9KGtufHwoa249e30pKSxmdW5jdGlvbih0KXt0LlN1Y2Nlc3M9XCJTVUNDRVNTXCIsdC5Ob0FjdGlvbj1cIk5PQUNUSU9OXCIsdC5GYWlsdXJlPVwiRkFJTFVSRVwiLHQuRXJyb3I9XCJFUlJPUlwifShNbnx8KE1uPXt9KSksZnVuY3Rpb24odCl7dC5DQ0E9XCJDQ0FcIix0LlBheXBhbD1cIlBheXBhbFwiLHQuV2FsbGV0PVwiV2FsbGV0XCIsdC5WaXNhQ2hlY2tvdXQ9XCJWaXNhQ2hlY2tvdXRcIix0LkFwcGxlUGF5PVwiQXBwbGVQYXlcIix0LkRpc2NvdmVyV2FsbGV0PVwiRGlzY292ZXJXYWxsZXRcIn0oVG58fChUbj17fSkpLGZ1bmN0aW9uKHQpe3QuQmluUHJvY2Vzcz1cImJpbi5wcm9jZXNzXCJ9KFJufHwoUm49e30pKSxmdW5jdGlvbih0KXt0LkNDQT1cImNjYVwifShEbnx8KERuPXt9KSksZnVuY3Rpb24odCl7dC5ZZXM9XCJZXCIsdC5Obz1cIk5cIn0oem58fCh6bj17fSkpO3ZhciBGbixxbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fc2NyaXB0TG9hZGVyPXQsdGhpcy5fcHJvdmlkZXI9XCJcIix0aGlzLl90ZXN0TW9kZT0hMSx0aGlzLl9jb25maWd1cmF0aW9uVG9rZW49XCJcIn1yZXR1cm4gdC5wcm90b3R5cGUubG9hZD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0hMSksdGhpcy5fcHJvdmlkZXI9dCx0aGlzLl90ZXN0TW9kZT1lLHRoaXMuX3Nka3x8KHRoaXMuX3Nkaz10aGlzLl9zY3JpcHRMb2FkZXIubG9hZCh0LGUpKSx0aGlzLl9zZGsudGhlbigoZnVuY3Rpb24oKXt9KSl9LHQucHJvdG90eXBlLmNvbmZpZ3VyZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKHRoaXMuX2NvbmZpZ3VyYXRpb25Ub2tlbil7aWYodGhpcy5fY29uZmlndXJhdGlvblRva2VuPT09dClyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7dGhpcy5fc2RrPXRoaXMuX3NjcmlwdExvYWRlci5sb2FkKHRoaXMuX3Byb3ZpZGVyK1wiLlwiK0RhdGUubm93KCksdGhpcy5fdGVzdE1vZGUpfXJldHVybiB0aGlzLl9nZXRDbGllbnRTREsoKS50aGVuKChmdW5jdGlvbihuKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHIsaSl7bi5vbihrbi5TZXR1cENvbXBsZXRlZCwoZnVuY3Rpb24oKXtuLm9mZihrbi5TZXR1cENvbXBsZXRlZCksbi5vZmYoa24uVmFsaWRhdGVkKSxlLl9jb25maWd1cmF0aW9uVG9rZW49dCxyKCl9KSksbi5vbihrbi5WYWxpZGF0ZWQsKGZ1bmN0aW9uKHQpe3N3aXRjaChuLm9mZihrbi5TZXR1cENvbXBsZXRlZCksbi5vZmYoa24uVmFsaWRhdGVkKSx0LkFjdGlvbkNvZGUpe2Nhc2UgTW4uRXJyb3I6T2JqZWN0KEJ0LmluY2x1ZGVzKShObix0LkVycm9yTnVtYmVyKSYmaShuZXcgdi5iKHYuYS5NaXNzaW5nUGF5bWVudE1ldGhvZCkpLGkobmV3IEluLmEodC5FcnJvckRlc2NyaXB0aW9uKSl9fSkpLG4uc2V0dXAoam4uSW5pdCx7and0OnR9KX0pKX0pKX0sdC5wcm90b3R5cGUucnVuQmluUHJvY2Vzcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZ2V0Q2xpZW50U0RLKCkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJpZ2dlcihSbi5CaW5Qcm9jZXNzLHQpLmNhdGNoKChmdW5jdGlvbigpe30pKX0pKS50aGVuKChmdW5jdGlvbih0KXtpZighdHx8IXQuU3RhdHVzKXRocm93IG5ldyBidC5iKGJ0LmEuUGF5bWVudE5vdEluaXRpYWxpemVkKX0pKX0sdC5wcm90b3R5cGUuZ2V0VGhyZWVEU2VjdXJlRGF0YT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIHRoaXMuX2dldENsaWVudFNESygpLnRoZW4oKGZ1bmN0aW9uKHIpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oaSxvKXtyLm9uKGtuLlZhbGlkYXRlZCwoZnVuY3Rpb24odCxlKXtpZihyLm9mZihrbi5WYWxpZGF0ZWQpLCFlKXJldHVybiBvKG5ldyBJbi5hKHQuRXJyb3JEZXNjcmlwdGlvbj90LkVycm9yRGVzY3JpcHRpb246XCJBbiBlcnJvciB3YXMgZW5jb3VudGVyZWQgd2hpbGUgcHJvY2Vzc2luZyB0aGUgdHJhbnNhY3Rpb24uXCIpKTtpZighdC5BY3Rpb25Db2RlKXJldHVybiBpKHt0b2tlbjplfSk7c3dpdGNoKHQuQWN0aW9uQ29kZSl7Y2FzZSBNbi5TdWNjZXNzOnJldHVybiBpKHt0b2tlbjplfSk7Y2FzZSBNbi5Ob0FjdGlvbjpyZXR1cm4gdC5FcnJvck51bWJlcj4wP28obmV3IEluLmEodC5FcnJvckRlc2NyaXB0aW9uKSk6dC5QYXltZW50JiZ0LlBheW1lbnQuRXh0ZW5kZWREYXRhJiZ0LlBheW1lbnQuRXh0ZW5kZWREYXRhLlNpZ25hdHVyZVZlcmlmaWNhdGlvbj09PXpuLlllcz9pKHt0b2tlbjplfSk6byhuZXcgSW4uYShcIlRyYW5zYWN0aW9uIHNpZ25hdHVyZSBjb3VsZCBub3QgYmUgdmFsaWRhdGVkLlwiKSk7Y2FzZSBNbi5GYWlsdXJlOnJldHVybiBvKG5ldyBJbi5hKFwiVXNlciBmYWlsZWQgYXV0aGVudGljYXRpb24gb3IgYW4gZXJyb3Igd2FzIGVuY291bnRlcmVkIHdoaWxlIHByb2Nlc3NpbmcgdGhlIHRyYW5zYWN0aW9uLlwiKSk7Y2FzZSBNbi5FcnJvcjpyZXR1cm4gbyhuZXcgSW4uYSh0LkVycm9yRGVzY3JpcHRpb24pKX19KSk7dmFyIGE9e0Fjc1VybDp0LmFjc191cmwsUGF5bG9hZDp0Lm1lcmNoYW50X2RhdGF9LHM9bi5fbWFwVG9QYXJ0aWFsT3JkZXIoZSx0LnBheWVyX2F1dGhfcmVxdWVzdCk7ci5jb250aW51ZShEbi5DQ0EsYSxzKX0pKX0pKX0sdC5wcm90b3R5cGUuX21hcFRvUGFydGlhbE9yZGVyPWZ1bmN0aW9uKHQsZSl7dmFyIG49e0JpbGxpbmdBZGRyZXNzOnRoaXMuX21hcFRvQ2FyZGluYWxBZGRyZXNzKHQuYmlsbGluZ0FkZHJlc3MpfTtyZXR1cm4gdC5wYXltZW50RGF0YSYmKG4uQWNjb3VudD10aGlzLl9tYXBUb0NhcmRpbmFsQWNjb3VudCh0LnBheW1lbnREYXRhKSksdC5iaWxsaW5nQWRkcmVzcy5lbWFpbCYmKG4uRW1haWwxPXQuYmlsbGluZ0FkZHJlc3MuZW1haWwpLHQuc2hpcHBpbmdBZGRyZXNzJiYobi5TaGlwcGluZ0FkZHJlc3M9dGhpcy5fbWFwVG9DYXJkaW5hbEFkZHJlc3ModC5zaGlwcGluZ0FkZHJlc3MpKSx7Q29uc3VtZXI6bixPcmRlckRldGFpbHM6e09yZGVyTnVtYmVyOnQuaWQsQW1vdW50OnQuYW1vdW50LEN1cnJlbmN5Q29kZTp0LmN1cnJlbmN5Q29kZSxPcmRlckNoYW5uZWw6XCJTXCIsVHJhbnNhY3Rpb25JZDplfX19LHQucHJvdG90eXBlLl9tYXBUb0NhcmRpbmFsQWNjb3VudD1mdW5jdGlvbih0KXtyZXR1cm57QWNjb3VudE51bWJlcjpOdW1iZXIodC5jY051bWJlciksRXhwaXJhdGlvbk1vbnRoOk51bWJlcih0LmNjRXhwaXJ5Lm1vbnRoKSxFeHBpcmF0aW9uWWVhcjpOdW1iZXIodC5jY0V4cGlyeS55ZWFyKSxOYW1lT25BY2NvdW50OnQuY2NOYW1lLENhcmRDb2RlOk51bWJlcih0LmNjQ3Z2KX19LHQucHJvdG90eXBlLl9tYXBUb0NhcmRpbmFsQWRkcmVzcz1mdW5jdGlvbih0KXt2YXIgZT17Rmlyc3ROYW1lOnQuZmlyc3ROYW1lLExhc3ROYW1lOnQubGFzdE5hbWUsQWRkcmVzczE6dC5hZGRyZXNzMSxDaXR5OnQuY2l0eSxTdGF0ZTp0LnN0YXRlT3JQcm92aW5jZSxQb3N0YWxDb2RlOnQucG9zdGFsQ29kZSxDb3VudHJ5Q29kZTp0LmNvdW50cnlDb2RlfTtyZXR1cm4gdC5hZGRyZXNzMiYmKGUuQWRkcmVzczI9dC5hZGRyZXNzMiksdC5waG9uZSYmKGUuUGhvbmUxPXQucGhvbmUpLGV9LHQucHJvdG90eXBlLl9nZXRDbGllbnRTREs9ZnVuY3Rpb24oKXtpZighdGhpcy5fc2RrKXRocm93IG5ldyBidC5iKGJ0LmEuUGF5bWVudE5vdEluaXRpYWxpemVkKTtyZXR1cm4gdGhpcy5fc2RrfSx0fSgpLFVuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZvaWQgMD09PWUmJihlPXdpbmRvdyksdGhpcy5fc2NyaXB0TG9hZGVyPXQsdGhpcy5fd2luZG93PWV9cmV0dXJuIHQucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9ZT9cImh0dHBzOi8vc29uZ2JpcmRzdGFnLmNhcmRpbmFsY29tbWVyY2UuY29tL2VkZ2UvdjEvc29uZ2JpcmQuanNcIjpcImh0dHBzOi8vc29uZ2JpcmQuY2FyZGluYWxjb21tZXJjZS5jb20vZWRnZS92MS9zb25nYmlyZC5qc1wiO3JldHVybiB0aGlzLl9zY3JpcHRMb2FkZXIubG9hZFNjcmlwdChyK1wiP3Y9XCIrdCkudGhlbigoZnVuY3Rpb24oKXtpZighbi5fd2luZG93LkNhcmRpbmFsKXRocm93IG5ldyAkLmE7cmV0dXJuIG4uX3dpbmRvdy5DYXJkaW5hbH0pKX0sdH0oKSx4bj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scil7dGhpcy5fc3RvcmU9dCx0aGlzLl9wYXltZW50QWN0aW9uQ3JlYXRvcj1lLHRoaXMuX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yPW4sdGhpcy5fY2FyZGluYWxDbGllbnQ9cn1yZXR1cm4gdC5wcm90b3R5cGUucHJlcGFyZT1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGUsbjtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5fY2FyZGluYWxDbGllbnQubG9hZCh0LmlkLHQuY29uZmlnLnRlc3RNb2RlKV07Y2FzZSAxOnJldHVybiByLnNlbnQoKSxuPShlPXRoaXMuX2NhcmRpbmFsQ2xpZW50KS5jb25maWd1cmUsWzQsdGhpcy5fZ2V0Q2xpZW50VG9rZW4odCldO2Nhc2UgMjpyZXR1cm5bNCxuLmFwcGx5KGUsW3Iuc2VudCgpXSldO2Nhc2UgMzpyZXR1cm4gci5zZW50KCksWzJdfX0pKX0pKX0sdC5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBpLG8sYSxzLGMsdSxwLGgsbCxtLGYsXyx5O3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24oZCl7c3dpdGNoKGQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gaT10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLG89aS5pbnN0cnVtZW50cy5nZXRDYXJkSW5zdHJ1bWVudCxhPWkucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cscz1lLnBheW1lbnQsdT0oYz12b2lkIDA9PT1zP3t9OnMpLm1ldGhvZElkLHA9dm9pZCAwPT09dT9cIlwiOnUsaD1jLnBheW1lbnREYXRhLGw9dm9pZCAwPT09aD97fTpoLG09T2JqZWN0KGdlLmEpKGwpJiZvKGwuaW5zdHJ1bWVudElkKSwoZj1tP20uaWluOnImJnIuZ2V0QmluKCkpP1s0LHRoaXMuX2NhcmRpbmFsQ2xpZW50LnJ1bkJpblByb2Nlc3MoZildOlszLDJdO2Nhc2UgMTpkLnNlbnQoKSxkLmxhYmVsPTI7Y2FzZSAyOnJldHVybiBkLnRyeXMucHVzaChbMiw0LCw5XSksWzQsdChPYmplY3QoQnQubWVyZ2UpKGUse3BheW1lbnQ6e3BheW1lbnREYXRhOnt0aHJlZURTZWN1cmU6e3Rva2VuOmEocCkuY2xpZW50VG9rZW59fX19KSxuKV07Y2FzZSAzOnJldHVyblsyLGQuc2VudCgpXTtjYXNlIDQ6aWYoISgoXz1kLnNlbnQoKSlpbnN0YW5jZW9mIEZlLmEmJk9iamVjdChCdC5zb21lKShfLmJvZHkuZXJyb3JzLHtjb2RlOlwidGhyZWVfZF9zZWN1cmVfcmVxdWlyZWRcIn0pKSl0aHJvdyBfO3JldHVybls0LHRoaXMuX2NhcmRpbmFsQ2xpZW50LmdldFRocmVlRFNlY3VyZURhdGEoXy5ib2R5LnRocmVlX2RzX3Jlc3VsdCx0aGlzLl9nZXRPcmRlckRhdGEoKSldO2Nhc2UgNTpyZXR1cm4geT1kLnNlbnQoKSxyP1szLDddOls0LHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3BheW1lbnRBY3Rpb25DcmVhdG9yLnN1Ym1pdFBheW1lbnQoT2JqZWN0KEJ0Lm1lcmdlKShlLnBheW1lbnQse3BheW1lbnREYXRhOnt0aHJlZURTZWN1cmU6eX19KSkpXTtjYXNlIDY6cmV0dXJuWzIsZC5zZW50KCldO2Nhc2UgNzpyZXR1cm5bNCxyLnN1Ym1pdChPYmplY3QoQnQubWVyZ2UpKGUucGF5bWVudCx7cGF5bWVudERhdGE6e3RocmVlRFNlY3VyZTp5fX0pKV07Y2FzZSA4OnJldHVybiBkLnNlbnQoKSxbMix0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpXTtjYXNlIDk6cmV0dXJuWzJdfX0pKX0pKX0sdC5wcm90b3R5cGUuX2dldENsaWVudFRva2VuPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKGUpe3N3aXRjaChlLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHQuY2xpZW50VG9rZW4/WzIsdC5jbGllbnRUb2tlbl06WzQsdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3IubG9hZFBheW1lbnRNZXRob2QodC5pZCkpXTtjYXNlIDE6cmV0dXJuWzIsKDAsZS5zZW50KCkucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cpKHQuaWQpLmNsaWVudFRva2VufHxcIlwiXX19KSl9KSl9LHQucHJvdG90eXBlLl9nZXRPcmRlckRhdGE9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLGU9dC5iaWxsaW5nQWRkcmVzcy5nZXRCaWxsaW5nQWRkcmVzc09yVGhyb3coKSxuPXQuc2hpcHBpbmdBZGRyZXNzLmdldFNoaXBwaW5nQWRkcmVzcygpLHI9dC5jaGVja291dC5nZXRDaGVja291dE9yVGhyb3coKSxpPXQub3JkZXIuZ2V0T3JkZXJPclRocm93KCk7cmV0dXJue2JpbGxpbmdBZGRyZXNzOmUsc2hpcHBpbmdBZGRyZXNzOm4sY3VycmVuY3lDb2RlOnIuY2FydC5jdXJyZW5jeS5jb2RlLGlkOmkub3JkZXJJZC50b1N0cmluZygpLGFtb3VudDpyLmNhcnQuY2FydEFtb3VudH19LHR9KCk7IWZ1bmN0aW9uKHQpe3QuU3RhcnRDaGVja291dD1cInN0YXJ0Q2hlY2tvdXRcIix0LkNvbXBsZXRlQ2hlY2tvdXQ9XCJjb21wbGV0ZUNoZWNrb3V0XCIsdC5DYW5jZWxDaGVja291dD1cImNhbmNlbENoZWNrb3V0XCJ9KEZufHwoRm49e30pKTt2YXIgQm4sR24sVm49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIsaSxvLGEscyxjKXt0aGlzLl9zdG9yZT10LHRoaXMuX2NoZWNrb3V0QWN0aW9uQ3JlYXRvcj1lLHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvcj1uLHRoaXMuX3BheW1lbnRBY3Rpb25DcmVhdG9yPXIsdGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3I9aSx0aGlzLl9wYXltZW50U3RyYXRlZ3lBY3Rpb25DcmVhdG9yPW8sdGhpcy5fcmVxdWVzdFNlbmRlcj1hLHRoaXMuX2NoYXNlUGF5U2NyaXB0TG9hZGVyPXMsdGhpcy5fd2VwYXlSaXNrQ2xpZW50PWMsdGhpcy5fd2FsbGV0RXZlbnQkPW5ldyBiLlN1YmplY3R9cmV0dXJuIHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZih0aGlzLl9tZXRob2RJZD10Lm1ldGhvZElkLCF0LmNoYXNlcGF5KXRocm93IG5ldyBJdC5hKCdVbmFibGUgdG8gaW5pdGlhbGl6ZSBwYXltZW50IGJlY2F1c2UgXCJvcHRpb25zLmNoYXNlcGF5XCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicpO3ZhciBuPXQuY2hhc2VwYXkud2FsbGV0QnV0dG9uJiZkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0LmNoYXNlcGF5LndhbGxldEJ1dHRvbik7cmV0dXJuIG4mJih0aGlzLl93YWxsZXRCdXR0b249bix0aGlzLl93YWxsZXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5faGFuZGxlV2FsbGV0QnV0dG9uQ2xpY2spKSx0aGlzLl9jb25maWd1cmVXYWxsZXQodC5jaGFzZXBheSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gZS5fc3RvcmUuZ2V0U3RhdGUoKX0pKX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dhbGxldEJ1dHRvbiYmdGhpcy5fd2FsbGV0QnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMuX2hhbmRsZVdhbGxldEJ1dHRvbkNsaWNrKSx0aGlzLl93YWxsZXRCdXR0b249dm9pZCAwLHRoaXMuX2NoYXNlUGF5Q2xpZW50PXZvaWQgMCxQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSl9LHQucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiB0aGlzLl9nZXRQYXltZW50KCkuY2F0Y2goKGZ1bmN0aW9uKHQpe2lmKHQuc3VidHlwZT09PXYuYS5NaXNzaW5nUGF5bWVudClyZXR1cm4gbi5fZGlzcGxheVdhbGxldCgpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIG4uX2dldFBheW1lbnQoKX0pKTt0aHJvdyB0fSkpLnRoZW4oKGZ1bmN0aW9uKHIpe3JldHVybiBuLl9jcmVhdGVPcmRlcihyLHQudXNlU3RvcmVDcmVkaXQsZSl9KSl9LHQucHJvdG90eXBlLmZpbmFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBLdCl9LHQucHJvdG90eXBlLl9jb25maWd1cmVXYWxsZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRoaXMuX3N0b3JlLmdldFN0YXRlKCkscj1uLnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2QodGhpcy5fbWV0aG9kSWQpLGk9bi5jb25maWcuZ2V0U3RvcmVDb25maWcoKTtpZighcil0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7aWYoIWkpdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ0NoZWNrb3V0Q29uZmlnKTtyZXR1cm4gdGhpcy5fY2hhc2VQYXlTY3JpcHRMb2FkZXIubG9hZChyLmNvbmZpZy50ZXN0TW9kZSkudGhlbigoZnVuY3Rpb24obil7dmFyIHI9bi5DaGFzZVBheTtlLl9jaGFzZVBheUNsaWVudD1yLHQubG9nb0NvbnRhaW5lciYmZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodC5sb2dvQ29udGFpbmVyKSYmZS5fY2hhc2VQYXlDbGllbnQuaW5zZXJ0QnJhbmRpbmdzKHtjb2xvcjpcIndoaXRlXCIsY29udGFpbmVyczpbdC5sb2dvQ29udGFpbmVyXX0pLGUuX2NoYXNlUGF5Q2xpZW50LmNvbmZpZ3VyZSh7bGFuZ3VhZ2U6aS5zdG9yZVByb2ZpbGUuc3RvcmVMYW5ndWFnZX0pLGUuX2NoYXNlUGF5Q2xpZW50Lm9uKEZuLkNhbmNlbENoZWNrb3V0LChmdW5jdGlvbigpe2UuX3dhbGxldEV2ZW50JC5uZXh0KHt0eXBlOkZuLkNhbmNlbENoZWNrb3V0fSksdC5vbkNhbmNlbCYmdC5vbkNhbmNlbCgpfSkpLGUuX2NoYXNlUGF5Q2xpZW50Lm9uKEZuLkNvbXBsZXRlQ2hlY2tvdXQsKGZ1bmN0aW9uKG4pe2UuX3NldFNlc3Npb25Ub2tlbihuLnNlc3Npb25Ub2tlbikudGhlbigoZnVuY3Rpb24oKXtlLl93YWxsZXRFdmVudCQubmV4dCh7dHlwZTpGbi5Db21wbGV0ZUNoZWNrb3V0fSksdC5vblBheW1lbnRTZWxlY3QmJnQub25QYXltZW50U2VsZWN0KCl9KSl9KSl9KSl9LHQucHJvdG90eXBlLl9kaXNwbGF5V2FsbGV0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcGF5bWVudFN0cmF0ZWd5QWN0aW9uQ3JlYXRvci53aWRnZXRJbnRlcmFjdGlvbigoZnVuY3Rpb24oKXtyZXR1cm4gdC5fc3RvcmUuZGlzcGF0Y2godC5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3IubG9hZFBheW1lbnRNZXRob2QodC5fbWV0aG9kSWQpKS50aGVuKChmdW5jdGlvbihlKXt2YXIgbj1lLnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2QodC5fbWV0aG9kSWQpO2lmKCF0Ll9jaGFzZVBheUNsaWVudCl0aHJvdyBuZXcgYnQuYihidC5hLlBheW1lbnROb3RJbml0aWFsaXplZCk7aWYoIW4pdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ1BheW1lbnRNZXRob2QpO3QuX2NoYXNlUGF5Q2xpZW50LnNob3dMb2FkaW5nQW5pbWF0aW9uKCksdC5fY2hhc2VQYXlDbGllbnQuc3RhcnRDaGVja291dChuLmluaXRpYWxpemF0aW9uRGF0YS5kaWdpdGFsU2Vzc2lvbklkKX0pKSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSxuKXt0Ll93YWxsZXRFdmVudCQucGlwZShPYmplY3QoTS50YWtlKSgxKSkuc3Vic2NyaWJlKChmdW5jdGlvbih0KXt0LnR5cGU9PT1Gbi5DYW5jZWxDaGVja291dD9uKG5ldyBVZSk6dC50eXBlPT09Rm4uQ29tcGxldGVDaGVja291dCYmZSgpfSkpfSkpfSkse21ldGhvZElkOnRoaXMuX21ldGhvZElkfSkse3F1ZXVlSWQ6XCJ3aWRnZXRJbnRlcmFjdGlvblwifSl9LHQucHJvdG90eXBlLl9zZXRTZXNzaW9uVG9rZW49ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRoaXMuX3N0b3JlLmdldFN0YXRlKCkucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZCh0aGlzLl9tZXRob2RJZCkscj1uJiZuLmluaXRpYWxpemF0aW9uRGF0YS5tZXJjaGFudFJlcXVlc3RJZDtyZXR1cm4gdGhpcy5fcmVxdWVzdFNlbmRlci5wb3N0KFwiY2hlY2tvdXQucGhwXCIse2hlYWRlcnM6e0FjY2VwdDpcInRleHQvaHRtbFwiLFwiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLThcIn0sYm9keTp7YWN0aW9uOlwic2V0X2V4dGVybmFsX2NoZWNrb3V0XCIscHJvdmlkZXI6dGhpcy5fbWV0aG9kSWQsc2Vzc2lvblRva2VuOnQsbWVyY2hhbnRSZXF1ZXN0SWQ6cn19KS50aGVuKChmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLmFsbChbZS5fc3RvcmUuZGlzcGF0Y2goZS5fY2hlY2tvdXRBY3Rpb25DcmVhdG9yLmxvYWRDdXJyZW50Q2hlY2tvdXQoKSksZS5fc3RvcmUuZGlzcGF0Y2goZS5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3IubG9hZFBheW1lbnRNZXRob2QoZS5fbWV0aG9kSWQpKV0pfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGUuX3N0b3JlLmdldFN0YXRlKCl9KSl9LHQucHJvdG90eXBlLl9nZXRQYXltZW50PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3IubG9hZFBheW1lbnRNZXRob2QodGhpcy5fbWV0aG9kSWQpKS50aGVuKChmdW5jdGlvbigpe3JldHVyblwid2VwYXlcIj09PXQuX21ldGhvZElkP3QuX3dlcGF5Umlza0NsaWVudC5pbml0aWFsaXplKCkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0Umlza1Rva2VuKCl9KSk6XCJcIn0pKS50aGVuKChmdW5jdGlvbihlKXt2YXIgbj10Ll9zdG9yZS5nZXRTdGF0ZSgpLnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2QodC5fbWV0aG9kSWQpO2lmKCFuKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdQYXltZW50TWV0aG9kKTtpZighbi5pbml0aWFsaXphdGlvbkRhdGEucGF5bWVudENyeXB0b2dyYW0pdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ1BheW1lbnQpO3ZhciByPXttZXRob2Q6dC5fbWV0aG9kSWQsY3J5cHRvZ3JhbUlkOm4uaW5pdGlhbGl6YXRpb25EYXRhLnBheW1lbnRDcnlwdG9ncmFtLGVjaTpuLmluaXRpYWxpemF0aW9uRGF0YS5lY2ksdHJhbnNhY3Rpb25JZDpidG9hKG4uaW5pdGlhbGl6YXRpb25EYXRhLnJlcVRva2VuSWQpLGNjRXhwaXJ5Onttb250aDpuLmluaXRpYWxpemF0aW9uRGF0YS5leHBEYXRlLnRvU3RyaW5nKCkuc3Vic3RyKDAsMikseWVhcjpuLmluaXRpYWxpemF0aW9uRGF0YS5leHBEYXRlLnRvU3RyaW5nKCkuc3Vic3RyKDIsMil9LGNjTnVtYmVyOm4uaW5pdGlhbGl6YXRpb25EYXRhLmFjY291bnROdW0sYWNjb3VudE1hc2s6bi5pbml0aWFsaXphdGlvbkRhdGEuYWNjb3VudE1hc2ssZXh0cmFEYXRhOmU/e3Jpc2tUb2tlbjplfTp2b2lkIDB9O3JldHVybnttZXRob2RJZDp0Ll9tZXRob2RJZCxwYXltZW50RGF0YTpyfX0pKX0sdC5wcm90b3R5cGUuX2NyZWF0ZU9yZGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzO3JldHVybiB0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3Iuc3VibWl0T3JkZXIoe3VzZVN0b3JlQ3JlZGl0OmV9LG4pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiByLl9zdG9yZS5kaXNwYXRjaChyLl9wYXltZW50QWN0aW9uQ3JlYXRvci5zdWJtaXRQYXltZW50KHQpKX0pKX0sdC5wcm90b3R5cGUuX2hhbmRsZVdhbGxldEJ1dHRvbkNsaWNrPWZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKSx0aGlzLl9kaXNwbGF5V2FsbGV0KCl9LE9iamVjdChkLl9fZGVjb3JhdGUpKFtEdC5hXSx0LnByb3RvdHlwZSxcIl9oYW5kbGVXYWxsZXRCdXR0b25DbGlja1wiLG51bGwpLHR9KCksWW49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixpLG8pe3ZhciBhPXQuY2FsbCh0aGlzLGUsbixyLGkpfHx0aGlzO3JldHVybiBhLl9mb3JtUG9zdGVyPW8sYX1yZXR1cm4gT2JqZWN0KGQuX19leHRlbmRzKShlLHQpLGUucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oZSxuKXt2YXIgcj10aGlzO3JldHVybiB0LnByb3RvdHlwZS5leGVjdXRlLmNhbGwodGhpcyxlLG4pLmNhdGNoKChmdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEZlLmEmJk9iamVjdChCdC5zb21lKSh0LmJvZHkuZXJyb3JzLHtjb2RlOlwidGhyZWVfZF9zZWN1cmVfcmVxdWlyZWRcIn0pP25ldyBQcm9taXNlKChmdW5jdGlvbigpe3IuX2Zvcm1Qb3N0ZXIucG9zdEZvcm0odC5ib2R5LnRocmVlX2RzX3Jlc3VsdC5hY3NfdXJsLHtQYVJlcTp0LmJvZHkudGhyZWVfZHNfcmVzdWx0LnBheWVyX2F1dGhfcmVxdWVzdCxUZXJtVXJsOnQuYm9keS50aHJlZV9kc19yZXN1bHQuY2FsbGJhY2tfdXJsLE1EOnQuYm9keS50aHJlZV9kc19yZXN1bHQubWVyY2hhbnRfZGF0YX0pfSkpOlByb21pc2UucmVqZWN0KHQpfSkpfSxlLnByb3RvdHlwZS5maW5hbGl6ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLG49ZS5vcmRlci5nZXRPcmRlcigpO3JldHVybiBuJiZlLnBheW1lbnQuZ2V0UGF5bWVudFN0YXR1cygpPT09bG4uYj90aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3IuZmluYWxpemVPcmRlcihuLm9yZGVySWQsdCkpOlByb21pc2UucmVqZWN0KG5ldyBLdCl9LGV9KHBuKSxIbj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLGksbyl7dmFyIGE9dC5jYWxsKHRoaXMsZSxuLHIsaSl8fHRoaXM7cmV0dXJuIGEuX3N0b3JlPWUsYS5fb3JkZXJBY3Rpb25DcmVhdG9yPW4sYS5fcGF5bWVudEFjdGlvbkNyZWF0b3I9cixhLl9ob3N0ZWRGb3JtRmFjdG9yeT1pLGEuX2Zvcm1Qb3N0ZXI9byxhfXJldHVybiBPYmplY3QoZC5fX2V4dGVuZHMpKGUsdCksZS5wcm90b3R5cGUuZmluYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSxuPWUub3JkZXIuZ2V0T3JkZXIoKTtyZXR1cm4gbiYmZS5wYXltZW50LmdldFBheW1lbnRTdGF0dXMoKT09PWxuLmI/dGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yLmZpbmFsaXplT3JkZXIobi5vcmRlcklkLHQpKTpQcm9taXNlLnJlamVjdChuZXcgS3QpfSxlLnByb3RvdHlwZS5fZXhlY3V0ZVdpdGhvdXRIb3N0ZWRGb3JtPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBuLHIsaSxvLGE9dGhpcztyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKHMpe3N3aXRjaChzLmxhYmVsKXtjYXNlIDA6aWYobj10LnBheW1lbnQscj1PYmplY3QoZC5fX3Jlc3QpKHQsW1wicGF5bWVudFwiXSksaT1uJiZuLnBheW1lbnREYXRhLCFufHwhaSl0aHJvdyBuZXcgcWUoW1wicGF5bWVudC5wYXltZW50RGF0YVwiXSk7cmV0dXJuWzQsdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yLnN1Ym1pdE9yZGVyKHIsZSkpXTtjYXNlIDE6cy5zZW50KCkscy5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gcy50cnlzLnB1c2goWzIsNCwsNV0pLFs0LHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3BheW1lbnRBY3Rpb25DcmVhdG9yLnN1Ym1pdFBheW1lbnQoT2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSxuKSx7cGF5bWVudERhdGE6aX0pKSldO2Nhc2UgMzpyZXR1cm5bMixzLnNlbnQoKV07Y2FzZSA0OnJldHVybihvPXMuc2VudCgpKWluc3RhbmNlb2YgRmUuYSYmT2JqZWN0KEJ0LnNvbWUpKG8uYm9keS5lcnJvcnMse2NvZGU6XCJ0aHJlZV9kX3NlY3VyZV9yZXF1aXJlZFwifSk/WzIsbmV3IFByb21pc2UoKGZ1bmN0aW9uKCl7cmV0dXJuIGEuX2Zvcm1Qb3N0ZXIucG9zdEZvcm0oby5ib2R5LnRocmVlX2RzX3Jlc3VsdC5hY3NfdXJsLHtQYVJlcTpvLmJvZHkudGhyZWVfZHNfcmVzdWx0LnBheWVyX2F1dGhfcmVxdWVzdHx8bnVsbCxUZXJtVXJsOm8uYm9keS50aHJlZV9kc19yZXN1bHQuY2FsbGJhY2tfdXJsfHxudWxsLE1EOm8uYm9keS50aHJlZV9kc19yZXN1bHQubWVyY2hhbnRfZGF0YXx8bnVsbH0pfSkpXTpbMixQcm9taXNlLnJlamVjdChvKV07Y2FzZSA1OnJldHVyblsyXX19KSl9KSl9LGUucHJvdG90eXBlLl9leGVjdXRlV2l0aEhvc3RlZEZvcm09ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG4scixpLG8sYT10aGlzO3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24ocyl7c3dpdGNoKHMubGFiZWwpe2Nhc2UgMDppZihuPXQucGF5bWVudCxyPU9iamVjdChkLl9fcmVzdCkodCxbXCJwYXltZW50XCJdKSwhKGk9dGhpcy5faG9zdGVkRm9ybSkpdGhyb3cgbmV3IGJ0LmIoYnQuYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO2lmKCFufHwhbi5tZXRob2RJZCl0aHJvdyBuZXcgcWUoW1wicGF5bWVudC5tZXRob2RJZFwiXSk7cy5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gcy50cnlzLnB1c2goWzEsNSwsNl0pLFs0LGkudmFsaWRhdGUoKV07Y2FzZSAyOnJldHVybiBzLnNlbnQoKSxbNCx0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3Iuc3VibWl0T3JkZXIocixlKSldO2Nhc2UgMzpyZXR1cm4gcy5zZW50KCksWzQsaS5zdWJtaXQobildO2Nhc2UgNDpyZXR1cm4gcy5zZW50KCksWzMsNl07Y2FzZSA1OnJldHVybihvPXMuc2VudCgpKWluc3RhbmNlb2YgRmUuYSYmT2JqZWN0KEJ0LnNvbWUpKG8uYm9keS5lcnJvcnMse2NvZGU6XCJ0aHJlZV9kX3NlY3VyZV9yZXF1aXJlZFwifSk/WzIsbmV3IFByb21pc2UoKGZ1bmN0aW9uKCl7cmV0dXJuIGEuX2Zvcm1Qb3N0ZXIucG9zdEZvcm0oby5ib2R5LnRocmVlX2RzX3Jlc3VsdC5hY3NfdXJsLHtQYVJlcTpvLmJvZHkudGhyZWVfZHNfcmVzdWx0LnBheWVyX2F1dGhfcmVxdWVzdHx8bnVsbCxUZXJtVXJsOm8uYm9keS50aHJlZV9kc19yZXN1bHQuY2FsbGJhY2tfdXJsfHxudWxsLE1EOm8uYm9keS50aHJlZV9kc19yZXN1bHQubWVyY2hhbnRfZGF0YXx8bnVsbH0pfSkpXTpbMixQcm9taXNlLnJlamVjdChvKV07Y2FzZSA2OnJldHVybls0LHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvci5sb2FkQ3VycmVudE9yZGVyKCkpXTtjYXNlIDc6cmV0dXJuWzIscy5zZW50KCldfX0pKX0pKX0sZX0ocG4pLFduPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsaSxvKXt2YXIgYT10LmNhbGwodGhpcyxlLG4scixpKXx8dGhpcztyZXR1cm4gYS5fdGhyZWVEU2VjdXJlRmxvdz1vLGF9cmV0dXJuIE9iamVjdChkLl9fZXh0ZW5kcykoZSx0KSxlLnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbixyO3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24oaSl7c3dpdGNoKGkubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0LnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcyxlKV07Y2FzZSAxOnJldHVybiBpLnNlbnQoKSxuPXRoaXMuX3N0b3JlLmdldFN0YXRlKCkucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3csKHI9bihlLm1ldGhvZElkKSkuY29uZmlnLmlzM2RzRW5hYmxlZD9bNCx0aGlzLl90aHJlZURTZWN1cmVGbG93LnByZXBhcmUocildOlszLDNdO2Nhc2UgMjppLnNlbnQoKSxpLmxhYmVsPTM7Y2FzZSAzOnJldHVyblsyLHRoaXMuX3N0b3JlLmdldFN0YXRlKCldfX0pKX0pKX0sZS5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbihlLG4pe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgcixpLG87cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihhKXtyZXR1cm4gcj1lLnBheW1lbnQsaT0odm9pZCAwPT09cj97fTpyKS5tZXRob2RJZCxvPXZvaWQgMD09PWk/XCJcIjppLCgwLHRoaXMuX3N0b3JlLmdldFN0YXRlKCkucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cpKG8pLmNvbmZpZy5pczNkc0VuYWJsZWQ/WzIsdGhpcy5fdGhyZWVEU2VjdXJlRmxvdy5zdGFydCh0LnByb3RvdHlwZS5leGVjdXRlLmJpbmQodGhpcyksZSxuLHRoaXMuX2hvc3RlZEZvcm0pXTpbMix0LnByb3RvdHlwZS5leGVjdXRlLmNhbGwodGhpcyxlLG4pXX0pKX0pKX0sZX0ocG4pLEtuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsaSxvKXt2YXIgYT10LmNhbGwodGhpcyxlLG4scixpKXx8dGhpcztyZXR1cm4gYS5fdGhyZWVEU2VjdXJlRmxvdz1vLGF9cmV0dXJuIE9iamVjdChkLl9fZXh0ZW5kcykoZSx0KSxlLnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbixyO3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24oaSl7c3dpdGNoKGkubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0LnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcyxlKV07Y2FzZSAxOnJldHVybiBpLnNlbnQoKSxuPXRoaXMuX3N0b3JlLmdldFN0YXRlKCkucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3csKHI9bihlLm1ldGhvZElkKSkuY29uZmlnLmlzM2RzRW5hYmxlZD9bNCx0aGlzLl90aHJlZURTZWN1cmVGbG93LnByZXBhcmUocildOlszLDNdO2Nhc2UgMjppLnNlbnQoKSxpLmxhYmVsPTM7Y2FzZSAzOnJldHVyblsyLHRoaXMuX3N0b3JlLmdldFN0YXRlKCldfX0pKX0pKX0sZS5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbihlLG4pe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgcixpLG87cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihhKXtyZXR1cm4gcj1lLnBheW1lbnQsaT0odm9pZCAwPT09cj97fTpyKS5tZXRob2RJZCxvPXZvaWQgMD09PWk/XCJcIjppLCgwLHRoaXMuX3N0b3JlLmdldFN0YXRlKCkucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cpKG8pLmNvbmZpZy5pczNkc0VuYWJsZWQ/WzIsdGhpcy5fdGhyZWVEU2VjdXJlRmxvdy5zdGFydCh0LnByb3RvdHlwZS5leGVjdXRlLmJpbmQodGhpcyksZSxuLHRoaXMuX2hvc3RlZEZvcm0pXTpbMix0LnByb3RvdHlwZS5leGVjdXRlLmNhbGwodGhpcyxlLG4pXX0pKX0pKX0sZX0ocG4pLEpuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyKXt0aGlzLl9zdG9yZT10LHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvcj1lLHRoaXMuX3BheW1lbnRBY3Rpb25DcmVhdG9yPW4sdGhpcy5fZm9ybVBvc3Rlcj1yfXJldHVybiB0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBuLHIsaSxvLGE9dGhpcztyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKHMpe3N3aXRjaChzLmxhYmVsKXtjYXNlIDA6aWYobj10LnBheW1lbnQscj1PYmplY3QoZC5fX3Jlc3QpKHQsW1wicGF5bWVudFwiXSksaT1uJiZuLnBheW1lbnREYXRhLCFufHwhaSl0aHJvdyBuZXcgcWUoW1wicGF5bWVudC5wYXltZW50RGF0YVwiXSk7cmV0dXJuWzQsdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yLnN1Ym1pdE9yZGVyKHIsZSkpXTtjYXNlIDE6cy5zZW50KCkscy5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gcy50cnlzLnB1c2goWzIsNCwsNV0pLFs0LHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3BheW1lbnRBY3Rpb25DcmVhdG9yLnN1Ym1pdFBheW1lbnQoT2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSxuKSx7cGF5bWVudERhdGE6aX0pKSldO2Nhc2UgMzpyZXR1cm5bMixzLnNlbnQoKV07Y2FzZSA0OnJldHVybiBvPXMuc2VudCgpLHRoaXMuX2lzQWRkaXRpb25hbEFjdGlvblJlcXVpcmVkKG8pP1syLG5ldyBQcm9taXNlKChmdW5jdGlvbigpe2EuX2Zvcm1Qb3N0ZXIucG9zdEZvcm0oby5ib2R5LmFkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkLmRhdGEucmVkaXJlY3RfdXJsLHt9KX0pKV06WzIsUHJvbWlzZS5yZWplY3QobyldO2Nhc2UgNTpyZXR1cm5bMl19fSkpfSkpfSx0LnByb3RvdHlwZS5maW5hbGl6ZT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlamVjdChuZXcgS3QpfSx0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpKX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpKX0sdC5wcm90b3R5cGUuX2lzQWRkaXRpb25hbEFjdGlvblJlcXVpcmVkPWZ1bmN0aW9uKHQpe3ZhciBlPXQuYm9keSxuPWUuYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWQ7cmV0dXJuXCJhZGRpdGlvbmFsX2FjdGlvbl9yZXF1aXJlZFwiPT09ZS5zdGF0dXMmJm4mJlwib2Zmc2l0ZV9yZWRpcmVjdFwiPT09bi50eXBlfSx0fSgpLFpuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyLGksbyxhLHMpe3RoaXMuX3N0b3JlPXQsdGhpcy5fY2hlY2tvdXRBY3Rpb25DcmVhdG9yPWUsdGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3I9bix0aGlzLl9wYXltZW50U3RyYXRlZ3lBY3Rpb25DcmVhdG9yPXIsdGhpcy5fcGF5bWVudEFjdGlvbkNyZWF0b3I9aSx0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3I9byx0aGlzLl9nb29nbGVQYXlQYXltZW50UHJvY2Vzc29yPWEsdGhpcy5fZ29vZ2xlUGF5QWR5ZW5WMlBheW1lbnRQcm9jZXNzb3I9c31yZXR1cm4gdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiB0aGlzLl9tZXRob2RJZD10Lm1ldGhvZElkLHRoaXMuX2dvb2dsZVBheVBheW1lbnRQcm9jZXNzb3IuaW5pdGlhbGl6ZSh0aGlzLl9tZXRob2RJZCkudGhlbigoZnVuY3Rpb24oKXtpZihlLl9nb29nbGVQYXlPcHRpb25zPWUuX2dldEdvb2dsZVBheU9wdGlvbnModCksIWUuX2dvb2dsZVBheU9wdGlvbnMpdGhyb3cgbmV3IEl0LmEoJ1VuYWJsZSB0byBpbml0aWFsaXplIHBheW1lbnQgYmVjYXVzZSBcIm9wdGlvbnMuZ29vZ2xlcGF5XCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicpO3ZhciBuPWUuX2dvb2dsZVBheU9wdGlvbnMud2FsbGV0QnV0dG9uJiZkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlLl9nb29nbGVQYXlPcHRpb25zLndhbGxldEJ1dHRvbik7cmV0dXJuIG4mJihlLl93YWxsZXRCdXR0b249bixlLl93YWxsZXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZS5faGFuZGxlV2FsbGV0QnV0dG9uQ2xpY2spKSxlLl9zdG9yZS5nZXRTdGF0ZSgpfSkpfSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLl93YWxsZXRCdXR0b24mJnRoaXMuX3dhbGxldEJ1dHRvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLl9oYW5kbGVXYWxsZXRCdXR0b25DbGljayksdGhpcy5fd2FsbGV0QnV0dG9uPXZvaWQgMCx0aGlzLl9nb29nbGVQYXlQYXltZW50UHJvY2Vzc29yLmRlaW5pdGlhbGl6ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3N0b3JlLmdldFN0YXRlKCl9KSl9LHQucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO2lmKCF0aGlzLl9nb29nbGVQYXlPcHRpb25zKXRocm93IG5ldyBJdC5hKCdVbmFibGUgdG8gaW5pdGlhbGl6ZSBwYXltZW50IGJlY2F1c2UgXCJvcHRpb25zLmdvb2dsZXBheVwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nKTt2YXIgcj10aGlzLl9nb29nbGVQYXlPcHRpb25zLGk9ci5vbkVycm9yLG89dm9pZCAwPT09aT9mdW5jdGlvbigpe306aSxhPXIub25QYXltZW50U2VsZWN0LHM9dm9pZCAwPT09YT9mdW5jdGlvbigpe306YTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2dldFBheW1lbnQoKSkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIHQucGF5bWVudERhdGEubm9uY2UmJnQucGF5bWVudERhdGEuY2FyZEluZm9ybWF0aW9uP3Q6bi5fZ29vZ2xlUGF5UGF5bWVudFByb2Nlc3Nvci5kaXNwbGF5V2FsbGV0KCkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIG4uX3BheW1lbnRJbnN0cnVtZW50U2VsZWN0ZWQodCl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gcygpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIG4uX2dldFBheW1lbnQoKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7XCJDQU5DRUxFRFwiIT09dC5zdGF0dXNDb2RlJiZvKHQpfSkpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIG4uX3N0b3JlLmRpc3BhdGNoKG4uX29yZGVyQWN0aW9uQ3JlYXRvci5zdWJtaXRPcmRlcih7dXNlU3RvcmVDcmVkaXQ6dC51c2VTdG9yZUNyZWRpdH0sZSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIG4uX3N0b3JlLmRpc3BhdGNoKG4uX3BheW1lbnRBY3Rpb25DcmVhdG9yLnN1Ym1pdFBheW1lbnQobi5fZ2V0UGF5bWVudCgpKSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybihudWxsPT09KGU9bi5fZ29vZ2xlUGF5QWR5ZW5WMlBheW1lbnRQcm9jZXNzb3IpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnByb2Nlc3NBZGRpdGlvbmFsQWN0aW9uKHQpKXx8UHJvbWlzZS5yZWplY3QodCl9KSl9KSl9LHQucHJvdG90eXBlLmZpbmFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBLdCl9LHQucHJvdG90eXBlLl9nZXRHb29nbGVQYXlPcHRpb25zPWZ1bmN0aW9uKHQpe2lmKFwiZ29vZ2xlcGF5YWR5ZW52MlwiPT09dC5tZXRob2RJZCYmdC5nb29nbGVwYXlhZHllbnYyKXtpZighdGhpcy5fZ29vZ2xlUGF5QWR5ZW5WMlBheW1lbnRQcm9jZXNzb3IpdGhyb3cgbmV3IGJ0LmIoYnQuYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO3JldHVybiB0aGlzLl9nb29nbGVQYXlBZHllblYyUGF5bWVudFByb2Nlc3Nvci5pbml0aWFsaXplKHQpLHQuZ29vZ2xlcGF5YWR5ZW52Mn1pZihcImdvb2dsZXBheWF1dGhvcml6ZW5ldFwiPT09dC5tZXRob2RJZCYmdC5nb29nbGVwYXlhdXRob3JpemVuZXQpcmV0dXJuIHQuZ29vZ2xlcGF5YXV0aG9yaXplbmV0O2lmKFwiZ29vZ2xlcGF5Y2hlY2tvdXRjb21cIj09PXQubWV0aG9kSWQmJnQuZ29vZ2xlcGF5Y2hlY2tvdXRjb20pcmV0dXJuIHQuZ29vZ2xlcGF5Y2hlY2tvdXRjb207aWYoXCJnb29nbGVwYXlicmFpbnRyZWVcIj09PXQubWV0aG9kSWQmJnQuZ29vZ2xlcGF5YnJhaW50cmVlKXJldHVybiB0Lmdvb2dsZXBheWJyYWludHJlZTtpZihcImdvb2dsZXBheXN0cmlwZVwiPT09dC5tZXRob2RJZCYmdC5nb29nbGVwYXlzdHJpcGUpcmV0dXJuIHQuZ29vZ2xlcGF5c3RyaXBlO3Rocm93IG5ldyBJdC5hfSx0LnByb3RvdHlwZS5fZ2V0UGF5bWVudD1mdW5jdGlvbigpe2lmKCF0aGlzLl9tZXRob2RJZCl0aHJvdyBuZXcgYnQuYihidC5hLlBheW1lbnROb3RJbml0aWFsaXplZCk7dmFyIHQsZT10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2QodGhpcy5fbWV0aG9kSWQpO2lmKCFlKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdQYXltZW50TWV0aG9kKTtpZighZS5pbml0aWFsaXphdGlvbkRhdGEubm9uY2UpdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ1BheW1lbnQpO3Q9XCJnb29nbGVwYXlhZHllbnYyXCI9PT10aGlzLl9tZXRob2RJZD9KU09OLnN0cmluZ2lmeSh7dHlwZTp6ZS5Hb29nbGVQYXksZ29vZ2xlUGF5VG9rZW46ZS5pbml0aWFsaXphdGlvbkRhdGEubm9uY2UsYnJvd3Nlcl9pbmZvOlRlKCl9KTplLmluaXRpYWxpemF0aW9uRGF0YS5ub25jZTt2YXIgbj17bWV0aG9kOnRoaXMuX21ldGhvZElkLG5vbmNlOnQsY2FyZEluZm9ybWF0aW9uOmUuaW5pdGlhbGl6YXRpb25EYXRhLmNhcmRfaW5mb3JtYXRpb259O3JldHVybnttZXRob2RJZDp0aGlzLl9tZXRob2RJZCxwYXltZW50RGF0YTpufX0sdC5wcm90b3R5cGUuX2hhbmRsZVdhbGxldEJ1dHRvbkNsaWNrPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYodC5wcmV2ZW50RGVmYXVsdCgpLCF0aGlzLl9tZXRob2RJZHx8IXRoaXMuX2dvb2dsZVBheU9wdGlvbnMpdGhyb3cgbmV3IGJ0LmIoYnQuYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO3ZhciBuPXRoaXMuX2dvb2dsZVBheU9wdGlvbnMscj1uLm9uRXJyb3IsaT12b2lkIDA9PT1yP2Z1bmN0aW9uKCl7fTpyLG89bi5vblBheW1lbnRTZWxlY3QsYT12b2lkIDA9PT1vP2Z1bmN0aW9uKCl7fTpvO3JldHVybiB0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9wYXltZW50U3RyYXRlZ3lBY3Rpb25DcmVhdG9yLndpZGdldEludGVyYWN0aW9uKChmdW5jdGlvbigpe3JldHVybiBlLl9nb29nbGVQYXlQYXltZW50UHJvY2Vzc29yLmRpc3BsYXlXYWxsZXQoKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gZS5fcGF5bWVudEluc3RydW1lbnRTZWxlY3RlZCh0KX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBhKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe1wiQ0FOQ0VMRURcIiE9PXQuc3RhdHVzQ29kZSYmaSh0KX0pKX0pLHttZXRob2RJZDp0aGlzLl9tZXRob2RJZH0pLHtxdWV1ZUlkOlwid2lkZ2V0SW50ZXJhY3Rpb25cIn0pfSx0LnByb3RvdHlwZS5fcGF5bWVudEluc3RydW1lbnRTZWxlY3RlZD1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOmlmKCF0aGlzLl9tZXRob2RJZCl0aHJvdyBuZXcgYnQuYihidC5hLlBheW1lbnROb3RJbml0aWFsaXplZCk7cmV0dXJuIGU9dGhpcy5fbWV0aG9kSWQsWzQsdGhpcy5fZ29vZ2xlUGF5UGF5bWVudFByb2Nlc3Nvci5oYW5kbGVTdWNjZXNzKHQpXTtjYXNlIDE6cmV0dXJuIG4uc2VudCgpLFs0LFByb21pc2UuYWxsKFt0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9jaGVja291dEFjdGlvbkNyZWF0b3IubG9hZEN1cnJlbnRDaGVja291dCgpKSx0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9wYXltZW50TWV0aG9kQWN0aW9uQ3JlYXRvci5sb2FkUGF5bWVudE1ldGhvZChlKSldKV07Y2FzZSAyOnJldHVyblsyLG4uc2VudCgpXX19KSl9KSl9LE9iamVjdChkLl9fZGVjb3JhdGUpKFtEdC5hXSx0LnByb3RvdHlwZSxcIl9oYW5kbGVXYWxsZXRCdXR0b25DbGlja1wiLG51bGwpLHR9KCksUW49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt0aGlzLl9zdG9yZT10LHRoaXMuX3BheW1lbnRBY3Rpb25DcmVhdG9yPWUsdGhpcy5fc2NyaXB0TG9hZGVyPW59cmV0dXJuIHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLG4scixpLG8sYTtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKHMpe3N3aXRjaChzLmxhYmVsKXtjYXNlIDA6aWYoZT10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLG49ZS5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyh0Lm1ldGhvZElkKSwhKHI9ZS5jb25maWcuZ2V0U3RvcmVDb25maWcoKSkpdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ0NoZWNrb3V0Q29uZmlnKTtyZXR1cm4gaT17a2V5OlwiXCIsdmFsdWU6XCJcIn0sbi5pbml0aWFsaXphdGlvbkRhdGEub3JpZ2luS2V5PyhpLmtleT1cIm9yaWdpbktleVwiLGkudmFsdWU9bi5pbml0aWFsaXphdGlvbkRhdGEub3JpZ2luS2V5KTooaS5rZXk9XCJjbGllbnRLZXlcIixpLnZhbHVlPW4uaW5pdGlhbGl6YXRpb25EYXRhLmNsaWVudEtleSksbz10aGlzLFs0LHRoaXMuX3NjcmlwdExvYWRlci5sb2FkKChhPXtlbnZpcm9ubWVudDpuLmNvbmZpZy50ZXN0TW9kZT9cIlRFU1RcIjpcIiBQUk9EVUNUSU9OXCIsbG9jYWxlOnIuc3RvcmVQcm9maWxlLnN0b3JlTGFuZ3VhZ2V9LGFbaS5rZXldPWkudmFsdWUsYS5wYXltZW50TWV0aG9kc1Jlc3BvbnNlPW4uaW5pdGlhbGl6YXRpb25EYXRhLnBheW1lbnRNZXRob2RzUmVzcG9uc2UsYSkpXTtjYXNlIDE6cmV0dXJuIG8uX2FkeWVuQ2xpZW50PXMuc2VudCgpLFsyXX19KSl9KSl9LHQucHJvdG90eXBlLnByb2Nlc3NBZGRpdGlvbmFsQWN0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSxuO3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdCBpbnN0YW5jZW9mIEZlLmEmJk9iamVjdChCdC5zb21lKSh0LmJvZHkuZXJyb3JzLHtjb2RlOlwiYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWRcIn0pP1s0LHRoaXMuX2hhbmRsZUFjdGlvbih0LmJvZHkucHJvdmlkZXJfZGF0YSldOlsyLFByb21pc2UucmVqZWN0KHQpXTtjYXNlIDE6ZT1yLnNlbnQoKSxyLmxhYmVsPTI7Y2FzZSAyOnJldHVybiByLnRyeXMucHVzaChbMiw0LCw1XSksWzQsdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcGF5bWVudEFjdGlvbkNyZWF0b3Iuc3VibWl0UGF5bWVudChPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LGUpLHtwYXltZW50RGF0YTpPYmplY3QoZC5fX2Fzc2lnbikoe30sZS5wYXltZW50RGF0YSl9KSkpXTtjYXNlIDM6cmV0dXJuWzIsci5zZW50KCldO2Nhc2UgNDpyZXR1cm4gbj1yLnNlbnQoKSxbMix0aGlzLnByb2Nlc3NBZGRpdGlvbmFsQWN0aW9uKG4pXTtjYXNlIDU6cmV0dXJuWzJdfX0pKX0pKX0sdC5wcm90b3R5cGUuX2hhbmRsZUFjdGlvbj1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXt2YXIgaT1KU09OLnBhcnNlKHQuYWN0aW9uKTtlLl9nZXRBZHllbkNsaWVudCgpLmNyZWF0ZUZyb21BY3Rpb24oaSx7b25BZGRpdGlvbmFsRGV0YWlsczpmdW5jdGlvbih0KXt2YXIgZT17bWV0aG9kSWQ6aS5wYXltZW50TWV0aG9kVHlwZSxwYXltZW50RGF0YTp7bm9uY2U6SlNPTi5zdHJpbmdpZnkodC5kYXRhKX19O24oZSl9LHNpemU6XCIwNVwiLG9uRXJyb3I6ZnVuY3Rpb24odCl7cmV0dXJuIHIodCl9fSkubW91bnQoXCJib2R5XCIpLHIobmV3IFVlKX0pKX0sdC5wcm90b3R5cGUuX2dldEFkeWVuQ2xpZW50PWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2FkeWVuQ2xpZW50KXRocm93IG5ldyBidC5iKGJ0LmEuUGF5bWVudE5vdEluaXRpYWxpemVkKTtyZXR1cm4gdGhpcy5fYWR5ZW5DbGllbnR9LHR9KCksWG49W1wiQVRcIixcIkNIXCIsXCJERVwiLFwiREtcIixcIkVTXCIsXCJGSVwiLFwiR0JcIixcIk5MXCIsXCJOT1wiLFwiTlpcIixcIlNFXCJdLCRuPVtcIkFVXCJdLHRyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyLGkpe3RoaXMuX3N0b3JlPXQsdGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yPWUsdGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3I9bix0aGlzLl9yZW1vdGVDaGVja291dEFjdGlvbkNyZWF0b3I9cix0aGlzLl9rbGFybmFTY3JpcHRMb2FkZXI9aX1yZXR1cm4gdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiB0aGlzLl9rbGFybmFTY3JpcHRMb2FkZXIubG9hZCgpLnRoZW4oKGZ1bmN0aW9uKHQpe2UuX2tsYXJuYUNyZWRpdD10fSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGUuX3Vuc3Vic2NyaWJlPWUuX3N0b3JlLnN1YnNjcmliZSgoZnVuY3Rpb24obil7bi5wYXltZW50U3RyYXRlZ2llcy5pc0luaXRpYWxpemVkKHQubWV0aG9kSWQpJiZlLl9sb2FkV2lkZ2V0KHQpfSksKGZ1bmN0aW9uKHQpe3ZhciBlPXQuY2hlY2tvdXQuZ2V0Q2hlY2tvdXQoKTtyZXR1cm4gZSYmZS5vdXRzdGFuZGluZ0JhbGFuY2V9KSwoZnVuY3Rpb24odCl7dmFyIGU9dC5jaGVja291dC5nZXRDaGVja291dCgpO3JldHVybiBlJiZlLmNvdXBvbnN9KSksZS5fbG9hZFdpZGdldCh0KX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBlLl9zdG9yZS5nZXRTdGF0ZSgpfSkpfSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdW5zdWJzY3JpYmUmJnRoaXMuX3Vuc3Vic2NyaWJlKCksUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3N0b3JlLmdldFN0YXRlKCkpfSx0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztpZighdC5wYXltZW50KXRocm93IG5ldyBJdC5hKCdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIFwicGF5bG9hZC5wYXltZW50XCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicpO3ZhciByPXQucGF5bWVudCxpPShyLnBheW1lbnREYXRhLE9iamVjdChkLl9fcmVzdCkocixbXCJwYXltZW50RGF0YVwiXSkpO3JldHVybiB0aGlzLl9hdXRob3JpemUoKS50aGVuKChmdW5jdGlvbih0KXt2YXIgZT10LmF1dGhvcml6YXRpb25fdG9rZW47cmV0dXJuIG4uX3N0b3JlLmRpc3BhdGNoKG4uX3JlbW90ZUNoZWNrb3V0QWN0aW9uQ3JlYXRvci5pbml0aWFsaXplUGF5bWVudChpLm1ldGhvZElkLHthdXRob3JpemF0aW9uVG9rZW46ZX0pKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBuLl9zdG9yZS5kaXNwYXRjaChuLl9vcmRlckFjdGlvbkNyZWF0b3Iuc3VibWl0T3JkZXIoT2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSx0KSx7cGF5bWVudDppLHVzZVN0b3JlQ3JlZGl0OnQudXNlU3RvcmVDcmVkaXR9KSxlKSl9KSl9LHQucHJvdG90eXBlLmZpbmFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBLdCl9LHQucHJvdG90eXBlLl9sb2FkV2lkZ2V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYoIXQua2xhcm5hKXRocm93IG5ldyBJdC5hKCdVbmFibGUgdG8gbG9hZCB3aWRnZXQgYmVjYXVzZSBcIm9wdGlvbnMua2xhcm5hXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicpO3ZhciBuPXQubWV0aG9kSWQscj10LmtsYXJuYSxpPXIuY29udGFpbmVyLG89ci5vbkxvYWQ7cmV0dXJuIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yLmxvYWRQYXltZW50TWV0aG9kKG4pKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHIpe3ZhciBhPXQucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZChuKTtpZighYSl0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7aWYoIWUuX2tsYXJuYUNyZWRpdHx8IWEuY2xpZW50VG9rZW4pdGhyb3cgbmV3IGJ0LmIoYnQuYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO2UuX2tsYXJuYUNyZWRpdC5pbml0KHtjbGllbnRfdG9rZW46YS5jbGllbnRUb2tlbn0pLGUuX2tsYXJuYUNyZWRpdC5sb2FkKHtjb250YWluZXI6aX0sKGZ1bmN0aW9uKHQpe28mJm8odCkscih0KX0pKX0pKX0pKX0sdC5wcm90b3R5cGUuX2dldFVwZGF0ZVNlc3Npb25EYXRhPWZ1bmN0aW9uKHQsZSl7aWYoIU9iamVjdChCdC5pbmNsdWRlcykoT2JqZWN0KGQuX19zcHJlYWRBcnJheXMpKFhuLCRuKSx0LmNvdW50cnlDb2RlKSlyZXR1cm57fTt2YXIgbj17YmlsbGluZ19hZGRyZXNzOnRoaXMuX21hcFRvS2xhcm5hQWRkcmVzcyh0LHQuZW1haWwpfTtyZXR1cm4gZSYmKG4uc2hpcHBpbmdfYWRkcmVzcz10aGlzLl9tYXBUb0tsYXJuYUFkZHJlc3MoZSx0LmVtYWlsKSksbn0sdC5wcm90b3R5cGUuX25lZWRzU3RhdGVDb2RlPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoQnQuaW5jbHVkZXMpKCRuLHQpfSx0LnByb3RvdHlwZS5fbWFwVG9LbGFybmFBZGRyZXNzPWZ1bmN0aW9uKHQsZSl7dmFyIG49e3N0cmVldF9hZGRyZXNzOnQuYWRkcmVzczEsY2l0eTp0LmNpdHksY291bnRyeTp0LmNvdW50cnlDb2RlLGdpdmVuX25hbWU6dC5maXJzdE5hbWUsZmFtaWx5X25hbWU6dC5sYXN0TmFtZSxwb3N0YWxfY29kZTp0LnBvc3RhbENvZGUscmVnaW9uOnRoaXMuX25lZWRzU3RhdGVDb2RlKHQuY291bnRyeUNvZGUpP3Quc3RhdGVPclByb3ZpbmNlQ29kZTp0LnN0YXRlT3JQcm92aW5jZSxlbWFpbDplfTtyZXR1cm4gdC5hZGRyZXNzMiYmKG4uc3RyZWV0X2FkZHJlc3MyPXQuYWRkcmVzczIpLHQucGhvbmUmJihuLnBob25lPXQucGhvbmUpLG59LHQucHJvdG90eXBlLl9hdXRob3JpemU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSxuKXt2YXIgcj10Ll9zdG9yZS5nZXRTdGF0ZSgpLmJpbGxpbmdBZGRyZXNzLmdldEJpbGxpbmdBZGRyZXNzKCksaT10Ll9zdG9yZS5nZXRTdGF0ZSgpLnNoaXBwaW5nQWRkcmVzcy5nZXRTaGlwcGluZ0FkZHJlc3MoKTtpZighcil0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nQmlsbGluZ0FkZHJlc3MpO2lmKCF0Ll9rbGFybmFDcmVkaXQpdGhyb3cgbmV3IGJ0LmIoYnQuYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO3ZhciBvPXQuX2dldFVwZGF0ZVNlc3Npb25EYXRhKHIsaSk7dC5fa2xhcm5hQ3JlZGl0LmF1dGhvcml6ZShvLChmdW5jdGlvbih0KXtyZXR1cm4gdC5hcHByb3ZlZD9lKHQpOnQuc2hvd19mb3JtP24obmV3IFVlKTp2b2lkIG4obmV3IEhlLmEpfSkpfSkpfSx0fSgpLGVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9zY3JpcHRMb2FkZXI9dH1yZXR1cm4gdC5wcm90b3R5cGUubG9hZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY3JpcHRMb2FkZXIubG9hZFNjcmlwdChcIi8vY3JlZGl0LmtsYXJuYWNkbi5uZXQvbGliL3YxL2FwaS5qc1wiKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB3aW5kb3cuS2xhcm5hLkNyZWRpdH0pKX0sdH0oKSxucj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scixpKXt0aGlzLl9zdG9yZT10LHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvcj1lLHRoaXMuX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yPW4sdGhpcy5fcmVtb3RlQ2hlY2tvdXRBY3Rpb25DcmVhdG9yPXIsdGhpcy5fa2xhcm5hdjJTY3JpcHRMb2FkZXI9aX1yZXR1cm4gdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiB0aGlzLl9rbGFybmF2MlNjcmlwdExvYWRlci5sb2FkKCkudGhlbigoZnVuY3Rpb24odCl7ZS5fa2xhcm5hUGF5bWVudHM9dH0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBlLl91bnN1YnNjcmliZT1lLl9zdG9yZS5zdWJzY3JpYmUoKGZ1bmN0aW9uKG4pe24ucGF5bWVudFN0cmF0ZWdpZXMuaXNJbml0aWFsaXplZCh0Lm1ldGhvZElkKSYmZS5fbG9hZFBheW1lbnRzV2lkZ2V0KHQpfSksKGZ1bmN0aW9uKHQpe3ZhciBlPXQuY2hlY2tvdXQuZ2V0Q2hlY2tvdXQoKTtyZXR1cm4gZSYmZS5vdXRzdGFuZGluZ0JhbGFuY2V9KSwoZnVuY3Rpb24odCl7dmFyIGU9dC5jaGVja291dC5nZXRDaGVja291dCgpO3JldHVybiBlJiZlLmNvdXBvbnN9KSksZS5fbG9hZFBheW1lbnRzV2lkZ2V0KHQpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGUuX3N0b3JlLmdldFN0YXRlKCl9KSl9LHQucHJvdG90eXBlLmRlaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl91bnN1YnNjcmliZSYmdGhpcy5fdW5zdWJzY3JpYmUoKSxQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSl9LHQucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO2lmKCF0LnBheW1lbnQpdGhyb3cgbmV3IEl0LmEoJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgXCJwYXlsb2FkLnBheW1lbnRcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuJyk7dmFyIHI9dC5wYXltZW50LGk9KHIucGF5bWVudERhdGEsT2JqZWN0KGQuX19yZXN0KShyLFtcInBheW1lbnREYXRhXCJdKSksbz1pLmdhdGV3YXlJZDtpZighbyl0aHJvdyBuZXcgSXQuYSgnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBcInBheWxvYWQucGF5bWVudC5nYXRld2F5SWRcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuJyk7cmV0dXJuIHRoaXMuX2F1dGhvcml6ZShpLm1ldGhvZElkKS50aGVuKChmdW5jdGlvbih0KXt2YXIgZT10LmF1dGhvcml6YXRpb25fdG9rZW47cmV0dXJuIG4uX3N0b3JlLmRpc3BhdGNoKG4uX3JlbW90ZUNoZWNrb3V0QWN0aW9uQ3JlYXRvci5pbml0aWFsaXplUGF5bWVudChvLHthdXRob3JpemF0aW9uVG9rZW46ZX0pKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBuLl9zdG9yZS5kaXNwYXRjaChuLl9vcmRlckFjdGlvbkNyZWF0b3Iuc3VibWl0T3JkZXIoT2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSx0KSx7cGF5bWVudDppLHVzZVN0b3JlQ3JlZGl0OnQudXNlU3RvcmVDcmVkaXR9KSxlKSl9KSl9LHQucHJvdG90eXBlLmZpbmFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBLdCl9LHQucHJvdG90eXBlLl9sb2FkUGF5bWVudHNXaWRnZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZighdC5rbGFybmF2Mil0aHJvdyBuZXcgSXQuYSgnVW5hYmxlIHRvIGxvYWQgd2lkZ2V0IGJlY2F1c2UgXCJvcHRpb25zLmtsYXJuYXYyXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicpO3ZhciBuPXQubWV0aG9kSWQscj10LmdhdGV3YXlJZCxpPXQua2xhcm5hdjIsbz1pLmNvbnRhaW5lcixhPWkub25Mb2FkLHM9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKTtpZighcil0aHJvdyBuZXcgSXQuYSgnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBcInBheWxvYWQucGF5bWVudC5nYXRld2F5SWRcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuJyk7cmV0dXJuIHRoaXMuX3VwZGF0ZU9yZGVyKHIpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0KXt2YXIgcj1zLnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2RPclRocm93KG4pO2lmKCFlLl9rbGFybmFQYXltZW50c3x8IXIuY2xpZW50VG9rZW4pdGhyb3cgbmV3IGJ0LmIoYnQuYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO2UuX2tsYXJuYVBheW1lbnRzLmluaXQoe2NsaWVudF90b2tlbjpyLmNsaWVudFRva2VufSksZS5fa2xhcm5hUGF5bWVudHMubG9hZCh7Y29udGFpbmVyOm8scGF5bWVudF9tZXRob2RfY2F0ZWdvcnk6ci5pZH0sKGZ1bmN0aW9uKGUpe2EmJmEoZSksdChlKX0pKX0pKX0pKX0sdC5wcm90b3R5cGUuX2dldFVwZGF0ZVNlc3Npb25EYXRhPWZ1bmN0aW9uKHQsZSl7aWYoIU9iamVjdChCdC5pbmNsdWRlcykoT2JqZWN0KGQuX19zcHJlYWRBcnJheXMpKFhuLCRuKSx0LmNvdW50cnlDb2RlKSlyZXR1cm57fTt2YXIgbj17YmlsbGluZ19hZGRyZXNzOnRoaXMuX21hcFRvS2xhcm5hQWRkcmVzcyh0LHQuZW1haWwpfTtyZXR1cm4gZSYmKG4uc2hpcHBpbmdfYWRkcmVzcz10aGlzLl9tYXBUb0tsYXJuYUFkZHJlc3MoZSx0LmVtYWlsKSksbn0sdC5wcm90b3R5cGUuX25lZWRzU3RhdGVDb2RlPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoQnQuaW5jbHVkZXMpKCRuLHQpfSx0LnByb3RvdHlwZS5fbWFwVG9LbGFybmFBZGRyZXNzPWZ1bmN0aW9uKHQsZSl7dmFyIG49e3N0cmVldF9hZGRyZXNzOnQuYWRkcmVzczEsY2l0eTp0LmNpdHksY291bnRyeTp0LmNvdW50cnlDb2RlLGdpdmVuX25hbWU6dC5maXJzdE5hbWUsZmFtaWx5X25hbWU6dC5sYXN0TmFtZSxwb3N0YWxfY29kZTp0LnBvc3RhbENvZGUscmVnaW9uOnRoaXMuX25lZWRzU3RhdGVDb2RlKHQuY291bnRyeUNvZGUpP3Quc3RhdGVPclByb3ZpbmNlQ29kZTp0LnN0YXRlT3JQcm92aW5jZSxlbWFpbDplfTtyZXR1cm4gdC5hZGRyZXNzMiYmKG4uc3RyZWV0X2FkZHJlc3MyPXQuYWRkcmVzczIpLHQucGhvbmUmJihuLnBob25lPXQucGhvbmUpLG59LHQucHJvdG90eXBlLl91cGRhdGVPcmRlcj1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihlKXtzd2l0Y2goZS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yLmxvYWRQYXltZW50TWV0aG9kKHQpLnRvUHJvbWlzZSgpXTtjYXNlIDE6cmV0dXJuIGUuc2VudCgpLFsyXX19KSl9KSl9LHQucHJvdG90eXBlLl9hdXRob3JpemU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7dmFyIGk9ZS5fc3RvcmUuZ2V0U3RhdGUoKS5iaWxsaW5nQWRkcmVzcy5nZXRCaWxsaW5nQWRkcmVzcygpLG89ZS5fc3RvcmUuZ2V0U3RhdGUoKS5zaGlwcGluZ0FkZHJlc3MuZ2V0U2hpcHBpbmdBZGRyZXNzKCk7aWYoIWkpdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ0JpbGxpbmdBZGRyZXNzKTt2YXIgYT1lLl9nZXRVcGRhdGVTZXNzaW9uRGF0YShpLG8pO2lmKCFlLl9rbGFybmFQYXltZW50cyl0aHJvdyBuZXcgYnQuYihidC5hLlBheW1lbnROb3RJbml0aWFsaXplZCk7ZS5fa2xhcm5hUGF5bWVudHMuYXV0aG9yaXplKHtwYXltZW50X21ldGhvZF9jYXRlZ29yeTp0fSxhLChmdW5jdGlvbih0KXtyZXR1cm4gdC5hcHByb3ZlZD9uKHQpOnQuc2hvd19mb3JtP3IobmV3IFVlKTp2b2lkIHIobmV3IEhlLmEpfSkpfSkpfSx0fSgpLHJyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9zY3JpcHRMb2FkZXI9dH1yZXR1cm4gdC5wcm90b3R5cGUubG9hZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY3JpcHRMb2FkZXIubG9hZFNjcmlwdChcImh0dHBzOi8veC5rbGFybmFjZG4ubmV0L2twL2xpYi92MS9hcGkuanNcIikudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LktsYXJuYS5QYXltZW50c30pKX0sdH0oKSxpcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLl9zdG9yZT10LHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvcj1lfXJldHVybiB0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvci5zdWJtaXRPcmRlcih0LGUpKX0sdC5wcm90b3R5cGUuZmluYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEt0KX0sdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSl9LHQucHJvdG90eXBlLmRlaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSl9LHR9KCksb3I9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIpe3RoaXMuX3N0b3JlPXQsdGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yPWUsdGhpcy5fcGF5bWVudEFjdGlvbkNyZWF0b3I9bix0aGlzLl9tYXN0ZXJwYXNzU2NyaXB0TG9hZGVyPXJ9cmV0dXJuIHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXQubWV0aG9kSWQ7aWYodGhpcy5fcGF5bWVudE1ldGhvZD10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2QobiksIXRoaXMuX3BheW1lbnRNZXRob2QpdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ1BheW1lbnRNZXRob2QpO3JldHVybiB0aGlzLl9tYXN0ZXJwYXNzU2NyaXB0TG9hZGVyLmxvYWQodGhpcy5fcGF5bWVudE1ldGhvZC5jb25maWcudGVzdE1vZGUpLnRoZW4oKGZ1bmN0aW9uKG4pe2lmKGUuX21hc3RlcnBhc3NDbGllbnQ9biwhdC5tYXN0ZXJwYXNzKXRocm93IG5ldyBJdC5hKCdVbmFibGUgdG8gaW5pdGlhbGl6ZSBwYXltZW50IGJlY2F1c2UgXCJvcHRpb25zLm1hc3RlcnBhc3NcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuJyk7dmFyIHI9dC5tYXN0ZXJwYXNzLndhbGxldEJ1dHRvbiYmZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodC5tYXN0ZXJwYXNzLndhbGxldEJ1dHRvbik7cmV0dXJuIHImJihlLl93YWxsZXRCdXR0b249cixlLl93YWxsZXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZS5faGFuZGxlV2FsbGV0QnV0dG9uQ2xpY2spKSxlLl9zdG9yZS5nZXRTdGF0ZSgpfSkpfSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGF5bWVudE1ldGhvZD12b2lkIDAsdGhpcy5fd2FsbGV0QnV0dG9uJiZ0aGlzLl93YWxsZXRCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5faGFuZGxlV2FsbGV0QnV0dG9uQ2xpY2spLHRoaXMuX3dhbGxldEJ1dHRvbj12b2lkIDAsdGhpcy5fbWFzdGVycGFzc0NsaWVudD12b2lkIDAsUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3N0b3JlLmdldFN0YXRlKCkpfSx0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXQucGF5bWVudCxpPXt1c2VTdG9yZUNyZWRpdDp0LnVzZVN0b3JlQ3JlZGl0fTtpZighcil0aHJvdyBuZXcgSXQuYSgnVW5hYmxlIHRvIHN1Ym1pdCBwYXltZW50IGJlY2F1c2UgXCJwYXlsb2FkLnBheW1lbnRcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuJyk7aWYoIXRoaXMuX3BheW1lbnRNZXRob2R8fCF0aGlzLl9wYXltZW50TWV0aG9kLmluaXRpYWxpemF0aW9uRGF0YXx8IXRoaXMuX3BheW1lbnRNZXRob2QuaW5pdGlhbGl6YXRpb25EYXRhLmdhdGV3YXkpdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ1BheW1lbnRNZXRob2QpO3ZhciBvPXRoaXMuX3BheW1lbnRNZXRob2QuaW5pdGlhbGl6YXRpb25EYXRhLnBheW1lbnREYXRhO2lmKCFvKXRocm93IG5ldyBJdC5hKCdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIFwicGF5bWVudE1ldGhvZC5pbml0aWFsaXphdGlvbkRhdGEucGF5bWVudERhdGFcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuJyk7cmV0dXJuIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvci5zdWJtaXRPcmRlcihpLGUpKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBuLl9zdG9yZS5kaXNwYXRjaChuLl9wYXltZW50QWN0aW9uQ3JlYXRvci5zdWJtaXRQYXltZW50KE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30scikse3BheW1lbnREYXRhOm99KSkpfSkpfSx0LnByb3RvdHlwZS5maW5hbGl6ZT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlamVjdChuZXcgS3QpfSx0LnByb3RvdHlwZS5fY3JlYXRlTWFzdGVycGFzc1BheWxvYWQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLGU9dC5jaGVja291dC5nZXRDaGVja291dCgpLG49dC5jb25maWcuZ2V0U3RvcmVDb25maWcoKTtpZighZSl0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nQ2hlY2tvdXQpO2lmKCFuKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdDaGVja291dENvbmZpZyk7aWYoIXRoaXMuX3BheW1lbnRNZXRob2R8fCF0aGlzLl9wYXltZW50TWV0aG9kLmluaXRpYWxpemF0aW9uRGF0YSl0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7cmV0dXJue2NoZWNrb3V0SWQ6dGhpcy5fcGF5bWVudE1ldGhvZC5pbml0aWFsaXphdGlvbkRhdGEuY2hlY2tvdXRJZCxhbGxvd2VkQ2FyZFR5cGVzOnRoaXMuX3BheW1lbnRNZXRob2QuaW5pdGlhbGl6YXRpb25EYXRhLmFsbG93ZWRDYXJkVHlwZXMsYW1vdW50OmUuc3VidG90YWwudG9GaXhlZCgyKSxjdXJyZW5jeTpuLmN1cnJlbmN5LmNvZGUsY2FydElkOmUuY2FydC5pZCxzdXBwcmVzc1NoaXBwaW5nQWRkcmVzczohMSxjYWxsYmFja1VybDpPYmplY3QoTHQuYSkoXCJjaGVja291dFwiKX19LHQucHJvdG90eXBlLl9oYW5kbGVXYWxsZXRCdXR0b25DbGljaz1mdW5jdGlvbih0KXtpZih0LnByZXZlbnREZWZhdWx0KCksdGhpcy5fbWFzdGVycGFzc0NsaWVudCl7dmFyIGU9dGhpcy5fY3JlYXRlTWFzdGVycGFzc1BheWxvYWQoKTt0aGlzLl9tYXN0ZXJwYXNzQ2xpZW50LmNoZWNrb3V0KGUpfX0sT2JqZWN0KGQuX19kZWNvcmF0ZSkoW0R0LmFdLHQucHJvdG90eXBlLFwiX2hhbmRsZVdhbGxldEJ1dHRvbkNsaWNrXCIsbnVsbCksdH0oKSxhcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLl9zdG9yZT10LHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvcj1lfXJldHVybiB0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvci5zdWJtaXRPcmRlcihPYmplY3QoQnQub21pdCkodCxcInBheW1lbnRcIiksZSkpfSx0LnByb3RvdHlwZS5maW5hbGl6ZT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlamVjdChuZXcgS3QpfSx0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpKX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpKX0sdH0oKSxzcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLl9zdG9yZT10LHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvcj1lfXJldHVybiB0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yLnN1Ym1pdE9yZGVyKE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30sdCkse3BheW1lbnQ6dC5wYXltZW50P3ttZXRob2RJZDp0LnBheW1lbnQubWV0aG9kSWR9OnZvaWQgMH0pLGUpO3JldHVybiB0aGlzLl9zdG9yZS5kaXNwYXRjaChuKX0sdC5wcm90b3R5cGUuZmluYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEt0KX0sdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSl9LHQucHJvdG90eXBlLmRlaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSl9LHR9KCksY3I9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt0aGlzLl9zdG9yZT10LHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvcj1lLHRoaXMuX3BheW1lbnRBY3Rpb25DcmVhdG9yPW59cmV0dXJuIHQucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9dC5wYXltZW50LGk9T2JqZWN0KGQuX19yZXN0KSh0LFtcInBheW1lbnRcIl0pLG89dGhpcy5fc2hvdWxkU3VibWl0RnVsbFBheWxvYWQocik/dDppLGE9ciYmci5wYXltZW50RGF0YSxzPWEmJmEuaW5zdHJ1bWVudElkfHx2b2lkIDAsYz1hJiZhLnNob3VsZFNhdmVJbnN0cnVtZW50fHx2b2lkIDAsdT1hJiZhLnNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnR8fHZvaWQgMDtpZighcil0aHJvdyBuZXcgcWUoW1wicGF5bWVudFwiXSk7dmFyIHA9ci5tZXRob2RJZCxoPXIuZ2F0ZXdheUlkO3JldHVybiB0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3Iuc3VibWl0T3JkZXIobyxlKSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gbi5fc3RvcmUuZGlzcGF0Y2gobi5fcGF5bWVudEFjdGlvbkNyZWF0b3IuaW5pdGlhbGl6ZU9mZnNpdGVQYXltZW50KHttZXRob2RJZDpwLGdhdGV3YXlJZDpoLGluc3RydW1lbnRJZDpzLHNob3VsZFNhdmVJbnN0cnVtZW50OmMsc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudDp1fSkpfSkpfSx0LnByb3RvdHlwZS5maW5hbGl6ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLG49ZS5vcmRlci5nZXRPcmRlcigpLHI9ZS5wYXltZW50LmdldFBheW1lbnRTdGF0dXMoKTtyZXR1cm4hbnx8ciE9PWxuLmEmJnIhPT1sbi5iP1Byb21pc2UucmVqZWN0KG5ldyBLdCk6dGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yLmZpbmFsaXplT3JkZXIobi5vcmRlcklkLHQpKX0sdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSl9LHQucHJvdG90eXBlLmRlaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSl9LHQucHJvdG90eXBlLl9zaG91bGRTdWJtaXRGdWxsUGF5bG9hZD1mdW5jdGlvbih0KXtyZXR1cm4hIXQmJihcImFkeWVuXCI9PT10LmdhdGV3YXlJZHx8XCJiYXJjbGF5Y2FyZFwiPT09dC5nYXRld2F5SWR8fFwiY2NhdmVudWVtYXJzXCI9PT10Lm1ldGhvZElkKX0sdH0oKSx1cj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLGksbyl7dmFyIGE9dC5jYWxsKHRoaXMsZSxuLHIsaSl8fHRoaXM7cmV0dXJuIGEuX3RocmVlRFNlY3VyZUZsb3c9byxhfXJldHVybiBPYmplY3QoZC5fX2V4dGVuZHMpKGUsdCksZS5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG4scjtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKGkpe3N3aXRjaChpLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsZSldO2Nhc2UgMTpyZXR1cm4gaS5zZW50KCksbj10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2RPclRocm93LChyPW4oZS5tZXRob2RJZCkpLmNvbmZpZy5pczNkc0VuYWJsZWQ/WzQsdGhpcy5fdGhyZWVEU2VjdXJlRmxvdy5wcmVwYXJlKHIpXTpbMywzXTtjYXNlIDI6aS5zZW50KCksaS5sYWJlbD0zO2Nhc2UgMzpyZXR1cm5bMix0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpXX19KSl9KSl9LGUucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oZSxuKXt2YXIgcj1lLnBheW1lbnQsaT0odm9pZCAwPT09cj97fTpyKS5tZXRob2RJZCxvPXZvaWQgMD09PWk/XCJcIjppLGE9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSxzPWEucGF5bWVudC5nZXRQYXltZW50U3RhdHVzLGM9YS5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kT3JUaHJvdztyZXR1cm4gcygpPT09bG4uYT90aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3Iuc3VibWl0T3JkZXIoT2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSxlKSx7cGF5bWVudDp7bWV0aG9kSWQ6b319KSxuKSk6YyhvKS5jb25maWcuaXMzZHNFbmFibGVkP3RoaXMuX3RocmVlRFNlY3VyZUZsb3cuc3RhcnQodC5wcm90b3R5cGUuZXhlY3V0ZS5iaW5kKHRoaXMpLGUsbix0aGlzLl9ob3N0ZWRGb3JtKTp0LnByb3RvdHlwZS5leGVjdXRlLmNhbGwodGhpcyxlLG4pfSxlfShwbiksZHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIpe3ZvaWQgMD09PXImJihyPXdpbmRvdyksdGhpcy5fc3RvcmU9dCx0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3I9ZSx0aGlzLl9zY3JpcHRMb2FkZXI9bix0aGlzLl93aW5kb3c9cix0aGlzLl91c2VSZWRpcmVjdEZsb3c9ITF9cmV0dXJuIHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRoaXMuX3N0b3JlLmdldFN0YXRlKCk7cmV0dXJuIHRoaXMuX3BheW1lbnRNZXRob2Q9bi5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kKHQubWV0aG9kSWQpLHRoaXMuX3VzZVJlZGlyZWN0Rmxvdz0hMD09PSh0LnBheXBhbGV4cHJlc3MmJnQucGF5cGFsZXhwcmVzcy51c2VSZWRpcmVjdEZsb3cpLHRoaXMuX2lzSW5Db250ZXh0RW5hYmxlZCgpP3RoaXMuX3NjcmlwdExvYWRlci5sb2FkUGF5cGFsKCkudGhlbigoZnVuY3Rpb24odCl7aWYoZS5fcGF5cGFsU2RrPXQsIWUuX3BheW1lbnRNZXRob2R8fCFlLl9wYXltZW50TWV0aG9kLmNvbmZpZy5tZXJjaGFudElkKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdQYXltZW50TWV0aG9kKTtlLl9wYXlwYWxTZGsuY2hlY2tvdXQuc2V0dXAoZS5fcGF5bWVudE1ldGhvZC5jb25maWcubWVyY2hhbnRJZCx7YnV0dG9uOlwicGF5cGFsLWJ1dHRvblwiLGVudmlyb25tZW50OmUuX3BheW1lbnRNZXRob2QuY29uZmlnLnRlc3RNb2RlP1wic2FuZGJveFwiOlwicHJvZHVjdGlvblwifSl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gZS5fc3RvcmUuZ2V0U3RhdGUoKX0pKTpQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSl9LHQucHJvdG90eXBlLmRlaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0luQ29udGV4dEVuYWJsZWQoKSYmdGhpcy5fcGF5cGFsU2RrJiYodGhpcy5fcGF5cGFsU2RrLmNoZWNrb3V0LmNsb3NlRmxvdygpLHRoaXMuX3BheXBhbFNkaz12b2lkIDApLFByb21pc2UucmVzb2x2ZSh0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpKX0sdC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj10aGlzLl9wYXlwYWxTZGs7aWYodGhpcy5faXNBY2tub3dsZWRnZWRPckZpbmFsaXplZCgpKXJldHVybiB0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3Iuc3VibWl0T3JkZXIodCxlKSk7aWYoIXRoaXMuX2lzSW5Db250ZXh0RW5hYmxlZCgpfHx0aGlzLl91c2VSZWRpcmVjdEZsb3cpcmV0dXJuIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvci5zdWJtaXRPcmRlcih0LGUpKS50aGVuKChmdW5jdGlvbih0KXt2YXIgZT10LnBheW1lbnQuZ2V0UGF5bWVudFJlZGlyZWN0VXJsKCk7cmV0dXJuIGUmJihuLl93aW5kb3cudG9wLmxvY2F0aW9uLmhyZWY9ZSksbmV3IFByb21pc2UoKGZ1bmN0aW9uKCl7fSkpfSkpO2lmKCFyKXRocm93IG5ldyBidC5iKGJ0LmEuUGF5bWVudE5vdEluaXRpYWxpemVkKTtyZXR1cm4gci5jaGVja291dC5pbml0WE8oKSx0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3Iuc3VibWl0T3JkZXIodCxlKSkudGhlbigoZnVuY3Rpb24odCl7dmFyIGU9dC5wYXltZW50LmdldFBheW1lbnRSZWRpcmVjdFVybCgpO3JldHVybiBlJiZyLmNoZWNrb3V0LnN0YXJ0RmxvdyhlKSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24oKXt9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3JldHVybiByLmNoZWNrb3V0LmNsb3NlRmxvdygpLFByb21pc2UucmVqZWN0KHQpfSkpfSx0LnByb3RvdHlwZS5maW5hbGl6ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLm9yZGVyLmdldE9yZGVyKCk7cmV0dXJuIGUmJnRoaXMuX2lzQWNrbm93bGVkZ2VkT3JGaW5hbGl6ZWQoKT90aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3IuZmluYWxpemVPcmRlcihlLm9yZGVySWQsdCkpOlByb21pc2UucmVqZWN0KG5ldyBLdCl9LHQucHJvdG90eXBlLl9pc0Fja25vd2xlZGdlZE9yRmluYWxpemVkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKTtyZXR1cm4gdC5wYXltZW50LmdldFBheW1lbnRTdGF0dXMoKT09PWxuLmF8fHQucGF5bWVudC5nZXRQYXltZW50U3RhdHVzKCk9PT1sbi5ifSx0LnByb3RvdHlwZS5faXNJbkNvbnRleHRFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuISghdGhpcy5fcGF5bWVudE1ldGhvZHx8IXRoaXMuX3BheW1lbnRNZXRob2QuY29uZmlnLm1lcmNoYW50SWQpfSx0fSgpLHByPW4oMTkwKSxocj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scixpKXt0aGlzLl9zdG9yZT10LHRoaXMuX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yPWUsdGhpcy5fcGF5cGFsQ29tbWVyY2VIb3N0ZWRGb3JtPW4sdGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yPXIsdGhpcy5fcGF5bWVudEFjdGlvbkNyZWF0b3I9aX1yZXR1cm4gdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbih0KXt2YXIgZT10Lm1ldGhvZElkLG49dC5wYXlwYWxjb21tZXJjZTtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQscixpLG8sYSxzLGMsdSxwLGg7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihkKXtzd2l0Y2goZC5sYWJlbCl7Y2FzZSAwOmlmKCFufHwhdGhpcy5faXNQYXlwYWxDb21tZXJjZU9wdGlvbnNQYXltZW50cyhuKSl0aHJvdyBuZXcgSXQuYSgnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBcIm9wdGlvbnMucGF5cGFsY29tbWVyY2UuZm9ybVwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nKTtyZXR1cm5bNCx0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9wYXltZW50TWV0aG9kQWN0aW9uQ3JlYXRvci5sb2FkUGF5bWVudE1ldGhvZChlKSldO2Nhc2UgMTppZih0PWQuc2VudCgpLHI9dC5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyxpPXQuY2FydC5nZXRDYXJ0T3JUaHJvdyxvPXIoZSksYT1vLmNsaWVudFRva2VuLHM9by5pbml0aWFsaXphdGlvbkRhdGEsIWEpdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ1BheW1lbnRNZXRob2QpO3JldHVybiBjPWkoKSx1PWMuaWQscD1jLmN1cnJlbmN5LmNvZGUsaD10aGlzLl9nZXRPcHRpb25zU2NyaXB0KHMscCxhKSxbNCx0aGlzLl9wYXlwYWxDb21tZXJjZUhvc3RlZEZvcm0uaW5pdGlhbGl6ZShuLmZvcm0sdSxoKV07Y2FzZSAyOnJldHVybiBkLnNlbnQoKSxbMix0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpXX19KSl9KSl9LHQucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG4scixpLG8sYTtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKHMpe3N3aXRjaChzLmxhYmVsKXtjYXNlIDA6aWYobj10LnBheW1lbnQscj1PYmplY3QoZC5fX3Jlc3QpKHQsW1wicGF5bWVudFwiXSksIW4pdGhyb3cgbmV3IHFlKFtcInBheW1lbnRcIl0pO3JldHVybiB0aGlzLl9wYXlwYWxDb21tZXJjZUhvc3RlZEZvcm0udmFsaWRhdGUoKSxbNCx0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3Iuc3VibWl0T3JkZXIocixlKSldO2Nhc2UgMTpyZXR1cm4gaT1zLnNlbnQoKS5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyxbNCx0aGlzLl9wYXlwYWxDb21tZXJjZUhvc3RlZEZvcm0uc3VibWl0KGkobi5tZXRob2RJZCkuY29uZmlnLmlzM2RzRW5hYmxlZCldO2Nhc2UgMjpyZXR1cm4gbz1zLnNlbnQoKS5vcmRlcklkLGE9e2Zvcm1hdHRlZFBheWxvYWQ6e3ZhdWx0X3BheW1lbnRfaW5zdHJ1bWVudDpudWxsLHNldF9hc19kZWZhdWx0X3N0b3JlZF9pbnN0cnVtZW50Om51bGwsZGV2aWNlX2luZm86bnVsbCxwYXlwYWxfYWNjb3VudDp7b3JkZXJfaWQ6b319fSxbMix0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9wYXltZW50QWN0aW9uQ3JlYXRvci5zdWJtaXRQYXltZW50KE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30sbikse3BheW1lbnREYXRhOmF9KSkpXX19KSl9KSl9LHQucHJvdG90eXBlLmZpbmFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBLdCl9LHQucHJvdG90eXBlLmRlaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXlwYWxDb21tZXJjZUhvc3RlZEZvcm0uZGVpbml0aWFsaXplKCksUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3N0b3JlLmdldFN0YXRlKCkpfSx0LnByb3RvdHlwZS5faXNQYXlwYWxDb21tZXJjZU9wdGlvbnNQYXltZW50cz1mdW5jdGlvbih0KXtyZXR1cm4hIXQuZm9ybX0sdC5wcm90b3R5cGUuX2dldE9wdGlvbnNTY3JpcHQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXQuY2xpZW50SWQsaT10LmludGVudDtyZXR1cm57XCJjbGllbnQtaWRcIjpyLFwibWVyY2hhbnQtaWRcIjp0Lm1lcmNoYW50SWQsXCJkYXRhLWNsaWVudC10b2tlblwiOm4sY29tcG9uZW50czpbXCJob3N0ZWQtZmllbGRzXCJdLGNvbW1pdDohMCxjdXJyZW5jeTplLGludGVudDppfX0sdH0oKSxscj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt2YXIgbixyPXRoaXM7dGhpcy5fb3B0aW9ucz10LHRoaXMuX3N0eWxlcz1lLHRoaXMuX2hhbmRsZUJsdXI9ZnVuY3Rpb24oKXt2YXIgdDtyLl9hcHBseVN0eWxlcyhudWxsPT09KHQ9ci5fc3R5bGVzKXx8dm9pZCAwPT09dD92b2lkIDA6dC5kZWZhdWx0KX0sdGhpcy5faGFuZGxlRm9jdXM9ZnVuY3Rpb24oKXt2YXIgdDtyLl9hcHBseVN0eWxlcyhudWxsPT09KHQ9ci5fc3R5bGVzKXx8dm9pZCAwPT09dD92b2lkIDA6dC5mb2N1cyl9LHRoaXMuX2lucHV0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSx0aGlzLl9pbnB1dC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9XCJ0cmFuc3BhcmVudFwiLHRoaXMuX2lucHV0LnN0eWxlLmJvcmRlcj1cIjBcIix0aGlzLl9pbnB1dC5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIix0aGlzLl9pbnB1dC5zdHlsZS5oZWlnaHQ9XCIxMDAlXCIsdGhpcy5faW5wdXQuc3R5bGUubWFyZ2luPVwiMFwiLHRoaXMuX2lucHV0LnN0eWxlLm91dGxpbmU9XCJub25lXCIsdGhpcy5faW5wdXQuc3R5bGUucGFkZGluZz1cIjBcIix0aGlzLl9pbnB1dC5zdHlsZS53aWR0aD1cIjEwMCVcIix0aGlzLl9pbnB1dC5wbGFjZWhvbGRlcj10aGlzLl9vcHRpb25zLnBsYWNlaG9sZGVyfHxcIlwiLHRoaXMuX2lucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsdGhpcy5faGFuZGxlQmx1ciksdGhpcy5faW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsdGhpcy5faGFuZGxlRm9jdXMpLHRoaXMuX2FwcGx5U3R5bGVzKG51bGw9PT0obj10aGlzLl9zdHlsZXMpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmRlZmF1bHQpfXJldHVybiB0LnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnB1dC52YWx1ZX0sdC5wcm90b3R5cGUuYXR0YWNoPWZ1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5fb3B0aW9ucy5jb250YWluZXJJZCk7aWYoIXQpdGhyb3cgbmV3IEl0LmE7dC5hcHBlbmRDaGlsZCh0aGlzLl9pbnB1dCl9LHQucHJvdG90eXBlLmRldGFjaD1mdW5jdGlvbigpe3ZhciB0O251bGw9PT0odD10aGlzLl9pbnB1dC5wYXJlbnROb2RlKXx8dm9pZCAwPT09dHx8dC5yZW1vdmVDaGlsZCh0aGlzLl9pbnB1dCl9LHQucHJvdG90eXBlLl9hcHBseVN0eWxlcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3QmJk9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKG4pe2UuX2lucHV0LnN0eWxlW25dPXRbbl18fFwiXCJ9KSl9LHR9KCk7IWZ1bmN0aW9uKHQpe3QuQ2FyZENvZGU9XCJjYXJkQ29kZVwiLHQuQ2FyZENvZGVWZXJpZmljYXRpb249XCJjYXJkQ29kZVZlcmlmaWNhdGlvblwiLHQuQ2FyZEV4cGlyeT1cImNhcmRFeHBpcnlcIix0LkNhcmROYW1lPVwiY2FyZE5hbWVcIix0LkNhcmROdW1iZXI9XCJjYXJkTnVtYmVyXCIsdC5DYXJkTnVtYmVyVmVyaWZpY2F0aW9uPVwiY2FyZE51bWJlclZlcmlmaWNhdGlvblwifShCbnx8KEJuPXt9KSksZnVuY3Rpb24odCl7dFt0LkNyZWRpdENhcmQ9MF09XCJDcmVkaXRDYXJkXCIsdFt0LlN0b3JlZENhcmRWZXJpZmljYXRpb249MV09XCJTdG9yZWRDYXJkVmVyaWZpY2F0aW9uXCJ9KEdufHwoR249e30pKTt2YXIgbXIsZnIsX3I9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3ZhciBlPXRoaXM7dGhpcy5fcGF5cGFsQ29tbWVyY2VQYXltZW50UHJvY2Vzc29yPXQsdGhpcy5faGFuZGxlQmx1cj1mdW5jdGlvbih0KXt2YXIgbixyO251bGw9PT0ocj1udWxsPT09KG49ZS5fZm9ybU9wdGlvbnMpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLm9uQmx1cil8fHZvaWQgMD09PXJ8fHIuY2FsbChuLHtmaWVsZFR5cGU6ZS5fbWFwRmllbGRUeXBlKHQuZW1pdHRlZEJ5KX0pfSx0aGlzLl9oYW5kbGVGb2N1cz1mdW5jdGlvbih0KXt2YXIgbixyO251bGw9PT0ocj1udWxsPT09KG49ZS5fZm9ybU9wdGlvbnMpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLm9uRm9jdXMpfHx2b2lkIDA9PT1yfHxyLmNhbGwobix7ZmllbGRUeXBlOmUuX21hcEZpZWxkVHlwZSh0LmVtaXR0ZWRCeSl9KX0sdGhpcy5faGFuZGxlQ2FyZFR5cGVDaGFuZ2U9ZnVuY3Rpb24odCl7dmFyIG4scixpO251bGw9PT0ocj1udWxsPT09KG49ZS5fZm9ybU9wdGlvbnMpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLm9uQ2FyZFR5cGVDaGFuZ2UpfHx2b2lkIDA9PT1yfHxyLmNhbGwobix7Y2FyZFR5cGU6bnVsbD09PShpPXQuY2FyZHNbMF0pfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnR5cGV9KX0sdGhpcy5faGFuZGxlSW5wdXRTdWJtaXRSZXF1ZXN0PWZ1bmN0aW9uKHQpe3ZhciBuLHI7bnVsbD09PShyPW51bGw9PT0obj1lLl9mb3JtT3B0aW9ucyl8fHZvaWQgMD09PW4/dm9pZCAwOm4ub25FbnRlcil8fHZvaWQgMD09PXJ8fHIuY2FsbChuLHtmaWVsZFR5cGU6ZS5fbWFwRmllbGRUeXBlKHQuZW1pdHRlZEJ5KX0pfSx0aGlzLl9oYW5kbGVWYWxpZGl0eUNoYW5nZT1mdW5jdGlvbih0KXt2YXIgbixyO251bGw9PT0ocj1udWxsPT09KG49ZS5fZm9ybU9wdGlvbnMpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLm9uVmFsaWRhdGUpfHx2b2lkIDA9PT1yfHxyLmNhbGwobix7aXNWYWxpZDpPYmplY3Qua2V5cyh0LmZpZWxkcykuZXZlcnkoKGZ1bmN0aW9uKGUpe3ZhciBuO3JldHVybiBudWxsPT09KG49dC5maWVsZHNbZV0pfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmlzVmFsaWR9KSksZXJyb3JzOmUuX21hcFZhbGlkYXRpb25FcnJvcnModC5maWVsZHMpfSl9fXJldHVybiB0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHIsaTtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKG8pe3N3aXRjaChvLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5fcGF5cGFsQ29tbWVyY2VQYXltZW50UHJvY2Vzc29yLmluaXRpYWxpemUobildO2Nhc2UgMTpyZXR1cm4gby5zZW50KCksdGhpcy5fZm9ybU9wdGlvbnM9dCx0aGlzLl90eXBlPXRoaXMuX2lzUGF5cGFsQ29tbWVyY2VGb3JtRmllbGRzTWFwKHQuZmllbGRzKT9Hbi5DcmVkaXRDYXJkOkduLlN0b3JlZENhcmRWZXJpZmljYXRpb24scj17ZmllbGRzOnRoaXMuX21hcEZpZWxkT3B0aW9ucyh0LmZpZWxkcyksc3R5bGVzOnQuc3R5bGVzJiZ0aGlzLl9tYXBTdHlsZU9wdGlvbnModC5zdHlsZXMpfSxpPXtibHVyOnRoaXMuX2hhbmRsZUJsdXIsZm9jdXM6dGhpcy5faGFuZGxlRm9jdXMsY2FyZFR5cGVDaGFuZ2U6dGhpcy5faGFuZGxlQ2FyZFR5cGVDaGFuZ2UsdmFsaWRpdHlDaGFuZ2U6dGhpcy5faGFuZGxlVmFsaWRpdHlDaGFuZ2UsaW5wdXRTdWJtaXRSZXF1ZXN0OnRoaXMuX2hhbmRsZUlucHV0U3VibWl0UmVxdWVzdH0sWzQsdGhpcy5fcGF5cGFsQ29tbWVyY2VQYXltZW50UHJvY2Vzc29yLnJlbmRlckhvc3RlZEZpZWxkcyhlLHIsaSldO2Nhc2UgMjpyZXR1cm4gby5zZW50KCksdGhpcy5faXNQYXlwYWxDb21tZXJjZUZvcm1GaWVsZHNNYXAodC5maWVsZHMpJiYodGhpcy5fY2FyZE5hbWVGaWVsZD1uZXcgbHIodC5maWVsZHMuY2FyZE5hbWUsdC5zdHlsZXMpLHRoaXMuX2NhcmROYW1lRmllbGQuYXR0YWNoKCkpLFsyXX19KSl9KSl9LHQucHJvdG90eXBlLnN1Ym1pdD1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG4scjtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKGkpe3N3aXRjaChpLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMudmFsaWRhdGUoKSxuPXtjYXJkaG9sZGVyTmFtZTpudWxsPT09KGU9dGhpcy5fY2FyZE5hbWVGaWVsZCl8fHZvaWQgMD09PWU/dm9pZCAwOmUuZ2V0VmFsdWUoKSxjb250aW5nZW5jaWVzOnQ/W1wiM0RfU0VDVVJFXCJdOnZvaWQgMH0sWzQsdGhpcy5fcGF5cGFsQ29tbWVyY2VQYXltZW50UHJvY2Vzc29yLnN1Ym1pdEhvc3RlZEZpZWxkcyhuKV07Y2FzZSAxOmlmKHI9aS5zZW50KCksdCYmKFwiTk9cIj09PXIubGlhYmlsaXR5U2hpZnR8fFwiVU5LTk9XTlwiPT09ci5saWFiaWxpdHlTaGlmdCkpdGhyb3cgbmV3IEluLmEoXCJGYWlsZWQgYXV0aGVudGljYXRpb24uIFBsZWFzZSB0cnkgdG8gYXV0aG9yaXplIGFnYWluLlwiKTtyZXR1cm5bMixyXX19KSl9KSl9LHQucHJvdG90eXBlLnZhbGlkYXRlPWZ1bmN0aW9uKCl7dmFyIHQsZSxuPXRoaXMuX3BheXBhbENvbW1lcmNlUGF5bWVudFByb2Nlc3Nvci5nZXRIb3N0ZWRGaWVsZHNWYWxpZGF0aW9uU3RhdGUoKSxyPW4uaXNWYWxpZCxpPW4uZmllbGRzO2lmKCFyKXt2YXIgbz10aGlzLl9tYXBWYWxpZGF0aW9uRXJyb3JzKGkpO3Rocm93IG51bGw9PT0oZT1udWxsPT09KHQ9dGhpcy5fZm9ybU9wdGlvbnMpfHx2b2lkIDA9PT10P3ZvaWQgMDp0Lm9uVmFsaWRhdGUpfHx2b2lkIDA9PT1lfHxlLmNhbGwodCx7ZXJyb3JzOm8saXNWYWxpZDohMX0pLG5ldyBibihvKX19LHQucHJvdG90eXBlLmRlaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3RoaXMuX3BheXBhbENvbW1lcmNlUGF5bWVudFByb2Nlc3Nvci5kZWluaXRpYWxpemUoKX0sdC5wcm90b3R5cGUuX21hcEZpZWxkT3B0aW9ucz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5faXNQYXlwYWxDb21tZXJjZUZvcm1GaWVsZHNNYXAodCk/T2JqZWN0KEJ0Lm9taXRCeSkoe251bWJlcjp7c2VsZWN0b3I6XCIjXCIrdC5jYXJkTnVtYmVyLmNvbnRhaW5lcklkLHBsYWNlaG9sZGVyOnQuY2FyZE51bWJlci5wbGFjZWhvbGRlcn0sZXhwaXJhdGlvbkRhdGU6e3NlbGVjdG9yOlwiI1wiK3QuY2FyZEV4cGlyeS5jb250YWluZXJJZCxwbGFjZWhvbGRlcjp0LmNhcmRFeHBpcnkucGxhY2Vob2xkZXJ9LGN2djp0LmNhcmRDb2RlJiZ7c2VsZWN0b3I6XCIjXCIrdC5jYXJkQ29kZS5jb250YWluZXJJZCxwbGFjZWhvbGRlcjp0LmNhcmRDb2RlLnBsYWNlaG9sZGVyfX0sQnQuaXNOaWwpOk9iamVjdChCdC5vbWl0QnkpKHtudW1iZXI6dC5jYXJkTnVtYmVyVmVyaWZpY2F0aW9uJiZ7c2VsZWN0b3I6XCIjXCIrdC5jYXJkTnVtYmVyVmVyaWZpY2F0aW9uLmNvbnRhaW5lcklkLHBsYWNlaG9sZGVyOnQuY2FyZE51bWJlclZlcmlmaWNhdGlvbi5wbGFjZWhvbGRlcn0sY3Z2OnQuY2FyZENvZGVWZXJpZmljYXRpb24mJntzZWxlY3RvcjpcIiNcIit0LmNhcmRDb2RlVmVyaWZpY2F0aW9uLmNvbnRhaW5lcklkLHBsYWNlaG9sZGVyOnQuY2FyZENvZGVWZXJpZmljYXRpb24ucGxhY2Vob2xkZXJ9fSxCdC5pc05pbCl9LHQucHJvdG90eXBlLl9tYXBTdHlsZU9wdGlvbnM9ZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PXt9KSxPYmplY3Qua2V5cyh0KS5yZWR1Y2UoKGZ1bmN0aW9uKGUsbil7dmFyIHI7cmV0dXJuIHRbbl0/T2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSxlKSwoKHI9e30pW09iamVjdChCdC5rZWJhYkNhc2UpKG4pXT10W25dLHIpKTplfSkse30pfTtyZXR1cm57aW5wdXQ6ZSh0LmRlZmF1bHQpLFwiLmludmFsaWRcIjplKHQuZXJyb3IpLFwiOmZvY3VzXCI6ZSh0LmZvY3VzKX19LHQucHJvdG90eXBlLl9pc1BheXBhbENvbW1lcmNlRm9ybUZpZWxkc01hcD1mdW5jdGlvbih0KXtyZXR1cm4hIXQuY2FyZE51bWJlcn0sdC5wcm90b3R5cGUuX21hcEZpZWxkVHlwZT1mdW5jdGlvbih0KXtzd2l0Y2godCl7Y2FzZVwibnVtYmVyXCI6cmV0dXJuIHRoaXMuX3R5cGU9PT1Hbi5TdG9yZWRDYXJkVmVyaWZpY2F0aW9uP0JuLkNhcmROdW1iZXJWZXJpZmljYXRpb246Qm4uQ2FyZE51bWJlcjtjYXNlXCJleHBpcmF0aW9uRGF0ZVwiOnJldHVybiBCbi5DYXJkRXhwaXJ5O2Nhc2VcImN2dlwiOnJldHVybiB0aGlzLl90eXBlPT09R24uU3RvcmVkQ2FyZFZlcmlmaWNhdGlvbj9Cbi5DYXJkQ29kZVZlcmlmaWNhdGlvbjpCbi5DYXJkQ29kZTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgZmllbGQgdHlwZVwiKX19LHQucHJvdG90eXBlLl9tYXBWYWxpZGF0aW9uRXJyb3JzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIE9iamVjdC5rZXlzKHQpLnJlZHVjZSgoZnVuY3Rpb24obixyKXt2YXIgaSxvO3JldHVybiBPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LG4pLCgoaT17fSlbZS5fbWFwRmllbGRUeXBlKHIpXT0obnVsbD09PShvPXRbcl0pfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmlzVmFsaWQpP3ZvaWQgMDpbZS5fY3JlYXRlSW52YWxpZEVycm9yKGUuX21hcEZpZWxkVHlwZShyKSldLGkpKX0pLHt9KX0sdC5wcm90b3R5cGUuX2NyZWF0ZUludmFsaWRFcnJvcj1mdW5jdGlvbih0KXtzd2l0Y2godCl7Y2FzZSBCbi5DYXJkQ29kZVZlcmlmaWNhdGlvbjpyZXR1cm57ZmllbGRUeXBlOnQsbWVzc2FnZTpcIkludmFsaWQgY2FyZCBjb2RlXCIsdHlwZTpcImludmFsaWRfY2FyZF9jb2RlXCJ9O2Nhc2UgQm4uQ2FyZE51bWJlclZlcmlmaWNhdGlvbjpyZXR1cm57ZmllbGRUeXBlOnQsbWVzc2FnZTpcIkludmFsaWQgY2FyZCBudW1iZXJcIix0eXBlOlwiaW52YWxpZF9jYXJkX251bWJlclwifTtjYXNlIEJuLkNhcmRDb2RlOnJldHVybntmaWVsZFR5cGU6dCxtZXNzYWdlOlwiSW52YWxpZCBjYXJkIGNvZGVcIix0eXBlOlwiaW52YWxpZF9jYXJkX2NvZGVcIn07Y2FzZSBCbi5DYXJkRXhwaXJ5OnJldHVybntmaWVsZFR5cGU6dCxtZXNzYWdlOlwiSW52YWxpZCBjYXJkIGV4cGlyeVwiLHR5cGU6XCJpbnZhbGlkX2NhcmRfZXhwaXJ5XCJ9O2Nhc2UgQm4uQ2FyZE51bWJlcjpyZXR1cm57ZmllbGRUeXBlOnQsbWVzc2FnZTpcIkludmFsaWQgY2FyZCBudW1iZXJcIix0eXBlOlwiaW52YWxpZF9jYXJkX251bWJlclwifTtkZWZhdWx0OnJldHVybntmaWVsZFR5cGU6dCxtZXNzYWdlOlwiSW52YWxpZCBmaWVsZFwiLHR5cGU6XCJpbnZhbGlkXCJ9fX0sdH0oKSx5cj1uKDE5NyksZ3I9bigxNjkpLGJyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyLGksbyxhLHMpe3ZvaWQgMD09PXMmJihzPTApLHRoaXMuX3N0b3JlPXQsdGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yPWUsdGhpcy5fcGF5bWVudEFjdGlvbkNyZWF0b3I9bix0aGlzLl9wYXlwYWxDb21tZXJjZVBheW1lbnRQcm9jZXNzb3I9cix0aGlzLl9wYXlwYWxDb21tZXJjZUZ1bmRpbmdLZXlSZXNvbHZlcj1pLHRoaXMuX3BheXBhbENvbW1lcmNlUmVxdWVzdFNlbmRlcj1vLHRoaXMuX3BvbGxpbmdJbnRlcnZhbD1hLHRoaXMuX3BvbGxpbmdUaW1lcj1zfXJldHVybiB0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2F0ZXdheUlkLG49dC5tZXRob2RJZCxyPXQucGF5cGFsY29tbWVyY2U7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LGksbyxhLHMsYyx1LHAsaCxsLG0sZixfLHksZyxiLHY9dGhpcztyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKEMpe3N3aXRjaChDLmxhYmVsKXtjYXNlIDA6aWYodD10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLGk9dC5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyxvPXQuY2FydC5nZXRDYXJ0T3JUaHJvdyxhPWkobixlKS5pbml0aWFsaXphdGlvbkRhdGEsYz0ocz1udWxsIT1hP2E6e30pLm9yZGVySWQsdT1zLmJ1dHRvblN0eWxlLGMpcmV0dXJuIHRoaXMuX29yZGVySWQ9YyxbMix0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpXTtpZighcil0aHJvdyBuZXcgSXQuYSgnVW5hYmxlIHRvIGluaXRpYWxpemUgcGF5bWVudCBiZWNhdXNlIFwib3B0aW9ucy5wYXlwYWxjb21tZXJjZVwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nKTtpZighdGhpcy5faXNQYXlwYWxDb21tZXJjZU9wdGlvbnNQYXltZW50cyhyKSl0aHJvdyBuZXcgSXQuYSgnVW5hYmxlIHRvIGluaXRpYWxpemUgcGF5bWVudCBiZWNhdXNlIFwib3B0aW9ucy5wYXlwYWxjb21tZXJjZVwiIGFyZ3VtZW50IHNob3VsZCBjb250YWluIFwiY29udGFpbmVyXCIsIFwib25SZW5kZXJCdXR0b25cIiwgXCJzdWJtaXRGb3JtXCIuJyk7cmV0dXJuIHA9ci5jb250YWluZXIsaD1yLm9uUmVuZGVyQnV0dG9uLGw9ci5zdWJtaXRGb3JtLG09ci5vblZhbGlkYXRlLGY9bygpLF89Zi5pZCx5PWYuY3VycmVuY3kuY29kZSxnPXRoaXMuX2dldE9wdGlvbnNTY3JpcHQoYSx5KSxiPXtzdHlsZTp1LG9uQXBwcm92ZTpmdW5jdGlvbih0KXt2Ll9kZWluaXRpYWxpemVQb2xsaW5nVGltZXIoZSksdi5fdG9rZW5pemVQYXltZW50KHQsbCl9LG9uQ2xpY2s6ZnVuY3Rpb24odCxpKXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh2LHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5faW5pdGlhbGl6ZVBvbGxpbmdNZWNoYW5pc20obCxlLG4sciksWzIsbShpLnJlc29sdmUsaS5yZWplY3QpXX0pKX0pKX0sb25DYW5jZWw6ZnVuY3Rpb24oKXt2Ll9kZWluaXRpYWxpemVQb2xsaW5nVGltZXIoZSl9fSxbNCx0aGlzLl9wYXlwYWxDb21tZXJjZVBheW1lbnRQcm9jZXNzb3IuaW5pdGlhbGl6ZShnLHZvaWQgMCxlKV07Y2FzZSAxOnJldHVybiBDLnNlbnQoKSx0aGlzLl9wYXlwYWxDb21tZXJjZVBheW1lbnRQcm9jZXNzb3IucmVuZGVyQnV0dG9ucyhfLHAsYix7b25SZW5kZXJCdXR0b246aCxmdW5kaW5nS2V5OnRoaXMuX3BheXBhbENvbW1lcmNlRnVuZGluZ0tleVJlc29sdmVyLnJlc29sdmUobixlKSxwYXJhbXNGb3JQcm92aWRlcjp7aXNDaGVja291dDohMH19KSxbMix0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpXX19KSl9KSl9LHQucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG4scixpO3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24obyl7c3dpdGNoKG8ubGFiZWwpe2Nhc2UgMDppZihuPXQucGF5bWVudCxyPU9iamVjdChkLl9fcmVzdCkodCxbXCJwYXltZW50XCJdKSwhbil0aHJvdyBuZXcgcWUoW1wicGF5bWVudFwiXSk7aWYoIXRoaXMuX29yZGVySWQpdGhyb3cgbmV3IEhlLmE7cmV0dXJuIGk9e2Zvcm1hdHRlZFBheWxvYWQ6e3ZhdWx0X3BheW1lbnRfaW5zdHJ1bWVudDpudWxsLHNldF9hc19kZWZhdWx0X3N0b3JlZF9pbnN0cnVtZW50Om51bGwsZGV2aWNlX2luZm86bnVsbCxtZXRob2RfaWQ6bi5tZXRob2RJZCxwYXlwYWxfYWNjb3VudDp7b3JkZXJfaWQ6dGhpcy5fb3JkZXJJZH19fSxbNCx0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3Iuc3VibWl0T3JkZXIocixlKSldO2Nhc2UgMTpyZXR1cm4gby5zZW50KCksWzIsdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcGF5bWVudEFjdGlvbkNyZWF0b3Iuc3VibWl0UGF5bWVudChPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LG4pLHtwYXltZW50RGF0YTppfSkpKV19fSkpfSkpfSx0LnByb3RvdHlwZS5maW5hbGl6ZT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlamVjdChuZXcgS3QpfSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU9dC5nYXRld2F5SWQ7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2RlaW5pdGlhbGl6ZVBvbGxpbmdUaW1lcihlKSx0aGlzLl9vcmRlcklkPXZvaWQgMCx0aGlzLl9wYXlwYWxDb21tZXJjZVBheW1lbnRQcm9jZXNzb3IuZGVpbml0aWFsaXplKCksWzIsUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3N0b3JlLmdldFN0YXRlKCkpXX0pKX0pKX0sdC5wcm90b3R5cGUuX2luaXRpYWxpemVQb2xsaW5nTWVjaGFuaXNtPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPXRoaXM7ZT09PVp0LmEuUEFZUEFMX0NPTU1FUkNFX0FMVEVSTkFUSVZFX01FVEhPRFMmJih0aGlzLl9wb2xsaW5nSW50ZXJ2YWw9d2luZG93LnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikoaSx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBpLG8sYTtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKHMpe3N3aXRjaChzLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHMudHJ5cy5wdXNoKFswLDIsLDNdKSx0aGlzLl9wb2xsaW5nVGltZXIrPTNlMyxbNCx0aGlzLl9wYXlwYWxDb21tZXJjZVJlcXVlc3RTZW5kZXIuZ2V0T3JkZXJTdGF0dXMoKV07Y2FzZSAxOmlmKFwiQVBQUk9WRURcIj09PShpPXMuc2VudCgpLnN0YXR1cykpdGhpcy5fZGVpbml0aWFsaXplUG9sbGluZ1RpbWVyKGUpLHRoaXMuX3Rva2VuaXplUGF5bWVudCh7b3JkZXJJRDp0aGlzLl9wYXlwYWxDb21tZXJjZVBheW1lbnRQcm9jZXNzb3IuZ2V0T3JkZXJJZCgpfSx0KTtlbHNle2lmKCEoXCJDUkVBVEVEXCI9PT1pJiZ0aGlzLl9wb2xsaW5nVGltZXI8NmU1KSl0aHJvdyB0aGlzLl9yZWluaXRpYWxpemVCdXR0b25zKHtnYXRld2F5SWQ6ZSxtZXRob2RJZDpuLHBheXBhbGNvbW1lcmNlOnJ9KSxuZXcgZ3IuYTt0aGlzLl9pbml0aWFsaXplUG9sbGluZ01lY2hhbmlzbSh0LGUsbixyKX1yZXR1cm5bMywzXTtjYXNlIDI6cmV0dXJuIG89cy5zZW50KCksdGhpcy5fZGVpbml0aWFsaXplUG9sbGluZ1RpbWVyKGUpLG51bGw9PT0oYT1yLm9uRXJyb3IpfHx2b2lkIDA9PT1hfHxhLmNhbGwocixvKSxbMywzXTtjYXNlIDM6cmV0dXJuWzJdfX0pKX0pKX0pLDNlMykpfSx0LnByb3RvdHlwZS5fcmVpbml0aWFsaXplQnV0dG9ucz1mdW5jdGlvbih0KXt2YXIgZT10LmdhdGV3YXlJZCxuPXQubWV0aG9kSWQscj10LnBheXBhbGNvbW1lcmNlO3RoaXMuZGVpbml0aWFsaXplKHttZXRob2RJZDpuLGdhdGV3YXlJZDplfSksdGhpcy5pbml0aWFsaXplKHtnYXRld2F5SWQ6ZSxtZXRob2RJZDpuLHBheXBhbGNvbW1lcmNlOnJ9KX0sdC5wcm90b3R5cGUuX2RlaW5pdGlhbGl6ZVBvbGxpbmdUaW1lcj1mdW5jdGlvbih0KXt0PT09WnQuYS5QQVlQQUxfQ09NTUVSQ0VfQUxURVJOQVRJVkVfTUVUSE9EUyYmKGNsZWFyVGltZW91dCh0aGlzLl9wb2xsaW5nSW50ZXJ2YWwpLHRoaXMuX3BvbGxpbmdUaW1lcj0wKX0sdC5wcm90b3R5cGUuX2lzUGF5cGFsQ29tbWVyY2VPcHRpb25zUGF5bWVudHM9ZnVuY3Rpb24odCl7cmV0dXJuISF0LmNvbnRhaW5lcn0sdC5wcm90b3R5cGUuX3Rva2VuaXplUGF5bWVudD1mdW5jdGlvbih0LGUpe3ZhciBuPXQub3JkZXJJRDt0aGlzLl9vcmRlcklkPW4sZSgpfSx0LnByb3RvdHlwZS5fZ2V0T3B0aW9uc1NjcmlwdD1mdW5jdGlvbih0LGUpe3ZhciBuPXQuY2xpZW50SWQscj10LmludGVudCxpPXQubWVyY2hhbnRJZCxvPXQuYnV5ZXJDb3VudHJ5LGE9e1wiY2xpZW50LWlkXCI6bixcIm1lcmNoYW50LWlkXCI6aSxjb21taXQ6ITAsY3VycmVuY3k6ZSxpbnRlbnQ6cn07cmV0dXJuIHQuaXNEZXZlbG9wZXJNb2RlQXBwbGljYWJsZT9PYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LGEpLHtcImJ1eWVyLWNvdW50cnlcIjpvfSk6YX0sdH0oKSx2cj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLnJlc29sdmU9ZnVuY3Rpb24odCxlKXtpZih0PT09WnQuYS5QQVlQQUxfQ09NTUVSQ0UpcmV0dXJuXCJQQVlQQUxcIjtpZih0PT09WnQuYS5QQVlQQUxfQ09NTUVSQ0VfQ1JFRElUKXJldHVyblwiUEFZTEFURVJcIjtpZihlPT09WnQuYS5QQVlQQUxfQ09NTUVSQ0VfQUxURVJOQVRJVkVfTUVUSE9EUylzd2l0Y2godCl7Y2FzZVwiYmFuY29udGFjdFwiOnJldHVyblwiQkFOQ09OVEFDVFwiO2Nhc2VcImdpcm9wYXlcIjpyZXR1cm5cIkdJUk9QQVlcIjtjYXNlXCJwcnplbGV3eTI0XCI6cmV0dXJuXCJQMjRcIjtjYXNlXCJlcHNcIjpyZXR1cm5cIkVQU1wiO2Nhc2VcImlkZWFsXCI6cmV0dXJuXCJJREVBTFwiO2Nhc2VcIm15YmFua1wiOnJldHVyblwiTVlCQU5LXCI7Y2FzZVwic29mb3J0XCI6cmV0dXJuXCJTT0ZPUlRcIjtjYXNlXCJibGlrXCI6cmV0dXJuXCJCTElLXCJ9dGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIHJlc29sdmUgZnVuZGluZyBrZXlcIil9LHR9KCksQ3I9bigxOTEpLE9yPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsaSxvKXt2YXIgYT10LmNhbGwodGhpcyxlLG4scixpKXx8dGhpcztyZXR1cm4gYS5fZm9ybVBvc3Rlcj1vLGF9cmV0dXJuIE9iamVjdChkLl9fZXh0ZW5kcykoZSx0KSxlLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKGUsbil7dmFyIHI9dGhpcztyZXR1cm4gdC5wcm90b3R5cGUuZXhlY3V0ZS5jYWxsKHRoaXMsZSxuKS5jYXRjaCgoZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBGZS5hJiZPYmplY3QoQnQuc29tZSkodC5ib2R5LmVycm9ycyx7Y29kZTpcInRocmVlX2Rfc2VjdXJlX3JlcXVpcmVkXCJ9KT9uZXcgUHJvbWlzZSgoZnVuY3Rpb24oKXtyLl9mb3JtUG9zdGVyLnBvc3RGb3JtKHQuYm9keS50aHJlZV9kc19yZXN1bHQuYWNzX3VybCx7UGFSZXE6dC5ib2R5LnRocmVlX2RzX3Jlc3VsdC5wYXllcl9hdXRoX3JlcXVlc3QsVGVybVVybDp0LmJvZHkudGhyZWVfZHNfcmVzdWx0LmNhbGxiYWNrX3VybCxNRDp0LmJvZHkudGhyZWVfZHNfcmVzdWx0Lm1lcmNoYW50X2RhdGF9LHZvaWQgMCxcIl90b3BcIil9KSk6UHJvbWlzZS5yZWplY3QodCl9KSl9LGUucHJvdG90eXBlLmZpbmFsaXplPWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXMuX3N0b3JlLmdldFN0YXRlKCkscj1uLm9yZGVyLmdldE9yZGVyKCk7cmV0dXJuIHImJm4ucGF5bWVudC5nZXRQYXltZW50U3RhdHVzKCk9PT1sbi5iP3RoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvci5maW5hbGl6ZU9yZGVyKHIub3JkZXJJZCxlKSk6dC5wcm90b3R5cGUuZmluYWxpemUuY2FsbCh0aGlzLGUpfSxlfShwbiksU3I9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyxlfHxcIlVuc3VwcG9ydGVkIGJyb3dzZXIgZXJyb3JcIil8fHRoaXM7cmV0dXJuIG4ubmFtZT1cIlVuc3VwcG9ydGVkQnJvd3NlckVycm9yXCIsbi50eXBlPVwidW5zdXBwb3J0ZWRfYnJvd3NlclwiLG59cmV0dXJuIE9iamVjdChkLl9fZXh0ZW5kcykoZSx0KSxlfShodC5hKTshZnVuY3Rpb24odCl7dC5hbWVyaWNhbkV4cHJlc3M9XCJBTUVSSUNBTl9FWFBSRVNTXCIsdC5kaXNjb3Zlcj1cIkRJU0NPVkVSXCIsdC5kaXNjb3ZlckRpbmVycz1cIkRJU0NPVkVSX0RJTkVSU1wiLHQuSkNCPVwiSkNCXCIsdC5tYXN0ZXJDYXJkPVwiTUFTVEVSQ0FSRFwiLHQudW5pb25QYXk9XCJDSElOQV9VTklPTlBBWVwiLHQudW5rbm93bj1cIk9USEVSX0JSQU5EXCIsdC52aXNhPVwiVklTQVwiLHQuc3F1YXJlR2lmdD1cIlNRVUFSRV9HSUZUX0NBUkRcIn0obXJ8fChtcj17fSkpLGZ1bmN0aW9uKHQpe3QuYXBwbGVQYXk9XCJBUFBMRVBBWVwiLHQubWFzdGVycGFzcz1cIk1BU1RFUlBBU1NcIix0Lm5vbmU9XCJOT05FXCJ9KGZyfHwoZnI9e30pKTt2YXIgd3IsSXIsQXIsRXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIsaSxvLGEscyl7dGhpcy5fc3RvcmU9dCx0aGlzLl9jaGVja291dEFjdGlvbkNyZWF0b3I9ZSx0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3I9bix0aGlzLl9wYXltZW50QWN0aW9uQ3JlYXRvcj1yLHRoaXMuX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yPWksdGhpcy5fcGF5bWVudFN0cmF0ZWd5QWN0aW9uQ3JlYXRvcj1vLHRoaXMuX3JlcXVlc3RTZW5kZXI9YSx0aGlzLl9zY3JpcHRMb2FkZXI9c31yZXR1cm4gdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dC5tZXRob2RJZDtyZXR1cm4gdGhpcy5fc3luY1BheW1lbnRNZXRob2QobiksdGhpcy5fc2NyaXB0TG9hZGVyLmxvYWQoKS50aGVuKChmdW5jdGlvbihuKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHIsaSl7ZS5fcGF5bWVudEZvcm09bihlLl9nZXRGb3JtT3B0aW9ucyh0LHtyZXNvbHZlOnIscmVqZWN0Oml9KSksZS5fcGF5bWVudEZvcm0uYnVpbGQoKX0pKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBlLl9zdG9yZS5nZXRTdGF0ZSgpfSkpfSx0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXQucGF5bWVudDtpZighcnx8IXIubWV0aG9kSWQpdGhyb3cgbmV3IEl0LmEoJ1VuYWJsZSB0byBzdWJtaXQgcGF5bWVudCBiZWNhdXNlIFwicGF5bG9hZC5wYXltZW50Lm1ldGhvZElkXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicpO3JldHVybiB0aGlzLl9zeW5jUGF5bWVudE1ldGhvZChyLm1ldGhvZElkKSx0aGlzLl9nZXROb25jZUluc3RydW1lbnQoci5tZXRob2RJZCkudGhlbigoZnVuY3Rpb24oaSl7cmV0dXJuIG4uX3N0b3JlLmRpc3BhdGNoKG4uX29yZGVyQWN0aW9uQ3JlYXRvci5zdWJtaXRPcmRlcihPYmplY3QoQnQub21pdCkodCxcInBheW1lbnRcIiksZSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIG4uX3N0b3JlLmRpc3BhdGNoKG4uX3BheW1lbnRBY3Rpb25DcmVhdG9yLnN1Ym1pdFBheW1lbnQoT2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSxyKSx7cGF5bWVudERhdGE6aX0pKSl9KSl9KSl9LHQucHJvdG90eXBlLmZpbmFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBLdCl9LHQucHJvdG90eXBlLmRlaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSl9LHQucHJvdG90eXBlLl9zeW5jUGF5bWVudE1ldGhvZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpO2lmKHRoaXMuX3BheW1lbnRNZXRob2Q9ZS5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kKHQpLCF0aGlzLl9wYXltZW50TWV0aG9kfHwhdGhpcy5fcGF5bWVudE1ldGhvZC5pbml0aWFsaXphdGlvbkRhdGEpdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ1BheW1lbnRNZXRob2QpfSx0LnByb3RvdHlwZS5fZ2V0Q291bnRyeUNvZGU9ZnVuY3Rpb24odCl7c3dpdGNoKHQudG9VcHBlckNhc2UoKSl7Y2FzZVwiTkVXIFpFTEFORFwiOnJldHVyblwiTlpcIjtjYXNlXCJBVVNUUkFMSUFcIjpyZXR1cm5cIkFVXCI7ZGVmYXVsdDpyZXR1cm5cIlVTXCJ9fSx0LnByb3RvdHlwZS5fZ2V0Tm9uY2VJbnN0cnVtZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2QodCk7aWYobil7dmFyIHI9bi5pbml0aWFsaXphdGlvbkRhdGE7aWYociYmci5wYXltZW50RGF0YS5ub25jZSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtub25jZTpuLmluaXRpYWxpemF0aW9uRGF0YS5wYXltZW50RGF0YS5ub25jZX0pfXJldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCxuKXtpZighZS5fcGF5bWVudEZvcm0pdGhyb3cgbmV3IGJ0LmIoYnQuYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO2UuX2RlZmVycmVkUmVxdWVzdE5vbmNlJiZlLl9kZWZlcnJlZFJlcXVlc3ROb25jZS5yZWplY3QobmV3IGdyLmEpLGUuX2RlZmVycmVkUmVxdWVzdE5vbmNlPXtyZXNvbHZlOnQscmVqZWN0Om59LGUuX3BheW1lbnRGb3JtLnJlcXVlc3RDYXJkTm9uY2UoKX0pKX0sdC5wcm90b3R5cGUuX2dldEZvcm1PcHRpb25zPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXQuc3F1YXJlO2lmKCFyfHwhdGhpcy5fcGF5bWVudE1ldGhvZCl0aHJvdyBuZXcgSXQuYSgnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBcIm9wdGlvbnMuc3F1YXJlXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicpO3JldHVybiB0aGlzLl9zcXVhcmVPcHRpb25zPXIsT2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30sdGhpcy5fc3F1YXJlT3B0aW9ucyksdGhpcy5fcGF5bWVudE1ldGhvZC5pbml0aWFsaXphdGlvbkRhdGEpLHtjYWxsYmFja3M6e2NhcmROb25jZVJlc3BvbnNlUmVjZWl2ZWQ6ZnVuY3Rpb24odCxlLHIsaSxvKXtyJiZyLmRpZ2l0YWxfd2FsbGV0X3R5cGUhPT1mci5ub25lP24uX2hhbmRsZVdhbGxldE5vbmNlUmVzcG9uc2UodCxlLHIsaSxvKTpuLl9oYW5kbGVDYXJkTm9uY2VSZXNwb25zZSh0LGUpfSxjcmVhdGVQYXltZW50UmVxdWVzdDpmdW5jdGlvbigpe3JldHVybiBuLl9wYXltZW50UmVxdWVzdFBheWxvYWQoKX0sbWV0aG9kc1N1cHBvcnRlZDpmdW5jdGlvbih0KXt2YXIgZT1yLm1hc3RlcnBhc3M7ZSYmbi5fc2hvd1BheW1lbnRNZXRob2RzKHQsZSl9LHBheW1lbnRGb3JtTG9hZGVkOmZ1bmN0aW9uKCl7ZS5yZXNvbHZlKCksbi5fc2V0UG9zdGFsQ29kZSgpfSx1bnN1cHBvcnRlZEJyb3dzZXJEZXRlY3RlZDpmdW5jdGlvbigpe3JldHVybiBlLnJlamVjdChuZXcgU3IpfX19KX0sdC5wcm90b3R5cGUuX2hhbmRsZVdhbGxldE5vbmNlUmVzcG9uc2U9ZnVuY3Rpb24odCxlLG4scixpKXt2YXIgbz10aGlzLl9zcXVhcmVPcHRpb25zJiZ0aGlzLl9zcXVhcmVPcHRpb25zLm9uRXJyb3J8fGIubm9vcCxhPXRoaXMuX3NxdWFyZU9wdGlvbnMmJnRoaXMuX3NxdWFyZU9wdGlvbnMub25QYXltZW50U2VsZWN0fHxiLm5vb3A7dD9vKHQpOmUmJnRoaXMuX3BheW1lbnRNZXRob2QmJnRoaXMuX3BheW1lbnRJbnN0cnVtZW50U2VsZWN0ZWQodGhpcy5fcGF5bWVudE1ldGhvZC5pZCxlLG4scixpKS50aGVuKGEpLmNhdGNoKG8pfSx0LnByb3RvdHlwZS5faGFuZGxlQ2FyZE5vbmNlUmVzcG9uc2U9ZnVuY3Rpb24odCxlKXtpZighdGhpcy5fZGVmZXJyZWRSZXF1ZXN0Tm9uY2UpdGhyb3cgbmV3IGJ0LmIoYnQuYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpOyFlfHx0PygodGhpcy5fc3F1YXJlT3B0aW9ucyYmdGhpcy5fc3F1YXJlT3B0aW9ucy5vbkVycm9yfHxiLm5vb3ApKHQpLHRoaXMuX2RlZmVycmVkUmVxdWVzdE5vbmNlLnJlamVjdCh0KSk6dGhpcy5fZGVmZXJyZWRSZXF1ZXN0Tm9uY2UucmVzb2x2ZSh7bm9uY2U6ZX0pfSx0LnByb3RvdHlwZS5fcGF5bWVudEluc3RydW1lbnRTZWxlY3RlZD1mdW5jdGlvbih0LGUsbixyLGkpe3ZhciBvPXRoaXM7cmV0dXJuIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3BheW1lbnRTdHJhdGVneUFjdGlvbkNyZWF0b3Iud2lkZ2V0SW50ZXJhY3Rpb24oKGZ1bmN0aW9uKCl7cmV0dXJuIG8uX3NldEV4dGVybmFsQ2hlY2tvdXREYXRhKGUsbixyLGkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UuYWxsKFtvLl9zdG9yZS5kaXNwYXRjaChvLl9jaGVja291dEFjdGlvbkNyZWF0b3IubG9hZEN1cnJlbnRDaGVja291dCgpKSxvLl9zdG9yZS5kaXNwYXRjaChvLl9wYXltZW50TWV0aG9kQWN0aW9uQ3JlYXRvci5sb2FkUGF5bWVudE1ldGhvZCh0KSldKX0pKX0pLHttZXRob2RJZDp0fSkse3F1ZXVlSWQ6XCJ3aWRnZXRJbnRlcmFjdGlvblwifSl9LHQucHJvdG90eXBlLl9wYXltZW50UmVxdWVzdFBheWxvYWQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLGU9dC5jaGVja291dC5nZXRDaGVja291dCgpLG49dC5jb25maWcuZ2V0U3RvcmVDb25maWcoKTtpZighZSl0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nQ2hlY2tvdXQpO2lmKCFuKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdDaGVja291dENvbmZpZyk7cmV0dXJue3JlcXVlc3RTaGlwcGluZ0FkZHJlc3M6ITAscmVxdWVzdEJpbGxpbmdJbmZvOiEwLGN1cnJlbmN5Q29kZTpuLmN1cnJlbmN5LmNvZGUsY291bnRyeUNvZGU6dGhpcy5fZ2V0Q291bnRyeUNvZGUobi5zdG9yZVByb2ZpbGUuc3RvcmVDb3VudHJ5KSx0b3RhbDp7bGFiZWw6bi5zdG9yZVByb2ZpbGUuc3RvcmVOYW1lLGFtb3VudDpTdHJpbmcoZS5zdWJ0b3RhbCkscGVuZGluZzohMX19fSx0LnByb3RvdHlwZS5fc2V0RXh0ZXJuYWxDaGVja291dERhdGE9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHRoaXMuX3JlcXVlc3RTZW5kZXIucG9zdChcIi9jaGVja291dC5waHBcIix7aGVhZGVyczp7QWNjZXB0OlwidGV4dC9odG1sXCIsXCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwifSxib2R5Ontub25jZTp0LHByb3ZpZGVyOlwic3F1YXJldjJcIixhY3Rpb246XCJzZXRfZXh0ZXJuYWxfY2hlY2tvdXRcIixjYXJkRGF0YTpKU09OLnN0cmluZ2lmeShlKSxiaWxsaW5nQ29udGFjdDpKU09OLnN0cmluZ2lmeShuKSxzaGlwcGluZ0NvbnRhY3Q6SlNPTi5zdHJpbmdpZnkocil9fSl9LHQucHJvdG90eXBlLl9zZXRQb3N0YWxDb2RlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKS5iaWxsaW5nQWRkcmVzcy5nZXRCaWxsaW5nQWRkcmVzcygpO2lmKCF0aGlzLl9wYXltZW50Rm9ybSl0aHJvdyBuZXcgYnQuYihidC5hLlBheW1lbnROb3RJbml0aWFsaXplZCk7dCYmdC5wb3N0YWxDb2RlJiZ0aGlzLl9wYXltZW50Rm9ybS5zZXRQb3N0YWxDb2RlKHQucG9zdGFsQ29kZSl9LHQucHJvdG90eXBlLl9zaG93UGF5bWVudE1ldGhvZHM9ZnVuY3Rpb24odCxlKXt2YXIgbj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlLmVsZW1lbnRJZCk7biYmdC5tYXN0ZXJwYXNzJiYobi5zdHlsZS5kaXNwbGF5PVwiaW5saW5lLWJsb2NrXCIpfSx0fSgpLFByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9zY3JpcHRMb2FkZXI9dH1yZXR1cm4gdC5wcm90b3R5cGUubG9hZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY3JpcHRMb2FkZXIubG9hZFNjcmlwdChcIi8vanMuc3F1YXJldXAuY29tL3YyL3BheW1lbnRmb3JtXCIpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgd2luZG93LlNxUGF5bWVudEZvcm0odCl9fSkpfSx0fSgpLGpyPW4oMTA4KTtmdW5jdGlvbiBrcih0KXtyZXR1cm4gQm9vbGVhbih0LmNhcmROdW1iZXJFbGVtZW50T3B0aW9ucykmJkJvb2xlYW4odC5jYXJkQ3ZjRWxlbWVudE9wdGlvbnMpJiZCb29sZWFuKHQuY2FyZEV4cGlyeUVsZW1lbnRPcHRpb25zKX0hZnVuY3Rpb24odCl7dC5Tb2xpZD1cInNvbGlkXCIsdC5EZWZhdWx0PVwiZGVmYXVsdFwifSh3cnx8KHdyPXt9KSksZnVuY3Rpb24odCl7dC5BbGlwYXk9XCJhbGlwYXlcIix0LkNhcmRDdmM9XCJjYXJkQ3ZjXCIsdC5DYXJkRXhwaXJ5PVwiY2FyZEV4cGlyeVwiLHQuQ2FyZE51bWJlcj1cImNhcmROdW1iZXJcIix0LkNyZWRpdENhcmQ9XCJjYXJkXCIsdC5pREVBTD1cImlkZWFsQmFua1wiLHQuU2VwYT1cImliYW5cIn0oSXJ8fChJcj17fSkpLGZ1bmN0aW9uKHQpe3QuQWxpcGF5PVwiYWxpcGF5XCIsdC5DcmVkaXRDYXJkPVwiY2FyZFwiLHQuaURFQUw9XCJpZGVhbFwiLHQuU2VwYT1cInNlcGFfZGViaXRcIn0oQXJ8fChBcj17fSkpO3ZhciBNcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scixpLG8sYSl7dGhpcy5fc3RvcmU9dCx0aGlzLl9wYXltZW50TWV0aG9kQWN0aW9uQ3JlYXRvcj1lLHRoaXMuX3BheW1lbnRBY3Rpb25DcmVhdG9yPW4sdGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yPXIsdGhpcy5fc3RyaXBlU2NyaXB0TG9hZGVyPWksdGhpcy5fc3RvcmVDcmVkaXRBY3Rpb25DcmVhdG9yPW8sdGhpcy5fbG9jYWxlPWF9cmV0dXJuIHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLG4scixpLG8sYSxzO3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24oYyl7c3dpdGNoKGMubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5faW5pdGlhbGl6ZU9wdGlvbnM9dCxlPXRoaXMuX3N0b3JlLmdldFN0YXRlKCkucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3codGhpcy5fZ2V0SW5pdGlhbGl6ZU9wdGlvbnMoKS5tZXRob2RJZCksbj1lLmluaXRpYWxpemF0aW9uRGF0YSxyPW4uc3RyaXBlUHVibGlzaGFibGVLZXksaT1uLnN0cmlwZUNvbm5lY3RlZEFjY291bnQsbz1uLnVzZUluZGl2aWR1YWxDYXJkRmllbGRzLHRoaXMuX3VzZUluZGl2aWR1YWxDYXJkRmllbGRzPW8sYT10aGlzLFs0LHRoaXMuX2xvYWRTdHJpcGVKcyhyLGkpXTtjYXNlIDE6cmV0dXJuIGEuX3N0cmlwZVYzQ2xpZW50PWMuc2VudCgpLHM9dGhpcyxbNCx0aGlzLl9tb3VudEVsZW1lbnQodGhpcy5fZ2V0SW5pdGlhbGl6ZU9wdGlvbnMoKS5tZXRob2RJZCldO2Nhc2UgMjpyZXR1cm4gcy5fc3RyaXBlRWxlbWVudD1jLnNlbnQoKSxbMixQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSldfX0pKX0pKX0sdC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbixyLGksbyxhLHMsYyx1LHAsaCxsLG0sZixfLHksZyxiLEM7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihPKXtzd2l0Y2goTy5sYWJlbCl7Y2FzZSAwOmlmKG49dC5wYXltZW50LHI9T2JqZWN0KGQuX19yZXN0KSh0LFtcInBheW1lbnRcIl0pLCFufHwhbi5wYXltZW50RGF0YSl0aHJvdyBuZXcgcWUoW1wicGF5bWVudC5wYXltZW50RGF0YVwiXSk7cmV0dXJuIGE9bi5wYXltZW50RGF0YSxzPW4uZ2F0ZXdheUlkLGM9bi5tZXRob2RJZCxwPSh1PWEpLnNob3VsZFNhdmVJbnN0cnVtZW50LGg9dm9pZCAwIT09cCYmcCxsPXUuc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCxtPXZvaWQgMCE9PWwmJmwsWzQsdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yLnN1Ym1pdE9yZGVyKHIsZSkpXTtjYXNlIDE6cmV0dXJuIE8uc2VudCgpLChmPXRoaXMuX3N0b3JlLmdldFN0YXRlKCkuY2hlY2tvdXQuZ2V0Q2hlY2tvdXRPclRocm93KCkuaXNTdG9yZUNyZWRpdEFwcGxpZWQpP1s0LHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3N0b3JlQ3JlZGl0QWN0aW9uQ3JlYXRvci5hcHBseVN0b3JlQ3JlZGl0KGYpKV06WzMsM107Y2FzZSAyOk8uc2VudCgpLE8ubGFiZWw9MztjYXNlIDM6aWYoIU9iamVjdChnZS5hKShhKSlyZXR1cm5bMyw5XTtPLmxhYmVsPTQ7Y2FzZSA0OnJldHVybiBPLnRyeXMucHVzaChbNCw2LCw4XSksWzQsdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcGF5bWVudEFjdGlvbkNyZWF0b3Iuc3VibWl0UGF5bWVudChPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LG4pLHtwYXltZW50RGF0YTphfSkpKV07Y2FzZSA1OnJldHVyblsyLE8uc2VudCgpXTtjYXNlIDY6cmV0dXJuIF89Ty5zZW50KCksXyBpbnN0YW5jZW9mIEZlLmEmJk9iamVjdChCdC5zb21lKShfLmJvZHkuZXJyb3JzLHtjb2RlOlwidGhyZWVfZF9zZWN1cmVfcmVxdWlyZWRcIn0pPyh5PV8uYm9keS50aHJlZV9kc19yZXN1bHQudG9rZW4sWzQsdGhpcy5fY29uZmlybVZhdWx0ZWRQYXltZW50KHkpXSk6WzIsUHJvbWlzZS5yZWplY3QoXyldO2Nhc2UgNzppZighKGk9Ty5zZW50KCkpLmlkKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdQYXltZW50VG9rZW4pO3JldHVybiBvPXttZXRob2RJZDpjLHBheW1lbnREYXRhOntub25jZTppLmlkfX0sWzMsOF07Y2FzZSA4OnJldHVyblszLDEyXTtjYXNlIDk6cmV0dXJuWzQsdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3IubG9hZFBheW1lbnRNZXRob2QocytcIj9tZXRob2Q9XCIrYykpXTtjYXNlIDEwOnJldHVybiBnPU8uc2VudCgpLGI9Zy5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyhjKSxbNCx0aGlzLl9jb25maXJtU3RyaXBlUGF5bWVudChiLGgpXTtjYXNlIDExOmlmKCEoaT1PLnNlbnQoKSkuaWQpdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ1BheW1lbnRUb2tlbik7bz17bWV0aG9kSWQ6YyxwYXltZW50RGF0YTpPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LGEpLHtub25jZTppLmlkLHNob3VsZFNhdmVJbnN0cnVtZW50Omgsc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudDptfSl9LE8ubGFiZWw9MTI7Y2FzZSAxMjpyZXR1cm4gTy50cnlzLnB1c2goWzEyLDE0LCwxNl0pLFs0LHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3BheW1lbnRBY3Rpb25DcmVhdG9yLnN1Ym1pdFBheW1lbnQobykpXTtjYXNlIDEzOnJldHVyblsyLE8uc2VudCgpXTtjYXNlIDE0OnJldHVybiBDPU8uc2VudCgpLFs0LHRoaXMuX3Byb2Nlc3NBZGRpdGlvbmFsQWN0aW9uKEMpXTtjYXNlIDE1OnJldHVyblsyLE8uc2VudCgpXTtjYXNlIDE2OnJldHVyblsyXX19KSl9KSl9LHQucHJvdG90eXBlLmZpbmFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBLdCl9LHQucHJvdG90eXBlLmRlaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl91bm1vdW50RWxlbWVudCgpLFByb21pc2UucmVzb2x2ZSh0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpKX0sdC5wcm90b3R5cGUuX3Byb2Nlc3NBZGRpdGlvbmFsQWN0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKG4pe3JldHVybiBPYmplY3QoQnQuc29tZSkodC5ib2R5LmVycm9ycyx7Y29kZTpcImFkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkXCJ9KSYmKGU9dC5ib2R5LmFkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkKSYmXCJyZWRpcmVjdF90b191cmxcIj09PWUudHlwZT9bMixuZXcgUHJvbWlzZSgoZnVuY3Rpb24oKXt3aW5kb3cubG9jYXRpb24ucmVwbGFjZShlLmRhdGEucmVkaXJlY3RfdXJsKX0pKV06WzIsUHJvbWlzZS5yZWplY3QodCldfSkpfSkpfSx0LnByb3RvdHlwZS5fY29uZmlybVN0cmlwZVBheW1lbnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG4scixpLG8sYSxzPXRoaXM7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihjKXtpZihuPXQuY2xpZW50VG9rZW4scj10LnJldHVyblVybCwhbil0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7cmV0dXJuWzIsbmV3IFByb21pc2UoKGZ1bmN0aW9uKGMsdSl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikocyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBzLHAsaCxsO3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24oZCl7c3dpdGNoKGQubGFiZWwpe2Nhc2UgMDpzd2l0Y2godC5tZXRob2Qpe2Nhc2UgSXIuQWxpcGF5OnJldHVyblszLDFdO2Nhc2UgSXIuQ3JlZGl0Q2FyZDpyZXR1cm5bMywzXTtjYXNlIElyLmlERUFMOnJldHVyblszLDVdO2Nhc2UgSXIuU2VwYTpyZXR1cm5bMyw3XX1yZXR1cm5bMyw5XTtjYXNlIDE6cmV0dXJuWzQsdGhpcy5fZ2V0U3RyaXBlSnMoKS5jb25maXJtQWxpcGF5UGF5bWVudChuLHtyZXR1cm5fdXJsOnJ9LHtoYW5kbGVBY3Rpb25zOiExfSldO2Nhc2UgMjpyZXR1cm4gcz1kLnNlbnQoKSxvPXMuZXJyb3IsYT1zLnBheW1lbnRJbnRlbnQsWzMsOV07Y2FzZSAzOnJldHVybiBpPXRoaXMuX21hcFN0cmlwZVBheW1lbnREYXRhKEFyLkNyZWRpdENhcmQsZSksWzQsdGhpcy5fZ2V0U3RyaXBlSnMoKS5jb25maXJtQ2FyZFBheW1lbnQobixpKV07Y2FzZSA0OnJldHVybiBwPWQuc2VudCgpLG89cC5lcnJvcixhPXAucGF5bWVudEludGVudCxbMyw5XTtjYXNlIDU6cmV0dXJuIGk9dGhpcy5fbWFwU3RyaXBlUGF5bWVudERhdGEoQXIuaURFQUwsciksWzQsdGhpcy5fZ2V0U3RyaXBlSnMoKS5jb25maXJtSWRlYWxQYXltZW50KG4saSx7aGFuZGxlQWN0aW9uczohMX0pXTtjYXNlIDY6cmV0dXJuIGg9ZC5zZW50KCksbz1oLmVycm9yLGE9aC5wYXltZW50SW50ZW50LFszLDldO2Nhc2UgNzpyZXR1cm4gaT10aGlzLl9tYXBTdHJpcGVQYXltZW50RGF0YShBci5TZXBhKSxbNCx0aGlzLl9nZXRTdHJpcGVKcygpLmNvbmZpcm1TZXBhRGViaXRQYXltZW50KG4saSldO2Nhc2UgODpyZXR1cm4gbD1kLnNlbnQoKSxvPWwuZXJyb3IsYT1sLnBheW1lbnRJbnRlbnQsWzMsOV07Y2FzZSA5OnJldHVybiBvJiZ1KG8pLGMoYSksWzJdfX0pKX0pKX0pKV19KSl9KSl9LHQucHJvdG90eXBlLl9jb25maXJtVmF1bHRlZFBheW1lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihuKXtyZXR1cm5bMixuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKShlLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGUsaSxvO3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24oYSl7c3dpdGNoKGEubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLl9nZXRTdHJpcGVKcygpLmNvbmZpcm1DYXJkUGF5bWVudCh0KV07Y2FzZSAxOnJldHVybiBlPWEuc2VudCgpLGk9ZS5lcnJvcixvPWUucGF5bWVudEludGVudCxpJiZyKGkpLG4obyksWzJdfX0pKX0pKX0pKV19KSl9KSl9LHQucHJvdG90eXBlLl9nZXRJbml0aWFsaXplT3B0aW9ucz1mdW5jdGlvbigpe2lmKCF0aGlzLl9pbml0aWFsaXplT3B0aW9ucyl0aHJvdyBuZXcgYnQuYihidC5hLlBheW1lbnROb3RJbml0aWFsaXplZCk7cmV0dXJuIHRoaXMuX2luaXRpYWxpemVPcHRpb25zfSx0LnByb3RvdHlwZS5fZ2V0U3RyaXBlSW5pdGlhbGl6ZU9wdGlvbnM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9nZXRJbml0aWFsaXplT3B0aW9ucygpLnN0cmlwZXYzO2lmKCF0KXRocm93IG5ldyBJdC5hKCdVbmFibGUgdG8gaW5pdGlhbGl6ZSBwYXltZW50IGJlY2F1c2UgXCJvcHRpb25zLnN0cmlwZXYzXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicpO3JldHVybiB0fSx0LnByb3RvdHlwZS5fZ2V0U3RyaXBlRWxlbWVudD1mdW5jdGlvbigpe2lmKCF0aGlzLl9zdHJpcGVFbGVtZW50KXRocm93IG5ldyBidC5iKGJ0LmEuUGF5bWVudE5vdEluaXRpYWxpemVkKTtyZXR1cm4gdGhpcy5fc3RyaXBlRWxlbWVudH0sdC5wcm90b3R5cGUuX2dldFN0cmlwZUNhcmRFbGVtZW50cz1mdW5jdGlvbigpe2lmKCF0aGlzLl9zdHJpcGVDYXJkRWxlbWVudHMpdGhyb3cgbmV3IGJ0LmIoYnQuYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO3JldHVybiB0aGlzLl9zdHJpcGVDYXJkRWxlbWVudHN9LHQucHJvdG90eXBlLl9nZXRTdHJpcGVKcz1mdW5jdGlvbigpe2lmKCF0aGlzLl9zdHJpcGVWM0NsaWVudCl0aHJvdyBuZXcgYnQuYihidC5hLlBheW1lbnROb3RJbml0aWFsaXplZCk7cmV0dXJuIHRoaXMuX3N0cmlwZVYzQ2xpZW50fSx0LnByb3RvdHlwZS5fbG9hZFN0cmlwZUpzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5fc3RyaXBlVjNDbGllbnQ/WzIsUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3N0cmlwZVYzQ2xpZW50KV06WzQsdGhpcy5fc3RyaXBlU2NyaXB0TG9hZGVyLmxvYWQodCxlLHRoaXMuX2xvY2FsZSldO2Nhc2UgMTpyZXR1cm5bMixuLnNlbnQoKV19fSkpfSkpfSx0LnByb3RvdHlwZS5fbW91bnRFbGVtZW50PWZ1bmN0aW9uKHQpe3ZhciBlLG49dGhpcyxyPXQsaT10aGlzLl9nZXRTdHJpcGVJbml0aWFsaXplT3B0aW9ucygpLG89aS5vcHRpb25zLGE9aS5jb250YWluZXJJZDtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsaSl7c3dpdGNoKG4uX3N0cmlwZUVsZW1lbnRzfHwobi5fc3RyaXBlRWxlbWVudHM9bi5fZ2V0U3RyaXBlSnMoKS5lbGVtZW50cygpKSxyKXtjYXNlIElyLkNyZWRpdENhcmQ6aWYobi5fdXNlSW5kaXZpZHVhbENhcmRGaWVsZHMmJmtyKG8pKXt2YXIgcz1vLmNhcmROdW1iZXJFbGVtZW50T3B0aW9ucyxjPW8uY2FyZEV4cGlyeUVsZW1lbnRPcHRpb25zLHU9by5jYXJkQ3ZjRWxlbWVudE9wdGlvbnMsZD1uLl9zdHJpcGVFbGVtZW50cy5nZXRFbGVtZW50KElyLkNhcmROdW1iZXIpfHxuLl9zdHJpcGVFbGVtZW50cy5jcmVhdGUoSXIuQ2FyZE51bWJlcixzKSxwPW4uX3N0cmlwZUVsZW1lbnRzLmdldEVsZW1lbnQoSXIuQ2FyZEV4cGlyeSl8fG4uX3N0cmlwZUVsZW1lbnRzLmNyZWF0ZShJci5DYXJkRXhwaXJ5LGMpLGg9bi5fc3RyaXBlRWxlbWVudHMuZ2V0RWxlbWVudChJci5DYXJkQ3ZjKXx8bi5fc3RyaXBlRWxlbWVudHMuY3JlYXRlKElyLkNhcmRDdmMsdSk7bi5fc3RyaXBlQ2FyZEVsZW1lbnRzPVtkLHAsaF0sZT1uLl9zdHJpcGVDYXJkRWxlbWVudHNbMF07dHJ5e2QubW91bnQoXCIjXCIrcy5jb250YWluZXJJZCkscC5tb3VudChcIiNcIitjLmNvbnRhaW5lcklkKSxoLm1vdW50KFwiI1wiK3UuY29udGFpbmVySWQpfWNhdGNoKHQpe2kobmV3IEl0LmEoXCJVbmFibGUgdG8gbW91bnQgU3RyaXBlIGNvbXBvbmVudCB3aXRob3V0IHZhbGlkIGNvbnRhaW5lciBJRC5cIikpfX1lbHNle2U9bi5fc3RyaXBlRWxlbWVudHMuZ2V0RWxlbWVudChyKXx8bi5fc3RyaXBlRWxlbWVudHMuY3JlYXRlKHIsbyk7dHJ5e2UubW91bnQoXCIjXCIrYSl9Y2F0Y2godCl7aShuZXcgSXQuYShcIlVuYWJsZSB0byBtb3VudCBTdHJpcGUgY29tcG9uZW50IHdpdGhvdXQgdmFsaWQgY29udGFpbmVyIElELlwiKSl9fWJyZWFrO2Nhc2UgSXIuaURFQUw6Y2FzZSBJci5TZXBhOmU9bi5fc3RyaXBlRWxlbWVudHMuZ2V0RWxlbWVudChyKXx8bi5fc3RyaXBlRWxlbWVudHMuY3JlYXRlKHIsbyk7dHJ5e2UubW91bnQoXCIjXCIrYSl9Y2F0Y2godCl7aShuZXcgSXQuYShcIlVuYWJsZSB0byBtb3VudCBTdHJpcGUgY29tcG9uZW50IHdpdGhvdXQgdmFsaWQgY29udGFpbmVyIElELlwiKSl9YnJlYWs7Y2FzZSBJci5BbGlwYXk6fXQoZSl9KSl9LHQucHJvdG90eXBlLl9tYXBTdHJpcGVBZGRyZXNzPWZ1bmN0aW9uKHQpe3JldHVybiB0P3tjaXR5OnQuY2l0eSxjb3VudHJ5OnQuY291bnRyeUNvZGUsbGluZTE6dC5hZGRyZXNzMSxsaW5lMjp0LmFkZHJlc3MyLHBvc3RhbF9jb2RlOnQucG9zdGFsQ29kZSxzdGF0ZTp0LnN0YXRlT3JQcm92aW5jZUNvZGV9OntsaW5lMTpcIlwifX0sdC5wcm90b3R5cGUuX21hcFN0cmlwZUJpbGxpbmdEZXRhaWxzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dHx8ZXx8e2ZpcnN0TmFtZTpcIkd1ZXN0XCIsbGFzdE5hbWU6XCJcIn0scj0obi5maXJzdE5hbWUrXCIgXCIrbi5sYXN0TmFtZSkudHJpbSgpLGk9dGhpcy5fZ2V0U3RyaXBlSW5pdGlhbGl6ZU9wdGlvbnMoKS5vcHRpb25zO2lmKHRoaXMuX3VzZUluZGl2aWR1YWxDYXJkRmllbGRzJiZrcihpKSl7dmFyIG89aS56aXBDb2RlRWxlbWVudE9wdGlvbnM7aWYobyl7dmFyIGE9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoby5jb250YWluZXJJZCk/ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoby5jb250YWluZXJJZCkudmFsdWU6XCJcIjthJiZ0JiYodD1PYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LHQpLHtwb3N0YWxDb2RlOmF9KSl9fXZhciBzPXthZGRyZXNzOnRoaXMuX21hcFN0cmlwZUFkZHJlc3ModCl9O2lmKGUmJmUuYWRkcmVzc2VzWzBdJiZPYmplY3QoanIuYSkoZS5hZGRyZXNzZXNbMF0pKXt2YXIgYz1lLmFkZHJlc3Nlc1swXSx1PWUuZW1haWw7cmV0dXJuKHA9Yy5waG9uZSk/T2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSxzKSx7ZW1haWw6dSxuYW1lOnIscGhvbmU6cH0pOk9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30scykse2VtYWlsOnUsbmFtZTpyfSl9aWYodCl7dmFyIHA7dT10LmVtYWlsO3JldHVybihwPXQucGhvbmUpP09iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30scykse2VtYWlsOnUsbmFtZTpyLHBob25lOnB9KTpPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LHMpLHtlbWFpbDp1LG5hbWU6cn0pfXJldHVybiBPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LHMpLHtuYW1lOnJ9KX0sdC5wcm90b3R5cGUuX21hcFN0cmlwZVBheW1lbnREYXRhPWZ1bmN0aW9uKHQsZSl7dmFyIG4scixpPXRoaXMuX3N0b3JlLmdldFN0YXRlKCkuY3VzdG9tZXIuZ2V0Q3VzdG9tZXIoKSxvPXRoaXMuX3N0b3JlLmdldFN0YXRlKCkuYmlsbGluZ0FkZHJlc3MuZ2V0QmlsbGluZ0FkZHJlc3MoKTtzd2l0Y2gocj17cGF5bWVudF9tZXRob2Q6KG49e30sblt0XT10PT09QXIuQ3JlZGl0Q2FyZCYmdGhpcy5fdXNlSW5kaXZpZHVhbENhcmRGaWVsZHM/dGhpcy5fZ2V0U3RyaXBlQ2FyZEVsZW1lbnRzKClbMF06dGhpcy5fZ2V0U3RyaXBlRWxlbWVudCgpLG4uYmlsbGluZ19kZXRhaWxzPXRoaXMuX21hcFN0cmlwZUJpbGxpbmdEZXRhaWxzKG8saSksbil9LHQpe2Nhc2UgQXIuQ3JlZGl0Q2FyZDp2YXIgYT10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLmNhcnQuZ2V0Q2FydCgpO2lmKGEmJk9iamVjdChqdC5hKShhKT4wKXt2YXIgcz10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLnNoaXBwaW5nQWRkcmVzcy5nZXRTaGlwcGluZ0FkZHJlc3MoKTtyPU9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30scikse3NoaXBwaW5nOnRoaXMuX21hcFN0cmlwZVNoaXBwaW5nQWRkcmVzcyhzLGkpfSl9cmV0dXJuIGU/T2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSxyKSx7c2V0dXBfZnV0dXJlX3VzYWdlOlwib2ZmX3Nlc3Npb25cIn0pOnI7Y2FzZSBBci5pREVBTDpyZXR1cm4gT2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSxyKSx7cmV0dXJuX3VybDplfSl9cmV0dXJuIHJ9LHQucHJvdG90eXBlLl9tYXBTdHJpcGVTaGlwcGluZ0FkZHJlc3M9ZnVuY3Rpb24odCxlKXt2YXIgbj10fHxlfHx7Zmlyc3ROYW1lOlwiR3Vlc3RcIixsYXN0TmFtZTpcIlwifSxyPShuLmZpcnN0TmFtZStcIiBcIituLmxhc3ROYW1lKS50cmltKCksaT17YWRkcmVzczp0aGlzLl9tYXBTdHJpcGVBZGRyZXNzKHQpfTtpZihlJiZlLmFkZHJlc3Nlc1swXSl7dmFyIG89ZS5hZGRyZXNzZXNbMF0ucGhvbmU7cmV0dXJuIE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30saSkse25hbWU6cixwaG9uZTpvfSl9aWYodCl7bz10LnBob25lO3JldHVybiBPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LGkpLHtuYW1lOnIscGhvbmU6b30pfXJldHVybiBPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LGkpLHtuYW1lOnJ9KX0sdC5wcm90b3R5cGUuX3VubW91bnRFbGVtZW50PWZ1bmN0aW9uKCl7dGhpcy5fc3RyaXBlRWxlbWVudCYmKHRoaXMuX3N0cmlwZUVsZW1lbnQudW5tb3VudCgpLHRoaXMuX3N0cmlwZUVsZW1lbnQ9dm9pZCAwKX0sdH0oKSxUcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt2b2lkIDA9PT1lJiYoZT13aW5kb3cpLHRoaXMuX3NjcmlwdExvYWRlcj10LHRoaXMuX3dpbmRvdz1lfXJldHVybiB0LnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzO3JldHVybiB0aGlzLl9zY3JpcHRMb2FkZXIubG9hZFNjcmlwdChcImh0dHBzOi8vanMuc3RyaXBlLmNvbS92My9cIikudGhlbigoZnVuY3Rpb24oKXtpZighci5fd2luZG93LlN0cmlwZSl0aHJvdyBuZXcgJC5hO3JldHVybiByLl93aW5kb3cuU3RyaXBlKHQse3N0cmlwZUFjY291bnQ6ZSxsb2NhbGU6bixiZXRhczpbXCJwYXltZW50X2ludGVudF9iZXRhXzNcIixcImFsaXBheV9wbV9iZXRhXzFcIl0sYXBpVmVyc2lvbjpcIjIwMjAtMDMtMDI7YWxpcGF5X2JldGE9djFcIn0pfSkpfSx0fSgpLFJyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9zY3JpcHRMb2FkZXI9dH1yZXR1cm4gdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuX3NjcmlwdExvYWRlci5sb2FkU2NyaXB0KFwiLy9zdGF0aWMud2VwYXkuY29tL21pbi9qcy9yaXNrLjEubGF0ZXN0LmpzXCIpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3Jpc2tDbGllbnQ9d2luZG93LldlUGF5LnJpc2t9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdH0pKX0sdC5wcm90b3R5cGUuZ2V0Umlza1Rva2VuPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX3Jpc2tDbGllbnQpdGhyb3cgbmV3IGJ0LmIoYnQuYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO3JldHVybiB0aGlzLl9yaXNrQ2xpZW50LmdlbmVyYXRlX3Jpc2tfdG9rZW4oKSx0aGlzLl9yaXNrQ2xpZW50LmdldF9yaXNrX3Rva2VuKCl9LHR9KCksRHI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixpLG8pe3ZhciBhPXQuY2FsbCh0aGlzLGUsbixyLGkpfHx0aGlzO3JldHVybiBhLl93ZXBheVJpc2tDbGllbnQ9byxhfXJldHVybiBPYmplY3QoZC5fX2V4dGVuZHMpKGUsdCksZS5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fd2VwYXlSaXNrQ2xpZW50LmluaXRpYWxpemUoKSx0LnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcyxlKX0sZS5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbihlLG4pe3ZhciByPXRoaXMuX3dlcGF5Umlza0NsaWVudC5nZXRSaXNrVG9rZW4oKSxpPU9iamVjdChCdC5tZXJnZSkoe30sZSx7cGF5bWVudDp7cGF5bWVudERhdGE6e2RldmljZVNlc3Npb25JZDpyfX19KTtyZXR1cm4gdC5wcm90b3R5cGUuZXhlY3V0ZS5jYWxsKHRoaXMsaSxuKX0sZX0ocG4pLHpyPW4oNjApLExyPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMsZXx8XCJUaGUgc2VsZWN0ZWQgcGF5bWVudCBtZXRob2Qgd2FzIGRlY2xpbmVkLiBQbGVhc2Ugc2VsZWN0IGFub3RoZXIgcGF5bWVudCBtZXRob2QuXCIpfHx0aGlzO3JldHVybiBuLm5hbWU9XCJQYXltZW50TWV0aG9kRGVjbGluZWRFcnJvclwiLG4udHlwZT1cInBheW1lbnRfZGVjbGluZWRcIixufXJldHVybiBPYmplY3QoZC5fX2V4dGVuZHMpKGUsdCksZX0oaHQuYSksTnI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIsaSxvLGEscyl7dGhpcy5fc3RvcmU9dCx0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3I9ZSx0aGlzLl9wYXltZW50QWN0aW9uQ3JlYXRvcj1uLHRoaXMuX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yPXIsdGhpcy5fc3RvcmVDcmVkaXRBY3Rpb25DcmVhdG9yPWksdGhpcy5fcmVtb3RlQ2hlY2tvdXRBY3Rpb25DcmVhdG9yPW8sdGhpcy5femlwU2NyaXB0TG9hZGVyPWEsdGhpcy5fcmVxdWVzdFNlbmRlcj1zfXJldHVybiB0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0O3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24oZSl7c3dpdGNoKGUubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLl96aXBTY3JpcHRMb2FkZXIubG9hZCgpXTtjYXNlIDE6cmV0dXJuIHQ9ZS5zZW50KCksdGhpcy5femlwQ2xpZW50PXQsWzIsdGhpcy5fc3RvcmUuZ2V0U3RhdGUoKV19fSkpfSkpfSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGF5bWVudE1ldGhvZD12b2lkIDAsdGhpcy5femlwQ2xpZW50PXZvaWQgMCxQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSl9LHQucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG4scixpLG8sYSxzLGM9dGhpcztyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKHUpe3N3aXRjaCh1LmxhYmVsKXtjYXNlIDA6aWYobj10LnBheW1lbnQscj1PYmplY3QoZC5fX3Jlc3QpKHQsW1wicGF5bWVudFwiXSksaT10aGlzLl96aXBDbGllbnQsIW4pdGhyb3cgbmV3IEl0LmEoJ1VuYWJsZSB0byBzdWJtaXQgcGF5bWVudCBiZWNhdXNlIFwicGF5bG9hZC5wYXltZW50XCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicpO2lmKCFpKXRocm93IG5ldyBidC5iKGJ0LmEuUGF5bWVudE5vdEluaXRpYWxpemVkKTtyZXR1cm4gdm9pZCAwPT09KG89dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKS5jaGVja291dC5nZXRDaGVja291dE9yVGhyb3coKS5pc1N0b3JlQ3JlZGl0QXBwbGllZCk/WzMsMl06WzQsdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fc3RvcmVDcmVkaXRBY3Rpb25DcmVhdG9yLmFwcGx5U3RvcmVDcmVkaXQobykpXTtjYXNlIDE6dS5zZW50KCksdS5sYWJlbD0yO2Nhc2UgMjpyZXR1cm5bNCx0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3Iuc3VibWl0T3JkZXIocixlKSldO2Nhc2UgMzpyZXR1cm4gdS5zZW50KCksWzQsdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcmVtb3RlQ2hlY2tvdXRBY3Rpb25DcmVhdG9yLmluaXRpYWxpemVQYXltZW50KG4ubWV0aG9kSWQse3VzZVN0b3JlQ3JlZGl0Om99KSldO2Nhc2UgNDpyZXR1cm4gdS5zZW50KCksWzQsdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3IubG9hZFBheW1lbnRNZXRob2Qobi5tZXRob2RJZCxlKSldO2Nhc2UgNTppZihhPXUuc2VudCgpLHRoaXMuX3BheW1lbnRNZXRob2Q9YS5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kKG4ubWV0aG9kSWQpLCF0aGlzLl9wYXltZW50TWV0aG9kfHwhdGhpcy5fcGF5bWVudE1ldGhvZC5jbGllbnRUb2tlbil0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7cmV0dXJuWzQsbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsZSl7aS5DaGVja291dC5pbml0KHtvbkNvbXBsZXRlOmZ1bmN0aW9uKHIpe3ZhciBpPXIuY2hlY2tvdXRJZCxvPXIuc3RhdGU7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikoYyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpyZXR1cm5cImNhbmNlbGxlZFwiPT09bz9bMixlKG5ldyBVZSldOlwicmVmZXJyZWRcIj09PW8mJmk/WzQsdGhpcy5fcHJlcGFyZUZvclJlZmVycmVkUmVnaXN0cmF0aW9uKG4ubWV0aG9kSWQsaSldOlszLDJdO2Nhc2UgMTpyZXR1cm4gci5zZW50KCksWzIsdCgpXTtjYXNlIDI6cmV0dXJuXCJhcHByb3ZlZFwiPT09byYmaT9bMix0KGkpXTpcImRlY2xpbmVkXCI9PT1vP1syLGUobmV3IExyKFwiVW5mb3J0dW5hdGVseSB5b3VyIGFwcGxpY2F0aW9uIHdhcyBkZWNsaW5lZC4gUGxlYXNlIHNlbGVjdCBhbm90aGVyIHBheW1lbnQgbWV0aG9kLlwiKSldOihlKG5ldyBIZS5hKSxbMl0pfX0pKX0pKX0sb25DaGVja291dDpmdW5jdGlvbih0KXtpZighYy5fcGF5bWVudE1ldGhvZHx8IWMuX3BheW1lbnRNZXRob2QuY2xpZW50VG9rZW4pdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ1BheW1lbnRNZXRob2QpO3QoSlNPTi5wYXJzZShjLl9wYXltZW50TWV0aG9kLmNsaWVudFRva2VuKSl9fSl9KSldO2Nhc2UgNjpyZXR1cm4gdm9pZCAwIT09KHM9dS5zZW50KCkpP1syLHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3BheW1lbnRBY3Rpb25DcmVhdG9yLnN1Ym1pdFBheW1lbnQoe21ldGhvZElkOm4ubWV0aG9kSWQscGF5bWVudERhdGE6e25vbmNlOnN9fSkpXTpbMix0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpXX19KSl9KSl9LHQucHJvdG90eXBlLmZpbmFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBLdCl9LHQucHJvdG90eXBlLl9wcmVwYXJlRm9yUmVmZXJyZWRSZWdpc3RyYXRpb249ZnVuY3Rpb24odCxlKXt2YXIgbj1cIi9hcGkvc3RvcmVmcm9udC9wYXltZW50L1wiK3QrXCIvc2F2ZS1leHRlcm5hbC1pZFwiLHI9e2hlYWRlcnM6e0FjY2VwdDpJLmEuSnNvblYxLFwiWC1BUEktSU5URVJOQUxcIjp6ci5hfSxib2R5OntleHRlcm5hbElkOmUscHJvdmlkZXI6dH19O3JldHVybiB0aGlzLl9yZXF1ZXN0U2VuZGVyLnBvc3QobixyKX0sdH0oKSxGcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt2b2lkIDA9PT1lJiYoZT13aW5kb3cpLHRoaXMuX3NjcmlwdExvYWRlcj10LHRoaXMuX3dpbmRvdz1lfXJldHVybiB0LnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5fc2NyaXB0TG9hZGVyLmxvYWRTY3JpcHQoXCIvL3N0YXRpYy56aXBtb25leS5jb20uYXUvY2hlY2tvdXQvY2hlY2tvdXQtdjEubWluLmpzXCIpLnRoZW4oKGZ1bmN0aW9uKCl7aWYoIXQuX3dpbmRvdy5aaXApdGhyb3cgbmV3ICQuYTtyZXR1cm4gdC5fd2luZG93LlppcH0pKX0sdH0oKTtmdW5jdGlvbiBxcih0LGUsbixyLHMpe3ZhciBjPW5ldyBNZSh0LHtkZWZhdWx0VG9rZW46WnQuYS5DUkVESVRfQ0FSRH0pLHU9T2JqZWN0KGkuZ2V0U2NyaXB0TG9hZGVyKSgpLGQ9bmV3IGplLmEscD1uZXcgUGUuYShlKSxoPW5ldyBvLmEobmV3IGEuYShuKSxuZXcgd2UuYShuZXcgSWUuYShuKSkpLGw9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IEouYSh0KSxuPW5ldyBaLmEoZSkscj1uZXcgU24obiksaT1uZXcgZ247cmV0dXJuIG5ldyB3bihuLHIsaSl9KHUpLG09bmV3IFUuYShuKSxmPW5ldyB0ZShtKSxnPW5ldyBfdChyLG5ldyB3dChuKSksYj1uZXcgSHQobmV3IEd0KG4pLGYpLHY9bmV3IE9lKG5ldyBTZShuKSksQz1uZXcgY2UoU3QoT2JqZWN0KGkuY3JlYXRlU2NyaXB0TG9hZGVyKSgpKSksTz1uZXcgRWUocCxiLGQsQyksUz1uZXcgWS5hKG5ldyBILmEobikpLHc9bmV3IHB0KG5ldyB1dChuKSksST1uZXcgXy5hKG5ldyB5LmEobikpLEE9bmV3IEcuYShuZXcgVi5hKG4pKSxFPW5ldyB4LmEobSxJLEEpLFA9bmV3IFF0KGMsYixnKSxqPU9iamVjdChxLmNyZWF0ZUZvcm1Qb3N0ZXIpKCksaz1uZXcgdmUodCk7cmV0dXJuIGMucmVnaXN0ZXIoWnQuYS5BRFlFTlYyLChmdW5jdGlvbigpe3JldHVybiBuZXcgR2UodCxPLGIsbmV3IFZlKHUsT2JqZWN0KGkuZ2V0U3R5bGVzaGVldExvYWRlcikoKSkpfSkpLGMucmVnaXN0ZXIoWnQuYS5BRFlFTlYyX0dPT0dMRVBBWSwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFpuKHQsRSxTLFAsTyxiLE9iamVjdChudC5hKSh0LG5ldyBydC5hKSxuZXcgUW4odCxPLG5ldyBWZSh1LE9iamVjdChpLmdldFN0eWxlc2hlZXRMb2FkZXIpKCkpKSl9KSksYy5yZWdpc3RlcihadC5hLkFGRklSTSwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFdlKHQsYixPLFMsbmV3IEtlKX0pKSxjLnJlZ2lzdGVyKFp0LmEuQUZURVJQQVksKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBKZSh0LGYsYixPLFMsdixuZXcgdG4odSkpfSkpLGMucmVnaXN0ZXIoWnQuYS5BTUFaT04sKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB1bih0LGIsaCx3LG5ldyBXKHUpKX0pKSxjLnJlZ2lzdGVyKFp0LmEuQVVUSE9SSVpFTkVUX0dPT0dMRV9QQVksKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBabih0LEUsUyxQLE8sYixPYmplY3QobnQuYSkodCxuZXcgaXQuYSkpfSkpLGMucmVnaXN0ZXIoWnQuYS5BTUFaT05QQVlWMiwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGRuKHQsUCxTLGIsTyxPYmplY3QoSy5hKSgpKX0pKSxjLnJlZ2lzdGVyKFp0LmEuQkFSQ0xBWVMsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBobih0LGIsTyxrLG5ldyBMbih0LE8sbmV3IHFuKG5ldyBVbih1KSkpKX0pKSxjLnJlZ2lzdGVyKFp0LmEuQkxVRVNOQVBWMiwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG1uKHQsYixPKX0pKSxjLnJlZ2lzdGVyKFp0LmEuQ1JFRElUX0NBUkQsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBwbih0LGIsTyxrKX0pKSxjLnJlZ2lzdGVyKFp0LmEuQ0hFQ0tPVVRDT00sKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBIbih0LGIsTyxrLGopfSkpLGMucmVnaXN0ZXIoWnQuYS5DWUJFUlNPVVJDRSwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFduKHQsYixPLGssbmV3IHhuKHQsTyxTLG5ldyBxbihuZXcgVW4odSkpKSl9KSksYy5yZWdpc3RlcihadC5hLkNZQkVSU09VUkNFVjIsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBLbih0LGIsTyxrLG5ldyBMbih0LE8sbmV3IHFuKG5ldyBVbih1KSkpKX0pKSxjLnJlZ2lzdGVyKFp0LmEuS0xBUk5BLChmdW5jdGlvbigpe3JldHVybiBuZXcgdHIodCxiLFMsdyxuZXcgZXIodSkpfSkpLGMucmVnaXN0ZXIoWnQuYS5LTEFSTkFWMiwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG5yKHQsYixTLHcsbmV3IHJyKHUpKX0pKSxjLnJlZ2lzdGVyKFp0LmEuTEVHQUNZLChmdW5jdGlvbigpe3JldHVybiBuZXcgaXIodCxiKX0pKSxjLnJlZ2lzdGVyKFp0LmEuT0ZGTElORSwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHNyKHQsYil9KSksYy5yZWdpc3RlcihadC5hLk9GRlNJVEUsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBjcih0LGIsTyl9KSksYy5yZWdpc3RlcihadC5hLlBBWVBBTCwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHVyKHQsYixPLGssbmV3IHhuKHQsTyxTLG5ldyBxbihuZXcgVW4odSkpKSl9KSksYy5yZWdpc3RlcihadC5hLlBBWVBBTF9FWFBSRVNTLChmdW5jdGlvbigpe3JldHVybiBuZXcgZHIodCxiLG5ldyBwci5hKHUpKX0pKSxjLnJlZ2lzdGVyKFp0LmEuUEFZUEFMX0VYUFJFU1NfQ1JFRElULChmdW5jdGlvbigpe3JldHVybiBuZXcgZHIodCxiLG5ldyBwci5hKHUpKX0pKSxjLnJlZ2lzdGVyKFp0LmEuUEFZUEFMX0NPTU1FUkNFX0NSRURJVF9DQVJELChmdW5jdGlvbigpe3JldHVybiBuZXcgaHIodCxTLG5ldyBfcihPYmplY3QoeXIuYSkodSxuKSksYixPKX0pKSxjLnJlZ2lzdGVyKFp0LmEuUEFZUEFMX0NPTU1FUkNFLChmdW5jdGlvbigpe3JldHVybiBuZXcgYnIodCxiLE8sT2JqZWN0KHlyLmEpKHUsbiksbmV3IHZyLG5ldyBDci5hKG4pKX0pKSxjLnJlZ2lzdGVyKFp0LmEuUEFZUEFMX0NPTU1FUkNFX0FMVEVSTkFUSVZFX01FVEhPRFMsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBicih0LGIsTyxPYmplY3QoeXIuYSkodSxuKSxuZXcgdnIsbmV3IENyLmEobikpfSkpLGMucmVnaXN0ZXIoWnQuYS5TQUdFX1BBWSwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IE9yKHQsYixPLGssail9KSksYy5yZWdpc3RlcihadC5hLlNRVUFSRSwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEVyKHQsRSxiLE8sUyxQLG4sbmV3IFByKHUpKX0pKSxjLnJlZ2lzdGVyKFp0LmEuTk9fUEFZTUVOVF9EQVRBX1JFUVVJUkVELChmdW5jdGlvbigpe3JldHVybiBuZXcgYXIodCxiKX0pKSxjLnJlZ2lzdGVyKFp0LmEuQlJBSU5UUkVFLChmdW5jdGlvbigpe3JldHVybiBuZXcgQW4odCxiLE8sUyxsKX0pKSxjLnJlZ2lzdGVyKFp0LmEuQlJBSU5UUkVFX1BBWVBBTCwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEVuKHQsYixPLFMsbCl9KSksYy5yZWdpc3RlcihadC5hLkJSQUlOVFJFRV9QQVlQQUxfQ1JFRElULChmdW5jdGlvbigpe3JldHVybiBuZXcgRW4odCxiLE8sUyxsLCEwKX0pKSxjLnJlZ2lzdGVyKFp0LmEuQlJBSU5UUkVFX1ZJU0FfQ0hFQ0tPVVQsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBQbih0LEUsUyxQLE8sYixYKHUsbiksbmV3IHR0KHUpKX0pKSxjLnJlZ2lzdGVyKFp0LmEuQ0hBU0VfUEFZLChmdW5jdGlvbigpe3JldHVybiBuZXcgVm4odCxFLGIsTyxTLFAsbixuZXcgZXQodSksbmV3IFJyKHUpKX0pKSxjLnJlZ2lzdGVyKFp0LmEuQlJBSU5UUkVFX0dPT0dMRV9QQVksKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBabih0LEUsUyxQLE8sYixPYmplY3QobnQuYSkodCxuZXcgb3QuYShuZXcgWi5hKG5ldyBKLmEodSkpKSkpfSkpLGMucmVnaXN0ZXIoWnQuYS5XRV9QQVksKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBEcih0LGIsTyxrLG5ldyBScih1KSl9KSksYy5yZWdpc3RlcihadC5hLk1BU1RFUlBBU1MsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBvcih0LGIsTyxuZXcgY3QuYSh1KSl9KSksYy5yZWdpc3RlcihadC5hLlNUUklQRV9HT09HTEVfUEFZLChmdW5jdGlvbigpe3JldHVybiBuZXcgWm4odCxFLFMsUCxPLGIsT2JqZWN0KG50LmEpKHQsbmV3IHN0LmEpKX0pKSxjLnJlZ2lzdGVyKFp0LmEuQ0hFQ0tPVVRDT01fR09PR0xFX1BBWSwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFpuKHQsRSxTLFAsTyxiLE9iamVjdChudC5hKSh0LG5ldyBhdC5hKG4pKSl9KSksYy5yZWdpc3RlcihadC5hLlpJUCwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IE5yKHQsYixPLFMsdix3LG5ldyBGcih1KSxuKX0pKSxjLnJlZ2lzdGVyKFp0LmEuQ09OVkVSR0UsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBZbih0LGIsTyxrLGopfSkpLGMucmVnaXN0ZXIoWnQuYS5MQVlCVVksKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBKbih0LGIsTyxqKX0pKSxjLnJlZ2lzdGVyKFp0LmEuU0VaWkxFLChmdW5jdGlvbigpe3JldHVybiBuZXcgSm4odCxiLE8sail9KSksYy5yZWdpc3RlcihadC5hLlNUUklQRVYzLChmdW5jdGlvbigpe3JldHVybiBuZXcgTXIodCxTLE8sYixuZXcgVHIodSksdixzKX0pKSxjLnJlZ2lzdGVyKFp0LmEuQk9MVCwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGZuKHQsYixPLFMsdixuZXcgX24odSkpfSkpLGN9dmFyIFVyPW4oMjUpLHhyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9pbnN0cnVtZW50UmVxdWVzdFNlbmRlcj10fXJldHVybiB0LnByb3RvdHlwZS5sb2FkSW5zdHJ1bWVudHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gYi5PYnNlcnZhYmxlLmNyZWF0ZSgoZnVuY3Rpb24obil7bi5uZXh0KE9iamVjdChnLmNyZWF0ZUFjdGlvbikoVXIuYS5Mb2FkSW5zdHJ1bWVudHNSZXF1ZXN0ZWQpKTt2YXIgcj10Ll9nZXRTZXNzaW9uQ29udGV4dChlKSxpPXQuX2dldEN1cnJlbnRBY2Nlc3NUb2tlbihlKSxvPXQuX2dldFNoaXBwaW5nQWRkcmVzcyhlKTtyZXR1cm4gdC5fZ2V0VmFsaWRBY2Nlc3NUb2tlbihpKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gdC5faW5zdHJ1bWVudFJlcXVlc3RTZW5kZXIubG9hZEluc3RydW1lbnRzKE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30scikse2F1dGhUb2tlbjplLnZhdWx0QWNjZXNzVG9rZW59KSxvKS50aGVuKChmdW5jdGlvbih0KXt2YXIgcj10LmJvZHk7bi5uZXh0KE9iamVjdChnLmNyZWF0ZUFjdGlvbikoVXIuYS5Mb2FkSW5zdHJ1bWVudHNTdWNjZWVkZWQscixlKSksbi5jb21wbGV0ZSgpfSkpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtuLmVycm9yKE9iamVjdChnLmNyZWF0ZUVycm9yQWN0aW9uKShVci5hLkxvYWRJbnN0cnVtZW50c0ZhaWxlZCx0KSl9KSl9KSl9fSx0LnByb3RvdHlwZS5kZWxldGVJbnN0cnVtZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBiLk9ic2VydmFibGUuY3JlYXRlKChmdW5jdGlvbihyKXtyLm5leHQoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShVci5hLkRlbGV0ZUluc3RydW1lbnRSZXF1ZXN0ZWQsdm9pZCAwLHtpbnN0cnVtZW50SWQ6dH0pKTt2YXIgaT1lLl9nZXRTZXNzaW9uQ29udGV4dChuKSxvPWUuX2dldEN1cnJlbnRBY2Nlc3NUb2tlbihuKTtyZXR1cm4gZS5fZ2V0VmFsaWRBY2Nlc3NUb2tlbihvKS50aGVuKChmdW5jdGlvbihuKXtyZXR1cm4gZS5faW5zdHJ1bWVudFJlcXVlc3RTZW5kZXIuZGVsZXRlSW5zdHJ1bWVudChPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LGkpLHthdXRoVG9rZW46bi52YXVsdEFjY2Vzc1Rva2VufSksdCkudGhlbigoZnVuY3Rpb24oZSl7dmFyIGk9ZS5ib2R5O3IubmV4dChPYmplY3QoZy5jcmVhdGVBY3Rpb24pKFVyLmEuRGVsZXRlSW5zdHJ1bWVudFN1Y2NlZWRlZCxpLE9iamVjdChkLl9fYXNzaWduKSh7aW5zdHJ1bWVudElkOnR9LG4pKSksci5jb21wbGV0ZSgpfSkpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtyLmVycm9yKE9iamVjdChnLmNyZWF0ZUVycm9yQWN0aW9uKShVci5hLkRlbGV0ZUluc3RydW1lbnRGYWlsZWQsZSx7aW5zdHJ1bWVudElkOnR9KSl9KSl9KSl9fSx0LnByb3RvdHlwZS5faXNWYWxpZFZhdWx0QWNjZXNzVG9rZW49ZnVuY3Rpb24odCl7aWYoIXR8fCF0LnZhdWx0QWNjZXNzVG9rZW4pcmV0dXJuITE7dmFyIGUsbixyO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gdC52YWx1ZU9mKCk+RGF0ZS5ub3coKX0oKGU9bmV3IERhdGUodC52YXVsdEFjY2Vzc0V4cGlyeSksbj0yLChyPW5ldyBEYXRlKGUuZ2V0VGltZSgpKSkuc2V0TWludXRlcyhlLmdldE1pbnV0ZXMoKStuKSxyKSl9LHQucHJvdG90eXBlLl9nZXRDdXJyZW50QWNjZXNzVG9rZW49ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRTdGF0ZSgpLmluc3RydW1lbnRzLmdldEluc3RydW1lbnRzTWV0YSgpO2lmKGUpcmV0dXJue3ZhdWx0QWNjZXNzVG9rZW46ZS52YXVsdEFjY2Vzc1Rva2VuLHZhdWx0QWNjZXNzRXhwaXJ5OmUudmF1bHRBY2Nlc3NFeHBpcnl9fSx0LnByb3RvdHlwZS5fZ2V0VmFsaWRBY2Nlc3NUb2tlbj1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdGhpcy5faXNWYWxpZFZhdWx0QWNjZXNzVG9rZW4odCk/UHJvbWlzZS5yZXNvbHZlKHQpOnRoaXMuX2luc3RydW1lbnRSZXF1ZXN0U2VuZGVyLmdldFZhdWx0QWNjZXNzVG9rZW4oKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gdC5ib2R5fSkpfSx0LnByb3RvdHlwZS5fZ2V0U2hpcHBpbmdBZGRyZXNzPWZ1bmN0aW9uKHQpe3JldHVybiB0LmdldFN0YXRlKCkuc2hpcHBpbmdBZGRyZXNzLmdldFNoaXBwaW5nQWRkcmVzcygpfSx0LnByb3RvdHlwZS5fZ2V0U2Vzc2lvbkNvbnRleHQ9ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRTdGF0ZSgpLG49ZS5jb25maWcuZ2V0U3RvcmVDb25maWcoKSxyPWUuY2FydC5nZXRDYXJ0KCk7aWYoIW4pdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ0NoZWNrb3V0Q29uZmlnKTtpZighcil0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nQ2FydCk7cmV0dXJue2N1c3RvbWVySWQ6ci5jdXN0b21lcklkLHN0b3JlSWQ6bi5zdG9yZVByb2ZpbGUuc3RvcmVJZCxjdXJyZW5jeUNvZGU6KG4uc2hvcHBlckN1cnJlbmN5LmlzVHJhbnNhY3Rpb25hbD9uLnNob3BwZXJDdXJyZW5jeTpuLmN1cnJlbmN5KS5jb2RlfX0sdH0oKTt2YXIgQnI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS50cmFuc2Zvcm1SZXNwb25zZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl90cmFuc2Zvcm1SZXNwb25zZSh0KSxuPWUuYm9keSxyPU9iamVjdChkLl9fcmVzdCkoZSxbXCJib2R5XCJdKTtyZXR1cm4gT2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSxyKSx7Ym9keTp7dmF1bHRlZEluc3RydW1lbnRzOnRoaXMuX3RyYW5zZm9ybVZhdWx0ZWRJbnN0cnVtZW50cyhuLnZhdWx0ZWRfaW5zdHJ1bWVudHMpfX0pfSx0LnByb3RvdHlwZS50cmFuc2Zvcm1FcnJvclJlc3BvbnNlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl90cmFuc2Zvcm1SZXNwb25zZSh0KX0sdC5wcm90b3R5cGUudHJhbnNmb3JtVmF1bHRBY2Nlc3NSZXNwb25zZT1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSx0KSx7Ym9keTp7dmF1bHRBY2Nlc3NUb2tlbjp0LmJvZHkuZGF0YS50b2tlbix2YXVsdEFjY2Vzc0V4cGlyeTp0LmJvZHkuZGF0YS5leHBpcmVzX2F0fX0pfSx0LnByb3RvdHlwZS5fdHJhbnNmb3JtVmF1bHRlZEluc3RydW1lbnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIHZvaWQgMD09PXQmJih0PVtdKSx0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGUuX2lzUGF5UGFsSW5zdHJ1bWVudCh0KT9mdW5jdGlvbih0KXtyZXR1cm57YmlncGF5VG9rZW46dC5iaWdwYXlfdG9rZW4sZGVmYXVsdEluc3RydW1lbnQ6dC5kZWZhdWx0X2luc3RydW1lbnQscHJvdmlkZXI6dC5wcm92aWRlcixleHRlcm5hbElkOnQuZXh0ZXJuYWxfaWQsdHJ1c3RlZFNoaXBwaW5nQWRkcmVzczp0LnRydXN0ZWRfc2hpcHBpbmdfYWRkcmVzcyxtZXRob2Q6XCJwYXlwYWxcIix0eXBlOlwiYWNjb3VudFwifX0odCk6ZS5faXNCYW5rSW5zdHJ1bWVudCh0KT9mdW5jdGlvbih0KXtyZXR1cm57YmlncGF5VG9rZW46dC5iaWdwYXlfdG9rZW4sZGVmYXVsdEluc3RydW1lbnQ6dC5kZWZhdWx0X2luc3RydW1lbnQscHJvdmlkZXI6dC5wcm92aWRlcixleHRlcm5hbElkOnQuZXh0ZXJuYWxfaWQsdHJ1c3RlZFNoaXBwaW5nQWRkcmVzczp0LnRydXN0ZWRfc2hpcHBpbmdfYWRkcmVzcyxhY2NvdW50TnVtYmVyOnQuYWNjb3VudF9udW1iZXIsaXNzdWVyOnQuaXNzdWVyLGliYW46dC5pYmFuLG1ldGhvZDp0Lm1ldGhvZCx0eXBlOlwiYmFua1wifX0odCk6ZnVuY3Rpb24odCl7cmV0dXJue2JpZ3BheVRva2VuOnQuYmlncGF5X3Rva2VuLGRlZmF1bHRJbnN0cnVtZW50OnQuZGVmYXVsdF9pbnN0cnVtZW50LHByb3ZpZGVyOnQucHJvdmlkZXIsaWluOnQuaWluLGxhc3Q0OnQubGFzdF80LGV4cGlyeU1vbnRoOnQuZXhwaXJ5X21vbnRoLGV4cGlyeVllYXI6dC5leHBpcnlfeWVhcixicmFuZDp0LmJyYW5kLHRydXN0ZWRTaGlwcGluZ0FkZHJlc3M6dC50cnVzdGVkX3NoaXBwaW5nX2FkZHJlc3MsbWV0aG9kOnQubWV0aG9kLHR5cGU6XCJjYXJkXCJ9fSh0KX0pKX0sdC5wcm90b3R5cGUuX2lzUGF5UGFsSW5zdHJ1bWVudD1mdW5jdGlvbih0KXtyZXR1cm5cInBheXBhbFwiPT09dC5tZXRob2RfdHlwZX0sdC5wcm90b3R5cGUuX2lzQmFua0luc3RydW1lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuXCJiYW5rXCI9PT10Lm1ldGhvZF90eXBlfSx0LnByb3RvdHlwZS5fdHJhbnNmb3JtUmVzcG9uc2U9ZnVuY3Rpb24odCl7dmFyIGU9dC5kYXRhLG49T2JqZWN0KGQuX19yZXN0KSh0LFtcImRhdGFcIl0pO3JldHVybiBPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LG4pLHtib2R5OmV9KX0sdH0oKSxHcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLl9jbGllbnQ9dCx0aGlzLl9yZXF1ZXN0U2VuZGVyPWUsdGhpcy5fdHJhbnNmb3JtZXI9bmV3IEJyfXJldHVybiB0LnByb3RvdHlwZS5nZXRWYXVsdEFjY2Vzc1Rva2VuPWZ1bmN0aW9uKHQpe3ZhciBlPSh2b2lkIDA9PT10P3t9OnQpLnRpbWVvdXQ7cmV0dXJuIHRoaXMuX3JlcXVlc3RTZW5kZXIuZ2V0KFwiL2ludGVybmFsYXBpL3YxL2NoZWNrb3V0L3BheW1lbnRzL3ZhdWx0LWFjY2Vzcy10b2tlblwiLHt0aW1lb3V0OmV9KS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSx0KSx7Ym9keTp7dmF1bHRBY2Nlc3NUb2tlbjp0LmJvZHkuZGF0YS50b2tlbix2YXVsdEFjY2Vzc0V4cGlyeTp0LmJvZHkuZGF0YS5leHBpcmVzX2F0fX0pfSkpfSx0LnByb3RvdHlwZS5sb2FkSW5zdHJ1bWVudHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT90aGlzLl9sb2FkSW5zdHJ1bWVudHNXaXRoQWRkcmVzcyh0LGUpOnRoaXMuX2xvYWRJbnN0cnVtZW50cyh0KX0sdC5wcm90b3R5cGUuZGVsZXRlSW5zdHJ1bWVudD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj1PYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LHQpLHtpbnN0cnVtZW50SWQ6ZX0pO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCxlKXtuLl9jbGllbnQuZGVsZXRlU2hvcHBlckluc3RydW1lbnQociwoZnVuY3Rpb24ocixpKXtyZXR1cm4gcj9lKG4uX3RyYW5zZm9ybWVyLnRyYW5zZm9ybUVycm9yUmVzcG9uc2UocikpOnQobi5fdHJhbnNmb3JtZXIudHJhbnNmb3JtUmVzcG9uc2UoaSkpfSkpfSkpfSx0LnByb3RvdHlwZS5fbG9hZEluc3RydW1lbnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe2UuX2NsaWVudC5sb2FkSW5zdHJ1bWVudHModCwoZnVuY3Rpb24odCxpKXtyZXR1cm4gdD9yKGUuX3RyYW5zZm9ybWVyLnRyYW5zZm9ybUVycm9yUmVzcG9uc2UodCkpOm4oZS5fdHJhbnNmb3JtZXIudHJhbnNmb3JtUmVzcG9uc2UoaSkpfSkpfSkpfSx0LnByb3RvdHlwZS5fbG9hZEluc3RydW1lbnRzV2l0aEFkZHJlc3M9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9T2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSx0KSx7c2hpcHBpbmdBZGRyZXNzOk9iamVjdChlbi5hKShlKX0pO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCxlKXtuLl9jbGllbnQubG9hZEluc3RydW1lbnRzV2l0aEFkZHJlc3MociwoZnVuY3Rpb24ocixpKXtyZXR1cm4gcj9lKG4uX3RyYW5zZm9ybWVyLnRyYW5zZm9ybUVycm9yUmVzcG9uc2UocikpOnQobi5fdHJhbnNmb3JtZXIudHJhbnNmb3JtUmVzcG9uc2UoaSkpfSkpfSkpfSx0fSgpLFZyPW4oMTMxKSxZcj1uKDEzMiksSHI9big0NCksV3I9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3NoaXBwaW5nQ291bnRyeVJlcXVlc3RTZW5kZXI9dH1yZXR1cm4gdC5wcm90b3R5cGUubG9hZENvdW50cmllcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBiLk9ic2VydmFibGUuY3JlYXRlKChmdW5jdGlvbihuKXtuLm5leHQoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShIci5hLkxvYWRTaGlwcGluZ0NvdW50cmllc1JlcXVlc3RlZCkpLGUuX3NoaXBwaW5nQ291bnRyeVJlcXVlc3RTZW5kZXIubG9hZENvdW50cmllcyh0KS50aGVuKChmdW5jdGlvbih0KXtuLm5leHQoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShIci5hLkxvYWRTaGlwcGluZ0NvdW50cmllc1N1Y2NlZWRlZCx0LmJvZHkuZGF0YSkpLG4uY29tcGxldGUoKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7bi5lcnJvcihPYmplY3QoZy5jcmVhdGVFcnJvckFjdGlvbikoSHIuYS5Mb2FkU2hpcHBpbmdDb3VudHJpZXNGYWlsZWQsdCkpfSkpfSkpfSx0fSgpLEtyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuX3JlcXVlc3RTZW5kZXI9dCx0aGlzLl9jb25maWc9ZX1yZXR1cm4gdC5wcm90b3R5cGUubG9hZENvdW50cmllcz1mdW5jdGlvbih0KXt2YXIgZT0odm9pZCAwPT09dD97fTp0KS50aW1lb3V0LG49e1wiQWNjZXB0LUxhbmd1YWdlXCI6dGhpcy5fY29uZmlnLmxvY2FsZX07cmV0dXJuIHRoaXMuX3JlcXVlc3RTZW5kZXIuZ2V0KFwiL2ludGVybmFsYXBpL3YxL3NoaXBwaW5nL2NvdW50cmllc1wiLHtoZWFkZXJzOm4sdGltZW91dDplfSl9LHR9KCksSnI9big5KSxacj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fc3RyYXRlZ3lSZWdpc3RyeT10fXJldHVybiB0LnByb3RvdHlwZS51cGRhdGVBZGRyZXNzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGIuT2JzZXJ2YWJsZS5jcmVhdGUoKGZ1bmN0aW9uKGkpe3ZhciBvPXIuZ2V0U3RhdGUoKS5wYXltZW50LmdldFBheW1lbnRJZCgpLGE9ZSYmZS5tZXRob2RJZHx8byYmby5wcm92aWRlcklkO2kubmV4dChPYmplY3QoZy5jcmVhdGVBY3Rpb24pKEpyLmEuVXBkYXRlQWRkcmVzc1JlcXVlc3RlZCx2b2lkIDAse21ldGhvZElkOmF9KSksbi5fc3RyYXRlZ3lSZWdpc3RyeS5nZXQoYSkudXBkYXRlQWRkcmVzcyh0LE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30sZSkse21ldGhvZElkOmF9KSkudGhlbigoZnVuY3Rpb24oKXtpLm5leHQoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShKci5hLlVwZGF0ZUFkZHJlc3NTdWNjZWVkZWQsdm9pZCAwLHttZXRob2RJZDphfSkpLGkuY29tcGxldGUoKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7aS5lcnJvcihPYmplY3QoZy5jcmVhdGVFcnJvckFjdGlvbikoSnIuYS5VcGRhdGVBZGRyZXNzRmFpbGVkLHQse21ldGhvZElkOmF9KSl9KSl9KSl9fSx0LnByb3RvdHlwZS5zZWxlY3RPcHRpb249ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gYi5PYnNlcnZhYmxlLmNyZWF0ZSgoZnVuY3Rpb24oaSl7dmFyIG89ci5nZXRTdGF0ZSgpLnBheW1lbnQuZ2V0UGF5bWVudElkKCksYT1lJiZlLm1ldGhvZElkfHxvJiZvLnByb3ZpZGVySWQ7aS5uZXh0KE9iamVjdChnLmNyZWF0ZUFjdGlvbikoSnIuYS5TZWxlY3RPcHRpb25SZXF1ZXN0ZWQsdm9pZCAwLHttZXRob2RJZDphfSkpLG4uX3N0cmF0ZWd5UmVnaXN0cnkuZ2V0KGEpLnNlbGVjdE9wdGlvbih0LE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30sZSkse21ldGhvZElkOmF9KSkudGhlbigoZnVuY3Rpb24oKXtpLm5leHQoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShKci5hLlNlbGVjdE9wdGlvblN1Y2NlZWRlZCx2b2lkIDAse21ldGhvZElkOmF9KSksaS5jb21wbGV0ZSgpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtpLmVycm9yKE9iamVjdChnLmNyZWF0ZUVycm9yQWN0aW9uKShKci5hLlNlbGVjdE9wdGlvbkZhaWxlZCx0LHttZXRob2RJZDphfSkpfSkpfSkpfX0sdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gYi5PYnNlcnZhYmxlLmNyZWF0ZSgoZnVuY3Rpb24ocil7dmFyIGk9bi5nZXRTdGF0ZSgpLG89aS5wYXltZW50LmdldFBheW1lbnRJZCgpLGE9dCYmdC5tZXRob2RJZHx8byYmby5wcm92aWRlcklkLHM9T2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSx0KSx7bWV0aG9kSWQ6YX0pO2lmKGEmJmkuc2hpcHBpbmdTdHJhdGVnaWVzLmlzSW5pdGlhbGl6ZWQoYSkpcmV0dXJuIHIuY29tcGxldGUoKTtyLm5leHQoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShKci5hLkluaXRpYWxpemVSZXF1ZXN0ZWQsdm9pZCAwLHttZXRob2RJZDphfSkpLGUuX3N0cmF0ZWd5UmVnaXN0cnkuZ2V0KGEpLmluaXRpYWxpemUocykudGhlbigoZnVuY3Rpb24oKXtyLm5leHQoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShKci5hLkluaXRpYWxpemVTdWNjZWVkZWQsdm9pZCAwLHttZXRob2RJZDphfSkpLHIuY29tcGxldGUoKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7ci5lcnJvcihPYmplY3QoZy5jcmVhdGVFcnJvckFjdGlvbikoSnIuYS5Jbml0aWFsaXplRmFpbGVkLHQse21ldGhvZElkOmF9KSl9KSl9KSl9fSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIGIuT2JzZXJ2YWJsZS5jcmVhdGUoKGZ1bmN0aW9uKHIpe3ZhciBpPW4uZ2V0U3RhdGUoKSxvPWkucGF5bWVudC5nZXRQYXltZW50SWQoKSxhPXQmJnQubWV0aG9kSWR8fG8mJm8ucHJvdmlkZXJJZDtpZihhJiYhaS5zaGlwcGluZ1N0cmF0ZWdpZXMuaXNJbml0aWFsaXplZChhKSlyZXR1cm4gci5jb21wbGV0ZSgpO3IubmV4dChPYmplY3QoZy5jcmVhdGVBY3Rpb24pKEpyLmEuRGVpbml0aWFsaXplUmVxdWVzdGVkLHZvaWQgMCx7bWV0aG9kSWQ6YX0pKSxlLl9zdHJhdGVneVJlZ2lzdHJ5LmdldChhKS5kZWluaXRpYWxpemUoT2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSx0KSx7bWV0aG9kSWQ6YX0pKS50aGVuKChmdW5jdGlvbigpe3IubmV4dChPYmplY3QoZy5jcmVhdGVBY3Rpb24pKEpyLmEuRGVpbml0aWFsaXplU3VjY2VlZGVkLHZvaWQgMCx7bWV0aG9kSWQ6YX0pKSxyLmNvbXBsZXRlKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3IuZXJyb3IoT2JqZWN0KGcuY3JlYXRlRXJyb3JBY3Rpb24pKEpyLmEuRGVpbml0aWFsaXplRmFpbGVkLHQse21ldGhvZElkOmF9KSl9KSl9KSl9fSx0LnByb3RvdHlwZS53aWRnZXRJbnRlcmFjdGlvbj1mdW5jdGlvbih0LGUpe3JldHVybiBiLk9ic2VydmFibGUuY3JlYXRlKChmdW5jdGlvbihuKXt2YXIgcj17bWV0aG9kSWQ6ZSYmZS5tZXRob2RJZH07bi5uZXh0KE9iamVjdChnLmNyZWF0ZUFjdGlvbikoSnIuYS5XaWRnZXRJbnRlcmFjdGlvblN0YXJ0ZWQsdm9pZCAwLHIpKSx0KCkudGhlbigoZnVuY3Rpb24oKXtuLm5leHQoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShKci5hLldpZGdldEludGVyYWN0aW9uRmluaXNoZWQsdm9pZCAwLHIpKSxuLmNvbXBsZXRlKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe24uZXJyb3IoT2JqZWN0KGcuY3JlYXRlRXJyb3JBY3Rpb24pKEpyLmEuV2lkZ2V0SW50ZXJhY3Rpb25GYWlsZWQsdCxyKSl9KSl9KSl9LHR9KCksUXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIsaSl7dGhpcy5fc3RvcmU9dCx0aGlzLl9jb25zaWdubWVudEFjdGlvbkNyZWF0b3I9ZSx0aGlzLl9wYXltZW50TWV0aG9kQWN0aW9uQ3JlYXRvcj1uLHRoaXMuX3JlbW90ZUNoZWNrb3V0QWN0aW9uQ3JlYXRvcj1yLHRoaXMuX3NjcmlwdExvYWRlcj1pLHRoaXMuX3dpbmRvdz13aW5kb3d9cmV0dXJuIHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXQuYW1hem9uLHI9dC5tZXRob2RJZDtpZighbnx8IXIpdGhyb3cgbmV3IEl0LmEoJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgXCJvcHRpb25zLmFtYXpvblwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nKTtyZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3IubG9hZFBheW1lbnRNZXRob2QocikpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oaSxvKXtpZihlLl9wYXltZW50TWV0aG9kPXQucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZChyKSwhZS5fcGF5bWVudE1ldGhvZCl0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7ZS5fc2NyaXB0TG9hZGVyLmxvYWRXaWRnZXQoZS5fcGF5bWVudE1ldGhvZCwoZnVuY3Rpb24oKXtlLl9jcmVhdGVBZGRyZXNzQm9vayhuKS50aGVuKGkpLmNhdGNoKG8pfSkpLmNhdGNoKG8pfSkpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGUuX3N0b3JlLmdldFN0YXRlKCl9KSl9LHQucHJvdG90eXBlLmRlaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXltZW50TWV0aG9kPXZvaWQgMCxQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSl9LHQucHJvdG90eXBlLnVwZGF0ZUFkZHJlc3M9ZnVuY3Rpb24odCxlKXt2YXIgbj1PYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LHRoaXMuX3N0b3JlLmdldFN0YXRlKCkuc2hpcHBpbmdBZGRyZXNzLmdldFNoaXBwaW5nQWRkcmVzcygpKSx7Y3VzdG9tRmllbGRzOnQuY3VzdG9tRmllbGRzfSk7cmV0dXJuIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX2NvbnNpZ25tZW50QWN0aW9uQ3JlYXRvci51cGRhdGVBZGRyZXNzKG4sZSkpfSx0LnByb3RvdHlwZS5zZWxlY3RPcHRpb249ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fY29uc2lnbm1lbnRBY3Rpb25DcmVhdG9yLnNlbGVjdFNoaXBwaW5nT3B0aW9uKHQsZSkpfSx0LnByb3RvdHlwZS5fY3JlYXRlQWRkcmVzc0Jvb2s9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7dmFyIGk9dC5jb250YWluZXIsbz10Lm9uQWRkcmVzc1NlbGVjdCxhPXZvaWQgMD09PW8/ZnVuY3Rpb24oKXt9Om8scz10Lm9uRXJyb3IsYz12b2lkIDA9PT1zP2Z1bmN0aW9uKCl7fTpzLHU9dC5vblJlYWR5LGQ9dm9pZCAwPT09dT9mdW5jdGlvbigpe306dSxwPWUuX3BheW1lbnRNZXRob2QmJmUuX3BheW1lbnRNZXRob2QuY29uZmlnLm1lcmNoYW50SWQ7aWYoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGkpKXJldHVybiByKG5ldyBJdC5hKFwiVW5hYmxlIHRvIGNyZWF0ZSBBbWF6b25QYXkgQWRkcmVzc0Jvb2sgd2lkZ2V0IHdpdGhvdXQgdmFsaWQgY29udGFpbmVyIElELlwiKSk7aWYoIWUuX3dpbmRvdy5PZmZBbWF6b25QYXltZW50cylyZXR1cm4gcihuZXcgYnQuYihidC5hLlNoaXBwaW5nTm90SW5pdGlhbGl6ZWQpKTtpZighcClyZXR1cm4gcihuZXcgdi5iKHYuYS5NaXNzaW5nUGF5bWVudE1ldGhvZCkpO3ZhciBoPW5ldyBlLl93aW5kb3cuT2ZmQW1hem9uUGF5bWVudHMuV2lkZ2V0cy5BZGRyZXNzQm9vayh7ZGVzaWduOntkZXNpZ25Nb2RlOlwicmVzcG9uc2l2ZVwifSxzY29wZTpcInBheW1lbnRzOmJpbGxpbmdfYWRkcmVzcyBwYXltZW50czpzaGlwcGluZ19hZGRyZXNzIHBheW1lbnRzOndpZGdldCBwcm9maWxlXCIsc2VsbGVySWQ6cCxvbkFkZHJlc3NTZWxlY3Q6ZnVuY3Rpb24odCl7ZS5fc3luY2hyb25pemVTaGlwcGluZ0FkZHJlc3MoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBhKHQpfSkpLmNhdGNoKGMpfSxvbkVycm9yOmZ1bmN0aW9uKHQpe3IodCksYyh0KX0sb25SZWFkeTpmdW5jdGlvbih0KXtlLl91cGRhdGVPcmRlclJlZmVyZW5jZSh0KS50aGVuKChmdW5jdGlvbigpe24oKSxkKHQpfSkpLmNhdGNoKGMpfX0pO3JldHVybiBoLmJpbmQoaSksaH0pKX0sdC5wcm90b3R5cGUuX3N5bmNocm9uaXplU2hpcHBpbmdBZGRyZXNzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXRoaXMuX3BheW1lbnRNZXRob2QmJnRoaXMuX3BheW1lbnRNZXRob2QuaWQsbj10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLnJlbW90ZUNoZWNrb3V0LmdldENoZWNrb3V0KFwiYW1hem9uXCIpLHI9bj9uLnJlZmVyZW5jZUlkOnZvaWQgMDtpZighZXx8IXIpdGhyb3cgbmV3IGNuLmE7cmV0dXJuIHRoaXMuX3N0b3JlLmRpc3BhdGNoKE9iamVjdChnLmNyZWF0ZUFjdGlvbikoSnIuYS5VcGRhdGVBZGRyZXNzUmVxdWVzdGVkLHZvaWQgMCx7bWV0aG9kSWQ6ZX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0Ll9zdG9yZS5kaXNwYXRjaCh0Ll9yZW1vdGVDaGVja291dEFjdGlvbkNyZWF0b3IuaW5pdGlhbGl6ZVNoaXBwaW5nKGUse3JlZmVyZW5jZUlkOnJ9KSl9KSkudGhlbigoZnVuY3Rpb24oZSl7dmFyIG49ZS5yZW1vdGVDaGVja291dC5nZXRDaGVja291dChcImFtYXpvblwiKSxyPW4mJm4uc2hpcHBpbmcmJm4uc2hpcHBpbmcuYWRkcmVzcyxpPWUuc2hpcHBpbmdBZGRyZXNzLmdldFNoaXBwaW5nQWRkcmVzcygpO2lmKCExPT09cil0aHJvdyBuZXcgY24uYTtyZXR1cm4hcnx8b24ocixpfHx7fSk/dC5fc3RvcmUuZ2V0U3RhdGUoKTp0Ll9zdG9yZS5kaXNwYXRjaCh0Ll9jb25zaWdubWVudEFjdGlvbkNyZWF0b3IudXBkYXRlQWRkcmVzcyhzbihyKSkpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3N0b3JlLmRpc3BhdGNoKE9iamVjdChnLmNyZWF0ZUFjdGlvbikoSnIuYS5VcGRhdGVBZGRyZXNzU3VjY2VlZGVkLHZvaWQgMCx7bWV0aG9kSWQ6ZX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24obil7cmV0dXJuIHQuX3N0b3JlLmRpc3BhdGNoKE9iamVjdChnLmNyZWF0ZUVycm9yQWN0aW9uKShKci5hLlVwZGF0ZUFkZHJlc3NGYWlsZWQsbix7bWV0aG9kSWQ6ZX0pKX0pKX0sdC5wcm90b3R5cGUuX3VwZGF0ZU9yZGVyUmVmZXJlbmNlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9yZW1vdGVDaGVja291dEFjdGlvbkNyZWF0b3IudXBkYXRlQ2hlY2tvdXQoXCJhbWF6b25cIix7cmVmZXJlbmNlSWQ6dC5nZXRBbWF6b25PcmRlclJlZmVyZW5jZUlkKCl9KSl9LHR9KCksWHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIsaSl7dGhpcy5fc3RvcmU9dCx0aGlzLl9jb25zaWdubWVudEFjdGlvbkNyZWF0b3I9ZSx0aGlzLl9wYXltZW50TWV0aG9kQWN0aW9uQ3JlYXRvcj1uLHRoaXMuX2FtYXpvblBheVYyUGF5bWVudFByb2Nlc3Nvcj1yLHRoaXMuX3NoaXBwaW5nU3RyYXRlZ3lBY3Rpb25DcmVhdG9yPWl9cmV0dXJuIHQucHJvdG90eXBlLnVwZGF0ZUFkZHJlc3M9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLnNoaXBwaW5nQWRkcmVzcy5nZXRTaGlwcGluZ0FkZHJlc3MoKTtpZighbil0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nU2hpcHBpbmdBZGRyZXNzKTt2YXIgcj1PYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LG4pLHtjdXN0b21GaWVsZHM6dC5jdXN0b21GaWVsZHN9KTtyZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fY29uc2lnbm1lbnRBY3Rpb25DcmVhdG9yLnVwZGF0ZUFkZHJlc3MocixlKSl9LHQucHJvdG90eXBlLnNlbGVjdE9wdGlvbj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9jb25zaWdubWVudEFjdGlvbkNyZWF0b3Iuc2VsZWN0U2hpcHBpbmdPcHRpb24odCxlKSl9LHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLG4scixpLG8sYTtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKHMpe3N3aXRjaChzLmxhYmVsKXtjYXNlIDA6aWYoZT10LmFtYXpvbnBheSxuPXQubWV0aG9kSWQsIWV8fCFuKXRocm93IG5ldyBJdC5hKCdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIFwib3B0aW9ucy5hbWF6b25wYXlcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuJyk7cmV0dXJuWzQsdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3IubG9hZFBheW1lbnRNZXRob2QobikpXTtjYXNlIDE6cmV0dXJuIHI9cy5zZW50KCksaT1yLnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2RPclRocm93KG4pLFs0LHRoaXMuX2FtYXpvblBheVYyUGF5bWVudFByb2Nlc3Nvci5pbml0aWFsaXplKGkpXTtjYXNlIDI6cmV0dXJuIHMuc2VudCgpLG89aS5pbml0aWFsaXphdGlvbkRhdGEucGF5bWVudFRva2VuLGE9ZS5lZGl0QWRkcmVzc0J1dHRvbklkLG8mJmEmJnRoaXMuX2JpbmRFZGl0QnV0dG9uKGEsbyxcImNoYW5nZUFkZHJlc3NcIiksWzIsdGhpcy5fc3RvcmUuZ2V0U3RhdGUoKV19fSkpfSkpfSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuX2FtYXpvblBheVYyUGF5bWVudFByb2Nlc3Nvci5kZWluaXRpYWxpemUoKV07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSxbMixQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSldfX0pKX0pKX0sdC5wcm90b3R5cGUuX2JpbmRFZGl0QnV0dG9uPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLGk9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodCk7aWYoaSYmaS5wYXJlbnROb2RlKXt2YXIgbz1pLmNsb25lTm9kZSghMCk7aS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChvLGkpLG8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHIuX3Nob3dMb2FkaW5nU3Bpbm5lcigoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFByb21pc2UoYi5ub29wKX0pKX0pKSx0aGlzLl9hbWF6b25QYXlWMlBheW1lbnRQcm9jZXNzb3IuYmluZEJ1dHRvbih0LGUsbil9fSx0LnByb3RvdHlwZS5fc2hvd0xvYWRpbmdTcGlubmVyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9zaGlwcGluZ1N0cmF0ZWd5QWN0aW9uQ3JlYXRvci53aWRnZXRJbnRlcmFjdGlvbigoZnVuY3Rpb24oKXtyZXR1cm4gdD90KCk6UHJvbWlzZS5yZWplY3QoKX0pKSx7cXVldWVJZDpcIndpZGdldEludGVyYWN0aW9uXCJ9KX0sdH0oKSwkcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLl9zdG9yZT10LHRoaXMuX2NvbnNpZ25tZW50QWN0aW9uQ3JlYXRvcj1lfXJldHVybiB0LnByb3RvdHlwZS51cGRhdGVBZGRyZXNzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX2NvbnNpZ25tZW50QWN0aW9uQ3JlYXRvci51cGRhdGVBZGRyZXNzKHQsZSkpfSx0LnByb3RvdHlwZS5zZWxlY3RPcHRpb249ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fY29uc2lnbm1lbnRBY3Rpb25DcmVhdG9yLnNlbGVjdFNoaXBwaW5nT3B0aW9uKHQsZSkpfSx0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpKX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpKX0sdH0oKTt2YXIgdGksZWk9big0NSksbmk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3JlcXVlc3RTZW5kZXI9dH1yZXR1cm4gdC5wcm90b3R5cGUuc2VuZFNpZ25JbkVtYWlsPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gT2JqZWN0KGIuY29uY2F0KShPYmplY3QoYi5vZikoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShlaS5hLlNlbmRTaWduSW5FbWFpbFJlcXVlc3RlZCkpLE9iamVjdChiLmRlZmVyKSgoZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKShuLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG47cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuX3JlcXVlc3RTZW5kZXIuc2VuZFNpZ25JbkVtYWlsKHQsZSldO2Nhc2UgMTpyZXR1cm4gbj1yLnNlbnQoKS5ib2R5LFsyLE9iamVjdChnLmNyZWF0ZUFjdGlvbikoZWkuYS5TZW5kU2lnbkluRW1haWxTdWNjZWVkZWQsbildfX0pKX0pKX0pKSkucGlwZShPYmplY3QoTS5jYXRjaEVycm9yKSgoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChULmEpKGVpLmEuU2VuZFNpZ25JbkVtYWlsRmFpbGVkLHQpfSkpKX0sdH0oKSxyaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fcmVxdWVzdFNlbmRlcj10fXJldHVybiB0LnByb3RvdHlwZS5zZW5kU2lnbkluRW1haWw9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmVtYWlsLHI9dC5yZWRpcmVjdFVybCxpPSh2b2lkIDA9PT1lP3t9OmUpLnRpbWVvdXQsbz17QWNjZXB0OkkuYS5Kc29uVjF9O3JldHVybiB0aGlzLl9yZXF1ZXN0U2VuZGVyLnBvc3QoXCIvbG9naW4ucGhwP2FjdGlvbj1wYXNzd29yZGxlc3NfbG9naW5cIix7Ym9keTp7ZW1haWw6bixyZWRpcmVjdF91cmw6cnx8T2JqZWN0KGRlLmEpKHdpbmRvdy50b3AubG9jYXRpb24uaHJlZikucGF0aG5hbWV9LGhlYWRlcnM6byx0aW1lb3V0Oml9KX0sdH0oKTshZnVuY3Rpb24odCl7dC5TeW5jaHJvbml6ZT1cIlNZTkNIUk9OSVpFXCJ9KHRpfHwodGk9e30pKTt2YXIgaWk9bigxNzEpLG9pPW4oNDIpLGFpPU9iamVjdChCdC5tZW1vaXplKSgoZnVuY3Rpb24odCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/dC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBzaSh0KX0pKTpPYmplY3Qob2kuYSkodCk/T2JqZWN0LmtleXModCkucmVkdWNlKChmdW5jdGlvbihlLG4pe3ZhciByO3JldHVybiBPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LGUpLCgocj17fSlbbl09c2kodFtuXSkscikpfSkse30pOnR9KSk7YWkuY2FjaGU9bmV3IFdlYWtNYXA7dmFyIHNpPWZ1bmN0aW9uKHQpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiB0JiZudWxsIT09dD9haSh0KTp0fTtmdW5jdGlvbiBjaSh0KXtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspZVtuXT1hcmd1bWVudHNbbl07cmV0dXJuIHNpKHQuYXBwbHkodm9pZCAwLGUpKX19dmFyIHVpPW4oNzkpLGRpPW4oNjgpLHBpPW4ubihkaSksaGk9big4NiksbGk9T2JqZWN0KHVpLmNyZWF0ZVNlbGVjdG9yQ3JlYXRvcikodWkuZGVmYXVsdE1lbW9pemUsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHBpKCkodCxlKX0pKSxtaT1PYmplY3QoaGkuYSkobGkpO2Z1bmN0aW9uIGZpKCl7dmFyIHQsZSxuLHIsaSxvLGEscyxjLHUscCxoLGwsbSxmLF8seSxnLGIsdixDLE8sUyx3LEksQSxFLFAsaixrLE0sVCxSLEQ9KHQ9T2JqZWN0KGlpLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jaGVja291dC5nZXRDaGVja291dH0pLChmdW5jdGlvbih0KXtyZXR1cm4gY2kodCl9KSksZT1PYmplY3QoaWkuYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm9yZGVyLmdldE9yZGVyfSksKGZ1bmN0aW9uKHQpe3JldHVybiBjaSh0KX0pKSxuPU9iamVjdChpaS5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuY29uZmlnLmdldFN0b3JlQ29uZmlnfSksKGZ1bmN0aW9uKHQpe3JldHVybiBjaSh0KX0pKSxyPU9iamVjdChpaS5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc2hpcHBpbmdBZGRyZXNzLmdldFNoaXBwaW5nQWRkcmVzc30pLChmdW5jdGlvbih0KXtyZXR1cm4gdC5jb25maWcuZ2V0Q29udGV4dENvbmZpZ30pLChmdW5jdGlvbih0LGUpe3JldHVybiBjaSgoZnVuY3Rpb24oKXt2YXIgbj10KCkscj1lKCk7aWYoIW4pe2lmKCFyfHwhci5nZW9Db3VudHJ5Q29kZSlyZXR1cm47cmV0dXJue2ZpcnN0TmFtZTpcIlwiLGxhc3ROYW1lOlwiXCIsY29tcGFueTpcIlwiLGFkZHJlc3MxOlwiXCIsYWRkcmVzczI6XCJcIixjaXR5OlwiXCIsc3RhdGVPclByb3ZpbmNlOlwiXCIsc3RhdGVPclByb3ZpbmNlQ29kZTpcIlwiLHBvc3RhbENvZGU6XCJcIixjb3VudHJ5OlwiXCIscGhvbmU6XCJcIixjdXN0b21GaWVsZHM6W10sY291bnRyeUNvZGU6ci5nZW9Db3VudHJ5Q29kZX19cmV0dXJuIG59KSl9KSksaT1PYmplY3QoaWkuYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbnNpZ25tZW50cy5nZXRDb25zaWdubWVudHN9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGNpKChmdW5jdGlvbigpe3ZhciBlPXQoKTtpZihlJiZlLmxlbmd0aClyZXR1cm4gZVswXS5hdmFpbGFibGVTaGlwcGluZ09wdGlvbnN9KSl9KSksbz1PYmplY3QoaWkuYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbnNpZ25tZW50cy5nZXRDb25zaWdubWVudHN9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGNpKHQpfSkpLGE9T2JqZWN0KGlpLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jb25zaWdubWVudHMuZ2V0Q29uc2lnbm1lbnRzfSksKGZ1bmN0aW9uKHQpe3JldHVybiBjaSgoZnVuY3Rpb24oKXt2YXIgZT10KCk7aWYoZSYmZS5sZW5ndGgpcmV0dXJuIGVbMF0uc2VsZWN0ZWRTaGlwcGluZ09wdGlvbn0pKX0pKSxzPU9iamVjdChpaS5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc2hpcHBpbmdDb3VudHJpZXMuZ2V0U2hpcHBpbmdDb3VudHJpZXN9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGNpKHQpfSkpLGM9T2JqZWN0KGlpLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5iaWxsaW5nQWRkcmVzcy5nZXRCaWxsaW5nQWRkcmVzc30pLChmdW5jdGlvbih0KXtyZXR1cm4gdC5jb25maWcuZ2V0Q29udGV4dENvbmZpZ30pLChmdW5jdGlvbih0LGUpe3JldHVybiBjaSgoZnVuY3Rpb24oKXt2YXIgbj10KCkscj1lKCk7cmV0dXJuKCFufHxPYmplY3QoQnQudmFsdWVzKShPYmplY3QoQnQub21pdCkobixcInNob3VsZFNhdmVBZGRyZXNzXCIsXCJlbWFpbFwiLFwiaWRcIikpLmV2ZXJ5KChmdW5jdGlvbih0KXtyZXR1cm4hdHx8IXQubGVuZ3RofSkpKSYmciYmci5nZW9Db3VudHJ5Q29kZT97aWQ6bj9uLmlkOlwiXCIsZmlyc3ROYW1lOlwiXCIsbGFzdE5hbWU6XCJcIixjb21wYW55OlwiXCIsYWRkcmVzczE6XCJcIixhZGRyZXNzMjpcIlwiLGNpdHk6XCJcIixlbWFpbDpuP24uZW1haWw6XCJcIixzdGF0ZU9yUHJvdmluY2U6XCJcIixzdGF0ZU9yUHJvdmluY2VDb2RlOlwiXCIscG9zdGFsQ29kZTpcIlwiLGNvdW50cnk6XCJcIixwaG9uZTpcIlwiLGN1c3RvbUZpZWxkczpbXSxjb3VudHJ5Q29kZTpyLmdlb0NvdW50cnlDb2RlfTpufSkpfSkpLHU9T2JqZWN0KGlpLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jb3VudHJpZXMuZ2V0Q291bnRyaWVzfSksKGZ1bmN0aW9uKHQpe3JldHVybiBjaSh0KX0pKSxwPU9iamVjdChpaS5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZHN9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGNpKHQpfSkpLGg9T2JqZWN0KGlpLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kfSksKGZ1bmN0aW9uKHQpe3JldHVybiBjaSh0KX0pKSxsPU9iamVjdChpaS5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQucGF5bWVudC5nZXRQYXltZW50SWR9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHQucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZH0pLChmdW5jdGlvbih0LGUpe3JldHVybiBjaSgoZnVuY3Rpb24oKXt2YXIgbj10KCk7cmV0dXJuIG4mJmUobi5wcm92aWRlcklkLG4uZ2F0ZXdheUlkKX0pKX0pKSxtPU9iamVjdChpaS5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuY2FydC5nZXRDYXJ0fSksKGZ1bmN0aW9uKHQpe3JldHVybiBjaSh0KX0pKSxmPU9iamVjdChpaS5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuY291cG9ucy5nZXRDb3Vwb25zfSksKGZ1bmN0aW9uKHQpe3JldHVybiBjaSh0KX0pKSxfPU9iamVjdChpaS5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2lmdENlcnRpZmljYXRlcy5nZXRHaWZ0Q2VydGlmaWNhdGVzfSksKGZ1bmN0aW9uKHQpe3JldHVybiBjaSh0KX0pKSx5PU9iamVjdChpaS5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuY3VzdG9tZXIuZ2V0Q3VzdG9tZXJ9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGNpKHQpfSkpLGc9T2JqZWN0KGlpLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zaWduSW5FbWFpbC5nZXRFbWFpbH0pLChmdW5jdGlvbih0KXtyZXR1cm4gY2kodCl9KSksYj1PYmplY3QoaWkuYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnBheW1lbnQuaXNQYXltZW50RGF0YVJlcXVpcmVkfSksKGZ1bmN0aW9uKHQpe3JldHVybiBjaSh0KX0pKSx2PU9iamVjdChpaS5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQucGF5bWVudC5pc1BheW1lbnREYXRhU3VibWl0dGVkfSksKGZ1bmN0aW9uKHQpe3JldHVybiB0LnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2R9KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gY2koKGZ1bmN0aW9uKG4scil7cmV0dXJuIHQoZShuLHIpKX0pKX0pKSxDPU9iamVjdChpaS5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaW5zdHJ1bWVudHMuZ2V0SW5zdHJ1bWVudHN9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHQuaW5zdHJ1bWVudHMuZ2V0SW5zdHJ1bWVudHNCeVBheW1lbnRNZXRob2R9KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gY2koKGZ1bmN0aW9uKG4pe3JldHVybiBuP2Uobik6dCgpfSkpfSkpLE89T2JqZWN0KGlpLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5mb3JtLmdldEN1c3RvbWVyQWNjb3VudEZpZWxkc30pLChmdW5jdGlvbih0KXtyZXR1cm4gY2kodCl9KSksUz1PYmplY3QoaWkuYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmZvcm0uZ2V0QmlsbGluZ0FkZHJlc3NGaWVsZHN9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHQuY291bnRyaWVzLmdldENvdW50cmllc30pLChmdW5jdGlvbih0LGUpe3JldHVybiBjaSgoZnVuY3Rpb24obil7cmV0dXJuIHQoZSgpLG4pfSkpfSkpLHc9T2JqZWN0KGlpLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5mb3JtLmdldFNoaXBwaW5nQWRkcmVzc0ZpZWxkc30pLChmdW5jdGlvbih0KXtyZXR1cm4gdC5zaGlwcGluZ0NvdW50cmllcy5nZXRTaGlwcGluZ0NvdW50cmllc30pLChmdW5jdGlvbih0LGUpe3JldHVybiBjaSgoZnVuY3Rpb24obil7cmV0dXJuIHQoZSgpLG4pfSkpfSkpLEk9T2JqZWN0KGlpLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jb25maWcuZ2V0Rmxhc2hNZXNzYWdlc30pLChmdW5jdGlvbih0KXtyZXR1cm4gY2kodCl9KSksT2JqZWN0KGd0Lm1lbW9pemVPbmUpKChmdW5jdGlvbihkKXtyZXR1cm57Z2V0Q2hlY2tvdXQ6dChkKSxnZXRPcmRlcjplKGQpLGdldENvbmZpZzpuKGQpLGdldEZsYXNoTWVzc2FnZXM6SShkKSxnZXRTaGlwcGluZ0FkZHJlc3M6cihkKSxnZXRTaGlwcGluZ09wdGlvbnM6aShkKSxnZXRDb25zaWdubWVudHM6byhkKSxnZXRTZWxlY3RlZFNoaXBwaW5nT3B0aW9uOmEoZCksZ2V0U2hpcHBpbmdDb3VudHJpZXM6cyhkKSxnZXRCaWxsaW5nQWRkcmVzczpjKGQpLGdldEJpbGxpbmdDb3VudHJpZXM6dShkKSxnZXRQYXltZW50TWV0aG9kczpwKGQpLGdldFBheW1lbnRNZXRob2Q6aChkKSxnZXRTZWxlY3RlZFBheW1lbnRNZXRob2Q6bChkKSxnZXRDYXJ0Om0oZCksZ2V0Q291cG9uczpmKGQpLGdldEdpZnRDZXJ0aWZpY2F0ZXM6XyhkKSxnZXRDdXN0b21lcjp5KGQpLGlzUGF5bWVudERhdGFSZXF1aXJlZDpiKGQpLGlzUGF5bWVudERhdGFTdWJtaXR0ZWQ6dihkKSxnZXRTaWduSW5FbWFpbDpnKGQpLGdldEluc3RydW1lbnRzOkMoZCksZ2V0Q3VzdG9tZXJBY2NvdW50RmllbGRzOk8oZCksZ2V0QmlsbGluZ0FkZHJlc3NGaWVsZHM6UyhkKSxnZXRTaGlwcGluZ0FkZHJlc3NGaWVsZHM6dyhkKX19KSkpLHo9KEE9bWkoKGZ1bmN0aW9uKHQpe3JldHVybiB0fSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgZT0wLG49T2JqZWN0LmtleXModCk7ZTxuLmxlbmd0aDtlKyspe3ZhciByPW5bZV0saT10W3JdKCk7aWYoaSlyZXR1cm4gaX19fSkpLEU9T2JqZWN0KGlpLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zaGlwcGluZ1N0cmF0ZWdpZXMuZ2V0U2VsZWN0T3B0aW9uRXJyb3J9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHQuY29uc2lnbm1lbnRzLmdldFVwZGF0ZVNoaXBwaW5nT3B0aW9uRXJyb3J9KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHQoKXx8ZShuKX19KSksT2JqZWN0KGd0Lm1lbW9pemVPbmUpKChmdW5jdGlvbih0KXt2YXIgZT17Z2V0TG9hZENoZWNrb3V0RXJyb3I6dC5jaGVja291dC5nZXRMb2FkRXJyb3IsZ2V0VXBkYXRlQ2hlY2tvdXRFcnJvcjp0LmNoZWNrb3V0LmdldFVwZGF0ZUVycm9yLGdldFN1Ym1pdE9yZGVyRXJyb3I6dC5wYXltZW50U3RyYXRlZ2llcy5nZXRFeGVjdXRlRXJyb3IsZ2V0RmluYWxpemVPcmRlckVycm9yOnQucGF5bWVudFN0cmF0ZWdpZXMuZ2V0RmluYWxpemVFcnJvcixnZXRMb2FkT3JkZXJFcnJvcjp0Lm9yZGVyLmdldExvYWRFcnJvcixnZXRMb2FkQ2FydEVycm9yOnQuY2FydC5nZXRMb2FkRXJyb3IsZ2V0TG9hZEJpbGxpbmdDb3VudHJpZXNFcnJvcjp0LmNvdW50cmllcy5nZXRMb2FkRXJyb3IsZ2V0TG9hZFNoaXBwaW5nQ291bnRyaWVzRXJyb3I6dC5zaGlwcGluZ0NvdW50cmllcy5nZXRMb2FkRXJyb3IsZ2V0TG9hZFBheW1lbnRNZXRob2RzRXJyb3I6dC5wYXltZW50TWV0aG9kcy5nZXRMb2FkRXJyb3IsZ2V0TG9hZFBheW1lbnRNZXRob2RFcnJvcjp0LnBheW1lbnRNZXRob2RzLmdldExvYWRNZXRob2RFcnJvcixnZXRJbml0aWFsaXplUGF5bWVudEVycm9yOnQucGF5bWVudFN0cmF0ZWdpZXMuZ2V0SW5pdGlhbGl6ZUVycm9yLGdldFNpZ25JbkVycm9yOnQuY3VzdG9tZXJTdHJhdGVnaWVzLmdldFNpZ25JbkVycm9yLGdldFNpZ25PdXRFcnJvcjp0LmN1c3RvbWVyU3RyYXRlZ2llcy5nZXRTaWduT3V0RXJyb3IsZ2V0SW5pdGlhbGl6ZUN1c3RvbWVyRXJyb3I6dC5jdXN0b21lclN0cmF0ZWdpZXMuZ2V0SW5pdGlhbGl6ZUVycm9yLGdldExvYWRTaGlwcGluZ09wdGlvbnNFcnJvcjp0LmNvbnNpZ25tZW50cy5nZXRMb2FkU2hpcHBpbmdPcHRpb25zRXJyb3IsZ2V0U2VsZWN0U2hpcHBpbmdPcHRpb25FcnJvcjpFKHQpLGdldENvbnRpbnVlQXNHdWVzdEVycm9yOnQuYmlsbGluZ0FkZHJlc3MuZ2V0Q29udGludWVBc0d1ZXN0RXJyb3IsZ2V0VXBkYXRlQmlsbGluZ0FkZHJlc3NFcnJvcjp0LmJpbGxpbmdBZGRyZXNzLmdldFVwZGF0ZUVycm9yLGdldFVwZGF0ZVN1YnNjcmlwdGlvbnNFcnJvcjp0LnN1YnNjcmlwdGlvbnMuZ2V0VXBkYXRlRXJyb3IsZ2V0VXBkYXRlU2hpcHBpbmdBZGRyZXNzRXJyb3I6dC5zaGlwcGluZ1N0cmF0ZWdpZXMuZ2V0VXBkYXRlQWRkcmVzc0Vycm9yLGdldERlbGV0ZUNvbnNpZ25tZW50RXJyb3I6dC5jb25zaWdubWVudHMuZ2V0RGVsZXRlRXJyb3IsZ2V0VXBkYXRlQ29uc2lnbm1lbnRFcnJvcjp0LmNvbnNpZ25tZW50cy5nZXRVcGRhdGVFcnJvcixnZXRDcmVhdGVDb25zaWdubWVudHNFcnJvcjp0LmNvbnNpZ25tZW50cy5nZXRDcmVhdGVFcnJvcixnZXRJbml0aWFsaXplU2hpcHBpbmdFcnJvcjp0LnNoaXBwaW5nU3RyYXRlZ2llcy5nZXRJbml0aWFsaXplRXJyb3IsZ2V0QXBwbHlTdG9yZUNyZWRpdEVycm9yOnQuc3RvcmVDcmVkaXQuZ2V0QXBwbHlFcnJvcixnZXRBcHBseUNvdXBvbkVycm9yOnQuY291cG9ucy5nZXRBcHBseUVycm9yLGdldFJlbW92ZUNvdXBvbkVycm9yOnQuY291cG9ucy5nZXRSZW1vdmVFcnJvcixnZXRBcHBseUdpZnRDZXJ0aWZpY2F0ZUVycm9yOnQuZ2lmdENlcnRpZmljYXRlcy5nZXRBcHBseUVycm9yLGdldFJlbW92ZUdpZnRDZXJ0aWZpY2F0ZUVycm9yOnQuZ2lmdENlcnRpZmljYXRlcy5nZXRSZW1vdmVFcnJvcixnZXRMb2FkSW5zdHJ1bWVudHNFcnJvcjp0Lmluc3RydW1lbnRzLmdldExvYWRFcnJvcixnZXREZWxldGVJbnN0cnVtZW50RXJyb3I6dC5pbnN0cnVtZW50cy5nZXREZWxldGVFcnJvcixnZXRMb2FkQ29uZmlnRXJyb3I6dC5jb25maWcuZ2V0TG9hZEVycm9yLGdldFNpZ25JbkVtYWlsRXJyb3I6dC5zaWduSW5FbWFpbC5nZXRTZW5kRXJyb3IsZ2V0Q3JlYXRlQ3VzdG9tZXJBY2NvdW50RXJyb3I6dC5jdXN0b21lci5nZXRDcmVhdGVBY2NvdW50RXJyb3J9O3JldHVybiBPYmplY3QoZC5fX2Fzc2lnbikoe2dldEVycm9yOkEoZSl9LGUpfSkpKSxMPShQPW1pKChmdW5jdGlvbih0KXtyZXR1cm4gdH0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmtleXModCkuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV0oKX0pKX19KSksaj1PYmplY3QoaWkuYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnNoaXBwaW5nU3RyYXRlZ2llcy5pc1NlbGVjdGluZ09wdGlvbn0pLChmdW5jdGlvbih0KXtyZXR1cm4gdC5jb25zaWdubWVudHMuaXNVcGRhdGluZ1NoaXBwaW5nT3B0aW9ufSksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiB0KCl8fGUobil9fSkpLGs9T2JqZWN0KGlpLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jdXN0b21lclN0cmF0ZWdpZXMuaXNJbml0aWFsaXppbmd9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHQuY3VzdG9tZXJTdHJhdGVnaWVzLmlzU2lnbmluZ0lufSksKGZ1bmN0aW9uKHQpe3JldHVybiB0LmN1c3RvbWVyU3RyYXRlZ2llcy5pc1NpZ25pbmdPdXR9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHQuY3VzdG9tZXJTdHJhdGVnaWVzLmlzV2lkZ2V0SW50ZXJhY3Rpbmd9KSwoZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiB0KGkpfHxlKGkpfHxuKGkpfHxyKGkpfX0pKSxNPU9iamVjdChpaS5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc2hpcHBpbmdTdHJhdGVnaWVzLmlzSW5pdGlhbGl6aW5nfSksKGZ1bmN0aW9uKHQpe3JldHVybiB0LnNoaXBwaW5nU3RyYXRlZ2llcy5pc1VwZGF0aW5nQWRkcmVzc30pLChmdW5jdGlvbih0KXtyZXR1cm4gdC5zaGlwcGluZ1N0cmF0ZWdpZXMuaXNTZWxlY3RpbmdPcHRpb259KSwoZnVuY3Rpb24odCl7cmV0dXJuIHQuc2hpcHBpbmdTdHJhdGVnaWVzLmlzV2lkZ2V0SW50ZXJhY3Rpbmd9KSwoZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiB0KGkpfHxlKGkpfHxuKGkpfHxyKGkpfX0pKSxUPU9iamVjdChpaS5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQucGF5bWVudFN0cmF0ZWdpZXMuaXNJbml0aWFsaXppbmd9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHQucGF5bWVudFN0cmF0ZWdpZXMuaXNFeGVjdXRpbmd9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHQucGF5bWVudFN0cmF0ZWdpZXMuaXNGaW5hbGl6aW5nfSksKGZ1bmN0aW9uKHQpe3JldHVybiB0LnBheW1lbnRTdHJhdGVnaWVzLmlzV2lkZ2V0SW50ZXJhY3Rpbmd9KSwoZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiB0KGkpfHxlKGkpfHxuKGkpfHxyKGkpfX0pKSxSPU9iamVjdChpaS5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQucGF5bWVudFN0cmF0ZWdpZXMuaXNFeGVjdXRpbmd9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHQuY2hlY2tvdXQuaXNFeGVjdXRpbmdTcGFtQ2hlY2t9KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHQobil8fGUoKX19KSksT2JqZWN0KGd0Lm1lbW9pemVPbmUpKChmdW5jdGlvbih0KXt2YXIgZT17aXNMb2FkaW5nQ2hlY2tvdXQ6dC5jaGVja291dC5pc0xvYWRpbmcsaXNVcGRhdGluZ0NoZWNrb3V0OnQuY2hlY2tvdXQuaXNVcGRhdGluZyxpc0V4ZWN1dGluZ1NwYW1DaGVjazp0LmNoZWNrb3V0LmlzRXhlY3V0aW5nU3BhbUNoZWNrLGlzU3VibWl0dGluZ09yZGVyOlIodCksaXNGaW5hbGl6aW5nT3JkZXI6dC5wYXltZW50U3RyYXRlZ2llcy5pc0ZpbmFsaXppbmcsaXNMb2FkaW5nT3JkZXI6dC5vcmRlci5pc0xvYWRpbmcsaXNMb2FkaW5nQ2FydDp0LmNhcnQuaXNMb2FkaW5nLGlzTG9hZGluZ0JpbGxpbmdDb3VudHJpZXM6dC5jb3VudHJpZXMuaXNMb2FkaW5nLGlzTG9hZGluZ1NoaXBwaW5nQ291bnRyaWVzOnQuc2hpcHBpbmdDb3VudHJpZXMuaXNMb2FkaW5nLGlzTG9hZGluZ1BheW1lbnRNZXRob2RzOnQucGF5bWVudE1ldGhvZHMuaXNMb2FkaW5nLGlzTG9hZGluZ1BheW1lbnRNZXRob2Q6dC5wYXltZW50TWV0aG9kcy5pc0xvYWRpbmdNZXRob2QsaXNJbml0aWFsaXppbmdQYXltZW50OnQucGF5bWVudFN0cmF0ZWdpZXMuaXNJbml0aWFsaXppbmcsaXNTaWduaW5nSW46dC5jdXN0b21lclN0cmF0ZWdpZXMuaXNTaWduaW5nSW4saXNTaWduaW5nT3V0OnQuY3VzdG9tZXJTdHJhdGVnaWVzLmlzU2lnbmluZ091dCxpc0luaXRpYWxpemluZ0N1c3RvbWVyOnQuY3VzdG9tZXJTdHJhdGVnaWVzLmlzSW5pdGlhbGl6aW5nLGlzTG9hZGluZ1NoaXBwaW5nT3B0aW9uczp0LmNvbnNpZ25tZW50cy5pc0xvYWRpbmdTaGlwcGluZ09wdGlvbnMsaXNTZWxlY3RpbmdTaGlwcGluZ09wdGlvbjpqKHQpLGlzVXBkYXRpbmdCaWxsaW5nQWRkcmVzczp0LmJpbGxpbmdBZGRyZXNzLmlzVXBkYXRpbmcsaXNVcGRhdGluZ1N1YnNjcmlwdGlvbnM6dC5zdWJzY3JpcHRpb25zLmlzVXBkYXRpbmcsaXNDcmVhdGluZ0N1c3RvbWVyQWNjb3VudDp0LmN1c3RvbWVyLmlzQ3JlYXRpbmdDdXN0b21lckFjY291bnQsaXNDb250aW51aW5nQXNHdWVzdDp0LmJpbGxpbmdBZGRyZXNzLmlzQ29udGludWluZ0FzR3Vlc3QsaXNVcGRhdGluZ1NoaXBwaW5nQWRkcmVzczp0LnNoaXBwaW5nU3RyYXRlZ2llcy5pc1VwZGF0aW5nQWRkcmVzcyxpc1VwZGF0aW5nQ29uc2lnbm1lbnQ6dC5jb25zaWdubWVudHMuaXNVcGRhdGluZyxpc0RlbGV0aW5nQ29uc2lnbm1lbnQ6dC5jb25zaWdubWVudHMuaXNEZWxldGluZyxpc0NyZWF0aW5nQ29uc2lnbm1lbnRzOnQuY29uc2lnbm1lbnRzLmlzQ3JlYXRpbmcsaXNJbml0aWFsaXppbmdTaGlwcGluZzp0LnNoaXBwaW5nU3RyYXRlZ2llcy5pc0luaXRpYWxpemluZyxpc0FwcGx5aW5nU3RvcmVDcmVkaXQ6dC5zdG9yZUNyZWRpdC5pc0FwcGx5aW5nLGlzQXBwbHlpbmdDb3Vwb246dC5jb3Vwb25zLmlzQXBwbHlpbmcsaXNSZW1vdmluZ0NvdXBvbjp0LmNvdXBvbnMuaXNSZW1vdmluZyxpc0FwcGx5aW5nR2lmdENlcnRpZmljYXRlOnQuZ2lmdENlcnRpZmljYXRlcy5pc0FwcGx5aW5nLGlzUmVtb3ZpbmdHaWZ0Q2VydGlmaWNhdGU6dC5naWZ0Q2VydGlmaWNhdGVzLmlzUmVtb3ZpbmcsaXNMb2FkaW5nSW5zdHJ1bWVudHM6dC5pbnN0cnVtZW50cy5pc0xvYWRpbmcsaXNEZWxldGluZ0luc3RydW1lbnQ6dC5pbnN0cnVtZW50cy5pc0RlbGV0aW5nLGlzTG9hZGluZ0NvbmZpZzp0LmNvbmZpZy5pc0xvYWRpbmcsaXNTZW5kaW5nU2lnbkluRW1haWw6dC5zaWduSW5FbWFpbC5pc1NlbmRpbmcsaXNDdXN0b21lclN0ZXBQZW5kaW5nOmsodCksaXNTaGlwcGluZ1N0ZXBQZW5kaW5nOk0odCksaXNQYXltZW50U3RlcFBlbmRpbmc6VCh0KX07cmV0dXJuIE9iamVjdChkLl9fYXNzaWduKSh7aXNQZW5kaW5nOlAoZSl9LGUpfSkpKTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJue2RhdGE6RCh0KSxlcnJvcnM6eih0KSxzdGF0dXNlczpMKHQpfX19dmFyIF9pPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9tZXNzYWdlQ3VzdG9taXplcj10fXJldHVybiB0LnByb3RvdHlwZS50cmFuc2Zvcm09ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIHQubWVzc2FnZT0oZT10aGlzLl9tZXNzYWdlQ3VzdG9taXplcih0KSk/ZS5zcGxpdCgvKD86XFxyXFxufFxcbnxcXHIpLykubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKC9eXFxzKy9nbSxcIlwiKX0pKS5qb2luKFwiIFwiKS50cmltKCk6XCJcIix0fSx0fSgpO3ZhciB5aT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scixpLG8sYSxzLGMsZCxwLGgsbCxtLGYsXyx5LGIsQyxPLFMsdyl7dmFyIEksQSxFLFA7dGhpcy5fc3RvcmU9dCx0aGlzLl9iaWxsaW5nQWRkcmVzc0FjdGlvbkNyZWF0b3I9ZSx0aGlzLl9jaGVja291dEFjdGlvbkNyZWF0b3I9bix0aGlzLl9jb25maWdBY3Rpb25DcmVhdG9yPXIsdGhpcy5fY3VzdG9tZXJBY3Rpb25DcmVhdG9yPWksdGhpcy5fY29uc2lnbm1lbnRBY3Rpb25DcmVhdG9yPW8sdGhpcy5fY291bnRyeUFjdGlvbkNyZWF0b3I9YSx0aGlzLl9jb3Vwb25BY3Rpb25DcmVhdG9yPXMsdGhpcy5fY3VzdG9tZXJTdHJhdGVneUFjdGlvbkNyZWF0b3I9Yyx0aGlzLl9lcnJvckFjdGlvbkNyZWF0b3I9ZCx0aGlzLl9naWZ0Q2VydGlmaWNhdGVBY3Rpb25DcmVhdG9yPXAsdGhpcy5faW5zdHJ1bWVudEFjdGlvbkNyZWF0b3I9aCx0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3I9bCx0aGlzLl9wYXltZW50TWV0aG9kQWN0aW9uQ3JlYXRvcj1tLHRoaXMuX3BheW1lbnRTdHJhdGVneUFjdGlvbkNyZWF0b3I9Zix0aGlzLl9zaGlwcGluZ0NvdW50cnlBY3Rpb25DcmVhdG9yPV8sdGhpcy5fc2hpcHBpbmdTdHJhdGVneUFjdGlvbkNyZWF0b3I9eSx0aGlzLl9zaWduSW5FbWFpbEFjdGlvbkNyZWF0b3I9Yix0aGlzLl9zcGFtUHJvdGVjdGlvbkFjdGlvbkNyZWF0b3I9Qyx0aGlzLl9zdG9yZUNyZWRpdEFjdGlvbkNyZWF0b3I9Tyx0aGlzLl9zdWJzY3JpcHRpb25zQWN0aW9uQ3JlYXRvcj1TLHRoaXMuX2Zvcm1GaWVsZHNBY3Rpb25DcmVhdG9yPXcsdGhpcy5fZXJyb3JUcmFuc2Zvcm1lcj0odm9pZCAwPT09SSYmKEk9XCJkZXZlbG9wbWVudFwiPT09dSgpKSxuZXcgX2koKGZ1bmN0aW9uKHQpe2lmKCFJfHwhZnVuY3Rpb24odCl7cmV0dXJuISghdC5zdWJ0eXBlJiYhdC50eXBlKX0odCkpcmV0dXJuIHQubWVzc2FnZTtzd2l0Y2godC5zdWJ0eXBlfHx0LnR5cGUpe2Nhc2Ugdi5hLk1pc3NpbmdDb25zaWdubWVudHM6cmV0dXJuXCJcXG4gICAgICAgICAgICAgICAgXCIrdC5tZXNzYWdlK1wiXFxuICAgICAgICAgICAgICAgIFRoZSBkYXRhIGNvdWxkIGJlIHVuYXZhaWxhYmxlIGJlY2F1c2Ugbm8gc2hpcHBpbmcgYWRkcmVzcyBoYXMgYmVlbiBwcm92aWRlZC5cXG4gICAgICAgICAgICAgICAgVG8gZml4IHRoaXMsIGNyZWF0ZSBhIGNvbnNpZ25tZW50IG9yIHVwZGF0ZSB0aGUgc2hpcHBpbmcgYWRkcmVzcyBiZWZvcmUgcGVyZm9ybWluZ1xcbiAgICAgICAgICAgICAgICB0aGUgc2FtZSBhY3Rpb24gYWdhaW4uXFxuICAgICAgICAgICAgXCI7Y2FzZSB2LmEuTWlzc2luZ0NhcnQ6Y2FzZSB2LmEuTWlzc2luZ0NoZWNrb3V0OnJldHVyblwiXFxuICAgICAgICAgICAgICAgIFwiK3QubWVzc2FnZStcIlxcbiAgICAgICAgICAgICAgICBUaGUgZGF0YSBjb3VsZCBiZSB1bmF2YWlsYWJsZSBiZWNhdXNlIGl0IGhhcyBub3QgbG9hZGVkIGZyb20gdGhlIHNlcnZlciB5ZXQuXFxuICAgICAgICAgICAgICAgIFRvIGZpeCB0aGlzIGlzc3VlLCB5b3UgY2FuIHRyeSBjYWxsaW5nIGBDaGVja291dFNlcnZpY2UjbG9hZENoZWNrb3V0YFxcbiAgICAgICAgICAgICAgICBiZWZvcmUgcGVyZm9ybWluZyB0aGUgc2FtZSBhY3Rpb24gYWdhaW4uXFxuICAgICAgICAgICAgXCI7Y2FzZSB2LmEuTWlzc2luZ0NoZWNrb3V0Q29uZmlnOnJldHVyblwiXFxuICAgICAgICAgICAgICAgIFwiK3QubWVzc2FnZStcIlxcbiAgICAgICAgICAgICAgICBUaGUgZGF0YSBjb3VsZCBiZSB1bmF2YWlsYWJsZSBiZWNhdXNlIGl0IGhhcyBub3QgbG9hZGVkIGZyb20gdGhlIHNlcnZlciB5ZXQuXFxuICAgICAgICAgICAgICAgIFRvIGZpeCB0aGlzIGlzc3VlLCB5b3UgbmVlZCB0byBtYWtlIHN1cmUgYENoZWNrb3V0U2VydmljZWAgaXMgaW5pdGlhbGl6ZWRcXG4gICAgICAgICAgICAgICAgcHJvcGVybHkgYnkgY2FsbGluZyBgQ2hlY2tvdXRTZXJ2aWNlI2xvYWRDaGVja291dGAgYmVmb3JlIHBlcmZvcm1pbmcgYW55XFxuICAgICAgICAgICAgICAgIG90aGVyIGFjdGlvbnMuXFxuICAgICAgICAgICAgXCI7Y2FzZSB2LmEuTWlzc2luZ09yZGVyOnJldHVyblwiXFxuICAgICAgICAgICAgICAgIFwiK3QubWVzc2FnZStcIlxcbiAgICAgICAgICAgICAgICBUaGUgZGF0YSBjb3VsZCBiZSB1bmF2YWlsYWJsZSBiZWNhdXNlIGl0IGhhcyBub3QgbG9hZGVkIGZyb20gdGhlIHNlcnZlciB5ZXQuXFxuICAgICAgICAgICAgICAgIFRvIGZpeCB0aGlzIGlzc3VlLCB5b3UgY2FuIHRyeSBjYWxsaW5nIGBDaGVja291dFNlcnZpY2UjbG9hZE9yZGVyYFxcbiAgICAgICAgICAgICAgICBiZWZvcmUgcGVyZm9ybWluZyB0aGUgc2FtZSBhY3Rpb24gYWdhaW4uXFxuICAgICAgICAgICAgXCI7Y2FzZSB2LmEuTWlzc2luZ09yZGVySWQ6cmV0dXJuXCJcXG4gICAgICAgICAgICAgICAgXCIrdC5tZXNzYWdlK1wiXFxuICAgICAgICAgICAgICAgIFRoZSBkYXRhIGNvdWxkIGJlIHVuYXZhaWxhYmxlIGJlY2F1c2Ugbm8gb3JkZXIgaGFzIGJlZW4gY3JlYXRlZCB5ZXQuIFlvdSBoYXZlXFxuICAgICAgICAgICAgICAgIHRvIGZpcnN0IGNyZWF0ZSB0aGUgb3JkZXIgYmVmb3JlIHlvdSBjYW4gcGVyZm9ybSB0aGUgYWN0aW9uLlxcbiAgICAgICAgICAgIFwiO2Nhc2Ugdi5hLk1pc3NpbmdQYXltZW50TWV0aG9kOnJldHVyblwiXFxuICAgICAgICAgICAgICAgIFwiK3QubWVzc2FnZStcIlxcbiAgICAgICAgICAgICAgICBUaGUgZGF0YSBjb3VsZCBiZSB1bmF2YWlsYWJsZSBiZWNhdXNlIGl0IGhhcyBub3QgbG9hZGVkIGZyb20gdGhlIHNlcnZlciwgb3JcXG4gICAgICAgICAgICAgICAgY29uZmlndXJlZCBieSB0aGUgbWVyY2hhbnQgeWV0LiBUbyBmaXggdGhlIGZvcm1lciBpc3N1ZSwgeW91IGNhbiB0cnkgY2FsbGluZ1xcbiAgICAgICAgICAgICAgICBgQ2hlY2tvdXRTZXJ2aWNlI2xvYWRQYXltZW50TWV0aG9kc2AgYmVmb3JlIHBlcmZvcm1pbmcgdGhlIHNhbWUgYWN0aW9uIGFnYWluLlxcbiAgICAgICAgICAgIFwiO2Nhc2UgYnQuYS5DdXN0b21lck5vdEluaXRpYWxpemVkOnJldHVyblwiXFxuICAgICAgICAgICAgICAgIEluIG9yZGVyIHRvIGluaXRpYWxpemUgdGhlIGN1c3RvbWVyIHN0ZXAgb2YgY2hlY2tvdXQsIHlvdSBuZWVkIHRvIGNhbGxcXG4gICAgICAgICAgICAgICAgYENoZWNrb3V0U2VydmljZSNpbml0aWFsaXplQ3VzdG9tZXJgLiBBZnRlcndhcmRzLCB5b3Ugc2hvdWxkIGJlIGFibGUgdG9cXG4gICAgICAgICAgICAgICAgc3VibWl0IGN1c3RvbWVyIGRldGFpbHMuXFxuICAgICAgICAgICAgXCI7Y2FzZSBidC5hLlBheW1lbnROb3RJbml0aWFsaXplZDpyZXR1cm5cIlxcbiAgICAgICAgICAgICAgICBcIit0Lm1lc3NhZ2UrXCJcXG4gICAgICAgICAgICAgICAgSW4gb3JkZXIgdG8gaW5pdGlhbGl6ZSB0aGUgcGF5bWVudCBzdGVwIG9mIGNoZWNrb3V0LCB5b3UgbmVlZCB0byBjYWxsXFxuICAgICAgICAgICAgICAgIGBDaGVja291dFNlcnZpY2UjaW5pdGlhbGl6ZVBheW1lbnRgLiBBZnRlcndhcmRzLCB5b3Ugc2hvdWxkIGJlIGFibGUgdG9cXG4gICAgICAgICAgICAgICAgc3VibWl0IHBheW1lbnQgZGV0YWlscy5cXG4gICAgICAgICAgICBcIjtjYXNlIGJ0LmEuU2hpcHBpbmdOb3RJbml0aWFsaXplZDpyZXR1cm5cIlxcbiAgICAgICAgICAgICAgICBcIit0Lm1lc3NhZ2UrXCJcXG4gICAgICAgICAgICAgICAgSW4gb3JkZXIgdG8gaW5pdGlhbGl6ZSB0aGUgc2hpcHBpbmcgc3RlcCBvZiBjaGVja291dCwgeW91IG5lZWQgdG8gY2FsbFxcbiAgICAgICAgICAgICAgICBgQ2hlY2tvdXRTZXJ2aWNlI2luaXRpYWxpemVTaGlwcGluZ2AuIEFmdGVyd2FyZHMsIHlvdSBzaG91bGQgYmUgYWJsZSB0b1xcbiAgICAgICAgICAgICAgICBzdWJtaXQgc2hpcHBpbmcgZGV0YWlscy5cXG4gICAgICAgICAgICBcIjtkZWZhdWx0OnJldHVybiB0Lm1lc3NhZ2V9fSkpKSx0aGlzLl9zZWxlY3RvcnNGYWN0b3J5PWZpKCksdGhpcy5fc3RvcmVQcm9qZWN0aW9uPShBPXRoaXMuX3N0b3JlLEU9dGhpcy5fc2VsZWN0b3JzRmFjdG9yeSxQPU9iamVjdChnLmNyZWF0ZURhdGFTdG9yZSkoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUudHlwZT09PXRpLlN5bmNocm9uaXplP2UucGF5bG9hZDp0fSksQS5nZXRTdGF0ZSgpLHtzdGF0ZVRyYW5zZm9ybWVyOkV9KSxBLnN1YnNjcmliZSgoZnVuY3Rpb24odCl7UC5kaXNwYXRjaChPYmplY3QoZy5jcmVhdGVBY3Rpb24pKHRpLlN5bmNocm9uaXplLHQpKX0pLHtpbml0aWFsOiExfSksUCl9cmV0dXJuIHQucHJvdG90eXBlLmdldFN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0b3JlUHJvamVjdGlvbi5nZXRTdGF0ZSgpfSx0LnByb3RvdHlwZS5ub3RpZnlTdGF0ZT1mdW5jdGlvbigpe3RoaXMuX3N0b3JlUHJvamVjdGlvbi5ub3RpZnlTdGF0ZSgpfSx0LnByb3RvdHlwZS5zdWJzY3JpYmU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49W10scj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspbltyLTFdPWFyZ3VtZW50c1tyXTtyZXR1cm4oZT10aGlzLl9zdG9yZVByb2plY3Rpb24pLnN1YnNjcmliZS5hcHBseShlLE9iamVjdChkLl9fc3ByZWFkQXJyYXlzKShbdF0sbikpfSx0LnByb3RvdHlwZS5sb2FkQ2hlY2tvdXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fZGlzcGF0Y2godD90aGlzLl9jaGVja291dEFjdGlvbkNyZWF0b3IubG9hZENoZWNrb3V0KHQsZSk6dGhpcy5fY2hlY2tvdXRBY3Rpb25DcmVhdG9yLmxvYWREZWZhdWx0Q2hlY2tvdXQoZSkpfSx0LnByb3RvdHlwZS51cGRhdGVDaGVja291dD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2NoZWNrb3V0QWN0aW9uQ3JlYXRvci51cGRhdGVDaGVja291dCh0LGUpO3JldHVybiB0aGlzLl9kaXNwYXRjaChuKX0sdC5wcm90b3R5cGUubG9hZE9yZGVyPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvci5sb2FkT3JkZXIodCxlKSxpPXRoaXMuX2Zvcm1GaWVsZHNBY3Rpb25DcmVhdG9yLmxvYWRGb3JtRmllbGRzKGUpLG89dGhpcy5fY29uZmlnQWN0aW9uQ3JlYXRvci5sb2FkQ29uZmlnKGUpO3JldHVybiBQcm9taXNlLmFsbChbdGhpcy5fZGlzcGF0Y2gociksdGhpcy5fZGlzcGF0Y2gobyx7cXVldWVJZDpcImNvbmZpZ1wifSksdGhpcy5fZGlzcGF0Y2goaSx7cXVldWVJZDpcImZvcm1GaWVsZHNcIn0pXSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gbi5nZXRTdGF0ZSgpfSkpfSx0LnByb3RvdHlwZS5zdWJtaXRPcmRlcj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX3BheW1lbnRTdHJhdGVneUFjdGlvbkNyZWF0b3IuZXhlY3V0ZSh0LGUpO3JldHVybiB0aGlzLl9kaXNwYXRjaChuLHtxdWV1ZUlkOlwicGF5bWVudFN0cmF0ZWd5XCJ9KX0sdC5wcm90b3R5cGUuZmluYWxpemVPcmRlcklmTmVlZGVkPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3BheW1lbnRTdHJhdGVneUFjdGlvbkNyZWF0b3IuZmluYWxpemUodCk7cmV0dXJuIHRoaXMuX2Rpc3BhdGNoKGUse3F1ZXVlSWQ6XCJwYXltZW50U3RyYXRlZ3lcIn0pfSx0LnByb3RvdHlwZS5sb2FkUGF5bWVudE1ldGhvZHM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3IubG9hZFBheW1lbnRNZXRob2RzKHQpO3JldHVybiB0aGlzLl9kaXNwYXRjaChlLHtxdWV1ZUlkOlwicGF5bWVudE1ldGhvZHNcIn0pfSx0LnByb3RvdHlwZS5sb2FkUGF5bWVudE1ldGhvZD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yLmxvYWRQYXltZW50TWV0aG9kKHQsZSk7cmV0dXJuIHRoaXMuX2Rpc3BhdGNoKG4se3F1ZXVlSWQ6XCJwYXltZW50TWV0aG9kc1wifSl9LHQucHJvdG90eXBlLmluaXRpYWxpemVQYXltZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3BheW1lbnRTdHJhdGVneUFjdGlvbkNyZWF0b3IuaW5pdGlhbGl6ZSh0KTtyZXR1cm4gdGhpcy5fZGlzcGF0Y2goZSx7cXVldWVJZDpcInBheW1lbnRTdHJhdGVneVwifSl9LHQucHJvdG90eXBlLmRlaW5pdGlhbGl6ZVBheW1lbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fcGF5bWVudFN0cmF0ZWd5QWN0aW9uQ3JlYXRvci5kZWluaXRpYWxpemUodCk7cmV0dXJuIHRoaXMuX2Rpc3BhdGNoKGUse3F1ZXVlSWQ6XCJwYXltZW50U3RyYXRlZ3lcIn0pfSx0LnByb3RvdHlwZS5sb2FkQmlsbGluZ0NvdW50cmllcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9jb3VudHJ5QWN0aW9uQ3JlYXRvci5sb2FkQ291bnRyaWVzKHQpO3JldHVybiB0aGlzLl9kaXNwYXRjaChlLHtxdWV1ZUlkOlwiYmlsbGluZ0NvdW50cmllc1wifSl9LHQucHJvdG90eXBlLmxvYWRTaGlwcGluZ0NvdW50cmllcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9zaGlwcGluZ0NvdW50cnlBY3Rpb25DcmVhdG9yLmxvYWRDb3VudHJpZXModCk7cmV0dXJuIHRoaXMuX2Rpc3BhdGNoKGUse3F1ZXVlSWQ6XCJzaGlwcGluZ0NvdW50cmllc1wifSl9LHQucHJvdG90eXBlLmxvYWRCaWxsaW5nQWRkcmVzc0ZpZWxkcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5sb2FkQmlsbGluZ0NvdW50cmllcyh0KX0sdC5wcm90b3R5cGUubG9hZFNoaXBwaW5nQWRkcmVzc0ZpZWxkcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5sb2FkU2hpcHBpbmdDb3VudHJpZXModCl9LHQucHJvdG90eXBlLmluaXRpYWxpemVDdXN0b21lcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9jdXN0b21lclN0cmF0ZWd5QWN0aW9uQ3JlYXRvci5pbml0aWFsaXplKHQpO3JldHVybiB0aGlzLl9kaXNwYXRjaChlLHtxdWV1ZUlkOlwiY3VzdG9tZXJTdHJhdGVneVwifSl9LHQucHJvdG90eXBlLmRlaW5pdGlhbGl6ZUN1c3RvbWVyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2N1c3RvbWVyU3RyYXRlZ3lBY3Rpb25DcmVhdG9yLmRlaW5pdGlhbGl6ZSh0KTtyZXR1cm4gdGhpcy5fZGlzcGF0Y2goZSx7cXVldWVJZDpcImN1c3RvbWVyU3RyYXRlZ3lcIn0pfSx0LnByb3RvdHlwZS5zZW5kU2lnbkluRW1haWw9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9zaWduSW5FbWFpbEFjdGlvbkNyZWF0b3Iuc2VuZFNpZ25JbkVtYWlsKHQsZSk7cmV0dXJuIHRoaXMuX2Rpc3BhdGNoKG4se3F1ZXVlSWQ6XCJzaWduSW5FbWFpbFwifSl9LHQucHJvdG90eXBlLmNyZWF0ZUN1c3RvbWVyQWNjb3VudD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2N1c3RvbWVyQWN0aW9uQ3JlYXRvci5jcmVhdGVDdXN0b21lcih0LGUpO3JldHVybiB0aGlzLl9kaXNwYXRjaChuKX0sdC5wcm90b3R5cGUudXBkYXRlU3Vic2NyaXB0aW9ucz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX3N1YnNjcmlwdGlvbnNBY3Rpb25DcmVhdG9yLnVwZGF0ZVN1YnNjcmlwdGlvbnModCxlKTtyZXR1cm4gdGhpcy5fZGlzcGF0Y2gobix7cXVldWVJZDpcInN1YnNjcmlwdGlvbnNcIn0pfSx0LnByb3RvdHlwZS5jb250aW51ZUFzR3Vlc3Q9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9iaWxsaW5nQWRkcmVzc0FjdGlvbkNyZWF0b3IuY29udGludWVBc0d1ZXN0KHQsZSk7cmV0dXJuIHRoaXMuX2Rpc3BhdGNoKG4pfSx0LnByb3RvdHlwZS5zaWduSW5DdXN0b21lcj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2N1c3RvbWVyU3RyYXRlZ3lBY3Rpb25DcmVhdG9yLnNpZ25Jbih0LGUpO3JldHVybiB0aGlzLl9kaXNwYXRjaChuLHtxdWV1ZUlkOlwiY3VzdG9tZXJTdHJhdGVneVwifSl9LHQucHJvdG90eXBlLnNpZ25PdXRDdXN0b21lcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9jdXN0b21lclN0cmF0ZWd5QWN0aW9uQ3JlYXRvci5zaWduT3V0KHQpO3JldHVybiB0aGlzLl9kaXNwYXRjaChlLHtxdWV1ZUlkOlwiY3VzdG9tZXJTdHJhdGVneVwifSl9LHQucHJvdG90eXBlLmxvYWRTaGlwcGluZ09wdGlvbnM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fY29uc2lnbm1lbnRBY3Rpb25DcmVhdG9yLmxvYWRTaGlwcGluZ09wdGlvbnModCk7cmV0dXJuIHRoaXMuX2Rpc3BhdGNoKGUpfSx0LnByb3RvdHlwZS5pbml0aWFsaXplU2hpcHBpbmc9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fc2hpcHBpbmdTdHJhdGVneUFjdGlvbkNyZWF0b3IuaW5pdGlhbGl6ZSh0KTtyZXR1cm4gdGhpcy5fZGlzcGF0Y2goZSx7cXVldWVJZDpcInNoaXBwaW5nU3RyYXRlZ3lcIn0pfSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemVTaGlwcGluZz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9zaGlwcGluZ1N0cmF0ZWd5QWN0aW9uQ3JlYXRvci5kZWluaXRpYWxpemUodCk7cmV0dXJuIHRoaXMuX2Rpc3BhdGNoKGUse3F1ZXVlSWQ6XCJzaGlwcGluZ1N0cmF0ZWd5XCJ9KX0sdC5wcm90b3R5cGUuc2VsZWN0U2hpcHBpbmdPcHRpb249ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9zaGlwcGluZ1N0cmF0ZWd5QWN0aW9uQ3JlYXRvci5zZWxlY3RPcHRpb24odCxlKTtyZXR1cm4gdGhpcy5fZGlzcGF0Y2gobix7cXVldWVJZDpcInNoaXBwaW5nU3RyYXRlZ3lcIn0pfSx0LnByb3RvdHlwZS51cGRhdGVTaGlwcGluZ0FkZHJlc3M9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9zaGlwcGluZ1N0cmF0ZWd5QWN0aW9uQ3JlYXRvci51cGRhdGVBZGRyZXNzKHQsZSk7cmV0dXJuIHRoaXMuX2Rpc3BhdGNoKG4se3F1ZXVlSWQ6XCJzaGlwcGluZ1N0cmF0ZWd5XCJ9KX0sdC5wcm90b3R5cGUuY3JlYXRlQ29uc2lnbm1lbnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fY29uc2lnbm1lbnRBY3Rpb25DcmVhdG9yLmNyZWF0ZUNvbnNpZ25tZW50cyh0LGUpO3JldHVybiB0aGlzLl9kaXNwYXRjaChuLHtxdWV1ZUlkOlwic2hpcHBpbmdTdHJhdGVneVwifSl9LHQucHJvdG90eXBlLmRlbGV0ZUNvbnNpZ25tZW50PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fY29uc2lnbm1lbnRBY3Rpb25DcmVhdG9yLmRlbGV0ZUNvbnNpZ25tZW50KHQsZSk7cmV0dXJuIHRoaXMuX2Rpc3BhdGNoKG4se3F1ZXVlSWQ6XCJzaGlwcGluZ1N0cmF0ZWd5XCJ9KX0sdC5wcm90b3R5cGUudXBkYXRlQ29uc2lnbm1lbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9jb25zaWdubWVudEFjdGlvbkNyZWF0b3IudXBkYXRlQ29uc2lnbm1lbnQodCxlKTtyZXR1cm4gdGhpcy5fZGlzcGF0Y2gobix7cXVldWVJZDpcInNoaXBwaW5nU3RyYXRlZ3lcIn0pfSx0LnByb3RvdHlwZS5hc3NpZ25JdGVtc1RvQWRkcmVzcz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2NvbnNpZ25tZW50QWN0aW9uQ3JlYXRvci5hc3NpZ25JdGVtc0J5QWRkcmVzcyh0LGUpO3JldHVybiB0aGlzLl9kaXNwYXRjaChuLHtxdWV1ZUlkOlwic2hpcHBpbmdTdHJhdGVneVwifSl9LHQucHJvdG90eXBlLnVuYXNzaWduSXRlbXNUb0FkZHJlc3M9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9jb25zaWdubWVudEFjdGlvbkNyZWF0b3IudW5hc3NpZ25JdGVtc0J5QWRkcmVzcyh0LGUpO3JldHVybiB0aGlzLl9kaXNwYXRjaChuLHtxdWV1ZUlkOlwic2hpcHBpbmdTdHJhdGVneVwifSl9LHQucHJvdG90eXBlLnNlbGVjdENvbnNpZ25tZW50U2hpcHBpbmdPcHRpb249ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuX2NvbnNpZ25tZW50QWN0aW9uQ3JlYXRvci51cGRhdGVTaGlwcGluZ09wdGlvbih7aWQ6dCxzaGlwcGluZ09wdGlvbklkOmV9LG4pO3JldHVybiB0aGlzLl9kaXNwYXRjaChyLHtxdWV1ZUlkOlwic2hpcHBpbmdTdHJhdGVneVwifSl9LHQucHJvdG90eXBlLnVwZGF0ZUJpbGxpbmdBZGRyZXNzPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9e30pO3ZhciBuPXRoaXMuX2JpbGxpbmdBZGRyZXNzQWN0aW9uQ3JlYXRvci51cGRhdGVBZGRyZXNzKHQsZSk7cmV0dXJuIHRoaXMuX2Rpc3BhdGNoKG4pfSx0LnByb3RvdHlwZS5hcHBseVN0b3JlQ3JlZGl0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fc3RvcmVDcmVkaXRBY3Rpb25DcmVhdG9yLmFwcGx5U3RvcmVDcmVkaXQodCxlKTtyZXR1cm4gdGhpcy5fZGlzcGF0Y2gobil9LHQucHJvdG90eXBlLmFwcGx5Q291cG9uPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fY291cG9uQWN0aW9uQ3JlYXRvci5hcHBseUNvdXBvbih0LGUpO3JldHVybiB0aGlzLl9kaXNwYXRjaChuKX0sdC5wcm90b3R5cGUucmVtb3ZlQ291cG9uPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fY291cG9uQWN0aW9uQ3JlYXRvci5yZW1vdmVDb3Vwb24odCxlKTtyZXR1cm4gdGhpcy5fZGlzcGF0Y2gobil9LHQucHJvdG90eXBlLmFwcGx5R2lmdENlcnRpZmljYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fZ2lmdENlcnRpZmljYXRlQWN0aW9uQ3JlYXRvci5hcHBseUdpZnRDZXJ0aWZpY2F0ZSh0LGUpO3JldHVybiB0aGlzLl9kaXNwYXRjaChuKX0sdC5wcm90b3R5cGUucmVtb3ZlR2lmdENlcnRpZmljYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fZ2lmdENlcnRpZmljYXRlQWN0aW9uQ3JlYXRvci5yZW1vdmVHaWZ0Q2VydGlmaWNhdGUodCxlKTtyZXR1cm4gdGhpcy5fZGlzcGF0Y2gobil9LHQucHJvdG90eXBlLmxvYWRJbnN0cnVtZW50cz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2luc3RydW1lbnRBY3Rpb25DcmVhdG9yLmxvYWRJbnN0cnVtZW50cygpO3JldHVybiB0aGlzLl9kaXNwYXRjaCh0KX0sdC5wcm90b3R5cGUuZGVsZXRlSW5zdHJ1bWVudD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dGhpcy5faW5zdHJ1bWVudEFjdGlvbkNyZWF0b3IuZGVsZXRlSW5zdHJ1bWVudCh0KTtyZXR1cm4gdGhpcy5fZGlzcGF0Y2gobikudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gZS5sb2FkSW5zdHJ1bWVudHMoKX0pKX0sdC5wcm90b3R5cGUuY2xlYXJFcnJvcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9lcnJvckFjdGlvbkNyZWF0b3IuY2xlYXJFcnJvcih0KTtyZXR1cm4gdGhpcy5fZGlzcGF0Y2goZSl9LHQucHJvdG90eXBlLmluaXRpYWxpemVTcGFtUHJvdGVjdGlvbj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9zcGFtUHJvdGVjdGlvbkFjdGlvbkNyZWF0b3IuaW5pdGlhbGl6ZSh0KTtyZXR1cm4gdGhpcy5fZGlzcGF0Y2goZSx7cXVldWVJZDpcInNwYW1Qcm90ZWN0aW9uXCJ9KX0sdC5wcm90b3R5cGUuZXhlY3V0ZVNwYW1DaGVjaz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3NwYW1Qcm90ZWN0aW9uQWN0aW9uQ3JlYXRvci52ZXJpZnlDaGVja291dFNwYW1Qcm90ZWN0aW9uKCk7cmV0dXJuIHRoaXMuX2Rpc3BhdGNoKHQse3F1ZXVlSWQ6XCJzcGFtUHJvdGVjdGlvblwifSl9LHQucHJvdG90eXBlLl9kaXNwYXRjaD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHQsZSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gbi5nZXRTdGF0ZSgpfSkpLmNhdGNoKChmdW5jdGlvbih0KXt0aHJvdyBuLl9lcnJvclRyYW5zZm9ybWVyLnRyYW5zZm9ybSh0KX0pKX0sdD1PYmplY3QoZC5fX2RlY29yYXRlKShbRHQuYV0sdCl9KCksZ2k9bigxMzcpO2Z1bmN0aW9uIGJpKHQpe1wiaHR0cHM6XCIhPT1kb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbCYmZigpLndhcm4oXCJUaGUgQmlnQ29tbWVyY2UgQ2hlY2tvdXQgU0RLIHNob3VsZCBub3QgYmUgdXNlZCBvbiBhIG5vbi1IVFRQUyBwYWdlXCIpLFwicHJvZHVjdGlvblwiIT09dSgpJiZmKCkud2FybihcIk5vdGUgdGhhdCB0aGUgZGV2ZWxvcG1lbnQgYnVpbGQgaXMgbm90IG9wdGltaXplZC4gVG8gY3JlYXRlIGEgcHJvZHVjdGlvbiBidWlsZCwgc2V0IHByb2Nlc3MuZW52Lk5PREVfRU5WIHRvIGBwcm9kdWN0aW9uYC5cIik7dmFyIGU9e21ldGE6e2V4dGVybmFsU291cmNlOnQmJnQuZXh0ZXJuYWxTb3VyY2UsdmFyaWFudElkZW50aWZpY2F0aW9uVG9rZW46d2luZG93LmNoZWNrb3V0VmFyaWFudElkZW50aWZpY2F0aW9uVG9rZW59LGVycm9yczp7fSxzdGF0dXNlczp7fX0sbj10fHx7fSxzPW4ubG9jYWxlLGQ9dm9pZCAwPT09cz9cIlwiOnMscD1uLnNob3VsZFdhcm5NdXRhdGlvbixoPXZvaWQgMD09PXB8fHAsbD1PYmplY3Qoci5jcmVhdGVSZXF1ZXN0U2VuZGVyKSh7aG9zdDp0JiZ0Lmhvc3R9KSxtPU9iamVjdChnaS5hKSh7Y29uZmlnOmV9LHtzaG91bGRXYXJuTXV0YXRpb246aH0pLGc9ZnVuY3Rpb24odCl7dmFyIGU9T2JqZWN0KFd0LmNyZWF0ZUNsaWVudCkoKTtyZXR1cm4gdC5zdWJzY3JpYmUoKGZ1bmN0aW9uKHQpe3ZhciBuPXQuY29uZmlnLmdldFN0b3JlQ29uZmlnKCk7biYmZS5zZXRIb3N0KG4ucGF5bWVudFNldHRpbmdzLmJpZ3BheUJhc2VVcmwpfSksKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbmZpZy5nZXRTdG9yZUNvbmZpZygpfSkpLGV9KG0pLGI9bmV3IEd0KGwpLHY9bmV3IFUuYShsKSxDPW5ldyBfLmEobmV3IHkuYShsKSksUz1TdChPYmplY3QoaS5jcmVhdGVTY3JpcHRMb2FkZXIpKCkpLHc9bmV3IHd0KGwpLEk9bmV3IF90KFMsdyksQT1uZXcgSHQoYixuZXcgdGUodikpLFA9bmV3IHdlLmEobmV3IEllLmEobCkpLE09bmV3IEcuYShuZXcgVi5hKGwpKSxUPW5ldyB4LmEodixDLE0pO3JldHVybiBuZXcgeWkobSxuZXcgby5hKG5ldyBhLmEobCksUCksVCxDLG5ldyB6KG5ldyBMKGwpLFQsSSksbmV3IFZyLmEobmV3IFlyLmEobCksdiksbmV3IFV0KG5ldyB4dChsLHtsb2NhbGU6ZH0pKSxuZXcgTyhuZXcgRShsKSksbmV3IEYoZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgQi5hLHI9T2JqZWN0KGkuZ2V0U2NyaXB0TG9hZGVyKSgpLG89bmV3IFUuYShlKSxhPW5ldyB4LmEobyxuZXcgXy5hKG5ldyB5LmEoZSkpLG5ldyBHLmEobmV3IFYuYShlKSkpLHM9T2JqZWN0KHEuY3JlYXRlRm9ybVBvc3RlcikoKSxjPW5ldyBZLmEobmV3IEguYShlKSksdT1uZXcgdXQoZSksZD1uZXcgcHQodSk7cmV0dXJuIG4ucmVnaXN0ZXIoXCJnb29nbGVwYXlhZHllbnYyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB6dCh0LGQsT2JqZWN0KG50LmEpKHQsbmV3IHJ0LmEpLHMpfSkpLG4ucmVnaXN0ZXIoXCJhbWF6b25cIiwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEV0KHQsYyxkLHUsbmV3IFcocikpfSkpLG4ucmVnaXN0ZXIoXCJhbWF6b25wYXlcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGt0KHQsYyxkLE9iamVjdChLLmEpKCkpfSkpLG4ucmVnaXN0ZXIoXCJicmFpbnRyZWV2aXNhY2hlY2tvdXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IE10KHQsYSxjLG5ldyBGKG4pLGQsWChyLGUpLG5ldyB0dChyKSl9KSksbi5yZWdpc3RlcihcImNoYXNlcGF5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBUdCh0LGMsZCxuZXcgZXQociksZSxzKX0pKSxuLnJlZ2lzdGVyKFwic3F1YXJldjJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEZ0KHQsbmV3IHB0KHUpKX0pKSxuLnJlZ2lzdGVyKFwibWFzdGVycGFzc1wiLChmdW5jdGlvbigpe3JldHVybiBuZXcgTnQodCxjLGQsbmV3IGN0LmEocikpfSkpLG4ucmVnaXN0ZXIoXCJnb29nbGVwYXlhdXRob3JpemVuZXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHp0KHQsZCxPYmplY3QobnQuYSkodCxuZXcgaXQuYSkscyl9KSksbi5yZWdpc3RlcihcImdvb2dsZXBheWJyYWludHJlZVwiLChmdW5jdGlvbigpe3JldHVybiBuZXcgenQodCxkLE9iamVjdChudC5hKSh0LG5ldyBvdC5hKG5ldyBaLmEobmV3IEouYShyKSkpKSxzKX0pKSxuLnJlZ2lzdGVyKFwiZ29vZ2xlcGF5Y2hlY2tvdXRjb21cIiwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHp0KHQsZCxPYmplY3QobnQuYSkodCxuZXcgYXQuYShlKSkscyl9KSksbi5yZWdpc3RlcihcImdvb2dsZXBheXN0cmlwZVwiLChmdW5jdGlvbigpe3JldHVybiBuZXcgenQodCxkLE9iamVjdChudC5hKSh0LG5ldyBzdC5hKSxzKX0pKSxuLnJlZ2lzdGVyKFwiZGVmYXVsdFwiLChmdW5jdGlvbigpe3JldHVybiBuZXcgUnQodCxuZXcgeihuZXcgTChlKSxhLG5ldyBfdChTdChyKSxuZXcgd3QoZSkpKSl9KSksbn0obSxsKSksbmV3IGMsbmV3IGoobmV3IGsobCkpLG5ldyB4cihuZXcgR3IoZyxsKSksQSxuZXcgWS5hKG5ldyBILmEobCkpLG5ldyBRdChxcihtLGcsbCxTLGQpLEEsSSksbmV3IFdyKG5ldyBLcihsLHtsb2NhbGU6ZH0pKSxuZXcgWnIoZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgQi5hLHI9bmV3IFUuYShlKSxvPW5ldyBZci5hKGUpLGE9bmV3IFZyLmEobyxyKTtyZXR1cm4gbi5yZWdpc3RlcihcImFtYXpvblwiLChmdW5jdGlvbigpe3JldHVybiBuZXcgUXIodCxhLG5ldyBZLmEobmV3IEguYShlKSksbmV3IHB0KG5ldyB1dChlKSksbmV3IFcoT2JqZWN0KGkuZ2V0U2NyaXB0TG9hZGVyKSgpKSl9KSksbi5yZWdpc3RlcihcImFtYXpvbnBheVwiLChmdW5jdGlvbigpe3JldHVybiBuZXcgWHIodCxhLG5ldyBZLmEobmV3IEguYShlKSksT2JqZWN0KEsuYSkoKSxuZXcgWnIobikpfSkpLG4ucmVnaXN0ZXIoXCJkZWZhdWx0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyAkcih0LGEpfSkpLG59KG0sbCkpLG5ldyBuaShuZXcgcmkobCkpLEksbmV3IE9lKG5ldyBTZShsKSksUCxNKX12YXIgdmk9bigxNDYpLENpPW4oMTQ3KSxPaT1uKDE0OCksU2k9bigxNTApLHdpPW4ubihTaSksSWk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fbG9nZ2VyPWU7dmFyIG49dGhpcy5fdHJhbnNmb3JtQ29uZmlnKHQpLHI9bi5sb2NhbGUsaT1uLmxvY2FsZXMsbz1uLnRyYW5zbGF0aW9uczt0aGlzLl9sb2NhbGU9cix0aGlzLl9sb2NhbGVzPWksdGhpcy5fdHJhbnNsYXRpb25zPW8sdGhpcy5fZm9ybWF0dGVycz17fX1yZXR1cm4gdC5wcm90b3R5cGUubWFwS2V5cz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO09iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciByPVwib3B0aW1pemVkX2NoZWNrb3V0LlwiK3Rbbl07ZS5fdHJhbnNsYXRpb25zW1wib3B0aW1pemVkX2NoZWNrb3V0LlwiK25dPWUuX3RyYW5zbGF0aW9uc1tyXX0pKX0sdC5wcm90b3R5cGUuZ2V0TG9jYWxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hhc1RyYW5zbGF0aW9ucygpP3RoaXMuX2xvY2FsZTpcImVuXCJ9LHQucHJvdG90eXBlLnRyYW5zbGF0ZT1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPXt9KTt2YXIgbj1cIm9wdGltaXplZF9jaGVja291dC5cIit0O2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0aGlzLl90cmFuc2xhdGlvbnNbbl0pcmV0dXJuIHRoaXMuX2xvZ2dlci53YXJuKCdUcmFuc2xhdGlvbiBrZXkgXCInK24rJ1wiIGlzIG1pc3NpbmcnKSxuO2lmKCF0aGlzLl9mb3JtYXR0ZXJzW25dKXt2YXIgcj1uZXcgd2kuYSh0aGlzLl9sb2NhbGVzW25dKTt0aGlzLl9mb3JtYXR0ZXJzW25dPXIuY29tcGlsZSh0aGlzLl90cmFuc2xhdGlvbnNbbl18fFwiXCIpfXJldHVybiB0aGlzLl9mb3JtYXR0ZXJzW25dKHRoaXMuX3RyYW5zZm9ybURhdGEoZSkpfSx0LnByb3RvdHlwZS5fdHJhbnNmb3JtQ29uZmlnPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PXt9KTt2YXIgZT17ZGVmYXVsdFRyYW5zbGF0aW9uczp7fSx0cmFuc2xhdGlvbnM6e30sbG9jYWxlczp7fSxsb2NhbGU6dC5sb2NhbGV8fFwiZW5cIn0sbj10LmxvY2FsZXN8fHt9LHI9dGhpcy5fZmxhdHRlbk9iamVjdCh0LnRyYW5zbGF0aW9uc3x8e30pLGk9dGhpcy5fZmxhdHRlbk9iamVjdCh0LmRlZmF1bHRUcmFuc2xhdGlvbnN8fHt9KTtyZXR1cm4gT2JqZWN0KEJ0LnVuaW9uKShPYmplY3Qua2V5cyhpKSxPYmplY3Qua2V5cyhyKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7ciYmclt0XT8oZS50cmFuc2xhdGlvbnNbdF09clt0XSxlLmxvY2FsZXNbdF09blt0XXx8ZS5sb2NhbGUpOihlLnRyYW5zbGF0aW9uc1t0XT1pW3RdLGUubG9jYWxlc1t0XT1cImVuXCIpfSkpLGV9LHQucHJvdG90eXBlLl9mbGF0dGVuT2JqZWN0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzO3ZvaWQgMD09PWUmJihlPXt9KSx2b2lkIDA9PT1uJiYobj1cIlwiKTt0cnl7T2JqZWN0LmtleXModCkuZm9yRWFjaCgoZnVuY3Rpb24oaSl7dmFyIG89dFtpXSxhPW4/bitcIi5cIitpOmk7aWYoT2JqZWN0KEJ0LmlzT2JqZWN0KShvKSlyZXR1cm4gci5fZmxhdHRlbk9iamVjdChvLGUsYSk7ZVthXT1vfSkpfWNhdGNoKHQpe3RoaXMuX2xvZ2dlci53YXJuKFwiVW5hYmxlIHRvIHBhcnNlIG9iamVjdDogXCIrdCl9cmV0dXJuIGV9LHQucHJvdG90eXBlLl90cmFuc2Zvcm1EYXRhPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Qua2V5cyh0KS5yZWR1Y2UoKGZ1bmN0aW9uKGUsbil7dmFyIHI9dFtuXTtyZXR1cm4gZVtuXT1udWxsPT1yP1wiXCI6cixlfSkse30pfSx0LnByb3RvdHlwZS5faGFzVHJhbnNsYXRpb25zPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gT2JqZWN0LmtleXModGhpcy5fbG9jYWxlcykubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gdC5fbG9jYWxlc1tlXX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNwbGl0KFwiLVwiKVswXT09PXQuX2xvY2FsZS5zcGxpdChcIi1cIilbMF19KSkubGVuZ3RoPjB9LHQ9T2JqZWN0KGQuX19kZWNvcmF0ZSkoW0R0LmFdLHQpfSgpO2Z1bmN0aW9uIEFpKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD17fSksbmV3IElpKHQsZigpKX12YXIgRWk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe2lmKCF0KXRocm93IG5ldyBFcnJvcihcIkN1cnJlbmN5IHNldHRpbmdzIG1pc3NpbmdcIik7dmFyIGU9dC5kZWNpbWFsUGxhY2VzLG49dC5zeW1ib2xMb2NhdGlvbixyPXQuc3ltYm9sLGk9dC50aG91c2FuZHNTZXBhcmF0b3Isbz10LmRlY2ltYWxTZXBhcmF0b3I7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIG58fFwic3RyaW5nXCIhPXR5cGVvZiByfHxcInN0cmluZ1wiIT10eXBlb2YgaXx8XCJzdHJpbmdcIiE9dHlwZW9mIG98fFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IG5ldyBJdC5hKFwiSW52YWxpZCBjdXJyZW5jeSBzZXR0aW5ncyBwcm92aWRlZFwiKTt0aGlzLl9kZWNpbWFsUGxhY2VzPXBhcnNlSW50KGUsMTApLHRoaXMuX3N5bWJvbExvY2F0aW9uPW4sdGhpcy5fc3ltYm9sPXIsdGhpcy5fdGhvdXNhbmRzU2VwYXJhdG9yPWksdGhpcy5fZGVjaW1hbFNlcGFyYXRvcj1vfXJldHVybiB0LnByb3RvdHlwZS5mb3JtYXQ9ZnVuY3Rpb24odCl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IEl0LmEoXCJJbnZhbGlkIGFtb3VudCBwcm92aWRlZFwiKTt2YXIgZT10aGlzLl9mb3JtYXROdW1iZXIodCksbj10aGlzLl9mb3JtYXRDdXJyZW5jeShlKTtyZXR1cm4gdDwwP1wiLVwiK246bn0sdC5wcm90b3R5cGUuX2Zvcm1hdE51bWJlcj1mdW5jdGlvbih0KXt2YXIgZT1NYXRoLmFicyh0KSxuPXRoaXMuX3RvRml4ZWQoZSx0aGlzLl9kZWNpbWFsUGxhY2VzKS5zcGxpdChcIi5cIikscj1uWzBdLGk9blsxXSxvPXZvaWQgMD09PWk/XCJcIjppLGE9ci5yZXBsYWNlKC9cXEIoPz0oXFxkezN9KSsoPyFcXGQpKS9nLHRoaXMuX3Rob3VzYW5kc1NlcGFyYXRvcik7cmV0dXJuIHRoaXMuX2RlY2ltYWxQbGFjZXM8MT9hOlthLG9dLmpvaW4odGhpcy5fZGVjaW1hbFNlcGFyYXRvcil9LHQucHJvdG90eXBlLl9mb3JtYXRDdXJyZW5jeT1mdW5jdGlvbih0KXtyZXR1cm5cImxlZnRcIj09PXRoaXMuX3N5bWJvbExvY2F0aW9uLnRvTG93ZXJDYXNlKCk/XCJcIit0aGlzLl9zeW1ib2wrdDpcIlwiK3QrdGhpcy5fc3ltYm9sfSx0LnByb3RvdHlwZS5fdG9GaXhlZD1mdW5jdGlvbih0LGUpe3JldHVybigrKE1hdGgucm91bmQoKyh0K1wiZVwiK2UpKStcImVcIistZSkpLnRvRml4ZWQoZSl9LHR9KCksUGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3N0b3JlQ29uZmlnPXQsdGhpcy5fY3VzdG9tZXJGb3JtYXR0ZXI9bmV3IEVpKHRoaXMuX3N0b3JlQ29uZmlnLnNob3BwZXJDdXJyZW5jeSksdGhpcy5fc3RvcmVGb3JtYXR0ZXI9bmV3IEVpKHRoaXMuX3N0b3JlQ29uZmlnLmN1cnJlbmN5KX1yZXR1cm4gdC5wcm90b3R5cGUudG9DdXN0b21lckN1cnJlbmN5PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3N0b3JlQ29uZmlnLnNob3BwZXJDdXJyZW5jeS5leGNoYW5nZVJhdGU7cmV0dXJuIHRoaXMuX2N1c3RvbWVyRm9ybWF0dGVyLmZvcm1hdCh0KmUpfSx0LnByb3RvdHlwZS50b1N0b3JlQ3VycmVuY3k9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3N0b3JlRm9ybWF0dGVyLmZvcm1hdCh0KX0sdD1PYmplY3QoZC5fX2RlY29yYXRlKShbRHQuYV0sdCl9KCk7ZnVuY3Rpb24gamkodCl7cmV0dXJuIG5ldyBQaSh0KX12YXIga2ksTWk9big2NiksVGk9bi5uKE1pKTshZnVuY3Rpb24odCl7dFt0LkNVU1RPTUVSPTFdPVwiQ1VTVE9NRVJcIix0W3QuU0hJUFBJTkc9Ml09XCJTSElQUElOR1wiLHRbdC5CSUxMSU5HPTNdPVwiQklMTElOR1wiLHRbdC5QQVlNRU5UPTRdPVwiUEFZTUVOVFwifShraXx8KGtpPXt9KSk7dmFyIFJpPXtjdXN0b21lcjpraS5DVVNUT01FUixzaGlwcGluZzpraS5TSElQUElORyxiaWxsaW5nOmtpLkJJTExJTkcscGF5bWVudDpraS5QQVlNRU5UfSxEaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scil7dmFyIGk9KHZvaWQgMD09PXI/e306cikuY2hlY2tvdXRTdGVwcztpZih0aGlzLmNoZWNrb3V0U2VydmljZT10LHRoaXMuc3RvcmFnZT1lLHRoaXMuYW5hbHl0aWNzPW4sdGhpcy5fY2hlY2tvdXRTdGFydGVkPSExLHRoaXMuX2NvbXBsZXRlZFN0ZXBzPXt9LHRoaXMuX3ZpZXdlZFN0ZXBzPXt9LHRoaXMuX2FuYWx5dGljU3RlcE9yZGVyPVtcImN1c3RvbWVyXCIsXCJzaGlwcGluZ1wiLFwiYmlsbGluZ1wiLFwicGF5bWVudFwiXSx2b2lkIDAhPT1pKXtpZihpLnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiEodCBpbiBSaSl9KSkpdGhyb3cgbmV3IEl0LmEoXCJJbnZhbGlkIGNoZWNrb3V0IHN0ZXBzIHByb3ZpZGVkLiBWYWxpZCB2YWx1ZXMgYXJlOiBcIitPYmplY3QoQnQua2V5cykoUmkpLmpvaW4oXCIsIFwiKStcIi5cIik7dGhpcy5fYW5hbHl0aWNTdGVwT3JkZXI9aX19cmV0dXJuIHQucHJvdG90eXBlLnRyYWNrQ2hlY2tvdXRTdGFydGVkPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2NoZWNrb3V0U3RhcnRlZCl7dmFyIHQ9dGhpcy5nZXRDaGVja291dCgpO2lmKHQpe3ZhciBlPXQuY291cG9ucyxuPXQuZ3JhbmRUb3RhbCxyPXQuc2hpcHBpbmdDb3N0VG90YWwsaT10LnRheFRvdGFsLG89dC5jYXJ0LGE9by5saW5lSXRlbXMscz1vLmRpc2NvdW50QW1vdW50LGM9by5pZCx1PXRoaXMuc2F2ZUV4dHJhSXRlbXNEYXRhKGMsYSk7dGhpcy5hbmFseXRpY3MudHJhY2soXCJDaGVja291dCBTdGFydGVkXCIsdGhpcy5nZXRUcmFja2luZ1BheWxvYWQoe3JldmVudWU6bixzaGlwcGluZzpyLHRheDppLGRpc2NvdW50OnMsY291cG9uczplLGxpbmVJdGVtczphLGV4dHJhSXRlbXNEYXRhOnV9KSksdGhpcy5fY2hlY2tvdXRTdGFydGVkPSEwfX19LHQucHJvdG90eXBlLnRyYWNrT3JkZXJDb21wbGV0ZT1mdW5jdGlvbigpe3ZhciB0LGU9dGhpcyxuPXRoaXMuZ2V0T3JkZXIoKTtpZihuKXt2YXIgcj1uLmlzQ29tcGxldGUsaT1uLm9yZGVySWQsbz1uLm9yZGVyQW1vdW50LGE9bi5zaGlwcGluZ0Nvc3RUb3RhbCxzPW4udGF4VG90YWwsYz1uLmRpc2NvdW50QW1vdW50LHU9bi5jb3Vwb25zLGQ9bi5saW5lSXRlbXMscD1uLmNhcnRJZDtpZihyKXt2YXIgaD10aGlzLnJlYWRFeHRyYUl0ZW1zRGF0YShwKTtpZihudWxsIT09aCl7dmFyIGw9bnVsbD09PSh0PXRoaXMuY2hlY2tvdXRTZXJ2aWNlLmdldFN0YXRlKCkuZGF0YS5nZXRDb25maWcoKSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuY2hlY2tvdXRTZXR0aW5ncy5mZWF0dXJlc1tcIkRBVEEtNjg5MS5taXNzaW5nX29yZGVyc193aXRoaW5fR0FcIl0sbT10aGlzLmdldFRyYWNraW5nUGF5bG9hZCh7b3JkZXJJZDppLHJldmVudWU6byxzaGlwcGluZzphLHRheDpzLGRpc2NvdW50OmMsY291cG9uczp1LGV4dHJhSXRlbXNEYXRhOmgsbGluZUl0ZW1zOmR9KTtpZihsJiZ0aGlzLmFuYWx5dGljcy5oYXNQYXlsb2FkTGltaXQobSkpcmV0dXJuIHRoaXMuYW5hbHl0aWNzLmhpdChcInRyYW5zYWN0aW9uXCIse1wiJnRpXCI6bS5vcmRlcklkLFwiJnRhXCI6bS5hZmZpbGlhdGlvbixcIiZ0clwiOm0ucmV2ZW51ZSxcIiZ0c1wiOm0uc2hpcHBpbmcsXCImdHRcIjptLnRheCxcIiZ0Y2NcIjptLmNvdXBvbixcIiZjdVwiOm0uY3VycmVuY3l9KSxtLnByb2R1Y3RzLm1hcCgoZnVuY3Rpb24odCl7ZS5hbmFseXRpY3MuaGl0KFwiaXRlbVwiLHtcIiZ0aVwiOm0ub3JkZXJJZCxcIiZpblwiOnQubmFtZSxcIiZpY1wiOnQuc2t1LFwiJml2XCI6XCJcIit0LmNhdGVnb3J5LFwiJmlwXCI6dC5wcmljZSxcIiZpcVwiOnQucXVhbnRpdHl9KX0pKSx0aGlzLmNsZWFyRXh0cmFJdGVtRGF0YShwKTt0aGlzLmFuYWx5dGljcy50cmFjayhcIk9yZGVyIENvbXBsZXRlZFwiLG0pLHRoaXMuY2xlYXJFeHRyYUl0ZW1EYXRhKHApfX19fSx0LnByb3RvdHlwZS50cmFja1N0ZXBWaWV3ZWQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRJZEZyb21TdGVwKHQpO2UmJiF0aGlzLmhhc1N0ZXBWaWV3ZWQoZSkmJih0aGlzLnRyYWNrVmlld2VkKGUpLHRoaXMuYmFja2ZpbGwoZSkpfSx0LnByb3RvdHlwZS50cmFja1N0ZXBDb21wbGV0ZWQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRJZEZyb21TdGVwKHQpO2UmJiF0aGlzLmhhc1N0ZXBDb21wbGV0ZWQoZSkmJih0aGlzLmJhY2tmaWxsKGUpLHRoaXMudHJhY2tDb21wbGV0ZWQoZSkpfSx0LnByb3RvdHlwZS5iYWNrZmlsbD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPXRoaXMuX2FuYWx5dGljU3RlcE9yZGVyO2U8bi5sZW5ndGg7ZSsrKXt2YXIgcj1uW2VdLGk9dGhpcy5nZXRJZEZyb21TdGVwKHIpO2lmKCFpKWJyZWFrO2lmKHRoaXMuaGFzU3RlcFZpZXdlZChpKXx8dGhpcy50cmFja1ZpZXdlZChpKSxpPT09dClicmVhazt0aGlzLmhhc1N0ZXBDb21wbGV0ZWQoaSl8fHRoaXMudHJhY2tDb21wbGV0ZWQoaSl9fSx0LnByb3RvdHlwZS50cmFja0NvbXBsZXRlZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldFNlbGVjdGVkU2hpcHBpbmdPcHRpb24oKSxuPSh0aGlzLmdldFNob3BwZXJDdXJyZW5jeSgpfHx7fSkuY29kZSxyPXZvaWQgMD09PW4/XCJcIjpuLGk9dGhpcy5nZXRQYXltZW50TWV0aG9kTmFtZSgpLG89e3N0ZXA6dCxjdXJyZW5jeTpyfTtlJiYoby5zaGlwcGluZ01ldGhvZD1lLmRlc2NyaXB0aW9uKSxpJiYoby5wYXltZW50TWV0aG9kPWkpLG8uc2hpcHBpbmdNZXRob2R8fG8ucGF5bWVudE1ldGhvZHx8KG8uc2hpcHBpbmdNZXRob2Q9XCIgXCIpLHRoaXMuYW5hbHl0aWNzLnRyYWNrKFwiQ2hlY2tvdXQgU3RlcCBDb21wbGV0ZWRcIixvKTt2YXIgYT1lP2UuaWQ6XCJcIixzPXQ9PT1raS5TSElQUElORz90K1wiLVwiK2E6dDt0aGlzLl9jb21wbGV0ZWRTdGVwc1tzXT0hMH0sdC5wcm90b3R5cGUuZ2V0VHJhY2tpbmdQYXlsb2FkPWZ1bmN0aW9uKHQpe3ZhciBlPXQub3JkZXJJZCxuPXQucmV2ZW51ZSxyPXQuc2hpcHBpbmcsaT10LnRheCxvPXQuZGlzY291bnQsYT10LmNvdXBvbnMscz10LmV4dHJhSXRlbXNEYXRhLGM9dC5saW5lSXRlbXMsdT0odGhpcy5nZXRTaG9wcGVyQ3VycmVuY3koKXx8e30pLmNvZGUsZD12b2lkIDA9PT11P1wiXCI6dSxwPSh0aGlzLmdldFN0b3JlUHJvZmlsZSgpfHx7fSkuc3RvcmVOYW1lO3JldHVybntvcmRlcklkOmUsYWZmaWxpYXRpb246dm9pZCAwPT09cD9cIlwiOnAscmV2ZW51ZTp0aGlzLnRvU2hvcHBlckN1cnJlbmN5KG4pLHNoaXBwaW5nOnRoaXMudG9TaG9wcGVyQ3VycmVuY3kociksdGF4OnRoaXMudG9TaG9wcGVyQ3VycmVuY3koaSksZGlzY291bnQ6dGhpcy50b1Nob3BwZXJDdXJyZW5jeShvKSxjb3Vwb246KGF8fFtdKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvZGUudG9VcHBlckNhc2UoKX0pKS5qb2luKFwiLFwiKSxjdXJyZW5jeTpkLHByb2R1Y3RzOnRoaXMuZ2V0UHJvZHVjdHMocyxjKX19LHQucHJvdG90eXBlLmhhc1N0ZXBDb21wbGV0ZWQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRTZWxlY3RlZFNoaXBwaW5nT3B0aW9uKCksbj1lP2UuaWQ6XCJcIjtyZXR1cm4gdGhpcy5fY29tcGxldGVkU3RlcHMuaGFzT3duUHJvcGVydHkodCl8fHQ9PT1raS5TSElQUElORyYmdGhpcy5fY29tcGxldGVkU3RlcHMuaGFzT3duUHJvcGVydHkodCtcIi1cIituKX0sdC5wcm90b3R5cGUuaGFzU3RlcFZpZXdlZD1mdW5jdGlvbih0KXtyZXR1cm4hIXRoaXMuX3ZpZXdlZFN0ZXBzW3RdfSx0LnByb3RvdHlwZS5nZXRJZEZyb21TdGVwPWZ1bmN0aW9uKHQpe3ZhciBlPXQuc3BsaXQoXCIuXCIpO3JldHVybiBSaVtlWzBdXXx8bnVsbH0sdC5wcm90b3R5cGUudHJhY2tWaWV3ZWQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRTaG9wcGVyQ3VycmVuY3koKTt0aGlzLmFuYWx5dGljcy50cmFjayhcIkNoZWNrb3V0IFN0ZXAgVmlld2VkXCIse3N0ZXA6dCxjdXJyZW5jeTplP2UuY29kZTpcIlwifSksdGhpcy5fdmlld2VkU3RlcHNbdF09ITB9LHQucHJvdG90eXBlLmdldE9yZGVyPWZ1bmN0aW9uKCl7cmV0dXJuKDAsdGhpcy5jaGVja291dFNlcnZpY2UuZ2V0U3RhdGUoKS5kYXRhLmdldE9yZGVyKSgpfSx0LnByb3RvdHlwZS5nZXRDaGVja291dD1mdW5jdGlvbigpe3JldHVybigwLHRoaXMuY2hlY2tvdXRTZXJ2aWNlLmdldFN0YXRlKCkuZGF0YS5nZXRDaGVja291dCkoKX0sdC5wcm90b3R5cGUuZ2V0U2hvcHBlckN1cnJlbmN5PWZ1bmN0aW9uKCl7dmFyIHQ9KDAsdGhpcy5jaGVja291dFNlcnZpY2UuZ2V0U3RhdGUoKS5kYXRhLmdldENvbmZpZykoKTtyZXR1cm4gdCYmdC5zaG9wcGVyQ3VycmVuY3l9LHQucHJvdG90eXBlLmdldFN0b3JlUHJvZmlsZT1mdW5jdGlvbigpe3ZhciB0PSgwLHRoaXMuY2hlY2tvdXRTZXJ2aWNlLmdldFN0YXRlKCkuZGF0YS5nZXRDb25maWcpKCk7cmV0dXJuIHQmJnQuc3RvcmVQcm9maWxlfSx0LnByb3RvdHlwZS50b1Nob3BwZXJDdXJyZW5jeT1mdW5jdGlvbih0KXt2YXIgZT0odGhpcy5nZXRTaG9wcGVyQ3VycmVuY3koKXx8e30pLmV4Y2hhbmdlUmF0ZSxuPXZvaWQgMD09PWU/MTplO3JldHVybiBNYXRoLnJvdW5kKHQqbioxMDApLzEwMH0sdC5wcm90b3R5cGUuc2F2ZUV4dHJhSXRlbXNEYXRhPWZ1bmN0aW9uKHQsZSl7dmFyIG49T2JqZWN0KGQuX19zcHJlYWRBcnJheXMpKGUucGh5c2ljYWxJdGVtcyxlLmRpZ2l0YWxJdGVtcykucmVkdWNlKChmdW5jdGlvbih0LGUpe3JldHVybiB0W2UucHJvZHVjdElkXT17YnJhbmQ6ZS5icmFuZD9lLmJyYW5kOlwiXCIsY2F0ZWdvcnk6ZS5jYXRlZ29yeU5hbWVzP2UuY2F0ZWdvcnlOYW1lcy5qb2luKFwiLCBcIik6XCJcIn0sdH0pLHt9KTt0cnl7cmV0dXJuIHRoaXMuc3RvcmFnZS5zZXRJdGVtKHRoaXMuZ2V0U3RvcmFnZUtleSh0KSxKU09OLnN0cmluZ2lmeShuKSksbn1jYXRjaCh0KXtyZXR1cm57fX19LHQucHJvdG90eXBlLmdldFN0b3JhZ2VLZXk9ZnVuY3Rpb24odCl7cmV0dXJuIHQ/XCJPUkRFUl9JVEVNU19cIit0OlwiXCJ9LHQucHJvdG90eXBlLnJlYWRFeHRyYUl0ZW1zRGF0YT1mdW5jdGlvbih0KXt0cnl7dmFyIGU9dGhpcy5zdG9yYWdlLmdldEl0ZW0odGhpcy5nZXRTdG9yYWdlS2V5KHQpKTtyZXR1cm4gZT9KU09OLnBhcnNlKGUpOm51bGx9Y2F0Y2godCl7cmV0dXJuIG51bGx9fSx0LnByb3RvdHlwZS5jbGVhckV4dHJhSXRlbURhdGE9ZnVuY3Rpb24odCl7dHJ5e3RoaXMuc3RvcmFnZS5yZW1vdmVJdGVtKHRoaXMuZ2V0U3RvcmFnZUtleSh0KSl9Y2F0Y2godCl7fX0sdC5wcm90b3R5cGUuZ2V0U2VsZWN0ZWRTaGlwcGluZ09wdGlvbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY2hlY2tvdXRTZXJ2aWNlLmdldFN0YXRlKCkuZGF0YS5nZXRTZWxlY3RlZFNoaXBwaW5nT3B0aW9uKCk7cmV0dXJuIHQmJnQuaWQmJnQuZGVzY3JpcHRpb24/dDpudWxsfSx0LnByb3RvdHlwZS5nZXRQYXltZW50TWV0aG9kTmFtZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY2hlY2tvdXRTZXJ2aWNlLmdldFN0YXRlKCkuZGF0YS5nZXRTZWxlY3RlZFBheW1lbnRNZXRob2QoKTtyZXR1cm4gdCYmdC5jb25maWcmJnQuY29uZmlnLmRpc3BsYXlOYW1lfHxcIlwifSx0LnByb3RvdHlwZS5nZXRQcm9kdWN0cz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj0oZS5jdXN0b21JdGVtc3x8W10pLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJue3Byb2R1Y3RfaWQ6dC5pZCxza3U6dC5za3UscHJpY2U6dC5saXN0UHJpY2UscXVhbnRpdHk6dC5xdWFudGl0eSxuYW1lOnQubmFtZX19KSksaT1lLmdpZnRDZXJ0aWZpY2F0ZXMubWFwKChmdW5jdGlvbih0KXtyZXR1cm57cHJvZHVjdF9pZDp0LmlkLHByaWNlOm4udG9TaG9wcGVyQ3VycmVuY3kodC5hbW91bnQpLG5hbWU6dC5uYW1lLHF1YW50aXR5OjF9fSkpLG89T2JqZWN0KGQuX19zcHJlYWRBcnJheXMpKGUucGh5c2ljYWxJdGVtcyxlLmRpZ2l0YWxJdGVtcykubWFwKChmdW5jdGlvbihlKXt2YXIgbjtyZXR1cm4gZS5vcHRpb25zJiZlLm9wdGlvbnMubGVuZ3RoJiYobj1lLm9wdGlvbnMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lK1wiOlwiK3QudmFsdWV9KSkpLnNvcnQoKSx7cHJvZHVjdF9pZDplLnByb2R1Y3RJZCxza3U6ZS5za3UscHJpY2U6ZS5zYWxlUHJpY2UsaW1hZ2VfdXJsOmUuaW1hZ2VVcmwsbmFtZTplLm5hbWUscXVhbnRpdHk6ZS5xdWFudGl0eSxicmFuZDp0W2UucHJvZHVjdElkXT90W2UucHJvZHVjdElkXS5icmFuZDpcIlwiLGNhdGVnb3J5OnRbZS5wcm9kdWN0SWRdP3RbZS5wcm9kdWN0SWRdLmNhdGVnb3J5OlwiXCIsdmFyaWFudDoobnx8W10pLmpvaW4oXCIsIFwiKX19KSk7cmV0dXJuIE9iamVjdChkLl9fc3ByZWFkQXJyYXlzKShyLG8saSl9LHR9KCk7dmFyIHppPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUudHJhY2tDaGVja291dFN0YXJ0ZWQ9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLnRyYWNrT3JkZXJDb21wbGV0ZT1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUudHJhY2tTdGVwVmlld2VkPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS50cmFja1N0ZXBDb21wbGV0ZWQ9ZnVuY3Rpb24oKXt9LHR9KCk7ZnVuY3Rpb24gTGkodCxlKXt2YXIgbj10LmdldFN0YXRlKCkuZGF0YS5nZXRDb25maWcoKTtpZighbil0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nQ2hlY2tvdXRDb25maWcpO3JldHVybiBuLmNoZWNrb3V0U2V0dGluZ3MuaXNBbmFseXRpY3NFbmFibGVkJiZmdW5jdGlvbih0KXtyZXR1cm4gQm9vbGVhbih0LmFuYWx5dGljcyl9KHdpbmRvdyk/bmV3IERpKHQsVGkuYSx3aW5kb3cuYW5hbHl0aWNzLGUpOm5ldyB6aX1uLmQoZSxcImNyZWF0ZVRpbWVvdXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gci5jcmVhdGVUaW1lb3V0fSkpLG4uZChlLFwiY3JlYXRlQ2hlY2tvdXRTZXJ2aWNlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGJpfSkpLG4uZChlLFwiY3JlYXRlQ2hlY2tvdXRCdXR0b25Jbml0aWFsaXplclwiLChmdW5jdGlvbigpe3JldHVybiB2aS5hfSkpLG4uZChlLFwiZW1iZWRDaGVja291dFwiLChmdW5jdGlvbigpe3JldHVybiBDaS5hfSkpLG4uZChlLFwiY3JlYXRlRW1iZWRkZWRDaGVja291dE1lc3NlbmdlclwiLChmdW5jdGlvbigpe3JldHVybiBPaS5hfSkpLG4uZChlLFwiY3JlYXRlTGFuZ3VhZ2VTZXJ2aWNlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEFpfSkpLG4uZChlLFwiY3JlYXRlQ3VycmVuY3lTZXJ2aWNlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGppfSkpLG4uZChlLFwiY3JlYXRlU3RlcFRyYWNrZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gTGl9KSl9LCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHIsaSxvLGEscz1uKDApLGM9big1MiksdT1uKDQ2KSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9zY3JpcHRMb2FkZXI9dCx0aGlzLl93aW5kb3c9d2luZG93fXJldHVybiB0LnByb3RvdHlwZS5sb2FkUGF5cGFsQ29tbWVyY2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0KHMuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChzLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLl92YWxpZGF0ZVBhcmFtcyh0LGUpLHRoaXMuX3dpbmRvdy5wYXlwYWxMb2FkU2NyaXB0P1szLDJdOihcImh0dHBzOi8vdW5wa2cuY29tL0BwYXlwYWwvcGF5cGFsLWpzQDEuMC4yL2Rpc3QvcGF5cGFsLmJyb3dzZXIubWluLmpzXCIsWzQsdGhpcy5fc2NyaXB0TG9hZGVyLmxvYWRTY3JpcHQoXCJodHRwczovL3VucGtnLmNvbS9AcGF5cGFsL3BheXBhbC1qc0AxLjAuMi9kaXN0L3BheXBhbC5icm93c2VyLm1pbi5qc1wiLHthc3luYzohMCxhdHRyaWJ1dGVzOnt9fSldKTtjYXNlIDE6aWYobi5zZW50KCksIXRoaXMuX3dpbmRvdy5wYXlwYWxMb2FkU2NyaXB0KXRocm93IG5ldyB1LmE7bi5sYWJlbD0yO2Nhc2UgMjpyZXR1cm5bNCx0aGlzLl93aW5kb3cucGF5cGFsTG9hZFNjcmlwdCh0KV07Y2FzZSAzOmlmKG4uc2VudCgpLCF0aGlzLl93aW5kb3cucGF5cGFsKXRocm93IG5ldyB1LmE7cmV0dXJuWzIsdGhpcy5fd2luZG93LnBheXBhbF19fSkpfSkpfSx0LnByb3RvdHlwZS5fdmFsaWRhdGVQYXJhbXM9ZnVuY3Rpb24odCxlKXt2YXIgbjtpZih0P3RbXCJjbGllbnQtaWRcIl0/dFtcIm1lcmNoYW50LWlkXCJdfHxlfHwobj1cIm1lcmNoYW50LWlkXCIpOm49XCJjbGllbnQtaWRcIjpuPVwib3B0aW9uc1wiLG4pdGhyb3cgbmV3IGMuYSgnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBcIicrbisnXCIgYXJndW1lbnQgaW4gUGF5UGFsIHNjcmlwdCBpcyBub3QgcHJvdmlkZWQuJyl9LHR9KCkscD1uKDE5MSksaD1uKDIpLGw9bigxMTIpLG09bigxODApLGY9bigxMyk7IWZ1bmN0aW9uKHQpe3QucGF5cGFsPVwicGF5cGFsXCIsdC5jaGVja291dD1cImNoZWNrb3V0XCIsdC5idXlub3c9XCJidXlub3dcIix0LnBheT1cInBheVwiLHQuaW5zdGFsbG1lbnQ9XCJpbnN0YWxsbWVudFwifShyfHwocj17fSkpLGZ1bmN0aW9uKHQpe3QudmVydGljYWw9XCJ2ZXJ0aWNhbFwiLHQuaG9yaXpvbnRhbD1cImhvcml6b250YWxcIn0oaXx8KGk9e30pKSxmdW5jdGlvbih0KXt0LmdvbGQ9XCJnb2xkXCIsdC5ibHVlPVwiYmx1ZVwiLHQuc2lsdmVyPVwic2lsdmVyXCIsdC5ibGFjaz1cImJsYWNrXCIsdC53aGl0ZT1cIndoaXRlXCJ9KG98fChvPXt9KSksZnVuY3Rpb24odCl7dC5waWxsPVwicGlsbFwiLHQucmVjdD1cInJlY3RcIn0oYXx8KGE9e30pKTt2YXIgXz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLl9wYXlwYWxTY3JpcHRMb2FkZXI9dCx0aGlzLl9wYXlwYWxDb21tZXJjZVJlcXVlc3RTZW5kZXI9ZSx0aGlzLl92YWxpZGF0ZVN0eWxlUGFyYW1zPWZ1bmN0aW9uKHQpe3ZhciBlPU9iamVjdChzLl9fYXNzaWduKSh7fSx0KSxuPXQubGFiZWwsYz10LmNvbG9yLHU9dC5sYXlvdXQsZD10LnNoYXBlLHA9dC5oZWlnaHQsaD10LnRhZ2xpbmU7cmV0dXJuIG4mJiFyW25dJiZkZWxldGUgZS5sYWJlbCx1JiYhaVt1XSYmZGVsZXRlIGUubGF5b3V0LGMmJiFvW2NdJiZkZWxldGUgZS5jb2xvcixkJiYhYVtkXSYmZGVsZXRlIGUuc2hhcGUsXCJudW1iZXJcIj09dHlwZW9mIHA/ZS5oZWlnaHQ9cDwyNT8yNTpwPjU1PzU1OnA6ZGVsZXRlIGUuaGVpZ2h0LChcImJvb2xlYW5cIiE9dHlwZW9mIGh8fGgmJmUubGF5b3V0IT09aVtpLmhvcml6b250YWxdKSYmZGVsZXRlIGUudGFnbGluZSxlfX1yZXR1cm4gdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIE9iamVjdChzLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciByO3JldHVybiBPYmplY3Qocy5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24oaSl7c3dpdGNoKGkubGFiZWwpe2Nhc2UgMDpyZXR1cm4gcj10aGlzLFs0LHRoaXMuX3BheXBhbFNjcmlwdExvYWRlci5sb2FkUGF5cGFsQ29tbWVyY2UodCxlKV07Y2FzZSAxOnJldHVybiByLl9wYXlwYWw9aS5zZW50KCksdGhpcy5fZ2F0ZXdheUlkPW4sWzIsdGhpcy5fcGF5cGFsXX19KSl9KSl9LHQucHJvdG90eXBlLnJlbmRlckJ1dHRvbnM9ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9dGhpcztpZih2b2lkIDA9PT1uJiYobj17fSksdm9pZCAwPT09ciYmKHI9e30pLCF0aGlzLl9wYXlwYWx8fCF0aGlzLl9wYXlwYWwuQnV0dG9ucyl0aHJvdyBuZXcgdS5hO3ZhciBvPXIucGFyYW1zRm9yUHJvdmlkZXIsYT1yLmZ1bmRpbmdLZXksYz1yLm9uUmVuZGVyQnV0dG9uLGQ9T2JqZWN0KHMuX19hc3NpZ24pKE9iamVjdChzLl9fYXNzaWduKSh7fSxuKSx7Y3JlYXRlT3JkZXI6ZnVuY3Rpb24oKXtyZXR1cm4gaS5fc2V0dXBQYXltZW50KHQsbyl9LG9uQ2xpY2s6ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0KHMuX19hd2FpdGVyKShpLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHI7cmV0dXJuIE9iamVjdChzLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihpKXtyZXR1cm4gdGhpcy5fZnVuZGluZ1NvdXJjZT10LmZ1bmRpbmdTb3VyY2UsWzIsbnVsbD09PShyPW4ub25DbGljayl8fHZvaWQgMD09PXI/dm9pZCAwOnIuY2FsbChuLHQsZSldfSkpfSkpfX0pO3JldHVybiBuLnN0eWxlJiYoZC5zdHlsZT10aGlzLl92YWxpZGF0ZVN0eWxlUGFyYW1zKG4uc3R5bGUpKSxhJiYodGhpcy5fZnVuZGluZ1NvdXJjZT10aGlzLl9wYXlwYWwuRlVORElOR1thXSxkLmZ1bmRpbmdTb3VyY2U9dGhpcy5fZnVuZGluZ1NvdXJjZSksdGhpcy5fcGF5cGFsQnV0dG9ucz10aGlzLl9wYXlwYWwuQnV0dG9ucyhkKSx0aGlzLl9wYXlwYWxCdXR0b25zLmlzRWxpZ2libGUoKXx8dGhpcy5fcHJvY2Vzc05vdEVsaWdpYmxlKGQsYSksbnVsbD09Y3x8YygpLHRoaXMuX3BheXBhbEJ1dHRvbnMucmVuZGVyKGUpLHRoaXMuX3BheXBhbEJ1dHRvbnN9LHQucHJvdG90eXBlLmdldE9yZGVySWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3JkZXJJZH0sdC5wcm90b3R5cGUucmVuZGVyTWVzc2FnZXM9ZnVuY3Rpb24odCxlKXtpZighdGhpcy5fcGF5cGFsfHwhdGhpcy5fcGF5cGFsLk1lc3NhZ2VzKXRocm93IG5ldyB1LmE7cmV0dXJuIHRoaXMuX3BheXBhbE1lc3NhZ2VzPXRoaXMuX3BheXBhbC5NZXNzYWdlcyh7YW1vdW50OnQscGxhY2VtZW50OlwiY2FydFwiLHN0eWxlOntsYXlvdXQ6XCJ0ZXh0XCJ9fSksdGhpcy5fcGF5cGFsTWVzc2FnZXMucmVuZGVyKGUpLHRoaXMuX3BheXBhbE1lc3NhZ2VzfSx0LnByb3RvdHlwZS5yZW5kZXJIb3N0ZWRGaWVsZHM9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBPYmplY3Qocy5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgcixpLG8sYT10aGlzO3JldHVybiBPYmplY3Qocy5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24ocyl7c3dpdGNoKHMubGFiZWwpe2Nhc2UgMDppZighdGhpcy5fcGF5cGFsfHwhdGhpcy5fcGF5cGFsLkhvc3RlZEZpZWxkcyl0aHJvdyBuZXcgdS5hO2lmKHI9ZS5maWVsZHMsaT1lLnN0eWxlcywhdGhpcy5fcGF5cGFsLkhvc3RlZEZpZWxkcy5pc0VsaWdpYmxlKCkpdGhyb3cgbmV3IGwuYihsLmEuUGF5bWVudE5vdEluaXRpYWxpemVkKTtyZXR1cm4gbz10aGlzLFs0LHRoaXMuX3BheXBhbC5Ib3N0ZWRGaWVsZHMucmVuZGVyKHtmaWVsZHM6cixzdHlsZXM6aSxwYXltZW50c1NESzohMCxjcmVhdGVPcmRlcjpmdW5jdGlvbigpe3JldHVybiBhLl9zZXR1cFBheW1lbnQodCx7aXNDcmVkaXRDYXJkOiEwfSl9fSldO2Nhc2UgMTpyZXR1cm4gby5faG9zdGVkRmllbGRzPXMuc2VudCgpLG4mJk9iamVjdC5rZXlzKG4pLmZvckVhY2goKGZ1bmN0aW9uKHQpe2EuX2hvc3RlZEZpZWxkcy5vbih0LG5bdF0pfSkpLFsyXX19KSl9KSl9LHQucHJvdG90eXBlLnN1Ym1pdEhvc3RlZEZpZWxkcz1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KHMuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChzLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihlKXtpZighdGhpcy5faG9zdGVkRmllbGRzKXRocm93IG5ldyBsLmIobC5hLlBheW1lbnROb3RJbml0aWFsaXplZCk7cmV0dXJuWzIsdGhpcy5faG9zdGVkRmllbGRzLnN1Ym1pdChPYmplY3QoaC5vbWl0QnkpKHQsaC5pc05pbCkpXX0pKX0pKX0sdC5wcm90b3R5cGUuZ2V0SG9zdGVkRmllbGRzVmFsaWRhdGlvblN0YXRlPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2hvc3RlZEZpZWxkcyl0aHJvdyBuZXcgbC5iKGwuYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO3ZhciB0PXRoaXMuX2hvc3RlZEZpZWxkcy5nZXRTdGF0ZSgpLmZpZWxkcztyZXR1cm57aXNWYWxpZDpPYmplY3Qua2V5cyh0KS5ldmVyeSgoZnVuY3Rpb24oZSl7dmFyIG47cmV0dXJuIG51bGw9PT0obj10W2VdKXx8dm9pZCAwPT09bj92b2lkIDA6bi5pc1ZhbGlkfSkpLGZpZWxkczp0fX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKCl7dmFyIHQsZTtudWxsPT09KGU9bnVsbD09PSh0PXRoaXMuX3BheXBhbEJ1dHRvbnMpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmNsb3NlKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHQpLHRoaXMuX3BheXBhbD12b2lkIDAsdGhpcy5fcGF5cGFsQnV0dG9ucz12b2lkIDAsdGhpcy5fZnVuZGluZ1NvdXJjZT12b2lkIDAsdGhpcy5faG9zdGVkRmllbGRzPXZvaWQgMH0sdC5wcm90b3R5cGUuX3NldHVwUGF5bWVudD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT17fSksT2JqZWN0KHMuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG4scixpO3JldHVybiBPYmplY3Qocy5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24obyl7c3dpdGNoKG8ubGFiZWwpe2Nhc2UgMDpyZXR1cm4gbj1PYmplY3Qocy5fX2Fzc2lnbikoT2JqZWN0KHMuX19hc3NpZ24pKHt9LGUpLHtpc0NyZWRpdDpcImNyZWRpdFwiPT09dGhpcy5fZnVuZGluZ1NvdXJjZXx8XCJwYXlsYXRlclwiPT09dGhpcy5fZnVuZGluZ1NvdXJjZX0pLHI9dGhpcy5fZ2F0ZXdheUlkPT09Zi5hLlBBWVBBTF9DT01NRVJDRV9BTFRFUk5BVElWRV9NRVRIT0RTLFs0LHRoaXMuX3BheXBhbENvbW1lcmNlUmVxdWVzdFNlbmRlci5zZXR1cFBheW1lbnQodCxPYmplY3Qocy5fX2Fzc2lnbikoT2JqZWN0KHMuX19hc3NpZ24pKHt9LG4pLHtpc0FQTTpyfSkpXTtjYXNlIDE6cmV0dXJuIGk9by5zZW50KCkub3JkZXJJZCx0aGlzLl9vcmRlcklkPWksWzIsaV19fSkpfSkpfSx0LnByb3RvdHlwZS5fcHJvY2Vzc05vdEVsaWdpYmxlPWZ1bmN0aW9uKHQsZSl7dmFyIG4scixpLG87aWYoZSE9PShudWxsPT09KG49dGhpcy5fcGF5cGFsKXx8dm9pZCAwPT09bj92b2lkIDA6bi5GVU5ESU5HLlBBWUxBVEVSKXx8KHQuZnVuZGluZ1NvdXJjZT1udWxsPT09KHI9dGhpcy5fcGF5cGFsKXx8dm9pZCAwPT09cj92b2lkIDA6ci5GVU5ESU5HLkNSRURJVCx0aGlzLl9wYXlwYWxCdXR0b25zPW51bGw9PT0oaT10aGlzLl9wYXlwYWwpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLkJ1dHRvbnModCksbnVsbD09PShvPXRoaXMuX3BheXBhbEJ1dHRvbnMpfHx2b2lkIDA9PT1vfHwhby5pc0VsaWdpYmxlKCkpKXRocm93IG5ldyBtLmEoXCJQYXlQYWwgXCIrKHRoaXMuX2Z1bmRpbmdTb3VyY2V8fFwiXCIpK1wiIGlzIG5vdCBhdmFpbGFibGUgZm9yIHlvdXIgcmVnaW9uLiBQbGVhc2UgdXNlIFBheVBhbCBDaGVja291dCBpbnN0ZWFkLlwiKX0sdH0oKTtmdW5jdGlvbiB5KHQsZSl7dmFyIG49bmV3IGQodCkscj1uZXcgcC5hKGUpO3JldHVybiBuZXcgXyhuLHIpfW4uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiB5fSkpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigzMyksaT1uKDApLG89bigxMTIpLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX2FtYXpvblBheVYyU2NyaXB0TG9hZGVyPXR9cmV0dXJuIHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChpLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlO3JldHVybiBPYmplY3QoaS5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZT10aGlzLFs0LHRoaXMuX2FtYXpvblBheVYyU2NyaXB0TG9hZGVyLmxvYWQodCldO2Nhc2UgMTpyZXR1cm4gZS5fYW1hem9uUGF5VjJTREs9bi5zZW50KCksWzJdfX0pKX0pKX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FtYXpvblBheVYyU0RLPXZvaWQgMCxQcm9taXNlLnJlc29sdmUoKX0sdC5wcm90b3R5cGUuYmluZEJ1dHRvbj1mdW5jdGlvbih0LGUsbil7dGhpcy5fZ2V0QW1hem9uUGF5VjJTREsoKS5QYXkuYmluZENoYW5nZUFjdGlvbihcIiNcIit0LHthbWF6b25DaGVja291dFNlc3Npb25JZDplLGNoYW5nZUFjdGlvbjpufSl9LHQucHJvdG90eXBlLmNyZWF0ZUJ1dHRvbj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9nZXRBbWF6b25QYXlWMlNESygpLlBheS5yZW5kZXJCdXR0b24odCxlKX0sdC5wcm90b3R5cGUuc2lnbm91dD1mdW5jdGlvbigpe3JldHVybiBPYmplY3QoaS5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGkuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9hbWF6b25QYXlWMlNESyYmdGhpcy5fYW1hem9uUGF5VjJTREsuUGF5LnNpZ25vdXQoKSxbMixQcm9taXNlLnJlc29sdmUoKV19KSl9KSl9LHQucHJvdG90eXBlLl9nZXRBbWF6b25QYXlWMlNESz1mdW5jdGlvbigpe2lmKCF0aGlzLl9hbWF6b25QYXlWMlNESyl0aHJvdyBuZXcgby5iKG8uYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO3JldHVybiB0aGlzLl9hbWF6b25QYXlWMlNES30sdH0oKSxzPW4oNDYpLGM9bigxMDQpLHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dm9pZCAwPT09ZSYmKGU9d2luZG93KSx0aGlzLl9zY3JpcHRMb2FkZXI9dCx0aGlzLl93aW5kb3c9ZX1yZXR1cm4gdC5wcm90b3R5cGUubG9hZD1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KGkuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGUsbixyLG87cmV0dXJuIE9iamVjdChpLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihpKXtzd2l0Y2goaS5sYWJlbCl7Y2FzZSAwOnJldHVybiBlPXQuaW5pdGlhbGl6YXRpb25EYXRhLG49KHZvaWQgMD09PWU/e306ZSkucmVnaW9uLHI9dm9pZCAwPT09bj9cInVzXCI6bixvPWMuY1tyXSxbNCx0aGlzLl9zY3JpcHRMb2FkZXIubG9hZFNjcmlwdChcImh0dHBzOi8vc3RhdGljLVwiK28rXCIucGF5bWVudHMtYW1hem9uLmNvbS9jaGVja291dC5qc1wiKV07Y2FzZSAxOmlmKGkuc2VudCgpLCF0aGlzLl93aW5kb3cuYW1hem9uKXRocm93IG5ldyBzLmE7cmV0dXJuWzIsdGhpcy5fd2luZG93LmFtYXpvbl19fSkpfSkpfSx0fSgpO2Z1bmN0aW9uIGQoKXtyZXR1cm4gbmV3IGEobmV3IHUoT2JqZWN0KHIuZ2V0U2NyaXB0TG9hZGVyKSgpKSl9bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDQ3KSxpPW4oMzMpLG89bigyMDIpLGE9bigxNzgpLHM9bigxMzgpLGM9bigxMzEpLHU9bigxMzIpLGQ9bigyMDEpLHA9bigxNzUpLGg9big4OCksbD1uKDg5KSxtPW4oMTEyKSxmPW4oMTIpLF89bigxODEpLHk9bigxNzApLGc9bigzMCksYj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scixpLG8sYSl7dGhpcy5fc3RvcmU9dCx0aGlzLl9wYXltZW50TWV0aG9kQWN0aW9uQ3JlYXRvcj1lLHRoaXMuX2dvb2dsZVBheVNjcmlwdExvYWRlcj1uLHRoaXMuX2dvb2dsZVBheUluaXRpYWxpemVyPXIsdGhpcy5fYmlsbGluZ0FkZHJlc3NBY3Rpb25DcmVhdG9yPWksdGhpcy5fY29uc2lnbm1lbnRBY3Rpb25DcmVhdG9yPW8sdGhpcy5fcmVxdWVzdFNlbmRlcj1hfXJldHVybiB0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9tZXRob2RJZD10LHRoaXMuX2NvbmZpZ3VyZVdhbGxldCgpfSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ29vZ2xlUGF5SW5pdGlhbGl6ZXIudGVhcmRvd24oKX0sdC5wcm90b3R5cGUuY3JlYXRlQnV0dG9uPWZ1bmN0aW9uKHQsZSxuKXtpZih2b2lkIDA9PT1lJiYoZT1nLmMuU2hvcnQpLHZvaWQgMD09PW4mJihuPWcuYi5EZWZhdWx0KSwhdGhpcy5fZ29vZ2xlUGF5Q2xpZW50KXRocm93IG5ldyBtLmIobS5hLlBheW1lbnROb3RJbml0aWFsaXplZCk7cmV0dXJuIHRoaXMuX2dvb2dsZVBheUNsaWVudC5jcmVhdGVCdXR0b24oe2J1dHRvbkNvbG9yOm4sYnV0dG9uVHlwZTplLG9uQ2xpY2s6dH0pfSx0LnByb3RvdHlwZS5kaXNwbGF5V2FsbGV0PWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2dvb2dsZVBheUNsaWVudCl0aHJvdyBuZXcgbS5iKG0uYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO3JldHVybiB0aGlzLl9nb29nbGVQYXlDbGllbnQubG9hZFBheW1lbnREYXRhKHRoaXMuX2dldFBheW1lbnREYXRhUmVxdWVzdCgpKX0sdC5wcm90b3R5cGUuaGFuZGxlU3VjY2Vzcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiB0aGlzLl9nb29nbGVQYXlJbml0aWFsaXplci5wYXJzZVJlc3BvbnNlKHQpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBlLl9wb3N0Rm9ybSh0KX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBlLl91cGRhdGVCaWxsaW5nQWRkcmVzcyh0KX0pKX0sdC5wcm90b3R5cGUudXBkYXRlU2hpcHBpbmdBZGRyZXNzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9jb25zaWdubWVudEFjdGlvbkNyZWF0b3IudXBkYXRlQWRkcmVzcyh0aGlzLl9tYXBHb29nbGVQYXlBZGRyZXNzVG9TaGlwcGluZ0FkZHJlc3ModCkpKX0sdC5wcm90b3R5cGUuX2NvbmZpZ3VyZVdhbGxldD1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10aGlzLl9nZXRNZXRob2RJZCgpO3JldHVybiB0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9wYXltZW50TWV0aG9kQWN0aW9uQ3JlYXRvci5sb2FkUGF5bWVudE1ldGhvZChlKSkudGhlbigoZnVuY3Rpb24obil7dmFyIHI9bi5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kKGUpLGk9bi5jaGVja291dC5nZXRDaGVja291dCgpLG89ISFuLnNoaXBwaW5nQWRkcmVzcy5nZXRTaGlwcGluZ0FkZHJlc3MoKTtpZighcil0aHJvdyBuZXcgZi5iKGYuYS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7aWYoIWkpdGhyb3cgbmV3IGYuYihmLmEuTWlzc2luZ0NoZWNrb3V0KTt2YXIgYT1yLmNvbmZpZy50ZXN0TW9kZTtyZXR1cm4gUHJvbWlzZS5hbGwoW3QuX2dvb2dsZVBheVNjcmlwdExvYWRlci5sb2FkKCksdC5fZ29vZ2xlUGF5SW5pdGlhbGl6ZXIuaW5pdGlhbGl6ZShpLHIsbyldKS50aGVuKChmdW5jdGlvbihlKXt2YXIgbj1lWzBdLHI9ZVsxXTtyZXR1cm4gdC5fZ29vZ2xlUGF5Q2xpZW50PXQuX2dldEdvb2dsZVBheUNsaWVudChuLGEpLHQuX3BheW1lbnREYXRhUmVxdWVzdD1yLHQuX2dvb2dsZVBheUNsaWVudC5pc1JlYWR5VG9QYXkoe2FsbG93ZWRQYXltZW50TWV0aG9kczpbe3R5cGU6ci5hbGxvd2VkUGF5bWVudE1ldGhvZHNbMF0udHlwZSxwYXJhbWV0ZXJzOnthbGxvd2VkQXV0aE1ldGhvZHM6ci5hbGxvd2VkUGF5bWVudE1ldGhvZHNbMF0ucGFyYW1ldGVycy5hbGxvd2VkQXV0aE1ldGhvZHMsYWxsb3dlZENhcmROZXR3b3JrczpyLmFsbG93ZWRQYXltZW50TWV0aG9kc1swXS5wYXJhbWV0ZXJzLmFsbG93ZWRDYXJkTmV0d29ya3N9fV0sYXBpVmVyc2lvbjpyLmFwaVZlcnNpb24sYXBpVmVyc2lvbk1pbm9yOnIuYXBpVmVyc2lvbk1pbm9yfSkudGhlbigoZnVuY3Rpb24odCl7aWYoIXQucmVzdWx0KXRocm93IG5ldyB5LmF9KSl9KSl9KSl9LHQucHJvdG90eXBlLl9nZXRDYXJkSW5mb3JtYXRpb249ZnVuY3Rpb24odCl7cmV0dXJue3R5cGU6dC5jYXJkVHlwZSxudW1iZXI6dC5sYXN0Rm91cn19LHQucHJvdG90eXBlLl9nZXRQYXltZW50RGF0YVJlcXVlc3Q9ZnVuY3Rpb24oKXtpZighdGhpcy5fcGF5bWVudERhdGFSZXF1ZXN0KXRocm93IG5ldyBfLmE7cmV0dXJuIHRoaXMuX3BheW1lbnREYXRhUmVxdWVzdH0sdC5wcm90b3R5cGUuX2dldEdvb2dsZVBheUNsaWVudD1mdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IGYuYihmLmEuTWlzc2luZ1BheW1lbnRNZXRob2QpO3ZhciBuPWU/XCJURVNUXCI6XCJQUk9EVUNUSU9OXCI7cmV0dXJuIG5ldyB0LnBheW1lbnRzLmFwaS5QYXltZW50c0NsaWVudCh7ZW52aXJvbm1lbnQ6bn0pfSx0LnByb3RvdHlwZS5fZ2V0TWV0aG9kSWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5fbWV0aG9kSWQpdGhyb3cgbmV3IG0uYihtLmEuUGF5bWVudE5vdEluaXRpYWxpemVkKTtyZXR1cm4gdGhpcy5fbWV0aG9kSWR9LHQucHJvdG90eXBlLl9tYXBHb29nbGVQYXlBZGRyZXNzVG9CaWxsaW5nQWRkcmVzcz1mdW5jdGlvbih0LGUpe3JldHVybntpZDplLGZpcnN0TmFtZTp0LnBheW1lbnRNZXRob2REYXRhLmluZm8uYmlsbGluZ0FkZHJlc3MubmFtZS5zcGxpdChcIiBcIikuc2xpY2UoMCwtMSkuam9pbihcIiBcIiksbGFzdE5hbWU6dC5wYXltZW50TWV0aG9kRGF0YS5pbmZvLmJpbGxpbmdBZGRyZXNzLm5hbWUuc3BsaXQoXCIgXCIpLnNsaWNlKC0xKS5qb2luKFwiIFwiKSxjb21wYW55OnQucGF5bWVudE1ldGhvZERhdGEuaW5mby5iaWxsaW5nQWRkcmVzcy5jb21wYW55TmFtZSxhZGRyZXNzMTp0LnBheW1lbnRNZXRob2REYXRhLmluZm8uYmlsbGluZ0FkZHJlc3MuYWRkcmVzczEsYWRkcmVzczI6dC5wYXltZW50TWV0aG9kRGF0YS5pbmZvLmJpbGxpbmdBZGRyZXNzLmFkZHJlc3MyK3QucGF5bWVudE1ldGhvZERhdGEuaW5mby5iaWxsaW5nQWRkcmVzcy5hZGRyZXNzMyxjaXR5OnQucGF5bWVudE1ldGhvZERhdGEuaW5mby5iaWxsaW5nQWRkcmVzcy5sb2NhbGl0eSxzdGF0ZU9yUHJvdmluY2U6dC5wYXltZW50TWV0aG9kRGF0YS5pbmZvLmJpbGxpbmdBZGRyZXNzLmFkbWluaXN0cmF0aXZlQXJlYSxzdGF0ZU9yUHJvdmluY2VDb2RlOnQucGF5bWVudE1ldGhvZERhdGEuaW5mby5iaWxsaW5nQWRkcmVzcy5hZG1pbmlzdHJhdGl2ZUFyZWEscG9zdGFsQ29kZTp0LnBheW1lbnRNZXRob2REYXRhLmluZm8uYmlsbGluZ0FkZHJlc3MucG9zdGFsQ29kZSxjb3VudHJ5Q29kZTp0LnBheW1lbnRNZXRob2REYXRhLmluZm8uYmlsbGluZ0FkZHJlc3MuY291bnRyeUNvZGUscGhvbmU6dC5wYXltZW50TWV0aG9kRGF0YS5pbmZvLmJpbGxpbmdBZGRyZXNzLnBob25lTnVtYmVyLGN1c3RvbUZpZWxkczpbXSxlbWFpbDp0LmVtYWlsfX0sdC5wcm90b3R5cGUuX21hcEdvb2dsZVBheUFkZHJlc3NUb1NoaXBwaW5nQWRkcmVzcz1mdW5jdGlvbih0KXtyZXR1cm57Zmlyc3ROYW1lOnQubmFtZS5zcGxpdChcIiBcIikuc2xpY2UoMCwtMSkuam9pbihcIiBcIiksbGFzdE5hbWU6dC5uYW1lLnNwbGl0KFwiIFwiKS5zbGljZSgtMSkuam9pbihcIiBcIiksY29tcGFueTp0LmNvbXBhbnlOYW1lLGFkZHJlc3MxOnQuYWRkcmVzczEsYWRkcmVzczI6dC5hZGRyZXNzMit0LmFkZHJlc3MzLGNpdHk6dC5sb2NhbGl0eSxzdGF0ZU9yUHJvdmluY2U6dC5hZG1pbmlzdHJhdGl2ZUFyZWEsc3RhdGVPclByb3ZpbmNlQ29kZTp0LmFkbWluaXN0cmF0aXZlQXJlYSxwb3N0YWxDb2RlOnQucG9zdGFsQ29kZSxjb3VudHJ5Q29kZTp0LmNvdW50cnlDb2RlLHBob25lOnQucGhvbmVOdW1iZXIsY3VzdG9tRmllbGRzOltdfX0sdC5wcm90b3R5cGUuX3Bvc3RGb3JtPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZGV0YWlscztyZXR1cm4gdGhpcy5fcmVxdWVzdFNlbmRlci5wb3N0KFwiL2NoZWNrb3V0LnBocFwiLHtoZWFkZXJzOntBY2NlcHQ6XCJ0ZXh0L2h0bWxcIixcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCJ9LGJvZHk6e3BheW1lbnRfdHlwZTp0LnR5cGUsbm9uY2U6dC5ub25jZSxwcm92aWRlcjp0aGlzLl9nZXRNZXRob2RJZCgpLGFjdGlvbjpcInNldF9leHRlcm5hbF9jaGVja291dFwiLGNhcmRfaW5mb3JtYXRpb246dGhpcy5fZ2V0Q2FyZEluZm9ybWF0aW9uKGUpfX0pfSx0LnByb3RvdHlwZS5fdXBkYXRlQmlsbGluZ0FkZHJlc3M9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKS5iaWxsaW5nQWRkcmVzcy5nZXRCaWxsaW5nQWRkcmVzcygpO2lmKCFlKXRocm93IG5ldyBmLmIoZi5hLk1pc3NpbmdCaWxsaW5nQWRkcmVzcyk7dmFyIG49dGhpcy5fbWFwR29vZ2xlUGF5QWRkcmVzc1RvQmlsbGluZ0FkZHJlc3ModCxlLmlkKTtyZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fYmlsbGluZ0FkZHJlc3NBY3Rpb25DcmVhdG9yLnVwZGF0ZUFkZHJlc3MobikpfSx0fSgpLHY9big0NiksQz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt2b2lkIDA9PT1lJiYoZT13aW5kb3cpLHRoaXMuX3NjcmlwdExvYWRlcj10LHRoaXMuX3dpbmRvdz1lfXJldHVybiB0LnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5fc2NyaXB0TG9hZGVyLmxvYWRTY3JpcHQoXCJodHRwczovL3BheS5nb29nbGUuY29tL2dwL3AvanMvcGF5LmpzXCIpLnRoZW4oKGZ1bmN0aW9uKCl7aWYoIXQuX3dpbmRvdy5nb29nbGUpdGhyb3cgbmV3IHYuYTtyZXR1cm4gdC5fd2luZG93Lmdvb2dsZX0pKX0sdH0oKTtmdW5jdGlvbiBPKHQsZSl7dmFyIG49T2JqZWN0KHIuY3JlYXRlUmVxdWVzdFNlbmRlcikoKSxtPU9iamVjdChpLmdldFNjcmlwdExvYWRlcikoKTtyZXR1cm4gbmV3IGIodCxuZXcgaC5hKG5ldyBsLmEobikpLG5ldyBDKG0pLGUsbmV3IG8uYShuZXcgYS5hKG4pLG5ldyBkLmEobmV3IHAuYShuKSkpLG5ldyBjLmEobmV3IHUuYShuKSxuZXcgcy5hKG4pKSxuKX1uLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gT30pKX0sLGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDApLGk9bigxKSxvPW4oMyksYT1uKDgpLHM9big5MSksYz1uKDE3MiksdT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzLGUpfHx0aGlzO3JldHVybiBuLm5hbWU9XCJVcGRhdGVTdWJzY3JpcHRpb25zRXJyb3JcIixuLnR5cGU9XCJ1cGRhdGVfc3Vic2NyaXB0aW9uc1wiLG59cmV0dXJuIE9iamVjdChyLl9fZXh0ZW5kcykoZSx0KSxlfShuKDM3KS5hKSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9zdWJzY3JpcHRpb25zUmVxdWVzdFNlbmRlcj10fXJldHVybiB0LnByb3RvdHlwZS51cGRhdGVTdWJzY3JpcHRpb25zPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gT2JqZWN0KG8uY29uY2F0KShPYmplY3Qoby5vZikoT2JqZWN0KGkuY3JlYXRlQWN0aW9uKShjLmEuVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3RlZCkpLE9iamVjdChvLmRlZmVyKSgoZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KHIuX19hd2FpdGVyKShuLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG47cmV0dXJuIE9iamVjdChyLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuX3N1YnNjcmlwdGlvbnNSZXF1ZXN0U2VuZGVyLnVwZGF0ZVN1YnNjcmlwdGlvbnModCxlKV07Y2FzZSAxOnJldHVybiBuPXIuc2VudCgpLmJvZHksWzIsT2JqZWN0KGkuY3JlYXRlQWN0aW9uKShjLmEuVXBkYXRlU3Vic2NyaXB0aW9uc1N1Y2NlZWRlZCxuKV19fSkpfSkpfSkpKS5waXBlKE9iamVjdChhLmNhdGNoRXJyb3IpKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KHMuYSkoYy5hLlVwZGF0ZVN1YnNjcmlwdGlvbnNGYWlsZWQsbmV3IHUodCkpfSkpKX0sdH0oKTtlLmE9ZH0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMCksaT1uKDEpLG89bigzKSxhPW4oOCkscz1uKDkxKSxjPW4oMTIpLHU9bigyMCksZD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzLGV8fFwiVW5hYmxlIHRvIGNvbnRpbnVlIGFzIGEgZ3Vlc3QgYmVjYXVzZSB0aGUgY3VzdG9tZXIgaXMgYWxyZWFkeSBzaWduZWQgaW4uXCIpfHx0aGlzO3JldHVybiBuLm5hbWU9XCJVbmFibGVUb0NvbnRpbnVlQXNHdWVzdEVycm9yXCIsbi50eXBlPVwidW5hYmxlX3RvX2NvbnRpbnVlX2FzX2d1ZXN0XCIsbn1yZXR1cm4gT2JqZWN0KHIuX19leHRlbmRzKShlLHQpLGV9KG4oMjMpLmEpLHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fcmVxdWVzdFNlbmRlcj10LHRoaXMuX3N1YnNjcmlwdGlvbkFjdGlvbkNyZWF0b3I9ZX1yZXR1cm4gdC5wcm90b3R5cGUuY29udGludWVBc0d1ZXN0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gZnVuY3Rpb24ocCl7dmFyIGg9cC5nZXRTdGF0ZSgpLGw9aC5jaGVja291dC5nZXRDaGVja291dCgpO2lmKCFsKXRocm93IG5ldyBjLmIoYy5hLk1pc3NpbmdDaGVja291dCk7dmFyIG09aC5jdXN0b21lci5nZXRDdXN0b21lcigpO2lmKG0mJiFtLmlzR3Vlc3QpdGhyb3cgbmV3IGQ7dmFyIGYsXz1oLmJpbGxpbmdBZGRyZXNzLmdldEJpbGxpbmdBZGRyZXNzKCk7aWYoXyl7Xy5jb3VudHJ5O3ZhciB5PU9iamVjdChyLl9fcmVzdCkoXyxbXCJjb3VudHJ5XCJdKTtmPU9iamVjdChyLl9fYXNzaWduKShPYmplY3Qoci5fX2Fzc2lnbikoe30seSksdCl9ZWxzZSBmPXQ7cmV0dXJuIE9iamVjdChvLm1lcmdlKShPYmplY3Qoby5jb25jYXQpKE9iamVjdChvLm9mKShPYmplY3QoaS5jcmVhdGVBY3Rpb24pKHUuYS5Db250aW51ZUFzR3Vlc3RSZXF1ZXN0ZWQpKSxPYmplY3Qoby5kZWZlcikoKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChyLl9fYXdhaXRlcikobix2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0O3JldHVybiBPYmplY3Qoci5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLl9jcmVhdGVPclVwZGF0ZUJpbGxpbmdBZGRyZXNzKGwuaWQsZixlKV07Y2FzZSAxOnJldHVybiB0PW4uc2VudCgpLmJvZHksWzIsT2JqZWN0KGkuY3JlYXRlQWN0aW9uKSh1LmEuQ29udGludWVBc0d1ZXN0U3VjY2VlZGVkLHQpXX19KSl9KSl9KSkpLnBpcGUoT2JqZWN0KGEuY2F0Y2hFcnJvcikoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Qocy5hKSh1LmEuQ29udGludWVBc0d1ZXN0RmFpbGVkLHQpfSkpKSxuLl91cGRhdGVDdXN0b21lckNvbnNlbnQodCxlKSl9fSx0LnByb3RvdHlwZS51cGRhdGVBZGRyZXNzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIG8uT2JzZXJ2YWJsZS5jcmVhdGUoKGZ1bmN0aW9uKG8pe3ZhciBzPWEuZ2V0U3RhdGUoKSxkPXMuY2hlY2tvdXQuZ2V0Q2hlY2tvdXQoKTtpZighZCl0aHJvdyBuZXcgYy5iKGMuYS5NaXNzaW5nQ2hlY2tvdXQpO28ubmV4dChPYmplY3QoaS5jcmVhdGVBY3Rpb24pKHUuYS5VcGRhdGVCaWxsaW5nQWRkcmVzc1JlcXVlc3RlZCkpO3ZhciBwPXMuYmlsbGluZ0FkZHJlc3MuZ2V0QmlsbGluZ0FkZHJlc3MoKSxoPU9iamVjdChyLl9fYXNzaWduKShPYmplY3Qoci5fX2Fzc2lnbikoe30sdCkse2VtYWlsOnZvaWQgMD09PXQuZW1haWwmJnA/cC5lbWFpbDp0LmVtYWlsfSk7cCYmcC5pZCYmKGguaWQ9cC5pZCksbi5fY3JlYXRlT3JVcGRhdGVCaWxsaW5nQWRkcmVzcyhkLmlkLGgsZSkudGhlbigoZnVuY3Rpb24odCl7dmFyIGU9dC5ib2R5O28ubmV4dChPYmplY3QoaS5jcmVhdGVBY3Rpb24pKHUuYS5VcGRhdGVCaWxsaW5nQWRkcmVzc1N1Y2NlZWRlZCxlKSksby5jb21wbGV0ZSgpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtvLmVycm9yKE9iamVjdChpLmNyZWF0ZUVycm9yQWN0aW9uKSh1LmEuVXBkYXRlQmlsbGluZ0FkZHJlc3NGYWlsZWQsdCkpfSkpfSkpfX0sdC5wcm90b3R5cGUuX3VwZGF0ZUN1c3RvbWVyQ29uc2VudD1mdW5jdGlvbih0LGUpe3ZhciBuPXQuZW1haWwscj10LmFjY2VwdHNBYmFuZG9uZWRDYXJ0RW1haWxzLGk9dC5hY2NlcHRzTWFya2V0aW5nTmV3c2xldHRlcjtyZXR1cm4gbnVsbD09ciYmbnVsbD09aT9PYmplY3Qoby5lbXB0eSkoKTp0aGlzLl9zdWJzY3JpcHRpb25BY3Rpb25DcmVhdG9yLnVwZGF0ZVN1YnNjcmlwdGlvbnMoe2VtYWlsOm4sYWNjZXB0c01hcmtldGluZ05ld3NsZXR0ZXI6aXx8ITEsYWNjZXB0c0FiYW5kb25lZENhcnRFbWFpbHM6cnx8ITF9LGUpfSx0LnByb3RvdHlwZS5fY3JlYXRlT3JVcGRhdGVCaWxsaW5nQWRkcmVzcz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGUuaWQ/dGhpcy5fcmVxdWVzdFNlbmRlci51cGRhdGVBZGRyZXNzKHQsZSxuKTp0aGlzLl9yZXF1ZXN0U2VuZGVyLmNyZWF0ZUFkZHJlc3ModCxlLG4pfSx0fSgpO2UuYT1wfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigyKTtmdW5jdGlvbiBpKHQpe3JldHVybiBlPXQubGluZUl0ZW1zLnBoeXNpY2FsSXRlbXMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4hdC5hZGRlZEJ5UHJvbW90aW9ufSkpLE9iamVjdChyLnJlZHVjZSkoZSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gdCtlLnF1YW50aXR5fSksMCk7dmFyIGV9bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSl9XSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaGVja291dC1zZGsuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgbG9kYXNoXzEgPSByZXF1aXJlKFwibG9kYXNoXCIpO1xudmFyIHNoYWxsb3dFcXVhbCA9IHJlcXVpcmUoXCJzaGFsbG93ZXF1YWxcIik7XG5mdW5jdGlvbiBjb21iaW5lUmVkdWNlcnMocmVkdWNlcnMsIG9wdGlvbnMpIHtcbiAgICB2YXIgX2EgPSAob3B0aW9ucyB8fCB7fSkuZXF1YWxpdHlDaGVjaywgZXF1YWxpdHlDaGVjayA9IF9hID09PSB2b2lkIDAgPyBzaGFsbG93RXF1YWwgOiBfYTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHJlZHVjZXJzKS5yZWR1Y2UoZnVuY3Rpb24gKHJlc3VsdCwga2V5KSB7XG4gICAgICAgICAgICB2YXIgcmVkdWNlciA9IHJlZHVjZXJzW2tleV07XG4gICAgICAgICAgICB2YXIgY3VycmVudFN0YXRlID0gc3RhdGUgPyBzdGF0ZVtrZXldIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgdmFyIG5ld1N0YXRlID0gcmVkdWNlcihjdXJyZW50U3RhdGUsIGFjdGlvbik7XG4gICAgICAgICAgICBpZiAoZXF1YWxpdHlDaGVjayhjdXJyZW50U3RhdGUsIG5ld1N0YXRlKSAmJiByZXN1bHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGxvZGFzaF8xLmFzc2lnbih7fSwgcmVzdWx0LCAoX2EgPSB7fSwgX2Fba2V5XSA9IG5ld1N0YXRlLCBfYSkpO1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICB9LCBzdGF0ZSB8fCB7fSk7XG4gICAgfTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IGNvbWJpbmVSZWR1Y2Vycztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbWJpbmUtcmVkdWNlcnMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBsb2Rhc2hfMSA9IHJlcXVpcmUoXCJsb2Rhc2hcIik7XG52YXIgc2hhbGxvd0VxdWFsID0gcmVxdWlyZShcInNoYWxsb3dlcXVhbFwiKTtcbmZ1bmN0aW9uIGNvbXBvc2VSZWR1Y2VycygpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHJlZHVjZXJzID0gYXJncztcbiAgICB2YXIgb3B0aW9ucyA9IHt9O1xuICAgIGlmICh0eXBlb2YgYXJnc1thcmdzLmxlbmd0aCAtIDFdID09PSAnb2JqZWN0Jykge1xuICAgICAgICByZWR1Y2VycyA9IGFyZ3Muc2xpY2UoMCwgLTEpO1xuICAgICAgICBvcHRpb25zID0gdHNsaWJfMS5fX2Fzc2lnbih7fSwgb3B0aW9ucywgYXJnc1thcmdzLmxlbmd0aCAtIDFdKTtcbiAgICB9XG4gICAgdmFyIF9hID0gb3B0aW9ucy5lcXVhbGl0eUNoZWNrLCBlcXVhbGl0eUNoZWNrID0gX2EgPT09IHZvaWQgMCA/IHNoYWxsb3dFcXVhbCA6IF9hO1xuICAgIHJldHVybiBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikge1xuICAgICAgICB2YXIgbmV3U3RhdGUgPSBsb2Rhc2hfMS5mbG93UmlnaHQocmVkdWNlcnNcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHJlZHVjZXIpIHsgcmV0dXJuIHJlZHVjZXIubGVuZ3RoID09PSAyOyB9KVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAocmVkdWNlcikgeyByZXR1cm4gbG9kYXNoXzEuY3VycnlSaWdodChyZWR1Y2VyKShhY3Rpb24pOyB9KSkoc3RhdGUpO1xuICAgICAgICByZXR1cm4gZXF1YWxpdHlDaGVjayhzdGF0ZSwgbmV3U3RhdGUpID8gc3RhdGUgOiBuZXdTdGF0ZTtcbiAgICB9O1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gY29tcG9zZVJlZHVjZXJzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcG9zZS1yZWR1Y2Vycy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIGxvZGFzaF8xID0gcmVxdWlyZShcImxvZGFzaFwiKTtcbmZ1bmN0aW9uIGNyZWF0ZUFjdGlvbih0eXBlLCBwYXlsb2FkLCBtZXRhKSB7XG4gICAgaWYgKHR5cGVvZiB0eXBlICE9PSAnc3RyaW5nJyB8fCB0eXBlID09PSAnJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2B0eXBlYCBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gICAgfVxuICAgIHJldHVybiB0c2xpYl8xLl9fYXNzaWduKHsgdHlwZTogdHlwZSB9LCBsb2Rhc2hfMS5vbWl0QnkoeyBwYXlsb2FkOiBwYXlsb2FkLCBtZXRhOiBtZXRhIH0sIGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZDsgfSkpO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gY3JlYXRlQWN0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlLWFjdGlvbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBjb21iaW5lX3JlZHVjZXJzXzEgPSByZXF1aXJlKFwiLi9jb21iaW5lLXJlZHVjZXJzXCIpO1xudmFyIGRhdGFfc3RvcmVfMSA9IHJlcXVpcmUoXCIuL2RhdGEtc3RvcmVcIik7XG5mdW5jdGlvbiBjcmVhdGVEYXRhU3RvcmUocmVkdWNlciwgaW5pdGlhbFN0YXRlLCBvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiByZWR1Y2VyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBuZXcgZGF0YV9zdG9yZV8xLmRlZmF1bHQocmVkdWNlciwgaW5pdGlhbFN0YXRlLCBvcHRpb25zKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBkYXRhX3N0b3JlXzEuZGVmYXVsdChjb21iaW5lX3JlZHVjZXJzXzEuZGVmYXVsdChyZWR1Y2VyLCB7IGVxdWFsaXR5Q2hlY2s6IG9wdGlvbnMgJiYgb3B0aW9ucy5lcXVhbGl0eUNoZWNrIH0pLCBpbml0aWFsU3RhdGUsIG9wdGlvbnMpO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gY3JlYXRlRGF0YVN0b3JlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlLWRhdGEtc3RvcmUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBjcmVhdGVfYWN0aW9uXzEgPSByZXF1aXJlKFwiLi9jcmVhdGUtYWN0aW9uXCIpO1xuZnVuY3Rpb24gY3JlYXRlRXJyb3JBY3Rpb24odHlwZSwgcGF5bG9hZCwgbWV0YSkge1xuICAgIHJldHVybiB0c2xpYl8xLl9fYXNzaWduKHt9LCBjcmVhdGVfYWN0aW9uXzEuZGVmYXVsdCh0eXBlLCBwYXlsb2FkLCBtZXRhKSwgeyBlcnJvcjogdHJ1ZSB9KTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IGNyZWF0ZUVycm9yQWN0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlLWVycm9yLWFjdGlvbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIGxvZGFzaF8xID0gcmVxdWlyZShcImxvZGFzaFwiKTtcbnZhciByeGpzXzEgPSByZXF1aXJlKFwicnhqc1wiKTtcbnZhciBvcGVyYXRvcnNfMSA9IHJlcXVpcmUoXCJyeGpzL29wZXJhdG9yc1wiKTtcbnZhciBzaGFsbG93RXF1YWwgPSByZXF1aXJlKFwic2hhbGxvd2VxdWFsXCIpO1xudmFyIGRlZXBfZnJlZXplXzEgPSByZXF1aXJlKFwiLi9kZWVwLWZyZWV6ZVwiKTtcbnZhciBpc19vYnNlcnZhYmxlX2FjdGlvbl9saWtlXzEgPSByZXF1aXJlKFwiLi9pcy1vYnNlcnZhYmxlLWFjdGlvbi1saWtlXCIpO1xudmFyIG5vb3BfYWN0aW9uX3RyYW5zZm9ybWVyXzEgPSByZXF1aXJlKFwiLi9ub29wLWFjdGlvbi10cmFuc2Zvcm1lclwiKTtcbnZhciBub29wX3N0YXRlX3RyYW5zZm9ybWVyXzEgPSByZXF1aXJlKFwiLi9ub29wLXN0YXRlLXRyYW5zZm9ybWVyXCIpO1xudmFyIERhdGFTdG9yZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGF0YVN0b3JlKHJlZHVjZXIsIGluaXRpYWxTdGF0ZSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoaW5pdGlhbFN0YXRlID09PSB2b2lkIDApIHsgaW5pdGlhbFN0YXRlID0ge307IH1cbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5fcmVkdWNlciA9IHJlZHVjZXI7XG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSB0c2xpYl8xLl9fYXNzaWduKHsgYWN0aW9uVHJhbnNmb3JtZXI6IG5vb3BfYWN0aW9uX3RyYW5zZm9ybWVyXzEuZGVmYXVsdCwgZXF1YWxpdHlDaGVjazogc2hhbGxvd0VxdWFsLCBzaG91bGRXYXJuTXV0YXRpb246IHRydWUsIHN0YXRlVHJhbnNmb3JtZXI6IG5vb3Bfc3RhdGVfdHJhbnNmb3JtZXJfMS5kZWZhdWx0IH0sIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9zdGF0ZSQgPSBuZXcgcnhqc18xLkJlaGF2aW9yU3ViamVjdCh0aGlzLl9vcHRpb25zLnN0YXRlVHJhbnNmb3JtZXIoaW5pdGlhbFN0YXRlKSk7XG4gICAgICAgIHRoaXMuX25vdGlmaWNhdGlvbiQgPSBuZXcgcnhqc18xLlN1YmplY3QoKTtcbiAgICAgICAgdGhpcy5fZGlzcGF0Y2hlcnMgPSB7fTtcbiAgICAgICAgdGhpcy5fZGlzcGF0Y2hRdWV1ZSQgPSBuZXcgcnhqc18xLlN1YmplY3QoKTtcbiAgICAgICAgdGhpcy5fZXJyb3JzID0ge307XG4gICAgICAgIHRoaXMuX2Rpc3BhdGNoUXVldWUkXG4gICAgICAgICAgICAucGlwZShvcGVyYXRvcnNfMS5tZXJnZU1hcChmdW5jdGlvbiAoZGlzcGF0Y2hlciQpIHsgcmV0dXJuIGRpc3BhdGNoZXIkLnBpcGUob3BlcmF0b3JzXzEuY29uY2F0TWFwKGZ1bmN0aW9uIChhY3Rpb24kKSB7IHJldHVybiBhY3Rpb24kOyB9KSk7IH0pLCBvcGVyYXRvcnNfMS5maWx0ZXIoZnVuY3Rpb24gKGFjdGlvbikgeyByZXR1cm4gISFhY3Rpb24udHlwZTsgfSksIG9wZXJhdG9yc18xLnNjYW4oZnVuY3Rpb24gKHN0YXRlcywgYWN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuX3RyYW5zZm9ybVN0YXRlcyhzdGF0ZXMsIGFjdGlvbik7XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHN0YXRlOiBpbml0aWFsU3RhdGUsXG4gICAgICAgICAgICB0cmFuc2Zvcm1lZFN0YXRlOiB0aGlzLl9zdGF0ZSQuZ2V0VmFsdWUoKSxcbiAgICAgICAgfSksIG9wZXJhdG9yc18xLmRpc3RpbmN0VW50aWxDaGFuZ2VkKGZ1bmN0aW9uIChfYSwgX2IpIHtcbiAgICAgICAgICAgIHZhciBzdGF0ZUEgPSBfYS5zdGF0ZTtcbiAgICAgICAgICAgIHZhciBzdGF0ZUIgPSBfYi5zdGF0ZTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5fb3B0aW9ucy5lcXVhbGl0eUNoZWNrKHN0YXRlQSwgc3RhdGVCKTtcbiAgICAgICAgfSksIG9wZXJhdG9yc18xLm1hcChmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHZhciB0cmFuc2Zvcm1lZFN0YXRlID0gX2EudHJhbnNmb3JtZWRTdGF0ZTtcbiAgICAgICAgICAgIHJldHVybiB0cmFuc2Zvcm1lZFN0YXRlO1xuICAgICAgICB9KSlcbiAgICAgICAgICAgIC5zdWJzY3JpYmUodGhpcy5fc3RhdGUkKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaCh7IHR5cGU6ICdJTklUJyB9KTtcbiAgICB9XG4gICAgRGF0YVN0b3JlLnByb3RvdHlwZS5kaXNwYXRjaCA9IGZ1bmN0aW9uIChhY3Rpb24sIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGlzX29ic2VydmFibGVfYWN0aW9uX2xpa2VfMS5kZWZhdWx0KGFjdGlvbikpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kaXNwYXRjaE9ic2VydmFibGVBY3Rpb24oYWN0aW9uLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGFjdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Rpc3BhdGNoVGh1bmtBY3Rpb24oYWN0aW9uLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZGlzcGF0Y2hBY3Rpb24oYWN0aW9uKTtcbiAgICB9O1xuICAgIERhdGFTdG9yZS5wcm90b3R5cGUuZ2V0U3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZSQuZ2V0VmFsdWUoKTtcbiAgICB9O1xuICAgIERhdGFTdG9yZS5wcm90b3R5cGUubm90aWZ5U3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX25vdGlmaWNhdGlvbiQubmV4dCh0aGlzLmdldFN0YXRlKCkpO1xuICAgIH07XG4gICAgRGF0YVN0b3JlLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb3B0aW9ucyA9IHR5cGVvZiBhcmdzWzBdID09PSAnb2JqZWN0JyA/IGFyZ3NbMF0gOiB1bmRlZmluZWQ7XG4gICAgICAgIHZhciBmaWx0ZXJzID0gb3B0aW9ucyA/IChvcHRpb25zLmZpbHRlcnMgfHwgW10pIDogYXJncztcbiAgICAgICAgdmFyIHN0YXRlJCA9IHRoaXMuX3N0YXRlJDtcbiAgICAgICAgaWYgKGZpbHRlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgc3RhdGUkID0gc3RhdGUkLnBpcGUob3BlcmF0b3JzXzEuZGlzdGluY3RVbnRpbENoYW5nZWQoZnVuY3Rpb24gKHN0YXRlQSwgc3RhdGVCKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlcnMuZXZlcnkoZnVuY3Rpb24gKGZpbHRlckZuKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5fb3B0aW9ucy5lcXVhbGl0eUNoZWNrKGZpbHRlckZuKHN0YXRlQSksIGZpbHRlckZuKHN0YXRlQikpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuaW5pdGlhbCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHN0YXRlJCA9IHN0YXRlJC5waXBlKG9wZXJhdG9yc18xLnNraXAoMSkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb25zID0gW1xuICAgICAgICAgICAgc3RhdGUkLnN1YnNjcmliZShzdWJzY3JpYmVyKSxcbiAgICAgICAgICAgIHRoaXMuX25vdGlmaWNhdGlvbiQuc3Vic2NyaWJlKHN1YnNjcmliZXIpLFxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaXB0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChzdWJzY3JpcHRpb24pIHsgcmV0dXJuIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpOyB9KTsgfTtcbiAgICB9O1xuICAgIERhdGFTdG9yZS5wcm90b3R5cGUuX3RyYW5zZm9ybVN0YXRlcyA9IGZ1bmN0aW9uIChzdGF0ZXMsIGFjdGlvbikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIG5ld1N0YXRlID0gdGhpcy5fb3B0aW9ucy5zaG91bGRXYXJuTXV0YXRpb24gPT09IGZhbHNlID9cbiAgICAgICAgICAgICAgICB0aGlzLl9yZWR1Y2VyKHN0YXRlcy5zdGF0ZSwgYWN0aW9uKSA6XG4gICAgICAgICAgICAgICAgZGVlcF9mcmVlemVfMS5kZWZhdWx0KHRoaXMuX3JlZHVjZXIoc3RhdGVzLnN0YXRlLCBhY3Rpb24pLCB7XG4gICAgICAgICAgICAgICAgICAgIGVxdWFsaXR5Q2hlY2s6IHRoaXMuX29wdGlvbnMuZXF1YWxpdHlDaGVjayxcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNWYWx1ZTogc3RhdGVzLnN0YXRlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIHRyYW5zZm9ybWVkU3RhdGUgPSB0aGlzLl9vcHRpb25zLnN0YXRlVHJhbnNmb3JtZXIobmV3U3RhdGUpO1xuICAgICAgICAgICAgcmV0dXJuIHsgc3RhdGU6IG5ld1N0YXRlLCB0cmFuc2Zvcm1lZFN0YXRlOiB0cmFuc2Zvcm1lZFN0YXRlIH07XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLl9nZXREaXNwYXRjaEVycm9yKGFjdGlvbi5tZXRhICYmIGFjdGlvbi5tZXRhLnF1ZXVlSWQpLm5leHQoZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIHsgc3RhdGU6IHN0YXRlcy5zdGF0ZSwgdHJhbnNmb3JtZWRTdGF0ZTogc3RhdGVzLnRyYW5zZm9ybWVkU3RhdGUgfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGF0YVN0b3JlLnByb3RvdHlwZS5fZGlzcGF0Y2hBY3Rpb24gPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kaXNwYXRjaE9ic2VydmFibGVBY3Rpb24oYWN0aW9uLmVycm9yID8gcnhqc18xLnRocm93RXJyb3IoYWN0aW9uKSA6IHJ4anNfMS5vZihhY3Rpb24pKTtcbiAgICB9O1xuICAgIERhdGFTdG9yZS5wcm90b3R5cGUuX2Rpc3BhdGNoT2JzZXJ2YWJsZUFjdGlvbiA9IGZ1bmN0aW9uIChhY3Rpb24kLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgZXJyb3IkID0gX3RoaXMuX2dldERpc3BhdGNoRXJyb3Iob3B0aW9ucy5xdWV1ZUlkKTtcbiAgICAgICAgICAgIHZhciB0cmFuc2Zvcm1lZEFjdGlvbiQgPSBfdGhpcy5fb3B0aW9ucy5hY3Rpb25UcmFuc2Zvcm1lcihyeGpzXzEuZnJvbShhY3Rpb24kKS5waXBlKG9wZXJhdG9yc18xLm1hcChmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMucXVldWVJZCA/XG4gICAgICAgICAgICAgICAgICAgIGxvZGFzaF8xLm1lcmdlKHt9LCBhY3Rpb24sIHsgbWV0YTogeyBxdWV1ZUlkOiBvcHRpb25zLnF1ZXVlSWQgfSB9KSA6XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjtcbiAgICAgICAgICAgIH0pKSk7XG4gICAgICAgICAgICBfdGhpcy5fZ2V0RGlzcGF0Y2hlcihvcHRpb25zLnF1ZXVlSWQpLm5leHQocnhqc18xLmZyb20odHJhbnNmb3JtZWRBY3Rpb24kKVxuICAgICAgICAgICAgICAgIC5waXBlKG9wZXJhdG9yc18xLm1hcChmdW5jdGlvbiAoYWN0aW9uLCBpbmRleCkge1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBlcnJvciQucGlwZShvcGVyYXRvcnNfMS5maXJzdCgpKS5zdWJzY3JpYmUocmVqZWN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvbi5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoYWN0aW9uLnBheWxvYWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYWN0aW9uO1xuICAgICAgICAgICAgfSksIG9wZXJhdG9yc18xLmNhdGNoRXJyb3IoZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICAgICAgICAgIHJlamVjdChhY3Rpb24gaW5zdGFuY2VvZiBFcnJvciA/IGFjdGlvbiA6IGFjdGlvbi5wYXlsb2FkKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcnhqc18xLm9mKGFjdGlvbik7XG4gICAgICAgICAgICB9KSwgb3BlcmF0b3JzXzEudGFwKHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKF90aGlzLmdldFN0YXRlKCkpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KSkpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIERhdGFTdG9yZS5wcm90b3R5cGUuX2Rpc3BhdGNoVGh1bmtBY3Rpb24gPSBmdW5jdGlvbiAodGh1bmtBY3Rpb24sIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rpc3BhdGNoT2JzZXJ2YWJsZUFjdGlvbihyeGpzXzEuZGVmZXIoZnVuY3Rpb24gKCkgeyByZXR1cm4gdGh1bmtBY3Rpb24oX3RoaXMpOyB9KSwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBEYXRhU3RvcmUucHJvdG90eXBlLl9nZXREaXNwYXRjaGVyID0gZnVuY3Rpb24gKHF1ZXVlSWQpIHtcbiAgICAgICAgaWYgKHF1ZXVlSWQgPT09IHZvaWQgMCkgeyBxdWV1ZUlkID0gJ2RlZmF1bHQnOyB9XG4gICAgICAgIGlmICghdGhpcy5fZGlzcGF0Y2hlcnNbcXVldWVJZF0pIHtcbiAgICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoZXJzW3F1ZXVlSWRdID0gbmV3IHJ4anNfMS5TdWJqZWN0KCk7XG4gICAgICAgICAgICB0aGlzLl9kaXNwYXRjaFF1ZXVlJC5uZXh0KHRoaXMuX2Rpc3BhdGNoZXJzW3F1ZXVlSWRdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZGlzcGF0Y2hlcnNbcXVldWVJZF07XG4gICAgfTtcbiAgICBEYXRhU3RvcmUucHJvdG90eXBlLl9nZXREaXNwYXRjaEVycm9yID0gZnVuY3Rpb24gKHF1ZXVlSWQpIHtcbiAgICAgICAgaWYgKHF1ZXVlSWQgPT09IHZvaWQgMCkgeyBxdWV1ZUlkID0gJ2RlZmF1bHQnOyB9XG4gICAgICAgIGlmICghdGhpcy5fZXJyb3JzW3F1ZXVlSWRdKSB7XG4gICAgICAgICAgICB0aGlzLl9lcnJvcnNbcXVldWVJZF0gPSBuZXcgcnhqc18xLlN1YmplY3QoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZXJyb3JzW3F1ZXVlSWRdO1xuICAgIH07XG4gICAgcmV0dXJuIERhdGFTdG9yZTtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBEYXRhU3RvcmU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhLXN0b3JlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGxvZGFzaF8xID0gcmVxdWlyZShcImxvZGFzaFwiKTtcbnZhciBzaGFsbG93RXF1YWwgPSByZXF1aXJlKFwic2hhbGxvd2VxdWFsXCIpO1xuZnVuY3Rpb24gZGVlcEZyZWV6ZShvYmplY3QsIG9wdGlvbnMpIHtcbiAgICB0cnkge1xuICAgICAgICB2YXIgX2EgPSBvcHRpb25zIHx8IHt9LCBfYiA9IF9hLmVxdWFsaXR5Q2hlY2ssIGVxdWFsaXR5Q2hlY2tfMSA9IF9iID09PSB2b2lkIDAgPyBzaGFsbG93RXF1YWwgOiBfYiwgX2MgPSBfYS5wcmV2aW91c1ZhbHVlLCBwcmV2aW91c1ZhbHVlXzEgPSBfYyA9PT0gdm9pZCAwID8gbnVsbCA6IF9jO1xuICAgICAgICBpZiAoZXF1YWxpdHlDaGVja18xKG9iamVjdCwgcHJldmlvdXNWYWx1ZV8xKSAmJiBPYmplY3QuaXNGcm96ZW4ocHJldmlvdXNWYWx1ZV8xKSkge1xuICAgICAgICAgICAgcmV0dXJuIHByZXZpb3VzVmFsdWVfMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoT2JqZWN0LmlzRnJvemVuKG9iamVjdCkgfHwgKCFBcnJheS5pc0FycmF5KG9iamVjdCkgJiYgIWxvZGFzaF8xLmlzUGxhaW5PYmplY3Qob2JqZWN0KSkpIHtcbiAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqZWN0KSkge1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5mcmVlemUob2JqZWN0Lm1hcChmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZXBGcmVlemUodmFsdWUsIHtcbiAgICAgICAgICAgICAgICAgICAgZXF1YWxpdHlDaGVjazogZXF1YWxpdHlDaGVja18xLFxuICAgICAgICAgICAgICAgICAgICBwcmV2aW91c1ZhbHVlOiBBcnJheS5pc0FycmF5KHByZXZpb3VzVmFsdWVfMSkgPyBwcmV2aW91c1ZhbHVlXzFbaW5kZXhdIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPYmplY3QuZnJlZXplKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG9iamVjdCkucmVkdWNlKGZ1bmN0aW9uIChyZXN1bHQsIGtleSkge1xuICAgICAgICAgICAgcmVzdWx0W2tleV0gPSBkZWVwRnJlZXplKG9iamVjdFtrZXldLCB7XG4gICAgICAgICAgICAgICAgZXF1YWxpdHlDaGVjazogZXF1YWxpdHlDaGVja18xLFxuICAgICAgICAgICAgICAgIHByZXZpb3VzVmFsdWU6IHByZXZpb3VzVmFsdWVfMSAmJiBwcmV2aW91c1ZhbHVlXzEuaGFzT3duUHJvcGVydHkoa2V5KSA/XG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzVmFsdWVfMVtrZXldIDpcbiAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9LCB7fSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgVHlwZUVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IGRlZXBGcmVlemU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWVwLWZyZWV6ZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBkYXRhX3N0b3JlXzEgPSByZXF1aXJlKFwiLi9kYXRhLXN0b3JlXCIpO1xuZXhwb3J0cy5EYXRhU3RvcmUgPSBkYXRhX3N0b3JlXzEuZGVmYXVsdDtcbnZhciBjb21iaW5lX3JlZHVjZXJzXzEgPSByZXF1aXJlKFwiLi9jb21iaW5lLXJlZHVjZXJzXCIpO1xuZXhwb3J0cy5jb21iaW5lUmVkdWNlcnMgPSBjb21iaW5lX3JlZHVjZXJzXzEuZGVmYXVsdDtcbnZhciBjb21wb3NlX3JlZHVjZXJzXzEgPSByZXF1aXJlKFwiLi9jb21wb3NlLXJlZHVjZXJzXCIpO1xuZXhwb3J0cy5jb21wb3NlUmVkdWNlcnMgPSBjb21wb3NlX3JlZHVjZXJzXzEuZGVmYXVsdDtcbnZhciBjcmVhdGVfYWN0aW9uXzEgPSByZXF1aXJlKFwiLi9jcmVhdGUtYWN0aW9uXCIpO1xuZXhwb3J0cy5jcmVhdGVBY3Rpb24gPSBjcmVhdGVfYWN0aW9uXzEuZGVmYXVsdDtcbnZhciBjcmVhdGVfZGF0YV9zdG9yZV8xID0gcmVxdWlyZShcIi4vY3JlYXRlLWRhdGEtc3RvcmVcIik7XG5leHBvcnRzLmNyZWF0ZURhdGFTdG9yZSA9IGNyZWF0ZV9kYXRhX3N0b3JlXzEuZGVmYXVsdDtcbnZhciBjcmVhdGVfZXJyb3JfYWN0aW9uXzEgPSByZXF1aXJlKFwiLi9jcmVhdGUtZXJyb3ItYWN0aW9uXCIpO1xuZXhwb3J0cy5jcmVhdGVFcnJvckFjdGlvbiA9IGNyZWF0ZV9lcnJvcl9hY3Rpb25fMS5kZWZhdWx0O1xudmFyIGRlZXBfZnJlZXplXzEgPSByZXF1aXJlKFwiLi9kZWVwLWZyZWV6ZVwiKTtcbmV4cG9ydHMuZGVlcEZyZWV6ZSA9IGRlZXBfZnJlZXplXzEuZGVmYXVsdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZnVuY3Rpb24gaXNPYnNlcnZhYmxlQWN0aW9uTGlrZShhY3Rpb24pIHtcbiAgICByZXR1cm4gKHR5cGVvZiBhY3Rpb24uc3Vic2NyaWJlID09PSAnZnVuY3Rpb24nIHx8XG4gICAgICAgIHR5cGVvZiBhY3Rpb24udGhlbiA9PT0gJ2Z1bmN0aW9uJyk7XG59XG5leHBvcnRzLmRlZmF1bHQgPSBpc09ic2VydmFibGVBY3Rpb25MaWtlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXMtb2JzZXJ2YWJsZS1hY3Rpb24tbGlrZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmZ1bmN0aW9uIG5vb3BBY3Rpb25UcmFuc2Zvcm1lcihhY3Rpb24pIHtcbiAgICByZXR1cm4gYWN0aW9uO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gbm9vcEFjdGlvblRyYW5zZm9ybWVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bm9vcC1hY3Rpb24tdHJhbnNmb3JtZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5mdW5jdGlvbiBub29wU3RhdGVUcmFuc2Zvcm1lcihzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IG5vb3BTdGF0ZVRyYW5zZm9ybWVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bm9vcC1zdGF0ZS10cmFuc2Zvcm1lci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBmb3JtX2J1aWxkZXJfMSA9IHJlcXVpcmUoXCIuL2Zvcm0tYnVpbGRlclwiKTtcbnZhciBmb3JtX3Bvc3Rlcl8xID0gcmVxdWlyZShcIi4vZm9ybS1wb3N0ZXJcIik7XG5mdW5jdGlvbiBjcmVhdGVGb3JtUG9zdGVyKG9wdGlvbnMpIHtcbiAgICB2YXIgZm9ybUJ1aWxkZXIgPSBuZXcgZm9ybV9idWlsZGVyXzEuZGVmYXVsdCgpO1xuICAgIHZhciBmb3JtUG9zdGVyID0gbmV3IGZvcm1fcG9zdGVyXzEuZGVmYXVsdChmb3JtQnVpbGRlciwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIGZvcm1Qb3N0ZXI7XG59XG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVGb3JtUG9zdGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlLWZvcm0tcG9zdGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEZvcm1CdWlsZGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBGb3JtQnVpbGRlcigpIHtcbiAgICB9XG4gICAgRm9ybUJ1aWxkZXIucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24gKHVybCwgZGF0YSwgdGFyZ2V0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpO1xuICAgICAgICBmb3JtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIGZvcm0uc2V0QXR0cmlidXRlKCdhY3Rpb24nLCB1cmwpO1xuICAgICAgICBmb3JtLnNldEF0dHJpYnV0ZSgnbWV0aG9kJywgJ1BPU1QnKTtcbiAgICAgICAgZm9ybS5zZXRBdHRyaWJ1dGUoJ3RhcmdldCcsIHRhcmdldCB8fCAnX3RvcCcpO1xuICAgICAgICBPYmplY3Qua2V5cyhkYXRhKVxuICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gZGF0YVtrZXldO1xuICAgICAgICAgICAgZm9ybS5hcHBlbmRDaGlsZChfdGhpcy5fY3JlYXRlSW5wdXQodmFsdWUsIGtleSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZvcm07XG4gICAgfTtcbiAgICBGb3JtQnVpbGRlci5wcm90b3R5cGUuX2NyZWF0ZUlucHV0ID0gZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgdmFyIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCduYW1lJywga2V5KTtcbiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2hpZGRlbicpO1xuICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgdmFsdWUpO1xuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfTtcbiAgICByZXR1cm4gRm9ybUJ1aWxkZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gRm9ybUJ1aWxkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mb3JtLWJ1aWxkZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdXJsX3V0aWxzXzEgPSByZXF1aXJlKFwiLi91cmwtdXRpbHNcIik7XG52YXIgRm9ybVBvc3RlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRm9ybVBvc3RlcihfZm9ybUJ1aWxkZXIsIF9vcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX2Zvcm1CdWlsZGVyID0gX2Zvcm1CdWlsZGVyO1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gX29wdGlvbnM7XG4gICAgfVxuICAgIEZvcm1Qb3N0ZXIucHJvdG90eXBlLnBvc3RGb3JtID0gZnVuY3Rpb24gKHVybCwgZGF0YSwgY2FsbGJhY2ssIHRhcmdldCkge1xuICAgICAgICB2YXIgZm9ybSA9IHRoaXMuX2Zvcm1CdWlsZGVyLmJ1aWxkKHRoaXMuX3ByZXBlbmRIb3N0KHVybCksIGRhdGEsIHRhcmdldCk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd1bmxvYWQnLCBmdW5jdGlvbiBoYW5kbGVVbmxvYWQoKSB7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndW5sb2FkJywgaGFuZGxlVW5sb2FkKTtcbiAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZvcm0pO1xuICAgICAgICBmb3JtLnN1Ym1pdCgpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGZvcm0pO1xuICAgIH07XG4gICAgRm9ybVBvc3Rlci5wcm90b3R5cGUuX3ByZXBlbmRIb3N0ID0gZnVuY3Rpb24gKHVybCkge1xuICAgICAgICBpZiAoIXRoaXMuX29wdGlvbnMgfHwgIXRoaXMuX29wdGlvbnMuaG9zdCB8fCB1cmxfdXRpbHNfMS5pc0Fic29sdXRlVXJsKHVybCkpIHtcbiAgICAgICAgICAgIHJldHVybiB1cmw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVybF91dGlsc18xLmpvaW5QYXRocyh0aGlzLl9vcHRpb25zLmhvc3QsIHVybCk7XG4gICAgfTtcbiAgICByZXR1cm4gRm9ybVBvc3Rlcjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBGb3JtUG9zdGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Zm9ybS1wb3N0ZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgY3JlYXRlX2Zvcm1fcG9zdGVyXzEgPSByZXF1aXJlKFwiLi9jcmVhdGUtZm9ybS1wb3N0ZXJcIik7XG5leHBvcnRzLmNyZWF0ZUZvcm1Qb3N0ZXIgPSBjcmVhdGVfZm9ybV9wb3N0ZXJfMS5kZWZhdWx0O1xudmFyIGZvcm1fcG9zdGVyXzEgPSByZXF1aXJlKFwiLi9mb3JtLXBvc3RlclwiKTtcbmV4cG9ydHMuRm9ybVBvc3RlciA9IGZvcm1fcG9zdGVyXzEuZGVmYXVsdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZnVuY3Rpb24gaXNBYnNvbHV0ZVVybCh1cmwpIHtcbiAgICByZXR1cm4gL15odHRwcz86XFwvXFwvLy50ZXN0KHVybCk7XG59XG5leHBvcnRzLmlzQWJzb2x1dGVVcmwgPSBpc0Fic29sdXRlVXJsO1xuZnVuY3Rpb24gam9pblBhdGhzKHBhdGhBLCBwYXRoQikge1xuICAgIHJldHVybiByZW1vdmVUcmFpbGluZ1NsYXNoKHBhdGhBKSArIFwiL1wiICsgcmVtb3ZlTGVhZGluZ1NsYXNoKHBhdGhCKTtcbn1cbmV4cG9ydHMuam9pblBhdGhzID0gam9pblBhdGhzO1xuZnVuY3Rpb24gcmVtb3ZlVHJhaWxpbmdTbGFzaChwYXRoKSB7XG4gICAgcmV0dXJuIHBhdGgucmVwbGFjZSgvXFwvJC8sICcnKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZUxlYWRpbmdTbGFzaChwYXRoKSB7XG4gICAgcmV0dXJuIHBhdGgucmVwbGFjZSgvXlxcLy8sICcnKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVybC11dGlscy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmZ1bmN0aW9uIGlzVGVybWluYWxDYWNoZUtleU1hcChtYXApIHtcbiAgICByZXR1cm4gbWFwLmhhc093blByb3BlcnR5KCdjYWNoZUtleScpO1xufVxuZXhwb3J0cy5pc1Rlcm1pbmFsQ2FjaGVLZXlNYXAgPSBpc1Rlcm1pbmFsQ2FjaGVLZXlNYXA7XG5mdW5jdGlvbiBpc1Jvb3RDYWNoZUtleU1hcChtYXApIHtcbiAgICByZXR1cm4gbWFwLmhhc093blByb3BlcnR5KCdwYXJlbnRNYXAnKTtcbn1cbmV4cG9ydHMuaXNSb290Q2FjaGVLZXlNYXAgPSBpc1Jvb3RDYWNoZUtleU1hcDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhY2hlLWtleS1tYXBzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgbG9kYXNoXzEgPSByZXF1aXJlKFwibG9kYXNoXCIpO1xudmFyIHNoYWxsb3dlcXVhbF8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQocmVxdWlyZShcInNoYWxsb3dlcXVhbFwiKSk7XG52YXIgY2FjaGVfa2V5X21hcHNfMSA9IHJlcXVpcmUoXCIuL2NhY2hlLWtleS1tYXBzXCIpO1xudmFyIENhY2hlS2V5UmVzb2x2ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ2FjaGVLZXlSZXNvbHZlcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX2xhc3RJZCA9IDA7XG4gICAgICAgIHRoaXMuX21hcCA9IHsgbWFwczogW10gfTtcbiAgICAgICAgdGhpcy5fdXNlZE1hcHMgPSBbXTtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IHRzbGliXzEuX19hc3NpZ24oeyBpc0VxdWFsOiBzaGFsbG93ZXF1YWxfMS5kZWZhdWx0LCBtYXhTaXplOiAwLCBvbkV4cGlyZTogbG9kYXNoXzEubm9vcCB9LCBvcHRpb25zKTtcbiAgICB9XG4gICAgQ2FjaGVLZXlSZXNvbHZlci5wcm90b3R5cGUuZ2V0S2V5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLl9yZXNvbHZlTWFwLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB2YXIgaW5kZXggPSByZXN1bHQuaW5kZXgsIHBhcmVudE1hcCA9IHJlc3VsdC5wYXJlbnRNYXA7XG4gICAgICAgIHZhciBtYXAgPSByZXN1bHQubWFwO1xuICAgICAgICBpZiAobWFwICYmIG1hcC5jYWNoZUtleSkge1xuICAgICAgICAgICAgbWFwLnVzZWRDb3VudCsrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbWFwID0gdGhpcy5fZ2VuZXJhdGVNYXAocGFyZW50TWFwLCBhcmdzLnNsaWNlKGluZGV4KSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gS2VlcCB0cmFjayBvZiB0aGUgbGVhc3QgdXNlZCBtYXAgc28gd2UgY2FuIHJlbW92ZSBpdCBpZiB0aGUgc2l6ZSBvZlxuICAgICAgICAvLyB0aGUgc3RhY2sgZXhjZWVkcyB0aGUgbWF4aW11bSBzaXplLlxuICAgICAgICB0aGlzLl9yZW1vdmVMZWFzdFVzZWRNYXAobWFwKTtcbiAgICAgICAgcmV0dXJuIG1hcC5jYWNoZUtleTtcbiAgICB9O1xuICAgIENhY2hlS2V5UmVzb2x2ZXIucHJvdG90eXBlLmdldFVzZWRDb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWFwID0gdGhpcy5fcmVzb2x2ZU1hcC5hcHBseSh0aGlzLCBhcmdzKS5tYXA7XG4gICAgICAgIHJldHVybiBtYXAgPyBtYXAudXNlZENvdW50IDogMDtcbiAgICB9O1xuICAgIENhY2hlS2V5UmVzb2x2ZXIucHJvdG90eXBlLl9yZXNvbHZlTWFwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgdmFyIHBhcmVudE1hcCA9IHRoaXMuX21hcDtcbiAgICAgICAgLy8gVHJhdmVyc2UgdGhlIHRyZWUgdG8gZmluZCB0aGUgbGlua2VkIGxpc3Qgb2YgbWFwcyB0aGF0IG1hdGNoIHRoZVxuICAgICAgICAvLyBhcmd1bWVudHMgb2YgdGhlIGNhbGwuIEVhY2ggaW50ZXJtZWRpYXRlIG9yIHRlcm1pbmFsIG1hcCBjb250YWlucyBhXG4gICAgICAgIC8vIHZhbHVlIHRoYXQgY291bGQgYmUgdXNlZCB0byBtYXRjaCB3aXRoIHRoZSBhcmd1bWVudHMuIFRoZSBsYXN0IG1hcCBpblxuICAgICAgICAvLyB0aGUgbGlzdCAodGhlIHRlcm1pbmFsKSBzaG91bGQgY29udGFpbiBhIGNhY2hlIGtleS4gSWYgaXQgY2FuIGRvZXNcbiAgICAgICAgLy8gbm90IGV4aXN0LCB3ZSB3aWxsIHJldHVybiBhIGZhbHN5IHZhbHVlIHNvIHRoYXQgdGhlIGNhbGxlciBjb3VsZFxuICAgICAgICAvLyBoYW5kbGUgYW5kIGdlbmVyYXRlIGEgbmV3IGNhY2hlIGtleS5cbiAgICAgICAgd2hpbGUgKHBhcmVudE1hcC5tYXBzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIGlzTWF0Y2hlZCA9IGZhbHNlO1xuICAgICAgICAgICAgZm9yICh2YXIgbWFwSW5kZXggPSAwOyBtYXBJbmRleCA8IHBhcmVudE1hcC5tYXBzLmxlbmd0aDsgbWFwSW5kZXgrKykge1xuICAgICAgICAgICAgICAgIHZhciBtYXAgPSBwYXJlbnRNYXAubWFwc1ttYXBJbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9vcHRpb25zLmlzRXF1YWwobWFwLnZhbHVlLCBhcmdzW2luZGV4XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIE1vdmUgdGhlIG1vc3QgcmVjZW50bHkgdXNlZCBtYXAgdG8gdGhlIHRvcCBvZiB0aGUgc3RhY2sgZm9yXG4gICAgICAgICAgICAgICAgLy8gcXVpY2tlciBhY2Nlc3NcbiAgICAgICAgICAgICAgICAoX2EgPSBwYXJlbnRNYXAubWFwcykudW5zaGlmdC5hcHBseShfYSwgcGFyZW50TWFwLm1hcHMuc3BsaWNlKG1hcEluZGV4LCAxKSk7XG4gICAgICAgICAgICAgICAgaWYgKChhcmdzLmxlbmd0aCA9PT0gMCB8fCBpbmRleCA9PT0gYXJncy5sZW5ndGggLSAxKSAmJiBjYWNoZV9rZXlfbWFwc18xLmlzVGVybWluYWxDYWNoZUtleU1hcChtYXApKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGluZGV4OiBpbmRleCwgbWFwOiBtYXAsIHBhcmVudE1hcDogcGFyZW50TWFwIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlzTWF0Y2hlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgcGFyZW50TWFwID0gbWFwO1xuICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWlzTWF0Y2hlZCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGluZGV4OiBpbmRleCwgcGFyZW50TWFwOiBwYXJlbnRNYXAgfTtcbiAgICB9O1xuICAgIENhY2hlS2V5UmVzb2x2ZXIucHJvdG90eXBlLl9nZW5lcmF0ZU1hcCA9IGZ1bmN0aW9uIChwYXJlbnQsIGFyZ3MpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgdmFyIHBhcmVudE1hcCA9IHBhcmVudDtcbiAgICAgICAgdmFyIG1hcDtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgbWFwID0ge1xuICAgICAgICAgICAgICAgIG1hcHM6IFtdLFxuICAgICAgICAgICAgICAgIHBhcmVudE1hcDogcGFyZW50TWFwLFxuICAgICAgICAgICAgICAgIHVzZWRDb3VudDogMSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogYXJnc1tpbmRleF0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gQ29udGludWUgdG8gYnVpbGQgdGhlIHRyZWUgb2YgbWFwcyBzbyB0aGF0IGl0IGNvdWxkIGJlIHJlc29sdmVkXG4gICAgICAgICAgICAvLyBuZXh0IHRpbWUgd2hlbiB0aGUgZnVuY3Rpb24gaXMgY2FsbGVkIHdpdGggdGhlIHNhbWUgc2V0IG9mXG4gICAgICAgICAgICAvLyBhcmd1bWVudHMuXG4gICAgICAgICAgICBwYXJlbnRNYXAubWFwcy51bnNoaWZ0KG1hcCk7XG4gICAgICAgICAgICBwYXJlbnRNYXAgPSBtYXA7XG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICB9IHdoaWxlIChpbmRleCA8IGFyZ3MubGVuZ3RoKTtcbiAgICAgICAgdmFyIHRlcm1pbmFsTWFwID0gbWFwO1xuICAgICAgICB0ZXJtaW5hbE1hcC5jYWNoZUtleSA9IFwiXCIgKyArK3RoaXMuX2xhc3RJZDtcbiAgICAgICAgcmV0dXJuIHRlcm1pbmFsTWFwO1xuICAgIH07XG4gICAgQ2FjaGVLZXlSZXNvbHZlci5wcm90b3R5cGUuX3JlbW92ZUxlYXN0VXNlZE1hcCA9IGZ1bmN0aW9uIChyZWNlbnRseVVzZWRNYXApIHtcbiAgICAgICAgaWYgKCF0aGlzLl9vcHRpb25zLm1heFNpemUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLl91c2VkTWFwcy5pbmRleE9mKHJlY2VudGx5VXNlZE1hcCk7XG4gICAgICAgIHRoaXMuX3VzZWRNYXBzLnNwbGljZShpbmRleCA9PT0gLTEgPyAwIDogaW5kZXgsIGluZGV4ID09PSAtMSA/IDAgOiAxLCByZWNlbnRseVVzZWRNYXApO1xuICAgICAgICBpZiAodGhpcy5fdXNlZE1hcHMubGVuZ3RoIDw9IHRoaXMuX29wdGlvbnMubWF4U2l6ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtYXAgPSB0aGlzLl91c2VkTWFwcy5wb3AoKTtcbiAgICAgICAgaWYgKCFtYXApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9yZW1vdmVNYXAobWFwKTtcbiAgICAgICAgdGhpcy5fb3B0aW9ucy5vbkV4cGlyZShtYXAuY2FjaGVLZXkpO1xuICAgIH07XG4gICAgQ2FjaGVLZXlSZXNvbHZlci5wcm90b3R5cGUuX3JlbW92ZU1hcCA9IGZ1bmN0aW9uIChtYXApIHtcbiAgICAgICAgaWYgKCFtYXAucGFyZW50TWFwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbWFwLnBhcmVudE1hcC5tYXBzLnNwbGljZShtYXAucGFyZW50TWFwLm1hcHMuaW5kZXhPZihtYXApLCAxKTtcbiAgICAgICAgaWYgKGNhY2hlX2tleV9tYXBzXzEuaXNSb290Q2FjaGVLZXlNYXAobWFwLnBhcmVudE1hcCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9yZW1vdmVNYXAobWFwLnBhcmVudE1hcCk7XG4gICAgfTtcbiAgICByZXR1cm4gQ2FjaGVLZXlSZXNvbHZlcjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBDYWNoZUtleVJlc29sdmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FjaGUta2V5LXJlc29sdmVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIG1lbW9pemVfMSA9IHJlcXVpcmUoXCIuL21lbW9pemVcIik7XG5leHBvcnRzLm1lbW9pemUgPSBtZW1vaXplXzEuZGVmYXVsdDtcbmV4cG9ydHMubWVtb2l6ZU9uZSA9IG1lbW9pemVfMS5tZW1vaXplT25lO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBsb2Rhc2hfbWVtb2l6ZV8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImxvZGFzaC5tZW1vaXplXCIpKTsgLy8gdHNsaW50OmRpc2FibGUtbGluZTptYXRjaC1kZWZhdWx0LWV4cG9ydC1uYW1lXG52YXIgc2hhbGxvd2VxdWFsXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwic2hhbGxvd2VxdWFsXCIpKTtcbnZhciBjYWNoZV9rZXlfcmVzb2x2ZXJfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2NhY2hlLWtleS1yZXNvbHZlclwiKSk7XG5mdW5jdGlvbiBtZW1vaXplKGZuLCBvcHRpb25zKSB7XG4gICAgdmFyIF9hID0gdHNsaWJfMS5fX2Fzc2lnbih7IG1heFNpemU6IDAsIGlzRXF1YWw6IHNoYWxsb3dlcXVhbF8xLmRlZmF1bHQgfSwgb3B0aW9ucyksIG1heFNpemUgPSBfYS5tYXhTaXplLCBpc0VxdWFsID0gX2EuaXNFcXVhbDtcbiAgICB2YXIgY2FjaGUgPSBuZXcgTWFwKCk7XG4gICAgdmFyIHJlc29sdmVyID0gbmV3IGNhY2hlX2tleV9yZXNvbHZlcl8xLmRlZmF1bHQoe1xuICAgICAgICBpc0VxdWFsOiBpc0VxdWFsLFxuICAgICAgICBtYXhTaXplOiBtYXhTaXplLFxuICAgICAgICBvbkV4cGlyZTogZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gY2FjaGUuZGVsZXRlKGtleSk7IH0sXG4gICAgfSk7XG4gICAgdmFyIG1lbW9pemVkID0gbG9kYXNoX21lbW9pemVfMS5kZWZhdWx0KGZuLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc29sdmVyLmdldEtleS5hcHBseShyZXNvbHZlciwgYXJncyk7XG4gICAgfSk7XG4gICAgbWVtb2l6ZWQuY2FjaGUgPSBjYWNoZTtcbiAgICByZXR1cm4gbWVtb2l6ZWQ7XG59XG5leHBvcnRzLmRlZmF1bHQgPSBtZW1vaXplO1xuZnVuY3Rpb24gbWVtb2l6ZU9uZShmbiwgb3B0aW9ucykge1xuICAgIHJldHVybiBtZW1vaXplKGZuLCB0c2xpYl8xLl9fYXNzaWduKHt9LCBvcHRpb25zLCB7IG1heFNpemU6IDEgfSkpO1xufVxuZXhwb3J0cy5tZW1vaXplT25lID0gbWVtb2l6ZU9uZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lbW9pemUuanMubWFwIiwiaW1wb3J0ICogYXMgcXVlcnlTdHJpbmcgZnJvbSAncXVlcnktc3RyaW5nJztcbnZhciBEZWZhdWx0Q2FjaGUgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERlZmF1bHRDYWNoZSgpIHtcbiAgICAgICAgdGhpcy5fY2FjaGUgPSB7fTtcbiAgICB9XG4gICAgRGVmYXVsdENhY2hlLnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgY2FjaGVLZXkgPSB0aGlzLmdldEtleSh1cmwsIG9wdGlvbnMucGFyYW1zKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlW2NhY2hlS2V5XSB8fCBudWxsO1xuICAgIH07XG4gICAgRGVmYXVsdENhY2hlLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMsIHJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBjYWNoZUtleSA9IHRoaXMuZ2V0S2V5KHVybCwgb3B0aW9ucy5wYXJhbXMpO1xuICAgICAgICB0aGlzLl9jYWNoZVtjYWNoZUtleV0gPSByZXNwb25zZTtcbiAgICB9O1xuICAgIERlZmF1bHRDYWNoZS5wcm90b3R5cGUuZ2V0S2V5ID0gZnVuY3Rpb24gKHVybCwgcGFyYW1zKSB7XG4gICAgICAgIGlmIChwYXJhbXMgPT09IHZvaWQgMCkgeyBwYXJhbXMgPSB7fTsgfVxuICAgICAgICBpZiAoT2JqZWN0LmtleXMocGFyYW1zKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB1cmw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVybCArIFwiP1wiICsgcXVlcnlTdHJpbmcuc3RyaW5naWZ5KHBhcmFtcyk7XG4gICAgfTtcbiAgICByZXR1cm4gRGVmYXVsdENhY2hlO1xufSgpKTtcbmV4cG9ydCB7IERlZmF1bHRDYWNoZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FjaGUuanMubWFwIiwiaW1wb3J0ICogYXMgY29va2llIGZyb20gJ2pzLWNvb2tpZSc7XG5pbXBvcnQgUGF5bG9hZFRyYW5zZm9ybWVyIGZyb20gJy4vcGF5bG9hZC10cmFuc2Zvcm1lcic7XG5pbXBvcnQgUmVxdWVzdEZhY3RvcnkgZnJvbSAnLi9yZXF1ZXN0LWZhY3RvcnknO1xuaW1wb3J0IFJlcXVlc3RTZW5kZXIgZnJvbSAnLi9yZXF1ZXN0LXNlbmRlcic7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVSZXF1ZXN0U2VuZGVyKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IFJlcXVlc3RTZW5kZXIobmV3IFJlcXVlc3RGYWN0b3J5KCksIG5ldyBQYXlsb2FkVHJhbnNmb3JtZXIoKSwgY29va2llLCBvcHRpb25zKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZS1yZXF1ZXN0LXNlbmRlci5qcy5tYXAiLCJpbXBvcnQgVGltZW91dCBmcm9tICcuL3RpbWVvdXQnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlVGltZW91dChkZWxheSkge1xuICAgIHJldHVybiBuZXcgVGltZW91dChkZWxheSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jcmVhdGUtdGltZW91dC5qcy5tYXAiLCJleHBvcnQgeyBkZWZhdWx0IGFzIGNyZWF0ZVJlcXVlc3RTZW5kZXIgfSBmcm9tICcuL2NyZWF0ZS1yZXF1ZXN0LXNlbmRlcic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGNyZWF0ZVRpbWVvdXQgfSBmcm9tICcuL2NyZWF0ZS10aW1lb3V0JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgUmVxdWVzdFNlbmRlciB9IGZyb20gJy4vcmVxdWVzdC1zZW5kZXInO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBUaW1lb3V0IH0gZnJvbSAnLi90aW1lb3V0Jztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzUHJvbWlzZShwcm9taXNlKSB7XG4gICAgcmV0dXJuICEhcHJvbWlzZSAmJlxuICAgICAgICAodHlwZW9mIHByb21pc2UgPT09ICdvYmplY3QnIHx8IHR5cGVvZiBwcm9taXNlID09PSAnZnVuY3Rpb24nKSAmJlxuICAgICAgICB0eXBlb2YgcHJvbWlzZS50aGVuID09PSAnZnVuY3Rpb24nO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXMtcHJvbWlzZS5qcy5tYXAiLCJpbXBvcnQgeyBfX2Fzc2lnbiB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHRvRm9ybVVybEVuY29kZWQgZnJvbSAnLi90by1mb3JtLXVybC1lbmNvZGVkJztcbnZhciBKU09OX0NPTlRFTlRfVFlQRV9SRUdFWFAgPSAvYXBwbGljYXRpb25cXC8oXFx3K1xcKyk/anNvbi87XG52YXIgRk9STV9VUkxFTkNPREVEX0NPTlRFTlRfVFlQRV9SRUdFWFAgPSAvYXBwbGljYXRpb25cXC94LXd3dy1mb3JtLXVybGVuY29kZWQvO1xudmFyIFBheWxvYWRUcmFuc2Zvcm1lciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUGF5bG9hZFRyYW5zZm9ybWVyKCkge1xuICAgIH1cbiAgICBQYXlsb2FkVHJhbnNmb3JtZXIucHJvdG90eXBlLnRvUmVxdWVzdEJvZHkgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgY29udGVudFR5cGUgPSBvcHRpb25zLmhlYWRlcnMgPyB0aGlzLl9nZXRIZWFkZXIob3B0aW9ucy5oZWFkZXJzLCAnQ29udGVudC1UeXBlJykgOiAnJztcbiAgICAgICAgaWYgKG9wdGlvbnMuYm9keSkge1xuICAgICAgICAgICAgaWYgKEpTT05fQ09OVEVOVF9UWVBFX1JFR0VYUC50ZXN0KGNvbnRlbnRUeXBlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShvcHRpb25zLmJvZHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKEZPUk1fVVJMRU5DT0RFRF9DT05URU5UX1RZUEVfUkVHRVhQLnRlc3QoY29udGVudFR5cGUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvRm9ybVVybEVuY29kZWQob3B0aW9ucy5ib2R5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3B0aW9ucy5ib2R5O1xuICAgIH07XG4gICAgUGF5bG9hZFRyYW5zZm9ybWVyLnByb3RvdHlwZS50b1Jlc3BvbnNlID0gZnVuY3Rpb24gKHhocikge1xuICAgICAgICB2YXIgaGVhZGVycyA9IHRoaXMuX3BhcnNlUmVzcG9uc2VIZWFkZXJzKHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSk7XG4gICAgICAgIHZhciBib2R5ID0gdGhpcy5fcGFyc2VSZXNwb25zZUJvZHkoJ3Jlc3BvbnNlJyBpbiB4aHIgPyB4aHIucmVzcG9uc2UgOiB4aHIucmVzcG9uc2VUZXh0LCBoZWFkZXJzKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJvZHk6IGJvZHksXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc3RhdHVzOiB4aHIuc3RhdHVzLFxuICAgICAgICAgICAgc3RhdHVzVGV4dDogeGhyLnN0YXR1c1RleHQsXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBQYXlsb2FkVHJhbnNmb3JtZXIucHJvdG90eXBlLl9wYXJzZVJlc3BvbnNlQm9keSA9IGZ1bmN0aW9uIChib2R5LCBoZWFkZXJzKSB7XG4gICAgICAgIHZhciBjb250ZW50VHlwZSA9IHRoaXMuX2dldEhlYWRlcihoZWFkZXJzLCAnQ29udGVudC1UeXBlJyk7XG4gICAgICAgIGlmIChib2R5ICYmIEpTT05fQ09OVEVOVF9UWVBFX1JFR0VYUC50ZXN0KGNvbnRlbnRUeXBlKSkge1xuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoYm9keSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJvZHk7XG4gICAgfTtcbiAgICBQYXlsb2FkVHJhbnNmb3JtZXIucHJvdG90eXBlLl9wYXJzZVJlc3BvbnNlSGVhZGVycyA9IGZ1bmN0aW9uIChyYXdIZWFkZXJzKSB7XG4gICAgICAgIHZhciBsaW5lcyA9IHJhd0hlYWRlcnMgPyByYXdIZWFkZXJzLnJlcGxhY2UoL1xccj9cXG5bXFx0IF0rL2csICcgJykuc3BsaXQoL1xccj9cXG4vKSA6IFtdO1xuICAgICAgICByZXR1cm4gbGluZXMucmVkdWNlKGZ1bmN0aW9uIChoZWFkZXJzLCBsaW5lKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICB2YXIgcGFydHMgPSBsaW5lLnNwbGl0KCc6Jyk7XG4gICAgICAgICAgICB2YXIga2V5ID0gKHBhcnRzLnNoaWZ0KCkgfHwgJycpLnRyaW0oKTtcbiAgICAgICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhlYWRlcnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sIGhlYWRlcnMpLCAoX2EgPSB7fSwgX2Fba2V5LnRvTG93ZXJDYXNlKCldID0gcGFydHMuam9pbignOicpLnRyaW0oKSwgX2EpKTtcbiAgICAgICAgfSwge30pO1xuICAgIH07XG4gICAgUGF5bG9hZFRyYW5zZm9ybWVyLnByb3RvdHlwZS5fZ2V0SGVhZGVyID0gZnVuY3Rpb24gKGhlYWRlcnMsIGtleSkge1xuICAgICAgICBpZiAoIWhlYWRlcnMgfHwgIWtleSkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoZWFkZXJzW2tleV0gfHwgaGVhZGVyc1trZXkudG9Mb3dlckNhc2UoKV0gfHwgJyc7XG4gICAgfTtcbiAgICByZXR1cm4gUGF5bG9hZFRyYW5zZm9ybWVyO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFBheWxvYWRUcmFuc2Zvcm1lcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBheWxvYWQtdHJhbnNmb3JtZXIuanMubWFwIiwiaW1wb3J0ICogYXMgcXVlcnlTdHJpbmcgZnJvbSAncXVlcnktc3RyaW5nJztcbnZhciBSZXF1ZXN0RmFjdG9yeSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVxdWVzdEZhY3RvcnkoKSB7XG4gICAgfVxuICAgIFJlcXVlc3RGYWN0b3J5LnByb3RvdHlwZS5jcmVhdGVSZXF1ZXN0ID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIHRoaXMuX2NvbmZpZ3VyZVJlcXVlc3QoeGhyLCB1cmwsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4geGhyO1xuICAgIH07XG4gICAgUmVxdWVzdEZhY3RvcnkucHJvdG90eXBlLl9jb25maWd1cmVSZXF1ZXN0ID0gZnVuY3Rpb24gKHhociwgdXJsLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIHhoci5vcGVuKG9wdGlvbnMubWV0aG9kIHx8ICdHRVQnLCB0aGlzLl9mb3JtYXRVcmwodXJsLCBvcHRpb25zLnBhcmFtcywgb3B0aW9ucy5lbmNvZGVQYXJhbXMpLCB0cnVlKTtcbiAgICAgICAgaWYgKG9wdGlvbnMuaGVhZGVycykge1xuICAgICAgICAgICAgdGhpcy5fY29uZmlndXJlUmVxdWVzdEhlYWRlcnMoeGhyLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5jcmVkZW50aWFscyA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gb3B0aW9ucy5jcmVkZW50aWFscztcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMudGltZW91dCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHhoci50aW1lb3V0ID0gb3B0aW9ucy50aW1lb3V0O1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZXF1ZXN0RmFjdG9yeS5wcm90b3R5cGUuX2NvbmZpZ3VyZVJlcXVlc3RIZWFkZXJzID0gZnVuY3Rpb24gKHhociwgaGVhZGVycykge1xuICAgICAgICBPYmplY3Qua2V5cyhoZWFkZXJzKVxuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBoZWFkZXJzW2tleV0gIT09IG51bGw7IH0pXG4gICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIGhlYWRlcnNba2V5XSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUmVxdWVzdEZhY3RvcnkucHJvdG90eXBlLl9mb3JtYXRVcmwgPSBmdW5jdGlvbiAodXJsLCBwYXJhbXMsIGVuY29kZVBhcmFtcykge1xuICAgICAgICBpZiAoZW5jb2RlUGFyYW1zID09PSB2b2lkIDApIHsgZW5jb2RlUGFyYW1zID0gdHJ1ZTsgfVxuICAgICAgICBpZiAoIXBhcmFtcyB8fCBPYmplY3Qua2V5cyhwYXJhbXMpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHVybDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXJsICsgXCI/XCIgKyBxdWVyeVN0cmluZy5zdHJpbmdpZnkocGFyYW1zLCB7IGVuY29kZTogZW5jb2RlUGFyYW1zIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIFJlcXVlc3RGYWN0b3J5O1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFJlcXVlc3RGYWN0b3J5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVxdWVzdC1mYWN0b3J5LmpzLm1hcCIsImltcG9ydCB7IF9fYXNzaWduIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgbWVyZ2UgZnJvbSAnbG9kYXNoLm1lcmdlJztcbmltcG9ydCB7IERlZmF1bHRDYWNoZSB9IGZyb20gJy4vY2FjaGUnO1xuaW1wb3J0IGlzUHJvbWlzZSBmcm9tICcuL2lzLXByb21pc2UnO1xuaW1wb3J0IFRpbWVvdXQgZnJvbSAnLi90aW1lb3V0JztcbnZhciBSZXF1ZXN0U2VuZGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXF1ZXN0U2VuZGVyKF9yZXF1ZXN0RmFjdG9yeSwgX3BheWxvYWRUcmFuc2Zvcm1lciwgX2Nvb2tpZSwgX29wdGlvbnMpIHtcbiAgICAgICAgaWYgKF9vcHRpb25zID09PSB2b2lkIDApIHsgX29wdGlvbnMgPSB7fTsgfVxuICAgICAgICB0aGlzLl9yZXF1ZXN0RmFjdG9yeSA9IF9yZXF1ZXN0RmFjdG9yeTtcbiAgICAgICAgdGhpcy5fcGF5bG9hZFRyYW5zZm9ybWVyID0gX3BheWxvYWRUcmFuc2Zvcm1lcjtcbiAgICAgICAgdGhpcy5fY29va2llID0gX2Nvb2tpZTtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IF9vcHRpb25zO1xuICAgICAgICB0aGlzLl9jYWNoZSA9IHRoaXMuX29wdGlvbnMuY2FjaGUgfHwgbmV3IERlZmF1bHRDYWNoZSgpO1xuICAgIH1cbiAgICBSZXF1ZXN0U2VuZGVyLnByb3RvdHlwZS5zZW5kUmVxdWVzdCA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHJlcXVlc3RPcHRpb25zID0gdGhpcy5fbWVyZ2VEZWZhdWx0T3B0aW9ucyh1cmwsIG9wdGlvbnMpO1xuICAgICAgICB2YXIgY2FjaGVkUmVxdWVzdCA9IHRoaXMuX2dldENhY2hlZFJlcXVlc3QodXJsLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgICAgIGlmIChjYWNoZWRSZXF1ZXN0KSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGNhY2hlZFJlcXVlc3QpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXF1ZXN0ID0gdGhpcy5fcmVxdWVzdEZhY3RvcnkuY3JlYXRlUmVxdWVzdCh0aGlzLl9wcmVwZW5kSG9zdCh1cmwpLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgcmVxdWVzdEhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gX3RoaXMuX3BheWxvYWRUcmFuc2Zvcm1lci50b1Jlc3BvbnNlKHJlcXVlc3QpO1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPj0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyA8IDMwMCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fY2FjaGVSZXF1ZXN0KHVybCwgcmVxdWVzdE9wdGlvbnMsIHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXF1ZXN0Lm9ubG9hZCA9IHJlcXVlc3RIYW5kbGVyO1xuICAgICAgICAgICAgcmVxdWVzdC5vbmVycm9yID0gcmVxdWVzdEhhbmRsZXI7XG4gICAgICAgICAgICByZXF1ZXN0Lm9uYWJvcnQgPSByZXF1ZXN0SGFuZGxlcjtcbiAgICAgICAgICAgIHJlcXVlc3Qub250aW1lb3V0ID0gcmVxdWVzdEhhbmRsZXI7XG4gICAgICAgICAgICBpZiAocmVxdWVzdE9wdGlvbnMudGltZW91dCBpbnN0YW5jZW9mIFRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICByZXF1ZXN0T3B0aW9ucy50aW1lb3V0Lm9uQ29tcGxldGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVxdWVzdC5hYm9ydCgpOyB9KTtcbiAgICAgICAgICAgICAgICByZXF1ZXN0T3B0aW9ucy50aW1lb3V0LnN0YXJ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNQcm9taXNlKHJlcXVlc3RPcHRpb25zLnRpbWVvdXQpKSB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMudGltZW91dC50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlcXVlc3QuYWJvcnQoKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXF1ZXN0LnNlbmQoX3RoaXMuX3BheWxvYWRUcmFuc2Zvcm1lci50b1JlcXVlc3RCb2R5KHJlcXVlc3RPcHRpb25zKSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUmVxdWVzdFNlbmRlci5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5zZW5kUmVxdWVzdCh1cmwsIF9fYXNzaWduKF9fYXNzaWduKHt9LCBvcHRpb25zKSwgeyBtZXRob2Q6ICdHRVQnIH0pKTtcbiAgICB9O1xuICAgIFJlcXVlc3RTZW5kZXIucHJvdG90eXBlLnBvc3QgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbmRSZXF1ZXN0KHVybCwgX19hc3NpZ24oX19hc3NpZ24oe30sIG9wdGlvbnMpLCB7IG1ldGhvZDogJ1BPU1QnIH0pKTtcbiAgICB9O1xuICAgIFJlcXVlc3RTZW5kZXIucHJvdG90eXBlLnB1dCA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VuZFJlcXVlc3QodXJsLCBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgb3B0aW9ucyksIHsgbWV0aG9kOiAnUFVUJyB9KSk7XG4gICAgfTtcbiAgICBSZXF1ZXN0U2VuZGVyLnByb3RvdHlwZS5wYXRjaCA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VuZFJlcXVlc3QodXJsLCBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgb3B0aW9ucyksIHsgbWV0aG9kOiAnUEFUQ0gnIH0pKTtcbiAgICB9O1xuICAgIFJlcXVlc3RTZW5kZXIucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VuZFJlcXVlc3QodXJsLCBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgb3B0aW9ucyksIHsgbWV0aG9kOiAnREVMRVRFJyB9KSk7XG4gICAgfTtcbiAgICBSZXF1ZXN0U2VuZGVyLnByb3RvdHlwZS5fbWVyZ2VEZWZhdWx0T3B0aW9ucyA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgICAgICAgY3JlZGVudGlhbHM6IHRydWUsXG4gICAgICAgICAgICBlbmNvZGVQYXJhbXM6IHRydWUsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICB9O1xuICAgICAgICB2YXIgY3NyZlRva2VuID0gdGhpcy5fY29va2llLmdldCgnWFNSRi1UT0tFTicpO1xuICAgICAgICBpZiAoY3NyZlRva2VuICYmIGRlZmF1bHRPcHRpb25zLmhlYWRlcnMgJiYgIXRoaXMuX2lzQXNzZXRSZXF1ZXN0KHVybCwgb3B0aW9ucykpIHtcbiAgICAgICAgICAgIGRlZmF1bHRPcHRpb25zLmhlYWRlcnNbJ1gtWFNSRi1UT0tFTiddID0gY3NyZlRva2VuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuYm9keSAmJiBkZWZhdWx0T3B0aW9ucy5oZWFkZXJzKSB7XG4gICAgICAgICAgICBkZWZhdWx0T3B0aW9ucy5oZWFkZXJzWydDb250ZW50LVR5cGUnXSA9ICdhcHBsaWNhdGlvbi9qc29uJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVyZ2Uoe30sIGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlcXVlc3RTZW5kZXIucHJvdG90eXBlLl9wcmVwZW5kSG9zdCA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9vcHRpb25zLmhvc3QgfHwgL15odHRwcz86XFwvXFwvLy50ZXN0KHVybCkpIHtcbiAgICAgICAgICAgIHJldHVybiB1cmw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX29wdGlvbnMuaG9zdC5yZXBsYWNlKC9cXC8kLywgJycpICsgXCIvXCIgKyB1cmwucmVwbGFjZSgvXlxcLy8sICcnKTtcbiAgICB9O1xuICAgIFJlcXVlc3RTZW5kZXIucHJvdG90eXBlLl9zaG91bGRDYWNoZVJlcXVlc3QgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgbWV0aG9kID0gb3B0aW9ucy5tZXRob2QgfHwgJ0dFVCc7XG4gICAgICAgIHJldHVybiBtZXRob2QudG9VcHBlckNhc2UoKSA9PT0gJ0dFVCcgJiYgQm9vbGVhbihvcHRpb25zLmNhY2hlKTtcbiAgICB9O1xuICAgIFJlcXVlc3RTZW5kZXIucHJvdG90eXBlLl9nZXRDYWNoZWRSZXF1ZXN0ID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuICAgICAgICBpZiAodGhpcy5fc2hvdWxkQ2FjaGVSZXF1ZXN0KG9wdGlvbnMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGUucmVhZCh1cmwsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgUmVxdWVzdFNlbmRlci5wcm90b3R5cGUuX2NhY2hlUmVxdWVzdCA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMsIHJlc3BvbnNlKSB7XG4gICAgICAgIGlmICh0aGlzLl9zaG91bGRDYWNoZVJlcXVlc3Qob3B0aW9ucykpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlLndyaXRlKHVybCwgb3B0aW9ucywgcmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZXF1ZXN0U2VuZGVyLnByb3RvdHlwZS5faXNBc3NldFJlcXVlc3QgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMubWV0aG9kICYmIG9wdGlvbnMubWV0aG9kLnRvVXBwZXJDYXNlKCkgIT09ICdHRVQnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC9cXC4ocG5nfGdpZnxqcGU/Z3xjc3N8anN8anNvbnxzdmd8aHRtbD8pJC8udGVzdCh1cmwuc3BsaXQoJz8nKVswXSk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVxdWVzdFNlbmRlcjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBSZXF1ZXN0U2VuZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVxdWVzdC1zZW5kZXIuanMubWFwIiwidmFyIFRpbWVvdXQgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRpbWVvdXQoX2RlbGF5KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuX2RlbGF5ID0gX2RlbGF5O1xuICAgICAgICB0aGlzLl9yZXNvbHZlID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgICAgICB0aGlzLl9wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgIF90aGlzLl9yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIFRpbWVvdXQucHJvdG90eXBlLm9uQ29tcGxldGUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fcHJvbWlzZS50aGVuKGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIFRpbWVvdXQucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9yZXNvbHZlKCk7XG4gICAgICAgIGlmICh0aGlzLl90aW1lb3V0VG9rZW4pIHtcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fdGltZW91dFRva2VuKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVGltZW91dC5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLl9kZWxheSkge1xuICAgICAgICAgICAgdGhpcy5fdGltZW91dFRva2VuID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuY29tcGxldGUoKTsgfSwgdGhpcy5fZGVsYXkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gVGltZW91dDtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBUaW1lb3V0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGltZW91dC5qcy5tYXAiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b0Zvcm1VcmxFbmNvZGVkKGRhdGEpIHtcbiAgICBpZiAodHlwZW9mIGRhdGEgIT09ICdvYmplY3QnIHx8IGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIHJldHVybiBPYmplY3Qua2V5cyhkYXRhKVxuICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGRhdGFba2V5XSAhPT0gdW5kZWZpbmVkOyB9KVxuICAgICAgICAubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gZGF0YVtrZXldO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGtleSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ga2V5ICsgXCI9XCIgKyBlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkodmFsdWUpIHx8ICcnKTtcbiAgICB9KVxuICAgICAgICAuam9pbignJicpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dG8tZm9ybS11cmwtZW5jb2RlZC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBCcm93c2VyU3VwcG9ydCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQnJvd3NlclN1cHBvcnQoKSB7XG4gICAgfVxuICAgIEJyb3dzZXJTdXBwb3J0LnByb3RvdHlwZS5jYW5TdXBwb3J0UmVsID0gZnVuY3Rpb24gKHJlbCkge1xuICAgICAgICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKTtcbiAgICAgICAgcmV0dXJuICEhKGxpbmsucmVsTGlzdCAmJlxuICAgICAgICAgICAgbGluay5yZWxMaXN0LnN1cHBvcnRzICYmXG4gICAgICAgICAgICBsaW5rLnJlbExpc3Quc3VwcG9ydHMocmVsKSk7XG4gICAgfTtcbiAgICByZXR1cm4gQnJvd3NlclN1cHBvcnQ7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQnJvd3NlclN1cHBvcnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1icm93c2VyLXN1cHBvcnQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgcmVxdWVzdF9zZW5kZXJfMSA9IHJlcXVpcmUoXCJAYmlnY29tbWVyY2UvcmVxdWVzdC1zZW5kZXJcIik7XG52YXIgYnJvd3Nlcl9zdXBwb3J0XzEgPSByZXF1aXJlKFwiLi9icm93c2VyLXN1cHBvcnRcIik7XG52YXIgc2NyaXB0X2xvYWRlcl8xID0gcmVxdWlyZShcIi4vc2NyaXB0LWxvYWRlclwiKTtcbmZ1bmN0aW9uIGNyZWF0ZVNjcmlwdExvYWRlcigpIHtcbiAgICByZXR1cm4gbmV3IHNjcmlwdF9sb2FkZXJfMS5kZWZhdWx0KG5ldyBicm93c2VyX3N1cHBvcnRfMS5kZWZhdWx0KCksIHJlcXVlc3Rfc2VuZGVyXzEuY3JlYXRlUmVxdWVzdFNlbmRlcigpKTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IGNyZWF0ZVNjcmlwdExvYWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZS1zY3JpcHQtbG9hZGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHJlcXVlc3Rfc2VuZGVyXzEgPSByZXF1aXJlKFwiQGJpZ2NvbW1lcmNlL3JlcXVlc3Qtc2VuZGVyXCIpO1xudmFyIGJyb3dzZXJfc3VwcG9ydF8xID0gcmVxdWlyZShcIi4vYnJvd3Nlci1zdXBwb3J0XCIpO1xudmFyIHN0eWxlc2hlZXRfbG9hZGVyXzEgPSByZXF1aXJlKFwiLi9zdHlsZXNoZWV0LWxvYWRlclwiKTtcbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlc2hlZXRMb2FkZXIoKSB7XG4gICAgcmV0dXJuIG5ldyBzdHlsZXNoZWV0X2xvYWRlcl8xLmRlZmF1bHQobmV3IGJyb3dzZXJfc3VwcG9ydF8xLmRlZmF1bHQoKSwgcmVxdWVzdF9zZW5kZXJfMS5jcmVhdGVSZXF1ZXN0U2VuZGVyKCkpO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gY3JlYXRlU3R5bGVzaGVldExvYWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZS1zdHlsZXNoZWV0LWxvYWRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBjcmVhdGVfc2NyaXB0X2xvYWRlcl8xID0gcmVxdWlyZShcIi4vY3JlYXRlLXNjcmlwdC1sb2FkZXJcIik7XG52YXIgaW5zdGFuY2U7XG5mdW5jdGlvbiBnZXRTY3JpcHRMb2FkZXIoKSB7XG4gICAgaWYgKCFpbnN0YW5jZSkge1xuICAgICAgICBpbnN0YW5jZSA9IGNyZWF0ZV9zY3JpcHRfbG9hZGVyXzEuZGVmYXVsdCgpO1xuICAgIH1cbiAgICByZXR1cm4gaW5zdGFuY2U7XG59XG5leHBvcnRzLmRlZmF1bHQgPSBnZXRTY3JpcHRMb2FkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXQtc2NyaXB0LWxvYWRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBjcmVhdGVfc3R5bGVzaGVldF9sb2FkZXJfMSA9IHJlcXVpcmUoXCIuL2NyZWF0ZS1zdHlsZXNoZWV0LWxvYWRlclwiKTtcbnZhciBpbnN0YW5jZTtcbmZ1bmN0aW9uIGdldFN0eWxlc2hlZXRMb2FkZXIoKSB7XG4gICAgaWYgKCFpbnN0YW5jZSkge1xuICAgICAgICBpbnN0YW5jZSA9IGNyZWF0ZV9zdHlsZXNoZWV0X2xvYWRlcl8xLmRlZmF1bHQoKTtcbiAgICB9XG4gICAgcmV0dXJuIGluc3RhbmNlO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gZ2V0U3R5bGVzaGVldExvYWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldC1zdHlsZXNoZWV0LWxvYWRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBzY3JpcHRfbG9hZGVyXzEgPSByZXF1aXJlKFwiLi9zY3JpcHQtbG9hZGVyXCIpO1xuZXhwb3J0cy5TY3JpcHRMb2FkZXIgPSBzY3JpcHRfbG9hZGVyXzEuZGVmYXVsdDtcbnZhciBjcmVhdGVfc2NyaXB0X2xvYWRlcl8xID0gcmVxdWlyZShcIi4vY3JlYXRlLXNjcmlwdC1sb2FkZXJcIik7XG5leHBvcnRzLmNyZWF0ZVNjcmlwdExvYWRlciA9IGNyZWF0ZV9zY3JpcHRfbG9hZGVyXzEuZGVmYXVsdDtcbnZhciBnZXRfc2NyaXB0X2xvYWRlcl8xID0gcmVxdWlyZShcIi4vZ2V0LXNjcmlwdC1sb2FkZXJcIik7XG5leHBvcnRzLmdldFNjcmlwdExvYWRlciA9IGdldF9zY3JpcHRfbG9hZGVyXzEuZGVmYXVsdDtcbnZhciBzdHlsZXNoZWV0X2xvYWRlcl8xID0gcmVxdWlyZShcIi4vc3R5bGVzaGVldC1sb2FkZXJcIik7XG5leHBvcnRzLlN0eWxlc2hlZXRMb2FkZXIgPSBzdHlsZXNoZWV0X2xvYWRlcl8xLmRlZmF1bHQ7XG52YXIgY3JlYXRlX3N0eWxlc2hlZXRfbG9hZGVyXzEgPSByZXF1aXJlKFwiLi9jcmVhdGUtc3R5bGVzaGVldC1sb2FkZXJcIik7XG5leHBvcnRzLmNyZWF0ZVN0eWxlc2hlZXRMb2FkZXIgPSBjcmVhdGVfc3R5bGVzaGVldF9sb2FkZXJfMS5kZWZhdWx0O1xudmFyIGdldF9zdHlsZXNoZWV0X2xvYWRlcl8xID0gcmVxdWlyZShcIi4vZ2V0LXN0eWxlc2hlZXQtbG9hZGVyXCIpO1xuZXhwb3J0cy5nZXRTdHlsZXNoZWV0TG9hZGVyID0gZ2V0X3N0eWxlc2hlZXRfbG9hZGVyXzEuZGVmYXVsdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFNjcmlwdExvYWRlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2NyaXB0TG9hZGVyKF9icm93c2VyU3VwcG9ydCwgX3JlcXVlc3RTZW5kZXIpIHtcbiAgICAgICAgdGhpcy5fYnJvd3NlclN1cHBvcnQgPSBfYnJvd3NlclN1cHBvcnQ7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RTZW5kZXIgPSBfcmVxdWVzdFNlbmRlcjtcbiAgICAgICAgdGhpcy5fc2NyaXB0cyA9IHt9O1xuICAgICAgICB0aGlzLl9wcmVsb2FkZWRTY3JpcHRzID0ge307XG4gICAgfVxuICAgIFNjcmlwdExvYWRlci5wcm90b3R5cGUubG9hZFNjcmlwdCA9IGZ1bmN0aW9uIChzcmMsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLl9zY3JpcHRzW3NyY10pIHtcbiAgICAgICAgICAgIHRoaXMuX3NjcmlwdHNbc3JjXSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICAgICAgICAgICAgdmFyIF9hID0gb3B0aW9ucyB8fCB7fSwgX2IgPSBfYS5hc3luYywgYXN5bmMgPSBfYiA9PT0gdm9pZCAwID8gZmFsc2UgOiBfYiwgX2MgPSBfYS5hdHRyaWJ1dGVzLCBhdHRyaWJ1dGVzID0gX2MgPT09IHZvaWQgMCA/IHt9IDogX2M7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoYXR0cmlidXRlcylcbiAgICAgICAgICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgICAgICBzY3JpcHQuc2V0QXR0cmlidXRlKGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzY3JpcHQub25sb2FkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVzb2x2ZSgpOyB9O1xuICAgICAgICAgICAgICAgIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7IHJldHVybiByZXNvbHZlKCk7IH07XG4gICAgICAgICAgICAgICAgc2NyaXB0Lm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIF90aGlzLl9zY3JpcHRzW3NyY107XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChldmVudCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBzY3JpcHQuYXN5bmMgPSBhc3luYztcbiAgICAgICAgICAgICAgICBzY3JpcHQuc3JjID0gc3JjO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9zY3JpcHRzW3NyY107XG4gICAgfTtcbiAgICBTY3JpcHRMb2FkZXIucHJvdG90eXBlLmxvYWRTY3JpcHRzID0gZnVuY3Rpb24gKHVybHMsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHVybHMubWFwKGZ1bmN0aW9uICh1cmwpIHsgcmV0dXJuIF90aGlzLmxvYWRTY3JpcHQodXJsLCBvcHRpb25zKTsgfSkpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0pO1xuICAgIH07XG4gICAgU2NyaXB0TG9hZGVyLnByb3RvdHlwZS5wcmVsb2FkU2NyaXB0ID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXRoaXMuX3ByZWxvYWRlZFNjcmlwdHNbdXJsXSkge1xuICAgICAgICAgICAgdGhpcy5fcHJlbG9hZGVkU2NyaXB0c1t1cmxdID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgIHZhciBfYSA9IChvcHRpb25zIHx8IHt9KS5wcmVmZXRjaCwgcHJlZmV0Y2ggPSBfYSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfYTtcbiAgICAgICAgICAgICAgICB2YXIgcmVsID0gcHJlZmV0Y2ggPyAncHJlZmV0Y2gnIDogJ3ByZWxvYWQnO1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fYnJvd3NlclN1cHBvcnQuY2FuU3VwcG9ydFJlbChyZWwpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcmVsb2FkZWRTY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7XG4gICAgICAgICAgICAgICAgICAgIHByZWxvYWRlZFNjcmlwdC5hcyA9ICdzY3JpcHQnO1xuICAgICAgICAgICAgICAgICAgICBwcmVsb2FkZWRTY3JpcHQucmVsID0gcmVsO1xuICAgICAgICAgICAgICAgICAgICBwcmVsb2FkZWRTY3JpcHQuaHJlZiA9IHVybDtcbiAgICAgICAgICAgICAgICAgICAgcHJlbG9hZGVkU2NyaXB0Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcHJlbG9hZGVkU2NyaXB0Lm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgX3RoaXMuX3ByZWxvYWRlZFNjcmlwdHNbdXJsXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHByZWxvYWRlZFNjcmlwdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fcmVxdWVzdFNlbmRlci5nZXQodXJsLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFsczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2phdmFzY3JpcHQnIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiByZXNvbHZlKCk7IH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2gocmVqZWN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcHJlbG9hZGVkU2NyaXB0c1t1cmxdO1xuICAgIH07XG4gICAgU2NyaXB0TG9hZGVyLnByb3RvdHlwZS5wcmVsb2FkU2NyaXB0cyA9IGZ1bmN0aW9uICh1cmxzLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbCh1cmxzLm1hcChmdW5jdGlvbiAodXJsKSB7IHJldHVybiBfdGhpcy5wcmVsb2FkU2NyaXB0KHVybCwgb3B0aW9ucyk7IH0pKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9KTtcbiAgICB9O1xuICAgIHJldHVybiBTY3JpcHRMb2FkZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gU2NyaXB0TG9hZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NyaXB0LWxvYWRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBTdHlsZXNoZWV0TG9hZGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdHlsZXNoZWV0TG9hZGVyKF9icm93c2VyU3VwcG9ydCwgX3JlcXVlc3RTZW5kZXIpIHtcbiAgICAgICAgdGhpcy5fYnJvd3NlclN1cHBvcnQgPSBfYnJvd3NlclN1cHBvcnQ7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RTZW5kZXIgPSBfcmVxdWVzdFNlbmRlcjtcbiAgICAgICAgdGhpcy5fc3R5bGVzaGVldHMgPSB7fTtcbiAgICAgICAgdGhpcy5fcHJlbG9hZGVkU3R5bGVzaGVldHMgPSB7fTtcbiAgICB9XG4gICAgU3R5bGVzaGVldExvYWRlci5wcm90b3R5cGUubG9hZFN0eWxlc2hlZXQgPSBmdW5jdGlvbiAoc3JjLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5fc3R5bGVzaGVldHNbc3JjXSkge1xuICAgICAgICAgICAgdGhpcy5fc3R5bGVzaGVldHNbc3JjXSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3R5bGVzaGVldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKTtcbiAgICAgICAgICAgICAgICB2YXIgX2EgPSBvcHRpb25zIHx8IHt9LCBfYiA9IF9hLnByZXBlbmQsIHByZXBlbmQgPSBfYiA9PT0gdm9pZCAwID8gZmFsc2UgOiBfYiwgX2MgPSBfYS5hdHRyaWJ1dGVzLCBhdHRyaWJ1dGVzID0gX2MgPT09IHZvaWQgMCA/IHt9IDogX2M7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoYXR0cmlidXRlcylcbiAgICAgICAgICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgICAgICBzdHlsZXNoZWV0LnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc3R5bGVzaGVldC5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiByZXNvbHZlKCk7IH07XG4gICAgICAgICAgICAgICAgc3R5bGVzaGVldC5vbmVycm9yID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBfdGhpcy5fc3R5bGVzaGVldHNbc3JjXTtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGV2ZW50KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHN0eWxlc2hlZXQucmVsID0gJ3N0eWxlc2hlZXQnO1xuICAgICAgICAgICAgICAgIHN0eWxlc2hlZXQuaHJlZiA9IHNyYztcbiAgICAgICAgICAgICAgICBpZiAocHJlcGVuZCAmJiBkb2N1bWVudC5oZWFkLmNoaWxkcmVuWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlc2hlZXQsIGRvY3VtZW50LmhlYWQuY2hpbGRyZW5bMF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZXNoZWV0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fc3R5bGVzaGVldHNbc3JjXTtcbiAgICB9O1xuICAgIFN0eWxlc2hlZXRMb2FkZXIucHJvdG90eXBlLmxvYWRTdHlsZXNoZWV0cyA9IGZ1bmN0aW9uICh1cmxzLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbCh1cmxzLm1hcChmdW5jdGlvbiAodXJsKSB7IHJldHVybiBfdGhpcy5sb2FkU3R5bGVzaGVldCh1cmwsIG9wdGlvbnMpOyB9KSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSk7XG4gICAgfTtcbiAgICBTdHlsZXNoZWV0TG9hZGVyLnByb3RvdHlwZS5wcmVsb2FkU3R5bGVzaGVldCA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLl9wcmVsb2FkZWRTdHlsZXNoZWV0c1t1cmxdKSB7XG4gICAgICAgICAgICB0aGlzLl9wcmVsb2FkZWRTdHlsZXNoZWV0c1t1cmxdID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgIHZhciBfYSA9IChvcHRpb25zIHx8IHt9KS5wcmVmZXRjaCwgcHJlZmV0Y2ggPSBfYSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfYTtcbiAgICAgICAgICAgICAgICB2YXIgcmVsID0gcHJlZmV0Y2ggPyAncHJlZmV0Y2gnIDogJ3ByZWxvYWQnO1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fYnJvd3NlclN1cHBvcnQuY2FuU3VwcG9ydFJlbChyZWwpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcmVsb2FkZWRTdHlsZXNoZWV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpO1xuICAgICAgICAgICAgICAgICAgICBwcmVsb2FkZWRTdHlsZXNoZWV0LmFzID0gJ3N0eWxlJztcbiAgICAgICAgICAgICAgICAgICAgcHJlbG9hZGVkU3R5bGVzaGVldC5yZWwgPSBwcmVmZXRjaCA/ICdwcmVmZXRjaCcgOiAncHJlbG9hZCc7XG4gICAgICAgICAgICAgICAgICAgIHByZWxvYWRlZFN0eWxlc2hlZXQuaHJlZiA9IHVybDtcbiAgICAgICAgICAgICAgICAgICAgcHJlbG9hZGVkU3R5bGVzaGVldC5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHByZWxvYWRlZFN0eWxlc2hlZXQub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIF90aGlzLl9wcmVsb2FkZWRTdHlsZXNoZWV0c1t1cmxdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChwcmVsb2FkZWRTdHlsZXNoZWV0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9yZXF1ZXN0U2VuZGVyLmdldCh1cmwsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgQWNjZXB0OiAndGV4dC9jc3MnIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiByZXNvbHZlKCk7IH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2gocmVqZWN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcHJlbG9hZGVkU3R5bGVzaGVldHNbdXJsXTtcbiAgICB9O1xuICAgIFN0eWxlc2hlZXRMb2FkZXIucHJvdG90eXBlLnByZWxvYWRTdHlsZXNoZWV0cyA9IGZ1bmN0aW9uICh1cmxzLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbCh1cmxzLm1hcChmdW5jdGlvbiAodXJsKSB7IHJldHVybiBfdGhpcy5wcmVsb2FkU3R5bGVzaGVldCh1cmwsIG9wdGlvbnMpOyB9KSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gU3R5bGVzaGVldExvYWRlcjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBTdHlsZXNoZWV0TG9hZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3R5bGVzaGVldC1sb2FkZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgb2JqZWN0QXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuXG4vLyBjb21wYXJlIGFuZCBpc0J1ZmZlciB0YWtlbiBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL2Jsb2IvNjgwZTllNWU0ODhmMjJhYWMyNzU5OWE1N2RjODQ0YTYzMTU5MjhkZC9pbmRleC5qc1xuLy8gb3JpZ2luYWwgbm90aWNlOlxuXG4vKiFcbiAqIFRoZSBidWZmZXIgbW9kdWxlIGZyb20gbm9kZS5qcywgZm9yIHRoZSBicm93c2VyLlxuICpcbiAqIEBhdXRob3IgICBGZXJvc3MgQWJvdWtoYWRpamVoIDxmZXJvc3NAZmVyb3NzLm9yZz4gPGh0dHA6Ly9mZXJvc3Mub3JnPlxuICogQGxpY2Vuc2UgIE1JVFxuICovXG5mdW5jdGlvbiBjb21wYXJlKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIHZhciB4ID0gYS5sZW5ndGg7XG4gIHZhciB5ID0gYi5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IE1hdGgubWluKHgsIHkpOyBpIDwgbGVuOyArK2kpIHtcbiAgICBpZiAoYVtpXSAhPT0gYltpXSkge1xuICAgICAgeCA9IGFbaV07XG4gICAgICB5ID0gYltpXTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGlmICh4IDwgeSkge1xuICAgIHJldHVybiAtMTtcbiAgfVxuICBpZiAoeSA8IHgpIHtcbiAgICByZXR1cm4gMTtcbiAgfVxuICByZXR1cm4gMDtcbn1cbmZ1bmN0aW9uIGlzQnVmZmVyKGIpIHtcbiAgaWYgKGdsb2JhbC5CdWZmZXIgJiYgdHlwZW9mIGdsb2JhbC5CdWZmZXIuaXNCdWZmZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZ2xvYmFsLkJ1ZmZlci5pc0J1ZmZlcihiKTtcbiAgfVxuICByZXR1cm4gISEoYiAhPSBudWxsICYmIGIuX2lzQnVmZmVyKTtcbn1cblxuLy8gYmFzZWQgb24gbm9kZSBhc3NlcnQsIG9yaWdpbmFsIG5vdGljZTpcbi8vIE5COiBUaGUgVVJMIHRvIHRoZSBDb21tb25KUyBzcGVjIGlzIGtlcHQganVzdCBmb3IgdHJhZGl0aW9uLlxuLy8gICAgIG5vZGUtYXNzZXJ0IGhhcyBldm9sdmVkIGEgbG90IHNpbmNlIHRoZW4sIGJvdGggaW4gQVBJIGFuZCBiZWhhdmlvci5cblxuLy8gaHR0cDovL3dpa2kuY29tbW9uanMub3JnL3dpa2kvVW5pdF9UZXN0aW5nLzEuMFxuLy9cbi8vIFRISVMgSVMgTk9UIFRFU1RFRCBOT1IgTElLRUxZIFRPIFdPUksgT1VUU0lERSBWOCFcbi8vXG4vLyBPcmlnaW5hbGx5IGZyb20gbmFyd2hhbC5qcyAoaHR0cDovL25hcndoYWxqcy5vcmcpXG4vLyBDb3B5cmlnaHQgKGMpIDIwMDkgVGhvbWFzIFJvYmluc29uIDwyODBub3J0aC5jb20+XG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuLy8gb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgJ1NvZnR3YXJlJyksIHRvXG4vLyBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZVxuLy8gcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yXG4vLyBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuLy8gZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuLy8gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICdBUyBJUycsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1Jcbi8vIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuLy8gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4vLyBBVVRIT1JTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTlxuLy8gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTlxuLy8gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbnZhciB1dGlsID0gcmVxdWlyZSgndXRpbC8nKTtcbnZhciBoYXNPd24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIHBTbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcbnZhciBmdW5jdGlvbnNIYXZlTmFtZXMgPSAoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZnVuY3Rpb24gZm9vKCkge30ubmFtZSA9PT0gJ2Zvbyc7XG59KCkpO1xuZnVuY3Rpb24gcFRvU3RyaW5nIChvYmopIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopO1xufVxuZnVuY3Rpb24gaXNWaWV3KGFycmJ1Zikge1xuICBpZiAoaXNCdWZmZXIoYXJyYnVmKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAodHlwZW9mIGdsb2JhbC5BcnJheUJ1ZmZlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAodHlwZW9mIEFycmF5QnVmZmVyLmlzVmlldyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBBcnJheUJ1ZmZlci5pc1ZpZXcoYXJyYnVmKTtcbiAgfVxuICBpZiAoIWFycmJ1Zikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoYXJyYnVmIGluc3RhbmNlb2YgRGF0YVZpZXcpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoYXJyYnVmLmJ1ZmZlciAmJiBhcnJidWYuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG4vLyAxLiBUaGUgYXNzZXJ0IG1vZHVsZSBwcm92aWRlcyBmdW5jdGlvbnMgdGhhdCB0aHJvd1xuLy8gQXNzZXJ0aW9uRXJyb3IncyB3aGVuIHBhcnRpY3VsYXIgY29uZGl0aW9ucyBhcmUgbm90IG1ldC4gVGhlXG4vLyBhc3NlcnQgbW9kdWxlIG11c3QgY29uZm9ybSB0byB0aGUgZm9sbG93aW5nIGludGVyZmFjZS5cblxudmFyIGFzc2VydCA9IG1vZHVsZS5leHBvcnRzID0gb2s7XG5cbi8vIDIuIFRoZSBBc3NlcnRpb25FcnJvciBpcyBkZWZpbmVkIGluIGFzc2VydC5cbi8vIG5ldyBhc3NlcnQuQXNzZXJ0aW9uRXJyb3IoeyBtZXNzYWdlOiBtZXNzYWdlLFxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdHVhbDogYWN0dWFsLFxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBleHBlY3RlZCB9KVxuXG52YXIgcmVnZXggPSAvXFxzKmZ1bmN0aW9uXFxzKyhbXlxcKFxcc10qKVxccyovO1xuLy8gYmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL2xqaGFyYi9mdW5jdGlvbi5wcm90b3R5cGUubmFtZS9ibG9iL2FkZWVlZWM4YmZjYzYwNjhiMTg3ZDdkOWZiM2Q1YmIxZDNhMzA4OTkvaW1wbGVtZW50YXRpb24uanNcbmZ1bmN0aW9uIGdldE5hbWUoZnVuYykge1xuICBpZiAoIXV0aWwuaXNGdW5jdGlvbihmdW5jKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoZnVuY3Rpb25zSGF2ZU5hbWVzKSB7XG4gICAgcmV0dXJuIGZ1bmMubmFtZTtcbiAgfVxuICB2YXIgc3RyID0gZnVuYy50b1N0cmluZygpO1xuICB2YXIgbWF0Y2ggPSBzdHIubWF0Y2gocmVnZXgpO1xuICByZXR1cm4gbWF0Y2ggJiYgbWF0Y2hbMV07XG59XG5hc3NlcnQuQXNzZXJ0aW9uRXJyb3IgPSBmdW5jdGlvbiBBc3NlcnRpb25FcnJvcihvcHRpb25zKSB7XG4gIHRoaXMubmFtZSA9ICdBc3NlcnRpb25FcnJvcic7XG4gIHRoaXMuYWN0dWFsID0gb3B0aW9ucy5hY3R1YWw7XG4gIHRoaXMuZXhwZWN0ZWQgPSBvcHRpb25zLmV4cGVjdGVkO1xuICB0aGlzLm9wZXJhdG9yID0gb3B0aW9ucy5vcGVyYXRvcjtcbiAgaWYgKG9wdGlvbnMubWVzc2FnZSkge1xuICAgIHRoaXMubWVzc2FnZSA9IG9wdGlvbnMubWVzc2FnZTtcbiAgICB0aGlzLmdlbmVyYXRlZE1lc3NhZ2UgPSBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLm1lc3NhZ2UgPSBnZXRNZXNzYWdlKHRoaXMpO1xuICAgIHRoaXMuZ2VuZXJhdGVkTWVzc2FnZSA9IHRydWU7XG4gIH1cbiAgdmFyIHN0YWNrU3RhcnRGdW5jdGlvbiA9IG9wdGlvbnMuc3RhY2tTdGFydEZ1bmN0aW9uIHx8IGZhaWw7XG4gIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkge1xuICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIHN0YWNrU3RhcnRGdW5jdGlvbik7XG4gIH0gZWxzZSB7XG4gICAgLy8gbm9uIHY4IGJyb3dzZXJzIHNvIHdlIGNhbiBoYXZlIGEgc3RhY2t0cmFjZVxuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoKTtcbiAgICBpZiAoZXJyLnN0YWNrKSB7XG4gICAgICB2YXIgb3V0ID0gZXJyLnN0YWNrO1xuXG4gICAgICAvLyB0cnkgdG8gc3RyaXAgdXNlbGVzcyBmcmFtZXNcbiAgICAgIHZhciBmbl9uYW1lID0gZ2V0TmFtZShzdGFja1N0YXJ0RnVuY3Rpb24pO1xuICAgICAgdmFyIGlkeCA9IG91dC5pbmRleE9mKCdcXG4nICsgZm5fbmFtZSk7XG4gICAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgICAgLy8gb25jZSB3ZSBoYXZlIGxvY2F0ZWQgdGhlIGZ1bmN0aW9uIGZyYW1lXG4gICAgICAgIC8vIHdlIG5lZWQgdG8gc3RyaXAgb3V0IGV2ZXJ5dGhpbmcgYmVmb3JlIGl0IChhbmQgaXRzIGxpbmUpXG4gICAgICAgIHZhciBuZXh0X2xpbmUgPSBvdXQuaW5kZXhPZignXFxuJywgaWR4ICsgMSk7XG4gICAgICAgIG91dCA9IG91dC5zdWJzdHJpbmcobmV4dF9saW5lICsgMSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc3RhY2sgPSBvdXQ7XG4gICAgfVxuICB9XG59O1xuXG4vLyBhc3NlcnQuQXNzZXJ0aW9uRXJyb3IgaW5zdGFuY2VvZiBFcnJvclxudXRpbC5pbmhlcml0cyhhc3NlcnQuQXNzZXJ0aW9uRXJyb3IsIEVycm9yKTtcblxuZnVuY3Rpb24gdHJ1bmNhdGUocywgbikge1xuICBpZiAodHlwZW9mIHMgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHMubGVuZ3RoIDwgbiA/IHMgOiBzLnNsaWNlKDAsIG4pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzO1xuICB9XG59XG5mdW5jdGlvbiBpbnNwZWN0KHNvbWV0aGluZykge1xuICBpZiAoZnVuY3Rpb25zSGF2ZU5hbWVzIHx8ICF1dGlsLmlzRnVuY3Rpb24oc29tZXRoaW5nKSkge1xuICAgIHJldHVybiB1dGlsLmluc3BlY3Qoc29tZXRoaW5nKTtcbiAgfVxuICB2YXIgcmF3bmFtZSA9IGdldE5hbWUoc29tZXRoaW5nKTtcbiAgdmFyIG5hbWUgPSByYXduYW1lID8gJzogJyArIHJhd25hbWUgOiAnJztcbiAgcmV0dXJuICdbRnVuY3Rpb24nICsgIG5hbWUgKyAnXSc7XG59XG5mdW5jdGlvbiBnZXRNZXNzYWdlKHNlbGYpIHtcbiAgcmV0dXJuIHRydW5jYXRlKGluc3BlY3Qoc2VsZi5hY3R1YWwpLCAxMjgpICsgJyAnICtcbiAgICAgICAgIHNlbGYub3BlcmF0b3IgKyAnICcgK1xuICAgICAgICAgdHJ1bmNhdGUoaW5zcGVjdChzZWxmLmV4cGVjdGVkKSwgMTI4KTtcbn1cblxuLy8gQXQgcHJlc2VudCBvbmx5IHRoZSB0aHJlZSBrZXlzIG1lbnRpb25lZCBhYm92ZSBhcmUgdXNlZCBhbmRcbi8vIHVuZGVyc3Rvb2QgYnkgdGhlIHNwZWMuIEltcGxlbWVudGF0aW9ucyBvciBzdWIgbW9kdWxlcyBjYW4gcGFzc1xuLy8gb3RoZXIga2V5cyB0byB0aGUgQXNzZXJ0aW9uRXJyb3IncyBjb25zdHJ1Y3RvciAtIHRoZXkgd2lsbCBiZVxuLy8gaWdub3JlZC5cblxuLy8gMy4gQWxsIG9mIHRoZSBmb2xsb3dpbmcgZnVuY3Rpb25zIG11c3QgdGhyb3cgYW4gQXNzZXJ0aW9uRXJyb3Jcbi8vIHdoZW4gYSBjb3JyZXNwb25kaW5nIGNvbmRpdGlvbiBpcyBub3QgbWV0LCB3aXRoIGEgbWVzc2FnZSB0aGF0XG4vLyBtYXkgYmUgdW5kZWZpbmVkIGlmIG5vdCBwcm92aWRlZC4gIEFsbCBhc3NlcnRpb24gbWV0aG9kcyBwcm92aWRlXG4vLyBib3RoIHRoZSBhY3R1YWwgYW5kIGV4cGVjdGVkIHZhbHVlcyB0byB0aGUgYXNzZXJ0aW9uIGVycm9yIGZvclxuLy8gZGlzcGxheSBwdXJwb3Nlcy5cblxuZnVuY3Rpb24gZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCBvcGVyYXRvciwgc3RhY2tTdGFydEZ1bmN0aW9uKSB7XG4gIHRocm93IG5ldyBhc3NlcnQuQXNzZXJ0aW9uRXJyb3Ioe1xuICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgYWN0dWFsOiBhY3R1YWwsXG4gICAgZXhwZWN0ZWQ6IGV4cGVjdGVkLFxuICAgIG9wZXJhdG9yOiBvcGVyYXRvcixcbiAgICBzdGFja1N0YXJ0RnVuY3Rpb246IHN0YWNrU3RhcnRGdW5jdGlvblxuICB9KTtcbn1cblxuLy8gRVhURU5TSU9OISBhbGxvd3MgZm9yIHdlbGwgYmVoYXZlZCBlcnJvcnMgZGVmaW5lZCBlbHNld2hlcmUuXG5hc3NlcnQuZmFpbCA9IGZhaWw7XG5cbi8vIDQuIFB1cmUgYXNzZXJ0aW9uIHRlc3RzIHdoZXRoZXIgYSB2YWx1ZSBpcyB0cnV0aHksIGFzIGRldGVybWluZWRcbi8vIGJ5ICEhZ3VhcmQuXG4vLyBhc3NlcnQub2soZ3VhcmQsIG1lc3NhZ2Vfb3B0KTtcbi8vIFRoaXMgc3RhdGVtZW50IGlzIGVxdWl2YWxlbnQgdG8gYXNzZXJ0LmVxdWFsKHRydWUsICEhZ3VhcmQsXG4vLyBtZXNzYWdlX29wdCk7LiBUbyB0ZXN0IHN0cmljdGx5IGZvciB0aGUgdmFsdWUgdHJ1ZSwgdXNlXG4vLyBhc3NlcnQuc3RyaWN0RXF1YWwodHJ1ZSwgZ3VhcmQsIG1lc3NhZ2Vfb3B0KTsuXG5cbmZ1bmN0aW9uIG9rKHZhbHVlLCBtZXNzYWdlKSB7XG4gIGlmICghdmFsdWUpIGZhaWwodmFsdWUsIHRydWUsIG1lc3NhZ2UsICc9PScsIGFzc2VydC5vayk7XG59XG5hc3NlcnQub2sgPSBvaztcblxuLy8gNS4gVGhlIGVxdWFsaXR5IGFzc2VydGlvbiB0ZXN0cyBzaGFsbG93LCBjb2VyY2l2ZSBlcXVhbGl0eSB3aXRoXG4vLyA9PS5cbi8vIGFzc2VydC5lcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlX29wdCk7XG5cbmFzc2VydC5lcXVhbCA9IGZ1bmN0aW9uIGVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHtcbiAgaWYgKGFjdHVhbCAhPSBleHBlY3RlZCkgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCAnPT0nLCBhc3NlcnQuZXF1YWwpO1xufTtcblxuLy8gNi4gVGhlIG5vbi1lcXVhbGl0eSBhc3NlcnRpb24gdGVzdHMgZm9yIHdoZXRoZXIgdHdvIG9iamVjdHMgYXJlIG5vdCBlcXVhbFxuLy8gd2l0aCAhPSBhc3NlcnQubm90RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZV9vcHQpO1xuXG5hc3NlcnQubm90RXF1YWwgPSBmdW5jdGlvbiBub3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7XG4gIGlmIChhY3R1YWwgPT0gZXhwZWN0ZWQpIHtcbiAgICBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsICchPScsIGFzc2VydC5ub3RFcXVhbCk7XG4gIH1cbn07XG5cbi8vIDcuIFRoZSBlcXVpdmFsZW5jZSBhc3NlcnRpb24gdGVzdHMgYSBkZWVwIGVxdWFsaXR5IHJlbGF0aW9uLlxuLy8gYXNzZXJ0LmRlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlX29wdCk7XG5cbmFzc2VydC5kZWVwRXF1YWwgPSBmdW5jdGlvbiBkZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkge1xuICBpZiAoIV9kZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgZmFsc2UpKSB7XG4gICAgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCAnZGVlcEVxdWFsJywgYXNzZXJ0LmRlZXBFcXVhbCk7XG4gIH1cbn07XG5cbmFzc2VydC5kZWVwU3RyaWN0RXF1YWwgPSBmdW5jdGlvbiBkZWVwU3RyaWN0RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkge1xuICBpZiAoIV9kZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgdHJ1ZSkpIHtcbiAgICBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsICdkZWVwU3RyaWN0RXF1YWwnLCBhc3NlcnQuZGVlcFN0cmljdEVxdWFsKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gX2RlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBzdHJpY3QsIG1lbW9zKSB7XG4gIC8vIDcuMS4gQWxsIGlkZW50aWNhbCB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGFzIGRldGVybWluZWQgYnkgPT09LlxuICBpZiAoYWN0dWFsID09PSBleHBlY3RlZCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2UgaWYgKGlzQnVmZmVyKGFjdHVhbCkgJiYgaXNCdWZmZXIoZXhwZWN0ZWQpKSB7XG4gICAgcmV0dXJuIGNvbXBhcmUoYWN0dWFsLCBleHBlY3RlZCkgPT09IDA7XG5cbiAgLy8gNy4yLiBJZiB0aGUgZXhwZWN0ZWQgdmFsdWUgaXMgYSBEYXRlIG9iamVjdCwgdGhlIGFjdHVhbCB2YWx1ZSBpc1xuICAvLyBlcXVpdmFsZW50IGlmIGl0IGlzIGFsc28gYSBEYXRlIG9iamVjdCB0aGF0IHJlZmVycyB0byB0aGUgc2FtZSB0aW1lLlxuICB9IGVsc2UgaWYgKHV0aWwuaXNEYXRlKGFjdHVhbCkgJiYgdXRpbC5pc0RhdGUoZXhwZWN0ZWQpKSB7XG4gICAgcmV0dXJuIGFjdHVhbC5nZXRUaW1lKCkgPT09IGV4cGVjdGVkLmdldFRpbWUoKTtcblxuICAvLyA3LjMgSWYgdGhlIGV4cGVjdGVkIHZhbHVlIGlzIGEgUmVnRXhwIG9iamVjdCwgdGhlIGFjdHVhbCB2YWx1ZSBpc1xuICAvLyBlcXVpdmFsZW50IGlmIGl0IGlzIGFsc28gYSBSZWdFeHAgb2JqZWN0IHdpdGggdGhlIHNhbWUgc291cmNlIGFuZFxuICAvLyBwcm9wZXJ0aWVzIChgZ2xvYmFsYCwgYG11bHRpbGluZWAsIGBsYXN0SW5kZXhgLCBgaWdub3JlQ2FzZWApLlxuICB9IGVsc2UgaWYgKHV0aWwuaXNSZWdFeHAoYWN0dWFsKSAmJiB1dGlsLmlzUmVnRXhwKGV4cGVjdGVkKSkge1xuICAgIHJldHVybiBhY3R1YWwuc291cmNlID09PSBleHBlY3RlZC5zb3VyY2UgJiZcbiAgICAgICAgICAgYWN0dWFsLmdsb2JhbCA9PT0gZXhwZWN0ZWQuZ2xvYmFsICYmXG4gICAgICAgICAgIGFjdHVhbC5tdWx0aWxpbmUgPT09IGV4cGVjdGVkLm11bHRpbGluZSAmJlxuICAgICAgICAgICBhY3R1YWwubGFzdEluZGV4ID09PSBleHBlY3RlZC5sYXN0SW5kZXggJiZcbiAgICAgICAgICAgYWN0dWFsLmlnbm9yZUNhc2UgPT09IGV4cGVjdGVkLmlnbm9yZUNhc2U7XG5cbiAgLy8gNy40LiBPdGhlciBwYWlycyB0aGF0IGRvIG5vdCBib3RoIHBhc3MgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnLFxuICAvLyBlcXVpdmFsZW5jZSBpcyBkZXRlcm1pbmVkIGJ5ID09LlxuICB9IGVsc2UgaWYgKChhY3R1YWwgPT09IG51bGwgfHwgdHlwZW9mIGFjdHVhbCAhPT0gJ29iamVjdCcpICYmXG4gICAgICAgICAgICAgKGV4cGVjdGVkID09PSBudWxsIHx8IHR5cGVvZiBleHBlY3RlZCAhPT0gJ29iamVjdCcpKSB7XG4gICAgcmV0dXJuIHN0cmljdCA/IGFjdHVhbCA9PT0gZXhwZWN0ZWQgOiBhY3R1YWwgPT0gZXhwZWN0ZWQ7XG5cbiAgLy8gSWYgYm90aCB2YWx1ZXMgYXJlIGluc3RhbmNlcyBvZiB0eXBlZCBhcnJheXMsIHdyYXAgdGhlaXIgdW5kZXJseWluZ1xuICAvLyBBcnJheUJ1ZmZlcnMgaW4gYSBCdWZmZXIgZWFjaCB0byBpbmNyZWFzZSBwZXJmb3JtYW5jZVxuICAvLyBUaGlzIG9wdGltaXphdGlvbiByZXF1aXJlcyB0aGUgYXJyYXlzIHRvIGhhdmUgdGhlIHNhbWUgdHlwZSBhcyBjaGVja2VkIGJ5XG4gIC8vIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcgKGFrYSBwVG9TdHJpbmcpLiBOZXZlciBwZXJmb3JtIGJpbmFyeVxuICAvLyBjb21wYXJpc29ucyBmb3IgRmxvYXQqQXJyYXlzLCB0aG91Z2gsIHNpbmNlIGUuZy4gKzAgPT09IC0wIGJ1dCB0aGVpclxuICAvLyBiaXQgcGF0dGVybnMgYXJlIG5vdCBpZGVudGljYWwuXG4gIH0gZWxzZSBpZiAoaXNWaWV3KGFjdHVhbCkgJiYgaXNWaWV3KGV4cGVjdGVkKSAmJlxuICAgICAgICAgICAgIHBUb1N0cmluZyhhY3R1YWwpID09PSBwVG9TdHJpbmcoZXhwZWN0ZWQpICYmXG4gICAgICAgICAgICAgIShhY3R1YWwgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkgfHxcbiAgICAgICAgICAgICAgIGFjdHVhbCBpbnN0YW5jZW9mIEZsb2F0NjRBcnJheSkpIHtcbiAgICByZXR1cm4gY29tcGFyZShuZXcgVWludDhBcnJheShhY3R1YWwuYnVmZmVyKSxcbiAgICAgICAgICAgICAgICAgICBuZXcgVWludDhBcnJheShleHBlY3RlZC5idWZmZXIpKSA9PT0gMDtcblxuICAvLyA3LjUgRm9yIGFsbCBvdGhlciBPYmplY3QgcGFpcnMsIGluY2x1ZGluZyBBcnJheSBvYmplY3RzLCBlcXVpdmFsZW5jZSBpc1xuICAvLyBkZXRlcm1pbmVkIGJ5IGhhdmluZyB0aGUgc2FtZSBudW1iZXIgb2Ygb3duZWQgcHJvcGVydGllcyAoYXMgdmVyaWZpZWRcbiAgLy8gd2l0aCBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwpLCB0aGUgc2FtZSBzZXQgb2Yga2V5c1xuICAvLyAoYWx0aG91Z2ggbm90IG5lY2Vzc2FyaWx5IHRoZSBzYW1lIG9yZGVyKSwgZXF1aXZhbGVudCB2YWx1ZXMgZm9yIGV2ZXJ5XG4gIC8vIGNvcnJlc3BvbmRpbmcga2V5LCBhbmQgYW4gaWRlbnRpY2FsICdwcm90b3R5cGUnIHByb3BlcnR5LiBOb3RlOiB0aGlzXG4gIC8vIGFjY291bnRzIGZvciBib3RoIG5hbWVkIGFuZCBpbmRleGVkIHByb3BlcnRpZXMgb24gQXJyYXlzLlxuICB9IGVsc2UgaWYgKGlzQnVmZmVyKGFjdHVhbCkgIT09IGlzQnVmZmVyKGV4cGVjdGVkKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICBtZW1vcyA9IG1lbW9zIHx8IHthY3R1YWw6IFtdLCBleHBlY3RlZDogW119O1xuXG4gICAgdmFyIGFjdHVhbEluZGV4ID0gbWVtb3MuYWN0dWFsLmluZGV4T2YoYWN0dWFsKTtcbiAgICBpZiAoYWN0dWFsSW5kZXggIT09IC0xKSB7XG4gICAgICBpZiAoYWN0dWFsSW5kZXggPT09IG1lbW9zLmV4cGVjdGVkLmluZGV4T2YoZXhwZWN0ZWQpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIG1lbW9zLmFjdHVhbC5wdXNoKGFjdHVhbCk7XG4gICAgbWVtb3MuZXhwZWN0ZWQucHVzaChleHBlY3RlZCk7XG5cbiAgICByZXR1cm4gb2JqRXF1aXYoYWN0dWFsLCBleHBlY3RlZCwgc3RyaWN0LCBtZW1vcyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNBcmd1bWVudHMob2JqZWN0KSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqZWN0KSA9PSAnW29iamVjdCBBcmd1bWVudHNdJztcbn1cblxuZnVuY3Rpb24gb2JqRXF1aXYoYSwgYiwgc3RyaWN0LCBhY3R1YWxWaXNpdGVkT2JqZWN0cykge1xuICBpZiAoYSA9PT0gbnVsbCB8fCBhID09PSB1bmRlZmluZWQgfHwgYiA9PT0gbnVsbCB8fCBiID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIGZhbHNlO1xuICAvLyBpZiBvbmUgaXMgYSBwcmltaXRpdmUsIHRoZSBvdGhlciBtdXN0IGJlIHNhbWVcbiAgaWYgKHV0aWwuaXNQcmltaXRpdmUoYSkgfHwgdXRpbC5pc1ByaW1pdGl2ZShiKSlcbiAgICByZXR1cm4gYSA9PT0gYjtcbiAgaWYgKHN0cmljdCAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoYSkgIT09IE9iamVjdC5nZXRQcm90b3R5cGVPZihiKSlcbiAgICByZXR1cm4gZmFsc2U7XG4gIHZhciBhSXNBcmdzID0gaXNBcmd1bWVudHMoYSk7XG4gIHZhciBiSXNBcmdzID0gaXNBcmd1bWVudHMoYik7XG4gIGlmICgoYUlzQXJncyAmJiAhYklzQXJncykgfHwgKCFhSXNBcmdzICYmIGJJc0FyZ3MpKVxuICAgIHJldHVybiBmYWxzZTtcbiAgaWYgKGFJc0FyZ3MpIHtcbiAgICBhID0gcFNsaWNlLmNhbGwoYSk7XG4gICAgYiA9IHBTbGljZS5jYWxsKGIpO1xuICAgIHJldHVybiBfZGVlcEVxdWFsKGEsIGIsIHN0cmljdCk7XG4gIH1cbiAgdmFyIGthID0gb2JqZWN0S2V5cyhhKTtcbiAgdmFyIGtiID0gb2JqZWN0S2V5cyhiKTtcbiAgdmFyIGtleSwgaTtcbiAgLy8gaGF2aW5nIHRoZSBzYW1lIG51bWJlciBvZiBvd25lZCBwcm9wZXJ0aWVzIChrZXlzIGluY29ycG9yYXRlc1xuICAvLyBoYXNPd25Qcm9wZXJ0eSlcbiAgaWYgKGthLmxlbmd0aCAhPT0ga2IubGVuZ3RoKVxuICAgIHJldHVybiBmYWxzZTtcbiAgLy90aGUgc2FtZSBzZXQgb2Yga2V5cyAoYWx0aG91Z2ggbm90IG5lY2Vzc2FyaWx5IHRoZSBzYW1lIG9yZGVyKSxcbiAga2Euc29ydCgpO1xuICBrYi5zb3J0KCk7XG4gIC8vfn5+Y2hlYXAga2V5IHRlc3RcbiAgZm9yIChpID0ga2EubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBpZiAoa2FbaV0gIT09IGtiW2ldKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vZXF1aXZhbGVudCB2YWx1ZXMgZm9yIGV2ZXJ5IGNvcnJlc3BvbmRpbmcga2V5LCBhbmRcbiAgLy9+fn5wb3NzaWJseSBleHBlbnNpdmUgZGVlcCB0ZXN0XG4gIGZvciAoaSA9IGthLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAga2V5ID0ga2FbaV07XG4gICAgaWYgKCFfZGVlcEVxdWFsKGFba2V5XSwgYltrZXldLCBzdHJpY3QsIGFjdHVhbFZpc2l0ZWRPYmplY3RzKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gOC4gVGhlIG5vbi1lcXVpdmFsZW5jZSBhc3NlcnRpb24gdGVzdHMgZm9yIGFueSBkZWVwIGluZXF1YWxpdHkuXG4vLyBhc3NlcnQubm90RGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2Vfb3B0KTtcblxuYXNzZXJ0Lm5vdERlZXBFcXVhbCA9IGZ1bmN0aW9uIG5vdERlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7XG4gIGlmIChfZGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIGZhbHNlKSkge1xuICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgJ25vdERlZXBFcXVhbCcsIGFzc2VydC5ub3REZWVwRXF1YWwpO1xuICB9XG59O1xuXG5hc3NlcnQubm90RGVlcFN0cmljdEVxdWFsID0gbm90RGVlcFN0cmljdEVxdWFsO1xuZnVuY3Rpb24gbm90RGVlcFN0cmljdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHtcbiAgaWYgKF9kZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgdHJ1ZSkpIHtcbiAgICBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsICdub3REZWVwU3RyaWN0RXF1YWwnLCBub3REZWVwU3RyaWN0RXF1YWwpO1xuICB9XG59XG5cblxuLy8gOS4gVGhlIHN0cmljdCBlcXVhbGl0eSBhc3NlcnRpb24gdGVzdHMgc3RyaWN0IGVxdWFsaXR5LCBhcyBkZXRlcm1pbmVkIGJ5ID09PS5cbi8vIGFzc2VydC5zdHJpY3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlX29wdCk7XG5cbmFzc2VydC5zdHJpY3RFcXVhbCA9IGZ1bmN0aW9uIHN0cmljdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHtcbiAgaWYgKGFjdHVhbCAhPT0gZXhwZWN0ZWQpIHtcbiAgICBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsICc9PT0nLCBhc3NlcnQuc3RyaWN0RXF1YWwpO1xuICB9XG59O1xuXG4vLyAxMC4gVGhlIHN0cmljdCBub24tZXF1YWxpdHkgYXNzZXJ0aW9uIHRlc3RzIGZvciBzdHJpY3QgaW5lcXVhbGl0eSwgYXNcbi8vIGRldGVybWluZWQgYnkgIT09LiAgYXNzZXJ0Lm5vdFN0cmljdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2Vfb3B0KTtcblxuYXNzZXJ0Lm5vdFN0cmljdEVxdWFsID0gZnVuY3Rpb24gbm90U3RyaWN0RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkge1xuICBpZiAoYWN0dWFsID09PSBleHBlY3RlZCkge1xuICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgJyE9PScsIGFzc2VydC5ub3RTdHJpY3RFcXVhbCk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGV4cGVjdGVkRXhjZXB0aW9uKGFjdHVhbCwgZXhwZWN0ZWQpIHtcbiAgaWYgKCFhY3R1YWwgfHwgIWV4cGVjdGVkKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChleHBlY3RlZCkgPT0gJ1tvYmplY3QgUmVnRXhwXScpIHtcbiAgICByZXR1cm4gZXhwZWN0ZWQudGVzdChhY3R1YWwpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBpZiAoYWN0dWFsIGluc3RhbmNlb2YgZXhwZWN0ZWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIElnbm9yZS4gIFRoZSBpbnN0YW5jZW9mIGNoZWNrIGRvZXNuJ3Qgd29yayBmb3IgYXJyb3cgZnVuY3Rpb25zLlxuICB9XG5cbiAgaWYgKEVycm9yLmlzUHJvdG90eXBlT2YoZXhwZWN0ZWQpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIGV4cGVjdGVkLmNhbGwoe30sIGFjdHVhbCkgPT09IHRydWU7XG59XG5cbmZ1bmN0aW9uIF90cnlCbG9jayhibG9jaykge1xuICB2YXIgZXJyb3I7XG4gIHRyeSB7XG4gICAgYmxvY2soKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGVycm9yID0gZTtcbiAgfVxuICByZXR1cm4gZXJyb3I7XG59XG5cbmZ1bmN0aW9uIF90aHJvd3Moc2hvdWxkVGhyb3csIGJsb2NrLCBleHBlY3RlZCwgbWVzc2FnZSkge1xuICB2YXIgYWN0dWFsO1xuXG4gIGlmICh0eXBlb2YgYmxvY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImJsb2NrXCIgYXJndW1lbnQgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gIH1cblxuICBpZiAodHlwZW9mIGV4cGVjdGVkID09PSAnc3RyaW5nJykge1xuICAgIG1lc3NhZ2UgPSBleHBlY3RlZDtcbiAgICBleHBlY3RlZCA9IG51bGw7XG4gIH1cblxuICBhY3R1YWwgPSBfdHJ5QmxvY2soYmxvY2spO1xuXG4gIG1lc3NhZ2UgPSAoZXhwZWN0ZWQgJiYgZXhwZWN0ZWQubmFtZSA/ICcgKCcgKyBleHBlY3RlZC5uYW1lICsgJykuJyA6ICcuJykgK1xuICAgICAgICAgICAgKG1lc3NhZ2UgPyAnICcgKyBtZXNzYWdlIDogJy4nKTtcblxuICBpZiAoc2hvdWxkVGhyb3cgJiYgIWFjdHVhbCkge1xuICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgJ01pc3NpbmcgZXhwZWN0ZWQgZXhjZXB0aW9uJyArIG1lc3NhZ2UpO1xuICB9XG5cbiAgdmFyIHVzZXJQcm92aWRlZE1lc3NhZ2UgPSB0eXBlb2YgbWVzc2FnZSA9PT0gJ3N0cmluZyc7XG4gIHZhciBpc1Vud2FudGVkRXhjZXB0aW9uID0gIXNob3VsZFRocm93ICYmIHV0aWwuaXNFcnJvcihhY3R1YWwpO1xuICB2YXIgaXNVbmV4cGVjdGVkRXhjZXB0aW9uID0gIXNob3VsZFRocm93ICYmIGFjdHVhbCAmJiAhZXhwZWN0ZWQ7XG5cbiAgaWYgKChpc1Vud2FudGVkRXhjZXB0aW9uICYmXG4gICAgICB1c2VyUHJvdmlkZWRNZXNzYWdlICYmXG4gICAgICBleHBlY3RlZEV4Y2VwdGlvbihhY3R1YWwsIGV4cGVjdGVkKSkgfHxcbiAgICAgIGlzVW5leHBlY3RlZEV4Y2VwdGlvbikge1xuICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgJ0dvdCB1bndhbnRlZCBleGNlcHRpb24nICsgbWVzc2FnZSk7XG4gIH1cblxuICBpZiAoKHNob3VsZFRocm93ICYmIGFjdHVhbCAmJiBleHBlY3RlZCAmJlxuICAgICAgIWV4cGVjdGVkRXhjZXB0aW9uKGFjdHVhbCwgZXhwZWN0ZWQpKSB8fCAoIXNob3VsZFRocm93ICYmIGFjdHVhbCkpIHtcbiAgICB0aHJvdyBhY3R1YWw7XG4gIH1cbn1cblxuLy8gMTEuIEV4cGVjdGVkIHRvIHRocm93IGFuIGVycm9yOlxuLy8gYXNzZXJ0LnRocm93cyhibG9jaywgRXJyb3Jfb3B0LCBtZXNzYWdlX29wdCk7XG5cbmFzc2VydC50aHJvd3MgPSBmdW5jdGlvbihibG9jaywgLypvcHRpb25hbCovZXJyb3IsIC8qb3B0aW9uYWwqL21lc3NhZ2UpIHtcbiAgX3Rocm93cyh0cnVlLCBibG9jaywgZXJyb3IsIG1lc3NhZ2UpO1xufTtcblxuLy8gRVhURU5TSU9OISBUaGlzIGlzIGFubm95aW5nIHRvIHdyaXRlIG91dHNpZGUgdGhpcyBtb2R1bGUuXG5hc3NlcnQuZG9lc05vdFRocm93ID0gZnVuY3Rpb24oYmxvY2ssIC8qb3B0aW9uYWwqL2Vycm9yLCAvKm9wdGlvbmFsKi9tZXNzYWdlKSB7XG4gIF90aHJvd3MoZmFsc2UsIGJsb2NrLCBlcnJvciwgbWVzc2FnZSk7XG59O1xuXG5hc3NlcnQuaWZFcnJvciA9IGZ1bmN0aW9uKGVycikgeyBpZiAoZXJyKSB0aHJvdyBlcnI7IH07XG5cbi8vIEV4cG9zZSBhIHN0cmljdCBvbmx5IHZhcmlhbnQgb2YgYXNzZXJ0XG5mdW5jdGlvbiBzdHJpY3QodmFsdWUsIG1lc3NhZ2UpIHtcbiAgaWYgKCF2YWx1ZSkgZmFpbCh2YWx1ZSwgdHJ1ZSwgbWVzc2FnZSwgJz09Jywgc3RyaWN0KTtcbn1cbmFzc2VydC5zdHJpY3QgPSBvYmplY3RBc3NpZ24oc3RyaWN0LCBhc3NlcnQsIHtcbiAgZXF1YWw6IGFzc2VydC5zdHJpY3RFcXVhbCxcbiAgZGVlcEVxdWFsOiBhc3NlcnQuZGVlcFN0cmljdEVxdWFsLFxuICBub3RFcXVhbDogYXNzZXJ0Lm5vdFN0cmljdEVxdWFsLFxuICBub3REZWVwRXF1YWw6IGFzc2VydC5ub3REZWVwU3RyaWN0RXF1YWxcbn0pO1xuYXNzZXJ0LnN0cmljdC5zdHJpY3QgPSBhc3NlcnQuc3RyaWN0O1xuXG52YXIgb2JqZWN0S2V5cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIChvYmopIHtcbiAgdmFyIGtleXMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIGlmIChoYXNPd24uY2FsbChvYmosIGtleSkpIGtleXMucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiBrZXlzO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIG51bWJlcjogcmVxdWlyZSgnLi9zcmMvY2FyZC1udW1iZXInKSxcbiAgZXhwaXJhdGlvbkRhdGU6IHJlcXVpcmUoJy4vc3JjL2V4cGlyYXRpb24tZGF0ZScpLFxuICBleHBpcmF0aW9uTW9udGg6IHJlcXVpcmUoJy4vc3JjL2V4cGlyYXRpb24tbW9udGgnKSxcbiAgZXhwaXJhdGlvblllYXI6IHJlcXVpcmUoJy4vc3JjL2V4cGlyYXRpb24teWVhcicpLFxuICBjdnY6IHJlcXVpcmUoJy4vc3JjL2N2dicpLFxuICBwb3N0YWxDb2RlOiByZXF1aXJlKCcuL3NyYy9wb3N0YWwtY29kZScpLFxuICBjcmVkaXRDYXJkVHlwZTogcmVxdWlyZSgnY3JlZGl0LWNhcmQtdHlwZScpXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgbHVobjEwID0gcmVxdWlyZSgnLi9sdWhuLTEwJyk7XG52YXIgZ2V0Q2FyZFR5cGVzID0gcmVxdWlyZSgnY3JlZGl0LWNhcmQtdHlwZScpO1xuXG5mdW5jdGlvbiB2ZXJpZmljYXRpb24oY2FyZCwgaXNQb3RlbnRpYWxseVZhbGlkLCBpc1ZhbGlkKSB7XG4gIHJldHVybiB7Y2FyZDogY2FyZCwgaXNQb3RlbnRpYWxseVZhbGlkOiBpc1BvdGVudGlhbGx5VmFsaWQsIGlzVmFsaWQ6IGlzVmFsaWR9O1xufVxuXG5mdW5jdGlvbiBjYXJkTnVtYmVyKHZhbHVlLCBvcHRpb25zKSB7XG4gIHZhciBwb3RlbnRpYWxUeXBlcywgY2FyZFR5cGUsIGlzUG90ZW50aWFsbHlWYWxpZCwgaXNWYWxpZCwgaSwgbWF4TGVuZ3RoO1xuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgdmFsdWUgPSBTdHJpbmcodmFsdWUpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHsgcmV0dXJuIHZlcmlmaWNhdGlvbihudWxsLCBmYWxzZSwgZmFsc2UpOyB9XG5cbiAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9cXC18XFxzL2csICcnKTtcblxuICBpZiAoIS9eXFxkKiQvLnRlc3QodmFsdWUpKSB7IHJldHVybiB2ZXJpZmljYXRpb24obnVsbCwgZmFsc2UsIGZhbHNlKTsgfVxuXG4gIHBvdGVudGlhbFR5cGVzID0gZ2V0Q2FyZFR5cGVzKHZhbHVlKTtcblxuICBpZiAocG90ZW50aWFsVHlwZXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHZlcmlmaWNhdGlvbihudWxsLCBmYWxzZSwgZmFsc2UpO1xuICB9IGVsc2UgaWYgKHBvdGVudGlhbFR5cGVzLmxlbmd0aCAhPT0gMSkge1xuICAgIHJldHVybiB2ZXJpZmljYXRpb24obnVsbCwgdHJ1ZSwgZmFsc2UpO1xuICB9XG5cbiAgY2FyZFR5cGUgPSBwb3RlbnRpYWxUeXBlc1swXTtcblxuICBpZiAob3B0aW9ucy5tYXhMZW5ndGggJiYgdmFsdWUubGVuZ3RoID4gb3B0aW9ucy5tYXhMZW5ndGgpIHtcbiAgICByZXR1cm4gdmVyaWZpY2F0aW9uKGNhcmRUeXBlLCBmYWxzZSwgZmFsc2UpO1xuICB9XG5cbiAgaWYgKGNhcmRUeXBlLnR5cGUgPT09IGdldENhcmRUeXBlcy50eXBlcy5VTklPTlBBWSAmJiBvcHRpb25zLmx1aG5WYWxpZGF0ZVVuaW9uUGF5ICE9PSB0cnVlKSB7XG4gICAgaXNWYWxpZCA9IHRydWU7XG4gIH0gZWxzZSB7XG4gICAgaXNWYWxpZCA9IGx1aG4xMCh2YWx1ZSk7XG4gIH1cblxuICBtYXhMZW5ndGggPSBNYXRoLm1heC5hcHBseShudWxsLCBjYXJkVHlwZS5sZW5ndGhzKTtcbiAgaWYgKG9wdGlvbnMubWF4TGVuZ3RoKSB7XG4gICAgbWF4TGVuZ3RoID0gTWF0aC5taW4ob3B0aW9ucy5tYXhMZW5ndGgsIG1heExlbmd0aCk7XG4gIH1cblxuICBmb3IgKGkgPSAwOyBpIDwgY2FyZFR5cGUubGVuZ3Rocy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChjYXJkVHlwZS5sZW5ndGhzW2ldID09PSB2YWx1ZS5sZW5ndGgpIHtcbiAgICAgIGlzUG90ZW50aWFsbHlWYWxpZCA9IHZhbHVlLmxlbmd0aCA8IG1heExlbmd0aCB8fCBpc1ZhbGlkO1xuXG4gICAgICByZXR1cm4gdmVyaWZpY2F0aW9uKGNhcmRUeXBlLCBpc1BvdGVudGlhbGx5VmFsaWQsIGlzVmFsaWQpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB2ZXJpZmljYXRpb24oY2FyZFR5cGUsIHZhbHVlLmxlbmd0aCA8IG1heExlbmd0aCwgZmFsc2UpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNhcmROdW1iZXI7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBERUZBVUxUX0xFTkdUSCA9IDM7XG5cbmZ1bmN0aW9uIGluY2x1ZGVzKGFycmF5LCB0aGluZykge1xuICB2YXIgaSA9IDA7XG5cbiAgZm9yICg7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgIGlmICh0aGluZyA9PT0gYXJyYXlbaV0pIHsgcmV0dXJuIHRydWU7IH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gbWF4KGFycmF5KSB7XG4gIHZhciBtYXhpbXVtID0gREVGQVVMVF9MRU5HVEg7XG4gIHZhciBpID0gMDtcblxuICBmb3IgKDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgbWF4aW11bSA9IGFycmF5W2ldID4gbWF4aW11bSA/IGFycmF5W2ldIDogbWF4aW11bTtcbiAgfVxuXG4gIHJldHVybiBtYXhpbXVtO1xufVxuXG5mdW5jdGlvbiB2ZXJpZmljYXRpb24oaXNWYWxpZCwgaXNQb3RlbnRpYWxseVZhbGlkKSB7XG4gIHJldHVybiB7aXNWYWxpZDogaXNWYWxpZCwgaXNQb3RlbnRpYWxseVZhbGlkOiBpc1BvdGVudGlhbGx5VmFsaWR9O1xufVxuXG5mdW5jdGlvbiBjdnYodmFsdWUsIG1heExlbmd0aCkge1xuICBtYXhMZW5ndGggPSBtYXhMZW5ndGggfHwgREVGQVVMVF9MRU5HVEg7XG4gIG1heExlbmd0aCA9IG1heExlbmd0aCBpbnN0YW5jZW9mIEFycmF5ID8gbWF4TGVuZ3RoIDogW21heExlbmd0aF07XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHsgcmV0dXJuIHZlcmlmaWNhdGlvbihmYWxzZSwgZmFsc2UpOyB9XG4gIGlmICghL15cXGQqJC8udGVzdCh2YWx1ZSkpIHsgcmV0dXJuIHZlcmlmaWNhdGlvbihmYWxzZSwgZmFsc2UpOyB9XG4gIGlmIChpbmNsdWRlcyhtYXhMZW5ndGgsIHZhbHVlLmxlbmd0aCkpIHsgcmV0dXJuIHZlcmlmaWNhdGlvbih0cnVlLCB0cnVlKTsgfVxuICBpZiAodmFsdWUubGVuZ3RoIDwgTWF0aC5taW4uYXBwbHkobnVsbCwgbWF4TGVuZ3RoKSkgeyByZXR1cm4gdmVyaWZpY2F0aW9uKGZhbHNlLCB0cnVlKTsgfVxuICBpZiAodmFsdWUubGVuZ3RoID4gbWF4KG1heExlbmd0aCkpIHsgcmV0dXJuIHZlcmlmaWNhdGlvbihmYWxzZSwgZmFsc2UpOyB9XG5cbiAgcmV0dXJuIHZlcmlmaWNhdGlvbih0cnVlLCB0cnVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjdnY7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBwYXJzZURhdGUgPSByZXF1aXJlKCcuL3BhcnNlLWRhdGUnKTtcbnZhciBleHBpcmF0aW9uTW9udGggPSByZXF1aXJlKCcuL2V4cGlyYXRpb24tbW9udGgnKTtcbnZhciBleHBpcmF0aW9uWWVhciA9IHJlcXVpcmUoJy4vZXhwaXJhdGlvbi15ZWFyJyk7XG5cbmZ1bmN0aW9uIHZlcmlmaWNhdGlvbihpc1ZhbGlkLCBpc1BvdGVudGlhbGx5VmFsaWQsIG1vbnRoLCB5ZWFyKSB7XG4gIHJldHVybiB7XG4gICAgaXNWYWxpZDogaXNWYWxpZCxcbiAgICBpc1BvdGVudGlhbGx5VmFsaWQ6IGlzUG90ZW50aWFsbHlWYWxpZCxcbiAgICBtb250aDogbW9udGgsXG4gICAgeWVhcjogeWVhclxuICB9O1xufVxuXG5mdW5jdGlvbiBleHBpcmF0aW9uRGF0ZSh2YWx1ZSwgbWF4RWxhcHNlZFllYXIpIHtcbiAgdmFyIGRhdGUsIG1vbnRoVmFsaWQsIHllYXJWYWxpZCwgaXNWYWxpZEZvclRoaXNZZWFyO1xuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9eKFxcZFxcZCkgKFxcZFxcZChcXGRcXGQpPykkLywgJyQxLyQyJyk7XG4gICAgZGF0ZSA9IHBhcnNlRGF0ZSh2YWx1ZSk7XG4gIH0gZWxzZSBpZiAodmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgIGRhdGUgPSB7XG4gICAgICBtb250aDogU3RyaW5nKHZhbHVlLm1vbnRoKSxcbiAgICAgIHllYXI6IFN0cmluZyh2YWx1ZS55ZWFyKVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHZlcmlmaWNhdGlvbihmYWxzZSwgZmFsc2UsIG51bGwsIG51bGwpO1xuICB9XG5cbiAgbW9udGhWYWxpZCA9IGV4cGlyYXRpb25Nb250aChkYXRlLm1vbnRoKTtcbiAgeWVhclZhbGlkID0gZXhwaXJhdGlvblllYXIoZGF0ZS55ZWFyLCBtYXhFbGFwc2VkWWVhcik7XG5cbiAgaWYgKG1vbnRoVmFsaWQuaXNWYWxpZCkge1xuICAgIGlmICh5ZWFyVmFsaWQuaXNDdXJyZW50WWVhcikge1xuICAgICAgaXNWYWxpZEZvclRoaXNZZWFyID0gbW9udGhWYWxpZC5pc1ZhbGlkRm9yVGhpc1llYXI7XG5cbiAgICAgIHJldHVybiB2ZXJpZmljYXRpb24oaXNWYWxpZEZvclRoaXNZZWFyLCBpc1ZhbGlkRm9yVGhpc1llYXIsIGRhdGUubW9udGgsIGRhdGUueWVhcik7XG4gICAgfVxuXG4gICAgaWYgKHllYXJWYWxpZC5pc1ZhbGlkKSB7XG4gICAgICByZXR1cm4gdmVyaWZpY2F0aW9uKHRydWUsIHRydWUsIGRhdGUubW9udGgsIGRhdGUueWVhcik7XG4gICAgfVxuICB9XG5cbiAgaWYgKG1vbnRoVmFsaWQuaXNQb3RlbnRpYWxseVZhbGlkICYmIHllYXJWYWxpZC5pc1BvdGVudGlhbGx5VmFsaWQpIHtcbiAgICByZXR1cm4gdmVyaWZpY2F0aW9uKGZhbHNlLCB0cnVlLCBudWxsLCBudWxsKTtcbiAgfVxuXG4gIHJldHVybiB2ZXJpZmljYXRpb24oZmFsc2UsIGZhbHNlLCBudWxsLCBudWxsKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBpcmF0aW9uRGF0ZTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gdmVyaWZpY2F0aW9uKGlzVmFsaWQsIGlzUG90ZW50aWFsbHlWYWxpZCwgaXNWYWxpZEZvclRoaXNZZWFyKSB7XG4gIHJldHVybiB7XG4gICAgaXNWYWxpZDogaXNWYWxpZCxcbiAgICBpc1BvdGVudGlhbGx5VmFsaWQ6IGlzUG90ZW50aWFsbHlWYWxpZCxcbiAgICBpc1ZhbGlkRm9yVGhpc1llYXI6IGlzVmFsaWRGb3JUaGlzWWVhciB8fCBmYWxzZVxuICB9O1xufVxuXG5mdW5jdGlvbiBleHBpcmF0aW9uTW9udGgodmFsdWUpIHtcbiAgdmFyIG1vbnRoLCByZXN1bHQ7XG4gIHZhciBjdXJyZW50TW9udGggPSBuZXcgRGF0ZSgpLmdldE1vbnRoKCkgKyAxO1xuXG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZlcmlmaWNhdGlvbihmYWxzZSwgZmFsc2UpO1xuICB9XG4gIGlmICh2YWx1ZS5yZXBsYWNlKC9cXHMvZywgJycpID09PSAnJyB8fCB2YWx1ZSA9PT0gJzAnKSB7XG4gICAgcmV0dXJuIHZlcmlmaWNhdGlvbihmYWxzZSwgdHJ1ZSk7XG4gIH1cbiAgaWYgKCEvXlxcZCokLy50ZXN0KHZhbHVlKSkge1xuICAgIHJldHVybiB2ZXJpZmljYXRpb24oZmFsc2UsIGZhbHNlKTtcbiAgfVxuXG4gIG1vbnRoID0gcGFyc2VJbnQodmFsdWUsIDEwKTtcblxuICBpZiAoaXNOYU4odmFsdWUpKSB7XG4gICAgcmV0dXJuIHZlcmlmaWNhdGlvbihmYWxzZSwgZmFsc2UpO1xuICB9XG5cbiAgcmVzdWx0ID0gbW9udGggPiAwICYmIG1vbnRoIDwgMTM7XG5cbiAgcmV0dXJuIHZlcmlmaWNhdGlvbihyZXN1bHQsIHJlc3VsdCwgcmVzdWx0ICYmIG1vbnRoID49IGN1cnJlbnRNb250aCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwaXJhdGlvbk1vbnRoO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgREVGQVVMVF9WQUxJRF9OVU1CRVJfT0ZfWUVBUlNfSU5fVEhFX0ZVVFVSRSA9IDE5O1xuXG5mdW5jdGlvbiB2ZXJpZmljYXRpb24oaXNWYWxpZCwgaXNQb3RlbnRpYWxseVZhbGlkLCBpc0N1cnJlbnRZZWFyKSB7XG4gIHJldHVybiB7XG4gICAgaXNWYWxpZDogaXNWYWxpZCxcbiAgICBpc1BvdGVudGlhbGx5VmFsaWQ6IGlzUG90ZW50aWFsbHlWYWxpZCxcbiAgICBpc0N1cnJlbnRZZWFyOiBpc0N1cnJlbnRZZWFyIHx8IGZhbHNlXG4gIH07XG59XG5cbmZ1bmN0aW9uIGV4cGlyYXRpb25ZZWFyKHZhbHVlLCBtYXhFbGFwc2VkWWVhcikge1xuICB2YXIgY3VycmVudEZpcnN0VHdvLCBjdXJyZW50WWVhciwgZmlyc3RUd28sIGxlbiwgdHdvRGlnaXRZZWFyLCB2YWxpZCwgaXNDdXJyZW50WWVhcjtcblxuICBtYXhFbGFwc2VkWWVhciA9IG1heEVsYXBzZWRZZWFyIHx8IERFRkFVTFRfVkFMSURfTlVNQkVSX09GX1lFQVJTX0lOX1RIRV9GVVRVUkU7XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdmVyaWZpY2F0aW9uKGZhbHNlLCBmYWxzZSk7XG4gIH1cbiAgaWYgKHZhbHVlLnJlcGxhY2UoL1xccy9nLCAnJykgPT09ICcnKSB7XG4gICAgcmV0dXJuIHZlcmlmaWNhdGlvbihmYWxzZSwgdHJ1ZSk7XG4gIH1cbiAgaWYgKCEvXlxcZCokLy50ZXN0KHZhbHVlKSkge1xuICAgIHJldHVybiB2ZXJpZmljYXRpb24oZmFsc2UsIGZhbHNlKTtcbiAgfVxuXG4gIGxlbiA9IHZhbHVlLmxlbmd0aDtcblxuICBpZiAobGVuIDwgMikge1xuICAgIHJldHVybiB2ZXJpZmljYXRpb24oZmFsc2UsIHRydWUpO1xuICB9XG5cbiAgY3VycmVudFllYXIgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCk7XG5cbiAgaWYgKGxlbiA9PT0gMykge1xuICAgIC8vIDIweCA9PT0gMjB4XG4gICAgZmlyc3RUd28gPSB2YWx1ZS5zbGljZSgwLCAyKTtcbiAgICBjdXJyZW50Rmlyc3RUd28gPSBTdHJpbmcoY3VycmVudFllYXIpLnNsaWNlKDAsIDIpO1xuXG4gICAgcmV0dXJuIHZlcmlmaWNhdGlvbihmYWxzZSwgZmlyc3RUd28gPT09IGN1cnJlbnRGaXJzdFR3byk7XG4gIH1cblxuICBpZiAobGVuID4gNCkge1xuICAgIHJldHVybiB2ZXJpZmljYXRpb24oZmFsc2UsIGZhbHNlKTtcbiAgfVxuXG4gIHZhbHVlID0gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgdHdvRGlnaXRZZWFyID0gTnVtYmVyKFN0cmluZyhjdXJyZW50WWVhcikuc3Vic3RyKDIsIDIpKTtcblxuICBpZiAobGVuID09PSAyKSB7XG4gICAgaXNDdXJyZW50WWVhciA9IHR3b0RpZ2l0WWVhciA9PT0gdmFsdWU7XG4gICAgdmFsaWQgPSB2YWx1ZSA+PSB0d29EaWdpdFllYXIgJiYgdmFsdWUgPD0gdHdvRGlnaXRZZWFyICsgbWF4RWxhcHNlZFllYXI7XG4gIH0gZWxzZSBpZiAobGVuID09PSA0KSB7XG4gICAgaXNDdXJyZW50WWVhciA9IGN1cnJlbnRZZWFyID09PSB2YWx1ZTtcbiAgICB2YWxpZCA9IHZhbHVlID49IGN1cnJlbnRZZWFyICYmIHZhbHVlIDw9IGN1cnJlbnRZZWFyICsgbWF4RWxhcHNlZFllYXI7XG4gIH1cblxuICByZXR1cm4gdmVyaWZpY2F0aW9uKHZhbGlkLCB2YWxpZCwgaXNDdXJyZW50WWVhcik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwaXJhdGlvblllYXI7XG4iLCIndXNlIHN0cmljdCc7XG5cbi8vIFBvbHlmaWxsIHRha2VuIGZyb20gPGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L2lzQXJyYXkjUG9seWZpbGw+LlxuXG5tb2R1bGUuZXhwb3J0cyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKGFyZykge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuIiwiLypcbiAqIEx1aG4gYWxnb3JpdGhtIGltcGxlbWVudGF0aW9uIGluIEphdmFTY3JpcHRcbiAqIENvcHlyaWdodCAoYykgMjAwOSBOaWNob2xhcyBDLiBaYWthc1xuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gbHVobjEwKGlkZW50aWZpZXIpIHtcbiAgdmFyIHN1bSA9IDA7XG4gIHZhciBhbHQgPSBmYWxzZTtcbiAgdmFyIGkgPSBpZGVudGlmaWVyLmxlbmd0aCAtIDE7XG4gIHZhciBudW07XG5cbiAgd2hpbGUgKGkgPj0gMCkge1xuICAgIG51bSA9IHBhcnNlSW50KGlkZW50aWZpZXIuY2hhckF0KGkpLCAxMCk7XG5cbiAgICBpZiAoYWx0KSB7XG4gICAgICBudW0gKj0gMjtcbiAgICAgIGlmIChudW0gPiA5KSB7XG4gICAgICAgIG51bSA9IChudW0gJSAxMCkgKyAxOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWV4dHJhLXBhcmVuc1xuICAgICAgfVxuICAgIH1cblxuICAgIGFsdCA9ICFhbHQ7XG5cbiAgICBzdW0gKz0gbnVtO1xuXG4gICAgaS0tO1xuICB9XG5cbiAgcmV0dXJuIHN1bSAlIDEwID09PSAwO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGx1aG4xMDtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGV4cGlyYXRpb25ZZWFyID0gcmVxdWlyZSgnLi9leHBpcmF0aW9uLXllYXInKTtcbnZhciBpc0FycmF5ID0gcmVxdWlyZSgnLi9saWIvaXMtYXJyYXknKTtcblxuZnVuY3Rpb24gZ2V0TnVtYmVyT2ZNb250aERpZ2l0c0luRGF0ZVN0cmluZyhkYXRlU3RyaW5nKSB7XG4gIHZhciBmaXJzdENoYXJhY3RlciA9IE51bWJlcihkYXRlU3RyaW5nWzBdKTtcbiAgdmFyIGFzc3VtZWRZZWFyO1xuXG4gIC8qXG4gICAgaWYgdGhlIGZpcnN0IGNoYXJhY3RlciBpbiB0aGUgc3RyaW5nIHN0YXJ0cyB3aXRoIGAwYCxcbiAgICB3ZSBrbm93IHRoYXQgdGhlIG1vbnRoIHdpbGwgYmUgMiBkaWdpdHMuXG5cbiAgICAnMDEyMicgPT4ge21vbnRoOiAnMDEnLCB5ZWFyOiAnMjInfVxuICAqL1xuICBpZiAoZmlyc3RDaGFyYWN0ZXIgPT09IDApIHtcbiAgICByZXR1cm4gMjtcbiAgfVxuXG4gIC8qXG4gICAgaWYgdGhlIGZpcnN0IGNoYXJhY3RlciBpbiB0aGUgc3RyaW5nIHN0YXJ0cyB3aXRoXG4gICAgbnVtYmVyIGdyZWF0ZXIgdGhhbiAxLCBpdCBtdXN0IGJlIGEgMSBkaWdpdCBtb250aFxuXG4gICAgJzMyMicgPT4ge21vbnRoOiAnMycsIHllYXI6ICcyMid9XG4gICovXG4gIGlmIChmaXJzdENoYXJhY3RlciA+IDEpIHtcbiAgICByZXR1cm4gMTtcbiAgfVxuXG4gIC8qXG4gICAgaWYgdGhlIGZpcnN0IDIgY2hhcmFjdGVycyBtYWtlIHVwIGEgbnVtYmVyIGJldHdlZW5cbiAgICAxMy0xOSwgd2Uga25vdyB0aGF0IHRoZSBtb250aCBwb3J0aW9uIG11c3QgYmUgMVxuXG4gICAgJzEzOScgPT4ge21vbnRoOiAnMScsIHllYXI6ICczOSd9XG4gICovXG4gIGlmIChmaXJzdENoYXJhY3RlciA9PT0gMSAmJiBOdW1iZXIoZGF0ZVN0cmluZ1sxXSkgPiAyKSB7XG4gICAgcmV0dXJuIDE7XG4gIH1cblxuICAvKlxuICAgIGlmIHRoZSBmaXJzdCAyIGNoYXJhY3RlcnMgbWFrZSB1cCBhIG51bWJlciBiZXR3ZWVuXG4gICAgMTAtMTIsIHdlIGNoZWNrIGlmIHRoZSB5ZWFyIHBvcnRpb24gd291bGQgYmUgY29uc2lkZXJlZFxuICAgIHZhbGlkIGlmIHdlIGFzc3VtZWQgdGhhdCB0aGUgbW9udGggd2FzIDEuIElmIGl0IGlzXG4gICAgbm90IHBvdGVudGlhbGx5IHZhbGlkLCB3ZSBhc3N1bWUgdGhlIG1vbnRoIG11c3QgaGF2ZVxuICAgIDIgZGlnaXRzLlxuXG4gICAgJzEwOScgPT4ge21vbnRoOiAnMTAnLCB5ZWFyOiAnOSd9XG4gICAgJzEyMCcgPT4ge21vbnRoOiAnMScsIHllYXI6ICcyMCd9IC8vIHdoZW4gY2hlY2tlZCBpbiB0aGUgeWVhciAyMDE5XG4gICAgJzEyMCcgPT4ge21vbnRoOiAnMTInLCB5ZWFyOiAnMCd9IC8vIHdoZW4gY2hlY2tlZCBpbiB0aGUgeWVhciAyMDIxXG4gICovXG4gIGlmIChmaXJzdENoYXJhY3RlciA9PT0gMSkge1xuICAgIGFzc3VtZWRZZWFyID0gZGF0ZVN0cmluZy5zdWJzdHIoMSk7XG5cbiAgICByZXR1cm4gZXhwaXJhdGlvblllYXIoYXNzdW1lZFllYXIpLmlzUG90ZW50aWFsbHlWYWxpZCA/IDEgOiAyO1xuICB9XG5cbiAgLypcbiAgICBJZiB0aGUgbGVuZ3RoIG9mIHRoZSB2YWx1ZSBpcyBleGFjdGx5IDUgY2hhcmFjdGVycyxcbiAgICB3ZSBhc3N1bWUgYSBmdWxsIHllYXIgd2FzIHBhc3NlZCBpbiwgbWVhbmluZyB0aGUgcmVtYWluaW5nXG4gICAgc2luZ2xlIGxlYWRpbmcgZGlnaXQgbXVzdCBiZSB0aGUgbW9udGggdmFsdWUuXG5cbiAgICAnMTIyMDInID0+IHttb250aDogJzEnLCB5ZWFyOiAnMjIwMid9XG4gICovXG4gIGlmIChkYXRlU3RyaW5nLmxlbmd0aCA9PT0gNSkge1xuICAgIHJldHVybiAxO1xuICB9XG5cbiAgLypcbiAgICBJZiB0aGUgbGVuZ3RoIG9mIHRoZSB2YWx1ZSBpcyBtb3JlIHRoYW4gZml2ZSBjaGFyYWN0ZXJzLFxuICAgIHdlIGFzc3VtZSBhIGZ1bGwgeWVhciB3YXMgcGFzc2VkIGluIGFkZGl0aW9uIHRvIHRoZSBtb250aFxuICAgIGFuZCB0aGVyZWZvcmUgdGhlIG1vbnRoIHBvcnRpb24gbXVzdCBiZSAyIGRpZ2l0cy5cblxuICAgICcxMTIwMjAnID0+IHttb250aDogJzExJywgeWVhcjogJzIwMjAnfVxuICAqL1xuICBpZiAoZGF0ZVN0cmluZy5sZW5ndGggPiA1KSB7XG4gICAgcmV0dXJuIDI7XG4gIH1cblxuICAvKlxuICAgIEJ5IGRlZmF1bHQsIHRoZSBtb250aCB2YWx1ZSBpcyB0aGUgZmlyc3QgdmFsdWVcbiAgKi9cbiAgcmV0dXJuIDE7XG59XG5cbmZ1bmN0aW9uIHBhcnNlRGF0ZShkYXRlKSB7XG4gIHZhciBtb250aCwgbnVtYmVyT2ZEaWdpdHNJbk1vbnRoO1xuXG4gIGlmICgvXlxcZHs0fS1cXGR7MSwyfSQvLnRlc3QoZGF0ZSkpIHtcbiAgICBkYXRlID0gZGF0ZS5zcGxpdCgnLScpLnJldmVyc2UoKTtcbiAgfSBlbHNlIGlmICgvXFwvLy50ZXN0KGRhdGUpKSB7XG4gICAgZGF0ZSA9IGRhdGUuc3BsaXQoL1xccypcXC9cXHMqL2cpO1xuICB9IGVsc2UgaWYgKC9cXHMvLnRlc3QoZGF0ZSkpIHtcbiAgICBkYXRlID0gZGF0ZS5zcGxpdCgvICsvZyk7XG4gIH1cblxuICBpZiAoaXNBcnJheShkYXRlKSkge1xuICAgIHJldHVybiB7XG4gICAgICBtb250aDogZGF0ZVswXSB8fCAnJyxcbiAgICAgIHllYXI6IGRhdGUuc2xpY2UoMSkuam9pbigpXG4gICAgfTtcbiAgfVxuXG4gIG51bWJlck9mRGlnaXRzSW5Nb250aCA9IGdldE51bWJlck9mTW9udGhEaWdpdHNJbkRhdGVTdHJpbmcoZGF0ZSk7XG5cbiAgbW9udGggPSBkYXRlLnN1YnN0cigwLCBudW1iZXJPZkRpZ2l0c0luTW9udGgpO1xuXG4gIHJldHVybiB7XG4gICAgbW9udGg6IG1vbnRoLFxuICAgIHllYXI6IGRhdGUuc3Vic3RyKG1vbnRoLmxlbmd0aClcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBwYXJzZURhdGU7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBERUZBVUxUX01JTl9QT1NUQUxfQ09ERV9MRU5HVEggPSAzO1xuXG5mdW5jdGlvbiB2ZXJpZmljYXRpb24oaXNWYWxpZCwgaXNQb3RlbnRpYWxseVZhbGlkKSB7XG4gIHJldHVybiB7aXNWYWxpZDogaXNWYWxpZCwgaXNQb3RlbnRpYWxseVZhbGlkOiBpc1BvdGVudGlhbGx5VmFsaWR9O1xufVxuXG5mdW5jdGlvbiBwb3N0YWxDb2RlKHZhbHVlLCBvcHRpb25zKSB7XG4gIHZhciBtaW5MZW5ndGg7XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgbWluTGVuZ3RoID0gb3B0aW9ucy5taW5MZW5ndGggfHwgREVGQVVMVF9NSU5fUE9TVEFMX0NPREVfTEVOR1RIO1xuXG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZlcmlmaWNhdGlvbihmYWxzZSwgZmFsc2UpO1xuICB9IGVsc2UgaWYgKHZhbHVlLmxlbmd0aCA8IG1pbkxlbmd0aCkge1xuICAgIHJldHVybiB2ZXJpZmljYXRpb24oZmFsc2UsIHRydWUpO1xuICB9XG5cbiAgcmV0dXJuIHZlcmlmaWNhdGlvbih0cnVlLCB0cnVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBwb3N0YWxDb2RlO1xuIiwiLyohXG4gKiBjb29raWVcbiAqIENvcHlyaWdodChjKSAyMDEyLTIwMTQgUm9tYW4gU2h0eWxtYW5cbiAqIENvcHlyaWdodChjKSAyMDE1IERvdWdsYXMgQ2hyaXN0b3BoZXIgV2lsc29uXG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogTW9kdWxlIGV4cG9ydHMuXG4gKiBAcHVibGljXG4gKi9cblxuZXhwb3J0cy5wYXJzZSA9IHBhcnNlO1xuZXhwb3J0cy5zZXJpYWxpemUgPSBzZXJpYWxpemU7XG5cbi8qKlxuICogTW9kdWxlIHZhcmlhYmxlcy5cbiAqIEBwcml2YXRlXG4gKi9cblxudmFyIGRlY29kZSA9IGRlY29kZVVSSUNvbXBvbmVudDtcbnZhciBlbmNvZGUgPSBlbmNvZGVVUklDb21wb25lbnQ7XG52YXIgcGFpclNwbGl0UmVnRXhwID0gLzsgKi87XG5cbi8qKlxuICogUmVnRXhwIHRvIG1hdGNoIGZpZWxkLWNvbnRlbnQgaW4gUkZDIDcyMzAgc2VjIDMuMlxuICpcbiAqIGZpZWxkLWNvbnRlbnQgPSBmaWVsZC12Y2hhciBbIDEqKCBTUCAvIEhUQUIgKSBmaWVsZC12Y2hhciBdXG4gKiBmaWVsZC12Y2hhciAgID0gVkNIQVIgLyBvYnMtdGV4dFxuICogb2JzLXRleHQgICAgICA9ICV4ODAtRkZcbiAqL1xuXG52YXIgZmllbGRDb250ZW50UmVnRXhwID0gL15bXFx1MDAwOVxcdTAwMjAtXFx1MDA3ZVxcdTAwODAtXFx1MDBmZl0rJC87XG5cbi8qKlxuICogUGFyc2UgYSBjb29raWUgaGVhZGVyLlxuICpcbiAqIFBhcnNlIHRoZSBnaXZlbiBjb29raWUgaGVhZGVyIHN0cmluZyBpbnRvIGFuIG9iamVjdFxuICogVGhlIG9iamVjdCBoYXMgdGhlIHZhcmlvdXMgY29va2llcyBhcyBrZXlzKG5hbWVzKSA9PiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gKiBAcmV0dXJuIHtvYmplY3R9XG4gKiBAcHVibGljXG4gKi9cblxuZnVuY3Rpb24gcGFyc2Uoc3RyLCBvcHRpb25zKSB7XG4gIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2FyZ3VtZW50IHN0ciBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gIH1cblxuICB2YXIgb2JqID0ge31cbiAgdmFyIG9wdCA9IG9wdGlvbnMgfHwge307XG4gIHZhciBwYWlycyA9IHN0ci5zcGxpdChwYWlyU3BsaXRSZWdFeHApO1xuICB2YXIgZGVjID0gb3B0LmRlY29kZSB8fCBkZWNvZGU7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWlycy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBwYWlyID0gcGFpcnNbaV07XG4gICAgdmFyIGVxX2lkeCA9IHBhaXIuaW5kZXhPZignPScpO1xuXG4gICAgLy8gc2tpcCB0aGluZ3MgdGhhdCBkb24ndCBsb29rIGxpa2Uga2V5PXZhbHVlXG4gICAgaWYgKGVxX2lkeCA8IDApIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHZhciBrZXkgPSBwYWlyLnN1YnN0cigwLCBlcV9pZHgpLnRyaW0oKVxuICAgIHZhciB2YWwgPSBwYWlyLnN1YnN0cigrK2VxX2lkeCwgcGFpci5sZW5ndGgpLnRyaW0oKTtcblxuICAgIC8vIHF1b3RlZCB2YWx1ZXNcbiAgICBpZiAoJ1wiJyA9PSB2YWxbMF0pIHtcbiAgICAgIHZhbCA9IHZhbC5zbGljZSgxLCAtMSk7XG4gICAgfVxuXG4gICAgLy8gb25seSBhc3NpZ24gb25jZVxuICAgIGlmICh1bmRlZmluZWQgPT0gb2JqW2tleV0pIHtcbiAgICAgIG9ialtrZXldID0gdHJ5RGVjb2RlKHZhbCwgZGVjKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG4vKipcbiAqIFNlcmlhbGl6ZSBkYXRhIGludG8gYSBjb29raWUgaGVhZGVyLlxuICpcbiAqIFNlcmlhbGl6ZSB0aGUgYSBuYW1lIHZhbHVlIHBhaXIgaW50byBhIGNvb2tpZSBzdHJpbmcgc3VpdGFibGUgZm9yXG4gKiBodHRwIGhlYWRlcnMuIEFuIG9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0IHNwZWNpZmllZCBjb29raWUgcGFyYW1ldGVycy5cbiAqXG4gKiBzZXJpYWxpemUoJ2ZvbycsICdiYXInLCB7IGh0dHBPbmx5OiB0cnVlIH0pXG4gKiAgID0+IFwiZm9vPWJhcjsgaHR0cE9ubHlcIlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKiBAcHVibGljXG4gKi9cblxuZnVuY3Rpb24gc2VyaWFsaXplKG5hbWUsIHZhbCwgb3B0aW9ucykge1xuICB2YXIgb3B0ID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIGVuYyA9IG9wdC5lbmNvZGUgfHwgZW5jb2RlO1xuXG4gIGlmICh0eXBlb2YgZW5jICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignb3B0aW9uIGVuY29kZSBpcyBpbnZhbGlkJyk7XG4gIH1cblxuICBpZiAoIWZpZWxkQ29udGVudFJlZ0V4cC50ZXN0KG5hbWUpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXJndW1lbnQgbmFtZSBpcyBpbnZhbGlkJyk7XG4gIH1cblxuICB2YXIgdmFsdWUgPSBlbmModmFsKTtcblxuICBpZiAodmFsdWUgJiYgIWZpZWxkQ29udGVudFJlZ0V4cC50ZXN0KHZhbHVlKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2FyZ3VtZW50IHZhbCBpcyBpbnZhbGlkJyk7XG4gIH1cblxuICB2YXIgc3RyID0gbmFtZSArICc9JyArIHZhbHVlO1xuXG4gIGlmIChudWxsICE9IG9wdC5tYXhBZ2UpIHtcbiAgICB2YXIgbWF4QWdlID0gb3B0Lm1heEFnZSAtIDA7XG4gICAgaWYgKGlzTmFOKG1heEFnZSkpIHRocm93IG5ldyBFcnJvcignbWF4QWdlIHNob3VsZCBiZSBhIE51bWJlcicpO1xuICAgIHN0ciArPSAnOyBNYXgtQWdlPScgKyBNYXRoLmZsb29yKG1heEFnZSk7XG4gIH1cblxuICBpZiAob3B0LmRvbWFpbikge1xuICAgIGlmICghZmllbGRDb250ZW50UmVnRXhwLnRlc3Qob3B0LmRvbWFpbikpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ29wdGlvbiBkb21haW4gaXMgaW52YWxpZCcpO1xuICAgIH1cblxuICAgIHN0ciArPSAnOyBEb21haW49JyArIG9wdC5kb21haW47XG4gIH1cblxuICBpZiAob3B0LnBhdGgpIHtcbiAgICBpZiAoIWZpZWxkQ29udGVudFJlZ0V4cC50ZXN0KG9wdC5wYXRoKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignb3B0aW9uIHBhdGggaXMgaW52YWxpZCcpO1xuICAgIH1cblxuICAgIHN0ciArPSAnOyBQYXRoPScgKyBvcHQucGF0aDtcbiAgfVxuXG4gIGlmIChvcHQuZXhwaXJlcykge1xuICAgIGlmICh0eXBlb2Ygb3B0LmV4cGlyZXMudG9VVENTdHJpbmcgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ29wdGlvbiBleHBpcmVzIGlzIGludmFsaWQnKTtcbiAgICB9XG5cbiAgICBzdHIgKz0gJzsgRXhwaXJlcz0nICsgb3B0LmV4cGlyZXMudG9VVENTdHJpbmcoKTtcbiAgfVxuXG4gIGlmIChvcHQuaHR0cE9ubHkpIHtcbiAgICBzdHIgKz0gJzsgSHR0cE9ubHknO1xuICB9XG5cbiAgaWYgKG9wdC5zZWN1cmUpIHtcbiAgICBzdHIgKz0gJzsgU2VjdXJlJztcbiAgfVxuXG4gIGlmIChvcHQuc2FtZVNpdGUpIHtcbiAgICB2YXIgc2FtZVNpdGUgPSB0eXBlb2Ygb3B0LnNhbWVTaXRlID09PSAnc3RyaW5nJ1xuICAgICAgPyBvcHQuc2FtZVNpdGUudG9Mb3dlckNhc2UoKSA6IG9wdC5zYW1lU2l0ZTtcblxuICAgIHN3aXRjaCAoc2FtZVNpdGUpIHtcbiAgICAgIGNhc2UgdHJ1ZTpcbiAgICAgICAgc3RyICs9ICc7IFNhbWVTaXRlPVN0cmljdCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbGF4JzpcbiAgICAgICAgc3RyICs9ICc7IFNhbWVTaXRlPUxheCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc3RyaWN0JzpcbiAgICAgICAgc3RyICs9ICc7IFNhbWVTaXRlPVN0cmljdCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignb3B0aW9uIHNhbWVTaXRlIGlzIGludmFsaWQnKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gc3RyO1xufVxuXG4vKipcbiAqIFRyeSBkZWNvZGluZyBhIHN0cmluZyB1c2luZyBhIGRlY29kaW5nIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGRlY29kZVxuICogQHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiB0cnlEZWNvZGUoc3RyLCBkZWNvZGUpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZGVjb2RlKHN0cik7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB0eXBlcyA9IHJlcXVpcmUoJy4vbGliL2NhcmQtdHlwZXMnKTtcbnZhciBjbG9uZSA9IHJlcXVpcmUoJy4vbGliL2Nsb25lJyk7XG52YXIgZmluZEJlc3RNYXRjaCA9IHJlcXVpcmUoJy4vbGliL2ZpbmQtYmVzdC1tYXRjaCcpO1xudmFyIGlzVmFsaWRJbnB1dFR5cGUgPSByZXF1aXJlKCcuL2xpYi9pcy12YWxpZC1pbnB1dC10eXBlJyk7XG52YXIgYWRkTWF0Y2hpbmdDYXJkc1RvUmVzdWx0cyA9IHJlcXVpcmUoJy4vbGliL2FkZC1tYXRjaGluZy1jYXJkcy10by1yZXN1bHRzJyk7XG5cbnZhciB0ZXN0T3JkZXI7XG52YXIgY3VzdG9tQ2FyZHMgPSB7fTtcblxudmFyIGNhcmROYW1lcyA9IHtcbiAgVklTQTogJ3Zpc2EnLFxuICBNQVNURVJDQVJEOiAnbWFzdGVyY2FyZCcsXG4gIEFNRVJJQ0FOX0VYUFJFU1M6ICdhbWVyaWNhbi1leHByZXNzJyxcbiAgRElORVJTX0NMVUI6ICdkaW5lcnMtY2x1YicsXG4gIERJU0NPVkVSOiAnZGlzY292ZXInLFxuICBKQ0I6ICdqY2InLFxuICBVTklPTlBBWTogJ3VuaW9ucGF5JyxcbiAgTUFFU1RSTzogJ21hZXN0cm8nLFxuICBFTE86ICdlbG8nLFxuICBNSVI6ICdtaXInLFxuICBISVBFUjogJ2hpcGVyJyxcbiAgSElQRVJDQVJEOiAnaGlwZXJjYXJkJ1xufTtcblxudmFyIE9SSUdJTkFMX1RFU1RfT1JERVIgPSBbXG4gIGNhcmROYW1lcy5WSVNBLFxuICBjYXJkTmFtZXMuTUFTVEVSQ0FSRCxcbiAgY2FyZE5hbWVzLkFNRVJJQ0FOX0VYUFJFU1MsXG4gIGNhcmROYW1lcy5ESU5FUlNfQ0xVQixcbiAgY2FyZE5hbWVzLkRJU0NPVkVSLFxuICBjYXJkTmFtZXMuSkNCLFxuICBjYXJkTmFtZXMuVU5JT05QQVksXG4gIGNhcmROYW1lcy5NQUVTVFJPLFxuICBjYXJkTmFtZXMuRUxPLFxuICBjYXJkTmFtZXMuTUlSLFxuICBjYXJkTmFtZXMuSElQRVIsXG4gIGNhcmROYW1lcy5ISVBFUkNBUkRcbl07XG5cbnRlc3RPcmRlciA9IGNsb25lKE9SSUdJTkFMX1RFU1RfT1JERVIpO1xuXG5mdW5jdGlvbiBmaW5kVHlwZSh0eXBlKSB7XG4gIHJldHVybiBjdXN0b21DYXJkc1t0eXBlXSB8fCB0eXBlc1t0eXBlXTtcbn1cblxuZnVuY3Rpb24gZ2V0QWxsQ2FyZFR5cGVzKCkge1xuICByZXR1cm4gdGVzdE9yZGVyLm1hcChmdW5jdGlvbiAodHlwZSkge1xuICAgIHJldHVybiBjbG9uZShmaW5kVHlwZSh0eXBlKSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRDYXJkUG9zaXRpb24obmFtZSwgaWdub3JlRXJyb3JGb3JOb3RFeGlzdGluZykge1xuICB2YXIgcG9zaXRpb24gPSB0ZXN0T3JkZXIuaW5kZXhPZihuYW1lKTtcblxuICBpZiAoIWlnbm9yZUVycm9yRm9yTm90RXhpc3RpbmcgJiYgcG9zaXRpb24gPT09IC0xKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdcIicgKyBuYW1lICsgJ1wiIGlzIG5vdCBhIHN1cHBvcnRlZCBjYXJkIHR5cGUuJyk7XG4gIH1cblxuICByZXR1cm4gcG9zaXRpb247XG59XG5cbmZ1bmN0aW9uIGNyZWRpdENhcmRUeXBlKGNhcmROdW1iZXIpIHtcbiAgdmFyIGJlc3RNYXRjaDtcbiAgdmFyIHJlc3VsdHMgPSBbXTtcblxuICBpZiAoIWlzVmFsaWRJbnB1dFR5cGUoY2FyZE51bWJlcikpIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICBpZiAoY2FyZE51bWJlci5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZ2V0QWxsQ2FyZFR5cGVzKHRlc3RPcmRlcik7XG4gIH1cblxuICB0ZXN0T3JkZXIuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuICAgIHZhciBjYXJkQ29uZmlndXJhdGlvbiA9IGZpbmRUeXBlKHR5cGUpO1xuXG4gICAgYWRkTWF0Y2hpbmdDYXJkc1RvUmVzdWx0cyhjYXJkTnVtYmVyLCBjYXJkQ29uZmlndXJhdGlvbiwgcmVzdWx0cyk7XG4gIH0pO1xuXG4gIGJlc3RNYXRjaCA9IGZpbmRCZXN0TWF0Y2gocmVzdWx0cyk7XG5cbiAgaWYgKGJlc3RNYXRjaCkge1xuICAgIHJldHVybiBbYmVzdE1hdGNoXTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHRzO1xufVxuXG5jcmVkaXRDYXJkVHlwZS5nZXRUeXBlSW5mbyA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gIHJldHVybiBjbG9uZShmaW5kVHlwZSh0eXBlKSk7XG59O1xuXG5jcmVkaXRDYXJkVHlwZS5yZW1vdmVDYXJkID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgdmFyIHBvc2l0aW9uID0gZ2V0Q2FyZFBvc2l0aW9uKG5hbWUpO1xuXG4gIHRlc3RPcmRlci5zcGxpY2UocG9zaXRpb24sIDEpO1xufTtcblxuY3JlZGl0Q2FyZFR5cGUuYWRkQ2FyZCA9IGZ1bmN0aW9uIChjb25maWcpIHtcbiAgdmFyIGV4aXN0aW5nQ2FyZFBvc2l0aW9uID0gZ2V0Q2FyZFBvc2l0aW9uKGNvbmZpZy50eXBlLCB0cnVlKTtcblxuICBjdXN0b21DYXJkc1tjb25maWcudHlwZV0gPSBjb25maWc7XG5cbiAgaWYgKGV4aXN0aW5nQ2FyZFBvc2l0aW9uID09PSAtMSkge1xuICAgIHRlc3RPcmRlci5wdXNoKGNvbmZpZy50eXBlKTtcbiAgfVxufTtcblxuY3JlZGl0Q2FyZFR5cGUudXBkYXRlQ2FyZCA9IGZ1bmN0aW9uIChjYXJkVHlwZSwgdXBkYXRlcykge1xuICB2YXIgY2xvbmVkQ2FyZDtcbiAgdmFyIG9yaWdpbmFsT2JqZWN0ID0gY3VzdG9tQ2FyZHNbY2FyZFR5cGVdIHx8IHR5cGVzW2NhcmRUeXBlXTtcblxuICBpZiAoIW9yaWdpbmFsT2JqZWN0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdcIicgKyBjYXJkVHlwZSArICdcIiBpcyBub3QgYSByZWNvZ25pemVkIHR5cGUuIFVzZSBgYWRkQ2FyZGAgaW5zdGVhZC4nKTtcbiAgfVxuXG4gIGlmICh1cGRhdGVzLnR5cGUgJiYgb3JpZ2luYWxPYmplY3QudHlwZSAhPT0gdXBkYXRlcy50eXBlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3Qgb3ZlcndyaXRlIHR5cGUgcGFyYW1ldGVyLicpO1xuICB9XG5cbiAgY2xvbmVkQ2FyZCA9IGNsb25lKG9yaWdpbmFsT2JqZWN0LCB0cnVlKTtcblxuICBPYmplY3Qua2V5cyhjbG9uZWRDYXJkKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAodXBkYXRlc1trZXldKSB7XG4gICAgICBjbG9uZWRDYXJkW2tleV0gPSB1cGRhdGVzW2tleV07XG4gICAgfVxuICB9KTtcblxuICBjdXN0b21DYXJkc1tjbG9uZWRDYXJkLnR5cGVdID0gY2xvbmVkQ2FyZDtcbn07XG5cbmNyZWRpdENhcmRUeXBlLmNoYW5nZU9yZGVyID0gZnVuY3Rpb24gKG5hbWUsIHBvc2l0aW9uKSB7XG4gIHZhciBjdXJyZW50UG9zaXRpb24gPSBnZXRDYXJkUG9zaXRpb24obmFtZSk7XG5cbiAgdGVzdE9yZGVyLnNwbGljZShjdXJyZW50UG9zaXRpb24sIDEpO1xuICB0ZXN0T3JkZXIuc3BsaWNlKHBvc2l0aW9uLCAwLCBuYW1lKTtcbn07XG5cbmNyZWRpdENhcmRUeXBlLnJlc2V0TW9kaWZpY2F0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgdGVzdE9yZGVyID0gY2xvbmUoT1JJR0lOQUxfVEVTVF9PUkRFUik7XG4gIGN1c3RvbUNhcmRzID0ge307XG59O1xuXG5jcmVkaXRDYXJkVHlwZS50eXBlcyA9IGNhcmROYW1lcztcblxubW9kdWxlLmV4cG9ydHMgPSBjcmVkaXRDYXJkVHlwZTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGNsb25lID0gcmVxdWlyZSgnLi9jbG9uZScpO1xudmFyIG1hdGNoZXMgPSByZXF1aXJlKCcuL21hdGNoZXMnKTtcblxuZnVuY3Rpb24gYWRkTWF0Y2hpbmdDYXJkc1RvUmVzdWx0cyhjYXJkTnVtYmVyLCBjYXJkQ29uZmlndXJhdGlvbiwgcmVzdWx0cykge1xuICB2YXIgaSwgcGF0dGVybiwgcGF0dGVybkxlbmd0aCwgY2xvbmVkQ2FyZENvbmZpZ3VyYXRpb247XG5cbiAgZm9yIChpID0gMDsgaSA8IGNhcmRDb25maWd1cmF0aW9uLnBhdHRlcm5zLmxlbmd0aDsgaSsrKSB7XG4gICAgcGF0dGVybiA9IGNhcmRDb25maWd1cmF0aW9uLnBhdHRlcm5zW2ldO1xuXG4gICAgaWYgKCFtYXRjaGVzKGNhcmROdW1iZXIsIHBhdHRlcm4pKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBjbG9uZWRDYXJkQ29uZmlndXJhdGlvbiA9IGNsb25lKGNhcmRDb25maWd1cmF0aW9uKTtcblxuICAgIGlmIChBcnJheS5pc0FycmF5KHBhdHRlcm4pKSB7XG4gICAgICBwYXR0ZXJuTGVuZ3RoID0gU3RyaW5nKHBhdHRlcm5bMF0pLmxlbmd0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgcGF0dGVybkxlbmd0aCA9IFN0cmluZyhwYXR0ZXJuKS5sZW5ndGg7XG4gICAgfVxuXG4gICAgaWYgKGNhcmROdW1iZXIubGVuZ3RoID49IHBhdHRlcm5MZW5ndGgpIHtcbiAgICAgIGNsb25lZENhcmRDb25maWd1cmF0aW9uLm1hdGNoU3RyZW5ndGggPSBwYXR0ZXJuTGVuZ3RoO1xuICAgIH1cblxuICAgIHJlc3VsdHMucHVzaChjbG9uZWRDYXJkQ29uZmlndXJhdGlvbik7XG4gICAgYnJlYWs7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBhZGRNYXRjaGluZ0NhcmRzVG9SZXN1bHRzO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY2FyZFR5cGVzID0ge1xuICB2aXNhOiB7XG4gICAgbmljZVR5cGU6ICdWaXNhJyxcbiAgICB0eXBlOiAndmlzYScsXG4gICAgcGF0dGVybnM6IFtcbiAgICAgIDRcbiAgICBdLFxuICAgIGdhcHM6IFs0LCA4LCAxMl0sXG4gICAgbGVuZ3RoczogWzE2LCAxOCwgMTldLFxuICAgIGNvZGU6IHtcbiAgICAgIG5hbWU6ICdDVlYnLFxuICAgICAgc2l6ZTogM1xuICAgIH1cbiAgfSxcbiAgbWFzdGVyY2FyZDoge1xuICAgIG5pY2VUeXBlOiAnTWFzdGVyY2FyZCcsXG4gICAgdHlwZTogJ21hc3RlcmNhcmQnLFxuICAgIHBhdHRlcm5zOiBbXG4gICAgICBbNTEsIDU1XSxcbiAgICAgIFsyMjIxLCAyMjI5XSxcbiAgICAgIFsyMjMsIDIyOV0sXG4gICAgICBbMjMsIDI2XSxcbiAgICAgIFsyNzAsIDI3MV0sXG4gICAgICAyNzIwXG4gICAgXSxcbiAgICBnYXBzOiBbNCwgOCwgMTJdLFxuICAgIGxlbmd0aHM6IFsxNl0sXG4gICAgY29kZToge1xuICAgICAgbmFtZTogJ0NWQycsXG4gICAgICBzaXplOiAzXG4gICAgfVxuICB9LFxuICAnYW1lcmljYW4tZXhwcmVzcyc6IHtcbiAgICBuaWNlVHlwZTogJ0FtZXJpY2FuIEV4cHJlc3MnLFxuICAgIHR5cGU6ICdhbWVyaWNhbi1leHByZXNzJyxcbiAgICBwYXR0ZXJuczogW1xuICAgICAgMzQsXG4gICAgICAzN1xuICAgIF0sXG4gICAgZ2FwczogWzQsIDEwXSxcbiAgICBsZW5ndGhzOiBbMTVdLFxuICAgIGNvZGU6IHtcbiAgICAgIG5hbWU6ICdDSUQnLFxuICAgICAgc2l6ZTogNFxuICAgIH1cbiAgfSxcbiAgJ2RpbmVycy1jbHViJzoge1xuICAgIG5pY2VUeXBlOiAnRGluZXJzIENsdWInLFxuICAgIHR5cGU6ICdkaW5lcnMtY2x1YicsXG4gICAgcGF0dGVybnM6IFtcbiAgICAgIFszMDAsIDMwNV0sXG4gICAgICAzNixcbiAgICAgIDM4LFxuICAgICAgMzlcbiAgICBdLFxuICAgIGdhcHM6IFs0LCAxMF0sXG4gICAgbGVuZ3RoczogWzE0LCAxNiwgMTldLFxuICAgIGNvZGU6IHtcbiAgICAgIG5hbWU6ICdDVlYnLFxuICAgICAgc2l6ZTogM1xuICAgIH1cbiAgfSxcbiAgZGlzY292ZXI6IHtcbiAgICBuaWNlVHlwZTogJ0Rpc2NvdmVyJyxcbiAgICB0eXBlOiAnZGlzY292ZXInLFxuICAgIHBhdHRlcm5zOiBbXG4gICAgICA2MDExLFxuICAgICAgWzY0NCwgNjQ5XSxcbiAgICAgIDY1XG4gICAgXSxcbiAgICBnYXBzOiBbNCwgOCwgMTJdLFxuICAgIGxlbmd0aHM6IFsxNiwgMTldLFxuICAgIGNvZGU6IHtcbiAgICAgIG5hbWU6ICdDSUQnLFxuICAgICAgc2l6ZTogM1xuICAgIH1cbiAgfSxcbiAgamNiOiB7XG4gICAgbmljZVR5cGU6ICdKQ0InLFxuICAgIHR5cGU6ICdqY2InLFxuICAgIHBhdHRlcm5zOiBbXG4gICAgICAyMTMxLFxuICAgICAgMTgwMCxcbiAgICAgIFszNTI4LCAzNTg5XVxuICAgIF0sXG4gICAgZ2FwczogWzQsIDgsIDEyXSxcbiAgICBsZW5ndGhzOiBbMTYsIDE3LCAxOCwgMTldLFxuICAgIGNvZGU6IHtcbiAgICAgIG5hbWU6ICdDVlYnLFxuICAgICAgc2l6ZTogM1xuICAgIH1cbiAgfSxcbiAgdW5pb25wYXk6IHtcbiAgICBuaWNlVHlwZTogJ1VuaW9uUGF5JyxcbiAgICB0eXBlOiAndW5pb25wYXknLFxuICAgIHBhdHRlcm5zOiBbXG4gICAgICA2MjAsXG4gICAgICBbNjI0LCA2MjZdLFxuICAgICAgWzYyMTAwLCA2MjE4Ml0sXG4gICAgICBbNjIxODQsIDYyMTg3XSxcbiAgICAgIFs2MjE4NSwgNjIxOTddLFxuICAgICAgWzYyMjAwLCA2MjIwNV0sXG4gICAgICBbNjIyMDEwLCA2MjI5OTldLFxuICAgICAgNjIyMDE4LFxuICAgICAgWzYyMjAxOSwgNjIyOTk5XSxcbiAgICAgIFs2MjIwNywgNjIyMDldLFxuICAgICAgWzYyMjEyNiwgNjIyOTI1XSxcbiAgICAgIFs2MjMsIDYyNl0sXG4gICAgICA2MjcwLFxuICAgICAgNjI3MixcbiAgICAgIDYyNzYsXG4gICAgICBbNjI3NzAwLCA2Mjc3NzldLFxuICAgICAgWzYyNzc4MSwgNjI3Nzk5XSxcbiAgICAgIFs2MjgyLCA2Mjg5XSxcbiAgICAgIDYyOTEsXG4gICAgICA2MjkyLFxuICAgICAgODEwLFxuICAgICAgWzgxMTAsIDgxMzFdLFxuICAgICAgWzgxMzIsIDgxNTFdLFxuICAgICAgWzgxNTIsIDgxNjNdLFxuICAgICAgWzgxNjQsIDgxNzFdXG4gICAgXSxcbiAgICBnYXBzOiBbNCwgOCwgMTJdLFxuICAgIGxlbmd0aHM6IFsxNCwgMTUsIDE2LCAxNywgMTgsIDE5XSxcbiAgICBjb2RlOiB7XG4gICAgICBuYW1lOiAnQ1ZOJyxcbiAgICAgIHNpemU6IDNcbiAgICB9XG4gIH0sXG4gIG1hZXN0cm86IHtcbiAgICBuaWNlVHlwZTogJ01hZXN0cm8nLFxuICAgIHR5cGU6ICdtYWVzdHJvJyxcbiAgICBwYXR0ZXJuczogW1xuICAgICAgNDkzNjk4LFxuICAgICAgWzUwMDAwMCwgNTA2Njk4XSxcbiAgICAgIFs1MDY3NzksIDUwODk5OV0sXG4gICAgICBbNTYsIDU5XSxcbiAgICAgIDYzLFxuICAgICAgNjcsXG4gICAgICA2XG4gICAgXSxcbiAgICBnYXBzOiBbNCwgOCwgMTJdLFxuICAgIGxlbmd0aHM6IFsxMiwgMTMsIDE0LCAxNSwgMTYsIDE3LCAxOCwgMTldLFxuICAgIGNvZGU6IHtcbiAgICAgIG5hbWU6ICdDVkMnLFxuICAgICAgc2l6ZTogM1xuICAgIH1cbiAgfSxcbiAgZWxvOiB7XG4gICAgbmljZVR5cGU6ICdFbG8nLFxuICAgIHR5cGU6ICdlbG8nLFxuICAgIHBhdHRlcm5zOiBbXG4gICAgICA0MDExNzgsXG4gICAgICA0MDExNzksXG4gICAgICA0Mzg5MzUsXG4gICAgICA0NTc2MzEsXG4gICAgICA0NTc2MzIsXG4gICAgICA0MzEyNzQsXG4gICAgICA0NTE0MTYsXG4gICAgICA0NTczOTMsXG4gICAgICA1MDQxNzUsXG4gICAgICBbNTA2Njk5LCA1MDY3NzhdLFxuICAgICAgWzUwOTAwMCwgNTA5OTk5XSxcbiAgICAgIDYyNzc4MCxcbiAgICAgIDYzNjI5NyxcbiAgICAgIDYzNjM2OCxcbiAgICAgIFs2NTAwMzEsIDY1MDAzM10sXG4gICAgICBbNjUwMDM1LCA2NTAwNTFdLFxuICAgICAgWzY1MDQwNSwgNjUwNDM5XSxcbiAgICAgIFs2NTA0ODUsIDY1MDUzOF0sXG4gICAgICBbNjUwNTQxLCA2NTA1OThdLFxuICAgICAgWzY1MDcwMCwgNjUwNzE4XSxcbiAgICAgIFs2NTA3MjAsIDY1MDcyN10sXG4gICAgICBbNjUwOTAxLCA2NTA5NzhdLFxuICAgICAgWzY1MTY1MiwgNjUxNjc5XSxcbiAgICAgIFs2NTUwMDAsIDY1NTAxOV0sXG4gICAgICBbNjU1MDIxLCA2NTUwNThdXG4gICAgXSxcbiAgICBnYXBzOiBbNCwgOCwgMTJdLFxuICAgIGxlbmd0aHM6IFsxNl0sXG4gICAgY29kZToge1xuICAgICAgbmFtZTogJ0NWRScsXG4gICAgICBzaXplOiAzXG4gICAgfVxuICB9LFxuICBtaXI6IHtcbiAgICBuaWNlVHlwZTogJ01pcicsXG4gICAgdHlwZTogJ21pcicsXG4gICAgcGF0dGVybnM6IFtcbiAgICAgIFsyMjAwLCAyMjA0XVxuICAgIF0sXG4gICAgZ2FwczogWzQsIDgsIDEyXSxcbiAgICBsZW5ndGhzOiBbMTYsIDE3LCAxOCwgMTldLFxuICAgIGNvZGU6IHtcbiAgICAgIG5hbWU6ICdDVlAyJyxcbiAgICAgIHNpemU6IDNcbiAgICB9XG4gIH0sXG4gIGhpcGVyOiB7XG4gICAgbmljZVR5cGU6ICdIaXBlcicsXG4gICAgdHlwZTogJ2hpcGVyJyxcbiAgICBwYXR0ZXJuczogW1xuICAgICAgNjM3MDk1LFxuICAgICAgNjM3NTY4LFxuICAgICAgNjM3NTk5LFxuICAgICAgNjM3NjA5LFxuICAgICAgNjM3NjEyXG4gICAgXSxcbiAgICBnYXBzOiBbNCwgOCwgMTJdLFxuICAgIGxlbmd0aHM6IFsxNl0sXG4gICAgY29kZToge1xuICAgICAgbmFtZTogJ0NWQycsXG4gICAgICBzaXplOiAzXG4gICAgfVxuICB9LFxuICBoaXBlcmNhcmQ6IHtcbiAgICBuaWNlVHlwZTogJ0hpcGVyY2FyZCcsXG4gICAgdHlwZTogJ2hpcGVyY2FyZCcsXG4gICAgcGF0dGVybnM6IFtcbiAgICAgIDYwNjI4MlxuICAgIF0sXG4gICAgZ2FwczogWzQsIDgsIDEyXSxcbiAgICBsZW5ndGhzOiBbMTZdLFxuICAgIGNvZGU6IHtcbiAgICAgIG5hbWU6ICdDVkMnLFxuICAgICAgc2l6ZTogM1xuICAgIH1cbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBjYXJkVHlwZXM7XG4iLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIGNsb25lKG9yaWdpbmFsT2JqZWN0KSB7XG4gIHZhciBkdXBlO1xuXG4gIGlmICghb3JpZ2luYWxPYmplY3QpIHsgcmV0dXJuIG51bGw7IH1cblxuICBkdXBlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvcmlnaW5hbE9iamVjdCkpO1xuXG4gIHJldHVybiBkdXBlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNsb25lO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBoYXNFbm91Z2hSZXN1bHRzVG9EZXRlcm1pbmVCZXN0TWF0Y2gocmVzdWx0cykge1xuICB2YXIgbnVtYmVyT2ZSZXN1bHRzV2l0aE1heFN0cmVuZ3RoUHJvcGVydHkgPSByZXN1bHRzLmZpbHRlcihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgcmV0dXJuIHJlc3VsdC5tYXRjaFN0cmVuZ3RoO1xuICB9KS5sZW5ndGg7XG5cbiAgLy8gaWYgYWxsIHBvc3NpYmxlIHJlc3VsdHMgaGF2ZSBhIG1heFN0cmVuZ3RoIHByb3BlcnR5XG4gIC8vIHRoYXQgbWVhbnMgdGhlIGNhcmQgbnVtYmVyIGlzIHN1ZmZpY2llbnRseSBsb25nXG4gIC8vIGVub3VnaCB0byBkZXRlcm1pbmUgY29uY2x1c2l2ZWx5IHdoYXQgdGhlIHR5cGUgaXNcbiAgcmV0dXJuIG51bWJlck9mUmVzdWx0c1dpdGhNYXhTdHJlbmd0aFByb3BlcnR5ID4gMCAmJlxuICAgIG51bWJlck9mUmVzdWx0c1dpdGhNYXhTdHJlbmd0aFByb3BlcnR5ID09PSByZXN1bHRzLmxlbmd0aDtcbn1cblxuZnVuY3Rpb24gZmluZEJlc3RNYXRjaChyZXN1bHRzKSB7XG4gIGlmICghaGFzRW5vdWdoUmVzdWx0c1RvRGV0ZXJtaW5lQmVzdE1hdGNoKHJlc3VsdHMpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdHMucmVkdWNlKGZ1bmN0aW9uIChiZXN0TWF0Y2gsIHJlc3VsdCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gICAgaWYgKCFiZXN0TWF0Y2gpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLy8gaWYgdGhlIGN1cnJlbnQgYmVzdCBtYXRjaCBwYXR0ZXJuIGlzIGxlc3Mgc3BlY2lmaWNcbiAgICAvLyB0aGFuIHRoaXMgcmVzdWx0LCBzZXQgdGhlIHJlc3VsdCBhcyB0aGUgbmV3IGJlc3QgbWF0Y2hcbiAgICBpZiAoYmVzdE1hdGNoLm1hdGNoU3RyZW5ndGggPCByZXN1bHQubWF0Y2hTdHJlbmd0aCkge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICByZXR1cm4gYmVzdE1hdGNoO1xuICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmaW5kQmVzdE1hdGNoO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBpc1ZhbGlkSW5wdXRUeXBlKGNhcmROdW1iZXIpIHtcbiAgcmV0dXJuIHR5cGVvZiBjYXJkTnVtYmVyID09PSAnc3RyaW5nJyB8fCBjYXJkTnVtYmVyIGluc3RhbmNlb2YgU3RyaW5nO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzVmFsaWRJbnB1dFR5cGU7XG4iLCIndXNlIHN0cmljdCc7XG5cbi8vIEFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vcG9sdm8tbGFicy9jYXJkLXR5cGUvYmxvYi9hYWFiMTFmODBmYTE5MzliY2NjOGYyNDkwNWEwNmFlM2NkODY0MzU2L3NyYy9jYXJkVHlwZS5qcyNMMzctTDQyXG5mdW5jdGlvbiBtYXRjaGVzUmFuZ2UoY2FyZE51bWJlciwgbWluLCBtYXgpIHtcbiAgdmFyIG1heExlbmd0aFRvQ2hlY2sgPSBTdHJpbmcobWluKS5sZW5ndGg7XG4gIHZhciBzdWJzdHIgPSBjYXJkTnVtYmVyLnN1YnN0cigwLCBtYXhMZW5ndGhUb0NoZWNrKTtcbiAgdmFyIGludGVnZXJSZXByZXNlbnRhdGlvbk9mQ2FyZE51bWJlciA9IHBhcnNlSW50KHN1YnN0ciwgMTApO1xuXG4gIG1pbiA9IHBhcnNlSW50KFN0cmluZyhtaW4pLnN1YnN0cigwLCBzdWJzdHIubGVuZ3RoKSwgMTApO1xuICBtYXggPSBwYXJzZUludChTdHJpbmcobWF4KS5zdWJzdHIoMCwgc3Vic3RyLmxlbmd0aCksIDEwKTtcblxuICByZXR1cm4gaW50ZWdlclJlcHJlc2VudGF0aW9uT2ZDYXJkTnVtYmVyID49IG1pbiAmJiBpbnRlZ2VyUmVwcmVzZW50YXRpb25PZkNhcmROdW1iZXIgPD0gbWF4O1xufVxuXG5mdW5jdGlvbiBtYXRjaGVzUGF0dGVybihjYXJkTnVtYmVyLCBwYXR0ZXJuKSB7XG4gIHBhdHRlcm4gPSBTdHJpbmcocGF0dGVybik7XG5cbiAgcmV0dXJuIHBhdHRlcm4uc3Vic3RyaW5nKDAsIGNhcmROdW1iZXIubGVuZ3RoKSA9PT0gY2FyZE51bWJlci5zdWJzdHJpbmcoMCwgcGF0dGVybi5sZW5ndGgpO1xufVxuXG5mdW5jdGlvbiBtYXRjaGVzKGNhcmROdW1iZXIsIHBhdHRlcm4pIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkocGF0dGVybikpIHtcbiAgICByZXR1cm4gbWF0Y2hlc1JhbmdlKGNhcmROdW1iZXIsIHBhdHRlcm5bMF0sIHBhdHRlcm5bMV0pO1xuICB9XG5cbiAgcmV0dXJuIG1hdGNoZXNQYXR0ZXJuKGNhcmROdW1iZXIsIHBhdHRlcm4pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG1hdGNoZXM7XG4iLCIndXNlIHN0cmljdCc7XG52YXIgaXNPYmogPSByZXF1aXJlKCdpcy1vYmonKTtcbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgcHJvcElzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbmZ1bmN0aW9uIHRvT2JqZWN0KHZhbCkge1xuXHRpZiAodmFsID09PSBudWxsIHx8IHZhbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignU291cmNlcyBjYW5ub3QgYmUgbnVsbCBvciB1bmRlZmluZWQnKTtcblx0fVxuXG5cdHJldHVybiBPYmplY3QodmFsKTtcbn1cblxuZnVuY3Rpb24gYXNzaWduS2V5KHRvLCBmcm9tLCBrZXkpIHtcblx0dmFyIHZhbCA9IGZyb21ba2V5XTtcblxuXHRpZiAodmFsID09PSB1bmRlZmluZWQgfHwgdmFsID09PSBudWxsKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0aWYgKGhhc093blByb3BlcnR5LmNhbGwodG8sIGtleSkpIHtcblx0XHRpZiAodG9ba2V5XSA9PT0gdW5kZWZpbmVkIHx8IHRvW2tleV0gPT09IG51bGwpIHtcblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IHVuZGVmaW5lZCBvciBudWxsIHRvIG9iamVjdCAoJyArIGtleSArICcpJyk7XG5cdFx0fVxuXHR9XG5cblx0aWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKHRvLCBrZXkpIHx8ICFpc09iaih2YWwpKSB7XG5cdFx0dG9ba2V5XSA9IHZhbDtcblx0fSBlbHNlIHtcblx0XHR0b1trZXldID0gYXNzaWduKE9iamVjdCh0b1trZXldKSwgZnJvbVtrZXldKTtcblx0fVxufVxuXG5mdW5jdGlvbiBhc3NpZ24odG8sIGZyb20pIHtcblx0aWYgKHRvID09PSBmcm9tKSB7XG5cdFx0cmV0dXJuIHRvO1xuXHR9XG5cblx0ZnJvbSA9IE9iamVjdChmcm9tKTtcblxuXHRmb3IgKHZhciBrZXkgaW4gZnJvbSkge1xuXHRcdGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGZyb20sIGtleSkpIHtcblx0XHRcdGFzc2lnbktleSh0bywgZnJvbSwga2V5KTtcblx0XHR9XG5cdH1cblxuXHRpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuXHRcdHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhmcm9tKTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3ltYm9scy5sZW5ndGg7IGkrKykge1xuXHRcdFx0aWYgKHByb3BJc0VudW1lcmFibGUuY2FsbChmcm9tLCBzeW1ib2xzW2ldKSkge1xuXHRcdFx0XHRhc3NpZ25LZXkodG8sIGZyb20sIHN5bWJvbHNbaV0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiB0bztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkZWVwQXNzaWduKHRhcmdldCkge1xuXHR0YXJnZXQgPSB0b09iamVjdCh0YXJnZXQpO1xuXG5cdGZvciAodmFyIHMgPSAxOyBzIDwgYXJndW1lbnRzLmxlbmd0aDsgcysrKSB7XG5cdFx0YXNzaWduKHRhcmdldCwgYXJndW1lbnRzW3NdKTtcblx0fVxuXG5cdHJldHVybiB0YXJnZXQ7XG59O1xuIiwiJ3VzZSBzdHJpY3QnXG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9qcycpXG4iLCIvKlxuICogRmlsZTogaWZyYW1lUmVzaXplci5jb250ZW50V2luZG93LmpzXG4gKiBEZXNjOiBJbmNsdWRlIHRoaXMgZmlsZSBpbiBhbnkgcGFnZSBiZWluZyBsb2FkZWQgaW50byBhbiBpZnJhbWVcbiAqICAgICAgIHRvIGZvcmNlIHRoZSBpZnJhbWUgdG8gcmVzaXplIHRvIHRoZSBjb250ZW50IHNpemUuXG4gKiBSZXF1aXJlczogaWZyYW1lUmVzaXplci5qcyBvbiBob3N0IHBhZ2UuXG4gKiBEb2M6IGh0dHBzOi8vZ2l0aHViLmNvbS9kYXZpZGpicmFkc2hhdy9pZnJhbWUtcmVzaXplclxuICogQXV0aG9yOiBEYXZpZCBKLiBCcmFkc2hhdyAtIGRhdmVAYnJhZHNoYXcubmV0XG4gKiBDb250cmlidXRvcjogSnVyZSBNYXYgLSBqdXJlLm1hdkBnbWFpbC5jb21cbiAqIENvbnRyaWJ1dG9yOiBJYW4gQ2F1bmNlIC0gaWFuQGhhbGxuZXQuY28udWtcbiAqL1xuXG4oZnVuY3Rpb24odW5kZWZpbmVkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybjsgLy8gZG9uJ3QgcnVuIGZvciBzZXJ2ZXIgc2lkZSByZW5kZXJcblxuICB2YXIgYXV0b1Jlc2l6ZSA9IHRydWUsXG4gICAgYmFzZSA9IDEwLFxuICAgIGJvZHlCYWNrZ3JvdW5kID0gJycsXG4gICAgYm9keU1hcmdpbiA9IDAsXG4gICAgYm9keU1hcmdpblN0ciA9ICcnLFxuICAgIGJvZHlPYnNlcnZlciA9IG51bGwsXG4gICAgYm9keVBhZGRpbmcgPSAnJyxcbiAgICBjYWxjdWxhdGVXaWR0aCA9IGZhbHNlLFxuICAgIGRvdWJsZUV2ZW50TGlzdCA9IHsgcmVzaXplOiAxLCBjbGljazogMSB9LFxuICAgIGV2ZW50Q2FuY2VsVGltZXIgPSAxMjgsXG4gICAgZmlyc3RSdW4gPSB0cnVlLFxuICAgIGhlaWdodCA9IDEsXG4gICAgaGVpZ2h0Q2FsY01vZGVEZWZhdWx0ID0gJ2JvZHlPZmZzZXQnLFxuICAgIGhlaWdodENhbGNNb2RlID0gaGVpZ2h0Q2FsY01vZGVEZWZhdWx0LFxuICAgIGluaXRMb2NrID0gdHJ1ZSxcbiAgICBpbml0TXNnID0gJycsXG4gICAgaW5QYWdlTGlua3MgPSB7fSxcbiAgICBpbnRlcnZhbCA9IDMyLFxuICAgIGludGVydmFsVGltZXIgPSBudWxsLFxuICAgIGxvZ2dpbmcgPSBmYWxzZSxcbiAgICBtc2dJRCA9ICdbaUZyYW1lU2l6ZXJdJywgLy9NdXN0IG1hdGNoIGhvc3QgcGFnZSBtc2cgSURcbiAgICBtc2dJZExlbiA9IG1zZ0lELmxlbmd0aCxcbiAgICBteUlEID0gJycsXG4gICAgb2JzZXJ2ZXIgPSBudWxsLFxuICAgIHJlc2V0UmVxdWlyZWRNZXRob2RzID0ge1xuICAgICAgbWF4OiAxLFxuICAgICAgbWluOiAxLFxuICAgICAgYm9keVNjcm9sbDogMSxcbiAgICAgIGRvY3VtZW50RWxlbWVudFNjcm9sbDogMVxuICAgIH0sXG4gICAgcmVzaXplRnJvbSA9ICdjaGlsZCcsXG4gICAgc2VuZFBlcm1pdCA9IHRydWUsXG4gICAgdGFyZ2V0ID0gd2luZG93LnBhcmVudCxcbiAgICB0YXJnZXRPcmlnaW5EZWZhdWx0ID0gJyonLFxuICAgIHRvbGVyYW5jZSA9IDAsXG4gICAgdHJpZ2dlckxvY2tlZCA9IGZhbHNlLFxuICAgIHRyaWdnZXJMb2NrZWRUaW1lciA9IG51bGwsXG4gICAgdGhyb3R0bGVkVGltZXIgPSAxNixcbiAgICB3aWR0aCA9IDEsXG4gICAgd2lkdGhDYWxjTW9kZURlZmF1bHQgPSAnc2Nyb2xsJyxcbiAgICB3aWR0aENhbGNNb2RlID0gd2lkdGhDYWxjTW9kZURlZmF1bHQsXG4gICAgd2luID0gd2luZG93LFxuICAgIG1lc3NhZ2VDYWxsYmFjayA9IGZ1bmN0aW9uKCkge1xuICAgICAgd2FybignTWVzc2FnZUNhbGxiYWNrIGZ1bmN0aW9uIG5vdCBkZWZpbmVkJyk7XG4gICAgfSxcbiAgICByZWFkeUNhbGxiYWNrID0gZnVuY3Rpb24oKSB7fSxcbiAgICBwYWdlSW5mb0NhbGxiYWNrID0gZnVuY3Rpb24oKSB7fSxcbiAgICBjdXN0b21DYWxjTWV0aG9kcyA9IHtcbiAgICAgIGhlaWdodDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHdhcm4oJ0N1c3RvbSBoZWlnaHQgY2FsY3VsYXRpb24gZnVuY3Rpb24gbm90IGRlZmluZWQnKTtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgICB9LFxuICAgICAgd2lkdGg6IGZ1bmN0aW9uKCkge1xuICAgICAgICB3YXJuKCdDdXN0b20gd2lkdGggY2FsY3VsYXRpb24gZnVuY3Rpb24gbm90IGRlZmluZWQnKTtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmJvZHkuc2Nyb2xsV2lkdGg7XG4gICAgICB9XG4gICAgfSxcbiAgICBldmVudEhhbmRsZXJzQnlOYW1lID0ge30sXG4gICAgcGFzc2l2ZVN1cHBvcnRlZCA9IGZhbHNlLFxuICAgIG9uY2VTdXBwb3J0ZWQgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBub29wKCkge31cblxuICB0cnkge1xuICAgIHZhciBvcHRpb25zID0gT2JqZWN0LmNyZWF0ZShcbiAgICAgIHt9LFxuICAgICAge1xuICAgICAgICBwYXNzaXZlOiB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHBhc3NpdmVTdXBwb3J0ZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25jZToge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBvbmNlU3VwcG9ydGVkID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0ZXN0Jywgbm9vcCwgb3B0aW9ucyk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBub29wLCBvcHRpb25zKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8qICovXG4gIH1cblxuICBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKGVsLCBldnQsIGZ1bmMsIG9wdGlvbnMpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqLyAvLyBOb3QgdGVzdGFibGUgaW4gcGhhbnRvbUpTXG4gICAgaWYgKCdhZGRFdmVudExpc3RlbmVyJyBpbiB3aW5kb3cpIHtcbiAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoZXZ0LCBmdW5jLCBwYXNzaXZlU3VwcG9ydGVkID8gb3B0aW9ucyB8fCB7fSA6IGZhbHNlKTtcbiAgICB9IGVsc2UgaWYgKCdhdHRhY2hFdmVudCcgaW4gd2luZG93KSB7XG4gICAgICAvL0lFXG4gICAgICBlbC5hdHRhY2hFdmVudCgnb24nICsgZXZ0LCBmdW5jKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVyKGVsLCBldnQsIGZ1bmMpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqLyAvLyBOb3QgdGVzdGFibGUgaW4gcGhhbnRvbUpTXG4gICAgaWYgKCdyZW1vdmVFdmVudExpc3RlbmVyJyBpbiB3aW5kb3cpIHtcbiAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZ0LCBmdW5jLCBmYWxzZSk7XG4gICAgfSBlbHNlIGlmICgnZGV0YWNoRXZlbnQnIGluIHdpbmRvdykge1xuICAgICAgLy9JRVxuICAgICAgZWwuZGV0YWNoRXZlbnQoJ29uJyArIGV2dCwgZnVuYyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2FwaXRhbGl6ZUZpcnN0TGV0dGVyKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHJpbmcuc2xpY2UoMSk7XG4gIH1cblxuICAvL0Jhc2VkIG9uIHVuZGVyc2NvcmUuanNcbiAgZnVuY3Rpb24gdGhyb3R0bGUoZnVuYykge1xuICAgIHZhciBjb250ZXh0LFxuICAgICAgYXJncyxcbiAgICAgIHJlc3VsdCxcbiAgICAgIHRpbWVvdXQgPSBudWxsLFxuICAgICAgcHJldmlvdXMgPSAwLFxuICAgICAgbGF0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcHJldmlvdXMgPSBnZXROb3coKTtcbiAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICAgIGlmICghdGltZW91dCkge1xuICAgICAgICAgIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBub3cgPSBnZXROb3coKTtcblxuICAgICAgaWYgKCFwcmV2aW91cykge1xuICAgICAgICBwcmV2aW91cyA9IG5vdztcbiAgICAgIH1cblxuICAgICAgdmFyIHJlbWFpbmluZyA9IHRocm90dGxlZFRpbWVyIC0gKG5vdyAtIHByZXZpb3VzKTtcblxuICAgICAgY29udGV4dCA9IHRoaXM7XG4gICAgICBhcmdzID0gYXJndW1lbnRzO1xuXG4gICAgICBpZiAocmVtYWluaW5nIDw9IDAgfHwgcmVtYWluaW5nID4gdGhyb3R0bGVkVGltZXIpIHtcbiAgICAgICAgaWYgKHRpbWVvdXQpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBwcmV2aW91cyA9IG5vdztcbiAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcblxuICAgICAgICBpZiAoIXRpbWVvdXQpIHtcbiAgICAgICAgICBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIXRpbWVvdXQpIHtcbiAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHJlbWFpbmluZyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgfVxuXG4gIHZhciBnZXROb3cgPVxuICAgIERhdGUubm93IHx8XG4gICAgZnVuY3Rpb24oKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyAvLyBOb3QgdGVzdGFibGUgaW4gUGhhbnRvbkpTXG4gICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgfTtcblxuICBmdW5jdGlvbiBmb3JtYXRMb2dNc2cobXNnKSB7XG4gICAgcmV0dXJuIG1zZ0lEICsgJ1snICsgbXlJRCArICddJyArICcgJyArIG1zZztcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvZyhtc2cpIHtcbiAgICBpZiAobG9nZ2luZyAmJiAnb2JqZWN0JyA9PT0gdHlwZW9mIHdpbmRvdy5jb25zb2xlKSB7XG4gICAgICBjb25zb2xlLmxvZyhmb3JtYXRMb2dNc2cobXNnKSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gd2Fybihtc2cpIHtcbiAgICBpZiAoJ29iamVjdCcgPT09IHR5cGVvZiB3aW5kb3cuY29uc29sZSkge1xuICAgICAgY29uc29sZS53YXJuKGZvcm1hdExvZ01zZyhtc2cpKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIHJlYWREYXRhRnJvbVBhcmVudCgpO1xuICAgIGxvZygnSW5pdGlhbGlzaW5nIGlGcmFtZSAoJyArIGxvY2F0aW9uLmhyZWYgKyAnKScpO1xuICAgIHJlYWREYXRhRnJvbVBhZ2UoKTtcbiAgICBzZXRNYXJnaW4oKTtcbiAgICBzZXRCb2R5U3R5bGUoJ2JhY2tncm91bmQnLCBib2R5QmFja2dyb3VuZCk7XG4gICAgc2V0Qm9keVN0eWxlKCdwYWRkaW5nJywgYm9keVBhZGRpbmcpO1xuICAgIGluamVjdENsZWFyRml4SW50b0JvZHlFbGVtZW50KCk7XG4gICAgY2hlY2tIZWlnaHRNb2RlKCk7XG4gICAgY2hlY2tXaWR0aE1vZGUoKTtcbiAgICBzdG9wSW5maW5pdGVSZXNpemluZ09mSUZyYW1lKCk7XG4gICAgc2V0dXBQdWJsaWNNZXRob2RzKCk7XG4gICAgc3RhcnRFdmVudExpc3RlbmVycygpO1xuICAgIGluUGFnZUxpbmtzID0gc2V0dXBJblBhZ2VMaW5rcygpO1xuICAgIHNlbmRTaXplKCdpbml0JywgJ0luaXQgbWVzc2FnZSBmcm9tIGhvc3QgcGFnZScpO1xuICAgIHJlYWR5Q2FsbGJhY2soKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWREYXRhRnJvbVBhcmVudCgpIHtcbiAgICBmdW5jdGlvbiBzdHJCb29sKHN0cikge1xuICAgICAgcmV0dXJuICd0cnVlJyA9PT0gc3RyID8gdHJ1ZSA6IGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBkYXRhID0gaW5pdE1zZy5zdWJzdHIobXNnSWRMZW4pLnNwbGl0KCc6Jyk7XG5cbiAgICBteUlEID0gZGF0YVswXTtcbiAgICBib2R5TWFyZ2luID0gdW5kZWZpbmVkICE9PSBkYXRhWzFdID8gTnVtYmVyKGRhdGFbMV0pIDogYm9keU1hcmdpbjsgLy9Gb3IgVjEgY29tcGF0aWJpbGl0eVxuICAgIGNhbGN1bGF0ZVdpZHRoID0gdW5kZWZpbmVkICE9PSBkYXRhWzJdID8gc3RyQm9vbChkYXRhWzJdKSA6IGNhbGN1bGF0ZVdpZHRoO1xuICAgIGxvZ2dpbmcgPSB1bmRlZmluZWQgIT09IGRhdGFbM10gPyBzdHJCb29sKGRhdGFbM10pIDogbG9nZ2luZztcbiAgICBpbnRlcnZhbCA9IHVuZGVmaW5lZCAhPT0gZGF0YVs0XSA/IE51bWJlcihkYXRhWzRdKSA6IGludGVydmFsO1xuICAgIGF1dG9SZXNpemUgPSB1bmRlZmluZWQgIT09IGRhdGFbNl0gPyBzdHJCb29sKGRhdGFbNl0pIDogYXV0b1Jlc2l6ZTtcbiAgICBib2R5TWFyZ2luU3RyID0gZGF0YVs3XTtcbiAgICBoZWlnaHRDYWxjTW9kZSA9IHVuZGVmaW5lZCAhPT0gZGF0YVs4XSA/IGRhdGFbOF0gOiBoZWlnaHRDYWxjTW9kZTtcbiAgICBib2R5QmFja2dyb3VuZCA9IGRhdGFbOV07XG4gICAgYm9keVBhZGRpbmcgPSBkYXRhWzEwXTtcbiAgICB0b2xlcmFuY2UgPSB1bmRlZmluZWQgIT09IGRhdGFbMTFdID8gTnVtYmVyKGRhdGFbMTFdKSA6IHRvbGVyYW5jZTtcbiAgICBpblBhZ2VMaW5rcy5lbmFibGUgPSB1bmRlZmluZWQgIT09IGRhdGFbMTJdID8gc3RyQm9vbChkYXRhWzEyXSkgOiBmYWxzZTtcbiAgICByZXNpemVGcm9tID0gdW5kZWZpbmVkICE9PSBkYXRhWzEzXSA/IGRhdGFbMTNdIDogcmVzaXplRnJvbTtcbiAgICB3aWR0aENhbGNNb2RlID0gdW5kZWZpbmVkICE9PSBkYXRhWzE0XSA/IGRhdGFbMTRdIDogd2lkdGhDYWxjTW9kZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWREYXRhRnJvbVBhZ2UoKSB7XG4gICAgZnVuY3Rpb24gcmVhZERhdGEoKSB7XG4gICAgICB2YXIgZGF0YSA9IHdpbmRvdy5pRnJhbWVSZXNpemVyO1xuXG4gICAgICBsb2coJ1JlYWRpbmcgZGF0YSBmcm9tIHBhZ2U6ICcgKyBKU09OLnN0cmluZ2lmeShkYXRhKSk7XG5cbiAgICAgIG1lc3NhZ2VDYWxsYmFjayA9XG4gICAgICAgICdtZXNzYWdlQ2FsbGJhY2snIGluIGRhdGEgPyBkYXRhLm1lc3NhZ2VDYWxsYmFjayA6IG1lc3NhZ2VDYWxsYmFjaztcbiAgICAgIHJlYWR5Q2FsbGJhY2sgPVxuICAgICAgICAncmVhZHlDYWxsYmFjaycgaW4gZGF0YSA/IGRhdGEucmVhZHlDYWxsYmFjayA6IHJlYWR5Q2FsbGJhY2s7XG4gICAgICB0YXJnZXRPcmlnaW5EZWZhdWx0ID1cbiAgICAgICAgJ3RhcmdldE9yaWdpbicgaW4gZGF0YSA/IGRhdGEudGFyZ2V0T3JpZ2luIDogdGFyZ2V0T3JpZ2luRGVmYXVsdDtcbiAgICAgIGhlaWdodENhbGNNb2RlID1cbiAgICAgICAgJ2hlaWdodENhbGN1bGF0aW9uTWV0aG9kJyBpbiBkYXRhXG4gICAgICAgICAgPyBkYXRhLmhlaWdodENhbGN1bGF0aW9uTWV0aG9kXG4gICAgICAgICAgOiBoZWlnaHRDYWxjTW9kZTtcbiAgICAgIHdpZHRoQ2FsY01vZGUgPVxuICAgICAgICAnd2lkdGhDYWxjdWxhdGlvbk1ldGhvZCcgaW4gZGF0YVxuICAgICAgICAgID8gZGF0YS53aWR0aENhbGN1bGF0aW9uTWV0aG9kXG4gICAgICAgICAgOiB3aWR0aENhbGNNb2RlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldHVwQ3VzdG9tQ2FsY01ldGhvZHMoY2FsY01vZGUsIGNhbGNGdW5jKSB7XG4gICAgICBpZiAoJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIGNhbGNNb2RlKSB7XG4gICAgICAgIGxvZygnU2V0dXAgY3VzdG9tICcgKyBjYWxjRnVuYyArICdDYWxjTWV0aG9kJyk7XG4gICAgICAgIGN1c3RvbUNhbGNNZXRob2RzW2NhbGNGdW5jXSA9IGNhbGNNb2RlO1xuICAgICAgICBjYWxjTW9kZSA9ICdjdXN0b20nO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2FsY01vZGU7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgJ2lGcmFtZVJlc2l6ZXInIGluIHdpbmRvdyAmJlxuICAgICAgT2JqZWN0ID09PSB3aW5kb3cuaUZyYW1lUmVzaXplci5jb25zdHJ1Y3RvclxuICAgICkge1xuICAgICAgcmVhZERhdGEoKTtcbiAgICAgIGhlaWdodENhbGNNb2RlID0gc2V0dXBDdXN0b21DYWxjTWV0aG9kcyhoZWlnaHRDYWxjTW9kZSwgJ2hlaWdodCcpO1xuICAgICAgd2lkdGhDYWxjTW9kZSA9IHNldHVwQ3VzdG9tQ2FsY01ldGhvZHMod2lkdGhDYWxjTW9kZSwgJ3dpZHRoJyk7XG4gICAgfVxuXG4gICAgbG9nKCdUYXJnZXRPcmlnaW4gZm9yIHBhcmVudCBzZXQgdG86ICcgKyB0YXJnZXRPcmlnaW5EZWZhdWx0KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNoa0NTUyhhdHRyLCB2YWx1ZSkge1xuICAgIGlmICgtMSAhPT0gdmFsdWUuaW5kZXhPZignLScpKSB7XG4gICAgICB3YXJuKCdOZWdhdGl2ZSBDU1MgdmFsdWUgaWdub3JlZCBmb3IgJyArIGF0dHIpO1xuICAgICAgdmFsdWUgPSAnJztcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0Qm9keVN0eWxlKGF0dHIsIHZhbHVlKSB7XG4gICAgaWYgKHVuZGVmaW5lZCAhPT0gdmFsdWUgJiYgJycgIT09IHZhbHVlICYmICdudWxsJyAhPT0gdmFsdWUpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGVbYXR0cl0gPSB2YWx1ZTtcbiAgICAgIGxvZygnQm9keSAnICsgYXR0ciArICcgc2V0IHRvIFwiJyArIHZhbHVlICsgJ1wiJyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2V0TWFyZ2luKCkge1xuICAgIC8vSWYgY2FsbGVkIHZpYSBWMSBzY3JpcHQsIGNvbnZlcnQgYm9keU1hcmdpbiBmcm9tIGludCB0byBzdHJcbiAgICBpZiAodW5kZWZpbmVkID09PSBib2R5TWFyZ2luU3RyKSB7XG4gICAgICBib2R5TWFyZ2luU3RyID0gYm9keU1hcmdpbiArICdweCc7XG4gICAgfVxuXG4gICAgc2V0Qm9keVN0eWxlKCdtYXJnaW4nLCBjaGtDU1MoJ21hcmdpbicsIGJvZHlNYXJnaW5TdHIpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0b3BJbmZpbml0ZVJlc2l6aW5nT2ZJRnJhbWUoKSB7XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLmhlaWdodCA9ICcnO1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0ID0gJyc7XG4gICAgbG9nKCdIVE1MICYgYm9keSBoZWlnaHQgc2V0IHRvIFwiYXV0b1wiJyk7XG4gIH1cblxuICBmdW5jdGlvbiBtYW5hZ2VUcmlnZ2VyRXZlbnQob3B0aW9ucykge1xuICAgIHZhciBsaXN0ZW5lciA9IHtcbiAgICAgIGFkZDogZnVuY3Rpb24oZXZlbnROYW1lKSB7XG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZUV2ZW50KCkge1xuICAgICAgICAgIHNlbmRTaXplKG9wdGlvbnMuZXZlbnROYW1lLCBvcHRpb25zLmV2ZW50VHlwZSk7XG4gICAgICAgIH1cblxuICAgICAgICBldmVudEhhbmRsZXJzQnlOYW1lW2V2ZW50TmFtZV0gPSBoYW5kbGVFdmVudDtcblxuICAgICAgICBhZGRFdmVudExpc3RlbmVyKHdpbmRvdywgZXZlbnROYW1lLCBoYW5kbGVFdmVudCwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgICAgfSxcbiAgICAgIHJlbW92ZTogZnVuY3Rpb24oZXZlbnROYW1lKSB7XG4gICAgICAgIHZhciBoYW5kbGVFdmVudCA9IGV2ZW50SGFuZGxlcnNCeU5hbWVbZXZlbnROYW1lXTtcbiAgICAgICAgZGVsZXRlIGV2ZW50SGFuZGxlcnNCeU5hbWVbZXZlbnROYW1lXTtcblxuICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyKHdpbmRvdywgZXZlbnROYW1lLCBoYW5kbGVFdmVudCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmIChvcHRpb25zLmV2ZW50TmFtZXMgJiYgQXJyYXkucHJvdG90eXBlLm1hcCkge1xuICAgICAgb3B0aW9ucy5ldmVudE5hbWUgPSBvcHRpb25zLmV2ZW50TmFtZXNbMF07XG4gICAgICBvcHRpb25zLmV2ZW50TmFtZXMubWFwKGxpc3RlbmVyW29wdGlvbnMubWV0aG9kXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxpc3RlbmVyW29wdGlvbnMubWV0aG9kXShvcHRpb25zLmV2ZW50TmFtZSk7XG4gICAgfVxuXG4gICAgbG9nKFxuICAgICAgY2FwaXRhbGl6ZUZpcnN0TGV0dGVyKG9wdGlvbnMubWV0aG9kKSArXG4gICAgICAgICcgZXZlbnQgbGlzdGVuZXI6ICcgK1xuICAgICAgICBvcHRpb25zLmV2ZW50VHlwZVxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBtYW5hZ2VFdmVudExpc3RlbmVycyhtZXRob2QpIHtcbiAgICBtYW5hZ2VUcmlnZ2VyRXZlbnQoe1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICBldmVudFR5cGU6ICdBbmltYXRpb24gU3RhcnQnLFxuICAgICAgZXZlbnROYW1lczogWydhbmltYXRpb25zdGFydCcsICd3ZWJraXRBbmltYXRpb25TdGFydCddXG4gICAgfSk7XG4gICAgbWFuYWdlVHJpZ2dlckV2ZW50KHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgZXZlbnRUeXBlOiAnQW5pbWF0aW9uIEl0ZXJhdGlvbicsXG4gICAgICBldmVudE5hbWVzOiBbJ2FuaW1hdGlvbml0ZXJhdGlvbicsICd3ZWJraXRBbmltYXRpb25JdGVyYXRpb24nXVxuICAgIH0pO1xuICAgIG1hbmFnZVRyaWdnZXJFdmVudCh7XG4gICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIGV2ZW50VHlwZTogJ0FuaW1hdGlvbiBFbmQnLFxuICAgICAgZXZlbnROYW1lczogWydhbmltYXRpb25lbmQnLCAnd2Via2l0QW5pbWF0aW9uRW5kJ11cbiAgICB9KTtcbiAgICBtYW5hZ2VUcmlnZ2VyRXZlbnQoe1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICBldmVudFR5cGU6ICdJbnB1dCcsXG4gICAgICBldmVudE5hbWU6ICdpbnB1dCdcbiAgICB9KTtcbiAgICBtYW5hZ2VUcmlnZ2VyRXZlbnQoe1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICBldmVudFR5cGU6ICdNb3VzZSBVcCcsXG4gICAgICBldmVudE5hbWU6ICdtb3VzZXVwJ1xuICAgIH0pO1xuICAgIG1hbmFnZVRyaWdnZXJFdmVudCh7XG4gICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIGV2ZW50VHlwZTogJ01vdXNlIERvd24nLFxuICAgICAgZXZlbnROYW1lOiAnbW91c2Vkb3duJ1xuICAgIH0pO1xuICAgIG1hbmFnZVRyaWdnZXJFdmVudCh7XG4gICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIGV2ZW50VHlwZTogJ09yaWVudGF0aW9uIENoYW5nZScsXG4gICAgICBldmVudE5hbWU6ICdvcmllbnRhdGlvbmNoYW5nZSdcbiAgICB9KTtcbiAgICBtYW5hZ2VUcmlnZ2VyRXZlbnQoe1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICBldmVudFR5cGU6ICdQcmludCcsXG4gICAgICBldmVudE5hbWU6IFsnYWZ0ZXJwcmludCcsICdiZWZvcmVwcmludCddXG4gICAgfSk7XG4gICAgbWFuYWdlVHJpZ2dlckV2ZW50KHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgZXZlbnRUeXBlOiAnUmVhZHkgU3RhdGUgQ2hhbmdlJyxcbiAgICAgIGV2ZW50TmFtZTogJ3JlYWR5c3RhdGVjaGFuZ2UnXG4gICAgfSk7XG4gICAgbWFuYWdlVHJpZ2dlckV2ZW50KHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgZXZlbnRUeXBlOiAnVG91Y2ggU3RhcnQnLFxuICAgICAgZXZlbnROYW1lOiAndG91Y2hzdGFydCdcbiAgICB9KTtcbiAgICBtYW5hZ2VUcmlnZ2VyRXZlbnQoe1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICBldmVudFR5cGU6ICdUb3VjaCBFbmQnLFxuICAgICAgZXZlbnROYW1lOiAndG91Y2hlbmQnXG4gICAgfSk7XG4gICAgbWFuYWdlVHJpZ2dlckV2ZW50KHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgZXZlbnRUeXBlOiAnVG91Y2ggQ2FuY2VsJyxcbiAgICAgIGV2ZW50TmFtZTogJ3RvdWNoY2FuY2VsJ1xuICAgIH0pO1xuICAgIG1hbmFnZVRyaWdnZXJFdmVudCh7XG4gICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIGV2ZW50VHlwZTogJ1RyYW5zaXRpb24gU3RhcnQnLFxuICAgICAgZXZlbnROYW1lczogW1xuICAgICAgICAndHJhbnNpdGlvbnN0YXJ0JyxcbiAgICAgICAgJ3dlYmtpdFRyYW5zaXRpb25TdGFydCcsXG4gICAgICAgICdNU1RyYW5zaXRpb25TdGFydCcsXG4gICAgICAgICdvVHJhbnNpdGlvblN0YXJ0JyxcbiAgICAgICAgJ290cmFuc2l0aW9uc3RhcnQnXG4gICAgICBdXG4gICAgfSk7XG4gICAgbWFuYWdlVHJpZ2dlckV2ZW50KHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgZXZlbnRUeXBlOiAnVHJhbnNpdGlvbiBJdGVyYXRpb24nLFxuICAgICAgZXZlbnROYW1lczogW1xuICAgICAgICAndHJhbnNpdGlvbml0ZXJhdGlvbicsXG4gICAgICAgICd3ZWJraXRUcmFuc2l0aW9uSXRlcmF0aW9uJyxcbiAgICAgICAgJ01TVHJhbnNpdGlvbkl0ZXJhdGlvbicsXG4gICAgICAgICdvVHJhbnNpdGlvbkl0ZXJhdGlvbicsXG4gICAgICAgICdvdHJhbnNpdGlvbml0ZXJhdGlvbidcbiAgICAgIF1cbiAgICB9KTtcbiAgICBtYW5hZ2VUcmlnZ2VyRXZlbnQoe1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICBldmVudFR5cGU6ICdUcmFuc2l0aW9uIEVuZCcsXG4gICAgICBldmVudE5hbWVzOiBbXG4gICAgICAgICd0cmFuc2l0aW9uZW5kJyxcbiAgICAgICAgJ3dlYmtpdFRyYW5zaXRpb25FbmQnLFxuICAgICAgICAnTVNUcmFuc2l0aW9uRW5kJyxcbiAgICAgICAgJ29UcmFuc2l0aW9uRW5kJyxcbiAgICAgICAgJ290cmFuc2l0aW9uZW5kJ1xuICAgICAgXVxuICAgIH0pO1xuICAgIGlmICgnY2hpbGQnID09PSByZXNpemVGcm9tKSB7XG4gICAgICBtYW5hZ2VUcmlnZ2VyRXZlbnQoe1xuICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgZXZlbnRUeXBlOiAnSUZyYW1lIFJlc2l6ZWQnLFxuICAgICAgICBldmVudE5hbWU6ICdyZXNpemUnXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjaGVja0NhbGNNb2RlKGNhbGNNb2RlLCBjYWxjTW9kZURlZmF1bHQsIG1vZGVzLCB0eXBlKSB7XG4gICAgaWYgKGNhbGNNb2RlRGVmYXVsdCAhPT0gY2FsY01vZGUpIHtcbiAgICAgIGlmICghKGNhbGNNb2RlIGluIG1vZGVzKSkge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgIGNhbGNNb2RlICsgJyBpcyBub3QgYSB2YWxpZCBvcHRpb24gZm9yICcgKyB0eXBlICsgJ0NhbGN1bGF0aW9uTWV0aG9kLidcbiAgICAgICAgKTtcbiAgICAgICAgY2FsY01vZGUgPSBjYWxjTW9kZURlZmF1bHQ7XG4gICAgICB9XG4gICAgICBsb2codHlwZSArICcgY2FsY3VsYXRpb24gbWV0aG9kIHNldCB0byBcIicgKyBjYWxjTW9kZSArICdcIicpO1xuICAgIH1cblxuICAgIHJldHVybiBjYWxjTW9kZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNoZWNrSGVpZ2h0TW9kZSgpIHtcbiAgICBoZWlnaHRDYWxjTW9kZSA9IGNoZWNrQ2FsY01vZGUoXG4gICAgICBoZWlnaHRDYWxjTW9kZSxcbiAgICAgIGhlaWdodENhbGNNb2RlRGVmYXVsdCxcbiAgICAgIGdldEhlaWdodCxcbiAgICAgICdoZWlnaHQnXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNoZWNrV2lkdGhNb2RlKCkge1xuICAgIHdpZHRoQ2FsY01vZGUgPSBjaGVja0NhbGNNb2RlKFxuICAgICAgd2lkdGhDYWxjTW9kZSxcbiAgICAgIHdpZHRoQ2FsY01vZGVEZWZhdWx0LFxuICAgICAgZ2V0V2lkdGgsXG4gICAgICAnd2lkdGgnXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0YXJ0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgaWYgKHRydWUgPT09IGF1dG9SZXNpemUpIHtcbiAgICAgIG1hbmFnZUV2ZW50TGlzdGVuZXJzKCdhZGQnKTtcbiAgICAgIHNldHVwTXV0YXRpb25PYnNlcnZlcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2coJ0F1dG8gUmVzaXplIGRpc2FibGVkJyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc3RvcE1zZ3NUb1BhcmVudCgpIHtcbiAgICBsb2coJ0Rpc2FibGUgb3V0Z29pbmcgbWVzc2FnZXMnKTtcbiAgICBzZW5kUGVybWl0ID0gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVNc2dMaXN0ZW5lcigpIHtcbiAgICBsb2coJ1JlbW92ZSBldmVudCBsaXN0ZW5lcjogTWVzc2FnZScpO1xuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIod2luZG93LCAnbWVzc2FnZScsIHJlY2VpdmVyKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRpc2Nvbm5lY3RNdXRhdGlvbk9ic2VydmVyKCkge1xuICAgIGlmIChudWxsICE9PSBib2R5T2JzZXJ2ZXIpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIC8vIE5vdCB0ZXN0YWJsZSBpbiBQaGFudG9uSlNcbiAgICAgIGJvZHlPYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc3RvcEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIG1hbmFnZUV2ZW50TGlzdGVuZXJzKCdyZW1vdmUnKTtcbiAgICBkaXNjb25uZWN0TXV0YXRpb25PYnNlcnZlcigpO1xuICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxUaW1lcik7XG4gIH1cblxuICBmdW5jdGlvbiB0ZWFyZG93bigpIHtcbiAgICBzdG9wTXNnc1RvUGFyZW50KCk7XG4gICAgcmVtb3ZlTXNnTGlzdGVuZXIoKTtcbiAgICBpZiAodHJ1ZSA9PT0gYXV0b1Jlc2l6ZSkgc3RvcEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBmdW5jdGlvbiBpbmplY3RDbGVhckZpeEludG9Cb2R5RWxlbWVudCgpIHtcbiAgICB2YXIgY2xlYXJGaXggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjbGVhckZpeC5zdHlsZS5jbGVhciA9ICdib3RoJztcbiAgICBjbGVhckZpeC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsgLy9HdWFyZCBhZ2FpbnN0IHRoaXMgaGF2aW5nIGJlZW4gZ2xvYmFsbHkgcmVkZWZpbmVkIGluIENTUy5cbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNsZWFyRml4KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldHVwSW5QYWdlTGlua3MoKSB7XG4gICAgZnVuY3Rpb24gZ2V0UGFnZVBvc2l0aW9uKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDpcbiAgICAgICAgICB3aW5kb3cucGFnZVhPZmZzZXQgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyB3aW5kb3cucGFnZVhPZmZzZXRcbiAgICAgICAgICAgIDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQsXG4gICAgICAgIHk6XG4gICAgICAgICAgd2luZG93LnBhZ2VZT2Zmc2V0ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gd2luZG93LnBhZ2VZT2Zmc2V0XG4gICAgICAgICAgICA6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3BcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0RWxlbWVudFBvc2l0aW9uKGVsKSB7XG4gICAgICB2YXIgZWxQb3NpdGlvbiA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICBwYWdlUG9zaXRpb24gPSBnZXRQYWdlUG9zaXRpb24oKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogcGFyc2VJbnQoZWxQb3NpdGlvbi5sZWZ0LCAxMCkgKyBwYXJzZUludChwYWdlUG9zaXRpb24ueCwgMTApLFxuICAgICAgICB5OiBwYXJzZUludChlbFBvc2l0aW9uLnRvcCwgMTApICsgcGFyc2VJbnQocGFnZVBvc2l0aW9uLnksIDEwKVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmaW5kVGFyZ2V0KGxvY2F0aW9uKSB7XG4gICAgICBmdW5jdGlvbiBqdW1wVG9UYXJnZXQodGFyZ2V0KSB7XG4gICAgICAgIHZhciBqdW1wUG9zaXRpb24gPSBnZXRFbGVtZW50UG9zaXRpb24odGFyZ2V0KTtcblxuICAgICAgICBsb2coXG4gICAgICAgICAgJ01vdmluZyB0byBpbiBwYWdlIGxpbmsgKCMnICtcbiAgICAgICAgICAgIGhhc2ggK1xuICAgICAgICAgICAgJykgYXQgeDogJyArXG4gICAgICAgICAgICBqdW1wUG9zaXRpb24ueCArXG4gICAgICAgICAgICAnIHk6ICcgK1xuICAgICAgICAgICAganVtcFBvc2l0aW9uLnlcbiAgICAgICAgKTtcbiAgICAgICAgc2VuZE1zZyhqdW1wUG9zaXRpb24ueSwganVtcFBvc2l0aW9uLngsICdzY3JvbGxUb09mZnNldCcpOyAvLyBYJlkgcmV2ZXJzZWQgYXQgc2VuZE1zZyB1c2VzIGhlaWdodC93aWR0aFxuICAgICAgfVxuXG4gICAgICB2YXIgaGFzaCA9IGxvY2F0aW9uLnNwbGl0KCcjJylbMV0gfHwgbG9jYXRpb24sIC8vUmVtb3ZlICMgaWYgcHJlc2VudFxuICAgICAgICBoYXNoRGF0YSA9IGRlY29kZVVSSUNvbXBvbmVudChoYXNoKSxcbiAgICAgICAgdGFyZ2V0ID1cbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChoYXNoRGF0YSkgfHxcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShoYXNoRGF0YSlbMF07XG5cbiAgICAgIGlmICh1bmRlZmluZWQgIT09IHRhcmdldCkge1xuICAgICAgICBqdW1wVG9UYXJnZXQodGFyZ2V0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvZyhcbiAgICAgICAgICAnSW4gcGFnZSBsaW5rICgjJyArXG4gICAgICAgICAgICBoYXNoICtcbiAgICAgICAgICAgICcpIG5vdCBmb3VuZCBpbiBpRnJhbWUsIHNvIHNlbmRpbmcgdG8gcGFyZW50J1xuICAgICAgICApO1xuICAgICAgICBzZW5kTXNnKDAsIDAsICdpblBhZ2VMaW5rJywgJyMnICsgaGFzaCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2hlY2tMb2NhdGlvbkhhc2goKSB7XG4gICAgICBpZiAoJycgIT09IGxvY2F0aW9uLmhhc2ggJiYgJyMnICE9PSBsb2NhdGlvbi5oYXNoKSB7XG4gICAgICAgIGZpbmRUYXJnZXQobG9jYXRpb24uaHJlZik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYmluZEFuY2hvcnMoKSB7XG4gICAgICBmdW5jdGlvbiBzZXR1cExpbmsoZWwpIHtcbiAgICAgICAgZnVuY3Rpb24gbGlua0NsaWNrZWQoZSkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gICAgICAgICAgZmluZFRhcmdldCh0aGlzLmdldEF0dHJpYnV0ZSgnaHJlZicpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgnIycgIT09IGVsLmdldEF0dHJpYnV0ZSgnaHJlZicpKSB7XG4gICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ2NsaWNrJywgbGlua0NsaWNrZWQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2FbaHJlZl49XCIjXCJdJyksXG4gICAgICAgIHNldHVwTGlua1xuICAgICAgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBiaW5kTG9jYXRpb25IYXNoKCkge1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csICdoYXNoY2hhbmdlJywgY2hlY2tMb2NhdGlvbkhhc2gpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluaXRDaGVjaygpIHtcbiAgICAgIC8vY2hlY2sgaWYgcGFnZSBsb2FkZWQgd2l0aCBsb2NhdGlvbiBoYXNoIGFmdGVyIGluaXQgcmVzaXplXG4gICAgICBzZXRUaW1lb3V0KGNoZWNrTG9jYXRpb25IYXNoLCBldmVudENhbmNlbFRpbWVyKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBlbmFibGVJblBhZ2VMaW5rcygpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovIC8vIE5vdCB0ZXN0YWJsZSBpbiBwaGFudG9uSlNcbiAgICAgIGlmIChBcnJheS5wcm90b3R5cGUuZm9yRWFjaCAmJiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKSB7XG4gICAgICAgIGxvZygnU2V0dGluZyB1cCBsb2NhdGlvbi5oYXNoIGhhbmRsZXJzJyk7XG4gICAgICAgIGJpbmRBbmNob3JzKCk7XG4gICAgICAgIGJpbmRMb2NhdGlvbkhhc2goKTtcbiAgICAgICAgaW5pdENoZWNrKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgICdJbiBwYWdlIGxpbmtpbmcgbm90IGZ1bGx5IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXIhIChTZWUgUkVBRE1FLm1kIGZvciBJRTggd29ya2Fyb3VuZCknXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGluUGFnZUxpbmtzLmVuYWJsZSkge1xuICAgICAgZW5hYmxlSW5QYWdlTGlua3MoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9nKCdJbiBwYWdlIGxpbmtpbmcgbm90IGVuYWJsZWQnKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgZmluZFRhcmdldDogZmluZFRhcmdldFxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBzZXR1cFB1YmxpY01ldGhvZHMoKSB7XG4gICAgbG9nKCdFbmFibGUgcHVibGljIG1ldGhvZHMnKTtcblxuICAgIHdpbi5wYXJlbnRJRnJhbWUgPSB7XG4gICAgICBhdXRvUmVzaXplOiBmdW5jdGlvbiBhdXRvUmVzaXplRihyZXNpemUpIHtcbiAgICAgICAgaWYgKHRydWUgPT09IHJlc2l6ZSAmJiBmYWxzZSA9PT0gYXV0b1Jlc2l6ZSkge1xuICAgICAgICAgIGF1dG9SZXNpemUgPSB0cnVlO1xuICAgICAgICAgIHN0YXJ0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAvL3NlbmRTaXplKCdhdXRvUmVzaXplJywnQXV0byBSZXNpemUgZW5hYmxlZCcpO1xuICAgICAgICB9IGVsc2UgaWYgKGZhbHNlID09PSByZXNpemUgJiYgdHJ1ZSA9PT0gYXV0b1Jlc2l6ZSkge1xuICAgICAgICAgIGF1dG9SZXNpemUgPSBmYWxzZTtcbiAgICAgICAgICBzdG9wRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhdXRvUmVzaXplO1xuICAgICAgfSxcblxuICAgICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlRigpIHtcbiAgICAgICAgc2VuZE1zZygwLCAwLCAnY2xvc2UnKTtcbiAgICAgICAgdGVhcmRvd24oKTtcbiAgICAgIH0sXG5cbiAgICAgIGdldElkOiBmdW5jdGlvbiBnZXRJZEYoKSB7XG4gICAgICAgIHJldHVybiBteUlEO1xuICAgICAgfSxcblxuICAgICAgZ2V0UGFnZUluZm86IGZ1bmN0aW9uIGdldFBhZ2VJbmZvRihjYWxsYmFjaykge1xuICAgICAgICBpZiAoJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIGNhbGxiYWNrKSB7XG4gICAgICAgICAgcGFnZUluZm9DYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgICAgICAgIHNlbmRNc2coMCwgMCwgJ3BhZ2VJbmZvJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFnZUluZm9DYWxsYmFjayA9IGZ1bmN0aW9uKCkge307XG4gICAgICAgICAgc2VuZE1zZygwLCAwLCAncGFnZUluZm9TdG9wJyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIG1vdmVUb0FuY2hvcjogZnVuY3Rpb24gbW92ZVRvQW5jaG9yRihoYXNoKSB7XG4gICAgICAgIGluUGFnZUxpbmtzLmZpbmRUYXJnZXQoaGFzaCk7XG4gICAgICB9LFxuXG4gICAgICByZXNldDogZnVuY3Rpb24gcmVzZXRGKCkge1xuICAgICAgICByZXNldElGcmFtZSgncGFyZW50SUZyYW1lLnJlc2V0Jyk7XG4gICAgICB9LFxuXG4gICAgICBzY3JvbGxUbzogZnVuY3Rpb24gc2Nyb2xsVG9GKHgsIHkpIHtcbiAgICAgICAgc2VuZE1zZyh5LCB4LCAnc2Nyb2xsVG8nKTsgLy8gWCZZIHJldmVyc2VkIGF0IHNlbmRNc2cgdXNlcyBoZWlnaHQvd2lkdGhcbiAgICAgIH0sXG5cbiAgICAgIHNjcm9sbFRvT2Zmc2V0OiBmdW5jdGlvbiBzY3JvbGxUb0YoeCwgeSkge1xuICAgICAgICBzZW5kTXNnKHksIHgsICdzY3JvbGxUb09mZnNldCcpOyAvLyBYJlkgcmV2ZXJzZWQgYXQgc2VuZE1zZyB1c2VzIGhlaWdodC93aWR0aFxuICAgICAgfSxcblxuICAgICAgc2VuZE1lc3NhZ2U6IGZ1bmN0aW9uIHNlbmRNZXNzYWdlRihtc2csIHRhcmdldE9yaWdpbikge1xuICAgICAgICBzZW5kTXNnKDAsIDAsICdtZXNzYWdlJywgSlNPTi5zdHJpbmdpZnkobXNnKSwgdGFyZ2V0T3JpZ2luKTtcbiAgICAgIH0sXG5cbiAgICAgIHNldEhlaWdodENhbGN1bGF0aW9uTWV0aG9kOiBmdW5jdGlvbiBzZXRIZWlnaHRDYWxjdWxhdGlvbk1ldGhvZEYoXG4gICAgICAgIGhlaWdodENhbGN1bGF0aW9uTWV0aG9kXG4gICAgICApIHtcbiAgICAgICAgaGVpZ2h0Q2FsY01vZGUgPSBoZWlnaHRDYWxjdWxhdGlvbk1ldGhvZDtcbiAgICAgICAgY2hlY2tIZWlnaHRNb2RlKCk7XG4gICAgICB9LFxuXG4gICAgICBzZXRXaWR0aENhbGN1bGF0aW9uTWV0aG9kOiBmdW5jdGlvbiBzZXRXaWR0aENhbGN1bGF0aW9uTWV0aG9kRihcbiAgICAgICAgd2lkdGhDYWxjdWxhdGlvbk1ldGhvZFxuICAgICAgKSB7XG4gICAgICAgIHdpZHRoQ2FsY01vZGUgPSB3aWR0aENhbGN1bGF0aW9uTWV0aG9kO1xuICAgICAgICBjaGVja1dpZHRoTW9kZSgpO1xuICAgICAgfSxcblxuICAgICAgc2V0VGFyZ2V0T3JpZ2luOiBmdW5jdGlvbiBzZXRUYXJnZXRPcmlnaW5GKHRhcmdldE9yaWdpbikge1xuICAgICAgICBsb2coJ1NldCB0YXJnZXRPcmlnaW46ICcgKyB0YXJnZXRPcmlnaW4pO1xuICAgICAgICB0YXJnZXRPcmlnaW5EZWZhdWx0ID0gdGFyZ2V0T3JpZ2luO1xuICAgICAgfSxcblxuICAgICAgc2l6ZTogZnVuY3Rpb24gc2l6ZUYoY3VzdG9tSGVpZ2h0LCBjdXN0b21XaWR0aCkge1xuICAgICAgICB2YXIgdmFsU3RyaW5nID1cbiAgICAgICAgICAnJyArXG4gICAgICAgICAgKGN1c3RvbUhlaWdodCA/IGN1c3RvbUhlaWdodCA6ICcnKSArXG4gICAgICAgICAgKGN1c3RvbVdpZHRoID8gJywnICsgY3VzdG9tV2lkdGggOiAnJyk7XG4gICAgICAgIC8vbG9ja1RyaWdnZXIoKTtcbiAgICAgICAgc2VuZFNpemUoXG4gICAgICAgICAgJ3NpemUnLFxuICAgICAgICAgICdwYXJlbnRJRnJhbWUuc2l6ZSgnICsgdmFsU3RyaW5nICsgJyknLFxuICAgICAgICAgIGN1c3RvbUhlaWdodCxcbiAgICAgICAgICBjdXN0b21XaWR0aFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBpbml0SW50ZXJ2YWwoKSB7XG4gICAgaWYgKDAgIT09IGludGVydmFsKSB7XG4gICAgICBsb2coJ3NldEludGVydmFsOiAnICsgaW50ZXJ2YWwgKyAnbXMnKTtcbiAgICAgIGludGVydmFsVGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgICAgc2VuZFNpemUoJ2ludGVydmFsJywgJ3NldEludGVydmFsOiAnICsgaW50ZXJ2YWwpO1xuICAgICAgfSwgTWF0aC5hYnMoaW50ZXJ2YWwpKTtcbiAgICB9XG4gIH0gLy9Ob3QgdGVzdGFibGUgaW4gUGhhbnRvbUpTXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gZnVuY3Rpb24gc2V0dXBCb2R5TXV0YXRpb25PYnNlcnZlcigpIHtcbiAgICBmdW5jdGlvbiBhZGRJbWFnZUxvYWRMaXN0bmVycyhtdXRhdGlvbikge1xuICAgICAgZnVuY3Rpb24gYWRkSW1hZ2VMb2FkTGlzdGVuZXIoZWxlbWVudCkge1xuICAgICAgICBpZiAoZmFsc2UgPT09IGVsZW1lbnQuY29tcGxldGUpIHtcbiAgICAgICAgICBsb2coJ0F0dGFjaCBsaXN0ZW5lcnMgdG8gJyArIGVsZW1lbnQuc3JjKTtcbiAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBpbWFnZUxvYWRlZCwgZmFsc2UpO1xuICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBpbWFnZUVycm9yLCBmYWxzZSk7XG4gICAgICAgICAgZWxlbWVudHMucHVzaChlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobXV0YXRpb24udHlwZSA9PT0gJ2F0dHJpYnV0ZXMnICYmIG11dGF0aW9uLmF0dHJpYnV0ZU5hbWUgPT09ICdzcmMnKSB7XG4gICAgICAgIGFkZEltYWdlTG9hZExpc3RlbmVyKG11dGF0aW9uLnRhcmdldCk7XG4gICAgICB9IGVsc2UgaWYgKG11dGF0aW9uLnR5cGUgPT09ICdjaGlsZExpc3QnKSB7XG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoXG4gICAgICAgICAgbXV0YXRpb24udGFyZ2V0LnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZycpLFxuICAgICAgICAgIGFkZEltYWdlTG9hZExpc3RlbmVyXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVtb3ZlRnJvbUFycmF5KGVsZW1lbnQpIHtcbiAgICAgIGVsZW1lbnRzLnNwbGljZShlbGVtZW50cy5pbmRleE9mKGVsZW1lbnQpLCAxKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW1vdmVJbWFnZUxvYWRMaXN0ZW5lcihlbGVtZW50KSB7XG4gICAgICBsb2coJ1JlbW92ZSBsaXN0ZW5lcnMgZnJvbSAnICsgZWxlbWVudC5zcmMpO1xuICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgaW1hZ2VMb2FkZWQsIGZhbHNlKTtcbiAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBpbWFnZUVycm9yLCBmYWxzZSk7XG4gICAgICByZW1vdmVGcm9tQXJyYXkoZWxlbWVudCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW1hZ2VFdmVudFRyaWdnZXJlZChldmVudCwgdHlwZSwgdHlwZURlc2MpIHtcbiAgICAgIHJlbW92ZUltYWdlTG9hZExpc3RlbmVyKGV2ZW50LnRhcmdldCk7XG4gICAgICBzZW5kU2l6ZSh0eXBlLCB0eXBlRGVzYyArICc6ICcgKyBldmVudC50YXJnZXQuc3JjLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW1hZ2VMb2FkZWQoZXZlbnQpIHtcbiAgICAgIGltYWdlRXZlbnRUcmlnZ2VyZWQoZXZlbnQsICdpbWFnZUxvYWQnLCAnSW1hZ2UgbG9hZGVkJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW1hZ2VFcnJvcihldmVudCkge1xuICAgICAgaW1hZ2VFdmVudFRyaWdnZXJlZChldmVudCwgJ2ltYWdlTG9hZEZhaWxlZCcsICdJbWFnZSBsb2FkIGZhaWxlZCcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG11dGF0aW9uT2JzZXJ2ZWQobXV0YXRpb25zKSB7XG4gICAgICBzZW5kU2l6ZShcbiAgICAgICAgJ211dGF0aW9uT2JzZXJ2ZXInLFxuICAgICAgICAnbXV0YXRpb25PYnNlcnZlcjogJyArIG11dGF0aW9uc1swXS50YXJnZXQgKyAnICcgKyBtdXRhdGlvbnNbMF0udHlwZVxuICAgICAgKTtcblxuICAgICAgLy9EZWFsIHdpdGggV2ViS2l0IGFzeW5jaW5nIGltYWdlIGxvYWRpbmcgd2hlbiB0YWdzIGFyZSBpbmplY3RlZCBpbnRvIHRoZSBwYWdlXG4gICAgICBtdXRhdGlvbnMuZm9yRWFjaChhZGRJbWFnZUxvYWRMaXN0bmVycyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlTXV0YXRpb25PYnNlcnZlcigpIHtcbiAgICAgIHZhciB0YXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JyksXG4gICAgICAgIGNvbmZpZyA9IHtcbiAgICAgICAgICBhdHRyaWJ1dGVzOiB0cnVlLFxuICAgICAgICAgIGF0dHJpYnV0ZU9sZFZhbHVlOiBmYWxzZSxcbiAgICAgICAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlLFxuICAgICAgICAgIGNoYXJhY3RlckRhdGFPbGRWYWx1ZTogZmFsc2UsXG4gICAgICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgICAgIHN1YnRyZWU6IHRydWVcbiAgICAgICAgfTtcblxuICAgICAgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihtdXRhdGlvbk9ic2VydmVkKTtcblxuICAgICAgbG9nKCdDcmVhdGUgYm9keSBNdXRhdGlvbk9ic2VydmVyJyk7XG4gICAgICBvYnNlcnZlci5vYnNlcnZlKHRhcmdldCwgY29uZmlnKTtcblxuICAgICAgcmV0dXJuIG9ic2VydmVyO1xuICAgIH1cblxuICAgIHZhciBlbGVtZW50cyA9IFtdLFxuICAgICAgTXV0YXRpb25PYnNlcnZlciA9XG4gICAgICAgIHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyIHx8IHdpbmRvdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyLFxuICAgICAgb2JzZXJ2ZXIgPSBjcmVhdGVNdXRhdGlvbk9ic2VydmVyKCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgZGlzY29ubmVjdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgnZGlzY29ubmVjdCcgaW4gb2JzZXJ2ZXIpIHtcbiAgICAgICAgICBsb2coJ0Rpc2Nvbm5lY3QgYm9keSBNdXRhdGlvbk9ic2VydmVyJyk7XG4gICAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgIGVsZW1lbnRzLmZvckVhY2gocmVtb3ZlSW1hZ2VMb2FkTGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldHVwTXV0YXRpb25PYnNlcnZlcigpIHtcbiAgICB2YXIgZm9yY2VJbnRlcnZhbFRpbWVyID0gMCA+IGludGVydmFsOyAvLyBOb3QgdGVzdGFibGUgaW4gUGhhbnRvbUpTXG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8gaWYgKFxuICAgICAgd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIgfHxcbiAgICAgIHdpbmRvdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyXG4gICAgKSB7XG4gICAgICBpZiAoZm9yY2VJbnRlcnZhbFRpbWVyKSB7XG4gICAgICAgIGluaXRJbnRlcnZhbCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYm9keU9ic2VydmVyID0gc2V0dXBCb2R5TXV0YXRpb25PYnNlcnZlcigpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsb2coJ011dGF0aW9uT2JzZXJ2ZXIgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXIhJyk7XG4gICAgICBpbml0SW50ZXJ2YWwoKTtcbiAgICB9XG4gIH1cblxuICAvLyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0IGlzIG5vdCByZWxpYWJsZSwgc29cbiAgLy8gd2UgaGF2ZSB0byBqdW1wIHRocm91Z2ggaG9vcHMgdG8gZ2V0IGEgYmV0dGVyIHZhbHVlLlxuICBmdW5jdGlvbiBnZXRDb21wdXRlZFN0eWxlKHByb3AsIGVsKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gLy9Ob3QgdGVzdGFibGUgaW4gUGhhbnRvbUpTXG4gICAgZnVuY3Rpb24gY29udmVydFVuaXRzVG9QeEZvcklFOCh2YWx1ZSkge1xuICAgICAgdmFyIFBJWEVMID0gL15cXGQrKHB4KT8kL2k7XG5cbiAgICAgIGlmIChQSVhFTC50ZXN0KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gcGFyc2VJbnQodmFsdWUsIGJhc2UpO1xuICAgICAgfVxuXG4gICAgICB2YXIgc3R5bGUgPSBlbC5zdHlsZS5sZWZ0LFxuICAgICAgICBydW50aW1lU3R5bGUgPSBlbC5ydW50aW1lU3R5bGUubGVmdDtcblxuICAgICAgZWwucnVudGltZVN0eWxlLmxlZnQgPSBlbC5jdXJyZW50U3R5bGUubGVmdDtcbiAgICAgIGVsLnN0eWxlLmxlZnQgPSB2YWx1ZSB8fCAwO1xuICAgICAgdmFsdWUgPSBlbC5zdHlsZS5waXhlbExlZnQ7XG4gICAgICBlbC5zdHlsZS5sZWZ0ID0gc3R5bGU7XG4gICAgICBlbC5ydW50aW1lU3R5bGUubGVmdCA9IHJ1bnRpbWVTdHlsZTtcblxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIHZhciByZXRWYWwgPSAwO1xuICAgIGVsID0gZWwgfHwgZG9jdW1lbnQuYm9keTsgLy8gTm90IHRlc3RhYmxlIGluIHBoYW50b25KU1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi8gaWYgKFxuICAgICAgJ2RlZmF1bHRWaWV3JyBpbiBkb2N1bWVudCAmJlxuICAgICAgJ2dldENvbXB1dGVkU3R5bGUnIGluIGRvY3VtZW50LmRlZmF1bHRWaWV3XG4gICAgKSB7XG4gICAgICByZXRWYWwgPSBkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGVsLCBudWxsKTtcbiAgICAgIHJldFZhbCA9IG51bGwgIT09IHJldFZhbCA/IHJldFZhbFtwcm9wXSA6IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vSUU4XG4gICAgICByZXRWYWwgPSBjb252ZXJ0VW5pdHNUb1B4Rm9ySUU4KGVsLmN1cnJlbnRTdHlsZVtwcm9wXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnNlSW50KHJldFZhbCwgYmFzZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjaGtFdmVudFRob3R0bGUodGltZXIpIHtcbiAgICBpZiAodGltZXIgPiB0aHJvdHRsZWRUaW1lciAvIDIpIHtcbiAgICAgIHRocm90dGxlZFRpbWVyID0gMiAqIHRpbWVyO1xuICAgICAgbG9nKCdFdmVudCB0aHJvdHRsZSBpbmNyZWFzZWQgdG8gJyArIHRocm90dGxlZFRpbWVyICsgJ21zJyk7XG4gICAgfVxuICB9XG5cbiAgLy9JZGVhIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2d1YXJkaWFuL2lmcmFtZS1tZXNzZW5nZXJcbiAgZnVuY3Rpb24gZ2V0TWF4RWxlbWVudChzaWRlLCBlbGVtZW50cykge1xuICAgIHZhciBlbGVtZW50c0xlbmd0aCA9IGVsZW1lbnRzLmxlbmd0aCxcbiAgICAgIGVsVmFsID0gMCxcbiAgICAgIG1heFZhbCA9IDAsXG4gICAgICBTaWRlID0gY2FwaXRhbGl6ZUZpcnN0TGV0dGVyKHNpZGUpLFxuICAgICAgdGltZXIgPSBnZXROb3coKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudHNMZW5ndGg7IGkrKykge1xuICAgICAgZWxWYWwgPVxuICAgICAgICBlbGVtZW50c1tpXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVtzaWRlXSArXG4gICAgICAgIGdldENvbXB1dGVkU3R5bGUoJ21hcmdpbicgKyBTaWRlLCBlbGVtZW50c1tpXSk7XG4gICAgICBpZiAoZWxWYWwgPiBtYXhWYWwpIHtcbiAgICAgICAgbWF4VmFsID0gZWxWYWw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGltZXIgPSBnZXROb3coKSAtIHRpbWVyO1xuXG4gICAgbG9nKCdQYXJzZWQgJyArIGVsZW1lbnRzTGVuZ3RoICsgJyBIVE1MIGVsZW1lbnRzJyk7XG4gICAgbG9nKCdFbGVtZW50IHBvc2l0aW9uIGNhbGN1bGF0ZWQgaW4gJyArIHRpbWVyICsgJ21zJyk7XG5cbiAgICBjaGtFdmVudFRob3R0bGUodGltZXIpO1xuXG4gICAgcmV0dXJuIG1heFZhbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEFsbE1lYXN1cmVtZW50cyhkaW1lbnRpb24pIHtcbiAgICByZXR1cm4gW1xuICAgICAgZGltZW50aW9uLmJvZHlPZmZzZXQoKSxcbiAgICAgIGRpbWVudGlvbi5ib2R5U2Nyb2xsKCksXG4gICAgICBkaW1lbnRpb24uZG9jdW1lbnRFbGVtZW50T2Zmc2V0KCksXG4gICAgICBkaW1lbnRpb24uZG9jdW1lbnRFbGVtZW50U2Nyb2xsKClcbiAgICBdO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0VGFnZ2VkRWxlbWVudHMoc2lkZSwgdGFnKSB7XG4gICAgZnVuY3Rpb24gbm9UYWdnZWRFbGVtZW50c0ZvdW5kKCkge1xuICAgICAgd2FybignTm8gdGFnZ2VkIGVsZW1lbnRzICgnICsgdGFnICsgJykgZm91bmQgb24gcGFnZScpO1xuICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2JvZHkgKicpO1xuICAgIH1cblxuICAgIHZhciBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1snICsgdGFnICsgJ10nKTtcblxuICAgIGlmICgwID09PSBlbGVtZW50cy5sZW5ndGgpIG5vVGFnZ2VkRWxlbWVudHNGb3VuZCgpO1xuXG4gICAgcmV0dXJuIGdldE1heEVsZW1lbnQoc2lkZSwgZWxlbWVudHMpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0QWxsRWxlbWVudHMoKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2JvZHkgKicpO1xuICB9XG5cbiAgdmFyIGdldEhlaWdodCA9IHtcbiAgICAgIGJvZHlPZmZzZXQ6IGZ1bmN0aW9uIGdldEJvZHlPZmZzZXRIZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQgK1xuICAgICAgICAgIGdldENvbXB1dGVkU3R5bGUoJ21hcmdpblRvcCcpICtcbiAgICAgICAgICBnZXRDb21wdXRlZFN0eWxlKCdtYXJnaW5Cb3R0b20nKVxuICAgICAgICApO1xuICAgICAgfSxcblxuICAgICAgb2Zmc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGdldEhlaWdodC5ib2R5T2Zmc2V0KCk7IC8vQmFja3dhcmRzIGNvbXBhdGFiaWxpdHlcbiAgICAgIH0sXG5cbiAgICAgIGJvZHlTY3JvbGw6IGZ1bmN0aW9uIGdldEJvZHlTY3JvbGxIZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodDtcbiAgICAgIH0sXG5cbiAgICAgIGN1c3RvbTogZnVuY3Rpb24gZ2V0Q3VzdG9tV2lkdGgoKSB7XG4gICAgICAgIHJldHVybiBjdXN0b21DYWxjTWV0aG9kcy5oZWlnaHQoKTtcbiAgICAgIH0sXG5cbiAgICAgIGRvY3VtZW50RWxlbWVudE9mZnNldDogZnVuY3Rpb24gZ2V0REVPZmZzZXRIZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgICAgfSxcblxuICAgICAgZG9jdW1lbnRFbGVtZW50U2Nyb2xsOiBmdW5jdGlvbiBnZXRERVNjcm9sbEhlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQ7XG4gICAgICB9LFxuXG4gICAgICBtYXg6IGZ1bmN0aW9uIGdldE1heEhlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4LmFwcGx5KG51bGwsIGdldEFsbE1lYXN1cmVtZW50cyhnZXRIZWlnaHQpKTtcbiAgICAgIH0sXG5cbiAgICAgIG1pbjogZnVuY3Rpb24gZ2V0TWluSGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gTWF0aC5taW4uYXBwbHkobnVsbCwgZ2V0QWxsTWVhc3VyZW1lbnRzKGdldEhlaWdodCkpO1xuICAgICAgfSxcblxuICAgICAgZ3JvdzogZnVuY3Rpb24gZ3Jvd0hlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIGdldEhlaWdodC5tYXgoKTsgLy9SdW4gbWF4IHdpdGhvdXQgdGhlIGZvcmNlZCBkb3duc2l6aW5nXG4gICAgICB9LFxuXG4gICAgICBsb3dlc3RFbGVtZW50OiBmdW5jdGlvbiBnZXRCZXN0SGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgoXG4gICAgICAgICAgZ2V0SGVpZ2h0LmJvZHlPZmZzZXQoKSB8fCBnZXRIZWlnaHQuZG9jdW1lbnRFbGVtZW50T2Zmc2V0KCksXG4gICAgICAgICAgZ2V0TWF4RWxlbWVudCgnYm90dG9tJywgZ2V0QWxsRWxlbWVudHMoKSlcbiAgICAgICAgKTtcbiAgICAgIH0sXG5cbiAgICAgIHRhZ2dlZEVsZW1lbnQ6IGZ1bmN0aW9uIGdldFRhZ2dlZEVsZW1lbnRzSGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gZ2V0VGFnZ2VkRWxlbWVudHMoJ2JvdHRvbScsICdkYXRhLWlmcmFtZS1oZWlnaHQnKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGdldFdpZHRoID0ge1xuICAgICAgYm9keVNjcm9sbDogZnVuY3Rpb24gZ2V0Qm9keVNjcm9sbFdpZHRoKCkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5zY3JvbGxXaWR0aDtcbiAgICAgIH0sXG5cbiAgICAgIGJvZHlPZmZzZXQ6IGZ1bmN0aW9uIGdldEJvZHlPZmZzZXRXaWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmJvZHkub2Zmc2V0V2lkdGg7XG4gICAgICB9LFxuXG4gICAgICBjdXN0b206IGZ1bmN0aW9uIGdldEN1c3RvbVdpZHRoKCkge1xuICAgICAgICByZXR1cm4gY3VzdG9tQ2FsY01ldGhvZHMud2lkdGgoKTtcbiAgICAgIH0sXG5cbiAgICAgIGRvY3VtZW50RWxlbWVudFNjcm9sbDogZnVuY3Rpb24gZ2V0REVTY3JvbGxXaWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxXaWR0aDtcbiAgICAgIH0sXG5cbiAgICAgIGRvY3VtZW50RWxlbWVudE9mZnNldDogZnVuY3Rpb24gZ2V0REVPZmZzZXRXaWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICAgIH0sXG5cbiAgICAgIHNjcm9sbDogZnVuY3Rpb24gZ2V0TWF4V2lkdGgoKSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heChcbiAgICAgICAgICBnZXRXaWR0aC5ib2R5U2Nyb2xsKCksXG4gICAgICAgICAgZ2V0V2lkdGguZG9jdW1lbnRFbGVtZW50U2Nyb2xsKClcbiAgICAgICAgKTtcbiAgICAgIH0sXG5cbiAgICAgIG1heDogZnVuY3Rpb24gZ2V0TWF4V2lkdGgoKSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heC5hcHBseShudWxsLCBnZXRBbGxNZWFzdXJlbWVudHMoZ2V0V2lkdGgpKTtcbiAgICAgIH0sXG5cbiAgICAgIG1pbjogZnVuY3Rpb24gZ2V0TWluV2lkdGgoKSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1pbi5hcHBseShudWxsLCBnZXRBbGxNZWFzdXJlbWVudHMoZ2V0V2lkdGgpKTtcbiAgICAgIH0sXG5cbiAgICAgIHJpZ2h0TW9zdEVsZW1lbnQ6IGZ1bmN0aW9uIHJpZ2h0TW9zdEVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiBnZXRNYXhFbGVtZW50KCdyaWdodCcsIGdldEFsbEVsZW1lbnRzKCkpO1xuICAgICAgfSxcblxuICAgICAgdGFnZ2VkRWxlbWVudDogZnVuY3Rpb24gZ2V0VGFnZ2VkRWxlbWVudHNXaWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIGdldFRhZ2dlZEVsZW1lbnRzKCdyaWdodCcsICdkYXRhLWlmcmFtZS13aWR0aCcpO1xuICAgICAgfVxuICAgIH07XG5cbiAgZnVuY3Rpb24gc2l6ZUlGcmFtZShcbiAgICB0cmlnZ2VyRXZlbnQsXG4gICAgdHJpZ2dlckV2ZW50RGVzYyxcbiAgICBjdXN0b21IZWlnaHQsXG4gICAgY3VzdG9tV2lkdGhcbiAgKSB7XG4gICAgZnVuY3Rpb24gcmVzaXplSUZyYW1lKCkge1xuICAgICAgaGVpZ2h0ID0gY3VycmVudEhlaWdodDtcbiAgICAgIHdpZHRoID0gY3VycmVudFdpZHRoO1xuXG4gICAgICBzZW5kTXNnKGhlaWdodCwgd2lkdGgsIHRyaWdnZXJFdmVudCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNTaXplQ2hhbmdlRGV0ZWN0ZWQoKSB7XG4gICAgICBmdW5jdGlvbiBjaGVja1RvbGFyYW5jZShhLCBiKSB7XG4gICAgICAgIHZhciByZXRWYWwgPSBNYXRoLmFicyhhIC0gYikgPD0gdG9sZXJhbmNlO1xuICAgICAgICByZXR1cm4gIXJldFZhbDtcbiAgICAgIH1cblxuICAgICAgY3VycmVudEhlaWdodCA9XG4gICAgICAgIHVuZGVmaW5lZCAhPT0gY3VzdG9tSGVpZ2h0ID8gY3VzdG9tSGVpZ2h0IDogZ2V0SGVpZ2h0W2hlaWdodENhbGNNb2RlXSgpO1xuICAgICAgY3VycmVudFdpZHRoID1cbiAgICAgICAgdW5kZWZpbmVkICE9PSBjdXN0b21XaWR0aCA/IGN1c3RvbVdpZHRoIDogZ2V0V2lkdGhbd2lkdGhDYWxjTW9kZV0oKTtcblxuICAgICAgcmV0dXJuIChcbiAgICAgICAgY2hlY2tUb2xhcmFuY2UoaGVpZ2h0LCBjdXJyZW50SGVpZ2h0KSB8fFxuICAgICAgICAoY2FsY3VsYXRlV2lkdGggJiYgY2hlY2tUb2xhcmFuY2Uod2lkdGgsIGN1cnJlbnRXaWR0aCkpXG4gICAgICApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzRm9yY2VSZXNpemFibGVFdmVudCgpIHtcbiAgICAgIHJldHVybiAhKHRyaWdnZXJFdmVudCBpbiB7IGluaXQ6IDEsIGludGVydmFsOiAxLCBzaXplOiAxIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzRm9yY2VSZXNpemFibGVDYWxjTW9kZSgpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIGhlaWdodENhbGNNb2RlIGluIHJlc2V0UmVxdWlyZWRNZXRob2RzIHx8XG4gICAgICAgIChjYWxjdWxhdGVXaWR0aCAmJiB3aWR0aENhbGNNb2RlIGluIHJlc2V0UmVxdWlyZWRNZXRob2RzKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb2dJZ25vcmVkKCkge1xuICAgICAgbG9nKCdObyBjaGFuZ2UgaW4gc2l6ZSBkZXRlY3RlZCcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNoZWNrRG93blNpemluZygpIHtcbiAgICAgIGlmIChpc0ZvcmNlUmVzaXphYmxlRXZlbnQoKSAmJiBpc0ZvcmNlUmVzaXphYmxlQ2FsY01vZGUoKSkge1xuICAgICAgICByZXNldElGcmFtZSh0cmlnZ2VyRXZlbnREZXNjKTtcbiAgICAgIH0gZWxzZSBpZiAoISh0cmlnZ2VyRXZlbnQgaW4geyBpbnRlcnZhbDogMSB9KSkge1xuICAgICAgICBsb2dJZ25vcmVkKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGN1cnJlbnRIZWlnaHQsIGN1cnJlbnRXaWR0aDtcblxuICAgIGlmIChpc1NpemVDaGFuZ2VEZXRlY3RlZCgpIHx8ICdpbml0JyA9PT0gdHJpZ2dlckV2ZW50KSB7XG4gICAgICBsb2NrVHJpZ2dlcigpO1xuICAgICAgcmVzaXplSUZyYW1lKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNoZWNrRG93blNpemluZygpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBzaXplSUZyYW1lVGhyb3R0bGVkID0gdGhyb3R0bGUoc2l6ZUlGcmFtZSk7XG5cbiAgZnVuY3Rpb24gc2VuZFNpemUodHJpZ2dlckV2ZW50LCB0cmlnZ2VyRXZlbnREZXNjLCBjdXN0b21IZWlnaHQsIGN1c3RvbVdpZHRoKSB7XG4gICAgZnVuY3Rpb24gcmVjb3JkVHJpZ2dlcigpIHtcbiAgICAgIGlmICghKHRyaWdnZXJFdmVudCBpbiB7IHJlc2V0OiAxLCByZXNldFBhZ2U6IDEsIGluaXQ6IDEgfSkpIHtcbiAgICAgICAgbG9nKCdUcmlnZ2VyIGV2ZW50OiAnICsgdHJpZ2dlckV2ZW50RGVzYyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNEb3VibGVGaXJlZEV2ZW50KCkge1xuICAgICAgcmV0dXJuIHRyaWdnZXJMb2NrZWQgJiYgdHJpZ2dlckV2ZW50IGluIGRvdWJsZUV2ZW50TGlzdDtcbiAgICB9XG5cbiAgICBpZiAoIWlzRG91YmxlRmlyZWRFdmVudCgpKSB7XG4gICAgICByZWNvcmRUcmlnZ2VyKCk7XG4gICAgICBpZiAodHJpZ2dlckV2ZW50ID09PSAnaW5pdCcpIHtcbiAgICAgICAgc2l6ZUlGcmFtZSh0cmlnZ2VyRXZlbnQsIHRyaWdnZXJFdmVudERlc2MsIGN1c3RvbUhlaWdodCwgY3VzdG9tV2lkdGgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2l6ZUlGcmFtZVRocm90dGxlZChcbiAgICAgICAgICB0cmlnZ2VyRXZlbnQsXG4gICAgICAgICAgdHJpZ2dlckV2ZW50RGVzYyxcbiAgICAgICAgICBjdXN0b21IZWlnaHQsXG4gICAgICAgICAgY3VzdG9tV2lkdGhcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbG9nKCdUcmlnZ2VyIGV2ZW50IGNhbmNlbGxlZDogJyArIHRyaWdnZXJFdmVudCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbG9ja1RyaWdnZXIoKSB7XG4gICAgaWYgKCF0cmlnZ2VyTG9ja2VkKSB7XG4gICAgICB0cmlnZ2VyTG9ja2VkID0gdHJ1ZTtcbiAgICAgIGxvZygnVHJpZ2dlciBldmVudCBsb2NrIG9uJyk7XG4gICAgfVxuICAgIGNsZWFyVGltZW91dCh0cmlnZ2VyTG9ja2VkVGltZXIpO1xuICAgIHRyaWdnZXJMb2NrZWRUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICB0cmlnZ2VyTG9ja2VkID0gZmFsc2U7XG4gICAgICBsb2coJ1RyaWdnZXIgZXZlbnQgbG9jayBvZmYnKTtcbiAgICAgIGxvZygnLS0nKTtcbiAgICB9LCBldmVudENhbmNlbFRpbWVyKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyaWdnZXJSZXNldCh0cmlnZ2VyRXZlbnQpIHtcbiAgICBoZWlnaHQgPSBnZXRIZWlnaHRbaGVpZ2h0Q2FsY01vZGVdKCk7XG4gICAgd2lkdGggPSBnZXRXaWR0aFt3aWR0aENhbGNNb2RlXSgpO1xuXG4gICAgc2VuZE1zZyhoZWlnaHQsIHdpZHRoLCB0cmlnZ2VyRXZlbnQpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRJRnJhbWUodHJpZ2dlckV2ZW50RGVzYykge1xuICAgIHZhciBoY20gPSBoZWlnaHRDYWxjTW9kZTtcbiAgICBoZWlnaHRDYWxjTW9kZSA9IGhlaWdodENhbGNNb2RlRGVmYXVsdDtcblxuICAgIGxvZygnUmVzZXQgdHJpZ2dlciBldmVudDogJyArIHRyaWdnZXJFdmVudERlc2MpO1xuICAgIGxvY2tUcmlnZ2VyKCk7XG4gICAgdHJpZ2dlclJlc2V0KCdyZXNldCcpO1xuXG4gICAgaGVpZ2h0Q2FsY01vZGUgPSBoY207XG4gIH1cblxuICBmdW5jdGlvbiBzZW5kTXNnKGhlaWdodCwgd2lkdGgsIHRyaWdnZXJFdmVudCwgbXNnLCB0YXJnZXRPcmlnaW4pIHtcbiAgICBmdW5jdGlvbiBzZXRUYXJnZXRPcmlnaW4oKSB7XG4gICAgICBpZiAodW5kZWZpbmVkID09PSB0YXJnZXRPcmlnaW4pIHtcbiAgICAgICAgdGFyZ2V0T3JpZ2luID0gdGFyZ2V0T3JpZ2luRGVmYXVsdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvZygnTWVzc2FnZSB0YXJnZXRPcmlnaW46ICcgKyB0YXJnZXRPcmlnaW4pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNlbmRUb1BhcmVudCgpIHtcbiAgICAgIHZhciBzaXplID0gaGVpZ2h0ICsgJzonICsgd2lkdGgsXG4gICAgICAgIG1lc3NhZ2UgPVxuICAgICAgICAgIG15SUQgK1xuICAgICAgICAgICc6JyArXG4gICAgICAgICAgc2l6ZSArXG4gICAgICAgICAgJzonICtcbiAgICAgICAgICB0cmlnZ2VyRXZlbnQgK1xuICAgICAgICAgICh1bmRlZmluZWQgIT09IG1zZyA/ICc6JyArIG1zZyA6ICcnKTtcblxuICAgICAgbG9nKCdTZW5kaW5nIG1lc3NhZ2UgdG8gaG9zdCBwYWdlICgnICsgbWVzc2FnZSArICcpJyk7XG4gICAgICB0YXJnZXQucG9zdE1lc3NhZ2UobXNnSUQgKyBtZXNzYWdlLCB0YXJnZXRPcmlnaW4pO1xuICAgIH1cblxuICAgIGlmICh0cnVlID09PSBzZW5kUGVybWl0KSB7XG4gICAgICBzZXRUYXJnZXRPcmlnaW4oKTtcbiAgICAgIHNlbmRUb1BhcmVudCgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlY2VpdmVyKGV2ZW50KSB7XG4gICAgdmFyIHByb2Nlc3NSZXF1ZXN0RnJvbVBhcmVudCA9IHtcbiAgICAgIGluaXQ6IGZ1bmN0aW9uIGluaXRGcm9tUGFyZW50KCkge1xuICAgICAgICBpbml0TXNnID0gZXZlbnQuZGF0YTtcbiAgICAgICAgdGFyZ2V0ID0gZXZlbnQuc291cmNlO1xuXG4gICAgICAgIGluaXQoKTtcbiAgICAgICAgZmlyc3RSdW4gPSBmYWxzZTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICBpbml0TG9jayA9IGZhbHNlO1xuICAgICAgICB9LCBldmVudENhbmNlbFRpbWVyKTtcbiAgICAgIH0sXG5cbiAgICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldEZyb21QYXJlbnQoKSB7XG4gICAgICAgIGlmICghaW5pdExvY2spIHtcbiAgICAgICAgICBsb2coJ1BhZ2Ugc2l6ZSByZXNldCBieSBob3N0IHBhZ2UnKTtcbiAgICAgICAgICB0cmlnZ2VyUmVzZXQoJ3Jlc2V0UGFnZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxvZygnUGFnZSByZXNldCBpZ25vcmVkIGJ5IGluaXQnKTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgcmVzaXplOiBmdW5jdGlvbiByZXNpemVGcm9tUGFyZW50KCkge1xuICAgICAgICBzZW5kU2l6ZSgncmVzaXplUGFyZW50JywgJ1BhcmVudCB3aW5kb3cgcmVxdWVzdGVkIHNpemUgY2hlY2snKTtcbiAgICAgIH0sXG5cbiAgICAgIG1vdmVUb0FuY2hvcjogZnVuY3Rpb24gbW92ZVRvQW5jaG9yRigpIHtcbiAgICAgICAgaW5QYWdlTGlua3MuZmluZFRhcmdldChnZXREYXRhKCkpO1xuICAgICAgfSxcbiAgICAgIGluUGFnZUxpbms6IGZ1bmN0aW9uIGluUGFnZUxpbmtGKCkge1xuICAgICAgICB0aGlzLm1vdmVUb0FuY2hvcigpO1xuICAgICAgfSwgLy9CYWNrd2FyZCBjb21wYXRhYmlsaXR5XG5cbiAgICAgIHBhZ2VJbmZvOiBmdW5jdGlvbiBwYWdlSW5mb0Zyb21QYXJlbnQoKSB7XG4gICAgICAgIHZhciBtc2dCb2R5ID0gZ2V0RGF0YSgpO1xuICAgICAgICBsb2coJ1BhZ2VJbmZvRnJvbVBhcmVudCBjYWxsZWQgZnJvbSBwYXJlbnQ6ICcgKyBtc2dCb2R5KTtcbiAgICAgICAgcGFnZUluZm9DYWxsYmFjayhKU09OLnBhcnNlKG1zZ0JvZHkpKTtcbiAgICAgICAgbG9nKCcgLS0nKTtcbiAgICAgIH0sXG5cbiAgICAgIG1lc3NhZ2U6IGZ1bmN0aW9uIG1lc3NhZ2VGcm9tUGFyZW50KCkge1xuICAgICAgICB2YXIgbXNnQm9keSA9IGdldERhdGEoKTtcblxuICAgICAgICBsb2coJ01lc3NhZ2VDYWxsYmFjayBjYWxsZWQgZnJvbSBwYXJlbnQ6ICcgKyBtc2dCb2R5KTtcbiAgICAgICAgbWVzc2FnZUNhbGxiYWNrKEpTT04ucGFyc2UobXNnQm9keSkpO1xuICAgICAgICBsb2coJyAtLScpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBpc01lc3NhZ2VGb3JVcygpIHtcbiAgICAgIHJldHVybiBtc2dJRCA9PT0gKCcnICsgZXZlbnQuZGF0YSkuc3Vic3RyKDAsIG1zZ0lkTGVuKTsgLy8nJysgUHJvdGVjdHMgYWdhaW5zdCBub24tc3RyaW5nIG1lc3NhZ2VzXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0TWVzc2FnZVR5cGUoKSB7XG4gICAgICByZXR1cm4gZXZlbnQuZGF0YS5zcGxpdCgnXScpWzFdLnNwbGl0KCc6JylbMF07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0RGF0YSgpIHtcbiAgICAgIHJldHVybiBldmVudC5kYXRhLnN1YnN0cihldmVudC5kYXRhLmluZGV4T2YoJzonKSArIDEpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzTWlkZGxlVGllcigpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgICghKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSAmJlxuICAgICAgICAgICdpRnJhbWVSZXNpemUnIGluIHdpbmRvdykgfHxcbiAgICAgICAgKCdqUXVlcnknIGluIHdpbmRvdyAmJiAnaUZyYW1lUmVzaXplJyBpbiB3aW5kb3cualF1ZXJ5LnByb3RvdHlwZSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNJbml0TXNnKCkge1xuICAgICAgLy9UZXN0IGlmIHRoaXMgbWVzc2FnZSBpcyBmcm9tIGEgY2hpbGQgYmVsb3cgdXMuIFRoaXMgaXMgYW4gdWdseSB0ZXN0LCBob3dldmVyLCB1cGRhdGluZ1xuICAgICAgLy90aGUgbWVzc2FnZSBmb3JtYXQgd291bGQgYnJlYWsgYmFja3dhcmRzIGNvbXBhdGliaXR5LlxuICAgICAgcmV0dXJuIGV2ZW50LmRhdGEuc3BsaXQoJzonKVsyXSBpbiB7IHRydWU6IDEsIGZhbHNlOiAxIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FsbEZyb21QYXJlbnQoKSB7XG4gICAgICB2YXIgbWVzc2FnZVR5cGUgPSBnZXRNZXNzYWdlVHlwZSgpO1xuXG4gICAgICBpZiAobWVzc2FnZVR5cGUgaW4gcHJvY2Vzc1JlcXVlc3RGcm9tUGFyZW50KSB7XG4gICAgICAgIHByb2Nlc3NSZXF1ZXN0RnJvbVBhcmVudFttZXNzYWdlVHlwZV0oKTtcbiAgICAgIH0gZWxzZSBpZiAoIWlzTWlkZGxlVGllcigpICYmICFpc0luaXRNc2coKSkge1xuICAgICAgICB3YXJuKCdVbmV4cGVjdGVkIG1lc3NhZ2UgKCcgKyBldmVudC5kYXRhICsgJyknKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzTWVzc2FnZSgpIHtcbiAgICAgIGlmIChmYWxzZSA9PT0gZmlyc3RSdW4pIHtcbiAgICAgICAgY2FsbEZyb21QYXJlbnQoKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNJbml0TXNnKCkpIHtcbiAgICAgICAgcHJvY2Vzc1JlcXVlc3RGcm9tUGFyZW50LmluaXQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvZyhcbiAgICAgICAgICAnSWdub3JlZCBtZXNzYWdlIG9mIHR5cGUgXCInICtcbiAgICAgICAgICAgIGdldE1lc3NhZ2VUeXBlKCkgK1xuICAgICAgICAgICAgJ1wiLiBSZWNlaXZlZCBiZWZvcmUgaW5pdGlhbGl6YXRpb24uJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc01lc3NhZ2VGb3JVcygpKSB7XG4gICAgICBwcm9jZXNzTWVzc2FnZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8vTm9ybWFsbHkgdGhlIHBhcmVudCBraWNrcyB0aGluZ3Mgb2ZmIHdoZW4gaXQgZGV0ZWN0cyB0aGUgaUZyYW1lIGhhcyBsb2FkZWQuXG4gIC8vSWYgdGhpcyBzY3JpcHQgaXMgYXN5bmMtbG9hZGVkLCB0aGVuIHRlbGwgcGFyZW50IHBhZ2UgdG8gcmV0cnkgaW5pdC5cbiAgZnVuY3Rpb24gY2hrTGF0ZUxvYWRlZCgpIHtcbiAgICBpZiAoJ2xvYWRpbmcnICE9PSBkb2N1bWVudC5yZWFkeVN0YXRlKSB7XG4gICAgICB3aW5kb3cucGFyZW50LnBvc3RNZXNzYWdlKCdbaUZyYW1lUmVzaXplckNoaWxkXVJlYWR5JywgJyonKTtcbiAgICB9XG4gIH1cblxuICBhZGRFdmVudExpc3RlbmVyKHdpbmRvdywgJ21lc3NhZ2UnLCByZWNlaXZlcik7XG4gIGFkZEV2ZW50TGlzdGVuZXIod2luZG93LCAncmVhZHlzdGF0ZWNoYW5nZScsIGNoa0xhdGVMb2FkZWQpO1xuICBjaGtMYXRlTG9hZGVkKCk7XG5cbiAgXG59KSgpO1xuIiwiLypcbiAqIEZpbGU6IGlmcmFtZVJlc2l6ZXIuanNcbiAqIERlc2M6IEZvcmNlIGlmcmFtZXMgdG8gc2l6ZSB0byBjb250ZW50LlxuICogUmVxdWlyZXM6IGlmcmFtZVJlc2l6ZXIuY29udGVudFdpbmRvdy5qcyB0byBiZSBsb2FkZWQgaW50byB0aGUgdGFyZ2V0IGZyYW1lLlxuICogRG9jOiBodHRwczovL2dpdGh1Yi5jb20vZGF2aWRqYnJhZHNoYXcvaWZyYW1lLXJlc2l6ZXJcbiAqIEF1dGhvcjogRGF2aWQgSi4gQnJhZHNoYXcgLSBkYXZlQGJyYWRzaGF3Lm5ldFxuICogQ29udHJpYnV0b3I6IEp1cmUgTWF2IC0ganVyZS5tYXZAZ21haWwuY29tXG4gKiBDb250cmlidXRvcjogUmVlZCBEYWRvdW5lIC0gcmVlZEBkYWRvdW5lLmNvbVxuICovXG5cbihmdW5jdGlvbih1bmRlZmluZWQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuOyAvLyBkb24ndCBydW4gZm9yIHNlcnZlciBzaWRlIHJlbmRlclxuXG4gIHZhciBjb3VudCA9IDAsXG4gICAgbG9nRW5hYmxlZCA9IGZhbHNlLFxuICAgIGhpZGRlbkNoZWNrRW5hYmxlZCA9IGZhbHNlLFxuICAgIG1zZ0hlYWRlciA9ICdtZXNzYWdlJyxcbiAgICBtc2dIZWFkZXJMZW4gPSBtc2dIZWFkZXIubGVuZ3RoLFxuICAgIG1zZ0lkID0gJ1tpRnJhbWVTaXplcl0nLCAvL011c3QgbWF0Y2ggaWZyYW1lIG1zZyBJRFxuICAgIG1zZ0lkTGVuID0gbXNnSWQubGVuZ3RoLFxuICAgIHBhZ2VQb3NpdGlvbiA9IG51bGwsXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSxcbiAgICByZXNldFJlcXVpcmVkTWV0aG9kcyA9IHtcbiAgICAgIG1heDogMSxcbiAgICAgIHNjcm9sbDogMSxcbiAgICAgIGJvZHlTY3JvbGw6IDEsXG4gICAgICBkb2N1bWVudEVsZW1lbnRTY3JvbGw6IDFcbiAgICB9LFxuICAgIHNldHRpbmdzID0ge30sXG4gICAgdGltZXIgPSBudWxsLFxuICAgIGxvZ0lkID0gJ0hvc3QgUGFnZScsXG4gICAgZGVmYXVsdHMgPSB7XG4gICAgICBhdXRvUmVzaXplOiB0cnVlLFxuICAgICAgYm9keUJhY2tncm91bmQ6IG51bGwsXG4gICAgICBib2R5TWFyZ2luOiBudWxsLFxuICAgICAgYm9keU1hcmdpblYxOiA4LFxuICAgICAgYm9keVBhZGRpbmc6IG51bGwsXG4gICAgICBjaGVja09yaWdpbjogdHJ1ZSxcbiAgICAgIGluUGFnZUxpbmtzOiBmYWxzZSxcbiAgICAgIGVuYWJsZVB1YmxpY01ldGhvZHM6IHRydWUsXG4gICAgICBoZWlnaHRDYWxjdWxhdGlvbk1ldGhvZDogJ2JvZHlPZmZzZXQnLFxuICAgICAgaWQ6ICdpRnJhbWVSZXNpemVyJyxcbiAgICAgIGludGVydmFsOiAzMixcbiAgICAgIGxvZzogZmFsc2UsXG4gICAgICBtYXhIZWlnaHQ6IEluZmluaXR5LFxuICAgICAgbWF4V2lkdGg6IEluZmluaXR5LFxuICAgICAgbWluSGVpZ2h0OiAwLFxuICAgICAgbWluV2lkdGg6IDAsXG4gICAgICByZXNpemVGcm9tOiAncGFyZW50JyxcbiAgICAgIHNjcm9sbGluZzogZmFsc2UsXG4gICAgICBzaXplSGVpZ2h0OiB0cnVlLFxuICAgICAgc2l6ZVdpZHRoOiBmYWxzZSxcbiAgICAgIHdhcm5pbmdUaW1lb3V0OiA1MDAwLFxuICAgICAgdG9sZXJhbmNlOiAwLFxuICAgICAgd2lkdGhDYWxjdWxhdGlvbk1ldGhvZDogJ3Njcm9sbCcsXG4gICAgICBjbG9zZWRDYWxsYmFjazogZnVuY3Rpb24oKSB7fSxcbiAgICAgIGluaXRDYWxsYmFjazogZnVuY3Rpb24oKSB7fSxcbiAgICAgIG1lc3NhZ2VDYWxsYmFjazogZnVuY3Rpb24oKSB7XG4gICAgICAgIHdhcm4oJ01lc3NhZ2VDYWxsYmFjayBmdW5jdGlvbiBub3QgZGVmaW5lZCcpO1xuICAgICAgfSxcbiAgICAgIHJlc2l6ZWRDYWxsYmFjazogZnVuY3Rpb24oKSB7fSxcbiAgICAgIHNjcm9sbENhbGxiYWNrOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfTtcblxuICBmdW5jdGlvbiBnZXRNdXRhdGlvbk9ic2VydmVyKCkge1xuICAgIHJldHVybiB3aW5kb3cuTXV0YXRpb25PYnNlcnZlciB8fCB3aW5kb3cuV2ViS2l0TXV0YXRpb25PYnNlcnZlciB8fCB3aW5kb3cuTW96TXV0YXRpb25PYnNlcnZlcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIob2JqLCBldnQsIGZ1bmMpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqLyAvLyBOb3QgdGVzdGFibGUgaW4gUGhhbnRvbkpTXG4gICAgaWYgKCdhZGRFdmVudExpc3RlbmVyJyBpbiB3aW5kb3cpIHtcbiAgICAgIG9iai5hZGRFdmVudExpc3RlbmVyKGV2dCwgZnVuYywgZmFsc2UpO1xuICAgIH0gZWxzZSBpZiAoJ2F0dGFjaEV2ZW50JyBpbiB3aW5kb3cpIHtcbiAgICAgIC8vSUVcbiAgICAgIG9iai5hdHRhY2hFdmVudCgnb24nICsgZXZ0LCBmdW5jKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVyKGVsLCBldnQsIGZ1bmMpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqLyAvLyBOb3QgdGVzdGFibGUgaW4gcGhhbnRvbkpTXG4gICAgaWYgKCdyZW1vdmVFdmVudExpc3RlbmVyJyBpbiB3aW5kb3cpIHtcbiAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZ0LCBmdW5jLCBmYWxzZSk7XG4gICAgfSBlbHNlIGlmICgnZGV0YWNoRXZlbnQnIGluIHdpbmRvdykge1xuICAgICAgLy9JRVxuICAgICAgZWwuZGV0YWNoRXZlbnQoJ29uJyArIGV2dCwgZnVuYyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2V0dXBSZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKSB7XG4gICAgdmFyIHZlbmRvcnMgPSBbJ21veicsICd3ZWJraXQnLCAnbycsICdtcyddLFxuICAgICAgeDtcblxuICAgIC8vIFJlbW92ZSB2ZW5kb3IgcHJlZml4aW5nIGlmIHByZWZpeGVkIGFuZCBicmVhayBlYXJseSBpZiBub3RcbiAgICBmb3IgKHggPSAwOyB4IDwgdmVuZG9ycy5sZW5ndGggJiYgIXJlcXVlc3RBbmltYXRpb25GcmFtZTsgeCArPSAxKSB7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSB3aW5kb3dbdmVuZG9yc1t4XSArICdSZXF1ZXN0QW5pbWF0aW9uRnJhbWUnXTtcbiAgICB9XG5cbiAgICBpZiAoIXJlcXVlc3RBbmltYXRpb25GcmFtZSkge1xuICAgICAgbG9nKCdzZXR1cCcsICdSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgbm90IHN1cHBvcnRlZCcpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE15SUQoaWZyYW1lSWQpIHtcbiAgICB2YXIgcmV0U3RyID0gJ0hvc3QgcGFnZTogJyArIGlmcmFtZUlkO1xuXG4gICAgaWYgKHdpbmRvdy50b3AgIT09IHdpbmRvdy5zZWxmKSB7XG4gICAgICBpZiAod2luZG93LnBhcmVudElGcmFtZSAmJiB3aW5kb3cucGFyZW50SUZyYW1lLmdldElkKSB7XG4gICAgICAgIHJldFN0ciA9IHdpbmRvdy5wYXJlbnRJRnJhbWUuZ2V0SWQoKSArICc6ICcgKyBpZnJhbWVJZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldFN0ciA9ICdOZXN0ZWQgaG9zdCBwYWdlOiAnICsgaWZyYW1lSWQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldFN0cjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZvcm1hdExvZ0hlYWRlcihpZnJhbWVJZCkge1xuICAgIHJldHVybiBtc2dJZCArICdbJyArIGdldE15SUQoaWZyYW1lSWQpICsgJ10nO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNMb2dFbmFibGVkKGlmcmFtZUlkKSB7XG4gICAgcmV0dXJuIHNldHRpbmdzW2lmcmFtZUlkXSA/IHNldHRpbmdzW2lmcmFtZUlkXS5sb2cgOiBsb2dFbmFibGVkO1xuICB9XG5cbiAgZnVuY3Rpb24gbG9nKGlmcmFtZUlkLCBtc2cpIHtcbiAgICBvdXRwdXQoJ2xvZycsIGlmcmFtZUlkLCBtc2csIGlzTG9nRW5hYmxlZChpZnJhbWVJZCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5mbyhpZnJhbWVJZCwgbXNnKSB7XG4gICAgb3V0cHV0KCdpbmZvJywgaWZyYW1lSWQsIG1zZywgaXNMb2dFbmFibGVkKGlmcmFtZUlkKSk7XG4gIH1cblxuICBmdW5jdGlvbiB3YXJuKGlmcmFtZUlkLCBtc2cpIHtcbiAgICBvdXRwdXQoJ3dhcm4nLCBpZnJhbWVJZCwgbXNnLCB0cnVlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG91dHB1dCh0eXBlLCBpZnJhbWVJZCwgbXNnLCBlbmFibGVkKSB7XG4gICAgaWYgKHRydWUgPT09IGVuYWJsZWQgJiYgJ29iamVjdCcgPT09IHR5cGVvZiB3aW5kb3cuY29uc29sZSkge1xuICAgICAgY29uc29sZVt0eXBlXShmb3JtYXRMb2dIZWFkZXIoaWZyYW1lSWQpLCBtc2cpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGlGcmFtZUxpc3RlbmVyKGV2ZW50KSB7XG4gICAgZnVuY3Rpb24gcmVzaXplSUZyYW1lKCkge1xuICAgICAgZnVuY3Rpb24gcmVzaXplKCkge1xuICAgICAgICBzZXRTaXplKG1lc3NhZ2VEYXRhKTtcbiAgICAgICAgc2V0UGFnZVBvc2l0aW9uKGlmcmFtZUlkKTtcbiAgICAgICAgY2FsbGJhY2soJ3Jlc2l6ZWRDYWxsYmFjaycsIG1lc3NhZ2VEYXRhKTtcbiAgICAgIH1cblxuICAgICAgZW5zdXJlSW5SYW5nZSgnSGVpZ2h0Jyk7XG4gICAgICBlbnN1cmVJblJhbmdlKCdXaWR0aCcpO1xuXG4gICAgICBzeW5jUmVzaXplKHJlc2l6ZSwgbWVzc2FnZURhdGEsICdpbml0Jyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc01zZygpIHtcbiAgICAgIHZhciBkYXRhID0gbXNnLnN1YnN0cihtc2dJZExlbikuc3BsaXQoJzonKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWZyYW1lOiBzZXR0aW5nc1tkYXRhWzBdXSAmJiBzZXR0aW5nc1tkYXRhWzBdXS5pZnJhbWUsXG4gICAgICAgIGlkOiBkYXRhWzBdLFxuICAgICAgICBoZWlnaHQ6IGRhdGFbMV0sXG4gICAgICAgIHdpZHRoOiBkYXRhWzJdLFxuICAgICAgICB0eXBlOiBkYXRhWzNdXG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGVuc3VyZUluUmFuZ2UoRGltZW5zaW9uKSB7XG4gICAgICB2YXIgbWF4ID0gTnVtYmVyKHNldHRpbmdzW2lmcmFtZUlkXVsnbWF4JyArIERpbWVuc2lvbl0pLFxuICAgICAgICBtaW4gPSBOdW1iZXIoc2V0dGluZ3NbaWZyYW1lSWRdWydtaW4nICsgRGltZW5zaW9uXSksXG4gICAgICAgIGRpbWVuc2lvbiA9IERpbWVuc2lvbi50b0xvd2VyQ2FzZSgpLFxuICAgICAgICBzaXplID0gTnVtYmVyKG1lc3NhZ2VEYXRhW2RpbWVuc2lvbl0pO1xuXG4gICAgICBsb2coXG4gICAgICAgIGlmcmFtZUlkLFxuICAgICAgICAnQ2hlY2tpbmcgJyArIGRpbWVuc2lvbiArICcgaXMgaW4gcmFuZ2UgJyArIG1pbiArICctJyArIG1heFxuICAgICAgKTtcblxuICAgICAgaWYgKHNpemUgPCBtaW4pIHtcbiAgICAgICAgc2l6ZSA9IG1pbjtcbiAgICAgICAgbG9nKGlmcmFtZUlkLCAnU2V0ICcgKyBkaW1lbnNpb24gKyAnIHRvIG1pbiB2YWx1ZScpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2l6ZSA+IG1heCkge1xuICAgICAgICBzaXplID0gbWF4O1xuICAgICAgICBsb2coaWZyYW1lSWQsICdTZXQgJyArIGRpbWVuc2lvbiArICcgdG8gbWF4IHZhbHVlJyk7XG4gICAgICB9XG5cbiAgICAgIG1lc3NhZ2VEYXRhW2RpbWVuc2lvbl0gPSAnJyArIHNpemU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNNZXNzYWdlRnJvbUlGcmFtZSgpIHtcbiAgICAgIGZ1bmN0aW9uIGNoZWNrQWxsb3dlZE9yaWdpbigpIHtcbiAgICAgICAgZnVuY3Rpb24gY2hlY2tMaXN0KCkge1xuICAgICAgICAgIHZhciBpID0gMCxcbiAgICAgICAgICAgIHJldENvZGUgPSBmYWxzZTtcblxuICAgICAgICAgIGxvZyhcbiAgICAgICAgICAgIGlmcmFtZUlkLFxuICAgICAgICAgICAgJ0NoZWNraW5nIGNvbm5lY3Rpb24gaXMgZnJvbSBhbGxvd2VkIGxpc3Qgb2Ygb3JpZ2luczogJyArXG4gICAgICAgICAgICAgIGNoZWNrT3JpZ2luXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGZvciAoOyBpIDwgY2hlY2tPcmlnaW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChjaGVja09yaWdpbltpXSA9PT0gb3JpZ2luKSB7XG4gICAgICAgICAgICAgIHJldENvZGUgPSB0cnVlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJldENvZGU7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjaGVja1NpbmdsZSgpIHtcbiAgICAgICAgICB2YXIgcmVtb3RlSG9zdCA9IHNldHRpbmdzW2lmcmFtZUlkXSAmJiBzZXR0aW5nc1tpZnJhbWVJZF0ucmVtb3RlSG9zdDtcbiAgICAgICAgICBsb2coaWZyYW1lSWQsICdDaGVja2luZyBjb25uZWN0aW9uIGlzIGZyb206ICcgKyByZW1vdGVIb3N0KTtcbiAgICAgICAgICByZXR1cm4gb3JpZ2luID09PSByZW1vdGVIb3N0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNoZWNrT3JpZ2luLmNvbnN0cnVjdG9yID09PSBBcnJheSA/IGNoZWNrTGlzdCgpIDogY2hlY2tTaW5nbGUoKTtcbiAgICAgIH1cblxuICAgICAgdmFyIG9yaWdpbiA9IGV2ZW50Lm9yaWdpbixcbiAgICAgICAgY2hlY2tPcmlnaW4gPSBzZXR0aW5nc1tpZnJhbWVJZF0gJiYgc2V0dGluZ3NbaWZyYW1lSWRdLmNoZWNrT3JpZ2luO1xuXG4gICAgICBpZiAoY2hlY2tPcmlnaW4gJiYgJycgKyBvcmlnaW4gIT09ICdudWxsJyAmJiAhY2hlY2tBbGxvd2VkT3JpZ2luKCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdVbmV4cGVjdGVkIG1lc3NhZ2UgcmVjZWl2ZWQgZnJvbTogJyArXG4gICAgICAgICAgICBvcmlnaW4gK1xuICAgICAgICAgICAgJyBmb3IgJyArXG4gICAgICAgICAgICBtZXNzYWdlRGF0YS5pZnJhbWUuaWQgK1xuICAgICAgICAgICAgJy4gTWVzc2FnZSB3YXM6ICcgK1xuICAgICAgICAgICAgZXZlbnQuZGF0YSArXG4gICAgICAgICAgICAnLiBUaGlzIGVycm9yIGNhbiBiZSBkaXNhYmxlZCBieSBzZXR0aW5nIHRoZSBjaGVja09yaWdpbjogZmFsc2Ugb3B0aW9uIG9yIGJ5IHByb3ZpZGluZyBvZiBhcnJheSBvZiB0cnVzdGVkIGRvbWFpbnMuJ1xuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc01lc3NhZ2VGb3JVcygpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIG1zZ0lkID09PSAoJycgKyBtc2cpLnN1YnN0cigwLCBtc2dJZExlbikgJiZcbiAgICAgICAgbXNnLnN1YnN0cihtc2dJZExlbikuc3BsaXQoJzonKVswXSBpbiBzZXR0aW5nc1xuICAgICAgKTsgLy8nJytQcm90ZWN0cyBhZ2FpbnN0IG5vbi1zdHJpbmcgbXNnXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNNZXNzYWdlRnJvbU1ldGFQYXJlbnQoKSB7XG4gICAgICAvL1Rlc3QgaWYgdGhpcyBtZXNzYWdlIGlzIGZyb20gYSBwYXJlbnQgYWJvdmUgdXMuIFRoaXMgaXMgYW4gdWdseSB0ZXN0LCBob3dldmVyLCB1cGRhdGluZ1xuICAgICAgLy90aGUgbWVzc2FnZSBmb3JtYXQgd291bGQgYnJlYWsgYmFja3dhcmRzIGNvbXBhdGliaXR5LlxuICAgICAgdmFyIHJldENvZGUgPSBtZXNzYWdlRGF0YS50eXBlIGluIHsgdHJ1ZTogMSwgZmFsc2U6IDEsIHVuZGVmaW5lZDogMSB9O1xuXG4gICAgICBpZiAocmV0Q29kZSkge1xuICAgICAgICBsb2coaWZyYW1lSWQsICdJZ25vcmluZyBpbml0IG1lc3NhZ2UgZnJvbSBtZXRhIHBhcmVudCBwYWdlJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXRDb2RlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldE1zZ0JvZHkob2Zmc2V0KSB7XG4gICAgICByZXR1cm4gbXNnLnN1YnN0cihtc2cuaW5kZXhPZignOicpICsgbXNnSGVhZGVyTGVuICsgb2Zmc2V0KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmb3J3YXJkTXNnRnJvbUlGcmFtZShtc2dCb2R5KSB7XG4gICAgICBsb2coXG4gICAgICAgIGlmcmFtZUlkLFxuICAgICAgICAnTWVzc2FnZUNhbGxiYWNrIHBhc3NlZDoge2lmcmFtZTogJyArXG4gICAgICAgICAgbWVzc2FnZURhdGEuaWZyYW1lLmlkICtcbiAgICAgICAgICAnLCBtZXNzYWdlOiAnICtcbiAgICAgICAgICBtc2dCb2R5ICtcbiAgICAgICAgICAnfSdcbiAgICAgICk7XG4gICAgICBjYWxsYmFjaygnbWVzc2FnZUNhbGxiYWNrJywge1xuICAgICAgICBpZnJhbWU6IG1lc3NhZ2VEYXRhLmlmcmFtZSxcbiAgICAgICAgbWVzc2FnZTogSlNPTi5wYXJzZShtc2dCb2R5KVxuICAgICAgfSk7XG4gICAgICBsb2coaWZyYW1lSWQsICctLScpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFBhZ2VJbmZvKCkge1xuICAgICAgdmFyIGJvZHlQb3NpdGlvbiA9IGRvY3VtZW50LmJvZHkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICAgIGlGcmFtZVBvc2l0aW9uID0gbWVzc2FnZURhdGEuaWZyYW1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBpZnJhbWVIZWlnaHQ6IGlGcmFtZVBvc2l0aW9uLmhlaWdodCxcbiAgICAgICAgaWZyYW1lV2lkdGg6IGlGcmFtZVBvc2l0aW9uLndpZHRoLFxuICAgICAgICBjbGllbnRIZWlnaHQ6IE1hdGgubWF4KFxuICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsXG4gICAgICAgICAgd2luZG93LmlubmVySGVpZ2h0IHx8IDBcbiAgICAgICAgKSxcbiAgICAgICAgY2xpZW50V2lkdGg6IE1hdGgubWF4KFxuICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCxcbiAgICAgICAgICB3aW5kb3cuaW5uZXJXaWR0aCB8fCAwXG4gICAgICAgICksXG4gICAgICAgIG9mZnNldFRvcDogcGFyc2VJbnQoaUZyYW1lUG9zaXRpb24udG9wIC0gYm9keVBvc2l0aW9uLnRvcCwgMTApLFxuICAgICAgICBvZmZzZXRMZWZ0OiBwYXJzZUludChpRnJhbWVQb3NpdGlvbi5sZWZ0IC0gYm9keVBvc2l0aW9uLmxlZnQsIDEwKSxcbiAgICAgICAgc2Nyb2xsVG9wOiB3aW5kb3cucGFnZVlPZmZzZXQsXG4gICAgICAgIHNjcm9sbExlZnQ6IHdpbmRvdy5wYWdlWE9mZnNldFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2VuZFBhZ2VJbmZvVG9JZnJhbWUoaWZyYW1lLCBpZnJhbWVJZCkge1xuICAgICAgZnVuY3Rpb24gZGVib3VuY2VkVHJpZ2dlcigpIHtcbiAgICAgICAgdHJpZ2dlcihcbiAgICAgICAgICAnU2VuZCBQYWdlIEluZm8nLFxuICAgICAgICAgICdwYWdlSW5mbzonICsgZ2V0UGFnZUluZm8oKSxcbiAgICAgICAgICBpZnJhbWUsXG4gICAgICAgICAgaWZyYW1lSWRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGRlYm91bmNlRnJhbWVFdmVudHMoZGVib3VuY2VkVHJpZ2dlciwgMzIsIGlmcmFtZUlkKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdGFydFBhZ2VJbmZvTW9uaXRvcigpIHtcbiAgICAgIGZ1bmN0aW9uIHNldExpc3RlbmVyKHR5cGUsIGZ1bmMpIHtcbiAgICAgICAgZnVuY3Rpb24gc2VuZFBhZ2VJbmZvKCkge1xuICAgICAgICAgIGlmIChzZXR0aW5nc1tpZF0pIHtcbiAgICAgICAgICAgIHNlbmRQYWdlSW5mb1RvSWZyYW1lKHNldHRpbmdzW2lkXS5pZnJhbWUsIGlkKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIFsnc2Nyb2xsJywgJ3Jlc2l6ZSddLmZvckVhY2goZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgICAgbG9nKGlkLCB0eXBlICsgZXZ0ICsgJyBsaXN0ZW5lciBmb3Igc2VuZFBhZ2VJbmZvJyk7XG4gICAgICAgICAgZnVuYyh3aW5kb3csIGV2dCwgc2VuZFBhZ2VJbmZvKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICAgIHNldExpc3RlbmVyKCdSZW1vdmUgJywgcmVtb3ZlRXZlbnRMaXN0ZW5lcik7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgICAgICBzZXRMaXN0ZW5lcignQWRkICcsIGFkZEV2ZW50TGlzdGVuZXIpO1xuICAgICAgfVxuXG4gICAgICB2YXIgaWQgPSBpZnJhbWVJZDsgLy9DcmVhdGUgbG9jYWxseSBzY29wZWQgY29weSBvZiBpRnJhbWUgSURcblxuICAgICAgc3RhcnQoKTtcblxuICAgICAgaWYgKHNldHRpbmdzW2lkXSkge1xuICAgICAgICBzZXR0aW5nc1tpZF0uc3RvcFBhZ2VJbmZvID0gc3RvcDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdG9wUGFnZUluZm9Nb25pdG9yKCkge1xuICAgICAgaWYgKHNldHRpbmdzW2lmcmFtZUlkXSAmJiBzZXR0aW5nc1tpZnJhbWVJZF0uc3RvcFBhZ2VJbmZvKSB7XG4gICAgICAgIHNldHRpbmdzW2lmcmFtZUlkXS5zdG9wUGFnZUluZm8oKTtcbiAgICAgICAgZGVsZXRlIHNldHRpbmdzW2lmcmFtZUlkXS5zdG9wUGFnZUluZm87XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2hlY2tJRnJhbWVFeGlzdHMoKSB7XG4gICAgICB2YXIgcmV0Qm9vbCA9IHRydWU7XG5cbiAgICAgIGlmIChudWxsID09PSBtZXNzYWdlRGF0YS5pZnJhbWUpIHtcbiAgICAgICAgd2FybihpZnJhbWVJZCwgJ0lGcmFtZSAoJyArIG1lc3NhZ2VEYXRhLmlkICsgJykgbm90IGZvdW5kJyk7XG4gICAgICAgIHJldEJvb2wgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXRCb29sO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldEVsZW1lbnRQb3NpdGlvbih0YXJnZXQpIHtcbiAgICAgIHZhciBpRnJhbWVQb3NpdGlvbiA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgZ2V0UGFnZVBvc2l0aW9uKGlmcmFtZUlkKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogTWF0aC5mbG9vcihOdW1iZXIoaUZyYW1lUG9zaXRpb24ubGVmdCkgKyBOdW1iZXIocGFnZVBvc2l0aW9uLngpKSxcbiAgICAgICAgeTogTWF0aC5mbG9vcihOdW1iZXIoaUZyYW1lUG9zaXRpb24udG9wKSArIE51bWJlcihwYWdlUG9zaXRpb24ueSkpXG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNjcm9sbFJlcXVlc3RGcm9tQ2hpbGQoYWRkT2Zmc2V0KSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyAvL05vdCB0ZXN0YWJsZSBpbiBLYXJtYVxuICAgICAgZnVuY3Rpb24gcmVwb3NpdGlvbigpIHtcbiAgICAgICAgcGFnZVBvc2l0aW9uID0gbmV3UG9zaXRpb247XG4gICAgICAgIHNjcm9sbFRvKCk7XG4gICAgICAgIGxvZyhpZnJhbWVJZCwgJy0tJyk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNhbGNPZmZzZXQoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgeDogTnVtYmVyKG1lc3NhZ2VEYXRhLndpZHRoKSArIG9mZnNldC54LFxuICAgICAgICAgIHk6IE51bWJlcihtZXNzYWdlRGF0YS5oZWlnaHQpICsgb2Zmc2V0LnlcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gc2Nyb2xsUGFyZW50KCkge1xuICAgICAgICBpZiAod2luZG93LnBhcmVudElGcmFtZSkge1xuICAgICAgICAgIHdpbmRvdy5wYXJlbnRJRnJhbWVbJ3Njcm9sbFRvJyArIChhZGRPZmZzZXQgPyAnT2Zmc2V0JyA6ICcnKV0oXG4gICAgICAgICAgICBuZXdQb3NpdGlvbi54LFxuICAgICAgICAgICAgbmV3UG9zaXRpb24ueVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2FybihcbiAgICAgICAgICAgIGlmcmFtZUlkLFxuICAgICAgICAgICAgJ1VuYWJsZSB0byBzY3JvbGwgdG8gcmVxdWVzdGVkIHBvc2l0aW9uLCB3aW5kb3cucGFyZW50SUZyYW1lIG5vdCBmb3VuZCdcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBvZmZzZXQgPSBhZGRPZmZzZXRcbiAgICAgICAgICA/IGdldEVsZW1lbnRQb3NpdGlvbihtZXNzYWdlRGF0YS5pZnJhbWUpXG4gICAgICAgICAgOiB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgbmV3UG9zaXRpb24gPSBjYWxjT2Zmc2V0KCk7XG5cbiAgICAgIGxvZyhcbiAgICAgICAgaWZyYW1lSWQsXG4gICAgICAgICdSZXBvc2l0aW9uIHJlcXVlc3RlZCBmcm9tIGlGcmFtZSAob2Zmc2V0IHg6JyArXG4gICAgICAgICAgb2Zmc2V0LnggK1xuICAgICAgICAgICcgeTonICtcbiAgICAgICAgICBvZmZzZXQueSArXG4gICAgICAgICAgJyknXG4gICAgICApO1xuXG4gICAgICBpZiAod2luZG93LnRvcCAhPT0gd2luZG93LnNlbGYpIHtcbiAgICAgICAgc2Nyb2xsUGFyZW50KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXBvc2l0aW9uKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2Nyb2xsVG8oKSB7XG4gICAgICBpZiAoZmFsc2UgIT09IGNhbGxiYWNrKCdzY3JvbGxDYWxsYmFjaycsIHBhZ2VQb3NpdGlvbikpIHtcbiAgICAgICAgc2V0UGFnZVBvc2l0aW9uKGlmcmFtZUlkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVuc2V0UGFnZVBvc2l0aW9uKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmluZFRhcmdldChsb2NhdGlvbikge1xuICAgICAgZnVuY3Rpb24ganVtcFRvVGFyZ2V0KCkge1xuICAgICAgICB2YXIganVtcFBvc2l0aW9uID0gZ2V0RWxlbWVudFBvc2l0aW9uKHRhcmdldCk7XG5cbiAgICAgICAgbG9nKFxuICAgICAgICAgIGlmcmFtZUlkLFxuICAgICAgICAgICdNb3ZpbmcgdG8gaW4gcGFnZSBsaW5rICgjJyArXG4gICAgICAgICAgICBoYXNoICtcbiAgICAgICAgICAgICcpIGF0IHg6ICcgK1xuICAgICAgICAgICAganVtcFBvc2l0aW9uLnggK1xuICAgICAgICAgICAgJyB5OiAnICtcbiAgICAgICAgICAgIGp1bXBQb3NpdGlvbi55XG4gICAgICAgICk7XG4gICAgICAgIHBhZ2VQb3NpdGlvbiA9IHtcbiAgICAgICAgICB4OiBqdW1wUG9zaXRpb24ueCxcbiAgICAgICAgICB5OiBqdW1wUG9zaXRpb24ueVxuICAgICAgICB9O1xuXG4gICAgICAgIHNjcm9sbFRvKCk7XG4gICAgICAgIGxvZyhpZnJhbWVJZCwgJy0tJyk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGp1bXBUb1BhcmVudCgpIHtcbiAgICAgICAgaWYgKHdpbmRvdy5wYXJlbnRJRnJhbWUpIHtcbiAgICAgICAgICB3aW5kb3cucGFyZW50SUZyYW1lLm1vdmVUb0FuY2hvcihoYXNoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsb2coXG4gICAgICAgICAgICBpZnJhbWVJZCxcbiAgICAgICAgICAgICdJbiBwYWdlIGxpbmsgIycgK1xuICAgICAgICAgICAgICBoYXNoICtcbiAgICAgICAgICAgICAgJyBub3QgZm91bmQgYW5kIHdpbmRvdy5wYXJlbnRJRnJhbWUgbm90IGZvdW5kJ1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIGhhc2ggPSBsb2NhdGlvbi5zcGxpdCgnIycpWzFdIHx8ICcnLFxuICAgICAgICBoYXNoRGF0YSA9IGRlY29kZVVSSUNvbXBvbmVudChoYXNoKSxcbiAgICAgICAgdGFyZ2V0ID1cbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChoYXNoRGF0YSkgfHxcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShoYXNoRGF0YSlbMF07XG5cbiAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAganVtcFRvVGFyZ2V0KCk7XG4gICAgICB9IGVsc2UgaWYgKHdpbmRvdy50b3AgIT09IHdpbmRvdy5zZWxmKSB7XG4gICAgICAgIGp1bXBUb1BhcmVudCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9nKGlmcmFtZUlkLCAnSW4gcGFnZSBsaW5rICMnICsgaGFzaCArICcgbm90IGZvdW5kJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FsbGJhY2soZnVuY05hbWUsIHZhbCkge1xuICAgICAgcmV0dXJuIGNoa0NhbGxiYWNrKGlmcmFtZUlkLCBmdW5jTmFtZSwgdmFsKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhY3Rpb25Nc2coKSB7XG4gICAgICBpZiAoc2V0dGluZ3NbaWZyYW1lSWRdICYmIHNldHRpbmdzW2lmcmFtZUlkXS5maXJzdFJ1bikgZmlyc3RSdW4oKTtcblxuICAgICAgc3dpdGNoIChtZXNzYWdlRGF0YS50eXBlKSB7XG4gICAgICAgIGNhc2UgJ2Nsb3NlJzpcbiAgICAgICAgICBpZiAoc2V0dGluZ3NbaWZyYW1lSWRdLmNsb3NlUmVxdWVzdENhbGxiYWNrKVxuICAgICAgICAgICAgY2hrQ2FsbGJhY2soXG4gICAgICAgICAgICAgIGlmcmFtZUlkLFxuICAgICAgICAgICAgICAnY2xvc2VSZXF1ZXN0Q2FsbGJhY2snLFxuICAgICAgICAgICAgICBzZXR0aW5nc1tpZnJhbWVJZF0uaWZyYW1lXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGVsc2UgY2xvc2VJRnJhbWUobWVzc2FnZURhdGEuaWZyYW1lKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbWVzc2FnZSc6XG4gICAgICAgICAgZm9yd2FyZE1zZ0Zyb21JRnJhbWUoZ2V0TXNnQm9keSg2KSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3Njcm9sbFRvJzpcbiAgICAgICAgICBzY3JvbGxSZXF1ZXN0RnJvbUNoaWxkKGZhbHNlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnc2Nyb2xsVG9PZmZzZXQnOlxuICAgICAgICAgIHNjcm9sbFJlcXVlc3RGcm9tQ2hpbGQodHJ1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3BhZ2VJbmZvJzpcbiAgICAgICAgICBzZW5kUGFnZUluZm9Ub0lmcmFtZShcbiAgICAgICAgICAgIHNldHRpbmdzW2lmcmFtZUlkXSAmJiBzZXR0aW5nc1tpZnJhbWVJZF0uaWZyYW1lLFxuICAgICAgICAgICAgaWZyYW1lSWRcbiAgICAgICAgICApO1xuICAgICAgICAgIHN0YXJ0UGFnZUluZm9Nb25pdG9yKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3BhZ2VJbmZvU3RvcCc6XG4gICAgICAgICAgc3RvcFBhZ2VJbmZvTW9uaXRvcigpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdpblBhZ2VMaW5rJzpcbiAgICAgICAgICBmaW5kVGFyZ2V0KGdldE1zZ0JvZHkoOSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdyZXNldCc6XG4gICAgICAgICAgcmVzZXRJRnJhbWUobWVzc2FnZURhdGEpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdpbml0JzpcbiAgICAgICAgICByZXNpemVJRnJhbWUoKTtcbiAgICAgICAgICBjYWxsYmFjaygnaW5pdENhbGxiYWNrJywgbWVzc2FnZURhdGEuaWZyYW1lKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXNpemVJRnJhbWUoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYXNTZXR0aW5ncyhpZnJhbWVJZCkge1xuICAgICAgdmFyIHJldEJvb2wgPSB0cnVlO1xuXG4gICAgICBpZiAoIXNldHRpbmdzW2lmcmFtZUlkXSkge1xuICAgICAgICByZXRCb29sID0gZmFsc2U7XG4gICAgICAgIHdhcm4oXG4gICAgICAgICAgbWVzc2FnZURhdGEudHlwZSArXG4gICAgICAgICAgICAnIE5vIHNldHRpbmdzIGZvciAnICtcbiAgICAgICAgICAgIGlmcmFtZUlkICtcbiAgICAgICAgICAgICcuIE1lc3NhZ2Ugd2FzOiAnICtcbiAgICAgICAgICAgIG1zZ1xuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmV0Qm9vbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpRnJhbWVSZWFkeU1zZ1JlY2VpdmVkKCkge1xuICAgICAgZm9yICh2YXIgaWZyYW1lSWQgaW4gc2V0dGluZ3MpIHtcbiAgICAgICAgdHJpZ2dlcihcbiAgICAgICAgICAnaUZyYW1lIHJlcXVlc3RlZCBpbml0JyxcbiAgICAgICAgICBjcmVhdGVPdXRnb2luZ01zZyhpZnJhbWVJZCksXG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWZyYW1lSWQpLFxuICAgICAgICAgIGlmcmFtZUlkXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmlyc3RSdW4oKSB7XG4gICAgICBpZiAoc2V0dGluZ3NbaWZyYW1lSWRdKSB7XG4gICAgICAgIHNldHRpbmdzW2lmcmFtZUlkXS5maXJzdFJ1biA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsZWFyV2FybmluZ1RpbWVvdXQoKSB7XG4gICAgICBpZiAoc2V0dGluZ3NbaWZyYW1lSWRdKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChzZXR0aW5nc1tpZnJhbWVJZF0ubXNnVGltZW91dCk7XG4gICAgICAgIHNldHRpbmdzW2lmcmFtZUlkXS53YXJuaW5nVGltZW91dCA9IDA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIG1zZyA9IGV2ZW50LmRhdGEsXG4gICAgICBtZXNzYWdlRGF0YSA9IHt9LFxuICAgICAgaWZyYW1lSWQgPSBudWxsO1xuXG4gICAgaWYgKCdbaUZyYW1lUmVzaXplckNoaWxkXVJlYWR5JyA9PT0gbXNnKSB7XG4gICAgICBpRnJhbWVSZWFkeU1zZ1JlY2VpdmVkKCk7XG4gICAgfSBlbHNlIGlmIChpc01lc3NhZ2VGb3JVcygpKSB7XG4gICAgICBtZXNzYWdlRGF0YSA9IHByb2Nlc3NNc2coKTtcbiAgICAgIGlmcmFtZUlkID0gbG9nSWQgPSBtZXNzYWdlRGF0YS5pZDtcbiAgICAgIGlmIChzZXR0aW5nc1tpZnJhbWVJZF0pIHtcbiAgICAgICAgc2V0dGluZ3NbaWZyYW1lSWRdLmxvYWRlZCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNNZXNzYWdlRnJvbU1ldGFQYXJlbnQoKSAmJiBoYXNTZXR0aW5ncyhpZnJhbWVJZCkpIHtcbiAgICAgICAgbG9nKGlmcmFtZUlkLCAnUmVjZWl2ZWQ6ICcgKyBtc2cpO1xuXG4gICAgICAgIGlmIChjaGVja0lGcmFtZUV4aXN0cygpICYmIGlzTWVzc2FnZUZyb21JRnJhbWUoKSkge1xuICAgICAgICAgIGFjdGlvbk1zZygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGluZm8oaWZyYW1lSWQsICdJZ25vcmVkOiAnICsgbXNnKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjaGtDYWxsYmFjayhpZnJhbWVJZCwgZnVuY05hbWUsIHZhbCkge1xuICAgIHZhciBmdW5jID0gbnVsbCxcbiAgICAgIHJldFZhbCA9IG51bGw7XG5cbiAgICBpZiAoc2V0dGluZ3NbaWZyYW1lSWRdKSB7XG4gICAgICBmdW5jID0gc2V0dGluZ3NbaWZyYW1lSWRdW2Z1bmNOYW1lXTtcblxuICAgICAgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiBmdW5jKSB7XG4gICAgICAgIHJldFZhbCA9IGZ1bmModmFsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgZnVuY05hbWUgKyAnIG9uIGlGcmFtZVsnICsgaWZyYW1lSWQgKyAnXSBpcyBub3QgYSBmdW5jdGlvbidcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmV0VmFsO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlSWZyYW1lTGlzdGVuZXJzKGlmcmFtZSkge1xuICAgIHZhciBpZnJhbWVJZCA9IGlmcmFtZS5pZDtcbiAgICBkZWxldGUgc2V0dGluZ3NbaWZyYW1lSWRdO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2VJRnJhbWUoaWZyYW1lKSB7XG4gICAgdmFyIGlmcmFtZUlkID0gaWZyYW1lLmlkO1xuICAgIGxvZyhpZnJhbWVJZCwgJ1JlbW92aW5nIGlGcmFtZTogJyArIGlmcmFtZUlkKTtcblxuICAgIHRyeSB7XG4gICAgICAvLyBDYXRjaCByYWNlIGNvbmRpdGlvbiBlcnJvciB3aXRoIFJlYWN0XG4gICAgICBpZiAoaWZyYW1lLnBhcmVudE5vZGUpIHtcbiAgICAgICAgaWZyYW1lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaWZyYW1lKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7fVxuXG4gICAgY2hrQ2FsbGJhY2soaWZyYW1lSWQsICdjbG9zZWRDYWxsYmFjaycsIGlmcmFtZUlkKTtcbiAgICBsb2coaWZyYW1lSWQsICctLScpO1xuICAgIHJlbW92ZUlmcmFtZUxpc3RlbmVycyhpZnJhbWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UGFnZVBvc2l0aW9uKGlmcmFtZUlkKSB7XG4gICAgaWYgKG51bGwgPT09IHBhZ2VQb3NpdGlvbikge1xuICAgICAgcGFnZVBvc2l0aW9uID0ge1xuICAgICAgICB4OlxuICAgICAgICAgIHdpbmRvdy5wYWdlWE9mZnNldCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IHdpbmRvdy5wYWdlWE9mZnNldFxuICAgICAgICAgICAgOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCxcbiAgICAgICAgeTpcbiAgICAgICAgICB3aW5kb3cucGFnZVlPZmZzZXQgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyB3aW5kb3cucGFnZVlPZmZzZXRcbiAgICAgICAgICAgIDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcFxuICAgICAgfTtcbiAgICAgIGxvZyhcbiAgICAgICAgaWZyYW1lSWQsXG4gICAgICAgICdHZXQgcGFnZSBwb3NpdGlvbjogJyArIHBhZ2VQb3NpdGlvbi54ICsgJywnICsgcGFnZVBvc2l0aW9uLnlcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2V0UGFnZVBvc2l0aW9uKGlmcmFtZUlkKSB7XG4gICAgaWYgKG51bGwgIT09IHBhZ2VQb3NpdGlvbikge1xuICAgICAgd2luZG93LnNjcm9sbFRvKHBhZ2VQb3NpdGlvbi54LCBwYWdlUG9zaXRpb24ueSk7XG4gICAgICBsb2coXG4gICAgICAgIGlmcmFtZUlkLFxuICAgICAgICAnU2V0IHBhZ2UgcG9zaXRpb246ICcgKyBwYWdlUG9zaXRpb24ueCArICcsJyArIHBhZ2VQb3NpdGlvbi55XG4gICAgICApO1xuICAgICAgdW5zZXRQYWdlUG9zaXRpb24oKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1bnNldFBhZ2VQb3NpdGlvbigpIHtcbiAgICBwYWdlUG9zaXRpb24gPSBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRJRnJhbWUobWVzc2FnZURhdGEpIHtcbiAgICBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgIHNldFNpemUobWVzc2FnZURhdGEpO1xuICAgICAgdHJpZ2dlcigncmVzZXQnLCAncmVzZXQnLCBtZXNzYWdlRGF0YS5pZnJhbWUsIG1lc3NhZ2VEYXRhLmlkKTtcbiAgICB9XG5cbiAgICBsb2coXG4gICAgICBtZXNzYWdlRGF0YS5pZCxcbiAgICAgICdTaXplIHJlc2V0IHJlcXVlc3RlZCBieSAnICtcbiAgICAgICAgKCdpbml0JyA9PT0gbWVzc2FnZURhdGEudHlwZSA/ICdob3N0IHBhZ2UnIDogJ2lGcmFtZScpXG4gICAgKTtcbiAgICBnZXRQYWdlUG9zaXRpb24obWVzc2FnZURhdGEuaWQpO1xuICAgIHN5bmNSZXNpemUocmVzZXQsIG1lc3NhZ2VEYXRhLCAncmVzZXQnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFNpemUobWVzc2FnZURhdGEpIHtcbiAgICBmdW5jdGlvbiBzZXREaW1lbnNpb24oZGltZW5zaW9uKSB7XG4gICAgICBpZiAoIW1lc3NhZ2VEYXRhLmlkKSB7XG4gICAgICAgIGxvZygndW5kZWZpbmVkJywgJ21lc3NhZ2VEYXRhIGlkIG5vdCBzZXQnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbWVzc2FnZURhdGEuaWZyYW1lLnN0eWxlW2RpbWVuc2lvbl0gPSBtZXNzYWdlRGF0YVtkaW1lbnNpb25dICsgJ3B4JztcbiAgICAgIGxvZyhcbiAgICAgICAgbWVzc2FnZURhdGEuaWQsXG4gICAgICAgICdJRnJhbWUgKCcgK1xuICAgICAgICAgIGlmcmFtZUlkICtcbiAgICAgICAgICAnKSAnICtcbiAgICAgICAgICBkaW1lbnNpb24gK1xuICAgICAgICAgICcgc2V0IHRvICcgK1xuICAgICAgICAgIG1lc3NhZ2VEYXRhW2RpbWVuc2lvbl0gK1xuICAgICAgICAgICdweCdcbiAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2hrWmVybyhkaW1lbnNpb24pIHtcbiAgICAgIC8vRmlyZUZveCBzZXRzIGRpbWVuc2lvbiBvZiBoaWRkZW4gaUZyYW1lcyB0byB6ZXJvLlxuICAgICAgLy9TbyBpZiB3ZSBkZXRlY3QgdGhhdCBzZXQgdXAgYW4gZXZlbnQgdG8gY2hlY2sgZm9yXG4gICAgICAvL3doZW4gaUZyYW1lIGJlY29tZXMgdmlzaWJsZS5cblxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gLy9Ob3QgdGVzdGFibGUgaW4gUGhhbnRvbUpTXG4gICAgICBpZiAoIWhpZGRlbkNoZWNrRW5hYmxlZCAmJiAnMCcgPT09IG1lc3NhZ2VEYXRhW2RpbWVuc2lvbl0pIHtcbiAgICAgICAgaGlkZGVuQ2hlY2tFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgbG9nKGlmcmFtZUlkLCAnSGlkZGVuIGlGcmFtZSBkZXRlY3RlZCwgY3JlYXRpbmcgdmlzaWJpbGl0eSBsaXN0ZW5lcicpO1xuICAgICAgICBmaXhIaWRkZW5JRnJhbWVzKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc0RpbWVuc2lvbihkaW1lbnNpb24pIHtcbiAgICAgIHNldERpbWVuc2lvbihkaW1lbnNpb24pO1xuICAgICAgY2hrWmVybyhkaW1lbnNpb24pO1xuICAgIH1cblxuICAgIHZhciBpZnJhbWVJZCA9IG1lc3NhZ2VEYXRhLmlmcmFtZS5pZDtcblxuICAgIGlmIChzZXR0aW5nc1tpZnJhbWVJZF0pIHtcbiAgICAgIGlmIChzZXR0aW5nc1tpZnJhbWVJZF0uc2l6ZUhlaWdodCkge1xuICAgICAgICBwcm9jZXNzRGltZW5zaW9uKCdoZWlnaHQnKTtcbiAgICAgIH1cbiAgICAgIGlmIChzZXR0aW5nc1tpZnJhbWVJZF0uc2l6ZVdpZHRoKSB7XG4gICAgICAgIHByb2Nlc3NEaW1lbnNpb24oJ3dpZHRoJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc3luY1Jlc2l6ZShmdW5jLCBtZXNzYWdlRGF0YSwgZG9Ob3RTeW5jKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovIC8vTm90IHRlc3RhYmxlIGluIFBoYW50b21KU1xuICAgIGlmIChkb05vdFN5bmMgIT09IG1lc3NhZ2VEYXRhLnR5cGUgJiYgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB7XG4gICAgICBsb2cobWVzc2FnZURhdGEuaWQsICdSZXF1ZXN0aW5nIGFuaW1hdGlvbiBmcmFtZScpO1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmdW5jKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdHJpZ2dlcihjYWxsZWVNc2csIG1zZywgaWZyYW1lLCBpZCwgbm9SZXNwb25zZVdhcm5pbmcpIHtcbiAgICBmdW5jdGlvbiBwb3N0TWVzc2FnZVRvSUZyYW1lKCkge1xuICAgICAgdmFyIHRhcmdldCA9IHNldHRpbmdzW2lkXSAmJiBzZXR0aW5nc1tpZF0udGFyZ2V0T3JpZ2luO1xuICAgICAgbG9nKFxuICAgICAgICBpZCxcbiAgICAgICAgJ1snICtcbiAgICAgICAgICBjYWxsZWVNc2cgK1xuICAgICAgICAgICddIFNlbmRpbmcgbXNnIHRvIGlmcmFtZVsnICtcbiAgICAgICAgICBpZCArXG4gICAgICAgICAgJ10gKCcgK1xuICAgICAgICAgIG1zZyArXG4gICAgICAgICAgJykgdGFyZ2V0T3JpZ2luOiAnICtcbiAgICAgICAgICB0YXJnZXRcbiAgICAgICk7XG4gICAgICBpZnJhbWUuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZShtc2dJZCArIG1zZywgdGFyZ2V0KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpRnJhbWVOb3RGb3VuZCgpIHtcbiAgICAgIHdhcm4oaWQsICdbJyArIGNhbGxlZU1zZyArICddIElGcmFtZSgnICsgaWQgKyAnKSBub3QgZm91bmQnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjaGtBbmRTZW5kKCkge1xuICAgICAgaWYgKFxuICAgICAgICBpZnJhbWUgJiZcbiAgICAgICAgJ2NvbnRlbnRXaW5kb3cnIGluIGlmcmFtZSAmJlxuICAgICAgICBudWxsICE9PSBpZnJhbWUuY29udGVudFdpbmRvd1xuICAgICAgKSB7XG4gICAgICAgIC8vTnVsbCB0ZXN0IGZvciBQaGFudG9tSlNcbiAgICAgICAgcG9zdE1lc3NhZ2VUb0lGcmFtZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaUZyYW1lTm90Rm91bmQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB3YXJuT25Ob1Jlc3BvbnNlKCkge1xuICAgICAgZnVuY3Rpb24gd2FybmluZygpIHtcbiAgICAgICAgaWYgKHNldHRpbmdzW2lkXSAmJiAhc2V0dGluZ3NbaWRdLmxvYWRlZCAmJiAhZXJyb3JTaG93bikge1xuICAgICAgICAgIGVycm9yU2hvd24gPSB0cnVlO1xuICAgICAgICAgIHdhcm4oXG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICdJRnJhbWUgaGFzIG5vdCByZXNwb25kZWQgd2l0aGluICcgK1xuICAgICAgICAgICAgICBzZXR0aW5nc1tpZF0ud2FybmluZ1RpbWVvdXQgLyAxMDAwICtcbiAgICAgICAgICAgICAgJyBzZWNvbmRzLiBDaGVjayBpRnJhbWVSZXNpemVyLmNvbnRlbnRXaW5kb3cuanMgaGFzIGJlZW4gbG9hZGVkIGluIGlGcmFtZS4gVGhpcyBtZXNzYWdlIGNhbiBiZSBpZ25vcmVkIGlmIGV2ZXJ5dGhpbmcgaXMgd29ya2luZywgb3IgeW91IGNhbiBzZXQgdGhlIHdhcm5pbmdUaW1lb3V0IG9wdGlvbiB0byBhIGhpZ2hlciB2YWx1ZSBvciB6ZXJvIHRvIHN1cHByZXNzIHRoaXMgd2FybmluZy4nXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoXG4gICAgICAgICEhbm9SZXNwb25zZVdhcm5pbmcgJiZcbiAgICAgICAgc2V0dGluZ3NbaWRdICYmXG4gICAgICAgICEhc2V0dGluZ3NbaWRdLndhcm5pbmdUaW1lb3V0XG4gICAgICApIHtcbiAgICAgICAgc2V0dGluZ3NbaWRdLm1zZ1RpbWVvdXQgPSBzZXRUaW1lb3V0KFxuICAgICAgICAgIHdhcm5pbmcsXG4gICAgICAgICAgc2V0dGluZ3NbaWRdLndhcm5pbmdUaW1lb3V0XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGVycm9yU2hvd24gPSBmYWxzZTtcblxuICAgIGlkID0gaWQgfHwgaWZyYW1lLmlkO1xuXG4gICAgaWYgKHNldHRpbmdzW2lkXSkge1xuICAgICAgY2hrQW5kU2VuZCgpO1xuICAgICAgd2Fybk9uTm9SZXNwb25zZSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZU91dGdvaW5nTXNnKGlmcmFtZUlkKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIGlmcmFtZUlkICtcbiAgICAgICc6JyArXG4gICAgICBzZXR0aW5nc1tpZnJhbWVJZF0uYm9keU1hcmdpblYxICtcbiAgICAgICc6JyArXG4gICAgICBzZXR0aW5nc1tpZnJhbWVJZF0uc2l6ZVdpZHRoICtcbiAgICAgICc6JyArXG4gICAgICBzZXR0aW5nc1tpZnJhbWVJZF0ubG9nICtcbiAgICAgICc6JyArXG4gICAgICBzZXR0aW5nc1tpZnJhbWVJZF0uaW50ZXJ2YWwgK1xuICAgICAgJzonICtcbiAgICAgIHNldHRpbmdzW2lmcmFtZUlkXS5lbmFibGVQdWJsaWNNZXRob2RzICtcbiAgICAgICc6JyArXG4gICAgICBzZXR0aW5nc1tpZnJhbWVJZF0uYXV0b1Jlc2l6ZSArXG4gICAgICAnOicgK1xuICAgICAgc2V0dGluZ3NbaWZyYW1lSWRdLmJvZHlNYXJnaW4gK1xuICAgICAgJzonICtcbiAgICAgIHNldHRpbmdzW2lmcmFtZUlkXS5oZWlnaHRDYWxjdWxhdGlvbk1ldGhvZCArXG4gICAgICAnOicgK1xuICAgICAgc2V0dGluZ3NbaWZyYW1lSWRdLmJvZHlCYWNrZ3JvdW5kICtcbiAgICAgICc6JyArXG4gICAgICBzZXR0aW5nc1tpZnJhbWVJZF0uYm9keVBhZGRpbmcgK1xuICAgICAgJzonICtcbiAgICAgIHNldHRpbmdzW2lmcmFtZUlkXS50b2xlcmFuY2UgK1xuICAgICAgJzonICtcbiAgICAgIHNldHRpbmdzW2lmcmFtZUlkXS5pblBhZ2VMaW5rcyArXG4gICAgICAnOicgK1xuICAgICAgc2V0dGluZ3NbaWZyYW1lSWRdLnJlc2l6ZUZyb20gK1xuICAgICAgJzonICtcbiAgICAgIHNldHRpbmdzW2lmcmFtZUlkXS53aWR0aENhbGN1bGF0aW9uTWV0aG9kXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldHVwSUZyYW1lKGlmcmFtZSwgb3B0aW9ucykge1xuICAgIGZ1bmN0aW9uIHNldExpbWl0cygpIHtcbiAgICAgIGZ1bmN0aW9uIGFkZFN0eWxlKHN0eWxlKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBJbmZpbml0eSAhPT0gc2V0dGluZ3NbaWZyYW1lSWRdW3N0eWxlXSAmJlxuICAgICAgICAgIDAgIT09IHNldHRpbmdzW2lmcmFtZUlkXVtzdHlsZV1cbiAgICAgICAgKSB7XG4gICAgICAgICAgaWZyYW1lLnN0eWxlW3N0eWxlXSA9IHNldHRpbmdzW2lmcmFtZUlkXVtzdHlsZV0gKyAncHgnO1xuICAgICAgICAgIGxvZyhcbiAgICAgICAgICAgIGlmcmFtZUlkLFxuICAgICAgICAgICAgJ1NldCAnICsgc3R5bGUgKyAnID0gJyArIHNldHRpbmdzW2lmcmFtZUlkXVtzdHlsZV0gKyAncHgnXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjaGtNaW5NYXgoZGltZW5zaW9uKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBzZXR0aW5nc1tpZnJhbWVJZF1bJ21pbicgKyBkaW1lbnNpb25dID5cbiAgICAgICAgICBzZXR0aW5nc1tpZnJhbWVJZF1bJ21heCcgKyBkaW1lbnNpb25dXG4gICAgICAgICkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICdWYWx1ZSBmb3IgbWluJyArXG4gICAgICAgICAgICAgIGRpbWVuc2lvbiArXG4gICAgICAgICAgICAgICcgY2FuIG5vdCBiZSBncmVhdGVyIHRoYW4gbWF4JyArXG4gICAgICAgICAgICAgIGRpbWVuc2lvblxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY2hrTWluTWF4KCdIZWlnaHQnKTtcbiAgICAgIGNoa01pbk1heCgnV2lkdGgnKTtcblxuICAgICAgYWRkU3R5bGUoJ21heEhlaWdodCcpO1xuICAgICAgYWRkU3R5bGUoJ21pbkhlaWdodCcpO1xuICAgICAgYWRkU3R5bGUoJ21heFdpZHRoJyk7XG4gICAgICBhZGRTdHlsZSgnbWluV2lkdGgnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBuZXdJZCgpIHtcbiAgICAgIHZhciBpZCA9IChvcHRpb25zICYmIG9wdGlvbnMuaWQpIHx8IGRlZmF1bHRzLmlkICsgY291bnQrKztcbiAgICAgIGlmIChudWxsICE9PSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkpIHtcbiAgICAgICAgaWQgPSBpZCArIGNvdW50Kys7XG4gICAgICB9XG4gICAgICByZXR1cm4gaWQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZW5zdXJlSGFzSWQoaWZyYW1lSWQpIHtcbiAgICAgIGxvZ0lkID0gaWZyYW1lSWQ7XG4gICAgICBpZiAoJycgPT09IGlmcmFtZUlkKSB7XG4gICAgICAgIGlmcmFtZS5pZCA9IGlmcmFtZUlkID0gbmV3SWQoKTtcbiAgICAgICAgbG9nRW5hYmxlZCA9IChvcHRpb25zIHx8IHt9KS5sb2c7XG4gICAgICAgIGxvZ0lkID0gaWZyYW1lSWQ7XG4gICAgICAgIGxvZyhcbiAgICAgICAgICBpZnJhbWVJZCxcbiAgICAgICAgICAnQWRkZWQgbWlzc2luZyBpZnJhbWUgSUQ6ICcgKyBpZnJhbWVJZCArICcgKCcgKyBpZnJhbWUuc3JjICsgJyknXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpZnJhbWVJZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRTY3JvbGxpbmcoKSB7XG4gICAgICBsb2coXG4gICAgICAgIGlmcmFtZUlkLFxuICAgICAgICAnSUZyYW1lIHNjcm9sbGluZyAnICtcbiAgICAgICAgICAoc2V0dGluZ3NbaWZyYW1lSWRdICYmIHNldHRpbmdzW2lmcmFtZUlkXS5zY3JvbGxpbmdcbiAgICAgICAgICAgID8gJ2VuYWJsZWQnXG4gICAgICAgICAgICA6ICdkaXNhYmxlZCcpICtcbiAgICAgICAgICAnIGZvciAnICtcbiAgICAgICAgICBpZnJhbWVJZFxuICAgICAgKTtcbiAgICAgIGlmcmFtZS5zdHlsZS5vdmVyZmxvdyA9XG4gICAgICAgIGZhbHNlID09PSAoc2V0dGluZ3NbaWZyYW1lSWRdICYmIHNldHRpbmdzW2lmcmFtZUlkXS5zY3JvbGxpbmcpXG4gICAgICAgICAgPyAnaGlkZGVuJ1xuICAgICAgICAgIDogJ2F1dG8nO1xuICAgICAgc3dpdGNoIChzZXR0aW5nc1tpZnJhbWVJZF0gJiYgc2V0dGluZ3NbaWZyYW1lSWRdLnNjcm9sbGluZykge1xuICAgICAgICBjYXNlICdvbWl0JzpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSB0cnVlOlxuICAgICAgICAgIGlmcmFtZS5zY3JvbGxpbmcgPSAneWVzJztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBmYWxzZTpcbiAgICAgICAgICBpZnJhbWUuc2Nyb2xsaW5nID0gJ25vJztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZnJhbWUuc2Nyb2xsaW5nID0gc2V0dGluZ3NbaWZyYW1lSWRdXG4gICAgICAgICAgICA/IHNldHRpbmdzW2lmcmFtZUlkXS5zY3JvbGxpbmdcbiAgICAgICAgICAgIDogJ25vJztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvL1RoZSBWMSBpRnJhbWUgc2NyaXB0IGV4cGVjdHMgYW4gaW50LCB3aGVyZSBhcyBpbiBWMiBleHBlY3RzIGEgQ1NTXG4gICAgLy9zdHJpbmcgdmFsdWUgc3VjaCBhcyAnMXB4IDNlbScsIHNvIGlmIHdlIGhhdmUgYW4gaW50IGZvciBWMiwgc2V0IFYxPVYyXG4gICAgLy9hbmQgdGhlbiBjb252ZXJ0IFYyIHRvIGEgc3RyaW5nIFBYIHZhbHVlLlxuICAgIGZ1bmN0aW9uIHNldHVwQm9keU1hcmdpblZhbHVlcygpIHtcbiAgICAgIGlmIChcbiAgICAgICAgJ251bWJlcicgPT09XG4gICAgICAgICAgdHlwZW9mIChzZXR0aW5nc1tpZnJhbWVJZF0gJiYgc2V0dGluZ3NbaWZyYW1lSWRdLmJvZHlNYXJnaW4pIHx8XG4gICAgICAgICcwJyA9PT0gKHNldHRpbmdzW2lmcmFtZUlkXSAmJiBzZXR0aW5nc1tpZnJhbWVJZF0uYm9keU1hcmdpbilcbiAgICAgICkge1xuICAgICAgICBzZXR0aW5nc1tpZnJhbWVJZF0uYm9keU1hcmdpblYxID0gc2V0dGluZ3NbaWZyYW1lSWRdLmJvZHlNYXJnaW47XG4gICAgICAgIHNldHRpbmdzW2lmcmFtZUlkXS5ib2R5TWFyZ2luID1cbiAgICAgICAgICAnJyArIHNldHRpbmdzW2lmcmFtZUlkXS5ib2R5TWFyZ2luICsgJ3B4JztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjaGVja1Jlc2V0KCkge1xuICAgICAgLy8gUmVkdWNlIHNjb3BlIG9mIGZpcnN0UnVuIHRvIGZ1bmN0aW9uLCBiZWNhdXNlIElFOCdzIEpTIGV4ZWN1dGlvblxuICAgICAgLy8gY29udGV4dCBzdGFjayBpcyBib3JrZWQgYW5kIHRoaXMgdmFsdWUgZ2V0cyBleHRlcm5hbGx5XG4gICAgICAvLyBjaGFuZ2VkIG1pZHdheSB0aHJvdWdoIHJ1bm5pbmcgdGhpcyBmdW5jdGlvbiEhIVxuICAgICAgdmFyIGZpcnN0UnVuID0gc2V0dGluZ3NbaWZyYW1lSWRdICYmIHNldHRpbmdzW2lmcmFtZUlkXS5maXJzdFJ1bixcbiAgICAgICAgcmVzZXRSZXF1ZXJ0TWV0aG9kID1cbiAgICAgICAgICBzZXR0aW5nc1tpZnJhbWVJZF0gJiZcbiAgICAgICAgICBzZXR0aW5nc1tpZnJhbWVJZF0uaGVpZ2h0Q2FsY3VsYXRpb25NZXRob2QgaW4gcmVzZXRSZXF1aXJlZE1ldGhvZHM7XG5cbiAgICAgIGlmICghZmlyc3RSdW4gJiYgcmVzZXRSZXF1ZXJ0TWV0aG9kKSB7XG4gICAgICAgIHJlc2V0SUZyYW1lKHsgaWZyYW1lOiBpZnJhbWUsIGhlaWdodDogMCwgd2lkdGg6IDAsIHR5cGU6ICdpbml0JyB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXR1cElGcmFtZU9iamVjdCgpIHtcbiAgICAgIGlmIChGdW5jdGlvbi5wcm90b3R5cGUuYmluZCAmJiBzZXR0aW5nc1tpZnJhbWVJZF0pIHtcbiAgICAgICAgLy9JZ25vcmUgdW5wb2x5ZmlsbGVkIElFOC5cbiAgICAgICAgc2V0dGluZ3NbaWZyYW1lSWRdLmlmcmFtZS5pRnJhbWVSZXNpemVyID0ge1xuICAgICAgICAgIGNsb3NlOiBjbG9zZUlGcmFtZS5iaW5kKG51bGwsIHNldHRpbmdzW2lmcmFtZUlkXS5pZnJhbWUpLFxuXG4gICAgICAgICAgcmVtb3ZlTGlzdGVuZXJzOiByZW1vdmVJZnJhbWVMaXN0ZW5lcnMuYmluZChcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBzZXR0aW5nc1tpZnJhbWVJZF0uaWZyYW1lXG4gICAgICAgICAgKSxcblxuICAgICAgICAgIHJlc2l6ZTogdHJpZ2dlci5iaW5kKFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICdXaW5kb3cgcmVzaXplJyxcbiAgICAgICAgICAgICdyZXNpemUnLFxuICAgICAgICAgICAgc2V0dGluZ3NbaWZyYW1lSWRdLmlmcmFtZVxuICAgICAgICAgICksXG5cbiAgICAgICAgICBtb3ZlVG9BbmNob3I6IGZ1bmN0aW9uKGFuY2hvcikge1xuICAgICAgICAgICAgdHJpZ2dlcihcbiAgICAgICAgICAgICAgJ01vdmUgdG8gYW5jaG9yJyxcbiAgICAgICAgICAgICAgJ21vdmVUb0FuY2hvcjonICsgYW5jaG9yLFxuICAgICAgICAgICAgICBzZXR0aW5nc1tpZnJhbWVJZF0uaWZyYW1lLFxuICAgICAgICAgICAgICBpZnJhbWVJZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgc2VuZE1lc3NhZ2U6IGZ1bmN0aW9uKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBKU09OLnN0cmluZ2lmeShtZXNzYWdlKTtcbiAgICAgICAgICAgIHRyaWdnZXIoXG4gICAgICAgICAgICAgICdTZW5kIE1lc3NhZ2UnLFxuICAgICAgICAgICAgICAnbWVzc2FnZTonICsgbWVzc2FnZSxcbiAgICAgICAgICAgICAgc2V0dGluZ3NbaWZyYW1lSWRdLmlmcmFtZSxcbiAgICAgICAgICAgICAgaWZyYW1lSWRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vV2UgaGF2ZSB0byBjYWxsIHRyaWdnZXIgdHdpY2UsIGFzIHdlIGNhbiBub3QgYmUgc3VyZSBpZiBhbGxcbiAgICAvL2lmcmFtZXMgaGF2ZSBjb21wbGV0ZWQgbG9hZGluZyB3aGVuIHRoaXMgY29kZSBydW5zLiBUaGVcbiAgICAvL2V2ZW50IGxpc3RlbmVyIGFsc28gY2F0Y2hlcyB0aGUgcGFnZSBjaGFuZ2luZyBpbiB0aGUgaUZyYW1lLlxuICAgIGZ1bmN0aW9uIGluaXQobXNnKSB7XG4gICAgICBmdW5jdGlvbiBpRnJhbWVMb2FkZWQoKSB7XG4gICAgICAgIHRyaWdnZXIoJ2lGcmFtZS5vbmxvYWQnLCBtc2csIGlmcmFtZSwgdW5kZWZpbmVkLCB0cnVlKTtcbiAgICAgICAgY2hlY2tSZXNldCgpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjcmVhdGVEZXN0cm95T2JzZXJ2ZXIoTXV0YXRpb25PYnNlcnZlcikge1xuICAgICAgICBpZiAoIWlmcmFtZS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRlc3Ryb3lPYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uIChtdXRhdGlvbnMpIHtcbiAgICAgICAgICBtdXRhdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAobXV0YXRpb24pIHtcbiAgICAgICAgICAgIHZhciByZW1vdmVkTm9kZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChtdXRhdGlvbi5yZW1vdmVkTm9kZXMpOyAvLyBUcmFuc2Zvcm0gTm9kZUxpc3QgaW50byBhbiBBcnJheVxuICAgICAgICAgICAgcmVtb3ZlZE5vZGVzLmZvckVhY2goZnVuY3Rpb24gKHJlbW92ZWROb2RlKSB7XG4gICAgICAgICAgICAgIGlmIChyZW1vdmVkTm9kZSA9PT0gaWZyYW1lKSB7XG4gICAgICAgICAgICAgICAgY2xvc2VJRnJhbWUoaWZyYW1lKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBkZXN0cm95T2JzZXJ2ZXIub2JzZXJ2ZShpZnJhbWUucGFyZW50Tm9kZSwge1xuICAgICAgICAgIGNoaWxkTGlzdDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdmFyIE11dGF0aW9uT2JzZXJ2ZXIgPSBnZXRNdXRhdGlvbk9ic2VydmVyKCk7XG4gICAgICBpZiAoTXV0YXRpb25PYnNlcnZlcikge1xuICAgICAgICBjcmVhdGVEZXN0cm95T2JzZXJ2ZXIoTXV0YXRpb25PYnNlcnZlcik7XG4gICAgICB9XG5cbiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoaWZyYW1lLCAnbG9hZCcsIGlGcmFtZUxvYWRlZCk7XG4gICAgICB0cmlnZ2VyKCdpbml0JywgbXNnLCBpZnJhbWUsIHVuZGVmaW5lZCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2hlY2tPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgIGlmICgnb2JqZWN0JyAhPT0gdHlwZW9mIG9wdGlvbnMpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignT3B0aW9ucyBpcyBub3QgYW4gb2JqZWN0Jyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29weU9wdGlvbnMob3B0aW9ucykge1xuICAgICAgZm9yICh2YXIgb3B0aW9uIGluIGRlZmF1bHRzKSB7XG4gICAgICAgIGlmIChkZWZhdWx0cy5oYXNPd25Qcm9wZXJ0eShvcHRpb24pKSB7XG4gICAgICAgICAgc2V0dGluZ3NbaWZyYW1lSWRdW29wdGlvbl0gPSBvcHRpb25zLmhhc093blByb3BlcnR5KG9wdGlvbilcbiAgICAgICAgICAgID8gb3B0aW9uc1tvcHRpb25dXG4gICAgICAgICAgICA6IGRlZmF1bHRzW29wdGlvbl07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRUYXJnZXRPcmlnaW4ocmVtb3RlSG9zdCkge1xuICAgICAgcmV0dXJuICcnID09PSByZW1vdGVIb3N0IHx8ICdmaWxlOi8vJyA9PT0gcmVtb3RlSG9zdCA/ICcqJyA6IHJlbW90ZUhvc3Q7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc09wdGlvbnMob3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICBzZXR0aW5nc1tpZnJhbWVJZF0gPSB7XG4gICAgICAgIGZpcnN0UnVuOiB0cnVlLFxuICAgICAgICBpZnJhbWU6IGlmcmFtZSxcbiAgICAgICAgcmVtb3RlSG9zdDogaWZyYW1lLnNyY1xuICAgICAgICAgIC5zcGxpdCgnLycpXG4gICAgICAgICAgLnNsaWNlKDAsIDMpXG4gICAgICAgICAgLmpvaW4oJy8nKVxuICAgICAgfTtcblxuICAgICAgY2hlY2tPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgY29weU9wdGlvbnMob3B0aW9ucyk7XG5cbiAgICAgIGlmIChzZXR0aW5nc1tpZnJhbWVJZF0pIHtcbiAgICAgICAgc2V0dGluZ3NbaWZyYW1lSWRdLnRhcmdldE9yaWdpbiA9XG4gICAgICAgICAgdHJ1ZSA9PT0gc2V0dGluZ3NbaWZyYW1lSWRdLmNoZWNrT3JpZ2luXG4gICAgICAgICAgICA/IGdldFRhcmdldE9yaWdpbihzZXR0aW5nc1tpZnJhbWVJZF0ucmVtb3RlSG9zdClcbiAgICAgICAgICAgIDogJyonO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGJlZW5IZXJlKCkge1xuICAgICAgcmV0dXJuIGlmcmFtZUlkIGluIHNldHRpbmdzICYmICdpRnJhbWVSZXNpemVyJyBpbiBpZnJhbWU7XG4gICAgfVxuXG4gICAgdmFyIGlmcmFtZUlkID0gZW5zdXJlSGFzSWQoaWZyYW1lLmlkKTtcblxuICAgIGlmICghYmVlbkhlcmUoKSkge1xuICAgICAgcHJvY2Vzc09wdGlvbnMob3B0aW9ucyk7XG4gICAgICBzZXRTY3JvbGxpbmcoKTtcbiAgICAgIHNldExpbWl0cygpO1xuICAgICAgc2V0dXBCb2R5TWFyZ2luVmFsdWVzKCk7XG4gICAgICBpbml0KGNyZWF0ZU91dGdvaW5nTXNnKGlmcmFtZUlkKSk7XG4gICAgICBzZXR1cElGcmFtZU9iamVjdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3YXJuKGlmcmFtZUlkLCAnSWdub3JlZCBpRnJhbWUsIGFscmVhZHkgc2V0dXAuJyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZGVib3VjZShmbiwgdGltZSkge1xuICAgIGlmIChudWxsID09PSB0aW1lcikge1xuICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICB0aW1lciA9IG51bGw7XG4gICAgICAgIGZuKCk7XG4gICAgICB9LCB0aW1lKTtcbiAgICB9XG4gIH1cblxuICB2YXIgZnJhbWVUaW1lciA9IHt9O1xuICBmdW5jdGlvbiBkZWJvdW5jZUZyYW1lRXZlbnRzKGZuLCB0aW1lLCBmcmFtZUlkKSB7XG4gICAgaWYgKCFmcmFtZVRpbWVyW2ZyYW1lSWRdKSB7XG4gICAgICBmcmFtZVRpbWVyW2ZyYW1lSWRdID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgZnJhbWVUaW1lcltmcmFtZUlkXSA9IG51bGw7XG4gICAgICAgIGZuKCk7XG4gICAgICB9LCB0aW1lKTtcbiAgICB9XG4gIH0gLy9Ob3QgdGVzdGFibGUgaW4gUGhhbnRvbUpTXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gZnVuY3Rpb24gZml4SGlkZGVuSUZyYW1lcygpIHtcbiAgICBmdW5jdGlvbiBjaGVja0lGcmFtZXMoKSB7XG4gICAgICBmdW5jdGlvbiBjaGVja0lGcmFtZShzZXR0aW5nSWQpIHtcbiAgICAgICAgZnVuY3Rpb24gY2hrRGltZW5zaW9uKGRpbWVuc2lvbikge1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAnMHB4JyA9PT1cbiAgICAgICAgICAgIChzZXR0aW5nc1tzZXR0aW5nSWRdICYmIHNldHRpbmdzW3NldHRpbmdJZF0uaWZyYW1lLnN0eWxlW2RpbWVuc2lvbl0pXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGlzVmlzaWJsZShlbCkge1xuICAgICAgICAgIHJldHVybiBudWxsICE9PSBlbC5vZmZzZXRQYXJlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXG4gICAgICAgICAgc2V0dGluZ3Nbc2V0dGluZ0lkXSAmJlxuICAgICAgICAgIGlzVmlzaWJsZShzZXR0aW5nc1tzZXR0aW5nSWRdLmlmcmFtZSkgJiZcbiAgICAgICAgICAoY2hrRGltZW5zaW9uKCdoZWlnaHQnKSB8fCBjaGtEaW1lbnNpb24oJ3dpZHRoJykpXG4gICAgICAgICkge1xuICAgICAgICAgIHRyaWdnZXIoXG4gICAgICAgICAgICAnVmlzaWJpbGl0eSBjaGFuZ2UnLFxuICAgICAgICAgICAgJ3Jlc2l6ZScsXG4gICAgICAgICAgICBzZXR0aW5nc1tzZXR0aW5nSWRdLmlmcmFtZSxcbiAgICAgICAgICAgIHNldHRpbmdJZFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgc2V0dGluZ0lkIGluIHNldHRpbmdzKSB7XG4gICAgICAgIGNoZWNrSUZyYW1lKHNldHRpbmdJZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbXV0YXRpb25PYnNlcnZlZChtdXRhdGlvbnMpIHtcbiAgICAgIGxvZyhcbiAgICAgICAgJ3dpbmRvdycsXG4gICAgICAgICdNdXRhdGlvbiBvYnNlcnZlZDogJyArIG11dGF0aW9uc1swXS50YXJnZXQgKyAnICcgKyBtdXRhdGlvbnNbMF0udHlwZVxuICAgICAgKTtcbiAgICAgIGRlYm91Y2UoY2hlY2tJRnJhbWVzLCAxNik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlTXV0YXRpb25PYnNlcnZlcigpIHtcbiAgICAgIHZhciB0YXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JyksXG4gICAgICAgIGNvbmZpZyA9IHtcbiAgICAgICAgICBhdHRyaWJ1dGVzOiB0cnVlLFxuICAgICAgICAgIGF0dHJpYnV0ZU9sZFZhbHVlOiBmYWxzZSxcbiAgICAgICAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlLFxuICAgICAgICAgIGNoYXJhY3RlckRhdGFPbGRWYWx1ZTogZmFsc2UsXG4gICAgICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgICAgIHN1YnRyZWU6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihtdXRhdGlvbk9ic2VydmVkKTtcblxuICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZSh0YXJnZXQsIGNvbmZpZyk7XG4gICAgfVxuXG4gICAgdmFyIE11dGF0aW9uT2JzZXJ2ZXIgPSBnZXRNdXRhdGlvbk9ic2VydmVyKCk7XG4gICAgaWYgKE11dGF0aW9uT2JzZXJ2ZXIpIHtcbiAgICAgIGNyZWF0ZU11dGF0aW9uT2JzZXJ2ZXIoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZXNpemVJRnJhbWVzKGV2ZW50KSB7XG4gICAgZnVuY3Rpb24gcmVzaXplKCkge1xuICAgICAgc2VuZFRyaWdnZXJNc2coJ1dpbmRvdyAnICsgZXZlbnQsICdyZXNpemUnKTtcbiAgICB9XG5cbiAgICBsb2coJ3dpbmRvdycsICdUcmlnZ2VyIGV2ZW50OiAnICsgZXZlbnQpO1xuICAgIGRlYm91Y2UocmVzaXplLCAxNik7XG4gIH0gLy9Ob3QgdGVzdGFibGUgaW4gUGhhbnRvbUpTXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gZnVuY3Rpb24gdGFiVmlzaWJsZSgpIHtcbiAgICBmdW5jdGlvbiByZXNpemUoKSB7XG4gICAgICBzZW5kVHJpZ2dlck1zZygnVGFiIFZpc2FibGUnLCAncmVzaXplJyk7XG4gICAgfVxuXG4gICAgaWYgKCdoaWRkZW4nICE9PSBkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUpIHtcbiAgICAgIGxvZygnZG9jdW1lbnQnLCAnVHJpZ2dlciBldmVudDogVmlzaWJsaXR5IGNoYW5nZScpO1xuICAgICAgZGVib3VjZShyZXNpemUsIDE2KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZW5kVHJpZ2dlck1zZyhldmVudE5hbWUsIGV2ZW50KSB7XG4gICAgZnVuY3Rpb24gaXNJRnJhbWVSZXNpemVFbmFibGVkKGlmcmFtZUlkKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBzZXR0aW5nc1tpZnJhbWVJZF0gJiZcbiAgICAgICAgJ3BhcmVudCcgPT09IHNldHRpbmdzW2lmcmFtZUlkXS5yZXNpemVGcm9tICYmXG4gICAgICAgIHNldHRpbmdzW2lmcmFtZUlkXS5hdXRvUmVzaXplICYmXG4gICAgICAgICFzZXR0aW5nc1tpZnJhbWVJZF0uZmlyc3RSdW5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaWZyYW1lSWQgaW4gc2V0dGluZ3MpIHtcbiAgICAgIGlmIChpc0lGcmFtZVJlc2l6ZUVuYWJsZWQoaWZyYW1lSWQpKSB7XG4gICAgICAgIHRyaWdnZXIoZXZlbnROYW1lLCBldmVudCwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWZyYW1lSWQpLCBpZnJhbWVJZCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2V0dXBFdmVudExpc3RlbmVycygpIHtcbiAgICBhZGRFdmVudExpc3RlbmVyKHdpbmRvdywgJ21lc3NhZ2UnLCBpRnJhbWVMaXN0ZW5lcik7XG5cbiAgICBhZGRFdmVudExpc3RlbmVyKHdpbmRvdywgJ3Jlc2l6ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgcmVzaXplSUZyYW1lcygncmVzaXplJyk7XG4gICAgfSk7XG5cbiAgICBhZGRFdmVudExpc3RlbmVyKGRvY3VtZW50LCAndmlzaWJpbGl0eWNoYW5nZScsIHRhYlZpc2libGUpO1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsICctd2Via2l0LXZpc2liaWxpdHljaGFuZ2UnLCB0YWJWaXNpYmxlKTsgLy9BbmRyaW9kIDQuNFxuICAgIGFkZEV2ZW50TGlzdGVuZXIod2luZG93LCAnZm9jdXNpbicsIGZ1bmN0aW9uKCkge1xuICAgICAgcmVzaXplSUZyYW1lcygnZm9jdXMnKTtcbiAgICB9KTsgLy9JRTgtOVxuICAgIGFkZEV2ZW50TGlzdGVuZXIod2luZG93LCAnZm9jdXMnLCBmdW5jdGlvbigpIHtcbiAgICAgIHJlc2l6ZUlGcmFtZXMoJ2ZvY3VzJyk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBmYWN0b3J5KCkge1xuICAgIGZ1bmN0aW9uIGluaXQob3B0aW9ucywgZWxlbWVudCkge1xuICAgICAgZnVuY3Rpb24gY2hrVHlwZSgpIHtcbiAgICAgICAgaWYgKCFlbGVtZW50LnRhZ05hbWUpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3QgaXMgbm90IGEgdmFsaWQgRE9NIGVsZW1lbnQnKTtcbiAgICAgICAgfSBlbHNlIGlmICgnSUZSQU1FJyAhPT0gZWxlbWVudC50YWdOYW1lLnRvVXBwZXJDYXNlKCkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgICAgJ0V4cGVjdGVkIDxJRlJBTUU+IHRhZywgZm91bmQgPCcgKyBlbGVtZW50LnRhZ05hbWUgKyAnPidcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgIGNoa1R5cGUoKTtcbiAgICAgICAgc2V0dXBJRnJhbWUoZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgICAgIGlGcmFtZXMucHVzaChlbGVtZW50KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB3YXJuRGVwcmVjYXRlZE9wdGlvbnMob3B0aW9ucykge1xuICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5lbmFibGVQdWJsaWNNZXRob2RzKSB7XG4gICAgICAgIHdhcm4oXG4gICAgICAgICAgJ2VuYWJsZVB1YmxpY01ldGhvZHMgb3B0aW9uIGhhcyBiZWVuIHJlbW92ZWQsIHB1YmxpYyBtZXRob2RzIGFyZSBub3cgYWx3YXlzIGF2YWlsYWJsZSBpbiB0aGUgaUZyYW1lJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBpRnJhbWVzO1xuXG4gICAgc2V0dXBSZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKTtcbiAgICBzZXR1cEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gaUZyYW1lUmVzaXplRihvcHRpb25zLCB0YXJnZXQpIHtcbiAgICAgIGlGcmFtZXMgPSBbXTsgLy9Pbmx5IHJldHVybiBpRnJhbWVzIHBhc3QgaW4gb24gdGhpcyBjYWxsXG5cbiAgICAgIHdhcm5EZXByZWNhdGVkT3B0aW9ucyhvcHRpb25zKTtcblxuICAgICAgc3dpdGNoICh0eXBlb2YgdGFyZ2V0KSB7XG4gICAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGFyZ2V0IHx8ICdpZnJhbWUnKSxcbiAgICAgICAgICAgIGluaXQuYmluZCh1bmRlZmluZWQsIG9wdGlvbnMpXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICBpbml0KG9wdGlvbnMsIHRhcmdldCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5leHBlY3RlZCBkYXRhIHR5cGUgKCcgKyB0eXBlb2YgdGFyZ2V0ICsgJyknKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGlGcmFtZXM7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUpRdWVyeVB1YmxpY01ldGhvZCgkKSB7XG4gICAgaWYgKCEkLmZuKSB7XG4gICAgICBpbmZvKCcnLCAnVW5hYmxlIHRvIGJpbmQgdG8galF1ZXJ5LCBpdCBpcyBub3QgZnVsbHkgbG9hZGVkLicpO1xuICAgIH0gZWxzZSBpZiAoISQuZm4uaUZyYW1lUmVzaXplKSB7XG4gICAgICAkLmZuLmlGcmFtZVJlc2l6ZSA9IGZ1bmN0aW9uICRpRnJhbWVSZXNpemVGKG9wdGlvbnMpIHtcbiAgICAgICAgZnVuY3Rpb24gaW5pdChpbmRleCwgZWxlbWVudCkge1xuICAgICAgICAgIHNldHVwSUZyYW1lKGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyKCdpZnJhbWUnKVxuICAgICAgICAgIC5lYWNoKGluaXQpXG4gICAgICAgICAgLmVuZCgpO1xuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICBpZiAod2luZG93LmpRdWVyeSkge1xuICAgIGNyZWF0ZUpRdWVyeVB1YmxpY01ldGhvZCh3aW5kb3cualF1ZXJ5KTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoW10sIGZhY3RvcnkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAvL05vZGUgZm9yIGJyb3dzZXJmeVxuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9XG4gIHdpbmRvdy5pRnJhbWVSZXNpemUgPSB3aW5kb3cuaUZyYW1lUmVzaXplIHx8IGZhY3RvcnkoKTtcbn0pKCk7XG4iLCJleHBvcnRzLmlmcmFtZVJlc2l6ZXIgPSByZXF1aXJlKCcuL2lmcmFtZVJlc2l6ZXInKTtcbmV4cG9ydHMuaWZyYW1lUmVzaXplckNvbnRlbnRXaW5kb3cgPSByZXF1aXJlKCcuL2lmcmFtZVJlc2l6ZXIuY29udGVudFdpbmRvdycpO1xuIiwiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoeCkge1xuXHR2YXIgdHlwZSA9IHR5cGVvZiB4O1xuXHRyZXR1cm4geCAhPT0gbnVsbCAmJiAodHlwZSA9PT0gJ29iamVjdCcgfHwgdHlwZSA9PT0gJ2Z1bmN0aW9uJyk7XG59O1xuIiwiLyohXG4gKiBKYXZhU2NyaXB0IENvb2tpZSB2Mi4yLjFcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qcy1jb29raWUvanMtY29va2llXG4gKlxuICogQ29weXJpZ2h0IDIwMDYsIDIwMTUgS2xhdXMgSGFydGwgJiBGYWduZXIgQnJhY2tcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICovXG47KGZ1bmN0aW9uIChmYWN0b3J5KSB7XG5cdHZhciByZWdpc3RlcmVkSW5Nb2R1bGVMb2FkZXI7XG5cdGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcblx0XHRkZWZpbmUoZmFjdG9yeSk7XG5cdFx0cmVnaXN0ZXJlZEluTW9kdWxlTG9hZGVyID0gdHJ1ZTtcblx0fVxuXHRpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdFx0cmVnaXN0ZXJlZEluTW9kdWxlTG9hZGVyID0gdHJ1ZTtcblx0fVxuXHRpZiAoIXJlZ2lzdGVyZWRJbk1vZHVsZUxvYWRlcikge1xuXHRcdHZhciBPbGRDb29raWVzID0gd2luZG93LkNvb2tpZXM7XG5cdFx0dmFyIGFwaSA9IHdpbmRvdy5Db29raWVzID0gZmFjdG9yeSgpO1xuXHRcdGFwaS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0d2luZG93LkNvb2tpZXMgPSBPbGRDb29raWVzO1xuXHRcdFx0cmV0dXJuIGFwaTtcblx0XHR9O1xuXHR9XG59KGZ1bmN0aW9uICgpIHtcblx0ZnVuY3Rpb24gZXh0ZW5kICgpIHtcblx0XHR2YXIgaSA9IDA7XG5cdFx0dmFyIHJlc3VsdCA9IHt9O1xuXHRcdGZvciAoOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgYXR0cmlidXRlcyA9IGFyZ3VtZW50c1sgaSBdO1xuXHRcdFx0Zm9yICh2YXIga2V5IGluIGF0dHJpYnV0ZXMpIHtcblx0XHRcdFx0cmVzdWx0W2tleV0gPSBhdHRyaWJ1dGVzW2tleV07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHRmdW5jdGlvbiBkZWNvZGUgKHMpIHtcblx0XHRyZXR1cm4gcy5yZXBsYWNlKC8oJVswLTlBLVpdezJ9KSsvZywgZGVjb2RlVVJJQ29tcG9uZW50KTtcblx0fVxuXG5cdGZ1bmN0aW9uIGluaXQgKGNvbnZlcnRlcikge1xuXHRcdGZ1bmN0aW9uIGFwaSgpIHt9XG5cblx0XHRmdW5jdGlvbiBzZXQgKGtleSwgdmFsdWUsIGF0dHJpYnV0ZXMpIHtcblx0XHRcdGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0YXR0cmlidXRlcyA9IGV4dGVuZCh7XG5cdFx0XHRcdHBhdGg6ICcvJ1xuXHRcdFx0fSwgYXBpLmRlZmF1bHRzLCBhdHRyaWJ1dGVzKTtcblxuXHRcdFx0aWYgKHR5cGVvZiBhdHRyaWJ1dGVzLmV4cGlyZXMgPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdGF0dHJpYnV0ZXMuZXhwaXJlcyA9IG5ldyBEYXRlKG5ldyBEYXRlKCkgKiAxICsgYXR0cmlidXRlcy5leHBpcmVzICogODY0ZSs1KTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gV2UncmUgdXNpbmcgXCJleHBpcmVzXCIgYmVjYXVzZSBcIm1heC1hZ2VcIiBpcyBub3Qgc3VwcG9ydGVkIGJ5IElFXG5cdFx0XHRhdHRyaWJ1dGVzLmV4cGlyZXMgPSBhdHRyaWJ1dGVzLmV4cGlyZXMgPyBhdHRyaWJ1dGVzLmV4cGlyZXMudG9VVENTdHJpbmcoKSA6ICcnO1xuXG5cdFx0XHR0cnkge1xuXHRcdFx0XHR2YXIgcmVzdWx0ID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuXHRcdFx0XHRpZiAoL15bXFx7XFxbXS8udGVzdChyZXN1bHQpKSB7XG5cdFx0XHRcdFx0dmFsdWUgPSByZXN1bHQ7XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2ggKGUpIHt9XG5cblx0XHRcdHZhbHVlID0gY29udmVydGVyLndyaXRlID9cblx0XHRcdFx0Y29udmVydGVyLndyaXRlKHZhbHVlLCBrZXkpIDpcblx0XHRcdFx0ZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyh2YWx1ZSkpXG5cdFx0XHRcdFx0LnJlcGxhY2UoLyUoMjN8MjR8MjZ8MkJ8M0F8M0N8M0V8M0R8MkZ8M0Z8NDB8NUJ8NUR8NUV8NjB8N0J8N0R8N0MpL2csIGRlY29kZVVSSUNvbXBvbmVudCk7XG5cblx0XHRcdGtleSA9IGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoa2V5KSlcblx0XHRcdFx0LnJlcGxhY2UoLyUoMjN8MjR8MjZ8MkJ8NUV8NjB8N0MpL2csIGRlY29kZVVSSUNvbXBvbmVudClcblx0XHRcdFx0LnJlcGxhY2UoL1tcXChcXCldL2csIGVzY2FwZSk7XG5cblx0XHRcdHZhciBzdHJpbmdpZmllZEF0dHJpYnV0ZXMgPSAnJztcblx0XHRcdGZvciAodmFyIGF0dHJpYnV0ZU5hbWUgaW4gYXR0cmlidXRlcykge1xuXHRcdFx0XHRpZiAoIWF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0pIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRzdHJpbmdpZmllZEF0dHJpYnV0ZXMgKz0gJzsgJyArIGF0dHJpYnV0ZU5hbWU7XG5cdFx0XHRcdGlmIChhdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdID09PSB0cnVlKSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBDb25zaWRlcnMgUkZDIDYyNjUgc2VjdGlvbiA1LjI6XG5cdFx0XHRcdC8vIC4uLlxuXHRcdFx0XHQvLyAzLiAgSWYgdGhlIHJlbWFpbmluZyB1bnBhcnNlZC1hdHRyaWJ1dGVzIGNvbnRhaW5zIGEgJXgzQiAoXCI7XCIpXG5cdFx0XHRcdC8vICAgICBjaGFyYWN0ZXI6XG5cdFx0XHRcdC8vIENvbnN1bWUgdGhlIGNoYXJhY3RlcnMgb2YgdGhlIHVucGFyc2VkLWF0dHJpYnV0ZXMgdXAgdG8sXG5cdFx0XHRcdC8vIG5vdCBpbmNsdWRpbmcsIHRoZSBmaXJzdCAleDNCIChcIjtcIikgY2hhcmFjdGVyLlxuXHRcdFx0XHQvLyAuLi5cblx0XHRcdFx0c3RyaW5naWZpZWRBdHRyaWJ1dGVzICs9ICc9JyArIGF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0uc3BsaXQoJzsnKVswXTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIChkb2N1bWVudC5jb29raWUgPSBrZXkgKyAnPScgKyB2YWx1ZSArIHN0cmluZ2lmaWVkQXR0cmlidXRlcyk7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gZ2V0IChrZXksIGpzb24pIHtcblx0XHRcdGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGphciA9IHt9O1xuXHRcdFx0Ly8gVG8gcHJldmVudCB0aGUgZm9yIGxvb3AgaW4gdGhlIGZpcnN0IHBsYWNlIGFzc2lnbiBhbiBlbXB0eSBhcnJheVxuXHRcdFx0Ly8gaW4gY2FzZSB0aGVyZSBhcmUgbm8gY29va2llcyBhdCBhbGwuXG5cdFx0XHR2YXIgY29va2llcyA9IGRvY3VtZW50LmNvb2tpZSA/IGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOyAnKSA6IFtdO1xuXHRcdFx0dmFyIGkgPSAwO1xuXG5cdFx0XHRmb3IgKDsgaSA8IGNvb2tpZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0dmFyIHBhcnRzID0gY29va2llc1tpXS5zcGxpdCgnPScpO1xuXHRcdFx0XHR2YXIgY29va2llID0gcGFydHMuc2xpY2UoMSkuam9pbignPScpO1xuXG5cdFx0XHRcdGlmICghanNvbiAmJiBjb29raWUuY2hhckF0KDApID09PSAnXCInKSB7XG5cdFx0XHRcdFx0Y29va2llID0gY29va2llLnNsaWNlKDEsIC0xKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0dmFyIG5hbWUgPSBkZWNvZGUocGFydHNbMF0pO1xuXHRcdFx0XHRcdGNvb2tpZSA9IChjb252ZXJ0ZXIucmVhZCB8fCBjb252ZXJ0ZXIpKGNvb2tpZSwgbmFtZSkgfHxcblx0XHRcdFx0XHRcdGRlY29kZShjb29raWUpO1xuXG5cdFx0XHRcdFx0aWYgKGpzb24pIHtcblx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdGNvb2tpZSA9IEpTT04ucGFyc2UoY29va2llKTtcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKGUpIHt9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0amFyW25hbWVdID0gY29va2llO1xuXG5cdFx0XHRcdFx0aWYgKGtleSA9PT0gbmFtZSkge1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGNhdGNoIChlKSB7fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4ga2V5ID8gamFyW2tleV0gOiBqYXI7XG5cdFx0fVxuXG5cdFx0YXBpLnNldCA9IHNldDtcblx0XHRhcGkuZ2V0ID0gZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0cmV0dXJuIGdldChrZXksIGZhbHNlIC8qIHJlYWQgYXMgcmF3ICovKTtcblx0XHR9O1xuXHRcdGFwaS5nZXRKU09OID0gZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0cmV0dXJuIGdldChrZXksIHRydWUgLyogcmVhZCBhcyBqc29uICovKTtcblx0XHR9O1xuXHRcdGFwaS5yZW1vdmUgPSBmdW5jdGlvbiAoa2V5LCBhdHRyaWJ1dGVzKSB7XG5cdFx0XHRzZXQoa2V5LCAnJywgZXh0ZW5kKGF0dHJpYnV0ZXMsIHtcblx0XHRcdFx0ZXhwaXJlczogLTFcblx0XHRcdH0pKTtcblx0XHR9O1xuXG5cdFx0YXBpLmRlZmF1bHRzID0ge307XG5cblx0XHRhcGkud2l0aENvbnZlcnRlciA9IGluaXQ7XG5cblx0XHRyZXR1cm4gYXBpO1xuXHR9XG5cblx0cmV0dXJuIGluaXQoZnVuY3Rpb24gKCkge30pO1xufSkpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5leHBvcnRzLmhhc0Nvb2tpZXMgPSBoYXNDb29raWVzO1xuXG52YXIgX2Nvb2tpZSA9IHJlcXVpcmUoJ2Nvb2tpZScpO1xuXG52YXIgX2Nvb2tpZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb29raWUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgcHJlZml4ID0gJ2xTXyc7XG5cbnZhciBDb29raWVTdG9yYWdlID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBDb29raWVTdG9yYWdlKCkge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb29raWVTdG9yYWdlKTtcblxuICAgIHRoaXMuY29va2llT3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oeyBwYXRoOiAnLycgfSwgb3B0aW9ucyk7XG4gICAgcHJlZml4ID0gb3B0aW9ucy5wcmVmaXggPT09IHVuZGVmaW5lZCA/IHByZWZpeCA6IG9wdGlvbnMucHJlZml4O1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENvb2tpZVN0b3JhZ2UsIFt7XG4gICAga2V5OiAnZ2V0SXRlbScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEl0ZW0oa2V5KSB7XG4gICAgICB2YXIgY29va2llcyA9IF9jb29raWUyLmRlZmF1bHQucGFyc2UoZG9jdW1lbnQuY29va2llKTtcbiAgICAgIGlmICghY29va2llcyB8fCAhY29va2llcy5oYXNPd25Qcm9wZXJ0eShwcmVmaXggKyBrZXkpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvb2tpZXNbcHJlZml4ICsga2V5XTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzZXRJdGVtJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0SXRlbShrZXksIHZhbHVlKSB7XG4gICAgICBkb2N1bWVudC5jb29raWUgPSBfY29va2llMi5kZWZhdWx0LnNlcmlhbGl6ZShwcmVmaXggKyBrZXksIHZhbHVlLCB0aGlzLmNvb2tpZU9wdGlvbnMpO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbW92ZUl0ZW0nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVJdGVtKGtleSkge1xuICAgICAgdmFyIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmNvb2tpZU9wdGlvbnMsIHsgbWF4QWdlOiAtMSB9KTtcbiAgICAgIGRvY3VtZW50LmNvb2tpZSA9IF9jb29raWUyLmRlZmF1bHQuc2VyaWFsaXplKHByZWZpeCArIGtleSwgJycsIG9wdGlvbnMpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY2xlYXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICAgIHZhciBjb29raWVzID0gX2Nvb2tpZTIuZGVmYXVsdC5wYXJzZShkb2N1bWVudC5jb29raWUpO1xuICAgICAgZm9yICh2YXIga2V5IGluIGNvb2tpZXMpIHtcbiAgICAgICAgaWYgKGtleS5pbmRleE9mKHByZWZpeCkgPT09IDApIHtcbiAgICAgICAgICB0aGlzLnJlbW92ZUl0ZW0oa2V5LnN1YnN0cihwcmVmaXgubGVuZ3RoKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENvb2tpZVN0b3JhZ2U7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IENvb2tpZVN0b3JhZ2U7XG5mdW5jdGlvbiBoYXNDb29raWVzKCkge1xuICB2YXIgc3RvcmFnZSA9IG5ldyBDb29raWVTdG9yYWdlKCk7XG5cbiAgdHJ5IHtcbiAgICB2YXIgVEVTVF9LRVkgPSAnX190ZXN0JztcbiAgICBzdG9yYWdlLnNldEl0ZW0oVEVTVF9LRVksICcxJyk7XG4gICAgdmFyIHZhbHVlID0gc3RvcmFnZS5nZXRJdGVtKFRFU1RfS0VZKTtcbiAgICBzdG9yYWdlLnJlbW92ZUl0ZW0oVEVTVF9LRVkpO1xuXG4gICAgcmV0dXJuIHZhbHVlID09PSAnMSc7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIE1lbW9yeVN0b3JhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE1lbW9yeVN0b3JhZ2UoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1lbW9yeVN0b3JhZ2UpO1xuXG4gICAgdGhpcy5fZGF0YSA9IHt9O1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE1lbW9yeVN0b3JhZ2UsIFt7XG4gICAga2V5OiBcImdldEl0ZW1cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SXRlbShrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9kYXRhLmhhc093blByb3BlcnR5KGtleSkgPyB0aGlzLl9kYXRhW2tleV0gOiBudWxsO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZXRJdGVtXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldEl0ZW0oa2V5LCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2RhdGFba2V5XSA9IFN0cmluZyh2YWx1ZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZUl0ZW1cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlSXRlbShrZXkpIHtcbiAgICAgIHJldHVybiBkZWxldGUgdGhpcy5fZGF0YVtrZXldO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjbGVhclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9kYXRhID0ge307XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE1lbW9yeVN0b3JhZ2U7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IE1lbW9yeVN0b3JhZ2U7IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5NZW1vcnlTdG9yYWdlID0gZXhwb3J0cy5Db29raWVTdG9yYWdlID0gZXhwb3J0cy5pc1N1cHBvcnRlZCA9IGV4cG9ydHMuc3RvcmFnZSA9IHVuZGVmaW5lZDtcblxudmFyIF9pc1N1cHBvcnRlZCA9IHJlcXVpcmUoJy4vaXNTdXBwb3J0ZWQnKTtcblxudmFyIF9pc1N1cHBvcnRlZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc1N1cHBvcnRlZCk7XG5cbnZhciBfQ29va2llU3RvcmFnZSA9IHJlcXVpcmUoJy4vQ29va2llU3RvcmFnZScpO1xuXG52YXIgX0Nvb2tpZVN0b3JhZ2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29va2llU3RvcmFnZSk7XG5cbnZhciBfTWVtb3J5U3RvcmFnZSA9IHJlcXVpcmUoJy4vTWVtb3J5U3RvcmFnZScpO1xuXG52YXIgX01lbW9yeVN0b3JhZ2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWVtb3J5U3RvcmFnZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBzdG9yYWdlID0gbnVsbDtcblxuaWYgKCgwLCBfaXNTdXBwb3J0ZWQyLmRlZmF1bHQpKCdsb2NhbFN0b3JhZ2UnKSkge1xuICAvLyB1c2UgbG9jYWxTdG9yYWdlXG4gIGV4cG9ydHMuc3RvcmFnZSA9IHN0b3JhZ2UgPSB3aW5kb3cubG9jYWxTdG9yYWdlO1xufSBlbHNlIGlmICgoMCwgX2lzU3VwcG9ydGVkMi5kZWZhdWx0KSgnc2Vzc2lvblN0b3JhZ2UnKSkge1xuICAvLyB1c2Ugc2Vzc2lvblN0b3JhZ2VcbiAgZXhwb3J0cy5zdG9yYWdlID0gc3RvcmFnZSA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZTtcbn0gZWxzZSBpZiAoKDAsIF9pc1N1cHBvcnRlZDIuZGVmYXVsdCkoJ2Nvb2tpZVN0b3JhZ2UnKSkge1xuICAvLyB1c2UgY29va2llc1xuICBleHBvcnRzLnN0b3JhZ2UgPSBzdG9yYWdlID0gbmV3IF9Db29raWVTdG9yYWdlMi5kZWZhdWx0KCk7XG59IGVsc2Uge1xuICAvLyB1c2UgbWVtb3J5XG4gIGV4cG9ydHMuc3RvcmFnZSA9IHN0b3JhZ2UgPSBuZXcgX01lbW9yeVN0b3JhZ2UyLmRlZmF1bHQoKTtcbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gc3RvcmFnZTtcbmV4cG9ydHMuc3RvcmFnZSA9IHN0b3JhZ2U7XG5leHBvcnRzLmlzU3VwcG9ydGVkID0gX2lzU3VwcG9ydGVkMi5kZWZhdWx0O1xuZXhwb3J0cy5Db29raWVTdG9yYWdlID0gX0Nvb2tpZVN0b3JhZ2UyLmRlZmF1bHQ7XG5leHBvcnRzLk1lbW9yeVN0b3JhZ2UgPSBfTWVtb3J5U3RvcmFnZTIuZGVmYXVsdDsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBpc1N1cHBvcnRlZDtcblxudmFyIF9Db29raWVTdG9yYWdlID0gcmVxdWlyZSgnLi9Db29raWVTdG9yYWdlJyk7XG5cbnZhciBURVNUX0tFWSA9ICdfX3Rlc3QnO1xuXG5mdW5jdGlvbiBoYXNTdG9yYWdlKG5hbWUpIHtcbiAgdHJ5IHtcbiAgICB2YXIgc3RvcmFnZSA9IHdpbmRvd1tuYW1lXTtcbiAgICBzdG9yYWdlLnNldEl0ZW0oVEVTVF9LRVksICcxJyk7XG4gICAgc3RvcmFnZS5yZW1vdmVJdGVtKFRFU1RfS0VZKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc1N1cHBvcnRlZCgpIHtcbiAgdmFyIG5hbWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICdsb2NhbFN0b3JhZ2UnO1xuXG4gIHZhciBzdG9yYWdlID0gU3RyaW5nKG5hbWUpLnJlcGxhY2UoL3N0b3JhZ2UkL2ksICcnKS50b0xvd2VyQ2FzZSgpO1xuXG4gIGlmIChzdG9yYWdlID09PSAnbG9jYWwnKSB7XG4gICAgcmV0dXJuIGhhc1N0b3JhZ2UoJ2xvY2FsU3RvcmFnZScpO1xuICB9XG5cbiAgaWYgKHN0b3JhZ2UgPT09ICdzZXNzaW9uJykge1xuICAgIHJldHVybiBoYXNTdG9yYWdlKCdzZXNzaW9uU3RvcmFnZScpO1xuICB9XG5cbiAgaWYgKHN0b3JhZ2UgPT09ICdjb29raWUnKSB7XG4gICAgcmV0dXJuICgwLCBfQ29va2llU3RvcmFnZS5oYXNDb29raWVzKSgpO1xuICB9XG5cbiAgaWYgKHN0b3JhZ2UgPT09ICdtZW1vcnknKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICB0aHJvdyBuZXcgRXJyb3IoJ1N0b3JhZ2UgbWV0aG9kIGAnICsgbmFtZSArICdgIGlzIG5vdCBhdmFpbGFibGUuXFxuICAgIFBsZWFzZSB1c2Ugb25lIG9mIHRoZSBmb2xsb3dpbmc6IGxvY2FsU3RvcmFnZSwgc2Vzc2lvblN0b3JhZ2UsIGNvb2tpZVN0b3JhZ2UsIG1lbW9yeVN0b3JhZ2UuJyk7XG59IiwiLyoqXG4gKiBsb2Rhc2ggKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL2pxdWVyeS5vcmcvPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG5cbi8qKiBVc2VkIGFzIHRoZSBgVHlwZUVycm9yYCBtZXNzYWdlIGZvciBcIkZ1bmN0aW9uc1wiIG1ldGhvZHMuICovXG52YXIgRlVOQ19FUlJPUl9URVhUID0gJ0V4cGVjdGVkIGEgZnVuY3Rpb24nO1xuXG4vKiogVXNlZCB0byBzdGFuZC1pbiBmb3IgYHVuZGVmaW5lZGAgaGFzaCB2YWx1ZXMuICovXG52YXIgSEFTSF9VTkRFRklORUQgPSAnX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyc7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICBnZW5UYWcgPSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nO1xuXG4vKipcbiAqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGBcbiAqIFtzeW50YXggY2hhcmFjdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcGF0dGVybnMpLlxuICovXG52YXIgcmVSZWdFeHBDaGFyID0gL1tcXFxcXiQuKis/KClbXFxde318XS9nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSkuICovXG52YXIgcmVJc0hvc3RDdG9yID0gL15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG4vKipcbiAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBnZXRWYWx1ZShvYmplY3QsIGtleSkge1xuICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGhvc3Qgb2JqZWN0IGluIElFIDwgOS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGhvc3Qgb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSG9zdE9iamVjdCh2YWx1ZSkge1xuICAvLyBNYW55IGhvc3Qgb2JqZWN0cyBhcmUgYE9iamVjdGAgb2JqZWN0cyB0aGF0IGNhbiBjb2VyY2UgdG8gc3RyaW5nc1xuICAvLyBkZXNwaXRlIGhhdmluZyBpbXByb3Blcmx5IGRlZmluZWQgYHRvU3RyaW5nYCBtZXRob2RzLlxuICB2YXIgcmVzdWx0ID0gZmFsc2U7XG4gIGlmICh2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3VsdCA9ICEhKHZhbHVlICsgJycpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGUsXG4gICAgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG92ZXJyZWFjaGluZyBjb3JlLWpzIHNoaW1zLiAqL1xudmFyIGNvcmVKc0RhdGEgPSByb290WydfX2NvcmUtanNfc2hhcmVkX18nXTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG1ldGhvZHMgbWFzcXVlcmFkaW5nIGFzIG5hdGl2ZS4gKi9cbnZhciBtYXNrU3JjS2V5ID0gKGZ1bmN0aW9uKCkge1xuICB2YXIgdWlkID0gL1teLl0rJC8uZXhlYyhjb3JlSnNEYXRhICYmIGNvcmVKc0RhdGEua2V5cyAmJiBjb3JlSnNEYXRhLmtleXMuSUVfUFJPVE8gfHwgJycpO1xuICByZXR1cm4gdWlkID8gKCdTeW1ib2woc3JjKV8xLicgKyB1aWQpIDogJyc7XG59KCkpO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cbnZhciByZUlzTmF0aXZlID0gUmVnRXhwKCdeJyArXG4gIGZ1bmNUb1N0cmluZy5jYWxsKGhhc093blByb3BlcnR5KS5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpXG4gIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuKTtcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgc3BsaWNlID0gYXJyYXlQcm90by5zcGxpY2U7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbnZhciBNYXAgPSBnZXROYXRpdmUocm9vdCwgJ01hcCcpLFxuICAgIG5hdGl2ZUNyZWF0ZSA9IGdldE5hdGl2ZShPYmplY3QsICdjcmVhdGUnKTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgaGFzaCBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIEhhc2goZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPyBlbnRyaWVzLmxlbmd0aCA6IDA7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBoYXNoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIEhhc2hcbiAqL1xuZnVuY3Rpb24gaGFzaENsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gbmF0aXZlQ3JlYXRlID8gbmF0aXZlQ3JlYXRlKG51bGwpIDoge307XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGhhc2guXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7T2JqZWN0fSBoYXNoIFRoZSBoYXNoIHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBoYXNoRGVsZXRlKGtleSkge1xuICByZXR1cm4gdGhpcy5oYXMoa2V5KSAmJiBkZWxldGUgdGhpcy5fX2RhdGFfX1trZXldO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGhhc2ggdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gaGFzaEdldChrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICBpZiAobmF0aXZlQ3JlYXRlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGRhdGFba2V5XTtcbiAgICByZXR1cm4gcmVzdWx0ID09PSBIQVNIX1VOREVGSU5FRCA/IHVuZGVmaW5lZCA6IHJlc3VsdDtcbiAgfVxuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpID8gZGF0YVtrZXldIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGhhc2ggdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc2hIYXMoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgcmV0dXJuIG5hdGl2ZUNyZWF0ZSA/IGRhdGFba2V5XSAhPT0gdW5kZWZpbmVkIDogaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIGhhc2ggYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBoYXNoIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBoYXNoU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICBkYXRhW2tleV0gPSAobmF0aXZlQ3JlYXRlICYmIHZhbHVlID09PSB1bmRlZmluZWQpID8gSEFTSF9VTkRFRklORUQgOiB2YWx1ZTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBIYXNoYC5cbkhhc2gucHJvdG90eXBlLmNsZWFyID0gaGFzaENsZWFyO1xuSGFzaC5wcm90b3R5cGVbJ2RlbGV0ZSddID0gaGFzaERlbGV0ZTtcbkhhc2gucHJvdG90eXBlLmdldCA9IGhhc2hHZXQ7XG5IYXNoLnByb3RvdHlwZS5oYXMgPSBoYXNoSGFzO1xuSGFzaC5wcm90b3R5cGUuc2V0ID0gaGFzaFNldDtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGxpc3QgY2FjaGUgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBMaXN0Q2FjaGUoZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPyBlbnRyaWVzLmxlbmd0aCA6IDA7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IFtdO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVEZWxldGUoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgaWYgKGluZGV4IDwgMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgbGFzdEluZGV4ID0gZGF0YS5sZW5ndGggLSAxO1xuICBpZiAoaW5kZXggPT0gbGFzdEluZGV4KSB7XG4gICAgZGF0YS5wb3AoKTtcbiAgfSBlbHNlIHtcbiAgICBzcGxpY2UuY2FsbChkYXRhLCBpbmRleCwgMSk7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUdldChrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICByZXR1cm4gaW5kZXggPCAwID8gdW5kZWZpbmVkIDogZGF0YVtpbmRleF1bMV07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVIYXMoa2V5KSB7XG4gIHJldHVybiBhc3NvY0luZGV4T2YodGhpcy5fX2RhdGFfXywga2V5KSA+IC0xO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIGxpc3QgY2FjaGUgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGxpc3QgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgaWYgKGluZGV4IDwgMCkge1xuICAgIGRhdGEucHVzaChba2V5LCB2YWx1ZV0pO1xuICB9IGVsc2Uge1xuICAgIGRhdGFbaW5kZXhdWzFdID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBMaXN0Q2FjaGVgLlxuTGlzdENhY2hlLnByb3RvdHlwZS5jbGVhciA9IGxpc3RDYWNoZUNsZWFyO1xuTGlzdENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBsaXN0Q2FjaGVEZWxldGU7XG5MaXN0Q2FjaGUucHJvdG90eXBlLmdldCA9IGxpc3RDYWNoZUdldDtcbkxpc3RDYWNoZS5wcm90b3R5cGUuaGFzID0gbGlzdENhY2hlSGFzO1xuTGlzdENhY2hlLnByb3RvdHlwZS5zZXQgPSBsaXN0Q2FjaGVTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG1hcCBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBNYXBDYWNoZShlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA/IGVudHJpZXMubGVuZ3RoIDogMDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIG1hcC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUNsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0ge1xuICAgICdoYXNoJzogbmV3IEhhc2gsXG4gICAgJ21hcCc6IG5ldyAoTWFwIHx8IExpc3RDYWNoZSksXG4gICAgJ3N0cmluZyc6IG5ldyBIYXNoXG4gIH07XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIG1hcC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZURlbGV0ZShrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KVsnZGVsZXRlJ10oa2V5KTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBtYXAgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlR2V0KGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmdldChrZXkpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIG1hcCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmhhcyhrZXkpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIG1hcCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBtYXAgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLnNldChrZXksIHZhbHVlKTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBNYXBDYWNoZWAuXG5NYXBDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBtYXBDYWNoZUNsZWFyO1xuTWFwQ2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IG1hcENhY2hlRGVsZXRlO1xuTWFwQ2FjaGUucHJvdG90eXBlLmdldCA9IG1hcENhY2hlR2V0O1xuTWFwQ2FjaGUucHJvdG90eXBlLmhhcyA9IG1hcENhY2hlSGFzO1xuTWFwQ2FjaGUucHJvdG90eXBlLnNldCA9IG1hcENhY2hlU2V0O1xuXG4vKipcbiAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBga2V5YCBpcyBmb3VuZCBpbiBgYXJyYXlgIG9mIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gKiBAcGFyYW0geyp9IGtleSBUaGUga2V5IHRvIHNlYXJjaCBmb3IuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICovXG5mdW5jdGlvbiBhc3NvY0luZGV4T2YoYXJyYXksIGtleSkge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICBpZiAoZXEoYXJyYXlbbGVuZ3RoXVswXSwga2V5KSkge1xuICAgICAgcmV0dXJuIGxlbmd0aDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmF0aXZlYCB3aXRob3V0IGJhZCBzaGltIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBpc01hc2tlZCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHBhdHRlcm4gPSAoaXNGdW5jdGlvbih2YWx1ZSkgfHwgaXNIb3N0T2JqZWN0KHZhbHVlKSkgPyByZUlzTmF0aXZlIDogcmVJc0hvc3RDdG9yO1xuICByZXR1cm4gcGF0dGVybi50ZXN0KHRvU291cmNlKHZhbHVlKSk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgZGF0YSBmb3IgYG1hcGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHJlZmVyZW5jZSBrZXkuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWFwIGRhdGEuXG4gKi9cbmZ1bmN0aW9uIGdldE1hcERhdGEobWFwLCBrZXkpIHtcbiAgdmFyIGRhdGEgPSBtYXAuX19kYXRhX187XG4gIHJldHVybiBpc0tleWFibGUoa2V5KVxuICAgID8gZGF0YVt0eXBlb2Yga2V5ID09ICdzdHJpbmcnID8gJ3N0cmluZycgOiAnaGFzaCddXG4gICAgOiBkYXRhLm1hcDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBuYXRpdmUgZnVuY3Rpb24gYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBpZiBpdCdzIG5hdGl2ZSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAqL1xuZnVuY3Rpb24gZ2V0TmF0aXZlKG9iamVjdCwga2V5KSB7XG4gIHZhciB2YWx1ZSA9IGdldFZhbHVlKG9iamVjdCwga2V5KTtcbiAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3IgdXNlIGFzIHVuaXF1ZSBvYmplY3Qga2V5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzS2V5YWJsZSh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICh0eXBlID09ICdzdHJpbmcnIHx8IHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJylcbiAgICA/ICh2YWx1ZSAhPT0gJ19fcHJvdG9fXycpXG4gICAgOiAodmFsdWUgPT09IG51bGwpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGl0cyBzb3VyY2UgbWFza2VkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2VkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzTWFza2VkKGZ1bmMpIHtcbiAgcmV0dXJuICEhbWFza1NyY0tleSAmJiAobWFza1NyY0tleSBpbiBmdW5jKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgZnVuY2AgdG8gaXRzIHNvdXJjZSBjb2RlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBwcm9jZXNzLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc291cmNlIGNvZGUuXG4gKi9cbmZ1bmN0aW9uIHRvU291cmNlKGZ1bmMpIHtcbiAgaWYgKGZ1bmMgIT0gbnVsbCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZnVuY1RvU3RyaW5nLmNhbGwoZnVuYyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIChmdW5jICsgJycpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IG1lbW9pemVzIHRoZSByZXN1bHQgb2YgYGZ1bmNgLiBJZiBgcmVzb2x2ZXJgIGlzXG4gKiBwcm92aWRlZCwgaXQgZGV0ZXJtaW5lcyB0aGUgY2FjaGUga2V5IGZvciBzdG9yaW5nIHRoZSByZXN1bHQgYmFzZWQgb24gdGhlXG4gKiBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uLiBCeSBkZWZhdWx0LCB0aGUgZmlyc3QgYXJndW1lbnRcbiAqIHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbiBpcyB1c2VkIGFzIHRoZSBtYXAgY2FjaGUga2V5LiBUaGUgYGZ1bmNgXG4gKiBpcyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBtZW1vaXplZCBmdW5jdGlvbi5cbiAqXG4gKiAqKk5vdGU6KiogVGhlIGNhY2hlIGlzIGV4cG9zZWQgYXMgdGhlIGBjYWNoZWAgcHJvcGVydHkgb24gdGhlIG1lbW9pemVkXG4gKiBmdW5jdGlvbi4gSXRzIGNyZWF0aW9uIG1heSBiZSBjdXN0b21pemVkIGJ5IHJlcGxhY2luZyB0aGUgYF8ubWVtb2l6ZS5DYWNoZWBcbiAqIGNvbnN0cnVjdG9yIHdpdGggb25lIHdob3NlIGluc3RhbmNlcyBpbXBsZW1lbnQgdGhlXG4gKiBbYE1hcGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXByb3BlcnRpZXMtb2YtdGhlLW1hcC1wcm90b3R5cGUtb2JqZWN0KVxuICogbWV0aG9kIGludGVyZmFjZSBvZiBgZGVsZXRlYCwgYGdldGAsIGBoYXNgLCBhbmQgYHNldGAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBoYXZlIGl0cyBvdXRwdXQgbWVtb2l6ZWQuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcmVzb2x2ZXJdIFRoZSBmdW5jdGlvbiB0byByZXNvbHZlIHRoZSBjYWNoZSBrZXkuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtZW1vaXplZCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIgfTtcbiAqIHZhciBvdGhlciA9IHsgJ2MnOiAzLCAnZCc6IDQgfTtcbiAqXG4gKiB2YXIgdmFsdWVzID0gXy5tZW1vaXplKF8udmFsdWVzKTtcbiAqIHZhbHVlcyhvYmplY3QpO1xuICogLy8gPT4gWzEsIDJdXG4gKlxuICogdmFsdWVzKG90aGVyKTtcbiAqIC8vID0+IFszLCA0XVxuICpcbiAqIG9iamVjdC5hID0gMjtcbiAqIHZhbHVlcyhvYmplY3QpO1xuICogLy8gPT4gWzEsIDJdXG4gKlxuICogLy8gTW9kaWZ5IHRoZSByZXN1bHQgY2FjaGUuXG4gKiB2YWx1ZXMuY2FjaGUuc2V0KG9iamVjdCwgWydhJywgJ2InXSk7XG4gKiB2YWx1ZXMob2JqZWN0KTtcbiAqIC8vID0+IFsnYScsICdiJ11cbiAqXG4gKiAvLyBSZXBsYWNlIGBfLm1lbW9pemUuQ2FjaGVgLlxuICogXy5tZW1vaXplLkNhY2hlID0gV2Vha01hcDtcbiAqL1xuZnVuY3Rpb24gbWVtb2l6ZShmdW5jLCByZXNvbHZlcikge1xuICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJyB8fCAocmVzb2x2ZXIgJiYgdHlwZW9mIHJlc29sdmVyICE9ICdmdW5jdGlvbicpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICB9XG4gIHZhciBtZW1vaXplZCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICBrZXkgPSByZXNvbHZlciA/IHJlc29sdmVyLmFwcGx5KHRoaXMsIGFyZ3MpIDogYXJnc1swXSxcbiAgICAgICAgY2FjaGUgPSBtZW1vaXplZC5jYWNoZTtcblxuICAgIGlmIChjYWNoZS5oYXMoa2V5KSkge1xuICAgICAgcmV0dXJuIGNhY2hlLmdldChrZXkpO1xuICAgIH1cbiAgICB2YXIgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICBtZW1vaXplZC5jYWNoZSA9IGNhY2hlLnNldChrZXksIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbiAgbWVtb2l6ZWQuY2FjaGUgPSBuZXcgKG1lbW9pemUuQ2FjaGUgfHwgTWFwQ2FjaGUpO1xuICByZXR1cm4gbWVtb2l6ZWQ7XG59XG5cbi8vIEFzc2lnbiBjYWNoZSB0byBgXy5tZW1vaXplYC5cbm1lbW9pemUuQ2FjaGUgPSBNYXBDYWNoZTtcblxuLyoqXG4gKiBQZXJmb3JtcyBhXG4gKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICogY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlIGVxdWl2YWxlbnQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICpcbiAqIF8uZXEob2JqZWN0LCBvYmplY3QpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEob2JqZWN0LCBvdGhlcik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoJ2EnLCAnYScpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEoJ2EnLCBPYmplY3QoJ2EnKSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoTmFOLCBOYU4pO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBlcSh2YWx1ZSwgb3RoZXIpIHtcbiAgcmV0dXJuIHZhbHVlID09PSBvdGhlciB8fCAodmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcik7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBGdW5jdGlvbmAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0Z1bmN0aW9uKF8pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gIC8vIFRoZSB1c2Ugb2YgYE9iamVjdCN0b1N0cmluZ2AgYXZvaWRzIGlzc3VlcyB3aXRoIHRoZSBgdHlwZW9mYCBvcGVyYXRvclxuICAvLyBpbiBTYWZhcmkgOC05IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5IGFuZCBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gIHZhciB0YWcgPSBpc09iamVjdCh2YWx1ZSkgPyBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA6ICcnO1xuICByZXR1cm4gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAhIXZhbHVlICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbWVtb2l6ZTtcbiIsIi8qKlxuICogTG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgT3BlbkpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9vcGVuanNmLm9yZy8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cblxuLyoqIFVzZWQgYXMgdGhlIHNpemUgdG8gZW5hYmxlIGxhcmdlIGFycmF5IG9wdGltaXphdGlvbnMuICovXG52YXIgTEFSR0VfQVJSQVlfU0laRSA9IDIwMDtcblxuLyoqIFVzZWQgdG8gc3RhbmQtaW4gZm9yIGB1bmRlZmluZWRgIGhhc2ggdmFsdWVzLiAqL1xudmFyIEhBU0hfVU5ERUZJTkVEID0gJ19fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaG90IGZ1bmN0aW9ucyBieSBudW1iZXIgb2YgY2FsbHMgd2l0aGluIGEgc3BhbiBvZiBtaWxsaXNlY29uZHMuICovXG52YXIgSE9UX0NPVU5UID0gODAwLFxuICAgIEhPVF9TUEFOID0gMTY7XG5cbi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgYXJnc1RhZyA9ICdbb2JqZWN0IEFyZ3VtZW50c10nLFxuICAgIGFycmF5VGFnID0gJ1tvYmplY3QgQXJyYXldJyxcbiAgICBhc3luY1RhZyA9ICdbb2JqZWN0IEFzeW5jRnVuY3Rpb25dJyxcbiAgICBib29sVGFnID0gJ1tvYmplY3QgQm9vbGVhbl0nLFxuICAgIGRhdGVUYWcgPSAnW29iamVjdCBEYXRlXScsXG4gICAgZXJyb3JUYWcgPSAnW29iamVjdCBFcnJvcl0nLFxuICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG4gICAgbWFwVGFnID0gJ1tvYmplY3QgTWFwXScsXG4gICAgbnVtYmVyVGFnID0gJ1tvYmplY3QgTnVtYmVyXScsXG4gICAgbnVsbFRhZyA9ICdbb2JqZWN0IE51bGxdJyxcbiAgICBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJyxcbiAgICBwcm94eVRhZyA9ICdbb2JqZWN0IFByb3h5XScsXG4gICAgcmVnZXhwVGFnID0gJ1tvYmplY3QgUmVnRXhwXScsXG4gICAgc2V0VGFnID0gJ1tvYmplY3QgU2V0XScsXG4gICAgc3RyaW5nVGFnID0gJ1tvYmplY3QgU3RyaW5nXScsXG4gICAgdW5kZWZpbmVkVGFnID0gJ1tvYmplY3QgVW5kZWZpbmVkXScsXG4gICAgd2Vha01hcFRhZyA9ICdbb2JqZWN0IFdlYWtNYXBdJztcblxudmFyIGFycmF5QnVmZmVyVGFnID0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJyxcbiAgICBkYXRhVmlld1RhZyA9ICdbb2JqZWN0IERhdGFWaWV3XScsXG4gICAgZmxvYXQzMlRhZyA9ICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgIGZsb2F0NjRUYWcgPSAnW29iamVjdCBGbG9hdDY0QXJyYXldJyxcbiAgICBpbnQ4VGFnID0gJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgaW50MTZUYWcgPSAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgaW50MzJUYWcgPSAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgdWludDhUYWcgPSAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgdWludDhDbGFtcGVkVGFnID0gJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICB1aW50MTZUYWcgPSAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgIHVpbnQzMlRhZyA9ICdbb2JqZWN0IFVpbnQzMkFycmF5XSc7XG5cbi8qKlxuICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYFxuICogW3N5bnRheCBjaGFyYWN0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wYXR0ZXJucykuXG4gKi9cbnZhciByZVJlZ0V4cENoYXIgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2c7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBob3N0IGNvbnN0cnVjdG9ycyAoU2FmYXJpKS4gKi9cbnZhciByZUlzSG9zdEN0b3IgPSAvXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuICovXG52YXIgcmVJc1VpbnQgPSAvXig/OjB8WzEtOV1cXGQqKSQvO1xuXG4vKiogVXNlZCB0byBpZGVudGlmeSBgdG9TdHJpbmdUYWdgIHZhbHVlcyBvZiB0eXBlZCBhcnJheXMuICovXG52YXIgdHlwZWRBcnJheVRhZ3MgPSB7fTtcbnR5cGVkQXJyYXlUYWdzW2Zsb2F0MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbZmxvYXQ2NFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbaW50OFRhZ10gPSB0eXBlZEFycmF5VGFnc1tpbnQxNlRhZ10gPVxudHlwZWRBcnJheVRhZ3NbaW50MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDhUYWddID1cbnR5cGVkQXJyYXlUYWdzW3VpbnQ4Q2xhbXBlZFRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50MTZUYWddID1cbnR5cGVkQXJyYXlUYWdzW3VpbnQzMlRhZ10gPSB0cnVlO1xudHlwZWRBcnJheVRhZ3NbYXJnc1RhZ10gPSB0eXBlZEFycmF5VGFnc1thcnJheVRhZ10gPVxudHlwZWRBcnJheVRhZ3NbYXJyYXlCdWZmZXJUYWddID0gdHlwZWRBcnJheVRhZ3NbYm9vbFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbZGF0YVZpZXdUYWddID0gdHlwZWRBcnJheVRhZ3NbZGF0ZVRhZ10gPVxudHlwZWRBcnJheVRhZ3NbZXJyb3JUYWddID0gdHlwZWRBcnJheVRhZ3NbZnVuY1RhZ10gPVxudHlwZWRBcnJheVRhZ3NbbWFwVGFnXSA9IHR5cGVkQXJyYXlUYWdzW251bWJlclRhZ10gPVxudHlwZWRBcnJheVRhZ3Nbb2JqZWN0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3JlZ2V4cFRhZ10gPVxudHlwZWRBcnJheVRhZ3Nbc2V0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3N0cmluZ1RhZ10gPVxudHlwZWRBcnJheVRhZ3Nbd2Vha01hcFRhZ10gPSBmYWxzZTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGV4cG9ydHNgLiAqL1xudmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJiAhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYG1vZHVsZWAuICovXG52YXIgZnJlZU1vZHVsZSA9IGZyZWVFeHBvcnRzICYmIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmICFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXG4vKiogRGV0ZWN0IHRoZSBwb3B1bGFyIENvbW1vbkpTIGV4dGVuc2lvbiBgbW9kdWxlLmV4cG9ydHNgLiAqL1xudmFyIG1vZHVsZUV4cG9ydHMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUuZXhwb3J0cyA9PT0gZnJlZUV4cG9ydHM7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgcHJvY2Vzc2AgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVQcm9jZXNzID0gbW9kdWxlRXhwb3J0cyAmJiBmcmVlR2xvYmFsLnByb2Nlc3M7XG5cbi8qKiBVc2VkIHRvIGFjY2VzcyBmYXN0ZXIgTm9kZS5qcyBoZWxwZXJzLiAqL1xudmFyIG5vZGVVdGlsID0gKGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIC8vIFVzZSBgdXRpbC50eXBlc2AgZm9yIE5vZGUuanMgMTArLlxuICAgIHZhciB0eXBlcyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5yZXF1aXJlICYmIGZyZWVNb2R1bGUucmVxdWlyZSgndXRpbCcpLnR5cGVzO1xuXG4gICAgaWYgKHR5cGVzKSB7XG4gICAgICByZXR1cm4gdHlwZXM7XG4gICAgfVxuXG4gICAgLy8gTGVnYWN5IGBwcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKWAgZm9yIE5vZGUuanMgPCAxMC5cbiAgICByZXR1cm4gZnJlZVByb2Nlc3MgJiYgZnJlZVByb2Nlc3MuYmluZGluZyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nKCd1dGlsJyk7XG4gIH0gY2F0Y2ggKGUpIHt9XG59KCkpO1xuXG4vKiBOb2RlLmpzIGhlbHBlciByZWZlcmVuY2VzLiAqL1xudmFyIG5vZGVJc1R5cGVkQXJyYXkgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1R5cGVkQXJyYXk7XG5cbi8qKlxuICogQSBmYXN0ZXIgYWx0ZXJuYXRpdmUgdG8gYEZ1bmN0aW9uI2FwcGx5YCwgdGhpcyBmdW5jdGlvbiBpbnZva2VzIGBmdW5jYFxuICogd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgYHRoaXNBcmdgIGFuZCB0aGUgYXJndW1lbnRzIG9mIGBhcmdzYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuXG4gKi9cbmZ1bmN0aW9uIGFwcGx5KGZ1bmMsIHRoaXNBcmcsIGFyZ3MpIHtcbiAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgIGNhc2UgMDogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnKTtcbiAgICBjYXNlIDE6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSk7XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgfVxuICByZXR1cm4gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50aW1lc2Agd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzXG4gKiBvciBtYXggYXJyYXkgbGVuZ3RoIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VUaW1lcyhuLCBpdGVyYXRlZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KG4pO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShpbmRleCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmFyeWAgd2l0aG91dCBzdXBwb3J0IGZvciBzdG9yaW5nIG1ldGFkYXRhLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVVuYXJ5KGZ1bmMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGZ1bmModmFsdWUpO1xuICB9O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBnZXRWYWx1ZShvYmplY3QsIGtleSkge1xuICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgdW5hcnkgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudCB0cmFuc2Zvcm1lZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gIHJldHVybiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7XG4gIH07XG59XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLFxuICAgIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbnZhciBjb3JlSnNEYXRhID0gcm9vdFsnX19jb3JlLWpzX3NoYXJlZF9fJ107XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBtZXRob2RzIG1hc3F1ZXJhZGluZyBhcyBuYXRpdmUuICovXG52YXIgbWFza1NyY0tleSA9IChmdW5jdGlvbigpIHtcbiAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgcmV0dXJuIHVpZCA/ICgnU3ltYm9sKHNyYylfMS4nICsgdWlkKSA6ICcnO1xufSgpKTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGluZmVyIHRoZSBgT2JqZWN0YCBjb25zdHJ1Y3Rvci4gKi9cbnZhciBvYmplY3RDdG9yU3RyaW5nID0gZnVuY1RvU3RyaW5nLmNhbGwoT2JqZWN0KTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cbnZhciByZUlzTmF0aXZlID0gUmVnRXhwKCdeJyArXG4gIGZ1bmNUb1N0cmluZy5jYWxsKGhhc093blByb3BlcnR5KS5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpXG4gIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuKTtcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgQnVmZmVyID0gbW9kdWxlRXhwb3J0cyA/IHJvb3QuQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgIFN5bWJvbCA9IHJvb3QuU3ltYm9sLFxuICAgIFVpbnQ4QXJyYXkgPSByb290LlVpbnQ4QXJyYXksXG4gICAgYWxsb2NVbnNhZmUgPSBCdWZmZXIgPyBCdWZmZXIuYWxsb2NVbnNhZmUgOiB1bmRlZmluZWQsXG4gICAgZ2V0UHJvdG90eXBlID0gb3ZlckFyZyhPYmplY3QuZ2V0UHJvdG90eXBlT2YsIE9iamVjdCksXG4gICAgb2JqZWN0Q3JlYXRlID0gT2JqZWN0LmNyZWF0ZSxcbiAgICBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IG9iamVjdFByb3RvLnByb3BlcnR5SXNFbnVtZXJhYmxlLFxuICAgIHNwbGljZSA9IGFycmF5UHJvdG8uc3BsaWNlLFxuICAgIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG52YXIgZGVmaW5lUHJvcGVydHkgPSAoZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgdmFyIGZ1bmMgPSBnZXROYXRpdmUoT2JqZWN0LCAnZGVmaW5lUHJvcGVydHknKTtcbiAgICBmdW5jKHt9LCAnJywge30pO1xuICAgIHJldHVybiBmdW5jO1xuICB9IGNhdGNoIChlKSB7fVxufSgpKTtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZUlzQnVmZmVyID0gQnVmZmVyID8gQnVmZmVyLmlzQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgIG5hdGl2ZU1heCA9IE1hdGgubWF4LFxuICAgIG5hdGl2ZU5vdyA9IERhdGUubm93O1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG52YXIgTWFwID0gZ2V0TmF0aXZlKHJvb3QsICdNYXAnKSxcbiAgICBuYXRpdmVDcmVhdGUgPSBnZXROYXRpdmUoT2JqZWN0LCAnY3JlYXRlJyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY3JlYXRlYCB3aXRob3V0IHN1cHBvcnQgZm9yIGFzc2lnbmluZ1xuICogcHJvcGVydGllcyB0byB0aGUgY3JlYXRlZCBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm90byBUaGUgb2JqZWN0IHRvIGluaGVyaXQgZnJvbS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gKi9cbnZhciBiYXNlQ3JlYXRlID0gKGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBvYmplY3QoKSB7fVxuICByZXR1cm4gZnVuY3Rpb24ocHJvdG8pIHtcbiAgICBpZiAoIWlzT2JqZWN0KHByb3RvKSkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBpZiAob2JqZWN0Q3JlYXRlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0Q3JlYXRlKHByb3RvKTtcbiAgICB9XG4gICAgb2JqZWN0LnByb3RvdHlwZSA9IHByb3RvO1xuICAgIHZhciByZXN1bHQgPSBuZXcgb2JqZWN0O1xuICAgIG9iamVjdC5wcm90b3R5cGUgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn0oKSk7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGhhc2ggb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBIYXNoKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBoYXNoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIEhhc2hcbiAqL1xuZnVuY3Rpb24gaGFzaENsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gbmF0aXZlQ3JlYXRlID8gbmF0aXZlQ3JlYXRlKG51bGwpIDoge307XG4gIHRoaXMuc2l6ZSA9IDA7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGhhc2guXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7T2JqZWN0fSBoYXNoIFRoZSBoYXNoIHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBoYXNoRGVsZXRlKGtleSkge1xuICB2YXIgcmVzdWx0ID0gdGhpcy5oYXMoa2V5KSAmJiBkZWxldGUgdGhpcy5fX2RhdGFfX1trZXldO1xuICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgaGFzaCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBoYXNoR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGlmIChuYXRpdmVDcmVhdGUpIHtcbiAgICB2YXIgcmVzdWx0ID0gZGF0YVtrZXldO1xuICAgIHJldHVybiByZXN1bHQgPT09IEhBU0hfVU5ERUZJTkVEID8gdW5kZWZpbmVkIDogcmVzdWx0O1xuICB9XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkgPyBkYXRhW2tleV0gOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgaGFzaCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaEhhcyhrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICByZXR1cm4gbmF0aXZlQ3JlYXRlID8gKGRhdGFba2V5XSAhPT0gdW5kZWZpbmVkKSA6IGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBoYXNoIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaGFzaCBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gaGFzaFNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgdGhpcy5zaXplICs9IHRoaXMuaGFzKGtleSkgPyAwIDogMTtcbiAgZGF0YVtrZXldID0gKG5hdGl2ZUNyZWF0ZSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSA/IEhBU0hfVU5ERUZJTkVEIDogdmFsdWU7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgSGFzaGAuXG5IYXNoLnByb3RvdHlwZS5jbGVhciA9IGhhc2hDbGVhcjtcbkhhc2gucHJvdG90eXBlWydkZWxldGUnXSA9IGhhc2hEZWxldGU7XG5IYXNoLnByb3RvdHlwZS5nZXQgPSBoYXNoR2V0O1xuSGFzaC5wcm90b3R5cGUuaGFzID0gaGFzaEhhcztcbkhhc2gucHJvdG90eXBlLnNldCA9IGhhc2hTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBsaXN0IGNhY2hlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTGlzdENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IFtdO1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVEZWxldGUoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgaWYgKGluZGV4IDwgMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgbGFzdEluZGV4ID0gZGF0YS5sZW5ndGggLSAxO1xuICBpZiAoaW5kZXggPT0gbGFzdEluZGV4KSB7XG4gICAgZGF0YS5wb3AoKTtcbiAgfSBlbHNlIHtcbiAgICBzcGxpY2UuY2FsbChkYXRhLCBpbmRleCwgMSk7XG4gIH1cbiAgLS10aGlzLnNpemU7XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVHZXQoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgcmV0dXJuIGluZGV4IDwgMCA/IHVuZGVmaW5lZCA6IGRhdGFbaW5kZXhdWzFdO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gYXNzb2NJbmRleE9mKHRoaXMuX19kYXRhX18sIGtleSkgPiAtMTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBsaXN0IGNhY2hlIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBsaXN0IGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICArK3RoaXMuc2l6ZTtcbiAgICBkYXRhLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgfSBlbHNlIHtcbiAgICBkYXRhW2luZGV4XVsxXSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTGlzdENhY2hlYC5cbkxpc3RDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBsaXN0Q2FjaGVDbGVhcjtcbkxpc3RDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbGlzdENhY2hlRGVsZXRlO1xuTGlzdENhY2hlLnByb3RvdHlwZS5nZXQgPSBsaXN0Q2FjaGVHZXQ7XG5MaXN0Q2FjaGUucHJvdG90eXBlLmhhcyA9IGxpc3RDYWNoZUhhcztcbkxpc3RDYWNoZS5wcm90b3R5cGUuc2V0ID0gbGlzdENhY2hlU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXAgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTWFwQ2FjaGUoZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIG1hcC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUNsZWFyKCkge1xuICB0aGlzLnNpemUgPSAwO1xuICB0aGlzLl9fZGF0YV9fID0ge1xuICAgICdoYXNoJzogbmV3IEhhc2gsXG4gICAgJ21hcCc6IG5ldyAoTWFwIHx8IExpc3RDYWNoZSksXG4gICAgJ3N0cmluZyc6IG5ldyBIYXNoXG4gIH07XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIG1hcC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZURlbGV0ZShrZXkpIHtcbiAgdmFyIHJlc3VsdCA9IGdldE1hcERhdGEodGhpcywga2V5KVsnZGVsZXRlJ10oa2V5KTtcbiAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG1hcCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVHZXQoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuZ2V0KGtleSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgbWFwIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVIYXMoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuaGFzKGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbWFwIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG1hcCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IGdldE1hcERhdGEodGhpcywga2V5KSxcbiAgICAgIHNpemUgPSBkYXRhLnNpemU7XG5cbiAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gIHRoaXMuc2l6ZSArPSBkYXRhLnNpemUgPT0gc2l6ZSA/IDAgOiAxO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYE1hcENhY2hlYC5cbk1hcENhY2hlLnByb3RvdHlwZS5jbGVhciA9IG1hcENhY2hlQ2xlYXI7XG5NYXBDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbWFwQ2FjaGVEZWxldGU7XG5NYXBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbWFwQ2FjaGVHZXQ7XG5NYXBDYWNoZS5wcm90b3R5cGUuaGFzID0gbWFwQ2FjaGVIYXM7XG5NYXBDYWNoZS5wcm90b3R5cGUuc2V0ID0gbWFwQ2FjaGVTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhIHN0YWNrIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIFN0YWNrKGVudHJpZXMpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZShlbnRyaWVzKTtcbiAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIHN0YWNrLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIFN0YWNrXG4gKi9cbmZ1bmN0aW9uIHN0YWNrQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlO1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBzdGFjay5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBzdGFja0RlbGV0ZShrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgcmVzdWx0ID0gZGF0YVsnZGVsZXRlJ10oa2V5KTtcblxuICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgc3RhY2sgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrR2V0KGtleSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5nZXQoa2V5KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBzdGFjayB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrSGFzKGtleSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXMoa2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBzdGFjayBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBzdGFjayBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gc3RhY2tTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGlmIChkYXRhIGluc3RhbmNlb2YgTGlzdENhY2hlKSB7XG4gICAgdmFyIHBhaXJzID0gZGF0YS5fX2RhdGFfXztcbiAgICBpZiAoIU1hcCB8fCAocGFpcnMubGVuZ3RoIDwgTEFSR0VfQVJSQVlfU0laRSAtIDEpKSB7XG4gICAgICBwYWlycy5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICB0aGlzLnNpemUgPSArK2RhdGEuc2l6ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZShwYWlycyk7XG4gIH1cbiAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBTdGFja2AuXG5TdGFjay5wcm90b3R5cGUuY2xlYXIgPSBzdGFja0NsZWFyO1xuU3RhY2sucHJvdG90eXBlWydkZWxldGUnXSA9IHN0YWNrRGVsZXRlO1xuU3RhY2sucHJvdG90eXBlLmdldCA9IHN0YWNrR2V0O1xuU3RhY2sucHJvdG90eXBlLmhhcyA9IHN0YWNrSGFzO1xuU3RhY2sucHJvdG90eXBlLnNldCA9IHN0YWNrU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgdGhlIGFycmF5LWxpa2UgYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGluaGVyaXRlZCBTcGVjaWZ5IHJldHVybmluZyBpbmhlcml0ZWQgcHJvcGVydHkgbmFtZXMuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBhcnJheUxpa2VLZXlzKHZhbHVlLCBpbmhlcml0ZWQpIHtcbiAgdmFyIGlzQXJyID0gaXNBcnJheSh2YWx1ZSksXG4gICAgICBpc0FyZyA9ICFpc0FyciAmJiBpc0FyZ3VtZW50cyh2YWx1ZSksXG4gICAgICBpc0J1ZmYgPSAhaXNBcnIgJiYgIWlzQXJnICYmIGlzQnVmZmVyKHZhbHVlKSxcbiAgICAgIGlzVHlwZSA9ICFpc0FyciAmJiAhaXNBcmcgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkodmFsdWUpLFxuICAgICAgc2tpcEluZGV4ZXMgPSBpc0FyciB8fCBpc0FyZyB8fCBpc0J1ZmYgfHwgaXNUeXBlLFxuICAgICAgcmVzdWx0ID0gc2tpcEluZGV4ZXMgPyBiYXNlVGltZXModmFsdWUubGVuZ3RoLCBTdHJpbmcpIDogW10sXG4gICAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuXG4gIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgIGlmICgoaW5oZXJpdGVkIHx8IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpICYmXG4gICAgICAgICEoc2tpcEluZGV4ZXMgJiYgKFxuICAgICAgICAgICAvLyBTYWZhcmkgOSBoYXMgZW51bWVyYWJsZSBgYXJndW1lbnRzLmxlbmd0aGAgaW4gc3RyaWN0IG1vZGUuXG4gICAgICAgICAgIGtleSA9PSAnbGVuZ3RoJyB8fFxuICAgICAgICAgICAvLyBOb2RlLmpzIDAuMTAgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gYnVmZmVycy5cbiAgICAgICAgICAgKGlzQnVmZiAmJiAoa2V5ID09ICdvZmZzZXQnIHx8IGtleSA9PSAncGFyZW50JykpIHx8XG4gICAgICAgICAgIC8vIFBoYW50b21KUyAyIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIHR5cGVkIGFycmF5cy5cbiAgICAgICAgICAgKGlzVHlwZSAmJiAoa2V5ID09ICdidWZmZXInIHx8IGtleSA9PSAnYnl0ZUxlbmd0aCcgfHwga2V5ID09ICdieXRlT2Zmc2V0JykpIHx8XG4gICAgICAgICAgIC8vIFNraXAgaW5kZXggcHJvcGVydGllcy5cbiAgICAgICAgICAgaXNJbmRleChrZXksIGxlbmd0aClcbiAgICAgICAgKSkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBhc3NpZ25WYWx1ZWAgZXhjZXB0IHRoYXQgaXQgZG9lc24ndCBhc3NpZ25cbiAqIGB1bmRlZmluZWRgIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICovXG5mdW5jdGlvbiBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICBpZiAoKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgIWVxKG9iamVjdFtrZXldLCB2YWx1ZSkpIHx8XG4gICAgICAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSkge1xuICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpO1xuICB9XG59XG5cbi8qKlxuICogQXNzaWducyBgdmFsdWVgIHRvIGBrZXlgIG9mIGBvYmplY3RgIGlmIHRoZSBleGlzdGluZyB2YWx1ZSBpcyBub3QgZXF1aXZhbGVudFxuICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICovXG5mdW5jdGlvbiBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV07XG4gIGlmICghKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGVxKG9ialZhbHVlLCB2YWx1ZSkpIHx8XG4gICAgICAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSkge1xuICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpO1xuICB9XG59XG5cbi8qKlxuICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGBrZXlgIGlzIGZvdW5kIGluIGBhcnJheWAgb2Yga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7Kn0ga2V5IFRoZSBrZXkgdG8gc2VhcmNoIGZvci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gKi9cbmZ1bmN0aW9uIGFzc29jSW5kZXhPZihhcnJheSwga2V5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gIHdoaWxlIChsZW5ndGgtLSkge1xuICAgIGlmIChlcShhcnJheVtsZW5ndGhdWzBdLCBrZXkpKSB7XG4gICAgICByZXR1cm4gbGVuZ3RoO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGFzc2lnblZhbHVlYCBhbmQgYGFzc2lnbk1lcmdlVmFsdWVgIHdpdGhvdXRcbiAqIHZhbHVlIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICovXG5mdW5jdGlvbiBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgPT0gJ19fcHJvdG9fXycgJiYgZGVmaW5lUHJvcGVydHkpIHtcbiAgICBkZWZpbmVQcm9wZXJ0eShvYmplY3QsIGtleSwge1xuICAgICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgICAnZW51bWVyYWJsZSc6IHRydWUsXG4gICAgICAndmFsdWUnOiB2YWx1ZSxcbiAgICAgICd3cml0YWJsZSc6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICB9XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGJhc2VGb3JPd25gIHdoaWNoIGl0ZXJhdGVzIG92ZXIgYG9iamVjdGBcbiAqIHByb3BlcnRpZXMgcmV0dXJuZWQgYnkgYGtleXNGdW5jYCBhbmQgaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIHByb3BlcnR5LlxuICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICovXG52YXIgYmFzZUZvciA9IGNyZWF0ZUJhc2VGb3IoKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0VGFnYCB3aXRob3V0IGZhbGxiYWNrcyBmb3IgYnVnZ3kgZW52aXJvbm1lbnRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXRUYWcodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZFRhZyA6IG51bGxUYWc7XG4gIH1cbiAgcmV0dXJuIChzeW1Ub1N0cmluZ1RhZyAmJiBzeW1Ub1N0cmluZ1RhZyBpbiBPYmplY3QodmFsdWUpKVxuICAgID8gZ2V0UmF3VGFnKHZhbHVlKVxuICAgIDogb2JqZWN0VG9TdHJpbmcodmFsdWUpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzQXJndW1lbnRzYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc0FyZ3VtZW50cyh2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBhcmdzVGFnO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmF0aXZlYCB3aXRob3V0IGJhZCBzaGltIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBpc01hc2tlZCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHBhdHRlcm4gPSBpc0Z1bmN0aW9uKHZhbHVlKSA/IHJlSXNOYXRpdmUgOiByZUlzSG9zdEN0b3I7XG4gIHJldHVybiBwYXR0ZXJuLnRlc3QodG9Tb3VyY2UodmFsdWUpKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1R5cGVkQXJyYXlgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzVHlwZWRBcnJheSh2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJlxuICAgIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgISF0eXBlZEFycmF5VGFnc1tiYXNlR2V0VGFnKHZhbHVlKV07XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ua2V5c0luYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VLZXlzSW4ob2JqZWN0KSB7XG4gIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgIHJldHVybiBuYXRpdmVLZXlzSW4ob2JqZWN0KTtcbiAgfVxuICB2YXIgaXNQcm90byA9IGlzUHJvdG90eXBlKG9iamVjdCksXG4gICAgICByZXN1bHQgPSBbXTtcblxuICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgaWYgKCEoa2V5ID09ICdjb25zdHJ1Y3RvcicgJiYgKGlzUHJvdG8gfHwgIWhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWVyZ2VgIHdpdGhvdXQgc3VwcG9ydCBmb3IgbXVsdGlwbGUgc291cmNlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzcmNJbmRleCBUaGUgaW5kZXggb2YgYHNvdXJjZWAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBtZXJnZWQgdmFsdWVzLlxuICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2UgdmFsdWVzIGFuZCB0aGVpciBtZXJnZWRcbiAqICBjb3VudGVycGFydHMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gIGlmIChvYmplY3QgPT09IHNvdXJjZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBiYXNlRm9yKHNvdXJjZSwgZnVuY3Rpb24oc3JjVmFsdWUsIGtleSkge1xuICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgaWYgKGlzT2JqZWN0KHNyY1ZhbHVlKSkge1xuICAgICAgYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgYmFzZU1lcmdlLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgICA/IGN1c3RvbWl6ZXIoc2FmZUdldChvYmplY3QsIGtleSksIHNyY1ZhbHVlLCAoa2V5ICsgJycpLCBvYmplY3QsIHNvdXJjZSwgc3RhY2spXG4gICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBuZXdWYWx1ZSA9IHNyY1ZhbHVlO1xuICAgICAgfVxuICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgIH1cbiAgfSwga2V5c0luKTtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VNZXJnZWAgZm9yIGFycmF5cyBhbmQgb2JqZWN0cyB3aGljaCBwZXJmb3Jtc1xuICogZGVlcCBtZXJnZXMgYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBlbmFibGluZyBvYmplY3RzIHdpdGggY2lyY3VsYXJcbiAqIHJlZmVyZW5jZXMgdG8gYmUgbWVyZ2VkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBtZXJnZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzcmNJbmRleCBUaGUgaW5kZXggb2YgYHNvdXJjZWAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBtZXJnZUZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1lcmdlIHZhbHVlcy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgc291cmNlIHZhbHVlcyBhbmQgdGhlaXIgbWVyZ2VkXG4gKiAgY291bnRlcnBhcnRzLlxuICovXG5mdW5jdGlvbiBiYXNlTWVyZ2VEZWVwKG9iamVjdCwgc291cmNlLCBrZXksIHNyY0luZGV4LCBtZXJnZUZ1bmMsIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gIHZhciBvYmpWYWx1ZSA9IHNhZmVHZXQob2JqZWN0LCBrZXkpLFxuICAgICAgc3JjVmFsdWUgPSBzYWZlR2V0KHNvdXJjZSwga2V5KSxcbiAgICAgIHN0YWNrZWQgPSBzdGFjay5nZXQoc3JjVmFsdWUpO1xuXG4gIGlmIChzdGFja2VkKSB7XG4gICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgc3RhY2tlZCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICA/IGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlLCAoa2V5ICsgJycpLCBvYmplY3QsIHNvdXJjZSwgc3RhY2spXG4gICAgOiB1bmRlZmluZWQ7XG5cbiAgdmFyIGlzQ29tbW9uID0gbmV3VmFsdWUgPT09IHVuZGVmaW5lZDtcblxuICBpZiAoaXNDb21tb24pIHtcbiAgICB2YXIgaXNBcnIgPSBpc0FycmF5KHNyY1ZhbHVlKSxcbiAgICAgICAgaXNCdWZmID0gIWlzQXJyICYmIGlzQnVmZmVyKHNyY1ZhbHVlKSxcbiAgICAgICAgaXNUeXBlZCA9ICFpc0FyciAmJiAhaXNCdWZmICYmIGlzVHlwZWRBcnJheShzcmNWYWx1ZSk7XG5cbiAgICBuZXdWYWx1ZSA9IHNyY1ZhbHVlO1xuICAgIGlmIChpc0FyciB8fCBpc0J1ZmYgfHwgaXNUeXBlZCkge1xuICAgICAgaWYgKGlzQXJyYXkob2JqVmFsdWUpKSB7XG4gICAgICAgIG5ld1ZhbHVlID0gb2JqVmFsdWU7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChpc0FycmF5TGlrZU9iamVjdChvYmpWYWx1ZSkpIHtcbiAgICAgICAgbmV3VmFsdWUgPSBjb3B5QXJyYXkob2JqVmFsdWUpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoaXNCdWZmKSB7XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIG5ld1ZhbHVlID0gY2xvbmVCdWZmZXIoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoaXNUeXBlZCkge1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICBuZXdWYWx1ZSA9IGNsb25lVHlwZWRBcnJheShzcmNWYWx1ZSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbmV3VmFsdWUgPSBbXTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoaXNQbGFpbk9iamVjdChzcmNWYWx1ZSkgfHwgaXNBcmd1bWVudHMoc3JjVmFsdWUpKSB7XG4gICAgICBuZXdWYWx1ZSA9IG9ialZhbHVlO1xuICAgICAgaWYgKGlzQXJndW1lbnRzKG9ialZhbHVlKSkge1xuICAgICAgICBuZXdWYWx1ZSA9IHRvUGxhaW5PYmplY3Qob2JqVmFsdWUpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoIWlzT2JqZWN0KG9ialZhbHVlKSB8fCBpc0Z1bmN0aW9uKG9ialZhbHVlKSkge1xuICAgICAgICBuZXdWYWx1ZSA9IGluaXRDbG9uZU9iamVjdChzcmNWYWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzQ29tbW9uKSB7XG4gICAgLy8gUmVjdXJzaXZlbHkgbWVyZ2Ugb2JqZWN0cyBhbmQgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgc3RhY2suc2V0KHNyY1ZhbHVlLCBuZXdWYWx1ZSk7XG4gICAgbWVyZ2VGdW5jKG5ld1ZhbHVlLCBzcmNWYWx1ZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIsIHN0YWNrKTtcbiAgICBzdGFja1snZGVsZXRlJ10oc3JjVmFsdWUpO1xuICB9XG4gIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZXN0YCB3aGljaCBkb2Vzbid0IHZhbGlkYXRlIG9yIGNvZXJjZSBhcmd1bWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVJlc3QoZnVuYywgc3RhcnQpIHtcbiAgcmV0dXJuIHNldFRvU3RyaW5nKG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCBpZGVudGl0eSksIGZ1bmMgKyAnJyk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldFRvU3RyaW5nYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAqL1xudmFyIGJhc2VTZXRUb1N0cmluZyA9ICFkZWZpbmVQcm9wZXJ0eSA/IGlkZW50aXR5IDogZnVuY3Rpb24oZnVuYywgc3RyaW5nKSB7XG4gIHJldHVybiBkZWZpbmVQcm9wZXJ0eShmdW5jLCAndG9TdHJpbmcnLCB7XG4gICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgJ2VudW1lcmFibGUnOiBmYWxzZSxcbiAgICAndmFsdWUnOiBjb25zdGFudChzdHJpbmcpLFxuICAgICd3cml0YWJsZSc6IHRydWVcbiAgfSk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBjbG9uZSBvZiAgYGJ1ZmZlcmAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QnVmZmVyfSBidWZmZXIgVGhlIGJ1ZmZlciB0byBjbG9uZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gKiBAcmV0dXJucyB7QnVmZmVyfSBSZXR1cm5zIHRoZSBjbG9uZWQgYnVmZmVyLlxuICovXG5mdW5jdGlvbiBjbG9uZUJ1ZmZlcihidWZmZXIsIGlzRGVlcCkge1xuICBpZiAoaXNEZWVwKSB7XG4gICAgcmV0dXJuIGJ1ZmZlci5zbGljZSgpO1xuICB9XG4gIHZhciBsZW5ndGggPSBidWZmZXIubGVuZ3RoLFxuICAgICAgcmVzdWx0ID0gYWxsb2NVbnNhZmUgPyBhbGxvY1Vuc2FmZShsZW5ndGgpIDogbmV3IGJ1ZmZlci5jb25zdHJ1Y3RvcihsZW5ndGgpO1xuXG4gIGJ1ZmZlci5jb3B5KHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGNsb25lIG9mIGBhcnJheUJ1ZmZlcmAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGFycmF5QnVmZmVyIFRoZSBhcnJheSBidWZmZXIgdG8gY2xvbmUuXG4gKiBAcmV0dXJucyB7QXJyYXlCdWZmZXJ9IFJldHVybnMgdGhlIGNsb25lZCBhcnJheSBidWZmZXIuXG4gKi9cbmZ1bmN0aW9uIGNsb25lQXJyYXlCdWZmZXIoYXJyYXlCdWZmZXIpIHtcbiAgdmFyIHJlc3VsdCA9IG5ldyBhcnJheUJ1ZmZlci5jb25zdHJ1Y3RvcihhcnJheUJ1ZmZlci5ieXRlTGVuZ3RoKTtcbiAgbmV3IFVpbnQ4QXJyYXkocmVzdWx0KS5zZXQobmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHR5cGVkQXJyYXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gdHlwZWRBcnJheSBUaGUgdHlwZWQgYXJyYXkgdG8gY2xvbmUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHR5cGVkIGFycmF5LlxuICovXG5mdW5jdGlvbiBjbG9uZVR5cGVkQXJyYXkodHlwZWRBcnJheSwgaXNEZWVwKSB7XG4gIHZhciBidWZmZXIgPSBpc0RlZXAgPyBjbG9uZUFycmF5QnVmZmVyKHR5cGVkQXJyYXkuYnVmZmVyKSA6IHR5cGVkQXJyYXkuYnVmZmVyO1xuICByZXR1cm4gbmV3IHR5cGVkQXJyYXkuY29uc3RydWN0b3IoYnVmZmVyLCB0eXBlZEFycmF5LmJ5dGVPZmZzZXQsIHR5cGVkQXJyYXkubGVuZ3RoKTtcbn1cblxuLyoqXG4gKiBDb3BpZXMgdGhlIHZhbHVlcyBvZiBgc291cmNlYCB0byBgYXJyYXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBzb3VyY2UgVGhlIGFycmF5IHRvIGNvcHkgdmFsdWVzIGZyb20uXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXk9W11dIFRoZSBhcnJheSB0byBjb3B5IHZhbHVlcyB0by5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICovXG5mdW5jdGlvbiBjb3B5QXJyYXkoc291cmNlLCBhcnJheSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHNvdXJjZS5sZW5ndGg7XG5cbiAgYXJyYXkgfHwgKGFycmF5ID0gQXJyYXkobGVuZ3RoKSk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgYXJyYXlbaW5kZXhdID0gc291cmNlW2luZGV4XTtcbiAgfVxuICByZXR1cm4gYXJyYXk7XG59XG5cbi8qKlxuICogQ29waWVzIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgdG8gYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbS5cbiAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycyB0byBjb3B5LlxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIHRvLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29waWVkIHZhbHVlcy5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gKi9cbmZ1bmN0aW9uIGNvcHlPYmplY3Qoc291cmNlLCBwcm9wcywgb2JqZWN0LCBjdXN0b21pemVyKSB7XG4gIHZhciBpc05ldyA9ICFvYmplY3Q7XG4gIG9iamVjdCB8fCAob2JqZWN0ID0ge30pO1xuXG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGtleSA9IHByb3BzW2luZGV4XTtcblxuICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgID8gY3VzdG9taXplcihvYmplY3Rba2V5XSwgc291cmNlW2tleV0sIGtleSwgb2JqZWN0LCBzb3VyY2UpXG4gICAgICA6IHVuZGVmaW5lZDtcblxuICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBuZXdWYWx1ZSA9IHNvdXJjZVtrZXldO1xuICAgIH1cbiAgICBpZiAoaXNOZXcpIHtcbiAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb2JqZWN0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmFzc2lnbmAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGFzc2lnbmVyIFRoZSBmdW5jdGlvbiB0byBhc3NpZ24gdmFsdWVzLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYXNzaWduZXIgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUFzc2lnbmVyKGFzc2lnbmVyKSB7XG4gIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIHNvdXJjZXMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gc291cmNlcy5sZW5ndGgsXG4gICAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPiAxID8gc291cmNlc1tsZW5ndGggLSAxXSA6IHVuZGVmaW5lZCxcbiAgICAgICAgZ3VhcmQgPSBsZW5ndGggPiAyID8gc291cmNlc1syXSA6IHVuZGVmaW5lZDtcblxuICAgIGN1c3RvbWl6ZXIgPSAoYXNzaWduZXIubGVuZ3RoID4gMyAmJiB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nKVxuICAgICAgPyAobGVuZ3RoLS0sIGN1c3RvbWl6ZXIpXG4gICAgICA6IHVuZGVmaW5lZDtcblxuICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChzb3VyY2VzWzBdLCBzb3VyY2VzWzFdLCBndWFyZCkpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPCAzID8gdW5kZWZpbmVkIDogY3VzdG9taXplcjtcbiAgICAgIGxlbmd0aCA9IDE7XG4gICAgfVxuICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgc291cmNlID0gc291cmNlc1tpbmRleF07XG4gICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgIGFzc2lnbmVyKG9iamVjdCwgc291cmNlLCBpbmRleCwgY3VzdG9taXplcik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmplY3Q7XG4gIH0pO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBiYXNlIGZ1bmN0aW9uIGZvciBtZXRob2RzIGxpa2UgYF8uZm9ySW5gIGFuZCBgXy5mb3JPd25gLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJhc2UgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VGb3IoZnJvbVJpZ2h0KSB7XG4gIHJldHVybiBmdW5jdGlvbihvYmplY3QsIGl0ZXJhdGVlLCBrZXlzRnVuYykge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBpdGVyYWJsZSA9IE9iamVjdChvYmplY3QpLFxuICAgICAgICBwcm9wcyA9IGtleXNGdW5jKG9iamVjdCksXG4gICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgdmFyIGtleSA9IHByb3BzW2Zyb21SaWdodCA/IGxlbmd0aCA6ICsraW5kZXhdO1xuICAgICAgaWYgKGl0ZXJhdGVlKGl0ZXJhYmxlW2tleV0sIGtleSwgaXRlcmFibGUpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBkYXRhIGZvciBgbWFwYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgcmVmZXJlbmNlIGtleS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXAgZGF0YS5cbiAqL1xuZnVuY3Rpb24gZ2V0TWFwRGF0YShtYXAsIGtleSkge1xuICB2YXIgZGF0YSA9IG1hcC5fX2RhdGFfXztcbiAgcmV0dXJuIGlzS2V5YWJsZShrZXkpXG4gICAgPyBkYXRhW3R5cGVvZiBrZXkgPT0gJ3N0cmluZycgPyAnc3RyaW5nJyA6ICdoYXNoJ11cbiAgICA6IGRhdGEubWFwO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZ1bmN0aW9uIGlmIGl0J3MgbmF0aXZlLCBlbHNlIGB1bmRlZmluZWRgLlxuICovXG5mdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgdmFyIHZhbHVlID0gZ2V0VmFsdWUob2JqZWN0LCBrZXkpO1xuICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUdldFRhZ2Agd2hpY2ggaWdub3JlcyBgU3ltYm9sLnRvU3RyaW5nVGFnYCB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmF3IGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGdldFJhd1RhZyh2YWx1ZSkge1xuICB2YXIgaXNPd24gPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBzeW1Ub1N0cmluZ1RhZyksXG4gICAgICB0YWcgPSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG5cbiAgdHJ5IHtcbiAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB1bmRlZmluZWQ7XG4gICAgdmFyIHVubWFza2VkID0gdHJ1ZTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB2YXIgcmVzdWx0ID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIGlmICh1bm1hc2tlZCkge1xuICAgIGlmIChpc093bikge1xuICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdGFnO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGUgdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEluaXRpYWxpemVzIGFuIG9iamVjdCBjbG9uZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNsb25lLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gKi9cbmZ1bmN0aW9uIGluaXRDbG9uZU9iamVjdChvYmplY3QpIHtcbiAgcmV0dXJuICh0eXBlb2Ygb2JqZWN0LmNvbnN0cnVjdG9yID09ICdmdW5jdGlvbicgJiYgIWlzUHJvdG90eXBlKG9iamVjdCkpXG4gICAgPyBiYXNlQ3JlYXRlKGdldFByb3RvdHlwZShvYmplY3QpKVxuICAgIDoge307XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG5cbiAgcmV0dXJuICEhbGVuZ3RoICYmXG4gICAgKHR5cGUgPT0gJ251bWJlcicgfHxcbiAgICAgICh0eXBlICE9ICdzeW1ib2wnICYmIHJlSXNVaW50LnRlc3QodmFsdWUpKSkgJiZcbiAgICAgICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSB2YWx1ZSBhcmd1bWVudC5cbiAqIEBwYXJhbSB7Kn0gaW5kZXggVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBpbmRleCBvciBrZXkgYXJndW1lbnQuXG4gKiBAcGFyYW0geyp9IG9iamVjdCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIG9iamVjdCBhcmd1bWVudC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0l0ZXJhdGVlQ2FsbCh2YWx1ZSwgaW5kZXgsIG9iamVjdCkge1xuICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHR5cGUgPSB0eXBlb2YgaW5kZXg7XG4gIGlmICh0eXBlID09ICdudW1iZXInXG4gICAgICAgID8gKGlzQXJyYXlMaWtlKG9iamVjdCkgJiYgaXNJbmRleChpbmRleCwgb2JqZWN0Lmxlbmd0aCkpXG4gICAgICAgIDogKHR5cGUgPT0gJ3N0cmluZycgJiYgaW5kZXggaW4gb2JqZWN0KVxuICAgICAgKSB7XG4gICAgcmV0dXJuIGVxKG9iamVjdFtpbmRleF0sIHZhbHVlKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHVzZSBhcyB1bmlxdWUgb2JqZWN0IGtleS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0tleWFibGUodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAodHlwZSA9PSAnc3RyaW5nJyB8fCB0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicpXG4gICAgPyAodmFsdWUgIT09ICdfX3Byb3RvX18nKVxuICAgIDogKHZhbHVlID09PSBudWxsKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gIHJldHVybiAhIW1hc2tTcmNLZXkgJiYgKG1hc2tTcmNLZXkgaW4gZnVuYyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgcHJvdG90eXBlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSkge1xuICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuICAgICAgcHJvdG8gPSAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSkgfHwgb2JqZWN0UHJvdG87XG5cbiAgcmV0dXJuIHZhbHVlID09PSBwcm90bztcbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2VcbiAqIFtgT2JqZWN0LmtleXNgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAqIGV4Y2VwdCB0aGF0IGl0IGluY2x1ZGVzIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnRpZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIG5hdGl2ZUtleXNJbihvYmplY3QpIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBpZiAob2JqZWN0ICE9IG51bGwpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUmVzdGAgd2hpY2ggdHJhbnNmb3JtcyB0aGUgcmVzdCBhcnJheS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgcmVzdCBhcnJheSB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gb3ZlclJlc3QoZnVuYywgc3RhcnQsIHRyYW5zZm9ybSkge1xuICBzdGFydCA9IG5hdGl2ZU1heChzdGFydCA9PT0gdW5kZWZpbmVkID8gKGZ1bmMubGVuZ3RoIC0gMSkgOiBzdGFydCwgMCk7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3MubGVuZ3RoIC0gc3RhcnQsIDApLFxuICAgICAgICBhcnJheSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYXJyYXlbaW5kZXhdID0gYXJnc1tzdGFydCArIGluZGV4XTtcbiAgICB9XG4gICAgaW5kZXggPSAtMTtcbiAgICB2YXIgb3RoZXJBcmdzID0gQXJyYXkoc3RhcnQgKyAxKTtcbiAgICB3aGlsZSAoKytpbmRleCA8IHN0YXJ0KSB7XG4gICAgICBvdGhlckFyZ3NbaW5kZXhdID0gYXJnc1tpbmRleF07XG4gICAgfVxuICAgIG90aGVyQXJnc1tzdGFydF0gPSB0cmFuc2Zvcm0oYXJyYXkpO1xuICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICB9O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgLCB1bmxlc3MgYGtleWAgaXMgXCJfX3Byb3RvX19cIiBvciBcImNvbnN0cnVjdG9yXCIuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBzYWZlR2V0KG9iamVjdCwga2V5KSB7XG4gIGlmIChrZXkgPT09ICdjb25zdHJ1Y3RvcicgJiYgdHlwZW9mIG9iamVjdFtrZXldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGtleSA9PSAnX19wcm90b19fJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHJldHVybiBvYmplY3Rba2V5XTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBgdG9TdHJpbmdgIG1ldGhvZCBvZiBgZnVuY2AgdG8gcmV0dXJuIGBzdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAqL1xudmFyIHNldFRvU3RyaW5nID0gc2hvcnRPdXQoYmFzZVNldFRvU3RyaW5nKTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCdsbCBzaG9ydCBvdXQgYW5kIGludm9rZSBgaWRlbnRpdHlgIGluc3RlYWRcbiAqIG9mIGBmdW5jYCB3aGVuIGl0J3MgY2FsbGVkIGBIT1RfQ09VTlRgIG9yIG1vcmUgdGltZXMgaW4gYEhPVF9TUEFOYFxuICogbWlsbGlzZWNvbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNob3J0YWJsZSBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gc2hvcnRPdXQoZnVuYykge1xuICB2YXIgY291bnQgPSAwLFxuICAgICAgbGFzdENhbGxlZCA9IDA7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdGFtcCA9IG5hdGl2ZU5vdygpLFxuICAgICAgICByZW1haW5pbmcgPSBIT1RfU1BBTiAtIChzdGFtcCAtIGxhc3RDYWxsZWQpO1xuXG4gICAgbGFzdENhbGxlZCA9IHN0YW1wO1xuICAgIGlmIChyZW1haW5pbmcgPiAwKSB7XG4gICAgICBpZiAoKytjb3VudCA+PSBIT1RfQ09VTlQpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1swXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY291bnQgPSAwO1xuICAgIH1cbiAgICByZXR1cm4gZnVuYy5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cyk7XG4gIH07XG59XG5cbi8qKlxuICogQ29udmVydHMgYGZ1bmNgIHRvIGl0cyBzb3VyY2UgY29kZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNvdXJjZSBjb2RlLlxuICovXG5mdW5jdGlvbiB0b1NvdXJjZShmdW5jKSB7XG4gIGlmIChmdW5jICE9IG51bGwpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZ1bmNUb1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiAoZnVuYyArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiAnJztcbn1cblxuLyoqXG4gKiBQZXJmb3JtcyBhXG4gKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICogY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlIGVxdWl2YWxlbnQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICpcbiAqIF8uZXEob2JqZWN0LCBvYmplY3QpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEob2JqZWN0LCBvdGhlcik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoJ2EnLCAnYScpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEoJ2EnLCBPYmplY3QoJ2EnKSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoTmFOLCBOYU4pO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBlcSh2YWx1ZSwgb3RoZXIpIHtcbiAgcmV0dXJuIHZhbHVlID09PSBvdGhlciB8fCAodmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcik7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGFuIGBhcmd1bWVudHNgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcmd1bWVudHMoWzEsIDIsIDNdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FyZ3VtZW50cyA9IGJhc2VJc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA/IGJhc2VJc0FyZ3VtZW50cyA6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdjYWxsZWUnKSAmJlxuICAgICFwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHZhbHVlLCAnY2FsbGVlJyk7XG59O1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLiBBIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXJyYXktbGlrZSBpZiBpdCdzXG4gKiBub3QgYSBmdW5jdGlvbiBhbmQgaGFzIGEgYHZhbHVlLmxlbmd0aGAgdGhhdCdzIGFuIGludGVnZXIgZ3JlYXRlciB0aGFuIG9yXG4gKiBlcXVhbCB0byBgMGAgYW5kIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZSgnYWJjJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhaXNGdW5jdGlvbih2YWx1ZSk7XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc0FycmF5TGlrZWAgZXhjZXB0IHRoYXQgaXQgYWxzbyBjaGVja3MgaWYgYHZhbHVlYFxuICogaXMgYW4gb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LWxpa2Ugb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdCgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGlzQXJyYXlMaWtlKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMy4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQnVmZmVyKG5ldyBCdWZmZXIoMikpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNCdWZmZXIobmV3IFVpbnQ4QXJyYXkoMikpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQnVmZmVyID0gbmF0aXZlSXNCdWZmZXIgfHwgc3R1YkZhbHNlO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNGdW5jdGlvbihfKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgLy8gaW4gU2FmYXJpIDkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXlzIGFuZCBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gIHZhciB0YWcgPSBiYXNlR2V0VGFnKHZhbHVlKTtcbiAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWcgfHwgdGFnID09IGFzeW5jVGFnIHx8IHRhZyA9PSBwcm94eVRhZztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgbGVuZ3RoLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gKiBbYFRvTGVuZ3RoYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9sZW5ndGgpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgbGVuZ3RoLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNMZW5ndGgoMyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aChJbmZpbml0eSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoJzMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiZcbiAgICB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgdGhhdCBpcywgYW4gb2JqZWN0IGNyZWF0ZWQgYnkgdGhlXG4gKiBgT2JqZWN0YCBjb25zdHJ1Y3RvciBvciBvbmUgd2l0aCBhIGBbW1Byb3RvdHlwZV1dYCBvZiBgbnVsbGAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjguMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogfVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChuZXcgRm9vKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc1BsYWluT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdCh7ICd4JzogMCwgJ3knOiAwIH0pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgfHwgYmFzZUdldFRhZyh2YWx1ZSkgIT0gb2JqZWN0VGFnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwcm90byA9IGdldFByb3RvdHlwZSh2YWx1ZSk7XG4gIGlmIChwcm90byA9PT0gbnVsbCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHZhciBDdG9yID0gaGFzT3duUHJvcGVydHkuY2FsbChwcm90bywgJ2NvbnN0cnVjdG9yJykgJiYgcHJvdG8uY29uc3RydWN0b3I7XG4gIHJldHVybiB0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IgaW5zdGFuY2VvZiBDdG9yICYmXG4gICAgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgdHlwZWQgYXJyYXkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzVHlwZWRBcnJheShuZXcgVWludDhBcnJheSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1R5cGVkQXJyYXkoW10pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzVHlwZWRBcnJheSA9IG5vZGVJc1R5cGVkQXJyYXkgPyBiYXNlVW5hcnkobm9kZUlzVHlwZWRBcnJheSkgOiBiYXNlSXNUeXBlZEFycmF5O1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBwbGFpbiBvYmplY3QgZmxhdHRlbmluZyBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmdcbiAqIGtleWVkIHByb3BlcnRpZXMgb2YgYHZhbHVlYCB0byBvd24gcHJvcGVydGllcyBvZiB0aGUgcGxhaW4gb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29udmVydGVkIHBsYWluIG9iamVjdC5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmIgPSAyO1xuICogfVxuICpcbiAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gKlxuICogXy5hc3NpZ24oeyAnYSc6IDEgfSwgbmV3IEZvbyk7XG4gKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAqXG4gKiBfLmFzc2lnbih7ICdhJzogMSB9LCBfLnRvUGxhaW5PYmplY3QobmV3IEZvbykpO1xuICogLy8gPT4geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH1cbiAqL1xuZnVuY3Rpb24gdG9QbGFpbk9iamVjdCh2YWx1ZSkge1xuICByZXR1cm4gY29weU9iamVjdCh2YWx1ZSwga2V5c0luKHZhbHVlKSk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAqXG4gKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBGb28oKSB7XG4gKiAgIHRoaXMuYSA9IDE7XG4gKiAgIHRoaXMuYiA9IDI7XG4gKiB9XG4gKlxuICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAqXG4gKiBfLmtleXNJbihuZXcgRm9vKTtcbiAqIC8vID0+IFsnYScsICdiJywgJ2MnXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICovXG5mdW5jdGlvbiBrZXlzSW4ob2JqZWN0KSB7XG4gIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QsIHRydWUpIDogYmFzZUtleXNJbihvYmplY3QpO1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYXNzaWduYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBtZXJnZXMgb3duIGFuZFxuICogaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2Ygc291cmNlIG9iamVjdHMgaW50byB0aGVcbiAqIGRlc3RpbmF0aW9uIG9iamVjdC4gU291cmNlIHByb3BlcnRpZXMgdGhhdCByZXNvbHZlIHRvIGB1bmRlZmluZWRgIGFyZVxuICogc2tpcHBlZCBpZiBhIGRlc3RpbmF0aW9uIHZhbHVlIGV4aXN0cy4gQXJyYXkgYW5kIHBsYWluIG9iamVjdCBwcm9wZXJ0aWVzXG4gKiBhcmUgbWVyZ2VkIHJlY3Vyc2l2ZWx5LiBPdGhlciBvYmplY3RzIGFuZCB2YWx1ZSB0eXBlcyBhcmUgb3ZlcnJpZGRlbiBieVxuICogYXNzaWdubWVudC4gU291cmNlIG9iamVjdHMgYXJlIGFwcGxpZWQgZnJvbSBsZWZ0IHRvIHJpZ2h0LiBTdWJzZXF1ZW50XG4gKiBzb3VyY2VzIG92ZXJ3cml0ZSBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyBzb3VyY2VzLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC41LjBcbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHtcbiAqICAgJ2EnOiBbeyAnYic6IDIgfSwgeyAnZCc6IDQgfV1cbiAqIH07XG4gKlxuICogdmFyIG90aGVyID0ge1xuICogICAnYSc6IFt7ICdjJzogMyB9LCB7ICdlJzogNSB9XVxuICogfTtcbiAqXG4gKiBfLm1lcmdlKG9iamVjdCwgb3RoZXIpO1xuICogLy8gPT4geyAnYSc6IFt7ICdiJzogMiwgJ2MnOiAzIH0sIHsgJ2QnOiA0LCAnZSc6IDUgfV0gfVxuICovXG52YXIgbWVyZ2UgPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgpIHtcbiAgYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCk7XG59KTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGB2YWx1ZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAyLjQuMFxuICogQGNhdGVnb3J5IFV0aWxcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHJldHVybiBmcm9tIHRoZSBuZXcgZnVuY3Rpb24uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb25zdGFudCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdHMgPSBfLnRpbWVzKDIsIF8uY29uc3RhbnQoeyAnYSc6IDEgfSkpO1xuICpcbiAqIGNvbnNvbGUubG9nKG9iamVjdHMpO1xuICogLy8gPT4gW3sgJ2EnOiAxIH0sIHsgJ2EnOiAxIH1dXG4gKlxuICogY29uc29sZS5sb2cob2JqZWN0c1swXSA9PT0gb2JqZWN0c1sxXSk7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGNvbnN0YW50KHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZmlyc3QgYXJndW1lbnQgaXQgcmVjZWl2ZXMuXG4gKlxuICogQHN0YXRpY1xuICogQHNpbmNlIDAuMS4wXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IFV0aWxcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgQW55IHZhbHVlLlxuICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKlxuICogY29uc29sZS5sb2coXy5pZGVudGl0eShvYmplY3QpID09PSBvYmplY3QpO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBpZGVudGl0eSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWU7XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyBgZmFsc2VgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4xMy4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50aW1lcygyLCBfLnN0dWJGYWxzZSk7XG4gKiAvLyA9PiBbZmFsc2UsIGZhbHNlXVxuICovXG5mdW5jdGlvbiBzdHViRmFsc2UoKSB7XG4gIHJldHVybiBmYWxzZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBtZXJnZTtcbiIsInZhciBfY2MgPSBbXG4gIHtjYXJkaW5hbDpbXCJvdGhlclwiXSxvcmRpbmFsOltcIm90aGVyXCJdfSxcbiAge2NhcmRpbmFsOltcIm9uZVwiLFwib3RoZXJcIl0sb3JkaW5hbDpbXCJvdGhlclwiXX0sXG4gIHtjYXJkaW5hbDpbXCJvbmVcIixcIm90aGVyXCJdLG9yZGluYWw6W1wib25lXCIsXCJvdGhlclwiXX0sXG4gIHtjYXJkaW5hbDpbXCJvbmVcIixcInR3b1wiLFwib3RoZXJcIl0sb3JkaW5hbDpbXCJvdGhlclwiXX1cbl07XG5cbihmdW5jdGlvbiAocm9vdCwgcGx1cmFsQ2F0ZWdvcmllcykge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKHBsdXJhbENhdGVnb3JpZXMpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gcGx1cmFsQ2F0ZWdvcmllcztcbiAgfSBlbHNlIHtcbiAgICByb290LnBsdXJhbENhdGVnb3JpZXMgPSBwbHVyYWxDYXRlZ29yaWVzO1xuICB9XG59KHRoaXMsIHtcbmFmOiBfY2NbMV0sXG5hazogX2NjWzFdLFxuYW06IF9jY1sxXSxcbmFyOiB7Y2FyZGluYWw6W1wiemVyb1wiLFwib25lXCIsXCJ0d29cIixcImZld1wiLFwibWFueVwiLFwib3RoZXJcIl0sb3JkaW5hbDpbXCJvdGhlclwiXX0sXG5hcnM6IHtjYXJkaW5hbDpbXCJ6ZXJvXCIsXCJvbmVcIixcInR3b1wiLFwiZmV3XCIsXCJtYW55XCIsXCJvdGhlclwiXSxvcmRpbmFsOltcIm90aGVyXCJdfSxcbmFzOiB7Y2FyZGluYWw6W1wib25lXCIsXCJvdGhlclwiXSxvcmRpbmFsOltcIm9uZVwiLFwidHdvXCIsXCJmZXdcIixcIm1hbnlcIixcIm90aGVyXCJdfSxcbmFzYTogX2NjWzFdLFxuYXN0OiBfY2NbMV0sXG5hejoge2NhcmRpbmFsOltcIm9uZVwiLFwib3RoZXJcIl0sb3JkaW5hbDpbXCJvbmVcIixcImZld1wiLFwibWFueVwiLFwib3RoZXJcIl19LFxuYmU6IHtjYXJkaW5hbDpbXCJvbmVcIixcImZld1wiLFwibWFueVwiLFwib3RoZXJcIl0sb3JkaW5hbDpbXCJmZXdcIixcIm90aGVyXCJdfSxcbmJlbTogX2NjWzFdLFxuYmV6OiBfY2NbMV0sXG5iZzogX2NjWzFdLFxuYmg6IF9jY1sxXSxcbmJtOiBfY2NbMF0sXG5ibjoge2NhcmRpbmFsOltcIm9uZVwiLFwib3RoZXJcIl0sb3JkaW5hbDpbXCJvbmVcIixcInR3b1wiLFwiZmV3XCIsXCJtYW55XCIsXCJvdGhlclwiXX0sXG5ibzogX2NjWzBdLFxuYnI6IHtjYXJkaW5hbDpbXCJvbmVcIixcInR3b1wiLFwiZmV3XCIsXCJtYW55XCIsXCJvdGhlclwiXSxvcmRpbmFsOltcIm90aGVyXCJdfSxcbmJyeDogX2NjWzFdLFxuYnM6IHtjYXJkaW5hbDpbXCJvbmVcIixcImZld1wiLFwib3RoZXJcIl0sb3JkaW5hbDpbXCJvdGhlclwiXX0sXG5jYToge2NhcmRpbmFsOltcIm9uZVwiLFwib3RoZXJcIl0sb3JkaW5hbDpbXCJvbmVcIixcInR3b1wiLFwiZmV3XCIsXCJvdGhlclwiXX0sXG5jZTogX2NjWzFdLFxuY2dnOiBfY2NbMV0sXG5jaHI6IF9jY1sxXSxcbmNrYjogX2NjWzFdLFxuY3M6IHtjYXJkaW5hbDpbXCJvbmVcIixcImZld1wiLFwibWFueVwiLFwib3RoZXJcIl0sb3JkaW5hbDpbXCJvdGhlclwiXX0sXG5jeToge2NhcmRpbmFsOltcInplcm9cIixcIm9uZVwiLFwidHdvXCIsXCJmZXdcIixcIm1hbnlcIixcIm90aGVyXCJdLG9yZGluYWw6W1wiemVyb1wiLFwib25lXCIsXCJ0d29cIixcImZld1wiLFwibWFueVwiLFwib3RoZXJcIl19LFxuZGE6IF9jY1sxXSxcbmRlOiBfY2NbMV0sXG5kc2I6IHtjYXJkaW5hbDpbXCJvbmVcIixcInR3b1wiLFwiZmV3XCIsXCJvdGhlclwiXSxvcmRpbmFsOltcIm90aGVyXCJdfSxcbmR2OiBfY2NbMV0sXG5kejogX2NjWzBdLFxuZWU6IF9jY1sxXSxcbmVsOiBfY2NbMV0sXG5lbjoge2NhcmRpbmFsOltcIm9uZVwiLFwib3RoZXJcIl0sb3JkaW5hbDpbXCJvbmVcIixcInR3b1wiLFwiZmV3XCIsXCJvdGhlclwiXX0sXG5lbzogX2NjWzFdLFxuZXM6IF9jY1sxXSxcbmV0OiBfY2NbMV0sXG5ldTogX2NjWzFdLFxuZmE6IF9jY1sxXSxcbmZmOiBfY2NbMV0sXG5maTogX2NjWzFdLFxuZmlsOiBfY2NbMl0sXG5mbzogX2NjWzFdLFxuZnI6IF9jY1syXSxcbmZ1cjogX2NjWzFdLFxuZnk6IF9jY1sxXSxcbmdhOiB7Y2FyZGluYWw6W1wib25lXCIsXCJ0d29cIixcImZld1wiLFwibWFueVwiLFwib3RoZXJcIl0sb3JkaW5hbDpbXCJvbmVcIixcIm90aGVyXCJdfSxcbmdkOiB7Y2FyZGluYWw6W1wib25lXCIsXCJ0d29cIixcImZld1wiLFwib3RoZXJcIl0sb3JkaW5hbDpbXCJvbmVcIixcInR3b1wiLFwiZmV3XCIsXCJvdGhlclwiXX0sXG5nbDogX2NjWzFdLFxuZ3N3OiBfY2NbMV0sXG5ndToge2NhcmRpbmFsOltcIm9uZVwiLFwib3RoZXJcIl0sb3JkaW5hbDpbXCJvbmVcIixcInR3b1wiLFwiZmV3XCIsXCJtYW55XCIsXCJvdGhlclwiXX0sXG5ndXc6IF9jY1sxXSxcbmd2OiB7Y2FyZGluYWw6W1wib25lXCIsXCJ0d29cIixcImZld1wiLFwibWFueVwiLFwib3RoZXJcIl0sb3JkaW5hbDpbXCJvdGhlclwiXX0sXG5oYTogX2NjWzFdLFxuaGF3OiBfY2NbMV0sXG5oZToge2NhcmRpbmFsOltcIm9uZVwiLFwidHdvXCIsXCJtYW55XCIsXCJvdGhlclwiXSxvcmRpbmFsOltcIm90aGVyXCJdfSxcbmhpOiB7Y2FyZGluYWw6W1wib25lXCIsXCJvdGhlclwiXSxvcmRpbmFsOltcIm9uZVwiLFwidHdvXCIsXCJmZXdcIixcIm1hbnlcIixcIm90aGVyXCJdfSxcbmhyOiB7Y2FyZGluYWw6W1wib25lXCIsXCJmZXdcIixcIm90aGVyXCJdLG9yZGluYWw6W1wib3RoZXJcIl19LFxuaHNiOiB7Y2FyZGluYWw6W1wib25lXCIsXCJ0d29cIixcImZld1wiLFwib3RoZXJcIl0sb3JkaW5hbDpbXCJvdGhlclwiXX0sXG5odTogX2NjWzJdLFxuaHk6IF9jY1syXSxcbmlhOiBfY2NbMV0sXG5pZDogX2NjWzBdLFxuaWc6IF9jY1swXSxcbmlpOiBfY2NbMF0sXG5cImluXCI6IF9jY1swXSxcbmlvOiBfY2NbMV0sXG5pczogX2NjWzFdLFxuaXQ6IHtjYXJkaW5hbDpbXCJvbmVcIixcIm90aGVyXCJdLG9yZGluYWw6W1wibWFueVwiLFwib3RoZXJcIl19LFxuaXU6IF9jY1szXSxcbml3OiB7Y2FyZGluYWw6W1wib25lXCIsXCJ0d29cIixcIm1hbnlcIixcIm90aGVyXCJdLG9yZGluYWw6W1wib3RoZXJcIl19LFxuamE6IF9jY1swXSxcbmpibzogX2NjWzBdLFxuamdvOiBfY2NbMV0sXG5qaTogX2NjWzFdLFxuam1jOiBfY2NbMV0sXG5qdjogX2NjWzBdLFxuanc6IF9jY1swXSxcbmthOiB7Y2FyZGluYWw6W1wib25lXCIsXCJvdGhlclwiXSxvcmRpbmFsOltcIm9uZVwiLFwibWFueVwiLFwib3RoZXJcIl19LFxua2FiOiBfY2NbMV0sXG5rYWo6IF9jY1sxXSxcbmtjZzogX2NjWzFdLFxua2RlOiBfY2NbMF0sXG5rZWE6IF9jY1swXSxcbmtrOiB7Y2FyZGluYWw6W1wib25lXCIsXCJvdGhlclwiXSxvcmRpbmFsOltcIm1hbnlcIixcIm90aGVyXCJdfSxcbmtrajogX2NjWzFdLFxua2w6IF9jY1sxXSxcbmttOiBfY2NbMF0sXG5rbjogX2NjWzFdLFxua286IF9jY1swXSxcbmtzOiBfY2NbMV0sXG5rc2I6IF9jY1sxXSxcbmtzaDoge2NhcmRpbmFsOltcInplcm9cIixcIm9uZVwiLFwib3RoZXJcIl0sb3JkaW5hbDpbXCJvdGhlclwiXX0sXG5rdTogX2NjWzFdLFxua3c6IF9jY1szXSxcbmt5OiBfY2NbMV0sXG5sYWc6IHtjYXJkaW5hbDpbXCJ6ZXJvXCIsXCJvbmVcIixcIm90aGVyXCJdLG9yZGluYWw6W1wib3RoZXJcIl19LFxubGI6IF9jY1sxXSxcbmxnOiBfY2NbMV0sXG5sa3Q6IF9jY1swXSxcbmxuOiBfY2NbMV0sXG5sbzoge2NhcmRpbmFsOltcIm90aGVyXCJdLG9yZGluYWw6W1wib25lXCIsXCJvdGhlclwiXX0sXG5sdDoge2NhcmRpbmFsOltcIm9uZVwiLFwiZmV3XCIsXCJtYW55XCIsXCJvdGhlclwiXSxvcmRpbmFsOltcIm90aGVyXCJdfSxcbmx2OiB7Y2FyZGluYWw6W1wiemVyb1wiLFwib25lXCIsXCJvdGhlclwiXSxvcmRpbmFsOltcIm90aGVyXCJdfSxcbm1hczogX2NjWzFdLFxubWc6IF9jY1sxXSxcbm1nbzogX2NjWzFdLFxubWs6IHtjYXJkaW5hbDpbXCJvbmVcIixcIm90aGVyXCJdLG9yZGluYWw6W1wib25lXCIsXCJ0d29cIixcIm1hbnlcIixcIm90aGVyXCJdfSxcbm1sOiBfY2NbMV0sXG5tbjogX2NjWzFdLFxubW86IHtjYXJkaW5hbDpbXCJvbmVcIixcImZld1wiLFwib3RoZXJcIl0sb3JkaW5hbDpbXCJvbmVcIixcIm90aGVyXCJdfSxcbm1yOiB7Y2FyZGluYWw6W1wib25lXCIsXCJvdGhlclwiXSxvcmRpbmFsOltcIm9uZVwiLFwidHdvXCIsXCJmZXdcIixcIm90aGVyXCJdfSxcbm1zOiB7Y2FyZGluYWw6W1wib3RoZXJcIl0sb3JkaW5hbDpbXCJvbmVcIixcIm90aGVyXCJdfSxcbm10OiB7Y2FyZGluYWw6W1wib25lXCIsXCJmZXdcIixcIm1hbnlcIixcIm90aGVyXCJdLG9yZGluYWw6W1wib3RoZXJcIl19LFxubXk6IF9jY1swXSxcbm5haDogX2NjWzFdLFxubmFxOiBfY2NbM10sXG5uYjogX2NjWzFdLFxubmQ6IF9jY1sxXSxcbm5lOiBfY2NbMl0sXG5ubDogX2NjWzFdLFxubm46IF9jY1sxXSxcbm5uaDogX2NjWzFdLFxubm86IF9jY1sxXSxcbm5xbzogX2NjWzBdLFxubnI6IF9jY1sxXSxcbm5zbzogX2NjWzFdLFxubnk6IF9jY1sxXSxcbm55bjogX2NjWzFdLFxub206IF9jY1sxXSxcbm9yOiB7Y2FyZGluYWw6W1wib25lXCIsXCJvdGhlclwiXSxvcmRpbmFsOltcIm9uZVwiLFwidHdvXCIsXCJmZXdcIixcIm1hbnlcIixcIm90aGVyXCJdfSxcbm9zOiBfY2NbMV0sXG5wYTogX2NjWzFdLFxucGFwOiBfY2NbMV0sXG5wbDoge2NhcmRpbmFsOltcIm9uZVwiLFwiZmV3XCIsXCJtYW55XCIsXCJvdGhlclwiXSxvcmRpbmFsOltcIm90aGVyXCJdfSxcbnByZzoge2NhcmRpbmFsOltcInplcm9cIixcIm9uZVwiLFwib3RoZXJcIl0sb3JkaW5hbDpbXCJvdGhlclwiXX0sXG5wczogX2NjWzFdLFxucHQ6IF9jY1sxXSxcblwicHQtUFRcIjogX2NjWzFdLFxucm06IF9jY1sxXSxcbnJvOiB7Y2FyZGluYWw6W1wib25lXCIsXCJmZXdcIixcIm90aGVyXCJdLG9yZGluYWw6W1wib25lXCIsXCJvdGhlclwiXX0sXG5yb2Y6IF9jY1sxXSxcbnJvb3Q6IF9jY1swXSxcbnJ1OiB7Y2FyZGluYWw6W1wib25lXCIsXCJmZXdcIixcIm1hbnlcIixcIm90aGVyXCJdLG9yZGluYWw6W1wib3RoZXJcIl19LFxucndrOiBfY2NbMV0sXG5zYWg6IF9jY1swXSxcbnNhcTogX2NjWzFdLFxuc2M6IHtjYXJkaW5hbDpbXCJvbmVcIixcIm90aGVyXCJdLG9yZGluYWw6W1wibWFueVwiLFwib3RoZXJcIl19LFxuc2NuOiB7Y2FyZGluYWw6W1wib25lXCIsXCJvdGhlclwiXSxvcmRpbmFsOltcIm1hbnlcIixcIm90aGVyXCJdfSxcbnNkOiBfY2NbMV0sXG5zZGg6IF9jY1sxXSxcbnNlOiBfY2NbM10sXG5zZWg6IF9jY1sxXSxcbnNlczogX2NjWzBdLFxuc2c6IF9jY1swXSxcbnNoOiB7Y2FyZGluYWw6W1wib25lXCIsXCJmZXdcIixcIm90aGVyXCJdLG9yZGluYWw6W1wib3RoZXJcIl19LFxuc2hpOiB7Y2FyZGluYWw6W1wib25lXCIsXCJmZXdcIixcIm90aGVyXCJdLG9yZGluYWw6W1wib3RoZXJcIl19LFxuc2k6IF9jY1sxXSxcbnNrOiB7Y2FyZGluYWw6W1wib25lXCIsXCJmZXdcIixcIm1hbnlcIixcIm90aGVyXCJdLG9yZGluYWw6W1wib3RoZXJcIl19LFxuc2w6IHtjYXJkaW5hbDpbXCJvbmVcIixcInR3b1wiLFwiZmV3XCIsXCJvdGhlclwiXSxvcmRpbmFsOltcIm90aGVyXCJdfSxcbnNtYTogX2NjWzNdLFxuc21pOiBfY2NbM10sXG5zbWo6IF9jY1szXSxcbnNtbjogX2NjWzNdLFxuc21zOiBfY2NbM10sXG5zbjogX2NjWzFdLFxuc286IF9jY1sxXSxcbnNxOiB7Y2FyZGluYWw6W1wib25lXCIsXCJvdGhlclwiXSxvcmRpbmFsOltcIm9uZVwiLFwibWFueVwiLFwib3RoZXJcIl19LFxuc3I6IHtjYXJkaW5hbDpbXCJvbmVcIixcImZld1wiLFwib3RoZXJcIl0sb3JkaW5hbDpbXCJvdGhlclwiXX0sXG5zczogX2NjWzFdLFxuc3N5OiBfY2NbMV0sXG5zdDogX2NjWzFdLFxuc3Y6IF9jY1syXSxcbnN3OiBfY2NbMV0sXG5zeXI6IF9jY1sxXSxcbnRhOiBfY2NbMV0sXG50ZTogX2NjWzFdLFxudGVvOiBfY2NbMV0sXG50aDogX2NjWzBdLFxudGk6IF9jY1sxXSxcbnRpZzogX2NjWzFdLFxudGs6IHtjYXJkaW5hbDpbXCJvbmVcIixcIm90aGVyXCJdLG9yZGluYWw6W1wiZmV3XCIsXCJvdGhlclwiXX0sXG50bDogX2NjWzJdLFxudG46IF9jY1sxXSxcbnRvOiBfY2NbMF0sXG50cjogX2NjWzFdLFxudHM6IF9jY1sxXSxcbnR6bTogX2NjWzFdLFxudWc6IF9jY1sxXSxcbnVrOiB7Y2FyZGluYWw6W1wib25lXCIsXCJmZXdcIixcIm1hbnlcIixcIm90aGVyXCJdLG9yZGluYWw6W1wiZmV3XCIsXCJvdGhlclwiXX0sXG51cjogX2NjWzFdLFxudXo6IF9jY1sxXSxcbnZlOiBfY2NbMV0sXG52aToge2NhcmRpbmFsOltcIm90aGVyXCJdLG9yZGluYWw6W1wib25lXCIsXCJvdGhlclwiXX0sXG52bzogX2NjWzFdLFxudnVuOiBfY2NbMV0sXG53YTogX2NjWzFdLFxud2FlOiBfY2NbMV0sXG53bzogX2NjWzBdLFxueGg6IF9jY1sxXSxcbnhvZzogX2NjWzFdLFxueWk6IF9jY1sxXSxcbnlvOiBfY2NbMF0sXG55dWU6IF9jY1swXSxcbnpoOiBfY2NbMF0sXG56dTogX2NjWzFdXG59KSk7XG4iLCJ2YXIgX2NwID0gW1xuZnVuY3Rpb24obiwgb3JkKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gJ290aGVyJztcbn0sXG5mdW5jdGlvbihuLCBvcmQpIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5mdW5jdGlvbihuLCBvcmQpIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAoKG4gPT0gMFxuICAgICAgICAgIHx8IG4gPT0gMSkpID8gJ29uZScgOiAnb3RoZXInO1xufSxcbmZ1bmN0aW9uKG4sIG9yZCkge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCB2MCA9ICFzWzFdO1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEgJiYgdjApID8gJ29uZScgOiAnb3RoZXInO1xufVxuXTtcblxuKGZ1bmN0aW9uIChyb290LCBwbHVyYWxzKSB7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUocGx1cmFscyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBwbHVyYWxzO1xuICB9IGVsc2Uge1xuICAgIHJvb3QucGx1cmFscyA9IHBsdXJhbHM7XG4gIH1cbn0odGhpcywge1xuYWY6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5hazogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAoKG4gPT0gMFxuICAgICAgICAgIHx8IG4gPT0gMSkpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuYW06IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPj0gMCAmJiBuIDw9IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuYXI6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIHQwID0gTnVtYmVyKHNbMF0pID09IG4sXG4gICAgICBuMTAwID0gdDAgJiYgc1swXS5zbGljZSgtMik7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMCkgPyAnemVybydcbiAgICAgIDogKG4gPT0gMSkgPyAnb25lJ1xuICAgICAgOiAobiA9PSAyKSA/ICd0d28nXG4gICAgICA6ICgobjEwMCA+PSAzICYmIG4xMDAgPD0gMTApKSA/ICdmZXcnXG4gICAgICA6ICgobjEwMCA+PSAxMSAmJiBuMTAwIDw9IDk5KSkgPyAnbWFueSdcbiAgICAgIDogJ290aGVyJztcbn0sXG5cbmFyczogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgdDAgPSBOdW1iZXIoc1swXSkgPT0gbixcbiAgICAgIG4xMDAgPSB0MCAmJiBzWzBdLnNsaWNlKC0yKTtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAwKSA/ICd6ZXJvJ1xuICAgICAgOiAobiA9PSAxKSA/ICdvbmUnXG4gICAgICA6IChuID09IDIpID8gJ3R3bydcbiAgICAgIDogKChuMTAwID49IDMgJiYgbjEwMCA8PSAxMCkpID8gJ2ZldydcbiAgICAgIDogKChuMTAwID49IDExICYmIG4xMDAgPD0gOTkpKSA/ICdtYW55J1xuICAgICAgOiAnb3RoZXInO1xufSxcblxuYXM6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAoKG4gPT0gMSB8fCBuID09IDUgfHwgbiA9PSA3IHx8IG4gPT0gOCB8fCBuID09IDlcbiAgICAgICAgICB8fCBuID09IDEwKSkgPyAnb25lJ1xuICAgICAgOiAoKG4gPT0gMlxuICAgICAgICAgIHx8IG4gPT0gMykpID8gJ3R3bydcbiAgICAgIDogKG4gPT0gNCkgPyAnZmV3J1xuICAgICAgOiAobiA9PSA2KSA/ICdtYW55J1xuICAgICAgOiAnb3RoZXInO1xuICByZXR1cm4gKG4gPj0gMCAmJiBuIDw9IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuYXNhOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuYXN0OiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCB2MCA9ICFzWzFdO1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEgJiYgdjApID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuYXo6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIGkgPSBzWzBdLCBpMTAgPSBpLnNsaWNlKC0xKSxcbiAgICAgIGkxMDAgPSBpLnNsaWNlKC0yKSwgaTEwMDAgPSBpLnNsaWNlKC0zKTtcbiAgaWYgKG9yZCkgcmV0dXJuICgoaTEwID09IDEgfHwgaTEwID09IDIgfHwgaTEwID09IDUgfHwgaTEwID09IDcgfHwgaTEwID09IDgpXG4gICAgICAgICAgfHwgKGkxMDAgPT0gMjAgfHwgaTEwMCA9PSA1MCB8fCBpMTAwID09IDcwXG4gICAgICAgICAgfHwgaTEwMCA9PSA4MCkpID8gJ29uZSdcbiAgICAgIDogKChpMTAgPT0gMyB8fCBpMTAgPT0gNCkgfHwgKGkxMDAwID09IDEwMCB8fCBpMTAwMCA9PSAyMDBcbiAgICAgICAgICB8fCBpMTAwMCA9PSAzMDAgfHwgaTEwMDAgPT0gNDAwIHx8IGkxMDAwID09IDUwMCB8fCBpMTAwMCA9PSA2MDAgfHwgaTEwMDAgPT0gNzAwXG4gICAgICAgICAgfHwgaTEwMDAgPT0gODAwXG4gICAgICAgICAgfHwgaTEwMDAgPT0gOTAwKSkgPyAnZmV3J1xuICAgICAgOiAoaSA9PSAwIHx8IGkxMCA9PSA2IHx8IChpMTAwID09IDQwIHx8IGkxMDAgPT0gNjBcbiAgICAgICAgICB8fCBpMTAwID09IDkwKSkgPyAnbWFueSdcbiAgICAgIDogJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuYmU6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIHQwID0gTnVtYmVyKHNbMF0pID09IG4sXG4gICAgICBuMTAgPSB0MCAmJiBzWzBdLnNsaWNlKC0xKSwgbjEwMCA9IHQwICYmIHNbMF0uc2xpY2UoLTIpO1xuICBpZiAob3JkKSByZXR1cm4gKChuMTAgPT0gMlxuICAgICAgICAgIHx8IG4xMCA9PSAzKSAmJiBuMTAwICE9IDEyICYmIG4xMDAgIT0gMTMpID8gJ2ZldycgOiAnb3RoZXInO1xuICByZXR1cm4gKG4xMCA9PSAxICYmIG4xMDAgIT0gMTEpID8gJ29uZSdcbiAgICAgIDogKChuMTAgPj0gMiAmJiBuMTAgPD0gNCkgJiYgKG4xMDAgPCAxMlxuICAgICAgICAgIHx8IG4xMDAgPiAxNCkpID8gJ2ZldydcbiAgICAgIDogKHQwICYmIG4xMCA9PSAwIHx8IChuMTAgPj0gNSAmJiBuMTAgPD0gOSlcbiAgICAgICAgICB8fCAobjEwMCA+PSAxMSAmJiBuMTAwIDw9IDE0KSkgPyAnbWFueSdcbiAgICAgIDogJ290aGVyJztcbn0sXG5cbmJlbTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmJlejogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmJnOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuYmg6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKChuID09IDBcbiAgICAgICAgICB8fCBuID09IDEpKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmJtOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICdvdGhlcic7XG59LFxuXG5ibjogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICgobiA9PSAxIHx8IG4gPT0gNSB8fCBuID09IDcgfHwgbiA9PSA4IHx8IG4gPT0gOVxuICAgICAgICAgIHx8IG4gPT0gMTApKSA/ICdvbmUnXG4gICAgICA6ICgobiA9PSAyXG4gICAgICAgICAgfHwgbiA9PSAzKSkgPyAndHdvJ1xuICAgICAgOiAobiA9PSA0KSA/ICdmZXcnXG4gICAgICA6IChuID09IDYpID8gJ21hbnknXG4gICAgICA6ICdvdGhlcic7XG4gIHJldHVybiAobiA+PSAwICYmIG4gPD0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5ibzogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAnb3RoZXInO1xufSxcblxuYnI6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIHQwID0gTnVtYmVyKHNbMF0pID09IG4sXG4gICAgICBuMTAgPSB0MCAmJiBzWzBdLnNsaWNlKC0xKSwgbjEwMCA9IHQwICYmIHNbMF0uc2xpY2UoLTIpLFxuICAgICAgbjEwMDAwMDAgPSB0MCAmJiBzWzBdLnNsaWNlKC02KTtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobjEwID09IDEgJiYgbjEwMCAhPSAxMSAmJiBuMTAwICE9IDcxICYmIG4xMDAgIT0gOTEpID8gJ29uZSdcbiAgICAgIDogKG4xMCA9PSAyICYmIG4xMDAgIT0gMTIgJiYgbjEwMCAhPSA3MiAmJiBuMTAwICE9IDkyKSA/ICd0d28nXG4gICAgICA6ICgoKG4xMCA9PSAzIHx8IG4xMCA9PSA0KSB8fCBuMTAgPT0gOSkgJiYgKG4xMDAgPCAxMFxuICAgICAgICAgIHx8IG4xMDAgPiAxOSkgJiYgKG4xMDAgPCA3MCB8fCBuMTAwID4gNzkpICYmIChuMTAwIDwgOTBcbiAgICAgICAgICB8fCBuMTAwID4gOTkpKSA/ICdmZXcnXG4gICAgICA6IChuICE9IDAgJiYgdDAgJiYgbjEwMDAwMDAgPT0gMCkgPyAnbWFueSdcbiAgICAgIDogJ290aGVyJztcbn0sXG5cbmJyeDogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmJzOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCBpID0gc1swXSwgZiA9IHNbMV0gfHwgJycsIHYwID0gIXNbMV0sXG4gICAgICBpMTAgPSBpLnNsaWNlKC0xKSwgaTEwMCA9IGkuc2xpY2UoLTIpLCBmMTAgPSBmLnNsaWNlKC0xKSwgZjEwMCA9IGYuc2xpY2UoLTIpO1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICh2MCAmJiBpMTAgPT0gMSAmJiBpMTAwICE9IDExXG4gICAgICAgICAgfHwgZjEwID09IDEgJiYgZjEwMCAhPSAxMSkgPyAnb25lJ1xuICAgICAgOiAodjAgJiYgKGkxMCA+PSAyICYmIGkxMCA8PSA0KSAmJiAoaTEwMCA8IDEyIHx8IGkxMDAgPiAxNClcbiAgICAgICAgICB8fCAoZjEwID49IDIgJiYgZjEwIDw9IDQpICYmIChmMTAwIDwgMTJcbiAgICAgICAgICB8fCBmMTAwID4gMTQpKSA/ICdmZXcnXG4gICAgICA6ICdvdGhlcic7XG59LFxuXG5jYTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgdjAgPSAhc1sxXTtcbiAgaWYgKG9yZCkgcmV0dXJuICgobiA9PSAxXG4gICAgICAgICAgfHwgbiA9PSAzKSkgPyAnb25lJ1xuICAgICAgOiAobiA9PSAyKSA/ICd0d28nXG4gICAgICA6IChuID09IDQpID8gJ2ZldydcbiAgICAgIDogJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEgJiYgdjApID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuY2U6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5jZ2c6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5jaHI6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5ja2I6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5jczogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgaSA9IHNbMF0sIHYwID0gIXNbMV07XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSAmJiB2MCkgPyAnb25lJ1xuICAgICAgOiAoKGkgPj0gMiAmJiBpIDw9IDQpICYmIHYwKSA/ICdmZXcnXG4gICAgICA6ICghdjApID8gJ21hbnknXG4gICAgICA6ICdvdGhlcic7XG59LFxuXG5jeTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICgobiA9PSAwIHx8IG4gPT0gNyB8fCBuID09IDhcbiAgICAgICAgICB8fCBuID09IDkpKSA/ICd6ZXJvJ1xuICAgICAgOiAobiA9PSAxKSA/ICdvbmUnXG4gICAgICA6IChuID09IDIpID8gJ3R3bydcbiAgICAgIDogKChuID09IDNcbiAgICAgICAgICB8fCBuID09IDQpKSA/ICdmZXcnXG4gICAgICA6ICgobiA9PSA1XG4gICAgICAgICAgfHwgbiA9PSA2KSkgPyAnbWFueSdcbiAgICAgIDogJ290aGVyJztcbiAgcmV0dXJuIChuID09IDApID8gJ3plcm8nXG4gICAgICA6IChuID09IDEpID8gJ29uZSdcbiAgICAgIDogKG4gPT0gMikgPyAndHdvJ1xuICAgICAgOiAobiA9PSAzKSA/ICdmZXcnXG4gICAgICA6IChuID09IDYpID8gJ21hbnknXG4gICAgICA6ICdvdGhlcic7XG59LFxuXG5kYTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgaSA9IHNbMF0sIHQwID0gTnVtYmVyKHNbMF0pID09IG47XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSB8fCAhdDAgJiYgKGkgPT0gMFxuICAgICAgICAgIHx8IGkgPT0gMSkpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuZGU6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIHYwID0gIXNbMV07XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSAmJiB2MCkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5kc2I6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIGkgPSBzWzBdLCBmID0gc1sxXSB8fCAnJywgdjAgPSAhc1sxXSxcbiAgICAgIGkxMDAgPSBpLnNsaWNlKC0yKSwgZjEwMCA9IGYuc2xpY2UoLTIpO1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICh2MCAmJiBpMTAwID09IDFcbiAgICAgICAgICB8fCBmMTAwID09IDEpID8gJ29uZSdcbiAgICAgIDogKHYwICYmIGkxMDAgPT0gMlxuICAgICAgICAgIHx8IGYxMDAgPT0gMikgPyAndHdvJ1xuICAgICAgOiAodjAgJiYgKGkxMDAgPT0gMyB8fCBpMTAwID09IDQpIHx8IChmMTAwID09IDNcbiAgICAgICAgICB8fCBmMTAwID09IDQpKSA/ICdmZXcnXG4gICAgICA6ICdvdGhlcic7XG59LFxuXG5kdjogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmR6OiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICdvdGhlcic7XG59LFxuXG5lZTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmVsOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuZW46IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIHYwID0gIXNbMV0sIHQwID0gTnVtYmVyKHNbMF0pID09IG4sXG4gICAgICBuMTAgPSB0MCAmJiBzWzBdLnNsaWNlKC0xKSwgbjEwMCA9IHQwICYmIHNbMF0uc2xpY2UoLTIpO1xuICBpZiAob3JkKSByZXR1cm4gKG4xMCA9PSAxICYmIG4xMDAgIT0gMTEpID8gJ29uZSdcbiAgICAgIDogKG4xMCA9PSAyICYmIG4xMDAgIT0gMTIpID8gJ3R3bydcbiAgICAgIDogKG4xMCA9PSAzICYmIG4xMDAgIT0gMTMpID8gJ2ZldydcbiAgICAgIDogJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEgJiYgdjApID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuZW86IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5lczogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmV0OiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCB2MCA9ICFzWzFdO1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEgJiYgdjApID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuZXU6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5mYTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA+PSAwICYmIG4gPD0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5mZjogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA+PSAwICYmIG4gPCAyKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmZpOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCB2MCA9ICFzWzFdO1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEgJiYgdjApID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuZmlsOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCBpID0gc1swXSwgZiA9IHNbMV0gfHwgJycsIHYwID0gIXNbMV0sXG4gICAgICBpMTAgPSBpLnNsaWNlKC0xKSwgZjEwID0gZi5zbGljZSgtMSk7XG4gIGlmIChvcmQpIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbiAgcmV0dXJuICh2MCAmJiAoaSA9PSAxIHx8IGkgPT0gMiB8fCBpID09IDMpXG4gICAgICAgICAgfHwgdjAgJiYgaTEwICE9IDQgJiYgaTEwICE9IDYgJiYgaTEwICE9IDlcbiAgICAgICAgICB8fCAhdjAgJiYgZjEwICE9IDQgJiYgZjEwICE9IDYgJiYgZjEwICE9IDkpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuZm86IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5mcjogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xuICByZXR1cm4gKG4gPj0gMCAmJiBuIDwgMikgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5mdXI6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5meTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgdjAgPSAhc1sxXTtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxICYmIHYwKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmdhOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCB0MCA9IE51bWJlcihzWzBdKSA9PSBuO1xuICBpZiAob3JkKSByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnXG4gICAgICA6IChuID09IDIpID8gJ3R3bydcbiAgICAgIDogKCh0MCAmJiBuID49IDMgJiYgbiA8PSA2KSkgPyAnZmV3J1xuICAgICAgOiAoKHQwICYmIG4gPj0gNyAmJiBuIDw9IDEwKSkgPyAnbWFueSdcbiAgICAgIDogJ290aGVyJztcbn0sXG5cbmdkOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCB0MCA9IE51bWJlcihzWzBdKSA9PSBuO1xuICBpZiAob3JkKSByZXR1cm4gKChuID09IDFcbiAgICAgICAgICB8fCBuID09IDExKSkgPyAnb25lJ1xuICAgICAgOiAoKG4gPT0gMlxuICAgICAgICAgIHx8IG4gPT0gMTIpKSA/ICd0d28nXG4gICAgICA6ICgobiA9PSAzXG4gICAgICAgICAgfHwgbiA9PSAxMykpID8gJ2ZldydcbiAgICAgIDogJ290aGVyJztcbiAgcmV0dXJuICgobiA9PSAxXG4gICAgICAgICAgfHwgbiA9PSAxMSkpID8gJ29uZSdcbiAgICAgIDogKChuID09IDJcbiAgICAgICAgICB8fCBuID09IDEyKSkgPyAndHdvJ1xuICAgICAgOiAoKCh0MCAmJiBuID49IDMgJiYgbiA8PSAxMClcbiAgICAgICAgICB8fCAodDAgJiYgbiA+PSAxMyAmJiBuIDw9IDE5KSkpID8gJ2ZldydcbiAgICAgIDogJ290aGVyJztcbn0sXG5cbmdsOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCB2MCA9ICFzWzFdO1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEgJiYgdjApID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuZ3N3OiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuZ3U6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAobiA9PSAxKSA/ICdvbmUnXG4gICAgICA6ICgobiA9PSAyXG4gICAgICAgICAgfHwgbiA9PSAzKSkgPyAndHdvJ1xuICAgICAgOiAobiA9PSA0KSA/ICdmZXcnXG4gICAgICA6IChuID09IDYpID8gJ21hbnknXG4gICAgICA6ICdvdGhlcic7XG4gIHJldHVybiAobiA+PSAwICYmIG4gPD0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5ndXc6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKChuID09IDBcbiAgICAgICAgICB8fCBuID09IDEpKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmd2OiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCBpID0gc1swXSwgdjAgPSAhc1sxXSwgaTEwID0gaS5zbGljZSgtMSksXG4gICAgICBpMTAwID0gaS5zbGljZSgtMik7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKHYwICYmIGkxMCA9PSAxKSA/ICdvbmUnXG4gICAgICA6ICh2MCAmJiBpMTAgPT0gMikgPyAndHdvJ1xuICAgICAgOiAodjAgJiYgKGkxMDAgPT0gMCB8fCBpMTAwID09IDIwIHx8IGkxMDAgPT0gNDAgfHwgaTEwMCA9PSA2MFxuICAgICAgICAgIHx8IGkxMDAgPT0gODApKSA/ICdmZXcnXG4gICAgICA6ICghdjApID8gJ21hbnknXG4gICAgICA6ICdvdGhlcic7XG59LFxuXG5oYTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmhhdzogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmhlOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCBpID0gc1swXSwgdjAgPSAhc1sxXSwgdDAgPSBOdW1iZXIoc1swXSkgPT0gbixcbiAgICAgIG4xMCA9IHQwICYmIHNbMF0uc2xpY2UoLTEpO1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEgJiYgdjApID8gJ29uZSdcbiAgICAgIDogKGkgPT0gMiAmJiB2MCkgPyAndHdvJ1xuICAgICAgOiAodjAgJiYgKG4gPCAwXG4gICAgICAgICAgfHwgbiA+IDEwKSAmJiB0MCAmJiBuMTAgPT0gMCkgPyAnbWFueSdcbiAgICAgIDogJ290aGVyJztcbn0sXG5cbmhpOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gKG4gPT0gMSkgPyAnb25lJ1xuICAgICAgOiAoKG4gPT0gMlxuICAgICAgICAgIHx8IG4gPT0gMykpID8gJ3R3bydcbiAgICAgIDogKG4gPT0gNCkgPyAnZmV3J1xuICAgICAgOiAobiA9PSA2KSA/ICdtYW55J1xuICAgICAgOiAnb3RoZXInO1xuICByZXR1cm4gKG4gPj0gMCAmJiBuIDw9IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuaHI6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIGkgPSBzWzBdLCBmID0gc1sxXSB8fCAnJywgdjAgPSAhc1sxXSxcbiAgICAgIGkxMCA9IGkuc2xpY2UoLTEpLCBpMTAwID0gaS5zbGljZSgtMiksIGYxMCA9IGYuc2xpY2UoLTEpLCBmMTAwID0gZi5zbGljZSgtMik7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKHYwICYmIGkxMCA9PSAxICYmIGkxMDAgIT0gMTFcbiAgICAgICAgICB8fCBmMTAgPT0gMSAmJiBmMTAwICE9IDExKSA/ICdvbmUnXG4gICAgICA6ICh2MCAmJiAoaTEwID49IDIgJiYgaTEwIDw9IDQpICYmIChpMTAwIDwgMTIgfHwgaTEwMCA+IDE0KVxuICAgICAgICAgIHx8IChmMTAgPj0gMiAmJiBmMTAgPD0gNCkgJiYgKGYxMDAgPCAxMlxuICAgICAgICAgIHx8IGYxMDAgPiAxNCkpID8gJ2ZldydcbiAgICAgIDogJ290aGVyJztcbn0sXG5cbmhzYjogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgaSA9IHNbMF0sIGYgPSBzWzFdIHx8ICcnLCB2MCA9ICFzWzFdLFxuICAgICAgaTEwMCA9IGkuc2xpY2UoLTIpLCBmMTAwID0gZi5zbGljZSgtMik7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKHYwICYmIGkxMDAgPT0gMVxuICAgICAgICAgIHx8IGYxMDAgPT0gMSkgPyAnb25lJ1xuICAgICAgOiAodjAgJiYgaTEwMCA9PSAyXG4gICAgICAgICAgfHwgZjEwMCA9PSAyKSA/ICd0d28nXG4gICAgICA6ICh2MCAmJiAoaTEwMCA9PSAzIHx8IGkxMDAgPT0gNCkgfHwgKGYxMDAgPT0gM1xuICAgICAgICAgIHx8IGYxMDAgPT0gNCkpID8gJ2ZldydcbiAgICAgIDogJ290aGVyJztcbn0sXG5cbmh1OiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gKChuID09IDFcbiAgICAgICAgICB8fCBuID09IDUpKSA/ICdvbmUnIDogJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuaHk6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbiAgcmV0dXJuIChuID49IDAgJiYgbiA8IDIpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuaWE6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIHYwID0gIXNbMV07XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSAmJiB2MCkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5pZDogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAnb3RoZXInO1xufSxcblxuaWc6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gJ290aGVyJztcbn0sXG5cbmlpOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICdvdGhlcic7XG59LFxuXG5cImluXCI6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gJ290aGVyJztcbn0sXG5cbmlvOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCB2MCA9ICFzWzFdO1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEgJiYgdjApID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuaXM6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIGkgPSBzWzBdLCB0MCA9IE51bWJlcihzWzBdKSA9PSBuLFxuICAgICAgaTEwID0gaS5zbGljZSgtMSksIGkxMDAgPSBpLnNsaWNlKC0yKTtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAodDAgJiYgaTEwID09IDEgJiYgaTEwMCAhPSAxMVxuICAgICAgICAgIHx8ICF0MCkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5pdDogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgdjAgPSAhc1sxXTtcbiAgaWYgKG9yZCkgcmV0dXJuICgobiA9PSAxMSB8fCBuID09IDggfHwgbiA9PSA4MFxuICAgICAgICAgIHx8IG4gPT0gODAwKSkgPyAnbWFueScgOiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSAmJiB2MCkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5pdTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnXG4gICAgICA6IChuID09IDIpID8gJ3R3bydcbiAgICAgIDogJ290aGVyJztcbn0sXG5cbml3OiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCBpID0gc1swXSwgdjAgPSAhc1sxXSwgdDAgPSBOdW1iZXIoc1swXSkgPT0gbixcbiAgICAgIG4xMCA9IHQwICYmIHNbMF0uc2xpY2UoLTEpO1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEgJiYgdjApID8gJ29uZSdcbiAgICAgIDogKGkgPT0gMiAmJiB2MCkgPyAndHdvJ1xuICAgICAgOiAodjAgJiYgKG4gPCAwXG4gICAgICAgICAgfHwgbiA+IDEwKSAmJiB0MCAmJiBuMTAgPT0gMCkgPyAnbWFueSdcbiAgICAgIDogJ290aGVyJztcbn0sXG5cbmphOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICdvdGhlcic7XG59LFxuXG5qYm86IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gJ290aGVyJztcbn0sXG5cbmpnbzogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmppOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCB2MCA9ICFzWzFdO1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEgJiYgdjApID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuam1jOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuanY6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gJ290aGVyJztcbn0sXG5cbmp3OiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICdvdGhlcic7XG59LFxuXG5rYTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgaSA9IHNbMF0sIGkxMDAgPSBpLnNsaWNlKC0yKTtcbiAgaWYgKG9yZCkgcmV0dXJuIChpID09IDEpID8gJ29uZSdcbiAgICAgIDogKGkgPT0gMCB8fCAoKGkxMDAgPj0gMiAmJiBpMTAwIDw9IDIwKSB8fCBpMTAwID09IDQwIHx8IGkxMDAgPT0gNjBcbiAgICAgICAgICB8fCBpMTAwID09IDgwKSkgPyAnbWFueSdcbiAgICAgIDogJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxua2FiOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID49IDAgJiYgbiA8IDIpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxua2FqOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxua2NnOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxua2RlOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICdvdGhlcic7XG59LFxuXG5rZWE6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gJ290aGVyJztcbn0sXG5cbmtrOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCB0MCA9IE51bWJlcihzWzBdKSA9PSBuLFxuICAgICAgbjEwID0gdDAgJiYgc1swXS5zbGljZSgtMSk7XG4gIGlmIChvcmQpIHJldHVybiAobjEwID09IDYgfHwgbjEwID09IDlcbiAgICAgICAgICB8fCB0MCAmJiBuMTAgPT0gMCAmJiBuICE9IDApID8gJ21hbnknIDogJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxua2tqOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxua2w6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5rbTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAnb3RoZXInO1xufSxcblxua246IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPj0gMCAmJiBuIDw9IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxua286IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gJ290aGVyJztcbn0sXG5cbmtzOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxua3NiOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxua3NoOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDApID8gJ3plcm8nXG4gICAgICA6IChuID09IDEpID8gJ29uZSdcbiAgICAgIDogJ290aGVyJztcbn0sXG5cbmt1OiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxua3c6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJ1xuICAgICAgOiAobiA9PSAyKSA/ICd0d28nXG4gICAgICA6ICdvdGhlcic7XG59LFxuXG5reTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmxhZzogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgaSA9IHNbMF07XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMCkgPyAnemVybydcbiAgICAgIDogKChpID09IDBcbiAgICAgICAgICB8fCBpID09IDEpICYmIG4gIT0gMCkgPyAnb25lJ1xuICAgICAgOiAnb3RoZXInO1xufSxcblxubGI6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5sZzogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmxrdDogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAnb3RoZXInO1xufSxcblxubG46IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKChuID09IDBcbiAgICAgICAgICB8fCBuID09IDEpKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmxvOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG4gIHJldHVybiAnb3RoZXInO1xufSxcblxubHQ6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIGYgPSBzWzFdIHx8ICcnLCB0MCA9IE51bWJlcihzWzBdKSA9PSBuLFxuICAgICAgbjEwID0gdDAgJiYgc1swXS5zbGljZSgtMSksIG4xMDAgPSB0MCAmJiBzWzBdLnNsaWNlKC0yKTtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobjEwID09IDEgJiYgKG4xMDAgPCAxMVxuICAgICAgICAgIHx8IG4xMDAgPiAxOSkpID8gJ29uZSdcbiAgICAgIDogKChuMTAgPj0gMiAmJiBuMTAgPD0gOSkgJiYgKG4xMDAgPCAxMVxuICAgICAgICAgIHx8IG4xMDAgPiAxOSkpID8gJ2ZldydcbiAgICAgIDogKGYgIT0gMCkgPyAnbWFueSdcbiAgICAgIDogJ290aGVyJztcbn0sXG5cbmx2OiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCBmID0gc1sxXSB8fCAnJywgdiA9IGYubGVuZ3RoLFxuICAgICAgdDAgPSBOdW1iZXIoc1swXSkgPT0gbiwgbjEwID0gdDAgJiYgc1swXS5zbGljZSgtMSksXG4gICAgICBuMTAwID0gdDAgJiYgc1swXS5zbGljZSgtMiksIGYxMDAgPSBmLnNsaWNlKC0yKSwgZjEwID0gZi5zbGljZSgtMSk7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKHQwICYmIG4xMCA9PSAwIHx8IChuMTAwID49IDExICYmIG4xMDAgPD0gMTkpXG4gICAgICAgICAgfHwgdiA9PSAyICYmIChmMTAwID49IDExICYmIGYxMDAgPD0gMTkpKSA/ICd6ZXJvJ1xuICAgICAgOiAobjEwID09IDEgJiYgbjEwMCAhPSAxMSB8fCB2ID09IDIgJiYgZjEwID09IDEgJiYgZjEwMCAhPSAxMVxuICAgICAgICAgIHx8IHYgIT0gMiAmJiBmMTAgPT0gMSkgPyAnb25lJ1xuICAgICAgOiAnb3RoZXInO1xufSxcblxubWFzOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxubWc6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKChuID09IDBcbiAgICAgICAgICB8fCBuID09IDEpKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbm1nbzogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbm1rOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCBpID0gc1swXSwgZiA9IHNbMV0gfHwgJycsIHYwID0gIXNbMV0sXG4gICAgICBpMTAgPSBpLnNsaWNlKC0xKSwgaTEwMCA9IGkuc2xpY2UoLTIpLCBmMTAgPSBmLnNsaWNlKC0xKSwgZjEwMCA9IGYuc2xpY2UoLTIpO1xuICBpZiAob3JkKSByZXR1cm4gKGkxMCA9PSAxICYmIGkxMDAgIT0gMTEpID8gJ29uZSdcbiAgICAgIDogKGkxMCA9PSAyICYmIGkxMDAgIT0gMTIpID8gJ3R3bydcbiAgICAgIDogKChpMTAgPT0gN1xuICAgICAgICAgIHx8IGkxMCA9PSA4KSAmJiBpMTAwICE9IDE3ICYmIGkxMDAgIT0gMTgpID8gJ21hbnknXG4gICAgICA6ICdvdGhlcic7XG4gIHJldHVybiAodjAgJiYgaTEwID09IDEgJiYgaTEwMCAhPSAxMVxuICAgICAgICAgIHx8IGYxMCA9PSAxICYmIGYxMDAgIT0gMTEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxubWw6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5tbjogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbm1vOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCB2MCA9ICFzWzFdLCB0MCA9IE51bWJlcihzWzBdKSA9PSBuLFxuICAgICAgbjEwMCA9IHQwICYmIHNbMF0uc2xpY2UoLTIpO1xuICBpZiAob3JkKSByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxICYmIHYwKSA/ICdvbmUnXG4gICAgICA6ICghdjAgfHwgbiA9PSAwXG4gICAgICAgICAgfHwgbiAhPSAxICYmIChuMTAwID49IDEgJiYgbjEwMCA8PSAxOSkpID8gJ2ZldydcbiAgICAgIDogJ290aGVyJztcbn0sXG5cbm1yOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gKG4gPT0gMSkgPyAnb25lJ1xuICAgICAgOiAoKG4gPT0gMlxuICAgICAgICAgIHx8IG4gPT0gMykpID8gJ3R3bydcbiAgICAgIDogKG4gPT0gNCkgPyAnZmV3J1xuICAgICAgOiAnb3RoZXInO1xuICByZXR1cm4gKG4gPj0gMCAmJiBuIDw9IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxubXM6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbiAgcmV0dXJuICdvdGhlcic7XG59LFxuXG5tdDogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgdDAgPSBOdW1iZXIoc1swXSkgPT0gbixcbiAgICAgIG4xMDAgPSB0MCAmJiBzWzBdLnNsaWNlKC0yKTtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnXG4gICAgICA6IChuID09IDBcbiAgICAgICAgICB8fCAobjEwMCA+PSAyICYmIG4xMDAgPD0gMTApKSA/ICdmZXcnXG4gICAgICA6ICgobjEwMCA+PSAxMSAmJiBuMTAwIDw9IDE5KSkgPyAnbWFueSdcbiAgICAgIDogJ290aGVyJztcbn0sXG5cbm15OiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICdvdGhlcic7XG59LFxuXG5uYWg6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5uYXE6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJ1xuICAgICAgOiAobiA9PSAyKSA/ICd0d28nXG4gICAgICA6ICdvdGhlcic7XG59LFxuXG5uYjogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbm5kOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxubmU6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIHQwID0gTnVtYmVyKHNbMF0pID09IG47XG4gIGlmIChvcmQpIHJldHVybiAoKHQwICYmIG4gPj0gMSAmJiBuIDw9IDQpKSA/ICdvbmUnIDogJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxubmw6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIHYwID0gIXNbMV07XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSAmJiB2MCkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5ubjogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbm5uaDogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbm5vOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxubnFvOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICdvdGhlcic7XG59LFxuXG5ucjogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbm5zbzogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAoKG4gPT0gMFxuICAgICAgICAgIHx8IG4gPT0gMSkpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxubnk6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5ueW46IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5vbTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbm9yOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCB0MCA9IE51bWJlcihzWzBdKSA9PSBuO1xuICBpZiAob3JkKSByZXR1cm4gKChuID09IDEgfHwgbiA9PSA1XG4gICAgICAgICAgfHwgKHQwICYmIG4gPj0gNyAmJiBuIDw9IDkpKSkgPyAnb25lJ1xuICAgICAgOiAoKG4gPT0gMlxuICAgICAgICAgIHx8IG4gPT0gMykpID8gJ3R3bydcbiAgICAgIDogKG4gPT0gNCkgPyAnZmV3J1xuICAgICAgOiAobiA9PSA2KSA/ICdtYW55J1xuICAgICAgOiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5vczogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbnBhOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICgobiA9PSAwXG4gICAgICAgICAgfHwgbiA9PSAxKSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5wYXA6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5wbDogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgaSA9IHNbMF0sIHYwID0gIXNbMV0sIGkxMCA9IGkuc2xpY2UoLTEpLFxuICAgICAgaTEwMCA9IGkuc2xpY2UoLTIpO1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEgJiYgdjApID8gJ29uZSdcbiAgICAgIDogKHYwICYmIChpMTAgPj0gMiAmJiBpMTAgPD0gNCkgJiYgKGkxMDAgPCAxMlxuICAgICAgICAgIHx8IGkxMDAgPiAxNCkpID8gJ2ZldydcbiAgICAgIDogKHYwICYmIGkgIT0gMSAmJiAoaTEwID09IDAgfHwgaTEwID09IDEpXG4gICAgICAgICAgfHwgdjAgJiYgKGkxMCA+PSA1ICYmIGkxMCA8PSA5KVxuICAgICAgICAgIHx8IHYwICYmIChpMTAwID49IDEyICYmIGkxMDAgPD0gMTQpKSA/ICdtYW55J1xuICAgICAgOiAnb3RoZXInO1xufSxcblxucHJnOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCBmID0gc1sxXSB8fCAnJywgdiA9IGYubGVuZ3RoLFxuICAgICAgdDAgPSBOdW1iZXIoc1swXSkgPT0gbiwgbjEwID0gdDAgJiYgc1swXS5zbGljZSgtMSksXG4gICAgICBuMTAwID0gdDAgJiYgc1swXS5zbGljZSgtMiksIGYxMDAgPSBmLnNsaWNlKC0yKSwgZjEwID0gZi5zbGljZSgtMSk7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKHQwICYmIG4xMCA9PSAwIHx8IChuMTAwID49IDExICYmIG4xMDAgPD0gMTkpXG4gICAgICAgICAgfHwgdiA9PSAyICYmIChmMTAwID49IDExICYmIGYxMDAgPD0gMTkpKSA/ICd6ZXJvJ1xuICAgICAgOiAobjEwID09IDEgJiYgbjEwMCAhPSAxMSB8fCB2ID09IDIgJiYgZjEwID09IDEgJiYgZjEwMCAhPSAxMVxuICAgICAgICAgIHx8IHYgIT0gMiAmJiBmMTAgPT0gMSkgPyAnb25lJ1xuICAgICAgOiAnb3RoZXInO1xufSxcblxucHM6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5wdDogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgaSA9IHNbMF07XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKChpID09IDBcbiAgICAgICAgICB8fCBpID09IDEpKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cblwicHQtUFRcIjogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgdjAgPSAhc1sxXTtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxICYmIHYwKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbnJtOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxucm86IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIHYwID0gIXNbMV0sIHQwID0gTnVtYmVyKHNbMF0pID09IG4sXG4gICAgICBuMTAwID0gdDAgJiYgc1swXS5zbGljZSgtMik7XG4gIGlmIChvcmQpIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEgJiYgdjApID8gJ29uZSdcbiAgICAgIDogKCF2MCB8fCBuID09IDBcbiAgICAgICAgICB8fCBuICE9IDEgJiYgKG4xMDAgPj0gMSAmJiBuMTAwIDw9IDE5KSkgPyAnZmV3J1xuICAgICAgOiAnb3RoZXInO1xufSxcblxucm9mOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxucm9vdDogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAnb3RoZXInO1xufSxcblxucnU6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIGkgPSBzWzBdLCB2MCA9ICFzWzFdLCBpMTAgPSBpLnNsaWNlKC0xKSxcbiAgICAgIGkxMDAgPSBpLnNsaWNlKC0yKTtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAodjAgJiYgaTEwID09IDEgJiYgaTEwMCAhPSAxMSkgPyAnb25lJ1xuICAgICAgOiAodjAgJiYgKGkxMCA+PSAyICYmIGkxMCA8PSA0KSAmJiAoaTEwMCA8IDEyXG4gICAgICAgICAgfHwgaTEwMCA+IDE0KSkgPyAnZmV3J1xuICAgICAgOiAodjAgJiYgaTEwID09IDAgfHwgdjAgJiYgKGkxMCA+PSA1ICYmIGkxMCA8PSA5KVxuICAgICAgICAgIHx8IHYwICYmIChpMTAwID49IDExICYmIGkxMDAgPD0gMTQpKSA/ICdtYW55J1xuICAgICAgOiAnb3RoZXInO1xufSxcblxucndrOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuc2FoOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICdvdGhlcic7XG59LFxuXG5zYXE6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5zYzogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgdjAgPSAhc1sxXTtcbiAgaWYgKG9yZCkgcmV0dXJuICgobiA9PSAxMSB8fCBuID09IDggfHwgbiA9PSA4MFxuICAgICAgICAgIHx8IG4gPT0gODAwKSkgPyAnbWFueScgOiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSAmJiB2MCkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5zY246IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIHYwID0gIXNbMV07XG4gIGlmIChvcmQpIHJldHVybiAoKG4gPT0gMTEgfHwgbiA9PSA4IHx8IG4gPT0gODBcbiAgICAgICAgICB8fCBuID09IDgwMCkpID8gJ21hbnknIDogJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEgJiYgdjApID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuc2Q6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5zZGg6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5zZTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnXG4gICAgICA6IChuID09IDIpID8gJ3R3bydcbiAgICAgIDogJ290aGVyJztcbn0sXG5cbnNlaDogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbnNlczogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAnb3RoZXInO1xufSxcblxuc2c6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gJ290aGVyJztcbn0sXG5cbnNoOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCBpID0gc1swXSwgZiA9IHNbMV0gfHwgJycsIHYwID0gIXNbMV0sXG4gICAgICBpMTAgPSBpLnNsaWNlKC0xKSwgaTEwMCA9IGkuc2xpY2UoLTIpLCBmMTAgPSBmLnNsaWNlKC0xKSwgZjEwMCA9IGYuc2xpY2UoLTIpO1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICh2MCAmJiBpMTAgPT0gMSAmJiBpMTAwICE9IDExXG4gICAgICAgICAgfHwgZjEwID09IDEgJiYgZjEwMCAhPSAxMSkgPyAnb25lJ1xuICAgICAgOiAodjAgJiYgKGkxMCA+PSAyICYmIGkxMCA8PSA0KSAmJiAoaTEwMCA8IDEyIHx8IGkxMDAgPiAxNClcbiAgICAgICAgICB8fCAoZjEwID49IDIgJiYgZjEwIDw9IDQpICYmIChmMTAwIDwgMTJcbiAgICAgICAgICB8fCBmMTAwID4gMTQpKSA/ICdmZXcnXG4gICAgICA6ICdvdGhlcic7XG59LFxuXG5zaGk6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIHQwID0gTnVtYmVyKHNbMF0pID09IG47XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPj0gMCAmJiBuIDw9IDEpID8gJ29uZSdcbiAgICAgIDogKCh0MCAmJiBuID49IDIgJiYgbiA8PSAxMCkpID8gJ2ZldydcbiAgICAgIDogJ290aGVyJztcbn0sXG5cbnNpOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCBpID0gc1swXSwgZiA9IHNbMV0gfHwgJyc7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKChuID09IDAgfHwgbiA9PSAxKVxuICAgICAgICAgIHx8IGkgPT0gMCAmJiBmID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuc2s6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIGkgPSBzWzBdLCB2MCA9ICFzWzFdO1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEgJiYgdjApID8gJ29uZSdcbiAgICAgIDogKChpID49IDIgJiYgaSA8PSA0KSAmJiB2MCkgPyAnZmV3J1xuICAgICAgOiAoIXYwKSA/ICdtYW55J1xuICAgICAgOiAnb3RoZXInO1xufSxcblxuc2w6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIGkgPSBzWzBdLCB2MCA9ICFzWzFdLCBpMTAwID0gaS5zbGljZSgtMik7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKHYwICYmIGkxMDAgPT0gMSkgPyAnb25lJ1xuICAgICAgOiAodjAgJiYgaTEwMCA9PSAyKSA/ICd0d28nXG4gICAgICA6ICh2MCAmJiAoaTEwMCA9PSAzIHx8IGkxMDAgPT0gNClcbiAgICAgICAgICB8fCAhdjApID8gJ2ZldydcbiAgICAgIDogJ290aGVyJztcbn0sXG5cbnNtYTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnXG4gICAgICA6IChuID09IDIpID8gJ3R3bydcbiAgICAgIDogJ290aGVyJztcbn0sXG5cbnNtaTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnXG4gICAgICA6IChuID09IDIpID8gJ3R3bydcbiAgICAgIDogJ290aGVyJztcbn0sXG5cbnNtajogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnXG4gICAgICA6IChuID09IDIpID8gJ3R3bydcbiAgICAgIDogJ290aGVyJztcbn0sXG5cbnNtbjogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnXG4gICAgICA6IChuID09IDIpID8gJ3R3bydcbiAgICAgIDogJ290aGVyJztcbn0sXG5cbnNtczogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnXG4gICAgICA6IChuID09IDIpID8gJ3R3bydcbiAgICAgIDogJ290aGVyJztcbn0sXG5cbnNuOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuc286IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5zcTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgdDAgPSBOdW1iZXIoc1swXSkgPT0gbixcbiAgICAgIG4xMCA9IHQwICYmIHNbMF0uc2xpY2UoLTEpLCBuMTAwID0gdDAgJiYgc1swXS5zbGljZSgtMik7XG4gIGlmIChvcmQpIHJldHVybiAobiA9PSAxKSA/ICdvbmUnXG4gICAgICA6IChuMTAgPT0gNCAmJiBuMTAwICE9IDE0KSA/ICdtYW55J1xuICAgICAgOiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5zcjogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgaSA9IHNbMF0sIGYgPSBzWzFdIHx8ICcnLCB2MCA9ICFzWzFdLFxuICAgICAgaTEwID0gaS5zbGljZSgtMSksIGkxMDAgPSBpLnNsaWNlKC0yKSwgZjEwID0gZi5zbGljZSgtMSksIGYxMDAgPSBmLnNsaWNlKC0yKTtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAodjAgJiYgaTEwID09IDEgJiYgaTEwMCAhPSAxMVxuICAgICAgICAgIHx8IGYxMCA9PSAxICYmIGYxMDAgIT0gMTEpID8gJ29uZSdcbiAgICAgIDogKHYwICYmIChpMTAgPj0gMiAmJiBpMTAgPD0gNCkgJiYgKGkxMDAgPCAxMiB8fCBpMTAwID4gMTQpXG4gICAgICAgICAgfHwgKGYxMCA+PSAyICYmIGYxMCA8PSA0KSAmJiAoZjEwMCA8IDEyXG4gICAgICAgICAgfHwgZjEwMCA+IDE0KSkgPyAnZmV3J1xuICAgICAgOiAnb3RoZXInO1xufSxcblxuc3M6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5zc3k6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5zdDogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbnN2OiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCB2MCA9ICFzWzFdLCB0MCA9IE51bWJlcihzWzBdKSA9PSBuLFxuICAgICAgbjEwID0gdDAgJiYgc1swXS5zbGljZSgtMSksIG4xMDAgPSB0MCAmJiBzWzBdLnNsaWNlKC0yKTtcbiAgaWYgKG9yZCkgcmV0dXJuICgobjEwID09IDFcbiAgICAgICAgICB8fCBuMTAgPT0gMikgJiYgbjEwMCAhPSAxMSAmJiBuMTAwICE9IDEyKSA/ICdvbmUnIDogJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEgJiYgdjApID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuc3c6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIHYwID0gIXNbMV07XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSAmJiB2MCkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5zeXI6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG50YTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbnRlOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxudGVvOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxudGg6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gJ290aGVyJztcbn0sXG5cbnRpOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICgobiA9PSAwXG4gICAgICAgICAgfHwgbiA9PSAxKSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG50aWc6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG50azogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgdDAgPSBOdW1iZXIoc1swXSkgPT0gbixcbiAgICAgIG4xMCA9IHQwICYmIHNbMF0uc2xpY2UoLTEpO1xuICBpZiAob3JkKSByZXR1cm4gKChuMTAgPT0gNiB8fCBuMTAgPT0gOSlcbiAgICAgICAgICB8fCBuID09IDEwKSA/ICdmZXcnIDogJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxudGw6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIGkgPSBzWzBdLCBmID0gc1sxXSB8fCAnJywgdjAgPSAhc1sxXSxcbiAgICAgIGkxMCA9IGkuc2xpY2UoLTEpLCBmMTAgPSBmLnNsaWNlKC0xKTtcbiAgaWYgKG9yZCkgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xuICByZXR1cm4gKHYwICYmIChpID09IDEgfHwgaSA9PSAyIHx8IGkgPT0gMylcbiAgICAgICAgICB8fCB2MCAmJiBpMTAgIT0gNCAmJiBpMTAgIT0gNiAmJiBpMTAgIT0gOVxuICAgICAgICAgIHx8ICF2MCAmJiBmMTAgIT0gNCAmJiBmMTAgIT0gNiAmJiBmMTAgIT0gOSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG50bjogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbnRvOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICdvdGhlcic7XG59LFxuXG50cjogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbnRzOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxudHptOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCB0MCA9IE51bWJlcihzWzBdKSA9PSBuO1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICgobiA9PSAwIHx8IG4gPT0gMSlcbiAgICAgICAgICB8fCAodDAgJiYgbiA+PSAxMSAmJiBuIDw9IDk5KSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG51ZzogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbnVrOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCBpID0gc1swXSwgdjAgPSAhc1sxXSwgdDAgPSBOdW1iZXIoc1swXSkgPT0gbixcbiAgICAgIG4xMCA9IHQwICYmIHNbMF0uc2xpY2UoLTEpLCBuMTAwID0gdDAgJiYgc1swXS5zbGljZSgtMiksIGkxMCA9IGkuc2xpY2UoLTEpLFxuICAgICAgaTEwMCA9IGkuc2xpY2UoLTIpO1xuICBpZiAob3JkKSByZXR1cm4gKG4xMCA9PSAzICYmIG4xMDAgIT0gMTMpID8gJ2ZldycgOiAnb3RoZXInO1xuICByZXR1cm4gKHYwICYmIGkxMCA9PSAxICYmIGkxMDAgIT0gMTEpID8gJ29uZSdcbiAgICAgIDogKHYwICYmIChpMTAgPj0gMiAmJiBpMTAgPD0gNCkgJiYgKGkxMDAgPCAxMlxuICAgICAgICAgIHx8IGkxMDAgPiAxNCkpID8gJ2ZldydcbiAgICAgIDogKHYwICYmIGkxMCA9PSAwIHx8IHYwICYmIChpMTAgPj0gNSAmJiBpMTAgPD0gOSlcbiAgICAgICAgICB8fCB2MCAmJiAoaTEwMCA+PSAxMSAmJiBpMTAwIDw9IDE0KSkgPyAnbWFueSdcbiAgICAgIDogJ290aGVyJztcbn0sXG5cbnVyOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCB2MCA9ICFzWzFdO1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEgJiYgdjApID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxudXo6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG52ZTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbnZpOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG4gIHJldHVybiAnb3RoZXInO1xufSxcblxudm86IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG52dW46IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG53YTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAoKG4gPT0gMFxuICAgICAgICAgIHx8IG4gPT0gMSkpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxud2FlOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxud286IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gJ290aGVyJztcbn0sXG5cbnhoOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxueG9nOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxueWk6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIHYwID0gIXNbMV07XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSAmJiB2MCkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG55bzogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAnb3RoZXInO1xufSxcblxueXVlOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICdvdGhlcic7XG59LFxuXG56aDogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAnb3RoZXInO1xufSxcblxuenU6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPj0gMCAmJiBuIDw9IDEpID8gJ29uZScgOiAnb3RoZXInO1xufVxufSkpO1xuIiwiLypcbiAqIEdlbmVyYXRlZCBieSBQRUcuanMgMC4xMC4wLlxuICpcbiAqIGh0dHA6Ly9wZWdqcy5vcmcvXG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIHBlZyRzdWJjbGFzcyhjaGlsZCwgcGFyZW50KSB7XG4gIGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfVxuICBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7XG4gIGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7XG59XG5cbmZ1bmN0aW9uIHBlZyRTeW50YXhFcnJvcihtZXNzYWdlLCBleHBlY3RlZCwgZm91bmQsIGxvY2F0aW9uKSB7XG4gIHRoaXMubWVzc2FnZSAgPSBtZXNzYWdlO1xuICB0aGlzLmV4cGVjdGVkID0gZXhwZWN0ZWQ7XG4gIHRoaXMuZm91bmQgICAgPSBmb3VuZDtcbiAgdGhpcy5sb2NhdGlvbiA9IGxvY2F0aW9uO1xuICB0aGlzLm5hbWUgICAgID0gXCJTeW50YXhFcnJvclwiO1xuXG4gIGlmICh0eXBlb2YgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIHBlZyRTeW50YXhFcnJvcik7XG4gIH1cbn1cblxucGVnJHN1YmNsYXNzKHBlZyRTeW50YXhFcnJvciwgRXJyb3IpO1xuXG5wZWckU3ludGF4RXJyb3IuYnVpbGRNZXNzYWdlID0gZnVuY3Rpb24oZXhwZWN0ZWQsIGZvdW5kKSB7XG4gIHZhciBERVNDUklCRV9FWFBFQ1RBVElPTl9GTlMgPSB7XG4gICAgICAgIGxpdGVyYWw6IGZ1bmN0aW9uKGV4cGVjdGF0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIFwiXFxcIlwiICsgbGl0ZXJhbEVzY2FwZShleHBlY3RhdGlvbi50ZXh0KSArIFwiXFxcIlwiO1xuICAgICAgICB9LFxuXG4gICAgICAgIFwiY2xhc3NcIjogZnVuY3Rpb24oZXhwZWN0YXRpb24pIHtcbiAgICAgICAgICB2YXIgZXNjYXBlZFBhcnRzID0gXCJcIixcbiAgICAgICAgICAgICAgaTtcblxuICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBleHBlY3RhdGlvbi5wYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZXNjYXBlZFBhcnRzICs9IGV4cGVjdGF0aW9uLnBhcnRzW2ldIGluc3RhbmNlb2YgQXJyYXlcbiAgICAgICAgICAgICAgPyBjbGFzc0VzY2FwZShleHBlY3RhdGlvbi5wYXJ0c1tpXVswXSkgKyBcIi1cIiArIGNsYXNzRXNjYXBlKGV4cGVjdGF0aW9uLnBhcnRzW2ldWzFdKVxuICAgICAgICAgICAgICA6IGNsYXNzRXNjYXBlKGV4cGVjdGF0aW9uLnBhcnRzW2ldKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gXCJbXCIgKyAoZXhwZWN0YXRpb24uaW52ZXJ0ZWQgPyBcIl5cIiA6IFwiXCIpICsgZXNjYXBlZFBhcnRzICsgXCJdXCI7XG4gICAgICAgIH0sXG5cbiAgICAgICAgYW55OiBmdW5jdGlvbihleHBlY3RhdGlvbikge1xuICAgICAgICAgIHJldHVybiBcImFueSBjaGFyYWN0ZXJcIjtcbiAgICAgICAgfSxcblxuICAgICAgICBlbmQ6IGZ1bmN0aW9uKGV4cGVjdGF0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIFwiZW5kIG9mIGlucHV0XCI7XG4gICAgICAgIH0sXG5cbiAgICAgICAgb3RoZXI6IGZ1bmN0aW9uKGV4cGVjdGF0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIGV4cGVjdGF0aW9uLmRlc2NyaXB0aW9uO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gIGZ1bmN0aW9uIGhleChjaCkge1xuICAgIHJldHVybiBjaC5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gbGl0ZXJhbEVzY2FwZShzKSB7XG4gICAgcmV0dXJuIHNcbiAgICAgIC5yZXBsYWNlKC9cXFxcL2csICdcXFxcXFxcXCcpXG4gICAgICAucmVwbGFjZSgvXCIvZywgICdcXFxcXCInKVxuICAgICAgLnJlcGxhY2UoL1xcMC9nLCAnXFxcXDAnKVxuICAgICAgLnJlcGxhY2UoL1xcdC9nLCAnXFxcXHQnKVxuICAgICAgLnJlcGxhY2UoL1xcbi9nLCAnXFxcXG4nKVxuICAgICAgLnJlcGxhY2UoL1xcci9nLCAnXFxcXHInKVxuICAgICAgLnJlcGxhY2UoL1tcXHgwMC1cXHgwRl0vZywgICAgICAgICAgZnVuY3Rpb24oY2gpIHsgcmV0dXJuICdcXFxceDAnICsgaGV4KGNoKTsgfSlcbiAgICAgIC5yZXBsYWNlKC9bXFx4MTAtXFx4MUZcXHg3Ri1cXHg5Rl0vZywgZnVuY3Rpb24oY2gpIHsgcmV0dXJuICdcXFxceCcgICsgaGV4KGNoKTsgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBjbGFzc0VzY2FwZShzKSB7XG4gICAgcmV0dXJuIHNcbiAgICAgIC5yZXBsYWNlKC9cXFxcL2csICdcXFxcXFxcXCcpXG4gICAgICAucmVwbGFjZSgvXFxdL2csICdcXFxcXScpXG4gICAgICAucmVwbGFjZSgvXFxeL2csICdcXFxcXicpXG4gICAgICAucmVwbGFjZSgvLS9nLCAgJ1xcXFwtJylcbiAgICAgIC5yZXBsYWNlKC9cXDAvZywgJ1xcXFwwJylcbiAgICAgIC5yZXBsYWNlKC9cXHQvZywgJ1xcXFx0JylcbiAgICAgIC5yZXBsYWNlKC9cXG4vZywgJ1xcXFxuJylcbiAgICAgIC5yZXBsYWNlKC9cXHIvZywgJ1xcXFxyJylcbiAgICAgIC5yZXBsYWNlKC9bXFx4MDAtXFx4MEZdL2csICAgICAgICAgIGZ1bmN0aW9uKGNoKSB7IHJldHVybiAnXFxcXHgwJyArIGhleChjaCk7IH0pXG4gICAgICAucmVwbGFjZSgvW1xceDEwLVxceDFGXFx4N0YtXFx4OUZdL2csIGZ1bmN0aW9uKGNoKSB7IHJldHVybiAnXFxcXHgnICArIGhleChjaCk7IH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVzY3JpYmVFeHBlY3RhdGlvbihleHBlY3RhdGlvbikge1xuICAgIHJldHVybiBERVNDUklCRV9FWFBFQ1RBVElPTl9GTlNbZXhwZWN0YXRpb24udHlwZV0oZXhwZWN0YXRpb24pO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVzY3JpYmVFeHBlY3RlZChleHBlY3RlZCkge1xuICAgIHZhciBkZXNjcmlwdGlvbnMgPSBuZXcgQXJyYXkoZXhwZWN0ZWQubGVuZ3RoKSxcbiAgICAgICAgaSwgajtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBleHBlY3RlZC5sZW5ndGg7IGkrKykge1xuICAgICAgZGVzY3JpcHRpb25zW2ldID0gZGVzY3JpYmVFeHBlY3RhdGlvbihleHBlY3RlZFtpXSk7XG4gICAgfVxuXG4gICAgZGVzY3JpcHRpb25zLnNvcnQoKTtcblxuICAgIGlmIChkZXNjcmlwdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgZm9yIChpID0gMSwgaiA9IDE7IGkgPCBkZXNjcmlwdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGRlc2NyaXB0aW9uc1tpIC0gMV0gIT09IGRlc2NyaXB0aW9uc1tpXSkge1xuICAgICAgICAgIGRlc2NyaXB0aW9uc1tqXSA9IGRlc2NyaXB0aW9uc1tpXTtcbiAgICAgICAgICBqKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGRlc2NyaXB0aW9ucy5sZW5ndGggPSBqO1xuICAgIH1cblxuICAgIHN3aXRjaCAoZGVzY3JpcHRpb25zLmxlbmd0aCkge1xuICAgICAgY2FzZSAxOlxuICAgICAgICByZXR1cm4gZGVzY3JpcHRpb25zWzBdO1xuXG4gICAgICBjYXNlIDI6XG4gICAgICAgIHJldHVybiBkZXNjcmlwdGlvbnNbMF0gKyBcIiBvciBcIiArIGRlc2NyaXB0aW9uc1sxXTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9ucy5zbGljZSgwLCAtMSkuam9pbihcIiwgXCIpXG4gICAgICAgICAgKyBcIiwgb3IgXCJcbiAgICAgICAgICArIGRlc2NyaXB0aW9uc1tkZXNjcmlwdGlvbnMubGVuZ3RoIC0gMV07XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZGVzY3JpYmVGb3VuZChmb3VuZCkge1xuICAgIHJldHVybiBmb3VuZCA/IFwiXFxcIlwiICsgbGl0ZXJhbEVzY2FwZShmb3VuZCkgKyBcIlxcXCJcIiA6IFwiZW5kIG9mIGlucHV0XCI7XG4gIH1cblxuICByZXR1cm4gXCJFeHBlY3RlZCBcIiArIGRlc2NyaWJlRXhwZWN0ZWQoZXhwZWN0ZWQpICsgXCIgYnV0IFwiICsgZGVzY3JpYmVGb3VuZChmb3VuZCkgKyBcIiBmb3VuZC5cIjtcbn07XG5cbmZ1bmN0aW9uIHBlZyRwYXJzZShpbnB1dCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyAhPT0gdm9pZCAwID8gb3B0aW9ucyA6IHt9O1xuXG4gIHZhciBwZWckRkFJTEVEID0ge30sXG5cbiAgICAgIHBlZyRzdGFydFJ1bGVGdW5jdGlvbnMgPSB7IHN0YXJ0OiBwZWckcGFyc2VzdGFydCB9LFxuICAgICAgcGVnJHN0YXJ0UnVsZUZ1bmN0aW9uICA9IHBlZyRwYXJzZXN0YXJ0LFxuXG4gICAgICBwZWckYzAgPSBcIiNcIixcbiAgICAgIHBlZyRjMSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIjXCIsIGZhbHNlKSxcbiAgICAgIHBlZyRjMiA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gaW5QbHVyYWxbMF07IH0sXG4gICAgICBwZWckYzMgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHsgdHlwZTogJ29jdG90aG9ycGUnIH07IH0sXG4gICAgICBwZWckYzQgPSBmdW5jdGlvbihzdHIpIHsgcmV0dXJuIHN0ci5qb2luKCcnKTsgfSxcbiAgICAgIHBlZyRjNSA9IFwie1wiLFxuICAgICAgcGVnJGM2ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIntcIiwgZmFsc2UpLFxuICAgICAgcGVnJGM3ID0gXCJ9XCIsXG4gICAgICBwZWckYzggPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwifVwiLCBmYWxzZSksXG4gICAgICBwZWckYzkgPSBmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ2FyZ3VtZW50JyxcbiAgICAgICAgICAgIGFyZzogYXJnXG4gICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgIHBlZyRjMTAgPSBcIixcIixcbiAgICAgIHBlZyRjMTEgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiLFwiLCBmYWxzZSksXG4gICAgICBwZWckYzEyID0gXCJzZWxlY3RcIixcbiAgICAgIHBlZyRjMTMgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwic2VsZWN0XCIsIGZhbHNlKSxcbiAgICAgIHBlZyRjMTQgPSBmdW5jdGlvbihhcmcsIG0pIHsgaWYgKG9wdGlvbnMuc3RyaWN0KSB7IGluUGx1cmFsLnVuc2hpZnQoZmFsc2UpOyB9IHJldHVybiBtOyB9LFxuICAgICAgcGVnJGMxNSA9IGZ1bmN0aW9uKGFyZywgY2FzZXMpIHtcbiAgICAgICAgICBpZiAob3B0aW9ucy5zdHJpY3QpIGluUGx1cmFsLnNoaWZ0KClcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ3NlbGVjdCcsXG4gICAgICAgICAgICBhcmc6IGFyZyxcbiAgICAgICAgICAgIGNhc2VzOiBjYXNlc1xuICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICBwZWckYzE2ID0gXCJwbHVyYWxcIixcbiAgICAgIHBlZyRjMTcgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwicGx1cmFsXCIsIGZhbHNlKSxcbiAgICAgIHBlZyRjMTggPSBcInNlbGVjdG9yZGluYWxcIixcbiAgICAgIHBlZyRjMTkgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwic2VsZWN0b3JkaW5hbFwiLCBmYWxzZSksXG4gICAgICBwZWckYzIwID0gZnVuY3Rpb24oYXJnLCBtKSB7IGluUGx1cmFsLnVuc2hpZnQodHJ1ZSk7IHJldHVybiBtOyB9LFxuICAgICAgcGVnJGMyMSA9IGZ1bmN0aW9uKGFyZywgdHlwZSwgb2Zmc2V0LCBjYXNlcykge1xuICAgICAgICAgIHZhciBscyA9ICgodHlwZSA9PT0gJ3NlbGVjdG9yZGluYWwnKSA/IG9wdGlvbnMub3JkaW5hbCA6IG9wdGlvbnMuY2FyZGluYWwpXG4gICAgICAgICAgICAgICAgICAgfHwgWyd6ZXJvJywgJ29uZScsICd0d28nLCAnZmV3JywgJ21hbnknLCAnb3RoZXInXTtcbiAgICAgICAgICBpZiAobHMgJiYgbHMubGVuZ3RoKSBjYXNlcy5mb3JFYWNoKGZ1bmN0aW9uKGMpIHtcbiAgICAgICAgICAgIGlmIChpc05hTihjLmtleSkgJiYgbHMuaW5kZXhPZihjLmtleSkgPCAwKSB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICdJbnZhbGlkIGtleSBgJyArIGMua2V5ICsgJ2AgZm9yIGFyZ3VtZW50IGAnICsgYXJnICsgJ2AuJyArXG4gICAgICAgICAgICAgICcgVmFsaWQgJyArIHR5cGUgKyAnIGtleXMgZm9yIHRoaXMgbG9jYWxlIGFyZSBgJyArIGxzLmpvaW4oJ2AsIGAnKSArXG4gICAgICAgICAgICAgICdgLCBhbmQgZXhwbGljaXQga2V5cyBsaWtlIGA9MGAuJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaW5QbHVyYWwuc2hpZnQoKVxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgYXJnOiBhcmcsXG4gICAgICAgICAgICBvZmZzZXQ6IG9mZnNldCB8fCAwLFxuICAgICAgICAgICAgY2FzZXM6IGNhc2VzXG4gICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgIHBlZyRjMjIgPSBmdW5jdGlvbihhcmcsIGtleSwgcGFyYW0pIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ2Z1bmN0aW9uJyxcbiAgICAgICAgICAgIGFyZzogYXJnLFxuICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICBwYXJhbTogcGFyYW1cbiAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgcGVnJGMyMyA9IHBlZyRvdGhlckV4cGVjdGF0aW9uKFwiaWRlbnRpZmllclwiKSxcbiAgICAgIHBlZyRjMjQgPSAvXlteXFx0LVxcciBcXHg4NVxcdTIwMEVcXHUyMDBGXFx1MjAyOFxcdTIwMjkhLVxcLzotQFstXFxeYHstflxceEExLVxceEE3XFx4QTlcXHhBQlxceEFDXFx4QUVcXHhCMFxceEIxXFx4QjZcXHhCQlxceEJGXFx4RDdcXHhGN1xcdTIwMTAtXFx1MjAyN1xcdTIwMzAtXFx1MjAzRVxcdTIwNDEtXFx1MjA1M1xcdTIwNTUtXFx1MjA1RVxcdTIxOTAtXFx1MjQ1RlxcdTI1MDAtXFx1Mjc3NVxcdTI3OTQtXFx1MkJGRlxcdTJFMDAtXFx1MkU3RlxcdTMwMDEtXFx1MzAwM1xcdTMwMDgtXFx1MzAyMFxcdTMwMzBcXHVGRDNFXFx1RkQzRlxcdUZFNDVcXHVGRTQ2XS8sXG4gICAgICBwZWckYzI1ID0gcGVnJGNsYXNzRXhwZWN0YXRpb24oW1tcIlxcdFwiLCBcIlxcclwiXSwgXCIgXCIsIFwiXFx4ODVcIiwgXCJcXHUyMDBFXCIsIFwiXFx1MjAwRlwiLCBcIlxcdTIwMjhcIiwgXCJcXHUyMDI5XCIsIFtcIiFcIiwgXCIvXCJdLCBbXCI6XCIsIFwiQFwiXSwgW1wiW1wiLCBcIl5cIl0sIFwiYFwiLCBbXCJ7XCIsIFwiflwiXSwgW1wiXFx4QTFcIiwgXCJcXHhBN1wiXSwgXCJcXHhBOVwiLCBcIlxceEFCXCIsIFwiXFx4QUNcIiwgXCJcXHhBRVwiLCBcIlxceEIwXCIsIFwiXFx4QjFcIiwgXCJcXHhCNlwiLCBcIlxceEJCXCIsIFwiXFx4QkZcIiwgXCJcXHhEN1wiLCBcIlxceEY3XCIsIFtcIlxcdTIwMTBcIiwgXCJcXHUyMDI3XCJdLCBbXCJcXHUyMDMwXCIsIFwiXFx1MjAzRVwiXSwgW1wiXFx1MjA0MVwiLCBcIlxcdTIwNTNcIl0sIFtcIlxcdTIwNTVcIiwgXCJcXHUyMDVFXCJdLCBbXCJcXHUyMTkwXCIsIFwiXFx1MjQ1RlwiXSwgW1wiXFx1MjUwMFwiLCBcIlxcdTI3NzVcIl0sIFtcIlxcdTI3OTRcIiwgXCJcXHUyQkZGXCJdLCBbXCJcXHUyRTAwXCIsIFwiXFx1MkU3RlwiXSwgW1wiXFx1MzAwMVwiLCBcIlxcdTMwMDNcIl0sIFtcIlxcdTMwMDhcIiwgXCJcXHUzMDIwXCJdLCBcIlxcdTMwMzBcIiwgXCJcXHVGRDNFXCIsIFwiXFx1RkQzRlwiLCBcIlxcdUZFNDVcIiwgXCJcXHVGRTQ2XCJdLCB0cnVlLCBmYWxzZSksXG4gICAgICBwZWckYzI2ID0gZnVuY3Rpb24oa2V5LCB0b2tlbnMpIHsgcmV0dXJuIHsga2V5OiBrZXksIHRva2VuczogdG9rZW5zIH07IH0sXG4gICAgICBwZWckYzI3ID0gZnVuY3Rpb24odG9rZW5zKSB7IHJldHVybiB0b2tlbnM7IH0sXG4gICAgICBwZWckYzI4ID0gcGVnJG90aGVyRXhwZWN0YXRpb24oXCJwbHVyYWwgb2Zmc2V0XCIpLFxuICAgICAgcGVnJGMyOSA9IFwib2Zmc2V0XCIsXG4gICAgICBwZWckYzMwID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIm9mZnNldFwiLCBmYWxzZSksXG4gICAgICBwZWckYzMxID0gXCI6XCIsXG4gICAgICBwZWckYzMyID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIjpcIiwgZmFsc2UpLFxuICAgICAgcGVnJGMzMyA9IGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQ7IH0sXG4gICAgICBwZWckYzM0ID0gXCI9XCIsXG4gICAgICBwZWckYzM1ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIj1cIiwgZmFsc2UpLFxuICAgICAgcGVnJGMzNiA9IFwibnVtYmVyXCIsXG4gICAgICBwZWckYzM3ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIm51bWJlclwiLCBmYWxzZSksXG4gICAgICBwZWckYzM4ID0gXCJkYXRlXCIsXG4gICAgICBwZWckYzM5ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImRhdGVcIiwgZmFsc2UpLFxuICAgICAgcGVnJGM0MCA9IFwidGltZVwiLFxuICAgICAgcGVnJGM0MSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJ0aW1lXCIsIGZhbHNlKSxcbiAgICAgIHBlZyRjNDIgPSBcInNwZWxsb3V0XCIsXG4gICAgICBwZWckYzQzID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInNwZWxsb3V0XCIsIGZhbHNlKSxcbiAgICAgIHBlZyRjNDQgPSBcIm9yZGluYWxcIixcbiAgICAgIHBlZyRjNDUgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwib3JkaW5hbFwiLCBmYWxzZSksXG4gICAgICBwZWckYzQ2ID0gXCJkdXJhdGlvblwiLFxuICAgICAgcGVnJGM0NyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJkdXJhdGlvblwiLCBmYWxzZSksXG4gICAgICBwZWckYzQ4ID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5zdHJpY3QgfHwgL15cXGQvLnRlc3Qoa2V5KSkgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgICBzd2l0Y2ggKGtleS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgICAgICAgICAgIGNhc2UgJ3BsdXJhbCc6XG4gICAgICAgICAgICAgIGNhc2UgJ3NlbGVjdG9yZGluYWwnOlxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgIHBlZyRjNDkgPSBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIGtleSB9LFxuICAgICAgcGVnJGM1MCA9IGZ1bmN0aW9uKHRva2VucykgeyByZXR1cm4gIW9wdGlvbnMuc3RyaWN0IH0sXG4gICAgICBwZWckYzUxID0gZnVuY3Rpb24odG9rZW5zKSB7IHJldHVybiB7IHRva2VuczogdG9rZW5zIH0gfSxcbiAgICAgIHBlZyRjNTIgPSBmdW5jdGlvbihwYXJ0cykgeyByZXR1cm4geyB0b2tlbnM6IFtwYXJ0cy5qb2luKCcnKV0gfSB9LFxuICAgICAgcGVnJGM1MyA9IHBlZyRvdGhlckV4cGVjdGF0aW9uKFwiYSB2YWxpZCAoc3RyaWN0KSBmdW5jdGlvbiBwYXJhbWV0ZXJcIiksXG4gICAgICBwZWckYzU0ID0gL15bXid7fV0vLFxuICAgICAgcGVnJGM1NSA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtcIidcIiwgXCJ7XCIsIFwifVwiXSwgdHJ1ZSwgZmFsc2UpLFxuICAgICAgcGVnJGM1NiA9IGZ1bmN0aW9uKHApIHsgcmV0dXJuIHAuam9pbignJykgfSxcbiAgICAgIHBlZyRjNTcgPSBcIidcIixcbiAgICAgIHBlZyRjNTggPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiJ1wiLCBmYWxzZSksXG4gICAgICBwZWckYzU5ID0gZnVuY3Rpb24ocXVvdGVkKSB7IHJldHVybiBxdW90ZWQgfSxcbiAgICAgIHBlZyRjNjAgPSBmdW5jdGlvbihwKSB7IHJldHVybiAneycgKyBwLmpvaW4oJycpICsgJ30nIH0sXG4gICAgICBwZWckYzYxID0gcGVnJG90aGVyRXhwZWN0YXRpb24oXCJkb3VibGVkIGFwb3N0cm9waGVcIiksXG4gICAgICBwZWckYzYyID0gXCInJ1wiLFxuICAgICAgcGVnJGM2MyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCInJ1wiLCBmYWxzZSksXG4gICAgICBwZWckYzY0ID0gZnVuY3Rpb24oKSB7IHJldHVybiBcIidcIjsgfSxcbiAgICAgIHBlZyRjNjUgPSAvXlteJ10vLFxuICAgICAgcGVnJGM2NiA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtcIidcIl0sIHRydWUsIGZhbHNlKSxcbiAgICAgIHBlZyRjNjcgPSBcIid7XCIsXG4gICAgICBwZWckYzY4ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIid7XCIsIGZhbHNlKSxcbiAgICAgIHBlZyRjNjkgPSBmdW5jdGlvbihzdHIpIHsgcmV0dXJuICdcXHUwMDdCJytzdHIuam9pbignJyk7IH0sXG4gICAgICBwZWckYzcwID0gXCInfVwiLFxuICAgICAgcGVnJGM3MSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCInfVwiLCBmYWxzZSksXG4gICAgICBwZWckYzcyID0gZnVuY3Rpb24oc3RyKSB7IHJldHVybiAnXFx1MDA3RCcrc3RyLmpvaW4oJycpOyB9LFxuICAgICAgcGVnJGM3MyA9IHBlZyRvdGhlckV4cGVjdGF0aW9uKFwiZXNjYXBlZCBzdHJpbmdcIiksXG4gICAgICBwZWckYzc0ID0gXCInI1wiLFxuICAgICAgcGVnJGM3NSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCInI1wiLCBmYWxzZSksXG4gICAgICBwZWckYzc2ID0gZnVuY3Rpb24oc3RyKSB7IHJldHVybiBcIiNcIitzdHIuam9pbignJyk7IH0sXG4gICAgICBwZWckYzc3ID0gZnVuY3Rpb24ocXVvdGVkT2N0bykgeyByZXR1cm4gcXVvdGVkT2N0b1swXTsgfSxcbiAgICAgIHBlZyRjNzggPSBwZWckb3RoZXJFeHBlY3RhdGlvbihcInBsYWluIGNoYXJcIiksXG4gICAgICBwZWckYzc5ID0gL15bXnt9I1xcMC1cXHgwOFxceDBFLVxceDFGXFx4N0ZdLyxcbiAgICAgIHBlZyRjODAgPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbXCJ7XCIsIFwifVwiLCBcIiNcIiwgW1wiXFwwXCIsIFwiXFxiXCJdLCBbXCJcXHgwRVwiLCBcIlxceDFGXCJdLCBcIlxceDdGXCJdLCB0cnVlLCBmYWxzZSksXG4gICAgICBwZWckYzgxID0gZnVuY3Rpb24ob2N0bykgeyByZXR1cm4gIWluUGx1cmFsWzBdOyB9LFxuICAgICAgcGVnJGM4MiA9IGZ1bmN0aW9uKG9jdG8pIHsgcmV0dXJuIG9jdG87IH0sXG4gICAgICBwZWckYzgzID0gcGVnJG90aGVyRXhwZWN0YXRpb24oXCJpbnRlZ2VyXCIpLFxuICAgICAgcGVnJGM4NCA9IC9eWzAtOV0vLFxuICAgICAgcGVnJGM4NSA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtbXCIwXCIsIFwiOVwiXV0sIGZhbHNlLCBmYWxzZSksXG4gICAgICBwZWckYzg2ID0gcGVnJG90aGVyRXhwZWN0YXRpb24oXCJ3aGl0ZSBzcGFjZVwiKSxcbiAgICAgIHBlZyRjODcgPSAvXltcXHQtXFxyIFxceDg1XFx1MjAwRVxcdTIwMEZcXHUyMDI4XFx1MjAyOV0vLFxuICAgICAgcGVnJGM4OCA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtbXCJcXHRcIiwgXCJcXHJcIl0sIFwiIFwiLCBcIlxceDg1XCIsIFwiXFx1MjAwRVwiLCBcIlxcdTIwMEZcIiwgXCJcXHUyMDI4XCIsIFwiXFx1MjAyOVwiXSwgZmFsc2UsIGZhbHNlKSxcblxuICAgICAgcGVnJGN1cnJQb3MgICAgICAgICAgPSAwLFxuICAgICAgcGVnJHNhdmVkUG9zICAgICAgICAgPSAwLFxuICAgICAgcGVnJHBvc0RldGFpbHNDYWNoZSAgPSBbeyBsaW5lOiAxLCBjb2x1bW46IDEgfV0sXG4gICAgICBwZWckbWF4RmFpbFBvcyAgICAgICA9IDAsXG4gICAgICBwZWckbWF4RmFpbEV4cGVjdGVkICA9IFtdLFxuICAgICAgcGVnJHNpbGVudEZhaWxzICAgICAgPSAwLFxuXG4gICAgICBwZWckcmVzdWx0O1xuXG4gIGlmIChcInN0YXJ0UnVsZVwiIGluIG9wdGlvbnMpIHtcbiAgICBpZiAoIShvcHRpb25zLnN0YXJ0UnVsZSBpbiBwZWckc3RhcnRSdWxlRnVuY3Rpb25zKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3Qgc3RhcnQgcGFyc2luZyBmcm9tIHJ1bGUgXFxcIlwiICsgb3B0aW9ucy5zdGFydFJ1bGUgKyBcIlxcXCIuXCIpO1xuICAgIH1cblxuICAgIHBlZyRzdGFydFJ1bGVGdW5jdGlvbiA9IHBlZyRzdGFydFJ1bGVGdW5jdGlvbnNbb3B0aW9ucy5zdGFydFJ1bGVdO1xuICB9XG5cbiAgZnVuY3Rpb24gdGV4dCgpIHtcbiAgICByZXR1cm4gaW5wdXQuc3Vic3RyaW5nKHBlZyRzYXZlZFBvcywgcGVnJGN1cnJQb3MpO1xuICB9XG5cbiAgZnVuY3Rpb24gbG9jYXRpb24oKSB7XG4gICAgcmV0dXJuIHBlZyRjb21wdXRlTG9jYXRpb24ocGVnJHNhdmVkUG9zLCBwZWckY3VyclBvcyk7XG4gIH1cblxuICBmdW5jdGlvbiBleHBlY3RlZChkZXNjcmlwdGlvbiwgbG9jYXRpb24pIHtcbiAgICBsb2NhdGlvbiA9IGxvY2F0aW9uICE9PSB2b2lkIDAgPyBsb2NhdGlvbiA6IHBlZyRjb21wdXRlTG9jYXRpb24ocGVnJHNhdmVkUG9zLCBwZWckY3VyclBvcylcblxuICAgIHRocm93IHBlZyRidWlsZFN0cnVjdHVyZWRFcnJvcihcbiAgICAgIFtwZWckb3RoZXJFeHBlY3RhdGlvbihkZXNjcmlwdGlvbildLFxuICAgICAgaW5wdXQuc3Vic3RyaW5nKHBlZyRzYXZlZFBvcywgcGVnJGN1cnJQb3MpLFxuICAgICAgbG9jYXRpb25cbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gZXJyb3IobWVzc2FnZSwgbG9jYXRpb24pIHtcbiAgICBsb2NhdGlvbiA9IGxvY2F0aW9uICE9PSB2b2lkIDAgPyBsb2NhdGlvbiA6IHBlZyRjb21wdXRlTG9jYXRpb24ocGVnJHNhdmVkUG9zLCBwZWckY3VyclBvcylcblxuICAgIHRocm93IHBlZyRidWlsZFNpbXBsZUVycm9yKG1lc3NhZ2UsIGxvY2F0aW9uKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24odGV4dCwgaWdub3JlQ2FzZSkge1xuICAgIHJldHVybiB7IHR5cGU6IFwibGl0ZXJhbFwiLCB0ZXh0OiB0ZXh0LCBpZ25vcmVDYXNlOiBpZ25vcmVDYXNlIH07XG4gIH1cblxuICBmdW5jdGlvbiBwZWckY2xhc3NFeHBlY3RhdGlvbihwYXJ0cywgaW52ZXJ0ZWQsIGlnbm9yZUNhc2UpIHtcbiAgICByZXR1cm4geyB0eXBlOiBcImNsYXNzXCIsIHBhcnRzOiBwYXJ0cywgaW52ZXJ0ZWQ6IGludmVydGVkLCBpZ25vcmVDYXNlOiBpZ25vcmVDYXNlIH07XG4gIH1cblxuICBmdW5jdGlvbiBwZWckYW55RXhwZWN0YXRpb24oKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogXCJhbnlcIiB9O1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJGVuZEV4cGVjdGF0aW9uKCkge1xuICAgIHJldHVybiB7IHR5cGU6IFwiZW5kXCIgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRvdGhlckV4cGVjdGF0aW9uKGRlc2NyaXB0aW9uKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogXCJvdGhlclwiLCBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24gfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRjb21wdXRlUG9zRGV0YWlscyhwb3MpIHtcbiAgICB2YXIgZGV0YWlscyA9IHBlZyRwb3NEZXRhaWxzQ2FjaGVbcG9zXSwgcDtcblxuICAgIGlmIChkZXRhaWxzKSB7XG4gICAgICByZXR1cm4gZGV0YWlscztcbiAgICB9IGVsc2Uge1xuICAgICAgcCA9IHBvcyAtIDE7XG4gICAgICB3aGlsZSAoIXBlZyRwb3NEZXRhaWxzQ2FjaGVbcF0pIHtcbiAgICAgICAgcC0tO1xuICAgICAgfVxuXG4gICAgICBkZXRhaWxzID0gcGVnJHBvc0RldGFpbHNDYWNoZVtwXTtcbiAgICAgIGRldGFpbHMgPSB7XG4gICAgICAgIGxpbmU6ICAgZGV0YWlscy5saW5lLFxuICAgICAgICBjb2x1bW46IGRldGFpbHMuY29sdW1uXG4gICAgICB9O1xuXG4gICAgICB3aGlsZSAocCA8IHBvcykge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwKSA9PT0gMTApIHtcbiAgICAgICAgICBkZXRhaWxzLmxpbmUrKztcbiAgICAgICAgICBkZXRhaWxzLmNvbHVtbiA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGV0YWlscy5jb2x1bW4rKztcbiAgICAgICAgfVxuXG4gICAgICAgIHArKztcbiAgICAgIH1cblxuICAgICAgcGVnJHBvc0RldGFpbHNDYWNoZVtwb3NdID0gZGV0YWlscztcbiAgICAgIHJldHVybiBkZXRhaWxzO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRjb21wdXRlTG9jYXRpb24oc3RhcnRQb3MsIGVuZFBvcykge1xuICAgIHZhciBzdGFydFBvc0RldGFpbHMgPSBwZWckY29tcHV0ZVBvc0RldGFpbHMoc3RhcnRQb3MpLFxuICAgICAgICBlbmRQb3NEZXRhaWxzICAgPSBwZWckY29tcHV0ZVBvc0RldGFpbHMoZW5kUG9zKTtcblxuICAgIHJldHVybiB7XG4gICAgICBzdGFydDoge1xuICAgICAgICBvZmZzZXQ6IHN0YXJ0UG9zLFxuICAgICAgICBsaW5lOiAgIHN0YXJ0UG9zRGV0YWlscy5saW5lLFxuICAgICAgICBjb2x1bW46IHN0YXJ0UG9zRGV0YWlscy5jb2x1bW5cbiAgICAgIH0sXG4gICAgICBlbmQ6IHtcbiAgICAgICAgb2Zmc2V0OiBlbmRQb3MsXG4gICAgICAgIGxpbmU6ICAgZW5kUG9zRGV0YWlscy5saW5lLFxuICAgICAgICBjb2x1bW46IGVuZFBvc0RldGFpbHMuY29sdW1uXG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRmYWlsKGV4cGVjdGVkKSB7XG4gICAgaWYgKHBlZyRjdXJyUG9zIDwgcGVnJG1heEZhaWxQb3MpIHsgcmV0dXJuOyB9XG5cbiAgICBpZiAocGVnJGN1cnJQb3MgPiBwZWckbWF4RmFpbFBvcykge1xuICAgICAgcGVnJG1heEZhaWxQb3MgPSBwZWckY3VyclBvcztcbiAgICAgIHBlZyRtYXhGYWlsRXhwZWN0ZWQgPSBbXTtcbiAgICB9XG5cbiAgICBwZWckbWF4RmFpbEV4cGVjdGVkLnB1c2goZXhwZWN0ZWQpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJGJ1aWxkU2ltcGxlRXJyb3IobWVzc2FnZSwgbG9jYXRpb24pIHtcbiAgICByZXR1cm4gbmV3IHBlZyRTeW50YXhFcnJvcihtZXNzYWdlLCBudWxsLCBudWxsLCBsb2NhdGlvbik7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckYnVpbGRTdHJ1Y3R1cmVkRXJyb3IoZXhwZWN0ZWQsIGZvdW5kLCBsb2NhdGlvbikge1xuICAgIHJldHVybiBuZXcgcGVnJFN5bnRheEVycm9yKFxuICAgICAgcGVnJFN5bnRheEVycm9yLmJ1aWxkTWVzc2FnZShleHBlY3RlZCwgZm91bmQpLFxuICAgICAgZXhwZWN0ZWQsXG4gICAgICBmb3VuZCxcbiAgICAgIGxvY2F0aW9uXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZXN0YXJ0KCkge1xuICAgIHZhciBzMCwgczE7XG5cbiAgICBzMCA9IFtdO1xuICAgIHMxID0gcGVnJHBhcnNldG9rZW4oKTtcbiAgICB3aGlsZSAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwLnB1c2goczEpO1xuICAgICAgczEgPSBwZWckcGFyc2V0b2tlbigpO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZXRva2VuKCkge1xuICAgIHZhciBzMCwgczEsIHMyO1xuXG4gICAgczAgPSBwZWckcGFyc2Vhcmd1bWVudCgpO1xuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckcGFyc2VzZWxlY3QoKTtcbiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMCA9IHBlZyRwYXJzZXBsdXJhbCgpO1xuICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMCA9IHBlZyRwYXJzZWZ1bmN0aW9uKCk7XG4gICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAzNSkge1xuICAgICAgICAgICAgICBzMSA9IHBlZyRjMDtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzEpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICAgIHMyID0gcGVnJGMyKCk7XG4gICAgICAgICAgICAgIGlmIChzMikge1xuICAgICAgICAgICAgICAgIHMyID0gdm9pZCAwO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMygpO1xuICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgICBzMSA9IFtdO1xuICAgICAgICAgICAgICBzMiA9IHBlZyRwYXJzZWNoYXIoKTtcbiAgICAgICAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBzMS5wdXNoKHMyKTtcbiAgICAgICAgICAgICAgICAgIHMyID0gcGVnJHBhcnNlY2hhcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczEgPSBwZWckYzQoczEpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlYXJndW1lbnQoKSB7XG4gICAgdmFyIHMwLCBzMSwgczIsIHMzLCBzNCwgczU7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMTIzKSB7XG4gICAgICBzMSA9IHBlZyRjNTtcbiAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM2KTsgfVxuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNlXygpO1xuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gcGVnJHBhcnNlaWQoKTtcbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDEyNSkge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRjNztcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzgpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgIHMxID0gcGVnJGM5KHMzKTtcbiAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VzZWxlY3QoKSB7XG4gICAgdmFyIHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2LCBzNywgczgsIHM5LCBzMTAsIHMxMSwgczEyLCBzMTM7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMTIzKSB7XG4gICAgICBzMSA9IHBlZyRjNTtcbiAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM2KTsgfVxuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNlXygpO1xuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gcGVnJHBhcnNlaWQoKTtcbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQ0KSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJGMxMDtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzExKTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNlXygpO1xuICAgICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzNyA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDYpID09PSBwZWckYzEyKSB7XG4gICAgICAgICAgICAgICAgICBzOCA9IHBlZyRjMTI7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSA2O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzOCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTMpOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzOCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczc7XG4gICAgICAgICAgICAgICAgICBzOCA9IHBlZyRjMTQoczMsIHM4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgczcgPSBzODtcbiAgICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJHBhcnNlXygpO1xuICAgICAgICAgICAgICAgICAgaWYgKHM4ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzOSA9IHBlZyRjMTA7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBzOSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzExKTsgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzOSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgIHMxMCA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoczEwICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzMTEgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMxMiA9IHBlZyRwYXJzZXNlbGVjdENhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMTIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHMxMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxMS5wdXNoKHMxMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgczEyID0gcGVnJHBhcnNlc2VsZWN0Q2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzMTEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzMTIgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMTIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDEyNSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczEzID0gcGVnJGM3O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczEzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM4KTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczEzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGMxNShzMywgczExKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlcGx1cmFsKCkge1xuICAgIHZhciBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczcsIHM4LCBzOSwgczEwLCBzMTEsIHMxMiwgczEzLCBzMTQ7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMTIzKSB7XG4gICAgICBzMSA9IHBlZyRjNTtcbiAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM2KTsgfVxuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNlXygpO1xuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gcGVnJHBhcnNlaWQoKTtcbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQ0KSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJGMxMDtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzExKTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNlXygpO1xuICAgICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzNyA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDYpID09PSBwZWckYzE2KSB7XG4gICAgICAgICAgICAgICAgICBzOCA9IHBlZyRjMTY7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSA2O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzOCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTcpOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzOCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMTMpID09PSBwZWckYzE4KSB7XG4gICAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJGMxODtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMTM7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzOCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxOSk7IH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHM4ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzNztcbiAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJGMyMChzMywgczgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzNyA9IHM4O1xuICAgICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgczggPSBwZWckcGFyc2VfKCk7XG4gICAgICAgICAgICAgICAgICBpZiAoczggIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NCkge1xuICAgICAgICAgICAgICAgICAgICAgIHM5ID0gcGVnJGMxMDtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHM5ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTEpOyB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHM5ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgczEwID0gcGVnJHBhcnNlXygpO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChzMTAgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMxMSA9IHBlZyRwYXJzZW9mZnNldCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxMSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzMTEgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzMTIgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczEzID0gcGVnJHBhcnNlcGx1cmFsQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczEzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHMxMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczEyLnB1c2goczEzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxMyA9IHBlZyRwYXJzZXBsdXJhbENhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgczEyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczEyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgczEzID0gcGVnJHBhcnNlXygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMTMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMTI1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxNCA9IHBlZyRjNztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM4KTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczEgPSBwZWckYzIxKHMzLCBzNywgczExLCBzMTIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWZ1bmN0aW9uKCkge1xuICAgIHZhciBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczcsIHM4LCBzOSwgczEwO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDEyMykge1xuICAgICAgczEgPSBwZWckYzU7XG4gICAgICBwZWckY3VyclBvcysrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNik7IH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZV8oKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IHBlZyRwYXJzZWlkKCk7XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM0ID0gcGVnJHBhcnNlXygpO1xuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NCkge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRjMTA7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxMSk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNiA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczcgPSBwZWckcGFyc2VmdW5jdGlvbktleSgpO1xuICAgICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgczggPSBwZWckcGFyc2VfKCk7XG4gICAgICAgICAgICAgICAgICBpZiAoczggIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgczkgPSBwZWckcGFyc2VmdW5jdGlvblBhcmFtKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzOSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgIHM5ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoczkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDEyNSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgczEwID0gcGVnJGM3O1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgczEwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM4KTsgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoczEwICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGMyMihzMywgczcsIHM5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlaWQoKSB7XG4gICAgdmFyIHMwLCBzMSwgczI7XG5cbiAgICBwZWckc2lsZW50RmFpbHMrKztcbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gW107XG4gICAgaWYgKHBlZyRjMjQudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgczIgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI1KTsgfVxuICAgIH1cbiAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHdoaWxlIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMS5wdXNoKHMyKTtcbiAgICAgICAgaWYgKHBlZyRjMjQudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICAgIHMyID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjUpOyB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gaW5wdXQuc3Vic3RyaW5nKHMwLCBwZWckY3VyclBvcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMwID0gczE7XG4gICAgfVxuICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIzKTsgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZXNlbGVjdENhc2UoKSB7XG4gICAgdmFyIHMwLCBzMSwgczIsIHMzLCBzNDtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VfKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZWlkKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM0ID0gcGVnJHBhcnNlY2FzZVRva2VucygpO1xuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICBzMSA9IHBlZyRjMjYoczIsIHM0KTtcbiAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlcGx1cmFsQ2FzZSgpIHtcbiAgICB2YXIgczAsIHMxLCBzMiwgczMsIHM0O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZV8oKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNlcGx1cmFsS2V5KCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM0ID0gcGVnJHBhcnNlY2FzZVRva2VucygpO1xuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICBzMSA9IHBlZyRjMjYoczIsIHM0KTtcbiAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlY2FzZVRva2VucygpIHtcbiAgICB2YXIgczAsIHMxLCBzMiwgczMsIHM0LCBzNTtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAxMjMpIHtcbiAgICAgIHMxID0gcGVnJGM1O1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzYpOyB9XG4gICAgfVxuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckY3VyclBvcztcbiAgICAgIHMzID0gcGVnJHBhcnNlXygpO1xuICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHM0ID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDEyMykge1xuICAgICAgICAgIHM1ID0gcGVnJGM1O1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM2KTsgfVxuICAgICAgICB9XG4gICAgICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHM0O1xuICAgICAgICAgIHM0ID0gdm9pZCAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMyA9IFtzMywgczRdO1xuICAgICAgICAgIHMyID0gczM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMjtcbiAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczI7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIGlmIChzMiA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMiA9IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBbXTtcbiAgICAgICAgczQgPSBwZWckcGFyc2V0b2tlbigpO1xuICAgICAgICB3aGlsZSAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMy5wdXNoKHM0KTtcbiAgICAgICAgICBzNCA9IHBlZyRwYXJzZXRva2VuKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDEyNSkge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRjNztcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzgpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgIHMxID0gcGVnJGMyNyhzMyk7XG4gICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlb2Zmc2V0KCkge1xuICAgIHZhciBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczc7XG5cbiAgICBwZWckc2lsZW50RmFpbHMrKztcbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlXygpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNikgPT09IHBlZyRjMjkpIHtcbiAgICAgICAgczIgPSBwZWckYzI5O1xuICAgICAgICBwZWckY3VyclBvcyArPSA2O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzApOyB9XG4gICAgICB9XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNTgpIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJGMzMTtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzMik7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNiA9IHBlZyRwYXJzZWRpZ2l0cygpO1xuICAgICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzNyA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgczEgPSBwZWckYzMzKHM2KTtcbiAgICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI4KTsgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZXBsdXJhbEtleSgpIHtcbiAgICB2YXIgczAsIHMxLCBzMjtcblxuICAgIHMwID0gcGVnJHBhcnNlaWQoKTtcbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDYxKSB7XG4gICAgICAgIHMxID0gcGVnJGMzNDtcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM1KTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyID0gcGVnJHBhcnNlZGlnaXRzKCk7XG4gICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgIHMxID0gcGVnJGMzMyhzMik7XG4gICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWZ1bmN0aW9uS2V5KCkge1xuICAgIHZhciBzMCwgczEsIHMyLCBzMywgczQsIHM1O1xuXG4gICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNikgPT09IHBlZyRjMzYpIHtcbiAgICAgIHMwID0gcGVnJGMzNjtcbiAgICAgIHBlZyRjdXJyUG9zICs9IDY7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzNyk7IH1cbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA0KSA9PT0gcGVnJGMzOCkge1xuICAgICAgICBzMCA9IHBlZyRjMzg7XG4gICAgICAgIHBlZyRjdXJyUG9zICs9IDQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzOSk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA0KSA9PT0gcGVnJGM0MCkge1xuICAgICAgICAgIHMwID0gcGVnJGM0MDtcbiAgICAgICAgICBwZWckY3VyclBvcyArPSA0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDEpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgOCkgPT09IHBlZyRjNDIpIHtcbiAgICAgICAgICAgIHMwID0gcGVnJGM0MjtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDg7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0Myk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA3KSA9PT0gcGVnJGM0NCkge1xuICAgICAgICAgICAgICBzMCA9IHBlZyRjNDQ7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0NSk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA4KSA9PT0gcGVnJGM0Nikge1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJGM0NjtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSA4O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDcpOyB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgICAgICBzMSA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDYpID09PSBwZWckYzEyKSB7XG4gICAgICAgICAgICAgICAgICBzMiA9IHBlZyRjMTI7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSA2O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTMpOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgICAgICAgICAgICAgIGlmIChzMiA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgczEgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczE7XG4gICAgICAgICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgczIgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgICAgICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNikgPT09IHBlZyRjMTYpIHtcbiAgICAgICAgICAgICAgICAgICAgczMgPSBwZWckYzE2O1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSA2O1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTcpOyB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICAgICAgICAgICAgICAgIGlmIChzMyA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICBzMiA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczI7XG4gICAgICAgICAgICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICBzMyA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgICAgICAgICBwZWckc2lsZW50RmFpbHMrKztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMTMpID09PSBwZWckYzE4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgczQgPSBwZWckYzE4O1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDEzO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTkpOyB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcGVnJHNpbGVudEZhaWxzLS07XG4gICAgICAgICAgICAgICAgICAgIGlmIChzNCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgIHMzID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgIHM0ID0gcGVnJHBhcnNlaWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgICAgICAgICAgICAgczUgPSBwZWckYzQ4KHM0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzNSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzNSA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczEgPSBwZWckYzQ5KHM0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VmdW5jdGlvblBhcmFtKCkge1xuICAgIHZhciBzMCwgczEsIHMyLCBzMywgczQ7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlXygpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NCkge1xuICAgICAgICBzMiA9IHBlZyRjMTA7XG4gICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxMSk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IFtdO1xuICAgICAgICBzNCA9IHBlZyRwYXJzZXRva2VuKCk7XG4gICAgICAgIHdoaWxlIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMzLnB1c2goczQpO1xuICAgICAgICAgIHM0ID0gcGVnJHBhcnNldG9rZW4oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBwZWckY3VyclBvcztcbiAgICAgICAgICBzNCA9IHBlZyRjNTAoczMpO1xuICAgICAgICAgIGlmIChzNCkge1xuICAgICAgICAgICAgczQgPSB2b2lkIDA7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgIHMxID0gcGVnJGM1MShzMyk7XG4gICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICBzMSA9IHBlZyRwYXJzZV8oKTtcbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQ0KSB7XG4gICAgICAgICAgczIgPSBwZWckYzEwO1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxMSk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMyA9IFtdO1xuICAgICAgICAgIHM0ID0gcGVnJHBhcnNlc3RyaWN0RnVuY3Rpb25QYXJhbVBhcnQoKTtcbiAgICAgICAgICB3aGlsZSAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHMzLnB1c2goczQpO1xuICAgICAgICAgICAgczQgPSBwZWckcGFyc2VzdHJpY3RGdW5jdGlvblBhcmFtUGFydCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgczEgPSBwZWckYzUyKHMzKTtcbiAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlc3RyaWN0RnVuY3Rpb25QYXJhbVBhcnQoKSB7XG4gICAgdmFyIHMwLCBzMSwgczIsIHMzO1xuXG4gICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IFtdO1xuICAgIGlmIChwZWckYzU0LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgIHMyID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM1NSk7IH1cbiAgICB9XG4gICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICB3aGlsZSAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczEucHVzaChzMik7XG4gICAgICAgIGlmIChwZWckYzU0LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICBzMiA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzU1KTsgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgIHMxID0gcGVnJGM1NihzMSk7XG4gICAgfVxuICAgIHMwID0gczE7XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRwYXJzZWRvdWJsZWFwb3MoKTtcbiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDM5KSB7XG4gICAgICAgICAgczEgPSBwZWckYzU3O1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM1OCk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMiA9IHBlZyRwYXJzZWluYXBvcygpO1xuICAgICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAzOSkge1xuICAgICAgICAgICAgICBzMyA9IHBlZyRjNTc7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM1OCk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczEgPSBwZWckYzU5KHMyKTtcbiAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDEyMykge1xuICAgICAgICAgICAgczEgPSBwZWckYzU7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNik7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzMiA9IFtdO1xuICAgICAgICAgICAgczMgPSBwZWckcGFyc2VzdHJpY3RGdW5jdGlvblBhcmFtUGFydCgpO1xuICAgICAgICAgICAgd2hpbGUgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHMyLnB1c2goczMpO1xuICAgICAgICAgICAgICBzMyA9IHBlZyRwYXJzZXN0cmljdEZ1bmN0aW9uUGFyYW1QYXJ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAxMjUpIHtcbiAgICAgICAgICAgICAgICBzMyA9IHBlZyRjNztcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjOCk7IH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMSA9IHBlZyRjNjAoczIpO1xuICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcGVnJHNpbGVudEZhaWxzLS07XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNTMpOyB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlZG91YmxlYXBvcygpIHtcbiAgICB2YXIgczAsIHMxO1xuXG4gICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGM2Mikge1xuICAgICAgczEgPSBwZWckYzYyO1xuICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzYzKTsgfVxuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgczEgPSBwZWckYzY0KCk7XG4gICAgfVxuICAgIHMwID0gczE7XG4gICAgcGVnJHNpbGVudEZhaWxzLS07XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNjEpOyB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlaW5hcG9zKCkge1xuICAgIHZhciBzMCwgczEsIHMyO1xuXG4gICAgczAgPSBwZWckcGFyc2Vkb3VibGVhcG9zKCk7XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgczEgPSBbXTtcbiAgICAgIGlmIChwZWckYzY1LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgczIgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNjYpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgd2hpbGUgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczEucHVzaChzMik7XG4gICAgICAgICAgaWYgKHBlZyRjNjUudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICAgICAgczIgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzY2KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjNChzMSk7XG4gICAgICB9XG4gICAgICBzMCA9IHMxO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZXF1b3RlZEN1cmx5KCkge1xuICAgIHZhciBzMCwgczEsIHMyLCBzMztcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjNjcpIHtcbiAgICAgIHMxID0gcGVnJGM2NztcbiAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM2OCk7IH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IFtdO1xuICAgICAgczMgPSBwZWckcGFyc2VpbmFwb3MoKTtcbiAgICAgIHdoaWxlIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMi5wdXNoKHMzKTtcbiAgICAgICAgczMgPSBwZWckcGFyc2VpbmFwb3MoKTtcbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDM5KSB7XG4gICAgICAgICAgczMgPSBwZWckYzU3O1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM1OCk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICBzMSA9IHBlZyRjNjkoczIpO1xuICAgICAgICAgIHMwID0gczE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjNzApIHtcbiAgICAgICAgczEgPSBwZWckYzcwO1xuICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNzEpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIgPSBbXTtcbiAgICAgICAgczMgPSBwZWckcGFyc2VpbmFwb3MoKTtcbiAgICAgICAgd2hpbGUgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczIucHVzaChzMyk7XG4gICAgICAgICAgczMgPSBwZWckcGFyc2VpbmFwb3MoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDM5KSB7XG4gICAgICAgICAgICBzMyA9IHBlZyRjNTc7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNTgpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICBzMSA9IHBlZyRjNzIoczIpO1xuICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VxdW90ZWQoKSB7XG4gICAgdmFyIHMwLCBzMSwgczIsIHMzLCBzNCwgczU7XG5cbiAgICBwZWckc2lsZW50RmFpbHMrKztcbiAgICBzMCA9IHBlZyRwYXJzZXF1b3RlZEN1cmx5KCk7XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgczEgPSBwZWckY3VyclBvcztcbiAgICAgIHMyID0gcGVnJGN1cnJQb3M7XG4gICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGM3NCkge1xuICAgICAgICBzMyA9IHBlZyRjNzQ7XG4gICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM3NSk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzNCA9IFtdO1xuICAgICAgICBzNSA9IHBlZyRwYXJzZWluYXBvcygpO1xuICAgICAgICB3aGlsZSAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNC5wdXNoKHM1KTtcbiAgICAgICAgICBzNSA9IHBlZyRwYXJzZWluYXBvcygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMzkpIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJGM1NztcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM1OCk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMjtcbiAgICAgICAgICAgIHMzID0gcGVnJGM3NihzNCk7XG4gICAgICAgICAgICBzMiA9IHMzO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMyO1xuICAgICAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMyO1xuICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMjtcbiAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBzMyA9IHBlZyRjMigpO1xuICAgICAgICBpZiAoczMpIHtcbiAgICAgICAgICBzMyA9IHZvaWQgMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczIgPSBbczIsIHMzXTtcbiAgICAgICAgICBzMSA9IHMyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczE7XG4gICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGM3NyhzMSk7XG4gICAgICB9XG4gICAgICBzMCA9IHMxO1xuICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMzkpIHtcbiAgICAgICAgICBzMCA9IHBlZyRjNTc7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzU4KTsgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzczKTsgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZXBsYWluQ2hhcigpIHtcbiAgICB2YXIgczAsIHMxO1xuXG4gICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgaWYgKHBlZyRjNzkudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgczAgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzgwKTsgfVxuICAgIH1cbiAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM3OCk7IH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VjaGFyKCkge1xuICAgIHZhciBzMCwgczEsIHMyO1xuXG4gICAgczAgPSBwZWckcGFyc2Vkb3VibGVhcG9zKCk7XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRwYXJzZXF1b3RlZCgpO1xuICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMzUpIHtcbiAgICAgICAgICBzMSA9IHBlZyRjMDtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMSk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBwZWckY3VyclBvcztcbiAgICAgICAgICBzMiA9IHBlZyRjODEoczEpO1xuICAgICAgICAgIGlmIChzMikge1xuICAgICAgICAgICAgczIgPSB2b2lkIDA7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgIHMxID0gcGVnJGM4MihzMSk7XG4gICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMCA9IHBlZyRwYXJzZXBsYWluQ2hhcigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlZGlnaXRzKCkge1xuICAgIHZhciBzMCwgczEsIHMyO1xuXG4gICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IFtdO1xuICAgIGlmIChwZWckYzg0LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgIHMyID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM4NSk7IH1cbiAgICB9XG4gICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICB3aGlsZSAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczEucHVzaChzMik7XG4gICAgICAgIGlmIChwZWckYzg0LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICBzMiA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzg1KTsgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IGlucHV0LnN1YnN0cmluZyhzMCwgcGVnJGN1cnJQb3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMCA9IHMxO1xuICAgIH1cbiAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM4Myk7IH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VfKCkge1xuICAgIHZhciBzMCwgczEsIHMyO1xuXG4gICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IFtdO1xuICAgIGlmIChwZWckYzg3LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgIHMyID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM4OCk7IH1cbiAgICB9XG4gICAgd2hpbGUgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMS5wdXNoKHMyKTtcbiAgICAgIGlmIChwZWckYzg3LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgczIgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjODgpOyB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBpbnB1dC5zdWJzdHJpbmcoczAsIHBlZyRjdXJyUG9zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgczAgPSBzMTtcbiAgICB9XG4gICAgcGVnJHNpbGVudEZhaWxzLS07XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjODYpOyB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cblxuICAgIHZhciBpblBsdXJhbCA9IFtmYWxzZV07XG5cblxuICBwZWckcmVzdWx0ID0gcGVnJHN0YXJ0UnVsZUZ1bmN0aW9uKCk7XG5cbiAgaWYgKHBlZyRyZXN1bHQgIT09IHBlZyRGQUlMRUQgJiYgcGVnJGN1cnJQb3MgPT09IGlucHV0Lmxlbmd0aCkge1xuICAgIHJldHVybiBwZWckcmVzdWx0O1xuICB9IGVsc2Uge1xuICAgIGlmIChwZWckcmVzdWx0ICE9PSBwZWckRkFJTEVEICYmIHBlZyRjdXJyUG9zIDwgaW5wdXQubGVuZ3RoKSB7XG4gICAgICBwZWckZmFpbChwZWckZW5kRXhwZWN0YXRpb24oKSk7XG4gICAgfVxuXG4gICAgdGhyb3cgcGVnJGJ1aWxkU3RydWN0dXJlZEVycm9yKFxuICAgICAgcGVnJG1heEZhaWxFeHBlY3RlZCxcbiAgICAgIHBlZyRtYXhGYWlsUG9zIDwgaW5wdXQubGVuZ3RoID8gaW5wdXQuY2hhckF0KHBlZyRtYXhGYWlsUG9zKSA6IG51bGwsXG4gICAgICBwZWckbWF4RmFpbFBvcyA8IGlucHV0Lmxlbmd0aFxuICAgICAgICA/IHBlZyRjb21wdXRlTG9jYXRpb24ocGVnJG1heEZhaWxQb3MsIHBlZyRtYXhGYWlsUG9zICsgMSlcbiAgICAgICAgOiBwZWckY29tcHV0ZUxvY2F0aW9uKHBlZyRtYXhGYWlsUG9zLCBwZWckbWF4RmFpbFBvcylcbiAgICApO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBTeW50YXhFcnJvcjogcGVnJFN5bnRheEVycm9yLFxuICBwYXJzZTogICAgICAgcGVnJHBhcnNlXG59O1xuIiwidmFyIHJlc2VydmVkID0gcmVxdWlyZSgncmVzZXJ2ZWQtd29yZHMnKTtcbnZhciBwYXJzZSA9IHJlcXVpcmUoJ21lc3NhZ2Vmb3JtYXQtcGFyc2VyJykucGFyc2U7XG5cbi8qKiBDcmVhdGVzIGEgbmV3IG1lc3NhZ2UgY29tcGlsZXIuIENhbGxlZCBpbnRlcm5hbGx5IGZyb20ge0BsaW5rIE1lc3NhZ2VGb3JtYXQjY29tcGlsZX0uXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtNZXNzYWdlRm9ybWF0fSBtZiAtIEEgTWVzc2FnZUZvcm1hdCBpbnN0YW5jZVxuICogQHByb3BlcnR5IHtvYmplY3R9IGxvY2FsZXMgLSBUaGUgbG9jYWxlIGlkZW50aWZpZXJzIHRoYXQgYXJlIHVzZWQgYnkgdGhlIGNvbXBpbGVkIGZ1bmN0aW9uc1xuICogQHByb3BlcnR5IHtvYmplY3R9IHJ1bnRpbWUgLSBOYW1lcyBvZiB0aGUgY29yZSBydW50aW1lIGZ1bmN0aW9ucyB0aGF0IGFyZSB1c2VkIGJ5IHRoZSBjb21waWxlZCBmdW5jdGlvbnNcbiAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBmb3JtYXR0ZXJzIC0gVGhlIGZvcm1hdHRlciBmdW5jdGlvbnMgdGhhdCBhcmUgdXNlZCBieSB0aGUgY29tcGlsZWQgZnVuY3Rpb25zXG4gKi9cbmZ1bmN0aW9uIENvbXBpbGVyKG1mKSB7XG4gIHRoaXMubWYgPSBtZjtcbiAgdGhpcy5sYyA9IG51bGw7XG4gIHRoaXMubG9jYWxlcyA9IHt9O1xuICB0aGlzLnJ1bnRpbWUgPSB7fTtcbiAgdGhpcy5mb3JtYXR0ZXJzID0ge307XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQ29tcGlsZXI7XG5cbi8qKiBVdGlsaXR5IGZ1bmN0aW9uIGZvciBxdW90aW5nIGFuIE9iamVjdCdzIGtleSB2YWx1ZSBpZiByZXF1aXJlZFxuICpcbiAqICBRdW90ZXMgdGhlIGtleSBpZiBpdCBjb250YWlucyBpbnZhbGlkIGNoYXJhY3RlcnMgb3IgaXMgYW5cbiAqICBFQ01BU2NyaXB0IDNyZCBFZGl0aW9uIHJlc2VydmVkIHdvcmQgKGZvciBJRTgpLlxuICovXG5Db21waWxlci5wcm9wbmFtZSA9IGZ1bmN0aW9uKGtleSwgb2JqKSB7XG4gIGlmIChcbiAgICAvXltBLVpfJF1bMC05QS1aXyRdKiQvaS50ZXN0KGtleSkgJiZcbiAgICBbXG4gICAgICAnYnJlYWsnLFxuICAgICAgJ2NvbnRpbnVlJyxcbiAgICAgICdkZWxldGUnLFxuICAgICAgJ2Vsc2UnLFxuICAgICAgJ2ZvcicsXG4gICAgICAnZnVuY3Rpb24nLFxuICAgICAgJ2lmJyxcbiAgICAgICdpbicsXG4gICAgICAnbmV3JyxcbiAgICAgICdyZXR1cm4nLFxuICAgICAgJ3RoaXMnLFxuICAgICAgJ3R5cGVvZicsXG4gICAgICAndmFyJyxcbiAgICAgICd2b2lkJyxcbiAgICAgICd3aGlsZScsXG4gICAgICAnd2l0aCcsXG4gICAgICAnY2FzZScsXG4gICAgICAnY2F0Y2gnLFxuICAgICAgJ2RlZmF1bHQnLFxuICAgICAgJ2RvJyxcbiAgICAgICdmaW5hbGx5JyxcbiAgICAgICdpbnN0YW5jZW9mJyxcbiAgICAgICdzd2l0Y2gnLFxuICAgICAgJ3Rocm93JyxcbiAgICAgICd0cnknXG4gICAgXS5pbmRleE9mKGtleSkgPCAwXG4gICkge1xuICAgIHJldHVybiBvYmogPyBvYmogKyAnLicgKyBrZXkgOiBrZXk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGprZXkgPSBKU09OLnN0cmluZ2lmeShrZXkpO1xuICAgIHJldHVybiBvYmogPyBvYmogKyAnWycgKyBqa2V5ICsgJ10nIDogamtleTtcbiAgfVxufTtcblxuLyoqIFV0aWxpdHkgZnVuY3Rpb24gZm9yIGVzY2FwaW5nIGEgZnVuY3Rpb24gbmFtZSBpZiByZXF1aXJlZFxuICovXG5Db21waWxlci5mdW5jbmFtZSA9IGZ1bmN0aW9uKGtleSkge1xuICB2YXIgZm4gPSBrZXkudHJpbSgpLnJlcGxhY2UoL1xcVysvZywgJ18nKTtcbiAgcmV0dXJuIHJlc2VydmVkLmNoZWNrKGZuLCAnZXMyMDE1JywgdHJ1ZSkgfHwgL15cXGQvLnRlc3QoZm4pID8gJ18nICsgZm4gOiBmbjtcbn07XG5cbi8qKiBVdGlsaXR5IGZvcm1hdHRlciBmdW5jdGlvbiBmb3IgZW5mb3JjaW5nIEJpZGkgU3RydWN0dXJlZCBUZXh0IGJ5IHVzaW5nIFVDQ1xuICpcbiAqICBMaXN0IGlubGluZWQgZnJvbSBkYXRhIGV4dHJhY3RlZCBmcm9tIENMRFIgdjI3ICYgdjI4XG4gKiAgVG8gdmVyaWZ5L3JlY3JlYXRlLCB1c2UgdGhlIGZvbGxvd2luZzpcbiAqXG4gKiAgICAgZ2l0IGNsb25lIGh0dHBzOi8vZ2l0aHViLmNvbS91bmljb2RlLWNsZHIvY2xkci1taXNjLWZ1bGwuZ2l0XG4gKiAgICAgY2QgY2xkci1taXNjLWZ1bGwvbWFpbi9cbiAqICAgICBncmVwIGNoYXJhY3Rlck9yZGVyIC1yIC4gfCB0ciAnXCIvJyAnXFx0JyB8IGN1dCAtZjIsNiB8IGdyZXAgLUM0IHJpZ2h0LXRvLWxlZnRcbiAqL1xuQ29tcGlsZXIuYmlkaU1hcmtUZXh0ID0gZnVuY3Rpb24odGV4dCwgbG9jYWxlKSB7XG4gIGZ1bmN0aW9uIGlzTG9jYWxlUlRMKGxvY2FsZSkge1xuICAgIHZhciBydGxMYW5ndWFnZXMgPSBbXG4gICAgICAnYXInLFxuICAgICAgJ2NrYicsXG4gICAgICAnZmEnLFxuICAgICAgJ2hlJyxcbiAgICAgICdrcygkfFteYmZoXSknLFxuICAgICAgJ2xyYycsXG4gICAgICAnbXpuJyxcbiAgICAgICdwYS1BcmFiJyxcbiAgICAgICdwcycsXG4gICAgICAndWcnLFxuICAgICAgJ3VyJyxcbiAgICAgICd1ei1BcmFiJyxcbiAgICAgICd5aSdcbiAgICBdO1xuICAgIHJldHVybiBuZXcgUmVnRXhwKCdeJyArIHJ0bExhbmd1YWdlcy5qb2luKCd8XicpKS50ZXN0KGxvY2FsZSk7XG4gIH1cbiAgdmFyIG1hcmsgPSBKU09OLnN0cmluZ2lmeShpc0xvY2FsZVJUTChsb2NhbGUpID8gJ1xcdTIwMEYnIDogJ1xcdTIwMEUnKTtcbiAgcmV0dXJuIG1hcmsgKyAnICsgJyArIHRleHQgKyAnICsgJyArIG1hcms7XG59O1xuXG4vKiogQHByaXZhdGUgKi9cbkNvbXBpbGVyLnByb3RvdHlwZS5jYXNlcyA9IGZ1bmN0aW9uKHRva2VuLCBwbHVyYWwpIHtcbiAgdmFyIG5lZWRPdGhlciA9IHRva2VuLnR5cGUgPT09ICdzZWxlY3QnIHx8ICF0aGlzLm1mLmhhc0N1c3RvbVBsdXJhbEZ1bmNzO1xuICB2YXIgciA9IHRva2VuLmNhc2VzLm1hcChmdW5jdGlvbihjKSB7XG4gICAgaWYgKGMua2V5ID09PSAnb3RoZXInKSBuZWVkT3RoZXIgPSBmYWxzZTtcbiAgICB2YXIgcyA9IGMudG9rZW5zLm1hcChmdW5jdGlvbih0b2spIHtcbiAgICAgIHJldHVybiB0aGlzLnRva2VuKHRvaywgcGx1cmFsKTtcbiAgICB9LCB0aGlzKTtcbiAgICByZXR1cm4gQ29tcGlsZXIucHJvcG5hbWUoYy5rZXkpICsgJzogJyArIChzLmpvaW4oJyArICcpIHx8ICdcIlwiJyk7XG4gIH0sIHRoaXMpO1xuICBpZiAobmVlZE90aGVyKVxuICAgIHRocm93IG5ldyBFcnJvcihcIk5vICdvdGhlcicgZm9ybSBmb3VuZCBpbiBcIiArIEpTT04uc3RyaW5naWZ5KHRva2VuKSk7XG4gIHJldHVybiAneyAnICsgci5qb2luKCcsICcpICsgJyB9Jztcbn07XG5cbi8qKiBAcHJpdmF0ZSAqL1xuQ29tcGlsZXIucHJvdG90eXBlLnRva2VuID0gZnVuY3Rpb24odG9rZW4sIHBsdXJhbCkge1xuICBpZiAodHlwZW9mIHRva2VuID09ICdzdHJpbmcnKSByZXR1cm4gSlNPTi5zdHJpbmdpZnkodG9rZW4pO1xuXG4gIHZhciBmbixcbiAgICBhcmdzID0gW0NvbXBpbGVyLnByb3BuYW1lKHRva2VuLmFyZywgJ2QnKV07XG4gIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgIGNhc2UgJ2FyZ3VtZW50JzpcbiAgICAgIHJldHVybiB0aGlzLm1mLmJpZGlTdXBwb3J0XG4gICAgICAgID8gQ29tcGlsZXIuYmlkaU1hcmtUZXh0KGFyZ3NbMF0sIHRoaXMubGMpXG4gICAgICAgIDogYXJnc1swXTtcblxuICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgICBmbiA9ICdzZWxlY3QnO1xuICAgICAgaWYgKHBsdXJhbCAmJiB0aGlzLm1mLnN0cmljdE51bWJlclNpZ24pIHBsdXJhbCA9IG51bGw7XG4gICAgICBhcmdzLnB1c2godGhpcy5jYXNlcyh0b2tlbiwgcGx1cmFsKSk7XG4gICAgICB0aGlzLnJ1bnRpbWUuc2VsZWN0ID0gdHJ1ZTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc2VsZWN0b3JkaW5hbCc6XG4gICAgICBmbiA9ICdwbHVyYWwnO1xuICAgICAgYXJncy5wdXNoKDAsIENvbXBpbGVyLmZ1bmNuYW1lKHRoaXMubGMpLCB0aGlzLmNhc2VzKHRva2VuLCB0b2tlbiksIDEpO1xuICAgICAgdGhpcy5sb2NhbGVzW3RoaXMubGNdID0gdHJ1ZTtcbiAgICAgIHRoaXMucnVudGltZS5wbHVyYWwgPSB0cnVlO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdwbHVyYWwnOlxuICAgICAgZm4gPSAncGx1cmFsJztcbiAgICAgIGFyZ3MucHVzaChcbiAgICAgICAgdG9rZW4ub2Zmc2V0IHx8IDAsXG4gICAgICAgIENvbXBpbGVyLmZ1bmNuYW1lKHRoaXMubGMpLFxuICAgICAgICB0aGlzLmNhc2VzKHRva2VuLCB0b2tlbilcbiAgICAgICk7XG4gICAgICB0aGlzLmxvY2FsZXNbdGhpcy5sY10gPSB0cnVlO1xuICAgICAgdGhpcy5ydW50aW1lLnBsdXJhbCA9IHRydWU7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgIGlmIChcbiAgICAgICAgISh0b2tlbi5rZXkgaW4gdGhpcy5tZi5mbXQpICYmXG4gICAgICAgIHRva2VuLmtleSBpbiB0aGlzLm1mLmNvbnN0cnVjdG9yLmZvcm1hdHRlcnNcbiAgICAgICkge1xuICAgICAgICB2YXIgZm10ID0gdGhpcy5tZi5jb25zdHJ1Y3Rvci5mb3JtYXR0ZXJzW3Rva2VuLmtleV07XG4gICAgICAgIHRoaXMubWYuZm10W3Rva2VuLmtleV0gPSBmbXQodGhpcy5tZik7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMubWYuZm10W3Rva2VuLmtleV0pXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnRm9ybWF0dGluZyBmdW5jdGlvbiAnICsgSlNPTi5zdHJpbmdpZnkodG9rZW4ua2V5KSArICcgbm90IGZvdW5kISdcbiAgICAgICAgKTtcbiAgICAgIGFyZ3MucHVzaChKU09OLnN0cmluZ2lmeSh0aGlzLmxjKSk7XG4gICAgICBpZiAodG9rZW4ucGFyYW0pIHtcbiAgICAgICAgaWYgKHBsdXJhbCAmJiB0aGlzLm1mLnN0cmljdE51bWJlclNpZ24pIHBsdXJhbCA9IG51bGw7XG4gICAgICAgIHZhciBzID0gdG9rZW4ucGFyYW0udG9rZW5zLm1hcChmdW5jdGlvbih0b2spIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy50b2tlbih0b2ssIHBsdXJhbCk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgICAgICBhcmdzLnB1c2goJygnICsgKHMuam9pbignICsgJykgfHwgJ1wiXCInKSArICcpLnRyaW0oKScpO1xuICAgICAgfVxuICAgICAgZm4gPSBDb21waWxlci5wcm9wbmFtZSh0b2tlbi5rZXksICdmbXQnKTtcbiAgICAgIHRoaXMuZm9ybWF0dGVyc1t0b2tlbi5rZXldID0gdHJ1ZTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnb2N0b3Rob3JwZSc6XG4gICAgICBpZiAoIXBsdXJhbCkgcmV0dXJuICdcIiNcIic7XG4gICAgICBmbiA9ICdudW1iZXInO1xuICAgICAgYXJncyA9IFtDb21waWxlci5wcm9wbmFtZShwbHVyYWwuYXJnLCAnZCcpLCBKU09OLnN0cmluZ2lmeShwbHVyYWwuYXJnKV07XG4gICAgICBpZiAocGx1cmFsLm9mZnNldCkgYXJncy5wdXNoKHBsdXJhbC5vZmZzZXQpO1xuICAgICAgdGhpcy5ydW50aW1lLm51bWJlciA9IHRydWU7XG4gICAgICBicmVhaztcbiAgfVxuXG4gIGlmICghZm4pIHRocm93IG5ldyBFcnJvcignUGFyc2VyIGVycm9yIGZvciB0b2tlbiAnICsgSlNPTi5zdHJpbmdpZnkodG9rZW4pKTtcbiAgcmV0dXJuIGZuICsgJygnICsgYXJncy5qb2luKCcsICcpICsgJyknO1xufTtcblxuLyoqIFJlY3Vyc2l2ZWx5IGNvbXBpbGUgYSBzdHJpbmcgb3IgYSB0cmVlIG9mIHN0cmluZ3MgdG8gSmF2YVNjcmlwdCBmdW5jdGlvbiBzb3VyY2VzXG4gKlxuICogIElmIGBzcmNgIGlzIGFuIG9iamVjdCB3aXRoIGEga2V5IHRoYXQgaXMgYWxzbyBwcmVzZW50IGluIGBwbHVyYWxzYCwgdGhlIGtleVxuICogIGluIHF1ZXN0aW9uIHdpbGwgYmUgdXNlZCBhcyB0aGUgbG9jYWxlIGlkZW50aWZpZXIgZm9yIGl0cyB2YWx1ZS4gVG8gZGlzYWJsZVxuICogIHRoZSBjb21waWxlLXRpbWUgY2hlY2tzIGZvciBwbHVyYWwgJiBzZWxlY3RvcmRpbmFsIGtleXMgd2hpbGUgbWFpbnRhaW5pbmdcbiAqICBtdWx0aS1sb2NhbGUgc3VwcG9ydCwgdXNlIGZhbHN5IHZhbHVlcyBpbiBgcGx1cmFsc2AuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSBzcmMgLSB0aGUgc291cmNlIGZvciB3aGljaCB0aGUgSlMgY29kZSBzaG91bGQgYmUgZ2VuZXJhdGVkXG4gKiBAcGFyYW0ge3N0cmluZ30gbGMgLSB0aGUgZGVmYXVsdCBsb2NhbGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBwbHVyYWxzIC0gYSBtYXAgb2YgcGx1cmFsaXphdGlvbiBrZXlzIGZvciBhbGwgYXZhaWxhYmxlIGxvY2FsZXNcbiAqL1xuQ29tcGlsZXIucHJvdG90eXBlLmNvbXBpbGUgPSBmdW5jdGlvbihzcmMsIGxjLCBwbHVyYWxzKSB7XG4gIGlmICh0eXBlb2Ygc3JjICE9ICdvYmplY3QnKSB7XG4gICAgdGhpcy5sYyA9IGxjO1xuICAgIHZhciBwYyA9IHBsdXJhbHNbbGNdIHx8IHsgY2FyZGluYWw6IFtdLCBvcmRpbmFsOiBbXSB9O1xuICAgIHBjLnN0cmljdCA9ICEhdGhpcy5tZi5zdHJpY3ROdW1iZXJTaWduO1xuICAgIHZhciByID0gcGFyc2Uoc3JjLCBwYykubWFwKGZ1bmN0aW9uKHRva2VuKSB7XG4gICAgICByZXR1cm4gdGhpcy50b2tlbih0b2tlbik7XG4gICAgfSwgdGhpcyk7XG4gICAgcmV0dXJuICdmdW5jdGlvbihkKSB7IHJldHVybiAnICsgKHIuam9pbignICsgJykgfHwgJ1wiXCInKSArICc7IH0nO1xuICB9IGVsc2Uge1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBmb3IgKHZhciBrZXkgaW4gc3JjKSB7XG4gICAgICB2YXIgbGNLZXkgPSBwbHVyYWxzLmhhc093blByb3BlcnR5KGtleSkgPyBrZXkgOiBsYztcbiAgICAgIHJlc3VsdFtrZXldID0gdGhpcy5jb21waWxlKHNyY1trZXldLCBsY0tleSwgcGx1cmFscyk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn07XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby1mYWxsdGhyb3VnaCAqL1xuXG4vKiogUmVwcmVzZW50IGEgZGF0ZSBhcyBhIHNob3J0L2RlZmF1bHQvbG9uZy9mdWxsIHN0cmluZ1xuICpcbiAqIFRoZSBpbnB1dCB2YWx1ZSBuZWVkcyB0byBiZSBpbiBhIGZvcm0gdGhhdCB0aGVcbiAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9EYXRlIERhdGUgb2JqZWN0fVxuICogY2FuIHByb2Nlc3MgdXNpbmcgaXRzIHNpbmdsZS1hcmd1bWVudCBmb3JtLCBgbmV3IERhdGUodmFsdWUpYC5cbiAqXG4gKiBAbWVtYmVyb2YgRm9ybWF0dGVyc1xuICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSB2YWx1ZSAtIEVpdGhlciBhIFVuaXggZXBvY2ggdGltZSBpbiBtaWxsaXNlY29uZHMsIG9yIGEgc3RyaW5nIHZhbHVlIHJlcHJlc2VudGluZyBhIGRhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBbdHlwZT0nZGVmYXVsdCddIC0gT25lIG9mIGAnc2hvcnQnYCwgYCdkZWZhdWx0J2AsIGAnbG9uZydgICwgb3IgYGZ1bGxgXG4gKlxuICogQGV4YW1wbGVcbiAqIHZhciBtZiA9IG5ldyBNZXNzYWdlRm9ybWF0KFsnZW4nLCAnZmknXSk7XG4gKlxuICogbWYuY29tcGlsZSgnVG9kYXkgaXMge1QsIGRhdGV9JykoeyBUOiBEYXRlLm5vdygpIH0pXG4gKiAvLyAnVG9kYXkgaXMgRmViIDIxLCAyMDE2J1xuICpcbiAqIG1mLmNvbXBpbGUoJ1TDpG7DpMOkbiBvbiB7VCwgZGF0ZX0nLCAnZmknKSh7IFQ6IERhdGUubm93KCkgfSlcbiAqIC8vICdUw6Ruw6TDpG4gb24gMjEuIGhlbG1pa3V1dGEgMjAxNidcbiAqXG4gKiBtZi5jb21waWxlKCdVbml4IHRpbWUgc3RhcnRlZCBvbiB7VCwgZGF0ZSwgZnVsbH0nKSh7IFQ6IDAgfSlcbiAqIC8vICdVbml4IHRpbWUgc3RhcnRlZCBvbiBUaHVyc2RheSwgSmFudWFyeSAxLCAxOTcwJ1xuICpcbiAqIHZhciBjZiA9IG1mLmNvbXBpbGUoJ3tzeXN9IGJlY2FtZSBvcGVyYXRpb25hbCBvbiB7ZDAsIGRhdGUsIHNob3J0fScpO1xuICogY2YoeyBzeXM6ICdIQUwgOTAwMCcsIGQwOiAnMTIgSmFudWFyeSAxOTk5JyB9KVxuICogLy8gJ0hBTCA5MDAwIGJlY2FtZSBvcGVyYXRpb25hbCBvbiAxLzEyLzE5OTknXG4gKi9cbmZ1bmN0aW9uIGRhdGUodiwgbGMsIHApIHtcbiAgdmFyIG8gPSB7IGRheTogJ251bWVyaWMnLCBtb250aDogJ3Nob3J0JywgeWVhcjogJ251bWVyaWMnIH07XG4gIHN3aXRjaCAocCkge1xuICAgIGNhc2UgJ2Z1bGwnOlxuICAgICAgby53ZWVrZGF5ID0gJ2xvbmcnO1xuICAgIGNhc2UgJ2xvbmcnOlxuICAgICAgby5tb250aCA9ICdsb25nJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3Nob3J0JzpcbiAgICAgIG8ubW9udGggPSAnbnVtZXJpYyc7XG4gIH1cbiAgcmV0dXJuIG5ldyBEYXRlKHYpLnRvTG9jYWxlRGF0ZVN0cmluZyhsYywgbyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBkYXRlO1xufTtcbiIsIi8qKlxuICogUmVwcmVzZW50IGEgZHVyYXRpb24gaW4gc2Vjb25kcyBhcyBhIHN0cmluZ1xuICpcbiAqIElucHV0IHNob3VsZCBiZSBhIGZpbml0ZSBudW1iZXI7IG91dHB1dCB3aWxsIGluY2x1ZGUgb25lIG9yIHR3byBgOmBcbiAqIHNlcGFyYXRvcnMsIGFuZCBtYXRjaCB0aGUgcGF0dGVybiBgaGhoaDptbTpzc2AsIHBvc3NpYmx5IHdpdGggYSBsZWFkaW5nIGAtYFxuICogZm9yIG5lZ2F0aXZlIHZhbHVlcyBhbmQgYSB0cmFpbGluZyBgLnNzc2AgcGFydCBmb3Igbm9uLWludGVnZXIgaW5wdXRcbiAqXG4gKiBAbWVtYmVyb2YgRm9ybWF0dGVyc1xuICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSB2YWx1ZSAtIEEgZmluaXRlIG51bWJlciwgb3IgaXRzIHN0cmluZyByZXByZXNlbnRhdGlvblxuICpcbiAqIEBleGFtcGxlXG4gKiB2YXIgbWYgPSBuZXcgTWVzc2FnZUZvcm1hdCgpO1xuICpcbiAqIG1mLmNvbXBpbGUoJ0l0IGhhcyBiZWVuIHtELCBkdXJhdGlvbn0nKSh7IEQ6IDEyMyB9KVxuICogLy8gJ0l0IGhhcyBiZWVuIDI6MDMnXG4gKlxuICogbWYuY29tcGlsZSgnQ291bnRkb3duOiB7RCwgZHVyYXRpb259JykoeyBEOiAtMTUxMjAwLjQyIH0pXG4gKiAvLyAnQ291bnRkb3duOiAtNDI6MDA6MDAuNDIwJ1xuICovXG5mdW5jdGlvbiBkdXJhdGlvbih2YWx1ZSkge1xuICBpZiAoIWlzRmluaXRlKHZhbHVlKSkgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG4gIHZhciBzaWduID0gJyc7XG4gIGlmICh2YWx1ZSA8IDApIHtcbiAgICBzaWduID0gJy0nO1xuICAgIHZhbHVlID0gTWF0aC5hYnModmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIHZhbHVlID0gTnVtYmVyKHZhbHVlKTtcbiAgfVxuICB2YXIgc2VjID0gdmFsdWUgJSA2MDtcbiAgdmFyIHBhcnRzID0gW01hdGgucm91bmQoc2VjKSA9PT0gc2VjID8gc2VjIDogc2VjLnRvRml4ZWQoMyldO1xuICBpZiAodmFsdWUgPCA2MCkge1xuICAgIHBhcnRzLnVuc2hpZnQoMCk7IC8vIGF0IGxlYXN0IG9uZSA6IGlzIHJlcXVpcmVkXG4gIH0gZWxzZSB7XG4gICAgdmFsdWUgPSBNYXRoLnJvdW5kKCh2YWx1ZSAtIHBhcnRzWzBdKSAvIDYwKTtcbiAgICBwYXJ0cy51bnNoaWZ0KHZhbHVlICUgNjApOyAvLyBtaW51dGVzXG4gICAgaWYgKHZhbHVlID49IDYwKSB7XG4gICAgICB2YWx1ZSA9IE1hdGgucm91bmQoKHZhbHVlIC0gcGFydHNbMF0pIC8gNjApO1xuICAgICAgcGFydHMudW5zaGlmdCh2YWx1ZSk7IC8vIGhvdXJzXG4gICAgfVxuICB9XG4gIHZhciBmaXJzdCA9IHBhcnRzLnNoaWZ0KCk7XG4gIHJldHVybiAoXG4gICAgc2lnbiArXG4gICAgZmlyc3QgK1xuICAgICc6JyArXG4gICAgcGFydHNcbiAgICAgIC5tYXAoZnVuY3Rpb24obikge1xuICAgICAgICByZXR1cm4gbiA8IDEwID8gJzAnICsgU3RyaW5nKG4pIDogU3RyaW5nKG4pO1xuICAgICAgfSlcbiAgICAgIC5qb2luKCc6JylcbiAgKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGR1cmF0aW9uO1xufTtcbiIsIi8qKlxuICogQGNsYXNzZGVzY1xuICogRGVmYXVsdCBudW1iZXIgZm9ybWF0dGluZyBmdW5jdGlvbnMgaW4gdGhlIHN0eWxlIG9mIElDVSdzXG4gKiB7QGxpbmsgaHR0cDovL2ljdS1wcm9qZWN0Lm9yZy9hcGlyZWYvaWN1NGovY29tL2libS9pY3UvdGV4dC9NZXNzYWdlRm9ybWF0Lmh0bWwgc2ltcGxlQXJnIHN5bnRheH1cbiAqIGltcGxlbWVudGVkIHVzaW5nIHRoZVxuICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0ludGwgSW50bH1cbiAqIG9iamVjdCBkZWZpbmVkIGJ5IEVDTUEtNDAyLlxuICpcbiAqIEluIE1lc3NhZ2VGb3JtYXQgc291cmNlLCBhIGZvcm1hdHRlciBmdW5jdGlvbiBpcyBjYWxsZWQgd2l0aCB0aGUgc3ludGF4XG4gKiBge3ZhciwgbmFtZSwgYXJnfWAsIHdoZXJlIGB2YXJgIGlzIGEgdmFyaWFibGUsIGBuYW1lYCBpcyB0aGUgZm9ybWF0dGVyIG5hbWVcbiAqIChieSBkZWZhdWx0LCBlaXRoZXIgYGRhdGVgLCBgZHVyYXRpb25gLCBgbnVtYmVyYCBvciBgdGltZWA7IGBzcGVsbG91dGAgYW5kXG4gKiBgb3JkaW5hbGAgYXJlIG5vdCBzdXBwb3J0ZWQgYnkgZGVmYXVsdCksIGFuZCBgYXJnYCBpcyBhbiBvcHRpb25hbCBzdHJpbmdcbiAqIGFyZ3VtZW50LlxuICpcbiAqIEluIEphdmFTY3JpcHQsIGEgZm9ybWF0dGVyIGlzIGEgZnVuY3Rpb24gY2FsbGVkIHdpdGggdGhyZWUgcGFyYW1ldGVyczpcbiAqICAgLSBUaGUgKipgdmFsdWVgKiogb2YgdGhlIHZhcmlhYmxlOyB0aGlzIGNhbiBiZSBvZiBhbnkgdXNlci1kZWZpbmVkIHR5cGVcbiAqICAgLSBUaGUgY3VycmVudCAqKmBsb2NhbGVgKiogY29kZVxuICogICAtIFRoZSB0cmltbWVkICoqYGFyZ2AqKiBzdHJpbmcgdmFsdWUsIG9yIGBudWxsYCBpZiBub3Qgc2V0XG4gKlxuICogQXMgZm9ybWF0dGVyIGZ1bmN0aW9ucyBtYXkgYmUgdXNlZCBpbiBhIHByZWNvbXBpbGVkIGNvbnRleHQsIHRoZXkgc2hvdWxkIG5vdFxuICogcmVmZXIgdG8gYW55IHZhcmlhYmxlcyB0aGF0IGFyZSBub3QgZGVmaW5lZCBieSB0aGUgZnVuY3Rpb24gcGFyYW1ldGVycyBvclxuICogd2l0aGluIHRoZSBmdW5jdGlvbiBib2R5LiBUbyBhZGQgeW91ciBvd24gZm9ybWF0dGVyLCBlaXRoZXIgYWRkIGl0IHRvIHRoZVxuICogc3RhdGljIGBNZXNzYWdlRm9ybWF0LmZvcm1hdHRlcnNgIG9iamVjdCwgb3IgdXNlXG4gKiB7QGxpbmsgTWVzc2FnZUZvcm1hdCNhZGRGb3JtYXR0ZXJzfSB0byBhZGQgaXQgdG8gYSBNZXNzYWdlRm9ybWF0IGluc3RhbmNlLlxuICpcbiAqIEBjbGFzcyBGb3JtYXR0ZXJzXG4gKiBAcHJpdmF0ZVxuICogQGhpZGVjb25zdHJ1Y3RvclxuICovXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBkYXRlOiByZXF1aXJlKCcuL2RhdGUnKSxcbiAgZHVyYXRpb246IHJlcXVpcmUoJy4vZHVyYXRpb24nKSxcbiAgbnVtYmVyOiByZXF1aXJlKCcuL251bWJlcicpLFxuICB0aW1lOiByZXF1aXJlKCcuL3RpbWUnKVxufTtcbiIsIi8qIGdsb2JhbCBDVVJSRU5DWSwgSW50bCAqL1xuXG4vKiogUmVwcmVzZW50IGEgbnVtYmVyIGFzIGFuIGludGVnZXIsIHBlcmNlbnQgb3IgY3VycmVuY3kgdmFsdWVcbiAqXG4gKiAgQXZhaWxhYmxlIGluIE1lc3NhZ2VGb3JtYXQgc3RyaW5ncyBhcyBge1ZBUiwgbnVtYmVyLCBpbnRlZ2VyfHBlcmNlbnR8Y3VycmVuY3l9YC5cbiAqICBJbnRlcm5hbGx5LCBjYWxscyBJbnRsLk51bWJlckZvcm1hdCB3aXRoIGFwcHJvcHJpYXRlIHBhcmFtZXRlcnMuIGBjdXJyZW5jeWAgd2lsbFxuICogIGRlZmF1bHQgdG8gVVNEOyB0byBjaGFuZ2UsIHNldCBgTWVzc2FnZUZvcm1hdCNjdXJyZW5jeWAgdG8gdGhlIGFwcHJvcHJpYXRlXG4gKiAgdGhyZWUtbGV0dGVyIGN1cnJlbmN5IGNvZGUsIG9yIHVzZSB0aGUgYGN1cnJlbmN5OkVVUmAgZm9ybSBvZiB0aGUgYXJndW1lbnQuXG4gKlxuICogQG1lbWJlcm9mIEZvcm1hdHRlcnNcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBvcGVyYXRlIG9uXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIE9uZSBvZiBgJ2ludGVnZXInYCwgYCdwZXJjZW50J2AgLCBgJ2N1cnJlbmN5J2AsIG9yIGAvY3VycmVuY3k6W0EtWl17M30vYFxuICpcbiAqIEBleGFtcGxlXG4gKiB2YXIgbWYgPSBuZXcgTWVzc2FnZUZvcm1hdCgnZW4nKTtcbiAqIG1mLmN1cnJlbmN5ID0gJ0VVUic7ICAvLyBuZWVkcyB0byBiZSBzZXQgYmVmb3JlIGZpcnN0IGNvbXBpbGUoKSBjYWxsXG4gKlxuICogbWYuY29tcGlsZSgne059IGlzIGFsbW9zdCB7TiwgbnVtYmVyLCBpbnRlZ2VyfScpKHsgTjogMy4xNCB9KVxuICogLy8gJzMuMTQgaXMgYWxtb3N0IDMnXG4gKlxuICogbWYuY29tcGlsZSgne1AsIG51bWJlciwgcGVyY2VudH0gY29tcGxldGUnKSh7IFA6IDAuOTkgfSlcbiAqIC8vICc5OSUgY29tcGxldGUnXG4gKlxuICogbWYuY29tcGlsZSgnVGhlIHRvdGFsIGlzIHtWLCBudW1iZXIsIGN1cnJlbmN5fS4nKSh7IFY6IDUuNSB9KVxuICogLy8gJ1RoZSB0b3RhbCBpcyDigqw1LjUwLidcbiAqXG4gKiBtZi5jb21waWxlKCdUaGUgdG90YWwgaXMge1YsIG51bWJlciwgY3VycmVuY3k6R0JQfS4nKSh7IFY6IDUuNSB9KVxuICogLy8gJ1RoZSB0b3RhbCBpcyDCozUuNTAuJ1xuICovXG5cbmZ1bmN0aW9uIG51bWJlcih2YWx1ZSwgbGMsIGFyZykge1xuICB2YXIgYSA9IChhcmcgJiYgYXJnLnNwbGl0KCc6JykpIHx8IFtdO1xuICB2YXIgb3B0ID0ge1xuICAgIGludGVnZXI6IHsgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiAwIH0sXG4gICAgcGVyY2VudDogeyBzdHlsZTogJ3BlcmNlbnQnIH0sXG4gICAgY3VycmVuY3k6IHtcbiAgICAgIHN0eWxlOiAnY3VycmVuY3knLFxuICAgICAgY3VycmVuY3k6IChhWzFdICYmIGFbMV0udHJpbSgpKSB8fCBDVVJSRU5DWSxcbiAgICAgIG1pbmltdW1GcmFjdGlvbkRpZ2l0czogMixcbiAgICAgIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMlxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIG5ldyBJbnRsLk51bWJlckZvcm1hdChsYywgb3B0W2FbMF1dIHx8IHt9KS5mb3JtYXQodmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1mKSB7XG4gIHZhciBwYXJ0cyA9IG51bWJlclxuICAgIC50b1N0cmluZygpXG4gICAgLnJlcGxhY2UoJ0NVUlJFTkNZJywgSlNPTi5zdHJpbmdpZnkobWYuY3VycmVuY3kgfHwgJ1VTRCcpKVxuICAgIC5tYXRjaCgvXFwoKFteKV0qKVxcKVtee10qeyhbXFxzXFxTXSopfS8pO1xuICByZXR1cm4gbmV3IEZ1bmN0aW9uKHBhcnRzWzFdLCBwYXJ0c1syXSk7XG59O1xuIiwiLyoqIFJlcHJlc2VudCBhIHRpbWUgYXMgYSBzaG9ydC9kZWZhdWx0L2xvbmcgc3RyaW5nXG4gKlxuICogVGhlIGlucHV0IHZhbHVlIG5lZWRzIHRvIGJlIGluIGEgZm9ybSB0aGF0IHRoZVxuICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0RhdGUgRGF0ZSBvYmplY3R9XG4gKiBjYW4gcHJvY2VzcyB1c2luZyBpdHMgc2luZ2xlLWFyZ3VtZW50IGZvcm0sIGBuZXcgRGF0ZSh2YWx1ZSlgLlxuICpcbiAqIEBtZW1iZXJvZiBGb3JtYXR0ZXJzXG4gKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IHZhbHVlIC0gRWl0aGVyIGEgVW5peCBlcG9jaCB0aW1lIGluIG1pbGxpc2Vjb25kcywgb3IgYSBzdHJpbmcgdmFsdWUgcmVwcmVzZW50aW5nIGEgZGF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IFt0eXBlPSdkZWZhdWx0J10gLSBPbmUgb2YgYCdzaG9ydCdgLCBgJ2RlZmF1bHQnYCwgYCdsb25nJ2AgLCBvciBgZnVsbGBcbiAqXG4gKiBAZXhhbXBsZVxuICogdmFyIG1mID0gbmV3IE1lc3NhZ2VGb3JtYXQoWydlbicsICdmaSddKTtcbiAqXG4gKiBtZi5jb21waWxlKCdUaGUgdGltZSBpcyBub3cge1QsIHRpbWV9JykoeyBUOiBEYXRlLm5vdygpIH0pXG4gKiAvLyAnVGhlIHRpbWUgaXMgbm93IDExOjI2OjM1IFBNJ1xuICpcbiAqIG1mLmNvbXBpbGUoJ0tlbGxvIG9uIG55dCB7VCwgdGltZX0nLCAnZmknKSh7IFQ6IERhdGUubm93KCkgfSlcbiAqIC8vICdLZWxsbyBvbiBueXQgMjMuMjYuMzUnXG4gKlxuICogdmFyIGNmID0gbWYuY29tcGlsZSgnVGhlIEVhZ2xlIGxhbmRlZCBhdCB7VCwgdGltZSwgZnVsbH0gb24ge1QsIGRhdGUsIGZ1bGx9Jyk7XG4gKiBjZih7IFQ6ICcxOTY5LTA3LTIwIDIwOjE3OjQwIFVUQycgfSlcbiAqIC8vICdUaGUgRWFnbGUgbGFuZGVkIGF0IDEwOjE3OjQwIFBNIEdNVCsyIG9uIFN1bmRheSwgSnVseSAyMCwgMTk2OSdcbiAqL1xuZnVuY3Rpb24gdGltZSh2LCBsYywgcCkge1xuICB2YXIgbyA9IHsgc2Vjb25kOiAnbnVtZXJpYycsIG1pbnV0ZTogJ251bWVyaWMnLCBob3VyOiAnbnVtZXJpYycgfTtcbiAgc3dpdGNoIChwKSB7XG4gICAgY2FzZSAnZnVsbCc6XG4gICAgY2FzZSAnbG9uZyc6XG4gICAgICBvLnRpbWVab25lTmFtZSA9ICdzaG9ydCc7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzaG9ydCc6XG4gICAgICBkZWxldGUgby5zZWNvbmQ7XG4gIH1cbiAgcmV0dXJuIG5ldyBEYXRlKHYpLnRvTG9jYWxlVGltZVN0cmluZyhsYywgbyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aW1lO1xufTtcbiIsInZhciBDb21waWxlciA9IHJlcXVpcmUoJy4vY29tcGlsZXInKTtcbnZhciBmb3JtYXR0ZXJzID0gcmVxdWlyZSgnLi9mb3JtYXR0ZXJzJyk7XG52YXIgUGx1cmFscyA9IHJlcXVpcmUoJy4vcGx1cmFscycpO1xudmFyIFJ1bnRpbWUgPSByZXF1aXJlKCcuL3J1bnRpbWUnKTtcblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgTWVzc2FnZUZvcm1hdCBjb21waWxlclxuICpcbiAqIElmIHNldCwgdGhlIGBsb2NhbGVgIHBhcmFtZXRlciBsaW1pdHMgdGhlIGNvbXBpbGVyIHRvIHVzZSBhIHN1YnNldCBvZiB0aGUgMjA0XG4gKiBsYW5ndWFnZXMnIHBsdXJhbGlzYXRpb24gcnVsZXMgbWFkZSBhdmFpbGFibGUgYnkgdGhlIFVuaWNvZGUgQ0xEUi5cbiAqXG4gKiBMZWF2aW5nIGBsb2NhbGVgIHVuZGVmaW5lZCBvciB1c2luZyBhbiBhcnJheSBvZiBzdHJpbmdzIHdpbGwgY3JlYXRlIGFcbiAqIE1lc3NhZ2VGb3JtYXQgaW5zdGFuY2Ugd2l0aCBtdWx0aS1sYW5ndWFnZSBzdXBwb3J0LiBUbyBzZWxlY3Qgd2hpY2ggdG8gdXNlLFxuICogdXNlIHRoZSBzZWNvbmQgcGFyYW1ldGVyIG9mIGB7QGxpbmsgTWVzc2FnZUZvcm1hdCNjb21waWxlIGNvbXBpbGUoKX1gLCBvciB1c2VcbiAqIG1lc3NhZ2Uga2V5cyBjb3JyZXNwb25kaW5nIHRvIHlvdXIgbG9jYWxlcy4gVGhlIGRlZmF1bHQgbG9jYWxlIHdpbGwgYmUgdGhlXG4gKiBmaXJzdCBlbnRyeSBvZiB0aGUgYXJyYXksIG9yIGB7QGxpbmsgTWVzc2FnZUZvcm1hdC5kZWZhdWx0TG9jYWxlIGRlZmF1bHRMb2NhbGV9YFxuICogaWYgbm90IHNldC5cbiAqXG4gKiBBIHN0cmluZyBgbG9jYWxlYCB3aWxsIGNyZWF0ZSBhIHNpbmdsZS1sb2NhbGUgTWVzc2FnZUZvcm1hdCBpbnN0YW5jZS5cbiAqXG4gKiBVc2luZyBhbiBvYmplY3QgYGxvY2FsZWAgd2l0aCBhbGwgcHJvcGVydGllcyBvZiB0eXBlIGBmdW5jdGlvbmAgYWxsb3dzIGZvclxuICogdGhlIHVzZSBvZiBjdXN0b20gb3IgZXh0ZXJuYWxseSBkZWZpbmVkIHBsdXJhbGlzYXRpb24gcnVsZXM7IGluIHRoaXMgY2FzZVxuICpcbiAqIEBjbGFzc1xuICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW118T2JqZWN0fSBbbG9jYWxlXSAtIFRoZSBsb2NhbGUocykgdG8gdXNlXG4gKlxuICogQGNsYXNzZGVzYyBNZXNzYWdlRm9ybWF0LXRvLUphdmFTY3JpcHQgY29tcGlsZXJcbiAqXG4gKiBgYGBcbiAqIGltcG9ydCBNZXNzYWdlRm9ybWF0IGZyb20gJ21lc3NhZ2Vmb3JtYXQnXG4gKiBgYGBcbiAqL1xuZnVuY3Rpb24gTWVzc2FnZUZvcm1hdChsb2NhbGUpIHtcbiAgdGhpcy5wbHVyYWxGdW5jcyA9IHt9O1xuICBpZiAodHlwZW9mIGxvY2FsZSA9PT0gJ3N0cmluZycpIHtcbiAgICB0aGlzLnBsdXJhbEZ1bmNzW2xvY2FsZV0gPSBQbHVyYWxzLmdldChsb2NhbGUpO1xuICAgIHRoaXMuZGVmYXVsdExvY2FsZSA9IGxvY2FsZTtcbiAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGxvY2FsZSkpIHtcbiAgICBsb2NhbGUuZm9yRWFjaChmdW5jdGlvbihsYykge1xuICAgICAgdGhpcy5wbHVyYWxGdW5jc1tsY10gPSBQbHVyYWxzLmdldChsYyk7XG4gICAgfSwgdGhpcyk7XG4gICAgdGhpcy5kZWZhdWx0TG9jYWxlID0gbG9jYWxlWzBdO1xuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIGxjIGluIGxvY2FsZSlcbiAgICAgIGlmIChsb2NhbGUuaGFzT3duUHJvcGVydHkobGMpKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbG9jYWxlW2xjXSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICdFeHBlY3RlZCBmdW5jdGlvbiB2YWx1ZSBmb3IgbG9jYWxlICcgKyBKU09OLnN0cmluZ2lmeShsYylcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGx1cmFsRnVuY3NbbGNdID0gbG9jYWxlW2xjXTtcbiAgICAgICAgaWYgKCF0aGlzLmRlZmF1bHRMb2NhbGUpIHRoaXMuZGVmYXVsdExvY2FsZSA9IGxjO1xuICAgICAgfVxuICAgIGlmICh0aGlzLmRlZmF1bHRMb2NhbGUpIHtcbiAgICAgIHRoaXMuaGFzQ3VzdG9tUGx1cmFsRnVuY3MgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRlZmF1bHRMb2NhbGUgPSBNZXNzYWdlRm9ybWF0LmRlZmF1bHRMb2NhbGU7XG4gICAgfVxuICB9XG4gIHRoaXMuZm10ID0ge307XG4gIHRoaXMucnVudGltZSA9IG5ldyBSdW50aW1lKHRoaXMpO1xufVxuXG4vKipcbiAqIFRoZSBkZWZhdWx0IGxvY2FsZVxuICpcbiAqIFVzZWQgYnkgdGhlIGNvbnN0cnVjdG9yIHdoZW4gbm8gYGxvY2FsZWAgaGFzIGJlZW4gc2V0IHRvIGluaXRpYWxpc2UgdGhlIHZhbHVlXG4gKiBvZiBpdHMgaW5zdGFuY2UgY291bnRlcnBhcnQsIGBNZXNzYWdlRm9ybWF0I2RlZmF1bHRMb2NhbGVgLlxuICpcbiAqIEBtZW1iZXJvZiBNZXNzYWdlRm9ybWF0XG4gKiBAZGVmYXVsdCAnZW4nXG4gKi9cbk1lc3NhZ2VGb3JtYXQuZGVmYXVsdExvY2FsZSA9ICdlbic7XG5cbi8qKiBFc2NhcGUgc3BlY2lhbCBjaGFyYWNhdGVyc1xuICpcbiAqICBTdXJyb3VuZCB0aGUgY2hhcmFjdGVycyBge2AgYW5kIGB9YCBpbiB0aGUgaW5wdXQgc3RyaW5nIHdpdGggJ3F1b3RlcycuXG4gKiAgVGhpcyB3aWxsIGFsbG93IHRob3NlIGNoYXJhY3RlcnMgdG8gbm90IGJlIGNvbnNpZGVyZWQgYXMgTWVzc2FnZUZvcm1hdFxuICogIGNvbnRyb2wgY2hhcmFjdGVycy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIC0gVGhlIGlucHV0IHN0cmluZ1xuICogQHBhcmFtIHtib29sZWFufSBbb2N0b3Rob3JwZT1mYWxzZV0gLSBJbmNsdWRlIGAjYCBpbiB0aGUgZXNjYXBlZCBjaGFyYWN0ZXJzXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZXNjYXBlZCBzdHJpbmdcbiAqL1xuTWVzc2FnZUZvcm1hdC5lc2NhcGUgPSBmdW5jdGlvbihzdHIsIG9jdG90aG9ycGUpIHtcbiAgdmFyIGVzYyA9IG9jdG90aG9ycGUgPyAnWyN7fV0nIDogJ1t7fV0nO1xuICByZXR1cm4gU3RyaW5nKHN0cikucmVwbGFjZShuZXcgUmVnRXhwKGVzYywgJ2cnKSwgXCInJCYnXCIpO1xufTtcblxuTWVzc2FnZUZvcm1hdC5mb3JtYXR0ZXJzID0gZm9ybWF0dGVycztcblxuLyoqXG4gKiBBZGQgY3VzdG9tIGZvcm1hdHRlciBmdW5jdGlvbnMgdG8gdGhpcyBNZXNzYWdlRm9ybWF0IGluc3RhbmNlLiBTZWUgdGhlXG4gKiB7QHR1dG9yaWFsIGd1aWRlfSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFRoZSBnZW5lcmFsIHN5bnRheCBmb3IgY2FsbGluZyBhIGZvcm1hdHRpbmcgZnVuY3Rpb24gaW4gTWVzc2FnZUZvcm1hdCBpc1xuICogYHt2YXIsIGZuWywgYXJnXX1gLCB3aGVyZSBgdmFyYCBpcyB0aGUgdmFyaWFibGUgdGhhdCB3aWxsIGJlIHNldCBieSB0aGVcbiAqIHVzZXIgY29kZSwgYGZuYCBkZXRlcm1pbmVzIHRoZSBmb3JtYXR0aW5nIGZ1bmN0aW9uLCBhbmQgYGFyZ2AgaXMgYW5cbiAqIG9wdGlvbmFsIHN0cmluZyBhcmd1bWVudC5cbiAqXG4gKiBJbiBKYXZhU2NyaXB0LCBlYWNoIGZvcm1hdHRpbmcgZnVuY3Rpb24gaXMgY2FsbGVkIHdpdGggdGhyZWUgcGFyYW1ldGVycztcbiAqIHRoZSB2YXJpYWJsZSB2YWx1ZSBgdmAsIHRoZSBjdXJyZW50IGxvY2FsZSBgbGNgLCBhbmQgYGFyZ2AgYXMgYSBzdHJpbmcsIG9yXG4gKiB1bmRlZmluZWQgaWYgbm90IHNldC4gYGFyZ2Agd2lsbCBiZSB0cmltbWVkIG9mIHN1cnJvdW5kaW5nIHdoaXRlc3BhY2UuXG4gKiBGb3JtYXR0aW5nIGZ1bmN0aW9ucyBzaG91bGQgbm90IGhhdmUgc2lkZSBlZmZlY3RzLlxuICpcbiAqIEBtZW1iZXJvZiBNZXNzYWdlRm9ybWF0XG4gKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLGZ1bmN0aW9uPn0gZm10IC0gQSBtYXAgb2YgZm9ybWF0dGluZyBmdW5jdGlvbnNcbiAqIEByZXR1cm5zIHtNZXNzYWdlRm9ybWF0fSBUaGUgTWVzc2FnZUZvcm1hdCBpbnN0YW5jZSwgdG8gYWxsb3cgZm9yIGNoYWluaW5nXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IG1mID0gbmV3IE1lc3NhZ2VGb3JtYXQoJ2VuLUdCJylcbiAqIG1mLmFkZEZvcm1hdHRlcnMoe1xuICogICB1cGNhc2U6IGZ1bmN0aW9uKHYpIHsgcmV0dXJuIHYudG9VcHBlckNhc2UoKSB9LFxuICogICBsb2NhbGU6IGZ1bmN0aW9uKHYsIGxjKSB7IHJldHVybiBsYyB9LFxuICogICBwcm9wOiBmdW5jdGlvbih2LCBsYywgcCkgeyByZXR1cm4gdltwXSB9XG4gKiB9KVxuICogY29uc3QgbWVzc2FnZXMgPSBtZi5jb21waWxlKHtcbiAqICAgZGVzY3JpYmU6ICdUaGlzIGlzIHtWQVIsIHVwY2FzZX0uJyxcbiAqICAgbG9jYWxlOiAnVGhlIGN1cnJlbnQgbG9jYWxlIGlzIHtfLCBsb2NhbGV9LicsXG4gKiAgIGFuc3dlcjogJ0Fuc3dlcjoge29iaiwgcHJvcCwgYX0nXG4gKiB9XG4gKlxuICogbWVzc2FnZXMuZGVzY3JpYmUoeyBWQVI6ICdiaWcnIH0pICAgICAgICAvLyAnVGhpcyBpcyBCSUcuJ1xuICogbWVzc2FnZXMubG9jYWxlKHt9KSAgICAgICAgICAgICAgICAgICAgICAvLyAnVGhlIGN1cnJlbnQgbG9jYWxlIGlzIGVuLUdCLidcbiAqIG1lc3NhZ2VzLmFuc3dlcih7IG9iajoge3E6IDMsIGE6IDQyfSB9KSAgLy8gJ0Fuc3dlcjogNDInXG4gKi9cbk1lc3NhZ2VGb3JtYXQucHJvdG90eXBlLmFkZEZvcm1hdHRlcnMgPSBmdW5jdGlvbihmbXQpIHtcbiAgZm9yICh2YXIgbmFtZSBpbiBmbXQpXG4gICAgaWYgKGZtdC5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgdGhpcy5mbXRbbmFtZV0gPSBmbXRbbmFtZV07XG4gICAgfVxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKiBEaXNhYmxlIHRoZSB2YWxpZGF0aW9uIG9mIHBsdXJhbCAmIHNlbGVjdG9yZGluYWwga2V5c1xuICpcbiAqICBQcmV2aW91cyB2ZXJzaW9ucyBvZiBtZXNzYWdlZm9ybWF0IGFsbG93ZWQgdGhlIHVzZSBvZiBwbHVyYWwgJlxuICogIHNlbGVjdG9yZGluYWwgc3RhdGVtZW50cyB3aXRoIGFueSBrZXlzOyBub3cgd2UgdGhyb3cgYW4gZXJyb3Igd2hlbiBhXG4gKiAgc3RhdGVtZW50IHVzZXMgYSBub24tbnVtZXJpY2FsIGtleSB0aGF0IHdpbGwgbmV2ZXIgYmUgbWF0Y2hlZCBhcyBhXG4gKiAgcGx1cmFsaXphdGlvbiBjYXRlZ29yeSBmb3IgdGhlIGN1cnJlbnQgbG9jYWxlLlxuICpcbiAqICBVc2UgdGhpcyBtZXRob2QgdG8gZGlzYWJsZSB0aGUgdmFsaWRhdGlvbiBhbmQgYWxsb3cgdXNhZ2UgYXMgcHJldmlvdXNseS5cbiAqICBUbyByZS1lbmFibGUsIHlvdSdsbCBuZWVkIHRvIGNyZWF0ZSBhIG5ldyBNZXNzYWdlRm9ybWF0IGluc3RhbmNlLlxuICpcbiAqIEByZXR1cm5zIHtNZXNzYWdlRm9ybWF0fSBUaGUgTWVzc2FnZUZvcm1hdCBpbnN0YW5jZSwgdG8gYWxsb3cgZm9yIGNoYWluaW5nXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IG1mID0gbmV3IE1lc3NhZ2VGb3JtYXQoJ2VuJylcbiAqIGNvbnN0IG1zZyA9ICd7WCwgcGx1cmFsLCB6ZXJve25vIGFuc3dlcnN9IG9uZXthbiBhbnN3ZXJ9IG90aGVyeyMgYW5zd2Vyc319J1xuICpcbiAqIG1mLmNvbXBpbGUobXNnKVxuICogLy8gRXJyb3I6IEludmFsaWQga2V5IGB6ZXJvYCBmb3IgYXJndW1lbnQgYFhgLiBWYWxpZCBwbHVyYWwga2V5cyBmb3IgdGhpc1xuICogLy8gICAgICAgIGxvY2FsZSBhcmUgYG9uZWAsIGBvdGhlcmAsIGFuZCBleHBsaWNpdCBrZXlzIGxpa2UgYD0wYC5cbiAqXG4gKiBtZi5kaXNhYmxlUGx1cmFsS2V5Q2hlY2tzKClcbiAqIG1mLmNvbXBpbGUobXNnKSh7IFg6IDAgfSkgIC8vICcwIGFuc3dlcnMnXG4gKi9cbk1lc3NhZ2VGb3JtYXQucHJvdG90eXBlLmRpc2FibGVQbHVyYWxLZXlDaGVja3MgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5ub1BsdXJhbEtleUNoZWNrcyA9IHRydWU7XG4gIGZvciAodmFyIGxjIGluIHRoaXMucGx1cmFsRnVuY3MpXG4gICAgaWYgKHRoaXMucGx1cmFsRnVuY3MuaGFzT3duUHJvcGVydHkobGMpKSB7XG4gICAgICB0aGlzLnBsdXJhbEZ1bmNzW2xjXS5jYXJkaW5hbCA9IFtdO1xuICAgICAgdGhpcy5wbHVyYWxGdW5jc1tsY10ub3JkaW5hbCA9IFtdO1xuICAgIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKiogRW5hYmxlIG9yIGRpc2FibGUgdGhlIGFkZGl0aW9uIG9mIFVuaWNvZGUgY29udHJvbCBjaGFyYWN0ZXJzIHRvIGFsbCBpbnB1dFxuICogIHRvIHByZXNlcnZlIHRoZSBpbnRlZ3JpdHkgb2YgdGhlIG91dHB1dCB3aGVuIG1peGluZyBMVFIgYW5kIFJUTCB0ZXh0LlxuICpcbiAqIEBzZWUgaHR0cDovL2NsZHIudW5pY29kZS5vcmcvZGV2ZWxvcG1lbnQvZGV2ZWxvcG1lbnQtcHJvY2Vzcy9kZXNpZ24tcHJvcG9zYWxzL2JpZGktaGFuZGxpbmctb2Ytc3RydWN0dXJlZC10ZXh0XG4gKlxuICogQG1lbWJlcm9mIE1lc3NhZ2VGb3JtYXRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2VuYWJsZT10cnVlXVxuICogQHJldHVybnMge01lc3NhZ2VGb3JtYXR9IFRoZSBNZXNzYWdlRm9ybWF0IGluc3RhbmNlLCB0byBhbGxvdyBmb3IgY2hhaW5pbmdcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gdXBwZXIgY2FzZSBzdGFuZHMgZm9yIFJUTCBjaGFyYWN0ZXJzLCBvdXRwdXQgaXMgc2hvd24gYXMgcmVuZGVyZWRcbiAqIGNvbnN0IG1mID0gbmV3IE1lc3NhZ2VGb3JtYXQoJ2VuJylcbiAqXG4gKiBtZi5jb21waWxlKCd7MH0gPj4gezF9ID4+IHsyfScpKFsnZmlyc3QnLCAnU0VDT05EJywgJ1RISVJEJ10pXG4gKiAgIC8vICdmaXJzdCA+PiBUSElSRCA8PCBTRUNPTkQnXG4gKlxuICogbWYuc2V0QmlEaVN1cHBvcnQodHJ1ZSlcbiAqIG1mLmNvbXBpbGUoJ3swfSA+PiB7MX0gPj4gezJ9JykoWydmaXJzdCcsICdTRUNPTkQnLCAnVEhJUkQnXSlcbiAqICAgLy8gJ2ZpcnN0ID4+IFNFQ09ORCA+PiBUSElSRCdcbiAqL1xuTWVzc2FnZUZvcm1hdC5wcm90b3R5cGUuc2V0QmlEaVN1cHBvcnQgPSBmdW5jdGlvbihlbmFibGUpIHtcbiAgdGhpcy5iaWRpU3VwcG9ydCA9ICEhZW5hYmxlIHx8IHR5cGVvZiBlbmFibGUgPT0gJ3VuZGVmaW5lZCc7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqIEFjY29yZGluZyB0byB0aGUgSUNVIE1lc3NhZ2VGb3JtYXQgc3BlYywgYSBgI2AgY2hhcmFjdGVyIGRpcmVjdGx5IGluc2lkZSBhXG4gKiAgYHBsdXJhbGAgb3IgYHNlbGVjdG9yZGluYWxgIHN0YXRlbWVudCBzaG91bGQgYmUgcmVwbGFjZWQgYnkgdGhlIG51bWJlclxuICogIG1hdGNoaW5nIHRoZSBzdXJyb3VuZGluZyBzdGF0ZW1lbnQuIEJ5IGRlZmF1bHQsIG1lc3NhZ2Vmb3JtYXQgd2lsbCByZXBsYWNlXG4gKiAgYCNgIHNpZ25zIHdpdGggdGhlIHZhbHVlIG9mIHRoZSBuZWFyZXN0IHN1cnJvdW5kaW5nIGBwbHVyYWxgIG9yXG4gKiAgYHNlbGVjdG9yZGluYWxgIHN0YXRlbWVudC5cbiAqXG4gKiAgU2V0IHRoaXMgdG8gdHJ1ZSB0byBmb2xsb3cgdGhlIHN0cmljdGVyIElDVSBNZXNzYWdlRm9ybWF0IHNwZWMsIGFuZCB0b1xuICogIHRocm93IGEgcnVudGltZSBlcnJvciBpZiBgI2AgaXMgdXNlZCB3aXRoIG5vbi1udW1lcmljIGlucHV0LlxuICpcbiAqIEBtZW1iZXJvZiBNZXNzYWdlRm9ybWF0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtlbmFibGU9dHJ1ZV1cbiAqIEByZXR1cm5zIHtNZXNzYWdlRm9ybWF0fSBUaGUgTWVzc2FnZUZvcm1hdCBpbnN0YW5jZSwgdG8gYWxsb3cgZm9yIGNoYWluaW5nXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IG1mID0gbmV3IE1lc3NhZ2VGb3JtYXQoJ2VuJylcbiAqIGNvbnN0IHNyYyA9IHtcbiAqICAgY29va2llOiAnIzoge1gsIHBsdXJhbCwgPTB7bm8gY29va2llc30gb25le2EgY29va2llfSBvdGhlcnsjIGNvb2tpZXN9fScsXG4gKiAgIHBhc3RyeTogYHtYLCBwbHVyYWwsXG4gKiAgICAgb25lIHt7UCwgc2VsZWN0LCBjb29raWV7YSBjb29raWV9IG90aGVye2EgcGllfX19XG4gKiAgICAgb3RoZXIge3tQLCBzZWxlY3QsIGNvb2tpZXsjIGNvb2tpZXN9IG90aGVyeyMgcGllc319fVxuICogICB9YFxuICogfVxuICogbGV0IG1lc3NhZ2VzID0gbWYuY29tcGlsZShzcmMpXG4gKlxuICogbWVzc2FnZXMuY29va2llKHsgWDogMyB9KSAgICAgICAgICAgIC8vICcjOiAzIGNvb2tpZXMnXG4gKiBtZXNzYWdlcy5wYXN0cnkoeyBYOiAzLCBQOiAncGllJyB9KSAgLy8gJzMgcGllcydcbiAqXG4gKiBtZi5zZXRTdHJpY3ROdW1iZXJTaWduKHRydWUpXG4gKiBtZXNzYWdlcyA9IG1mLmNvbXBpbGUoc3JjKVxuICogbWVzc2FnZXMucGFzdHJ5KHsgWDogMywgUDogJ3BpZScgfSkgIC8vICcjIHBpZXMnXG4gKi9cbk1lc3NhZ2VGb3JtYXQucHJvdG90eXBlLnNldFN0cmljdE51bWJlclNpZ24gPSBmdW5jdGlvbihlbmFibGUpIHtcbiAgdGhpcy5zdHJpY3ROdW1iZXJTaWduID0gISFlbmFibGUgfHwgdHlwZW9mIGVuYWJsZSA9PSAndW5kZWZpbmVkJztcbiAgdGhpcy5ydW50aW1lLnNldFN0cmljdE51bWJlcih0aGlzLnN0cmljdE51bWJlclNpZ24pO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKiBDb21waWxlIG1lc3NhZ2VzIGludG8gc3RvcmFibGUgZnVuY3Rpb25zXG4gKlxuICogIElmIGBtZXNzYWdlc2AgaXMgYSBzaW5nbGUgc3RyaW5nIGluY2x1ZGluZyBJQ1UgTWVzc2FnZUZvcm1hdCBkZWNsYXJhdGlvbnMsXG4gKiAgdGhlIHJlc3VsdCBvZiBgY29tcGlsZSgpYCBpcyBhIGZ1bmN0aW9uIHRha2luZyBhIHNpbmdsZSBPYmplY3QgcGFyYW1ldGVyXG4gKiAgYGRgIHJlcHJlc2VudGluZyBlYWNoIG9mIHRoZSBpbnB1dCdzIGRlZmluZWQgdmFyaWFibGVzLlxuICpcbiAqICBJZiBgbWVzc2FnZXNgIGlzIGEgaGllcmFyY2hpY2FsIHN0cnVjdHVyZSBvZiBzdWNoIHN0cmluZ3MsIHRoZSBvdXRwdXQgb2ZcbiAqICBgY29tcGlsZSgpYCB3aWxsIG1hdGNoIHRoYXQgc3RydWN0dXJlLCB3aXRoIGVhY2ggc3RyaW5nIHJlcGxhY2VkIGJ5IGl0c1xuICogIGNvcnJlc3BvbmRpbmcgSmF2YVNjcmlwdCBmdW5jdGlvbi5cbiAqXG4gKiAgSWYgdGhlIGlucHV0IGBtZXNzYWdlc2AgLS0gYW5kIHRoZXJlZm9yZSB0aGUgb3V0cHV0IC0tIG9mIGBjb21waWxlKClgIGlzIGFuXG4gKiAgb2JqZWN0LCB0aGUgb3V0cHV0IG9iamVjdCB3aWxsIGhhdmUgYSBgdG9TdHJpbmcoZ2xvYmFsKWAgbWV0aG9kIHRoYXQgbWF5IGJlXG4gKiAgdXNlZCB0byBzdG9yZSBvciBjYWNoZSB0aGUgY29tcGlsZWQgZnVuY3Rpb25zIHRvIGRpc2ssIGZvciBsYXRlciBpbmNsdXNpb25cbiAqICBpbiBhbnkgSlMgZW52aXJvbm1lbnQsIHdpdGhvdXQgYSBsb2NhbCBNZXNzYWdlRm9ybWF0IGluc3RhbmNlIHJlcXVpcmVkLiBJZlxuICogIGl0cyBgZ2xvYmFsYCBwYXJhbWV0ZXIgaXMgbnVsbCBvciB1bmRlZmluZWQsIHRoZSByZXN1bHQgaXMgYW4gRVM2IG1vZHVsZVxuICogIHdpdGggYSBkZWZhdWx0IGV4cG9ydC4gSWYgYGdsb2JhbGAgaXMgYSBzdHJpbmcgY29udGFpbmluZyBgLmAsIHRoZSByZXN1bHRcbiAqICB3aWxsIGJlIGEgc2NyaXB0IHNldHRpbmcgaXRzIHZhbHVlLiBPdGhlcndpc2UsIHRoZSBvdXRwdXQgZGVmYXVsdHMgdG8gYW4gVU1EXG4gKiAgcGF0dGVybiB0aGF0IHNldHMgdGhlIHZhbHVlIG9mIGBnbG9iYWxgIGlmIHVzZWQgb3V0c2lkZSBvZiBBTUQgYW5kIENvbW1vbkpTXG4gKiAgbG9hZGVycy5cbiAqXG4gKiAgSWYgYGxvY2FsZWAgaXMgbm90IHNldCwgaXQgd2lsbCBkZWZhdWx0IHRvXG4gKiAgYHtAbGluayBNZXNzYWdlRm9ybWF0LmRlZmF1bHRMb2NhbGUgZGVmYXVsdExvY2FsZX1gOyB1c2luZyBhIGtleSBhdCBhbnlcbiAqICBkZXB0aCBvZiBgbWVzc2FnZXNgIHRoYXQgaXMgYSBkZWNsYXJlZCBsb2NhbGUgd2lsbCBzZXQgaXRzIGNoaWxkIGVsZW1lbnRzIHRvXG4gKiAgdXNlIHRoYXQgbG9jYWxlLlxuICpcbiAqICBJZiBgbG9jYWxlYCBpcyBzZXQsIGl0IGlzIHVzZWQgZm9yIGFsbCBtZXNzYWdlcywgaWdub3JpbmcgYW55IG90aGVyd2lzZVxuICogIG1hdGNoaW5nIGxvY2FsZSBrZXlzLiBJZiB0aGUgY29uc3RydWN0b3IgZGVjbGFyZWQgYW55IGxvY2FsZXMsIGBsb2NhbGVgXG4gKiAgbmVlZHMgdG8gYmUgb25lIG9mIHRoZW0uXG4gKlxuICogIElmIGBjb21waWxlKClgIGlzIGNhbGxlZCB3aXRoIGEgYG1lc3NhZ2VzYCBvYmplY3Qgb24gYSBNZXNzYWdlRm9ybWF0XG4gKiAgaW5zdGFuY2UgdGhhdCBkb2VzIG5vdCBzcGVjaWZ5IGFueSBsb2NhbGVzLCBpdCB3aWxsIG1hdGNoIGtleXMgdG8gKmFsbCogMjA0XG4gKiAgYXZhaWxhYmxlIGxvY2FsZXMuIFRoaXMgaXMgcmVhbGx5IHVzZWZ1bCBpZiB5b3Ugd2FudCB5b3VyIG1lc3NhZ2VzIHRvIGJlXG4gKiAgY29tcGxldGVseSBkZXRlcm1pbmVkIGJ5IHlvdXIgZGF0YSwgYnV0IG1heSBwcm92aWRlIHN1cnByaXNpbmcgcmVzdWx0cyBpZlxuICogIHlvdXIgaW5wdXQgaW5jbHVkZXMgYW55IDItMyBsZXR0ZXIgc3RyaW5ncyB0aGF0IGFyZSBub3QgbG9jYWxlIGlkZW50aWZpZXJzLlxuICpcbiAqIEBtZW1iZXJvZiBNZXNzYWdlRm9ybWF0XG4gKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IG1lc3NhZ2VzIC0gVGhlIGlucHV0IG1lc3NhZ2UocykgdG8gYmUgY29tcGlsZWQsIGluIElDVSBNZXNzYWdlRm9ybWF0XG4gKiBAcGFyYW0ge3N0cmluZ30gW2xvY2FsZV0gLSBBIGxvY2FsZSB0byB1c2UgZm9yIHRoZSBtZXNzYWdlc1xuICogQHJldHVybnMge2Z1bmN0aW9ufE9iamVjdH0gVGhlIGZpcnN0IG1hdGNoIGZvdW5kIGZvciB0aGUgZ2l2ZW4gbG9jYWxlKHMpXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IG1mID0gbmV3IE1lc3NhZ2VGb3JtYXQoJ2VuJylcbiAqIGNvbnN0IG1zZyA9IG1mLmNvbXBpbGUoJ0Ege1RZUEV9IGV4YW1wbGUuJylcbiAqXG4gKiBtc2coeyBUWVBFOiAnc2ltcGxlJyB9KSAgLy8gJ0Egc2ltcGxlIGV4YW1wbGUuJ1xuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBtZiA9IG5ldyBNZXNzYWdlRm9ybWF0KFsnZW4nLCAnZmknXSlcbiAqIGNvbnN0IG1lc3NhZ2VzID0gbWYuY29tcGlsZSh7XG4gKiAgIGVuOiB7IGE6ICdBIHtUWVBFfSBleGFtcGxlLicsXG4gKiAgICAgICAgIGI6ICdUaGlzIGlzIHRoZSB7Q09VTlQsIHNlbGVjdG9yZGluYWwsIG9uZXsjc3R9IHR3b3sjbmR9IGZld3sjcmR9IG90aGVyeyN0aH19IGV4YW1wbGUuJyB9LFxuICogICBmaTogeyBhOiAne1RZUEV9IGVzaW1lcmtraS4nLFxuICogICAgICAgICBiOiAnVMOkbcOkIG9uIHtDT1VOVCwgc2VsZWN0b3JkaW5hbCwgb3RoZXJ7Iy59fSBlc2ltZXJra2kuJyB9XG4gKiB9KVxuICpcbiAqIG1lc3NhZ2VzLmVuLmIoeyBDT1VOVDogMiB9KSAgLy8gJ1RoaXMgaXMgdGhlIDJuZCBleGFtcGxlLidcbiAqIG1lc3NhZ2VzLmZpLmIoeyBDT1VOVDogMiB9KSAgLy8gJ1TDpG3DpCBvbiAyLiBlc2ltZXJra2kuJ1xuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJylcbiAqIGNvbnN0IG1mID0gbmV3IE1lc3NhZ2VGb3JtYXQoJ2VuJylcbiAqIGNvbnN0IG1zZ1NldCA9IHtcbiAqICAgYTogJ0Ege1RZUEV9IGV4YW1wbGUuJyxcbiAqICAgYjogJ1RoaXMgaGFzIHtDT1VOVCwgcGx1cmFsLCBvbmV7b25lIG1lbWJlcn0gb3RoZXJ7IyBtZW1iZXJzfX0uJyxcbiAqICAgYzogJ1dlIGhhdmUge1AsIG51bWJlciwgcGVyY2VudH0gY29kZSBjb3ZlcmFnZS4nXG4gKiB9XG4gKiBjb25zdCBtc2dTdHIgPSBtZi5jb21waWxlKG1zZ1NldCkudG9TdHJpbmcoJ21vZHVsZS5leHBvcnRzJylcbiAqIGZzLndyaXRlRmlsZVN5bmMoJ21lc3NhZ2VzLmpzJywgbXNnU3RyKVxuICpcbiAqIC4uLlxuICpcbiAqIGNvbnN0IG1lc3NhZ2VzID0gcmVxdWlyZSgnLi9tZXNzYWdlcycpXG4gKlxuICogbWVzc2FnZXMuYSh7IFRZUEU6ICdtb3JlIGNvbXBsZXgnIH0pICAvLyAnQSBtb3JlIGNvbXBsZXggZXhhbXBsZS4nXG4gKiBtZXNzYWdlcy5iKHsgQ09VTlQ6IDMgfSkgICAgICAgICAgICAgIC8vICdUaGlzIGhhcyAzIG1lbWJlcnMuJ1xuICovXG5NZXNzYWdlRm9ybWF0LnByb3RvdHlwZS5jb21waWxlID0gZnVuY3Rpb24obWVzc2FnZXMsIGxvY2FsZSkge1xuICBmdW5jdGlvbiBfc3RyaW5naWZ5KG9iaiwgbGV2ZWwpIHtcbiAgICBpZiAoIWxldmVsKSBsZXZlbCA9IDA7XG4gICAgaWYgKHR5cGVvZiBvYmogIT0gJ29iamVjdCcpIHJldHVybiBvYmo7XG4gICAgdmFyIG8gPSBbXSxcbiAgICAgIGluZGVudCA9ICcnO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGV2ZWw7ICsraSkgaW5kZW50ICs9ICcgICc7XG4gICAgZm9yICh2YXIgayBpbiBvYmopXG4gICAgICBvLnB1c2goXG4gICAgICAgICdcXG4nICtcbiAgICAgICAgICBpbmRlbnQgK1xuICAgICAgICAgICcgICcgK1xuICAgICAgICAgIENvbXBpbGVyLnByb3BuYW1lKGspICtcbiAgICAgICAgICAnOiAnICtcbiAgICAgICAgICBfc3RyaW5naWZ5KG9ialtrXSwgbGV2ZWwgKyAxKVxuICAgICAgKTtcbiAgICByZXR1cm4gJ3snICsgby5qb2luKCcsJykgKyAnXFxuJyArIGluZGVudCArICd9JztcbiAgfVxuXG4gIHZhciBwZiA9IHt9O1xuICBpZiAoT2JqZWN0LmtleXModGhpcy5wbHVyYWxGdW5jcykubGVuZ3RoID09PSAwKSB7XG4gICAgaWYgKGxvY2FsZSkge1xuICAgICAgdmFyIHBmbjAgPSBQbHVyYWxzLmdldChsb2NhbGUsIHRoaXMubm9QbHVyYWxLZXlDaGVja3MpO1xuICAgICAgaWYgKCFwZm4wKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0xvY2FsZSAnICsgSlNPTi5zdHJpbmdpZnkobG9jYWxlKSArICcgbm90IGZvdW5kIScpO1xuICAgICAgcGZbbG9jYWxlXSA9IHBmbjA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2FsZSA9IHRoaXMuZGVmYXVsdExvY2FsZTtcbiAgICAgIHBmID0gUGx1cmFscy5nZXRBbGwodGhpcy5ub1BsdXJhbEtleUNoZWNrcyk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGxvY2FsZSkge1xuICAgIHZhciBwZm4xID0gdGhpcy5wbHVyYWxGdW5jc1tsb2NhbGVdO1xuICAgIGlmICghcGZuMSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ0xvY2FsZSAnICtcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeShsb2NhbGUpICtcbiAgICAgICAgICAnIG5vdCBmb3VuZCBpbiAnICtcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeSh0aGlzLnBsdXJhbEZ1bmNzKSArXG4gICAgICAgICAgJyEnXG4gICAgICApO1xuICAgIHBmW2xvY2FsZV0gPSBwZm4xO1xuICB9IGVsc2Uge1xuICAgIGxvY2FsZSA9IHRoaXMuZGVmYXVsdExvY2FsZTtcbiAgICBwZiA9IHRoaXMucGx1cmFsRnVuY3M7XG4gIH1cblxuICB2YXIgY29tcGlsZXIgPSBuZXcgQ29tcGlsZXIodGhpcyk7XG4gIHZhciBvYmogPSBjb21waWxlci5jb21waWxlKG1lc3NhZ2VzLCBsb2NhbGUsIHBmKTtcblxuICBpZiAodHlwZW9mIG1lc3NhZ2VzICE9ICdvYmplY3QnKSB7XG4gICAgdmFyIGZuID0gbmV3IEZ1bmN0aW9uKFxuICAgICAgJ251bWJlciwgcGx1cmFsLCBzZWxlY3QsIGZtdCcsXG4gICAgICBDb21waWxlci5mdW5jbmFtZShsb2NhbGUpLFxuICAgICAgJ3JldHVybiAnICsgb2JqXG4gICAgKTtcbiAgICB2YXIgcnQgPSB0aGlzLnJ1bnRpbWU7XG4gICAgcmV0dXJuIGZuKHJ0Lm51bWJlciwgcnQucGx1cmFsLCBydC5zZWxlY3QsIHRoaXMuZm10LCBwZltsb2NhbGVdKTtcbiAgfVxuXG4gIHZhciBydFN0ciA9IHRoaXMucnVudGltZS50b1N0cmluZyhwZiwgY29tcGlsZXIpICsgJ1xcbic7XG4gIHZhciBvYmpTdHIgPSBfc3RyaW5naWZ5KG9iaik7XG4gIHZhciByZXN1bHQgPSBuZXcgRnVuY3Rpb24ocnRTdHIgKyAncmV0dXJuICcgKyBvYmpTdHIpKCk7XG4gIGlmIChyZXN1bHQuaGFzT3duUHJvcGVydHkoJ3RvU3RyaW5nJykpXG4gICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgdG9wLWxldmVsIG1lc3NhZ2Uga2V5IGB0b1N0cmluZ2AgaXMgcmVzZXJ2ZWQnKTtcblxuICByZXN1bHQudG9TdHJpbmcgPSBmdW5jdGlvbihnbG9iYWwpIHtcbiAgICBpZiAoIWdsb2JhbCB8fCBnbG9iYWwgPT09ICdleHBvcnQgZGVmYXVsdCcpIHtcbiAgICAgIHJldHVybiBydFN0ciArICdleHBvcnQgZGVmYXVsdCAnICsgb2JqU3RyO1xuICAgIH0gZWxzZSBpZiAoZ2xvYmFsLmluZGV4T2YoJy4nKSA+IC0xKSB7XG4gICAgICByZXR1cm4gcnRTdHIgKyBnbG9iYWwgKyAnID0gJyArIG9ialN0cjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgcnRTdHIgK1xuICAgICAgICBbXG4gICAgICAgICAgJyhmdW5jdGlvbiAocm9vdCwgRykgeycsXG4gICAgICAgICAgJyAgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7IGRlZmluZShHKTsgfScsXG4gICAgICAgICAgJyAgZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIpIHsgbW9kdWxlLmV4cG9ydHMgPSBHOyB9JyxcbiAgICAgICAgICAnICBlbHNlIHsgJyArIENvbXBpbGVyLnByb3BuYW1lKGdsb2JhbCwgJ3Jvb3QnKSArICcgPSBHOyB9JyxcbiAgICAgICAgICAnfSkodGhpcywgJyArIG9ialN0ciArICcpOydcbiAgICAgICAgXS5qb2luKCdcXG4nKVxuICAgICAgKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1lc3NhZ2VGb3JtYXQ7XG4iLCJ2YXIgY2F0ZWdvcmllcyA9IHJlcXVpcmUoJ21ha2UtcGx1cmFsL3VtZC9wbHVyYWxDYXRlZ29yaWVzJyk7XG52YXIgcGx1cmFscyA9IHJlcXVpcmUoJ21ha2UtcGx1cmFsL3VtZC9wbHVyYWxzJyk7XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICogQGhpZGVjb25zdHJ1Y3RvclxuICogQGNsYXNzZGVzYyBVdGlsaXR5IGdldHRlci93cmFwcGVyIGZvciBwbHVyYWxpemF0aW9uIGZ1bmN0aW9ucyBmcm9tXG4gKiB7QGxpbmsgaHR0cDovL2dpdGh1Yi5jb20vZWVtZWxpL21ha2UtcGx1cmFsLmpzIG1ha2UtcGx1cmFsfVxuICovXG5cbmZ1bmN0aW9uIHdyYXBQbHVyYWxGdW5jKGxjLCBwZiwgbm9QbHVyYWxLZXlDaGVja3MpIHtcbiAgdmFyIGZuID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHBmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG4gIGZuLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHBmLnRvU3RyaW5nKCk7XG4gIH07XG4gIGlmIChub1BsdXJhbEtleUNoZWNrcykge1xuICAgIGZuLmNhcmRpbmFsID0gW107XG4gICAgZm4ub3JkaW5hbCA9IFtdO1xuICB9IGVsc2Uge1xuICAgIHZhciBwYyA9IGNhdGVnb3JpZXNbbGNdIHx8IHt9O1xuICAgIGZuLmNhcmRpbmFsID0gcGMuY2FyZGluYWw7XG4gICAgZm4ub3JkaW5hbCA9IHBjLm9yZGluYWw7XG4gIH1cbiAgcmV0dXJuIGZuO1xufVxuXG5mdW5jdGlvbiBnZXQobG9jYWxlLCBub1BsdXJhbEtleUNoZWNrcykge1xuICBmb3IgKHZhciBsID0gbG9jYWxlOyBsOyBsID0gbC5yZXBsYWNlKC9bLV9dP1teLV9dKiQvLCAnJykpIHtcbiAgICB2YXIgcGYgPSBwbHVyYWxzW2xdO1xuICAgIGlmIChwZikgcmV0dXJuIHdyYXBQbHVyYWxGdW5jKGwsIHBmLCBub1BsdXJhbEtleUNoZWNrcyk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFxuICAgICdMb2NhbGlzYXRpb24gZnVuY3Rpb24gbm90IGZvdW5kIGZvciBsb2NhbGUgJyArIEpTT04uc3RyaW5naWZ5KGxvY2FsZSlcbiAgKTtcbn1cblxuZnVuY3Rpb24gZ2V0QWxsKG5vUGx1cmFsS2V5Q2hlY2tzKSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhwbHVyYWxzKS5yZWR1Y2UoZnVuY3Rpb24obG9jYWxlcywgbGMpIHtcbiAgICBsb2NhbGVzW2xjXSA9IHdyYXBQbHVyYWxGdW5jKGxjLCBwbHVyYWxzW2xjXSwgbm9QbHVyYWxLZXlDaGVja3MpO1xuICAgIHJldHVybiBsb2NhbGVzO1xuICB9LCB7fSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBnZXQ6IGdldCxcbiAgZ2V0QWxsOiBnZXRBbGxcbn07XG4iLCJ2YXIgQ29tcGlsZXIgPSByZXF1aXJlKCcuL2NvbXBpbGVyJyk7XG5cbi8qKiBBIHNldCBvZiB1dGlsaXR5IGZ1bmN0aW9ucyB0aGF0IGFyZSBjYWxsZWQgYnkgdGhlIGNvbXBpbGVkIEphdmFzY3JpcHRcbiAqICBmdW5jdGlvbnMsIHRoZXNlIGFyZSBpbmNsdWRlZCBsb2NhbGx5IGluIHRoZSBvdXRwdXQgb2Yge0BsaW5rXG4gKiAgTWVzc2FnZUZvcm1hdCNjb21waWxlIGNvbXBpbGUoKX0uXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtNZXNzYWdlRm9ybWF0fSBtZiAtIEEgTWVzc2FnZUZvcm1hdCBpbnN0YW5jZVxuICovXG5mdW5jdGlvbiBSdW50aW1lKG1mKSB7XG4gIHRoaXMubWYgPSBtZjtcbiAgdGhpcy5zZXRTdHJpY3ROdW1iZXIobWYuc3RyaWN0TnVtYmVyU2lnbik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUnVudGltZTtcblxuLyoqIFV0aWxpdHkgZnVuY3Rpb24gZm9yIGAjYCBpbiBwbHVyYWwgcnVsZXNcbiAqXG4gKiAgV2lsbCB0aHJvdyBhbiBFcnJvciBpZiBgdmFsdWVgIGhhcyBhIG5vbi1udW1lcmljIHZhbHVlIGFuZCBgb2Zmc2V0YCBpc1xuICogIG5vbi16ZXJvIG9yIHtAbGluayBNZXNzYWdlRm9ybWF0I3NldFN0cmljdE51bWJlclNpZ259IGlzIHNldC5cbiAqXG4gKiBAZnVuY3Rpb24gUnVudGltZSNudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBvcGVyYXRlIG9uXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBhcmd1bWVudCwgdXNlZCBmb3IgZXJyb3IgcmVwb3J0aW5nXG4gKiBAcGFyYW0ge251bWJlcn0gW29mZnNldD0wXSAtIEFuIG9wdGlvbmFsIG9mZnNldCwgc2V0IGJ5IHRoZSBzdXJyb3VuZGluZyBjb250ZXh0XG4gKiBAcmV0dXJucyB7bnVtYmVyfHN0cmluZ30gVGhlIHJlc3VsdCBvZiBhcHBseWluZyB0aGUgb2Zmc2V0IHRvIHRoZSBpbnB1dCB2YWx1ZVxuICovXG5mdW5jdGlvbiBkZWZhdWx0TnVtYmVyKHZhbHVlLCBuYW1lLCBvZmZzZXQpIHtcbiAgaWYgKCFvZmZzZXQpIHJldHVybiB2YWx1ZTtcbiAgaWYgKGlzTmFOKHZhbHVlKSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIkNhbid0IGFwcGx5IG9mZnNldDpcIiArXG4gICAgICAgIG9mZnNldCArXG4gICAgICAgICcgdG8gYXJndW1lbnQgYCcgK1xuICAgICAgICBuYW1lICtcbiAgICAgICAgJ2Agd2l0aCBub24tbnVtZXJpY2FsIHZhbHVlICcgK1xuICAgICAgICBKU09OLnN0cmluZ2lmeSh2YWx1ZSkgK1xuICAgICAgICAnLidcbiAgICApO1xuICByZXR1cm4gdmFsdWUgLSBvZmZzZXQ7XG59XG5cbi8qKiBAcHJpdmF0ZSAqL1xuZnVuY3Rpb24gc3RyaWN0TnVtYmVyKHZhbHVlLCBuYW1lLCBvZmZzZXQpIHtcbiAgaWYgKGlzTmFOKHZhbHVlKSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnQXJndW1lbnQgYCcgK1xuICAgICAgICBuYW1lICtcbiAgICAgICAgJ2AgaGFzIG5vbi1udW1lcmljYWwgdmFsdWUgJyArXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KHZhbHVlKSArXG4gICAgICAgICcuJ1xuICAgICk7XG4gIHJldHVybiB2YWx1ZSAtIChvZmZzZXQgfHwgMCk7XG59XG5cbi8qKiBTZXQgaG93IHN0cmljdGx5IHRoZSB7QGxpbmsgbnVtYmVyfSBtZXRob2QgcGFyc2VzIGl0cyBpbnB1dC5cbiAqXG4gKiAgQWNjb3JkaW5nIHRvIHRoZSBJQ1UgTWVzc2FnZUZvcm1hdCBzcGVjLCBgI2AgY2FuIG9ubHkgYmUgdXNlZCB0byByZXBsYWNlIGFcbiAqICBudW1iZXIgaW5wdXQgb2YgYSBgcGx1cmFsYCBzdGF0ZW1lbnQuIEJ5IGRlZmF1bHQsIG1lc3NhZ2Vmb3JtYXQgZG9lcyBub3RcbiAqICB0aHJvdyBhIHJ1bnRpbWUgZXJyb3IgaWYgeW91IHVzZSBub24tbnVtZXJpYyBhcmd1bWVudCB3aXRoIGEgYHBsdXJhbGAgcnVsZSxcbiAqICB1bmxlc3MgcnVsZSBhbHNvIGluY2x1ZGVzIGEgbm9uLXplcm8gYG9mZnNldGAuXG4gKlxuICogIFRoaXMgaXMgY2FsbGVkIGJ5IHtAbGluayBNZXNzYWdlRm9ybWF0I3NldFN0cmljdE51bWJlclNpZ259IHRvIGZvbGxvdyB0aGVcbiAqICBzdHJpY3RlciBJQ1UgTWVzc2FnZUZvcm1hdCBzcGVjLlxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2VuYWJsZT1mYWxzZV1cbiAqL1xuUnVudGltZS5wcm90b3R5cGUuc2V0U3RyaWN0TnVtYmVyID0gZnVuY3Rpb24oZW5hYmxlKSB7XG4gIHRoaXMubnVtYmVyID0gZW5hYmxlID8gc3RyaWN0TnVtYmVyIDogZGVmYXVsdE51bWJlcjtcbn07XG5cbi8qKiBVdGlsaXR5IGZ1bmN0aW9uIGZvciBge04sIHBsdXJhbHxzZWxlY3RvcmRpbmFsLCAuLi59YFxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIFRoZSBrZXkgdG8gdXNlIHRvIGZpbmQgYSBwbHVyYWxpemF0aW9uIHJ1bGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBBbiBvZmZzZXQgdG8gYXBwbHkgdG8gYHZhbHVlYFxuICogQHBhcmFtIHtmdW5jdGlvbn0gbGNmdW5jIC0gQSBsb2NhbGUgZnVuY3Rpb24gZnJvbSBgcGx1cmFsRnVuY3NgXG4gKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLHN0cmluZz59IGRhdGEgLSBUaGUgb2JqZWN0IGZyb20gd2hpY2ggcmVzdWx0cyBhcmUgbG9va2VkIHVwXG4gKiBAcGFyYW0gez9ib29sZWFufSBpc09yZGluYWwgLSBJZiB0cnVlLCB1c2Ugb3JkaW5hbCByYXRoZXIgdGhhbiBjYXJkaW5hbCBydWxlc1xuICogQHJldHVybnMge3N0cmluZ30gVGhlIHJlc3VsdCBvZiB0aGUgcGx1cmFsaXphdGlvblxuICovXG5SdW50aW1lLnByb3RvdHlwZS5wbHVyYWwgPSBmdW5jdGlvbih2YWx1ZSwgb2Zmc2V0LCBsY2Z1bmMsIGRhdGEsIGlzT3JkaW5hbCkge1xuICBpZiAoe30uaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCB2YWx1ZSkpIHJldHVybiBkYXRhW3ZhbHVlXTtcbiAgaWYgKG9mZnNldCkgdmFsdWUgLT0gb2Zmc2V0O1xuICB2YXIga2V5ID0gbGNmdW5jKHZhbHVlLCBpc09yZGluYWwpO1xuICBpZiAoa2V5IGluIGRhdGEpIHJldHVybiBkYXRhW2tleV07XG4gIHJldHVybiBkYXRhLm90aGVyO1xufTtcblxuLyoqIFV0aWxpdHkgZnVuY3Rpb24gZm9yIGB7Tiwgc2VsZWN0LCAuLi59YFxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIFRoZSBrZXkgdG8gdXNlIHRvIGZpbmQgYSBzZWxlY3Rpb25cbiAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsc3RyaW5nPn0gZGF0YSAtIFRoZSBvYmplY3QgZnJvbSB3aGljaCByZXN1bHRzIGFyZSBsb29rZWQgdXBcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSByZXN1bHQgb2YgdGhlIHNlbGVjdCBzdGF0ZW1lbnRcbiAqL1xuUnVudGltZS5wcm90b3R5cGUuc2VsZWN0ID0gZnVuY3Rpb24odmFsdWUsIGRhdGEpIHtcbiAgaWYgKHt9Lmhhc093blByb3BlcnR5LmNhbGwoZGF0YSwgdmFsdWUpKSByZXR1cm4gZGF0YVt2YWx1ZV07XG4gIHJldHVybiBkYXRhLm90aGVyO1xufTtcblxuLyoqIEBwcml2YXRlICovXG5SdW50aW1lLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKHBsdXJhbEZ1bmNzLCBjb21waWxlcikge1xuICBmdW5jdGlvbiBfc3RyaW5naWZ5KG8sIGxldmVsKSB7XG4gICAgaWYgKHR5cGVvZiBvICE9ICdvYmplY3QnKSB7XG4gICAgICB2YXIgZnVuY1N0ciA9IG8udG9TdHJpbmcoKS5yZXBsYWNlKC9eKGZ1bmN0aW9uIClcXHcqLywgJyQxJyk7XG4gICAgICB2YXIgZnVuY0luZGVudCA9IC8oWyBcXHRdKilcXFMuKiQvLmV4ZWMoZnVuY1N0cik7XG4gICAgICByZXR1cm4gZnVuY0luZGVudFxuICAgICAgICA/IGZ1bmNTdHIucmVwbGFjZShuZXcgUmVnRXhwKCdeJyArIGZ1bmNJbmRlbnRbMV0sICdtZycpLCAnJylcbiAgICAgICAgOiBmdW5jU3RyO1xuICAgIH1cbiAgICB2YXIgcyA9IFtdO1xuICAgIGZvciAodmFyIGkgaW4gbykge1xuICAgICAgaWYgKGxldmVsID09PSAwKVxuICAgICAgICBzLnB1c2goJ3ZhciAnICsgaSArICcgPSAnICsgX3N0cmluZ2lmeShvW2ldLCBsZXZlbCArIDEpICsgJztcXG4nKTtcbiAgICAgIGVsc2Ugcy5wdXNoKENvbXBpbGVyLnByb3BuYW1lKGkpICsgJzogJyArIF9zdHJpbmdpZnkob1tpXSwgbGV2ZWwgKyAxKSk7XG4gICAgfVxuICAgIGlmIChsZXZlbCA9PT0gMCkgcmV0dXJuIHMuam9pbignJyk7XG4gICAgaWYgKHMubGVuZ3RoID09PSAwKSByZXR1cm4gJ3t9JztcbiAgICB2YXIgaW5kZW50ID0gJyAgJztcbiAgICB3aGlsZSAoLS1sZXZlbCkgaW5kZW50ICs9ICcgICc7XG4gICAgcmV0dXJuICd7XFxuJyArIHMuam9pbignLFxcbicpLnJlcGxhY2UoL14vZ20sIGluZGVudCkgKyAnXFxufSc7XG4gIH1cblxuICB2YXIgb2JqID0ge307XG4gIE9iamVjdC5rZXlzKGNvbXBpbGVyLmxvY2FsZXMpLmZvckVhY2goZnVuY3Rpb24obGMpIHtcbiAgICBvYmpbQ29tcGlsZXIuZnVuY25hbWUobGMpXSA9IHBsdXJhbEZ1bmNzW2xjXTtcbiAgfSk7XG4gIE9iamVjdC5rZXlzKGNvbXBpbGVyLnJ1bnRpbWUpLmZvckVhY2goZnVuY3Rpb24oZm4pIHtcbiAgICBvYmpbZm5dID0gdGhpc1tmbl07XG4gIH0sIHRoaXMpO1xuICB2YXIgZm10S2V5cyA9IE9iamVjdC5rZXlzKGNvbXBpbGVyLmZvcm1hdHRlcnMpO1xuICB2YXIgZm10ID0gdGhpcy5tZi5mbXQ7XG4gIGlmIChmbXRLZXlzLmxlbmd0aClcbiAgICBvYmouZm10ID0gZm10S2V5cy5yZWR1Y2UoZnVuY3Rpb24obywga2V5KSB7XG4gICAgICBvW2tleV0gPSBmbXRba2V5XTtcbiAgICAgIHJldHVybiBvO1xuICAgIH0sIHt9KTtcbiAgcmV0dXJuIF9zdHJpbmdpZnkob2JqLCAwKTtcbn07XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiZnVuY3Rpb24gZGVmYXVsdEVxdWFsaXR5Q2hlY2soYSwgYikge1xuICByZXR1cm4gYSA9PT0gYjtcbn1cblxuZnVuY3Rpb24gYXJlQXJndW1lbnRzU2hhbGxvd2x5RXF1YWwoZXF1YWxpdHlDaGVjaywgcHJldiwgbmV4dCkge1xuICBpZiAocHJldiA9PT0gbnVsbCB8fCBuZXh0ID09PSBudWxsIHx8IHByZXYubGVuZ3RoICE9PSBuZXh0Lmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIERvIHRoaXMgaW4gYSBmb3IgbG9vcCAoYW5kIG5vdCBhIGBmb3JFYWNoYCBvciBhbiBgZXZlcnlgKSBzbyB3ZSBjYW4gZGV0ZXJtaW5lIGVxdWFsaXR5IGFzIGZhc3QgYXMgcG9zc2libGUuXG4gIHZhciBsZW5ndGggPSBwcmV2Lmxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGlmICghZXF1YWxpdHlDaGVjayhwcmV2W2ldLCBuZXh0W2ldKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdE1lbW9pemUoZnVuYykge1xuICB2YXIgZXF1YWxpdHlDaGVjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZGVmYXVsdEVxdWFsaXR5Q2hlY2s7XG5cbiAgdmFyIGxhc3RBcmdzID0gbnVsbDtcbiAgdmFyIGxhc3RSZXN1bHQgPSBudWxsO1xuICAvLyB3ZSByZWZlcmVuY2UgYXJndW1lbnRzIGluc3RlYWQgb2Ygc3ByZWFkaW5nIHRoZW0gZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnNcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIWFyZUFyZ3VtZW50c1NoYWxsb3dseUVxdWFsKGVxdWFsaXR5Q2hlY2ssIGxhc3RBcmdzLCBhcmd1bWVudHMpKSB7XG4gICAgICAvLyBhcHBseSBhcmd1bWVudHMgaW5zdGVhZCBvZiBzcHJlYWRpbmcgZm9yIHBlcmZvcm1hbmNlLlxuICAgICAgbGFzdFJlc3VsdCA9IGZ1bmMuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcbiAgICByZXR1cm4gbGFzdFJlc3VsdDtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0RGVwZW5kZW5jaWVzKGZ1bmNzKSB7XG4gIHZhciBkZXBlbmRlbmNpZXMgPSBBcnJheS5pc0FycmF5KGZ1bmNzWzBdKSA/IGZ1bmNzWzBdIDogZnVuY3M7XG5cbiAgaWYgKCFkZXBlbmRlbmNpZXMuZXZlcnkoZnVuY3Rpb24gKGRlcCkge1xuICAgIHJldHVybiB0eXBlb2YgZGVwID09PSAnZnVuY3Rpb24nO1xuICB9KSkge1xuICAgIHZhciBkZXBlbmRlbmN5VHlwZXMgPSBkZXBlbmRlbmNpZXMubWFwKGZ1bmN0aW9uIChkZXApIHtcbiAgICAgIHJldHVybiB0eXBlb2YgZGVwO1xuICAgIH0pLmpvaW4oJywgJyk7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTZWxlY3RvciBjcmVhdG9ycyBleHBlY3QgYWxsIGlucHV0LXNlbGVjdG9ycyB0byBiZSBmdW5jdGlvbnMsICcgKyAoJ2luc3RlYWQgcmVjZWl2ZWQgdGhlIGZvbGxvd2luZyB0eXBlczogWycgKyBkZXBlbmRlbmN5VHlwZXMgKyAnXScpKTtcbiAgfVxuXG4gIHJldHVybiBkZXBlbmRlbmNpZXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTZWxlY3RvckNyZWF0b3IobWVtb2l6ZSkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgbWVtb2l6ZU9wdGlvbnMgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgbWVtb2l6ZU9wdGlvbnNbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGZ1bmNzID0gQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgIGZ1bmNzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgfVxuXG4gICAgdmFyIHJlY29tcHV0YXRpb25zID0gMDtcbiAgICB2YXIgcmVzdWx0RnVuYyA9IGZ1bmNzLnBvcCgpO1xuICAgIHZhciBkZXBlbmRlbmNpZXMgPSBnZXREZXBlbmRlbmNpZXMoZnVuY3MpO1xuXG4gICAgdmFyIG1lbW9pemVkUmVzdWx0RnVuYyA9IG1lbW9pemUuYXBwbHkodW5kZWZpbmVkLCBbZnVuY3Rpb24gKCkge1xuICAgICAgcmVjb21wdXRhdGlvbnMrKztcbiAgICAgIC8vIGFwcGx5IGFyZ3VtZW50cyBpbnN0ZWFkIG9mIHNwcmVhZGluZyBmb3IgcGVyZm9ybWFuY2UuXG4gICAgICByZXR1cm4gcmVzdWx0RnVuYy5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIH1dLmNvbmNhdChtZW1vaXplT3B0aW9ucykpO1xuXG4gICAgLy8gSWYgYSBzZWxlY3RvciBpcyBjYWxsZWQgd2l0aCB0aGUgZXhhY3Qgc2FtZSBhcmd1bWVudHMgd2UgZG9uJ3QgbmVlZCB0byB0cmF2ZXJzZSBvdXIgZGVwZW5kZW5jaWVzIGFnYWluLlxuICAgIHZhciBzZWxlY3RvciA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHBhcmFtcyA9IFtdO1xuICAgICAgdmFyIGxlbmd0aCA9IGRlcGVuZGVuY2llcy5sZW5ndGg7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gYXBwbHkgYXJndW1lbnRzIGluc3RlYWQgb2Ygc3ByZWFkaW5nIGFuZCBtdXRhdGUgYSBsb2NhbCBsaXN0IG9mIHBhcmFtcyBmb3IgcGVyZm9ybWFuY2UuXG4gICAgICAgIHBhcmFtcy5wdXNoKGRlcGVuZGVuY2llc1tpXS5hcHBseShudWxsLCBhcmd1bWVudHMpKTtcbiAgICAgIH1cblxuICAgICAgLy8gYXBwbHkgYXJndW1lbnRzIGluc3RlYWQgb2Ygc3ByZWFkaW5nIGZvciBwZXJmb3JtYW5jZS5cbiAgICAgIHJldHVybiBtZW1vaXplZFJlc3VsdEZ1bmMuYXBwbHkobnVsbCwgcGFyYW1zKTtcbiAgICB9KTtcblxuICAgIHNlbGVjdG9yLnJlc3VsdEZ1bmMgPSByZXN1bHRGdW5jO1xuICAgIHNlbGVjdG9yLmRlcGVuZGVuY2llcyA9IGRlcGVuZGVuY2llcztcbiAgICBzZWxlY3Rvci5yZWNvbXB1dGF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiByZWNvbXB1dGF0aW9ucztcbiAgICB9O1xuICAgIHNlbGVjdG9yLnJlc2V0UmVjb21wdXRhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcmVjb21wdXRhdGlvbnMgPSAwO1xuICAgIH07XG4gICAgcmV0dXJuIHNlbGVjdG9yO1xuICB9O1xufVxuXG5leHBvcnQgdmFyIGNyZWF0ZVNlbGVjdG9yID0gY3JlYXRlU2VsZWN0b3JDcmVhdG9yKGRlZmF1bHRNZW1vaXplKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVN0cnVjdHVyZWRTZWxlY3RvcihzZWxlY3RvcnMpIHtcbiAgdmFyIHNlbGVjdG9yQ3JlYXRvciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogY3JlYXRlU2VsZWN0b3I7XG5cbiAgaWYgKHR5cGVvZiBzZWxlY3RvcnMgIT09ICdvYmplY3QnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3IgZXhwZWN0cyBmaXJzdCBhcmd1bWVudCB0byBiZSBhbiBvYmplY3QgJyArICgnd2hlcmUgZWFjaCBwcm9wZXJ0eSBpcyBhIHNlbGVjdG9yLCBpbnN0ZWFkIHJlY2VpdmVkIGEgJyArIHR5cGVvZiBzZWxlY3RvcnMpKTtcbiAgfVxuICB2YXIgb2JqZWN0S2V5cyA9IE9iamVjdC5rZXlzKHNlbGVjdG9ycyk7XG4gIHJldHVybiBzZWxlY3RvckNyZWF0b3Iob2JqZWN0S2V5cy5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBzZWxlY3RvcnNba2V5XTtcbiAgfSksIGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIHZhbHVlcyA9IEFycmF5KF9sZW4zKSwgX2tleTMgPSAwOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgICB2YWx1ZXNbX2tleTNdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWVzLnJlZHVjZShmdW5jdGlvbiAoY29tcG9zaXRpb24sIHZhbHVlLCBpbmRleCkge1xuICAgICAgY29tcG9zaXRpb25bb2JqZWN0S2V5c1tpbmRleF1dID0gdmFsdWU7XG4gICAgICByZXR1cm4gY29tcG9zaXRpb247XG4gICAgfSwge30pO1xuICB9KTtcbn0iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vcmVzZXJ2ZWQtd29yZHMnKTtcbiIsInZhciBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcblxuLyoqXG4gKiBTdHJ1Y3R1cmUgZm9yIHN0b3Jpbmcga2V5d29yZHMuXG4gKlxuICogQHR5cGVkZWYge09iamVjdC48U3RyaW5nLEJvb2xlYW4+fSBLZXl3b3Jkc0hhc2hcbiAqL1xuXG4vKipcbiAqIEVDTUFTY3JpcHQgZGlhbGVjdHMuXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7T2JqZWN0LjxTdHJpbmcsTnVtYmVyfFN0cmluZz59IC0ga2V5cyBhcyByZWFkYWJsZSBuYW1lcyBhbmQgdmFsdWVzIGFzIHZlcnNpb25zXG4gKi9cbnZhciBESUFMRUNUUyA9IHtcbiAgICBlczM6IDMsXG4gICAgZXM1OiA1LFxuICAgIGVzMjAxNTogNixcbiAgICBlczc6IDcsXG5cbiAgICAvLyBhbGlhc2VzXG4gICAgZXM2OiA2LFxuICAgICdkZWZhdWx0JzogNSxcbiAgICBuZXh0OiA2XG59O1xuXG4vKipcbiAqIEVDTUFTY3JpcHQgcmVzZXJ2ZWQgd29yZHMuXG4gKlxuICogQHR5cGUge09iamVjdC48U3RyaW5nLEtleXdvcmRzSGFzaD59XG4gKi9cbnZhciBLRVlXT1JEUyA9IGV4cG9ydHMuS0VZV09SRFMgPSB7fTtcblxuLyoqXG4gKiBDaGVjayB3b3JkIGZvciBiZWluZyBhbiByZXNlcnZlZCB3b3JkLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB3b3JkIC0gd29yZCB0byBjaGVja1xuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBbZGlhbGVjdF0gLSBkaWFsZWN0IG9yIHZlcnNpb25cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW3N0cmljdF0gLSBzdHJpY3QgbW9kZVxuICogQHJldHVybnMgez9Cb29sZWFufVxuICovXG5leHBvcnRzLmNoZWNrID0gZnVuY3Rpb24gY2hlY2sod29yZCwgZGlhbGVjdCwgc3RyaWN0KSB7XG4gICAgZGlhbGVjdCA9IGRpYWxlY3QgfHwgRElBTEVDVFMuZGVmYXVsdDtcbiAgICB2YXIgdmVyc2lvbiA9IERJQUxFQ1RTW2RpYWxlY3RdIHx8IGRpYWxlY3Q7XG5cbiAgICBpZiAoc3RyaWN0ICYmIHZlcnNpb24gPj0gNSkge1xuICAgICAgICB2ZXJzaW9uICs9ICctc3RyaWN0JztcbiAgICB9XG5cbiAgICBhc3NlcnQoS0VZV09SRFNbdmVyc2lvbl0sICdVbmtub3duIGRpYWxlY3QnKTtcblxuICAgIHJldHVybiBLRVlXT1JEU1t2ZXJzaW9uXS5oYXNPd25Qcm9wZXJ0eSh3b3JkKTtcbn07XG5cbi8qKlxuICogUmVzZXJ2ZWQgV29yZHMgZm9yIEVTM1xuICpcbiAqIEVDTUEtMjYyIDNyZDogNy41LjFcbiAqIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9wdWJsaWNhdGlvbnMvZmlsZXMvRUNNQS1TVC1BUkNIL0VDTUEtMjYyLCUyMDNyZCUyMGVkaXRpb24sJTIwRGVjZW1iZXIlMjAxOTk5LnBkZlxuICpcbiAqIEB0eXBlIHtLZXl3b3Jkc0hhc2h9XG4gKi9cbktFWVdPUkRTWyczJ10gPSBfaGFzaChcbiAgICAvLyBLZXl3b3JkLCBFQ01BLTI2MiAzcmQ6IDcuNS4yXG4gICAgJ2JyZWFrICAgIGVsc2UgICAgICAgbmV3ICAgICB2YXInLFxuICAgICdjYXNlICAgICBmaW5hbGx5ICAgIHJldHVybiAgdm9pZCcsXG4gICAgJ2NhdGNoICAgIGZvciAgICAgICAgc3dpdGNoICB3aGlsZScsXG4gICAgJ2NvbnRpbnVlIGZ1bmN0aW9uICAgdGhpcyAgICB3aXRoJyxcbiAgICAnZGVmYXVsdCAgaWYgICAgICAgICB0aHJvdycsXG4gICAgJ2RlbGV0ZSAgIGluICAgICAgICAgdHJ5JyxcbiAgICAnZG8gICAgICAgaW5zdGFuY2VvZiB0eXBlb2YnLFxuICAgIC8vIEZ1dHVyZVJlc2VydmVkV29yZCwgRUNNQS0yNjIgM3JkIDcuNS4zXG4gICAgJ2Fic3RyYWN0IGVudW0gICAgICAgaW50ICAgICAgICBzaG9ydCcsXG4gICAgJ2Jvb2xlYW4gIGV4cG9ydCAgICAgaW50ZXJmYWNlICBzdGF0aWMnLFxuICAgICdieXRlICAgICBleHRlbmRzICAgIGxvbmcgICAgICAgc3VwZXInLFxuICAgICdjaGFyICAgICBmaW5hbCAgICAgIG5hdGl2ZSAgICAgc3luY2hyb25pemVkJyxcbiAgICAnY2xhc3MgICAgZmxvYXQgICAgICBwYWNrYWdlICAgIHRocm93cycsXG4gICAgJ2NvbnN0ICAgIGdvdG8gICAgICAgcHJpdmF0ZSAgICB0cmFuc2llbnQnLFxuICAgICdkZWJ1Z2dlciBpbXBsZW1lbnRzIHByb3RlY3RlZCAgdm9sYXRpbGUnLFxuICAgICdkb3VibGUgICBpbXBvcnQgICAgIHB1YmxpYycsXG4gICAgLy8gTnVsbExpdGVyYWwgJiBCb29sZWFuTGl0ZXJhbFxuICAgICdudWxsIHRydWUgZmFsc2UnXG4pO1xuXG4vKipcbiAqIFJlc2VydmVkIFdvcmRzIGZvciBFUzUuXG4gKlxuICogaHR0cDovL2VzNS5naXRodWIuaW8vI3g3LjYuMVxuICpcbiAqIEB0eXBlIHtLZXl3b3Jkc0hhc2h9XG4gKi9cbktFWVdPUkRTWyc1J10gPSBfaGFzaChcbiAgICAvLyBLZXl3b3JkXG4gICAgJ2JyZWFrICAgIGRvICAgICAgIGluc3RhbmNlb2YgdHlwZW9mJyxcbiAgICAnY2FzZSAgICAgZWxzZSAgICAgbmV3ICAgICAgICB2YXInLFxuICAgICdjYXRjaCAgICBmaW5hbGx5ICByZXR1cm4gICAgIHZvaWQnLFxuICAgICdjb250aW51ZSBmb3IgICAgICBzd2l0Y2ggICAgIHdoaWxlJyxcbiAgICAnZGVidWdnZXIgZnVuY3Rpb24gdGhpcyAgICAgICB3aXRoJyxcbiAgICAnZGVmYXVsdCAgaWYgICAgICAgdGhyb3cnLFxuICAgICdkZWxldGUgICBpbiAgICAgICB0cnknLFxuICAgIC8vIEZ1dHVyZVJlc2VydmVkV29yZFxuICAgICdjbGFzcyBlbnVtIGV4dGVuZHMgc3VwZXInLFxuICAgICdjb25zdCBleHBvcnQgaW1wb3J0JyxcbiAgICAvLyBOdWxsTGl0ZXJhbCAmIEJvb2xlYW5MaXRlcmFsXG4gICAgJ251bGwgdHJ1ZSBmYWxzZSdcbik7XG5cbi8qKlxuICogUmVzZXJ2ZWQgV29yZHMgZm9yIEVTNSBpbiBzdHJpY3QgbW9kZS5cbiAqXG4gKiBAdHlwZSB7S2V5d29yZHNIYXNofVxuICovXG5LRVlXT1JEU1snNS1zdHJpY3QnXSA9IF9oYXNoKFxuICAgIEtFWVdPUkRTWyc1J10sXG4gICAgLy8gRnV0dXJlUmVzZXJ2ZWRXb3JkLCBzdHJpY3QgbW9kZS4gaHR0cDovL2VzNS5naXRodWIuaW8vI3g3LjYuMS4yXG4gICAgJ2ltcGxlbWVudHMgbGV0ICAgICBwcml2YXRlICAgcHVibGljIHlpZWxkJyxcbiAgICAnaW50ZXJmYWNlICBwYWNrYWdlIHByb3RlY3RlZCBzdGF0aWMnXG4pO1xuXG4vKipcbiAqIFJlc2VydmVkIFdvcmRzIGZvciBFUzYuXG4gKlxuICogMTEuNi4yXG4gKiBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wL2luZGV4Lmh0bWwjc2VjLXJlc2VydmVkLXdvcmRzXG4gKlxuICogQHR5cGUge0tleXdvcmRzSGFzaH1cbiAqL1xuS0VZV09SRFNbJzYnXSA9IF9oYXNoKFxuICAgIC8vIEtleXdvcmRzLCBFUzYgMTEuNi4yLjEsIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvaW5kZXguaHRtbCNzZWMta2V5d29yZHNcbiAgICAnYnJlYWsgICAgZG8gICAgICAgaW4gICAgICAgICB0eXBlb2YnLFxuICAgICdjYXNlICAgICBlbHNlICAgICBpbnN0YW5jZW9mIHZhcicsXG4gICAgJ2NhdGNoICAgIGV4cG9ydCAgIG5ldyAgICAgICAgdm9pZCcsXG4gICAgJ2NsYXNzICAgIGV4dGVuZHMgIHJldHVybiAgICAgd2hpbGUnLFxuICAgICdjb25zdCAgICBmaW5hbGx5ICBzdXBlciAgICAgIHdpdGgnLFxuICAgICdjb250aW51ZSBmb3IgICAgICBzd2l0Y2ggICAgIHlpZWxkJyxcbiAgICAnZGVidWdnZXIgZnVuY3Rpb24gdGhpcycsXG4gICAgJ2RlZmF1bHQgIGlmICAgICAgIHRocm93JyxcbiAgICAnZGVsZXRlICAgaW1wb3J0ICAgdHJ5JyxcbiAgICAvLyBGdXR1cmUgUmVzZXJ2ZWQgV29yZHMsIEVTNiAxMS42LjIuMlxuICAgIC8vIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvaW5kZXguaHRtbCNzZWMtZnV0dXJlLXJlc2VydmVkLXdvcmRzXG4gICAgJ2VudW0gYXdhaXQnLFxuICAgIC8vIE51bGxMaXRlcmFsICYgQm9vbGVhbkxpdGVyYWxcbiAgICAnbnVsbCB0cnVlIGZhbHNlJ1xuKTtcblxuLyoqXG4gKiBSZXNlcnZlZCBXb3JkcyBmb3IgRVM2IGluIHN0cmljdCBtb2RlLlxuICpcbiAqIEB0eXBlIHtLZXl3b3Jkc0hhc2h9XG4gKi9cbktFWVdPUkRTWyc2LXN0cmljdCddID0gX2hhc2goXG4gICAgS0VZV09SRFNbJzYnXSxcbiAgICAvLyBLZXl3b3JkcywgRVM2IDExLjYuMi4xXG4gICAgJ2xldCBzdGF0aWMnLFxuICAgIC8vIEZ1dHVyZSBSZXNlcnZlZCBXb3JkcywgRVM2IDExLjYuMi4yXG4gICAgJ2ltcGxlbWVudHMgcGFja2FnZSBwcm90ZWN0ZWQnLFxuICAgICdpbnRlcmZhY2UgcHJpdmF0ZSBwdWJsaWMnXG4pO1xuXG4vKipcbiAqIEdlbmVyYXRlcyBoYXNoIGZyb20gc3RyaW5nc1xuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gey4uLlN0cmluZ3xLZXl3b3Jkc0hhc2h9IGtleXdvcmRzIC0gU3BhY2UtZGVsaW1pdGVkIHN0cmluZyBvciBwcmV2aW91cyByZXN1bHQgb2YgX2hhc2hcbiAqIEByZXR1cm4ge0tleXdvcmRzSGFzaH0gLSBPYmplY3Qgd2l0aCBrZXl3b3JkcyBpbiBrZXlzIGFuZCB0cnVlIGluIHZhbHVlc1xuICovXG5mdW5jdGlvbiBfaGFzaCgpIHtcbiAgICB2YXIgc2V0ID0gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGFyZ3VtZW50cywgZnVuY3Rpb24odikge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHYgPT09ICdzdHJpbmcnID8gdiA6IE9iamVjdC5rZXlzKHYpLmpvaW4oJyAnKTtcbiAgICB9KS5qb2luKCcgJyk7XG5cbiAgICByZXR1cm4gc2V0LnNwbGl0KC9cXHMrLylcbiAgICAgICAgLnJlZHVjZShmdW5jdGlvbihyZXMsIGtleXdvcmQpIHtcbiAgICAgICAgICAgIHJlc1trZXl3b3JkXSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9LCB7fSk7XG59XG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi9pbnRlcm5hbC9PYnNlcnZhYmxlJztcbmV4cG9ydCB7IENvbm5lY3RhYmxlT2JzZXJ2YWJsZSB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9Db25uZWN0YWJsZU9ic2VydmFibGUnO1xuZXhwb3J0IHsgR3JvdXBlZE9ic2VydmFibGUgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9ncm91cEJ5JztcbmV4cG9ydCB7IG9ic2VydmFibGUgfSBmcm9tICcuL2ludGVybmFsL3N5bWJvbC9vYnNlcnZhYmxlJztcbmV4cG9ydCB7IFN1YmplY3QgfSBmcm9tICcuL2ludGVybmFsL1N1YmplY3QnO1xuZXhwb3J0IHsgQmVoYXZpb3JTdWJqZWN0IH0gZnJvbSAnLi9pbnRlcm5hbC9CZWhhdmlvclN1YmplY3QnO1xuZXhwb3J0IHsgUmVwbGF5U3ViamVjdCB9IGZyb20gJy4vaW50ZXJuYWwvUmVwbGF5U3ViamVjdCc7XG5leHBvcnQgeyBBc3luY1N1YmplY3QgfSBmcm9tICcuL2ludGVybmFsL0FzeW5jU3ViamVjdCc7XG5leHBvcnQgeyBhc2FwLCBhc2FwU2NoZWR1bGVyIH0gZnJvbSAnLi9pbnRlcm5hbC9zY2hlZHVsZXIvYXNhcCc7XG5leHBvcnQgeyBhc3luYywgYXN5bmNTY2hlZHVsZXIgfSBmcm9tICcuL2ludGVybmFsL3NjaGVkdWxlci9hc3luYyc7XG5leHBvcnQgeyBxdWV1ZSwgcXVldWVTY2hlZHVsZXIgfSBmcm9tICcuL2ludGVybmFsL3NjaGVkdWxlci9xdWV1ZSc7XG5leHBvcnQgeyBhbmltYXRpb25GcmFtZSwgYW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIgfSBmcm9tICcuL2ludGVybmFsL3NjaGVkdWxlci9hbmltYXRpb25GcmFtZSc7XG5leHBvcnQgeyBWaXJ0dWFsVGltZVNjaGVkdWxlciwgVmlydHVhbEFjdGlvbiB9IGZyb20gJy4vaW50ZXJuYWwvc2NoZWR1bGVyL1ZpcnR1YWxUaW1lU2NoZWR1bGVyJztcbmV4cG9ydCB7IFNjaGVkdWxlciB9IGZyb20gJy4vaW50ZXJuYWwvU2NoZWR1bGVyJztcbmV4cG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vaW50ZXJuYWwvU3Vic2NyaXB0aW9uJztcbmV4cG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuL2ludGVybmFsL1N1YnNjcmliZXInO1xuZXhwb3J0IHsgTm90aWZpY2F0aW9uLCBOb3RpZmljYXRpb25LaW5kIH0gZnJvbSAnLi9pbnRlcm5hbC9Ob3RpZmljYXRpb24nO1xuZXhwb3J0IHsgcGlwZSB9IGZyb20gJy4vaW50ZXJuYWwvdXRpbC9waXBlJztcbmV4cG9ydCB7IG5vb3AgfSBmcm9tICcuL2ludGVybmFsL3V0aWwvbm9vcCc7XG5leHBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4vaW50ZXJuYWwvdXRpbC9pZGVudGl0eSc7XG5leHBvcnQgeyBpc09ic2VydmFibGUgfSBmcm9tICcuL2ludGVybmFsL3V0aWwvaXNPYnNlcnZhYmxlJztcbmV4cG9ydCB7IEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yIH0gZnJvbSAnLi9pbnRlcm5hbC91dGlsL0FyZ3VtZW50T3V0T2ZSYW5nZUVycm9yJztcbmV4cG9ydCB7IEVtcHR5RXJyb3IgfSBmcm9tICcuL2ludGVybmFsL3V0aWwvRW1wdHlFcnJvcic7XG5leHBvcnQgeyBPYmplY3RVbnN1YnNjcmliZWRFcnJvciB9IGZyb20gJy4vaW50ZXJuYWwvdXRpbC9PYmplY3RVbnN1YnNjcmliZWRFcnJvcic7XG5leHBvcnQgeyBVbnN1YnNjcmlwdGlvbkVycm9yIH0gZnJvbSAnLi9pbnRlcm5hbC91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3InO1xuZXhwb3J0IHsgVGltZW91dEVycm9yIH0gZnJvbSAnLi9pbnRlcm5hbC91dGlsL1RpbWVvdXRFcnJvcic7XG5leHBvcnQgeyBiaW5kQ2FsbGJhY2sgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvYmluZENhbGxiYWNrJztcbmV4cG9ydCB7IGJpbmROb2RlQ2FsbGJhY2sgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvYmluZE5vZGVDYWxsYmFjayc7XG5leHBvcnQgeyBjb21iaW5lTGF0ZXN0IH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL2NvbWJpbmVMYXRlc3QnO1xuZXhwb3J0IHsgY29uY2F0IH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL2NvbmNhdCc7XG5leHBvcnQgeyBkZWZlciB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9kZWZlcic7XG5leHBvcnQgeyBlbXB0eSB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9lbXB0eSc7XG5leHBvcnQgeyBmb3JrSm9pbiB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9mb3JrSm9pbic7XG5leHBvcnQgeyBmcm9tIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb20nO1xuZXhwb3J0IHsgZnJvbUV2ZW50IH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb21FdmVudCc7XG5leHBvcnQgeyBmcm9tRXZlbnRQYXR0ZXJuIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb21FdmVudFBhdHRlcm4nO1xuZXhwb3J0IHsgZ2VuZXJhdGUgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvZ2VuZXJhdGUnO1xuZXhwb3J0IHsgaWlmIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL2lpZic7XG5leHBvcnQgeyBpbnRlcnZhbCB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9pbnRlcnZhbCc7XG5leHBvcnQgeyBtZXJnZSB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9tZXJnZSc7XG5leHBvcnQgeyBuZXZlciB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9uZXZlcic7XG5leHBvcnQgeyBvZiB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9vZic7XG5leHBvcnQgeyBvbkVycm9yUmVzdW1lTmV4dCB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9vbkVycm9yUmVzdW1lTmV4dCc7XG5leHBvcnQgeyBwYWlycyB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9wYWlycyc7XG5leHBvcnQgeyBwYXJ0aXRpb24gfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvcGFydGl0aW9uJztcbmV4cG9ydCB7IHJhY2UgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvcmFjZSc7XG5leHBvcnQgeyByYW5nZSB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9yYW5nZSc7XG5leHBvcnQgeyB0aHJvd0Vycm9yIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL3Rocm93RXJyb3InO1xuZXhwb3J0IHsgdGltZXIgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvdGltZXInO1xuZXhwb3J0IHsgdXNpbmcgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvdXNpbmcnO1xuZXhwb3J0IHsgemlwIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL3ppcCc7XG5leHBvcnQgeyBzY2hlZHVsZWQgfSBmcm9tICcuL2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZWQnO1xuZXhwb3J0IHsgRU1QVFkgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvZW1wdHknO1xuZXhwb3J0IHsgTkVWRVIgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvbmV2ZXInO1xuZXhwb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9pbnRlcm5hbC9jb25maWcnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJqZWN0LF9TdWJzY3JpcHRpb24gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICcuL1N1YmplY3QnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi9TdWJzY3JpcHRpb24nO1xudmFyIEFzeW5jU3ViamVjdCA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhBc3luY1N1YmplY3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQXN5bmNTdWJqZWN0KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudmFsdWUgPSBudWxsO1xuICAgICAgICBfdGhpcy5oYXNOZXh0ID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmhhc0NvbXBsZXRlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEFzeW5jU3ViamVjdC5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc0Vycm9yKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKHRoaXMudGhyb3duRXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIFN1YnNjcmlwdGlvbi5FTVBUWTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmhhc0NvbXBsZXRlZCAmJiB0aGlzLmhhc05leHQpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh0aGlzLnZhbHVlKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIHJldHVybiBTdWJzY3JpcHRpb24uRU1QVFk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuX3N1YnNjcmliZS5jYWxsKHRoaXMsIHN1YnNjcmliZXIpO1xuICAgIH07XG4gICAgQXN5bmNTdWJqZWN0LnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5oYXNDb21wbGV0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuaGFzTmV4dCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFzeW5jU3ViamVjdC5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhc0NvbXBsZXRlZCkge1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5lcnJvci5jYWxsKHRoaXMsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXN5bmNTdWJqZWN0LnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5oYXNDb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5oYXNOZXh0KSB7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLm5leHQuY2FsbCh0aGlzLCB0aGlzLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbXBsZXRlLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICByZXR1cm4gQXN5bmNTdWJqZWN0O1xufShTdWJqZWN0KSk7XG5leHBvcnQgeyBBc3luY1N1YmplY3QgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFzeW5jU3ViamVjdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YmplY3QsX3V0aWxfT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICcuL1N1YmplY3QnO1xuaW1wb3J0IHsgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IgfSBmcm9tICcuL3V0aWwvT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3InO1xudmFyIEJlaGF2aW9yU3ViamVjdCA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhCZWhhdmlvclN1YmplY3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQmVoYXZpb3JTdWJqZWN0KF92YWx1ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fdmFsdWUgPSBfdmFsdWU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJlaGF2aW9yU3ViamVjdC5wcm90b3R5cGUsIFwidmFsdWVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFZhbHVlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIEJlaGF2aW9yU3ViamVjdC5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSBfc3VwZXIucHJvdG90eXBlLl9zdWJzY3JpYmUuY2FsbCh0aGlzLCBzdWJzY3JpYmVyKTtcbiAgICAgICAgaWYgKHN1YnNjcmlwdGlvbiAmJiAhc3Vic2NyaXB0aW9uLmNsb3NlZCkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHRoaXMuX3ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgIH07XG4gICAgQmVoYXZpb3JTdWJqZWN0LnByb3RvdHlwZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzRXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IHRoaXMudGhyb3duRXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPYmplY3RVbnN1YnNjcmliZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCZWhhdmlvclN1YmplY3QucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5uZXh0LmNhbGwodGhpcywgdGhpcy5fdmFsdWUgPSB2YWx1ZSk7XG4gICAgfTtcbiAgICByZXR1cm4gQmVoYXZpb3JTdWJqZWN0O1xufShTdWJqZWN0KSk7XG5leHBvcnQgeyBCZWhhdmlvclN1YmplY3QgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJlaGF2aW9yU3ViamVjdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuL1N1YnNjcmliZXInO1xudmFyIElubmVyU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhJbm5lclN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gSW5uZXJTdWJzY3JpYmVyKHBhcmVudCwgb3V0ZXJWYWx1ZSwgb3V0ZXJJbmRleCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIF90aGlzLm91dGVyVmFsdWUgPSBvdXRlclZhbHVlO1xuICAgICAgICBfdGhpcy5vdXRlckluZGV4ID0gb3V0ZXJJbmRleDtcbiAgICAgICAgX3RoaXMuaW5kZXggPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIElubmVyU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQubm90aWZ5TmV4dCh0aGlzLm91dGVyVmFsdWUsIHZhbHVlLCB0aGlzLm91dGVySW5kZXgsIHRoaXMuaW5kZXgrKywgdGhpcyk7XG4gICAgfTtcbiAgICBJbm5lclN1YnNjcmliZXIucHJvdG90eXBlLl9lcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICB0aGlzLnBhcmVudC5ub3RpZnlFcnJvcihlcnJvciwgdGhpcyk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIElubmVyU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnBhcmVudC5ub3RpZnlDb21wbGV0ZSh0aGlzKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIElubmVyU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgSW5uZXJTdWJzY3JpYmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Jbm5lclN1YnNjcmliZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9vYnNlcnZhYmxlX2VtcHR5LF9vYnNlcnZhYmxlX29mLF9vYnNlcnZhYmxlX3Rocm93RXJyb3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgZW1wdHkgfSBmcm9tICcuL29ic2VydmFibGUvZW1wdHknO1xuaW1wb3J0IHsgb2YgfSBmcm9tICcuL29ic2VydmFibGUvb2YnO1xuaW1wb3J0IHsgdGhyb3dFcnJvciB9IGZyb20gJy4vb2JzZXJ2YWJsZS90aHJvd0Vycm9yJztcbmV4cG9ydCB2YXIgTm90aWZpY2F0aW9uS2luZDtcbi8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChOb3RpZmljYXRpb25LaW5kKSB7XG4gICAgTm90aWZpY2F0aW9uS2luZFtcIk5FWFRcIl0gPSBcIk5cIjtcbiAgICBOb3RpZmljYXRpb25LaW5kW1wiRVJST1JcIl0gPSBcIkVcIjtcbiAgICBOb3RpZmljYXRpb25LaW5kW1wiQ09NUExFVEVcIl0gPSBcIkNcIjtcbn0pKE5vdGlmaWNhdGlvbktpbmQgfHwgKE5vdGlmaWNhdGlvbktpbmQgPSB7fSkpO1xudmFyIE5vdGlmaWNhdGlvbiA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOb3RpZmljYXRpb24oa2luZCwgdmFsdWUsIGVycm9yKSB7XG4gICAgICAgIHRoaXMua2luZCA9IGtpbmQ7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yO1xuICAgICAgICB0aGlzLmhhc1ZhbHVlID0ga2luZCA9PT0gJ04nO1xuICAgIH1cbiAgICBOb3RpZmljYXRpb24ucHJvdG90eXBlLm9ic2VydmUgPSBmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLmtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgJ04nOlxuICAgICAgICAgICAgICAgIHJldHVybiBvYnNlcnZlci5uZXh0ICYmIG9ic2VydmVyLm5leHQodGhpcy52YWx1ZSk7XG4gICAgICAgICAgICBjYXNlICdFJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JzZXJ2ZXIuZXJyb3IgJiYgb2JzZXJ2ZXIuZXJyb3IodGhpcy5lcnJvcik7XG4gICAgICAgICAgICBjYXNlICdDJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JzZXJ2ZXIuY29tcGxldGUgJiYgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTm90aWZpY2F0aW9uLnByb3RvdHlwZS5kbyA9IGZ1bmN0aW9uIChuZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgdmFyIGtpbmQgPSB0aGlzLmtpbmQ7XG4gICAgICAgIHN3aXRjaCAoa2luZCkge1xuICAgICAgICAgICAgY2FzZSAnTic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQgJiYgbmV4dCh0aGlzLnZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgJ0UnOlxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvciAmJiBlcnJvcih0aGlzLmVycm9yKTtcbiAgICAgICAgICAgIGNhc2UgJ0MnOlxuICAgICAgICAgICAgICAgIHJldHVybiBjb21wbGV0ZSAmJiBjb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBOb3RpZmljYXRpb24ucHJvdG90eXBlLmFjY2VwdCA9IGZ1bmN0aW9uIChuZXh0T3JPYnNlcnZlciwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIGlmIChuZXh0T3JPYnNlcnZlciAmJiB0eXBlb2YgbmV4dE9yT2JzZXJ2ZXIubmV4dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub2JzZXJ2ZShuZXh0T3JPYnNlcnZlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kbyhuZXh0T3JPYnNlcnZlciwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTm90aWZpY2F0aW9uLnByb3RvdHlwZS50b09ic2VydmFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBraW5kID0gdGhpcy5raW5kO1xuICAgICAgICBzd2l0Y2ggKGtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgJ04nOlxuICAgICAgICAgICAgICAgIHJldHVybiBvZih0aGlzLnZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgJ0UnOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aHJvd0Vycm9yKHRoaXMuZXJyb3IpO1xuICAgICAgICAgICAgY2FzZSAnQyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmV4cGVjdGVkIG5vdGlmaWNhdGlvbiBraW5kIHZhbHVlJyk7XG4gICAgfTtcbiAgICBOb3RpZmljYXRpb24uY3JlYXRlTmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBOb3RpZmljYXRpb24oJ04nLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE5vdGlmaWNhdGlvbi51bmRlZmluZWRWYWx1ZU5vdGlmaWNhdGlvbjtcbiAgICB9O1xuICAgIE5vdGlmaWNhdGlvbi5jcmVhdGVFcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBOb3RpZmljYXRpb24oJ0UnLCB1bmRlZmluZWQsIGVycik7XG4gICAgfTtcbiAgICBOb3RpZmljYXRpb24uY3JlYXRlQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBOb3RpZmljYXRpb24uY29tcGxldGVOb3RpZmljYXRpb247XG4gICAgfTtcbiAgICBOb3RpZmljYXRpb24uY29tcGxldGVOb3RpZmljYXRpb24gPSBuZXcgTm90aWZpY2F0aW9uKCdDJyk7XG4gICAgTm90aWZpY2F0aW9uLnVuZGVmaW5lZFZhbHVlTm90aWZpY2F0aW9uID0gbmV3IE5vdGlmaWNhdGlvbignTicsIHVuZGVmaW5lZCk7XG4gICAgcmV0dXJuIE5vdGlmaWNhdGlvbjtcbn0oKSk7XG5leHBvcnQgeyBOb3RpZmljYXRpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU5vdGlmaWNhdGlvbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3V0aWxfY2FuUmVwb3J0RXJyb3IsX3V0aWxfdG9TdWJzY3JpYmVyLF9zeW1ib2xfb2JzZXJ2YWJsZSxfdXRpbF9waXBlLF9jb25maWcgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgY2FuUmVwb3J0RXJyb3IgfSBmcm9tICcuL3V0aWwvY2FuUmVwb3J0RXJyb3InO1xuaW1wb3J0IHsgdG9TdWJzY3JpYmVyIH0gZnJvbSAnLi91dGlsL3RvU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBwaXBlRnJvbUFycmF5IH0gZnJvbSAnLi91dGlsL3BpcGUnO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xudmFyIE9ic2VydmFibGUgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT2JzZXJ2YWJsZShzdWJzY3JpYmUpIHtcbiAgICAgICAgdGhpcy5faXNTY2FsYXIgPSBmYWxzZTtcbiAgICAgICAgaWYgKHN1YnNjcmliZSkge1xuICAgICAgICAgICAgdGhpcy5fc3Vic2NyaWJlID0gc3Vic2NyaWJlO1xuICAgICAgICB9XG4gICAgfVxuICAgIE9ic2VydmFibGUucHJvdG90eXBlLmxpZnQgPSBmdW5jdGlvbiAob3BlcmF0b3IpIHtcbiAgICAgICAgdmFyIG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZSgpO1xuICAgICAgICBvYnNlcnZhYmxlLnNvdXJjZSA9IHRoaXM7XG4gICAgICAgIG9ic2VydmFibGUub3BlcmF0b3IgPSBvcGVyYXRvcjtcbiAgICAgICAgcmV0dXJuIG9ic2VydmFibGU7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAob2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgb3BlcmF0b3IgPSB0aGlzLm9wZXJhdG9yO1xuICAgICAgICB2YXIgc2luayA9IHRvU3Vic2NyaWJlcihvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICAgICAgaWYgKG9wZXJhdG9yKSB7XG4gICAgICAgICAgICBzaW5rLmFkZChvcGVyYXRvci5jYWxsKHNpbmssIHRoaXMuc291cmNlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzaW5rLmFkZCh0aGlzLnNvdXJjZSB8fCAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgJiYgIXNpbmsuc3luY0Vycm9yVGhyb3dhYmxlKSA/XG4gICAgICAgICAgICAgICAgdGhpcy5fc3Vic2NyaWJlKHNpbmspIDpcbiAgICAgICAgICAgICAgICB0aGlzLl90cnlTdWJzY3JpYmUoc2luaykpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgaWYgKHNpbmsuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgc2luay5zeW5jRXJyb3JUaHJvd2FibGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoc2luay5zeW5jRXJyb3JUaHJvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgc2luay5zeW5jRXJyb3JWYWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNpbms7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5fdHJ5U3Vic2NyaWJlID0gZnVuY3Rpb24gKHNpbmspIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdWJzY3JpYmUoc2luayk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgc2luay5zeW5jRXJyb3JUaHJvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHNpbmsuc3luY0Vycm9yVmFsdWUgPSBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2FuUmVwb3J0RXJyb3Ioc2luaykpIHtcbiAgICAgICAgICAgICAgICBzaW5rLmVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChuZXh0LCBwcm9taXNlQ3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBwcm9taXNlQ3RvciA9IGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKTtcbiAgICAgICAgcmV0dXJuIG5ldyBwcm9taXNlQ3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gX3RoaXMuc3Vic2NyaWJlKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHJlamVjdCwgcmVzb2x2ZSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICAgICAgcmV0dXJuIHNvdXJjZSAmJiBzb3VyY2Uuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGVbU3ltYm9sX29ic2VydmFibGVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnBpcGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvcGVyYXRpb25zID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBvcGVyYXRpb25zW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wZXJhdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGlwZUZyb21BcnJheShvcGVyYXRpb25zKSh0aGlzKTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnRvUHJvbWlzZSA9IGZ1bmN0aW9uIChwcm9taXNlQ3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBwcm9taXNlQ3RvciA9IGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKTtcbiAgICAgICAgcmV0dXJuIG5ldyBwcm9taXNlQ3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgICAgICBfdGhpcy5zdWJzY3JpYmUoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHZhbHVlID0geDsgfSwgZnVuY3Rpb24gKGVycikgeyByZXR1cm4gcmVqZWN0KGVycik7IH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmUodmFsdWUpOyB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLmNyZWF0ZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKHN1YnNjcmliZSk7XG4gICAgfTtcbiAgICByZXR1cm4gT2JzZXJ2YWJsZTtcbn0oKSk7XG5leHBvcnQgeyBPYnNlcnZhYmxlIH07XG5mdW5jdGlvbiBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcikge1xuICAgIGlmICghcHJvbWlzZUN0b3IpIHtcbiAgICAgICAgcHJvbWlzZUN0b3IgPSBjb25maWcuUHJvbWlzZSB8fCBQcm9taXNlO1xuICAgIH1cbiAgICBpZiAoIXByb21pc2VDdG9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignbm8gUHJvbWlzZSBpbXBsIGZvdW5kJyk7XG4gICAgfVxuICAgIHJldHVybiBwcm9taXNlQ3Rvcjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9jb25maWcsX3V0aWxfaG9zdFJlcG9ydEVycm9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4vY29uZmlnJztcbmltcG9ydCB7IGhvc3RSZXBvcnRFcnJvciB9IGZyb20gJy4vdXRpbC9ob3N0UmVwb3J0RXJyb3InO1xuZXhwb3J0IHZhciBlbXB0eSA9IHtcbiAgICBjbG9zZWQ6IHRydWUsXG4gICAgbmV4dDogZnVuY3Rpb24gKHZhbHVlKSB7IH0sXG4gICAgZXJyb3I6IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBob3N0UmVwb3J0RXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHsgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9ic2VydmVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4vU3Vic2NyaWJlcic7XG52YXIgT3V0ZXJTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKE91dGVyU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBPdXRlclN1YnNjcmliZXIoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgT3V0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlOZXh0ID0gZnVuY3Rpb24gKG91dGVyVmFsdWUsIGlubmVyVmFsdWUsIG91dGVySW5kZXgsIGlubmVySW5kZXgsIGlubmVyU3ViKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChpbm5lclZhbHVlKTtcbiAgICB9O1xuICAgIE91dGVyU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5RXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IsIGlubmVyU3ViKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyb3IpO1xuICAgIH07XG4gICAgT3V0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uIChpbm5lclN1Yikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gT3V0ZXJTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBPdXRlclN1YnNjcmliZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU91dGVyU3Vic2NyaWJlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YmplY3QsX3NjaGVkdWxlcl9xdWV1ZSxfU3Vic2NyaXB0aW9uLF9vcGVyYXRvcnNfb2JzZXJ2ZU9uLF91dGlsX09iamVjdFVuc3Vic2NyaWJlZEVycm9yLF9TdWJqZWN0U3Vic2NyaXB0aW9uIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAnLi9TdWJqZWN0JztcbmltcG9ydCB7IHF1ZXVlIH0gZnJvbSAnLi9zY2hlZHVsZXIvcXVldWUnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgT2JzZXJ2ZU9uU3Vic2NyaWJlciB9IGZyb20gJy4vb3BlcmF0b3JzL29ic2VydmVPbic7XG5pbXBvcnQgeyBPYmplY3RVbnN1YnNjcmliZWRFcnJvciB9IGZyb20gJy4vdXRpbC9PYmplY3RVbnN1YnNjcmliZWRFcnJvcic7XG5pbXBvcnQgeyBTdWJqZWN0U3Vic2NyaXB0aW9uIH0gZnJvbSAnLi9TdWJqZWN0U3Vic2NyaXB0aW9uJztcbnZhciBSZXBsYXlTdWJqZWN0ID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFJlcGxheVN1YmplY3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUmVwbGF5U3ViamVjdChidWZmZXJTaXplLCB3aW5kb3dUaW1lLCBzY2hlZHVsZXIpIHtcbiAgICAgICAgaWYgKGJ1ZmZlclNpemUgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgYnVmZmVyU2l6ZSA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgfVxuICAgICAgICBpZiAod2luZG93VGltZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICB3aW5kb3dUaW1lID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICAgICAgX3RoaXMuX2V2ZW50cyA9IFtdO1xuICAgICAgICBfdGhpcy5faW5maW5pdGVUaW1lV2luZG93ID0gZmFsc2U7XG4gICAgICAgIF90aGlzLl9idWZmZXJTaXplID0gYnVmZmVyU2l6ZSA8IDEgPyAxIDogYnVmZmVyU2l6ZTtcbiAgICAgICAgX3RoaXMuX3dpbmRvd1RpbWUgPSB3aW5kb3dUaW1lIDwgMSA/IDEgOiB3aW5kb3dUaW1lO1xuICAgICAgICBpZiAod2luZG93VGltZSA9PT0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSB7XG4gICAgICAgICAgICBfdGhpcy5faW5maW5pdGVUaW1lV2luZG93ID0gdHJ1ZTtcbiAgICAgICAgICAgIF90aGlzLm5leHQgPSBfdGhpcy5uZXh0SW5maW5pdGVUaW1lV2luZG93O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgX3RoaXMubmV4dCA9IF90aGlzLm5leHRUaW1lV2luZG93O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgUmVwbGF5U3ViamVjdC5wcm90b3R5cGUubmV4dEluZmluaXRlVGltZVdpbmRvdyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB2YXIgX2V2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgICAgICAgIF9ldmVudHMucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICBpZiAoX2V2ZW50cy5sZW5ndGggPiB0aGlzLl9idWZmZXJTaXplKSB7XG4gICAgICAgICAgICAgICAgX2V2ZW50cy5zaGlmdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUubmV4dC5jYWxsKHRoaXMsIHZhbHVlKTtcbiAgICB9O1xuICAgIFJlcGxheVN1YmplY3QucHJvdG90eXBlLm5leHRUaW1lV2luZG93ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50cy5wdXNoKG5ldyBSZXBsYXlFdmVudCh0aGlzLl9nZXROb3coKSwgdmFsdWUpKTtcbiAgICAgICAgICAgIHRoaXMuX3RyaW1CdWZmZXJUaGVuR2V0RXZlbnRzKCk7XG4gICAgICAgIH1cbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5uZXh0LmNhbGwodGhpcywgdmFsdWUpO1xuICAgIH07XG4gICAgUmVwbGF5U3ViamVjdC5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBfaW5maW5pdGVUaW1lV2luZG93ID0gdGhpcy5faW5maW5pdGVUaW1lV2luZG93O1xuICAgICAgICB2YXIgX2V2ZW50cyA9IF9pbmZpbml0ZVRpbWVXaW5kb3cgPyB0aGlzLl9ldmVudHMgOiB0aGlzLl90cmltQnVmZmVyVGhlbkdldEV2ZW50cygpO1xuICAgICAgICB2YXIgc2NoZWR1bGVyID0gdGhpcy5zY2hlZHVsZXI7XG4gICAgICAgIHZhciBsZW4gPSBfZXZlbnRzLmxlbmd0aDtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmlzU3RvcHBlZCB8fCB0aGlzLmhhc0Vycm9yKSB7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBTdWJzY3JpcHRpb24uRU1QVFk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm9ic2VydmVycy5wdXNoKHN1YnNjcmliZXIpO1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gbmV3IFN1YmplY3RTdWJzY3JpcHRpb24odGhpcywgc3Vic2NyaWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjaGVkdWxlcikge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5hZGQoc3Vic2NyaWJlciA9IG5ldyBPYnNlcnZlT25TdWJzY3JpYmVyKHN1YnNjcmliZXIsIHNjaGVkdWxlcikpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfaW5maW5pdGVUaW1lV2luZG93KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbiAmJiAhc3Vic2NyaWJlci5jbG9zZWQ7IGkrKykge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChfZXZlbnRzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuICYmICFzdWJzY3JpYmVyLmNsb3NlZDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KF9ldmVudHNbaV0udmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmhhc0Vycm9yKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKHRoaXMudGhyb3duRXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICB9O1xuICAgIFJlcGxheVN1YmplY3QucHJvdG90eXBlLl9nZXROb3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5zY2hlZHVsZXIgfHwgcXVldWUpLm5vdygpO1xuICAgIH07XG4gICAgUmVwbGF5U3ViamVjdC5wcm90b3R5cGUuX3RyaW1CdWZmZXJUaGVuR2V0RXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbm93ID0gdGhpcy5fZ2V0Tm93KCk7XG4gICAgICAgIHZhciBfYnVmZmVyU2l6ZSA9IHRoaXMuX2J1ZmZlclNpemU7XG4gICAgICAgIHZhciBfd2luZG93VGltZSA9IHRoaXMuX3dpbmRvd1RpbWU7XG4gICAgICAgIHZhciBfZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgICAgICB2YXIgZXZlbnRzQ291bnQgPSBfZXZlbnRzLmxlbmd0aDtcbiAgICAgICAgdmFyIHNwbGljZUNvdW50ID0gMDtcbiAgICAgICAgd2hpbGUgKHNwbGljZUNvdW50IDwgZXZlbnRzQ291bnQpIHtcbiAgICAgICAgICAgIGlmICgobm93IC0gX2V2ZW50c1tzcGxpY2VDb3VudF0udGltZSkgPCBfd2luZG93VGltZSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3BsaWNlQ291bnQrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnRzQ291bnQgPiBfYnVmZmVyU2l6ZSkge1xuICAgICAgICAgICAgc3BsaWNlQ291bnQgPSBNYXRoLm1heChzcGxpY2VDb3VudCwgZXZlbnRzQ291bnQgLSBfYnVmZmVyU2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNwbGljZUNvdW50ID4gMCkge1xuICAgICAgICAgICAgX2V2ZW50cy5zcGxpY2UoMCwgc3BsaWNlQ291bnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfZXZlbnRzO1xuICAgIH07XG4gICAgcmV0dXJuIFJlcGxheVN1YmplY3Q7XG59KFN1YmplY3QpKTtcbmV4cG9ydCB7IFJlcGxheVN1YmplY3QgfTtcbnZhciBSZXBsYXlFdmVudCA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXBsYXlFdmVudCh0aW1lLCB2YWx1ZSkge1xuICAgICAgICB0aGlzLnRpbWUgPSB0aW1lO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBSZXBsYXlFdmVudDtcbn0oKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZXBsYXlTdWJqZWN0LmpzLm1hcFxuIiwidmFyIFNjaGVkdWxlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTY2hlZHVsZXIoU2NoZWR1bGVyQWN0aW9uLCBub3cpIHtcbiAgICAgICAgaWYgKG5vdyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBub3cgPSBTY2hlZHVsZXIubm93O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuU2NoZWR1bGVyQWN0aW9uID0gU2NoZWR1bGVyQWN0aW9uO1xuICAgICAgICB0aGlzLm5vdyA9IG5vdztcbiAgICB9XG4gICAgU2NoZWR1bGVyLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uICh3b3JrLCBkZWxheSwgc3RhdGUpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IHRoaXMuU2NoZWR1bGVyQWN0aW9uKHRoaXMsIHdvcmspLnNjaGVkdWxlKHN0YXRlLCBkZWxheSk7XG4gICAgfTtcbiAgICBTY2hlZHVsZXIubm93ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gRGF0ZS5ub3coKTsgfTtcbiAgICByZXR1cm4gU2NoZWR1bGVyO1xufSgpKTtcbmV4cG9ydCB7IFNjaGVkdWxlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2NoZWR1bGVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfT2JzZXJ2YWJsZSxfU3Vic2NyaWJlcixfU3Vic2NyaXB0aW9uLF91dGlsX09iamVjdFVuc3Vic2NyaWJlZEVycm9yLF9TdWJqZWN0U3Vic2NyaXB0aW9uLF9pbnRlcm5hbF9zeW1ib2xfcnhTdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IgfSBmcm9tICcuL3V0aWwvT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3InO1xuaW1wb3J0IHsgU3ViamVjdFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3ViamVjdFN1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyByeFN1YnNjcmliZXIgYXMgcnhTdWJzY3JpYmVyU3ltYm9sIH0gZnJvbSAnLi4vaW50ZXJuYWwvc3ltYm9sL3J4U3Vic2NyaWJlcic7XG52YXIgU3ViamVjdFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU3ViamVjdFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3ViamVjdFN1YnNjcmliZXIoZGVzdGluYXRpb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZGVzdGluYXRpb247XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFN1YmplY3RTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBTdWJqZWN0U3Vic2NyaWJlciB9O1xudmFyIFN1YmplY3QgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU3ViamVjdCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdWJqZWN0KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5vYnNlcnZlcnMgPSBbXTtcbiAgICAgICAgX3RoaXMuY2xvc2VkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmlzU3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5oYXNFcnJvciA9IGZhbHNlO1xuICAgICAgICBfdGhpcy50aHJvd25FcnJvciA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3ViamVjdC5wcm90b3R5cGVbcnhTdWJzY3JpYmVyU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdWJqZWN0U3Vic2NyaWJlcih0aGlzKTtcbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLmxpZnQgPSBmdW5jdGlvbiAob3BlcmF0b3IpIHtcbiAgICAgICAgdmFyIHN1YmplY3QgPSBuZXcgQW5vbnltb3VzU3ViamVjdCh0aGlzLCB0aGlzKTtcbiAgICAgICAgc3ViamVjdC5vcGVyYXRvciA9IG9wZXJhdG9yO1xuICAgICAgICByZXR1cm4gc3ViamVjdDtcbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB2YXIgb2JzZXJ2ZXJzID0gdGhpcy5vYnNlcnZlcnM7XG4gICAgICAgICAgICB2YXIgbGVuID0gb2JzZXJ2ZXJzLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBjb3B5ID0gb2JzZXJ2ZXJzLnNsaWNlKCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29weVtpXS5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oYXNFcnJvciA9IHRydWU7XG4gICAgICAgIHRoaXMudGhyb3duRXJyb3IgPSBlcnI7XG4gICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgdmFyIG9ic2VydmVycyA9IHRoaXMub2JzZXJ2ZXJzO1xuICAgICAgICB2YXIgbGVuID0gb2JzZXJ2ZXJzLmxlbmd0aDtcbiAgICAgICAgdmFyIGNvcHkgPSBvYnNlcnZlcnMuc2xpY2UoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgY29weVtpXS5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzLmxlbmd0aCA9IDA7XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgIHZhciBvYnNlcnZlcnMgPSB0aGlzLm9ic2VydmVycztcbiAgICAgICAgdmFyIGxlbiA9IG9ic2VydmVycy5sZW5ndGg7XG4gICAgICAgIHZhciBjb3B5ID0gb2JzZXJ2ZXJzLnNsaWNlKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGNvcHlbaV0uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9ic2VydmVycy5sZW5ndGggPSAwO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jbG9zZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLm9ic2VydmVycyA9IG51bGw7XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5fdHJ5U3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLl90cnlTdWJzY3JpYmUuY2FsbCh0aGlzLCBzdWJzY3JpYmVyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5oYXNFcnJvcikge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcih0aGlzLnRocm93bkVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBTdWJzY3JpcHRpb24uRU1QVFk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIHJldHVybiBTdWJzY3JpcHRpb24uRU1QVFk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm9ic2VydmVycy5wdXNoKHN1YnNjcmliZXIpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTdWJqZWN0U3Vic2NyaXB0aW9uKHRoaXMsIHN1YnNjcmliZXIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5hc09ic2VydmFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUoKTtcbiAgICAgICAgb2JzZXJ2YWJsZS5zb3VyY2UgPSB0aGlzO1xuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbiAgICB9O1xuICAgIFN1YmplY3QuY3JlYXRlID0gZnVuY3Rpb24gKGRlc3RpbmF0aW9uLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBbm9ueW1vdXNTdWJqZWN0KGRlc3RpbmF0aW9uLCBzb3VyY2UpO1xuICAgIH07XG4gICAgcmV0dXJuIFN1YmplY3Q7XG59KE9ic2VydmFibGUpKTtcbmV4cG9ydCB7IFN1YmplY3QgfTtcbnZhciBBbm9ueW1vdXNTdWJqZWN0ID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEFub255bW91c1N1YmplY3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQW5vbnltb3VzU3ViamVjdChkZXN0aW5hdGlvbiwgc291cmNlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZGVzdGluYXRpb247XG4gICAgICAgIF90aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBbm9ueW1vdXNTdWJqZWN0LnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGlmIChkZXN0aW5hdGlvbiAmJiBkZXN0aW5hdGlvbi5uZXh0KSB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbi5uZXh0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQW5vbnltb3VzU3ViamVjdC5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGlmIChkZXN0aW5hdGlvbiAmJiBkZXN0aW5hdGlvbi5lcnJvcikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBbm9ueW1vdXNTdWJqZWN0LnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gdGhpcy5kZXN0aW5hdGlvbjtcbiAgICAgICAgaWYgKGRlc3RpbmF0aW9uICYmIGRlc3RpbmF0aW9uLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFub255bW91c1N1YmplY3QucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNvdXJjZS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQW5vbnltb3VzU3ViamVjdDtcbn0oU3ViamVjdCkpO1xuZXhwb3J0IHsgQW5vbnltb3VzU3ViamVjdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3ViamVjdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmlwdGlvbiBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi9TdWJzY3JpcHRpb24nO1xudmFyIFN1YmplY3RTdWJzY3JpcHRpb24gPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU3ViamVjdFN1YnNjcmlwdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdWJqZWN0U3Vic2NyaXB0aW9uKHN1YmplY3QsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc3ViamVjdCA9IHN1YmplY3Q7XG4gICAgICAgIF90aGlzLnN1YnNjcmliZXIgPSBzdWJzY3JpYmVyO1xuICAgICAgICBfdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTdWJqZWN0U3Vic2NyaXB0aW9uLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jbG9zZWQgPSB0cnVlO1xuICAgICAgICB2YXIgc3ViamVjdCA9IHRoaXMuc3ViamVjdDtcbiAgICAgICAgdmFyIG9ic2VydmVycyA9IHN1YmplY3Qub2JzZXJ2ZXJzO1xuICAgICAgICB0aGlzLnN1YmplY3QgPSBudWxsO1xuICAgICAgICBpZiAoIW9ic2VydmVycyB8fCBvYnNlcnZlcnMubGVuZ3RoID09PSAwIHx8IHN1YmplY3QuaXNTdG9wcGVkIHx8IHN1YmplY3QuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN1YnNjcmliZXJJbmRleCA9IG9ic2VydmVycy5pbmRleE9mKHRoaXMuc3Vic2NyaWJlcik7XG4gICAgICAgIGlmIChzdWJzY3JpYmVySW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBvYnNlcnZlcnMuc3BsaWNlKHN1YnNjcmliZXJJbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBTdWJqZWN0U3Vic2NyaXB0aW9uO1xufShTdWJzY3JpcHRpb24pKTtcbmV4cG9ydCB7IFN1YmplY3RTdWJzY3JpcHRpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN1YmplY3RTdWJzY3JpcHRpb24uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF91dGlsX2lzRnVuY3Rpb24sX09ic2VydmVyLF9TdWJzY3JpcHRpb24sX2ludGVybmFsX3N5bWJvbF9yeFN1YnNjcmliZXIsX2NvbmZpZyxfdXRpbF9ob3N0UmVwb3J0RXJyb3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBlbXB0eSBhcyBlbXB0eU9ic2VydmVyIH0gZnJvbSAnLi9PYnNlcnZlcic7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyByeFN1YnNjcmliZXIgYXMgcnhTdWJzY3JpYmVyU3ltYm9sIH0gZnJvbSAnLi4vaW50ZXJuYWwvc3ltYm9sL3J4U3Vic2NyaWJlcic7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyBob3N0UmVwb3J0RXJyb3IgfSBmcm9tICcuL3V0aWwvaG9zdFJlcG9ydEVycm9yJztcbnZhciBTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3Vic2NyaWJlcihkZXN0aW5hdGlvbk9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnN5bmNFcnJvclZhbHVlID0gbnVsbDtcbiAgICAgICAgX3RoaXMuc3luY0Vycm9yVGhyb3duID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnN5bmNFcnJvclRocm93YWJsZSA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5pc1N0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBlbXB0eU9ic2VydmVyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGlmICghZGVzdGluYXRpb25Pck5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBlbXB0eU9ic2VydmVyO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkZXN0aW5hdGlvbk9yTmV4dCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlc3RpbmF0aW9uT3JOZXh0IGluc3RhbmNlb2YgU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3luY0Vycm9yVGhyb3dhYmxlID0gZGVzdGluYXRpb25Pck5leHQuc3luY0Vycm9yVGhyb3dhYmxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBkZXN0aW5hdGlvbk9yTmV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uT3JOZXh0LmFkZChfdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zeW5jRXJyb3JUaHJvd2FibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBuZXcgU2FmZVN1YnNjcmliZXIoX3RoaXMsIGRlc3RpbmF0aW9uT3JOZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIF90aGlzLnN5bmNFcnJvclRocm93YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBuZXcgU2FmZVN1YnNjcmliZXIoX3RoaXMsIGRlc3RpbmF0aW9uT3JOZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGVbcnhTdWJzY3JpYmVyU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG4gICAgU3Vic2NyaWJlci5jcmVhdGUgPSBmdW5jdGlvbiAobmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBzdWJzY3JpYmVyID0gbmV3IFN1YnNjcmliZXIobmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICAgICAgc3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd2FibGUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX25leHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2NvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUudW5zdWJzY3JpYmUuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl91bnN1YnNjcmliZUFuZFJlY3ljbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfcGFyZW50T3JQYXJlbnRzID0gdGhpcy5fcGFyZW50T3JQYXJlbnRzO1xuICAgICAgICB0aGlzLl9wYXJlbnRPclBhcmVudHMgPSBudWxsO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIHRoaXMuY2xvc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNTdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3BhcmVudE9yUGFyZW50cyA9IF9wYXJlbnRPclBhcmVudHM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgcmV0dXJuIFN1YnNjcmliZXI7XG59KFN1YnNjcmlwdGlvbikpO1xuZXhwb3J0IHsgU3Vic2NyaWJlciB9O1xudmFyIFNhZmVTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFNhZmVTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNhZmVTdWJzY3JpYmVyKF9wYXJlbnRTdWJzY3JpYmVyLCBvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9wYXJlbnRTdWJzY3JpYmVyID0gX3BhcmVudFN1YnNjcmliZXI7XG4gICAgICAgIHZhciBuZXh0O1xuICAgICAgICB2YXIgY29udGV4dCA9IF90aGlzO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihvYnNlcnZlck9yTmV4dCkpIHtcbiAgICAgICAgICAgIG5leHQgPSBvYnNlcnZlck9yTmV4dDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvYnNlcnZlck9yTmV4dCkge1xuICAgICAgICAgICAgbmV4dCA9IG9ic2VydmVyT3JOZXh0Lm5leHQ7XG4gICAgICAgICAgICBlcnJvciA9IG9ic2VydmVyT3JOZXh0LmVycm9yO1xuICAgICAgICAgICAgY29tcGxldGUgPSBvYnNlcnZlck9yTmV4dC5jb21wbGV0ZTtcbiAgICAgICAgICAgIGlmIChvYnNlcnZlck9yTmV4dCAhPT0gZW1wdHlPYnNlcnZlcikge1xuICAgICAgICAgICAgICAgIGNvbnRleHQgPSBPYmplY3QuY3JlYXRlKG9ic2VydmVyT3JOZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihjb250ZXh0LnVuc3Vic2NyaWJlKSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5hZGQoY29udGV4dC51bnN1YnNjcmliZS5iaW5kKGNvbnRleHQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGV4dC51bnN1YnNjcmliZSA9IF90aGlzLnVuc3Vic2NyaWJlLmJpbmQoX3RoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIF90aGlzLl9jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgX3RoaXMuX25leHQgPSBuZXh0O1xuICAgICAgICBfdGhpcy5fZXJyb3IgPSBlcnJvcjtcbiAgICAgICAgX3RoaXMuX2NvbXBsZXRlID0gY29tcGxldGU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCAmJiB0aGlzLl9uZXh0KSB7XG4gICAgICAgICAgICB2YXIgX3BhcmVudFN1YnNjcmliZXIgPSB0aGlzLl9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICAgICAgaWYgKCFjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyB8fCAhX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fX3RyeU9yVW5zdWIodGhpcy5fbmV4dCwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fX3RyeU9yU2V0RXJyb3IoX3BhcmVudFN1YnNjcmliZXIsIHRoaXMuX25leHQsIHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB2YXIgX3BhcmVudFN1YnNjcmliZXIgPSB0aGlzLl9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICAgICAgdmFyIHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgPSBjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZztcbiAgICAgICAgICAgIGlmICh0aGlzLl9lcnJvcikge1xuICAgICAgICAgICAgICAgIGlmICghdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyB8fCAhX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX190cnlPclVuc3ViKHRoaXMuX2Vycm9yLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JTZXRFcnJvcihfcGFyZW50U3Vic2NyaWJlciwgdGhpcy5fZXJyb3IsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIGlmICh1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgICAgICAgICBfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JWYWx1ZSA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhvc3RSZXBvcnRFcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdmFyIF9wYXJlbnRTdWJzY3JpYmVyID0gdGhpcy5fcGFyZW50U3Vic2NyaWJlcjtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIHZhciB3cmFwcGVkQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5fY29tcGxldGUuY2FsbChfdGhpcy5fY29udGV4dCk7IH07XG4gICAgICAgICAgICAgICAgaWYgKCFjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyB8fCAhX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX190cnlPclVuc3ViKHdyYXBwZWRDb21wbGV0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX190cnlPclNldEVycm9yKF9wYXJlbnRTdWJzY3JpYmVyLCB3cmFwcGVkQ29tcGxldGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuX190cnlPclVuc3ViID0gZnVuY3Rpb24gKGZuLCB2YWx1ZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm4uY2FsbCh0aGlzLl9jb250ZXh0LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5fX3RyeU9yU2V0RXJyb3IgPSBmdW5jdGlvbiAocGFyZW50LCBmbiwgdmFsdWUpIHtcbiAgICAgICAgaWYgKCFjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdiYWQgY2FsbCcpO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmbi5jYWxsKHRoaXMuX2NvbnRleHQsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQuc3luY0Vycm9yVmFsdWUgPSBlcnI7XG4gICAgICAgICAgICAgICAgcGFyZW50LnN5bmNFcnJvclRocm93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBob3N0UmVwb3J0RXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3BhcmVudFN1YnNjcmliZXIgPSB0aGlzLl9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICB0aGlzLl9jb250ZXh0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcGFyZW50U3Vic2NyaWJlciA9IG51bGw7XG4gICAgICAgIF9wYXJlbnRTdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gU2FmZVN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IFNhZmVTdWJzY3JpYmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJzY3JpYmVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfdXRpbF9pc0FycmF5LF91dGlsX2lzT2JqZWN0LF91dGlsX2lzRnVuY3Rpb24sX3V0aWxfVW5zdWJzY3JpcHRpb25FcnJvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi91dGlsL2lzQXJyYXknO1xuaW1wb3J0IHsgaXNPYmplY3QgfSBmcm9tICcuL3V0aWwvaXNPYmplY3QnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IFVuc3Vic2NyaXB0aW9uRXJyb3IgfSBmcm9tICcuL3V0aWwvVW5zdWJzY3JpcHRpb25FcnJvcic7XG52YXIgU3Vic2NyaXB0aW9uID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN1YnNjcmlwdGlvbih1bnN1YnNjcmliZSkge1xuICAgICAgICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wYXJlbnRPclBhcmVudHMgPSBudWxsO1xuICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25zID0gbnVsbDtcbiAgICAgICAgaWYgKHVuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICB0aGlzLl9jdG9yVW5zdWJzY3JpYmUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fdW5zdWJzY3JpYmUgPSB1bnN1YnNjcmliZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZXJyb3JzO1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2EgPSB0aGlzLCBfcGFyZW50T3JQYXJlbnRzID0gX2EuX3BhcmVudE9yUGFyZW50cywgX2N0b3JVbnN1YnNjcmliZSA9IF9hLl9jdG9yVW5zdWJzY3JpYmUsIF91bnN1YnNjcmliZSA9IF9hLl91bnN1YnNjcmliZSwgX3N1YnNjcmlwdGlvbnMgPSBfYS5fc3Vic2NyaXB0aW9ucztcbiAgICAgICAgdGhpcy5jbG9zZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9wYXJlbnRPclBhcmVudHMgPSBudWxsO1xuICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25zID0gbnVsbDtcbiAgICAgICAgaWYgKF9wYXJlbnRPclBhcmVudHMgaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIF9wYXJlbnRPclBhcmVudHMucmVtb3ZlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF9wYXJlbnRPclBhcmVudHMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBfcGFyZW50T3JQYXJlbnRzLmxlbmd0aDsgKytpbmRleCkge1xuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRfMSA9IF9wYXJlbnRPclBhcmVudHNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIHBhcmVudF8xLnJlbW92ZSh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNGdW5jdGlvbihfdW5zdWJzY3JpYmUpKSB7XG4gICAgICAgICAgICBpZiAoX2N0b3JVbnN1YnNjcmliZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Vuc3Vic2NyaWJlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBfdW5zdWJzY3JpYmUuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JzID0gZSBpbnN0YW5jZW9mIFVuc3Vic2NyaXB0aW9uRXJyb3IgPyBmbGF0dGVuVW5zdWJzY3JpcHRpb25FcnJvcnMoZS5lcnJvcnMpIDogW2VdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpc0FycmF5KF9zdWJzY3JpcHRpb25zKSkge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICAgICAgICB2YXIgbGVuID0gX3N1YnNjcmlwdGlvbnMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgICAgICB2YXIgc3ViID0gX3N1YnNjcmlwdGlvbnNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmIChpc09iamVjdChzdWIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBVbnN1YnNjcmlwdGlvbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzLmNvbmNhdChmbGF0dGVuVW5zdWJzY3JpcHRpb25FcnJvcnMoZS5lcnJvcnMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlcnJvcnMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBVbnN1YnNjcmlwdGlvbkVycm9yKGVycm9ycyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHRlYXJkb3duKSB7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSB0ZWFyZG93bjtcbiAgICAgICAgaWYgKCF0ZWFyZG93bikge1xuICAgICAgICAgICAgcmV0dXJuIFN1YnNjcmlwdGlvbi5FTVBUWTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHR5cGVvZiB0ZWFyZG93bikge1xuICAgICAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IG5ldyBTdWJzY3JpcHRpb24odGVhcmRvd24pO1xuICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uID09PSB0aGlzIHx8IHN1YnNjcmlwdGlvbi5jbG9zZWQgfHwgdHlwZW9mIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIShzdWJzY3JpcHRpb24gaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0bXAgPSBzdWJzY3JpcHRpb247XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLl9zdWJzY3JpcHRpb25zID0gW3RtcF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndW5yZWNvZ25pemVkIHRlYXJkb3duICcgKyB0ZWFyZG93biArICcgYWRkZWQgdG8gU3Vic2NyaXB0aW9uLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBfcGFyZW50T3JQYXJlbnRzID0gc3Vic2NyaXB0aW9uLl9wYXJlbnRPclBhcmVudHM7XG4gICAgICAgIGlmIChfcGFyZW50T3JQYXJlbnRzID09PSBudWxsKSB7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24uX3BhcmVudE9yUGFyZW50cyA9IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoX3BhcmVudE9yUGFyZW50cyBpbnN0YW5jZW9mIFN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgaWYgKF9wYXJlbnRPclBhcmVudHMgPT09IHRoaXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3Vic2NyaXB0aW9uLl9wYXJlbnRPclBhcmVudHMgPSBbX3BhcmVudE9yUGFyZW50cywgdGhpc107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoX3BhcmVudE9yUGFyZW50cy5pbmRleE9mKHRoaXMpID09PSAtMSkge1xuICAgICAgICAgICAgX3BhcmVudE9yUGFyZW50cy5wdXNoKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3Vic2NyaXB0aW9ucyA9IHRoaXMuX3N1YnNjcmlwdGlvbnM7XG4gICAgICAgIGlmIChzdWJzY3JpcHRpb25zID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25zID0gW3N1YnNjcmlwdGlvbl07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb25zLnB1c2goc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb25zID0gdGhpcy5fc3Vic2NyaXB0aW9ucztcbiAgICAgICAgaWYgKHN1YnNjcmlwdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb25JbmRleCA9IHN1YnNjcmlwdGlvbnMuaW5kZXhPZihzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbkluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbnMuc3BsaWNlKHN1YnNjcmlwdGlvbkluZGV4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLkVNUFRZID0gKGZ1bmN0aW9uIChlbXB0eSkge1xuICAgICAgICBlbXB0eS5jbG9zZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gZW1wdHk7XG4gICAgfShuZXcgU3Vic2NyaXB0aW9uKCkpKTtcbiAgICByZXR1cm4gU3Vic2NyaXB0aW9uO1xufSgpKTtcbmV4cG9ydCB7IFN1YnNjcmlwdGlvbiB9O1xuZnVuY3Rpb24gZmxhdHRlblVuc3Vic2NyaXB0aW9uRXJyb3JzKGVycm9ycykge1xuICAgIHJldHVybiBlcnJvcnMucmVkdWNlKGZ1bmN0aW9uIChlcnJzLCBlcnIpIHsgcmV0dXJuIGVycnMuY29uY2F0KChlcnIgaW5zdGFuY2VvZiBVbnN1YnNjcmlwdGlvbkVycm9yKSA/IGVyci5lcnJvcnMgOiBlcnIpOyB9LCBbXSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJzY3JpcHRpb24uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG52YXIgX2VuYWJsZV9zdXBlcl9ncm9zc19tb2RlX3RoYXRfd2lsbF9jYXVzZV9iYWRfdGhpbmdzID0gZmFsc2U7XG5leHBvcnQgdmFyIGNvbmZpZyA9IHtcbiAgICBQcm9taXNlOiB1bmRlZmluZWQsXG4gICAgc2V0IHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgZXJyb3IgPSAvKkBfX1BVUkVfXyovIG5ldyBFcnJvcigpO1xuICAgICAgICAgICAgLypAX19QVVJFX18qLyBjb25zb2xlLndhcm4oJ0RFUFJFQ0FURUQhIFJ4SlMgd2FzIHNldCB0byB1c2UgZGVwcmVjYXRlZCBzeW5jaHJvbm91cyBlcnJvciBoYW5kbGluZyBiZWhhdmlvciBieSBjb2RlIGF0OiBcXG4nICsgZXJyb3Iuc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF9lbmFibGVfc3VwZXJfZ3Jvc3NfbW9kZV90aGF0X3dpbGxfY2F1c2VfYmFkX3RoaW5ncykge1xuICAgICAgICAgICAgLypAX19QVVJFX18qLyBjb25zb2xlLmxvZygnUnhKUzogQmFjayB0byBhIGJldHRlciBlcnJvciBiZWhhdmlvci4gVGhhbmsgeW91LiA8MycpO1xuICAgICAgICB9XG4gICAgICAgIF9lbmFibGVfc3VwZXJfZ3Jvc3NfbW9kZV90aGF0X3dpbGxfY2F1c2VfYmFkX3RoaW5ncyA9IHZhbHVlO1xuICAgIH0sXG4gICAgZ2V0IHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcoKSB7XG4gICAgICAgIHJldHVybiBfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3M7XG4gICAgfSxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25maWcuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyLF9PYnNlcnZhYmxlLF91dGlsX3N1YnNjcmliZVRvIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuL09ic2VydmFibGUnO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG8gfSBmcm9tICcuL3V0aWwvc3Vic2NyaWJlVG8nO1xudmFyIFNpbXBsZUlubmVyU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhTaW1wbGVJbm5lclN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2ltcGxlSW5uZXJTdWJzY3JpYmVyKHBhcmVudCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU2ltcGxlSW5uZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLnBhcmVudC5ub3RpZnlOZXh0KHZhbHVlKTtcbiAgICB9O1xuICAgIFNpbXBsZUlubmVyU3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIHRoaXMucGFyZW50Lm5vdGlmeUVycm9yKGVycm9yKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgU2ltcGxlSW5uZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucGFyZW50Lm5vdGlmeUNvbXBsZXRlKCk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIHJldHVybiBTaW1wbGVJbm5lclN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IFNpbXBsZUlubmVyU3Vic2NyaWJlciB9O1xudmFyIENvbXBsZXhJbm5lclN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQ29tcGxleElubmVyU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDb21wbGV4SW5uZXJTdWJzY3JpYmVyKHBhcmVudCwgb3V0ZXJWYWx1ZSwgb3V0ZXJJbmRleCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIF90aGlzLm91dGVyVmFsdWUgPSBvdXRlclZhbHVlO1xuICAgICAgICBfdGhpcy5vdXRlckluZGV4ID0gb3V0ZXJJbmRleDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBDb21wbGV4SW5uZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLnBhcmVudC5ub3RpZnlOZXh0KHRoaXMub3V0ZXJWYWx1ZSwgdmFsdWUsIHRoaXMub3V0ZXJJbmRleCwgdGhpcyk7XG4gICAgfTtcbiAgICBDb21wbGV4SW5uZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQubm90aWZ5RXJyb3IoZXJyb3IpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBDb21wbGV4SW5uZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucGFyZW50Lm5vdGlmeUNvbXBsZXRlKHRoaXMpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gQ29tcGxleElubmVyU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgQ29tcGxleElubmVyU3Vic2NyaWJlciB9O1xudmFyIFNpbXBsZU91dGVyU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhTaW1wbGVPdXRlclN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2ltcGxlT3V0ZXJTdWJzY3JpYmVyKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIFNpbXBsZU91dGVyU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dCA9IGZ1bmN0aW9uIChpbm5lclZhbHVlKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChpbm5lclZhbHVlKTtcbiAgICB9O1xuICAgIFNpbXBsZU91dGVyU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5RXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICB9O1xuICAgIFNpbXBsZU91dGVyU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5Q29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICB9O1xuICAgIHJldHVybiBTaW1wbGVPdXRlclN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IFNpbXBsZU91dGVyU3Vic2NyaWJlciB9O1xudmFyIENvbXBsZXhPdXRlclN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQ29tcGxleE91dGVyU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDb21wbGV4T3V0ZXJTdWJzY3JpYmVyKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIENvbXBsZXhPdXRlclN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQgPSBmdW5jdGlvbiAoX291dGVyVmFsdWUsIGlubmVyVmFsdWUsIF9vdXRlckluZGV4LCBfaW5uZXJTdWIpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KGlubmVyVmFsdWUpO1xuICAgIH07XG4gICAgQ29tcGxleE91dGVyU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5RXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnJvcik7XG4gICAgfTtcbiAgICBDb21wbGV4T3V0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uIChfaW5uZXJTdWIpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIENvbXBsZXhPdXRlclN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IENvbXBsZXhPdXRlclN1YnNjcmliZXIgfTtcbmV4cG9ydCBmdW5jdGlvbiBpbm5lclN1YnNjcmliZShyZXN1bHQsIGlubmVyU3Vic2NyaWJlcikge1xuICAgIGlmIChpbm5lclN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBPYnNlcnZhYmxlKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQuc3Vic2NyaWJlKGlubmVyU3Vic2NyaWJlcik7XG4gICAgfVxuICAgIHJldHVybiBzdWJzY3JpYmVUbyhyZXN1bHQpKGlubmVyU3Vic2NyaWJlcik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbm5lclN1YnNjcmliZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YmplY3QsX09ic2VydmFibGUsX1N1YnNjcmliZXIsX1N1YnNjcmlwdGlvbixfb3BlcmF0b3JzX3JlZkNvdW50IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJqZWN0U3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YmplY3QnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IHJlZkNvdW50IGFzIGhpZ2hlck9yZGVyUmVmQ291bnQgfSBmcm9tICcuLi9vcGVyYXRvcnMvcmVmQ291bnQnO1xudmFyIENvbm5lY3RhYmxlT2JzZXJ2YWJsZSA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhDb25uZWN0YWJsZU9ic2VydmFibGUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ29ubmVjdGFibGVPYnNlcnZhYmxlKHNvdXJjZSwgc3ViamVjdEZhY3RvcnkpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc291cmNlID0gc291cmNlO1xuICAgICAgICBfdGhpcy5zdWJqZWN0RmFjdG9yeSA9IHN1YmplY3RGYWN0b3J5O1xuICAgICAgICBfdGhpcy5fcmVmQ291bnQgPSAwO1xuICAgICAgICBfdGhpcy5faXNDb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIENvbm5lY3RhYmxlT2JzZXJ2YWJsZS5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFN1YmplY3QoKS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgfTtcbiAgICBDb25uZWN0YWJsZU9ic2VydmFibGUucHJvdG90eXBlLmdldFN1YmplY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdWJqZWN0ID0gdGhpcy5fc3ViamVjdDtcbiAgICAgICAgaWYgKCFzdWJqZWN0IHx8IHN1YmplY3QuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJqZWN0ID0gdGhpcy5zdWJqZWN0RmFjdG9yeSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9zdWJqZWN0O1xuICAgIH07XG4gICAgQ29ubmVjdGFibGVPYnNlcnZhYmxlLnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29ubmVjdGlvbiA9IHRoaXMuX2Nvbm5lY3Rpb247XG4gICAgICAgIGlmICghY29ubmVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5faXNDb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgY29ubmVjdGlvbiA9IHRoaXMuX2Nvbm5lY3Rpb24gPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgICAgICBjb25uZWN0aW9uLmFkZCh0aGlzLnNvdXJjZVxuICAgICAgICAgICAgICAgIC5zdWJzY3JpYmUobmV3IENvbm5lY3RhYmxlU3Vic2NyaWJlcih0aGlzLmdldFN1YmplY3QoKSwgdGhpcykpKTtcbiAgICAgICAgICAgIGlmIChjb25uZWN0aW9uLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Nvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24gPSBTdWJzY3JpcHRpb24uRU1QVFk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb247XG4gICAgfTtcbiAgICBDb25uZWN0YWJsZU9ic2VydmFibGUucHJvdG90eXBlLnJlZkNvdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gaGlnaGVyT3JkZXJSZWZDb3VudCgpKHRoaXMpO1xuICAgIH07XG4gICAgcmV0dXJuIENvbm5lY3RhYmxlT2JzZXJ2YWJsZTtcbn0oT2JzZXJ2YWJsZSkpO1xuZXhwb3J0IHsgQ29ubmVjdGFibGVPYnNlcnZhYmxlIH07XG5leHBvcnQgdmFyIGNvbm5lY3RhYmxlT2JzZXJ2YWJsZURlc2NyaXB0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNvbm5lY3RhYmxlUHJvdG8gPSBDb25uZWN0YWJsZU9ic2VydmFibGUucHJvdG90eXBlO1xuICAgIHJldHVybiB7XG4gICAgICAgIG9wZXJhdG9yOiB7IHZhbHVlOiBudWxsIH0sXG4gICAgICAgIF9yZWZDb3VudDogeyB2YWx1ZTogMCwgd3JpdGFibGU6IHRydWUgfSxcbiAgICAgICAgX3N1YmplY3Q6IHsgdmFsdWU6IG51bGwsIHdyaXRhYmxlOiB0cnVlIH0sXG4gICAgICAgIF9jb25uZWN0aW9uOiB7IHZhbHVlOiBudWxsLCB3cml0YWJsZTogdHJ1ZSB9LFxuICAgICAgICBfc3Vic2NyaWJlOiB7IHZhbHVlOiBjb25uZWN0YWJsZVByb3RvLl9zdWJzY3JpYmUgfSxcbiAgICAgICAgX2lzQ29tcGxldGU6IHsgdmFsdWU6IGNvbm5lY3RhYmxlUHJvdG8uX2lzQ29tcGxldGUsIHdyaXRhYmxlOiB0cnVlIH0sXG4gICAgICAgIGdldFN1YmplY3Q6IHsgdmFsdWU6IGNvbm5lY3RhYmxlUHJvdG8uZ2V0U3ViamVjdCB9LFxuICAgICAgICBjb25uZWN0OiB7IHZhbHVlOiBjb25uZWN0YWJsZVByb3RvLmNvbm5lY3QgfSxcbiAgICAgICAgcmVmQ291bnQ6IHsgdmFsdWU6IGNvbm5lY3RhYmxlUHJvdG8ucmVmQ291bnQgfVxuICAgIH07XG59KSgpO1xudmFyIENvbm5lY3RhYmxlU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhDb25uZWN0YWJsZVN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ29ubmVjdGFibGVTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBjb25uZWN0YWJsZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuY29ubmVjdGFibGUgPSBjb25uZWN0YWJsZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBDb25uZWN0YWJsZVN1YnNjcmliZXIucHJvdG90eXBlLl9lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgdGhpcy5fdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5fZXJyb3IuY2FsbCh0aGlzLCBlcnIpO1xuICAgIH07XG4gICAgQ29ubmVjdGFibGVTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY29ubmVjdGFibGUuX2lzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICB0aGlzLl91bnN1YnNjcmliZSgpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLl9jb21wbGV0ZS5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgQ29ubmVjdGFibGVTdWJzY3JpYmVyLnByb3RvdHlwZS5fdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb25uZWN0YWJsZSA9IHRoaXMuY29ubmVjdGFibGU7XG4gICAgICAgIGlmIChjb25uZWN0YWJsZSkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0YWJsZSA9IG51bGw7XG4gICAgICAgICAgICB2YXIgY29ubmVjdGlvbiA9IGNvbm5lY3RhYmxlLl9jb25uZWN0aW9uO1xuICAgICAgICAgICAgY29ubmVjdGFibGUuX3JlZkNvdW50ID0gMDtcbiAgICAgICAgICAgIGNvbm5lY3RhYmxlLl9zdWJqZWN0ID0gbnVsbDtcbiAgICAgICAgICAgIGNvbm5lY3RhYmxlLl9jb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChjb25uZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQ29ubmVjdGFibGVTdWJzY3JpYmVyO1xufShTdWJqZWN0U3Vic2NyaWJlcikpO1xudmFyIFJlZkNvdW50T3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVmQ291bnRPcGVyYXRvcihjb25uZWN0YWJsZSkge1xuICAgICAgICB0aGlzLmNvbm5lY3RhYmxlID0gY29ubmVjdGFibGU7XG4gICAgfVxuICAgIFJlZkNvdW50T3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHZhciBjb25uZWN0YWJsZSA9IHRoaXMuY29ubmVjdGFibGU7XG4gICAgICAgIGNvbm5lY3RhYmxlLl9yZWZDb3VudCsrO1xuICAgICAgICB2YXIgcmVmQ291bnRlciA9IG5ldyBSZWZDb3VudFN1YnNjcmliZXIoc3Vic2NyaWJlciwgY29ubmVjdGFibGUpO1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gc291cmNlLnN1YnNjcmliZShyZWZDb3VudGVyKTtcbiAgICAgICAgaWYgKCFyZWZDb3VudGVyLmNsb3NlZCkge1xuICAgICAgICAgICAgcmVmQ291bnRlci5jb25uZWN0aW9uID0gY29ubmVjdGFibGUuY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgfTtcbiAgICByZXR1cm4gUmVmQ291bnRPcGVyYXRvcjtcbn0oKSk7XG52YXIgUmVmQ291bnRTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFJlZkNvdW50U3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBSZWZDb3VudFN1YnNjcmliZXIoZGVzdGluYXRpb24sIGNvbm5lY3RhYmxlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5jb25uZWN0YWJsZSA9IGNvbm5lY3RhYmxlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFJlZkNvdW50U3Vic2NyaWJlci5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29ubmVjdGFibGUgPSB0aGlzLmNvbm5lY3RhYmxlO1xuICAgICAgICBpZiAoIWNvbm5lY3RhYmxlKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29ubmVjdGFibGUgPSBudWxsO1xuICAgICAgICB2YXIgcmVmQ291bnQgPSBjb25uZWN0YWJsZS5fcmVmQ291bnQ7XG4gICAgICAgIGlmIChyZWZDb3VudCA8PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbm5lY3RhYmxlLl9yZWZDb3VudCA9IHJlZkNvdW50IC0gMTtcbiAgICAgICAgaWYgKHJlZkNvdW50ID4gMSkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29ubmVjdGlvbiA9IHRoaXMuY29ubmVjdGlvbjtcbiAgICAgICAgdmFyIHNoYXJlZENvbm5lY3Rpb24gPSBjb25uZWN0YWJsZS5fY29ubmVjdGlvbjtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgaWYgKHNoYXJlZENvbm5lY3Rpb24gJiYgKCFjb25uZWN0aW9uIHx8IHNoYXJlZENvbm5lY3Rpb24gPT09IGNvbm5lY3Rpb24pKSB7XG4gICAgICAgICAgICBzaGFyZWRDb25uZWN0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBSZWZDb3VudFN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbm5lY3RhYmxlT2JzZXJ2YWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX09ic2VydmFibGUsX3NjaGVkdWxlcl9hc2FwLF91dGlsX2lzTnVtZXJpYyBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgYXNhcCB9IGZyb20gJy4uL3NjaGVkdWxlci9hc2FwJztcbmltcG9ydCB7IGlzTnVtZXJpYyB9IGZyb20gJy4uL3V0aWwvaXNOdW1lcmljJztcbnZhciBTdWJzY3JpYmVPbk9ic2VydmFibGUgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU3Vic2NyaWJlT25PYnNlcnZhYmxlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN1YnNjcmliZU9uT2JzZXJ2YWJsZShzb3VyY2UsIGRlbGF5VGltZSwgc2NoZWR1bGVyKSB7XG4gICAgICAgIGlmIChkZWxheVRpbWUgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXlUaW1lID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2NoZWR1bGVyID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHNjaGVkdWxlciA9IGFzYXA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc291cmNlID0gc291cmNlO1xuICAgICAgICBfdGhpcy5kZWxheVRpbWUgPSBkZWxheVRpbWU7XG4gICAgICAgIF90aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICAgICAgaWYgKCFpc051bWVyaWMoZGVsYXlUaW1lKSB8fCBkZWxheVRpbWUgPCAwKSB7XG4gICAgICAgICAgICBfdGhpcy5kZWxheVRpbWUgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc2NoZWR1bGVyIHx8IHR5cGVvZiBzY2hlZHVsZXIuc2NoZWR1bGUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIF90aGlzLnNjaGVkdWxlciA9IGFzYXA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTdWJzY3JpYmVPbk9ic2VydmFibGUuY3JlYXRlID0gZnVuY3Rpb24gKHNvdXJjZSwgZGVsYXksIHNjaGVkdWxlcikge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzY2hlZHVsZXIgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgc2NoZWR1bGVyID0gYXNhcDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFN1YnNjcmliZU9uT2JzZXJ2YWJsZShzb3VyY2UsIGRlbGF5LCBzY2hlZHVsZXIpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlT25PYnNlcnZhYmxlLmRpc3BhdGNoID0gZnVuY3Rpb24gKGFyZykge1xuICAgICAgICB2YXIgc291cmNlID0gYXJnLnNvdXJjZSwgc3Vic2NyaWJlciA9IGFyZy5zdWJzY3JpYmVyO1xuICAgICAgICByZXR1cm4gdGhpcy5hZGQoc291cmNlLnN1YnNjcmliZShzdWJzY3JpYmVyKSk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVPbk9ic2VydmFibGUucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgZGVsYXkgPSB0aGlzLmRlbGF5VGltZTtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICB2YXIgc2NoZWR1bGVyID0gdGhpcy5zY2hlZHVsZXI7XG4gICAgICAgIHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGUoU3Vic2NyaWJlT25PYnNlcnZhYmxlLmRpc3BhdGNoLCBkZWxheSwge1xuICAgICAgICAgICAgc291cmNlOiBzb3VyY2UsIHN1YnNjcmliZXI6IHN1YnNjcmliZXJcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gU3Vic2NyaWJlT25PYnNlcnZhYmxlO1xufShPYnNlcnZhYmxlKSk7XG5leHBvcnQgeyBTdWJzY3JpYmVPbk9ic2VydmFibGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN1YnNjcmliZU9uT2JzZXJ2YWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX0FzeW5jU3ViamVjdCxfb3BlcmF0b3JzX21hcCxfdXRpbF9jYW5SZXBvcnRFcnJvcixfdXRpbF9pc0FycmF5LF91dGlsX2lzU2NoZWR1bGVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IEFzeW5jU3ViamVjdCB9IGZyb20gJy4uL0FzeW5jU3ViamVjdCc7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICcuLi9vcGVyYXRvcnMvbWFwJztcbmltcG9ydCB7IGNhblJlcG9ydEVycm9yIH0gZnJvbSAnLi4vdXRpbC9jYW5SZXBvcnRFcnJvcic7XG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vdXRpbC9pc0FycmF5JztcbmltcG9ydCB7IGlzU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9pc1NjaGVkdWxlcic7XG5leHBvcnQgZnVuY3Rpb24gYmluZENhbGxiYWNrKGNhbGxiYWNrRnVuYywgcmVzdWx0U2VsZWN0b3IsIHNjaGVkdWxlcikge1xuICAgIGlmIChyZXN1bHRTZWxlY3Rvcikge1xuICAgICAgICBpZiAoaXNTY2hlZHVsZXIocmVzdWx0U2VsZWN0b3IpKSB7XG4gICAgICAgICAgICBzY2hlZHVsZXIgPSByZXN1bHRTZWxlY3RvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBiaW5kQ2FsbGJhY2soY2FsbGJhY2tGdW5jLCBzY2hlZHVsZXIpLmFwcGx5KHZvaWQgMCwgYXJncykucGlwZShtYXAoZnVuY3Rpb24gKGFyZ3MpIHsgcmV0dXJuIGlzQXJyYXkoYXJncykgPyByZXN1bHRTZWxlY3Rvci5hcHBseSh2b2lkIDAsIGFyZ3MpIDogcmVzdWx0U2VsZWN0b3IoYXJncyk7IH0pKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgICAgIHZhciBzdWJqZWN0O1xuICAgICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICAgICAgY29udGV4dDogY29udGV4dCxcbiAgICAgICAgICAgIHN1YmplY3Q6IHN1YmplY3QsXG4gICAgICAgICAgICBjYWxsYmFja0Z1bmM6IGNhbGxiYWNrRnVuYyxcbiAgICAgICAgICAgIHNjaGVkdWxlcjogc2NoZWR1bGVyLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIGlmICghc2NoZWR1bGVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzdWJqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YmplY3QgPSBuZXcgQXN5bmNTdWJqZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlubmVyQXJncyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbm5lckFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YmplY3QubmV4dChpbm5lckFyZ3MubGVuZ3RoIDw9IDEgPyBpbm5lckFyZ3NbMF0gOiBpbm5lckFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3ViamVjdC5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tGdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MuY29uY2F0KFtoYW5kbGVyXSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYW5SZXBvcnRFcnJvcihzdWJqZWN0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YmplY3QuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzdWJqZWN0LnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBzdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgYXJnczogYXJncywgc3Vic2NyaWJlcjogc3Vic2NyaWJlciwgcGFyYW1zOiBwYXJhbXMsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVyLnNjaGVkdWxlKGRpc3BhdGNoLCAwLCBzdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG59XG5mdW5jdGlvbiBkaXNwYXRjaChzdGF0ZSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBhcmdzID0gc3RhdGUuYXJncywgc3Vic2NyaWJlciA9IHN0YXRlLnN1YnNjcmliZXIsIHBhcmFtcyA9IHN0YXRlLnBhcmFtcztcbiAgICB2YXIgY2FsbGJhY2tGdW5jID0gcGFyYW1zLmNhbGxiYWNrRnVuYywgY29udGV4dCA9IHBhcmFtcy5jb250ZXh0LCBzY2hlZHVsZXIgPSBwYXJhbXMuc2NoZWR1bGVyO1xuICAgIHZhciBzdWJqZWN0ID0gcGFyYW1zLnN1YmplY3Q7XG4gICAgaWYgKCFzdWJqZWN0KSB7XG4gICAgICAgIHN1YmplY3QgPSBwYXJhbXMuc3ViamVjdCA9IG5ldyBBc3luY1N1YmplY3QoKTtcbiAgICAgICAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaW5uZXJBcmdzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIGlubmVyQXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHZhbHVlID0gaW5uZXJBcmdzLmxlbmd0aCA8PSAxID8gaW5uZXJBcmdzWzBdIDogaW5uZXJBcmdzO1xuICAgICAgICAgICAgX3RoaXMuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaE5leHQsIDAsIHsgdmFsdWU6IHZhbHVlLCBzdWJqZWN0OiBzdWJqZWN0IH0pKTtcbiAgICAgICAgfTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNhbGxiYWNrRnVuYy5hcHBseShjb250ZXh0LCBhcmdzLmNvbmNhdChbaGFuZGxlcl0pKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBzdWJqZWN0LmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5hZGQoc3ViamVjdC5zdWJzY3JpYmUoc3Vic2NyaWJlcikpO1xufVxuZnVuY3Rpb24gZGlzcGF0Y2hOZXh0KHN0YXRlKSB7XG4gICAgdmFyIHZhbHVlID0gc3RhdGUudmFsdWUsIHN1YmplY3QgPSBzdGF0ZS5zdWJqZWN0O1xuICAgIHN1YmplY3QubmV4dCh2YWx1ZSk7XG4gICAgc3ViamVjdC5jb21wbGV0ZSgpO1xufVxuZnVuY3Rpb24gZGlzcGF0Y2hFcnJvcihzdGF0ZSkge1xuICAgIHZhciBlcnIgPSBzdGF0ZS5lcnIsIHN1YmplY3QgPSBzdGF0ZS5zdWJqZWN0O1xuICAgIHN1YmplY3QuZXJyb3IoZXJyKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJpbmRDYWxsYmFjay5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX0FzeW5jU3ViamVjdCxfb3BlcmF0b3JzX21hcCxfdXRpbF9jYW5SZXBvcnRFcnJvcixfdXRpbF9pc1NjaGVkdWxlcixfdXRpbF9pc0FycmF5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IEFzeW5jU3ViamVjdCB9IGZyb20gJy4uL0FzeW5jU3ViamVjdCc7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICcuLi9vcGVyYXRvcnMvbWFwJztcbmltcG9ydCB7IGNhblJlcG9ydEVycm9yIH0gZnJvbSAnLi4vdXRpbC9jYW5SZXBvcnRFcnJvcic7XG5pbXBvcnQgeyBpc1NjaGVkdWxlciB9IGZyb20gJy4uL3V0aWwvaXNTY2hlZHVsZXInO1xuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheSc7XG5leHBvcnQgZnVuY3Rpb24gYmluZE5vZGVDYWxsYmFjayhjYWxsYmFja0Z1bmMsIHJlc3VsdFNlbGVjdG9yLCBzY2hlZHVsZXIpIHtcbiAgICBpZiAocmVzdWx0U2VsZWN0b3IpIHtcbiAgICAgICAgaWYgKGlzU2NoZWR1bGVyKHJlc3VsdFNlbGVjdG9yKSkge1xuICAgICAgICAgICAgc2NoZWR1bGVyID0gcmVzdWx0U2VsZWN0b3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYmluZE5vZGVDYWxsYmFjayhjYWxsYmFja0Z1bmMsIHNjaGVkdWxlcikuYXBwbHkodm9pZCAwLCBhcmdzKS5waXBlKG1hcChmdW5jdGlvbiAoYXJncykgeyByZXR1cm4gaXNBcnJheShhcmdzKSA/IHJlc3VsdFNlbGVjdG9yLmFwcGx5KHZvaWQgMCwgYXJncykgOiByZXN1bHRTZWxlY3RvcihhcmdzKTsgfSkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgICAgICBzdWJqZWN0OiB1bmRlZmluZWQsXG4gICAgICAgICAgICBhcmdzOiBhcmdzLFxuICAgICAgICAgICAgY2FsbGJhY2tGdW5jOiBjYWxsYmFja0Z1bmMsXG4gICAgICAgICAgICBzY2hlZHVsZXI6IHNjaGVkdWxlcixcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICAgICAgdmFyIGNvbnRleHQgPSBwYXJhbXMuY29udGV4dDtcbiAgICAgICAgICAgIHZhciBzdWJqZWN0ID0gcGFyYW1zLnN1YmplY3Q7XG4gICAgICAgICAgICBpZiAoIXNjaGVkdWxlcikge1xuICAgICAgICAgICAgICAgIGlmICghc3ViamVjdCkge1xuICAgICAgICAgICAgICAgICAgICBzdWJqZWN0ID0gcGFyYW1zLnN1YmplY3QgPSBuZXcgQXN5bmNTdWJqZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlubmVyQXJncyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbm5lckFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnIgPSBpbm5lckFyZ3Muc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJqZWN0LmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc3ViamVjdC5uZXh0KGlubmVyQXJncy5sZW5ndGggPD0gMSA/IGlubmVyQXJnc1swXSA6IGlubmVyQXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJqZWN0LmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja0Z1bmMuYXBwbHkoY29udGV4dCwgYXJncy5jb25jYXQoW2hhbmRsZXJdKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhblJlcG9ydEVycm9yKHN1YmplY3QpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViamVjdC5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1YmplY3Quc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaCwgMCwgeyBwYXJhbXM6IHBhcmFtcywgc3Vic2NyaWJlcjogc3Vic2NyaWJlciwgY29udGV4dDogY29udGV4dCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGRpc3BhdGNoKHN0YXRlKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgcGFyYW1zID0gc3RhdGUucGFyYW1zLCBzdWJzY3JpYmVyID0gc3RhdGUuc3Vic2NyaWJlciwgY29udGV4dCA9IHN0YXRlLmNvbnRleHQ7XG4gICAgdmFyIGNhbGxiYWNrRnVuYyA9IHBhcmFtcy5jYWxsYmFja0Z1bmMsIGFyZ3MgPSBwYXJhbXMuYXJncywgc2NoZWR1bGVyID0gcGFyYW1zLnNjaGVkdWxlcjtcbiAgICB2YXIgc3ViamVjdCA9IHBhcmFtcy5zdWJqZWN0O1xuICAgIGlmICghc3ViamVjdCkge1xuICAgICAgICBzdWJqZWN0ID0gcGFyYW1zLnN1YmplY3QgPSBuZXcgQXN5bmNTdWJqZWN0KCk7XG4gICAgICAgIHZhciBoYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGlubmVyQXJncyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICBpbm5lckFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBlcnIgPSBpbm5lckFyZ3Muc2hpZnQoKTtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGRpc3BhdGNoRXJyb3IsIDAsIHsgZXJyOiBlcnIsIHN1YmplY3Q6IHN1YmplY3QgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gaW5uZXJBcmdzLmxlbmd0aCA8PSAxID8gaW5uZXJBcmdzWzBdIDogaW5uZXJBcmdzO1xuICAgICAgICAgICAgICAgIF90aGlzLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZGlzcGF0Y2hOZXh0LCAwLCB7IHZhbHVlOiB2YWx1ZSwgc3ViamVjdDogc3ViamVjdCB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjYWxsYmFja0Z1bmMuYXBwbHkoY29udGV4dCwgYXJncy5jb25jYXQoW2hhbmRsZXJdKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGRpc3BhdGNoRXJyb3IsIDAsIHsgZXJyOiBlcnIsIHN1YmplY3Q6IHN1YmplY3QgfSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRoaXMuYWRkKHN1YmplY3Quc3Vic2NyaWJlKHN1YnNjcmliZXIpKTtcbn1cbmZ1bmN0aW9uIGRpc3BhdGNoTmV4dChhcmcpIHtcbiAgICB2YXIgdmFsdWUgPSBhcmcudmFsdWUsIHN1YmplY3QgPSBhcmcuc3ViamVjdDtcbiAgICBzdWJqZWN0Lm5leHQodmFsdWUpO1xuICAgIHN1YmplY3QuY29tcGxldGUoKTtcbn1cbmZ1bmN0aW9uIGRpc3BhdGNoRXJyb3IoYXJnKSB7XG4gICAgdmFyIGVyciA9IGFyZy5lcnIsIHN1YmplY3QgPSBhcmcuc3ViamVjdDtcbiAgICBzdWJqZWN0LmVycm9yKGVycik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iaW5kTm9kZUNhbGxiYWNrLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfdXRpbF9pc1NjaGVkdWxlcixfdXRpbF9pc0FycmF5LF9PdXRlclN1YnNjcmliZXIsX3V0aWxfc3Vic2NyaWJlVG9SZXN1bHQsX2Zyb21BcnJheSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgaXNTY2hlZHVsZXIgfSBmcm9tICcuLi91dGlsL2lzU2NoZWR1bGVyJztcbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuLi91dGlsL2lzQXJyYXknO1xuaW1wb3J0IHsgT3V0ZXJTdWJzY3JpYmVyIH0gZnJvbSAnLi4vT3V0ZXJTdWJzY3JpYmVyJztcbmltcG9ydCB7IHN1YnNjcmliZVRvUmVzdWx0IH0gZnJvbSAnLi4vdXRpbC9zdWJzY3JpYmVUb1Jlc3VsdCc7XG5pbXBvcnQgeyBmcm9tQXJyYXkgfSBmcm9tICcuL2Zyb21BcnJheSc7XG52YXIgTk9ORSA9IHt9O1xuZXhwb3J0IGZ1bmN0aW9uIGNvbWJpbmVMYXRlc3QoKSB7XG4gICAgdmFyIG9ic2VydmFibGVzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgb2JzZXJ2YWJsZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHJlc3VsdFNlbGVjdG9yID0gdW5kZWZpbmVkO1xuICAgIHZhciBzY2hlZHVsZXIgPSB1bmRlZmluZWQ7XG4gICAgaWYgKGlzU2NoZWR1bGVyKG9ic2VydmFibGVzW29ic2VydmFibGVzLmxlbmd0aCAtIDFdKSkge1xuICAgICAgICBzY2hlZHVsZXIgPSBvYnNlcnZhYmxlcy5wb3AoKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvYnNlcnZhYmxlc1tvYnNlcnZhYmxlcy5sZW5ndGggLSAxXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXN1bHRTZWxlY3RvciA9IG9ic2VydmFibGVzLnBvcCgpO1xuICAgIH1cbiAgICBpZiAob2JzZXJ2YWJsZXMubGVuZ3RoID09PSAxICYmIGlzQXJyYXkob2JzZXJ2YWJsZXNbMF0pKSB7XG4gICAgICAgIG9ic2VydmFibGVzID0gb2JzZXJ2YWJsZXNbMF07XG4gICAgfVxuICAgIHJldHVybiBmcm9tQXJyYXkob2JzZXJ2YWJsZXMsIHNjaGVkdWxlcikubGlmdChuZXcgQ29tYmluZUxhdGVzdE9wZXJhdG9yKHJlc3VsdFNlbGVjdG9yKSk7XG59XG52YXIgQ29tYmluZUxhdGVzdE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbWJpbmVMYXRlc3RPcGVyYXRvcihyZXN1bHRTZWxlY3Rvcikge1xuICAgICAgICB0aGlzLnJlc3VsdFNlbGVjdG9yID0gcmVzdWx0U2VsZWN0b3I7XG4gICAgfVxuICAgIENvbWJpbmVMYXRlc3RPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IENvbWJpbmVMYXRlc3RTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMucmVzdWx0U2VsZWN0b3IpKTtcbiAgICB9O1xuICAgIHJldHVybiBDb21iaW5lTGF0ZXN0T3BlcmF0b3I7XG59KCkpO1xuZXhwb3J0IHsgQ29tYmluZUxhdGVzdE9wZXJhdG9yIH07XG52YXIgQ29tYmluZUxhdGVzdFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQ29tYmluZUxhdGVzdFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ29tYmluZUxhdGVzdFN1YnNjcmliZXIoZGVzdGluYXRpb24sIHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5yZXN1bHRTZWxlY3RvciA9IHJlc3VsdFNlbGVjdG9yO1xuICAgICAgICBfdGhpcy5hY3RpdmUgPSAwO1xuICAgICAgICBfdGhpcy52YWx1ZXMgPSBbXTtcbiAgICAgICAgX3RoaXMub2JzZXJ2YWJsZXMgPSBbXTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBDb21iaW5lTGF0ZXN0U3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAob2JzZXJ2YWJsZSkge1xuICAgICAgICB0aGlzLnZhbHVlcy5wdXNoKE5PTkUpO1xuICAgICAgICB0aGlzLm9ic2VydmFibGVzLnB1c2gob2JzZXJ2YWJsZSk7XG4gICAgfTtcbiAgICBDb21iaW5lTGF0ZXN0U3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb2JzZXJ2YWJsZXMgPSB0aGlzLm9ic2VydmFibGVzO1xuICAgICAgICB2YXIgbGVuID0gb2JzZXJ2YWJsZXMubGVuZ3RoO1xuICAgICAgICBpZiAobGVuID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGxlbjtcbiAgICAgICAgICAgIHRoaXMudG9SZXNwb25kID0gbGVuO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBvYnNlcnZhYmxlID0gb2JzZXJ2YWJsZXNbaV07XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQoc3Vic2NyaWJlVG9SZXN1bHQodGhpcywgb2JzZXJ2YWJsZSwgdW5kZWZpbmVkLCBpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvbWJpbmVMYXRlc3RTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uICh1bnVzZWQpIHtcbiAgICAgICAgaWYgKCh0aGlzLmFjdGl2ZSAtPSAxKSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDb21iaW5lTGF0ZXN0U3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dCA9IGZ1bmN0aW9uIChfb3V0ZXJWYWx1ZSwgaW5uZXJWYWx1ZSwgb3V0ZXJJbmRleCkge1xuICAgICAgICB2YXIgdmFsdWVzID0gdGhpcy52YWx1ZXM7XG4gICAgICAgIHZhciBvbGRWYWwgPSB2YWx1ZXNbb3V0ZXJJbmRleF07XG4gICAgICAgIHZhciB0b1Jlc3BvbmQgPSAhdGhpcy50b1Jlc3BvbmRcbiAgICAgICAgICAgID8gMFxuICAgICAgICAgICAgOiBvbGRWYWwgPT09IE5PTkUgPyAtLXRoaXMudG9SZXNwb25kIDogdGhpcy50b1Jlc3BvbmQ7XG4gICAgICAgIHZhbHVlc1tvdXRlckluZGV4XSA9IGlubmVyVmFsdWU7XG4gICAgICAgIGlmICh0b1Jlc3BvbmQgPT09IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlc3VsdFNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJ5UmVzdWx0U2VsZWN0b3IodmFsdWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh2YWx1ZXMuc2xpY2UoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvbWJpbmVMYXRlc3RTdWJzY3JpYmVyLnByb3RvdHlwZS5fdHJ5UmVzdWx0U2VsZWN0b3IgPSBmdW5jdGlvbiAodmFsdWVzKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLnJlc3VsdFNlbGVjdG9yLmFwcGx5KHRoaXMsIHZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChyZXN1bHQpO1xuICAgIH07XG4gICAgcmV0dXJuIENvbWJpbmVMYXRlc3RTdWJzY3JpYmVyO1xufShPdXRlclN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IENvbWJpbmVMYXRlc3RTdWJzY3JpYmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21iaW5lTGF0ZXN0LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfb2YsX29wZXJhdG9yc19jb25jYXRBbGwgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgb2YgfSBmcm9tICcuL29mJztcbmltcG9ydCB7IGNvbmNhdEFsbCB9IGZyb20gJy4uL29wZXJhdG9ycy9jb25jYXRBbGwnO1xuZXhwb3J0IGZ1bmN0aW9uIGNvbmNhdCgpIHtcbiAgICB2YXIgb2JzZXJ2YWJsZXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBvYnNlcnZhYmxlc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gY29uY2F0QWxsKCkob2YuYXBwbHkodm9pZCAwLCBvYnNlcnZhYmxlcykpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uY2F0LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfZnJvbSxfZW1wdHkgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgZnJvbSB9IGZyb20gJy4vZnJvbSc7XG5pbXBvcnQgeyBlbXB0eSB9IGZyb20gJy4vZW1wdHknO1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmVyKG9ic2VydmFibGVGYWN0b3J5KSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBpbnB1dDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlucHV0ID0gb2JzZXJ2YWJsZUZhY3RvcnkoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzb3VyY2UgPSBpbnB1dCA/IGZyb20oaW5wdXQpIDogZW1wdHkoKTtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWZlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuZXhwb3J0IHZhciBFTVBUWSA9IC8qQF9fUFVSRV9fKi8gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSk7XG5leHBvcnQgZnVuY3Rpb24gZW1wdHkoc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIHNjaGVkdWxlciA/IGVtcHR5U2NoZWR1bGVkKHNjaGVkdWxlcikgOiBFTVBUWTtcbn1cbmZ1bmN0aW9uIGVtcHR5U2NoZWR1bGVkKHNjaGVkdWxlcikge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikgeyByZXR1cm4gc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSk7IH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW1wdHkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF91dGlsX2lzQXJyYXksX29wZXJhdG9yc19tYXAsX3V0aWxfaXNPYmplY3QsX2Zyb20gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheSc7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICcuLi9vcGVyYXRvcnMvbWFwJztcbmltcG9ydCB7IGlzT2JqZWN0IH0gZnJvbSAnLi4vdXRpbC9pc09iamVjdCc7XG5pbXBvcnQgeyBmcm9tIH0gZnJvbSAnLi9mcm9tJztcbmV4cG9ydCBmdW5jdGlvbiBmb3JrSm9pbigpIHtcbiAgICB2YXIgc291cmNlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHNvdXJjZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgaWYgKHNvdXJjZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHZhciBmaXJzdF8xID0gc291cmNlc1swXTtcbiAgICAgICAgaWYgKGlzQXJyYXkoZmlyc3RfMSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmb3JrSm9pbkludGVybmFsKGZpcnN0XzEsIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc09iamVjdChmaXJzdF8xKSAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZmlyc3RfMSkgPT09IE9iamVjdC5wcm90b3R5cGUpIHtcbiAgICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZmlyc3RfMSk7XG4gICAgICAgICAgICByZXR1cm4gZm9ya0pvaW5JbnRlcm5hbChrZXlzLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBmaXJzdF8xW2tleV07IH0pLCBrZXlzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZW9mIHNvdXJjZXNbc291cmNlcy5sZW5ndGggLSAxXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YXIgcmVzdWx0U2VsZWN0b3JfMSA9IHNvdXJjZXMucG9wKCk7XG4gICAgICAgIHNvdXJjZXMgPSAoc291cmNlcy5sZW5ndGggPT09IDEgJiYgaXNBcnJheShzb3VyY2VzWzBdKSkgPyBzb3VyY2VzWzBdIDogc291cmNlcztcbiAgICAgICAgcmV0dXJuIGZvcmtKb2luSW50ZXJuYWwoc291cmNlcywgbnVsbCkucGlwZShtYXAoZnVuY3Rpb24gKGFyZ3MpIHsgcmV0dXJuIHJlc3VsdFNlbGVjdG9yXzEuYXBwbHkodm9pZCAwLCBhcmdzKTsgfSkpO1xuICAgIH1cbiAgICByZXR1cm4gZm9ya0pvaW5JbnRlcm5hbChzb3VyY2VzLCBudWxsKTtcbn1cbmZ1bmN0aW9uIGZvcmtKb2luSW50ZXJuYWwoc291cmNlcywga2V5cykge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgbGVuID0gc291cmNlcy5sZW5ndGg7XG4gICAgICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmFsdWVzID0gbmV3IEFycmF5KGxlbik7XG4gICAgICAgIHZhciBjb21wbGV0ZWQgPSAwO1xuICAgICAgICB2YXIgZW1pdHRlZCA9IDA7XG4gICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgIHZhciBzb3VyY2UgPSBmcm9tKHNvdXJjZXNbaV0pO1xuICAgICAgICAgICAgdmFyIGhhc1ZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmFkZChzb3VyY2Uuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgICAgICBuZXh0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFoYXNWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFzVmFsdWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZW1pdHRlZCsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlc1tpXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIHN1YnNjcmliZXIuZXJyb3IoZXJyKTsgfSxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWQrKztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBsZXRlZCA9PT0gbGVuIHx8ICFoYXNWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVtaXR0ZWQgPT09IGxlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChrZXlzID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5cy5yZWR1Y2UoZnVuY3Rpb24gKHJlc3VsdCwga2V5LCBpKSB7IHJldHVybiAocmVzdWx0W2tleV0gPSB2YWx1ZXNbaV0sIHJlc3VsdCk7IH0sIHt9KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH07XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIF9sb29wXzEoaSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZvcmtKb2luLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfdXRpbF9zdWJzY3JpYmVUbyxfc2NoZWR1bGVkX3NjaGVkdWxlZCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVUbyB9IGZyb20gJy4uL3V0aWwvc3Vic2NyaWJlVG8nO1xuaW1wb3J0IHsgc2NoZWR1bGVkIH0gZnJvbSAnLi4vc2NoZWR1bGVkL3NjaGVkdWxlZCc7XG5leHBvcnQgZnVuY3Rpb24gZnJvbShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKCFzY2hlZHVsZXIpIHtcbiAgICAgICAgaWYgKGlucHV0IGluc3RhbmNlb2YgT2JzZXJ2YWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShzdWJzY3JpYmVUbyhpbnB1dCkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlZChpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mcm9tLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfdXRpbF9zdWJzY3JpYmVUb0FycmF5LF9zY2hlZHVsZWRfc2NoZWR1bGVBcnJheSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb0FycmF5IH0gZnJvbSAnLi4vdXRpbC9zdWJzY3JpYmVUb0FycmF5JztcbmltcG9ydCB7IHNjaGVkdWxlQXJyYXkgfSBmcm9tICcuLi9zY2hlZHVsZWQvc2NoZWR1bGVBcnJheSc7XG5leHBvcnQgZnVuY3Rpb24gZnJvbUFycmF5KGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoIXNjaGVkdWxlcikge1xuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoc3Vic2NyaWJlVG9BcnJheShpbnB1dCkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlQXJyYXkoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnJvbUFycmF5LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfdXRpbF9pc0FycmF5LF91dGlsX2lzRnVuY3Rpb24sX29wZXJhdG9yc19tYXAgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheSc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IG1hcCB9IGZyb20gJy4uL29wZXJhdG9ycy9tYXAnO1xudmFyIHRvU3RyaW5nID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZzsgfSkoKTtcbmV4cG9ydCBmdW5jdGlvbiBmcm9tRXZlbnQodGFyZ2V0LCBldmVudE5hbWUsIG9wdGlvbnMsIHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucykpIHtcbiAgICAgICAgcmVzdWx0U2VsZWN0b3IgPSBvcHRpb25zO1xuICAgICAgICBvcHRpb25zID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAocmVzdWx0U2VsZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIGZyb21FdmVudCh0YXJnZXQsIGV2ZW50TmFtZSwgb3B0aW9ucykucGlwZShtYXAoZnVuY3Rpb24gKGFyZ3MpIHsgcmV0dXJuIGlzQXJyYXkoYXJncykgPyByZXN1bHRTZWxlY3Rvci5hcHBseSh2b2lkIDAsIGFyZ3MpIDogcmVzdWx0U2VsZWN0b3IoYXJncyk7IH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZXIoZSkge1xuICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNldHVwU3Vic2NyaXB0aW9uKHRhcmdldCwgZXZlbnROYW1lLCBoYW5kbGVyLCBzdWJzY3JpYmVyLCBvcHRpb25zKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHNldHVwU3Vic2NyaXB0aW9uKHNvdXJjZU9iaiwgZXZlbnROYW1lLCBoYW5kbGVyLCBzdWJzY3JpYmVyLCBvcHRpb25zKSB7XG4gICAgdmFyIHVuc3Vic2NyaWJlO1xuICAgIGlmIChpc0V2ZW50VGFyZ2V0KHNvdXJjZU9iaikpIHtcbiAgICAgICAgdmFyIHNvdXJjZV8xID0gc291cmNlT2JqO1xuICAgICAgICBzb3VyY2VPYmouYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIsIG9wdGlvbnMpO1xuICAgICAgICB1bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNvdXJjZV8xLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyLCBvcHRpb25zKTsgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNKUXVlcnlTdHlsZUV2ZW50RW1pdHRlcihzb3VyY2VPYmopKSB7XG4gICAgICAgIHZhciBzb3VyY2VfMiA9IHNvdXJjZU9iajtcbiAgICAgICAgc291cmNlT2JqLm9uKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgICAgIHVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gc291cmNlXzIub2ZmKGV2ZW50TmFtZSwgaGFuZGxlcik7IH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzTm9kZVN0eWxlRXZlbnRFbWl0dGVyKHNvdXJjZU9iaikpIHtcbiAgICAgICAgdmFyIHNvdXJjZV8zID0gc291cmNlT2JqO1xuICAgICAgICBzb3VyY2VPYmouYWRkTGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICAgICAgdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBzb3VyY2VfMy5yZW1vdmVMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIpOyB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChzb3VyY2VPYmogJiYgc291cmNlT2JqLmxlbmd0aCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gc291cmNlT2JqLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBzZXR1cFN1YnNjcmlwdGlvbihzb3VyY2VPYmpbaV0sIGV2ZW50TmFtZSwgaGFuZGxlciwgc3Vic2NyaWJlciwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgZXZlbnQgdGFyZ2V0Jyk7XG4gICAgfVxuICAgIHN1YnNjcmliZXIuYWRkKHVuc3Vic2NyaWJlKTtcbn1cbmZ1bmN0aW9uIGlzTm9kZVN0eWxlRXZlbnRFbWl0dGVyKHNvdXJjZU9iaikge1xuICAgIHJldHVybiBzb3VyY2VPYmogJiYgdHlwZW9mIHNvdXJjZU9iai5hZGRMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygc291cmNlT2JqLnJlbW92ZUxpc3RlbmVyID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gaXNKUXVlcnlTdHlsZUV2ZW50RW1pdHRlcihzb3VyY2VPYmopIHtcbiAgICByZXR1cm4gc291cmNlT2JqICYmIHR5cGVvZiBzb3VyY2VPYmoub24gPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHNvdXJjZU9iai5vZmYgPT09ICdmdW5jdGlvbic7XG59XG5mdW5jdGlvbiBpc0V2ZW50VGFyZ2V0KHNvdXJjZU9iaikge1xuICAgIHJldHVybiBzb3VyY2VPYmogJiYgdHlwZW9mIHNvdXJjZU9iai5hZGRFdmVudExpc3RlbmVyID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBzb3VyY2VPYmoucmVtb3ZlRXZlbnRMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZyb21FdmVudC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX3V0aWxfaXNBcnJheSxfdXRpbF9pc0Z1bmN0aW9uLF9vcGVyYXRvcnNfbWFwIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuLi91dGlsL2lzQXJyYXknO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICcuLi9vcGVyYXRvcnMvbWFwJztcbmV4cG9ydCBmdW5jdGlvbiBmcm9tRXZlbnRQYXR0ZXJuKGFkZEhhbmRsZXIsIHJlbW92ZUhhbmRsZXIsIHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgaWYgKHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiBmcm9tRXZlbnRQYXR0ZXJuKGFkZEhhbmRsZXIsIHJlbW92ZUhhbmRsZXIpLnBpcGUobWFwKGZ1bmN0aW9uIChhcmdzKSB7IHJldHVybiBpc0FycmF5KGFyZ3MpID8gcmVzdWx0U2VsZWN0b3IuYXBwbHkodm9pZCAwLCBhcmdzKSA6IHJlc3VsdFNlbGVjdG9yKGFyZ3MpOyB9KSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBlID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIGVbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdWJzY3JpYmVyLm5leHQoZS5sZW5ndGggPT09IDEgPyBlWzBdIDogZSk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciByZXRWYWx1ZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldFZhbHVlID0gYWRkSGFuZGxlcihoYW5kbGVyKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNGdW5jdGlvbihyZW1vdmVIYW5kbGVyKSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVtb3ZlSGFuZGxlcihoYW5kbGVyLCByZXRWYWx1ZSk7IH07XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mcm9tRXZlbnRQYXR0ZXJuLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfdXRpbF9pZGVudGl0eSxfdXRpbF9pc1NjaGVkdWxlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4uL3V0aWwvaWRlbnRpdHknO1xuaW1wb3J0IHsgaXNTY2hlZHVsZXIgfSBmcm9tICcuLi91dGlsL2lzU2NoZWR1bGVyJztcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZShpbml0aWFsU3RhdGVPck9wdGlvbnMsIGNvbmRpdGlvbiwgaXRlcmF0ZSwgcmVzdWx0U2VsZWN0b3JPck9ic2VydmFibGUsIHNjaGVkdWxlcikge1xuICAgIHZhciByZXN1bHRTZWxlY3RvcjtcbiAgICB2YXIgaW5pdGlhbFN0YXRlO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBpbml0aWFsU3RhdGVPck9wdGlvbnM7XG4gICAgICAgIGluaXRpYWxTdGF0ZSA9IG9wdGlvbnMuaW5pdGlhbFN0YXRlO1xuICAgICAgICBjb25kaXRpb24gPSBvcHRpb25zLmNvbmRpdGlvbjtcbiAgICAgICAgaXRlcmF0ZSA9IG9wdGlvbnMuaXRlcmF0ZTtcbiAgICAgICAgcmVzdWx0U2VsZWN0b3IgPSBvcHRpb25zLnJlc3VsdFNlbGVjdG9yIHx8IGlkZW50aXR5O1xuICAgICAgICBzY2hlZHVsZXIgPSBvcHRpb25zLnNjaGVkdWxlcjtcbiAgICB9XG4gICAgZWxzZSBpZiAocmVzdWx0U2VsZWN0b3JPck9ic2VydmFibGUgPT09IHVuZGVmaW5lZCB8fCBpc1NjaGVkdWxlcihyZXN1bHRTZWxlY3Rvck9yT2JzZXJ2YWJsZSkpIHtcbiAgICAgICAgaW5pdGlhbFN0YXRlID0gaW5pdGlhbFN0YXRlT3JPcHRpb25zO1xuICAgICAgICByZXN1bHRTZWxlY3RvciA9IGlkZW50aXR5O1xuICAgICAgICBzY2hlZHVsZXIgPSByZXN1bHRTZWxlY3Rvck9yT2JzZXJ2YWJsZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGluaXRpYWxTdGF0ZSA9IGluaXRpYWxTdGF0ZU9yT3B0aW9ucztcbiAgICAgICAgcmVzdWx0U2VsZWN0b3IgPSByZXN1bHRTZWxlY3Rvck9yT2JzZXJ2YWJsZTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IGluaXRpYWxTdGF0ZTtcbiAgICAgICAgaWYgKHNjaGVkdWxlcikge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaCwgMCwge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXI6IHN1YnNjcmliZXIsXG4gICAgICAgICAgICAgICAgaXRlcmF0ZTogaXRlcmF0ZSxcbiAgICAgICAgICAgICAgICBjb25kaXRpb246IGNvbmRpdGlvbixcbiAgICAgICAgICAgICAgICByZXN1bHRTZWxlY3RvcjogcmVzdWx0U2VsZWN0b3IsXG4gICAgICAgICAgICAgICAgc3RhdGU6IHN0YXRlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAoY29uZGl0aW9uKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbmRpdGlvblJlc3VsdCA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25kaXRpb25SZXN1bHQgPSBjb25kaXRpb24oc3RhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFjb25kaXRpb25SZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB2b2lkIDA7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gcmVzdWx0U2VsZWN0b3Ioc3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IGl0ZXJhdGUoc3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlICh0cnVlKTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGRpc3BhdGNoKHN0YXRlKSB7XG4gICAgdmFyIHN1YnNjcmliZXIgPSBzdGF0ZS5zdWJzY3JpYmVyLCBjb25kaXRpb24gPSBzdGF0ZS5jb25kaXRpb247XG4gICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChzdGF0ZS5uZWVkSXRlcmF0ZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc3RhdGUuc3RhdGUgPSBzdGF0ZS5pdGVyYXRlKHN0YXRlLnN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzdGF0ZS5uZWVkSXRlcmF0ZSA9IHRydWU7XG4gICAgfVxuICAgIGlmIChjb25kaXRpb24pIHtcbiAgICAgICAgdmFyIGNvbmRpdGlvblJlc3VsdCA9IHZvaWQgMDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbmRpdGlvblJlc3VsdCA9IGNvbmRpdGlvbihzdGF0ZS5zdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNvbmRpdGlvblJlc3VsdCkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIHZhbHVlO1xuICAgIHRyeSB7XG4gICAgICAgIHZhbHVlID0gc3RhdGUucmVzdWx0U2VsZWN0b3Ioc3RhdGUuc3RhdGUpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNjaGVkdWxlKHN0YXRlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdlbmVyYXRlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfZGVmZXIsX2VtcHR5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGRlZmVyIH0gZnJvbSAnLi9kZWZlcic7XG5pbXBvcnQgeyBFTVBUWSB9IGZyb20gJy4vZW1wdHknO1xuZXhwb3J0IGZ1bmN0aW9uIGlpZihjb25kaXRpb24sIHRydWVSZXN1bHQsIGZhbHNlUmVzdWx0KSB7XG4gICAgaWYgKHRydWVSZXN1bHQgPT09IHZvaWQgMCkge1xuICAgICAgICB0cnVlUmVzdWx0ID0gRU1QVFk7XG4gICAgfVxuICAgIGlmIChmYWxzZVJlc3VsdCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGZhbHNlUmVzdWx0ID0gRU1QVFk7XG4gICAgfVxuICAgIHJldHVybiBkZWZlcihmdW5jdGlvbiAoKSB7IHJldHVybiBjb25kaXRpb24oKSA/IHRydWVSZXN1bHQgOiBmYWxzZVJlc3VsdDsgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1paWYuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF9zY2hlZHVsZXJfYXN5bmMsX3V0aWxfaXNOdW1lcmljIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGFzeW5jIH0gZnJvbSAnLi4vc2NoZWR1bGVyL2FzeW5jJztcbmltcG9ydCB7IGlzTnVtZXJpYyB9IGZyb20gJy4uL3V0aWwvaXNOdW1lcmljJztcbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnZhbChwZXJpb2QsIHNjaGVkdWxlcikge1xuICAgIGlmIChwZXJpb2QgPT09IHZvaWQgMCkge1xuICAgICAgICBwZXJpb2QgPSAwO1xuICAgIH1cbiAgICBpZiAoc2NoZWR1bGVyID09PSB2b2lkIDApIHtcbiAgICAgICAgc2NoZWR1bGVyID0gYXN5bmM7XG4gICAgfVxuICAgIGlmICghaXNOdW1lcmljKHBlcmlvZCkgfHwgcGVyaW9kIDwgMCkge1xuICAgICAgICBwZXJpb2QgPSAwO1xuICAgIH1cbiAgICBpZiAoIXNjaGVkdWxlciB8fCB0eXBlb2Ygc2NoZWR1bGVyLnNjaGVkdWxlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHNjaGVkdWxlciA9IGFzeW5jO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgc3Vic2NyaWJlci5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGRpc3BhdGNoLCBwZXJpb2QsIHsgc3Vic2NyaWJlcjogc3Vic2NyaWJlciwgY291bnRlcjogMCwgcGVyaW9kOiBwZXJpb2QgfSkpO1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlcjtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGRpc3BhdGNoKHN0YXRlKSB7XG4gICAgdmFyIHN1YnNjcmliZXIgPSBzdGF0ZS5zdWJzY3JpYmVyLCBjb3VudGVyID0gc3RhdGUuY291bnRlciwgcGVyaW9kID0gc3RhdGUucGVyaW9kO1xuICAgIHN1YnNjcmliZXIubmV4dChjb3VudGVyKTtcbiAgICB0aGlzLnNjaGVkdWxlKHsgc3Vic2NyaWJlcjogc3Vic2NyaWJlciwgY291bnRlcjogY291bnRlciArIDEsIHBlcmlvZDogcGVyaW9kIH0sIHBlcmlvZCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRlcnZhbC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX3V0aWxfaXNTY2hlZHVsZXIsX29wZXJhdG9yc19tZXJnZUFsbCxfZnJvbUFycmF5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9pc1NjaGVkdWxlcic7XG5pbXBvcnQgeyBtZXJnZUFsbCB9IGZyb20gJy4uL29wZXJhdG9ycy9tZXJnZUFsbCc7XG5pbXBvcnQgeyBmcm9tQXJyYXkgfSBmcm9tICcuL2Zyb21BcnJheSc7XG5leHBvcnQgZnVuY3Rpb24gbWVyZ2UoKSB7XG4gICAgdmFyIG9ic2VydmFibGVzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgb2JzZXJ2YWJsZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIGNvbmN1cnJlbnQgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgdmFyIHNjaGVkdWxlciA9IG51bGw7XG4gICAgdmFyIGxhc3QgPSBvYnNlcnZhYmxlc1tvYnNlcnZhYmxlcy5sZW5ndGggLSAxXTtcbiAgICBpZiAoaXNTY2hlZHVsZXIobGFzdCkpIHtcbiAgICAgICAgc2NoZWR1bGVyID0gb2JzZXJ2YWJsZXMucG9wKCk7XG4gICAgICAgIGlmIChvYnNlcnZhYmxlcy5sZW5ndGggPiAxICYmIHR5cGVvZiBvYnNlcnZhYmxlc1tvYnNlcnZhYmxlcy5sZW5ndGggLSAxXSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGNvbmN1cnJlbnQgPSBvYnNlcnZhYmxlcy5wb3AoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgbGFzdCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgY29uY3VycmVudCA9IG9ic2VydmFibGVzLnBvcCgpO1xuICAgIH1cbiAgICBpZiAoc2NoZWR1bGVyID09PSBudWxsICYmIG9ic2VydmFibGVzLmxlbmd0aCA9PT0gMSAmJiBvYnNlcnZhYmxlc1swXSBpbnN0YW5jZW9mIE9ic2VydmFibGUpIHtcbiAgICAgICAgcmV0dXJuIG9ic2VydmFibGVzWzBdO1xuICAgIH1cbiAgICByZXR1cm4gbWVyZ2VBbGwoY29uY3VycmVudCkoZnJvbUFycmF5KG9ic2VydmFibGVzLCBzY2hlZHVsZXIpKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lcmdlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfdXRpbF9ub29wIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IG5vb3AgfSBmcm9tICcuLi91dGlsL25vb3AnO1xuZXhwb3J0IHZhciBORVZFUiA9IC8qQF9fUFVSRV9fKi8gbmV3IE9ic2VydmFibGUobm9vcCk7XG5leHBvcnQgZnVuY3Rpb24gbmV2ZXIoKSB7XG4gICAgcmV0dXJuIE5FVkVSO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmV2ZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF91dGlsX2lzU2NoZWR1bGVyLF9mcm9tQXJyYXksX3NjaGVkdWxlZF9zY2hlZHVsZUFycmF5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGlzU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9pc1NjaGVkdWxlcic7XG5pbXBvcnQgeyBmcm9tQXJyYXkgfSBmcm9tICcuL2Zyb21BcnJheSc7XG5pbXBvcnQgeyBzY2hlZHVsZUFycmF5IH0gZnJvbSAnLi4vc2NoZWR1bGVkL3NjaGVkdWxlQXJyYXknO1xuZXhwb3J0IGZ1bmN0aW9uIG9mKCkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICB2YXIgc2NoZWR1bGVyID0gYXJnc1thcmdzLmxlbmd0aCAtIDFdO1xuICAgIGlmIChpc1NjaGVkdWxlcihzY2hlZHVsZXIpKSB7XG4gICAgICAgIGFyZ3MucG9wKCk7XG4gICAgICAgIHJldHVybiBzY2hlZHVsZUFycmF5KGFyZ3MsIHNjaGVkdWxlcik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZnJvbUFycmF5KGFyZ3MpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9mLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfZnJvbSxfdXRpbF9pc0FycmF5LF9lbXB0eSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBmcm9tIH0gZnJvbSAnLi9mcm9tJztcbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuLi91dGlsL2lzQXJyYXknO1xuaW1wb3J0IHsgRU1QVFkgfSBmcm9tICcuL2VtcHR5JztcbmV4cG9ydCBmdW5jdGlvbiBvbkVycm9yUmVzdW1lTmV4dCgpIHtcbiAgICB2YXIgc291cmNlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHNvdXJjZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgaWYgKHNvdXJjZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBFTVBUWTtcbiAgICB9XG4gICAgdmFyIGZpcnN0ID0gc291cmNlc1swXSwgcmVtYWluZGVyID0gc291cmNlcy5zbGljZSgxKTtcbiAgICBpZiAoc291cmNlcy5sZW5ndGggPT09IDEgJiYgaXNBcnJheShmaXJzdCkpIHtcbiAgICAgICAgcmV0dXJuIG9uRXJyb3JSZXN1bWVOZXh0LmFwcGx5KHZvaWQgMCwgZmlyc3QpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHN1Yk5leHQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLmFkZChvbkVycm9yUmVzdW1lTmV4dC5hcHBseSh2b2lkIDAsIHJlbWFpbmRlcikuc3Vic2NyaWJlKHN1YnNjcmliZXIpKTsgfTtcbiAgICAgICAgcmV0dXJuIGZyb20oZmlyc3QpLnN1YnNjcmliZSh7XG4gICAgICAgICAgICBuZXh0OiBmdW5jdGlvbiAodmFsdWUpIHsgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTsgfSxcbiAgICAgICAgICAgIGVycm9yOiBzdWJOZXh0LFxuICAgICAgICAgICAgY29tcGxldGU6IHN1Yk5leHQsXG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b25FcnJvclJlc3VtZU5leHQuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF9TdWJzY3JpcHRpb24gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiBwYWlycyhvYmosIHNjaGVkdWxlcikge1xuICAgIGlmICghc2NoZWR1bGVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aCAmJiAhc3Vic2NyaWJlci5jbG9zZWQ7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoW2tleSwgb2JqW2tleV1dKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZGlzcGF0Y2gsIDAsIHsga2V5czoga2V5cywgaW5kZXg6IDAsIHN1YnNjcmliZXI6IHN1YnNjcmliZXIsIHN1YnNjcmlwdGlvbjogc3Vic2NyaXB0aW9uLCBvYmo6IG9iaiB9KSk7XG4gICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZGlzcGF0Y2goc3RhdGUpIHtcbiAgICB2YXIga2V5cyA9IHN0YXRlLmtleXMsIGluZGV4ID0gc3RhdGUuaW5kZXgsIHN1YnNjcmliZXIgPSBzdGF0ZS5zdWJzY3JpYmVyLCBzdWJzY3JpcHRpb24gPSBzdGF0ZS5zdWJzY3JpcHRpb24sIG9iaiA9IHN0YXRlLm9iajtcbiAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgIGlmIChpbmRleCA8IGtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpbmRleF07XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoW2tleSwgb2JqW2tleV1dKTtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbi5hZGQodGhpcy5zY2hlZHVsZSh7IGtleXM6IGtleXMsIGluZGV4OiBpbmRleCArIDEsIHN1YnNjcmliZXI6IHN1YnNjcmliZXIsIHN1YnNjcmlwdGlvbjogc3Vic2NyaXB0aW9uLCBvYmo6IG9iaiB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWlycy5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3V0aWxfbm90LF91dGlsX3N1YnNjcmliZVRvLF9vcGVyYXRvcnNfZmlsdGVyLF9PYnNlcnZhYmxlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IG5vdCB9IGZyb20gJy4uL3V0aWwvbm90JztcbmltcG9ydCB7IHN1YnNjcmliZVRvIH0gZnJvbSAnLi4vdXRpbC9zdWJzY3JpYmVUbyc7XG5pbXBvcnQgeyBmaWx0ZXIgfSBmcm9tICcuLi9vcGVyYXRvcnMvZmlsdGVyJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmV4cG9ydCBmdW5jdGlvbiBwYXJ0aXRpb24oc291cmNlLCBwcmVkaWNhdGUsIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gW1xuICAgICAgICBmaWx0ZXIocHJlZGljYXRlLCB0aGlzQXJnKShuZXcgT2JzZXJ2YWJsZShzdWJzY3JpYmVUbyhzb3VyY2UpKSksXG4gICAgICAgIGZpbHRlcihub3QocHJlZGljYXRlLCB0aGlzQXJnKSkobmV3IE9ic2VydmFibGUoc3Vic2NyaWJlVG8oc291cmNlKSkpXG4gICAgXTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnRpdGlvbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX3V0aWxfaXNBcnJheSxfZnJvbUFycmF5LF9PdXRlclN1YnNjcmliZXIsX3V0aWxfc3Vic2NyaWJlVG9SZXN1bHQgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuLi91dGlsL2lzQXJyYXknO1xuaW1wb3J0IHsgZnJvbUFycmF5IH0gZnJvbSAnLi9mcm9tQXJyYXknO1xuaW1wb3J0IHsgT3V0ZXJTdWJzY3JpYmVyIH0gZnJvbSAnLi4vT3V0ZXJTdWJzY3JpYmVyJztcbmltcG9ydCB7IHN1YnNjcmliZVRvUmVzdWx0IH0gZnJvbSAnLi4vdXRpbC9zdWJzY3JpYmVUb1Jlc3VsdCc7XG5leHBvcnQgZnVuY3Rpb24gcmFjZSgpIHtcbiAgICB2YXIgb2JzZXJ2YWJsZXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBvYnNlcnZhYmxlc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICBpZiAob2JzZXJ2YWJsZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGlmIChpc0FycmF5KG9ic2VydmFibGVzWzBdKSkge1xuICAgICAgICAgICAgb2JzZXJ2YWJsZXMgPSBvYnNlcnZhYmxlc1swXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBvYnNlcnZhYmxlc1swXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZnJvbUFycmF5KG9ic2VydmFibGVzLCB1bmRlZmluZWQpLmxpZnQobmV3IFJhY2VPcGVyYXRvcigpKTtcbn1cbnZhciBSYWNlT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmFjZU9wZXJhdG9yKCkge1xuICAgIH1cbiAgICBSYWNlT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBSYWNlU3Vic2NyaWJlcihzdWJzY3JpYmVyKSk7XG4gICAgfTtcbiAgICByZXR1cm4gUmFjZU9wZXJhdG9yO1xufSgpKTtcbmV4cG9ydCB7IFJhY2VPcGVyYXRvciB9O1xudmFyIFJhY2VTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFJhY2VTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJhY2VTdWJzY3JpYmVyKGRlc3RpbmF0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5oYXNGaXJzdCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5vYnNlcnZhYmxlcyA9IFtdO1xuICAgICAgICBfdGhpcy5zdWJzY3JpcHRpb25zID0gW107XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgUmFjZVN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKG9ic2VydmFibGUpIHtcbiAgICAgICAgdGhpcy5vYnNlcnZhYmxlcy5wdXNoKG9ic2VydmFibGUpO1xuICAgIH07XG4gICAgUmFjZVN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9ic2VydmFibGVzID0gdGhpcy5vYnNlcnZhYmxlcztcbiAgICAgICAgdmFyIGxlbiA9IG9ic2VydmFibGVzLmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbiA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW4gJiYgIXRoaXMuaGFzRmlyc3Q7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBvYnNlcnZhYmxlID0gb2JzZXJ2YWJsZXNbaV07XG4gICAgICAgICAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IHN1YnNjcmliZVRvUmVzdWx0KHRoaXMsIG9ic2VydmFibGUsIHVuZGVmaW5lZCwgaSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3Vic2NyaXB0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaChzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmFkZChzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5vYnNlcnZhYmxlcyA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJhY2VTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlOZXh0ID0gZnVuY3Rpb24gKF9vdXRlclZhbHVlLCBpbm5lclZhbHVlLCBvdXRlckluZGV4KSB7XG4gICAgICAgIGlmICghdGhpcy5oYXNGaXJzdCkge1xuICAgICAgICAgICAgdGhpcy5oYXNGaXJzdCA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3Vic2NyaXB0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChpICE9PSBvdXRlckluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSB0aGlzLnN1YnNjcmlwdGlvbnNbaV07XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZShzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KGlubmVyVmFsdWUpO1xuICAgIH07XG4gICAgcmV0dXJuIFJhY2VTdWJzY3JpYmVyO1xufShPdXRlclN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IFJhY2VTdWJzY3JpYmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yYWNlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5leHBvcnQgZnVuY3Rpb24gcmFuZ2Uoc3RhcnQsIGNvdW50LCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoc3RhcnQgPT09IHZvaWQgMCkge1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBpZiAoY291bnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY291bnQgPSBzdGFydDtcbiAgICAgICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICB2YXIgY3VycmVudCA9IHN0YXJ0O1xuICAgICAgICBpZiAoc2NoZWR1bGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVyLnNjaGVkdWxlKGRpc3BhdGNoLCAwLCB7XG4gICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LCBjb3VudDogY291bnQsIHN0YXJ0OiBzdGFydCwgc3Vic2NyaWJlcjogc3Vic2NyaWJlclxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4KysgPj0gY291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGN1cnJlbnQrKyk7XG4gICAgICAgICAgICAgICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gd2hpbGUgKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZGlzcGF0Y2goc3RhdGUpIHtcbiAgICB2YXIgc3RhcnQgPSBzdGF0ZS5zdGFydCwgaW5kZXggPSBzdGF0ZS5pbmRleCwgY291bnQgPSBzdGF0ZS5jb3VudCwgc3Vic2NyaWJlciA9IHN0YXRlLnN1YnNjcmliZXI7XG4gICAgaWYgKGluZGV4ID49IGNvdW50KSB7XG4gICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzdWJzY3JpYmVyLm5leHQoc3RhcnQpO1xuICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHN0YXRlLmluZGV4ID0gaW5kZXggKyAxO1xuICAgIHN0YXRlLnN0YXJ0ID0gc3RhcnQgKyAxO1xuICAgIHRoaXMuc2NoZWR1bGUoc3RhdGUpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmFuZ2UuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmV4cG9ydCBmdW5jdGlvbiB0aHJvd0Vycm9yKGVycm9yLCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoIXNjaGVkdWxlcikge1xuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHsgcmV0dXJuIHN1YnNjcmliZXIuZXJyb3IoZXJyb3IpOyB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikgeyByZXR1cm4gc2NoZWR1bGVyLnNjaGVkdWxlKGRpc3BhdGNoLCAwLCB7IGVycm9yOiBlcnJvciwgc3Vic2NyaWJlcjogc3Vic2NyaWJlciB9KTsgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gZGlzcGF0Y2goX2EpIHtcbiAgICB2YXIgZXJyb3IgPSBfYS5lcnJvciwgc3Vic2NyaWJlciA9IF9hLnN1YnNjcmliZXI7XG4gICAgc3Vic2NyaWJlci5lcnJvcihlcnJvcik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aHJvd0Vycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfc2NoZWR1bGVyX2FzeW5jLF91dGlsX2lzTnVtZXJpYyxfdXRpbF9pc1NjaGVkdWxlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBhc3luYyB9IGZyb20gJy4uL3NjaGVkdWxlci9hc3luYyc7XG5pbXBvcnQgeyBpc051bWVyaWMgfSBmcm9tICcuLi91dGlsL2lzTnVtZXJpYyc7XG5pbXBvcnQgeyBpc1NjaGVkdWxlciB9IGZyb20gJy4uL3V0aWwvaXNTY2hlZHVsZXInO1xuZXhwb3J0IGZ1bmN0aW9uIHRpbWVyKGR1ZVRpbWUsIHBlcmlvZE9yU2NoZWR1bGVyLCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoZHVlVGltZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGR1ZVRpbWUgPSAwO1xuICAgIH1cbiAgICB2YXIgcGVyaW9kID0gLTE7XG4gICAgaWYgKGlzTnVtZXJpYyhwZXJpb2RPclNjaGVkdWxlcikpIHtcbiAgICAgICAgcGVyaW9kID0gTnVtYmVyKHBlcmlvZE9yU2NoZWR1bGVyKSA8IDEgJiYgMSB8fCBOdW1iZXIocGVyaW9kT3JTY2hlZHVsZXIpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1NjaGVkdWxlcihwZXJpb2RPclNjaGVkdWxlcikpIHtcbiAgICAgICAgc2NoZWR1bGVyID0gcGVyaW9kT3JTY2hlZHVsZXI7XG4gICAgfVxuICAgIGlmICghaXNTY2hlZHVsZXIoc2NoZWR1bGVyKSkge1xuICAgICAgICBzY2hlZHVsZXIgPSBhc3luYztcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBkdWUgPSBpc051bWVyaWMoZHVlVGltZSlcbiAgICAgICAgICAgID8gZHVlVGltZVxuICAgICAgICAgICAgOiAoK2R1ZVRpbWUgLSBzY2hlZHVsZXIubm93KCkpO1xuICAgICAgICByZXR1cm4gc2NoZWR1bGVyLnNjaGVkdWxlKGRpc3BhdGNoLCBkdWUsIHtcbiAgICAgICAgICAgIGluZGV4OiAwLCBwZXJpb2Q6IHBlcmlvZCwgc3Vic2NyaWJlcjogc3Vic2NyaWJlclxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGRpc3BhdGNoKHN0YXRlKSB7XG4gICAgdmFyIGluZGV4ID0gc3RhdGUuaW5kZXgsIHBlcmlvZCA9IHN0YXRlLnBlcmlvZCwgc3Vic2NyaWJlciA9IHN0YXRlLnN1YnNjcmliZXI7XG4gICAgc3Vic2NyaWJlci5uZXh0KGluZGV4KTtcbiAgICBpZiAoc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlbHNlIGlmIChwZXJpb2QgPT09IC0xKSB7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgfVxuICAgIHN0YXRlLmluZGV4ID0gaW5kZXggKyAxO1xuICAgIHRoaXMuc2NoZWR1bGUoc3RhdGUsIHBlcmlvZCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aW1lci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX2Zyb20sX2VtcHR5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGZyb20gfSBmcm9tICcuL2Zyb20nO1xuaW1wb3J0IHsgRU1QVFkgfSBmcm9tICcuL2VtcHR5JztcbmV4cG9ydCBmdW5jdGlvbiB1c2luZyhyZXNvdXJjZUZhY3RvcnksIG9ic2VydmFibGVGYWN0b3J5KSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciByZXNvdXJjZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc291cmNlID0gcmVzb3VyY2VGYWN0b3J5KCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gb2JzZXJ2YWJsZUZhY3RvcnkocmVzb3VyY2UpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNvdXJjZSA9IHJlc3VsdCA/IGZyb20ocmVzdWx0KSA6IEVNUFRZO1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gc291cmNlLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgaWYgKHJlc291cmNlKSB7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2UudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVzaW5nLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfZnJvbUFycmF5LF91dGlsX2lzQXJyYXksX1N1YnNjcmliZXIsXy4uX2ludGVybmFsX3N5bWJvbF9pdGVyYXRvcixfaW5uZXJTdWJzY3JpYmUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGZyb21BcnJheSB9IGZyb20gJy4vZnJvbUFycmF5JztcbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuLi91dGlsL2lzQXJyYXknO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgaXRlcmF0b3IgYXMgU3ltYm9sX2l0ZXJhdG9yIH0gZnJvbSAnLi4vLi4vaW50ZXJuYWwvc3ltYm9sL2l0ZXJhdG9yJztcbmltcG9ydCB7IFNpbXBsZU91dGVyU3Vic2NyaWJlciwgU2ltcGxlSW5uZXJTdWJzY3JpYmVyLCBpbm5lclN1YnNjcmliZSB9IGZyb20gJy4uL2lubmVyU3Vic2NyaWJlJztcbmV4cG9ydCBmdW5jdGlvbiB6aXAoKSB7XG4gICAgdmFyIG9ic2VydmFibGVzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgb2JzZXJ2YWJsZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHJlc3VsdFNlbGVjdG9yID0gb2JzZXJ2YWJsZXNbb2JzZXJ2YWJsZXMubGVuZ3RoIC0gMV07XG4gICAgaWYgKHR5cGVvZiByZXN1bHRTZWxlY3RvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBvYnNlcnZhYmxlcy5wb3AoKTtcbiAgICB9XG4gICAgcmV0dXJuIGZyb21BcnJheShvYnNlcnZhYmxlcywgdW5kZWZpbmVkKS5saWZ0KG5ldyBaaXBPcGVyYXRvcihyZXN1bHRTZWxlY3RvcikpO1xufVxudmFyIFppcE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFppcE9wZXJhdG9yKHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMucmVzdWx0U2VsZWN0b3IgPSByZXN1bHRTZWxlY3RvcjtcbiAgICB9XG4gICAgWmlwT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBaaXBTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMucmVzdWx0U2VsZWN0b3IpKTtcbiAgICB9O1xuICAgIHJldHVybiBaaXBPcGVyYXRvcjtcbn0oKSk7XG5leHBvcnQgeyBaaXBPcGVyYXRvciB9O1xudmFyIFppcFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoWmlwU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBaaXBTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCByZXN1bHRTZWxlY3RvciwgdmFsdWVzKSB7XG4gICAgICAgIGlmICh2YWx1ZXMgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgdmFsdWVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucmVzdWx0U2VsZWN0b3IgPSByZXN1bHRTZWxlY3RvcjtcbiAgICAgICAgX3RoaXMuaXRlcmF0b3JzID0gW107XG4gICAgICAgIF90aGlzLmFjdGl2ZSA9IDA7XG4gICAgICAgIF90aGlzLnJlc3VsdFNlbGVjdG9yID0gKHR5cGVvZiByZXN1bHRTZWxlY3RvciA9PT0gJ2Z1bmN0aW9uJykgPyByZXN1bHRTZWxlY3RvciA6IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBaaXBTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgaXRlcmF0b3JzID0gdGhpcy5pdGVyYXRvcnM7XG4gICAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgaXRlcmF0b3JzLnB1c2gobmV3IFN0YXRpY0FycmF5SXRlcmF0b3IodmFsdWUpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWVbU3ltYm9sX2l0ZXJhdG9yXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgaXRlcmF0b3JzLnB1c2gobmV3IFN0YXRpY0l0ZXJhdG9yKHZhbHVlW1N5bWJvbF9pdGVyYXRvcl0oKSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaXRlcmF0b3JzLnB1c2gobmV3IFppcEJ1ZmZlckl0ZXJhdG9yKHRoaXMuZGVzdGluYXRpb24sIHRoaXMsIHZhbHVlKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFppcFN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9ycyA9IHRoaXMuaXRlcmF0b3JzO1xuICAgICAgICB2YXIgbGVuID0gaXRlcmF0b3JzLmxlbmd0aDtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICBpZiAobGVuID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmUgPSBsZW47XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yc1tpXTtcbiAgICAgICAgICAgIGlmIChpdGVyYXRvci5zdGlsbFVuc3Vic2NyaWJlZCkge1xuICAgICAgICAgICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb24uYWRkKGl0ZXJhdG9yLnN1YnNjcmliZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlLS07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFppcFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUluYWN0aXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmFjdGl2ZS0tO1xuICAgICAgICBpZiAodGhpcy5hY3RpdmUgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgWmlwU3Vic2NyaWJlci5wcm90b3R5cGUuY2hlY2tJdGVyYXRvcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpdGVyYXRvcnMgPSB0aGlzLml0ZXJhdG9ycztcbiAgICAgICAgdmFyIGxlbiA9IGl0ZXJhdG9ycy5sZW5ndGg7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yc1tpXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaXRlcmF0b3IuaGFzVmFsdWUgPT09ICdmdW5jdGlvbicgJiYgIWl0ZXJhdG9yLmhhc1ZhbHVlKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNob3VsZENvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yc1tpXTtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgICBpZiAoaXRlcmF0b3IuaGFzQ29tcGxldGVkKCkpIHtcbiAgICAgICAgICAgICAgICBzaG91bGRDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVzdWx0LmRvbmUpIHtcbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFyZ3MucHVzaChyZXN1bHQudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJlc3VsdFNlbGVjdG9yKSB7XG4gICAgICAgICAgICB0aGlzLl90cnlyZXN1bHRTZWxlY3RvcihhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uLm5leHQoYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNob3VsZENvbXBsZXRlKSB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBaaXBTdWJzY3JpYmVyLnByb3RvdHlwZS5fdHJ5cmVzdWx0U2VsZWN0b3IgPSBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5yZXN1bHRTZWxlY3Rvci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHJlc3VsdCk7XG4gICAgfTtcbiAgICByZXR1cm4gWmlwU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgWmlwU3Vic2NyaWJlciB9O1xudmFyIFN0YXRpY0l0ZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0YXRpY0l0ZXJhdG9yKGl0ZXJhdG9yKSB7XG4gICAgICAgIHRoaXMuaXRlcmF0b3IgPSBpdGVyYXRvcjtcbiAgICAgICAgdGhpcy5uZXh0UmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgIH1cbiAgICBTdGF0aWNJdGVyYXRvci5wcm90b3R5cGUuaGFzVmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgU3RhdGljSXRlcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLm5leHRSZXN1bHQ7XG4gICAgICAgIHRoaXMubmV4dFJlc3VsdCA9IHRoaXMuaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgU3RhdGljSXRlcmF0b3IucHJvdG90eXBlLmhhc0NvbXBsZXRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5leHRSZXN1bHQgPSB0aGlzLm5leHRSZXN1bHQ7XG4gICAgICAgIHJldHVybiBCb29sZWFuKG5leHRSZXN1bHQgJiYgbmV4dFJlc3VsdC5kb25lKTtcbiAgICB9O1xuICAgIHJldHVybiBTdGF0aWNJdGVyYXRvcjtcbn0oKSk7XG52YXIgU3RhdGljQXJyYXlJdGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdGF0aWNBcnJheUl0ZXJhdG9yKGFycmF5KSB7XG4gICAgICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbiAgICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5sZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgfVxuICAgIFN0YXRpY0FycmF5SXRlcmF0b3IucHJvdG90eXBlW1N5bWJvbF9pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgU3RhdGljQXJyYXlJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgaSA9IHRoaXMuaW5kZXgrKztcbiAgICAgICAgdmFyIGFycmF5ID0gdGhpcy5hcnJheTtcbiAgICAgICAgcmV0dXJuIGkgPCB0aGlzLmxlbmd0aCA/IHsgdmFsdWU6IGFycmF5W2ldLCBkb25lOiBmYWxzZSB9IDogeyB2YWx1ZTogbnVsbCwgZG9uZTogdHJ1ZSB9O1xuICAgIH07XG4gICAgU3RhdGljQXJyYXlJdGVyYXRvci5wcm90b3R5cGUuaGFzVmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFycmF5Lmxlbmd0aCA+IHRoaXMuaW5kZXg7XG4gICAgfTtcbiAgICBTdGF0aWNBcnJheUl0ZXJhdG9yLnByb3RvdHlwZS5oYXNDb21wbGV0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFycmF5Lmxlbmd0aCA9PT0gdGhpcy5pbmRleDtcbiAgICB9O1xuICAgIHJldHVybiBTdGF0aWNBcnJheUl0ZXJhdG9yO1xufSgpKTtcbnZhciBaaXBCdWZmZXJJdGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhaaXBCdWZmZXJJdGVyYXRvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBaaXBCdWZmZXJJdGVyYXRvcihkZXN0aW5hdGlvbiwgcGFyZW50LCBvYnNlcnZhYmxlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIF90aGlzLm9ic2VydmFibGUgPSBvYnNlcnZhYmxlO1xuICAgICAgICBfdGhpcy5zdGlsbFVuc3Vic2NyaWJlZCA9IHRydWU7XG4gICAgICAgIF90aGlzLmJ1ZmZlciA9IFtdO1xuICAgICAgICBfdGhpcy5pc0NvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgWmlwQnVmZmVySXRlcmF0b3IucHJvdG90eXBlW1N5bWJvbF9pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgWmlwQnVmZmVySXRlcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBidWZmZXIgPSB0aGlzLmJ1ZmZlcjtcbiAgICAgICAgaWYgKGJ1ZmZlci5sZW5ndGggPT09IDAgJiYgdGhpcy5pc0NvbXBsZXRlKSB7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbnVsbCwgZG9uZTogdHJ1ZSB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IGJ1ZmZlci5zaGlmdCgpLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICBaaXBCdWZmZXJJdGVyYXRvci5wcm90b3R5cGUuaGFzVmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlci5sZW5ndGggPiAwO1xuICAgIH07XG4gICAgWmlwQnVmZmVySXRlcmF0b3IucHJvdG90eXBlLmhhc0NvbXBsZXRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyLmxlbmd0aCA9PT0gMCAmJiB0aGlzLmlzQ29tcGxldGU7XG4gICAgfTtcbiAgICBaaXBCdWZmZXJJdGVyYXRvci5wcm90b3R5cGUubm90aWZ5Q29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmJ1ZmZlci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmlzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQubm90aWZ5SW5hY3RpdmUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgWmlwQnVmZmVySXRlcmF0b3IucHJvdG90eXBlLm5vdGlmeU5leHQgPSBmdW5jdGlvbiAoaW5uZXJWYWx1ZSkge1xuICAgICAgICB0aGlzLmJ1ZmZlci5wdXNoKGlubmVyVmFsdWUpO1xuICAgICAgICB0aGlzLnBhcmVudC5jaGVja0l0ZXJhdG9ycygpO1xuICAgIH07XG4gICAgWmlwQnVmZmVySXRlcmF0b3IucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGlubmVyU3Vic2NyaWJlKHRoaXMub2JzZXJ2YWJsZSwgbmV3IFNpbXBsZUlubmVyU3Vic2NyaWJlcih0aGlzKSk7XG4gICAgfTtcbiAgICByZXR1cm4gWmlwQnVmZmVySXRlcmF0b3I7XG59KFNpbXBsZU91dGVyU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9emlwLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfaW5uZXJTdWJzY3JpYmUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFNpbXBsZU91dGVyU3Vic2NyaWJlciwgaW5uZXJTdWJzY3JpYmUsIFNpbXBsZUlubmVyU3Vic2NyaWJlciB9IGZyb20gJy4uL2lubmVyU3Vic2NyaWJlJztcbmV4cG9ydCBmdW5jdGlvbiBhdWRpdChkdXJhdGlvblNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGF1ZGl0T3BlcmF0b3JGdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBBdWRpdE9wZXJhdG9yKGR1cmF0aW9uU2VsZWN0b3IpKTtcbiAgICB9O1xufVxudmFyIEF1ZGl0T3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXVkaXRPcGVyYXRvcihkdXJhdGlvblNlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMuZHVyYXRpb25TZWxlY3RvciA9IGR1cmF0aW9uU2VsZWN0b3I7XG4gICAgfVxuICAgIEF1ZGl0T3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBBdWRpdFN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5kdXJhdGlvblNlbGVjdG9yKSk7XG4gICAgfTtcbiAgICByZXR1cm4gQXVkaXRPcGVyYXRvcjtcbn0oKSk7XG52YXIgQXVkaXRTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEF1ZGl0U3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBdWRpdFN1YnNjcmliZXIoZGVzdGluYXRpb24sIGR1cmF0aW9uU2VsZWN0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmR1cmF0aW9uU2VsZWN0b3IgPSBkdXJhdGlvblNlbGVjdG9yO1xuICAgICAgICBfdGhpcy5oYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEF1ZGl0U3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmhhc1ZhbHVlID0gdHJ1ZTtcbiAgICAgICAgaWYgKCF0aGlzLnRocm90dGxlZCkge1xuICAgICAgICAgICAgdmFyIGR1cmF0aW9uID0gdm9pZCAwO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgZHVyYXRpb25TZWxlY3RvciA9IHRoaXMuZHVyYXRpb25TZWxlY3RvcjtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IGR1cmF0aW9uU2VsZWN0b3IodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaW5uZXJTdWJzY3JpcHRpb24gPSBpbm5lclN1YnNjcmliZShkdXJhdGlvbiwgbmV3IFNpbXBsZUlubmVyU3Vic2NyaWJlcih0aGlzKSk7XG4gICAgICAgICAgICBpZiAoIWlubmVyU3Vic2NyaXB0aW9uIHx8IGlubmVyU3Vic2NyaXB0aW9uLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJUaHJvdHRsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQodGhpcy50aHJvdHRsZWQgPSBpbm5lclN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEF1ZGl0U3Vic2NyaWJlci5wcm90b3R5cGUuY2xlYXJUaHJvdHRsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgdmFsdWUgPSBfYS52YWx1ZSwgaGFzVmFsdWUgPSBfYS5oYXNWYWx1ZSwgdGhyb3R0bGVkID0gX2EudGhyb3R0bGVkO1xuICAgICAgICBpZiAodGhyb3R0bGVkKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZSh0aHJvdHRsZWQpO1xuICAgICAgICAgICAgdGhpcy50aHJvdHRsZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aHJvdHRsZWQudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFzVmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLmhhc1ZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBdWRpdFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2xlYXJUaHJvdHRsZSgpO1xuICAgIH07XG4gICAgQXVkaXRTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jbGVhclRocm90dGxlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gQXVkaXRTdWJzY3JpYmVyO1xufShTaW1wbGVPdXRlclN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF1ZGl0LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfc2NoZWR1bGVyX2FzeW5jLF9hdWRpdCxfb2JzZXJ2YWJsZV90aW1lciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBhc3luYyB9IGZyb20gJy4uL3NjaGVkdWxlci9hc3luYyc7XG5pbXBvcnQgeyBhdWRpdCB9IGZyb20gJy4vYXVkaXQnO1xuaW1wb3J0IHsgdGltZXIgfSBmcm9tICcuLi9vYnNlcnZhYmxlL3RpbWVyJztcbmV4cG9ydCBmdW5jdGlvbiBhdWRpdFRpbWUoZHVyYXRpb24sIHNjaGVkdWxlcikge1xuICAgIGlmIChzY2hlZHVsZXIgPT09IHZvaWQgMCkge1xuICAgICAgICBzY2hlZHVsZXIgPSBhc3luYztcbiAgICB9XG4gICAgcmV0dXJuIGF1ZGl0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRpbWVyKGR1cmF0aW9uLCBzY2hlZHVsZXIpOyB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF1ZGl0VGltZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX2lubmVyU3Vic2NyaWJlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTaW1wbGVPdXRlclN1YnNjcmliZXIsIGlubmVyU3Vic2NyaWJlLCBTaW1wbGVJbm5lclN1YnNjcmliZXIgfSBmcm9tICcuLi9pbm5lclN1YnNjcmliZSc7XG5leHBvcnQgZnVuY3Rpb24gYnVmZmVyKGNsb3NpbmdOb3RpZmllcikge1xuICAgIHJldHVybiBmdW5jdGlvbiBidWZmZXJPcGVyYXRvckZ1bmN0aW9uKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IEJ1ZmZlck9wZXJhdG9yKGNsb3NpbmdOb3RpZmllcikpO1xuICAgIH07XG59XG52YXIgQnVmZmVyT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQnVmZmVyT3BlcmF0b3IoY2xvc2luZ05vdGlmaWVyKSB7XG4gICAgICAgIHRoaXMuY2xvc2luZ05vdGlmaWVyID0gY2xvc2luZ05vdGlmaWVyO1xuICAgIH1cbiAgICBCdWZmZXJPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IEJ1ZmZlclN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5jbG9zaW5nTm90aWZpZXIpKTtcbiAgICB9O1xuICAgIHJldHVybiBCdWZmZXJPcGVyYXRvcjtcbn0oKSk7XG52YXIgQnVmZmVyU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhCdWZmZXJTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEJ1ZmZlclN1YnNjcmliZXIoZGVzdGluYXRpb24sIGNsb3NpbmdOb3RpZmllcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYnVmZmVyID0gW107XG4gICAgICAgIF90aGlzLmFkZChpbm5lclN1YnNjcmliZShjbG9zaW5nTm90aWZpZXIsIG5ldyBTaW1wbGVJbm5lclN1YnNjcmliZXIoX3RoaXMpKSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQnVmZmVyU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5idWZmZXIucHVzaCh2YWx1ZSk7XG4gICAgfTtcbiAgICBCdWZmZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlOZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5idWZmZXI7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gW107XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChidWZmZXIpO1xuICAgIH07XG4gICAgcmV0dXJuIEJ1ZmZlclN1YnNjcmliZXI7XG59KFNpbXBsZU91dGVyU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnVmZmVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIGJ1ZmZlckNvdW50KGJ1ZmZlclNpemUsIHN0YXJ0QnVmZmVyRXZlcnkpIHtcbiAgICBpZiAoc3RhcnRCdWZmZXJFdmVyeSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHN0YXJ0QnVmZmVyRXZlcnkgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gYnVmZmVyQ291bnRPcGVyYXRvckZ1bmN0aW9uKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IEJ1ZmZlckNvdW50T3BlcmF0b3IoYnVmZmVyU2l6ZSwgc3RhcnRCdWZmZXJFdmVyeSkpO1xuICAgIH07XG59XG52YXIgQnVmZmVyQ291bnRPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCdWZmZXJDb3VudE9wZXJhdG9yKGJ1ZmZlclNpemUsIHN0YXJ0QnVmZmVyRXZlcnkpIHtcbiAgICAgICAgdGhpcy5idWZmZXJTaXplID0gYnVmZmVyU2l6ZTtcbiAgICAgICAgdGhpcy5zdGFydEJ1ZmZlckV2ZXJ5ID0gc3RhcnRCdWZmZXJFdmVyeTtcbiAgICAgICAgaWYgKCFzdGFydEJ1ZmZlckV2ZXJ5IHx8IGJ1ZmZlclNpemUgPT09IHN0YXJ0QnVmZmVyRXZlcnkpIHtcbiAgICAgICAgICAgIHRoaXMuc3Vic2NyaWJlckNsYXNzID0gQnVmZmVyQ291bnRTdWJzY3JpYmVyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdWJzY3JpYmVyQ2xhc3MgPSBCdWZmZXJTa2lwQ291bnRTdWJzY3JpYmVyO1xuICAgICAgICB9XG4gICAgfVxuICAgIEJ1ZmZlckNvdW50T3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyB0aGlzLnN1YnNjcmliZXJDbGFzcyhzdWJzY3JpYmVyLCB0aGlzLmJ1ZmZlclNpemUsIHRoaXMuc3RhcnRCdWZmZXJFdmVyeSkpO1xuICAgIH07XG4gICAgcmV0dXJuIEJ1ZmZlckNvdW50T3BlcmF0b3I7XG59KCkpO1xudmFyIEJ1ZmZlckNvdW50U3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhCdWZmZXJDb3VudFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQnVmZmVyQ291bnRTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBidWZmZXJTaXplKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5idWZmZXJTaXplID0gYnVmZmVyU2l6ZTtcbiAgICAgICAgX3RoaXMuYnVmZmVyID0gW107XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQnVmZmVyQ291bnRTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5idWZmZXI7XG4gICAgICAgIGJ1ZmZlci5wdXNoKHZhbHVlKTtcbiAgICAgICAgaWYgKGJ1ZmZlci5sZW5ndGggPT0gdGhpcy5idWZmZXJTaXplKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQoYnVmZmVyKTtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyID0gW107XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJ1ZmZlckNvdW50U3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5idWZmZXI7XG4gICAgICAgIGlmIChidWZmZXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KGJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5fY29tcGxldGUuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBCdWZmZXJDb3VudFN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbnZhciBCdWZmZXJTa2lwQ291bnRTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEJ1ZmZlclNraXBDb3VudFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQnVmZmVyU2tpcENvdW50U3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgYnVmZmVyU2l6ZSwgc3RhcnRCdWZmZXJFdmVyeSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYnVmZmVyU2l6ZSA9IGJ1ZmZlclNpemU7XG4gICAgICAgIF90aGlzLnN0YXJ0QnVmZmVyRXZlcnkgPSBzdGFydEJ1ZmZlckV2ZXJ5O1xuICAgICAgICBfdGhpcy5idWZmZXJzID0gW107XG4gICAgICAgIF90aGlzLmNvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBCdWZmZXJTa2lwQ291bnRTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBidWZmZXJTaXplID0gX2EuYnVmZmVyU2l6ZSwgc3RhcnRCdWZmZXJFdmVyeSA9IF9hLnN0YXJ0QnVmZmVyRXZlcnksIGJ1ZmZlcnMgPSBfYS5idWZmZXJzLCBjb3VudCA9IF9hLmNvdW50O1xuICAgICAgICB0aGlzLmNvdW50Kys7XG4gICAgICAgIGlmIChjb3VudCAlIHN0YXJ0QnVmZmVyRXZlcnkgPT09IDApIHtcbiAgICAgICAgICAgIGJ1ZmZlcnMucHVzaChbXSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IGJ1ZmZlcnMubGVuZ3RoOyBpLS07KSB7XG4gICAgICAgICAgICB2YXIgYnVmZmVyID0gYnVmZmVyc1tpXTtcbiAgICAgICAgICAgIGJ1ZmZlci5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChidWZmZXIubGVuZ3RoID09PSBidWZmZXJTaXplKSB7XG4gICAgICAgICAgICAgICAgYnVmZmVycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KGJ1ZmZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJ1ZmZlclNraXBDb3VudFN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgYnVmZmVycyA9IF9hLmJ1ZmZlcnMsIGRlc3RpbmF0aW9uID0gX2EuZGVzdGluYXRpb247XG4gICAgICAgIHdoaWxlIChidWZmZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBidWZmZXIgPSBidWZmZXJzLnNoaWZ0KCk7XG4gICAgICAgICAgICBpZiAoYnVmZmVyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbi5uZXh0KGJ1ZmZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5fY29tcGxldGUuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBCdWZmZXJTa2lwQ291bnRTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1idWZmZXJDb3VudC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX3NjaGVkdWxlcl9hc3luYyxfU3Vic2NyaWJlcixfdXRpbF9pc1NjaGVkdWxlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgYXN5bmMgfSBmcm9tICcuLi9zY2hlZHVsZXIvYXN5bmMnO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgaXNTY2hlZHVsZXIgfSBmcm9tICcuLi91dGlsL2lzU2NoZWR1bGVyJztcbmV4cG9ydCBmdW5jdGlvbiBidWZmZXJUaW1lKGJ1ZmZlclRpbWVTcGFuKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgdmFyIHNjaGVkdWxlciA9IGFzeW5jO1xuICAgIGlmIChpc1NjaGVkdWxlcihhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdKSkge1xuICAgICAgICBzY2hlZHVsZXIgPSBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICBsZW5ndGgtLTtcbiAgICB9XG4gICAgdmFyIGJ1ZmZlckNyZWF0aW9uSW50ZXJ2YWwgPSBudWxsO1xuICAgIGlmIChsZW5ndGggPj0gMikge1xuICAgICAgICBidWZmZXJDcmVhdGlvbkludGVydmFsID0gYXJndW1lbnRzWzFdO1xuICAgIH1cbiAgICB2YXIgbWF4QnVmZmVyU2l6ZSA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICBpZiAobGVuZ3RoID49IDMpIHtcbiAgICAgICAgbWF4QnVmZmVyU2l6ZSA9IGFyZ3VtZW50c1syXTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGJ1ZmZlclRpbWVPcGVyYXRvckZ1bmN0aW9uKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IEJ1ZmZlclRpbWVPcGVyYXRvcihidWZmZXJUaW1lU3BhbiwgYnVmZmVyQ3JlYXRpb25JbnRlcnZhbCwgbWF4QnVmZmVyU2l6ZSwgc2NoZWR1bGVyKSk7XG4gICAgfTtcbn1cbnZhciBCdWZmZXJUaW1lT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQnVmZmVyVGltZU9wZXJhdG9yKGJ1ZmZlclRpbWVTcGFuLCBidWZmZXJDcmVhdGlvbkludGVydmFsLCBtYXhCdWZmZXJTaXplLCBzY2hlZHVsZXIpIHtcbiAgICAgICAgdGhpcy5idWZmZXJUaW1lU3BhbiA9IGJ1ZmZlclRpbWVTcGFuO1xuICAgICAgICB0aGlzLmJ1ZmZlckNyZWF0aW9uSW50ZXJ2YWwgPSBidWZmZXJDcmVhdGlvbkludGVydmFsO1xuICAgICAgICB0aGlzLm1heEJ1ZmZlclNpemUgPSBtYXhCdWZmZXJTaXplO1xuICAgICAgICB0aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICB9XG4gICAgQnVmZmVyVGltZU9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgQnVmZmVyVGltZVN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5idWZmZXJUaW1lU3BhbiwgdGhpcy5idWZmZXJDcmVhdGlvbkludGVydmFsLCB0aGlzLm1heEJ1ZmZlclNpemUsIHRoaXMuc2NoZWR1bGVyKSk7XG4gICAgfTtcbiAgICByZXR1cm4gQnVmZmVyVGltZU9wZXJhdG9yO1xufSgpKTtcbnZhciBDb250ZXh0ID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbnRleHQoKSB7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gW107XG4gICAgfVxuICAgIHJldHVybiBDb250ZXh0O1xufSgpKTtcbnZhciBCdWZmZXJUaW1lU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhCdWZmZXJUaW1lU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCdWZmZXJUaW1lU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgYnVmZmVyVGltZVNwYW4sIGJ1ZmZlckNyZWF0aW9uSW50ZXJ2YWwsIG1heEJ1ZmZlclNpemUsIHNjaGVkdWxlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYnVmZmVyVGltZVNwYW4gPSBidWZmZXJUaW1lU3BhbjtcbiAgICAgICAgX3RoaXMuYnVmZmVyQ3JlYXRpb25JbnRlcnZhbCA9IGJ1ZmZlckNyZWF0aW9uSW50ZXJ2YWw7XG4gICAgICAgIF90aGlzLm1heEJ1ZmZlclNpemUgPSBtYXhCdWZmZXJTaXplO1xuICAgICAgICBfdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgICAgIF90aGlzLmNvbnRleHRzID0gW107XG4gICAgICAgIHZhciBjb250ZXh0ID0gX3RoaXMub3BlbkNvbnRleHQoKTtcbiAgICAgICAgX3RoaXMudGltZXNwYW5Pbmx5ID0gYnVmZmVyQ3JlYXRpb25JbnRlcnZhbCA9PSBudWxsIHx8IGJ1ZmZlckNyZWF0aW9uSW50ZXJ2YWwgPCAwO1xuICAgICAgICBpZiAoX3RoaXMudGltZXNwYW5Pbmx5KSB7XG4gICAgICAgICAgICB2YXIgdGltZVNwYW5Pbmx5U3RhdGUgPSB7IHN1YnNjcmliZXI6IF90aGlzLCBjb250ZXh0OiBjb250ZXh0LCBidWZmZXJUaW1lU3BhbjogYnVmZmVyVGltZVNwYW4gfTtcbiAgICAgICAgICAgIF90aGlzLmFkZChjb250ZXh0LmNsb3NlQWN0aW9uID0gc2NoZWR1bGVyLnNjaGVkdWxlKGRpc3BhdGNoQnVmZmVyVGltZVNwYW5Pbmx5LCBidWZmZXJUaW1lU3BhbiwgdGltZVNwYW5Pbmx5U3RhdGUpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBjbG9zZVN0YXRlID0geyBzdWJzY3JpYmVyOiBfdGhpcywgY29udGV4dDogY29udGV4dCB9O1xuICAgICAgICAgICAgdmFyIGNyZWF0aW9uU3RhdGUgPSB7IGJ1ZmZlclRpbWVTcGFuOiBidWZmZXJUaW1lU3BhbiwgYnVmZmVyQ3JlYXRpb25JbnRlcnZhbDogYnVmZmVyQ3JlYXRpb25JbnRlcnZhbCwgc3Vic2NyaWJlcjogX3RoaXMsIHNjaGVkdWxlcjogc2NoZWR1bGVyIH07XG4gICAgICAgICAgICBfdGhpcy5hZGQoY29udGV4dC5jbG9zZUFjdGlvbiA9IHNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaEJ1ZmZlckNsb3NlLCBidWZmZXJUaW1lU3BhbiwgY2xvc2VTdGF0ZSkpO1xuICAgICAgICAgICAgX3RoaXMuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaEJ1ZmZlckNyZWF0aW9uLCBidWZmZXJDcmVhdGlvbkludGVydmFsLCBjcmVhdGlvblN0YXRlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBCdWZmZXJUaW1lU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIGNvbnRleHRzID0gdGhpcy5jb250ZXh0cztcbiAgICAgICAgdmFyIGxlbiA9IGNvbnRleHRzLmxlbmd0aDtcbiAgICAgICAgdmFyIGZpbGxlZEJ1ZmZlckNvbnRleHQ7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjb250ZXh0XzEgPSBjb250ZXh0c1tpXTtcbiAgICAgICAgICAgIHZhciBidWZmZXIgPSBjb250ZXh0XzEuYnVmZmVyO1xuICAgICAgICAgICAgYnVmZmVyLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgaWYgKGJ1ZmZlci5sZW5ndGggPT0gdGhpcy5tYXhCdWZmZXJTaXplKSB7XG4gICAgICAgICAgICAgICAgZmlsbGVkQnVmZmVyQ29udGV4dCA9IGNvbnRleHRfMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlsbGVkQnVmZmVyQ29udGV4dCkge1xuICAgICAgICAgICAgdGhpcy5vbkJ1ZmZlckZ1bGwoZmlsbGVkQnVmZmVyQ29udGV4dCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJ1ZmZlclRpbWVTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHRoaXMuY29udGV4dHMubGVuZ3RoID0gMDtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5fZXJyb3IuY2FsbCh0aGlzLCBlcnIpO1xuICAgIH07XG4gICAgQnVmZmVyVGltZVN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgY29udGV4dHMgPSBfYS5jb250ZXh0cywgZGVzdGluYXRpb24gPSBfYS5kZXN0aW5hdGlvbjtcbiAgICAgICAgd2hpbGUgKGNvbnRleHRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBjb250ZXh0XzIgPSBjb250ZXh0cy5zaGlmdCgpO1xuICAgICAgICAgICAgZGVzdGluYXRpb24ubmV4dChjb250ZXh0XzIuYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLl9jb21wbGV0ZS5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgQnVmZmVyVGltZVN1YnNjcmliZXIucHJvdG90eXBlLl91bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0cyA9IG51bGw7XG4gICAgfTtcbiAgICBCdWZmZXJUaW1lU3Vic2NyaWJlci5wcm90b3R5cGUub25CdWZmZXJGdWxsID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jbG9zZUNvbnRleHQoY29udGV4dCk7XG4gICAgICAgIHZhciBjbG9zZUFjdGlvbiA9IGNvbnRleHQuY2xvc2VBY3Rpb247XG4gICAgICAgIGNsb3NlQWN0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIHRoaXMucmVtb3ZlKGNsb3NlQWN0aW9uKTtcbiAgICAgICAgaWYgKCF0aGlzLmNsb3NlZCAmJiB0aGlzLnRpbWVzcGFuT25seSkge1xuICAgICAgICAgICAgY29udGV4dCA9IHRoaXMub3BlbkNvbnRleHQoKTtcbiAgICAgICAgICAgIHZhciBidWZmZXJUaW1lU3BhbiA9IHRoaXMuYnVmZmVyVGltZVNwYW47XG4gICAgICAgICAgICB2YXIgdGltZVNwYW5Pbmx5U3RhdGUgPSB7IHN1YnNjcmliZXI6IHRoaXMsIGNvbnRleHQ6IGNvbnRleHQsIGJ1ZmZlclRpbWVTcGFuOiBidWZmZXJUaW1lU3BhbiB9O1xuICAgICAgICAgICAgdGhpcy5hZGQoY29udGV4dC5jbG9zZUFjdGlvbiA9IHRoaXMuc2NoZWR1bGVyLnNjaGVkdWxlKGRpc3BhdGNoQnVmZmVyVGltZVNwYW5Pbmx5LCBidWZmZXJUaW1lU3BhbiwgdGltZVNwYW5Pbmx5U3RhdGUpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQnVmZmVyVGltZVN1YnNjcmliZXIucHJvdG90eXBlLm9wZW5Db250ZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29udGV4dCA9IG5ldyBDb250ZXh0KCk7XG4gICAgICAgIHRoaXMuY29udGV4dHMucHVzaChjb250ZXh0KTtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQ7XG4gICAgfTtcbiAgICBCdWZmZXJUaW1lU3Vic2NyaWJlci5wcm90b3R5cGUuY2xvc2VDb250ZXh0ID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KGNvbnRleHQuYnVmZmVyKTtcbiAgICAgICAgdmFyIGNvbnRleHRzID0gdGhpcy5jb250ZXh0cztcbiAgICAgICAgdmFyIHNwbGljZUluZGV4ID0gY29udGV4dHMgPyBjb250ZXh0cy5pbmRleE9mKGNvbnRleHQpIDogLTE7XG4gICAgICAgIGlmIChzcGxpY2VJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICBjb250ZXh0cy5zcGxpY2UoY29udGV4dHMuaW5kZXhPZihjb250ZXh0KSwgMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBCdWZmZXJUaW1lU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZnVuY3Rpb24gZGlzcGF0Y2hCdWZmZXJUaW1lU3Bhbk9ubHkoc3RhdGUpIHtcbiAgICB2YXIgc3Vic2NyaWJlciA9IHN0YXRlLnN1YnNjcmliZXI7XG4gICAgdmFyIHByZXZDb250ZXh0ID0gc3RhdGUuY29udGV4dDtcbiAgICBpZiAocHJldkNvbnRleHQpIHtcbiAgICAgICAgc3Vic2NyaWJlci5jbG9zZUNvbnRleHQocHJldkNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgIHN0YXRlLmNvbnRleHQgPSBzdWJzY3JpYmVyLm9wZW5Db250ZXh0KCk7XG4gICAgICAgIHN0YXRlLmNvbnRleHQuY2xvc2VBY3Rpb24gPSB0aGlzLnNjaGVkdWxlKHN0YXRlLCBzdGF0ZS5idWZmZXJUaW1lU3Bhbik7XG4gICAgfVxufVxuZnVuY3Rpb24gZGlzcGF0Y2hCdWZmZXJDcmVhdGlvbihzdGF0ZSkge1xuICAgIHZhciBidWZmZXJDcmVhdGlvbkludGVydmFsID0gc3RhdGUuYnVmZmVyQ3JlYXRpb25JbnRlcnZhbCwgYnVmZmVyVGltZVNwYW4gPSBzdGF0ZS5idWZmZXJUaW1lU3Bhbiwgc3Vic2NyaWJlciA9IHN0YXRlLnN1YnNjcmliZXIsIHNjaGVkdWxlciA9IHN0YXRlLnNjaGVkdWxlcjtcbiAgICB2YXIgY29udGV4dCA9IHN1YnNjcmliZXIub3BlbkNvbnRleHQoKTtcbiAgICB2YXIgYWN0aW9uID0gdGhpcztcbiAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgIHN1YnNjcmliZXIuYWRkKGNvbnRleHQuY2xvc2VBY3Rpb24gPSBzY2hlZHVsZXIuc2NoZWR1bGUoZGlzcGF0Y2hCdWZmZXJDbG9zZSwgYnVmZmVyVGltZVNwYW4sIHsgc3Vic2NyaWJlcjogc3Vic2NyaWJlciwgY29udGV4dDogY29udGV4dCB9KSk7XG4gICAgICAgIGFjdGlvbi5zY2hlZHVsZShzdGF0ZSwgYnVmZmVyQ3JlYXRpb25JbnRlcnZhbCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZGlzcGF0Y2hCdWZmZXJDbG9zZShhcmcpIHtcbiAgICB2YXIgc3Vic2NyaWJlciA9IGFyZy5zdWJzY3JpYmVyLCBjb250ZXh0ID0gYXJnLmNvbnRleHQ7XG4gICAgc3Vic2NyaWJlci5jbG9zZUNvbnRleHQoY29udGV4dCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1idWZmZXJUaW1lLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaXB0aW9uLF91dGlsX3N1YnNjcmliZVRvUmVzdWx0LF9PdXRlclN1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb1Jlc3VsdCB9IGZyb20gJy4uL3V0aWwvc3Vic2NyaWJlVG9SZXN1bHQnO1xuaW1wb3J0IHsgT3V0ZXJTdWJzY3JpYmVyIH0gZnJvbSAnLi4vT3V0ZXJTdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBidWZmZXJUb2dnbGUob3BlbmluZ3MsIGNsb3NpbmdTZWxlY3Rvcikge1xuICAgIHJldHVybiBmdW5jdGlvbiBidWZmZXJUb2dnbGVPcGVyYXRvckZ1bmN0aW9uKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IEJ1ZmZlclRvZ2dsZU9wZXJhdG9yKG9wZW5pbmdzLCBjbG9zaW5nU2VsZWN0b3IpKTtcbiAgICB9O1xufVxudmFyIEJ1ZmZlclRvZ2dsZU9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJ1ZmZlclRvZ2dsZU9wZXJhdG9yKG9wZW5pbmdzLCBjbG9zaW5nU2VsZWN0b3IpIHtcbiAgICAgICAgdGhpcy5vcGVuaW5ncyA9IG9wZW5pbmdzO1xuICAgICAgICB0aGlzLmNsb3NpbmdTZWxlY3RvciA9IGNsb3NpbmdTZWxlY3RvcjtcbiAgICB9XG4gICAgQnVmZmVyVG9nZ2xlT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBCdWZmZXJUb2dnbGVTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMub3BlbmluZ3MsIHRoaXMuY2xvc2luZ1NlbGVjdG9yKSk7XG4gICAgfTtcbiAgICByZXR1cm4gQnVmZmVyVG9nZ2xlT3BlcmF0b3I7XG59KCkpO1xudmFyIEJ1ZmZlclRvZ2dsZVN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQnVmZmVyVG9nZ2xlU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCdWZmZXJUb2dnbGVTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBvcGVuaW5ncywgY2xvc2luZ1NlbGVjdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5jbG9zaW5nU2VsZWN0b3IgPSBjbG9zaW5nU2VsZWN0b3I7XG4gICAgICAgIF90aGlzLmNvbnRleHRzID0gW107XG4gICAgICAgIF90aGlzLmFkZChzdWJzY3JpYmVUb1Jlc3VsdChfdGhpcywgb3BlbmluZ3MpKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBCdWZmZXJUb2dnbGVTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgY29udGV4dHMgPSB0aGlzLmNvbnRleHRzO1xuICAgICAgICB2YXIgbGVuID0gY29udGV4dHMubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBjb250ZXh0c1tpXS5idWZmZXIucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJ1ZmZlclRvZ2dsZVN1YnNjcmliZXIucHJvdG90eXBlLl9lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgdmFyIGNvbnRleHRzID0gdGhpcy5jb250ZXh0cztcbiAgICAgICAgd2hpbGUgKGNvbnRleHRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBjb250ZXh0XzEgPSBjb250ZXh0cy5zaGlmdCgpO1xuICAgICAgICAgICAgY29udGV4dF8xLnN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgY29udGV4dF8xLmJ1ZmZlciA9IG51bGw7XG4gICAgICAgICAgICBjb250ZXh0XzEuc3Vic2NyaXB0aW9uID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbnRleHRzID0gbnVsbDtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5fZXJyb3IuY2FsbCh0aGlzLCBlcnIpO1xuICAgIH07XG4gICAgQnVmZmVyVG9nZ2xlU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29udGV4dHMgPSB0aGlzLmNvbnRleHRzO1xuICAgICAgICB3aGlsZSAoY29udGV4dHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIGNvbnRleHRfMiA9IGNvbnRleHRzLnNoaWZ0KCk7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQoY29udGV4dF8yLmJ1ZmZlcik7XG4gICAgICAgICAgICBjb250ZXh0XzIuc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICBjb250ZXh0XzIuYnVmZmVyID0gbnVsbDtcbiAgICAgICAgICAgIGNvbnRleHRfMi5zdWJzY3JpcHRpb24gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29udGV4dHMgPSBudWxsO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLl9jb21wbGV0ZS5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgQnVmZmVyVG9nZ2xlU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dCA9IGZ1bmN0aW9uIChvdXRlclZhbHVlLCBpbm5lclZhbHVlKSB7XG4gICAgICAgIG91dGVyVmFsdWUgPyB0aGlzLmNsb3NlQnVmZmVyKG91dGVyVmFsdWUpIDogdGhpcy5vcGVuQnVmZmVyKGlubmVyVmFsdWUpO1xuICAgIH07XG4gICAgQnVmZmVyVG9nZ2xlU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5Q29tcGxldGUgPSBmdW5jdGlvbiAoaW5uZXJTdWIpIHtcbiAgICAgICAgdGhpcy5jbG9zZUJ1ZmZlcihpbm5lclN1Yi5jb250ZXh0KTtcbiAgICB9O1xuICAgIEJ1ZmZlclRvZ2dsZVN1YnNjcmliZXIucHJvdG90eXBlLm9wZW5CdWZmZXIgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBjbG9zaW5nU2VsZWN0b3IgPSB0aGlzLmNsb3NpbmdTZWxlY3RvcjtcbiAgICAgICAgICAgIHZhciBjbG9zaW5nTm90aWZpZXIgPSBjbG9zaW5nU2VsZWN0b3IuY2FsbCh0aGlzLCB2YWx1ZSk7XG4gICAgICAgICAgICBpZiAoY2xvc2luZ05vdGlmaWVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cnlTdWJzY3JpYmUoY2xvc2luZ05vdGlmaWVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLl9lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCdWZmZXJUb2dnbGVTdWJzY3JpYmVyLnByb3RvdHlwZS5jbG9zZUJ1ZmZlciA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIHZhciBjb250ZXh0cyA9IHRoaXMuY29udGV4dHM7XG4gICAgICAgIGlmIChjb250ZXh0cyAmJiBjb250ZXh0KSB7XG4gICAgICAgICAgICB2YXIgYnVmZmVyID0gY29udGV4dC5idWZmZXIsIHN1YnNjcmlwdGlvbiA9IGNvbnRleHQuc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KGJ1ZmZlcik7XG4gICAgICAgICAgICBjb250ZXh0cy5zcGxpY2UoY29udGV4dHMuaW5kZXhPZihjb250ZXh0KSwgMSk7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZShzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJ1ZmZlclRvZ2dsZVN1YnNjcmliZXIucHJvdG90eXBlLnRyeVN1YnNjcmliZSA9IGZ1bmN0aW9uIChjbG9zaW5nTm90aWZpZXIpIHtcbiAgICAgICAgdmFyIGNvbnRleHRzID0gdGhpcy5jb250ZXh0cztcbiAgICAgICAgdmFyIGJ1ZmZlciA9IFtdO1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICB2YXIgY29udGV4dCA9IHsgYnVmZmVyOiBidWZmZXIsIHN1YnNjcmlwdGlvbjogc3Vic2NyaXB0aW9uIH07XG4gICAgICAgIGNvbnRleHRzLnB1c2goY29udGV4dCk7XG4gICAgICAgIHZhciBpbm5lclN1YnNjcmlwdGlvbiA9IHN1YnNjcmliZVRvUmVzdWx0KHRoaXMsIGNsb3NpbmdOb3RpZmllciwgY29udGV4dCk7XG4gICAgICAgIGlmICghaW5uZXJTdWJzY3JpcHRpb24gfHwgaW5uZXJTdWJzY3JpcHRpb24uY2xvc2VkKSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlQnVmZmVyKGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW5uZXJTdWJzY3JpcHRpb24uY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgICAgICB0aGlzLmFkZChpbm5lclN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24uYWRkKGlubmVyU3Vic2NyaXB0aW9uKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEJ1ZmZlclRvZ2dsZVN1YnNjcmliZXI7XG59KE91dGVyU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnVmZmVyVG9nZ2xlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaXB0aW9uLF9pbm5lclN1YnNjcmliZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IFNpbXBsZU91dGVyU3Vic2NyaWJlciwgaW5uZXJTdWJzY3JpYmUsIFNpbXBsZUlubmVyU3Vic2NyaWJlciB9IGZyb20gJy4uL2lubmVyU3Vic2NyaWJlJztcbmV4cG9ydCBmdW5jdGlvbiBidWZmZXJXaGVuKGNsb3NpbmdTZWxlY3Rvcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2UubGlmdChuZXcgQnVmZmVyV2hlbk9wZXJhdG9yKGNsb3NpbmdTZWxlY3RvcikpO1xuICAgIH07XG59XG52YXIgQnVmZmVyV2hlbk9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJ1ZmZlcldoZW5PcGVyYXRvcihjbG9zaW5nU2VsZWN0b3IpIHtcbiAgICAgICAgdGhpcy5jbG9zaW5nU2VsZWN0b3IgPSBjbG9zaW5nU2VsZWN0b3I7XG4gICAgfVxuICAgIEJ1ZmZlcldoZW5PcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IEJ1ZmZlcldoZW5TdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMuY2xvc2luZ1NlbGVjdG9yKSk7XG4gICAgfTtcbiAgICByZXR1cm4gQnVmZmVyV2hlbk9wZXJhdG9yO1xufSgpKTtcbnZhciBCdWZmZXJXaGVuU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhCdWZmZXJXaGVuU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCdWZmZXJXaGVuU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgY2xvc2luZ1NlbGVjdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5jbG9zaW5nU2VsZWN0b3IgPSBjbG9zaW5nU2VsZWN0b3I7XG4gICAgICAgIF90aGlzLnN1YnNjcmliaW5nID0gZmFsc2U7XG4gICAgICAgIF90aGlzLm9wZW5CdWZmZXIoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBCdWZmZXJXaGVuU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5idWZmZXIucHVzaCh2YWx1ZSk7XG4gICAgfTtcbiAgICBCdWZmZXJXaGVuU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5idWZmZXI7XG4gICAgICAgIGlmIChidWZmZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChidWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuX2NvbXBsZXRlLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICBCdWZmZXJXaGVuU3Vic2NyaWJlci5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmluZyA9IGZhbHNlO1xuICAgIH07XG4gICAgQnVmZmVyV2hlblN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMub3BlbkJ1ZmZlcigpO1xuICAgIH07XG4gICAgQnVmZmVyV2hlblN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zdWJzY3JpYmluZykge1xuICAgICAgICAgICAgdGhpcy5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5vcGVuQnVmZmVyKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJ1ZmZlcldoZW5TdWJzY3JpYmVyLnByb3RvdHlwZS5vcGVuQnVmZmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2xvc2luZ1N1YnNjcmlwdGlvbiA9IHRoaXMuY2xvc2luZ1N1YnNjcmlwdGlvbjtcbiAgICAgICAgaWYgKGNsb3NpbmdTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKGNsb3NpbmdTdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgY2xvc2luZ1N1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBidWZmZXIgPSB0aGlzLmJ1ZmZlcjtcbiAgICAgICAgaWYgKHRoaXMuYnVmZmVyKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQoYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJ1ZmZlciA9IFtdO1xuICAgICAgICB2YXIgY2xvc2luZ05vdGlmaWVyO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGNsb3NpbmdTZWxlY3RvciA9IHRoaXMuY2xvc2luZ1NlbGVjdG9yO1xuICAgICAgICAgICAgY2xvc2luZ05vdGlmaWVyID0gY2xvc2luZ1NlbGVjdG9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBjbG9zaW5nU3Vic2NyaXB0aW9uID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICB0aGlzLmNsb3NpbmdTdWJzY3JpcHRpb24gPSBjbG9zaW5nU3Vic2NyaXB0aW9uO1xuICAgICAgICB0aGlzLmFkZChjbG9zaW5nU3Vic2NyaXB0aW9uKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmluZyA9IHRydWU7XG4gICAgICAgIGNsb3NpbmdTdWJzY3JpcHRpb24uYWRkKGlubmVyU3Vic2NyaWJlKGNsb3NpbmdOb3RpZmllciwgbmV3IFNpbXBsZUlubmVyU3Vic2NyaWJlcih0aGlzKSkpO1xuICAgICAgICB0aGlzLnN1YnNjcmliaW5nID0gZmFsc2U7XG4gICAgfTtcbiAgICByZXR1cm4gQnVmZmVyV2hlblN1YnNjcmliZXI7XG59KFNpbXBsZU91dGVyU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnVmZmVyV2hlbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX2lubmVyU3Vic2NyaWJlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTaW1wbGVPdXRlclN1YnNjcmliZXIsIFNpbXBsZUlubmVyU3Vic2NyaWJlciwgaW5uZXJTdWJzY3JpYmUgfSBmcm9tICcuLi9pbm5lclN1YnNjcmliZSc7XG5leHBvcnQgZnVuY3Rpb24gY2F0Y2hFcnJvcihzZWxlY3Rvcikge1xuICAgIHJldHVybiBmdW5jdGlvbiBjYXRjaEVycm9yT3BlcmF0b3JGdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgICAgdmFyIG9wZXJhdG9yID0gbmV3IENhdGNoT3BlcmF0b3Ioc2VsZWN0b3IpO1xuICAgICAgICB2YXIgY2F1Z2h0ID0gc291cmNlLmxpZnQob3BlcmF0b3IpO1xuICAgICAgICByZXR1cm4gKG9wZXJhdG9yLmNhdWdodCA9IGNhdWdodCk7XG4gICAgfTtcbn1cbnZhciBDYXRjaE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENhdGNoT3BlcmF0b3Ioc2VsZWN0b3IpIHtcbiAgICAgICAgdGhpcy5zZWxlY3RvciA9IHNlbGVjdG9yO1xuICAgIH1cbiAgICBDYXRjaE9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgQ2F0Y2hTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMuc2VsZWN0b3IsIHRoaXMuY2F1Z2h0KSk7XG4gICAgfTtcbiAgICByZXR1cm4gQ2F0Y2hPcGVyYXRvcjtcbn0oKSk7XG52YXIgQ2F0Y2hTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKENhdGNoU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDYXRjaFN1YnNjcmliZXIoZGVzdGluYXRpb24sIHNlbGVjdG9yLCBjYXVnaHQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNlbGVjdG9yID0gc2VsZWN0b3I7XG4gICAgICAgIF90aGlzLmNhdWdodCA9IGNhdWdodDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBDYXRjaFN1YnNjcmliZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gdm9pZCAwO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLnNlbGVjdG9yKGVyciwgdGhpcy5jYXVnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycjIpIHtcbiAgICAgICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLmVycm9yLmNhbGwodGhpcywgZXJyMik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdW5zdWJzY3JpYmVBbmRSZWN5Y2xlKCk7XG4gICAgICAgICAgICB2YXIgaW5uZXJTdWJzY3JpYmVyID0gbmV3IFNpbXBsZUlubmVyU3Vic2NyaWJlcih0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuYWRkKGlubmVyU3Vic2NyaWJlcik7XG4gICAgICAgICAgICB2YXIgaW5uZXJTdWJzY3JpcHRpb24gPSBpbm5lclN1YnNjcmliZShyZXN1bHQsIGlubmVyU3Vic2NyaWJlcik7XG4gICAgICAgICAgICBpZiAoaW5uZXJTdWJzY3JpcHRpb24gIT09IGlubmVyU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkKGlubmVyU3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIENhdGNoU3Vic2NyaWJlcjtcbn0oU2ltcGxlT3V0ZXJTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYXRjaEVycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfb2JzZXJ2YWJsZV9jb21iaW5lTGF0ZXN0IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IENvbWJpbmVMYXRlc3RPcGVyYXRvciB9IGZyb20gJy4uL29ic2VydmFibGUvY29tYmluZUxhdGVzdCc7XG5leHBvcnQgZnVuY3Rpb24gY29tYmluZUFsbChwcm9qZWN0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBDb21iaW5lTGF0ZXN0T3BlcmF0b3IocHJvamVjdCkpOyB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tYmluZUFsbC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3V0aWxfaXNBcnJheSxfb2JzZXJ2YWJsZV9jb21iaW5lTGF0ZXN0LF9vYnNlcnZhYmxlX2Zyb20gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheSc7XG5pbXBvcnQgeyBDb21iaW5lTGF0ZXN0T3BlcmF0b3IgfSBmcm9tICcuLi9vYnNlcnZhYmxlL2NvbWJpbmVMYXRlc3QnO1xuaW1wb3J0IHsgZnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvZnJvbSc7XG52YXIgbm9uZSA9IHt9O1xuZXhwb3J0IGZ1bmN0aW9uIGNvbWJpbmVMYXRlc3QoKSB7XG4gICAgdmFyIG9ic2VydmFibGVzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgb2JzZXJ2YWJsZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHByb2plY3QgPSBudWxsO1xuICAgIGlmICh0eXBlb2Ygb2JzZXJ2YWJsZXNbb2JzZXJ2YWJsZXMubGVuZ3RoIC0gMV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcHJvamVjdCA9IG9ic2VydmFibGVzLnBvcCgpO1xuICAgIH1cbiAgICBpZiAob2JzZXJ2YWJsZXMubGVuZ3RoID09PSAxICYmIGlzQXJyYXkob2JzZXJ2YWJsZXNbMF0pKSB7XG4gICAgICAgIG9ic2VydmFibGVzID0gb2JzZXJ2YWJsZXNbMF0uc2xpY2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5saWZ0LmNhbGwoZnJvbShbc291cmNlXS5jb25jYXQob2JzZXJ2YWJsZXMpKSwgbmV3IENvbWJpbmVMYXRlc3RPcGVyYXRvcihwcm9qZWN0KSk7IH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21iaW5lTGF0ZXN0LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfb2JzZXJ2YWJsZV9jb25jYXQgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgY29uY2F0IGFzIGNvbmNhdFN0YXRpYyB9IGZyb20gJy4uL29ic2VydmFibGUvY29uY2F0JztcbmV4cG9ydCBmdW5jdGlvbiBjb25jYXQoKSB7XG4gICAgdmFyIG9ic2VydmFibGVzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgb2JzZXJ2YWJsZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5saWZ0LmNhbGwoY29uY2F0U3RhdGljLmFwcGx5KHZvaWQgMCwgW3NvdXJjZV0uY29uY2F0KG9ic2VydmFibGVzKSkpOyB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uY2F0LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfbWVyZ2VBbGwgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgbWVyZ2VBbGwgfSBmcm9tICcuL21lcmdlQWxsJztcbmV4cG9ydCBmdW5jdGlvbiBjb25jYXRBbGwoKSB7XG4gICAgcmV0dXJuIG1lcmdlQWxsKDEpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uY2F0QWxsLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfbWVyZ2VNYXAgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgbWVyZ2VNYXAgfSBmcm9tICcuL21lcmdlTWFwJztcbmV4cG9ydCBmdW5jdGlvbiBjb25jYXRNYXAocHJvamVjdCwgcmVzdWx0U2VsZWN0b3IpIHtcbiAgICByZXR1cm4gbWVyZ2VNYXAocHJvamVjdCwgcmVzdWx0U2VsZWN0b3IsIDEpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uY2F0TWFwLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfY29uY2F0TWFwIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGNvbmNhdE1hcCB9IGZyb20gJy4vY29uY2F0TWFwJztcbmV4cG9ydCBmdW5jdGlvbiBjb25jYXRNYXBUbyhpbm5lck9ic2VydmFibGUsIHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIGNvbmNhdE1hcChmdW5jdGlvbiAoKSB7IHJldHVybiBpbm5lck9ic2VydmFibGU7IH0sIHJlc3VsdFNlbGVjdG9yKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmNhdE1hcFRvLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIGNvdW50KHByZWRpY2F0ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UubGlmdChuZXcgQ291bnRPcGVyYXRvcihwcmVkaWNhdGUsIHNvdXJjZSkpOyB9O1xufVxudmFyIENvdW50T3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ291bnRPcGVyYXRvcihwcmVkaWNhdGUsIHNvdXJjZSkge1xuICAgICAgICB0aGlzLnByZWRpY2F0ZSA9IHByZWRpY2F0ZTtcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgfVxuICAgIENvdW50T3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBDb3VudFN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5wcmVkaWNhdGUsIHRoaXMuc291cmNlKSk7XG4gICAgfTtcbiAgICByZXR1cm4gQ291bnRPcGVyYXRvcjtcbn0oKSk7XG52YXIgQ291bnRTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKENvdW50U3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDb3VudFN1YnNjcmliZXIoZGVzdGluYXRpb24sIHByZWRpY2F0ZSwgc291cmNlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wcmVkaWNhdGUgPSBwcmVkaWNhdGU7XG4gICAgICAgIF90aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgX3RoaXMuY291bnQgPSAwO1xuICAgICAgICBfdGhpcy5pbmRleCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQ291bnRTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5wcmVkaWNhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3RyeVByZWRpY2F0ZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNvdW50Kys7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvdW50U3Vic2NyaWJlci5wcm90b3R5cGUuX3RyeVByZWRpY2F0ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5wcmVkaWNhdGUodmFsdWUsIHRoaXMuaW5kZXgrKywgdGhpcy5zb3VyY2UpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICB0aGlzLmNvdW50Kys7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvdW50U3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodGhpcy5jb3VudCk7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICB9O1xuICAgIHJldHVybiBDb3VudFN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvdW50LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfaW5uZXJTdWJzY3JpYmUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFNpbXBsZU91dGVyU3Vic2NyaWJlciwgaW5uZXJTdWJzY3JpYmUsIFNpbXBsZUlubmVyU3Vic2NyaWJlciB9IGZyb20gJy4uL2lubmVyU3Vic2NyaWJlJztcbmV4cG9ydCBmdW5jdGlvbiBkZWJvdW5jZShkdXJhdGlvblNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBEZWJvdW5jZU9wZXJhdG9yKGR1cmF0aW9uU2VsZWN0b3IpKTsgfTtcbn1cbnZhciBEZWJvdW5jZU9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERlYm91bmNlT3BlcmF0b3IoZHVyYXRpb25TZWxlY3Rvcikge1xuICAgICAgICB0aGlzLmR1cmF0aW9uU2VsZWN0b3IgPSBkdXJhdGlvblNlbGVjdG9yO1xuICAgIH1cbiAgICBEZWJvdW5jZU9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgRGVib3VuY2VTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMuZHVyYXRpb25TZWxlY3RvcikpO1xuICAgIH07XG4gICAgcmV0dXJuIERlYm91bmNlT3BlcmF0b3I7XG59KCkpO1xudmFyIERlYm91bmNlU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhEZWJvdW5jZVN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRGVib3VuY2VTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBkdXJhdGlvblNlbGVjdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kdXJhdGlvblNlbGVjdG9yID0gZHVyYXRpb25TZWxlY3RvcjtcbiAgICAgICAgX3RoaXMuaGFzVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBEZWJvdW5jZVN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5kdXJhdGlvblNlbGVjdG9yLmNhbGwodGhpcywgdmFsdWUpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyeU5leHQodmFsdWUsIHJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEZWJvdW5jZVN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5lbWl0VmFsdWUoKTtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgIH07XG4gICAgRGVib3VuY2VTdWJzY3JpYmVyLnByb3RvdHlwZS5fdHJ5TmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSwgZHVyYXRpb24pIHtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IHRoaXMuZHVyYXRpb25TdWJzY3JpcHRpb247XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5oYXNWYWx1ZSA9IHRydWU7XG4gICAgICAgIGlmIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgdGhpcy5yZW1vdmUoc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBzdWJzY3JpcHRpb24gPSBpbm5lclN1YnNjcmliZShkdXJhdGlvbiwgbmV3IFNpbXBsZUlubmVyU3Vic2NyaWJlcih0aGlzKSk7XG4gICAgICAgIGlmIChzdWJzY3JpcHRpb24gJiYgIXN1YnNjcmlwdGlvbi5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkKHRoaXMuZHVyYXRpb25TdWJzY3JpcHRpb24gPSBzdWJzY3JpcHRpb24pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEZWJvdW5jZVN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZW1pdFZhbHVlKCk7XG4gICAgfTtcbiAgICBEZWJvdW5jZVN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmVtaXRWYWx1ZSgpO1xuICAgIH07XG4gICAgRGVib3VuY2VTdWJzY3JpYmVyLnByb3RvdHlwZS5lbWl0VmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc1ZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnZhbHVlO1xuICAgICAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IHRoaXMuZHVyYXRpb25TdWJzY3JpcHRpb247XG4gICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kdXJhdGlvblN1YnNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZShzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuaGFzVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUuX25leHQuY2FsbCh0aGlzLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBEZWJvdW5jZVN1YnNjcmliZXI7XG59KFNpbXBsZU91dGVyU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVib3VuY2UuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyLF9zY2hlZHVsZXJfYXN5bmMgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IGFzeW5jIH0gZnJvbSAnLi4vc2NoZWR1bGVyL2FzeW5jJztcbmV4cG9ydCBmdW5jdGlvbiBkZWJvdW5jZVRpbWUoZHVlVGltZSwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKHNjaGVkdWxlciA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHNjaGVkdWxlciA9IGFzeW5jO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLmxpZnQobmV3IERlYm91bmNlVGltZU9wZXJhdG9yKGR1ZVRpbWUsIHNjaGVkdWxlcikpOyB9O1xufVxudmFyIERlYm91bmNlVGltZU9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERlYm91bmNlVGltZU9wZXJhdG9yKGR1ZVRpbWUsIHNjaGVkdWxlcikge1xuICAgICAgICB0aGlzLmR1ZVRpbWUgPSBkdWVUaW1lO1xuICAgICAgICB0aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICB9XG4gICAgRGVib3VuY2VUaW1lT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBEZWJvdW5jZVRpbWVTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMuZHVlVGltZSwgdGhpcy5zY2hlZHVsZXIpKTtcbiAgICB9O1xuICAgIHJldHVybiBEZWJvdW5jZVRpbWVPcGVyYXRvcjtcbn0oKSk7XG52YXIgRGVib3VuY2VUaW1lU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhEZWJvdW5jZVRpbWVTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIERlYm91bmNlVGltZVN1YnNjcmliZXIoZGVzdGluYXRpb24sIGR1ZVRpbWUsIHNjaGVkdWxlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZHVlVGltZSA9IGR1ZVRpbWU7XG4gICAgICAgIF90aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICAgICAgX3RoaXMuZGVib3VuY2VkU3Vic2NyaXB0aW9uID0gbnVsbDtcbiAgICAgICAgX3RoaXMubGFzdFZhbHVlID0gbnVsbDtcbiAgICAgICAgX3RoaXMuaGFzVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBEZWJvdW5jZVRpbWVTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmNsZWFyRGVib3VuY2UoKTtcbiAgICAgICAgdGhpcy5sYXN0VmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5oYXNWYWx1ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuYWRkKHRoaXMuZGVib3VuY2VkU3Vic2NyaXB0aW9uID0gdGhpcy5zY2hlZHVsZXIuc2NoZWR1bGUoZGlzcGF0Y2hOZXh0LCB0aGlzLmR1ZVRpbWUsIHRoaXMpKTtcbiAgICB9O1xuICAgIERlYm91bmNlVGltZVN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kZWJvdW5jZWROZXh0KCk7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICB9O1xuICAgIERlYm91bmNlVGltZVN1YnNjcmliZXIucHJvdG90eXBlLmRlYm91bmNlZE5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2xlYXJEZWJvdW5jZSgpO1xuICAgICAgICBpZiAodGhpcy5oYXNWYWx1ZSkge1xuICAgICAgICAgICAgdmFyIGxhc3RWYWx1ZSA9IHRoaXMubGFzdFZhbHVlO1xuICAgICAgICAgICAgdGhpcy5sYXN0VmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5oYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KGxhc3RWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERlYm91bmNlVGltZVN1YnNjcmliZXIucHJvdG90eXBlLmNsZWFyRGVib3VuY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkZWJvdW5jZWRTdWJzY3JpcHRpb24gPSB0aGlzLmRlYm91bmNlZFN1YnNjcmlwdGlvbjtcbiAgICAgICAgaWYgKGRlYm91bmNlZFN1YnNjcmlwdGlvbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmUoZGVib3VuY2VkU3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgIGRlYm91bmNlZFN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgdGhpcy5kZWJvdW5jZWRTdWJzY3JpcHRpb24gPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRGVib3VuY2VUaW1lU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZnVuY3Rpb24gZGlzcGF0Y2hOZXh0KHN1YnNjcmliZXIpIHtcbiAgICBzdWJzY3JpYmVyLmRlYm91bmNlZE5leHQoKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlYm91bmNlVGltZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0SWZFbXB0eShkZWZhdWx0VmFsdWUpIHtcbiAgICBpZiAoZGVmYXVsdFZhbHVlID09PSB2b2lkIDApIHtcbiAgICAgICAgZGVmYXVsdFZhbHVlID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBEZWZhdWx0SWZFbXB0eU9wZXJhdG9yKGRlZmF1bHRWYWx1ZSkpOyB9O1xufVxudmFyIERlZmF1bHRJZkVtcHR5T3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGVmYXVsdElmRW1wdHlPcGVyYXRvcihkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgdGhpcy5kZWZhdWx0VmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgfVxuICAgIERlZmF1bHRJZkVtcHR5T3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBEZWZhdWx0SWZFbXB0eVN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5kZWZhdWx0VmFsdWUpKTtcbiAgICB9O1xuICAgIHJldHVybiBEZWZhdWx0SWZFbXB0eU9wZXJhdG9yO1xufSgpKTtcbnZhciBEZWZhdWx0SWZFbXB0eVN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoRGVmYXVsdElmRW1wdHlTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIERlZmF1bHRJZkVtcHR5U3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kZWZhdWx0VmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgIF90aGlzLmlzRW1wdHkgPSB0cnVlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIERlZmF1bHRJZkVtcHR5U3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5pc0VtcHR5ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgfTtcbiAgICBEZWZhdWx0SWZFbXB0eVN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNFbXB0eSkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHRoaXMuZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gRGVmYXVsdElmRW1wdHlTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWZhdWx0SWZFbXB0eS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX3NjaGVkdWxlcl9hc3luYyxfdXRpbF9pc0RhdGUsX1N1YnNjcmliZXIsX05vdGlmaWNhdGlvbiBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgYXN5bmMgfSBmcm9tICcuLi9zY2hlZHVsZXIvYXN5bmMnO1xuaW1wb3J0IHsgaXNEYXRlIH0gZnJvbSAnLi4vdXRpbC9pc0RhdGUnO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgTm90aWZpY2F0aW9uIH0gZnJvbSAnLi4vTm90aWZpY2F0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiBkZWxheShkZWxheSwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKHNjaGVkdWxlciA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHNjaGVkdWxlciA9IGFzeW5jO1xuICAgIH1cbiAgICB2YXIgYWJzb2x1dGVEZWxheSA9IGlzRGF0ZShkZWxheSk7XG4gICAgdmFyIGRlbGF5Rm9yID0gYWJzb2x1dGVEZWxheSA/ICgrZGVsYXkgLSBzY2hlZHVsZXIubm93KCkpIDogTWF0aC5hYnMoZGVsYXkpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UubGlmdChuZXcgRGVsYXlPcGVyYXRvcihkZWxheUZvciwgc2NoZWR1bGVyKSk7IH07XG59XG52YXIgRGVsYXlPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZWxheU9wZXJhdG9yKGRlbGF5LCBzY2hlZHVsZXIpIHtcbiAgICAgICAgdGhpcy5kZWxheSA9IGRlbGF5O1xuICAgICAgICB0aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICB9XG4gICAgRGVsYXlPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IERlbGF5U3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLmRlbGF5LCB0aGlzLnNjaGVkdWxlcikpO1xuICAgIH07XG4gICAgcmV0dXJuIERlbGF5T3BlcmF0b3I7XG59KCkpO1xudmFyIERlbGF5U3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhEZWxheVN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRGVsYXlTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBkZWxheSwgc2NoZWR1bGVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kZWxheSA9IGRlbGF5O1xuICAgICAgICBfdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgICAgIF90aGlzLnF1ZXVlID0gW107XG4gICAgICAgIF90aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5lcnJvcmVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgRGVsYXlTdWJzY3JpYmVyLmRpc3BhdGNoID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSBzdGF0ZS5zb3VyY2U7XG4gICAgICAgIHZhciBxdWV1ZSA9IHNvdXJjZS5xdWV1ZTtcbiAgICAgICAgdmFyIHNjaGVkdWxlciA9IHN0YXRlLnNjaGVkdWxlcjtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gc3RhdGUuZGVzdGluYXRpb247XG4gICAgICAgIHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwICYmIChxdWV1ZVswXS50aW1lIC0gc2NoZWR1bGVyLm5vdygpKSA8PSAwKSB7XG4gICAgICAgICAgICBxdWV1ZS5zaGlmdCgpLm5vdGlmaWNhdGlvbi5vYnNlcnZlKGRlc3RpbmF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIGRlbGF5XzEgPSBNYXRoLm1heCgwLCBxdWV1ZVswXS50aW1lIC0gc2NoZWR1bGVyLm5vdygpKTtcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGUoc3RhdGUsIGRlbGF5XzEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgc291cmNlLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEZWxheVN1YnNjcmliZXIucHJvdG90eXBlLl9zY2hlZHVsZSA9IGZ1bmN0aW9uIChzY2hlZHVsZXIpIHtcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICBkZXN0aW5hdGlvbi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKERlbGF5U3Vic2NyaWJlci5kaXNwYXRjaCwgdGhpcy5kZWxheSwge1xuICAgICAgICAgICAgc291cmNlOiB0aGlzLCBkZXN0aW5hdGlvbjogdGhpcy5kZXN0aW5hdGlvbiwgc2NoZWR1bGVyOiBzY2hlZHVsZXJcbiAgICAgICAgfSkpO1xuICAgIH07XG4gICAgRGVsYXlTdWJzY3JpYmVyLnByb3RvdHlwZS5zY2hlZHVsZU5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb24pIHtcbiAgICAgICAgaWYgKHRoaXMuZXJyb3JlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzY2hlZHVsZXIgPSB0aGlzLnNjaGVkdWxlcjtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSBuZXcgRGVsYXlNZXNzYWdlKHNjaGVkdWxlci5ub3coKSArIHRoaXMuZGVsYXksIG5vdGlmaWNhdGlvbik7XG4gICAgICAgIHRoaXMucXVldWUucHVzaChtZXNzYWdlKTtcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy5fc2NoZWR1bGUoc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGVsYXlTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLnNjaGVkdWxlTm90aWZpY2F0aW9uKE5vdGlmaWNhdGlvbi5jcmVhdGVOZXh0KHZhbHVlKSk7XG4gICAgfTtcbiAgICBEZWxheVN1YnNjcmliZXIucHJvdG90eXBlLl9lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgdGhpcy5lcnJvcmVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIERlbGF5U3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNjaGVkdWxlTm90aWZpY2F0aW9uKE5vdGlmaWNhdGlvbi5jcmVhdGVDb21wbGV0ZSgpKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIERlbGF5U3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xudmFyIERlbGF5TWVzc2FnZSA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZWxheU1lc3NhZ2UodGltZSwgbm90aWZpY2F0aW9uKSB7XG4gICAgICAgIHRoaXMudGltZSA9IHRpbWU7XG4gICAgICAgIHRoaXMubm90aWZpY2F0aW9uID0gbm90aWZpY2F0aW9uO1xuICAgIH1cbiAgICByZXR1cm4gRGVsYXlNZXNzYWdlO1xufSgpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlbGF5LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlcixfT2JzZXJ2YWJsZSxfT3V0ZXJTdWJzY3JpYmVyLF91dGlsX3N1YnNjcmliZVRvUmVzdWx0IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBPdXRlclN1YnNjcmliZXIgfSBmcm9tICcuLi9PdXRlclN1YnNjcmliZXInO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG9SZXN1bHQgfSBmcm9tICcuLi91dGlsL3N1YnNjcmliZVRvUmVzdWx0JztcbmV4cG9ydCBmdW5jdGlvbiBkZWxheVdoZW4oZGVsYXlEdXJhdGlvblNlbGVjdG9yLCBzdWJzY3JpcHRpb25EZWxheSkge1xuICAgIGlmIChzdWJzY3JpcHRpb25EZWxheSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTdWJzY3JpcHRpb25EZWxheU9ic2VydmFibGUoc291cmNlLCBzdWJzY3JpcHRpb25EZWxheSlcbiAgICAgICAgICAgICAgICAubGlmdChuZXcgRGVsYXlXaGVuT3BlcmF0b3IoZGVsYXlEdXJhdGlvblNlbGVjdG9yKSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UubGlmdChuZXcgRGVsYXlXaGVuT3BlcmF0b3IoZGVsYXlEdXJhdGlvblNlbGVjdG9yKSk7IH07XG59XG52YXIgRGVsYXlXaGVuT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGVsYXlXaGVuT3BlcmF0b3IoZGVsYXlEdXJhdGlvblNlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMuZGVsYXlEdXJhdGlvblNlbGVjdG9yID0gZGVsYXlEdXJhdGlvblNlbGVjdG9yO1xuICAgIH1cbiAgICBEZWxheVdoZW5PcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IERlbGF5V2hlblN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5kZWxheUR1cmF0aW9uU2VsZWN0b3IpKTtcbiAgICB9O1xuICAgIHJldHVybiBEZWxheVdoZW5PcGVyYXRvcjtcbn0oKSk7XG52YXIgRGVsYXlXaGVuU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhEZWxheVdoZW5TdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIERlbGF5V2hlblN1YnNjcmliZXIoZGVzdGluYXRpb24sIGRlbGF5RHVyYXRpb25TZWxlY3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZGVsYXlEdXJhdGlvblNlbGVjdG9yID0gZGVsYXlEdXJhdGlvblNlbGVjdG9yO1xuICAgICAgICBfdGhpcy5jb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuZGVsYXlOb3RpZmllclN1YnNjcmlwdGlvbnMgPSBbXTtcbiAgICAgICAgX3RoaXMuaW5kZXggPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIERlbGF5V2hlblN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQgPSBmdW5jdGlvbiAob3V0ZXJWYWx1ZSwgX2lubmVyVmFsdWUsIF9vdXRlckluZGV4LCBfaW5uZXJJbmRleCwgaW5uZXJTdWIpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KG91dGVyVmFsdWUpO1xuICAgICAgICB0aGlzLnJlbW92ZVN1YnNjcmlwdGlvbihpbm5lclN1Yik7XG4gICAgICAgIHRoaXMudHJ5Q29tcGxldGUoKTtcbiAgICB9O1xuICAgIERlbGF5V2hlblN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUVycm9yID0gZnVuY3Rpb24gKGVycm9yLCBpbm5lclN1Yikge1xuICAgICAgICB0aGlzLl9lcnJvcihlcnJvcik7XG4gICAgfTtcbiAgICBEZWxheVdoZW5TdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uIChpbm5lclN1Yikge1xuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnJlbW92ZVN1YnNjcmlwdGlvbihpbm5lclN1Yik7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyeUNvbXBsZXRlKCk7XG4gICAgfTtcbiAgICBEZWxheVdoZW5TdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4Kys7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgZGVsYXlOb3RpZmllciA9IHRoaXMuZGVsYXlEdXJhdGlvblNlbGVjdG9yKHZhbHVlLCBpbmRleCk7XG4gICAgICAgICAgICBpZiAoZGVsYXlOb3RpZmllcikge1xuICAgICAgICAgICAgICAgIHRoaXMudHJ5RGVsYXkoZGVsYXlOb3RpZmllciwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGVsYXlXaGVuU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMudHJ5Q29tcGxldGUoKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgRGVsYXlXaGVuU3Vic2NyaWJlci5wcm90b3R5cGUucmVtb3ZlU3Vic2NyaXB0aW9uID0gZnVuY3Rpb24gKHN1YnNjcmlwdGlvbikge1xuICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbklkeCA9IHRoaXMuZGVsYXlOb3RpZmllclN1YnNjcmlwdGlvbnMuaW5kZXhPZihzdWJzY3JpcHRpb24pO1xuICAgICAgICBpZiAoc3Vic2NyaXB0aW9uSWR4ICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5kZWxheU5vdGlmaWVyU3Vic2NyaXB0aW9ucy5zcGxpY2Uoc3Vic2NyaXB0aW9uSWR4LCAxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uLm91dGVyVmFsdWU7XG4gICAgfTtcbiAgICBEZWxheVdoZW5TdWJzY3JpYmVyLnByb3RvdHlwZS50cnlEZWxheSA9IGZ1bmN0aW9uIChkZWxheU5vdGlmaWVyLCB2YWx1ZSkge1xuICAgICAgICB2YXIgbm90aWZpZXJTdWJzY3JpcHRpb24gPSBzdWJzY3JpYmVUb1Jlc3VsdCh0aGlzLCBkZWxheU5vdGlmaWVyLCB2YWx1ZSk7XG4gICAgICAgIGlmIChub3RpZmllclN1YnNjcmlwdGlvbiAmJiAhbm90aWZpZXJTdWJzY3JpcHRpb24uY2xvc2VkKSB7XG4gICAgICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICAgICAgZGVzdGluYXRpb24uYWRkKG5vdGlmaWVyU3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuZGVsYXlOb3RpZmllclN1YnNjcmlwdGlvbnMucHVzaChub3RpZmllclN1YnNjcmlwdGlvbik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERlbGF5V2hlblN1YnNjcmliZXIucHJvdG90eXBlLnRyeUNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jb21wbGV0ZWQgJiYgdGhpcy5kZWxheU5vdGlmaWVyU3Vic2NyaXB0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIERlbGF5V2hlblN1YnNjcmliZXI7XG59KE91dGVyU3Vic2NyaWJlcikpO1xudmFyIFN1YnNjcmlwdGlvbkRlbGF5T2JzZXJ2YWJsZSA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhTdWJzY3JpcHRpb25EZWxheU9ic2VydmFibGUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3Vic2NyaXB0aW9uRGVsYXlPYnNlcnZhYmxlKHNvdXJjZSwgc3Vic2NyaXB0aW9uRGVsYXkpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc291cmNlID0gc291cmNlO1xuICAgICAgICBfdGhpcy5zdWJzY3JpcHRpb25EZWxheSA9IHN1YnNjcmlwdGlvbkRlbGF5O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN1YnNjcmlwdGlvbkRlbGF5T2JzZXJ2YWJsZS5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uRGVsYXkuc3Vic2NyaWJlKG5ldyBTdWJzY3JpcHRpb25EZWxheVN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5zb3VyY2UpKTtcbiAgICB9O1xuICAgIHJldHVybiBTdWJzY3JpcHRpb25EZWxheU9ic2VydmFibGU7XG59KE9ic2VydmFibGUpKTtcbnZhciBTdWJzY3JpcHRpb25EZWxheVN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU3Vic2NyaXB0aW9uRGVsYXlTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN1YnNjcmlwdGlvbkRlbGF5U3Vic2NyaWJlcihwYXJlbnQsIHNvdXJjZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIF90aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgX3RoaXMuc291cmNlU3Vic2NyaWJlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN1YnNjcmlwdGlvbkRlbGF5U3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodW51c2VkKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlVG9Tb3VyY2UoKTtcbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbkRlbGF5U3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIHRoaXMucGFyZW50LmVycm9yKGVycik7XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb25EZWxheVN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZVRvU291cmNlKCk7XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb25EZWxheVN1YnNjcmliZXIucHJvdG90eXBlLnN1YnNjcmliZVRvU291cmNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuc291cmNlU3Vic2NyaWJlZCkge1xuICAgICAgICAgICAgdGhpcy5zb3VyY2VTdWJzY3JpYmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIHRoaXMuc291cmNlLnN1YnNjcmliZSh0aGlzLnBhcmVudCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBTdWJzY3JpcHRpb25EZWxheVN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlbGF5V2hlbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBkZW1hdGVyaWFsaXplKCkge1xuICAgIHJldHVybiBmdW5jdGlvbiBkZW1hdGVyaWFsaXplT3BlcmF0b3JGdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBEZU1hdGVyaWFsaXplT3BlcmF0b3IoKSk7XG4gICAgfTtcbn1cbnZhciBEZU1hdGVyaWFsaXplT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGVNYXRlcmlhbGl6ZU9wZXJhdG9yKCkge1xuICAgIH1cbiAgICBEZU1hdGVyaWFsaXplT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBEZU1hdGVyaWFsaXplU3Vic2NyaWJlcihzdWJzY3JpYmVyKSk7XG4gICAgfTtcbiAgICByZXR1cm4gRGVNYXRlcmlhbGl6ZU9wZXJhdG9yO1xufSgpKTtcbnZhciBEZU1hdGVyaWFsaXplU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhEZU1hdGVyaWFsaXplU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBEZU1hdGVyaWFsaXplU3Vic2NyaWJlcihkZXN0aW5hdGlvbikge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgfVxuICAgIERlTWF0ZXJpYWxpemVTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YWx1ZS5vYnNlcnZlKHRoaXMuZGVzdGluYXRpb24pO1xuICAgIH07XG4gICAgcmV0dXJuIERlTWF0ZXJpYWxpemVTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZW1hdGVyaWFsaXplLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfaW5uZXJTdWJzY3JpYmUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFNpbXBsZU91dGVyU3Vic2NyaWJlciwgaW5uZXJTdWJzY3JpYmUsIFNpbXBsZUlubmVyU3Vic2NyaWJlciB9IGZyb20gJy4uL2lubmVyU3Vic2NyaWJlJztcbmV4cG9ydCBmdW5jdGlvbiBkaXN0aW5jdChrZXlTZWxlY3RvciwgZmx1c2hlcykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UubGlmdChuZXcgRGlzdGluY3RPcGVyYXRvcihrZXlTZWxlY3RvciwgZmx1c2hlcykpOyB9O1xufVxudmFyIERpc3RpbmN0T3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGlzdGluY3RPcGVyYXRvcihrZXlTZWxlY3RvciwgZmx1c2hlcykge1xuICAgICAgICB0aGlzLmtleVNlbGVjdG9yID0ga2V5U2VsZWN0b3I7XG4gICAgICAgIHRoaXMuZmx1c2hlcyA9IGZsdXNoZXM7XG4gICAgfVxuICAgIERpc3RpbmN0T3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBEaXN0aW5jdFN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5rZXlTZWxlY3RvciwgdGhpcy5mbHVzaGVzKSk7XG4gICAgfTtcbiAgICByZXR1cm4gRGlzdGluY3RPcGVyYXRvcjtcbn0oKSk7XG52YXIgRGlzdGluY3RTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKERpc3RpbmN0U3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBEaXN0aW5jdFN1YnNjcmliZXIoZGVzdGluYXRpb24sIGtleVNlbGVjdG9yLCBmbHVzaGVzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5rZXlTZWxlY3RvciA9IGtleVNlbGVjdG9yO1xuICAgICAgICBfdGhpcy52YWx1ZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgIGlmIChmbHVzaGVzKSB7XG4gICAgICAgICAgICBfdGhpcy5hZGQoaW5uZXJTdWJzY3JpYmUoZmx1c2hlcywgbmV3IFNpbXBsZUlubmVyU3Vic2NyaWJlcihfdGhpcykpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIERpc3RpbmN0U3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy52YWx1ZXMuY2xlYXIoKTtcbiAgICB9O1xuICAgIERpc3RpbmN0U3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5RXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5fZXJyb3IoZXJyb3IpO1xuICAgIH07XG4gICAgRGlzdGluY3RTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5rZXlTZWxlY3Rvcikge1xuICAgICAgICAgICAgdGhpcy5fdXNlS2V5U2VsZWN0b3IodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZmluYWxpemVOZXh0KHZhbHVlLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERpc3RpbmN0U3Vic2NyaWJlci5wcm90b3R5cGUuX3VzZUtleVNlbGVjdG9yID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBrZXk7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBrZXkgPSB0aGlzLmtleVNlbGVjdG9yKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ZpbmFsaXplTmV4dChrZXksIHZhbHVlKTtcbiAgICB9O1xuICAgIERpc3RpbmN0U3Vic2NyaWJlci5wcm90b3R5cGUuX2ZpbmFsaXplTmV4dCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIHZhciB2YWx1ZXMgPSB0aGlzLnZhbHVlcztcbiAgICAgICAgaWYgKCF2YWx1ZXMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIHZhbHVlcy5hZGQoa2V5KTtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBEaXN0aW5jdFN1YnNjcmliZXI7XG59KFNpbXBsZU91dGVyU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgRGlzdGluY3RTdWJzY3JpYmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaXN0aW5jdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBkaXN0aW5jdFVudGlsQ2hhbmdlZChjb21wYXJlLCBrZXlTZWxlY3Rvcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UubGlmdChuZXcgRGlzdGluY3RVbnRpbENoYW5nZWRPcGVyYXRvcihjb21wYXJlLCBrZXlTZWxlY3RvcikpOyB9O1xufVxudmFyIERpc3RpbmN0VW50aWxDaGFuZ2VkT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGlzdGluY3RVbnRpbENoYW5nZWRPcGVyYXRvcihjb21wYXJlLCBrZXlTZWxlY3Rvcikge1xuICAgICAgICB0aGlzLmNvbXBhcmUgPSBjb21wYXJlO1xuICAgICAgICB0aGlzLmtleVNlbGVjdG9yID0ga2V5U2VsZWN0b3I7XG4gICAgfVxuICAgIERpc3RpbmN0VW50aWxDaGFuZ2VkT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBEaXN0aW5jdFVudGlsQ2hhbmdlZFN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5jb21wYXJlLCB0aGlzLmtleVNlbGVjdG9yKSk7XG4gICAgfTtcbiAgICByZXR1cm4gRGlzdGluY3RVbnRpbENoYW5nZWRPcGVyYXRvcjtcbn0oKSk7XG52YXIgRGlzdGluY3RVbnRpbENoYW5nZWRTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKERpc3RpbmN0VW50aWxDaGFuZ2VkU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBEaXN0aW5jdFVudGlsQ2hhbmdlZFN1YnNjcmliZXIoZGVzdGluYXRpb24sIGNvbXBhcmUsIGtleVNlbGVjdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5rZXlTZWxlY3RvciA9IGtleVNlbGVjdG9yO1xuICAgICAgICBfdGhpcy5oYXNLZXkgPSBmYWxzZTtcbiAgICAgICAgaWYgKHR5cGVvZiBjb21wYXJlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBfdGhpcy5jb21wYXJlID0gY29tcGFyZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIERpc3RpbmN0VW50aWxDaGFuZ2VkU3Vic2NyaWJlci5wcm90b3R5cGUuY29tcGFyZSA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIHJldHVybiB4ID09PSB5O1xuICAgIH07XG4gICAgRGlzdGluY3RVbnRpbENoYW5nZWRTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIga2V5O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGtleVNlbGVjdG9yID0gdGhpcy5rZXlTZWxlY3RvcjtcbiAgICAgICAgICAgIGtleSA9IGtleVNlbGVjdG9yID8ga2V5U2VsZWN0b3IodmFsdWUpIDogdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLmhhc0tleSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgY29tcGFyZSA9IHRoaXMuY29tcGFyZTtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBjb21wYXJlKHRoaXMua2V5LCBrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmhhc0tleSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgIHRoaXMua2V5ID0ga2V5O1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIERpc3RpbmN0VW50aWxDaGFuZ2VkU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGlzdGluY3RVbnRpbENoYW5nZWQuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9kaXN0aW5jdFVudGlsQ2hhbmdlZCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBkaXN0aW5jdFVudGlsQ2hhbmdlZCB9IGZyb20gJy4vZGlzdGluY3RVbnRpbENoYW5nZWQnO1xuZXhwb3J0IGZ1bmN0aW9uIGRpc3RpbmN0VW50aWxLZXlDaGFuZ2VkKGtleSwgY29tcGFyZSkge1xuICAgIHJldHVybiBkaXN0aW5jdFVudGlsQ2hhbmdlZChmdW5jdGlvbiAoeCwgeSkgeyByZXR1cm4gY29tcGFyZSA/IGNvbXBhcmUoeFtrZXldLCB5W2tleV0pIDogeFtrZXldID09PSB5W2tleV07IH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGlzdGluY3RVbnRpbEtleUNoYW5nZWQuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF91dGlsX0FyZ3VtZW50T3V0T2ZSYW5nZUVycm9yLF9maWx0ZXIsX3Rocm93SWZFbXB0eSxfZGVmYXVsdElmRW1wdHksX3Rha2UgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgQXJndW1lbnRPdXRPZlJhbmdlRXJyb3IgfSBmcm9tICcuLi91dGlsL0FyZ3VtZW50T3V0T2ZSYW5nZUVycm9yJztcbmltcG9ydCB7IGZpbHRlciB9IGZyb20gJy4vZmlsdGVyJztcbmltcG9ydCB7IHRocm93SWZFbXB0eSB9IGZyb20gJy4vdGhyb3dJZkVtcHR5JztcbmltcG9ydCB7IGRlZmF1bHRJZkVtcHR5IH0gZnJvbSAnLi9kZWZhdWx0SWZFbXB0eSc7XG5pbXBvcnQgeyB0YWtlIH0gZnJvbSAnLi90YWtlJztcbmV4cG9ydCBmdW5jdGlvbiBlbGVtZW50QXQoaW5kZXgsIGRlZmF1bHRWYWx1ZSkge1xuICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yKCk7XG4gICAgfVxuICAgIHZhciBoYXNEZWZhdWx0VmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID49IDI7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5waXBlKGZpbHRlcihmdW5jdGlvbiAodiwgaSkgeyByZXR1cm4gaSA9PT0gaW5kZXg7IH0pLCB0YWtlKDEpLCBoYXNEZWZhdWx0VmFsdWVcbiAgICAgICAgICAgID8gZGVmYXVsdElmRW1wdHkoZGVmYXVsdFZhbHVlKVxuICAgICAgICAgICAgOiB0aHJvd0lmRW1wdHkoZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yKCk7IH0pKTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZWxlbWVudEF0LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfb2JzZXJ2YWJsZV9jb25jYXQsX29ic2VydmFibGVfb2YgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgY29uY2F0IH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9jb25jYXQnO1xuaW1wb3J0IHsgb2YgfSBmcm9tICcuLi9vYnNlcnZhYmxlL29mJztcbmV4cG9ydCBmdW5jdGlvbiBlbmRXaXRoKCkge1xuICAgIHZhciBhcnJheSA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFycmF5W19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBjb25jYXQoc291cmNlLCBvZi5hcHBseSh2b2lkIDAsIGFycmF5KSk7IH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbmRXaXRoLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIGV2ZXJ5KHByZWRpY2F0ZSwgdGhpc0FyZykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UubGlmdChuZXcgRXZlcnlPcGVyYXRvcihwcmVkaWNhdGUsIHRoaXNBcmcsIHNvdXJjZSkpOyB9O1xufVxudmFyIEV2ZXJ5T3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRXZlcnlPcGVyYXRvcihwcmVkaWNhdGUsIHRoaXNBcmcsIHNvdXJjZSkge1xuICAgICAgICB0aGlzLnByZWRpY2F0ZSA9IHByZWRpY2F0ZTtcbiAgICAgICAgdGhpcy50aGlzQXJnID0gdGhpc0FyZztcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgfVxuICAgIEV2ZXJ5T3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAob2JzZXJ2ZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgRXZlcnlTdWJzY3JpYmVyKG9ic2VydmVyLCB0aGlzLnByZWRpY2F0ZSwgdGhpcy50aGlzQXJnLCB0aGlzLnNvdXJjZSkpO1xuICAgIH07XG4gICAgcmV0dXJuIEV2ZXJ5T3BlcmF0b3I7XG59KCkpO1xudmFyIEV2ZXJ5U3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhFdmVyeVN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRXZlcnlTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBwcmVkaWNhdGUsIHRoaXNBcmcsIHNvdXJjZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucHJlZGljYXRlID0gcHJlZGljYXRlO1xuICAgICAgICBfdGhpcy50aGlzQXJnID0gdGhpc0FyZztcbiAgICAgICAgX3RoaXMuc291cmNlID0gc291cmNlO1xuICAgICAgICBfdGhpcy5pbmRleCA9IDA7XG4gICAgICAgIF90aGlzLnRoaXNBcmcgPSB0aGlzQXJnIHx8IF90aGlzO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEV2ZXJ5U3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5Q29tcGxldGUgPSBmdW5jdGlvbiAoZXZlcnlWYWx1ZU1hdGNoKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChldmVyeVZhbHVlTWF0Y2gpO1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgfTtcbiAgICBFdmVyeVN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucHJlZGljYXRlLmNhbGwodGhpcy50aGlzQXJnLCB2YWx1ZSwgdGhpcy5pbmRleCsrLCB0aGlzLnNvdXJjZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICB0aGlzLm5vdGlmeUNvbXBsZXRlKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRXZlcnlTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubm90aWZ5Q29tcGxldGUodHJ1ZSk7XG4gICAgfTtcbiAgICByZXR1cm4gRXZlcnlTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ldmVyeS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX2lubmVyU3Vic2NyaWJlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTaW1wbGVPdXRlclN1YnNjcmliZXIsIGlubmVyU3Vic2NyaWJlLCBTaW1wbGVJbm5lclN1YnNjcmliZXIgfSBmcm9tICcuLi9pbm5lclN1YnNjcmliZSc7XG5leHBvcnQgZnVuY3Rpb24gZXhoYXVzdCgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLmxpZnQobmV3IFN3aXRjaEZpcnN0T3BlcmF0b3IoKSk7IH07XG59XG52YXIgU3dpdGNoRmlyc3RPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTd2l0Y2hGaXJzdE9wZXJhdG9yKCkge1xuICAgIH1cbiAgICBTd2l0Y2hGaXJzdE9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgU3dpdGNoRmlyc3RTdWJzY3JpYmVyKHN1YnNjcmliZXIpKTtcbiAgICB9O1xuICAgIHJldHVybiBTd2l0Y2hGaXJzdE9wZXJhdG9yO1xufSgpKTtcbnZhciBTd2l0Y2hGaXJzdFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU3dpdGNoRmlyc3RTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN3aXRjaEZpcnN0U3Vic2NyaWJlcihkZXN0aW5hdGlvbikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaGFzQ29tcGxldGVkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmhhc1N1YnNjcmlwdGlvbiA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN3aXRjaEZpcnN0U3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhc1N1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgdGhpcy5oYXNTdWJzY3JpcHRpb24gPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5hZGQoaW5uZXJTdWJzY3JpYmUodmFsdWUsIG5ldyBTaW1wbGVJbm5lclN1YnNjcmliZXIodGhpcykpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3dpdGNoRmlyc3RTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaGFzQ29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKCF0aGlzLmhhc1N1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTd2l0Y2hGaXJzdFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmhhc1N1YnNjcmlwdGlvbiA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5oYXNDb21wbGV0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFN3aXRjaEZpcnN0U3Vic2NyaWJlcjtcbn0oU2ltcGxlT3V0ZXJTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leGhhdXN0LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfbWFwLF9vYnNlcnZhYmxlX2Zyb20sX2lubmVyU3Vic2NyaWJlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICcuL21hcCc7XG5pbXBvcnQgeyBmcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9mcm9tJztcbmltcG9ydCB7IFNpbXBsZU91dGVyU3Vic2NyaWJlciwgU2ltcGxlSW5uZXJTdWJzY3JpYmVyLCBpbm5lclN1YnNjcmliZSB9IGZyb20gJy4uL2lubmVyU3Vic2NyaWJlJztcbmV4cG9ydCBmdW5jdGlvbiBleGhhdXN0TWFwKHByb2plY3QsIHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgaWYgKHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UucGlwZShleGhhdXN0TWFwKGZ1bmN0aW9uIChhLCBpKSB7IHJldHVybiBmcm9tKHByb2plY3QoYSwgaSkpLnBpcGUobWFwKGZ1bmN0aW9uIChiLCBpaSkgeyByZXR1cm4gcmVzdWx0U2VsZWN0b3IoYSwgYiwgaSwgaWkpOyB9KSk7IH0pKTsgfTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBFeGhhdXN0TWFwT3BlcmF0b3IocHJvamVjdCkpO1xuICAgIH07XG59XG52YXIgRXhoYXVzdE1hcE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEV4aGF1c3RNYXBPcGVyYXRvcihwcm9qZWN0KSB7XG4gICAgICAgIHRoaXMucHJvamVjdCA9IHByb2plY3Q7XG4gICAgfVxuICAgIEV4aGF1c3RNYXBPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IEV4aGF1c3RNYXBTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMucHJvamVjdCkpO1xuICAgIH07XG4gICAgcmV0dXJuIEV4aGF1c3RNYXBPcGVyYXRvcjtcbn0oKSk7XG52YXIgRXhoYXVzdE1hcFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoRXhoYXVzdE1hcFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRXhoYXVzdE1hcFN1YnNjcmliZXIoZGVzdGluYXRpb24sIHByb2plY3QpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnByb2plY3QgPSBwcm9qZWN0O1xuICAgICAgICBfdGhpcy5oYXNTdWJzY3JpcHRpb24gPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuaGFzQ29tcGxldGVkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmluZGV4ID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBFeGhhdXN0TWFwU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhc1N1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgdGhpcy50cnlOZXh0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRXhoYXVzdE1hcFN1YnNjcmliZXIucHJvdG90eXBlLnRyeU5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleCsrO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5wcm9qZWN0KHZhbHVlLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGFzU3Vic2NyaXB0aW9uID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5faW5uZXJTdWIocmVzdWx0KTtcbiAgICB9O1xuICAgIEV4aGF1c3RNYXBTdWJzY3JpYmVyLnByb3RvdHlwZS5faW5uZXJTdWIgPSBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIHZhciBpbm5lclN1YnNjcmliZXIgPSBuZXcgU2ltcGxlSW5uZXJTdWJzY3JpYmVyKHRoaXMpO1xuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICBkZXN0aW5hdGlvbi5hZGQoaW5uZXJTdWJzY3JpYmVyKTtcbiAgICAgICAgdmFyIGlubmVyU3Vic2NyaXB0aW9uID0gaW5uZXJTdWJzY3JpYmUocmVzdWx0LCBpbm5lclN1YnNjcmliZXIpO1xuICAgICAgICBpZiAoaW5uZXJTdWJzY3JpcHRpb24gIT09IGlubmVyU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgZGVzdGluYXRpb24uYWRkKGlubmVyU3Vic2NyaXB0aW9uKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRXhoYXVzdE1hcFN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5oYXNDb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICBpZiAoIXRoaXMuaGFzU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgRXhoYXVzdE1hcFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQgPSBmdW5jdGlvbiAoaW5uZXJWYWx1ZSkge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQoaW5uZXJWYWx1ZSk7XG4gICAgfTtcbiAgICBFeGhhdXN0TWFwU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5RXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICB9O1xuICAgIEV4aGF1c3RNYXBTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5oYXNTdWJzY3JpcHRpb24gPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuaGFzQ29tcGxldGVkKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBFeGhhdXN0TWFwU3Vic2NyaWJlcjtcbn0oU2ltcGxlT3V0ZXJTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leGhhdXN0TWFwLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfaW5uZXJTdWJzY3JpYmUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFNpbXBsZU91dGVyU3Vic2NyaWJlciwgaW5uZXJTdWJzY3JpYmUsIFNpbXBsZUlubmVyU3Vic2NyaWJlciB9IGZyb20gJy4uL2lubmVyU3Vic2NyaWJlJztcbmV4cG9ydCBmdW5jdGlvbiBleHBhbmQocHJvamVjdCwgY29uY3VycmVudCwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKGNvbmN1cnJlbnQgPT09IHZvaWQgMCkge1xuICAgICAgICBjb25jdXJyZW50ID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgIH1cbiAgICBjb25jdXJyZW50ID0gKGNvbmN1cnJlbnQgfHwgMCkgPCAxID8gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZIDogY29uY3VycmVudDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLmxpZnQobmV3IEV4cGFuZE9wZXJhdG9yKHByb2plY3QsIGNvbmN1cnJlbnQsIHNjaGVkdWxlcikpOyB9O1xufVxudmFyIEV4cGFuZE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEV4cGFuZE9wZXJhdG9yKHByb2plY3QsIGNvbmN1cnJlbnQsIHNjaGVkdWxlcikge1xuICAgICAgICB0aGlzLnByb2plY3QgPSBwcm9qZWN0O1xuICAgICAgICB0aGlzLmNvbmN1cnJlbnQgPSBjb25jdXJyZW50O1xuICAgICAgICB0aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICB9XG4gICAgRXhwYW5kT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBFeHBhbmRTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMucHJvamVjdCwgdGhpcy5jb25jdXJyZW50LCB0aGlzLnNjaGVkdWxlcikpO1xuICAgIH07XG4gICAgcmV0dXJuIEV4cGFuZE9wZXJhdG9yO1xufSgpKTtcbmV4cG9ydCB7IEV4cGFuZE9wZXJhdG9yIH07XG52YXIgRXhwYW5kU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhFeHBhbmRTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEV4cGFuZFN1YnNjcmliZXIoZGVzdGluYXRpb24sIHByb2plY3QsIGNvbmN1cnJlbnQsIHNjaGVkdWxlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucHJvamVjdCA9IHByb2plY3Q7XG4gICAgICAgIF90aGlzLmNvbmN1cnJlbnQgPSBjb25jdXJyZW50O1xuICAgICAgICBfdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgICAgIF90aGlzLmluZGV4ID0gMDtcbiAgICAgICAgX3RoaXMuYWN0aXZlID0gMDtcbiAgICAgICAgX3RoaXMuaGFzQ29tcGxldGVkID0gZmFsc2U7XG4gICAgICAgIGlmIChjb25jdXJyZW50IDwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSB7XG4gICAgICAgICAgICBfdGhpcy5idWZmZXIgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEV4cGFuZFN1YnNjcmliZXIuZGlzcGF0Y2ggPSBmdW5jdGlvbiAoYXJnKSB7XG4gICAgICAgIHZhciBzdWJzY3JpYmVyID0gYXJnLnN1YnNjcmliZXIsIHJlc3VsdCA9IGFyZy5yZXN1bHQsIHZhbHVlID0gYXJnLnZhbHVlLCBpbmRleCA9IGFyZy5pbmRleDtcbiAgICAgICAgc3Vic2NyaWJlci5zdWJzY3JpYmVUb1Byb2plY3Rpb24ocmVzdWx0LCB2YWx1ZSwgaW5kZXgpO1xuICAgIH07XG4gICAgRXhwYW5kU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gdGhpcy5kZXN0aW5hdGlvbjtcbiAgICAgICAgaWYgKGRlc3RpbmF0aW9uLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhpcy5fY29tcGxldGUoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4Kys7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSA8IHRoaXMuY29uY3VycmVudCkge1xuICAgICAgICAgICAgZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBwcm9qZWN0ID0gdGhpcy5wcm9qZWN0O1xuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBwcm9qZWN0KHZhbHVlLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnNjaGVkdWxlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN1YnNjcmliZVRvUHJvamVjdGlvbihyZXN1bHQsIHZhbHVlLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGUgPSB7IHN1YnNjcmliZXI6IHRoaXMsIHJlc3VsdDogcmVzdWx0LCB2YWx1ZTogdmFsdWUsIGluZGV4OiBpbmRleCB9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGVzdGluYXRpb25fMSA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uXzEuYWRkKHRoaXMuc2NoZWR1bGVyLnNjaGVkdWxlKEV4cGFuZFN1YnNjcmliZXIuZGlzcGF0Y2gsIDAsIHN0YXRlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbi5lcnJvcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBFeHBhbmRTdWJzY3JpYmVyLnByb3RvdHlwZS5zdWJzY3JpYmVUb1Byb2plY3Rpb24gPSBmdW5jdGlvbiAocmVzdWx0LCB2YWx1ZSwgaW5kZXgpIHtcbiAgICAgICAgdGhpcy5hY3RpdmUrKztcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gdGhpcy5kZXN0aW5hdGlvbjtcbiAgICAgICAgZGVzdGluYXRpb24uYWRkKGlubmVyU3Vic2NyaWJlKHJlc3VsdCwgbmV3IFNpbXBsZUlubmVyU3Vic2NyaWJlcih0aGlzKSkpO1xuICAgIH07XG4gICAgRXhwYW5kU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmhhc0NvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLmhhc0NvbXBsZXRlZCAmJiB0aGlzLmFjdGl2ZSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIEV4cGFuZFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQgPSBmdW5jdGlvbiAoaW5uZXJWYWx1ZSkge1xuICAgICAgICB0aGlzLl9uZXh0KGlubmVyVmFsdWUpO1xuICAgIH07XG4gICAgRXhwYW5kU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5Q29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBidWZmZXIgPSB0aGlzLmJ1ZmZlcjtcbiAgICAgICAgdGhpcy5hY3RpdmUtLTtcbiAgICAgICAgaWYgKGJ1ZmZlciAmJiBidWZmZXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5fbmV4dChidWZmZXIuc2hpZnQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaGFzQ29tcGxldGVkICYmIHRoaXMuYWN0aXZlID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBFeHBhbmRTdWJzY3JpYmVyO1xufShTaW1wbGVPdXRlclN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IEV4cGFuZFN1YnNjcmliZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV4cGFuZC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXIocHJlZGljYXRlLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGZpbHRlck9wZXJhdG9yRnVuY3Rpb24oc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2UubGlmdChuZXcgRmlsdGVyT3BlcmF0b3IocHJlZGljYXRlLCB0aGlzQXJnKSk7XG4gICAgfTtcbn1cbnZhciBGaWx0ZXJPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBGaWx0ZXJPcGVyYXRvcihwcmVkaWNhdGUsIHRoaXNBcmcpIHtcbiAgICAgICAgdGhpcy5wcmVkaWNhdGUgPSBwcmVkaWNhdGU7XG4gICAgICAgIHRoaXMudGhpc0FyZyA9IHRoaXNBcmc7XG4gICAgfVxuICAgIEZpbHRlck9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgRmlsdGVyU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLnByZWRpY2F0ZSwgdGhpcy50aGlzQXJnKSk7XG4gICAgfTtcbiAgICByZXR1cm4gRmlsdGVyT3BlcmF0b3I7XG59KCkpO1xudmFyIEZpbHRlclN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoRmlsdGVyU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBGaWx0ZXJTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBwcmVkaWNhdGUsIHRoaXNBcmcpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnByZWRpY2F0ZSA9IHByZWRpY2F0ZTtcbiAgICAgICAgX3RoaXMudGhpc0FyZyA9IHRoaXNBcmc7XG4gICAgICAgIF90aGlzLmNvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBGaWx0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5wcmVkaWNhdGUuY2FsbCh0aGlzLnRoaXNBcmcsIHZhbHVlLCB0aGlzLmNvdW50KyspO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRmlsdGVyU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlcixfU3Vic2NyaXB0aW9uIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmFsaXplKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBGaW5hbGx5T3BlcmF0b3IoY2FsbGJhY2spKTsgfTtcbn1cbnZhciBGaW5hbGx5T3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRmluYWxseU9wZXJhdG9yKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB9XG4gICAgRmluYWxseU9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgRmluYWxseVN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5jYWxsYmFjaykpO1xuICAgIH07XG4gICAgcmV0dXJuIEZpbmFsbHlPcGVyYXRvcjtcbn0oKSk7XG52YXIgRmluYWxseVN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoRmluYWxseVN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRmluYWxseVN1YnNjcmliZXIoZGVzdGluYXRpb24sIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5hZGQobmV3IFN1YnNjcmlwdGlvbihjYWxsYmFjaykpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBGaW5hbGx5U3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmluYWxpemUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gZmluZChwcmVkaWNhdGUsIHRoaXNBcmcpIHtcbiAgICBpZiAodHlwZW9mIHByZWRpY2F0ZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdwcmVkaWNhdGUgaXMgbm90IGEgZnVuY3Rpb24nKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBGaW5kVmFsdWVPcGVyYXRvcihwcmVkaWNhdGUsIHNvdXJjZSwgZmFsc2UsIHRoaXNBcmcpKTsgfTtcbn1cbnZhciBGaW5kVmFsdWVPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBGaW5kVmFsdWVPcGVyYXRvcihwcmVkaWNhdGUsIHNvdXJjZSwgeWllbGRJbmRleCwgdGhpc0FyZykge1xuICAgICAgICB0aGlzLnByZWRpY2F0ZSA9IHByZWRpY2F0ZTtcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIHRoaXMueWllbGRJbmRleCA9IHlpZWxkSW5kZXg7XG4gICAgICAgIHRoaXMudGhpc0FyZyA9IHRoaXNBcmc7XG4gICAgfVxuICAgIEZpbmRWYWx1ZU9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKG9ic2VydmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IEZpbmRWYWx1ZVN1YnNjcmliZXIob2JzZXJ2ZXIsIHRoaXMucHJlZGljYXRlLCB0aGlzLnNvdXJjZSwgdGhpcy55aWVsZEluZGV4LCB0aGlzLnRoaXNBcmcpKTtcbiAgICB9O1xuICAgIHJldHVybiBGaW5kVmFsdWVPcGVyYXRvcjtcbn0oKSk7XG5leHBvcnQgeyBGaW5kVmFsdWVPcGVyYXRvciB9O1xudmFyIEZpbmRWYWx1ZVN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoRmluZFZhbHVlU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBGaW5kVmFsdWVTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBwcmVkaWNhdGUsIHNvdXJjZSwgeWllbGRJbmRleCwgdGhpc0FyZykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucHJlZGljYXRlID0gcHJlZGljYXRlO1xuICAgICAgICBfdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIF90aGlzLnlpZWxkSW5kZXggPSB5aWVsZEluZGV4O1xuICAgICAgICBfdGhpcy50aGlzQXJnID0gdGhpc0FyZztcbiAgICAgICAgX3RoaXMuaW5kZXggPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEZpbmRWYWx1ZVN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICAgICAgICBkZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBGaW5kVmFsdWVTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBwcmVkaWNhdGUgPSBfYS5wcmVkaWNhdGUsIHRoaXNBcmcgPSBfYS50aGlzQXJnO1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4Kys7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gcHJlZGljYXRlLmNhbGwodGhpc0FyZyB8fCB0aGlzLCB2YWx1ZSwgaW5kZXgsIHRoaXMuc291cmNlKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeUNvbXBsZXRlKHRoaXMueWllbGRJbmRleCA/IGluZGV4IDogdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRmluZFZhbHVlU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLm5vdGlmeUNvbXBsZXRlKHRoaXMueWllbGRJbmRleCA/IC0xIDogdW5kZWZpbmVkKTtcbiAgICB9O1xuICAgIHJldHVybiBGaW5kVmFsdWVTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBGaW5kVmFsdWVTdWJzY3JpYmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maW5kLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfb3BlcmF0b3JzX2ZpbmQgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgRmluZFZhbHVlT3BlcmF0b3IgfSBmcm9tICcuLi9vcGVyYXRvcnMvZmluZCc7XG5leHBvcnQgZnVuY3Rpb24gZmluZEluZGV4KHByZWRpY2F0ZSwgdGhpc0FyZykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UubGlmdChuZXcgRmluZFZhbHVlT3BlcmF0b3IocHJlZGljYXRlLCBzb3VyY2UsIHRydWUsIHRoaXNBcmcpKTsgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbmRJbmRleC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3V0aWxfRW1wdHlFcnJvcixfZmlsdGVyLF90YWtlLF9kZWZhdWx0SWZFbXB0eSxfdGhyb3dJZkVtcHR5LF91dGlsX2lkZW50aXR5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IEVtcHR5RXJyb3IgfSBmcm9tICcuLi91dGlsL0VtcHR5RXJyb3InO1xuaW1wb3J0IHsgZmlsdGVyIH0gZnJvbSAnLi9maWx0ZXInO1xuaW1wb3J0IHsgdGFrZSB9IGZyb20gJy4vdGFrZSc7XG5pbXBvcnQgeyBkZWZhdWx0SWZFbXB0eSB9IGZyb20gJy4vZGVmYXVsdElmRW1wdHknO1xuaW1wb3J0IHsgdGhyb3dJZkVtcHR5IH0gZnJvbSAnLi90aHJvd0lmRW1wdHknO1xuaW1wb3J0IHsgaWRlbnRpdHkgfSBmcm9tICcuLi91dGlsL2lkZW50aXR5JztcbmV4cG9ydCBmdW5jdGlvbiBmaXJzdChwcmVkaWNhdGUsIGRlZmF1bHRWYWx1ZSkge1xuICAgIHZhciBoYXNEZWZhdWx0VmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID49IDI7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5waXBlKHByZWRpY2F0ZSA/IGZpbHRlcihmdW5jdGlvbiAodiwgaSkgeyByZXR1cm4gcHJlZGljYXRlKHYsIGksIHNvdXJjZSk7IH0pIDogaWRlbnRpdHksIHRha2UoMSksIGhhc0RlZmF1bHRWYWx1ZSA/IGRlZmF1bHRJZkVtcHR5KGRlZmF1bHRWYWx1ZSkgOiB0aHJvd0lmRW1wdHkoZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IEVtcHR5RXJyb3IoKTsgfSkpOyB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Zmlyc3QuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyLF9TdWJzY3JpcHRpb24sX09ic2VydmFibGUsX1N1YmplY3QgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAnLi4vU3ViamVjdCc7XG5leHBvcnQgZnVuY3Rpb24gZ3JvdXBCeShrZXlTZWxlY3RvciwgZWxlbWVudFNlbGVjdG9yLCBkdXJhdGlvblNlbGVjdG9yLCBzdWJqZWN0U2VsZWN0b3IpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IEdyb3VwQnlPcGVyYXRvcihrZXlTZWxlY3RvciwgZWxlbWVudFNlbGVjdG9yLCBkdXJhdGlvblNlbGVjdG9yLCBzdWJqZWN0U2VsZWN0b3IpKTtcbiAgICB9O1xufVxudmFyIEdyb3VwQnlPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBHcm91cEJ5T3BlcmF0b3Ioa2V5U2VsZWN0b3IsIGVsZW1lbnRTZWxlY3RvciwgZHVyYXRpb25TZWxlY3Rvciwgc3ViamVjdFNlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMua2V5U2VsZWN0b3IgPSBrZXlTZWxlY3RvcjtcbiAgICAgICAgdGhpcy5lbGVtZW50U2VsZWN0b3IgPSBlbGVtZW50U2VsZWN0b3I7XG4gICAgICAgIHRoaXMuZHVyYXRpb25TZWxlY3RvciA9IGR1cmF0aW9uU2VsZWN0b3I7XG4gICAgICAgIHRoaXMuc3ViamVjdFNlbGVjdG9yID0gc3ViamVjdFNlbGVjdG9yO1xuICAgIH1cbiAgICBHcm91cEJ5T3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBHcm91cEJ5U3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLmtleVNlbGVjdG9yLCB0aGlzLmVsZW1lbnRTZWxlY3RvciwgdGhpcy5kdXJhdGlvblNlbGVjdG9yLCB0aGlzLnN1YmplY3RTZWxlY3RvcikpO1xuICAgIH07XG4gICAgcmV0dXJuIEdyb3VwQnlPcGVyYXRvcjtcbn0oKSk7XG52YXIgR3JvdXBCeVN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoR3JvdXBCeVN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gR3JvdXBCeVN1YnNjcmliZXIoZGVzdGluYXRpb24sIGtleVNlbGVjdG9yLCBlbGVtZW50U2VsZWN0b3IsIGR1cmF0aW9uU2VsZWN0b3IsIHN1YmplY3RTZWxlY3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMua2V5U2VsZWN0b3IgPSBrZXlTZWxlY3RvcjtcbiAgICAgICAgX3RoaXMuZWxlbWVudFNlbGVjdG9yID0gZWxlbWVudFNlbGVjdG9yO1xuICAgICAgICBfdGhpcy5kdXJhdGlvblNlbGVjdG9yID0gZHVyYXRpb25TZWxlY3RvcjtcbiAgICAgICAgX3RoaXMuc3ViamVjdFNlbGVjdG9yID0gc3ViamVjdFNlbGVjdG9yO1xuICAgICAgICBfdGhpcy5ncm91cHMgPSBudWxsO1xuICAgICAgICBfdGhpcy5hdHRlbXB0ZWRUb1Vuc3Vic2NyaWJlID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmNvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBHcm91cEJ5U3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIGtleTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGtleSA9IHRoaXMua2V5U2VsZWN0b3IodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9ncm91cCh2YWx1ZSwga2V5KTtcbiAgICB9O1xuICAgIEdyb3VwQnlTdWJzY3JpYmVyLnByb3RvdHlwZS5fZ3JvdXAgPSBmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgICAgICB2YXIgZ3JvdXBzID0gdGhpcy5ncm91cHM7XG4gICAgICAgIGlmICghZ3JvdXBzKSB7XG4gICAgICAgICAgICBncm91cHMgPSB0aGlzLmdyb3VwcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZ3JvdXAgPSBncm91cHMuZ2V0KGtleSk7XG4gICAgICAgIHZhciBlbGVtZW50O1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50U2VsZWN0b3IpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudCA9IHRoaXMuZWxlbWVudFNlbGVjdG9yKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbGVtZW50ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFncm91cCkge1xuICAgICAgICAgICAgZ3JvdXAgPSAodGhpcy5zdWJqZWN0U2VsZWN0b3IgPyB0aGlzLnN1YmplY3RTZWxlY3RvcigpIDogbmV3IFN1YmplY3QoKSk7XG4gICAgICAgICAgICBncm91cHMuc2V0KGtleSwgZ3JvdXApO1xuICAgICAgICAgICAgdmFyIGdyb3VwZWRPYnNlcnZhYmxlID0gbmV3IEdyb3VwZWRPYnNlcnZhYmxlKGtleSwgZ3JvdXAsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KGdyb3VwZWRPYnNlcnZhYmxlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmR1cmF0aW9uU2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICB2YXIgZHVyYXRpb24gPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb24gPSB0aGlzLmR1cmF0aW9uU2VsZWN0b3IobmV3IEdyb3VwZWRPYnNlcnZhYmxlKGtleSwgZ3JvdXApKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQoZHVyYXRpb24uc3Vic2NyaWJlKG5ldyBHcm91cER1cmF0aW9uU3Vic2NyaWJlcihrZXksIGdyb3VwLCB0aGlzKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghZ3JvdXAuY2xvc2VkKSB7XG4gICAgICAgICAgICBncm91cC5uZXh0KGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBHcm91cEJ5U3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB2YXIgZ3JvdXBzID0gdGhpcy5ncm91cHM7XG4gICAgICAgIGlmIChncm91cHMpIHtcbiAgICAgICAgICAgIGdyb3Vwcy5mb3JFYWNoKGZ1bmN0aW9uIChncm91cCwga2V5KSB7XG4gICAgICAgICAgICAgICAgZ3JvdXAuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZ3JvdXBzLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgIH07XG4gICAgR3JvdXBCeVN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGdyb3VwcyA9IHRoaXMuZ3JvdXBzO1xuICAgICAgICBpZiAoZ3JvdXBzKSB7XG4gICAgICAgICAgICBncm91cHMuZm9yRWFjaChmdW5jdGlvbiAoZ3JvdXAsIGtleSkge1xuICAgICAgICAgICAgICAgIGdyb3VwLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGdyb3Vwcy5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICB9O1xuICAgIEdyb3VwQnlTdWJzY3JpYmVyLnByb3RvdHlwZS5yZW1vdmVHcm91cCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdGhpcy5ncm91cHMuZGVsZXRlKGtleSk7XG4gICAgfTtcbiAgICBHcm91cEJ5U3Vic2NyaWJlci5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYXR0ZW1wdGVkVG9VbnN1YnNjcmliZSA9IHRydWU7XG4gICAgICAgICAgICBpZiAodGhpcy5jb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUudW5zdWJzY3JpYmUuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEdyb3VwQnlTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG52YXIgR3JvdXBEdXJhdGlvblN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoR3JvdXBEdXJhdGlvblN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gR3JvdXBEdXJhdGlvblN1YnNjcmliZXIoa2V5LCBncm91cCwgcGFyZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGdyb3VwKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5rZXkgPSBrZXk7XG4gICAgICAgIF90aGlzLmdyb3VwID0gZ3JvdXA7XG4gICAgICAgIF90aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBHcm91cER1cmF0aW9uU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5jb21wbGV0ZSgpO1xuICAgIH07XG4gICAgR3JvdXBEdXJhdGlvblN1YnNjcmliZXIucHJvdG90eXBlLl91bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgcGFyZW50ID0gX2EucGFyZW50LCBrZXkgPSBfYS5rZXk7XG4gICAgICAgIHRoaXMua2V5ID0gdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgICBwYXJlbnQucmVtb3ZlR3JvdXAoa2V5KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEdyb3VwRHVyYXRpb25TdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG52YXIgR3JvdXBlZE9ic2VydmFibGUgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoR3JvdXBlZE9ic2VydmFibGUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gR3JvdXBlZE9ic2VydmFibGUoa2V5LCBncm91cFN1YmplY3QsIHJlZkNvdW50U3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmtleSA9IGtleTtcbiAgICAgICAgX3RoaXMuZ3JvdXBTdWJqZWN0ID0gZ3JvdXBTdWJqZWN0O1xuICAgICAgICBfdGhpcy5yZWZDb3VudFN1YnNjcmlwdGlvbiA9IHJlZkNvdW50U3Vic2NyaXB0aW9uO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEdyb3VwZWRPYnNlcnZhYmxlLnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgcmVmQ291bnRTdWJzY3JpcHRpb24gPSBfYS5yZWZDb3VudFN1YnNjcmlwdGlvbiwgZ3JvdXBTdWJqZWN0ID0gX2EuZ3JvdXBTdWJqZWN0O1xuICAgICAgICBpZiAocmVmQ291bnRTdWJzY3JpcHRpb24gJiYgIXJlZkNvdW50U3Vic2NyaXB0aW9uLmNsb3NlZCkge1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uLmFkZChuZXcgSW5uZXJSZWZDb3VudFN1YnNjcmlwdGlvbihyZWZDb3VudFN1YnNjcmlwdGlvbikpO1xuICAgICAgICB9XG4gICAgICAgIHN1YnNjcmlwdGlvbi5hZGQoZ3JvdXBTdWJqZWN0LnN1YnNjcmliZShzdWJzY3JpYmVyKSk7XG4gICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgfTtcbiAgICByZXR1cm4gR3JvdXBlZE9ic2VydmFibGU7XG59KE9ic2VydmFibGUpKTtcbmV4cG9ydCB7IEdyb3VwZWRPYnNlcnZhYmxlIH07XG52YXIgSW5uZXJSZWZDb3VudFN1YnNjcmlwdGlvbiA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhJbm5lclJlZkNvdW50U3Vic2NyaXB0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIElubmVyUmVmQ291bnRTdWJzY3JpcHRpb24ocGFyZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgcGFyZW50LmNvdW50Kys7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgSW5uZXJSZWZDb3VudFN1YnNjcmlwdGlvbi5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudDtcbiAgICAgICAgaWYgKCFwYXJlbnQuY2xvc2VkICYmICF0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51bnN1YnNjcmliZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgcGFyZW50LmNvdW50IC09IDE7XG4gICAgICAgICAgICBpZiAocGFyZW50LmNvdW50ID09PSAwICYmIHBhcmVudC5hdHRlbXB0ZWRUb1Vuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50LnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBJbm5lclJlZkNvdW50U3Vic2NyaXB0aW9uO1xufShTdWJzY3JpcHRpb24pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdyb3VwQnkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gaWdub3JlRWxlbWVudHMoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGlnbm9yZUVsZW1lbnRzT3BlcmF0b3JGdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBJZ25vcmVFbGVtZW50c09wZXJhdG9yKCkpO1xuICAgIH07XG59XG52YXIgSWdub3JlRWxlbWVudHNPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBJZ25vcmVFbGVtZW50c09wZXJhdG9yKCkge1xuICAgIH1cbiAgICBJZ25vcmVFbGVtZW50c09wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgSWdub3JlRWxlbWVudHNTdWJzY3JpYmVyKHN1YnNjcmliZXIpKTtcbiAgICB9O1xuICAgIHJldHVybiBJZ25vcmVFbGVtZW50c09wZXJhdG9yO1xufSgpKTtcbnZhciBJZ25vcmVFbGVtZW50c1N1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoSWdub3JlRWxlbWVudHNTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIElnbm9yZUVsZW1lbnRzU3Vic2NyaWJlcigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBJZ25vcmVFbGVtZW50c1N1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHVudXNlZCkge1xuICAgIH07XG4gICAgcmV0dXJuIElnbm9yZUVsZW1lbnRzU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aWdub3JlRWxlbWVudHMuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gaXNFbXB0eSgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLmxpZnQobmV3IElzRW1wdHlPcGVyYXRvcigpKTsgfTtcbn1cbnZhciBJc0VtcHR5T3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSXNFbXB0eU9wZXJhdG9yKCkge1xuICAgIH1cbiAgICBJc0VtcHR5T3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAob2JzZXJ2ZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgSXNFbXB0eVN1YnNjcmliZXIob2JzZXJ2ZXIpKTtcbiAgICB9O1xuICAgIHJldHVybiBJc0VtcHR5T3BlcmF0b3I7XG59KCkpO1xudmFyIElzRW1wdHlTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKElzRW1wdHlTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIElzRW1wdHlTdWJzY3JpYmVyKGRlc3RpbmF0aW9uKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICB9XG4gICAgSXNFbXB0eVN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlID0gZnVuY3Rpb24gKGlzRW1wdHkpIHtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gdGhpcy5kZXN0aW5hdGlvbjtcbiAgICAgICAgZGVzdGluYXRpb24ubmV4dChpc0VtcHR5KTtcbiAgICAgICAgZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICB9O1xuICAgIElzRW1wdHlTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLm5vdGlmeUNvbXBsZXRlKGZhbHNlKTtcbiAgICB9O1xuICAgIElzRW1wdHlTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubm90aWZ5Q29tcGxldGUodHJ1ZSk7XG4gICAgfTtcbiAgICByZXR1cm4gSXNFbXB0eVN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzRW1wdHkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF91dGlsX0VtcHR5RXJyb3IsX2ZpbHRlcixfdGFrZUxhc3QsX3Rocm93SWZFbXB0eSxfZGVmYXVsdElmRW1wdHksX3V0aWxfaWRlbnRpdHkgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgRW1wdHlFcnJvciB9IGZyb20gJy4uL3V0aWwvRW1wdHlFcnJvcic7XG5pbXBvcnQgeyBmaWx0ZXIgfSBmcm9tICcuL2ZpbHRlcic7XG5pbXBvcnQgeyB0YWtlTGFzdCB9IGZyb20gJy4vdGFrZUxhc3QnO1xuaW1wb3J0IHsgdGhyb3dJZkVtcHR5IH0gZnJvbSAnLi90aHJvd0lmRW1wdHknO1xuaW1wb3J0IHsgZGVmYXVsdElmRW1wdHkgfSBmcm9tICcuL2RlZmF1bHRJZkVtcHR5JztcbmltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi4vdXRpbC9pZGVudGl0eSc7XG5leHBvcnQgZnVuY3Rpb24gbGFzdChwcmVkaWNhdGUsIGRlZmF1bHRWYWx1ZSkge1xuICAgIHZhciBoYXNEZWZhdWx0VmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID49IDI7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5waXBlKHByZWRpY2F0ZSA/IGZpbHRlcihmdW5jdGlvbiAodiwgaSkgeyByZXR1cm4gcHJlZGljYXRlKHYsIGksIHNvdXJjZSk7IH0pIDogaWRlbnRpdHksIHRha2VMYXN0KDEpLCBoYXNEZWZhdWx0VmFsdWUgPyBkZWZhdWx0SWZFbXB0eShkZWZhdWx0VmFsdWUpIDogdGhyb3dJZkVtcHR5KGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBFbXB0eUVycm9yKCk7IH0pKTsgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxhc3QuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gbWFwKHByb2plY3QsIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gbWFwT3BlcmF0aW9uKHNvdXJjZSkge1xuICAgICAgICBpZiAodHlwZW9mIHByb2plY3QgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2FyZ3VtZW50IGlzIG5vdCBhIGZ1bmN0aW9uLiBBcmUgeW91IGxvb2tpbmcgZm9yIGBtYXBUbygpYD8nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IE1hcE9wZXJhdG9yKHByb2plY3QsIHRoaXNBcmcpKTtcbiAgICB9O1xufVxudmFyIE1hcE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1hcE9wZXJhdG9yKHByb2plY3QsIHRoaXNBcmcpIHtcbiAgICAgICAgdGhpcy5wcm9qZWN0ID0gcHJvamVjdDtcbiAgICAgICAgdGhpcy50aGlzQXJnID0gdGhpc0FyZztcbiAgICB9XG4gICAgTWFwT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBNYXBTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMucHJvamVjdCwgdGhpcy50aGlzQXJnKSk7XG4gICAgfTtcbiAgICByZXR1cm4gTWFwT3BlcmF0b3I7XG59KCkpO1xuZXhwb3J0IHsgTWFwT3BlcmF0b3IgfTtcbnZhciBNYXBTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKE1hcFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTWFwU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgcHJvamVjdCwgdGhpc0FyZykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucHJvamVjdCA9IHByb2plY3Q7XG4gICAgICAgIF90aGlzLmNvdW50ID0gMDtcbiAgICAgICAgX3RoaXMudGhpc0FyZyA9IHRoaXNBcmcgfHwgX3RoaXM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgTWFwU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucHJvamVjdC5jYWxsKHRoaXMudGhpc0FyZywgdmFsdWUsIHRoaXMuY291bnQrKyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChyZXN1bHQpO1xuICAgIH07XG4gICAgcmV0dXJuIE1hcFN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBtYXBUbyh2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UubGlmdChuZXcgTWFwVG9PcGVyYXRvcih2YWx1ZSkpOyB9O1xufVxudmFyIE1hcFRvT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTWFwVG9PcGVyYXRvcih2YWx1ZSkge1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIE1hcFRvT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBNYXBUb1N1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy52YWx1ZSkpO1xuICAgIH07XG4gICAgcmV0dXJuIE1hcFRvT3BlcmF0b3I7XG59KCkpO1xudmFyIE1hcFRvU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhNYXBUb1N1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTWFwVG9TdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCB2YWx1ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBNYXBUb1N1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHRoaXMudmFsdWUpO1xuICAgIH07XG4gICAgcmV0dXJuIE1hcFRvU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwVG8uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyLF9Ob3RpZmljYXRpb24gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IE5vdGlmaWNhdGlvbiB9IGZyb20gJy4uL05vdGlmaWNhdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gbWF0ZXJpYWxpemUoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG1hdGVyaWFsaXplT3BlcmF0b3JGdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBNYXRlcmlhbGl6ZU9wZXJhdG9yKCkpO1xuICAgIH07XG59XG52YXIgTWF0ZXJpYWxpemVPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNYXRlcmlhbGl6ZU9wZXJhdG9yKCkge1xuICAgIH1cbiAgICBNYXRlcmlhbGl6ZU9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgTWF0ZXJpYWxpemVTdWJzY3JpYmVyKHN1YnNjcmliZXIpKTtcbiAgICB9O1xuICAgIHJldHVybiBNYXRlcmlhbGl6ZU9wZXJhdG9yO1xufSgpKTtcbnZhciBNYXRlcmlhbGl6ZVN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoTWF0ZXJpYWxpemVTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1hdGVyaWFsaXplU3Vic2NyaWJlcihkZXN0aW5hdGlvbikge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgfVxuICAgIE1hdGVyaWFsaXplU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KE5vdGlmaWNhdGlvbi5jcmVhdGVOZXh0KHZhbHVlKSk7XG4gICAgfTtcbiAgICBNYXRlcmlhbGl6ZVN1YnNjcmliZXIucHJvdG90eXBlLl9lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gdGhpcy5kZXN0aW5hdGlvbjtcbiAgICAgICAgZGVzdGluYXRpb24ubmV4dChOb3RpZmljYXRpb24uY3JlYXRlRXJyb3IoZXJyKSk7XG4gICAgICAgIGRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgfTtcbiAgICBNYXRlcmlhbGl6ZVN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gdGhpcy5kZXN0aW5hdGlvbjtcbiAgICAgICAgZGVzdGluYXRpb24ubmV4dChOb3RpZmljYXRpb24uY3JlYXRlQ29tcGxldGUoKSk7XG4gICAgICAgIGRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gTWF0ZXJpYWxpemVTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXRlcmlhbGl6ZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3JlZHVjZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyByZWR1Y2UgfSBmcm9tICcuL3JlZHVjZSc7XG5leHBvcnQgZnVuY3Rpb24gbWF4KGNvbXBhcmVyKSB7XG4gICAgdmFyIG1heCA9ICh0eXBlb2YgY29tcGFyZXIgPT09ICdmdW5jdGlvbicpXG4gICAgICAgID8gZnVuY3Rpb24gKHgsIHkpIHsgcmV0dXJuIGNvbXBhcmVyKHgsIHkpID4gMCA/IHggOiB5OyB9XG4gICAgICAgIDogZnVuY3Rpb24gKHgsIHkpIHsgcmV0dXJuIHggPiB5ID8geCA6IHk7IH07XG4gICAgcmV0dXJuIHJlZHVjZShtYXgpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWF4LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfb2JzZXJ2YWJsZV9tZXJnZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBtZXJnZSBhcyBtZXJnZVN0YXRpYyB9IGZyb20gJy4uL29ic2VydmFibGUvbWVyZ2UnO1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlKCkge1xuICAgIHZhciBvYnNlcnZhYmxlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIG9ic2VydmFibGVzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UubGlmdC5jYWxsKG1lcmdlU3RhdGljLmFwcGx5KHZvaWQgMCwgW3NvdXJjZV0uY29uY2F0KG9ic2VydmFibGVzKSkpOyB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVyZ2UuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9tZXJnZU1hcCxfdXRpbF9pZGVudGl0eSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBtZXJnZU1hcCB9IGZyb20gJy4vbWVyZ2VNYXAnO1xuaW1wb3J0IHsgaWRlbnRpdHkgfSBmcm9tICcuLi91dGlsL2lkZW50aXR5JztcbmV4cG9ydCBmdW5jdGlvbiBtZXJnZUFsbChjb25jdXJyZW50KSB7XG4gICAgaWYgKGNvbmN1cnJlbnQgPT09IHZvaWQgMCkge1xuICAgICAgICBjb25jdXJyZW50ID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgIH1cbiAgICByZXR1cm4gbWVyZ2VNYXAoaWRlbnRpdHksIGNvbmN1cnJlbnQpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVyZ2VBbGwuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9tYXAsX29ic2VydmFibGVfZnJvbSxfaW5uZXJTdWJzY3JpYmUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IG1hcCB9IGZyb20gJy4vbWFwJztcbmltcG9ydCB7IGZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2Zyb20nO1xuaW1wb3J0IHsgU2ltcGxlT3V0ZXJTdWJzY3JpYmVyLCBTaW1wbGVJbm5lclN1YnNjcmliZXIsIGlubmVyU3Vic2NyaWJlIH0gZnJvbSAnLi4vaW5uZXJTdWJzY3JpYmUnO1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlTWFwKHByb2plY3QsIHJlc3VsdFNlbGVjdG9yLCBjb25jdXJyZW50KSB7XG4gICAgaWYgKGNvbmN1cnJlbnQgPT09IHZvaWQgMCkge1xuICAgICAgICBjb25jdXJyZW50ID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHJlc3VsdFNlbGVjdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UucGlwZShtZXJnZU1hcChmdW5jdGlvbiAoYSwgaSkgeyByZXR1cm4gZnJvbShwcm9qZWN0KGEsIGkpKS5waXBlKG1hcChmdW5jdGlvbiAoYiwgaWkpIHsgcmV0dXJuIHJlc3VsdFNlbGVjdG9yKGEsIGIsIGksIGlpKTsgfSkpOyB9LCBjb25jdXJyZW50KSk7IH07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiByZXN1bHRTZWxlY3RvciA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgY29uY3VycmVudCA9IHJlc3VsdFNlbGVjdG9yO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLmxpZnQobmV3IE1lcmdlTWFwT3BlcmF0b3IocHJvamVjdCwgY29uY3VycmVudCkpOyB9O1xufVxudmFyIE1lcmdlTWFwT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTWVyZ2VNYXBPcGVyYXRvcihwcm9qZWN0LCBjb25jdXJyZW50KSB7XG4gICAgICAgIGlmIChjb25jdXJyZW50ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGNvbmN1cnJlbnQgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wcm9qZWN0ID0gcHJvamVjdDtcbiAgICAgICAgdGhpcy5jb25jdXJyZW50ID0gY29uY3VycmVudDtcbiAgICB9XG4gICAgTWVyZ2VNYXBPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChvYnNlcnZlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBNZXJnZU1hcFN1YnNjcmliZXIob2JzZXJ2ZXIsIHRoaXMucHJvamVjdCwgdGhpcy5jb25jdXJyZW50KSk7XG4gICAgfTtcbiAgICByZXR1cm4gTWVyZ2VNYXBPcGVyYXRvcjtcbn0oKSk7XG5leHBvcnQgeyBNZXJnZU1hcE9wZXJhdG9yIH07XG52YXIgTWVyZ2VNYXBTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKE1lcmdlTWFwU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNZXJnZU1hcFN1YnNjcmliZXIoZGVzdGluYXRpb24sIHByb2plY3QsIGNvbmN1cnJlbnQpIHtcbiAgICAgICAgaWYgKGNvbmN1cnJlbnQgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgY29uY3VycmVudCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucHJvamVjdCA9IHByb2plY3Q7XG4gICAgICAgIF90aGlzLmNvbmN1cnJlbnQgPSBjb25jdXJyZW50O1xuICAgICAgICBfdGhpcy5oYXNDb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuYnVmZmVyID0gW107XG4gICAgICAgIF90aGlzLmFjdGl2ZSA9IDA7XG4gICAgICAgIF90aGlzLmluZGV4ID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBNZXJnZU1hcFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSA8IHRoaXMuY29uY3VycmVudCkge1xuICAgICAgICAgICAgdGhpcy5fdHJ5TmV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlci5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTWVyZ2VNYXBTdWJzY3JpYmVyLnByb3RvdHlwZS5fdHJ5TmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4Kys7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLnByb2plY3QodmFsdWUsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmUrKztcbiAgICAgICAgdGhpcy5faW5uZXJTdWIocmVzdWx0KTtcbiAgICB9O1xuICAgIE1lcmdlTWFwU3Vic2NyaWJlci5wcm90b3R5cGUuX2lubmVyU3ViID0gZnVuY3Rpb24gKGlzaCkge1xuICAgICAgICB2YXIgaW5uZXJTdWJzY3JpYmVyID0gbmV3IFNpbXBsZUlubmVyU3Vic2NyaWJlcih0aGlzKTtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gdGhpcy5kZXN0aW5hdGlvbjtcbiAgICAgICAgZGVzdGluYXRpb24uYWRkKGlubmVyU3Vic2NyaWJlcik7XG4gICAgICAgIHZhciBpbm5lclN1YnNjcmlwdGlvbiA9IGlubmVyU3Vic2NyaWJlKGlzaCwgaW5uZXJTdWJzY3JpYmVyKTtcbiAgICAgICAgaWYgKGlubmVyU3Vic2NyaXB0aW9uICE9PSBpbm5lclN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uLmFkZChpbm5lclN1YnNjcmlwdGlvbik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1lcmdlTWFwU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmhhc0NvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSA9PT0gMCAmJiB0aGlzLmJ1ZmZlci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBNZXJnZU1hcFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQgPSBmdW5jdGlvbiAoaW5uZXJWYWx1ZSkge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQoaW5uZXJWYWx1ZSk7XG4gICAgfTtcbiAgICBNZXJnZU1hcFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5idWZmZXI7XG4gICAgICAgIHRoaXMuYWN0aXZlLS07XG4gICAgICAgIGlmIChidWZmZXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5fbmV4dChidWZmZXIuc2hpZnQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5hY3RpdmUgPT09IDAgJiYgdGhpcy5oYXNDb21wbGV0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE1lcmdlTWFwU3Vic2NyaWJlcjtcbn0oU2ltcGxlT3V0ZXJTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBNZXJnZU1hcFN1YnNjcmliZXIgfTtcbmV4cG9ydCB2YXIgZmxhdE1hcCA9IG1lcmdlTWFwO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVyZ2VNYXAuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9tZXJnZU1hcCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBtZXJnZU1hcCB9IGZyb20gJy4vbWVyZ2VNYXAnO1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlTWFwVG8oaW5uZXJPYnNlcnZhYmxlLCByZXN1bHRTZWxlY3RvciwgY29uY3VycmVudCkge1xuICAgIGlmIChjb25jdXJyZW50ID09PSB2b2lkIDApIHtcbiAgICAgICAgY29uY3VycmVudCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiByZXN1bHRTZWxlY3RvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gbWVyZ2VNYXAoZnVuY3Rpb24gKCkgeyByZXR1cm4gaW5uZXJPYnNlcnZhYmxlOyB9LCByZXN1bHRTZWxlY3RvciwgY29uY3VycmVudCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcmVzdWx0U2VsZWN0b3IgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGNvbmN1cnJlbnQgPSByZXN1bHRTZWxlY3RvcjtcbiAgICB9XG4gICAgcmV0dXJuIG1lcmdlTWFwKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlubmVyT2JzZXJ2YWJsZTsgfSwgY29uY3VycmVudCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXJnZU1hcFRvLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfaW5uZXJTdWJzY3JpYmUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFNpbXBsZU91dGVyU3Vic2NyaWJlciwgU2ltcGxlSW5uZXJTdWJzY3JpYmVyLCBpbm5lclN1YnNjcmliZSB9IGZyb20gJy4uL2lubmVyU3Vic2NyaWJlJztcbmV4cG9ydCBmdW5jdGlvbiBtZXJnZVNjYW4oYWNjdW11bGF0b3IsIHNlZWQsIGNvbmN1cnJlbnQpIHtcbiAgICBpZiAoY29uY3VycmVudCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGNvbmN1cnJlbnQgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UubGlmdChuZXcgTWVyZ2VTY2FuT3BlcmF0b3IoYWNjdW11bGF0b3IsIHNlZWQsIGNvbmN1cnJlbnQpKTsgfTtcbn1cbnZhciBNZXJnZVNjYW5PcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNZXJnZVNjYW5PcGVyYXRvcihhY2N1bXVsYXRvciwgc2VlZCwgY29uY3VycmVudCkge1xuICAgICAgICB0aGlzLmFjY3VtdWxhdG9yID0gYWNjdW11bGF0b3I7XG4gICAgICAgIHRoaXMuc2VlZCA9IHNlZWQ7XG4gICAgICAgIHRoaXMuY29uY3VycmVudCA9IGNvbmN1cnJlbnQ7XG4gICAgfVxuICAgIE1lcmdlU2Nhbk9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgTWVyZ2VTY2FuU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLmFjY3VtdWxhdG9yLCB0aGlzLnNlZWQsIHRoaXMuY29uY3VycmVudCkpO1xuICAgIH07XG4gICAgcmV0dXJuIE1lcmdlU2Nhbk9wZXJhdG9yO1xufSgpKTtcbmV4cG9ydCB7IE1lcmdlU2Nhbk9wZXJhdG9yIH07XG52YXIgTWVyZ2VTY2FuU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhNZXJnZVNjYW5TdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1lcmdlU2NhblN1YnNjcmliZXIoZGVzdGluYXRpb24sIGFjY3VtdWxhdG9yLCBhY2MsIGNvbmN1cnJlbnQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmFjY3VtdWxhdG9yID0gYWNjdW11bGF0b3I7XG4gICAgICAgIF90aGlzLmFjYyA9IGFjYztcbiAgICAgICAgX3RoaXMuY29uY3VycmVudCA9IGNvbmN1cnJlbnQ7XG4gICAgICAgIF90aGlzLmhhc1ZhbHVlID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmhhc0NvbXBsZXRlZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5idWZmZXIgPSBbXTtcbiAgICAgICAgX3RoaXMuYWN0aXZlID0gMDtcbiAgICAgICAgX3RoaXMuaW5kZXggPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE1lcmdlU2NhblN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSA8IHRoaXMuY29uY3VycmVudCkge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleCsrO1xuICAgICAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gdGhpcy5kZXN0aW5hdGlvbjtcbiAgICAgICAgICAgIHZhciBpc2ggPSB2b2lkIDA7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBhY2N1bXVsYXRvciA9IHRoaXMuYWNjdW11bGF0b3I7XG4gICAgICAgICAgICAgICAgaXNoID0gYWNjdW11bGF0b3IodGhpcy5hY2MsIHZhbHVlLCBpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkZXN0aW5hdGlvbi5lcnJvcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYWN0aXZlKys7XG4gICAgICAgICAgICB0aGlzLl9pbm5lclN1Yihpc2gpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5idWZmZXIucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1lcmdlU2NhblN1YnNjcmliZXIucHJvdG90eXBlLl9pbm5lclN1YiA9IGZ1bmN0aW9uIChpc2gpIHtcbiAgICAgICAgdmFyIGlubmVyU3Vic2NyaWJlciA9IG5ldyBTaW1wbGVJbm5lclN1YnNjcmliZXIodGhpcyk7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGRlc3RpbmF0aW9uLmFkZChpbm5lclN1YnNjcmliZXIpO1xuICAgICAgICB2YXIgaW5uZXJTdWJzY3JpcHRpb24gPSBpbm5lclN1YnNjcmliZShpc2gsIGlubmVyU3Vic2NyaWJlcik7XG4gICAgICAgIGlmIChpbm5lclN1YnNjcmlwdGlvbiAhPT0gaW5uZXJTdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbi5hZGQoaW5uZXJTdWJzY3JpcHRpb24pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNZXJnZVNjYW5TdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaGFzQ29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlID09PSAwICYmIHRoaXMuYnVmZmVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaGFzVmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHRoaXMuYWNjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBNZXJnZVNjYW5TdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlOZXh0ID0gZnVuY3Rpb24gKGlubmVyVmFsdWUpIHtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gdGhpcy5kZXN0aW5hdGlvbjtcbiAgICAgICAgdGhpcy5hY2MgPSBpbm5lclZhbHVlO1xuICAgICAgICB0aGlzLmhhc1ZhbHVlID0gdHJ1ZTtcbiAgICAgICAgZGVzdGluYXRpb24ubmV4dChpbm5lclZhbHVlKTtcbiAgICB9O1xuICAgIE1lcmdlU2NhblN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5idWZmZXI7XG4gICAgICAgIHRoaXMuYWN0aXZlLS07XG4gICAgICAgIGlmIChidWZmZXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5fbmV4dChidWZmZXIuc2hpZnQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5hY3RpdmUgPT09IDAgJiYgdGhpcy5oYXNDb21wbGV0ZWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmhhc1ZhbHVlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh0aGlzLmFjYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBNZXJnZVNjYW5TdWJzY3JpYmVyO1xufShTaW1wbGVPdXRlclN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IE1lcmdlU2NhblN1YnNjcmliZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lcmdlU2Nhbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3JlZHVjZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyByZWR1Y2UgfSBmcm9tICcuL3JlZHVjZSc7XG5leHBvcnQgZnVuY3Rpb24gbWluKGNvbXBhcmVyKSB7XG4gICAgdmFyIG1pbiA9ICh0eXBlb2YgY29tcGFyZXIgPT09ICdmdW5jdGlvbicpXG4gICAgICAgID8gZnVuY3Rpb24gKHgsIHkpIHsgcmV0dXJuIGNvbXBhcmVyKHgsIHkpIDwgMCA/IHggOiB5OyB9XG4gICAgICAgIDogZnVuY3Rpb24gKHgsIHkpIHsgcmV0dXJuIHggPCB5ID8geCA6IHk7IH07XG4gICAgcmV0dXJuIHJlZHVjZShtaW4pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWluLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfb2JzZXJ2YWJsZV9Db25uZWN0YWJsZU9ic2VydmFibGUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgY29ubmVjdGFibGVPYnNlcnZhYmxlRGVzY3JpcHRvciB9IGZyb20gJy4uL29ic2VydmFibGUvQ29ubmVjdGFibGVPYnNlcnZhYmxlJztcbmV4cG9ydCBmdW5jdGlvbiBtdWx0aWNhc3Qoc3ViamVjdE9yU3ViamVjdEZhY3RvcnksIHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG11bHRpY2FzdE9wZXJhdG9yRnVuY3Rpb24oc291cmNlKSB7XG4gICAgICAgIHZhciBzdWJqZWN0RmFjdG9yeTtcbiAgICAgICAgaWYgKHR5cGVvZiBzdWJqZWN0T3JTdWJqZWN0RmFjdG9yeSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgc3ViamVjdEZhY3RvcnkgPSBzdWJqZWN0T3JTdWJqZWN0RmFjdG9yeTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN1YmplY3RGYWN0b3J5ID0gZnVuY3Rpb24gc3ViamVjdEZhY3RvcnkoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1YmplY3RPclN1YmplY3RGYWN0b3J5O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHNlbGVjdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IE11bHRpY2FzdE9wZXJhdG9yKHN1YmplY3RGYWN0b3J5LCBzZWxlY3RvcikpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb25uZWN0YWJsZSA9IE9iamVjdC5jcmVhdGUoc291cmNlLCBjb25uZWN0YWJsZU9ic2VydmFibGVEZXNjcmlwdG9yKTtcbiAgICAgICAgY29ubmVjdGFibGUuc291cmNlID0gc291cmNlO1xuICAgICAgICBjb25uZWN0YWJsZS5zdWJqZWN0RmFjdG9yeSA9IHN1YmplY3RGYWN0b3J5O1xuICAgICAgICByZXR1cm4gY29ubmVjdGFibGU7XG4gICAgfTtcbn1cbnZhciBNdWx0aWNhc3RPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNdWx0aWNhc3RPcGVyYXRvcihzdWJqZWN0RmFjdG9yeSwgc2VsZWN0b3IpIHtcbiAgICAgICAgdGhpcy5zdWJqZWN0RmFjdG9yeSA9IHN1YmplY3RGYWN0b3J5O1xuICAgICAgICB0aGlzLnNlbGVjdG9yID0gc2VsZWN0b3I7XG4gICAgfVxuICAgIE11bHRpY2FzdE9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICB2YXIgc2VsZWN0b3IgPSB0aGlzLnNlbGVjdG9yO1xuICAgICAgICB2YXIgc3ViamVjdCA9IHRoaXMuc3ViamVjdEZhY3RvcnkoKTtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IHNlbGVjdG9yKHN1YmplY3QpLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgc3Vic2NyaXB0aW9uLmFkZChzb3VyY2Uuc3Vic2NyaWJlKHN1YmplY3QpKTtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICB9O1xuICAgIHJldHVybiBNdWx0aWNhc3RPcGVyYXRvcjtcbn0oKSk7XG5leHBvcnQgeyBNdWx0aWNhc3RPcGVyYXRvciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bXVsdGljYXN0LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlcixfTm90aWZpY2F0aW9uIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBOb3RpZmljYXRpb24gfSBmcm9tICcuLi9Ob3RpZmljYXRpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIG9ic2VydmVPbihzY2hlZHVsZXIsIGRlbGF5KSB7XG4gICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgZGVsYXkgPSAwO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gb2JzZXJ2ZU9uT3BlcmF0b3JGdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBPYnNlcnZlT25PcGVyYXRvcihzY2hlZHVsZXIsIGRlbGF5KSk7XG4gICAgfTtcbn1cbnZhciBPYnNlcnZlT25PcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBPYnNlcnZlT25PcGVyYXRvcihzY2hlZHVsZXIsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgICAgIHRoaXMuZGVsYXkgPSBkZWxheTtcbiAgICB9XG4gICAgT2JzZXJ2ZU9uT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBPYnNlcnZlT25TdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMuc2NoZWR1bGVyLCB0aGlzLmRlbGF5KSk7XG4gICAgfTtcbiAgICByZXR1cm4gT2JzZXJ2ZU9uT3BlcmF0b3I7XG59KCkpO1xuZXhwb3J0IHsgT2JzZXJ2ZU9uT3BlcmF0b3IgfTtcbnZhciBPYnNlcnZlT25TdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKE9ic2VydmVPblN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gT2JzZXJ2ZU9uU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgc2NoZWR1bGVyLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgICAgIF90aGlzLmRlbGF5ID0gZGVsYXk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JzZXJ2ZU9uU3Vic2NyaWJlci5kaXNwYXRjaCA9IGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgICAgdmFyIG5vdGlmaWNhdGlvbiA9IGFyZy5ub3RpZmljYXRpb24sIGRlc3RpbmF0aW9uID0gYXJnLmRlc3RpbmF0aW9uO1xuICAgICAgICBub3RpZmljYXRpb24ub2JzZXJ2ZShkZXN0aW5hdGlvbik7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIE9ic2VydmVPblN1YnNjcmliZXIucHJvdG90eXBlLnNjaGVkdWxlTWVzc2FnZSA9IGZ1bmN0aW9uIChub3RpZmljYXRpb24pIHtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gdGhpcy5kZXN0aW5hdGlvbjtcbiAgICAgICAgZGVzdGluYXRpb24uYWRkKHRoaXMuc2NoZWR1bGVyLnNjaGVkdWxlKE9ic2VydmVPblN1YnNjcmliZXIuZGlzcGF0Y2gsIHRoaXMuZGVsYXksIG5ldyBPYnNlcnZlT25NZXNzYWdlKG5vdGlmaWNhdGlvbiwgdGhpcy5kZXN0aW5hdGlvbikpKTtcbiAgICB9O1xuICAgIE9ic2VydmVPblN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVNZXNzYWdlKE5vdGlmaWNhdGlvbi5jcmVhdGVOZXh0KHZhbHVlKSk7XG4gICAgfTtcbiAgICBPYnNlcnZlT25TdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVNZXNzYWdlKE5vdGlmaWNhdGlvbi5jcmVhdGVFcnJvcihlcnIpKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgT2JzZXJ2ZU9uU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNjaGVkdWxlTWVzc2FnZShOb3RpZmljYXRpb24uY3JlYXRlQ29tcGxldGUoKSk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIHJldHVybiBPYnNlcnZlT25TdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBPYnNlcnZlT25TdWJzY3JpYmVyIH07XG52YXIgT2JzZXJ2ZU9uTWVzc2FnZSA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBPYnNlcnZlT25NZXNzYWdlKG5vdGlmaWNhdGlvbiwgZGVzdGluYXRpb24pIHtcbiAgICAgICAgdGhpcy5ub3RpZmljYXRpb24gPSBub3RpZmljYXRpb247XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24gPSBkZXN0aW5hdGlvbjtcbiAgICB9XG4gICAgcmV0dXJuIE9ic2VydmVPbk1lc3NhZ2U7XG59KCkpO1xuZXhwb3J0IHsgT2JzZXJ2ZU9uTWVzc2FnZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2JzZXJ2ZU9uLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfb2JzZXJ2YWJsZV9mcm9tLF91dGlsX2lzQXJyYXksX2lubmVyU3Vic2NyaWJlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBmcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9mcm9tJztcbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuLi91dGlsL2lzQXJyYXknO1xuaW1wb3J0IHsgU2ltcGxlT3V0ZXJTdWJzY3JpYmVyLCBTaW1wbGVJbm5lclN1YnNjcmliZXIsIGlubmVyU3Vic2NyaWJlIH0gZnJvbSAnLi4vaW5uZXJTdWJzY3JpYmUnO1xuZXhwb3J0IGZ1bmN0aW9uIG9uRXJyb3JSZXN1bWVOZXh0KCkge1xuICAgIHZhciBuZXh0U291cmNlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIG5leHRTb3VyY2VzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIGlmIChuZXh0U291cmNlcy5sZW5ndGggPT09IDEgJiYgaXNBcnJheShuZXh0U291cmNlc1swXSkpIHtcbiAgICAgICAgbmV4dFNvdXJjZXMgPSBuZXh0U291cmNlc1swXTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBPbkVycm9yUmVzdW1lTmV4dE9wZXJhdG9yKG5leHRTb3VyY2VzKSk7IH07XG59XG5leHBvcnQgZnVuY3Rpb24gb25FcnJvclJlc3VtZU5leHRTdGF0aWMoKSB7XG4gICAgdmFyIG5leHRTb3VyY2VzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgbmV4dFNvdXJjZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHNvdXJjZSA9IHVuZGVmaW5lZDtcbiAgICBpZiAobmV4dFNvdXJjZXMubGVuZ3RoID09PSAxICYmIGlzQXJyYXkobmV4dFNvdXJjZXNbMF0pKSB7XG4gICAgICAgIG5leHRTb3VyY2VzID0gbmV4dFNvdXJjZXNbMF07XG4gICAgfVxuICAgIHNvdXJjZSA9IG5leHRTb3VyY2VzLnNoaWZ0KCk7XG4gICAgcmV0dXJuIGZyb20oc291cmNlKS5saWZ0KG5ldyBPbkVycm9yUmVzdW1lTmV4dE9wZXJhdG9yKG5leHRTb3VyY2VzKSk7XG59XG52YXIgT25FcnJvclJlc3VtZU5leHRPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBPbkVycm9yUmVzdW1lTmV4dE9wZXJhdG9yKG5leHRTb3VyY2VzKSB7XG4gICAgICAgIHRoaXMubmV4dFNvdXJjZXMgPSBuZXh0U291cmNlcztcbiAgICB9XG4gICAgT25FcnJvclJlc3VtZU5leHRPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IE9uRXJyb3JSZXN1bWVOZXh0U3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLm5leHRTb3VyY2VzKSk7XG4gICAgfTtcbiAgICByZXR1cm4gT25FcnJvclJlc3VtZU5leHRPcGVyYXRvcjtcbn0oKSk7XG52YXIgT25FcnJvclJlc3VtZU5leHRTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKE9uRXJyb3JSZXN1bWVOZXh0U3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBPbkVycm9yUmVzdW1lTmV4dFN1YnNjcmliZXIoZGVzdGluYXRpb24sIG5leHRTb3VyY2VzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uO1xuICAgICAgICBfdGhpcy5uZXh0U291cmNlcyA9IG5leHRTb3VyY2VzO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9uRXJyb3JSZXN1bWVOZXh0U3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5RXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlVG9OZXh0U291cmNlKCk7XG4gICAgfTtcbiAgICBPbkVycm9yUmVzdW1lTmV4dFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN1YnNjcmliZVRvTmV4dFNvdXJjZSgpO1xuICAgIH07XG4gICAgT25FcnJvclJlc3VtZU5leHRTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlVG9OZXh0U291cmNlKCk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIE9uRXJyb3JSZXN1bWVOZXh0U3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN1YnNjcmliZVRvTmV4dFNvdXJjZSgpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBPbkVycm9yUmVzdW1lTmV4dFN1YnNjcmliZXIucHJvdG90eXBlLnN1YnNjcmliZVRvTmV4dFNvdXJjZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5leHQgPSB0aGlzLm5leHRTb3VyY2VzLnNoaWZ0KCk7XG4gICAgICAgIGlmICghIW5leHQpIHtcbiAgICAgICAgICAgIHZhciBpbm5lclN1YnNjcmliZXIgPSBuZXcgU2ltcGxlSW5uZXJTdWJzY3JpYmVyKHRoaXMpO1xuICAgICAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gdGhpcy5kZXN0aW5hdGlvbjtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uLmFkZChpbm5lclN1YnNjcmliZXIpO1xuICAgICAgICAgICAgdmFyIGlubmVyU3Vic2NyaXB0aW9uID0gaW5uZXJTdWJzY3JpYmUobmV4dCwgaW5uZXJTdWJzY3JpYmVyKTtcbiAgICAgICAgICAgIGlmIChpbm5lclN1YnNjcmlwdGlvbiAhPT0gaW5uZXJTdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb24uYWRkKGlubmVyU3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE9uRXJyb3JSZXN1bWVOZXh0U3Vic2NyaWJlcjtcbn0oU2ltcGxlT3V0ZXJTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vbkVycm9yUmVzdW1lTmV4dC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBwYWlyd2lzZSgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLmxpZnQobmV3IFBhaXJ3aXNlT3BlcmF0b3IoKSk7IH07XG59XG52YXIgUGFpcndpc2VPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQYWlyd2lzZU9wZXJhdG9yKCkge1xuICAgIH1cbiAgICBQYWlyd2lzZU9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgUGFpcndpc2VTdWJzY3JpYmVyKHN1YnNjcmliZXIpKTtcbiAgICB9O1xuICAgIHJldHVybiBQYWlyd2lzZU9wZXJhdG9yO1xufSgpKTtcbnZhciBQYWlyd2lzZVN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoUGFpcndpc2VTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFBhaXJ3aXNlU3Vic2NyaWJlcihkZXN0aW5hdGlvbikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaGFzUHJldiA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFBhaXJ3aXNlU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHBhaXI7XG4gICAgICAgIGlmICh0aGlzLmhhc1ByZXYpIHtcbiAgICAgICAgICAgIHBhaXIgPSBbdGhpcy5wcmV2LCB2YWx1ZV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmhhc1ByZXYgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJldiA9IHZhbHVlO1xuICAgICAgICBpZiAocGFpcikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHBhaXIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gUGFpcndpc2VTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWlyd2lzZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3V0aWxfbm90LF9maWx0ZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgbm90IH0gZnJvbSAnLi4vdXRpbC9ub3QnO1xuaW1wb3J0IHsgZmlsdGVyIH0gZnJvbSAnLi9maWx0ZXInO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnRpdGlvbihwcmVkaWNhdGUsIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgZmlsdGVyKHByZWRpY2F0ZSwgdGhpc0FyZykoc291cmNlKSxcbiAgICAgICAgICAgIGZpbHRlcihub3QocHJlZGljYXRlLCB0aGlzQXJnKSkoc291cmNlKVxuICAgICAgICBdO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJ0aXRpb24uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9tYXAgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi9tYXAnO1xuZXhwb3J0IGZ1bmN0aW9uIHBsdWNrKCkge1xuICAgIHZhciBwcm9wZXJ0aWVzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgcHJvcGVydGllc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICB2YXIgbGVuZ3RoID0gcHJvcGVydGllcy5sZW5ndGg7XG4gICAgaWYgKGxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2xpc3Qgb2YgcHJvcGVydGllcyBjYW5ub3QgYmUgZW1wdHkuJyk7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBtYXAocGx1Y2tlcihwcm9wZXJ0aWVzLCBsZW5ndGgpKShzb3VyY2UpOyB9O1xufVxuZnVuY3Rpb24gcGx1Y2tlcihwcm9wcywgbGVuZ3RoKSB7XG4gICAgdmFyIG1hcHBlciA9IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHZhciBjdXJyZW50UHJvcCA9IHg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwID0gY3VycmVudFByb3AgIT0gbnVsbCA/IGN1cnJlbnRQcm9wW3Byb3BzW2ldXSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChwICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UHJvcCA9IHA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjdXJyZW50UHJvcDtcbiAgICB9O1xuICAgIHJldHVybiBtYXBwZXI7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wbHVjay5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX1N1YmplY3QsX211bHRpY2FzdCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAnLi4vU3ViamVjdCc7XG5pbXBvcnQgeyBtdWx0aWNhc3QgfSBmcm9tICcuL211bHRpY2FzdCc7XG5leHBvcnQgZnVuY3Rpb24gcHVibGlzaChzZWxlY3Rvcikge1xuICAgIHJldHVybiBzZWxlY3RvciA/XG4gICAgICAgIG11bHRpY2FzdChmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgU3ViamVjdCgpOyB9LCBzZWxlY3RvcikgOlxuICAgICAgICBtdWx0aWNhc3QobmV3IFN1YmplY3QoKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wdWJsaXNoLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfQmVoYXZpb3JTdWJqZWN0LF9tdWx0aWNhc3QgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0IH0gZnJvbSAnLi4vQmVoYXZpb3JTdWJqZWN0JztcbmltcG9ydCB7IG11bHRpY2FzdCB9IGZyb20gJy4vbXVsdGljYXN0JztcbmV4cG9ydCBmdW5jdGlvbiBwdWJsaXNoQmVoYXZpb3IodmFsdWUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gbXVsdGljYXN0KG5ldyBCZWhhdmlvclN1YmplY3QodmFsdWUpKShzb3VyY2UpOyB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHVibGlzaEJlaGF2aW9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfQXN5bmNTdWJqZWN0LF9tdWx0aWNhc3QgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgQXN5bmNTdWJqZWN0IH0gZnJvbSAnLi4vQXN5bmNTdWJqZWN0JztcbmltcG9ydCB7IG11bHRpY2FzdCB9IGZyb20gJy4vbXVsdGljYXN0JztcbmV4cG9ydCBmdW5jdGlvbiBwdWJsaXNoTGFzdCgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gbXVsdGljYXN0KG5ldyBBc3luY1N1YmplY3QoKSkoc291cmNlKTsgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXB1Ymxpc2hMYXN0LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfUmVwbGF5U3ViamVjdCxfbXVsdGljYXN0IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IFJlcGxheVN1YmplY3QgfSBmcm9tICcuLi9SZXBsYXlTdWJqZWN0JztcbmltcG9ydCB7IG11bHRpY2FzdCB9IGZyb20gJy4vbXVsdGljYXN0JztcbmV4cG9ydCBmdW5jdGlvbiBwdWJsaXNoUmVwbGF5KGJ1ZmZlclNpemUsIHdpbmRvd1RpbWUsIHNlbGVjdG9yT3JTY2hlZHVsZXIsIHNjaGVkdWxlcikge1xuICAgIGlmIChzZWxlY3Rvck9yU2NoZWR1bGVyICYmIHR5cGVvZiBzZWxlY3Rvck9yU2NoZWR1bGVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHNjaGVkdWxlciA9IHNlbGVjdG9yT3JTY2hlZHVsZXI7XG4gICAgfVxuICAgIHZhciBzZWxlY3RvciA9IHR5cGVvZiBzZWxlY3Rvck9yU2NoZWR1bGVyID09PSAnZnVuY3Rpb24nID8gc2VsZWN0b3JPclNjaGVkdWxlciA6IHVuZGVmaW5lZDtcbiAgICB2YXIgc3ViamVjdCA9IG5ldyBSZXBsYXlTdWJqZWN0KGJ1ZmZlclNpemUsIHdpbmRvd1RpbWUsIHNjaGVkdWxlcik7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIG11bHRpY2FzdChmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJqZWN0OyB9LCBzZWxlY3Rvcikoc291cmNlKTsgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXB1Ymxpc2hSZXBsYXkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF91dGlsX2lzQXJyYXksX29ic2VydmFibGVfcmFjZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vdXRpbC9pc0FycmF5JztcbmltcG9ydCB7IHJhY2UgYXMgcmFjZVN0YXRpYyB9IGZyb20gJy4uL29ic2VydmFibGUvcmFjZSc7XG5leHBvcnQgZnVuY3Rpb24gcmFjZSgpIHtcbiAgICB2YXIgb2JzZXJ2YWJsZXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBvYnNlcnZhYmxlc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gcmFjZU9wZXJhdG9yRnVuY3Rpb24oc291cmNlKSB7XG4gICAgICAgIGlmIChvYnNlcnZhYmxlcy5sZW5ndGggPT09IDEgJiYgaXNBcnJheShvYnNlcnZhYmxlc1swXSkpIHtcbiAgICAgICAgICAgIG9ic2VydmFibGVzID0gb2JzZXJ2YWJsZXNbMF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0LmNhbGwocmFjZVN0YXRpYy5hcHBseSh2b2lkIDAsIFtzb3VyY2VdLmNvbmNhdChvYnNlcnZhYmxlcykpKTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmFjZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3NjYW4sX3Rha2VMYXN0LF9kZWZhdWx0SWZFbXB0eSxfdXRpbF9waXBlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IHNjYW4gfSBmcm9tICcuL3NjYW4nO1xuaW1wb3J0IHsgdGFrZUxhc3QgfSBmcm9tICcuL3Rha2VMYXN0JztcbmltcG9ydCB7IGRlZmF1bHRJZkVtcHR5IH0gZnJvbSAnLi9kZWZhdWx0SWZFbXB0eSc7XG5pbXBvcnQgeyBwaXBlIH0gZnJvbSAnLi4vdXRpbC9waXBlJztcbmV4cG9ydCBmdW5jdGlvbiByZWR1Y2UoYWNjdW11bGF0b3IsIHNlZWQpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiByZWR1Y2VPcGVyYXRvckZ1bmN0aW9uV2l0aFNlZWQoc291cmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gcGlwZShzY2FuKGFjY3VtdWxhdG9yLCBzZWVkKSwgdGFrZUxhc3QoMSksIGRlZmF1bHRJZkVtcHR5KHNlZWQpKShzb3VyY2UpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gcmVkdWNlT3BlcmF0b3JGdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHBpcGUoc2NhbihmdW5jdGlvbiAoYWNjLCB2YWx1ZSwgaW5kZXgpIHsgcmV0dXJuIGFjY3VtdWxhdG9yKGFjYywgdmFsdWUsIGluZGV4ICsgMSk7IH0pLCB0YWtlTGFzdCgxKSkoc291cmNlKTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVkdWNlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIHJlZkNvdW50KCkge1xuICAgIHJldHVybiBmdW5jdGlvbiByZWZDb3VudE9wZXJhdG9yRnVuY3Rpb24oc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2UubGlmdChuZXcgUmVmQ291bnRPcGVyYXRvcihzb3VyY2UpKTtcbiAgICB9O1xufVxudmFyIFJlZkNvdW50T3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVmQ291bnRPcGVyYXRvcihjb25uZWN0YWJsZSkge1xuICAgICAgICB0aGlzLmNvbm5lY3RhYmxlID0gY29ubmVjdGFibGU7XG4gICAgfVxuICAgIFJlZkNvdW50T3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHZhciBjb25uZWN0YWJsZSA9IHRoaXMuY29ubmVjdGFibGU7XG4gICAgICAgIGNvbm5lY3RhYmxlLl9yZWZDb3VudCsrO1xuICAgICAgICB2YXIgcmVmQ291bnRlciA9IG5ldyBSZWZDb3VudFN1YnNjcmliZXIoc3Vic2NyaWJlciwgY29ubmVjdGFibGUpO1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gc291cmNlLnN1YnNjcmliZShyZWZDb3VudGVyKTtcbiAgICAgICAgaWYgKCFyZWZDb3VudGVyLmNsb3NlZCkge1xuICAgICAgICAgICAgcmVmQ291bnRlci5jb25uZWN0aW9uID0gY29ubmVjdGFibGUuY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgfTtcbiAgICByZXR1cm4gUmVmQ291bnRPcGVyYXRvcjtcbn0oKSk7XG52YXIgUmVmQ291bnRTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFJlZkNvdW50U3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBSZWZDb3VudFN1YnNjcmliZXIoZGVzdGluYXRpb24sIGNvbm5lY3RhYmxlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5jb25uZWN0YWJsZSA9IGNvbm5lY3RhYmxlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFJlZkNvdW50U3Vic2NyaWJlci5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29ubmVjdGFibGUgPSB0aGlzLmNvbm5lY3RhYmxlO1xuICAgICAgICBpZiAoIWNvbm5lY3RhYmxlKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29ubmVjdGFibGUgPSBudWxsO1xuICAgICAgICB2YXIgcmVmQ291bnQgPSBjb25uZWN0YWJsZS5fcmVmQ291bnQ7XG4gICAgICAgIGlmIChyZWZDb3VudCA8PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbm5lY3RhYmxlLl9yZWZDb3VudCA9IHJlZkNvdW50IC0gMTtcbiAgICAgICAgaWYgKHJlZkNvdW50ID4gMSkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29ubmVjdGlvbiA9IHRoaXMuY29ubmVjdGlvbjtcbiAgICAgICAgdmFyIHNoYXJlZENvbm5lY3Rpb24gPSBjb25uZWN0YWJsZS5fY29ubmVjdGlvbjtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgaWYgKHNoYXJlZENvbm5lY3Rpb24gJiYgKCFjb25uZWN0aW9uIHx8IHNoYXJlZENvbm5lY3Rpb24gPT09IGNvbm5lY3Rpb24pKSB7XG4gICAgICAgICAgICBzaGFyZWRDb25uZWN0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBSZWZDb3VudFN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlZkNvdW50LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlcixfb2JzZXJ2YWJsZV9lbXB0eSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgZW1wdHkgfSBmcm9tICcuLi9vYnNlcnZhYmxlL2VtcHR5JztcbmV4cG9ydCBmdW5jdGlvbiByZXBlYXQoY291bnQpIHtcbiAgICBpZiAoY291bnQgPT09IHZvaWQgMCkge1xuICAgICAgICBjb3VudCA9IC0xO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICBpZiAoY291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBlbXB0eSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvdW50IDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBSZXBlYXRPcGVyYXRvcigtMSwgc291cmNlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IFJlcGVhdE9wZXJhdG9yKGNvdW50IC0gMSwgc291cmNlKSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxudmFyIFJlcGVhdE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlcGVhdE9wZXJhdG9yKGNvdW50LCBzb3VyY2UpIHtcbiAgICAgICAgdGhpcy5jb3VudCA9IGNvdW50O1xuICAgICAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICB9XG4gICAgUmVwZWF0T3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBSZXBlYXRTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMuY291bnQsIHRoaXMuc291cmNlKSk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVwZWF0T3BlcmF0b3I7XG59KCkpO1xudmFyIFJlcGVhdFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoUmVwZWF0U3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBSZXBlYXRTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBjb3VudCwgc291cmNlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5jb3VudCA9IGNvdW50O1xuICAgICAgICBfdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgUmVwZWF0U3Vic2NyaWJlci5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMsIHNvdXJjZSA9IF9hLnNvdXJjZSwgY291bnQgPSBfYS5jb3VudDtcbiAgICAgICAgICAgIGlmIChjb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmNvbXBsZXRlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjb3VudCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3VudCA9IGNvdW50IC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNvdXJjZS5zdWJzY3JpYmUodGhpcy5fdW5zdWJzY3JpYmVBbmRSZWN5Y2xlKCkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gUmVwZWF0U3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVwZWF0LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3ViamVjdCxfaW5uZXJTdWJzY3JpYmUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICcuLi9TdWJqZWN0JztcbmltcG9ydCB7IFNpbXBsZU91dGVyU3Vic2NyaWJlciwgaW5uZXJTdWJzY3JpYmUsIFNpbXBsZUlubmVyU3Vic2NyaWJlciB9IGZyb20gJy4uL2lubmVyU3Vic2NyaWJlJztcbmV4cG9ydCBmdW5jdGlvbiByZXBlYXRXaGVuKG5vdGlmaWVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBSZXBlYXRXaGVuT3BlcmF0b3Iobm90aWZpZXIpKTsgfTtcbn1cbnZhciBSZXBlYXRXaGVuT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVwZWF0V2hlbk9wZXJhdG9yKG5vdGlmaWVyKSB7XG4gICAgICAgIHRoaXMubm90aWZpZXIgPSBub3RpZmllcjtcbiAgICB9XG4gICAgUmVwZWF0V2hlbk9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgUmVwZWF0V2hlblN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5ub3RpZmllciwgc291cmNlKSk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVwZWF0V2hlbk9wZXJhdG9yO1xufSgpKTtcbnZhciBSZXBlYXRXaGVuU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhSZXBlYXRXaGVuU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBSZXBlYXRXaGVuU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgbm90aWZpZXIsIHNvdXJjZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubm90aWZpZXIgPSBub3RpZmllcjtcbiAgICAgICAgX3RoaXMuc291cmNlID0gc291cmNlO1xuICAgICAgICBfdGhpcy5zb3VyY2VJc0JlaW5nU3Vic2NyaWJlZFRvID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBSZXBlYXRXaGVuU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zb3VyY2VJc0JlaW5nU3Vic2NyaWJlZFRvID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zb3VyY2Uuc3Vic2NyaWJlKHRoaXMpO1xuICAgIH07XG4gICAgUmVwZWF0V2hlblN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zb3VyY2VJc0JlaW5nU3Vic2NyaWJlZFRvID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuY29tcGxldGUuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVwZWF0V2hlblN1YnNjcmliZXIucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNvdXJjZUlzQmVpbmdTdWJzY3JpYmVkVG8gPSBmYWxzZTtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnJldHJpZXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN1YnNjcmliZVRvUmV0cmllcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLnJldHJpZXNTdWJzY3JpcHRpb24gfHwgdGhpcy5yZXRyaWVzU3Vic2NyaXB0aW9uLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmNvbXBsZXRlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl91bnN1YnNjcmliZUFuZFJlY3ljbGUoKTtcbiAgICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9ucy5uZXh0KHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlcGVhdFdoZW5TdWJzY3JpYmVyLnByb3RvdHlwZS5fdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIG5vdGlmaWNhdGlvbnMgPSBfYS5ub3RpZmljYXRpb25zLCByZXRyaWVzU3Vic2NyaXB0aW9uID0gX2EucmV0cmllc1N1YnNjcmlwdGlvbjtcbiAgICAgICAgaWYgKG5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvbnMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmV0cmllc1N1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgcmV0cmllc1N1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgdGhpcy5yZXRyaWVzU3Vic2NyaXB0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmV0cmllcyA9IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIFJlcGVhdFdoZW5TdWJzY3JpYmVyLnByb3RvdHlwZS5fdW5zdWJzY3JpYmVBbmRSZWN5Y2xlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3Vuc3Vic2NyaWJlID0gdGhpcy5fdW5zdWJzY3JpYmU7XG4gICAgICAgIHRoaXMuX3Vuc3Vic2NyaWJlID0gbnVsbDtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5fdW5zdWJzY3JpYmVBbmRSZWN5Y2xlLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuX3Vuc3Vic2NyaWJlID0gX3Vuc3Vic2NyaWJlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFJlcGVhdFdoZW5TdWJzY3JpYmVyLnByb3RvdHlwZS5zdWJzY3JpYmVUb1JldHJpZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubm90aWZpY2F0aW9ucyA9IG5ldyBTdWJqZWN0KCk7XG4gICAgICAgIHZhciByZXRyaWVzO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIG5vdGlmaWVyID0gdGhpcy5ub3RpZmllcjtcbiAgICAgICAgICAgIHJldHJpZXMgPSBub3RpZmllcih0aGlzLm5vdGlmaWNhdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5jb21wbGV0ZS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmV0cmllcyA9IHJldHJpZXM7XG4gICAgICAgIHRoaXMucmV0cmllc1N1YnNjcmlwdGlvbiA9IGlubmVyU3Vic2NyaWJlKHJldHJpZXMsIG5ldyBTaW1wbGVJbm5lclN1YnNjcmliZXIodGhpcykpO1xuICAgIH07XG4gICAgcmV0dXJuIFJlcGVhdFdoZW5TdWJzY3JpYmVyO1xufShTaW1wbGVPdXRlclN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlcGVhdFdoZW4uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gcmV0cnkoY291bnQpIHtcbiAgICBpZiAoY291bnQgPT09IHZvaWQgMCkge1xuICAgICAgICBjb3VudCA9IC0xO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLmxpZnQobmV3IFJldHJ5T3BlcmF0b3IoY291bnQsIHNvdXJjZSkpOyB9O1xufVxudmFyIFJldHJ5T3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmV0cnlPcGVyYXRvcihjb3VudCwgc291cmNlKSB7XG4gICAgICAgIHRoaXMuY291bnQgPSBjb3VudDtcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgfVxuICAgIFJldHJ5T3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBSZXRyeVN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5jb3VudCwgdGhpcy5zb3VyY2UpKTtcbiAgICB9O1xuICAgIHJldHVybiBSZXRyeU9wZXJhdG9yO1xufSgpKTtcbnZhciBSZXRyeVN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoUmV0cnlTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJldHJ5U3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgY291bnQsIHNvdXJjZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuY291bnQgPSBjb3VudDtcbiAgICAgICAgX3RoaXMuc291cmNlID0gc291cmNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFJldHJ5U3Vic2NyaWJlci5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMsIHNvdXJjZSA9IF9hLnNvdXJjZSwgY291bnQgPSBfYS5jb3VudDtcbiAgICAgICAgICAgIGlmIChjb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmVycm9yLmNhbGwodGhpcywgZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNvdW50ID4gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvdW50ID0gY291bnQgLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc291cmNlLnN1YnNjcmliZSh0aGlzLl91bnN1YnNjcmliZUFuZFJlY3ljbGUoKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBSZXRyeVN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJldHJ5LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3ViamVjdCxfaW5uZXJTdWJzY3JpYmUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICcuLi9TdWJqZWN0JztcbmltcG9ydCB7IFNpbXBsZU91dGVyU3Vic2NyaWJlciwgaW5uZXJTdWJzY3JpYmUsIFNpbXBsZUlubmVyU3Vic2NyaWJlciB9IGZyb20gJy4uL2lubmVyU3Vic2NyaWJlJztcbmV4cG9ydCBmdW5jdGlvbiByZXRyeVdoZW4obm90aWZpZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLmxpZnQobmV3IFJldHJ5V2hlbk9wZXJhdG9yKG5vdGlmaWVyLCBzb3VyY2UpKTsgfTtcbn1cbnZhciBSZXRyeVdoZW5PcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXRyeVdoZW5PcGVyYXRvcihub3RpZmllciwgc291cmNlKSB7XG4gICAgICAgIHRoaXMubm90aWZpZXIgPSBub3RpZmllcjtcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgfVxuICAgIFJldHJ5V2hlbk9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgUmV0cnlXaGVuU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLm5vdGlmaWVyLCB0aGlzLnNvdXJjZSkpO1xuICAgIH07XG4gICAgcmV0dXJuIFJldHJ5V2hlbk9wZXJhdG9yO1xufSgpKTtcbnZhciBSZXRyeVdoZW5TdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFJldHJ5V2hlblN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUmV0cnlXaGVuU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgbm90aWZpZXIsIHNvdXJjZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubm90aWZpZXIgPSBub3RpZmllcjtcbiAgICAgICAgX3RoaXMuc291cmNlID0gc291cmNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFJldHJ5V2hlblN1YnNjcmliZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB2YXIgZXJyb3JzID0gdGhpcy5lcnJvcnM7XG4gICAgICAgICAgICB2YXIgcmV0cmllcyA9IHRoaXMucmV0cmllcztcbiAgICAgICAgICAgIHZhciByZXRyaWVzU3Vic2NyaXB0aW9uID0gdGhpcy5yZXRyaWVzU3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgaWYgKCFyZXRyaWVzKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JzID0gbmV3IFN1YmplY3QoKTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbm90aWZpZXIgPSB0aGlzLm5vdGlmaWVyO1xuICAgICAgICAgICAgICAgICAgICByZXRyaWVzID0gbm90aWZpZXIoZXJyb3JzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuZXJyb3IuY2FsbCh0aGlzLCBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0cmllc1N1YnNjcmlwdGlvbiA9IGlubmVyU3Vic2NyaWJlKHJldHJpZXMsIG5ldyBTaW1wbGVJbm5lclN1YnNjcmliZXIodGhpcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lcnJvcnMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXRyaWVzU3Vic2NyaXB0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdW5zdWJzY3JpYmVBbmRSZWN5Y2xlKCk7XG4gICAgICAgICAgICB0aGlzLmVycm9ycyA9IGVycm9ycztcbiAgICAgICAgICAgIHRoaXMucmV0cmllcyA9IHJldHJpZXM7XG4gICAgICAgICAgICB0aGlzLnJldHJpZXNTdWJzY3JpcHRpb24gPSByZXRyaWVzU3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgZXJyb3JzLm5leHQoZXJyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmV0cnlXaGVuU3Vic2NyaWJlci5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBlcnJvcnMgPSBfYS5lcnJvcnMsIHJldHJpZXNTdWJzY3JpcHRpb24gPSBfYS5yZXRyaWVzU3Vic2NyaXB0aW9uO1xuICAgICAgICBpZiAoZXJyb3JzKSB7XG4gICAgICAgICAgICBlcnJvcnMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIHRoaXMuZXJyb3JzID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXRyaWVzU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICByZXRyaWVzU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB0aGlzLnJldHJpZXNTdWJzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXRyaWVzID0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgUmV0cnlXaGVuU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF91bnN1YnNjcmliZSA9IHRoaXMuX3Vuc3Vic2NyaWJlO1xuICAgICAgICB0aGlzLl91bnN1YnNjcmliZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3Vuc3Vic2NyaWJlQW5kUmVjeWNsZSgpO1xuICAgICAgICB0aGlzLl91bnN1YnNjcmliZSA9IF91bnN1YnNjcmliZTtcbiAgICAgICAgdGhpcy5zb3VyY2Uuc3Vic2NyaWJlKHRoaXMpO1xuICAgIH07XG4gICAgcmV0dXJuIFJldHJ5V2hlblN1YnNjcmliZXI7XG59KFNpbXBsZU91dGVyU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmV0cnlXaGVuLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfaW5uZXJTdWJzY3JpYmUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFNpbXBsZU91dGVyU3Vic2NyaWJlciwgaW5uZXJTdWJzY3JpYmUsIFNpbXBsZUlubmVyU3Vic2NyaWJlciB9IGZyb20gJy4uL2lubmVyU3Vic2NyaWJlJztcbmV4cG9ydCBmdW5jdGlvbiBzYW1wbGUobm90aWZpZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLmxpZnQobmV3IFNhbXBsZU9wZXJhdG9yKG5vdGlmaWVyKSk7IH07XG59XG52YXIgU2FtcGxlT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2FtcGxlT3BlcmF0b3Iobm90aWZpZXIpIHtcbiAgICAgICAgdGhpcy5ub3RpZmllciA9IG5vdGlmaWVyO1xuICAgIH1cbiAgICBTYW1wbGVPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgdmFyIHNhbXBsZVN1YnNjcmliZXIgPSBuZXcgU2FtcGxlU3Vic2NyaWJlcihzdWJzY3JpYmVyKTtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IHNvdXJjZS5zdWJzY3JpYmUoc2FtcGxlU3Vic2NyaWJlcik7XG4gICAgICAgIHN1YnNjcmlwdGlvbi5hZGQoaW5uZXJTdWJzY3JpYmUodGhpcy5ub3RpZmllciwgbmV3IFNpbXBsZUlubmVyU3Vic2NyaWJlcihzYW1wbGVTdWJzY3JpYmVyKSkpO1xuICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgIH07XG4gICAgcmV0dXJuIFNhbXBsZU9wZXJhdG9yO1xufSgpKTtcbnZhciBTYW1wbGVTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFNhbXBsZVN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2FtcGxlU3Vic2NyaWJlcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmhhc1ZhbHVlID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU2FtcGxlU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmhhc1ZhbHVlID0gdHJ1ZTtcbiAgICB9O1xuICAgIFNhbXBsZVN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZW1pdFZhbHVlKCk7XG4gICAgfTtcbiAgICBTYW1wbGVTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5lbWl0VmFsdWUoKTtcbiAgICB9O1xuICAgIFNhbXBsZVN1YnNjcmliZXIucHJvdG90eXBlLmVtaXRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzVmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuaGFzVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh0aGlzLnZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFNhbXBsZVN1YnNjcmliZXI7XG59KFNpbXBsZU91dGVyU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2FtcGxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlcixfc2NoZWR1bGVyX2FzeW5jIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBhc3luYyB9IGZyb20gJy4uL3NjaGVkdWxlci9hc3luYyc7XG5leHBvcnQgZnVuY3Rpb24gc2FtcGxlVGltZShwZXJpb2QsIHNjaGVkdWxlcikge1xuICAgIGlmIChzY2hlZHVsZXIgPT09IHZvaWQgMCkge1xuICAgICAgICBzY2hlZHVsZXIgPSBhc3luYztcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBTYW1wbGVUaW1lT3BlcmF0b3IocGVyaW9kLCBzY2hlZHVsZXIpKTsgfTtcbn1cbnZhciBTYW1wbGVUaW1lT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2FtcGxlVGltZU9wZXJhdG9yKHBlcmlvZCwgc2NoZWR1bGVyKSB7XG4gICAgICAgIHRoaXMucGVyaW9kID0gcGVyaW9kO1xuICAgICAgICB0aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICB9XG4gICAgU2FtcGxlVGltZU9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgU2FtcGxlVGltZVN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5wZXJpb2QsIHRoaXMuc2NoZWR1bGVyKSk7XG4gICAgfTtcbiAgICByZXR1cm4gU2FtcGxlVGltZU9wZXJhdG9yO1xufSgpKTtcbnZhciBTYW1wbGVUaW1lU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhTYW1wbGVUaW1lU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTYW1wbGVUaW1lU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgcGVyaW9kLCBzY2hlZHVsZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnBlcmlvZCA9IHBlcmlvZDtcbiAgICAgICAgX3RoaXMuc2NoZWR1bGVyID0gc2NoZWR1bGVyO1xuICAgICAgICBfdGhpcy5oYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGRpc3BhdGNoTm90aWZpY2F0aW9uLCBwZXJpb2QsIHsgc3Vic2NyaWJlcjogX3RoaXMsIHBlcmlvZDogcGVyaW9kIH0pKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTYW1wbGVUaW1lU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5sYXN0VmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5oYXNWYWx1ZSA9IHRydWU7XG4gICAgfTtcbiAgICBTYW1wbGVUaW1lU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzVmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuaGFzVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh0aGlzLmxhc3RWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBTYW1wbGVUaW1lU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZnVuY3Rpb24gZGlzcGF0Y2hOb3RpZmljYXRpb24oc3RhdGUpIHtcbiAgICB2YXIgc3Vic2NyaWJlciA9IHN0YXRlLnN1YnNjcmliZXIsIHBlcmlvZCA9IHN0YXRlLnBlcmlvZDtcbiAgICBzdWJzY3JpYmVyLm5vdGlmeU5leHQoKTtcbiAgICB0aGlzLnNjaGVkdWxlKHN0YXRlLCBwZXJpb2QpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2FtcGxlVGltZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBzY2FuKGFjY3VtdWxhdG9yLCBzZWVkKSB7XG4gICAgdmFyIGhhc1NlZWQgPSBmYWxzZTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgIGhhc1NlZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gc2Nhbk9wZXJhdG9yRnVuY3Rpb24oc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2UubGlmdChuZXcgU2Nhbk9wZXJhdG9yKGFjY3VtdWxhdG9yLCBzZWVkLCBoYXNTZWVkKSk7XG4gICAgfTtcbn1cbnZhciBTY2FuT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2Nhbk9wZXJhdG9yKGFjY3VtdWxhdG9yLCBzZWVkLCBoYXNTZWVkKSB7XG4gICAgICAgIGlmIChoYXNTZWVkID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGhhc1NlZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjY3VtdWxhdG9yID0gYWNjdW11bGF0b3I7XG4gICAgICAgIHRoaXMuc2VlZCA9IHNlZWQ7XG4gICAgICAgIHRoaXMuaGFzU2VlZCA9IGhhc1NlZWQ7XG4gICAgfVxuICAgIFNjYW5PcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IFNjYW5TdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMuYWNjdW11bGF0b3IsIHRoaXMuc2VlZCwgdGhpcy5oYXNTZWVkKSk7XG4gICAgfTtcbiAgICByZXR1cm4gU2Nhbk9wZXJhdG9yO1xufSgpKTtcbnZhciBTY2FuU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhTY2FuU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTY2FuU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgYWNjdW11bGF0b3IsIF9zZWVkLCBoYXNTZWVkKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5hY2N1bXVsYXRvciA9IGFjY3VtdWxhdG9yO1xuICAgICAgICBfdGhpcy5fc2VlZCA9IF9zZWVkO1xuICAgICAgICBfdGhpcy5oYXNTZWVkID0gaGFzU2VlZDtcbiAgICAgICAgX3RoaXMuaW5kZXggPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTY2FuU3Vic2NyaWJlci5wcm90b3R5cGUsIFwic2VlZFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NlZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmhhc1NlZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fc2VlZCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBTY2FuU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhc1NlZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2VlZCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cnlOZXh0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2NhblN1YnNjcmliZXIucHJvdG90eXBlLl90cnlOZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXgrKztcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuYWNjdW11bGF0b3IodGhpcy5zZWVkLCB2YWx1ZSwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlZWQgPSByZXN1bHQ7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChyZXN1bHQpO1xuICAgIH07XG4gICAgcmV0dXJuIFNjYW5TdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2FuLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIHNlcXVlbmNlRXF1YWwoY29tcGFyZVRvLCBjb21wYXJhdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBTZXF1ZW5jZUVxdWFsT3BlcmF0b3IoY29tcGFyZVRvLCBjb21wYXJhdG9yKSk7IH07XG59XG52YXIgU2VxdWVuY2VFcXVhbE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNlcXVlbmNlRXF1YWxPcGVyYXRvcihjb21wYXJlVG8sIGNvbXBhcmF0b3IpIHtcbiAgICAgICAgdGhpcy5jb21wYXJlVG8gPSBjb21wYXJlVG87XG4gICAgICAgIHRoaXMuY29tcGFyYXRvciA9IGNvbXBhcmF0b3I7XG4gICAgfVxuICAgIFNlcXVlbmNlRXF1YWxPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IFNlcXVlbmNlRXF1YWxTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMuY29tcGFyZVRvLCB0aGlzLmNvbXBhcmF0b3IpKTtcbiAgICB9O1xuICAgIHJldHVybiBTZXF1ZW5jZUVxdWFsT3BlcmF0b3I7XG59KCkpO1xuZXhwb3J0IHsgU2VxdWVuY2VFcXVhbE9wZXJhdG9yIH07XG52YXIgU2VxdWVuY2VFcXVhbFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU2VxdWVuY2VFcXVhbFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2VxdWVuY2VFcXVhbFN1YnNjcmliZXIoZGVzdGluYXRpb24sIGNvbXBhcmVUbywgY29tcGFyYXRvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuY29tcGFyZVRvID0gY29tcGFyZVRvO1xuICAgICAgICBfdGhpcy5jb21wYXJhdG9yID0gY29tcGFyYXRvcjtcbiAgICAgICAgX3RoaXMuX2EgPSBbXTtcbiAgICAgICAgX3RoaXMuX2IgPSBbXTtcbiAgICAgICAgX3RoaXMuX29uZUNvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmRlc3RpbmF0aW9uLmFkZChjb21wYXJlVG8uc3Vic2NyaWJlKG5ldyBTZXF1ZW5jZUVxdWFsQ29tcGFyZVRvU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgX3RoaXMpKSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU2VxdWVuY2VFcXVhbFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLl9vbmVDb21wbGV0ZSAmJiB0aGlzLl9iLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5lbWl0KGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2EucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICB0aGlzLmNoZWNrVmFsdWVzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNlcXVlbmNlRXF1YWxTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9vbmVDb21wbGV0ZSkge1xuICAgICAgICAgICAgdGhpcy5lbWl0KHRoaXMuX2EubGVuZ3RoID09PSAwICYmIHRoaXMuX2IubGVuZ3RoID09PSAwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX29uZUNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBTZXF1ZW5jZUVxdWFsU3Vic2NyaWJlci5wcm90b3R5cGUuY2hlY2tWYWx1ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYyA9IHRoaXMsIF9hID0gX2MuX2EsIF9iID0gX2MuX2IsIGNvbXBhcmF0b3IgPSBfYy5jb21wYXJhdG9yO1xuICAgICAgICB3aGlsZSAoX2EubGVuZ3RoID4gMCAmJiBfYi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgYSA9IF9hLnNoaWZ0KCk7XG4gICAgICAgICAgICB2YXIgYiA9IF9iLnNoaWZ0KCk7XG4gICAgICAgICAgICB2YXIgYXJlRXF1YWwgPSBmYWxzZTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXJlRXF1YWwgPSBjb21wYXJhdG9yID8gY29tcGFyYXRvcihhLCBiKSA6IGEgPT09IGI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWFyZUVxdWFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU2VxdWVuY2VFcXVhbFN1YnNjcmliZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gdGhpcy5kZXN0aW5hdGlvbjtcbiAgICAgICAgZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgICAgIGRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgfTtcbiAgICBTZXF1ZW5jZUVxdWFsU3Vic2NyaWJlci5wcm90b3R5cGUubmV4dEIgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuX29uZUNvbXBsZXRlICYmIHRoaXMuX2EubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fYi5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tWYWx1ZXMoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2VxdWVuY2VFcXVhbFN1YnNjcmliZXIucHJvdG90eXBlLmNvbXBsZXRlQiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX29uZUNvbXBsZXRlKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQodGhpcy5fYS5sZW5ndGggPT09IDAgJiYgdGhpcy5fYi5sZW5ndGggPT09IDApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fb25lQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gU2VxdWVuY2VFcXVhbFN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IFNlcXVlbmNlRXF1YWxTdWJzY3JpYmVyIH07XG52YXIgU2VxdWVuY2VFcXVhbENvbXBhcmVUb1N1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU2VxdWVuY2VFcXVhbENvbXBhcmVUb1N1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2VxdWVuY2VFcXVhbENvbXBhcmVUb1N1YnNjcmliZXIoZGVzdGluYXRpb24sIHBhcmVudCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFNlcXVlbmNlRXF1YWxDb21wYXJlVG9TdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLnBhcmVudC5uZXh0Qih2YWx1ZSk7XG4gICAgfTtcbiAgICBTZXF1ZW5jZUVxdWFsQ29tcGFyZVRvU3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB0aGlzLnBhcmVudC5lcnJvcihlcnIpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBTZXF1ZW5jZUVxdWFsQ29tcGFyZVRvU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnBhcmVudC5jb21wbGV0ZUIoKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIFNlcXVlbmNlRXF1YWxDb21wYXJlVG9TdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXF1ZW5jZUVxdWFsLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfbXVsdGljYXN0LF9yZWZDb3VudCxfU3ViamVjdCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBtdWx0aWNhc3QgfSBmcm9tICcuL211bHRpY2FzdCc7XG5pbXBvcnQgeyByZWZDb3VudCB9IGZyb20gJy4vcmVmQ291bnQnO1xuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJy4uL1N1YmplY3QnO1xuZnVuY3Rpb24gc2hhcmVTdWJqZWN0RmFjdG9yeSgpIHtcbiAgICByZXR1cm4gbmV3IFN1YmplY3QoKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzaGFyZSgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gcmVmQ291bnQoKShtdWx0aWNhc3Qoc2hhcmVTdWJqZWN0RmFjdG9yeSkoc291cmNlKSk7IH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zaGFyZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX1JlcGxheVN1YmplY3QgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgUmVwbGF5U3ViamVjdCB9IGZyb20gJy4uL1JlcGxheVN1YmplY3QnO1xuZXhwb3J0IGZ1bmN0aW9uIHNoYXJlUmVwbGF5KGNvbmZpZ09yQnVmZmVyU2l6ZSwgd2luZG93VGltZSwgc2NoZWR1bGVyKSB7XG4gICAgdmFyIGNvbmZpZztcbiAgICBpZiAoY29uZmlnT3JCdWZmZXJTaXplICYmIHR5cGVvZiBjb25maWdPckJ1ZmZlclNpemUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGNvbmZpZyA9IGNvbmZpZ09yQnVmZmVyU2l6ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbmZpZyA9IHtcbiAgICAgICAgICAgIGJ1ZmZlclNpemU6IGNvbmZpZ09yQnVmZmVyU2l6ZSxcbiAgICAgICAgICAgIHdpbmRvd1RpbWU6IHdpbmRvd1RpbWUsXG4gICAgICAgICAgICByZWZDb3VudDogZmFsc2UsXG4gICAgICAgICAgICBzY2hlZHVsZXI6IHNjaGVkdWxlclxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLmxpZnQoc2hhcmVSZXBsYXlPcGVyYXRvcihjb25maWcpKTsgfTtcbn1cbmZ1bmN0aW9uIHNoYXJlUmVwbGF5T3BlcmF0b3IoX2EpIHtcbiAgICB2YXIgX2IgPSBfYS5idWZmZXJTaXplLCBidWZmZXJTaXplID0gX2IgPT09IHZvaWQgMCA/IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSA6IF9iLCBfYyA9IF9hLndpbmRvd1RpbWUsIHdpbmRvd1RpbWUgPSBfYyA9PT0gdm9pZCAwID8gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZIDogX2MsIHVzZVJlZkNvdW50ID0gX2EucmVmQ291bnQsIHNjaGVkdWxlciA9IF9hLnNjaGVkdWxlcjtcbiAgICB2YXIgc3ViamVjdDtcbiAgICB2YXIgcmVmQ291bnQgPSAwO1xuICAgIHZhciBzdWJzY3JpcHRpb247XG4gICAgdmFyIGhhc0Vycm9yID0gZmFsc2U7XG4gICAgdmFyIGlzQ29tcGxldGUgPSBmYWxzZTtcbiAgICByZXR1cm4gZnVuY3Rpb24gc2hhcmVSZXBsYXlPcGVyYXRpb24oc291cmNlKSB7XG4gICAgICAgIHJlZkNvdW50Kys7XG4gICAgICAgIHZhciBpbm5lclN1YjtcbiAgICAgICAgaWYgKCFzdWJqZWN0IHx8IGhhc0Vycm9yKSB7XG4gICAgICAgICAgICBoYXNFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgc3ViamVjdCA9IG5ldyBSZXBsYXlTdWJqZWN0KGJ1ZmZlclNpemUsIHdpbmRvd1RpbWUsIHNjaGVkdWxlcik7XG4gICAgICAgICAgICBpbm5lclN1YiA9IHN1YmplY3Quc3Vic2NyaWJlKHRoaXMpO1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gc291cmNlLnN1YnNjcmliZSh7XG4gICAgICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24gKHZhbHVlKSB7IHN1YmplY3QubmV4dCh2YWx1ZSk7IH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFzRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBzdWJqZWN0LmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICBzdWJqZWN0LmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW5uZXJTdWIgPSBzdWJqZWN0LnN1YnNjcmliZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFkZChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZWZDb3VudC0tO1xuICAgICAgICAgICAgaW5uZXJTdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24gJiYgIWlzQ29tcGxldGUgJiYgdXNlUmVmQ291bnQgJiYgcmVmQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgc3ViamVjdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNoYXJlUmVwbGF5LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlcixfdXRpbF9FbXB0eUVycm9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBFbXB0eUVycm9yIH0gZnJvbSAnLi4vdXRpbC9FbXB0eUVycm9yJztcbmV4cG9ydCBmdW5jdGlvbiBzaW5nbGUocHJlZGljYXRlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBTaW5nbGVPcGVyYXRvcihwcmVkaWNhdGUsIHNvdXJjZSkpOyB9O1xufVxudmFyIFNpbmdsZU9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNpbmdsZU9wZXJhdG9yKHByZWRpY2F0ZSwgc291cmNlKSB7XG4gICAgICAgIHRoaXMucHJlZGljYXRlID0gcHJlZGljYXRlO1xuICAgICAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICB9XG4gICAgU2luZ2xlT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBTaW5nbGVTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMucHJlZGljYXRlLCB0aGlzLnNvdXJjZSkpO1xuICAgIH07XG4gICAgcmV0dXJuIFNpbmdsZU9wZXJhdG9yO1xufSgpKTtcbnZhciBTaW5nbGVTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFNpbmdsZVN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2luZ2xlU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgcHJlZGljYXRlLCBzb3VyY2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnByZWRpY2F0ZSA9IHByZWRpY2F0ZTtcbiAgICAgICAgX3RoaXMuc291cmNlID0gc291cmNlO1xuICAgICAgICBfdGhpcy5zZWVuVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuaW5kZXggPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFNpbmdsZVN1YnNjcmliZXIucHJvdG90eXBlLmFwcGx5U2luZ2xlVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuc2VlblZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKCdTZXF1ZW5jZSBjb250YWlucyBtb3JlIHRoYW4gb25lIGVsZW1lbnQnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2VlblZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuc2luZ2xlVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2luZ2xlU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleCsrO1xuICAgICAgICBpZiAodGhpcy5wcmVkaWNhdGUpIHtcbiAgICAgICAgICAgIHRoaXMudHJ5TmV4dCh2YWx1ZSwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hcHBseVNpbmdsZVZhbHVlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2luZ2xlU3Vic2NyaWJlci5wcm90b3R5cGUudHJ5TmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIHRoaXMuc291cmNlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlTaW5nbGVWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTaW5nbGVTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGlmICh0aGlzLmluZGV4ID4gMCkge1xuICAgICAgICAgICAgZGVzdGluYXRpb24ubmV4dCh0aGlzLnNlZW5WYWx1ZSA/IHRoaXMuc2luZ2xlVmFsdWUgOiB1bmRlZmluZWQpO1xuICAgICAgICAgICAgZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uLmVycm9yKG5ldyBFbXB0eUVycm9yKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFNpbmdsZVN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNpbmdsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBza2lwKGNvdW50KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBTa2lwT3BlcmF0b3IoY291bnQpKTsgfTtcbn1cbnZhciBTa2lwT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2tpcE9wZXJhdG9yKHRvdGFsKSB7XG4gICAgICAgIHRoaXMudG90YWwgPSB0b3RhbDtcbiAgICB9XG4gICAgU2tpcE9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgU2tpcFN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy50b3RhbCkpO1xuICAgIH07XG4gICAgcmV0dXJuIFNraXBPcGVyYXRvcjtcbn0oKSk7XG52YXIgU2tpcFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU2tpcFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2tpcFN1YnNjcmliZXIoZGVzdGluYXRpb24sIHRvdGFsKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy50b3RhbCA9IHRvdGFsO1xuICAgICAgICBfdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU2tpcFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgaWYgKCsrdGhpcy5jb3VudCA+IHRoaXMudG90YWwpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh4KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFNraXBTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1za2lwLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlcixfdXRpbF9Bcmd1bWVudE91dE9mUmFuZ2VFcnJvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgQXJndW1lbnRPdXRPZlJhbmdlRXJyb3IgfSBmcm9tICcuLi91dGlsL0FyZ3VtZW50T3V0T2ZSYW5nZUVycm9yJztcbmV4cG9ydCBmdW5jdGlvbiBza2lwTGFzdChjb3VudCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UubGlmdChuZXcgU2tpcExhc3RPcGVyYXRvcihjb3VudCkpOyB9O1xufVxudmFyIFNraXBMYXN0T3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2tpcExhc3RPcGVyYXRvcihfc2tpcENvdW50KSB7XG4gICAgICAgIHRoaXMuX3NraXBDb3VudCA9IF9za2lwQ291bnQ7XG4gICAgICAgIGlmICh0aGlzLl9za2lwQ291bnQgPCAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQXJndW1lbnRPdXRPZlJhbmdlRXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgU2tpcExhc3RPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgaWYgKHRoaXMuX3NraXBDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IFN1YnNjcmliZXIoc3Vic2NyaWJlcikpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IFNraXBMYXN0U3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLl9za2lwQ291bnQpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFNraXBMYXN0T3BlcmF0b3I7XG59KCkpO1xudmFyIFNraXBMYXN0U3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhTa2lwTGFzdFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2tpcExhc3RTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBfc2tpcENvdW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fc2tpcENvdW50ID0gX3NraXBDb3VudDtcbiAgICAgICAgX3RoaXMuX2NvdW50ID0gMDtcbiAgICAgICAgX3RoaXMuX3JpbmcgPSBuZXcgQXJyYXkoX3NraXBDb3VudCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU2tpcExhc3RTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgc2tpcENvdW50ID0gdGhpcy5fc2tpcENvdW50O1xuICAgICAgICB2YXIgY291bnQgPSB0aGlzLl9jb3VudCsrO1xuICAgICAgICBpZiAoY291bnQgPCBza2lwQ291bnQpIHtcbiAgICAgICAgICAgIHRoaXMuX3JpbmdbY291bnRdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudEluZGV4ID0gY291bnQgJSBza2lwQ291bnQ7XG4gICAgICAgICAgICB2YXIgcmluZyA9IHRoaXMuX3Jpbmc7XG4gICAgICAgICAgICB2YXIgb2xkVmFsdWUgPSByaW5nW2N1cnJlbnRJbmRleF07XG4gICAgICAgICAgICByaW5nW2N1cnJlbnRJbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChvbGRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBTa2lwTGFzdFN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNraXBMYXN0LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfaW5uZXJTdWJzY3JpYmUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFNpbXBsZU91dGVyU3Vic2NyaWJlciwgU2ltcGxlSW5uZXJTdWJzY3JpYmVyLCBpbm5lclN1YnNjcmliZSB9IGZyb20gJy4uL2lubmVyU3Vic2NyaWJlJztcbmV4cG9ydCBmdW5jdGlvbiBza2lwVW50aWwobm90aWZpZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLmxpZnQobmV3IFNraXBVbnRpbE9wZXJhdG9yKG5vdGlmaWVyKSk7IH07XG59XG52YXIgU2tpcFVudGlsT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2tpcFVudGlsT3BlcmF0b3Iobm90aWZpZXIpIHtcbiAgICAgICAgdGhpcy5ub3RpZmllciA9IG5vdGlmaWVyO1xuICAgIH1cbiAgICBTa2lwVW50aWxPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChkZXN0aW5hdGlvbiwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBTa2lwVW50aWxTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCB0aGlzLm5vdGlmaWVyKSk7XG4gICAgfTtcbiAgICByZXR1cm4gU2tpcFVudGlsT3BlcmF0b3I7XG59KCkpO1xudmFyIFNraXBVbnRpbFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU2tpcFVudGlsU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTa2lwVW50aWxTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBub3RpZmllcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaGFzVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgdmFyIGlubmVyU3Vic2NyaWJlciA9IG5ldyBTaW1wbGVJbm5lclN1YnNjcmliZXIoX3RoaXMpO1xuICAgICAgICBfdGhpcy5hZGQoaW5uZXJTdWJzY3JpYmVyKTtcbiAgICAgICAgX3RoaXMuaW5uZXJTdWJzY3JpcHRpb24gPSBpbm5lclN1YnNjcmliZXI7XG4gICAgICAgIHZhciBpbm5lclN1YnNjcmlwdGlvbiA9IGlubmVyU3Vic2NyaWJlKG5vdGlmaWVyLCBpbm5lclN1YnNjcmliZXIpO1xuICAgICAgICBpZiAoaW5uZXJTdWJzY3JpcHRpb24gIT09IGlubmVyU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgX3RoaXMuYWRkKGlubmVyU3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgIF90aGlzLmlubmVyU3Vic2NyaXB0aW9uID0gaW5uZXJTdWJzY3JpcHRpb247XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTa2lwVW50aWxTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5oYXNWYWx1ZSkge1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5fbmV4dC5jYWxsKHRoaXMsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2tpcFVudGlsU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5oYXNWYWx1ZSA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLmlubmVyU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmlubmVyU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNraXBVbnRpbFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgIH07XG4gICAgcmV0dXJuIFNraXBVbnRpbFN1YnNjcmliZXI7XG59KFNpbXBsZU91dGVyU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2tpcFVudGlsLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIHNraXBXaGlsZShwcmVkaWNhdGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLmxpZnQobmV3IFNraXBXaGlsZU9wZXJhdG9yKHByZWRpY2F0ZSkpOyB9O1xufVxudmFyIFNraXBXaGlsZU9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNraXBXaGlsZU9wZXJhdG9yKHByZWRpY2F0ZSkge1xuICAgICAgICB0aGlzLnByZWRpY2F0ZSA9IHByZWRpY2F0ZTtcbiAgICB9XG4gICAgU2tpcFdoaWxlT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBTa2lwV2hpbGVTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMucHJlZGljYXRlKSk7XG4gICAgfTtcbiAgICByZXR1cm4gU2tpcFdoaWxlT3BlcmF0b3I7XG59KCkpO1xudmFyIFNraXBXaGlsZVN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU2tpcFdoaWxlU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTa2lwV2hpbGVTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnByZWRpY2F0ZSA9IHByZWRpY2F0ZTtcbiAgICAgICAgX3RoaXMuc2tpcHBpbmcgPSB0cnVlO1xuICAgICAgICBfdGhpcy5pbmRleCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU2tpcFdoaWxlU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gdGhpcy5kZXN0aW5hdGlvbjtcbiAgICAgICAgaWYgKHRoaXMuc2tpcHBpbmcpIHtcbiAgICAgICAgICAgIHRoaXMudHJ5Q2FsbFByZWRpY2F0ZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnNraXBwaW5nKSB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbi5uZXh0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2tpcFdoaWxlU3Vic2NyaWJlci5wcm90b3R5cGUudHJ5Q2FsbFByZWRpY2F0ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMucHJlZGljYXRlKHZhbHVlLCB0aGlzLmluZGV4KyspO1xuICAgICAgICAgICAgdGhpcy5za2lwcGluZyA9IEJvb2xlYW4ocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBTa2lwV2hpbGVTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1za2lwV2hpbGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9vYnNlcnZhYmxlX2NvbmNhdCxfdXRpbF9pc1NjaGVkdWxlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBjb25jYXQgfSBmcm9tICcuLi9vYnNlcnZhYmxlL2NvbmNhdCc7XG5pbXBvcnQgeyBpc1NjaGVkdWxlciB9IGZyb20gJy4uL3V0aWwvaXNTY2hlZHVsZXInO1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0V2l0aCgpIHtcbiAgICB2YXIgYXJyYXkgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcnJheVtfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICB2YXIgc2NoZWR1bGVyID0gYXJyYXlbYXJyYXkubGVuZ3RoIC0gMV07XG4gICAgaWYgKGlzU2NoZWR1bGVyKHNjaGVkdWxlcikpIHtcbiAgICAgICAgYXJyYXkucG9wKCk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBjb25jYXQoYXJyYXksIHNvdXJjZSwgc2NoZWR1bGVyKTsgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBjb25jYXQoYXJyYXksIHNvdXJjZSk7IH07XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RhcnRXaXRoLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfb2JzZXJ2YWJsZV9TdWJzY3JpYmVPbk9ic2VydmFibGUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgU3Vic2NyaWJlT25PYnNlcnZhYmxlIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9TdWJzY3JpYmVPbk9ic2VydmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIHN1YnNjcmliZU9uKHNjaGVkdWxlciwgZGVsYXkpIHtcbiAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICBkZWxheSA9IDA7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiBzdWJzY3JpYmVPbk9wZXJhdG9yRnVuY3Rpb24oc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2UubGlmdChuZXcgU3Vic2NyaWJlT25PcGVyYXRvcihzY2hlZHVsZXIsIGRlbGF5KSk7XG4gICAgfTtcbn1cbnZhciBTdWJzY3JpYmVPbk9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN1YnNjcmliZU9uT3BlcmF0b3Ioc2NoZWR1bGVyLCBkZWxheSkge1xuICAgICAgICB0aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICAgICAgdGhpcy5kZWxheSA9IGRlbGF5O1xuICAgIH1cbiAgICBTdWJzY3JpYmVPbk9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gbmV3IFN1YnNjcmliZU9uT2JzZXJ2YWJsZShzb3VyY2UsIHRoaXMuZGVsYXksIHRoaXMuc2NoZWR1bGVyKS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgfTtcbiAgICByZXR1cm4gU3Vic2NyaWJlT25PcGVyYXRvcjtcbn0oKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJzY3JpYmVPbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3N3aXRjaE1hcCxfdXRpbF9pZGVudGl0eSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBzd2l0Y2hNYXAgfSBmcm9tICcuL3N3aXRjaE1hcCc7XG5pbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4uL3V0aWwvaWRlbnRpdHknO1xuZXhwb3J0IGZ1bmN0aW9uIHN3aXRjaEFsbCgpIHtcbiAgICByZXR1cm4gc3dpdGNoTWFwKGlkZW50aXR5KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN3aXRjaEFsbC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX21hcCxfb2JzZXJ2YWJsZV9mcm9tLF9pbm5lclN1YnNjcmliZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi9tYXAnO1xuaW1wb3J0IHsgZnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvZnJvbSc7XG5pbXBvcnQgeyBTaW1wbGVPdXRlclN1YnNjcmliZXIsIFNpbXBsZUlubmVyU3Vic2NyaWJlciwgaW5uZXJTdWJzY3JpYmUgfSBmcm9tICcuLi9pbm5lclN1YnNjcmliZSc7XG5leHBvcnQgZnVuY3Rpb24gc3dpdGNoTWFwKHByb2plY3QsIHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgaWYgKHR5cGVvZiByZXN1bHRTZWxlY3RvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLnBpcGUoc3dpdGNoTWFwKGZ1bmN0aW9uIChhLCBpKSB7IHJldHVybiBmcm9tKHByb2plY3QoYSwgaSkpLnBpcGUobWFwKGZ1bmN0aW9uIChiLCBpaSkgeyByZXR1cm4gcmVzdWx0U2VsZWN0b3IoYSwgYiwgaSwgaWkpOyB9KSk7IH0pKTsgfTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBTd2l0Y2hNYXBPcGVyYXRvcihwcm9qZWN0KSk7IH07XG59XG52YXIgU3dpdGNoTWFwT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3dpdGNoTWFwT3BlcmF0b3IocHJvamVjdCkge1xuICAgICAgICB0aGlzLnByb2plY3QgPSBwcm9qZWN0O1xuICAgIH1cbiAgICBTd2l0Y2hNYXBPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IFN3aXRjaE1hcFN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5wcm9qZWN0KSk7XG4gICAgfTtcbiAgICByZXR1cm4gU3dpdGNoTWFwT3BlcmF0b3I7XG59KCkpO1xudmFyIFN3aXRjaE1hcFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU3dpdGNoTWFwU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTd2l0Y2hNYXBTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBwcm9qZWN0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wcm9qZWN0ID0gcHJvamVjdDtcbiAgICAgICAgX3RoaXMuaW5kZXggPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN3aXRjaE1hcFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXgrKztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucHJvamVjdCh2YWx1ZSwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faW5uZXJTdWIocmVzdWx0KTtcbiAgICB9O1xuICAgIFN3aXRjaE1hcFN1YnNjcmliZXIucHJvdG90eXBlLl9pbm5lclN1YiA9IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgdmFyIGlubmVyU3Vic2NyaXB0aW9uID0gdGhpcy5pbm5lclN1YnNjcmlwdGlvbjtcbiAgICAgICAgaWYgKGlubmVyU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICBpbm5lclN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbm5lclN1YnNjcmliZXIgPSBuZXcgU2ltcGxlSW5uZXJTdWJzY3JpYmVyKHRoaXMpO1xuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICBkZXN0aW5hdGlvbi5hZGQoaW5uZXJTdWJzY3JpYmVyKTtcbiAgICAgICAgdGhpcy5pbm5lclN1YnNjcmlwdGlvbiA9IGlubmVyU3Vic2NyaWJlKHJlc3VsdCwgaW5uZXJTdWJzY3JpYmVyKTtcbiAgICAgICAgaWYgKHRoaXMuaW5uZXJTdWJzY3JpcHRpb24gIT09IGlubmVyU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgZGVzdGluYXRpb24uYWRkKHRoaXMuaW5uZXJTdWJzY3JpcHRpb24pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTd2l0Y2hNYXBTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpbm5lclN1YnNjcmlwdGlvbiA9IHRoaXMuaW5uZXJTdWJzY3JpcHRpb247XG4gICAgICAgIGlmICghaW5uZXJTdWJzY3JpcHRpb24gfHwgaW5uZXJTdWJzY3JpcHRpb24uY2xvc2VkKSB7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLl9jb21wbGV0ZS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIFN3aXRjaE1hcFN1YnNjcmliZXIucHJvdG90eXBlLl91bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5pbm5lclN1YnNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIFN3aXRjaE1hcFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmlubmVyU3Vic2NyaXB0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUuX2NvbXBsZXRlLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN3aXRjaE1hcFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQgPSBmdW5jdGlvbiAoaW5uZXJWYWx1ZSkge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQoaW5uZXJWYWx1ZSk7XG4gICAgfTtcbiAgICByZXR1cm4gU3dpdGNoTWFwU3Vic2NyaWJlcjtcbn0oU2ltcGxlT3V0ZXJTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zd2l0Y2hNYXAuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9zd2l0Y2hNYXAgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgc3dpdGNoTWFwIH0gZnJvbSAnLi9zd2l0Y2hNYXAnO1xuZXhwb3J0IGZ1bmN0aW9uIHN3aXRjaE1hcFRvKGlubmVyT2JzZXJ2YWJsZSwgcmVzdWx0U2VsZWN0b3IpIHtcbiAgICByZXR1cm4gcmVzdWx0U2VsZWN0b3IgPyBzd2l0Y2hNYXAoZnVuY3Rpb24gKCkgeyByZXR1cm4gaW5uZXJPYnNlcnZhYmxlOyB9LCByZXN1bHRTZWxlY3RvcikgOiBzd2l0Y2hNYXAoZnVuY3Rpb24gKCkgeyByZXR1cm4gaW5uZXJPYnNlcnZhYmxlOyB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN3aXRjaE1hcFRvLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlcixfdXRpbF9Bcmd1bWVudE91dE9mUmFuZ2VFcnJvcixfb2JzZXJ2YWJsZV9lbXB0eSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgQXJndW1lbnRPdXRPZlJhbmdlRXJyb3IgfSBmcm9tICcuLi91dGlsL0FyZ3VtZW50T3V0T2ZSYW5nZUVycm9yJztcbmltcG9ydCB7IGVtcHR5IH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9lbXB0eSc7XG5leHBvcnQgZnVuY3Rpb24gdGFrZShjb3VudCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIGlmIChjb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGVtcHR5KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IFRha2VPcGVyYXRvcihjb3VudCkpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbnZhciBUYWtlT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGFrZU9wZXJhdG9yKHRvdGFsKSB7XG4gICAgICAgIHRoaXMudG90YWwgPSB0b3RhbDtcbiAgICAgICAgaWYgKHRoaXMudG90YWwgPCAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQXJndW1lbnRPdXRPZlJhbmdlRXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgVGFrZU9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgVGFrZVN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy50b3RhbCkpO1xuICAgIH07XG4gICAgcmV0dXJuIFRha2VPcGVyYXRvcjtcbn0oKSk7XG52YXIgVGFrZVN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoVGFrZVN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVGFrZVN1YnNjcmliZXIoZGVzdGluYXRpb24sIHRvdGFsKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy50b3RhbCA9IHRvdGFsO1xuICAgICAgICBfdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgVGFrZVN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciB0b3RhbCA9IHRoaXMudG90YWw7XG4gICAgICAgIHZhciBjb3VudCA9ICsrdGhpcy5jb3VudDtcbiAgICAgICAgaWYgKGNvdW50IDw9IHRvdGFsKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgaWYgKGNvdW50ID09PSB0b3RhbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBUYWtlU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGFrZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIsX3V0aWxfQXJndW1lbnRPdXRPZlJhbmdlRXJyb3IsX29ic2VydmFibGVfZW1wdHkgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yIH0gZnJvbSAnLi4vdXRpbC9Bcmd1bWVudE91dE9mUmFuZ2VFcnJvcic7XG5pbXBvcnQgeyBlbXB0eSB9IGZyb20gJy4uL29ic2VydmFibGUvZW1wdHknO1xuZXhwb3J0IGZ1bmN0aW9uIHRha2VMYXN0KGNvdW50KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHRha2VMYXN0T3BlcmF0b3JGdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgICAgaWYgKGNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZW1wdHkoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzb3VyY2UubGlmdChuZXcgVGFrZUxhc3RPcGVyYXRvcihjb3VudCkpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbnZhciBUYWtlTGFzdE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRha2VMYXN0T3BlcmF0b3IodG90YWwpIHtcbiAgICAgICAgdGhpcy50b3RhbCA9IHRvdGFsO1xuICAgICAgICBpZiAodGhpcy50b3RhbCA8IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBcmd1bWVudE91dE9mUmFuZ2VFcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBUYWtlTGFzdE9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgVGFrZUxhc3RTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMudG90YWwpKTtcbiAgICB9O1xuICAgIHJldHVybiBUYWtlTGFzdE9wZXJhdG9yO1xufSgpKTtcbnZhciBUYWtlTGFzdFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoVGFrZUxhc3RTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFRha2VMYXN0U3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgdG90YWwpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnRvdGFsID0gdG90YWw7XG4gICAgICAgIF90aGlzLnJpbmcgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgX3RoaXMuY291bnQgPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFRha2VMYXN0U3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHJpbmcgPSB0aGlzLnJpbmc7XG4gICAgICAgIHZhciB0b3RhbCA9IHRoaXMudG90YWw7XG4gICAgICAgIHZhciBjb3VudCA9IHRoaXMuY291bnQrKztcbiAgICAgICAgaWYgKHJpbmcubGVuZ3RoIDwgdG90YWwpIHtcbiAgICAgICAgICAgIHJpbmcucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBjb3VudCAlIHRvdGFsO1xuICAgICAgICAgICAgcmluZ1tpbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVGFrZUxhc3RTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIHZhciBjb3VudCA9IHRoaXMuY291bnQ7XG4gICAgICAgIGlmIChjb3VudCA+IDApIHtcbiAgICAgICAgICAgIHZhciB0b3RhbCA9IHRoaXMuY291bnQgPj0gdGhpcy50b3RhbCA/IHRoaXMudG90YWwgOiB0aGlzLmNvdW50O1xuICAgICAgICAgICAgdmFyIHJpbmcgPSB0aGlzLnJpbmc7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaWR4ID0gKGNvdW50KyspICUgdG90YWw7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb24ubmV4dChyaW5nW2lkeF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gVGFrZUxhc3RTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10YWtlTGFzdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX2lubmVyU3Vic2NyaWJlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBpbm5lclN1YnNjcmliZSwgU2ltcGxlSW5uZXJTdWJzY3JpYmVyLCBTaW1wbGVPdXRlclN1YnNjcmliZXIgfSBmcm9tICcuLi9pbm5lclN1YnNjcmliZSc7XG5leHBvcnQgZnVuY3Rpb24gdGFrZVVudGlsKG5vdGlmaWVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBUYWtlVW50aWxPcGVyYXRvcihub3RpZmllcikpOyB9O1xufVxudmFyIFRha2VVbnRpbE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRha2VVbnRpbE9wZXJhdG9yKG5vdGlmaWVyKSB7XG4gICAgICAgIHRoaXMubm90aWZpZXIgPSBub3RpZmllcjtcbiAgICB9XG4gICAgVGFrZVVudGlsT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHZhciB0YWtlVW50aWxTdWJzY3JpYmVyID0gbmV3IFRha2VVbnRpbFN1YnNjcmliZXIoc3Vic2NyaWJlcik7XG4gICAgICAgIHZhciBub3RpZmllclN1YnNjcmlwdGlvbiA9IGlubmVyU3Vic2NyaWJlKHRoaXMubm90aWZpZXIsIG5ldyBTaW1wbGVJbm5lclN1YnNjcmliZXIodGFrZVVudGlsU3Vic2NyaWJlcikpO1xuICAgICAgICBpZiAobm90aWZpZXJTdWJzY3JpcHRpb24gJiYgIXRha2VVbnRpbFN1YnNjcmliZXIuc2VlblZhbHVlKSB7XG4gICAgICAgICAgICB0YWtlVW50aWxTdWJzY3JpYmVyLmFkZChub3RpZmllclN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZSh0YWtlVW50aWxTdWJzY3JpYmVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGFrZVVudGlsU3Vic2NyaWJlcjtcbiAgICB9O1xuICAgIHJldHVybiBUYWtlVW50aWxPcGVyYXRvcjtcbn0oKSk7XG52YXIgVGFrZVVudGlsU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhUYWtlVW50aWxTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFRha2VVbnRpbFN1YnNjcmliZXIoZGVzdGluYXRpb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNlZW5WYWx1ZSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFRha2VVbnRpbFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2VlblZhbHVlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jb21wbGV0ZSgpO1xuICAgIH07XG4gICAgVGFrZVVudGlsU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5Q29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgfTtcbiAgICByZXR1cm4gVGFrZVVudGlsU3Vic2NyaWJlcjtcbn0oU2ltcGxlT3V0ZXJTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10YWtlVW50aWwuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gdGFrZVdoaWxlKHByZWRpY2F0ZSwgaW5jbHVzaXZlKSB7XG4gICAgaWYgKGluY2x1c2l2ZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGluY2x1c2l2ZSA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IFRha2VXaGlsZU9wZXJhdG9yKHByZWRpY2F0ZSwgaW5jbHVzaXZlKSk7XG4gICAgfTtcbn1cbnZhciBUYWtlV2hpbGVPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUYWtlV2hpbGVPcGVyYXRvcihwcmVkaWNhdGUsIGluY2x1c2l2ZSkge1xuICAgICAgICB0aGlzLnByZWRpY2F0ZSA9IHByZWRpY2F0ZTtcbiAgICAgICAgdGhpcy5pbmNsdXNpdmUgPSBpbmNsdXNpdmU7XG4gICAgfVxuICAgIFRha2VXaGlsZU9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgVGFrZVdoaWxlU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLnByZWRpY2F0ZSwgdGhpcy5pbmNsdXNpdmUpKTtcbiAgICB9O1xuICAgIHJldHVybiBUYWtlV2hpbGVPcGVyYXRvcjtcbn0oKSk7XG52YXIgVGFrZVdoaWxlU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhUYWtlV2hpbGVTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFRha2VXaGlsZVN1YnNjcmliZXIoZGVzdGluYXRpb24sIHByZWRpY2F0ZSwgaW5jbHVzaXZlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wcmVkaWNhdGUgPSBwcmVkaWNhdGU7XG4gICAgICAgIF90aGlzLmluY2x1c2l2ZSA9IGluY2x1c2l2ZTtcbiAgICAgICAgX3RoaXMuaW5kZXggPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFRha2VXaGlsZVN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLnByZWRpY2F0ZSh2YWx1ZSwgdGhpcy5pbmRleCsrKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmV4dE9yQ29tcGxldGUodmFsdWUsIHJlc3VsdCk7XG4gICAgfTtcbiAgICBUYWtlV2hpbGVTdWJzY3JpYmVyLnByb3RvdHlwZS5uZXh0T3JDb21wbGV0ZSA9IGZ1bmN0aW9uICh2YWx1ZSwgcHJlZGljYXRlUmVzdWx0KSB7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGlmIChCb29sZWFuKHByZWRpY2F0ZVJlc3VsdCkpIHtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuaW5jbHVzaXZlKSB7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gVGFrZVdoaWxlU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGFrZVdoaWxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlcixfdXRpbF9ub29wLF91dGlsX2lzRnVuY3Rpb24gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IG5vb3AgfSBmcm9tICcuLi91dGlsL25vb3AnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvaXNGdW5jdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gdGFwKG5leHRPck9ic2VydmVyLCBlcnJvciwgY29tcGxldGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gdGFwT3BlcmF0b3JGdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBEb09wZXJhdG9yKG5leHRPck9ic2VydmVyLCBlcnJvciwgY29tcGxldGUpKTtcbiAgICB9O1xufVxudmFyIERvT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRG9PcGVyYXRvcihuZXh0T3JPYnNlcnZlciwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHRoaXMubmV4dE9yT2JzZXJ2ZXIgPSBuZXh0T3JPYnNlcnZlcjtcbiAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yO1xuICAgICAgICB0aGlzLmNvbXBsZXRlID0gY29tcGxldGU7XG4gICAgfVxuICAgIERvT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBUYXBTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMubmV4dE9yT2JzZXJ2ZXIsIHRoaXMuZXJyb3IsIHRoaXMuY29tcGxldGUpKTtcbiAgICB9O1xuICAgIHJldHVybiBEb09wZXJhdG9yO1xufSgpKTtcbnZhciBUYXBTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFRhcFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVGFwU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgb2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX3RhcE5leHQgPSBub29wO1xuICAgICAgICBfdGhpcy5fdGFwRXJyb3IgPSBub29wO1xuICAgICAgICBfdGhpcy5fdGFwQ29tcGxldGUgPSBub29wO1xuICAgICAgICBfdGhpcy5fdGFwRXJyb3IgPSBlcnJvciB8fCBub29wO1xuICAgICAgICBfdGhpcy5fdGFwQ29tcGxldGUgPSBjb21wbGV0ZSB8fCBub29wO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihvYnNlcnZlck9yTmV4dCkpIHtcbiAgICAgICAgICAgIF90aGlzLl9jb250ZXh0ID0gX3RoaXM7XG4gICAgICAgICAgICBfdGhpcy5fdGFwTmV4dCA9IG9ic2VydmVyT3JOZXh0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9ic2VydmVyT3JOZXh0KSB7XG4gICAgICAgICAgICBfdGhpcy5fY29udGV4dCA9IG9ic2VydmVyT3JOZXh0O1xuICAgICAgICAgICAgX3RoaXMuX3RhcE5leHQgPSBvYnNlcnZlck9yTmV4dC5uZXh0IHx8IG5vb3A7XG4gICAgICAgICAgICBfdGhpcy5fdGFwRXJyb3IgPSBvYnNlcnZlck9yTmV4dC5lcnJvciB8fCBub29wO1xuICAgICAgICAgICAgX3RoaXMuX3RhcENvbXBsZXRlID0gb2JzZXJ2ZXJPck5leHQuY29tcGxldGUgfHwgbm9vcDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFRhcFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLl90YXBOZXh0LmNhbGwodGhpcy5fY29udGV4dCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICAgIH07XG4gICAgVGFwU3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5fdGFwRXJyb3IuY2FsbCh0aGlzLl9jb250ZXh0LCBlcnIpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgfTtcbiAgICBUYXBTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLl90YXBDb21wbGV0ZS5jYWxsKHRoaXMuX2NvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIFRhcFN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRhcC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX2lubmVyU3Vic2NyaWJlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTaW1wbGVPdXRlclN1YnNjcmliZXIsIGlubmVyU3Vic2NyaWJlLCBTaW1wbGVJbm5lclN1YnNjcmliZXIgfSBmcm9tICcuLi9pbm5lclN1YnNjcmliZSc7XG5leHBvcnQgdmFyIGRlZmF1bHRUaHJvdHRsZUNvbmZpZyA9IHtcbiAgICBsZWFkaW5nOiB0cnVlLFxuICAgIHRyYWlsaW5nOiBmYWxzZVxufTtcbmV4cG9ydCBmdW5jdGlvbiB0aHJvdHRsZShkdXJhdGlvblNlbGVjdG9yLCBjb25maWcpIHtcbiAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHtcbiAgICAgICAgY29uZmlnID0gZGVmYXVsdFRocm90dGxlQ29uZmlnO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLmxpZnQobmV3IFRocm90dGxlT3BlcmF0b3IoZHVyYXRpb25TZWxlY3RvciwgISFjb25maWcubGVhZGluZywgISFjb25maWcudHJhaWxpbmcpKTsgfTtcbn1cbnZhciBUaHJvdHRsZU9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRocm90dGxlT3BlcmF0b3IoZHVyYXRpb25TZWxlY3RvciwgbGVhZGluZywgdHJhaWxpbmcpIHtcbiAgICAgICAgdGhpcy5kdXJhdGlvblNlbGVjdG9yID0gZHVyYXRpb25TZWxlY3RvcjtcbiAgICAgICAgdGhpcy5sZWFkaW5nID0gbGVhZGluZztcbiAgICAgICAgdGhpcy50cmFpbGluZyA9IHRyYWlsaW5nO1xuICAgIH1cbiAgICBUaHJvdHRsZU9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgVGhyb3R0bGVTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMuZHVyYXRpb25TZWxlY3RvciwgdGhpcy5sZWFkaW5nLCB0aGlzLnRyYWlsaW5nKSk7XG4gICAgfTtcbiAgICByZXR1cm4gVGhyb3R0bGVPcGVyYXRvcjtcbn0oKSk7XG52YXIgVGhyb3R0bGVTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFRocm90dGxlU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBUaHJvdHRsZVN1YnNjcmliZXIoZGVzdGluYXRpb24sIGR1cmF0aW9uU2VsZWN0b3IsIF9sZWFkaW5nLCBfdHJhaWxpbmcpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZGVzdGluYXRpb247XG4gICAgICAgIF90aGlzLmR1cmF0aW9uU2VsZWN0b3IgPSBkdXJhdGlvblNlbGVjdG9yO1xuICAgICAgICBfdGhpcy5fbGVhZGluZyA9IF9sZWFkaW5nO1xuICAgICAgICBfdGhpcy5fdHJhaWxpbmcgPSBfdHJhaWxpbmc7XG4gICAgICAgIF90aGlzLl9oYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFRocm90dGxlU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5faGFzVmFsdWUgPSB0cnVlO1xuICAgICAgICB0aGlzLl9zZW5kVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgaWYgKCF0aGlzLl90aHJvdHRsZWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9sZWFkaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRocm90dGxlKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgVGhyb3R0bGVTdWJzY3JpYmVyLnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBfaGFzVmFsdWUgPSBfYS5faGFzVmFsdWUsIF9zZW5kVmFsdWUgPSBfYS5fc2VuZFZhbHVlO1xuICAgICAgICBpZiAoX2hhc1ZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQoX3NlbmRWYWx1ZSk7XG4gICAgICAgICAgICB0aGlzLnRocm90dGxlKF9zZW5kVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2hhc1ZhbHVlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3NlbmRWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIFRocm90dGxlU3Vic2NyaWJlci5wcm90b3R5cGUudGhyb3R0bGUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIGR1cmF0aW9uID0gdGhpcy50cnlEdXJhdGlvblNlbGVjdG9yKHZhbHVlKTtcbiAgICAgICAgaWYgKCEhZHVyYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuYWRkKHRoaXMuX3Rocm90dGxlZCA9IGlubmVyU3Vic2NyaWJlKGR1cmF0aW9uLCBuZXcgU2ltcGxlSW5uZXJTdWJzY3JpYmVyKHRoaXMpKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRocm90dGxlU3Vic2NyaWJlci5wcm90b3R5cGUudHJ5RHVyYXRpb25TZWxlY3RvciA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZHVyYXRpb25TZWxlY3Rvcih2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRocm90dGxlU3Vic2NyaWJlci5wcm90b3R5cGUudGhyb3R0bGluZ0RvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIF90aHJvdHRsZWQgPSBfYS5fdGhyb3R0bGVkLCBfdHJhaWxpbmcgPSBfYS5fdHJhaWxpbmc7XG4gICAgICAgIGlmIChfdGhyb3R0bGVkKSB7XG4gICAgICAgICAgICBfdGhyb3R0bGVkLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGhyb3R0bGVkID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoX3RyYWlsaW5nKSB7XG4gICAgICAgICAgICB0aGlzLnNlbmQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVGhyb3R0bGVTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlOZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnRocm90dGxpbmdEb25lKCk7XG4gICAgfTtcbiAgICBUaHJvdHRsZVN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnRocm90dGxpbmdEb25lKCk7XG4gICAgfTtcbiAgICByZXR1cm4gVGhyb3R0bGVTdWJzY3JpYmVyO1xufShTaW1wbGVPdXRlclN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRocm90dGxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlcixfc2NoZWR1bGVyX2FzeW5jLF90aHJvdHRsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgYXN5bmMgfSBmcm9tICcuLi9zY2hlZHVsZXIvYXN5bmMnO1xuaW1wb3J0IHsgZGVmYXVsdFRocm90dGxlQ29uZmlnIH0gZnJvbSAnLi90aHJvdHRsZSc7XG5leHBvcnQgZnVuY3Rpb24gdGhyb3R0bGVUaW1lKGR1cmF0aW9uLCBzY2hlZHVsZXIsIGNvbmZpZykge1xuICAgIGlmIChzY2hlZHVsZXIgPT09IHZvaWQgMCkge1xuICAgICAgICBzY2hlZHVsZXIgPSBhc3luYztcbiAgICB9XG4gICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGNvbmZpZyA9IGRlZmF1bHRUaHJvdHRsZUNvbmZpZztcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBUaHJvdHRsZVRpbWVPcGVyYXRvcihkdXJhdGlvbiwgc2NoZWR1bGVyLCBjb25maWcubGVhZGluZywgY29uZmlnLnRyYWlsaW5nKSk7IH07XG59XG52YXIgVGhyb3R0bGVUaW1lT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGhyb3R0bGVUaW1lT3BlcmF0b3IoZHVyYXRpb24sIHNjaGVkdWxlciwgbGVhZGluZywgdHJhaWxpbmcpIHtcbiAgICAgICAgdGhpcy5kdXJhdGlvbiA9IGR1cmF0aW9uO1xuICAgICAgICB0aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICAgICAgdGhpcy5sZWFkaW5nID0gbGVhZGluZztcbiAgICAgICAgdGhpcy50cmFpbGluZyA9IHRyYWlsaW5nO1xuICAgIH1cbiAgICBUaHJvdHRsZVRpbWVPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IFRocm90dGxlVGltZVN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5kdXJhdGlvbiwgdGhpcy5zY2hlZHVsZXIsIHRoaXMubGVhZGluZywgdGhpcy50cmFpbGluZykpO1xuICAgIH07XG4gICAgcmV0dXJuIFRocm90dGxlVGltZU9wZXJhdG9yO1xufSgpKTtcbnZhciBUaHJvdHRsZVRpbWVTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFRocm90dGxlVGltZVN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVGhyb3R0bGVUaW1lU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgZHVyYXRpb24sIHNjaGVkdWxlciwgbGVhZGluZywgdHJhaWxpbmcpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmR1cmF0aW9uID0gZHVyYXRpb247XG4gICAgICAgIF90aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICAgICAgX3RoaXMubGVhZGluZyA9IGxlYWRpbmc7XG4gICAgICAgIF90aGlzLnRyYWlsaW5nID0gdHJhaWxpbmc7XG4gICAgICAgIF90aGlzLl9oYXNUcmFpbGluZ1ZhbHVlID0gZmFsc2U7XG4gICAgICAgIF90aGlzLl90cmFpbGluZ1ZhbHVlID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBUaHJvdHRsZVRpbWVTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy50aHJvdHRsZWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYWlsaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJhaWxpbmdWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX2hhc1RyYWlsaW5nVmFsdWUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hZGQodGhpcy50aHJvdHRsZWQgPSB0aGlzLnNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaE5leHQsIHRoaXMuZHVyYXRpb24sIHsgc3Vic2NyaWJlcjogdGhpcyB9KSk7XG4gICAgICAgICAgICBpZiAodGhpcy5sZWFkaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMudHJhaWxpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmFpbGluZ1ZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5faGFzVHJhaWxpbmdWYWx1ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRocm90dGxlVGltZVN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2hhc1RyYWlsaW5nVmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh0aGlzLl90cmFpbGluZ1ZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVGhyb3R0bGVUaW1lU3Vic2NyaWJlci5wcm90b3R5cGUuY2xlYXJUaHJvdHRsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRocm90dGxlZCA9IHRoaXMudGhyb3R0bGVkO1xuICAgICAgICBpZiAodGhyb3R0bGVkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFpbGluZyAmJiB0aGlzLl9oYXNUcmFpbGluZ1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHRoaXMuX3RyYWlsaW5nVmFsdWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYWlsaW5nVmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuX2hhc1RyYWlsaW5nVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm90dGxlZC51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgdGhpcy5yZW1vdmUodGhyb3R0bGVkKTtcbiAgICAgICAgICAgIHRoaXMudGhyb3R0bGVkID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFRocm90dGxlVGltZVN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmZ1bmN0aW9uIGRpc3BhdGNoTmV4dChhcmcpIHtcbiAgICB2YXIgc3Vic2NyaWJlciA9IGFyZy5zdWJzY3JpYmVyO1xuICAgIHN1YnNjcmliZXIuY2xlYXJUaHJvdHRsZSgpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGhyb3R0bGVUaW1lLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfdXRpbF9FbXB0eUVycm9yLF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBFbXB0eUVycm9yIH0gZnJvbSAnLi4vdXRpbC9FbXB0eUVycm9yJztcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiB0aHJvd0lmRW1wdHkoZXJyb3JGYWN0b3J5KSB7XG4gICAgaWYgKGVycm9yRmFjdG9yeSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGVycm9yRmFjdG9yeSA9IGRlZmF1bHRFcnJvckZhY3Rvcnk7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2UubGlmdChuZXcgVGhyb3dJZkVtcHR5T3BlcmF0b3IoZXJyb3JGYWN0b3J5KSk7XG4gICAgfTtcbn1cbnZhciBUaHJvd0lmRW1wdHlPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUaHJvd0lmRW1wdHlPcGVyYXRvcihlcnJvckZhY3RvcnkpIHtcbiAgICAgICAgdGhpcy5lcnJvckZhY3RvcnkgPSBlcnJvckZhY3Rvcnk7XG4gICAgfVxuICAgIFRocm93SWZFbXB0eU9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgVGhyb3dJZkVtcHR5U3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLmVycm9yRmFjdG9yeSkpO1xuICAgIH07XG4gICAgcmV0dXJuIFRocm93SWZFbXB0eU9wZXJhdG9yO1xufSgpKTtcbnZhciBUaHJvd0lmRW1wdHlTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFRocm93SWZFbXB0eVN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVGhyb3dJZkVtcHR5U3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgZXJyb3JGYWN0b3J5KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5lcnJvckZhY3RvcnkgPSBlcnJvckZhY3Rvcnk7XG4gICAgICAgIF90aGlzLmhhc1ZhbHVlID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgVGhyb3dJZkVtcHR5U3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5oYXNWYWx1ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgfTtcbiAgICBUaHJvd0lmRW1wdHlTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5oYXNWYWx1ZSkge1xuICAgICAgICAgICAgdmFyIGVyciA9IHZvaWQgMDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZXJyID0gdGhpcy5lcnJvckZhY3RvcnkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgZXJyID0gZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBUaHJvd0lmRW1wdHlTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5mdW5jdGlvbiBkZWZhdWx0RXJyb3JGYWN0b3J5KCkge1xuICAgIHJldHVybiBuZXcgRW1wdHlFcnJvcigpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGhyb3dJZkVtcHR5LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfc2NoZWR1bGVyX2FzeW5jLF9zY2FuLF9vYnNlcnZhYmxlX2RlZmVyLF9tYXAgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgYXN5bmMgfSBmcm9tICcuLi9zY2hlZHVsZXIvYXN5bmMnO1xuaW1wb3J0IHsgc2NhbiB9IGZyb20gJy4vc2Nhbic7XG5pbXBvcnQgeyBkZWZlciB9IGZyb20gJy4uL29ic2VydmFibGUvZGVmZXInO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi9tYXAnO1xuZXhwb3J0IGZ1bmN0aW9uIHRpbWVJbnRlcnZhbChzY2hlZHVsZXIpIHtcbiAgICBpZiAoc2NoZWR1bGVyID09PSB2b2lkIDApIHtcbiAgICAgICAgc2NoZWR1bGVyID0gYXN5bmM7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIHJldHVybiBkZWZlcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gc291cmNlLnBpcGUoc2NhbihmdW5jdGlvbiAoX2EsIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSBfYS5jdXJyZW50O1xuICAgICAgICAgICAgICAgIHJldHVybiAoeyB2YWx1ZTogdmFsdWUsIGN1cnJlbnQ6IHNjaGVkdWxlci5ub3coKSwgbGFzdDogY3VycmVudCB9KTtcbiAgICAgICAgICAgIH0sIHsgY3VycmVudDogc2NoZWR1bGVyLm5vdygpLCB2YWx1ZTogdW5kZWZpbmVkLCBsYXN0OiB1bmRlZmluZWQgfSksIG1hcChmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudCA9IF9hLmN1cnJlbnQsIGxhc3QgPSBfYS5sYXN0LCB2YWx1ZSA9IF9hLnZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVGltZUludGVydmFsKHZhbHVlLCBjdXJyZW50IC0gbGFzdCk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pO1xuICAgIH07XG59XG52YXIgVGltZUludGVydmFsID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRpbWVJbnRlcnZhbCh2YWx1ZSwgaW50ZXJ2YWwpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmludGVydmFsID0gaW50ZXJ2YWw7XG4gICAgfVxuICAgIHJldHVybiBUaW1lSW50ZXJ2YWw7XG59KCkpO1xuZXhwb3J0IHsgVGltZUludGVydmFsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aW1lSW50ZXJ2YWwuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9zY2hlZHVsZXJfYXN5bmMsX3V0aWxfVGltZW91dEVycm9yLF90aW1lb3V0V2l0aCxfb2JzZXJ2YWJsZV90aHJvd0Vycm9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGFzeW5jIH0gZnJvbSAnLi4vc2NoZWR1bGVyL2FzeW5jJztcbmltcG9ydCB7IFRpbWVvdXRFcnJvciB9IGZyb20gJy4uL3V0aWwvVGltZW91dEVycm9yJztcbmltcG9ydCB7IHRpbWVvdXRXaXRoIH0gZnJvbSAnLi90aW1lb3V0V2l0aCc7XG5pbXBvcnQgeyB0aHJvd0Vycm9yIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS90aHJvd0Vycm9yJztcbmV4cG9ydCBmdW5jdGlvbiB0aW1lb3V0KGR1ZSwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKHNjaGVkdWxlciA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHNjaGVkdWxlciA9IGFzeW5jO1xuICAgIH1cbiAgICByZXR1cm4gdGltZW91dFdpdGgoZHVlLCB0aHJvd0Vycm9yKG5ldyBUaW1lb3V0RXJyb3IoKSksIHNjaGVkdWxlcik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aW1lb3V0LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfc2NoZWR1bGVyX2FzeW5jLF91dGlsX2lzRGF0ZSxfaW5uZXJTdWJzY3JpYmUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGFzeW5jIH0gZnJvbSAnLi4vc2NoZWR1bGVyL2FzeW5jJztcbmltcG9ydCB7IGlzRGF0ZSB9IGZyb20gJy4uL3V0aWwvaXNEYXRlJztcbmltcG9ydCB7IFNpbXBsZU91dGVyU3Vic2NyaWJlciwgaW5uZXJTdWJzY3JpYmUsIFNpbXBsZUlubmVyU3Vic2NyaWJlciB9IGZyb20gJy4uL2lubmVyU3Vic2NyaWJlJztcbmV4cG9ydCBmdW5jdGlvbiB0aW1lb3V0V2l0aChkdWUsIHdpdGhPYnNlcnZhYmxlLCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoc2NoZWR1bGVyID09PSB2b2lkIDApIHtcbiAgICAgICAgc2NoZWR1bGVyID0gYXN5bmM7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIHZhciBhYnNvbHV0ZVRpbWVvdXQgPSBpc0RhdGUoZHVlKTtcbiAgICAgICAgdmFyIHdhaXRGb3IgPSBhYnNvbHV0ZVRpbWVvdXQgPyAoK2R1ZSAtIHNjaGVkdWxlci5ub3coKSkgOiBNYXRoLmFicyhkdWUpO1xuICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IFRpbWVvdXRXaXRoT3BlcmF0b3Iod2FpdEZvciwgYWJzb2x1dGVUaW1lb3V0LCB3aXRoT2JzZXJ2YWJsZSwgc2NoZWR1bGVyKSk7XG4gICAgfTtcbn1cbnZhciBUaW1lb3V0V2l0aE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRpbWVvdXRXaXRoT3BlcmF0b3Iod2FpdEZvciwgYWJzb2x1dGVUaW1lb3V0LCB3aXRoT2JzZXJ2YWJsZSwgc2NoZWR1bGVyKSB7XG4gICAgICAgIHRoaXMud2FpdEZvciA9IHdhaXRGb3I7XG4gICAgICAgIHRoaXMuYWJzb2x1dGVUaW1lb3V0ID0gYWJzb2x1dGVUaW1lb3V0O1xuICAgICAgICB0aGlzLndpdGhPYnNlcnZhYmxlID0gd2l0aE9ic2VydmFibGU7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVyID0gc2NoZWR1bGVyO1xuICAgIH1cbiAgICBUaW1lb3V0V2l0aE9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgVGltZW91dFdpdGhTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMuYWJzb2x1dGVUaW1lb3V0LCB0aGlzLndhaXRGb3IsIHRoaXMud2l0aE9ic2VydmFibGUsIHRoaXMuc2NoZWR1bGVyKSk7XG4gICAgfTtcbiAgICByZXR1cm4gVGltZW91dFdpdGhPcGVyYXRvcjtcbn0oKSk7XG52YXIgVGltZW91dFdpdGhTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFRpbWVvdXRXaXRoU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBUaW1lb3V0V2l0aFN1YnNjcmliZXIoZGVzdGluYXRpb24sIGFic29sdXRlVGltZW91dCwgd2FpdEZvciwgd2l0aE9ic2VydmFibGUsIHNjaGVkdWxlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYWJzb2x1dGVUaW1lb3V0ID0gYWJzb2x1dGVUaW1lb3V0O1xuICAgICAgICBfdGhpcy53YWl0Rm9yID0gd2FpdEZvcjtcbiAgICAgICAgX3RoaXMud2l0aE9ic2VydmFibGUgPSB3aXRoT2JzZXJ2YWJsZTtcbiAgICAgICAgX3RoaXMuc2NoZWR1bGVyID0gc2NoZWR1bGVyO1xuICAgICAgICBfdGhpcy5zY2hlZHVsZVRpbWVvdXQoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBUaW1lb3V0V2l0aFN1YnNjcmliZXIuZGlzcGF0Y2hUaW1lb3V0ID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHdpdGhPYnNlcnZhYmxlID0gc3Vic2NyaWJlci53aXRoT2JzZXJ2YWJsZTtcbiAgICAgICAgc3Vic2NyaWJlci5fdW5zdWJzY3JpYmVBbmRSZWN5Y2xlKCk7XG4gICAgICAgIHN1YnNjcmliZXIuYWRkKGlubmVyU3Vic2NyaWJlKHdpdGhPYnNlcnZhYmxlLCBuZXcgU2ltcGxlSW5uZXJTdWJzY3JpYmVyKHN1YnNjcmliZXIpKSk7XG4gICAgfTtcbiAgICBUaW1lb3V0V2l0aFN1YnNjcmliZXIucHJvdG90eXBlLnNjaGVkdWxlVGltZW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFjdGlvbiA9IHRoaXMuYWN0aW9uO1xuICAgICAgICBpZiAoYWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmFjdGlvbiA9IGFjdGlvbi5zY2hlZHVsZSh0aGlzLCB0aGlzLndhaXRGb3IpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hZGQodGhpcy5hY3Rpb24gPSB0aGlzLnNjaGVkdWxlci5zY2hlZHVsZShUaW1lb3V0V2l0aFN1YnNjcmliZXIuZGlzcGF0Y2hUaW1lb3V0LCB0aGlzLndhaXRGb3IsIHRoaXMpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVGltZW91dFdpdGhTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXMuYWJzb2x1dGVUaW1lb3V0KSB7XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlVGltZW91dCgpO1xuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuX25leHQuY2FsbCh0aGlzLCB2YWx1ZSk7XG4gICAgfTtcbiAgICBUaW1lb3V0V2l0aFN1YnNjcmliZXIucHJvdG90eXBlLl91bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5hY3Rpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy53aXRoT2JzZXJ2YWJsZSA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gVGltZW91dFdpdGhTdWJzY3JpYmVyO1xufShTaW1wbGVPdXRlclN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRpbWVvdXRXaXRoLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfc2NoZWR1bGVyX2FzeW5jLF9tYXAgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgYXN5bmMgfSBmcm9tICcuLi9zY2hlZHVsZXIvYXN5bmMnO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi9tYXAnO1xuZXhwb3J0IGZ1bmN0aW9uIHRpbWVzdGFtcChzY2hlZHVsZXIpIHtcbiAgICBpZiAoc2NoZWR1bGVyID09PSB2b2lkIDApIHtcbiAgICAgICAgc2NoZWR1bGVyID0gYXN5bmM7XG4gICAgfVxuICAgIHJldHVybiBtYXAoZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBuZXcgVGltZXN0YW1wKHZhbHVlLCBzY2hlZHVsZXIubm93KCkpOyB9KTtcbn1cbnZhciBUaW1lc3RhbXAgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGltZXN0YW1wKHZhbHVlLCB0aW1lc3RhbXApIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLnRpbWVzdGFtcCA9IHRpbWVzdGFtcDtcbiAgICB9XG4gICAgcmV0dXJuIFRpbWVzdGFtcDtcbn0oKSk7XG5leHBvcnQgeyBUaW1lc3RhbXAgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRpbWVzdGFtcC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3JlZHVjZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyByZWR1Y2UgfSBmcm9tICcuL3JlZHVjZSc7XG5mdW5jdGlvbiB0b0FycmF5UmVkdWNlcihhcnIsIGl0ZW0sIGluZGV4KSB7XG4gICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgIHJldHVybiBbaXRlbV07XG4gICAgfVxuICAgIGFyci5wdXNoKGl0ZW0pO1xuICAgIHJldHVybiBhcnI7XG59XG5leHBvcnQgZnVuY3Rpb24gdG9BcnJheSgpIHtcbiAgICByZXR1cm4gcmVkdWNlKHRvQXJyYXlSZWR1Y2VyLCBbXSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b0FycmF5LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3ViamVjdCxfaW5uZXJTdWJzY3JpYmUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICcuLi9TdWJqZWN0JztcbmltcG9ydCB7IFNpbXBsZU91dGVyU3Vic2NyaWJlciwgaW5uZXJTdWJzY3JpYmUsIFNpbXBsZUlubmVyU3Vic2NyaWJlciB9IGZyb20gJy4uL2lubmVyU3Vic2NyaWJlJztcbmV4cG9ydCBmdW5jdGlvbiB3aW5kb3cod2luZG93Qm91bmRhcmllcykge1xuICAgIHJldHVybiBmdW5jdGlvbiB3aW5kb3dPcGVyYXRvckZ1bmN0aW9uKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IFdpbmRvd09wZXJhdG9yKHdpbmRvd0JvdW5kYXJpZXMpKTtcbiAgICB9O1xufVxudmFyIFdpbmRvd09wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFdpbmRvd09wZXJhdG9yKHdpbmRvd0JvdW5kYXJpZXMpIHtcbiAgICAgICAgdGhpcy53aW5kb3dCb3VuZGFyaWVzID0gd2luZG93Qm91bmRhcmllcztcbiAgICB9XG4gICAgV2luZG93T3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHZhciB3aW5kb3dTdWJzY3JpYmVyID0gbmV3IFdpbmRvd1N1YnNjcmliZXIoc3Vic2NyaWJlcik7XG4gICAgICAgIHZhciBzb3VyY2VTdWJzY3JpcHRpb24gPSBzb3VyY2Uuc3Vic2NyaWJlKHdpbmRvd1N1YnNjcmliZXIpO1xuICAgICAgICBpZiAoIXNvdXJjZVN1YnNjcmlwdGlvbi5jbG9zZWQpIHtcbiAgICAgICAgICAgIHdpbmRvd1N1YnNjcmliZXIuYWRkKGlubmVyU3Vic2NyaWJlKHRoaXMud2luZG93Qm91bmRhcmllcywgbmV3IFNpbXBsZUlubmVyU3Vic2NyaWJlcih3aW5kb3dTdWJzY3JpYmVyKSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzb3VyY2VTdWJzY3JpcHRpb247XG4gICAgfTtcbiAgICByZXR1cm4gV2luZG93T3BlcmF0b3I7XG59KCkpO1xudmFyIFdpbmRvd1N1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoV2luZG93U3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBXaW5kb3dTdWJzY3JpYmVyKGRlc3RpbmF0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy53aW5kb3cgPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICBkZXN0aW5hdGlvbi5uZXh0KF90aGlzLndpbmRvdyk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgV2luZG93U3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5vcGVuV2luZG93KCk7XG4gICAgfTtcbiAgICBXaW5kb3dTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlFcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICB0aGlzLl9lcnJvcihlcnJvcik7XG4gICAgfTtcbiAgICBXaW5kb3dTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fY29tcGxldGUoKTtcbiAgICB9O1xuICAgIFdpbmRvd1N1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMud2luZG93Lm5leHQodmFsdWUpO1xuICAgIH07XG4gICAgV2luZG93U3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB0aGlzLndpbmRvdy5lcnJvcihlcnIpO1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgfTtcbiAgICBXaW5kb3dTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMud2luZG93LmNvbXBsZXRlKCk7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICB9O1xuICAgIFdpbmRvd1N1YnNjcmliZXIucHJvdG90eXBlLl91bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy53aW5kb3cgPSBudWxsO1xuICAgIH07XG4gICAgV2luZG93U3Vic2NyaWJlci5wcm90b3R5cGUub3BlbldpbmRvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHByZXZXaW5kb3cgPSB0aGlzLndpbmRvdztcbiAgICAgICAgaWYgKHByZXZXaW5kb3cpIHtcbiAgICAgICAgICAgIHByZXZXaW5kb3cuY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICB2YXIgbmV3V2luZG93ID0gdGhpcy53aW5kb3cgPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICBkZXN0aW5hdGlvbi5uZXh0KG5ld1dpbmRvdyk7XG4gICAgfTtcbiAgICByZXR1cm4gV2luZG93U3Vic2NyaWJlcjtcbn0oU2ltcGxlT3V0ZXJTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD13aW5kb3cuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyLF9TdWJqZWN0IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAnLi4vU3ViamVjdCc7XG5leHBvcnQgZnVuY3Rpb24gd2luZG93Q291bnQod2luZG93U2l6ZSwgc3RhcnRXaW5kb3dFdmVyeSkge1xuICAgIGlmIChzdGFydFdpbmRvd0V2ZXJ5ID09PSB2b2lkIDApIHtcbiAgICAgICAgc3RhcnRXaW5kb3dFdmVyeSA9IDA7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiB3aW5kb3dDb3VudE9wZXJhdG9yRnVuY3Rpb24oc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2UubGlmdChuZXcgV2luZG93Q291bnRPcGVyYXRvcih3aW5kb3dTaXplLCBzdGFydFdpbmRvd0V2ZXJ5KSk7XG4gICAgfTtcbn1cbnZhciBXaW5kb3dDb3VudE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFdpbmRvd0NvdW50T3BlcmF0b3Iod2luZG93U2l6ZSwgc3RhcnRXaW5kb3dFdmVyeSkge1xuICAgICAgICB0aGlzLndpbmRvd1NpemUgPSB3aW5kb3dTaXplO1xuICAgICAgICB0aGlzLnN0YXJ0V2luZG93RXZlcnkgPSBzdGFydFdpbmRvd0V2ZXJ5O1xuICAgIH1cbiAgICBXaW5kb3dDb3VudE9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgV2luZG93Q291bnRTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMud2luZG93U2l6ZSwgdGhpcy5zdGFydFdpbmRvd0V2ZXJ5KSk7XG4gICAgfTtcbiAgICByZXR1cm4gV2luZG93Q291bnRPcGVyYXRvcjtcbn0oKSk7XG52YXIgV2luZG93Q291bnRTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFdpbmRvd0NvdW50U3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBXaW5kb3dDb3VudFN1YnNjcmliZXIoZGVzdGluYXRpb24sIHdpbmRvd1NpemUsIHN0YXJ0V2luZG93RXZlcnkpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZGVzdGluYXRpb247XG4gICAgICAgIF90aGlzLndpbmRvd1NpemUgPSB3aW5kb3dTaXplO1xuICAgICAgICBfdGhpcy5zdGFydFdpbmRvd0V2ZXJ5ID0gc3RhcnRXaW5kb3dFdmVyeTtcbiAgICAgICAgX3RoaXMud2luZG93cyA9IFtuZXcgU3ViamVjdCgpXTtcbiAgICAgICAgX3RoaXMuY291bnQgPSAwO1xuICAgICAgICBkZXN0aW5hdGlvbi5uZXh0KF90aGlzLndpbmRvd3NbMF0pO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFdpbmRvd0NvdW50U3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHN0YXJ0V2luZG93RXZlcnkgPSAodGhpcy5zdGFydFdpbmRvd0V2ZXJ5ID4gMCkgPyB0aGlzLnN0YXJ0V2luZG93RXZlcnkgOiB0aGlzLndpbmRvd1NpemU7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIHZhciB3aW5kb3dTaXplID0gdGhpcy53aW5kb3dTaXplO1xuICAgICAgICB2YXIgd2luZG93cyA9IHRoaXMud2luZG93cztcbiAgICAgICAgdmFyIGxlbiA9IHdpbmRvd3MubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbiAmJiAhdGhpcy5jbG9zZWQ7IGkrKykge1xuICAgICAgICAgICAgd2luZG93c1tpXS5uZXh0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYyA9IHRoaXMuY291bnQgLSB3aW5kb3dTaXplICsgMTtcbiAgICAgICAgaWYgKGMgPj0gMCAmJiBjICUgc3RhcnRXaW5kb3dFdmVyeSA9PT0gMCAmJiAhdGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHdpbmRvd3Muc2hpZnQoKS5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgrK3RoaXMuY291bnQgJSBzdGFydFdpbmRvd0V2ZXJ5ID09PSAwICYmICF0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdmFyIHdpbmRvd18xID0gbmV3IFN1YmplY3QoKTtcbiAgICAgICAgICAgIHdpbmRvd3MucHVzaCh3aW5kb3dfMSk7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbi5uZXh0KHdpbmRvd18xKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgV2luZG93Q291bnRTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHZhciB3aW5kb3dzID0gdGhpcy53aW5kb3dzO1xuICAgICAgICBpZiAod2luZG93cykge1xuICAgICAgICAgICAgd2hpbGUgKHdpbmRvd3MubGVuZ3RoID4gMCAmJiAhdGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3dzLnNoaWZ0KCkuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgfTtcbiAgICBXaW5kb3dDb3VudFN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHdpbmRvd3MgPSB0aGlzLndpbmRvd3M7XG4gICAgICAgIGlmICh3aW5kb3dzKSB7XG4gICAgICAgICAgICB3aGlsZSAod2luZG93cy5sZW5ndGggPiAwICYmICF0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIHdpbmRvd3Muc2hpZnQoKS5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICB9O1xuICAgIFdpbmRvd0NvdW50U3Vic2NyaWJlci5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICAgICAgdGhpcy53aW5kb3dzID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBXaW5kb3dDb3VudFN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdpbmRvd0NvdW50LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3ViamVjdCxfc2NoZWR1bGVyX2FzeW5jLF9TdWJzY3JpYmVyLF91dGlsX2lzTnVtZXJpYyxfdXRpbF9pc1NjaGVkdWxlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJy4uL1N1YmplY3QnO1xuaW1wb3J0IHsgYXN5bmMgfSBmcm9tICcuLi9zY2hlZHVsZXIvYXN5bmMnO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgaXNOdW1lcmljIH0gZnJvbSAnLi4vdXRpbC9pc051bWVyaWMnO1xuaW1wb3J0IHsgaXNTY2hlZHVsZXIgfSBmcm9tICcuLi91dGlsL2lzU2NoZWR1bGVyJztcbmV4cG9ydCBmdW5jdGlvbiB3aW5kb3dUaW1lKHdpbmRvd1RpbWVTcGFuKSB7XG4gICAgdmFyIHNjaGVkdWxlciA9IGFzeW5jO1xuICAgIHZhciB3aW5kb3dDcmVhdGlvbkludGVydmFsID0gbnVsbDtcbiAgICB2YXIgbWF4V2luZG93U2l6ZSA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICBpZiAoaXNTY2hlZHVsZXIoYXJndW1lbnRzWzNdKSkge1xuICAgICAgICBzY2hlZHVsZXIgPSBhcmd1bWVudHNbM107XG4gICAgfVxuICAgIGlmIChpc1NjaGVkdWxlcihhcmd1bWVudHNbMl0pKSB7XG4gICAgICAgIHNjaGVkdWxlciA9IGFyZ3VtZW50c1syXTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNOdW1lcmljKGFyZ3VtZW50c1syXSkpIHtcbiAgICAgICAgbWF4V2luZG93U2l6ZSA9IE51bWJlcihhcmd1bWVudHNbMl0pO1xuICAgIH1cbiAgICBpZiAoaXNTY2hlZHVsZXIoYXJndW1lbnRzWzFdKSkge1xuICAgICAgICBzY2hlZHVsZXIgPSBhcmd1bWVudHNbMV07XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzTnVtZXJpYyhhcmd1bWVudHNbMV0pKSB7XG4gICAgICAgIHdpbmRvd0NyZWF0aW9uSW50ZXJ2YWwgPSBOdW1iZXIoYXJndW1lbnRzWzFdKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHdpbmRvd1RpbWVPcGVyYXRvckZ1bmN0aW9uKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IFdpbmRvd1RpbWVPcGVyYXRvcih3aW5kb3dUaW1lU3Bhbiwgd2luZG93Q3JlYXRpb25JbnRlcnZhbCwgbWF4V2luZG93U2l6ZSwgc2NoZWR1bGVyKSk7XG4gICAgfTtcbn1cbnZhciBXaW5kb3dUaW1lT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gV2luZG93VGltZU9wZXJhdG9yKHdpbmRvd1RpbWVTcGFuLCB3aW5kb3dDcmVhdGlvbkludGVydmFsLCBtYXhXaW5kb3dTaXplLCBzY2hlZHVsZXIpIHtcbiAgICAgICAgdGhpcy53aW5kb3dUaW1lU3BhbiA9IHdpbmRvd1RpbWVTcGFuO1xuICAgICAgICB0aGlzLndpbmRvd0NyZWF0aW9uSW50ZXJ2YWwgPSB3aW5kb3dDcmVhdGlvbkludGVydmFsO1xuICAgICAgICB0aGlzLm1heFdpbmRvd1NpemUgPSBtYXhXaW5kb3dTaXplO1xuICAgICAgICB0aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICB9XG4gICAgV2luZG93VGltZU9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgV2luZG93VGltZVN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy53aW5kb3dUaW1lU3BhbiwgdGhpcy53aW5kb3dDcmVhdGlvbkludGVydmFsLCB0aGlzLm1heFdpbmRvd1NpemUsIHRoaXMuc2NoZWR1bGVyKSk7XG4gICAgfTtcbiAgICByZXR1cm4gV2luZG93VGltZU9wZXJhdG9yO1xufSgpKTtcbnZhciBDb3VudGVkU3ViamVjdCA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhDb3VudGVkU3ViamVjdCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDb3VudGVkU3ViamVjdCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9udW1iZXJPZk5leHRlZFZhbHVlcyA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQ291bnRlZFN1YmplY3QucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fbnVtYmVyT2ZOZXh0ZWRWYWx1ZXMrKztcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5uZXh0LmNhbGwodGhpcywgdmFsdWUpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvdW50ZWRTdWJqZWN0LnByb3RvdHlwZSwgXCJudW1iZXJPZk5leHRlZFZhbHVlc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX251bWJlck9mTmV4dGVkVmFsdWVzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gQ291bnRlZFN1YmplY3Q7XG59KFN1YmplY3QpKTtcbnZhciBXaW5kb3dUaW1lU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhXaW5kb3dUaW1lU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBXaW5kb3dUaW1lU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgd2luZG93VGltZVNwYW4sIHdpbmRvd0NyZWF0aW9uSW50ZXJ2YWwsIG1heFdpbmRvd1NpemUsIHNjaGVkdWxlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBkZXN0aW5hdGlvbjtcbiAgICAgICAgX3RoaXMud2luZG93VGltZVNwYW4gPSB3aW5kb3dUaW1lU3BhbjtcbiAgICAgICAgX3RoaXMud2luZG93Q3JlYXRpb25JbnRlcnZhbCA9IHdpbmRvd0NyZWF0aW9uSW50ZXJ2YWw7XG4gICAgICAgIF90aGlzLm1heFdpbmRvd1NpemUgPSBtYXhXaW5kb3dTaXplO1xuICAgICAgICBfdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgICAgIF90aGlzLndpbmRvd3MgPSBbXTtcbiAgICAgICAgdmFyIHdpbmRvdyA9IF90aGlzLm9wZW5XaW5kb3coKTtcbiAgICAgICAgaWYgKHdpbmRvd0NyZWF0aW9uSW50ZXJ2YWwgIT09IG51bGwgJiYgd2luZG93Q3JlYXRpb25JbnRlcnZhbCA+PSAwKSB7XG4gICAgICAgICAgICB2YXIgY2xvc2VTdGF0ZSA9IHsgc3Vic2NyaWJlcjogX3RoaXMsIHdpbmRvdzogd2luZG93LCBjb250ZXh0OiBudWxsIH07XG4gICAgICAgICAgICB2YXIgY3JlYXRpb25TdGF0ZSA9IHsgd2luZG93VGltZVNwYW46IHdpbmRvd1RpbWVTcGFuLCB3aW5kb3dDcmVhdGlvbkludGVydmFsOiB3aW5kb3dDcmVhdGlvbkludGVydmFsLCBzdWJzY3JpYmVyOiBfdGhpcywgc2NoZWR1bGVyOiBzY2hlZHVsZXIgfTtcbiAgICAgICAgICAgIF90aGlzLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZGlzcGF0Y2hXaW5kb3dDbG9zZSwgd2luZG93VGltZVNwYW4sIGNsb3NlU3RhdGUpKTtcbiAgICAgICAgICAgIF90aGlzLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZGlzcGF0Y2hXaW5kb3dDcmVhdGlvbiwgd2luZG93Q3JlYXRpb25JbnRlcnZhbCwgY3JlYXRpb25TdGF0ZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHRpbWVTcGFuT25seVN0YXRlID0geyBzdWJzY3JpYmVyOiBfdGhpcywgd2luZG93OiB3aW5kb3csIHdpbmRvd1RpbWVTcGFuOiB3aW5kb3dUaW1lU3BhbiB9O1xuICAgICAgICAgICAgX3RoaXMuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaFdpbmRvd1RpbWVTcGFuT25seSwgd2luZG93VGltZVNwYW4sIHRpbWVTcGFuT25seVN0YXRlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBXaW5kb3dUaW1lU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHdpbmRvd3MgPSB0aGlzLndpbmRvd3M7XG4gICAgICAgIHZhciBsZW4gPSB3aW5kb3dzLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIHdpbmRvd18xID0gd2luZG93c1tpXTtcbiAgICAgICAgICAgIGlmICghd2luZG93XzEuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgd2luZG93XzEubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvd18xLm51bWJlck9mTmV4dGVkVmFsdWVzID49IHRoaXMubWF4V2luZG93U2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlV2luZG93KHdpbmRvd18xKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFdpbmRvd1RpbWVTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHZhciB3aW5kb3dzID0gdGhpcy53aW5kb3dzO1xuICAgICAgICB3aGlsZSAod2luZG93cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB3aW5kb3dzLnNoaWZ0KCkuZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgfTtcbiAgICBXaW5kb3dUaW1lU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgd2luZG93cyA9IHRoaXMud2luZG93cztcbiAgICAgICAgd2hpbGUgKHdpbmRvd3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIHdpbmRvd18yID0gd2luZG93cy5zaGlmdCgpO1xuICAgICAgICAgICAgaWYgKCF3aW5kb3dfMi5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3dfMi5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICB9O1xuICAgIFdpbmRvd1RpbWVTdWJzY3JpYmVyLnByb3RvdHlwZS5vcGVuV2luZG93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgd2luZG93ID0gbmV3IENvdW50ZWRTdWJqZWN0KCk7XG4gICAgICAgIHRoaXMud2luZG93cy5wdXNoKHdpbmRvdyk7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGRlc3RpbmF0aW9uLm5leHQod2luZG93KTtcbiAgICAgICAgcmV0dXJuIHdpbmRvdztcbiAgICB9O1xuICAgIFdpbmRvd1RpbWVTdWJzY3JpYmVyLnByb3RvdHlwZS5jbG9zZVdpbmRvdyA9IGZ1bmN0aW9uICh3aW5kb3cpIHtcbiAgICAgICAgd2luZG93LmNvbXBsZXRlKCk7XG4gICAgICAgIHZhciB3aW5kb3dzID0gdGhpcy53aW5kb3dzO1xuICAgICAgICB3aW5kb3dzLnNwbGljZSh3aW5kb3dzLmluZGV4T2Yod2luZG93KSwgMSk7XG4gICAgfTtcbiAgICByZXR1cm4gV2luZG93VGltZVN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmZ1bmN0aW9uIGRpc3BhdGNoV2luZG93VGltZVNwYW5Pbmx5KHN0YXRlKSB7XG4gICAgdmFyIHN1YnNjcmliZXIgPSBzdGF0ZS5zdWJzY3JpYmVyLCB3aW5kb3dUaW1lU3BhbiA9IHN0YXRlLndpbmRvd1RpbWVTcGFuLCB3aW5kb3cgPSBzdGF0ZS53aW5kb3c7XG4gICAgaWYgKHdpbmRvdykge1xuICAgICAgICBzdWJzY3JpYmVyLmNsb3NlV2luZG93KHdpbmRvdyk7XG4gICAgfVxuICAgIHN0YXRlLndpbmRvdyA9IHN1YnNjcmliZXIub3BlbldpbmRvdygpO1xuICAgIHRoaXMuc2NoZWR1bGUoc3RhdGUsIHdpbmRvd1RpbWVTcGFuKTtcbn1cbmZ1bmN0aW9uIGRpc3BhdGNoV2luZG93Q3JlYXRpb24oc3RhdGUpIHtcbiAgICB2YXIgd2luZG93VGltZVNwYW4gPSBzdGF0ZS53aW5kb3dUaW1lU3Bhbiwgc3Vic2NyaWJlciA9IHN0YXRlLnN1YnNjcmliZXIsIHNjaGVkdWxlciA9IHN0YXRlLnNjaGVkdWxlciwgd2luZG93Q3JlYXRpb25JbnRlcnZhbCA9IHN0YXRlLndpbmRvd0NyZWF0aW9uSW50ZXJ2YWw7XG4gICAgdmFyIHdpbmRvdyA9IHN1YnNjcmliZXIub3BlbldpbmRvdygpO1xuICAgIHZhciBhY3Rpb24gPSB0aGlzO1xuICAgIHZhciBjb250ZXh0ID0geyBhY3Rpb246IGFjdGlvbiwgc3Vic2NyaXB0aW9uOiBudWxsIH07XG4gICAgdmFyIHRpbWVTcGFuU3RhdGUgPSB7IHN1YnNjcmliZXI6IHN1YnNjcmliZXIsIHdpbmRvdzogd2luZG93LCBjb250ZXh0OiBjb250ZXh0IH07XG4gICAgY29udGV4dC5zdWJzY3JpcHRpb24gPSBzY2hlZHVsZXIuc2NoZWR1bGUoZGlzcGF0Y2hXaW5kb3dDbG9zZSwgd2luZG93VGltZVNwYW4sIHRpbWVTcGFuU3RhdGUpO1xuICAgIGFjdGlvbi5hZGQoY29udGV4dC5zdWJzY3JpcHRpb24pO1xuICAgIGFjdGlvbi5zY2hlZHVsZShzdGF0ZSwgd2luZG93Q3JlYXRpb25JbnRlcnZhbCk7XG59XG5mdW5jdGlvbiBkaXNwYXRjaFdpbmRvd0Nsb3NlKHN0YXRlKSB7XG4gICAgdmFyIHN1YnNjcmliZXIgPSBzdGF0ZS5zdWJzY3JpYmVyLCB3aW5kb3cgPSBzdGF0ZS53aW5kb3csIGNvbnRleHQgPSBzdGF0ZS5jb250ZXh0O1xuICAgIGlmIChjb250ZXh0ICYmIGNvbnRleHQuYWN0aW9uICYmIGNvbnRleHQuc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIGNvbnRleHQuYWN0aW9uLnJlbW92ZShjb250ZXh0LnN1YnNjcmlwdGlvbik7XG4gICAgfVxuICAgIHN1YnNjcmliZXIuY2xvc2VXaW5kb3cod2luZG93KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdpbmRvd1RpbWUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJqZWN0LF9TdWJzY3JpcHRpb24sX091dGVyU3Vic2NyaWJlcixfdXRpbF9zdWJzY3JpYmVUb1Jlc3VsdCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJy4uL1N1YmplY3QnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IE91dGVyU3Vic2NyaWJlciB9IGZyb20gJy4uL091dGVyU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb1Jlc3VsdCB9IGZyb20gJy4uL3V0aWwvc3Vic2NyaWJlVG9SZXN1bHQnO1xuZXhwb3J0IGZ1bmN0aW9uIHdpbmRvd1RvZ2dsZShvcGVuaW5ncywgY2xvc2luZ1NlbGVjdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBXaW5kb3dUb2dnbGVPcGVyYXRvcihvcGVuaW5ncywgY2xvc2luZ1NlbGVjdG9yKSk7IH07XG59XG52YXIgV2luZG93VG9nZ2xlT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gV2luZG93VG9nZ2xlT3BlcmF0b3Iob3BlbmluZ3MsIGNsb3NpbmdTZWxlY3Rvcikge1xuICAgICAgICB0aGlzLm9wZW5pbmdzID0gb3BlbmluZ3M7XG4gICAgICAgIHRoaXMuY2xvc2luZ1NlbGVjdG9yID0gY2xvc2luZ1NlbGVjdG9yO1xuICAgIH1cbiAgICBXaW5kb3dUb2dnbGVPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IFdpbmRvd1RvZ2dsZVN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5vcGVuaW5ncywgdGhpcy5jbG9zaW5nU2VsZWN0b3IpKTtcbiAgICB9O1xuICAgIHJldHVybiBXaW5kb3dUb2dnbGVPcGVyYXRvcjtcbn0oKSk7XG52YXIgV2luZG93VG9nZ2xlU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhXaW5kb3dUb2dnbGVTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFdpbmRvd1RvZ2dsZVN1YnNjcmliZXIoZGVzdGluYXRpb24sIG9wZW5pbmdzLCBjbG9zaW5nU2VsZWN0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLm9wZW5pbmdzID0gb3BlbmluZ3M7XG4gICAgICAgIF90aGlzLmNsb3NpbmdTZWxlY3RvciA9IGNsb3NpbmdTZWxlY3RvcjtcbiAgICAgICAgX3RoaXMuY29udGV4dHMgPSBbXTtcbiAgICAgICAgX3RoaXMuYWRkKF90aGlzLm9wZW5TdWJzY3JpcHRpb24gPSBzdWJzY3JpYmVUb1Jlc3VsdChfdGhpcywgb3BlbmluZ3MsIG9wZW5pbmdzKSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgV2luZG93VG9nZ2xlU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIGNvbnRleHRzID0gdGhpcy5jb250ZXh0cztcbiAgICAgICAgaWYgKGNvbnRleHRzKSB7XG4gICAgICAgICAgICB2YXIgbGVuID0gY29udGV4dHMubGVuZ3RoO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnRleHRzW2ldLndpbmRvdy5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgV2luZG93VG9nZ2xlU3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB2YXIgY29udGV4dHMgPSB0aGlzLmNvbnRleHRzO1xuICAgICAgICB0aGlzLmNvbnRleHRzID0gbnVsbDtcbiAgICAgICAgaWYgKGNvbnRleHRzKSB7XG4gICAgICAgICAgICB2YXIgbGVuID0gY29udGV4dHMubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbikge1xuICAgICAgICAgICAgICAgIHZhciBjb250ZXh0XzEgPSBjb250ZXh0c1tpbmRleF07XG4gICAgICAgICAgICAgICAgY29udGV4dF8xLndpbmRvdy5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIGNvbnRleHRfMS5zdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLl9lcnJvci5jYWxsKHRoaXMsIGVycik7XG4gICAgfTtcbiAgICBXaW5kb3dUb2dnbGVTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb250ZXh0cyA9IHRoaXMuY29udGV4dHM7XG4gICAgICAgIHRoaXMuY29udGV4dHMgPSBudWxsO1xuICAgICAgICBpZiAoY29udGV4dHMpIHtcbiAgICAgICAgICAgIHZhciBsZW4gPSBjb250ZXh0cy5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRleHRfMiA9IGNvbnRleHRzW2luZGV4XTtcbiAgICAgICAgICAgICAgICBjb250ZXh0XzIud2luZG93LmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgY29udGV4dF8yLnN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuX2NvbXBsZXRlLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICBXaW5kb3dUb2dnbGVTdWJzY3JpYmVyLnByb3RvdHlwZS5fdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb250ZXh0cyA9IHRoaXMuY29udGV4dHM7XG4gICAgICAgIHRoaXMuY29udGV4dHMgPSBudWxsO1xuICAgICAgICBpZiAoY29udGV4dHMpIHtcbiAgICAgICAgICAgIHZhciBsZW4gPSBjb250ZXh0cy5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRleHRfMyA9IGNvbnRleHRzW2luZGV4XTtcbiAgICAgICAgICAgICAgICBjb250ZXh0XzMud2luZG93LnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgY29udGV4dF8zLnN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBXaW5kb3dUb2dnbGVTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlOZXh0ID0gZnVuY3Rpb24gKG91dGVyVmFsdWUsIGlubmVyVmFsdWUsIG91dGVySW5kZXgsIGlubmVySW5kZXgsIGlubmVyU3ViKSB7XG4gICAgICAgIGlmIChvdXRlclZhbHVlID09PSB0aGlzLm9wZW5pbmdzKSB7XG4gICAgICAgICAgICB2YXIgY2xvc2luZ05vdGlmaWVyID0gdm9pZCAwO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgY2xvc2luZ1NlbGVjdG9yID0gdGhpcy5jbG9zaW5nU2VsZWN0b3I7XG4gICAgICAgICAgICAgICAgY2xvc2luZ05vdGlmaWVyID0gY2xvc2luZ1NlbGVjdG9yKGlubmVyVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lcnJvcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB3aW5kb3dfMSA9IG5ldyBTdWJqZWN0KCk7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICAgICAgdmFyIGNvbnRleHRfNCA9IHsgd2luZG93OiB3aW5kb3dfMSwgc3Vic2NyaXB0aW9uOiBzdWJzY3JpcHRpb24gfTtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dHMucHVzaChjb250ZXh0XzQpO1xuICAgICAgICAgICAgdmFyIGlubmVyU3Vic2NyaXB0aW9uID0gc3Vic2NyaWJlVG9SZXN1bHQodGhpcywgY2xvc2luZ05vdGlmaWVyLCBjb250ZXh0XzQpO1xuICAgICAgICAgICAgaWYgKGlubmVyU3Vic2NyaXB0aW9uLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VXaW5kb3codGhpcy5jb250ZXh0cy5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlubmVyU3Vic2NyaXB0aW9uLmNvbnRleHQgPSBjb250ZXh0XzQ7XG4gICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLmFkZChpbm5lclN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQod2luZG93XzEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jbG9zZVdpbmRvdyh0aGlzLmNvbnRleHRzLmluZGV4T2Yob3V0ZXJWYWx1ZSkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBXaW5kb3dUb2dnbGVTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlFcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgdGhpcy5lcnJvcihlcnIpO1xuICAgIH07XG4gICAgV2luZG93VG9nZ2xlU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5Q29tcGxldGUgPSBmdW5jdGlvbiAoaW5uZXIpIHtcbiAgICAgICAgaWYgKGlubmVyICE9PSB0aGlzLm9wZW5TdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VXaW5kb3codGhpcy5jb250ZXh0cy5pbmRleE9mKGlubmVyLmNvbnRleHQpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgV2luZG93VG9nZ2xlU3Vic2NyaWJlci5wcm90b3R5cGUuY2xvc2VXaW5kb3cgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb250ZXh0cyA9IHRoaXMuY29udGV4dHM7XG4gICAgICAgIHZhciBjb250ZXh0ID0gY29udGV4dHNbaW5kZXhdO1xuICAgICAgICB2YXIgd2luZG93ID0gY29udGV4dC53aW5kb3csIHN1YnNjcmlwdGlvbiA9IGNvbnRleHQuc3Vic2NyaXB0aW9uO1xuICAgICAgICBjb250ZXh0cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB3aW5kb3cuY29tcGxldGUoKTtcbiAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gV2luZG93VG9nZ2xlU3Vic2NyaWJlcjtcbn0oT3V0ZXJTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD13aW5kb3dUb2dnbGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJqZWN0LF9PdXRlclN1YnNjcmliZXIsX3V0aWxfc3Vic2NyaWJlVG9SZXN1bHQgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICcuLi9TdWJqZWN0JztcbmltcG9ydCB7IE91dGVyU3Vic2NyaWJlciB9IGZyb20gJy4uL091dGVyU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb1Jlc3VsdCB9IGZyb20gJy4uL3V0aWwvc3Vic2NyaWJlVG9SZXN1bHQnO1xuZXhwb3J0IGZ1bmN0aW9uIHdpbmRvd1doZW4oY2xvc2luZ1NlbGVjdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHdpbmRvd1doZW5PcGVyYXRvckZ1bmN0aW9uKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IFdpbmRvd09wZXJhdG9yKGNsb3NpbmdTZWxlY3RvcikpO1xuICAgIH07XG59XG52YXIgV2luZG93T3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gV2luZG93T3BlcmF0b3IoY2xvc2luZ1NlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMuY2xvc2luZ1NlbGVjdG9yID0gY2xvc2luZ1NlbGVjdG9yO1xuICAgIH1cbiAgICBXaW5kb3dPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IFdpbmRvd1N1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5jbG9zaW5nU2VsZWN0b3IpKTtcbiAgICB9O1xuICAgIHJldHVybiBXaW5kb3dPcGVyYXRvcjtcbn0oKSk7XG52YXIgV2luZG93U3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhXaW5kb3dTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFdpbmRvd1N1YnNjcmliZXIoZGVzdGluYXRpb24sIGNsb3NpbmdTZWxlY3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBkZXN0aW5hdGlvbjtcbiAgICAgICAgX3RoaXMuY2xvc2luZ1NlbGVjdG9yID0gY2xvc2luZ1NlbGVjdG9yO1xuICAgICAgICBfdGhpcy5vcGVuV2luZG93KCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgV2luZG93U3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dCA9IGZ1bmN0aW9uIChfb3V0ZXJWYWx1ZSwgX2lubmVyVmFsdWUsIF9vdXRlckluZGV4LCBfaW5uZXJJbmRleCwgaW5uZXJTdWIpIHtcbiAgICAgICAgdGhpcy5vcGVuV2luZG93KGlubmVyU3ViKTtcbiAgICB9O1xuICAgIFdpbmRvd1N1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIHRoaXMuX2Vycm9yKGVycm9yKTtcbiAgICB9O1xuICAgIFdpbmRvd1N1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlID0gZnVuY3Rpb24gKGlubmVyU3ViKSB7XG4gICAgICAgIHRoaXMub3BlbldpbmRvdyhpbm5lclN1Yik7XG4gICAgfTtcbiAgICBXaW5kb3dTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLndpbmRvdy5uZXh0KHZhbHVlKTtcbiAgICB9O1xuICAgIFdpbmRvd1N1YnNjcmliZXIucHJvdG90eXBlLl9lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgdGhpcy53aW5kb3cuZXJyb3IoZXJyKTtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlQ2xvc2luZ05vdGlmaWNhdGlvbigpO1xuICAgIH07XG4gICAgV2luZG93U3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLndpbmRvdy5jb21wbGV0ZSgpO1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmVDbG9zaW5nTm90aWZpY2F0aW9uKCk7XG4gICAgfTtcbiAgICBXaW5kb3dTdWJzY3JpYmVyLnByb3RvdHlwZS51bnN1YnNjcmliZUNsb3NpbmdOb3RpZmljYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NpbmdOb3RpZmljYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2luZ05vdGlmaWNhdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBXaW5kb3dTdWJzY3JpYmVyLnByb3RvdHlwZS5vcGVuV2luZG93ID0gZnVuY3Rpb24gKGlubmVyU3ViKSB7XG4gICAgICAgIGlmIChpbm5lclN1YiA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBpbm5lclN1YiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlubmVyU3ViKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZShpbm5lclN1Yik7XG4gICAgICAgICAgICBpbm5lclN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcmV2V2luZG93ID0gdGhpcy53aW5kb3c7XG4gICAgICAgIGlmIChwcmV2V2luZG93KSB7XG4gICAgICAgICAgICBwcmV2V2luZG93LmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdpbmRvdyA9IHRoaXMud2luZG93ID0gbmV3IFN1YmplY3QoKTtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHdpbmRvdyk7XG4gICAgICAgIHZhciBjbG9zaW5nTm90aWZpZXI7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgY2xvc2luZ1NlbGVjdG9yID0gdGhpcy5jbG9zaW5nU2VsZWN0b3I7XG4gICAgICAgICAgICBjbG9zaW5nTm90aWZpZXIgPSBjbG9zaW5nU2VsZWN0b3IoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlKTtcbiAgICAgICAgICAgIHRoaXMud2luZG93LmVycm9yKGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWRkKHRoaXMuY2xvc2luZ05vdGlmaWNhdGlvbiA9IHN1YnNjcmliZVRvUmVzdWx0KHRoaXMsIGNsb3NpbmdOb3RpZmllcikpO1xuICAgIH07XG4gICAgcmV0dXJuIFdpbmRvd1N1YnNjcmliZXI7XG59KE91dGVyU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2luZG93V2hlbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX091dGVyU3Vic2NyaWJlcixfdXRpbF9zdWJzY3JpYmVUb1Jlc3VsdCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgT3V0ZXJTdWJzY3JpYmVyIH0gZnJvbSAnLi4vT3V0ZXJTdWJzY3JpYmVyJztcbmltcG9ydCB7IHN1YnNjcmliZVRvUmVzdWx0IH0gZnJvbSAnLi4vdXRpbC9zdWJzY3JpYmVUb1Jlc3VsdCc7XG5leHBvcnQgZnVuY3Rpb24gd2l0aExhdGVzdEZyb20oKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIHZhciBwcm9qZWN0O1xuICAgICAgICBpZiAodHlwZW9mIGFyZ3NbYXJncy5sZW5ndGggLSAxXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcHJvamVjdCA9IGFyZ3MucG9wKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG9ic2VydmFibGVzID0gYXJncztcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBXaXRoTGF0ZXN0RnJvbU9wZXJhdG9yKG9ic2VydmFibGVzLCBwcm9qZWN0KSk7XG4gICAgfTtcbn1cbnZhciBXaXRoTGF0ZXN0RnJvbU9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFdpdGhMYXRlc3RGcm9tT3BlcmF0b3Iob2JzZXJ2YWJsZXMsIHByb2plY3QpIHtcbiAgICAgICAgdGhpcy5vYnNlcnZhYmxlcyA9IG9ic2VydmFibGVzO1xuICAgICAgICB0aGlzLnByb2plY3QgPSBwcm9qZWN0O1xuICAgIH1cbiAgICBXaXRoTGF0ZXN0RnJvbU9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgV2l0aExhdGVzdEZyb21TdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMub2JzZXJ2YWJsZXMsIHRoaXMucHJvamVjdCkpO1xuICAgIH07XG4gICAgcmV0dXJuIFdpdGhMYXRlc3RGcm9tT3BlcmF0b3I7XG59KCkpO1xudmFyIFdpdGhMYXRlc3RGcm9tU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhXaXRoTGF0ZXN0RnJvbVN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gV2l0aExhdGVzdEZyb21TdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBvYnNlcnZhYmxlcywgcHJvamVjdCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMub2JzZXJ2YWJsZXMgPSBvYnNlcnZhYmxlcztcbiAgICAgICAgX3RoaXMucHJvamVjdCA9IHByb2plY3Q7XG4gICAgICAgIF90aGlzLnRvUmVzcG9uZCA9IFtdO1xuICAgICAgICB2YXIgbGVuID0gb2JzZXJ2YWJsZXMubGVuZ3RoO1xuICAgICAgICBfdGhpcy52YWx1ZXMgPSBuZXcgQXJyYXkobGVuKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgX3RoaXMudG9SZXNwb25kLnB1c2goaSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIG9ic2VydmFibGUgPSBvYnNlcnZhYmxlc1tpXTtcbiAgICAgICAgICAgIF90aGlzLmFkZChzdWJzY3JpYmVUb1Jlc3VsdChfdGhpcywgb2JzZXJ2YWJsZSwgdW5kZWZpbmVkLCBpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBXaXRoTGF0ZXN0RnJvbVN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQgPSBmdW5jdGlvbiAoX291dGVyVmFsdWUsIGlubmVyVmFsdWUsIG91dGVySW5kZXgpIHtcbiAgICAgICAgdGhpcy52YWx1ZXNbb3V0ZXJJbmRleF0gPSBpbm5lclZhbHVlO1xuICAgICAgICB2YXIgdG9SZXNwb25kID0gdGhpcy50b1Jlc3BvbmQ7XG4gICAgICAgIGlmICh0b1Jlc3BvbmQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIGZvdW5kID0gdG9SZXNwb25kLmluZGV4T2Yob3V0ZXJJbmRleCk7XG4gICAgICAgICAgICBpZiAoZm91bmQgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdG9SZXNwb25kLnNwbGljZShmb3VuZCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFdpdGhMYXRlc3RGcm9tU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5Q29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgfTtcbiAgICBXaXRoTGF0ZXN0RnJvbVN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLnRvUmVzcG9uZC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW3ZhbHVlXS5jb25jYXQodGhpcy52YWx1ZXMpO1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvamVjdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyeVByb2plY3QoYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFdpdGhMYXRlc3RGcm9tU3Vic2NyaWJlci5wcm90b3R5cGUuX3RyeVByb2plY3QgPSBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5wcm9qZWN0LmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQocmVzdWx0KTtcbiAgICB9O1xuICAgIHJldHVybiBXaXRoTGF0ZXN0RnJvbVN1YnNjcmliZXI7XG59KE91dGVyU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2l0aExhdGVzdEZyb20uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9vYnNlcnZhYmxlX3ppcCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyB6aXAgYXMgemlwU3RhdGljIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS96aXAnO1xuZXhwb3J0IGZ1bmN0aW9uIHppcCgpIHtcbiAgICB2YXIgb2JzZXJ2YWJsZXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBvYnNlcnZhYmxlc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gemlwT3BlcmF0b3JGdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0LmNhbGwoemlwU3RhdGljLmFwcGx5KHZvaWQgMCwgW3NvdXJjZV0uY29uY2F0KG9ic2VydmFibGVzKSkpO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD16aXAuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9vYnNlcnZhYmxlX3ppcCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBaaXBPcGVyYXRvciB9IGZyb20gJy4uL29ic2VydmFibGUvemlwJztcbmV4cG9ydCBmdW5jdGlvbiB6aXBBbGwocHJvamVjdCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UubGlmdChuZXcgWmlwT3BlcmF0b3IocHJvamVjdCkpOyB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9emlwQWxsLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfU3Vic2NyaXB0aW9uIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVBcnJheShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzdWIgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGkgPT09IGlucHV0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoaW5wdXRbaSsrXSk7XG4gICAgICAgICAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgc3ViLmFkZCh0aGlzLnNjaGVkdWxlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBzdWI7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZUFycmF5LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfU3Vic2NyaXB0aW9uLF9zeW1ib2xfaXRlcmF0b3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IGl0ZXJhdG9yIGFzIFN5bWJvbF9pdGVyYXRvciB9IGZyb20gJy4uL3N5bWJvbC9pdGVyYXRvcic7XG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVJdGVyYWJsZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKCFpbnB1dCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0l0ZXJhYmxlIGNhbm5vdCBiZSBudWxsJyk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc3ViID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICB2YXIgaXRlcmF0b3I7XG4gICAgICAgIHN1Yi5hZGQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGl0ZXJhdG9yICYmIHR5cGVvZiBpdGVyYXRvci5yZXR1cm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBpdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yID0gaW5wdXRbU3ltYm9sX2l0ZXJhdG9yXSgpO1xuICAgICAgICAgICAgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciB2YWx1ZTtcbiAgICAgICAgICAgICAgICB2YXIgZG9uZTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgZG9uZSA9IHJlc3VsdC5kb25lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBzdWI7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZUl0ZXJhYmxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfU3Vic2NyaXB0aW9uLF9zeW1ib2xfb2JzZXJ2YWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgb2JzZXJ2YWJsZSBhcyBTeW1ib2xfb2JzZXJ2YWJsZSB9IGZyb20gJy4uL3N5bWJvbC9vYnNlcnZhYmxlJztcbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZU9ic2VydmFibGUoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc3ViID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgb2JzZXJ2YWJsZSA9IGlucHV0W1N5bWJvbF9vYnNlcnZhYmxlXSgpO1xuICAgICAgICAgICAgc3ViLmFkZChvYnNlcnZhYmxlLnN1YnNjcmliZSh7XG4gICAgICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24gKHZhbHVlKSB7IHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7IH0pKTsgfSxcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGVycikgeyBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLmVycm9yKGVycik7IH0pKTsgfSxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkgeyBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7IH0pKTsgfSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gc3ViO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVPYnNlcnZhYmxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfU3Vic2NyaXB0aW9uIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVQcm9taXNlKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHN1YiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0LnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7IH0pKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaWJlci5lcnJvcihlcnIpOyB9KSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gc3ViO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVQcm9taXNlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfc2NoZWR1bGVPYnNlcnZhYmxlLF9zY2hlZHVsZVByb21pc2UsX3NjaGVkdWxlQXJyYXksX3NjaGVkdWxlSXRlcmFibGUsX3V0aWxfaXNJbnRlcm9wT2JzZXJ2YWJsZSxfdXRpbF9pc1Byb21pc2UsX3V0aWxfaXNBcnJheUxpa2UsX3V0aWxfaXNJdGVyYWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBzY2hlZHVsZU9ic2VydmFibGUgfSBmcm9tICcuL3NjaGVkdWxlT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBzY2hlZHVsZVByb21pc2UgfSBmcm9tICcuL3NjaGVkdWxlUHJvbWlzZSc7XG5pbXBvcnQgeyBzY2hlZHVsZUFycmF5IH0gZnJvbSAnLi9zY2hlZHVsZUFycmF5JztcbmltcG9ydCB7IHNjaGVkdWxlSXRlcmFibGUgfSBmcm9tICcuL3NjaGVkdWxlSXRlcmFibGUnO1xuaW1wb3J0IHsgaXNJbnRlcm9wT2JzZXJ2YWJsZSB9IGZyb20gJy4uL3V0aWwvaXNJbnRlcm9wT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc1Byb21pc2UgfSBmcm9tICcuLi91dGlsL2lzUHJvbWlzZSc7XG5pbXBvcnQgeyBpc0FycmF5TGlrZSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheUxpa2UnO1xuaW1wb3J0IHsgaXNJdGVyYWJsZSB9IGZyb20gJy4uL3V0aWwvaXNJdGVyYWJsZSc7XG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVkKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICBpZiAoaXNJbnRlcm9wT2JzZXJ2YWJsZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZU9ic2VydmFibGUoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNQcm9taXNlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlUHJvbWlzZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0FycmF5TGlrZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZUFycmF5KGlucHV0LCBzY2hlZHVsZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzSXRlcmFibGUoaW5wdXQpIHx8IHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZUl0ZXJhYmxlKGlucHV0LCBzY2hlZHVsZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKGlucHV0ICE9PSBudWxsICYmIHR5cGVvZiBpbnB1dCB8fCBpbnB1dCkgKyAnIGlzIG5vdCBvYnNlcnZhYmxlJyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZWQuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpcHRpb24gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG52YXIgQWN0aW9uID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEFjdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBY3Rpb24oc2NoZWR1bGVyLCB3b3JrKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBBY3Rpb24ucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKHN0YXRlLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgcmV0dXJuIEFjdGlvbjtcbn0oU3Vic2NyaXB0aW9uKSk7XG5leHBvcnQgeyBBY3Rpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFjdGlvbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX0FzeW5jQWN0aW9uIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBBc3luY0FjdGlvbiB9IGZyb20gJy4vQXN5bmNBY3Rpb24nO1xudmFyIEFuaW1hdGlvbkZyYW1lQWN0aW9uID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEFuaW1hdGlvbkZyYW1lQWN0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFuaW1hdGlvbkZyYW1lQWN0aW9uKHNjaGVkdWxlciwgd29yaykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBzY2hlZHVsZXIsIHdvcmspIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICAgICAgX3RoaXMud29yayA9IHdvcms7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQW5pbWF0aW9uRnJhbWVBY3Rpb24ucHJvdG90eXBlLnJlcXVlc3RBc3luY0lkID0gZnVuY3Rpb24gKHNjaGVkdWxlciwgaWQsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlbGF5ICE9PSBudWxsICYmIGRlbGF5ID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUucmVxdWVzdEFzeW5jSWQuY2FsbCh0aGlzLCBzY2hlZHVsZXIsIGlkLCBkZWxheSk7XG4gICAgICAgIH1cbiAgICAgICAgc2NoZWR1bGVyLmFjdGlvbnMucHVzaCh0aGlzKTtcbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZWQgfHwgKHNjaGVkdWxlci5zY2hlZHVsZWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkgeyByZXR1cm4gc2NoZWR1bGVyLmZsdXNoKG51bGwpOyB9KSk7XG4gICAgfTtcbiAgICBBbmltYXRpb25GcmFtZUFjdGlvbi5wcm90b3R5cGUucmVjeWNsZUFzeW5jSWQgPSBmdW5jdGlvbiAoc2NoZWR1bGVyLCBpZCwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKGRlbGF5ICE9PSBudWxsICYmIGRlbGF5ID4gMCkgfHwgKGRlbGF5ID09PSBudWxsICYmIHRoaXMuZGVsYXkgPiAwKSkge1xuICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUucmVjeWNsZUFzeW5jSWQuY2FsbCh0aGlzLCBzY2hlZHVsZXIsIGlkLCBkZWxheSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjaGVkdWxlci5hY3Rpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoaWQpO1xuICAgICAgICAgICAgc2NoZWR1bGVyLnNjaGVkdWxlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgcmV0dXJuIEFuaW1hdGlvbkZyYW1lQWN0aW9uO1xufShBc3luY0FjdGlvbikpO1xuZXhwb3J0IHsgQW5pbWF0aW9uRnJhbWVBY3Rpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFuaW1hdGlvbkZyYW1lQWN0aW9uLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfQXN5bmNTY2hlZHVsZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IEFzeW5jU2NoZWR1bGVyIH0gZnJvbSAnLi9Bc3luY1NjaGVkdWxlcic7XG52YXIgQW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgQW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVkID0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgYWN0aW9ucyA9IHRoaXMuYWN0aW9ucztcbiAgICAgICAgdmFyIGVycm9yO1xuICAgICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgICAgdmFyIGNvdW50ID0gYWN0aW9ucy5sZW5ndGg7XG4gICAgICAgIGFjdGlvbiA9IGFjdGlvbiB8fCBhY3Rpb25zLnNoaWZ0KCk7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGlmIChlcnJvciA9IGFjdGlvbi5leGVjdXRlKGFjdGlvbi5zdGF0ZSwgYWN0aW9uLmRlbGF5KSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlICgrK2luZGV4IDwgY291bnQgJiYgKGFjdGlvbiA9IGFjdGlvbnMuc2hpZnQoKSkpO1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHdoaWxlICgrK2luZGV4IDwgY291bnQgJiYgKGFjdGlvbiA9IGFjdGlvbnMuc2hpZnQoKSkpIHtcbiAgICAgICAgICAgICAgICBhY3Rpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQW5pbWF0aW9uRnJhbWVTY2hlZHVsZXI7XG59KEFzeW5jU2NoZWR1bGVyKSk7XG5leHBvcnQgeyBBbmltYXRpb25GcmFtZVNjaGVkdWxlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF91dGlsX0ltbWVkaWF0ZSxfQXN5bmNBY3Rpb24gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IEltbWVkaWF0ZSB9IGZyb20gJy4uL3V0aWwvSW1tZWRpYXRlJztcbmltcG9ydCB7IEFzeW5jQWN0aW9uIH0gZnJvbSAnLi9Bc3luY0FjdGlvbic7XG52YXIgQXNhcEFjdGlvbiA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhBc2FwQWN0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFzYXBBY3Rpb24oc2NoZWR1bGVyLCB3b3JrKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHNjaGVkdWxlciwgd29yaykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc2NoZWR1bGVyID0gc2NoZWR1bGVyO1xuICAgICAgICBfdGhpcy53b3JrID0gd29yaztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBc2FwQWN0aW9uLnByb3RvdHlwZS5yZXF1ZXN0QXN5bmNJZCA9IGZ1bmN0aW9uIChzY2hlZHVsZXIsIGlkLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWxheSAhPT0gbnVsbCAmJiBkZWxheSA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLnJlcXVlc3RBc3luY0lkLmNhbGwodGhpcywgc2NoZWR1bGVyLCBpZCwgZGVsYXkpO1xuICAgICAgICB9XG4gICAgICAgIHNjaGVkdWxlci5hY3Rpb25zLnB1c2godGhpcyk7XG4gICAgICAgIHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGVkIHx8IChzY2hlZHVsZXIuc2NoZWR1bGVkID0gSW1tZWRpYXRlLnNldEltbWVkaWF0ZShzY2hlZHVsZXIuZmx1c2guYmluZChzY2hlZHVsZXIsIG51bGwpKSk7XG4gICAgfTtcbiAgICBBc2FwQWN0aW9uLnByb3RvdHlwZS5yZWN5Y2xlQXN5bmNJZCA9IGZ1bmN0aW9uIChzY2hlZHVsZXIsIGlkLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoZGVsYXkgIT09IG51bGwgJiYgZGVsYXkgPiAwKSB8fCAoZGVsYXkgPT09IG51bGwgJiYgdGhpcy5kZWxheSA+IDApKSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5yZWN5Y2xlQXN5bmNJZC5jYWxsKHRoaXMsIHNjaGVkdWxlciwgaWQsIGRlbGF5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2NoZWR1bGVyLmFjdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBJbW1lZGlhdGUuY2xlYXJJbW1lZGlhdGUoaWQpO1xuICAgICAgICAgICAgc2NoZWR1bGVyLnNjaGVkdWxlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgcmV0dXJuIEFzYXBBY3Rpb247XG59KEFzeW5jQWN0aW9uKSk7XG5leHBvcnQgeyBBc2FwQWN0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bc2FwQWN0aW9uLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfQXN5bmNTY2hlZHVsZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IEFzeW5jU2NoZWR1bGVyIH0gZnJvbSAnLi9Bc3luY1NjaGVkdWxlcic7XG52YXIgQXNhcFNjaGVkdWxlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhBc2FwU2NoZWR1bGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFzYXBTY2hlZHVsZXIoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgQXNhcFNjaGVkdWxlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHZhciBhY3Rpb25zID0gdGhpcy5hY3Rpb25zO1xuICAgICAgICB2YXIgZXJyb3I7XG4gICAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgICB2YXIgY291bnQgPSBhY3Rpb25zLmxlbmd0aDtcbiAgICAgICAgYWN0aW9uID0gYWN0aW9uIHx8IGFjdGlvbnMuc2hpZnQoKTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKGVycm9yID0gYWN0aW9uLmV4ZWN1dGUoYWN0aW9uLnN0YXRlLCBhY3Rpb24uZGVsYXkpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKCsraW5kZXggPCBjb3VudCAmJiAoYWN0aW9uID0gYWN0aW9ucy5zaGlmdCgpKSk7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgd2hpbGUgKCsraW5kZXggPCBjb3VudCAmJiAoYWN0aW9uID0gYWN0aW9ucy5zaGlmdCgpKSkge1xuICAgICAgICAgICAgICAgIGFjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBBc2FwU2NoZWR1bGVyO1xufShBc3luY1NjaGVkdWxlcikpO1xuZXhwb3J0IHsgQXNhcFNjaGVkdWxlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXNhcFNjaGVkdWxlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX0FjdGlvbiBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSAnLi9BY3Rpb24nO1xudmFyIEFzeW5jQWN0aW9uID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEFzeW5jQWN0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFzeW5jQWN0aW9uKHNjaGVkdWxlciwgd29yaykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBzY2hlZHVsZXIsIHdvcmspIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICAgICAgX3RoaXMud29yayA9IHdvcms7XG4gICAgICAgIF90aGlzLnBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBc3luY0FjdGlvbi5wcm90b3R5cGUuc2NoZWR1bGUgPSBmdW5jdGlvbiAoc3RhdGUsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIHZhciBpZCA9IHRoaXMuaWQ7XG4gICAgICAgIHZhciBzY2hlZHVsZXIgPSB0aGlzLnNjaGVkdWxlcjtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuaWQgPSB0aGlzLnJlY3ljbGVBc3luY0lkKHNjaGVkdWxlciwgaWQsIGRlbGF5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBlbmRpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmRlbGF5ID0gZGVsYXk7XG4gICAgICAgIHRoaXMuaWQgPSB0aGlzLmlkIHx8IHRoaXMucmVxdWVzdEFzeW5jSWQoc2NoZWR1bGVyLCB0aGlzLmlkLCBkZWxheSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLnJlcXVlc3RBc3luY0lkID0gZnVuY3Rpb24gKHNjaGVkdWxlciwgaWQsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNldEludGVydmFsKHNjaGVkdWxlci5mbHVzaC5iaW5kKHNjaGVkdWxlciwgdGhpcyksIGRlbGF5KTtcbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5yZWN5Y2xlQXN5bmNJZCA9IGZ1bmN0aW9uIChzY2hlZHVsZXIsIGlkLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWxheSAhPT0gbnVsbCAmJiB0aGlzLmRlbGF5ID09PSBkZWxheSAmJiB0aGlzLnBlbmRpbmcgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm4gaWQ7XG4gICAgICAgIH1cbiAgICAgICAgY2xlYXJJbnRlcnZhbChpZCk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBBc3luY0FjdGlvbi5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdleGVjdXRpbmcgYSBjYW5jZWxsZWQgYWN0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIHZhciBlcnJvciA9IHRoaXMuX2V4ZWN1dGUoc3RhdGUsIGRlbGF5KTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5wZW5kaW5nID09PSBmYWxzZSAmJiB0aGlzLmlkICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuaWQgPSB0aGlzLnJlY3ljbGVBc3luY0lkKHRoaXMuc2NoZWR1bGVyLCB0aGlzLmlkLCBudWxsKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLl9leGVjdXRlID0gZnVuY3Rpb24gKHN0YXRlLCBkZWxheSkge1xuICAgICAgICB2YXIgZXJyb3JlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgZXJyb3JWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMud29yayhzdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGVycm9yZWQgPSB0cnVlO1xuICAgICAgICAgICAgZXJyb3JWYWx1ZSA9ICEhZSAmJiBlIHx8IG5ldyBFcnJvcihlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3JlZCkge1xuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yVmFsdWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5fdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpZCA9IHRoaXMuaWQ7XG4gICAgICAgIHZhciBzY2hlZHVsZXIgPSB0aGlzLnNjaGVkdWxlcjtcbiAgICAgICAgdmFyIGFjdGlvbnMgPSBzY2hlZHVsZXIuYWN0aW9ucztcbiAgICAgICAgdmFyIGluZGV4ID0gYWN0aW9ucy5pbmRleE9mKHRoaXMpO1xuICAgICAgICB0aGlzLndvcmsgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5wZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVyID0gbnVsbDtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgYWN0aW9ucy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmlkID0gdGhpcy5yZWN5Y2xlQXN5bmNJZChzY2hlZHVsZXIsIGlkLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlbGF5ID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBBc3luY0FjdGlvbjtcbn0oQWN0aW9uKSk7XG5leHBvcnQgeyBBc3luY0FjdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXN5bmNBY3Rpb24uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TY2hlZHVsZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFNjaGVkdWxlciB9IGZyb20gJy4uL1NjaGVkdWxlcic7XG52YXIgQXN5bmNTY2hlZHVsZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQXN5bmNTY2hlZHVsZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQXN5bmNTY2hlZHVsZXIoU2NoZWR1bGVyQWN0aW9uLCBub3cpIHtcbiAgICAgICAgaWYgKG5vdyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBub3cgPSBTY2hlZHVsZXIubm93O1xuICAgICAgICB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIFNjaGVkdWxlckFjdGlvbiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKEFzeW5jU2NoZWR1bGVyLmRlbGVnYXRlICYmIEFzeW5jU2NoZWR1bGVyLmRlbGVnYXRlICE9PSBfdGhpcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBBc3luY1NjaGVkdWxlci5kZWxlZ2F0ZS5ub3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBub3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYWN0aW9ucyA9IFtdO1xuICAgICAgICBfdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuc2NoZWR1bGVkID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEFzeW5jU2NoZWR1bGVyLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uICh3b3JrLCBkZWxheSwgc3RhdGUpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQXN5bmNTY2hlZHVsZXIuZGVsZWdhdGUgJiYgQXN5bmNTY2hlZHVsZXIuZGVsZWdhdGUgIT09IHRoaXMpIHtcbiAgICAgICAgICAgIHJldHVybiBBc3luY1NjaGVkdWxlci5kZWxlZ2F0ZS5zY2hlZHVsZSh3b3JrLCBkZWxheSwgc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuc2NoZWR1bGUuY2FsbCh0aGlzLCB3b3JrLCBkZWxheSwgc3RhdGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBc3luY1NjaGVkdWxlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIHZhciBhY3Rpb25zID0gdGhpcy5hY3Rpb25zO1xuICAgICAgICBpZiAodGhpcy5hY3RpdmUpIHtcbiAgICAgICAgICAgIGFjdGlvbnMucHVzaChhY3Rpb24pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlcnJvcjtcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAoZXJyb3IgPSBhY3Rpb24uZXhlY3V0ZShhY3Rpb24uc3RhdGUsIGFjdGlvbi5kZWxheSkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoYWN0aW9uID0gYWN0aW9ucy5zaGlmdCgpKTtcbiAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICB3aGlsZSAoYWN0aW9uID0gYWN0aW9ucy5zaGlmdCgpKSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFzeW5jU2NoZWR1bGVyO1xufShTY2hlZHVsZXIpKTtcbmV4cG9ydCB7IEFzeW5jU2NoZWR1bGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bc3luY1NjaGVkdWxlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX0FzeW5jQWN0aW9uIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBBc3luY0FjdGlvbiB9IGZyb20gJy4vQXN5bmNBY3Rpb24nO1xudmFyIFF1ZXVlQWN0aW9uID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFF1ZXVlQWN0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFF1ZXVlQWN0aW9uKHNjaGVkdWxlciwgd29yaykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBzY2hlZHVsZXIsIHdvcmspIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICAgICAgX3RoaXMud29yayA9IHdvcms7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgUXVldWVBY3Rpb24ucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKHN0YXRlLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWxheSA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLnNjaGVkdWxlLmNhbGwodGhpcywgc3RhdGUsIGRlbGF5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlbGF5ID0gZGVsYXk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZXIuZmx1c2godGhpcyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgUXVldWVBY3Rpb24ucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbiAoc3RhdGUsIGRlbGF5KSB7XG4gICAgICAgIHJldHVybiAoZGVsYXkgPiAwIHx8IHRoaXMuY2xvc2VkKSA/XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLmV4ZWN1dGUuY2FsbCh0aGlzLCBzdGF0ZSwgZGVsYXkpIDpcbiAgICAgICAgICAgIHRoaXMuX2V4ZWN1dGUoc3RhdGUsIGRlbGF5KTtcbiAgICB9O1xuICAgIFF1ZXVlQWN0aW9uLnByb3RvdHlwZS5yZXF1ZXN0QXN5bmNJZCA9IGZ1bmN0aW9uIChzY2hlZHVsZXIsIGlkLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoZGVsYXkgIT09IG51bGwgJiYgZGVsYXkgPiAwKSB8fCAoZGVsYXkgPT09IG51bGwgJiYgdGhpcy5kZWxheSA+IDApKSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5yZXF1ZXN0QXN5bmNJZC5jYWxsKHRoaXMsIHNjaGVkdWxlciwgaWQsIGRlbGF5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2NoZWR1bGVyLmZsdXNoKHRoaXMpO1xuICAgIH07XG4gICAgcmV0dXJuIFF1ZXVlQWN0aW9uO1xufShBc3luY0FjdGlvbikpO1xuZXhwb3J0IHsgUXVldWVBY3Rpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVF1ZXVlQWN0aW9uLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfQXN5bmNTY2hlZHVsZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IEFzeW5jU2NoZWR1bGVyIH0gZnJvbSAnLi9Bc3luY1NjaGVkdWxlcic7XG52YXIgUXVldWVTY2hlZHVsZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoUXVldWVTY2hlZHVsZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUXVldWVTY2hlZHVsZXIoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFF1ZXVlU2NoZWR1bGVyO1xufShBc3luY1NjaGVkdWxlcikpO1xuZXhwb3J0IHsgUXVldWVTY2hlZHVsZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVF1ZXVlU2NoZWR1bGVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfQXN5bmNBY3Rpb24sX0FzeW5jU2NoZWR1bGVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBBc3luY0FjdGlvbiB9IGZyb20gJy4vQXN5bmNBY3Rpb24nO1xuaW1wb3J0IHsgQXN5bmNTY2hlZHVsZXIgfSBmcm9tICcuL0FzeW5jU2NoZWR1bGVyJztcbnZhciBWaXJ0dWFsVGltZVNjaGVkdWxlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhWaXJ0dWFsVGltZVNjaGVkdWxlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBWaXJ0dWFsVGltZVNjaGVkdWxlcihTY2hlZHVsZXJBY3Rpb24sIG1heEZyYW1lcykge1xuICAgICAgICBpZiAoU2NoZWR1bGVyQWN0aW9uID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIFNjaGVkdWxlckFjdGlvbiA9IFZpcnR1YWxBY3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1heEZyYW1lcyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBtYXhGcmFtZXMgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgU2NoZWR1bGVyQWN0aW9uLCBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5mcmFtZTsgfSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubWF4RnJhbWVzID0gbWF4RnJhbWVzO1xuICAgICAgICBfdGhpcy5mcmFtZSA9IDA7XG4gICAgICAgIF90aGlzLmluZGV4ID0gLTE7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgVmlydHVhbFRpbWVTY2hlZHVsZXIucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBhY3Rpb25zID0gX2EuYWN0aW9ucywgbWF4RnJhbWVzID0gX2EubWF4RnJhbWVzO1xuICAgICAgICB2YXIgZXJyb3IsIGFjdGlvbjtcbiAgICAgICAgd2hpbGUgKChhY3Rpb24gPSBhY3Rpb25zWzBdKSAmJiBhY3Rpb24uZGVsYXkgPD0gbWF4RnJhbWVzKSB7XG4gICAgICAgICAgICBhY3Rpb25zLnNoaWZ0KCk7XG4gICAgICAgICAgICB0aGlzLmZyYW1lID0gYWN0aW9uLmRlbGF5O1xuICAgICAgICAgICAgaWYgKGVycm9yID0gYWN0aW9uLmV4ZWN1dGUoYWN0aW9uLnN0YXRlLCBhY3Rpb24uZGVsYXkpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICB3aGlsZSAoYWN0aW9uID0gYWN0aW9ucy5zaGlmdCgpKSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVmlydHVhbFRpbWVTY2hlZHVsZXIuZnJhbWVUaW1lRmFjdG9yID0gMTA7XG4gICAgcmV0dXJuIFZpcnR1YWxUaW1lU2NoZWR1bGVyO1xufShBc3luY1NjaGVkdWxlcikpO1xuZXhwb3J0IHsgVmlydHVhbFRpbWVTY2hlZHVsZXIgfTtcbnZhciBWaXJ0dWFsQWN0aW9uID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFZpcnR1YWxBY3Rpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVmlydHVhbEFjdGlvbihzY2hlZHVsZXIsIHdvcmssIGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBpbmRleCA9IHNjaGVkdWxlci5pbmRleCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHNjaGVkdWxlciwgd29yaykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc2NoZWR1bGVyID0gc2NoZWR1bGVyO1xuICAgICAgICBfdGhpcy53b3JrID0gd29yaztcbiAgICAgICAgX3RoaXMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgX3RoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMuaW5kZXggPSBzY2hlZHVsZXIuaW5kZXggPSBpbmRleDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBWaXJ0dWFsQWN0aW9uLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLnNjaGVkdWxlLmNhbGwodGhpcywgc3RhdGUsIGRlbGF5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgYWN0aW9uID0gbmV3IFZpcnR1YWxBY3Rpb24odGhpcy5zY2hlZHVsZXIsIHRoaXMud29yayk7XG4gICAgICAgIHRoaXMuYWRkKGFjdGlvbik7XG4gICAgICAgIHJldHVybiBhY3Rpb24uc2NoZWR1bGUoc3RhdGUsIGRlbGF5KTtcbiAgICB9O1xuICAgIFZpcnR1YWxBY3Rpb24ucHJvdG90eXBlLnJlcXVlc3RBc3luY0lkID0gZnVuY3Rpb24gKHNjaGVkdWxlciwgaWQsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWxheSA9IHNjaGVkdWxlci5mcmFtZSArIGRlbGF5O1xuICAgICAgICB2YXIgYWN0aW9ucyA9IHNjaGVkdWxlci5hY3Rpb25zO1xuICAgICAgICBhY3Rpb25zLnB1c2godGhpcyk7XG4gICAgICAgIGFjdGlvbnMuc29ydChWaXJ0dWFsQWN0aW9uLnNvcnRBY3Rpb25zKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBWaXJ0dWFsQWN0aW9uLnByb3RvdHlwZS5yZWN5Y2xlQXN5bmNJZCA9IGZ1bmN0aW9uIChzY2hlZHVsZXIsIGlkLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBWaXJ0dWFsQWN0aW9uLnByb3RvdHlwZS5fZXhlY3V0ZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5fZXhlY3V0ZS5jYWxsKHRoaXMsIHN0YXRlLCBkZWxheSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZpcnR1YWxBY3Rpb24uc29ydEFjdGlvbnMgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICBpZiAoYS5kZWxheSA9PT0gYi5kZWxheSkge1xuICAgICAgICAgICAgaWYgKGEuaW5kZXggPT09IGIuaW5kZXgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGEuaW5kZXggPiBiLmluZGV4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYS5kZWxheSA+IGIuZGVsYXkpIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gVmlydHVhbEFjdGlvbjtcbn0oQXN5bmNBY3Rpb24pKTtcbmV4cG9ydCB7IFZpcnR1YWxBY3Rpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZpcnR1YWxUaW1lU2NoZWR1bGVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfQW5pbWF0aW9uRnJhbWVBY3Rpb24sX0FuaW1hdGlvbkZyYW1lU2NoZWR1bGVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IEFuaW1hdGlvbkZyYW1lQWN0aW9uIH0gZnJvbSAnLi9BbmltYXRpb25GcmFtZUFjdGlvbic7XG5pbXBvcnQgeyBBbmltYXRpb25GcmFtZVNjaGVkdWxlciB9IGZyb20gJy4vQW5pbWF0aW9uRnJhbWVTY2hlZHVsZXInO1xuZXhwb3J0IHZhciBhbmltYXRpb25GcmFtZVNjaGVkdWxlciA9IC8qQF9fUFVSRV9fKi8gbmV3IEFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyKEFuaW1hdGlvbkZyYW1lQWN0aW9uKTtcbmV4cG9ydCB2YXIgYW5pbWF0aW9uRnJhbWUgPSBhbmltYXRpb25GcmFtZVNjaGVkdWxlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFuaW1hdGlvbkZyYW1lLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfQXNhcEFjdGlvbixfQXNhcFNjaGVkdWxlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBBc2FwQWN0aW9uIH0gZnJvbSAnLi9Bc2FwQWN0aW9uJztcbmltcG9ydCB7IEFzYXBTY2hlZHVsZXIgfSBmcm9tICcuL0FzYXBTY2hlZHVsZXInO1xuZXhwb3J0IHZhciBhc2FwU2NoZWR1bGVyID0gLypAX19QVVJFX18qLyBuZXcgQXNhcFNjaGVkdWxlcihBc2FwQWN0aW9uKTtcbmV4cG9ydCB2YXIgYXNhcCA9IGFzYXBTY2hlZHVsZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hc2FwLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfQXN5bmNBY3Rpb24sX0FzeW5jU2NoZWR1bGVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IEFzeW5jQWN0aW9uIH0gZnJvbSAnLi9Bc3luY0FjdGlvbic7XG5pbXBvcnQgeyBBc3luY1NjaGVkdWxlciB9IGZyb20gJy4vQXN5bmNTY2hlZHVsZXInO1xuZXhwb3J0IHZhciBhc3luY1NjaGVkdWxlciA9IC8qQF9fUFVSRV9fKi8gbmV3IEFzeW5jU2NoZWR1bGVyKEFzeW5jQWN0aW9uKTtcbmV4cG9ydCB2YXIgYXN5bmMgPSBhc3luY1NjaGVkdWxlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFzeW5jLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfUXVldWVBY3Rpb24sX1F1ZXVlU2NoZWR1bGVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IFF1ZXVlQWN0aW9uIH0gZnJvbSAnLi9RdWV1ZUFjdGlvbic7XG5pbXBvcnQgeyBRdWV1ZVNjaGVkdWxlciB9IGZyb20gJy4vUXVldWVTY2hlZHVsZXInO1xuZXhwb3J0IHZhciBxdWV1ZVNjaGVkdWxlciA9IC8qQF9fUFVSRV9fKi8gbmV3IFF1ZXVlU2NoZWR1bGVyKFF1ZXVlQWN0aW9uKTtcbmV4cG9ydCB2YXIgcXVldWUgPSBxdWV1ZVNjaGVkdWxlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXF1ZXVlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN5bWJvbEl0ZXJhdG9yKCkge1xuICAgIGlmICh0eXBlb2YgU3ltYm9sICE9PSAnZnVuY3Rpb24nIHx8ICFTeW1ib2wuaXRlcmF0b3IpIHtcbiAgICAgICAgcmV0dXJuICdAQGl0ZXJhdG9yJztcbiAgICB9XG4gICAgcmV0dXJuIFN5bWJvbC5pdGVyYXRvcjtcbn1cbmV4cG9ydCB2YXIgaXRlcmF0b3IgPSAvKkBfX1BVUkVfXyovIGdldFN5bWJvbEl0ZXJhdG9yKCk7XG5leHBvcnQgdmFyICQkaXRlcmF0b3IgPSBpdGVyYXRvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWl0ZXJhdG9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IHZhciBvYnNlcnZhYmxlID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkgeyByZXR1cm4gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wub2JzZXJ2YWJsZSB8fCAnQEBvYnNlcnZhYmxlJzsgfSkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgdmFyIHJ4U3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICA/IC8qQF9fUFVSRV9fKi8gU3ltYm9sKCdyeFN1YnNjcmliZXInKVxuICAgICAgICA6ICdAQHJ4U3Vic2NyaWJlcl8nICsgLypAX19QVVJFX18qLyBNYXRoLnJhbmRvbSgpO1xufSkoKTtcbmV4cG9ydCB2YXIgJCRyeFN1YnNjcmliZXIgPSByeFN1YnNjcmliZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yeFN1YnNjcmliZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG52YXIgQXJndW1lbnRPdXRPZlJhbmdlRXJyb3JJbXBsID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9ySW1wbCgpIHtcbiAgICAgICAgRXJyb3IuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gJ2FyZ3VtZW50IG91dCBvZiByYW5nZSc7XG4gICAgICAgIHRoaXMubmFtZSA9ICdBcmd1bWVudE91dE9mUmFuZ2VFcnJvcic7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBBcmd1bWVudE91dE9mUmFuZ2VFcnJvckltcGwucHJvdG90eXBlID0gLypAX19QVVJFX18qLyBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG4gICAgcmV0dXJuIEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9ySW1wbDtcbn0pKCk7XG5leHBvcnQgdmFyIEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yID0gQXJndW1lbnRPdXRPZlJhbmdlRXJyb3JJbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXJndW1lbnRPdXRPZlJhbmdlRXJyb3IuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG52YXIgRW1wdHlFcnJvckltcGwgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRW1wdHlFcnJvckltcGwoKSB7XG4gICAgICAgIEVycm9yLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9ICdubyBlbGVtZW50cyBpbiBzZXF1ZW5jZSc7XG4gICAgICAgIHRoaXMubmFtZSA9ICdFbXB0eUVycm9yJztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIEVtcHR5RXJyb3JJbXBsLnByb3RvdHlwZSA9IC8qQF9fUFVSRV9fKi8gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuICAgIHJldHVybiBFbXB0eUVycm9ySW1wbDtcbn0pKCk7XG5leHBvcnQgdmFyIEVtcHR5RXJyb3IgPSBFbXB0eUVycm9ySW1wbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUVtcHR5RXJyb3IuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG52YXIgbmV4dEhhbmRsZSA9IDE7XG52YXIgUkVTT0xWRUQgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7IHJldHVybiAvKkBfX1BVUkVfXyovIFByb21pc2UucmVzb2x2ZSgpOyB9KSgpO1xudmFyIGFjdGl2ZUhhbmRsZXMgPSB7fTtcbmZ1bmN0aW9uIGZpbmRBbmRDbGVhckhhbmRsZShoYW5kbGUpIHtcbiAgICBpZiAoaGFuZGxlIGluIGFjdGl2ZUhhbmRsZXMpIHtcbiAgICAgICAgZGVsZXRlIGFjdGl2ZUhhbmRsZXNbaGFuZGxlXTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydCB2YXIgSW1tZWRpYXRlID0ge1xuICAgIHNldEltbWVkaWF0ZTogZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgIHZhciBoYW5kbGUgPSBuZXh0SGFuZGxlKys7XG4gICAgICAgIGFjdGl2ZUhhbmRsZXNbaGFuZGxlXSA9IHRydWU7XG4gICAgICAgIFJFU09MVkVELnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gZmluZEFuZENsZWFySGFuZGxlKGhhbmRsZSkgJiYgY2IoKTsgfSk7XG4gICAgICAgIHJldHVybiBoYW5kbGU7XG4gICAgfSxcbiAgICBjbGVhckltbWVkaWF0ZTogZnVuY3Rpb24gKGhhbmRsZSkge1xuICAgICAgICBmaW5kQW5kQ2xlYXJIYW5kbGUoaGFuZGxlKTtcbiAgICB9LFxufTtcbmV4cG9ydCB2YXIgVGVzdFRvb2xzID0ge1xuICAgIHBlbmRpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKGFjdGl2ZUhhbmRsZXMpLmxlbmd0aDtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW1tZWRpYXRlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xudmFyIE9iamVjdFVuc3Vic2NyaWJlZEVycm9ySW1wbCA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBPYmplY3RVbnN1YnNjcmliZWRFcnJvckltcGwoKSB7XG4gICAgICAgIEVycm9yLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9ICdvYmplY3QgdW5zdWJzY3JpYmVkJztcbiAgICAgICAgdGhpcy5uYW1lID0gJ09iamVjdFVuc3Vic2NyaWJlZEVycm9yJztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIE9iamVjdFVuc3Vic2NyaWJlZEVycm9ySW1wbC5wcm90b3R5cGUgPSAvKkBfX1BVUkVfXyovIE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKTtcbiAgICByZXR1cm4gT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JJbXBsO1xufSkoKTtcbmV4cG9ydCB2YXIgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IgPSBPYmplY3RVbnN1YnNjcmliZWRFcnJvckltcGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYmplY3RVbnN1YnNjcmliZWRFcnJvci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbnZhciBUaW1lb3V0RXJyb3JJbXBsID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRpbWVvdXRFcnJvckltcGwoKSB7XG4gICAgICAgIEVycm9yLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9ICdUaW1lb3V0IGhhcyBvY2N1cnJlZCc7XG4gICAgICAgIHRoaXMubmFtZSA9ICdUaW1lb3V0RXJyb3InO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgVGltZW91dEVycm9ySW1wbC5wcm90b3R5cGUgPSAvKkBfX1BVUkVfXyovIE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKTtcbiAgICByZXR1cm4gVGltZW91dEVycm9ySW1wbDtcbn0pKCk7XG5leHBvcnQgdmFyIFRpbWVvdXRFcnJvciA9IFRpbWVvdXRFcnJvckltcGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaW1lb3V0RXJyb3IuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG52YXIgVW5zdWJzY3JpcHRpb25FcnJvckltcGwgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVW5zdWJzY3JpcHRpb25FcnJvckltcGwoZXJyb3JzKSB7XG4gICAgICAgIEVycm9yLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IGVycm9ycyA/XG4gICAgICAgICAgICBlcnJvcnMubGVuZ3RoICsgXCIgZXJyb3JzIG9jY3VycmVkIGR1cmluZyB1bnN1YnNjcmlwdGlvbjpcXG5cIiArIGVycm9ycy5tYXAoZnVuY3Rpb24gKGVyciwgaSkgeyByZXR1cm4gaSArIDEgKyBcIikgXCIgKyBlcnIudG9TdHJpbmcoKTsgfSkuam9pbignXFxuICAnKSA6ICcnO1xuICAgICAgICB0aGlzLm5hbWUgPSAnVW5zdWJzY3JpcHRpb25FcnJvcic7XG4gICAgICAgIHRoaXMuZXJyb3JzID0gZXJyb3JzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgVW5zdWJzY3JpcHRpb25FcnJvckltcGwucHJvdG90eXBlID0gLypAX19QVVJFX18qLyBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG4gICAgcmV0dXJuIFVuc3Vic2NyaXB0aW9uRXJyb3JJbXBsO1xufSkoKTtcbmV4cG9ydCB2YXIgVW5zdWJzY3JpcHRpb25FcnJvciA9IFVuc3Vic2NyaXB0aW9uRXJyb3JJbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VW5zdWJzY3JpcHRpb25FcnJvci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIGNhblJlcG9ydEVycm9yKG9ic2VydmVyKSB7XG4gICAgd2hpbGUgKG9ic2VydmVyKSB7XG4gICAgICAgIHZhciBfYSA9IG9ic2VydmVyLCBjbG9zZWRfMSA9IF9hLmNsb3NlZCwgZGVzdGluYXRpb24gPSBfYS5kZXN0aW5hdGlvbiwgaXNTdG9wcGVkID0gX2EuaXNTdG9wcGVkO1xuICAgICAgICBpZiAoY2xvc2VkXzEgfHwgaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGVzdGluYXRpb24gJiYgZGVzdGluYXRpb24gaW5zdGFuY2VvZiBTdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICBvYnNlcnZlciA9IGRlc3RpbmF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2JzZXJ2ZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FuUmVwb3J0RXJyb3IuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gaG9zdFJlcG9ydEVycm9yKGVycikge1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyB0aHJvdyBlcnI7IH0sIDApO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aG9zdFJlcG9ydEVycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5KHgpIHtcbiAgICByZXR1cm4geDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlkZW50aXR5LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IHZhciBpc0FycmF5ID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkgeyByZXR1cm4gQXJyYXkuaXNBcnJheSB8fCAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHggJiYgdHlwZW9mIHgubGVuZ3RoID09PSAnbnVtYmVyJzsgfSk7IH0pKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0FycmF5LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IHZhciBpc0FycmF5TGlrZSA9IChmdW5jdGlvbiAoeCkgeyByZXR1cm4geCAmJiB0eXBlb2YgeC5sZW5ndGggPT09ICdudW1iZXInICYmIHR5cGVvZiB4ICE9PSAnZnVuY3Rpb24nOyB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzQXJyYXlMaWtlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRGF0ZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIERhdGUgJiYgIWlzTmFOKCt2YWx1ZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0RhdGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbih4KSB7XG4gICAgcmV0dXJuIHR5cGVvZiB4ID09PSAnZnVuY3Rpb24nO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNGdW5jdGlvbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3N5bWJvbF9vYnNlcnZhYmxlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5leHBvcnQgZnVuY3Rpb24gaXNJbnRlcm9wT2JzZXJ2YWJsZShpbnB1dCkge1xuICAgIHJldHVybiBpbnB1dCAmJiB0eXBlb2YgaW5wdXRbU3ltYm9sX29ic2VydmFibGVdID09PSAnZnVuY3Rpb24nO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNJbnRlcm9wT2JzZXJ2YWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3N5bWJvbF9pdGVyYXRvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBpdGVyYXRvciBhcyBTeW1ib2xfaXRlcmF0b3IgfSBmcm9tICcuLi9zeW1ib2wvaXRlcmF0b3InO1xuZXhwb3J0IGZ1bmN0aW9uIGlzSXRlcmFibGUoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQgJiYgdHlwZW9mIGlucHV0W1N5bWJvbF9pdGVyYXRvcl0gPT09ICdmdW5jdGlvbic7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0l0ZXJhYmxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfaXNBcnJheSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi9pc0FycmF5JztcbmV4cG9ydCBmdW5jdGlvbiBpc051bWVyaWModmFsKSB7XG4gICAgcmV0dXJuICFpc0FycmF5KHZhbCkgJiYgKHZhbCAtIHBhcnNlRmxvYXQodmFsKSArIDEpID49IDA7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc051bWVyaWMuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gaXNPYmplY3QoeCkge1xuICAgIHJldHVybiB4ICE9PSBudWxsICYmIHR5cGVvZiB4ID09PSAnb2JqZWN0Jztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzT2JqZWN0LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5leHBvcnQgZnVuY3Rpb24gaXNPYnNlcnZhYmxlKG9iaikge1xuICAgIHJldHVybiAhIW9iaiAmJiAob2JqIGluc3RhbmNlb2YgT2JzZXJ2YWJsZSB8fCAodHlwZW9mIG9iai5saWZ0ID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBvYmouc3Vic2NyaWJlID09PSAnZnVuY3Rpb24nKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc09ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gaXNQcm9taXNlKHZhbHVlKSB7XG4gICAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlLnN1YnNjcmliZSAhPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdmFsdWUudGhlbiA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzUHJvbWlzZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NjaGVkdWxlcih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUuc2NoZWR1bGUgPT09ICdmdW5jdGlvbic7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1NjaGVkdWxlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBub29wKCkgeyB9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ub29wLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vdChwcmVkLCB0aGlzQXJnKSB7XG4gICAgZnVuY3Rpb24gbm90UHJlZCgpIHtcbiAgICAgICAgcmV0dXJuICEobm90UHJlZC5wcmVkLmFwcGx5KG5vdFByZWQudGhpc0FyZywgYXJndW1lbnRzKSk7XG4gICAgfVxuICAgIG5vdFByZWQucHJlZCA9IHByZWQ7XG4gICAgbm90UHJlZC50aGlzQXJnID0gdGhpc0FyZztcbiAgICByZXR1cm4gbm90UHJlZDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5vdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX2lkZW50aXR5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi9pZGVudGl0eSc7XG5leHBvcnQgZnVuY3Rpb24gcGlwZSgpIHtcbiAgICB2YXIgZm5zID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgZm5zW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiBwaXBlRnJvbUFycmF5KGZucyk7XG59XG5leHBvcnQgZnVuY3Rpb24gcGlwZUZyb21BcnJheShmbnMpIHtcbiAgICBpZiAoZm5zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gaWRlbnRpdHk7XG4gICAgfVxuICAgIGlmIChmbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBmbnNbMF07XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiBwaXBlZChpbnB1dCkge1xuICAgICAgICByZXR1cm4gZm5zLnJlZHVjZShmdW5jdGlvbiAocHJldiwgZm4pIHsgcmV0dXJuIGZuKHByZXYpOyB9LCBpbnB1dCk7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBpcGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9zdWJzY3JpYmVUb0FycmF5LF9zdWJzY3JpYmVUb1Byb21pc2UsX3N1YnNjcmliZVRvSXRlcmFibGUsX3N1YnNjcmliZVRvT2JzZXJ2YWJsZSxfaXNBcnJheUxpa2UsX2lzUHJvbWlzZSxfaXNPYmplY3QsX3N5bWJvbF9pdGVyYXRvcixfc3ltYm9sX29ic2VydmFibGUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgc3Vic2NyaWJlVG9BcnJheSB9IGZyb20gJy4vc3Vic2NyaWJlVG9BcnJheSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb1Byb21pc2UgfSBmcm9tICcuL3N1YnNjcmliZVRvUHJvbWlzZSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb0l0ZXJhYmxlIH0gZnJvbSAnLi9zdWJzY3JpYmVUb0l0ZXJhYmxlJztcbmltcG9ydCB7IHN1YnNjcmliZVRvT2JzZXJ2YWJsZSB9IGZyb20gJy4vc3Vic2NyaWJlVG9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzQXJyYXlMaWtlIH0gZnJvbSAnLi9pc0FycmF5TGlrZSc7XG5pbXBvcnQgeyBpc1Byb21pc2UgfSBmcm9tICcuL2lzUHJvbWlzZSc7XG5pbXBvcnQgeyBpc09iamVjdCB9IGZyb20gJy4vaXNPYmplY3QnO1xuaW1wb3J0IHsgaXRlcmF0b3IgYXMgU3ltYm9sX2l0ZXJhdG9yIH0gZnJvbSAnLi4vc3ltYm9sL2l0ZXJhdG9yJztcbmltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5leHBvcnQgdmFyIHN1YnNjcmliZVRvID0gZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgIGlmICghIXJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0W1N5bWJvbF9vYnNlcnZhYmxlXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlVG9PYnNlcnZhYmxlKHJlc3VsdCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzQXJyYXlMaWtlKHJlc3VsdCkpIHtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZVRvQXJyYXkocmVzdWx0KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNQcm9taXNlKHJlc3VsdCkpIHtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZVRvUHJvbWlzZShyZXN1bHQpO1xuICAgIH1cbiAgICBlbHNlIGlmICghIXJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0W1N5bWJvbF9pdGVyYXRvcl0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZVRvSXRlcmFibGUocmVzdWx0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGlzT2JqZWN0KHJlc3VsdCkgPyAnYW4gaW52YWxpZCBvYmplY3QnIDogXCInXCIgKyByZXN1bHQgKyBcIidcIjtcbiAgICAgICAgdmFyIG1zZyA9IFwiWW91IHByb3ZpZGVkIFwiICsgdmFsdWUgKyBcIiB3aGVyZSBhIHN0cmVhbSB3YXMgZXhwZWN0ZWQuXCJcbiAgICAgICAgICAgICsgJyBZb3UgY2FuIHByb3ZpZGUgYW4gT2JzZXJ2YWJsZSwgUHJvbWlzZSwgQXJyYXksIG9yIEl0ZXJhYmxlLic7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IobXNnKTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3Vic2NyaWJlVG8uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgdmFyIHN1YnNjcmliZVRvQXJyYXkgPSBmdW5jdGlvbiAoYXJyYXkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbiAmJiAhc3Vic2NyaWJlci5jbG9zZWQ7IGkrKykge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGFycmF5W2ldKTtcbiAgICAgICAgfVxuICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJzY3JpYmVUb0FycmF5LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfc3ltYm9sX2l0ZXJhdG9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGl0ZXJhdG9yIGFzIFN5bWJvbF9pdGVyYXRvciB9IGZyb20gJy4uL3N5bWJvbC9pdGVyYXRvcic7XG5leHBvcnQgdmFyIHN1YnNjcmliZVRvSXRlcmFibGUgPSBmdW5jdGlvbiAoaXRlcmFibGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmFibGVbU3ltYm9sX2l0ZXJhdG9yXSgpO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IHZvaWQgMDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaXRlbSA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXRlbS5kb25lKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGl0ZW0udmFsdWUpO1xuICAgICAgICAgICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKHRydWUpO1xuICAgICAgICBpZiAodHlwZW9mIGl0ZXJhdG9yLnJldHVybiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5hZGQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChpdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJzY3JpYmVUb0l0ZXJhYmxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfc3ltYm9sX29ic2VydmFibGUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgb2JzZXJ2YWJsZSBhcyBTeW1ib2xfb2JzZXJ2YWJsZSB9IGZyb20gJy4uL3N5bWJvbC9vYnNlcnZhYmxlJztcbmV4cG9ydCB2YXIgc3Vic2NyaWJlVG9PYnNlcnZhYmxlID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgb2JzID0gb2JqW1N5bWJvbF9vYnNlcnZhYmxlXSgpO1xuICAgICAgICBpZiAodHlwZW9mIG9icy5zdWJzY3JpYmUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb3ZpZGVkIG9iamVjdCBkb2VzIG5vdCBjb3JyZWN0bHkgaW1wbGVtZW50IFN5bWJvbC5vYnNlcnZhYmxlJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gb2JzLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgfVxuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3Vic2NyaWJlVG9PYnNlcnZhYmxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfaG9zdFJlcG9ydEVycm9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGhvc3RSZXBvcnRFcnJvciB9IGZyb20gJy4vaG9zdFJlcG9ydEVycm9yJztcbmV4cG9ydCB2YXIgc3Vic2NyaWJlVG9Qcm9taXNlID0gZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCFzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiBzdWJzY3JpYmVyLmVycm9yKGVycik7IH0pXG4gICAgICAgICAgICAudGhlbihudWxsLCBob3N0UmVwb3J0RXJyb3IpO1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlcjtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN1YnNjcmliZVRvUHJvbWlzZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX0lubmVyU3Vic2NyaWJlcixfc3Vic2NyaWJlVG8sX09ic2VydmFibGUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgSW5uZXJTdWJzY3JpYmVyIH0gZnJvbSAnLi4vSW5uZXJTdWJzY3JpYmVyJztcbmltcG9ydCB7IHN1YnNjcmliZVRvIH0gZnJvbSAnLi9zdWJzY3JpYmVUbyc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5leHBvcnQgZnVuY3Rpb24gc3Vic2NyaWJlVG9SZXN1bHQob3V0ZXJTdWJzY3JpYmVyLCByZXN1bHQsIG91dGVyVmFsdWUsIG91dGVySW5kZXgsIGlubmVyU3Vic2NyaWJlcikge1xuICAgIGlmIChpbm5lclN1YnNjcmliZXIgPT09IHZvaWQgMCkge1xuICAgICAgICBpbm5lclN1YnNjcmliZXIgPSBuZXcgSW5uZXJTdWJzY3JpYmVyKG91dGVyU3Vic2NyaWJlciwgb3V0ZXJWYWx1ZSwgb3V0ZXJJbmRleCk7XG4gICAgfVxuICAgIGlmIChpbm5lclN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBPYnNlcnZhYmxlKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQuc3Vic2NyaWJlKGlubmVyU3Vic2NyaWJlcik7XG4gICAgfVxuICAgIHJldHVybiBzdWJzY3JpYmVUbyhyZXN1bHQpKGlubmVyU3Vic2NyaWJlcik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJzY3JpYmVUb1Jlc3VsdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX1N1YnNjcmliZXIsX3N5bWJvbF9yeFN1YnNjcmliZXIsX09ic2VydmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IHJ4U3Vic2NyaWJlciBhcyByeFN1YnNjcmliZXJTeW1ib2wgfSBmcm9tICcuLi9zeW1ib2wvcnhTdWJzY3JpYmVyJztcbmltcG9ydCB7IGVtcHR5IGFzIGVtcHR5T2JzZXJ2ZXIgfSBmcm9tICcuLi9PYnNlcnZlcic7XG5leHBvcnQgZnVuY3Rpb24gdG9TdWJzY3JpYmVyKG5leHRPck9ic2VydmVyLCBlcnJvciwgY29tcGxldGUpIHtcbiAgICBpZiAobmV4dE9yT2JzZXJ2ZXIpIHtcbiAgICAgICAgaWYgKG5leHRPck9ic2VydmVyIGluc3RhbmNlb2YgU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgcmV0dXJuIG5leHRPck9ic2VydmVyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXh0T3JPYnNlcnZlcltyeFN1YnNjcmliZXJTeW1ib2xdKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV4dE9yT2JzZXJ2ZXJbcnhTdWJzY3JpYmVyU3ltYm9sXSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghbmV4dE9yT2JzZXJ2ZXIgJiYgIWVycm9yICYmICFjb21wbGV0ZSkge1xuICAgICAgICByZXR1cm4gbmV3IFN1YnNjcmliZXIoZW1wdHlPYnNlcnZlcik7XG4gICAgfVxuICAgIHJldHVybiBuZXcgU3Vic2NyaWJlcihuZXh0T3JPYnNlcnZlciwgZXJyb3IsIGNvbXBsZXRlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRvU3Vic2NyaWJlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCB7IGF1ZGl0IH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2F1ZGl0JztcbmV4cG9ydCB7IGF1ZGl0VGltZSB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9hdWRpdFRpbWUnO1xuZXhwb3J0IHsgYnVmZmVyIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2J1ZmZlcic7XG5leHBvcnQgeyBidWZmZXJDb3VudCB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9idWZmZXJDb3VudCc7XG5leHBvcnQgeyBidWZmZXJUaW1lIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2J1ZmZlclRpbWUnO1xuZXhwb3J0IHsgYnVmZmVyVG9nZ2xlIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2J1ZmZlclRvZ2dsZSc7XG5leHBvcnQgeyBidWZmZXJXaGVuIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2J1ZmZlcldoZW4nO1xuZXhwb3J0IHsgY2F0Y2hFcnJvciB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9jYXRjaEVycm9yJztcbmV4cG9ydCB7IGNvbWJpbmVBbGwgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvY29tYmluZUFsbCc7XG5leHBvcnQgeyBjb21iaW5lTGF0ZXN0IH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2NvbWJpbmVMYXRlc3QnO1xuZXhwb3J0IHsgY29uY2F0IH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2NvbmNhdCc7XG5leHBvcnQgeyBjb25jYXRBbGwgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvY29uY2F0QWxsJztcbmV4cG9ydCB7IGNvbmNhdE1hcCB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9jb25jYXRNYXAnO1xuZXhwb3J0IHsgY29uY2F0TWFwVG8gfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvY29uY2F0TWFwVG8nO1xuZXhwb3J0IHsgY291bnQgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvY291bnQnO1xuZXhwb3J0IHsgZGVib3VuY2UgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZGVib3VuY2UnO1xuZXhwb3J0IHsgZGVib3VuY2VUaW1lIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2RlYm91bmNlVGltZSc7XG5leHBvcnQgeyBkZWZhdWx0SWZFbXB0eSB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9kZWZhdWx0SWZFbXB0eSc7XG5leHBvcnQgeyBkZWxheSB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9kZWxheSc7XG5leHBvcnQgeyBkZWxheVdoZW4gfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZGVsYXlXaGVuJztcbmV4cG9ydCB7IGRlbWF0ZXJpYWxpemUgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZGVtYXRlcmlhbGl6ZSc7XG5leHBvcnQgeyBkaXN0aW5jdCB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9kaXN0aW5jdCc7XG5leHBvcnQgeyBkaXN0aW5jdFVudGlsQ2hhbmdlZCB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9kaXN0aW5jdFVudGlsQ2hhbmdlZCc7XG5leHBvcnQgeyBkaXN0aW5jdFVudGlsS2V5Q2hhbmdlZCB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9kaXN0aW5jdFVudGlsS2V5Q2hhbmdlZCc7XG5leHBvcnQgeyBlbGVtZW50QXQgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZWxlbWVudEF0JztcbmV4cG9ydCB7IGVuZFdpdGggfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZW5kV2l0aCc7XG5leHBvcnQgeyBldmVyeSB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9ldmVyeSc7XG5leHBvcnQgeyBleGhhdXN0IH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2V4aGF1c3QnO1xuZXhwb3J0IHsgZXhoYXVzdE1hcCB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9leGhhdXN0TWFwJztcbmV4cG9ydCB7IGV4cGFuZCB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9leHBhbmQnO1xuZXhwb3J0IHsgZmlsdGVyIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2ZpbHRlcic7XG5leHBvcnQgeyBmaW5hbGl6ZSB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9maW5hbGl6ZSc7XG5leHBvcnQgeyBmaW5kIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2ZpbmQnO1xuZXhwb3J0IHsgZmluZEluZGV4IH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2ZpbmRJbmRleCc7XG5leHBvcnQgeyBmaXJzdCB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9maXJzdCc7XG5leHBvcnQgeyBncm91cEJ5IH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2dyb3VwQnknO1xuZXhwb3J0IHsgaWdub3JlRWxlbWVudHMgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvaWdub3JlRWxlbWVudHMnO1xuZXhwb3J0IHsgaXNFbXB0eSB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9pc0VtcHR5JztcbmV4cG9ydCB7IGxhc3QgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvbGFzdCc7XG5leHBvcnQgeyBtYXAgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvbWFwJztcbmV4cG9ydCB7IG1hcFRvIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL21hcFRvJztcbmV4cG9ydCB7IG1hdGVyaWFsaXplIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL21hdGVyaWFsaXplJztcbmV4cG9ydCB7IG1heCB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9tYXgnO1xuZXhwb3J0IHsgbWVyZ2UgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2UnO1xuZXhwb3J0IHsgbWVyZ2VBbGwgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VBbGwnO1xuZXhwb3J0IHsgbWVyZ2VNYXAsIGZsYXRNYXAgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VNYXAnO1xuZXhwb3J0IHsgbWVyZ2VNYXBUbyB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9tZXJnZU1hcFRvJztcbmV4cG9ydCB7IG1lcmdlU2NhbiB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9tZXJnZVNjYW4nO1xuZXhwb3J0IHsgbWluIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL21pbic7XG5leHBvcnQgeyBtdWx0aWNhc3QgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvbXVsdGljYXN0JztcbmV4cG9ydCB7IG9ic2VydmVPbiB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9vYnNlcnZlT24nO1xuZXhwb3J0IHsgb25FcnJvclJlc3VtZU5leHQgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvb25FcnJvclJlc3VtZU5leHQnO1xuZXhwb3J0IHsgcGFpcndpc2UgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvcGFpcndpc2UnO1xuZXhwb3J0IHsgcGFydGl0aW9uIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3BhcnRpdGlvbic7XG5leHBvcnQgeyBwbHVjayB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9wbHVjayc7XG5leHBvcnQgeyBwdWJsaXNoIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3B1Ymxpc2gnO1xuZXhwb3J0IHsgcHVibGlzaEJlaGF2aW9yIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3B1Ymxpc2hCZWhhdmlvcic7XG5leHBvcnQgeyBwdWJsaXNoTGFzdCB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9wdWJsaXNoTGFzdCc7XG5leHBvcnQgeyBwdWJsaXNoUmVwbGF5IH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3B1Ymxpc2hSZXBsYXknO1xuZXhwb3J0IHsgcmFjZSB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9yYWNlJztcbmV4cG9ydCB7IHJlZHVjZSB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9yZWR1Y2UnO1xuZXhwb3J0IHsgcmVwZWF0IH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3JlcGVhdCc7XG5leHBvcnQgeyByZXBlYXRXaGVuIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3JlcGVhdFdoZW4nO1xuZXhwb3J0IHsgcmV0cnkgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvcmV0cnknO1xuZXhwb3J0IHsgcmV0cnlXaGVuIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3JldHJ5V2hlbic7XG5leHBvcnQgeyByZWZDb3VudCB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9yZWZDb3VudCc7XG5leHBvcnQgeyBzYW1wbGUgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvc2FtcGxlJztcbmV4cG9ydCB7IHNhbXBsZVRpbWUgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvc2FtcGxlVGltZSc7XG5leHBvcnQgeyBzY2FuIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3NjYW4nO1xuZXhwb3J0IHsgc2VxdWVuY2VFcXVhbCB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9zZXF1ZW5jZUVxdWFsJztcbmV4cG9ydCB7IHNoYXJlIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3NoYXJlJztcbmV4cG9ydCB7IHNoYXJlUmVwbGF5IH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3NoYXJlUmVwbGF5JztcbmV4cG9ydCB7IHNpbmdsZSB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9zaW5nbGUnO1xuZXhwb3J0IHsgc2tpcCB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9za2lwJztcbmV4cG9ydCB7IHNraXBMYXN0IH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3NraXBMYXN0JztcbmV4cG9ydCB7IHNraXBVbnRpbCB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9za2lwVW50aWwnO1xuZXhwb3J0IHsgc2tpcFdoaWxlIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3NraXBXaGlsZSc7XG5leHBvcnQgeyBzdGFydFdpdGggfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvc3RhcnRXaXRoJztcbmV4cG9ydCB7IHN1YnNjcmliZU9uIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3N1YnNjcmliZU9uJztcbmV4cG9ydCB7IHN3aXRjaEFsbCB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9zd2l0Y2hBbGwnO1xuZXhwb3J0IHsgc3dpdGNoTWFwIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3N3aXRjaE1hcCc7XG5leHBvcnQgeyBzd2l0Y2hNYXBUbyB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9zd2l0Y2hNYXBUbyc7XG5leHBvcnQgeyB0YWtlIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3Rha2UnO1xuZXhwb3J0IHsgdGFrZUxhc3QgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvdGFrZUxhc3QnO1xuZXhwb3J0IHsgdGFrZVVudGlsIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3Rha2VVbnRpbCc7XG5leHBvcnQgeyB0YWtlV2hpbGUgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvdGFrZVdoaWxlJztcbmV4cG9ydCB7IHRhcCB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy90YXAnO1xuZXhwb3J0IHsgdGhyb3R0bGUgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvdGhyb3R0bGUnO1xuZXhwb3J0IHsgdGhyb3R0bGVUaW1lIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3Rocm90dGxlVGltZSc7XG5leHBvcnQgeyB0aHJvd0lmRW1wdHkgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvdGhyb3dJZkVtcHR5JztcbmV4cG9ydCB7IHRpbWVJbnRlcnZhbCB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy90aW1lSW50ZXJ2YWwnO1xuZXhwb3J0IHsgdGltZW91dCB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy90aW1lb3V0JztcbmV4cG9ydCB7IHRpbWVvdXRXaXRoIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3RpbWVvdXRXaXRoJztcbmV4cG9ydCB7IHRpbWVzdGFtcCB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy90aW1lc3RhbXAnO1xuZXhwb3J0IHsgdG9BcnJheSB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy90b0FycmF5JztcbmV4cG9ydCB7IHdpbmRvdyB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy93aW5kb3cnO1xuZXhwb3J0IHsgd2luZG93Q291bnQgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvd2luZG93Q291bnQnO1xuZXhwb3J0IHsgd2luZG93VGltZSB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy93aW5kb3dUaW1lJztcbmV4cG9ydCB7IHdpbmRvd1RvZ2dsZSB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy93aW5kb3dUb2dnbGUnO1xuZXhwb3J0IHsgd2luZG93V2hlbiB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy93aW5kb3dXaGVuJztcbmV4cG9ydCB7IHdpdGhMYXRlc3RGcm9tIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3dpdGhMYXRlc3RGcm9tJztcbmV4cG9ydCB7IHppcCB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy96aXAnO1xuZXhwb3J0IHsgemlwQWxsIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3ppcEFsbCc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiIsIi8vXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc2hhbGxvd0VxdWFsKG9iakEsIG9iakIsIGNvbXBhcmUsIGNvbXBhcmVDb250ZXh0KSB7XG4gIHZhciByZXQgPSBjb21wYXJlID8gY29tcGFyZS5jYWxsKGNvbXBhcmVDb250ZXh0LCBvYmpBLCBvYmpCKSA6IHZvaWQgMDtcblxuICBpZiAocmV0ICE9PSB2b2lkIDApIHtcbiAgICByZXR1cm4gISFyZXQ7XG4gIH1cblxuICBpZiAob2JqQSA9PT0gb2JqQikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvYmpBICE9PSBcIm9iamVjdFwiIHx8ICFvYmpBIHx8IHR5cGVvZiBvYmpCICE9PSBcIm9iamVjdFwiIHx8ICFvYmpCKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIGtleXNBID0gT2JqZWN0LmtleXMob2JqQSk7XG4gIHZhciBrZXlzQiA9IE9iamVjdC5rZXlzKG9iakIpO1xuXG4gIGlmIChrZXlzQS5sZW5ndGggIT09IGtleXNCLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBiSGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmJpbmQob2JqQik7XG5cbiAgLy8gVGVzdCBmb3IgQSdzIGtleXMgZGlmZmVyZW50IGZyb20gQi5cbiAgZm9yICh2YXIgaWR4ID0gMDsgaWR4IDwga2V5c0EubGVuZ3RoOyBpZHgrKykge1xuICAgIHZhciBrZXkgPSBrZXlzQVtpZHhdO1xuXG4gICAgaWYgKCFiSGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciB2YWx1ZUEgPSBvYmpBW2tleV07XG4gICAgdmFyIHZhbHVlQiA9IG9iakJba2V5XTtcblxuICAgIHJldCA9IGNvbXBhcmUgPyBjb21wYXJlLmNhbGwoY29tcGFyZUNvbnRleHQsIHZhbHVlQSwgdmFsdWVCLCBrZXkpIDogdm9pZCAwO1xuXG4gICAgaWYgKHJldCA9PT0gZmFsc2UgfHwgKHJldCA9PT0gdm9pZCAwICYmIHZhbHVlQSAhPT0gdmFsdWVCKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcbiIsIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NyZWF0ZUJpbmRpbmcobywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBvW2syXSA9IG1ba107XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcclxuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xyXG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxyXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcclxuICAgIHJldHVybiByO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgcmVzdWx0W2tdID0gbW9kW2tdO1xyXG4gICAgcmVzdWx0LmRlZmF1bHQgPSBtb2Q7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHByaXZhdGVNYXApIHtcclxuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBnZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcHJpdmF0ZU1hcC5nZXQocmVjZWl2ZXIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgcHJpdmF0ZU1hcCwgdmFsdWUpIHtcclxuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBzZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlTWFwLnNldChyZWNlaXZlciwgdmFsdWUpO1xyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59XHJcbiIsImlmICh0eXBlb2YgT2JqZWN0LmNyZWF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAvLyBpbXBsZW1lbnRhdGlvbiBmcm9tIHN0YW5kYXJkIG5vZGUuanMgJ3V0aWwnIG1vZHVsZVxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUsIHtcbiAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBjdG9yLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xufSBlbHNlIHtcbiAgLy8gb2xkIHNjaG9vbCBzaGltIGZvciBvbGQgYnJvd3NlcnNcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgIHZhciBUZW1wQ3RvciA9IGZ1bmN0aW9uICgpIHt9XG4gICAgVGVtcEN0b3IucHJvdG90eXBlID0gc3VwZXJDdG9yLnByb3RvdHlwZVxuICAgIGN0b3IucHJvdG90eXBlID0gbmV3IFRlbXBDdG9yKClcbiAgICBjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGN0b3JcbiAgfVxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0J1ZmZlcihhcmcpIHtcbiAgcmV0dXJuIGFyZyAmJiB0eXBlb2YgYXJnID09PSAnb2JqZWN0J1xuICAgICYmIHR5cGVvZiBhcmcuY29weSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICYmIHR5cGVvZiBhcmcuZmlsbCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICYmIHR5cGVvZiBhcmcucmVhZFVJbnQ4ID09PSAnZnVuY3Rpb24nO1xufSIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG52YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIHx8XG4gIGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMob2JqKSB7XG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgIHZhciBkZXNjcmlwdG9ycyA9IHt9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgZGVzY3JpcHRvcnNba2V5c1tpXV0gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5c1tpXSk7XG4gICAgfVxuICAgIHJldHVybiBkZXNjcmlwdG9ycztcbiAgfTtcblxudmFyIGZvcm1hdFJlZ0V4cCA9IC8lW3NkaiVdL2c7XG5leHBvcnRzLmZvcm1hdCA9IGZ1bmN0aW9uKGYpIHtcbiAgaWYgKCFpc1N0cmluZyhmKSkge1xuICAgIHZhciBvYmplY3RzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIG9iamVjdHMucHVzaChpbnNwZWN0KGFyZ3VtZW50c1tpXSkpO1xuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0cy5qb2luKCcgJyk7XG4gIH1cblxuICB2YXIgaSA9IDE7XG4gIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICB2YXIgbGVuID0gYXJncy5sZW5ndGg7XG4gIHZhciBzdHIgPSBTdHJpbmcoZikucmVwbGFjZShmb3JtYXRSZWdFeHAsIGZ1bmN0aW9uKHgpIHtcbiAgICBpZiAoeCA9PT0gJyUlJykgcmV0dXJuICclJztcbiAgICBpZiAoaSA+PSBsZW4pIHJldHVybiB4O1xuICAgIHN3aXRjaCAoeCkge1xuICAgICAgY2FzZSAnJXMnOiByZXR1cm4gU3RyaW5nKGFyZ3NbaSsrXSk7XG4gICAgICBjYXNlICclZCc6IHJldHVybiBOdW1iZXIoYXJnc1tpKytdKTtcbiAgICAgIGNhc2UgJyVqJzpcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoYXJnc1tpKytdKTtcbiAgICAgICAgfSBjYXRjaCAoXykge1xuICAgICAgICAgIHJldHVybiAnW0NpcmN1bGFyXSc7XG4gICAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB4O1xuICAgIH1cbiAgfSk7XG4gIGZvciAodmFyIHggPSBhcmdzW2ldOyBpIDwgbGVuOyB4ID0gYXJnc1srK2ldKSB7XG4gICAgaWYgKGlzTnVsbCh4KSB8fCAhaXNPYmplY3QoeCkpIHtcbiAgICAgIHN0ciArPSAnICcgKyB4O1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgKz0gJyAnICsgaW5zcGVjdCh4KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0cjtcbn07XG5cblxuLy8gTWFyayB0aGF0IGEgbWV0aG9kIHNob3VsZCBub3QgYmUgdXNlZC5cbi8vIFJldHVybnMgYSBtb2RpZmllZCBmdW5jdGlvbiB3aGljaCB3YXJucyBvbmNlIGJ5IGRlZmF1bHQuXG4vLyBJZiAtLW5vLWRlcHJlY2F0aW9uIGlzIHNldCwgdGhlbiBpdCBpcyBhIG5vLW9wLlxuZXhwb3J0cy5kZXByZWNhdGUgPSBmdW5jdGlvbihmbiwgbXNnKSB7XG4gIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJvY2Vzcy5ub0RlcHJlY2F0aW9uID09PSB0cnVlKSB7XG4gICAgcmV0dXJuIGZuO1xuICB9XG5cbiAgLy8gQWxsb3cgZm9yIGRlcHJlY2F0aW5nIHRoaW5ncyBpbiB0aGUgcHJvY2VzcyBvZiBzdGFydGluZyB1cC5cbiAgaWYgKHR5cGVvZiBwcm9jZXNzID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBleHBvcnRzLmRlcHJlY2F0ZShmbiwgbXNnKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH1cblxuICB2YXIgd2FybmVkID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGRlcHJlY2F0ZWQoKSB7XG4gICAgaWYgKCF3YXJuZWQpIHtcbiAgICAgIGlmIChwcm9jZXNzLnRocm93RGVwcmVjYXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgICB9IGVsc2UgaWYgKHByb2Nlc3MudHJhY2VEZXByZWNhdGlvbikge1xuICAgICAgICBjb25zb2xlLnRyYWNlKG1zZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKG1zZyk7XG4gICAgICB9XG4gICAgICB3YXJuZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIHJldHVybiBkZXByZWNhdGVkO1xufTtcblxuXG52YXIgZGVidWdzID0ge307XG52YXIgZGVidWdFbnZpcm9uO1xuZXhwb3J0cy5kZWJ1Z2xvZyA9IGZ1bmN0aW9uKHNldCkge1xuICBpZiAoaXNVbmRlZmluZWQoZGVidWdFbnZpcm9uKSlcbiAgICBkZWJ1Z0Vudmlyb24gPSBwcm9jZXNzLmVudi5OT0RFX0RFQlVHIHx8ICcnO1xuICBzZXQgPSBzZXQudG9VcHBlckNhc2UoKTtcbiAgaWYgKCFkZWJ1Z3Nbc2V0XSkge1xuICAgIGlmIChuZXcgUmVnRXhwKCdcXFxcYicgKyBzZXQgKyAnXFxcXGInLCAnaScpLnRlc3QoZGVidWdFbnZpcm9uKSkge1xuICAgICAgdmFyIHBpZCA9IHByb2Nlc3MucGlkO1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1zZyA9IGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJyVzICVkOiAlcycsIHNldCwgcGlkLCBtc2cpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHt9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGVidWdzW3NldF07XG59O1xuXG5cbi8qKlxuICogRWNob3MgdGhlIHZhbHVlIG9mIGEgdmFsdWUuIFRyeXMgdG8gcHJpbnQgdGhlIHZhbHVlIG91dFxuICogaW4gdGhlIGJlc3Qgd2F5IHBvc3NpYmxlIGdpdmVuIHRoZSBkaWZmZXJlbnQgdHlwZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIHByaW50IG91dC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIE9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0IHRoYXQgYWx0ZXJzIHRoZSBvdXRwdXQuXG4gKi9cbi8qIGxlZ2FjeTogb2JqLCBzaG93SGlkZGVuLCBkZXB0aCwgY29sb3JzKi9cbmZ1bmN0aW9uIGluc3BlY3Qob2JqLCBvcHRzKSB7XG4gIC8vIGRlZmF1bHQgb3B0aW9uc1xuICB2YXIgY3R4ID0ge1xuICAgIHNlZW46IFtdLFxuICAgIHN0eWxpemU6IHN0eWxpemVOb0NvbG9yXG4gIH07XG4gIC8vIGxlZ2FjeS4uLlxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAzKSBjdHguZGVwdGggPSBhcmd1bWVudHNbMl07XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDQpIGN0eC5jb2xvcnMgPSBhcmd1bWVudHNbM107XG4gIGlmIChpc0Jvb2xlYW4ob3B0cykpIHtcbiAgICAvLyBsZWdhY3kuLi5cbiAgICBjdHguc2hvd0hpZGRlbiA9IG9wdHM7XG4gIH0gZWxzZSBpZiAob3B0cykge1xuICAgIC8vIGdvdCBhbiBcIm9wdGlvbnNcIiBvYmplY3RcbiAgICBleHBvcnRzLl9leHRlbmQoY3R4LCBvcHRzKTtcbiAgfVxuICAvLyBzZXQgZGVmYXVsdCBvcHRpb25zXG4gIGlmIChpc1VuZGVmaW5lZChjdHguc2hvd0hpZGRlbikpIGN0eC5zaG93SGlkZGVuID0gZmFsc2U7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguZGVwdGgpKSBjdHguZGVwdGggPSAyO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmNvbG9ycykpIGN0eC5jb2xvcnMgPSBmYWxzZTtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5jdXN0b21JbnNwZWN0KSkgY3R4LmN1c3RvbUluc3BlY3QgPSB0cnVlO1xuICBpZiAoY3R4LmNvbG9ycykgY3R4LnN0eWxpemUgPSBzdHlsaXplV2l0aENvbG9yO1xuICByZXR1cm4gZm9ybWF0VmFsdWUoY3R4LCBvYmosIGN0eC5kZXB0aCk7XG59XG5leHBvcnRzLmluc3BlY3QgPSBpbnNwZWN0O1xuXG5cbi8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQU5TSV9lc2NhcGVfY29kZSNncmFwaGljc1xuaW5zcGVjdC5jb2xvcnMgPSB7XG4gICdib2xkJyA6IFsxLCAyMl0sXG4gICdpdGFsaWMnIDogWzMsIDIzXSxcbiAgJ3VuZGVybGluZScgOiBbNCwgMjRdLFxuICAnaW52ZXJzZScgOiBbNywgMjddLFxuICAnd2hpdGUnIDogWzM3LCAzOV0sXG4gICdncmV5JyA6IFs5MCwgMzldLFxuICAnYmxhY2snIDogWzMwLCAzOV0sXG4gICdibHVlJyA6IFszNCwgMzldLFxuICAnY3lhbicgOiBbMzYsIDM5XSxcbiAgJ2dyZWVuJyA6IFszMiwgMzldLFxuICAnbWFnZW50YScgOiBbMzUsIDM5XSxcbiAgJ3JlZCcgOiBbMzEsIDM5XSxcbiAgJ3llbGxvdycgOiBbMzMsIDM5XVxufTtcblxuLy8gRG9uJ3QgdXNlICdibHVlJyBub3QgdmlzaWJsZSBvbiBjbWQuZXhlXG5pbnNwZWN0LnN0eWxlcyA9IHtcbiAgJ3NwZWNpYWwnOiAnY3lhbicsXG4gICdudW1iZXInOiAneWVsbG93JyxcbiAgJ2Jvb2xlYW4nOiAneWVsbG93JyxcbiAgJ3VuZGVmaW5lZCc6ICdncmV5JyxcbiAgJ251bGwnOiAnYm9sZCcsXG4gICdzdHJpbmcnOiAnZ3JlZW4nLFxuICAnZGF0ZSc6ICdtYWdlbnRhJyxcbiAgLy8gXCJuYW1lXCI6IGludGVudGlvbmFsbHkgbm90IHN0eWxpbmdcbiAgJ3JlZ2V4cCc6ICdyZWQnXG59O1xuXG5cbmZ1bmN0aW9uIHN0eWxpemVXaXRoQ29sb3Ioc3RyLCBzdHlsZVR5cGUpIHtcbiAgdmFyIHN0eWxlID0gaW5zcGVjdC5zdHlsZXNbc3R5bGVUeXBlXTtcblxuICBpZiAoc3R5bGUpIHtcbiAgICByZXR1cm4gJ1xcdTAwMWJbJyArIGluc3BlY3QuY29sb3JzW3N0eWxlXVswXSArICdtJyArIHN0ciArXG4gICAgICAgICAgICdcXHUwMDFiWycgKyBpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMV0gKyAnbSc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIHN0eWxpemVOb0NvbG9yKHN0ciwgc3R5bGVUeXBlKSB7XG4gIHJldHVybiBzdHI7XG59XG5cblxuZnVuY3Rpb24gYXJyYXlUb0hhc2goYXJyYXkpIHtcbiAgdmFyIGhhc2ggPSB7fTtcblxuICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uKHZhbCwgaWR4KSB7XG4gICAgaGFzaFt2YWxdID0gdHJ1ZTtcbiAgfSk7XG5cbiAgcmV0dXJuIGhhc2g7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0VmFsdWUoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzKSB7XG4gIC8vIFByb3ZpZGUgYSBob29rIGZvciB1c2VyLXNwZWNpZmllZCBpbnNwZWN0IGZ1bmN0aW9ucy5cbiAgLy8gQ2hlY2sgdGhhdCB2YWx1ZSBpcyBhbiBvYmplY3Qgd2l0aCBhbiBpbnNwZWN0IGZ1bmN0aW9uIG9uIGl0XG4gIGlmIChjdHguY3VzdG9tSW5zcGVjdCAmJlxuICAgICAgdmFsdWUgJiZcbiAgICAgIGlzRnVuY3Rpb24odmFsdWUuaW5zcGVjdCkgJiZcbiAgICAgIC8vIEZpbHRlciBvdXQgdGhlIHV0aWwgbW9kdWxlLCBpdCdzIGluc3BlY3QgZnVuY3Rpb24gaXMgc3BlY2lhbFxuICAgICAgdmFsdWUuaW5zcGVjdCAhPT0gZXhwb3J0cy5pbnNwZWN0ICYmXG4gICAgICAvLyBBbHNvIGZpbHRlciBvdXQgYW55IHByb3RvdHlwZSBvYmplY3RzIHVzaW5nIHRoZSBjaXJjdWxhciBjaGVjay5cbiAgICAgICEodmFsdWUuY29uc3RydWN0b3IgJiYgdmFsdWUuY29uc3RydWN0b3IucHJvdG90eXBlID09PSB2YWx1ZSkpIHtcbiAgICB2YXIgcmV0ID0gdmFsdWUuaW5zcGVjdChyZWN1cnNlVGltZXMsIGN0eCk7XG4gICAgaWYgKCFpc1N0cmluZyhyZXQpKSB7XG4gICAgICByZXQgPSBmb3JtYXRWYWx1ZShjdHgsIHJldCwgcmVjdXJzZVRpbWVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuXG4gIC8vIFByaW1pdGl2ZSB0eXBlcyBjYW5ub3QgaGF2ZSBwcm9wZXJ0aWVzXG4gIHZhciBwcmltaXRpdmUgPSBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSk7XG4gIGlmIChwcmltaXRpdmUpIHtcbiAgICByZXR1cm4gcHJpbWl0aXZlO1xuICB9XG5cbiAgLy8gTG9vayB1cCB0aGUga2V5cyBvZiB0aGUgb2JqZWN0LlxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlKTtcbiAgdmFyIHZpc2libGVLZXlzID0gYXJyYXlUb0hhc2goa2V5cyk7XG5cbiAgaWYgKGN0eC5zaG93SGlkZGVuKSB7XG4gICAga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKTtcbiAgfVxuXG4gIC8vIElFIGRvZXNuJ3QgbWFrZSBlcnJvciBmaWVsZHMgbm9uLWVudW1lcmFibGVcbiAgLy8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2R3dzUyc2J0KHY9dnMuOTQpLmFzcHhcbiAgaWYgKGlzRXJyb3IodmFsdWUpXG4gICAgICAmJiAoa2V5cy5pbmRleE9mKCdtZXNzYWdlJykgPj0gMCB8fCBrZXlzLmluZGV4T2YoJ2Rlc2NyaXB0aW9uJykgPj0gMCkpIHtcbiAgICByZXR1cm4gZm9ybWF0RXJyb3IodmFsdWUpO1xuICB9XG5cbiAgLy8gU29tZSB0eXBlIG9mIG9iamVjdCB3aXRob3V0IHByb3BlcnRpZXMgY2FuIGJlIHNob3J0Y3V0dGVkLlxuICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgIHZhciBuYW1lID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tGdW5jdGlvbicgKyBuYW1lICsgJ10nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpO1xuICAgIH1cbiAgICBpZiAoaXNEYXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAnZGF0ZScpO1xuICAgIH1cbiAgICBpZiAoaXNFcnJvcih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGJhc2UgPSAnJywgYXJyYXkgPSBmYWxzZSwgYnJhY2VzID0gWyd7JywgJ30nXTtcblxuICAvLyBNYWtlIEFycmF5IHNheSB0aGF0IHRoZXkgYXJlIEFycmF5XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGFycmF5ID0gdHJ1ZTtcbiAgICBicmFjZXMgPSBbJ1snLCAnXSddO1xuICB9XG5cbiAgLy8gTWFrZSBmdW5jdGlvbnMgc2F5IHRoYXQgdGhleSBhcmUgZnVuY3Rpb25zXG4gIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgIHZhciBuID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgYmFzZSA9ICcgW0Z1bmN0aW9uJyArIG4gKyAnXSc7XG4gIH1cblxuICAvLyBNYWtlIFJlZ0V4cHMgc2F5IHRoYXQgdGhleSBhcmUgUmVnRXhwc1xuICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGRhdGVzIHdpdGggcHJvcGVydGllcyBmaXJzdCBzYXkgdGhlIGRhdGVcbiAgaWYgKGlzRGF0ZSh2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgRGF0ZS5wcm90b3R5cGUudG9VVENTdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGVycm9yIHdpdGggbWVzc2FnZSBmaXJzdCBzYXkgdGhlIGVycm9yXG4gIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gIH1cblxuICBpZiAoa2V5cy5sZW5ndGggPT09IDAgJiYgKCFhcnJheSB8fCB2YWx1ZS5sZW5ndGggPT0gMCkpIHtcbiAgICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArIGJyYWNlc1sxXTtcbiAgfVxuXG4gIGlmIChyZWN1cnNlVGltZXMgPCAwKSB7XG4gICAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCdbT2JqZWN0XScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG5cbiAgY3R4LnNlZW4ucHVzaCh2YWx1ZSk7XG5cbiAgdmFyIG91dHB1dDtcbiAgaWYgKGFycmF5KSB7XG4gICAgb3V0cHV0ID0gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cyk7XG4gIH0gZWxzZSB7XG4gICAgb3V0cHV0ID0ga2V5cy5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSk7XG4gICAgfSk7XG4gIH1cblxuICBjdHguc2Vlbi5wb3AoKTtcblxuICByZXR1cm4gcmVkdWNlVG9TaW5nbGVTdHJpbmcob3V0cHV0LCBiYXNlLCBicmFjZXMpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKSB7XG4gIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCd1bmRlZmluZWQnLCAndW5kZWZpbmVkJyk7XG4gIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICB2YXIgc2ltcGxlID0gJ1xcJycgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkucmVwbGFjZSgvXlwifFwiJC9nLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJykgKyAnXFwnJztcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoc2ltcGxlLCAnc3RyaW5nJyk7XG4gIH1cbiAgaWYgKGlzTnVtYmVyKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ251bWJlcicpO1xuICBpZiAoaXNCb29sZWFuKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ2Jvb2xlYW4nKTtcbiAgLy8gRm9yIHNvbWUgcmVhc29uIHR5cGVvZiBudWxsIGlzIFwib2JqZWN0XCIsIHNvIHNwZWNpYWwgY2FzZSBoZXJlLlxuICBpZiAoaXNOdWxsKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJ251bGwnLCAnbnVsbCcpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdEVycm9yKHZhbHVlKSB7XG4gIHJldHVybiAnWycgKyBFcnJvci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgKyAnXSc7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cykge1xuICB2YXIgb3V0cHV0ID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsID0gdmFsdWUubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KHZhbHVlLCBTdHJpbmcoaSkpKSB7XG4gICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLFxuICAgICAgICAgIFN0cmluZyhpKSwgdHJ1ZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRwdXQucHVzaCgnJyk7XG4gICAgfVxuICB9XG4gIGtleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoIWtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsXG4gICAgICAgICAga2V5LCB0cnVlKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KSB7XG4gIHZhciBuYW1lLCBzdHIsIGRlc2M7XG4gIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHZhbHVlLCBrZXkpIHx8IHsgdmFsdWU6IHZhbHVlW2tleV0gfTtcbiAgaWYgKGRlc2MuZ2V0KSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlci9TZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW1NldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuICBpZiAoIWhhc093blByb3BlcnR5KHZpc2libGVLZXlzLCBrZXkpKSB7XG4gICAgbmFtZSA9ICdbJyArIGtleSArICddJztcbiAgfVxuICBpZiAoIXN0cikge1xuICAgIGlmIChjdHguc2Vlbi5pbmRleE9mKGRlc2MudmFsdWUpIDwgMCkge1xuICAgICAgaWYgKGlzTnVsbChyZWN1cnNlVGltZXMpKSB7XG4gICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIGRlc2MudmFsdWUsIHJlY3Vyc2VUaW1lcyAtIDEpO1xuICAgICAgfVxuICAgICAgaWYgKHN0ci5pbmRleE9mKCdcXG4nKSA+IC0xKSB7XG4gICAgICAgIGlmIChhcnJheSkge1xuICAgICAgICAgIHN0ciA9IHN0ci5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAnICAnICsgbGluZTtcbiAgICAgICAgICB9KS5qb2luKCdcXG4nKS5zdWJzdHIoMik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RyID0gJ1xcbicgKyBzdHIuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyAgICcgKyBsaW5lO1xuICAgICAgICAgIH0pLmpvaW4oJ1xcbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbQ2lyY3VsYXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzVW5kZWZpbmVkKG5hbWUpKSB7XG4gICAgaWYgKGFycmF5ICYmIGtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIG5hbWUgPSBKU09OLnN0cmluZ2lmeSgnJyArIGtleSk7XG4gICAgaWYgKG5hbWUubWF0Y2goL15cIihbYS16QS1aX11bYS16QS1aXzAtOV0qKVwiJC8pKSB7XG4gICAgICBuYW1lID0gbmFtZS5zdWJzdHIoMSwgbmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnbmFtZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKVxuICAgICAgICAgICAgICAgICAucmVwbGFjZSgvKF5cInxcIiQpL2csIFwiJ1wiKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnc3RyaW5nJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5hbWUgKyAnOiAnICsgc3RyO1xufVxuXG5cbmZ1bmN0aW9uIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKSB7XG4gIHZhciBudW1MaW5lc0VzdCA9IDA7XG4gIHZhciBsZW5ndGggPSBvdXRwdXQucmVkdWNlKGZ1bmN0aW9uKHByZXYsIGN1cikge1xuICAgIG51bUxpbmVzRXN0Kys7XG4gICAgaWYgKGN1ci5pbmRleE9mKCdcXG4nKSA+PSAwKSBudW1MaW5lc0VzdCsrO1xuICAgIHJldHVybiBwcmV2ICsgY3VyLnJlcGxhY2UoL1xcdTAwMWJcXFtcXGRcXGQ/bS9nLCAnJykubGVuZ3RoICsgMTtcbiAgfSwgMCk7XG5cbiAgaWYgKGxlbmd0aCA+IDYwKSB7XG4gICAgcmV0dXJuIGJyYWNlc1swXSArXG4gICAgICAgICAgIChiYXNlID09PSAnJyA/ICcnIDogYmFzZSArICdcXG4gJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBvdXRwdXQuam9pbignLFxcbiAgJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBicmFjZXNbMV07XG4gIH1cblxuICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArICcgJyArIG91dHB1dC5qb2luKCcsICcpICsgJyAnICsgYnJhY2VzWzFdO1xufVxuXG5cbi8vIE5PVEU6IFRoZXNlIHR5cGUgY2hlY2tpbmcgZnVuY3Rpb25zIGludGVudGlvbmFsbHkgZG9uJ3QgdXNlIGBpbnN0YW5jZW9mYFxuLy8gYmVjYXVzZSBpdCBpcyBmcmFnaWxlIGFuZCBjYW4gYmUgZWFzaWx5IGZha2VkIHdpdGggYE9iamVjdC5jcmVhdGUoKWAuXG5mdW5jdGlvbiBpc0FycmF5KGFyKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGFyKTtcbn1cbmV4cG9ydHMuaXNBcnJheSA9IGlzQXJyYXk7XG5cbmZ1bmN0aW9uIGlzQm9vbGVhbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJztcbn1cbmV4cG9ydHMuaXNCb29sZWFuID0gaXNCb29sZWFuO1xuXG5mdW5jdGlvbiBpc051bGwoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGw7XG59XG5leHBvcnRzLmlzTnVsbCA9IGlzTnVsbDtcblxuZnVuY3Rpb24gaXNOdWxsT3JVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNOdWxsT3JVbmRlZmluZWQgPSBpc051bGxPclVuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cbmV4cG9ydHMuaXNOdW1iZXIgPSBpc051bWJlcjtcblxuZnVuY3Rpb24gaXNTdHJpbmcoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3RyaW5nJztcbn1cbmV4cG9ydHMuaXNTdHJpbmcgPSBpc1N0cmluZztcblxuZnVuY3Rpb24gaXNTeW1ib2woYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3ltYm9sJztcbn1cbmV4cG9ydHMuaXNTeW1ib2wgPSBpc1N5bWJvbDtcblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cbmV4cG9ydHMuaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNSZWdFeHAocmUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHJlKSAmJiBvYmplY3RUb1N0cmluZyhyZSkgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufVxuZXhwb3J0cy5pc1JlZ0V4cCA9IGlzUmVnRXhwO1xuXG5mdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNPYmplY3QgPSBpc09iamVjdDtcblxuZnVuY3Rpb24gaXNEYXRlKGQpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KGQpICYmIG9iamVjdFRvU3RyaW5nKGQpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5leHBvcnRzLmlzRGF0ZSA9IGlzRGF0ZTtcblxuZnVuY3Rpb24gaXNFcnJvcihlKSB7XG4gIHJldHVybiBpc09iamVjdChlKSAmJlxuICAgICAgKG9iamVjdFRvU3RyaW5nKGUpID09PSAnW29iamVjdCBFcnJvcl0nIHx8IGUgaW5zdGFuY2VvZiBFcnJvcik7XG59XG5leHBvcnRzLmlzRXJyb3IgPSBpc0Vycm9yO1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cbmV4cG9ydHMuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG5cbmZ1bmN0aW9uIGlzUHJpbWl0aXZlKGFyZykge1xuICByZXR1cm4gYXJnID09PSBudWxsIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnYm9vbGVhbicgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdudW1iZXInIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnc3RyaW5nJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCcgfHwgIC8vIEVTNiBzeW1ib2xcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICd1bmRlZmluZWQnO1xufVxuZXhwb3J0cy5pc1ByaW1pdGl2ZSA9IGlzUHJpbWl0aXZlO1xuXG5leHBvcnRzLmlzQnVmZmVyID0gcmVxdWlyZSgnLi9zdXBwb3J0L2lzQnVmZmVyJyk7XG5cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKG8pIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKTtcbn1cblxuXG5mdW5jdGlvbiBwYWQobikge1xuICByZXR1cm4gbiA8IDEwID8gJzAnICsgbi50b1N0cmluZygxMCkgOiBuLnRvU3RyaW5nKDEwKTtcbn1cblxuXG52YXIgbW9udGhzID0gWydKYW4nLCAnRmViJywgJ01hcicsICdBcHInLCAnTWF5JywgJ0p1bicsICdKdWwnLCAnQXVnJywgJ1NlcCcsXG4gICAgICAgICAgICAgICdPY3QnLCAnTm92JywgJ0RlYyddO1xuXG4vLyAyNiBGZWIgMTY6MTk6MzRcbmZ1bmN0aW9uIHRpbWVzdGFtcCgpIHtcbiAgdmFyIGQgPSBuZXcgRGF0ZSgpO1xuICB2YXIgdGltZSA9IFtwYWQoZC5nZXRIb3VycygpKSxcbiAgICAgICAgICAgICAgcGFkKGQuZ2V0TWludXRlcygpKSxcbiAgICAgICAgICAgICAgcGFkKGQuZ2V0U2Vjb25kcygpKV0uam9pbignOicpO1xuICByZXR1cm4gW2QuZ2V0RGF0ZSgpLCBtb250aHNbZC5nZXRNb250aCgpXSwgdGltZV0uam9pbignICcpO1xufVxuXG5cbi8vIGxvZyBpcyBqdXN0IGEgdGhpbiB3cmFwcGVyIHRvIGNvbnNvbGUubG9nIHRoYXQgcHJlcGVuZHMgYSB0aW1lc3RhbXBcbmV4cG9ydHMubG9nID0gZnVuY3Rpb24oKSB7XG4gIGNvbnNvbGUubG9nKCclcyAtICVzJywgdGltZXN0YW1wKCksIGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cykpO1xufTtcblxuXG4vKipcbiAqIEluaGVyaXQgdGhlIHByb3RvdHlwZSBtZXRob2RzIGZyb20gb25lIGNvbnN0cnVjdG9yIGludG8gYW5vdGhlci5cbiAqXG4gKiBUaGUgRnVuY3Rpb24ucHJvdG90eXBlLmluaGVyaXRzIGZyb20gbGFuZy5qcyByZXdyaXR0ZW4gYXMgYSBzdGFuZGFsb25lXG4gKiBmdW5jdGlvbiAobm90IG9uIEZ1bmN0aW9uLnByb3RvdHlwZSkuIE5PVEU6IElmIHRoaXMgZmlsZSBpcyB0byBiZSBsb2FkZWRcbiAqIGR1cmluZyBib290c3RyYXBwaW5nIHRoaXMgZnVuY3Rpb24gbmVlZHMgdG8gYmUgcmV3cml0dGVuIHVzaW5nIHNvbWUgbmF0aXZlXG4gKiBmdW5jdGlvbnMgYXMgcHJvdG90eXBlIHNldHVwIHVzaW5nIG5vcm1hbCBKYXZhU2NyaXB0IGRvZXMgbm90IHdvcmsgYXNcbiAqIGV4cGVjdGVkIGR1cmluZyBib290c3RyYXBwaW5nIChzZWUgbWlycm9yLmpzIGluIHIxMTQ5MDMpLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGN0b3IgQ29uc3RydWN0b3IgZnVuY3Rpb24gd2hpY2ggbmVlZHMgdG8gaW5oZXJpdCB0aGVcbiAqICAgICBwcm90b3R5cGUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdXBlckN0b3IgQ29uc3RydWN0b3IgZnVuY3Rpb24gdG8gaW5oZXJpdCBwcm90b3R5cGUgZnJvbS5cbiAqL1xuZXhwb3J0cy5pbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG5cbmV4cG9ydHMuX2V4dGVuZCA9IGZ1bmN0aW9uKG9yaWdpbiwgYWRkKSB7XG4gIC8vIERvbid0IGRvIGFueXRoaW5nIGlmIGFkZCBpc24ndCBhbiBvYmplY3RcbiAgaWYgKCFhZGQgfHwgIWlzT2JqZWN0KGFkZCkpIHJldHVybiBvcmlnaW47XG5cbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhZGQpO1xuICB2YXIgaSA9IGtleXMubGVuZ3RoO1xuICB3aGlsZSAoaS0tKSB7XG4gICAgb3JpZ2luW2tleXNbaV1dID0gYWRkW2tleXNbaV1dO1xuICB9XG4gIHJldHVybiBvcmlnaW47XG59O1xuXG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIHByb3ApIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xufVxuXG52YXIga0N1c3RvbVByb21pc2lmaWVkU3ltYm9sID0gdHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgPyBTeW1ib2woJ3V0aWwucHJvbWlzaWZ5LmN1c3RvbScpIDogdW5kZWZpbmVkO1xuXG5leHBvcnRzLnByb21pc2lmeSA9IGZ1bmN0aW9uIHByb21pc2lmeShvcmlnaW5hbCkge1xuICBpZiAodHlwZW9mIG9yaWdpbmFsICE9PSAnZnVuY3Rpb24nKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcIm9yaWdpbmFsXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uJyk7XG5cbiAgaWYgKGtDdXN0b21Qcm9taXNpZmllZFN5bWJvbCAmJiBvcmlnaW5hbFtrQ3VzdG9tUHJvbWlzaWZpZWRTeW1ib2xdKSB7XG4gICAgdmFyIGZuID0gb3JpZ2luYWxba0N1c3RvbVByb21pc2lmaWVkU3ltYm9sXTtcbiAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJ1dGlsLnByb21pc2lmeS5jdXN0b21cIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24nKTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCBrQ3VzdG9tUHJvbWlzaWZpZWRTeW1ib2wsIHtcbiAgICAgIHZhbHVlOiBmbiwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSwgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIGZuO1xuICB9XG5cbiAgZnVuY3Rpb24gZm4oKSB7XG4gICAgdmFyIHByb21pc2VSZXNvbHZlLCBwcm9taXNlUmVqZWN0O1xuICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgcHJvbWlzZVJlc29sdmUgPSByZXNvbHZlO1xuICAgICAgcHJvbWlzZVJlamVjdCA9IHJlamVjdDtcbiAgICB9KTtcblxuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3MucHVzaChhcmd1bWVudHNbaV0pO1xuICAgIH1cbiAgICBhcmdzLnB1c2goZnVuY3Rpb24gKGVyciwgdmFsdWUpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcHJvbWlzZVJlamVjdChlcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvbWlzZVJlc29sdmUodmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdHJ5IHtcbiAgICAgIG9yaWdpbmFsLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcHJvbWlzZVJlamVjdChlcnIpO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGZuLCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob3JpZ2luYWwpKTtcblxuICBpZiAoa0N1c3RvbVByb21pc2lmaWVkU3ltYm9sKSBPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sIGtDdXN0b21Qcm9taXNpZmllZFN5bWJvbCwge1xuICAgIHZhbHVlOiBmbiwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSwgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoXG4gICAgZm4sXG4gICAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvcmlnaW5hbClcbiAgKTtcbn1cblxuZXhwb3J0cy5wcm9taXNpZnkuY3VzdG9tID0ga0N1c3RvbVByb21pc2lmaWVkU3ltYm9sXG5cbmZ1bmN0aW9uIGNhbGxiYWNraWZ5T25SZWplY3RlZChyZWFzb24sIGNiKSB7XG4gIC8vIGAhcmVhc29uYCBndWFyZCBpbnNwaXJlZCBieSBibHVlYmlyZCAoUmVmOiBodHRwczovL2dvby5nbC90NUlTNk0pLlxuICAvLyBCZWNhdXNlIGBudWxsYCBpcyBhIHNwZWNpYWwgZXJyb3IgdmFsdWUgaW4gY2FsbGJhY2tzIHdoaWNoIG1lYW5zIFwibm8gZXJyb3JcbiAgLy8gb2NjdXJyZWRcIiwgd2UgZXJyb3Itd3JhcCBzbyB0aGUgY2FsbGJhY2sgY29uc3VtZXIgY2FuIGRpc3Rpbmd1aXNoIGJldHdlZW5cbiAgLy8gXCJ0aGUgcHJvbWlzZSByZWplY3RlZCB3aXRoIG51bGxcIiBvciBcInRoZSBwcm9taXNlIGZ1bGZpbGxlZCB3aXRoIHVuZGVmaW5lZFwiLlxuICBpZiAoIXJlYXNvbikge1xuICAgIHZhciBuZXdSZWFzb24gPSBuZXcgRXJyb3IoJ1Byb21pc2Ugd2FzIHJlamVjdGVkIHdpdGggYSBmYWxzeSB2YWx1ZScpO1xuICAgIG5ld1JlYXNvbi5yZWFzb24gPSByZWFzb247XG4gICAgcmVhc29uID0gbmV3UmVhc29uO1xuICB9XG4gIHJldHVybiBjYihyZWFzb24pO1xufVxuXG5mdW5jdGlvbiBjYWxsYmFja2lmeShvcmlnaW5hbCkge1xuICBpZiAodHlwZW9mIG9yaWdpbmFsICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwib3JpZ2luYWxcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24nKTtcbiAgfVxuXG4gIC8vIFdlIERPIE5PVCByZXR1cm4gdGhlIHByb21pc2UgYXMgaXQgZ2l2ZXMgdGhlIHVzZXIgYSBmYWxzZSBzZW5zZSB0aGF0XG4gIC8vIHRoZSBwcm9taXNlIGlzIGFjdHVhbGx5IHNvbWVob3cgcmVsYXRlZCB0byB0aGUgY2FsbGJhY2sncyBleGVjdXRpb25cbiAgLy8gYW5kIHRoYXQgdGhlIGNhbGxiYWNrIHRocm93aW5nIHdpbGwgcmVqZWN0IHRoZSBwcm9taXNlLlxuICBmdW5jdGlvbiBjYWxsYmFja2lmaWVkKCkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3MucHVzaChhcmd1bWVudHNbaV0pO1xuICAgIH1cblxuICAgIHZhciBtYXliZUNiID0gYXJncy5wb3AoKTtcbiAgICBpZiAodHlwZW9mIG1heWJlQ2IgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBsYXN0IGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbicpO1xuICAgIH1cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGNiID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbWF5YmVDYi5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuICAgIH07XG4gICAgLy8gSW4gdHJ1ZSBub2RlIHN0eWxlIHdlIHByb2Nlc3MgdGhlIGNhbGxiYWNrIG9uIGBuZXh0VGlja2Agd2l0aCBhbGwgdGhlXG4gICAgLy8gaW1wbGljYXRpb25zIChzdGFjaywgYHVuY2F1Z2h0RXhjZXB0aW9uYCwgYGFzeW5jX2hvb2tzYClcbiAgICBvcmlnaW5hbC5hcHBseSh0aGlzLCBhcmdzKVxuICAgICAgLnRoZW4oZnVuY3Rpb24ocmV0KSB7IHByb2Nlc3MubmV4dFRpY2soY2IsIG51bGwsIHJldCkgfSxcbiAgICAgICAgICAgIGZ1bmN0aW9uKHJlaikgeyBwcm9jZXNzLm5leHRUaWNrKGNhbGxiYWNraWZ5T25SZWplY3RlZCwgcmVqLCBjYikgfSk7XG4gIH1cblxuICBPYmplY3Quc2V0UHJvdG90eXBlT2YoY2FsbGJhY2tpZmllZCwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG9yaWdpbmFsKSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNhbGxiYWNraWZpZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMob3JpZ2luYWwpKTtcbiAgcmV0dXJuIGNhbGxiYWNraWZpZWQ7XG59XG5leHBvcnRzLmNhbGxiYWNraWZ5ID0gY2FsbGJhY2tpZnk7XG4iXSwic291cmNlUm9vdCI6IiJ9