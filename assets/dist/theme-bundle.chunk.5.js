(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[5],{

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/client/client.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/client/client.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _objectAssign = _interopRequireDefault(__webpack_require__(/*! object-assign */ "./node_modules/object-assign/index.js"));

var _offsitePaymentInitializer = _interopRequireDefault(__webpack_require__(/*! ../payment/offsite-payment-initializer */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/offsite-payment-initializer.js"));

var _paymentSubmitter = _interopRequireDefault(__webpack_require__(/*! ../payment/payment-submitter */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/payment-submitter.js"));

var _clientTokenGenerator = _interopRequireDefault(__webpack_require__(/*! ../payment/client-token-generator */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/client-token-generator.js"));

var _storeRequestSender = _interopRequireDefault(__webpack_require__(/*! ../store/store-request-sender */ "./node_modules/@bigcommerce/bigpay-client/lib/store/store-request-sender.js"));

var _defaultConfig = _interopRequireDefault(__webpack_require__(/*! ./default-config */ "./node_modules/@bigcommerce/bigpay-client/lib/client/default-config.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var Client = /*#__PURE__*/function () {
  _createClass(Client, null, [{
    key: "create",

    /**
     * @param {Object} config
     * @returns {Client}
     */
    value: function create(config) {
      var clientConfig = (0, _objectAssign.default)({}, _defaultConfig.default, config);

      var offsitePaymentInitializer = _offsitePaymentInitializer.default.create(clientConfig);

      var paymentSubmitter = _paymentSubmitter.default.create(clientConfig);

      var clientTokenGenerator = _clientTokenGenerator.default.create(clientConfig);

      var storeRequestSender = _storeRequestSender.default.create(clientConfig);

      return new Client(clientConfig, paymentSubmitter, offsitePaymentInitializer, clientTokenGenerator, storeRequestSender);
    }
    /**
     * @param {Object} config
     * @param {PaymentSubmitter} paymentSubmitter
     * @param {OffsitePaymentInitializer} offsitePaymentInitializer
     * @param {ClientTokenGenerator} clientTokenGenerator
     * @param {StoreRequestSender} storeRequestSender
     */

  }]);

  function Client(config, paymentSubmitter, offsitePaymentInitializer, clientTokenGenerator, storeRequestSender) {
    _classCallCheck(this, Client);

    /**
     * @private
     * @type {Object}
     */
    this.config = config;
    /**
     * @private
     * @type {PaymentSubmitter}
     */

    this.paymentSubmitter = paymentSubmitter;
    /**
     * @private
     * @type {OffsitePaymentInitializer}
     */

    this.offsitePaymentInitializer = offsitePaymentInitializer;
    /**
     * @private
     * @type {ClientTokenGenerator}
     */

    this.clientTokenGenerator = clientTokenGenerator;
    /**
     * @private
     * @type {StoreRequestSender}
     */

    this.storeRequestSender = storeRequestSender;
  }
  /**
   * @param {string} host
   * @returns {void}
   */


  _createClass(Client, [{
    key: "setHost",
    value: function setHost(host) {
      this.config.host = host;
    }
    /**
     * @param {PaymentRequestData} data
     * @param {Function} [callback]
     * @param {string} target
     * @returns {void}
     */

  }, {
    key: "initializeOffsitePayment",
    value: function initializeOffsitePayment(data, callback, target) {
      this.offsitePaymentInitializer.initializeOffsitePayment(data, callback, target);
    }
    /**
     * @param {PaymentRequestData} data
     * @param {Function} [callback]
     * @returns {void}
     */

  }, {
    key: "submitPayment",
    value: function submitPayment(data, callback) {
      this.paymentSubmitter.submitPayment(data, callback);
    }
    /**
     * @param {PaymentRequestData} data
     * @param {Function} [callback]
     * @returns {void}
     */

  }, {
    key: "generateClientToken",
    value: function generateClientToken(data, callback) {
      this.clientTokenGenerator.generateClientToken(data, callback);
    }
    /**
     * @param {Object} data
     * @param {string} data.storeId
     * @param {string} data.customerId
     * @param {string} data.currencyCode
     * @param {Function} [callback]
     * @return {void}
     */

  }, {
    key: "loadInstruments",
    value: function loadInstruments(data, callback) {
      this.storeRequestSender.loadInstruments(data, callback);
    }
    /**
     * @param {Object} data
     * @param {string} data.storeId
     * @param {string} data.customerId
     * @param {string} data.currencyCode
     * @param {AddressData} data.shippingAddress
     * @param {Function} [callback]
     * @return {void}
     */

  }, {
    key: "loadInstrumentsWithAddress",
    value: function loadInstrumentsWithAddress(data, callback) {
      this.storeRequestSender.loadInstrumentsWithAddress(data, callback);
    }
    /**
     * @param {Object} data
     * @param {string} data.storeId
     * @param {string} data.customerId
     * @param {string} data.instrumentId
     * @param {string} data.currencyCode
     * @param {Function} [callback]
     * @return {void}
     */

  }, {
    key: "deleteShopperInstrument",
    value: function deleteShopperInstrument(data, callback) {
      this.storeRequestSender.deleteShopperInstrument(data, callback);
    }
  }]);

  return Client;
}();

exports.default = Client;
//# sourceMappingURL=client.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/client/default-config.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/client/default-config.js ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var DEFAULT_CONFIG = {
  host: ''
};
var _default = DEFAULT_CONFIG;
exports.default = _default;
//# sourceMappingURL=default-config.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/content-types.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/content-types.js ***!
  \******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.APPLICATION_JSON = void 0;
var APPLICATION_JSON = 'application/json';
exports.APPLICATION_JSON = APPLICATION_JSON;
//# sourceMappingURL=content-types.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/default-options.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/default-options.js ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _contentTypes = __webpack_require__(/*! ./content-types */ "./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/content-types.js");

var _methodTypes = __webpack_require__(/*! ./method-types */ "./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/method-types.js");

var DEFAULT_OPTIONS = {
  headers: {
    Accept: _contentTypes.APPLICATION_JSON,
    'Content-Type': _contentTypes.APPLICATION_JSON
  },
  method: _methodTypes.GET
};
var _default = DEFAULT_OPTIONS;
exports.default = _default;
//# sourceMappingURL=default-options.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/method-types.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/method-types.js ***!
  \*****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.DELETE = exports.POST = exports.GET = void 0;
var GET = 'GET';
exports.GET = GET;
var POST = 'POST';
exports.POST = POST;
var DELETE = 'DELETE';
exports.DELETE = DELETE;
//# sourceMappingURL=method-types.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/payload-transformer.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/payload-transformer.js ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _objectAssign2 = _interopRequireDefault(__webpack_require__(/*! object-assign */ "./node_modules/object-assign/index.js"));

var _contentTypes = __webpack_require__(/*! ./content-types */ "./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/content-types.js");

var _utils = __webpack_require__(/*! ../utils */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/index.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var PayloadTransformer = /*#__PURE__*/function () {
  function PayloadTransformer() {
    _classCallCheck(this, PayloadTransformer);
  }

  _createClass(PayloadTransformer, [{
    key: "toRequest",

    /**
     * @param {Object} data
     * @param {string} [contentType = APPLICATION_JSON]
     * @returns {Object}
     */
    value: function toRequest(data) {
      var contentType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _contentTypes.APPLICATION_JSON;

      if (data && (0, _utils.includes)(contentType, _contentTypes.APPLICATION_JSON)) {
        return JSON.stringify(data);
      }

      return data;
    }
    /**
     * @param {XMLHttpRequest} xhr
     * @returns {Object}
     * @property {Object} data
     * @property {number} status
     * @property {string} statusText
     */

  }, {
    key: "fromResponse",
    value: function fromResponse(xhr) {
      var headers = this.parseResponseHeaders(xhr.getAllResponseHeaders());
      var contentType = xhr.getResponseHeader('Content-Type');
      var status = xhr.status,
          statusText = xhr.statusText;
      var data = 'response' in xhr ? xhr.response : xhr.responseText;

      if (data && (0, _utils.includes)(contentType, _contentTypes.APPLICATION_JSON)) {
        data = JSON.parse(data);
      }

      return {
        data: data,
        headers: headers,
        status: status,
        statusText: statusText
      };
    }
    /**
     * @private
     * @param {string} rawHeaders
     * @returns {Object}
     */

  }, {
    key: "parseResponseHeaders",
    value: function parseResponseHeaders(rawHeaders) {
      var lines = rawHeaders ? rawHeaders.replace(/\r?\n[\t ]+/g, ' ').split(/\r?\n/) : [];
      return lines.reduce(function (headers, line) {
        var parts = line.split(':');
        var key = (parts.shift() || '').trim();

        if (!key) {
          return headers;
        }

        return (0, _objectAssign2.default)({}, headers, _defineProperty({}, key.toLowerCase(), parts.join(':').trim()));
      }, {});
    }
  }], [{
    key: "create",

    /**
     * @returns {PayloadTransformer}
     */
    value: function create() {
      return new PayloadTransformer();
    }
  }]);

  return PayloadTransformer;
}();

exports.default = PayloadTransformer;
//# sourceMappingURL=payload-transformer.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/request-factory.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/request-factory.js ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var RequestFactory = /*#__PURE__*/function () {
  function RequestFactory() {
    _classCallCheck(this, RequestFactory);
  }

  _createClass(RequestFactory, [{
    key: "createRequest",

    /**
     * @param {string} url
     * @param {Object} options
     * @param {Function} [callback]
     * @returns {XMLHttpRequest}
     */
    value: function createRequest(url, options, callback) {
      var xhr = new XMLHttpRequest();

      xhr.onerror = function () {
        if (callback) {
          callback(new Error(xhr.statusText));
        }
      };

      xhr.onload = function () {
        if (callback) {
          callback();
        }
      };

      xhr.open(options.method, url, true);
      this.setOptions(xhr, options);
      return xhr;
    }
    /**
     * @private
     * @param {XMLHttpRequest} xhr
     * @param {Object} headers
     * @returns {void}
     */

  }, {
    key: "setHeaders",
    value: function setHeaders(xhr, headers) {
      var headerKeys = Object.keys(headers);
      headerKeys.forEach(function (key) {
        var value = headers[key];
        xhr.setRequestHeader(key, value);
      });
    }
    /**
     * @private
     * @param {XMLHttpRequest} xhr
     * @param {Object} options
     * @returns {void}
     */

  }, {
    key: "setOptions",
    value: function setOptions(xhr, options) {
      xhr.withCredentials = options.withCredentials;

      if (options.headers) {
        this.setHeaders(xhr, options.headers);
      }
    }
  }], [{
    key: "create",

    /**
     * @returns {RequestFactory}
     */
    value: function create() {
      return new RequestFactory();
    }
  }]);

  return RequestFactory;
}();

exports.default = RequestFactory;
//# sourceMappingURL=request-factory.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/request-sender.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/request-sender.js ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _deepAssign = _interopRequireDefault(__webpack_require__(/*! deep-assign */ "./node_modules/deep-assign/index.js"));

var _objectAssign = _interopRequireDefault(__webpack_require__(/*! object-assign */ "./node_modules/object-assign/index.js"));

var _methodTypes = __webpack_require__(/*! ./method-types */ "./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/method-types.js");

var _defaultOptions = _interopRequireDefault(__webpack_require__(/*! ./default-options */ "./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/default-options.js"));

var _payloadTransformer = _interopRequireDefault(__webpack_require__(/*! ./payload-transformer */ "./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/payload-transformer.js"));

var _requestFactory = _interopRequireDefault(__webpack_require__(/*! ./request-factory */ "./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/request-factory.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var RequestSender = /*#__PURE__*/function () {
  _createClass(RequestSender, null, [{
    key: "create",

    /**
     * @returns {RequestSender}
     */
    value: function create() {
      var requestFactory = _requestFactory.default.create();

      var payloadTransformer = _payloadTransformer.default.create();

      return new RequestSender(requestFactory, payloadTransformer);
    }
    /**
     * @param {RequestFactory} requestFactory
     * @param {PayloadTransformer} payloadTransformer
     */

  }]);

  function RequestSender(requestFactory, payloadTransformer) {
    _classCallCheck(this, RequestSender);

    /**
     * @private
     * @type {RequestFactory}
     */
    this.requestFactory = requestFactory;
    /**
     * @private
     * @type {PayloadTransformer}
     */

    this.payloadTransformer = payloadTransformer;
  }
  /**
   * @param {string} url
   * @param {Object} data
   * @param {Object} [options]
   * @param {Function} [callback]
   * @returns {void}
   */


  _createClass(RequestSender, [{
    key: "sendRequest",
    value: function sendRequest(url, data, options, callback) {
      var _this = this;

      var mergedOptions = (0, _deepAssign.default)({}, _defaultOptions.default, options);
      var xhr = this.requestFactory.createRequest(url, mergedOptions, function (error) {
        var response = _this.payloadTransformer.fromResponse(xhr);

        if (!callback) {
          return;
        }

        if (error || !_this.isSuccessfulRequest(xhr)) {
          callback(response);
          return;
        }

        callback(null, response);
      });
      var payload = this.payloadTransformer.toRequest(data, mergedOptions.headers['Content-Type']);
      xhr.send(payload);
    }
    /**
     * @param {string} url
     * @param {Object} data
     * @param {Object} [options]
     * @param {Function} [callback]
     * @returns {void}
     */

  }, {
    key: "postRequest",
    value: function postRequest(url, data, options, callback) {
      var mergedOptions = (0, _objectAssign.default)({}, options, {
        method: _methodTypes.POST
      });
      this.sendRequest(url, data, mergedOptions, callback);
    }
    /**
     * @private
     * @param {XMLHttpRequest} xhr
     * @returns {boolean}
     */

  }, {
    key: "isSuccessfulRequest",
    value: function isSuccessfulRequest(xhr) {
      return xhr.status >= 200 && xhr.status < 300;
    }
  }]);

  return RequestSender;
}();

exports.default = RequestSender;
//# sourceMappingURL=request-sender.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/includes.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/common/utils/includes.js ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = includes;

/**
 * @param {array|string} items
 * @param {array|string} item
 * @returns {boolean}
 */
function includes(items, item) {
  if (!Array.isArray(items) && typeof items !== 'string') {
    return false;
  }

  return items.indexOf(item) !== -1;
}
//# sourceMappingURL=includes.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/index.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/common/utils/index.js ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
Object.defineProperty(exports, "includes", {
  enumerable: true,
  get: function get() {
    return _includes.default;
  }
});
Object.defineProperty(exports, "isNil", {
  enumerable: true,
  get: function get() {
    return _isNil.default;
  }
});
Object.defineProperty(exports, "isObject", {
  enumerable: true,
  get: function get() {
    return _isObject.default;
  }
});
Object.defineProperty(exports, "omitEmptyStringAndNil", {
  enumerable: true,
  get: function get() {
    return _omitEmptystringAndNil.default;
  }
});
Object.defineProperty(exports, "omitNil", {
  enumerable: true,
  get: function get() {
    return _omitNil.default;
  }
});
Object.defineProperty(exports, "omitProperty", {
  enumerable: true,
  get: function get() {
    return _omitProperty.default;
  }
});
Object.defineProperty(exports, "toNumber", {
  enumerable: true,
  get: function get() {
    return _toNumber.default;
  }
});
Object.defineProperty(exports, "toSnakeCase", {
  enumerable: true,
  get: function get() {
    return _toSnakeCase.default;
  }
});
Object.defineProperty(exports, "toString", {
  enumerable: true,
  get: function get() {
    return _toString.default;
  }
});

var _includes = _interopRequireDefault(__webpack_require__(/*! ./includes */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/includes.js"));

var _isNil = _interopRequireDefault(__webpack_require__(/*! ./is-nil */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/is-nil.js"));

var _isObject = _interopRequireDefault(__webpack_require__(/*! ./is-object */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/is-object.js"));

var _omitEmptystringAndNil = _interopRequireDefault(__webpack_require__(/*! ./omit-emptystring-and-nil */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/omit-emptystring-and-nil.js"));

var _omitNil = _interopRequireDefault(__webpack_require__(/*! ./omit-nil */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/omit-nil.js"));

var _omitProperty = _interopRequireDefault(__webpack_require__(/*! ./omit-property */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/omit-property.js"));

var _toNumber = _interopRequireDefault(__webpack_require__(/*! ./to-number */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/to-number.js"));

var _toSnakeCase = _interopRequireDefault(__webpack_require__(/*! ./to-snake-case */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/to-snake-case.js"));

var _toString = _interopRequireDefault(__webpack_require__(/*! ./to-string */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/to-string.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/is-empty-string.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/common/utils/is-empty-string.js ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = isEmptyString;

/**
 * @param {*} value
 * @returns {boolean}
 */
function isEmptyString(value) {
  return value === '';
}
//# sourceMappingURL=is-empty-string.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/is-emptystring-or-nil.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/common/utils/is-emptystring-or-nil.js ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = isEmptyStringOrNil;

var _isEmptyString = _interopRequireDefault(__webpack_require__(/*! ./is-empty-string */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/is-empty-string.js"));

var _isNil = _interopRequireDefault(__webpack_require__(/*! ./is-nil */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/is-nil.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @param {*} value
 * @returns {boolean}
 */
function isEmptyStringOrNil(value) {
  return (0, _isEmptyString.default)(value) || (0, _isNil.default)(value);
}
//# sourceMappingURL=is-emptystring-or-nil.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/is-nil.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/common/utils/is-nil.js ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = isNil;

/**
 * @param {*} value
 * @returns {boolean}
 */
function isNil(value) {
  if (value === null || value === undefined) {
    return true;
  }

  return false;
}
//# sourceMappingURL=is-nil.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/is-object.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/common/utils/is-object.js ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = isObject;

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/**
 * @param {*} value
 * @returns {boolean}
 */
function isObject(value) {
  return value !== null && _typeof(value) === 'object' && !Array.isArray(value);
}
//# sourceMappingURL=is-object.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/omit-emptystring-and-nil.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/common/utils/omit-emptystring-and-nil.js ***!
  \**********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = omitEmptyStringAndNil;

var _isEmptystringOrNil = _interopRequireDefault(__webpack_require__(/*! ./is-emptystring-or-nil */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/is-emptystring-or-nil.js"));

var _omitProperty = _interopRequireDefault(__webpack_require__(/*! ./omit-property */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/omit-property.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @param {Object} object
 * @returns {Object}
 */
function omitEmptyStringAndNil(object) {
  return (0, _omitProperty.default)(object, _isEmptystringOrNil.default);
}
//# sourceMappingURL=omit-emptystring-and-nil.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/omit-nil.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/common/utils/omit-nil.js ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = omitNil;

var _isNil = _interopRequireDefault(__webpack_require__(/*! ./is-nil */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/is-nil.js"));

var _omitProperty = _interopRequireDefault(__webpack_require__(/*! ./omit-property */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/omit-property.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @param {Object} object
 * @returns {Object}
 */
function omitNil(object) {
  return (0, _omitProperty.default)(object, _isNil.default);
}
//# sourceMappingURL=omit-nil.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/omit-property.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/common/utils/omit-property.js ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = omitProperty;

var _isObject = _interopRequireDefault(__webpack_require__(/*! ./is-object */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/is-object.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @param {Object} object
 * @param {Function} predicateFn
 * @returns {Object}
 */
function omitProperty(object, predicateFn) {
  if (!(0, _isObject.default)(object)) {
    return object;
  }

  var keys = Object.keys(object);
  return keys.reduce(function (result, key) {
    var value = object[key];

    if (!predicateFn(value)) {
      result[key] = value;
    }

    return result;
  }, {});
}
//# sourceMappingURL=omit-property.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/to-number.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/common/utils/to-number.js ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = toNumber;

/**
 * @param {*} value
 * @returns {number}
 */
function toNumber(value) {
  return parseFloat(value) || 0;
}
//# sourceMappingURL=to-number.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/to-snake-case.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/common/utils/to-snake-case.js ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = toSnakeCase;

/**
 * @param {string} string
 * @returns {string}
 */
function toSnakeCase(string) {
  if (typeof string !== 'string') {
    return string;
  }

  return string.replace(/([a-z\d])([A-Z]+)/g, '$1_$2').replace(/[-\s]+/g, '_').toLowerCase();
}
//# sourceMappingURL=to-snake-case.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/to-string.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/common/utils/to-string.js ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = toString;

/**
 * @param {*} value
 * @returns {string}
 */
function toString(value) {
  if (typeof value === 'string') {
    return value;
  }

  if (typeof value === 'number' && !Number.isNaN(value)) {
    return value.toString();
  }

  return '';
}
//# sourceMappingURL=to-string.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/index.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createClient = createClient;

var _client = _interopRequireDefault(__webpack_require__(/*! ./client/client */ "./node_modules/@bigcommerce/bigpay-client/lib/client/client.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @param {Object} [config]
 * @returns {Client}
 */
function createClient(config) {
  return _client.default.create(config);
}
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/client-token-generator.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/client-token-generator.js ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _requestSender = _interopRequireDefault(__webpack_require__(/*! ../common/http-request/request-sender */ "./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/request-sender.js"));

var _clientTokenMapper = _interopRequireDefault(__webpack_require__(/*! ./v2/payment-mappers/client-token-mapper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v2/payment-mappers/client-token-mapper.js"));

var _urlHelper = _interopRequireDefault(__webpack_require__(/*! ./url-helper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/url-helper.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var ClientTokenGenerator = /*#__PURE__*/function () {
  _createClass(ClientTokenGenerator, null, [{
    key: "create",

    /**
     * @param {Object} config
     * @returns {PaymentSubmitter}
     */
    value: function create(config) {
      var urlHelper = _urlHelper.default.create(config);

      var requestSender = _requestSender.default.create();

      var clientTokenMapper = _clientTokenMapper.default.create();

      return new ClientTokenGenerator(urlHelper, requestSender, clientTokenMapper);
    }
    /**
     * @param {UrlHelper} urlHelper
     * @param {RequestSender} requestSender
     * @param {ClientTokenMapper} clientTokenMapper
     * @returns {void}
     */

  }]);

  function ClientTokenGenerator(urlHelper, requestSender, clientTokenMapper) {
    _classCallCheck(this, ClientTokenGenerator);

    /**
     * @private
     * @type {UrlHelper}
     */
    this.urlHelper = urlHelper;
    /**
     * @private
     * @type {RequestSender}
     */

    this.requestSender = requestSender;
    /**
     * @private
     * @type {ClientTokenMapper}
     */

    this.clientTokenMapper = clientTokenMapper;
  }
  /**
   * @param {PaymentRequestData} data
   * @param {Function} [callback]
   * @returns {void}
   */


  _createClass(ClientTokenGenerator, [{
    key: "generateClientToken",
    value: function generateClientToken(data, callback) {
      var url = this.urlHelper.getGenerateClientTokenUrl();
      var payload = this.clientTokenMapper.mapToClientToken(data);
      this.requestSender.postRequest(url, payload, {}, callback);
    }
  }]);

  return ClientTokenGenerator;
}();

exports.default = ClientTokenGenerator;
//# sourceMappingURL=client-token-generator.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/offsite-payment-initializer.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/offsite-payment-initializer.js ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _formPoster = __webpack_require__(/*! @bigcommerce/form-poster */ "./node_modules/@bigcommerce/form-poster/lib/index.js");

var _paymentTypes = __webpack_require__(/*! ./payment-types */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/payment-types.js");

var _payloadMapper = _interopRequireDefault(__webpack_require__(/*! ./offsite-payment-mappers/payload-mapper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/offsite-payment-mappers/payload-mapper.js"));

var _urlHelper = _interopRequireDefault(__webpack_require__(/*! ./url-helper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/url-helper.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var OffsitePaymentInitializer = /*#__PURE__*/function () {
  _createClass(OffsitePaymentInitializer, null, [{
    key: "create",

    /**
     * @param {Object} config
     * @returns {OffsitePaymentInitializer}
     */
    value: function create(config) {
      var urlHelper = _urlHelper.default.create(config);

      var formPoster = (0, _formPoster.createFormPoster)();

      var payloadMapper = _payloadMapper.default.create();

      return new OffsitePaymentInitializer(urlHelper, formPoster, payloadMapper);
    }
    /**
     * @param {UrlHelper} urlHelper
     * @param {FormPoster} formPoster
     * @param {PayloadMapper} payloadMapper
     * @returns {void}
     */

  }]);

  function OffsitePaymentInitializer(urlHelper, formPoster, payloadMapper) {
    _classCallCheck(this, OffsitePaymentInitializer);

    /**
     * @private
     * @type {UrlHelper}
     */
    this.urlHelper = urlHelper;
    /**
     * @private
     * @type {FormPoster}
     */

    this.formPoster = formPoster;
    /**
     * @private
     * @type {PayloadMapper}
     */

    this.payloadMapper = payloadMapper;
  }
  /**
   * @param {PaymentRequestData} data
   * @param {Function} [callback]
   * @param {string} target
   * @returns {void}
   * @throws {Error}
   */


  _createClass(OffsitePaymentInitializer, [{
    key: "initializeOffsitePayment",
    value: function initializeOffsitePayment(data, callback, target) {
      var _data$paymentMethod = data.paymentMethod,
          paymentMethod = _data$paymentMethod === void 0 ? {} : _data$paymentMethod;

      if (paymentMethod.type !== _paymentTypes.HOSTED) {
        throw new Error("".concat(paymentMethod.type, " is not supported."));
      }

      var payload = this.payloadMapper.mapToPayload(data);
      var url = this.urlHelper.getOffsitePaymentUrl();
      this.formPoster.postForm(url, payload, callback, target);
    }
  }]);

  return OffsitePaymentInitializer;
}();

exports.default = OffsitePaymentInitializer;
//# sourceMappingURL=offsite-payment-initializer.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/offsite-payment-mappers/address-mapper.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/offsite-payment-mappers/address-mapper.js ***!
  \*******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _utils = __webpack_require__(/*! ../../common/utils */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/index.js");

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var AddressMapper = /*#__PURE__*/function () {
  function AddressMapper() {
    _classCallCheck(this, AddressMapper);
  }

  _createClass(AddressMapper, [{
    key: "mapToBillingAddress",

    /**
     * @param {PaymentRequestData} data
     * @returns {Object}
     */
    value: function mapToBillingAddress(data) {
      return this.mapToAddress(data, 'billingAddress');
    }
    /**
     * @param {PaymentRequestData} data
     * @returns {Object}
     */

  }, {
    key: "mapToShippingAddress",
    value: function mapToShippingAddress(data) {
      return this.mapToAddress(data, 'shippingAddress');
    }
    /**
     * @private
     * @param {PaymentRequestData} data
     * @param {string} addressKey
     * @returns {Object}
     */

  }, {
    key: "mapToAddress",
    value: function mapToAddress(data, addressKey) {
      var _omitNil;

      var address = data[addressKey] || {};
      var formattedAddressKey = (0, _utils.toSnakeCase)(addressKey);
      return (0, _utils.omitNil)((_omitNil = {}, _defineProperty(_omitNil, "".concat(formattedAddressKey, "_city"), address.city), _defineProperty(_omitNil, "".concat(formattedAddressKey, "_company"), address.company), _defineProperty(_omitNil, "".concat(formattedAddressKey, "_country_code"), address.countryCode), _defineProperty(_omitNil, "".concat(formattedAddressKey, "_country"), address.country), _defineProperty(_omitNil, "".concat(formattedAddressKey, "_first_name"), address.firstName), _defineProperty(_omitNil, "".concat(formattedAddressKey, "_last_name"), address.lastName), _defineProperty(_omitNil, "".concat(formattedAddressKey, "_phone"), address.phone), _defineProperty(_omitNil, "".concat(formattedAddressKey, "_state_code"), address.provinceCode), _defineProperty(_omitNil, "".concat(formattedAddressKey, "_state"), address.province), _defineProperty(_omitNil, "".concat(formattedAddressKey, "_street_1"), address.addressLine1), _defineProperty(_omitNil, "".concat(formattedAddressKey, "_street_2"), address.addressLine2), _defineProperty(_omitNil, "".concat(formattedAddressKey, "_zip"), address.postCode), _omitNil));
    }
  }], [{
    key: "create",

    /**
     * @returns {AddressMapper}
     */
    value: function create() {
      return new AddressMapper();
    }
  }]);

  return AddressMapper;
}();

exports.default = AddressMapper;
//# sourceMappingURL=address-mapper.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/offsite-payment-mappers/customer-mapper.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/offsite-payment-mappers/customer-mapper.js ***!
  \********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _utils = __webpack_require__(/*! ../../common/utils */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/index.js");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var CustomerMapper = /*#__PURE__*/function () {
  function CustomerMapper() {
    _classCallCheck(this, CustomerMapper);
  }

  _createClass(CustomerMapper, [{
    key: "mapToCustomer",

    /**
     * @param {PaymentRequestData} data
     * @returns {Object}
     */
    value: function mapToCustomer(data) {
      var _data$customer = data.customer,
          customer = _data$customer === void 0 ? {} : _data$customer,
          _data$quoteMeta = data.quoteMeta,
          quoteMeta = _data$quoteMeta === void 0 ? {} : _data$quoteMeta,
          _data$store = data.store,
          store = _data$store === void 0 ? {} : _data$store;
      return (0, _utils.omitNil)({
        customer_browser_info: navigator.userAgent,
        customer_email: customer.email,
        customer_first_name: customer.firstName,
        customer_geo_ip_country_code: quoteMeta.request ? quoteMeta.request.geoCountryCode : null,
        customer_id: customer.customerId,
        customer_last_name: customer.lastName,
        customer_locale: store.storeLanguage,
        customer_name: customer.name,
        customer_phone: customer.phoneNumber,
        customer_reference: customer.email
      });
    }
  }], [{
    key: "create",

    /**
     * @returns {CustomerMapper}
     */
    value: function create() {
      return new CustomerMapper();
    }
  }]);

  return CustomerMapper;
}();

exports.default = CustomerMapper;
//# sourceMappingURL=customer-mapper.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/offsite-payment-mappers/meta-mapper.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/offsite-payment-mappers/meta-mapper.js ***!
  \****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _utils = __webpack_require__(/*! ../../common/utils */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/index.js");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var MetaMapper = /*#__PURE__*/function () {
  function MetaMapper() {
    _classCallCheck(this, MetaMapper);
  }

  _createClass(MetaMapper, [{
    key: "mapToMeta",

    /**
     * @param {PaymentRequestData} data
     * @returns {Object}
     */
    value: function mapToMeta(data) {
      var source = data.source;
      return (0, _utils.omitNil)({
        meta_referrer: document.referrer,
        meta_source: source,
        meta_user_agent: navigator.userAgent
      });
    }
  }], [{
    key: "create",

    /**
     * @returns {MetaMapper}
     */
    value: function create() {
      return new MetaMapper();
    }
  }]);

  return MetaMapper;
}();

exports.default = MetaMapper;
//# sourceMappingURL=meta-mapper.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/offsite-payment-mappers/payload-mapper.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/offsite-payment-mappers/payload-mapper.js ***!
  \*******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _objectAssign = _interopRequireDefault(__webpack_require__(/*! object-assign */ "./node_modules/object-assign/index.js"));

var _utils = __webpack_require__(/*! ../../common/utils */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/index.js");

var _addressMapper = _interopRequireDefault(__webpack_require__(/*! ./address-mapper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/offsite-payment-mappers/address-mapper.js"));

var _customerMapper = _interopRequireDefault(__webpack_require__(/*! ./customer-mapper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/offsite-payment-mappers/customer-mapper.js"));

var _metaMapper = _interopRequireDefault(__webpack_require__(/*! ./meta-mapper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/offsite-payment-mappers/meta-mapper.js"));

var _paymentMethodIdMapper = _interopRequireDefault(__webpack_require__(/*! ../payment-method-mappers/payment-method-id-mapper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/payment-method-mappers/payment-method-id-mapper.js"));

var _storeMapper = _interopRequireDefault(__webpack_require__(/*! ./store-mapper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/offsite-payment-mappers/store-mapper.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var PayloadMapper = /*#__PURE__*/function () {
  _createClass(PayloadMapper, null, [{
    key: "create",

    /**
     * @returns {PayloadMapper}
     */
    value: function create() {
      var addressMapper = _addressMapper.default.create();

      var customerMapper = _customerMapper.default.create();

      var metaMapper = _metaMapper.default.create();

      var paymentMethodIdMapper = _paymentMethodIdMapper.default.create();

      var storeMapper = _storeMapper.default.create();

      return new PayloadMapper(addressMapper, customerMapper, metaMapper, paymentMethodIdMapper, storeMapper);
    }
    /**
     * @param {AddressMapper} addressMapper
     * @param {CustomerMapper} customerMapper
     * @param {MetaMapper} metaMapper
     * @param {PaymentMethodIdMapper} paymentMethodIdMapper
     * @param {StoreMapper} storeMapper
     * @returns {Object}
     */

  }]);

  function PayloadMapper(addressMapper, customerMapper, metaMapper, paymentMethodIdMapper, storeMapper) {
    _classCallCheck(this, PayloadMapper);

    /**
     * @private
     * @type {AddressMapper}
     */
    this.addressMapper = addressMapper;
    /**
     * @private
     * @type {CustomerMapper}
     */

    this.customerMapper = customerMapper;
    /**
     * @private
     * @type {MetaMapper}
     */

    this.metaMapper = metaMapper;
    /**
     * @private
     * @type {PaymentMethodIdMapper}
     */

    this.paymentMethodIdMapper = paymentMethodIdMapper;
    /**
     * @private
     * @type {StoreMapper}
     */

    this.storeMapper = storeMapper;
  }
  /**
   * @param {PaymentRequestData} data
   * @returns {Object}
   */


  _createClass(PayloadMapper, [{
    key: "mapToPayload",
    value: function mapToPayload(data) {
      var authToken = data.authToken,
          _data$order = data.order,
          order = _data$order === void 0 ? {} : _data$order,
          _data$payment = data.payment,
          payment = _data$payment === void 0 ? {} : _data$payment,
          _data$paymentMethod = data.paymentMethod,
          paymentMethod = _data$paymentMethod === void 0 ? {} : _data$paymentMethod;
      var payload = (0, _objectAssign.default)({
        amount: order.grandTotal ? order.grandTotal.integerAmount : null,
        bc_auth_token: authToken,
        currency: order.currency,
        gateway: this.paymentMethodIdMapper.mapToId(paymentMethod),
        notify_url: order.callbackUrl,
        order_id: order.orderId ? (0, _utils.toString)(order.orderId) : null,
        page_title: document.title ? document.title : null,
        payment_method_id: paymentMethod.id,
        reference_id: order.orderId ? (0, _utils.toString)(order.orderId) : null,
        return_url: paymentMethod.returnUrl || (order.payment ? order.payment.returnUrl : null)
      }, this.addressMapper.mapToBillingAddress(data), this.customerMapper.mapToCustomer(data), this.metaMapper.mapToMeta(data), this.addressMapper.mapToShippingAddress(data), this.storeMapper.mapToStore(data));
      var _payment$formattedPay = payment.formattedPayload,
          formattedPayload = _payment$formattedPay === void 0 ? {} : _payment$formattedPay;
      (0, _objectAssign.default)(payload, formattedPayload);
      return (0, _utils.omitNil)(payload);
    }
  }]);

  return PayloadMapper;
}();

exports.default = PayloadMapper;
//# sourceMappingURL=payload-mapper.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/offsite-payment-mappers/store-mapper.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/offsite-payment-mappers/store-mapper.js ***!
  \*****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _utils = __webpack_require__(/*! ../../common/utils */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/index.js");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var StoreMapper = /*#__PURE__*/function () {
  function StoreMapper() {
    _classCallCheck(this, StoreMapper);
  }

  _createClass(StoreMapper, [{
    key: "mapToStore",

    /**
     * @param {PaymentRequestData} data
     * @returns {Object}
     */
    value: function mapToStore(data) {
      var _data$store = data.store,
          store = _data$store === void 0 ? {} : _data$store;
      return (0, _utils.omitNil)({
        store_hash: store.storeHash,
        store_id: store.storeId ? (0, _utils.toString)(store.storeId) : null
      });
    }
  }], [{
    key: "create",

    /**
     * @returns {StoreMapper}
     */
    value: function create() {
      return new StoreMapper();
    }
  }]);

  return StoreMapper;
}();

exports.default = StoreMapper;
//# sourceMappingURL=store-mapper.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/payment-method-ids.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/payment-method-ids.js ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PAYPAL_COMMERCE_CREDIT_CARDS = exports.PAYPAL_COMMERCE_CREDIT = exports.PAYPAL_COMMERCE_ALTERNATIVE_METHODS = exports.PAYPAL_COMMERCE = exports.BRAINTREE_GOOGLEPAY = exports.BRAINTREE_VISACHECKOUT = exports.BRAINTREE_PAYPAL_CREDIT = exports.BRAINTREE_PAYPAL = exports.BRAINTREE = void 0;
var BRAINTREE = 'braintree';
exports.BRAINTREE = BRAINTREE;
var BRAINTREE_PAYPAL = 'braintreepaypal';
exports.BRAINTREE_PAYPAL = BRAINTREE_PAYPAL;
var BRAINTREE_PAYPAL_CREDIT = 'braintreepaypalcredit';
exports.BRAINTREE_PAYPAL_CREDIT = BRAINTREE_PAYPAL_CREDIT;
var BRAINTREE_VISACHECKOUT = 'braintreevisacheckout';
exports.BRAINTREE_VISACHECKOUT = BRAINTREE_VISACHECKOUT;
var BRAINTREE_GOOGLEPAY = 'googlepaybraintree';
exports.BRAINTREE_GOOGLEPAY = BRAINTREE_GOOGLEPAY;
var PAYPAL_COMMERCE = 'paypalcommerce';
exports.PAYPAL_COMMERCE = PAYPAL_COMMERCE;
var PAYPAL_COMMERCE_ALTERNATIVE_METHODS = 'paypalcommercealternativemethods';
exports.PAYPAL_COMMERCE_ALTERNATIVE_METHODS = PAYPAL_COMMERCE_ALTERNATIVE_METHODS;
var PAYPAL_COMMERCE_CREDIT = 'paypalcommercecredit';
exports.PAYPAL_COMMERCE_CREDIT = PAYPAL_COMMERCE_CREDIT;
var PAYPAL_COMMERCE_CREDIT_CARDS = 'paypalcommercecreditcards';
exports.PAYPAL_COMMERCE_CREDIT_CARDS = PAYPAL_COMMERCE_CREDIT_CARDS;
//# sourceMappingURL=payment-method-ids.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/payment-method-mappers/payment-method-id-mapper.js":
/*!****************************************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/payment-method-mappers/payment-method-id-mapper.js ***!
  \****************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _paymentMethodTypes = __webpack_require__(/*! ../payment-method-types */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/payment-method-types.js");

var _paymentMethodIds = __webpack_require__(/*! ../payment-method-ids */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/payment-method-ids.js");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

/**
 * @param {string} id
 * @return {Boolean}
 */
function isBraintreePaymentMethod(id) {
  switch (id) {
    case _paymentMethodIds.BRAINTREE_PAYPAL:
    case _paymentMethodIds.BRAINTREE_PAYPAL_CREDIT:
    case _paymentMethodIds.BRAINTREE_VISACHECKOUT:
    case _paymentMethodIds.BRAINTREE_GOOGLEPAY:
      return true;

    default:
      return false;
  }
}
/**
 * @param {string} id
 * @return {Boolean}
 */


function isPaypalCommercePaymentMethod(id) {
  switch (id) {
    case _paymentMethodIds.PAYPAL_COMMERCE_CREDIT:
    case _paymentMethodIds.PAYPAL_COMMERCE_CREDIT_CARDS:
    case _paymentMethodIds.PAYPAL_COMMERCE_ALTERNATIVE_METHODS:
      return true;

    default:
      return false;
  }
}

var PaymentMethodIdMapper = /*#__PURE__*/function () {
  function PaymentMethodIdMapper() {
    _classCallCheck(this, PaymentMethodIdMapper);
  }

  _createClass(PaymentMethodIdMapper, [{
    key: "mapToId",

    /**
     * @param {PaymentMethod} paymentMethod
     * @returns {string}
     */
    value: function mapToId(paymentMethod) {
      var id = paymentMethod.id;

      if (paymentMethod.method === _paymentMethodTypes.MULTI_OPTION) {
        id = paymentMethod.gateway;
      }

      if (isBraintreePaymentMethod(id)) {
        return _paymentMethodIds.BRAINTREE;
      }

      if (isPaypalCommercePaymentMethod(id)) {
        return _paymentMethodIds.PAYPAL_COMMERCE;
      }

      return id;
    }
  }], [{
    key: "create",

    /**
     * @returns {PaymentMethodIdMapper}
     */
    value: function create() {
      return new PaymentMethodIdMapper();
    }
  }]);

  return PaymentMethodIdMapper;
}();

exports.default = PaymentMethodIdMapper;
//# sourceMappingURL=payment-method-id-mapper.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/payment-method-types.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/payment-method-types.js ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.MULTI_OPTION = exports.CREDIT_CARD = void 0;
var CREDIT_CARD = 'credit-card';
exports.CREDIT_CARD = CREDIT_CARD;
var MULTI_OPTION = 'multi-option';
exports.MULTI_OPTION = MULTI_OPTION;
//# sourceMappingURL=payment-method-types.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/payment-submitter.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/payment-submitter.js ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _paymentTypes = __webpack_require__(/*! ./payment-types */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/payment-types.js");

var _payloadMapper = _interopRequireDefault(__webpack_require__(/*! ./v1/payment-mappers/payload-mapper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v1/payment-mappers/payload-mapper.js"));

var _requestSender = _interopRequireDefault(__webpack_require__(/*! ../common/http-request/request-sender */ "./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/request-sender.js"));

var _urlHelper = _interopRequireDefault(__webpack_require__(/*! ./url-helper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/url-helper.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var PaymentSubmitter = /*#__PURE__*/function () {
  _createClass(PaymentSubmitter, null, [{
    key: "create",

    /**
     * @param {Object} config
     * @returns {PaymentSubmitter}
     */
    value: function create(config) {
      var urlHelper = _urlHelper.default.create(config);

      var requestSender = _requestSender.default.create();

      var payloadMapper = _payloadMapper.default.create();

      return new PaymentSubmitter(urlHelper, requestSender, payloadMapper);
    }
    /**
     * @param {UrlHelper} urlHelper
     * @param {RequestSender} requestSender
     * @param {PayloadMapper} payloadMapper
     * @returns {void}
     */

  }]);

  function PaymentSubmitter(urlHelper, requestSender, payloadMapper) {
    _classCallCheck(this, PaymentSubmitter);

    /**
     * @private
     * @type {UrlHelper}
     */
    this.urlHelper = urlHelper;
    /**
     * @private
     * @type {RequestSender}
     */

    this.requestSender = requestSender;
    /**
     * @private
     * @type {PayloadMapper}
     */

    this.payloadMapper = payloadMapper;
  }
  /**
   * @param {PaymentRequestData} data
   * @param {Function} [callback]
   * @returns {void}
   * @throws {Error}
   */


  _createClass(PaymentSubmitter, [{
    key: "submitPayment",
    value: function submitPayment(data, callback) {
      var _data$paymentMethod = data.paymentMethod,
          paymentMethod = _data$paymentMethod === void 0 ? {} : _data$paymentMethod;

      if (paymentMethod.type !== _paymentTypes.API) {
        throw new Error("".concat(paymentMethod.type, " is not supported."));
      }

      var payload = this.payloadMapper.mapToPayload(data);
      var url = this.urlHelper.getPaymentUrl();
      var options = {
        headers: this.payloadMapper.mapToHeaders(data)
      };
      this.requestSender.postRequest(url, payload, options, callback);
    }
  }]);

  return PaymentSubmitter;
}();

exports.default = PaymentSubmitter;
//# sourceMappingURL=payment-submitter.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/payment-types.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/payment-types.js ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.OFFLINE = exports.HOSTED = exports.API = void 0;
var API = 'PAYMENT_TYPE_API';
exports.API = API;
var HOSTED = 'PAYMENT_TYPE_HOSTED';
exports.HOSTED = HOSTED;
var OFFLINE = 'PAYMENT_TYPE_OFFLINE';
exports.OFFLINE = OFFLINE;
//# sourceMappingURL=payment-types.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/url-helper.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/url-helper.js ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var UrlHelper = /*#__PURE__*/function () {
  _createClass(UrlHelper, null, [{
    key: "create",

    /**
     * @param {Object} config
     * @param {string} config.host
     * @returns {CustomerMapper}
     */
    value: function create(config) {
      return new UrlHelper(config);
    }
    /**
     * @param {Object} config
     * @param {string} config.host
     * @returns {void}
     */

  }]);

  function UrlHelper(config) {
    _classCallCheck(this, UrlHelper);

    /**
     * @private
     * @type {Object}
     */
    this.config = config;
  }
  /**
   * @private
   * @returns {string}
   */


  _createClass(UrlHelper, [{
    key: "getOffsitePaymentUrl",

    /**
     * @returns {string}
     */
    value: function getOffsitePaymentUrl() {
      return "".concat(this.host, "/pay/initialize");
    }
    /**
     * @returns {string}
     */

  }, {
    key: "getPaymentUrl",
    value: function getPaymentUrl() {
      return "".concat(this.host, "/api/public/v1/orders/payments");
    }
    /**
     * @returns {string}
     */

  }, {
    key: "getGenerateClientTokenUrl",
    value: function getGenerateClientTokenUrl() {
      return "".concat(this.host, "/api/v2/public/payments/client_tokens");
    }
  }, {
    key: "host",
    get: function get() {
      return this.config.host;
    }
  }]);

  return UrlHelper;
}();

exports.default = UrlHelper;
//# sourceMappingURL=url-helper.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v1/payment-mappers/customer-mapper.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/v1/payment-mappers/customer-mapper.js ***!
  \***************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _utils = __webpack_require__(/*! ../../../common/utils */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/index.js");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var CustomerMapper = /*#__PURE__*/function () {
  function CustomerMapper() {
    _classCallCheck(this, CustomerMapper);
  }

  _createClass(CustomerMapper, [{
    key: "mapToCustomer",

    /**
     * @param {PaymentRequestData} data
     * @returns {Object}
     */
    value: function mapToCustomer(data) {
      var _data$customer = data.customer,
          customer = _data$customer === void 0 ? {} : _data$customer,
          _data$quoteMeta = data.quoteMeta,
          quoteMeta = _data$quoteMeta === void 0 ? {} : _data$quoteMeta;
      return (0, _utils.omitNil)({
        customer_group: customer.customerGroupName ? {
          name: customer.customerGroupName
        } : null,
        geo_ip_country_code: quoteMeta.request ? quoteMeta.request.geoCountryCode : null,
        id: customer.customerId ? (0, _utils.toString)(customer.customerId) : null,
        session_token: quoteMeta.request ? quoteMeta.request.sessionHash : null
      });
    }
  }], [{
    key: "create",

    /**
     * @returns {CustomerMapper}
     */
    value: function create() {
      return new CustomerMapper();
    }
  }]);

  return CustomerMapper;
}();

exports.default = CustomerMapper;
//# sourceMappingURL=customer-mapper.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v1/payment-mappers/order-mapper.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/v1/payment-mappers/order-mapper.js ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _utils = __webpack_require__(/*! ../../../common/utils */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/index.js");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var OrderMapper = /*#__PURE__*/function () {
  function OrderMapper() {
    _classCallCheck(this, OrderMapper);
  }

  _createClass(OrderMapper, [{
    key: "mapToOrder",

    /**
     * @param {PaymentRequestData} data
     * @returns {Object}
     */
    value: function mapToOrder(data) {
      var _data$order = data.order,
          order = _data$order === void 0 ? {} : _data$order;
      return (0, _utils.omitNil)({
        billing_address: this.mapToBillingAddress(data),
        coupons: this.mapToCoupons(data),
        currency: order.currency,
        id: order.orderId ? (0, _utils.toString)(order.orderId) : null,
        items: this.mapToItems(data),
        shipping: this.mapToShipping(data),
        shipping_address: this.mapToShippingAddress(data),
        token: order.token,
        totals: this.mapToOrderTotals(data)
      });
    }
    /**
     * @private
     * @param {PaymentRequestData} data
     * @returns {Object}
     */

  }, {
    key: "mapToBillingAddress",
    value: function mapToBillingAddress(data) {
      var _data$customer = data.customer,
          customer = _data$customer === void 0 ? {} : _data$customer;
      var address = this.mapToAddress(data, 'billingAddress');

      if (customer.email) {
        address.email = customer.email;
      }

      return address;
    }
    /**
     * @private
     * @param  {PaymentRequestData} data
     * @return {Shipping[]}
     */

  }, {
    key: "mapToShipping",
    value: function mapToShipping(data) {
      var _ref = data.shippingOption || {},
          description = _ref.description,
          transitTime = _ref.transitTime;

      if (description) {
        return [(0, _utils.omitEmptyStringAndNil)({
          method: description,
          transit_time: transitTime
        })];
      }

      return [];
    }
    /**
     * @private
     * @param {PaymentRequestData} data
     * @returns {Coupon[]}
     */

  }, {
    key: "mapToCoupons",
    value: function mapToCoupons(_ref2) {
      var _ref2$order = _ref2.order,
          order = _ref2$order === void 0 ? {} : _ref2$order;

      if (order.coupon && order.coupon.coupons) {
        return order.coupon.coupons.map(function (_ref3) {
          var code = _ref3.code;
          return {
            code: code
          };
        });
      }

      return [];
    }
    /**
     * @private
     * @param {PaymentRequestData} data
     * @returns {Object}
     */

  }, {
    key: "mapToShippingAddress",
    value: function mapToShippingAddress(data) {
      return this.mapToAddress(data, 'shippingAddress');
    }
    /**
     * @private
     * @param {PaymentRequestData} data
     * @param {string} addressKey
     * @returns {Object}
     */

  }, {
    key: "mapToAddress",
    value: function mapToAddress(data, addressKey) {
      var address = data[addressKey] || {};
      return (0, _utils.omitEmptyStringAndNil)({
        city: address.city,
        company: address.company,
        country_code: address.countryCode,
        country: address.country,
        first_name: address.firstName,
        last_name: address.lastName,
        phone: address.phone,
        state_code: address.provinceCode,
        state: address.province,
        street_1: address.addressLine1,
        street_2: address.addressLine2,
        zip: address.postCode
      });
    }
    /**
     * @private
     * @param {PaymentRequestData} data
     * @returns {Object}
     */

  }, {
    key: "mapToItems",
    value: function mapToItems(data) {
      var _data$cart = data.cart,
          cart = _data$cart === void 0 ? {
        items: []
      } : _data$cart;
      return cart.items.map(function (itemData) {
        return (0, _utils.omitNil)({
          code: itemData.id,
          variant_id: itemData.variantId,
          name: itemData.name,
          price: itemData.integerAmount,
          unit_price: itemData.integerUnitPrice,
          quantity: itemData.quantity,
          sku: itemData.sku
        });
      });
    }
    /**
     * @private
     * @param {PaymentRequestData} data
     * @returns {Object}
     */

  }, {
    key: "mapToOrderTotals",
    value: function mapToOrderTotals(data) {
      var _data$order2 = data.order,
          order = _data$order2 === void 0 ? {} : _data$order2;
      return (0, _utils.omitNil)({
        grand_total: order.grandTotal ? order.grandTotal.integerAmount : null,
        handling: order.handling ? order.handling.integerAmount : null,
        shipping: order.shipping ? order.shipping.integerAmount : null,
        subtotal: order.subtotal ? order.subtotal.integerAmount : null,
        tax: order.taxTotal ? order.taxTotal.integerAmount : null
      });
    }
  }], [{
    key: "create",

    /**
     * @returns {OrderMapper}
     */
    value: function create() {
      return new OrderMapper();
    }
  }]);

  return OrderMapper;
}();

exports.default = OrderMapper;
//# sourceMappingURL=order-mapper.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v1/payment-mappers/payload-mapper.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/v1/payment-mappers/payload-mapper.js ***!
  \**************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _utils = __webpack_require__(/*! ../../../common/utils */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/index.js");

var _customerMapper = _interopRequireDefault(__webpack_require__(/*! ./customer-mapper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v1/payment-mappers/customer-mapper.js"));

var _orderMapper = _interopRequireDefault(__webpack_require__(/*! ./order-mapper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v1/payment-mappers/order-mapper.js"));

var _paymentMapper = _interopRequireDefault(__webpack_require__(/*! ./payment-mapper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v1/payment-mappers/payment-mapper.js"));

var _storeMapper = _interopRequireDefault(__webpack_require__(/*! ./store-mapper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v1/payment-mappers/store-mapper.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var PayloadMapper = /*#__PURE__*/function () {
  _createClass(PayloadMapper, null, [{
    key: "create",

    /**
     * @returns {PayloadMapper}
     */
    value: function create() {
      var customerMapper = _customerMapper.default.create();

      var orderMapper = _orderMapper.default.create();

      var paymentMapper = _paymentMapper.default.create();

      var storeMapper = _storeMapper.default.create();

      return new PayloadMapper(customerMapper, orderMapper, paymentMapper, storeMapper);
    }
    /**
     * @param {CustomerMapper} customerMapper
     * @param {OrderMapper} orderMapper
     * @param {PaymentMapper} paymentMapper
     * @param {StoreMapper} storeMapper
     */

  }]);

  function PayloadMapper(customerMapper, orderMapper, paymentMapper, storeMapper) {
    _classCallCheck(this, PayloadMapper);

    /**
     * @private
     * @type {CustomerMapper}
     */
    this.customerMapper = customerMapper;
    /**
     * @private
     * @type {OrderMapper}
     */

    this.orderMapper = orderMapper;
    /**
     * @private
     * @type {PaymentMapper}
     */

    this.paymentMapper = paymentMapper;
    /**
     * @private
     * @type {StoreMapper}
     */

    this.storeMapper = storeMapper;
  }
  /**
   * @param {PaymentRequestData} data
   * @returns {Object}
   */


  _createClass(PayloadMapper, [{
    key: "mapToPayload",
    value: function mapToPayload(data) {
      var _data$order = data.order,
          order = _data$order === void 0 ? {} : _data$order,
          additionalAction = data.additionalAction;
      return (0, _utils.omitNil)({
        customer: this.customerMapper.mapToCustomer(data),
        notify_url: order.callbackUrl,
        order: this.orderMapper.mapToOrder(data),
        payment: this.paymentMapper.mapToPayment(data),
        store: this.storeMapper.mapToStore(data),
        additional_action: additionalAction
      });
    }
    /**
     * @param {PaymentRequestData} data
     * @returns {Object}
     */

  }, {
    key: "mapToHeaders",
    value: function mapToHeaders(data) {
      var authToken = data.authToken;
      return (0, _utils.omitNil)({
        Authorization: authToken
      });
    }
  }]);

  return PayloadMapper;
}();

exports.default = PayloadMapper;
//# sourceMappingURL=payload-mapper.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v1/payment-mappers/payment-mapper.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/v1/payment-mappers/payment-mapper.js ***!
  \**************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _objectAssign = _interopRequireDefault(__webpack_require__(/*! object-assign */ "./node_modules/object-assign/index.js"));

var _utils = __webpack_require__(/*! ../../../common/utils */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/index.js");

var _paymentMethodIdMapper = _interopRequireDefault(__webpack_require__(/*! ../../payment-method-mappers/payment-method-id-mapper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/payment-method-mappers/payment-method-id-mapper.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var PaymentMapper = /*#__PURE__*/function () {
  _createClass(PaymentMapper, null, [{
    key: "create",

    /**
     * @param {PaymentMethodIdMapper} paymentMethodIdMapper
     * @returns {PaymentMapper}
     */
    value: function create() {
      var paymentMethodIdMapper = _paymentMethodIdMapper.default.create();

      return new PaymentMapper(paymentMethodIdMapper);
    }
    /**
     * @param {PaymentMethodIdMapper} paymentMethodIdMapper
     * @returns {void}
     */

  }]);

  function PaymentMapper(paymentMethodIdMapper) {
    _classCallCheck(this, PaymentMapper);

    /**
     * @private
     * @type {PaymentMethodIdMapper}
     */
    this.paymentMethodIdMapper = paymentMethodIdMapper;
  }
  /**
   * @param {PaymentRequestData} data
   * @returns {Object}
   */


  _createClass(PaymentMapper, [{
    key: "mapToPayment",
    value: function mapToPayment(data) {
      var _data$order = data.order,
          order = _data$order === void 0 ? {} : _data$order,
          _data$orderMeta = data.orderMeta,
          orderMeta = _data$orderMeta === void 0 ? {} : _data$orderMeta,
          _data$payment = data.payment,
          payment = _data$payment === void 0 ? {} : _data$payment,
          _data$paymentMethod = data.paymentMethod,
          paymentMethod = _data$paymentMethod === void 0 ? {} : _data$paymentMethod;
      var payload = {
        device_info: payment.deviceSessionId ? payment.deviceSessionId : null,
        device: orderMeta.deviceFingerprint ? {
          fingerprint_id: orderMeta.deviceFingerprint
        } : null,
        gateway: this.paymentMethodIdMapper.mapToId(paymentMethod),
        notify_url: order.callbackUrl,
        return_url: paymentMethod.returnUrl || (order.payment ? order.payment.returnUrl : null),
        vault_payment_instrument: !payment.instrumentId ? payment.shouldSaveInstrument : null,
        set_as_default_stored_instrument: payment.instrumentId || payment.shouldSaveInstrument ? payment.shouldSetAsDefaultInstrument : null
      };
      var method = paymentMethod.method;

      if (method) {
        (0, _objectAssign.default)(payload, {
          method: method
        });
      }

      var nonce = payment.nonce || paymentMethod.nonce;

      if (payment.formattedPayload) {
        (0, _objectAssign.default)(payload, payment.formattedPayload);
      } else if (payment.instrumentId) {
        (0, _objectAssign.default)(payload, {
          bigpay_token: this.mapToBigPayToken(data)
        });
      } else if (nonce) {
        (0, _objectAssign.default)(payload, {
          credit_card_token: {
            token: nonce
          }
        });
      } else if (payment.cryptogramId) {
        (0, _objectAssign.default)(payload, {
          credit_card_cryptogram: this.mapToCryptogram(data)
        });
      } else {
        (0, _objectAssign.default)(payload, {
          credit_card: this.mapToCreditCard(data)
        });
      }

      return (0, _utils.omitNil)(payload);
    }
    /**
     * @private
     * @param {PaymentRequestData} data
     * @returns {Object}
     */

  }, {
    key: "mapToCreditCard",
    value: function mapToCreditCard(data) {
      var _data$payment2 = data.payment,
          payment = _data$payment2 === void 0 ? {} : _data$payment2;
      return (0, _utils.omitNil)({
        account_name: payment.ccName,
        month: payment.ccExpiry ? (0, _utils.toNumber)(payment.ccExpiry.month) : null,
        number: payment.ccNumber,
        verification_value: payment.ccCvv,
        year: payment.ccExpiry ? (0, _utils.toNumber)(payment.ccExpiry.year) : null,
        customer_code: payment.ccCustomerCode,
        three_d_secure: payment.threeDSecure,
        hosted_form_nonce: payment.hostedFormNonce
      });
    }
    /**
     * @private
     * @param {PaymentRequestData} data
     * @return {Object}
     */

  }, {
    key: "mapToBigPayToken",
    value: function mapToBigPayToken(_ref) {
      var payment = _ref.payment;
      return (0, _utils.omitNil)({
        credit_card_number_confirmation: payment.ccNumber,
        token: payment.instrumentId,
        verification_value: payment.ccCvv,
        verification_nonce: payment.nonce,
        three_d_secure: payment.threeDSecure
      });
    }
    /**
     * @private
     * @param {PaymentRequestData} data
     * @return {Object}
     */

  }, {
    key: "mapToCryptogram",
    value: function mapToCryptogram(_ref2) {
      var payment = _ref2.payment;
      return (0, _utils.omitNil)({
        payment_cryptogram: payment.cryptogramId,
        eci: payment.eci,
        xid: payment.transactionId,
        month: payment.ccExpiry ? (0, _utils.toNumber)(payment.ccExpiry.month) : null,
        number: payment.ccNumber,
        year: payment.ccExpiry ? (0, _utils.toNumber)(payment.ccExpiry.year) : null,
        account_mask: payment.accountMask
      });
    }
  }]);

  return PaymentMapper;
}();

exports.default = PaymentMapper;
//# sourceMappingURL=payment-mapper.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v1/payment-mappers/store-mapper.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/v1/payment-mappers/store-mapper.js ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _utils = __webpack_require__(/*! ../../../common/utils */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/index.js");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var StoreMapper = /*#__PURE__*/function () {
  function StoreMapper() {
    _classCallCheck(this, StoreMapper);
  }

  _createClass(StoreMapper, [{
    key: "mapToStore",

    /**
     * @param {PaymentRequestData} data
     * @returns {Object}
     */
    value: function mapToStore(data) {
      var _data$store = data.store,
          store = _data$store === void 0 ? {} : _data$store;
      return (0, _utils.omitNil)({
        hash: store.storeHash,
        id: store.storeId ? (0, _utils.toString)(store.storeId) : null,
        name: store.storeName
      });
    }
  }], [{
    key: "create",

    /**
     * @returns {StoreMapper}
     */
    value: function create() {
      return new StoreMapper();
    }
  }]);

  return StoreMapper;
}();

exports.default = StoreMapper;
//# sourceMappingURL=store-mapper.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v2/payment-mappers/cart-mapper.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/v2/payment-mappers/cart-mapper.js ***!
  \***********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _utils = __webpack_require__(/*! ../../../common/utils */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/index.js");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var CartMapper = /*#__PURE__*/function () {
  function CartMapper() {
    _classCallCheck(this, CartMapper);
  }

  _createClass(CartMapper, [{
    key: "mapToCart",

    /**
     * @param {PaymentRequestData} data
     * @returns {Object}
     */
    value: function mapToCart(data) {
      var _data$cart = data.cart,
          cart = _data$cart === void 0 ? {} : _data$cart;
      return (0, _utils.omitNil)({
        currency_code: cart.currency,
        items: this.mapToItems(data),
        totals: this.mapToOrderTotals(data)
      });
    }
    /**
     * @private
     * @param {PaymentRequestData} data
     * @returns {Object[]}
     */

  }, {
    key: "mapToItems",
    value: function mapToItems(data) {
      var _this = this;

      var _data$cart2 = data.cart,
          cart = _data$cart2 === void 0 ? {
        items: []
      } : _data$cart2;
      return cart.items.map(function (itemData) {
        return (0, _utils.omitNil)({
          discount_amount: itemData.integerDiscount,
          name: itemData.name,
          price: itemData.integerAmount,
          unit_price: itemData.integerUnitPrice,
          quantity: itemData.quantity,
          sku: itemData.sku,
          tax_amount: itemData.integerTax,
          amount: itemData.integerAmountAfterDiscount,
          type: _this.mapToType(itemData)
        });
      });
    }
    /**
     * @private
     * @param {PaymentRequestData} data
     * @returns {Object}
     */

  }, {
    key: "mapToOrderTotals",
    value: function mapToOrderTotals(data) {
      var _data$cart3 = data.cart,
          cart = _data$cart3 === void 0 ? {} : _data$cart3;
      return (0, _utils.omitNil)({
        discount_total: cart.discount ? cart.discount.integerAmount : null,
        grand_total: cart.grandTotal ? cart.grandTotal.integerAmount : null,
        shipping_total: cart.shipping ? cart.shipping.integerAmount : null,
        subtotal: cart.subtotal ? cart.subtotal.integerAmount : null,
        surcharge_total: cart.handling ? cart.handling.integerAmount : null,
        tax_total: cart.taxTotal ? cart.taxTotal.integerAmount : null
      });
    }
    /**
     * @private
     * @param {Object} itemData
     * @returns {Object}
     */

  }, {
    key: "mapToType",
    value: function mapToType(itemData) {
      var types = {
        ItemPhysicalEntity: 'physical',
        ItemDigitalEntity: 'digital',
        ItemGiftCertificateEntity: 'gift_card'
      };
      return types[itemData.type];
    }
  }], [{
    key: "create",

    /**
     * @returns {CartMapper}
     */
    value: function create() {
      return new CartMapper();
    }
  }]);

  return CartMapper;
}();

exports.default = CartMapper;
//# sourceMappingURL=cart-mapper.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v2/payment-mappers/client-token-mapper.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/v2/payment-mappers/client-token-mapper.js ***!
  \*******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _utils = __webpack_require__(/*! ../../../common/utils */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/index.js");

var _cartMapper = _interopRequireDefault(__webpack_require__(/*! ./cart-mapper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v2/payment-mappers/cart-mapper.js"));

var _gatewayMapper = _interopRequireDefault(__webpack_require__(/*! ./gateway-mapper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v2/payment-mappers/gateway-mapper.js"));

var _quoteMapper = _interopRequireDefault(__webpack_require__(/*! ./quote-mapper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v2/payment-mappers/quote-mapper.js"));

var _storeMapper = _interopRequireDefault(__webpack_require__(/*! ./store-mapper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v2/payment-mappers/store-mapper.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var ClientTokenMapper = /*#__PURE__*/function () {
  _createClass(ClientTokenMapper, null, [{
    key: "create",

    /**
     * @returns {ClientTokenMapper}
     */
    value: function create() {
      var cartMapper = _cartMapper.default.create();

      var gatewayMapper = _gatewayMapper.default.create();

      var quoteMapper = _quoteMapper.default.create();

      var storeMapper = _storeMapper.default.create();

      return new ClientTokenMapper(cartMapper, gatewayMapper, quoteMapper, storeMapper);
    }
    /**
     * @param {CartMapper} cartMapper
     * @param {GatewayMapper} gatewayMapper
     * @param {QuoteMapper} quoteMapper
     * @param {StoreMapper} storeMapper
     */

  }]);

  function ClientTokenMapper(cartMapper, gatewayMapper, quoteMapper, storeMapper) {
    _classCallCheck(this, ClientTokenMapper);

    /**
     * @private
     * @type {CartMapper}
     */
    this.cartMapper = cartMapper;
    /**
     * @private
     * @type {GatewayMapper}
     */

    this.gatewayMapper = gatewayMapper;
    /**
     * @private
     * @type {QuoteMapper}
     */

    this.quoteMapper = quoteMapper;
    /**
     * @private
     * @type {StoreMapper}
     */

    this.storeMapper = storeMapper;
  }
  /**
   * @param {PaymentRequestData} data
   * @returns {Object}
   */


  _createClass(ClientTokenMapper, [{
    key: "mapToClientToken",
    value: function mapToClientToken(data) {
      return (0, _utils.omitNil)({
        cart: this.cartMapper.mapToCart(data),
        gateway: this.gatewayMapper.mapToGateway(data),
        quote: this.quoteMapper.mapToQuote(data),
        store: this.storeMapper.mapToStore(data)
      });
    }
  }]);

  return ClientTokenMapper;
}();

exports.default = ClientTokenMapper;
//# sourceMappingURL=client-token-mapper.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v2/payment-mappers/gateway-mapper.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/v2/payment-mappers/gateway-mapper.js ***!
  \**************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _utils = __webpack_require__(/*! ../../../common/utils */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/index.js");

var _paymentMethodIdMapper = _interopRequireDefault(__webpack_require__(/*! ../../payment-method-mappers/payment-method-id-mapper */ "./node_modules/@bigcommerce/bigpay-client/lib/payment/payment-method-mappers/payment-method-id-mapper.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var GatewayMapper = /*#__PURE__*/function () {
  _createClass(GatewayMapper, null, [{
    key: "create",

    /**
     * @returns {GatewayMapper}
     */
    value: function create() {
      var paymentMethodIdMapper = _paymentMethodIdMapper.default.create();

      return new GatewayMapper(paymentMethodIdMapper);
    }
    /**
     * @param {PaymentMethodIdMapper} paymentMethodIdMapper
     * @returns {void}
     */

  }]);

  function GatewayMapper(paymentMethodIdMapper) {
    _classCallCheck(this, GatewayMapper);

    /**
     * @private
     * @type {PaymentMethodIdMapper}
     */
    this.paymentMethodIdMapper = paymentMethodIdMapper;
  }
  /**
   * @param {PaymentRequestData} data
   * @returns {Object}
   */


  _createClass(GatewayMapper, [{
    key: "mapToGateway",
    value: function mapToGateway(data) {
      var _data$paymentMethod = data.paymentMethod,
          paymentMethod = _data$paymentMethod === void 0 ? {} : _data$paymentMethod;
      return (0, _utils.omitNil)({
        name: this.paymentMethodIdMapper.mapToId(paymentMethod)
      });
    }
  }]);

  return GatewayMapper;
}();

exports.default = GatewayMapper;
//# sourceMappingURL=gateway-mapper.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v2/payment-mappers/quote-mapper.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/v2/payment-mappers/quote-mapper.js ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _utils = __webpack_require__(/*! ../../../common/utils */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/index.js");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var QuoteMapper = /*#__PURE__*/function () {
  function QuoteMapper() {
    _classCallCheck(this, QuoteMapper);
  }

  _createClass(QuoteMapper, [{
    key: "mapToQuote",

    /**
     * @param {PaymentRequestData} data
     * @returns {Object}
     */
    value: function mapToQuote(data) {
      return (0, _utils.omitNil)({
        billing_address: this.mapToAddress(data, 'billingAddress'),
        shipping_address: this.mapToAddress(data, 'shippingAddress')
      });
    }
    /**
     * @private
     * @param {PaymentRequestData} data
     * @param {string} addressKey
     * @returns {Object}
     */

  }, {
    key: "mapToAddress",
    value: function mapToAddress(data, addressKey) {
      var _data$customer = data.customer,
          customer = _data$customer === void 0 ? {} : _data$customer;
      var address = data[addressKey] || {};
      return (0, _utils.omitNil)({
        address_line_1: address.addressLine1,
        address_line_2: address.addressLine2,
        city: address.city,
        company: address.company,
        country_code: address.countryCode,
        email: customer.email,
        first_name: address.firstName,
        last_name: address.lastName,
        phone: address.phone,
        postal_code: address.postCode,
        state: address.province
      });
    }
  }], [{
    key: "create",

    /**
     * @returns {QuoteMapper}
     */
    value: function create() {
      return new QuoteMapper();
    }
  }]);

  return QuoteMapper;
}();

exports.default = QuoteMapper;
//# sourceMappingURL=quote-mapper.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/payment/v2/payment-mappers/store-mapper.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/payment/v2/payment-mappers/store-mapper.js ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _utils = __webpack_require__(/*! ../../../common/utils */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/index.js");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var StoreMapper = /*#__PURE__*/function () {
  function StoreMapper() {
    _classCallCheck(this, StoreMapper);
  }

  _createClass(StoreMapper, [{
    key: "mapToStore",

    /**
     * @param {PaymentRequestData} data
     * @returns {Object}
     */
    value: function mapToStore(data) {
      return (0, _utils.omitNil)({
        locale: this.mapToLocale(data),
        store_identity: this.mapToIdentity(data),
        urls: this.mapToUrls(data)
      });
    }
    /**
     * @private
     * @param {PaymentRequestData} data
     * @returns {Object}
     */

  }, {
    key: "mapToLocale",
    value: function mapToLocale(data) {
      var _data$store = data.store,
          store = _data$store === void 0 ? {} : _data$store;
      return (0, _utils.omitNil)({
        country_code: store.countryCode,
        currency_code: store.currencyCode,
        language_code: store.storeLanguage
      });
    }
    /**
     * @private
     * @param {PaymentRequestData} data
     * @returns {Object}
     */

  }, {
    key: "mapToIdentity",
    value: function mapToIdentity(data) {
      var _data$store2 = data.store,
          store = _data$store2 === void 0 ? {} : _data$store2;
      return (0, _utils.omitNil)({
        id: store.storeId ? (0, _utils.toNumber)(store.storeId) : null,
        name: store.storeName
      });
    }
    /**
     * @private
     * @param {PaymentRequestData} data
     * @returns {Object}
     */

  }, {
    key: "mapToUrls",
    value: function mapToUrls(data) {
      var _data$store3 = data.store,
          store = _data$store3 === void 0 ? {} : _data$store3;
      return (0, _utils.omitNil)({
        cart: store.cartLink,
        checkout: store.checkoutLink,
        confirmation: store.orderConfirmationLink,
        home: store.shopPath
      });
    }
  }], [{
    key: "create",

    /**
     * @returns {StoreMapper}
     */
    value: function create() {
      return new StoreMapper();
    }
  }]);

  return StoreMapper;
}();

exports.default = StoreMapper;
//# sourceMappingURL=store-mapper.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/store/store-request-sender.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/store/store-request-sender.js ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _requestSender = _interopRequireDefault(__webpack_require__(/*! ../common/http-request/request-sender */ "./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/request-sender.js"));

var _methodTypes = __webpack_require__(/*! ../common/http-request/method-types */ "./node_modules/@bigcommerce/bigpay-client/lib/common/http-request/method-types.js");

var _urlHelper = _interopRequireDefault(__webpack_require__(/*! ./url-helper */ "./node_modules/@bigcommerce/bigpay-client/lib/store/url-helper.js"));

var _mappers = __webpack_require__(/*! ./v2/mappers */ "./node_modules/@bigcommerce/bigpay-client/lib/store/v2/mappers/index.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var StoreRequestSender = /*#__PURE__*/function () {
  _createClass(StoreRequestSender, null, [{
    key: "create",

    /**
     * @param {Object} config
     * @returns {StoreRequestSender}
     */
    value: function create(config) {
      var urlHelper = _urlHelper.default.create(config);

      var requestSender = _requestSender.default.create();

      return new StoreRequestSender(urlHelper, requestSender);
    }
    /**
     * @param {UrlHelper} urlHelper
     * @param {RequestSender} requestSender
     * @returns {void}
     */

  }]);

  function StoreRequestSender(urlHelper, requestSender) {
    _classCallCheck(this, StoreRequestSender);

    /**
     * @private
     * @type {UrlHelper}
     */
    this.urlHelper = urlHelper;
    /**
     * @private
     * @type {RequestSender}
     */

    this.requestSender = requestSender;
  }
  /**
   * @param {Object} data
   * @param {Function} [callback]
   * @return {void}
   */


  _createClass(StoreRequestSender, [{
    key: "loadInstruments",
    value: function loadInstruments(data, callback) {
      var url = this.urlHelper.getInstrumentsUrl(data.storeId, data.customerId, data.currencyCode);
      var options = {
        headers: (0, _mappers.mapToHeaders)(data)
      };
      this.requestSender.sendRequest(url, null, options, callback);
    }
    /**
     * @param {Object} data
     * @param {Function} [callback]
     * @return {void}
     */

  }, {
    key: "loadInstrumentsWithAddress",
    value: function loadInstrumentsWithAddress(data, callback) {
      var url = this.urlHelper.getTrustedShippingAddressUrl(data.storeId, data.customerId, data.currencyCode);
      var payload = (0, _mappers.mapToTrustedShippingAddressPayload)(data);
      var options = {
        method: _methodTypes.POST,
        headers: (0, _mappers.mapToHeaders)(data)
      };
      this.requestSender.postRequest(url, payload, options, callback);
    }
    /**
     * @param {Object} data
     * @param {Function} [callback]
     * @return {void}
     */

  }, {
    key: "deleteShopperInstrument",
    value: function deleteShopperInstrument(data, callback) {
      var url = this.urlHelper.getInstrumentByIdUrl(data.storeId, data.customerId, data.instrumentId, data.currencyCode);
      var options = {
        method: _methodTypes.DELETE,
        headers: (0, _mappers.mapToHeaders)(data)
      };
      this.requestSender.sendRequest(url, null, options, callback);
    }
  }]);

  return StoreRequestSender;
}();

exports.default = StoreRequestSender;
//# sourceMappingURL=store-request-sender.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/store/url-helper.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/store/url-helper.js ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var UrlHelper = /*#__PURE__*/function () {
  _createClass(UrlHelper, null, [{
    key: "create",

    /**
     * @param {Object} config
     * @param {string} config.host
     * @returns {CustomerMapper}
     */
    value: function create(config) {
      return new UrlHelper(config);
    }
    /**
     * @param {Object} config
     * @param {string} config.host
     * @returns {void}
     */

  }]);

  function UrlHelper(config) {
    _classCallCheck(this, UrlHelper);

    /**
     * @private
     * @type {Object}
     */
    this.config = config;
  }
  /**
   * @private
   * @returns {string}
   * @throws {Error}
   */


  _createClass(UrlHelper, [{
    key: "getInstrumentsUrl",

    /**
     * @param {number} storeId
     * @param {number} customerId
     * @param {string} currencyCode
     * @returns {string}
     */
    value: function getInstrumentsUrl(storeId, customerId, currencyCode) {
      return "".concat(this.host, "/api/v3/stores/").concat(storeId, "/shoppers/").concat(customerId, "/instruments?currency_code=").concat(currencyCode);
    }
    /**
     * @param {number} storeId
     * @param {number} customerId
     * @param {string} currencyCode
     * @return {string}
     */

  }, {
    key: "getTrustedShippingAddressUrl",
    value: function getTrustedShippingAddressUrl(storeId, customerId, currencyCode) {
      return "".concat(this.host, "/api/v3/stores/").concat(storeId, "/shoppers/").concat(customerId, "/instruments/trusted_shipping_address?currency_code=").concat(currencyCode);
    }
    /**
     * @param {number} storeId
     * @param {number} customerId
     * @param {number} instrumentId
     * @param {string} currencyCode
     * @returns {string}
     */

  }, {
    key: "getInstrumentByIdUrl",
    value: function getInstrumentByIdUrl(storeId, customerId, instrumentId, currencyCode) {
      return "".concat(this.host, "/api/v2/stores/").concat(storeId, "/shoppers/").concat(customerId, "/instruments/").concat(instrumentId, "?currency_code=").concat(currencyCode);
    }
  }, {
    key: "host",
    get: function get() {
      if (!this.config || !this.config.host) {
        throw new Error('Host URL unavailable or not supplied.');
      }

      return this.config.host;
    }
  }]);

  return UrlHelper;
}();

exports.default = UrlHelper;
//# sourceMappingURL=url-helper.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/bigpay-client/lib/store/v2/mappers/index.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@bigcommerce/bigpay-client/lib/store/v2/mappers/index.js ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.mapToInstrumentPayload = mapToInstrumentPayload;
exports.mapToTrustedShippingAddressPayload = mapToTrustedShippingAddressPayload;
exports.mapToHeaders = mapToHeaders;

var _utils = __webpack_require__(/*! ../../../common/utils */ "./node_modules/@bigcommerce/bigpay-client/lib/common/utils/index.js");

/**
 * @param {Object} [data={}]
 * @param {Object} data.billingAddress
 * @param {CreditCard} data.creditCard
 * @param {boolean} data.defaultInstrument
 * @param {string} data.providerName
 * @return {Object}
 */
function mapToInstrumentPayload() {
  var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var providerName = data.providerName,
      defaultInstrument = data.defaultInstrument;
  var provider = (0, _utils.omitNil)({
    name: providerName
  });
  return (0, _utils.omitNil)({
    provider: provider,
    credit_card: mapToCreditCard(data),
    billing_address: mapToAddress(data.billingAddress),
    default_instrument: defaultInstrument
  });
}
/**
 * @param {Object} [data={}]
 * @param {Object} data.shippingAddress
 * @return {Object}
 */


function mapToTrustedShippingAddressPayload() {
  var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  return (0, _utils.omitNil)({
    shipping_address: mapToAddress(data.shippingAddress)
  });
}
/**
 * @param {Object} data
 * @param {string} data.authToken
 * @return {Object}
 */


function mapToHeaders() {
  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
      Authorization = _ref.authToken;

  return (0, _utils.omitNil)({
    Authorization: Authorization
  });
}
/**
 * @param {AddressData} address
 * @return {Object}
 */


function mapToAddress() {
  var address = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var state = mapToState(address.provinceCode, address.province);
  return (0, _utils.omitNil)({
    address_line_1: address.addressLine1,
    address_line_2: address.addressLine2,
    city: address.city,
    company: address.company,
    country_code: address.countryCode,
    email: address.email,
    first_name: address.firstName,
    last_name: address.lastName,
    phone: address.phone,
    postal_code: address.postCode,
    state: state
  });
}
/**
 * @param {string} code
 * @param {string} name
 * @return {Object}
 */


function mapToState(code, name) {
  return (0, _utils.omitNil)({
    code: code,
    name: name
  });
}
/**
 * @param {Object} data
 * @param {CreditCard} data.creditCard
 * @return {Object}
 */


function mapToCreditCard(_ref2) {
  var _ref2$creditCard = _ref2.creditCard,
      creditCard = _ref2$creditCard === void 0 ? {} : _ref2$creditCard;
  var threeDSecure = (0, _utils.omitNil)(creditCard.threeDSecure);
  return (0, _utils.omitNil)({
    cardholder_name: creditCard.cardholderName,
    number: creditCard.number,
    month: creditCard.month,
    year: creditCard.year,
    verification_code: creditCard.verificationCode,
    issue_month: creditCard.issueMonth,
    issue_year: creditCard.issueYear,
    issue_number: creditCard.issueNumber,
    track_data: creditCard.trackData,
    is_manual_entry: creditCard.isManualEntry,
    icc_data: creditCard.iccData,
    fallback_reason: creditCard.fallbackReason,
    is_contactless: creditCard.isContactless,
    encrypted_pin_cryptogram: creditCard.encryptedPinCryptogram,
    encrypted_pin_ksn: creditCard.encryptedPinKsn,
    three_d_secure: threeDSecure
  });
}
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/checkout-sdk/dist/checkout-sdk.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@bigcommerce/checkout-sdk/dist/checkout-sdk.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=194)}([function(t,e){t.exports=__webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js")},function(t,e){t.exports=__webpack_require__(/*! @bigcommerce/data-store */ "./node_modules/@bigcommerce/data-store/lib/index.js")},function(t,e){t.exports=__webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js")},function(t,e){t.exports=__webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js")},,function(t,e){t.exports=__webpack_require__(/*! @bigcommerce/memoize */ "./node_modules/@bigcommerce/memoize/lib/index.js")},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.CreateConsignmentsRequested="CREATE_CONSIGNMENTS_REQUESTED",t.CreateConsignmentsSucceeded="CREATE_CONSIGNMENTS_SUCCEEDED",t.CreateConsignmentsFailed="CREATE_CONSIGNMENTS_FAILED",t.UpdateConsignmentRequested="UPDATE_CONSIGNMENT_REQUESTED",t.UpdateConsignmentSucceeded="UPDATE_CONSIGNMENT_SUCCEEDED",t.UpdateConsignmentFailed="UPDATE_CONSIGNMENT_FAILED",t.DeleteConsignmentRequested="DELETE_CONSIGNMENT_REQUESTED",t.DeleteConsignmentSucceeded="DELETE_CONSIGNMENT_SUCCEEDED",t.DeleteConsignmentFailed="DELETE_CONSIGNMENT_FAILED",t.UpdateShippingOptionRequested="UPDATE_SHIPPING_OPTION_REQUESTED",t.UpdateShippingOptionSucceeded="UPDATE_SHIPPING_OPTION_SUCCEEDED",t.UpdateShippingOptionFailed="UPDATE_SHIPPING_OPTION_FAILED",t.LoadShippingOptionsRequested="LOAD_SHIPPING_OPTIONS_REQUESTED",t.LoadShippingOptionsSucceeded="LOAD_SHIPPING_OPTIONS_SUCCEEDED",t.LoadShippingOptionsFailed="LOAD_SHIPPING_OPTIONS_FAILED"}(r||(r={}))},,function(t,e){t.exports=__webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js")},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.UpdateAddressFailed="SHIPPING_STRATEGY_UPDATE_ADDRESS_FAILED",t.UpdateAddressRequested="SHIPPING_STRATEGY_UPDATE_ADDRESS_REQUESTED",t.UpdateAddressSucceeded="SHIPPING_STRATEGY_UPDATE_ADDRESS_SUCCEEDED",t.SelectOptionFailed="SHIPPING_STRATEGY_SELECT_OPTION_FAILED",t.SelectOptionRequested="SHIPPING_STRATEGY_SELECT_OPTION_REQUESTED",t.SelectOptionSucceeded="SHIPPING_STRATEGY_SELECT_OPTION_SUCCEEDED",t.InitializeFailed="SHIPPING_STRATEGY_INITIALIZE_FAILED",t.InitializeRequested="SHIPPING_STRATEGY_INITIALIZE_REQUESTED",t.InitializeSucceeded="SHIPPING_STRATEGY_INITIALIZE_SUCCEEDED",t.DeinitializeFailed="SHIPPING_STRATEGY_DEINITIALIZE_FAILED",t.DeinitializeRequested="SHIPPING_STRATEGY_DEINITIALIZE_REQUESTED",t.DeinitializeSucceeded="SHIPPING_STRATEGY_DEINITIALIZE_SUCCEEDED",t.WidgetInteractionStarted="SHIPPING_STRATEGY_WIDGET_INTERACTION_STARTED",t.WidgetInteractionFinished="SHIPPING_STRATEGY_WIDGET_INTERACTION_FINISHED",t.WidgetInteractionFailed="SHIPPING_STRATEGY_WIDGET_INTERACTION_FAILED"}(r||(r={}))},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.SignInFailed="CUSTOMER_STRATEGY_SIGN_IN_FAILED",t.SignInRequested="CUSTOMER_STRATEGY_SIGN_IN_REQUESTED",t.SignInSucceeded="CUSTOMER_STRATEGY_SIGN_IN_SUCCEEDED",t.SignOutFailed="CUSTOMER_STRATEGY_SIGN_OUT_FAILED",t.SignOutRequested="CUSTOMER_STRATEGY_SIGN_OUT_REQUESTED",t.SignOutSucceeded="CUSTOMER_STRATEGY_SIGN_OUT_SUCCEEDED",t.InitializeFailed="CUSTOMER_STRATEGY_INITIALIZE_FAILED",t.InitializeRequested="CUSTOMER_STRATEGY_INITIALIZE_REQUESTED",t.InitializeSucceeded="CUSTOMER_STRATEGY_INITIALIZE_SUCCEEDED",t.DeinitializeFailed="CUSTOMER_STRATEGY_DEINITIALIZE_FAILED",t.DeinitializeRequested="CUSTOMER_STRATEGY_DEINITIALIZE_REQUESTED",t.DeinitializeSucceeded="CUSTOMER_STRATEGY_DEINITIALIZE_SUCCEEDED",t.WidgetInteractionStarted="CUSTOMER_STRATEGY_WIDGET_INTERACTION_STARTED",t.WidgetInteractionFinished="CUSTOMER_STRATEGY_WIDGET_INTERACTION_FINISHED",t.WidgetInteractionFailed="CUSTOMER_STRATEGY_WIDGET_INTERACTION_FAILED"}(r||(r={}))},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.ExecuteFailed="PAYMENT_STRATEGY_EXECUTE_FAILED",t.ExecuteRequested="PAYMENT_STRATEGY_EXECUTE_REQUESTED",t.ExecuteSucceeded="PAYMENT_STRATEGY_EXECUTE_SUCCEEDED",t.FinalizeFailed="PAYMENT_STRATEGY_FINALIZE_FAILED",t.FinalizeRequested="PAYMENT_STRATEGY_FINALIZE_REQUESTED",t.FinalizeSucceeded="PAYMENT_STRATEGY_FINALIZE_SUCCEEDED",t.InitializeFailed="PAYMENT_STRATEGY_INITIALIZE_FAILED",t.InitializeRequested="PAYMENT_STRATEGY_INITIALIZE_REQUESTED",t.InitializeSucceeded="PAYMENT_STRATEGY_INITIALIZE_SUCCEEDED",t.DeinitializeFailed="PAYMENT_STRATEGY_DEINITIALIZE_FAILED",t.DeinitializeRequested="PAYMENT_STRATEGY_DEINITIALIZE_REQUESTED",t.DeinitializeSucceeded="PAYMENT_STRATEGY_DEINITIALIZE_SUCCEEDED",t.WidgetInteractionStarted="PAYMENT_STRATEGY_WIDGET_INTERACTION_STARTED",t.WidgetInteractionFinished="PAYMENT_STRATEGY_WIDGET_INTERACTION_FINISHED",t.WidgetInteractionFailed="PAYMENT_STRATEGY_WIDGET_INTERACTION_FAILED"}(r||(r={}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r,i=n(0),o=n(22);!function(t){t[t.MissingBillingAddress=0]="MissingBillingAddress",t[t.MissingCart=1]="MissingCart",t[t.MissingCheckout=2]="MissingCheckout",t[t.MissingConsignments=3]="MissingConsignments",t[t.MissingCheckoutConfig=4]="MissingCheckoutConfig",t[t.MissingOrder=5]="MissingOrder",t[t.MissingOrderConfig=6]="MissingOrderConfig",t[t.MissingOrderId=7]="MissingOrderId",t[t.MissingPayment=8]="MissingPayment",t[t.MissingPaymentInstrument=9]="MissingPaymentInstrument",t[t.MissingPaymentMethod=10]="MissingPaymentMethod",t[t.MissingPaymentToken=11]="MissingPaymentToken",t[t.MissingShippingAddress=12]="MissingShippingAddress"}(r||(r={}));var a=function(t){function e(e){var n=t.call(this,function(t){switch(t){case r.MissingBillingAddress:return"Unable to proceed because billing address data is unavailable.";case r.MissingCart:return"Unable to proceed because cart data is unavailable.";case r.MissingConsignments:return"Unable to proceed because consignments data is unavailable.";case r.MissingCheckout:return"Unable to proceed because checkout data is unavailable.";case r.MissingCheckoutConfig:case r.MissingOrderConfig:return"Unable to proceed because configuration data is unavailable.";case r.MissingOrder:return"Unable to proceed because order data is unavailable.";case r.MissingOrderId:return"Unable to proceed because order ID is unavailable or not generated yet.";case r.MissingPayment:return"Unable to proceed because payment data is unavailable.";case r.MissingPaymentToken:return"Unable to proceed because the token required to submit a payment is missing.";case r.MissingPaymentMethod:return"Unable to proceed because payment method data is unavailable or not properly configured.";case r.MissingShippingAddress:return"Unable to proceed because shipping address data is unavailable.";default:return"Unable to proceed because the required data is unavailable."}}(e))||this;return n.subtype=e,n.name="MissingDataError",n.type="missing_data",n}return Object(i.__extends)(e,t),e}(o.a);e.b=a},,,,function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.LoadCheckoutRequested="LOAD_CHECKOUT_REQUESTED",t.LoadCheckoutSucceeded="LOAD_CHECKOUT_SUCCEEDED",t.LoadCheckoutFailed="LOAD_CHECKOUT_FAILED",t.UpdateCheckoutRequested="UPDATE_CHECKOUT_REQUESTED",t.UpdateCheckoutSucceeded="UPDATE_CHECKOUT_SUCCEEDED",t.UpdateCheckoutFailed="UPDATE_CHECKOUT_FAILED"}(r||(r={}))},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.LoadOrderRequested="LOAD_ORDER_REQUESTED",t.LoadOrderSucceeded="LOAD_ORDER_SUCCEEDED",t.LoadOrderFailed="LOAD_ORDER_FAILED",t.LoadOrderPaymentsRequested="LOAD_ORDER_PAYMENTS_REQUESTED",t.LoadOrderPaymentsSucceeded="LOAD_ORDER_PAYMENTS_SUCCEEDED",t.LoadOrderPaymentsFailed="LOAD_ORDER_PAYMENTS_FAILED",t.SubmitOrderRequested="SUBMIT_ORDER_REQUESTED",t.SubmitOrderSucceeded="SUBMIT_ORDER_SUCCEEDED",t.SubmitOrderFailed="SUBMIT_ORDER_FAILED",t.FinalizeOrderRequested="FINALIZE_ORDER_REQUESTED",t.FinalizeOrderSucceeded="FINALIZE_ORDER_SUCCEEDED",t.FinalizeOrderFailed="FINALIZE_ORDER_FAILED"}(r||(r={}))},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.LoadPaymentMethodRequested="LOAD_PAYMENT_METHOD_REQUESTED",t.LoadPaymentMethodSucceeded="LOAD_PAYMENT_METHOD_SUCCEEDED",t.LoadPaymentMethodFailed="LOAD_PAYMENT_METHOD_FAILED",t.LoadPaymentMethodsRequested="LOAD_PAYMENT_METHODS_REQUESTED",t.LoadPaymentMethodsSucceeded="LOAD_PAYMENT_METHODS_SUCCEEDED",t.LoadPaymentMethodsFailed="LOAD_PAYMENT_METHODS_FAILED"}(r||(r={}))},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.UpdateBillingAddressRequested="UPDATE_BILLING_ADDRESS_REQUESTED",t.UpdateBillingAddressSucceeded="UPDATE_BILLING_ADDRESS_SUCCEEDED",t.UpdateBillingAddressFailed="UPDATE_BILLING_ADDRESS_FAILED",t.ContinueAsGuestRequested="CONTINUE_AS_GUEST_REQUESTED",t.ContinueAsGuestSucceeded="CONTINUE_AS_GUEST_SUCCEEDED",t.ContinueAsGuestFailed="CONTINUE_AS_GUEST_FAILED"}(r||(r={}))},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.InitializeButtonFailed="INITIALIZE_BUTTON_FAILED",t.InitializeButtonRequested="INITIALIZE_BUTTON_REQUESTED",t.InitializeButtonSucceeded="INITIALIZE_BUTTON_SUCCEEDED",t.DeinitializeButtonFailed="DEINITIALIZE_BUTTON_FAILED",t.DeinitializeButtonRequested="DEINITIALIZE_BUTTON_REQUESTED",t.DeinitializeButtonSucceeded="DEINITIALIZE_BUTTON_SUCCEEDED"}(r||(r={}))},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.ApplyCouponRequested="APPLY_COUPON_REQUESTED",t.ApplyCouponSucceeded="APPLY_COUPON_SUCCEEDED",t.ApplyCouponFailed="APPLY_COUPON_FAILED",t.RemoveCouponRequested="REMOVE_COUPON_REQUESTED",t.RemoveCouponSucceeded="REMOVE_COUPON_SUCCEEDED",t.RemoveCouponFailed="REMOVE_COUPON_FAILED"}(r||(r={}))},function(t,e,n){"use strict";var r=n(0);var i=function(t){function e(e){var n,r,i=this.constructor,o=t.call(this,e||"An unexpected error has occurred.")||this;return o.name="StandardError",o.type="standard",n=o,r=i.prototype,Object.setPrototypeOf?Object.setPrototypeOf(n,r):n.__proto__=r,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(o,i):o.stack=new Error(o.message).stack,o}return Object(r.__extends)(e,t),e}(Error);e.a=i},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.CheckoutComplete="CHECKOUT_COMPLETE",t.CheckoutError="CHECKOUT_ERROR",t.CheckoutLoaded="CHECKOUT_LOADED",t.FrameError="FRAME_ERROR",t.FrameLoaded="FRAME_LOADED",t.SignedOut="SIGNED_OUT"}(r||(r={}))},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.LoadInstrumentsRequested="LOAD_INSTRUMENTS_REQUESTED",t.LoadInstrumentsSucceeded="LOAD_INSTRUMENTS_SUCCEEDED",t.LoadInstrumentsFailed="LOAD_INSTRUMENTS_FAILED",t.DeleteInstrumentRequested="DELETE_INSTRUMENT_REQUESTED",t.DeleteInstrumentSucceeded="DELETE_INSTRUMENT_SUCCEEDED",t.DeleteInstrumentFailed="DELETE_INSTRUMENT_FAILED"}(r||(r={}))},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.ApplyGiftCertificateRequested="APPLY_GIFT_CERTIFICATE_REQUESTED",t.ApplyGiftCertificateSucceeded="APPLY_GIFT_CERTIFICATE_SUCCEEDED",t.ApplyGiftCertificateFailed="APPLY_GIFT_CERTIFICATE_FAILED",t.RemoveGiftCertificateRequested="REMOVE_GIFT_CERTIFICATE_REQUESTED",t.RemoveGiftCertificateSucceeded="REMOVE_GIFT_CERTIFICATE_SUCCEEDED",t.RemoveGiftCertificateFailed="REMOVE_GIFT_CERTIFICATE_FAILED"}(r||(r={}))},,function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.InitializeRemoteBillingRequested="INITIALIZE_REMOTE_BILLING_REQUESTED",t.InitializeRemoteBillingSucceeded="INITIALIZE_REMOTE_BILLING_SUCCEEDED",t.InitializeRemoteBillingFailed="INITIALIZE_REMOTE_BILLING_FAILED",t.InitializeRemoteShippingRequested="INITIALIZE_REMOTE_SHIPPING_REQUESTED",t.InitializeRemoteShippingSucceeded="INITIALIZE_REMOTE_SHIPPING_SUCCEEDED",t.InitializeRemoteShippingFailed="INITIALIZE_REMOTE_SHIPPING_FAILED",t.InitializeRemotePaymentRequested="INITIALIZE_REMOTE_PAYMENT_REQUESTED",t.InitializeRemotePaymentSucceeded="INITIALIZE_REMOTE_PAYMENT_SUCCEEDED",t.InitializeRemotePaymentFailed="INITIALIZE_REMOTE_PAYMENT_FAILED",t.LoadRemoteSettingsRequested="LOAD_REMOTE_SETTINGS_REQUESTED",t.LoadRemoteSettingsSucceeded="LOAD_REMOTE_SETTINGS_SUCCEEDED",t.LoadRemoteSettingsFailed="LOAD_REMOTE_SETTINGS_FAILED",t.SignOutRemoteCustomerRequested="SIGN_OUT_REMOTE_CUSTOMER_REQUESTED",t.SignOutRemoteCustomerSucceeded="SIGN_OUT_REMOTE_CUSTOMER_SUCCEEDED",t.SignOutRemoteCustomerFailed="SIGN_OUT_REMOTE_CUSTOMER_FAILED",t.UpdateRemoteCheckout="UPDATE_REMOTE_CHECKOUT"}(r||(r={}))},,function(t,e,n){"use strict";var r,i,o;n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o})),function(t){t.Long="long",t.Short="short"}(r||(r={})),function(t){t.Default="default",t.Black="black",t.White="white"}(i||(i={})),function(t){t.Min="MIN",t.Full="FULL"}(o||(o={}))},,function(t,e){t.exports=__webpack_require__(/*! @bigcommerce/script-loader */ "./node_modules/@bigcommerce/script-loader/lib/index.js")},,function(t,e){t.exports=__webpack_require__(/*! card-validator */ "./node_modules/card-validator/index.js")},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.SignInCustomerRequested="SIGN_IN_CUSTOMER_REQUESTED",t.SignInCustomerSucceeded="SIGN_IN_CUSTOMER_SUCCEEDED",t.SignInCustomerFailed="SIGN_IN_CUSTOMER_FAILED",t.SignOutCustomerRequested="SIGN_OUT_CUSTOMER_REQUESTED",t.SignOutCustomerSucceeded="SIGN_OUT_CUSTOMER_SUCCEEDED",t.SignOutCustomerFailed="SIGN_OUT_CUSTOMER_FAILED",t.CreateCustomerRequested="CREATE_CUSTOMER_REQUESTED",t.CreateCustomerSucceeded="CREATE_CUSTOMER_SUCCEEDED",t.CreateCustomerFailed="CREATE_CUSTOMER_FAILED"}(r||(r={}))},function(t,e,n){"use strict";var r=n(0),i=n(22),o={body:{},headers:{},status:0},a=function(t){function e(e,n){var r=void 0===n?{}:n,i=r.message,a=r.errors,s=this,c=e||o,u=c.body,d=c.headers,p=c.status;return(s=t.call(this,i||"An unexpected error has occurred.")||this).name="RequestError",s.type="request",s.body=u,s.headers=d,s.status=p,s.errors=a||[],s}return Object(r.__extends)(e,t),e}(i.a);e.a=a},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i}));var r="ACKNOWLEDGE",i="FINALIZE"},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.LoadConfigRequested="LOAD_CONFIG_REQUESTED",t.LoadConfigSucceeded="LOAD_CONFIG_SUCCEEDED",t.LoadConfigFailed="LOAD_CONFIG_FAILED"}(r||(r={}))},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.LoadFormFieldsRequested="LOAD_FORM_FIELDS_REQUESTED",t.LoadFormFieldsSucceeded="LOAD_FORM_FIELDS_SUCCEEDED",t.LoadFormFieldsFailed="LOAD_FORM_FIELDS_FAILED"}(r||(r={}))},function(t,e,n){"use strict";var r;!function(t){t.Json="application/json",t.JsonV1="application/vnd.bc.v1+json"}(r||(r={})),e.a=r},function(t,e,n){"use strict";function r(t){return Boolean(t.instrumentId)}function i(t){return Boolean(t.instrumentId)&&!t.hasOwnProperty("ccNumber")&&!t.hasOwnProperty("ccCvv")}function o(t){var e=t.formattedPayload;return!!e&&("string"==typeof e.bigpay_token||Boolean(e.bigpay_token&&e.bigpay_token.token))}n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return o}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(2);function i(t){return Object(r.isPlainObject)(t)}},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.LoadCountriesRequested="LOAD_COUNTRIES_REQUESTED",t.LoadCountriesSucceeded="LOAD_COUNTRIES_SUCCEEDED",t.LoadCountriesFailed="LOAD_COUNTRIES_FAILED"}(r||(r={}))},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.LoadShippingCountriesRequested="LOAD_SHIPPING_COUNTRIES_REQUESTED",t.LoadShippingCountriesSucceeded="LOAD_SHIPPING_COUNTRIES_SUCCEEDED",t.LoadShippingCountriesFailed="LOAD_SHIPPING_COUNTRIES_FAILED"}(r||(r={}))},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.SendSignInEmailRequested="SEND_SIGNIN_EMAIL_REQUESTED",t.SendSignInEmailSucceeded="SEND_SIGNIN_EMAIL_SUCCEEDED",t.SendSignInEmailFailed="SEND_SIGNIN_EMAIL_FAILED"}(r||(r={}))},function(t,e,n){"use strict";var r=n(0),i=function(t){function e(e){var n=t.call(this,e||"Unable to proceed because the client library of a payment method is not loaded or ready to be used.")||this;return n.name="PaymentMethodClientUnavailableError",n.type="payment_method_client_unavailable",n}return Object(r.__extends)(e,t),e}(n(22).a);e.a=i},function(t,e){t.exports=__webpack_require__(/*! @bigcommerce/request-sender */ "./node_modules/@bigcommerce/request-sender/esm/index.js")},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.ApplyStoreCreditRequested="APPLY_STORE_CREDIT_REQUESTED",t.ApplyStoreCreditSucceeded="APPLY_STORE_CREDIT_SUCCEEDED",t.ApplyStoreCreditFailed="APPLY_STORE_CREDIT_FAILED"}(r||(r={}))},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.AttachSucceeded="HOSTED_INPUT:ATTACH_SUCCEEDED",t.AttachFailed="HOSTED_INPUT:ATTACH_FAILED",t.BinChanged="HOSTED_INPUT:BIN_CHANGED",t.Blurred="HOSTED_INPUT:BLURRED",t.Changed="HOSTED_INPUT:CHANGED",t.CardTypeChanged="HOSTED_INPUT:CARD_TYPE_CHANGED",t.Entered="HOSTED_INPUT:ENTERED",t.Focused="HOSTED_INPUT:FOCUSED",t.SubmitSucceeded="HOSTED_INPUT:SUBMIT_SUCCEEDED",t.SubmitFailed="HOSTED_INPUT:SUBMIT_FAILED",t.Validated="HOSTED_INPUT:VALIDATED"}(r||(r={}))},,,function(t,e){t.exports=__webpack_require__(/*! local-storage-fallback */ "./node_modules/local-storage-fallback/lib/index.js")},function(t,e,n){"use strict";var r=n(0),i=function(t){function e(e){var n=t.call(this,e||"Invalid arguments have been provided.")||this;return n.name="InvalidArgumentError",n.type="invalid_argument",n}return Object(r.__extends)(e,t),e}(n(22).a);e.a=i},,,,function(t,e,n){"use strict";function r(t,e){return t.type===e}n.d(e,"a",(function(){return r}))},,function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i}));var r="PAYMENT_TYPE_HOSTED",i="PAYMENT_TYPE_OFFLINE"},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(107);function i(t,e){var n;return Object(r.a)(t)?n=t.id:e&&e.length&&(n=e[0].id),{id:n,firstName:t.firstName,lastName:t.lastName,company:t.company,addressLine1:t.address1,addressLine2:t.address2,city:t.city,province:t.stateOrProvince,provinceCode:t.stateOrProvinceCode,postCode:t.postalCode,country:t.country,countryCode:t.countryCode,phone:t.phone,customFields:t.customFields}}},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.SubmitPaymentRequested="SUBMIT_PAYMENT_REQUESTED",t.SubmitPaymentSucceeded="SUBMIT_PAYMENT_SUCCEEDED",t.SubmitPaymentFailed="SUBMIT_PAYMENT_FAILED",t.InitializeOffsitePaymentRequested="INITIALIZE_OFFSITE_PAYMENT_REQUESTED",t.InitializeOffsitePaymentSucceeded="INITIALIZE_OFFSITE_PAYMENT_SUCCEEDED",t.InitializeOffsitePaymentFailed="INITIALIZE_OFFSITE_PAYMENT_FAILED"}(r||(r={}))},,,function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(2);function i(t){return Object(r.uniq)(t).join(",")}},function(t,e,n){"use strict";var r=n(0),i=n(79);var o=n(76);function a(t,e,n){return void 0===n&&(n="id"),Object.keys(t).reduce((function(a,s){return Object(r.__spreadArrays)(a,t[s].map((function(t){return"giftCertificates"===s?function(t,e){var n=new i.a(e);return{id:t.id,imageUrl:"",name:t.name,amount:t.amount,amountAfterDiscount:t.amount,discount:0,integerAmount:n.toInteger(t.amount),integerAmountAfterDiscount:n.toInteger(t.amount),integerUnitPrice:n.toInteger(t.amount),integerUnitPriceAfterDiscount:n.toInteger(t.amount),integerDiscount:0,quantity:1,sender:t.sender,recipient:t.recipient,type:"ItemGiftCertificateEntity",attributes:[],variantId:null}}(t,e):Object(o.a)(t,function(t){switch(t){case"physicalItems":return"ItemPhysicalEntity";case"digitalItems":return"ItemDigitalEntity";case"giftCertificates":return"ItemGiftCertificateEntity";default:return""}}(s),e,n)})))}),[])}n.d(e,"a",(function(){return a}))},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.InitializeFailed="SPAM_PROTECTION_INITIALIZE_FAILED",t.InitializeSucceeded="SPAM_PROTECTION_INITIALIZE_SUCCEEDED",t.InitializeRequested="SPAM_PROTECTION_INITIALIZE_REQUESTED",t.VerifyCheckoutRequested="SPAM_PROTECTION_CHECKOUT_VERIFY_REQUESTED",t.VerifyCheckoutSucceeded="SPAM_PROTECTION_CHECKOUT_VERIFY_SUCCEEDED",t.VerifyCheckoutFailed="SPAM_PROTECTION_CHECKOUT_VERIFY_FAILED",t.ExecuteRequested="SPAM_PROTECTION_EXECUTE_REQUESTED",t.ExecuteSucceeded="SPAM_PROTECTION_EXECUTE_SUCCEEDED",t.ExecuteFailed="SPAM_PROTECTION_EXECUTE_FAILED"}(r||(r={}))},function(t,e){t.exports=__webpack_require__(/*! shallowequal */ "./node_modules/shallowequal/index.js")},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.AttachRequested="HOSTED_FIELD:ATTACH_REQUESTED",t.SubmitRequested="HOSTED_FIELD:SUBMITTED_REQUESTED",t.ValidateRequested="HOSTED_FIELD:VALIDATE_REQUESTED"}(r||(r={}))},,,function(t,e,n){"use strict";function r(t,e,n){return t===e||(t&&e&&"object"==typeof t&&"object"==typeof e?Array.isArray(t)&&Array.isArray(e)?function(t,e,n){if(t.length!==e.length)return!1;for(var i=0,o=t.length;i<o;i++)if(!r(t[i],e[i],n))return!1;return!0}(t,e,n):!Array.isArray(t)&&!Array.isArray(e)&&(t instanceof Date&&e instanceof Date?function(t,e){return t.getTime()===e.getTime()}(t,e):!(t instanceof Date||e instanceof Date)&&(t instanceof RegExp&&e instanceof RegExp?function(t,e){return t.toString()===e.toString()}(t,e):!(t instanceof RegExp||e instanceof RegExp)&&function(t,e,n){var i=n&&n.keyFilter,o=i?Object.keys(t).filter(i):Object.keys(t),a=i?Object.keys(e).filter(i):Object.keys(e);if(o.length!==a.length)return!1;for(var s=0,c=o.length;s<c;s++){var u=o[s];if(!e.hasOwnProperty(u))return!1;if(!r(t[u],e[u],n))return!1}return!0}(t,e,n))):t===e)}n.d(e,"a",(function(){return r}))},function(t,e){t.exports=__webpack_require__(/*! @bigcommerce/form-poster */ "./node_modules/@bigcommerce/form-poster/lib/index.js")},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="This API endpoint is for internal use only and may change in the future"},,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(79);function i(t,e,n,i){void 0===i&&(i="id");var o=new r.a(n);return{id:t[i],imageUrl:t.imageUrl,amount:t.extendedListPrice,amountAfterDiscount:t.extendedSalePrice,discount:t.discountAmount,integerAmount:o.toInteger(t.extendedListPrice),integerAmountAfterDiscount:o.toInteger(t.extendedSalePrice),integerDiscount:o.toInteger(t.discountAmount),integerUnitPrice:o.toInteger(t.listPrice),integerUnitPriceAfterDiscount:o.toInteger(t.salePrice),downloadsPageUrl:t.downloadPageUrl,name:t.name,quantity:t.quantity,brand:t.brand,sku:t.sku,categoryNames:t.categoryNames,variantId:t.variantId,productId:t.productId,attributes:(t.options||[]).map((function(t){return{name:t.name,value:t.value}})),addedByPromotion:t.addedByPromotion,type:e}}},function(t,e){t.exports=__webpack_require__(/*! reselect */ "./node_modules/reselect/es/index.js")},function(t,e,n){"use strict";function r(t,e){return{description:t.description,module:t.type,price:t.cost,id:t.id,selected:e,isRecommended:t.isRecommended,imageUrl:t.imageUrl,transitTime:t.transitTime}}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r=function(){function t(t){this._decimalPlaces=t}return t.prototype.toInteger=function(t){return Math.round(t*Math.pow(10,this._decimalPlaces))},t}();e.a=r},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(52);function i(t){if(!/^(https?:)?\/\//.test(t))throw new r.a("The provided URL must be absolute.");var e=document.createElement("a");e.href=t;var n=e.port&&-1!==t.indexOf(e.hostname+":"+e.port)?e.port:"";return{hash:e.hash,hostname:e.hostname,href:e.href,origin:e.protocol+"//"+e.hostname+(n?":"+n:""),pathname:e.pathname,port:n,protocol:e.protocol,search:e.search}}},,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(0),i=n(5);function o(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=e.pop();return t.apply(void 0,Object(r.__spreadArrays)(e,[function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=o.apply(void 0,t);return"function"==typeof n?Object(i.memoize)(n):n}]))}}},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.ClearError="CLEAR_ERROR"}(r||(r={}))},function(t,e,n){"use strict";var r=n(0),i=n(1),o=n(3),a=n(92),s=n(18),c=function(){function t(t){this._requestSender=t}return t.prototype.loadPaymentMethods=function(t){var e=this;return o.Observable.create((function(n){n.next(Object(i.createAction)(s.a.LoadPaymentMethodsRequested)),e._requestSender.loadPaymentMethods(t).then((function(t){var e={deviceSessionId:t.headers["x-device-session-id"],sessionHash:t.headers["x-session-hash"]};n.next(Object(i.createAction)(s.a.LoadPaymentMethodsSucceeded,t.body,e)),n.complete()})).catch((function(t){n.error(Object(i.createErrorAction)(s.a.LoadPaymentMethodsFailed,t))}))}))},t.prototype.loadPaymentMethod=function(t,e){var n=this;return o.Observable.create((function(r){r.next(Object(i.createAction)(s.a.LoadPaymentMethodRequested,void 0,{methodId:t})),n._requestSender.loadPaymentMethod(t,e).then((function(e){r.next(Object(i.createAction)(s.a.LoadPaymentMethodSucceeded,e.body,{methodId:t})),r.complete()})).catch((function(e){r.error(Object(i.createErrorAction)(s.a.LoadPaymentMethodFailed,e,{methodId:t}))}))}))},Object(r.__decorate)([a.a],t.prototype,"loadPaymentMethod",null),t}();e.a=c},function(t,e,n){"use strict";var r=n(39),i=n(72),o=function(){function t(t){this._requestSender=t}return t.prototype.loadPaymentMethods=function(t){var e=(void 0===t?{}:t).timeout;return this._requestSender.get("/api/storefront/payments",{timeout:e,headers:{Accept:r.a.JsonV1,"X-API-INTERNAL":i.a}})},t.prototype.loadPaymentMethod=function(t,e){var n=(void 0===e?{}:e).timeout,o="/api/storefront/payments/"+t;return this._requestSender.get(o,{timeout:n,headers:{Accept:r.a.JsonV1,"X-API-INTERNAL":i.a}})},t}();e.a=o},function(t,e,n){"use strict";e.a=["cart.lineItems.physicalItems.options","cart.lineItems.digitalItems.options","customer","customer.customerGroup","payments","promotions.banners"]},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(1),i=n(3);function o(t,e,n){return(o=e)&&o.type&&o.error?Object(i.concat)(Object(i.of)(e),Object(i.throwError)(Object(r.createErrorAction)(t,e.payload,n))):Object(i.throwError)(Object(r.createErrorAction)(t,e,n));var o}},function(t,e,n){"use strict";var r=n(0),i=function(t){function e(e){var n=t.call(this,e||"Unable to proceed because the client library of a payment method has thrown an unexpected error.")||this;return n.name="PaymentMethodFailedError",n.type="payment_method_client_invalid",n}return Object(r.__extends)(e,t),e}(n(22).a);e.a=i},function(t,e,n){"use strict";var r=n(0),i=n(5),o=n(3),a=n(8);function s(t){return Object(i.memoize)((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var s=t.call.apply(t,Object(r.__spreadArrays)([this],e));return s instanceof o.Observable?Object(o.from)(s).pipe(Object(a.shareReplay)()):"function"==typeof s?Object(i.memoize)((function(t){return Object(o.from)(s(t)).pipe(Object(a.shareReplay)())})):s}))}function c(t){return t&&"boolean"==typeof t.useCache}function u(t,e,n){var i=new WeakMap;function o(t){var n=this;return function(){for(var o,a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var d=a[a.length-1],p=(c(d)?d:{useCache:!1}).useCache;if(!p)return t.call.apply(t,Object(r.__spreadArrays)([n],a));var h=i.get(n)||{};return i.get(n)||i.set(n,h),h[e]||(h[e]=s(t)),(o=h[e]).call.apply(o,Object(r.__spreadArrays)([n],a))}}return{get:function(){if("function"!=typeof n.value)throw new Error("Decorator should be used in functions");var t=o.call(this,n.value);return Object.defineProperty(this,e,Object(r.__assign)(Object(r.__assign)({},n),{value:t})),t}}}n.d(e,"a",(function(){return u}))},,,,,function(t,e,n){"use strict";var r=n(0);function i(t,e,n){if("function"!=typeof n.value)return n;var i=n.value;return{get:function(){var t=i.bind(this);return Object.defineProperty(this,e,Object(r.__assign)(Object(r.__assign)({},n),{value:t})),t},set:function(t){i=t}}}e.a=function(t,e,n){return e&&n?i(t,e,n):function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e}(t);return Object.getOwnPropertyNames(t.prototype).forEach((function(n){var r=Object.getOwnPropertyDescriptor(t.prototype,n);r&&"constructor"!==n&&Object.defineProperty(e.prototype,n,i(t.prototype,n,r))})),e}(t)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(59);function i(t,e){var n=t.firstName||e.firstName||"",i=t.lastName||e.lastName||"";return{addresses:(t.addresses||[]).map((function(t){return Object(r.a)(t)})),customerId:t.id,isGuest:t.isGuest,storeCredit:t.storeCredit,email:t.email||e.email||"",firstName:n,lastName:i,name:t.fullName||[n,i].join(" "),customerGroupName:t.customerGroup&&t.customerGroup.name}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(0),i=n(2),o=n(64),a=n(79),s=n(110);n(58);function c(t,e){void 0===e&&(e={});var n,r,c=t.currency.decimalPlaces,u=new a.a(c);return{id:t.orderId,items:Object(o.a)(t.lineItems,t.currency.decimalPlaces,"productId"),orderId:t.orderId,currency:t.currency.code,customerCanBeCreated:t.customerCanBeCreated,payment:p(t.payments,e.payment),subtotal:{amount:t.baseAmount,integerAmount:u.toInteger(t.baseAmount)},coupon:{discountedAmount:Object(i.reduce)(t.coupons,(function(t,e){return t+e.discountedAmount}),0),coupons:t.coupons.map(s.a)},discount:{amount:t.discountAmount,integerAmount:u.toInteger(t.discountAmount)},token:e.orderToken,callbackUrl:e.callbackUrl,discountNotifications:[],giftCertificate:(n=t.payments,r=Object(i.filter)(n,{providerId:"giftcertificate"}),{totalDiscountedAmount:Object(i.reduce)(r,(function(t,e){return e.amount+t}),0),appliedGiftCertificates:Object(i.keyBy)(r.map((function(t){return{code:t.detail.code,discountedAmount:t.amount,remainingBalance:t.detail.remaining,giftCertificate:{balance:t.amount+t.detail.remaining,code:t.detail.code,purchaseDate:""}}})),"code")}),socialData:l(t),status:t.status,hasDigitalItems:t.hasDigitalItems,isDownloadable:t.isDownloadable,isComplete:t.isComplete,shipping:{amount:t.shippingCostTotal,integerAmount:u.toInteger(t.shippingCostTotal),amountBeforeDiscount:t.shippingCostBeforeDiscount,integerAmountBeforeDiscount:u.toInteger(t.shippingCostBeforeDiscount)},storeCredit:{amount:d(t.payments)},taxes:t.taxes,taxTotal:{amount:t.taxTotal,integerAmount:u.toInteger(t.taxTotal)},handling:{amount:t.handlingCostTotal,integerAmount:u.toInteger(t.handlingCostTotal)},grandTotal:{amount:t.orderAmount,integerAmount:t.orderAmountAsInteger}}}function u(t){return"PAYMENT_STATUS_"+t}function d(t){var e=Object(i.find)(t,{providerId:"storecredit"});return e?e.amount:0}function p(t,e){void 0===e&&(e={});var n=Object(i.find)(t,h);return n?{id:n.providerId,status:u(n.detail.step),helpText:n.detail.instructions,returnUrl:e.returnUrl}:{}}function h(t){return"giftcertificate"!==t.providerId&&"storecredit"!==t.providerId}function l(t){var e={};return Object(r.__spreadArrays)(t.lineItems.physicalItems,t.lineItems.digitalItems).forEach((function(t){var n;e[t.id]=(n=t,["fb","tw","gp"].reduce((function(t,e){var r=n.socialMedia&&Object(i.find)(n.socialMedia,(function(t){return t.code===e}));return r?(t[e]={name:n.name,description:n.name,image:n.imageUrl,url:r.link,shareText:r.text,sharingLink:r.link,channelName:r.channel,channelCode:r.code},t):t}),{}))})),e}},function(t,e,n){"use strict";var r=n(2),i=n(79),o=n(110),a=n(143);var s=n(64);function c(t){var e,n,c=t.cart.currency.decimalPlaces,u=new i.a(c);return{id:t.cart.id,items:Object(s.a)(t.cart.lineItems,c),currency:t.cart.currency.code,coupon:{discountedAmount:Object(r.reduce)(t.cart.coupons,(function(t,e){return t+e.discountedAmount}),0),coupons:t.cart.coupons.map(o.a)},discount:{amount:t.cart.discountAmount,integerAmount:u.toInteger(t.cart.discountAmount)},discountNotifications:(e=t.promotions,n=[],(e||[]).forEach((function(t){(t.banners||[]).forEach((function(t){n.push({placeholders:[],discountType:null,message:"",messageHtml:t.text})}))})),n),giftCertificate:{totalDiscountedAmount:Object(r.reduce)(t.giftCertificates,(function(t,e){return t+e.used}),0),appliedGiftCertificates:Object(r.keyBy)(t.giftCertificates.map(a.a),"code")},shipping:{amount:t.shippingCostTotal,integerAmount:u.toInteger(t.shippingCostTotal),amountBeforeDiscount:t.shippingCostBeforeDiscount,integerAmountBeforeDiscount:u.toInteger(t.shippingCostBeforeDiscount),required:Object(r.some)(t.cart.lineItems.physicalItems,(function(t){return t.isShippingRequired}))},subtotal:{amount:t.subtotal,integerAmount:u.toInteger(t.subtotal)},storeCredit:{amount:t.customer?t.customer.storeCredit:0},taxSubtotal:{amount:t.taxTotal,integerAmount:u.toInteger(t.taxTotal)},taxes:t.taxes,taxTotal:{amount:t.taxTotal,integerAmount:u.toInteger(t.taxTotal)},handling:{amount:t.handlingCostTotal,integerAmount:u.toInteger(t.handlingCostTotal)},grandTotal:{amount:t.grandTotal,integerAmount:u.toInteger(t.grandTotal)}}}n.d(e,"a",(function(){return c}))},,function(t,e){t.exports=__webpack_require__(/*! @bigcommerce/bigpay-client */ "./node_modules/@bigcommerce/bigpay-client/lib/index.js")},function(t,e,n){"use strict";var r,i,o,a,s;n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return s})),function(t){t.de="eu",t.jp="fe",t.uk="eu",t.us="na"}(r||(r={})),function(t){t.en_US="en_US",t.en_GB="en_GB",t.de_DE="de_DE",t.fr_FR="fr_FR",t.it_IT="it_IT",t.es_ES="es_ES",t.ja_JP="ja_JP"}(i||(i={})),function(t){t.Home="Home",t.Product="Product",t.Cart="Cart",t.Checkout="Checkout",t.Other="Other"}(o||(o={})),function(t){t.USD="USD",t.EUR="EUR",t.GBP="GBP",t.JPY="JPY"}(a||(a={})),function(t){t.PayAndShip="PayAndShip",t.PayOnly="PayOnly"}(s||(s={}))},function(t,e,n){"use strict";var r=n(0),i=n(45),o=function(){function t(t,e){void 0===e&&(e=window),this._scriptLoader=t,this._window=e}return t.prototype.loadClient=function(){var t=this;return this._scriptLoader.loadScript("//js.braintreegateway.com/web/3.59.0/js/client.min.js").then((function(){if(!t._window.braintree||!t._window.braintree.client)throw new i.a;return t._window.braintree.client}))},t.prototype.load3DS=function(){var t=this;return this._scriptLoader.loadScript("//js.braintreegateway.com/web/3.59.0/js/three-d-secure.min.js").then((function(){if(!t._window.braintree||!t._window.braintree.threeDSecure)throw new i.a;return t._window.braintree.threeDSecure}))},t.prototype.loadDataCollector=function(){var t=this;return this._scriptLoader.loadScript("//js.braintreegateway.com/web/3.59.0/js/data-collector.min.js").then((function(){if(!t._window.braintree||!t._window.braintree.dataCollector)throw new i.a;return t._window.braintree.dataCollector}))},t.prototype.loadPaypal=function(){var t=this;return this._scriptLoader.loadScript("//js.braintreegateway.com/web/3.59.0/js/paypal.min.js").then((function(){if(!t._window.braintree||!t._window.braintree.paypal)throw new i.a;return t._window.braintree.paypal}))},t.prototype.loadPaypalCheckout=function(){var t=this;return this._scriptLoader.loadScript("//js.braintreegateway.com/web/3.59.0/js/paypal-checkout.min.js").then((function(){if(!t._window.braintree||!t._window.braintree.paypalCheckout)throw new i.a;return t._window.braintree.paypalCheckout}))},t.prototype.loadVisaCheckout=function(){var t=this;return this._scriptLoader.loadScript("//js.braintreegateway.com/web/3.59.0/js/visa-checkout.min.js").then((function(){if(!t._window.braintree||!t._window.braintree.visaCheckout)throw new i.a;return t._window.braintree.visaCheckout}))},t.prototype.loadGooglePayment=function(){var t=this;return this._scriptLoader.loadScript("//js.braintreegateway.com/web/3.59.0/js/google-payment.min.js").then((function(){if(!t._window.braintree||!t._window.braintree.googlePayment)throw new i.a;return t._window.braintree.googlePayment}))},t.prototype.loadHostedFields=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return[4,this._scriptLoader.loadScript("//js.braintreegateway.com/web/3.59.0/js/hosted-fields.min.js")];case 1:if(t.sent(),!this._window.braintree||!this._window.braintree.hostedFields)throw new i.a;return[2,this._window.braintree.hostedFields]}}))}))},t}();e.a=o},function(t,e,n){"use strict";var r=n(0),i=n(111),o=function(){function t(t){this._braintreeScriptLoader=t,this._dataCollectors={}}return t.prototype.initialize=function(t){this._clientToken=t},t.prototype.getClient=function(){var t=this;if(!this._clientToken)throw new i.b(i.a.PaymentNotInitialized);return this._client||(this._client=this._braintreeScriptLoader.loadClient().then((function(e){return e.create({authorization:t._clientToken})}))),this._client},t.prototype.getPaypal=function(){return this._paypal||(this._paypal=Promise.all([this.getClient(),this._braintreeScriptLoader.loadPaypal()]).then((function(t){var e=t[0];return t[1].create({client:e})}))),this._paypal},t.prototype.getPaypalCheckout=function(){return this._paypalCheckout||(this._paypalCheckout=Promise.all([this.getClient(),this._braintreeScriptLoader.loadPaypalCheckout()]).then((function(t){var e=t[0];return t[1].create({client:e})}))),this._paypalCheckout},t.prototype.get3DS=function(){return this._3ds||(this._3ds=Promise.all([this.getClient(),this._braintreeScriptLoader.load3DS()]).then((function(t){var e=t[0];return t[1].create({client:e,version:2})}))),this._3ds},t.prototype.getDataCollector=function(t){var e=t&&t.paypal?"paypal":"default",n=this._dataCollectors[e];return n||(n=Promise.all([this.getClient(),this._braintreeScriptLoader.loadDataCollector()]).then((function(e){var n=e[0];return e[1].create(Object(r.__assign)({client:n,kount:!0},t))})).catch((function(t){if(t&&"DATA_COLLECTOR_KOUNT_NOT_ENABLED"===t.code)return{deviceData:void 0,teardown:function(){return Promise.resolve()}};throw t})),this._dataCollectors[e]=n),n},t.prototype.getVisaCheckout=function(){return this._visaCheckout||(this._visaCheckout=Promise.all([this.getClient(),this._braintreeScriptLoader.loadVisaCheckout()]).then((function(t){var e=t[0];return t[1].create({client:e})}))),this._visaCheckout},t.prototype.getGooglePaymentComponent=function(){return this._googlePay||(this._googlePay=Promise.all([this.getClient(),this._braintreeScriptLoader.loadGooglePayment()]).then((function(t){var e=t[0];return t[1].create({client:e})}))),this._googlePay},t.prototype.createHostedFields=function(t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(r.__generator)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this.getClient(),this._braintreeScriptLoader.loadHostedFields()])];case 1:return e=i.sent(),n=e[0],[2,e[1].create(Object(r.__assign)(Object(r.__assign)({},t),{client:n}))]}}))}))},t.prototype.teardown=function(){var t=this;return Promise.all([this._teardown(this._3ds),this._teardown(this._dataCollectors.default),this._teardown(this._dataCollectors.paypal),this._teardown(this._visaCheckout),this._teardown(this._googlePay)]).then((function(){t._3ds=void 0,t._visaCheckout=void 0,t._dataCollectors={},t._googlePay=void 0}))},t.prototype._teardown=function(t){return t?t.then((function(t){return t.teardown()})):Promise.resolve()},t}();e.a=o},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.StyleConfigured="STYLE_CONFIGURED"}(r||(r={}))},function(t,e,n){"use strict";function r(t){return void 0!==t.id}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r=function(){function t(){}return t.prototype.format=function(t){var e=t.split(new RegExp("\\s*/\\s*")),n=e[0],r=void 0===n?"":n,i=e[1],o=void 0===i?"":i,a=r.slice(0,2),s=4===o.length?o.slice(-2):o?o.slice(0,2):r.slice(2);return t.length<2?r:t.length>3&&!s?a:a+" / "+s},t.prototype.toObject=function(t){var e=t.split(new RegExp("\\s*/\\s*")),n=e[0],r=void 0===n?"":n,i=e[1],o=void 0===i?"":i;return/^\d+$/.test(r)&&/^\d+$/.test(o)?{month:1===r.length?"0"+r:r.slice(0,2),year:2===o.length?"20"+o:o.slice(0,4)}:{month:"",year:""}},t}();e.a=r},function(t,e,n){"use strict";var r=n(33),i=n(2),o=function(){function t(){}return t.prototype.format=function(t){var e=Object(r.number)(t).card;if(!e)return t;var n=Object(i.max)(Object(r.creditCardType)(t).map((function(t){return Object(i.max)(t.lengths)}))),o=this.unformat(t).slice(0,n);return e.gaps.filter((function(t){return o.length>t})).reduce((function(t,e,n){return[t.slice(0,e+n),t.slice(e+n)].join(" ")}),o)},t.prototype.unformat=function(t){return Object(r.number)(t).card?t.replace(new RegExp(" ","g"),""):t},t}();e.a=o},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=["per_item_discount","percentage_discount","per_total_discount","shipping_discount","free_shipping"];function i(t){return{code:t.code,discount:t.displayName,discountType:r.indexOf(t.couponType)}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r,i=n(0),o=n(22);!function(t){t[t.CheckoutButtonNotInitialized=0]="CheckoutButtonNotInitialized",t[t.CustomerNotInitialized=1]="CustomerNotInitialized",t[t.PaymentNotInitialized=2]="PaymentNotInitialized",t[t.ShippingNotInitialized=3]="ShippingNotInitialized",t[t.SpamProtectionNotInitialized=4]="SpamProtectionNotInitialized"}(r||(r={}));var a=function(t){function e(e){var n=t.call(this,function(t){switch(t){case r.CustomerNotInitialized:return"Unable to proceed because the customer step of checkout has not been initialized.";case r.PaymentNotInitialized:return"Unable to proceed because the payment step of checkout has not been initialized.";case r.ShippingNotInitialized:return"Unable to proceed because the shipping step of checkout has not been initialized.";case r.SpamProtectionNotInitialized:return"Unable to proceed because the checkout spam protection has not been initialized.";default:return"Unable to proceed because the required component has not been initialized."}}(e))||this;return n.subtype=e,n.name="NotInitializedError",n.type="not_initialized",n}return Object(i.__extends)(e,t),e}(o.a);e.b=a},function(t,e,n){"use strict";var r=n(0),i=n(63),o=n(2);function a(t,e){return void 0===e&&(e=[]),Array.isArray(e)?Object(i.a)(Object(r.__spreadArrays)(t,e)):function(t,e){var n=Object(o.keys)(Object(o.pickBy)(e,(function(t){return!t}))),a=Object(o.keys)(Object(o.filter)(e));return Object(i.a)(Object(r.__spreadArrays)(Object(o.difference)(t,n),a))}(t,e)}n.d(e,"a",(function(){return a}))},,,,,,,,,,,,,,function(t,e){t.exports=__webpack_require__(/*! iframe-resizer */ "./node_modules/iframe-resizer/index.js")},function(t,e){t.exports=__webpack_require__(/*! iframe-resizer/js/iframeResizer.contentWindow */ "./node_modules/iframe-resizer/js/iframeResizer.contentWindow.js")},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(2);function i(t,e){return Array.isArray(t)?t.map((function(t){return i(t,e)})):Object(r.isPlainObject)(t)?Object(r.transform)(Object(r.omitBy)(t,e),(function(t,n,r){t[r]=i(n,e)}),{}):t}},function(t,e,n){"use strict";var r=n(0),i=n(1),o=n(3),a=n(8),s=n(90),c=n(12),u=n(16),d=function(){function t(t,e,n){this._checkoutRequestSender=t,this._configActionCreator=e,this._formFieldsActionCreator=n}return t.prototype.loadCheckout=function(t,e){var n=this;return Object(o.concat)(Object(o.of)(Object(i.createAction)(u.a.LoadCheckoutRequested)),Object(o.merge)(this._configActionCreator.loadConfig(Object(r.__assign)(Object(r.__assign)({},e),{useCache:!0})),this._formFieldsActionCreator.loadFormFields(Object(r.__assign)(Object(r.__assign)({},e),{useCache:!0})),Object(o.defer)((function(){return n._checkoutRequestSender.loadCheckout(t,e).then((function(t){var e=t.body;return Object(i.createAction)(u.a.LoadCheckoutSucceeded,e)}))})))).pipe(Object(a.catchError)((function(t){return Object(s.a)(u.a.LoadCheckoutFailed,t)})))},t.prototype.loadDefaultCheckout=function(t){var e=this;return function(n){return Object(o.concat)(Object(o.of)(Object(i.createAction)(u.a.LoadCheckoutRequested)),Object(o.merge)(e._configActionCreator.loadConfig(),e._formFieldsActionCreator.loadFormFields(Object(r.__assign)(Object(r.__assign)({},t),{useCache:!0}))),Object(o.defer)((function(){return Object(r.__awaiter)(e,void 0,void 0,(function(){var e,o,a;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:if(e=n.getState(),!(o=e.config.getContextConfig())||!o.checkoutId)throw new c.b(c.a.MissingCheckoutConfig);return[4,this._checkoutRequestSender.loadCheckout(o.checkoutId,t)];case 1:return a=r.sent().body,[2,Object(i.createAction)(u.a.LoadCheckoutSucceeded,a)]}}))}))}))).pipe(Object(a.catchError)((function(t){return Object(s.a)(u.a.LoadCheckoutFailed,t)})))}},t.prototype.updateCheckout=function(t,e){var n=this;return function(r){return new o.Observable((function(o){var a=r.getState().checkout.getCheckout();if(!a)throw new c.b(c.a.MissingCheckout);o.next(Object(i.createAction)(u.a.UpdateCheckoutRequested)),n._checkoutRequestSender.updateCheckout(a.id,t,e).then((function(t){var e=t.body;o.next(Object(i.createAction)(u.a.UpdateCheckoutSucceeded,e)),o.complete()})).catch((function(t){o.error(Object(i.createErrorAction)(u.a.UpdateCheckoutFailed,t))}))}))}},t.prototype.loadCurrentCheckout=function(t){var e=this;return function(n){var r=n.getState().checkout.getCheckout();if(!r)throw new c.b(c.a.MissingCheckout);return e.loadCheckout(r.id,t)}},t}();e.a=d},function(t,e,n){"use strict";var r=n(0),i=n(1),o=n(2),a=n(3),s=n(138),c=n(12),u=n(52),d=n(6),p=function(){function t(t,e){this._consignmentRequestSender=t,this._checkoutRequestSender=e}return t.prototype.unassignItemsByAddress=function(t,e){var n=this;return function(r){var i=r.getState();if(!i.checkout.getCheckout())throw new c.b(c.a.MissingCheckout);var o=i.consignments.getConsignmentByAddress(t.shippingAddress);if(!o)throw new u.a("No consignment found for the specified address");var a=n._removeLineItems(t.lineItems,o,i.cart.getCart());return a.length?n.updateConsignment({id:o.id,shippingAddress:t.shippingAddress,lineItems:a},e)(r):n.deleteConsignment(o.id,e)(r)}},t.prototype.assignItemsByAddress=function(t,e){var n=this;return function(r){var i=r.getState(),o=i.consignments.getConsignmentByAddress(t.shippingAddress);return n._createOrUpdateConsignment({id:o&&o.id,shippingAddress:t.shippingAddress,lineItems:n._addLineItems(t.lineItems,o,i.cart.getCart())},e)(r)}},t.prototype.selectShippingOption=function(t,e){var n=this;return function(r){return a.Observable.create((function(o){var a=r.getState(),s=a.checkout.getCheckout(),u=a.consignments.getConsignments();if(!s)throw new c.b(c.a.MissingCheckout);if(!u||!u.length)throw new c.b(c.a.MissingConsignments);var p={id:u[0].id,shippingOptionId:t},h={id:u[0].id};o.next(Object(i.createAction)(d.a.UpdateShippingOptionRequested,void 0,h)),n._consignmentRequestSender.updateConsignment(s.id,p,e).then((function(t){var e=t.body;o.next(Object(i.createAction)(d.a.UpdateShippingOptionSucceeded,e,h)),o.complete()})).catch((function(t){o.error(Object(i.createErrorAction)(d.a.UpdateShippingOptionFailed,t,h))}))}))}},t.prototype.loadShippingOptions=function(t){var e=this;return function(n){return a.Observable.create((function(o){var a=n.getState().checkout.getCheckout();if(!a)throw new c.b(c.a.MissingCheckout);o.next(Object(i.createAction)(d.a.LoadShippingOptionsRequested)),e._checkoutRequestSender.loadCheckout(a.id,Object(r.__assign)(Object(r.__assign)({},t),{params:{include:[s.a.AvailableShippingOptions]}})).then((function(t){var e=t.body;o.next(Object(i.createAction)(d.a.LoadShippingOptionsSucceeded,e)),o.complete()})).catch((function(t){o.error(Object(i.createErrorAction)(d.a.LoadShippingOptionsFailed,t))}))}))}},t.prototype.updateAddress=function(t,e){var n=this;return function(r){var i=n._getUpdateAddressRequestBody(t,r),o=r.getState().consignments.getConsignments();return o&&o.length&&(i.id=o[0].id),n._createOrUpdateConsignment(i,e)(r)}},t.prototype.createConsignments=function(t,e){var n=this;return function(r){return a.Observable.create((function(o){var a=r.getState().checkout.getCheckout();if(!a||!a.id)throw new c.b(c.a.MissingCheckout);o.next(Object(i.createAction)(d.a.CreateConsignmentsRequested)),n._consignmentRequestSender.createConsignments(a.id,t,e).then((function(t){var e=t.body;o.next(Object(i.createAction)(d.a.CreateConsignmentsSucceeded,e)),o.complete()})).catch((function(t){o.error(Object(i.createErrorAction)(d.a.CreateConsignmentsFailed,t))}))}))}},t.prototype.updateConsignment=function(t,e){var n=this;return function(r){return a.Observable.create((function(o){var a=r.getState().checkout.getCheckout();if(!a||!a.id)throw new c.b(c.a.MissingCheckout);var s={id:t.id};o.next(Object(i.createAction)(d.a.UpdateConsignmentRequested,void 0,s)),n._consignmentRequestSender.updateConsignment(a.id,t,e).then((function(t){var e=t.body;o.next(Object(i.createAction)(d.a.UpdateConsignmentSucceeded,e,s)),o.complete()})).catch((function(t){o.error(Object(i.createErrorAction)(d.a.UpdateConsignmentFailed,t,s))}))}))}},t.prototype.deleteConsignment=function(t,e){var n=this;return function(r){return a.Observable.create((function(o){var a=r.getState().checkout.getCheckout(),s={id:t};if(!a||!a.id)throw new c.b(c.a.MissingCheckout);o.next(Object(i.createAction)(d.a.DeleteConsignmentRequested,void 0,s)),n._consignmentRequestSender.deleteConsignment(a.id,t,e).then((function(t){var e=t.body;o.next(Object(i.createAction)(d.a.DeleteConsignmentSucceeded,e,s)),o.complete()})).catch((function(t){o.error(Object(i.createErrorAction)(d.a.DeleteConsignmentFailed,t,s))}))}))}},t.prototype.updateShippingOption=function(t,e){var n=this;return function(r){return a.Observable.create((function(o){var a=r.getState().checkout.getCheckout();if(!a||!a.id)throw new c.b(c.a.MissingCheckout);var s={id:t.id};o.next(Object(i.createAction)(d.a.UpdateShippingOptionRequested,void 0,s)),n._consignmentRequestSender.updateConsignment(a.id,t,e).then((function(t){var e=t.body;o.next(Object(i.createAction)(d.a.UpdateShippingOptionSucceeded,e,s)),o.complete()})).catch((function(t){o.error(Object(i.createErrorAction)(d.a.UpdateShippingOptionFailed,t,s))}))}))}},t.prototype._createOrUpdateConsignment=function(t,e){var n=this;return function(r){var i=r.getState().checkout.getCheckout();if(!i||!i.id)throw new c.b(c.a.MissingCheckout);return n._isUpdateConsignmentRequest(t)?n.updateConsignment(t,e)(r):n.createConsignments([t],e)(r)}},t.prototype._getUpdateAddressRequestBody=function(t,e){var n=e.getState().cart.getCart();if(!n)throw new c.b(c.a.MissingCart);var i=n.lineItems,o=i.physicalItems,a=i.customItems,s=void 0===a?[]:a;return{shippingAddress:t,lineItems:Object(r.__spreadArrays)(o,s).map((function(t){return{itemId:t.id,quantity:t.quantity}}))}},t.prototype._removeLineItems=function(t,e,n){if(!n)throw new c.b(c.a.MissingCart);return this._hydrateLineItems(e.lineItemIds,n).map((function(e){var n=Object(o.find)(t,(function(t){return t.itemId===e.itemId}));return Object(r.__assign)(Object(r.__assign)({},e),{quantity:n?e.quantity-n.quantity:e.quantity})})).filter((function(t){return t.quantity>0}))},t.prototype._addLineItems=function(t,e,n){if(!e)return t;if(!n)throw new c.b(c.a.MissingCart);return t.concat(this._hydrateLineItems(e.lineItemIds,n)).filter((function(t){return t.quantity>0}))},t.prototype._hydrateLineItems=function(t,e){return t.map((function(t){var n=Object(o.find)(e.lineItems.physicalItems,(function(e){return e.id===t}));return{itemId:t,quantity:n?n.quantity:0}}))},t.prototype._isUpdateConsignmentRequest=function(t){return!!t.id},t}();e.a=p},function(t,e,n){"use strict";var r=n(0),i=n(39),o=n(112),a=n(63),s=["consignments.availableShippingOptions","cart.lineItems.physicalItems.options","cart.lineItems.digitalItems.options","customer","promotions.banners"],c=function(){function t(t){this._requestSender=t}return t.prototype.createConsignments=function(t,e,n){var r=void 0===n?{}:n,a=r.timeout,c=r.params,u=(void 0===c?{}:c).include,d="/api/storefront/checkouts/"+t+"/consignments",p={Accept:i.a.JsonV1};return this._requestSender.post(d,{body:e,params:{include:Object(o.a)(s,u)},headers:p,timeout:a})},t.prototype.updateConsignment=function(t,e,n){var a=void 0===n?{}:n,c=a.timeout,u=a.params,d=(void 0===u?{}:u).include,p=e.id,h=Object(r.__rest)(e,["id"]),l="/api/storefront/checkouts/"+t+"/consignments/"+p,m={Accept:i.a.JsonV1};return this._requestSender.put(l,{body:h,params:{include:Object(o.a)(s,d)},headers:m,timeout:c})},t.prototype.deleteConsignment=function(t,e,n){var r=(void 0===n?{}:n).timeout,o="/api/storefront/checkouts/"+t+"/consignments/"+e,c={Accept:i.a.JsonV1},u=Object(a.a)(s);return this._requestSender.delete(o,{params:{include:u},headers:c,timeout:r})},t}();e.a=c},function(t,e,n){"use strict";function r(t){return window.location.origin+"/checkout.php?action=set_external_checkout&provider=masterpass&gateway=stripe&origin="+t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r=n(0),i=n(2),o=n(59),a=n(100),s=n(12),c=n(98),u=n(108),d=n(109),p=n(99),h=n(78),l=n(40),m=function(){function t(){this._cardExpiryFormatter=new u.a,this._cardNumberFormatter=new d.a}return t.prototype.transform=function(t,e){var n=e.billingAddress.getBillingAddress(),u=e.checkout.getCheckout(),d=e.customer.getCustomer(),m=e.order.getOrder(),f=e.paymentMethods.getPaymentMethod(t.methodId,t.gatewayId),_=e.shippingAddress.getShippingAddress(),y=e.consignments.getConsignments(),g=e.consignments.getShippingOption(),b=e.config.getStoreConfig(),v=e.config.getContextConfig(),C=e.instruments.getInstrumentsMeta(),O=e.paymentMethods.getPaymentMethodsMeta(),S=e.order.getOrderMeta(),w=d&&n&&Object(c.a)(d,n),I=C&&t.paymentData&&(Object(l.a)(t.paymentData)||Object(l.b)(t.paymentData))?e.payment.getPaymentToken()+", "+C.vaultAccessToken:e.payment.getPaymentToken();if(!I)throw new s.b(s.a.MissingPaymentToken);return{additionalAction:t.additionalAction,authToken:I,customer:w,billingAddress:n&&Object(o.a)(n),shippingAddress:_&&Object(o.a)(_,y),shippingOption:g&&Object(h.a)(g,!0),cart:u&&Object(a.a)(u),order:m&&Object(p.a)(m,S),orderMeta:S,payment:t.paymentData,paymentMethod:f&&this._transformPaymentMethod(f),quoteMeta:{request:Object(r.__assign)(Object(r.__assign)({},O),{geoCountryCode:v&&v.geoCountryCode})},source:"bigcommerce-checkout-js-sdk",store:Object(i.pick)(b&&b.storeProfile,["storeHash","storeId","storeLanguage","storeName"])}},t.prototype.transformWithHostedFormData=function(t,e,n){var s=e.additionalAction,u=e.authToken,d=e.checkout,l=e.config,m=e.order,f=e.orderMeta,_=e.payment,y=void 0===_?{}:_,g=e.paymentMethod,b=e.paymentMethodMeta,v=d&&d.consignments[0],C=v&&v.shippingAddress,O=v&&v.selectedShippingOption;return{additionalAction:s,authToken:u,paymentMethod:g&&this._transformPaymentMethod(g),customer:m&&m.billingAddress&&d&&Object(c.a)(d.customer,m.billingAddress),billingAddress:m&&m.billingAddress&&Object(o.a)(m.billingAddress),shippingAddress:C&&d&&Object(o.a)(C,d.consignments),shippingOption:O&&Object(h.a)(O,!0),cart:d&&Object(a.a)(d),order:m&&Object(p.a)(m,f),orderMeta:f,payment:this._transformHostedInputValues(t,y,n),quoteMeta:{request:Object(r.__assign)(Object(r.__assign)({},b),{geoCountryCode:l&&l.context.geoCountryCode})},source:"bigcommerce-checkout-js-sdk",store:l&&Object(i.pick)(l.storeConfig.storeProfile,["storeHash","storeId","storeLanguage","storeName"])}},t.prototype._transformPaymentMethod=function(t){return"multi-option"!==t.method||t.gateway?t.initializationData&&t.initializationData.gateway?Object(r.__assign)(Object(r.__assign)({},t),{id:t.initializationData.gateway}):t:Object(r.__assign)(Object(r.__assign)({},t),{gateway:t.id})},t.prototype._transformHostedInputValues=function(t,e,n){return"instrumentId"in e?Object(r.__assign)(Object(r.__assign)({},e),{ccCvv:t.cardCodeVerification,ccNumber:t.cardNumberVerification&&this._cardNumberFormatter.unformat(t.cardNumberVerification),hostedFormNonce:n}):Object(r.__assign)(Object(r.__assign)({},e),{ccCvv:t.cardCode,ccExpiry:this._cardExpiryFormatter.toObject(t.cardExpiry||""),ccName:t.cardName||"",ccNumber:this._cardNumberFormatter.unformat(t.cardNumber||""),hostedFormNonce:n})},t}();e.a=m},function(t,e,n){"use strict";var r=function(){function t(t){this._client=t}return t.prototype.submitPayment=function(t){var e=this;return new Promise((function(n,r){e._client.submitPayment(t,(function(t,i){t?r(e._transformResponse(t)):n(e._transformResponse(i))}))}))},t.prototype.initializeOffsitePayment=function(t,e){var n=this;return new Promise((function(){n._client.initializeOffsitePayment(t,null,e)}))},t.prototype._transformResponse=function(t){return{headers:t.headers,body:t.data,status:t.status,statusText:t.statusText}},t}();e.a=r},function(t,e,n){"use strict";function r(t){return 0===(""+t).indexOf("$$")||0===(""+t).indexOf("_")}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r=n(0),i=n(1),o=n(170),a=n(35),s=function(t){function e(e,n){var r=t.call(this,e,{message:n||"An unexpected error has occurred. The checkout process cannot continue as a result."})||this;return r.name="UnrecoverableError",r.type="unrecoverable",r}return Object(r.__extends)(e,t),e}(a.a),c=n(2);function u(t){return t.reduce((function(t,e){return e?Object(r.__spreadArrays)(t,[e]):t}),[]).join(" ")}var d=n(168),p=n(169),h=function(){function t(){this._factoryMethods={},this.register("default",(function(t,e){return new a.a(t,{message:e})})),this.register("internal",(function(t,e){return function(t,e){var n=t.body,r=n.errors,i=void 0===r?[]:r;return new a.a(t,{message:u(i)||n.detail||n.title||e,errors:i.length?i.map((function(t){return{code:n.type,message:t}})):[{code:n.type,message:n.detail||n.title}]})}(t,e)})),this.register("storefront",(function(t,e){return function(t,e){var n=t.body;return new a.a(t,{message:e||n.detail||n.title,errors:[{code:n.code||n.type,message:n.detail||n.title}]})}(t,e)})),this.register("payment",(function(t,e){return Object(d.a)(t,e)})),this.register("timeout",(function(t){return new p.a(t)}))}return t.prototype.register=function(t,e){this._factoryMethods[t]=e},t.prototype.createError=function(t,e){return(this._factoryMethods[this._getType(t)]||this._factoryMethods.default)(t,e)},t.prototype._getType=function(t){if(0===t.status)return"timeout";if(this._isStorefrontErrorResponseBody(t.body))return"storefront";if(this._isInternalErrorResponseBody(t.body)){var e=Object(c.last)(t.body.type.split("/"));return e&&this._factoryMethods[e]?e:"internal"}var n=Object(c.last)(t.body&&t.body.errors);return n&&n.code&&this._factoryMethods[n.code]?n.code:"payment"},t.prototype._isStorefrontErrorResponseBody=function(t){var e=t;return!this._isInternalErrorResponseBody(t)&&"string"==typeof e.title&&"string"==typeof e.type&&"number"==typeof e.status&&"string"==typeof e.detail},t.prototype._isInternalErrorResponseBody=function(t){var e=t;return"object"==typeof e.errors&&"string"==typeof e.title&&"string"==typeof e.type&&"number"==typeof e.status},t}();var l=n(3),m=n(8);var f=n(16),_=n(128),y=n(86);function g(t,e){return function(t){return t.type===y.a.ClearError}(e)?Object(_.a)(t,(function(t){return t===e.payload})):t}var b=n(70);function v(t,e){return void 0===e||Object(b.a)(t,e)?t:e}function C(t,e,n){var i;return t&&t.hasOwnProperty(e)&&Object(b.a)(t[e],n)?t:Object(r.__assign)(Object(r.__assign)({},t),((i={})[e]=n,i))}var O=n(17),S=n(172),w=n(19),I={errors:{},statuses:{}};function A(t,e){return void 0===t&&(t=I),Object(i.combineReducers)({data:E,errors:Object(i.composeReducers)(P,g),statuses:j})(t,e)}function E(t,e){switch(e.type){case w.a.UpdateBillingAddressSucceeded:case w.a.ContinueAsGuestSucceeded:case f.a.LoadCheckoutSucceeded:case O.a.LoadOrderSucceeded:return v(t,e.payload&&e.payload.billingAddress);default:return t}}function P(t,e){switch(void 0===t&&(t=I.errors),e.type){case f.a.LoadCheckoutRequested:case f.a.LoadCheckoutSucceeded:return C(t,"loadError",void 0);case f.a.LoadCheckoutFailed:return C(t,"loadError",e.payload);case w.a.UpdateBillingAddressRequested:case w.a.UpdateBillingAddressSucceeded:return C(t,"updateError",void 0);case w.a.UpdateBillingAddressFailed:return C(t,"updateError",e.payload);case S.a.UpdateSubscriptionsRequested:case S.a.UpdateSubscriptionsSucceeded:case w.a.ContinueAsGuestRequested:case w.a.ContinueAsGuestSucceeded:return C(t,"continueAsGuestError",void 0);case S.a.UpdateSubscriptionsFailed:case w.a.ContinueAsGuestFailed:return C(t,"continueAsGuestError",e.payload);default:return t}}function j(t,e){switch(void 0===t&&(t=I.statuses),e.type){case f.a.LoadCheckoutRequested:return C(t,"isLoading",!0);case f.a.LoadCheckoutSucceeded:case f.a.LoadCheckoutFailed:return C(t,"isLoading",!1);case w.a.UpdateBillingAddressRequested:return C(t,"isUpdating",!0);case w.a.UpdateBillingAddressFailed:case w.a.UpdateBillingAddressSucceeded:return C(t,"isUpdating",!1);case w.a.ContinueAsGuestRequested:case S.a.UpdateSubscriptionsRequested:return C(t,"isContinuingAsGuest",!0);case S.a.UpdateSubscriptionsSucceeded:case S.a.UpdateSubscriptionsFailed:case w.a.ContinueAsGuestFailed:case w.a.ContinueAsGuestSucceeded:return C(t,"isContinuingAsGuest",!1);default:return t}}var k=n(41);var M=function t(e,n,r){var i=(r||{}).matchObject,o=void 0===i?function(t,e){return void 0!==t.id&&t.id===e.id}:i;if(!e)return n;if(!n||e===n)return e;var a=0,s=0,u=function(t,e,n){return a+=t===e?1:0,s+=t===n?1:0,t},d=n.map((function(n,r){var i=e&&e[r];return Object(k.a)(i)&&Object(k.a)(n)?o(i,n)?u(T(i,n),i,n):u(v(i,n),i,n):Object(c.isArray)(i)&&Object(c.isArray)(n)?u(t(i,n),i,n):u(v(i,n),i,n)}));return a===n.length&&e&&e.length===n.length?e:s===n.length?n:d};var T=function t(e,n){return e?n&&e!==n?Object.keys(n).reduce((function(e,r){var i=e[r],o=n[r];return Object(k.a)(i)&&Object(k.a)(o)?C(e,r,t(i,o)):Object(c.isArray)(i)&&Object(c.isArray)(o)?C(e,r,M(i,o)):C(e,r,o)}),e):e:n},R=n(21),D=n(25),z=n(6),L={errors:{},statuses:{}};function N(t,e){return void 0===t&&(t=L),Object(i.combineReducers)({data:F,errors:Object(i.composeReducers)(U,g),statuses:q})(t,e)}function F(t,e){switch(e.type){case w.a.UpdateBillingAddressSucceeded:case f.a.LoadCheckoutSucceeded:case z.a.CreateConsignmentsSucceeded:case z.a.DeleteConsignmentSucceeded:case z.a.UpdateConsignmentSucceeded:case z.a.UpdateShippingOptionSucceeded:case z.a.LoadShippingOptionsSucceeded:case R.a.ApplyCouponSucceeded:case R.a.RemoveCouponSucceeded:case D.a.ApplyGiftCertificateSucceeded:case D.a.RemoveGiftCertificateSucceeded:return T(t,e.payload&&e.payload.cart);default:return t}}function q(t,e){switch(void 0===t&&(t=L.statuses),e.type){case f.a.LoadCheckoutRequested:return C(t,"isLoading",!0);case f.a.LoadCheckoutFailed:case f.a.LoadCheckoutSucceeded:return C(t,"isLoading",!1);default:return t}}function U(t,e){switch(void 0===t&&(t=L.errors),e.type){case f.a.LoadCheckoutRequested:case f.a.LoadCheckoutSucceeded:return C(t,"loadError",void 0);case f.a.LoadCheckoutFailed:return C(t,"loadError",e.payload);default:return t}}var x=n(20),B={data:{},errors:{},statuses:{}},G={initializedContainers:{}},V={},Y={};function H(t,e){var n,r,o;return void 0===t&&(t=B),e.meta&&e.meta.methodId?Object(i.combineReducers)({data:Object(i.combineReducers)((n={},n[e.meta.methodId]=W,n)),errors:Object(i.combineReducers)((r={},r[e.meta.methodId]=K,r)),statuses:Object(i.combineReducers)((o={},o[e.meta.methodId]=J,o))})(t,e):t}function W(t,e){var n;switch(void 0===t&&(t=G),e.type){case x.a.InitializeButtonSucceeded:return e.meta&&e.meta.containerId?T(t,{initializedContainers:(n={},n[e.meta.containerId]=!0,n)}):t;case x.a.DeinitializeButtonSucceeded:return C(t,"initializedContainers",{})}return t}function K(t,e){switch(void 0===t&&(t=V),e.type){case x.a.InitializeButtonRequested:case x.a.InitializeButtonSucceeded:return C(t,"initializeError",void 0);case x.a.InitializeButtonFailed:return C(t,"initializeError",e.payload);case x.a.DeinitializeButtonRequested:case x.a.DeinitializeButtonSucceeded:return C(t,"deinitializeError",void 0);case x.a.DeinitializeButtonFailed:return C(t,"deinitializeError",e.payload);default:return t}}function J(t,e){switch(void 0===t&&(t=Y),e.type){case x.a.InitializeButtonRequested:return C(t,"isInitializing",!0);case x.a.InitializeButtonFailed:case x.a.InitializeButtonSucceeded:return C(t,"isInitializing",!1);case x.a.DeinitializeButtonRequested:return C(t,"isDeinitializing",!0);case x.a.DeinitializeButtonFailed:case x.a.DeinitializeButtonSucceeded:return C(t,"isDeinitializing",!1);default:return t}}var Z=n(37),Q={meta:{},errors:{},statuses:{}};function X(t,e){return void 0===t&&(t=Q),Object(i.combineReducers)({data:$,errors:Object(i.composeReducers)(tt,g),statuses:et})(t,e)}function $(t,e){switch(e.type){case Z.a.LoadConfigSucceeded:return T(t,e.payload);default:return t}}function tt(t,e){switch(void 0===t&&(t=Q.errors),e.type){case Z.a.LoadConfigSucceeded:return C(t,"loadError",void 0);case Z.a.LoadConfigFailed:return C(t,"loadError",e.payload);default:return t}}function et(t,e){switch(void 0===t&&(t=Q.statuses),e.type){case Z.a.LoadConfigRequested:return C(t,"isLoading",!0);case Z.a.LoadConfigSucceeded:case Z.a.LoadConfigFailed:return C(t,"isLoading",!1);default:return t}}var nt={errors:{},statuses:{}};function rt(t,e){return void 0===t&&(t=nt),Object(i.combineReducers)({data:it,errors:Object(i.composeReducers)(ot,g),statuses:at})(t,e)}function it(t,e){switch(e.type){case f.a.LoadCheckoutSucceeded:case R.a.ApplyCouponSucceeded:case z.a.UpdateShippingOptionSucceeded:case R.a.RemoveCouponSucceeded:case O.a.LoadOrderSucceeded:return M(t,e.payload&&e.payload.coupons);default:return t}}function ot(t,e){switch(void 0===t&&(t={}),e.type){case R.a.ApplyCouponRequested:case R.a.ApplyCouponSucceeded:return C(t,"applyCouponError",void 0);case R.a.ApplyCouponFailed:return C(t,"applyCouponError",e.payload);case R.a.RemoveCouponRequested:case R.a.RemoveCouponSucceeded:return C(t,"removeCouponError",void 0);case R.a.RemoveCouponFailed:return C(t,"removeCouponError",e.payload);default:return t}}function at(t,e){switch(void 0===t&&(t={}),e.type){case R.a.ApplyCouponRequested:return C(t,"isApplyingCoupon",!0);case R.a.ApplyCouponSucceeded:case R.a.ApplyCouponFailed:return C(t,"isApplyingCoupon",!1);case R.a.RemoveCouponRequested:return C(t,"isRemovingCoupon",!0);case R.a.RemoveCouponSucceeded:case R.a.RemoveCouponFailed:return C(t,"isRemovingCoupon",!1);default:return t}}var st={errors:{},statuses:{}};function ct(t,e){return void 0===t&&(t=st),Object(i.combineReducers)({data:ut,errors:Object(i.composeReducers)(dt,g),statuses:pt})(t,e)}function ut(t,e){switch(e.type){case f.a.LoadCheckoutSucceeded:case z.a.CreateConsignmentsSucceeded:case z.a.UpdateConsignmentSucceeded:case z.a.DeleteConsignmentSucceeded:case z.a.UpdateShippingOptionSucceeded:case R.a.ApplyCouponSucceeded:case R.a.RemoveCouponSucceeded:case D.a.ApplyGiftCertificateSucceeded:case D.a.RemoveGiftCertificateSucceeded:return M(t,e.payload&&e.payload.giftCertificates);default:return t}}function dt(t,e){switch(void 0===t&&(t=st.errors),e.type){case D.a.ApplyGiftCertificateRequested:case D.a.ApplyGiftCertificateSucceeded:return C(t,"applyGiftCertificateError",void 0);case D.a.ApplyGiftCertificateFailed:return C(t,"applyGiftCertificateError",e.payload);case D.a.RemoveGiftCertificateRequested:case D.a.RemoveGiftCertificateSucceeded:return C(t,"removeGiftCertificateError",void 0);case D.a.RemoveGiftCertificateFailed:return C(t,"removeGiftCertificateError",e.payload);default:return t}}function pt(t,e){switch(void 0===t&&(t=st.statuses),e.type){case D.a.ApplyGiftCertificateRequested:return C(t,"isApplyingGiftCertificate",!0);case D.a.ApplyGiftCertificateSucceeded:case D.a.ApplyGiftCertificateFailed:return C(t,"isApplyingGiftCertificate",!1);case D.a.RemoveGiftCertificateRequested:return C(t,"isRemovingGiftCertificate",!0);case D.a.RemoveGiftCertificateSucceeded:case D.a.RemoveGiftCertificateFailed:return C(t,"isRemovingGiftCertificate",!1);default:return t}}var ht=n(34),lt={errors:{},statuses:{}};function mt(t,e){return void 0===t&&(t=lt),Object(i.combineReducers)({data:ft,errors:Object(i.composeReducers)(_t,g),statuses:yt})(t,e)}function ft(t,e){switch(e.type){case w.a.ContinueAsGuestSucceeded:case f.a.LoadCheckoutSucceeded:return T(t,e.payload&&e.payload.customer);default:return t}}function _t(t,e){switch(void 0===t&&(t=lt.errors),e.type){case ht.a.CreateCustomerRequested:case ht.a.CreateCustomerSucceeded:return C(t,"createError",void 0);case ht.a.CreateCustomerFailed:return C(t,"createError",e.payload);default:return t}}function yt(t,e){switch(void 0===t&&(t=lt.statuses),e.type){case ht.a.CreateCustomerRequested:return C(t,"isCreating",!0);case ht.a.CreateCustomerFailed:case ht.a.CreateCustomerSucceeded:return C(t,"isCreating",!1);default:return t}}var gt=n(10),bt={data:{},errors:{},statuses:{}};function vt(t,e){return void 0===t&&(t=bt),Object(i.combineReducers)({data:Ct,errors:Object(i.composeReducers)(Ot,g),statuses:St})(t,e)}function Ct(t,e){var n,r;switch(void 0===t&&(t=bt.data),e.type){case gt.a.InitializeSucceeded:return T(t,((n={})[e.meta&&e.meta.methodId]={isInitialized:!0},n));case gt.a.DeinitializeSucceeded:return T(t,((r={})[e.meta&&e.meta.methodId]={isInitialized:!1},r))}return t}function Ot(t,e){switch(void 0===t&&(t=bt.errors),e.type){case gt.a.InitializeRequested:case gt.a.InitializeSucceeded:return T(t,{initializeError:void 0,initializeMethodId:void 0});case gt.a.InitializeFailed:return T(t,{initializeError:e.payload,initializeMethodId:e.meta&&e.meta.methodId});case gt.a.DeinitializeRequested:case gt.a.DeinitializeSucceeded:return T(t,{deinitializeError:void 0,deinitializeMethodId:void 0});case gt.a.DeinitializeFailed:return T(t,{deinitializeError:e.payload,deinitializeMethodId:e.meta&&e.meta.methodId});case gt.a.SignInRequested:case gt.a.SignInSucceeded:return T(t,{signInError:void 0,signInMethodId:void 0});case gt.a.SignInFailed:return T(t,{signInError:e.payload,signInMethodId:e.meta&&e.meta.methodId});case gt.a.SignOutRequested:case gt.a.SignOutSucceeded:return T(t,{signOutError:void 0,signOutMethodId:void 0});case gt.a.SignOutFailed:return T(t,{signOutError:e.payload,signOutMethodId:e.meta&&e.meta.methodId});case gt.a.WidgetInteractionStarted:case gt.a.WidgetInteractionFinished:return T(t,{widgetInteractionError:void 0,widgetInteractionMethodId:void 0});case gt.a.WidgetInteractionFailed:return T(t,{widgetInteractionError:e.payload,widgetInteractionMethodId:e.meta.methodId});default:return t}}function St(t,e){switch(void 0===t&&(t=bt.statuses),e.type){case gt.a.InitializeRequested:return T(t,{isInitializing:!0,initializeMethodId:e.meta&&e.meta.methodId});case gt.a.InitializeFailed:case gt.a.InitializeSucceeded:return T(t,{isInitializing:!1,initializeMethodId:void 0});case gt.a.DeinitializeRequested:return T(t,{isDeinitializing:!0,deinitializeMethodId:e.meta&&e.meta.methodId});case gt.a.DeinitializeFailed:case gt.a.DeinitializeSucceeded:return T(t,{isDeinitializing:!1,deinitializeMethodId:void 0});case gt.a.SignInRequested:return T(t,{isSigningIn:!0,signInMethodId:e.meta&&e.meta.methodId});case gt.a.SignInFailed:case gt.a.SignInSucceeded:return T(t,{isSigningIn:!1,signInMethodId:void 0});case gt.a.SignOutRequested:return T(t,{isSigningOut:!0,signOutMethodId:e.meta&&e.meta.methodId});case gt.a.SignOutFailed:case gt.a.SignOutSucceeded:return T(t,{isSigningOut:!1,signOutMethodId:void 0});case gt.a.WidgetInteractionStarted:return T(t,{isWidgetInteracting:!0,widgetInteractionMethodId:e.meta.methodId});case gt.a.WidgetInteractionFinished:case gt.a.WidgetInteractionFailed:return T(t,{isWidgetInteracting:!1,widgetInteractionMethodId:void 0});default:return t}}var wt=n(38),It={errors:{},statuses:{}};function At(t,e){return void 0===t&&(t=It),Object(i.combineReducers)({data:Et,errors:Object(i.composeReducers)(Pt,g),statuses:jt})(t,e)}function Et(t,e){switch(e.type){case wt.a.LoadFormFieldsSucceeded:return T(t,e.payload);default:return t}}function Pt(t,e){switch(void 0===t&&(t=It.errors),e.type){case wt.a.LoadFormFieldsSucceeded:return C(t,"loadError",void 0);case wt.a.LoadFormFieldsFailed:return C(t,"loadError",e.payload);default:return t}}function jt(t,e){switch(void 0===t&&(t=It.statuses),e.type){case wt.a.LoadFormFieldsRequested:return C(t,"isLoading",!0);case wt.a.LoadFormFieldsSucceeded:case wt.a.LoadFormFieldsFailed:return C(t,"isLoading",!1);default:return t}}var kt=n(42),Mt={errors:{},statuses:{}};function Tt(t,e){return void 0===t&&(t=Mt),Object(i.combineReducers)({data:Rt,errors:Object(i.composeReducers)(Dt,g),statuses:zt})(t,e)}function Rt(t,e){switch(e.type){case kt.a.LoadCountriesSucceeded:return M(t,e.payload);default:return t}}function Dt(t,e){switch(void 0===t&&(t=Mt.errors),e.type){case kt.a.LoadCountriesRequested:case kt.a.LoadCountriesSucceeded:return C(t,"loadError",void 0);case kt.a.LoadCountriesFailed:return C(t,"loadError",e.payload);default:return t}}function zt(t,e){switch(void 0===t&&(t=Mt.statuses),e.type){case kt.a.LoadCountriesRequested:return C(t,"isLoading",!0);case kt.a.LoadCountriesSucceeded:case kt.a.LoadCountriesFailed:return C(t,"isLoading",!1);default:return t}}var Lt={errors:{},meta:{},statuses:{}};function Nt(t,e){return void 0===t&&(t=Lt),Object(i.combineReducers)({data:Ft,errors:Object(i.composeReducers)(Ut,g),meta:qt,statuses:xt})(t,e)}function Ft(t,e){switch(e.type){case O.a.LoadOrderSucceeded:case O.a.LoadOrderPaymentsSucceeded:return T(t,Object(c.omit)(e.payload,["billingAddress","coupons"]));default:return t}}function qt(t,e){switch(e.type){case O.a.FinalizeOrderSucceeded:case O.a.SubmitOrderSucceeded:return T(t,Object(r.__assign)(Object(r.__assign)({},e.meta),{callbackUrl:e.payload&&e.payload.order.callbackUrl,orderToken:e.payload&&e.payload.order.token,payment:e.payload&&e.payload.order&&e.payload.order.payment}));default:return t}}function Ut(t,e){switch(void 0===t&&(t=Lt.errors),e.type){case O.a.LoadOrderRequested:case O.a.LoadOrderSucceeded:case O.a.LoadOrderPaymentsSucceeded:case O.a.LoadOrderPaymentsRequested:return C(t,"loadError",void 0);case O.a.LoadOrderFailed:case O.a.LoadOrderPaymentsFailed:return C(t,"loadError",e.payload);default:return t}}function xt(t,e){switch(void 0===t&&(t=Lt.statuses),e.type){case O.a.LoadOrderRequested:case O.a.LoadOrderPaymentsRequested:return C(t,"isLoading",!0);case O.a.LoadOrderSucceeded:case O.a.LoadOrderFailed:case O.a.LoadOrderPaymentsSucceeded:case O.a.LoadOrderPaymentsFailed:return C(t,"isLoading",!1);default:return t}}var Bt=n(60);function Gt(t,e){return void 0===t&&(t={}),Object(i.combineReducers)({data:Vt})(t,e)}function Vt(t,e){switch(e.type){case Bt.a.SubmitPaymentSucceeded:return e.payload;default:return t}}var Yt=n(18),Ht={errors:{},statuses:{}};function Wt(t,e){return void 0===t&&(t=Ht),Object(i.combineReducers)({data:Kt,errors:Object(i.composeReducers)(Zt,g),meta:Jt,statuses:Qt})(t,e)}function Kt(t,e){switch(e.type){case Yt.a.LoadPaymentMethodSucceeded:return function(t,e,n){if(!e)return t;var i=Object(c.pick)(e,"id"),o=Object(c.findIndex)(t,"object"==typeof n?Object(c.pickBy)(n):n||i),a=Object(r.__spreadArrays)(t);if(-1===o)a.push(e);else{var s=t[o];a[o]=Object(k.a)(s)&&Object(k.a)(e)?T(s,e):e}return a}(t||[],e.payload,e.payload&&{id:e.payload.id,gateway:e.payload.gateway});case Yt.a.LoadPaymentMethodsSucceeded:return M(t,e.payload,{matchObject:function(t,e){return t.id===e.id&&t.gateway===e.gateway}});default:return t}}function Jt(t,e){switch(e.type){case Yt.a.LoadPaymentMethodsSucceeded:return T(t,e.meta);default:return t}}function Zt(t,e){switch(void 0===t&&(t=Ht.errors),e.type){case Yt.a.LoadPaymentMethodsRequested:case Yt.a.LoadPaymentMethodsSucceeded:return C(t,"loadError",void 0);case Yt.a.LoadPaymentMethodsFailed:return C(t,"loadError",e.payload);case Yt.a.LoadPaymentMethodRequested:case Yt.a.LoadPaymentMethodSucceeded:return T(t,{loadMethodId:void 0,loadMethodError:void 0});case Yt.a.LoadPaymentMethodFailed:return T(t,{loadMethodId:e.meta.methodId,loadMethodError:e.payload});default:return t}}function Qt(t,e){switch(void 0===t&&(t=Ht.statuses),e.type){case Yt.a.LoadPaymentMethodsRequested:return C(t,"isLoading",!0);case Yt.a.LoadPaymentMethodsSucceeded:case Yt.a.LoadPaymentMethodsFailed:return C(t,"isLoading",!1);case Yt.a.LoadPaymentMethodRequested:return T(t,{isLoadingMethod:!0,loadMethodId:e.meta.methodId});case Yt.a.LoadPaymentMethodSucceeded:case Yt.a.LoadPaymentMethodFailed:return T(t,{isLoadingMethod:!1,loadMethodId:void 0});default:return t}}var Xt=n(11),$t={data:{},errors:{},statuses:{}};function te(t,e){return void 0===t&&(t=$t),Object(i.combineReducers)({data:ee,errors:Object(i.composeReducers)(ne,g),statuses:re})(t,e)}function ee(t,e){var n,r;switch(void 0===t&&(t=$t.data),e.type){case Xt.a.InitializeSucceeded:return T(t,((n={})[e.meta&&e.meta.methodId]={isInitialized:!0},n));case Xt.a.DeinitializeSucceeded:return T(t,((r={})[e.meta&&e.meta.methodId]={isInitialized:!1},r))}return t}function ne(t,e){switch(void 0===t&&(t=$t.errors),e.type){case Xt.a.InitializeRequested:case Xt.a.InitializeSucceeded:return T(t,{initializeError:void 0,initializeMethodId:void 0});case Xt.a.InitializeFailed:return T(t,{initializeError:e.payload,initializeMethodId:e.meta&&e.meta.methodId});case Xt.a.DeinitializeRequested:case Xt.a.DeinitializeSucceeded:return T(t,{deinitializeError:void 0,deinitializeMethodId:void 0});case Xt.a.DeinitializeFailed:return T(t,{deinitializeError:e.payload,deinitializeMethodId:e.meta&&e.meta.methodId});case Xt.a.ExecuteRequested:case Xt.a.ExecuteSucceeded:return T(t,{executeError:void 0,executeMethodId:void 0});case Xt.a.ExecuteFailed:return T(t,{executeError:e.payload,executeMethodId:e.meta&&e.meta.methodId});case Xt.a.FinalizeRequested:case Xt.a.FinalizeSucceeded:return T(t,{finalizeError:void 0,finalizeMethodId:void 0});case Xt.a.FinalizeFailed:return T(t,{finalizeError:e.payload,finalizeMethodId:e.meta&&e.meta.methodId});case Xt.a.WidgetInteractionStarted:case Xt.a.WidgetInteractionFinished:return T(t,{widgetInteractionError:void 0,widgetInteractionMethodId:void 0});case Xt.a.WidgetInteractionFailed:return T(t,{widgetInteractionError:e.payload,widgetInteractionMethodId:e.meta.methodId});default:return t}}function re(t,e){switch(void 0===t&&(t=$t.statuses),e.type){case Xt.a.InitializeRequested:return T(t,{isInitializing:!0,initializeMethodId:e.meta&&e.meta.methodId});case Xt.a.InitializeFailed:case Xt.a.InitializeSucceeded:return T(t,{isInitializing:!1,initializeMethodId:void 0});case Xt.a.DeinitializeRequested:return T(t,{isDeinitializing:!0,deinitializeMethodId:e.meta&&e.meta.methodId});case Xt.a.DeinitializeFailed:case Xt.a.DeinitializeSucceeded:return T(t,{isDeinitializing:!1,deinitializeMethodId:void 0});case Xt.a.ExecuteRequested:return T(t,{isExecuting:!0,executeMethodId:e.meta&&e.meta.methodId});case Xt.a.ExecuteFailed:case Xt.a.ExecuteSucceeded:return T(t,{isExecuting:!1,executeMethodId:void 0});case Xt.a.FinalizeRequested:return T(t,{isFinalizing:!0,finalizeMethodId:e.meta&&e.meta.methodId});case Xt.a.FinalizeFailed:case Xt.a.FinalizeSucceeded:return T(t,{isFinalizing:!1,finalizeMethodId:void 0});case Xt.a.WidgetInteractionStarted:return T(t,{isWidgetInteracting:!0,widgetInteractionMethodId:e.meta.methodId});case Xt.a.WidgetInteractionFinished:case Xt.a.WidgetInteractionFailed:return T(t,{isWidgetInteracting:!1,widgetInteractionMethodId:void 0});default:return t}}var ie=n(24),oe={data:[],errors:{},statuses:{}};function ae(t,e){return void 0===t&&(t=oe),Object(i.combineReducers)({data:se,errors:Object(i.composeReducers)(ue,g),meta:ce,statuses:de})(t,e)}function se(t,e){switch(void 0===t&&(t=oe.data),e.type){case ie.a.LoadInstrumentsSucceeded:return M(t,e.payload&&e.payload.vaultedInstruments||[]);default:return t}}function ce(t,e){switch(e.type){case ie.a.LoadInstrumentsSucceeded:case ie.a.DeleteInstrumentSucceeded:return T(t,e.meta);default:return t}}function ue(t,e){switch(void 0===t&&(t=oe.errors),e.type){case ie.a.LoadInstrumentsRequested:case ie.a.LoadInstrumentsSucceeded:return C(t,"loadError",void 0);case ie.a.DeleteInstrumentRequested:case ie.a.DeleteInstrumentSucceeded:return T(t,{deleteError:void 0,failedInstrument:void 0});case ie.a.LoadInstrumentsFailed:return C(t,"loadError",e.payload);case ie.a.DeleteInstrumentFailed:return T(t,{deleteError:e.payload,failedInstrument:e.meta.instrumentId});default:return t}}function de(t,e){switch(void 0===t&&(t=oe.statuses),e.type){case ie.a.LoadInstrumentsRequested:return C(t,"isLoading",!0);case ie.a.DeleteInstrumentRequested:return T(t,{isDeleting:!0,deletingInstrument:e.meta.instrumentId});case ie.a.LoadInstrumentsSucceeded:case ie.a.LoadInstrumentsFailed:return C(t,"isLoading",!1);case ie.a.DeleteInstrumentSucceeded:case ie.a.DeleteInstrumentFailed:return T(t,{isDeleting:!1,deletingInstrument:void 0});default:return t}}var pe=n(27),he={data:{}};function le(t,e){var n;return void 0===t&&(t=he),e.meta&&e.meta.methodId?Object(i.combineReducers)({data:Object(i.combineReducers)((n={},n[e.meta.methodId]=me,n))})(t,e):t}function me(t,e){switch(e.type){case pe.a.InitializeRemoteBillingSucceeded:return C(t,"billing",e.payload&&e.payload.billing);case pe.a.InitializeRemoteShippingSucceeded:return C(t,"shipping",e.payload&&e.payload.shipping);case pe.a.LoadRemoteSettingsSucceeded:return C(t,"settings",e.payload);case pe.a.UpdateRemoteCheckout:return T(t,e.payload);default:return t}}var fe={errors:{updateShippingOptionError:{},updateError:{},deleteError:{}},statuses:{isUpdating:{},isUpdatingShippingOption:{},isDeleting:{}}};function _e(t,e){return void 0===t&&(t=fe),Object(i.combineReducers)({data:ye,errors:Object(i.composeReducers)(ge,g),statuses:be})(t,e)}function ye(t,e){switch(e.type){case f.a.LoadCheckoutSucceeded:case z.a.LoadShippingOptionsSucceeded:case z.a.CreateConsignmentsSucceeded:case z.a.UpdateConsignmentSucceeded:case z.a.DeleteConsignmentSucceeded:case z.a.UpdateShippingOptionSucceeded:case R.a.ApplyCouponSucceeded:case R.a.RemoveCouponSucceeded:return M(t,e.payload&&e.payload.consignments);case ht.a.SignOutCustomerSucceeded:return M(t,[]);default:return t}}function ge(t,e){var n,r,i,o,a,s;switch(void 0===t&&(t=fe.errors),e.type){case f.a.LoadCheckoutRequested:case f.a.LoadCheckoutSucceeded:case z.a.LoadShippingOptionsSucceeded:case z.a.LoadShippingOptionsRequested:return C(t,"loadError",void 0);case f.a.LoadCheckoutFailed:case z.a.LoadShippingOptionsFailed:return C(t,"loadError",e.payload);case z.a.CreateConsignmentsRequested:case z.a.CreateConsignmentsSucceeded:return C(t,"createError",void 0);case z.a.CreateConsignmentsFailed:return C(t,"createError",e.payload);case z.a.UpdateConsignmentSucceeded:case z.a.UpdateConsignmentRequested:return e.meta?T(t,{updateError:(n={},n[e.meta.id]=void 0,n)}):t;case z.a.UpdateConsignmentFailed:return e.meta?T(t,{updateError:(r={},r[e.meta.id]=e.payload,r)}):t;case z.a.DeleteConsignmentSucceeded:case z.a.DeleteConsignmentRequested:return e.meta?T(t,{deleteError:(i={},i[e.meta.id]=void 0,i)}):t;case z.a.DeleteConsignmentFailed:return e.meta?T(t,{deleteError:(o={},o[e.meta.id]=e.payload,o)}):t;case z.a.UpdateShippingOptionRequested:case z.a.UpdateShippingOptionSucceeded:return e.meta?T(t,{updateShippingOptionError:(a={},a[e.meta.id]=void 0,a)}):t;case z.a.UpdateShippingOptionFailed:return e.meta?T(t,{updateShippingOptionError:(s={},s[e.meta.id]=e.payload,s)}):t;default:return t}}function be(t,e){var n,r,i,o,a,s;switch(void 0===t&&(t=fe.statuses),e.type){case f.a.LoadCheckoutRequested:return C(t,"isLoading",!0);case z.a.LoadShippingOptionsRequested:return C(t,"isLoadingShippingOptions",!0);case f.a.LoadCheckoutSucceeded:case f.a.LoadCheckoutFailed:return C(t,"isLoading",!1);case z.a.LoadShippingOptionsSucceeded:case z.a.LoadShippingOptionsFailed:return C(t,"isLoadingShippingOptions",!1);case z.a.CreateConsignmentsRequested:return C(t,"isCreating",!0);case z.a.CreateConsignmentsSucceeded:case z.a.CreateConsignmentsFailed:return C(t,"isCreating",!1);case z.a.UpdateConsignmentRequested:return e.meta?T(t,{isUpdating:(n={},n[e.meta.id]=!0,n)}):t;case z.a.UpdateConsignmentSucceeded:case z.a.UpdateConsignmentFailed:return e.meta?T(t,{isUpdating:(r={},r[e.meta.id]=!1,r)}):t;case z.a.DeleteConsignmentRequested:return e.meta?T(t,{isDeleting:(i={},i[e.meta.id]=!0,i)}):t;case z.a.DeleteConsignmentSucceeded:case z.a.DeleteConsignmentFailed:return e.meta?T(t,{isDeleting:(o={},o[e.meta.id]=!1,o)}):t;case z.a.UpdateShippingOptionRequested:return e.meta?T(t,{isUpdatingShippingOption:(a={},a[e.meta.id]=!0,a)}):t;case z.a.UpdateShippingOptionSucceeded:case z.a.UpdateShippingOptionFailed:return e.meta?T(t,{isUpdatingShippingOption:(s={},s[e.meta.id]=!1,s)}):t;default:return t}}var ve=n(43),Ce={errors:{},statuses:{}};function Oe(t,e){return void 0===t&&(t=Ce),Object(i.combineReducers)({data:Se,errors:Object(i.composeReducers)(we,g),statuses:Ie})(t,e)}function Se(t,e){switch(e.type){case ve.a.LoadShippingCountriesSucceeded:return M(t,e.payload);default:return t}}function we(t,e){switch(void 0===t&&(t=Ce.errors),e.type){case ve.a.LoadShippingCountriesRequested:case ve.a.LoadShippingCountriesSucceeded:return C(t,"loadError",void 0);case ve.a.LoadShippingCountriesFailed:return C(t,"loadError",e.payload);default:return t}}function Ie(t,e){switch(void 0===t&&(t=Ce.statuses),e.type){case ve.a.LoadShippingCountriesRequested:return C(t,"isLoading",!0);case ve.a.LoadShippingCountriesSucceeded:case ve.a.LoadShippingCountriesFailed:return C(t,"isLoading",!1);default:return t}}var Ae=n(9),Ee={data:{},errors:{},statuses:{}};function Pe(t,e){return void 0===t&&(t=Ee),Object(i.combineReducers)({data:je,errors:Object(i.composeReducers)(ke,g),statuses:Me})(t,e)}function je(t,e){var n,r;switch(void 0===t&&(t=Ee.data),e.type){case Ae.a.InitializeSucceeded:return T(t,((n={})[e.meta&&e.meta.methodId]={isInitialized:!0},n));case Ae.a.DeinitializeSucceeded:return T(t,((r={})[e.meta&&e.meta.methodId]={isInitialized:!1},r))}return t}function ke(t,e){switch(void 0===t&&(t=Ee.errors),e.type){case Ae.a.InitializeRequested:case Ae.a.InitializeSucceeded:return T(t,{initializeError:void 0,initializeMethodId:void 0});case Ae.a.InitializeFailed:return T(t,{initializeError:e.payload,initializeMethodId:e.meta&&e.meta.methodId});case Ae.a.DeinitializeRequested:case Ae.a.DeinitializeSucceeded:return T(t,{deinitializeError:void 0,deinitializeMethodId:void 0});case Ae.a.DeinitializeFailed:return T(t,{deinitializeError:e.payload,deinitializeMethodId:e.meta&&e.meta.methodId});case Ae.a.UpdateAddressRequested:case Ae.a.UpdateAddressSucceeded:return T(t,{updateAddressError:void 0,updateAddressMethodId:void 0});case Ae.a.UpdateAddressFailed:return T(t,{updateAddressError:e.payload,updateAddressMethodId:e.meta&&e.meta.methodId});case Ae.a.SelectOptionRequested:case Ae.a.SelectOptionSucceeded:return T(t,{selectOptionError:void 0,selectOptionMethodId:void 0});case Ae.a.SelectOptionFailed:return T(t,{selectOptionError:e.payload,selectOptionMethodId:e.meta&&e.meta.methodId});case Ae.a.WidgetInteractionStarted:case Ae.a.WidgetInteractionFinished:return T(t,{widgetInteractionError:void 0,widgetInteractionMethodId:void 0});case Ae.a.WidgetInteractionFailed:return T(t,{widgetInteractionError:e.payload,widgetInteractionMethodId:e.meta&&e.meta.methodId});default:return t}}function Me(t,e){switch(void 0===t&&(t=Ee.statuses),e.type){case Ae.a.InitializeRequested:return T(t,{isInitializing:!0,initializeMethodId:e.meta&&e.meta.methodId});case Ae.a.InitializeFailed:case Ae.a.InitializeSucceeded:return T(t,{isInitializing:!1,initializeMethodId:void 0});case Ae.a.DeinitializeRequested:return T(t,{isDeinitializing:!0,deinitializeMethodId:e.meta&&e.meta.methodId});case Ae.a.DeinitializeFailed:case Ae.a.DeinitializeSucceeded:return T(t,{isDeinitializing:!1,deinitializeMethodId:void 0});case Ae.a.UpdateAddressRequested:return T(t,{isUpdatingAddress:!0,updateAddressMethodId:e.meta&&e.meta.methodId});case Ae.a.UpdateAddressFailed:case Ae.a.UpdateAddressSucceeded:return T(t,{isUpdatingAddress:!1,updateAddressMethodId:void 0});case Ae.a.SelectOptionRequested:return T(t,{isSelectingOption:!0,selectOptionMethodId:e.meta&&e.meta.methodId});case Ae.a.SelectOptionFailed:case Ae.a.SelectOptionSucceeded:return T(t,{isSelectingOption:!1,selectOptionMethodId:void 0});case Ae.a.WidgetInteractionStarted:return T(t,{isWidgetInteracting:!0,widgetInteractionMethodId:e.meta&&e.meta.methodId});case Ae.a.WidgetInteractionFinished:case Ae.a.WidgetInteractionFailed:return T(t,{isWidgetInteracting:!1,widgetInteractionMethodId:void 0});default:return t}}var Te=n(44),Re={errors:{},statuses:{}};function De(t,e){return void 0===t&&(t=Re),Object(i.combineReducers)({data:ze,errors:Object(i.composeReducers)(Le,g),statuses:Ne})(t,e)}function ze(t,e){switch(e.type){case Te.a.SendSignInEmailSucceeded:return T(t,e.payload);default:return t}}function Le(t,e){switch(void 0===t&&(t=Re.errors),e.type){case Te.a.SendSignInEmailRequested:case Te.a.SendSignInEmailSucceeded:return C(t,"sendError",void 0);case Te.a.SendSignInEmailFailed:return C(t,"sendError",e.payload);default:return t}}function Ne(t,e){switch(void 0===t&&(t=Re.statuses),e.type){case Te.a.SendSignInEmailRequested:return C(t,"isSending",!0);case Te.a.SendSignInEmailFailed:case Te.a.SendSignInEmailSucceeded:return C(t,"isSending",!1);default:return t}}var Fe=n(47),qe={errors:{},statuses:{}};function Ue(t,e){return void 0===t&&(t=qe),Object(i.combineReducers)({errors:Object(i.composeReducers)(xe,g),statuses:Be})(t,e)}function xe(t,e){switch(void 0===t&&(t=qe.errors),e.type){case Fe.a.ApplyStoreCreditRequested:case Fe.a.ApplyStoreCreditSucceeded:return C(t,"applyError",void 0);case Fe.a.ApplyStoreCreditFailed:return C(t,"applyError",e.payload);default:return t}}function Be(t,e){switch(void 0===t&&(t=qe.statuses),e.type){case Fe.a.ApplyStoreCreditRequested:return C(t,"isApplying",!0);case Fe.a.ApplyStoreCreditSucceeded:case Fe.a.ApplyStoreCreditFailed:return C(t,"isApplying",!1);default:return t}}var Ge={errors:{},statuses:{}};function Ve(t,e){return void 0===t&&(t=Ge),Object(i.combineReducers)({errors:Object(i.composeReducers)(Ye,g),statuses:He})(t,e)}function Ye(t,e){switch(void 0===t&&(t=Ge.errors),e.type){case S.a.UpdateSubscriptionsRequested:case S.a.UpdateSubscriptionsSucceeded:return C(t,"updateError",void 0);case S.a.UpdateSubscriptionsFailed:return C(t,"updateError",e.payload);default:return t}}function He(t,e){switch(void 0===t&&(t=Ge.statuses),e.type){case S.a.UpdateSubscriptionsRequested:return C(t,"isUpdating",!0);case S.a.UpdateSubscriptionsFailed:case S.a.UpdateSubscriptionsSucceeded:return C(t,"isUpdating",!1);default:return t}}var We=n(65),Ke={errors:{},statuses:{}};function Je(t,e){return void 0===t&&(t=Ke),Object(i.combineReducers)({data:Ze,errors:Object(i.composeReducers)(Qe,g),statuses:Xe})(t,e)}function Ze(t,e){switch(e.type){case f.a.LoadCheckoutSucceeded:case f.a.UpdateCheckoutSucceeded:case Fe.a.ApplyStoreCreditSucceeded:case w.a.UpdateBillingAddressSucceeded:case R.a.ApplyCouponSucceeded:case R.a.RemoveCouponSucceeded:case z.a.CreateConsignmentsSucceeded:case z.a.UpdateConsignmentSucceeded:case z.a.DeleteConsignmentSucceeded:case z.a.UpdateShippingOptionSucceeded:case z.a.LoadShippingOptionsSucceeded:case D.a.ApplyGiftCertificateSucceeded:case D.a.RemoveGiftCertificateSucceeded:case We.a.VerifyCheckoutSucceeded:return T(t,Object(c.omit)(e.payload,["billingAddress","cart","consignments","customer","coupons","giftCertificates"]));case O.a.SubmitOrderSucceeded:return C(t,"orderId",e.payload&&e.payload.order.orderId);default:return t}}function Qe(t,e){switch(void 0===t&&(t=Ke.errors),e.type){case f.a.LoadCheckoutRequested:case f.a.LoadCheckoutSucceeded:return C(t,"loadError",void 0);case f.a.LoadCheckoutFailed:return C(t,"loadError",e.payload);case f.a.UpdateCheckoutRequested:case f.a.UpdateCheckoutSucceeded:return C(t,"updateError",void 0);case f.a.UpdateCheckoutFailed:return C(t,"updateError",e.payload);default:return t}}function Xe(t,e){switch(void 0===t&&(t=Ke.statuses),e.type){case f.a.LoadCheckoutRequested:return C(t,"isLoading",!0);case f.a.LoadCheckoutFailed:case f.a.LoadCheckoutSucceeded:return C(t,"isLoading",!1);case f.a.UpdateCheckoutRequested:return C(t,"isUpdating",!0);case f.a.UpdateCheckoutFailed:case f.a.UpdateCheckoutSucceeded:return C(t,"isUpdating",!1);case We.a.ExecuteRequested:return C(t,"isExecutingSpamCheck",!0);case We.a.ExecuteFailed:case We.a.ExecuteSucceeded:return C(t,"isExecutingSpamCheck",!1);default:return t}}var $e=n(5),tn=n(12),en=n(171);function nn(t,e){if(null==t)throw e?e():new Error("An unexpected error has occurred.");return t}function rn(t){return function(t,e){var n=Object.create(t);return function(t,e){var n=Object.getPrototypeOf(t);for(;n;)e(n),n=Object.getPrototypeOf(n)}(t,(function(r){Object.getOwnPropertyNames(r).forEach((function(r){"constructor"!==r&&"function"==typeof n[r]&&"_"!==r.charAt(0)&&(n[r]=e(t,r,n))}))})),n}(t,(function(t,e){return function(){for(var n,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return Object(i.deepFreeze)((n=t[e]).call.apply(n,Object(r.__spreadArrays)([t],o)))}}))}function on(){var t=Object(en.a)((function(t){return t.data}),(function(t){return function(e,n){void 0===e&&(e=[]);var r=Object(c.find)(e,{code:n});return(t?t.shippingAddress:[]).map((function(t){return a(t,e,r)}))}})),e=Object(en.a)((function(t){return t.data}),(function(t){return function(e,n){void 0===e&&(e=[]);var r=Object(c.find)(e,{code:n});return(t?t.billingAddress:[]).map((function(t){return a(t,e,r)}))}})),n=Object(en.a)((function(t){return t.data}),(function(t){return function(){return t?t.customerAccount:[]}})),i=Object(en.a)((function(t){return t.errors.loadError}),(function(t){return function(){return t}})),o=Object(en.a)((function(t){return!!t.statuses.isLoading}),(function(t){return function(){return t}}));function a(t,e,n){return"countryCode"===t.name?function(t,e,n){void 0===e&&(e=[]);if(!e.length)return t;var i=(n||{}).code,o=void 0===i?"":i,a=e.map((function(t){return{value:t.code,label:t.name}}));return Object(r.__assign)(Object(r.__assign)({},t),{options:{items:a},default:o,type:"array",fieldType:"dropdown",itemtype:"string"})}(t,e,n):"stateOrProvince"===t.name?function(t,e){var n=e||{},i=n.subdivisions,o=void 0===i?[]:i,a=n.requiresState;if(!o.length)return Object(r.__assign)(Object(r.__assign)({},t),{required:null!=a&&a});var s=o.map((function(t){return{value:t.code,label:t.name}}));return Object(r.__assign)(Object(r.__assign)({},t),{name:"stateOrProvinceCode",options:{items:s},required:null==a||a,type:"array",fieldType:"dropdown",itemtype:"string"})}(t,n):"postalCode"===t.name?function(t,e){var n=(e||{}).hasPostalCodes,i=void 0===n?[]:n;if(void 0===i)return t;return Object(r.__assign)(Object(r.__assign)({},t),{required:Boolean(i)})}(t,n):t}return Object($e.memoizeOne)((function(r){return void 0===r&&(r=It),{getShippingAddressFields:t(r),getBillingAddressFields:e(r),getCustomerAccountFields:n(r),getLoadError:i(r),isLoading:o(r)}}))}var an=n(58),sn=n(36);var cn={"adyenv2.scheme":{provider:"adyenv2",method:"scheme"},"adyenv2.bcmc":{provider:"adyenv2",method:"bcmc"},"adyenv2.ideal":{provider:"adyenv2",method:"ideal"},"adyenv2.sepadirectdebit":{provider:"adyenv2",method:"sepadirectdebit"},"adyenv2.directEbanking":{provider:"adyenv2",method:"directEbanking"},"adyenv2.giropay":{provider:"adyenv2",method:"giropay"},barclays:{provider:"barclays",method:"credit_card"},braintree:{provider:"braintree",method:"credit_card"},braintreepaypal:{provider:"braintree",method:"paypal"},authorizenet:{provider:"authorizenet",method:"credit_card"},elavon:{provider:"elavon",method:"credit_card"},checkoutcom:{provider:"checkoutcom",method:"credit_card"},stripe:{provider:"stripe",method:"credit_card"},"stripev3.card":{provider:"stripev3",method:"card"},cybersource:{provider:"cybersource",method:"credit_card"},converge:{provider:"converge",method:"credit_card"},bluesnapv2:{provider:"bluesnapv2",method:"credit_card"},orbital:{provider:"orbital",method:"credit_card"},paymetric:{provider:"paymetric",method:"credit_card"},bolt:{provider:"bolt",method:"credit_card"},"barclaycard.credit_card":{provider:"barclaycard",method:"credit_card"}};function un(t){return Object(c.pickBy)({firstName:t.firstName,lastName:t.lastName,company:t.company,address1:t.address1,address2:t.address2,city:t.city,stateOrProvince:t.stateOrProvince,countryCode:t.countryCode,postalCode:t.postalCode,phone:t.phone,customFields:t.customFields},c.identity)}function dn(){var t=Object(en.a)((function(t){return t.data}),(function(t){return function(){return t}})),e=Object(en.a)((function(t){return t.data}),(function(t){return function(e){if(t&&t.length)return Object(c.find)(t,{id:e})}})),n=Object(en.a)((function(t){return t.data}),(function(t){return function(e){if(t&&t.length)return Object(c.find)(t,(function(t){return n=t.shippingAddress,r=e,Object(c.isEqual)(un(n),un(r));var n,r}))}})),r=Object(en.a)((function(t){return t.data}),(function(t){return function(){if(t&&t.length)return t[0].selectedShippingOption}})),i=Object(en.a)((function(t){return t.errors.loadError}),(function(t){return function(){return t}})),o=Object(en.a)((function(t){return t.errors.createError}),(function(t){return function(){return t}})),a=Object(en.a)((function(t){return t.errors.loadShippingOptionsError}),(function(t){return function(){return t}})),s=Object(en.a)(t,(function(t,e){return e.cart.getCart}),(function(t,e){return function(){var n=e();if(!n)return[];var r=(t()||[]).reduce((function(t,e){return t.concat(e.lineItemIds)}),[]);return(n.lineItems.physicalItems||[]).filter((function(t){return r.indexOf(t.id)<0}))}})),u=Object(en.a)((function(t){return t.errors.updateError}),(function(t){return function(e){return e?t[e]:Object(c.find)(t)}})),d=Object(en.a)((function(t){return t.errors.deleteError}),(function(t){return function(e){return e?t[e]:Object(c.find)(t)}})),p=Object(en.a)(n,u,o,(function(t,e,n){return function(r){var i=t(r);return i?e(i.id):n()}})),h=Object(en.a)((function(t){return t.errors.updateShippingOptionError}),(function(t){return function(e){return e?t[e]:Object(c.find)(t)}})),l=Object(en.a)((function(t){return t.statuses.isLoading}),(function(t){return function(){return!0===t}})),m=Object(en.a)((function(t){return t.statuses.isLoadingShippingOptions}),(function(t){return function(){return!0===t}})),f=Object(en.a)((function(t){return t.statuses.isCreating}),(function(t){return function(){return!0===t}})),_=Object(en.a)((function(t){return t.statuses.isUpdating}),(function(t){return function(e){return e?!0===t[e]:!0===Object(c.find)(t)}})),y=Object(en.a)((function(t){return t.statuses.isDeleting}),(function(t){return function(e){return e?!0===t[e]:!0===Object(c.find)(t)}})),g=Object(en.a)(n,_,f,(function(t,e,n){return function(r){var i=t(r);return i?e(i.id):n()}})),b=Object(en.a)((function(t){return t.statuses.isUpdatingShippingOption}),(function(t){return function(e){return e?!0===t[e]:!0===Object(c.find)(t)}}));return Object($e.memoizeOne)((function(c,v){return void 0===c&&(c=fe),{getConsignments:t(c),getConsignmentById:e(c),getConsignmentByAddress:n(c),getShippingOption:r(c),getLoadError:i(c),getCreateError:o(c),getLoadShippingOptionsError:a(c),getUnassignedItems:s(c,{cart:v}),getUpdateError:u(c),getDeleteError:d(c),getItemAssignmentError:p(c),getUpdateShippingOptionError:h(c),isLoading:l(c),isLoadingShippingOptions:m(c),isCreating:f(c),isUpdating:_(c),isDeleting:y(c),isAssigningItems:g(c),isUpdatingShippingOption:b(c)}}))}var pn={errors:{},statuses:{}};function hn(){var t,e,n,i,o,a,s,u,d,p,h,l,m,f,_,y,g,b,v,C,O,S,w,A,E,P,j,k,M,T,R,D,z,N,F,q,U=(t=Object(en.a)((function(t){return t.data}),(function(t){return function(){return t}})),e=Object(en.a)(t,(function(t){return function(){return nn(t(),(function(){return new tn.b(tn.a.MissingBillingAddress)}))}})),n=Object(en.a)((function(t){return t.errors.updateError}),(function(t){return function(){return t}})),i=Object(en.a)((function(t){return t.errors.continueAsGuestError}),(function(t){return function(){return t}})),o=Object(en.a)((function(t){return t.errors.loadError}),(function(t){return function(){return t}})),a=Object(en.a)((function(t){return!!t.statuses.isUpdating}),(function(t){return function(){return t}})),s=Object(en.a)((function(t){return!!t.statuses.isContinuingAsGuest}),(function(t){return function(){return t}})),u=Object(en.a)((function(t){return!!t.statuses.isLoading}),(function(t){return function(){return t}})),Object($e.memoizeOne)((function(r){return void 0===r&&(r=I),{getBillingAddress:t(r),getBillingAddressOrThrow:e(r),getUpdateError:n(r),getContinueAsGuestError:i(r),getLoadError:o(r),isUpdating:a(r),isContinuingAsGuest:s(r),isLoading:u(r)}}))),x=function(){var t=Object(en.a)((function(t){return t.data}),(function(t){return function(){return t}})),e=Object(en.a)(t,(function(t){return function(){return nn(t(),(function(){return new tn.b(tn.a.MissingCart)}))}})),n=Object(en.a)((function(t){return t.errors.loadError}),(function(t){return function(){return t}})),r=Object(en.a)((function(t){return!!t.statuses.isLoading}),(function(t){return function(){return t}}));return Object($e.memoizeOne)((function(i){return void 0===i&&(i=L),{getCart:t(i),getCartOrThrow:e(i),getLoadError:n(i),isLoading:r(i)}}))}(),G=(d=Object(en.a)((function(t){return t}),(function(t){return function(){return t}})),p=Object(en.a)((function(t){return t.statuses}),(function(t){return Object($e.memoize)((function(e){if(e){var n=t[e];return!0===(n&&n.isInitializing)}return Object(c.some)(t,{isInitializing:!0})}))})),h=Object(en.a)((function(t){return t.data}),(function(t){return Object($e.memoize)((function(e,n){var r=t[e];return!!r&&(n?!0===r.initializedContainers[n]:Object(c.some)(r.initializedContainers,(function(t){return!0===t})))}))})),l=Object(en.a)((function(t){return t.statuses}),(function(t){return Object($e.memoize)((function(e){if(e){var n=t[e];return!0===(n&&n.isDeinitializing)}return Object(c.some)(t,{isDeinitializing:!0})}))})),m=Object(en.a)((function(t){return t.errors}),(function(t){return Object($e.memoize)((function(e){var n=e?t[e]:Object(c.find)(Object(c.values)(t),(function(t){return!(!t||!t.initializeError)}));return n&&n.initializeError}))})),f=Object(en.a)((function(t){return t.errors}),(function(t){return Object($e.memoize)((function(e){var n=e?t[e]:Object(c.find)(Object(c.values)(t),(function(t){return!(!t||!t.deinitializeError)}));return n&&n.deinitializeError}))})),Object($e.memoizeOne)((function(t){return void 0===t&&(t=B),{getState:d(t),isInitializing:p(t),isInitialized:h(t),isDeinitializing:l(t),getInitializeError:m(t),getDeinitializeError:f(t)}}))),V=function(){var t=Object(en.a)((function(t){return t.data}),(function(t){return function(){return t}})),e=Object(en.a)((function(t){return t.data}),(function(t){return function(e){if(t){var n=t.context.flashMessages;if(n)return void 0!==e?n.filter((function(t){var n=t.type;return e===n})):n}}})),n=Object(en.a)((function(t){return t.data}),(function(t,e){var n=e.formState;return n&&n.data}),(function(t,e){return function(){return t&&e?Object(r.__assign)(Object(r.__assign)({},t.storeConfig),{formFields:e}):void 0}})),i=Object(en.a)(n,(function(t){return function(){return nn(t(),(function(){return new tn.b(tn.a.MissingCheckoutConfig)}))}})),o=Object(en.a)((function(t){return t.data&&t.data.context}),(function(t){return function(){return t}})),a=Object(en.a)((function(t){return t.meta&&t.meta.externalSource}),(function(t){return function(){return t}})),s=Object(en.a)((function(t){return t.meta&&t.meta.variantIdentificationToken}),(function(t){return function(){return t}})),c=Object(en.a)((function(t){return t.errors.loadError}),(function(t){return function(){return t}})),u=Object(en.a)((function(t){return!!t.statuses.isLoading}),(function(t){return function(){return t}}));return Object($e.memoizeOne)((function(r,d){return void 0===r&&(r=Q),{getConfig:t(r),getFlashMessages:e(r),getStoreConfig:n(r,{formState:d}),getStoreConfigOrThrow:i(r,{formState:d}),getContextConfig:o(r),getExternalSource:a(r),getVariantIdentificationToken:s(r),getLoadError:c(r),isLoading:u(r)}}))}(),Y=function(){var t=Object(en.a)((function(t){return t.data}),(function(t){return function(){return t}})),e=Object(en.a)((function(t){return t.errors.loadError}),(function(t){return function(){return t}})),n=Object(en.a)((function(t){return!!t.statuses.isLoading}),(function(t){return function(){return t}}));return Object($e.memoizeOne)((function(r){return void 0===r&&(r=Mt),{getCountries:t(r),getLoadError:e(r),isLoading:n(r)}}))}(),H=(_=Object(en.a)((function(t){return t.data}),(function(t){return function(){return t}})),y=Object(en.a)((function(t){return t.errors.removeCouponError}),(function(t){return function(){return t}})),g=Object(en.a)((function(t){return t.errors.applyCouponError}),(function(t){return function(){return t}})),b=Object(en.a)((function(t){return!!t.statuses.isApplyingCoupon}),(function(t){return function(){return t}})),v=Object(en.a)((function(t){return!!t.statuses.isRemovingCoupon}),(function(t){return function(){return t}})),Object($e.memoizeOne)((function(t){return void 0===t&&(t=nt),{getCoupons:_(t),getRemoveError:y(t),getApplyError:g(t),isApplying:b(t),isRemoving:v(t)}}))),W=(C=Object(en.a)((function(t){return t.data}),(function(t){return function(){return t}})),O=Object(en.a)((function(t){return t.errors.createError}),(function(t){return function(){return t}})),S=Object(en.a)((function(t){return!!t.statuses.isCreating}),(function(t){return function(){return t}})),Object($e.memoizeOne)((function(t){return void 0===t&&(t=lt),{getCustomer:C(t),getCreateAccountError:O(t),isCreatingCustomerAccount:S(t)}}))),K=function(){var t=Object(en.a)((function(t){return t.errors.signInMethodId}),(function(t){return t.errors.signInError}),(function(t,e){return function(n){if(!n||t===n)return e}})),e=Object(en.a)((function(t){return t.errors.signOutMethodId}),(function(t){return t.errors.signOutError}),(function(t,e){return function(n){if(!n||t===n)return e}})),n=Object(en.a)((function(t){return t.errors.initializeMethodId}),(function(t){return t.errors.initializeError}),(function(t,e){return function(n){if(!n||t===n)return e}})),r=Object(en.a)((function(t){return t.errors.widgetInteractionMethodId}),(function(t){return t.errors.widgetInteractionError}),(function(t,e){return function(n){if(!n||t===n)return e}})),i=Object(en.a)((function(t){return t.statuses.signInMethodId}),(function(t){return t.statuses.isSigningIn}),(function(t,e){return function(n){return(!n||t===n)&&!!e}})),o=Object(en.a)((function(t){return t.statuses.signOutMethodId}),(function(t){return t.statuses.isSigningOut}),(function(t,e){return function(n){return(!n||t===n)&&!!e}})),a=Object(en.a)((function(t){return t.statuses.initializeMethodId}),(function(t){return t.statuses.isInitializing}),(function(t,e){return function(n){return(!n||t===n)&&!!e}})),s=Object(en.a)((function(t){return t.data}),(function(t){return function(e){return!(!t[e]||!t[e].isInitialized)}})),c=Object(en.a)((function(t){return t.statuses.widgetInteractionMethodId}),(function(t){return t.statuses.isWidgetInteracting}),(function(t,e){return function(n){return(!n||t===n)&&!!e}}));return Object($e.memoizeOne)((function(u){return void 0===u&&(u=bt),{getSignInError:t(u),getSignOutError:e(u),getInitializeError:n(u),getWidgetInteractionError:r(u),isSigningIn:i(u),isSigningOut:o(u),isInitializing:a(u),isInitialized:s(u),isWidgetInteracting:c(u)}}))}(),J=function(){var t=Object(en.a)((function(t){return t.data}),(function(t){return function(){return t}})),e=Object(en.a)((function(t){return t.errors.removeGiftCertificateError}),(function(t){return function(){return t}})),n=Object(en.a)((function(t){return t.errors.applyGiftCertificateError}),(function(t){return function(){return t}})),r=Object(en.a)((function(t){return!!t.statuses.isApplyingGiftCertificate}),(function(t){return function(){return t}})),i=Object(en.a)((function(t){return!!t.statuses.isRemovingGiftCertificate}),(function(t){return function(){return t}}));return Object($e.memoizeOne)((function(o){return void 0===o&&(o=st),{getGiftCertificates:t(o),getRemoveError:e(o),getApplyError:n(o),isApplying:r(o),isRemoving:i(o)}}))}(),Z=function(){var t=Object(en.a)((function(t){return t.data}),(function(t){return function(e){if(t){var n=e.gateway?e.gateway+"."+e.id:e.id,r=cn[n];return r?Object(c.filter)(t,r):[]}}})),e=Object(en.a)((function(t){return t.data}),(function(t){return void 0===t&&(t=[]),function(e){var n=Object(c.values)(cn);return t.find((function(t){return t.bigpayToken===e&&"card"===t.type&&n.some((function(e){return Object(c.isMatch)(t,e)}))}))}})),n=Object(en.a)((function(t){return t.data}),(function(t){return function(){if(t)return Object(c.flatMap)(cn,(function(e){return Object(c.filter)(t,(function(t){return Object(c.isMatch)(t,e)}))}))}})),r=Object(en.a)((function(t){return t.meta}),(function(t){return function(){return t}})),i=Object(en.a)((function(t){return t.errors.loadError}),(function(t){return function(){return t}})),o=Object(en.a)((function(t){return t.errors.failedInstrument}),(function(t){return t.errors.deleteError}),(function(t,e){return function(n){if(!n||t===n)return e}})),a=Object(en.a)((function(t){return t.statuses.isLoading}),(function(t){return function(){return!!t}})),s=Object(en.a)((function(t){return t.statuses.deletingInstrument}),(function(t){return t.statuses.isDeleting}),(function(t,e){return function(n){return(!n||t===n)&&!!e}}));return Object($e.memoizeOne)((function(c){return void 0===c&&(c=oe),{getCardInstrument:e(c),getInstruments:n(c),getInstrumentsByPaymentMethod:t(c),getInstrumentsMeta:r(c),getLoadError:i(c),getDeleteError:o(c),isLoading:a(c),isDeleting:s(c)}}))}(),X=on(),$=function(){var t=Object(en.a)((function(t){return t.data}),(function(t){return function(){return t}})),e=Object(en.a)((function(t){return t.meta}),(function(t){return function(){return t}})),n=Object(en.a)((function(t){return t.data}),(function(t){return function(e,n){return n?Object(c.find)(t,{id:e,gateway:n}):Object(c.find)(t,{id:e})}})),r=Object(en.a)(n,(function(t){return function(e,n){return nn(t(e,n),(function(){return new tn.b(tn.a.MissingPaymentMethod)}))}})),i=Object(en.a)((function(t){return t.errors.loadError}),(function(t){return function(){return t}})),o=Object(en.a)((function(t){return t.errors.loadMethodId}),(function(t){return t.errors.loadMethodError}),(function(t,e){return function(n){if(!n||t===n)return e}})),a=Object(en.a)((function(t){return t.statuses.isLoading}),(function(t){return function(){return!!t}})),s=Object(en.a)((function(t){return t.statuses.loadMethodId}),(function(t){return t.statuses.isLoadingMethod}),(function(t,e){return function(n){return(!n||t===n)&&!!e}}));return Object($e.memoizeOne)((function(c){return void 0===c&&(c=Ht),{getPaymentMethods:t(c),getPaymentMethodsMeta:e(c),getPaymentMethod:n(c),getPaymentMethodOrThrow:r(c),getLoadError:i(c),getLoadMethodError:o(c),isLoading:a(c),isLoadingMethod:s(c)}}))}(),tt=function(){var t=Object(en.a)((function(t){return t.errors.initializeMethodId}),(function(t){return t.errors.initializeError}),(function(t,e){return function(n){if(!n||t===n)return e}})),e=Object(en.a)((function(t){return t.errors.executeMethodId}),(function(t){return t.errors.executeError}),(function(t,e){return function(n){if(!n||t===n)return e}})),n=Object(en.a)((function(t){return t.errors.finalizeMethodId}),(function(t){return t.errors.finalizeError}),(function(t,e){return function(n){if(!n||t===n)return e}})),r=Object(en.a)((function(t){return t.errors.widgetInteractionMethodId}),(function(t){return t.errors.widgetInteractionError}),(function(t,e){return function(n){if(!n||t===n)return e}})),i=Object(en.a)((function(t){return t.statuses.initializeMethodId}),(function(t){return t.statuses.isInitializing}),(function(t,e){return function(n){return(!n||t===n)&&!!e}})),o=Object(en.a)((function(t){return t.data}),(function(t){return function(e){return!(!t[e]||!t[e].isInitialized)}})),a=Object(en.a)((function(t){return t.statuses.executeMethodId}),(function(t){return t.statuses.isExecuting}),(function(t,e){return function(n){return(!n||t===n)&&!!e}})),s=Object(en.a)((function(t){return t.statuses.finalizeMethodId}),(function(t){return t.statuses.isFinalizing}),(function(t,e){return function(n){return(!n||t===n)&&!!e}})),c=Object(en.a)((function(t){return t.statuses.widgetInteractionMethodId}),(function(t){return t.statuses.isWidgetInteracting}),(function(t,e){return function(n){return(!n||t===n)&&!!e}}));return Object($e.memoizeOne)((function(u){return void 0===u&&(u=$t),{getInitializeError:t(u),getExecuteError:e(u),getFinalizeError:n(u),getWidgetInteractingError:r(u),isInitializing:i(u),isInitialized:o(u),isExecuting:a(u),isFinalizing:s(u),isWidgetInteracting:c(u)}}))}(),et=(w=Object(en.a)((function(t){return t.data}),(function(t){return function(e){return t[e]}})),Object($e.memoizeOne)((function(t){return void 0===t&&(t=he),{getCheckout:w(t)}}))),rt=(A=Object(en.a)((function(t){return t.data}),(function(t){return function(){if(t&&t[0])return t[0].shippingAddress}})),Object($e.memoizeOne)((function(t){return void 0===t&&(t=fe),{getShippingAddress:A(t)}}))),it=function(){var t=Object(en.a)((function(t){return t.data}),(function(t){return function(){return t}})),e=Object(en.a)((function(t){return t.errors.loadError}),(function(t){return function(){return t}})),n=Object(en.a)((function(t){return t.statuses.isLoading}),(function(t){return function(){return!!t}}));return Object($e.memoizeOne)((function(r){return void 0===r&&(r=Ce),{getShippingCountries:t(r),getLoadError:e(r),isLoading:n(r)}}))}(),ot=function(){var t=Object(en.a)((function(t){return t.errors.updateAddressMethodId}),(function(t){return t.errors.updateAddressError}),(function(t,e){return function(n){if(!n||t===n)return e}})),e=Object(en.a)((function(t){return t.errors.selectOptionMethodId}),(function(t){return t.errors.selectOptionError}),(function(t,e){return function(n){if(!n||t===n)return e}})),n=Object(en.a)((function(t){return t.errors.initializeMethodId}),(function(t){return t.errors.initializeError}),(function(t,e){return function(n){if(!n||t===n)return e}})),r=Object(en.a)((function(t){return t.errors.widgetInteractionMethodId}),(function(t){return t.errors.widgetInteractionError}),(function(t,e){return function(n){if(!n||t===n)return e}})),i=Object(en.a)((function(t){return t.statuses.updateAddressMethodId}),(function(t){return t.statuses.isUpdatingAddress}),(function(t,e){return function(n){return(!n||t===n)&&!!e}})),o=Object(en.a)((function(t){return t.statuses.selectOptionMethodId}),(function(t){return t.statuses.isSelectingOption}),(function(t,e){return function(n){return(!n||t===n)&&!!e}})),a=Object(en.a)((function(t){return t.statuses.initializeMethodId}),(function(t){return t.statuses.isInitializing}),(function(t,e){return function(n){return(!n||t===n)&&!!e}})),s=Object(en.a)((function(t){return t.data}),(function(t){return function(e){return!(!t[e]||!t[e].isInitialized)}})),c=Object(en.a)((function(t){return t.statuses.widgetInteractionMethodId}),(function(t){return t.statuses.isWidgetInteracting}),(function(t,e){return function(n){return(!n||t===n)&&!!e}}));return Object($e.memoizeOne)((function(u){return void 0===u&&(u=Ee),{getUpdateAddressError:t(u),getSelectOptionError:e(u),getInitializeError:n(u),getWidgetInteractionError:r(u),isUpdatingAddress:i(u),isSelectingOption:o(u),isInitializing:a(u),isInitialized:s(u),isWidgetInteracting:c(u)}}))}(),at=dn(),ct=function(){var t=Object(en.a)((function(t){return t.data}),(function(t,e){return e.billingAddress.getBillingAddress}),(function(t,e){return e.cart.getCart}),(function(t,e){return e.customer.getCustomer}),(function(t,e){return e.consignments.getConsignments}),(function(t,e){return e.coupons.getCoupons}),(function(t,e){return e.giftCertificates.getGiftCertificates}),(function(t,e,n,i,o,a,s){return function(){var c=e(),u=n(),d=i(),p=o()||[],h=a()||[],l=s()||[];if(t&&u&&d)return Object(r.__assign)(Object(r.__assign)({},t),{billingAddress:c,cart:u,customer:d,consignments:p,coupons:h,giftCertificates:l})}})),e=Object(en.a)(t,(function(t){return function(){return nn(t(),(function(){return new tn.b(tn.a.MissingCheckout)}))}})),n=Object(en.a)(t,(function(t){return function(e){var n=t();if(n){var r=n.grandTotal||0,i=n.customer.storeCredit||0;return e?Math.max(r-i,0):n.outstandingBalance}}})),i=Object(en.a)((function(t){return t.errors.loadError}),(function(t){return function(){return t}})),o=Object(en.a)((function(t){return t.errors.updateError}),(function(t){return function(){return t}})),a=Object(en.a)((function(t){return t.statuses.isExecutingSpamCheck}),(function(t){return function(){return!0===t}})),s=Object(en.a)((function(t){return t.statuses.isLoading}),(function(t){return function(){return!0===t}})),c=Object(en.a)((function(t){return t.statuses.isUpdating}),(function(t){return function(){return!0===t}}));return Object($e.memoizeOne)((function(r,u,d,p,h,l,m){return void 0===r&&(r=Ke),{getCheckout:t(r,{billingAddress:u,cart:d,consignments:p,coupons:h,customer:l,giftCertificates:m}),getCheckoutOrThrow:e(r,{billingAddress:u,cart:d,consignments:p,coupons:h,customer:l,giftCertificates:m}),getOutstandingBalance:n(r,{billingAddress:u,cart:d,consignments:p,coupons:h,customer:l,giftCertificates:m}),getLoadError:i(r),getUpdateError:o(r),isExecutingSpamCheck:a(r),isLoading:s(r),isUpdating:c(r)}}))}(),ut=function(){var t=Object(en.a)((function(t){return t.data}),(function(t,e){return e.billingAddress.getBillingAddress()}),(function(t,e){return e.coupons.getCoupons()}),(function(t,e,n){return void 0===n&&(n=[]),function(){if(t&&e)return Object(r.__assign)(Object(r.__assign)({},t),{billingAddress:e,coupons:n})}})),e=Object(en.a)(t,(function(t){return function(){return nn(t(),(function(){return new tn.b(tn.a.MissingOrder)}))}})),n=Object(en.a)((function(t){return t.meta}),(function(t){return function(){return t}})),i=Object(en.a)((function(t){return t.errors.loadError}),(function(t){return function(){return t}})),o=Object(en.a)((function(t){return!!t.statuses.isLoading}),(function(t){return function(){return t}}));return Object($e.memoizeOne)((function(r,a,s){return void 0===r&&(r=Lt),{getOrder:t(r,{billingAddress:a,coupons:s}),getOrderOrThrow:e(r,{billingAddress:a,coupons:s}),getOrderMeta:n(r),getLoadError:i(r),isLoading:o(r)}}))}(),dt=(E=Object(en.a)((function(t){return t.order.getOrderMeta}),(function(t){return function(){var e=t();return e&&e.payment}})),P=Object(en.a)((function(t){return t.order.getOrder}),(function(t){return function(){var e=t();return Object(c.find)(e&&e.payments,(function(t){var e=t.providerId;return"giftcertificate"!==e&&"storecredit"!==e}))}})),j=Object(en.a)((function(t){return t.checkout.getCheckout}),(function(t){return function(){var e=t();return Object(c.find)(e&&e.payments,(function(t){return t.providerType===an.a}))}})),k=Object(en.a)(E,j,P,(function(t,e,n){return function(){var r=t();if(r&&r.id)return{providerId:r.id,gatewayId:r.gateway};var i=e()||n();return i&&i.providerId?{providerId:i.providerId,gatewayId:i.gatewayId}:void 0}})),M=Object(en.a)(E,j,P,(function(t,e,n){return function(){var r=t();if(r&&r.status)return r.status.replace("PAYMENT_STATUS_","");var i=e()||n();return i?i.detail.step:void 0}})),T=Object(en.a)((function(t){return t.order.getOrderMeta}),(function(t){return function(){var e=t();return e&&e.token}})),R=Object(en.a)(E,(function(t){return function(){var e=t();return e&&e.redirectUrl}})),D=Object(en.a)((function(t){return t.checkout.getOutstandingBalance}),(function(t){return function(e){void 0===e&&(e=!1);var n=t(e);return!!n&&n>0}})),z=Object(en.a)(M,(function(t){return function(e){return!(!e||!e.nonce)||t()===sn.a||t()===sn.b}})),Object($e.memoizeOne)((function(t,e){return{getPaymentId:k({checkout:t,order:e}),getPaymentStatus:M({checkout:t,order:e}),getPaymentToken:T({checkout:t,order:e}),getPaymentRedirectUrl:R({checkout:t,order:e}),isPaymentDataRequired:D({checkout:t,order:e}),isPaymentDataSubmitted:z({checkout:t,order:e})}}))),pt=function(){var t=Object(en.a)((function(t){return t.errors.applyError}),(function(t){return function(){return t}})),e=Object(en.a)((function(t){return!!t.statuses.isApplying}),(function(t){return function(){return t}}));return Object($e.memoizeOne)((function(n){return void 0===n&&(n=pn),{getApplyError:t(n),isApplying:e(n)}}))}(),ht=function(){var t=Object(en.a)((function(t){return t.errors.updateError}),(function(t){return function(){return t}})),e=Object(en.a)((function(t){return!!t.statuses.isUpdating}),(function(t){return function(){return t}}));return Object($e.memoizeOne)((function(n){return void 0===n&&(n=Ge),{getUpdateError:t(n),isUpdating:e(n)}}))}(),mt=(N=Object(en.a)((function(t){return t.data}),(function(t){return function(){return t}})),F=Object(en.a)((function(t){return t.errors.sendError}),(function(t){return function(){return t}})),q=Object(en.a)((function(t){return!!t.statuses.isSending}),(function(t){return function(){return t}})),Object($e.memoizeOne)((function(t){return void 0===t&&(t=Re),{getEmail:N(t),getSendError:F(t),isSending:q(t)}})));return function(t,e){void 0===e&&(e={});var n,r=U(t.billingAddress),i=x(t.cart),o=G(t.checkoutButton),a=Y(t.countries),s=H(t.coupons),c=W(t.customer),u=K(t.customerStrategies),d=X(t.formFields),p=J(t.giftCertificates),h=Z(t.instruments),l=$(t.paymentMethods),m=tt(t.paymentStrategies),f=et(t.remoteCheckout),_=rt(t.consignments),y=it(t.shippingCountries),g=ot(t.shippingStrategies),b=ht(t.subscriptions),v=pt(t.storeCredit),C=mt(t.signInEmail),O=at(t.consignments,i),S=ct(t.checkout,r,i,O,s,c,p),w=ut(t.order,r,s),I=dt(S,w),A={billingAddress:r,cart:i,checkout:S,checkoutButton:o,config:V(t.config,t.formFields),consignments:O,countries:a,coupons:s,customer:c,customerStrategies:u,form:d,giftCertificates:p,instruments:h,order:w,payment:I,paymentMethods:l,paymentStrategies:m,remoteCheckout:f,shippingAddress:_,shippingCountries:y,shippingStrategies:g,signInEmail:C,subscriptions:b,storeCredit:v};return e.shouldWarnMutation?(n=A,Object.keys(n).reduce((function(t,e){return t[e]=rn(n[e]),t}),{})):A}}function ln(t,e){void 0===t&&(t={});var n,a,c=(a=new h,["catalog_only","empty_cart","invalid_order_id","invalid_order_token","missing_order_token","missing_provider_token","missing_shipping_method","order_completion_error","order_could_not_be_finalized_error","order_create_failed","provider_fatal_error","provider_setup_error","stock_too_low"].forEach((function(t){a.register(t,(function(t,e){return new s(t,e)}))})),a.register("invalid_payment_provider",(function(t){return new o.a(t)})),a.register("payment_config_not_found",(function(t){return new o.a(t)})),n=a,function(t){return Object(l.from)(t).pipe(Object(m.catchError)((function(t){if(t instanceof Error||t.payload instanceof Error)throw t;if((i=t.payload)&&"object"==typeof i&&["body","headers","status","statusText"].every((function(t){return i.hasOwnProperty(t)}))){var e=t.payload.body&&t.payload.body.detail;throw Object(r.__assign)(Object(r.__assign)({},t),{payload:n.createError(t.payload,e)})}var i;throw t})))}),u=hn();return Object(i.createDataStore)(Object(i.combineReducers)({billingAddress:A,cart:N,checkout:Je,checkoutButton:H,config:X,consignments:_e,countries:Tt,coupons:rt,customer:mt,customerStrategies:vt,formFields:At,giftCertificates:ct,instruments:ae,order:Nt,payment:Gt,paymentMethods:Wt,paymentStrategies:te,remoteCheckout:le,shippingCountries:Oe,shippingStrategies:Pe,signInEmail:De,subscriptions:Ve,storeCredit:Ue}),t,Object(r.__assign)({actionTransformer:c,stateTransformer:function(t){return u(t)}},e))}n.d(e,"a",(function(){return ln}))},function(t,e,n){"use strict";var r=n(39),i=n(112),o=n(89),a=n(0),s=function(t){function e(e){var n=t.call(this,e,{message:e.body.title})||this;return n.name="CheckoutNotAvailableError",n.type="checkout_not_available",n}return Object(a.__extends)(e,t),e}(n(35).a),c=function(){function t(t){this._requestSender=t}return t.prototype.loadCheckout=function(t,e){var n=void 0===e?{}:e,a=n.params,c=(void 0===a?{}:a).include,u=n.timeout,d="/api/storefront/checkout/"+t,p={Accept:r.a.JsonV1};return this._requestSender.get(d,{params:{include:Object(i.a)(o.a,c)},headers:p,timeout:u}).catch((function(t){if(t.status>=400&&t.status<500)throw new s(t);throw t}))},t.prototype.updateCheckout=function(t,e,n){var a=void 0===n?{}:n,s=a.params,c=(void 0===s?{}:s).include,u=a.timeout,d="/api/storefront/checkout/"+t,p={Accept:r.a.JsonV1};return this._requestSender.put(d,{params:{include:Object(i.a)(o.a,c)},body:e,headers:p,timeout:u})},t}();e.a=c},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.AvailableShippingOptions="consignments.availableShippingOptions",t.PhysicalItemsCategoryNames="cart.lineItems.physicalItems.categoryNames",t.DigitalItemsCategoryNames="cart.lineItems.digitalItems.categoryNames"}(r||(r={}))},,,,,function(t,e,n){"use strict";function r(t){return{code:t.code,discountedAmount:t.used,remainingBalance:t.remaining,giftCertificate:{balance:t.balance,code:t.code,purchaseDate:t.purchaseDate}}}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r=n(3),i=n(8),o=n(80),a=n(56),s=function(){function t(t,e){this._targetWindow=e,this._targetOrigin="*"===t?"*":Object(o.a)(t).origin}return t.prototype.post=function(t,e){var n=this;if(window!==this._targetWindow){if(!this._targetWindow)throw new Error("Unable to post message because target window is not set.");var o=e&&Object(r.fromEvent)(window,"message").pipe(Object(i.filter)((function(t){return t.origin===n._targetOrigin&&Object(a.a)(t.data,t.data.type)&&-1!==[e.successType,e.errorType].indexOf(t.data.type)})),Object(i.map)((function(t){if(e.errorType===t.data.type)throw t.data;return t.data})),Object(i.take)(1)).toPromise();return this._targetWindow.postMessage(t,this._targetOrigin),o}},t.prototype.setTarget=function(t){this._targetWindow=t},t}();e.a=s},function(t,e,n){"use strict";var r=n(0),i=n(80),o=n(97),a=n(56),s=function(){function t(t){this._sourceOrigin=Object(i.a)(t).origin,this._isListening=!1,this._listeners={}}return t.prototype.listen=function(){this._isListening||(this._isListening=!0,window.addEventListener("message",this._handleMessage))},t.prototype.stopListen=function(){this._isListening&&(this._isListening=!1,window.removeEventListener("message",this._handleMessage))},t.prototype.addListener=function(t,e){var n=this._listeners[t];n||(this._listeners[t]=n=[]),-1===n.indexOf(e)&&n.push(e)},t.prototype.removeListener=function(t,e){var n=this._listeners[t];if(n){var r=n.indexOf(e);r>=0&&n.splice(r,1)}},t.prototype.trigger=function(t){var e=this._listeners[t.type];e&&e.forEach((function(e){return e(t)}))},t.prototype._handleMessage=function(t){t.origin===this._sourceOrigin&&Object(a.a)(t.data,t.data.type)&&this.trigger(t.data)},Object(r.__decorate)([o.a],t.prototype,"_handleMessage",null),t}();e.a=s},function(t,e,n){"use strict";var r=n(51),i=n.n(r),o=function(){function t(t){this._namespace=t}return t.prototype.getItem=function(t){var e=i.a.getItem(this.withNamespace(t));if(null===e)return null;try{return JSON.parse(e)}catch(e){return this.removeItem(this.withNamespace(t)),null}},t.prototype.getItemOnce=function(t){var e=this.getItem(t);return this.removeItem(t),e},t.prototype.setItem=function(t,e){return i.a.setItem(this.withNamespace(t),JSON.stringify(e))},t.prototype.removeItem=function(t){return i.a.removeItem(this.withNamespace(t))},t.prototype.withNamespace=function(t){return this._namespace+"."+t},t}();e.a=o},function(t,e,n){"use strict";var r=n(71),i=n(46),o=n(136),a=n(87),s=n(88),c=n(0);var u=n(2),d=n(52);var p=n(97),h=n(5),l=n(150),m=n(70),f=n(135);function _(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(c.__extends)(e,t),e}(t);return Object.getOwnPropertyNames(t.prototype).forEach((function(n){var r=Object.getOwnPropertyDescriptor(t.prototype,n);r&&"constructor"!==n&&Object.defineProperty(e.prototype,n,function(t,e,n){if("function"!=typeof n.value)return n;var r=new l.a,i=n.value,o=Object(h.memoize)(i);return Object(p.a)(t,e,{get:function(){var t=this,a=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var a=o.call.apply(o,Object(c.__spreadArrays)([t],e));if(1===r.getUsedCount.apply(r,e))return a;var s=i.call.apply(i,Object(c.__spreadArrays)([t],e));return Object(m.a)(s,a,{keyFilter:function(t){return!Object(f.a)(t)}})?a:(o.cache.set(r.getKey.apply(r,e),s),s)};return Object.defineProperty(this,e,Object(c.__assign)(Object(c.__assign)({},n),{value:a})),a},set:function(t){r=new l.a,i=t,o=Object(h.memoize)(i)}})}(t.prototype,n,r))})),e}var y=function(){function t(t){this._checkoutButton=t.checkoutButton}return t.prototype.getInitializeButtonError=function(t){return this._checkoutButton.getInitializeError(t)},t.prototype.getDeinitializeButtonError=function(t){return this._checkoutButton.getDeinitializeError(t)},t=Object(c.__decorate)([_],t)}(),g=function(){function t(t){this._checkoutButton=t.checkoutButton}return t.prototype.isInitializingButton=function(t){return this._checkoutButton.isInitializing(t)},t.prototype.isDeinitializingButton=function(t){return this._checkoutButton.isDeinitializing(t)},t=Object(c.__decorate)([_],t)}();function b(t){return{errors:new y(t),statuses:new g(t)}}var v,C=function(){function t(t,e){var n=this;this._store=t,this._buttonStrategyActionCreator=e,this._state=b(this._store.getState()),this._store.subscribe((function(t){n._state=b(t)}))}return t.prototype.getState=function(){return this._state},t.prototype.subscribe=function(t){for(var e,n=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return(e=this._store).subscribe.apply(e,Object(c.__spreadArrays)([function(){return t(n.getState())},function(t){return t.checkoutButton.getState()}],r.map((function(t){return function(e){return t(b(e))}}))))},t.prototype.initializeButton=function(t){var e,n=this,r=(e=t.containerId,/^\w[\w\-\:\.]*$/.test(e)?[t.containerId]:function(t,e){var n=document.querySelectorAll(t);if(!n.length)throw new d.a("Unable to find any element with the specified selector: "+t);return Array.prototype.slice.call(n).map((function(t){return t.id||(t.id=Object(u.uniqueId)(e)),t.id}))}(t.containerId,t.methodId+"-container"));return Promise.all(r.map((function(e){var r=n._buttonStrategyActionCreator.initialize(Object(c.__assign)(Object(c.__assign)({},t),{containerId:e})),i="checkoutButtonStrategy:"+t.methodId+":"+e;return n._store.dispatch(r,{queueId:i})}))).then((function(){return n.getState()}))},t.prototype.deinitializeButton=function(t){var e=this,n=this._buttonStrategyActionCreator.deinitialize(t),r="checkoutButtonStrategy:"+t.methodId;return this._store.dispatch(n,{queueId:r}).then((function(){return e.getState()}))},t=Object(c.__decorate)([p.a],t)}(),O=n(1),S=n(3),w=n(8),I=n(90),A=n(20),E=function(){function t(t,e){this._registry=t,this._paymentMethodActionCreator=e}return t.prototype.initialize=function(t){var e=this;return function(n){var r={methodId:t.methodId,containerId:t.containerId};return n.getState().checkoutButton.isInitialized(t.methodId,t.containerId)?Object(S.empty)():Object(S.concat)(Object(S.of)(Object(O.createAction)(A.a.InitializeButtonRequested,void 0,r)),e._paymentMethodActionCreator.loadPaymentMethod(t.methodId,{timeout:t.timeout,useCache:!0}),Object(S.defer)((function(){return e._registry.get(t.methodId).initialize(t).then((function(){return Object(O.createAction)(A.a.InitializeButtonSucceeded,void 0,r)}))}))).pipe(Object(w.catchError)((function(t){return Object(I.a)(A.a.InitializeButtonFailed,t,r)})))}},t.prototype.deinitialize=function(t){var e=this;return function(n){var r={methodId:t.methodId};return n.getState().checkoutButton.isInitialized(t.methodId)?Object(S.concat)(Object(S.of)(Object(O.createAction)(A.a.DeinitializeButtonRequested,void 0,r)),Object(S.defer)((function(){return e._registry.get(t.methodId).deinitialize().then((function(){return Object(O.createAction)(A.a.DeinitializeButtonSucceeded,void 0,r)}))}))).pipe(Object(w.catchError)((function(t){return Object(I.a)(A.a.DeinitializeButtonFailed,t,r)}))):Object(S.empty)()}},t}(),P=n(31),j=n(129),k=n(137),M=n(179),T=n(173),R=n(174),D=n(176),z=n(177),L=n(197),N=n(105),F=n(104),q=n(198),U=n(182),x=n(184),B=n(185),G=n(186),V=n(187),Y=n(183),H=n(190),W=n(196);!function(t){t.AMAZON_PAY_V2="amazonpay",t.BRAINTREE_PAYPAL="braintreepaypal",t.BRAINTREE_PAYPAL_CREDIT="braintreepaypalcredit",t.GOOGLEPAY_ADYENV2="googlepayadyenv2",t.GOOGLEPAY_AUTHORIZENET="googlepayauthorizenet",t.GOOGLEPAY_BRAINTREE="googlepaybraintree",t.GOOGLEPAY_CHECKOUTCOM="googlepaycheckoutcom",t.GOOGLEPAY_STRIPE="googlepaystripe",t.MASTERPASS="masterpass",t.PAYPALEXPRESS="paypalexpress",t.PAYPALCOMMERCE="paypalcommerce"}(v||(v={}));var K=v,J=n(12),Z=n(103),Q=n(202),X=function(){function t(t,e,n){this._store=t,this._checkoutActionCreator=e,this._amazonPayV2PaymentProcessor=n}return t.prototype.initialize=function(t){return Object(c.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(c.__generator)(this,(function(a){switch(a.label){case 0:if(e=t.containerId,n=t.methodId,r=t.amazonpay,!e||!n)throw new d.a('Unable to proceed because "containerId" or "methodId" argument is not provided.');return i=this._store.getState().paymentMethods.getPaymentMethodOrThrow(n),[4,this._amazonPayV2PaymentProcessor.initialize(i)];case 1:return a.sent(),o=this,[4,this._createSignInButton(e,i,r)];case 2:return o._walletButton=a.sent(),[2]}}))}))},t.prototype.deinitialize=function(){return this._walletButton&&this._walletButton.parentNode&&(this._walletButton.parentNode.removeChild(this._walletButton),this._walletButton=void 0),Promise.resolve()},t.prototype._createSignInButton=function(t,e,n){return Object(c.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return Object(c.__generator)(this,(function(a){switch(a.label){case 0:if(!(r=document.getElementById(t)))throw new d.a("Unable to create sign-in button without valid container ID.");return null==n?[3,1]:(o=n,[3,3]);case 1:return[4,this._getAmazonPayV2ButtonOptions(e)];case 2:o=a.sent(),a.label=3;case 3:return i=o,this._amazonPayV2PaymentProcessor.createButton("#"+t,i),[2,r]}}))}))},t.prototype._getAmazonPayV2ButtonOptions=function(t){return Object(c.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,o,a,s,u,d,p,h;return Object(c.__generator)(this,(function(c){switch(c.label){case 0:return[4,this._store.dispatch(this._checkoutActionCreator.loadDefaultCheckout())];case 1:if(e=c.sent(),n=e.cart.getCart(),r=e.config.getStoreConfigOrThrow().storeProfile.shopPath,i=t.config,o=i.merchantId,a=i.testMode,s=t.initializationData,u=s.checkoutLanguage,d=s.ledgerCurrency,p=s.checkoutSessionMethod,h=s.extractAmazonCheckoutSessionId,!o||!d||!r)throw new J.b(J.a.MissingPaymentMethod);return[2,{merchantId:o,createCheckoutSession:{url:r+"/remote-checkout/"+t.id+"/payment-session",method:p,extractAmazonCheckoutSessionId:h},sandbox:!!a,ledgerCurrency:d,checkoutLanguage:u,productType:n&&0===Object(Q.a)(n)?Z.a.PayOnly:Z.a.PayAndShip,placement:Z.b.Cart}]}}))}))},t}(),$=n(111),tt=function(){function t(t,e,n,r,i,o){void 0===o&&(o=!1),this._store=t,this._checkoutActionCreator=e,this._braintreeSDKCreator=n,this._paypalScriptLoader=r,this._formPoster=i,this._offerCredit=o}return t.prototype.initialize=function(t){var e=this,n=(this._offerCredit?t.braintreepaypalcredit:t.braintreepaypal)||{},r=this._store.getState(),i=this._paymentMethod=r.paymentMethods.getPaymentMethod(t.methodId);if(!i||!i.clientToken)throw new J.b(J.a.MissingPaymentMethod);return this._braintreeSDKCreator.initialize(i.clientToken),Promise.all([this._braintreeSDKCreator.getPaypalCheckout(),this._paypalScriptLoader.loadPaypal()]).then((function(r){var o=r[0],a=r[1];e._paypalCheckout=o;var s=[],d=[];return n.allowCredit?s.push(a.FUNDING.CREDIT):d.push(a.FUNDING.CREDIT),a.Button.render({env:i.config.testMode?"sandbox":"production",commit:!!n.shouldProcessPayment,funding:{allowed:s,disallowed:d},style:Object(c.__assign)({shape:"rect",label:e._offerCredit?"credit":void 0},Object(u.pick)(n.style,"layout","size","color","label","shape","tagline","fundingicons")),payment:function(){return e._setupPayment(n.shippingAddress,n.onPaymentError)},onAuthorize:function(t){return e._tokenizePayment(t,n.shouldProcessPayment,n.onAuthorizeError)}},t.containerId)}))},t.prototype.deinitialize=function(){return this._paypalCheckout=void 0,this._paymentMethod=void 0,this._braintreeSDKCreator.teardown(),Promise.resolve()},t.prototype._setupPayment=function(t,e){var n=this;return this._store.dispatch(this._checkoutActionCreator.loadDefaultCheckout()).then((function(e){var r=e.checkout.getCheckout(),i=e.config.getStoreConfig(),o=e.customer.getCustomer(),a=void 0===t?o&&o.addresses&&o.addresses[0]:t;if(!n._paypalCheckout)throw new $.b($.a.CheckoutButtonNotInitialized);if(!r)throw new J.b(J.a.MissingCheckout);if(!i)throw new J.b(J.a.MissingCheckoutConfig);return n._paypalCheckout.createPayment({flow:"checkout",enableShippingAddress:!0,shippingAddressEditable:!1,shippingAddressOverride:a?n._mapToBraintreeAddress(a):void 0,amount:r.outstandingBalance,currency:i.currency.code,offerCredit:n._offerCredit})})).catch((function(t){throw e&&e(t),t}))},t.prototype._tokenizePayment=function(t,e,n){var r=this;if(!this._paypalCheckout||!this._paymentMethod)throw new $.b($.a.CheckoutButtonNotInitialized);var i=this._paymentMethod.id;return Promise.all([this._paypalCheckout.tokenizePayment(t),this._braintreeSDKCreator.getDataCollector({paypal:!0})]).then((function(t){var n=t[0],o=t[1].deviceData;return r._formPoster.postForm("/checkout.php",{payment_type:"paypal",provider:i,action:e?"process_payment":"set_external_checkout",nonce:n.nonce,device_data:o,shipping_address:JSON.stringify(r._mapToLegacyShippingAddress(n)),billing_address:JSON.stringify(r._mapToLegacyBillingAddress(n))}),n})).catch((function(t){throw n&&n(t),t}))},t.prototype._mapToLegacyShippingAddress=function(t){var e=t.details.shippingAddress,n=(e&&e.recipientName||"").split(" "),r=n[0],i=n[1];return{email:t.details.email,first_name:r,last_name:i,phone_number:t.details.phone,address_line_1:e&&e.line1,address_line_2:e&&e.line2,city:e&&e.city,state:e&&e.state,country_code:e&&e.countryCode,postal_code:e&&e.postalCode}},t.prototype._mapToLegacyBillingAddress=function(t){var e=t.details.billingAddress,n=t.details.shippingAddress;return e?{email:t.details.email,first_name:t.details.firstName,last_name:t.details.lastName,phone_number:t.details.phone,address_line_1:e.line1,address_line_2:e.line2,city:e.city,state:e.state,country_code:e.countryCode,postal_code:e.postalCode}:{email:t.details.email,first_name:t.details.firstName,last_name:t.details.lastName,phone_number:t.details.phone,address_line_1:n&&n.line1,address_line_2:n&&n.line2,city:n&&n.city,state:n&&n.state,country_code:n&&n.countryCode,postal_code:n&&n.postalCode}},t.prototype._mapToBraintreeAddress=function(t){return{line1:t.address1,line2:t.address2,city:t.city,state:t.stateOrProvinceCode,postalCode:t.postalCode,countryCode:t.countryCode,phone:t.phone,recipientName:t.firstName+" "+t.lastName}},t}(),et=function(){function t(t,e,n,r){this._store=t,this._formPoster=e,this._checkoutActionCreator=n,this._googlePayPaymentProcessor=r}return t.prototype.initialize=function(t){return Object(c.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(c.__generator)(this,(function(r){switch(r.label){case 0:if(e=t.containerId,n=t.methodId,!e||!n)throw new d.a('Unable to proceed because "containerId" argument is not provided.');return this._methodId=n,[4,this._store.dispatch(this._checkoutActionCreator.loadDefaultCheckout())];case 1:return r.sent(),[4,this._googlePayPaymentProcessor.initialize(this._getMethodId())];case 2:return r.sent(),this._walletButton=this._createSignInButton(e),[2]}}))}))},t.prototype.deinitialize=function(){return this._walletButton&&this._walletButton.parentNode&&(this._walletButton.parentNode.removeChild(this._walletButton),this._walletButton=void 0),this._googlePayPaymentProcessor.deinitialize()},t.prototype._createSignInButton=function(t){var e=document.getElementById(t);if(!e)throw new d.a("Unable to create sign-in button without valid container ID.");var n=this._googlePayPaymentProcessor.createButton(this._handleWalletButtonClick);return e.appendChild(n),n},t.prototype._getMethodId=function(){if(!this._methodId)throw new $.b($.a.PaymentNotInitialized);return this._methodId},t.prototype._handleWalletButtonClick=function(t){return Object(c.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i;return Object(c.__generator)(this,(function(o){switch(o.label){case 0:t.preventDefault(),e=this._store.getState().cart.getCartOrThrow(),n=Object(Q.a)(e)>0,o.label=1;case 1:return o.trys.push([1,7,,8]),[4,this._googlePayPaymentProcessor.displayWallet()];case 2:return r=o.sent(),[4,this._googlePayPaymentProcessor.handleSuccess(r)];case 3:return o.sent(),n&&r.shippingAddress?[4,this._googlePayPaymentProcessor.updateShippingAddress(r.shippingAddress)]:[3,5];case 4:o.sent(),o.label=5;case 5:return[4,this._onPaymentSelectComplete()];case 6:return o.sent(),[3,8];case 7:if((i=o.sent())&&"CANCELED"!==i.message)throw i;return[3,8];case 8:return[2]}}))}))},t.prototype._onPaymentSelectComplete=function(){this._formPoster.postForm("/checkout.php",{headers:{Accept:"text/html","Content-Type":"application/x-www-form-urlencoded"}})},Object(c.__decorate)([p.a],t.prototype,"_handleWalletButtonClick",null),t}(),nt=n(132),rt=function(){function t(t,e,n){this._store=t,this._checkoutActionCreator=e,this._masterpassScriptLoader=n}return t.prototype.initialize=function(t){var e=this,n=t.containerId,r=t.methodId;if(!n||!r)throw new d.a('Unable to proceed because "containerId" argument is not provided.');return this._methodId=r,this._store.dispatch(this._checkoutActionCreator.loadDefaultCheckout()).then((function(t){var n=t.paymentMethods.getPaymentMethod(r);if(!n||!n.initializationData.checkoutId)throw new J.b(J.a.MissingPaymentMethod);return e._masterpassScriptLoader.load(n.config.testMode)})).then((function(t){e._masterpassClient=t,e._signInButton=e._createSignInButton(n)}))},t.prototype.deinitialize=function(){return this._signInButton&&this._signInButton.parentNode&&(this._signInButton.removeEventListener("click",this._handleWalletButtonClick),this._signInButton.parentNode.removeChild(this._signInButton),this._signInButton=void 0),Promise.resolve()},t.prototype._createSignInButton=function(t){var e=document.getElementById(t);if(!e)throw new Error("Need a container to place the button");var n=document.createElement("input");return n.type="image",n.src="https://static.masterpass.com/dyn/img/btn/global/mp_chk_btn_160x037px.svg",e.appendChild(n),n.addEventListener("click",this._handleWalletButtonClick),n},t.prototype._createMasterpassPayload=function(){var t=this._store.getState(),e=t.checkout.getCheckout(),n=this._methodId?t.paymentMethods.getPaymentMethod(this._methodId):null;if(!e)throw new J.b(J.a.MissingCheckout);if(!n)throw new J.b(J.a.MissingPaymentMethod);return{checkoutId:n.initializationData.checkoutId,allowedCardTypes:n.initializationData.allowedCardTypes,amount:e.cart.cartAmount.toString(),currency:e.cart.currency.code,cartId:e.cart.id,suppressShippingAddress:!1,callbackUrl:Object(nt.a)("cart")}},t.prototype._handleWalletButtonClick=function(){if(!this._masterpassClient)throw new $.b($.a.CheckoutButtonNotInitialized);this._masterpassClient.checkout(this._createMasterpassPayload())},Object(c.__decorate)([p.a],t.prototype,"_handleWalletButtonClick",null),t}(),it=n(72),ot=function(){function t(t,e,n,r,i){void 0===i&&(i=""),this._store=t,this._checkoutActionCreator=e,this._paypalScriptLoader=n,this._formPoster=r,this._host=i}return t.prototype.initialize=function(t){var e=this,n=t.paypal,r=this._store.getState(),i=this._paymentMethod=r.paymentMethods.getPaymentMethod(t.methodId);if(!n)throw new d.a;if(!i)throw new J.b(J.a.MissingPaymentMethod);return this._paypalScriptLoader.loadPaypal(i.config.merchantId).then((function(r){var o;if(!i||!i.config.merchantId)throw new J.b(J.a.MissingPaymentMethod);var a=i.config.merchantId,s=i.config.testMode?"sandbox":"production",d=((o={})[s]=n.clientId,o),p=[],h=[];return n.allowCredit?p.push(r.FUNDING.CREDIT):h.push(r.FUNDING.CREDIT),r.Button.render({env:s,client:d,commit:n.shouldProcessPayment,funding:{allowed:p,disallowed:h},style:Object(c.__assign)({shape:"rect"},Object(u.pick)(n.style,"layout","size","color","label","shape","tagline","fundingicons")),payment:function(t,r){return e._setupPayment(a,r,n.onPaymentError)},onAuthorize:function(t,r){return e._tokenizePayment(t,r,n.shouldProcessPayment,n.onAuthorizeError)}},t.containerId)}))},t.prototype.deinitialize=function(){return this._paymentMethod=void 0,Promise.resolve()},t.prototype._setupPayment=function(t,e,n){var r=this;if(!e)throw new $.b($.a.CheckoutButtonNotInitialized);return this._store.dispatch(this._checkoutActionCreator.loadDefaultCheckout()).then((function(n){var i=n.cart.getCart(),o=i?i.id:"";return e.request.post(r._host+"/api/storefront/payment/paypalexpress",{merchantId:t,cartId:o},{headers:{"X-API-INTERNAL":it.a}})})).then((function(t){return t.id})).catch((function(t){throw n&&n(t),t}))},t.prototype._tokenizePayment=function(t,e,n,r){var i=this;if(!this._paymentMethod)throw new $.b($.a.CheckoutButtonNotInitialized);if(!e)throw new $.b($.a.CheckoutButtonNotInitialized);if(!t.paymentID||!t.payerID)throw new J.b(J.a.MissingPayment);var o=this._paymentMethod.id;return e.payment.get(t.paymentID).then((function(e){i._formPoster.postForm("/checkout.php",{payment_type:"paypal",provider:o,action:n?"process_payment":"set_external_checkout",paymentId:t.paymentID,payerId:t.payerID,payerInfo:JSON.stringify(e.payer.payer_info)})}))},t}(),at=function(){function t(t,e,n,r){this._store=t,this._checkoutActionCreator=e,this._formPoster=n,this._paypalCommercePaymentProcessor=r}return t.prototype.initialize=function(t){var e;return Object(c.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u=this;return Object(c.__generator)(this,(function(c){switch(c.label){case 0:if(n=this._store.getState(),!(r=n.paymentMethods.getPaymentMethodOrThrow(t.methodId).initializationData).clientId)throw new d.a;return[4,this._store.dispatch(this._checkoutActionCreator.loadDefaultCheckout())];case 1:return n=c.sent(),i=n.cart.getCartOrThrow(),o={onApprove:function(t){return u._tokenizePayment(t)},onClick:function(t){return u._handleClickButtonProvider(t)}},t.paypalCommerce&&t.paypalCommerce.style&&(o.style=t.paypalCommerce.style),a=null===(e=t.paypalCommerce)||void 0===e?void 0:e.messagingContainer,s=Boolean(a&&document.getElementById(a)),[4,this._paypalCommercePaymentProcessor.initialize(this._getParamsScript(r,i))];case 2:return c.sent(),this._paypalCommercePaymentProcessor.renderButtons(i.id,"#"+t.containerId,o),s&&this._paypalCommercePaymentProcessor.renderMessages(i.cartAmount,"#"+a),[2,Promise.resolve()]}}))}))},t.prototype.deinitialize=function(){return this._isCredit=void 0,Promise.resolve()},t.prototype._handleClickButtonProvider=function(t){var e=t.fundingSource;this._isCredit="credit"===e||"paylater"===e},t.prototype._tokenizePayment=function(t){var e=t.orderID;if(!e)throw new J.b(J.a.MissingPayment);return this._formPoster.postForm("/checkout.php",{payment_type:"paypal",action:"set_external_checkout",provider:this._isCredit?"paypalcommercecredit":"paypalcommerce",order_id:e})},t.prototype._getParamsScript=function(t,e){var n=t.clientId,r=t.intent,i=t.isPayPalCreditAvailable,o=t.merchantId,a=["card"];return i||a.push("credit"),{"client-id":n,"merchant-id":o,commit:!1,currency:e.currency.code,components:["buttons","messages"],"disable-funding":a,intent:r}},t}();function st(t){var e=t&&t.host,n=Object(o.a)(),c=Object(i.createRequestSender)({host:e}),u=Object(r.createFormPoster)({host:e});return new C(n,new E(function(t,e,n,r){var i=new M.a,o=Object(P.getScriptLoader)(),a=new j.a(new k.a(e),new T.a(new R.a(e)),new D.a(new z.a(e))),s=Object(W.a)(o,e);return i.register(K.BRAINTREE_PAYPAL,(function(){return new tt(t,a,new N.a(new F.a(o)),new H.a(o),n)})),i.register(K.BRAINTREE_PAYPAL_CREDIT,(function(){return new tt(t,a,new N.a(new F.a(o)),new H.a(o),n,!0)})),i.register(K.MASTERPASS,(function(){return new rt(t,a,new Y.a(o))})),i.register(K.GOOGLEPAY_ADYENV2,(function(){return new et(t,n,a,Object(q.a)(t,new U.a))})),i.register(K.GOOGLEPAY_AUTHORIZENET,(function(){return new et(t,n,a,Object(q.a)(t,new x.a))})),i.register(K.GOOGLEPAY_BRAINTREE,(function(){return new et(t,n,a,Object(q.a)(t,new B.a(new N.a(new F.a(o)))))})),i.register(K.GOOGLEPAY_CHECKOUTCOM,(function(){return new et(t,n,a,Object(q.a)(t,new G.a(e)))})),i.register(K.GOOGLEPAY_STRIPE,(function(){return new et(t,n,a,Object(q.a)(t,new V.a))})),i.register(K.PAYPALEXPRESS,(function(){return new ot(t,a,new H.a(o),n,r)})),i.register(K.PAYPALCOMMERCE,(function(){return new at(t,a,n,s)})),i.register(K.AMAZON_PAY_V2,(function(){return new X(t,a,Object(L.a)())})),i}(n,c,u,e),new a.a(new s.a(c))))}n.d(e,"a",(function(){return st}))},function(t,e,n){"use strict";var r,i=n(46),o=n(145),a=n(144),s=n(146),c=n(80),u=n(0),d=n(97),p=n(23),h=function(t){function e(e){var n=t.call(this,e,{message:e.body.title})||this;return n.name="InvalidLoginTokenError",n.type="invalid_login_token",n}return Object(u.__extends)(e,t),e}(n(35).a),l=n(22);!function(t){t.MissingContainer="missing_container",t.MissingContent="missing_content",t.UnknownError="unknown_error"}(r||(r={}));var m=function(t){function e(e,n){void 0===n&&(n=r.UnknownError);var i=t.call(this,e||"Unable to embed the checkout form.")||this;return i.subtype=n,i.name="NotEmbeddableError",i.type="not_embeddable",i}return Object(u.__extends)(e,t),e}(l.a),f=n(106),_=function(){function t(t,e,n,r,i,o,a,s){var c=this;this._iframeCreator=t,this._messageListener=e,this._messagePoster=n,this._loadingIndicator=r,this._requestSender=i,this._storage=o,this._location=a,this._options=s,this._isAttached=!1,this._options.onComplete&&this._messageListener.addListener(p.a.CheckoutComplete,this._options.onComplete),this._options.onError&&this._messageListener.addListener(p.a.CheckoutError,this._options.onError),this._options.onLoad&&this._messageListener.addListener(p.a.CheckoutLoaded,this._options.onLoad),this._options.onFrameLoad&&this._messageListener.addListener(p.a.FrameLoaded,this._options.onFrameLoad),this._options.onSignOut&&this._messageListener.addListener(p.a.SignedOut,this._options.onSignOut),this._messageListener.addListener(p.a.FrameLoaded,(function(){return c._configureStyles()}))}return t.prototype.attach=function(){var t=this;return this._isAttached?Promise.resolve(this):(this._isAttached=!0,this._messageListener.listen(),this._loadingIndicator.show(this._options.containerId),this._allowCookie().then((function(){return t._attemptLogin()})).then((function(e){return t._iframeCreator.createFrame(e,t._options.containerId)})).then((function(e){t._iframe=e,t._configureStyles(),t._loadingIndicator.hide()})).catch((function(e){return t._isAttached=!1,t._retryAllowCookie(e).catch((function(){throw t._messageListener.trigger({type:p.a.FrameError,payload:e}),t._loadingIndicator.hide(),e}))})).then((function(){return t})))},t.prototype.detach=function(){this._isAttached&&(this._isAttached=!1,this._messageListener.stopListen(),this._iframe&&this._iframe.parentNode&&(this._iframe.parentNode.removeChild(this._iframe),this._iframe.iFrameResizer.close()))},t.prototype._configureStyles=function(){this._iframe&&this._iframe.contentWindow&&this._options.styles&&(this._messagePoster.setTarget(this._iframe.contentWindow),this._messagePoster.post({type:f.a.StyleConfigured,payload:this._options.styles}))},t.prototype._attemptLogin=function(){return/^\/login\/token/.test(Object(c.a)(this._options.url).pathname)?this._requestSender.post(this._options.url).then((function(t){return t.body.redirectUrl})).catch((function(t){return Promise.reject(new h(t))})):Promise.resolve(this._options.url)},t.prototype._allowCookie=function(){if(this._storage.getItem("isCookieAllowed"))return Promise.resolve();this._storage.setItem("isCookieAllowed",!0),this._storage.setItem("lastAllowCookieAttempt",Date.now());var t=Object(c.a)(this._options.url).origin+"/embedded-checkout/allow-cookie?returnUrl="+encodeURIComponent(this._location.href);return document.body.style.visibility="hidden",this._location.replace(t),new Promise((function(){}))},t.prototype._retryAllowCookie=function(t){var e=Number(this._storage.getItem("lastAllowCookieAttempt"));return(!e||Date.now()-e>6e5)&&t instanceof m&&t.subtype===r.MissingContent?(this._storage.removeItem("lastAllowCookieAttempt"),this._storage.removeItem("isCookieAllowed"),this._allowCookie()):Promise.reject()},t=Object(u.__decorate)([d.a],t)}(),y={size:70,color:"#d9d9d9",backgroundColor:"#ffffff"},g="embedded-checkout-loading-indicator-rotation",b=function(){function t(t){this._styles=Object(u.__assign)(Object(u.__assign)({},y),t&&t.styles),this._defineAnimation(),this._container=this._buildContainer(),this._indicator=this._buildIndicator(),this._container.appendChild(this._indicator)}return t.prototype.show=function(t){if(t){var e=document.getElementById(t);if(!e)throw new Error("Unable to attach the loading indicator because the parent ID is not valid.");e.appendChild(this._container)}this._container.style.visibility="visible",this._container.style.opacity="1"},t.prototype.hide=function(){var t=this,e=function(){t._container.style.visibility="hidden",t._container.removeEventListener("transitionend",e)};this._container.addEventListener("transitionend",e),this._container.style.opacity="0"},t.prototype._buildContainer=function(){var t=document.createElement("div");return t.style.display="block",t.style.bottom="0",t.style.left="0",t.style.height="100%",t.style.width="100%",t.style.position="absolute",t.style.right="0",t.style.top="0",t.style.transition="all 250ms ease-out",t.style.opacity="0",t},t.prototype._buildIndicator=function(){var t=document.createElement("div");return t.style.display="block",t.style.width=this._styles.size+"px",t.style.height=this._styles.size+"px",t.style.borderRadius=this._styles.size+"px",t.style.border="solid 1px",t.style.borderColor=this._styles.backgroundColor+" "+this._styles.backgroundColor+" "+this._styles.color+" "+this._styles.color,t.style.margin="0 auto",t.style.position="absolute",t.style.left="0",t.style.right="0",t.style.top="50%",t.style.transform="translateY(-50%) rotate(0deg)",t.style.transformStyle="preserve-3d",t.style.animation=g+" 500ms infinite cubic-bezier(0.69, 0.31, 0.56, 0.83)",t},t.prototype._defineAnimation=function(){if(!document.getElementById(g)){var t=document.createElement("style");t.id=g,document.head.appendChild(t),t.sheet instanceof CSSStyleSheet&&t.sheet.insertRule("\n                @keyframes "+g+" {\n                    0% { transform: translateY(-50%) rotate(0deg); }\n                    100% { transform: translateY(-50%) rotate(360deg); }\n                }\n            ",0)}},t}(),v=n(56),C=n(191),O=function(){function t(t){this._options=t}return t.prototype.createFrame=function(t,e){var n=document.getElementById(e),i=(this._options||{}).timeout,o=void 0===i?6e4:i;if(!n)throw new m("Unable to embed the iframe because the container element could not be found.",r.MissingContainer);var a=document.createElement("iframe");return a.src=t,a.style.border="none",a.style.display="none",a.style.width="100%",a.allowPaymentRequest=!0,n.appendChild(a),this._toResizableFrame(a,o).catch((function(t){throw n.removeChild(a),t}))},t.prototype._toResizableFrame=function(t,e){return new Promise((function(n,i){var o=window.setTimeout((function(){i(new m("Unable to embed the iframe because the content could not be loaded."))}),e),a=function(e){if(e.origin===Object(c.a)(t.src).origin&&(Object(v.a)(e.data,p.a.FrameError)&&(s(),i(new m(e.data.payload.message,r.MissingContent))),Object(v.a)(e.data,p.a.FrameLoaded))){t.style.display="";var o=e.data.payload&&e.data.payload.contentId,a=Object(C.a)({scrolling:!1,sizeWidth:!1,heightCalculationMethod:o?"taggedElement":"lowestElement"},t);s(),n(a[a.length-1])}},s=function(){window.removeEventListener("message",a),window.clearTimeout(o)};window.addEventListener("message",a)}))},t}();n.d(e,"a",(function(){return w}));var S="BigCommerce.EmbeddedCheckout";function w(t){var e=Object(c.a)(t.url).origin;return new _(new O,new o.a(e),new a.a(e),new b({styles:t.styles&&t.styles.loadingIndicator}),Object(i.createRequestSender)(),new s.a(S),window.location,t).attach()}},function(t,e,n){"use strict";var r=n(191),i=n(145),o=n(144),a=n(23);function s(t){if(t.payload&&t.payload.contentId){var e=document.getElementById(t.payload.contentId);e&&!e.hasAttribute("data-iframe-height")&&e.setAttribute("data-iframe-height","")}}var c=n(0);function u(t){return"string"==typeof t.message&&"string"==typeof t.type&&("string"==typeof t.subtype||!t.subtype)&&t instanceof Error}var d=n(97),p=n(106),h=function(){function t(t,e,n,r){void 0===r&&(r={}),this._messageListener=t,this._messagePoster=e,this._untargetedMessagePoster=n,this._messageHandlers=r,this._messageListener.listen()}return t.prototype.postComplete=function(){var t={type:a.a.CheckoutComplete};this._postMessage(t)},t.prototype.postError=function(t){var e={type:a.a.CheckoutError,payload:this._transformError(t)};this._postMessage(e)},t.prototype.postFrameError=function(t){var e={type:a.a.FrameError,payload:this._transformError(t)};this._postMessage(e,{untargeted:!0})},t.prototype.postFrameLoaded=function(t){var e={type:a.a.FrameLoaded,payload:t};this._postMessage(e)},t.prototype.postLoaded=function(){var t={type:a.a.CheckoutLoaded};this._postMessage(t)},t.prototype.postSignedOut=function(){var t={type:a.a.SignedOut};this._postMessage(t)},t.prototype.receiveStyles=function(t){this._messageListener.addListener(p.a.StyleConfigured,(function(e){var n=e.payload;t(n)}))},t.prototype._postMessage=function(t,e){if(this._notifyMessageHandlers(t),e&&e.untargeted)return this._untargetedMessagePoster.post(t);this._messagePoster.post(t)},t.prototype._notifyMessageHandlers=function(t){var e=this;Object.keys(this._messageHandlers).forEach((function(n){if(t.type===n){var r=e._messageHandlers[n];r&&r.call(null,t)}}))},t.prototype._transformError=function(t){return{message:t.message,type:u(t)?t.type:void 0,subtype:u(t)?t.subtype:void 0}},t=Object(c.__decorate)([d.a],t)}(),l=function(){function t(){}return t.prototype.postComplete=function(){},t.prototype.postError=function(){},t.prototype.postFrameError=function(){},t.prototype.postFrameLoaded=function(){},t.prototype.postLoaded=function(){},t.prototype.postSignedOut=function(){},t.prototype.receiveStyles=function(){},t=Object(c.__decorate)([d.a],t)}();function m(t){var e;Object(r.b)();var n=t.parentWindow||window.parent;return window===n?new l:new h(new i.a(t.parentOrigin),new o.a(t.parentOrigin,n),new o.a("*",n),((e={})[a.a.FrameLoaded]=s,e))}n.d(e,"a",(function(){return m}))},function(t,e,n){"use strict";var r=n(0),i=n(2),o=n(66),a=n.n(o);function s(t){return t.hasOwnProperty("cacheKey")}var c=function(){function t(t){this._lastId=0,this._map={maps:[]},this._usedMaps=[],this._options=Object(r.__assign)({maxSize:0,isEqual:a.a,onExpire:i.noop},t)}return t.prototype.getKey=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._resolveMap.apply(this,t),r=n.index,i=n.parentMap,o=n.map;return o&&o.cacheKey?o.usedCount++:o=this._generateMap(i,t.slice(r)),this._removeLeastUsedMap(o),o.cacheKey},t.prototype.getUsedCount=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._resolveMap.apply(this,t).map;return n?n.usedCount:0},t.prototype._resolveMap=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=0,i=this._map;i.maps.length;){for(var o=!1,a=0;a<i.maps.length;a++){var c=i.maps[a];if(this._options.isEqual(c.value,e[r])){if((t=i.maps).unshift.apply(t,i.maps.splice(a,1)),(0===e.length||r===e.length-1)&&s(c))return{index:r,map:c,parentMap:i};o=!0,i=c,r++;break}}if(!o)break}return{index:r,parentMap:i}},t.prototype._generateMap=function(t,e){var n,r=0,i=t;do{n={maps:[],parentMap:i,usedCount:1,value:e[r]},i.maps.unshift(n),i=n,r++}while(r<e.length);var o=n;return o.cacheKey=""+ ++this._lastId,o},t.prototype._removeLeastUsedMap=function(t){if(this._options.maxSize){var e=this._usedMaps.indexOf(t);if(this._usedMaps.splice(-1===e?0:e,-1===e?0:1,t),!(this._usedMaps.length<=this._options.maxSize)){var n=this._usedMaps.pop();n&&(this._removeMap(n),this._options.onExpire(n.cacheKey))}}},t.prototype._removeMap=function(t){t.parentMap&&(t.parentMap.maps.splice(t.parentMap.maps.indexOf(t),1),function(t){return t.hasOwnProperty("parentMap")}(t.parentMap)||this._removeMap(t.parentMap))},t}();e.a=c},function(t,e){t.exports=__webpack_require__(/*! messageformat */ "./node_modules/messageformat/lib/messageformat.js")},,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(0),i=n(35);function o(t,e){var n=t.body.errors,r=void 0===n?[]:n;return new i.a(t,{message:a(r)||e,errors:r})}function a(t){if(Array.isArray(t))return t.reduce((function(t,e){return e&&e.message?Object(r.__spreadArrays)(t,[e.message]):t}),[]).join(" ")}},function(t,e,n){"use strict";var r=n(0),i=function(t){function e(e){var n=t.call(this,e,{message:"The request has timed out or aborted."})||this;return n.name="TimeoutError",n.type="timeout",n}return Object(r.__extends)(e,t),e}(n(35).a);e.a=i},function(t,e,n){"use strict";var r=n(0),i=function(t){function e(e){var n=t.call(this,e,{message:"There is a problem processing your payment. Please try again later."})||this;return n.name="PaymentMethodInvalidError",n.type="payment_method_invalid",n}return Object(r.__extends)(e,t),e}(n(35).a);e.a=i},function(t,e,n){"use strict";var r=n(77),i=n(85);e.a=Object(i.a)(r.createSelector)},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.UpdateSubscriptionsRequested="UPDATE_SUBSCRIPTIONS_REQUESTED",t.UpdateSubscriptionsSucceeded="UPDATE_SUBSCRIPTIONS_SUCCEEDED",t.UpdateSubscriptionsFailed="UPDATE_SUBSCRIPTIONS_FAILED"}(r||(r={}))},function(t,e,n){"use strict";var r=n(0),i=n(1),o=n(3),a=n(92),s=n(37),c=function(){function t(t){this._configRequestSender=t}return t.prototype.loadConfig=function(t){var e=this;return o.Observable.create((function(n){n.next(Object(i.createAction)(s.a.LoadConfigRequested)),e._configRequestSender.loadConfig(t).then((function(t){n.next(Object(i.createAction)(s.a.LoadConfigSucceeded,t.body)),n.complete()})).catch((function(t){n.error(Object(i.createErrorAction)(s.a.LoadConfigFailed,t))}))}))},Object(r.__decorate)([a.a],t.prototype,"loadConfig",null),t}();e.a=c},function(t,e,n){"use strict";var r=n(39),i=n(72),o=function(){function t(t){this._requestSender=t}return t.prototype.loadConfig=function(t){var e=(void 0===t?{}:t).timeout;return this._requestSender.get("/api/storefront/checkout-settings",{timeout:e,headers:{Accept:r.a.JsonV1,"X-API-INTERNAL":i.a}})},t}();e.a=o},function(t,e,n){"use strict";var r=n(39),i=function(){function t(t){this._requestSender=t}return t.prototype.updateSubscriptions=function(t,e){var n=(void 0===e?{}:e).timeout,i={Accept:r.a.JsonV1};return this._requestSender.post("/api/storefront/subscriptions",{body:t,headers:i,timeout:n})},t}();e.a=i},function(t,e,n){"use strict";var r=n(0),i=n(1),o=n(3),a=n(8),s=n(92),c=n(90),u=n(38),d=function(){function t(t){this._formFieldsRequestSender=t}return t.prototype.loadFormFields=function(t){var e=this;return Object(o.concat)(Object(o.of)(Object(i.createAction)(u.a.LoadFormFieldsRequested)),Object(o.defer)((function(){return Object(r.__awaiter)(e,void 0,void 0,(function(){var e;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return[4,this._formFieldsRequestSender.loadFields(t)];case 1:return e=n.sent().body,[2,Object(i.createAction)(u.a.LoadFormFieldsSucceeded,e)]}}))}))}))).pipe(Object(a.catchError)((function(t){return Object(c.a)(u.a.LoadFormFieldsFailed,t)})))},Object(r.__decorate)([s.a],t.prototype,"loadFormFields",null),t}();e.a=d},function(t,e,n){"use strict";var r=n(39),i=n(72),o=function(){function t(t){this._requestSender=t}return t.prototype.loadFields=function(t){var e=(void 0===t?{}:t).timeout;return this._requestSender.get("/api/storefront/form-fields",{timeout:e,headers:{Accept:r.a.JsonV1,"X-API-INTERNAL":i.a}})},t}();e.a=o},function(t,e,n){"use strict";var r=n(0),i=n(39),o={include:["cart.lineItems.physicalItems.options","cart.lineItems.digitalItems.options","customer","promotions.banners"].join(",")},a=function(){function t(t){this._requestSender=t}return t.prototype.createAddress=function(t,e,n){var r=(void 0===n?{}:n).timeout,a="/api/storefront/checkouts/"+t+"/billing-address",s={Accept:i.a.JsonV1};return this._requestSender.post(a,{body:e,params:o,headers:s,timeout:r})},t.prototype.updateAddress=function(t,e,n){var a=(void 0===n?{}:n).timeout,s=e.id,c=Object(r.__rest)(e,["id"]),u="/api/storefront/checkouts/"+t+"/billing-address/"+s,d={Accept:i.a.JsonV1};return this._requestSender.put(u,{params:o,body:c,headers:d,timeout:a})},t}();e.a=a},function(t,e,n){"use strict";var r=n(0),i=n(52),o=function(){function t(t){this._factories={},this._instances={},this._options=Object(r.__assign)({defaultToken:"default"},t)}return t.prototype.get=function(t,e){try{return this._getInstance(t||this._options.defaultToken,e||t||this._options.defaultToken)}catch(t){return this._getInstance(this._options.defaultToken,e||this._options.defaultToken)}},t.prototype.register=function(t,e){if(this._hasFactory(t))throw new i.a("'"+t+"' is already registered.");this._factories[t]=e},t.prototype._hasFactory=function(t){return!!this._factories[t]},t.prototype._hasInstance=function(t){return!!this._instances[t]},t.prototype._getInstance=function(t,e){if(!this._hasInstance(e)){var n=this._factories[t];if(!n)throw new i.a("'"+t+"' is not registered.");this._instances[e]=n()}return this._instances[e]},t}();e.a=o},function(t,e,n){"use strict";var r=n(0),i=function(t){function e(e){var n=t.call(this,e||"Not implemented.")||this;return n.name="NotImplementedError",n.type="not_implemented",n}return Object(r.__extends)(e,t),e}(n(22).a);e.a=i},function(t,e,n){"use strict";var r=n(0),i=function(t){function e(e){var n=t.call(this,"Unable to synchronize your checkout details with a third party provider. Please try again later.")||this;return n.error=e,n.name="RemoteCheckoutSynchronizationError",n.type="remote_checkout_synchronization",n}return Object(r.__extends)(e,t),e}(n(22).a);e.a=i},function(t,e,n){"use strict";var r=n(2),i=n(29),o=function(){function t(){}return t.prototype.initialize=function(t,e,n){return Promise.resolve(this._getGooglePayPaymentDataRequest(t,e,n))},t.prototype.teardown=function(){return Promise.resolve()},t.prototype.parseResponse=function(t){var e=t.paymentMethodData,n=e.type,r=e.tokenizationData.token,i=e.info,o=i.cardNetwork,a=i.cardDetails;return Promise.resolve({type:n,nonce:r,details:{cardType:o,lastFour:a}})},t.prototype._getGooglePayPaymentDataRequest=function(t,e,n){var o=t.outstandingBalance,a=t.cart.currency.code,s=e.initializationData,c=s.gatewayMerchantId,u=s.storeCountry,d=s.googleMerchantName,p=s.googleMerchantId;return{apiVersion:2,apiVersionMinor:0,merchantInfo:{authJwt:s.platformToken,merchantId:p,merchantName:d},allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:e.supportedCards.map((function(t){return"MC"===t?"MASTERCARD":t})),billingAddressRequired:!0,billingAddressParameters:{format:i.a.Full,phoneNumberRequired:!0}},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:{gateway:"adyen",gatewayMerchantId:c}}}],transactionInfo:{countryCode:u,currencyCode:a,totalPriceStatus:"FINAL",totalPrice:Object(r.round)(o,2).toFixed(2)},emailRequired:!0,shippingAddressRequired:!n,shippingAddressParameters:{phoneNumberRequired:!0}}},t}();e.a=o},function(t,e,n){"use strict";var r=n(45),i=function(){function t(t,e){void 0===e&&(e=window),this._scriptLoader=t,this._window=e}return t.prototype.load=function(t){var e=this;return this._scriptLoader.loadScript("//"+(t?"sandbox.":"")+"masterpass.com/integration/merchant.js").then((function(){if(!e._window.masterpass)throw new r.a;return e._window.masterpass}))},t}();e.a=i},function(t,e,n){"use strict";var r=n(0),i=n(2),o=n(29),a={apiVersion:2,apiVersionMinor:0},s=function(){function t(){}return t.prototype.initialize=function(t,e,n){return Promise.resolve(this._getGooglePaymentDataRequest(t,e,n))},t.prototype.teardown=function(){return Promise.resolve()},t.prototype.parseResponse=function(t){var e=t.paymentMethodData,n=e.type,r=e.tokenizationData.token,i=e.info,o=i.cardNetwork,a=i.cardDetails;return Promise.resolve({type:n,nonce:btoa(r),details:{cardType:o,lastFour:a}})},t.prototype._getGooglePaymentDataRequest=function(t,e,n){var o=t.outstandingBalance,s=t.cart.currency.code,c=e.initializationData,u=c.paymentGatewayId,d=c.storeCountry,p=c.googleMerchantName,h=c.googleMerchantId,l=c.platformToken,m=e.supportedCards,f=this._getPaymentGatewaySpecification(u),_=this._getCardPaymentMethod(f,m);return Object(r.__assign)(Object(r.__assign)({},a),{allowedPaymentMethods:[_],transactionInfo:{totalPriceStatus:"FINAL",totalPrice:Object(i.round)(o,2).toFixed(2),currencyCode:s,countryCode:d},merchantInfo:{merchantName:p,merchantId:h,authJwt:l},emailRequired:!0,shippingAddressRequired:!n,shippingAddressParameters:{phoneNumberRequired:!0}})},t.prototype._getPaymentGatewaySpecification=function(t){return{type:"PAYMENT_GATEWAY",parameters:{gateway:"authorizenet",gatewayMerchantId:t}}},t.prototype._getCardPaymentMethod=function(t,e){return{type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:e.map((function(t){return"MC"===t?"MASTERCARD":t})),billingAddressRequired:!0,billingAddressParameters:{format:o.a.Full,phoneNumberRequired:!0}},tokenizationSpecification:t}},t}();e.a=s},function(t,e,n){"use strict";var r=n(2),i=n(12),o=n(29),a=function(){function t(t){this._braintreeSDKCreator=t}return t.prototype.initialize=function(t,e,n){var r=this;if(!e.clientToken)throw new i.b(i.a.MissingPaymentMethod);return this._braintreeSDKCreator.initialize(e.clientToken),this._braintreeSDKCreator.getGooglePaymentComponent().then((function(i){return r._googlePaymentInstance=i,r._createGooglePayPayload(t,e.initializationData,n)}))},t.prototype.teardown=function(){return this._braintreeSDKCreator.teardown()},t.prototype.parseResponse=function(t){var e=JSON.parse(t.paymentMethodData.tokenizationData.token).androidPayCards[0];return Promise.resolve({nonce:e.nonce,type:e.type,description:e.description,details:{cardType:e.details.cardType,lastFour:e.details.lastFour,lastTwo:e.details.lastTwo},binData:e.binData})},t.prototype._createGooglePayPayload=function(t,e,n){if(!e.platformToken)throw new i.b(i.a.MissingPaymentMethod);var o={merchantInfo:{authJwt:e.platformToken,merchantName:e.googleMerchantName,merchantId:e.googleMerchantId},transactionInfo:{currencyCode:t.cart.currency.code,totalPriceStatus:"FINAL",totalPrice:Object(r.round)(t.outstandingBalance,2).toFixed(2)},cardRequirements:{billingAddressRequired:!0,billingAddressFormat:"FULL"},shippingAddressRequired:!n,emailRequired:!0,phoneNumberRequired:!0};return this._mapGooglePayBraintreeDataRequestToGooglePayDataRequestV2(this._googlePaymentInstance.createPaymentDataRequest(o))},t.prototype._mapGooglePayBraintreeDataRequestToGooglePayDataRequestV2=function(t){return{apiVersion:2,apiVersionMinor:0,merchantInfo:{authJwt:t.merchantInfo.authJwt,merchantId:t.merchantInfo.merchantId,merchantName:t.merchantInfo.merchantName},allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:t.cardRequirements.allowedCardNetworks,billingAddressRequired:!0,billingAddressParameters:{format:o.a.Full,phoneNumberRequired:!0}},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:{gateway:"braintree","braintree:apiVersion":"v1","braintree:authorizationFingerprint":t.paymentMethodTokenizationParameters.parameters["braintree:authorizationFingerprint"],"braintree:merchantId":t.paymentMethodTokenizationParameters.parameters["braintree:merchantId"],"braintree:sdkVersion":t.paymentMethodTokenizationParameters.parameters["braintree:sdkVersion"]}}}],transactionInfo:t.transactionInfo,emailRequired:!0,shippingAddressRequired:t.shippingAddressRequired,shippingAddressParameters:{phoneNumberRequired:t.phoneNumberRequired}}},t}();e.a=a},function(t,e,n){"use strict";var r=n(0),i=n(2),o=n(52),a=n(39),s=n(91),c=n(29),u=function(){function t(t){this._requestSender=t,this._publishableKey="",this._testMode=!0}return t.prototype.initialize=function(t,e,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(r){return this._publishableKey=e.initializationData.checkoutcomkey,this._testMode=!!e.config.testMode,[2,this._mapGooglePayCheckoutcomDataRequestToGooglePayDataRequestV2(t,e.initializationData,n)]}))}))},t.prototype.teardown=function(){return Promise.resolve()},t.prototype.parseResponse=function(t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:try{e=JSON.parse(t.paymentMethodData.tokenizationData.token)}catch(t){throw new o.a("Unable to parse response from Google Pay.")}if(!e.signature||!e.protocolVersion||!e.signedMessage)throw new s.a("Unable to parse response from Google Pay.");return[4,this._convertToken(this._testMode,this._publishableKey,e)];case 1:return[2,{nonce:n.sent(),type:"CreditCard",description:t.paymentMethodData.description,details:{cardType:t.paymentMethodData.info.cardNetwork,lastFour:t.paymentMethodData.info.cardDetails}}]}}))}))},t.prototype._convertToken=function(t,e,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:if(!n||!n.protocolVersion)throw new s.a("Unable to parse response from GooglePay.");return[4,this._requestCheckoutcomTokenize(t,e,{type:"googlepay",token_data:n})];case 1:if(!(i=r.sent())||!i.token)throw new s.a("Unable to parse response from Checkout.com");return[2,i.token]}}))}))},t.prototype._requestCheckoutcomTokenize=function(t,e,n){return void 0===n&&(n={}),Object(r.__awaiter)(this,void 0,void 0,(function(){var i;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return"https://api.sandbox.checkout.com/tokens","https://api.checkout.com/tokens",i=t?"https://api.sandbox.checkout.com/tokens":"https://api.checkout.com/tokens",[4,this._requestSender.post(i,{credentials:!1,body:n,headers:{"Content-Type":a.a.Json,Authorization:e,"X-XSRF-TOKEN":null}})];case 1:return[2,r.sent().body]}}))}))},t.prototype._mapGooglePayCheckoutcomDataRequestToGooglePayDataRequestV2=function(t,e,n){return{apiVersion:2,apiVersionMinor:0,merchantInfo:{authJwt:e.platformToken,merchantId:e.googleMerchantId,merchantName:e.googleMerchantName},allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:["AMEX","DISCOVER","JCB","MASTERCARD","VISA"],billingAddressRequired:!0,billingAddressParameters:{format:c.a.Full,phoneNumberRequired:!0}},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:{gateway:"checkoutltd",gatewayMerchantId:e.checkoutcomkey}}}],transactionInfo:{currencyCode:t.cart.currency.code,totalPriceStatus:"FINAL",totalPrice:Object(i.round)(t.outstandingBalance,2).toFixed(2)},emailRequired:!0,shippingAddressRequired:!n,shippingAddressParameters:{phoneNumberRequired:!0}}},t}();e.a=u},function(t,e,n){"use strict";var r=n(2),i=n(52),o=n(29),a=function(){function t(){}return t.prototype.initialize=function(t,e,n){return Promise.resolve(this._getGooglePayPaymentDataRequest(t,e,n))},t.prototype.teardown=function(){return Promise.resolve()},t.prototype.parseResponse=function(t){try{var e=JSON.parse(t.paymentMethodData.tokenizationData.token);return Promise.resolve({nonce:e.id,type:e.type,details:{cardType:e.card.brand,lastFour:e.card.last4}})}catch(t){throw new i.a("Unable to parse response from Google Pay.")}},t.prototype._getGooglePayPaymentDataRequest=function(t,e,n){var i=t.outstandingBalance,a=t.cart.currency.code,s=e.initializationData,c=s.googleMerchantName,u=s.googleMerchantId,d=s.platformToken,p=s.stripeVersion,h=s.stripePublishableKey,l=s.stripeConnectedAccount;return{apiVersion:2,apiVersionMinor:0,merchantInfo:{authJwt:d,merchantId:u,merchantName:c},allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:e.supportedCards.map((function(t){return"MC"===t?"MASTERCARD":t})),billingAddressRequired:!0,billingAddressParameters:{format:o.a.Full,phoneNumberRequired:!0}},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:{gateway:"stripe","stripe:version":p,"stripe:publishableKey":h+"/"+l}}}],transactionInfo:{currencyCode:a,totalPriceStatus:"FINAL",totalPrice:Object(r.round)(i,2).toFixed(2)},emailRequired:!0,shippingAddressRequired:!n,shippingAddressParameters:{phoneNumberRequired:!0}}},t}();e.a=a},function(t,e,n){"use strict";var r=n(0),i=function(t){function e(e){var n=t.call(this,e||"Unable to proceed due to invalid configuration provided for the hosted payment form.")||this;return n.name="InvalidHostedFormConfigError",n.type="invalid_hosted_form_config",n}return Object(r.__extends)(e,t),e}(n(22).a);e.a=i},function(t,e,n){"use strict";var r=n(0),i=n(2),o=function(t){function e(e){var n=t.call(this,Object(r.__spreadArrays)(["Unable to proceed due to invalid user input values"],Object(i.flatMap)(Object(i.values)(e),(function(t){return Object(i.map)(t,(function(t){return t.message}))}))).join(". "))||this;return n.errors=e,n.name="InvalidHostedFormValueError",n.type="invalid_hosted_form_value",n}return Object(r.__extends)(e,t),e}(n(22).a);e.a=o},function(t,e,n){"use strict";var r=n(0),i=n(45),o=function(){function t(t){this._scriptLoader=t,this._window=window}return t.prototype.loadPaypal=function(t){return void 0===t&&(t=""),Object(r.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return e="//www.paypalobjects.com/api/checkout.min.js",n={async:!0,attributes:{"data-merchant-id":t}},t?[4,this._scriptLoader.loadScript(e,n)]:[3,2];case 1:return r.sent(),[3,4];case 2:return[4,this._scriptLoader.loadScript(e)];case 3:r.sent(),r.label=4;case 4:if(!this._window.paypal)throw new i.a;return[2,this._window.paypal]}}))}))},t}();e.a=o},function(t,e,n){"use strict";function r(t,e){return(0,n(126).iframeResizer)(t,e)}function i(){n(127)}n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i}))},,,function(t,e,n){"use strict";n.r(e);var r=n(46),i=n(31),o=n(201),a=n(178),s=n(86),c=function(){function t(){}return t.prototype.clearError=function(t){return{type:s.a.ClearError,payload:t}},t}();function u(){try{return "development"||false}catch(t){return"development"}}var d=n(0),p=function(){function t(t){this._console=t}return t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logToConsole.apply(this,Object(d.__spreadArrays)(["log"],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logToConsole.apply(this,Object(d.__spreadArrays)(["info"],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logToConsole.apply(this,Object(d.__spreadArrays)(["warn"],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logToConsole.apply(this,Object(d.__spreadArrays)(["error"],t))},t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logToConsole.apply(this,Object(d.__spreadArrays)(["debug"],t))},t.prototype._logToConsole=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this._console&&this._console[t]&&(e=this._console[t]).call.apply(e,Object(d.__spreadArrays)([this._console],n))},t}(),h=function(){function t(){}return t.prototype.log=function(){},t.prototype.info=function(){},t.prototype.warn=function(){},t.prototype.error=function(){},t.prototype.debug=function(){},t}();var l,m=(void 0===(l="test"!==u())&&(l=!0),l?new p(console):new h);function f(){return m}var _=n(173),y=n(174),g=n(1),b=n(3),v=n(12),C=n(21),O=function(){function t(t){this._couponRequestSender=t}return t.prototype.applyCoupon=function(t,e){var n=this;return function(r){return b.Observable.create((function(i){var o=r.getState().checkout.getCheckout();if(!o)throw new v.b(v.a.MissingCheckout);i.next(Object(g.createAction)(C.a.ApplyCouponRequested)),n._couponRequestSender.applyCoupon(o.id,t,e).then((function(t){var e=t.body;i.next(Object(g.createAction)(C.a.ApplyCouponSucceeded,e)),i.complete()})).catch((function(t){i.error(Object(g.createErrorAction)(C.a.ApplyCouponFailed,t))}))}))}},t.prototype.removeCoupon=function(t,e){var n=this;return function(r){return b.Observable.create((function(i){var o=r.getState().checkout.getCheckout();if(!o)throw new v.b(v.a.MissingCheckout);i.next(Object(g.createAction)(C.a.RemoveCouponRequested)),n._couponRequestSender.removeCoupon(o.id,t,e).then((function(t){var e=t.body;i.next(Object(g.createAction)(C.a.RemoveCouponSucceeded,e)),i.complete()})).catch((function(t){i.error(Object(g.createErrorAction)(C.a.RemoveCouponFailed,t))}))}))}},t}(),S=n(89),w=n(138),I=n(39),A=n(63),E=function(){function t(t){this._requestSender=t}return t.prototype.applyCoupon=function(t,e,n){var r=(void 0===n?{}:n).timeout,i="/api/storefront/checkouts/"+t+"/coupons",o={Accept:I.a.JsonV1};return this._requestSender.post(i,{headers:o,timeout:r,params:{include:Object(A.a)(Object(d.__spreadArrays)(S.a,[w.a.AvailableShippingOptions]))},body:{couponCode:e}})},t.prototype.removeCoupon=function(t,e,n){var r=(void 0===n?{}:n).timeout,i="/api/storefront/checkouts/"+t+"/coupons/"+e,o={Accept:I.a.JsonV1};return this._requestSender.delete(i,{headers:o,timeout:r,params:{include:Object(A.a)(Object(d.__spreadArrays)(S.a,[w.a.AvailableShippingOptions]))}})},t}(),P=n(25),j=function(){function t(t){this._giftCertificateRequestSender=t}return t.prototype.applyGiftCertificate=function(t,e){var n=this;return function(r){return b.Observable.create((function(i){var o=r.getState().checkout.getCheckout();if(!o)throw new v.b(v.a.MissingCheckout);i.next(Object(g.createAction)(P.a.ApplyGiftCertificateRequested)),n._giftCertificateRequestSender.applyGiftCertificate(o.id,t,e).then((function(t){var e=t.body;i.next(Object(g.createAction)(P.a.ApplyGiftCertificateSucceeded,e)),i.complete()})).catch((function(t){i.error(Object(g.createErrorAction)(P.a.ApplyGiftCertificateFailed,t))}))}))}},t.prototype.removeGiftCertificate=function(t,e){var n=this;return function(r){return b.Observable.create((function(i){var o=r.getState().checkout.getCheckout();if(!o)throw new v.b(v.a.MissingCheckout);i.next(Object(g.createAction)(P.a.RemoveGiftCertificateRequested)),n._giftCertificateRequestSender.removeGiftCertificate(o.id,t,e).then((function(t){var e=t.body;i.next(Object(g.createAction)(P.a.RemoveGiftCertificateSucceeded,e)),i.complete()})).catch((function(t){i.error(Object(g.createErrorAction)(P.a.RemoveGiftCertificateFailed,t))}))}))}},t}(),k=function(){function t(t){this._requestSender=t}return t.prototype.applyGiftCertificate=function(t,e,n){var r=(void 0===n?{}:n).timeout,i="/api/storefront/checkouts/"+t+"/gift-certificates",o={Accept:I.a.JsonV1};return this._requestSender.post(i,{headers:o,timeout:r,params:{include:Object(A.a)(S.a)},body:{giftCertificateCode:e}})},t.prototype.removeGiftCertificate=function(t,e,n){var r=(void 0===n?{}:n).timeout,i="/api/storefront/checkouts/"+t+"/gift-certificates/"+e,o={Accept:I.a.JsonV1};return this._requestSender.delete(i,{headers:o,timeout:r,params:{include:Object(A.a)(S.a)}})},t}(),M=n(8),T=n(90);function R(t){var e=t;return"object"==typeof e&&"object"==typeof e.payload&&"string"==typeof e.payload.token}var D=n(34),z=function(){function t(t,e,n){this._customerRequestSender=t,this._checkoutActionCreator=e,this._spamProtectionActionCreator=n}return t.prototype.createCustomer=function(t,e){var n=this;return function(r){var i=r.getState().config.getStoreConfigOrThrow().checkoutSettings.isStorefrontSpamProtectionEnabled,o=function(i){return Object(b.from)(n._customerRequestSender.createAccount(Object(d.__assign)(Object(d.__assign)({},t),{token:i}),e)).pipe(Object(M.switchMap)((function(){return Object(b.concat)(n._checkoutActionCreator.loadCurrentCheckout(e)(r),Object(b.of)(Object(g.createAction)(D.a.CreateCustomerSucceeded)))})))};return Object(b.concat)(Object(b.of)(Object(g.createAction)(D.a.CreateCustomerRequested)),i?Object(b.from)(n._spamProtectionActionCreator.execute()(r)).pipe(Object(M.switchMap)((function(t){var e;return R(t)?Object(b.concat)(Object(b.of)(t),o(null===(e=t.payload)||void 0===e?void 0:e.token)):Object(b.of)(t)}))):o()).pipe(Object(M.catchError)((function(t){return Object(T.a)(D.a.CreateCustomerFailed,t)})))}},t.prototype.signInCustomer=function(t,e){var n=this;return function(r){return Object(b.concat)(Object(b.of)(Object(g.createAction)(D.a.SignInCustomerRequested)),Object(b.from)(n._customerRequestSender.signInCustomer(t,e)).pipe(Object(M.switchMap)((function(t){var i=t.body;return Object(b.concat)(n._checkoutActionCreator.loadCurrentCheckout(e)(r),Object(b.of)(Object(g.createAction)(D.a.SignInCustomerSucceeded,i.data)))})))).pipe(Object(M.catchError)((function(t){return Object(T.a)(D.a.SignInCustomerFailed,t)})))}},t.prototype.signOutCustomer=function(t){var e=this;return function(n){return Object(b.concat)(Object(b.of)(Object(g.createAction)(D.a.SignOutCustomerRequested)),Object(b.from)(e._customerRequestSender.signOutCustomer(t)).pipe(Object(M.switchMap)((function(r){var i=r.body;return Object(b.concat)(e._checkoutActionCreator.loadCurrentCheckout(t)(n),Object(b.of)(Object(g.createAction)(D.a.SignOutCustomerSucceeded,i.data)))})))).pipe(Object(M.catchError)((function(t){return Object(T.a)(D.a.SignOutCustomerFailed,t)})))}},t}(),L=function(){function t(t){this._requestSender=t}return t.prototype.createAccount=function(t,e){var n=(void 0===e?{}:e).timeout;return this._requestSender.post("/api/storefront/customer",{timeout:n,body:t})},t.prototype.signInCustomer=function(t,e){var n=(void 0===e?{}:e).timeout;return this._requestSender.post("/internalapi/v1/checkout/customer",{timeout:n,body:t})},t.prototype.signOutCustomer=function(t){var e=(void 0===t?{}:t).timeout;return this._requestSender.delete("/internalapi/v1/checkout/customer",{timeout:e})},t}(),N=n(10),F=function(){function t(t){this._strategyRegistry=t}return t.prototype.signIn=function(t,e){var n=this;return b.Observable.create((function(r){var i=e&&e.methodId,o={methodId:i};r.next(Object(g.createAction)(N.a.SignInRequested,void 0,o)),n._strategyRegistry.get(i).signIn(t,e).then((function(){r.next(Object(g.createAction)(N.a.SignInSucceeded,void 0,o)),r.complete()})).catch((function(t){r.error(Object(g.createErrorAction)(N.a.SignInFailed,t,o))}))}))},t.prototype.signOut=function(t){var e=this;return b.Observable.create((function(n){var r=t&&t.methodId,i={methodId:r};n.next(Object(g.createAction)(N.a.SignOutRequested,void 0,i)),e._strategyRegistry.get(r).signOut(t).then((function(){n.next(Object(g.createAction)(N.a.SignOutSucceeded,void 0,i)),n.complete()})).catch((function(t){n.error(Object(g.createErrorAction)(N.a.SignOutFailed,t,i))}))}))},t.prototype.initialize=function(t){var e=this;return function(n){return b.Observable.create((function(r){var i=n.getState(),o=t&&t.methodId,a={methodId:o};if(o&&i.customerStrategies.isInitialized(o))return r.complete();r.next(Object(g.createAction)(N.a.InitializeRequested,void 0,a)),e._strategyRegistry.get(o).initialize(t).then((function(){r.next(Object(g.createAction)(N.a.InitializeSucceeded,void 0,a)),r.complete()})).catch((function(t){r.error(Object(g.createErrorAction)(N.a.InitializeFailed,t,a))}))}))}},t.prototype.deinitialize=function(t){var e=this;return function(n){return b.Observable.create((function(r){var i=n.getState(),o=t&&t.methodId,a={methodId:o};if(o&&!i.customerStrategies.isInitialized(o))return r.complete();r.next(Object(g.createAction)(N.a.DeinitializeRequested,void 0,a)),e._strategyRegistry.get(o).deinitialize(t).then((function(){r.next(Object(g.createAction)(N.a.DeinitializeSucceeded,void 0,a)),r.complete()})).catch((function(t){r.error(Object(g.createErrorAction)(N.a.DeinitializeFailed,t,a))}))}))}},t.prototype.widgetInteraction=function(t,e){return b.Observable.create((function(n){var r={methodId:e&&e.methodId};n.next(Object(g.createAction)(N.a.WidgetInteractionStarted,void 0,r)),t().then((function(){n.next(Object(g.createAction)(N.a.WidgetInteractionFinished,void 0,r)),n.complete()})).catch((function(t){n.error(Object(g.createErrorAction)(N.a.WidgetInteractionFailed,t,r))}))}))},t}(),q=n(71),U=n(137),x=n(129),B=n(179),G=n(176),V=n(177),Y=n(87),H=n(88),W=function(){function t(t){this._scriptLoader=t,this._window=window}return t.prototype.loadWidget=function(t,e){var n=t.config,r=n.merchantId,i=n.testMode,o=t.initializationData,a=(void 0===o?{}:o).region,s=void 0===a?"us":a,c="https://"+("us"!==s.toLowerCase()?"static-eu.":"static-na.")+"payments-amazon.com/OffAmazonPayments/"+s.toLowerCase()+"/"+(i?"sandbox/":"")+("us"!==s.toLowerCase()?"lpa/":"")+"js/Widgets.js?sellerId="+r;return this._configureWidget(t,e),this._scriptLoader.loadScript(c)},t.prototype._configureWidget=function(t,e){var n=this,r=function(){n._window.amazon&&(n._window.amazon.Login.setClientId(t.initializationData.clientId),n._window.amazon.Login.setUseCookie(!0))};this._window.amazon&&this._window.amazon.Login?r():this._window.onAmazonLoginReady=r,this._window.OffAmazonPayments&&e?e():this._window.onAmazonPaymentsReady=e},t}(),K=n(197),J=n(104),Z=n(105),Q=function(){function t(t,e){this._braintreeSDKCreator=t,this._requestSender=e}return t.prototype.initialize=function(t,e){return this._braintreeSDKCreator.initialize(t),this._braintreeSDKCreator.getVisaCheckout().then((function(t){return t.createInitOptions({settings:{locale:e.locale,shipping:{collectShipping:e.collectShipping}},paymentRequest:{currencyCode:e.currencyCode,subtotal:String(e.subtotal)}})}))},t.prototype.deinitialize=function(){return this._braintreeSDKCreator.teardown()},t.prototype.handleSuccess=function(t,e,n){var r=this;return this._braintreeSDKCreator.getVisaCheckout().then((function(i){return Promise.all([i.tokenize(t),r._braintreeSDKCreator.getDataCollector()]).then((function(t){var i=t[0],o=t[1],a=i.shippingAddress,s=void 0===a?r._toVisaCheckoutAddress(e):a,c=i.billingAddress,u=void 0===c?r._toVisaCheckoutAddress(n):c;return r._postForm(Object(d.__assign)(Object(d.__assign)({},i),{shippingAddress:s,billingAddress:u}),o)}))}))},t.prototype._postForm=function(t,e){var n=t.userData,r=t.billingAddress,i=t.shippingAddress,o=t.details,a=n.userEmail,s=e.deviceData;return this._requestSender.post("/checkout.php",{headers:{Accept:"text/html","Content-Type":"application/x-www-form-urlencoded"},body:{payment_type:t.type,nonce:t.nonce,provider:"braintreevisacheckout",action:"set_external_checkout",device_data:s,card_information:this._getCardInformation(o),billing_address:this._getAddress(a,r),shipping_address:this._getAddress(a,i)}})},t.prototype._toVisaCheckoutAddress=function(t){return t?{firstName:t.firstName,lastName:t.lastName,phoneNumber:t.phone,streetAddress:t.address1,extendedAddress:t.address2,locality:t.city,region:t.stateOrProvinceCode,countryCode:t.countryCode,postalCode:t.postalCode}:{}},t.prototype._getAddress=function(t,e){return void 0===e&&(e={}),{email:t,first_name:e.firstName,last_name:e.lastName,phone_number:e.phoneNumber,address_line_1:e.streetAddress,address_line_2:e.extendedAddress,city:e.locality,state:e.region,country_code:e.countryCode,postal_code:e.postalCode}},t.prototype._getCardInformation=function(t){return{type:t.cardType,number:t.lastTwo}},t}();function X(t,e){var n=new J.a(t),r=new Z.a(n);return new Q(r,e)}var $=n(45),tt=function(){function t(t,e){void 0===e&&(e=window),this._scriptLoader=t,this._window=e}return t.prototype.load=function(t){var e=this;return this._scriptLoader.loadScript("//"+(t?"sandbox-":"")+"assets.secure.checkout.visa.com/checkout-widget/resources/js/integration/v1/sdk.js").then((function(){if(!e._window.V)throw new $.a;return e._window.V}))},t}(),et=function(){function t(t,e){void 0===e&&(e=window),this._scriptLoader=t,this._window=e}return t.prototype.load=function(t){var e=this;return this._scriptLoader.loadScript("//pwc"+(t?"psb":"")+".chase.com/pwc/checkout/js/v20170521/list.action?type=raw&applId=PWC&channelId=CWC&version=1").then((function(){if(!e._window.JPMC)throw new $.a;return e._window.JPMC}))},t}(),nt=n(198),rt=n(182),it=n(184),ot=n(185),at=n(186),st=n(187),ct=n(183),ut=function(){function t(t){this._requestSender=t}return t.prototype.initializeBilling=function(t,e,n){var r=(void 0===n?{}:n).timeout,i="/remote-checkout/"+t+"/billing";return this._requestSender.get(i,{params:e,timeout:r})},t.prototype.initializeShipping=function(t,e,n){var r=(void 0===n?{}:n).timeout,i="/remote-checkout/"+t+"/shipping";return this._requestSender.get(i,{params:e,timeout:r})},t.prototype.initializePayment=function(t,e,n){var r=(void 0===n?{}:n).timeout,i="/remote-checkout/"+t+"/payment";return this._requestSender.get(i,{params:e,timeout:r})},t.prototype.loadSettings=function(t,e){var n=(void 0===e?{}:e).timeout,r="/remote-checkout/"+t+"/settings";return this._requestSender.get(r,{timeout:n})},t.prototype.signOut=function(t,e){var n=(void 0===e?{}:e).timeout,r="/remote-checkout/"+t+"/signout";return this._requestSender.get(r,{timeout:n})},t.prototype.generateToken=function(t){var e=(void 0===t?{}:t).timeout;return this._requestSender.get("/remote-checkout-token",{timeout:e})},t.prototype.trackAuthorizationEvent=function(t){var e=(void 0===t?{}:t).timeout;return this._requestSender.post("/remote-checkout/events/shopper-checkout-service-provider-authorization-requested",{timeout:e})},t}(),dt=n(27),pt=function(){function t(t){this._remoteCheckoutRequestSender=t}return t.prototype.initializeBilling=function(t,e,n){var r=this;return b.Observable.create((function(i){i.next(Object(g.createAction)(dt.a.InitializeRemoteBillingRequested,void 0,{methodId:t})),r._remoteCheckoutRequestSender.initializeBilling(t,e,n).then((function(e){var n=e.body,r=void 0===n?{}:n;i.next(Object(g.createAction)(dt.a.InitializeRemoteBillingSucceeded,r,{methodId:t})),i.complete()})).catch((function(e){i.error(Object(g.createErrorAction)(dt.a.InitializeRemoteBillingFailed,e,{methodId:t}))}))}))},t.prototype.initializeShipping=function(t,e,n){var r=this;return b.Observable.create((function(i){i.next(Object(g.createAction)(dt.a.InitializeRemoteShippingRequested,void 0,{methodId:t})),r._remoteCheckoutRequestSender.initializeShipping(t,e,n).then((function(e){var n=e.body,r=void 0===n?{}:n;i.next(Object(g.createAction)(dt.a.InitializeRemoteShippingSucceeded,r,{methodId:t})),i.complete()})).catch((function(e){i.error(Object(g.createErrorAction)(dt.a.InitializeRemoteShippingFailed,e,{methodId:t}))}))}))},t.prototype.initializePayment=function(t,e,n){var r=this;return b.Observable.create((function(i){i.next(Object(g.createAction)(dt.a.InitializeRemotePaymentRequested,void 0,{methodId:t})),r._remoteCheckoutRequestSender.initializePayment(t,e,n).then((function(e){var n=e.body,r=void 0===n?{}:n;i.next(Object(g.createAction)(dt.a.InitializeRemotePaymentSucceeded,r,{methodId:t})),i.complete()})).catch((function(e){i.error(Object(g.createErrorAction)(dt.a.InitializeRemotePaymentFailed,e,{methodId:t}))}))}))},t.prototype.loadSettings=function(t,e){var n=this;return b.Observable.create((function(r){r.next(Object(g.createAction)(dt.a.LoadRemoteSettingsRequested,void 0,{methodId:t})),n._remoteCheckoutRequestSender.loadSettings(t,e).then((function(e){var n=e.body;r.next(Object(g.createAction)(dt.a.LoadRemoteSettingsSucceeded,n,{methodId:t})),r.complete()})).catch((function(e){r.error(Object(g.createErrorAction)(dt.a.LoadRemoteSettingsFailed,e,{methodId:t}))}))}))},t.prototype.signOut=function(t,e){var n=this;return b.Observable.create((function(r){r.next(Object(g.createAction)(dt.a.SignOutRemoteCustomerRequested,void 0,{methodId:t})),n._remoteCheckoutRequestSender.signOut(t,e).then((function(){r.next(Object(g.createAction)(dt.a.SignOutRemoteCustomerSucceeded,void 0,{methodId:t})),r.complete()})).catch((function(e){r.error(Object(g.createErrorAction)(dt.a.SignOutRemoteCustomerFailed,e,{methodId:t}))}))}))},t.prototype.updateCheckout=function(t,e){return Object(g.createAction)(dt.a.UpdateRemoteCheckout,e,{methodId:t})},t}(),ht=n(22),lt=function(t){function e(){var e=t.call(this,"You haven't complete our spam protection challenge. Please try again.")||this;return e.name="SpamProtectionChallengeNotCompletedError",e.type="spam_protection_challenge_not_completed",e}return Object(d.__extends)(e,t),e}(ht.a),mt=function(t){function e(){var e=t.call(this,"We were not able to complete your spam protection verification. Please try again.")||this;return e.name="SpamProtectionFailedError",e.type="spam_protection_failed",e}return Object(d.__extends)(e,t),e}(ht.a),ft=n(65),_t=function(){function t(t,e){this._googleRecaptcha=t,this._requestSender=e}return t.prototype.initialize=function(t){var e=this;return function(n){return Object(b.concat)(Object(b.of)(Object(g.createAction)(ft.a.InitializeRequested,void 0)),Object(b.defer)((function(){return Object(d.__awaiter)(e,void 0,void 0,(function(){var e,r,i,o,a;return Object(d.__generator)(this,(function(s){switch(s.label){case 0:return e=t?t.containerId:"spamProtectionContainer",t||document.getElementById(e)||((r=document.createElement("div")).setAttribute("id",e),document.body.appendChild(r)),i=n.getState(),o=i.config.getStoreConfigOrThrow(),a=o.checkoutSettings.googleRecaptchaSitekey,[4,this._googleRecaptcha.load(e,a)];case 1:return s.sent(),[2,Object(g.createAction)(ft.a.InitializeSucceeded)]}}))}))}))).pipe(Object(M.catchError)((function(t){return Object(T.a)(ft.a.InitializeFailed,t)})))}},t.prototype.verifyCheckoutSpamProtection=function(){var t=this;return function(e){return Object(b.defer)((function(){var n=e.getState().checkout.getCheckout();if(!n)throw new v.b(v.a.MissingCheckout);return Object(b.concat)(Object(b.of)(Object(g.createAction)(ft.a.VerifyCheckoutRequested)),Object(b.from)(t.execute()(e)).pipe(Object(M.switchMap)((function(e){return R(e)&&e.payload?Object(b.from)(t._requestSender.validate(n.id,e.payload.token)).pipe(Object(M.switchMap)((function(t){var n=t.body;return Object(b.concat)(Object(b.of)(e),Object(b.of)(Object(g.createAction)(ft.a.VerifyCheckoutSucceeded,n)))}))):Object(b.of)(e)})))).pipe(Object(M.catchError)((function(t){return Object(T.a)(ft.a.VerifyCheckoutFailed,t)})))}))}},t.prototype.execute=function(){var t=this;return function(e){return Object(b.concat)(Object(b.of)(Object(g.createAction)(ft.a.ExecuteRequested)),t.initialize()(e),t._googleRecaptcha.execute().pipe(Object(M.take)(1)).pipe(Object(M.switchMap)((function(e){var n=e.error,r=e.token;return Object(d.__awaiter)(t,void 0,void 0,(function(){return Object(d.__generator)(this,(function(t){if(n instanceof lt)throw n;if(n||!r)throw new mt;return[2,Object(g.createAction)(ft.a.ExecuteSucceeded,{token:r})]}))}))})))).pipe(Object(M.catchError)((function(t){return Object(T.a)(ft.a.ExecuteFailed,t)})))}},t}(),yt=function(){function t(t){void 0===t&&(t=window),this._window=t}return t.prototype.create=function(t){return new this._window.MutationObserver(t)},t}(),gt=n(5),bt=n(111),vt=function(t){function e(){var e=t.call(this,"Spam protection is not loaded. Please try again.")||this;return e.name="SpamProtectionNotLoadedError",e.type="spam_protection_failed",e}return Object(d.__extends)(e,t),e}(ht.a),Ct=function(){function t(t,e){var n=this;this.googleRecaptchaScriptLoader=t,this.mutationObserverFactory=e,this._memoized=Object(gt.memoize)((function(t,e,r){var i=new b.Subject;if(!r)throw new Error;return n._widgetId=t.render(r.id,{sitekey:e,size:"invisible",callback:function(){i.next({token:t.getResponse(n._widgetId)}),t.reset(n._widgetId)},"error-callback":function(){i.next({error:new mt})}}),i}),{isEqual:function(t,e){return t===e}})}return t.prototype.load=function(t,e){var n=this;return this.googleRecaptchaScriptLoader.load().then((function(r){n._event$=n._memoized(r,e,document.getElementById(t)),n._recaptcha=r}))},t.prototype.execute=function(){var t=this;return Object(b.defer)((function(){var e=t._event$,n=t._recaptcha;if(!e||!n)throw new bt.b(bt.a.SpamProtectionNotInitialized);return Object(b.defer)((function(){var t=document.querySelector('iframe[src*="bframe"]');return t?Object(b.of)(t):Object(b.throwError)(new vt)})).pipe(Object(M.retryWhen)((function(t){return t.pipe(Object(M.delay)(250),Object(M.switchMap)((function(t,e){return e<28?Object(b.of)(t):Object(b.throwError)(t)})))})),Object(M.switchMap)((function(r){return t._watchRecaptchaChallengeWindow(e,r),n.execute(t._widgetId),e})),Object(M.catchError)((function(t){return Object(b.of)({error:t})})))}))},t.prototype._watchRecaptchaChallengeWindow=function(t,e){var n=e.parentElement;if(!n)throw new vt;var r=n.parentElement;if(!r)throw new vt;this.mutationObserverFactory.create((function(){"hidden"===r.style.visibility&&t.next({error:new lt})})).observe(r,{attributes:!0,attributeFilter:["style"]})},t}(),Ot=function(){function t(t,e){void 0===e&&(e=window),this._scriptLoader=t,this._window=e}return t.prototype.load=function(){return this._loadPromise||(this._loadPromise=this._loadScript()),this._loadPromise},t.prototype._loadScript=function(){var t=this,e=["onload=initRecaptcha","render=explicit"].join("&");return new Promise((function(n,r){t._window.initRecaptcha=function(){return n(t._window.grecaptcha)},t._scriptLoader.loadScript("//www.google.com/recaptcha/api.js?"+e).catch((function(e){t._loadPromise=void 0,r(e)}))}))},t}();function St(t){return new Ct(new Ot(t),new yt)}var wt=function(){function t(t){this._requestSender=t}return t.prototype.validate=function(t,e,n){var r=(void 0===n?{}:n).timeout,i="/api/storefront/checkouts/"+t+"/spam-protection",o={Accept:I.a.JsonV1};return this._requestSender.post(i,{body:{token:e},headers:o,timeout:r})},t}(),It=n(52),At=n(180),Et=function(){function t(t,e,n,r,i){this._store=t,this._paymentMethodActionCreator=e,this._remoteCheckoutActionCreator=n,this._remoteCheckoutRequestSender=r,this._scriptLoader=i,this._window=window}return t.prototype.initialize=function(t){var e=this,n=t.amazon,r=t.methodId;if(!n||!r)throw new It.a('Unable to proceed because "options.amazon" argument is not provided.');return this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(r)).then((function(t){return new Promise((function(i,o){if(e._paymentMethod=t.paymentMethods.getPaymentMethod(r),!e._paymentMethod)throw new v.b(v.a.MissingPaymentMethod);var a=n.onError,s=void 0===a?function(){}:a;e._scriptLoader.loadWidget(e._paymentMethod,(function(){e._createSignInButton(Object(d.__assign)(Object(d.__assign)({},n),{onError:function(t){o(t),s(t)}})),i()})).catch(o)}))})).then((function(){return e._store.getState()}))},t.prototype.deinitialize=function(){return this._paymentMethod=void 0,Promise.resolve(this._store.getState())},t.prototype.signIn=function(){throw new At.a('In order to sign in via AmazonPay, the shopper must click on "Login with Amazon" button.')},t.prototype.signOut=function(t){var e=this._store.getState().payment.getPaymentId();return e?this._store.dispatch(this._remoteCheckoutActionCreator.signOut(e.providerId,t)):Promise.resolve(this._store.getState())},t.prototype._createSignInButton=function(t){var e=this;if(!this._paymentMethod||!this._window.OffAmazonPayments)throw new bt.b(bt.a.CustomerNotInitialized);if(!this._paymentMethod.config.merchantId)throw new v.b(v.a.MissingPaymentMethod);var n=this._paymentMethod.initializationData;return new this._window.OffAmazonPayments.Button(t.container,this._paymentMethod.config.merchantId,{color:t.color||"Gold",size:t.size||"small",type:"PwA",useAmazonAddressBook:!0,onError:t.onError,authorization:function(){e._handleAuthorization(n)}})},t.prototype._handleAuthorization=function(t){var e=this;this._remoteCheckoutRequestSender.generateToken().then((function(n){var r=n.body;if(!e._window.amazon)throw new bt.b(bt.a.ShippingNotInitialized);e._window.amazon.Login.authorize({popup:!1,scope:"payments:shipping_address payments:billing_address payments:widget profile",state:""+t.tokenPrefix+r.token},t.redirectUrl),e._remoteCheckoutRequestSender.trackAuthorizationEvent()}))},t}(),Pt=n(103),jt=n(202),kt=function(){function t(t,e,n,r){this._store=t,this._paymentMethodActionCreator=e,this._remoteCheckoutActionCreator=n,this._amazonPayV2PaymentProcessor=r}return t.prototype.initialize=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i;return Object(d.__generator)(this,(function(o){switch(o.label){case 0:if(e=t.methodId,n=t.amazonpay,!e||!n)throw new It.a('Unable to proceed because "options.methodId" or "options.amazonpay" argument is not provided.');return[4,this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(e))];case 1:return r=o.sent(),i=r.paymentMethods.getPaymentMethodOrThrow(e),[4,this._amazonPayV2PaymentProcessor.initialize(i)];case 2:return o.sent(),this._walletButton=this._createSignInButton(n.container,e),[2,this._store.getState()]}}))}))},t.prototype.deinitialize=function(){return this._walletButton&&this._walletButton.parentNode&&(this._walletButton.parentNode.removeChild(this._walletButton),this._walletButton=void 0),Promise.resolve(this._store.getState())},t.prototype.signIn=function(){throw new At.a('In order to sign in via Amazon, the shopper must click on "Amazon Pay" button.')},t.prototype.signOut=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(d.__generator)(this,(function(r){switch(r.label){case 0:return e=this._store.getState(),(n=e.payment.getPaymentId())?[4,this._amazonPayV2PaymentProcessor.signout()]:[2,Promise.resolve(this._store.getState())];case 1:return r.sent(),[2,this._store.dispatch(this._remoteCheckoutActionCreator.signOut(n.providerId,t))]}}))}))},t.prototype._createSignInButton=function(t,e){var n=document.getElementById(t);if(!n)throw new It.a("Unable to create sign-in button without valid container ID.");var r=this._store.getState(),i=r.paymentMethods.getPaymentMethod(e),o=r.config.getStoreConfig(),a=r.cart.getCart();if(!o)throw new v.b(v.a.MissingCheckoutConfig);if(!i)throw new v.b(v.a.MissingPaymentMethod);var s=i.config,c=s.merchantId,u=s.testMode,d=i.initializationData,p=d.checkoutLanguage,h=d.ledgerCurrency,l=d.checkoutSessionMethod,m=d.extractAmazonCheckoutSessionId;if(!c)throw new It.a("Unable to create sign-in button without valid merchant ID.");var f={merchantId:c,sandbox:!!u,checkoutLanguage:p,ledgerCurrency:h,productType:a&&0===Object(jt.a)(a)?Pt.a.PayOnly:Pt.a.PayAndShip,createCheckoutSession:{method:l,url:o.storeProfile.shopPath+"/remote-checkout/"+e+"/payment-session",extractAmazonCheckoutSessionId:m},placement:Pt.b.Checkout};return this._amazonPayV2PaymentProcessor.createButton("#"+t,f),n},t}(),Mt=function(){function t(t,e,n,r,i,o,a){this._store=t,this._checkoutActionCreator=e,this._paymentMethodActionCreator=n,this._customerStrategyActionCreator=r,this._remoteCheckoutActionCreator=i,this._braintreeVisaCheckoutPaymentProcessor=o,this._visaCheckoutScriptLoader=a,this._buttonClassName="visa-checkout-wrapper"}return t.prototype.initialize=function(t){var e=this,n=t.braintreevisacheckout,r=t.methodId;if(!n||!r)throw new It.a('Unable to proceed because "options.braintreevisacheckout" argument is not provided.');return this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(r)).then((function(t){e._paymentMethod=t.paymentMethods.getPaymentMethod(r);var i=t.checkout.getCheckout(),o=t.config.getStoreConfig();if(!i)throw new v.b(v.a.MissingCheckout);if(!o)throw new v.b(v.a.MissingCheckoutConfig);if(!e._paymentMethod||!e._paymentMethod.clientToken)throw new v.b(v.a.MissingPaymentMethod);var a=n.container,s=n.onError,c=void 0===s?function(){}:s,u={locale:o.storeProfile.storeLanguage,collectShipping:!0,subtotal:i.subtotal,currencyCode:o.currency.code};return Promise.all([e._visaCheckoutScriptLoader.load(e._paymentMethod.config.testMode),e._braintreeVisaCheckoutPaymentProcessor.initialize(e._paymentMethod.clientToken,u)]).then((function(t){var n=t[0],r=t[1],i=e._createSignInButton(a,e._buttonClassName);return n.init(r),n.on("payment.success",(function(t){return e._paymentInstrumentSelected(t).catch((function(t){return c(t)}))})),n.on("payment.error",(function(t,e){return c(e)})),i})).then((function(t){t.style.visibility="visible"}))})).then((function(){return e._store.getState()}))},t.prototype.signIn=function(){throw new At.a('In order to sign in via VisaCheckout, the shopper must click on "Visa Checkout" button.')},t.prototype.signOut=function(t){return this._store.dispatch(this._remoteCheckoutActionCreator.signOut("braintreevisacheckout",t))},t.prototype.deinitialize=function(){var t=this;return this._paymentMethod=void 0,this._braintreeVisaCheckoutPaymentProcessor.deinitialize().then((function(){return t._store.getState()}))},t.prototype._paymentInstrumentSelected=function(t){var e=this,n=this._store.getState();if(!this._paymentMethod)throw new Error("Payment method not initialized");var r=this._paymentMethod.id;return this._store.dispatch(this._customerStrategyActionCreator.widgetInteraction((function(){return e._braintreeVisaCheckoutPaymentProcessor.handleSuccess(t,n.shippingAddress.getShippingAddress(),n.billingAddress.getBillingAddress()).then((function(){return e._store.dispatch(e._checkoutActionCreator.loadCurrentCheckout())}))}),{methodId:r}),{queueId:"widgetInteraction"})},t.prototype._createSignInButton=function(t,e){var n=document.querySelector("#"+t);if(!n)throw new Error("Need a container to place the button");return n.querySelector("."+e)||this._insertVisaCheckoutButton(n,e)},t.prototype._insertVisaCheckoutButton=function(t,e){var n=document.createElement("div");return n.style.display="flex",n.style.flexDirection="column",n.style.visibility="hidden",n.className=e,n.innerHTML='\n            <img\n                alt="Visa Checkout"\n                class="v-button"\n                role="button"\n                src="https://secure.checkout.visa.com/wallet-services-web/xo/button.png?acceptCanadianVisaDebit=false&cobrand=true&size=154"\n                />\n            <a class="v-learn v-learn-default" style="text-align: right; display: block; font-size: 10px; color: #003366;" href="#" data-locale="en_US">Tell Me More</a>',t.appendChild(n),n},t}(),Tt=function(){function t(t,e,n,r,i,o){this._store=t,this._paymentMethodActionCreator=e,this._remoteCheckoutActionCreator=n,this._chasePayScriptLoader=r,this._requestSender=i,this._formPoster=o}return t.prototype.initialize=function(t){var e=this,n=t.chasepay,r=t.methodId;if(!n||!r)throw new It.a('Unable to proceed because "options.chasepay" argument is not provided.');return this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(r)).then((function(t){e._paymentMethod=t.paymentMethods.getPaymentMethod(r);var i=t.cart.getCart(),o=t.config.getStoreConfig();if(!i)throw new v.b(v.a.MissingCart);if(!o)throw new v.b(v.a.MissingCheckoutConfig);if(!e._paymentMethod||!e._paymentMethod.initializationData.digitalSessionId)throw new bt.b(bt.a.PaymentNotInitialized);var a=n.container;return e._chasePayScriptLoader.load(e._paymentMethod.config.testMode).then((function(t){var n=t.ChasePay;n.configure({language:o.storeProfile.storeLanguage}),n.isChasePayUp&&n.insertButtons({containers:[a]}),n.on(n.EventType.START_CHECKOUT,(function(){e._store.dispatch(e._paymentMethodActionCreator.loadPaymentMethod(r)).then((function(){var t=e._store.getState().paymentMethods.getPaymentMethod(r),i=t&&t.initializationData&&t.initializationData.digitalSessionId;i&&n.startCheckout(i)}))})),n.on(n.EventType.COMPLETE_CHECKOUT,(function(t){var n=e._store.getState().paymentMethods.getPaymentMethod(r),i=n&&n.initializationData&&n.initializationData.merchantRequestId;i&&e._setExternalCheckoutData(t,i).then((function(){e._reloadPage()}))}))}))})).then((function(){return e._store.getState()}))},t.prototype.deinitialize=function(){return Promise.resolve(this._store.getState())},t.prototype.signIn=function(){throw new At.a('In order to sign in via Chase Pay, the shopper must click on "Chase Pay" button.')},t.prototype.signOut=function(t){var e=this._store.getState().payment.getPaymentId();return e?this._store.dispatch(this._remoteCheckoutActionCreator.signOut(e.providerId,t)):Promise.resolve(this._store.getState())},t.prototype._setExternalCheckoutData=function(t,e){var n={headers:{Accept:"text/html","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:{sessionToken:t.sessionToken,merchantRequestId:e},method:"post"};return this._requestSender.sendRequest("checkout.php?provider=chasepay&action=set_external_checkout",n)},t.prototype._reloadPage=function(){this._formPoster.postForm("/checkout.php",{headers:{Accept:"text/html","Content-Type":"application/x-www-form-urlencoded"},params:{fromChasePay:!0}})},t}(),Rt=function(){function t(t,e){this._store=t,this._customerActionCreator=e}return t.prototype.signIn=function(t,e){return this._store.dispatch(this._customerActionCreator.signInCustomer(t,e))},t.prototype.signOut=function(t){return this._store.dispatch(this._customerActionCreator.signOutCustomer(t))},t.prototype.initialize=function(){return Promise.resolve(this._store.getState())},t.prototype.deinitialize=function(){return Promise.resolve(this._store.getState())},t}(),Dt=n(97),zt=function(){function t(t,e,n,r){this._store=t,this._remoteCheckoutActionCreator=e,this._googlePayPaymentProcessor=n,this._formPoster=r}return t.prototype.initialize=function(t){var e=this,n=t.methodId,r=this._getGooglePayOptions(t);if(!n)throw new v.b(v.a.MissingPaymentMethod);return this._googlePayPaymentProcessor.initialize(n).then((function(){e._walletButton=e._createSignInButton(r.container)})).then((function(){return e._store.getState()}))},t.prototype.deinitialize=function(){var t=this;return this._walletButton&&this._walletButton.parentNode&&(this._walletButton.parentNode.removeChild(this._walletButton),this._walletButton=void 0),this._googlePayPaymentProcessor.deinitialize().then((function(){return t._store.getState()}))},t.prototype.signIn=function(){throw new At.a('In order to sign in via Google Pay, the shopper must click on "Google Pay" button.')},t.prototype.signOut=function(t){var e=this._store.getState().payment.getPaymentId();return e?this._store.dispatch(this._remoteCheckoutActionCreator.signOut(e.providerId,t)):Promise.resolve(this._store.getState())},t.prototype._createSignInButton=function(t){var e=document.querySelector("#"+t);if(!e)throw new It.a("Unable to create sign-in button without valid container ID.");var n=this._googlePayPaymentProcessor.createButton(this._handleWalletButtonClick);return e.appendChild(n),n},t.prototype._getGooglePayOptions=function(t){if("googlepayadyenv2"===t.methodId&&t.googlepayadyenv2)return t.googlepayadyenv2;if("googlepayauthorizenet"===t.methodId&&t.googlepayauthorizenet)return t.googlepayauthorizenet;if("googlepaybraintree"===t.methodId&&t.googlepaybraintree)return t.googlepaybraintree;if("googlepaycheckoutcom"===t.methodId&&t.googlepaycheckoutcom)return t.googlepaycheckoutcom;if("googlepaystripe"===t.methodId&&t.googlepaystripe)return t.googlepaystripe;throw new It.a},t.prototype._handleWalletButtonClick=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i;return Object(d.__generator)(this,(function(o){switch(o.label){case 0:t.preventDefault(),e=this._store.getState().cart.getCartOrThrow(),n=Object(jt.a)(e)>0,o.label=1;case 1:return o.trys.push([1,7,,8]),[4,this._googlePayPaymentProcessor.displayWallet()];case 2:return r=o.sent(),[4,this._googlePayPaymentProcessor.handleSuccess(r)];case 3:return o.sent(),n&&r.shippingAddress?[4,this._googlePayPaymentProcessor.updateShippingAddress(r.shippingAddress)]:[3,5];case 4:o.sent(),o.label=5;case 5:return[4,this._onPaymentSelectComplete()];case 6:return o.sent(),[3,8];case 7:if((i=o.sent())&&"CANCELED"!==i.message)throw i;return[3,8];case 8:return[2]}}))}))},t.prototype._onPaymentSelectComplete=function(){this._formPoster.postForm("/checkout.php",{headers:{Accept:"text/html","Content-Type":"application/x-www-form-urlencoded"}})},Object(d.__decorate)([Dt.a],t.prototype,"_handleWalletButtonClick",null),t}(),Lt=n(132),Nt=function(){function t(t,e,n,r){this._store=t,this._paymentMethodActionCreator=e,this._remoteCheckoutActionCreator=n,this._masterpassScriptLoader=r}return t.prototype.initialize=function(t){var e=this,n=t.masterpass,r=t.methodId;if(!n||!r)throw new It.a('Unable to proceed because "options.masterpass" argument is not provided.');return this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(r)).then((function(t){if(e._paymentMethod=t.paymentMethods.getPaymentMethod(r),!e._paymentMethod||!e._paymentMethod.initializationData.checkoutId)throw new v.b(v.a.MissingPaymentMethod);var i=t.cart.getCart();if(!i)throw new v.b(v.a.MissingCart);var o=n.container,a={checkoutId:e._paymentMethod.initializationData.checkoutId,allowedCardTypes:e._paymentMethod.initializationData.allowedCardTypes,amount:i.cartAmount.toString(),currency:i.currency.code,cartId:i.id,suppressShippingAddress:!1,callbackUrl:Object(Lt.a)("checkout")};return e._masterpassScriptLoader.load(e._paymentMethod.config.testMode).then((function(t){e._signInButton=e._createSignInButton(o),e._signInButton.addEventListener("click",(function(){t.checkout(a)}))}))})).then((function(){return e._store.getState()}))},t.prototype.deinitialize=function(){return this._paymentMethod=void 0,this._signInButton&&this._signInButton.parentNode&&(this._signInButton.parentNode.removeChild(this._signInButton),this._signInButton=void 0),Promise.resolve(this._store.getState())},t.prototype.signIn=function(){throw new At.a('In order to sign in via Masterpass, the shopper must click on "Masterpass" button.')},t.prototype.signOut=function(t){var e=this._store.getState().payment.getPaymentId();return e?this._store.dispatch(this._remoteCheckoutActionCreator.signOut(e.providerId,t)):Promise.resolve(this._store.getState())},t.prototype._createSignInButton=function(t){var e=document.querySelector("#"+t);if(!e)throw new It.a("Unable to create sign-in button without valid container ID.");var n=document.createElement("input");return n.type="image",n.src="https://static.masterpass.com/dyn/img/btn/global/mp_chk_btn_160x037px.svg",e.appendChild(n),n},t}(),Ft=function(){function t(t,e){this._store=t,this._remoteCheckoutActionCreator=e}return t.prototype.signIn=function(){throw new At.a('In order to sign in via Masterpass, the shopper must click on "Masterpass" button.')},t.prototype.signOut=function(t){var e=this._store.getState().payment.getPaymentId();return e?this._store.dispatch(this._remoteCheckoutActionCreator.signOut(e.providerId,t)):Promise.resolve(this._store.getState())},t.prototype.initialize=function(){return Promise.resolve(this._store.getState())},t.prototype.deinitialize=function(){return Promise.resolve(this._store.getState())},t}();var qt=n(42),Ut=function(){function t(t){this._countryRequestSender=t}return t.prototype.loadCountries=function(t){var e=this;return b.Observable.create((function(n){n.next(Object(g.createAction)(qt.a.LoadCountriesRequested)),e._countryRequestSender.loadCountries(t).then((function(t){n.next(Object(g.createAction)(qt.a.LoadCountriesSucceeded,t.body.data)),n.complete()})).catch((function(t){n.error(Object(g.createErrorAction)(qt.a.LoadCountriesFailed,t))}))}))},t}(),xt=function(){function t(t,e){this._requestSender=t,this._config=e}return t.prototype.loadCountries=function(t){var e=(void 0===t?{}:t).timeout,n={"Accept-Language":this._config.locale};return this._requestSender.get("/internalapi/v1/store/countries",{headers:n,timeout:e})},t}(),Bt=n(2),Gt=function(){function t(t){this._requestSender=t}return t.prototype.loadOrder=function(t,e){var n=void 0===e?{}:e,r=n.timeout,i=n.params,o="/api/storefront/orders/"+t,a={Accept:I.a.JsonV1};return this._requestSender.get(o,{params:{include:Object(A.a)(Object(d.__spreadArrays)(["payments","lineItems.physicalItems.socialMedia","lineItems.physicalItems.options","lineItems.digitalItems.socialMedia","lineItems.digitalItems.options"],i&&i.include||[]))},headers:a,timeout:r})},t.prototype.submitOrder=function(t,e){var n=void 0===e?{}:e,r=n.headers,i=n.timeout;return this._requestSender.post("/internalapi/v1/checkout/order",{body:t,headers:Object(Bt.omitBy)({"X-Checkout-Variant":r&&r.checkoutVariant,"X-Checkout-SDK-Version":"1.123.0"},Bt.isNil),timeout:i})},t.prototype.finalizeOrder=function(t,e){var n=(void 0===e?{}:e).timeout,r="/internalapi/v1/checkout/order/"+t;return this._requestSender.post(r,{timeout:n})},t}(),Vt=function(t){function e(){var e=t.call(this,"You haven't complete our spam check. Please try again.")||this;return e.name="SpamProtectionNotCompletedError",e.type="spam_protection_not_completed",e}return Object(d.__extends)(e,t),e}(ht.a),Yt=n(17),Ht=function(){function t(t,e){this._orderRequestSender=t,this._checkoutValidator=e}return t.prototype.loadOrder=function(t,e){var n=this;return new b.Observable((function(r){r.next(Object(g.createAction)(Yt.a.LoadOrderRequested)),n._orderRequestSender.loadOrder(t,e).then((function(t){r.next(Object(g.createAction)(Yt.a.LoadOrderSucceeded,t.body)),r.complete()})).catch((function(t){r.error(Object(g.createErrorAction)(Yt.a.LoadOrderFailed,t))}))}))},t.prototype.loadOrderPayments=function(t,e){var n=this;return new b.Observable((function(r){r.next(Object(g.createAction)(Yt.a.LoadOrderPaymentsRequested)),n._orderRequestSender.loadOrder(t,e).then((function(t){r.next(Object(g.createAction)(Yt.a.LoadOrderPaymentsSucceeded,t.body)),r.complete()})).catch((function(t){r.error(Object(g.createErrorAction)(Yt.a.LoadOrderPaymentsFailed,t))}))}))},t.prototype.loadCurrentOrder=function(t){var e=this;return function(n){return Object(b.defer)((function(){var r=e._getCurrentOrderId(n.getState());if(!r)throw new v.b(v.a.MissingOrderId);return e.loadOrder(r,t)}))}},t.prototype.submitOrder=function(t,e){var n=this;return function(r){return Object(b.concat)(Object(b.of)(Object(g.createAction)(Yt.a.SubmitOrderRequested)),Object(b.defer)((function(){var i=r.getState(),o=i.config.getExternalSource(),a=i.config.getVariantIdentificationToken(),s=i.checkout.getCheckout();if(!s)throw new v.b(v.a.MissingCheckout);if(s.shouldExecuteSpamCheck)throw new Vt;return Object(b.from)(n._checkoutValidator.validate(s,e).then((function(){return n._orderRequestSender.submitOrder(n._mapToOrderRequestBody(t,s.customerMessage,o),Object(d.__assign)(Object(d.__assign)({},e),{headers:{checkoutVariant:a}}))}))).pipe(Object(M.switchMap)((function(t){return Object(b.concat)(n.loadOrder(t.body.data.order.orderId,e),Object(b.of)(Object(g.createAction)(Yt.a.SubmitOrderSucceeded,t.body.data,Object(d.__assign)(Object(d.__assign)({},t.body.meta),{token:t.headers.token}))))})))})).pipe(Object(M.catchError)((function(t){return Object(T.a)(Yt.a.SubmitOrderFailed,t)}))))}},t.prototype.finalizeOrder=function(t,e){var n=this;return Object(b.concat)(Object(b.of)(Object(g.createAction)(Yt.a.FinalizeOrderRequested)),Object(b.from)(this._orderRequestSender.finalizeOrder(t,e)).pipe(Object(M.switchMap)((function(r){return Object(b.concat)(n.loadOrder(t,e),Object(b.of)(Object(g.createAction)(Yt.a.FinalizeOrderSucceeded,r.body.data)))})))).pipe(Object(M.catchError)((function(t){return Object(T.a)(Yt.a.FinalizeOrderFailed,t)})))},t.prototype._getCurrentOrderId=function(t){var e=t.order.getOrder(),n=t.checkout.getCheckout();return e&&e.orderId||n&&n.orderId},t.prototype._mapToOrderRequestBody=function(t,e,n){var r=t.payment,i=Object(d.__rest)(t,["payment"]);return r?Object(d.__assign)(Object(d.__assign)({},i),{customerMessage:e,externalSource:n,payment:{paymentData:r.paymentData,name:r.methodId,gateway:r.gatewayId}}):Object(d.__assign)(Object(d.__assign)({},i),{customerMessage:e,externalSource:n})},t}(),Wt=n(102);var Kt,Jt=function(t){function e(){var e=t.call(this,"The current order does not need to be finalized at this stage.")||this;return e.name="OrderFinalizationNotRequiredError",e.type="order_finalization_not_required",e}return Object(d.__extends)(e,t),e}(ht.a),Zt=n(11);!function(t){t.ADYENV2="adyenv2",t.ADYENV2_GOOGLEPAY="googlepayadyenv2",t.AFFIRM="affirm",t.AFTERPAY="afterpay",t.AMAZON="amazon",t.AUTHORIZENET_GOOGLE_PAY="googlepayauthorizenet",t.AMAZONPAYV2="amazonpay",t.BARCLAYS="barclays",t.BLUESNAPV2="bluesnapv2",t.BOLT="bolt",t.CHECKOUTCOM="checkoutcom",t.CREDIT_CARD="creditcard",t.CHECKOUTCOM_GOOGLE_PAY="googlepaycheckoutcom",t.CYBERSOURCE="cybersource",t.KLARNA="klarna",t.KLARNAV2="klarnav2",t.LAYBUY="laybuy",t.LEGACY="legacy",t.OFFLINE="offline",t.OFFSITE="offsite",t.PAYPAL="paypal",t.PAYPAL_EXPRESS="paypalexpress",t.PAYPAL_EXPRESS_CREDIT="paypalexpresscredit",t.PAYPAL_COMMERCE="paypalcommerce",t.PAYPAL_COMMERCE_CREDIT="paypalcommercecredit",t.PAYPAL_COMMERCE_CREDIT_CARD="paypalcommercecreditcards",t.PAYPAL_COMMERCE_ALTERNATIVE_METHODS="paypalcommercealternativemethods",t.SAGE_PAY="sagepay",t.SQUARE="squarev2",t.STRIPEV3="stripev3",t.NO_PAYMENT_DATA_REQUIRED="nopaymentdatarequired",t.BRAINTREE="braintree",t.BRAINTREE_PAYPAL="braintreepaypal",t.BRAINTREE_PAYPAL_CREDIT="braintreepaypalcredit",t.BRAINTREE_VISA_CHECKOUT="braintreevisacheckout",t.BRAINTREE_GOOGLE_PAY="googlepaybraintree",t.CHASE_PAY="chasepay",t.WE_PAY="wepay",t.MASTERPASS="masterpass",t.STRIPE_GOOGLE_PAY="googlepaystripe",t.SEZZLE="sezzle",t.ZIP="zip",t.CONVERGE="converge"}(Kt||(Kt={}));var Qt=Kt,Xt=function(){function t(t,e,n){this._strategyRegistry=t,this._orderActionCreator=e,this._spamProtectionActionCreator=n}return t.prototype.execute=function(t,e){var n=this,r=t.payment,i=void 0===r?{}:r,o=t.useStoreCredit,a={methodId:i.methodId};return function(r){var s=r.getState().checkout.getCheckoutOrThrow().shouldExecuteSpamCheck;return Object(b.concat)(s?n._spamProtectionActionCreator.verifyCheckoutSpamProtection()(r):Object(b.empty)(),Object(b.of)(Object(g.createAction)(Zt.a.ExecuteRequested,void 0,a)),Object(b.defer)((function(){var s,c=r.getState();if(c.payment.isPaymentDataRequired(o)){var u=c.paymentMethods.getPaymentMethod(i.methodId,i.gatewayId);if(!u)throw new v.b(v.a.MissingPaymentMethod);s=n._strategyRegistry.getByMethod(u)}else s=n._strategyRegistry.get(Qt.NO_PAYMENT_DATA_REQUIRED);return s.execute(t,Object(d.__assign)(Object(d.__assign)({},e),{methodId:i.methodId,gatewayId:i.gatewayId})).then((function(){return Object(g.createAction)(Zt.a.ExecuteSucceeded,void 0,a)}))}))).pipe(Object(M.catchError)((function(t){return Object(T.a)(Zt.a.ExecuteFailed,t,a)})))}},t.prototype.finalize=function(t){var e=this;return function(n){return Object(b.concat)(Object(b.of)(Object(g.createAction)(Zt.a.FinalizeRequested)),e._loadOrderPaymentsIfNeeded(n,t),Object(b.defer)((function(){var r=n.getState(),i=r.payment.getPaymentId()||{},o=i.providerId,a=void 0===o?"":o,s=i.gatewayId,c=void 0===s?"":s,u=r.paymentMethods.getPaymentMethod(a,c);if(!u)throw new Jt;return e._strategyRegistry.getByMethod(u).finalize(Object(d.__assign)(Object(d.__assign)({},t),{methodId:u.id,gatewayId:u.gateway})).then((function(){return Object(g.createAction)(Zt.a.FinalizeSucceeded,void 0,{methodId:u.id})}))}))).pipe(Object(M.catchError)((function(t){var e=n.getState().payment.getPaymentId();return Object(T.a)(Zt.a.FinalizeFailed,t,{methodId:e&&e.providerId})})))}},t.prototype.initialize=function(t){var e=this,n=t.methodId,r=t.gatewayId;return function(i){return Object(b.defer)((function(){var o=i.getState(),a=o.paymentMethods.getPaymentMethod(n,r);if(!a)throw new v.b(v.a.MissingPaymentMethod);return n&&o.paymentStrategies.isInitialized(n)?Object(b.empty)():Object(b.concat)(Object(b.of)(Object(g.createAction)(Zt.a.InitializeRequested,void 0,{methodId:n})),e._strategyRegistry.getByMethod(a).initialize(Object(d.__assign)(Object(d.__assign)({},t),{methodId:n,gatewayId:r})).then((function(){return Object(g.createAction)(Zt.a.InitializeSucceeded,void 0,{methodId:n})})))})).pipe(Object(M.catchError)((function(t){return Object(T.a)(Zt.a.InitializeFailed,t,{methodId:n})})))}},t.prototype.deinitialize=function(t){var e=this,n=t.methodId,r=t.gatewayId;return function(i){return Object(b.defer)((function(){var o=i.getState(),a=o.paymentMethods.getPaymentMethod(n,r);if(!a)throw new v.b(v.a.MissingPaymentMethod);return n&&!o.paymentStrategies.isInitialized(n)?Object(b.empty)():Object(b.concat)(Object(b.of)(Object(g.createAction)(Zt.a.DeinitializeRequested,void 0,{methodId:n})),e._strategyRegistry.getByMethod(a).deinitialize(Object(d.__assign)(Object(d.__assign)({},t),{methodId:n,gatewayId:r})).then((function(){return Object(g.createAction)(Zt.a.DeinitializeSucceeded,void 0,{methodId:n})})))})).pipe(Object(M.catchError)((function(t){return Object(T.a)(Zt.a.DeinitializeFailed,t,{methodId:n})})))}},t.prototype.widgetInteraction=function(t,e){var n={methodId:e&&e.methodId};return Object(b.concat)(Object(b.of)(Object(g.createAction)(Zt.a.WidgetInteractionStarted,void 0,n)),Object(b.defer)((function(){return t().then((function(){return Object(g.createAction)(Zt.a.WidgetInteractionFinished,void 0,n)}))}))).pipe(Object(M.catchError)((function(t){return Object(T.a)(Zt.a.WidgetInteractionFailed,t,n)})))},t.prototype._loadOrderPaymentsIfNeeded=function(t,e){var n=t.getState().checkout.getCheckout();return n&&n.orderId?this._orderActionCreator.loadOrderPayments(n.orderId,e):Object(b.empty)()},t}(),$t=function(){function t(){}return t.prototype.isEqual=function(t,e){return Object(Bt.isEqual)(this._normalize(t),this._normalize(e))},t.prototype._normalize=function(t){return{cartAmount:t.cartAmount,currency:t.currency,id:t.id,lineItems:{digitalItems:t.lineItems.digitalItems.slice().sort((function(t,e){return(""+t.productId+t.variantId).localeCompare(""+e.productId+e.variantId)})).map((function(t){return{extendedSalePrice:t.extendedSalePrice,productId:t.productId,quantity:t.quantity,variantId:t.variantId}})),giftCertificates:t.lineItems.giftCertificates.slice().sort((function(t,e){return(""+t.id).localeCompare(""+e.id)})).map((function(t){return{amount:t.amount,recipient:t.recipient}})),physicalItems:t.lineItems.physicalItems.slice().sort((function(t,e){return(""+t.productId+t.variantId).localeCompare(""+e.productId+e.variantId)})).map((function(t){return{extendedSalePrice:t.extendedSalePrice,productId:t.productId,quantity:t.quantity,variantId:t.variantId,giftWrapping:t.giftWrapping}}))}}},t}(),te=function(t){function e(){var e=t.call(this,"An update to your shopping cart has been detected and your available shipping costs have been updated.")||this;return e.name="CartChangedError",e.type="cart_changed",e}return Object(d.__extends)(e,t),e}(ht.a),ee=function(){function t(t){this._checkoutRequestSender=t}return t.prototype.validate=function(t,e){var n=this;if(!t)throw new v.b(v.a.MissingCheckout);return this._checkoutRequestSender.loadCheckout(t.id,e).then((function(e){var r=new $t;if(!(t.outstandingBalance===e.body.outstandingBalance&&n._compareCoupons(t.coupons,e.body.coupons)&&n._compareGiftCertificates(t.giftCertificates,e.body.giftCertificates)&&r.isEqual(t.cart,e.body.cart)))throw new te}))},t.prototype._compareCoupons=function(t,e){return Object(Bt.isEqual)(Object(Bt.map)(t,"code"),Object(Bt.map)(e,"code"))},t.prototype._compareGiftCertificates=function(t,e){return Object(Bt.isEqual)(Object(Bt.map)(t,"code"),Object(Bt.map)(e,"code"))},t}(),ne=function(t){var e=this,n=new Promise((function(t,n){e.cancel=n}));this.promise=Promise.race([t,n])},re=function(t){function e(e){var n=t.call(this,e||"Unable to proceed because the required element is unexpectedly detached from the page.")||this;return n.name="UnexpectedDetachmentError",n.type="unexpected_detachment",n}return Object(d.__extends)(e,t),e}(ht.a),ie=function(){function t(t){this._mutationObserver=t}return t.prototype.ensurePresence=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return Object(d.__generator)(this,(function(a){switch(a.label){case 0:n=new ne(e),(r=this._mutationObserver.create((function(e){e.forEach((function(e){0!==Array.from(e.removedNodes).filter((function(e){return t.some((function(t){return e===t||e.contains(t)}))})).length&&n.cancel(new re)}))}))).observe(document.body,{childList:!0,subtree:!0}),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n.promise];case 2:return i=a.sent(),r.disconnect(),[2,i];case 3:throw o=a.sent(),r.disconnect(),o;case 4:return[2]}}))}))},t}(),oe=n(144),ae=n(145),se=function(t){function e(){var e=t.call(this,"Please complete our human verification challenge and try again.")||this;return e.name="CardingProtectionChallengeNotCompletedError",e.type="carding_protection_challenge_not_completed",e}return Object(d.__extends)(e,t),e}(ht.a),ce=function(t){function e(){var e=t.call(this,"We were not able to verify that you are not a robot. Please try again.")||this;return e.name="CardingProtectionFailedError",e.type="carding_protection_failed",e}return Object(d.__extends)(e,t),e}(ht.a),ue=function(){function t(t){this._googleRecaptcha=t}return t.prototype.handle=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){var e=this;return Object(d.__generator)(this,(function(n){switch(n.label){case 0:if(!this._isPaymentHumanVerificationRequest(t))throw t;return[4,this._initialize(t.body.additional_action_required.data.key)];case 1:return n.sent(),[2,this._googleRecaptcha.execute().pipe(Object(M.take)(1)).pipe(Object(M.switchMap)((function(t){var n=t.error,r=t.token;return Object(d.__awaiter)(e,void 0,void 0,(function(){return Object(d.__generator)(this,(function(t){if(n instanceof lt)throw new se;if(n||!r)throw new ce;return[2,{type:"recaptcha_v2_verification",data:{human_verification_token:r}}]}))}))}))).toPromise()]}}))}))},t.prototype._initialize=function(t){var e=document.getElementById("cardingProtectionContainer");return e&&e.parentNode&&e.parentNode.removeChild(e),(e=document.createElement("div")).setAttribute("id","cardingProtectionContainer"),document.body.appendChild(e),this._googleRecaptcha.load("cardingProtectionContainer",t)},t.prototype._isPaymentHumanVerificationRequest=function(t){var e=t.body||{},n=e.additional_action_required;return"additional_action_required"===e.status&&n&&"recaptcha_v2_verification"===n.type},t}(),de=n(168),pe=n(80),he=n(188),le=function(t){function e(e){var n=t.call(this,e||"Unable to proceed due to an unknown error with the hosted payment form.")||this;return n.name="InvalidHostedFormError",n.type="invalid_hosted_form",n}return Object(d.__extends)(e,t),e}(ht.a),me=n(189),fe=n(67),_e=n(48),ye=function(){function t(t,e,n,r,i,o,a,s,c){this._type=t,this._containerId=e,this._placeholder=n,this._accessibilityLabel=r,this._styles=i,this._eventPoster=o,this._eventListener=a,this._detachmentObserver=s,this._cardInstrument=c,this._iframe=document.createElement("iframe"),this._iframe.src="/checkout/payment/hosted-field?version=1.123.0",this._iframe.style.border="none",this._iframe.style.height="100%",this._iframe.style.overflow="hidden",this._iframe.style.width="100%"}return t.prototype.getType=function(){return this._type},t.prototype.attach=function(){return Object(d.__awaiter)(this,void 0,void 0,(function(){var t,e,n=this;return Object(d.__generator)(this,(function(r){switch(r.label){case 0:if(!(t=document.getElementById(this._containerId)))throw new he.a("Unable to proceed because the provided container ID is not valid.");return t.appendChild(this._iframe),this._eventListener.listen(),e=Object(b.fromEvent)(this._iframe,"load").pipe(Object(M.switchMap)((function(t){var e=t.target;return Object(d.__awaiter)(n,void 0,void 0,(function(){var t;return Object(d.__generator)(this,(function(n){switch(n.label){case 0:if(!(t=e&&e.contentWindow))throw new Error("The content window of the iframe cannot be accessed.");return this._eventPoster.setTarget(t),[4,this._eventPoster.post({type:fe.a.AttachRequested,payload:{accessibilityLabel:this._accessibilityLabel,cardInstrument:this._cardInstrument,fontUrls:this._getFontUrls(),placeholder:this._placeholder,styles:this._styles,type:this._type}},{successType:_e.a.AttachSucceeded,errorType:_e.a.AttachFailed})];case 1:return n.sent(),[2]}}))}))})),Object(M.take)(1)).toPromise(),[4,this._detachmentObserver.ensurePresence([this._iframe],e)];case 1:return r.sent(),[2]}}))}))},t.prototype.detach=function(){this._iframe.parentElement&&(this._iframe.parentElement.removeChild(this._iframe),this._eventListener.stopListen())},t.prototype.submitForm=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(d.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),n=this._eventPoster.post({type:fe.a.SubmitRequested,payload:{fields:t,data:e}},{successType:_e.a.SubmitSucceeded,errorType:_e.a.SubmitFailed}),[4,this._detachmentObserver.ensurePresence([this._iframe],n)];case 1:return i.sent(),[3,3];case 2:if(r=i.sent(),this._isSubmitErrorEvent(r)){if("hosted_form_error"===r.payload.error.code)throw new le(r.payload.error.message);if(r.payload.response)throw Object(de.a)(r.payload.response);throw new Error(r.payload.error.message)}throw r;case 3:return[2]}}))}))},t.prototype.validateForm=function(){return Object(d.__awaiter)(this,void 0,void 0,(function(){var t,e;return Object(d.__generator)(this,(function(n){switch(n.label){case 0:return t=this._eventPoster.post({type:fe.a.ValidateRequested},{successType:_e.a.Validated}),[4,this._detachmentObserver.ensurePresence([this._iframe],t)];case 1:if(!(e=n.sent().payload).isValid)throw new me.a(e.errors);return[2]}}))}))},t.prototype._getFontUrls=function(){var t=this,e=document.querySelectorAll("link[href*='fonts.googleapis.com'][rel='stylesheet']");return Array.prototype.slice.call(e).filter((function(t){return"fonts.googleapis.com"===Object(pe.a)(t.href).hostname})).filter((function(e){return Object(Bt.values)(t._styles).map((function(t){return t&&t.fontFamily})).filter((function(t){return"string"==typeof t})).some((function(t){return t.split(/,\s/).some((function(t){return-1!==e.href.indexOf(t.replace(" ","+"))}))}))})).map((function(t){return t.href}))},t.prototype._isSubmitErrorEvent=function(t){return t.type===_e.a.SubmitFailed},t}(),ge=function(){function t(t,e,n,r,i){var o=this;this._fields=t,this._eventListener=e,this._payloadTransformer=n,this._eventCallbacks=r,this._paymentHumanVerificationHandler=i,this._handleEnter=function(t){var e=t.payload;return Object(d.__awaiter)(o,void 0,void 0,(function(){var t,n;return Object(d.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.validate()];case 1:return r.sent(),[3,3];case 2:if("InvalidHostedFormValueError"!==(t=r.sent()).name)throw t;return[3,3];case 3:return n=this._eventCallbacks.onEnter,(void 0===n?Bt.noop:n)(e),[2]}}))}))};var a=this._eventCallbacks,s=a.onBlur,c=void 0===s?Bt.noop:s,u=a.onCardTypeChange,p=void 0===u?Bt.noop:u,h=a.onFocus,l=void 0===h?Bt.noop:h,m=a.onValidate,f=void 0===m?Bt.noop:m;this._eventListener.addListener(_e.a.Blurred,(function(t){var e=t.payload;return c(e)})),this._eventListener.addListener(_e.a.CardTypeChanged,(function(t){var e=t.payload;return p(e)})),this._eventListener.addListener(_e.a.Focused,(function(t){var e=t.payload;return l(e)})),this._eventListener.addListener(_e.a.Validated,(function(t){var e=t.payload;return f(e)})),this._eventListener.addListener(_e.a.Entered,this._handleEnter),this._eventListener.addListener(_e.a.CardTypeChanged,(function(t){var e=t.payload;return o._cardType=e.cardType})),this._eventListener.addListener(_e.a.BinChanged,(function(t){var e=t.payload;return o._bin=e.bin}))}return t.prototype.getBin=function(){return this._bin},t.prototype.getCardType=function(){return this._cardType},t.prototype.attach=function(){return Object(d.__awaiter)(this,void 0,void 0,(function(){var t,e;return Object(d.__generator)(this,(function(n){switch(n.label){case 0:return this._eventListener.listen(),t=this._getFirstField(),e=Object(Bt.without)(this._fields,t),[4,t.attach()];case 1:return n.sent(),[4,Promise.all(e.map((function(t){return t.attach()})))];case 2:return n.sent(),[2]}}))}))},t.prototype.detach=function(){this._eventListener.stopListen(),this._fields.forEach((function(t){t.detach()}))},t.prototype.submit=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(d.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,5]),[4,this._getFirstField().submitForm(this._fields.map((function(t){return t.getType()})),this._payloadTransformer.transform(t))];case 1:return[2,r.sent()];case 2:return e=r.sent(),[4,this._paymentHumanVerificationHandler.handle(e)];case 3:return n=r.sent(),[4,this._getFirstField().submitForm(this._fields.map((function(t){return t.getType()})),this._payloadTransformer.transform(t,n))];case 4:return[2,r.sent()];case 5:return[2]}}))}))},t.prototype.validate=function(){return Object(d.__awaiter)(this,void 0,void 0,(function(){return Object(d.__generator)(this,(function(t){switch(t.label){case 0:return[4,this._getFirstField().validateForm()];case 1:return[2,t.sent()]}}))}))},t.prototype._getFirstField=function(){var t=this._fields[0];if(!t)throw new he.a("Unable to proceed because the payment form has no field defined.");return t},t}(),be=n(40),ve=function(){function t(t){this._store=t}return t.prototype.transform=function(t,e){var n=this._store.getState(),r=n.checkout.getCheckout(),i=n.config.getConfig(),o=n.instruments.getInstrumentsMeta(),a=n.order.getOrder(),s=n.order.getOrderMeta(),c=Object(Bt.omit)(t.paymentData,"ccExpiry","ccName","ccNumber","ccCvv"),u=n.paymentMethods.getPaymentMethod(t.methodId,t.gatewayId),d=n.paymentMethods.getPaymentMethodsMeta(),p=o&&c&&Object(be.a)(c)?n.payment.getPaymentToken()+", "+o.vaultAccessToken:n.payment.getPaymentToken();if(!p)throw new v.b(v.a.MissingPaymentToken);return{additionalAction:e,authToken:p,checkout:r,config:i,order:a,orderMeta:s,payment:c,paymentMethod:u,paymentMethodMeta:d}},t}(),Ce=function(){function t(t){this._store=t}return t.prototype.create=function(t,e){var n=this,r=Object.keys(e.fields).reduce((function(r,i){var o=e.fields[i];return o?Object(d.__spreadArrays)(r,[new ye(i,o.containerId,o.placeholder||"",o.accessibilityLabel||"",e.styles||{},new oe.a(t),new ae.a(t),new ie(new yt),"instrumentId"in o?n._getCardInstrument(o.instrumentId):void 0)]):r}),[]);return new ge(r,new ae.a(t),new ve(this._store),Object(Bt.pick)(e,"onBlur","onEnter","onFocus","onCardTypeChange","onValidate"),new ue(St(Object(i.createScriptLoader)())))},t.prototype._getCardInstrument=function(t){var e=(0,this._store.getState().instruments.getCardInstrument)(t);if(!e)throw new v.b(v.a.MissingPaymentInstrument);return e},t}(),Oe=n(47),Se=function(){function t(t){this._storeCreditRequestSender=t}return t.prototype.applyStoreCredit=function(t,e){var n=this;return function(r){return Object(b.concat)(Object(b.of)(Object(g.createAction)(Oe.a.ApplyStoreCreditRequested)),Object(b.defer)((function(){return Object(d.__awaiter)(n,void 0,void 0,(function(){var n,i,o;return Object(d.__generator)(this,(function(a){switch(a.label){case 0:if(n=r.getState(),!(i=n.checkout.getCheckout()))throw new v.b(v.a.MissingCheckout);return[4,t?this._storeCreditRequestSender.applyStoreCredit(i.id,e):this._storeCreditRequestSender.removeStoreCredit(i.id,e)];case 1:return o=a.sent().body,[2,Object(g.createAction)(Oe.a.ApplyStoreCreditSucceeded,o)]}}))}))}))).pipe(Object(M.catchError)((function(t){return Object(T.a)(Oe.a.ApplyStoreCreditFailed,t)})))}},t}(),we=function(){function t(t){this._requestSender=t}return t.prototype.applyStoreCredit=function(t,e){var n=(void 0===e?{}:e).timeout,r="/api/storefront/checkouts/"+t+"/store-credit",i={Accept:I.a.JsonV1};return this._requestSender.post(r,{headers:i,timeout:n,params:{include:Object(A.a)(S.a)}})},t.prototype.removeStoreCredit=function(t,e){var n=(void 0===e?{}:e).timeout,r="/api/storefront/checkouts/"+t+"/store-credit",i={Accept:I.a.JsonV1};return this._requestSender.delete(r,{headers:i,timeout:n,params:{include:Object(A.a)(S.a)}})},t}(),Ie=n(200),Ae=n(175),Ee=n(60),Pe=function(){function t(t,e,n,r){var i=this;this._paymentRequestSender=t,this._orderActionCreator=e,this._paymentRequestTransformer=n,this._paymentHumanVerificationHandler=r,this.initializeOffsitePayment=function(t){var e=t.methodId,n=t.gatewayId,r=t.instrumentId,o=t.target,a=t.promise,s=t.shouldSaveInstrument,c=t.shouldSetAsDefaultInstrument;return function(t){var u;r?u={formattedPayload:{bigpay_token:r}}:s&&(u={formattedPayload:{vault_payment_instrument:s,set_as_default_stored_instrument:c||null}});var d=i._paymentRequestTransformer.transform({gatewayId:n,methodId:e,paymentData:u},t.getState());return Object(b.concat)(Object(b.of)(Object(g.createAction)(Ee.a.InitializeOffsitePaymentRequested)),Promise.race([i._paymentRequestSender.initializeOffsitePayment(d,o),a].filter(Boolean)).then((function(){return Object(g.createAction)(Ee.a.InitializeOffsitePaymentSucceeded)}))).pipe(Object(M.catchError)((function(t){return Object(T.a)(Ee.a.InitializeOffsitePaymentFailed,t)})))}}}return t.prototype.submitPayment=function(t){var e=this;return function(n){return Object(b.concat)(Object(b.of)(Object(g.createAction)(Ee.a.SubmitPaymentRequested)),Object(b.defer)((function(){return Object(d.__awaiter)(e,void 0,void 0,(function(){var e,r;return Object(d.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,5]),[4,this._paymentRequestSender.submitPayment(this._paymentRequestTransformer.transform(t,n.getState()))];case 1:return[2,i.sent()];case 2:return e=i.sent(),[4,this._paymentHumanVerificationHandler.handle(e)];case 3:return r=i.sent(),[4,this._paymentRequestSender.submitPayment(this._paymentRequestTransformer.transform(Object(d.__assign)(Object(d.__assign)({},t),{additionalAction:r}),n.getState()))];case 4:return[2,i.sent()];case 5:return[2]}}))}))})).pipe(Object(M.switchMap)((function(t){var r=t.body;return Object(b.concat)(e._orderActionCreator.loadCurrentOrder()(n),Object(b.of)(Object(g.createAction)(Ee.a.SubmitPaymentSucceeded,r)))})))).pipe(Object(M.catchError)((function(t){return Object(T.a)(Ee.a.SubmitPaymentFailed,t)})))}},t}(),je=n(134),ke=n(133),Me=n(58),Te=function(t){function e(e,n){var r=t.call(this,n)||this;return r._store=e,r}return Object(d.__extends)(e,t),e.prototype.getByMethod=function(t){if(!t)return this.get();var e=this._getToken(t),n=[t.gateway,t.id].filter((function(t){return null!=t})).join("-");return this.get(e,n)},e.prototype._getToken=function(t){if("klarna"===t.gateway)return Qt.KLARNAV2;if(t.id===Qt.PAYPAL_COMMERCE_CREDIT||t.gateway===Qt.PAYPAL_COMMERCE_ALTERNATIVE_METHODS)return Qt.PAYPAL_COMMERCE;var e=t.gateway||t.id;return this._hasFactoryForMethod(e)?e:t.type===Me.b?Qt.OFFLINE:this._isLegacyMethod(t)?Qt.LEGACY:t.type===Me.a?Qt.OFFSITE:Qt.CREDIT_CARD},e.prototype._hasFactoryForMethod=function(t){return this._hasFactory(t)},e.prototype._isLegacyMethod=function(t){var e=this._store.getState().config.getStoreConfig();if(!e)throw new v.b(v.a.MissingCheckoutConfig);var n=e.paymentSettings.clientSidePaymentProviders;return!(!n||"adyen"===t.gateway||"barclaycard"===t.gateway)&&!Object(Bt.some)(n,(function(e){return t.id===e||t.gateway===e}))},e}(B.a);function Re(){return{color_depth:screen.colorDepth||24,java_enabled:"function"==typeof navigator.javaEnabled&&navigator.javaEnabled(),language:navigator.language||navigator.userLanguage,screen_height:screen.height,screen_width:screen.width,time_zone_offset:(new Date).getTimezoneOffset().toString()}}var De,ze,Le,Ne,Fe,qe=n(35),Ue=function(t){function e(e){var n=this,r="Unable to submit payment for the order because the payload is invalid.";return e&&(r=r+" Make sure the following fields are provided correctly: "+e.join(", ")+"."),(n=t.call(this,r)||this).name="PaymentArgumentInvalidError",n}return Object(d.__extends)(e,t),e}(It.a),xe=function(t){function e(e){var n=t.call(this,e||"Payment process was cancelled.")||this;return n.name="PaymentMethodCancelledError",n.type="payment_cancelled",n}return Object(d.__extends)(e,t),e}(ht.a);function Be(t){return t&&"string"==typeof t.data.paymentMethod.encryptedSecurityCode||"string"==typeof t.data.paymentMethod.encryptedExpiryMonth}!function(t){t.ThreeDS2Fingerprint="threeDS2Fingerprint",t.ThreeDS2Challenge="threeDS2Challenge",t.Redirect="redirect",t.QRCode="qrCode",t.Voucher="voucher"}(De||(De={})),function(t){t.SecuredFields="securedfields"}(ze||(ze={})),function(t){t.ACH="ach",t.AliPay="alipay",t.Bancontact="bcmc",t.CreditCard="scheme",t.Klarna="klarna",t.KlarnaPayNow="klarna_paynow",t.KlarnaAccount="klarna_account",t.iDEAL="ideal",t.GiroPay="giropay",t.GooglePay="paywithgoogle",t.SEPA="sepadirectdebit",t.Sofort="directEbanking",t.Vipps="vipps",t.WeChatPayQR="wechatpayQR"}(Le||(Le={})),function(t){t.POST="POST"}(Ne||(Ne={})),function(t){t.ChallengeShopper="ChallengeShopper",t.Error="Error",t.IdentifyShopper="IdentifyShopper"}(Fe||(Fe={}));var Ge,Ve=function(){function t(t,e,n,r){this._store=t,this._paymentActionCreator=e,this._orderActionCreator=n,this._scriptLoader=r}return t.prototype.initialize=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,o,a,s;return Object(d.__generator)(this,(function(c){switch(c.label){case 0:if(!(e=t.adyenv2))throw new It.a('Unable to initialize payment because "options.adyenv2" argument is not provided.');return this._paymentInitializeOptions=e,n=this._store.getState().paymentMethods.getPaymentMethodOrThrow(t.methodId),r={key:"",value:""},n.initializationData.originKey?(r.key="originKey",r.value=n.initializationData.originKey):(r.key="clientKey",r.value=n.initializationData.clientKey),i=this,[4,this._scriptLoader.load((s={environment:n.initializationData.environment,locale:navigator.language},s[r.key]=r.value,s.paymentMethodsResponse=n.initializationData.paymentMethodsResponse,s))];case 1:return i._adyenClient=c.sent(),o=this,[4,this._mountPaymentComponent(n)];case 2:return o._paymentComponent=c.sent(),n.method!==Le.CreditCard&&n.method!==Le.Bancontact?[3,4]:(a=this,[4,this._mountCardVerificationComponent()]);case 3:a._cardVerificationComponent=c.sent(),c.label=4;case 4:return[2,Promise.resolve(this._store.getState())]}}))}))},t.prototype.execute=function(t,e){var n=this,r=t.payment,i=Object(d.__rest)(t,["payment"]),o=r&&r.paymentData,a=o&&o.shouldSaveInstrument,s=o&&o.shouldSetAsDefaultInstrument;if(!r)throw new Ue(["payment"]);return this._store.dispatch(this._orderActionCreator.submitOrder(i,e)).then((function(){var t=n._componentState;if(!t)throw new bt.b(bt.a.PaymentNotInitialized);if(o&&Object(be.a)(o)){var e={};if(Be(t)){var i=t.data.paymentMethod,c=i.encryptedCardNumber,u=i.encryptedSecurityCode;e={credit_card_number_confirmation:c,expiry_month:i.encryptedExpiryMonth,expiry_year:i.encryptedExpiryYear,verification_value:u}}if(Be(t)||-1!==["ideal","sepadirectdebit","directEbanking","giropay"].indexOf(t.data.paymentMethod.type))return n._store.dispatch(n._paymentActionCreator.submitPayment(Object(d.__assign)(Object(d.__assign)({},r),{paymentData:{formattedPayload:{bigpay_token:Object(d.__assign)(Object(d.__assign)({},e),{token:o.instrumentId}),browser_info:Re(),set_as_default_stored_instrument:s||null}}})))}return n._store.dispatch(n._paymentActionCreator.submitPayment({methodId:r.methodId,paymentData:{formattedPayload:{credit_card_token:{token:JSON.stringify(Object(d.__assign)(Object(d.__assign)({},t.data.paymentMethod),{origin:window.location.origin}))},browser_info:Re(),vault_payment_instrument:a||null,set_as_default_stored_instrument:s||null}}}))})).catch((function(t){return n._processAdditionalAction(t,a,s)}))},t.prototype.finalize=function(){return Promise.reject(new Jt)},t.prototype.deinitialize=function(){return this._paymentComponent&&(this._paymentComponent.unmount(),this._paymentComponent=void 0),this._cardVerificationComponent&&(this._cardVerificationComponent.unmount(),this._cardVerificationComponent=void 0),Promise.resolve(this._store.getState())},t.prototype._getAdyenClient=function(){if(!this._adyenClient)throw new bt.b(bt.a.PaymentNotInitialized);return this._adyenClient},t.prototype._getPaymentInitializeOptions=function(){if(!this._paymentInitializeOptions)throw new It.a('"options.adyenv2" argument was not provided during initialization.');return this._paymentInitializeOptions},t.prototype._getThreeDS2ChallengeWidgetSize=function(){var t=this._getPaymentInitializeOptions().threeDS2Options.widgetSize;return t||"05"},t.prototype._handleAction=function(t){var e=this;return new Promise((function(n,r){var i=e._getPaymentInitializeOptions(),o=i.threeDS2ContainerId,a=i.additionalActionOptions,s=a.onBeforeLoad,c=a.containerId,u=a.onLoad,d=a.onComplete,p=JSON.parse(t.action),h=e._getAdyenClient().createFromAction(p,{onAdditionalDetails:function(t){var e={methodId:p.paymentMethodType,paymentData:{nonce:JSON.stringify(t.data)}};d&&d(),n(e)},size:e._getThreeDS2ChallengeWidgetSize(),onError:function(t){return r(t)}});s&&s(p.type===De.ThreeDS2Challenge||p.type===De.QRCode),h.mount("#"+(c||o)),u&&u((function(){r(new xe),h.unmount()}))}))},t.prototype._mapAdyenPlaceholderData=function(t){return t?{holderName:t.firstName+" "+t.lastName,billingAddress:{street:t.address1,houseNumberOrName:t.address2,postalCode:t.postalCode,city:t.city,stateOrProvince:t.stateOrProvinceCode,country:t.countryCode}}:{}},t.prototype._mountCardVerificationComponent=function(){var t,e=this,n=this._getPaymentInitializeOptions(),r=this._getAdyenClient();return new Promise((function(i,o){if(n.cardVerificationContainerId){t=r.create(ze.SecuredFields,Object(d.__assign)(Object(d.__assign)({},n.options),{onChange:function(t){return e._updateComponentState(t)},onError:function(t){return e._updateComponentState(t)}}));try{t.mount("#"+n.cardVerificationContainerId)}catch(t){o(new bt.b(bt.a.PaymentNotInitialized))}}i(t)}))},t.prototype._mountPaymentComponent=function(t){var e,n=this,r=this._getPaymentInitializeOptions(),i=this._getAdyenClient();return new Promise((function(o,a){switch(t.method){case Le.CreditCard:case Le.ACH:case Le.Bancontact:var s=n._store.getState().billingAddress.getBillingAddress();e=i.create(t.method,Object(d.__assign)(Object(d.__assign)({},r.options),{onChange:function(t){return n._updateComponentState(t)},data:n._mapAdyenPlaceholderData(s)}));try{e.mount("#"+r.containerId)}catch(t){a(new bt.b(bt.a.PaymentNotInitialized))}break;case Le.iDEAL:case Le.SEPA:if(r.hasVaultedInstruments)n._updateComponentState({data:{paymentMethod:{type:t.method}}});else{e=i.create(t.method,Object(d.__assign)(Object(d.__assign)({},r.options),{onChange:function(t){return n._updateComponentState(t)}}));try{e.mount("#"+r.containerId)}catch(t){a(new bt.b(bt.a.PaymentNotInitialized))}}break;case Le.AliPay:case Le.GiroPay:case Le.Sofort:case Le.Klarna:case Le.KlarnaPayNow:case Le.KlarnaAccount:case Le.Vipps:case Le.WeChatPayQR:n._updateComponentState({data:{paymentMethod:{type:t.method}}})}o(e)}))},t.prototype._processAdditionalAction=function(t,e,n){return Object(d.__awaiter)(this,void 0,void 0,(function(){var r,i;return Object(d.__generator)(this,(function(o){switch(o.label){case 0:return t instanceof qe.a&&Object(Bt.some)(t.body.errors,{code:"additional_action_required"})?[4,this._handleAction(t.body.provider_data)]:[2,Promise.reject(t)];case 1:r=o.sent(),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,this._store.dispatch(this._paymentActionCreator.submitPayment(Object(d.__assign)(Object(d.__assign)({},r),{paymentData:Object(d.__assign)(Object(d.__assign)({},r.paymentData),{shouldSaveInstrument:e,shouldSetAsDefaultInstrument:n})})))];case 3:return[2,o.sent()];case 4:return i=o.sent(),[2,this._processAdditionalAction(i,e,n)];case 5:return[2]}}))}))},t.prototype._updateComponentState=function(t){this._componentState=t},t}(),Ye=function(){function t(t,e,n){void 0===n&&(n=window),this._scriptLoader=t,this._stylesheetLoader=e,this._window=n}return t.prototype.load=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){return Object(d.__generator)(this,(function(e){switch(e.label){case 0:return[4,Promise.all([this._stylesheetLoader.loadStylesheet("https://checkoutshopper-"+t.environment+".adyen.com/checkoutshopper/sdk/3.10.1/adyen.css"),this._scriptLoader.loadScript("https://checkoutshopper-"+t.environment+".adyen.com/checkoutshopper/sdk/3.10.1/adyen.js")])];case 1:if(e.sent(),!this._window.AdyenCheckout)throw new $.a;return[2,new this._window.AdyenCheckout(t)]}}))}))},t}(),He=n(79);!function(t){t.DigitalItemsCategories="lineItems.digitalItems.categories",t.PhysicalItemsCategories="lineItems.physicalItems.categories"}(Ge||(Ge={}));var We=n(170),Ke=function(){function t(t,e,n,r,i){this._store=t,this._orderActionCreator=e,this._paymentActionCreator=n,this._paymentMethodActionCreator=r,this._affirmScriptLoader=i}return t.prototype.initialize=function(t){var e=this;return this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(t.methodId)).then((function(n){var r=n.paymentMethods.getPaymentMethod(t.methodId);if(!r||!r.clientToken)throw new v.b(v.a.MissingPaymentMethod);var i=r.config.testMode,o=r.clientToken;return e._affirmScriptLoader.load(o,i)})).then((function(t){return e._affirm=t,e._store.getState()}))},t.prototype.execute=function(t,e){var n=this,r=t.payment&&t.payment.methodId,i=t.useStoreCredit,o=this._affirm;if(!o)throw new bt.b(bt.a.PaymentNotInitialized);if(!r)throw new Ue(["payment.methodId"]);var a=Object(d.__assign)(Object(d.__assign)({},e),{params:{include:[Ge.PhysicalItemsCategories,Ge.DigitalItemsCategories]}});return this._store.dispatch(this._orderActionCreator.submitOrder({useStoreCredit:i},a)).then((function(){return o.checkout(n._getCheckoutInformation()),new Promise((function(t,e){o.checkout.open({onFail:function(t){"canceled"===t.reason?e(new xe):e(new We.a)},onSuccess:function(e){t(e)}}),o.ui.error.on("close",(function(){e(new xe)}))}))})).then((function(t){var e={methodId:r,paymentData:{nonce:t.checkout_token}};return n._store.dispatch(n._paymentActionCreator.submitPayment(e))}))},t.prototype.deinitialize=function(){return this._affirm&&(this._affirm=void 0),Promise.resolve(this._store.getState())},t.prototype.finalize=function(){return Promise.reject(new Jt)},t.prototype._getCheckoutInformation=function(){var t=this._store.getState(),e=t.config.getStoreConfig(),n=t.consignments.getConsignments(),r=t.order.getOrder();if(!e)throw new v.b(v.a.MissingCheckoutConfig);if(!r)throw new v.b(v.a.MissingCheckout);var i=new He.a(r.currency.decimalPlaces),o=this._getBillingAddress();return{merchant:{user_confirmation_url:e.links.checkoutLink,user_cancel_url:e.links.checkoutLink,user_confirmation_url_action:"POST"},shipping:this._getShippingAddress()||o,billing:o,items:this._getItems(i,r),metadata:{shipping_type:this._getShippingType(n),mode:"modal",platform_type:"BigCommerce",platform_version:"",platform_affirm:""},discounts:this._getDiscounts(i,r),order_id:r.orderId?r.orderId.toString():"",shipping_amount:i.toInteger(r.shippingCostTotal),tax_amount:i.toInteger(r.taxTotal),total:i.toInteger(r.orderAmount)}},t.prototype._getShippingType=function(t){if(!t)return"";var e=t[0];return e&&e.selectedShippingOption?e.selectedShippingOption.type:""},t.prototype._getBillingAddress=function(){var t=this._store.getState().billingAddress.getBillingAddress();if(!t)throw new v.b(v.a.MissingBillingAddress);return{name:{first:t.firstName,last:t.lastName,full:t.firstName+" "+t.lastName},address:{line1:t.address1,line2:t.address2,city:t.city,state:t.stateOrProvinceCode,zipcode:t.postalCode,country:t.countryCode},phone_number:t.phone,email:t.email}},t.prototype._getShippingAddress=function(){var t=this._store.getState().shippingAddress.getShippingAddress();if(t)return{name:{first:t.firstName,last:t.lastName,full:t.firstName+" "+t.lastName},address:{line1:t.address1,line2:t.address2,city:t.city,state:t.stateOrProvinceCode,zipcode:t.postalCode,country:t.countryCode},phone_number:t.phone}},t.prototype._getItems=function(t,e){for(var n=[],r=0,i=e.lineItems.physicalItems;r<i.length;r++){var o=i[r];n.push({display_name:o.name,sku:o.sku,unit_price:t.toInteger(o.salePrice),qty:o.quantity,item_image_url:o.imageUrl,item_url:o.url,categories:this._getCategories(o.categories)})}for(var a=0,s=e.lineItems.digitalItems;a<s.length;a++){o=s[a];n.push({display_name:o.name,sku:o.sku,unit_price:t.toInteger(o.salePrice),qty:o.quantity,item_image_url:o.imageUrl,item_url:o.url,categories:this._getCategories(o.categories)})}for(var c=0,u=e.lineItems.giftCertificates;c<u.length;c++){o=u[c];n.push({display_name:o.name,sku:"",unit_price:t.toInteger(o.amount),qty:1,item_image_url:"",item_url:""})}if(e.lineItems.customItems)for(var d=0,p=e.lineItems.customItems;d<p.length;d++){o=p[d];n.push({display_name:o.name,sku:o.sku,unit_price:t.toInteger(o.listPrice),qty:o.quantity,item_image_url:"",item_url:""})}return n},t.prototype._getDiscounts=function(t,e){for(var n={},r=0,i=e.coupons;r<i.length;r++){var o=i[r];o.discountedAmount>0&&(n[o.code]={discount_amount:t.toInteger(o.discountedAmount),discount_display_name:o.displayName})}return e.discountAmount>0&&(n.DISCOUNTED_AMOUNT={discount_amount:t.toInteger(e.discountAmount),discount_display_name:"discount"}),n},t.prototype._getCategories=function(t){return t?t.map((function(t){return t.map((function(t){return t.name}))})):[[]]},t}();var Je=function(){function t(t){void 0===t&&(t=window),this._window=t}return t.prototype.load=function(t,e){void 0===t&&(t="");var n=this._getScriptURI(e);if(function(t,e,n,r,i,o,a,s){var c=t[n]||{},u=document.createElement(o),d=document.getElementsByTagName(o)[0],p=function(t,e,n){return function(){t[e]._.push([n,arguments])}};c[r]=p(c,r,"set");var h=c[r];c[i]={},c[i]._=[],h._=[],c._=[],c[i][a]=p(c,i,a),c[s]=function(){c._.push([a,arguments])};for(var l=0,m="set add save post open empty reset on off trigger ready setProduct".split(" ");l<m.length;l++)h[m[l]]=p(c,r,m[l]);for(var f=0,_=["get","token","url","items"];f<_.length;f++)h[_[f]]=function(){};u.async=!0,u.src=e[o],d.parentNode&&d.parentNode.insertBefore(u,d),delete e[o],h(e),t[n]=c}(window,{public_api_key:t,script:n},"affirm","checkout","ui","script","ready","jsReady"),!this._window.affirm)throw new $.a;return Promise.resolve(this._window.affirm)},t.prototype._getScriptURI=function(t){return void 0===t&&(t=!1),t?"//cdn1-sandbox.affirm.com/js/v2/affirm.js":"//cdn1.affirm.com/js/v2/affirm.js"},t}(),Ze=function(){function t(t,e,n,r,i,o,a){this._store=t,this._checkoutValidator=e,this._orderActionCreator=n,this._paymentActionCreator=r,this._paymentMethodActionCreator=i,this._storeCreditActionCreator=o,this._afterpayScriptLoader=a}return t.prototype.initialize=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(d.__generator)(this,(function(a){switch(a.label){case 0:if(e=this._store.getState(),n=e.paymentMethods.getPaymentMethod(t.methodId,t.gatewayId),r=e.config.getStoreConfig(),i=r?r.storeProfile.storeCountry:"",!n)throw new v.b(v.a.MissingPaymentMethod);return o=this,[4,this._afterpayScriptLoader.load(n,this._mapCountryToISO2(i))];case 1:return o._afterpaySdk=a.sent(),[2,this._store.getState()]}}))}))},t.prototype.deinitialize=function(){return this._afterpaySdk&&(this._afterpaySdk=void 0),Promise.resolve(this._store.getState())},t.prototype.execute=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(d.__generator)(this,(function(s){switch(s.label){case 0:if(!(n=t.payment&&t.payment.gatewayId))throw new Ue(["payment.gatewayId"]);return r=this._store.getState(),i=r.config.getStoreConfig(),o=i?i.storeProfile.storeCountry:"",void 0===(a=t.useStoreCredit)?[3,2]:[4,this._store.dispatch(this._storeCreditActionCreator.applyStoreCredit(a))];case 1:r=s.sent(),s.label=2;case 2:return[4,this._checkoutValidator.validate(r.checkout.getCheckout(),e)];case 3:return s.sent(),[4,this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(n,e))];case 4:return r=s.sent(),[4,this._redirectToAfterpay(o,r.paymentMethods.getPaymentMethod(n))];case 5:return s.sent(),[2,new Promise((function(){}))]}}))}))},t.prototype.finalize=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i;return Object(d.__generator)(this,(function(o){switch(o.label){case 0:if(e=this._store.getState(),n=e.payment.getPaymentId(),r=e.config.getContextConfig(),!n)throw new v.b(v.a.MissingCheckout);if(!r||!r.payment.token)throw new v.b(v.a.MissingCheckoutConfig);return i={methodId:n.providerId,paymentData:{nonce:r.payment.token}},[4,this._store.dispatch(this._orderActionCreator.submitOrder({},t))];case 1:return o.sent(),[2,this._store.dispatch(this._paymentActionCreator.submitPayment(i))]}}))}))},t.prototype._redirectToAfterpay=function(t,e){if(!this._afterpaySdk||!e||!e.clientToken)throw new bt.b(bt.a.PaymentNotInitialized);this._afterpaySdk.initialize({countryCode:this._mapCountryToISO2(t)}),this._afterpaySdk.redirect({token:e.clientToken})},t.prototype._mapCountryToISO2=function(t){switch(t){case"Australia":return"AU";case"New Zealand":return"NZ";case"United States":return"US";default:return"AU"}},t}(),Qe="//portal.afterpay.com/afterpay-async.js",Xe="//portal-sandbox.afterpay.com/afterpay-async.js",$e="//portal.afterpay.com/afterpay-async.js",tn="//portal.us-sandbox.afterpay.com/afterpay-async.js",en=function(){function t(t){this._scriptLoader=t}return t.prototype.load=function(t,e){var n=t.config.testMode||!1,r=this._getScriptURI(e,n);return this._scriptLoader.loadScript(r).then((function(){return window.AfterPay}))},t.prototype._getScriptURI=function(t,e){return"US"===t?e?tn:$e:e?Xe:Qe},t}(),nn=n(59),rn=n(135),on=n(128);function an(t,e){return Object(Bt.isEqual)(sn(t),sn(e))}function sn(t){var e,n=["id","provinceCode"];return Object.keys((e=t,Object(on.a)(e,(function(t,e){return Object(rn.a)(e)}))||{})).reduce((function(e,r){var i;return-1===n.indexOf(r)&&t[r]?Object(d.__assign)(Object(d.__assign)({},e),((i={})[r]=t[r],i)):e}),{})}function cn(t){return{id:t.id,firstName:t.firstName,lastName:t.lastName,company:t.company,address1:t.addressLine1,address2:t.addressLine2,city:t.city,stateOrProvince:t.province,stateOrProvinceCode:t.provinceCode,postalCode:t.postCode,country:t.country,countryCode:t.countryCode,phone:t.phone,customFields:t.customFields}}var un=n(181),dn=function(){function t(t,e,n,r,i){this._store=t,this._orderActionCreator=e,this._billingAddressActionCreator=n,this._remoteCheckoutActionCreator=r,this._scriptLoader=i,this._window=window,this._isPaymentMethodSelected=!1}return t.prototype.initialize=function(t){var e=this,n=t.amazon,r=t.methodId,i=this._store.getState().paymentMethods.getPaymentMethod(r);if(!n)throw new It.a('Unable to initialize payment because "options.amazon" argument is not provided.');if(!i)throw new v.b(v.a.MissingPaymentMethod);return this._walletOptions=n,this._paymentMethod=i,new Promise((function(t,r){e._scriptLoader.loadWidget(i,(function(){e._createWallet(n).then(t).catch(r)})).catch(r)})).then((function(){return e._store.getState()}))},t.prototype.deinitialize=function(){return this._walletOptions=void 0,Promise.resolve(this._store.getState())},t.prototype.execute=function(t,e){var n=this,r=this._getOrderReferenceId(),i=this._getMerchantId();if(!r||!i)throw new bt.b(bt.a.PaymentNotInitialized);if(!t.payment)throw new It.a('Unable to proceed because "payload.payment.methodId" argument is not provided.');if(!this._isPaymentMethodSelected)throw new v.b(v.a.MissingPaymentMethod);var o=t.payment,a=(o.paymentData,Object(d.__rest)(o,["paymentData"])),s=t.useStoreCredit;return e&&this._paymentMethod&&this._paymentMethod.config.is3dsEnabled?this._processPaymentWith3ds(i,r,a.methodId,s,e):this._store.dispatch(this._remoteCheckoutActionCreator.initializePayment(a.methodId,{referenceId:r,useStoreCredit:s})).then((function(){return n._store.dispatch(n._orderActionCreator.submitOrder(Object(d.__assign)(Object(d.__assign)({},t),{payment:a}),e))})).catch((function(t){return t instanceof qe.a&&"provider_widget_error"===t.body.type&&n._walletOptions?n._createWallet(n._walletOptions).then((function(){return Promise.reject(t)})):Promise.reject(t)}))},t.prototype.finalize=function(){return Promise.reject(new Jt)},t.prototype._getMerchantId=function(){return this._paymentMethod&&this._paymentMethod.config.merchantId},t.prototype._getOrderReferenceId=function(){var t=this._store.getState().remoteCheckout.getCheckout("amazon");return t?t.referenceId:void 0},t.prototype._getOrderReferenceIdFromInitializationData=function(){return this._paymentMethod?this._paymentMethod.initializationData.orderReferenceId:void 0},t.prototype._createWallet=function(t){var e=this;return new Promise((function(n,r){var i=t.container,o=t.onError,a=void 0===o?Bt.noop:o,s=t.onPaymentSelect,c=void 0===s?Bt.noop:s,u=t.onReady,d=void 0===u?Bt.noop:u,p=e._getOrderReferenceId()||e._getOrderReferenceIdFromInitializationData(),h=e._getMerchantId();if(!document.getElementById(i))return r(new It.a("Unable to create AmazonPay Wallet widget without valid container ID."));if(!e._window.OffAmazonPayments)return r(new bt.b(bt.a.PaymentNotInitialized));if(!h)return r(new v.b(v.a.MissingPaymentMethod));var l={amazonOrderReferenceId:p,design:{designMode:"responsive"},scope:"payments:billing_address payments:shipping_address payments:widget profile",sellerId:h,onError:function(t){r(t),a(t)},onPaymentSelect:function(t){e._synchronizeBillingAddress().then((function(){e._isPaymentMethodSelected=!0,c(t)})).catch(a)},onReady:function(t){n(),d(t)}};e._getOrderReferenceId()||(l.onReady=function(t){e._updateOrderReference(t).then((function(){n(),d(t)})).catch(a)});var m=new e._window.OffAmazonPayments.Widgets.Wallet(l);return m.bind(i),m}))},t.prototype._synchronizeBillingAddress=function(){var t=this,e=this._getOrderReferenceId(),n=this._paymentMethod&&this._paymentMethod.id;if(!n||!e)throw new un.a;return this._store.dispatch(this._remoteCheckoutActionCreator.initializeBilling(n,{referenceId:e})).then((function(e){var n=e.remoteCheckout.getCheckout("amazon"),r=n&&n.billing&&n.billing.address,i=e.billingAddress.getBillingAddress(),o=i&&Object(nn.a)(i);if(!1===r)throw new un.a;return!r||an(r,o||{})?t._store.getState():t._store.dispatch(t._billingAddressActionCreator.updateAddress(cn(r)))}))},t.prototype._updateOrderReference=function(t){return this._store.dispatch(this._remoteCheckoutActionCreator.updateCheckout("amazon",{referenceId:t.getAmazonOrderReferenceId()}))},t.prototype._processPaymentWith3ds=function(t,e,n,r,i){var o=this;return new Promise((function(a,s){return o._window.OffAmazonPayments?o._window.OffAmazonPayments.initConfirmationFlow(t,e,(function(t){return o._store.dispatch(o._orderActionCreator.submitOrder({useStoreCredit:r},i)).then((function(){return o._store.dispatch(o._remoteCheckoutActionCreator.initializePayment(n,{referenceId:e,useStoreCredit:r}))})).then((function(){return t.success(),new Promise((function(){}))})).catch((function(e){return t.error(),s(e)}))})):s(new bt.b(bt.a.PaymentNotInitialized))}))},t}(),pn=function(){function t(t,e,n,r,i,o){this._store=t,this._paymentStrategyActionCreator=e,this._paymentMethodActionCreator=n,this._orderActionCreator=r,this._paymentActionCreator=i,this._amazonPayV2PaymentProcessor=o}return t.prototype.initialize=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,o,a;return Object(d.__generator)(this,(function(s){switch(s.label){case 0:if(e=t.methodId,n=t.amazonpay,!e||!n)throw new It.a('Unable to proceed because "options.amazonpay" argument is not provided.');return[4,this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(e))];case 1:return r=s.sent(),i=r.paymentMethods.getPaymentMethodOrThrow(e),[4,this._amazonPayV2PaymentProcessor.initialize(i)];case 2:return s.sent(),o=i.initializationData.paymentToken,a=n.editButtonId,o&&a?this._bindEditButton(a,o,"changePayment"):this._walletButton=this._createSignInButton(i),[2,this._store.getState()]}}))}))},t.prototype.execute=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,c;return Object(d.__generator)(this,(function(u){switch(u.label){case 0:if(!(n=t.payment))throw new Ue(["payment"]);return r=n.methodId,[4,this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(r))];case 1:return i=u.sent(),o=i.paymentMethods.getPaymentMethodOrThrow(r),(a=o.initializationData.paymentToken)?(s={methodId:r,paymentData:{nonce:a}},[4,this._store.dispatch(this._orderActionCreator.submitOrder(t,e))]):[3,6];case 2:u.sent(),u.label=3;case 3:return u.trys.push([3,5,,6]),[4,this._store.dispatch(this._paymentActionCreator.submitPayment(s))];case 4:return[2,u.sent()];case 5:if((c=u.sent())instanceof qe.a&&"additional_action_required"===c.body.status)return[2,new Promise((function(){window.location.replace(c.body.additional_action_required.data.redirect_url)}))];throw c;case 6:if(!this._walletButton)throw new bt.b(bt.a.PaymentNotInitialized);return this._walletButton.click(),[2,new Promise(Bt.noop)]}}))}))},t.prototype.finalize=function(){return Promise.reject(new Jt)},t.prototype.deinitialize=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){return Object(d.__generator)(this,(function(t){switch(t.label){case 0:return this._walletButton&&this._walletButton.parentNode&&(this._walletButton.parentNode.removeChild(this._walletButton),this._walletButton=void 0),[4,this._amazonPayV2PaymentProcessor.deinitialize()];case 1:return t.sent(),[2,Promise.resolve(this._store.getState())]}}))}))},t.prototype._bindEditButton=function(t,e,n){var r=this,i=document.getElementById(t);if(i&&i.parentNode){var o=i.cloneNode(!0);i.parentNode.replaceChild(o,i),o.addEventListener("click",(function(){return r._showLoadingSpinner((function(){return new Promise(Bt.noop)}))})),this._amazonPayV2PaymentProcessor.bindButton(t,e,n)}},t.prototype._showLoadingSpinner=function(t){return this._store.dispatch(this._paymentStrategyActionCreator.widgetInteraction((function(){return t?t():Promise.reject()})),{queueId:"widgetInteraction"})},t.prototype._createContainer=function(){var t=document.getElementById("AmazonPayButton");return t||((t=document.createElement("div")).id="AmazonPayButton",t.style.display="none",document.body.appendChild(t))},t.prototype._createSignInButton=function(t){var e=this._store.getState(),n=e.cart.getCart(),r=e.config.getStoreConfig();if(!r)throw new v.b(v.a.MissingCheckoutConfig);if(!t)throw new v.b(v.a.MissingPaymentMethod);var i=t.config,o=i.merchantId,a=i.testMode,s=t.initializationData,c=s.checkoutLanguage,u=s.ledgerCurrency,d=s.checkoutSessionMethod,p=s.extractAmazonCheckoutSessionId;if(!o)throw new v.b(v.a.MissingPaymentMethod);var h={merchantId:o,sandbox:!!a,checkoutLanguage:c,ledgerCurrency:u,productType:n&&0===Object(jt.a)(n)?Pt.a.PayOnly:Pt.a.PayAndShip,createCheckoutSession:{method:d,url:r.links.siteLink+"/remote-checkout/"+t.id+"/payment-session",extractAmazonCheckoutSessionId:p},placement:Pt.b.Checkout},l=this._createContainer();return this._amazonPayV2PaymentProcessor.createButton("#"+l.id,h),l},t}(),hn=function(){function t(t,e,n,r){this._store=t,this._orderActionCreator=e,this._paymentActionCreator=n,this._hostedFormFactory=r}return t.prototype.execute=function(t,e){var n,r;return this._isHostedPaymentFormEnabled(null===(n=t.payment)||void 0===n?void 0:n.methodId,null===(r=t.payment)||void 0===r?void 0:r.gatewayId)&&this._shouldRenderHostedForm?this._executeWithHostedForm(t,e):this._executeWithoutHostedForm(t,e)},t.prototype.finalize=function(t){return Promise.reject(new Jt)},t.prototype.initialize=function(t){var e=this;if(!this._isHostedPaymentFormEnabled(null==t?void 0:t.methodId,null==t?void 0:t.gatewayId)||!this._isHostedFieldAvailable(t))return this._shouldRenderHostedForm=!1,Promise.resolve(this._store.getState());var n=t&&t.creditCard&&t.creditCard.form,r=(this._store.getState().config.getStoreConfig()||{}).paymentSettings,i=(void 0===r?{}:r).bigpayBaseUrl,o=void 0===i?"":i;if(!n)throw new It.a;var a=this._hostedFormFactory.create(o,n);return a.attach().then((function(){return e._shouldRenderHostedForm=!0,e._hostedForm=a,e._store.getState()}))},t.prototype.deinitialize=function(t){return this._hostedForm&&this._hostedForm.detach(),Promise.resolve(this._store.getState())},t.prototype._executeWithoutHostedForm=function(t,e){var n=this,r=t.payment,i=Object(d.__rest)(t,["payment"]),o=r&&r.paymentData;if(!r||!o)throw new Ue(["payment.paymentData"]);return this._store.dispatch(this._orderActionCreator.submitOrder(i,e)).then((function(){return n._store.dispatch(n._paymentActionCreator.submitPayment(Object(d.__assign)(Object(d.__assign)({},r),{paymentData:o})))}))},t.prototype._executeWithHostedForm=function(t,e){var n=this,r=t.payment,i=Object(d.__rest)(t,["payment"]),o=this._hostedForm;if(!o)throw new bt.b(bt.a.PaymentNotInitialized);if(!r||!r.methodId)throw new Ue(["payment.methodId"]);return o.validate().then((function(){return n._store.dispatch(n._orderActionCreator.submitOrder(i,e))})).then((function(){return o.submit(r)})).then((function(){return n._store.dispatch(n._orderActionCreator.loadCurrentOrder())}))},t.prototype._isHostedPaymentFormEnabled=function(t,e){return!!t&&!0===(0,this._store.getState().paymentMethods.getPaymentMethodOrThrow)(t,e).config.isHostedFormEnabled},t.prototype._isHostedFieldAvailable=function(t){return!Object(Bt.values)(t&&t.creditCard&&t.creditCard.form.fields).every(Bt.isNil)},t}(),ln=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,r,i)||this;return a._threeDSecureFlow=o,a}return Object(d.__extends)(e,t),e.prototype.initialize=function(e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(d.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this._store.getState().paymentMethods.getPaymentMethodOrThrow,(r=n(e.methodId)).config.is3dsEnabled?[4,this._threeDSecureFlow.prepare(r)]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2,this._store.getState()]}}))}))},e.prototype.execute=function(e,n){return Object(d.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return Object(d.__generator)(this,(function(a){return r=e.payment,i=(void 0===r?{}:r).methodId,o=void 0===i?"":i,(0,this._store.getState().paymentMethods.getPaymentMethodOrThrow)(o).config.is3dsEnabled?[2,this._threeDSecureFlow.start(t.prototype.execute.bind(this),e,n,this._hostedForm)]:[2,t.prototype.execute.call(this,e,n)]}))}))},e}(hn),mn=n(36),fn=function(){function t(t,e,n){this._store=t,this._orderActionCreator=e,this._paymentActionCreator=n}return t.prototype.execute=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Object(d.__generator)(this,(function(c){switch(c.label){case 0:if(!(n=t.payment))throw new Ue(["payment"]);if(!this._initializeOptions)throw new bt.b(bt.a.PaymentNotInitialized);return[4,this._store.dispatch(this._orderActionCreator.submitOrder(t,e))];case 1:return c.sent(),r=this._initializeOptions,i=r.onLoad,o=r.style,a=this._createIframe("bluesnapv2_hosted_payment_page",o),s=new ne(new Promise(Bt.noop)),i(a,(function(){return s.cancel(new xe)})),[2,this._store.dispatch(this._paymentActionCreator.initializeOffsitePayment({methodId:n.methodId,gatewayId:n.gatewayId,shouldSaveInstrument:!1,target:a.name,promise:s.promise}))]}}))}))},t.prototype.finalize=function(t){var e=this._store.getState(),n=e.order.getOrder(),r=e.payment.getPaymentStatus();return!n||r!==mn.a&&r!==mn.b?Promise.reject(new Jt):this._store.dispatch(this._orderActionCreator.finalizeOrder(n.orderId,t))},t.prototype.initialize=function(t){return this._initializeOptions=t&&t.bluesnapv2,Promise.resolve(this._store.getState())},t.prototype.deinitialize=function(){return Promise.resolve(this._store.getState())},t.prototype._createIframe=function(t,e){var n=document.createElement("iframe");if(n.name=t,e){var r=e.border,i=e.height,o=e.width;n.style.border=r,n.style.height=i,n.style.width=o}return n},t}();var _n=function(){function t(t,e,n,r,i,o){this._store=t,this._orderActionCreator=e,this._paymentActionCreator=n,this._paymentMethodActionCreator=r,this._storeCreditActionCreator=i,this._boltScriptLoader=o,this._useBoltClient=!1}return t.prototype.initialize=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,o,a;return Object(d.__generator)(this,(function(s){switch(s.label){case 0:if(e=t.bolt,n=t.methodId,this._useBoltClient=!(!e||!e.useBigCommerceCheckout),!this._useBoltClient)return[3,2];if(r=this._store.getState(),!(i=r.paymentMethods.getPaymentMethod(n))||!i.initializationData.publishableKey)throw new v.b(v.a.MissingPaymentMethod);return o=i.initializationData.publishableKey,a=this,[4,this._boltScriptLoader.load(o,i.config.testMode)];case 1:a._boltClient=s.sent(),s.label=2;case 2:return[2,Promise.resolve(this._store.getState())]}}))}))},t.prototype.deinitialize=function(){return this._boltClient=void 0,Promise.resolve(this._store.getState())},t.prototype.execute=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){return Object(d.__generator)(this,(function(n){return this._useBoltClient?[2,this._executeWithBoltClient(t,e)]:[2,this._executeWithBoltCheckout(t,e)]}))}))},t.prototype.finalize=function(){return Promise.reject(new Jt)},t.prototype._executeWithBoltClient=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,c,u,p,h;return Object(d.__generator)(this,(function(l){switch(l.label){case 0:if(n=t.payment,r=Object(d.__rest)(t,["payment"]),!n)throw new Ue(["payment"]);if(!this._boltClient)throw new bt.b(bt.a.PaymentNotInitialized);return i=this._boltClient,[4,this._store.dispatch(this._orderActionCreator.submitOrder(r,e))];case 1:return l.sent(),void 0===(o=this._store.getState().checkout.getCheckoutOrThrow().isStoreCreditApplied)?[3,3]:[4,this._store.dispatch(this._storeCreditActionCreator.applyStoreCredit(o))];case 2:l.sent(),l.label=3;case 3:return[4,this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(n.methodId,e))];case 4:if(a=l.sent(),!(s=a.paymentMethods.getPaymentMethod(n.methodId))||!s.clientToken)throw new v.b(v.a.MissingPaymentMethod);return c=s.clientToken,[4,new Promise((function(t,e){var n={success:function(e,n){t(e),n()},close:function(){e(new xe)}};i.configure({orderToken:c},{},n).open()}))];case 5:return u=l.sent(),p=n.paymentData.shouldSaveInstrument,h={methodId:n.methodId,paymentData:{nonce:u.reference,shouldSaveInstrument:p}},[2,this._store.dispatch(this._paymentActionCreator.submitPayment(h))]}}))}))},t.prototype._executeWithBoltCheckout=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return Object(d.__generator)(this,(function(a){switch(a.label){case 0:if(n=t.payment,r=Object(d.__rest)(t,["payment"]),!n)throw new Ue(["payment"]);if(i=n.methodId,o=n.paymentData,!i)throw new v.b(v.a.MissingPaymentMethod);if(!o||!Boolean(o.nonce))throw new v.b(v.a.MissingPayment);return[4,this._store.dispatch(this._orderActionCreator.submitOrder(r,e))];case 1:return a.sent(),[2,this._store.dispatch(this._paymentActionCreator.submitPayment({methodId:i,paymentData:o}))]}}))}))},t}(),yn=function(){function t(t,e){void 0===e&&(e=window),this._scriptLoader=t,this._window=e}return t.prototype.load=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n;return Object(d.__generator)(this,(function(r){switch(r.label){case 0:return n={async:!0,attributes:{id:"bolt-connect","data-publishable-key":t}},[4,this._scriptLoader.loadScript("//connect"+(e?"-sandbox":"")+".bolt.com/connect-bigcommerce.js",n)];case 1:if(r.sent(),!this._window.BoltCheckout)throw new $.a;return[2,this._window.BoltCheckout]}}))}))},t}();var gn,bn=function(){function t(t){var e=this._createElements(t),n=e.element,r=e.closeElement,i=e.mainElement;this._element=n,this._closeElement=r,this._mainElement=i}return t.prototype.show=function(t){var e=this;this._mainElement.parentElement||(this._registerClick(t),document.body.appendChild(this._mainElement),setTimeout((function(){return e._element.style.opacity="1"})))},t.prototype.remove=function(){var t=this;this._mainElement.parentElement&&(this._unregisterClick&&this._unregisterClick(),this._removeAfterTransition(),setTimeout((function(){return t._element.style.opacity="0"})))},t.prototype._createElements=function(t){var e,n,r,i,o=document.createElement("div"),a=t||{},s=a.background,c=void 0===s?"rgba(0, 0, 0, 0.8)":s,u=a.id,d=void 0===u?"checkoutOverlay":u,p=a.transitionDuration,h=void 0===p?400:p,l=a.hasCloseButton,m=a.innerHtml,f=o;if(d&&(o.id=d),m){var _=document.createElement("div");i=d+"--overlayText",_.className=i,_.appendChild(m),o.appendChild(_)}return l&&(r=d+"--close",(e=document.createElement("div")).className=r,n=d+"--layout",(f=document.createElement("div")).className=n,f.appendChild(o),f.appendChild(e)),f.appendChild(function(t){var e=t.id,n=t.background,r=t.transitionDuration,i=t.classLayout,o=t.classOverlayText,a=t.classClose,s=document.createElement("style"),c=i?", ."+i:"";return s.id=e+"--styles",s.type="text/css",s.innerText="\n        #"+e+c+" {\n            display: block;\n            height: 100%;\n            width: 100%;\n            left: 0;\n            top: 0;\n            position: fixed;\n            z-index: 2147483647;\n        }\n        #"+e+" {\n            transition: opacity "+r+"ms ease-out;\n            background: "+n+";\n            opacity: 0;\n        }\n    ",o&&(s.innerText+="\n             #"+e+" {\n                display: flex;\n                align-items: center;\n                justify-content: center;\n             }\n             #"+e+" ."+o+" {\n                color: white;\n                max-width: 330px;\n                font-size: 1.2em;\n                text-align: center;\n             }\n        "),a&&(s.innerText+="\n            #"+e+" {\n                opacity: 1;\n            }\n            ."+i+" ."+a+" {\n                position: fixed;\n                right: 16px;\n                top: 16px;\n                width: 16px;\n                height: 16px;\n                opacity: 0.6;\n                cursor: pointer;\n                z-index: 3147483647;\n            }\n            ."+i+" ."+a+"::after, ."+i+" ."+a+"::before {\n                position: absolute;\n                left: 8px;\n                content: '';\n                height: 16px;\n                width: 2px;\n                background-color: #fff;\n            }\n            ."+i+" ."+a+"::after {\n                transform: rotate(-45deg);\n            }\n            ."+i+" ."+a+"::before {\n                transform: rotate(45deg);\n            }\n        "),s}({id:d,background:c,transitionDuration:h,classLayout:n,classOverlayText:i,classClose:r})),{element:o,closeElement:e,mainElement:f}},t.prototype._addEventListener=function(t,e){t&&e&&t.addEventListener("click",e)},t.prototype._removeEventListener=function(t,e){t&&e&&t.removeEventListener("click",e)},t.prototype._registerClick=function(t){var e=this;if(this._unregisterClick&&this._unregisterClick(),t){var n=t.onClick,r=t.onClickClose;this._addEventListener(this._element,n),this._addEventListener(this._closeElement,r),this._unregisterClick=function(){e._removeEventListener(e._element,n),e._removeEventListener(e._closeElement,r),e._unregisterClick=void 0}}},t.prototype._removeAfterTransition=function(){var t=this,e=function(n){"opacity"===n.propertyName&&(t._mainElement.parentElement&&t._mainElement.remove(),t._element.removeEventListener("transitionend",e))};this._element.addEventListener("transitionend",e)},t}(),vn=function(t){function e(e,n){var r=t.call(this,n||"Unable to proceed because the payment form contains invalid data.")||this;return r.details=e,r.name="PaymentInvalidFormError",r.type="payment_invalid_form",r}return Object(d.__extends)(e,t),e}(ht.a);!function(t){t.CardCode="cardCode",t.CardCodeVerification="cardCodeVerification",t.CardExpiry="cardExpiry",t.CardName="cardName",t.CardNumber="cardNumber",t.CardNumberVerification="cardNumberVerification"}(gn||(gn={}));var Cn,On=function(){function t(t,e){var n,r=this;this._options=t,this._styles=e,this._handleBlur=function(){var t;r._applyStyles(null===(t=r._styles)||void 0===t?void 0:t.default)},this._handleFocus=function(){var t;r._applyStyles(null===(t=r._styles)||void 0===t?void 0:t.focus)},this._input=document.createElement("input"),this._input.style.backgroundColor="transparent",this._input.style.border="0",this._input.style.display="block",this._input.style.height="100%",this._input.style.margin="0",this._input.style.outline="none",this._input.style.padding="0",this._input.style.width="100%",this._input.placeholder=this._options.placeholder||"",this._input.addEventListener("blur",this._handleBlur),this._input.addEventListener("focus",this._handleFocus),this._applyStyles(null===(n=this._styles)||void 0===n?void 0:n.default)}return t.prototype.getValue=function(){return this._input.value},t.prototype.attach=function(){var t=document.getElementById(this._options.containerId);if(!t)throw new It.a;t.appendChild(this._input)},t.prototype.detach=function(){var t;null===(t=this._input.parentNode)||void 0===t||t.removeChild(this._input)},t.prototype.on=function(t,e){this._input.addEventListener(t,e)},t.prototype.off=function(t,e){this._input.removeEventListener(t,e)},t.prototype._applyStyles=function(t){var e=this;t&&Object.keys(t).forEach((function(n){e._input.style[n]=t[n]||""}))},t}();function Sn(t){return!!t.cardNumber}!function(t){t[t.CreditCard=0]="CreditCard",t[t.StoredCardVerification=1]="StoredCardVerification"}(Cn||(Cn={}));var wn=function(){function t(t){var e=this;this._braintreeSDKCreator=t,this._handleBlur=function(t){var n,r;null===(r=null===(n=e._formOptions)||void 0===n?void 0:n.onBlur)||void 0===r||r.call(n,{fieldType:e._mapFieldType(t.emittedBy)})},this._handleNameBlur=function(){var t,n;null===(n=null===(t=e._formOptions)||void 0===t?void 0:t.onBlur)||void 0===n||n.call(t,{fieldType:gn.CardName})},this._handleFocus=function(t){var n,r;null===(r=null===(n=e._formOptions)||void 0===n?void 0:n.onFocus)||void 0===r||r.call(n,{fieldType:e._mapFieldType(t.emittedBy)})},this._handleNameFocus=function(){var t,n;null===(n=null===(t=e._formOptions)||void 0===t?void 0:t.onFocus)||void 0===n||n.call(t,{fieldType:gn.CardName})},this._handleCardTypeChange=function(t){var n,r,i;null===(r=null===(n=e._formOptions)||void 0===n?void 0:n.onCardTypeChange)||void 0===r||r.call(n,{cardType:null===(i=t.cards[0])||void 0===i?void 0:i.type})},this._handleInputSubmitRequest=function(t){var n,r;null===(r=null===(n=e._formOptions)||void 0===n?void 0:n.onEnter)||void 0===r||r.call(n,{fieldType:e._mapFieldType(t.emittedBy)})},this._handleValidityChange=function(t){var n,r;null===(r=null===(n=e._formOptions)||void 0===n?void 0:n.onValidate)||void 0===r||r.call(n,{isValid:Object.keys(t.fields).every((function(e){var n;return null===(n=t.fields[e])||void 0===n?void 0:n.isValid})),errors:e._mapValidationErrors(t.fields)})}}return t.prototype.initialize=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(d.__generator)(this,(function(r){switch(r.label){case 0:return this._formOptions=t,this._type=Sn(t.fields)?Cn.CreditCard:Cn.StoredCardVerification,e=this._mapFieldOptions(t.fields),Object(Bt.isEmpty)(e)?[2,!1]:(n=this,[4,this._braintreeSDKCreator.createHostedFields({fields:e,styles:t.styles&&this._mapStyleOptions(t.styles)})]);case 1:return n._cardFields=r.sent(),this._cardFields.on("blur",this._handleBlur),this._cardFields.on("focus",this._handleFocus),this._cardFields.on("cardTypeChange",this._handleCardTypeChange),this._cardFields.on("validityChange",this._handleValidityChange),this._cardFields.on("inputSubmitRequest",this._handleInputSubmitRequest),Sn(t.fields)&&(this._cardNameField=new On(t.fields.cardName,t.styles),this._cardNameField.on("blur",this._handleNameBlur),this._cardNameField.on("focus",this._handleNameFocus),this._cardNameField.attach()),[2,!0]}}))}))},t.prototype.deinitialize=function(){var t,e;return Object(d.__awaiter)(this,void 0,void 0,(function(){return Object(d.__generator)(this,(function(n){switch(n.label){case 0:return[4,null===(t=this._cardFields)||void 0===t?void 0:t.teardown()];case 1:return n.sent(),null===(e=this._cardNameField)||void 0===e||e.detach(),[2]}}))}))},t.prototype.tokenize=function(t){var e,n,r,i,o;return Object(d.__awaiter)(this,void 0,void 0,(function(){var a,s,c;return Object(d.__generator)(this,(function(u){switch(u.label){case 0:if(!this._cardFields)throw new bt.b(bt.a.PaymentNotInitialized);u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this._cardFields.tokenize(Object(Bt.omitBy)({billingAddress:t&&this._mapBillingAddress(t),cardholderName:null===(e=this._cardNameField)||void 0===e?void 0:e.getValue()},Bt.isNil))];case 2:return a=u.sent().nonce,null===(r=null===(n=this._formOptions)||void 0===n?void 0:n.onValidate)||void 0===r||r.call(n,{isValid:!0,errors:{}}),[2,{nonce:a}];case 3:if(s=u.sent(),c=this._mapTokenizeError(s))throw null===(o=null===(i=this._formOptions)||void 0===i?void 0:i.onValidate)||void 0===o||o.call(i,{isValid:!1,errors:c}),new vn(c);throw s;case 4:return[2]}}))}))},t.prototype.tokenizeForStoredCardVerification=function(){var t,e,n,r,i;return Object(d.__awaiter)(this,void 0,void 0,(function(){var o,a,s;return Object(d.__generator)(this,(function(c){switch(c.label){case 0:if(!this._cardFields)throw new bt.b(bt.a.PaymentNotInitialized);c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this._cardFields.tokenize(Object(Bt.omitBy)({cardholderName:null===(t=this._cardNameField)||void 0===t?void 0:t.getValue()},Bt.isNil))];case 2:return o=c.sent().nonce,null===(n=null===(e=this._formOptions)||void 0===e?void 0:e.onValidate)||void 0===n||n.call(e,{isValid:!0,errors:{}}),[2,{nonce:o}];case 3:if(a=c.sent(),s=this._mapTokenizeError(a))throw null===(i=null===(r=this._formOptions)||void 0===r?void 0:r.onValidate)||void 0===i||i.call(r,{isValid:!1,errors:s}),new vn(s);throw a;case 4:return[2]}}))}))},t.prototype._mapBillingAddress=function(t){return{countryName:t.country,postalCode:t.postalCode,streetAddress:t.address2?t.address1+" "+t.address2:t.address1}},t.prototype._mapFieldOptions=function(t){return Sn(t)?Object(Bt.omitBy)({number:{container:"#"+t.cardNumber.containerId,placeholder:t.cardNumber.placeholder},expirationDate:{container:"#"+t.cardExpiry.containerId,placeholder:t.cardExpiry.placeholder},cvv:t.cardCode&&{container:"#"+t.cardCode.containerId,placeholder:t.cardCode.placeholder}},Bt.isNil):Object(Bt.omitBy)({number:t.cardNumberVerification&&{container:"#"+t.cardNumberVerification.containerId,placeholder:t.cardNumberVerification.placeholder},cvv:t.cardCodeVerification&&{container:"#"+t.cardCodeVerification.containerId,placeholder:t.cardCodeVerification.placeholder}},Bt.isNil)},t.prototype._mapStyleOptions=function(t){var e=function(t){return void 0===t&&(t={}),Object(Bt.omitBy)({color:t.color,"font-family":t.fontFamily,"font-size":t.fontSize,"font-weight":t.fontWeight},Bt.isNil)};return{input:e(t.default),".invalid":e(t.error),":focus":e(t.focus)}},t.prototype._mapFieldType=function(t){switch(t){case"number":return this._type===Cn.StoredCardVerification?gn.CardNumberVerification:gn.CardNumber;case"expirationDate":return gn.CardExpiry;case"cvv":return this._type===Cn.StoredCardVerification?gn.CardCodeVerification:gn.CardCode;default:throw new Error("Unexpected field type")}},t.prototype._mapValidationErrors=function(t){var e=this;return Object.keys(t).reduce((function(n,r){var i,o;return Object(d.__assign)(Object(d.__assign)({},n),((i={})[e._mapFieldType(r)]=(null===(o=t[r])||void 0===o?void 0:o.isValid)?void 0:[e._createInvalidError(e._mapFieldType(r))],i))}),{})},t.prototype._mapTokenizeError=function(t){var e,n,r,i=this;return"HOSTED_FIELDS_FIELDS_EMPTY"===t.code?((e={})[this._mapFieldType("cvv")]=[this._createRequiredError(this._mapFieldType("cvv"))],e[this._mapFieldType("expirationDate")]=[this._createRequiredError(this._mapFieldType("expirationDate"))],e[this._mapFieldType("number")]=[this._createRequiredError(this._mapFieldType("number"))],e):null===(r=null===(n=null==t?void 0:t.details)||void 0===n?void 0:n.invalidFieldKeys)||void 0===r?void 0:r.reduce((function(t,e){var n;return Object(d.__assign)(Object(d.__assign)({},t),((n={})[i._mapFieldType(e)]=[i._createInvalidError(i._mapFieldType(e))],n))}),{})},t.prototype._createRequiredError=function(t){switch(t){case gn.CardCodeVerification:case gn.CardCode:return{fieldType:t,message:"CVV is required",type:"required"};case gn.CardNumberVerification:case gn.CardNumber:return{fieldType:t,message:"Credit card number is required",type:"required"};case gn.CardExpiry:return{fieldType:t,message:"Expiration date is required",type:"required"};case gn.CardName:return{fieldType:t,message:"Full name is required",type:"required"};default:return{fieldType:t,message:"Field is required",type:"required"}}},t.prototype._createInvalidError=function(t){switch(t){case gn.CardCodeVerification:return{fieldType:t,message:"Invalid card code",type:"invalid_card_code"};case gn.CardNumberVerification:return{fieldType:t,message:"Invalid card number",type:"invalid_card_number"};case gn.CardCode:return{fieldType:t,message:"Invalid card code",type:"invalid_card_code"};case gn.CardExpiry:return{fieldType:t,message:"Invalid card expiry",type:"invalid_card_expiry"};case gn.CardNumber:return{fieldType:t,message:"Invalid card number",type:"invalid_card_number"};default:return{fieldType:t,message:"Invalid field",type:"invalid"}}},t}(),In=function(){function t(t,e,n){this._braintreeSDKCreator=t,this._braintreeHostedForm=e,this._overlay=n}return t.prototype.initialize=function(t,e){this._braintreeSDKCreator.initialize(t),this._threeDSecureOptions=e&&e.threeDSecure},t.prototype.preloadPaypal=function(){return this._braintreeSDKCreator.getPaypal()},t.prototype.tokenizeCard=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n;return Object(d.__generator)(this,(function(r){switch(r.label){case 0:return n=this._mapToCreditCard(t.paymentData,e),[4,this._braintreeSDKCreator.getClient()];case 1:return[4,r.sent().request(n)];case 2:return[2,{nonce:r.sent().creditCards[0].nonce}]}}))}))},t.prototype.verifyCard=function(t,e,n){return Object(d.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return Object(d.__generator)(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.tokenizeCard(t,e),this._braintreeSDKCreator.get3DS()])];case 1:return r=a.sent(),i=r[0].nonce,o=r[1],[2,this._present3DSChallenge(o,n,i)]}}))}))},t.prototype.paypal=function(t){var e=this,n=t.shouldSaveInstrument,r=Object(d.__rest)(t,["shouldSaveInstrument"]);return this._braintreeSDKCreator.getPaypal().then((function(t){return e._overlay.show({onClick:function(){return t.focusWindow()}}),t.tokenize(Object(d.__assign)({enableShippingAddress:!0,flow:n?"vault":"checkout",useraction:"commit"},r))})).then((function(t){return e._overlay.remove(),t})).catch((function(t){throw e._overlay.remove(),t}))},t.prototype.getSessionId=function(){return this._braintreeSDKCreator.getDataCollector().then((function(t){return t.deviceData}))},t.prototype.appendSessionId=function(t){var e=this;return t.then((function(t){return Promise.all([t,e._braintreeSDKCreator.getDataCollector()])})).then((function(t){var e=t[0],n=t[1].deviceData;return Object(d.__assign)(Object(d.__assign)({},e),{deviceSessionId:n})}))},t.prototype.deinitialize=function(){return this._braintreeSDKCreator.teardown()},t.prototype.initializeHostedForm=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){return Object(d.__generator)(this,(function(e){switch(e.label){case 0:return[4,this._braintreeHostedForm.initialize(t)];case 1:return[2,e.sent()]}}))}))},t.prototype.deinitializeHostedForm=function(){return Object(d.__awaiter)(this,void 0,void 0,(function(){return Object(d.__generator)(this,(function(t){switch(t.label){case 0:return[4,this._braintreeHostedForm.deinitialize()];case 1:return t.sent(),[2]}}))}))},t.prototype.tokenizeHostedForm=function(t){return this._braintreeHostedForm.tokenize(t)},t.prototype.tokenizeHostedFormForStoredCardVerification=function(){return this._braintreeHostedForm.tokenizeForStoredCardVerification()},t.prototype.verifyCardWithHostedForm=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(d.__generator)(this,(function(o){switch(o.label){case 0:return[4,Promise.all([this._braintreeHostedForm.tokenize(t),this._braintreeSDKCreator.get3DS()])];case 1:return n=o.sent(),r=n[0].nonce,i=n[1],[2,this._present3DSChallenge(i,e,r)]}}))}))},t.prototype._present3DSChallenge=function(t,e,n){var r=this;if(!this._threeDSecureOptions)throw new bt.b(bt.a.PaymentNotInitialized);var i=this._threeDSecureOptions,o=i.addFrame,a=i.removeFrame,s=function(){return Object(d.__awaiter)(r,void 0,void 0,(function(){var e;return Object(d.__generator)(this,(function(n){switch(n.label){case 0:return[4,t.cancelVerifyCard()];case 1:return e=n.sent(),c.cancel(new xe),[2,e]}}))}))},c=new ne(t.verifyCard({addFrame:function(t,e){o(t,e,s)},amount:e,nonce:n,removeFrame:a,onLookupComplete:function(t,e){e()}}));return c.promise},t.prototype._mapToCreditCard=function(t,e){return{data:{creditCard:{cardholderName:t.ccName,number:t.ccNumber,cvv:t.ccCvv,expirationDate:t.ccExpiry.month+"/"+t.ccExpiry.year,options:{validate:!1},billingAddress:e&&{countryName:e.country,postalCode:e.postalCode,streetAddress:e.address2?e.address1+" "+e.address2:e.address1}}},endpoint:"payment_methods/credit_cards",method:"post"}},t}();var An=n(91),En=function(){function t(t,e,n,r,i){this._store=t,this._orderActionCreator=e,this._paymentActionCreator=n,this._paymentMethodActionCreator=r,this._braintreePaymentProcessor=i}return t.prototype.initialize=function(t){var e;return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(d.__generator)(this,(function(s){switch(s.label){case 0:return[4,this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(t.methodId))];case 1:if(n=s.sent(),!(r=n.paymentMethods.getPaymentMethod(t.methodId))||!r.clientToken)throw new v.b(v.a.MissingPaymentMethod);s.label=2;case 2:return s.trys.push([2,6,,7]),this._braintreePaymentProcessor.initialize(r.clientToken,t.braintree),this._isHostedPaymentFormEnabled(t.methodId,t.gatewayId)&&(null===(e=t.braintree)||void 0===e?void 0:e.form)?(i=this,[4,this._braintreePaymentProcessor.initializeHostedForm(t.braintree.form)]):[3,4];case 3:i._isHostedFormInitialized=s.sent(),s.label=4;case 4:return this._is3dsEnabled=r.config.is3dsEnabled,o=this,[4,this._braintreePaymentProcessor.getSessionId()];case 5:return o._deviceSessionId=s.sent(),[3,7];case 6:return a=s.sent(),this._handleError(a),[3,7];case 7:return[2,this._store.getState()]}}))}))},t.prototype.execute=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,c,u,p,h,l,m,f;return Object(d.__generator)(this,(function(_){switch(_.label){case 0:if(n=t.payment,r=Object(d.__rest)(t,["payment"]),!n)throw new Ue(["payment"]);return[4,this._store.dispatch(this._orderActionCreator.submitOrder(r,e))];case 1:if(i=_.sent(),o=i.billingAddress.getBillingAddressOrThrow,a=i.order.getOrderOrThrow,!(0,i.payment.isPaymentDataRequired)(r.useStoreCredit))return[2,i];_.label=2;case 2:return _.trys.push([2,7,,8]),c=(s=this._store).dispatch,p=(u=this._paymentActionCreator).submitPayment,h=[Object(d.__assign)({},n)],l={},this._isHostedFormInitialized?[4,this._prepareHostedPaymentData(n,o(),a().orderAmount)]:[3,4];case 3:return m=_.sent(),[3,6];case 4:return[4,this._preparePaymentData(n,o(),a().orderAmount)];case 5:m=_.sent(),_.label=6;case 6:return[2,c.apply(s,[p.apply(u,[d.__assign.apply(void 0,h.concat([(l.paymentData=m,l)]))])])];case 7:return f=_.sent(),this._handleError(f),[3,8];case 8:return[2]}}))}))},t.prototype.finalize=function(){return Promise.reject(new Jt)},t.prototype.deinitialize=function(){return Object(d.__awaiter)(this,void 0,void 0,(function(){return Object(d.__generator)(this,(function(t){switch(t.label){case 0:return this._isHostedFormInitialized=!1,[4,Promise.all([this._braintreePaymentProcessor.deinitialize(),this._braintreePaymentProcessor.deinitializeHostedForm()])];case 1:return t.sent(),[2,this._store.getState()]}}))}))},t.prototype._handleError=function(t){if("BraintreeError"===t.name)throw new An.a(t.message);throw t},t.prototype._preparePaymentData=function(t,e,n){return Object(d.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,c,u;return Object(d.__generator)(this,(function(p){switch(p.label){case 0:return r={deviceSessionId:this._deviceSessionId},this._isSubmittingWithStoredCard(t)||this._isStoringNewCard(t)?[2,Object(d.__assign)(Object(d.__assign)({},r),t.paymentData)]:this._shouldPerform3DSVerification(t)?(i=[Object(d.__assign)({},r)],o=this._mapToNonceInstrument,a=[Object(d.__assign)({},t.paymentData)],[4,this._braintreePaymentProcessor.verifyCard(t,e,n)]):[3,2];case 1:return[2,d.__assign.apply(void 0,i.concat([o.apply(this,[d.__assign.apply(void 0,a.concat([p.sent()]))])]))];case 2:return s=[Object(d.__assign)({},r)],c=this._mapToNonceInstrument,u=[Object(d.__assign)({},t.paymentData)],[4,this._braintreePaymentProcessor.tokenizeCard(t,e)];case 3:return[2,d.__assign.apply(void 0,s.concat([c.apply(this,[d.__assign.apply(void 0,u.concat([p.sent()]))])]))]}}))}))},t.prototype._prepareHostedPaymentData=function(t,e,n){return Object(d.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,c,u,p,h,l;return Object(d.__generator)(this,(function(m){switch(m.label){case 0:return r={deviceSessionId:this._deviceSessionId},this._shouldPerform3DSVerification(t)?(i=[Object(d.__assign)({},r)],o=this._mapToNonceInstrument,a=[Object(d.__assign)({},t.paymentData)],[4,this._braintreePaymentProcessor.verifyCardWithHostedForm(e,n)]):[3,2];case 1:return[2,d.__assign.apply(void 0,i.concat([o.apply(this,[d.__assign.apply(void 0,a.concat([m.sent()]))])]))];case 2:return this._isSubmittingWithStoredCard(t)?(s=[Object(d.__assign)({},r)],c=this._mapToVaultedInstrumentWithNonceVerification,u=[Object(d.__assign)({},t.paymentData)],[4,this._braintreePaymentProcessor.tokenizeHostedFormForStoredCardVerification()]):[3,4];case 3:return[2,d.__assign.apply(void 0,s.concat([c.apply(this,[d.__assign.apply(void 0,u.concat([m.sent()]))])]))];case 4:return p=[Object(d.__assign)({},r)],h=this._mapToNonceInstrument,l=[Object(d.__assign)({},t.paymentData)],[4,this._braintreePaymentProcessor.tokenizeHostedForm(e)];case 5:return[2,d.__assign.apply(void 0,p.concat([h.apply(this,[d.__assign.apply(void 0,l.concat([m.sent()]))])]))]}}))}))},t.prototype._mapToNonceInstrument=function(t){return Object(Bt.pick)(t,"nonce","shouldSaveInstrument","shouldSetAsDefaultInstrument")},t.prototype._mapToVaultedInstrumentWithNonceVerification=function(t){return Object(Bt.pick)(t,"nonce","instrumentId")},t.prototype._isHostedPaymentFormEnabled=function(t,e){return!!t&&!0===(0,this._store.getState().paymentMethods.getPaymentMethodOrThrow)(t,e).config.isHostedFormEnabled},t.prototype._isSubmittingWithStoredCard=function(t){return!(!t.paymentData||!Object(be.a)(t.paymentData))},t.prototype._isStoringNewCard=function(t){var e;return!!(t.paymentData&&(null===(e=t.paymentData)||void 0===e?void 0:e.shouldSaveInstrument))},t.prototype._shouldPerform3DSVerification=function(t){return!(!this._is3dsEnabled||this._isSubmittingWithStoredCard(t))},t}();var Pn=function(){function t(t,e,n,r,i,o){void 0===o&&(o=!1),this._store=t,this._orderActionCreator=e,this._paymentActionCreator=n,this._paymentMethodActionCreator=r,this._braintreePaymentProcessor=i,this._credit=o}return t.prototype.initialize=function(t){var e=this,n=t.braintree,r=t.methodId;return this._paymentMethod=this._store.getState().paymentMethods.getPaymentMethod(r),this._paymentMethod&&this._paymentMethod.nonce?Promise.resolve(this._store.getState()):this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(r)).then((function(t){if(e._paymentMethod=t.paymentMethods.getPaymentMethod(r),!e._paymentMethod||!e._paymentMethod.clientToken)throw new v.b(v.a.MissingPaymentMethod);return e._braintreePaymentProcessor.initialize(e._paymentMethod.clientToken,n),e._braintreePaymentProcessor.preloadPaypal()})).then((function(){return e._store.getState()})).catch((function(t){return e._handleError(t)}))},t.prototype.execute=function(t,e){var n=this,r=t.payment,i=Object(d.__rest)(t,["payment"]);if(!r)throw new Ue(["payment"]);return(r?this._preparePaymentData(r,i.useStoreCredit):Promise.resolve(r)).then((function(t){return Promise.all([t,n._store.dispatch(n._orderActionCreator.submitOrder(i,e))])})).then((function(t){var e=t[0];return n._store.dispatch(n._paymentActionCreator.submitPayment(e))})).catch((function(t){return n._handleError(t)}))},t.prototype.finalize=function(){return Promise.reject(new Jt)},t.prototype.deinitialize=function(){var t=this;return this._braintreePaymentProcessor.deinitialize().then((function(){return t._store.getState()}))},t.prototype._handleError=function(t){if(!function(t){return"BraintreeError"===t.name}(t))throw t;if("PAYPAL_POPUP_CLOSED"===t.code)throw new xe(t.message);throw new An.a(t.message)},t.prototype._preparePaymentData=function(t,e){var n=this,r=this._store.getState(),i=r.checkout.getOutstandingBalance(e),o=r.config.getStoreConfig();if(!i)throw new v.b(v.a.MissingCheckout);if(!o)throw new v.b(v.a.MissingCheckoutConfig);if(!this._paymentMethod)throw new bt.b(bt.a.PaymentNotInitialized);var a=o.currency,s=o.storeProfile.storeLanguage,c=this._paymentMethod,u=c.nonce,p=c.config.isVaultingEnabled,h=t.paymentData,l=void 0===h?{}:h;if(u)return Promise.resolve(Object(d.__assign)(Object(d.__assign)({},t),{paymentData:this._formattedPayload(u)}));if(Object(be.a)(l)||Object(be.c)(l)){if(!p)throw new It.a("Vaulting is disabled but a vaulted instrument was being used for this transaction");return Promise.resolve(t)}if(l.shouldSaveInstrument&&!p)throw new It.a("Vaulting is disabled but shouldSaveInstrument is set to true");var m,f=r.shippingAddress.getShippingAddress(),_=f?{recipientName:(m=f).firstName+" "+m.lastName,line1:m.address1,line2:m.address2,city:m.city,state:m.stateOrProvinceCode,postalCode:m.postalCode,countryCode:m.countryCode,phone:m.phone}:void 0;return Promise.all([this._braintreePaymentProcessor.paypal({amount:i,locale:s,currency:a.code,offerCredit:this._credit,shippingAddressOverride:_,shouldSaveInstrument:l.shouldSaveInstrument||!1}),this._braintreePaymentProcessor.getSessionId()]).then((function(e){var r=e[0],i=void 0===r?{}:r,o=i.nonce,a=i.details,s=e[1];return Object(d.__assign)(Object(d.__assign)({},t),{paymentData:n._formattedPayload(o,a&&a.email,s,l.shouldSaveInstrument,l.shouldSetAsDefaultInstrument)})}))},t.prototype._formattedPayload=function(t,e,n,r,i){return{formattedPayload:{vault_payment_instrument:r||null,set_as_default_stored_instrument:i||null,device_info:n||null,paypal_account:{token:t,email:e||null}}}},t}(),jn=function(){function t(t,e,n,r,i,o,a,s){this._store=t,this._checkoutActionCreator=e,this._paymentMethodActionCreator=n,this._paymentStrategyActionCreator=r,this._paymentActionCreator=i,this._orderActionCreator=o,this._braintreeVisaCheckoutPaymentProcessor=a,this._visaCheckoutScriptLoader=s}return t.prototype.initialize=function(t){var e=this,n=t.braintreevisacheckout,r=t.methodId;if(!n)throw new It.a('Unable to initialize payment because "options.braintreevisacheckout" argument is not provided.');return this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(r)).then((function(t){e._paymentMethod=t.paymentMethods.getPaymentMethod(r);var i=t.checkout.getCheckout(),o=t.config.getStoreConfig();if(!i)throw new v.b(v.a.MissingCheckout);if(!o)throw new v.b(v.a.MissingCheckoutConfig);if(!e._paymentMethod||!e._paymentMethod.clientToken)throw new v.b(v.a.MissingPaymentMethod);var a=n.onError,s=void 0===a?function(){}:a,c=n.onPaymentSelect,u=void 0===c?function(){}:c,d={locale:o.storeProfile.storeLanguage,collectShipping:!1,subtotal:i.subtotal,currencyCode:o.currency.code};return Promise.all([e._visaCheckoutScriptLoader.load(e._paymentMethod.config.testMode),e._braintreeVisaCheckoutPaymentProcessor.initialize(e._paymentMethod.clientToken,d)]).then((function(t){var n=t[0],r=t[1];n.init(r),n.on("payment.success",(function(t){return e._paymentInstrumentSelected(t).then((function(){return u()})).catch((function(t){return s(t)}))})),n.on("payment.error",(function(t,e){return s(e)}))}))})).then((function(){return e._store.getState()}))},t.prototype.execute=function(t,e){var n=this,r=t.payment,i=Object(d.__rest)(t,["payment"]);if(!r)throw new It.a('Unable to submit payment because "payload.payment" argument is not provided.');if(!this._paymentMethod||!this._paymentMethod.initializationData||!this._paymentMethod.initializationData.nonce)throw new v.b(v.a.MissingPaymentMethod);var o=this._paymentMethod.initializationData.nonce;return this._store.dispatch(this._orderActionCreator.submitOrder(i,e)).then((function(){return n._store.dispatch(n._paymentActionCreator.submitPayment(Object(d.__assign)(Object(d.__assign)({},r),{paymentData:{nonce:o}})))})).catch((function(t){return n._handleError(t)}))},t.prototype.finalize=function(){return Promise.reject(new Jt)},t.prototype.deinitialize=function(){var t=this;return this._braintreeVisaCheckoutPaymentProcessor.deinitialize().then((function(){return t._store.getState()}))},t.prototype._paymentInstrumentSelected=function(t){var e=this,n=this._store.getState();if(!this._paymentMethod)throw new Error("Payment method not initialized");var r=this._paymentMethod.id;return this._store.dispatch(this._paymentStrategyActionCreator.widgetInteraction((function(){return e._braintreeVisaCheckoutPaymentProcessor.handleSuccess(t,n.shippingAddress.getShippingAddress(),n.billingAddress.getBillingAddress()).then((function(){return Promise.all([e._store.dispatch(e._checkoutActionCreator.loadCurrentCheckout()),e._store.dispatch(e._paymentMethodActionCreator.loadPaymentMethod(r))])}))}),{methodId:r}),{queueId:"widgetInteraction"})},t.prototype._handleError=function(t){if("BraintreeError"===t.name)throw new An.a(t.message);throw t},t}();var kn,Mn,Tn,Rn,Dn,zn,Ln,Nn=function(){function t(t,e,n){this._store=t,this._paymentActionCreator=e,this._cardinalClient=n}return t.prototype.prepare=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){return Object(d.__generator)(this,(function(e){switch(e.label){case 0:return[4,this._cardinalClient.load(t.id,t.config.testMode)];case 1:return e.sent(),[2]}}))}))},t.prototype.start=function(t,e,n,r){var i,o,a;return Object(d.__awaiter)(this,void 0,void 0,(function(){var s,c,u,p,h,l,m,f,_,y,g,b;return Object(d.__generator)(this,(function(d){switch(d.label){case 0:s=this._store.getState().instruments.getCardInstrument,c=e.payment,p=(u=void 0===c?{methodId:""}:c).paymentData,h=void 0===p?{}:p,d.label=1;case 1:return d.trys.push([1,3,,13]),[4,t(e,n)];case 2:return[2,d.sent()];case 3:return(l=d.sent())instanceof qe.a&&"additional_action_required"===l.body.status?(m=null===(o=null===(i=l.body.additional_action_required)||void 0===i?void 0:i.data)||void 0===o?void 0:o.token,f=null===(a=l.body.three_ds_result)||void 0===a?void 0:a.payer_auth_request,[4,this._cardinalClient.configure(m)]):[3,12];case 4:return d.sent(),(_=this._getBin(h,s,r))?[4,this._cardinalClient.runBinProcess(_)]:[3,6];case 5:d.sent(),d.label=6;case 6:return d.trys.push([6,8,,12]),[4,this._submitPayment(u,{xid:f},r)];case 7:return[2,d.sent()];case 8:return(y=d.sent())instanceof qe.a&&Object(Bt.some)(y.body.errors,{code:"three_d_secure_required"})?(g=y.body.three_ds_result,b=null==g?void 0:g.payer_auth_request,[4,this._cardinalClient.getThreeDSecureData(g,this._getOrderData())]):[3,11];case 9:return d.sent(),[4,this._submitPayment(u,{token:b},r)];case 10:return[2,d.sent()];case 11:throw y;case 12:throw l;case 13:return[2]}}))}))},t.prototype._getOrderData=function(){var t=this._store.getState(),e=t.billingAddress.getBillingAddressOrThrow(),n=t.shippingAddress.getShippingAddress(),r=t.checkout.getCheckoutOrThrow().cart,i=r.currency.code,o=r.cartAmount;return{billingAddress:e,shippingAddress:n,currencyCode:i,id:t.order.getOrderOrThrow().orderId.toString(),amount:o}},t.prototype._submitPayment=function(t,e,n){return Object(d.__awaiter)(this,void 0,void 0,(function(){var r;return Object(d.__generator)(this,(function(i){switch(i.label){case 0:return r=Object(Bt.merge)({},t,{paymentData:{threeDSecure:e}}),n?[3,2]:[4,this._store.dispatch(this._paymentActionCreator.submitPayment(r))];case 1:return[2,i.sent()];case 2:return[4,n.submit(r)];case 3:return i.sent(),[2,this._store.getState()]}}))}))},t.prototype._getBin=function(t,e,n){var r=Object(be.a)(t)&&e(t.instrumentId),i=function(t){var e=t;return!Object(be.a)(e)&&"string"==typeof e.ccName&&"string"==typeof e.ccNumber&&"object"==typeof e.ccExpiry&&"string"==typeof e.ccExpiry.month&&"string"==typeof e.ccExpiry.year}(t)&&t.ccNumber;return(r?r.iin:n?null==n?void 0:n.getBin():i)||""},t}(),Fn=[100004,1010,1011,1020];!function(t){t.Init="init",t.Complete="complete",t.Confirm="confirm"}(kn||(kn={})),function(t){t.SetupCompleted="payments.setupComplete",t.Validated="payments.validated"}(Mn||(Mn={})),function(t){t.Success="SUCCESS",t.NoAction="NOACTION",t.Failure="FAILURE",t.Error="ERROR"}(Tn||(Tn={})),function(t){t.CCA="CCA",t.Paypal="Paypal",t.Wallet="Wallet",t.VisaCheckout="VisaCheckout",t.ApplePay="ApplePay",t.DiscoverWallet="DiscoverWallet"}(Rn||(Rn={})),function(t){t.BinProcess="bin.process"}(Dn||(Dn={})),function(t){t.CCA="cca"}(zn||(zn={})),function(t){t.Yes="Y",t.No="N"}(Ln||(Ln={}));var qn,Un=function(){function t(t){this._scriptLoader=t,this._provider="",this._testMode=!1,this._configurationToken=""}return t.prototype.load=function(t,e){return void 0===e&&(e=!1),this._provider=t,this._testMode=e,this._sdk||(this._sdk=this._scriptLoader.load(t,e)),this._sdk.then((function(){}))},t.prototype.configure=function(t){var e=this;if(this._configurationToken){if(this._configurationToken===t)return Promise.resolve();this._sdk=this._scriptLoader.load(this._provider+"."+Date.now(),this._testMode)}return this._getClientSDK().then((function(n){return new Promise((function(r,i){n.on(Mn.SetupCompleted,(function(){n.off(Mn.SetupCompleted),n.off(Mn.Validated),e._configurationToken=t,r()})),n.on(Mn.Validated,(function(t){switch(n.off(Mn.SetupCompleted),n.off(Mn.Validated),t.ActionCode){case Tn.Error:Object(Bt.includes)(Fn,t.ErrorNumber)&&i(new v.b(v.a.MissingPaymentMethod)),i(new An.a(t.ErrorDescription))}})),n.setup(kn.Init,{jwt:t})}))}))},t.prototype.runBinProcess=function(t){return this._getClientSDK().then((function(e){return e.trigger(Dn.BinProcess,t).catch((function(){}))})).then((function(t){if(!t||!t.Status)throw new bt.b(bt.a.PaymentNotInitialized)}))},t.prototype.getThreeDSecureData=function(t,e){var n=this;return this._getClientSDK().then((function(r){return new Promise((function(i,o){r.on(Mn.Validated,(function(t,e){if(r.off(Mn.Validated),!e)return o(new An.a(t.ErrorDescription?t.ErrorDescription:"An error was encountered while processing the transaction."));if(!t.ActionCode)return i({token:e});switch(t.ActionCode){case Tn.Success:return i({token:e});case Tn.NoAction:return t.ErrorNumber>0?o(new An.a(t.ErrorDescription)):t.Payment&&t.Payment.ExtendedData&&t.Payment.ExtendedData.SignatureVerification===Ln.Yes?i({token:e}):o(new An.a("Transaction signature could not be validated."));case Tn.Failure:return o(new An.a("User failed authentication or an error was encountered while processing the transaction."));case Tn.Error:return o(new An.a(t.ErrorDescription))}}));var a={AcsUrl:t.acs_url,Payload:t.merchant_data},s=n._mapToPartialOrder(e,t.payer_auth_request);r.continue(zn.CCA,a,s)}))}))},t.prototype._mapToPartialOrder=function(t,e){var n={BillingAddress:this._mapToCardinalAddress(t.billingAddress)};return t.paymentData&&(n.Account=this._mapToCardinalAccount(t.paymentData)),t.billingAddress.email&&(n.Email1=t.billingAddress.email),t.shippingAddress&&(n.ShippingAddress=this._mapToCardinalAddress(t.shippingAddress)),{Consumer:n,OrderDetails:{OrderNumber:t.id,Amount:t.amount,CurrencyCode:t.currencyCode,OrderChannel:"S",TransactionId:e}}},t.prototype._mapToCardinalAccount=function(t){return{AccountNumber:Number(t.ccNumber),ExpirationMonth:Number(t.ccExpiry.month),ExpirationYear:Number(t.ccExpiry.year),NameOnAccount:t.ccName,CardCode:Number(t.ccCvv)}},t.prototype._mapToCardinalAddress=function(t){var e={FirstName:t.firstName,LastName:t.lastName,Address1:t.address1,City:t.city,State:t.stateOrProvince,PostalCode:t.postalCode,CountryCode:t.countryCode};return t.address2&&(e.Address2=t.address2),t.phone&&(e.Phone1=t.phone),e},t.prototype._getClientSDK=function(){if(!this._sdk)throw new bt.b(bt.a.PaymentNotInitialized);return this._sdk},t}(),xn=function(){function t(t,e){void 0===e&&(e=window),this._scriptLoader=t,this._window=e}return t.prototype.load=function(t,e){var n=this,r=e?"https://songbirdstag.cardinalcommerce.com/edge/v1/songbird.js":"https://songbird.cardinalcommerce.com/edge/v1/songbird.js";return this._scriptLoader.loadScript(r+"?v="+t).then((function(){if(!n._window.Cardinal)throw new $.a;return n._window.Cardinal}))},t}(),Bn=function(){function t(t,e,n,r){this._store=t,this._paymentActionCreator=e,this._paymentMethodActionCreator=n,this._cardinalClient=r}return t.prototype.prepare=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(d.__generator)(this,(function(r){switch(r.label){case 0:return[4,this._cardinalClient.load(t.id,t.config.testMode)];case 1:return r.sent(),n=(e=this._cardinalClient).configure,[4,this._getClientToken(t)];case 2:return[4,n.apply(e,[r.sent()])];case 3:return r.sent(),[2]}}))}))},t.prototype.start=function(t,e,n,r){return Object(d.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,c,u,p,h,l,m,f,_,y;return Object(d.__generator)(this,(function(d){switch(d.label){case 0:return i=this._store.getState(),o=i.instruments.getCardInstrument,a=i.paymentMethods.getPaymentMethodOrThrow,s=e.payment,u=(c=void 0===s?{}:s).methodId,p=void 0===u?"":u,h=c.paymentData,l=void 0===h?{}:h,m=Object(be.a)(l)&&o(l.instrumentId),(f=m?m.iin:r&&r.getBin())?[4,this._cardinalClient.runBinProcess(f)]:[3,2];case 1:d.sent(),d.label=2;case 2:return d.trys.push([2,4,,9]),[4,t(Object(Bt.merge)(e,{payment:{paymentData:{threeDSecure:{token:a(p).clientToken}}}}),n)];case 3:return[2,d.sent()];case 4:if(!((_=d.sent())instanceof qe.a&&Object(Bt.some)(_.body.errors,{code:"three_d_secure_required"})))throw _;return[4,this._cardinalClient.getThreeDSecureData(_.body.three_ds_result,this._getOrderData())];case 5:return y=d.sent(),r?[3,7]:[4,this._store.dispatch(this._paymentActionCreator.submitPayment(Object(Bt.merge)(e.payment,{paymentData:{threeDSecure:y}})))];case 6:return[2,d.sent()];case 7:return[4,r.submit(Object(Bt.merge)(e.payment,{paymentData:{threeDSecure:y}}))];case 8:return d.sent(),[2,this._store.getState()];case 9:return[2]}}))}))},t.prototype._getClientToken=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){return Object(d.__generator)(this,(function(e){switch(e.label){case 0:return t.clientToken?[2,t.clientToken]:[4,this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(t.id))];case 1:return[2,(0,e.sent().paymentMethods.getPaymentMethodOrThrow)(t.id).clientToken||""]}}))}))},t.prototype._getOrderData=function(){var t=this._store.getState(),e=t.billingAddress.getBillingAddressOrThrow(),n=t.shippingAddress.getShippingAddress(),r=t.checkout.getCheckoutOrThrow(),i=t.order.getOrderOrThrow();return{billingAddress:e,shippingAddress:n,currencyCode:r.cart.currency.code,id:i.orderId.toString(),amount:r.cart.cartAmount}},t}();!function(t){t.StartCheckout="startCheckout",t.CompleteCheckout="completeCheckout",t.CancelCheckout="cancelCheckout"}(qn||(qn={}));var Gn,Vn,Yn=function(){function t(t,e,n,r,i,o,a,s,c){this._store=t,this._checkoutActionCreator=e,this._orderActionCreator=n,this._paymentActionCreator=r,this._paymentMethodActionCreator=i,this._paymentStrategyActionCreator=o,this._requestSender=a,this._chasePayScriptLoader=s,this._wepayRiskClient=c,this._walletEvent$=new b.Subject}return t.prototype.initialize=function(t){var e=this;if(this._methodId=t.methodId,!t.chasepay)throw new It.a('Unable to initialize payment because "options.chasepay" argument is not provided.');var n=t.chasepay.walletButton&&document.getElementById(t.chasepay.walletButton);return n&&(this._walletButton=n,this._walletButton.addEventListener("click",this._handleWalletButtonClick)),this._configureWallet(t.chasepay).then((function(){return e._store.getState()}))},t.prototype.deinitialize=function(){return this._walletButton&&this._walletButton.removeEventListener("click",this._handleWalletButtonClick),this._walletButton=void 0,this._chasePayClient=void 0,Promise.resolve(this._store.getState())},t.prototype.execute=function(t,e){var n=this;return this._getPayment().catch((function(t){if(t.subtype===v.a.MissingPayment)return n._displayWallet().then((function(){return n._getPayment()}));throw t})).then((function(r){return n._createOrder(r,t.useStoreCredit,e)}))},t.prototype.finalize=function(){return Promise.reject(new Jt)},t.prototype._configureWallet=function(t){var e=this,n=this._store.getState(),r=n.paymentMethods.getPaymentMethod(this._methodId),i=n.config.getStoreConfig();if(!r)throw new v.b(v.a.MissingPaymentMethod);if(!i)throw new v.b(v.a.MissingCheckoutConfig);return this._chasePayScriptLoader.load(r.config.testMode).then((function(n){var r=n.ChasePay;e._chasePayClient=r,t.logoContainer&&document.getElementById(t.logoContainer)&&e._chasePayClient.insertBrandings({color:"white",containers:[t.logoContainer]}),e._chasePayClient.configure({language:i.storeProfile.storeLanguage}),e._chasePayClient.on(qn.CancelCheckout,(function(){e._walletEvent$.next({type:qn.CancelCheckout}),t.onCancel&&t.onCancel()})),e._chasePayClient.on(qn.CompleteCheckout,(function(n){e._setSessionToken(n.sessionToken).then((function(){e._walletEvent$.next({type:qn.CompleteCheckout}),t.onPaymentSelect&&t.onPaymentSelect()}))}))}))},t.prototype._displayWallet=function(){var t=this;return this._store.dispatch(this._paymentStrategyActionCreator.widgetInteraction((function(){return t._store.dispatch(t._paymentMethodActionCreator.loadPaymentMethod(t._methodId)).then((function(e){var n=e.paymentMethods.getPaymentMethod(t._methodId);if(!t._chasePayClient)throw new bt.b(bt.a.PaymentNotInitialized);if(!n)throw new v.b(v.a.MissingPaymentMethod);t._chasePayClient.showLoadingAnimation(),t._chasePayClient.startCheckout(n.initializationData.digitalSessionId)})),new Promise((function(e,n){t._walletEvent$.pipe(Object(M.take)(1)).subscribe((function(t){t.type===qn.CancelCheckout?n(new xe):t.type===qn.CompleteCheckout&&e()}))}))}),{methodId:this._methodId}),{queueId:"widgetInteraction"})},t.prototype._setSessionToken=function(t){var e=this,n=this._store.getState().paymentMethods.getPaymentMethod(this._methodId),r=n&&n.initializationData.merchantRequestId;return this._requestSender.post("checkout.php",{headers:{Accept:"text/html","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:{action:"set_external_checkout",provider:this._methodId,sessionToken:t,merchantRequestId:r}}).then((function(){return Promise.all([e._store.dispatch(e._checkoutActionCreator.loadCurrentCheckout()),e._store.dispatch(e._paymentMethodActionCreator.loadPaymentMethod(e._methodId))])})).then((function(){return e._store.getState()}))},t.prototype._getPayment=function(){var t=this;return this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(this._methodId)).then((function(){return"wepay"===t._methodId?t._wepayRiskClient.initialize().then((function(t){return t.getRiskToken()})):""})).then((function(e){var n=t._store.getState().paymentMethods.getPaymentMethod(t._methodId);if(!n)throw new v.b(v.a.MissingPaymentMethod);if(!n.initializationData.paymentCryptogram)throw new v.b(v.a.MissingPayment);var r={method:t._methodId,cryptogramId:n.initializationData.paymentCryptogram,eci:n.initializationData.eci,transactionId:btoa(n.initializationData.reqTokenId),ccExpiry:{month:n.initializationData.expDate.toString().substr(0,2),year:n.initializationData.expDate.toString().substr(2,2)},ccNumber:n.initializationData.accountNum,accountMask:n.initializationData.accountMask,extraData:e?{riskToken:e}:void 0};return{methodId:t._methodId,paymentData:r}}))},t.prototype._createOrder=function(t,e,n){var r=this;return this._store.dispatch(this._orderActionCreator.submitOrder({useStoreCredit:e},n)).then((function(){return r._store.dispatch(r._paymentActionCreator.submitPayment(t))}))},t.prototype._handleWalletButtonClick=function(t){t.preventDefault(),this._displayWallet()},Object(d.__decorate)([Dt.a],t.prototype,"_handleWalletButtonClick",null),t}(),Hn=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,r,i)||this;return a._formPoster=o,a}return Object(d.__extends)(e,t),e.prototype.execute=function(e,n){var r=this;return t.prototype.execute.call(this,e,n).catch((function(t){return t instanceof qe.a&&Object(Bt.some)(t.body.errors,{code:"three_d_secure_required"})?new Promise((function(){r._formPoster.postForm(t.body.three_ds_result.acs_url,{PaReq:t.body.three_ds_result.payer_auth_request,TermUrl:t.body.three_ds_result.callback_url,MD:t.body.three_ds_result.merchant_data})})):Promise.reject(t)}))},e.prototype.finalize=function(t){var e=this._store.getState(),n=e.order.getOrder();return n&&e.payment.getPaymentStatus()===mn.b?this._store.dispatch(this._orderActionCreator.finalizeOrder(n.orderId,t)):Promise.reject(new Jt)},e}(hn),Wn=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,r,i)||this;return a._store=e,a._orderActionCreator=n,a._paymentActionCreator=r,a._hostedFormFactory=i,a._formPoster=o,a}return Object(d.__extends)(e,t),e.prototype.finalize=function(t){var e=this._store.getState(),n=e.order.getOrder();return n&&e.payment.getPaymentStatus()===mn.b?this._store.dispatch(this._orderActionCreator.finalizeOrder(n.orderId,t)):Promise.reject(new Jt)},e.prototype._executeWithoutHostedForm=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a=this;return Object(d.__generator)(this,(function(s){switch(s.label){case 0:if(n=t.payment,r=Object(d.__rest)(t,["payment"]),i=n&&n.paymentData,!n||!i)throw new Ue(["payment.paymentData"]);return[4,this._store.dispatch(this._orderActionCreator.submitOrder(r,e))];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this._store.dispatch(this._paymentActionCreator.submitPayment(Object(d.__assign)(Object(d.__assign)({},n),{paymentData:i})))];case 3:return[2,s.sent()];case 4:return(o=s.sent())instanceof qe.a&&Object(Bt.some)(o.body.errors,{code:"three_d_secure_required"})?[2,new Promise((function(){return a._formPoster.postForm(o.body.three_ds_result.acs_url,{PaReq:o.body.three_ds_result.payer_auth_request||null,TermUrl:o.body.three_ds_result.callback_url||null,MD:o.body.three_ds_result.merchant_data||null})}))]:[2,Promise.reject(o)];case 5:return[2]}}))}))},e.prototype._executeWithHostedForm=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a=this;return Object(d.__generator)(this,(function(s){switch(s.label){case 0:if(n=t.payment,r=Object(d.__rest)(t,["payment"]),!(i=this._hostedForm))throw new bt.b(bt.a.PaymentNotInitialized);if(!n||!n.methodId)throw new Ue(["payment.methodId"]);s.label=1;case 1:return s.trys.push([1,5,,6]),[4,i.validate()];case 2:return s.sent(),[4,this._store.dispatch(this._orderActionCreator.submitOrder(r,e))];case 3:return s.sent(),[4,i.submit(n)];case 4:return s.sent(),[3,6];case 5:return(o=s.sent())instanceof qe.a&&Object(Bt.some)(o.body.errors,{code:"three_d_secure_required"})?[2,new Promise((function(){return a._formPoster.postForm(o.body.three_ds_result.acs_url,{PaReq:o.body.three_ds_result.payer_auth_request||null,TermUrl:o.body.three_ds_result.callback_url||null,MD:o.body.three_ds_result.merchant_data||null})}))]:[2,Promise.reject(o)];case 6:return[4,this._store.dispatch(this._orderActionCreator.loadCurrentOrder())];case 7:return[2,s.sent()]}}))}))},e}(hn),Kn=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,r,i)||this;return a._threeDSecureFlow=o,a}return Object(d.__extends)(e,t),e.prototype.initialize=function(e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(d.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this._store.getState().paymentMethods.getPaymentMethodOrThrow,(r=n(e.methodId)).config.is3dsEnabled?[4,this._threeDSecureFlow.prepare(r)]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2,this._store.getState()]}}))}))},e.prototype.execute=function(e,n){return Object(d.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return Object(d.__generator)(this,(function(a){return r=e.payment,i=(void 0===r?{}:r).methodId,o=void 0===i?"":i,(0,this._store.getState().paymentMethods.getPaymentMethodOrThrow)(o).config.is3dsEnabled?[2,this._threeDSecureFlow.start(t.prototype.execute.bind(this),e,n,this._hostedForm)]:[2,t.prototype.execute.call(this,e,n)]}))}))},e}(hn),Jn=function(){function t(t,e,n,r){this._store=t,this._orderActionCreator=e,this._paymentActionCreator=n,this._formPoster=r}return t.prototype.execute=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a=this;return Object(d.__generator)(this,(function(s){switch(s.label){case 0:if(n=t.payment,r=Object(d.__rest)(t,["payment"]),i=n&&n.paymentData,!n||!i)throw new Ue(["payment.paymentData"]);return[4,this._store.dispatch(this._orderActionCreator.submitOrder(r,e))];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this._store.dispatch(this._paymentActionCreator.submitPayment(Object(d.__assign)(Object(d.__assign)({},n),{paymentData:i})))];case 3:return[2,s.sent()];case 4:return o=s.sent(),this._isAdditionalActionRequired(o)?[2,new Promise((function(){a._formPoster.postForm(o.body.additional_action_required.data.redirect_url,{})}))]:[2,Promise.reject(o)];case 5:return[2]}}))}))},t.prototype.finalize=function(){return Promise.reject(new Jt)},t.prototype.initialize=function(){return Promise.resolve(this._store.getState())},t.prototype.deinitialize=function(){return Promise.resolve(this._store.getState())},t.prototype._isAdditionalActionRequired=function(t){var e=t.body,n=e.additional_action_required;return"additional_action_required"===e.status&&n&&"offsite_redirect"===n.type},t}(),Zn=function(){function t(t,e,n,r,i,o,a,s){this._store=t,this._checkoutActionCreator=e,this._paymentMethodActionCreator=n,this._paymentStrategyActionCreator=r,this._paymentActionCreator=i,this._orderActionCreator=o,this._googlePayPaymentProcessor=a,this._googlePayAdyenV2PaymentProcessor=s}return t.prototype.initialize=function(t){var e=this;return this._methodId=t.methodId,this._googlePayPaymentProcessor.initialize(this._methodId).then((function(){if(e._googlePayOptions=e._getGooglePayOptions(t),!e._googlePayOptions)throw new It.a('Unable to initialize payment because "options.googlepay" argument is not provided.');var n=e._googlePayOptions.walletButton&&document.getElementById(e._googlePayOptions.walletButton);return n&&(e._walletButton=n,e._walletButton.addEventListener("click",e._handleWalletButtonClick)),e._store.getState()}))},t.prototype.deinitialize=function(){var t=this;return this._walletButton&&this._walletButton.removeEventListener("click",this._handleWalletButtonClick),this._walletButton=void 0,this._googlePayPaymentProcessor.deinitialize().then((function(){return t._store.getState()}))},t.prototype.execute=function(t,e){var n=this;if(!this._googlePayOptions)throw new It.a('Unable to initialize payment because "options.googlepay" argument is not provided.');var r=this._googlePayOptions,i=r.onError,o=void 0===i?function(){}:i,a=r.onPaymentSelect,s=void 0===a?function(){}:a;return Promise.resolve(this._getPayment()).then((function(t){return t.paymentData.nonce&&t.paymentData.cardInformation?t:n._googlePayPaymentProcessor.displayWallet().then((function(t){return n._paymentInstrumentSelected(t)})).then((function(){return s()})).then((function(){return n._getPayment()})).catch((function(t){"CANCELED"!==t.statusCode&&o(t)}))})).then((function(){return n._store.dispatch(n._orderActionCreator.submitOrder({useStoreCredit:t.useStoreCredit},e)).then((function(){return n._store.dispatch(n._paymentActionCreator.submitPayment(n._getPayment()))})).catch((function(t){var e;return(null===(e=n._googlePayAdyenV2PaymentProcessor)||void 0===e?void 0:e.processAdditionalAction(t))||Promise.reject(t)}))}))},t.prototype.finalize=function(){return Promise.reject(new Jt)},t.prototype._getGooglePayOptions=function(t){if("googlepayadyenv2"===t.methodId&&t.googlepayadyenv2){if(!this._googlePayAdyenV2PaymentProcessor)throw new bt.b(bt.a.PaymentNotInitialized);return this._googlePayAdyenV2PaymentProcessor.initialize(t),t.googlepayadyenv2}if("googlepayauthorizenet"===t.methodId&&t.googlepayauthorizenet)return t.googlepayauthorizenet;if("googlepaycheckoutcom"===t.methodId&&t.googlepaycheckoutcom)return t.googlepaycheckoutcom;if("googlepaybraintree"===t.methodId&&t.googlepaybraintree)return t.googlepaybraintree;if("googlepaystripe"===t.methodId&&t.googlepaystripe)return t.googlepaystripe;throw new It.a},t.prototype._getPayment=function(){if(!this._methodId)throw new bt.b(bt.a.PaymentNotInitialized);var t,e=this._store.getState().paymentMethods.getPaymentMethod(this._methodId);if(!e)throw new v.b(v.a.MissingPaymentMethod);if(!e.initializationData.nonce)throw new v.b(v.a.MissingPayment);t="googlepayadyenv2"===this._methodId?JSON.stringify({type:Le.GooglePay,googlePayToken:e.initializationData.nonce,browser_info:Re()}):e.initializationData.nonce;var n={method:this._methodId,nonce:t,cardInformation:e.initializationData.card_information};return{methodId:this._methodId,paymentData:n}},t.prototype._handleWalletButtonClick=function(t){var e=this;if(t.preventDefault(),!this._methodId||!this._googlePayOptions)throw new bt.b(bt.a.PaymentNotInitialized);var n=this._googlePayOptions,r=n.onError,i=void 0===r?function(){}:r,o=n.onPaymentSelect,a=void 0===o?function(){}:o;return this._store.dispatch(this._paymentStrategyActionCreator.widgetInteraction((function(){return e._googlePayPaymentProcessor.displayWallet().then((function(t){return e._paymentInstrumentSelected(t)})).then((function(){return a()})).catch((function(t){"CANCELED"!==t.statusCode&&i(t)}))}),{methodId:this._methodId}),{queueId:"widgetInteraction"})},t.prototype._paymentInstrumentSelected=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){var e;return Object(d.__generator)(this,(function(n){switch(n.label){case 0:if(!this._methodId)throw new bt.b(bt.a.PaymentNotInitialized);return e=this._methodId,[4,this._googlePayPaymentProcessor.handleSuccess(t)];case 1:return n.sent(),[4,Promise.all([this._store.dispatch(this._checkoutActionCreator.loadCurrentCheckout()),this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(e))])];case 2:return[2,n.sent()]}}))}))},Object(d.__decorate)([Dt.a],t.prototype,"_handleWalletButtonClick",null),t}(),Qn=function(){function t(t,e,n){this._store=t,this._paymentActionCreator=e,this._scriptLoader=n}return t.prototype.initialize=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,o,a;return Object(d.__generator)(this,(function(s){switch(s.label){case 0:if(e=this._store.getState(),n=e.paymentMethods.getPaymentMethodOrThrow(t.methodId),!(r=e.config.getStoreConfig()))throw new v.b(v.a.MissingCheckoutConfig);return i={key:"",value:""},n.initializationData.originKey?(i.key="originKey",i.value=n.initializationData.originKey):(i.key="clientKey",i.value=n.initializationData.clientKey),o=this,[4,this._scriptLoader.load((a={environment:n.config.testMode?"TEST":" PRODUCTION",locale:r.storeProfile.storeLanguage},a[i.key]=i.value,a.paymentMethodsResponse=n.initializationData.paymentMethodsResponse,a))];case 1:return o._adyenClient=s.sent(),[2]}}))}))},t.prototype.processAdditionalAction=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(d.__generator)(this,(function(r){switch(r.label){case 0:return t instanceof qe.a&&Object(Bt.some)(t.body.errors,{code:"additional_action_required"})?[4,this._handleAction(t.body.provider_data)]:[2,Promise.reject(t)];case 1:e=r.sent(),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,this._store.dispatch(this._paymentActionCreator.submitPayment(Object(d.__assign)(Object(d.__assign)({},e),{paymentData:Object(d.__assign)({},e.paymentData)})))];case 3:return[2,r.sent()];case 4:return n=r.sent(),[2,this.processAdditionalAction(n)];case 5:return[2]}}))}))},t.prototype._handleAction=function(t){var e=this;return new Promise((function(n,r){var i=JSON.parse(t.action);e._getAdyenClient().createFromAction(i,{onAdditionalDetails:function(t){var e={methodId:i.paymentMethodType,paymentData:{nonce:JSON.stringify(t.data)}};n(e)},size:"05",onError:function(t){return r(t)}}).mount("body"),r(new xe)}))},t.prototype._getAdyenClient=function(){if(!this._adyenClient)throw new bt.b(bt.a.PaymentNotInitialized);return this._adyenClient},t}(),Xn=["AT","CH","DE","DK","ES","FI","GB","NL","NO","NZ","SE"],$n=["AU"],tr=function(){function t(t,e,n,r,i){this._store=t,this._orderActionCreator=e,this._paymentMethodActionCreator=n,this._remoteCheckoutActionCreator=r,this._klarnaScriptLoader=i}return t.prototype.initialize=function(t){var e=this;return this._klarnaScriptLoader.load().then((function(t){e._klarnaCredit=t})).then((function(){return e._unsubscribe=e._store.subscribe((function(n){n.paymentStrategies.isInitialized(t.methodId)&&e._loadWidget(t)}),(function(t){var e=t.checkout.getCheckout();return e&&e.outstandingBalance}),(function(t){var e=t.checkout.getCheckout();return e&&e.coupons})),e._loadWidget(t)})).then((function(){return e._store.getState()}))},t.prototype.deinitialize=function(){return this._unsubscribe&&this._unsubscribe(),Promise.resolve(this._store.getState())},t.prototype.execute=function(t,e){var n=this;if(!t.payment)throw new It.a('Unable to proceed because "payload.payment" argument is not provided.');var r=t.payment,i=(r.paymentData,Object(d.__rest)(r,["paymentData"]));return this._authorize().then((function(t){var e=t.authorization_token;return n._store.dispatch(n._remoteCheckoutActionCreator.initializePayment(i.methodId,{authorizationToken:e}))})).then((function(){return n._store.dispatch(n._orderActionCreator.submitOrder(Object(d.__assign)(Object(d.__assign)({},t),{payment:i,useStoreCredit:t.useStoreCredit}),e))}))},t.prototype.finalize=function(){return Promise.reject(new Jt)},t.prototype._loadWidget=function(t){var e=this;if(!t.klarna)throw new It.a('Unable to load widget because "options.klarna" argument is not provided.');var n=t.methodId,r=t.klarna,i=r.container,o=r.onLoad;return this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(n)).then((function(t){return new Promise((function(r){var a=t.paymentMethods.getPaymentMethod(n);if(!a)throw new v.b(v.a.MissingPaymentMethod);if(!e._klarnaCredit||!a.clientToken)throw new bt.b(bt.a.PaymentNotInitialized);e._klarnaCredit.init({client_token:a.clientToken}),e._klarnaCredit.load({container:i},(function(t){o&&o(t),r(t)}))}))}))},t.prototype._getUpdateSessionData=function(t,e){if(!Object(Bt.includes)(Object(d.__spreadArrays)(Xn,$n),t.countryCode))return{};var n={billing_address:this._mapToKlarnaAddress(t,t.email)};return e&&(n.shipping_address=this._mapToKlarnaAddress(e,t.email)),n},t.prototype._needsStateCode=function(t){return Object(Bt.includes)($n,t)},t.prototype._mapToKlarnaAddress=function(t,e){var n={street_address:t.address1,city:t.city,country:t.countryCode,given_name:t.firstName,family_name:t.lastName,postal_code:t.postalCode,region:this._needsStateCode(t.countryCode)?t.stateOrProvinceCode:t.stateOrProvince,email:e};return t.address2&&(n.street_address2=t.address2),t.phone&&(n.phone=t.phone),n},t.prototype._authorize=function(){var t=this;return new Promise((function(e,n){var r=t._store.getState().billingAddress.getBillingAddress(),i=t._store.getState().shippingAddress.getShippingAddress();if(!r)throw new v.b(v.a.MissingBillingAddress);if(!t._klarnaCredit)throw new bt.b(bt.a.PaymentNotInitialized);var o=t._getUpdateSessionData(r,i);t._klarnaCredit.authorize(o,(function(t){return t.approved?e(t):t.show_form?n(new xe):void n(new We.a)}))}))},t}(),er=function(){function t(t){this._scriptLoader=t}return t.prototype.load=function(){return this._scriptLoader.loadScript("//credit.klarnacdn.net/lib/v1/api.js").then((function(){return window.Klarna.Credit}))},t}(),nr=function(){function t(t,e,n,r,i){this._store=t,this._orderActionCreator=e,this._paymentMethodActionCreator=n,this._remoteCheckoutActionCreator=r,this._klarnav2ScriptLoader=i}return t.prototype.initialize=function(t){var e=this;return this._klarnav2ScriptLoader.load().then((function(t){e._klarnaPayments=t})).then((function(){return e._unsubscribe=e._store.subscribe((function(n){n.paymentStrategies.isInitialized(t.methodId)&&e._loadPaymentsWidget(t)}),(function(t){var e=t.checkout.getCheckout();return e&&e.outstandingBalance}),(function(t){var e=t.checkout.getCheckout();return e&&e.coupons})),e._loadPaymentsWidget(t)})).then((function(){return e._store.getState()}))},t.prototype.deinitialize=function(){return this._unsubscribe&&this._unsubscribe(),Promise.resolve(this._store.getState())},t.prototype.execute=function(t,e){var n=this;if(!t.payment)throw new It.a('Unable to proceed because "payload.payment" argument is not provided.');var r=t.payment,i=(r.paymentData,Object(d.__rest)(r,["paymentData"])),o=i.gatewayId;if(!o)throw new It.a('Unable to proceed because "payload.payment.gatewayId" argument is not provided.');return this._authorize(i.methodId).then((function(t){var e=t.authorization_token;return n._store.dispatch(n._remoteCheckoutActionCreator.initializePayment(o,{authorizationToken:e}))})).then((function(){return n._store.dispatch(n._orderActionCreator.submitOrder(Object(d.__assign)(Object(d.__assign)({},t),{payment:i,useStoreCredit:t.useStoreCredit}),e))}))},t.prototype.finalize=function(){return Promise.reject(new Jt)},t.prototype._loadPaymentsWidget=function(t){var e=this;if(!t.klarnav2)throw new It.a('Unable to load widget because "options.klarnav2" argument is not provided.');var n=t.methodId,r=t.gatewayId,i=t.klarnav2,o=i.container,a=i.onLoad,s=this._store.getState();if(!r)throw new It.a('Unable to proceed because "payload.payment.gatewayId" argument is not provided.');return this._updateOrder(r).then((function(){return new Promise((function(t){var r=s.paymentMethods.getPaymentMethodOrThrow(n);if(!e._klarnaPayments||!r.clientToken)throw new bt.b(bt.a.PaymentNotInitialized);e._klarnaPayments.init({client_token:r.clientToken}),e._klarnaPayments.load({container:o,payment_method_category:r.id},(function(e){a&&a(e),t(e)}))}))}))},t.prototype._getUpdateSessionData=function(t,e){if(!Object(Bt.includes)(Object(d.__spreadArrays)(Xn,$n),t.countryCode))return{};var n={billing_address:this._mapToKlarnaAddress(t,t.email)};return e&&(n.shipping_address=this._mapToKlarnaAddress(e,t.email)),n},t.prototype._needsStateCode=function(t){return Object(Bt.includes)($n,t)},t.prototype._mapToKlarnaAddress=function(t,e){var n={street_address:t.address1,city:t.city,country:t.countryCode,given_name:t.firstName,family_name:t.lastName,postal_code:t.postalCode,region:this._needsStateCode(t.countryCode)?t.stateOrProvinceCode:t.stateOrProvince,email:e};return t.address2&&(n.street_address2=t.address2),t.phone&&(n.phone=t.phone),n},t.prototype._updateOrder=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){return Object(d.__generator)(this,(function(e){switch(e.label){case 0:return[4,this._paymentMethodActionCreator.loadPaymentMethod(t).toPromise()];case 1:return e.sent(),[2]}}))}))},t.prototype._authorize=function(t){var e=this;return new Promise((function(n,r){var i=e._store.getState().billingAddress.getBillingAddress(),o=e._store.getState().shippingAddress.getShippingAddress();if(!i)throw new v.b(v.a.MissingBillingAddress);var a=e._getUpdateSessionData(i,o);if(!e._klarnaPayments)throw new bt.b(bt.a.PaymentNotInitialized);e._klarnaPayments.authorize({payment_method_category:t},a,(function(t){return t.approved?n(t):t.show_form?r(new xe):void r(new We.a)}))}))},t}(),rr=function(){function t(t){this._scriptLoader=t}return t.prototype.load=function(){return this._scriptLoader.loadScript("https://x.klarnacdn.net/kp/lib/v1/api.js").then((function(){return window.Klarna.Payments}))},t}(),ir=function(){function t(t,e){this._store=t,this._orderActionCreator=e}return t.prototype.execute=function(t,e){return this._store.dispatch(this._orderActionCreator.submitOrder(t,e))},t.prototype.finalize=function(){return Promise.reject(new Jt)},t.prototype.initialize=function(){return Promise.resolve(this._store.getState())},t.prototype.deinitialize=function(){return Promise.resolve(this._store.getState())},t}(),or=function(){function t(t,e,n,r){this._store=t,this._orderActionCreator=e,this._paymentActionCreator=n,this._masterpassScriptLoader=r}return t.prototype.initialize=function(t){var e=this,n=t.methodId;if(this._paymentMethod=this._store.getState().paymentMethods.getPaymentMethod(n),!this._paymentMethod)throw new v.b(v.a.MissingPaymentMethod);return this._masterpassScriptLoader.load(this._paymentMethod.config.testMode).then((function(n){if(e._masterpassClient=n,!t.masterpass)throw new It.a('Unable to initialize payment because "options.masterpass" argument is not provided.');var r=t.masterpass.walletButton&&document.getElementById(t.masterpass.walletButton);return r&&(e._walletButton=r,e._walletButton.addEventListener("click",e._handleWalletButtonClick)),e._store.getState()}))},t.prototype.deinitialize=function(){return this._paymentMethod=void 0,this._walletButton&&this._walletButton.removeEventListener("click",this._handleWalletButtonClick),this._walletButton=void 0,this._masterpassClient=void 0,Promise.resolve(this._store.getState())},t.prototype.execute=function(t,e){var n=this,r=t.payment,i={useStoreCredit:t.useStoreCredit};if(!r)throw new It.a('Unable to submit payment because "payload.payment" argument is not provided.');if(!this._paymentMethod||!this._paymentMethod.initializationData||!this._paymentMethod.initializationData.gateway)throw new v.b(v.a.MissingPaymentMethod);var o=this._paymentMethod.initializationData.paymentData;if(!o)throw new It.a('Unable to proceed because "paymentMethod.initializationData.paymentData" argument is not provided.');return this._store.dispatch(this._orderActionCreator.submitOrder(i,e)).then((function(){return n._store.dispatch(n._paymentActionCreator.submitPayment(Object(d.__assign)(Object(d.__assign)({},r),{paymentData:o})))}))},t.prototype.finalize=function(){return Promise.reject(new Jt)},t.prototype._createMasterpassPayload=function(){var t=this._store.getState(),e=t.checkout.getCheckout(),n=t.config.getStoreConfig();if(!e)throw new v.b(v.a.MissingCheckout);if(!n)throw new v.b(v.a.MissingCheckoutConfig);if(!this._paymentMethod||!this._paymentMethod.initializationData)throw new v.b(v.a.MissingPaymentMethod);return{checkoutId:this._paymentMethod.initializationData.checkoutId,allowedCardTypes:this._paymentMethod.initializationData.allowedCardTypes,amount:e.subtotal.toFixed(2),currency:n.currency.code,cartId:e.cart.id,suppressShippingAddress:!1,callbackUrl:Object(Lt.a)("checkout")}},t.prototype._handleWalletButtonClick=function(t){if(t.preventDefault(),this._masterpassClient){var e=this._createMasterpassPayload();this._masterpassClient.checkout(e)}},Object(d.__decorate)([Dt.a],t.prototype,"_handleWalletButtonClick",null),t}(),ar=function(){function t(t,e){this._store=t,this._orderActionCreator=e}return t.prototype.execute=function(t,e){return this._store.dispatch(this._orderActionCreator.submitOrder(Object(Bt.omit)(t,"payment"),e))},t.prototype.finalize=function(){return Promise.reject(new Jt)},t.prototype.initialize=function(){return Promise.resolve(this._store.getState())},t.prototype.deinitialize=function(){return Promise.resolve(this._store.getState())},t}(),sr=function(){function t(t,e){this._store=t,this._orderActionCreator=e}return t.prototype.execute=function(t,e){var n=this._orderActionCreator.submitOrder(Object(d.__assign)(Object(d.__assign)({},t),{payment:t.payment?{methodId:t.payment.methodId}:void 0}),e);return this._store.dispatch(n)},t.prototype.finalize=function(){return Promise.reject(new Jt)},t.prototype.initialize=function(){return Promise.resolve(this._store.getState())},t.prototype.deinitialize=function(){return Promise.resolve(this._store.getState())},t}(),cr=function(){function t(t,e,n){this._store=t,this._orderActionCreator=e,this._paymentActionCreator=n}return t.prototype.execute=function(t,e){var n=this,r=t.payment,i=Object(d.__rest)(t,["payment"]),o=this._shouldSubmitFullPayload(r)?t:i,a=r&&r.paymentData,s=a&&a.instrumentId||void 0,c=a&&a.shouldSaveInstrument||void 0,u=a&&a.shouldSetAsDefaultInstrument||void 0;if(!r)throw new Ue(["payment"]);var p=r.methodId,h=r.gatewayId;return this._store.dispatch(this._orderActionCreator.submitOrder(o,e)).then((function(){return n._store.dispatch(n._paymentActionCreator.initializeOffsitePayment({methodId:p,gatewayId:h,instrumentId:s,shouldSaveInstrument:c,shouldSetAsDefaultInstrument:u}))}))},t.prototype.finalize=function(t){var e=this._store.getState(),n=e.order.getOrder(),r=e.payment.getPaymentStatus();return!n||r!==mn.a&&r!==mn.b?Promise.reject(new Jt):this._store.dispatch(this._orderActionCreator.finalizeOrder(n.orderId,t))},t.prototype.initialize=function(){return Promise.resolve(this._store.getState())},t.prototype.deinitialize=function(){return Promise.resolve(this._store.getState())},t.prototype._shouldSubmitFullPayload=function(t){return!!t&&("adyen"===t.gatewayId||"barclaycard"===t.gatewayId||"ccavenuemars"===t.methodId)},t}(),ur=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,r,i)||this;return a._threeDSecureFlow=o,a}return Object(d.__extends)(e,t),e.prototype.initialize=function(e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(d.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this._store.getState().paymentMethods.getPaymentMethodOrThrow,(r=n(e.methodId)).config.is3dsEnabled?[4,this._threeDSecureFlow.prepare(r)]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2,this._store.getState()]}}))}))},e.prototype.execute=function(e,n){var r=e.payment,i=(void 0===r?{}:r).methodId,o=void 0===i?"":i,a=this._store.getState(),s=a.payment.getPaymentStatus,c=a.paymentMethods.getPaymentMethodOrThrow;return s()===mn.a?this._store.dispatch(this._orderActionCreator.submitOrder(Object(d.__assign)(Object(d.__assign)({},e),{payment:{methodId:o}}),n)):c(o).config.is3dsEnabled?this._threeDSecureFlow.start(t.prototype.execute.bind(this),e,n,this._hostedForm):t.prototype.execute.call(this,e,n)},e}(hn),dr=function(){function t(t,e,n,r){void 0===r&&(r=window),this._store=t,this._orderActionCreator=e,this._scriptLoader=n,this._window=r,this._useRedirectFlow=!1}return t.prototype.initialize=function(t){var e=this,n=this._store.getState();return this._paymentMethod=n.paymentMethods.getPaymentMethod(t.methodId),this._useRedirectFlow=!0===(t.paypalexpress&&t.paypalexpress.useRedirectFlow),this._isInContextEnabled()?this._scriptLoader.loadPaypal().then((function(t){if(e._paypalSdk=t,!e._paymentMethod||!e._paymentMethod.config.merchantId)throw new v.b(v.a.MissingPaymentMethod);e._paypalSdk.checkout.setup(e._paymentMethod.config.merchantId,{button:"paypal-button",environment:e._paymentMethod.config.testMode?"sandbox":"production"})})).then((function(){return e._store.getState()})):Promise.resolve(this._store.getState())},t.prototype.deinitialize=function(){return this._isInContextEnabled()&&this._paypalSdk&&(this._paypalSdk.checkout.closeFlow(),this._paypalSdk=void 0),Promise.resolve(this._store.getState())},t.prototype.execute=function(t,e){var n=this,r=this._paypalSdk;if(this._isAcknowledgedOrFinalized())return this._store.dispatch(this._orderActionCreator.submitOrder(t,e));if(!this._isInContextEnabled()||this._useRedirectFlow)return this._store.dispatch(this._orderActionCreator.submitOrder(t,e)).then((function(t){var e=t.payment.getPaymentRedirectUrl();return e&&(n._window.top.location.href=e),new Promise((function(){}))}));if(!r)throw new bt.b(bt.a.PaymentNotInitialized);return r.checkout.initXO(),this._store.dispatch(this._orderActionCreator.submitOrder(t,e)).then((function(t){var e=t.payment.getPaymentRedirectUrl();return e&&r.checkout.startFlow(e),new Promise((function(){}))})).catch((function(t){return r.checkout.closeFlow(),Promise.reject(t)}))},t.prototype.finalize=function(t){var e=this._store.getState().order.getOrder();return e&&this._isAcknowledgedOrFinalized()?this._store.dispatch(this._orderActionCreator.finalizeOrder(e.orderId,t)):Promise.reject(new Jt)},t.prototype._isAcknowledgedOrFinalized=function(){var t=this._store.getState();return t.payment.getPaymentStatus()===mn.a||t.payment.getPaymentStatus()===mn.b},t.prototype._isInContextEnabled=function(){return!(!this._paymentMethod||!this._paymentMethod.config.merchantId)},t}(),pr=n(190),hr=function(){function t(t,e,n,r,i){this._store=t,this._paymentMethodActionCreator=e,this._paypalCommerceHostedForm=n,this._orderActionCreator=r,this._paymentActionCreator=i}return t.prototype.initialize=function(t){var e=t.methodId,n=t.paypalcommerce;return Object(d.__awaiter)(this,void 0,void 0,(function(){var t,r,i,o,a,s,c,u,p,h;return Object(d.__generator)(this,(function(d){switch(d.label){case 0:if(!n||!this._isPaypalCommerceOptionsPayments(n))throw new It.a('Unable to proceed because "options.paypalcommerce.form" argument is not provided.');return[4,this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(e))];case 1:if(t=d.sent(),r=t.paymentMethods.getPaymentMethodOrThrow,i=t.cart.getCartOrThrow,o=r(e),a=o.clientToken,s=o.initializationData,!a)throw new v.b(v.a.MissingPaymentMethod);return c=i(),u=c.id,p=c.currency.code,h=this._getOptionsScript(s,p,a),[4,this._paypalCommerceHostedForm.initialize(n.form,u,h)];case 2:return d.sent(),[2,this._store.getState()]}}))}))},t.prototype.execute=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(d.__generator)(this,(function(s){switch(s.label){case 0:if(n=t.payment,r=Object(d.__rest)(t,["payment"]),!n)throw new Ue(["payment"]);return this._paypalCommerceHostedForm.validate(),[4,this._store.dispatch(this._orderActionCreator.submitOrder(r,e))];case 1:return i=s.sent().paymentMethods.getPaymentMethodOrThrow,[4,this._paypalCommerceHostedForm.submit(i(n.methodId).config.is3dsEnabled)];case 2:return o=s.sent().orderId,a={formattedPayload:{vault_payment_instrument:null,set_as_default_stored_instrument:null,device_info:null,paypal_account:{order_id:o}}},[2,this._store.dispatch(this._paymentActionCreator.submitPayment(Object(d.__assign)(Object(d.__assign)({},n),{paymentData:a})))]}}))}))},t.prototype.finalize=function(){return Promise.reject(new Jt)},t.prototype.deinitialize=function(){return this._paypalCommerceHostedForm.deinitialize(),Promise.resolve(this._store.getState())},t.prototype._isPaypalCommerceOptionsPayments=function(t){return!!t.form},t.prototype._getOptionsScript=function(t,e,n){var r=t.clientId,i=t.intent;return{"client-id":r,"merchant-id":t.merchantId,"data-client-token":n,components:["hosted-fields"],commit:!0,currency:e,intent:i}},t}(),lr=function(){function t(t,e){var n,r=this;this._options=t,this._styles=e,this._handleBlur=function(){var t;r._applyStyles(null===(t=r._styles)||void 0===t?void 0:t.default)},this._handleFocus=function(){var t;r._applyStyles(null===(t=r._styles)||void 0===t?void 0:t.focus)},this._input=document.createElement("input"),this._input.style.backgroundColor="transparent",this._input.style.border="0",this._input.style.display="block",this._input.style.height="100%",this._input.style.margin="0",this._input.style.outline="none",this._input.style.padding="0",this._input.style.width="100%",this._input.placeholder=this._options.placeholder||"",this._input.addEventListener("blur",this._handleBlur),this._input.addEventListener("focus",this._handleFocus),this._applyStyles(null===(n=this._styles)||void 0===n?void 0:n.default)}return t.prototype.getValue=function(){return this._input.value},t.prototype.attach=function(){var t=document.getElementById(this._options.containerId);if(!t)throw new It.a;t.appendChild(this._input)},t.prototype.detach=function(){var t;null===(t=this._input.parentNode)||void 0===t||t.removeChild(this._input)},t.prototype._applyStyles=function(t){var e=this;t&&Object.keys(t).forEach((function(n){e._input.style[n]=t[n]||""}))},t}();!function(t){t.CardCode="cardCode",t.CardCodeVerification="cardCodeVerification",t.CardExpiry="cardExpiry",t.CardName="cardName",t.CardNumber="cardNumber",t.CardNumberVerification="cardNumberVerification"}(Gn||(Gn={})),function(t){t[t.CreditCard=0]="CreditCard",t[t.StoredCardVerification=1]="StoredCardVerification"}(Vn||(Vn={}));var mr,fr,_r=function(){function t(t){var e=this;this._paypalCommercePaymentProcessor=t,this._handleBlur=function(t){var n,r;null===(r=null===(n=e._formOptions)||void 0===n?void 0:n.onBlur)||void 0===r||r.call(n,{fieldType:e._mapFieldType(t.emittedBy)})},this._handleFocus=function(t){var n,r;null===(r=null===(n=e._formOptions)||void 0===n?void 0:n.onFocus)||void 0===r||r.call(n,{fieldType:e._mapFieldType(t.emittedBy)})},this._handleCardTypeChange=function(t){var n,r,i;null===(r=null===(n=e._formOptions)||void 0===n?void 0:n.onCardTypeChange)||void 0===r||r.call(n,{cardType:null===(i=t.cards[0])||void 0===i?void 0:i.type})},this._handleInputSubmitRequest=function(t){var n,r;null===(r=null===(n=e._formOptions)||void 0===n?void 0:n.onEnter)||void 0===r||r.call(n,{fieldType:e._mapFieldType(t.emittedBy)})},this._handleValidityChange=function(t){var n,r;null===(r=null===(n=e._formOptions)||void 0===n?void 0:n.onValidate)||void 0===r||r.call(n,{isValid:Object.keys(t.fields).every((function(e){var n;return null===(n=t.fields[e])||void 0===n?void 0:n.isValid})),errors:e._mapValidationErrors(t.fields)})}}return t.prototype.initialize=function(t,e,n){return Object(d.__awaiter)(this,void 0,void 0,(function(){var r,i;return Object(d.__generator)(this,(function(o){switch(o.label){case 0:return[4,this._paypalCommercePaymentProcessor.initialize(n)];case 1:return o.sent(),this._formOptions=t,this._type=this._isPaypalCommerceFormFieldsMap(t.fields)?Vn.CreditCard:Vn.StoredCardVerification,r={fields:this._mapFieldOptions(t.fields),styles:t.styles&&this._mapStyleOptions(t.styles)},i={blur:this._handleBlur,focus:this._handleFocus,cardTypeChange:this._handleCardTypeChange,validityChange:this._handleValidityChange,inputSubmitRequest:this._handleInputSubmitRequest},[4,this._paypalCommercePaymentProcessor.renderHostedFields(e,r,i)];case 2:return o.sent(),this._isPaypalCommerceFormFieldsMap(t.fields)&&(this._cardNameField=new lr(t.fields.cardName,t.styles),this._cardNameField.attach()),[2]}}))}))},t.prototype.submit=function(t){var e;return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(d.__generator)(this,(function(i){switch(i.label){case 0:return this.validate(),n={cardholderName:null===(e=this._cardNameField)||void 0===e?void 0:e.getValue(),contingencies:t?["3D_SECURE"]:void 0},[4,this._paypalCommercePaymentProcessor.submitHostedFields(n)];case 1:if(r=i.sent(),t&&("NO"===r.liabilityShift||"UNKNOWN"===r.liabilityShift))throw new An.a("Failed authentication. Please try to authorize again.");return[2,r]}}))}))},t.prototype.validate=function(){var t,e,n=this._paypalCommercePaymentProcessor.getHostedFieldsValidationState(),r=n.isValid,i=n.fields;if(!r){var o=this._mapValidationErrors(i);throw null===(e=null===(t=this._formOptions)||void 0===t?void 0:t.onValidate)||void 0===e||e.call(t,{errors:o,isValid:!1}),new vn(o)}},t.prototype.deinitialize=function(){this._paypalCommercePaymentProcessor.deinitialize()},t.prototype._mapFieldOptions=function(t){return this._isPaypalCommerceFormFieldsMap(t)?Object(Bt.omitBy)({number:{selector:"#"+t.cardNumber.containerId,placeholder:t.cardNumber.placeholder},expirationDate:{selector:"#"+t.cardExpiry.containerId,placeholder:t.cardExpiry.placeholder},cvv:t.cardCode&&{selector:"#"+t.cardCode.containerId,placeholder:t.cardCode.placeholder}},Bt.isNil):Object(Bt.omitBy)({number:t.cardNumberVerification&&{selector:"#"+t.cardNumberVerification.containerId,placeholder:t.cardNumberVerification.placeholder},cvv:t.cardCodeVerification&&{selector:"#"+t.cardCodeVerification.containerId,placeholder:t.cardCodeVerification.placeholder}},Bt.isNil)},t.prototype._mapStyleOptions=function(t){var e=function(t){return void 0===t&&(t={}),Object.keys(t).reduce((function(e,n){var r;return t[n]?Object(d.__assign)(Object(d.__assign)({},e),((r={})[Object(Bt.kebabCase)(n)]=t[n],r)):e}),{})};return{input:e(t.default),".invalid":e(t.error),":focus":e(t.focus)}},t.prototype._isPaypalCommerceFormFieldsMap=function(t){return!!t.cardNumber},t.prototype._mapFieldType=function(t){switch(t){case"number":return this._type===Vn.StoredCardVerification?Gn.CardNumberVerification:Gn.CardNumber;case"expirationDate":return Gn.CardExpiry;case"cvv":return this._type===Vn.StoredCardVerification?Gn.CardCodeVerification:Gn.CardCode;default:throw new Error("Unexpected field type")}},t.prototype._mapValidationErrors=function(t){var e=this;return Object.keys(t).reduce((function(n,r){var i,o;return Object(d.__assign)(Object(d.__assign)({},n),((i={})[e._mapFieldType(r)]=(null===(o=t[r])||void 0===o?void 0:o.isValid)?void 0:[e._createInvalidError(e._mapFieldType(r))],i))}),{})},t.prototype._createInvalidError=function(t){switch(t){case Gn.CardCodeVerification:return{fieldType:t,message:"Invalid card code",type:"invalid_card_code"};case Gn.CardNumberVerification:return{fieldType:t,message:"Invalid card number",type:"invalid_card_number"};case Gn.CardCode:return{fieldType:t,message:"Invalid card code",type:"invalid_card_code"};case Gn.CardExpiry:return{fieldType:t,message:"Invalid card expiry",type:"invalid_card_expiry"};case Gn.CardNumber:return{fieldType:t,message:"Invalid card number",type:"invalid_card_number"};default:return{fieldType:t,message:"Invalid field",type:"invalid"}}},t}(),yr=n(196),gr=function(){function t(t,e,n,r,i){this._store=t,this._orderActionCreator=e,this._paymentActionCreator=n,this._paypalCommercePaymentProcessor=r,this._paypalCommerceFundingKeyResolver=i}return t.prototype.initialize=function(t){var e=t.gatewayId,n=t.methodId,r=t.paypalcommerce;return Object(d.__awaiter)(this,void 0,void 0,(function(){var t,i,o,a,s,c,u,p,h,l,m,f,_,y,g,b,v=this;return Object(d.__generator)(this,(function(C){switch(C.label){case 0:if(t=this._store.getState(),i=t.paymentMethods.getPaymentMethodOrThrow,o=t.cart.getCartOrThrow,a=i(n,e).initializationData,c=(s=null!=a?a:{}).orderId,u=s.buttonStyle,c)return this._orderId=c,[2,this._store.getState()];if(!r)throw new It.a('Unable to initialize payment because "options.paypalcommerce" argument is not provided.');if(!this._isPaypalCommerceOptionsPayments(r))throw new It.a('Unable to initialize payment because "options.paypalcommerce" argument should contain "container", "onRenderButton", "submitForm".');return p=r.container,h=r.onRenderButton,l=r.submitForm,m=r.onValidate,f=o(),_=f.id,y=f.currency.code,g=this._getOptionsScript(a,y),b={style:u,onApprove:function(t){return v._tokenizePayment(t,l)},onClick:function(t,e){return Object(d.__awaiter)(v,void 0,void 0,(function(){return Object(d.__generator)(this,(function(t){return[2,m(e.resolve,e.reject)]}))}))}},[4,this._paypalCommercePaymentProcessor.initialize(g)];case 1:return C.sent(),this._paypalCommercePaymentProcessor.renderButtons(_,p,b,{onRenderButton:h,fundingKey:this._paypalCommerceFundingKeyResolver.resolve(n,e),paramsForProvider:{isCheckout:!0}}),[2,this._store.getState()]}}))}))},t.prototype.execute=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(d.__generator)(this,(function(o){switch(o.label){case 0:if(n=t.payment,r=Object(d.__rest)(t,["payment"]),!n)throw new Ue(["payment"]);if(!this._orderId)throw new We.a;return i={formattedPayload:{vault_payment_instrument:null,set_as_default_stored_instrument:null,device_info:null,method_id:n.methodId,paypal_account:{order_id:this._orderId}}},[4,this._store.dispatch(this._orderActionCreator.submitOrder(r,e))];case 1:return o.sent(),[2,this._store.dispatch(this._paymentActionCreator.submitPayment(Object(d.__assign)(Object(d.__assign)({},n),{paymentData:i})))]}}))}))},t.prototype.finalize=function(){return Promise.reject(new Jt)},t.prototype.deinitialize=function(){return Object(d.__awaiter)(this,void 0,void 0,(function(){return Object(d.__generator)(this,(function(t){return this._orderId=void 0,this._paypalCommercePaymentProcessor.deinitialize(),[2,Promise.resolve(this._store.getState())]}))}))},t.prototype._isPaypalCommerceOptionsPayments=function(t){return!!t.container},t.prototype._tokenizePayment=function(t,e){var n=t.orderID;this._orderId=n,e()},t.prototype._getOptionsScript=function(t,e){var n=t.clientId,r=t.intent,i=t.merchantId,o=t.buyerCountry,a={"client-id":n,"merchant-id":i,commit:!0,currency:e,intent:r};return t.isDeveloperModeApplicable?Object(d.__assign)(Object(d.__assign)({},a),{"buyer-country":o}):a},t}(),br=function(){function t(){}return t.prototype.resolve=function(t,e){if(t===Qt.PAYPAL_COMMERCE)return"PAYPAL";if(t===Qt.PAYPAL_COMMERCE_CREDIT)return"PAYLATER";if(e===Qt.PAYPAL_COMMERCE_ALTERNATIVE_METHODS)switch(t){case"bancontact":return"BANCONTACT";case"giropay":return"GIROPAY";case"przelewy24":return"P24";case"eps":return"EPS";case"ideal":return"IDEAL";case"mybank":return"MYBANK";case"sofort":return"SOFORT";case"blik":return"BLIK"}throw new Error("Unable to resolve funding key")},t}(),vr=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,r,i)||this;return a._formPoster=o,a}return Object(d.__extends)(e,t),e.prototype.execute=function(e,n){var r=this;return t.prototype.execute.call(this,e,n).catch((function(t){return t instanceof qe.a&&Object(Bt.some)(t.body.errors,{code:"three_d_secure_required"})?new Promise((function(){r._formPoster.postForm(t.body.three_ds_result.acs_url,{PaReq:t.body.three_ds_result.payer_auth_request,TermUrl:t.body.three_ds_result.callback_url,MD:t.body.three_ds_result.merchant_data},void 0,"_top")})):Promise.reject(t)}))},e.prototype.finalize=function(e){var n=this._store.getState(),r=n.order.getOrder();return r&&n.payment.getPaymentStatus()===mn.b?this._store.dispatch(this._orderActionCreator.finalizeOrder(r.orderId,e)):t.prototype.finalize.call(this,e)},e}(hn),Cr=n(169),Or=function(t){function e(e){var n=t.call(this,e||"Unsupported browser error")||this;return n.name="UnsupportedBrowserError",n.type="unsupported_browser",n}return Object(d.__extends)(e,t),e}(ht.a);!function(t){t.americanExpress="AMERICAN_EXPRESS",t.discover="DISCOVER",t.discoverDiners="DISCOVER_DINERS",t.JCB="JCB",t.masterCard="MASTERCARD",t.unionPay="CHINA_UNIONPAY",t.unknown="OTHER_BRAND",t.visa="VISA",t.squareGift="SQUARE_GIFT_CARD"}(mr||(mr={})),function(t){t.applePay="APPLEPAY",t.masterpass="MASTERPASS",t.none="NONE"}(fr||(fr={}));var Sr,wr,Ir,Ar=function(){function t(t,e,n,r,i,o,a,s){this._store=t,this._checkoutActionCreator=e,this._orderActionCreator=n,this._paymentActionCreator=r,this._paymentMethodActionCreator=i,this._paymentStrategyActionCreator=o,this._requestSender=a,this._scriptLoader=s}return t.prototype.initialize=function(t){var e=this,n=t.methodId;return this._syncPaymentMethod(n),this._scriptLoader.load().then((function(n){return new Promise((function(r,i){e._paymentForm=n(e._getFormOptions(t,{resolve:r,reject:i})),e._paymentForm.build()}))})).then((function(){return e._store.getState()}))},t.prototype.execute=function(t,e){var n=this,r=t.payment;if(!r||!r.methodId)throw new It.a('Unable to submit payment because "payload.payment.methodId" argument is not provided.');return this._syncPaymentMethod(r.methodId),this._getNonceInstrument(r.methodId).then((function(i){return n._store.dispatch(n._orderActionCreator.submitOrder(Object(Bt.omit)(t,"payment"),e)).then((function(){return n._store.dispatch(n._paymentActionCreator.submitPayment(Object(d.__assign)(Object(d.__assign)({},r),{paymentData:i})))}))}))},t.prototype.finalize=function(){return Promise.reject(new Jt)},t.prototype.deinitialize=function(){return Promise.resolve(this._store.getState())},t.prototype._syncPaymentMethod=function(t){var e=this._store.getState();if(this._paymentMethod=e.paymentMethods.getPaymentMethod(t),!this._paymentMethod||!this._paymentMethod.initializationData)throw new v.b(v.a.MissingPaymentMethod)},t.prototype._getCountryCode=function(t){switch(t.toUpperCase()){case"NEW ZELAND":return"NZ";case"AUSTRALIA":return"AU";default:return"US"}},t.prototype._getNonceInstrument=function(t){var e=this,n=this._store.getState().paymentMethods.getPaymentMethod(t);if(n){var r=n.initializationData;if(r&&r.paymentData.nonce)return Promise.resolve({nonce:n.initializationData.paymentData.nonce})}return new Promise((function(t,n){if(!e._paymentForm)throw new bt.b(bt.a.PaymentNotInitialized);e._deferredRequestNonce&&e._deferredRequestNonce.reject(new Cr.a),e._deferredRequestNonce={resolve:t,reject:n},e._paymentForm.requestCardNonce()}))},t.prototype._getFormOptions=function(t,e){var n=this,r=t.square;if(!r||!this._paymentMethod)throw new It.a('Unable to proceed because "options.square" argument is not provided.');return this._squareOptions=r,Object(d.__assign)(Object(d.__assign)(Object(d.__assign)({},this._squareOptions),this._paymentMethod.initializationData),{callbacks:{cardNonceResponseReceived:function(t,e,r,i,o){r&&r.digital_wallet_type!==fr.none?n._handleWalletNonceResponse(t,e,r,i,o):n._handleCardNonceResponse(t,e)},createPaymentRequest:function(){return n._paymentRequestPayload()},methodsSupported:function(t){var e=r.masterpass;e&&n._showPaymentMethods(t,e)},paymentFormLoaded:function(){e.resolve(),n._setPostalCode()},unsupportedBrowserDetected:function(){return e.reject(new Or)}}})},t.prototype._handleWalletNonceResponse=function(t,e,n,r,i){var o=this._squareOptions&&this._squareOptions.onError||b.noop,a=this._squareOptions&&this._squareOptions.onPaymentSelect||b.noop;t?o(t):e&&this._paymentMethod&&this._paymentInstrumentSelected(this._paymentMethod.id,e,n,r,i).then(a).catch(o)},t.prototype._handleCardNonceResponse=function(t,e){if(!this._deferredRequestNonce)throw new bt.b(bt.a.PaymentNotInitialized);!e||t?((this._squareOptions&&this._squareOptions.onError||b.noop)(t),this._deferredRequestNonce.reject(t)):this._deferredRequestNonce.resolve({nonce:e})},t.prototype._paymentInstrumentSelected=function(t,e,n,r,i){var o=this;return this._store.dispatch(this._paymentStrategyActionCreator.widgetInteraction((function(){return o._setExternalCheckoutData(e,n,r,i).then((function(){return Promise.all([o._store.dispatch(o._checkoutActionCreator.loadCurrentCheckout()),o._store.dispatch(o._paymentMethodActionCreator.loadPaymentMethod(t))])}))}),{methodId:t}),{queueId:"widgetInteraction"})},t.prototype._paymentRequestPayload=function(){var t=this._store.getState(),e=t.checkout.getCheckout(),n=t.config.getStoreConfig();if(!e)throw new v.b(v.a.MissingCheckout);if(!n)throw new v.b(v.a.MissingCheckoutConfig);return{requestShippingAddress:!0,requestBillingInfo:!0,currencyCode:n.currency.code,countryCode:this._getCountryCode(n.storeProfile.storeCountry),total:{label:n.storeProfile.storeName,amount:String(e.subtotal),pending:!1}}},t.prototype._setExternalCheckoutData=function(t,e,n,r){return this._requestSender.post("/checkout.php",{headers:{Accept:"text/html","Content-Type":"application/x-www-form-urlencoded"},body:{nonce:t,provider:"squarev2",action:"set_external_checkout",cardData:JSON.stringify(e),billingContact:JSON.stringify(n),shippingContact:JSON.stringify(r)}})},t.prototype._setPostalCode=function(){var t=this._store.getState().billingAddress.getBillingAddress();if(!this._paymentForm)throw new bt.b(bt.a.PaymentNotInitialized);t&&t.postalCode&&this._paymentForm.setPostalCode(t.postalCode)},t.prototype._showPaymentMethods=function(t,e){var n=document.getElementById(e.elementId);n&&t.masterpass&&(n.style.display="inline-block")},t}(),Er=function(){function t(t){this._scriptLoader=t}return t.prototype.load=function(){return this._scriptLoader.loadScript("//js.squareup.com/v2/paymentform").then((function(){return function(t){return new window.SqPaymentForm(t)}}))},t}(),Pr=n(107);function jr(t){return Boolean(t.cardNumberElementOptions)&&Boolean(t.cardCvcElementOptions)&&Boolean(t.cardExpiryElementOptions)}!function(t){t.Solid="solid",t.Default="default"}(Sr||(Sr={})),function(t){t.Alipay="alipay",t.CardCvc="cardCvc",t.CardExpiry="cardExpiry",t.CardNumber="cardNumber",t.CreditCard="card",t.iDEAL="idealBank",t.Sepa="iban"}(wr||(wr={})),function(t){t.Alipay="alipay",t.CreditCard="card",t.iDEAL="ideal",t.Sepa="sepa_debit"}(Ir||(Ir={}));var kr=function(){function t(t,e,n,r,i,o,a){this._store=t,this._paymentMethodActionCreator=e,this._paymentActionCreator=n,this._orderActionCreator=r,this._stripeScriptLoader=i,this._storeCreditActionCreator=o,this._locale=a}return t.prototype.initialize=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,o,a,s;return Object(d.__generator)(this,(function(c){switch(c.label){case 0:return this._initializeOptions=t,e=this._store.getState().paymentMethods.getPaymentMethodOrThrow(this._getInitializeOptions().methodId),n=e.initializationData,r=n.stripePublishableKey,i=n.stripeConnectedAccount,o=n.useIndividualCardFields,this._useIndividualCardFields=o,a=this,[4,this._loadStripeJs(r,i)];case 1:return a._stripeV3Client=c.sent(),s=this,[4,this._mountElement(this._getInitializeOptions().methodId)];case 2:return s._stripeElement=c.sent(),[2,Promise.resolve(this._store.getState())]}}))}))},t.prototype.execute=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,c,u,p,h,l,m,f,_,y,g,b,v;return Object(d.__generator)(this,(function(C){switch(C.label){case 0:if(n=t.payment,r=Object(d.__rest)(t,["payment"]),!n||!n.paymentData)throw new Ue(["payment.paymentData"]);return a=n.paymentData,s=n.gatewayId,c=n.methodId,p=(u=a).shouldSaveInstrument,h=void 0!==p&&p,l=u.shouldSetAsDefaultInstrument,m=void 0!==l&&l,[4,this._store.dispatch(this._orderActionCreator.submitOrder(r,e))];case 1:return C.sent(),(f=this._store.getState().checkout.getCheckoutOrThrow().isStoreCreditApplied)?[4,this._store.dispatch(this._storeCreditActionCreator.applyStoreCredit(f))]:[3,3];case 2:C.sent(),C.label=3;case 3:if(!Object(be.a)(a))return[3,9];C.label=4;case 4:return C.trys.push([4,6,,8]),[4,this._store.dispatch(this._paymentActionCreator.submitPayment(Object(d.__assign)(Object(d.__assign)({},n),{paymentData:a})))];case 5:return[2,C.sent()];case 6:return _=C.sent(),_ instanceof qe.a&&Object(Bt.some)(_.body.errors,{code:"three_d_secure_required"})?(y=_.body.three_ds_result.token,[4,this._confirmVaultedPayment(y)]):[2,Promise.reject(_)];case 7:return i=C.sent(),o={methodId:c,paymentData:{nonce:i.id}},[3,8];case 8:return[3,12];case 9:return[4,this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(s+"?method="+c))];case 10:return g=C.sent(),b=g.paymentMethods.getPaymentMethodOrThrow(c),[4,this._confirmStripePayment(b,h)];case 11:i=C.sent(),o={methodId:c,paymentData:Object(d.__assign)(Object(d.__assign)({},a),{nonce:i.id,shouldSaveInstrument:h,shouldSetAsDefaultInstrument:m})},C.label=12;case 12:return C.trys.push([12,14,,16]),[4,this._store.dispatch(this._paymentActionCreator.submitPayment(o))];case 13:return[2,C.sent()];case 14:return v=C.sent(),[4,this._processAdditionalAction(v)];case 15:return[2,C.sent()];case 16:return[2]}}))}))},t.prototype.finalize=function(){return Promise.reject(new Jt)},t.prototype.deinitialize=function(){return this._unmountElement(),Promise.resolve(this._store.getState())},t.prototype._processAdditionalAction=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){var e;return Object(d.__generator)(this,(function(n){return Object(Bt.some)(t.body.errors,{code:"additional_action_required"})&&(e=t.body.additional_action_required)&&"redirect_to_url"===e.type?[2,new Promise((function(){window.location.replace(e.data.redirect_url)}))]:[2,Promise.reject(t)]}))}))},t.prototype._confirmStripePayment=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s=this;return Object(d.__generator)(this,(function(c){if(n=t.clientToken,r=t.returnUrl,!n)throw new v.b(v.a.MissingPaymentMethod);return[2,new Promise((function(c,u){return Object(d.__awaiter)(s,void 0,void 0,(function(){var s,p,h,l;return Object(d.__generator)(this,(function(d){switch(d.label){case 0:switch(t.method){case wr.Alipay:return[3,1];case wr.CreditCard:return[3,3];case wr.iDEAL:return[3,5];case wr.Sepa:return[3,7]}return[3,9];case 1:return[4,this._getStripeJs().confirmAlipayPayment(n,{return_url:r},{handleActions:!1})];case 2:return s=d.sent(),o=s.error,a=s.paymentIntent,[3,9];case 3:return i=this._mapStripePaymentData(Ir.CreditCard,e),[4,this._getStripeJs().confirmCardPayment(n,i)];case 4:return p=d.sent(),o=p.error,a=p.paymentIntent,[3,9];case 5:return i=this._mapStripePaymentData(Ir.iDEAL,r),[4,this._getStripeJs().confirmIdealPayment(n,i,{handleActions:!1})];case 6:return h=d.sent(),o=h.error,a=h.paymentIntent,[3,9];case 7:return i=this._mapStripePaymentData(Ir.Sepa),[4,this._getStripeJs().confirmSepaDebitPayment(n,i)];case 8:return l=d.sent(),o=l.error,a=l.paymentIntent,[3,9];case 9:return o&&u(o),c(a),[2]}}))}))}))]}))}))},t.prototype._confirmVaultedPayment=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){var e=this;return Object(d.__generator)(this,(function(n){return[2,new Promise((function(n,r){return Object(d.__awaiter)(e,void 0,void 0,(function(){var e,i,o;return Object(d.__generator)(this,(function(a){switch(a.label){case 0:return[4,this._getStripeJs().confirmCardPayment(t)];case 1:return e=a.sent(),i=e.error,o=e.paymentIntent,i&&r(i),n(o),[2]}}))}))}))]}))}))},t.prototype._getInitializeOptions=function(){if(!this._initializeOptions)throw new bt.b(bt.a.PaymentNotInitialized);return this._initializeOptions},t.prototype._getStripeInitializeOptions=function(){var t=this._getInitializeOptions().stripev3;if(!t)throw new It.a('Unable to initialize payment because "options.stripev3" argument is not provided.');return t},t.prototype._getStripeElement=function(){if(!this._stripeElement)throw new bt.b(bt.a.PaymentNotInitialized);return this._stripeElement},t.prototype._getStripeCardElements=function(){if(!this._stripeCardElements)throw new bt.b(bt.a.PaymentNotInitialized);return this._stripeCardElements},t.prototype._getStripeJs=function(){if(!this._stripeV3Client)throw new bt.b(bt.a.PaymentNotInitialized);return this._stripeV3Client},t.prototype._loadStripeJs=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){return Object(d.__generator)(this,(function(n){switch(n.label){case 0:return this._stripeV3Client?[2,Promise.resolve(this._stripeV3Client)]:[4,this._stripeScriptLoader.load(t,e,this._locale)];case 1:return[2,n.sent()]}}))}))},t.prototype._mountElement=function(t){var e,n=this,r=t,i=this._getStripeInitializeOptions(),o=i.options,a=i.containerId;return new Promise((function(t,i){switch(n._stripeElements||(n._stripeElements=n._getStripeJs().elements()),r){case wr.CreditCard:if(n._useIndividualCardFields&&jr(o)){var s=o.cardNumberElementOptions,c=o.cardExpiryElementOptions,u=o.cardCvcElementOptions,d=n._stripeElements.getElement(wr.CardNumber)||n._stripeElements.create(wr.CardNumber,s),p=n._stripeElements.getElement(wr.CardExpiry)||n._stripeElements.create(wr.CardExpiry,c),h=n._stripeElements.getElement(wr.CardCvc)||n._stripeElements.create(wr.CardCvc,u);n._stripeCardElements=[d,p,h],e=n._stripeCardElements[0];try{d.mount("#"+s.containerId),p.mount("#"+c.containerId),h.mount("#"+u.containerId)}catch(t){i(new It.a("Unable to mount Stripe component without valid container ID."))}}else{e=n._stripeElements.getElement(r)||n._stripeElements.create(r,o);try{e.mount("#"+a)}catch(t){i(new It.a("Unable to mount Stripe component without valid container ID."))}}break;case wr.iDEAL:case wr.Sepa:e=n._stripeElements.getElement(r)||n._stripeElements.create(r,o);try{e.mount("#"+a)}catch(t){i(new It.a("Unable to mount Stripe component without valid container ID."))}break;case wr.Alipay:}t(e)}))},t.prototype._mapStripeAddress=function(t){return t?{city:t.city,country:t.countryCode,line1:t.address1,line2:t.address2,postal_code:t.postalCode,state:t.stateOrProvinceCode}:{line1:""}},t.prototype._mapStripeBillingDetails=function(t,e){var n=t||e||{firstName:"Guest",lastName:""},r=(n.firstName+" "+n.lastName).trim(),i=this._getStripeInitializeOptions().options;if(this._useIndividualCardFields&&jr(i)){var o=i.zipCodeElementOptions;if(o){var a=document.getElementById(o.containerId)?document.getElementById(o.containerId).value:"";a&&t&&(t=Object(d.__assign)(Object(d.__assign)({},t),{postalCode:a}))}}var s={address:this._mapStripeAddress(t)};if(e&&e.addresses[0]&&Object(Pr.a)(e.addresses[0])){var c=e.addresses[0],u=e.email;return(p=c.phone)?Object(d.__assign)(Object(d.__assign)({},s),{email:u,name:r,phone:p}):Object(d.__assign)(Object(d.__assign)({},s),{email:u,name:r})}if(t){var p;u=t.email;return(p=t.phone)?Object(d.__assign)(Object(d.__assign)({},s),{email:u,name:r,phone:p}):Object(d.__assign)(Object(d.__assign)({},s),{email:u,name:r})}return Object(d.__assign)(Object(d.__assign)({},s),{name:r})},t.prototype._mapStripePaymentData=function(t,e){var n,r,i=this._store.getState().customer.getCustomer(),o=this._store.getState().billingAddress.getBillingAddress();switch(r={payment_method:(n={},n[t]=t===Ir.CreditCard&&this._useIndividualCardFields?this._getStripeCardElements()[0]:this._getStripeElement(),n.billing_details=this._mapStripeBillingDetails(o,i),n)},t){case Ir.CreditCard:var a=this._store.getState().cart.getCart();if(a&&Object(jt.a)(a)>0){var s=this._store.getState().shippingAddress.getShippingAddress();r=Object(d.__assign)(Object(d.__assign)({},r),{shipping:this._mapStripeShippingAddress(s,i)})}return e?Object(d.__assign)(Object(d.__assign)({},r),{setup_future_usage:"off_session"}):r;case Ir.iDEAL:return Object(d.__assign)(Object(d.__assign)({},r),{return_url:e})}return r},t.prototype._mapStripeShippingAddress=function(t,e){var n=t||e||{firstName:"Guest",lastName:""},r=(n.firstName+" "+n.lastName).trim(),i={address:this._mapStripeAddress(t)};if(e&&e.addresses[0]){var o=e.addresses[0].phone;return Object(d.__assign)(Object(d.__assign)({},i),{name:r,phone:o})}if(t){o=t.phone;return Object(d.__assign)(Object(d.__assign)({},i),{name:r,phone:o})}return Object(d.__assign)(Object(d.__assign)({},i),{name:r})},t.prototype._unmountElement=function(){this._stripeElement&&(this._stripeElement.unmount(),this._stripeElement=void 0)},t}(),Mr=function(){function t(t,e){void 0===e&&(e=window),this._scriptLoader=t,this._window=e}return t.prototype.load=function(t,e,n){var r=this;return this._scriptLoader.loadScript("https://js.stripe.com/v3/").then((function(){if(!r._window.Stripe)throw new $.a;return r._window.Stripe(t,{stripeAccount:e,locale:n,betas:["payment_intent_beta_3","alipay_pm_beta_1"],apiVersion:"2020-03-02;alipay_beta=v1"})}))},t}(),Tr=function(){function t(t){this._scriptLoader=t}return t.prototype.initialize=function(){var t=this;return this._scriptLoader.loadScript("//static.wepay.com/min/js/risk.1.latest.js").then((function(){return t._riskClient=window.WePay.risk})).then((function(){return t}))},t.prototype.getRiskToken=function(){if(!this._riskClient)throw new bt.b(bt.a.PaymentNotInitialized);return this._riskClient.generate_risk_token(),this._riskClient.get_risk_token()},t}(),Rr=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,r,i)||this;return a._wepayRiskClient=o,a}return Object(d.__extends)(e,t),e.prototype.initialize=function(e){return this._wepayRiskClient.initialize(),t.prototype.initialize.call(this,e)},e.prototype.execute=function(e,n){var r=this._wepayRiskClient.getRiskToken(),i=Object(Bt.merge)({},e,{payment:{paymentData:{deviceSessionId:r}}});return t.prototype.execute.call(this,i,n)},e}(hn),Dr=n(72),zr=function(t){function e(e){var n=t.call(this,e||"The selected payment method was declined. Please select another payment method.")||this;return n.name="PaymentMethodDeclinedError",n.type="payment_declined",n}return Object(d.__extends)(e,t),e}(ht.a),Lr=function(){function t(t,e,n,r,i,o,a,s){this._store=t,this._orderActionCreator=e,this._paymentActionCreator=n,this._paymentMethodActionCreator=r,this._storeCreditActionCreator=i,this._remoteCheckoutActionCreator=o,this._zipScriptLoader=a,this._requestSender=s}return t.prototype.initialize=function(){return Object(d.__awaiter)(this,void 0,void 0,(function(){var t;return Object(d.__generator)(this,(function(e){switch(e.label){case 0:return[4,this._zipScriptLoader.load()];case 1:return t=e.sent(),this._zipClient=t,[2,this._store.getState()]}}))}))},t.prototype.deinitialize=function(){return this._paymentMethod=void 0,this._zipClient=void 0,Promise.resolve(this._store.getState())},t.prototype.execute=function(t,e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,c=this;return Object(d.__generator)(this,(function(u){switch(u.label){case 0:if(n=t.payment,r=Object(d.__rest)(t,["payment"]),i=this._zipClient,!n)throw new It.a('Unable to submit payment because "payload.payment" argument is not provided.');if(!i)throw new bt.b(bt.a.PaymentNotInitialized);return void 0===(o=this._store.getState().checkout.getCheckoutOrThrow().isStoreCreditApplied)?[3,2]:[4,this._store.dispatch(this._storeCreditActionCreator.applyStoreCredit(o))];case 1:u.sent(),u.label=2;case 2:return[4,this._store.dispatch(this._orderActionCreator.submitOrder(r,e))];case 3:return u.sent(),[4,this._store.dispatch(this._remoteCheckoutActionCreator.initializePayment(n.methodId,{useStoreCredit:o}))];case 4:return u.sent(),[4,this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(n.methodId,e))];case 5:if(a=u.sent(),this._paymentMethod=a.paymentMethods.getPaymentMethod(n.methodId),!this._paymentMethod||!this._paymentMethod.clientToken)throw new v.b(v.a.MissingPaymentMethod);return[4,new Promise((function(t,e){i.Checkout.init({onComplete:function(r){var i=r.checkoutId,o=r.state;return Object(d.__awaiter)(c,void 0,void 0,(function(){return Object(d.__generator)(this,(function(r){switch(r.label){case 0:return"cancelled"===o?[2,e(new xe)]:"referred"===o&&i?[4,this._prepareForReferredRegistration(n.methodId,i)]:[3,2];case 1:return r.sent(),[2,t()];case 2:return"approved"===o&&i?[2,t(i)]:"declined"===o?[2,e(new zr("Unfortunately your application was declined. Please select another payment method."))]:(e(new We.a),[2])}}))}))},onCheckout:function(t){if(!c._paymentMethod||!c._paymentMethod.clientToken)throw new v.b(v.a.MissingPaymentMethod);t(JSON.parse(c._paymentMethod.clientToken))}})}))];case 6:return void 0!==(s=u.sent())?[2,this._store.dispatch(this._paymentActionCreator.submitPayment({methodId:n.methodId,paymentData:{nonce:s}}))]:[2,this._store.getState()]}}))}))},t.prototype.finalize=function(){return Promise.reject(new Jt)},t.prototype._prepareForReferredRegistration=function(t,e){var n="/api/storefront/payment/"+t+"/save-external-id",r={headers:{Accept:I.a.JsonV1,"X-API-INTERNAL":Dr.a},body:{externalId:e,provider:t}};return this._requestSender.post(n,r)},t}(),Nr=function(){function t(t,e){void 0===e&&(e=window),this._scriptLoader=t,this._window=e}return t.prototype.load=function(){var t=this;return this._scriptLoader.loadScript("//static.zipmoney.com.au/checkout/checkout-v1.min.js").then((function(){if(!t._window.Zip)throw new $.a;return t._window.Zip}))},t}();function Fr(t,e,n,r,s){var c=new Te(t,{defaultToken:Qt.CREDIT_CARD}),u=Object(i.getScriptLoader)(),d=new ke.a,p=new je.a(e),h=new o.a(new a.a(n),new Ie.a(new Ae.a(n))),l=function(t){var e=new J.a(t),n=new Z.a(e),r=new wn(n),i=new bn;return new In(n,r,i)}(u),m=new U.a(n),f=new ee(m),g=new _t(r,new wt(n)),b=new Ht(new Gt(n),f),v=new Se(new we(n)),C=new ue(St(Object(i.createScriptLoader)())),O=new Pe(p,b,d,C),S=new Y.a(new H.a(n)),w=new pt(new ut(n)),I=new _.a(new y.a(n)),A=new G.a(new V.a(n)),E=new x.a(m,I,A),P=new Xt(c,b,g),j=Object(q.createFormPoster)(),k=new Ce(t);return c.register(Qt.ADYENV2,(function(){return new Ve(t,O,b,new Ye(u,Object(i.getStylesheetLoader)()))})),c.register(Qt.ADYENV2_GOOGLEPAY,(function(){return new Zn(t,E,S,P,O,b,Object(nt.a)(t,new rt.a),new Qn(t,O,new Ye(u,Object(i.getStylesheetLoader)())))})),c.register(Qt.AFFIRM,(function(){return new Ke(t,b,O,S,new Je)})),c.register(Qt.AFTERPAY,(function(){return new Ze(t,f,b,O,S,v,new en(u))})),c.register(Qt.AMAZON,(function(){return new dn(t,b,h,w,new W(u))})),c.register(Qt.AUTHORIZENET_GOOGLE_PAY,(function(){return new Zn(t,E,S,P,O,b,Object(nt.a)(t,new it.a))})),c.register(Qt.AMAZONPAYV2,(function(){return new pn(t,P,S,b,O,Object(K.a)())})),c.register(Qt.BARCLAYS,(function(){return new ln(t,b,O,k,new Nn(t,O,new Un(new xn(u))))})),c.register(Qt.BLUESNAPV2,(function(){return new fn(t,b,O)})),c.register(Qt.CREDIT_CARD,(function(){return new hn(t,b,O,k)})),c.register(Qt.CHECKOUTCOM,(function(){return new Wn(t,b,O,k,j)})),c.register(Qt.CYBERSOURCE,(function(){return new Kn(t,b,O,k,new Bn(t,O,S,new Un(new xn(u))))})),c.register(Qt.KLARNA,(function(){return new tr(t,b,S,w,new er(u))})),c.register(Qt.KLARNAV2,(function(){return new nr(t,b,S,w,new rr(u))})),c.register(Qt.LEGACY,(function(){return new ir(t,b)})),c.register(Qt.OFFLINE,(function(){return new sr(t,b)})),c.register(Qt.OFFSITE,(function(){return new cr(t,b,O)})),c.register(Qt.PAYPAL,(function(){return new ur(t,b,O,k,new Bn(t,O,S,new Un(new xn(u))))})),c.register(Qt.PAYPAL_EXPRESS,(function(){return new dr(t,b,new pr.a(u))})),c.register(Qt.PAYPAL_EXPRESS_CREDIT,(function(){return new dr(t,b,new pr.a(u))})),c.register(Qt.PAYPAL_COMMERCE_CREDIT_CARD,(function(){return new hr(t,S,new _r(Object(yr.a)(u,n)),b,O)})),c.register(Qt.PAYPAL_COMMERCE,(function(){return new gr(t,b,O,Object(yr.a)(u,n),new br)})),c.register(Qt.SAGE_PAY,(function(){return new vr(t,b,O,k,j)})),c.register(Qt.SQUARE,(function(){return new Ar(t,E,b,O,S,P,n,new Er(u))})),c.register(Qt.NO_PAYMENT_DATA_REQUIRED,(function(){return new ar(t,b)})),c.register(Qt.BRAINTREE,(function(){return new En(t,b,O,S,l)})),c.register(Qt.BRAINTREE_PAYPAL,(function(){return new Pn(t,b,O,S,l)})),c.register(Qt.BRAINTREE_PAYPAL_CREDIT,(function(){return new Pn(t,b,O,S,l,!0)})),c.register(Qt.BRAINTREE_VISA_CHECKOUT,(function(){return new jn(t,E,S,P,O,b,X(u,n),new tt(u))})),c.register(Qt.CHASE_PAY,(function(){return new Yn(t,E,b,O,S,P,n,new et(u),new Tr(u))})),c.register(Qt.BRAINTREE_GOOGLE_PAY,(function(){return new Zn(t,E,S,P,O,b,Object(nt.a)(t,new ot.a(new Z.a(new J.a(u)))))})),c.register(Qt.WE_PAY,(function(){return new Rr(t,b,O,k,new Tr(u))})),c.register(Qt.MASTERPASS,(function(){return new or(t,b,O,new ct.a(u))})),c.register(Qt.STRIPE_GOOGLE_PAY,(function(){return new Zn(t,E,S,P,O,b,Object(nt.a)(t,new st.a))})),c.register(Qt.CHECKOUTCOM_GOOGLE_PAY,(function(){return new Zn(t,E,S,P,O,b,Object(nt.a)(t,new at.a(n)))})),c.register(Qt.ZIP,(function(){return new Lr(t,b,O,S,v,w,new Nr(u),n)})),c.register(Qt.CONVERGE,(function(){return new Hn(t,b,O,k,j)})),c.register(Qt.LAYBUY,(function(){return new Jn(t,b,O,j)})),c.register(Qt.SEZZLE,(function(){return new Jn(t,b,O,j)})),c.register(Qt.STRIPEV3,(function(){return new kr(t,S,O,b,new Mr(u),v,s)})),c.register(Qt.BOLT,(function(){return new _n(t,b,O,S,v,new yn(u))})),c}var qr=n(24),Ur=function(){function t(t){this._instrumentRequestSender=t}return t.prototype.loadInstruments=function(){var t=this;return function(e){return b.Observable.create((function(n){n.next(Object(g.createAction)(qr.a.LoadInstrumentsRequested));var r=t._getSessionContext(e),i=t._getCurrentAccessToken(e),o=t._getShippingAddress(e);return t._getValidAccessToken(i).then((function(e){return t._instrumentRequestSender.loadInstruments(Object(d.__assign)(Object(d.__assign)({},r),{authToken:e.vaultAccessToken}),o).then((function(t){var r=t.body;n.next(Object(g.createAction)(qr.a.LoadInstrumentsSucceeded,r,e)),n.complete()}))})).catch((function(t){n.error(Object(g.createErrorAction)(qr.a.LoadInstrumentsFailed,t))}))}))}},t.prototype.deleteInstrument=function(t){var e=this;return function(n){return b.Observable.create((function(r){r.next(Object(g.createAction)(qr.a.DeleteInstrumentRequested,void 0,{instrumentId:t}));var i=e._getSessionContext(n),o=e._getCurrentAccessToken(n);return e._getValidAccessToken(o).then((function(n){return e._instrumentRequestSender.deleteInstrument(Object(d.__assign)(Object(d.__assign)({},i),{authToken:n.vaultAccessToken}),t).then((function(e){var i=e.body;r.next(Object(g.createAction)(qr.a.DeleteInstrumentSucceeded,i,Object(d.__assign)({instrumentId:t},n))),r.complete()}))})).catch((function(e){r.error(Object(g.createErrorAction)(qr.a.DeleteInstrumentFailed,e,{instrumentId:t}))}))}))}},t.prototype._isValidVaultAccessToken=function(t){if(!t||!t.vaultAccessToken)return!1;var e,n,r;return function(t){return t.valueOf()>Date.now()}((e=new Date(t.vaultAccessExpiry),n=2,(r=new Date(e.getTime())).setMinutes(e.getMinutes()+n),r))},t.prototype._getCurrentAccessToken=function(t){var e=t.getState().instruments.getInstrumentsMeta();if(e)return{vaultAccessToken:e.vaultAccessToken,vaultAccessExpiry:e.vaultAccessExpiry}},t.prototype._getValidAccessToken=function(t){return t&&this._isValidVaultAccessToken(t)?Promise.resolve(t):this._instrumentRequestSender.getVaultAccessToken().then((function(t){return t.body}))},t.prototype._getShippingAddress=function(t){return t.getState().shippingAddress.getShippingAddress()},t.prototype._getSessionContext=function(t){var e=t.getState(),n=e.config.getStoreConfig(),r=e.cart.getCart();if(!n)throw new v.b(v.a.MissingCheckoutConfig);if(!r)throw new v.b(v.a.MissingCart);return{customerId:r.customerId,storeId:n.storeProfile.storeId,currencyCode:(n.shopperCurrency.isTransactional?n.shopperCurrency:n.currency).code}},t}();var xr=function(){function t(){}return t.prototype.transformResponse=function(t){var e=this._transformResponse(t),n=e.body,r=Object(d.__rest)(e,["body"]);return Object(d.__assign)(Object(d.__assign)({},r),{body:{vaultedInstruments:this._transformVaultedInstruments(n.vaulted_instruments)}})},t.prototype.transformErrorResponse=function(t){return this._transformResponse(t)},t.prototype.transformVaultAccessResponse=function(t){return Object(d.__assign)(Object(d.__assign)({},t),{body:{vaultAccessToken:t.body.data.token,vaultAccessExpiry:t.body.data.expires_at}})},t.prototype._transformVaultedInstruments=function(t){var e=this;return void 0===t&&(t=[]),t.map((function(t){return e._isPayPalInstrument(t)?function(t){return{bigpayToken:t.bigpay_token,defaultInstrument:t.default_instrument,provider:t.provider,externalId:t.external_id,trustedShippingAddress:t.trusted_shipping_address,method:"paypal",type:"account"}}(t):e._isBankInstrument(t)?function(t){return{bigpayToken:t.bigpay_token,defaultInstrument:t.default_instrument,provider:t.provider,externalId:t.external_id,trustedShippingAddress:t.trusted_shipping_address,accountNumber:t.account_number,issuer:t.issuer,iban:t.iban,method:t.method,type:"bank"}}(t):function(t){return{bigpayToken:t.bigpay_token,defaultInstrument:t.default_instrument,provider:t.provider,iin:t.iin,last4:t.last_4,expiryMonth:t.expiry_month,expiryYear:t.expiry_year,brand:t.brand,trustedShippingAddress:t.trusted_shipping_address,method:t.method,type:"card"}}(t)}))},t.prototype._isPayPalInstrument=function(t){return"paypal"===t.method_type},t.prototype._isBankInstrument=function(t){return"bank"===t.method_type},t.prototype._transformResponse=function(t){var e=t.data,n=Object(d.__rest)(t,["data"]);return Object(d.__assign)(Object(d.__assign)({},n),{body:e})},t}(),Br=function(){function t(t,e){this._client=t,this._requestSender=e,this._transformer=new xr}return t.prototype.getVaultAccessToken=function(t){var e=(void 0===t?{}:t).timeout;return this._requestSender.get("/internalapi/v1/checkout/payments/vault-access-token",{timeout:e}).then((function(t){return Object(d.__assign)(Object(d.__assign)({},t),{body:{vaultAccessToken:t.body.data.token,vaultAccessExpiry:t.body.data.expires_at}})}))},t.prototype.loadInstruments=function(t,e){return e?this._loadInstrumentsWithAddress(t,e):this._loadInstruments(t)},t.prototype.deleteInstrument=function(t,e){var n=this,r=Object(d.__assign)(Object(d.__assign)({},t),{instrumentId:e});return new Promise((function(t,e){n._client.deleteShopperInstrument(r,(function(r,i){return r?e(n._transformer.transformErrorResponse(r)):t(n._transformer.transformResponse(i))}))}))},t.prototype._loadInstruments=function(t){var e=this;return new Promise((function(n,r){e._client.loadInstruments(t,(function(t,i){return t?r(e._transformer.transformErrorResponse(t)):n(e._transformer.transformResponse(i))}))}))},t.prototype._loadInstrumentsWithAddress=function(t,e){var n=this,r=Object(d.__assign)(Object(d.__assign)({},t),{shippingAddress:Object(nn.a)(e)});return new Promise((function(t,e){n._client.loadInstrumentsWithAddress(r,(function(r,i){return r?e(n._transformer.transformErrorResponse(r)):t(n._transformer.transformResponse(i))}))}))},t}(),Gr=n(130),Vr=n(131),Yr=n(43),Hr=function(){function t(t){this._shippingCountryRequestSender=t}return t.prototype.loadCountries=function(t){var e=this;return b.Observable.create((function(n){n.next(Object(g.createAction)(Yr.a.LoadShippingCountriesRequested)),e._shippingCountryRequestSender.loadCountries(t).then((function(t){n.next(Object(g.createAction)(Yr.a.LoadShippingCountriesSucceeded,t.body.data)),n.complete()})).catch((function(t){n.error(Object(g.createErrorAction)(Yr.a.LoadShippingCountriesFailed,t))}))}))},t}(),Wr=function(){function t(t,e){this._requestSender=t,this._config=e}return t.prototype.loadCountries=function(t){var e=(void 0===t?{}:t).timeout,n={"Accept-Language":this._config.locale};return this._requestSender.get("/internalapi/v1/shipping/countries",{headers:n,timeout:e})},t}(),Kr=n(9),Jr=function(){function t(t){this._strategyRegistry=t}return t.prototype.updateAddress=function(t,e){var n=this;return function(r){return b.Observable.create((function(i){var o=r.getState().payment.getPaymentId(),a=e&&e.methodId||o&&o.providerId;i.next(Object(g.createAction)(Kr.a.UpdateAddressRequested,void 0,{methodId:a})),n._strategyRegistry.get(a).updateAddress(t,Object(d.__assign)(Object(d.__assign)({},e),{methodId:a})).then((function(){i.next(Object(g.createAction)(Kr.a.UpdateAddressSucceeded,void 0,{methodId:a})),i.complete()})).catch((function(t){i.error(Object(g.createErrorAction)(Kr.a.UpdateAddressFailed,t,{methodId:a}))}))}))}},t.prototype.selectOption=function(t,e){var n=this;return function(r){return b.Observable.create((function(i){var o=r.getState().payment.getPaymentId(),a=e&&e.methodId||o&&o.providerId;i.next(Object(g.createAction)(Kr.a.SelectOptionRequested,void 0,{methodId:a})),n._strategyRegistry.get(a).selectOption(t,Object(d.__assign)(Object(d.__assign)({},e),{methodId:a})).then((function(){i.next(Object(g.createAction)(Kr.a.SelectOptionSucceeded,void 0,{methodId:a})),i.complete()})).catch((function(t){i.error(Object(g.createErrorAction)(Kr.a.SelectOptionFailed,t,{methodId:a}))}))}))}},t.prototype.initialize=function(t){var e=this;return function(n){return b.Observable.create((function(r){var i=n.getState(),o=i.payment.getPaymentId(),a=t&&t.methodId||o&&o.providerId,s=Object(d.__assign)(Object(d.__assign)({},t),{methodId:a});if(a&&i.shippingStrategies.isInitialized(a))return r.complete();r.next(Object(g.createAction)(Kr.a.InitializeRequested,void 0,{methodId:a})),e._strategyRegistry.get(a).initialize(s).then((function(){r.next(Object(g.createAction)(Kr.a.InitializeSucceeded,void 0,{methodId:a})),r.complete()})).catch((function(t){r.error(Object(g.createErrorAction)(Kr.a.InitializeFailed,t,{methodId:a}))}))}))}},t.prototype.deinitialize=function(t){var e=this;return function(n){return b.Observable.create((function(r){var i=n.getState(),o=i.payment.getPaymentId(),a=t&&t.methodId||o&&o.providerId;if(a&&!i.shippingStrategies.isInitialized(a))return r.complete();r.next(Object(g.createAction)(Kr.a.DeinitializeRequested,void 0,{methodId:a})),e._strategyRegistry.get(a).deinitialize(Object(d.__assign)(Object(d.__assign)({},t),{methodId:a})).then((function(){r.next(Object(g.createAction)(Kr.a.DeinitializeSucceeded,void 0,{methodId:a})),r.complete()})).catch((function(t){r.error(Object(g.createErrorAction)(Kr.a.DeinitializeFailed,t,{methodId:a}))}))}))}},t.prototype.widgetInteraction=function(t,e){return b.Observable.create((function(n){var r={methodId:e&&e.methodId};n.next(Object(g.createAction)(Kr.a.WidgetInteractionStarted,void 0,r)),t().then((function(){n.next(Object(g.createAction)(Kr.a.WidgetInteractionFinished,void 0,r)),n.complete()})).catch((function(t){n.error(Object(g.createErrorAction)(Kr.a.WidgetInteractionFailed,t,r))}))}))},t}(),Zr=function(){function t(t,e,n,r,i){this._store=t,this._consignmentActionCreator=e,this._paymentMethodActionCreator=n,this._remoteCheckoutActionCreator=r,this._scriptLoader=i,this._window=window}return t.prototype.initialize=function(t){var e=this,n=t.amazon,r=t.methodId;if(!n||!r)throw new It.a('Unable to proceed because "options.amazon" argument is not provided.');return this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(r)).then((function(t){return new Promise((function(i,o){if(e._paymentMethod=t.paymentMethods.getPaymentMethod(r),!e._paymentMethod)throw new v.b(v.a.MissingPaymentMethod);e._scriptLoader.loadWidget(e._paymentMethod,(function(){e._createAddressBook(n).then(i).catch(o)})).catch(o)}))})).then((function(){return e._store.getState()}))},t.prototype.deinitialize=function(){return this._paymentMethod=void 0,Promise.resolve(this._store.getState())},t.prototype.updateAddress=function(t,e){var n=Object(d.__assign)(Object(d.__assign)({},this._store.getState().shippingAddress.getShippingAddress()),{customFields:t.customFields});return this._store.dispatch(this._consignmentActionCreator.updateAddress(n,e))},t.prototype.selectOption=function(t,e){return this._store.dispatch(this._consignmentActionCreator.selectShippingOption(t,e))},t.prototype._createAddressBook=function(t){var e=this;return new Promise((function(n,r){var i=t.container,o=t.onAddressSelect,a=void 0===o?function(){}:o,s=t.onError,c=void 0===s?function(){}:s,u=t.onReady,d=void 0===u?function(){}:u,p=e._paymentMethod&&e._paymentMethod.config.merchantId;if(!document.getElementById(i))return r(new It.a("Unable to create AmazonPay AddressBook widget without valid container ID."));if(!e._window.OffAmazonPayments)return r(new bt.b(bt.a.ShippingNotInitialized));if(!p)return r(new v.b(v.a.MissingPaymentMethod));var h=new e._window.OffAmazonPayments.Widgets.AddressBook({design:{designMode:"responsive"},scope:"payments:billing_address payments:shipping_address payments:widget profile",sellerId:p,onAddressSelect:function(t){e._synchronizeShippingAddress().then((function(){return a(t)})).catch(c)},onError:function(t){r(t),c(t)},onReady:function(t){e._updateOrderReference(t).then((function(){n(),d(t)})).catch(c)}});return h.bind(i),h}))},t.prototype._synchronizeShippingAddress=function(){var t=this,e=this._paymentMethod&&this._paymentMethod.id,n=this._store.getState().remoteCheckout.getCheckout("amazon"),r=n?n.referenceId:void 0;if(!e||!r)throw new un.a;return this._store.dispatch(Object(g.createAction)(Kr.a.UpdateAddressRequested,void 0,{methodId:e})).then((function(){return t._store.dispatch(t._remoteCheckoutActionCreator.initializeShipping(e,{referenceId:r}))})).then((function(e){var n=e.remoteCheckout.getCheckout("amazon"),r=n&&n.shipping&&n.shipping.address,i=e.shippingAddress.getShippingAddress();if(!1===r)throw new un.a;return!r||an(r,i||{})?t._store.getState():t._store.dispatch(t._consignmentActionCreator.updateAddress(cn(r)))})).then((function(){return t._store.dispatch(Object(g.createAction)(Kr.a.UpdateAddressSucceeded,void 0,{methodId:e}))})).catch((function(n){return t._store.dispatch(Object(g.createErrorAction)(Kr.a.UpdateAddressFailed,n,{methodId:e}))}))},t.prototype._updateOrderReference=function(t){return this._store.dispatch(this._remoteCheckoutActionCreator.updateCheckout("amazon",{referenceId:t.getAmazonOrderReferenceId()}))},t}(),Qr=function(){function t(t,e,n,r,i){this._store=t,this._consignmentActionCreator=e,this._paymentMethodActionCreator=n,this._amazonPayV2PaymentProcessor=r,this._shippingStrategyActionCreator=i}return t.prototype.updateAddress=function(t,e){var n=this._store.getState().shippingAddress.getShippingAddress();if(!n)throw new v.b(v.a.MissingShippingAddress);var r=Object(d.__assign)(Object(d.__assign)({},n),{customFields:t.customFields});return this._store.dispatch(this._consignmentActionCreator.updateAddress(r,e))},t.prototype.selectOption=function(t,e){return this._store.dispatch(this._consignmentActionCreator.selectShippingOption(t,e))},t.prototype.initialize=function(t){return Object(d.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,o,a;return Object(d.__generator)(this,(function(s){switch(s.label){case 0:if(e=t.amazonpay,n=t.methodId,!e||!n)throw new It.a('Unable to proceed because "options.amazonpay" argument is not provided.');return[4,this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(n))];case 1:return r=s.sent(),i=r.paymentMethods.getPaymentMethodOrThrow(n),[4,this._amazonPayV2PaymentProcessor.initialize(i)];case 2:return s.sent(),o=i.initializationData.paymentToken,a=e.editAddressButtonId,o&&a&&this._bindEditButton(a,o,"changeAddress"),[2,this._store.getState()]}}))}))},t.prototype.deinitialize=function(){return Object(d.__awaiter)(this,void 0,void 0,(function(){return Object(d.__generator)(this,(function(t){switch(t.label){case 0:return[4,this._amazonPayV2PaymentProcessor.deinitialize()];case 1:return t.sent(),[2,Promise.resolve(this._store.getState())]}}))}))},t.prototype._bindEditButton=function(t,e,n){var r=this,i=document.getElementById(t);if(i&&i.parentNode){var o=i.cloneNode(!0);i.parentNode.replaceChild(o,i),o.addEventListener("click",(function(){return r._showLoadingSpinner((function(){return new Promise(b.noop)}))})),this._amazonPayV2PaymentProcessor.bindButton(t,e,n)}},t.prototype._showLoadingSpinner=function(t){return this._store.dispatch(this._shippingStrategyActionCreator.widgetInteraction((function(){return t?t():Promise.reject()})),{queueId:"widgetInteraction"})},t}(),Xr=function(){function t(t,e){this._store=t,this._consignmentActionCreator=e}return t.prototype.updateAddress=function(t,e){return this._store.dispatch(this._consignmentActionCreator.updateAddress(t,e))},t.prototype.selectOption=function(t,e){return this._store.dispatch(this._consignmentActionCreator.selectShippingOption(t,e))},t.prototype.initialize=function(){return Promise.resolve(this._store.getState())},t.prototype.deinitialize=function(){return Promise.resolve(this._store.getState())},t}();var $r,ti=n(44),ei=function(){function t(t){this._requestSender=t}return t.prototype.sendSignInEmail=function(t,e){var n=this;return Object(b.concat)(Object(b.of)(Object(g.createAction)(ti.a.SendSignInEmailRequested)),Object(b.defer)((function(){return Object(d.__awaiter)(n,void 0,void 0,(function(){var n;return Object(d.__generator)(this,(function(r){switch(r.label){case 0:return[4,this._requestSender.sendSignInEmail(t,e)];case 1:return n=r.sent().body,[2,Object(g.createAction)(ti.a.SendSignInEmailSucceeded,n)]}}))}))}))).pipe(Object(M.catchError)((function(t){return Object(T.a)(ti.a.SendSignInEmailFailed,t)})))},t}(),ni=function(){function t(t){this._requestSender=t}return t.prototype.sendSignInEmail=function(t,e){var n=t.email,r=t.redirectUrl,i=(void 0===e?{}:e).timeout,o={Accept:I.a.JsonV1};return this._requestSender.post("/login.php?action=passwordless_login",{body:{email:n,redirect_url:r||Object(pe.a)(window.top.location.href).pathname},headers:o,timeout:i})},t}();!function(t){t.Synchronize="SYNCHRONIZE"}($r||($r={}));var ri=n(171),ii=n(41),oi=Object(Bt.memoize)((function(t){return Array.isArray(t)?t.map((function(t){return ai(t)})):Object(ii.a)(t)?Object.keys(t).reduce((function(e,n){var r;return Object(d.__assign)(Object(d.__assign)({},e),((r={})[n]=ai(t[n]),r))}),{}):t}));oi.cache=new WeakMap;var ai=function(t){return"object"==typeof t&&null!==t?oi(t):t};function si(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return ai(t.apply(void 0,e))}}var ci=n(77),ui=n(66),di=n.n(ui),pi=n(85),hi=Object(ci.createSelectorCreator)(ci.defaultMemoize,(function(t,e){return di()(t,e)})),li=Object(pi.a)(hi);function mi(){var t,e,n,r,i,o,a,s,c,u,p,h,l,m,f,_,y,g,b,v,C,O,S,w,I,A,E,P,j,k,M,T,R,D=(t=Object(ri.a)((function(t){return t.checkout.getCheckout}),(function(t){return si(t)})),e=Object(ri.a)((function(t){return t.order.getOrder}),(function(t){return si(t)})),n=Object(ri.a)((function(t){return t.config.getStoreConfig}),(function(t){return si(t)})),r=Object(ri.a)((function(t){return t.shippingAddress.getShippingAddress}),(function(t){return t.config.getContextConfig}),(function(t,e){return si((function(){var n=t(),r=e();if(!n){if(!r||!r.geoCountryCode)return;return{firstName:"",lastName:"",company:"",address1:"",address2:"",city:"",stateOrProvince:"",stateOrProvinceCode:"",postalCode:"",country:"",phone:"",customFields:[],countryCode:r.geoCountryCode}}return n}))})),i=Object(ri.a)((function(t){return t.consignments.getConsignments}),(function(t){return si((function(){var e=t();if(e&&e.length)return e[0].availableShippingOptions}))})),o=Object(ri.a)((function(t){return t.consignments.getConsignments}),(function(t){return si(t)})),a=Object(ri.a)((function(t){return t.consignments.getConsignments}),(function(t){return si((function(){var e=t();if(e&&e.length)return e[0].selectedShippingOption}))})),s=Object(ri.a)((function(t){return t.shippingCountries.getShippingCountries}),(function(t){return si(t)})),c=Object(ri.a)((function(t){return t.billingAddress.getBillingAddress}),(function(t){return t.config.getContextConfig}),(function(t,e){return si((function(){var n=t(),r=e();return(!n||Object(Bt.values)(Object(Bt.omit)(n,"shouldSaveAddress","email","id")).every((function(t){return!t||!t.length})))&&r&&r.geoCountryCode?{id:n?n.id:"",firstName:"",lastName:"",company:"",address1:"",address2:"",city:"",email:n?n.email:"",stateOrProvince:"",stateOrProvinceCode:"",postalCode:"",country:"",phone:"",customFields:[],countryCode:r.geoCountryCode}:n}))})),u=Object(ri.a)((function(t){return t.countries.getCountries}),(function(t){return si(t)})),p=Object(ri.a)((function(t){return t.paymentMethods.getPaymentMethods}),(function(t){return si(t)})),h=Object(ri.a)((function(t){return t.paymentMethods.getPaymentMethod}),(function(t){return si(t)})),l=Object(ri.a)((function(t){return t.payment.getPaymentId}),(function(t){return t.paymentMethods.getPaymentMethod}),(function(t,e){return si((function(){var n=t();return n&&e(n.providerId,n.gatewayId)}))})),m=Object(ri.a)((function(t){return t.cart.getCart}),(function(t){return si(t)})),f=Object(ri.a)((function(t){return t.coupons.getCoupons}),(function(t){return si(t)})),_=Object(ri.a)((function(t){return t.giftCertificates.getGiftCertificates}),(function(t){return si(t)})),y=Object(ri.a)((function(t){return t.customer.getCustomer}),(function(t){return si(t)})),g=Object(ri.a)((function(t){return t.signInEmail.getEmail}),(function(t){return si(t)})),b=Object(ri.a)((function(t){return t.payment.isPaymentDataRequired}),(function(t){return si(t)})),v=Object(ri.a)((function(t){return t.payment.isPaymentDataSubmitted}),(function(t){return t.paymentMethods.getPaymentMethod}),(function(t,e){return si((function(n,r){return t(e(n,r))}))})),C=Object(ri.a)((function(t){return t.instruments.getInstruments}),(function(t){return t.instruments.getInstrumentsByPaymentMethod}),(function(t,e){return si((function(n){return n?e(n):t()}))})),O=Object(ri.a)((function(t){return t.form.getCustomerAccountFields}),(function(t){return si(t)})),S=Object(ri.a)((function(t){return t.form.getBillingAddressFields}),(function(t){return t.countries.getCountries}),(function(t,e){return si((function(n){return t(e(),n)}))})),w=Object(ri.a)((function(t){return t.form.getShippingAddressFields}),(function(t){return t.shippingCountries.getShippingCountries}),(function(t,e){return si((function(n){return t(e(),n)}))})),I=Object(ri.a)((function(t){return t.config.getFlashMessages}),(function(t){return si(t)})),Object(gt.memoizeOne)((function(d){return{getCheckout:t(d),getOrder:e(d),getConfig:n(d),getFlashMessages:I(d),getShippingAddress:r(d),getShippingOptions:i(d),getConsignments:o(d),getSelectedShippingOption:a(d),getShippingCountries:s(d),getBillingAddress:c(d),getBillingCountries:u(d),getPaymentMethods:p(d),getPaymentMethod:h(d),getSelectedPaymentMethod:l(d),getCart:m(d),getCoupons:f(d),getGiftCertificates:_(d),getCustomer:y(d),isPaymentDataRequired:b(d),isPaymentDataSubmitted:v(d),getSignInEmail:g(d),getInstruments:C(d),getCustomerAccountFields:O(d),getBillingAddressFields:S(d),getShippingAddressFields:w(d)}}))),z=(A=li((function(t){return t}),(function(t){return function(){for(var e=0,n=Object.keys(t);e<n.length;e++){var r=n[e],i=t[r]();if(i)return i}}})),E=Object(ri.a)((function(t){return t.shippingStrategies.getSelectOptionError}),(function(t){return t.consignments.getUpdateShippingOptionError}),(function(t,e){return function(n){return t()||e(n)}})),Object(gt.memoizeOne)((function(t){var e={getLoadCheckoutError:t.checkout.getLoadError,getUpdateCheckoutError:t.checkout.getUpdateError,getSubmitOrderError:t.paymentStrategies.getExecuteError,getFinalizeOrderError:t.paymentStrategies.getFinalizeError,getLoadOrderError:t.order.getLoadError,getLoadCartError:t.cart.getLoadError,getLoadBillingCountriesError:t.countries.getLoadError,getLoadShippingCountriesError:t.shippingCountries.getLoadError,getLoadPaymentMethodsError:t.paymentMethods.getLoadError,getLoadPaymentMethodError:t.paymentMethods.getLoadMethodError,getInitializePaymentError:t.paymentStrategies.getInitializeError,getSignInError:t.customerStrategies.getSignInError,getSignOutError:t.customerStrategies.getSignOutError,getInitializeCustomerError:t.customerStrategies.getInitializeError,getLoadShippingOptionsError:t.consignments.getLoadShippingOptionsError,getSelectShippingOptionError:E(t),getContinueAsGuestError:t.billingAddress.getContinueAsGuestError,getUpdateBillingAddressError:t.billingAddress.getUpdateError,getUpdateSubscriptionsError:t.subscriptions.getUpdateError,getUpdateShippingAddressError:t.shippingStrategies.getUpdateAddressError,getDeleteConsignmentError:t.consignments.getDeleteError,getUpdateConsignmentError:t.consignments.getUpdateError,getCreateConsignmentsError:t.consignments.getCreateError,getInitializeShippingError:t.shippingStrategies.getInitializeError,getApplyStoreCreditError:t.storeCredit.getApplyError,getApplyCouponError:t.coupons.getApplyError,getRemoveCouponError:t.coupons.getRemoveError,getApplyGiftCertificateError:t.giftCertificates.getApplyError,getRemoveGiftCertificateError:t.giftCertificates.getRemoveError,getLoadInstrumentsError:t.instruments.getLoadError,getDeleteInstrumentError:t.instruments.getDeleteError,getLoadConfigError:t.config.getLoadError,getSignInEmailError:t.signInEmail.getSendError,getCreateCustomerAccountError:t.customer.getCreateAccountError};return Object(d.__assign)({getError:A(e)},e)}))),L=(P=li((function(t){return t}),(function(t){return function(){return Object.keys(t).some((function(e){return t[e]()}))}})),j=Object(ri.a)((function(t){return t.shippingStrategies.isSelectingOption}),(function(t){return t.consignments.isUpdatingShippingOption}),(function(t,e){return function(n){return t()||e(n)}})),k=Object(ri.a)((function(t){return t.customerStrategies.isInitializing}),(function(t){return t.customerStrategies.isSigningIn}),(function(t){return t.customerStrategies.isSigningOut}),(function(t){return t.customerStrategies.isWidgetInteracting}),(function(t,e,n,r){return function(i){return t(i)||e(i)||n(i)||r(i)}})),M=Object(ri.a)((function(t){return t.shippingStrategies.isInitializing}),(function(t){return t.shippingStrategies.isUpdatingAddress}),(function(t){return t.shippingStrategies.isSelectingOption}),(function(t){return t.shippingStrategies.isWidgetInteracting}),(function(t,e,n,r){return function(i){return t(i)||e(i)||n(i)||r(i)}})),T=Object(ri.a)((function(t){return t.paymentStrategies.isInitializing}),(function(t){return t.paymentStrategies.isExecuting}),(function(t){return t.paymentStrategies.isFinalizing}),(function(t){return t.paymentStrategies.isWidgetInteracting}),(function(t,e,n,r){return function(i){return t(i)||e(i)||n(i)||r(i)}})),R=Object(ri.a)((function(t){return t.paymentStrategies.isExecuting}),(function(t){return t.checkout.isExecutingSpamCheck}),(function(t,e){return function(n){return t(n)||e()}})),Object(gt.memoizeOne)((function(t){var e={isLoadingCheckout:t.checkout.isLoading,isUpdatingCheckout:t.checkout.isUpdating,isExecutingSpamCheck:t.checkout.isExecutingSpamCheck,isSubmittingOrder:R(t),isFinalizingOrder:t.paymentStrategies.isFinalizing,isLoadingOrder:t.order.isLoading,isLoadingCart:t.cart.isLoading,isLoadingBillingCountries:t.countries.isLoading,isLoadingShippingCountries:t.shippingCountries.isLoading,isLoadingPaymentMethods:t.paymentMethods.isLoading,isLoadingPaymentMethod:t.paymentMethods.isLoadingMethod,isInitializingPayment:t.paymentStrategies.isInitializing,isSigningIn:t.customerStrategies.isSigningIn,isSigningOut:t.customerStrategies.isSigningOut,isInitializingCustomer:t.customerStrategies.isInitializing,isLoadingShippingOptions:t.consignments.isLoadingShippingOptions,isSelectingShippingOption:j(t),isUpdatingBillingAddress:t.billingAddress.isUpdating,isUpdatingSubscriptions:t.subscriptions.isUpdating,isCreatingCustomerAccount:t.customer.isCreatingCustomerAccount,isContinuingAsGuest:t.billingAddress.isContinuingAsGuest,isUpdatingShippingAddress:t.shippingStrategies.isUpdatingAddress,isUpdatingConsignment:t.consignments.isUpdating,isDeletingConsignment:t.consignments.isDeleting,isCreatingConsignments:t.consignments.isCreating,isInitializingShipping:t.shippingStrategies.isInitializing,isApplyingStoreCredit:t.storeCredit.isApplying,isApplyingCoupon:t.coupons.isApplying,isRemovingCoupon:t.coupons.isRemoving,isApplyingGiftCertificate:t.giftCertificates.isApplying,isRemovingGiftCertificate:t.giftCertificates.isRemoving,isLoadingInstruments:t.instruments.isLoading,isDeletingInstrument:t.instruments.isDeleting,isLoadingConfig:t.config.isLoading,isSendingSignInEmail:t.signInEmail.isSending,isCustomerStepPending:k(t),isShippingStepPending:M(t),isPaymentStepPending:T(t)};return Object(d.__assign)({isPending:P(e)},e)})));return function(t){return{data:D(t),errors:z(t),statuses:L(t)}}}var fi=function(){function t(t){this._messageCustomizer=t}return t.prototype.transform=function(t){var e;return t.message=(e=this._messageCustomizer(t))?e.split(/(?:\r\n|\n|\r)/).map((function(t){return t.replace(/^\s+/gm,"")})).join(" ").trim():"",t},t}();var _i=function(){function t(t,e,n,r,i,o,a,s,c,d,p,h,l,m,f,_,y,b,C,O,S,w){var I,A,E,P;this._store=t,this._billingAddressActionCreator=e,this._checkoutActionCreator=n,this._configActionCreator=r,this._customerActionCreator=i,this._consignmentActionCreator=o,this._countryActionCreator=a,this._couponActionCreator=s,this._customerStrategyActionCreator=c,this._errorActionCreator=d,this._giftCertificateActionCreator=p,this._instrumentActionCreator=h,this._orderActionCreator=l,this._paymentMethodActionCreator=m,this._paymentStrategyActionCreator=f,this._shippingCountryActionCreator=_,this._shippingStrategyActionCreator=y,this._signInEmailActionCreator=b,this._spamProtectionActionCreator=C,this._storeCreditActionCreator=O,this._subscriptionsActionCreator=S,this._formFieldsActionCreator=w,this._errorTransformer=(void 0===I&&(I="development"===u()),new fi((function(t){if(!I||!function(t){return!(!t.subtype&&!t.type)}(t))return t.message;switch(t.subtype||t.type){case v.a.MissingConsignments:return"\n                "+t.message+"\n                The data could be unavailable because no shipping address has been provided.\n                To fix this, create a consignment or update the shipping address before performing\n                the same action again.\n            ";case v.a.MissingCart:case v.a.MissingCheckout:return"\n                "+t.message+"\n                The data could be unavailable because it has not loaded from the server yet.\n                To fix this issue, you can try calling `CheckoutService#loadCheckout`\n                before performing the same action again.\n            ";case v.a.MissingCheckoutConfig:return"\n                "+t.message+"\n                The data could be unavailable because it has not loaded from the server yet.\n                To fix this issue, you need to make sure `CheckoutService` is initialized\n                properly by calling `CheckoutService#loadCheckout` before performing any\n                other actions.\n            ";case v.a.MissingOrder:return"\n                "+t.message+"\n                The data could be unavailable because it has not loaded from the server yet.\n                To fix this issue, you can try calling `CheckoutService#loadOrder`\n                before performing the same action again.\n            ";case v.a.MissingOrderId:return"\n                "+t.message+"\n                The data could be unavailable because no order has been created yet. You have\n                to first create the order before you can perform the action.\n            ";case v.a.MissingPaymentMethod:return"\n                "+t.message+"\n                The data could be unavailable because it has not loaded from the server, or\n                configured by the merchant yet. To fix the former issue, you can try calling\n                `CheckoutService#loadPaymentMethods` before performing the same action again.\n            ";case bt.a.CustomerNotInitialized:return"\n                In order to initialize the customer step of checkout, you need to call\n                `CheckoutService#initializeCustomer`. Afterwards, you should be able to\n                submit customer details.\n            ";case bt.a.PaymentNotInitialized:return"\n                "+t.message+"\n                In order to initialize the payment step of checkout, you need to call\n                `CheckoutService#initializePayment`. Afterwards, you should be able to\n                submit payment details.\n            ";case bt.a.ShippingNotInitialized:return"\n                "+t.message+"\n                In order to initialize the shipping step of checkout, you need to call\n                `CheckoutService#initializeShipping`. Afterwards, you should be able to\n                submit shipping details.\n            ";default:return t.message}}))),this._selectorsFactory=mi(),this._storeProjection=(A=this._store,E=this._selectorsFactory,P=Object(g.createDataStore)((function(t,e){return e.type===$r.Synchronize?e.payload:t}),A.getState(),{stateTransformer:E}),A.subscribe((function(t){P.dispatch(Object(g.createAction)($r.Synchronize,t))}),{initial:!1}),P)}return t.prototype.getState=function(){return this._storeProjection.getState()},t.prototype.notifyState=function(){this._storeProjection.notifyState()},t.prototype.subscribe=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return(e=this._storeProjection).subscribe.apply(e,Object(d.__spreadArrays)([t],n))},t.prototype.loadCheckout=function(t,e){return this._dispatch(t?this._checkoutActionCreator.loadCheckout(t,e):this._checkoutActionCreator.loadDefaultCheckout(e))},t.prototype.updateCheckout=function(t,e){var n=this._checkoutActionCreator.updateCheckout(t,e);return this._dispatch(n)},t.prototype.loadOrder=function(t,e){var n=this,r=this._orderActionCreator.loadOrder(t,e),i=this._formFieldsActionCreator.loadFormFields(e),o=this._configActionCreator.loadConfig(e);return Promise.all([this._dispatch(r),this._dispatch(o,{queueId:"config"}),this._dispatch(i,{queueId:"formFields"})]).then((function(){return n.getState()}))},t.prototype.submitOrder=function(t,e){var n=this._paymentStrategyActionCreator.execute(t,e);return this._dispatch(n,{queueId:"paymentStrategy"})},t.prototype.finalizeOrderIfNeeded=function(t){var e=this._paymentStrategyActionCreator.finalize(t);return this._dispatch(e,{queueId:"paymentStrategy"})},t.prototype.loadPaymentMethods=function(t){var e=this._paymentMethodActionCreator.loadPaymentMethods(t);return this._dispatch(e,{queueId:"paymentMethods"})},t.prototype.loadPaymentMethod=function(t,e){var n=this._paymentMethodActionCreator.loadPaymentMethod(t,e);return this._dispatch(n,{queueId:"paymentMethods"})},t.prototype.initializePayment=function(t){var e=this._paymentStrategyActionCreator.initialize(t);return this._dispatch(e,{queueId:"paymentStrategy"})},t.prototype.deinitializePayment=function(t){var e=this._paymentStrategyActionCreator.deinitialize(t);return this._dispatch(e,{queueId:"paymentStrategy"})},t.prototype.loadBillingCountries=function(t){var e=this._countryActionCreator.loadCountries(t);return this._dispatch(e,{queueId:"billingCountries"})},t.prototype.loadShippingCountries=function(t){var e=this._shippingCountryActionCreator.loadCountries(t);return this._dispatch(e,{queueId:"shippingCountries"})},t.prototype.loadBillingAddressFields=function(t){return this.loadBillingCountries(t)},t.prototype.loadShippingAddressFields=function(t){return this.loadShippingCountries(t)},t.prototype.initializeCustomer=function(t){var e=this._customerStrategyActionCreator.initialize(t);return this._dispatch(e,{queueId:"customerStrategy"})},t.prototype.deinitializeCustomer=function(t){var e=this._customerStrategyActionCreator.deinitialize(t);return this._dispatch(e,{queueId:"customerStrategy"})},t.prototype.sendSignInEmail=function(t,e){var n=this._signInEmailActionCreator.sendSignInEmail(t,e);return this._dispatch(n,{queueId:"signInEmail"})},t.prototype.createCustomerAccount=function(t,e){var n=this._customerActionCreator.createCustomer(t,e);return this._dispatch(n)},t.prototype.updateSubscriptions=function(t,e){var n=this._subscriptionsActionCreator.updateSubscriptions(t,e);return this._dispatch(n,{queueId:"subscriptions"})},t.prototype.continueAsGuest=function(t,e){var n=this._billingAddressActionCreator.continueAsGuest(t,e);return this._dispatch(n)},t.prototype.signInCustomer=function(t,e){var n=this._customerStrategyActionCreator.signIn(t,e);return this._dispatch(n,{queueId:"customerStrategy"})},t.prototype.signOutCustomer=function(t){var e=this._customerStrategyActionCreator.signOut(t);return this._dispatch(e,{queueId:"customerStrategy"})},t.prototype.loadShippingOptions=function(t){var e=this._consignmentActionCreator.loadShippingOptions(t);return this._dispatch(e)},t.prototype.initializeShipping=function(t){var e=this._shippingStrategyActionCreator.initialize(t);return this._dispatch(e,{queueId:"shippingStrategy"})},t.prototype.deinitializeShipping=function(t){var e=this._shippingStrategyActionCreator.deinitialize(t);return this._dispatch(e,{queueId:"shippingStrategy"})},t.prototype.selectShippingOption=function(t,e){var n=this._shippingStrategyActionCreator.selectOption(t,e);return this._dispatch(n,{queueId:"shippingStrategy"})},t.prototype.updateShippingAddress=function(t,e){var n=this._shippingStrategyActionCreator.updateAddress(t,e);return this._dispatch(n,{queueId:"shippingStrategy"})},t.prototype.createConsignments=function(t,e){var n=this._consignmentActionCreator.createConsignments(t,e);return this._dispatch(n,{queueId:"shippingStrategy"})},t.prototype.deleteConsignment=function(t,e){var n=this._consignmentActionCreator.deleteConsignment(t,e);return this._dispatch(n,{queueId:"shippingStrategy"})},t.prototype.updateConsignment=function(t,e){var n=this._consignmentActionCreator.updateConsignment(t,e);return this._dispatch(n,{queueId:"shippingStrategy"})},t.prototype.assignItemsToAddress=function(t,e){var n=this._consignmentActionCreator.assignItemsByAddress(t,e);return this._dispatch(n,{queueId:"shippingStrategy"})},t.prototype.unassignItemsToAddress=function(t,e){var n=this._consignmentActionCreator.unassignItemsByAddress(t,e);return this._dispatch(n,{queueId:"shippingStrategy"})},t.prototype.selectConsignmentShippingOption=function(t,e,n){var r=this._consignmentActionCreator.updateShippingOption({id:t,shippingOptionId:e},n);return this._dispatch(r,{queueId:"shippingStrategy"})},t.prototype.updateBillingAddress=function(t,e){void 0===e&&(e={});var n=this._billingAddressActionCreator.updateAddress(t,e);return this._dispatch(n)},t.prototype.applyStoreCredit=function(t,e){var n=this._storeCreditActionCreator.applyStoreCredit(t,e);return this._dispatch(n)},t.prototype.applyCoupon=function(t,e){var n=this._couponActionCreator.applyCoupon(t,e);return this._dispatch(n)},t.prototype.removeCoupon=function(t,e){var n=this._couponActionCreator.removeCoupon(t,e);return this._dispatch(n)},t.prototype.applyGiftCertificate=function(t,e){var n=this._giftCertificateActionCreator.applyGiftCertificate(t,e);return this._dispatch(n)},t.prototype.removeGiftCertificate=function(t,e){var n=this._giftCertificateActionCreator.removeGiftCertificate(t,e);return this._dispatch(n)},t.prototype.loadInstruments=function(){var t=this._instrumentActionCreator.loadInstruments();return this._dispatch(t)},t.prototype.deleteInstrument=function(t){var e=this,n=this._instrumentActionCreator.deleteInstrument(t);return this._dispatch(n).then((function(){return e.loadInstruments()}))},t.prototype.clearError=function(t){var e=this._errorActionCreator.clearError(t);return this._dispatch(e)},t.prototype.initializeSpamProtection=function(t){var e=this._spamProtectionActionCreator.initialize(t);return this._dispatch(e,{queueId:"spamProtection"})},t.prototype.executeSpamCheck=function(){var t=this._spamProtectionActionCreator.verifyCheckoutSpamProtection();return this._dispatch(t,{queueId:"spamProtection"})},t.prototype._dispatch=function(t,e){var n=this;return this._store.dispatch(t,e).then((function(){return n.getState()})).catch((function(t){throw n._errorTransformer.transform(t)}))},t=Object(d.__decorate)([Dt.a],t)}(),yi=n(136);function gi(t){"https:"!==document.location.protocol&&f().warn("The BigCommerce Checkout SDK should not be used on a non-HTTPS page"),"production"!==u()&&f().warn("Note that the development build is not optimized. To create a production build, set process.env.NODE_ENV to `production`.");var e={meta:{externalSource:t&&t.externalSource,variantIdentificationToken:window.checkoutVariantIdentificationToken},errors:{},statuses:{}},n=t||{},s=n.locale,d=void 0===s?"":s,p=n.shouldWarnMutation,h=void 0===p||p,l=Object(r.createRequestSender)({host:t&&t.host}),m=Object(yi.a)({config:e},{shouldWarnMutation:h}),g=function(t){var e=Object(Wt.createClient)();return t.subscribe((function(t){var n=t.config.getStoreConfig();n&&e.setHost(n.paymentSettings.bigpayBaseUrl)}),(function(t){return t.config.getStoreConfig()})),e}(m),b=new Gt(l),v=new U.a(l),C=new _.a(new y.a(l)),S=St(Object(i.createScriptLoader)()),w=new wt(l),I=new _t(S,w),A=new Ht(b,new ee(v)),P=new Ie.a(new Ae.a(l)),M=new G.a(new V.a(l)),T=new x.a(v,C,M);return new _i(m,new o.a(new a.a(l),P),T,C,new z(new L(l),T,I),new Gr.a(new Vr.a(l),v),new Ut(new xt(l,{locale:d})),new O(new E(l)),new F(function(t,e){var n=new B.a,r=Object(i.getScriptLoader)(),o=new U.a(e),a=new x.a(o,new _.a(new y.a(e)),new G.a(new V.a(e))),s=Object(q.createFormPoster)(),c=new Y.a(new H.a(e)),u=new ut(e),d=new pt(u);return n.register("googlepayadyenv2",(function(){return new zt(t,d,Object(nt.a)(t,new rt.a),s)})),n.register("amazon",(function(){return new Et(t,c,d,u,new W(r))})),n.register("amazonpay",(function(){return new kt(t,c,d,Object(K.a)())})),n.register("braintreevisacheckout",(function(){return new Mt(t,a,c,new F(n),d,X(r,e),new tt(r))})),n.register("chasepay",(function(){return new Tt(t,c,d,new et(r),e,s)})),n.register("squarev2",(function(){return new Ft(t,new pt(u))})),n.register("masterpass",(function(){return new Nt(t,c,d,new ct.a(r))})),n.register("googlepayauthorizenet",(function(){return new zt(t,d,Object(nt.a)(t,new it.a),s)})),n.register("googlepaybraintree",(function(){return new zt(t,d,Object(nt.a)(t,new ot.a(new Z.a(new J.a(r)))),s)})),n.register("googlepaycheckoutcom",(function(){return new zt(t,d,Object(nt.a)(t,new at.a(e)),s)})),n.register("googlepaystripe",(function(){return new zt(t,d,Object(nt.a)(t,new st.a),s)})),n.register("default",(function(){return new Rt(t,new z(new L(e),a,new _t(St(r),new wt(e))))})),n}(m,l)),new c,new j(new k(l)),new Ur(new Br(g,l)),A,new Y.a(new H.a(l)),new Xt(Fr(m,g,l,S,d),A,I),new Hr(new Wr(l,{locale:d})),new Jr(function(t,e){var n=new B.a,r=new U.a(e),o=new Vr.a(e),a=new Gr.a(o,r);return n.register("amazon",(function(){return new Zr(t,a,new Y.a(new H.a(e)),new pt(new ut(e)),new W(Object(i.getScriptLoader)()))})),n.register("amazonpay",(function(){return new Qr(t,a,new Y.a(new H.a(e)),Object(K.a)(),new Jr(n))})),n.register("default",(function(){return new Xr(t,a)})),n}(m,l)),new ei(new ni(l)),I,new Se(new we(l)),P,M)}var bi=n(147),vi=n(148),Ci=n(149),Oi=n(151),Si=n.n(Oi),wi=function(){function t(t,e){this._logger=e;var n=this._transformConfig(t),r=n.locale,i=n.locales,o=n.translations;this._locale=r,this._locales=i,this._translations=o,this._formatters={}}return t.prototype.mapKeys=function(t){var e=this;Object.keys(t).forEach((function(n){var r="optimized_checkout."+t[n];e._translations["optimized_checkout."+n]=e._translations[r]}))},t.prototype.getLocale=function(){return this._hasTranslations()?this._locale:"en"},t.prototype.translate=function(t,e){void 0===e&&(e={});var n="optimized_checkout."+t;if("string"!=typeof this._translations[n])return this._logger.warn('Translation key "'+n+'" is missing'),n;if(!this._formatters[n]){var r=new Si.a(this._locales[n]);this._formatters[n]=r.compile(this._translations[n]||"")}return this._formatters[n](this._transformData(e))},t.prototype._transformConfig=function(t){void 0===t&&(t={});var e={defaultTranslations:{},translations:{},locales:{},locale:t.locale||"en"},n=t.locales||{},r=this._flattenObject(t.translations||{}),i=this._flattenObject(t.defaultTranslations||{});return Object(Bt.union)(Object.keys(i),Object.keys(r)).forEach((function(t){r&&r[t]?(e.translations[t]=r[t],e.locales[t]=n[t]||e.locale):(e.translations[t]=i[t],e.locales[t]="en")})),e},t.prototype._flattenObject=function(t,e,n){var r=this;void 0===e&&(e={}),void 0===n&&(n="");try{Object.keys(t).forEach((function(i){var o=t[i],a=n?n+"."+i:i;if(Object(Bt.isObject)(o))return r._flattenObject(o,e,a);e[a]=o}))}catch(t){this._logger.warn("Unable to parse object: "+t)}return e},t.prototype._transformData=function(t){return Object.keys(t).reduce((function(e,n){var r=t[n];return e[n]=null==r?"":r,e}),{})},t.prototype._hasTranslations=function(){var t=this;return Object.keys(this._locales).map((function(e){return t._locales[e]})).filter((function(e){return e.split("-")[0]===t._locale.split("-")[0]})).length>0},t=Object(d.__decorate)([Dt.a],t)}();function Ii(t){return void 0===t&&(t={}),new wi(t,f())}var Ai=function(){function t(t){if(!t)throw new Error("Currency settings missing");var e=t.decimalPlaces,n=t.symbolLocation,r=t.symbol,i=t.thousandsSeparator,o=t.decimalSeparator;if("string"!=typeof n||"string"!=typeof r||"string"!=typeof i||"string"!=typeof o||"string"!=typeof e)throw new It.a("Invalid currency settings provided");this._decimalPlaces=parseInt(e,10),this._symbolLocation=n,this._symbol=r,this._thousandsSeparator=i,this._decimalSeparator=o}return t.prototype.format=function(t){if("number"!=typeof t)throw new It.a("Invalid amount provided");var e=this._formatNumber(t),n=this._formatCurrency(e);return t<0?"-"+n:n},t.prototype._formatNumber=function(t){var e=Math.abs(t),n=this._toFixed(e,this._decimalPlaces).split("."),r=n[0],i=n[1],o=void 0===i?"":i,a=r.replace(/\B(?=(\d{3})+(?!\d))/g,this._thousandsSeparator);return this._decimalPlaces<1?a:[a,o].join(this._decimalSeparator)},t.prototype._formatCurrency=function(t){return"left"===this._symbolLocation.toLowerCase()?""+this._symbol+t:""+t+this._symbol},t.prototype._toFixed=function(t,e){return(+(Math.round(+(t+"e"+e))+"e"+-e)).toFixed(e)},t}(),Ei=function(){function t(t){this._storeConfig=t,this._customerFormatter=new Ai(this._storeConfig.shopperCurrency),this._storeFormatter=new Ai(this._storeConfig.currency)}return t.prototype.toCustomerCurrency=function(t){var e=this._storeConfig.shopperCurrency.exchangeRate;return this._customerFormatter.format(t*e)},t.prototype.toStoreCurrency=function(t){return this._storeFormatter.format(t)},t=Object(d.__decorate)([Dt.a],t)}();function Pi(t){return new Ei(t)}var ji,ki=n(51),Mi=n.n(ki);!function(t){t[t.CUSTOMER=1]="CUSTOMER",t[t.SHIPPING=2]="SHIPPING",t[t.BILLING=3]="BILLING",t[t.PAYMENT=4]="PAYMENT"}(ji||(ji={}));var Ti={customer:ji.CUSTOMER,shipping:ji.SHIPPING,billing:ji.BILLING,payment:ji.PAYMENT},Ri=function(){function t(t,e,n,r){var i=(void 0===r?{}:r).checkoutSteps;if(this.checkoutService=t,this.storage=e,this.analytics=n,this._checkoutStarted=!1,this._completedSteps={},this._viewedSteps={},this._analyticStepOrder=["customer","shipping","billing","payment"],void 0!==i){if(i.some((function(t){return!(t in Ti)})))throw new It.a("Invalid checkout steps provided. Valid values are: "+Object(Bt.keys)(Ti).join(", ")+".");this._analyticStepOrder=i}}return t.prototype.trackCheckoutStarted=function(){if(!this._checkoutStarted){var t=this.getCheckout();if(t){var e=t.coupons,n=t.grandTotal,r=t.shippingCostTotal,i=t.taxTotal,o=t.cart,a=o.lineItems,s=o.discountAmount,c=o.id,u=this.saveExtraItemsData(c,a);this.analytics.track("Checkout Started",this.getTrackingPayload({revenue:n,shipping:r,tax:i,discount:s,coupons:e,lineItems:a,extraItemsData:u})),this._checkoutStarted=!0}}},t.prototype.trackOrderComplete=function(){var t,e=this,n=this.getOrder();if(n){var r=n.isComplete,i=n.orderId,o=n.orderAmount,a=n.shippingCostTotal,s=n.taxTotal,c=n.discountAmount,u=n.coupons,d=n.lineItems,p=n.cartId;if(r){var h=this.readExtraItemsData(p);if(null!==h){var l=null===(t=this.checkoutService.getState().data.getConfig())||void 0===t?void 0:t.checkoutSettings.features["DATA-6891.missing_orders_within_GA"],m=this.getTrackingPayload({orderId:i,revenue:o,shipping:a,tax:s,discount:c,coupons:u,extraItemsData:h,lineItems:d});if(l&&this.analytics.hasPayloadLimit(m))return this.analytics.hit("transaction",{"&ti":m.orderId,"&ta":m.affiliation,"&tr":m.revenue,"&ts":m.shipping,"&tt":m.tax,"&tcc":m.coupon,"&cu":m.currency}),m.products.map((function(t){e.analytics.hit("item",{"&ti":m.orderId,"&in":t.name,"&ic":t.sku,"&iv":""+t.category,"&ip":t.price,"&iq":t.quantity})})),this.clearExtraItemData(p);this.analytics.track("Order Completed",m),this.clearExtraItemData(p)}}}},t.prototype.trackStepViewed=function(t){var e=this.getIdFromStep(t);e&&!this.hasStepViewed(e)&&(this.trackViewed(e),this.backfill(e))},t.prototype.trackStepCompleted=function(t){var e=this.getIdFromStep(t);e&&!this.hasStepCompleted(e)&&(this.backfill(e),this.trackCompleted(e))},t.prototype.backfill=function(t){for(var e=0,n=this._analyticStepOrder;e<n.length;e++){var r=n[e],i=this.getIdFromStep(r);if(!i)break;if(this.hasStepViewed(i)||this.trackViewed(i),i===t)break;this.hasStepCompleted(i)||this.trackCompleted(i)}},t.prototype.trackCompleted=function(t){var e=this.getSelectedShippingOption(),n=(this.getShopperCurrency()||{}).code,r=void 0===n?"":n,i=this.getPaymentMethodName(),o={step:t,currency:r};e&&(o.shippingMethod=e.description),i&&(o.paymentMethod=i),o.shippingMethod||o.paymentMethod||(o.shippingMethod=" "),this.analytics.track("Checkout Step Completed",o);var a=e?e.id:"",s=t===ji.SHIPPING?t+"-"+a:t;this._completedSteps[s]=!0},t.prototype.getTrackingPayload=function(t){var e=t.orderId,n=t.revenue,r=t.shipping,i=t.tax,o=t.discount,a=t.coupons,s=t.extraItemsData,c=t.lineItems,u=(this.getShopperCurrency()||{}).code,d=void 0===u?"":u,p=(this.getStoreProfile()||{}).storeName;return{orderId:e,affiliation:void 0===p?"":p,revenue:this.toShopperCurrency(n),shipping:this.toShopperCurrency(r),tax:this.toShopperCurrency(i),discount:this.toShopperCurrency(o),coupon:(a||[]).map((function(t){return t.code.toUpperCase()})).join(","),currency:d,products:this.getProducts(s,c)}},t.prototype.hasStepCompleted=function(t){var e=this.getSelectedShippingOption(),n=e?e.id:"";return this._completedSteps.hasOwnProperty(t)||t===ji.SHIPPING&&this._completedSteps.hasOwnProperty(t+"-"+n)},t.prototype.hasStepViewed=function(t){return!!this._viewedSteps[t]},t.prototype.getIdFromStep=function(t){var e=t.split(".");return Ti[e[0]]||null},t.prototype.trackViewed=function(t){var e=this.getShopperCurrency();this.analytics.track("Checkout Step Viewed",{step:t,currency:e?e.code:""}),this._viewedSteps[t]=!0},t.prototype.getOrder=function(){return(0,this.checkoutService.getState().data.getOrder)()},t.prototype.getCheckout=function(){return(0,this.checkoutService.getState().data.getCheckout)()},t.prototype.getShopperCurrency=function(){var t=(0,this.checkoutService.getState().data.getConfig)();return t&&t.shopperCurrency},t.prototype.getStoreProfile=function(){var t=(0,this.checkoutService.getState().data.getConfig)();return t&&t.storeProfile},t.prototype.toShopperCurrency=function(t){var e=(this.getShopperCurrency()||{}).exchangeRate,n=void 0===e?1:e;return Math.round(t*n*100)/100},t.prototype.saveExtraItemsData=function(t,e){var n=Object(d.__spreadArrays)(e.physicalItems,e.digitalItems).reduce((function(t,e){return t[e.productId]={brand:e.brand?e.brand:"",category:e.categoryNames?e.categoryNames.join(", "):""},t}),{});try{return this.storage.setItem(this.getStorageKey(t),JSON.stringify(n)),n}catch(t){return{}}},t.prototype.getStorageKey=function(t){return t?"ORDER_ITEMS_"+t:""},t.prototype.readExtraItemsData=function(t){try{var e=this.storage.getItem(this.getStorageKey(t));return e?JSON.parse(e):null}catch(t){return null}},t.prototype.clearExtraItemData=function(t){try{this.storage.removeItem(this.getStorageKey(t))}catch(t){}},t.prototype.getSelectedShippingOption=function(){var t=this.checkoutService.getState().data.getSelectedShippingOption();return t&&t.id&&t.description?t:null},t.prototype.getPaymentMethodName=function(){var t=this.checkoutService.getState().data.getSelectedPaymentMethod();return t&&t.config&&t.config.displayName||""},t.prototype.getProducts=function(t,e){var n=this,r=(e.customItems||[]).map((function(t){return{product_id:t.id,sku:t.sku,price:t.listPrice,quantity:t.quantity,name:t.name}})),i=e.giftCertificates.map((function(t){return{product_id:t.id,price:n.toShopperCurrency(t.amount),name:t.name,quantity:1}})),o=Object(d.__spreadArrays)(e.physicalItems,e.digitalItems).map((function(e){var n;return e.options&&e.options.length&&(n=e.options.map((function(t){return t.name+":"+t.value}))).sort(),{product_id:e.productId,sku:e.sku,price:e.salePrice,image_url:e.imageUrl,name:e.name,quantity:e.quantity,brand:t[e.productId]?t[e.productId].brand:"",category:t[e.productId]?t[e.productId].category:"",variant:(n||[]).join(", ")}}));return Object(d.__spreadArrays)(r,o,i)},t}();var Di=function(){function t(){}return t.prototype.trackCheckoutStarted=function(){},t.prototype.trackOrderComplete=function(){},t.prototype.trackStepViewed=function(){},t.prototype.trackStepCompleted=function(){},t}();function zi(t,e){var n=t.getState().data.getConfig();if(!n)throw new v.b(v.a.MissingCheckoutConfig);return n.checkoutSettings.isAnalyticsEnabled&&function(t){return Boolean(t.analytics)}(window)?new Ri(t,Mi.a,window.analytics,e):new Di}n.d(e,"createTimeout",(function(){return r.createTimeout})),n.d(e,"createCheckoutService",(function(){return gi})),n.d(e,"createCheckoutButtonInitializer",(function(){return bi.a})),n.d(e,"embedCheckout",(function(){return vi.a})),n.d(e,"createEmbeddedCheckoutMessenger",(function(){return Ci.a})),n.d(e,"createLanguageService",(function(){return Ii})),n.d(e,"createCurrencyService",(function(){return Pi})),n.d(e,"createStepTracker",(function(){return zi}))},,function(t,e,n){"use strict";var r,i,o,a,s=n(0),c=n(52),u=n(45),d=function(){function t(t){this._scriptLoader=t,this._window=window}return t.prototype.loadPaypalCommerce=function(t,e){return Object(s.__awaiter)(this,void 0,void 0,(function(){return Object(s.__generator)(this,(function(n){switch(n.label){case 0:return this._validateParams(t,e),this._window.paypalLoadScript?[3,2]:("https://unpkg.com/@paypal/paypal-js@1.0.2/dist/paypal.browser.min.js",[4,this._scriptLoader.loadScript("https://unpkg.com/@paypal/paypal-js@1.0.2/dist/paypal.browser.min.js",{async:!0,attributes:{}})]);case 1:if(n.sent(),!this._window.paypalLoadScript)throw new u.a;n.label=2;case 2:return[4,this._window.paypalLoadScript(t)];case 3:if(n.sent(),!this._window.paypal)throw new u.a;return[2,this._window.paypal]}}))}))},t.prototype._validateParams=function(t,e){var n;if(t?t["client-id"]?t["merchant-id"]||e||(n="merchant-id"):n="client-id":n="options",n)throw new c.a('Unable to proceed because "'+n+'" argument in PayPal script is not provided.')},t}(),p=n(72),h=n(39),l=function(){function t(t){this._requestSender=t}return t.prototype.setupPayment=function(t,e){return void 0===e&&(e={}),Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,c,u;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return n=e.isCredit,r=e.isCheckout,i=e.isCreditCard,o="paypalcommerce",i?o="paypalcommercecreditcardscheckout":r?o=n?"paypalcommercecreditcheckout":"paypalcommercecheckout":n&&(o="paypalcommercecredit"),a="/api/storefront/payment/"+o,c={cartId:t},u={"X-API-INTERNAL":p.a,"Content-Type":h.a.Json},[4,this._requestSender.post(a,{headers:u,body:c})];case 1:return[2,s.sent().body]}}))}))},t}(),m=n(2),f=n(111),_=n(180);!function(t){t.paypal="paypal",t.checkout="checkout",t.buynow="buynow",t.pay="pay",t.installment="installment"}(r||(r={})),function(t){t.vertical="vertical",t.horizontal="horizontal"}(i||(i={})),function(t){t.gold="gold",t.blue="blue",t.silver="silver",t.black="black",t.white="white"}(o||(o={})),function(t){t.pill="pill",t.rect="rect"}(a||(a={}));var y=function(){function t(t,e){this._paypalScriptLoader=t,this._paypalCommerceRequestSender=e,this._validateStyleParams=function(t){var e=Object(s.__assign)({},t),n=t.label,c=t.color,u=t.layout,d=t.shape,p=t.height,h=t.tagline;return n&&!r[n]&&delete e.label,u&&!i[u]&&delete e.layout,c&&!o[c]&&delete e.color,d&&!a[d]&&delete e.shape,"number"==typeof p?e.height=p<25?25:p>55?55:p:delete e.height,("boolean"!=typeof h||h&&e.layout!==i[i.horizontal])&&delete e.tagline,e}}return t.prototype.initialize=function(t,e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n;return Object(s.__generator)(this,(function(r){switch(r.label){case 0:return n=this,[4,this._paypalScriptLoader.loadPaypalCommerce(t,e)];case 1:return n._paypal=r.sent(),[2,this._paypal]}}))}))},t.prototype.renderButtons=function(t,e,n,r){var i=this;if(void 0===n&&(n={}),void 0===r&&(r={}),!this._paypal||!this._paypal.Buttons)throw new u.a;var o=r.paramsForProvider,a=r.fundingKey,c=r.onRenderButton,d=Object(s.__assign)(Object(s.__assign)({},n),{createOrder:function(){return i._setupPayment(t,o)},onClick:function(t,e){return Object(s.__awaiter)(i,void 0,void 0,(function(){var r;return Object(s.__generator)(this,(function(i){return this._fundingSource=t.fundingSource,[2,null===(r=n.onClick)||void 0===r?void 0:r.call(n,t,e)]}))}))}});return n.style&&(d.style=this._validateStyleParams(n.style)),a&&(this._fundingSource=this._paypal.FUNDING[a],d.fundingSource=this._fundingSource),this._paypalButtons=this._paypal.Buttons(d),this._paypalButtons.isEligible()||this._processNotEligible(d,a),null==c||c(),this._paypalButtons.render(e),this._paypalButtons},t.prototype.renderMessages=function(t,e){if(!this._paypal||!this._paypal.Messages)throw new u.a;return this._paypalMessages=this._paypal.Messages({amount:t,placement:"cart",style:{layout:"text"}}),this._paypalMessages.render(e),this._paypalMessages},t.prototype.renderHostedFields=function(t,e,n){return Object(s.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a=this;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:if(!this._paypal||!this._paypal.HostedFields)throw new u.a;if(r=e.fields,i=e.styles,!this._paypal.HostedFields.isEligible())throw new f.b(f.a.PaymentNotInitialized);return o=this,[4,this._paypal.HostedFields.render({fields:r,styles:i,paymentsSDK:!0,createOrder:function(){return a._setupPayment(t,{isCreditCard:!0})}})];case 1:return o._hostedFields=s.sent(),n&&Object.keys(n).forEach((function(t){a._hostedFields.on(t,n[t])})),[2]}}))}))},t.prototype.submitHostedFields=function(t){return Object(s.__awaiter)(this,void 0,void 0,(function(){return Object(s.__generator)(this,(function(e){if(!this._hostedFields)throw new f.b(f.a.PaymentNotInitialized);return[2,this._hostedFields.submit(Object(m.omitBy)(t,m.isNil))]}))}))},t.prototype.getHostedFieldsValidationState=function(){if(!this._hostedFields)throw new f.b(f.a.PaymentNotInitialized);var t=this._hostedFields.getState().fields;return{isValid:Object.keys(t).every((function(e){var n;return null===(n=t[e])||void 0===n?void 0:n.isValid})),fields:t}},t.prototype.deinitialize=function(){var t,e;null===(e=null===(t=this._paypalButtons)||void 0===t?void 0:t.close)||void 0===e||e.call(t),this._paypal=void 0,this._paypalButtons=void 0,this._fundingSource=void 0,this._hostedFields=void 0},t.prototype._setupPayment=function(t,e){return void 0===e&&(e={}),Object(s.__awaiter)(this,void 0,void 0,(function(){var n;return Object(s.__generator)(this,(function(r){switch(r.label){case 0:return n=Object(s.__assign)(Object(s.__assign)({},e),{isCredit:"credit"===this._fundingSource||"paylater"===this._fundingSource}),[4,this._paypalCommerceRequestSender.setupPayment(t,n)];case 1:return[2,r.sent().orderId]}}))}))},t.prototype._processNotEligible=function(t,e){var n,r,i,o;if(e!==(null===(n=this._paypal)||void 0===n?void 0:n.FUNDING.PAYLATER)||(t.fundingSource=null===(r=this._paypal)||void 0===r?void 0:r.FUNDING.CREDIT,this._paypalButtons=null===(i=this._paypal)||void 0===i?void 0:i.Buttons(t),null===(o=this._paypalButtons)||void 0===o||!o.isEligible()))throw new _.a("PayPal "+(this._fundingSource||"")+" is not available for your region. Please use PayPal Checkout instead.")},t}();function g(t,e){var n=new d(t),r=new l(e);return new y(n,r)}n.d(e,"a",(function(){return g}))},function(t,e,n){"use strict";var r=n(31),i=n(0),o=n(111),a=function(){function t(t){this._amazonPayV2ScriptLoader=t}return t.prototype.initialize=function(t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return e=this,[4,this._amazonPayV2ScriptLoader.load(t)];case 1:return e._amazonPayV2SDK=n.sent(),[2]}}))}))},t.prototype.deinitialize=function(){return this._amazonPayV2SDK=void 0,Promise.resolve()},t.prototype.bindButton=function(t,e,n){this._getAmazonPayV2SDK().Pay.bindChangeAction("#"+t,{amazonCheckoutSessionId:e,changeAction:n})},t.prototype.createButton=function(t,e){return this._getAmazonPayV2SDK().Pay.renderButton(t,e)},t.prototype.signout=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return this._amazonPayV2SDK&&this._amazonPayV2SDK.Pay.signout(),[2,Promise.resolve()]}))}))},t.prototype._getAmazonPayV2SDK=function(){if(!this._amazonPayV2SDK)throw new o.b(o.a.PaymentNotInitialized);return this._amazonPayV2SDK},t}(),s=n(45),c=n(103),u=function(){function t(t,e){void 0===e&&(e=window),this._scriptLoader=t,this._window=e}return t.prototype.load=function(t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var e,n,r,o;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return e=t.initializationData,n=(void 0===e?{}:e).region,r=void 0===n?"us":n,o=c.c[r],[4,this._scriptLoader.loadScript("https://static-"+o+".payments-amazon.com/checkout.js")];case 1:if(i.sent(),!this._window.amazon)throw new s.a;return[2,this._window.amazon]}}))}))},t}();function d(){return new a(new u(Object(r.getScriptLoader)()))}n.d(e,"a",(function(){return d}))},function(t,e,n){"use strict";var r=n(46),i=n(31),o=n(201),a=n(178),s=n(137),c=n(130),u=n(131),d=n(200),p=n(175),h=n(87),l=n(88),m=n(111),f=n(12),_=n(181),y=n(170),g=n(29),b=function(){function t(t,e,n,r,i,o,a){this._store=t,this._paymentMethodActionCreator=e,this._googlePayScriptLoader=n,this._googlePayInitializer=r,this._billingAddressActionCreator=i,this._consignmentActionCreator=o,this._requestSender=a}return t.prototype.initialize=function(t){return this._methodId=t,this._configureWallet()},t.prototype.deinitialize=function(){return this._googlePayInitializer.teardown()},t.prototype.createButton=function(t,e,n){if(void 0===e&&(e=g.c.Short),void 0===n&&(n=g.b.Default),!this._googlePayClient)throw new m.b(m.a.PaymentNotInitialized);return this._googlePayClient.createButton({buttonColor:n,buttonType:e,onClick:t})},t.prototype.displayWallet=function(){if(!this._googlePayClient)throw new m.b(m.a.PaymentNotInitialized);return this._googlePayClient.loadPaymentData(this._getPaymentDataRequest())},t.prototype.handleSuccess=function(t){var e=this;return this._googlePayInitializer.parseResponse(t).then((function(t){return e._postForm(t)})).then((function(){return e._updateBillingAddress(t)}))},t.prototype.updateShippingAddress=function(t){return this._store.dispatch(this._consignmentActionCreator.updateAddress(this._mapGooglePayAddressToShippingAddress(t)))},t.prototype._configureWallet=function(){var t=this,e=this._getMethodId();return this._store.dispatch(this._paymentMethodActionCreator.loadPaymentMethod(e)).then((function(n){var r=n.paymentMethods.getPaymentMethod(e),i=n.checkout.getCheckout(),o=!!n.shippingAddress.getShippingAddress();if(!r)throw new f.b(f.a.MissingPaymentMethod);if(!i)throw new f.b(f.a.MissingCheckout);var a=r.config.testMode;return Promise.all([t._googlePayScriptLoader.load(),t._googlePayInitializer.initialize(i,r,o)]).then((function(e){var n=e[0],r=e[1];return t._googlePayClient=t._getGooglePayClient(n,a),t._paymentDataRequest=r,t._googlePayClient.isReadyToPay({allowedPaymentMethods:[{type:r.allowedPaymentMethods[0].type,parameters:{allowedAuthMethods:r.allowedPaymentMethods[0].parameters.allowedAuthMethods,allowedCardNetworks:r.allowedPaymentMethods[0].parameters.allowedCardNetworks}}],apiVersion:r.apiVersion,apiVersionMinor:r.apiVersionMinor}).then((function(t){if(!t.result)throw new y.a}))}))}))},t.prototype._getCardInformation=function(t){return{type:t.cardType,number:t.lastFour}},t.prototype._getPaymentDataRequest=function(){if(!this._paymentDataRequest)throw new _.a;return this._paymentDataRequest},t.prototype._getGooglePayClient=function(t,e){if(void 0===e)throw new f.b(f.a.MissingPaymentMethod);var n=e?"TEST":"PRODUCTION";return new t.payments.api.PaymentsClient({environment:n})},t.prototype._getMethodId=function(){if(!this._methodId)throw new m.b(m.a.PaymentNotInitialized);return this._methodId},t.prototype._mapGooglePayAddressToBillingAddress=function(t,e){return{id:e,firstName:t.paymentMethodData.info.billingAddress.name.split(" ").slice(0,-1).join(" "),lastName:t.paymentMethodData.info.billingAddress.name.split(" ").slice(-1).join(" "),company:t.paymentMethodData.info.billingAddress.companyName,address1:t.paymentMethodData.info.billingAddress.address1,address2:t.paymentMethodData.info.billingAddress.address2+t.paymentMethodData.info.billingAddress.address3,city:t.paymentMethodData.info.billingAddress.locality,stateOrProvince:t.paymentMethodData.info.billingAddress.administrativeArea,stateOrProvinceCode:t.paymentMethodData.info.billingAddress.administrativeArea,postalCode:t.paymentMethodData.info.billingAddress.postalCode,countryCode:t.paymentMethodData.info.billingAddress.countryCode,phone:t.paymentMethodData.info.billingAddress.phoneNumber,customFields:[],email:t.email}},t.prototype._mapGooglePayAddressToShippingAddress=function(t){return{firstName:t.name.split(" ").slice(0,-1).join(" "),lastName:t.name.split(" ").slice(-1).join(" "),company:t.companyName,address1:t.address1,address2:t.address2+t.address3,city:t.locality,stateOrProvince:t.administrativeArea,stateOrProvinceCode:t.administrativeArea,postalCode:t.postalCode,countryCode:t.countryCode,phone:t.phoneNumber,customFields:[]}},t.prototype._postForm=function(t){var e=t.details;return this._requestSender.post("/checkout.php",{headers:{Accept:"text/html","Content-Type":"application/x-www-form-urlencoded"},body:{payment_type:t.type,nonce:t.nonce,provider:this._getMethodId(),action:"set_external_checkout",card_information:this._getCardInformation(e)}})},t.prototype._updateBillingAddress=function(t){var e=this._store.getState().billingAddress.getBillingAddress();if(!e)throw new f.b(f.a.MissingBillingAddress);var n=this._mapGooglePayAddressToBillingAddress(t,e.id);return this._store.dispatch(this._billingAddressActionCreator.updateAddress(n))},t}(),v=n(45),C=function(){function t(t,e){void 0===e&&(e=window),this._scriptLoader=t,this._window=e}return t.prototype.load=function(){var t=this;return this._scriptLoader.loadScript("https://pay.google.com/gp/p/js/pay.js").then((function(){if(!t._window.google)throw new v.a;return t._window.google}))},t}();function O(t,e){var n=Object(r.createRequestSender)(),m=Object(i.getScriptLoader)();return new b(t,new h.a(new l.a(n)),new C(m),e,new o.a(new a.a(n),new d.a(new p.a(n))),new c.a(new u.a(n),new s.a(n)),n)}n.d(e,"a",(function(){return O}))},,function(t,e,n){"use strict";var r=n(0),i=n(1),o=n(3),a=n(8),s=n(90),c=n(172),u=function(t){function e(e){var n=t.call(this,e)||this;return n.name="UpdateSubscriptionsError",n.type="update_subscriptions",n}return Object(r.__extends)(e,t),e}(n(35).a),d=function(){function t(t){this._subscriptionsRequestSender=t}return t.prototype.updateSubscriptions=function(t,e){var n=this;return Object(o.concat)(Object(o.of)(Object(i.createAction)(c.a.UpdateSubscriptionsRequested)),Object(o.defer)((function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,this._subscriptionsRequestSender.updateSubscriptions(t,e)];case 1:return n=r.sent().body,[2,Object(i.createAction)(c.a.UpdateSubscriptionsSucceeded,n)]}}))}))}))).pipe(Object(a.catchError)((function(t){return Object(s.a)(c.a.UpdateSubscriptionsFailed,new u(t))})))},t}();e.a=d},function(t,e,n){"use strict";var r=n(0),i=n(1),o=n(3),a=n(8),s=n(90),c=n(12),u=n(19),d=function(t){function e(e){var n=t.call(this,e||"Unable to continue as a guest because the customer is already signed in.")||this;return n.name="UnableToContinueAsGuestError",n.type="unable_to_continue_as_guest",n}return Object(r.__extends)(e,t),e}(n(22).a),p=function(){function t(t,e){this._requestSender=t,this._subscriptionActionCreator=e}return t.prototype.continueAsGuest=function(t,e){var n=this;return function(p){var h=p.getState(),l=h.checkout.getCheckout();if(!l)throw new c.b(c.a.MissingCheckout);var m=h.customer.getCustomer();if(m&&!m.isGuest)throw new d;var f,_=h.billingAddress.getBillingAddress();if(_){_.country;var y=Object(r.__rest)(_,["country"]);f=Object(r.__assign)(Object(r.__assign)({},y),t)}else f=t;return Object(o.merge)(Object(o.concat)(Object(o.of)(Object(i.createAction)(u.a.ContinueAsGuestRequested)),Object(o.defer)((function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return[4,this._createOrUpdateBillingAddress(l.id,f,e)];case 1:return t=n.sent().body,[2,Object(i.createAction)(u.a.ContinueAsGuestSucceeded,t)]}}))}))}))).pipe(Object(a.catchError)((function(t){return Object(s.a)(u.a.ContinueAsGuestFailed,t)}))),n._updateCustomerConsent(t,e))}},t.prototype.updateAddress=function(t,e){var n=this;return function(a){return o.Observable.create((function(o){var s=a.getState(),d=s.checkout.getCheckout();if(!d)throw new c.b(c.a.MissingCheckout);o.next(Object(i.createAction)(u.a.UpdateBillingAddressRequested));var p=s.billingAddress.getBillingAddress(),h=Object(r.__assign)(Object(r.__assign)({},t),{email:void 0===t.email&&p?p.email:t.email});p&&p.id&&(h.id=p.id),n._createOrUpdateBillingAddress(d.id,h,e).then((function(t){var e=t.body;o.next(Object(i.createAction)(u.a.UpdateBillingAddressSucceeded,e)),o.complete()})).catch((function(t){o.error(Object(i.createErrorAction)(u.a.UpdateBillingAddressFailed,t))}))}))}},t.prototype._updateCustomerConsent=function(t,e){var n=t.email,r=t.acceptsAbandonedCartEmails,i=t.acceptsMarketingNewsletter;return null==r&&null==i?Object(o.empty)():this._subscriptionActionCreator.updateSubscriptions({email:n,acceptsMarketingNewsletter:i||!1,acceptsAbandonedCartEmails:r||!1},e)},t.prototype._createOrUpdateBillingAddress=function(t,e,n){return e.id?this._requestSender.updateAddress(t,e,n):this._requestSender.createAddress(t,e,n)},t}();e.a=p},function(t,e,n){"use strict";var r=n(2);function i(t){return e=t.lineItems.physicalItems.filter((function(t){return!t.addedByPromotion})),Object(r.reduce)(e,(function(t,e){return t+e.quantity}),0);var e}n.d(e,"a",(function(){return i}))}]);
//# sourceMappingURL=checkout-sdk.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/data-store/lib/combine-reducers.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@bigcommerce/data-store/lib/combine-reducers.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var lodash_1 = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
var shallowEqual = __webpack_require__(/*! shallowequal */ "./node_modules/shallowequal/index.js");
function combineReducers(reducers, options) {
    var _a = (options || {}).equalityCheck, equalityCheck = _a === void 0 ? shallowEqual : _a;
    return function (state, action) {
        return Object.keys(reducers).reduce(function (result, key) {
            var reducer = reducers[key];
            var currentState = state ? state[key] : undefined;
            var newState = reducer(currentState, action);
            if (equalityCheck(currentState, newState) && result) {
                return result;
            }
            return lodash_1.assign({}, result, (_a = {}, _a[key] = newState, _a));
            var _a;
        }, state || {});
    };
}
exports.default = combineReducers;
//# sourceMappingURL=combine-reducers.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/data-store/lib/compose-reducers.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@bigcommerce/data-store/lib/compose-reducers.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
var lodash_1 = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
var shallowEqual = __webpack_require__(/*! shallowequal */ "./node_modules/shallowequal/index.js");
function composeReducers() {
    var args = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
    }
    var reducers = args;
    var options = {};
    if (typeof args[args.length - 1] === 'object') {
        reducers = args.slice(0, -1);
        options = tslib_1.__assign({}, options, args[args.length - 1]);
    }
    var _a = options.equalityCheck, equalityCheck = _a === void 0 ? shallowEqual : _a;
    return function (state, action) {
        var newState = lodash_1.flowRight(reducers
            .filter(function (reducer) { return reducer.length === 2; })
            .map(function (reducer) { return lodash_1.curryRight(reducer)(action); }))(state);
        return equalityCheck(state, newState) ? state : newState;
    };
}
exports.default = composeReducers;
//# sourceMappingURL=compose-reducers.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/data-store/lib/create-action.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@bigcommerce/data-store/lib/create-action.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
var lodash_1 = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
function createAction(type, payload, meta) {
    if (typeof type !== 'string' || type === '') {
        throw new Error('`type` must be a string');
    }
    return tslib_1.__assign({ type: type }, lodash_1.omitBy({ payload: payload, meta: meta }, function (value) { return value === undefined; }));
}
exports.default = createAction;
//# sourceMappingURL=create-action.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/data-store/lib/create-data-store.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@bigcommerce/data-store/lib/create-data-store.js ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var combine_reducers_1 = __webpack_require__(/*! ./combine-reducers */ "./node_modules/@bigcommerce/data-store/lib/combine-reducers.js");
var data_store_1 = __webpack_require__(/*! ./data-store */ "./node_modules/@bigcommerce/data-store/lib/data-store.js");
function createDataStore(reducer, initialState, options) {
    if (typeof reducer === 'function') {
        return new data_store_1.default(reducer, initialState, options);
    }
    return new data_store_1.default(combine_reducers_1.default(reducer, { equalityCheck: options && options.equalityCheck }), initialState, options);
}
exports.default = createDataStore;
//# sourceMappingURL=create-data-store.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/data-store/lib/create-error-action.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@bigcommerce/data-store/lib/create-error-action.js ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
var create_action_1 = __webpack_require__(/*! ./create-action */ "./node_modules/@bigcommerce/data-store/lib/create-action.js");
function createErrorAction(type, payload, meta) {
    return tslib_1.__assign({}, create_action_1.default(type, payload, meta), { error: true });
}
exports.default = createErrorAction;
//# sourceMappingURL=create-error-action.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/data-store/lib/data-store.js":
/*!****************************************************************!*\
  !*** ./node_modules/@bigcommerce/data-store/lib/data-store.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
var lodash_1 = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
var rxjs_1 = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var operators_1 = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var shallowEqual = __webpack_require__(/*! shallowequal */ "./node_modules/shallowequal/index.js");
var deep_freeze_1 = __webpack_require__(/*! ./deep-freeze */ "./node_modules/@bigcommerce/data-store/lib/deep-freeze.js");
var is_observable_action_like_1 = __webpack_require__(/*! ./is-observable-action-like */ "./node_modules/@bigcommerce/data-store/lib/is-observable-action-like.js");
var noop_action_transformer_1 = __webpack_require__(/*! ./noop-action-transformer */ "./node_modules/@bigcommerce/data-store/lib/noop-action-transformer.js");
var noop_state_transformer_1 = __webpack_require__(/*! ./noop-state-transformer */ "./node_modules/@bigcommerce/data-store/lib/noop-state-transformer.js");
var DataStore = (function () {
    function DataStore(reducer, initialState, options) {
        if (initialState === void 0) { initialState = {}; }
        var _this = this;
        this._reducer = reducer;
        this._options = tslib_1.__assign({ actionTransformer: noop_action_transformer_1.default, equalityCheck: shallowEqual, shouldWarnMutation: true, stateTransformer: noop_state_transformer_1.default }, options);
        this._state$ = new rxjs_1.BehaviorSubject(this._options.stateTransformer(initialState));
        this._notification$ = new rxjs_1.Subject();
        this._dispatchers = {};
        this._dispatchQueue$ = new rxjs_1.Subject();
        this._errors = {};
        this._dispatchQueue$
            .pipe(operators_1.mergeMap(function (dispatcher$) { return dispatcher$.pipe(operators_1.concatMap(function (action$) { return action$; })); }), operators_1.filter(function (action) { return !!action.type; }), operators_1.scan(function (states, action) {
            return _this._transformStates(states, action);
        }, {
            state: initialState,
            transformedState: this._state$.getValue(),
        }), operators_1.distinctUntilChanged(function (_a, _b) {
            var stateA = _a.state;
            var stateB = _b.state;
            return _this._options.equalityCheck(stateA, stateB);
        }), operators_1.map(function (_a) {
            var transformedState = _a.transformedState;
            return transformedState;
        }))
            .subscribe(this._state$);
        this.dispatch({ type: 'INIT' });
    }
    DataStore.prototype.dispatch = function (action, options) {
        if (is_observable_action_like_1.default(action)) {
            return this._dispatchObservableAction(action, options);
        }
        if (typeof action === 'function') {
            return this._dispatchThunkAction(action, options);
        }
        return this._dispatchAction(action);
    };
    DataStore.prototype.getState = function () {
        return this._state$.getValue();
    };
    DataStore.prototype.notifyState = function () {
        this._notification$.next(this.getState());
    };
    DataStore.prototype.subscribe = function (subscriber) {
        var _this = this;
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        var options = typeof args[0] === 'object' ? args[0] : undefined;
        var filters = options ? (options.filters || []) : args;
        var state$ = this._state$;
        if (filters.length > 0) {
            state$ = state$.pipe(operators_1.distinctUntilChanged(function (stateA, stateB) {
                return filters.every(function (filterFn) {
                    return _this._options.equalityCheck(filterFn(stateA), filterFn(stateB));
                });
            }));
        }
        if (options && options.initial === false) {
            state$ = state$.pipe(operators_1.skip(1));
        }
        var subscriptions = [
            state$.subscribe(subscriber),
            this._notification$.subscribe(subscriber),
        ];
        return function () { return subscriptions.forEach(function (subscription) { return subscription.unsubscribe(); }); };
    };
    DataStore.prototype._transformStates = function (states, action) {
        try {
            var newState = this._options.shouldWarnMutation === false ?
                this._reducer(states.state, action) :
                deep_freeze_1.default(this._reducer(states.state, action), {
                    equalityCheck: this._options.equalityCheck,
                    previousValue: states.state,
                });
            var transformedState = this._options.stateTransformer(newState);
            return { state: newState, transformedState: transformedState };
        }
        catch (error) {
            this._getDispatchError(action.meta && action.meta.queueId).next(error);
            return { state: states.state, transformedState: states.transformedState };
        }
    };
    DataStore.prototype._dispatchAction = function (action) {
        return this._dispatchObservableAction(action.error ? rxjs_1.throwError(action) : rxjs_1.of(action));
    };
    DataStore.prototype._dispatchObservableAction = function (action$, options) {
        var _this = this;
        if (options === void 0) { options = {}; }
        return new Promise(function (resolve, reject) {
            var error$ = _this._getDispatchError(options.queueId);
            var transformedAction$ = _this._options.actionTransformer(rxjs_1.from(action$).pipe(operators_1.map(function (action) {
                return options.queueId ?
                    lodash_1.merge({}, action, { meta: { queueId: options.queueId } }) :
                    action;
            })));
            _this._getDispatcher(options.queueId).next(rxjs_1.from(transformedAction$)
                .pipe(operators_1.map(function (action, index) {
                if (index === 0) {
                    error$.pipe(operators_1.first()).subscribe(reject);
                }
                if (action.error) {
                    reject(action.payload);
                }
                return action;
            }), operators_1.catchError(function (action) {
                reject(action instanceof Error ? action : action.payload);
                return rxjs_1.of(action);
            }), operators_1.tap({
                complete: function () {
                    resolve(_this.getState());
                },
            })));
        });
    };
    DataStore.prototype._dispatchThunkAction = function (thunkAction, options) {
        var _this = this;
        if (options === void 0) { options = {}; }
        return this._dispatchObservableAction(rxjs_1.defer(function () { return thunkAction(_this); }), options);
    };
    DataStore.prototype._getDispatcher = function (queueId) {
        if (queueId === void 0) { queueId = 'default'; }
        if (!this._dispatchers[queueId]) {
            this._dispatchers[queueId] = new rxjs_1.Subject();
            this._dispatchQueue$.next(this._dispatchers[queueId]);
        }
        return this._dispatchers[queueId];
    };
    DataStore.prototype._getDispatchError = function (queueId) {
        if (queueId === void 0) { queueId = 'default'; }
        if (!this._errors[queueId]) {
            this._errors[queueId] = new rxjs_1.Subject();
        }
        return this._errors[queueId];
    };
    return DataStore;
}());
exports.default = DataStore;
//# sourceMappingURL=data-store.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/data-store/lib/deep-freeze.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@bigcommerce/data-store/lib/deep-freeze.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var lodash_1 = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
var shallowEqual = __webpack_require__(/*! shallowequal */ "./node_modules/shallowequal/index.js");
function deepFreeze(object, options) {
    try {
        var _a = options || {}, _b = _a.equalityCheck, equalityCheck_1 = _b === void 0 ? shallowEqual : _b, _c = _a.previousValue, previousValue_1 = _c === void 0 ? null : _c;
        if (equalityCheck_1(object, previousValue_1) && Object.isFrozen(previousValue_1)) {
            return previousValue_1;
        }
        if (Object.isFrozen(object) || (!Array.isArray(object) && !lodash_1.isPlainObject(object))) {
            return object;
        }
        if (Array.isArray(object)) {
            return Object.freeze(object.map(function (value, index) {
                return deepFreeze(value, {
                    equalityCheck: equalityCheck_1,
                    previousValue: Array.isArray(previousValue_1) ? previousValue_1[index] : undefined,
                });
            }));
        }
        return Object.freeze(Object.getOwnPropertyNames(object).reduce(function (result, key) {
            result[key] = deepFreeze(object[key], {
                equalityCheck: equalityCheck_1,
                previousValue: previousValue_1 && previousValue_1.hasOwnProperty(key) ?
                    previousValue_1[key] :
                    undefined,
            });
            return result;
        }, {}));
    }
    catch (error) {
        if (error instanceof TypeError) {
            return object;
        }
        throw error;
    }
}
exports.default = deepFreeze;
//# sourceMappingURL=deep-freeze.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/data-store/lib/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/@bigcommerce/data-store/lib/index.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var data_store_1 = __webpack_require__(/*! ./data-store */ "./node_modules/@bigcommerce/data-store/lib/data-store.js");
exports.DataStore = data_store_1.default;
var combine_reducers_1 = __webpack_require__(/*! ./combine-reducers */ "./node_modules/@bigcommerce/data-store/lib/combine-reducers.js");
exports.combineReducers = combine_reducers_1.default;
var compose_reducers_1 = __webpack_require__(/*! ./compose-reducers */ "./node_modules/@bigcommerce/data-store/lib/compose-reducers.js");
exports.composeReducers = compose_reducers_1.default;
var create_action_1 = __webpack_require__(/*! ./create-action */ "./node_modules/@bigcommerce/data-store/lib/create-action.js");
exports.createAction = create_action_1.default;
var create_data_store_1 = __webpack_require__(/*! ./create-data-store */ "./node_modules/@bigcommerce/data-store/lib/create-data-store.js");
exports.createDataStore = create_data_store_1.default;
var create_error_action_1 = __webpack_require__(/*! ./create-error-action */ "./node_modules/@bigcommerce/data-store/lib/create-error-action.js");
exports.createErrorAction = create_error_action_1.default;
var deep_freeze_1 = __webpack_require__(/*! ./deep-freeze */ "./node_modules/@bigcommerce/data-store/lib/deep-freeze.js");
exports.deepFreeze = deep_freeze_1.default;
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/data-store/lib/is-observable-action-like.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@bigcommerce/data-store/lib/is-observable-action-like.js ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function isObservableActionLike(action) {
    return (typeof action.subscribe === 'function' ||
        typeof action.then === 'function');
}
exports.default = isObservableActionLike;
//# sourceMappingURL=is-observable-action-like.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/data-store/lib/noop-action-transformer.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@bigcommerce/data-store/lib/noop-action-transformer.js ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function noopActionTransformer(action) {
    return action;
}
exports.default = noopActionTransformer;
//# sourceMappingURL=noop-action-transformer.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/data-store/lib/noop-state-transformer.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@bigcommerce/data-store/lib/noop-state-transformer.js ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function noopStateTransformer(state) {
    return state;
}
exports.default = noopStateTransformer;
//# sourceMappingURL=noop-state-transformer.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/form-poster/lib/create-form-poster.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@bigcommerce/form-poster/lib/create-form-poster.js ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var form_builder_1 = __webpack_require__(/*! ./form-builder */ "./node_modules/@bigcommerce/form-poster/lib/form-builder.js");
var form_poster_1 = __webpack_require__(/*! ./form-poster */ "./node_modules/@bigcommerce/form-poster/lib/form-poster.js");
function createFormPoster(options) {
    var formBuilder = new form_builder_1.default();
    var formPoster = new form_poster_1.default(formBuilder, options);
    return formPoster;
}
exports.default = createFormPoster;
//# sourceMappingURL=create-form-poster.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/form-poster/lib/form-builder.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@bigcommerce/form-poster/lib/form-builder.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var FormBuilder = (function () {
    function FormBuilder() {
    }
    FormBuilder.prototype.build = function (url, data, target) {
        var _this = this;
        var form = document.createElement('form');
        form.style.display = 'none';
        form.setAttribute('action', url);
        form.setAttribute('method', 'POST');
        form.setAttribute('target', target || '_top');
        Object.keys(data)
            .forEach(function (key) {
            var value = data[key];
            form.appendChild(_this._createInput(value, key));
        });
        return form;
    };
    FormBuilder.prototype._createInput = function (value, key) {
        var input = document.createElement('input');
        input.setAttribute('name', key);
        input.setAttribute('type', 'hidden');
        input.setAttribute('value', value);
        return input;
    };
    return FormBuilder;
}());
exports.default = FormBuilder;
//# sourceMappingURL=form-builder.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/form-poster/lib/form-poster.js":
/*!******************************************************************!*\
  !*** ./node_modules/@bigcommerce/form-poster/lib/form-poster.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var url_utils_1 = __webpack_require__(/*! ./url-utils */ "./node_modules/@bigcommerce/form-poster/lib/url-utils.js");
var FormPoster = (function () {
    function FormPoster(_formBuilder, _options) {
        this._formBuilder = _formBuilder;
        this._options = _options;
    }
    FormPoster.prototype.postForm = function (url, data, callback, target) {
        var form = this._formBuilder.build(this._prependHost(url), data, target);
        window.addEventListener('unload', function handleUnload() {
            window.removeEventListener('unload', handleUnload);
            if (callback) {
                callback();
            }
        });
        document.body.appendChild(form);
        form.submit();
        document.body.removeChild(form);
    };
    FormPoster.prototype._prependHost = function (url) {
        if (!this._options || !this._options.host || url_utils_1.isAbsoluteUrl(url)) {
            return url;
        }
        return url_utils_1.joinPaths(this._options.host, url);
    };
    return FormPoster;
}());
exports.default = FormPoster;
//# sourceMappingURL=form-poster.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/form-poster/lib/index.js":
/*!************************************************************!*\
  !*** ./node_modules/@bigcommerce/form-poster/lib/index.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var create_form_poster_1 = __webpack_require__(/*! ./create-form-poster */ "./node_modules/@bigcommerce/form-poster/lib/create-form-poster.js");
exports.createFormPoster = create_form_poster_1.default;
var form_poster_1 = __webpack_require__(/*! ./form-poster */ "./node_modules/@bigcommerce/form-poster/lib/form-poster.js");
exports.FormPoster = form_poster_1.default;
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/form-poster/lib/url-utils.js":
/*!****************************************************************!*\
  !*** ./node_modules/@bigcommerce/form-poster/lib/url-utils.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function isAbsoluteUrl(url) {
    return /^https?:\/\//.test(url);
}
exports.isAbsoluteUrl = isAbsoluteUrl;
function joinPaths(pathA, pathB) {
    return removeTrailingSlash(pathA) + "/" + removeLeadingSlash(pathB);
}
exports.joinPaths = joinPaths;
function removeTrailingSlash(path) {
    return path.replace(/\/$/, '');
}
function removeLeadingSlash(path) {
    return path.replace(/^\//, '');
}
//# sourceMappingURL=url-utils.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/memoize/lib/cache-key-maps.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@bigcommerce/memoize/lib/cache-key-maps.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function isTerminalCacheKeyMap(map) {
    return map.hasOwnProperty('cacheKey');
}
exports.isTerminalCacheKeyMap = isTerminalCacheKeyMap;
function isRootCacheKeyMap(map) {
    return map.hasOwnProperty('parentMap');
}
exports.isRootCacheKeyMap = isRootCacheKeyMap;
//# sourceMappingURL=cache-key-maps.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/memoize/lib/cache-key-resolver.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@bigcommerce/memoize/lib/cache-key-resolver.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
var lodash_1 = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
var shallowequal_1 = tslib_1.__importDefault(__webpack_require__(/*! shallowequal */ "./node_modules/shallowequal/index.js"));
var cache_key_maps_1 = __webpack_require__(/*! ./cache-key-maps */ "./node_modules/@bigcommerce/memoize/lib/cache-key-maps.js");
var CacheKeyResolver = /** @class */ (function () {
    function CacheKeyResolver(options) {
        this._lastId = 0;
        this._map = { maps: [] };
        this._usedMaps = [];
        this._options = tslib_1.__assign({ isEqual: shallowequal_1.default, maxSize: 0, onExpire: lodash_1.noop }, options);
    }
    CacheKeyResolver.prototype.getKey = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        var result = this._resolveMap.apply(this, args);
        var index = result.index, parentMap = result.parentMap;
        var map = result.map;
        if (map && map.cacheKey) {
            map.usedCount++;
        }
        else {
            map = this._generateMap(parentMap, args.slice(index));
        }
        // Keep track of the least used map so we can remove it if the size of
        // the stack exceeds the maximum size.
        this._removeLeastUsedMap(map);
        return map.cacheKey;
    };
    CacheKeyResolver.prototype.getUsedCount = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        var map = this._resolveMap.apply(this, args).map;
        return map ? map.usedCount : 0;
    };
    CacheKeyResolver.prototype._resolveMap = function () {
        var _a;
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        var index = 0;
        var parentMap = this._map;
        // Traverse the tree to find the linked list of maps that match the
        // arguments of the call. Each intermediate or terminal map contains a
        // value that could be used to match with the arguments. The last map in
        // the list (the terminal) should contain a cache key. If it can does
        // not exist, we will return a falsy value so that the caller could
        // handle and generate a new cache key.
        while (parentMap.maps.length) {
            var isMatched = false;
            for (var mapIndex = 0; mapIndex < parentMap.maps.length; mapIndex++) {
                var map = parentMap.maps[mapIndex];
                if (!this._options.isEqual(map.value, args[index])) {
                    continue;
                }
                // Move the most recently used map to the top of the stack for
                // quicker access
                (_a = parentMap.maps).unshift.apply(_a, parentMap.maps.splice(mapIndex, 1));
                if ((args.length === 0 || index === args.length - 1) && cache_key_maps_1.isTerminalCacheKeyMap(map)) {
                    return { index: index, map: map, parentMap: parentMap };
                }
                isMatched = true;
                parentMap = map;
                index++;
                break;
            }
            if (!isMatched) {
                break;
            }
        }
        return { index: index, parentMap: parentMap };
    };
    CacheKeyResolver.prototype._generateMap = function (parent, args) {
        var index = 0;
        var parentMap = parent;
        var map;
        do {
            map = {
                maps: [],
                parentMap: parentMap,
                usedCount: 1,
                value: args[index],
            };
            // Continue to build the tree of maps so that it could be resolved
            // next time when the function is called with the same set of
            // arguments.
            parentMap.maps.unshift(map);
            parentMap = map;
            index++;
        } while (index < args.length);
        var terminalMap = map;
        terminalMap.cacheKey = "" + ++this._lastId;
        return terminalMap;
    };
    CacheKeyResolver.prototype._removeLeastUsedMap = function (recentlyUsedMap) {
        if (!this._options.maxSize) {
            return;
        }
        var index = this._usedMaps.indexOf(recentlyUsedMap);
        this._usedMaps.splice(index === -1 ? 0 : index, index === -1 ? 0 : 1, recentlyUsedMap);
        if (this._usedMaps.length <= this._options.maxSize) {
            return;
        }
        var map = this._usedMaps.pop();
        if (!map) {
            return;
        }
        this._removeMap(map);
        this._options.onExpire(map.cacheKey);
    };
    CacheKeyResolver.prototype._removeMap = function (map) {
        if (!map.parentMap) {
            return;
        }
        map.parentMap.maps.splice(map.parentMap.maps.indexOf(map), 1);
        if (cache_key_maps_1.isRootCacheKeyMap(map.parentMap)) {
            return;
        }
        this._removeMap(map.parentMap);
    };
    return CacheKeyResolver;
}());
exports.default = CacheKeyResolver;
//# sourceMappingURL=cache-key-resolver.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/memoize/lib/index.js":
/*!********************************************************!*\
  !*** ./node_modules/@bigcommerce/memoize/lib/index.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var memoize_1 = __webpack_require__(/*! ./memoize */ "./node_modules/@bigcommerce/memoize/lib/memoize.js");
exports.memoize = memoize_1.default;
exports.memoizeOne = memoize_1.memoizeOne;
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/memoize/lib/memoize.js":
/*!**********************************************************!*\
  !*** ./node_modules/@bigcommerce/memoize/lib/memoize.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
var lodash_memoize_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash.memoize */ "./node_modules/lodash.memoize/index.js")); // tslint:disable-line:match-default-export-name
var shallowequal_1 = tslib_1.__importDefault(__webpack_require__(/*! shallowequal */ "./node_modules/shallowequal/index.js"));
var cache_key_resolver_1 = tslib_1.__importDefault(__webpack_require__(/*! ./cache-key-resolver */ "./node_modules/@bigcommerce/memoize/lib/cache-key-resolver.js"));
function memoize(fn, options) {
    var _a = tslib_1.__assign({ maxSize: 0, isEqual: shallowequal_1.default }, options), maxSize = _a.maxSize, isEqual = _a.isEqual;
    var cache = new Map();
    var resolver = new cache_key_resolver_1.default({
        isEqual: isEqual,
        maxSize: maxSize,
        onExpire: function (key) { return cache.delete(key); },
    });
    var memoized = lodash_memoize_1.default(fn, function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        return resolver.getKey.apply(resolver, args);
    });
    memoized.cache = cache;
    return memoized;
}
exports.default = memoize;
function memoizeOne(fn, options) {
    return memoize(fn, tslib_1.__assign({}, options, { maxSize: 1 }));
}
exports.memoizeOne = memoizeOne;
//# sourceMappingURL=memoize.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/request-sender/esm/cache.js":
/*!***************************************************************!*\
  !*** ./node_modules/@bigcommerce/request-sender/esm/cache.js ***!
  \***************************************************************/
/*! exports provided: DefaultCache */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DefaultCache", function() { return DefaultCache; });
/* harmony import */ var query_string__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! query-string */ "./node_modules/query-string/index.js");
/* harmony import */ var query_string__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(query_string__WEBPACK_IMPORTED_MODULE_0__);

var DefaultCache = (function () {
    function DefaultCache() {
        this._cache = {};
    }
    DefaultCache.prototype.read = function (url, options) {
        var cacheKey = this.getKey(url, options.params);
        return this._cache[cacheKey] || null;
    };
    DefaultCache.prototype.write = function (url, options, response) {
        var cacheKey = this.getKey(url, options.params);
        this._cache[cacheKey] = response;
    };
    DefaultCache.prototype.getKey = function (url, params) {
        if (params === void 0) { params = {}; }
        if (Object.keys(params).length === 0) {
            return url;
        }
        return url + "?" + query_string__WEBPACK_IMPORTED_MODULE_0__["stringify"](params);
    };
    return DefaultCache;
}());

//# sourceMappingURL=cache.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/request-sender/esm/create-request-sender.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@bigcommerce/request-sender/esm/create-request-sender.js ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return createRequestSender; });
/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! js-cookie */ "./node_modules/js-cookie/src/js.cookie.js");
/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(js_cookie__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _payload_transformer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./payload-transformer */ "./node_modules/@bigcommerce/request-sender/esm/payload-transformer.js");
/* harmony import */ var _request_factory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./request-factory */ "./node_modules/@bigcommerce/request-sender/esm/request-factory.js");
/* harmony import */ var _request_sender__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./request-sender */ "./node_modules/@bigcommerce/request-sender/esm/request-sender.js");




function createRequestSender(options) {
    return new _request_sender__WEBPACK_IMPORTED_MODULE_3__["default"](new _request_factory__WEBPACK_IMPORTED_MODULE_2__["default"](), new _payload_transformer__WEBPACK_IMPORTED_MODULE_1__["default"](), js_cookie__WEBPACK_IMPORTED_MODULE_0__, options);
}
//# sourceMappingURL=create-request-sender.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/request-sender/esm/create-timeout.js":
/*!************************************************************************!*\
  !*** ./node_modules/@bigcommerce/request-sender/esm/create-timeout.js ***!
  \************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return createTimeout; });
/* harmony import */ var _timeout__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./timeout */ "./node_modules/@bigcommerce/request-sender/esm/timeout.js");

function createTimeout(delay) {
    return new _timeout__WEBPACK_IMPORTED_MODULE_0__["default"](delay);
}
//# sourceMappingURL=create-timeout.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/request-sender/esm/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/@bigcommerce/request-sender/esm/index.js ***!
  \***************************************************************/
/*! exports provided: createRequestSender, createTimeout, RequestSender, Timeout */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _create_request_sender__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./create-request-sender */ "./node_modules/@bigcommerce/request-sender/esm/create-request-sender.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "createRequestSender", function() { return _create_request_sender__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var _create_timeout__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./create-timeout */ "./node_modules/@bigcommerce/request-sender/esm/create-timeout.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "createTimeout", function() { return _create_timeout__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony import */ var _request_sender__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./request-sender */ "./node_modules/@bigcommerce/request-sender/esm/request-sender.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RequestSender", function() { return _request_sender__WEBPACK_IMPORTED_MODULE_2__["default"]; });

/* harmony import */ var _timeout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./timeout */ "./node_modules/@bigcommerce/request-sender/esm/timeout.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Timeout", function() { return _timeout__WEBPACK_IMPORTED_MODULE_3__["default"]; });





//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/request-sender/esm/is-promise.js":
/*!********************************************************************!*\
  !*** ./node_modules/@bigcommerce/request-sender/esm/is-promise.js ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return isPromise; });
function isPromise(promise) {
    return !!promise &&
        (typeof promise === 'object' || typeof promise === 'function') &&
        typeof promise.then === 'function';
}
//# sourceMappingURL=is-promise.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/request-sender/esm/payload-transformer.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@bigcommerce/request-sender/esm/payload-transformer.js ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _to_form_url_encoded__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./to-form-url-encoded */ "./node_modules/@bigcommerce/request-sender/esm/to-form-url-encoded.js");


var JSON_CONTENT_TYPE_REGEXP = /application\/(\w+\+)?json/;
var FORM_URLENCODED_CONTENT_TYPE_REGEXP = /application\/x-www-form-urlencoded/;
var PayloadTransformer = (function () {
    function PayloadTransformer() {
    }
    PayloadTransformer.prototype.toRequestBody = function (options) {
        var contentType = options.headers ? this._getHeader(options.headers, 'Content-Type') : '';
        if (options.body) {
            if (JSON_CONTENT_TYPE_REGEXP.test(contentType)) {
                return JSON.stringify(options.body);
            }
            if (FORM_URLENCODED_CONTENT_TYPE_REGEXP.test(contentType)) {
                return Object(_to_form_url_encoded__WEBPACK_IMPORTED_MODULE_1__["default"])(options.body);
            }
        }
        return options.body;
    };
    PayloadTransformer.prototype.toResponse = function (xhr) {
        var headers = this._parseResponseHeaders(xhr.getAllResponseHeaders());
        var body = this._parseResponseBody('response' in xhr ? xhr.response : xhr.responseText, headers);
        return {
            body: body,
            headers: headers,
            status: xhr.status,
            statusText: xhr.statusText,
        };
    };
    PayloadTransformer.prototype._parseResponseBody = function (body, headers) {
        var contentType = this._getHeader(headers, 'Content-Type');
        if (body && JSON_CONTENT_TYPE_REGEXP.test(contentType)) {
            return JSON.parse(body);
        }
        return body;
    };
    PayloadTransformer.prototype._parseResponseHeaders = function (rawHeaders) {
        var lines = rawHeaders ? rawHeaders.replace(/\r?\n[\t ]+/g, ' ').split(/\r?\n/) : [];
        return lines.reduce(function (headers, line) {
            var _a;
            var parts = line.split(':');
            var key = (parts.shift() || '').trim();
            if (!key) {
                return headers;
            }
            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"])({}, headers), (_a = {}, _a[key.toLowerCase()] = parts.join(':').trim(), _a));
        }, {});
    };
    PayloadTransformer.prototype._getHeader = function (headers, key) {
        if (!headers || !key) {
            return '';
        }
        return headers[key] || headers[key.toLowerCase()] || '';
    };
    return PayloadTransformer;
}());
/* harmony default export */ __webpack_exports__["default"] = (PayloadTransformer);
//# sourceMappingURL=payload-transformer.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/request-sender/esm/request-factory.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@bigcommerce/request-sender/esm/request-factory.js ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var query_string__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! query-string */ "./node_modules/query-string/index.js");
/* harmony import */ var query_string__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(query_string__WEBPACK_IMPORTED_MODULE_0__);

var RequestFactory = (function () {
    function RequestFactory() {
    }
    RequestFactory.prototype.createRequest = function (url, options) {
        var xhr = new XMLHttpRequest();
        this._configureRequest(xhr, url, options);
        return xhr;
    };
    RequestFactory.prototype._configureRequest = function (xhr, url, options) {
        if (options === void 0) { options = {}; }
        xhr.open(options.method || 'GET', this._formatUrl(url, options.params, options.encodeParams), true);
        if (options.headers) {
            this._configureRequestHeaders(xhr, options.headers);
        }
        if (typeof options.credentials === 'boolean') {
            xhr.withCredentials = options.credentials;
        }
        if (typeof options.timeout === 'number') {
            xhr.timeout = options.timeout;
        }
    };
    RequestFactory.prototype._configureRequestHeaders = function (xhr, headers) {
        Object.keys(headers)
            .filter(function (key) { return headers[key] !== null; })
            .forEach(function (key) {
            xhr.setRequestHeader(key, headers[key]);
        });
    };
    RequestFactory.prototype._formatUrl = function (url, params, encodeParams) {
        if (encodeParams === void 0) { encodeParams = true; }
        if (!params || Object.keys(params).length === 0) {
            return url;
        }
        return url + "?" + query_string__WEBPACK_IMPORTED_MODULE_0__["stringify"](params, { encode: encodeParams });
    };
    return RequestFactory;
}());
/* harmony default export */ __webpack_exports__["default"] = (RequestFactory);
//# sourceMappingURL=request-factory.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/request-sender/esm/request-sender.js":
/*!************************************************************************!*\
  !*** ./node_modules/@bigcommerce/request-sender/esm/request-sender.js ***!
  \************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash.merge */ "./node_modules/lodash.merge/index.js");
/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_merge__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _cache__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./cache */ "./node_modules/@bigcommerce/request-sender/esm/cache.js");
/* harmony import */ var _is_promise__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./is-promise */ "./node_modules/@bigcommerce/request-sender/esm/is-promise.js");
/* harmony import */ var _timeout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./timeout */ "./node_modules/@bigcommerce/request-sender/esm/timeout.js");





var RequestSender = (function () {
    function RequestSender(_requestFactory, _payloadTransformer, _cookie, _options) {
        if (_options === void 0) { _options = {}; }
        this._requestFactory = _requestFactory;
        this._payloadTransformer = _payloadTransformer;
        this._cookie = _cookie;
        this._options = _options;
        this._cache = this._options.cache || new _cache__WEBPACK_IMPORTED_MODULE_2__["DefaultCache"]();
    }
    RequestSender.prototype.sendRequest = function (url, options) {
        var _this = this;
        var requestOptions = this._mergeDefaultOptions(url, options);
        var cachedRequest = this._getCachedRequest(url, requestOptions);
        if (cachedRequest) {
            return Promise.resolve(cachedRequest);
        }
        var request = this._requestFactory.createRequest(this._prependHost(url), requestOptions);
        return new Promise(function (resolve, reject) {
            var requestHandler = function () {
                var response = _this._payloadTransformer.toResponse(request);
                if (response.status >= 200 && response.status < 300) {
                    _this._cacheRequest(url, requestOptions, response);
                    resolve(response);
                }
                else {
                    reject(response);
                }
            };
            request.onload = requestHandler;
            request.onerror = requestHandler;
            request.onabort = requestHandler;
            request.ontimeout = requestHandler;
            if (requestOptions.timeout instanceof _timeout__WEBPACK_IMPORTED_MODULE_4__["default"]) {
                requestOptions.timeout.onComplete(function () { return request.abort(); });
                requestOptions.timeout.start();
            }
            if (Object(_is_promise__WEBPACK_IMPORTED_MODULE_3__["default"])(requestOptions.timeout)) {
                requestOptions.timeout.then(function () { return request.abort(); });
            }
            request.send(_this._payloadTransformer.toRequestBody(requestOptions));
        });
    };
    RequestSender.prototype.get = function (url, options) {
        return this.sendRequest(url, Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"])({}, options), { method: 'GET' }));
    };
    RequestSender.prototype.post = function (url, options) {
        return this.sendRequest(url, Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"])({}, options), { method: 'POST' }));
    };
    RequestSender.prototype.put = function (url, options) {
        return this.sendRequest(url, Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"])({}, options), { method: 'PUT' }));
    };
    RequestSender.prototype.patch = function (url, options) {
        return this.sendRequest(url, Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"])({}, options), { method: 'PATCH' }));
    };
    RequestSender.prototype.delete = function (url, options) {
        return this.sendRequest(url, Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"])({}, options), { method: 'DELETE' }));
    };
    RequestSender.prototype._mergeDefaultOptions = function (url, options) {
        var defaultOptions = {
            credentials: true,
            encodeParams: true,
            headers: {
                Accept: 'application/json, text/plain, */*',
            },
            method: 'GET',
        };
        var csrfToken = this._cookie.get('XSRF-TOKEN');
        if (csrfToken && defaultOptions.headers && !this._isAssetRequest(url, options)) {
            defaultOptions.headers['X-XSRF-TOKEN'] = csrfToken;
        }
        if (options && options.body && defaultOptions.headers) {
            defaultOptions.headers['Content-Type'] = 'application/json';
        }
        return lodash_merge__WEBPACK_IMPORTED_MODULE_1___default()({}, defaultOptions, options);
    };
    RequestSender.prototype._prependHost = function (url) {
        if (!this._options.host || /^https?:\/\//.test(url)) {
            return url;
        }
        return this._options.host.replace(/\/$/, '') + "/" + url.replace(/^\//, '');
    };
    RequestSender.prototype._shouldCacheRequest = function (options) {
        var method = options.method || 'GET';
        return method.toUpperCase() === 'GET' && Boolean(options.cache);
    };
    RequestSender.prototype._getCachedRequest = function (url, options) {
        if (this._shouldCacheRequest(options)) {
            return this._cache.read(url, options);
        }
        return null;
    };
    RequestSender.prototype._cacheRequest = function (url, options, response) {
        if (this._shouldCacheRequest(options)) {
            this._cache.write(url, options, response);
        }
    };
    RequestSender.prototype._isAssetRequest = function (url, options) {
        if (options && options.method && options.method.toUpperCase() !== 'GET') {
            return false;
        }
        return /\.(png|gif|jpe?g|css|js|json|svg|html?)$/.test(url.split('?')[0]);
    };
    return RequestSender;
}());
/* harmony default export */ __webpack_exports__["default"] = (RequestSender);
//# sourceMappingURL=request-sender.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/request-sender/esm/timeout.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@bigcommerce/request-sender/esm/timeout.js ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
var Timeout = (function () {
    function Timeout(_delay) {
        var _this = this;
        this._delay = _delay;
        this._resolve = function () { };
        this._promise = new Promise(function (resolve) {
            _this._resolve = resolve;
        });
    }
    Timeout.prototype.onComplete = function (callback) {
        this._promise.then(callback);
    };
    Timeout.prototype.complete = function () {
        this._resolve();
        if (this._timeoutToken) {
            window.clearTimeout(this._timeoutToken);
        }
    };
    Timeout.prototype.start = function () {
        var _this = this;
        if (this._delay) {
            this._timeoutToken = window.setTimeout(function () { return _this.complete(); }, this._delay);
        }
    };
    return Timeout;
}());
/* harmony default export */ __webpack_exports__["default"] = (Timeout);
//# sourceMappingURL=timeout.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/request-sender/esm/to-form-url-encoded.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@bigcommerce/request-sender/esm/to-form-url-encoded.js ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return toFormUrlEncoded; });
function toFormUrlEncoded(data) {
    if (typeof data !== 'object' || data === null) {
        return data;
    }
    return Object.keys(data)
        .filter(function (key) { return data[key] !== undefined; })
        .map(function (key) {
        var value = data[key];
        if (typeof value === 'string') {
            return key + "=" + encodeURIComponent(value);
        }
        return key + "=" + encodeURIComponent(JSON.stringify(value) || '');
    })
        .join('&');
}
//# sourceMappingURL=to-form-url-encoded.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/script-loader/lib/browser-support.js":
/*!************************************************************************!*\
  !*** ./node_modules/@bigcommerce/script-loader/lib/browser-support.js ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var BrowserSupport = (function () {
    function BrowserSupport() {
    }
    BrowserSupport.prototype.canSupportRel = function (rel) {
        var link = document.createElement('link');
        return !!(link.relList &&
            link.relList.supports &&
            link.relList.supports(rel));
    };
    return BrowserSupport;
}());
exports.default = BrowserSupport;
//# sourceMappingURL=browser-support.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/script-loader/lib/create-script-loader.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@bigcommerce/script-loader/lib/create-script-loader.js ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var request_sender_1 = __webpack_require__(/*! @bigcommerce/request-sender */ "./node_modules/@bigcommerce/request-sender/esm/index.js");
var browser_support_1 = __webpack_require__(/*! ./browser-support */ "./node_modules/@bigcommerce/script-loader/lib/browser-support.js");
var script_loader_1 = __webpack_require__(/*! ./script-loader */ "./node_modules/@bigcommerce/script-loader/lib/script-loader.js");
function createScriptLoader() {
    return new script_loader_1.default(new browser_support_1.default(), request_sender_1.createRequestSender());
}
exports.default = createScriptLoader;
//# sourceMappingURL=create-script-loader.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/script-loader/lib/create-stylesheet-loader.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@bigcommerce/script-loader/lib/create-stylesheet-loader.js ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var request_sender_1 = __webpack_require__(/*! @bigcommerce/request-sender */ "./node_modules/@bigcommerce/request-sender/esm/index.js");
var browser_support_1 = __webpack_require__(/*! ./browser-support */ "./node_modules/@bigcommerce/script-loader/lib/browser-support.js");
var stylesheet_loader_1 = __webpack_require__(/*! ./stylesheet-loader */ "./node_modules/@bigcommerce/script-loader/lib/stylesheet-loader.js");
function createStylesheetLoader() {
    return new stylesheet_loader_1.default(new browser_support_1.default(), request_sender_1.createRequestSender());
}
exports.default = createStylesheetLoader;
//# sourceMappingURL=create-stylesheet-loader.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/script-loader/lib/get-script-loader.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@bigcommerce/script-loader/lib/get-script-loader.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var create_script_loader_1 = __webpack_require__(/*! ./create-script-loader */ "./node_modules/@bigcommerce/script-loader/lib/create-script-loader.js");
var instance;
function getScriptLoader() {
    if (!instance) {
        instance = create_script_loader_1.default();
    }
    return instance;
}
exports.default = getScriptLoader;
//# sourceMappingURL=get-script-loader.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/script-loader/lib/get-stylesheet-loader.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@bigcommerce/script-loader/lib/get-stylesheet-loader.js ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var create_stylesheet_loader_1 = __webpack_require__(/*! ./create-stylesheet-loader */ "./node_modules/@bigcommerce/script-loader/lib/create-stylesheet-loader.js");
var instance;
function getStylesheetLoader() {
    if (!instance) {
        instance = create_stylesheet_loader_1.default();
    }
    return instance;
}
exports.default = getStylesheetLoader;
//# sourceMappingURL=get-stylesheet-loader.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/script-loader/lib/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/@bigcommerce/script-loader/lib/index.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var script_loader_1 = __webpack_require__(/*! ./script-loader */ "./node_modules/@bigcommerce/script-loader/lib/script-loader.js");
exports.ScriptLoader = script_loader_1.default;
var create_script_loader_1 = __webpack_require__(/*! ./create-script-loader */ "./node_modules/@bigcommerce/script-loader/lib/create-script-loader.js");
exports.createScriptLoader = create_script_loader_1.default;
var get_script_loader_1 = __webpack_require__(/*! ./get-script-loader */ "./node_modules/@bigcommerce/script-loader/lib/get-script-loader.js");
exports.getScriptLoader = get_script_loader_1.default;
var stylesheet_loader_1 = __webpack_require__(/*! ./stylesheet-loader */ "./node_modules/@bigcommerce/script-loader/lib/stylesheet-loader.js");
exports.StylesheetLoader = stylesheet_loader_1.default;
var create_stylesheet_loader_1 = __webpack_require__(/*! ./create-stylesheet-loader */ "./node_modules/@bigcommerce/script-loader/lib/create-stylesheet-loader.js");
exports.createStylesheetLoader = create_stylesheet_loader_1.default;
var get_stylesheet_loader_1 = __webpack_require__(/*! ./get-stylesheet-loader */ "./node_modules/@bigcommerce/script-loader/lib/get-stylesheet-loader.js");
exports.getStylesheetLoader = get_stylesheet_loader_1.default;
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/script-loader/lib/script-loader.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@bigcommerce/script-loader/lib/script-loader.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var ScriptLoader = (function () {
    function ScriptLoader(_browserSupport, _requestSender) {
        this._browserSupport = _browserSupport;
        this._requestSender = _requestSender;
        this._scripts = {};
        this._preloadedScripts = {};
    }
    ScriptLoader.prototype.loadScript = function (src, options) {
        var _this = this;
        if (!this._scripts[src]) {
            this._scripts[src] = new Promise(function (resolve, reject) {
                var script = document.createElement('script');
                var _a = options || {}, _b = _a.async, async = _b === void 0 ? false : _b, _c = _a.attributes, attributes = _c === void 0 ? {} : _c;
                Object.keys(attributes)
                    .forEach(function (key) {
                    script.setAttribute(key, attributes[key]);
                });
                script.onload = function () { return resolve(); };
                script.onreadystatechange = function () { return resolve(); };
                script.onerror = function (event) {
                    delete _this._scripts[src];
                    reject(event);
                };
                script.async = async;
                script.src = src;
                document.body.appendChild(script);
            });
        }
        return this._scripts[src];
    };
    ScriptLoader.prototype.loadScripts = function (urls, options) {
        var _this = this;
        return Promise.all(urls.map(function (url) { return _this.loadScript(url, options); }))
            .then(function () { return undefined; });
    };
    ScriptLoader.prototype.preloadScript = function (url, options) {
        var _this = this;
        if (!this._preloadedScripts[url]) {
            this._preloadedScripts[url] = new Promise(function (resolve, reject) {
                var _a = (options || {}).prefetch, prefetch = _a === void 0 ? false : _a;
                var rel = prefetch ? 'prefetch' : 'preload';
                if (_this._browserSupport.canSupportRel(rel)) {
                    var preloadedScript = document.createElement('link');
                    preloadedScript.as = 'script';
                    preloadedScript.rel = rel;
                    preloadedScript.href = url;
                    preloadedScript.onload = function () {
                        resolve();
                    };
                    preloadedScript.onerror = function () {
                        delete _this._preloadedScripts[url];
                        reject();
                    };
                    document.head.appendChild(preloadedScript);
                }
                else {
                    _this._requestSender.get(url, {
                        credentials: false,
                        headers: { Accept: 'application/javascript' },
                    })
                        .then(function () { return resolve(); })
                        .catch(reject);
                }
            });
        }
        return this._preloadedScripts[url];
    };
    ScriptLoader.prototype.preloadScripts = function (urls, options) {
        var _this = this;
        return Promise.all(urls.map(function (url) { return _this.preloadScript(url, options); }))
            .then(function () { return undefined; });
    };
    return ScriptLoader;
}());
exports.default = ScriptLoader;
//# sourceMappingURL=script-loader.js.map

/***/ }),

/***/ "./node_modules/@bigcommerce/script-loader/lib/stylesheet-loader.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@bigcommerce/script-loader/lib/stylesheet-loader.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var StylesheetLoader = (function () {
    function StylesheetLoader(_browserSupport, _requestSender) {
        this._browserSupport = _browserSupport;
        this._requestSender = _requestSender;
        this._stylesheets = {};
        this._preloadedStylesheets = {};
    }
    StylesheetLoader.prototype.loadStylesheet = function (src, options) {
        var _this = this;
        if (!this._stylesheets[src]) {
            this._stylesheets[src] = new Promise(function (resolve, reject) {
                var stylesheet = document.createElement('link');
                var _a = options || {}, _b = _a.prepend, prepend = _b === void 0 ? false : _b, _c = _a.attributes, attributes = _c === void 0 ? {} : _c;
                Object.keys(attributes)
                    .forEach(function (key) {
                    stylesheet.setAttribute(key, attributes[key]);
                });
                stylesheet.onload = function () { return resolve(); };
                stylesheet.onerror = function (event) {
                    delete _this._stylesheets[src];
                    reject(event);
                };
                stylesheet.rel = 'stylesheet';
                stylesheet.href = src;
                if (prepend && document.head.children[0]) {
                    document.head.insertBefore(stylesheet, document.head.children[0]);
                }
                else {
                    document.head.appendChild(stylesheet);
                }
            });
        }
        return this._stylesheets[src];
    };
    StylesheetLoader.prototype.loadStylesheets = function (urls, options) {
        var _this = this;
        return Promise.all(urls.map(function (url) { return _this.loadStylesheet(url, options); }))
            .then(function () { return undefined; });
    };
    StylesheetLoader.prototype.preloadStylesheet = function (url, options) {
        var _this = this;
        if (!this._preloadedStylesheets[url]) {
            this._preloadedStylesheets[url] = new Promise(function (resolve, reject) {
                var _a = (options || {}).prefetch, prefetch = _a === void 0 ? false : _a;
                var rel = prefetch ? 'prefetch' : 'preload';
                if (_this._browserSupport.canSupportRel(rel)) {
                    var preloadedStylesheet = document.createElement('link');
                    preloadedStylesheet.as = 'style';
                    preloadedStylesheet.rel = prefetch ? 'prefetch' : 'preload';
                    preloadedStylesheet.href = url;
                    preloadedStylesheet.onload = function () {
                        resolve();
                    };
                    preloadedStylesheet.onerror = function (event) {
                        delete _this._preloadedStylesheets[url];
                        reject(event);
                    };
                    document.head.appendChild(preloadedStylesheet);
                }
                else {
                    _this._requestSender.get(url, {
                        credentials: false,
                        headers: { Accept: 'text/css' },
                    })
                        .then(function () { return resolve(); })
                        .catch(reject);
                }
            });
        }
        return this._preloadedStylesheets[url];
    };
    StylesheetLoader.prototype.preloadStylesheets = function (urls, options) {
        var _this = this;
        return Promise.all(urls.map(function (url) { return _this.preloadStylesheet(url, options); }))
            .then(function () { return undefined; });
    };
    return StylesheetLoader;
}());
exports.default = StylesheetLoader;
//# sourceMappingURL=stylesheet-loader.js.map

/***/ }),

/***/ "./node_modules/assert/assert.js":
/*!***************************************!*\
  !*** ./node_modules/assert/assert.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {

var objectAssign = __webpack_require__(/*! object-assign */ "./node_modules/object-assign/index.js");

// compare and isBuffer taken from https://github.com/feross/buffer/blob/680e9e5e488f22aac27599a57dc844a6315928dd/index.js
// original notice:

/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
function compare(a, b) {
  if (a === b) {
    return 0;
  }

  var x = a.length;
  var y = b.length;

  for (var i = 0, len = Math.min(x, y); i < len; ++i) {
    if (a[i] !== b[i]) {
      x = a[i];
      y = b[i];
      break;
    }
  }

  if (x < y) {
    return -1;
  }
  if (y < x) {
    return 1;
  }
  return 0;
}
function isBuffer(b) {
  if (global.Buffer && typeof global.Buffer.isBuffer === 'function') {
    return global.Buffer.isBuffer(b);
  }
  return !!(b != null && b._isBuffer);
}

// based on node assert, original notice:
// NB: The URL to the CommonJS spec is kept just for tradition.
//     node-assert has evolved a lot since then, both in API and behavior.

// http://wiki.commonjs.org/wiki/Unit_Testing/1.0
//
// THIS IS NOT TESTED NOR LIKELY TO WORK OUTSIDE V8!
//
// Originally from narwhal.js (http://narwhaljs.org)
// Copyright (c) 2009 Thomas Robinson <280north.com>
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the 'Software'), to
// deal in the Software without restriction, including without limitation the
// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
// sell copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
// ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

var util = __webpack_require__(/*! util/ */ "./node_modules/util/util.js");
var hasOwn = Object.prototype.hasOwnProperty;
var pSlice = Array.prototype.slice;
var functionsHaveNames = (function () {
  return function foo() {}.name === 'foo';
}());
function pToString (obj) {
  return Object.prototype.toString.call(obj);
}
function isView(arrbuf) {
  if (isBuffer(arrbuf)) {
    return false;
  }
  if (typeof global.ArrayBuffer !== 'function') {
    return false;
  }
  if (typeof ArrayBuffer.isView === 'function') {
    return ArrayBuffer.isView(arrbuf);
  }
  if (!arrbuf) {
    return false;
  }
  if (arrbuf instanceof DataView) {
    return true;
  }
  if (arrbuf.buffer && arrbuf.buffer instanceof ArrayBuffer) {
    return true;
  }
  return false;
}
// 1. The assert module provides functions that throw
// AssertionError's when particular conditions are not met. The
// assert module must conform to the following interface.

var assert = module.exports = ok;

// 2. The AssertionError is defined in assert.
// new assert.AssertionError({ message: message,
//                             actual: actual,
//                             expected: expected })

var regex = /\s*function\s+([^\(\s]*)\s*/;
// based on https://github.com/ljharb/function.prototype.name/blob/adeeeec8bfcc6068b187d7d9fb3d5bb1d3a30899/implementation.js
function getName(func) {
  if (!util.isFunction(func)) {
    return;
  }
  if (functionsHaveNames) {
    return func.name;
  }
  var str = func.toString();
  var match = str.match(regex);
  return match && match[1];
}
assert.AssertionError = function AssertionError(options) {
  this.name = 'AssertionError';
  this.actual = options.actual;
  this.expected = options.expected;
  this.operator = options.operator;
  if (options.message) {
    this.message = options.message;
    this.generatedMessage = false;
  } else {
    this.message = getMessage(this);
    this.generatedMessage = true;
  }
  var stackStartFunction = options.stackStartFunction || fail;
  if (Error.captureStackTrace) {
    Error.captureStackTrace(this, stackStartFunction);
  } else {
    // non v8 browsers so we can have a stacktrace
    var err = new Error();
    if (err.stack) {
      var out = err.stack;

      // try to strip useless frames
      var fn_name = getName(stackStartFunction);
      var idx = out.indexOf('\n' + fn_name);
      if (idx >= 0) {
        // once we have located the function frame
        // we need to strip out everything before it (and its line)
        var next_line = out.indexOf('\n', idx + 1);
        out = out.substring(next_line + 1);
      }

      this.stack = out;
    }
  }
};

// assert.AssertionError instanceof Error
util.inherits(assert.AssertionError, Error);

function truncate(s, n) {
  if (typeof s === 'string') {
    return s.length < n ? s : s.slice(0, n);
  } else {
    return s;
  }
}
function inspect(something) {
  if (functionsHaveNames || !util.isFunction(something)) {
    return util.inspect(something);
  }
  var rawname = getName(something);
  var name = rawname ? ': ' + rawname : '';
  return '[Function' +  name + ']';
}
function getMessage(self) {
  return truncate(inspect(self.actual), 128) + ' ' +
         self.operator + ' ' +
         truncate(inspect(self.expected), 128);
}

// At present only the three keys mentioned above are used and
// understood by the spec. Implementations or sub modules can pass
// other keys to the AssertionError's constructor - they will be
// ignored.

// 3. All of the following functions must throw an AssertionError
// when a corresponding condition is not met, with a message that
// may be undefined if not provided.  All assertion methods provide
// both the actual and expected values to the assertion error for
// display purposes.

function fail(actual, expected, message, operator, stackStartFunction) {
  throw new assert.AssertionError({
    message: message,
    actual: actual,
    expected: expected,
    operator: operator,
    stackStartFunction: stackStartFunction
  });
}

// EXTENSION! allows for well behaved errors defined elsewhere.
assert.fail = fail;

// 4. Pure assertion tests whether a value is truthy, as determined
// by !!guard.
// assert.ok(guard, message_opt);
// This statement is equivalent to assert.equal(true, !!guard,
// message_opt);. To test strictly for the value true, use
// assert.strictEqual(true, guard, message_opt);.

function ok(value, message) {
  if (!value) fail(value, true, message, '==', assert.ok);
}
assert.ok = ok;

// 5. The equality assertion tests shallow, coercive equality with
// ==.
// assert.equal(actual, expected, message_opt);

assert.equal = function equal(actual, expected, message) {
  if (actual != expected) fail(actual, expected, message, '==', assert.equal);
};

// 6. The non-equality assertion tests for whether two objects are not equal
// with != assert.notEqual(actual, expected, message_opt);

assert.notEqual = function notEqual(actual, expected, message) {
  if (actual == expected) {
    fail(actual, expected, message, '!=', assert.notEqual);
  }
};

// 7. The equivalence assertion tests a deep equality relation.
// assert.deepEqual(actual, expected, message_opt);

assert.deepEqual = function deepEqual(actual, expected, message) {
  if (!_deepEqual(actual, expected, false)) {
    fail(actual, expected, message, 'deepEqual', assert.deepEqual);
  }
};

assert.deepStrictEqual = function deepStrictEqual(actual, expected, message) {
  if (!_deepEqual(actual, expected, true)) {
    fail(actual, expected, message, 'deepStrictEqual', assert.deepStrictEqual);
  }
};

function _deepEqual(actual, expected, strict, memos) {
  // 7.1. All identical values are equivalent, as determined by ===.
  if (actual === expected) {
    return true;
  } else if (isBuffer(actual) && isBuffer(expected)) {
    return compare(actual, expected) === 0;

  // 7.2. If the expected value is a Date object, the actual value is
  // equivalent if it is also a Date object that refers to the same time.
  } else if (util.isDate(actual) && util.isDate(expected)) {
    return actual.getTime() === expected.getTime();

  // 7.3 If the expected value is a RegExp object, the actual value is
  // equivalent if it is also a RegExp object with the same source and
  // properties (`global`, `multiline`, `lastIndex`, `ignoreCase`).
  } else if (util.isRegExp(actual) && util.isRegExp(expected)) {
    return actual.source === expected.source &&
           actual.global === expected.global &&
           actual.multiline === expected.multiline &&
           actual.lastIndex === expected.lastIndex &&
           actual.ignoreCase === expected.ignoreCase;

  // 7.4. Other pairs that do not both pass typeof value == 'object',
  // equivalence is determined by ==.
  } else if ((actual === null || typeof actual !== 'object') &&
             (expected === null || typeof expected !== 'object')) {
    return strict ? actual === expected : actual == expected;

  // If both values are instances of typed arrays, wrap their underlying
  // ArrayBuffers in a Buffer each to increase performance
  // This optimization requires the arrays to have the same type as checked by
  // Object.prototype.toString (aka pToString). Never perform binary
  // comparisons for Float*Arrays, though, since e.g. +0 === -0 but their
  // bit patterns are not identical.
  } else if (isView(actual) && isView(expected) &&
             pToString(actual) === pToString(expected) &&
             !(actual instanceof Float32Array ||
               actual instanceof Float64Array)) {
    return compare(new Uint8Array(actual.buffer),
                   new Uint8Array(expected.buffer)) === 0;

  // 7.5 For all other Object pairs, including Array objects, equivalence is
  // determined by having the same number of owned properties (as verified
  // with Object.prototype.hasOwnProperty.call), the same set of keys
  // (although not necessarily the same order), equivalent values for every
  // corresponding key, and an identical 'prototype' property. Note: this
  // accounts for both named and indexed properties on Arrays.
  } else if (isBuffer(actual) !== isBuffer(expected)) {
    return false;
  } else {
    memos = memos || {actual: [], expected: []};

    var actualIndex = memos.actual.indexOf(actual);
    if (actualIndex !== -1) {
      if (actualIndex === memos.expected.indexOf(expected)) {
        return true;
      }
    }

    memos.actual.push(actual);
    memos.expected.push(expected);

    return objEquiv(actual, expected, strict, memos);
  }
}

function isArguments(object) {
  return Object.prototype.toString.call(object) == '[object Arguments]';
}

function objEquiv(a, b, strict, actualVisitedObjects) {
  if (a === null || a === undefined || b === null || b === undefined)
    return false;
  // if one is a primitive, the other must be same
  if (util.isPrimitive(a) || util.isPrimitive(b))
    return a === b;
  if (strict && Object.getPrototypeOf(a) !== Object.getPrototypeOf(b))
    return false;
  var aIsArgs = isArguments(a);
  var bIsArgs = isArguments(b);
  if ((aIsArgs && !bIsArgs) || (!aIsArgs && bIsArgs))
    return false;
  if (aIsArgs) {
    a = pSlice.call(a);
    b = pSlice.call(b);
    return _deepEqual(a, b, strict);
  }
  var ka = objectKeys(a);
  var kb = objectKeys(b);
  var key, i;
  // having the same number of owned properties (keys incorporates
  // hasOwnProperty)
  if (ka.length !== kb.length)
    return false;
  //the same set of keys (although not necessarily the same order),
  ka.sort();
  kb.sort();
  //~~~cheap key test
  for (i = ka.length - 1; i >= 0; i--) {
    if (ka[i] !== kb[i])
      return false;
  }
  //equivalent values for every corresponding key, and
  //~~~possibly expensive deep test
  for (i = ka.length - 1; i >= 0; i--) {
    key = ka[i];
    if (!_deepEqual(a[key], b[key], strict, actualVisitedObjects))
      return false;
  }
  return true;
}

// 8. The non-equivalence assertion tests for any deep inequality.
// assert.notDeepEqual(actual, expected, message_opt);

assert.notDeepEqual = function notDeepEqual(actual, expected, message) {
  if (_deepEqual(actual, expected, false)) {
    fail(actual, expected, message, 'notDeepEqual', assert.notDeepEqual);
  }
};

assert.notDeepStrictEqual = notDeepStrictEqual;
function notDeepStrictEqual(actual, expected, message) {
  if (_deepEqual(actual, expected, true)) {
    fail(actual, expected, message, 'notDeepStrictEqual', notDeepStrictEqual);
  }
}


// 9. The strict equality assertion tests strict equality, as determined by ===.
// assert.strictEqual(actual, expected, message_opt);

assert.strictEqual = function strictEqual(actual, expected, message) {
  if (actual !== expected) {
    fail(actual, expected, message, '===', assert.strictEqual);
  }
};

// 10. The strict non-equality assertion tests for strict inequality, as
// determined by !==.  assert.notStrictEqual(actual, expected, message_opt);

assert.notStrictEqual = function notStrictEqual(actual, expected, message) {
  if (actual === expected) {
    fail(actual, expected, message, '!==', assert.notStrictEqual);
  }
};

function expectedException(actual, expected) {
  if (!actual || !expected) {
    return false;
  }

  if (Object.prototype.toString.call(expected) == '[object RegExp]') {
    return expected.test(actual);
  }

  try {
    if (actual instanceof expected) {
      return true;
    }
  } catch (e) {
    // Ignore.  The instanceof check doesn't work for arrow functions.
  }

  if (Error.isPrototypeOf(expected)) {
    return false;
  }

  return expected.call({}, actual) === true;
}

function _tryBlock(block) {
  var error;
  try {
    block();
  } catch (e) {
    error = e;
  }
  return error;
}

function _throws(shouldThrow, block, expected, message) {
  var actual;

  if (typeof block !== 'function') {
    throw new TypeError('"block" argument must be a function');
  }

  if (typeof expected === 'string') {
    message = expected;
    expected = null;
  }

  actual = _tryBlock(block);

  message = (expected && expected.name ? ' (' + expected.name + ').' : '.') +
            (message ? ' ' + message : '.');

  if (shouldThrow && !actual) {
    fail(actual, expected, 'Missing expected exception' + message);
  }

  var userProvidedMessage = typeof message === 'string';
  var isUnwantedException = !shouldThrow && util.isError(actual);
  var isUnexpectedException = !shouldThrow && actual && !expected;

  if ((isUnwantedException &&
      userProvidedMessage &&
      expectedException(actual, expected)) ||
      isUnexpectedException) {
    fail(actual, expected, 'Got unwanted exception' + message);
  }

  if ((shouldThrow && actual && expected &&
      !expectedException(actual, expected)) || (!shouldThrow && actual)) {
    throw actual;
  }
}

// 11. Expected to throw an error:
// assert.throws(block, Error_opt, message_opt);

assert.throws = function(block, /*optional*/error, /*optional*/message) {
  _throws(true, block, error, message);
};

// EXTENSION! This is annoying to write outside this module.
assert.doesNotThrow = function(block, /*optional*/error, /*optional*/message) {
  _throws(false, block, error, message);
};

assert.ifError = function(err) { if (err) throw err; };

// Expose a strict only variant of assert
function strict(value, message) {
  if (!value) fail(value, true, message, '==', strict);
}
assert.strict = objectAssign(strict, assert, {
  equal: assert.strictEqual,
  deepEqual: assert.deepStrictEqual,
  notEqual: assert.notStrictEqual,
  notDeepEqual: assert.notDeepStrictEqual
});
assert.strict.strict = assert.strict;

var objectKeys = Object.keys || function (obj) {
  var keys = [];
  for (var key in obj) {
    if (hasOwn.call(obj, key)) keys.push(key);
  }
  return keys;
};

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/card-validator/index.js":
/*!**********************************************!*\
  !*** ./node_modules/card-validator/index.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = {
  number: __webpack_require__(/*! ./src/card-number */ "./node_modules/card-validator/src/card-number.js"),
  expirationDate: __webpack_require__(/*! ./src/expiration-date */ "./node_modules/card-validator/src/expiration-date.js"),
  expirationMonth: __webpack_require__(/*! ./src/expiration-month */ "./node_modules/card-validator/src/expiration-month.js"),
  expirationYear: __webpack_require__(/*! ./src/expiration-year */ "./node_modules/card-validator/src/expiration-year.js"),
  cvv: __webpack_require__(/*! ./src/cvv */ "./node_modules/card-validator/src/cvv.js"),
  postalCode: __webpack_require__(/*! ./src/postal-code */ "./node_modules/card-validator/src/postal-code.js"),
  creditCardType: __webpack_require__(/*! credit-card-type */ "./node_modules/credit-card-type/index.js")
};


/***/ }),

/***/ "./node_modules/card-validator/src/card-number.js":
/*!********************************************************!*\
  !*** ./node_modules/card-validator/src/card-number.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var luhn10 = __webpack_require__(/*! ./luhn-10 */ "./node_modules/card-validator/src/luhn-10.js");
var getCardTypes = __webpack_require__(/*! credit-card-type */ "./node_modules/credit-card-type/index.js");

function verification(card, isPotentiallyValid, isValid) {
  return {card: card, isPotentiallyValid: isPotentiallyValid, isValid: isValid};
}

function cardNumber(value, options) {
  var potentialTypes, cardType, isPotentiallyValid, isValid, i, maxLength;

  options = options || {};

  if (typeof value === 'number') {
    value = String(value);
  }

  if (typeof value !== 'string') { return verification(null, false, false); }

  value = value.replace(/\-|\s/g, '');

  if (!/^\d*$/.test(value)) { return verification(null, false, false); }

  potentialTypes = getCardTypes(value);

  if (potentialTypes.length === 0) {
    return verification(null, false, false);
  } else if (potentialTypes.length !== 1) {
    return verification(null, true, false);
  }

  cardType = potentialTypes[0];

  if (options.maxLength && value.length > options.maxLength) {
    return verification(cardType, false, false);
  }

  if (cardType.type === getCardTypes.types.UNIONPAY && options.luhnValidateUnionPay !== true) {
    isValid = true;
  } else {
    isValid = luhn10(value);
  }

  maxLength = Math.max.apply(null, cardType.lengths);
  if (options.maxLength) {
    maxLength = Math.min(options.maxLength, maxLength);
  }

  for (i = 0; i < cardType.lengths.length; i++) {
    if (cardType.lengths[i] === value.length) {
      isPotentiallyValid = value.length < maxLength || isValid;

      return verification(cardType, isPotentiallyValid, isValid);
    }
  }

  return verification(cardType, value.length < maxLength, false);
}

module.exports = cardNumber;


/***/ }),

/***/ "./node_modules/card-validator/src/cvv.js":
/*!************************************************!*\
  !*** ./node_modules/card-validator/src/cvv.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var DEFAULT_LENGTH = 3;

function includes(array, thing) {
  var i = 0;

  for (; i < array.length; i++) {
    if (thing === array[i]) { return true; }
  }

  return false;
}

function max(array) {
  var maximum = DEFAULT_LENGTH;
  var i = 0;

  for (; i < array.length; i++) {
    maximum = array[i] > maximum ? array[i] : maximum;
  }

  return maximum;
}

function verification(isValid, isPotentiallyValid) {
  return {isValid: isValid, isPotentiallyValid: isPotentiallyValid};
}

function cvv(value, maxLength) {
  maxLength = maxLength || DEFAULT_LENGTH;
  maxLength = maxLength instanceof Array ? maxLength : [maxLength];

  if (typeof value !== 'string') { return verification(false, false); }
  if (!/^\d*$/.test(value)) { return verification(false, false); }
  if (includes(maxLength, value.length)) { return verification(true, true); }
  if (value.length < Math.min.apply(null, maxLength)) { return verification(false, true); }
  if (value.length > max(maxLength)) { return verification(false, false); }

  return verification(true, true);
}

module.exports = cvv;


/***/ }),

/***/ "./node_modules/card-validator/src/expiration-date.js":
/*!************************************************************!*\
  !*** ./node_modules/card-validator/src/expiration-date.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var parseDate = __webpack_require__(/*! ./parse-date */ "./node_modules/card-validator/src/parse-date.js");
var expirationMonth = __webpack_require__(/*! ./expiration-month */ "./node_modules/card-validator/src/expiration-month.js");
var expirationYear = __webpack_require__(/*! ./expiration-year */ "./node_modules/card-validator/src/expiration-year.js");

function verification(isValid, isPotentiallyValid, month, year) {
  return {
    isValid: isValid,
    isPotentiallyValid: isPotentiallyValid,
    month: month,
    year: year
  };
}

function expirationDate(value, maxElapsedYear) {
  var date, monthValid, yearValid, isValidForThisYear;

  if (typeof value === 'string') {
    value = value.replace(/^(\d\d) (\d\d(\d\d)?)$/, '$1/$2');
    date = parseDate(value);
  } else if (value !== null && typeof value === 'object') {
    date = {
      month: String(value.month),
      year: String(value.year)
    };
  } else {
    return verification(false, false, null, null);
  }

  monthValid = expirationMonth(date.month);
  yearValid = expirationYear(date.year, maxElapsedYear);

  if (monthValid.isValid) {
    if (yearValid.isCurrentYear) {
      isValidForThisYear = monthValid.isValidForThisYear;

      return verification(isValidForThisYear, isValidForThisYear, date.month, date.year);
    }

    if (yearValid.isValid) {
      return verification(true, true, date.month, date.year);
    }
  }

  if (monthValid.isPotentiallyValid && yearValid.isPotentiallyValid) {
    return verification(false, true, null, null);
  }

  return verification(false, false, null, null);
}

module.exports = expirationDate;


/***/ }),

/***/ "./node_modules/card-validator/src/expiration-month.js":
/*!*************************************************************!*\
  !*** ./node_modules/card-validator/src/expiration-month.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


function verification(isValid, isPotentiallyValid, isValidForThisYear) {
  return {
    isValid: isValid,
    isPotentiallyValid: isPotentiallyValid,
    isValidForThisYear: isValidForThisYear || false
  };
}

function expirationMonth(value) {
  var month, result;
  var currentMonth = new Date().getMonth() + 1;

  if (typeof value !== 'string') {
    return verification(false, false);
  }
  if (value.replace(/\s/g, '') === '' || value === '0') {
    return verification(false, true);
  }
  if (!/^\d*$/.test(value)) {
    return verification(false, false);
  }

  month = parseInt(value, 10);

  if (isNaN(value)) {
    return verification(false, false);
  }

  result = month > 0 && month < 13;

  return verification(result, result, result && month >= currentMonth);
}

module.exports = expirationMonth;


/***/ }),

/***/ "./node_modules/card-validator/src/expiration-year.js":
/*!************************************************************!*\
  !*** ./node_modules/card-validator/src/expiration-year.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var DEFAULT_VALID_NUMBER_OF_YEARS_IN_THE_FUTURE = 19;

function verification(isValid, isPotentiallyValid, isCurrentYear) {
  return {
    isValid: isValid,
    isPotentiallyValid: isPotentiallyValid,
    isCurrentYear: isCurrentYear || false
  };
}

function expirationYear(value, maxElapsedYear) {
  var currentFirstTwo, currentYear, firstTwo, len, twoDigitYear, valid, isCurrentYear;

  maxElapsedYear = maxElapsedYear || DEFAULT_VALID_NUMBER_OF_YEARS_IN_THE_FUTURE;

  if (typeof value !== 'string') {
    return verification(false, false);
  }
  if (value.replace(/\s/g, '') === '') {
    return verification(false, true);
  }
  if (!/^\d*$/.test(value)) {
    return verification(false, false);
  }

  len = value.length;

  if (len < 2) {
    return verification(false, true);
  }

  currentYear = new Date().getFullYear();

  if (len === 3) {
    // 20x === 20x
    firstTwo = value.slice(0, 2);
    currentFirstTwo = String(currentYear).slice(0, 2);

    return verification(false, firstTwo === currentFirstTwo);
  }

  if (len > 4) {
    return verification(false, false);
  }

  value = parseInt(value, 10);
  twoDigitYear = Number(String(currentYear).substr(2, 2));

  if (len === 2) {
    isCurrentYear = twoDigitYear === value;
    valid = value >= twoDigitYear && value <= twoDigitYear + maxElapsedYear;
  } else if (len === 4) {
    isCurrentYear = currentYear === value;
    valid = value >= currentYear && value <= currentYear + maxElapsedYear;
  }

  return verification(valid, valid, isCurrentYear);
}

module.exports = expirationYear;


/***/ }),

/***/ "./node_modules/card-validator/src/lib/is-array.js":
/*!*********************************************************!*\
  !*** ./node_modules/card-validator/src/lib/is-array.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


// Polyfill taken from <https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray#Polyfill>.

module.exports = Array.isArray || function (arg) {
  return Object.prototype.toString.call(arg) === '[object Array]';
};


/***/ }),

/***/ "./node_modules/card-validator/src/luhn-10.js":
/*!****************************************************!*\
  !*** ./node_modules/card-validator/src/luhn-10.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/*
 * Luhn algorithm implementation in JavaScript
 * Copyright (c) 2009 Nicholas C. Zakas
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */


function luhn10(identifier) {
  var sum = 0;
  var alt = false;
  var i = identifier.length - 1;
  var num;

  while (i >= 0) {
    num = parseInt(identifier.charAt(i), 10);

    if (alt) {
      num *= 2;
      if (num > 9) {
        num = (num % 10) + 1; // eslint-disable-line no-extra-parens
      }
    }

    alt = !alt;

    sum += num;

    i--;
  }

  return sum % 10 === 0;
}

module.exports = luhn10;


/***/ }),

/***/ "./node_modules/card-validator/src/parse-date.js":
/*!*******************************************************!*\
  !*** ./node_modules/card-validator/src/parse-date.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var expirationYear = __webpack_require__(/*! ./expiration-year */ "./node_modules/card-validator/src/expiration-year.js");
var isArray = __webpack_require__(/*! ./lib/is-array */ "./node_modules/card-validator/src/lib/is-array.js");

function getNumberOfMonthDigitsInDateString(dateString) {
  var firstCharacter = Number(dateString[0]);
  var assumedYear;

  /*
    if the first character in the string starts with `0`,
    we know that the month will be 2 digits.

    '0122' => {month: '01', year: '22'}
  */
  if (firstCharacter === 0) {
    return 2;
  }

  /*
    if the first character in the string starts with
    number greater than 1, it must be a 1 digit month

    '322' => {month: '3', year: '22'}
  */
  if (firstCharacter > 1) {
    return 1;
  }

  /*
    if the first 2 characters make up a number between
    13-19, we know that the month portion must be 1

    '139' => {month: '1', year: '39'}
  */
  if (firstCharacter === 1 && Number(dateString[1]) > 2) {
    return 1;
  }

  /*
    if the first 2 characters make up a number between
    10-12, we check if the year portion would be considered
    valid if we assumed that the month was 1. If it is
    not potentially valid, we assume the month must have
    2 digits.

    '109' => {month: '10', year: '9'}
    '120' => {month: '1', year: '20'} // when checked in the year 2019
    '120' => {month: '12', year: '0'} // when checked in the year 2021
  */
  if (firstCharacter === 1) {
    assumedYear = dateString.substr(1);

    return expirationYear(assumedYear).isPotentiallyValid ? 1 : 2;
  }

  /*
    If the length of the value is exactly 5 characters,
    we assume a full year was passed in, meaning the remaining
    single leading digit must be the month value.

    '12202' => {month: '1', year: '2202'}
  */
  if (dateString.length === 5) {
    return 1;
  }

  /*
    If the length of the value is more than five characters,
    we assume a full year was passed in addition to the month
    and therefore the month portion must be 2 digits.

    '112020' => {month: '11', year: '2020'}
  */
  if (dateString.length > 5) {
    return 2;
  }

  /*
    By default, the month value is the first value
  */
  return 1;
}

function parseDate(date) {
  var month, numberOfDigitsInMonth;

  if (/^\d{4}-\d{1,2}$/.test(date)) {
    date = date.split('-').reverse();
  } else if (/\//.test(date)) {
    date = date.split(/\s*\/\s*/g);
  } else if (/\s/.test(date)) {
    date = date.split(/ +/g);
  }

  if (isArray(date)) {
    return {
      month: date[0] || '',
      year: date.slice(1).join()
    };
  }

  numberOfDigitsInMonth = getNumberOfMonthDigitsInDateString(date);

  month = date.substr(0, numberOfDigitsInMonth);

  return {
    month: month,
    year: date.substr(month.length)
  };
}

module.exports = parseDate;


/***/ }),

/***/ "./node_modules/card-validator/src/postal-code.js":
/*!********************************************************!*\
  !*** ./node_modules/card-validator/src/postal-code.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var DEFAULT_MIN_POSTAL_CODE_LENGTH = 3;

function verification(isValid, isPotentiallyValid) {
  return {isValid: isValid, isPotentiallyValid: isPotentiallyValid};
}

function postalCode(value, options) {
  var minLength;

  options = options || {};

  minLength = options.minLength || DEFAULT_MIN_POSTAL_CODE_LENGTH;

  if (typeof value !== 'string') {
    return verification(false, false);
  } else if (value.length < minLength) {
    return verification(false, true);
  }

  return verification(true, true);
}

module.exports = postalCode;


/***/ }),

/***/ "./node_modules/credit-card-type/index.js":
/*!************************************************!*\
  !*** ./node_modules/credit-card-type/index.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var types = __webpack_require__(/*! ./lib/card-types */ "./node_modules/credit-card-type/lib/card-types.js");
var clone = __webpack_require__(/*! ./lib/clone */ "./node_modules/credit-card-type/lib/clone.js");
var findBestMatch = __webpack_require__(/*! ./lib/find-best-match */ "./node_modules/credit-card-type/lib/find-best-match.js");
var isValidInputType = __webpack_require__(/*! ./lib/is-valid-input-type */ "./node_modules/credit-card-type/lib/is-valid-input-type.js");
var addMatchingCardsToResults = __webpack_require__(/*! ./lib/add-matching-cards-to-results */ "./node_modules/credit-card-type/lib/add-matching-cards-to-results.js");

var testOrder;
var customCards = {};

var cardNames = {
  VISA: 'visa',
  MASTERCARD: 'mastercard',
  AMERICAN_EXPRESS: 'american-express',
  DINERS_CLUB: 'diners-club',
  DISCOVER: 'discover',
  JCB: 'jcb',
  UNIONPAY: 'unionpay',
  MAESTRO: 'maestro',
  ELO: 'elo',
  MIR: 'mir',
  HIPER: 'hiper',
  HIPERCARD: 'hipercard'
};

var ORIGINAL_TEST_ORDER = [
  cardNames.VISA,
  cardNames.MASTERCARD,
  cardNames.AMERICAN_EXPRESS,
  cardNames.DINERS_CLUB,
  cardNames.DISCOVER,
  cardNames.JCB,
  cardNames.UNIONPAY,
  cardNames.MAESTRO,
  cardNames.ELO,
  cardNames.MIR,
  cardNames.HIPER,
  cardNames.HIPERCARD
];

testOrder = clone(ORIGINAL_TEST_ORDER);

function findType(type) {
  return customCards[type] || types[type];
}

function getAllCardTypes() {
  return testOrder.map(function (type) {
    return clone(findType(type));
  });
}

function getCardPosition(name, ignoreErrorForNotExisting) {
  var position = testOrder.indexOf(name);

  if (!ignoreErrorForNotExisting && position === -1) {
    throw new Error('"' + name + '" is not a supported card type.');
  }

  return position;
}

function creditCardType(cardNumber) {
  var bestMatch;
  var results = [];

  if (!isValidInputType(cardNumber)) {
    return [];
  }

  if (cardNumber.length === 0) {
    return getAllCardTypes(testOrder);
  }

  testOrder.forEach(function (type) {
    var cardConfiguration = findType(type);

    addMatchingCardsToResults(cardNumber, cardConfiguration, results);
  });

  bestMatch = findBestMatch(results);

  if (bestMatch) {
    return [bestMatch];
  }

  return results;
}

creditCardType.getTypeInfo = function (type) {
  return clone(findType(type));
};

creditCardType.removeCard = function (name) {
  var position = getCardPosition(name);

  testOrder.splice(position, 1);
};

creditCardType.addCard = function (config) {
  var existingCardPosition = getCardPosition(config.type, true);

  customCards[config.type] = config;

  if (existingCardPosition === -1) {
    testOrder.push(config.type);
  }
};

creditCardType.updateCard = function (cardType, updates) {
  var clonedCard;
  var originalObject = customCards[cardType] || types[cardType];

  if (!originalObject) {
    throw new Error('"' + cardType + '" is not a recognized type. Use `addCard` instead.');
  }

  if (updates.type && originalObject.type !== updates.type) {
    throw new Error('Cannot overwrite type parameter.');
  }

  clonedCard = clone(originalObject, true);

  Object.keys(clonedCard).forEach(function (key) {
    if (updates[key]) {
      clonedCard[key] = updates[key];
    }
  });

  customCards[clonedCard.type] = clonedCard;
};

creditCardType.changeOrder = function (name, position) {
  var currentPosition = getCardPosition(name);

  testOrder.splice(currentPosition, 1);
  testOrder.splice(position, 0, name);
};

creditCardType.resetModifications = function () {
  testOrder = clone(ORIGINAL_TEST_ORDER);
  customCards = {};
};

creditCardType.types = cardNames;

module.exports = creditCardType;


/***/ }),

/***/ "./node_modules/credit-card-type/lib/add-matching-cards-to-results.js":
/*!****************************************************************************!*\
  !*** ./node_modules/credit-card-type/lib/add-matching-cards-to-results.js ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var clone = __webpack_require__(/*! ./clone */ "./node_modules/credit-card-type/lib/clone.js");
var matches = __webpack_require__(/*! ./matches */ "./node_modules/credit-card-type/lib/matches.js");

function addMatchingCardsToResults(cardNumber, cardConfiguration, results) {
  var i, pattern, patternLength, clonedCardConfiguration;

  for (i = 0; i < cardConfiguration.patterns.length; i++) {
    pattern = cardConfiguration.patterns[i];

    if (!matches(cardNumber, pattern)) {
      continue;
    }

    clonedCardConfiguration = clone(cardConfiguration);

    if (Array.isArray(pattern)) {
      patternLength = String(pattern[0]).length;
    } else {
      patternLength = String(pattern).length;
    }

    if (cardNumber.length >= patternLength) {
      clonedCardConfiguration.matchStrength = patternLength;
    }

    results.push(clonedCardConfiguration);
    break;
  }
}

module.exports = addMatchingCardsToResults;


/***/ }),

/***/ "./node_modules/credit-card-type/lib/card-types.js":
/*!*********************************************************!*\
  !*** ./node_modules/credit-card-type/lib/card-types.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var cardTypes = {
  visa: {
    niceType: 'Visa',
    type: 'visa',
    patterns: [
      4
    ],
    gaps: [4, 8, 12],
    lengths: [16, 18, 19],
    code: {
      name: 'CVV',
      size: 3
    }
  },
  mastercard: {
    niceType: 'Mastercard',
    type: 'mastercard',
    patterns: [
      [51, 55],
      [2221, 2229],
      [223, 229],
      [23, 26],
      [270, 271],
      2720
    ],
    gaps: [4, 8, 12],
    lengths: [16],
    code: {
      name: 'CVC',
      size: 3
    }
  },
  'american-express': {
    niceType: 'American Express',
    type: 'american-express',
    patterns: [
      34,
      37
    ],
    gaps: [4, 10],
    lengths: [15],
    code: {
      name: 'CID',
      size: 4
    }
  },
  'diners-club': {
    niceType: 'Diners Club',
    type: 'diners-club',
    patterns: [
      [300, 305],
      36,
      38,
      39
    ],
    gaps: [4, 10],
    lengths: [14, 16, 19],
    code: {
      name: 'CVV',
      size: 3
    }
  },
  discover: {
    niceType: 'Discover',
    type: 'discover',
    patterns: [
      6011,
      [644, 649],
      65
    ],
    gaps: [4, 8, 12],
    lengths: [16, 19],
    code: {
      name: 'CID',
      size: 3
    }
  },
  jcb: {
    niceType: 'JCB',
    type: 'jcb',
    patterns: [
      2131,
      1800,
      [3528, 3589]
    ],
    gaps: [4, 8, 12],
    lengths: [16, 17, 18, 19],
    code: {
      name: 'CVV',
      size: 3
    }
  },
  unionpay: {
    niceType: 'UnionPay',
    type: 'unionpay',
    patterns: [
      620,
      [624, 626],
      [62100, 62182],
      [62184, 62187],
      [62185, 62197],
      [62200, 62205],
      [622010, 622999],
      622018,
      [622019, 622999],
      [62207, 62209],
      [622126, 622925],
      [623, 626],
      6270,
      6272,
      6276,
      [627700, 627779],
      [627781, 627799],
      [6282, 6289],
      6291,
      6292,
      810,
      [8110, 8131],
      [8132, 8151],
      [8152, 8163],
      [8164, 8171]
    ],
    gaps: [4, 8, 12],
    lengths: [14, 15, 16, 17, 18, 19],
    code: {
      name: 'CVN',
      size: 3
    }
  },
  maestro: {
    niceType: 'Maestro',
    type: 'maestro',
    patterns: [
      493698,
      [500000, 506698],
      [506779, 508999],
      [56, 59],
      63,
      67,
      6
    ],
    gaps: [4, 8, 12],
    lengths: [12, 13, 14, 15, 16, 17, 18, 19],
    code: {
      name: 'CVC',
      size: 3
    }
  },
  elo: {
    niceType: 'Elo',
    type: 'elo',
    patterns: [
      401178,
      401179,
      438935,
      457631,
      457632,
      431274,
      451416,
      457393,
      504175,
      [506699, 506778],
      [509000, 509999],
      627780,
      636297,
      636368,
      [650031, 650033],
      [650035, 650051],
      [650405, 650439],
      [650485, 650538],
      [650541, 650598],
      [650700, 650718],
      [650720, 650727],
      [650901, 650978],
      [651652, 651679],
      [655000, 655019],
      [655021, 655058]
    ],
    gaps: [4, 8, 12],
    lengths: [16],
    code: {
      name: 'CVE',
      size: 3
    }
  },
  mir: {
    niceType: 'Mir',
    type: 'mir',
    patterns: [
      [2200, 2204]
    ],
    gaps: [4, 8, 12],
    lengths: [16, 17, 18, 19],
    code: {
      name: 'CVP2',
      size: 3
    }
  },
  hiper: {
    niceType: 'Hiper',
    type: 'hiper',
    patterns: [
      637095,
      637568,
      637599,
      637609,
      637612
    ],
    gaps: [4, 8, 12],
    lengths: [16],
    code: {
      name: 'CVC',
      size: 3
    }
  },
  hipercard: {
    niceType: 'Hipercard',
    type: 'hipercard',
    patterns: [
      606282
    ],
    gaps: [4, 8, 12],
    lengths: [16],
    code: {
      name: 'CVC',
      size: 3
    }
  }
};

module.exports = cardTypes;


/***/ }),

/***/ "./node_modules/credit-card-type/lib/clone.js":
/*!****************************************************!*\
  !*** ./node_modules/credit-card-type/lib/clone.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


function clone(originalObject) {
  var dupe;

  if (!originalObject) { return null; }

  dupe = JSON.parse(JSON.stringify(originalObject));

  return dupe;
}

module.exports = clone;


/***/ }),

/***/ "./node_modules/credit-card-type/lib/find-best-match.js":
/*!**************************************************************!*\
  !*** ./node_modules/credit-card-type/lib/find-best-match.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


function hasEnoughResultsToDetermineBestMatch(results) {
  var numberOfResultsWithMaxStrengthProperty = results.filter(function (result) {
    return result.matchStrength;
  }).length;

  // if all possible results have a maxStrength property
  // that means the card number is sufficiently long
  // enough to determine conclusively what the type is
  return numberOfResultsWithMaxStrengthProperty > 0 &&
    numberOfResultsWithMaxStrengthProperty === results.length;
}

function findBestMatch(results) {
  if (!hasEnoughResultsToDetermineBestMatch(results)) {
    return;
  }

  return results.reduce(function (bestMatch, result) { // eslint-disable-line consistent-return
    if (!bestMatch) {
      return result;
    }

    // if the current best match pattern is less specific
    // than this result, set the result as the new best match
    if (bestMatch.matchStrength < result.matchStrength) {
      return result;
    }

    return bestMatch;
  });
}

module.exports = findBestMatch;


/***/ }),

/***/ "./node_modules/credit-card-type/lib/is-valid-input-type.js":
/*!******************************************************************!*\
  !*** ./node_modules/credit-card-type/lib/is-valid-input-type.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


function isValidInputType(cardNumber) {
  return typeof cardNumber === 'string' || cardNumber instanceof String;
}

module.exports = isValidInputType;


/***/ }),

/***/ "./node_modules/credit-card-type/lib/matches.js":
/*!******************************************************!*\
  !*** ./node_modules/credit-card-type/lib/matches.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


// Adapted from https://github.com/polvo-labs/card-type/blob/aaab11f80fa1939bccc8f24905a06ae3cd864356/src/cardType.js#L37-L42
function matchesRange(cardNumber, min, max) {
  var maxLengthToCheck = String(min).length;
  var substr = cardNumber.substr(0, maxLengthToCheck);
  var integerRepresentationOfCardNumber = parseInt(substr, 10);

  min = parseInt(String(min).substr(0, substr.length), 10);
  max = parseInt(String(max).substr(0, substr.length), 10);

  return integerRepresentationOfCardNumber >= min && integerRepresentationOfCardNumber <= max;
}

function matchesPattern(cardNumber, pattern) {
  pattern = String(pattern);

  return pattern.substring(0, cardNumber.length) === cardNumber.substring(0, pattern.length);
}

function matches(cardNumber, pattern) {
  if (Array.isArray(pattern)) {
    return matchesRange(cardNumber, pattern[0], pattern[1]);
  }

  return matchesPattern(cardNumber, pattern);
}

module.exports = matches;


/***/ }),

/***/ "./node_modules/deep-assign/index.js":
/*!*******************************************!*\
  !*** ./node_modules/deep-assign/index.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var isObj = __webpack_require__(/*! is-obj */ "./node_modules/is-obj/index.js");
var hasOwnProperty = Object.prototype.hasOwnProperty;
var propIsEnumerable = Object.prototype.propertyIsEnumerable;

function toObject(val) {
	if (val === null || val === undefined) {
		throw new TypeError('Sources cannot be null or undefined');
	}

	return Object(val);
}

function assignKey(to, from, key) {
	var val = from[key];

	if (val === undefined || val === null) {
		return;
	}

	if (hasOwnProperty.call(to, key)) {
		if (to[key] === undefined || to[key] === null) {
			throw new TypeError('Cannot convert undefined or null to object (' + key + ')');
		}
	}

	if (!hasOwnProperty.call(to, key) || !isObj(val)) {
		to[key] = val;
	} else {
		to[key] = assign(Object(to[key]), from[key]);
	}
}

function assign(to, from) {
	if (to === from) {
		return to;
	}

	from = Object(from);

	for (var key in from) {
		if (hasOwnProperty.call(from, key)) {
			assignKey(to, from, key);
		}
	}

	if (Object.getOwnPropertySymbols) {
		var symbols = Object.getOwnPropertySymbols(from);

		for (var i = 0; i < symbols.length; i++) {
			if (propIsEnumerable.call(from, symbols[i])) {
				assignKey(to, from, symbols[i]);
			}
		}
	}

	return to;
}

module.exports = function deepAssign(target) {
	target = toObject(target);

	for (var s = 1; s < arguments.length; s++) {
		assign(target, arguments[s]);
	}

	return target;
};


/***/ }),

/***/ "./node_modules/iframe-resizer/index.js":
/*!**********************************************!*\
  !*** ./node_modules/iframe-resizer/index.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = __webpack_require__(/*! ./js */ "./node_modules/iframe-resizer/js/index.js")


/***/ }),

/***/ "./node_modules/iframe-resizer/js/iframeResizer.contentWindow.js":
/*!***********************************************************************!*\
  !*** ./node_modules/iframe-resizer/js/iframeResizer.contentWindow.js ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(__webpack_provided_window_dot_jQuery) {/*
 * File: iframeResizer.contentWindow.js
 * Desc: Include this file in any page being loaded into an iframe
 *       to force the iframe to resize to the content size.
 * Requires: iframeResizer.js on host page.
 * Doc: https://github.com/davidjbradshaw/iframe-resizer
 * Author: David J. Bradshaw - dave@bradshaw.net
 * Contributor: Jure Mav - jure.mav@gmail.com
 * Contributor: Ian Caunce - ian@hallnet.co.uk
 */

(function(undefined) {
  'use strict';

  if (typeof window === 'undefined') return; // don't run for server side render

  var autoResize = true,
    base = 10,
    bodyBackground = '',
    bodyMargin = 0,
    bodyMarginStr = '',
    bodyObserver = null,
    bodyPadding = '',
    calculateWidth = false,
    doubleEventList = { resize: 1, click: 1 },
    eventCancelTimer = 128,
    firstRun = true,
    height = 1,
    heightCalcModeDefault = 'bodyOffset',
    heightCalcMode = heightCalcModeDefault,
    initLock = true,
    initMsg = '',
    inPageLinks = {},
    interval = 32,
    intervalTimer = null,
    logging = false,
    msgID = '[iFrameSizer]', //Must match host page msg ID
    msgIdLen = msgID.length,
    myID = '',
    observer = null,
    resetRequiredMethods = {
      max: 1,
      min: 1,
      bodyScroll: 1,
      documentElementScroll: 1
    },
    resizeFrom = 'child',
    sendPermit = true,
    target = window.parent,
    targetOriginDefault = '*',
    tolerance = 0,
    triggerLocked = false,
    triggerLockedTimer = null,
    throttledTimer = 16,
    width = 1,
    widthCalcModeDefault = 'scroll',
    widthCalcMode = widthCalcModeDefault,
    win = window,
    messageCallback = function() {
      warn('MessageCallback function not defined');
    },
    readyCallback = function() {},
    pageInfoCallback = function() {},
    customCalcMethods = {
      height: function() {
        warn('Custom height calculation function not defined');
        return document.documentElement.offsetHeight;
      },
      width: function() {
        warn('Custom width calculation function not defined');
        return document.body.scrollWidth;
      }
    },
    eventHandlersByName = {},
    passiveSupported = false,
    onceSupported = false;

  function noop() {}

  try {
    var options = Object.create(
      {},
      {
        passive: {
          get: function() {
            passiveSupported = true;
          }
        },
        once: {
          get: function() {
            onceSupported = true;
          }
        }
      }
    );
    window.addEventListener('test', noop, options);
    window.removeEventListener('test', noop, options);
  } catch (e) {
    /* */
  }

  function addEventListener(el, evt, func, options) {
    /* istanbul ignore else */ // Not testable in phantomJS
    if ('addEventListener' in window) {
      el.addEventListener(evt, func, passiveSupported ? options || {} : false);
    } else if ('attachEvent' in window) {
      //IE
      el.attachEvent('on' + evt, func);
    }
  }

  function removeEventListener(el, evt, func) {
    /* istanbul ignore else */ // Not testable in phantomJS
    if ('removeEventListener' in window) {
      el.removeEventListener(evt, func, false);
    } else if ('detachEvent' in window) {
      //IE
      el.detachEvent('on' + evt, func);
    }
  }

  function capitalizeFirstLetter(string) {
    return string.charAt(0).toUpperCase() + string.slice(1);
  }

  //Based on underscore.js
  function throttle(func) {
    var context,
      args,
      result,
      timeout = null,
      previous = 0,
      later = function() {
        previous = getNow();
        timeout = null;
        result = func.apply(context, args);
        if (!timeout) {
          context = args = null;
        }
      };

    return function() {
      var now = getNow();

      if (!previous) {
        previous = now;
      }

      var remaining = throttledTimer - (now - previous);

      context = this;
      args = arguments;

      if (remaining <= 0 || remaining > throttledTimer) {
        if (timeout) {
          clearTimeout(timeout);
          timeout = null;
        }

        previous = now;
        result = func.apply(context, args);

        if (!timeout) {
          context = args = null;
        }
      } else if (!timeout) {
        timeout = setTimeout(later, remaining);
      }

      return result;
    };
  }

  var getNow =
    Date.now ||
    function() {
      /* istanbul ignore next */ // Not testable in PhantonJS
      return new Date().getTime();
    };

  function formatLogMsg(msg) {
    return msgID + '[' + myID + ']' + ' ' + msg;
  }

  function log(msg) {
    if (logging && 'object' === typeof window.console) {
      console.log(formatLogMsg(msg));
    }
  }

  function warn(msg) {
    if ('object' === typeof window.console) {
      console.warn(formatLogMsg(msg));
    }
  }

  function init() {
    readDataFromParent();
    log('Initialising iFrame (' + location.href + ')');
    readDataFromPage();
    setMargin();
    setBodyStyle('background', bodyBackground);
    setBodyStyle('padding', bodyPadding);
    injectClearFixIntoBodyElement();
    checkHeightMode();
    checkWidthMode();
    stopInfiniteResizingOfIFrame();
    setupPublicMethods();
    startEventListeners();
    inPageLinks = setupInPageLinks();
    sendSize('init', 'Init message from host page');
    readyCallback();
  }

  function readDataFromParent() {
    function strBool(str) {
      return 'true' === str ? true : false;
    }

    var data = initMsg.substr(msgIdLen).split(':');

    myID = data[0];
    bodyMargin = undefined !== data[1] ? Number(data[1]) : bodyMargin; //For V1 compatibility
    calculateWidth = undefined !== data[2] ? strBool(data[2]) : calculateWidth;
    logging = undefined !== data[3] ? strBool(data[3]) : logging;
    interval = undefined !== data[4] ? Number(data[4]) : interval;
    autoResize = undefined !== data[6] ? strBool(data[6]) : autoResize;
    bodyMarginStr = data[7];
    heightCalcMode = undefined !== data[8] ? data[8] : heightCalcMode;
    bodyBackground = data[9];
    bodyPadding = data[10];
    tolerance = undefined !== data[11] ? Number(data[11]) : tolerance;
    inPageLinks.enable = undefined !== data[12] ? strBool(data[12]) : false;
    resizeFrom = undefined !== data[13] ? data[13] : resizeFrom;
    widthCalcMode = undefined !== data[14] ? data[14] : widthCalcMode;
  }

  function readDataFromPage() {
    function readData() {
      var data = window.iFrameResizer;

      log('Reading data from page: ' + JSON.stringify(data));

      messageCallback =
        'messageCallback' in data ? data.messageCallback : messageCallback;
      readyCallback =
        'readyCallback' in data ? data.readyCallback : readyCallback;
      targetOriginDefault =
        'targetOrigin' in data ? data.targetOrigin : targetOriginDefault;
      heightCalcMode =
        'heightCalculationMethod' in data
          ? data.heightCalculationMethod
          : heightCalcMode;
      widthCalcMode =
        'widthCalculationMethod' in data
          ? data.widthCalculationMethod
          : widthCalcMode;
    }

    function setupCustomCalcMethods(calcMode, calcFunc) {
      if ('function' === typeof calcMode) {
        log('Setup custom ' + calcFunc + 'CalcMethod');
        customCalcMethods[calcFunc] = calcMode;
        calcMode = 'custom';
      }

      return calcMode;
    }

    if (
      'iFrameResizer' in window &&
      Object === window.iFrameResizer.constructor
    ) {
      readData();
      heightCalcMode = setupCustomCalcMethods(heightCalcMode, 'height');
      widthCalcMode = setupCustomCalcMethods(widthCalcMode, 'width');
    }

    log('TargetOrigin for parent set to: ' + targetOriginDefault);
  }

  function chkCSS(attr, value) {
    if (-1 !== value.indexOf('-')) {
      warn('Negative CSS value ignored for ' + attr);
      value = '';
    }
    return value;
  }

  function setBodyStyle(attr, value) {
    if (undefined !== value && '' !== value && 'null' !== value) {
      document.body.style[attr] = value;
      log('Body ' + attr + ' set to "' + value + '"');
    }
  }

  function setMargin() {
    //If called via V1 script, convert bodyMargin from int to str
    if (undefined === bodyMarginStr) {
      bodyMarginStr = bodyMargin + 'px';
    }

    setBodyStyle('margin', chkCSS('margin', bodyMarginStr));
  }

  function stopInfiniteResizingOfIFrame() {
    document.documentElement.style.height = '';
    document.body.style.height = '';
    log('HTML & body height set to "auto"');
  }

  function manageTriggerEvent(options) {
    var listener = {
      add: function(eventName) {
        function handleEvent() {
          sendSize(options.eventName, options.eventType);
        }

        eventHandlersByName[eventName] = handleEvent;

        addEventListener(window, eventName, handleEvent, { passive: true });
      },
      remove: function(eventName) {
        var handleEvent = eventHandlersByName[eventName];
        delete eventHandlersByName[eventName];

        removeEventListener(window, eventName, handleEvent);
      }
    };

    if (options.eventNames && Array.prototype.map) {
      options.eventName = options.eventNames[0];
      options.eventNames.map(listener[options.method]);
    } else {
      listener[options.method](options.eventName);
    }

    log(
      capitalizeFirstLetter(options.method) +
        ' event listener: ' +
        options.eventType
    );
  }

  function manageEventListeners(method) {
    manageTriggerEvent({
      method: method,
      eventType: 'Animation Start',
      eventNames: ['animationstart', 'webkitAnimationStart']
    });
    manageTriggerEvent({
      method: method,
      eventType: 'Animation Iteration',
      eventNames: ['animationiteration', 'webkitAnimationIteration']
    });
    manageTriggerEvent({
      method: method,
      eventType: 'Animation End',
      eventNames: ['animationend', 'webkitAnimationEnd']
    });
    manageTriggerEvent({
      method: method,
      eventType: 'Input',
      eventName: 'input'
    });
    manageTriggerEvent({
      method: method,
      eventType: 'Mouse Up',
      eventName: 'mouseup'
    });
    manageTriggerEvent({
      method: method,
      eventType: 'Mouse Down',
      eventName: 'mousedown'
    });
    manageTriggerEvent({
      method: method,
      eventType: 'Orientation Change',
      eventName: 'orientationchange'
    });
    manageTriggerEvent({
      method: method,
      eventType: 'Print',
      eventName: ['afterprint', 'beforeprint']
    });
    manageTriggerEvent({
      method: method,
      eventType: 'Ready State Change',
      eventName: 'readystatechange'
    });
    manageTriggerEvent({
      method: method,
      eventType: 'Touch Start',
      eventName: 'touchstart'
    });
    manageTriggerEvent({
      method: method,
      eventType: 'Touch End',
      eventName: 'touchend'
    });
    manageTriggerEvent({
      method: method,
      eventType: 'Touch Cancel',
      eventName: 'touchcancel'
    });
    manageTriggerEvent({
      method: method,
      eventType: 'Transition Start',
      eventNames: [
        'transitionstart',
        'webkitTransitionStart',
        'MSTransitionStart',
        'oTransitionStart',
        'otransitionstart'
      ]
    });
    manageTriggerEvent({
      method: method,
      eventType: 'Transition Iteration',
      eventNames: [
        'transitioniteration',
        'webkitTransitionIteration',
        'MSTransitionIteration',
        'oTransitionIteration',
        'otransitioniteration'
      ]
    });
    manageTriggerEvent({
      method: method,
      eventType: 'Transition End',
      eventNames: [
        'transitionend',
        'webkitTransitionEnd',
        'MSTransitionEnd',
        'oTransitionEnd',
        'otransitionend'
      ]
    });
    if ('child' === resizeFrom) {
      manageTriggerEvent({
        method: method,
        eventType: 'IFrame Resized',
        eventName: 'resize'
      });
    }
  }

  function checkCalcMode(calcMode, calcModeDefault, modes, type) {
    if (calcModeDefault !== calcMode) {
      if (!(calcMode in modes)) {
        warn(
          calcMode + ' is not a valid option for ' + type + 'CalculationMethod.'
        );
        calcMode = calcModeDefault;
      }
      log(type + ' calculation method set to "' + calcMode + '"');
    }

    return calcMode;
  }

  function checkHeightMode() {
    heightCalcMode = checkCalcMode(
      heightCalcMode,
      heightCalcModeDefault,
      getHeight,
      'height'
    );
  }

  function checkWidthMode() {
    widthCalcMode = checkCalcMode(
      widthCalcMode,
      widthCalcModeDefault,
      getWidth,
      'width'
    );
  }

  function startEventListeners() {
    if (true === autoResize) {
      manageEventListeners('add');
      setupMutationObserver();
    } else {
      log('Auto Resize disabled');
    }
  }

  function stopMsgsToParent() {
    log('Disable outgoing messages');
    sendPermit = false;
  }

  function removeMsgListener() {
    log('Remove event listener: Message');
    removeEventListener(window, 'message', receiver);
  }

  function disconnectMutationObserver() {
    if (null !== bodyObserver) {
      /* istanbul ignore next */ // Not testable in PhantonJS
      bodyObserver.disconnect();
    }
  }

  function stopEventListeners() {
    manageEventListeners('remove');
    disconnectMutationObserver();
    clearInterval(intervalTimer);
  }

  function teardown() {
    stopMsgsToParent();
    removeMsgListener();
    if (true === autoResize) stopEventListeners();
  }

  function injectClearFixIntoBodyElement() {
    var clearFix = document.createElement('div');
    clearFix.style.clear = 'both';
    clearFix.style.display = 'block'; //Guard against this having been globally redefined in CSS.
    document.body.appendChild(clearFix);
  }

  function setupInPageLinks() {
    function getPagePosition() {
      return {
        x:
          window.pageXOffset !== undefined
            ? window.pageXOffset
            : document.documentElement.scrollLeft,
        y:
          window.pageYOffset !== undefined
            ? window.pageYOffset
            : document.documentElement.scrollTop
      };
    }

    function getElementPosition(el) {
      var elPosition = el.getBoundingClientRect(),
        pagePosition = getPagePosition();

      return {
        x: parseInt(elPosition.left, 10) + parseInt(pagePosition.x, 10),
        y: parseInt(elPosition.top, 10) + parseInt(pagePosition.y, 10)
      };
    }

    function findTarget(location) {
      function jumpToTarget(target) {
        var jumpPosition = getElementPosition(target);

        log(
          'Moving to in page link (#' +
            hash +
            ') at x: ' +
            jumpPosition.x +
            ' y: ' +
            jumpPosition.y
        );
        sendMsg(jumpPosition.y, jumpPosition.x, 'scrollToOffset'); // X&Y reversed at sendMsg uses height/width
      }

      var hash = location.split('#')[1] || location, //Remove # if present
        hashData = decodeURIComponent(hash),
        target =
          document.getElementById(hashData) ||
          document.getElementsByName(hashData)[0];

      if (undefined !== target) {
        jumpToTarget(target);
      } else {
        log(
          'In page link (#' +
            hash +
            ') not found in iFrame, so sending to parent'
        );
        sendMsg(0, 0, 'inPageLink', '#' + hash);
      }
    }

    function checkLocationHash() {
      if ('' !== location.hash && '#' !== location.hash) {
        findTarget(location.href);
      }
    }

    function bindAnchors() {
      function setupLink(el) {
        function linkClicked(e) {
          e.preventDefault();

          /*jshint validthis:true */
          findTarget(this.getAttribute('href'));
        }

        if ('#' !== el.getAttribute('href')) {
          addEventListener(el, 'click', linkClicked);
        }
      }

      Array.prototype.forEach.call(
        document.querySelectorAll('a[href^="#"]'),
        setupLink
      );
    }

    function bindLocationHash() {
      addEventListener(window, 'hashchange', checkLocationHash);
    }

    function initCheck() {
      //check if page loaded with location hash after init resize
      setTimeout(checkLocationHash, eventCancelTimer);
    }

    function enableInPageLinks() {
      /* istanbul ignore else */ // Not testable in phantonJS
      if (Array.prototype.forEach && document.querySelectorAll) {
        log('Setting up location.hash handlers');
        bindAnchors();
        bindLocationHash();
        initCheck();
      } else {
        warn(
          'In page linking not fully supported in this browser! (See README.md for IE8 workaround)'
        );
      }
    }

    if (inPageLinks.enable) {
      enableInPageLinks();
    } else {
      log('In page linking not enabled');
    }

    return {
      findTarget: findTarget
    };
  }

  function setupPublicMethods() {
    log('Enable public methods');

    win.parentIFrame = {
      autoResize: function autoResizeF(resize) {
        if (true === resize && false === autoResize) {
          autoResize = true;
          startEventListeners();
          //sendSize('autoResize','Auto Resize enabled');
        } else if (false === resize && true === autoResize) {
          autoResize = false;
          stopEventListeners();
        }

        return autoResize;
      },

      close: function closeF() {
        sendMsg(0, 0, 'close');
        teardown();
      },

      getId: function getIdF() {
        return myID;
      },

      getPageInfo: function getPageInfoF(callback) {
        if ('function' === typeof callback) {
          pageInfoCallback = callback;
          sendMsg(0, 0, 'pageInfo');
        } else {
          pageInfoCallback = function() {};
          sendMsg(0, 0, 'pageInfoStop');
        }
      },

      moveToAnchor: function moveToAnchorF(hash) {
        inPageLinks.findTarget(hash);
      },

      reset: function resetF() {
        resetIFrame('parentIFrame.reset');
      },

      scrollTo: function scrollToF(x, y) {
        sendMsg(y, x, 'scrollTo'); // X&Y reversed at sendMsg uses height/width
      },

      scrollToOffset: function scrollToF(x, y) {
        sendMsg(y, x, 'scrollToOffset'); // X&Y reversed at sendMsg uses height/width
      },

      sendMessage: function sendMessageF(msg, targetOrigin) {
        sendMsg(0, 0, 'message', JSON.stringify(msg), targetOrigin);
      },

      setHeightCalculationMethod: function setHeightCalculationMethodF(
        heightCalculationMethod
      ) {
        heightCalcMode = heightCalculationMethod;
        checkHeightMode();
      },

      setWidthCalculationMethod: function setWidthCalculationMethodF(
        widthCalculationMethod
      ) {
        widthCalcMode = widthCalculationMethod;
        checkWidthMode();
      },

      setTargetOrigin: function setTargetOriginF(targetOrigin) {
        log('Set targetOrigin: ' + targetOrigin);
        targetOriginDefault = targetOrigin;
      },

      size: function sizeF(customHeight, customWidth) {
        var valString =
          '' +
          (customHeight ? customHeight : '') +
          (customWidth ? ',' + customWidth : '');
        //lockTrigger();
        sendSize(
          'size',
          'parentIFrame.size(' + valString + ')',
          customHeight,
          customWidth
        );
      }
    };
  }

  function initInterval() {
    if (0 !== interval) {
      log('setInterval: ' + interval + 'ms');
      intervalTimer = setInterval(function() {
        sendSize('interval', 'setInterval: ' + interval);
      }, Math.abs(interval));
    }
  } //Not testable in PhantomJS

  /* istanbul ignore next */ function setupBodyMutationObserver() {
    function addImageLoadListners(mutation) {
      function addImageLoadListener(element) {
        if (false === element.complete) {
          log('Attach listeners to ' + element.src);
          element.addEventListener('load', imageLoaded, false);
          element.addEventListener('error', imageError, false);
          elements.push(element);
        }
      }

      if (mutation.type === 'attributes' && mutation.attributeName === 'src') {
        addImageLoadListener(mutation.target);
      } else if (mutation.type === 'childList') {
        Array.prototype.forEach.call(
          mutation.target.querySelectorAll('img'),
          addImageLoadListener
        );
      }
    }

    function removeFromArray(element) {
      elements.splice(elements.indexOf(element), 1);
    }

    function removeImageLoadListener(element) {
      log('Remove listeners from ' + element.src);
      element.removeEventListener('load', imageLoaded, false);
      element.removeEventListener('error', imageError, false);
      removeFromArray(element);
    }

    function imageEventTriggered(event, type, typeDesc) {
      removeImageLoadListener(event.target);
      sendSize(type, typeDesc + ': ' + event.target.src, undefined, undefined);
    }

    function imageLoaded(event) {
      imageEventTriggered(event, 'imageLoad', 'Image loaded');
    }

    function imageError(event) {
      imageEventTriggered(event, 'imageLoadFailed', 'Image load failed');
    }

    function mutationObserved(mutations) {
      sendSize(
        'mutationObserver',
        'mutationObserver: ' + mutations[0].target + ' ' + mutations[0].type
      );

      //Deal with WebKit asyncing image loading when tags are injected into the page
      mutations.forEach(addImageLoadListners);
    }

    function createMutationObserver() {
      var target = document.querySelector('body'),
        config = {
          attributes: true,
          attributeOldValue: false,
          characterData: true,
          characterDataOldValue: false,
          childList: true,
          subtree: true
        };

      observer = new MutationObserver(mutationObserved);

      log('Create body MutationObserver');
      observer.observe(target, config);

      return observer;
    }

    var elements = [],
      MutationObserver =
        window.MutationObserver || window.WebKitMutationObserver,
      observer = createMutationObserver();

    return {
      disconnect: function() {
        if ('disconnect' in observer) {
          log('Disconnect body MutationObserver');
          observer.disconnect();
          elements.forEach(removeImageLoadListener);
        }
      }
    };
  }

  function setupMutationObserver() {
    var forceIntervalTimer = 0 > interval; // Not testable in PhantomJS

    /* istanbul ignore if */ if (
      window.MutationObserver ||
      window.WebKitMutationObserver
    ) {
      if (forceIntervalTimer) {
        initInterval();
      } else {
        bodyObserver = setupBodyMutationObserver();
      }
    } else {
      log('MutationObserver not supported in this browser!');
      initInterval();
    }
  }

  // document.documentElement.offsetHeight is not reliable, so
  // we have to jump through hoops to get a better value.
  function getComputedStyle(prop, el) {
    /* istanbul ignore next */ //Not testable in PhantomJS
    function convertUnitsToPxForIE8(value) {
      var PIXEL = /^\d+(px)?$/i;

      if (PIXEL.test(value)) {
        return parseInt(value, base);
      }

      var style = el.style.left,
        runtimeStyle = el.runtimeStyle.left;

      el.runtimeStyle.left = el.currentStyle.left;
      el.style.left = value || 0;
      value = el.style.pixelLeft;
      el.style.left = style;
      el.runtimeStyle.left = runtimeStyle;

      return value;
    }

    var retVal = 0;
    el = el || document.body; // Not testable in phantonJS

    /* istanbul ignore else */ if (
      'defaultView' in document &&
      'getComputedStyle' in document.defaultView
    ) {
      retVal = document.defaultView.getComputedStyle(el, null);
      retVal = null !== retVal ? retVal[prop] : 0;
    } else {
      //IE8
      retVal = convertUnitsToPxForIE8(el.currentStyle[prop]);
    }

    return parseInt(retVal, base);
  }

  function chkEventThottle(timer) {
    if (timer > throttledTimer / 2) {
      throttledTimer = 2 * timer;
      log('Event throttle increased to ' + throttledTimer + 'ms');
    }
  }

  //Idea from https://github.com/guardian/iframe-messenger
  function getMaxElement(side, elements) {
    var elementsLength = elements.length,
      elVal = 0,
      maxVal = 0,
      Side = capitalizeFirstLetter(side),
      timer = getNow();

    for (var i = 0; i < elementsLength; i++) {
      elVal =
        elements[i].getBoundingClientRect()[side] +
        getComputedStyle('margin' + Side, elements[i]);
      if (elVal > maxVal) {
        maxVal = elVal;
      }
    }

    timer = getNow() - timer;

    log('Parsed ' + elementsLength + ' HTML elements');
    log('Element position calculated in ' + timer + 'ms');

    chkEventThottle(timer);

    return maxVal;
  }

  function getAllMeasurements(dimention) {
    return [
      dimention.bodyOffset(),
      dimention.bodyScroll(),
      dimention.documentElementOffset(),
      dimention.documentElementScroll()
    ];
  }

  function getTaggedElements(side, tag) {
    function noTaggedElementsFound() {
      warn('No tagged elements (' + tag + ') found on page');
      return document.querySelectorAll('body *');
    }

    var elements = document.querySelectorAll('[' + tag + ']');

    if (0 === elements.length) noTaggedElementsFound();

    return getMaxElement(side, elements);
  }

  function getAllElements() {
    return document.querySelectorAll('body *');
  }

  var getHeight = {
      bodyOffset: function getBodyOffsetHeight() {
        return (
          document.body.offsetHeight +
          getComputedStyle('marginTop') +
          getComputedStyle('marginBottom')
        );
      },

      offset: function() {
        return getHeight.bodyOffset(); //Backwards compatability
      },

      bodyScroll: function getBodyScrollHeight() {
        return document.body.scrollHeight;
      },

      custom: function getCustomWidth() {
        return customCalcMethods.height();
      },

      documentElementOffset: function getDEOffsetHeight() {
        return document.documentElement.offsetHeight;
      },

      documentElementScroll: function getDEScrollHeight() {
        return document.documentElement.scrollHeight;
      },

      max: function getMaxHeight() {
        return Math.max.apply(null, getAllMeasurements(getHeight));
      },

      min: function getMinHeight() {
        return Math.min.apply(null, getAllMeasurements(getHeight));
      },

      grow: function growHeight() {
        return getHeight.max(); //Run max without the forced downsizing
      },

      lowestElement: function getBestHeight() {
        return Math.max(
          getHeight.bodyOffset() || getHeight.documentElementOffset(),
          getMaxElement('bottom', getAllElements())
        );
      },

      taggedElement: function getTaggedElementsHeight() {
        return getTaggedElements('bottom', 'data-iframe-height');
      }
    },
    getWidth = {
      bodyScroll: function getBodyScrollWidth() {
        return document.body.scrollWidth;
      },

      bodyOffset: function getBodyOffsetWidth() {
        return document.body.offsetWidth;
      },

      custom: function getCustomWidth() {
        return customCalcMethods.width();
      },

      documentElementScroll: function getDEScrollWidth() {
        return document.documentElement.scrollWidth;
      },

      documentElementOffset: function getDEOffsetWidth() {
        return document.documentElement.offsetWidth;
      },

      scroll: function getMaxWidth() {
        return Math.max(
          getWidth.bodyScroll(),
          getWidth.documentElementScroll()
        );
      },

      max: function getMaxWidth() {
        return Math.max.apply(null, getAllMeasurements(getWidth));
      },

      min: function getMinWidth() {
        return Math.min.apply(null, getAllMeasurements(getWidth));
      },

      rightMostElement: function rightMostElement() {
        return getMaxElement('right', getAllElements());
      },

      taggedElement: function getTaggedElementsWidth() {
        return getTaggedElements('right', 'data-iframe-width');
      }
    };

  function sizeIFrame(
    triggerEvent,
    triggerEventDesc,
    customHeight,
    customWidth
  ) {
    function resizeIFrame() {
      height = currentHeight;
      width = currentWidth;

      sendMsg(height, width, triggerEvent);
    }

    function isSizeChangeDetected() {
      function checkTolarance(a, b) {
        var retVal = Math.abs(a - b) <= tolerance;
        return !retVal;
      }

      currentHeight =
        undefined !== customHeight ? customHeight : getHeight[heightCalcMode]();
      currentWidth =
        undefined !== customWidth ? customWidth : getWidth[widthCalcMode]();

      return (
        checkTolarance(height, currentHeight) ||
        (calculateWidth && checkTolarance(width, currentWidth))
      );
    }

    function isForceResizableEvent() {
      return !(triggerEvent in { init: 1, interval: 1, size: 1 });
    }

    function isForceResizableCalcMode() {
      return (
        heightCalcMode in resetRequiredMethods ||
        (calculateWidth && widthCalcMode in resetRequiredMethods)
      );
    }

    function logIgnored() {
      log('No change in size detected');
    }

    function checkDownSizing() {
      if (isForceResizableEvent() && isForceResizableCalcMode()) {
        resetIFrame(triggerEventDesc);
      } else if (!(triggerEvent in { interval: 1 })) {
        logIgnored();
      }
    }

    var currentHeight, currentWidth;

    if (isSizeChangeDetected() || 'init' === triggerEvent) {
      lockTrigger();
      resizeIFrame();
    } else {
      checkDownSizing();
    }
  }

  var sizeIFrameThrottled = throttle(sizeIFrame);

  function sendSize(triggerEvent, triggerEventDesc, customHeight, customWidth) {
    function recordTrigger() {
      if (!(triggerEvent in { reset: 1, resetPage: 1, init: 1 })) {
        log('Trigger event: ' + triggerEventDesc);
      }
    }

    function isDoubleFiredEvent() {
      return triggerLocked && triggerEvent in doubleEventList;
    }

    if (!isDoubleFiredEvent()) {
      recordTrigger();
      if (triggerEvent === 'init') {
        sizeIFrame(triggerEvent, triggerEventDesc, customHeight, customWidth);
      } else {
        sizeIFrameThrottled(
          triggerEvent,
          triggerEventDesc,
          customHeight,
          customWidth
        );
      }
    } else {
      log('Trigger event cancelled: ' + triggerEvent);
    }
  }

  function lockTrigger() {
    if (!triggerLocked) {
      triggerLocked = true;
      log('Trigger event lock on');
    }
    clearTimeout(triggerLockedTimer);
    triggerLockedTimer = setTimeout(function() {
      triggerLocked = false;
      log('Trigger event lock off');
      log('--');
    }, eventCancelTimer);
  }

  function triggerReset(triggerEvent) {
    height = getHeight[heightCalcMode]();
    width = getWidth[widthCalcMode]();

    sendMsg(height, width, triggerEvent);
  }

  function resetIFrame(triggerEventDesc) {
    var hcm = heightCalcMode;
    heightCalcMode = heightCalcModeDefault;

    log('Reset trigger event: ' + triggerEventDesc);
    lockTrigger();
    triggerReset('reset');

    heightCalcMode = hcm;
  }

  function sendMsg(height, width, triggerEvent, msg, targetOrigin) {
    function setTargetOrigin() {
      if (undefined === targetOrigin) {
        targetOrigin = targetOriginDefault;
      } else {
        log('Message targetOrigin: ' + targetOrigin);
      }
    }

    function sendToParent() {
      var size = height + ':' + width,
        message =
          myID +
          ':' +
          size +
          ':' +
          triggerEvent +
          (undefined !== msg ? ':' + msg : '');

      log('Sending message to host page (' + message + ')');
      target.postMessage(msgID + message, targetOrigin);
    }

    if (true === sendPermit) {
      setTargetOrigin();
      sendToParent();
    }
  }

  function receiver(event) {
    var processRequestFromParent = {
      init: function initFromParent() {
        initMsg = event.data;
        target = event.source;

        init();
        firstRun = false;
        setTimeout(function() {
          initLock = false;
        }, eventCancelTimer);
      },

      reset: function resetFromParent() {
        if (!initLock) {
          log('Page size reset by host page');
          triggerReset('resetPage');
        } else {
          log('Page reset ignored by init');
        }
      },

      resize: function resizeFromParent() {
        sendSize('resizeParent', 'Parent window requested size check');
      },

      moveToAnchor: function moveToAnchorF() {
        inPageLinks.findTarget(getData());
      },
      inPageLink: function inPageLinkF() {
        this.moveToAnchor();
      }, //Backward compatability

      pageInfo: function pageInfoFromParent() {
        var msgBody = getData();
        log('PageInfoFromParent called from parent: ' + msgBody);
        pageInfoCallback(JSON.parse(msgBody));
        log(' --');
      },

      message: function messageFromParent() {
        var msgBody = getData();

        log('MessageCallback called from parent: ' + msgBody);
        messageCallback(JSON.parse(msgBody));
        log(' --');
      }
    };

    function isMessageForUs() {
      return msgID === ('' + event.data).substr(0, msgIdLen); //''+ Protects against non-string messages
    }

    function getMessageType() {
      return event.data.split(']')[1].split(':')[0];
    }

    function getData() {
      return event.data.substr(event.data.indexOf(':') + 1);
    }

    function isMiddleTier() {
      return (
        (!( true && module.exports) &&
          'iFrameResize' in window) ||
        ('jQuery' in window && 'iFrameResize' in __webpack_provided_window_dot_jQuery.prototype)
      );
    }

    function isInitMsg() {
      //Test if this message is from a child below us. This is an ugly test, however, updating
      //the message format would break backwards compatibity.
      return event.data.split(':')[2] in { true: 1, false: 1 };
    }

    function callFromParent() {
      var messageType = getMessageType();

      if (messageType in processRequestFromParent) {
        processRequestFromParent[messageType]();
      } else if (!isMiddleTier() && !isInitMsg()) {
        warn('Unexpected message (' + event.data + ')');
      }
    }

    function processMessage() {
      if (false === firstRun) {
        callFromParent();
      } else if (isInitMsg()) {
        processRequestFromParent.init();
      } else {
        log(
          'Ignored message of type "' +
            getMessageType() +
            '". Received before initialization.'
        );
      }
    }

    if (isMessageForUs()) {
      processMessage();
    }
  }

  //Normally the parent kicks things off when it detects the iFrame has loaded.
  //If this script is async-loaded, then tell parent page to retry init.
  function chkLateLoaded() {
    if ('loading' !== document.readyState) {
      window.parent.postMessage('[iFrameResizerChild]Ready', '*');
    }
  }

  addEventListener(window, 'message', receiver);
  addEventListener(window, 'readystatechange', chkLateLoaded);
  chkLateLoaded();

  
})();

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.min.js")))

/***/ }),

/***/ "./node_modules/iframe-resizer/js/iframeResizer.js":
/*!*********************************************************!*\
  !*** ./node_modules/iframe-resizer/js/iframeResizer.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(__webpack_provided_window_dot_jQuery) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*
 * File: iframeResizer.js
 * Desc: Force iframes to size to content.
 * Requires: iframeResizer.contentWindow.js to be loaded into the target frame.
 * Doc: https://github.com/davidjbradshaw/iframe-resizer
 * Author: David J. Bradshaw - dave@bradshaw.net
 * Contributor: Jure Mav - jure.mav@gmail.com
 * Contributor: Reed Dadoune - reed@dadoune.com
 */

(function(undefined) {
  'use strict';

  if (typeof window === 'undefined') return; // don't run for server side render

  var count = 0,
    logEnabled = false,
    hiddenCheckEnabled = false,
    msgHeader = 'message',
    msgHeaderLen = msgHeader.length,
    msgId = '[iFrameSizer]', //Must match iframe msg ID
    msgIdLen = msgId.length,
    pagePosition = null,
    requestAnimationFrame = window.requestAnimationFrame,
    resetRequiredMethods = {
      max: 1,
      scroll: 1,
      bodyScroll: 1,
      documentElementScroll: 1
    },
    settings = {},
    timer = null,
    logId = 'Host Page',
    defaults = {
      autoResize: true,
      bodyBackground: null,
      bodyMargin: null,
      bodyMarginV1: 8,
      bodyPadding: null,
      checkOrigin: true,
      inPageLinks: false,
      enablePublicMethods: true,
      heightCalculationMethod: 'bodyOffset',
      id: 'iFrameResizer',
      interval: 32,
      log: false,
      maxHeight: Infinity,
      maxWidth: Infinity,
      minHeight: 0,
      minWidth: 0,
      resizeFrom: 'parent',
      scrolling: false,
      sizeHeight: true,
      sizeWidth: false,
      warningTimeout: 5000,
      tolerance: 0,
      widthCalculationMethod: 'scroll',
      closedCallback: function() {},
      initCallback: function() {},
      messageCallback: function() {
        warn('MessageCallback function not defined');
      },
      resizedCallback: function() {},
      scrollCallback: function() {
        return true;
      }
    };

  function getMutationObserver() {
    return window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;
  }

  function addEventListener(obj, evt, func) {
    /* istanbul ignore else */ // Not testable in PhantonJS
    if ('addEventListener' in window) {
      obj.addEventListener(evt, func, false);
    } else if ('attachEvent' in window) {
      //IE
      obj.attachEvent('on' + evt, func);
    }
  }

  function removeEventListener(el, evt, func) {
    /* istanbul ignore else */ // Not testable in phantonJS
    if ('removeEventListener' in window) {
      el.removeEventListener(evt, func, false);
    } else if ('detachEvent' in window) {
      //IE
      el.detachEvent('on' + evt, func);
    }
  }

  function setupRequestAnimationFrame() {
    var vendors = ['moz', 'webkit', 'o', 'ms'],
      x;

    // Remove vendor prefixing if prefixed and break early if not
    for (x = 0; x < vendors.length && !requestAnimationFrame; x += 1) {
      requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];
    }

    if (!requestAnimationFrame) {
      log('setup', 'RequestAnimationFrame not supported');
    }
  }

  function getMyID(iframeId) {
    var retStr = 'Host page: ' + iframeId;

    if (window.top !== window.self) {
      if (window.parentIFrame && window.parentIFrame.getId) {
        retStr = window.parentIFrame.getId() + ': ' + iframeId;
      } else {
        retStr = 'Nested host page: ' + iframeId;
      }
    }

    return retStr;
  }

  function formatLogHeader(iframeId) {
    return msgId + '[' + getMyID(iframeId) + ']';
  }

  function isLogEnabled(iframeId) {
    return settings[iframeId] ? settings[iframeId].log : logEnabled;
  }

  function log(iframeId, msg) {
    output('log', iframeId, msg, isLogEnabled(iframeId));
  }

  function info(iframeId, msg) {
    output('info', iframeId, msg, isLogEnabled(iframeId));
  }

  function warn(iframeId, msg) {
    output('warn', iframeId, msg, true);
  }

  function output(type, iframeId, msg, enabled) {
    if (true === enabled && 'object' === typeof window.console) {
      console[type](formatLogHeader(iframeId), msg);
    }
  }

  function iFrameListener(event) {
    function resizeIFrame() {
      function resize() {
        setSize(messageData);
        setPagePosition(iframeId);
        callback('resizedCallback', messageData);
      }

      ensureInRange('Height');
      ensureInRange('Width');

      syncResize(resize, messageData, 'init');
    }

    function processMsg() {
      var data = msg.substr(msgIdLen).split(':');

      return {
        iframe: settings[data[0]] && settings[data[0]].iframe,
        id: data[0],
        height: data[1],
        width: data[2],
        type: data[3]
      };
    }

    function ensureInRange(Dimension) {
      var max = Number(settings[iframeId]['max' + Dimension]),
        min = Number(settings[iframeId]['min' + Dimension]),
        dimension = Dimension.toLowerCase(),
        size = Number(messageData[dimension]);

      log(
        iframeId,
        'Checking ' + dimension + ' is in range ' + min + '-' + max
      );

      if (size < min) {
        size = min;
        log(iframeId, 'Set ' + dimension + ' to min value');
      }

      if (size > max) {
        size = max;
        log(iframeId, 'Set ' + dimension + ' to max value');
      }

      messageData[dimension] = '' + size;
    }

    function isMessageFromIFrame() {
      function checkAllowedOrigin() {
        function checkList() {
          var i = 0,
            retCode = false;

          log(
            iframeId,
            'Checking connection is from allowed list of origins: ' +
              checkOrigin
          );

          for (; i < checkOrigin.length; i++) {
            if (checkOrigin[i] === origin) {
              retCode = true;
              break;
            }
          }
          return retCode;
        }

        function checkSingle() {
          var remoteHost = settings[iframeId] && settings[iframeId].remoteHost;
          log(iframeId, 'Checking connection is from: ' + remoteHost);
          return origin === remoteHost;
        }

        return checkOrigin.constructor === Array ? checkList() : checkSingle();
      }

      var origin = event.origin,
        checkOrigin = settings[iframeId] && settings[iframeId].checkOrigin;

      if (checkOrigin && '' + origin !== 'null' && !checkAllowedOrigin()) {
        throw new Error(
          'Unexpected message received from: ' +
            origin +
            ' for ' +
            messageData.iframe.id +
            '. Message was: ' +
            event.data +
            '. This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.'
        );
      }

      return true;
    }

    function isMessageForUs() {
      return (
        msgId === ('' + msg).substr(0, msgIdLen) &&
        msg.substr(msgIdLen).split(':')[0] in settings
      ); //''+Protects against non-string msg
    }

    function isMessageFromMetaParent() {
      //Test if this message is from a parent above us. This is an ugly test, however, updating
      //the message format would break backwards compatibity.
      var retCode = messageData.type in { true: 1, false: 1, undefined: 1 };

      if (retCode) {
        log(iframeId, 'Ignoring init message from meta parent page');
      }

      return retCode;
    }

    function getMsgBody(offset) {
      return msg.substr(msg.indexOf(':') + msgHeaderLen + offset);
    }

    function forwardMsgFromIFrame(msgBody) {
      log(
        iframeId,
        'MessageCallback passed: {iframe: ' +
          messageData.iframe.id +
          ', message: ' +
          msgBody +
          '}'
      );
      callback('messageCallback', {
        iframe: messageData.iframe,
        message: JSON.parse(msgBody)
      });
      log(iframeId, '--');
    }

    function getPageInfo() {
      var bodyPosition = document.body.getBoundingClientRect(),
        iFramePosition = messageData.iframe.getBoundingClientRect();

      return JSON.stringify({
        iframeHeight: iFramePosition.height,
        iframeWidth: iFramePosition.width,
        clientHeight: Math.max(
          document.documentElement.clientHeight,
          window.innerHeight || 0
        ),
        clientWidth: Math.max(
          document.documentElement.clientWidth,
          window.innerWidth || 0
        ),
        offsetTop: parseInt(iFramePosition.top - bodyPosition.top, 10),
        offsetLeft: parseInt(iFramePosition.left - bodyPosition.left, 10),
        scrollTop: window.pageYOffset,
        scrollLeft: window.pageXOffset
      });
    }

    function sendPageInfoToIframe(iframe, iframeId) {
      function debouncedTrigger() {
        trigger(
          'Send Page Info',
          'pageInfo:' + getPageInfo(),
          iframe,
          iframeId
        );
      }
      debounceFrameEvents(debouncedTrigger, 32, iframeId);
    }

    function startPageInfoMonitor() {
      function setListener(type, func) {
        function sendPageInfo() {
          if (settings[id]) {
            sendPageInfoToIframe(settings[id].iframe, id);
          } else {
            stop();
          }
        }

        ['scroll', 'resize'].forEach(function(evt) {
          log(id, type + evt + ' listener for sendPageInfo');
          func(window, evt, sendPageInfo);
        });
      }

      function stop() {
        setListener('Remove ', removeEventListener);
      }

      function start() {
        setListener('Add ', addEventListener);
      }

      var id = iframeId; //Create locally scoped copy of iFrame ID

      start();

      if (settings[id]) {
        settings[id].stopPageInfo = stop;
      }
    }

    function stopPageInfoMonitor() {
      if (settings[iframeId] && settings[iframeId].stopPageInfo) {
        settings[iframeId].stopPageInfo();
        delete settings[iframeId].stopPageInfo;
      }
    }

    function checkIFrameExists() {
      var retBool = true;

      if (null === messageData.iframe) {
        warn(iframeId, 'IFrame (' + messageData.id + ') not found');
        retBool = false;
      }
      return retBool;
    }

    function getElementPosition(target) {
      var iFramePosition = target.getBoundingClientRect();

      getPagePosition(iframeId);

      return {
        x: Math.floor(Number(iFramePosition.left) + Number(pagePosition.x)),
        y: Math.floor(Number(iFramePosition.top) + Number(pagePosition.y))
      };
    }

    function scrollRequestFromChild(addOffset) {
      /* istanbul ignore next */ //Not testable in Karma
      function reposition() {
        pagePosition = newPosition;
        scrollTo();
        log(iframeId, '--');
      }

      function calcOffset() {
        return {
          x: Number(messageData.width) + offset.x,
          y: Number(messageData.height) + offset.y
        };
      }

      function scrollParent() {
        if (window.parentIFrame) {
          window.parentIFrame['scrollTo' + (addOffset ? 'Offset' : '')](
            newPosition.x,
            newPosition.y
          );
        } else {
          warn(
            iframeId,
            'Unable to scroll to requested position, window.parentIFrame not found'
          );
        }
      }

      var offset = addOffset
          ? getElementPosition(messageData.iframe)
          : { x: 0, y: 0 },
        newPosition = calcOffset();

      log(
        iframeId,
        'Reposition requested from iFrame (offset x:' +
          offset.x +
          ' y:' +
          offset.y +
          ')'
      );

      if (window.top !== window.self) {
        scrollParent();
      } else {
        reposition();
      }
    }

    function scrollTo() {
      if (false !== callback('scrollCallback', pagePosition)) {
        setPagePosition(iframeId);
      } else {
        unsetPagePosition();
      }
    }

    function findTarget(location) {
      function jumpToTarget() {
        var jumpPosition = getElementPosition(target);

        log(
          iframeId,
          'Moving to in page link (#' +
            hash +
            ') at x: ' +
            jumpPosition.x +
            ' y: ' +
            jumpPosition.y
        );
        pagePosition = {
          x: jumpPosition.x,
          y: jumpPosition.y
        };

        scrollTo();
        log(iframeId, '--');
      }

      function jumpToParent() {
        if (window.parentIFrame) {
          window.parentIFrame.moveToAnchor(hash);
        } else {
          log(
            iframeId,
            'In page link #' +
              hash +
              ' not found and window.parentIFrame not found'
          );
        }
      }

      var hash = location.split('#')[1] || '',
        hashData = decodeURIComponent(hash),
        target =
          document.getElementById(hashData) ||
          document.getElementsByName(hashData)[0];

      if (target) {
        jumpToTarget();
      } else if (window.top !== window.self) {
        jumpToParent();
      } else {
        log(iframeId, 'In page link #' + hash + ' not found');
      }
    }

    function callback(funcName, val) {
      return chkCallback(iframeId, funcName, val);
    }

    function actionMsg() {
      if (settings[iframeId] && settings[iframeId].firstRun) firstRun();

      switch (messageData.type) {
        case 'close':
          if (settings[iframeId].closeRequestCallback)
            chkCallback(
              iframeId,
              'closeRequestCallback',
              settings[iframeId].iframe
            );
          else closeIFrame(messageData.iframe);
          break;
        case 'message':
          forwardMsgFromIFrame(getMsgBody(6));
          break;
        case 'scrollTo':
          scrollRequestFromChild(false);
          break;
        case 'scrollToOffset':
          scrollRequestFromChild(true);
          break;
        case 'pageInfo':
          sendPageInfoToIframe(
            settings[iframeId] && settings[iframeId].iframe,
            iframeId
          );
          startPageInfoMonitor();
          break;
        case 'pageInfoStop':
          stopPageInfoMonitor();
          break;
        case 'inPageLink':
          findTarget(getMsgBody(9));
          break;
        case 'reset':
          resetIFrame(messageData);
          break;
        case 'init':
          resizeIFrame();
          callback('initCallback', messageData.iframe);
          break;
        default:
          resizeIFrame();
      }
    }

    function hasSettings(iframeId) {
      var retBool = true;

      if (!settings[iframeId]) {
        retBool = false;
        warn(
          messageData.type +
            ' No settings for ' +
            iframeId +
            '. Message was: ' +
            msg
        );
      }

      return retBool;
    }

    function iFrameReadyMsgReceived() {
      for (var iframeId in settings) {
        trigger(
          'iFrame requested init',
          createOutgoingMsg(iframeId),
          document.getElementById(iframeId),
          iframeId
        );
      }
    }

    function firstRun() {
      if (settings[iframeId]) {
        settings[iframeId].firstRun = false;
      }
    }

    function clearWarningTimeout() {
      if (settings[iframeId]) {
        clearTimeout(settings[iframeId].msgTimeout);
        settings[iframeId].warningTimeout = 0;
      }
    }

    var msg = event.data,
      messageData = {},
      iframeId = null;

    if ('[iFrameResizerChild]Ready' === msg) {
      iFrameReadyMsgReceived();
    } else if (isMessageForUs()) {
      messageData = processMsg();
      iframeId = logId = messageData.id;
      if (settings[iframeId]) {
        settings[iframeId].loaded = true;
      }

      if (!isMessageFromMetaParent() && hasSettings(iframeId)) {
        log(iframeId, 'Received: ' + msg);

        if (checkIFrameExists() && isMessageFromIFrame()) {
          actionMsg();
        }
      }
    } else {
      info(iframeId, 'Ignored: ' + msg);
    }
  }

  function chkCallback(iframeId, funcName, val) {
    var func = null,
      retVal = null;

    if (settings[iframeId]) {
      func = settings[iframeId][funcName];

      if ('function' === typeof func) {
        retVal = func(val);
      } else {
        throw new TypeError(
          funcName + ' on iFrame[' + iframeId + '] is not a function'
        );
      }
    }

    return retVal;
  }

  function removeIframeListeners(iframe) {
    var iframeId = iframe.id;
    delete settings[iframeId];
  }

  function closeIFrame(iframe) {
    var iframeId = iframe.id;
    log(iframeId, 'Removing iFrame: ' + iframeId);

    try {
      // Catch race condition error with React
      if (iframe.parentNode) {
        iframe.parentNode.removeChild(iframe);
      }
    } catch (e) {}

    chkCallback(iframeId, 'closedCallback', iframeId);
    log(iframeId, '--');
    removeIframeListeners(iframe);
  }

  function getPagePosition(iframeId) {
    if (null === pagePosition) {
      pagePosition = {
        x:
          window.pageXOffset !== undefined
            ? window.pageXOffset
            : document.documentElement.scrollLeft,
        y:
          window.pageYOffset !== undefined
            ? window.pageYOffset
            : document.documentElement.scrollTop
      };
      log(
        iframeId,
        'Get page position: ' + pagePosition.x + ',' + pagePosition.y
      );
    }
  }

  function setPagePosition(iframeId) {
    if (null !== pagePosition) {
      window.scrollTo(pagePosition.x, pagePosition.y);
      log(
        iframeId,
        'Set page position: ' + pagePosition.x + ',' + pagePosition.y
      );
      unsetPagePosition();
    }
  }

  function unsetPagePosition() {
    pagePosition = null;
  }

  function resetIFrame(messageData) {
    function reset() {
      setSize(messageData);
      trigger('reset', 'reset', messageData.iframe, messageData.id);
    }

    log(
      messageData.id,
      'Size reset requested by ' +
        ('init' === messageData.type ? 'host page' : 'iFrame')
    );
    getPagePosition(messageData.id);
    syncResize(reset, messageData, 'reset');
  }

  function setSize(messageData) {
    function setDimension(dimension) {
      if (!messageData.id) {
        log('undefined', 'messageData id not set');
        return;
      }
      messageData.iframe.style[dimension] = messageData[dimension] + 'px';
      log(
        messageData.id,
        'IFrame (' +
          iframeId +
          ') ' +
          dimension +
          ' set to ' +
          messageData[dimension] +
          'px'
      );
    }

    function chkZero(dimension) {
      //FireFox sets dimension of hidden iFrames to zero.
      //So if we detect that set up an event to check for
      //when iFrame becomes visible.

      /* istanbul ignore next */ //Not testable in PhantomJS
      if (!hiddenCheckEnabled && '0' === messageData[dimension]) {
        hiddenCheckEnabled = true;
        log(iframeId, 'Hidden iFrame detected, creating visibility listener');
        fixHiddenIFrames();
      }
    }

    function processDimension(dimension) {
      setDimension(dimension);
      chkZero(dimension);
    }

    var iframeId = messageData.iframe.id;

    if (settings[iframeId]) {
      if (settings[iframeId].sizeHeight) {
        processDimension('height');
      }
      if (settings[iframeId].sizeWidth) {
        processDimension('width');
      }
    }
  }

  function syncResize(func, messageData, doNotSync) {
    /* istanbul ignore if */ //Not testable in PhantomJS
    if (doNotSync !== messageData.type && requestAnimationFrame) {
      log(messageData.id, 'Requesting animation frame');
      requestAnimationFrame(func);
    } else {
      func();
    }
  }

  function trigger(calleeMsg, msg, iframe, id, noResponseWarning) {
    function postMessageToIFrame() {
      var target = settings[id] && settings[id].targetOrigin;
      log(
        id,
        '[' +
          calleeMsg +
          '] Sending msg to iframe[' +
          id +
          '] (' +
          msg +
          ') targetOrigin: ' +
          target
      );
      iframe.contentWindow.postMessage(msgId + msg, target);
    }

    function iFrameNotFound() {
      warn(id, '[' + calleeMsg + '] IFrame(' + id + ') not found');
    }

    function chkAndSend() {
      if (
        iframe &&
        'contentWindow' in iframe &&
        null !== iframe.contentWindow
      ) {
        //Null test for PhantomJS
        postMessageToIFrame();
      } else {
        iFrameNotFound();
      }
    }

    function warnOnNoResponse() {
      function warning() {
        if (settings[id] && !settings[id].loaded && !errorShown) {
          errorShown = true;
          warn(
            id,
            'IFrame has not responded within ' +
              settings[id].warningTimeout / 1000 +
              ' seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning.'
          );
        }
      }

      if (
        !!noResponseWarning &&
        settings[id] &&
        !!settings[id].warningTimeout
      ) {
        settings[id].msgTimeout = setTimeout(
          warning,
          settings[id].warningTimeout
        );
      }
    }

    var errorShown = false;

    id = id || iframe.id;

    if (settings[id]) {
      chkAndSend();
      warnOnNoResponse();
    }
  }

  function createOutgoingMsg(iframeId) {
    return (
      iframeId +
      ':' +
      settings[iframeId].bodyMarginV1 +
      ':' +
      settings[iframeId].sizeWidth +
      ':' +
      settings[iframeId].log +
      ':' +
      settings[iframeId].interval +
      ':' +
      settings[iframeId].enablePublicMethods +
      ':' +
      settings[iframeId].autoResize +
      ':' +
      settings[iframeId].bodyMargin +
      ':' +
      settings[iframeId].heightCalculationMethod +
      ':' +
      settings[iframeId].bodyBackground +
      ':' +
      settings[iframeId].bodyPadding +
      ':' +
      settings[iframeId].tolerance +
      ':' +
      settings[iframeId].inPageLinks +
      ':' +
      settings[iframeId].resizeFrom +
      ':' +
      settings[iframeId].widthCalculationMethod
    );
  }

  function setupIFrame(iframe, options) {
    function setLimits() {
      function addStyle(style) {
        if (
          Infinity !== settings[iframeId][style] &&
          0 !== settings[iframeId][style]
        ) {
          iframe.style[style] = settings[iframeId][style] + 'px';
          log(
            iframeId,
            'Set ' + style + ' = ' + settings[iframeId][style] + 'px'
          );
        }
      }

      function chkMinMax(dimension) {
        if (
          settings[iframeId]['min' + dimension] >
          settings[iframeId]['max' + dimension]
        ) {
          throw new Error(
            'Value for min' +
              dimension +
              ' can not be greater than max' +
              dimension
          );
        }
      }

      chkMinMax('Height');
      chkMinMax('Width');

      addStyle('maxHeight');
      addStyle('minHeight');
      addStyle('maxWidth');
      addStyle('minWidth');
    }

    function newId() {
      var id = (options && options.id) || defaults.id + count++;
      if (null !== document.getElementById(id)) {
        id = id + count++;
      }
      return id;
    }

    function ensureHasId(iframeId) {
      logId = iframeId;
      if ('' === iframeId) {
        iframe.id = iframeId = newId();
        logEnabled = (options || {}).log;
        logId = iframeId;
        log(
          iframeId,
          'Added missing iframe ID: ' + iframeId + ' (' + iframe.src + ')'
        );
      }

      return iframeId;
    }

    function setScrolling() {
      log(
        iframeId,
        'IFrame scrolling ' +
          (settings[iframeId] && settings[iframeId].scrolling
            ? 'enabled'
            : 'disabled') +
          ' for ' +
          iframeId
      );
      iframe.style.overflow =
        false === (settings[iframeId] && settings[iframeId].scrolling)
          ? 'hidden'
          : 'auto';
      switch (settings[iframeId] && settings[iframeId].scrolling) {
        case 'omit':
          break;
        case true:
          iframe.scrolling = 'yes';
          break;
        case false:
          iframe.scrolling = 'no';
          break;
        default:
          iframe.scrolling = settings[iframeId]
            ? settings[iframeId].scrolling
            : 'no';
      }
    }

    //The V1 iFrame script expects an int, where as in V2 expects a CSS
    //string value such as '1px 3em', so if we have an int for V2, set V1=V2
    //and then convert V2 to a string PX value.
    function setupBodyMarginValues() {
      if (
        'number' ===
          typeof (settings[iframeId] && settings[iframeId].bodyMargin) ||
        '0' === (settings[iframeId] && settings[iframeId].bodyMargin)
      ) {
        settings[iframeId].bodyMarginV1 = settings[iframeId].bodyMargin;
        settings[iframeId].bodyMargin =
          '' + settings[iframeId].bodyMargin + 'px';
      }
    }

    function checkReset() {
      // Reduce scope of firstRun to function, because IE8's JS execution
      // context stack is borked and this value gets externally
      // changed midway through running this function!!!
      var firstRun = settings[iframeId] && settings[iframeId].firstRun,
        resetRequertMethod =
          settings[iframeId] &&
          settings[iframeId].heightCalculationMethod in resetRequiredMethods;

      if (!firstRun && resetRequertMethod) {
        resetIFrame({ iframe: iframe, height: 0, width: 0, type: 'init' });
      }
    }

    function setupIFrameObject() {
      if (Function.prototype.bind && settings[iframeId]) {
        //Ignore unpolyfilled IE8.
        settings[iframeId].iframe.iFrameResizer = {
          close: closeIFrame.bind(null, settings[iframeId].iframe),

          removeListeners: removeIframeListeners.bind(
            null,
            settings[iframeId].iframe
          ),

          resize: trigger.bind(
            null,
            'Window resize',
            'resize',
            settings[iframeId].iframe
          ),

          moveToAnchor: function(anchor) {
            trigger(
              'Move to anchor',
              'moveToAnchor:' + anchor,
              settings[iframeId].iframe,
              iframeId
            );
          },

          sendMessage: function(message) {
            message = JSON.stringify(message);
            trigger(
              'Send Message',
              'message:' + message,
              settings[iframeId].iframe,
              iframeId
            );
          }
        };
      }
    }

    //We have to call trigger twice, as we can not be sure if all
    //iframes have completed loading when this code runs. The
    //event listener also catches the page changing in the iFrame.
    function init(msg) {
      function iFrameLoaded() {
        trigger('iFrame.onload', msg, iframe, undefined, true);
        checkReset();
      }

      function createDestroyObserver(MutationObserver) {
        if (!iframe.parentNode) {
          return;
        }

        var destroyObserver = new MutationObserver(function (mutations) {
          mutations.forEach(function (mutation) {
            var removedNodes = Array.prototype.slice.call(mutation.removedNodes); // Transform NodeList into an Array
            removedNodes.forEach(function (removedNode) {
              if (removedNode === iframe) {
                closeIFrame(iframe);
              }
            });
          });
        });
        destroyObserver.observe(iframe.parentNode, {
          childList: true
        });
      }

      var MutationObserver = getMutationObserver();
      if (MutationObserver) {
        createDestroyObserver(MutationObserver);
      }

      addEventListener(iframe, 'load', iFrameLoaded);
      trigger('init', msg, iframe, undefined, true);
    }

    function checkOptions(options) {
      if ('object' !== typeof options) {
        throw new TypeError('Options is not an object');
      }
    }

    function copyOptions(options) {
      for (var option in defaults) {
        if (defaults.hasOwnProperty(option)) {
          settings[iframeId][option] = options.hasOwnProperty(option)
            ? options[option]
            : defaults[option];
        }
      }
    }

    function getTargetOrigin(remoteHost) {
      return '' === remoteHost || 'file://' === remoteHost ? '*' : remoteHost;
    }

    function processOptions(options) {
      options = options || {};
      settings[iframeId] = {
        firstRun: true,
        iframe: iframe,
        remoteHost: iframe.src
          .split('/')
          .slice(0, 3)
          .join('/')
      };

      checkOptions(options);
      copyOptions(options);

      if (settings[iframeId]) {
        settings[iframeId].targetOrigin =
          true === settings[iframeId].checkOrigin
            ? getTargetOrigin(settings[iframeId].remoteHost)
            : '*';
      }
    }

    function beenHere() {
      return iframeId in settings && 'iFrameResizer' in iframe;
    }

    var iframeId = ensureHasId(iframe.id);

    if (!beenHere()) {
      processOptions(options);
      setScrolling();
      setLimits();
      setupBodyMarginValues();
      init(createOutgoingMsg(iframeId));
      setupIFrameObject();
    } else {
      warn(iframeId, 'Ignored iFrame, already setup.');
    }
  }

  function debouce(fn, time) {
    if (null === timer) {
      timer = setTimeout(function() {
        timer = null;
        fn();
      }, time);
    }
  }

  var frameTimer = {};
  function debounceFrameEvents(fn, time, frameId) {
    if (!frameTimer[frameId]) {
      frameTimer[frameId] = setTimeout(function() {
        frameTimer[frameId] = null;
        fn();
      }, time);
    }
  } //Not testable in PhantomJS

  /* istanbul ignore next */ function fixHiddenIFrames() {
    function checkIFrames() {
      function checkIFrame(settingId) {
        function chkDimension(dimension) {
          return (
            '0px' ===
            (settings[settingId] && settings[settingId].iframe.style[dimension])
          );
        }

        function isVisible(el) {
          return null !== el.offsetParent;
        }

        if (
          settings[settingId] &&
          isVisible(settings[settingId].iframe) &&
          (chkDimension('height') || chkDimension('width'))
        ) {
          trigger(
            'Visibility change',
            'resize',
            settings[settingId].iframe,
            settingId
          );
        }
      }

      for (var settingId in settings) {
        checkIFrame(settingId);
      }
    }

    function mutationObserved(mutations) {
      log(
        'window',
        'Mutation observed: ' + mutations[0].target + ' ' + mutations[0].type
      );
      debouce(checkIFrames, 16);
    }

    function createMutationObserver() {
      var target = document.querySelector('body'),
        config = {
          attributes: true,
          attributeOldValue: false,
          characterData: true,
          characterDataOldValue: false,
          childList: true,
          subtree: true
        },
        observer = new MutationObserver(mutationObserved);

      observer.observe(target, config);
    }

    var MutationObserver = getMutationObserver();
    if (MutationObserver) {
      createMutationObserver();
    }
  }

  function resizeIFrames(event) {
    function resize() {
      sendTriggerMsg('Window ' + event, 'resize');
    }

    log('window', 'Trigger event: ' + event);
    debouce(resize, 16);
  } //Not testable in PhantomJS

  /* istanbul ignore next */ function tabVisible() {
    function resize() {
      sendTriggerMsg('Tab Visable', 'resize');
    }

    if ('hidden' !== document.visibilityState) {
      log('document', 'Trigger event: Visiblity change');
      debouce(resize, 16);
    }
  }

  function sendTriggerMsg(eventName, event) {
    function isIFrameResizeEnabled(iframeId) {
      return (
        settings[iframeId] &&
        'parent' === settings[iframeId].resizeFrom &&
        settings[iframeId].autoResize &&
        !settings[iframeId].firstRun
      );
    }

    for (var iframeId in settings) {
      if (isIFrameResizeEnabled(iframeId)) {
        trigger(eventName, event, document.getElementById(iframeId), iframeId);
      }
    }
  }

  function setupEventListeners() {
    addEventListener(window, 'message', iFrameListener);

    addEventListener(window, 'resize', function() {
      resizeIFrames('resize');
    });

    addEventListener(document, 'visibilitychange', tabVisible);
    addEventListener(document, '-webkit-visibilitychange', tabVisible); //Andriod 4.4
    addEventListener(window, 'focusin', function() {
      resizeIFrames('focus');
    }); //IE8-9
    addEventListener(window, 'focus', function() {
      resizeIFrames('focus');
    });
  }

  function factory() {
    function init(options, element) {
      function chkType() {
        if (!element.tagName) {
          throw new TypeError('Object is not a valid DOM element');
        } else if ('IFRAME' !== element.tagName.toUpperCase()) {
          throw new TypeError(
            'Expected <IFRAME> tag, found <' + element.tagName + '>'
          );
        }
      }

      if (element) {
        chkType();
        setupIFrame(element, options);
        iFrames.push(element);
      }
    }

    function warnDeprecatedOptions(options) {
      if (options && options.enablePublicMethods) {
        warn(
          'enablePublicMethods option has been removed, public methods are now always available in the iFrame'
        );
      }
    }

    var iFrames;

    setupRequestAnimationFrame();
    setupEventListeners();

    return function iFrameResizeF(options, target) {
      iFrames = []; //Only return iFrames past in on this call

      warnDeprecatedOptions(options);

      switch (typeof target) {
        case 'undefined':
        case 'string':
          Array.prototype.forEach.call(
            document.querySelectorAll(target || 'iframe'),
            init.bind(undefined, options)
          );
          break;
        case 'object':
          init(options, target);
          break;
        default:
          throw new TypeError('Unexpected data type (' + typeof target + ')');
      }

      return iFrames;
    };
  }

  function createJQueryPublicMethod($) {
    if (!$.fn) {
      info('', 'Unable to bind to jQuery, it is not fully loaded.');
    } else if (!$.fn.iFrameResize) {
      $.fn.iFrameResize = function $iFrameResizeF(options) {
        function init(index, element) {
          setupIFrame(element, options);
        }

        return this.filter('iframe')
          .each(init)
          .end();
      };
    }
  }

  if (__webpack_provided_window_dot_jQuery) {
    createJQueryPublicMethod(__webpack_provided_window_dot_jQuery);
  }

  if (true) {
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else {}
  window.iFrameResize = window.iFrameResize || factory();
})();

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.min.js")))

/***/ }),

/***/ "./node_modules/iframe-resizer/js/index.js":
/*!*************************************************!*\
  !*** ./node_modules/iframe-resizer/js/index.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports.iframeResizer = __webpack_require__(/*! ./iframeResizer */ "./node_modules/iframe-resizer/js/iframeResizer.js");
exports.iframeResizerContentWindow = __webpack_require__(/*! ./iframeResizer.contentWindow */ "./node_modules/iframe-resizer/js/iframeResizer.contentWindow.js");


/***/ }),

/***/ "./node_modules/is-obj/index.js":
/*!**************************************!*\
  !*** ./node_modules/is-obj/index.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

module.exports = function (x) {
	var type = typeof x;
	return x !== null && (type === 'object' || type === 'function');
};


/***/ }),

/***/ "./node_modules/js-cookie/src/js.cookie.js":
/*!*************************************************!*\
  !*** ./node_modules/js-cookie/src/js.cookie.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */
;(function (factory) {
	var registeredInModuleLoader;
	if (true) {
		!(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :
				__WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
		registeredInModuleLoader = true;
	}
	if (true) {
		module.exports = factory();
		registeredInModuleLoader = true;
	}
	if (!registeredInModuleLoader) {
		var OldCookies = window.Cookies;
		var api = window.Cookies = factory();
		api.noConflict = function () {
			window.Cookies = OldCookies;
			return api;
		};
	}
}(function () {
	function extend () {
		var i = 0;
		var result = {};
		for (; i < arguments.length; i++) {
			var attributes = arguments[ i ];
			for (var key in attributes) {
				result[key] = attributes[key];
			}
		}
		return result;
	}

	function decode (s) {
		return s.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);
	}

	function init (converter) {
		function api() {}

		function set (key, value, attributes) {
			if (typeof document === 'undefined') {
				return;
			}

			attributes = extend({
				path: '/'
			}, api.defaults, attributes);

			if (typeof attributes.expires === 'number') {
				attributes.expires = new Date(new Date() * 1 + attributes.expires * 864e+5);
			}

			// We're using "expires" because "max-age" is not supported by IE
			attributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';

			try {
				var result = JSON.stringify(value);
				if (/^[\{\[]/.test(result)) {
					value = result;
				}
			} catch (e) {}

			value = converter.write ?
				converter.write(value, key) :
				encodeURIComponent(String(value))
					.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);

			key = encodeURIComponent(String(key))
				.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)
				.replace(/[\(\)]/g, escape);

			var stringifiedAttributes = '';
			for (var attributeName in attributes) {
				if (!attributes[attributeName]) {
					continue;
				}
				stringifiedAttributes += '; ' + attributeName;
				if (attributes[attributeName] === true) {
					continue;
				}

				// Considers RFC 6265 section 5.2:
				// ...
				// 3.  If the remaining unparsed-attributes contains a %x3B (";")
				//     character:
				// Consume the characters of the unparsed-attributes up to,
				// not including, the first %x3B (";") character.
				// ...
				stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];
			}

			return (document.cookie = key + '=' + value + stringifiedAttributes);
		}

		function get (key, json) {
			if (typeof document === 'undefined') {
				return;
			}

			var jar = {};
			// To prevent the for loop in the first place assign an empty array
			// in case there are no cookies at all.
			var cookies = document.cookie ? document.cookie.split('; ') : [];
			var i = 0;

			for (; i < cookies.length; i++) {
				var parts = cookies[i].split('=');
				var cookie = parts.slice(1).join('=');

				if (!json && cookie.charAt(0) === '"') {
					cookie = cookie.slice(1, -1);
				}

				try {
					var name = decode(parts[0]);
					cookie = (converter.read || converter)(cookie, name) ||
						decode(cookie);

					if (json) {
						try {
							cookie = JSON.parse(cookie);
						} catch (e) {}
					}

					jar[name] = cookie;

					if (key === name) {
						break;
					}
				} catch (e) {}
			}

			return key ? jar[key] : jar;
		}

		api.set = set;
		api.get = function (key) {
			return get(key, false /* read as raw */);
		};
		api.getJSON = function (key) {
			return get(key, true /* read as json */);
		};
		api.remove = function (key, attributes) {
			set(key, '', extend(attributes, {
				expires: -1
			}));
		};

		api.defaults = {};

		api.withConverter = init;

		return api;
	}

	return init(function () {});
}));


/***/ }),

/***/ "./node_modules/local-storage-fallback/lib/CookieStorage.js":
/*!******************************************************************!*\
  !*** ./node_modules/local-storage-fallback/lib/CookieStorage.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.hasCookies = hasCookies;

var _cookie = __webpack_require__(/*! cookie */ "./node_modules/local-storage-fallback/node_modules/cookie/index.js");

var _cookie2 = _interopRequireDefault(_cookie);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var prefix = 'lS_';

var CookieStorage = function () {
  function CookieStorage() {
    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

    _classCallCheck(this, CookieStorage);

    this.cookieOptions = Object.assign({ path: '/' }, options);
    prefix = options.prefix === undefined ? prefix : options.prefix;
  }

  _createClass(CookieStorage, [{
    key: 'getItem',
    value: function getItem(key) {
      var cookies = _cookie2.default.parse(document.cookie);
      if (!cookies || !cookies.hasOwnProperty(prefix + key)) {
        return null;
      }
      return cookies[prefix + key];
    }
  }, {
    key: 'setItem',
    value: function setItem(key, value) {
      document.cookie = _cookie2.default.serialize(prefix + key, value, this.cookieOptions);
      return value;
    }
  }, {
    key: 'removeItem',
    value: function removeItem(key) {
      var options = Object.assign({}, this.cookieOptions, { maxAge: -1 });
      document.cookie = _cookie2.default.serialize(prefix + key, '', options);
      return null;
    }
  }, {
    key: 'clear',
    value: function clear() {
      var cookies = _cookie2.default.parse(document.cookie);
      for (var key in cookies) {
        if (key.indexOf(prefix) === 0) {
          this.removeItem(key.substr(prefix.length));
        }
      }

      return null;
    }
  }]);

  return CookieStorage;
}();

exports.default = CookieStorage;
function hasCookies() {
  var storage = new CookieStorage();

  try {
    var TEST_KEY = '__test';
    storage.setItem(TEST_KEY, '1');
    var value = storage.getItem(TEST_KEY);
    storage.removeItem(TEST_KEY);

    return value === '1';
  } catch (e) {
    return false;
  }
}

/***/ }),

/***/ "./node_modules/local-storage-fallback/lib/MemoryStorage.js":
/*!******************************************************************!*\
  !*** ./node_modules/local-storage-fallback/lib/MemoryStorage.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var MemoryStorage = function () {
  function MemoryStorage() {
    _classCallCheck(this, MemoryStorage);

    this._data = {};
  }

  _createClass(MemoryStorage, [{
    key: "getItem",
    value: function getItem(key) {
      return this._data.hasOwnProperty(key) ? this._data[key] : null;
    }
  }, {
    key: "setItem",
    value: function setItem(key, value) {
      return this._data[key] = String(value);
    }
  }, {
    key: "removeItem",
    value: function removeItem(key) {
      return delete this._data[key];
    }
  }, {
    key: "clear",
    value: function clear() {
      return this._data = {};
    }
  }]);

  return MemoryStorage;
}();

exports.default = MemoryStorage;

/***/ }),

/***/ "./node_modules/local-storage-fallback/lib/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/local-storage-fallback/lib/index.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.MemoryStorage = exports.CookieStorage = exports.isSupported = exports.storage = undefined;

var _isSupported = __webpack_require__(/*! ./isSupported */ "./node_modules/local-storage-fallback/lib/isSupported.js");

var _isSupported2 = _interopRequireDefault(_isSupported);

var _CookieStorage = __webpack_require__(/*! ./CookieStorage */ "./node_modules/local-storage-fallback/lib/CookieStorage.js");

var _CookieStorage2 = _interopRequireDefault(_CookieStorage);

var _MemoryStorage = __webpack_require__(/*! ./MemoryStorage */ "./node_modules/local-storage-fallback/lib/MemoryStorage.js");

var _MemoryStorage2 = _interopRequireDefault(_MemoryStorage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var storage = null;

if ((0, _isSupported2.default)('localStorage')) {
  // use localStorage
  exports.storage = storage = window.localStorage;
} else if ((0, _isSupported2.default)('sessionStorage')) {
  // use sessionStorage
  exports.storage = storage = window.sessionStorage;
} else if ((0, _isSupported2.default)('cookieStorage')) {
  // use cookies
  exports.storage = storage = new _CookieStorage2.default();
} else {
  // use memory
  exports.storage = storage = new _MemoryStorage2.default();
}

exports.default = storage;
exports.storage = storage;
exports.isSupported = _isSupported2.default;
exports.CookieStorage = _CookieStorage2.default;
exports.MemoryStorage = _MemoryStorage2.default;

/***/ }),

/***/ "./node_modules/local-storage-fallback/lib/isSupported.js":
/*!****************************************************************!*\
  !*** ./node_modules/local-storage-fallback/lib/isSupported.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = isSupported;

var _CookieStorage = __webpack_require__(/*! ./CookieStorage */ "./node_modules/local-storage-fallback/lib/CookieStorage.js");

var TEST_KEY = '__test';

function hasStorage(name) {
  try {
    var storage = window[name];
    storage.setItem(TEST_KEY, '1');
    storage.removeItem(TEST_KEY);
    return true;
  } catch (e) {
    return false;
  }
}

function isSupported() {
  var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'localStorage';

  var storage = String(name).replace(/storage$/i, '').toLowerCase();

  if (storage === 'local') {
    return hasStorage('localStorage');
  }

  if (storage === 'session') {
    return hasStorage('sessionStorage');
  }

  if (storage === 'cookie') {
    return (0, _CookieStorage.hasCookies)();
  }

  if (storage === 'memory') {
    return true;
  }

  throw new Error('Storage method `' + name + '` is not available.\n    Please use one of the following: localStorage, sessionStorage, cookieStorage, memoryStorage.');
}

/***/ }),

/***/ "./node_modules/local-storage-fallback/node_modules/cookie/index.js":
/*!**************************************************************************!*\
  !*** ./node_modules/local-storage-fallback/node_modules/cookie/index.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */



/**
 * Module exports.
 * @public
 */

exports.parse = parse;
exports.serialize = serialize;

/**
 * Module variables.
 * @private
 */

var decode = decodeURIComponent;
var encode = encodeURIComponent;
var pairSplitRegExp = /; */;

/**
 * RegExp to match field-content in RFC 7230 sec 3.2
 *
 * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]
 * field-vchar   = VCHAR / obs-text
 * obs-text      = %x80-FF
 */

var fieldContentRegExp = /^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;

/**
 * Parse a cookie header.
 *
 * Parse the given cookie header string into an object
 * The object has the various cookies as keys(names) => values
 *
 * @param {string} str
 * @param {object} [options]
 * @return {object}
 * @public
 */

function parse(str, options) {
  if (typeof str !== 'string') {
    throw new TypeError('argument str must be a string');
  }

  var obj = {}
  var opt = options || {};
  var pairs = str.split(pairSplitRegExp);
  var dec = opt.decode || decode;

  for (var i = 0; i < pairs.length; i++) {
    var pair = pairs[i];
    var eq_idx = pair.indexOf('=');

    // skip things that don't look like key=value
    if (eq_idx < 0) {
      continue;
    }

    var key = pair.substr(0, eq_idx).trim()
    var val = pair.substr(++eq_idx, pair.length).trim();

    // quoted values
    if ('"' == val[0]) {
      val = val.slice(1, -1);
    }

    // only assign once
    if (undefined == obj[key]) {
      obj[key] = tryDecode(val, dec);
    }
  }

  return obj;
}

/**
 * Serialize data into a cookie header.
 *
 * Serialize the a name value pair into a cookie string suitable for
 * http headers. An optional options object specified cookie parameters.
 *
 * serialize('foo', 'bar', { httpOnly: true })
 *   => "foo=bar; httpOnly"
 *
 * @param {string} name
 * @param {string} val
 * @param {object} [options]
 * @return {string}
 * @public
 */

function serialize(name, val, options) {
  var opt = options || {};
  var enc = opt.encode || encode;

  if (typeof enc !== 'function') {
    throw new TypeError('option encode is invalid');
  }

  if (!fieldContentRegExp.test(name)) {
    throw new TypeError('argument name is invalid');
  }

  var value = enc(val);

  if (value && !fieldContentRegExp.test(value)) {
    throw new TypeError('argument val is invalid');
  }

  var str = name + '=' + value;

  if (null != opt.maxAge) {
    var maxAge = opt.maxAge - 0;
    if (isNaN(maxAge)) throw new Error('maxAge should be a Number');
    str += '; Max-Age=' + Math.floor(maxAge);
  }

  if (opt.domain) {
    if (!fieldContentRegExp.test(opt.domain)) {
      throw new TypeError('option domain is invalid');
    }

    str += '; Domain=' + opt.domain;
  }

  if (opt.path) {
    if (!fieldContentRegExp.test(opt.path)) {
      throw new TypeError('option path is invalid');
    }

    str += '; Path=' + opt.path;
  }

  if (opt.expires) {
    if (typeof opt.expires.toUTCString !== 'function') {
      throw new TypeError('option expires is invalid');
    }

    str += '; Expires=' + opt.expires.toUTCString();
  }

  if (opt.httpOnly) {
    str += '; HttpOnly';
  }

  if (opt.secure) {
    str += '; Secure';
  }

  if (opt.sameSite) {
    var sameSite = typeof opt.sameSite === 'string'
      ? opt.sameSite.toLowerCase() : opt.sameSite;

    switch (sameSite) {
      case true:
        str += '; SameSite=Strict';
        break;
      case 'lax':
        str += '; SameSite=Lax';
        break;
      case 'strict':
        str += '; SameSite=Strict';
        break;
      default:
        throw new TypeError('option sameSite is invalid');
    }
  }

  return str;
}

/**
 * Try decoding a string using a decoding function.
 *
 * @param {string} str
 * @param {function} decode
 * @private
 */

function tryDecode(str, decode) {
  try {
    return decode(str);
  } catch (e) {
    return str;
  }
}


/***/ }),

/***/ "./node_modules/lodash.memoize/index.js":
/*!**********************************************!*\
  !*** ./node_modules/lodash.memoize/index.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as the `TypeError` message for "Functions" methods. */
var FUNC_ERROR_TEXT = 'Expected a function';

/** Used to stand-in for `undefined` hash values. */
var HASH_UNDEFINED = '__lodash_hash_undefined__';

/** `Object#toString` result references. */
var funcTag = '[object Function]',
    genTag = '[object GeneratorFunction]';

/**
 * Used to match `RegExp`
 * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
 */
var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;

/** Used to detect host constructors (Safari). */
var reIsHostCtor = /^\[object .+?Constructor\]$/;

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/**
 * Gets the value at `key` of `object`.
 *
 * @private
 * @param {Object} [object] The object to query.
 * @param {string} key The key of the property to get.
 * @returns {*} Returns the property value.
 */
function getValue(object, key) {
  return object == null ? undefined : object[key];
}

/**
 * Checks if `value` is a host object in IE < 9.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a host object, else `false`.
 */
function isHostObject(value) {
  // Many host objects are `Object` objects that can coerce to strings
  // despite having improperly defined `toString` methods.
  var result = false;
  if (value != null && typeof value.toString != 'function') {
    try {
      result = !!(value + '');
    } catch (e) {}
  }
  return result;
}

/** Used for built-in method references. */
var arrayProto = Array.prototype,
    funcProto = Function.prototype,
    objectProto = Object.prototype;

/** Used to detect overreaching core-js shims. */
var coreJsData = root['__core-js_shared__'];

/** Used to detect methods masquerading as native. */
var maskSrcKey = (function() {
  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');
  return uid ? ('Symbol(src)_1.' + uid) : '';
}());

/** Used to resolve the decompiled source of functions. */
var funcToString = funcProto.toString;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/** Used to detect if a method is native. */
var reIsNative = RegExp('^' +
  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\$&')
  .replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?') + '$'
);

/** Built-in value references. */
var splice = arrayProto.splice;

/* Built-in method references that are verified to be native. */
var Map = getNative(root, 'Map'),
    nativeCreate = getNative(Object, 'create');

/**
 * Creates a hash object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function Hash(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the hash.
 *
 * @private
 * @name clear
 * @memberOf Hash
 */
function hashClear() {
  this.__data__ = nativeCreate ? nativeCreate(null) : {};
}

/**
 * Removes `key` and its value from the hash.
 *
 * @private
 * @name delete
 * @memberOf Hash
 * @param {Object} hash The hash to modify.
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function hashDelete(key) {
  return this.has(key) && delete this.__data__[key];
}

/**
 * Gets the hash value for `key`.
 *
 * @private
 * @name get
 * @memberOf Hash
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function hashGet(key) {
  var data = this.__data__;
  if (nativeCreate) {
    var result = data[key];
    return result === HASH_UNDEFINED ? undefined : result;
  }
  return hasOwnProperty.call(data, key) ? data[key] : undefined;
}

/**
 * Checks if a hash value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf Hash
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function hashHas(key) {
  var data = this.__data__;
  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);
}

/**
 * Sets the hash `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf Hash
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the hash instance.
 */
function hashSet(key, value) {
  var data = this.__data__;
  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;
  return this;
}

// Add methods to `Hash`.
Hash.prototype.clear = hashClear;
Hash.prototype['delete'] = hashDelete;
Hash.prototype.get = hashGet;
Hash.prototype.has = hashHas;
Hash.prototype.set = hashSet;

/**
 * Creates an list cache object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function ListCache(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the list cache.
 *
 * @private
 * @name clear
 * @memberOf ListCache
 */
function listCacheClear() {
  this.__data__ = [];
}

/**
 * Removes `key` and its value from the list cache.
 *
 * @private
 * @name delete
 * @memberOf ListCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function listCacheDelete(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    return false;
  }
  var lastIndex = data.length - 1;
  if (index == lastIndex) {
    data.pop();
  } else {
    splice.call(data, index, 1);
  }
  return true;
}

/**
 * Gets the list cache value for `key`.
 *
 * @private
 * @name get
 * @memberOf ListCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function listCacheGet(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  return index < 0 ? undefined : data[index][1];
}

/**
 * Checks if a list cache value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf ListCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function listCacheHas(key) {
  return assocIndexOf(this.__data__, key) > -1;
}

/**
 * Sets the list cache `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf ListCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the list cache instance.
 */
function listCacheSet(key, value) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    data.push([key, value]);
  } else {
    data[index][1] = value;
  }
  return this;
}

// Add methods to `ListCache`.
ListCache.prototype.clear = listCacheClear;
ListCache.prototype['delete'] = listCacheDelete;
ListCache.prototype.get = listCacheGet;
ListCache.prototype.has = listCacheHas;
ListCache.prototype.set = listCacheSet;

/**
 * Creates a map cache object to store key-value pairs.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function MapCache(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the map.
 *
 * @private
 * @name clear
 * @memberOf MapCache
 */
function mapCacheClear() {
  this.__data__ = {
    'hash': new Hash,
    'map': new (Map || ListCache),
    'string': new Hash
  };
}

/**
 * Removes `key` and its value from the map.
 *
 * @private
 * @name delete
 * @memberOf MapCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function mapCacheDelete(key) {
  return getMapData(this, key)['delete'](key);
}

/**
 * Gets the map value for `key`.
 *
 * @private
 * @name get
 * @memberOf MapCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function mapCacheGet(key) {
  return getMapData(this, key).get(key);
}

/**
 * Checks if a map value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf MapCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function mapCacheHas(key) {
  return getMapData(this, key).has(key);
}

/**
 * Sets the map `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf MapCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the map cache instance.
 */
function mapCacheSet(key, value) {
  getMapData(this, key).set(key, value);
  return this;
}

// Add methods to `MapCache`.
MapCache.prototype.clear = mapCacheClear;
MapCache.prototype['delete'] = mapCacheDelete;
MapCache.prototype.get = mapCacheGet;
MapCache.prototype.has = mapCacheHas;
MapCache.prototype.set = mapCacheSet;

/**
 * Gets the index at which the `key` is found in `array` of key-value pairs.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {*} key The key to search for.
 * @returns {number} Returns the index of the matched value, else `-1`.
 */
function assocIndexOf(array, key) {
  var length = array.length;
  while (length--) {
    if (eq(array[length][0], key)) {
      return length;
    }
  }
  return -1;
}

/**
 * The base implementation of `_.isNative` without bad shim checks.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a native function,
 *  else `false`.
 */
function baseIsNative(value) {
  if (!isObject(value) || isMasked(value)) {
    return false;
  }
  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;
  return pattern.test(toSource(value));
}

/**
 * Gets the data for `map`.
 *
 * @private
 * @param {Object} map The map to query.
 * @param {string} key The reference key.
 * @returns {*} Returns the map data.
 */
function getMapData(map, key) {
  var data = map.__data__;
  return isKeyable(key)
    ? data[typeof key == 'string' ? 'string' : 'hash']
    : data.map;
}

/**
 * Gets the native function at `key` of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {string} key The key of the method to get.
 * @returns {*} Returns the function if it's native, else `undefined`.
 */
function getNative(object, key) {
  var value = getValue(object, key);
  return baseIsNative(value) ? value : undefined;
}

/**
 * Checks if `value` is suitable for use as unique object key.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is suitable, else `false`.
 */
function isKeyable(value) {
  var type = typeof value;
  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')
    ? (value !== '__proto__')
    : (value === null);
}

/**
 * Checks if `func` has its source masked.
 *
 * @private
 * @param {Function} func The function to check.
 * @returns {boolean} Returns `true` if `func` is masked, else `false`.
 */
function isMasked(func) {
  return !!maskSrcKey && (maskSrcKey in func);
}

/**
 * Converts `func` to its source code.
 *
 * @private
 * @param {Function} func The function to process.
 * @returns {string} Returns the source code.
 */
function toSource(func) {
  if (func != null) {
    try {
      return funcToString.call(func);
    } catch (e) {}
    try {
      return (func + '');
    } catch (e) {}
  }
  return '';
}

/**
 * Creates a function that memoizes the result of `func`. If `resolver` is
 * provided, it determines the cache key for storing the result based on the
 * arguments provided to the memoized function. By default, the first argument
 * provided to the memoized function is used as the map cache key. The `func`
 * is invoked with the `this` binding of the memoized function.
 *
 * **Note:** The cache is exposed as the `cache` property on the memoized
 * function. Its creation may be customized by replacing the `_.memoize.Cache`
 * constructor with one whose instances implement the
 * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)
 * method interface of `delete`, `get`, `has`, and `set`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to have its output memoized.
 * @param {Function} [resolver] The function to resolve the cache key.
 * @returns {Function} Returns the new memoized function.
 * @example
 *
 * var object = { 'a': 1, 'b': 2 };
 * var other = { 'c': 3, 'd': 4 };
 *
 * var values = _.memoize(_.values);
 * values(object);
 * // => [1, 2]
 *
 * values(other);
 * // => [3, 4]
 *
 * object.a = 2;
 * values(object);
 * // => [1, 2]
 *
 * // Modify the result cache.
 * values.cache.set(object, ['a', 'b']);
 * values(object);
 * // => ['a', 'b']
 *
 * // Replace `_.memoize.Cache`.
 * _.memoize.Cache = WeakMap;
 */
function memoize(func, resolver) {
  if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  var memoized = function() {
    var args = arguments,
        key = resolver ? resolver.apply(this, args) : args[0],
        cache = memoized.cache;

    if (cache.has(key)) {
      return cache.get(key);
    }
    var result = func.apply(this, args);
    memoized.cache = cache.set(key, result);
    return result;
  };
  memoized.cache = new (memoize.Cache || MapCache);
  return memoized;
}

// Assign cache to `_.memoize`.
memoize.Cache = MapCache;

/**
 * Performs a
 * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * comparison between two values to determine if they are equivalent.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to compare.
 * @param {*} other The other value to compare.
 * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
 * @example
 *
 * var object = { 'a': 1 };
 * var other = { 'a': 1 };
 *
 * _.eq(object, object);
 * // => true
 *
 * _.eq(object, other);
 * // => false
 *
 * _.eq('a', 'a');
 * // => true
 *
 * _.eq('a', Object('a'));
 * // => false
 *
 * _.eq(NaN, NaN);
 * // => true
 */
function eq(value, other) {
  return value === other || (value !== value && other !== other);
}

/**
 * Checks if `value` is classified as a `Function` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a function, else `false`.
 * @example
 *
 * _.isFunction(_);
 * // => true
 *
 * _.isFunction(/abc/);
 * // => false
 */
function isFunction(value) {
  // The use of `Object#toString` avoids issues with the `typeof` operator
  // in Safari 8-9 which returns 'object' for typed array and other constructors.
  var tag = isObject(value) ? objectToString.call(value) : '';
  return tag == funcTag || tag == genTag;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return !!value && (type == 'object' || type == 'function');
}

module.exports = memoize;

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/lodash.merge/index.js":
/*!********************************************!*\
  !*** ./node_modules/lodash.merge/index.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global, module) {/**
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as the size to enable large array optimizations. */
var LARGE_ARRAY_SIZE = 200;

/** Used to stand-in for `undefined` hash values. */
var HASH_UNDEFINED = '__lodash_hash_undefined__';

/** Used to detect hot functions by number of calls within a span of milliseconds. */
var HOT_COUNT = 800,
    HOT_SPAN = 16;

/** Used as references for various `Number` constants. */
var MAX_SAFE_INTEGER = 9007199254740991;

/** `Object#toString` result references. */
var argsTag = '[object Arguments]',
    arrayTag = '[object Array]',
    asyncTag = '[object AsyncFunction]',
    boolTag = '[object Boolean]',
    dateTag = '[object Date]',
    errorTag = '[object Error]',
    funcTag = '[object Function]',
    genTag = '[object GeneratorFunction]',
    mapTag = '[object Map]',
    numberTag = '[object Number]',
    nullTag = '[object Null]',
    objectTag = '[object Object]',
    proxyTag = '[object Proxy]',
    regexpTag = '[object RegExp]',
    setTag = '[object Set]',
    stringTag = '[object String]',
    undefinedTag = '[object Undefined]',
    weakMapTag = '[object WeakMap]';

var arrayBufferTag = '[object ArrayBuffer]',
    dataViewTag = '[object DataView]',
    float32Tag = '[object Float32Array]',
    float64Tag = '[object Float64Array]',
    int8Tag = '[object Int8Array]',
    int16Tag = '[object Int16Array]',
    int32Tag = '[object Int32Array]',
    uint8Tag = '[object Uint8Array]',
    uint8ClampedTag = '[object Uint8ClampedArray]',
    uint16Tag = '[object Uint16Array]',
    uint32Tag = '[object Uint32Array]';

/**
 * Used to match `RegExp`
 * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
 */
var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;

/** Used to detect host constructors (Safari). */
var reIsHostCtor = /^\[object .+?Constructor\]$/;

/** Used to detect unsigned integer values. */
var reIsUint = /^(?:0|[1-9]\d*)$/;

/** Used to identify `toStringTag` values of typed arrays. */
var typedArrayTags = {};
typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =
typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =
typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =
typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =
typedArrayTags[uint32Tag] = true;
typedArrayTags[argsTag] = typedArrayTags[arrayTag] =
typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =
typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =
typedArrayTags[errorTag] = typedArrayTags[funcTag] =
typedArrayTags[mapTag] = typedArrayTags[numberTag] =
typedArrayTags[objectTag] = typedArrayTags[regexpTag] =
typedArrayTags[setTag] = typedArrayTags[stringTag] =
typedArrayTags[weakMapTag] = false;

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/** Detect free variable `exports`. */
var freeExports =  true && exports && !exports.nodeType && exports;

/** Detect free variable `module`. */
var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;

/** Detect the popular CommonJS extension `module.exports`. */
var moduleExports = freeModule && freeModule.exports === freeExports;

/** Detect free variable `process` from Node.js. */
var freeProcess = moduleExports && freeGlobal.process;

/** Used to access faster Node.js helpers. */
var nodeUtil = (function() {
  try {
    // Use `util.types` for Node.js 10+.
    var types = freeModule && freeModule.require && freeModule.require('util').types;

    if (types) {
      return types;
    }

    // Legacy `process.binding('util')` for Node.js < 10.
    return freeProcess && freeProcess.binding && freeProcess.binding('util');
  } catch (e) {}
}());

/* Node.js helper references. */
var nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;

/**
 * A faster alternative to `Function#apply`, this function invokes `func`
 * with the `this` binding of `thisArg` and the arguments of `args`.
 *
 * @private
 * @param {Function} func The function to invoke.
 * @param {*} thisArg The `this` binding of `func`.
 * @param {Array} args The arguments to invoke `func` with.
 * @returns {*} Returns the result of `func`.
 */
function apply(func, thisArg, args) {
  switch (args.length) {
    case 0: return func.call(thisArg);
    case 1: return func.call(thisArg, args[0]);
    case 2: return func.call(thisArg, args[0], args[1]);
    case 3: return func.call(thisArg, args[0], args[1], args[2]);
  }
  return func.apply(thisArg, args);
}

/**
 * The base implementation of `_.times` without support for iteratee shorthands
 * or max array length checks.
 *
 * @private
 * @param {number} n The number of times to invoke `iteratee`.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Array} Returns the array of results.
 */
function baseTimes(n, iteratee) {
  var index = -1,
      result = Array(n);

  while (++index < n) {
    result[index] = iteratee(index);
  }
  return result;
}

/**
 * The base implementation of `_.unary` without support for storing metadata.
 *
 * @private
 * @param {Function} func The function to cap arguments for.
 * @returns {Function} Returns the new capped function.
 */
function baseUnary(func) {
  return function(value) {
    return func(value);
  };
}

/**
 * Gets the value at `key` of `object`.
 *
 * @private
 * @param {Object} [object] The object to query.
 * @param {string} key The key of the property to get.
 * @returns {*} Returns the property value.
 */
function getValue(object, key) {
  return object == null ? undefined : object[key];
}

/**
 * Creates a unary function that invokes `func` with its argument transformed.
 *
 * @private
 * @param {Function} func The function to wrap.
 * @param {Function} transform The argument transform.
 * @returns {Function} Returns the new function.
 */
function overArg(func, transform) {
  return function(arg) {
    return func(transform(arg));
  };
}

/** Used for built-in method references. */
var arrayProto = Array.prototype,
    funcProto = Function.prototype,
    objectProto = Object.prototype;

/** Used to detect overreaching core-js shims. */
var coreJsData = root['__core-js_shared__'];

/** Used to resolve the decompiled source of functions. */
var funcToString = funcProto.toString;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/** Used to detect methods masquerading as native. */
var maskSrcKey = (function() {
  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');
  return uid ? ('Symbol(src)_1.' + uid) : '';
}());

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var nativeObjectToString = objectProto.toString;

/** Used to infer the `Object` constructor. */
var objectCtorString = funcToString.call(Object);

/** Used to detect if a method is native. */
var reIsNative = RegExp('^' +
  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\$&')
  .replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?') + '$'
);

/** Built-in value references. */
var Buffer = moduleExports ? root.Buffer : undefined,
    Symbol = root.Symbol,
    Uint8Array = root.Uint8Array,
    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,
    getPrototype = overArg(Object.getPrototypeOf, Object),
    objectCreate = Object.create,
    propertyIsEnumerable = objectProto.propertyIsEnumerable,
    splice = arrayProto.splice,
    symToStringTag = Symbol ? Symbol.toStringTag : undefined;

var defineProperty = (function() {
  try {
    var func = getNative(Object, 'defineProperty');
    func({}, '', {});
    return func;
  } catch (e) {}
}());

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,
    nativeMax = Math.max,
    nativeNow = Date.now;

/* Built-in method references that are verified to be native. */
var Map = getNative(root, 'Map'),
    nativeCreate = getNative(Object, 'create');

/**
 * The base implementation of `_.create` without support for assigning
 * properties to the created object.
 *
 * @private
 * @param {Object} proto The object to inherit from.
 * @returns {Object} Returns the new object.
 */
var baseCreate = (function() {
  function object() {}
  return function(proto) {
    if (!isObject(proto)) {
      return {};
    }
    if (objectCreate) {
      return objectCreate(proto);
    }
    object.prototype = proto;
    var result = new object;
    object.prototype = undefined;
    return result;
  };
}());

/**
 * Creates a hash object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function Hash(entries) {
  var index = -1,
      length = entries == null ? 0 : entries.length;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the hash.
 *
 * @private
 * @name clear
 * @memberOf Hash
 */
function hashClear() {
  this.__data__ = nativeCreate ? nativeCreate(null) : {};
  this.size = 0;
}

/**
 * Removes `key` and its value from the hash.
 *
 * @private
 * @name delete
 * @memberOf Hash
 * @param {Object} hash The hash to modify.
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function hashDelete(key) {
  var result = this.has(key) && delete this.__data__[key];
  this.size -= result ? 1 : 0;
  return result;
}

/**
 * Gets the hash value for `key`.
 *
 * @private
 * @name get
 * @memberOf Hash
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function hashGet(key) {
  var data = this.__data__;
  if (nativeCreate) {
    var result = data[key];
    return result === HASH_UNDEFINED ? undefined : result;
  }
  return hasOwnProperty.call(data, key) ? data[key] : undefined;
}

/**
 * Checks if a hash value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf Hash
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function hashHas(key) {
  var data = this.__data__;
  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);
}

/**
 * Sets the hash `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf Hash
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the hash instance.
 */
function hashSet(key, value) {
  var data = this.__data__;
  this.size += this.has(key) ? 0 : 1;
  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;
  return this;
}

// Add methods to `Hash`.
Hash.prototype.clear = hashClear;
Hash.prototype['delete'] = hashDelete;
Hash.prototype.get = hashGet;
Hash.prototype.has = hashHas;
Hash.prototype.set = hashSet;

/**
 * Creates an list cache object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function ListCache(entries) {
  var index = -1,
      length = entries == null ? 0 : entries.length;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the list cache.
 *
 * @private
 * @name clear
 * @memberOf ListCache
 */
function listCacheClear() {
  this.__data__ = [];
  this.size = 0;
}

/**
 * Removes `key` and its value from the list cache.
 *
 * @private
 * @name delete
 * @memberOf ListCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function listCacheDelete(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    return false;
  }
  var lastIndex = data.length - 1;
  if (index == lastIndex) {
    data.pop();
  } else {
    splice.call(data, index, 1);
  }
  --this.size;
  return true;
}

/**
 * Gets the list cache value for `key`.
 *
 * @private
 * @name get
 * @memberOf ListCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function listCacheGet(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  return index < 0 ? undefined : data[index][1];
}

/**
 * Checks if a list cache value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf ListCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function listCacheHas(key) {
  return assocIndexOf(this.__data__, key) > -1;
}

/**
 * Sets the list cache `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf ListCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the list cache instance.
 */
function listCacheSet(key, value) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    ++this.size;
    data.push([key, value]);
  } else {
    data[index][1] = value;
  }
  return this;
}

// Add methods to `ListCache`.
ListCache.prototype.clear = listCacheClear;
ListCache.prototype['delete'] = listCacheDelete;
ListCache.prototype.get = listCacheGet;
ListCache.prototype.has = listCacheHas;
ListCache.prototype.set = listCacheSet;

/**
 * Creates a map cache object to store key-value pairs.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function MapCache(entries) {
  var index = -1,
      length = entries == null ? 0 : entries.length;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the map.
 *
 * @private
 * @name clear
 * @memberOf MapCache
 */
function mapCacheClear() {
  this.size = 0;
  this.__data__ = {
    'hash': new Hash,
    'map': new (Map || ListCache),
    'string': new Hash
  };
}

/**
 * Removes `key` and its value from the map.
 *
 * @private
 * @name delete
 * @memberOf MapCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function mapCacheDelete(key) {
  var result = getMapData(this, key)['delete'](key);
  this.size -= result ? 1 : 0;
  return result;
}

/**
 * Gets the map value for `key`.
 *
 * @private
 * @name get
 * @memberOf MapCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function mapCacheGet(key) {
  return getMapData(this, key).get(key);
}

/**
 * Checks if a map value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf MapCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function mapCacheHas(key) {
  return getMapData(this, key).has(key);
}

/**
 * Sets the map `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf MapCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the map cache instance.
 */
function mapCacheSet(key, value) {
  var data = getMapData(this, key),
      size = data.size;

  data.set(key, value);
  this.size += data.size == size ? 0 : 1;
  return this;
}

// Add methods to `MapCache`.
MapCache.prototype.clear = mapCacheClear;
MapCache.prototype['delete'] = mapCacheDelete;
MapCache.prototype.get = mapCacheGet;
MapCache.prototype.has = mapCacheHas;
MapCache.prototype.set = mapCacheSet;

/**
 * Creates a stack cache object to store key-value pairs.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function Stack(entries) {
  var data = this.__data__ = new ListCache(entries);
  this.size = data.size;
}

/**
 * Removes all key-value entries from the stack.
 *
 * @private
 * @name clear
 * @memberOf Stack
 */
function stackClear() {
  this.__data__ = new ListCache;
  this.size = 0;
}

/**
 * Removes `key` and its value from the stack.
 *
 * @private
 * @name delete
 * @memberOf Stack
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function stackDelete(key) {
  var data = this.__data__,
      result = data['delete'](key);

  this.size = data.size;
  return result;
}

/**
 * Gets the stack value for `key`.
 *
 * @private
 * @name get
 * @memberOf Stack
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function stackGet(key) {
  return this.__data__.get(key);
}

/**
 * Checks if a stack value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf Stack
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function stackHas(key) {
  return this.__data__.has(key);
}

/**
 * Sets the stack `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf Stack
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the stack cache instance.
 */
function stackSet(key, value) {
  var data = this.__data__;
  if (data instanceof ListCache) {
    var pairs = data.__data__;
    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {
      pairs.push([key, value]);
      this.size = ++data.size;
      return this;
    }
    data = this.__data__ = new MapCache(pairs);
  }
  data.set(key, value);
  this.size = data.size;
  return this;
}

// Add methods to `Stack`.
Stack.prototype.clear = stackClear;
Stack.prototype['delete'] = stackDelete;
Stack.prototype.get = stackGet;
Stack.prototype.has = stackHas;
Stack.prototype.set = stackSet;

/**
 * Creates an array of the enumerable property names of the array-like `value`.
 *
 * @private
 * @param {*} value The value to query.
 * @param {boolean} inherited Specify returning inherited property names.
 * @returns {Array} Returns the array of property names.
 */
function arrayLikeKeys(value, inherited) {
  var isArr = isArray(value),
      isArg = !isArr && isArguments(value),
      isBuff = !isArr && !isArg && isBuffer(value),
      isType = !isArr && !isArg && !isBuff && isTypedArray(value),
      skipIndexes = isArr || isArg || isBuff || isType,
      result = skipIndexes ? baseTimes(value.length, String) : [],
      length = result.length;

  for (var key in value) {
    if ((inherited || hasOwnProperty.call(value, key)) &&
        !(skipIndexes && (
           // Safari 9 has enumerable `arguments.length` in strict mode.
           key == 'length' ||
           // Node.js 0.10 has enumerable non-index properties on buffers.
           (isBuff && (key == 'offset' || key == 'parent')) ||
           // PhantomJS 2 has enumerable non-index properties on typed arrays.
           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||
           // Skip index properties.
           isIndex(key, length)
        ))) {
      result.push(key);
    }
  }
  return result;
}

/**
 * This function is like `assignValue` except that it doesn't assign
 * `undefined` values.
 *
 * @private
 * @param {Object} object The object to modify.
 * @param {string} key The key of the property to assign.
 * @param {*} value The value to assign.
 */
function assignMergeValue(object, key, value) {
  if ((value !== undefined && !eq(object[key], value)) ||
      (value === undefined && !(key in object))) {
    baseAssignValue(object, key, value);
  }
}

/**
 * Assigns `value` to `key` of `object` if the existing value is not equivalent
 * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * for equality comparisons.
 *
 * @private
 * @param {Object} object The object to modify.
 * @param {string} key The key of the property to assign.
 * @param {*} value The value to assign.
 */
function assignValue(object, key, value) {
  var objValue = object[key];
  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||
      (value === undefined && !(key in object))) {
    baseAssignValue(object, key, value);
  }
}

/**
 * Gets the index at which the `key` is found in `array` of key-value pairs.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {*} key The key to search for.
 * @returns {number} Returns the index of the matched value, else `-1`.
 */
function assocIndexOf(array, key) {
  var length = array.length;
  while (length--) {
    if (eq(array[length][0], key)) {
      return length;
    }
  }
  return -1;
}

/**
 * The base implementation of `assignValue` and `assignMergeValue` without
 * value checks.
 *
 * @private
 * @param {Object} object The object to modify.
 * @param {string} key The key of the property to assign.
 * @param {*} value The value to assign.
 */
function baseAssignValue(object, key, value) {
  if (key == '__proto__' && defineProperty) {
    defineProperty(object, key, {
      'configurable': true,
      'enumerable': true,
      'value': value,
      'writable': true
    });
  } else {
    object[key] = value;
  }
}

/**
 * The base implementation of `baseForOwn` which iterates over `object`
 * properties returned by `keysFunc` and invokes `iteratee` for each property.
 * Iteratee functions may exit iteration early by explicitly returning `false`.
 *
 * @private
 * @param {Object} object The object to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @param {Function} keysFunc The function to get the keys of `object`.
 * @returns {Object} Returns `object`.
 */
var baseFor = createBaseFor();

/**
 * The base implementation of `getTag` without fallbacks for buggy environments.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the `toStringTag`.
 */
function baseGetTag(value) {
  if (value == null) {
    return value === undefined ? undefinedTag : nullTag;
  }
  return (symToStringTag && symToStringTag in Object(value))
    ? getRawTag(value)
    : objectToString(value);
}

/**
 * The base implementation of `_.isArguments`.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an `arguments` object,
 */
function baseIsArguments(value) {
  return isObjectLike(value) && baseGetTag(value) == argsTag;
}

/**
 * The base implementation of `_.isNative` without bad shim checks.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a native function,
 *  else `false`.
 */
function baseIsNative(value) {
  if (!isObject(value) || isMasked(value)) {
    return false;
  }
  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;
  return pattern.test(toSource(value));
}

/**
 * The base implementation of `_.isTypedArray` without Node.js optimizations.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
 */
function baseIsTypedArray(value) {
  return isObjectLike(value) &&
    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];
}

/**
 * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 */
function baseKeysIn(object) {
  if (!isObject(object)) {
    return nativeKeysIn(object);
  }
  var isProto = isPrototype(object),
      result = [];

  for (var key in object) {
    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {
      result.push(key);
    }
  }
  return result;
}

/**
 * The base implementation of `_.merge` without support for multiple sources.
 *
 * @private
 * @param {Object} object The destination object.
 * @param {Object} source The source object.
 * @param {number} srcIndex The index of `source`.
 * @param {Function} [customizer] The function to customize merged values.
 * @param {Object} [stack] Tracks traversed source values and their merged
 *  counterparts.
 */
function baseMerge(object, source, srcIndex, customizer, stack) {
  if (object === source) {
    return;
  }
  baseFor(source, function(srcValue, key) {
    stack || (stack = new Stack);
    if (isObject(srcValue)) {
      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);
    }
    else {
      var newValue = customizer
        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)
        : undefined;

      if (newValue === undefined) {
        newValue = srcValue;
      }
      assignMergeValue(object, key, newValue);
    }
  }, keysIn);
}

/**
 * A specialized version of `baseMerge` for arrays and objects which performs
 * deep merges and tracks traversed objects enabling objects with circular
 * references to be merged.
 *
 * @private
 * @param {Object} object The destination object.
 * @param {Object} source The source object.
 * @param {string} key The key of the value to merge.
 * @param {number} srcIndex The index of `source`.
 * @param {Function} mergeFunc The function to merge values.
 * @param {Function} [customizer] The function to customize assigned values.
 * @param {Object} [stack] Tracks traversed source values and their merged
 *  counterparts.
 */
function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {
  var objValue = safeGet(object, key),
      srcValue = safeGet(source, key),
      stacked = stack.get(srcValue);

  if (stacked) {
    assignMergeValue(object, key, stacked);
    return;
  }
  var newValue = customizer
    ? customizer(objValue, srcValue, (key + ''), object, source, stack)
    : undefined;

  var isCommon = newValue === undefined;

  if (isCommon) {
    var isArr = isArray(srcValue),
        isBuff = !isArr && isBuffer(srcValue),
        isTyped = !isArr && !isBuff && isTypedArray(srcValue);

    newValue = srcValue;
    if (isArr || isBuff || isTyped) {
      if (isArray(objValue)) {
        newValue = objValue;
      }
      else if (isArrayLikeObject(objValue)) {
        newValue = copyArray(objValue);
      }
      else if (isBuff) {
        isCommon = false;
        newValue = cloneBuffer(srcValue, true);
      }
      else if (isTyped) {
        isCommon = false;
        newValue = cloneTypedArray(srcValue, true);
      }
      else {
        newValue = [];
      }
    }
    else if (isPlainObject(srcValue) || isArguments(srcValue)) {
      newValue = objValue;
      if (isArguments(objValue)) {
        newValue = toPlainObject(objValue);
      }
      else if (!isObject(objValue) || isFunction(objValue)) {
        newValue = initCloneObject(srcValue);
      }
    }
    else {
      isCommon = false;
    }
  }
  if (isCommon) {
    // Recursively merge objects and arrays (susceptible to call stack limits).
    stack.set(srcValue, newValue);
    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);
    stack['delete'](srcValue);
  }
  assignMergeValue(object, key, newValue);
}

/**
 * The base implementation of `_.rest` which doesn't validate or coerce arguments.
 *
 * @private
 * @param {Function} func The function to apply a rest parameter to.
 * @param {number} [start=func.length-1] The start position of the rest parameter.
 * @returns {Function} Returns the new function.
 */
function baseRest(func, start) {
  return setToString(overRest(func, start, identity), func + '');
}

/**
 * The base implementation of `setToString` without support for hot loop shorting.
 *
 * @private
 * @param {Function} func The function to modify.
 * @param {Function} string The `toString` result.
 * @returns {Function} Returns `func`.
 */
var baseSetToString = !defineProperty ? identity : function(func, string) {
  return defineProperty(func, 'toString', {
    'configurable': true,
    'enumerable': false,
    'value': constant(string),
    'writable': true
  });
};

/**
 * Creates a clone of  `buffer`.
 *
 * @private
 * @param {Buffer} buffer The buffer to clone.
 * @param {boolean} [isDeep] Specify a deep clone.
 * @returns {Buffer} Returns the cloned buffer.
 */
function cloneBuffer(buffer, isDeep) {
  if (isDeep) {
    return buffer.slice();
  }
  var length = buffer.length,
      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);

  buffer.copy(result);
  return result;
}

/**
 * Creates a clone of `arrayBuffer`.
 *
 * @private
 * @param {ArrayBuffer} arrayBuffer The array buffer to clone.
 * @returns {ArrayBuffer} Returns the cloned array buffer.
 */
function cloneArrayBuffer(arrayBuffer) {
  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);
  new Uint8Array(result).set(new Uint8Array(arrayBuffer));
  return result;
}

/**
 * Creates a clone of `typedArray`.
 *
 * @private
 * @param {Object} typedArray The typed array to clone.
 * @param {boolean} [isDeep] Specify a deep clone.
 * @returns {Object} Returns the cloned typed array.
 */
function cloneTypedArray(typedArray, isDeep) {
  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;
  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);
}

/**
 * Copies the values of `source` to `array`.
 *
 * @private
 * @param {Array} source The array to copy values from.
 * @param {Array} [array=[]] The array to copy values to.
 * @returns {Array} Returns `array`.
 */
function copyArray(source, array) {
  var index = -1,
      length = source.length;

  array || (array = Array(length));
  while (++index < length) {
    array[index] = source[index];
  }
  return array;
}

/**
 * Copies properties of `source` to `object`.
 *
 * @private
 * @param {Object} source The object to copy properties from.
 * @param {Array} props The property identifiers to copy.
 * @param {Object} [object={}] The object to copy properties to.
 * @param {Function} [customizer] The function to customize copied values.
 * @returns {Object} Returns `object`.
 */
function copyObject(source, props, object, customizer) {
  var isNew = !object;
  object || (object = {});

  var index = -1,
      length = props.length;

  while (++index < length) {
    var key = props[index];

    var newValue = customizer
      ? customizer(object[key], source[key], key, object, source)
      : undefined;

    if (newValue === undefined) {
      newValue = source[key];
    }
    if (isNew) {
      baseAssignValue(object, key, newValue);
    } else {
      assignValue(object, key, newValue);
    }
  }
  return object;
}

/**
 * Creates a function like `_.assign`.
 *
 * @private
 * @param {Function} assigner The function to assign values.
 * @returns {Function} Returns the new assigner function.
 */
function createAssigner(assigner) {
  return baseRest(function(object, sources) {
    var index = -1,
        length = sources.length,
        customizer = length > 1 ? sources[length - 1] : undefined,
        guard = length > 2 ? sources[2] : undefined;

    customizer = (assigner.length > 3 && typeof customizer == 'function')
      ? (length--, customizer)
      : undefined;

    if (guard && isIterateeCall(sources[0], sources[1], guard)) {
      customizer = length < 3 ? undefined : customizer;
      length = 1;
    }
    object = Object(object);
    while (++index < length) {
      var source = sources[index];
      if (source) {
        assigner(object, source, index, customizer);
      }
    }
    return object;
  });
}

/**
 * Creates a base function for methods like `_.forIn` and `_.forOwn`.
 *
 * @private
 * @param {boolean} [fromRight] Specify iterating from right to left.
 * @returns {Function} Returns the new base function.
 */
function createBaseFor(fromRight) {
  return function(object, iteratee, keysFunc) {
    var index = -1,
        iterable = Object(object),
        props = keysFunc(object),
        length = props.length;

    while (length--) {
      var key = props[fromRight ? length : ++index];
      if (iteratee(iterable[key], key, iterable) === false) {
        break;
      }
    }
    return object;
  };
}

/**
 * Gets the data for `map`.
 *
 * @private
 * @param {Object} map The map to query.
 * @param {string} key The reference key.
 * @returns {*} Returns the map data.
 */
function getMapData(map, key) {
  var data = map.__data__;
  return isKeyable(key)
    ? data[typeof key == 'string' ? 'string' : 'hash']
    : data.map;
}

/**
 * Gets the native function at `key` of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {string} key The key of the method to get.
 * @returns {*} Returns the function if it's native, else `undefined`.
 */
function getNative(object, key) {
  var value = getValue(object, key);
  return baseIsNative(value) ? value : undefined;
}

/**
 * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the raw `toStringTag`.
 */
function getRawTag(value) {
  var isOwn = hasOwnProperty.call(value, symToStringTag),
      tag = value[symToStringTag];

  try {
    value[symToStringTag] = undefined;
    var unmasked = true;
  } catch (e) {}

  var result = nativeObjectToString.call(value);
  if (unmasked) {
    if (isOwn) {
      value[symToStringTag] = tag;
    } else {
      delete value[symToStringTag];
    }
  }
  return result;
}

/**
 * Initializes an object clone.
 *
 * @private
 * @param {Object} object The object to clone.
 * @returns {Object} Returns the initialized clone.
 */
function initCloneObject(object) {
  return (typeof object.constructor == 'function' && !isPrototype(object))
    ? baseCreate(getPrototype(object))
    : {};
}

/**
 * Checks if `value` is a valid array-like index.
 *
 * @private
 * @param {*} value The value to check.
 * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.
 * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.
 */
function isIndex(value, length) {
  var type = typeof value;
  length = length == null ? MAX_SAFE_INTEGER : length;

  return !!length &&
    (type == 'number' ||
      (type != 'symbol' && reIsUint.test(value))) &&
        (value > -1 && value % 1 == 0 && value < length);
}

/**
 * Checks if the given arguments are from an iteratee call.
 *
 * @private
 * @param {*} value The potential iteratee value argument.
 * @param {*} index The potential iteratee index or key argument.
 * @param {*} object The potential iteratee object argument.
 * @returns {boolean} Returns `true` if the arguments are from an iteratee call,
 *  else `false`.
 */
function isIterateeCall(value, index, object) {
  if (!isObject(object)) {
    return false;
  }
  var type = typeof index;
  if (type == 'number'
        ? (isArrayLike(object) && isIndex(index, object.length))
        : (type == 'string' && index in object)
      ) {
    return eq(object[index], value);
  }
  return false;
}

/**
 * Checks if `value` is suitable for use as unique object key.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is suitable, else `false`.
 */
function isKeyable(value) {
  var type = typeof value;
  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')
    ? (value !== '__proto__')
    : (value === null);
}

/**
 * Checks if `func` has its source masked.
 *
 * @private
 * @param {Function} func The function to check.
 * @returns {boolean} Returns `true` if `func` is masked, else `false`.
 */
function isMasked(func) {
  return !!maskSrcKey && (maskSrcKey in func);
}

/**
 * Checks if `value` is likely a prototype object.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.
 */
function isPrototype(value) {
  var Ctor = value && value.constructor,
      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;

  return value === proto;
}

/**
 * This function is like
 * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)
 * except that it includes inherited enumerable properties.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 */
function nativeKeysIn(object) {
  var result = [];
  if (object != null) {
    for (var key in Object(object)) {
      result.push(key);
    }
  }
  return result;
}

/**
 * Converts `value` to a string using `Object.prototype.toString`.
 *
 * @private
 * @param {*} value The value to convert.
 * @returns {string} Returns the converted string.
 */
function objectToString(value) {
  return nativeObjectToString.call(value);
}

/**
 * A specialized version of `baseRest` which transforms the rest array.
 *
 * @private
 * @param {Function} func The function to apply a rest parameter to.
 * @param {number} [start=func.length-1] The start position of the rest parameter.
 * @param {Function} transform The rest array transform.
 * @returns {Function} Returns the new function.
 */
function overRest(func, start, transform) {
  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);
  return function() {
    var args = arguments,
        index = -1,
        length = nativeMax(args.length - start, 0),
        array = Array(length);

    while (++index < length) {
      array[index] = args[start + index];
    }
    index = -1;
    var otherArgs = Array(start + 1);
    while (++index < start) {
      otherArgs[index] = args[index];
    }
    otherArgs[start] = transform(array);
    return apply(func, this, otherArgs);
  };
}

/**
 * Gets the value at `key`, unless `key` is "__proto__" or "constructor".
 *
 * @private
 * @param {Object} object The object to query.
 * @param {string} key The key of the property to get.
 * @returns {*} Returns the property value.
 */
function safeGet(object, key) {
  if (key === 'constructor' && typeof object[key] === 'function') {
    return;
  }

  if (key == '__proto__') {
    return;
  }

  return object[key];
}

/**
 * Sets the `toString` method of `func` to return `string`.
 *
 * @private
 * @param {Function} func The function to modify.
 * @param {Function} string The `toString` result.
 * @returns {Function} Returns `func`.
 */
var setToString = shortOut(baseSetToString);

/**
 * Creates a function that'll short out and invoke `identity` instead
 * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`
 * milliseconds.
 *
 * @private
 * @param {Function} func The function to restrict.
 * @returns {Function} Returns the new shortable function.
 */
function shortOut(func) {
  var count = 0,
      lastCalled = 0;

  return function() {
    var stamp = nativeNow(),
        remaining = HOT_SPAN - (stamp - lastCalled);

    lastCalled = stamp;
    if (remaining > 0) {
      if (++count >= HOT_COUNT) {
        return arguments[0];
      }
    } else {
      count = 0;
    }
    return func.apply(undefined, arguments);
  };
}

/**
 * Converts `func` to its source code.
 *
 * @private
 * @param {Function} func The function to convert.
 * @returns {string} Returns the source code.
 */
function toSource(func) {
  if (func != null) {
    try {
      return funcToString.call(func);
    } catch (e) {}
    try {
      return (func + '');
    } catch (e) {}
  }
  return '';
}

/**
 * Performs a
 * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * comparison between two values to determine if they are equivalent.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to compare.
 * @param {*} other The other value to compare.
 * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
 * @example
 *
 * var object = { 'a': 1 };
 * var other = { 'a': 1 };
 *
 * _.eq(object, object);
 * // => true
 *
 * _.eq(object, other);
 * // => false
 *
 * _.eq('a', 'a');
 * // => true
 *
 * _.eq('a', Object('a'));
 * // => false
 *
 * _.eq(NaN, NaN);
 * // => true
 */
function eq(value, other) {
  return value === other || (value !== value && other !== other);
}

/**
 * Checks if `value` is likely an `arguments` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an `arguments` object,
 *  else `false`.
 * @example
 *
 * _.isArguments(function() { return arguments; }());
 * // => true
 *
 * _.isArguments([1, 2, 3]);
 * // => false
 */
var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {
  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&
    !propertyIsEnumerable.call(value, 'callee');
};

/**
 * Checks if `value` is classified as an `Array` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array, else `false`.
 * @example
 *
 * _.isArray([1, 2, 3]);
 * // => true
 *
 * _.isArray(document.body.children);
 * // => false
 *
 * _.isArray('abc');
 * // => false
 *
 * _.isArray(_.noop);
 * // => false
 */
var isArray = Array.isArray;

/**
 * Checks if `value` is array-like. A value is considered array-like if it's
 * not a function and has a `value.length` that's an integer greater than or
 * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
 * @example
 *
 * _.isArrayLike([1, 2, 3]);
 * // => true
 *
 * _.isArrayLike(document.body.children);
 * // => true
 *
 * _.isArrayLike('abc');
 * // => true
 *
 * _.isArrayLike(_.noop);
 * // => false
 */
function isArrayLike(value) {
  return value != null && isLength(value.length) && !isFunction(value);
}

/**
 * This method is like `_.isArrayLike` except that it also checks if `value`
 * is an object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array-like object,
 *  else `false`.
 * @example
 *
 * _.isArrayLikeObject([1, 2, 3]);
 * // => true
 *
 * _.isArrayLikeObject(document.body.children);
 * // => true
 *
 * _.isArrayLikeObject('abc');
 * // => false
 *
 * _.isArrayLikeObject(_.noop);
 * // => false
 */
function isArrayLikeObject(value) {
  return isObjectLike(value) && isArrayLike(value);
}

/**
 * Checks if `value` is a buffer.
 *
 * @static
 * @memberOf _
 * @since 4.3.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.
 * @example
 *
 * _.isBuffer(new Buffer(2));
 * // => true
 *
 * _.isBuffer(new Uint8Array(2));
 * // => false
 */
var isBuffer = nativeIsBuffer || stubFalse;

/**
 * Checks if `value` is classified as a `Function` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a function, else `false`.
 * @example
 *
 * _.isFunction(_);
 * // => true
 *
 * _.isFunction(/abc/);
 * // => false
 */
function isFunction(value) {
  if (!isObject(value)) {
    return false;
  }
  // The use of `Object#toString` avoids issues with the `typeof` operator
  // in Safari 9 which returns 'object' for typed arrays and other constructors.
  var tag = baseGetTag(value);
  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;
}

/**
 * Checks if `value` is a valid array-like length.
 *
 * **Note:** This method is loosely based on
 * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
 * @example
 *
 * _.isLength(3);
 * // => true
 *
 * _.isLength(Number.MIN_VALUE);
 * // => false
 *
 * _.isLength(Infinity);
 * // => false
 *
 * _.isLength('3');
 * // => false
 */
function isLength(value) {
  return typeof value == 'number' &&
    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return value != null && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return value != null && typeof value == 'object';
}

/**
 * Checks if `value` is a plain object, that is, an object created by the
 * `Object` constructor or one with a `[[Prototype]]` of `null`.
 *
 * @static
 * @memberOf _
 * @since 0.8.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.
 * @example
 *
 * function Foo() {
 *   this.a = 1;
 * }
 *
 * _.isPlainObject(new Foo);
 * // => false
 *
 * _.isPlainObject([1, 2, 3]);
 * // => false
 *
 * _.isPlainObject({ 'x': 0, 'y': 0 });
 * // => true
 *
 * _.isPlainObject(Object.create(null));
 * // => true
 */
function isPlainObject(value) {
  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {
    return false;
  }
  var proto = getPrototype(value);
  if (proto === null) {
    return true;
  }
  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;
  return typeof Ctor == 'function' && Ctor instanceof Ctor &&
    funcToString.call(Ctor) == objectCtorString;
}

/**
 * Checks if `value` is classified as a typed array.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
 * @example
 *
 * _.isTypedArray(new Uint8Array);
 * // => true
 *
 * _.isTypedArray([]);
 * // => false
 */
var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;

/**
 * Converts `value` to a plain object flattening inherited enumerable string
 * keyed properties of `value` to own properties of the plain object.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category Lang
 * @param {*} value The value to convert.
 * @returns {Object} Returns the converted plain object.
 * @example
 *
 * function Foo() {
 *   this.b = 2;
 * }
 *
 * Foo.prototype.c = 3;
 *
 * _.assign({ 'a': 1 }, new Foo);
 * // => { 'a': 1, 'b': 2 }
 *
 * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));
 * // => { 'a': 1, 'b': 2, 'c': 3 }
 */
function toPlainObject(value) {
  return copyObject(value, keysIn(value));
}

/**
 * Creates an array of the own and inherited enumerable property names of `object`.
 *
 * **Note:** Non-object values are coerced to objects.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category Object
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 * @example
 *
 * function Foo() {
 *   this.a = 1;
 *   this.b = 2;
 * }
 *
 * Foo.prototype.c = 3;
 *
 * _.keysIn(new Foo);
 * // => ['a', 'b', 'c'] (iteration order is not guaranteed)
 */
function keysIn(object) {
  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);
}

/**
 * This method is like `_.assign` except that it recursively merges own and
 * inherited enumerable string keyed properties of source objects into the
 * destination object. Source properties that resolve to `undefined` are
 * skipped if a destination value exists. Array and plain object properties
 * are merged recursively. Other objects and value types are overridden by
 * assignment. Source objects are applied from left to right. Subsequent
 * sources overwrite property assignments of previous sources.
 *
 * **Note:** This method mutates `object`.
 *
 * @static
 * @memberOf _
 * @since 0.5.0
 * @category Object
 * @param {Object} object The destination object.
 * @param {...Object} [sources] The source objects.
 * @returns {Object} Returns `object`.
 * @example
 *
 * var object = {
 *   'a': [{ 'b': 2 }, { 'd': 4 }]
 * };
 *
 * var other = {
 *   'a': [{ 'c': 3 }, { 'e': 5 }]
 * };
 *
 * _.merge(object, other);
 * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }
 */
var merge = createAssigner(function(object, source, srcIndex) {
  baseMerge(object, source, srcIndex);
});

/**
 * Creates a function that returns `value`.
 *
 * @static
 * @memberOf _
 * @since 2.4.0
 * @category Util
 * @param {*} value The value to return from the new function.
 * @returns {Function} Returns the new constant function.
 * @example
 *
 * var objects = _.times(2, _.constant({ 'a': 1 }));
 *
 * console.log(objects);
 * // => [{ 'a': 1 }, { 'a': 1 }]
 *
 * console.log(objects[0] === objects[1]);
 * // => true
 */
function constant(value) {
  return function() {
    return value;
  };
}

/**
 * This method returns the first argument it receives.
 *
 * @static
 * @since 0.1.0
 * @memberOf _
 * @category Util
 * @param {*} value Any value.
 * @returns {*} Returns `value`.
 * @example
 *
 * var object = { 'a': 1 };
 *
 * console.log(_.identity(object) === object);
 * // => true
 */
function identity(value) {
  return value;
}

/**
 * This method returns `false`.
 *
 * @static
 * @memberOf _
 * @since 4.13.0
 * @category Util
 * @returns {boolean} Returns `false`.
 * @example
 *
 * _.times(2, _.stubFalse);
 * // => [false, false]
 */
function stubFalse() {
  return false;
}

module.exports = merge;

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js"), __webpack_require__(/*! ./../webpack/buildin/module.js */ "./node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./node_modules/make-plural/umd/pluralCategories.js":
/*!**********************************************************!*\
  !*** ./node_modules/make-plural/umd/pluralCategories.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;var _cc = [
  {cardinal:["other"],ordinal:["other"]},
  {cardinal:["one","other"],ordinal:["other"]},
  {cardinal:["one","other"],ordinal:["one","other"]},
  {cardinal:["one","two","other"],ordinal:["other"]}
];

(function (root, pluralCategories) {
  if (true) {
    !(__WEBPACK_AMD_DEFINE_FACTORY__ = (pluralCategories),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :
				__WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else {}
}(this, {
af: _cc[1],
ak: _cc[1],
am: _cc[1],
ar: {cardinal:["zero","one","two","few","many","other"],ordinal:["other"]},
ars: {cardinal:["zero","one","two","few","many","other"],ordinal:["other"]},
as: {cardinal:["one","other"],ordinal:["one","two","few","many","other"]},
asa: _cc[1],
ast: _cc[1],
az: {cardinal:["one","other"],ordinal:["one","few","many","other"]},
be: {cardinal:["one","few","many","other"],ordinal:["few","other"]},
bem: _cc[1],
bez: _cc[1],
bg: _cc[1],
bh: _cc[1],
bm: _cc[0],
bn: {cardinal:["one","other"],ordinal:["one","two","few","many","other"]},
bo: _cc[0],
br: {cardinal:["one","two","few","many","other"],ordinal:["other"]},
brx: _cc[1],
bs: {cardinal:["one","few","other"],ordinal:["other"]},
ca: {cardinal:["one","other"],ordinal:["one","two","few","other"]},
ce: _cc[1],
cgg: _cc[1],
chr: _cc[1],
ckb: _cc[1],
cs: {cardinal:["one","few","many","other"],ordinal:["other"]},
cy: {cardinal:["zero","one","two","few","many","other"],ordinal:["zero","one","two","few","many","other"]},
da: _cc[1],
de: _cc[1],
dsb: {cardinal:["one","two","few","other"],ordinal:["other"]},
dv: _cc[1],
dz: _cc[0],
ee: _cc[1],
el: _cc[1],
en: {cardinal:["one","other"],ordinal:["one","two","few","other"]},
eo: _cc[1],
es: _cc[1],
et: _cc[1],
eu: _cc[1],
fa: _cc[1],
ff: _cc[1],
fi: _cc[1],
fil: _cc[2],
fo: _cc[1],
fr: _cc[2],
fur: _cc[1],
fy: _cc[1],
ga: {cardinal:["one","two","few","many","other"],ordinal:["one","other"]},
gd: {cardinal:["one","two","few","other"],ordinal:["one","two","few","other"]},
gl: _cc[1],
gsw: _cc[1],
gu: {cardinal:["one","other"],ordinal:["one","two","few","many","other"]},
guw: _cc[1],
gv: {cardinal:["one","two","few","many","other"],ordinal:["other"]},
ha: _cc[1],
haw: _cc[1],
he: {cardinal:["one","two","many","other"],ordinal:["other"]},
hi: {cardinal:["one","other"],ordinal:["one","two","few","many","other"]},
hr: {cardinal:["one","few","other"],ordinal:["other"]},
hsb: {cardinal:["one","two","few","other"],ordinal:["other"]},
hu: _cc[2],
hy: _cc[2],
ia: _cc[1],
id: _cc[0],
ig: _cc[0],
ii: _cc[0],
"in": _cc[0],
io: _cc[1],
is: _cc[1],
it: {cardinal:["one","other"],ordinal:["many","other"]},
iu: _cc[3],
iw: {cardinal:["one","two","many","other"],ordinal:["other"]},
ja: _cc[0],
jbo: _cc[0],
jgo: _cc[1],
ji: _cc[1],
jmc: _cc[1],
jv: _cc[0],
jw: _cc[0],
ka: {cardinal:["one","other"],ordinal:["one","many","other"]},
kab: _cc[1],
kaj: _cc[1],
kcg: _cc[1],
kde: _cc[0],
kea: _cc[0],
kk: {cardinal:["one","other"],ordinal:["many","other"]},
kkj: _cc[1],
kl: _cc[1],
km: _cc[0],
kn: _cc[1],
ko: _cc[0],
ks: _cc[1],
ksb: _cc[1],
ksh: {cardinal:["zero","one","other"],ordinal:["other"]},
ku: _cc[1],
kw: _cc[3],
ky: _cc[1],
lag: {cardinal:["zero","one","other"],ordinal:["other"]},
lb: _cc[1],
lg: _cc[1],
lkt: _cc[0],
ln: _cc[1],
lo: {cardinal:["other"],ordinal:["one","other"]},
lt: {cardinal:["one","few","many","other"],ordinal:["other"]},
lv: {cardinal:["zero","one","other"],ordinal:["other"]},
mas: _cc[1],
mg: _cc[1],
mgo: _cc[1],
mk: {cardinal:["one","other"],ordinal:["one","two","many","other"]},
ml: _cc[1],
mn: _cc[1],
mo: {cardinal:["one","few","other"],ordinal:["one","other"]},
mr: {cardinal:["one","other"],ordinal:["one","two","few","other"]},
ms: {cardinal:["other"],ordinal:["one","other"]},
mt: {cardinal:["one","few","many","other"],ordinal:["other"]},
my: _cc[0],
nah: _cc[1],
naq: _cc[3],
nb: _cc[1],
nd: _cc[1],
ne: _cc[2],
nl: _cc[1],
nn: _cc[1],
nnh: _cc[1],
no: _cc[1],
nqo: _cc[0],
nr: _cc[1],
nso: _cc[1],
ny: _cc[1],
nyn: _cc[1],
om: _cc[1],
or: {cardinal:["one","other"],ordinal:["one","two","few","many","other"]},
os: _cc[1],
pa: _cc[1],
pap: _cc[1],
pl: {cardinal:["one","few","many","other"],ordinal:["other"]},
prg: {cardinal:["zero","one","other"],ordinal:["other"]},
ps: _cc[1],
pt: _cc[1],
"pt-PT": _cc[1],
rm: _cc[1],
ro: {cardinal:["one","few","other"],ordinal:["one","other"]},
rof: _cc[1],
root: _cc[0],
ru: {cardinal:["one","few","many","other"],ordinal:["other"]},
rwk: _cc[1],
sah: _cc[0],
saq: _cc[1],
sc: {cardinal:["one","other"],ordinal:["many","other"]},
scn: {cardinal:["one","other"],ordinal:["many","other"]},
sd: _cc[1],
sdh: _cc[1],
se: _cc[3],
seh: _cc[1],
ses: _cc[0],
sg: _cc[0],
sh: {cardinal:["one","few","other"],ordinal:["other"]},
shi: {cardinal:["one","few","other"],ordinal:["other"]},
si: _cc[1],
sk: {cardinal:["one","few","many","other"],ordinal:["other"]},
sl: {cardinal:["one","two","few","other"],ordinal:["other"]},
sma: _cc[3],
smi: _cc[3],
smj: _cc[3],
smn: _cc[3],
sms: _cc[3],
sn: _cc[1],
so: _cc[1],
sq: {cardinal:["one","other"],ordinal:["one","many","other"]},
sr: {cardinal:["one","few","other"],ordinal:["other"]},
ss: _cc[1],
ssy: _cc[1],
st: _cc[1],
sv: _cc[2],
sw: _cc[1],
syr: _cc[1],
ta: _cc[1],
te: _cc[1],
teo: _cc[1],
th: _cc[0],
ti: _cc[1],
tig: _cc[1],
tk: {cardinal:["one","other"],ordinal:["few","other"]},
tl: _cc[2],
tn: _cc[1],
to: _cc[0],
tr: _cc[1],
ts: _cc[1],
tzm: _cc[1],
ug: _cc[1],
uk: {cardinal:["one","few","many","other"],ordinal:["few","other"]},
ur: _cc[1],
uz: _cc[1],
ve: _cc[1],
vi: {cardinal:["other"],ordinal:["one","other"]},
vo: _cc[1],
vun: _cc[1],
wa: _cc[1],
wae: _cc[1],
wo: _cc[0],
xh: _cc[1],
xog: _cc[1],
yi: _cc[1],
yo: _cc[0],
yue: _cc[0],
zh: _cc[0],
zu: _cc[1]
}));


/***/ }),

/***/ "./node_modules/make-plural/umd/plurals.js":
/*!*************************************************!*\
  !*** ./node_modules/make-plural/umd/plurals.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;var _cp = [
function(n, ord) {
  if (ord) return 'other';
  return 'other';
},
function(n, ord) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},
function(n, ord) {
  if (ord) return 'other';
  return ((n == 0
          || n == 1)) ? 'one' : 'other';
},
function(n, ord) {
  var s = String(n).split('.'), v0 = !s[1];
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one' : 'other';
}
];

(function (root, plurals) {
  if (true) {
    !(__WEBPACK_AMD_DEFINE_FACTORY__ = (plurals),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :
				__WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else {}
}(this, {
af: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

ak: function(n, ord
) {
  if (ord) return 'other';
  return ((n == 0
          || n == 1)) ? 'one' : 'other';
},

am: function(n, ord
) {
  if (ord) return 'other';
  return (n >= 0 && n <= 1) ? 'one' : 'other';
},

ar: function(n, ord
) {
  var s = String(n).split('.'), t0 = Number(s[0]) == n,
      n100 = t0 && s[0].slice(-2);
  if (ord) return 'other';
  return (n == 0) ? 'zero'
      : (n == 1) ? 'one'
      : (n == 2) ? 'two'
      : ((n100 >= 3 && n100 <= 10)) ? 'few'
      : ((n100 >= 11 && n100 <= 99)) ? 'many'
      : 'other';
},

ars: function(n, ord
) {
  var s = String(n).split('.'), t0 = Number(s[0]) == n,
      n100 = t0 && s[0].slice(-2);
  if (ord) return 'other';
  return (n == 0) ? 'zero'
      : (n == 1) ? 'one'
      : (n == 2) ? 'two'
      : ((n100 >= 3 && n100 <= 10)) ? 'few'
      : ((n100 >= 11 && n100 <= 99)) ? 'many'
      : 'other';
},

as: function(n, ord
) {
  if (ord) return ((n == 1 || n == 5 || n == 7 || n == 8 || n == 9
          || n == 10)) ? 'one'
      : ((n == 2
          || n == 3)) ? 'two'
      : (n == 4) ? 'few'
      : (n == 6) ? 'many'
      : 'other';
  return (n >= 0 && n <= 1) ? 'one' : 'other';
},

asa: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

ast: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1];
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

az: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], i10 = i.slice(-1),
      i100 = i.slice(-2), i1000 = i.slice(-3);
  if (ord) return ((i10 == 1 || i10 == 2 || i10 == 5 || i10 == 7 || i10 == 8)
          || (i100 == 20 || i100 == 50 || i100 == 70
          || i100 == 80)) ? 'one'
      : ((i10 == 3 || i10 == 4) || (i1000 == 100 || i1000 == 200
          || i1000 == 300 || i1000 == 400 || i1000 == 500 || i1000 == 600 || i1000 == 700
          || i1000 == 800
          || i1000 == 900)) ? 'few'
      : (i == 0 || i10 == 6 || (i100 == 40 || i100 == 60
          || i100 == 90)) ? 'many'
      : 'other';
  return (n == 1) ? 'one' : 'other';
},

be: function(n, ord
) {
  var s = String(n).split('.'), t0 = Number(s[0]) == n,
      n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2);
  if (ord) return ((n10 == 2
          || n10 == 3) && n100 != 12 && n100 != 13) ? 'few' : 'other';
  return (n10 == 1 && n100 != 11) ? 'one'
      : ((n10 >= 2 && n10 <= 4) && (n100 < 12
          || n100 > 14)) ? 'few'
      : (t0 && n10 == 0 || (n10 >= 5 && n10 <= 9)
          || (n100 >= 11 && n100 <= 14)) ? 'many'
      : 'other';
},

bem: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

bez: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

bg: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

bh: function(n, ord
) {
  if (ord) return 'other';
  return ((n == 0
          || n == 1)) ? 'one' : 'other';
},

bm: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

bn: function(n, ord
) {
  if (ord) return ((n == 1 || n == 5 || n == 7 || n == 8 || n == 9
          || n == 10)) ? 'one'
      : ((n == 2
          || n == 3)) ? 'two'
      : (n == 4) ? 'few'
      : (n == 6) ? 'many'
      : 'other';
  return (n >= 0 && n <= 1) ? 'one' : 'other';
},

bo: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

br: function(n, ord
) {
  var s = String(n).split('.'), t0 = Number(s[0]) == n,
      n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2),
      n1000000 = t0 && s[0].slice(-6);
  if (ord) return 'other';
  return (n10 == 1 && n100 != 11 && n100 != 71 && n100 != 91) ? 'one'
      : (n10 == 2 && n100 != 12 && n100 != 72 && n100 != 92) ? 'two'
      : (((n10 == 3 || n10 == 4) || n10 == 9) && (n100 < 10
          || n100 > 19) && (n100 < 70 || n100 > 79) && (n100 < 90
          || n100 > 99)) ? 'few'
      : (n != 0 && t0 && n1000000 == 0) ? 'many'
      : 'other';
},

brx: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

bs: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1],
      i10 = i.slice(-1), i100 = i.slice(-2), f10 = f.slice(-1), f100 = f.slice(-2);
  if (ord) return 'other';
  return (v0 && i10 == 1 && i100 != 11
          || f10 == 1 && f100 != 11) ? 'one'
      : (v0 && (i10 >= 2 && i10 <= 4) && (i100 < 12 || i100 > 14)
          || (f10 >= 2 && f10 <= 4) && (f100 < 12
          || f100 > 14)) ? 'few'
      : 'other';
},

ca: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1];
  if (ord) return ((n == 1
          || n == 3)) ? 'one'
      : (n == 2) ? 'two'
      : (n == 4) ? 'few'
      : 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

ce: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

cgg: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

chr: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

ckb: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

cs: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], v0 = !s[1];
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one'
      : ((i >= 2 && i <= 4) && v0) ? 'few'
      : (!v0) ? 'many'
      : 'other';
},

cy: function(n, ord
) {
  if (ord) return ((n == 0 || n == 7 || n == 8
          || n == 9)) ? 'zero'
      : (n == 1) ? 'one'
      : (n == 2) ? 'two'
      : ((n == 3
          || n == 4)) ? 'few'
      : ((n == 5
          || n == 6)) ? 'many'
      : 'other';
  return (n == 0) ? 'zero'
      : (n == 1) ? 'one'
      : (n == 2) ? 'two'
      : (n == 3) ? 'few'
      : (n == 6) ? 'many'
      : 'other';
},

da: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], t0 = Number(s[0]) == n;
  if (ord) return 'other';
  return (n == 1 || !t0 && (i == 0
          || i == 1)) ? 'one' : 'other';
},

de: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1];
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

dsb: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1],
      i100 = i.slice(-2), f100 = f.slice(-2);
  if (ord) return 'other';
  return (v0 && i100 == 1
          || f100 == 1) ? 'one'
      : (v0 && i100 == 2
          || f100 == 2) ? 'two'
      : (v0 && (i100 == 3 || i100 == 4) || (f100 == 3
          || f100 == 4)) ? 'few'
      : 'other';
},

dv: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

dz: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

ee: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

el: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

en: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1], t0 = Number(s[0]) == n,
      n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2);
  if (ord) return (n10 == 1 && n100 != 11) ? 'one'
      : (n10 == 2 && n100 != 12) ? 'two'
      : (n10 == 3 && n100 != 13) ? 'few'
      : 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

eo: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

es: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

et: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1];
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

eu: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

fa: function(n, ord
) {
  if (ord) return 'other';
  return (n >= 0 && n <= 1) ? 'one' : 'other';
},

ff: function(n, ord
) {
  if (ord) return 'other';
  return (n >= 0 && n < 2) ? 'one' : 'other';
},

fi: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1];
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

fil: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1],
      i10 = i.slice(-1), f10 = f.slice(-1);
  if (ord) return (n == 1) ? 'one' : 'other';
  return (v0 && (i == 1 || i == 2 || i == 3)
          || v0 && i10 != 4 && i10 != 6 && i10 != 9
          || !v0 && f10 != 4 && f10 != 6 && f10 != 9) ? 'one' : 'other';
},

fo: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

fr: function(n, ord
) {
  if (ord) return (n == 1) ? 'one' : 'other';
  return (n >= 0 && n < 2) ? 'one' : 'other';
},

fur: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

fy: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1];
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

ga: function(n, ord
) {
  var s = String(n).split('.'), t0 = Number(s[0]) == n;
  if (ord) return (n == 1) ? 'one' : 'other';
  return (n == 1) ? 'one'
      : (n == 2) ? 'two'
      : ((t0 && n >= 3 && n <= 6)) ? 'few'
      : ((t0 && n >= 7 && n <= 10)) ? 'many'
      : 'other';
},

gd: function(n, ord
) {
  var s = String(n).split('.'), t0 = Number(s[0]) == n;
  if (ord) return ((n == 1
          || n == 11)) ? 'one'
      : ((n == 2
          || n == 12)) ? 'two'
      : ((n == 3
          || n == 13)) ? 'few'
      : 'other';
  return ((n == 1
          || n == 11)) ? 'one'
      : ((n == 2
          || n == 12)) ? 'two'
      : (((t0 && n >= 3 && n <= 10)
          || (t0 && n >= 13 && n <= 19))) ? 'few'
      : 'other';
},

gl: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1];
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

gsw: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

gu: function(n, ord
) {
  if (ord) return (n == 1) ? 'one'
      : ((n == 2
          || n == 3)) ? 'two'
      : (n == 4) ? 'few'
      : (n == 6) ? 'many'
      : 'other';
  return (n >= 0 && n <= 1) ? 'one' : 'other';
},

guw: function(n, ord
) {
  if (ord) return 'other';
  return ((n == 0
          || n == 1)) ? 'one' : 'other';
},

gv: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], v0 = !s[1], i10 = i.slice(-1),
      i100 = i.slice(-2);
  if (ord) return 'other';
  return (v0 && i10 == 1) ? 'one'
      : (v0 && i10 == 2) ? 'two'
      : (v0 && (i100 == 0 || i100 == 20 || i100 == 40 || i100 == 60
          || i100 == 80)) ? 'few'
      : (!v0) ? 'many'
      : 'other';
},

ha: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

haw: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

he: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], v0 = !s[1], t0 = Number(s[0]) == n,
      n10 = t0 && s[0].slice(-1);
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one'
      : (i == 2 && v0) ? 'two'
      : (v0 && (n < 0
          || n > 10) && t0 && n10 == 0) ? 'many'
      : 'other';
},

hi: function(n, ord
) {
  if (ord) return (n == 1) ? 'one'
      : ((n == 2
          || n == 3)) ? 'two'
      : (n == 4) ? 'few'
      : (n == 6) ? 'many'
      : 'other';
  return (n >= 0 && n <= 1) ? 'one' : 'other';
},

hr: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1],
      i10 = i.slice(-1), i100 = i.slice(-2), f10 = f.slice(-1), f100 = f.slice(-2);
  if (ord) return 'other';
  return (v0 && i10 == 1 && i100 != 11
          || f10 == 1 && f100 != 11) ? 'one'
      : (v0 && (i10 >= 2 && i10 <= 4) && (i100 < 12 || i100 > 14)
          || (f10 >= 2 && f10 <= 4) && (f100 < 12
          || f100 > 14)) ? 'few'
      : 'other';
},

hsb: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1],
      i100 = i.slice(-2), f100 = f.slice(-2);
  if (ord) return 'other';
  return (v0 && i100 == 1
          || f100 == 1) ? 'one'
      : (v0 && i100 == 2
          || f100 == 2) ? 'two'
      : (v0 && (i100 == 3 || i100 == 4) || (f100 == 3
          || f100 == 4)) ? 'few'
      : 'other';
},

hu: function(n, ord
) {
  if (ord) return ((n == 1
          || n == 5)) ? 'one' : 'other';
  return (n == 1) ? 'one' : 'other';
},

hy: function(n, ord
) {
  if (ord) return (n == 1) ? 'one' : 'other';
  return (n >= 0 && n < 2) ? 'one' : 'other';
},

ia: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1];
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

id: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

ig: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

ii: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

"in": function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

io: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1];
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

is: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], t0 = Number(s[0]) == n,
      i10 = i.slice(-1), i100 = i.slice(-2);
  if (ord) return 'other';
  return (t0 && i10 == 1 && i100 != 11
          || !t0) ? 'one' : 'other';
},

it: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1];
  if (ord) return ((n == 11 || n == 8 || n == 80
          || n == 800)) ? 'many' : 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

iu: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one'
      : (n == 2) ? 'two'
      : 'other';
},

iw: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], v0 = !s[1], t0 = Number(s[0]) == n,
      n10 = t0 && s[0].slice(-1);
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one'
      : (i == 2 && v0) ? 'two'
      : (v0 && (n < 0
          || n > 10) && t0 && n10 == 0) ? 'many'
      : 'other';
},

ja: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

jbo: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

jgo: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

ji: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1];
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

jmc: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

jv: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

jw: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

ka: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], i100 = i.slice(-2);
  if (ord) return (i == 1) ? 'one'
      : (i == 0 || ((i100 >= 2 && i100 <= 20) || i100 == 40 || i100 == 60
          || i100 == 80)) ? 'many'
      : 'other';
  return (n == 1) ? 'one' : 'other';
},

kab: function(n, ord
) {
  if (ord) return 'other';
  return (n >= 0 && n < 2) ? 'one' : 'other';
},

kaj: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

kcg: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

kde: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

kea: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

kk: function(n, ord
) {
  var s = String(n).split('.'), t0 = Number(s[0]) == n,
      n10 = t0 && s[0].slice(-1);
  if (ord) return (n10 == 6 || n10 == 9
          || t0 && n10 == 0 && n != 0) ? 'many' : 'other';
  return (n == 1) ? 'one' : 'other';
},

kkj: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

kl: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

km: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

kn: function(n, ord
) {
  if (ord) return 'other';
  return (n >= 0 && n <= 1) ? 'one' : 'other';
},

ko: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

ks: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

ksb: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

ksh: function(n, ord
) {
  if (ord) return 'other';
  return (n == 0) ? 'zero'
      : (n == 1) ? 'one'
      : 'other';
},

ku: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

kw: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one'
      : (n == 2) ? 'two'
      : 'other';
},

ky: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

lag: function(n, ord
) {
  var s = String(n).split('.'), i = s[0];
  if (ord) return 'other';
  return (n == 0) ? 'zero'
      : ((i == 0
          || i == 1) && n != 0) ? 'one'
      : 'other';
},

lb: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

lg: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

lkt: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

ln: function(n, ord
) {
  if (ord) return 'other';
  return ((n == 0
          || n == 1)) ? 'one' : 'other';
},

lo: function(n, ord
) {
  if (ord) return (n == 1) ? 'one' : 'other';
  return 'other';
},

lt: function(n, ord
) {
  var s = String(n).split('.'), f = s[1] || '', t0 = Number(s[0]) == n,
      n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2);
  if (ord) return 'other';
  return (n10 == 1 && (n100 < 11
          || n100 > 19)) ? 'one'
      : ((n10 >= 2 && n10 <= 9) && (n100 < 11
          || n100 > 19)) ? 'few'
      : (f != 0) ? 'many'
      : 'other';
},

lv: function(n, ord
) {
  var s = String(n).split('.'), f = s[1] || '', v = f.length,
      t0 = Number(s[0]) == n, n10 = t0 && s[0].slice(-1),
      n100 = t0 && s[0].slice(-2), f100 = f.slice(-2), f10 = f.slice(-1);
  if (ord) return 'other';
  return (t0 && n10 == 0 || (n100 >= 11 && n100 <= 19)
          || v == 2 && (f100 >= 11 && f100 <= 19)) ? 'zero'
      : (n10 == 1 && n100 != 11 || v == 2 && f10 == 1 && f100 != 11
          || v != 2 && f10 == 1) ? 'one'
      : 'other';
},

mas: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

mg: function(n, ord
) {
  if (ord) return 'other';
  return ((n == 0
          || n == 1)) ? 'one' : 'other';
},

mgo: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

mk: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1],
      i10 = i.slice(-1), i100 = i.slice(-2), f10 = f.slice(-1), f100 = f.slice(-2);
  if (ord) return (i10 == 1 && i100 != 11) ? 'one'
      : (i10 == 2 && i100 != 12) ? 'two'
      : ((i10 == 7
          || i10 == 8) && i100 != 17 && i100 != 18) ? 'many'
      : 'other';
  return (v0 && i10 == 1 && i100 != 11
          || f10 == 1 && f100 != 11) ? 'one' : 'other';
},

ml: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

mn: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

mo: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1], t0 = Number(s[0]) == n,
      n100 = t0 && s[0].slice(-2);
  if (ord) return (n == 1) ? 'one' : 'other';
  return (n == 1 && v0) ? 'one'
      : (!v0 || n == 0
          || n != 1 && (n100 >= 1 && n100 <= 19)) ? 'few'
      : 'other';
},

mr: function(n, ord
) {
  if (ord) return (n == 1) ? 'one'
      : ((n == 2
          || n == 3)) ? 'two'
      : (n == 4) ? 'few'
      : 'other';
  return (n >= 0 && n <= 1) ? 'one' : 'other';
},

ms: function(n, ord
) {
  if (ord) return (n == 1) ? 'one' : 'other';
  return 'other';
},

mt: function(n, ord
) {
  var s = String(n).split('.'), t0 = Number(s[0]) == n,
      n100 = t0 && s[0].slice(-2);
  if (ord) return 'other';
  return (n == 1) ? 'one'
      : (n == 0
          || (n100 >= 2 && n100 <= 10)) ? 'few'
      : ((n100 >= 11 && n100 <= 19)) ? 'many'
      : 'other';
},

my: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

nah: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

naq: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one'
      : (n == 2) ? 'two'
      : 'other';
},

nb: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

nd: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

ne: function(n, ord
) {
  var s = String(n).split('.'), t0 = Number(s[0]) == n;
  if (ord) return ((t0 && n >= 1 && n <= 4)) ? 'one' : 'other';
  return (n == 1) ? 'one' : 'other';
},

nl: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1];
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

nn: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

nnh: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

no: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

nqo: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

nr: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

nso: function(n, ord
) {
  if (ord) return 'other';
  return ((n == 0
          || n == 1)) ? 'one' : 'other';
},

ny: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

nyn: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

om: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

or: function(n, ord
) {
  var s = String(n).split('.'), t0 = Number(s[0]) == n;
  if (ord) return ((n == 1 || n == 5
          || (t0 && n >= 7 && n <= 9))) ? 'one'
      : ((n == 2
          || n == 3)) ? 'two'
      : (n == 4) ? 'few'
      : (n == 6) ? 'many'
      : 'other';
  return (n == 1) ? 'one' : 'other';
},

os: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

pa: function(n, ord
) {
  if (ord) return 'other';
  return ((n == 0
          || n == 1)) ? 'one' : 'other';
},

pap: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

pl: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], v0 = !s[1], i10 = i.slice(-1),
      i100 = i.slice(-2);
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one'
      : (v0 && (i10 >= 2 && i10 <= 4) && (i100 < 12
          || i100 > 14)) ? 'few'
      : (v0 && i != 1 && (i10 == 0 || i10 == 1)
          || v0 && (i10 >= 5 && i10 <= 9)
          || v0 && (i100 >= 12 && i100 <= 14)) ? 'many'
      : 'other';
},

prg: function(n, ord
) {
  var s = String(n).split('.'), f = s[1] || '', v = f.length,
      t0 = Number(s[0]) == n, n10 = t0 && s[0].slice(-1),
      n100 = t0 && s[0].slice(-2), f100 = f.slice(-2), f10 = f.slice(-1);
  if (ord) return 'other';
  return (t0 && n10 == 0 || (n100 >= 11 && n100 <= 19)
          || v == 2 && (f100 >= 11 && f100 <= 19)) ? 'zero'
      : (n10 == 1 && n100 != 11 || v == 2 && f10 == 1 && f100 != 11
          || v != 2 && f10 == 1) ? 'one'
      : 'other';
},

ps: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

pt: function(n, ord
) {
  var s = String(n).split('.'), i = s[0];
  if (ord) return 'other';
  return ((i == 0
          || i == 1)) ? 'one' : 'other';
},

"pt-PT": function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1];
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

rm: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

ro: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1], t0 = Number(s[0]) == n,
      n100 = t0 && s[0].slice(-2);
  if (ord) return (n == 1) ? 'one' : 'other';
  return (n == 1 && v0) ? 'one'
      : (!v0 || n == 0
          || n != 1 && (n100 >= 1 && n100 <= 19)) ? 'few'
      : 'other';
},

rof: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

root: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

ru: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], v0 = !s[1], i10 = i.slice(-1),
      i100 = i.slice(-2);
  if (ord) return 'other';
  return (v0 && i10 == 1 && i100 != 11) ? 'one'
      : (v0 && (i10 >= 2 && i10 <= 4) && (i100 < 12
          || i100 > 14)) ? 'few'
      : (v0 && i10 == 0 || v0 && (i10 >= 5 && i10 <= 9)
          || v0 && (i100 >= 11 && i100 <= 14)) ? 'many'
      : 'other';
},

rwk: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

sah: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

saq: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

sc: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1];
  if (ord) return ((n == 11 || n == 8 || n == 80
          || n == 800)) ? 'many' : 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

scn: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1];
  if (ord) return ((n == 11 || n == 8 || n == 80
          || n == 800)) ? 'many' : 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

sd: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

sdh: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

se: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one'
      : (n == 2) ? 'two'
      : 'other';
},

seh: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

ses: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

sg: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

sh: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1],
      i10 = i.slice(-1), i100 = i.slice(-2), f10 = f.slice(-1), f100 = f.slice(-2);
  if (ord) return 'other';
  return (v0 && i10 == 1 && i100 != 11
          || f10 == 1 && f100 != 11) ? 'one'
      : (v0 && (i10 >= 2 && i10 <= 4) && (i100 < 12 || i100 > 14)
          || (f10 >= 2 && f10 <= 4) && (f100 < 12
          || f100 > 14)) ? 'few'
      : 'other';
},

shi: function(n, ord
) {
  var s = String(n).split('.'), t0 = Number(s[0]) == n;
  if (ord) return 'other';
  return (n >= 0 && n <= 1) ? 'one'
      : ((t0 && n >= 2 && n <= 10)) ? 'few'
      : 'other';
},

si: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], f = s[1] || '';
  if (ord) return 'other';
  return ((n == 0 || n == 1)
          || i == 0 && f == 1) ? 'one' : 'other';
},

sk: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], v0 = !s[1];
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one'
      : ((i >= 2 && i <= 4) && v0) ? 'few'
      : (!v0) ? 'many'
      : 'other';
},

sl: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], v0 = !s[1], i100 = i.slice(-2);
  if (ord) return 'other';
  return (v0 && i100 == 1) ? 'one'
      : (v0 && i100 == 2) ? 'two'
      : (v0 && (i100 == 3 || i100 == 4)
          || !v0) ? 'few'
      : 'other';
},

sma: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one'
      : (n == 2) ? 'two'
      : 'other';
},

smi: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one'
      : (n == 2) ? 'two'
      : 'other';
},

smj: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one'
      : (n == 2) ? 'two'
      : 'other';
},

smn: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one'
      : (n == 2) ? 'two'
      : 'other';
},

sms: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one'
      : (n == 2) ? 'two'
      : 'other';
},

sn: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

so: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

sq: function(n, ord
) {
  var s = String(n).split('.'), t0 = Number(s[0]) == n,
      n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2);
  if (ord) return (n == 1) ? 'one'
      : (n10 == 4 && n100 != 14) ? 'many'
      : 'other';
  return (n == 1) ? 'one' : 'other';
},

sr: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1],
      i10 = i.slice(-1), i100 = i.slice(-2), f10 = f.slice(-1), f100 = f.slice(-2);
  if (ord) return 'other';
  return (v0 && i10 == 1 && i100 != 11
          || f10 == 1 && f100 != 11) ? 'one'
      : (v0 && (i10 >= 2 && i10 <= 4) && (i100 < 12 || i100 > 14)
          || (f10 >= 2 && f10 <= 4) && (f100 < 12
          || f100 > 14)) ? 'few'
      : 'other';
},

ss: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

ssy: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

st: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

sv: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1], t0 = Number(s[0]) == n,
      n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2);
  if (ord) return ((n10 == 1
          || n10 == 2) && n100 != 11 && n100 != 12) ? 'one' : 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

sw: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1];
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

syr: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

ta: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

te: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

teo: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

th: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

ti: function(n, ord
) {
  if (ord) return 'other';
  return ((n == 0
          || n == 1)) ? 'one' : 'other';
},

tig: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

tk: function(n, ord
) {
  var s = String(n).split('.'), t0 = Number(s[0]) == n,
      n10 = t0 && s[0].slice(-1);
  if (ord) return ((n10 == 6 || n10 == 9)
          || n == 10) ? 'few' : 'other';
  return (n == 1) ? 'one' : 'other';
},

tl: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1],
      i10 = i.slice(-1), f10 = f.slice(-1);
  if (ord) return (n == 1) ? 'one' : 'other';
  return (v0 && (i == 1 || i == 2 || i == 3)
          || v0 && i10 != 4 && i10 != 6 && i10 != 9
          || !v0 && f10 != 4 && f10 != 6 && f10 != 9) ? 'one' : 'other';
},

tn: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

to: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

tr: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

ts: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

tzm: function(n, ord
) {
  var s = String(n).split('.'), t0 = Number(s[0]) == n;
  if (ord) return 'other';
  return ((n == 0 || n == 1)
          || (t0 && n >= 11 && n <= 99)) ? 'one' : 'other';
},

ug: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

uk: function(n, ord
) {
  var s = String(n).split('.'), i = s[0], v0 = !s[1], t0 = Number(s[0]) == n,
      n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2), i10 = i.slice(-1),
      i100 = i.slice(-2);
  if (ord) return (n10 == 3 && n100 != 13) ? 'few' : 'other';
  return (v0 && i10 == 1 && i100 != 11) ? 'one'
      : (v0 && (i10 >= 2 && i10 <= 4) && (i100 < 12
          || i100 > 14)) ? 'few'
      : (v0 && i10 == 0 || v0 && (i10 >= 5 && i10 <= 9)
          || v0 && (i100 >= 11 && i100 <= 14)) ? 'many'
      : 'other';
},

ur: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1];
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

uz: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

ve: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

vi: function(n, ord
) {
  if (ord) return (n == 1) ? 'one' : 'other';
  return 'other';
},

vo: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

vun: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

wa: function(n, ord
) {
  if (ord) return 'other';
  return ((n == 0
          || n == 1)) ? 'one' : 'other';
},

wae: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

wo: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

xh: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

xog: function(n, ord
) {
  if (ord) return 'other';
  return (n == 1) ? 'one' : 'other';
},

yi: function(n, ord
) {
  var s = String(n).split('.'), v0 = !s[1];
  if (ord) return 'other';
  return (n == 1 && v0) ? 'one' : 'other';
},

yo: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

yue: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

zh: function(n, ord
) {
  if (ord) return 'other';
  return 'other';
},

zu: function(n, ord
) {
  if (ord) return 'other';
  return (n >= 0 && n <= 1) ? 'one' : 'other';
}
}));


/***/ }),

/***/ "./node_modules/messageformat-parser/parser.js":
/*!*****************************************************!*\
  !*** ./node_modules/messageformat-parser/parser.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/*
 * Generated by PEG.js 0.10.0.
 *
 * http://pegjs.org/
 */



function peg$subclass(child, parent) {
  function ctor() { this.constructor = child; }
  ctor.prototype = parent.prototype;
  child.prototype = new ctor();
}

function peg$SyntaxError(message, expected, found, location) {
  this.message  = message;
  this.expected = expected;
  this.found    = found;
  this.location = location;
  this.name     = "SyntaxError";

  if (typeof Error.captureStackTrace === "function") {
    Error.captureStackTrace(this, peg$SyntaxError);
  }
}

peg$subclass(peg$SyntaxError, Error);

peg$SyntaxError.buildMessage = function(expected, found) {
  var DESCRIBE_EXPECTATION_FNS = {
        literal: function(expectation) {
          return "\"" + literalEscape(expectation.text) + "\"";
        },

        "class": function(expectation) {
          var escapedParts = "",
              i;

          for (i = 0; i < expectation.parts.length; i++) {
            escapedParts += expectation.parts[i] instanceof Array
              ? classEscape(expectation.parts[i][0]) + "-" + classEscape(expectation.parts[i][1])
              : classEscape(expectation.parts[i]);
          }

          return "[" + (expectation.inverted ? "^" : "") + escapedParts + "]";
        },

        any: function(expectation) {
          return "any character";
        },

        end: function(expectation) {
          return "end of input";
        },

        other: function(expectation) {
          return expectation.description;
        }
      };

  function hex(ch) {
    return ch.charCodeAt(0).toString(16).toUpperCase();
  }

  function literalEscape(s) {
    return s
      .replace(/\\/g, '\\\\')
      .replace(/"/g,  '\\"')
      .replace(/\0/g, '\\0')
      .replace(/\t/g, '\\t')
      .replace(/\n/g, '\\n')
      .replace(/\r/g, '\\r')
      .replace(/[\x00-\x0F]/g,          function(ch) { return '\\x0' + hex(ch); })
      .replace(/[\x10-\x1F\x7F-\x9F]/g, function(ch) { return '\\x'  + hex(ch); });
  }

  function classEscape(s) {
    return s
      .replace(/\\/g, '\\\\')
      .replace(/\]/g, '\\]')
      .replace(/\^/g, '\\^')
      .replace(/-/g,  '\\-')
      .replace(/\0/g, '\\0')
      .replace(/\t/g, '\\t')
      .replace(/\n/g, '\\n')
      .replace(/\r/g, '\\r')
      .replace(/[\x00-\x0F]/g,          function(ch) { return '\\x0' + hex(ch); })
      .replace(/[\x10-\x1F\x7F-\x9F]/g, function(ch) { return '\\x'  + hex(ch); });
  }

  function describeExpectation(expectation) {
    return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation);
  }

  function describeExpected(expected) {
    var descriptions = new Array(expected.length),
        i, j;

    for (i = 0; i < expected.length; i++) {
      descriptions[i] = describeExpectation(expected[i]);
    }

    descriptions.sort();

    if (descriptions.length > 0) {
      for (i = 1, j = 1; i < descriptions.length; i++) {
        if (descriptions[i - 1] !== descriptions[i]) {
          descriptions[j] = descriptions[i];
          j++;
        }
      }
      descriptions.length = j;
    }

    switch (descriptions.length) {
      case 1:
        return descriptions[0];

      case 2:
        return descriptions[0] + " or " + descriptions[1];

      default:
        return descriptions.slice(0, -1).join(", ")
          + ", or "
          + descriptions[descriptions.length - 1];
    }
  }

  function describeFound(found) {
    return found ? "\"" + literalEscape(found) + "\"" : "end of input";
  }

  return "Expected " + describeExpected(expected) + " but " + describeFound(found) + " found.";
};

function peg$parse(input, options) {
  options = options !== void 0 ? options : {};

  var peg$FAILED = {},

      peg$startRuleFunctions = { start: peg$parsestart },
      peg$startRuleFunction  = peg$parsestart,

      peg$c0 = "#",
      peg$c1 = peg$literalExpectation("#", false),
      peg$c2 = function() { return inPlural[0]; },
      peg$c3 = function() { return { type: 'octothorpe' }; },
      peg$c4 = function(str) { return str.join(''); },
      peg$c5 = "{",
      peg$c6 = peg$literalExpectation("{", false),
      peg$c7 = "}",
      peg$c8 = peg$literalExpectation("}", false),
      peg$c9 = function(arg) {
          return {
            type: 'argument',
            arg: arg
          };
        },
      peg$c10 = ",",
      peg$c11 = peg$literalExpectation(",", false),
      peg$c12 = "select",
      peg$c13 = peg$literalExpectation("select", false),
      peg$c14 = function(arg, m) { if (options.strict) { inPlural.unshift(false); } return m; },
      peg$c15 = function(arg, cases) {
          if (options.strict) inPlural.shift()
          return {
            type: 'select',
            arg: arg,
            cases: cases
          };
        },
      peg$c16 = "plural",
      peg$c17 = peg$literalExpectation("plural", false),
      peg$c18 = "selectordinal",
      peg$c19 = peg$literalExpectation("selectordinal", false),
      peg$c20 = function(arg, m) { inPlural.unshift(true); return m; },
      peg$c21 = function(arg, type, offset, cases) {
          var ls = ((type === 'selectordinal') ? options.ordinal : options.cardinal)
                   || ['zero', 'one', 'two', 'few', 'many', 'other'];
          if (ls && ls.length) cases.forEach(function(c) {
            if (isNaN(c.key) && ls.indexOf(c.key) < 0) throw new Error(
              'Invalid key `' + c.key + '` for argument `' + arg + '`.' +
              ' Valid ' + type + ' keys for this locale are `' + ls.join('`, `') +
              '`, and explicit keys like `=0`.');
          });
          inPlural.shift()
          return {
            type: type,
            arg: arg,
            offset: offset || 0,
            cases: cases
          };
        },
      peg$c22 = function(arg, key, param) {
          return {
            type: 'function',
            arg: arg,
            key: key,
            param: param
          };
        },
      peg$c23 = peg$otherExpectation("identifier"),
      peg$c24 = /^[^\t-\r \x85\u200E\u200F\u2028\u2029!-\/:-@[-\^`{-~\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u2010-\u2027\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46]/,
      peg$c25 = peg$classExpectation([["\t", "\r"], " ", "\x85", "\u200E", "\u200F", "\u2028", "\u2029", ["!", "/"], [":", "@"], ["[", "^"], "`", ["{", "~"], ["\xA1", "\xA7"], "\xA9", "\xAB", "\xAC", "\xAE", "\xB0", "\xB1", "\xB6", "\xBB", "\xBF", "\xD7", "\xF7", ["\u2010", "\u2027"], ["\u2030", "\u203E"], ["\u2041", "\u2053"], ["\u2055", "\u205E"], ["\u2190", "\u245F"], ["\u2500", "\u2775"], ["\u2794", "\u2BFF"], ["\u2E00", "\u2E7F"], ["\u3001", "\u3003"], ["\u3008", "\u3020"], "\u3030", "\uFD3E", "\uFD3F", "\uFE45", "\uFE46"], true, false),
      peg$c26 = function(key, tokens) { return { key: key, tokens: tokens }; },
      peg$c27 = function(tokens) { return tokens; },
      peg$c28 = peg$otherExpectation("plural offset"),
      peg$c29 = "offset",
      peg$c30 = peg$literalExpectation("offset", false),
      peg$c31 = ":",
      peg$c32 = peg$literalExpectation(":", false),
      peg$c33 = function(d) { return d; },
      peg$c34 = "=",
      peg$c35 = peg$literalExpectation("=", false),
      peg$c36 = "number",
      peg$c37 = peg$literalExpectation("number", false),
      peg$c38 = "date",
      peg$c39 = peg$literalExpectation("date", false),
      peg$c40 = "time",
      peg$c41 = peg$literalExpectation("time", false),
      peg$c42 = "spellout",
      peg$c43 = peg$literalExpectation("spellout", false),
      peg$c44 = "ordinal",
      peg$c45 = peg$literalExpectation("ordinal", false),
      peg$c46 = "duration",
      peg$c47 = peg$literalExpectation("duration", false),
      peg$c48 = function(key) {
            if (options.strict || /^\d/.test(key)) return false
            switch (key.toLowerCase()) {
              case 'select':
              case 'plural':
              case 'selectordinal':
                return false
              default:
                return true
            }
          },
      peg$c49 = function(key) { return key },
      peg$c50 = function(tokens) { return !options.strict },
      peg$c51 = function(tokens) { return { tokens: tokens } },
      peg$c52 = function(parts) { return { tokens: [parts.join('')] } },
      peg$c53 = peg$otherExpectation("a valid (strict) function parameter"),
      peg$c54 = /^[^'{}]/,
      peg$c55 = peg$classExpectation(["'", "{", "}"], true, false),
      peg$c56 = function(p) { return p.join('') },
      peg$c57 = "'",
      peg$c58 = peg$literalExpectation("'", false),
      peg$c59 = function(quoted) { return quoted },
      peg$c60 = function(p) { return '{' + p.join('') + '}' },
      peg$c61 = peg$otherExpectation("doubled apostrophe"),
      peg$c62 = "''",
      peg$c63 = peg$literalExpectation("''", false),
      peg$c64 = function() { return "'"; },
      peg$c65 = /^[^']/,
      peg$c66 = peg$classExpectation(["'"], true, false),
      peg$c67 = "'{",
      peg$c68 = peg$literalExpectation("'{", false),
      peg$c69 = function(str) { return '\u007B'+str.join(''); },
      peg$c70 = "'}",
      peg$c71 = peg$literalExpectation("'}", false),
      peg$c72 = function(str) { return '\u007D'+str.join(''); },
      peg$c73 = peg$otherExpectation("escaped string"),
      peg$c74 = "'#",
      peg$c75 = peg$literalExpectation("'#", false),
      peg$c76 = function(str) { return "#"+str.join(''); },
      peg$c77 = function(quotedOcto) { return quotedOcto[0]; },
      peg$c78 = peg$otherExpectation("plain char"),
      peg$c79 = /^[^{}#\0-\x08\x0E-\x1F\x7F]/,
      peg$c80 = peg$classExpectation(["{", "}", "#", ["\0", "\b"], ["\x0E", "\x1F"], "\x7F"], true, false),
      peg$c81 = function(octo) { return !inPlural[0]; },
      peg$c82 = function(octo) { return octo; },
      peg$c83 = peg$otherExpectation("integer"),
      peg$c84 = /^[0-9]/,
      peg$c85 = peg$classExpectation([["0", "9"]], false, false),
      peg$c86 = peg$otherExpectation("white space"),
      peg$c87 = /^[\t-\r \x85\u200E\u200F\u2028\u2029]/,
      peg$c88 = peg$classExpectation([["\t", "\r"], " ", "\x85", "\u200E", "\u200F", "\u2028", "\u2029"], false, false),

      peg$currPos          = 0,
      peg$savedPos         = 0,
      peg$posDetailsCache  = [{ line: 1, column: 1 }],
      peg$maxFailPos       = 0,
      peg$maxFailExpected  = [],
      peg$silentFails      = 0,

      peg$result;

  if ("startRule" in options) {
    if (!(options.startRule in peg$startRuleFunctions)) {
      throw new Error("Can't start parsing from rule \"" + options.startRule + "\".");
    }

    peg$startRuleFunction = peg$startRuleFunctions[options.startRule];
  }

  function text() {
    return input.substring(peg$savedPos, peg$currPos);
  }

  function location() {
    return peg$computeLocation(peg$savedPos, peg$currPos);
  }

  function expected(description, location) {
    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)

    throw peg$buildStructuredError(
      [peg$otherExpectation(description)],
      input.substring(peg$savedPos, peg$currPos),
      location
    );
  }

  function error(message, location) {
    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)

    throw peg$buildSimpleError(message, location);
  }

  function peg$literalExpectation(text, ignoreCase) {
    return { type: "literal", text: text, ignoreCase: ignoreCase };
  }

  function peg$classExpectation(parts, inverted, ignoreCase) {
    return { type: "class", parts: parts, inverted: inverted, ignoreCase: ignoreCase };
  }

  function peg$anyExpectation() {
    return { type: "any" };
  }

  function peg$endExpectation() {
    return { type: "end" };
  }

  function peg$otherExpectation(description) {
    return { type: "other", description: description };
  }

  function peg$computePosDetails(pos) {
    var details = peg$posDetailsCache[pos], p;

    if (details) {
      return details;
    } else {
      p = pos - 1;
      while (!peg$posDetailsCache[p]) {
        p--;
      }

      details = peg$posDetailsCache[p];
      details = {
        line:   details.line,
        column: details.column
      };

      while (p < pos) {
        if (input.charCodeAt(p) === 10) {
          details.line++;
          details.column = 1;
        } else {
          details.column++;
        }

        p++;
      }

      peg$posDetailsCache[pos] = details;
      return details;
    }
  }

  function peg$computeLocation(startPos, endPos) {
    var startPosDetails = peg$computePosDetails(startPos),
        endPosDetails   = peg$computePosDetails(endPos);

    return {
      start: {
        offset: startPos,
        line:   startPosDetails.line,
        column: startPosDetails.column
      },
      end: {
        offset: endPos,
        line:   endPosDetails.line,
        column: endPosDetails.column
      }
    };
  }

  function peg$fail(expected) {
    if (peg$currPos < peg$maxFailPos) { return; }

    if (peg$currPos > peg$maxFailPos) {
      peg$maxFailPos = peg$currPos;
      peg$maxFailExpected = [];
    }

    peg$maxFailExpected.push(expected);
  }

  function peg$buildSimpleError(message, location) {
    return new peg$SyntaxError(message, null, null, location);
  }

  function peg$buildStructuredError(expected, found, location) {
    return new peg$SyntaxError(
      peg$SyntaxError.buildMessage(expected, found),
      expected,
      found,
      location
    );
  }

  function peg$parsestart() {
    var s0, s1;

    s0 = [];
    s1 = peg$parsetoken();
    while (s1 !== peg$FAILED) {
      s0.push(s1);
      s1 = peg$parsetoken();
    }

    return s0;
  }

  function peg$parsetoken() {
    var s0, s1, s2;

    s0 = peg$parseargument();
    if (s0 === peg$FAILED) {
      s0 = peg$parseselect();
      if (s0 === peg$FAILED) {
        s0 = peg$parseplural();
        if (s0 === peg$FAILED) {
          s0 = peg$parsefunction();
          if (s0 === peg$FAILED) {
            s0 = peg$currPos;
            if (input.charCodeAt(peg$currPos) === 35) {
              s1 = peg$c0;
              peg$currPos++;
            } else {
              s1 = peg$FAILED;
              if (peg$silentFails === 0) { peg$fail(peg$c1); }
            }
            if (s1 !== peg$FAILED) {
              peg$savedPos = peg$currPos;
              s2 = peg$c2();
              if (s2) {
                s2 = void 0;
              } else {
                s2 = peg$FAILED;
              }
              if (s2 !== peg$FAILED) {
                peg$savedPos = s0;
                s1 = peg$c3();
                s0 = s1;
              } else {
                peg$currPos = s0;
                s0 = peg$FAILED;
              }
            } else {
              peg$currPos = s0;
              s0 = peg$FAILED;
            }
            if (s0 === peg$FAILED) {
              s0 = peg$currPos;
              s1 = [];
              s2 = peg$parsechar();
              if (s2 !== peg$FAILED) {
                while (s2 !== peg$FAILED) {
                  s1.push(s2);
                  s2 = peg$parsechar();
                }
              } else {
                s1 = peg$FAILED;
              }
              if (s1 !== peg$FAILED) {
                peg$savedPos = s0;
                s1 = peg$c4(s1);
              }
              s0 = s1;
            }
          }
        }
      }
    }

    return s0;
  }

  function peg$parseargument() {
    var s0, s1, s2, s3, s4, s5;

    s0 = peg$currPos;
    if (input.charCodeAt(peg$currPos) === 123) {
      s1 = peg$c5;
      peg$currPos++;
    } else {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c6); }
    }
    if (s1 !== peg$FAILED) {
      s2 = peg$parse_();
      if (s2 !== peg$FAILED) {
        s3 = peg$parseid();
        if (s3 !== peg$FAILED) {
          s4 = peg$parse_();
          if (s4 !== peg$FAILED) {
            if (input.charCodeAt(peg$currPos) === 125) {
              s5 = peg$c7;
              peg$currPos++;
            } else {
              s5 = peg$FAILED;
              if (peg$silentFails === 0) { peg$fail(peg$c8); }
            }
            if (s5 !== peg$FAILED) {
              peg$savedPos = s0;
              s1 = peg$c9(s3);
              s0 = s1;
            } else {
              peg$currPos = s0;
              s0 = peg$FAILED;
            }
          } else {
            peg$currPos = s0;
            s0 = peg$FAILED;
          }
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }

    return s0;
  }

  function peg$parseselect() {
    var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10, s11, s12, s13;

    s0 = peg$currPos;
    if (input.charCodeAt(peg$currPos) === 123) {
      s1 = peg$c5;
      peg$currPos++;
    } else {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c6); }
    }
    if (s1 !== peg$FAILED) {
      s2 = peg$parse_();
      if (s2 !== peg$FAILED) {
        s3 = peg$parseid();
        if (s3 !== peg$FAILED) {
          s4 = peg$parse_();
          if (s4 !== peg$FAILED) {
            if (input.charCodeAt(peg$currPos) === 44) {
              s5 = peg$c10;
              peg$currPos++;
            } else {
              s5 = peg$FAILED;
              if (peg$silentFails === 0) { peg$fail(peg$c11); }
            }
            if (s5 !== peg$FAILED) {
              s6 = peg$parse_();
              if (s6 !== peg$FAILED) {
                s7 = peg$currPos;
                if (input.substr(peg$currPos, 6) === peg$c12) {
                  s8 = peg$c12;
                  peg$currPos += 6;
                } else {
                  s8 = peg$FAILED;
                  if (peg$silentFails === 0) { peg$fail(peg$c13); }
                }
                if (s8 !== peg$FAILED) {
                  peg$savedPos = s7;
                  s8 = peg$c14(s3, s8);
                }
                s7 = s8;
                if (s7 !== peg$FAILED) {
                  s8 = peg$parse_();
                  if (s8 !== peg$FAILED) {
                    if (input.charCodeAt(peg$currPos) === 44) {
                      s9 = peg$c10;
                      peg$currPos++;
                    } else {
                      s9 = peg$FAILED;
                      if (peg$silentFails === 0) { peg$fail(peg$c11); }
                    }
                    if (s9 !== peg$FAILED) {
                      s10 = peg$parse_();
                      if (s10 !== peg$FAILED) {
                        s11 = [];
                        s12 = peg$parseselectCase();
                        if (s12 !== peg$FAILED) {
                          while (s12 !== peg$FAILED) {
                            s11.push(s12);
                            s12 = peg$parseselectCase();
                          }
                        } else {
                          s11 = peg$FAILED;
                        }
                        if (s11 !== peg$FAILED) {
                          s12 = peg$parse_();
                          if (s12 !== peg$FAILED) {
                            if (input.charCodeAt(peg$currPos) === 125) {
                              s13 = peg$c7;
                              peg$currPos++;
                            } else {
                              s13 = peg$FAILED;
                              if (peg$silentFails === 0) { peg$fail(peg$c8); }
                            }
                            if (s13 !== peg$FAILED) {
                              peg$savedPos = s0;
                              s1 = peg$c15(s3, s11);
                              s0 = s1;
                            } else {
                              peg$currPos = s0;
                              s0 = peg$FAILED;
                            }
                          } else {
                            peg$currPos = s0;
                            s0 = peg$FAILED;
                          }
                        } else {
                          peg$currPos = s0;
                          s0 = peg$FAILED;
                        }
                      } else {
                        peg$currPos = s0;
                        s0 = peg$FAILED;
                      }
                    } else {
                      peg$currPos = s0;
                      s0 = peg$FAILED;
                    }
                  } else {
                    peg$currPos = s0;
                    s0 = peg$FAILED;
                  }
                } else {
                  peg$currPos = s0;
                  s0 = peg$FAILED;
                }
              } else {
                peg$currPos = s0;
                s0 = peg$FAILED;
              }
            } else {
              peg$currPos = s0;
              s0 = peg$FAILED;
            }
          } else {
            peg$currPos = s0;
            s0 = peg$FAILED;
          }
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }

    return s0;
  }

  function peg$parseplural() {
    var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10, s11, s12, s13, s14;

    s0 = peg$currPos;
    if (input.charCodeAt(peg$currPos) === 123) {
      s1 = peg$c5;
      peg$currPos++;
    } else {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c6); }
    }
    if (s1 !== peg$FAILED) {
      s2 = peg$parse_();
      if (s2 !== peg$FAILED) {
        s3 = peg$parseid();
        if (s3 !== peg$FAILED) {
          s4 = peg$parse_();
          if (s4 !== peg$FAILED) {
            if (input.charCodeAt(peg$currPos) === 44) {
              s5 = peg$c10;
              peg$currPos++;
            } else {
              s5 = peg$FAILED;
              if (peg$silentFails === 0) { peg$fail(peg$c11); }
            }
            if (s5 !== peg$FAILED) {
              s6 = peg$parse_();
              if (s6 !== peg$FAILED) {
                s7 = peg$currPos;
                if (input.substr(peg$currPos, 6) === peg$c16) {
                  s8 = peg$c16;
                  peg$currPos += 6;
                } else {
                  s8 = peg$FAILED;
                  if (peg$silentFails === 0) { peg$fail(peg$c17); }
                }
                if (s8 === peg$FAILED) {
                  if (input.substr(peg$currPos, 13) === peg$c18) {
                    s8 = peg$c18;
                    peg$currPos += 13;
                  } else {
                    s8 = peg$FAILED;
                    if (peg$silentFails === 0) { peg$fail(peg$c19); }
                  }
                }
                if (s8 !== peg$FAILED) {
                  peg$savedPos = s7;
                  s8 = peg$c20(s3, s8);
                }
                s7 = s8;
                if (s7 !== peg$FAILED) {
                  s8 = peg$parse_();
                  if (s8 !== peg$FAILED) {
                    if (input.charCodeAt(peg$currPos) === 44) {
                      s9 = peg$c10;
                      peg$currPos++;
                    } else {
                      s9 = peg$FAILED;
                      if (peg$silentFails === 0) { peg$fail(peg$c11); }
                    }
                    if (s9 !== peg$FAILED) {
                      s10 = peg$parse_();
                      if (s10 !== peg$FAILED) {
                        s11 = peg$parseoffset();
                        if (s11 === peg$FAILED) {
                          s11 = null;
                        }
                        if (s11 !== peg$FAILED) {
                          s12 = [];
                          s13 = peg$parsepluralCase();
                          if (s13 !== peg$FAILED) {
                            while (s13 !== peg$FAILED) {
                              s12.push(s13);
                              s13 = peg$parsepluralCase();
                            }
                          } else {
                            s12 = peg$FAILED;
                          }
                          if (s12 !== peg$FAILED) {
                            s13 = peg$parse_();
                            if (s13 !== peg$FAILED) {
                              if (input.charCodeAt(peg$currPos) === 125) {
                                s14 = peg$c7;
                                peg$currPos++;
                              } else {
                                s14 = peg$FAILED;
                                if (peg$silentFails === 0) { peg$fail(peg$c8); }
                              }
                              if (s14 !== peg$FAILED) {
                                peg$savedPos = s0;
                                s1 = peg$c21(s3, s7, s11, s12);
                                s0 = s1;
                              } else {
                                peg$currPos = s0;
                                s0 = peg$FAILED;
                              }
                            } else {
                              peg$currPos = s0;
                              s0 = peg$FAILED;
                            }
                          } else {
                            peg$currPos = s0;
                            s0 = peg$FAILED;
                          }
                        } else {
                          peg$currPos = s0;
                          s0 = peg$FAILED;
                        }
                      } else {
                        peg$currPos = s0;
                        s0 = peg$FAILED;
                      }
                    } else {
                      peg$currPos = s0;
                      s0 = peg$FAILED;
                    }
                  } else {
                    peg$currPos = s0;
                    s0 = peg$FAILED;
                  }
                } else {
                  peg$currPos = s0;
                  s0 = peg$FAILED;
                }
              } else {
                peg$currPos = s0;
                s0 = peg$FAILED;
              }
            } else {
              peg$currPos = s0;
              s0 = peg$FAILED;
            }
          } else {
            peg$currPos = s0;
            s0 = peg$FAILED;
          }
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }

    return s0;
  }

  function peg$parsefunction() {
    var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10;

    s0 = peg$currPos;
    if (input.charCodeAt(peg$currPos) === 123) {
      s1 = peg$c5;
      peg$currPos++;
    } else {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c6); }
    }
    if (s1 !== peg$FAILED) {
      s2 = peg$parse_();
      if (s2 !== peg$FAILED) {
        s3 = peg$parseid();
        if (s3 !== peg$FAILED) {
          s4 = peg$parse_();
          if (s4 !== peg$FAILED) {
            if (input.charCodeAt(peg$currPos) === 44) {
              s5 = peg$c10;
              peg$currPos++;
            } else {
              s5 = peg$FAILED;
              if (peg$silentFails === 0) { peg$fail(peg$c11); }
            }
            if (s5 !== peg$FAILED) {
              s6 = peg$parse_();
              if (s6 !== peg$FAILED) {
                s7 = peg$parsefunctionKey();
                if (s7 !== peg$FAILED) {
                  s8 = peg$parse_();
                  if (s8 !== peg$FAILED) {
                    s9 = peg$parsefunctionParam();
                    if (s9 === peg$FAILED) {
                      s9 = null;
                    }
                    if (s9 !== peg$FAILED) {
                      if (input.charCodeAt(peg$currPos) === 125) {
                        s10 = peg$c7;
                        peg$currPos++;
                      } else {
                        s10 = peg$FAILED;
                        if (peg$silentFails === 0) { peg$fail(peg$c8); }
                      }
                      if (s10 !== peg$FAILED) {
                        peg$savedPos = s0;
                        s1 = peg$c22(s3, s7, s9);
                        s0 = s1;
                      } else {
                        peg$currPos = s0;
                        s0 = peg$FAILED;
                      }
                    } else {
                      peg$currPos = s0;
                      s0 = peg$FAILED;
                    }
                  } else {
                    peg$currPos = s0;
                    s0 = peg$FAILED;
                  }
                } else {
                  peg$currPos = s0;
                  s0 = peg$FAILED;
                }
              } else {
                peg$currPos = s0;
                s0 = peg$FAILED;
              }
            } else {
              peg$currPos = s0;
              s0 = peg$FAILED;
            }
          } else {
            peg$currPos = s0;
            s0 = peg$FAILED;
          }
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }

    return s0;
  }

  function peg$parseid() {
    var s0, s1, s2;

    peg$silentFails++;
    s0 = peg$currPos;
    s1 = [];
    if (peg$c24.test(input.charAt(peg$currPos))) {
      s2 = input.charAt(peg$currPos);
      peg$currPos++;
    } else {
      s2 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c25); }
    }
    if (s2 !== peg$FAILED) {
      while (s2 !== peg$FAILED) {
        s1.push(s2);
        if (peg$c24.test(input.charAt(peg$currPos))) {
          s2 = input.charAt(peg$currPos);
          peg$currPos++;
        } else {
          s2 = peg$FAILED;
          if (peg$silentFails === 0) { peg$fail(peg$c25); }
        }
      }
    } else {
      s1 = peg$FAILED;
    }
    if (s1 !== peg$FAILED) {
      s0 = input.substring(s0, peg$currPos);
    } else {
      s0 = s1;
    }
    peg$silentFails--;
    if (s0 === peg$FAILED) {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c23); }
    }

    return s0;
  }

  function peg$parseselectCase() {
    var s0, s1, s2, s3, s4;

    s0 = peg$currPos;
    s1 = peg$parse_();
    if (s1 !== peg$FAILED) {
      s2 = peg$parseid();
      if (s2 !== peg$FAILED) {
        s3 = peg$parse_();
        if (s3 !== peg$FAILED) {
          s4 = peg$parsecaseTokens();
          if (s4 !== peg$FAILED) {
            peg$savedPos = s0;
            s1 = peg$c26(s2, s4);
            s0 = s1;
          } else {
            peg$currPos = s0;
            s0 = peg$FAILED;
          }
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }

    return s0;
  }

  function peg$parsepluralCase() {
    var s0, s1, s2, s3, s4;

    s0 = peg$currPos;
    s1 = peg$parse_();
    if (s1 !== peg$FAILED) {
      s2 = peg$parsepluralKey();
      if (s2 !== peg$FAILED) {
        s3 = peg$parse_();
        if (s3 !== peg$FAILED) {
          s4 = peg$parsecaseTokens();
          if (s4 !== peg$FAILED) {
            peg$savedPos = s0;
            s1 = peg$c26(s2, s4);
            s0 = s1;
          } else {
            peg$currPos = s0;
            s0 = peg$FAILED;
          }
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }

    return s0;
  }

  function peg$parsecaseTokens() {
    var s0, s1, s2, s3, s4, s5;

    s0 = peg$currPos;
    if (input.charCodeAt(peg$currPos) === 123) {
      s1 = peg$c5;
      peg$currPos++;
    } else {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c6); }
    }
    if (s1 !== peg$FAILED) {
      s2 = peg$currPos;
      s3 = peg$parse_();
      if (s3 !== peg$FAILED) {
        s4 = peg$currPos;
        peg$silentFails++;
        if (input.charCodeAt(peg$currPos) === 123) {
          s5 = peg$c5;
          peg$currPos++;
        } else {
          s5 = peg$FAILED;
          if (peg$silentFails === 0) { peg$fail(peg$c6); }
        }
        peg$silentFails--;
        if (s5 !== peg$FAILED) {
          peg$currPos = s4;
          s4 = void 0;
        } else {
          s4 = peg$FAILED;
        }
        if (s4 !== peg$FAILED) {
          s3 = [s3, s4];
          s2 = s3;
        } else {
          peg$currPos = s2;
          s2 = peg$FAILED;
        }
      } else {
        peg$currPos = s2;
        s2 = peg$FAILED;
      }
      if (s2 === peg$FAILED) {
        s2 = null;
      }
      if (s2 !== peg$FAILED) {
        s3 = [];
        s4 = peg$parsetoken();
        while (s4 !== peg$FAILED) {
          s3.push(s4);
          s4 = peg$parsetoken();
        }
        if (s3 !== peg$FAILED) {
          s4 = peg$parse_();
          if (s4 !== peg$FAILED) {
            if (input.charCodeAt(peg$currPos) === 125) {
              s5 = peg$c7;
              peg$currPos++;
            } else {
              s5 = peg$FAILED;
              if (peg$silentFails === 0) { peg$fail(peg$c8); }
            }
            if (s5 !== peg$FAILED) {
              peg$savedPos = s0;
              s1 = peg$c27(s3);
              s0 = s1;
            } else {
              peg$currPos = s0;
              s0 = peg$FAILED;
            }
          } else {
            peg$currPos = s0;
            s0 = peg$FAILED;
          }
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }

    return s0;
  }

  function peg$parseoffset() {
    var s0, s1, s2, s3, s4, s5, s6, s7;

    peg$silentFails++;
    s0 = peg$currPos;
    s1 = peg$parse_();
    if (s1 !== peg$FAILED) {
      if (input.substr(peg$currPos, 6) === peg$c29) {
        s2 = peg$c29;
        peg$currPos += 6;
      } else {
        s2 = peg$FAILED;
        if (peg$silentFails === 0) { peg$fail(peg$c30); }
      }
      if (s2 !== peg$FAILED) {
        s3 = peg$parse_();
        if (s3 !== peg$FAILED) {
          if (input.charCodeAt(peg$currPos) === 58) {
            s4 = peg$c31;
            peg$currPos++;
          } else {
            s4 = peg$FAILED;
            if (peg$silentFails === 0) { peg$fail(peg$c32); }
          }
          if (s4 !== peg$FAILED) {
            s5 = peg$parse_();
            if (s5 !== peg$FAILED) {
              s6 = peg$parsedigits();
              if (s6 !== peg$FAILED) {
                s7 = peg$parse_();
                if (s7 !== peg$FAILED) {
                  peg$savedPos = s0;
                  s1 = peg$c33(s6);
                  s0 = s1;
                } else {
                  peg$currPos = s0;
                  s0 = peg$FAILED;
                }
              } else {
                peg$currPos = s0;
                s0 = peg$FAILED;
              }
            } else {
              peg$currPos = s0;
              s0 = peg$FAILED;
            }
          } else {
            peg$currPos = s0;
            s0 = peg$FAILED;
          }
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }
    peg$silentFails--;
    if (s0 === peg$FAILED) {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c28); }
    }

    return s0;
  }

  function peg$parsepluralKey() {
    var s0, s1, s2;

    s0 = peg$parseid();
    if (s0 === peg$FAILED) {
      s0 = peg$currPos;
      if (input.charCodeAt(peg$currPos) === 61) {
        s1 = peg$c34;
        peg$currPos++;
      } else {
        s1 = peg$FAILED;
        if (peg$silentFails === 0) { peg$fail(peg$c35); }
      }
      if (s1 !== peg$FAILED) {
        s2 = peg$parsedigits();
        if (s2 !== peg$FAILED) {
          peg$savedPos = s0;
          s1 = peg$c33(s2);
          s0 = s1;
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    }

    return s0;
  }

  function peg$parsefunctionKey() {
    var s0, s1, s2, s3, s4, s5;

    if (input.substr(peg$currPos, 6) === peg$c36) {
      s0 = peg$c36;
      peg$currPos += 6;
    } else {
      s0 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c37); }
    }
    if (s0 === peg$FAILED) {
      if (input.substr(peg$currPos, 4) === peg$c38) {
        s0 = peg$c38;
        peg$currPos += 4;
      } else {
        s0 = peg$FAILED;
        if (peg$silentFails === 0) { peg$fail(peg$c39); }
      }
      if (s0 === peg$FAILED) {
        if (input.substr(peg$currPos, 4) === peg$c40) {
          s0 = peg$c40;
          peg$currPos += 4;
        } else {
          s0 = peg$FAILED;
          if (peg$silentFails === 0) { peg$fail(peg$c41); }
        }
        if (s0 === peg$FAILED) {
          if (input.substr(peg$currPos, 8) === peg$c42) {
            s0 = peg$c42;
            peg$currPos += 8;
          } else {
            s0 = peg$FAILED;
            if (peg$silentFails === 0) { peg$fail(peg$c43); }
          }
          if (s0 === peg$FAILED) {
            if (input.substr(peg$currPos, 7) === peg$c44) {
              s0 = peg$c44;
              peg$currPos += 7;
            } else {
              s0 = peg$FAILED;
              if (peg$silentFails === 0) { peg$fail(peg$c45); }
            }
            if (s0 === peg$FAILED) {
              if (input.substr(peg$currPos, 8) === peg$c46) {
                s0 = peg$c46;
                peg$currPos += 8;
              } else {
                s0 = peg$FAILED;
                if (peg$silentFails === 0) { peg$fail(peg$c47); }
              }
              if (s0 === peg$FAILED) {
                s0 = peg$currPos;
                s1 = peg$currPos;
                peg$silentFails++;
                if (input.substr(peg$currPos, 6) === peg$c12) {
                  s2 = peg$c12;
                  peg$currPos += 6;
                } else {
                  s2 = peg$FAILED;
                  if (peg$silentFails === 0) { peg$fail(peg$c13); }
                }
                peg$silentFails--;
                if (s2 === peg$FAILED) {
                  s1 = void 0;
                } else {
                  peg$currPos = s1;
                  s1 = peg$FAILED;
                }
                if (s1 !== peg$FAILED) {
                  s2 = peg$currPos;
                  peg$silentFails++;
                  if (input.substr(peg$currPos, 6) === peg$c16) {
                    s3 = peg$c16;
                    peg$currPos += 6;
                  } else {
                    s3 = peg$FAILED;
                    if (peg$silentFails === 0) { peg$fail(peg$c17); }
                  }
                  peg$silentFails--;
                  if (s3 === peg$FAILED) {
                    s2 = void 0;
                  } else {
                    peg$currPos = s2;
                    s2 = peg$FAILED;
                  }
                  if (s2 !== peg$FAILED) {
                    s3 = peg$currPos;
                    peg$silentFails++;
                    if (input.substr(peg$currPos, 13) === peg$c18) {
                      s4 = peg$c18;
                      peg$currPos += 13;
                    } else {
                      s4 = peg$FAILED;
                      if (peg$silentFails === 0) { peg$fail(peg$c19); }
                    }
                    peg$silentFails--;
                    if (s4 === peg$FAILED) {
                      s3 = void 0;
                    } else {
                      peg$currPos = s3;
                      s3 = peg$FAILED;
                    }
                    if (s3 !== peg$FAILED) {
                      s4 = peg$parseid();
                      if (s4 !== peg$FAILED) {
                        peg$savedPos = peg$currPos;
                        s5 = peg$c48(s4);
                        if (s5) {
                          s5 = void 0;
                        } else {
                          s5 = peg$FAILED;
                        }
                        if (s5 !== peg$FAILED) {
                          peg$savedPos = s0;
                          s1 = peg$c49(s4);
                          s0 = s1;
                        } else {
                          peg$currPos = s0;
                          s0 = peg$FAILED;
                        }
                      } else {
                        peg$currPos = s0;
                        s0 = peg$FAILED;
                      }
                    } else {
                      peg$currPos = s0;
                      s0 = peg$FAILED;
                    }
                  } else {
                    peg$currPos = s0;
                    s0 = peg$FAILED;
                  }
                } else {
                  peg$currPos = s0;
                  s0 = peg$FAILED;
                }
              }
            }
          }
        }
      }
    }

    return s0;
  }

  function peg$parsefunctionParam() {
    var s0, s1, s2, s3, s4;

    s0 = peg$currPos;
    s1 = peg$parse_();
    if (s1 !== peg$FAILED) {
      if (input.charCodeAt(peg$currPos) === 44) {
        s2 = peg$c10;
        peg$currPos++;
      } else {
        s2 = peg$FAILED;
        if (peg$silentFails === 0) { peg$fail(peg$c11); }
      }
      if (s2 !== peg$FAILED) {
        s3 = [];
        s4 = peg$parsetoken();
        while (s4 !== peg$FAILED) {
          s3.push(s4);
          s4 = peg$parsetoken();
        }
        if (s3 !== peg$FAILED) {
          peg$savedPos = peg$currPos;
          s4 = peg$c50(s3);
          if (s4) {
            s4 = void 0;
          } else {
            s4 = peg$FAILED;
          }
          if (s4 !== peg$FAILED) {
            peg$savedPos = s0;
            s1 = peg$c51(s3);
            s0 = s1;
          } else {
            peg$currPos = s0;
            s0 = peg$FAILED;
          }
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }
    if (s0 === peg$FAILED) {
      s0 = peg$currPos;
      s1 = peg$parse_();
      if (s1 !== peg$FAILED) {
        if (input.charCodeAt(peg$currPos) === 44) {
          s2 = peg$c10;
          peg$currPos++;
        } else {
          s2 = peg$FAILED;
          if (peg$silentFails === 0) { peg$fail(peg$c11); }
        }
        if (s2 !== peg$FAILED) {
          s3 = [];
          s4 = peg$parsestrictFunctionParamPart();
          while (s4 !== peg$FAILED) {
            s3.push(s4);
            s4 = peg$parsestrictFunctionParamPart();
          }
          if (s3 !== peg$FAILED) {
            peg$savedPos = s0;
            s1 = peg$c52(s3);
            s0 = s1;
          } else {
            peg$currPos = s0;
            s0 = peg$FAILED;
          }
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    }

    return s0;
  }

  function peg$parsestrictFunctionParamPart() {
    var s0, s1, s2, s3;

    peg$silentFails++;
    s0 = peg$currPos;
    s1 = [];
    if (peg$c54.test(input.charAt(peg$currPos))) {
      s2 = input.charAt(peg$currPos);
      peg$currPos++;
    } else {
      s2 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c55); }
    }
    if (s2 !== peg$FAILED) {
      while (s2 !== peg$FAILED) {
        s1.push(s2);
        if (peg$c54.test(input.charAt(peg$currPos))) {
          s2 = input.charAt(peg$currPos);
          peg$currPos++;
        } else {
          s2 = peg$FAILED;
          if (peg$silentFails === 0) { peg$fail(peg$c55); }
        }
      }
    } else {
      s1 = peg$FAILED;
    }
    if (s1 !== peg$FAILED) {
      peg$savedPos = s0;
      s1 = peg$c56(s1);
    }
    s0 = s1;
    if (s0 === peg$FAILED) {
      s0 = peg$parsedoubleapos();
      if (s0 === peg$FAILED) {
        s0 = peg$currPos;
        if (input.charCodeAt(peg$currPos) === 39) {
          s1 = peg$c57;
          peg$currPos++;
        } else {
          s1 = peg$FAILED;
          if (peg$silentFails === 0) { peg$fail(peg$c58); }
        }
        if (s1 !== peg$FAILED) {
          s2 = peg$parseinapos();
          if (s2 !== peg$FAILED) {
            if (input.charCodeAt(peg$currPos) === 39) {
              s3 = peg$c57;
              peg$currPos++;
            } else {
              s3 = peg$FAILED;
              if (peg$silentFails === 0) { peg$fail(peg$c58); }
            }
            if (s3 !== peg$FAILED) {
              peg$savedPos = s0;
              s1 = peg$c59(s2);
              s0 = s1;
            } else {
              peg$currPos = s0;
              s0 = peg$FAILED;
            }
          } else {
            peg$currPos = s0;
            s0 = peg$FAILED;
          }
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
        if (s0 === peg$FAILED) {
          s0 = peg$currPos;
          if (input.charCodeAt(peg$currPos) === 123) {
            s1 = peg$c5;
            peg$currPos++;
          } else {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) { peg$fail(peg$c6); }
          }
          if (s1 !== peg$FAILED) {
            s2 = [];
            s3 = peg$parsestrictFunctionParamPart();
            while (s3 !== peg$FAILED) {
              s2.push(s3);
              s3 = peg$parsestrictFunctionParamPart();
            }
            if (s2 !== peg$FAILED) {
              if (input.charCodeAt(peg$currPos) === 125) {
                s3 = peg$c7;
                peg$currPos++;
              } else {
                s3 = peg$FAILED;
                if (peg$silentFails === 0) { peg$fail(peg$c8); }
              }
              if (s3 !== peg$FAILED) {
                peg$savedPos = s0;
                s1 = peg$c60(s2);
                s0 = s1;
              } else {
                peg$currPos = s0;
                s0 = peg$FAILED;
              }
            } else {
              peg$currPos = s0;
              s0 = peg$FAILED;
            }
          } else {
            peg$currPos = s0;
            s0 = peg$FAILED;
          }
        }
      }
    }
    peg$silentFails--;
    if (s0 === peg$FAILED) {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c53); }
    }

    return s0;
  }

  function peg$parsedoubleapos() {
    var s0, s1;

    peg$silentFails++;
    s0 = peg$currPos;
    if (input.substr(peg$currPos, 2) === peg$c62) {
      s1 = peg$c62;
      peg$currPos += 2;
    } else {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c63); }
    }
    if (s1 !== peg$FAILED) {
      peg$savedPos = s0;
      s1 = peg$c64();
    }
    s0 = s1;
    peg$silentFails--;
    if (s0 === peg$FAILED) {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c61); }
    }

    return s0;
  }

  function peg$parseinapos() {
    var s0, s1, s2;

    s0 = peg$parsedoubleapos();
    if (s0 === peg$FAILED) {
      s0 = peg$currPos;
      s1 = [];
      if (peg$c65.test(input.charAt(peg$currPos))) {
        s2 = input.charAt(peg$currPos);
        peg$currPos++;
      } else {
        s2 = peg$FAILED;
        if (peg$silentFails === 0) { peg$fail(peg$c66); }
      }
      if (s2 !== peg$FAILED) {
        while (s2 !== peg$FAILED) {
          s1.push(s2);
          if (peg$c65.test(input.charAt(peg$currPos))) {
            s2 = input.charAt(peg$currPos);
            peg$currPos++;
          } else {
            s2 = peg$FAILED;
            if (peg$silentFails === 0) { peg$fail(peg$c66); }
          }
        }
      } else {
        s1 = peg$FAILED;
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$c4(s1);
      }
      s0 = s1;
    }

    return s0;
  }

  function peg$parsequotedCurly() {
    var s0, s1, s2, s3;

    s0 = peg$currPos;
    if (input.substr(peg$currPos, 2) === peg$c67) {
      s1 = peg$c67;
      peg$currPos += 2;
    } else {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c68); }
    }
    if (s1 !== peg$FAILED) {
      s2 = [];
      s3 = peg$parseinapos();
      while (s3 !== peg$FAILED) {
        s2.push(s3);
        s3 = peg$parseinapos();
      }
      if (s2 !== peg$FAILED) {
        if (input.charCodeAt(peg$currPos) === 39) {
          s3 = peg$c57;
          peg$currPos++;
        } else {
          s3 = peg$FAILED;
          if (peg$silentFails === 0) { peg$fail(peg$c58); }
        }
        if (s3 !== peg$FAILED) {
          peg$savedPos = s0;
          s1 = peg$c69(s2);
          s0 = s1;
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }
    if (s0 === peg$FAILED) {
      s0 = peg$currPos;
      if (input.substr(peg$currPos, 2) === peg$c70) {
        s1 = peg$c70;
        peg$currPos += 2;
      } else {
        s1 = peg$FAILED;
        if (peg$silentFails === 0) { peg$fail(peg$c71); }
      }
      if (s1 !== peg$FAILED) {
        s2 = [];
        s3 = peg$parseinapos();
        while (s3 !== peg$FAILED) {
          s2.push(s3);
          s3 = peg$parseinapos();
        }
        if (s2 !== peg$FAILED) {
          if (input.charCodeAt(peg$currPos) === 39) {
            s3 = peg$c57;
            peg$currPos++;
          } else {
            s3 = peg$FAILED;
            if (peg$silentFails === 0) { peg$fail(peg$c58); }
          }
          if (s3 !== peg$FAILED) {
            peg$savedPos = s0;
            s1 = peg$c72(s2);
            s0 = s1;
          } else {
            peg$currPos = s0;
            s0 = peg$FAILED;
          }
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    }

    return s0;
  }

  function peg$parsequoted() {
    var s0, s1, s2, s3, s4, s5;

    peg$silentFails++;
    s0 = peg$parsequotedCurly();
    if (s0 === peg$FAILED) {
      s0 = peg$currPos;
      s1 = peg$currPos;
      s2 = peg$currPos;
      if (input.substr(peg$currPos, 2) === peg$c74) {
        s3 = peg$c74;
        peg$currPos += 2;
      } else {
        s3 = peg$FAILED;
        if (peg$silentFails === 0) { peg$fail(peg$c75); }
      }
      if (s3 !== peg$FAILED) {
        s4 = [];
        s5 = peg$parseinapos();
        while (s5 !== peg$FAILED) {
          s4.push(s5);
          s5 = peg$parseinapos();
        }
        if (s4 !== peg$FAILED) {
          if (input.charCodeAt(peg$currPos) === 39) {
            s5 = peg$c57;
            peg$currPos++;
          } else {
            s5 = peg$FAILED;
            if (peg$silentFails === 0) { peg$fail(peg$c58); }
          }
          if (s5 !== peg$FAILED) {
            peg$savedPos = s2;
            s3 = peg$c76(s4);
            s2 = s3;
          } else {
            peg$currPos = s2;
            s2 = peg$FAILED;
          }
        } else {
          peg$currPos = s2;
          s2 = peg$FAILED;
        }
      } else {
        peg$currPos = s2;
        s2 = peg$FAILED;
      }
      if (s2 !== peg$FAILED) {
        peg$savedPos = peg$currPos;
        s3 = peg$c2();
        if (s3) {
          s3 = void 0;
        } else {
          s3 = peg$FAILED;
        }
        if (s3 !== peg$FAILED) {
          s2 = [s2, s3];
          s1 = s2;
        } else {
          peg$currPos = s1;
          s1 = peg$FAILED;
        }
      } else {
        peg$currPos = s1;
        s1 = peg$FAILED;
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$c77(s1);
      }
      s0 = s1;
      if (s0 === peg$FAILED) {
        if (input.charCodeAt(peg$currPos) === 39) {
          s0 = peg$c57;
          peg$currPos++;
        } else {
          s0 = peg$FAILED;
          if (peg$silentFails === 0) { peg$fail(peg$c58); }
        }
      }
    }
    peg$silentFails--;
    if (s0 === peg$FAILED) {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c73); }
    }

    return s0;
  }

  function peg$parseplainChar() {
    var s0, s1;

    peg$silentFails++;
    if (peg$c79.test(input.charAt(peg$currPos))) {
      s0 = input.charAt(peg$currPos);
      peg$currPos++;
    } else {
      s0 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c80); }
    }
    peg$silentFails--;
    if (s0 === peg$FAILED) {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c78); }
    }

    return s0;
  }

  function peg$parsechar() {
    var s0, s1, s2;

    s0 = peg$parsedoubleapos();
    if (s0 === peg$FAILED) {
      s0 = peg$parsequoted();
      if (s0 === peg$FAILED) {
        s0 = peg$currPos;
        if (input.charCodeAt(peg$currPos) === 35) {
          s1 = peg$c0;
          peg$currPos++;
        } else {
          s1 = peg$FAILED;
          if (peg$silentFails === 0) { peg$fail(peg$c1); }
        }
        if (s1 !== peg$FAILED) {
          peg$savedPos = peg$currPos;
          s2 = peg$c81(s1);
          if (s2) {
            s2 = void 0;
          } else {
            s2 = peg$FAILED;
          }
          if (s2 !== peg$FAILED) {
            peg$savedPos = s0;
            s1 = peg$c82(s1);
            s0 = s1;
          } else {
            peg$currPos = s0;
            s0 = peg$FAILED;
          }
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
        if (s0 === peg$FAILED) {
          s0 = peg$parseplainChar();
        }
      }
    }

    return s0;
  }

  function peg$parsedigits() {
    var s0, s1, s2;

    peg$silentFails++;
    s0 = peg$currPos;
    s1 = [];
    if (peg$c84.test(input.charAt(peg$currPos))) {
      s2 = input.charAt(peg$currPos);
      peg$currPos++;
    } else {
      s2 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c85); }
    }
    if (s2 !== peg$FAILED) {
      while (s2 !== peg$FAILED) {
        s1.push(s2);
        if (peg$c84.test(input.charAt(peg$currPos))) {
          s2 = input.charAt(peg$currPos);
          peg$currPos++;
        } else {
          s2 = peg$FAILED;
          if (peg$silentFails === 0) { peg$fail(peg$c85); }
        }
      }
    } else {
      s1 = peg$FAILED;
    }
    if (s1 !== peg$FAILED) {
      s0 = input.substring(s0, peg$currPos);
    } else {
      s0 = s1;
    }
    peg$silentFails--;
    if (s0 === peg$FAILED) {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c83); }
    }

    return s0;
  }

  function peg$parse_() {
    var s0, s1, s2;

    peg$silentFails++;
    s0 = peg$currPos;
    s1 = [];
    if (peg$c87.test(input.charAt(peg$currPos))) {
      s2 = input.charAt(peg$currPos);
      peg$currPos++;
    } else {
      s2 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c88); }
    }
    while (s2 !== peg$FAILED) {
      s1.push(s2);
      if (peg$c87.test(input.charAt(peg$currPos))) {
        s2 = input.charAt(peg$currPos);
        peg$currPos++;
      } else {
        s2 = peg$FAILED;
        if (peg$silentFails === 0) { peg$fail(peg$c88); }
      }
    }
    if (s1 !== peg$FAILED) {
      s0 = input.substring(s0, peg$currPos);
    } else {
      s0 = s1;
    }
    peg$silentFails--;
    if (s0 === peg$FAILED) {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) { peg$fail(peg$c86); }
    }

    return s0;
  }


    var inPlural = [false];


  peg$result = peg$startRuleFunction();

  if (peg$result !== peg$FAILED && peg$currPos === input.length) {
    return peg$result;
  } else {
    if (peg$result !== peg$FAILED && peg$currPos < input.length) {
      peg$fail(peg$endExpectation());
    }

    throw peg$buildStructuredError(
      peg$maxFailExpected,
      peg$maxFailPos < input.length ? input.charAt(peg$maxFailPos) : null,
      peg$maxFailPos < input.length
        ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1)
        : peg$computeLocation(peg$maxFailPos, peg$maxFailPos)
    );
  }
}

module.exports = {
  SyntaxError: peg$SyntaxError,
  parse:       peg$parse
};


/***/ }),

/***/ "./node_modules/messageformat/lib/compiler.js":
/*!****************************************************!*\
  !*** ./node_modules/messageformat/lib/compiler.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var reserved = __webpack_require__(/*! reserved-words */ "./node_modules/reserved-words/lib/index.js");
var parse = __webpack_require__(/*! messageformat-parser */ "./node_modules/messageformat-parser/parser.js").parse;

/** Creates a new message compiler. Called internally from {@link MessageFormat#compile}.
 *
 * @class
 * @private
 * @param {MessageFormat} mf - A MessageFormat instance
 * @property {object} locales - The locale identifiers that are used by the compiled functions
 * @property {object} runtime - Names of the core runtime functions that are used by the compiled functions
 * @property {object} formatters - The formatter functions that are used by the compiled functions
 */
function Compiler(mf) {
  this.mf = mf;
  this.lc = null;
  this.locales = {};
  this.runtime = {};
  this.formatters = {};
}

module.exports = Compiler;

/** Utility function for quoting an Object's key value if required
 *
 *  Quotes the key if it contains invalid characters or is an
 *  ECMAScript 3rd Edition reserved word (for IE8).
 */
Compiler.propname = function(key, obj) {
  if (
    /^[A-Z_$][0-9A-Z_$]*$/i.test(key) &&
    [
      'break',
      'continue',
      'delete',
      'else',
      'for',
      'function',
      'if',
      'in',
      'new',
      'return',
      'this',
      'typeof',
      'var',
      'void',
      'while',
      'with',
      'case',
      'catch',
      'default',
      'do',
      'finally',
      'instanceof',
      'switch',
      'throw',
      'try'
    ].indexOf(key) < 0
  ) {
    return obj ? obj + '.' + key : key;
  } else {
    var jkey = JSON.stringify(key);
    return obj ? obj + '[' + jkey + ']' : jkey;
  }
};

/** Utility function for escaping a function name if required
 */
Compiler.funcname = function(key) {
  var fn = key.trim().replace(/\W+/g, '_');
  return reserved.check(fn, 'es2015', true) || /^\d/.test(fn) ? '_' + fn : fn;
};

/** Utility formatter function for enforcing Bidi Structured Text by using UCC
 *
 *  List inlined from data extracted from CLDR v27 & v28
 *  To verify/recreate, use the following:
 *
 *     git clone https://github.com/unicode-cldr/cldr-misc-full.git
 *     cd cldr-misc-full/main/
 *     grep characterOrder -r . | tr '"/' '\t' | cut -f2,6 | grep -C4 right-to-left
 */
Compiler.bidiMarkText = function(text, locale) {
  function isLocaleRTL(locale) {
    var rtlLanguages = [
      'ar',
      'ckb',
      'fa',
      'he',
      'ks($|[^bfh])',
      'lrc',
      'mzn',
      'pa-Arab',
      'ps',
      'ug',
      'ur',
      'uz-Arab',
      'yi'
    ];
    return new RegExp('^' + rtlLanguages.join('|^')).test(locale);
  }
  var mark = JSON.stringify(isLocaleRTL(locale) ? '\u200F' : '\u200E');
  return mark + ' + ' + text + ' + ' + mark;
};

/** @private */
Compiler.prototype.cases = function(token, plural) {
  var needOther = token.type === 'select' || !this.mf.hasCustomPluralFuncs;
  var r = token.cases.map(function(c) {
    if (c.key === 'other') needOther = false;
    var s = c.tokens.map(function(tok) {
      return this.token(tok, plural);
    }, this);
    return Compiler.propname(c.key) + ': ' + (s.join(' + ') || '""');
  }, this);
  if (needOther)
    throw new Error("No 'other' form found in " + JSON.stringify(token));
  return '{ ' + r.join(', ') + ' }';
};

/** @private */
Compiler.prototype.token = function(token, plural) {
  if (typeof token == 'string') return JSON.stringify(token);

  var fn,
    args = [Compiler.propname(token.arg, 'd')];
  switch (token.type) {
    case 'argument':
      return this.mf.bidiSupport
        ? Compiler.bidiMarkText(args[0], this.lc)
        : args[0];

    case 'select':
      fn = 'select';
      if (plural && this.mf.strictNumberSign) plural = null;
      args.push(this.cases(token, plural));
      this.runtime.select = true;
      break;

    case 'selectordinal':
      fn = 'plural';
      args.push(0, Compiler.funcname(this.lc), this.cases(token, token), 1);
      this.locales[this.lc] = true;
      this.runtime.plural = true;
      break;

    case 'plural':
      fn = 'plural';
      args.push(
        token.offset || 0,
        Compiler.funcname(this.lc),
        this.cases(token, token)
      );
      this.locales[this.lc] = true;
      this.runtime.plural = true;
      break;

    case 'function':
      if (
        !(token.key in this.mf.fmt) &&
        token.key in this.mf.constructor.formatters
      ) {
        var fmt = this.mf.constructor.formatters[token.key];
        this.mf.fmt[token.key] = fmt(this.mf);
      }
      if (!this.mf.fmt[token.key])
        throw new Error(
          'Formatting function ' + JSON.stringify(token.key) + ' not found!'
        );
      args.push(JSON.stringify(this.lc));
      if (token.param) {
        if (plural && this.mf.strictNumberSign) plural = null;
        var s = token.param.tokens.map(function(tok) {
          return this.token(tok, plural);
        }, this);
        args.push('(' + (s.join(' + ') || '""') + ').trim()');
      }
      fn = Compiler.propname(token.key, 'fmt');
      this.formatters[token.key] = true;
      break;

    case 'octothorpe':
      if (!plural) return '"#"';
      fn = 'number';
      args = [Compiler.propname(plural.arg, 'd'), JSON.stringify(plural.arg)];
      if (plural.offset) args.push(plural.offset);
      this.runtime.number = true;
      break;
  }

  if (!fn) throw new Error('Parser error for token ' + JSON.stringify(token));
  return fn + '(' + args.join(', ') + ')';
};

/** Recursively compile a string or a tree of strings to JavaScript function sources
 *
 *  If `src` is an object with a key that is also present in `plurals`, the key
 *  in question will be used as the locale identifier for its value. To disable
 *  the compile-time checks for plural & selectordinal keys while maintaining
 *  multi-locale support, use falsy values in `plurals`.
 *
 * @param {string|object} src - the source for which the JS code should be generated
 * @param {string} lc - the default locale
 * @param {object} plurals - a map of pluralization keys for all available locales
 */
Compiler.prototype.compile = function(src, lc, plurals) {
  if (typeof src != 'object') {
    this.lc = lc;
    var pc = plurals[lc] || { cardinal: [], ordinal: [] };
    pc.strict = !!this.mf.strictNumberSign;
    var r = parse(src, pc).map(function(token) {
      return this.token(token);
    }, this);
    return 'function(d) { return ' + (r.join(' + ') || '""') + '; }';
  } else {
    var result = {};
    for (var key in src) {
      var lcKey = plurals.hasOwnProperty(key) ? key : lc;
      result[key] = this.compile(src[key], lcKey, plurals);
    }
    return result;
  }
};


/***/ }),

/***/ "./node_modules/messageformat/lib/formatters/date.js":
/*!***********************************************************!*\
  !*** ./node_modules/messageformat/lib/formatters/date.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* eslint-disable no-fallthrough */

/** Represent a date as a short/default/long/full string
 *
 * The input value needs to be in a form that the
 * {@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Date Date object}
 * can process using its single-argument form, `new Date(value)`.
 *
 * @memberof Formatters
 * @param {number|string} value - Either a Unix epoch time in milliseconds, or a string value representing a date
 * @param {string} [type='default'] - One of `'short'`, `'default'`, `'long'` , or `full`
 *
 * @example
 * var mf = new MessageFormat(['en', 'fi']);
 *
 * mf.compile('Today is {T, date}')({ T: Date.now() })
 * // 'Today is Feb 21, 2016'
 *
 * mf.compile('Tnn on {T, date}', 'fi')({ T: Date.now() })
 * // 'Tnn on 21. helmikuuta 2016'
 *
 * mf.compile('Unix time started on {T, date, full}')({ T: 0 })
 * // 'Unix time started on Thursday, January 1, 1970'
 *
 * var cf = mf.compile('{sys} became operational on {d0, date, short}');
 * cf({ sys: 'HAL 9000', d0: '12 January 1999' })
 * // 'HAL 9000 became operational on 1/12/1999'
 */
function date(v, lc, p) {
  var o = { day: 'numeric', month: 'short', year: 'numeric' };
  switch (p) {
    case 'full':
      o.weekday = 'long';
    case 'long':
      o.month = 'long';
      break;
    case 'short':
      o.month = 'numeric';
  }
  return new Date(v).toLocaleDateString(lc, o);
}

module.exports = function() {
  return date;
};


/***/ }),

/***/ "./node_modules/messageformat/lib/formatters/duration.js":
/*!***************************************************************!*\
  !*** ./node_modules/messageformat/lib/formatters/duration.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * Represent a duration in seconds as a string
 *
 * Input should be a finite number; output will include one or two `:`
 * separators, and match the pattern `hhhh:mm:ss`, possibly with a leading `-`
 * for negative values and a trailing `.sss` part for non-integer input
 *
 * @memberof Formatters
 * @param {number|string} value - A finite number, or its string representation
 *
 * @example
 * var mf = new MessageFormat();
 *
 * mf.compile('It has been {D, duration}')({ D: 123 })
 * // 'It has been 2:03'
 *
 * mf.compile('Countdown: {D, duration}')({ D: -151200.42 })
 * // 'Countdown: -42:00:00.420'
 */
function duration(value) {
  if (!isFinite(value)) return String(value);
  var sign = '';
  if (value < 0) {
    sign = '-';
    value = Math.abs(value);
  } else {
    value = Number(value);
  }
  var sec = value % 60;
  var parts = [Math.round(sec) === sec ? sec : sec.toFixed(3)];
  if (value < 60) {
    parts.unshift(0); // at least one : is required
  } else {
    value = Math.round((value - parts[0]) / 60);
    parts.unshift(value % 60); // minutes
    if (value >= 60) {
      value = Math.round((value - parts[0]) / 60);
      parts.unshift(value); // hours
    }
  }
  var first = parts.shift();
  return (
    sign +
    first +
    ':' +
    parts
      .map(function(n) {
        return n < 10 ? '0' + String(n) : String(n);
      })
      .join(':')
  );
}

module.exports = function() {
  return duration;
};


/***/ }),

/***/ "./node_modules/messageformat/lib/formatters/index.js":
/*!************************************************************!*\
  !*** ./node_modules/messageformat/lib/formatters/index.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/**
 * @classdesc
 * Default number formatting functions in the style of ICU's
 * {@link http://icu-project.org/apiref/icu4j/com/ibm/icu/text/MessageFormat.html simpleArg syntax}
 * implemented using the
 * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl Intl}
 * object defined by ECMA-402.
 *
 * In MessageFormat source, a formatter function is called with the syntax
 * `{var, name, arg}`, where `var` is a variable, `name` is the formatter name
 * (by default, either `date`, `duration`, `number` or `time`; `spellout` and
 * `ordinal` are not supported by default), and `arg` is an optional string
 * argument.
 *
 * In JavaScript, a formatter is a function called with three parameters:
 *   - The **`value`** of the variable; this can be of any user-defined type
 *   - The current **`locale`** code
 *   - The trimmed **`arg`** string value, or `null` if not set
 *
 * As formatter functions may be used in a precompiled context, they should not
 * refer to any variables that are not defined by the function parameters or
 * within the function body. To add your own formatter, either add it to the
 * static `MessageFormat.formatters` object, or use
 * {@link MessageFormat#addFormatters} to add it to a MessageFormat instance.
 *
 * @class Formatters
 * @private
 * @hideconstructor
 */

module.exports = {
  date: __webpack_require__(/*! ./date */ "./node_modules/messageformat/lib/formatters/date.js"),
  duration: __webpack_require__(/*! ./duration */ "./node_modules/messageformat/lib/formatters/duration.js"),
  number: __webpack_require__(/*! ./number */ "./node_modules/messageformat/lib/formatters/number.js"),
  time: __webpack_require__(/*! ./time */ "./node_modules/messageformat/lib/formatters/time.js")
};


/***/ }),

/***/ "./node_modules/messageformat/lib/formatters/number.js":
/*!*************************************************************!*\
  !*** ./node_modules/messageformat/lib/formatters/number.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* global CURRENCY, Intl */

/** Represent a number as an integer, percent or currency value
 *
 *  Available in MessageFormat strings as `{VAR, number, integer|percent|currency}`.
 *  Internally, calls Intl.NumberFormat with appropriate parameters. `currency` will
 *  default to USD; to change, set `MessageFormat#currency` to the appropriate
 *  three-letter currency code, or use the `currency:EUR` form of the argument.
 *
 * @memberof Formatters
 * @param {number} value - The value to operate on
 * @param {string} type - One of `'integer'`, `'percent'` , `'currency'`, or `/currency:[A-Z]{3}/`
 *
 * @example
 * var mf = new MessageFormat('en');
 * mf.currency = 'EUR';  // needs to be set before first compile() call
 *
 * mf.compile('{N} is almost {N, number, integer}')({ N: 3.14 })
 * // '3.14 is almost 3'
 *
 * mf.compile('{P, number, percent} complete')({ P: 0.99 })
 * // '99% complete'
 *
 * mf.compile('The total is {V, number, currency}.')({ V: 5.5 })
 * // 'The total is 5.50.'
 *
 * mf.compile('The total is {V, number, currency:GBP}.')({ V: 5.5 })
 * // 'The total is 5.50.'
 */

function number(value, lc, arg) {
  var a = (arg && arg.split(':')) || [];
  var opt = {
    integer: { maximumFractionDigits: 0 },
    percent: { style: 'percent' },
    currency: {
      style: 'currency',
      currency: (a[1] && a[1].trim()) || CURRENCY,
      minimumFractionDigits: 2,
      maximumFractionDigits: 2
    }
  };
  return new Intl.NumberFormat(lc, opt[a[0]] || {}).format(value);
}

module.exports = function(mf) {
  var parts = number
    .toString()
    .replace('CURRENCY', JSON.stringify(mf.currency || 'USD'))
    .match(/\(([^)]*)\)[^{]*{([\s\S]*)}/);
  return new Function(parts[1], parts[2]);
};


/***/ }),

/***/ "./node_modules/messageformat/lib/formatters/time.js":
/*!***********************************************************!*\
  !*** ./node_modules/messageformat/lib/formatters/time.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/** Represent a time as a short/default/long string
 *
 * The input value needs to be in a form that the
 * {@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Date Date object}
 * can process using its single-argument form, `new Date(value)`.
 *
 * @memberof Formatters
 * @param {number|string} value - Either a Unix epoch time in milliseconds, or a string value representing a date
 * @param {string} [type='default'] - One of `'short'`, `'default'`, `'long'` , or `full`
 *
 * @example
 * var mf = new MessageFormat(['en', 'fi']);
 *
 * mf.compile('The time is now {T, time}')({ T: Date.now() })
 * // 'The time is now 11:26:35 PM'
 *
 * mf.compile('Kello on nyt {T, time}', 'fi')({ T: Date.now() })
 * // 'Kello on nyt 23.26.35'
 *
 * var cf = mf.compile('The Eagle landed at {T, time, full} on {T, date, full}');
 * cf({ T: '1969-07-20 20:17:40 UTC' })
 * // 'The Eagle landed at 10:17:40 PM GMT+2 on Sunday, July 20, 1969'
 */
function time(v, lc, p) {
  var o = { second: 'numeric', minute: 'numeric', hour: 'numeric' };
  switch (p) {
    case 'full':
    case 'long':
      o.timeZoneName = 'short';
      break;
    case 'short':
      delete o.second;
  }
  return new Date(v).toLocaleTimeString(lc, o);
}

module.exports = function() {
  return time;
};


/***/ }),

/***/ "./node_modules/messageformat/lib/messageformat.js":
/*!*********************************************************!*\
  !*** ./node_modules/messageformat/lib/messageformat.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var Compiler = __webpack_require__(/*! ./compiler */ "./node_modules/messageformat/lib/compiler.js");
var formatters = __webpack_require__(/*! ./formatters */ "./node_modules/messageformat/lib/formatters/index.js");
var Plurals = __webpack_require__(/*! ./plurals */ "./node_modules/messageformat/lib/plurals.js");
var Runtime = __webpack_require__(/*! ./runtime */ "./node_modules/messageformat/lib/runtime.js");

/**
 * Create a new MessageFormat compiler
 *
 * If set, the `locale` parameter limits the compiler to use a subset of the 204
 * languages' pluralisation rules made available by the Unicode CLDR.
 *
 * Leaving `locale` undefined or using an array of strings will create a
 * MessageFormat instance with multi-language support. To select which to use,
 * use the second parameter of `{@link MessageFormat#compile compile()}`, or use
 * message keys corresponding to your locales. The default locale will be the
 * first entry of the array, or `{@link MessageFormat.defaultLocale defaultLocale}`
 * if not set.
 *
 * A string `locale` will create a single-locale MessageFormat instance.
 *
 * Using an object `locale` with all properties of type `function` allows for
 * the use of custom or externally defined pluralisation rules; in this case
 *
 * @class
 * @param {string|string[]|Object} [locale] - The locale(s) to use
 *
 * @classdesc MessageFormat-to-JavaScript compiler
 *
 * ```
 * import MessageFormat from 'messageformat'
 * ```
 */
function MessageFormat(locale) {
  this.pluralFuncs = {};
  if (typeof locale === 'string') {
    this.pluralFuncs[locale] = Plurals.get(locale);
    this.defaultLocale = locale;
  } else if (Array.isArray(locale)) {
    locale.forEach(function(lc) {
      this.pluralFuncs[lc] = Plurals.get(lc);
    }, this);
    this.defaultLocale = locale[0];
  } else {
    for (var lc in locale)
      if (locale.hasOwnProperty(lc)) {
        if (typeof locale[lc] !== 'function') {
          throw new Error(
            'Expected function value for locale ' + JSON.stringify(lc)
          );
        }
        this.pluralFuncs[lc] = locale[lc];
        if (!this.defaultLocale) this.defaultLocale = lc;
      }
    if (this.defaultLocale) {
      this.hasCustomPluralFuncs = true;
    } else {
      this.defaultLocale = MessageFormat.defaultLocale;
    }
  }
  this.fmt = {};
  this.runtime = new Runtime(this);
}

/**
 * The default locale
 *
 * Used by the constructor when no `locale` has been set to initialise the value
 * of its instance counterpart, `MessageFormat#defaultLocale`.
 *
 * @memberof MessageFormat
 * @default 'en'
 */
MessageFormat.defaultLocale = 'en';

/** Escape special characaters
 *
 *  Surround the characters `{` and `}` in the input string with 'quotes'.
 *  This will allow those characters to not be considered as MessageFormat
 *  control characters.
 *
 * @param {string} str - The input string
 * @param {boolean} [octothorpe=false] - Include `#` in the escaped characters
 * @returns {string} The escaped string
 */
MessageFormat.escape = function(str, octothorpe) {
  var esc = octothorpe ? '[#{}]' : '[{}]';
  return String(str).replace(new RegExp(esc, 'g'), "'$&'");
};

MessageFormat.formatters = formatters;

/**
 * Add custom formatter functions to this MessageFormat instance. See the
 * {@tutorial guide} for more details.
 *
 * The general syntax for calling a formatting function in MessageFormat is
 * `{var, fn[, arg]}`, where `var` is the variable that will be set by the
 * user code, `fn` determines the formatting function, and `arg` is an
 * optional string argument.
 *
 * In JavaScript, each formatting function is called with three parameters;
 * the variable value `v`, the current locale `lc`, and `arg` as a string, or
 * undefined if not set. `arg` will be trimmed of surrounding whitespace.
 * Formatting functions should not have side effects.
 *
 * @memberof MessageFormat
 * @param {Object.<string,function>} fmt - A map of formatting functions
 * @returns {MessageFormat} The MessageFormat instance, to allow for chaining
 *
 * @example
 * const mf = new MessageFormat('en-GB')
 * mf.addFormatters({
 *   upcase: function(v) { return v.toUpperCase() },
 *   locale: function(v, lc) { return lc },
 *   prop: function(v, lc, p) { return v[p] }
 * })
 * const messages = mf.compile({
 *   describe: 'This is {VAR, upcase}.',
 *   locale: 'The current locale is {_, locale}.',
 *   answer: 'Answer: {obj, prop, a}'
 * }
 *
 * messages.describe({ VAR: 'big' })        // 'This is BIG.'
 * messages.locale({})                      // 'The current locale is en-GB.'
 * messages.answer({ obj: {q: 3, a: 42} })  // 'Answer: 42'
 */
MessageFormat.prototype.addFormatters = function(fmt) {
  for (var name in fmt)
    if (fmt.hasOwnProperty(name)) {
      this.fmt[name] = fmt[name];
    }
  return this;
};

/** Disable the validation of plural & selectordinal keys
 *
 *  Previous versions of messageformat allowed the use of plural &
 *  selectordinal statements with any keys; now we throw an error when a
 *  statement uses a non-numerical key that will never be matched as a
 *  pluralization category for the current locale.
 *
 *  Use this method to disable the validation and allow usage as previously.
 *  To re-enable, you'll need to create a new MessageFormat instance.
 *
 * @returns {MessageFormat} The MessageFormat instance, to allow for chaining
 *
 * @example
 * const mf = new MessageFormat('en')
 * const msg = '{X, plural, zero{no answers} one{an answer} other{# answers}}'
 *
 * mf.compile(msg)
 * // Error: Invalid key `zero` for argument `X`. Valid plural keys for this
 * //        locale are `one`, `other`, and explicit keys like `=0`.
 *
 * mf.disablePluralKeyChecks()
 * mf.compile(msg)({ X: 0 })  // '0 answers'
 */
MessageFormat.prototype.disablePluralKeyChecks = function() {
  this.noPluralKeyChecks = true;
  for (var lc in this.pluralFuncs)
    if (this.pluralFuncs.hasOwnProperty(lc)) {
      this.pluralFuncs[lc].cardinal = [];
      this.pluralFuncs[lc].ordinal = [];
    }
  return this;
};

/** Enable or disable the addition of Unicode control characters to all input
 *  to preserve the integrity of the output when mixing LTR and RTL text.
 *
 * @see http://cldr.unicode.org/development/development-process/design-proposals/bidi-handling-of-structured-text
 *
 * @memberof MessageFormat
 * @param {boolean} [enable=true]
 * @returns {MessageFormat} The MessageFormat instance, to allow for chaining
 *
 * @example
 * // upper case stands for RTL characters, output is shown as rendered
 * const mf = new MessageFormat('en')
 *
 * mf.compile('{0} >> {1} >> {2}')(['first', 'SECOND', 'THIRD'])
 *   // 'first >> THIRD << SECOND'
 *
 * mf.setBiDiSupport(true)
 * mf.compile('{0} >> {1} >> {2}')(['first', 'SECOND', 'THIRD'])
 *   // 'first >> SECOND >> THIRD'
 */
MessageFormat.prototype.setBiDiSupport = function(enable) {
  this.bidiSupport = !!enable || typeof enable == 'undefined';
  return this;
};

/** According to the ICU MessageFormat spec, a `#` character directly inside a
 *  `plural` or `selectordinal` statement should be replaced by the number
 *  matching the surrounding statement. By default, messageformat will replace
 *  `#` signs with the value of the nearest surrounding `plural` or
 *  `selectordinal` statement.
 *
 *  Set this to true to follow the stricter ICU MessageFormat spec, and to
 *  throw a runtime error if `#` is used with non-numeric input.
 *
 * @memberof MessageFormat
 * @param {boolean} [enable=true]
 * @returns {MessageFormat} The MessageFormat instance, to allow for chaining
 *
 * @example
 * const mf = new MessageFormat('en')
 * const src = {
 *   cookie: '#: {X, plural, =0{no cookies} one{a cookie} other{# cookies}}',
 *   pastry: `{X, plural,
 *     one {{P, select, cookie{a cookie} other{a pie}}}
 *     other {{P, select, cookie{# cookies} other{# pies}}}
 *   }`
 * }
 * let messages = mf.compile(src)
 *
 * messages.cookie({ X: 3 })            // '#: 3 cookies'
 * messages.pastry({ X: 3, P: 'pie' })  // '3 pies'
 *
 * mf.setStrictNumberSign(true)
 * messages = mf.compile(src)
 * messages.pastry({ X: 3, P: 'pie' })  // '# pies'
 */
MessageFormat.prototype.setStrictNumberSign = function(enable) {
  this.strictNumberSign = !!enable || typeof enable == 'undefined';
  this.runtime.setStrictNumber(this.strictNumberSign);
  return this;
};

/** Compile messages into storable functions
 *
 *  If `messages` is a single string including ICU MessageFormat declarations,
 *  the result of `compile()` is a function taking a single Object parameter
 *  `d` representing each of the input's defined variables.
 *
 *  If `messages` is a hierarchical structure of such strings, the output of
 *  `compile()` will match that structure, with each string replaced by its
 *  corresponding JavaScript function.
 *
 *  If the input `messages` -- and therefore the output -- of `compile()` is an
 *  object, the output object will have a `toString(global)` method that may be
 *  used to store or cache the compiled functions to disk, for later inclusion
 *  in any JS environment, without a local MessageFormat instance required. If
 *  its `global` parameter is null or undefined, the result is an ES6 module
 *  with a default export. If `global` is a string containing `.`, the result
 *  will be a script setting its value. Otherwise, the output defaults to an UMD
 *  pattern that sets the value of `global` if used outside of AMD and CommonJS
 *  loaders.
 *
 *  If `locale` is not set, it will default to
 *  `{@link MessageFormat.defaultLocale defaultLocale}`; using a key at any
 *  depth of `messages` that is a declared locale will set its child elements to
 *  use that locale.
 *
 *  If `locale` is set, it is used for all messages, ignoring any otherwise
 *  matching locale keys. If the constructor declared any locales, `locale`
 *  needs to be one of them.
 *
 *  If `compile()` is called with a `messages` object on a MessageFormat
 *  instance that does not specify any locales, it will match keys to *all* 204
 *  available locales. This is really useful if you want your messages to be
 *  completely determined by your data, but may provide surprising results if
 *  your input includes any 2-3 letter strings that are not locale identifiers.
 *
 * @memberof MessageFormat
 * @param {string|Object} messages - The input message(s) to be compiled, in ICU MessageFormat
 * @param {string} [locale] - A locale to use for the messages
 * @returns {function|Object} The first match found for the given locale(s)
 *
 * @example
 * const mf = new MessageFormat('en')
 * const msg = mf.compile('A {TYPE} example.')
 *
 * msg({ TYPE: 'simple' })  // 'A simple example.'
 *
 * @example
 * const mf = new MessageFormat(['en', 'fi'])
 * const messages = mf.compile({
 *   en: { a: 'A {TYPE} example.',
 *         b: 'This is the {COUNT, selectordinal, one{#st} two{#nd} few{#rd} other{#th}} example.' },
 *   fi: { a: '{TYPE} esimerkki.',
 *         b: 'Tm on {COUNT, selectordinal, other{#.}} esimerkki.' }
 * })
 *
 * messages.en.b({ COUNT: 2 })  // 'This is the 2nd example.'
 * messages.fi.b({ COUNT: 2 })  // 'Tm on 2. esimerkki.'
 *
 * @example
 * const fs = require('fs')
 * const mf = new MessageFormat('en')
 * const msgSet = {
 *   a: 'A {TYPE} example.',
 *   b: 'This has {COUNT, plural, one{one member} other{# members}}.',
 *   c: 'We have {P, number, percent} code coverage.'
 * }
 * const msgStr = mf.compile(msgSet).toString('module.exports')
 * fs.writeFileSync('messages.js', msgStr)
 *
 * ...
 *
 * const messages = require('./messages')
 *
 * messages.a({ TYPE: 'more complex' })  // 'A more complex example.'
 * messages.b({ COUNT: 3 })              // 'This has 3 members.'
 */
MessageFormat.prototype.compile = function(messages, locale) {
  function _stringify(obj, level) {
    if (!level) level = 0;
    if (typeof obj != 'object') return obj;
    var o = [],
      indent = '';
    for (var i = 0; i < level; ++i) indent += '  ';
    for (var k in obj)
      o.push(
        '\n' +
          indent +
          '  ' +
          Compiler.propname(k) +
          ': ' +
          _stringify(obj[k], level + 1)
      );
    return '{' + o.join(',') + '\n' + indent + '}';
  }

  var pf = {};
  if (Object.keys(this.pluralFuncs).length === 0) {
    if (locale) {
      var pfn0 = Plurals.get(locale, this.noPluralKeyChecks);
      if (!pfn0)
        throw new Error('Locale ' + JSON.stringify(locale) + ' not found!');
      pf[locale] = pfn0;
    } else {
      locale = this.defaultLocale;
      pf = Plurals.getAll(this.noPluralKeyChecks);
    }
  } else if (locale) {
    var pfn1 = this.pluralFuncs[locale];
    if (!pfn1)
      throw new Error(
        'Locale ' +
          JSON.stringify(locale) +
          ' not found in ' +
          JSON.stringify(this.pluralFuncs) +
          '!'
      );
    pf[locale] = pfn1;
  } else {
    locale = this.defaultLocale;
    pf = this.pluralFuncs;
  }

  var compiler = new Compiler(this);
  var obj = compiler.compile(messages, locale, pf);

  if (typeof messages != 'object') {
    var fn = new Function(
      'number, plural, select, fmt',
      Compiler.funcname(locale),
      'return ' + obj
    );
    var rt = this.runtime;
    return fn(rt.number, rt.plural, rt.select, this.fmt, pf[locale]);
  }

  var rtStr = this.runtime.toString(pf, compiler) + '\n';
  var objStr = _stringify(obj);
  var result = new Function(rtStr + 'return ' + objStr)();
  if (result.hasOwnProperty('toString'))
    throw new Error('The top-level message key `toString` is reserved');

  result.toString = function(global) {
    if (!global || global === 'export default') {
      return rtStr + 'export default ' + objStr;
    } else if (global.indexOf('.') > -1) {
      return rtStr + global + ' = ' + objStr;
    } else {
      return (
        rtStr +
        [
          '(function (root, G) {',
          '  if (typeof define === "function" && define.amd) { define(G); }',
          '  else if (typeof exports === "object") { module.exports = G; }',
          '  else { ' + Compiler.propname(global, 'root') + ' = G; }',
          '})(this, ' + objStr + ');'
        ].join('\n')
      );
    }
  };
  return result;
};

module.exports = MessageFormat;


/***/ }),

/***/ "./node_modules/messageformat/lib/plurals.js":
/*!***************************************************!*\
  !*** ./node_modules/messageformat/lib/plurals.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var categories = __webpack_require__(/*! make-plural/umd/pluralCategories */ "./node_modules/make-plural/umd/pluralCategories.js");
var plurals = __webpack_require__(/*! make-plural/umd/plurals */ "./node_modules/make-plural/umd/plurals.js");

/**
 * @class
 * @private
 * @hideconstructor
 * @classdesc Utility getter/wrapper for pluralization functions from
 * {@link http://github.com/eemeli/make-plural.js make-plural}
 */

function wrapPluralFunc(lc, pf, noPluralKeyChecks) {
  var fn = function() {
    return pf.apply(this, arguments);
  };
  fn.toString = function() {
    return pf.toString();
  };
  if (noPluralKeyChecks) {
    fn.cardinal = [];
    fn.ordinal = [];
  } else {
    var pc = categories[lc] || {};
    fn.cardinal = pc.cardinal;
    fn.ordinal = pc.ordinal;
  }
  return fn;
}

function get(locale, noPluralKeyChecks) {
  for (var l = locale; l; l = l.replace(/[-_]?[^-_]*$/, '')) {
    var pf = plurals[l];
    if (pf) return wrapPluralFunc(l, pf, noPluralKeyChecks);
  }
  throw new Error(
    'Localisation function not found for locale ' + JSON.stringify(locale)
  );
}

function getAll(noPluralKeyChecks) {
  return Object.keys(plurals).reduce(function(locales, lc) {
    locales[lc] = wrapPluralFunc(lc, plurals[lc], noPluralKeyChecks);
    return locales;
  }, {});
}

module.exports = {
  get: get,
  getAll: getAll
};


/***/ }),

/***/ "./node_modules/messageformat/lib/runtime.js":
/*!***************************************************!*\
  !*** ./node_modules/messageformat/lib/runtime.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var Compiler = __webpack_require__(/*! ./compiler */ "./node_modules/messageformat/lib/compiler.js");

/** A set of utility functions that are called by the compiled Javascript
 *  functions, these are included locally in the output of {@link
 *  MessageFormat#compile compile()}.
 *
 * @class
 * @private
 * @param {MessageFormat} mf - A MessageFormat instance
 */
function Runtime(mf) {
  this.mf = mf;
  this.setStrictNumber(mf.strictNumberSign);
}

module.exports = Runtime;

/** Utility function for `#` in plural rules
 *
 *  Will throw an Error if `value` has a non-numeric value and `offset` is
 *  non-zero or {@link MessageFormat#setStrictNumberSign} is set.
 *
 * @function Runtime#number
 * @param {number} value - The value to operate on
 * @param {string} name - The name of the argument, used for error reporting
 * @param {number} [offset=0] - An optional offset, set by the surrounding context
 * @returns {number|string} The result of applying the offset to the input value
 */
function defaultNumber(value, name, offset) {
  if (!offset) return value;
  if (isNaN(value))
    throw new Error(
      "Can't apply offset:" +
        offset +
        ' to argument `' +
        name +
        '` with non-numerical value ' +
        JSON.stringify(value) +
        '.'
    );
  return value - offset;
}

/** @private */
function strictNumber(value, name, offset) {
  if (isNaN(value))
    throw new Error(
      'Argument `' +
        name +
        '` has non-numerical value ' +
        JSON.stringify(value) +
        '.'
    );
  return value - (offset || 0);
}

/** Set how strictly the {@link number} method parses its input.
 *
 *  According to the ICU MessageFormat spec, `#` can only be used to replace a
 *  number input of a `plural` statement. By default, messageformat does not
 *  throw a runtime error if you use non-numeric argument with a `plural` rule,
 *  unless rule also includes a non-zero `offset`.
 *
 *  This is called by {@link MessageFormat#setStrictNumberSign} to follow the
 *  stricter ICU MessageFormat spec.
 *
 * @param {boolean} [enable=false]
 */
Runtime.prototype.setStrictNumber = function(enable) {
  this.number = enable ? strictNumber : defaultNumber;
};

/** Utility function for `{N, plural|selectordinal, ...}`
 *
 * @param {number} value - The key to use to find a pluralization rule
 * @param {number} offset - An offset to apply to `value`
 * @param {function} lcfunc - A locale function from `pluralFuncs`
 * @param {Object.<string,string>} data - The object from which results are looked up
 * @param {?boolean} isOrdinal - If true, use ordinal rather than cardinal rules
 * @returns {string} The result of the pluralization
 */
Runtime.prototype.plural = function(value, offset, lcfunc, data, isOrdinal) {
  if ({}.hasOwnProperty.call(data, value)) return data[value];
  if (offset) value -= offset;
  var key = lcfunc(value, isOrdinal);
  if (key in data) return data[key];
  return data.other;
};

/** Utility function for `{N, select, ...}`
 *
 * @param {number} value - The key to use to find a selection
 * @param {Object.<string,string>} data - The object from which results are looked up
 * @returns {string} The result of the select statement
 */
Runtime.prototype.select = function(value, data) {
  if ({}.hasOwnProperty.call(data, value)) return data[value];
  return data.other;
};

/** @private */
Runtime.prototype.toString = function(pluralFuncs, compiler) {
  function _stringify(o, level) {
    if (typeof o != 'object') {
      var funcStr = o.toString().replace(/^(function )\w*/, '$1');
      var funcIndent = /([ \t]*)\S.*$/.exec(funcStr);
      return funcIndent
        ? funcStr.replace(new RegExp('^' + funcIndent[1], 'mg'), '')
        : funcStr;
    }
    var s = [];
    for (var i in o) {
      if (level === 0)
        s.push('var ' + i + ' = ' + _stringify(o[i], level + 1) + ';\n');
      else s.push(Compiler.propname(i) + ': ' + _stringify(o[i], level + 1));
    }
    if (level === 0) return s.join('');
    if (s.length === 0) return '{}';
    var indent = '  ';
    while (--level) indent += '  ';
    return '{\n' + s.join(',\n').replace(/^/gm, indent) + '\n}';
  }

  var obj = {};
  Object.keys(compiler.locales).forEach(function(lc) {
    obj[Compiler.funcname(lc)] = pluralFuncs[lc];
  });
  Object.keys(compiler.runtime).forEach(function(fn) {
    obj[fn] = this[fn];
  }, this);
  var fmtKeys = Object.keys(compiler.formatters);
  var fmt = this.mf.fmt;
  if (fmtKeys.length)
    obj.fmt = fmtKeys.reduce(function(o, key) {
      o[key] = fmt[key];
      return o;
    }, {});
  return _stringify(obj, 0);
};


/***/ }),

/***/ "./node_modules/process/browser.js":
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };


/***/ }),

/***/ "./node_modules/reselect/es/index.js":
/*!*******************************************!*\
  !*** ./node_modules/reselect/es/index.js ***!
  \*******************************************/
/*! exports provided: defaultMemoize, createSelectorCreator, createSelector, createStructuredSelector */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "defaultMemoize", function() { return defaultMemoize; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createSelectorCreator", function() { return createSelectorCreator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createSelector", function() { return createSelector; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createStructuredSelector", function() { return createStructuredSelector; });
function defaultEqualityCheck(a, b) {
  return a === b;
}

function areArgumentsShallowlyEqual(equalityCheck, prev, next) {
  if (prev === null || next === null || prev.length !== next.length) {
    return false;
  }

  // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.
  var length = prev.length;
  for (var i = 0; i < length; i++) {
    if (!equalityCheck(prev[i], next[i])) {
      return false;
    }
  }

  return true;
}

function defaultMemoize(func) {
  var equalityCheck = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultEqualityCheck;

  var lastArgs = null;
  var lastResult = null;
  // we reference arguments instead of spreading them for performance reasons
  return function () {
    if (!areArgumentsShallowlyEqual(equalityCheck, lastArgs, arguments)) {
      // apply arguments instead of spreading for performance.
      lastResult = func.apply(null, arguments);
    }

    lastArgs = arguments;
    return lastResult;
  };
}

function getDependencies(funcs) {
  var dependencies = Array.isArray(funcs[0]) ? funcs[0] : funcs;

  if (!dependencies.every(function (dep) {
    return typeof dep === 'function';
  })) {
    var dependencyTypes = dependencies.map(function (dep) {
      return typeof dep;
    }).join(', ');
    throw new Error('Selector creators expect all input-selectors to be functions, ' + ('instead received the following types: [' + dependencyTypes + ']'));
  }

  return dependencies;
}

function createSelectorCreator(memoize) {
  for (var _len = arguments.length, memoizeOptions = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    memoizeOptions[_key - 1] = arguments[_key];
  }

  return function () {
    for (var _len2 = arguments.length, funcs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      funcs[_key2] = arguments[_key2];
    }

    var recomputations = 0;
    var resultFunc = funcs.pop();
    var dependencies = getDependencies(funcs);

    var memoizedResultFunc = memoize.apply(undefined, [function () {
      recomputations++;
      // apply arguments instead of spreading for performance.
      return resultFunc.apply(null, arguments);
    }].concat(memoizeOptions));

    // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.
    var selector = memoize(function () {
      var params = [];
      var length = dependencies.length;

      for (var i = 0; i < length; i++) {
        // apply arguments instead of spreading and mutate a local list of params for performance.
        params.push(dependencies[i].apply(null, arguments));
      }

      // apply arguments instead of spreading for performance.
      return memoizedResultFunc.apply(null, params);
    });

    selector.resultFunc = resultFunc;
    selector.dependencies = dependencies;
    selector.recomputations = function () {
      return recomputations;
    };
    selector.resetRecomputations = function () {
      return recomputations = 0;
    };
    return selector;
  };
}

var createSelector = createSelectorCreator(defaultMemoize);

function createStructuredSelector(selectors) {
  var selectorCreator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : createSelector;

  if (typeof selectors !== 'object') {
    throw new Error('createStructuredSelector expects first argument to be an object ' + ('where each property is a selector, instead received a ' + typeof selectors));
  }
  var objectKeys = Object.keys(selectors);
  return selectorCreator(objectKeys.map(function (key) {
    return selectors[key];
  }), function () {
    for (var _len3 = arguments.length, values = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      values[_key3] = arguments[_key3];
    }

    return values.reduce(function (composition, value, index) {
      composition[objectKeys[index]] = value;
      return composition;
    }, {});
  });
}

/***/ }),

/***/ "./node_modules/reserved-words/lib/index.js":
/*!**************************************************!*\
  !*** ./node_modules/reserved-words/lib/index.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! ./reserved-words */ "./node_modules/reserved-words/lib/reserved-words.js");


/***/ }),

/***/ "./node_modules/reserved-words/lib/reserved-words.js":
/*!***********************************************************!*\
  !*** ./node_modules/reserved-words/lib/reserved-words.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var assert = __webpack_require__(/*! assert */ "./node_modules/assert/assert.js");

/**
 * Structure for storing keywords.
 *
 * @typedef {Object.<String,Boolean>} KeywordsHash
 */

/**
 * ECMAScript dialects.
 *
 * @const
 * @type {Object.<String,Number|String>} - keys as readable names and values as versions
 */
var DIALECTS = {
    es3: 3,
    es5: 5,
    es2015: 6,
    es7: 7,

    // aliases
    es6: 6,
    'default': 5,
    next: 6
};

/**
 * ECMAScript reserved words.
 *
 * @type {Object.<String,KeywordsHash>}
 */
var KEYWORDS = exports.KEYWORDS = {};

/**
 * Check word for being an reserved word.
 *
 * @param {String} word - word to check
 * @param {String|Number} [dialect] - dialect or version
 * @param {Boolean} [strict] - strict mode
 * @returns {?Boolean}
 */
exports.check = function check(word, dialect, strict) {
    dialect = dialect || DIALECTS.default;
    var version = DIALECTS[dialect] || dialect;

    if (strict && version >= 5) {
        version += '-strict';
    }

    assert(KEYWORDS[version], 'Unknown dialect');

    return KEYWORDS[version].hasOwnProperty(word);
};

/**
 * Reserved Words for ES3
 *
 * ECMA-262 3rd: 7.5.1
 * http://www.ecma-international.org/publications/files/ECMA-ST-ARCH/ECMA-262,%203rd%20edition,%20December%201999.pdf
 *
 * @type {KeywordsHash}
 */
KEYWORDS['3'] = _hash(
    // Keyword, ECMA-262 3rd: 7.5.2
    'break    else       new     var',
    'case     finally    return  void',
    'catch    for        switch  while',
    'continue function   this    with',
    'default  if         throw',
    'delete   in         try',
    'do       instanceof typeof',
    // FutureReservedWord, ECMA-262 3rd 7.5.3
    'abstract enum       int        short',
    'boolean  export     interface  static',
    'byte     extends    long       super',
    'char     final      native     synchronized',
    'class    float      package    throws',
    'const    goto       private    transient',
    'debugger implements protected  volatile',
    'double   import     public',
    // NullLiteral & BooleanLiteral
    'null true false'
);

/**
 * Reserved Words for ES5.
 *
 * http://es5.github.io/#x7.6.1
 *
 * @type {KeywordsHash}
 */
KEYWORDS['5'] = _hash(
    // Keyword
    'break    do       instanceof typeof',
    'case     else     new        var',
    'catch    finally  return     void',
    'continue for      switch     while',
    'debugger function this       with',
    'default  if       throw',
    'delete   in       try',
    // FutureReservedWord
    'class enum extends super',
    'const export import',
    // NullLiteral & BooleanLiteral
    'null true false'
);

/**
 * Reserved Words for ES5 in strict mode.
 *
 * @type {KeywordsHash}
 */
KEYWORDS['5-strict'] = _hash(
    KEYWORDS['5'],
    // FutureReservedWord, strict mode. http://es5.github.io/#x7.6.1.2
    'implements let     private   public yield',
    'interface  package protected static'
);

/**
 * Reserved Words for ES6.
 *
 * 11.6.2
 * http://www.ecma-international.org/ecma-262/6.0/index.html#sec-reserved-words
 *
 * @type {KeywordsHash}
 */
KEYWORDS['6'] = _hash(
    // Keywords, ES6 11.6.2.1, http://www.ecma-international.org/ecma-262/6.0/index.html#sec-keywords
    'break    do       in         typeof',
    'case     else     instanceof var',
    'catch    export   new        void',
    'class    extends  return     while',
    'const    finally  super      with',
    'continue for      switch     yield',
    'debugger function this',
    'default  if       throw',
    'delete   import   try',
    // Future Reserved Words, ES6 11.6.2.2
    // http://www.ecma-international.org/ecma-262/6.0/index.html#sec-future-reserved-words
    'enum await',
    // NullLiteral & BooleanLiteral
    'null true false'
);

/**
 * Reserved Words for ES6 in strict mode.
 *
 * @type {KeywordsHash}
 */
KEYWORDS['6-strict'] = _hash(
    KEYWORDS['6'],
    // Keywords, ES6 11.6.2.1
    'let static',
    // Future Reserved Words, ES6 11.6.2.2
    'implements package protected',
    'interface private public'
);

/**
 * Generates hash from strings
 *
 * @private
 * @param {...String|KeywordsHash} keywords - Space-delimited string or previous result of _hash
 * @return {KeywordsHash} - Object with keywords in keys and true in values
 */
function _hash() {
    var set = Array.prototype.map.call(arguments, function(v) {
        return typeof v === 'string' ? v : Object.keys(v).join(' ');
    }).join(' ');

    return set.split(/\s+/)
        .reduce(function(res, keyword) {
            res[keyword] = true;
            return res;
        }, {});
}


/***/ }),

/***/ "./node_modules/rxjs/_esm5/index.js":
/*!******************************************!*\
  !*** ./node_modules/rxjs/_esm5/index.js ***!
  \******************************************/
/*! exports provided: Observable, ConnectableObservable, GroupedObservable, observable, Subject, BehaviorSubject, ReplaySubject, AsyncSubject, asap, asapScheduler, async, asyncScheduler, queue, queueScheduler, animationFrame, animationFrameScheduler, VirtualTimeScheduler, VirtualAction, Scheduler, Subscription, Subscriber, Notification, NotificationKind, pipe, noop, identity, isObservable, ArgumentOutOfRangeError, EmptyError, ObjectUnsubscribedError, UnsubscriptionError, TimeoutError, bindCallback, bindNodeCallback, combineLatest, concat, defer, empty, forkJoin, from, fromEvent, fromEventPattern, generate, iif, interval, merge, never, of, onErrorResumeNext, pairs, partition, race, range, throwError, timer, using, zip, scheduled, EMPTY, NEVER, config */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _internal_Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal/Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Observable", function() { return _internal_Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"]; });

/* harmony import */ var _internal_observable_ConnectableObservable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./internal/observable/ConnectableObservable */ "./node_modules/rxjs/_esm5/internal/observable/ConnectableObservable.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ConnectableObservable", function() { return _internal_observable_ConnectableObservable__WEBPACK_IMPORTED_MODULE_1__["ConnectableObservable"]; });

/* harmony import */ var _internal_operators_groupBy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./internal/operators/groupBy */ "./node_modules/rxjs/_esm5/internal/operators/groupBy.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "GroupedObservable", function() { return _internal_operators_groupBy__WEBPACK_IMPORTED_MODULE_2__["GroupedObservable"]; });

/* harmony import */ var _internal_symbol_observable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./internal/symbol/observable */ "./node_modules/rxjs/_esm5/internal/symbol/observable.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "observable", function() { return _internal_symbol_observable__WEBPACK_IMPORTED_MODULE_3__["observable"]; });

/* harmony import */ var _internal_Subject__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./internal/Subject */ "./node_modules/rxjs/_esm5/internal/Subject.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Subject", function() { return _internal_Subject__WEBPACK_IMPORTED_MODULE_4__["Subject"]; });

/* harmony import */ var _internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./internal/BehaviorSubject */ "./node_modules/rxjs/_esm5/internal/BehaviorSubject.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BehaviorSubject", function() { return _internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_5__["BehaviorSubject"]; });

/* harmony import */ var _internal_ReplaySubject__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./internal/ReplaySubject */ "./node_modules/rxjs/_esm5/internal/ReplaySubject.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ReplaySubject", function() { return _internal_ReplaySubject__WEBPACK_IMPORTED_MODULE_6__["ReplaySubject"]; });

/* harmony import */ var _internal_AsyncSubject__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./internal/AsyncSubject */ "./node_modules/rxjs/_esm5/internal/AsyncSubject.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AsyncSubject", function() { return _internal_AsyncSubject__WEBPACK_IMPORTED_MODULE_7__["AsyncSubject"]; });

/* harmony import */ var _internal_scheduler_asap__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./internal/scheduler/asap */ "./node_modules/rxjs/_esm5/internal/scheduler/asap.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "asap", function() { return _internal_scheduler_asap__WEBPACK_IMPORTED_MODULE_8__["asap"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "asapScheduler", function() { return _internal_scheduler_asap__WEBPACK_IMPORTED_MODULE_8__["asapScheduler"]; });

/* harmony import */ var _internal_scheduler_async__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./internal/scheduler/async */ "./node_modules/rxjs/_esm5/internal/scheduler/async.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "async", function() { return _internal_scheduler_async__WEBPACK_IMPORTED_MODULE_9__["async"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "asyncScheduler", function() { return _internal_scheduler_async__WEBPACK_IMPORTED_MODULE_9__["asyncScheduler"]; });

/* harmony import */ var _internal_scheduler_queue__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./internal/scheduler/queue */ "./node_modules/rxjs/_esm5/internal/scheduler/queue.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "queue", function() { return _internal_scheduler_queue__WEBPACK_IMPORTED_MODULE_10__["queue"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "queueScheduler", function() { return _internal_scheduler_queue__WEBPACK_IMPORTED_MODULE_10__["queueScheduler"]; });

/* harmony import */ var _internal_scheduler_animationFrame__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./internal/scheduler/animationFrame */ "./node_modules/rxjs/_esm5/internal/scheduler/animationFrame.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "animationFrame", function() { return _internal_scheduler_animationFrame__WEBPACK_IMPORTED_MODULE_11__["animationFrame"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "animationFrameScheduler", function() { return _internal_scheduler_animationFrame__WEBPACK_IMPORTED_MODULE_11__["animationFrameScheduler"]; });

/* harmony import */ var _internal_scheduler_VirtualTimeScheduler__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./internal/scheduler/VirtualTimeScheduler */ "./node_modules/rxjs/_esm5/internal/scheduler/VirtualTimeScheduler.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "VirtualTimeScheduler", function() { return _internal_scheduler_VirtualTimeScheduler__WEBPACK_IMPORTED_MODULE_12__["VirtualTimeScheduler"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "VirtualAction", function() { return _internal_scheduler_VirtualTimeScheduler__WEBPACK_IMPORTED_MODULE_12__["VirtualAction"]; });

/* harmony import */ var _internal_Scheduler__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./internal/Scheduler */ "./node_modules/rxjs/_esm5/internal/Scheduler.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Scheduler", function() { return _internal_Scheduler__WEBPACK_IMPORTED_MODULE_13__["Scheduler"]; });

/* harmony import */ var _internal_Subscription__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./internal/Subscription */ "./node_modules/rxjs/_esm5/internal/Subscription.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Subscription", function() { return _internal_Subscription__WEBPACK_IMPORTED_MODULE_14__["Subscription"]; });

/* harmony import */ var _internal_Subscriber__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./internal/Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Subscriber", function() { return _internal_Subscriber__WEBPACK_IMPORTED_MODULE_15__["Subscriber"]; });

/* harmony import */ var _internal_Notification__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./internal/Notification */ "./node_modules/rxjs/_esm5/internal/Notification.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Notification", function() { return _internal_Notification__WEBPACK_IMPORTED_MODULE_16__["Notification"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "NotificationKind", function() { return _internal_Notification__WEBPACK_IMPORTED_MODULE_16__["NotificationKind"]; });

/* harmony import */ var _internal_util_pipe__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./internal/util/pipe */ "./node_modules/rxjs/_esm5/internal/util/pipe.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "pipe", function() { return _internal_util_pipe__WEBPACK_IMPORTED_MODULE_17__["pipe"]; });

/* harmony import */ var _internal_util_noop__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./internal/util/noop */ "./node_modules/rxjs/_esm5/internal/util/noop.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "noop", function() { return _internal_util_noop__WEBPACK_IMPORTED_MODULE_18__["noop"]; });

/* harmony import */ var _internal_util_identity__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./internal/util/identity */ "./node_modules/rxjs/_esm5/internal/util/identity.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "identity", function() { return _internal_util_identity__WEBPACK_IMPORTED_MODULE_19__["identity"]; });

/* harmony import */ var _internal_util_isObservable__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./internal/util/isObservable */ "./node_modules/rxjs/_esm5/internal/util/isObservable.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isObservable", function() { return _internal_util_isObservable__WEBPACK_IMPORTED_MODULE_20__["isObservable"]; });

/* harmony import */ var _internal_util_ArgumentOutOfRangeError__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./internal/util/ArgumentOutOfRangeError */ "./node_modules/rxjs/_esm5/internal/util/ArgumentOutOfRangeError.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ArgumentOutOfRangeError", function() { return _internal_util_ArgumentOutOfRangeError__WEBPACK_IMPORTED_MODULE_21__["ArgumentOutOfRangeError"]; });

/* harmony import */ var _internal_util_EmptyError__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./internal/util/EmptyError */ "./node_modules/rxjs/_esm5/internal/util/EmptyError.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "EmptyError", function() { return _internal_util_EmptyError__WEBPACK_IMPORTED_MODULE_22__["EmptyError"]; });

/* harmony import */ var _internal_util_ObjectUnsubscribedError__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./internal/util/ObjectUnsubscribedError */ "./node_modules/rxjs/_esm5/internal/util/ObjectUnsubscribedError.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ObjectUnsubscribedError", function() { return _internal_util_ObjectUnsubscribedError__WEBPACK_IMPORTED_MODULE_23__["ObjectUnsubscribedError"]; });

/* harmony import */ var _internal_util_UnsubscriptionError__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./internal/util/UnsubscriptionError */ "./node_modules/rxjs/_esm5/internal/util/UnsubscriptionError.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UnsubscriptionError", function() { return _internal_util_UnsubscriptionError__WEBPACK_IMPORTED_MODULE_24__["UnsubscriptionError"]; });

/* harmony import */ var _internal_util_TimeoutError__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./internal/util/TimeoutError */ "./node_modules/rxjs/_esm5/internal/util/TimeoutError.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TimeoutError", function() { return _internal_util_TimeoutError__WEBPACK_IMPORTED_MODULE_25__["TimeoutError"]; });

/* harmony import */ var _internal_observable_bindCallback__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./internal/observable/bindCallback */ "./node_modules/rxjs/_esm5/internal/observable/bindCallback.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "bindCallback", function() { return _internal_observable_bindCallback__WEBPACK_IMPORTED_MODULE_26__["bindCallback"]; });

/* harmony import */ var _internal_observable_bindNodeCallback__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./internal/observable/bindNodeCallback */ "./node_modules/rxjs/_esm5/internal/observable/bindNodeCallback.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "bindNodeCallback", function() { return _internal_observable_bindNodeCallback__WEBPACK_IMPORTED_MODULE_27__["bindNodeCallback"]; });

/* harmony import */ var _internal_observable_combineLatest__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./internal/observable/combineLatest */ "./node_modules/rxjs/_esm5/internal/observable/combineLatest.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "combineLatest", function() { return _internal_observable_combineLatest__WEBPACK_IMPORTED_MODULE_28__["combineLatest"]; });

/* harmony import */ var _internal_observable_concat__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./internal/observable/concat */ "./node_modules/rxjs/_esm5/internal/observable/concat.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "concat", function() { return _internal_observable_concat__WEBPACK_IMPORTED_MODULE_29__["concat"]; });

/* harmony import */ var _internal_observable_defer__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./internal/observable/defer */ "./node_modules/rxjs/_esm5/internal/observable/defer.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "defer", function() { return _internal_observable_defer__WEBPACK_IMPORTED_MODULE_30__["defer"]; });

/* harmony import */ var _internal_observable_empty__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./internal/observable/empty */ "./node_modules/rxjs/_esm5/internal/observable/empty.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "empty", function() { return _internal_observable_empty__WEBPACK_IMPORTED_MODULE_31__["empty"]; });

/* harmony import */ var _internal_observable_forkJoin__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./internal/observable/forkJoin */ "./node_modules/rxjs/_esm5/internal/observable/forkJoin.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "forkJoin", function() { return _internal_observable_forkJoin__WEBPACK_IMPORTED_MODULE_32__["forkJoin"]; });

/* harmony import */ var _internal_observable_from__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./internal/observable/from */ "./node_modules/rxjs/_esm5/internal/observable/from.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "from", function() { return _internal_observable_from__WEBPACK_IMPORTED_MODULE_33__["from"]; });

/* harmony import */ var _internal_observable_fromEvent__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./internal/observable/fromEvent */ "./node_modules/rxjs/_esm5/internal/observable/fromEvent.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "fromEvent", function() { return _internal_observable_fromEvent__WEBPACK_IMPORTED_MODULE_34__["fromEvent"]; });

/* harmony import */ var _internal_observable_fromEventPattern__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./internal/observable/fromEventPattern */ "./node_modules/rxjs/_esm5/internal/observable/fromEventPattern.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "fromEventPattern", function() { return _internal_observable_fromEventPattern__WEBPACK_IMPORTED_MODULE_35__["fromEventPattern"]; });

/* harmony import */ var _internal_observable_generate__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./internal/observable/generate */ "./node_modules/rxjs/_esm5/internal/observable/generate.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "generate", function() { return _internal_observable_generate__WEBPACK_IMPORTED_MODULE_36__["generate"]; });

/* harmony import */ var _internal_observable_iif__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./internal/observable/iif */ "./node_modules/rxjs/_esm5/internal/observable/iif.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "iif", function() { return _internal_observable_iif__WEBPACK_IMPORTED_MODULE_37__["iif"]; });

/* harmony import */ var _internal_observable_interval__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./internal/observable/interval */ "./node_modules/rxjs/_esm5/internal/observable/interval.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "interval", function() { return _internal_observable_interval__WEBPACK_IMPORTED_MODULE_38__["interval"]; });

/* harmony import */ var _internal_observable_merge__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./internal/observable/merge */ "./node_modules/rxjs/_esm5/internal/observable/merge.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "merge", function() { return _internal_observable_merge__WEBPACK_IMPORTED_MODULE_39__["merge"]; });

/* harmony import */ var _internal_observable_never__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./internal/observable/never */ "./node_modules/rxjs/_esm5/internal/observable/never.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "never", function() { return _internal_observable_never__WEBPACK_IMPORTED_MODULE_40__["never"]; });

/* harmony import */ var _internal_observable_of__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./internal/observable/of */ "./node_modules/rxjs/_esm5/internal/observable/of.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "of", function() { return _internal_observable_of__WEBPACK_IMPORTED_MODULE_41__["of"]; });

/* harmony import */ var _internal_observable_onErrorResumeNext__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./internal/observable/onErrorResumeNext */ "./node_modules/rxjs/_esm5/internal/observable/onErrorResumeNext.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "onErrorResumeNext", function() { return _internal_observable_onErrorResumeNext__WEBPACK_IMPORTED_MODULE_42__["onErrorResumeNext"]; });

/* harmony import */ var _internal_observable_pairs__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./internal/observable/pairs */ "./node_modules/rxjs/_esm5/internal/observable/pairs.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "pairs", function() { return _internal_observable_pairs__WEBPACK_IMPORTED_MODULE_43__["pairs"]; });

/* harmony import */ var _internal_observable_partition__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./internal/observable/partition */ "./node_modules/rxjs/_esm5/internal/observable/partition.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "partition", function() { return _internal_observable_partition__WEBPACK_IMPORTED_MODULE_44__["partition"]; });

/* harmony import */ var _internal_observable_race__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./internal/observable/race */ "./node_modules/rxjs/_esm5/internal/observable/race.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "race", function() { return _internal_observable_race__WEBPACK_IMPORTED_MODULE_45__["race"]; });

/* harmony import */ var _internal_observable_range__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./internal/observable/range */ "./node_modules/rxjs/_esm5/internal/observable/range.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "range", function() { return _internal_observable_range__WEBPACK_IMPORTED_MODULE_46__["range"]; });

/* harmony import */ var _internal_observable_throwError__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./internal/observable/throwError */ "./node_modules/rxjs/_esm5/internal/observable/throwError.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "throwError", function() { return _internal_observable_throwError__WEBPACK_IMPORTED_MODULE_47__["throwError"]; });

/* harmony import */ var _internal_observable_timer__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./internal/observable/timer */ "./node_modules/rxjs/_esm5/internal/observable/timer.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "timer", function() { return _internal_observable_timer__WEBPACK_IMPORTED_MODULE_48__["timer"]; });

/* harmony import */ var _internal_observable_using__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ./internal/observable/using */ "./node_modules/rxjs/_esm5/internal/observable/using.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "using", function() { return _internal_observable_using__WEBPACK_IMPORTED_MODULE_49__["using"]; });

/* harmony import */ var _internal_observable_zip__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./internal/observable/zip */ "./node_modules/rxjs/_esm5/internal/observable/zip.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "zip", function() { return _internal_observable_zip__WEBPACK_IMPORTED_MODULE_50__["zip"]; });

/* harmony import */ var _internal_scheduled_scheduled__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ./internal/scheduled/scheduled */ "./node_modules/rxjs/_esm5/internal/scheduled/scheduled.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "scheduled", function() { return _internal_scheduled_scheduled__WEBPACK_IMPORTED_MODULE_51__["scheduled"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "EMPTY", function() { return _internal_observable_empty__WEBPACK_IMPORTED_MODULE_31__["EMPTY"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "NEVER", function() { return _internal_observable_never__WEBPACK_IMPORTED_MODULE_40__["NEVER"]; });

/* harmony import */ var _internal_config__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ./internal/config */ "./node_modules/rxjs/_esm5/internal/config.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "config", function() { return _internal_config__WEBPACK_IMPORTED_MODULE_52__["config"]; });

/** PURE_IMPORTS_START  PURE_IMPORTS_END */























































//# sourceMappingURL=index.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/AsyncSubject.js":
/*!**********************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/AsyncSubject.js ***!
  \**********************************************************/
/*! exports provided: AsyncSubject */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AsyncSubject", function() { return AsyncSubject; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Subject */ "./node_modules/rxjs/_esm5/internal/Subject.js");
/* harmony import */ var _Subscription__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Subscription */ "./node_modules/rxjs/_esm5/internal/Subscription.js");
/** PURE_IMPORTS_START tslib,_Subject,_Subscription PURE_IMPORTS_END */



var AsyncSubject = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](AsyncSubject, _super);
    function AsyncSubject() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.value = null;
        _this.hasNext = false;
        _this.hasCompleted = false;
        return _this;
    }
    AsyncSubject.prototype._subscribe = function (subscriber) {
        if (this.hasError) {
            subscriber.error(this.thrownError);
            return _Subscription__WEBPACK_IMPORTED_MODULE_2__["Subscription"].EMPTY;
        }
        else if (this.hasCompleted && this.hasNext) {
            subscriber.next(this.value);
            subscriber.complete();
            return _Subscription__WEBPACK_IMPORTED_MODULE_2__["Subscription"].EMPTY;
        }
        return _super.prototype._subscribe.call(this, subscriber);
    };
    AsyncSubject.prototype.next = function (value) {
        if (!this.hasCompleted) {
            this.value = value;
            this.hasNext = true;
        }
    };
    AsyncSubject.prototype.error = function (error) {
        if (!this.hasCompleted) {
            _super.prototype.error.call(this, error);
        }
    };
    AsyncSubject.prototype.complete = function () {
        this.hasCompleted = true;
        if (this.hasNext) {
            _super.prototype.next.call(this, this.value);
        }
        _super.prototype.complete.call(this);
    };
    return AsyncSubject;
}(_Subject__WEBPACK_IMPORTED_MODULE_1__["Subject"]));

//# sourceMappingURL=AsyncSubject.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/BehaviorSubject.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/BehaviorSubject.js ***!
  \*************************************************************/
/*! exports provided: BehaviorSubject */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BehaviorSubject", function() { return BehaviorSubject; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Subject */ "./node_modules/rxjs/_esm5/internal/Subject.js");
/* harmony import */ var _util_ObjectUnsubscribedError__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util/ObjectUnsubscribedError */ "./node_modules/rxjs/_esm5/internal/util/ObjectUnsubscribedError.js");
/** PURE_IMPORTS_START tslib,_Subject,_util_ObjectUnsubscribedError PURE_IMPORTS_END */



var BehaviorSubject = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](BehaviorSubject, _super);
    function BehaviorSubject(_value) {
        var _this = _super.call(this) || this;
        _this._value = _value;
        return _this;
    }
    Object.defineProperty(BehaviorSubject.prototype, "value", {
        get: function () {
            return this.getValue();
        },
        enumerable: true,
        configurable: true
    });
    BehaviorSubject.prototype._subscribe = function (subscriber) {
        var subscription = _super.prototype._subscribe.call(this, subscriber);
        if (subscription && !subscription.closed) {
            subscriber.next(this._value);
        }
        return subscription;
    };
    BehaviorSubject.prototype.getValue = function () {
        if (this.hasError) {
            throw this.thrownError;
        }
        else if (this.closed) {
            throw new _util_ObjectUnsubscribedError__WEBPACK_IMPORTED_MODULE_2__["ObjectUnsubscribedError"]();
        }
        else {
            return this._value;
        }
    };
    BehaviorSubject.prototype.next = function (value) {
        _super.prototype.next.call(this, this._value = value);
    };
    return BehaviorSubject;
}(_Subject__WEBPACK_IMPORTED_MODULE_1__["Subject"]));

//# sourceMappingURL=BehaviorSubject.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/InnerSubscriber.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/InnerSubscriber.js ***!
  \*************************************************************/
/*! exports provided: InnerSubscriber */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InnerSubscriber", function() { return InnerSubscriber; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


var InnerSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](InnerSubscriber, _super);
    function InnerSubscriber(parent, outerValue, outerIndex) {
        var _this = _super.call(this) || this;
        _this.parent = parent;
        _this.outerValue = outerValue;
        _this.outerIndex = outerIndex;
        _this.index = 0;
        return _this;
    }
    InnerSubscriber.prototype._next = function (value) {
        this.parent.notifyNext(this.outerValue, value, this.outerIndex, this.index++, this);
    };
    InnerSubscriber.prototype._error = function (error) {
        this.parent.notifyError(error, this);
        this.unsubscribe();
    };
    InnerSubscriber.prototype._complete = function () {
        this.parent.notifyComplete(this);
        this.unsubscribe();
    };
    return InnerSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));

//# sourceMappingURL=InnerSubscriber.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/Notification.js":
/*!**********************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/Notification.js ***!
  \**********************************************************/
/*! exports provided: NotificationKind, Notification */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NotificationKind", function() { return NotificationKind; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Notification", function() { return Notification; });
/* harmony import */ var _observable_empty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./observable/empty */ "./node_modules/rxjs/_esm5/internal/observable/empty.js");
/* harmony import */ var _observable_of__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./observable/of */ "./node_modules/rxjs/_esm5/internal/observable/of.js");
/* harmony import */ var _observable_throwError__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./observable/throwError */ "./node_modules/rxjs/_esm5/internal/observable/throwError.js");
/** PURE_IMPORTS_START _observable_empty,_observable_of,_observable_throwError PURE_IMPORTS_END */



var NotificationKind;
/*@__PURE__*/ (function (NotificationKind) {
    NotificationKind["NEXT"] = "N";
    NotificationKind["ERROR"] = "E";
    NotificationKind["COMPLETE"] = "C";
})(NotificationKind || (NotificationKind = {}));
var Notification = /*@__PURE__*/ (function () {
    function Notification(kind, value, error) {
        this.kind = kind;
        this.value = value;
        this.error = error;
        this.hasValue = kind === 'N';
    }
    Notification.prototype.observe = function (observer) {
        switch (this.kind) {
            case 'N':
                return observer.next && observer.next(this.value);
            case 'E':
                return observer.error && observer.error(this.error);
            case 'C':
                return observer.complete && observer.complete();
        }
    };
    Notification.prototype.do = function (next, error, complete) {
        var kind = this.kind;
        switch (kind) {
            case 'N':
                return next && next(this.value);
            case 'E':
                return error && error(this.error);
            case 'C':
                return complete && complete();
        }
    };
    Notification.prototype.accept = function (nextOrObserver, error, complete) {
        if (nextOrObserver && typeof nextOrObserver.next === 'function') {
            return this.observe(nextOrObserver);
        }
        else {
            return this.do(nextOrObserver, error, complete);
        }
    };
    Notification.prototype.toObservable = function () {
        var kind = this.kind;
        switch (kind) {
            case 'N':
                return Object(_observable_of__WEBPACK_IMPORTED_MODULE_1__["of"])(this.value);
            case 'E':
                return Object(_observable_throwError__WEBPACK_IMPORTED_MODULE_2__["throwError"])(this.error);
            case 'C':
                return Object(_observable_empty__WEBPACK_IMPORTED_MODULE_0__["empty"])();
        }
        throw new Error('unexpected notification kind value');
    };
    Notification.createNext = function (value) {
        if (typeof value !== 'undefined') {
            return new Notification('N', value);
        }
        return Notification.undefinedValueNotification;
    };
    Notification.createError = function (err) {
        return new Notification('E', undefined, err);
    };
    Notification.createComplete = function () {
        return Notification.completeNotification;
    };
    Notification.completeNotification = new Notification('C');
    Notification.undefinedValueNotification = new Notification('N', undefined);
    return Notification;
}());

//# sourceMappingURL=Notification.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/Observable.js":
/*!********************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/Observable.js ***!
  \********************************************************/
/*! exports provided: Observable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Observable", function() { return Observable; });
/* harmony import */ var _util_canReportError__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/canReportError */ "./node_modules/rxjs/_esm5/internal/util/canReportError.js");
/* harmony import */ var _util_toSubscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/toSubscriber */ "./node_modules/rxjs/_esm5/internal/util/toSubscriber.js");
/* harmony import */ var _symbol_observable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./symbol/observable */ "./node_modules/rxjs/_esm5/internal/symbol/observable.js");
/* harmony import */ var _util_pipe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./util/pipe */ "./node_modules/rxjs/_esm5/internal/util/pipe.js");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./config */ "./node_modules/rxjs/_esm5/internal/config.js");
/** PURE_IMPORTS_START _util_canReportError,_util_toSubscriber,_symbol_observable,_util_pipe,_config PURE_IMPORTS_END */





var Observable = /*@__PURE__*/ (function () {
    function Observable(subscribe) {
        this._isScalar = false;
        if (subscribe) {
            this._subscribe = subscribe;
        }
    }
    Observable.prototype.lift = function (operator) {
        var observable = new Observable();
        observable.source = this;
        observable.operator = operator;
        return observable;
    };
    Observable.prototype.subscribe = function (observerOrNext, error, complete) {
        var operator = this.operator;
        var sink = Object(_util_toSubscriber__WEBPACK_IMPORTED_MODULE_1__["toSubscriber"])(observerOrNext, error, complete);
        if (operator) {
            sink.add(operator.call(sink, this.source));
        }
        else {
            sink.add(this.source || (_config__WEBPACK_IMPORTED_MODULE_4__["config"].useDeprecatedSynchronousErrorHandling && !sink.syncErrorThrowable) ?
                this._subscribe(sink) :
                this._trySubscribe(sink));
        }
        if (_config__WEBPACK_IMPORTED_MODULE_4__["config"].useDeprecatedSynchronousErrorHandling) {
            if (sink.syncErrorThrowable) {
                sink.syncErrorThrowable = false;
                if (sink.syncErrorThrown) {
                    throw sink.syncErrorValue;
                }
            }
        }
        return sink;
    };
    Observable.prototype._trySubscribe = function (sink) {
        try {
            return this._subscribe(sink);
        }
        catch (err) {
            if (_config__WEBPACK_IMPORTED_MODULE_4__["config"].useDeprecatedSynchronousErrorHandling) {
                sink.syncErrorThrown = true;
                sink.syncErrorValue = err;
            }
            if (Object(_util_canReportError__WEBPACK_IMPORTED_MODULE_0__["canReportError"])(sink)) {
                sink.error(err);
            }
            else {
                console.warn(err);
            }
        }
    };
    Observable.prototype.forEach = function (next, promiseCtor) {
        var _this = this;
        promiseCtor = getPromiseCtor(promiseCtor);
        return new promiseCtor(function (resolve, reject) {
            var subscription;
            subscription = _this.subscribe(function (value) {
                try {
                    next(value);
                }
                catch (err) {
                    reject(err);
                    if (subscription) {
                        subscription.unsubscribe();
                    }
                }
            }, reject, resolve);
        });
    };
    Observable.prototype._subscribe = function (subscriber) {
        var source = this.source;
        return source && source.subscribe(subscriber);
    };
    Observable.prototype[_symbol_observable__WEBPACK_IMPORTED_MODULE_2__["observable"]] = function () {
        return this;
    };
    Observable.prototype.pipe = function () {
        var operations = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            operations[_i] = arguments[_i];
        }
        if (operations.length === 0) {
            return this;
        }
        return Object(_util_pipe__WEBPACK_IMPORTED_MODULE_3__["pipeFromArray"])(operations)(this);
    };
    Observable.prototype.toPromise = function (promiseCtor) {
        var _this = this;
        promiseCtor = getPromiseCtor(promiseCtor);
        return new promiseCtor(function (resolve, reject) {
            var value;
            _this.subscribe(function (x) { return value = x; }, function (err) { return reject(err); }, function () { return resolve(value); });
        });
    };
    Observable.create = function (subscribe) {
        return new Observable(subscribe);
    };
    return Observable;
}());

function getPromiseCtor(promiseCtor) {
    if (!promiseCtor) {
        promiseCtor = _config__WEBPACK_IMPORTED_MODULE_4__["config"].Promise || Promise;
    }
    if (!promiseCtor) {
        throw new Error('no Promise impl found');
    }
    return promiseCtor;
}
//# sourceMappingURL=Observable.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/Observer.js":
/*!******************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/Observer.js ***!
  \******************************************************/
/*! exports provided: empty */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "empty", function() { return empty; });
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config */ "./node_modules/rxjs/_esm5/internal/config.js");
/* harmony import */ var _util_hostReportError__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/hostReportError */ "./node_modules/rxjs/_esm5/internal/util/hostReportError.js");
/** PURE_IMPORTS_START _config,_util_hostReportError PURE_IMPORTS_END */


var empty = {
    closed: true,
    next: function (value) { },
    error: function (err) {
        if (_config__WEBPACK_IMPORTED_MODULE_0__["config"].useDeprecatedSynchronousErrorHandling) {
            throw err;
        }
        else {
            Object(_util_hostReportError__WEBPACK_IMPORTED_MODULE_1__["hostReportError"])(err);
        }
    },
    complete: function () { }
};
//# sourceMappingURL=Observer.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/OuterSubscriber.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/OuterSubscriber.js ***!
  \*************************************************************/
/*! exports provided: OuterSubscriber */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OuterSubscriber", function() { return OuterSubscriber; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


var OuterSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](OuterSubscriber, _super);
    function OuterSubscriber() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    OuterSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        this.destination.next(innerValue);
    };
    OuterSubscriber.prototype.notifyError = function (error, innerSub) {
        this.destination.error(error);
    };
    OuterSubscriber.prototype.notifyComplete = function (innerSub) {
        this.destination.complete();
    };
    return OuterSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));

//# sourceMappingURL=OuterSubscriber.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/ReplaySubject.js":
/*!***********************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/ReplaySubject.js ***!
  \***********************************************************/
/*! exports provided: ReplaySubject */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReplaySubject", function() { return ReplaySubject; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Subject */ "./node_modules/rxjs/_esm5/internal/Subject.js");
/* harmony import */ var _scheduler_queue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scheduler/queue */ "./node_modules/rxjs/_esm5/internal/scheduler/queue.js");
/* harmony import */ var _Subscription__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Subscription */ "./node_modules/rxjs/_esm5/internal/Subscription.js");
/* harmony import */ var _operators_observeOn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./operators/observeOn */ "./node_modules/rxjs/_esm5/internal/operators/observeOn.js");
/* harmony import */ var _util_ObjectUnsubscribedError__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./util/ObjectUnsubscribedError */ "./node_modules/rxjs/_esm5/internal/util/ObjectUnsubscribedError.js");
/* harmony import */ var _SubjectSubscription__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./SubjectSubscription */ "./node_modules/rxjs/_esm5/internal/SubjectSubscription.js");
/** PURE_IMPORTS_START tslib,_Subject,_scheduler_queue,_Subscription,_operators_observeOn,_util_ObjectUnsubscribedError,_SubjectSubscription PURE_IMPORTS_END */







var ReplaySubject = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ReplaySubject, _super);
    function ReplaySubject(bufferSize, windowTime, scheduler) {
        if (bufferSize === void 0) {
            bufferSize = Number.POSITIVE_INFINITY;
        }
        if (windowTime === void 0) {
            windowTime = Number.POSITIVE_INFINITY;
        }
        var _this = _super.call(this) || this;
        _this.scheduler = scheduler;
        _this._events = [];
        _this._infiniteTimeWindow = false;
        _this._bufferSize = bufferSize < 1 ? 1 : bufferSize;
        _this._windowTime = windowTime < 1 ? 1 : windowTime;
        if (windowTime === Number.POSITIVE_INFINITY) {
            _this._infiniteTimeWindow = true;
            _this.next = _this.nextInfiniteTimeWindow;
        }
        else {
            _this.next = _this.nextTimeWindow;
        }
        return _this;
    }
    ReplaySubject.prototype.nextInfiniteTimeWindow = function (value) {
        if (!this.isStopped) {
            var _events = this._events;
            _events.push(value);
            if (_events.length > this._bufferSize) {
                _events.shift();
            }
        }
        _super.prototype.next.call(this, value);
    };
    ReplaySubject.prototype.nextTimeWindow = function (value) {
        if (!this.isStopped) {
            this._events.push(new ReplayEvent(this._getNow(), value));
            this._trimBufferThenGetEvents();
        }
        _super.prototype.next.call(this, value);
    };
    ReplaySubject.prototype._subscribe = function (subscriber) {
        var _infiniteTimeWindow = this._infiniteTimeWindow;
        var _events = _infiniteTimeWindow ? this._events : this._trimBufferThenGetEvents();
        var scheduler = this.scheduler;
        var len = _events.length;
        var subscription;
        if (this.closed) {
            throw new _util_ObjectUnsubscribedError__WEBPACK_IMPORTED_MODULE_5__["ObjectUnsubscribedError"]();
        }
        else if (this.isStopped || this.hasError) {
            subscription = _Subscription__WEBPACK_IMPORTED_MODULE_3__["Subscription"].EMPTY;
        }
        else {
            this.observers.push(subscriber);
            subscription = new _SubjectSubscription__WEBPACK_IMPORTED_MODULE_6__["SubjectSubscription"](this, subscriber);
        }
        if (scheduler) {
            subscriber.add(subscriber = new _operators_observeOn__WEBPACK_IMPORTED_MODULE_4__["ObserveOnSubscriber"](subscriber, scheduler));
        }
        if (_infiniteTimeWindow) {
            for (var i = 0; i < len && !subscriber.closed; i++) {
                subscriber.next(_events[i]);
            }
        }
        else {
            for (var i = 0; i < len && !subscriber.closed; i++) {
                subscriber.next(_events[i].value);
            }
        }
        if (this.hasError) {
            subscriber.error(this.thrownError);
        }
        else if (this.isStopped) {
            subscriber.complete();
        }
        return subscription;
    };
    ReplaySubject.prototype._getNow = function () {
        return (this.scheduler || _scheduler_queue__WEBPACK_IMPORTED_MODULE_2__["queue"]).now();
    };
    ReplaySubject.prototype._trimBufferThenGetEvents = function () {
        var now = this._getNow();
        var _bufferSize = this._bufferSize;
        var _windowTime = this._windowTime;
        var _events = this._events;
        var eventsCount = _events.length;
        var spliceCount = 0;
        while (spliceCount < eventsCount) {
            if ((now - _events[spliceCount].time) < _windowTime) {
                break;
            }
            spliceCount++;
        }
        if (eventsCount > _bufferSize) {
            spliceCount = Math.max(spliceCount, eventsCount - _bufferSize);
        }
        if (spliceCount > 0) {
            _events.splice(0, spliceCount);
        }
        return _events;
    };
    return ReplaySubject;
}(_Subject__WEBPACK_IMPORTED_MODULE_1__["Subject"]));

var ReplayEvent = /*@__PURE__*/ (function () {
    function ReplayEvent(time, value) {
        this.time = time;
        this.value = value;
    }
    return ReplayEvent;
}());
//# sourceMappingURL=ReplaySubject.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/Scheduler.js":
/*!*******************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/Scheduler.js ***!
  \*******************************************************/
/*! exports provided: Scheduler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Scheduler", function() { return Scheduler; });
var Scheduler = /*@__PURE__*/ (function () {
    function Scheduler(SchedulerAction, now) {
        if (now === void 0) {
            now = Scheduler.now;
        }
        this.SchedulerAction = SchedulerAction;
        this.now = now;
    }
    Scheduler.prototype.schedule = function (work, delay, state) {
        if (delay === void 0) {
            delay = 0;
        }
        return new this.SchedulerAction(this, work).schedule(state, delay);
    };
    Scheduler.now = function () { return Date.now(); };
    return Scheduler;
}());

//# sourceMappingURL=Scheduler.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/Subject.js":
/*!*****************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/Subject.js ***!
  \*****************************************************/
/*! exports provided: SubjectSubscriber, Subject, AnonymousSubject */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SubjectSubscriber", function() { return SubjectSubscriber; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Subject", function() { return Subject; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnonymousSubject", function() { return AnonymousSubject; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _Subscription__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Subscription */ "./node_modules/rxjs/_esm5/internal/Subscription.js");
/* harmony import */ var _util_ObjectUnsubscribedError__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./util/ObjectUnsubscribedError */ "./node_modules/rxjs/_esm5/internal/util/ObjectUnsubscribedError.js");
/* harmony import */ var _SubjectSubscription__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./SubjectSubscription */ "./node_modules/rxjs/_esm5/internal/SubjectSubscription.js");
/* harmony import */ var _internal_symbol_rxSubscriber__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../internal/symbol/rxSubscriber */ "./node_modules/rxjs/_esm5/internal/symbol/rxSubscriber.js");
/** PURE_IMPORTS_START tslib,_Observable,_Subscriber,_Subscription,_util_ObjectUnsubscribedError,_SubjectSubscription,_internal_symbol_rxSubscriber PURE_IMPORTS_END */







var SubjectSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SubjectSubscriber, _super);
    function SubjectSubscriber(destination) {
        var _this = _super.call(this, destination) || this;
        _this.destination = destination;
        return _this;
    }
    return SubjectSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_2__["Subscriber"]));

var Subject = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](Subject, _super);
    function Subject() {
        var _this = _super.call(this) || this;
        _this.observers = [];
        _this.closed = false;
        _this.isStopped = false;
        _this.hasError = false;
        _this.thrownError = null;
        return _this;
    }
    Subject.prototype[_internal_symbol_rxSubscriber__WEBPACK_IMPORTED_MODULE_6__["rxSubscriber"]] = function () {
        return new SubjectSubscriber(this);
    };
    Subject.prototype.lift = function (operator) {
        var subject = new AnonymousSubject(this, this);
        subject.operator = operator;
        return subject;
    };
    Subject.prototype.next = function (value) {
        if (this.closed) {
            throw new _util_ObjectUnsubscribedError__WEBPACK_IMPORTED_MODULE_4__["ObjectUnsubscribedError"]();
        }
        if (!this.isStopped) {
            var observers = this.observers;
            var len = observers.length;
            var copy = observers.slice();
            for (var i = 0; i < len; i++) {
                copy[i].next(value);
            }
        }
    };
    Subject.prototype.error = function (err) {
        if (this.closed) {
            throw new _util_ObjectUnsubscribedError__WEBPACK_IMPORTED_MODULE_4__["ObjectUnsubscribedError"]();
        }
        this.hasError = true;
        this.thrownError = err;
        this.isStopped = true;
        var observers = this.observers;
        var len = observers.length;
        var copy = observers.slice();
        for (var i = 0; i < len; i++) {
            copy[i].error(err);
        }
        this.observers.length = 0;
    };
    Subject.prototype.complete = function () {
        if (this.closed) {
            throw new _util_ObjectUnsubscribedError__WEBPACK_IMPORTED_MODULE_4__["ObjectUnsubscribedError"]();
        }
        this.isStopped = true;
        var observers = this.observers;
        var len = observers.length;
        var copy = observers.slice();
        for (var i = 0; i < len; i++) {
            copy[i].complete();
        }
        this.observers.length = 0;
    };
    Subject.prototype.unsubscribe = function () {
        this.isStopped = true;
        this.closed = true;
        this.observers = null;
    };
    Subject.prototype._trySubscribe = function (subscriber) {
        if (this.closed) {
            throw new _util_ObjectUnsubscribedError__WEBPACK_IMPORTED_MODULE_4__["ObjectUnsubscribedError"]();
        }
        else {
            return _super.prototype._trySubscribe.call(this, subscriber);
        }
    };
    Subject.prototype._subscribe = function (subscriber) {
        if (this.closed) {
            throw new _util_ObjectUnsubscribedError__WEBPACK_IMPORTED_MODULE_4__["ObjectUnsubscribedError"]();
        }
        else if (this.hasError) {
            subscriber.error(this.thrownError);
            return _Subscription__WEBPACK_IMPORTED_MODULE_3__["Subscription"].EMPTY;
        }
        else if (this.isStopped) {
            subscriber.complete();
            return _Subscription__WEBPACK_IMPORTED_MODULE_3__["Subscription"].EMPTY;
        }
        else {
            this.observers.push(subscriber);
            return new _SubjectSubscription__WEBPACK_IMPORTED_MODULE_5__["SubjectSubscription"](this, subscriber);
        }
    };
    Subject.prototype.asObservable = function () {
        var observable = new _Observable__WEBPACK_IMPORTED_MODULE_1__["Observable"]();
        observable.source = this;
        return observable;
    };
    Subject.create = function (destination, source) {
        return new AnonymousSubject(destination, source);
    };
    return Subject;
}(_Observable__WEBPACK_IMPORTED_MODULE_1__["Observable"]));

var AnonymousSubject = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](AnonymousSubject, _super);
    function AnonymousSubject(destination, source) {
        var _this = _super.call(this) || this;
        _this.destination = destination;
        _this.source = source;
        return _this;
    }
    AnonymousSubject.prototype.next = function (value) {
        var destination = this.destination;
        if (destination && destination.next) {
            destination.next(value);
        }
    };
    AnonymousSubject.prototype.error = function (err) {
        var destination = this.destination;
        if (destination && destination.error) {
            this.destination.error(err);
        }
    };
    AnonymousSubject.prototype.complete = function () {
        var destination = this.destination;
        if (destination && destination.complete) {
            this.destination.complete();
        }
    };
    AnonymousSubject.prototype._subscribe = function (subscriber) {
        var source = this.source;
        if (source) {
            return this.source.subscribe(subscriber);
        }
        else {
            return _Subscription__WEBPACK_IMPORTED_MODULE_3__["Subscription"].EMPTY;
        }
    };
    return AnonymousSubject;
}(Subject));

//# sourceMappingURL=Subject.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/SubjectSubscription.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/SubjectSubscription.js ***!
  \*****************************************************************/
/*! exports provided: SubjectSubscription */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SubjectSubscription", function() { return SubjectSubscription; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscription__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Subscription */ "./node_modules/rxjs/_esm5/internal/Subscription.js");
/** PURE_IMPORTS_START tslib,_Subscription PURE_IMPORTS_END */


var SubjectSubscription = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SubjectSubscription, _super);
    function SubjectSubscription(subject, subscriber) {
        var _this = _super.call(this) || this;
        _this.subject = subject;
        _this.subscriber = subscriber;
        _this.closed = false;
        return _this;
    }
    SubjectSubscription.prototype.unsubscribe = function () {
        if (this.closed) {
            return;
        }
        this.closed = true;
        var subject = this.subject;
        var observers = subject.observers;
        this.subject = null;
        if (!observers || observers.length === 0 || subject.isStopped || subject.closed) {
            return;
        }
        var subscriberIndex = observers.indexOf(this.subscriber);
        if (subscriberIndex !== -1) {
            observers.splice(subscriberIndex, 1);
        }
    };
    return SubjectSubscription;
}(_Subscription__WEBPACK_IMPORTED_MODULE_1__["Subscription"]));

//# sourceMappingURL=SubjectSubscription.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/Subscriber.js":
/*!********************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/Subscriber.js ***!
  \********************************************************/
/*! exports provided: Subscriber, SafeSubscriber */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Subscriber", function() { return Subscriber; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SafeSubscriber", function() { return SafeSubscriber; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _util_isFunction__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/isFunction */ "./node_modules/rxjs/_esm5/internal/util/isFunction.js");
/* harmony import */ var _Observer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Observer */ "./node_modules/rxjs/_esm5/internal/Observer.js");
/* harmony import */ var _Subscription__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Subscription */ "./node_modules/rxjs/_esm5/internal/Subscription.js");
/* harmony import */ var _internal_symbol_rxSubscriber__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../internal/symbol/rxSubscriber */ "./node_modules/rxjs/_esm5/internal/symbol/rxSubscriber.js");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./config */ "./node_modules/rxjs/_esm5/internal/config.js");
/* harmony import */ var _util_hostReportError__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./util/hostReportError */ "./node_modules/rxjs/_esm5/internal/util/hostReportError.js");
/** PURE_IMPORTS_START tslib,_util_isFunction,_Observer,_Subscription,_internal_symbol_rxSubscriber,_config,_util_hostReportError PURE_IMPORTS_END */







var Subscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](Subscriber, _super);
    function Subscriber(destinationOrNext, error, complete) {
        var _this = _super.call(this) || this;
        _this.syncErrorValue = null;
        _this.syncErrorThrown = false;
        _this.syncErrorThrowable = false;
        _this.isStopped = false;
        switch (arguments.length) {
            case 0:
                _this.destination = _Observer__WEBPACK_IMPORTED_MODULE_2__["empty"];
                break;
            case 1:
                if (!destinationOrNext) {
                    _this.destination = _Observer__WEBPACK_IMPORTED_MODULE_2__["empty"];
                    break;
                }
                if (typeof destinationOrNext === 'object') {
                    if (destinationOrNext instanceof Subscriber) {
                        _this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;
                        _this.destination = destinationOrNext;
                        destinationOrNext.add(_this);
                    }
                    else {
                        _this.syncErrorThrowable = true;
                        _this.destination = new SafeSubscriber(_this, destinationOrNext);
                    }
                    break;
                }
            default:
                _this.syncErrorThrowable = true;
                _this.destination = new SafeSubscriber(_this, destinationOrNext, error, complete);
                break;
        }
        return _this;
    }
    Subscriber.prototype[_internal_symbol_rxSubscriber__WEBPACK_IMPORTED_MODULE_4__["rxSubscriber"]] = function () { return this; };
    Subscriber.create = function (next, error, complete) {
        var subscriber = new Subscriber(next, error, complete);
        subscriber.syncErrorThrowable = false;
        return subscriber;
    };
    Subscriber.prototype.next = function (value) {
        if (!this.isStopped) {
            this._next(value);
        }
    };
    Subscriber.prototype.error = function (err) {
        if (!this.isStopped) {
            this.isStopped = true;
            this._error(err);
        }
    };
    Subscriber.prototype.complete = function () {
        if (!this.isStopped) {
            this.isStopped = true;
            this._complete();
        }
    };
    Subscriber.prototype.unsubscribe = function () {
        if (this.closed) {
            return;
        }
        this.isStopped = true;
        _super.prototype.unsubscribe.call(this);
    };
    Subscriber.prototype._next = function (value) {
        this.destination.next(value);
    };
    Subscriber.prototype._error = function (err) {
        this.destination.error(err);
        this.unsubscribe();
    };
    Subscriber.prototype._complete = function () {
        this.destination.complete();
        this.unsubscribe();
    };
    Subscriber.prototype._unsubscribeAndRecycle = function () {
        var _parentOrParents = this._parentOrParents;
        this._parentOrParents = null;
        this.unsubscribe();
        this.closed = false;
        this.isStopped = false;
        this._parentOrParents = _parentOrParents;
        return this;
    };
    return Subscriber;
}(_Subscription__WEBPACK_IMPORTED_MODULE_3__["Subscription"]));

var SafeSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SafeSubscriber, _super);
    function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {
        var _this = _super.call(this) || this;
        _this._parentSubscriber = _parentSubscriber;
        var next;
        var context = _this;
        if (Object(_util_isFunction__WEBPACK_IMPORTED_MODULE_1__["isFunction"])(observerOrNext)) {
            next = observerOrNext;
        }
        else if (observerOrNext) {
            next = observerOrNext.next;
            error = observerOrNext.error;
            complete = observerOrNext.complete;
            if (observerOrNext !== _Observer__WEBPACK_IMPORTED_MODULE_2__["empty"]) {
                context = Object.create(observerOrNext);
                if (Object(_util_isFunction__WEBPACK_IMPORTED_MODULE_1__["isFunction"])(context.unsubscribe)) {
                    _this.add(context.unsubscribe.bind(context));
                }
                context.unsubscribe = _this.unsubscribe.bind(_this);
            }
        }
        _this._context = context;
        _this._next = next;
        _this._error = error;
        _this._complete = complete;
        return _this;
    }
    SafeSubscriber.prototype.next = function (value) {
        if (!this.isStopped && this._next) {
            var _parentSubscriber = this._parentSubscriber;
            if (!_config__WEBPACK_IMPORTED_MODULE_5__["config"].useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {
                this.__tryOrUnsub(this._next, value);
            }
            else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {
                this.unsubscribe();
            }
        }
    };
    SafeSubscriber.prototype.error = function (err) {
        if (!this.isStopped) {
            var _parentSubscriber = this._parentSubscriber;
            var useDeprecatedSynchronousErrorHandling = _config__WEBPACK_IMPORTED_MODULE_5__["config"].useDeprecatedSynchronousErrorHandling;
            if (this._error) {
                if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {
                    this.__tryOrUnsub(this._error, err);
                    this.unsubscribe();
                }
                else {
                    this.__tryOrSetError(_parentSubscriber, this._error, err);
                    this.unsubscribe();
                }
            }
            else if (!_parentSubscriber.syncErrorThrowable) {
                this.unsubscribe();
                if (useDeprecatedSynchronousErrorHandling) {
                    throw err;
                }
                Object(_util_hostReportError__WEBPACK_IMPORTED_MODULE_6__["hostReportError"])(err);
            }
            else {
                if (useDeprecatedSynchronousErrorHandling) {
                    _parentSubscriber.syncErrorValue = err;
                    _parentSubscriber.syncErrorThrown = true;
                }
                else {
                    Object(_util_hostReportError__WEBPACK_IMPORTED_MODULE_6__["hostReportError"])(err);
                }
                this.unsubscribe();
            }
        }
    };
    SafeSubscriber.prototype.complete = function () {
        var _this = this;
        if (!this.isStopped) {
            var _parentSubscriber = this._parentSubscriber;
            if (this._complete) {
                var wrappedComplete = function () { return _this._complete.call(_this._context); };
                if (!_config__WEBPACK_IMPORTED_MODULE_5__["config"].useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {
                    this.__tryOrUnsub(wrappedComplete);
                    this.unsubscribe();
                }
                else {
                    this.__tryOrSetError(_parentSubscriber, wrappedComplete);
                    this.unsubscribe();
                }
            }
            else {
                this.unsubscribe();
            }
        }
    };
    SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {
        try {
            fn.call(this._context, value);
        }
        catch (err) {
            this.unsubscribe();
            if (_config__WEBPACK_IMPORTED_MODULE_5__["config"].useDeprecatedSynchronousErrorHandling) {
                throw err;
            }
            else {
                Object(_util_hostReportError__WEBPACK_IMPORTED_MODULE_6__["hostReportError"])(err);
            }
        }
    };
    SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {
        if (!_config__WEBPACK_IMPORTED_MODULE_5__["config"].useDeprecatedSynchronousErrorHandling) {
            throw new Error('bad call');
        }
        try {
            fn.call(this._context, value);
        }
        catch (err) {
            if (_config__WEBPACK_IMPORTED_MODULE_5__["config"].useDeprecatedSynchronousErrorHandling) {
                parent.syncErrorValue = err;
                parent.syncErrorThrown = true;
                return true;
            }
            else {
                Object(_util_hostReportError__WEBPACK_IMPORTED_MODULE_6__["hostReportError"])(err);
                return true;
            }
        }
        return false;
    };
    SafeSubscriber.prototype._unsubscribe = function () {
        var _parentSubscriber = this._parentSubscriber;
        this._context = null;
        this._parentSubscriber = null;
        _parentSubscriber.unsubscribe();
    };
    return SafeSubscriber;
}(Subscriber));

//# sourceMappingURL=Subscriber.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/Subscription.js":
/*!**********************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/Subscription.js ***!
  \**********************************************************/
/*! exports provided: Subscription */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Subscription", function() { return Subscription; });
/* harmony import */ var _util_isArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/isArray */ "./node_modules/rxjs/_esm5/internal/util/isArray.js");
/* harmony import */ var _util_isObject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/isObject */ "./node_modules/rxjs/_esm5/internal/util/isObject.js");
/* harmony import */ var _util_isFunction__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util/isFunction */ "./node_modules/rxjs/_esm5/internal/util/isFunction.js");
/* harmony import */ var _util_UnsubscriptionError__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./util/UnsubscriptionError */ "./node_modules/rxjs/_esm5/internal/util/UnsubscriptionError.js");
/** PURE_IMPORTS_START _util_isArray,_util_isObject,_util_isFunction,_util_UnsubscriptionError PURE_IMPORTS_END */




var Subscription = /*@__PURE__*/ (function () {
    function Subscription(unsubscribe) {
        this.closed = false;
        this._parentOrParents = null;
        this._subscriptions = null;
        if (unsubscribe) {
            this._ctorUnsubscribe = true;
            this._unsubscribe = unsubscribe;
        }
    }
    Subscription.prototype.unsubscribe = function () {
        var errors;
        if (this.closed) {
            return;
        }
        var _a = this, _parentOrParents = _a._parentOrParents, _ctorUnsubscribe = _a._ctorUnsubscribe, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;
        this.closed = true;
        this._parentOrParents = null;
        this._subscriptions = null;
        if (_parentOrParents instanceof Subscription) {
            _parentOrParents.remove(this);
        }
        else if (_parentOrParents !== null) {
            for (var index = 0; index < _parentOrParents.length; ++index) {
                var parent_1 = _parentOrParents[index];
                parent_1.remove(this);
            }
        }
        if (Object(_util_isFunction__WEBPACK_IMPORTED_MODULE_2__["isFunction"])(_unsubscribe)) {
            if (_ctorUnsubscribe) {
                this._unsubscribe = undefined;
            }
            try {
                _unsubscribe.call(this);
            }
            catch (e) {
                errors = e instanceof _util_UnsubscriptionError__WEBPACK_IMPORTED_MODULE_3__["UnsubscriptionError"] ? flattenUnsubscriptionErrors(e.errors) : [e];
            }
        }
        if (Object(_util_isArray__WEBPACK_IMPORTED_MODULE_0__["isArray"])(_subscriptions)) {
            var index = -1;
            var len = _subscriptions.length;
            while (++index < len) {
                var sub = _subscriptions[index];
                if (Object(_util_isObject__WEBPACK_IMPORTED_MODULE_1__["isObject"])(sub)) {
                    try {
                        sub.unsubscribe();
                    }
                    catch (e) {
                        errors = errors || [];
                        if (e instanceof _util_UnsubscriptionError__WEBPACK_IMPORTED_MODULE_3__["UnsubscriptionError"]) {
                            errors = errors.concat(flattenUnsubscriptionErrors(e.errors));
                        }
                        else {
                            errors.push(e);
                        }
                    }
                }
            }
        }
        if (errors) {
            throw new _util_UnsubscriptionError__WEBPACK_IMPORTED_MODULE_3__["UnsubscriptionError"](errors);
        }
    };
    Subscription.prototype.add = function (teardown) {
        var subscription = teardown;
        if (!teardown) {
            return Subscription.EMPTY;
        }
        switch (typeof teardown) {
            case 'function':
                subscription = new Subscription(teardown);
            case 'object':
                if (subscription === this || subscription.closed || typeof subscription.unsubscribe !== 'function') {
                    return subscription;
                }
                else if (this.closed) {
                    subscription.unsubscribe();
                    return subscription;
                }
                else if (!(subscription instanceof Subscription)) {
                    var tmp = subscription;
                    subscription = new Subscription();
                    subscription._subscriptions = [tmp];
                }
                break;
            default: {
                throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');
            }
        }
        var _parentOrParents = subscription._parentOrParents;
        if (_parentOrParents === null) {
            subscription._parentOrParents = this;
        }
        else if (_parentOrParents instanceof Subscription) {
            if (_parentOrParents === this) {
                return subscription;
            }
            subscription._parentOrParents = [_parentOrParents, this];
        }
        else if (_parentOrParents.indexOf(this) === -1) {
            _parentOrParents.push(this);
        }
        else {
            return subscription;
        }
        var subscriptions = this._subscriptions;
        if (subscriptions === null) {
            this._subscriptions = [subscription];
        }
        else {
            subscriptions.push(subscription);
        }
        return subscription;
    };
    Subscription.prototype.remove = function (subscription) {
        var subscriptions = this._subscriptions;
        if (subscriptions) {
            var subscriptionIndex = subscriptions.indexOf(subscription);
            if (subscriptionIndex !== -1) {
                subscriptions.splice(subscriptionIndex, 1);
            }
        }
    };
    Subscription.EMPTY = (function (empty) {
        empty.closed = true;
        return empty;
    }(new Subscription()));
    return Subscription;
}());

function flattenUnsubscriptionErrors(errors) {
    return errors.reduce(function (errs, err) { return errs.concat((err instanceof _util_UnsubscriptionError__WEBPACK_IMPORTED_MODULE_3__["UnsubscriptionError"]) ? err.errors : err); }, []);
}
//# sourceMappingURL=Subscription.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/config.js":
/*!****************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/config.js ***!
  \****************************************************/
/*! exports provided: config */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "config", function() { return config; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
var _enable_super_gross_mode_that_will_cause_bad_things = false;
var config = {
    Promise: undefined,
    set useDeprecatedSynchronousErrorHandling(value) {
        if (value) {
            var error = /*@__PURE__*/ new Error();
            /*@__PURE__*/ console.warn('DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n' + error.stack);
        }
        else if (_enable_super_gross_mode_that_will_cause_bad_things) {
            /*@__PURE__*/ console.log('RxJS: Back to a better error behavior. Thank you. <3');
        }
        _enable_super_gross_mode_that_will_cause_bad_things = value;
    },
    get useDeprecatedSynchronousErrorHandling() {
        return _enable_super_gross_mode_that_will_cause_bad_things;
    },
};
//# sourceMappingURL=config.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js":
/*!************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/innerSubscribe.js ***!
  \************************************************************/
/*! exports provided: SimpleInnerSubscriber, ComplexInnerSubscriber, SimpleOuterSubscriber, ComplexOuterSubscriber, innerSubscribe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SimpleInnerSubscriber", function() { return SimpleInnerSubscriber; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ComplexInnerSubscriber", function() { return ComplexInnerSubscriber; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SimpleOuterSubscriber", function() { return SimpleOuterSubscriber; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ComplexOuterSubscriber", function() { return ComplexOuterSubscriber; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "innerSubscribe", function() { return innerSubscribe; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _util_subscribeTo__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./util/subscribeTo */ "./node_modules/rxjs/_esm5/internal/util/subscribeTo.js");
/** PURE_IMPORTS_START tslib,_Subscriber,_Observable,_util_subscribeTo PURE_IMPORTS_END */




var SimpleInnerSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SimpleInnerSubscriber, _super);
    function SimpleInnerSubscriber(parent) {
        var _this = _super.call(this) || this;
        _this.parent = parent;
        return _this;
    }
    SimpleInnerSubscriber.prototype._next = function (value) {
        this.parent.notifyNext(value);
    };
    SimpleInnerSubscriber.prototype._error = function (error) {
        this.parent.notifyError(error);
        this.unsubscribe();
    };
    SimpleInnerSubscriber.prototype._complete = function () {
        this.parent.notifyComplete();
        this.unsubscribe();
    };
    return SimpleInnerSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));

var ComplexInnerSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ComplexInnerSubscriber, _super);
    function ComplexInnerSubscriber(parent, outerValue, outerIndex) {
        var _this = _super.call(this) || this;
        _this.parent = parent;
        _this.outerValue = outerValue;
        _this.outerIndex = outerIndex;
        return _this;
    }
    ComplexInnerSubscriber.prototype._next = function (value) {
        this.parent.notifyNext(this.outerValue, value, this.outerIndex, this);
    };
    ComplexInnerSubscriber.prototype._error = function (error) {
        this.parent.notifyError(error);
        this.unsubscribe();
    };
    ComplexInnerSubscriber.prototype._complete = function () {
        this.parent.notifyComplete(this);
        this.unsubscribe();
    };
    return ComplexInnerSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));

var SimpleOuterSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SimpleOuterSubscriber, _super);
    function SimpleOuterSubscriber() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    SimpleOuterSubscriber.prototype.notifyNext = function (innerValue) {
        this.destination.next(innerValue);
    };
    SimpleOuterSubscriber.prototype.notifyError = function (err) {
        this.destination.error(err);
    };
    SimpleOuterSubscriber.prototype.notifyComplete = function () {
        this.destination.complete();
    };
    return SimpleOuterSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));

var ComplexOuterSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ComplexOuterSubscriber, _super);
    function ComplexOuterSubscriber() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ComplexOuterSubscriber.prototype.notifyNext = function (_outerValue, innerValue, _outerIndex, _innerSub) {
        this.destination.next(innerValue);
    };
    ComplexOuterSubscriber.prototype.notifyError = function (error) {
        this.destination.error(error);
    };
    ComplexOuterSubscriber.prototype.notifyComplete = function (_innerSub) {
        this.destination.complete();
    };
    return ComplexOuterSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));

function innerSubscribe(result, innerSubscriber) {
    if (innerSubscriber.closed) {
        return undefined;
    }
    if (result instanceof _Observable__WEBPACK_IMPORTED_MODULE_2__["Observable"]) {
        return result.subscribe(innerSubscriber);
    }
    return Object(_util_subscribeTo__WEBPACK_IMPORTED_MODULE_3__["subscribeTo"])(result)(innerSubscriber);
}
//# sourceMappingURL=innerSubscribe.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/ConnectableObservable.js":
/*!******************************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/ConnectableObservable.js ***!
  \******************************************************************************/
/*! exports provided: ConnectableObservable, connectableObservableDescriptor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConnectableObservable", function() { return ConnectableObservable; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "connectableObservableDescriptor", function() { return connectableObservableDescriptor; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subject */ "./node_modules/rxjs/_esm5/internal/Subject.js");
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _Subscription__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Subscription */ "./node_modules/rxjs/_esm5/internal/Subscription.js");
/* harmony import */ var _operators_refCount__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../operators/refCount */ "./node_modules/rxjs/_esm5/internal/operators/refCount.js");
/** PURE_IMPORTS_START tslib,_Subject,_Observable,_Subscriber,_Subscription,_operators_refCount PURE_IMPORTS_END */






var ConnectableObservable = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ConnectableObservable, _super);
    function ConnectableObservable(source, subjectFactory) {
        var _this = _super.call(this) || this;
        _this.source = source;
        _this.subjectFactory = subjectFactory;
        _this._refCount = 0;
        _this._isComplete = false;
        return _this;
    }
    ConnectableObservable.prototype._subscribe = function (subscriber) {
        return this.getSubject().subscribe(subscriber);
    };
    ConnectableObservable.prototype.getSubject = function () {
        var subject = this._subject;
        if (!subject || subject.isStopped) {
            this._subject = this.subjectFactory();
        }
        return this._subject;
    };
    ConnectableObservable.prototype.connect = function () {
        var connection = this._connection;
        if (!connection) {
            this._isComplete = false;
            connection = this._connection = new _Subscription__WEBPACK_IMPORTED_MODULE_4__["Subscription"]();
            connection.add(this.source
                .subscribe(new ConnectableSubscriber(this.getSubject(), this)));
            if (connection.closed) {
                this._connection = null;
                connection = _Subscription__WEBPACK_IMPORTED_MODULE_4__["Subscription"].EMPTY;
            }
        }
        return connection;
    };
    ConnectableObservable.prototype.refCount = function () {
        return Object(_operators_refCount__WEBPACK_IMPORTED_MODULE_5__["refCount"])()(this);
    };
    return ConnectableObservable;
}(_Observable__WEBPACK_IMPORTED_MODULE_2__["Observable"]));

var connectableObservableDescriptor = /*@__PURE__*/ (function () {
    var connectableProto = ConnectableObservable.prototype;
    return {
        operator: { value: null },
        _refCount: { value: 0, writable: true },
        _subject: { value: null, writable: true },
        _connection: { value: null, writable: true },
        _subscribe: { value: connectableProto._subscribe },
        _isComplete: { value: connectableProto._isComplete, writable: true },
        getSubject: { value: connectableProto.getSubject },
        connect: { value: connectableProto.connect },
        refCount: { value: connectableProto.refCount }
    };
})();
var ConnectableSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ConnectableSubscriber, _super);
    function ConnectableSubscriber(destination, connectable) {
        var _this = _super.call(this, destination) || this;
        _this.connectable = connectable;
        return _this;
    }
    ConnectableSubscriber.prototype._error = function (err) {
        this._unsubscribe();
        _super.prototype._error.call(this, err);
    };
    ConnectableSubscriber.prototype._complete = function () {
        this.connectable._isComplete = true;
        this._unsubscribe();
        _super.prototype._complete.call(this);
    };
    ConnectableSubscriber.prototype._unsubscribe = function () {
        var connectable = this.connectable;
        if (connectable) {
            this.connectable = null;
            var connection = connectable._connection;
            connectable._refCount = 0;
            connectable._subject = null;
            connectable._connection = null;
            if (connection) {
                connection.unsubscribe();
            }
        }
    };
    return ConnectableSubscriber;
}(_Subject__WEBPACK_IMPORTED_MODULE_1__["SubjectSubscriber"]));
var RefCountOperator = /*@__PURE__*/ (function () {
    function RefCountOperator(connectable) {
        this.connectable = connectable;
    }
    RefCountOperator.prototype.call = function (subscriber, source) {
        var connectable = this.connectable;
        connectable._refCount++;
        var refCounter = new RefCountSubscriber(subscriber, connectable);
        var subscription = source.subscribe(refCounter);
        if (!refCounter.closed) {
            refCounter.connection = connectable.connect();
        }
        return subscription;
    };
    return RefCountOperator;
}());
var RefCountSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](RefCountSubscriber, _super);
    function RefCountSubscriber(destination, connectable) {
        var _this = _super.call(this, destination) || this;
        _this.connectable = connectable;
        return _this;
    }
    RefCountSubscriber.prototype._unsubscribe = function () {
        var connectable = this.connectable;
        if (!connectable) {
            this.connection = null;
            return;
        }
        this.connectable = null;
        var refCount = connectable._refCount;
        if (refCount <= 0) {
            this.connection = null;
            return;
        }
        connectable._refCount = refCount - 1;
        if (refCount > 1) {
            this.connection = null;
            return;
        }
        var connection = this.connection;
        var sharedConnection = connectable._connection;
        this.connection = null;
        if (sharedConnection && (!connection || sharedConnection === connection)) {
            sharedConnection.unsubscribe();
        }
    };
    return RefCountSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_3__["Subscriber"]));
//# sourceMappingURL=ConnectableObservable.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/SubscribeOnObservable.js":
/*!******************************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/SubscribeOnObservable.js ***!
  \******************************************************************************/
/*! exports provided: SubscribeOnObservable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SubscribeOnObservable", function() { return SubscribeOnObservable; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _scheduler_asap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../scheduler/asap */ "./node_modules/rxjs/_esm5/internal/scheduler/asap.js");
/* harmony import */ var _util_isNumeric__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/isNumeric */ "./node_modules/rxjs/_esm5/internal/util/isNumeric.js");
/** PURE_IMPORTS_START tslib,_Observable,_scheduler_asap,_util_isNumeric PURE_IMPORTS_END */




var SubscribeOnObservable = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SubscribeOnObservable, _super);
    function SubscribeOnObservable(source, delayTime, scheduler) {
        if (delayTime === void 0) {
            delayTime = 0;
        }
        if (scheduler === void 0) {
            scheduler = _scheduler_asap__WEBPACK_IMPORTED_MODULE_2__["asap"];
        }
        var _this = _super.call(this) || this;
        _this.source = source;
        _this.delayTime = delayTime;
        _this.scheduler = scheduler;
        if (!Object(_util_isNumeric__WEBPACK_IMPORTED_MODULE_3__["isNumeric"])(delayTime) || delayTime < 0) {
            _this.delayTime = 0;
        }
        if (!scheduler || typeof scheduler.schedule !== 'function') {
            _this.scheduler = _scheduler_asap__WEBPACK_IMPORTED_MODULE_2__["asap"];
        }
        return _this;
    }
    SubscribeOnObservable.create = function (source, delay, scheduler) {
        if (delay === void 0) {
            delay = 0;
        }
        if (scheduler === void 0) {
            scheduler = _scheduler_asap__WEBPACK_IMPORTED_MODULE_2__["asap"];
        }
        return new SubscribeOnObservable(source, delay, scheduler);
    };
    SubscribeOnObservable.dispatch = function (arg) {
        var source = arg.source, subscriber = arg.subscriber;
        return this.add(source.subscribe(subscriber));
    };
    SubscribeOnObservable.prototype._subscribe = function (subscriber) {
        var delay = this.delayTime;
        var source = this.source;
        var scheduler = this.scheduler;
        return scheduler.schedule(SubscribeOnObservable.dispatch, delay, {
            source: source, subscriber: subscriber
        });
    };
    return SubscribeOnObservable;
}(_Observable__WEBPACK_IMPORTED_MODULE_1__["Observable"]));

//# sourceMappingURL=SubscribeOnObservable.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/bindCallback.js":
/*!*********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/bindCallback.js ***!
  \*********************************************************************/
/*! exports provided: bindCallback */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bindCallback", function() { return bindCallback; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _AsyncSubject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../AsyncSubject */ "./node_modules/rxjs/_esm5/internal/AsyncSubject.js");
/* harmony import */ var _operators_map__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../operators/map */ "./node_modules/rxjs/_esm5/internal/operators/map.js");
/* harmony import */ var _util_canReportError__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/canReportError */ "./node_modules/rxjs/_esm5/internal/util/canReportError.js");
/* harmony import */ var _util_isArray__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/isArray */ "./node_modules/rxjs/_esm5/internal/util/isArray.js");
/* harmony import */ var _util_isScheduler__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/isScheduler */ "./node_modules/rxjs/_esm5/internal/util/isScheduler.js");
/** PURE_IMPORTS_START _Observable,_AsyncSubject,_operators_map,_util_canReportError,_util_isArray,_util_isScheduler PURE_IMPORTS_END */






function bindCallback(callbackFunc, resultSelector, scheduler) {
    if (resultSelector) {
        if (Object(_util_isScheduler__WEBPACK_IMPORTED_MODULE_5__["isScheduler"])(resultSelector)) {
            scheduler = resultSelector;
        }
        else {
            return function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i] = arguments[_i];
                }
                return bindCallback(callbackFunc, scheduler).apply(void 0, args).pipe(Object(_operators_map__WEBPACK_IMPORTED_MODULE_2__["map"])(function (args) { return Object(_util_isArray__WEBPACK_IMPORTED_MODULE_4__["isArray"])(args) ? resultSelector.apply(void 0, args) : resultSelector(args); }));
            };
        }
    }
    return function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        var context = this;
        var subject;
        var params = {
            context: context,
            subject: subject,
            callbackFunc: callbackFunc,
            scheduler: scheduler,
        };
        return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) {
            if (!scheduler) {
                if (!subject) {
                    subject = new _AsyncSubject__WEBPACK_IMPORTED_MODULE_1__["AsyncSubject"]();
                    var handler = function () {
                        var innerArgs = [];
                        for (var _i = 0; _i < arguments.length; _i++) {
                            innerArgs[_i] = arguments[_i];
                        }
                        subject.next(innerArgs.length <= 1 ? innerArgs[0] : innerArgs);
                        subject.complete();
                    };
                    try {
                        callbackFunc.apply(context, args.concat([handler]));
                    }
                    catch (err) {
                        if (Object(_util_canReportError__WEBPACK_IMPORTED_MODULE_3__["canReportError"])(subject)) {
                            subject.error(err);
                        }
                        else {
                            console.warn(err);
                        }
                    }
                }
                return subject.subscribe(subscriber);
            }
            else {
                var state = {
                    args: args, subscriber: subscriber, params: params,
                };
                return scheduler.schedule(dispatch, 0, state);
            }
        });
    };
}
function dispatch(state) {
    var _this = this;
    var self = this;
    var args = state.args, subscriber = state.subscriber, params = state.params;
    var callbackFunc = params.callbackFunc, context = params.context, scheduler = params.scheduler;
    var subject = params.subject;
    if (!subject) {
        subject = params.subject = new _AsyncSubject__WEBPACK_IMPORTED_MODULE_1__["AsyncSubject"]();
        var handler = function () {
            var innerArgs = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                innerArgs[_i] = arguments[_i];
            }
            var value = innerArgs.length <= 1 ? innerArgs[0] : innerArgs;
            _this.add(scheduler.schedule(dispatchNext, 0, { value: value, subject: subject }));
        };
        try {
            callbackFunc.apply(context, args.concat([handler]));
        }
        catch (err) {
            subject.error(err);
        }
    }
    this.add(subject.subscribe(subscriber));
}
function dispatchNext(state) {
    var value = state.value, subject = state.subject;
    subject.next(value);
    subject.complete();
}
function dispatchError(state) {
    var err = state.err, subject = state.subject;
    subject.error(err);
}
//# sourceMappingURL=bindCallback.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/bindNodeCallback.js":
/*!*************************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/bindNodeCallback.js ***!
  \*************************************************************************/
/*! exports provided: bindNodeCallback */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bindNodeCallback", function() { return bindNodeCallback; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _AsyncSubject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../AsyncSubject */ "./node_modules/rxjs/_esm5/internal/AsyncSubject.js");
/* harmony import */ var _operators_map__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../operators/map */ "./node_modules/rxjs/_esm5/internal/operators/map.js");
/* harmony import */ var _util_canReportError__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/canReportError */ "./node_modules/rxjs/_esm5/internal/util/canReportError.js");
/* harmony import */ var _util_isScheduler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/isScheduler */ "./node_modules/rxjs/_esm5/internal/util/isScheduler.js");
/* harmony import */ var _util_isArray__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/isArray */ "./node_modules/rxjs/_esm5/internal/util/isArray.js");
/** PURE_IMPORTS_START _Observable,_AsyncSubject,_operators_map,_util_canReportError,_util_isScheduler,_util_isArray PURE_IMPORTS_END */






function bindNodeCallback(callbackFunc, resultSelector, scheduler) {
    if (resultSelector) {
        if (Object(_util_isScheduler__WEBPACK_IMPORTED_MODULE_4__["isScheduler"])(resultSelector)) {
            scheduler = resultSelector;
        }
        else {
            return function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i] = arguments[_i];
                }
                return bindNodeCallback(callbackFunc, scheduler).apply(void 0, args).pipe(Object(_operators_map__WEBPACK_IMPORTED_MODULE_2__["map"])(function (args) { return Object(_util_isArray__WEBPACK_IMPORTED_MODULE_5__["isArray"])(args) ? resultSelector.apply(void 0, args) : resultSelector(args); }));
            };
        }
    }
    return function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        var params = {
            subject: undefined,
            args: args,
            callbackFunc: callbackFunc,
            scheduler: scheduler,
            context: this,
        };
        return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) {
            var context = params.context;
            var subject = params.subject;
            if (!scheduler) {
                if (!subject) {
                    subject = params.subject = new _AsyncSubject__WEBPACK_IMPORTED_MODULE_1__["AsyncSubject"]();
                    var handler = function () {
                        var innerArgs = [];
                        for (var _i = 0; _i < arguments.length; _i++) {
                            innerArgs[_i] = arguments[_i];
                        }
                        var err = innerArgs.shift();
                        if (err) {
                            subject.error(err);
                            return;
                        }
                        subject.next(innerArgs.length <= 1 ? innerArgs[0] : innerArgs);
                        subject.complete();
                    };
                    try {
                        callbackFunc.apply(context, args.concat([handler]));
                    }
                    catch (err) {
                        if (Object(_util_canReportError__WEBPACK_IMPORTED_MODULE_3__["canReportError"])(subject)) {
                            subject.error(err);
                        }
                        else {
                            console.warn(err);
                        }
                    }
                }
                return subject.subscribe(subscriber);
            }
            else {
                return scheduler.schedule(dispatch, 0, { params: params, subscriber: subscriber, context: context });
            }
        });
    };
}
function dispatch(state) {
    var _this = this;
    var params = state.params, subscriber = state.subscriber, context = state.context;
    var callbackFunc = params.callbackFunc, args = params.args, scheduler = params.scheduler;
    var subject = params.subject;
    if (!subject) {
        subject = params.subject = new _AsyncSubject__WEBPACK_IMPORTED_MODULE_1__["AsyncSubject"]();
        var handler = function () {
            var innerArgs = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                innerArgs[_i] = arguments[_i];
            }
            var err = innerArgs.shift();
            if (err) {
                _this.add(scheduler.schedule(dispatchError, 0, { err: err, subject: subject }));
            }
            else {
                var value = innerArgs.length <= 1 ? innerArgs[0] : innerArgs;
                _this.add(scheduler.schedule(dispatchNext, 0, { value: value, subject: subject }));
            }
        };
        try {
            callbackFunc.apply(context, args.concat([handler]));
        }
        catch (err) {
            this.add(scheduler.schedule(dispatchError, 0, { err: err, subject: subject }));
        }
    }
    this.add(subject.subscribe(subscriber));
}
function dispatchNext(arg) {
    var value = arg.value, subject = arg.subject;
    subject.next(value);
    subject.complete();
}
function dispatchError(arg) {
    var err = arg.err, subject = arg.subject;
    subject.error(err);
}
//# sourceMappingURL=bindNodeCallback.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/combineLatest.js":
/*!**********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/combineLatest.js ***!
  \**********************************************************************/
/*! exports provided: combineLatest, CombineLatestOperator, CombineLatestSubscriber */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "combineLatest", function() { return combineLatest; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CombineLatestOperator", function() { return CombineLatestOperator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CombineLatestSubscriber", function() { return CombineLatestSubscriber; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _util_isScheduler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/isScheduler */ "./node_modules/rxjs/_esm5/internal/util/isScheduler.js");
/* harmony import */ var _util_isArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/isArray */ "./node_modules/rxjs/_esm5/internal/util/isArray.js");
/* harmony import */ var _OuterSubscriber__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../OuterSubscriber */ "./node_modules/rxjs/_esm5/internal/OuterSubscriber.js");
/* harmony import */ var _util_subscribeToResult__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/subscribeToResult */ "./node_modules/rxjs/_esm5/internal/util/subscribeToResult.js");
/* harmony import */ var _fromArray__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./fromArray */ "./node_modules/rxjs/_esm5/internal/observable/fromArray.js");
/** PURE_IMPORTS_START tslib,_util_isScheduler,_util_isArray,_OuterSubscriber,_util_subscribeToResult,_fromArray PURE_IMPORTS_END */






var NONE = {};
function combineLatest() {
    var observables = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        observables[_i] = arguments[_i];
    }
    var resultSelector = undefined;
    var scheduler = undefined;
    if (Object(_util_isScheduler__WEBPACK_IMPORTED_MODULE_1__["isScheduler"])(observables[observables.length - 1])) {
        scheduler = observables.pop();
    }
    if (typeof observables[observables.length - 1] === 'function') {
        resultSelector = observables.pop();
    }
    if (observables.length === 1 && Object(_util_isArray__WEBPACK_IMPORTED_MODULE_2__["isArray"])(observables[0])) {
        observables = observables[0];
    }
    return Object(_fromArray__WEBPACK_IMPORTED_MODULE_5__["fromArray"])(observables, scheduler).lift(new CombineLatestOperator(resultSelector));
}
var CombineLatestOperator = /*@__PURE__*/ (function () {
    function CombineLatestOperator(resultSelector) {
        this.resultSelector = resultSelector;
    }
    CombineLatestOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new CombineLatestSubscriber(subscriber, this.resultSelector));
    };
    return CombineLatestOperator;
}());

var CombineLatestSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](CombineLatestSubscriber, _super);
    function CombineLatestSubscriber(destination, resultSelector) {
        var _this = _super.call(this, destination) || this;
        _this.resultSelector = resultSelector;
        _this.active = 0;
        _this.values = [];
        _this.observables = [];
        return _this;
    }
    CombineLatestSubscriber.prototype._next = function (observable) {
        this.values.push(NONE);
        this.observables.push(observable);
    };
    CombineLatestSubscriber.prototype._complete = function () {
        var observables = this.observables;
        var len = observables.length;
        if (len === 0) {
            this.destination.complete();
        }
        else {
            this.active = len;
            this.toRespond = len;
            for (var i = 0; i < len; i++) {
                var observable = observables[i];
                this.add(Object(_util_subscribeToResult__WEBPACK_IMPORTED_MODULE_4__["subscribeToResult"])(this, observable, undefined, i));
            }
        }
    };
    CombineLatestSubscriber.prototype.notifyComplete = function (unused) {
        if ((this.active -= 1) === 0) {
            this.destination.complete();
        }
    };
    CombineLatestSubscriber.prototype.notifyNext = function (_outerValue, innerValue, outerIndex) {
        var values = this.values;
        var oldVal = values[outerIndex];
        var toRespond = !this.toRespond
            ? 0
            : oldVal === NONE ? --this.toRespond : this.toRespond;
        values[outerIndex] = innerValue;
        if (toRespond === 0) {
            if (this.resultSelector) {
                this._tryResultSelector(values);
            }
            else {
                this.destination.next(values.slice());
            }
        }
    };
    CombineLatestSubscriber.prototype._tryResultSelector = function (values) {
        var result;
        try {
            result = this.resultSelector.apply(this, values);
        }
        catch (err) {
            this.destination.error(err);
            return;
        }
        this.destination.next(result);
    };
    return CombineLatestSubscriber;
}(_OuterSubscriber__WEBPACK_IMPORTED_MODULE_3__["OuterSubscriber"]));

//# sourceMappingURL=combineLatest.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/concat.js":
/*!***************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/concat.js ***!
  \***************************************************************/
/*! exports provided: concat */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "concat", function() { return concat; });
/* harmony import */ var _of__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./of */ "./node_modules/rxjs/_esm5/internal/observable/of.js");
/* harmony import */ var _operators_concatAll__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../operators/concatAll */ "./node_modules/rxjs/_esm5/internal/operators/concatAll.js");
/** PURE_IMPORTS_START _of,_operators_concatAll PURE_IMPORTS_END */


function concat() {
    var observables = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        observables[_i] = arguments[_i];
    }
    return Object(_operators_concatAll__WEBPACK_IMPORTED_MODULE_1__["concatAll"])()(_of__WEBPACK_IMPORTED_MODULE_0__["of"].apply(void 0, observables));
}
//# sourceMappingURL=concat.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/defer.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/defer.js ***!
  \**************************************************************/
/*! exports provided: defer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "defer", function() { return defer; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _from__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./from */ "./node_modules/rxjs/_esm5/internal/observable/from.js");
/* harmony import */ var _empty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./empty */ "./node_modules/rxjs/_esm5/internal/observable/empty.js");
/** PURE_IMPORTS_START _Observable,_from,_empty PURE_IMPORTS_END */



function defer(observableFactory) {
    return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) {
        var input;
        try {
            input = observableFactory();
        }
        catch (err) {
            subscriber.error(err);
            return undefined;
        }
        var source = input ? Object(_from__WEBPACK_IMPORTED_MODULE_1__["from"])(input) : Object(_empty__WEBPACK_IMPORTED_MODULE_2__["empty"])();
        return source.subscribe(subscriber);
    });
}
//# sourceMappingURL=defer.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/empty.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/empty.js ***!
  \**************************************************************/
/*! exports provided: EMPTY, empty */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EMPTY", function() { return EMPTY; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "empty", function() { return empty; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/** PURE_IMPORTS_START _Observable PURE_IMPORTS_END */

var EMPTY = /*@__PURE__*/ new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) { return subscriber.complete(); });
function empty(scheduler) {
    return scheduler ? emptyScheduled(scheduler) : EMPTY;
}
function emptyScheduled(scheduler) {
    return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) { return scheduler.schedule(function () { return subscriber.complete(); }); });
}
//# sourceMappingURL=empty.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/forkJoin.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/forkJoin.js ***!
  \*****************************************************************/
/*! exports provided: forkJoin */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "forkJoin", function() { return forkJoin; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _util_isArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/isArray */ "./node_modules/rxjs/_esm5/internal/util/isArray.js");
/* harmony import */ var _operators_map__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../operators/map */ "./node_modules/rxjs/_esm5/internal/operators/map.js");
/* harmony import */ var _util_isObject__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/isObject */ "./node_modules/rxjs/_esm5/internal/util/isObject.js");
/* harmony import */ var _from__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./from */ "./node_modules/rxjs/_esm5/internal/observable/from.js");
/** PURE_IMPORTS_START _Observable,_util_isArray,_operators_map,_util_isObject,_from PURE_IMPORTS_END */





function forkJoin() {
    var sources = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        sources[_i] = arguments[_i];
    }
    if (sources.length === 1) {
        var first_1 = sources[0];
        if (Object(_util_isArray__WEBPACK_IMPORTED_MODULE_1__["isArray"])(first_1)) {
            return forkJoinInternal(first_1, null);
        }
        if (Object(_util_isObject__WEBPACK_IMPORTED_MODULE_3__["isObject"])(first_1) && Object.getPrototypeOf(first_1) === Object.prototype) {
            var keys = Object.keys(first_1);
            return forkJoinInternal(keys.map(function (key) { return first_1[key]; }), keys);
        }
    }
    if (typeof sources[sources.length - 1] === 'function') {
        var resultSelector_1 = sources.pop();
        sources = (sources.length === 1 && Object(_util_isArray__WEBPACK_IMPORTED_MODULE_1__["isArray"])(sources[0])) ? sources[0] : sources;
        return forkJoinInternal(sources, null).pipe(Object(_operators_map__WEBPACK_IMPORTED_MODULE_2__["map"])(function (args) { return resultSelector_1.apply(void 0, args); }));
    }
    return forkJoinInternal(sources, null);
}
function forkJoinInternal(sources, keys) {
    return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) {
        var len = sources.length;
        if (len === 0) {
            subscriber.complete();
            return;
        }
        var values = new Array(len);
        var completed = 0;
        var emitted = 0;
        var _loop_1 = function (i) {
            var source = Object(_from__WEBPACK_IMPORTED_MODULE_4__["from"])(sources[i]);
            var hasValue = false;
            subscriber.add(source.subscribe({
                next: function (value) {
                    if (!hasValue) {
                        hasValue = true;
                        emitted++;
                    }
                    values[i] = value;
                },
                error: function (err) { return subscriber.error(err); },
                complete: function () {
                    completed++;
                    if (completed === len || !hasValue) {
                        if (emitted === len) {
                            subscriber.next(keys ?
                                keys.reduce(function (result, key, i) { return (result[key] = values[i], result); }, {}) :
                                values);
                        }
                        subscriber.complete();
                    }
                }
            }));
        };
        for (var i = 0; i < len; i++) {
            _loop_1(i);
        }
    });
}
//# sourceMappingURL=forkJoin.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/from.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/from.js ***!
  \*************************************************************/
/*! exports provided: from */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "from", function() { return from; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _util_subscribeTo__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/subscribeTo */ "./node_modules/rxjs/_esm5/internal/util/subscribeTo.js");
/* harmony import */ var _scheduled_scheduled__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../scheduled/scheduled */ "./node_modules/rxjs/_esm5/internal/scheduled/scheduled.js");
/** PURE_IMPORTS_START _Observable,_util_subscribeTo,_scheduled_scheduled PURE_IMPORTS_END */



function from(input, scheduler) {
    if (!scheduler) {
        if (input instanceof _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"]) {
            return input;
        }
        return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](Object(_util_subscribeTo__WEBPACK_IMPORTED_MODULE_1__["subscribeTo"])(input));
    }
    else {
        return Object(_scheduled_scheduled__WEBPACK_IMPORTED_MODULE_2__["scheduled"])(input, scheduler);
    }
}
//# sourceMappingURL=from.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/fromArray.js":
/*!******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/fromArray.js ***!
  \******************************************************************/
/*! exports provided: fromArray */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fromArray", function() { return fromArray; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _util_subscribeToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/subscribeToArray */ "./node_modules/rxjs/_esm5/internal/util/subscribeToArray.js");
/* harmony import */ var _scheduled_scheduleArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../scheduled/scheduleArray */ "./node_modules/rxjs/_esm5/internal/scheduled/scheduleArray.js");
/** PURE_IMPORTS_START _Observable,_util_subscribeToArray,_scheduled_scheduleArray PURE_IMPORTS_END */



function fromArray(input, scheduler) {
    if (!scheduler) {
        return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](Object(_util_subscribeToArray__WEBPACK_IMPORTED_MODULE_1__["subscribeToArray"])(input));
    }
    else {
        return Object(_scheduled_scheduleArray__WEBPACK_IMPORTED_MODULE_2__["scheduleArray"])(input, scheduler);
    }
}
//# sourceMappingURL=fromArray.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/fromEvent.js":
/*!******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/fromEvent.js ***!
  \******************************************************************/
/*! exports provided: fromEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fromEvent", function() { return fromEvent; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _util_isArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/isArray */ "./node_modules/rxjs/_esm5/internal/util/isArray.js");
/* harmony import */ var _util_isFunction__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/isFunction */ "./node_modules/rxjs/_esm5/internal/util/isFunction.js");
/* harmony import */ var _operators_map__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../operators/map */ "./node_modules/rxjs/_esm5/internal/operators/map.js");
/** PURE_IMPORTS_START _Observable,_util_isArray,_util_isFunction,_operators_map PURE_IMPORTS_END */




var toString = /*@__PURE__*/ (function () { return Object.prototype.toString; })();
function fromEvent(target, eventName, options, resultSelector) {
    if (Object(_util_isFunction__WEBPACK_IMPORTED_MODULE_2__["isFunction"])(options)) {
        resultSelector = options;
        options = undefined;
    }
    if (resultSelector) {
        return fromEvent(target, eventName, options).pipe(Object(_operators_map__WEBPACK_IMPORTED_MODULE_3__["map"])(function (args) { return Object(_util_isArray__WEBPACK_IMPORTED_MODULE_1__["isArray"])(args) ? resultSelector.apply(void 0, args) : resultSelector(args); }));
    }
    return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) {
        function handler(e) {
            if (arguments.length > 1) {
                subscriber.next(Array.prototype.slice.call(arguments));
            }
            else {
                subscriber.next(e);
            }
        }
        setupSubscription(target, eventName, handler, subscriber, options);
    });
}
function setupSubscription(sourceObj, eventName, handler, subscriber, options) {
    var unsubscribe;
    if (isEventTarget(sourceObj)) {
        var source_1 = sourceObj;
        sourceObj.addEventListener(eventName, handler, options);
        unsubscribe = function () { return source_1.removeEventListener(eventName, handler, options); };
    }
    else if (isJQueryStyleEventEmitter(sourceObj)) {
        var source_2 = sourceObj;
        sourceObj.on(eventName, handler);
        unsubscribe = function () { return source_2.off(eventName, handler); };
    }
    else if (isNodeStyleEventEmitter(sourceObj)) {
        var source_3 = sourceObj;
        sourceObj.addListener(eventName, handler);
        unsubscribe = function () { return source_3.removeListener(eventName, handler); };
    }
    else if (sourceObj && sourceObj.length) {
        for (var i = 0, len = sourceObj.length; i < len; i++) {
            setupSubscription(sourceObj[i], eventName, handler, subscriber, options);
        }
    }
    else {
        throw new TypeError('Invalid event target');
    }
    subscriber.add(unsubscribe);
}
function isNodeStyleEventEmitter(sourceObj) {
    return sourceObj && typeof sourceObj.addListener === 'function' && typeof sourceObj.removeListener === 'function';
}
function isJQueryStyleEventEmitter(sourceObj) {
    return sourceObj && typeof sourceObj.on === 'function' && typeof sourceObj.off === 'function';
}
function isEventTarget(sourceObj) {
    return sourceObj && typeof sourceObj.addEventListener === 'function' && typeof sourceObj.removeEventListener === 'function';
}
//# sourceMappingURL=fromEvent.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/fromEventPattern.js":
/*!*************************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/fromEventPattern.js ***!
  \*************************************************************************/
/*! exports provided: fromEventPattern */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fromEventPattern", function() { return fromEventPattern; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _util_isArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/isArray */ "./node_modules/rxjs/_esm5/internal/util/isArray.js");
/* harmony import */ var _util_isFunction__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/isFunction */ "./node_modules/rxjs/_esm5/internal/util/isFunction.js");
/* harmony import */ var _operators_map__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../operators/map */ "./node_modules/rxjs/_esm5/internal/operators/map.js");
/** PURE_IMPORTS_START _Observable,_util_isArray,_util_isFunction,_operators_map PURE_IMPORTS_END */




function fromEventPattern(addHandler, removeHandler, resultSelector) {
    if (resultSelector) {
        return fromEventPattern(addHandler, removeHandler).pipe(Object(_operators_map__WEBPACK_IMPORTED_MODULE_3__["map"])(function (args) { return Object(_util_isArray__WEBPACK_IMPORTED_MODULE_1__["isArray"])(args) ? resultSelector.apply(void 0, args) : resultSelector(args); }));
    }
    return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) {
        var handler = function () {
            var e = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                e[_i] = arguments[_i];
            }
            return subscriber.next(e.length === 1 ? e[0] : e);
        };
        var retValue;
        try {
            retValue = addHandler(handler);
        }
        catch (err) {
            subscriber.error(err);
            return undefined;
        }
        if (!Object(_util_isFunction__WEBPACK_IMPORTED_MODULE_2__["isFunction"])(removeHandler)) {
            return undefined;
        }
        return function () { return removeHandler(handler, retValue); };
    });
}
//# sourceMappingURL=fromEventPattern.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/generate.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/generate.js ***!
  \*****************************************************************/
/*! exports provided: generate */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "generate", function() { return generate; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _util_identity__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/identity */ "./node_modules/rxjs/_esm5/internal/util/identity.js");
/* harmony import */ var _util_isScheduler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/isScheduler */ "./node_modules/rxjs/_esm5/internal/util/isScheduler.js");
/** PURE_IMPORTS_START _Observable,_util_identity,_util_isScheduler PURE_IMPORTS_END */



function generate(initialStateOrOptions, condition, iterate, resultSelectorOrObservable, scheduler) {
    var resultSelector;
    var initialState;
    if (arguments.length == 1) {
        var options = initialStateOrOptions;
        initialState = options.initialState;
        condition = options.condition;
        iterate = options.iterate;
        resultSelector = options.resultSelector || _util_identity__WEBPACK_IMPORTED_MODULE_1__["identity"];
        scheduler = options.scheduler;
    }
    else if (resultSelectorOrObservable === undefined || Object(_util_isScheduler__WEBPACK_IMPORTED_MODULE_2__["isScheduler"])(resultSelectorOrObservable)) {
        initialState = initialStateOrOptions;
        resultSelector = _util_identity__WEBPACK_IMPORTED_MODULE_1__["identity"];
        scheduler = resultSelectorOrObservable;
    }
    else {
        initialState = initialStateOrOptions;
        resultSelector = resultSelectorOrObservable;
    }
    return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) {
        var state = initialState;
        if (scheduler) {
            return scheduler.schedule(dispatch, 0, {
                subscriber: subscriber,
                iterate: iterate,
                condition: condition,
                resultSelector: resultSelector,
                state: state
            });
        }
        do {
            if (condition) {
                var conditionResult = void 0;
                try {
                    conditionResult = condition(state);
                }
                catch (err) {
                    subscriber.error(err);
                    return undefined;
                }
                if (!conditionResult) {
                    subscriber.complete();
                    break;
                }
            }
            var value = void 0;
            try {
                value = resultSelector(state);
            }
            catch (err) {
                subscriber.error(err);
                return undefined;
            }
            subscriber.next(value);
            if (subscriber.closed) {
                break;
            }
            try {
                state = iterate(state);
            }
            catch (err) {
                subscriber.error(err);
                return undefined;
            }
        } while (true);
        return undefined;
    });
}
function dispatch(state) {
    var subscriber = state.subscriber, condition = state.condition;
    if (subscriber.closed) {
        return undefined;
    }
    if (state.needIterate) {
        try {
            state.state = state.iterate(state.state);
        }
        catch (err) {
            subscriber.error(err);
            return undefined;
        }
    }
    else {
        state.needIterate = true;
    }
    if (condition) {
        var conditionResult = void 0;
        try {
            conditionResult = condition(state.state);
        }
        catch (err) {
            subscriber.error(err);
            return undefined;
        }
        if (!conditionResult) {
            subscriber.complete();
            return undefined;
        }
        if (subscriber.closed) {
            return undefined;
        }
    }
    var value;
    try {
        value = state.resultSelector(state.state);
    }
    catch (err) {
        subscriber.error(err);
        return undefined;
    }
    if (subscriber.closed) {
        return undefined;
    }
    subscriber.next(value);
    if (subscriber.closed) {
        return undefined;
    }
    return this.schedule(state);
}
//# sourceMappingURL=generate.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/iif.js":
/*!************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/iif.js ***!
  \************************************************************/
/*! exports provided: iif */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "iif", function() { return iif; });
/* harmony import */ var _defer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./defer */ "./node_modules/rxjs/_esm5/internal/observable/defer.js");
/* harmony import */ var _empty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./empty */ "./node_modules/rxjs/_esm5/internal/observable/empty.js");
/** PURE_IMPORTS_START _defer,_empty PURE_IMPORTS_END */


function iif(condition, trueResult, falseResult) {
    if (trueResult === void 0) {
        trueResult = _empty__WEBPACK_IMPORTED_MODULE_1__["EMPTY"];
    }
    if (falseResult === void 0) {
        falseResult = _empty__WEBPACK_IMPORTED_MODULE_1__["EMPTY"];
    }
    return Object(_defer__WEBPACK_IMPORTED_MODULE_0__["defer"])(function () { return condition() ? trueResult : falseResult; });
}
//# sourceMappingURL=iif.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/interval.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/interval.js ***!
  \*****************************************************************/
/*! exports provided: interval */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "interval", function() { return interval; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _scheduler_async__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../scheduler/async */ "./node_modules/rxjs/_esm5/internal/scheduler/async.js");
/* harmony import */ var _util_isNumeric__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/isNumeric */ "./node_modules/rxjs/_esm5/internal/util/isNumeric.js");
/** PURE_IMPORTS_START _Observable,_scheduler_async,_util_isNumeric PURE_IMPORTS_END */



function interval(period, scheduler) {
    if (period === void 0) {
        period = 0;
    }
    if (scheduler === void 0) {
        scheduler = _scheduler_async__WEBPACK_IMPORTED_MODULE_1__["async"];
    }
    if (!Object(_util_isNumeric__WEBPACK_IMPORTED_MODULE_2__["isNumeric"])(period) || period < 0) {
        period = 0;
    }
    if (!scheduler || typeof scheduler.schedule !== 'function') {
        scheduler = _scheduler_async__WEBPACK_IMPORTED_MODULE_1__["async"];
    }
    return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) {
        subscriber.add(scheduler.schedule(dispatch, period, { subscriber: subscriber, counter: 0, period: period }));
        return subscriber;
    });
}
function dispatch(state) {
    var subscriber = state.subscriber, counter = state.counter, period = state.period;
    subscriber.next(counter);
    this.schedule({ subscriber: subscriber, counter: counter + 1, period: period }, period);
}
//# sourceMappingURL=interval.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/merge.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/merge.js ***!
  \**************************************************************/
/*! exports provided: merge */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "merge", function() { return merge; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _util_isScheduler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/isScheduler */ "./node_modules/rxjs/_esm5/internal/util/isScheduler.js");
/* harmony import */ var _operators_mergeAll__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../operators/mergeAll */ "./node_modules/rxjs/_esm5/internal/operators/mergeAll.js");
/* harmony import */ var _fromArray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./fromArray */ "./node_modules/rxjs/_esm5/internal/observable/fromArray.js");
/** PURE_IMPORTS_START _Observable,_util_isScheduler,_operators_mergeAll,_fromArray PURE_IMPORTS_END */




function merge() {
    var observables = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        observables[_i] = arguments[_i];
    }
    var concurrent = Number.POSITIVE_INFINITY;
    var scheduler = null;
    var last = observables[observables.length - 1];
    if (Object(_util_isScheduler__WEBPACK_IMPORTED_MODULE_1__["isScheduler"])(last)) {
        scheduler = observables.pop();
        if (observables.length > 1 && typeof observables[observables.length - 1] === 'number') {
            concurrent = observables.pop();
        }
    }
    else if (typeof last === 'number') {
        concurrent = observables.pop();
    }
    if (scheduler === null && observables.length === 1 && observables[0] instanceof _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"]) {
        return observables[0];
    }
    return Object(_operators_mergeAll__WEBPACK_IMPORTED_MODULE_2__["mergeAll"])(concurrent)(Object(_fromArray__WEBPACK_IMPORTED_MODULE_3__["fromArray"])(observables, scheduler));
}
//# sourceMappingURL=merge.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/never.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/never.js ***!
  \**************************************************************/
/*! exports provided: NEVER, never */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NEVER", function() { return NEVER; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "never", function() { return never; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _util_noop__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/noop */ "./node_modules/rxjs/_esm5/internal/util/noop.js");
/** PURE_IMPORTS_START _Observable,_util_noop PURE_IMPORTS_END */


var NEVER = /*@__PURE__*/ new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](_util_noop__WEBPACK_IMPORTED_MODULE_1__["noop"]);
function never() {
    return NEVER;
}
//# sourceMappingURL=never.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/of.js":
/*!***********************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/of.js ***!
  \***********************************************************/
/*! exports provided: of */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "of", function() { return of; });
/* harmony import */ var _util_isScheduler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/isScheduler */ "./node_modules/rxjs/_esm5/internal/util/isScheduler.js");
/* harmony import */ var _fromArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fromArray */ "./node_modules/rxjs/_esm5/internal/observable/fromArray.js");
/* harmony import */ var _scheduled_scheduleArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../scheduled/scheduleArray */ "./node_modules/rxjs/_esm5/internal/scheduled/scheduleArray.js");
/** PURE_IMPORTS_START _util_isScheduler,_fromArray,_scheduled_scheduleArray PURE_IMPORTS_END */



function of() {
    var args = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
    }
    var scheduler = args[args.length - 1];
    if (Object(_util_isScheduler__WEBPACK_IMPORTED_MODULE_0__["isScheduler"])(scheduler)) {
        args.pop();
        return Object(_scheduled_scheduleArray__WEBPACK_IMPORTED_MODULE_2__["scheduleArray"])(args, scheduler);
    }
    else {
        return Object(_fromArray__WEBPACK_IMPORTED_MODULE_1__["fromArray"])(args);
    }
}
//# sourceMappingURL=of.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/onErrorResumeNext.js":
/*!**************************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/onErrorResumeNext.js ***!
  \**************************************************************************/
/*! exports provided: onErrorResumeNext */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "onErrorResumeNext", function() { return onErrorResumeNext; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _from__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./from */ "./node_modules/rxjs/_esm5/internal/observable/from.js");
/* harmony import */ var _util_isArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/isArray */ "./node_modules/rxjs/_esm5/internal/util/isArray.js");
/* harmony import */ var _empty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./empty */ "./node_modules/rxjs/_esm5/internal/observable/empty.js");
/** PURE_IMPORTS_START _Observable,_from,_util_isArray,_empty PURE_IMPORTS_END */




function onErrorResumeNext() {
    var sources = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        sources[_i] = arguments[_i];
    }
    if (sources.length === 0) {
        return _empty__WEBPACK_IMPORTED_MODULE_3__["EMPTY"];
    }
    var first = sources[0], remainder = sources.slice(1);
    if (sources.length === 1 && Object(_util_isArray__WEBPACK_IMPORTED_MODULE_2__["isArray"])(first)) {
        return onErrorResumeNext.apply(void 0, first);
    }
    return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) {
        var subNext = function () { return subscriber.add(onErrorResumeNext.apply(void 0, remainder).subscribe(subscriber)); };
        return Object(_from__WEBPACK_IMPORTED_MODULE_1__["from"])(first).subscribe({
            next: function (value) { subscriber.next(value); },
            error: subNext,
            complete: subNext,
        });
    });
}
//# sourceMappingURL=onErrorResumeNext.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/pairs.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/pairs.js ***!
  \**************************************************************/
/*! exports provided: pairs, dispatch */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pairs", function() { return pairs; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "dispatch", function() { return dispatch; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _Subscription__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscription */ "./node_modules/rxjs/_esm5/internal/Subscription.js");
/** PURE_IMPORTS_START _Observable,_Subscription PURE_IMPORTS_END */


function pairs(obj, scheduler) {
    if (!scheduler) {
        return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) {
            var keys = Object.keys(obj);
            for (var i = 0; i < keys.length && !subscriber.closed; i++) {
                var key = keys[i];
                if (obj.hasOwnProperty(key)) {
                    subscriber.next([key, obj[key]]);
                }
            }
            subscriber.complete();
        });
    }
    else {
        return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) {
            var keys = Object.keys(obj);
            var subscription = new _Subscription__WEBPACK_IMPORTED_MODULE_1__["Subscription"]();
            subscription.add(scheduler.schedule(dispatch, 0, { keys: keys, index: 0, subscriber: subscriber, subscription: subscription, obj: obj }));
            return subscription;
        });
    }
}
function dispatch(state) {
    var keys = state.keys, index = state.index, subscriber = state.subscriber, subscription = state.subscription, obj = state.obj;
    if (!subscriber.closed) {
        if (index < keys.length) {
            var key = keys[index];
            subscriber.next([key, obj[key]]);
            subscription.add(this.schedule({ keys: keys, index: index + 1, subscriber: subscriber, subscription: subscription, obj: obj }));
        }
        else {
            subscriber.complete();
        }
    }
}
//# sourceMappingURL=pairs.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/partition.js":
/*!******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/partition.js ***!
  \******************************************************************/
/*! exports provided: partition */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "partition", function() { return partition; });
/* harmony import */ var _util_not__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/not */ "./node_modules/rxjs/_esm5/internal/util/not.js");
/* harmony import */ var _util_subscribeTo__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/subscribeTo */ "./node_modules/rxjs/_esm5/internal/util/subscribeTo.js");
/* harmony import */ var _operators_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../operators/filter */ "./node_modules/rxjs/_esm5/internal/operators/filter.js");
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/** PURE_IMPORTS_START _util_not,_util_subscribeTo,_operators_filter,_Observable PURE_IMPORTS_END */




function partition(source, predicate, thisArg) {
    return [
        Object(_operators_filter__WEBPACK_IMPORTED_MODULE_2__["filter"])(predicate, thisArg)(new _Observable__WEBPACK_IMPORTED_MODULE_3__["Observable"](Object(_util_subscribeTo__WEBPACK_IMPORTED_MODULE_1__["subscribeTo"])(source))),
        Object(_operators_filter__WEBPACK_IMPORTED_MODULE_2__["filter"])(Object(_util_not__WEBPACK_IMPORTED_MODULE_0__["not"])(predicate, thisArg))(new _Observable__WEBPACK_IMPORTED_MODULE_3__["Observable"](Object(_util_subscribeTo__WEBPACK_IMPORTED_MODULE_1__["subscribeTo"])(source)))
    ];
}
//# sourceMappingURL=partition.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/race.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/race.js ***!
  \*************************************************************/
/*! exports provided: race, RaceOperator, RaceSubscriber */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "race", function() { return race; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RaceOperator", function() { return RaceOperator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RaceSubscriber", function() { return RaceSubscriber; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _util_isArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/isArray */ "./node_modules/rxjs/_esm5/internal/util/isArray.js");
/* harmony import */ var _fromArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./fromArray */ "./node_modules/rxjs/_esm5/internal/observable/fromArray.js");
/* harmony import */ var _OuterSubscriber__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../OuterSubscriber */ "./node_modules/rxjs/_esm5/internal/OuterSubscriber.js");
/* harmony import */ var _util_subscribeToResult__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/subscribeToResult */ "./node_modules/rxjs/_esm5/internal/util/subscribeToResult.js");
/** PURE_IMPORTS_START tslib,_util_isArray,_fromArray,_OuterSubscriber,_util_subscribeToResult PURE_IMPORTS_END */





function race() {
    var observables = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        observables[_i] = arguments[_i];
    }
    if (observables.length === 1) {
        if (Object(_util_isArray__WEBPACK_IMPORTED_MODULE_1__["isArray"])(observables[0])) {
            observables = observables[0];
        }
        else {
            return observables[0];
        }
    }
    return Object(_fromArray__WEBPACK_IMPORTED_MODULE_2__["fromArray"])(observables, undefined).lift(new RaceOperator());
}
var RaceOperator = /*@__PURE__*/ (function () {
    function RaceOperator() {
    }
    RaceOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new RaceSubscriber(subscriber));
    };
    return RaceOperator;
}());

var RaceSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](RaceSubscriber, _super);
    function RaceSubscriber(destination) {
        var _this = _super.call(this, destination) || this;
        _this.hasFirst = false;
        _this.observables = [];
        _this.subscriptions = [];
        return _this;
    }
    RaceSubscriber.prototype._next = function (observable) {
        this.observables.push(observable);
    };
    RaceSubscriber.prototype._complete = function () {
        var observables = this.observables;
        var len = observables.length;
        if (len === 0) {
            this.destination.complete();
        }
        else {
            for (var i = 0; i < len && !this.hasFirst; i++) {
                var observable = observables[i];
                var subscription = Object(_util_subscribeToResult__WEBPACK_IMPORTED_MODULE_4__["subscribeToResult"])(this, observable, undefined, i);
                if (this.subscriptions) {
                    this.subscriptions.push(subscription);
                }
                this.add(subscription);
            }
            this.observables = null;
        }
    };
    RaceSubscriber.prototype.notifyNext = function (_outerValue, innerValue, outerIndex) {
        if (!this.hasFirst) {
            this.hasFirst = true;
            for (var i = 0; i < this.subscriptions.length; i++) {
                if (i !== outerIndex) {
                    var subscription = this.subscriptions[i];
                    subscription.unsubscribe();
                    this.remove(subscription);
                }
            }
            this.subscriptions = null;
        }
        this.destination.next(innerValue);
    };
    return RaceSubscriber;
}(_OuterSubscriber__WEBPACK_IMPORTED_MODULE_3__["OuterSubscriber"]));

//# sourceMappingURL=race.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/range.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/range.js ***!
  \**************************************************************/
/*! exports provided: range, dispatch */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "range", function() { return range; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "dispatch", function() { return dispatch; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/** PURE_IMPORTS_START _Observable PURE_IMPORTS_END */

function range(start, count, scheduler) {
    if (start === void 0) {
        start = 0;
    }
    return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) {
        if (count === undefined) {
            count = start;
            start = 0;
        }
        var index = 0;
        var current = start;
        if (scheduler) {
            return scheduler.schedule(dispatch, 0, {
                index: index, count: count, start: start, subscriber: subscriber
            });
        }
        else {
            do {
                if (index++ >= count) {
                    subscriber.complete();
                    break;
                }
                subscriber.next(current++);
                if (subscriber.closed) {
                    break;
                }
            } while (true);
        }
        return undefined;
    });
}
function dispatch(state) {
    var start = state.start, index = state.index, count = state.count, subscriber = state.subscriber;
    if (index >= count) {
        subscriber.complete();
        return;
    }
    subscriber.next(start);
    if (subscriber.closed) {
        return;
    }
    state.index = index + 1;
    state.start = start + 1;
    this.schedule(state);
}
//# sourceMappingURL=range.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/throwError.js":
/*!*******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/throwError.js ***!
  \*******************************************************************/
/*! exports provided: throwError */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "throwError", function() { return throwError; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/** PURE_IMPORTS_START _Observable PURE_IMPORTS_END */

function throwError(error, scheduler) {
    if (!scheduler) {
        return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) { return subscriber.error(error); });
    }
    else {
        return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) { return scheduler.schedule(dispatch, 0, { error: error, subscriber: subscriber }); });
    }
}
function dispatch(_a) {
    var error = _a.error, subscriber = _a.subscriber;
    subscriber.error(error);
}
//# sourceMappingURL=throwError.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/timer.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/timer.js ***!
  \**************************************************************/
/*! exports provided: timer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "timer", function() { return timer; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _scheduler_async__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../scheduler/async */ "./node_modules/rxjs/_esm5/internal/scheduler/async.js");
/* harmony import */ var _util_isNumeric__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/isNumeric */ "./node_modules/rxjs/_esm5/internal/util/isNumeric.js");
/* harmony import */ var _util_isScheduler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/isScheduler */ "./node_modules/rxjs/_esm5/internal/util/isScheduler.js");
/** PURE_IMPORTS_START _Observable,_scheduler_async,_util_isNumeric,_util_isScheduler PURE_IMPORTS_END */




function timer(dueTime, periodOrScheduler, scheduler) {
    if (dueTime === void 0) {
        dueTime = 0;
    }
    var period = -1;
    if (Object(_util_isNumeric__WEBPACK_IMPORTED_MODULE_2__["isNumeric"])(periodOrScheduler)) {
        period = Number(periodOrScheduler) < 1 && 1 || Number(periodOrScheduler);
    }
    else if (Object(_util_isScheduler__WEBPACK_IMPORTED_MODULE_3__["isScheduler"])(periodOrScheduler)) {
        scheduler = periodOrScheduler;
    }
    if (!Object(_util_isScheduler__WEBPACK_IMPORTED_MODULE_3__["isScheduler"])(scheduler)) {
        scheduler = _scheduler_async__WEBPACK_IMPORTED_MODULE_1__["async"];
    }
    return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) {
        var due = Object(_util_isNumeric__WEBPACK_IMPORTED_MODULE_2__["isNumeric"])(dueTime)
            ? dueTime
            : (+dueTime - scheduler.now());
        return scheduler.schedule(dispatch, due, {
            index: 0, period: period, subscriber: subscriber
        });
    });
}
function dispatch(state) {
    var index = state.index, period = state.period, subscriber = state.subscriber;
    subscriber.next(index);
    if (subscriber.closed) {
        return;
    }
    else if (period === -1) {
        return subscriber.complete();
    }
    state.index = index + 1;
    this.schedule(state, period);
}
//# sourceMappingURL=timer.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/using.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/using.js ***!
  \**************************************************************/
/*! exports provided: using */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "using", function() { return using; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _from__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./from */ "./node_modules/rxjs/_esm5/internal/observable/from.js");
/* harmony import */ var _empty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./empty */ "./node_modules/rxjs/_esm5/internal/observable/empty.js");
/** PURE_IMPORTS_START _Observable,_from,_empty PURE_IMPORTS_END */



function using(resourceFactory, observableFactory) {
    return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) {
        var resource;
        try {
            resource = resourceFactory();
        }
        catch (err) {
            subscriber.error(err);
            return undefined;
        }
        var result;
        try {
            result = observableFactory(resource);
        }
        catch (err) {
            subscriber.error(err);
            return undefined;
        }
        var source = result ? Object(_from__WEBPACK_IMPORTED_MODULE_1__["from"])(result) : _empty__WEBPACK_IMPORTED_MODULE_2__["EMPTY"];
        var subscription = source.subscribe(subscriber);
        return function () {
            subscription.unsubscribe();
            if (resource) {
                resource.unsubscribe();
            }
        };
    });
}
//# sourceMappingURL=using.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/observable/zip.js":
/*!************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/observable/zip.js ***!
  \************************************************************/
/*! exports provided: zip, ZipOperator, ZipSubscriber */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "zip", function() { return zip; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ZipOperator", function() { return ZipOperator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ZipSubscriber", function() { return ZipSubscriber; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _fromArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fromArray */ "./node_modules/rxjs/_esm5/internal/observable/fromArray.js");
/* harmony import */ var _util_isArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/isArray */ "./node_modules/rxjs/_esm5/internal/util/isArray.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _internal_symbol_iterator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../internal/symbol/iterator */ "./node_modules/rxjs/_esm5/internal/symbol/iterator.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_fromArray,_util_isArray,_Subscriber,_.._internal_symbol_iterator,_innerSubscribe PURE_IMPORTS_END */






function zip() {
    var observables = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        observables[_i] = arguments[_i];
    }
    var resultSelector = observables[observables.length - 1];
    if (typeof resultSelector === 'function') {
        observables.pop();
    }
    return Object(_fromArray__WEBPACK_IMPORTED_MODULE_1__["fromArray"])(observables, undefined).lift(new ZipOperator(resultSelector));
}
var ZipOperator = /*@__PURE__*/ (function () {
    function ZipOperator(resultSelector) {
        this.resultSelector = resultSelector;
    }
    ZipOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new ZipSubscriber(subscriber, this.resultSelector));
    };
    return ZipOperator;
}());

var ZipSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ZipSubscriber, _super);
    function ZipSubscriber(destination, resultSelector, values) {
        if (values === void 0) {
            values = Object.create(null);
        }
        var _this = _super.call(this, destination) || this;
        _this.resultSelector = resultSelector;
        _this.iterators = [];
        _this.active = 0;
        _this.resultSelector = (typeof resultSelector === 'function') ? resultSelector : undefined;
        return _this;
    }
    ZipSubscriber.prototype._next = function (value) {
        var iterators = this.iterators;
        if (Object(_util_isArray__WEBPACK_IMPORTED_MODULE_2__["isArray"])(value)) {
            iterators.push(new StaticArrayIterator(value));
        }
        else if (typeof value[_internal_symbol_iterator__WEBPACK_IMPORTED_MODULE_4__["iterator"]] === 'function') {
            iterators.push(new StaticIterator(value[_internal_symbol_iterator__WEBPACK_IMPORTED_MODULE_4__["iterator"]]()));
        }
        else {
            iterators.push(new ZipBufferIterator(this.destination, this, value));
        }
    };
    ZipSubscriber.prototype._complete = function () {
        var iterators = this.iterators;
        var len = iterators.length;
        this.unsubscribe();
        if (len === 0) {
            this.destination.complete();
            return;
        }
        this.active = len;
        for (var i = 0; i < len; i++) {
            var iterator = iterators[i];
            if (iterator.stillUnsubscribed) {
                var destination = this.destination;
                destination.add(iterator.subscribe());
            }
            else {
                this.active--;
            }
        }
    };
    ZipSubscriber.prototype.notifyInactive = function () {
        this.active--;
        if (this.active === 0) {
            this.destination.complete();
        }
    };
    ZipSubscriber.prototype.checkIterators = function () {
        var iterators = this.iterators;
        var len = iterators.length;
        var destination = this.destination;
        for (var i = 0; i < len; i++) {
            var iterator = iterators[i];
            if (typeof iterator.hasValue === 'function' && !iterator.hasValue()) {
                return;
            }
        }
        var shouldComplete = false;
        var args = [];
        for (var i = 0; i < len; i++) {
            var iterator = iterators[i];
            var result = iterator.next();
            if (iterator.hasCompleted()) {
                shouldComplete = true;
            }
            if (result.done) {
                destination.complete();
                return;
            }
            args.push(result.value);
        }
        if (this.resultSelector) {
            this._tryresultSelector(args);
        }
        else {
            destination.next(args);
        }
        if (shouldComplete) {
            destination.complete();
        }
    };
    ZipSubscriber.prototype._tryresultSelector = function (args) {
        var result;
        try {
            result = this.resultSelector.apply(this, args);
        }
        catch (err) {
            this.destination.error(err);
            return;
        }
        this.destination.next(result);
    };
    return ZipSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_3__["Subscriber"]));

var StaticIterator = /*@__PURE__*/ (function () {
    function StaticIterator(iterator) {
        this.iterator = iterator;
        this.nextResult = iterator.next();
    }
    StaticIterator.prototype.hasValue = function () {
        return true;
    };
    StaticIterator.prototype.next = function () {
        var result = this.nextResult;
        this.nextResult = this.iterator.next();
        return result;
    };
    StaticIterator.prototype.hasCompleted = function () {
        var nextResult = this.nextResult;
        return Boolean(nextResult && nextResult.done);
    };
    return StaticIterator;
}());
var StaticArrayIterator = /*@__PURE__*/ (function () {
    function StaticArrayIterator(array) {
        this.array = array;
        this.index = 0;
        this.length = 0;
        this.length = array.length;
    }
    StaticArrayIterator.prototype[_internal_symbol_iterator__WEBPACK_IMPORTED_MODULE_4__["iterator"]] = function () {
        return this;
    };
    StaticArrayIterator.prototype.next = function (value) {
        var i = this.index++;
        var array = this.array;
        return i < this.length ? { value: array[i], done: false } : { value: null, done: true };
    };
    StaticArrayIterator.prototype.hasValue = function () {
        return this.array.length > this.index;
    };
    StaticArrayIterator.prototype.hasCompleted = function () {
        return this.array.length === this.index;
    };
    return StaticArrayIterator;
}());
var ZipBufferIterator = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ZipBufferIterator, _super);
    function ZipBufferIterator(destination, parent, observable) {
        var _this = _super.call(this, destination) || this;
        _this.parent = parent;
        _this.observable = observable;
        _this.stillUnsubscribed = true;
        _this.buffer = [];
        _this.isComplete = false;
        return _this;
    }
    ZipBufferIterator.prototype[_internal_symbol_iterator__WEBPACK_IMPORTED_MODULE_4__["iterator"]] = function () {
        return this;
    };
    ZipBufferIterator.prototype.next = function () {
        var buffer = this.buffer;
        if (buffer.length === 0 && this.isComplete) {
            return { value: null, done: true };
        }
        else {
            return { value: buffer.shift(), done: false };
        }
    };
    ZipBufferIterator.prototype.hasValue = function () {
        return this.buffer.length > 0;
    };
    ZipBufferIterator.prototype.hasCompleted = function () {
        return this.buffer.length === 0 && this.isComplete;
    };
    ZipBufferIterator.prototype.notifyComplete = function () {
        if (this.buffer.length > 0) {
            this.isComplete = true;
            this.parent.notifyInactive();
        }
        else {
            this.destination.complete();
        }
    };
    ZipBufferIterator.prototype.notifyNext = function (innerValue) {
        this.buffer.push(innerValue);
        this.parent.checkIterators();
    };
    ZipBufferIterator.prototype.subscribe = function () {
        return Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_5__["innerSubscribe"])(this.observable, new _innerSubscribe__WEBPACK_IMPORTED_MODULE_5__["SimpleInnerSubscriber"](this));
    };
    return ZipBufferIterator;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_5__["SimpleOuterSubscriber"]));
//# sourceMappingURL=zip.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/audit.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/audit.js ***!
  \*************************************************************/
/*! exports provided: audit */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "audit", function() { return audit; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */


function audit(durationSelector) {
    return function auditOperatorFunction(source) {
        return source.lift(new AuditOperator(durationSelector));
    };
}
var AuditOperator = /*@__PURE__*/ (function () {
    function AuditOperator(durationSelector) {
        this.durationSelector = durationSelector;
    }
    AuditOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new AuditSubscriber(subscriber, this.durationSelector));
    };
    return AuditOperator;
}());
var AuditSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](AuditSubscriber, _super);
    function AuditSubscriber(destination, durationSelector) {
        var _this = _super.call(this, destination) || this;
        _this.durationSelector = durationSelector;
        _this.hasValue = false;
        return _this;
    }
    AuditSubscriber.prototype._next = function (value) {
        this.value = value;
        this.hasValue = true;
        if (!this.throttled) {
            var duration = void 0;
            try {
                var durationSelector = this.durationSelector;
                duration = durationSelector(value);
            }
            catch (err) {
                return this.destination.error(err);
            }
            var innerSubscription = Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["innerSubscribe"])(duration, new _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleInnerSubscriber"](this));
            if (!innerSubscription || innerSubscription.closed) {
                this.clearThrottle();
            }
            else {
                this.add(this.throttled = innerSubscription);
            }
        }
    };
    AuditSubscriber.prototype.clearThrottle = function () {
        var _a = this, value = _a.value, hasValue = _a.hasValue, throttled = _a.throttled;
        if (throttled) {
            this.remove(throttled);
            this.throttled = undefined;
            throttled.unsubscribe();
        }
        if (hasValue) {
            this.value = undefined;
            this.hasValue = false;
            this.destination.next(value);
        }
    };
    AuditSubscriber.prototype.notifyNext = function () {
        this.clearThrottle();
    };
    AuditSubscriber.prototype.notifyComplete = function () {
        this.clearThrottle();
    };
    return AuditSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleOuterSubscriber"]));
//# sourceMappingURL=audit.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/auditTime.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/auditTime.js ***!
  \*****************************************************************/
/*! exports provided: auditTime */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "auditTime", function() { return auditTime; });
/* harmony import */ var _scheduler_async__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../scheduler/async */ "./node_modules/rxjs/_esm5/internal/scheduler/async.js");
/* harmony import */ var _audit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./audit */ "./node_modules/rxjs/_esm5/internal/operators/audit.js");
/* harmony import */ var _observable_timer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../observable/timer */ "./node_modules/rxjs/_esm5/internal/observable/timer.js");
/** PURE_IMPORTS_START _scheduler_async,_audit,_observable_timer PURE_IMPORTS_END */



function auditTime(duration, scheduler) {
    if (scheduler === void 0) {
        scheduler = _scheduler_async__WEBPACK_IMPORTED_MODULE_0__["async"];
    }
    return Object(_audit__WEBPACK_IMPORTED_MODULE_1__["audit"])(function () { return Object(_observable_timer__WEBPACK_IMPORTED_MODULE_2__["timer"])(duration, scheduler); });
}
//# sourceMappingURL=auditTime.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/buffer.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/buffer.js ***!
  \**************************************************************/
/*! exports provided: buffer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "buffer", function() { return buffer; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */


function buffer(closingNotifier) {
    return function bufferOperatorFunction(source) {
        return source.lift(new BufferOperator(closingNotifier));
    };
}
var BufferOperator = /*@__PURE__*/ (function () {
    function BufferOperator(closingNotifier) {
        this.closingNotifier = closingNotifier;
    }
    BufferOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new BufferSubscriber(subscriber, this.closingNotifier));
    };
    return BufferOperator;
}());
var BufferSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](BufferSubscriber, _super);
    function BufferSubscriber(destination, closingNotifier) {
        var _this = _super.call(this, destination) || this;
        _this.buffer = [];
        _this.add(Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["innerSubscribe"])(closingNotifier, new _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleInnerSubscriber"](_this)));
        return _this;
    }
    BufferSubscriber.prototype._next = function (value) {
        this.buffer.push(value);
    };
    BufferSubscriber.prototype.notifyNext = function () {
        var buffer = this.buffer;
        this.buffer = [];
        this.destination.next(buffer);
    };
    return BufferSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleOuterSubscriber"]));
//# sourceMappingURL=buffer.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/bufferCount.js":
/*!*******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/bufferCount.js ***!
  \*******************************************************************/
/*! exports provided: bufferCount */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bufferCount", function() { return bufferCount; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function bufferCount(bufferSize, startBufferEvery) {
    if (startBufferEvery === void 0) {
        startBufferEvery = null;
    }
    return function bufferCountOperatorFunction(source) {
        return source.lift(new BufferCountOperator(bufferSize, startBufferEvery));
    };
}
var BufferCountOperator = /*@__PURE__*/ (function () {
    function BufferCountOperator(bufferSize, startBufferEvery) {
        this.bufferSize = bufferSize;
        this.startBufferEvery = startBufferEvery;
        if (!startBufferEvery || bufferSize === startBufferEvery) {
            this.subscriberClass = BufferCountSubscriber;
        }
        else {
            this.subscriberClass = BufferSkipCountSubscriber;
        }
    }
    BufferCountOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new this.subscriberClass(subscriber, this.bufferSize, this.startBufferEvery));
    };
    return BufferCountOperator;
}());
var BufferCountSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](BufferCountSubscriber, _super);
    function BufferCountSubscriber(destination, bufferSize) {
        var _this = _super.call(this, destination) || this;
        _this.bufferSize = bufferSize;
        _this.buffer = [];
        return _this;
    }
    BufferCountSubscriber.prototype._next = function (value) {
        var buffer = this.buffer;
        buffer.push(value);
        if (buffer.length == this.bufferSize) {
            this.destination.next(buffer);
            this.buffer = [];
        }
    };
    BufferCountSubscriber.prototype._complete = function () {
        var buffer = this.buffer;
        if (buffer.length > 0) {
            this.destination.next(buffer);
        }
        _super.prototype._complete.call(this);
    };
    return BufferCountSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
var BufferSkipCountSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](BufferSkipCountSubscriber, _super);
    function BufferSkipCountSubscriber(destination, bufferSize, startBufferEvery) {
        var _this = _super.call(this, destination) || this;
        _this.bufferSize = bufferSize;
        _this.startBufferEvery = startBufferEvery;
        _this.buffers = [];
        _this.count = 0;
        return _this;
    }
    BufferSkipCountSubscriber.prototype._next = function (value) {
        var _a = this, bufferSize = _a.bufferSize, startBufferEvery = _a.startBufferEvery, buffers = _a.buffers, count = _a.count;
        this.count++;
        if (count % startBufferEvery === 0) {
            buffers.push([]);
        }
        for (var i = buffers.length; i--;) {
            var buffer = buffers[i];
            buffer.push(value);
            if (buffer.length === bufferSize) {
                buffers.splice(i, 1);
                this.destination.next(buffer);
            }
        }
    };
    BufferSkipCountSubscriber.prototype._complete = function () {
        var _a = this, buffers = _a.buffers, destination = _a.destination;
        while (buffers.length > 0) {
            var buffer = buffers.shift();
            if (buffer.length > 0) {
                destination.next(buffer);
            }
        }
        _super.prototype._complete.call(this);
    };
    return BufferSkipCountSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=bufferCount.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/bufferTime.js":
/*!******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/bufferTime.js ***!
  \******************************************************************/
/*! exports provided: bufferTime */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bufferTime", function() { return bufferTime; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _scheduler_async__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../scheduler/async */ "./node_modules/rxjs/_esm5/internal/scheduler/async.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _util_isScheduler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/isScheduler */ "./node_modules/rxjs/_esm5/internal/util/isScheduler.js");
/** PURE_IMPORTS_START tslib,_scheduler_async,_Subscriber,_util_isScheduler PURE_IMPORTS_END */




function bufferTime(bufferTimeSpan) {
    var length = arguments.length;
    var scheduler = _scheduler_async__WEBPACK_IMPORTED_MODULE_1__["async"];
    if (Object(_util_isScheduler__WEBPACK_IMPORTED_MODULE_3__["isScheduler"])(arguments[arguments.length - 1])) {
        scheduler = arguments[arguments.length - 1];
        length--;
    }
    var bufferCreationInterval = null;
    if (length >= 2) {
        bufferCreationInterval = arguments[1];
    }
    var maxBufferSize = Number.POSITIVE_INFINITY;
    if (length >= 3) {
        maxBufferSize = arguments[2];
    }
    return function bufferTimeOperatorFunction(source) {
        return source.lift(new BufferTimeOperator(bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler));
    };
}
var BufferTimeOperator = /*@__PURE__*/ (function () {
    function BufferTimeOperator(bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler) {
        this.bufferTimeSpan = bufferTimeSpan;
        this.bufferCreationInterval = bufferCreationInterval;
        this.maxBufferSize = maxBufferSize;
        this.scheduler = scheduler;
    }
    BufferTimeOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new BufferTimeSubscriber(subscriber, this.bufferTimeSpan, this.bufferCreationInterval, this.maxBufferSize, this.scheduler));
    };
    return BufferTimeOperator;
}());
var Context = /*@__PURE__*/ (function () {
    function Context() {
        this.buffer = [];
    }
    return Context;
}());
var BufferTimeSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](BufferTimeSubscriber, _super);
    function BufferTimeSubscriber(destination, bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler) {
        var _this = _super.call(this, destination) || this;
        _this.bufferTimeSpan = bufferTimeSpan;
        _this.bufferCreationInterval = bufferCreationInterval;
        _this.maxBufferSize = maxBufferSize;
        _this.scheduler = scheduler;
        _this.contexts = [];
        var context = _this.openContext();
        _this.timespanOnly = bufferCreationInterval == null || bufferCreationInterval < 0;
        if (_this.timespanOnly) {
            var timeSpanOnlyState = { subscriber: _this, context: context, bufferTimeSpan: bufferTimeSpan };
            _this.add(context.closeAction = scheduler.schedule(dispatchBufferTimeSpanOnly, bufferTimeSpan, timeSpanOnlyState));
        }
        else {
            var closeState = { subscriber: _this, context: context };
            var creationState = { bufferTimeSpan: bufferTimeSpan, bufferCreationInterval: bufferCreationInterval, subscriber: _this, scheduler: scheduler };
            _this.add(context.closeAction = scheduler.schedule(dispatchBufferClose, bufferTimeSpan, closeState));
            _this.add(scheduler.schedule(dispatchBufferCreation, bufferCreationInterval, creationState));
        }
        return _this;
    }
    BufferTimeSubscriber.prototype._next = function (value) {
        var contexts = this.contexts;
        var len = contexts.length;
        var filledBufferContext;
        for (var i = 0; i < len; i++) {
            var context_1 = contexts[i];
            var buffer = context_1.buffer;
            buffer.push(value);
            if (buffer.length == this.maxBufferSize) {
                filledBufferContext = context_1;
            }
        }
        if (filledBufferContext) {
            this.onBufferFull(filledBufferContext);
        }
    };
    BufferTimeSubscriber.prototype._error = function (err) {
        this.contexts.length = 0;
        _super.prototype._error.call(this, err);
    };
    BufferTimeSubscriber.prototype._complete = function () {
        var _a = this, contexts = _a.contexts, destination = _a.destination;
        while (contexts.length > 0) {
            var context_2 = contexts.shift();
            destination.next(context_2.buffer);
        }
        _super.prototype._complete.call(this);
    };
    BufferTimeSubscriber.prototype._unsubscribe = function () {
        this.contexts = null;
    };
    BufferTimeSubscriber.prototype.onBufferFull = function (context) {
        this.closeContext(context);
        var closeAction = context.closeAction;
        closeAction.unsubscribe();
        this.remove(closeAction);
        if (!this.closed && this.timespanOnly) {
            context = this.openContext();
            var bufferTimeSpan = this.bufferTimeSpan;
            var timeSpanOnlyState = { subscriber: this, context: context, bufferTimeSpan: bufferTimeSpan };
            this.add(context.closeAction = this.scheduler.schedule(dispatchBufferTimeSpanOnly, bufferTimeSpan, timeSpanOnlyState));
        }
    };
    BufferTimeSubscriber.prototype.openContext = function () {
        var context = new Context();
        this.contexts.push(context);
        return context;
    };
    BufferTimeSubscriber.prototype.closeContext = function (context) {
        this.destination.next(context.buffer);
        var contexts = this.contexts;
        var spliceIndex = contexts ? contexts.indexOf(context) : -1;
        if (spliceIndex >= 0) {
            contexts.splice(contexts.indexOf(context), 1);
        }
    };
    return BufferTimeSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_2__["Subscriber"]));
function dispatchBufferTimeSpanOnly(state) {
    var subscriber = state.subscriber;
    var prevContext = state.context;
    if (prevContext) {
        subscriber.closeContext(prevContext);
    }
    if (!subscriber.closed) {
        state.context = subscriber.openContext();
        state.context.closeAction = this.schedule(state, state.bufferTimeSpan);
    }
}
function dispatchBufferCreation(state) {
    var bufferCreationInterval = state.bufferCreationInterval, bufferTimeSpan = state.bufferTimeSpan, subscriber = state.subscriber, scheduler = state.scheduler;
    var context = subscriber.openContext();
    var action = this;
    if (!subscriber.closed) {
        subscriber.add(context.closeAction = scheduler.schedule(dispatchBufferClose, bufferTimeSpan, { subscriber: subscriber, context: context }));
        action.schedule(state, bufferCreationInterval);
    }
}
function dispatchBufferClose(arg) {
    var subscriber = arg.subscriber, context = arg.context;
    subscriber.closeContext(context);
}
//# sourceMappingURL=bufferTime.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/bufferToggle.js":
/*!********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/bufferToggle.js ***!
  \********************************************************************/
/*! exports provided: bufferToggle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bufferToggle", function() { return bufferToggle; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscription__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscription */ "./node_modules/rxjs/_esm5/internal/Subscription.js");
/* harmony import */ var _util_subscribeToResult__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/subscribeToResult */ "./node_modules/rxjs/_esm5/internal/util/subscribeToResult.js");
/* harmony import */ var _OuterSubscriber__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../OuterSubscriber */ "./node_modules/rxjs/_esm5/internal/OuterSubscriber.js");
/** PURE_IMPORTS_START tslib,_Subscription,_util_subscribeToResult,_OuterSubscriber PURE_IMPORTS_END */




function bufferToggle(openings, closingSelector) {
    return function bufferToggleOperatorFunction(source) {
        return source.lift(new BufferToggleOperator(openings, closingSelector));
    };
}
var BufferToggleOperator = /*@__PURE__*/ (function () {
    function BufferToggleOperator(openings, closingSelector) {
        this.openings = openings;
        this.closingSelector = closingSelector;
    }
    BufferToggleOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new BufferToggleSubscriber(subscriber, this.openings, this.closingSelector));
    };
    return BufferToggleOperator;
}());
var BufferToggleSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](BufferToggleSubscriber, _super);
    function BufferToggleSubscriber(destination, openings, closingSelector) {
        var _this = _super.call(this, destination) || this;
        _this.closingSelector = closingSelector;
        _this.contexts = [];
        _this.add(Object(_util_subscribeToResult__WEBPACK_IMPORTED_MODULE_2__["subscribeToResult"])(_this, openings));
        return _this;
    }
    BufferToggleSubscriber.prototype._next = function (value) {
        var contexts = this.contexts;
        var len = contexts.length;
        for (var i = 0; i < len; i++) {
            contexts[i].buffer.push(value);
        }
    };
    BufferToggleSubscriber.prototype._error = function (err) {
        var contexts = this.contexts;
        while (contexts.length > 0) {
            var context_1 = contexts.shift();
            context_1.subscription.unsubscribe();
            context_1.buffer = null;
            context_1.subscription = null;
        }
        this.contexts = null;
        _super.prototype._error.call(this, err);
    };
    BufferToggleSubscriber.prototype._complete = function () {
        var contexts = this.contexts;
        while (contexts.length > 0) {
            var context_2 = contexts.shift();
            this.destination.next(context_2.buffer);
            context_2.subscription.unsubscribe();
            context_2.buffer = null;
            context_2.subscription = null;
        }
        this.contexts = null;
        _super.prototype._complete.call(this);
    };
    BufferToggleSubscriber.prototype.notifyNext = function (outerValue, innerValue) {
        outerValue ? this.closeBuffer(outerValue) : this.openBuffer(innerValue);
    };
    BufferToggleSubscriber.prototype.notifyComplete = function (innerSub) {
        this.closeBuffer(innerSub.context);
    };
    BufferToggleSubscriber.prototype.openBuffer = function (value) {
        try {
            var closingSelector = this.closingSelector;
            var closingNotifier = closingSelector.call(this, value);
            if (closingNotifier) {
                this.trySubscribe(closingNotifier);
            }
        }
        catch (err) {
            this._error(err);
        }
    };
    BufferToggleSubscriber.prototype.closeBuffer = function (context) {
        var contexts = this.contexts;
        if (contexts && context) {
            var buffer = context.buffer, subscription = context.subscription;
            this.destination.next(buffer);
            contexts.splice(contexts.indexOf(context), 1);
            this.remove(subscription);
            subscription.unsubscribe();
        }
    };
    BufferToggleSubscriber.prototype.trySubscribe = function (closingNotifier) {
        var contexts = this.contexts;
        var buffer = [];
        var subscription = new _Subscription__WEBPACK_IMPORTED_MODULE_1__["Subscription"]();
        var context = { buffer: buffer, subscription: subscription };
        contexts.push(context);
        var innerSubscription = Object(_util_subscribeToResult__WEBPACK_IMPORTED_MODULE_2__["subscribeToResult"])(this, closingNotifier, context);
        if (!innerSubscription || innerSubscription.closed) {
            this.closeBuffer(context);
        }
        else {
            innerSubscription.context = context;
            this.add(innerSubscription);
            subscription.add(innerSubscription);
        }
    };
    return BufferToggleSubscriber;
}(_OuterSubscriber__WEBPACK_IMPORTED_MODULE_3__["OuterSubscriber"]));
//# sourceMappingURL=bufferToggle.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/bufferWhen.js":
/*!******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/bufferWhen.js ***!
  \******************************************************************/
/*! exports provided: bufferWhen */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bufferWhen", function() { return bufferWhen; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscription__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscription */ "./node_modules/rxjs/_esm5/internal/Subscription.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_Subscription,_innerSubscribe PURE_IMPORTS_END */



function bufferWhen(closingSelector) {
    return function (source) {
        return source.lift(new BufferWhenOperator(closingSelector));
    };
}
var BufferWhenOperator = /*@__PURE__*/ (function () {
    function BufferWhenOperator(closingSelector) {
        this.closingSelector = closingSelector;
    }
    BufferWhenOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new BufferWhenSubscriber(subscriber, this.closingSelector));
    };
    return BufferWhenOperator;
}());
var BufferWhenSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](BufferWhenSubscriber, _super);
    function BufferWhenSubscriber(destination, closingSelector) {
        var _this = _super.call(this, destination) || this;
        _this.closingSelector = closingSelector;
        _this.subscribing = false;
        _this.openBuffer();
        return _this;
    }
    BufferWhenSubscriber.prototype._next = function (value) {
        this.buffer.push(value);
    };
    BufferWhenSubscriber.prototype._complete = function () {
        var buffer = this.buffer;
        if (buffer) {
            this.destination.next(buffer);
        }
        _super.prototype._complete.call(this);
    };
    BufferWhenSubscriber.prototype._unsubscribe = function () {
        this.buffer = undefined;
        this.subscribing = false;
    };
    BufferWhenSubscriber.prototype.notifyNext = function () {
        this.openBuffer();
    };
    BufferWhenSubscriber.prototype.notifyComplete = function () {
        if (this.subscribing) {
            this.complete();
        }
        else {
            this.openBuffer();
        }
    };
    BufferWhenSubscriber.prototype.openBuffer = function () {
        var closingSubscription = this.closingSubscription;
        if (closingSubscription) {
            this.remove(closingSubscription);
            closingSubscription.unsubscribe();
        }
        var buffer = this.buffer;
        if (this.buffer) {
            this.destination.next(buffer);
        }
        this.buffer = [];
        var closingNotifier;
        try {
            var closingSelector = this.closingSelector;
            closingNotifier = closingSelector();
        }
        catch (err) {
            return this.error(err);
        }
        closingSubscription = new _Subscription__WEBPACK_IMPORTED_MODULE_1__["Subscription"]();
        this.closingSubscription = closingSubscription;
        this.add(closingSubscription);
        this.subscribing = true;
        closingSubscription.add(Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_2__["innerSubscribe"])(closingNotifier, new _innerSubscribe__WEBPACK_IMPORTED_MODULE_2__["SimpleInnerSubscriber"](this)));
        this.subscribing = false;
    };
    return BufferWhenSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_2__["SimpleOuterSubscriber"]));
//# sourceMappingURL=bufferWhen.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/catchError.js":
/*!******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/catchError.js ***!
  \******************************************************************/
/*! exports provided: catchError */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "catchError", function() { return catchError; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */


function catchError(selector) {
    return function catchErrorOperatorFunction(source) {
        var operator = new CatchOperator(selector);
        var caught = source.lift(operator);
        return (operator.caught = caught);
    };
}
var CatchOperator = /*@__PURE__*/ (function () {
    function CatchOperator(selector) {
        this.selector = selector;
    }
    CatchOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new CatchSubscriber(subscriber, this.selector, this.caught));
    };
    return CatchOperator;
}());
var CatchSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](CatchSubscriber, _super);
    function CatchSubscriber(destination, selector, caught) {
        var _this = _super.call(this, destination) || this;
        _this.selector = selector;
        _this.caught = caught;
        return _this;
    }
    CatchSubscriber.prototype.error = function (err) {
        if (!this.isStopped) {
            var result = void 0;
            try {
                result = this.selector(err, this.caught);
            }
            catch (err2) {
                _super.prototype.error.call(this, err2);
                return;
            }
            this._unsubscribeAndRecycle();
            var innerSubscriber = new _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleInnerSubscriber"](this);
            this.add(innerSubscriber);
            var innerSubscription = Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["innerSubscribe"])(result, innerSubscriber);
            if (innerSubscription !== innerSubscriber) {
                this.add(innerSubscription);
            }
        }
    };
    return CatchSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleOuterSubscriber"]));
//# sourceMappingURL=catchError.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/combineAll.js":
/*!******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/combineAll.js ***!
  \******************************************************************/
/*! exports provided: combineAll */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "combineAll", function() { return combineAll; });
/* harmony import */ var _observable_combineLatest__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../observable/combineLatest */ "./node_modules/rxjs/_esm5/internal/observable/combineLatest.js");
/** PURE_IMPORTS_START _observable_combineLatest PURE_IMPORTS_END */

function combineAll(project) {
    return function (source) { return source.lift(new _observable_combineLatest__WEBPACK_IMPORTED_MODULE_0__["CombineLatestOperator"](project)); };
}
//# sourceMappingURL=combineAll.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/combineLatest.js":
/*!*********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/combineLatest.js ***!
  \*********************************************************************/
/*! exports provided: combineLatest */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "combineLatest", function() { return combineLatest; });
/* harmony import */ var _util_isArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/isArray */ "./node_modules/rxjs/_esm5/internal/util/isArray.js");
/* harmony import */ var _observable_combineLatest__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../observable/combineLatest */ "./node_modules/rxjs/_esm5/internal/observable/combineLatest.js");
/* harmony import */ var _observable_from__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../observable/from */ "./node_modules/rxjs/_esm5/internal/observable/from.js");
/** PURE_IMPORTS_START _util_isArray,_observable_combineLatest,_observable_from PURE_IMPORTS_END */



var none = {};
function combineLatest() {
    var observables = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        observables[_i] = arguments[_i];
    }
    var project = null;
    if (typeof observables[observables.length - 1] === 'function') {
        project = observables.pop();
    }
    if (observables.length === 1 && Object(_util_isArray__WEBPACK_IMPORTED_MODULE_0__["isArray"])(observables[0])) {
        observables = observables[0].slice();
    }
    return function (source) { return source.lift.call(Object(_observable_from__WEBPACK_IMPORTED_MODULE_2__["from"])([source].concat(observables)), new _observable_combineLatest__WEBPACK_IMPORTED_MODULE_1__["CombineLatestOperator"](project)); };
}
//# sourceMappingURL=combineLatest.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/concat.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/concat.js ***!
  \**************************************************************/
/*! exports provided: concat */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "concat", function() { return concat; });
/* harmony import */ var _observable_concat__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../observable/concat */ "./node_modules/rxjs/_esm5/internal/observable/concat.js");
/** PURE_IMPORTS_START _observable_concat PURE_IMPORTS_END */

function concat() {
    var observables = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        observables[_i] = arguments[_i];
    }
    return function (source) { return source.lift.call(_observable_concat__WEBPACK_IMPORTED_MODULE_0__["concat"].apply(void 0, [source].concat(observables))); };
}
//# sourceMappingURL=concat.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/concatAll.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/concatAll.js ***!
  \*****************************************************************/
/*! exports provided: concatAll */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "concatAll", function() { return concatAll; });
/* harmony import */ var _mergeAll__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mergeAll */ "./node_modules/rxjs/_esm5/internal/operators/mergeAll.js");
/** PURE_IMPORTS_START _mergeAll PURE_IMPORTS_END */

function concatAll() {
    return Object(_mergeAll__WEBPACK_IMPORTED_MODULE_0__["mergeAll"])(1);
}
//# sourceMappingURL=concatAll.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/concatMap.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/concatMap.js ***!
  \*****************************************************************/
/*! exports provided: concatMap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "concatMap", function() { return concatMap; });
/* harmony import */ var _mergeMap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mergeMap */ "./node_modules/rxjs/_esm5/internal/operators/mergeMap.js");
/** PURE_IMPORTS_START _mergeMap PURE_IMPORTS_END */

function concatMap(project, resultSelector) {
    return Object(_mergeMap__WEBPACK_IMPORTED_MODULE_0__["mergeMap"])(project, resultSelector, 1);
}
//# sourceMappingURL=concatMap.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/concatMapTo.js":
/*!*******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/concatMapTo.js ***!
  \*******************************************************************/
/*! exports provided: concatMapTo */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "concatMapTo", function() { return concatMapTo; });
/* harmony import */ var _concatMap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./concatMap */ "./node_modules/rxjs/_esm5/internal/operators/concatMap.js");
/** PURE_IMPORTS_START _concatMap PURE_IMPORTS_END */

function concatMapTo(innerObservable, resultSelector) {
    return Object(_concatMap__WEBPACK_IMPORTED_MODULE_0__["concatMap"])(function () { return innerObservable; }, resultSelector);
}
//# sourceMappingURL=concatMapTo.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/count.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/count.js ***!
  \*************************************************************/
/*! exports provided: count */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "count", function() { return count; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function count(predicate) {
    return function (source) { return source.lift(new CountOperator(predicate, source)); };
}
var CountOperator = /*@__PURE__*/ (function () {
    function CountOperator(predicate, source) {
        this.predicate = predicate;
        this.source = source;
    }
    CountOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new CountSubscriber(subscriber, this.predicate, this.source));
    };
    return CountOperator;
}());
var CountSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](CountSubscriber, _super);
    function CountSubscriber(destination, predicate, source) {
        var _this = _super.call(this, destination) || this;
        _this.predicate = predicate;
        _this.source = source;
        _this.count = 0;
        _this.index = 0;
        return _this;
    }
    CountSubscriber.prototype._next = function (value) {
        if (this.predicate) {
            this._tryPredicate(value);
        }
        else {
            this.count++;
        }
    };
    CountSubscriber.prototype._tryPredicate = function (value) {
        var result;
        try {
            result = this.predicate(value, this.index++, this.source);
        }
        catch (err) {
            this.destination.error(err);
            return;
        }
        if (result) {
            this.count++;
        }
    };
    CountSubscriber.prototype._complete = function () {
        this.destination.next(this.count);
        this.destination.complete();
    };
    return CountSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=count.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/debounce.js":
/*!****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/debounce.js ***!
  \****************************************************************/
/*! exports provided: debounce */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "debounce", function() { return debounce; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */


function debounce(durationSelector) {
    return function (source) { return source.lift(new DebounceOperator(durationSelector)); };
}
var DebounceOperator = /*@__PURE__*/ (function () {
    function DebounceOperator(durationSelector) {
        this.durationSelector = durationSelector;
    }
    DebounceOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new DebounceSubscriber(subscriber, this.durationSelector));
    };
    return DebounceOperator;
}());
var DebounceSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](DebounceSubscriber, _super);
    function DebounceSubscriber(destination, durationSelector) {
        var _this = _super.call(this, destination) || this;
        _this.durationSelector = durationSelector;
        _this.hasValue = false;
        return _this;
    }
    DebounceSubscriber.prototype._next = function (value) {
        try {
            var result = this.durationSelector.call(this, value);
            if (result) {
                this._tryNext(value, result);
            }
        }
        catch (err) {
            this.destination.error(err);
        }
    };
    DebounceSubscriber.prototype._complete = function () {
        this.emitValue();
        this.destination.complete();
    };
    DebounceSubscriber.prototype._tryNext = function (value, duration) {
        var subscription = this.durationSubscription;
        this.value = value;
        this.hasValue = true;
        if (subscription) {
            subscription.unsubscribe();
            this.remove(subscription);
        }
        subscription = Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["innerSubscribe"])(duration, new _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleInnerSubscriber"](this));
        if (subscription && !subscription.closed) {
            this.add(this.durationSubscription = subscription);
        }
    };
    DebounceSubscriber.prototype.notifyNext = function () {
        this.emitValue();
    };
    DebounceSubscriber.prototype.notifyComplete = function () {
        this.emitValue();
    };
    DebounceSubscriber.prototype.emitValue = function () {
        if (this.hasValue) {
            var value = this.value;
            var subscription = this.durationSubscription;
            if (subscription) {
                this.durationSubscription = undefined;
                subscription.unsubscribe();
                this.remove(subscription);
            }
            this.value = undefined;
            this.hasValue = false;
            _super.prototype._next.call(this, value);
        }
    };
    return DebounceSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleOuterSubscriber"]));
//# sourceMappingURL=debounce.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/debounceTime.js":
/*!********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/debounceTime.js ***!
  \********************************************************************/
/*! exports provided: debounceTime */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "debounceTime", function() { return debounceTime; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _scheduler_async__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../scheduler/async */ "./node_modules/rxjs/_esm5/internal/scheduler/async.js");
/** PURE_IMPORTS_START tslib,_Subscriber,_scheduler_async PURE_IMPORTS_END */



function debounceTime(dueTime, scheduler) {
    if (scheduler === void 0) {
        scheduler = _scheduler_async__WEBPACK_IMPORTED_MODULE_2__["async"];
    }
    return function (source) { return source.lift(new DebounceTimeOperator(dueTime, scheduler)); };
}
var DebounceTimeOperator = /*@__PURE__*/ (function () {
    function DebounceTimeOperator(dueTime, scheduler) {
        this.dueTime = dueTime;
        this.scheduler = scheduler;
    }
    DebounceTimeOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new DebounceTimeSubscriber(subscriber, this.dueTime, this.scheduler));
    };
    return DebounceTimeOperator;
}());
var DebounceTimeSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](DebounceTimeSubscriber, _super);
    function DebounceTimeSubscriber(destination, dueTime, scheduler) {
        var _this = _super.call(this, destination) || this;
        _this.dueTime = dueTime;
        _this.scheduler = scheduler;
        _this.debouncedSubscription = null;
        _this.lastValue = null;
        _this.hasValue = false;
        return _this;
    }
    DebounceTimeSubscriber.prototype._next = function (value) {
        this.clearDebounce();
        this.lastValue = value;
        this.hasValue = true;
        this.add(this.debouncedSubscription = this.scheduler.schedule(dispatchNext, this.dueTime, this));
    };
    DebounceTimeSubscriber.prototype._complete = function () {
        this.debouncedNext();
        this.destination.complete();
    };
    DebounceTimeSubscriber.prototype.debouncedNext = function () {
        this.clearDebounce();
        if (this.hasValue) {
            var lastValue = this.lastValue;
            this.lastValue = null;
            this.hasValue = false;
            this.destination.next(lastValue);
        }
    };
    DebounceTimeSubscriber.prototype.clearDebounce = function () {
        var debouncedSubscription = this.debouncedSubscription;
        if (debouncedSubscription !== null) {
            this.remove(debouncedSubscription);
            debouncedSubscription.unsubscribe();
            this.debouncedSubscription = null;
        }
    };
    return DebounceTimeSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
function dispatchNext(subscriber) {
    subscriber.debouncedNext();
}
//# sourceMappingURL=debounceTime.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/defaultIfEmpty.js":
/*!**********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/defaultIfEmpty.js ***!
  \**********************************************************************/
/*! exports provided: defaultIfEmpty */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "defaultIfEmpty", function() { return defaultIfEmpty; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function defaultIfEmpty(defaultValue) {
    if (defaultValue === void 0) {
        defaultValue = null;
    }
    return function (source) { return source.lift(new DefaultIfEmptyOperator(defaultValue)); };
}
var DefaultIfEmptyOperator = /*@__PURE__*/ (function () {
    function DefaultIfEmptyOperator(defaultValue) {
        this.defaultValue = defaultValue;
    }
    DefaultIfEmptyOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new DefaultIfEmptySubscriber(subscriber, this.defaultValue));
    };
    return DefaultIfEmptyOperator;
}());
var DefaultIfEmptySubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](DefaultIfEmptySubscriber, _super);
    function DefaultIfEmptySubscriber(destination, defaultValue) {
        var _this = _super.call(this, destination) || this;
        _this.defaultValue = defaultValue;
        _this.isEmpty = true;
        return _this;
    }
    DefaultIfEmptySubscriber.prototype._next = function (value) {
        this.isEmpty = false;
        this.destination.next(value);
    };
    DefaultIfEmptySubscriber.prototype._complete = function () {
        if (this.isEmpty) {
            this.destination.next(this.defaultValue);
        }
        this.destination.complete();
    };
    return DefaultIfEmptySubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=defaultIfEmpty.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/delay.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/delay.js ***!
  \*************************************************************/
/*! exports provided: delay */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "delay", function() { return delay; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _scheduler_async__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../scheduler/async */ "./node_modules/rxjs/_esm5/internal/scheduler/async.js");
/* harmony import */ var _util_isDate__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/isDate */ "./node_modules/rxjs/_esm5/internal/util/isDate.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _Notification__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Notification */ "./node_modules/rxjs/_esm5/internal/Notification.js");
/** PURE_IMPORTS_START tslib,_scheduler_async,_util_isDate,_Subscriber,_Notification PURE_IMPORTS_END */





function delay(delay, scheduler) {
    if (scheduler === void 0) {
        scheduler = _scheduler_async__WEBPACK_IMPORTED_MODULE_1__["async"];
    }
    var absoluteDelay = Object(_util_isDate__WEBPACK_IMPORTED_MODULE_2__["isDate"])(delay);
    var delayFor = absoluteDelay ? (+delay - scheduler.now()) : Math.abs(delay);
    return function (source) { return source.lift(new DelayOperator(delayFor, scheduler)); };
}
var DelayOperator = /*@__PURE__*/ (function () {
    function DelayOperator(delay, scheduler) {
        this.delay = delay;
        this.scheduler = scheduler;
    }
    DelayOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new DelaySubscriber(subscriber, this.delay, this.scheduler));
    };
    return DelayOperator;
}());
var DelaySubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](DelaySubscriber, _super);
    function DelaySubscriber(destination, delay, scheduler) {
        var _this = _super.call(this, destination) || this;
        _this.delay = delay;
        _this.scheduler = scheduler;
        _this.queue = [];
        _this.active = false;
        _this.errored = false;
        return _this;
    }
    DelaySubscriber.dispatch = function (state) {
        var source = state.source;
        var queue = source.queue;
        var scheduler = state.scheduler;
        var destination = state.destination;
        while (queue.length > 0 && (queue[0].time - scheduler.now()) <= 0) {
            queue.shift().notification.observe(destination);
        }
        if (queue.length > 0) {
            var delay_1 = Math.max(0, queue[0].time - scheduler.now());
            this.schedule(state, delay_1);
        }
        else {
            this.unsubscribe();
            source.active = false;
        }
    };
    DelaySubscriber.prototype._schedule = function (scheduler) {
        this.active = true;
        var destination = this.destination;
        destination.add(scheduler.schedule(DelaySubscriber.dispatch, this.delay, {
            source: this, destination: this.destination, scheduler: scheduler
        }));
    };
    DelaySubscriber.prototype.scheduleNotification = function (notification) {
        if (this.errored === true) {
            return;
        }
        var scheduler = this.scheduler;
        var message = new DelayMessage(scheduler.now() + this.delay, notification);
        this.queue.push(message);
        if (this.active === false) {
            this._schedule(scheduler);
        }
    };
    DelaySubscriber.prototype._next = function (value) {
        this.scheduleNotification(_Notification__WEBPACK_IMPORTED_MODULE_4__["Notification"].createNext(value));
    };
    DelaySubscriber.prototype._error = function (err) {
        this.errored = true;
        this.queue = [];
        this.destination.error(err);
        this.unsubscribe();
    };
    DelaySubscriber.prototype._complete = function () {
        this.scheduleNotification(_Notification__WEBPACK_IMPORTED_MODULE_4__["Notification"].createComplete());
        this.unsubscribe();
    };
    return DelaySubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_3__["Subscriber"]));
var DelayMessage = /*@__PURE__*/ (function () {
    function DelayMessage(time, notification) {
        this.time = time;
        this.notification = notification;
    }
    return DelayMessage;
}());
//# sourceMappingURL=delay.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/delayWhen.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/delayWhen.js ***!
  \*****************************************************************/
/*! exports provided: delayWhen */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "delayWhen", function() { return delayWhen; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _OuterSubscriber__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../OuterSubscriber */ "./node_modules/rxjs/_esm5/internal/OuterSubscriber.js");
/* harmony import */ var _util_subscribeToResult__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/subscribeToResult */ "./node_modules/rxjs/_esm5/internal/util/subscribeToResult.js");
/** PURE_IMPORTS_START tslib,_Subscriber,_Observable,_OuterSubscriber,_util_subscribeToResult PURE_IMPORTS_END */





function delayWhen(delayDurationSelector, subscriptionDelay) {
    if (subscriptionDelay) {
        return function (source) {
            return new SubscriptionDelayObservable(source, subscriptionDelay)
                .lift(new DelayWhenOperator(delayDurationSelector));
        };
    }
    return function (source) { return source.lift(new DelayWhenOperator(delayDurationSelector)); };
}
var DelayWhenOperator = /*@__PURE__*/ (function () {
    function DelayWhenOperator(delayDurationSelector) {
        this.delayDurationSelector = delayDurationSelector;
    }
    DelayWhenOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new DelayWhenSubscriber(subscriber, this.delayDurationSelector));
    };
    return DelayWhenOperator;
}());
var DelayWhenSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](DelayWhenSubscriber, _super);
    function DelayWhenSubscriber(destination, delayDurationSelector) {
        var _this = _super.call(this, destination) || this;
        _this.delayDurationSelector = delayDurationSelector;
        _this.completed = false;
        _this.delayNotifierSubscriptions = [];
        _this.index = 0;
        return _this;
    }
    DelayWhenSubscriber.prototype.notifyNext = function (outerValue, _innerValue, _outerIndex, _innerIndex, innerSub) {
        this.destination.next(outerValue);
        this.removeSubscription(innerSub);
        this.tryComplete();
    };
    DelayWhenSubscriber.prototype.notifyError = function (error, innerSub) {
        this._error(error);
    };
    DelayWhenSubscriber.prototype.notifyComplete = function (innerSub) {
        var value = this.removeSubscription(innerSub);
        if (value) {
            this.destination.next(value);
        }
        this.tryComplete();
    };
    DelayWhenSubscriber.prototype._next = function (value) {
        var index = this.index++;
        try {
            var delayNotifier = this.delayDurationSelector(value, index);
            if (delayNotifier) {
                this.tryDelay(delayNotifier, value);
            }
        }
        catch (err) {
            this.destination.error(err);
        }
    };
    DelayWhenSubscriber.prototype._complete = function () {
        this.completed = true;
        this.tryComplete();
        this.unsubscribe();
    };
    DelayWhenSubscriber.prototype.removeSubscription = function (subscription) {
        subscription.unsubscribe();
        var subscriptionIdx = this.delayNotifierSubscriptions.indexOf(subscription);
        if (subscriptionIdx !== -1) {
            this.delayNotifierSubscriptions.splice(subscriptionIdx, 1);
        }
        return subscription.outerValue;
    };
    DelayWhenSubscriber.prototype.tryDelay = function (delayNotifier, value) {
        var notifierSubscription = Object(_util_subscribeToResult__WEBPACK_IMPORTED_MODULE_4__["subscribeToResult"])(this, delayNotifier, value);
        if (notifierSubscription && !notifierSubscription.closed) {
            var destination = this.destination;
            destination.add(notifierSubscription);
            this.delayNotifierSubscriptions.push(notifierSubscription);
        }
    };
    DelayWhenSubscriber.prototype.tryComplete = function () {
        if (this.completed && this.delayNotifierSubscriptions.length === 0) {
            this.destination.complete();
        }
    };
    return DelayWhenSubscriber;
}(_OuterSubscriber__WEBPACK_IMPORTED_MODULE_3__["OuterSubscriber"]));
var SubscriptionDelayObservable = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SubscriptionDelayObservable, _super);
    function SubscriptionDelayObservable(source, subscriptionDelay) {
        var _this = _super.call(this) || this;
        _this.source = source;
        _this.subscriptionDelay = subscriptionDelay;
        return _this;
    }
    SubscriptionDelayObservable.prototype._subscribe = function (subscriber) {
        this.subscriptionDelay.subscribe(new SubscriptionDelaySubscriber(subscriber, this.source));
    };
    return SubscriptionDelayObservable;
}(_Observable__WEBPACK_IMPORTED_MODULE_2__["Observable"]));
var SubscriptionDelaySubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SubscriptionDelaySubscriber, _super);
    function SubscriptionDelaySubscriber(parent, source) {
        var _this = _super.call(this) || this;
        _this.parent = parent;
        _this.source = source;
        _this.sourceSubscribed = false;
        return _this;
    }
    SubscriptionDelaySubscriber.prototype._next = function (unused) {
        this.subscribeToSource();
    };
    SubscriptionDelaySubscriber.prototype._error = function (err) {
        this.unsubscribe();
        this.parent.error(err);
    };
    SubscriptionDelaySubscriber.prototype._complete = function () {
        this.unsubscribe();
        this.subscribeToSource();
    };
    SubscriptionDelaySubscriber.prototype.subscribeToSource = function () {
        if (!this.sourceSubscribed) {
            this.sourceSubscribed = true;
            this.unsubscribe();
            this.source.subscribe(this.parent);
        }
    };
    return SubscriptionDelaySubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=delayWhen.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/dematerialize.js":
/*!*********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/dematerialize.js ***!
  \*********************************************************************/
/*! exports provided: dematerialize */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "dematerialize", function() { return dematerialize; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function dematerialize() {
    return function dematerializeOperatorFunction(source) {
        return source.lift(new DeMaterializeOperator());
    };
}
var DeMaterializeOperator = /*@__PURE__*/ (function () {
    function DeMaterializeOperator() {
    }
    DeMaterializeOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new DeMaterializeSubscriber(subscriber));
    };
    return DeMaterializeOperator;
}());
var DeMaterializeSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](DeMaterializeSubscriber, _super);
    function DeMaterializeSubscriber(destination) {
        return _super.call(this, destination) || this;
    }
    DeMaterializeSubscriber.prototype._next = function (value) {
        value.observe(this.destination);
    };
    return DeMaterializeSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=dematerialize.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/distinct.js":
/*!****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/distinct.js ***!
  \****************************************************************/
/*! exports provided: distinct, DistinctSubscriber */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "distinct", function() { return distinct; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DistinctSubscriber", function() { return DistinctSubscriber; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */


function distinct(keySelector, flushes) {
    return function (source) { return source.lift(new DistinctOperator(keySelector, flushes)); };
}
var DistinctOperator = /*@__PURE__*/ (function () {
    function DistinctOperator(keySelector, flushes) {
        this.keySelector = keySelector;
        this.flushes = flushes;
    }
    DistinctOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new DistinctSubscriber(subscriber, this.keySelector, this.flushes));
    };
    return DistinctOperator;
}());
var DistinctSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](DistinctSubscriber, _super);
    function DistinctSubscriber(destination, keySelector, flushes) {
        var _this = _super.call(this, destination) || this;
        _this.keySelector = keySelector;
        _this.values = new Set();
        if (flushes) {
            _this.add(Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["innerSubscribe"])(flushes, new _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleInnerSubscriber"](_this)));
        }
        return _this;
    }
    DistinctSubscriber.prototype.notifyNext = function () {
        this.values.clear();
    };
    DistinctSubscriber.prototype.notifyError = function (error) {
        this._error(error);
    };
    DistinctSubscriber.prototype._next = function (value) {
        if (this.keySelector) {
            this._useKeySelector(value);
        }
        else {
            this._finalizeNext(value, value);
        }
    };
    DistinctSubscriber.prototype._useKeySelector = function (value) {
        var key;
        var destination = this.destination;
        try {
            key = this.keySelector(value);
        }
        catch (err) {
            destination.error(err);
            return;
        }
        this._finalizeNext(key, value);
    };
    DistinctSubscriber.prototype._finalizeNext = function (key, value) {
        var values = this.values;
        if (!values.has(key)) {
            values.add(key);
            this.destination.next(value);
        }
    };
    return DistinctSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleOuterSubscriber"]));

//# sourceMappingURL=distinct.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/distinctUntilChanged.js":
/*!****************************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/distinctUntilChanged.js ***!
  \****************************************************************************/
/*! exports provided: distinctUntilChanged */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "distinctUntilChanged", function() { return distinctUntilChanged; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function distinctUntilChanged(compare, keySelector) {
    return function (source) { return source.lift(new DistinctUntilChangedOperator(compare, keySelector)); };
}
var DistinctUntilChangedOperator = /*@__PURE__*/ (function () {
    function DistinctUntilChangedOperator(compare, keySelector) {
        this.compare = compare;
        this.keySelector = keySelector;
    }
    DistinctUntilChangedOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new DistinctUntilChangedSubscriber(subscriber, this.compare, this.keySelector));
    };
    return DistinctUntilChangedOperator;
}());
var DistinctUntilChangedSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](DistinctUntilChangedSubscriber, _super);
    function DistinctUntilChangedSubscriber(destination, compare, keySelector) {
        var _this = _super.call(this, destination) || this;
        _this.keySelector = keySelector;
        _this.hasKey = false;
        if (typeof compare === 'function') {
            _this.compare = compare;
        }
        return _this;
    }
    DistinctUntilChangedSubscriber.prototype.compare = function (x, y) {
        return x === y;
    };
    DistinctUntilChangedSubscriber.prototype._next = function (value) {
        var key;
        try {
            var keySelector = this.keySelector;
            key = keySelector ? keySelector(value) : value;
        }
        catch (err) {
            return this.destination.error(err);
        }
        var result = false;
        if (this.hasKey) {
            try {
                var compare = this.compare;
                result = compare(this.key, key);
            }
            catch (err) {
                return this.destination.error(err);
            }
        }
        else {
            this.hasKey = true;
        }
        if (!result) {
            this.key = key;
            this.destination.next(value);
        }
    };
    return DistinctUntilChangedSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=distinctUntilChanged.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/distinctUntilKeyChanged.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/distinctUntilKeyChanged.js ***!
  \*******************************************************************************/
/*! exports provided: distinctUntilKeyChanged */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "distinctUntilKeyChanged", function() { return distinctUntilKeyChanged; });
/* harmony import */ var _distinctUntilChanged__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./distinctUntilChanged */ "./node_modules/rxjs/_esm5/internal/operators/distinctUntilChanged.js");
/** PURE_IMPORTS_START _distinctUntilChanged PURE_IMPORTS_END */

function distinctUntilKeyChanged(key, compare) {
    return Object(_distinctUntilChanged__WEBPACK_IMPORTED_MODULE_0__["distinctUntilChanged"])(function (x, y) { return compare ? compare(x[key], y[key]) : x[key] === y[key]; });
}
//# sourceMappingURL=distinctUntilKeyChanged.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/elementAt.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/elementAt.js ***!
  \*****************************************************************/
/*! exports provided: elementAt */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "elementAt", function() { return elementAt; });
/* harmony import */ var _util_ArgumentOutOfRangeError__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/ArgumentOutOfRangeError */ "./node_modules/rxjs/_esm5/internal/util/ArgumentOutOfRangeError.js");
/* harmony import */ var _filter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./filter */ "./node_modules/rxjs/_esm5/internal/operators/filter.js");
/* harmony import */ var _throwIfEmpty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./throwIfEmpty */ "./node_modules/rxjs/_esm5/internal/operators/throwIfEmpty.js");
/* harmony import */ var _defaultIfEmpty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./defaultIfEmpty */ "./node_modules/rxjs/_esm5/internal/operators/defaultIfEmpty.js");
/* harmony import */ var _take__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./take */ "./node_modules/rxjs/_esm5/internal/operators/take.js");
/** PURE_IMPORTS_START _util_ArgumentOutOfRangeError,_filter,_throwIfEmpty,_defaultIfEmpty,_take PURE_IMPORTS_END */





function elementAt(index, defaultValue) {
    if (index < 0) {
        throw new _util_ArgumentOutOfRangeError__WEBPACK_IMPORTED_MODULE_0__["ArgumentOutOfRangeError"]();
    }
    var hasDefaultValue = arguments.length >= 2;
    return function (source) {
        return source.pipe(Object(_filter__WEBPACK_IMPORTED_MODULE_1__["filter"])(function (v, i) { return i === index; }), Object(_take__WEBPACK_IMPORTED_MODULE_4__["take"])(1), hasDefaultValue
            ? Object(_defaultIfEmpty__WEBPACK_IMPORTED_MODULE_3__["defaultIfEmpty"])(defaultValue)
            : Object(_throwIfEmpty__WEBPACK_IMPORTED_MODULE_2__["throwIfEmpty"])(function () { return new _util_ArgumentOutOfRangeError__WEBPACK_IMPORTED_MODULE_0__["ArgumentOutOfRangeError"](); }));
    };
}
//# sourceMappingURL=elementAt.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/endWith.js":
/*!***************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/endWith.js ***!
  \***************************************************************/
/*! exports provided: endWith */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "endWith", function() { return endWith; });
/* harmony import */ var _observable_concat__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../observable/concat */ "./node_modules/rxjs/_esm5/internal/observable/concat.js");
/* harmony import */ var _observable_of__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../observable/of */ "./node_modules/rxjs/_esm5/internal/observable/of.js");
/** PURE_IMPORTS_START _observable_concat,_observable_of PURE_IMPORTS_END */


function endWith() {
    var array = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        array[_i] = arguments[_i];
    }
    return function (source) { return Object(_observable_concat__WEBPACK_IMPORTED_MODULE_0__["concat"])(source, _observable_of__WEBPACK_IMPORTED_MODULE_1__["of"].apply(void 0, array)); };
}
//# sourceMappingURL=endWith.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/every.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/every.js ***!
  \*************************************************************/
/*! exports provided: every */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "every", function() { return every; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function every(predicate, thisArg) {
    return function (source) { return source.lift(new EveryOperator(predicate, thisArg, source)); };
}
var EveryOperator = /*@__PURE__*/ (function () {
    function EveryOperator(predicate, thisArg, source) {
        this.predicate = predicate;
        this.thisArg = thisArg;
        this.source = source;
    }
    EveryOperator.prototype.call = function (observer, source) {
        return source.subscribe(new EverySubscriber(observer, this.predicate, this.thisArg, this.source));
    };
    return EveryOperator;
}());
var EverySubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](EverySubscriber, _super);
    function EverySubscriber(destination, predicate, thisArg, source) {
        var _this = _super.call(this, destination) || this;
        _this.predicate = predicate;
        _this.thisArg = thisArg;
        _this.source = source;
        _this.index = 0;
        _this.thisArg = thisArg || _this;
        return _this;
    }
    EverySubscriber.prototype.notifyComplete = function (everyValueMatch) {
        this.destination.next(everyValueMatch);
        this.destination.complete();
    };
    EverySubscriber.prototype._next = function (value) {
        var result = false;
        try {
            result = this.predicate.call(this.thisArg, value, this.index++, this.source);
        }
        catch (err) {
            this.destination.error(err);
            return;
        }
        if (!result) {
            this.notifyComplete(false);
        }
    };
    EverySubscriber.prototype._complete = function () {
        this.notifyComplete(true);
    };
    return EverySubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=every.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/exhaust.js":
/*!***************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/exhaust.js ***!
  \***************************************************************/
/*! exports provided: exhaust */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "exhaust", function() { return exhaust; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */


function exhaust() {
    return function (source) { return source.lift(new SwitchFirstOperator()); };
}
var SwitchFirstOperator = /*@__PURE__*/ (function () {
    function SwitchFirstOperator() {
    }
    SwitchFirstOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new SwitchFirstSubscriber(subscriber));
    };
    return SwitchFirstOperator;
}());
var SwitchFirstSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SwitchFirstSubscriber, _super);
    function SwitchFirstSubscriber(destination) {
        var _this = _super.call(this, destination) || this;
        _this.hasCompleted = false;
        _this.hasSubscription = false;
        return _this;
    }
    SwitchFirstSubscriber.prototype._next = function (value) {
        if (!this.hasSubscription) {
            this.hasSubscription = true;
            this.add(Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["innerSubscribe"])(value, new _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleInnerSubscriber"](this)));
        }
    };
    SwitchFirstSubscriber.prototype._complete = function () {
        this.hasCompleted = true;
        if (!this.hasSubscription) {
            this.destination.complete();
        }
    };
    SwitchFirstSubscriber.prototype.notifyComplete = function () {
        this.hasSubscription = false;
        if (this.hasCompleted) {
            this.destination.complete();
        }
    };
    return SwitchFirstSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleOuterSubscriber"]));
//# sourceMappingURL=exhaust.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/exhaustMap.js":
/*!******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/exhaustMap.js ***!
  \******************************************************************/
/*! exports provided: exhaustMap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "exhaustMap", function() { return exhaustMap; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _map__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./map */ "./node_modules/rxjs/_esm5/internal/operators/map.js");
/* harmony import */ var _observable_from__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../observable/from */ "./node_modules/rxjs/_esm5/internal/observable/from.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_map,_observable_from,_innerSubscribe PURE_IMPORTS_END */




function exhaustMap(project, resultSelector) {
    if (resultSelector) {
        return function (source) { return source.pipe(exhaustMap(function (a, i) { return Object(_observable_from__WEBPACK_IMPORTED_MODULE_2__["from"])(project(a, i)).pipe(Object(_map__WEBPACK_IMPORTED_MODULE_1__["map"])(function (b, ii) { return resultSelector(a, b, i, ii); })); })); };
    }
    return function (source) {
        return source.lift(new ExhaustMapOperator(project));
    };
}
var ExhaustMapOperator = /*@__PURE__*/ (function () {
    function ExhaustMapOperator(project) {
        this.project = project;
    }
    ExhaustMapOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new ExhaustMapSubscriber(subscriber, this.project));
    };
    return ExhaustMapOperator;
}());
var ExhaustMapSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ExhaustMapSubscriber, _super);
    function ExhaustMapSubscriber(destination, project) {
        var _this = _super.call(this, destination) || this;
        _this.project = project;
        _this.hasSubscription = false;
        _this.hasCompleted = false;
        _this.index = 0;
        return _this;
    }
    ExhaustMapSubscriber.prototype._next = function (value) {
        if (!this.hasSubscription) {
            this.tryNext(value);
        }
    };
    ExhaustMapSubscriber.prototype.tryNext = function (value) {
        var result;
        var index = this.index++;
        try {
            result = this.project(value, index);
        }
        catch (err) {
            this.destination.error(err);
            return;
        }
        this.hasSubscription = true;
        this._innerSub(result);
    };
    ExhaustMapSubscriber.prototype._innerSub = function (result) {
        var innerSubscriber = new _innerSubscribe__WEBPACK_IMPORTED_MODULE_3__["SimpleInnerSubscriber"](this);
        var destination = this.destination;
        destination.add(innerSubscriber);
        var innerSubscription = Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_3__["innerSubscribe"])(result, innerSubscriber);
        if (innerSubscription !== innerSubscriber) {
            destination.add(innerSubscription);
        }
    };
    ExhaustMapSubscriber.prototype._complete = function () {
        this.hasCompleted = true;
        if (!this.hasSubscription) {
            this.destination.complete();
        }
        this.unsubscribe();
    };
    ExhaustMapSubscriber.prototype.notifyNext = function (innerValue) {
        this.destination.next(innerValue);
    };
    ExhaustMapSubscriber.prototype.notifyError = function (err) {
        this.destination.error(err);
    };
    ExhaustMapSubscriber.prototype.notifyComplete = function () {
        this.hasSubscription = false;
        if (this.hasCompleted) {
            this.destination.complete();
        }
    };
    return ExhaustMapSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_3__["SimpleOuterSubscriber"]));
//# sourceMappingURL=exhaustMap.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/expand.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/expand.js ***!
  \**************************************************************/
/*! exports provided: expand, ExpandOperator, ExpandSubscriber */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "expand", function() { return expand; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExpandOperator", function() { return ExpandOperator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExpandSubscriber", function() { return ExpandSubscriber; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */


function expand(project, concurrent, scheduler) {
    if (concurrent === void 0) {
        concurrent = Number.POSITIVE_INFINITY;
    }
    concurrent = (concurrent || 0) < 1 ? Number.POSITIVE_INFINITY : concurrent;
    return function (source) { return source.lift(new ExpandOperator(project, concurrent, scheduler)); };
}
var ExpandOperator = /*@__PURE__*/ (function () {
    function ExpandOperator(project, concurrent, scheduler) {
        this.project = project;
        this.concurrent = concurrent;
        this.scheduler = scheduler;
    }
    ExpandOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new ExpandSubscriber(subscriber, this.project, this.concurrent, this.scheduler));
    };
    return ExpandOperator;
}());

var ExpandSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ExpandSubscriber, _super);
    function ExpandSubscriber(destination, project, concurrent, scheduler) {
        var _this = _super.call(this, destination) || this;
        _this.project = project;
        _this.concurrent = concurrent;
        _this.scheduler = scheduler;
        _this.index = 0;
        _this.active = 0;
        _this.hasCompleted = false;
        if (concurrent < Number.POSITIVE_INFINITY) {
            _this.buffer = [];
        }
        return _this;
    }
    ExpandSubscriber.dispatch = function (arg) {
        var subscriber = arg.subscriber, result = arg.result, value = arg.value, index = arg.index;
        subscriber.subscribeToProjection(result, value, index);
    };
    ExpandSubscriber.prototype._next = function (value) {
        var destination = this.destination;
        if (destination.closed) {
            this._complete();
            return;
        }
        var index = this.index++;
        if (this.active < this.concurrent) {
            destination.next(value);
            try {
                var project = this.project;
                var result = project(value, index);
                if (!this.scheduler) {
                    this.subscribeToProjection(result, value, index);
                }
                else {
                    var state = { subscriber: this, result: result, value: value, index: index };
                    var destination_1 = this.destination;
                    destination_1.add(this.scheduler.schedule(ExpandSubscriber.dispatch, 0, state));
                }
            }
            catch (e) {
                destination.error(e);
            }
        }
        else {
            this.buffer.push(value);
        }
    };
    ExpandSubscriber.prototype.subscribeToProjection = function (result, value, index) {
        this.active++;
        var destination = this.destination;
        destination.add(Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["innerSubscribe"])(result, new _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleInnerSubscriber"](this)));
    };
    ExpandSubscriber.prototype._complete = function () {
        this.hasCompleted = true;
        if (this.hasCompleted && this.active === 0) {
            this.destination.complete();
        }
        this.unsubscribe();
    };
    ExpandSubscriber.prototype.notifyNext = function (innerValue) {
        this._next(innerValue);
    };
    ExpandSubscriber.prototype.notifyComplete = function () {
        var buffer = this.buffer;
        this.active--;
        if (buffer && buffer.length > 0) {
            this._next(buffer.shift());
        }
        if (this.hasCompleted && this.active === 0) {
            this.destination.complete();
        }
    };
    return ExpandSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleOuterSubscriber"]));

//# sourceMappingURL=expand.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/filter.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/filter.js ***!
  \**************************************************************/
/*! exports provided: filter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "filter", function() { return filter; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function filter(predicate, thisArg) {
    return function filterOperatorFunction(source) {
        return source.lift(new FilterOperator(predicate, thisArg));
    };
}
var FilterOperator = /*@__PURE__*/ (function () {
    function FilterOperator(predicate, thisArg) {
        this.predicate = predicate;
        this.thisArg = thisArg;
    }
    FilterOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new FilterSubscriber(subscriber, this.predicate, this.thisArg));
    };
    return FilterOperator;
}());
var FilterSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](FilterSubscriber, _super);
    function FilterSubscriber(destination, predicate, thisArg) {
        var _this = _super.call(this, destination) || this;
        _this.predicate = predicate;
        _this.thisArg = thisArg;
        _this.count = 0;
        return _this;
    }
    FilterSubscriber.prototype._next = function (value) {
        var result;
        try {
            result = this.predicate.call(this.thisArg, value, this.count++);
        }
        catch (err) {
            this.destination.error(err);
            return;
        }
        if (result) {
            this.destination.next(value);
        }
    };
    return FilterSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=filter.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/finalize.js":
/*!****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/finalize.js ***!
  \****************************************************************/
/*! exports provided: finalize */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "finalize", function() { return finalize; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _Subscription__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Subscription */ "./node_modules/rxjs/_esm5/internal/Subscription.js");
/** PURE_IMPORTS_START tslib,_Subscriber,_Subscription PURE_IMPORTS_END */



function finalize(callback) {
    return function (source) { return source.lift(new FinallyOperator(callback)); };
}
var FinallyOperator = /*@__PURE__*/ (function () {
    function FinallyOperator(callback) {
        this.callback = callback;
    }
    FinallyOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new FinallySubscriber(subscriber, this.callback));
    };
    return FinallyOperator;
}());
var FinallySubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](FinallySubscriber, _super);
    function FinallySubscriber(destination, callback) {
        var _this = _super.call(this, destination) || this;
        _this.add(new _Subscription__WEBPACK_IMPORTED_MODULE_2__["Subscription"](callback));
        return _this;
    }
    return FinallySubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=finalize.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/find.js":
/*!************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/find.js ***!
  \************************************************************/
/*! exports provided: find, FindValueOperator, FindValueSubscriber */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "find", function() { return find; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FindValueOperator", function() { return FindValueOperator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FindValueSubscriber", function() { return FindValueSubscriber; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function find(predicate, thisArg) {
    if (typeof predicate !== 'function') {
        throw new TypeError('predicate is not a function');
    }
    return function (source) { return source.lift(new FindValueOperator(predicate, source, false, thisArg)); };
}
var FindValueOperator = /*@__PURE__*/ (function () {
    function FindValueOperator(predicate, source, yieldIndex, thisArg) {
        this.predicate = predicate;
        this.source = source;
        this.yieldIndex = yieldIndex;
        this.thisArg = thisArg;
    }
    FindValueOperator.prototype.call = function (observer, source) {
        return source.subscribe(new FindValueSubscriber(observer, this.predicate, this.source, this.yieldIndex, this.thisArg));
    };
    return FindValueOperator;
}());

var FindValueSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](FindValueSubscriber, _super);
    function FindValueSubscriber(destination, predicate, source, yieldIndex, thisArg) {
        var _this = _super.call(this, destination) || this;
        _this.predicate = predicate;
        _this.source = source;
        _this.yieldIndex = yieldIndex;
        _this.thisArg = thisArg;
        _this.index = 0;
        return _this;
    }
    FindValueSubscriber.prototype.notifyComplete = function (value) {
        var destination = this.destination;
        destination.next(value);
        destination.complete();
        this.unsubscribe();
    };
    FindValueSubscriber.prototype._next = function (value) {
        var _a = this, predicate = _a.predicate, thisArg = _a.thisArg;
        var index = this.index++;
        try {
            var result = predicate.call(thisArg || this, value, index, this.source);
            if (result) {
                this.notifyComplete(this.yieldIndex ? index : value);
            }
        }
        catch (err) {
            this.destination.error(err);
        }
    };
    FindValueSubscriber.prototype._complete = function () {
        this.notifyComplete(this.yieldIndex ? -1 : undefined);
    };
    return FindValueSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));

//# sourceMappingURL=find.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/findIndex.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/findIndex.js ***!
  \*****************************************************************/
/*! exports provided: findIndex */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "findIndex", function() { return findIndex; });
/* harmony import */ var _operators_find__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../operators/find */ "./node_modules/rxjs/_esm5/internal/operators/find.js");
/** PURE_IMPORTS_START _operators_find PURE_IMPORTS_END */

function findIndex(predicate, thisArg) {
    return function (source) { return source.lift(new _operators_find__WEBPACK_IMPORTED_MODULE_0__["FindValueOperator"](predicate, source, true, thisArg)); };
}
//# sourceMappingURL=findIndex.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/first.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/first.js ***!
  \*************************************************************/
/*! exports provided: first */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "first", function() { return first; });
/* harmony import */ var _util_EmptyError__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/EmptyError */ "./node_modules/rxjs/_esm5/internal/util/EmptyError.js");
/* harmony import */ var _filter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./filter */ "./node_modules/rxjs/_esm5/internal/operators/filter.js");
/* harmony import */ var _take__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./take */ "./node_modules/rxjs/_esm5/internal/operators/take.js");
/* harmony import */ var _defaultIfEmpty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./defaultIfEmpty */ "./node_modules/rxjs/_esm5/internal/operators/defaultIfEmpty.js");
/* harmony import */ var _throwIfEmpty__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./throwIfEmpty */ "./node_modules/rxjs/_esm5/internal/operators/throwIfEmpty.js");
/* harmony import */ var _util_identity__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/identity */ "./node_modules/rxjs/_esm5/internal/util/identity.js");
/** PURE_IMPORTS_START _util_EmptyError,_filter,_take,_defaultIfEmpty,_throwIfEmpty,_util_identity PURE_IMPORTS_END */






function first(predicate, defaultValue) {
    var hasDefaultValue = arguments.length >= 2;
    return function (source) { return source.pipe(predicate ? Object(_filter__WEBPACK_IMPORTED_MODULE_1__["filter"])(function (v, i) { return predicate(v, i, source); }) : _util_identity__WEBPACK_IMPORTED_MODULE_5__["identity"], Object(_take__WEBPACK_IMPORTED_MODULE_2__["take"])(1), hasDefaultValue ? Object(_defaultIfEmpty__WEBPACK_IMPORTED_MODULE_3__["defaultIfEmpty"])(defaultValue) : Object(_throwIfEmpty__WEBPACK_IMPORTED_MODULE_4__["throwIfEmpty"])(function () { return new _util_EmptyError__WEBPACK_IMPORTED_MODULE_0__["EmptyError"](); })); };
}
//# sourceMappingURL=first.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/groupBy.js":
/*!***************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/groupBy.js ***!
  \***************************************************************/
/*! exports provided: groupBy, GroupedObservable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "groupBy", function() { return groupBy; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GroupedObservable", function() { return GroupedObservable; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _Subscription__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Subscription */ "./node_modules/rxjs/_esm5/internal/Subscription.js");
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _Subject__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Subject */ "./node_modules/rxjs/_esm5/internal/Subject.js");
/** PURE_IMPORTS_START tslib,_Subscriber,_Subscription,_Observable,_Subject PURE_IMPORTS_END */





function groupBy(keySelector, elementSelector, durationSelector, subjectSelector) {
    return function (source) {
        return source.lift(new GroupByOperator(keySelector, elementSelector, durationSelector, subjectSelector));
    };
}
var GroupByOperator = /*@__PURE__*/ (function () {
    function GroupByOperator(keySelector, elementSelector, durationSelector, subjectSelector) {
        this.keySelector = keySelector;
        this.elementSelector = elementSelector;
        this.durationSelector = durationSelector;
        this.subjectSelector = subjectSelector;
    }
    GroupByOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new GroupBySubscriber(subscriber, this.keySelector, this.elementSelector, this.durationSelector, this.subjectSelector));
    };
    return GroupByOperator;
}());
var GroupBySubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](GroupBySubscriber, _super);
    function GroupBySubscriber(destination, keySelector, elementSelector, durationSelector, subjectSelector) {
        var _this = _super.call(this, destination) || this;
        _this.keySelector = keySelector;
        _this.elementSelector = elementSelector;
        _this.durationSelector = durationSelector;
        _this.subjectSelector = subjectSelector;
        _this.groups = null;
        _this.attemptedToUnsubscribe = false;
        _this.count = 0;
        return _this;
    }
    GroupBySubscriber.prototype._next = function (value) {
        var key;
        try {
            key = this.keySelector(value);
        }
        catch (err) {
            this.error(err);
            return;
        }
        this._group(value, key);
    };
    GroupBySubscriber.prototype._group = function (value, key) {
        var groups = this.groups;
        if (!groups) {
            groups = this.groups = new Map();
        }
        var group = groups.get(key);
        var element;
        if (this.elementSelector) {
            try {
                element = this.elementSelector(value);
            }
            catch (err) {
                this.error(err);
            }
        }
        else {
            element = value;
        }
        if (!group) {
            group = (this.subjectSelector ? this.subjectSelector() : new _Subject__WEBPACK_IMPORTED_MODULE_4__["Subject"]());
            groups.set(key, group);
            var groupedObservable = new GroupedObservable(key, group, this);
            this.destination.next(groupedObservable);
            if (this.durationSelector) {
                var duration = void 0;
                try {
                    duration = this.durationSelector(new GroupedObservable(key, group));
                }
                catch (err) {
                    this.error(err);
                    return;
                }
                this.add(duration.subscribe(new GroupDurationSubscriber(key, group, this)));
            }
        }
        if (!group.closed) {
            group.next(element);
        }
    };
    GroupBySubscriber.prototype._error = function (err) {
        var groups = this.groups;
        if (groups) {
            groups.forEach(function (group, key) {
                group.error(err);
            });
            groups.clear();
        }
        this.destination.error(err);
    };
    GroupBySubscriber.prototype._complete = function () {
        var groups = this.groups;
        if (groups) {
            groups.forEach(function (group, key) {
                group.complete();
            });
            groups.clear();
        }
        this.destination.complete();
    };
    GroupBySubscriber.prototype.removeGroup = function (key) {
        this.groups.delete(key);
    };
    GroupBySubscriber.prototype.unsubscribe = function () {
        if (!this.closed) {
            this.attemptedToUnsubscribe = true;
            if (this.count === 0) {
                _super.prototype.unsubscribe.call(this);
            }
        }
    };
    return GroupBySubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
var GroupDurationSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](GroupDurationSubscriber, _super);
    function GroupDurationSubscriber(key, group, parent) {
        var _this = _super.call(this, group) || this;
        _this.key = key;
        _this.group = group;
        _this.parent = parent;
        return _this;
    }
    GroupDurationSubscriber.prototype._next = function (value) {
        this.complete();
    };
    GroupDurationSubscriber.prototype._unsubscribe = function () {
        var _a = this, parent = _a.parent, key = _a.key;
        this.key = this.parent = null;
        if (parent) {
            parent.removeGroup(key);
        }
    };
    return GroupDurationSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
var GroupedObservable = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](GroupedObservable, _super);
    function GroupedObservable(key, groupSubject, refCountSubscription) {
        var _this = _super.call(this) || this;
        _this.key = key;
        _this.groupSubject = groupSubject;
        _this.refCountSubscription = refCountSubscription;
        return _this;
    }
    GroupedObservable.prototype._subscribe = function (subscriber) {
        var subscription = new _Subscription__WEBPACK_IMPORTED_MODULE_2__["Subscription"]();
        var _a = this, refCountSubscription = _a.refCountSubscription, groupSubject = _a.groupSubject;
        if (refCountSubscription && !refCountSubscription.closed) {
            subscription.add(new InnerRefCountSubscription(refCountSubscription));
        }
        subscription.add(groupSubject.subscribe(subscriber));
        return subscription;
    };
    return GroupedObservable;
}(_Observable__WEBPACK_IMPORTED_MODULE_3__["Observable"]));

var InnerRefCountSubscription = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](InnerRefCountSubscription, _super);
    function InnerRefCountSubscription(parent) {
        var _this = _super.call(this) || this;
        _this.parent = parent;
        parent.count++;
        return _this;
    }
    InnerRefCountSubscription.prototype.unsubscribe = function () {
        var parent = this.parent;
        if (!parent.closed && !this.closed) {
            _super.prototype.unsubscribe.call(this);
            parent.count -= 1;
            if (parent.count === 0 && parent.attemptedToUnsubscribe) {
                parent.unsubscribe();
            }
        }
    };
    return InnerRefCountSubscription;
}(_Subscription__WEBPACK_IMPORTED_MODULE_2__["Subscription"]));
//# sourceMappingURL=groupBy.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/ignoreElements.js":
/*!**********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/ignoreElements.js ***!
  \**********************************************************************/
/*! exports provided: ignoreElements */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ignoreElements", function() { return ignoreElements; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function ignoreElements() {
    return function ignoreElementsOperatorFunction(source) {
        return source.lift(new IgnoreElementsOperator());
    };
}
var IgnoreElementsOperator = /*@__PURE__*/ (function () {
    function IgnoreElementsOperator() {
    }
    IgnoreElementsOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new IgnoreElementsSubscriber(subscriber));
    };
    return IgnoreElementsOperator;
}());
var IgnoreElementsSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](IgnoreElementsSubscriber, _super);
    function IgnoreElementsSubscriber() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    IgnoreElementsSubscriber.prototype._next = function (unused) {
    };
    return IgnoreElementsSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=ignoreElements.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/isEmpty.js":
/*!***************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/isEmpty.js ***!
  \***************************************************************/
/*! exports provided: isEmpty */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isEmpty", function() { return isEmpty; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function isEmpty() {
    return function (source) { return source.lift(new IsEmptyOperator()); };
}
var IsEmptyOperator = /*@__PURE__*/ (function () {
    function IsEmptyOperator() {
    }
    IsEmptyOperator.prototype.call = function (observer, source) {
        return source.subscribe(new IsEmptySubscriber(observer));
    };
    return IsEmptyOperator;
}());
var IsEmptySubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](IsEmptySubscriber, _super);
    function IsEmptySubscriber(destination) {
        return _super.call(this, destination) || this;
    }
    IsEmptySubscriber.prototype.notifyComplete = function (isEmpty) {
        var destination = this.destination;
        destination.next(isEmpty);
        destination.complete();
    };
    IsEmptySubscriber.prototype._next = function (value) {
        this.notifyComplete(false);
    };
    IsEmptySubscriber.prototype._complete = function () {
        this.notifyComplete(true);
    };
    return IsEmptySubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=isEmpty.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/last.js":
/*!************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/last.js ***!
  \************************************************************/
/*! exports provided: last */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "last", function() { return last; });
/* harmony import */ var _util_EmptyError__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/EmptyError */ "./node_modules/rxjs/_esm5/internal/util/EmptyError.js");
/* harmony import */ var _filter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./filter */ "./node_modules/rxjs/_esm5/internal/operators/filter.js");
/* harmony import */ var _takeLast__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./takeLast */ "./node_modules/rxjs/_esm5/internal/operators/takeLast.js");
/* harmony import */ var _throwIfEmpty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./throwIfEmpty */ "./node_modules/rxjs/_esm5/internal/operators/throwIfEmpty.js");
/* harmony import */ var _defaultIfEmpty__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./defaultIfEmpty */ "./node_modules/rxjs/_esm5/internal/operators/defaultIfEmpty.js");
/* harmony import */ var _util_identity__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/identity */ "./node_modules/rxjs/_esm5/internal/util/identity.js");
/** PURE_IMPORTS_START _util_EmptyError,_filter,_takeLast,_throwIfEmpty,_defaultIfEmpty,_util_identity PURE_IMPORTS_END */






function last(predicate, defaultValue) {
    var hasDefaultValue = arguments.length >= 2;
    return function (source) { return source.pipe(predicate ? Object(_filter__WEBPACK_IMPORTED_MODULE_1__["filter"])(function (v, i) { return predicate(v, i, source); }) : _util_identity__WEBPACK_IMPORTED_MODULE_5__["identity"], Object(_takeLast__WEBPACK_IMPORTED_MODULE_2__["takeLast"])(1), hasDefaultValue ? Object(_defaultIfEmpty__WEBPACK_IMPORTED_MODULE_4__["defaultIfEmpty"])(defaultValue) : Object(_throwIfEmpty__WEBPACK_IMPORTED_MODULE_3__["throwIfEmpty"])(function () { return new _util_EmptyError__WEBPACK_IMPORTED_MODULE_0__["EmptyError"](); })); };
}
//# sourceMappingURL=last.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/map.js":
/*!***********************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/map.js ***!
  \***********************************************************/
/*! exports provided: map, MapOperator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "map", function() { return map; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MapOperator", function() { return MapOperator; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function map(project, thisArg) {
    return function mapOperation(source) {
        if (typeof project !== 'function') {
            throw new TypeError('argument is not a function. Are you looking for `mapTo()`?');
        }
        return source.lift(new MapOperator(project, thisArg));
    };
}
var MapOperator = /*@__PURE__*/ (function () {
    function MapOperator(project, thisArg) {
        this.project = project;
        this.thisArg = thisArg;
    }
    MapOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));
    };
    return MapOperator;
}());

var MapSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](MapSubscriber, _super);
    function MapSubscriber(destination, project, thisArg) {
        var _this = _super.call(this, destination) || this;
        _this.project = project;
        _this.count = 0;
        _this.thisArg = thisArg || _this;
        return _this;
    }
    MapSubscriber.prototype._next = function (value) {
        var result;
        try {
            result = this.project.call(this.thisArg, value, this.count++);
        }
        catch (err) {
            this.destination.error(err);
            return;
        }
        this.destination.next(result);
    };
    return MapSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=map.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/mapTo.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/mapTo.js ***!
  \*************************************************************/
/*! exports provided: mapTo */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mapTo", function() { return mapTo; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function mapTo(value) {
    return function (source) { return source.lift(new MapToOperator(value)); };
}
var MapToOperator = /*@__PURE__*/ (function () {
    function MapToOperator(value) {
        this.value = value;
    }
    MapToOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new MapToSubscriber(subscriber, this.value));
    };
    return MapToOperator;
}());
var MapToSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](MapToSubscriber, _super);
    function MapToSubscriber(destination, value) {
        var _this = _super.call(this, destination) || this;
        _this.value = value;
        return _this;
    }
    MapToSubscriber.prototype._next = function (x) {
        this.destination.next(this.value);
    };
    return MapToSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=mapTo.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/materialize.js":
/*!*******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/materialize.js ***!
  \*******************************************************************/
/*! exports provided: materialize */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "materialize", function() { return materialize; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _Notification__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Notification */ "./node_modules/rxjs/_esm5/internal/Notification.js");
/** PURE_IMPORTS_START tslib,_Subscriber,_Notification PURE_IMPORTS_END */



function materialize() {
    return function materializeOperatorFunction(source) {
        return source.lift(new MaterializeOperator());
    };
}
var MaterializeOperator = /*@__PURE__*/ (function () {
    function MaterializeOperator() {
    }
    MaterializeOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new MaterializeSubscriber(subscriber));
    };
    return MaterializeOperator;
}());
var MaterializeSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](MaterializeSubscriber, _super);
    function MaterializeSubscriber(destination) {
        return _super.call(this, destination) || this;
    }
    MaterializeSubscriber.prototype._next = function (value) {
        this.destination.next(_Notification__WEBPACK_IMPORTED_MODULE_2__["Notification"].createNext(value));
    };
    MaterializeSubscriber.prototype._error = function (err) {
        var destination = this.destination;
        destination.next(_Notification__WEBPACK_IMPORTED_MODULE_2__["Notification"].createError(err));
        destination.complete();
    };
    MaterializeSubscriber.prototype._complete = function () {
        var destination = this.destination;
        destination.next(_Notification__WEBPACK_IMPORTED_MODULE_2__["Notification"].createComplete());
        destination.complete();
    };
    return MaterializeSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=materialize.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/max.js":
/*!***********************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/max.js ***!
  \***********************************************************/
/*! exports provided: max */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "max", function() { return max; });
/* harmony import */ var _reduce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./reduce */ "./node_modules/rxjs/_esm5/internal/operators/reduce.js");
/** PURE_IMPORTS_START _reduce PURE_IMPORTS_END */

function max(comparer) {
    var max = (typeof comparer === 'function')
        ? function (x, y) { return comparer(x, y) > 0 ? x : y; }
        : function (x, y) { return x > y ? x : y; };
    return Object(_reduce__WEBPACK_IMPORTED_MODULE_0__["reduce"])(max);
}
//# sourceMappingURL=max.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/merge.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/merge.js ***!
  \*************************************************************/
/*! exports provided: merge */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "merge", function() { return merge; });
/* harmony import */ var _observable_merge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../observable/merge */ "./node_modules/rxjs/_esm5/internal/observable/merge.js");
/** PURE_IMPORTS_START _observable_merge PURE_IMPORTS_END */

function merge() {
    var observables = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        observables[_i] = arguments[_i];
    }
    return function (source) { return source.lift.call(_observable_merge__WEBPACK_IMPORTED_MODULE_0__["merge"].apply(void 0, [source].concat(observables))); };
}
//# sourceMappingURL=merge.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/mergeAll.js":
/*!****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/mergeAll.js ***!
  \****************************************************************/
/*! exports provided: mergeAll */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mergeAll", function() { return mergeAll; });
/* harmony import */ var _mergeMap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mergeMap */ "./node_modules/rxjs/_esm5/internal/operators/mergeMap.js");
/* harmony import */ var _util_identity__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/identity */ "./node_modules/rxjs/_esm5/internal/util/identity.js");
/** PURE_IMPORTS_START _mergeMap,_util_identity PURE_IMPORTS_END */


function mergeAll(concurrent) {
    if (concurrent === void 0) {
        concurrent = Number.POSITIVE_INFINITY;
    }
    return Object(_mergeMap__WEBPACK_IMPORTED_MODULE_0__["mergeMap"])(_util_identity__WEBPACK_IMPORTED_MODULE_1__["identity"], concurrent);
}
//# sourceMappingURL=mergeAll.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/mergeMap.js":
/*!****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/mergeMap.js ***!
  \****************************************************************/
/*! exports provided: mergeMap, MergeMapOperator, MergeMapSubscriber, flatMap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mergeMap", function() { return mergeMap; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MergeMapOperator", function() { return MergeMapOperator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MergeMapSubscriber", function() { return MergeMapSubscriber; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "flatMap", function() { return flatMap; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _map__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./map */ "./node_modules/rxjs/_esm5/internal/operators/map.js");
/* harmony import */ var _observable_from__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../observable/from */ "./node_modules/rxjs/_esm5/internal/observable/from.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_map,_observable_from,_innerSubscribe PURE_IMPORTS_END */




function mergeMap(project, resultSelector, concurrent) {
    if (concurrent === void 0) {
        concurrent = Number.POSITIVE_INFINITY;
    }
    if (typeof resultSelector === 'function') {
        return function (source) { return source.pipe(mergeMap(function (a, i) { return Object(_observable_from__WEBPACK_IMPORTED_MODULE_2__["from"])(project(a, i)).pipe(Object(_map__WEBPACK_IMPORTED_MODULE_1__["map"])(function (b, ii) { return resultSelector(a, b, i, ii); })); }, concurrent)); };
    }
    else if (typeof resultSelector === 'number') {
        concurrent = resultSelector;
    }
    return function (source) { return source.lift(new MergeMapOperator(project, concurrent)); };
}
var MergeMapOperator = /*@__PURE__*/ (function () {
    function MergeMapOperator(project, concurrent) {
        if (concurrent === void 0) {
            concurrent = Number.POSITIVE_INFINITY;
        }
        this.project = project;
        this.concurrent = concurrent;
    }
    MergeMapOperator.prototype.call = function (observer, source) {
        return source.subscribe(new MergeMapSubscriber(observer, this.project, this.concurrent));
    };
    return MergeMapOperator;
}());

var MergeMapSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](MergeMapSubscriber, _super);
    function MergeMapSubscriber(destination, project, concurrent) {
        if (concurrent === void 0) {
            concurrent = Number.POSITIVE_INFINITY;
        }
        var _this = _super.call(this, destination) || this;
        _this.project = project;
        _this.concurrent = concurrent;
        _this.hasCompleted = false;
        _this.buffer = [];
        _this.active = 0;
        _this.index = 0;
        return _this;
    }
    MergeMapSubscriber.prototype._next = function (value) {
        if (this.active < this.concurrent) {
            this._tryNext(value);
        }
        else {
            this.buffer.push(value);
        }
    };
    MergeMapSubscriber.prototype._tryNext = function (value) {
        var result;
        var index = this.index++;
        try {
            result = this.project(value, index);
        }
        catch (err) {
            this.destination.error(err);
            return;
        }
        this.active++;
        this._innerSub(result);
    };
    MergeMapSubscriber.prototype._innerSub = function (ish) {
        var innerSubscriber = new _innerSubscribe__WEBPACK_IMPORTED_MODULE_3__["SimpleInnerSubscriber"](this);
        var destination = this.destination;
        destination.add(innerSubscriber);
        var innerSubscription = Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_3__["innerSubscribe"])(ish, innerSubscriber);
        if (innerSubscription !== innerSubscriber) {
            destination.add(innerSubscription);
        }
    };
    MergeMapSubscriber.prototype._complete = function () {
        this.hasCompleted = true;
        if (this.active === 0 && this.buffer.length === 0) {
            this.destination.complete();
        }
        this.unsubscribe();
    };
    MergeMapSubscriber.prototype.notifyNext = function (innerValue) {
        this.destination.next(innerValue);
    };
    MergeMapSubscriber.prototype.notifyComplete = function () {
        var buffer = this.buffer;
        this.active--;
        if (buffer.length > 0) {
            this._next(buffer.shift());
        }
        else if (this.active === 0 && this.hasCompleted) {
            this.destination.complete();
        }
    };
    return MergeMapSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_3__["SimpleOuterSubscriber"]));

var flatMap = mergeMap;
//# sourceMappingURL=mergeMap.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/mergeMapTo.js":
/*!******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/mergeMapTo.js ***!
  \******************************************************************/
/*! exports provided: mergeMapTo */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mergeMapTo", function() { return mergeMapTo; });
/* harmony import */ var _mergeMap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mergeMap */ "./node_modules/rxjs/_esm5/internal/operators/mergeMap.js");
/** PURE_IMPORTS_START _mergeMap PURE_IMPORTS_END */

function mergeMapTo(innerObservable, resultSelector, concurrent) {
    if (concurrent === void 0) {
        concurrent = Number.POSITIVE_INFINITY;
    }
    if (typeof resultSelector === 'function') {
        return Object(_mergeMap__WEBPACK_IMPORTED_MODULE_0__["mergeMap"])(function () { return innerObservable; }, resultSelector, concurrent);
    }
    if (typeof resultSelector === 'number') {
        concurrent = resultSelector;
    }
    return Object(_mergeMap__WEBPACK_IMPORTED_MODULE_0__["mergeMap"])(function () { return innerObservable; }, concurrent);
}
//# sourceMappingURL=mergeMapTo.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/mergeScan.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/mergeScan.js ***!
  \*****************************************************************/
/*! exports provided: mergeScan, MergeScanOperator, MergeScanSubscriber */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mergeScan", function() { return mergeScan; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MergeScanOperator", function() { return MergeScanOperator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MergeScanSubscriber", function() { return MergeScanSubscriber; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */


function mergeScan(accumulator, seed, concurrent) {
    if (concurrent === void 0) {
        concurrent = Number.POSITIVE_INFINITY;
    }
    return function (source) { return source.lift(new MergeScanOperator(accumulator, seed, concurrent)); };
}
var MergeScanOperator = /*@__PURE__*/ (function () {
    function MergeScanOperator(accumulator, seed, concurrent) {
        this.accumulator = accumulator;
        this.seed = seed;
        this.concurrent = concurrent;
    }
    MergeScanOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new MergeScanSubscriber(subscriber, this.accumulator, this.seed, this.concurrent));
    };
    return MergeScanOperator;
}());

var MergeScanSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](MergeScanSubscriber, _super);
    function MergeScanSubscriber(destination, accumulator, acc, concurrent) {
        var _this = _super.call(this, destination) || this;
        _this.accumulator = accumulator;
        _this.acc = acc;
        _this.concurrent = concurrent;
        _this.hasValue = false;
        _this.hasCompleted = false;
        _this.buffer = [];
        _this.active = 0;
        _this.index = 0;
        return _this;
    }
    MergeScanSubscriber.prototype._next = function (value) {
        if (this.active < this.concurrent) {
            var index = this.index++;
            var destination = this.destination;
            var ish = void 0;
            try {
                var accumulator = this.accumulator;
                ish = accumulator(this.acc, value, index);
            }
            catch (e) {
                return destination.error(e);
            }
            this.active++;
            this._innerSub(ish);
        }
        else {
            this.buffer.push(value);
        }
    };
    MergeScanSubscriber.prototype._innerSub = function (ish) {
        var innerSubscriber = new _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleInnerSubscriber"](this);
        var destination = this.destination;
        destination.add(innerSubscriber);
        var innerSubscription = Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["innerSubscribe"])(ish, innerSubscriber);
        if (innerSubscription !== innerSubscriber) {
            destination.add(innerSubscription);
        }
    };
    MergeScanSubscriber.prototype._complete = function () {
        this.hasCompleted = true;
        if (this.active === 0 && this.buffer.length === 0) {
            if (this.hasValue === false) {
                this.destination.next(this.acc);
            }
            this.destination.complete();
        }
        this.unsubscribe();
    };
    MergeScanSubscriber.prototype.notifyNext = function (innerValue) {
        var destination = this.destination;
        this.acc = innerValue;
        this.hasValue = true;
        destination.next(innerValue);
    };
    MergeScanSubscriber.prototype.notifyComplete = function () {
        var buffer = this.buffer;
        this.active--;
        if (buffer.length > 0) {
            this._next(buffer.shift());
        }
        else if (this.active === 0 && this.hasCompleted) {
            if (this.hasValue === false) {
                this.destination.next(this.acc);
            }
            this.destination.complete();
        }
    };
    return MergeScanSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleOuterSubscriber"]));

//# sourceMappingURL=mergeScan.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/min.js":
/*!***********************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/min.js ***!
  \***********************************************************/
/*! exports provided: min */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "min", function() { return min; });
/* harmony import */ var _reduce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./reduce */ "./node_modules/rxjs/_esm5/internal/operators/reduce.js");
/** PURE_IMPORTS_START _reduce PURE_IMPORTS_END */

function min(comparer) {
    var min = (typeof comparer === 'function')
        ? function (x, y) { return comparer(x, y) < 0 ? x : y; }
        : function (x, y) { return x < y ? x : y; };
    return Object(_reduce__WEBPACK_IMPORTED_MODULE_0__["reduce"])(min);
}
//# sourceMappingURL=min.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/multicast.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/multicast.js ***!
  \*****************************************************************/
/*! exports provided: multicast, MulticastOperator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "multicast", function() { return multicast; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MulticastOperator", function() { return MulticastOperator; });
/* harmony import */ var _observable_ConnectableObservable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../observable/ConnectableObservable */ "./node_modules/rxjs/_esm5/internal/observable/ConnectableObservable.js");
/** PURE_IMPORTS_START _observable_ConnectableObservable PURE_IMPORTS_END */

function multicast(subjectOrSubjectFactory, selector) {
    return function multicastOperatorFunction(source) {
        var subjectFactory;
        if (typeof subjectOrSubjectFactory === 'function') {
            subjectFactory = subjectOrSubjectFactory;
        }
        else {
            subjectFactory = function subjectFactory() {
                return subjectOrSubjectFactory;
            };
        }
        if (typeof selector === 'function') {
            return source.lift(new MulticastOperator(subjectFactory, selector));
        }
        var connectable = Object.create(source, _observable_ConnectableObservable__WEBPACK_IMPORTED_MODULE_0__["connectableObservableDescriptor"]);
        connectable.source = source;
        connectable.subjectFactory = subjectFactory;
        return connectable;
    };
}
var MulticastOperator = /*@__PURE__*/ (function () {
    function MulticastOperator(subjectFactory, selector) {
        this.subjectFactory = subjectFactory;
        this.selector = selector;
    }
    MulticastOperator.prototype.call = function (subscriber, source) {
        var selector = this.selector;
        var subject = this.subjectFactory();
        var subscription = selector(subject).subscribe(subscriber);
        subscription.add(source.subscribe(subject));
        return subscription;
    };
    return MulticastOperator;
}());

//# sourceMappingURL=multicast.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/observeOn.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/observeOn.js ***!
  \*****************************************************************/
/*! exports provided: observeOn, ObserveOnOperator, ObserveOnSubscriber, ObserveOnMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "observeOn", function() { return observeOn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObserveOnOperator", function() { return ObserveOnOperator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObserveOnSubscriber", function() { return ObserveOnSubscriber; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObserveOnMessage", function() { return ObserveOnMessage; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _Notification__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Notification */ "./node_modules/rxjs/_esm5/internal/Notification.js");
/** PURE_IMPORTS_START tslib,_Subscriber,_Notification PURE_IMPORTS_END */



function observeOn(scheduler, delay) {
    if (delay === void 0) {
        delay = 0;
    }
    return function observeOnOperatorFunction(source) {
        return source.lift(new ObserveOnOperator(scheduler, delay));
    };
}
var ObserveOnOperator = /*@__PURE__*/ (function () {
    function ObserveOnOperator(scheduler, delay) {
        if (delay === void 0) {
            delay = 0;
        }
        this.scheduler = scheduler;
        this.delay = delay;
    }
    ObserveOnOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new ObserveOnSubscriber(subscriber, this.scheduler, this.delay));
    };
    return ObserveOnOperator;
}());

var ObserveOnSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ObserveOnSubscriber, _super);
    function ObserveOnSubscriber(destination, scheduler, delay) {
        if (delay === void 0) {
            delay = 0;
        }
        var _this = _super.call(this, destination) || this;
        _this.scheduler = scheduler;
        _this.delay = delay;
        return _this;
    }
    ObserveOnSubscriber.dispatch = function (arg) {
        var notification = arg.notification, destination = arg.destination;
        notification.observe(destination);
        this.unsubscribe();
    };
    ObserveOnSubscriber.prototype.scheduleMessage = function (notification) {
        var destination = this.destination;
        destination.add(this.scheduler.schedule(ObserveOnSubscriber.dispatch, this.delay, new ObserveOnMessage(notification, this.destination)));
    };
    ObserveOnSubscriber.prototype._next = function (value) {
        this.scheduleMessage(_Notification__WEBPACK_IMPORTED_MODULE_2__["Notification"].createNext(value));
    };
    ObserveOnSubscriber.prototype._error = function (err) {
        this.scheduleMessage(_Notification__WEBPACK_IMPORTED_MODULE_2__["Notification"].createError(err));
        this.unsubscribe();
    };
    ObserveOnSubscriber.prototype._complete = function () {
        this.scheduleMessage(_Notification__WEBPACK_IMPORTED_MODULE_2__["Notification"].createComplete());
        this.unsubscribe();
    };
    return ObserveOnSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));

var ObserveOnMessage = /*@__PURE__*/ (function () {
    function ObserveOnMessage(notification, destination) {
        this.notification = notification;
        this.destination = destination;
    }
    return ObserveOnMessage;
}());

//# sourceMappingURL=observeOn.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/onErrorResumeNext.js":
/*!*************************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/onErrorResumeNext.js ***!
  \*************************************************************************/
/*! exports provided: onErrorResumeNext, onErrorResumeNextStatic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "onErrorResumeNext", function() { return onErrorResumeNext; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "onErrorResumeNextStatic", function() { return onErrorResumeNextStatic; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _observable_from__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../observable/from */ "./node_modules/rxjs/_esm5/internal/observable/from.js");
/* harmony import */ var _util_isArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/isArray */ "./node_modules/rxjs/_esm5/internal/util/isArray.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_observable_from,_util_isArray,_innerSubscribe PURE_IMPORTS_END */




function onErrorResumeNext() {
    var nextSources = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        nextSources[_i] = arguments[_i];
    }
    if (nextSources.length === 1 && Object(_util_isArray__WEBPACK_IMPORTED_MODULE_2__["isArray"])(nextSources[0])) {
        nextSources = nextSources[0];
    }
    return function (source) { return source.lift(new OnErrorResumeNextOperator(nextSources)); };
}
function onErrorResumeNextStatic() {
    var nextSources = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        nextSources[_i] = arguments[_i];
    }
    var source = undefined;
    if (nextSources.length === 1 && Object(_util_isArray__WEBPACK_IMPORTED_MODULE_2__["isArray"])(nextSources[0])) {
        nextSources = nextSources[0];
    }
    source = nextSources.shift();
    return Object(_observable_from__WEBPACK_IMPORTED_MODULE_1__["from"])(source).lift(new OnErrorResumeNextOperator(nextSources));
}
var OnErrorResumeNextOperator = /*@__PURE__*/ (function () {
    function OnErrorResumeNextOperator(nextSources) {
        this.nextSources = nextSources;
    }
    OnErrorResumeNextOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new OnErrorResumeNextSubscriber(subscriber, this.nextSources));
    };
    return OnErrorResumeNextOperator;
}());
var OnErrorResumeNextSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](OnErrorResumeNextSubscriber, _super);
    function OnErrorResumeNextSubscriber(destination, nextSources) {
        var _this = _super.call(this, destination) || this;
        _this.destination = destination;
        _this.nextSources = nextSources;
        return _this;
    }
    OnErrorResumeNextSubscriber.prototype.notifyError = function () {
        this.subscribeToNextSource();
    };
    OnErrorResumeNextSubscriber.prototype.notifyComplete = function () {
        this.subscribeToNextSource();
    };
    OnErrorResumeNextSubscriber.prototype._error = function (err) {
        this.subscribeToNextSource();
        this.unsubscribe();
    };
    OnErrorResumeNextSubscriber.prototype._complete = function () {
        this.subscribeToNextSource();
        this.unsubscribe();
    };
    OnErrorResumeNextSubscriber.prototype.subscribeToNextSource = function () {
        var next = this.nextSources.shift();
        if (!!next) {
            var innerSubscriber = new _innerSubscribe__WEBPACK_IMPORTED_MODULE_3__["SimpleInnerSubscriber"](this);
            var destination = this.destination;
            destination.add(innerSubscriber);
            var innerSubscription = Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_3__["innerSubscribe"])(next, innerSubscriber);
            if (innerSubscription !== innerSubscriber) {
                destination.add(innerSubscription);
            }
        }
        else {
            this.destination.complete();
        }
    };
    return OnErrorResumeNextSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_3__["SimpleOuterSubscriber"]));
//# sourceMappingURL=onErrorResumeNext.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/pairwise.js":
/*!****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/pairwise.js ***!
  \****************************************************************/
/*! exports provided: pairwise */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pairwise", function() { return pairwise; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function pairwise() {
    return function (source) { return source.lift(new PairwiseOperator()); };
}
var PairwiseOperator = /*@__PURE__*/ (function () {
    function PairwiseOperator() {
    }
    PairwiseOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new PairwiseSubscriber(subscriber));
    };
    return PairwiseOperator;
}());
var PairwiseSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](PairwiseSubscriber, _super);
    function PairwiseSubscriber(destination) {
        var _this = _super.call(this, destination) || this;
        _this.hasPrev = false;
        return _this;
    }
    PairwiseSubscriber.prototype._next = function (value) {
        var pair;
        if (this.hasPrev) {
            pair = [this.prev, value];
        }
        else {
            this.hasPrev = true;
        }
        this.prev = value;
        if (pair) {
            this.destination.next(pair);
        }
    };
    return PairwiseSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=pairwise.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/partition.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/partition.js ***!
  \*****************************************************************/
/*! exports provided: partition */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "partition", function() { return partition; });
/* harmony import */ var _util_not__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/not */ "./node_modules/rxjs/_esm5/internal/util/not.js");
/* harmony import */ var _filter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./filter */ "./node_modules/rxjs/_esm5/internal/operators/filter.js");
/** PURE_IMPORTS_START _util_not,_filter PURE_IMPORTS_END */


function partition(predicate, thisArg) {
    return function (source) {
        return [
            Object(_filter__WEBPACK_IMPORTED_MODULE_1__["filter"])(predicate, thisArg)(source),
            Object(_filter__WEBPACK_IMPORTED_MODULE_1__["filter"])(Object(_util_not__WEBPACK_IMPORTED_MODULE_0__["not"])(predicate, thisArg))(source)
        ];
    };
}
//# sourceMappingURL=partition.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/pluck.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/pluck.js ***!
  \*************************************************************/
/*! exports provided: pluck */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pluck", function() { return pluck; });
/* harmony import */ var _map__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./map */ "./node_modules/rxjs/_esm5/internal/operators/map.js");
/** PURE_IMPORTS_START _map PURE_IMPORTS_END */

function pluck() {
    var properties = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        properties[_i] = arguments[_i];
    }
    var length = properties.length;
    if (length === 0) {
        throw new Error('list of properties cannot be empty.');
    }
    return function (source) { return Object(_map__WEBPACK_IMPORTED_MODULE_0__["map"])(plucker(properties, length))(source); };
}
function plucker(props, length) {
    var mapper = function (x) {
        var currentProp = x;
        for (var i = 0; i < length; i++) {
            var p = currentProp != null ? currentProp[props[i]] : undefined;
            if (p !== void 0) {
                currentProp = p;
            }
            else {
                return undefined;
            }
        }
        return currentProp;
    };
    return mapper;
}
//# sourceMappingURL=pluck.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/publish.js":
/*!***************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/publish.js ***!
  \***************************************************************/
/*! exports provided: publish */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "publish", function() { return publish; });
/* harmony import */ var _Subject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Subject */ "./node_modules/rxjs/_esm5/internal/Subject.js");
/* harmony import */ var _multicast__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./multicast */ "./node_modules/rxjs/_esm5/internal/operators/multicast.js");
/** PURE_IMPORTS_START _Subject,_multicast PURE_IMPORTS_END */


function publish(selector) {
    return selector ?
        Object(_multicast__WEBPACK_IMPORTED_MODULE_1__["multicast"])(function () { return new _Subject__WEBPACK_IMPORTED_MODULE_0__["Subject"](); }, selector) :
        Object(_multicast__WEBPACK_IMPORTED_MODULE_1__["multicast"])(new _Subject__WEBPACK_IMPORTED_MODULE_0__["Subject"]());
}
//# sourceMappingURL=publish.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/publishBehavior.js":
/*!***********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/publishBehavior.js ***!
  \***********************************************************************/
/*! exports provided: publishBehavior */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "publishBehavior", function() { return publishBehavior; });
/* harmony import */ var _BehaviorSubject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../BehaviorSubject */ "./node_modules/rxjs/_esm5/internal/BehaviorSubject.js");
/* harmony import */ var _multicast__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./multicast */ "./node_modules/rxjs/_esm5/internal/operators/multicast.js");
/** PURE_IMPORTS_START _BehaviorSubject,_multicast PURE_IMPORTS_END */


function publishBehavior(value) {
    return function (source) { return Object(_multicast__WEBPACK_IMPORTED_MODULE_1__["multicast"])(new _BehaviorSubject__WEBPACK_IMPORTED_MODULE_0__["BehaviorSubject"](value))(source); };
}
//# sourceMappingURL=publishBehavior.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/publishLast.js":
/*!*******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/publishLast.js ***!
  \*******************************************************************/
/*! exports provided: publishLast */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "publishLast", function() { return publishLast; });
/* harmony import */ var _AsyncSubject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../AsyncSubject */ "./node_modules/rxjs/_esm5/internal/AsyncSubject.js");
/* harmony import */ var _multicast__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./multicast */ "./node_modules/rxjs/_esm5/internal/operators/multicast.js");
/** PURE_IMPORTS_START _AsyncSubject,_multicast PURE_IMPORTS_END */


function publishLast() {
    return function (source) { return Object(_multicast__WEBPACK_IMPORTED_MODULE_1__["multicast"])(new _AsyncSubject__WEBPACK_IMPORTED_MODULE_0__["AsyncSubject"]())(source); };
}
//# sourceMappingURL=publishLast.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/publishReplay.js":
/*!*********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/publishReplay.js ***!
  \*********************************************************************/
/*! exports provided: publishReplay */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "publishReplay", function() { return publishReplay; });
/* harmony import */ var _ReplaySubject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ReplaySubject */ "./node_modules/rxjs/_esm5/internal/ReplaySubject.js");
/* harmony import */ var _multicast__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./multicast */ "./node_modules/rxjs/_esm5/internal/operators/multicast.js");
/** PURE_IMPORTS_START _ReplaySubject,_multicast PURE_IMPORTS_END */


function publishReplay(bufferSize, windowTime, selectorOrScheduler, scheduler) {
    if (selectorOrScheduler && typeof selectorOrScheduler !== 'function') {
        scheduler = selectorOrScheduler;
    }
    var selector = typeof selectorOrScheduler === 'function' ? selectorOrScheduler : undefined;
    var subject = new _ReplaySubject__WEBPACK_IMPORTED_MODULE_0__["ReplaySubject"](bufferSize, windowTime, scheduler);
    return function (source) { return Object(_multicast__WEBPACK_IMPORTED_MODULE_1__["multicast"])(function () { return subject; }, selector)(source); };
}
//# sourceMappingURL=publishReplay.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/race.js":
/*!************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/race.js ***!
  \************************************************************/
/*! exports provided: race */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "race", function() { return race; });
/* harmony import */ var _util_isArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/isArray */ "./node_modules/rxjs/_esm5/internal/util/isArray.js");
/* harmony import */ var _observable_race__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../observable/race */ "./node_modules/rxjs/_esm5/internal/observable/race.js");
/** PURE_IMPORTS_START _util_isArray,_observable_race PURE_IMPORTS_END */


function race() {
    var observables = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        observables[_i] = arguments[_i];
    }
    return function raceOperatorFunction(source) {
        if (observables.length === 1 && Object(_util_isArray__WEBPACK_IMPORTED_MODULE_0__["isArray"])(observables[0])) {
            observables = observables[0];
        }
        return source.lift.call(_observable_race__WEBPACK_IMPORTED_MODULE_1__["race"].apply(void 0, [source].concat(observables)));
    };
}
//# sourceMappingURL=race.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/reduce.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/reduce.js ***!
  \**************************************************************/
/*! exports provided: reduce */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "reduce", function() { return reduce; });
/* harmony import */ var _scan__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./scan */ "./node_modules/rxjs/_esm5/internal/operators/scan.js");
/* harmony import */ var _takeLast__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./takeLast */ "./node_modules/rxjs/_esm5/internal/operators/takeLast.js");
/* harmony import */ var _defaultIfEmpty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./defaultIfEmpty */ "./node_modules/rxjs/_esm5/internal/operators/defaultIfEmpty.js");
/* harmony import */ var _util_pipe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/pipe */ "./node_modules/rxjs/_esm5/internal/util/pipe.js");
/** PURE_IMPORTS_START _scan,_takeLast,_defaultIfEmpty,_util_pipe PURE_IMPORTS_END */




function reduce(accumulator, seed) {
    if (arguments.length >= 2) {
        return function reduceOperatorFunctionWithSeed(source) {
            return Object(_util_pipe__WEBPACK_IMPORTED_MODULE_3__["pipe"])(Object(_scan__WEBPACK_IMPORTED_MODULE_0__["scan"])(accumulator, seed), Object(_takeLast__WEBPACK_IMPORTED_MODULE_1__["takeLast"])(1), Object(_defaultIfEmpty__WEBPACK_IMPORTED_MODULE_2__["defaultIfEmpty"])(seed))(source);
        };
    }
    return function reduceOperatorFunction(source) {
        return Object(_util_pipe__WEBPACK_IMPORTED_MODULE_3__["pipe"])(Object(_scan__WEBPACK_IMPORTED_MODULE_0__["scan"])(function (acc, value, index) { return accumulator(acc, value, index + 1); }), Object(_takeLast__WEBPACK_IMPORTED_MODULE_1__["takeLast"])(1))(source);
    };
}
//# sourceMappingURL=reduce.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/refCount.js":
/*!****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/refCount.js ***!
  \****************************************************************/
/*! exports provided: refCount */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "refCount", function() { return refCount; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function refCount() {
    return function refCountOperatorFunction(source) {
        return source.lift(new RefCountOperator(source));
    };
}
var RefCountOperator = /*@__PURE__*/ (function () {
    function RefCountOperator(connectable) {
        this.connectable = connectable;
    }
    RefCountOperator.prototype.call = function (subscriber, source) {
        var connectable = this.connectable;
        connectable._refCount++;
        var refCounter = new RefCountSubscriber(subscriber, connectable);
        var subscription = source.subscribe(refCounter);
        if (!refCounter.closed) {
            refCounter.connection = connectable.connect();
        }
        return subscription;
    };
    return RefCountOperator;
}());
var RefCountSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](RefCountSubscriber, _super);
    function RefCountSubscriber(destination, connectable) {
        var _this = _super.call(this, destination) || this;
        _this.connectable = connectable;
        return _this;
    }
    RefCountSubscriber.prototype._unsubscribe = function () {
        var connectable = this.connectable;
        if (!connectable) {
            this.connection = null;
            return;
        }
        this.connectable = null;
        var refCount = connectable._refCount;
        if (refCount <= 0) {
            this.connection = null;
            return;
        }
        connectable._refCount = refCount - 1;
        if (refCount > 1) {
            this.connection = null;
            return;
        }
        var connection = this.connection;
        var sharedConnection = connectable._connection;
        this.connection = null;
        if (sharedConnection && (!connection || sharedConnection === connection)) {
            sharedConnection.unsubscribe();
        }
    };
    return RefCountSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=refCount.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/repeat.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/repeat.js ***!
  \**************************************************************/
/*! exports provided: repeat */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "repeat", function() { return repeat; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _observable_empty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../observable/empty */ "./node_modules/rxjs/_esm5/internal/observable/empty.js");
/** PURE_IMPORTS_START tslib,_Subscriber,_observable_empty PURE_IMPORTS_END */



function repeat(count) {
    if (count === void 0) {
        count = -1;
    }
    return function (source) {
        if (count === 0) {
            return Object(_observable_empty__WEBPACK_IMPORTED_MODULE_2__["empty"])();
        }
        else if (count < 0) {
            return source.lift(new RepeatOperator(-1, source));
        }
        else {
            return source.lift(new RepeatOperator(count - 1, source));
        }
    };
}
var RepeatOperator = /*@__PURE__*/ (function () {
    function RepeatOperator(count, source) {
        this.count = count;
        this.source = source;
    }
    RepeatOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new RepeatSubscriber(subscriber, this.count, this.source));
    };
    return RepeatOperator;
}());
var RepeatSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](RepeatSubscriber, _super);
    function RepeatSubscriber(destination, count, source) {
        var _this = _super.call(this, destination) || this;
        _this.count = count;
        _this.source = source;
        return _this;
    }
    RepeatSubscriber.prototype.complete = function () {
        if (!this.isStopped) {
            var _a = this, source = _a.source, count = _a.count;
            if (count === 0) {
                return _super.prototype.complete.call(this);
            }
            else if (count > -1) {
                this.count = count - 1;
            }
            source.subscribe(this._unsubscribeAndRecycle());
        }
    };
    return RepeatSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=repeat.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/repeatWhen.js":
/*!******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/repeatWhen.js ***!
  \******************************************************************/
/*! exports provided: repeatWhen */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "repeatWhen", function() { return repeatWhen; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subject */ "./node_modules/rxjs/_esm5/internal/Subject.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_Subject,_innerSubscribe PURE_IMPORTS_END */



function repeatWhen(notifier) {
    return function (source) { return source.lift(new RepeatWhenOperator(notifier)); };
}
var RepeatWhenOperator = /*@__PURE__*/ (function () {
    function RepeatWhenOperator(notifier) {
        this.notifier = notifier;
    }
    RepeatWhenOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new RepeatWhenSubscriber(subscriber, this.notifier, source));
    };
    return RepeatWhenOperator;
}());
var RepeatWhenSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](RepeatWhenSubscriber, _super);
    function RepeatWhenSubscriber(destination, notifier, source) {
        var _this = _super.call(this, destination) || this;
        _this.notifier = notifier;
        _this.source = source;
        _this.sourceIsBeingSubscribedTo = true;
        return _this;
    }
    RepeatWhenSubscriber.prototype.notifyNext = function () {
        this.sourceIsBeingSubscribedTo = true;
        this.source.subscribe(this);
    };
    RepeatWhenSubscriber.prototype.notifyComplete = function () {
        if (this.sourceIsBeingSubscribedTo === false) {
            return _super.prototype.complete.call(this);
        }
    };
    RepeatWhenSubscriber.prototype.complete = function () {
        this.sourceIsBeingSubscribedTo = false;
        if (!this.isStopped) {
            if (!this.retries) {
                this.subscribeToRetries();
            }
            if (!this.retriesSubscription || this.retriesSubscription.closed) {
                return _super.prototype.complete.call(this);
            }
            this._unsubscribeAndRecycle();
            this.notifications.next(undefined);
        }
    };
    RepeatWhenSubscriber.prototype._unsubscribe = function () {
        var _a = this, notifications = _a.notifications, retriesSubscription = _a.retriesSubscription;
        if (notifications) {
            notifications.unsubscribe();
            this.notifications = undefined;
        }
        if (retriesSubscription) {
            retriesSubscription.unsubscribe();
            this.retriesSubscription = undefined;
        }
        this.retries = undefined;
    };
    RepeatWhenSubscriber.prototype._unsubscribeAndRecycle = function () {
        var _unsubscribe = this._unsubscribe;
        this._unsubscribe = null;
        _super.prototype._unsubscribeAndRecycle.call(this);
        this._unsubscribe = _unsubscribe;
        return this;
    };
    RepeatWhenSubscriber.prototype.subscribeToRetries = function () {
        this.notifications = new _Subject__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        var retries;
        try {
            var notifier = this.notifier;
            retries = notifier(this.notifications);
        }
        catch (e) {
            return _super.prototype.complete.call(this);
        }
        this.retries = retries;
        this.retriesSubscription = Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_2__["innerSubscribe"])(retries, new _innerSubscribe__WEBPACK_IMPORTED_MODULE_2__["SimpleInnerSubscriber"](this));
    };
    return RepeatWhenSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_2__["SimpleOuterSubscriber"]));
//# sourceMappingURL=repeatWhen.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/retry.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/retry.js ***!
  \*************************************************************/
/*! exports provided: retry */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "retry", function() { return retry; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function retry(count) {
    if (count === void 0) {
        count = -1;
    }
    return function (source) { return source.lift(new RetryOperator(count, source)); };
}
var RetryOperator = /*@__PURE__*/ (function () {
    function RetryOperator(count, source) {
        this.count = count;
        this.source = source;
    }
    RetryOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new RetrySubscriber(subscriber, this.count, this.source));
    };
    return RetryOperator;
}());
var RetrySubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](RetrySubscriber, _super);
    function RetrySubscriber(destination, count, source) {
        var _this = _super.call(this, destination) || this;
        _this.count = count;
        _this.source = source;
        return _this;
    }
    RetrySubscriber.prototype.error = function (err) {
        if (!this.isStopped) {
            var _a = this, source = _a.source, count = _a.count;
            if (count === 0) {
                return _super.prototype.error.call(this, err);
            }
            else if (count > -1) {
                this.count = count - 1;
            }
            source.subscribe(this._unsubscribeAndRecycle());
        }
    };
    return RetrySubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=retry.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/retryWhen.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/retryWhen.js ***!
  \*****************************************************************/
/*! exports provided: retryWhen */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "retryWhen", function() { return retryWhen; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subject */ "./node_modules/rxjs/_esm5/internal/Subject.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_Subject,_innerSubscribe PURE_IMPORTS_END */



function retryWhen(notifier) {
    return function (source) { return source.lift(new RetryWhenOperator(notifier, source)); };
}
var RetryWhenOperator = /*@__PURE__*/ (function () {
    function RetryWhenOperator(notifier, source) {
        this.notifier = notifier;
        this.source = source;
    }
    RetryWhenOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new RetryWhenSubscriber(subscriber, this.notifier, this.source));
    };
    return RetryWhenOperator;
}());
var RetryWhenSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](RetryWhenSubscriber, _super);
    function RetryWhenSubscriber(destination, notifier, source) {
        var _this = _super.call(this, destination) || this;
        _this.notifier = notifier;
        _this.source = source;
        return _this;
    }
    RetryWhenSubscriber.prototype.error = function (err) {
        if (!this.isStopped) {
            var errors = this.errors;
            var retries = this.retries;
            var retriesSubscription = this.retriesSubscription;
            if (!retries) {
                errors = new _Subject__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
                try {
                    var notifier = this.notifier;
                    retries = notifier(errors);
                }
                catch (e) {
                    return _super.prototype.error.call(this, e);
                }
                retriesSubscription = Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_2__["innerSubscribe"])(retries, new _innerSubscribe__WEBPACK_IMPORTED_MODULE_2__["SimpleInnerSubscriber"](this));
            }
            else {
                this.errors = undefined;
                this.retriesSubscription = undefined;
            }
            this._unsubscribeAndRecycle();
            this.errors = errors;
            this.retries = retries;
            this.retriesSubscription = retriesSubscription;
            errors.next(err);
        }
    };
    RetryWhenSubscriber.prototype._unsubscribe = function () {
        var _a = this, errors = _a.errors, retriesSubscription = _a.retriesSubscription;
        if (errors) {
            errors.unsubscribe();
            this.errors = undefined;
        }
        if (retriesSubscription) {
            retriesSubscription.unsubscribe();
            this.retriesSubscription = undefined;
        }
        this.retries = undefined;
    };
    RetryWhenSubscriber.prototype.notifyNext = function () {
        var _unsubscribe = this._unsubscribe;
        this._unsubscribe = null;
        this._unsubscribeAndRecycle();
        this._unsubscribe = _unsubscribe;
        this.source.subscribe(this);
    };
    return RetryWhenSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_2__["SimpleOuterSubscriber"]));
//# sourceMappingURL=retryWhen.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/sample.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/sample.js ***!
  \**************************************************************/
/*! exports provided: sample */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sample", function() { return sample; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */


function sample(notifier) {
    return function (source) { return source.lift(new SampleOperator(notifier)); };
}
var SampleOperator = /*@__PURE__*/ (function () {
    function SampleOperator(notifier) {
        this.notifier = notifier;
    }
    SampleOperator.prototype.call = function (subscriber, source) {
        var sampleSubscriber = new SampleSubscriber(subscriber);
        var subscription = source.subscribe(sampleSubscriber);
        subscription.add(Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["innerSubscribe"])(this.notifier, new _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleInnerSubscriber"](sampleSubscriber)));
        return subscription;
    };
    return SampleOperator;
}());
var SampleSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SampleSubscriber, _super);
    function SampleSubscriber() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.hasValue = false;
        return _this;
    }
    SampleSubscriber.prototype._next = function (value) {
        this.value = value;
        this.hasValue = true;
    };
    SampleSubscriber.prototype.notifyNext = function () {
        this.emitValue();
    };
    SampleSubscriber.prototype.notifyComplete = function () {
        this.emitValue();
    };
    SampleSubscriber.prototype.emitValue = function () {
        if (this.hasValue) {
            this.hasValue = false;
            this.destination.next(this.value);
        }
    };
    return SampleSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleOuterSubscriber"]));
//# sourceMappingURL=sample.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/sampleTime.js":
/*!******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/sampleTime.js ***!
  \******************************************************************/
/*! exports provided: sampleTime */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sampleTime", function() { return sampleTime; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _scheduler_async__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../scheduler/async */ "./node_modules/rxjs/_esm5/internal/scheduler/async.js");
/** PURE_IMPORTS_START tslib,_Subscriber,_scheduler_async PURE_IMPORTS_END */



function sampleTime(period, scheduler) {
    if (scheduler === void 0) {
        scheduler = _scheduler_async__WEBPACK_IMPORTED_MODULE_2__["async"];
    }
    return function (source) { return source.lift(new SampleTimeOperator(period, scheduler)); };
}
var SampleTimeOperator = /*@__PURE__*/ (function () {
    function SampleTimeOperator(period, scheduler) {
        this.period = period;
        this.scheduler = scheduler;
    }
    SampleTimeOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new SampleTimeSubscriber(subscriber, this.period, this.scheduler));
    };
    return SampleTimeOperator;
}());
var SampleTimeSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SampleTimeSubscriber, _super);
    function SampleTimeSubscriber(destination, period, scheduler) {
        var _this = _super.call(this, destination) || this;
        _this.period = period;
        _this.scheduler = scheduler;
        _this.hasValue = false;
        _this.add(scheduler.schedule(dispatchNotification, period, { subscriber: _this, period: period }));
        return _this;
    }
    SampleTimeSubscriber.prototype._next = function (value) {
        this.lastValue = value;
        this.hasValue = true;
    };
    SampleTimeSubscriber.prototype.notifyNext = function () {
        if (this.hasValue) {
            this.hasValue = false;
            this.destination.next(this.lastValue);
        }
    };
    return SampleTimeSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
function dispatchNotification(state) {
    var subscriber = state.subscriber, period = state.period;
    subscriber.notifyNext();
    this.schedule(state, period);
}
//# sourceMappingURL=sampleTime.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/scan.js":
/*!************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/scan.js ***!
  \************************************************************/
/*! exports provided: scan */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "scan", function() { return scan; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function scan(accumulator, seed) {
    var hasSeed = false;
    if (arguments.length >= 2) {
        hasSeed = true;
    }
    return function scanOperatorFunction(source) {
        return source.lift(new ScanOperator(accumulator, seed, hasSeed));
    };
}
var ScanOperator = /*@__PURE__*/ (function () {
    function ScanOperator(accumulator, seed, hasSeed) {
        if (hasSeed === void 0) {
            hasSeed = false;
        }
        this.accumulator = accumulator;
        this.seed = seed;
        this.hasSeed = hasSeed;
    }
    ScanOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new ScanSubscriber(subscriber, this.accumulator, this.seed, this.hasSeed));
    };
    return ScanOperator;
}());
var ScanSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ScanSubscriber, _super);
    function ScanSubscriber(destination, accumulator, _seed, hasSeed) {
        var _this = _super.call(this, destination) || this;
        _this.accumulator = accumulator;
        _this._seed = _seed;
        _this.hasSeed = hasSeed;
        _this.index = 0;
        return _this;
    }
    Object.defineProperty(ScanSubscriber.prototype, "seed", {
        get: function () {
            return this._seed;
        },
        set: function (value) {
            this.hasSeed = true;
            this._seed = value;
        },
        enumerable: true,
        configurable: true
    });
    ScanSubscriber.prototype._next = function (value) {
        if (!this.hasSeed) {
            this.seed = value;
            this.destination.next(value);
        }
        else {
            return this._tryNext(value);
        }
    };
    ScanSubscriber.prototype._tryNext = function (value) {
        var index = this.index++;
        var result;
        try {
            result = this.accumulator(this.seed, value, index);
        }
        catch (err) {
            this.destination.error(err);
        }
        this.seed = result;
        this.destination.next(result);
    };
    return ScanSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=scan.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/sequenceEqual.js":
/*!*********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/sequenceEqual.js ***!
  \*********************************************************************/
/*! exports provided: sequenceEqual, SequenceEqualOperator, SequenceEqualSubscriber */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sequenceEqual", function() { return sequenceEqual; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SequenceEqualOperator", function() { return SequenceEqualOperator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SequenceEqualSubscriber", function() { return SequenceEqualSubscriber; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function sequenceEqual(compareTo, comparator) {
    return function (source) { return source.lift(new SequenceEqualOperator(compareTo, comparator)); };
}
var SequenceEqualOperator = /*@__PURE__*/ (function () {
    function SequenceEqualOperator(compareTo, comparator) {
        this.compareTo = compareTo;
        this.comparator = comparator;
    }
    SequenceEqualOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new SequenceEqualSubscriber(subscriber, this.compareTo, this.comparator));
    };
    return SequenceEqualOperator;
}());

var SequenceEqualSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SequenceEqualSubscriber, _super);
    function SequenceEqualSubscriber(destination, compareTo, comparator) {
        var _this = _super.call(this, destination) || this;
        _this.compareTo = compareTo;
        _this.comparator = comparator;
        _this._a = [];
        _this._b = [];
        _this._oneComplete = false;
        _this.destination.add(compareTo.subscribe(new SequenceEqualCompareToSubscriber(destination, _this)));
        return _this;
    }
    SequenceEqualSubscriber.prototype._next = function (value) {
        if (this._oneComplete && this._b.length === 0) {
            this.emit(false);
        }
        else {
            this._a.push(value);
            this.checkValues();
        }
    };
    SequenceEqualSubscriber.prototype._complete = function () {
        if (this._oneComplete) {
            this.emit(this._a.length === 0 && this._b.length === 0);
        }
        else {
            this._oneComplete = true;
        }
        this.unsubscribe();
    };
    SequenceEqualSubscriber.prototype.checkValues = function () {
        var _c = this, _a = _c._a, _b = _c._b, comparator = _c.comparator;
        while (_a.length > 0 && _b.length > 0) {
            var a = _a.shift();
            var b = _b.shift();
            var areEqual = false;
            try {
                areEqual = comparator ? comparator(a, b) : a === b;
            }
            catch (e) {
                this.destination.error(e);
            }
            if (!areEqual) {
                this.emit(false);
            }
        }
    };
    SequenceEqualSubscriber.prototype.emit = function (value) {
        var destination = this.destination;
        destination.next(value);
        destination.complete();
    };
    SequenceEqualSubscriber.prototype.nextB = function (value) {
        if (this._oneComplete && this._a.length === 0) {
            this.emit(false);
        }
        else {
            this._b.push(value);
            this.checkValues();
        }
    };
    SequenceEqualSubscriber.prototype.completeB = function () {
        if (this._oneComplete) {
            this.emit(this._a.length === 0 && this._b.length === 0);
        }
        else {
            this._oneComplete = true;
        }
    };
    return SequenceEqualSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));

var SequenceEqualCompareToSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SequenceEqualCompareToSubscriber, _super);
    function SequenceEqualCompareToSubscriber(destination, parent) {
        var _this = _super.call(this, destination) || this;
        _this.parent = parent;
        return _this;
    }
    SequenceEqualCompareToSubscriber.prototype._next = function (value) {
        this.parent.nextB(value);
    };
    SequenceEqualCompareToSubscriber.prototype._error = function (err) {
        this.parent.error(err);
        this.unsubscribe();
    };
    SequenceEqualCompareToSubscriber.prototype._complete = function () {
        this.parent.completeB();
        this.unsubscribe();
    };
    return SequenceEqualCompareToSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=sequenceEqual.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/share.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/share.js ***!
  \*************************************************************/
/*! exports provided: share */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "share", function() { return share; });
/* harmony import */ var _multicast__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./multicast */ "./node_modules/rxjs/_esm5/internal/operators/multicast.js");
/* harmony import */ var _refCount__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./refCount */ "./node_modules/rxjs/_esm5/internal/operators/refCount.js");
/* harmony import */ var _Subject__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Subject */ "./node_modules/rxjs/_esm5/internal/Subject.js");
/** PURE_IMPORTS_START _multicast,_refCount,_Subject PURE_IMPORTS_END */



function shareSubjectFactory() {
    return new _Subject__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
}
function share() {
    return function (source) { return Object(_refCount__WEBPACK_IMPORTED_MODULE_1__["refCount"])()(Object(_multicast__WEBPACK_IMPORTED_MODULE_0__["multicast"])(shareSubjectFactory)(source)); };
}
//# sourceMappingURL=share.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/shareReplay.js":
/*!*******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/shareReplay.js ***!
  \*******************************************************************/
/*! exports provided: shareReplay */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "shareReplay", function() { return shareReplay; });
/* harmony import */ var _ReplaySubject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ReplaySubject */ "./node_modules/rxjs/_esm5/internal/ReplaySubject.js");
/** PURE_IMPORTS_START _ReplaySubject PURE_IMPORTS_END */

function shareReplay(configOrBufferSize, windowTime, scheduler) {
    var config;
    if (configOrBufferSize && typeof configOrBufferSize === 'object') {
        config = configOrBufferSize;
    }
    else {
        config = {
            bufferSize: configOrBufferSize,
            windowTime: windowTime,
            refCount: false,
            scheduler: scheduler
        };
    }
    return function (source) { return source.lift(shareReplayOperator(config)); };
}
function shareReplayOperator(_a) {
    var _b = _a.bufferSize, bufferSize = _b === void 0 ? Number.POSITIVE_INFINITY : _b, _c = _a.windowTime, windowTime = _c === void 0 ? Number.POSITIVE_INFINITY : _c, useRefCount = _a.refCount, scheduler = _a.scheduler;
    var subject;
    var refCount = 0;
    var subscription;
    var hasError = false;
    var isComplete = false;
    return function shareReplayOperation(source) {
        refCount++;
        var innerSub;
        if (!subject || hasError) {
            hasError = false;
            subject = new _ReplaySubject__WEBPACK_IMPORTED_MODULE_0__["ReplaySubject"](bufferSize, windowTime, scheduler);
            innerSub = subject.subscribe(this);
            subscription = source.subscribe({
                next: function (value) { subject.next(value); },
                error: function (err) {
                    hasError = true;
                    subject.error(err);
                },
                complete: function () {
                    isComplete = true;
                    subscription = undefined;
                    subject.complete();
                },
            });
        }
        else {
            innerSub = subject.subscribe(this);
        }
        this.add(function () {
            refCount--;
            innerSub.unsubscribe();
            if (subscription && !isComplete && useRefCount && refCount === 0) {
                subscription.unsubscribe();
                subscription = undefined;
                subject = undefined;
            }
        });
    };
}
//# sourceMappingURL=shareReplay.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/single.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/single.js ***!
  \**************************************************************/
/*! exports provided: single */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "single", function() { return single; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _util_EmptyError__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/EmptyError */ "./node_modules/rxjs/_esm5/internal/util/EmptyError.js");
/** PURE_IMPORTS_START tslib,_Subscriber,_util_EmptyError PURE_IMPORTS_END */



function single(predicate) {
    return function (source) { return source.lift(new SingleOperator(predicate, source)); };
}
var SingleOperator = /*@__PURE__*/ (function () {
    function SingleOperator(predicate, source) {
        this.predicate = predicate;
        this.source = source;
    }
    SingleOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new SingleSubscriber(subscriber, this.predicate, this.source));
    };
    return SingleOperator;
}());
var SingleSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SingleSubscriber, _super);
    function SingleSubscriber(destination, predicate, source) {
        var _this = _super.call(this, destination) || this;
        _this.predicate = predicate;
        _this.source = source;
        _this.seenValue = false;
        _this.index = 0;
        return _this;
    }
    SingleSubscriber.prototype.applySingleValue = function (value) {
        if (this.seenValue) {
            this.destination.error('Sequence contains more than one element');
        }
        else {
            this.seenValue = true;
            this.singleValue = value;
        }
    };
    SingleSubscriber.prototype._next = function (value) {
        var index = this.index++;
        if (this.predicate) {
            this.tryNext(value, index);
        }
        else {
            this.applySingleValue(value);
        }
    };
    SingleSubscriber.prototype.tryNext = function (value, index) {
        try {
            if (this.predicate(value, index, this.source)) {
                this.applySingleValue(value);
            }
        }
        catch (err) {
            this.destination.error(err);
        }
    };
    SingleSubscriber.prototype._complete = function () {
        var destination = this.destination;
        if (this.index > 0) {
            destination.next(this.seenValue ? this.singleValue : undefined);
            destination.complete();
        }
        else {
            destination.error(new _util_EmptyError__WEBPACK_IMPORTED_MODULE_2__["EmptyError"]);
        }
    };
    return SingleSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=single.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/skip.js":
/*!************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/skip.js ***!
  \************************************************************/
/*! exports provided: skip */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "skip", function() { return skip; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function skip(count) {
    return function (source) { return source.lift(new SkipOperator(count)); };
}
var SkipOperator = /*@__PURE__*/ (function () {
    function SkipOperator(total) {
        this.total = total;
    }
    SkipOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new SkipSubscriber(subscriber, this.total));
    };
    return SkipOperator;
}());
var SkipSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SkipSubscriber, _super);
    function SkipSubscriber(destination, total) {
        var _this = _super.call(this, destination) || this;
        _this.total = total;
        _this.count = 0;
        return _this;
    }
    SkipSubscriber.prototype._next = function (x) {
        if (++this.count > this.total) {
            this.destination.next(x);
        }
    };
    return SkipSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=skip.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/skipLast.js":
/*!****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/skipLast.js ***!
  \****************************************************************/
/*! exports provided: skipLast */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "skipLast", function() { return skipLast; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _util_ArgumentOutOfRangeError__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/ArgumentOutOfRangeError */ "./node_modules/rxjs/_esm5/internal/util/ArgumentOutOfRangeError.js");
/** PURE_IMPORTS_START tslib,_Subscriber,_util_ArgumentOutOfRangeError PURE_IMPORTS_END */



function skipLast(count) {
    return function (source) { return source.lift(new SkipLastOperator(count)); };
}
var SkipLastOperator = /*@__PURE__*/ (function () {
    function SkipLastOperator(_skipCount) {
        this._skipCount = _skipCount;
        if (this._skipCount < 0) {
            throw new _util_ArgumentOutOfRangeError__WEBPACK_IMPORTED_MODULE_2__["ArgumentOutOfRangeError"];
        }
    }
    SkipLastOperator.prototype.call = function (subscriber, source) {
        if (this._skipCount === 0) {
            return source.subscribe(new _Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"](subscriber));
        }
        else {
            return source.subscribe(new SkipLastSubscriber(subscriber, this._skipCount));
        }
    };
    return SkipLastOperator;
}());
var SkipLastSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SkipLastSubscriber, _super);
    function SkipLastSubscriber(destination, _skipCount) {
        var _this = _super.call(this, destination) || this;
        _this._skipCount = _skipCount;
        _this._count = 0;
        _this._ring = new Array(_skipCount);
        return _this;
    }
    SkipLastSubscriber.prototype._next = function (value) {
        var skipCount = this._skipCount;
        var count = this._count++;
        if (count < skipCount) {
            this._ring[count] = value;
        }
        else {
            var currentIndex = count % skipCount;
            var ring = this._ring;
            var oldValue = ring[currentIndex];
            ring[currentIndex] = value;
            this.destination.next(oldValue);
        }
    };
    return SkipLastSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=skipLast.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/skipUntil.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/skipUntil.js ***!
  \*****************************************************************/
/*! exports provided: skipUntil */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "skipUntil", function() { return skipUntil; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */


function skipUntil(notifier) {
    return function (source) { return source.lift(new SkipUntilOperator(notifier)); };
}
var SkipUntilOperator = /*@__PURE__*/ (function () {
    function SkipUntilOperator(notifier) {
        this.notifier = notifier;
    }
    SkipUntilOperator.prototype.call = function (destination, source) {
        return source.subscribe(new SkipUntilSubscriber(destination, this.notifier));
    };
    return SkipUntilOperator;
}());
var SkipUntilSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SkipUntilSubscriber, _super);
    function SkipUntilSubscriber(destination, notifier) {
        var _this = _super.call(this, destination) || this;
        _this.hasValue = false;
        var innerSubscriber = new _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleInnerSubscriber"](_this);
        _this.add(innerSubscriber);
        _this.innerSubscription = innerSubscriber;
        var innerSubscription = Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["innerSubscribe"])(notifier, innerSubscriber);
        if (innerSubscription !== innerSubscriber) {
            _this.add(innerSubscription);
            _this.innerSubscription = innerSubscription;
        }
        return _this;
    }
    SkipUntilSubscriber.prototype._next = function (value) {
        if (this.hasValue) {
            _super.prototype._next.call(this, value);
        }
    };
    SkipUntilSubscriber.prototype.notifyNext = function () {
        this.hasValue = true;
        if (this.innerSubscription) {
            this.innerSubscription.unsubscribe();
        }
    };
    SkipUntilSubscriber.prototype.notifyComplete = function () {
    };
    return SkipUntilSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleOuterSubscriber"]));
//# sourceMappingURL=skipUntil.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/skipWhile.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/skipWhile.js ***!
  \*****************************************************************/
/*! exports provided: skipWhile */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "skipWhile", function() { return skipWhile; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function skipWhile(predicate) {
    return function (source) { return source.lift(new SkipWhileOperator(predicate)); };
}
var SkipWhileOperator = /*@__PURE__*/ (function () {
    function SkipWhileOperator(predicate) {
        this.predicate = predicate;
    }
    SkipWhileOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new SkipWhileSubscriber(subscriber, this.predicate));
    };
    return SkipWhileOperator;
}());
var SkipWhileSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SkipWhileSubscriber, _super);
    function SkipWhileSubscriber(destination, predicate) {
        var _this = _super.call(this, destination) || this;
        _this.predicate = predicate;
        _this.skipping = true;
        _this.index = 0;
        return _this;
    }
    SkipWhileSubscriber.prototype._next = function (value) {
        var destination = this.destination;
        if (this.skipping) {
            this.tryCallPredicate(value);
        }
        if (!this.skipping) {
            destination.next(value);
        }
    };
    SkipWhileSubscriber.prototype.tryCallPredicate = function (value) {
        try {
            var result = this.predicate(value, this.index++);
            this.skipping = Boolean(result);
        }
        catch (err) {
            this.destination.error(err);
        }
    };
    return SkipWhileSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=skipWhile.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/startWith.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/startWith.js ***!
  \*****************************************************************/
/*! exports provided: startWith */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "startWith", function() { return startWith; });
/* harmony import */ var _observable_concat__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../observable/concat */ "./node_modules/rxjs/_esm5/internal/observable/concat.js");
/* harmony import */ var _util_isScheduler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/isScheduler */ "./node_modules/rxjs/_esm5/internal/util/isScheduler.js");
/** PURE_IMPORTS_START _observable_concat,_util_isScheduler PURE_IMPORTS_END */


function startWith() {
    var array = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        array[_i] = arguments[_i];
    }
    var scheduler = array[array.length - 1];
    if (Object(_util_isScheduler__WEBPACK_IMPORTED_MODULE_1__["isScheduler"])(scheduler)) {
        array.pop();
        return function (source) { return Object(_observable_concat__WEBPACK_IMPORTED_MODULE_0__["concat"])(array, source, scheduler); };
    }
    else {
        return function (source) { return Object(_observable_concat__WEBPACK_IMPORTED_MODULE_0__["concat"])(array, source); };
    }
}
//# sourceMappingURL=startWith.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/subscribeOn.js":
/*!*******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/subscribeOn.js ***!
  \*******************************************************************/
/*! exports provided: subscribeOn */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "subscribeOn", function() { return subscribeOn; });
/* harmony import */ var _observable_SubscribeOnObservable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../observable/SubscribeOnObservable */ "./node_modules/rxjs/_esm5/internal/observable/SubscribeOnObservable.js");
/** PURE_IMPORTS_START _observable_SubscribeOnObservable PURE_IMPORTS_END */

function subscribeOn(scheduler, delay) {
    if (delay === void 0) {
        delay = 0;
    }
    return function subscribeOnOperatorFunction(source) {
        return source.lift(new SubscribeOnOperator(scheduler, delay));
    };
}
var SubscribeOnOperator = /*@__PURE__*/ (function () {
    function SubscribeOnOperator(scheduler, delay) {
        this.scheduler = scheduler;
        this.delay = delay;
    }
    SubscribeOnOperator.prototype.call = function (subscriber, source) {
        return new _observable_SubscribeOnObservable__WEBPACK_IMPORTED_MODULE_0__["SubscribeOnObservable"](source, this.delay, this.scheduler).subscribe(subscriber);
    };
    return SubscribeOnOperator;
}());
//# sourceMappingURL=subscribeOn.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/switchAll.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/switchAll.js ***!
  \*****************************************************************/
/*! exports provided: switchAll */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "switchAll", function() { return switchAll; });
/* harmony import */ var _switchMap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./switchMap */ "./node_modules/rxjs/_esm5/internal/operators/switchMap.js");
/* harmony import */ var _util_identity__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/identity */ "./node_modules/rxjs/_esm5/internal/util/identity.js");
/** PURE_IMPORTS_START _switchMap,_util_identity PURE_IMPORTS_END */


function switchAll() {
    return Object(_switchMap__WEBPACK_IMPORTED_MODULE_0__["switchMap"])(_util_identity__WEBPACK_IMPORTED_MODULE_1__["identity"]);
}
//# sourceMappingURL=switchAll.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/switchMap.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/switchMap.js ***!
  \*****************************************************************/
/*! exports provided: switchMap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "switchMap", function() { return switchMap; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _map__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./map */ "./node_modules/rxjs/_esm5/internal/operators/map.js");
/* harmony import */ var _observable_from__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../observable/from */ "./node_modules/rxjs/_esm5/internal/observable/from.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_map,_observable_from,_innerSubscribe PURE_IMPORTS_END */




function switchMap(project, resultSelector) {
    if (typeof resultSelector === 'function') {
        return function (source) { return source.pipe(switchMap(function (a, i) { return Object(_observable_from__WEBPACK_IMPORTED_MODULE_2__["from"])(project(a, i)).pipe(Object(_map__WEBPACK_IMPORTED_MODULE_1__["map"])(function (b, ii) { return resultSelector(a, b, i, ii); })); })); };
    }
    return function (source) { return source.lift(new SwitchMapOperator(project)); };
}
var SwitchMapOperator = /*@__PURE__*/ (function () {
    function SwitchMapOperator(project) {
        this.project = project;
    }
    SwitchMapOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new SwitchMapSubscriber(subscriber, this.project));
    };
    return SwitchMapOperator;
}());
var SwitchMapSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SwitchMapSubscriber, _super);
    function SwitchMapSubscriber(destination, project) {
        var _this = _super.call(this, destination) || this;
        _this.project = project;
        _this.index = 0;
        return _this;
    }
    SwitchMapSubscriber.prototype._next = function (value) {
        var result;
        var index = this.index++;
        try {
            result = this.project(value, index);
        }
        catch (error) {
            this.destination.error(error);
            return;
        }
        this._innerSub(result);
    };
    SwitchMapSubscriber.prototype._innerSub = function (result) {
        var innerSubscription = this.innerSubscription;
        if (innerSubscription) {
            innerSubscription.unsubscribe();
        }
        var innerSubscriber = new _innerSubscribe__WEBPACK_IMPORTED_MODULE_3__["SimpleInnerSubscriber"](this);
        var destination = this.destination;
        destination.add(innerSubscriber);
        this.innerSubscription = Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_3__["innerSubscribe"])(result, innerSubscriber);
        if (this.innerSubscription !== innerSubscriber) {
            destination.add(this.innerSubscription);
        }
    };
    SwitchMapSubscriber.prototype._complete = function () {
        var innerSubscription = this.innerSubscription;
        if (!innerSubscription || innerSubscription.closed) {
            _super.prototype._complete.call(this);
        }
        this.unsubscribe();
    };
    SwitchMapSubscriber.prototype._unsubscribe = function () {
        this.innerSubscription = undefined;
    };
    SwitchMapSubscriber.prototype.notifyComplete = function () {
        this.innerSubscription = undefined;
        if (this.isStopped) {
            _super.prototype._complete.call(this);
        }
    };
    SwitchMapSubscriber.prototype.notifyNext = function (innerValue) {
        this.destination.next(innerValue);
    };
    return SwitchMapSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_3__["SimpleOuterSubscriber"]));
//# sourceMappingURL=switchMap.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/switchMapTo.js":
/*!*******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/switchMapTo.js ***!
  \*******************************************************************/
/*! exports provided: switchMapTo */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "switchMapTo", function() { return switchMapTo; });
/* harmony import */ var _switchMap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./switchMap */ "./node_modules/rxjs/_esm5/internal/operators/switchMap.js");
/** PURE_IMPORTS_START _switchMap PURE_IMPORTS_END */

function switchMapTo(innerObservable, resultSelector) {
    return resultSelector ? Object(_switchMap__WEBPACK_IMPORTED_MODULE_0__["switchMap"])(function () { return innerObservable; }, resultSelector) : Object(_switchMap__WEBPACK_IMPORTED_MODULE_0__["switchMap"])(function () { return innerObservable; });
}
//# sourceMappingURL=switchMapTo.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/take.js":
/*!************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/take.js ***!
  \************************************************************/
/*! exports provided: take */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "take", function() { return take; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _util_ArgumentOutOfRangeError__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/ArgumentOutOfRangeError */ "./node_modules/rxjs/_esm5/internal/util/ArgumentOutOfRangeError.js");
/* harmony import */ var _observable_empty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../observable/empty */ "./node_modules/rxjs/_esm5/internal/observable/empty.js");
/** PURE_IMPORTS_START tslib,_Subscriber,_util_ArgumentOutOfRangeError,_observable_empty PURE_IMPORTS_END */




function take(count) {
    return function (source) {
        if (count === 0) {
            return Object(_observable_empty__WEBPACK_IMPORTED_MODULE_3__["empty"])();
        }
        else {
            return source.lift(new TakeOperator(count));
        }
    };
}
var TakeOperator = /*@__PURE__*/ (function () {
    function TakeOperator(total) {
        this.total = total;
        if (this.total < 0) {
            throw new _util_ArgumentOutOfRangeError__WEBPACK_IMPORTED_MODULE_2__["ArgumentOutOfRangeError"];
        }
    }
    TakeOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new TakeSubscriber(subscriber, this.total));
    };
    return TakeOperator;
}());
var TakeSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](TakeSubscriber, _super);
    function TakeSubscriber(destination, total) {
        var _this = _super.call(this, destination) || this;
        _this.total = total;
        _this.count = 0;
        return _this;
    }
    TakeSubscriber.prototype._next = function (value) {
        var total = this.total;
        var count = ++this.count;
        if (count <= total) {
            this.destination.next(value);
            if (count === total) {
                this.destination.complete();
                this.unsubscribe();
            }
        }
    };
    return TakeSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=take.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/takeLast.js":
/*!****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/takeLast.js ***!
  \****************************************************************/
/*! exports provided: takeLast */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "takeLast", function() { return takeLast; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _util_ArgumentOutOfRangeError__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/ArgumentOutOfRangeError */ "./node_modules/rxjs/_esm5/internal/util/ArgumentOutOfRangeError.js");
/* harmony import */ var _observable_empty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../observable/empty */ "./node_modules/rxjs/_esm5/internal/observable/empty.js");
/** PURE_IMPORTS_START tslib,_Subscriber,_util_ArgumentOutOfRangeError,_observable_empty PURE_IMPORTS_END */




function takeLast(count) {
    return function takeLastOperatorFunction(source) {
        if (count === 0) {
            return Object(_observable_empty__WEBPACK_IMPORTED_MODULE_3__["empty"])();
        }
        else {
            return source.lift(new TakeLastOperator(count));
        }
    };
}
var TakeLastOperator = /*@__PURE__*/ (function () {
    function TakeLastOperator(total) {
        this.total = total;
        if (this.total < 0) {
            throw new _util_ArgumentOutOfRangeError__WEBPACK_IMPORTED_MODULE_2__["ArgumentOutOfRangeError"];
        }
    }
    TakeLastOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new TakeLastSubscriber(subscriber, this.total));
    };
    return TakeLastOperator;
}());
var TakeLastSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](TakeLastSubscriber, _super);
    function TakeLastSubscriber(destination, total) {
        var _this = _super.call(this, destination) || this;
        _this.total = total;
        _this.ring = new Array();
        _this.count = 0;
        return _this;
    }
    TakeLastSubscriber.prototype._next = function (value) {
        var ring = this.ring;
        var total = this.total;
        var count = this.count++;
        if (ring.length < total) {
            ring.push(value);
        }
        else {
            var index = count % total;
            ring[index] = value;
        }
    };
    TakeLastSubscriber.prototype._complete = function () {
        var destination = this.destination;
        var count = this.count;
        if (count > 0) {
            var total = this.count >= this.total ? this.total : this.count;
            var ring = this.ring;
            for (var i = 0; i < total; i++) {
                var idx = (count++) % total;
                destination.next(ring[idx]);
            }
        }
        destination.complete();
    };
    return TakeLastSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=takeLast.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/takeUntil.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/takeUntil.js ***!
  \*****************************************************************/
/*! exports provided: takeUntil */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "takeUntil", function() { return takeUntil; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */


function takeUntil(notifier) {
    return function (source) { return source.lift(new TakeUntilOperator(notifier)); };
}
var TakeUntilOperator = /*@__PURE__*/ (function () {
    function TakeUntilOperator(notifier) {
        this.notifier = notifier;
    }
    TakeUntilOperator.prototype.call = function (subscriber, source) {
        var takeUntilSubscriber = new TakeUntilSubscriber(subscriber);
        var notifierSubscription = Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["innerSubscribe"])(this.notifier, new _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleInnerSubscriber"](takeUntilSubscriber));
        if (notifierSubscription && !takeUntilSubscriber.seenValue) {
            takeUntilSubscriber.add(notifierSubscription);
            return source.subscribe(takeUntilSubscriber);
        }
        return takeUntilSubscriber;
    };
    return TakeUntilOperator;
}());
var TakeUntilSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](TakeUntilSubscriber, _super);
    function TakeUntilSubscriber(destination) {
        var _this = _super.call(this, destination) || this;
        _this.seenValue = false;
        return _this;
    }
    TakeUntilSubscriber.prototype.notifyNext = function () {
        this.seenValue = true;
        this.complete();
    };
    TakeUntilSubscriber.prototype.notifyComplete = function () {
    };
    return TakeUntilSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleOuterSubscriber"]));
//# sourceMappingURL=takeUntil.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/takeWhile.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/takeWhile.js ***!
  \*****************************************************************/
/*! exports provided: takeWhile */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "takeWhile", function() { return takeWhile; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */


function takeWhile(predicate, inclusive) {
    if (inclusive === void 0) {
        inclusive = false;
    }
    return function (source) {
        return source.lift(new TakeWhileOperator(predicate, inclusive));
    };
}
var TakeWhileOperator = /*@__PURE__*/ (function () {
    function TakeWhileOperator(predicate, inclusive) {
        this.predicate = predicate;
        this.inclusive = inclusive;
    }
    TakeWhileOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new TakeWhileSubscriber(subscriber, this.predicate, this.inclusive));
    };
    return TakeWhileOperator;
}());
var TakeWhileSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](TakeWhileSubscriber, _super);
    function TakeWhileSubscriber(destination, predicate, inclusive) {
        var _this = _super.call(this, destination) || this;
        _this.predicate = predicate;
        _this.inclusive = inclusive;
        _this.index = 0;
        return _this;
    }
    TakeWhileSubscriber.prototype._next = function (value) {
        var destination = this.destination;
        var result;
        try {
            result = this.predicate(value, this.index++);
        }
        catch (err) {
            destination.error(err);
            return;
        }
        this.nextOrComplete(value, result);
    };
    TakeWhileSubscriber.prototype.nextOrComplete = function (value, predicateResult) {
        var destination = this.destination;
        if (Boolean(predicateResult)) {
            destination.next(value);
        }
        else {
            if (this.inclusive) {
                destination.next(value);
            }
            destination.complete();
        }
    };
    return TakeWhileSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=takeWhile.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/tap.js":
/*!***********************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/tap.js ***!
  \***********************************************************/
/*! exports provided: tap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "tap", function() { return tap; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _util_noop__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/noop */ "./node_modules/rxjs/_esm5/internal/util/noop.js");
/* harmony import */ var _util_isFunction__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/isFunction */ "./node_modules/rxjs/_esm5/internal/util/isFunction.js");
/** PURE_IMPORTS_START tslib,_Subscriber,_util_noop,_util_isFunction PURE_IMPORTS_END */




function tap(nextOrObserver, error, complete) {
    return function tapOperatorFunction(source) {
        return source.lift(new DoOperator(nextOrObserver, error, complete));
    };
}
var DoOperator = /*@__PURE__*/ (function () {
    function DoOperator(nextOrObserver, error, complete) {
        this.nextOrObserver = nextOrObserver;
        this.error = error;
        this.complete = complete;
    }
    DoOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new TapSubscriber(subscriber, this.nextOrObserver, this.error, this.complete));
    };
    return DoOperator;
}());
var TapSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](TapSubscriber, _super);
    function TapSubscriber(destination, observerOrNext, error, complete) {
        var _this = _super.call(this, destination) || this;
        _this._tapNext = _util_noop__WEBPACK_IMPORTED_MODULE_2__["noop"];
        _this._tapError = _util_noop__WEBPACK_IMPORTED_MODULE_2__["noop"];
        _this._tapComplete = _util_noop__WEBPACK_IMPORTED_MODULE_2__["noop"];
        _this._tapError = error || _util_noop__WEBPACK_IMPORTED_MODULE_2__["noop"];
        _this._tapComplete = complete || _util_noop__WEBPACK_IMPORTED_MODULE_2__["noop"];
        if (Object(_util_isFunction__WEBPACK_IMPORTED_MODULE_3__["isFunction"])(observerOrNext)) {
            _this._context = _this;
            _this._tapNext = observerOrNext;
        }
        else if (observerOrNext) {
            _this._context = observerOrNext;
            _this._tapNext = observerOrNext.next || _util_noop__WEBPACK_IMPORTED_MODULE_2__["noop"];
            _this._tapError = observerOrNext.error || _util_noop__WEBPACK_IMPORTED_MODULE_2__["noop"];
            _this._tapComplete = observerOrNext.complete || _util_noop__WEBPACK_IMPORTED_MODULE_2__["noop"];
        }
        return _this;
    }
    TapSubscriber.prototype._next = function (value) {
        try {
            this._tapNext.call(this._context, value);
        }
        catch (err) {
            this.destination.error(err);
            return;
        }
        this.destination.next(value);
    };
    TapSubscriber.prototype._error = function (err) {
        try {
            this._tapError.call(this._context, err);
        }
        catch (err) {
            this.destination.error(err);
            return;
        }
        this.destination.error(err);
    };
    TapSubscriber.prototype._complete = function () {
        try {
            this._tapComplete.call(this._context);
        }
        catch (err) {
            this.destination.error(err);
            return;
        }
        return this.destination.complete();
    };
    return TapSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=tap.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/throttle.js":
/*!****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/throttle.js ***!
  \****************************************************************/
/*! exports provided: defaultThrottleConfig, throttle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "defaultThrottleConfig", function() { return defaultThrottleConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "throttle", function() { return throttle; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */


var defaultThrottleConfig = {
    leading: true,
    trailing: false
};
function throttle(durationSelector, config) {
    if (config === void 0) {
        config = defaultThrottleConfig;
    }
    return function (source) { return source.lift(new ThrottleOperator(durationSelector, !!config.leading, !!config.trailing)); };
}
var ThrottleOperator = /*@__PURE__*/ (function () {
    function ThrottleOperator(durationSelector, leading, trailing) {
        this.durationSelector = durationSelector;
        this.leading = leading;
        this.trailing = trailing;
    }
    ThrottleOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new ThrottleSubscriber(subscriber, this.durationSelector, this.leading, this.trailing));
    };
    return ThrottleOperator;
}());
var ThrottleSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ThrottleSubscriber, _super);
    function ThrottleSubscriber(destination, durationSelector, _leading, _trailing) {
        var _this = _super.call(this, destination) || this;
        _this.destination = destination;
        _this.durationSelector = durationSelector;
        _this._leading = _leading;
        _this._trailing = _trailing;
        _this._hasValue = false;
        return _this;
    }
    ThrottleSubscriber.prototype._next = function (value) {
        this._hasValue = true;
        this._sendValue = value;
        if (!this._throttled) {
            if (this._leading) {
                this.send();
            }
            else {
                this.throttle(value);
            }
        }
    };
    ThrottleSubscriber.prototype.send = function () {
        var _a = this, _hasValue = _a._hasValue, _sendValue = _a._sendValue;
        if (_hasValue) {
            this.destination.next(_sendValue);
            this.throttle(_sendValue);
        }
        this._hasValue = false;
        this._sendValue = undefined;
    };
    ThrottleSubscriber.prototype.throttle = function (value) {
        var duration = this.tryDurationSelector(value);
        if (!!duration) {
            this.add(this._throttled = Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["innerSubscribe"])(duration, new _innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleInnerSubscriber"](this)));
        }
    };
    ThrottleSubscriber.prototype.tryDurationSelector = function (value) {
        try {
            return this.durationSelector(value);
        }
        catch (err) {
            this.destination.error(err);
            return null;
        }
    };
    ThrottleSubscriber.prototype.throttlingDone = function () {
        var _a = this, _throttled = _a._throttled, _trailing = _a._trailing;
        if (_throttled) {
            _throttled.unsubscribe();
        }
        this._throttled = undefined;
        if (_trailing) {
            this.send();
        }
    };
    ThrottleSubscriber.prototype.notifyNext = function () {
        this.throttlingDone();
    };
    ThrottleSubscriber.prototype.notifyComplete = function () {
        this.throttlingDone();
    };
    return ThrottleSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_1__["SimpleOuterSubscriber"]));
//# sourceMappingURL=throttle.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/throttleTime.js":
/*!********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/throttleTime.js ***!
  \********************************************************************/
/*! exports provided: throttleTime */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "throttleTime", function() { return throttleTime; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _scheduler_async__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../scheduler/async */ "./node_modules/rxjs/_esm5/internal/scheduler/async.js");
/* harmony import */ var _throttle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./throttle */ "./node_modules/rxjs/_esm5/internal/operators/throttle.js");
/** PURE_IMPORTS_START tslib,_Subscriber,_scheduler_async,_throttle PURE_IMPORTS_END */




function throttleTime(duration, scheduler, config) {
    if (scheduler === void 0) {
        scheduler = _scheduler_async__WEBPACK_IMPORTED_MODULE_2__["async"];
    }
    if (config === void 0) {
        config = _throttle__WEBPACK_IMPORTED_MODULE_3__["defaultThrottleConfig"];
    }
    return function (source) { return source.lift(new ThrottleTimeOperator(duration, scheduler, config.leading, config.trailing)); };
}
var ThrottleTimeOperator = /*@__PURE__*/ (function () {
    function ThrottleTimeOperator(duration, scheduler, leading, trailing) {
        this.duration = duration;
        this.scheduler = scheduler;
        this.leading = leading;
        this.trailing = trailing;
    }
    ThrottleTimeOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new ThrottleTimeSubscriber(subscriber, this.duration, this.scheduler, this.leading, this.trailing));
    };
    return ThrottleTimeOperator;
}());
var ThrottleTimeSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ThrottleTimeSubscriber, _super);
    function ThrottleTimeSubscriber(destination, duration, scheduler, leading, trailing) {
        var _this = _super.call(this, destination) || this;
        _this.duration = duration;
        _this.scheduler = scheduler;
        _this.leading = leading;
        _this.trailing = trailing;
        _this._hasTrailingValue = false;
        _this._trailingValue = null;
        return _this;
    }
    ThrottleTimeSubscriber.prototype._next = function (value) {
        if (this.throttled) {
            if (this.trailing) {
                this._trailingValue = value;
                this._hasTrailingValue = true;
            }
        }
        else {
            this.add(this.throttled = this.scheduler.schedule(dispatchNext, this.duration, { subscriber: this }));
            if (this.leading) {
                this.destination.next(value);
            }
            else if (this.trailing) {
                this._trailingValue = value;
                this._hasTrailingValue = true;
            }
        }
    };
    ThrottleTimeSubscriber.prototype._complete = function () {
        if (this._hasTrailingValue) {
            this.destination.next(this._trailingValue);
            this.destination.complete();
        }
        else {
            this.destination.complete();
        }
    };
    ThrottleTimeSubscriber.prototype.clearThrottle = function () {
        var throttled = this.throttled;
        if (throttled) {
            if (this.trailing && this._hasTrailingValue) {
                this.destination.next(this._trailingValue);
                this._trailingValue = null;
                this._hasTrailingValue = false;
            }
            throttled.unsubscribe();
            this.remove(throttled);
            this.throttled = null;
        }
    };
    return ThrottleTimeSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
function dispatchNext(arg) {
    var subscriber = arg.subscriber;
    subscriber.clearThrottle();
}
//# sourceMappingURL=throttleTime.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/throwIfEmpty.js":
/*!********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/throwIfEmpty.js ***!
  \********************************************************************/
/*! exports provided: throwIfEmpty */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "throwIfEmpty", function() { return throwIfEmpty; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _util_EmptyError__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/EmptyError */ "./node_modules/rxjs/_esm5/internal/util/EmptyError.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START tslib,_util_EmptyError,_Subscriber PURE_IMPORTS_END */



function throwIfEmpty(errorFactory) {
    if (errorFactory === void 0) {
        errorFactory = defaultErrorFactory;
    }
    return function (source) {
        return source.lift(new ThrowIfEmptyOperator(errorFactory));
    };
}
var ThrowIfEmptyOperator = /*@__PURE__*/ (function () {
    function ThrowIfEmptyOperator(errorFactory) {
        this.errorFactory = errorFactory;
    }
    ThrowIfEmptyOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new ThrowIfEmptySubscriber(subscriber, this.errorFactory));
    };
    return ThrowIfEmptyOperator;
}());
var ThrowIfEmptySubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ThrowIfEmptySubscriber, _super);
    function ThrowIfEmptySubscriber(destination, errorFactory) {
        var _this = _super.call(this, destination) || this;
        _this.errorFactory = errorFactory;
        _this.hasValue = false;
        return _this;
    }
    ThrowIfEmptySubscriber.prototype._next = function (value) {
        this.hasValue = true;
        this.destination.next(value);
    };
    ThrowIfEmptySubscriber.prototype._complete = function () {
        if (!this.hasValue) {
            var err = void 0;
            try {
                err = this.errorFactory();
            }
            catch (e) {
                err = e;
            }
            this.destination.error(err);
        }
        else {
            return this.destination.complete();
        }
    };
    return ThrowIfEmptySubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_2__["Subscriber"]));
function defaultErrorFactory() {
    return new _util_EmptyError__WEBPACK_IMPORTED_MODULE_1__["EmptyError"]();
}
//# sourceMappingURL=throwIfEmpty.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/timeInterval.js":
/*!********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/timeInterval.js ***!
  \********************************************************************/
/*! exports provided: timeInterval, TimeInterval */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "timeInterval", function() { return timeInterval; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TimeInterval", function() { return TimeInterval; });
/* harmony import */ var _scheduler_async__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../scheduler/async */ "./node_modules/rxjs/_esm5/internal/scheduler/async.js");
/* harmony import */ var _scan__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./scan */ "./node_modules/rxjs/_esm5/internal/operators/scan.js");
/* harmony import */ var _observable_defer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../observable/defer */ "./node_modules/rxjs/_esm5/internal/observable/defer.js");
/* harmony import */ var _map__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./map */ "./node_modules/rxjs/_esm5/internal/operators/map.js");
/** PURE_IMPORTS_START _scheduler_async,_scan,_observable_defer,_map PURE_IMPORTS_END */




function timeInterval(scheduler) {
    if (scheduler === void 0) {
        scheduler = _scheduler_async__WEBPACK_IMPORTED_MODULE_0__["async"];
    }
    return function (source) {
        return Object(_observable_defer__WEBPACK_IMPORTED_MODULE_2__["defer"])(function () {
            return source.pipe(Object(_scan__WEBPACK_IMPORTED_MODULE_1__["scan"])(function (_a, value) {
                var current = _a.current;
                return ({ value: value, current: scheduler.now(), last: current });
            }, { current: scheduler.now(), value: undefined, last: undefined }), Object(_map__WEBPACK_IMPORTED_MODULE_3__["map"])(function (_a) {
                var current = _a.current, last = _a.last, value = _a.value;
                return new TimeInterval(value, current - last);
            }));
        });
    };
}
var TimeInterval = /*@__PURE__*/ (function () {
    function TimeInterval(value, interval) {
        this.value = value;
        this.interval = interval;
    }
    return TimeInterval;
}());

//# sourceMappingURL=timeInterval.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/timeout.js":
/*!***************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/timeout.js ***!
  \***************************************************************/
/*! exports provided: timeout */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "timeout", function() { return timeout; });
/* harmony import */ var _scheduler_async__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../scheduler/async */ "./node_modules/rxjs/_esm5/internal/scheduler/async.js");
/* harmony import */ var _util_TimeoutError__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/TimeoutError */ "./node_modules/rxjs/_esm5/internal/util/TimeoutError.js");
/* harmony import */ var _timeoutWith__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./timeoutWith */ "./node_modules/rxjs/_esm5/internal/operators/timeoutWith.js");
/* harmony import */ var _observable_throwError__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../observable/throwError */ "./node_modules/rxjs/_esm5/internal/observable/throwError.js");
/** PURE_IMPORTS_START _scheduler_async,_util_TimeoutError,_timeoutWith,_observable_throwError PURE_IMPORTS_END */




function timeout(due, scheduler) {
    if (scheduler === void 0) {
        scheduler = _scheduler_async__WEBPACK_IMPORTED_MODULE_0__["async"];
    }
    return Object(_timeoutWith__WEBPACK_IMPORTED_MODULE_2__["timeoutWith"])(due, Object(_observable_throwError__WEBPACK_IMPORTED_MODULE_3__["throwError"])(new _util_TimeoutError__WEBPACK_IMPORTED_MODULE_1__["TimeoutError"]()), scheduler);
}
//# sourceMappingURL=timeout.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/timeoutWith.js":
/*!*******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/timeoutWith.js ***!
  \*******************************************************************/
/*! exports provided: timeoutWith */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "timeoutWith", function() { return timeoutWith; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _scheduler_async__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../scheduler/async */ "./node_modules/rxjs/_esm5/internal/scheduler/async.js");
/* harmony import */ var _util_isDate__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/isDate */ "./node_modules/rxjs/_esm5/internal/util/isDate.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_scheduler_async,_util_isDate,_innerSubscribe PURE_IMPORTS_END */




function timeoutWith(due, withObservable, scheduler) {
    if (scheduler === void 0) {
        scheduler = _scheduler_async__WEBPACK_IMPORTED_MODULE_1__["async"];
    }
    return function (source) {
        var absoluteTimeout = Object(_util_isDate__WEBPACK_IMPORTED_MODULE_2__["isDate"])(due);
        var waitFor = absoluteTimeout ? (+due - scheduler.now()) : Math.abs(due);
        return source.lift(new TimeoutWithOperator(waitFor, absoluteTimeout, withObservable, scheduler));
    };
}
var TimeoutWithOperator = /*@__PURE__*/ (function () {
    function TimeoutWithOperator(waitFor, absoluteTimeout, withObservable, scheduler) {
        this.waitFor = waitFor;
        this.absoluteTimeout = absoluteTimeout;
        this.withObservable = withObservable;
        this.scheduler = scheduler;
    }
    TimeoutWithOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new TimeoutWithSubscriber(subscriber, this.absoluteTimeout, this.waitFor, this.withObservable, this.scheduler));
    };
    return TimeoutWithOperator;
}());
var TimeoutWithSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](TimeoutWithSubscriber, _super);
    function TimeoutWithSubscriber(destination, absoluteTimeout, waitFor, withObservable, scheduler) {
        var _this = _super.call(this, destination) || this;
        _this.absoluteTimeout = absoluteTimeout;
        _this.waitFor = waitFor;
        _this.withObservable = withObservable;
        _this.scheduler = scheduler;
        _this.scheduleTimeout();
        return _this;
    }
    TimeoutWithSubscriber.dispatchTimeout = function (subscriber) {
        var withObservable = subscriber.withObservable;
        subscriber._unsubscribeAndRecycle();
        subscriber.add(Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_3__["innerSubscribe"])(withObservable, new _innerSubscribe__WEBPACK_IMPORTED_MODULE_3__["SimpleInnerSubscriber"](subscriber)));
    };
    TimeoutWithSubscriber.prototype.scheduleTimeout = function () {
        var action = this.action;
        if (action) {
            this.action = action.schedule(this, this.waitFor);
        }
        else {
            this.add(this.action = this.scheduler.schedule(TimeoutWithSubscriber.dispatchTimeout, this.waitFor, this));
        }
    };
    TimeoutWithSubscriber.prototype._next = function (value) {
        if (!this.absoluteTimeout) {
            this.scheduleTimeout();
        }
        _super.prototype._next.call(this, value);
    };
    TimeoutWithSubscriber.prototype._unsubscribe = function () {
        this.action = undefined;
        this.scheduler = null;
        this.withObservable = null;
    };
    return TimeoutWithSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_3__["SimpleOuterSubscriber"]));
//# sourceMappingURL=timeoutWith.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/timestamp.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/timestamp.js ***!
  \*****************************************************************/
/*! exports provided: timestamp, Timestamp */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "timestamp", function() { return timestamp; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Timestamp", function() { return Timestamp; });
/* harmony import */ var _scheduler_async__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../scheduler/async */ "./node_modules/rxjs/_esm5/internal/scheduler/async.js");
/* harmony import */ var _map__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./map */ "./node_modules/rxjs/_esm5/internal/operators/map.js");
/** PURE_IMPORTS_START _scheduler_async,_map PURE_IMPORTS_END */


function timestamp(scheduler) {
    if (scheduler === void 0) {
        scheduler = _scheduler_async__WEBPACK_IMPORTED_MODULE_0__["async"];
    }
    return Object(_map__WEBPACK_IMPORTED_MODULE_1__["map"])(function (value) { return new Timestamp(value, scheduler.now()); });
}
var Timestamp = /*@__PURE__*/ (function () {
    function Timestamp(value, timestamp) {
        this.value = value;
        this.timestamp = timestamp;
    }
    return Timestamp;
}());

//# sourceMappingURL=timestamp.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/toArray.js":
/*!***************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/toArray.js ***!
  \***************************************************************/
/*! exports provided: toArray */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toArray", function() { return toArray; });
/* harmony import */ var _reduce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./reduce */ "./node_modules/rxjs/_esm5/internal/operators/reduce.js");
/** PURE_IMPORTS_START _reduce PURE_IMPORTS_END */

function toArrayReducer(arr, item, index) {
    if (index === 0) {
        return [item];
    }
    arr.push(item);
    return arr;
}
function toArray() {
    return Object(_reduce__WEBPACK_IMPORTED_MODULE_0__["reduce"])(toArrayReducer, []);
}
//# sourceMappingURL=toArray.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/window.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/window.js ***!
  \**************************************************************/
/*! exports provided: window */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "window", function() { return window; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subject */ "./node_modules/rxjs/_esm5/internal/Subject.js");
/* harmony import */ var _innerSubscribe__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../innerSubscribe */ "./node_modules/rxjs/_esm5/internal/innerSubscribe.js");
/** PURE_IMPORTS_START tslib,_Subject,_innerSubscribe PURE_IMPORTS_END */



function window(windowBoundaries) {
    return function windowOperatorFunction(source) {
        return source.lift(new WindowOperator(windowBoundaries));
    };
}
var WindowOperator = /*@__PURE__*/ (function () {
    function WindowOperator(windowBoundaries) {
        this.windowBoundaries = windowBoundaries;
    }
    WindowOperator.prototype.call = function (subscriber, source) {
        var windowSubscriber = new WindowSubscriber(subscriber);
        var sourceSubscription = source.subscribe(windowSubscriber);
        if (!sourceSubscription.closed) {
            windowSubscriber.add(Object(_innerSubscribe__WEBPACK_IMPORTED_MODULE_2__["innerSubscribe"])(this.windowBoundaries, new _innerSubscribe__WEBPACK_IMPORTED_MODULE_2__["SimpleInnerSubscriber"](windowSubscriber)));
        }
        return sourceSubscription;
    };
    return WindowOperator;
}());
var WindowSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](WindowSubscriber, _super);
    function WindowSubscriber(destination) {
        var _this = _super.call(this, destination) || this;
        _this.window = new _Subject__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        destination.next(_this.window);
        return _this;
    }
    WindowSubscriber.prototype.notifyNext = function () {
        this.openWindow();
    };
    WindowSubscriber.prototype.notifyError = function (error) {
        this._error(error);
    };
    WindowSubscriber.prototype.notifyComplete = function () {
        this._complete();
    };
    WindowSubscriber.prototype._next = function (value) {
        this.window.next(value);
    };
    WindowSubscriber.prototype._error = function (err) {
        this.window.error(err);
        this.destination.error(err);
    };
    WindowSubscriber.prototype._complete = function () {
        this.window.complete();
        this.destination.complete();
    };
    WindowSubscriber.prototype._unsubscribe = function () {
        this.window = null;
    };
    WindowSubscriber.prototype.openWindow = function () {
        var prevWindow = this.window;
        if (prevWindow) {
            prevWindow.complete();
        }
        var destination = this.destination;
        var newWindow = this.window = new _Subject__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        destination.next(newWindow);
    };
    return WindowSubscriber;
}(_innerSubscribe__WEBPACK_IMPORTED_MODULE_2__["SimpleOuterSubscriber"]));
//# sourceMappingURL=window.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/windowCount.js":
/*!*******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/windowCount.js ***!
  \*******************************************************************/
/*! exports provided: windowCount */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "windowCount", function() { return windowCount; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _Subject__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Subject */ "./node_modules/rxjs/_esm5/internal/Subject.js");
/** PURE_IMPORTS_START tslib,_Subscriber,_Subject PURE_IMPORTS_END */



function windowCount(windowSize, startWindowEvery) {
    if (startWindowEvery === void 0) {
        startWindowEvery = 0;
    }
    return function windowCountOperatorFunction(source) {
        return source.lift(new WindowCountOperator(windowSize, startWindowEvery));
    };
}
var WindowCountOperator = /*@__PURE__*/ (function () {
    function WindowCountOperator(windowSize, startWindowEvery) {
        this.windowSize = windowSize;
        this.startWindowEvery = startWindowEvery;
    }
    WindowCountOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new WindowCountSubscriber(subscriber, this.windowSize, this.startWindowEvery));
    };
    return WindowCountOperator;
}());
var WindowCountSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](WindowCountSubscriber, _super);
    function WindowCountSubscriber(destination, windowSize, startWindowEvery) {
        var _this = _super.call(this, destination) || this;
        _this.destination = destination;
        _this.windowSize = windowSize;
        _this.startWindowEvery = startWindowEvery;
        _this.windows = [new _Subject__WEBPACK_IMPORTED_MODULE_2__["Subject"]()];
        _this.count = 0;
        destination.next(_this.windows[0]);
        return _this;
    }
    WindowCountSubscriber.prototype._next = function (value) {
        var startWindowEvery = (this.startWindowEvery > 0) ? this.startWindowEvery : this.windowSize;
        var destination = this.destination;
        var windowSize = this.windowSize;
        var windows = this.windows;
        var len = windows.length;
        for (var i = 0; i < len && !this.closed; i++) {
            windows[i].next(value);
        }
        var c = this.count - windowSize + 1;
        if (c >= 0 && c % startWindowEvery === 0 && !this.closed) {
            windows.shift().complete();
        }
        if (++this.count % startWindowEvery === 0 && !this.closed) {
            var window_1 = new _Subject__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
            windows.push(window_1);
            destination.next(window_1);
        }
    };
    WindowCountSubscriber.prototype._error = function (err) {
        var windows = this.windows;
        if (windows) {
            while (windows.length > 0 && !this.closed) {
                windows.shift().error(err);
            }
        }
        this.destination.error(err);
    };
    WindowCountSubscriber.prototype._complete = function () {
        var windows = this.windows;
        if (windows) {
            while (windows.length > 0 && !this.closed) {
                windows.shift().complete();
            }
        }
        this.destination.complete();
    };
    WindowCountSubscriber.prototype._unsubscribe = function () {
        this.count = 0;
        this.windows = null;
    };
    return WindowCountSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_1__["Subscriber"]));
//# sourceMappingURL=windowCount.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/windowTime.js":
/*!******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/windowTime.js ***!
  \******************************************************************/
/*! exports provided: windowTime */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "windowTime", function() { return windowTime; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subject */ "./node_modules/rxjs/_esm5/internal/Subject.js");
/* harmony import */ var _scheduler_async__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../scheduler/async */ "./node_modules/rxjs/_esm5/internal/scheduler/async.js");
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _util_isNumeric__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/isNumeric */ "./node_modules/rxjs/_esm5/internal/util/isNumeric.js");
/* harmony import */ var _util_isScheduler__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/isScheduler */ "./node_modules/rxjs/_esm5/internal/util/isScheduler.js");
/** PURE_IMPORTS_START tslib,_Subject,_scheduler_async,_Subscriber,_util_isNumeric,_util_isScheduler PURE_IMPORTS_END */






function windowTime(windowTimeSpan) {
    var scheduler = _scheduler_async__WEBPACK_IMPORTED_MODULE_2__["async"];
    var windowCreationInterval = null;
    var maxWindowSize = Number.POSITIVE_INFINITY;
    if (Object(_util_isScheduler__WEBPACK_IMPORTED_MODULE_5__["isScheduler"])(arguments[3])) {
        scheduler = arguments[3];
    }
    if (Object(_util_isScheduler__WEBPACK_IMPORTED_MODULE_5__["isScheduler"])(arguments[2])) {
        scheduler = arguments[2];
    }
    else if (Object(_util_isNumeric__WEBPACK_IMPORTED_MODULE_4__["isNumeric"])(arguments[2])) {
        maxWindowSize = Number(arguments[2]);
    }
    if (Object(_util_isScheduler__WEBPACK_IMPORTED_MODULE_5__["isScheduler"])(arguments[1])) {
        scheduler = arguments[1];
    }
    else if (Object(_util_isNumeric__WEBPACK_IMPORTED_MODULE_4__["isNumeric"])(arguments[1])) {
        windowCreationInterval = Number(arguments[1]);
    }
    return function windowTimeOperatorFunction(source) {
        return source.lift(new WindowTimeOperator(windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler));
    };
}
var WindowTimeOperator = /*@__PURE__*/ (function () {
    function WindowTimeOperator(windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler) {
        this.windowTimeSpan = windowTimeSpan;
        this.windowCreationInterval = windowCreationInterval;
        this.maxWindowSize = maxWindowSize;
        this.scheduler = scheduler;
    }
    WindowTimeOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new WindowTimeSubscriber(subscriber, this.windowTimeSpan, this.windowCreationInterval, this.maxWindowSize, this.scheduler));
    };
    return WindowTimeOperator;
}());
var CountedSubject = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](CountedSubject, _super);
    function CountedSubject() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._numberOfNextedValues = 0;
        return _this;
    }
    CountedSubject.prototype.next = function (value) {
        this._numberOfNextedValues++;
        _super.prototype.next.call(this, value);
    };
    Object.defineProperty(CountedSubject.prototype, "numberOfNextedValues", {
        get: function () {
            return this._numberOfNextedValues;
        },
        enumerable: true,
        configurable: true
    });
    return CountedSubject;
}(_Subject__WEBPACK_IMPORTED_MODULE_1__["Subject"]));
var WindowTimeSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](WindowTimeSubscriber, _super);
    function WindowTimeSubscriber(destination, windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler) {
        var _this = _super.call(this, destination) || this;
        _this.destination = destination;
        _this.windowTimeSpan = windowTimeSpan;
        _this.windowCreationInterval = windowCreationInterval;
        _this.maxWindowSize = maxWindowSize;
        _this.scheduler = scheduler;
        _this.windows = [];
        var window = _this.openWindow();
        if (windowCreationInterval !== null && windowCreationInterval >= 0) {
            var closeState = { subscriber: _this, window: window, context: null };
            var creationState = { windowTimeSpan: windowTimeSpan, windowCreationInterval: windowCreationInterval, subscriber: _this, scheduler: scheduler };
            _this.add(scheduler.schedule(dispatchWindowClose, windowTimeSpan, closeState));
            _this.add(scheduler.schedule(dispatchWindowCreation, windowCreationInterval, creationState));
        }
        else {
            var timeSpanOnlyState = { subscriber: _this, window: window, windowTimeSpan: windowTimeSpan };
            _this.add(scheduler.schedule(dispatchWindowTimeSpanOnly, windowTimeSpan, timeSpanOnlyState));
        }
        return _this;
    }
    WindowTimeSubscriber.prototype._next = function (value) {
        var windows = this.windows;
        var len = windows.length;
        for (var i = 0; i < len; i++) {
            var window_1 = windows[i];
            if (!window_1.closed) {
                window_1.next(value);
                if (window_1.numberOfNextedValues >= this.maxWindowSize) {
                    this.closeWindow(window_1);
                }
            }
        }
    };
    WindowTimeSubscriber.prototype._error = function (err) {
        var windows = this.windows;
        while (windows.length > 0) {
            windows.shift().error(err);
        }
        this.destination.error(err);
    };
    WindowTimeSubscriber.prototype._complete = function () {
        var windows = this.windows;
        while (windows.length > 0) {
            var window_2 = windows.shift();
            if (!window_2.closed) {
                window_2.complete();
            }
        }
        this.destination.complete();
    };
    WindowTimeSubscriber.prototype.openWindow = function () {
        var window = new CountedSubject();
        this.windows.push(window);
        var destination = this.destination;
        destination.next(window);
        return window;
    };
    WindowTimeSubscriber.prototype.closeWindow = function (window) {
        window.complete();
        var windows = this.windows;
        windows.splice(windows.indexOf(window), 1);
    };
    return WindowTimeSubscriber;
}(_Subscriber__WEBPACK_IMPORTED_MODULE_3__["Subscriber"]));
function dispatchWindowTimeSpanOnly(state) {
    var subscriber = state.subscriber, windowTimeSpan = state.windowTimeSpan, window = state.window;
    if (window) {
        subscriber.closeWindow(window);
    }
    state.window = subscriber.openWindow();
    this.schedule(state, windowTimeSpan);
}
function dispatchWindowCreation(state) {
    var windowTimeSpan = state.windowTimeSpan, subscriber = state.subscriber, scheduler = state.scheduler, windowCreationInterval = state.windowCreationInterval;
    var window = subscriber.openWindow();
    var action = this;
    var context = { action: action, subscription: null };
    var timeSpanState = { subscriber: subscriber, window: window, context: context };
    context.subscription = scheduler.schedule(dispatchWindowClose, windowTimeSpan, timeSpanState);
    action.add(context.subscription);
    action.schedule(state, windowCreationInterval);
}
function dispatchWindowClose(state) {
    var subscriber = state.subscriber, window = state.window, context = state.context;
    if (context && context.action && context.subscription) {
        context.action.remove(context.subscription);
    }
    subscriber.closeWindow(window);
}
//# sourceMappingURL=windowTime.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/windowToggle.js":
/*!********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/windowToggle.js ***!
  \********************************************************************/
/*! exports provided: windowToggle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "windowToggle", function() { return windowToggle; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subject */ "./node_modules/rxjs/_esm5/internal/Subject.js");
/* harmony import */ var _Subscription__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Subscription */ "./node_modules/rxjs/_esm5/internal/Subscription.js");
/* harmony import */ var _OuterSubscriber__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../OuterSubscriber */ "./node_modules/rxjs/_esm5/internal/OuterSubscriber.js");
/* harmony import */ var _util_subscribeToResult__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/subscribeToResult */ "./node_modules/rxjs/_esm5/internal/util/subscribeToResult.js");
/** PURE_IMPORTS_START tslib,_Subject,_Subscription,_OuterSubscriber,_util_subscribeToResult PURE_IMPORTS_END */





function windowToggle(openings, closingSelector) {
    return function (source) { return source.lift(new WindowToggleOperator(openings, closingSelector)); };
}
var WindowToggleOperator = /*@__PURE__*/ (function () {
    function WindowToggleOperator(openings, closingSelector) {
        this.openings = openings;
        this.closingSelector = closingSelector;
    }
    WindowToggleOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new WindowToggleSubscriber(subscriber, this.openings, this.closingSelector));
    };
    return WindowToggleOperator;
}());
var WindowToggleSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](WindowToggleSubscriber, _super);
    function WindowToggleSubscriber(destination, openings, closingSelector) {
        var _this = _super.call(this, destination) || this;
        _this.openings = openings;
        _this.closingSelector = closingSelector;
        _this.contexts = [];
        _this.add(_this.openSubscription = Object(_util_subscribeToResult__WEBPACK_IMPORTED_MODULE_4__["subscribeToResult"])(_this, openings, openings));
        return _this;
    }
    WindowToggleSubscriber.prototype._next = function (value) {
        var contexts = this.contexts;
        if (contexts) {
            var len = contexts.length;
            for (var i = 0; i < len; i++) {
                contexts[i].window.next(value);
            }
        }
    };
    WindowToggleSubscriber.prototype._error = function (err) {
        var contexts = this.contexts;
        this.contexts = null;
        if (contexts) {
            var len = contexts.length;
            var index = -1;
            while (++index < len) {
                var context_1 = contexts[index];
                context_1.window.error(err);
                context_1.subscription.unsubscribe();
            }
        }
        _super.prototype._error.call(this, err);
    };
    WindowToggleSubscriber.prototype._complete = function () {
        var contexts = this.contexts;
        this.contexts = null;
        if (contexts) {
            var len = contexts.length;
            var index = -1;
            while (++index < len) {
                var context_2 = contexts[index];
                context_2.window.complete();
                context_2.subscription.unsubscribe();
            }
        }
        _super.prototype._complete.call(this);
    };
    WindowToggleSubscriber.prototype._unsubscribe = function () {
        var contexts = this.contexts;
        this.contexts = null;
        if (contexts) {
            var len = contexts.length;
            var index = -1;
            while (++index < len) {
                var context_3 = contexts[index];
                context_3.window.unsubscribe();
                context_3.subscription.unsubscribe();
            }
        }
    };
    WindowToggleSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {
        if (outerValue === this.openings) {
            var closingNotifier = void 0;
            try {
                var closingSelector = this.closingSelector;
                closingNotifier = closingSelector(innerValue);
            }
            catch (e) {
                return this.error(e);
            }
            var window_1 = new _Subject__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
            var subscription = new _Subscription__WEBPACK_IMPORTED_MODULE_2__["Subscription"]();
            var context_4 = { window: window_1, subscription: subscription };
            this.contexts.push(context_4);
            var innerSubscription = Object(_util_subscribeToResult__WEBPACK_IMPORTED_MODULE_4__["subscribeToResult"])(this, closingNotifier, context_4);
            if (innerSubscription.closed) {
                this.closeWindow(this.contexts.length - 1);
            }
            else {
                innerSubscription.context = context_4;
                subscription.add(innerSubscription);
            }
            this.destination.next(window_1);
        }
        else {
            this.closeWindow(this.contexts.indexOf(outerValue));
        }
    };
    WindowToggleSubscriber.prototype.notifyError = function (err) {
        this.error(err);
    };
    WindowToggleSubscriber.prototype.notifyComplete = function (inner) {
        if (inner !== this.openSubscription) {
            this.closeWindow(this.contexts.indexOf(inner.context));
        }
    };
    WindowToggleSubscriber.prototype.closeWindow = function (index) {
        if (index === -1) {
            return;
        }
        var contexts = this.contexts;
        var context = contexts[index];
        var window = context.window, subscription = context.subscription;
        contexts.splice(index, 1);
        window.complete();
        subscription.unsubscribe();
    };
    return WindowToggleSubscriber;
}(_OuterSubscriber__WEBPACK_IMPORTED_MODULE_3__["OuterSubscriber"]));
//# sourceMappingURL=windowToggle.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/windowWhen.js":
/*!******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/windowWhen.js ***!
  \******************************************************************/
/*! exports provided: windowWhen */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "windowWhen", function() { return windowWhen; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subject */ "./node_modules/rxjs/_esm5/internal/Subject.js");
/* harmony import */ var _OuterSubscriber__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../OuterSubscriber */ "./node_modules/rxjs/_esm5/internal/OuterSubscriber.js");
/* harmony import */ var _util_subscribeToResult__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/subscribeToResult */ "./node_modules/rxjs/_esm5/internal/util/subscribeToResult.js");
/** PURE_IMPORTS_START tslib,_Subject,_OuterSubscriber,_util_subscribeToResult PURE_IMPORTS_END */




function windowWhen(closingSelector) {
    return function windowWhenOperatorFunction(source) {
        return source.lift(new WindowOperator(closingSelector));
    };
}
var WindowOperator = /*@__PURE__*/ (function () {
    function WindowOperator(closingSelector) {
        this.closingSelector = closingSelector;
    }
    WindowOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new WindowSubscriber(subscriber, this.closingSelector));
    };
    return WindowOperator;
}());
var WindowSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](WindowSubscriber, _super);
    function WindowSubscriber(destination, closingSelector) {
        var _this = _super.call(this, destination) || this;
        _this.destination = destination;
        _this.closingSelector = closingSelector;
        _this.openWindow();
        return _this;
    }
    WindowSubscriber.prototype.notifyNext = function (_outerValue, _innerValue, _outerIndex, _innerIndex, innerSub) {
        this.openWindow(innerSub);
    };
    WindowSubscriber.prototype.notifyError = function (error) {
        this._error(error);
    };
    WindowSubscriber.prototype.notifyComplete = function (innerSub) {
        this.openWindow(innerSub);
    };
    WindowSubscriber.prototype._next = function (value) {
        this.window.next(value);
    };
    WindowSubscriber.prototype._error = function (err) {
        this.window.error(err);
        this.destination.error(err);
        this.unsubscribeClosingNotification();
    };
    WindowSubscriber.prototype._complete = function () {
        this.window.complete();
        this.destination.complete();
        this.unsubscribeClosingNotification();
    };
    WindowSubscriber.prototype.unsubscribeClosingNotification = function () {
        if (this.closingNotification) {
            this.closingNotification.unsubscribe();
        }
    };
    WindowSubscriber.prototype.openWindow = function (innerSub) {
        if (innerSub === void 0) {
            innerSub = null;
        }
        if (innerSub) {
            this.remove(innerSub);
            innerSub.unsubscribe();
        }
        var prevWindow = this.window;
        if (prevWindow) {
            prevWindow.complete();
        }
        var window = this.window = new _Subject__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        this.destination.next(window);
        var closingNotifier;
        try {
            var closingSelector = this.closingSelector;
            closingNotifier = closingSelector();
        }
        catch (e) {
            this.destination.error(e);
            this.window.error(e);
            return;
        }
        this.add(this.closingNotification = Object(_util_subscribeToResult__WEBPACK_IMPORTED_MODULE_3__["subscribeToResult"])(this, closingNotifier));
    };
    return WindowSubscriber;
}(_OuterSubscriber__WEBPACK_IMPORTED_MODULE_2__["OuterSubscriber"]));
//# sourceMappingURL=windowWhen.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/withLatestFrom.js":
/*!**********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/withLatestFrom.js ***!
  \**********************************************************************/
/*! exports provided: withLatestFrom */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withLatestFrom", function() { return withLatestFrom; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _OuterSubscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../OuterSubscriber */ "./node_modules/rxjs/_esm5/internal/OuterSubscriber.js");
/* harmony import */ var _util_subscribeToResult__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/subscribeToResult */ "./node_modules/rxjs/_esm5/internal/util/subscribeToResult.js");
/** PURE_IMPORTS_START tslib,_OuterSubscriber,_util_subscribeToResult PURE_IMPORTS_END */



function withLatestFrom() {
    var args = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
    }
    return function (source) {
        var project;
        if (typeof args[args.length - 1] === 'function') {
            project = args.pop();
        }
        var observables = args;
        return source.lift(new WithLatestFromOperator(observables, project));
    };
}
var WithLatestFromOperator = /*@__PURE__*/ (function () {
    function WithLatestFromOperator(observables, project) {
        this.observables = observables;
        this.project = project;
    }
    WithLatestFromOperator.prototype.call = function (subscriber, source) {
        return source.subscribe(new WithLatestFromSubscriber(subscriber, this.observables, this.project));
    };
    return WithLatestFromOperator;
}());
var WithLatestFromSubscriber = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](WithLatestFromSubscriber, _super);
    function WithLatestFromSubscriber(destination, observables, project) {
        var _this = _super.call(this, destination) || this;
        _this.observables = observables;
        _this.project = project;
        _this.toRespond = [];
        var len = observables.length;
        _this.values = new Array(len);
        for (var i = 0; i < len; i++) {
            _this.toRespond.push(i);
        }
        for (var i = 0; i < len; i++) {
            var observable = observables[i];
            _this.add(Object(_util_subscribeToResult__WEBPACK_IMPORTED_MODULE_2__["subscribeToResult"])(_this, observable, undefined, i));
        }
        return _this;
    }
    WithLatestFromSubscriber.prototype.notifyNext = function (_outerValue, innerValue, outerIndex) {
        this.values[outerIndex] = innerValue;
        var toRespond = this.toRespond;
        if (toRespond.length > 0) {
            var found = toRespond.indexOf(outerIndex);
            if (found !== -1) {
                toRespond.splice(found, 1);
            }
        }
    };
    WithLatestFromSubscriber.prototype.notifyComplete = function () {
    };
    WithLatestFromSubscriber.prototype._next = function (value) {
        if (this.toRespond.length === 0) {
            var args = [value].concat(this.values);
            if (this.project) {
                this._tryProject(args);
            }
            else {
                this.destination.next(args);
            }
        }
    };
    WithLatestFromSubscriber.prototype._tryProject = function (args) {
        var result;
        try {
            result = this.project.apply(this, args);
        }
        catch (err) {
            this.destination.error(err);
            return;
        }
        this.destination.next(result);
    };
    return WithLatestFromSubscriber;
}(_OuterSubscriber__WEBPACK_IMPORTED_MODULE_1__["OuterSubscriber"]));
//# sourceMappingURL=withLatestFrom.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/zip.js":
/*!***********************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/zip.js ***!
  \***********************************************************/
/*! exports provided: zip */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "zip", function() { return zip; });
/* harmony import */ var _observable_zip__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../observable/zip */ "./node_modules/rxjs/_esm5/internal/observable/zip.js");
/** PURE_IMPORTS_START _observable_zip PURE_IMPORTS_END */

function zip() {
    var observables = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        observables[_i] = arguments[_i];
    }
    return function zipOperatorFunction(source) {
        return source.lift.call(_observable_zip__WEBPACK_IMPORTED_MODULE_0__["zip"].apply(void 0, [source].concat(observables)));
    };
}
//# sourceMappingURL=zip.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/operators/zipAll.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/operators/zipAll.js ***!
  \**************************************************************/
/*! exports provided: zipAll */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "zipAll", function() { return zipAll; });
/* harmony import */ var _observable_zip__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../observable/zip */ "./node_modules/rxjs/_esm5/internal/observable/zip.js");
/** PURE_IMPORTS_START _observable_zip PURE_IMPORTS_END */

function zipAll(project) {
    return function (source) { return source.lift(new _observable_zip__WEBPACK_IMPORTED_MODULE_0__["ZipOperator"](project)); };
}
//# sourceMappingURL=zipAll.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/scheduled/scheduleArray.js":
/*!*********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/scheduled/scheduleArray.js ***!
  \*********************************************************************/
/*! exports provided: scheduleArray */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "scheduleArray", function() { return scheduleArray; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _Subscription__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscription */ "./node_modules/rxjs/_esm5/internal/Subscription.js");
/** PURE_IMPORTS_START _Observable,_Subscription PURE_IMPORTS_END */


function scheduleArray(input, scheduler) {
    return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) {
        var sub = new _Subscription__WEBPACK_IMPORTED_MODULE_1__["Subscription"]();
        var i = 0;
        sub.add(scheduler.schedule(function () {
            if (i === input.length) {
                subscriber.complete();
                return;
            }
            subscriber.next(input[i++]);
            if (!subscriber.closed) {
                sub.add(this.schedule());
            }
        }));
        return sub;
    });
}
//# sourceMappingURL=scheduleArray.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/scheduled/scheduleIterable.js":
/*!************************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/scheduled/scheduleIterable.js ***!
  \************************************************************************/
/*! exports provided: scheduleIterable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "scheduleIterable", function() { return scheduleIterable; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _Subscription__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscription */ "./node_modules/rxjs/_esm5/internal/Subscription.js");
/* harmony import */ var _symbol_iterator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../symbol/iterator */ "./node_modules/rxjs/_esm5/internal/symbol/iterator.js");
/** PURE_IMPORTS_START _Observable,_Subscription,_symbol_iterator PURE_IMPORTS_END */



function scheduleIterable(input, scheduler) {
    if (!input) {
        throw new Error('Iterable cannot be null');
    }
    return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) {
        var sub = new _Subscription__WEBPACK_IMPORTED_MODULE_1__["Subscription"]();
        var iterator;
        sub.add(function () {
            if (iterator && typeof iterator.return === 'function') {
                iterator.return();
            }
        });
        sub.add(scheduler.schedule(function () {
            iterator = input[_symbol_iterator__WEBPACK_IMPORTED_MODULE_2__["iterator"]]();
            sub.add(scheduler.schedule(function () {
                if (subscriber.closed) {
                    return;
                }
                var value;
                var done;
                try {
                    var result = iterator.next();
                    value = result.value;
                    done = result.done;
                }
                catch (err) {
                    subscriber.error(err);
                    return;
                }
                if (done) {
                    subscriber.complete();
                }
                else {
                    subscriber.next(value);
                    this.schedule();
                }
            }));
        }));
        return sub;
    });
}
//# sourceMappingURL=scheduleIterable.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/scheduled/scheduleObservable.js":
/*!**************************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/scheduled/scheduleObservable.js ***!
  \**************************************************************************/
/*! exports provided: scheduleObservable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "scheduleObservable", function() { return scheduleObservable; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _Subscription__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscription */ "./node_modules/rxjs/_esm5/internal/Subscription.js");
/* harmony import */ var _symbol_observable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../symbol/observable */ "./node_modules/rxjs/_esm5/internal/symbol/observable.js");
/** PURE_IMPORTS_START _Observable,_Subscription,_symbol_observable PURE_IMPORTS_END */



function scheduleObservable(input, scheduler) {
    return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) {
        var sub = new _Subscription__WEBPACK_IMPORTED_MODULE_1__["Subscription"]();
        sub.add(scheduler.schedule(function () {
            var observable = input[_symbol_observable__WEBPACK_IMPORTED_MODULE_2__["observable"]]();
            sub.add(observable.subscribe({
                next: function (value) { sub.add(scheduler.schedule(function () { return subscriber.next(value); })); },
                error: function (err) { sub.add(scheduler.schedule(function () { return subscriber.error(err); })); },
                complete: function () { sub.add(scheduler.schedule(function () { return subscriber.complete(); })); },
            }));
        }));
        return sub;
    });
}
//# sourceMappingURL=scheduleObservable.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/scheduled/schedulePromise.js":
/*!***********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/scheduled/schedulePromise.js ***!
  \***********************************************************************/
/*! exports provided: schedulePromise */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "schedulePromise", function() { return schedulePromise; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/* harmony import */ var _Subscription__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscription */ "./node_modules/rxjs/_esm5/internal/Subscription.js");
/** PURE_IMPORTS_START _Observable,_Subscription PURE_IMPORTS_END */


function schedulePromise(input, scheduler) {
    return new _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"](function (subscriber) {
        var sub = new _Subscription__WEBPACK_IMPORTED_MODULE_1__["Subscription"]();
        sub.add(scheduler.schedule(function () {
            return input.then(function (value) {
                sub.add(scheduler.schedule(function () {
                    subscriber.next(value);
                    sub.add(scheduler.schedule(function () { return subscriber.complete(); }));
                }));
            }, function (err) {
                sub.add(scheduler.schedule(function () { return subscriber.error(err); }));
            });
        }));
        return sub;
    });
}
//# sourceMappingURL=schedulePromise.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/scheduled/scheduled.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/scheduled/scheduled.js ***!
  \*****************************************************************/
/*! exports provided: scheduled */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "scheduled", function() { return scheduled; });
/* harmony import */ var _scheduleObservable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./scheduleObservable */ "./node_modules/rxjs/_esm5/internal/scheduled/scheduleObservable.js");
/* harmony import */ var _schedulePromise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./schedulePromise */ "./node_modules/rxjs/_esm5/internal/scheduled/schedulePromise.js");
/* harmony import */ var _scheduleArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scheduleArray */ "./node_modules/rxjs/_esm5/internal/scheduled/scheduleArray.js");
/* harmony import */ var _scheduleIterable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./scheduleIterable */ "./node_modules/rxjs/_esm5/internal/scheduled/scheduleIterable.js");
/* harmony import */ var _util_isInteropObservable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/isInteropObservable */ "./node_modules/rxjs/_esm5/internal/util/isInteropObservable.js");
/* harmony import */ var _util_isPromise__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/isPromise */ "./node_modules/rxjs/_esm5/internal/util/isPromise.js");
/* harmony import */ var _util_isArrayLike__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../util/isArrayLike */ "./node_modules/rxjs/_esm5/internal/util/isArrayLike.js");
/* harmony import */ var _util_isIterable__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../util/isIterable */ "./node_modules/rxjs/_esm5/internal/util/isIterable.js");
/** PURE_IMPORTS_START _scheduleObservable,_schedulePromise,_scheduleArray,_scheduleIterable,_util_isInteropObservable,_util_isPromise,_util_isArrayLike,_util_isIterable PURE_IMPORTS_END */








function scheduled(input, scheduler) {
    if (input != null) {
        if (Object(_util_isInteropObservable__WEBPACK_IMPORTED_MODULE_4__["isInteropObservable"])(input)) {
            return Object(_scheduleObservable__WEBPACK_IMPORTED_MODULE_0__["scheduleObservable"])(input, scheduler);
        }
        else if (Object(_util_isPromise__WEBPACK_IMPORTED_MODULE_5__["isPromise"])(input)) {
            return Object(_schedulePromise__WEBPACK_IMPORTED_MODULE_1__["schedulePromise"])(input, scheduler);
        }
        else if (Object(_util_isArrayLike__WEBPACK_IMPORTED_MODULE_6__["isArrayLike"])(input)) {
            return Object(_scheduleArray__WEBPACK_IMPORTED_MODULE_2__["scheduleArray"])(input, scheduler);
        }
        else if (Object(_util_isIterable__WEBPACK_IMPORTED_MODULE_7__["isIterable"])(input) || typeof input === 'string') {
            return Object(_scheduleIterable__WEBPACK_IMPORTED_MODULE_3__["scheduleIterable"])(input, scheduler);
        }
    }
    throw new TypeError((input !== null && typeof input || input) + ' is not observable');
}
//# sourceMappingURL=scheduled.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/scheduler/Action.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/scheduler/Action.js ***!
  \**************************************************************/
/*! exports provided: Action */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Action", function() { return Action; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Subscription__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Subscription */ "./node_modules/rxjs/_esm5/internal/Subscription.js");
/** PURE_IMPORTS_START tslib,_Subscription PURE_IMPORTS_END */


var Action = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](Action, _super);
    function Action(scheduler, work) {
        return _super.call(this) || this;
    }
    Action.prototype.schedule = function (state, delay) {
        if (delay === void 0) {
            delay = 0;
        }
        return this;
    };
    return Action;
}(_Subscription__WEBPACK_IMPORTED_MODULE_1__["Subscription"]));

//# sourceMappingURL=Action.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/scheduler/AnimationFrameAction.js":
/*!****************************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/scheduler/AnimationFrameAction.js ***!
  \****************************************************************************/
/*! exports provided: AnimationFrameAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnimationFrameAction", function() { return AnimationFrameAction; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _AsyncAction__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AsyncAction */ "./node_modules/rxjs/_esm5/internal/scheduler/AsyncAction.js");
/** PURE_IMPORTS_START tslib,_AsyncAction PURE_IMPORTS_END */


var AnimationFrameAction = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](AnimationFrameAction, _super);
    function AnimationFrameAction(scheduler, work) {
        var _this = _super.call(this, scheduler, work) || this;
        _this.scheduler = scheduler;
        _this.work = work;
        return _this;
    }
    AnimationFrameAction.prototype.requestAsyncId = function (scheduler, id, delay) {
        if (delay === void 0) {
            delay = 0;
        }
        if (delay !== null && delay > 0) {
            return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);
        }
        scheduler.actions.push(this);
        return scheduler.scheduled || (scheduler.scheduled = requestAnimationFrame(function () { return scheduler.flush(null); }));
    };
    AnimationFrameAction.prototype.recycleAsyncId = function (scheduler, id, delay) {
        if (delay === void 0) {
            delay = 0;
        }
        if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {
            return _super.prototype.recycleAsyncId.call(this, scheduler, id, delay);
        }
        if (scheduler.actions.length === 0) {
            cancelAnimationFrame(id);
            scheduler.scheduled = undefined;
        }
        return undefined;
    };
    return AnimationFrameAction;
}(_AsyncAction__WEBPACK_IMPORTED_MODULE_1__["AsyncAction"]));

//# sourceMappingURL=AnimationFrameAction.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/scheduler/AnimationFrameScheduler.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/scheduler/AnimationFrameScheduler.js ***!
  \*******************************************************************************/
/*! exports provided: AnimationFrameScheduler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnimationFrameScheduler", function() { return AnimationFrameScheduler; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _AsyncScheduler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AsyncScheduler */ "./node_modules/rxjs/_esm5/internal/scheduler/AsyncScheduler.js");
/** PURE_IMPORTS_START tslib,_AsyncScheduler PURE_IMPORTS_END */


var AnimationFrameScheduler = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](AnimationFrameScheduler, _super);
    function AnimationFrameScheduler() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    AnimationFrameScheduler.prototype.flush = function (action) {
        this.active = true;
        this.scheduled = undefined;
        var actions = this.actions;
        var error;
        var index = -1;
        var count = actions.length;
        action = action || actions.shift();
        do {
            if (error = action.execute(action.state, action.delay)) {
                break;
            }
        } while (++index < count && (action = actions.shift()));
        this.active = false;
        if (error) {
            while (++index < count && (action = actions.shift())) {
                action.unsubscribe();
            }
            throw error;
        }
    };
    return AnimationFrameScheduler;
}(_AsyncScheduler__WEBPACK_IMPORTED_MODULE_1__["AsyncScheduler"]));

//# sourceMappingURL=AnimationFrameScheduler.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/scheduler/AsapAction.js":
/*!******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/scheduler/AsapAction.js ***!
  \******************************************************************/
/*! exports provided: AsapAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AsapAction", function() { return AsapAction; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _util_Immediate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Immediate */ "./node_modules/rxjs/_esm5/internal/util/Immediate.js");
/* harmony import */ var _AsyncAction__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AsyncAction */ "./node_modules/rxjs/_esm5/internal/scheduler/AsyncAction.js");
/** PURE_IMPORTS_START tslib,_util_Immediate,_AsyncAction PURE_IMPORTS_END */



var AsapAction = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](AsapAction, _super);
    function AsapAction(scheduler, work) {
        var _this = _super.call(this, scheduler, work) || this;
        _this.scheduler = scheduler;
        _this.work = work;
        return _this;
    }
    AsapAction.prototype.requestAsyncId = function (scheduler, id, delay) {
        if (delay === void 0) {
            delay = 0;
        }
        if (delay !== null && delay > 0) {
            return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);
        }
        scheduler.actions.push(this);
        return scheduler.scheduled || (scheduler.scheduled = _util_Immediate__WEBPACK_IMPORTED_MODULE_1__["Immediate"].setImmediate(scheduler.flush.bind(scheduler, null)));
    };
    AsapAction.prototype.recycleAsyncId = function (scheduler, id, delay) {
        if (delay === void 0) {
            delay = 0;
        }
        if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {
            return _super.prototype.recycleAsyncId.call(this, scheduler, id, delay);
        }
        if (scheduler.actions.length === 0) {
            _util_Immediate__WEBPACK_IMPORTED_MODULE_1__["Immediate"].clearImmediate(id);
            scheduler.scheduled = undefined;
        }
        return undefined;
    };
    return AsapAction;
}(_AsyncAction__WEBPACK_IMPORTED_MODULE_2__["AsyncAction"]));

//# sourceMappingURL=AsapAction.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/scheduler/AsapScheduler.js":
/*!*********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/scheduler/AsapScheduler.js ***!
  \*********************************************************************/
/*! exports provided: AsapScheduler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AsapScheduler", function() { return AsapScheduler; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _AsyncScheduler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AsyncScheduler */ "./node_modules/rxjs/_esm5/internal/scheduler/AsyncScheduler.js");
/** PURE_IMPORTS_START tslib,_AsyncScheduler PURE_IMPORTS_END */


var AsapScheduler = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](AsapScheduler, _super);
    function AsapScheduler() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    AsapScheduler.prototype.flush = function (action) {
        this.active = true;
        this.scheduled = undefined;
        var actions = this.actions;
        var error;
        var index = -1;
        var count = actions.length;
        action = action || actions.shift();
        do {
            if (error = action.execute(action.state, action.delay)) {
                break;
            }
        } while (++index < count && (action = actions.shift()));
        this.active = false;
        if (error) {
            while (++index < count && (action = actions.shift())) {
                action.unsubscribe();
            }
            throw error;
        }
    };
    return AsapScheduler;
}(_AsyncScheduler__WEBPACK_IMPORTED_MODULE_1__["AsyncScheduler"]));

//# sourceMappingURL=AsapScheduler.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/scheduler/AsyncAction.js":
/*!*******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/scheduler/AsyncAction.js ***!
  \*******************************************************************/
/*! exports provided: AsyncAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AsyncAction", function() { return AsyncAction; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Action__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Action */ "./node_modules/rxjs/_esm5/internal/scheduler/Action.js");
/** PURE_IMPORTS_START tslib,_Action PURE_IMPORTS_END */


var AsyncAction = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](AsyncAction, _super);
    function AsyncAction(scheduler, work) {
        var _this = _super.call(this, scheduler, work) || this;
        _this.scheduler = scheduler;
        _this.work = work;
        _this.pending = false;
        return _this;
    }
    AsyncAction.prototype.schedule = function (state, delay) {
        if (delay === void 0) {
            delay = 0;
        }
        if (this.closed) {
            return this;
        }
        this.state = state;
        var id = this.id;
        var scheduler = this.scheduler;
        if (id != null) {
            this.id = this.recycleAsyncId(scheduler, id, delay);
        }
        this.pending = true;
        this.delay = delay;
        this.id = this.id || this.requestAsyncId(scheduler, this.id, delay);
        return this;
    };
    AsyncAction.prototype.requestAsyncId = function (scheduler, id, delay) {
        if (delay === void 0) {
            delay = 0;
        }
        return setInterval(scheduler.flush.bind(scheduler, this), delay);
    };
    AsyncAction.prototype.recycleAsyncId = function (scheduler, id, delay) {
        if (delay === void 0) {
            delay = 0;
        }
        if (delay !== null && this.delay === delay && this.pending === false) {
            return id;
        }
        clearInterval(id);
        return undefined;
    };
    AsyncAction.prototype.execute = function (state, delay) {
        if (this.closed) {
            return new Error('executing a cancelled action');
        }
        this.pending = false;
        var error = this._execute(state, delay);
        if (error) {
            return error;
        }
        else if (this.pending === false && this.id != null) {
            this.id = this.recycleAsyncId(this.scheduler, this.id, null);
        }
    };
    AsyncAction.prototype._execute = function (state, delay) {
        var errored = false;
        var errorValue = undefined;
        try {
            this.work(state);
        }
        catch (e) {
            errored = true;
            errorValue = !!e && e || new Error(e);
        }
        if (errored) {
            this.unsubscribe();
            return errorValue;
        }
    };
    AsyncAction.prototype._unsubscribe = function () {
        var id = this.id;
        var scheduler = this.scheduler;
        var actions = scheduler.actions;
        var index = actions.indexOf(this);
        this.work = null;
        this.state = null;
        this.pending = false;
        this.scheduler = null;
        if (index !== -1) {
            actions.splice(index, 1);
        }
        if (id != null) {
            this.id = this.recycleAsyncId(scheduler, id, null);
        }
        this.delay = null;
    };
    return AsyncAction;
}(_Action__WEBPACK_IMPORTED_MODULE_1__["Action"]));

//# sourceMappingURL=AsyncAction.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/scheduler/AsyncScheduler.js":
/*!**********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/scheduler/AsyncScheduler.js ***!
  \**********************************************************************/
/*! exports provided: AsyncScheduler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AsyncScheduler", function() { return AsyncScheduler; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _Scheduler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Scheduler */ "./node_modules/rxjs/_esm5/internal/Scheduler.js");
/** PURE_IMPORTS_START tslib,_Scheduler PURE_IMPORTS_END */


var AsyncScheduler = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](AsyncScheduler, _super);
    function AsyncScheduler(SchedulerAction, now) {
        if (now === void 0) {
            now = _Scheduler__WEBPACK_IMPORTED_MODULE_1__["Scheduler"].now;
        }
        var _this = _super.call(this, SchedulerAction, function () {
            if (AsyncScheduler.delegate && AsyncScheduler.delegate !== _this) {
                return AsyncScheduler.delegate.now();
            }
            else {
                return now();
            }
        }) || this;
        _this.actions = [];
        _this.active = false;
        _this.scheduled = undefined;
        return _this;
    }
    AsyncScheduler.prototype.schedule = function (work, delay, state) {
        if (delay === void 0) {
            delay = 0;
        }
        if (AsyncScheduler.delegate && AsyncScheduler.delegate !== this) {
            return AsyncScheduler.delegate.schedule(work, delay, state);
        }
        else {
            return _super.prototype.schedule.call(this, work, delay, state);
        }
    };
    AsyncScheduler.prototype.flush = function (action) {
        var actions = this.actions;
        if (this.active) {
            actions.push(action);
            return;
        }
        var error;
        this.active = true;
        do {
            if (error = action.execute(action.state, action.delay)) {
                break;
            }
        } while (action = actions.shift());
        this.active = false;
        if (error) {
            while (action = actions.shift()) {
                action.unsubscribe();
            }
            throw error;
        }
    };
    return AsyncScheduler;
}(_Scheduler__WEBPACK_IMPORTED_MODULE_1__["Scheduler"]));

//# sourceMappingURL=AsyncScheduler.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/scheduler/QueueAction.js":
/*!*******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/scheduler/QueueAction.js ***!
  \*******************************************************************/
/*! exports provided: QueueAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QueueAction", function() { return QueueAction; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _AsyncAction__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AsyncAction */ "./node_modules/rxjs/_esm5/internal/scheduler/AsyncAction.js");
/** PURE_IMPORTS_START tslib,_AsyncAction PURE_IMPORTS_END */


var QueueAction = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](QueueAction, _super);
    function QueueAction(scheduler, work) {
        var _this = _super.call(this, scheduler, work) || this;
        _this.scheduler = scheduler;
        _this.work = work;
        return _this;
    }
    QueueAction.prototype.schedule = function (state, delay) {
        if (delay === void 0) {
            delay = 0;
        }
        if (delay > 0) {
            return _super.prototype.schedule.call(this, state, delay);
        }
        this.delay = delay;
        this.state = state;
        this.scheduler.flush(this);
        return this;
    };
    QueueAction.prototype.execute = function (state, delay) {
        return (delay > 0 || this.closed) ?
            _super.prototype.execute.call(this, state, delay) :
            this._execute(state, delay);
    };
    QueueAction.prototype.requestAsyncId = function (scheduler, id, delay) {
        if (delay === void 0) {
            delay = 0;
        }
        if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {
            return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);
        }
        return scheduler.flush(this);
    };
    return QueueAction;
}(_AsyncAction__WEBPACK_IMPORTED_MODULE_1__["AsyncAction"]));

//# sourceMappingURL=QueueAction.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/scheduler/QueueScheduler.js":
/*!**********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/scheduler/QueueScheduler.js ***!
  \**********************************************************************/
/*! exports provided: QueueScheduler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QueueScheduler", function() { return QueueScheduler; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _AsyncScheduler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AsyncScheduler */ "./node_modules/rxjs/_esm5/internal/scheduler/AsyncScheduler.js");
/** PURE_IMPORTS_START tslib,_AsyncScheduler PURE_IMPORTS_END */


var QueueScheduler = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](QueueScheduler, _super);
    function QueueScheduler() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return QueueScheduler;
}(_AsyncScheduler__WEBPACK_IMPORTED_MODULE_1__["AsyncScheduler"]));

//# sourceMappingURL=QueueScheduler.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/scheduler/VirtualTimeScheduler.js":
/*!****************************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/scheduler/VirtualTimeScheduler.js ***!
  \****************************************************************************/
/*! exports provided: VirtualTimeScheduler, VirtualAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VirtualTimeScheduler", function() { return VirtualTimeScheduler; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VirtualAction", function() { return VirtualAction; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _AsyncAction__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AsyncAction */ "./node_modules/rxjs/_esm5/internal/scheduler/AsyncAction.js");
/* harmony import */ var _AsyncScheduler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AsyncScheduler */ "./node_modules/rxjs/_esm5/internal/scheduler/AsyncScheduler.js");
/** PURE_IMPORTS_START tslib,_AsyncAction,_AsyncScheduler PURE_IMPORTS_END */



var VirtualTimeScheduler = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](VirtualTimeScheduler, _super);
    function VirtualTimeScheduler(SchedulerAction, maxFrames) {
        if (SchedulerAction === void 0) {
            SchedulerAction = VirtualAction;
        }
        if (maxFrames === void 0) {
            maxFrames = Number.POSITIVE_INFINITY;
        }
        var _this = _super.call(this, SchedulerAction, function () { return _this.frame; }) || this;
        _this.maxFrames = maxFrames;
        _this.frame = 0;
        _this.index = -1;
        return _this;
    }
    VirtualTimeScheduler.prototype.flush = function () {
        var _a = this, actions = _a.actions, maxFrames = _a.maxFrames;
        var error, action;
        while ((action = actions[0]) && action.delay <= maxFrames) {
            actions.shift();
            this.frame = action.delay;
            if (error = action.execute(action.state, action.delay)) {
                break;
            }
        }
        if (error) {
            while (action = actions.shift()) {
                action.unsubscribe();
            }
            throw error;
        }
    };
    VirtualTimeScheduler.frameTimeFactor = 10;
    return VirtualTimeScheduler;
}(_AsyncScheduler__WEBPACK_IMPORTED_MODULE_2__["AsyncScheduler"]));

var VirtualAction = /*@__PURE__*/ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](VirtualAction, _super);
    function VirtualAction(scheduler, work, index) {
        if (index === void 0) {
            index = scheduler.index += 1;
        }
        var _this = _super.call(this, scheduler, work) || this;
        _this.scheduler = scheduler;
        _this.work = work;
        _this.index = index;
        _this.active = true;
        _this.index = scheduler.index = index;
        return _this;
    }
    VirtualAction.prototype.schedule = function (state, delay) {
        if (delay === void 0) {
            delay = 0;
        }
        if (!this.id) {
            return _super.prototype.schedule.call(this, state, delay);
        }
        this.active = false;
        var action = new VirtualAction(this.scheduler, this.work);
        this.add(action);
        return action.schedule(state, delay);
    };
    VirtualAction.prototype.requestAsyncId = function (scheduler, id, delay) {
        if (delay === void 0) {
            delay = 0;
        }
        this.delay = scheduler.frame + delay;
        var actions = scheduler.actions;
        actions.push(this);
        actions.sort(VirtualAction.sortActions);
        return true;
    };
    VirtualAction.prototype.recycleAsyncId = function (scheduler, id, delay) {
        if (delay === void 0) {
            delay = 0;
        }
        return undefined;
    };
    VirtualAction.prototype._execute = function (state, delay) {
        if (this.active === true) {
            return _super.prototype._execute.call(this, state, delay);
        }
    };
    VirtualAction.sortActions = function (a, b) {
        if (a.delay === b.delay) {
            if (a.index === b.index) {
                return 0;
            }
            else if (a.index > b.index) {
                return 1;
            }
            else {
                return -1;
            }
        }
        else if (a.delay > b.delay) {
            return 1;
        }
        else {
            return -1;
        }
    };
    return VirtualAction;
}(_AsyncAction__WEBPACK_IMPORTED_MODULE_1__["AsyncAction"]));

//# sourceMappingURL=VirtualTimeScheduler.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/scheduler/animationFrame.js":
/*!**********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/scheduler/animationFrame.js ***!
  \**********************************************************************/
/*! exports provided: animationFrameScheduler, animationFrame */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "animationFrameScheduler", function() { return animationFrameScheduler; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "animationFrame", function() { return animationFrame; });
/* harmony import */ var _AnimationFrameAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AnimationFrameAction */ "./node_modules/rxjs/_esm5/internal/scheduler/AnimationFrameAction.js");
/* harmony import */ var _AnimationFrameScheduler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AnimationFrameScheduler */ "./node_modules/rxjs/_esm5/internal/scheduler/AnimationFrameScheduler.js");
/** PURE_IMPORTS_START _AnimationFrameAction,_AnimationFrameScheduler PURE_IMPORTS_END */


var animationFrameScheduler = /*@__PURE__*/ new _AnimationFrameScheduler__WEBPACK_IMPORTED_MODULE_1__["AnimationFrameScheduler"](_AnimationFrameAction__WEBPACK_IMPORTED_MODULE_0__["AnimationFrameAction"]);
var animationFrame = animationFrameScheduler;
//# sourceMappingURL=animationFrame.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/scheduler/asap.js":
/*!************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/scheduler/asap.js ***!
  \************************************************************/
/*! exports provided: asapScheduler, asap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "asapScheduler", function() { return asapScheduler; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "asap", function() { return asap; });
/* harmony import */ var _AsapAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AsapAction */ "./node_modules/rxjs/_esm5/internal/scheduler/AsapAction.js");
/* harmony import */ var _AsapScheduler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AsapScheduler */ "./node_modules/rxjs/_esm5/internal/scheduler/AsapScheduler.js");
/** PURE_IMPORTS_START _AsapAction,_AsapScheduler PURE_IMPORTS_END */


var asapScheduler = /*@__PURE__*/ new _AsapScheduler__WEBPACK_IMPORTED_MODULE_1__["AsapScheduler"](_AsapAction__WEBPACK_IMPORTED_MODULE_0__["AsapAction"]);
var asap = asapScheduler;
//# sourceMappingURL=asap.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/scheduler/async.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/scheduler/async.js ***!
  \*************************************************************/
/*! exports provided: asyncScheduler, async */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "asyncScheduler", function() { return asyncScheduler; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "async", function() { return async; });
/* harmony import */ var _AsyncAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AsyncAction */ "./node_modules/rxjs/_esm5/internal/scheduler/AsyncAction.js");
/* harmony import */ var _AsyncScheduler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AsyncScheduler */ "./node_modules/rxjs/_esm5/internal/scheduler/AsyncScheduler.js");
/** PURE_IMPORTS_START _AsyncAction,_AsyncScheduler PURE_IMPORTS_END */


var asyncScheduler = /*@__PURE__*/ new _AsyncScheduler__WEBPACK_IMPORTED_MODULE_1__["AsyncScheduler"](_AsyncAction__WEBPACK_IMPORTED_MODULE_0__["AsyncAction"]);
var async = asyncScheduler;
//# sourceMappingURL=async.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/scheduler/queue.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/scheduler/queue.js ***!
  \*************************************************************/
/*! exports provided: queueScheduler, queue */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "queueScheduler", function() { return queueScheduler; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "queue", function() { return queue; });
/* harmony import */ var _QueueAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./QueueAction */ "./node_modules/rxjs/_esm5/internal/scheduler/QueueAction.js");
/* harmony import */ var _QueueScheduler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./QueueScheduler */ "./node_modules/rxjs/_esm5/internal/scheduler/QueueScheduler.js");
/** PURE_IMPORTS_START _QueueAction,_QueueScheduler PURE_IMPORTS_END */


var queueScheduler = /*@__PURE__*/ new _QueueScheduler__WEBPACK_IMPORTED_MODULE_1__["QueueScheduler"](_QueueAction__WEBPACK_IMPORTED_MODULE_0__["QueueAction"]);
var queue = queueScheduler;
//# sourceMappingURL=queue.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/symbol/iterator.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/symbol/iterator.js ***!
  \*************************************************************/
/*! exports provided: getSymbolIterator, iterator, $$iterator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSymbolIterator", function() { return getSymbolIterator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "iterator", function() { return iterator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "$$iterator", function() { return $$iterator; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
function getSymbolIterator() {
    if (typeof Symbol !== 'function' || !Symbol.iterator) {
        return '@@iterator';
    }
    return Symbol.iterator;
}
var iterator = /*@__PURE__*/ getSymbolIterator();
var $$iterator = iterator;
//# sourceMappingURL=iterator.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/symbol/observable.js":
/*!***************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/symbol/observable.js ***!
  \***************************************************************/
/*! exports provided: observable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "observable", function() { return observable; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
var observable = /*@__PURE__*/ (function () { return typeof Symbol === 'function' && Symbol.observable || '@@observable'; })();
//# sourceMappingURL=observable.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/symbol/rxSubscriber.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/symbol/rxSubscriber.js ***!
  \*****************************************************************/
/*! exports provided: rxSubscriber, $$rxSubscriber */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "rxSubscriber", function() { return rxSubscriber; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "$$rxSubscriber", function() { return $$rxSubscriber; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
var rxSubscriber = /*@__PURE__*/ (function () {
    return typeof Symbol === 'function'
        ? /*@__PURE__*/ Symbol('rxSubscriber')
        : '@@rxSubscriber_' + /*@__PURE__*/ Math.random();
})();
var $$rxSubscriber = rxSubscriber;
//# sourceMappingURL=rxSubscriber.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/ArgumentOutOfRangeError.js":
/*!**************************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/ArgumentOutOfRangeError.js ***!
  \**************************************************************************/
/*! exports provided: ArgumentOutOfRangeError */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ArgumentOutOfRangeError", function() { return ArgumentOutOfRangeError; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
var ArgumentOutOfRangeErrorImpl = /*@__PURE__*/ (function () {
    function ArgumentOutOfRangeErrorImpl() {
        Error.call(this);
        this.message = 'argument out of range';
        this.name = 'ArgumentOutOfRangeError';
        return this;
    }
    ArgumentOutOfRangeErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);
    return ArgumentOutOfRangeErrorImpl;
})();
var ArgumentOutOfRangeError = ArgumentOutOfRangeErrorImpl;
//# sourceMappingURL=ArgumentOutOfRangeError.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/EmptyError.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/EmptyError.js ***!
  \*************************************************************/
/*! exports provided: EmptyError */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EmptyError", function() { return EmptyError; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
var EmptyErrorImpl = /*@__PURE__*/ (function () {
    function EmptyErrorImpl() {
        Error.call(this);
        this.message = 'no elements in sequence';
        this.name = 'EmptyError';
        return this;
    }
    EmptyErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);
    return EmptyErrorImpl;
})();
var EmptyError = EmptyErrorImpl;
//# sourceMappingURL=EmptyError.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/Immediate.js":
/*!************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/Immediate.js ***!
  \************************************************************/
/*! exports provided: Immediate, TestTools */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Immediate", function() { return Immediate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TestTools", function() { return TestTools; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
var nextHandle = 1;
var RESOLVED = /*@__PURE__*/ (function () { return /*@__PURE__*/ Promise.resolve(); })();
var activeHandles = {};
function findAndClearHandle(handle) {
    if (handle in activeHandles) {
        delete activeHandles[handle];
        return true;
    }
    return false;
}
var Immediate = {
    setImmediate: function (cb) {
        var handle = nextHandle++;
        activeHandles[handle] = true;
        RESOLVED.then(function () { return findAndClearHandle(handle) && cb(); });
        return handle;
    },
    clearImmediate: function (handle) {
        findAndClearHandle(handle);
    },
};
var TestTools = {
    pending: function () {
        return Object.keys(activeHandles).length;
    }
};
//# sourceMappingURL=Immediate.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/ObjectUnsubscribedError.js":
/*!**************************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/ObjectUnsubscribedError.js ***!
  \**************************************************************************/
/*! exports provided: ObjectUnsubscribedError */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectUnsubscribedError", function() { return ObjectUnsubscribedError; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
var ObjectUnsubscribedErrorImpl = /*@__PURE__*/ (function () {
    function ObjectUnsubscribedErrorImpl() {
        Error.call(this);
        this.message = 'object unsubscribed';
        this.name = 'ObjectUnsubscribedError';
        return this;
    }
    ObjectUnsubscribedErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);
    return ObjectUnsubscribedErrorImpl;
})();
var ObjectUnsubscribedError = ObjectUnsubscribedErrorImpl;
//# sourceMappingURL=ObjectUnsubscribedError.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/TimeoutError.js":
/*!***************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/TimeoutError.js ***!
  \***************************************************************/
/*! exports provided: TimeoutError */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TimeoutError", function() { return TimeoutError; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
var TimeoutErrorImpl = /*@__PURE__*/ (function () {
    function TimeoutErrorImpl() {
        Error.call(this);
        this.message = 'Timeout has occurred';
        this.name = 'TimeoutError';
        return this;
    }
    TimeoutErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);
    return TimeoutErrorImpl;
})();
var TimeoutError = TimeoutErrorImpl;
//# sourceMappingURL=TimeoutError.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/UnsubscriptionError.js":
/*!**********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/UnsubscriptionError.js ***!
  \**********************************************************************/
/*! exports provided: UnsubscriptionError */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UnsubscriptionError", function() { return UnsubscriptionError; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
var UnsubscriptionErrorImpl = /*@__PURE__*/ (function () {
    function UnsubscriptionErrorImpl(errors) {
        Error.call(this);
        this.message = errors ?
            errors.length + " errors occurred during unsubscription:\n" + errors.map(function (err, i) { return i + 1 + ") " + err.toString(); }).join('\n  ') : '';
        this.name = 'UnsubscriptionError';
        this.errors = errors;
        return this;
    }
    UnsubscriptionErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);
    return UnsubscriptionErrorImpl;
})();
var UnsubscriptionError = UnsubscriptionErrorImpl;
//# sourceMappingURL=UnsubscriptionError.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/canReportError.js":
/*!*****************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/canReportError.js ***!
  \*****************************************************************/
/*! exports provided: canReportError */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "canReportError", function() { return canReportError; });
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/** PURE_IMPORTS_START _Subscriber PURE_IMPORTS_END */

function canReportError(observer) {
    while (observer) {
        var _a = observer, closed_1 = _a.closed, destination = _a.destination, isStopped = _a.isStopped;
        if (closed_1 || isStopped) {
            return false;
        }
        else if (destination && destination instanceof _Subscriber__WEBPACK_IMPORTED_MODULE_0__["Subscriber"]) {
            observer = destination;
        }
        else {
            observer = null;
        }
    }
    return true;
}
//# sourceMappingURL=canReportError.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/hostReportError.js":
/*!******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/hostReportError.js ***!
  \******************************************************************/
/*! exports provided: hostReportError */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hostReportError", function() { return hostReportError; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
function hostReportError(err) {
    setTimeout(function () { throw err; }, 0);
}
//# sourceMappingURL=hostReportError.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/identity.js":
/*!***********************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/identity.js ***!
  \***********************************************************/
/*! exports provided: identity */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "identity", function() { return identity; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
function identity(x) {
    return x;
}
//# sourceMappingURL=identity.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/isArray.js":
/*!**********************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/isArray.js ***!
  \**********************************************************/
/*! exports provided: isArray */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isArray", function() { return isArray; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
var isArray = /*@__PURE__*/ (function () { return Array.isArray || (function (x) { return x && typeof x.length === 'number'; }); })();
//# sourceMappingURL=isArray.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/isArrayLike.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/isArrayLike.js ***!
  \**************************************************************/
/*! exports provided: isArrayLike */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isArrayLike", function() { return isArrayLike; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
var isArrayLike = (function (x) { return x && typeof x.length === 'number' && typeof x !== 'function'; });
//# sourceMappingURL=isArrayLike.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/isDate.js":
/*!*********************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/isDate.js ***!
  \*********************************************************/
/*! exports provided: isDate */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isDate", function() { return isDate; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
function isDate(value) {
    return value instanceof Date && !isNaN(+value);
}
//# sourceMappingURL=isDate.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/isFunction.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/isFunction.js ***!
  \*************************************************************/
/*! exports provided: isFunction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isFunction", function() { return isFunction; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
function isFunction(x) {
    return typeof x === 'function';
}
//# sourceMappingURL=isFunction.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/isInteropObservable.js":
/*!**********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/isInteropObservable.js ***!
  \**********************************************************************/
/*! exports provided: isInteropObservable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isInteropObservable", function() { return isInteropObservable; });
/* harmony import */ var _symbol_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../symbol/observable */ "./node_modules/rxjs/_esm5/internal/symbol/observable.js");
/** PURE_IMPORTS_START _symbol_observable PURE_IMPORTS_END */

function isInteropObservable(input) {
    return input && typeof input[_symbol_observable__WEBPACK_IMPORTED_MODULE_0__["observable"]] === 'function';
}
//# sourceMappingURL=isInteropObservable.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/isIterable.js":
/*!*************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/isIterable.js ***!
  \*************************************************************/
/*! exports provided: isIterable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isIterable", function() { return isIterable; });
/* harmony import */ var _symbol_iterator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../symbol/iterator */ "./node_modules/rxjs/_esm5/internal/symbol/iterator.js");
/** PURE_IMPORTS_START _symbol_iterator PURE_IMPORTS_END */

function isIterable(input) {
    return input && typeof input[_symbol_iterator__WEBPACK_IMPORTED_MODULE_0__["iterator"]] === 'function';
}
//# sourceMappingURL=isIterable.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/isNumeric.js":
/*!************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/isNumeric.js ***!
  \************************************************************/
/*! exports provided: isNumeric */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isNumeric", function() { return isNumeric; });
/* harmony import */ var _isArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isArray */ "./node_modules/rxjs/_esm5/internal/util/isArray.js");
/** PURE_IMPORTS_START _isArray PURE_IMPORTS_END */

function isNumeric(val) {
    return !Object(_isArray__WEBPACK_IMPORTED_MODULE_0__["isArray"])(val) && (val - parseFloat(val) + 1) >= 0;
}
//# sourceMappingURL=isNumeric.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/isObject.js":
/*!***********************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/isObject.js ***!
  \***********************************************************/
/*! exports provided: isObject */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isObject", function() { return isObject; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
function isObject(x) {
    return x !== null && typeof x === 'object';
}
//# sourceMappingURL=isObject.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/isObservable.js":
/*!***************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/isObservable.js ***!
  \***************************************************************/
/*! exports provided: isObservable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isObservable", function() { return isObservable; });
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/** PURE_IMPORTS_START _Observable PURE_IMPORTS_END */

function isObservable(obj) {
    return !!obj && (obj instanceof _Observable__WEBPACK_IMPORTED_MODULE_0__["Observable"] || (typeof obj.lift === 'function' && typeof obj.subscribe === 'function'));
}
//# sourceMappingURL=isObservable.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/isPromise.js":
/*!************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/isPromise.js ***!
  \************************************************************/
/*! exports provided: isPromise */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isPromise", function() { return isPromise; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
function isPromise(value) {
    return !!value && typeof value.subscribe !== 'function' && typeof value.then === 'function';
}
//# sourceMappingURL=isPromise.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/isScheduler.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/isScheduler.js ***!
  \**************************************************************/
/*! exports provided: isScheduler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isScheduler", function() { return isScheduler; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
function isScheduler(value) {
    return value && typeof value.schedule === 'function';
}
//# sourceMappingURL=isScheduler.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/noop.js":
/*!*******************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/noop.js ***!
  \*******************************************************/
/*! exports provided: noop */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "noop", function() { return noop; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
function noop() { }
//# sourceMappingURL=noop.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/not.js":
/*!******************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/not.js ***!
  \******************************************************/
/*! exports provided: not */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "not", function() { return not; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
function not(pred, thisArg) {
    function notPred() {
        return !(notPred.pred.apply(notPred.thisArg, arguments));
    }
    notPred.pred = pred;
    notPred.thisArg = thisArg;
    return notPred;
}
//# sourceMappingURL=not.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/pipe.js":
/*!*******************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/pipe.js ***!
  \*******************************************************/
/*! exports provided: pipe, pipeFromArray */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pipe", function() { return pipe; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pipeFromArray", function() { return pipeFromArray; });
/* harmony import */ var _identity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./identity */ "./node_modules/rxjs/_esm5/internal/util/identity.js");
/** PURE_IMPORTS_START _identity PURE_IMPORTS_END */

function pipe() {
    var fns = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        fns[_i] = arguments[_i];
    }
    return pipeFromArray(fns);
}
function pipeFromArray(fns) {
    if (fns.length === 0) {
        return _identity__WEBPACK_IMPORTED_MODULE_0__["identity"];
    }
    if (fns.length === 1) {
        return fns[0];
    }
    return function piped(input) {
        return fns.reduce(function (prev, fn) { return fn(prev); }, input);
    };
}
//# sourceMappingURL=pipe.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/subscribeTo.js":
/*!**************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/subscribeTo.js ***!
  \**************************************************************/
/*! exports provided: subscribeTo */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "subscribeTo", function() { return subscribeTo; });
/* harmony import */ var _subscribeToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./subscribeToArray */ "./node_modules/rxjs/_esm5/internal/util/subscribeToArray.js");
/* harmony import */ var _subscribeToPromise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./subscribeToPromise */ "./node_modules/rxjs/_esm5/internal/util/subscribeToPromise.js");
/* harmony import */ var _subscribeToIterable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./subscribeToIterable */ "./node_modules/rxjs/_esm5/internal/util/subscribeToIterable.js");
/* harmony import */ var _subscribeToObservable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./subscribeToObservable */ "./node_modules/rxjs/_esm5/internal/util/subscribeToObservable.js");
/* harmony import */ var _isArrayLike__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./isArrayLike */ "./node_modules/rxjs/_esm5/internal/util/isArrayLike.js");
/* harmony import */ var _isPromise__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./isPromise */ "./node_modules/rxjs/_esm5/internal/util/isPromise.js");
/* harmony import */ var _isObject__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./isObject */ "./node_modules/rxjs/_esm5/internal/util/isObject.js");
/* harmony import */ var _symbol_iterator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../symbol/iterator */ "./node_modules/rxjs/_esm5/internal/symbol/iterator.js");
/* harmony import */ var _symbol_observable__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../symbol/observable */ "./node_modules/rxjs/_esm5/internal/symbol/observable.js");
/** PURE_IMPORTS_START _subscribeToArray,_subscribeToPromise,_subscribeToIterable,_subscribeToObservable,_isArrayLike,_isPromise,_isObject,_symbol_iterator,_symbol_observable PURE_IMPORTS_END */









var subscribeTo = function (result) {
    if (!!result && typeof result[_symbol_observable__WEBPACK_IMPORTED_MODULE_8__["observable"]] === 'function') {
        return Object(_subscribeToObservable__WEBPACK_IMPORTED_MODULE_3__["subscribeToObservable"])(result);
    }
    else if (Object(_isArrayLike__WEBPACK_IMPORTED_MODULE_4__["isArrayLike"])(result)) {
        return Object(_subscribeToArray__WEBPACK_IMPORTED_MODULE_0__["subscribeToArray"])(result);
    }
    else if (Object(_isPromise__WEBPACK_IMPORTED_MODULE_5__["isPromise"])(result)) {
        return Object(_subscribeToPromise__WEBPACK_IMPORTED_MODULE_1__["subscribeToPromise"])(result);
    }
    else if (!!result && typeof result[_symbol_iterator__WEBPACK_IMPORTED_MODULE_7__["iterator"]] === 'function') {
        return Object(_subscribeToIterable__WEBPACK_IMPORTED_MODULE_2__["subscribeToIterable"])(result);
    }
    else {
        var value = Object(_isObject__WEBPACK_IMPORTED_MODULE_6__["isObject"])(result) ? 'an invalid object' : "'" + result + "'";
        var msg = "You provided " + value + " where a stream was expected."
            + ' You can provide an Observable, Promise, Array, or Iterable.';
        throw new TypeError(msg);
    }
};
//# sourceMappingURL=subscribeTo.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/subscribeToArray.js":
/*!*******************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/subscribeToArray.js ***!
  \*******************************************************************/
/*! exports provided: subscribeToArray */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "subscribeToArray", function() { return subscribeToArray; });
/** PURE_IMPORTS_START  PURE_IMPORTS_END */
var subscribeToArray = function (array) {
    return function (subscriber) {
        for (var i = 0, len = array.length; i < len && !subscriber.closed; i++) {
            subscriber.next(array[i]);
        }
        subscriber.complete();
    };
};
//# sourceMappingURL=subscribeToArray.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/subscribeToIterable.js":
/*!**********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/subscribeToIterable.js ***!
  \**********************************************************************/
/*! exports provided: subscribeToIterable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "subscribeToIterable", function() { return subscribeToIterable; });
/* harmony import */ var _symbol_iterator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../symbol/iterator */ "./node_modules/rxjs/_esm5/internal/symbol/iterator.js");
/** PURE_IMPORTS_START _symbol_iterator PURE_IMPORTS_END */

var subscribeToIterable = function (iterable) {
    return function (subscriber) {
        var iterator = iterable[_symbol_iterator__WEBPACK_IMPORTED_MODULE_0__["iterator"]]();
        do {
            var item = void 0;
            try {
                item = iterator.next();
            }
            catch (err) {
                subscriber.error(err);
                return subscriber;
            }
            if (item.done) {
                subscriber.complete();
                break;
            }
            subscriber.next(item.value);
            if (subscriber.closed) {
                break;
            }
        } while (true);
        if (typeof iterator.return === 'function') {
            subscriber.add(function () {
                if (iterator.return) {
                    iterator.return();
                }
            });
        }
        return subscriber;
    };
};
//# sourceMappingURL=subscribeToIterable.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/subscribeToObservable.js":
/*!************************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/subscribeToObservable.js ***!
  \************************************************************************/
/*! exports provided: subscribeToObservable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "subscribeToObservable", function() { return subscribeToObservable; });
/* harmony import */ var _symbol_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../symbol/observable */ "./node_modules/rxjs/_esm5/internal/symbol/observable.js");
/** PURE_IMPORTS_START _symbol_observable PURE_IMPORTS_END */

var subscribeToObservable = function (obj) {
    return function (subscriber) {
        var obs = obj[_symbol_observable__WEBPACK_IMPORTED_MODULE_0__["observable"]]();
        if (typeof obs.subscribe !== 'function') {
            throw new TypeError('Provided object does not correctly implement Symbol.observable');
        }
        else {
            return obs.subscribe(subscriber);
        }
    };
};
//# sourceMappingURL=subscribeToObservable.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/subscribeToPromise.js":
/*!*********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/subscribeToPromise.js ***!
  \*********************************************************************/
/*! exports provided: subscribeToPromise */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "subscribeToPromise", function() { return subscribeToPromise; });
/* harmony import */ var _hostReportError__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./hostReportError */ "./node_modules/rxjs/_esm5/internal/util/hostReportError.js");
/** PURE_IMPORTS_START _hostReportError PURE_IMPORTS_END */

var subscribeToPromise = function (promise) {
    return function (subscriber) {
        promise.then(function (value) {
            if (!subscriber.closed) {
                subscriber.next(value);
                subscriber.complete();
            }
        }, function (err) { return subscriber.error(err); })
            .then(null, _hostReportError__WEBPACK_IMPORTED_MODULE_0__["hostReportError"]);
        return subscriber;
    };
};
//# sourceMappingURL=subscribeToPromise.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/subscribeToResult.js":
/*!********************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/subscribeToResult.js ***!
  \********************************************************************/
/*! exports provided: subscribeToResult */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "subscribeToResult", function() { return subscribeToResult; });
/* harmony import */ var _InnerSubscriber__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../InnerSubscriber */ "./node_modules/rxjs/_esm5/internal/InnerSubscriber.js");
/* harmony import */ var _subscribeTo__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./subscribeTo */ "./node_modules/rxjs/_esm5/internal/util/subscribeTo.js");
/* harmony import */ var _Observable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Observable */ "./node_modules/rxjs/_esm5/internal/Observable.js");
/** PURE_IMPORTS_START _InnerSubscriber,_subscribeTo,_Observable PURE_IMPORTS_END */



function subscribeToResult(outerSubscriber, result, outerValue, outerIndex, innerSubscriber) {
    if (innerSubscriber === void 0) {
        innerSubscriber = new _InnerSubscriber__WEBPACK_IMPORTED_MODULE_0__["InnerSubscriber"](outerSubscriber, outerValue, outerIndex);
    }
    if (innerSubscriber.closed) {
        return undefined;
    }
    if (result instanceof _Observable__WEBPACK_IMPORTED_MODULE_2__["Observable"]) {
        return result.subscribe(innerSubscriber);
    }
    return Object(_subscribeTo__WEBPACK_IMPORTED_MODULE_1__["subscribeTo"])(result)(innerSubscriber);
}
//# sourceMappingURL=subscribeToResult.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/internal/util/toSubscriber.js":
/*!***************************************************************!*\
  !*** ./node_modules/rxjs/_esm5/internal/util/toSubscriber.js ***!
  \***************************************************************/
/*! exports provided: toSubscriber */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toSubscriber", function() { return toSubscriber; });
/* harmony import */ var _Subscriber__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Subscriber */ "./node_modules/rxjs/_esm5/internal/Subscriber.js");
/* harmony import */ var _symbol_rxSubscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../symbol/rxSubscriber */ "./node_modules/rxjs/_esm5/internal/symbol/rxSubscriber.js");
/* harmony import */ var _Observer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Observer */ "./node_modules/rxjs/_esm5/internal/Observer.js");
/** PURE_IMPORTS_START _Subscriber,_symbol_rxSubscriber,_Observer PURE_IMPORTS_END */



function toSubscriber(nextOrObserver, error, complete) {
    if (nextOrObserver) {
        if (nextOrObserver instanceof _Subscriber__WEBPACK_IMPORTED_MODULE_0__["Subscriber"]) {
            return nextOrObserver;
        }
        if (nextOrObserver[_symbol_rxSubscriber__WEBPACK_IMPORTED_MODULE_1__["rxSubscriber"]]) {
            return nextOrObserver[_symbol_rxSubscriber__WEBPACK_IMPORTED_MODULE_1__["rxSubscriber"]]();
        }
    }
    if (!nextOrObserver && !error && !complete) {
        return new _Subscriber__WEBPACK_IMPORTED_MODULE_0__["Subscriber"](_Observer__WEBPACK_IMPORTED_MODULE_2__["empty"]);
    }
    return new _Subscriber__WEBPACK_IMPORTED_MODULE_0__["Subscriber"](nextOrObserver, error, complete);
}
//# sourceMappingURL=toSubscriber.js.map


/***/ }),

/***/ "./node_modules/rxjs/_esm5/operators/index.js":
/*!****************************************************!*\
  !*** ./node_modules/rxjs/_esm5/operators/index.js ***!
  \****************************************************/
/*! exports provided: audit, auditTime, buffer, bufferCount, bufferTime, bufferToggle, bufferWhen, catchError, combineAll, combineLatest, concat, concatAll, concatMap, concatMapTo, count, debounce, debounceTime, defaultIfEmpty, delay, delayWhen, dematerialize, distinct, distinctUntilChanged, distinctUntilKeyChanged, elementAt, endWith, every, exhaust, exhaustMap, expand, filter, finalize, find, findIndex, first, groupBy, ignoreElements, isEmpty, last, map, mapTo, materialize, max, merge, mergeAll, mergeMap, flatMap, mergeMapTo, mergeScan, min, multicast, observeOn, onErrorResumeNext, pairwise, partition, pluck, publish, publishBehavior, publishLast, publishReplay, race, reduce, repeat, repeatWhen, retry, retryWhen, refCount, sample, sampleTime, scan, sequenceEqual, share, shareReplay, single, skip, skipLast, skipUntil, skipWhile, startWith, subscribeOn, switchAll, switchMap, switchMapTo, take, takeLast, takeUntil, takeWhile, tap, throttle, throttleTime, throwIfEmpty, timeInterval, timeout, timeoutWith, timestamp, toArray, window, windowCount, windowTime, windowToggle, windowWhen, withLatestFrom, zip, zipAll */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _internal_operators_audit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../internal/operators/audit */ "./node_modules/rxjs/_esm5/internal/operators/audit.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "audit", function() { return _internal_operators_audit__WEBPACK_IMPORTED_MODULE_0__["audit"]; });

/* harmony import */ var _internal_operators_auditTime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../internal/operators/auditTime */ "./node_modules/rxjs/_esm5/internal/operators/auditTime.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "auditTime", function() { return _internal_operators_auditTime__WEBPACK_IMPORTED_MODULE_1__["auditTime"]; });

/* harmony import */ var _internal_operators_buffer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../internal/operators/buffer */ "./node_modules/rxjs/_esm5/internal/operators/buffer.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "buffer", function() { return _internal_operators_buffer__WEBPACK_IMPORTED_MODULE_2__["buffer"]; });

/* harmony import */ var _internal_operators_bufferCount__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../internal/operators/bufferCount */ "./node_modules/rxjs/_esm5/internal/operators/bufferCount.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "bufferCount", function() { return _internal_operators_bufferCount__WEBPACK_IMPORTED_MODULE_3__["bufferCount"]; });

/* harmony import */ var _internal_operators_bufferTime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../internal/operators/bufferTime */ "./node_modules/rxjs/_esm5/internal/operators/bufferTime.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "bufferTime", function() { return _internal_operators_bufferTime__WEBPACK_IMPORTED_MODULE_4__["bufferTime"]; });

/* harmony import */ var _internal_operators_bufferToggle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../internal/operators/bufferToggle */ "./node_modules/rxjs/_esm5/internal/operators/bufferToggle.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "bufferToggle", function() { return _internal_operators_bufferToggle__WEBPACK_IMPORTED_MODULE_5__["bufferToggle"]; });

/* harmony import */ var _internal_operators_bufferWhen__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../internal/operators/bufferWhen */ "./node_modules/rxjs/_esm5/internal/operators/bufferWhen.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "bufferWhen", function() { return _internal_operators_bufferWhen__WEBPACK_IMPORTED_MODULE_6__["bufferWhen"]; });

/* harmony import */ var _internal_operators_catchError__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../internal/operators/catchError */ "./node_modules/rxjs/_esm5/internal/operators/catchError.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "catchError", function() { return _internal_operators_catchError__WEBPACK_IMPORTED_MODULE_7__["catchError"]; });

/* harmony import */ var _internal_operators_combineAll__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../internal/operators/combineAll */ "./node_modules/rxjs/_esm5/internal/operators/combineAll.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "combineAll", function() { return _internal_operators_combineAll__WEBPACK_IMPORTED_MODULE_8__["combineAll"]; });

/* harmony import */ var _internal_operators_combineLatest__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../internal/operators/combineLatest */ "./node_modules/rxjs/_esm5/internal/operators/combineLatest.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "combineLatest", function() { return _internal_operators_combineLatest__WEBPACK_IMPORTED_MODULE_9__["combineLatest"]; });

/* harmony import */ var _internal_operators_concat__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../internal/operators/concat */ "./node_modules/rxjs/_esm5/internal/operators/concat.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "concat", function() { return _internal_operators_concat__WEBPACK_IMPORTED_MODULE_10__["concat"]; });

/* harmony import */ var _internal_operators_concatAll__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../internal/operators/concatAll */ "./node_modules/rxjs/_esm5/internal/operators/concatAll.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "concatAll", function() { return _internal_operators_concatAll__WEBPACK_IMPORTED_MODULE_11__["concatAll"]; });

/* harmony import */ var _internal_operators_concatMap__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../internal/operators/concatMap */ "./node_modules/rxjs/_esm5/internal/operators/concatMap.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "concatMap", function() { return _internal_operators_concatMap__WEBPACK_IMPORTED_MODULE_12__["concatMap"]; });

/* harmony import */ var _internal_operators_concatMapTo__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../internal/operators/concatMapTo */ "./node_modules/rxjs/_esm5/internal/operators/concatMapTo.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "concatMapTo", function() { return _internal_operators_concatMapTo__WEBPACK_IMPORTED_MODULE_13__["concatMapTo"]; });

/* harmony import */ var _internal_operators_count__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../internal/operators/count */ "./node_modules/rxjs/_esm5/internal/operators/count.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "count", function() { return _internal_operators_count__WEBPACK_IMPORTED_MODULE_14__["count"]; });

/* harmony import */ var _internal_operators_debounce__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../internal/operators/debounce */ "./node_modules/rxjs/_esm5/internal/operators/debounce.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "debounce", function() { return _internal_operators_debounce__WEBPACK_IMPORTED_MODULE_15__["debounce"]; });

/* harmony import */ var _internal_operators_debounceTime__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../internal/operators/debounceTime */ "./node_modules/rxjs/_esm5/internal/operators/debounceTime.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "debounceTime", function() { return _internal_operators_debounceTime__WEBPACK_IMPORTED_MODULE_16__["debounceTime"]; });

/* harmony import */ var _internal_operators_defaultIfEmpty__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../internal/operators/defaultIfEmpty */ "./node_modules/rxjs/_esm5/internal/operators/defaultIfEmpty.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "defaultIfEmpty", function() { return _internal_operators_defaultIfEmpty__WEBPACK_IMPORTED_MODULE_17__["defaultIfEmpty"]; });

/* harmony import */ var _internal_operators_delay__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../internal/operators/delay */ "./node_modules/rxjs/_esm5/internal/operators/delay.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "delay", function() { return _internal_operators_delay__WEBPACK_IMPORTED_MODULE_18__["delay"]; });

/* harmony import */ var _internal_operators_delayWhen__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../internal/operators/delayWhen */ "./node_modules/rxjs/_esm5/internal/operators/delayWhen.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "delayWhen", function() { return _internal_operators_delayWhen__WEBPACK_IMPORTED_MODULE_19__["delayWhen"]; });

/* harmony import */ var _internal_operators_dematerialize__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../internal/operators/dematerialize */ "./node_modules/rxjs/_esm5/internal/operators/dematerialize.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "dematerialize", function() { return _internal_operators_dematerialize__WEBPACK_IMPORTED_MODULE_20__["dematerialize"]; });

/* harmony import */ var _internal_operators_distinct__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../internal/operators/distinct */ "./node_modules/rxjs/_esm5/internal/operators/distinct.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "distinct", function() { return _internal_operators_distinct__WEBPACK_IMPORTED_MODULE_21__["distinct"]; });

/* harmony import */ var _internal_operators_distinctUntilChanged__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../internal/operators/distinctUntilChanged */ "./node_modules/rxjs/_esm5/internal/operators/distinctUntilChanged.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "distinctUntilChanged", function() { return _internal_operators_distinctUntilChanged__WEBPACK_IMPORTED_MODULE_22__["distinctUntilChanged"]; });

/* harmony import */ var _internal_operators_distinctUntilKeyChanged__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../internal/operators/distinctUntilKeyChanged */ "./node_modules/rxjs/_esm5/internal/operators/distinctUntilKeyChanged.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "distinctUntilKeyChanged", function() { return _internal_operators_distinctUntilKeyChanged__WEBPACK_IMPORTED_MODULE_23__["distinctUntilKeyChanged"]; });

/* harmony import */ var _internal_operators_elementAt__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../internal/operators/elementAt */ "./node_modules/rxjs/_esm5/internal/operators/elementAt.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "elementAt", function() { return _internal_operators_elementAt__WEBPACK_IMPORTED_MODULE_24__["elementAt"]; });

/* harmony import */ var _internal_operators_endWith__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../internal/operators/endWith */ "./node_modules/rxjs/_esm5/internal/operators/endWith.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "endWith", function() { return _internal_operators_endWith__WEBPACK_IMPORTED_MODULE_25__["endWith"]; });

/* harmony import */ var _internal_operators_every__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../internal/operators/every */ "./node_modules/rxjs/_esm5/internal/operators/every.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "every", function() { return _internal_operators_every__WEBPACK_IMPORTED_MODULE_26__["every"]; });

/* harmony import */ var _internal_operators_exhaust__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../internal/operators/exhaust */ "./node_modules/rxjs/_esm5/internal/operators/exhaust.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "exhaust", function() { return _internal_operators_exhaust__WEBPACK_IMPORTED_MODULE_27__["exhaust"]; });

/* harmony import */ var _internal_operators_exhaustMap__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../internal/operators/exhaustMap */ "./node_modules/rxjs/_esm5/internal/operators/exhaustMap.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "exhaustMap", function() { return _internal_operators_exhaustMap__WEBPACK_IMPORTED_MODULE_28__["exhaustMap"]; });

/* harmony import */ var _internal_operators_expand__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../internal/operators/expand */ "./node_modules/rxjs/_esm5/internal/operators/expand.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "expand", function() { return _internal_operators_expand__WEBPACK_IMPORTED_MODULE_29__["expand"]; });

/* harmony import */ var _internal_operators_filter__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../internal/operators/filter */ "./node_modules/rxjs/_esm5/internal/operators/filter.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "filter", function() { return _internal_operators_filter__WEBPACK_IMPORTED_MODULE_30__["filter"]; });

/* harmony import */ var _internal_operators_finalize__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../internal/operators/finalize */ "./node_modules/rxjs/_esm5/internal/operators/finalize.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "finalize", function() { return _internal_operators_finalize__WEBPACK_IMPORTED_MODULE_31__["finalize"]; });

/* harmony import */ var _internal_operators_find__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../internal/operators/find */ "./node_modules/rxjs/_esm5/internal/operators/find.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "find", function() { return _internal_operators_find__WEBPACK_IMPORTED_MODULE_32__["find"]; });

/* harmony import */ var _internal_operators_findIndex__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../internal/operators/findIndex */ "./node_modules/rxjs/_esm5/internal/operators/findIndex.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "findIndex", function() { return _internal_operators_findIndex__WEBPACK_IMPORTED_MODULE_33__["findIndex"]; });

/* harmony import */ var _internal_operators_first__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../internal/operators/first */ "./node_modules/rxjs/_esm5/internal/operators/first.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "first", function() { return _internal_operators_first__WEBPACK_IMPORTED_MODULE_34__["first"]; });

/* harmony import */ var _internal_operators_groupBy__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../internal/operators/groupBy */ "./node_modules/rxjs/_esm5/internal/operators/groupBy.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "groupBy", function() { return _internal_operators_groupBy__WEBPACK_IMPORTED_MODULE_35__["groupBy"]; });

/* harmony import */ var _internal_operators_ignoreElements__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../internal/operators/ignoreElements */ "./node_modules/rxjs/_esm5/internal/operators/ignoreElements.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ignoreElements", function() { return _internal_operators_ignoreElements__WEBPACK_IMPORTED_MODULE_36__["ignoreElements"]; });

/* harmony import */ var _internal_operators_isEmpty__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../internal/operators/isEmpty */ "./node_modules/rxjs/_esm5/internal/operators/isEmpty.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isEmpty", function() { return _internal_operators_isEmpty__WEBPACK_IMPORTED_MODULE_37__["isEmpty"]; });

/* harmony import */ var _internal_operators_last__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../internal/operators/last */ "./node_modules/rxjs/_esm5/internal/operators/last.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "last", function() { return _internal_operators_last__WEBPACK_IMPORTED_MODULE_38__["last"]; });

/* harmony import */ var _internal_operators_map__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../internal/operators/map */ "./node_modules/rxjs/_esm5/internal/operators/map.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "map", function() { return _internal_operators_map__WEBPACK_IMPORTED_MODULE_39__["map"]; });

/* harmony import */ var _internal_operators_mapTo__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../internal/operators/mapTo */ "./node_modules/rxjs/_esm5/internal/operators/mapTo.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "mapTo", function() { return _internal_operators_mapTo__WEBPACK_IMPORTED_MODULE_40__["mapTo"]; });

/* harmony import */ var _internal_operators_materialize__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../internal/operators/materialize */ "./node_modules/rxjs/_esm5/internal/operators/materialize.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "materialize", function() { return _internal_operators_materialize__WEBPACK_IMPORTED_MODULE_41__["materialize"]; });

/* harmony import */ var _internal_operators_max__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../internal/operators/max */ "./node_modules/rxjs/_esm5/internal/operators/max.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "max", function() { return _internal_operators_max__WEBPACK_IMPORTED_MODULE_42__["max"]; });

/* harmony import */ var _internal_operators_merge__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ../internal/operators/merge */ "./node_modules/rxjs/_esm5/internal/operators/merge.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "merge", function() { return _internal_operators_merge__WEBPACK_IMPORTED_MODULE_43__["merge"]; });

/* harmony import */ var _internal_operators_mergeAll__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ../internal/operators/mergeAll */ "./node_modules/rxjs/_esm5/internal/operators/mergeAll.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "mergeAll", function() { return _internal_operators_mergeAll__WEBPACK_IMPORTED_MODULE_44__["mergeAll"]; });

/* harmony import */ var _internal_operators_mergeMap__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ../internal/operators/mergeMap */ "./node_modules/rxjs/_esm5/internal/operators/mergeMap.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "mergeMap", function() { return _internal_operators_mergeMap__WEBPACK_IMPORTED_MODULE_45__["mergeMap"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "flatMap", function() { return _internal_operators_mergeMap__WEBPACK_IMPORTED_MODULE_45__["flatMap"]; });

/* harmony import */ var _internal_operators_mergeMapTo__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ../internal/operators/mergeMapTo */ "./node_modules/rxjs/_esm5/internal/operators/mergeMapTo.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "mergeMapTo", function() { return _internal_operators_mergeMapTo__WEBPACK_IMPORTED_MODULE_46__["mergeMapTo"]; });

/* harmony import */ var _internal_operators_mergeScan__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ../internal/operators/mergeScan */ "./node_modules/rxjs/_esm5/internal/operators/mergeScan.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "mergeScan", function() { return _internal_operators_mergeScan__WEBPACK_IMPORTED_MODULE_47__["mergeScan"]; });

/* harmony import */ var _internal_operators_min__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ../internal/operators/min */ "./node_modules/rxjs/_esm5/internal/operators/min.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "min", function() { return _internal_operators_min__WEBPACK_IMPORTED_MODULE_48__["min"]; });

/* harmony import */ var _internal_operators_multicast__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ../internal/operators/multicast */ "./node_modules/rxjs/_esm5/internal/operators/multicast.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "multicast", function() { return _internal_operators_multicast__WEBPACK_IMPORTED_MODULE_49__["multicast"]; });

/* harmony import */ var _internal_operators_observeOn__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ../internal/operators/observeOn */ "./node_modules/rxjs/_esm5/internal/operators/observeOn.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "observeOn", function() { return _internal_operators_observeOn__WEBPACK_IMPORTED_MODULE_50__["observeOn"]; });

/* harmony import */ var _internal_operators_onErrorResumeNext__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ../internal/operators/onErrorResumeNext */ "./node_modules/rxjs/_esm5/internal/operators/onErrorResumeNext.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "onErrorResumeNext", function() { return _internal_operators_onErrorResumeNext__WEBPACK_IMPORTED_MODULE_51__["onErrorResumeNext"]; });

/* harmony import */ var _internal_operators_pairwise__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ../internal/operators/pairwise */ "./node_modules/rxjs/_esm5/internal/operators/pairwise.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "pairwise", function() { return _internal_operators_pairwise__WEBPACK_IMPORTED_MODULE_52__["pairwise"]; });

/* harmony import */ var _internal_operators_partition__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ../internal/operators/partition */ "./node_modules/rxjs/_esm5/internal/operators/partition.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "partition", function() { return _internal_operators_partition__WEBPACK_IMPORTED_MODULE_53__["partition"]; });

/* harmony import */ var _internal_operators_pluck__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ../internal/operators/pluck */ "./node_modules/rxjs/_esm5/internal/operators/pluck.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "pluck", function() { return _internal_operators_pluck__WEBPACK_IMPORTED_MODULE_54__["pluck"]; });

/* harmony import */ var _internal_operators_publish__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ../internal/operators/publish */ "./node_modules/rxjs/_esm5/internal/operators/publish.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "publish", function() { return _internal_operators_publish__WEBPACK_IMPORTED_MODULE_55__["publish"]; });

/* harmony import */ var _internal_operators_publishBehavior__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ../internal/operators/publishBehavior */ "./node_modules/rxjs/_esm5/internal/operators/publishBehavior.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "publishBehavior", function() { return _internal_operators_publishBehavior__WEBPACK_IMPORTED_MODULE_56__["publishBehavior"]; });

/* harmony import */ var _internal_operators_publishLast__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ../internal/operators/publishLast */ "./node_modules/rxjs/_esm5/internal/operators/publishLast.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "publishLast", function() { return _internal_operators_publishLast__WEBPACK_IMPORTED_MODULE_57__["publishLast"]; });

/* harmony import */ var _internal_operators_publishReplay__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ../internal/operators/publishReplay */ "./node_modules/rxjs/_esm5/internal/operators/publishReplay.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "publishReplay", function() { return _internal_operators_publishReplay__WEBPACK_IMPORTED_MODULE_58__["publishReplay"]; });

/* harmony import */ var _internal_operators_race__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ../internal/operators/race */ "./node_modules/rxjs/_esm5/internal/operators/race.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "race", function() { return _internal_operators_race__WEBPACK_IMPORTED_MODULE_59__["race"]; });

/* harmony import */ var _internal_operators_reduce__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ../internal/operators/reduce */ "./node_modules/rxjs/_esm5/internal/operators/reduce.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "reduce", function() { return _internal_operators_reduce__WEBPACK_IMPORTED_MODULE_60__["reduce"]; });

/* harmony import */ var _internal_operators_repeat__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! ../internal/operators/repeat */ "./node_modules/rxjs/_esm5/internal/operators/repeat.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "repeat", function() { return _internal_operators_repeat__WEBPACK_IMPORTED_MODULE_61__["repeat"]; });

/* harmony import */ var _internal_operators_repeatWhen__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! ../internal/operators/repeatWhen */ "./node_modules/rxjs/_esm5/internal/operators/repeatWhen.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "repeatWhen", function() { return _internal_operators_repeatWhen__WEBPACK_IMPORTED_MODULE_62__["repeatWhen"]; });

/* harmony import */ var _internal_operators_retry__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ../internal/operators/retry */ "./node_modules/rxjs/_esm5/internal/operators/retry.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "retry", function() { return _internal_operators_retry__WEBPACK_IMPORTED_MODULE_63__["retry"]; });

/* harmony import */ var _internal_operators_retryWhen__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! ../internal/operators/retryWhen */ "./node_modules/rxjs/_esm5/internal/operators/retryWhen.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "retryWhen", function() { return _internal_operators_retryWhen__WEBPACK_IMPORTED_MODULE_64__["retryWhen"]; });

/* harmony import */ var _internal_operators_refCount__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! ../internal/operators/refCount */ "./node_modules/rxjs/_esm5/internal/operators/refCount.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "refCount", function() { return _internal_operators_refCount__WEBPACK_IMPORTED_MODULE_65__["refCount"]; });

/* harmony import */ var _internal_operators_sample__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! ../internal/operators/sample */ "./node_modules/rxjs/_esm5/internal/operators/sample.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "sample", function() { return _internal_operators_sample__WEBPACK_IMPORTED_MODULE_66__["sample"]; });

/* harmony import */ var _internal_operators_sampleTime__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! ../internal/operators/sampleTime */ "./node_modules/rxjs/_esm5/internal/operators/sampleTime.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "sampleTime", function() { return _internal_operators_sampleTime__WEBPACK_IMPORTED_MODULE_67__["sampleTime"]; });

/* harmony import */ var _internal_operators_scan__WEBPACK_IMPORTED_MODULE_68__ = __webpack_require__(/*! ../internal/operators/scan */ "./node_modules/rxjs/_esm5/internal/operators/scan.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "scan", function() { return _internal_operators_scan__WEBPACK_IMPORTED_MODULE_68__["scan"]; });

/* harmony import */ var _internal_operators_sequenceEqual__WEBPACK_IMPORTED_MODULE_69__ = __webpack_require__(/*! ../internal/operators/sequenceEqual */ "./node_modules/rxjs/_esm5/internal/operators/sequenceEqual.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "sequenceEqual", function() { return _internal_operators_sequenceEqual__WEBPACK_IMPORTED_MODULE_69__["sequenceEqual"]; });

/* harmony import */ var _internal_operators_share__WEBPACK_IMPORTED_MODULE_70__ = __webpack_require__(/*! ../internal/operators/share */ "./node_modules/rxjs/_esm5/internal/operators/share.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "share", function() { return _internal_operators_share__WEBPACK_IMPORTED_MODULE_70__["share"]; });

/* harmony import */ var _internal_operators_shareReplay__WEBPACK_IMPORTED_MODULE_71__ = __webpack_require__(/*! ../internal/operators/shareReplay */ "./node_modules/rxjs/_esm5/internal/operators/shareReplay.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "shareReplay", function() { return _internal_operators_shareReplay__WEBPACK_IMPORTED_MODULE_71__["shareReplay"]; });

/* harmony import */ var _internal_operators_single__WEBPACK_IMPORTED_MODULE_72__ = __webpack_require__(/*! ../internal/operators/single */ "./node_modules/rxjs/_esm5/internal/operators/single.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "single", function() { return _internal_operators_single__WEBPACK_IMPORTED_MODULE_72__["single"]; });

/* harmony import */ var _internal_operators_skip__WEBPACK_IMPORTED_MODULE_73__ = __webpack_require__(/*! ../internal/operators/skip */ "./node_modules/rxjs/_esm5/internal/operators/skip.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "skip", function() { return _internal_operators_skip__WEBPACK_IMPORTED_MODULE_73__["skip"]; });

/* harmony import */ var _internal_operators_skipLast__WEBPACK_IMPORTED_MODULE_74__ = __webpack_require__(/*! ../internal/operators/skipLast */ "./node_modules/rxjs/_esm5/internal/operators/skipLast.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "skipLast", function() { return _internal_operators_skipLast__WEBPACK_IMPORTED_MODULE_74__["skipLast"]; });

/* harmony import */ var _internal_operators_skipUntil__WEBPACK_IMPORTED_MODULE_75__ = __webpack_require__(/*! ../internal/operators/skipUntil */ "./node_modules/rxjs/_esm5/internal/operators/skipUntil.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "skipUntil", function() { return _internal_operators_skipUntil__WEBPACK_IMPORTED_MODULE_75__["skipUntil"]; });

/* harmony import */ var _internal_operators_skipWhile__WEBPACK_IMPORTED_MODULE_76__ = __webpack_require__(/*! ../internal/operators/skipWhile */ "./node_modules/rxjs/_esm5/internal/operators/skipWhile.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "skipWhile", function() { return _internal_operators_skipWhile__WEBPACK_IMPORTED_MODULE_76__["skipWhile"]; });

/* harmony import */ var _internal_operators_startWith__WEBPACK_IMPORTED_MODULE_77__ = __webpack_require__(/*! ../internal/operators/startWith */ "./node_modules/rxjs/_esm5/internal/operators/startWith.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "startWith", function() { return _internal_operators_startWith__WEBPACK_IMPORTED_MODULE_77__["startWith"]; });

/* harmony import */ var _internal_operators_subscribeOn__WEBPACK_IMPORTED_MODULE_78__ = __webpack_require__(/*! ../internal/operators/subscribeOn */ "./node_modules/rxjs/_esm5/internal/operators/subscribeOn.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "subscribeOn", function() { return _internal_operators_subscribeOn__WEBPACK_IMPORTED_MODULE_78__["subscribeOn"]; });

/* harmony import */ var _internal_operators_switchAll__WEBPACK_IMPORTED_MODULE_79__ = __webpack_require__(/*! ../internal/operators/switchAll */ "./node_modules/rxjs/_esm5/internal/operators/switchAll.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "switchAll", function() { return _internal_operators_switchAll__WEBPACK_IMPORTED_MODULE_79__["switchAll"]; });

/* harmony import */ var _internal_operators_switchMap__WEBPACK_IMPORTED_MODULE_80__ = __webpack_require__(/*! ../internal/operators/switchMap */ "./node_modules/rxjs/_esm5/internal/operators/switchMap.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "switchMap", function() { return _internal_operators_switchMap__WEBPACK_IMPORTED_MODULE_80__["switchMap"]; });

/* harmony import */ var _internal_operators_switchMapTo__WEBPACK_IMPORTED_MODULE_81__ = __webpack_require__(/*! ../internal/operators/switchMapTo */ "./node_modules/rxjs/_esm5/internal/operators/switchMapTo.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "switchMapTo", function() { return _internal_operators_switchMapTo__WEBPACK_IMPORTED_MODULE_81__["switchMapTo"]; });

/* harmony import */ var _internal_operators_take__WEBPACK_IMPORTED_MODULE_82__ = __webpack_require__(/*! ../internal/operators/take */ "./node_modules/rxjs/_esm5/internal/operators/take.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "take", function() { return _internal_operators_take__WEBPACK_IMPORTED_MODULE_82__["take"]; });

/* harmony import */ var _internal_operators_takeLast__WEBPACK_IMPORTED_MODULE_83__ = __webpack_require__(/*! ../internal/operators/takeLast */ "./node_modules/rxjs/_esm5/internal/operators/takeLast.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "takeLast", function() { return _internal_operators_takeLast__WEBPACK_IMPORTED_MODULE_83__["takeLast"]; });

/* harmony import */ var _internal_operators_takeUntil__WEBPACK_IMPORTED_MODULE_84__ = __webpack_require__(/*! ../internal/operators/takeUntil */ "./node_modules/rxjs/_esm5/internal/operators/takeUntil.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "takeUntil", function() { return _internal_operators_takeUntil__WEBPACK_IMPORTED_MODULE_84__["takeUntil"]; });

/* harmony import */ var _internal_operators_takeWhile__WEBPACK_IMPORTED_MODULE_85__ = __webpack_require__(/*! ../internal/operators/takeWhile */ "./node_modules/rxjs/_esm5/internal/operators/takeWhile.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "takeWhile", function() { return _internal_operators_takeWhile__WEBPACK_IMPORTED_MODULE_85__["takeWhile"]; });

/* harmony import */ var _internal_operators_tap__WEBPACK_IMPORTED_MODULE_86__ = __webpack_require__(/*! ../internal/operators/tap */ "./node_modules/rxjs/_esm5/internal/operators/tap.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "tap", function() { return _internal_operators_tap__WEBPACK_IMPORTED_MODULE_86__["tap"]; });

/* harmony import */ var _internal_operators_throttle__WEBPACK_IMPORTED_MODULE_87__ = __webpack_require__(/*! ../internal/operators/throttle */ "./node_modules/rxjs/_esm5/internal/operators/throttle.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "throttle", function() { return _internal_operators_throttle__WEBPACK_IMPORTED_MODULE_87__["throttle"]; });

/* harmony import */ var _internal_operators_throttleTime__WEBPACK_IMPORTED_MODULE_88__ = __webpack_require__(/*! ../internal/operators/throttleTime */ "./node_modules/rxjs/_esm5/internal/operators/throttleTime.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "throttleTime", function() { return _internal_operators_throttleTime__WEBPACK_IMPORTED_MODULE_88__["throttleTime"]; });

/* harmony import */ var _internal_operators_throwIfEmpty__WEBPACK_IMPORTED_MODULE_89__ = __webpack_require__(/*! ../internal/operators/throwIfEmpty */ "./node_modules/rxjs/_esm5/internal/operators/throwIfEmpty.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "throwIfEmpty", function() { return _internal_operators_throwIfEmpty__WEBPACK_IMPORTED_MODULE_89__["throwIfEmpty"]; });

/* harmony import */ var _internal_operators_timeInterval__WEBPACK_IMPORTED_MODULE_90__ = __webpack_require__(/*! ../internal/operators/timeInterval */ "./node_modules/rxjs/_esm5/internal/operators/timeInterval.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "timeInterval", function() { return _internal_operators_timeInterval__WEBPACK_IMPORTED_MODULE_90__["timeInterval"]; });

/* harmony import */ var _internal_operators_timeout__WEBPACK_IMPORTED_MODULE_91__ = __webpack_require__(/*! ../internal/operators/timeout */ "./node_modules/rxjs/_esm5/internal/operators/timeout.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "timeout", function() { return _internal_operators_timeout__WEBPACK_IMPORTED_MODULE_91__["timeout"]; });

/* harmony import */ var _internal_operators_timeoutWith__WEBPACK_IMPORTED_MODULE_92__ = __webpack_require__(/*! ../internal/operators/timeoutWith */ "./node_modules/rxjs/_esm5/internal/operators/timeoutWith.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "timeoutWith", function() { return _internal_operators_timeoutWith__WEBPACK_IMPORTED_MODULE_92__["timeoutWith"]; });

/* harmony import */ var _internal_operators_timestamp__WEBPACK_IMPORTED_MODULE_93__ = __webpack_require__(/*! ../internal/operators/timestamp */ "./node_modules/rxjs/_esm5/internal/operators/timestamp.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "timestamp", function() { return _internal_operators_timestamp__WEBPACK_IMPORTED_MODULE_93__["timestamp"]; });

/* harmony import */ var _internal_operators_toArray__WEBPACK_IMPORTED_MODULE_94__ = __webpack_require__(/*! ../internal/operators/toArray */ "./node_modules/rxjs/_esm5/internal/operators/toArray.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "toArray", function() { return _internal_operators_toArray__WEBPACK_IMPORTED_MODULE_94__["toArray"]; });

/* harmony import */ var _internal_operators_window__WEBPACK_IMPORTED_MODULE_95__ = __webpack_require__(/*! ../internal/operators/window */ "./node_modules/rxjs/_esm5/internal/operators/window.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "window", function() { return _internal_operators_window__WEBPACK_IMPORTED_MODULE_95__["window"]; });

/* harmony import */ var _internal_operators_windowCount__WEBPACK_IMPORTED_MODULE_96__ = __webpack_require__(/*! ../internal/operators/windowCount */ "./node_modules/rxjs/_esm5/internal/operators/windowCount.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "windowCount", function() { return _internal_operators_windowCount__WEBPACK_IMPORTED_MODULE_96__["windowCount"]; });

/* harmony import */ var _internal_operators_windowTime__WEBPACK_IMPORTED_MODULE_97__ = __webpack_require__(/*! ../internal/operators/windowTime */ "./node_modules/rxjs/_esm5/internal/operators/windowTime.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "windowTime", function() { return _internal_operators_windowTime__WEBPACK_IMPORTED_MODULE_97__["windowTime"]; });

/* harmony import */ var _internal_operators_windowToggle__WEBPACK_IMPORTED_MODULE_98__ = __webpack_require__(/*! ../internal/operators/windowToggle */ "./node_modules/rxjs/_esm5/internal/operators/windowToggle.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "windowToggle", function() { return _internal_operators_windowToggle__WEBPACK_IMPORTED_MODULE_98__["windowToggle"]; });

/* harmony import */ var _internal_operators_windowWhen__WEBPACK_IMPORTED_MODULE_99__ = __webpack_require__(/*! ../internal/operators/windowWhen */ "./node_modules/rxjs/_esm5/internal/operators/windowWhen.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "windowWhen", function() { return _internal_operators_windowWhen__WEBPACK_IMPORTED_MODULE_99__["windowWhen"]; });

/* harmony import */ var _internal_operators_withLatestFrom__WEBPACK_IMPORTED_MODULE_100__ = __webpack_require__(/*! ../internal/operators/withLatestFrom */ "./node_modules/rxjs/_esm5/internal/operators/withLatestFrom.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "withLatestFrom", function() { return _internal_operators_withLatestFrom__WEBPACK_IMPORTED_MODULE_100__["withLatestFrom"]; });

/* harmony import */ var _internal_operators_zip__WEBPACK_IMPORTED_MODULE_101__ = __webpack_require__(/*! ../internal/operators/zip */ "./node_modules/rxjs/_esm5/internal/operators/zip.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "zip", function() { return _internal_operators_zip__WEBPACK_IMPORTED_MODULE_101__["zip"]; });

/* harmony import */ var _internal_operators_zipAll__WEBPACK_IMPORTED_MODULE_102__ = __webpack_require__(/*! ../internal/operators/zipAll */ "./node_modules/rxjs/_esm5/internal/operators/zipAll.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "zipAll", function() { return _internal_operators_zipAll__WEBPACK_IMPORTED_MODULE_102__["zipAll"]; });

/** PURE_IMPORTS_START  PURE_IMPORTS_END */







































































































//# sourceMappingURL=index.js.map


/***/ }),

/***/ "./node_modules/shallowequal/index.js":
/*!********************************************!*\
  !*** ./node_modules/shallowequal/index.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

//

module.exports = function shallowEqual(objA, objB, compare, compareContext) {
  var ret = compare ? compare.call(compareContext, objA, objB) : void 0;

  if (ret !== void 0) {
    return !!ret;
  }

  if (objA === objB) {
    return true;
  }

  if (typeof objA !== "object" || !objA || typeof objB !== "object" || !objB) {
    return false;
  }

  var keysA = Object.keys(objA);
  var keysB = Object.keys(objB);

  if (keysA.length !== keysB.length) {
    return false;
  }

  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);

  // Test for A's keys different from B.
  for (var idx = 0; idx < keysA.length; idx++) {
    var key = keysA[idx];

    if (!bHasOwnProperty(key)) {
      return false;
    }

    var valueA = objA[key];
    var valueB = objB[key];

    ret = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;

    if (ret === false || (ret === void 0 && valueA !== valueB)) {
      return false;
    }
  }

  return true;
};


/***/ }),

/***/ "./node_modules/tslib/tslib.es6.js":
/*!*****************************************!*\
  !*** ./node_modules/tslib/tslib.es6.js ***!
  \*****************************************/
/*! exports provided: __extends, __assign, __rest, __decorate, __param, __metadata, __awaiter, __generator, __createBinding, __exportStar, __values, __read, __spread, __spreadArrays, __await, __asyncGenerator, __asyncDelegator, __asyncValues, __makeTemplateObject, __importStar, __importDefault, __classPrivateFieldGet, __classPrivateFieldSet */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__extends", function() { return __extends; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__assign", function() { return __assign; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__rest", function() { return __rest; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__decorate", function() { return __decorate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__param", function() { return __param; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__metadata", function() { return __metadata; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__awaiter", function() { return __awaiter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__generator", function() { return __generator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__createBinding", function() { return __createBinding; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__exportStar", function() { return __exportStar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__values", function() { return __values; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__read", function() { return __read; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__spread", function() { return __spread; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__spreadArrays", function() { return __spreadArrays; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__await", function() { return __await; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__asyncGenerator", function() { return __asyncGenerator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__asyncDelegator", function() { return __asyncDelegator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__asyncValues", function() { return __asyncValues; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__makeTemplateObject", function() { return __makeTemplateObject; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__importStar", function() { return __importStar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__importDefault", function() { return __importDefault; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__classPrivateFieldGet", function() { return __classPrivateFieldGet; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__classPrivateFieldSet", function() { return __classPrivateFieldSet; });
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/* global Reflect, Promise */

var extendStatics = function(d, b) {
    extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return extendStatics(d, b);
};

function __extends(d, b) {
    extendStatics(d, b);
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
}

var __assign = function() {
    __assign = Object.assign || function __assign(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
        }
        return t;
    }
    return __assign.apply(this, arguments);
}

function __rest(s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
}

function __decorate(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
}

function __param(paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
}

function __metadata(metadataKey, metadataValue) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(metadataKey, metadataValue);
}

function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

function __generator(thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
}

function __createBinding(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}

function __exportStar(m, exports) {
    for (var p in m) if (p !== "default" && !exports.hasOwnProperty(p)) exports[p] = m[p];
}

function __values(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
}

function __read(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
}

function __spread() {
    for (var ar = [], i = 0; i < arguments.length; i++)
        ar = ar.concat(__read(arguments[i]));
    return ar;
}

function __spreadArrays() {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
};

function __await(v) {
    return this instanceof __await ? (this.v = v, this) : new __await(v);
}

function __asyncGenerator(thisArg, _arguments, generator) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var g = generator.apply(thisArg, _arguments || []), i, q = [];
    return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;
    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }
    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }
    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }
    function fulfill(value) { resume("next", value); }
    function reject(value) { resume("throw", value); }
    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }
}

function __asyncDelegator(o) {
    var i, p;
    return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;
    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === "return" } : f ? f(v) : v; } : f; }
}

function __asyncValues(o) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var m = o[Symbol.asyncIterator], i;
    return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }
}

function __makeTemplateObject(cooked, raw) {
    if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
    return cooked;
};

function __importStar(mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result.default = mod;
    return result;
}

function __importDefault(mod) {
    return (mod && mod.__esModule) ? mod : { default: mod };
}

function __classPrivateFieldGet(receiver, privateMap) {
    if (!privateMap.has(receiver)) {
        throw new TypeError("attempted to get private field on non-instance");
    }
    return privateMap.get(receiver);
}

function __classPrivateFieldSet(receiver, privateMap, value) {
    if (!privateMap.has(receiver)) {
        throw new TypeError("attempted to set private field on non-instance");
    }
    privateMap.set(receiver, value);
    return value;
}


/***/ }),

/***/ "./node_modules/util/node_modules/inherits/inherits_browser.js":
/*!*********************************************************************!*\
  !*** ./node_modules/util/node_modules/inherits/inherits_browser.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

if (typeof Object.create === 'function') {
  // implementation from standard node.js 'util' module
  module.exports = function inherits(ctor, superCtor) {
    ctor.super_ = superCtor
    ctor.prototype = Object.create(superCtor.prototype, {
      constructor: {
        value: ctor,
        enumerable: false,
        writable: true,
        configurable: true
      }
    });
  };
} else {
  // old school shim for old browsers
  module.exports = function inherits(ctor, superCtor) {
    ctor.super_ = superCtor
    var TempCtor = function () {}
    TempCtor.prototype = superCtor.prototype
    ctor.prototype = new TempCtor()
    ctor.prototype.constructor = ctor
  }
}


/***/ }),

/***/ "./node_modules/util/support/isBufferBrowser.js":
/*!******************************************************!*\
  !*** ./node_modules/util/support/isBufferBrowser.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function isBuffer(arg) {
  return arg && typeof arg === 'object'
    && typeof arg.copy === 'function'
    && typeof arg.fill === 'function'
    && typeof arg.readUInt8 === 'function';
}

/***/ }),

/***/ "./node_modules/util/util.js":
/*!***********************************!*\
  !*** ./node_modules/util/util.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(process) {// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

var getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors ||
  function getOwnPropertyDescriptors(obj) {
    var keys = Object.keys(obj);
    var descriptors = {};
    for (var i = 0; i < keys.length; i++) {
      descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);
    }
    return descriptors;
  };

var formatRegExp = /%[sdj%]/g;
exports.format = function(f) {
  if (!isString(f)) {
    var objects = [];
    for (var i = 0; i < arguments.length; i++) {
      objects.push(inspect(arguments[i]));
    }
    return objects.join(' ');
  }

  var i = 1;
  var args = arguments;
  var len = args.length;
  var str = String(f).replace(formatRegExp, function(x) {
    if (x === '%%') return '%';
    if (i >= len) return x;
    switch (x) {
      case '%s': return String(args[i++]);
      case '%d': return Number(args[i++]);
      case '%j':
        try {
          return JSON.stringify(args[i++]);
        } catch (_) {
          return '[Circular]';
        }
      default:
        return x;
    }
  });
  for (var x = args[i]; i < len; x = args[++i]) {
    if (isNull(x) || !isObject(x)) {
      str += ' ' + x;
    } else {
      str += ' ' + inspect(x);
    }
  }
  return str;
};


// Mark that a method should not be used.
// Returns a modified function which warns once by default.
// If --no-deprecation is set, then it is a no-op.
exports.deprecate = function(fn, msg) {
  if (typeof process !== 'undefined' && process.noDeprecation === true) {
    return fn;
  }

  // Allow for deprecating things in the process of starting up.
  if (typeof process === 'undefined') {
    return function() {
      return exports.deprecate(fn, msg).apply(this, arguments);
    };
  }

  var warned = false;
  function deprecated() {
    if (!warned) {
      if (process.throwDeprecation) {
        throw new Error(msg);
      } else if (process.traceDeprecation) {
        console.trace(msg);
      } else {
        console.error(msg);
      }
      warned = true;
    }
    return fn.apply(this, arguments);
  }

  return deprecated;
};


var debugs = {};
var debugEnviron;
exports.debuglog = function(set) {
  if (isUndefined(debugEnviron))
    debugEnviron = process.env.NODE_DEBUG || '';
  set = set.toUpperCase();
  if (!debugs[set]) {
    if (new RegExp('\\b' + set + '\\b', 'i').test(debugEnviron)) {
      var pid = process.pid;
      debugs[set] = function() {
        var msg = exports.format.apply(exports, arguments);
        console.error('%s %d: %s', set, pid, msg);
      };
    } else {
      debugs[set] = function() {};
    }
  }
  return debugs[set];
};


/**
 * Echos the value of a value. Trys to print the value out
 * in the best way possible given the different types.
 *
 * @param {Object} obj The object to print out.
 * @param {Object} opts Optional options object that alters the output.
 */
/* legacy: obj, showHidden, depth, colors*/
function inspect(obj, opts) {
  // default options
  var ctx = {
    seen: [],
    stylize: stylizeNoColor
  };
  // legacy...
  if (arguments.length >= 3) ctx.depth = arguments[2];
  if (arguments.length >= 4) ctx.colors = arguments[3];
  if (isBoolean(opts)) {
    // legacy...
    ctx.showHidden = opts;
  } else if (opts) {
    // got an "options" object
    exports._extend(ctx, opts);
  }
  // set default options
  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;
  if (isUndefined(ctx.depth)) ctx.depth = 2;
  if (isUndefined(ctx.colors)) ctx.colors = false;
  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;
  if (ctx.colors) ctx.stylize = stylizeWithColor;
  return formatValue(ctx, obj, ctx.depth);
}
exports.inspect = inspect;


// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics
inspect.colors = {
  'bold' : [1, 22],
  'italic' : [3, 23],
  'underline' : [4, 24],
  'inverse' : [7, 27],
  'white' : [37, 39],
  'grey' : [90, 39],
  'black' : [30, 39],
  'blue' : [34, 39],
  'cyan' : [36, 39],
  'green' : [32, 39],
  'magenta' : [35, 39],
  'red' : [31, 39],
  'yellow' : [33, 39]
};

// Don't use 'blue' not visible on cmd.exe
inspect.styles = {
  'special': 'cyan',
  'number': 'yellow',
  'boolean': 'yellow',
  'undefined': 'grey',
  'null': 'bold',
  'string': 'green',
  'date': 'magenta',
  // "name": intentionally not styling
  'regexp': 'red'
};


function stylizeWithColor(str, styleType) {
  var style = inspect.styles[styleType];

  if (style) {
    return '\u001b[' + inspect.colors[style][0] + 'm' + str +
           '\u001b[' + inspect.colors[style][1] + 'm';
  } else {
    return str;
  }
}


function stylizeNoColor(str, styleType) {
  return str;
}


function arrayToHash(array) {
  var hash = {};

  array.forEach(function(val, idx) {
    hash[val] = true;
  });

  return hash;
}


function formatValue(ctx, value, recurseTimes) {
  // Provide a hook for user-specified inspect functions.
  // Check that value is an object with an inspect function on it
  if (ctx.customInspect &&
      value &&
      isFunction(value.inspect) &&
      // Filter out the util module, it's inspect function is special
      value.inspect !== exports.inspect &&
      // Also filter out any prototype objects using the circular check.
      !(value.constructor && value.constructor.prototype === value)) {
    var ret = value.inspect(recurseTimes, ctx);
    if (!isString(ret)) {
      ret = formatValue(ctx, ret, recurseTimes);
    }
    return ret;
  }

  // Primitive types cannot have properties
  var primitive = formatPrimitive(ctx, value);
  if (primitive) {
    return primitive;
  }

  // Look up the keys of the object.
  var keys = Object.keys(value);
  var visibleKeys = arrayToHash(keys);

  if (ctx.showHidden) {
    keys = Object.getOwnPropertyNames(value);
  }

  // IE doesn't make error fields non-enumerable
  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx
  if (isError(value)
      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {
    return formatError(value);
  }

  // Some type of object without properties can be shortcutted.
  if (keys.length === 0) {
    if (isFunction(value)) {
      var name = value.name ? ': ' + value.name : '';
      return ctx.stylize('[Function' + name + ']', 'special');
    }
    if (isRegExp(value)) {
      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');
    }
    if (isDate(value)) {
      return ctx.stylize(Date.prototype.toString.call(value), 'date');
    }
    if (isError(value)) {
      return formatError(value);
    }
  }

  var base = '', array = false, braces = ['{', '}'];

  // Make Array say that they are Array
  if (isArray(value)) {
    array = true;
    braces = ['[', ']'];
  }

  // Make functions say that they are functions
  if (isFunction(value)) {
    var n = value.name ? ': ' + value.name : '';
    base = ' [Function' + n + ']';
  }

  // Make RegExps say that they are RegExps
  if (isRegExp(value)) {
    base = ' ' + RegExp.prototype.toString.call(value);
  }

  // Make dates with properties first say the date
  if (isDate(value)) {
    base = ' ' + Date.prototype.toUTCString.call(value);
  }

  // Make error with message first say the error
  if (isError(value)) {
    base = ' ' + formatError(value);
  }

  if (keys.length === 0 && (!array || value.length == 0)) {
    return braces[0] + base + braces[1];
  }

  if (recurseTimes < 0) {
    if (isRegExp(value)) {
      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');
    } else {
      return ctx.stylize('[Object]', 'special');
    }
  }

  ctx.seen.push(value);

  var output;
  if (array) {
    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);
  } else {
    output = keys.map(function(key) {
      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);
    });
  }

  ctx.seen.pop();

  return reduceToSingleString(output, base, braces);
}


function formatPrimitive(ctx, value) {
  if (isUndefined(value))
    return ctx.stylize('undefined', 'undefined');
  if (isString(value)) {
    var simple = '\'' + JSON.stringify(value).replace(/^"|"$/g, '')
                                             .replace(/'/g, "\\'")
                                             .replace(/\\"/g, '"') + '\'';
    return ctx.stylize(simple, 'string');
  }
  if (isNumber(value))
    return ctx.stylize('' + value, 'number');
  if (isBoolean(value))
    return ctx.stylize('' + value, 'boolean');
  // For some reason typeof null is "object", so special case here.
  if (isNull(value))
    return ctx.stylize('null', 'null');
}


function formatError(value) {
  return '[' + Error.prototype.toString.call(value) + ']';
}


function formatArray(ctx, value, recurseTimes, visibleKeys, keys) {
  var output = [];
  for (var i = 0, l = value.length; i < l; ++i) {
    if (hasOwnProperty(value, String(i))) {
      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,
          String(i), true));
    } else {
      output.push('');
    }
  }
  keys.forEach(function(key) {
    if (!key.match(/^\d+$/)) {
      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,
          key, true));
    }
  });
  return output;
}


function formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {
  var name, str, desc;
  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };
  if (desc.get) {
    if (desc.set) {
      str = ctx.stylize('[Getter/Setter]', 'special');
    } else {
      str = ctx.stylize('[Getter]', 'special');
    }
  } else {
    if (desc.set) {
      str = ctx.stylize('[Setter]', 'special');
    }
  }
  if (!hasOwnProperty(visibleKeys, key)) {
    name = '[' + key + ']';
  }
  if (!str) {
    if (ctx.seen.indexOf(desc.value) < 0) {
      if (isNull(recurseTimes)) {
        str = formatValue(ctx, desc.value, null);
      } else {
        str = formatValue(ctx, desc.value, recurseTimes - 1);
      }
      if (str.indexOf('\n') > -1) {
        if (array) {
          str = str.split('\n').map(function(line) {
            return '  ' + line;
          }).join('\n').substr(2);
        } else {
          str = '\n' + str.split('\n').map(function(line) {
            return '   ' + line;
          }).join('\n');
        }
      }
    } else {
      str = ctx.stylize('[Circular]', 'special');
    }
  }
  if (isUndefined(name)) {
    if (array && key.match(/^\d+$/)) {
      return str;
    }
    name = JSON.stringify('' + key);
    if (name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)) {
      name = name.substr(1, name.length - 2);
      name = ctx.stylize(name, 'name');
    } else {
      name = name.replace(/'/g, "\\'")
                 .replace(/\\"/g, '"')
                 .replace(/(^"|"$)/g, "'");
      name = ctx.stylize(name, 'string');
    }
  }

  return name + ': ' + str;
}


function reduceToSingleString(output, base, braces) {
  var numLinesEst = 0;
  var length = output.reduce(function(prev, cur) {
    numLinesEst++;
    if (cur.indexOf('\n') >= 0) numLinesEst++;
    return prev + cur.replace(/\u001b\[\d\d?m/g, '').length + 1;
  }, 0);

  if (length > 60) {
    return braces[0] +
           (base === '' ? '' : base + '\n ') +
           ' ' +
           output.join(',\n  ') +
           ' ' +
           braces[1];
  }

  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];
}


// NOTE: These type checking functions intentionally don't use `instanceof`
// because it is fragile and can be easily faked with `Object.create()`.
function isArray(ar) {
  return Array.isArray(ar);
}
exports.isArray = isArray;

function isBoolean(arg) {
  return typeof arg === 'boolean';
}
exports.isBoolean = isBoolean;

function isNull(arg) {
  return arg === null;
}
exports.isNull = isNull;

function isNullOrUndefined(arg) {
  return arg == null;
}
exports.isNullOrUndefined = isNullOrUndefined;

function isNumber(arg) {
  return typeof arg === 'number';
}
exports.isNumber = isNumber;

function isString(arg) {
  return typeof arg === 'string';
}
exports.isString = isString;

function isSymbol(arg) {
  return typeof arg === 'symbol';
}
exports.isSymbol = isSymbol;

function isUndefined(arg) {
  return arg === void 0;
}
exports.isUndefined = isUndefined;

function isRegExp(re) {
  return isObject(re) && objectToString(re) === '[object RegExp]';
}
exports.isRegExp = isRegExp;

function isObject(arg) {
  return typeof arg === 'object' && arg !== null;
}
exports.isObject = isObject;

function isDate(d) {
  return isObject(d) && objectToString(d) === '[object Date]';
}
exports.isDate = isDate;

function isError(e) {
  return isObject(e) &&
      (objectToString(e) === '[object Error]' || e instanceof Error);
}
exports.isError = isError;

function isFunction(arg) {
  return typeof arg === 'function';
}
exports.isFunction = isFunction;

function isPrimitive(arg) {
  return arg === null ||
         typeof arg === 'boolean' ||
         typeof arg === 'number' ||
         typeof arg === 'string' ||
         typeof arg === 'symbol' ||  // ES6 symbol
         typeof arg === 'undefined';
}
exports.isPrimitive = isPrimitive;

exports.isBuffer = __webpack_require__(/*! ./support/isBuffer */ "./node_modules/util/support/isBufferBrowser.js");

function objectToString(o) {
  return Object.prototype.toString.call(o);
}


function pad(n) {
  return n < 10 ? '0' + n.toString(10) : n.toString(10);
}


var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',
              'Oct', 'Nov', 'Dec'];

// 26 Feb 16:19:34
function timestamp() {
  var d = new Date();
  var time = [pad(d.getHours()),
              pad(d.getMinutes()),
              pad(d.getSeconds())].join(':');
  return [d.getDate(), months[d.getMonth()], time].join(' ');
}


// log is just a thin wrapper to console.log that prepends a timestamp
exports.log = function() {
  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));
};


/**
 * Inherit the prototype methods from one constructor into another.
 *
<<<<<<< HEAD
 * The Function.prototype.inherits from lang.js rewritten as a standalone
 * function (not on Function.prototype). NOTE: If this file is to be loaded
 * during bootstrapping this function needs to be rewritten using some native
 * functions as prototype setup using normal JavaScript does not work as
 * expected during bootstrapping (see mirror.js in r114903).
 *
 * @param {function} ctor Constructor function which needs to inherit the
 *     prototype.
 * @param {function} superCtor Constructor function to inherit prototype from.
 */
exports.inherits = __webpack_require__(/*! inherits */ "./node_modules/util/node_modules/inherits/inherits_browser.js");

exports._extend = function(origin, add) {
  // Don't do anything if add isn't an object
  if (!add || !isObject(add)) return origin;

  var keys = Object.keys(add);
  var i = keys.length;
  while (i--) {
    origin[keys[i]] = add[keys[i]];
  }
  return origin;
};

function hasOwnProperty(obj, prop) {
  return Object.prototype.hasOwnProperty.call(obj, prop);
}

var kCustomPromisifiedSymbol = typeof Symbol !== 'undefined' ? Symbol('util.promisify.custom') : undefined;

exports.promisify = function promisify(original) {
  if (typeof original !== 'function')
    throw new TypeError('The "original" argument must be of type Function');

  if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {
    var fn = original[kCustomPromisifiedSymbol];
    if (typeof fn !== 'function') {
      throw new TypeError('The "util.promisify.custom" argument must be of type Function');
    }
    Object.defineProperty(fn, kCustomPromisifiedSymbol, {
      value: fn, enumerable: false, writable: false, configurable: true
    });
    return fn;
  }

  function fn() {
    var promiseResolve, promiseReject;
    var promise = new Promise(function (resolve, reject) {
      promiseResolve = resolve;
      promiseReject = reject;
    });

    var args = [];
    for (var i = 0; i < arguments.length; i++) {
      args.push(arguments[i]);
    }
    args.push(function (err, value) {
      if (err) {
        promiseReject(err);
      } else {
        promiseResolve(value);
      }
    });

    try {
      original.apply(this, args);
    } catch (err) {
      promiseReject(err);
    }

    return promise;
  }

  Object.setPrototypeOf(fn, Object.getPrototypeOf(original));

  if (kCustomPromisifiedSymbol) Object.defineProperty(fn, kCustomPromisifiedSymbol, {
    value: fn, enumerable: false, writable: false, configurable: true
  });
  return Object.defineProperties(
    fn,
    getOwnPropertyDescriptors(original)
  );
}

exports.promisify.custom = kCustomPromisifiedSymbol

function callbackifyOnRejected(reason, cb) {
  // `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).
  // Because `null` is a special error value in callbacks which means "no error
  // occurred", we error-wrap so the callback consumer can distinguish between
  // "the promise rejected with null" or "the promise fulfilled with undefined".
  if (!reason) {
    var newReason = new Error('Promise was rejected with a falsy value');
    newReason.reason = reason;
    reason = newReason;
  }
  return cb(reason);
}

function callbackify(original) {
  if (typeof original !== 'function') {
    throw new TypeError('The "original" argument must be of type Function');
  }

  // We DO NOT return the promise as it gives the user a false sense that
  // the promise is actually somehow related to the callback's execution
  // and that the callback throwing will reject the promise.
  function callbackified() {
    var args = [];
    for (var i = 0; i < arguments.length; i++) {
      args.push(arguments[i]);
    }

    var maybeCb = args.pop();
    if (typeof maybeCb !== 'function') {
      throw new TypeError('The last argument must be of type Function');
    }
    var self = this;
    var cb = function() {
      return maybeCb.apply(self, arguments);
    };
    // In true node style we process the callback on `nextTick` with all the
    // implications (stack, `uncaughtException`, `async_hooks`)
    original.apply(this, args)
      .then(function(ret) { process.nextTick(cb, null, ret) },
            function(rej) { process.nextTick(callbackifyOnRejected, rej, cb) });
  }

  Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));
  Object.defineProperties(callbackified,
                          getOwnPropertyDescriptors(original));
  return callbackified;
}
exports.callbackify = callbackify;

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../process/browser.js */ "./node_modules/process/browser.js")))

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2JpZ3BheS1jbGllbnQvbGliL2NsaWVudC9jbGllbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9iaWdwYXktY2xpZW50L2xpYi9jbGllbnQvZGVmYXVsdC1jb25maWcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9iaWdwYXktY2xpZW50L2xpYi9jb21tb24vaHR0cC1yZXF1ZXN0L2NvbnRlbnQtdHlwZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9iaWdwYXktY2xpZW50L2xpYi9jb21tb24vaHR0cC1yZXF1ZXN0L2RlZmF1bHQtb3B0aW9ucy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2JpZ3BheS1jbGllbnQvbGliL2NvbW1vbi9odHRwLXJlcXVlc3QvbWV0aG9kLXR5cGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvYmlncGF5LWNsaWVudC9saWIvY29tbW9uL2h0dHAtcmVxdWVzdC9wYXlsb2FkLXRyYW5zZm9ybWVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvYmlncGF5LWNsaWVudC9saWIvY29tbW9uL2h0dHAtcmVxdWVzdC9yZXF1ZXN0LWZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9iaWdwYXktY2xpZW50L2xpYi9jb21tb24vaHR0cC1yZXF1ZXN0L3JlcXVlc3Qtc2VuZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvYmlncGF5LWNsaWVudC9saWIvY29tbW9uL3V0aWxzL2luY2x1ZGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvYmlncGF5LWNsaWVudC9saWIvY29tbW9uL3V0aWxzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvYmlncGF5LWNsaWVudC9saWIvY29tbW9uL3V0aWxzL2lzLWVtcHR5LXN0cmluZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2JpZ3BheS1jbGllbnQvbGliL2NvbW1vbi91dGlscy9pcy1lbXB0eXN0cmluZy1vci1uaWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9iaWdwYXktY2xpZW50L2xpYi9jb21tb24vdXRpbHMvaXMtbmlsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvYmlncGF5LWNsaWVudC9saWIvY29tbW9uL3V0aWxzL2lzLW9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2JpZ3BheS1jbGllbnQvbGliL2NvbW1vbi91dGlscy9vbWl0LWVtcHR5c3RyaW5nLWFuZC1uaWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9iaWdwYXktY2xpZW50L2xpYi9jb21tb24vdXRpbHMvb21pdC1uaWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9iaWdwYXktY2xpZW50L2xpYi9jb21tb24vdXRpbHMvb21pdC1wcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2JpZ3BheS1jbGllbnQvbGliL2NvbW1vbi91dGlscy90by1udW1iZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9iaWdwYXktY2xpZW50L2xpYi9jb21tb24vdXRpbHMvdG8tc25ha2UtY2FzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2JpZ3BheS1jbGllbnQvbGliL2NvbW1vbi91dGlscy90by1zdHJpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9iaWdwYXktY2xpZW50L2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2JpZ3BheS1jbGllbnQvbGliL3BheW1lbnQvY2xpZW50LXRva2VuLWdlbmVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2JpZ3BheS1jbGllbnQvbGliL3BheW1lbnQvb2Zmc2l0ZS1wYXltZW50LWluaXRpYWxpemVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvYmlncGF5LWNsaWVudC9saWIvcGF5bWVudC9vZmZzaXRlLXBheW1lbnQtbWFwcGVycy9hZGRyZXNzLW1hcHBlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2JpZ3BheS1jbGllbnQvbGliL3BheW1lbnQvb2Zmc2l0ZS1wYXltZW50LW1hcHBlcnMvY3VzdG9tZXItbWFwcGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvYmlncGF5LWNsaWVudC9saWIvcGF5bWVudC9vZmZzaXRlLXBheW1lbnQtbWFwcGVycy9tZXRhLW1hcHBlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2JpZ3BheS1jbGllbnQvbGliL3BheW1lbnQvb2Zmc2l0ZS1wYXltZW50LW1hcHBlcnMvcGF5bG9hZC1tYXBwZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9iaWdwYXktY2xpZW50L2xpYi9wYXltZW50L29mZnNpdGUtcGF5bWVudC1tYXBwZXJzL3N0b3JlLW1hcHBlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2JpZ3BheS1jbGllbnQvbGliL3BheW1lbnQvcGF5bWVudC1tZXRob2QtaWRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvYmlncGF5LWNsaWVudC9saWIvcGF5bWVudC9wYXltZW50LW1ldGhvZC1tYXBwZXJzL3BheW1lbnQtbWV0aG9kLWlkLW1hcHBlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2JpZ3BheS1jbGllbnQvbGliL3BheW1lbnQvcGF5bWVudC1tZXRob2QtdHlwZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9iaWdwYXktY2xpZW50L2xpYi9wYXltZW50L3BheW1lbnQtc3VibWl0dGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvYmlncGF5LWNsaWVudC9saWIvcGF5bWVudC9wYXltZW50LXR5cGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvYmlncGF5LWNsaWVudC9saWIvcGF5bWVudC91cmwtaGVscGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvYmlncGF5LWNsaWVudC9saWIvcGF5bWVudC92MS9wYXltZW50LW1hcHBlcnMvY3VzdG9tZXItbWFwcGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvYmlncGF5LWNsaWVudC9saWIvcGF5bWVudC92MS9wYXltZW50LW1hcHBlcnMvb3JkZXItbWFwcGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvYmlncGF5LWNsaWVudC9saWIvcGF5bWVudC92MS9wYXltZW50LW1hcHBlcnMvcGF5bG9hZC1tYXBwZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9iaWdwYXktY2xpZW50L2xpYi9wYXltZW50L3YxL3BheW1lbnQtbWFwcGVycy9wYXltZW50LW1hcHBlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2JpZ3BheS1jbGllbnQvbGliL3BheW1lbnQvdjEvcGF5bWVudC1tYXBwZXJzL3N0b3JlLW1hcHBlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2JpZ3BheS1jbGllbnQvbGliL3BheW1lbnQvdjIvcGF5bWVudC1tYXBwZXJzL2NhcnQtbWFwcGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvYmlncGF5LWNsaWVudC9saWIvcGF5bWVudC92Mi9wYXltZW50LW1hcHBlcnMvY2xpZW50LXRva2VuLW1hcHBlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2JpZ3BheS1jbGllbnQvbGliL3BheW1lbnQvdjIvcGF5bWVudC1tYXBwZXJzL2dhdGV3YXktbWFwcGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvYmlncGF5LWNsaWVudC9saWIvcGF5bWVudC92Mi9wYXltZW50LW1hcHBlcnMvcXVvdGUtbWFwcGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvYmlncGF5LWNsaWVudC9saWIvcGF5bWVudC92Mi9wYXltZW50LW1hcHBlcnMvc3RvcmUtbWFwcGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvYmlncGF5LWNsaWVudC9saWIvc3RvcmUvc3RvcmUtcmVxdWVzdC1zZW5kZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9iaWdwYXktY2xpZW50L2xpYi9zdG9yZS91cmwtaGVscGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvYmlncGF5LWNsaWVudC9saWIvc3RvcmUvdjIvbWFwcGVycy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9kaXN0L2NoZWNrb3V0LXNkay5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2RhdGEtc3RvcmUvbGliL2NvbWJpbmUtcmVkdWNlcnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9kYXRhLXN0b3JlL2xpYi9jb21wb3NlLXJlZHVjZXJzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvZGF0YS1zdG9yZS9saWIvY3JlYXRlLWFjdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2RhdGEtc3RvcmUvbGliL2NyZWF0ZS1kYXRhLXN0b3JlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvZGF0YS1zdG9yZS9saWIvY3JlYXRlLWVycm9yLWFjdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2RhdGEtc3RvcmUvbGliL2RhdGEtc3RvcmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9kYXRhLXN0b3JlL2xpYi9kZWVwLWZyZWV6ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2RhdGEtc3RvcmUvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvZGF0YS1zdG9yZS9saWIvaXMtb2JzZXJ2YWJsZS1hY3Rpb24tbGlrZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2RhdGEtc3RvcmUvbGliL25vb3AtYWN0aW9uLXRyYW5zZm9ybWVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvZGF0YS1zdG9yZS9saWIvbm9vcC1zdGF0ZS10cmFuc2Zvcm1lci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL2Zvcm0tcG9zdGVyL2xpYi9jcmVhdGUtZm9ybS1wb3N0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9mb3JtLXBvc3Rlci9saWIvZm9ybS1idWlsZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvZm9ybS1wb3N0ZXIvbGliL2Zvcm0tcG9zdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvZm9ybS1wb3N0ZXIvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvZm9ybS1wb3N0ZXIvbGliL3VybC11dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL21lbW9pemUvbGliL2NhY2hlLWtleS1tYXBzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvbWVtb2l6ZS9saWIvY2FjaGUta2V5LXJlc29sdmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvbWVtb2l6ZS9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9tZW1vaXplL2xpYi9tZW1vaXplLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvcmVxdWVzdC1zZW5kZXIvZXNtL2NhY2hlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvcmVxdWVzdC1zZW5kZXIvZXNtL2NyZWF0ZS1yZXF1ZXN0LXNlbmRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL3JlcXVlc3Qtc2VuZGVyL2VzbS9jcmVhdGUtdGltZW91dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL3JlcXVlc3Qtc2VuZGVyL2VzbS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL3JlcXVlc3Qtc2VuZGVyL2VzbS9pcy1wcm9taXNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvcmVxdWVzdC1zZW5kZXIvZXNtL3BheWxvYWQtdHJhbnNmb3JtZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9yZXF1ZXN0LXNlbmRlci9lc20vcmVxdWVzdC1mYWN0b3J5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvcmVxdWVzdC1zZW5kZXIvZXNtL3JlcXVlc3Qtc2VuZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2UvcmVxdWVzdC1zZW5kZXIvZXNtL3RpbWVvdXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9yZXF1ZXN0LXNlbmRlci9lc20vdG8tZm9ybS11cmwtZW5jb2RlZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL3NjcmlwdC1sb2FkZXIvbGliL2Jyb3dzZXItc3VwcG9ydC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL3NjcmlwdC1sb2FkZXIvbGliL2NyZWF0ZS1zY3JpcHQtbG9hZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2Uvc2NyaXB0LWxvYWRlci9saWIvY3JlYXRlLXN0eWxlc2hlZXQtbG9hZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmlnY29tbWVyY2Uvc2NyaXB0LWxvYWRlci9saWIvZ2V0LXNjcmlwdC1sb2FkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9zY3JpcHQtbG9hZGVyL2xpYi9nZXQtc3R5bGVzaGVldC1sb2FkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9zY3JpcHQtbG9hZGVyL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJpZ2NvbW1lcmNlL3NjcmlwdC1sb2FkZXIvbGliL3NjcmlwdC1sb2FkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiaWdjb21tZXJjZS9zY3JpcHQtbG9hZGVyL2xpYi9zdHlsZXNoZWV0LWxvYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXNzZXJ0L2Fzc2VydC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2FyZC12YWxpZGF0b3IvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NhcmQtdmFsaWRhdG9yL3NyYy9jYXJkLW51bWJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2FyZC12YWxpZGF0b3Ivc3JjL2N2di5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2FyZC12YWxpZGF0b3Ivc3JjL2V4cGlyYXRpb24tZGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2FyZC12YWxpZGF0b3Ivc3JjL2V4cGlyYXRpb24tbW9udGguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NhcmQtdmFsaWRhdG9yL3NyYy9leHBpcmF0aW9uLXllYXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NhcmQtdmFsaWRhdG9yL3NyYy9saWIvaXMtYXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NhcmQtdmFsaWRhdG9yL3NyYy9sdWhuLTEwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jYXJkLXZhbGlkYXRvci9zcmMvcGFyc2UtZGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2FyZC12YWxpZGF0b3Ivc3JjL3Bvc3RhbC1jb2RlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jcmVkaXQtY2FyZC10eXBlL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jcmVkaXQtY2FyZC10eXBlL2xpYi9hZGQtbWF0Y2hpbmctY2FyZHMtdG8tcmVzdWx0cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY3JlZGl0LWNhcmQtdHlwZS9saWIvY2FyZC10eXBlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY3JlZGl0LWNhcmQtdHlwZS9saWIvY2xvbmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NyZWRpdC1jYXJkLXR5cGUvbGliL2ZpbmQtYmVzdC1tYXRjaC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY3JlZGl0LWNhcmQtdHlwZS9saWIvaXMtdmFsaWQtaW5wdXQtdHlwZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY3JlZGl0LWNhcmQtdHlwZS9saWIvbWF0Y2hlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGVlcC1hc3NpZ24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2lmcmFtZS1yZXNpemVyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pZnJhbWUtcmVzaXplci9qcy9pZnJhbWVSZXNpemVyLmNvbnRlbnRXaW5kb3cuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2lmcmFtZS1yZXNpemVyL2pzL2lmcmFtZVJlc2l6ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2lmcmFtZS1yZXNpemVyL2pzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pcy1vYmovaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2pzLWNvb2tpZS9zcmMvanMuY29va2llLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2NhbC1zdG9yYWdlLWZhbGxiYWNrL2xpYi9Db29raWVTdG9yYWdlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2NhbC1zdG9yYWdlLWZhbGxiYWNrL2xpYi9NZW1vcnlTdG9yYWdlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2NhbC1zdG9yYWdlLWZhbGxiYWNrL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9jYWwtc3RvcmFnZS1mYWxsYmFjay9saWIvaXNTdXBwb3J0ZWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvY2FsLXN0b3JhZ2UtZmFsbGJhY2svbm9kZV9tb2R1bGVzL2Nvb2tpZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoLm1lbW9pemUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC5tZXJnZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbWFrZS1wbHVyYWwvdW1kL3BsdXJhbENhdGVnb3JpZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21ha2UtcGx1cmFsL3VtZC9wbHVyYWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tZXNzYWdlZm9ybWF0LXBhcnNlci9wYXJzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21lc3NhZ2Vmb3JtYXQvbGliL2NvbXBpbGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tZXNzYWdlZm9ybWF0L2xpYi9mb3JtYXR0ZXJzL2RhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21lc3NhZ2Vmb3JtYXQvbGliL2Zvcm1hdHRlcnMvZHVyYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21lc3NhZ2Vmb3JtYXQvbGliL2Zvcm1hdHRlcnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21lc3NhZ2Vmb3JtYXQvbGliL2Zvcm1hdHRlcnMvbnVtYmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tZXNzYWdlZm9ybWF0L2xpYi9mb3JtYXR0ZXJzL3RpbWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21lc3NhZ2Vmb3JtYXQvbGliL21lc3NhZ2Vmb3JtYXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21lc3NhZ2Vmb3JtYXQvbGliL3BsdXJhbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21lc3NhZ2Vmb3JtYXQvbGliL3J1bnRpbWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVzZWxlY3QvZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Jlc2VydmVkLXdvcmRzL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVzZXJ2ZWQtd29yZHMvbGliL3Jlc2VydmVkLXdvcmRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL0FzeW5jU3ViamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9CZWhhdmlvclN1YmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvSW5uZXJTdWJzY3JpYmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL05vdGlmaWNhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9PYnNlcnZhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL09ic2VydmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL091dGVyU3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9SZXBsYXlTdWJqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL1NjaGVkdWxlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9TdWJqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL1N1YmplY3RTdWJzY3JpcHRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvU3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9TdWJzY3JpcHRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvY29uZmlnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL2lubmVyU3Vic2NyaWJlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvQ29ubmVjdGFibGVPYnNlcnZhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvU3Vic2NyaWJlT25PYnNlcnZhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvYmluZENhbGxiYWNrLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvYmluZE5vZGVDYWxsYmFjay5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2NvbWJpbmVMYXRlc3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9jb25jYXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9kZWZlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2VtcHR5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvZm9ya0pvaW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9mcm9tLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvZnJvbUFycmF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvZnJvbUV2ZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvZnJvbUV2ZW50UGF0dGVybi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2dlbmVyYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvaWlmLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvaW50ZXJ2YWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9tZXJnZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL25ldmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvb2YuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9vbkVycm9yUmVzdW1lTmV4dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL3BhaXJzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvcGFydGl0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvcmFjZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL3JhbmdlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvdGhyb3dFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL3RpbWVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvdXNpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS96aXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL2F1ZGl0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9hdWRpdFRpbWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL2J1ZmZlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvYnVmZmVyQ291bnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL2J1ZmZlclRpbWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL2J1ZmZlclRvZ2dsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvYnVmZmVyV2hlbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvY2F0Y2hFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvY29tYmluZUFsbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvY29tYmluZUxhdGVzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvY29uY2F0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9jb25jYXRBbGwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL2NvbmNhdE1hcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvY29uY2F0TWFwVG8uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL2NvdW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9kZWJvdW5jZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvZGVib3VuY2VUaW1lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9kZWZhdWx0SWZFbXB0eS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvZGVsYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL2RlbGF5V2hlbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvZGVtYXRlcmlhbGl6ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvZGlzdGluY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL2Rpc3RpbmN0VW50aWxDaGFuZ2VkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9kaXN0aW5jdFVudGlsS2V5Q2hhbmdlZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvZWxlbWVudEF0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9lbmRXaXRoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9ldmVyeS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvZXhoYXVzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvZXhoYXVzdE1hcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvZXhwYW5kLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9maWx0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL2ZpbmFsaXplLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9maW5kLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9maW5kSW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL2ZpcnN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9ncm91cEJ5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9pZ25vcmVFbGVtZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvaXNFbXB0eS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvbGFzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvbWFwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9tYXBUby5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvbWF0ZXJpYWxpemUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL21heC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlQWxsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9tZXJnZU1hcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VNYXBUby5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VTY2FuLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9taW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL211bHRpY2FzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvb2JzZXJ2ZU9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9vbkVycm9yUmVzdW1lTmV4dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvcGFpcndpc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3BhcnRpdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvcGx1Y2suanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3B1Ymxpc2guanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3B1Ymxpc2hCZWhhdmlvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvcHVibGlzaExhc3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3B1Ymxpc2hSZXBsYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3JhY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3JlZHVjZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvcmVmQ291bnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3JlcGVhdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvcmVwZWF0V2hlbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvcmV0cnkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3JldHJ5V2hlbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvc2FtcGxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9zYW1wbGVUaW1lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9zY2FuLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9zZXF1ZW5jZUVxdWFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9zaGFyZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvc2hhcmVSZXBsYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3NpbmdsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvc2tpcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvc2tpcExhc3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3NraXBVbnRpbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvc2tpcFdoaWxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9zdGFydFdpdGguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3N1YnNjcmliZU9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9zd2l0Y2hBbGwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3N3aXRjaE1hcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvc3dpdGNoTWFwVG8uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3Rha2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3Rha2VMYXN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy90YWtlVW50aWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3Rha2VXaGlsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvdGFwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy90aHJvdHRsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvdGhyb3R0bGVUaW1lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy90aHJvd0lmRW1wdHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3RpbWVJbnRlcnZhbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvdGltZW91dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvdGltZW91dFdpdGguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3RpbWVzdGFtcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvdG9BcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvd2luZG93LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy93aW5kb3dDb3VudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvd2luZG93VGltZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvd2luZG93VG9nZ2xlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy93aW5kb3dXaGVuLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy93aXRoTGF0ZXN0RnJvbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvemlwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy96aXBBbGwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlQXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlSXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVQcm9taXNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL0FjdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvQW5pbWF0aW9uRnJhbWVBY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL0FuaW1hdGlvbkZyYW1lU2NoZWR1bGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlci9Bc2FwQWN0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlci9Bc2FwU2NoZWR1bGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlci9Bc3luY0FjdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvQXN5bmNTY2hlZHVsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL1F1ZXVlQWN0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlci9RdWV1ZVNjaGVkdWxlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvVmlydHVhbFRpbWVTY2hlZHVsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL2FuaW1hdGlvbkZyYW1lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlci9hc2FwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlci9hc3luYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvcXVldWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc3ltYm9sL2l0ZXJhdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3N5bWJvbC9vYnNlcnZhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3N5bWJvbC9yeFN1YnNjcmliZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9Bcmd1bWVudE91dE9mUmFuZ2VFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL0VtcHR5RXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9JbW1lZGlhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9PYmplY3RVbnN1YnNjcmliZWRFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL1RpbWVvdXRFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9jYW5SZXBvcnRFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2hvc3RSZXBvcnRFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lkZW50aXR5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNBcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzQXJyYXlMaWtlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNEYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNGdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzSW50ZXJvcE9ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pc0l0ZXJhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNOdW1lcmljLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNPYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pc09ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pc1Byb21pc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pc1NjaGVkdWxlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL25vb3AuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9ub3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9waXBlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvc3Vic2NyaWJlVG8uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9zdWJzY3JpYmVUb0FycmF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvc3Vic2NyaWJlVG9JdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL3N1YnNjcmliZVRvT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL3N1YnNjcmliZVRvUHJvbWlzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL3N1YnNjcmliZVRvUmVzdWx0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvdG9TdWJzY3JpYmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L29wZXJhdG9ycy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc2hhbGxvd2VxdWFsL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V0aWwvbm9kZV9tb2R1bGVzL2luaGVyaXRzL2luaGVyaXRzX2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V0aWwvc3VwcG9ydC9pc0J1ZmZlckJyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V0aWwvdXRpbC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQWE7O0FBRWI7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQSwyQ0FBMkMsbUJBQU8sQ0FBQyw0REFBZTs7QUFFbEUsd0RBQXdELG1CQUFPLENBQUMsb0lBQXdDOztBQUV4RywrQ0FBK0MsbUJBQU8sQ0FBQyxnSEFBOEI7O0FBRXJGLG1EQUFtRCxtQkFBTyxDQUFDLDBIQUFtQzs7QUFFOUYsaURBQWlELG1CQUFPLENBQUMsa0hBQStCOztBQUV4Riw0Q0FBNEMsbUJBQU8sQ0FBQyxnR0FBa0I7O0FBRXRFLHNDQUFzQyx1Q0FBdUMsZ0JBQWdCOztBQUU3RixpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2SiwyQ0FBMkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRTs7QUFFM1QsNkRBQTZELHNFQUFzRSw4REFBOEQsb0JBQW9COztBQUVyTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxlQUFlLE9BQU87QUFDdEIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxzREFBc0Q7O0FBRXREOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCLGdEQUFnRDs7QUFFaEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FB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QTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7Ozs7Ozs7Ozs7O0FDaENhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNB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OztBQUVBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRTtBQUNyRSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLHNFQUFzRTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLDBEQUEwRCxnQkFBZ0I7QUFDMUUsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFO0FBQ2xFOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0Esa0NBQWtDO0FBQ2xDLE9BQU87O0FBRVA7QUFDQSx3Q0FBd0M7QUFDeEMsT0FBTzs7QUFFUDtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMENBQTBDOztBQUUxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsNkJBQTZCOztBQUU3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1CQUFtQixvQkFBb0I7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQSxzQ0FBc0M7QUFDdEMsT0FBTzs7QUFFUDtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBLCtCQUErQjtBQUMvQixPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdDQUFnQyxnQ0FBZ0M7QUFDaEU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLDZCQUE2QixjQUFjO0FBQ2xEO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSw2QkFBNkIsa0NBQWtDO0FBQy9EO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDZEQUE2RDtBQUM3RDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLEtBQTZCO0FBQ3hDO0FBQ0EsaURBQWlELG9DQUFhO0FBQzlEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0EsQ0FBQzs7Ozs7Ozs7Ozs7OztBQ3B5Q0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsNENBQTRDOztBQUU1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DLGlDQUFpQztBQUNqQztBQUNBO0FBQ0EsT0FBTztBQUNQLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZUFBZSw4Q0FBOEM7QUFDN0Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdCQUFnQix3QkFBd0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5Qzs7QUFFekM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsd0JBQXdCOztBQUV4Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLGFBQWE7QUFDMUI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzQkFBc0I7QUFDdEI7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHFCQUFxQixvREFBb0Q7QUFDekU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlGQUFpRjtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNB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O0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLEVBQUU7QUFDZjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsRUFBRTtBQUNiLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsRUFBRTtBQUNmO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsRUFBRTtBQUNiLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLEVBQUU7QUFDYixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixhQUFhLEVBQUU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsYUFBYSxFQUFFO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsV0FBVyxFQUFFO0FBQ2IsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7Ozs7Ozs7Ozs7OztBQ3hsREQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFYTs7QUFFYjtBQUNBLG1CQUFtQiwwQkFBMEI7QUFDN0M7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBOztBQUVBLHFCQUFxQiw4QkFBOEI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQSxTQUFT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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEscUNBQXFDOztBQUVyQztBQUNBO0FBQ0E7O0FBRUEsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixVQUFVOzs7Ozs7Ozs7Ozs7O0FDdkx0QztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsWUFBWTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7O0FBRU87QUFDUCw4RkFBOEYsYUFBYTtBQUMzRztBQUNBOztBQUVBO0FBQ0EsdUVBQXVFLGVBQWU7QUFDdEY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFCQUFxQixZQUFZO0FBQ2pDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPOztBQUVBO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILHdFQUF3RSxlQUFlO0FBQ3ZGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSyxJQUFJO0FBQ1QsR0FBRztBQUNILEM7Ozs7Ozs7Ozs7O0FDdkhBLGlCQUFpQixtQkFBTyxDQUFDLDZFQUFrQjs7Ozs7Ozs7Ozs7O0FDQTNDLGFBQWEsbUJBQU8sQ0FBQywrQ0FBUTs7QUFFN0I7QUFDQTtBQUNBO0FBQ0EsYUFBYSx3QkFBd0I7QUFDckM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLDhCQUE4QjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsUUFBUTtBQUNuQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsdUJBQXVCO0FBQ2xDLFlBQVksYUFBYTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLElBQUk7QUFDYjs7Ozs7Ozs7Ozs7OztBQ2hMQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7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QTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDb0Q7QUFDUTtBQUNOO0FBQ1U7QUFDRjtBQUNJO0FBQ0o7QUFDQTtBQUNBO0FBQ007QUFDZDtBQUNNO0FBQ0E7QUFDSTtBQUNaO0FBQ007QUFDUTtBQUNJO0FBQ2xCO0FBQ1E7QUFDUTtBQUNWO0FBQ3dCO0FBQ007QUFDNUI7QUFDSjtBQUNKO0FBQ0k7QUFDTTtBQUNSO0FBQ0E7QUFDSTtBQUNSO0FBQ1U7QUFDUjtBQUNJO0FBQ2M7QUFDZDtBQUNOO0FBQ0Y7QUFDSTtBQUNZO0FBQ2hCO0FBQ0k7QUFDTTtBQUNTO0FBQ0w7QUFDRjtBQUNaO0FBQ1k7QUFDQTtBQUNnQjtBQUNsQjtBQUNFO0FBQ1I7QUFDSTtBQUNnQjtBQUNSO0FBQ0k7QUFDbEI7QUFDSTtBQUNBO0FBQ1E7QUFDVjtBQUNRO0FBQ0Y7QUFDSjtBQUNRO0FBQ1o7QUFDa0I7QUFDaEI7QUFDWTtBQUNWO0FBQ0o7QUFDUTtBQUNFO0FBQ0E7QUFDQTtBQUNJO0FBQ0o7QUFDQTtBQUNJO0FBQ2Q7QUFDUTtBQUNFO0FBQ0E7QUFDWjtBQUNVO0FBQ1E7QUFDQTtBQUNBO0FBQ1Y7QUFDUTtBQUNKO0FBQ0o7QUFDRjtBQUNVO0FBQ0Y7QUFDSTtBQUNKO0FB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O0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDRDQUE0QyxLQUFLOztBQUVqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0EsbUNBQW1DLE9BQU87QUFDMUM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7O0FBR0E7QUFDQTtBQUNBLHlEQUF5RDtBQUN6RDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CLG1CQUFPLENBQUMsMEVBQW9COztBQUUvQztBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCO0FBQ0EsbUJBQW1CLG1CQUFPLENBQUMsK0VBQVU7O0FBRXJDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSxtQkFBbUIsc0JBQXNCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHNCQUFzQjtBQUN6QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsa0NBQWtDO0FBQzdELDJCQUEyQixtREFBbUQ7QUFDOUU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6InRoZW1lLWJ1bmRsZS5jaHVuay41LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfb2JqZWN0QXNzaWduID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwib2JqZWN0LWFzc2lnblwiKSk7XG5cbnZhciBfb2Zmc2l0ZVBheW1lbnRJbml0aWFsaXplciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uL3BheW1lbnQvb2Zmc2l0ZS1wYXltZW50LWluaXRpYWxpemVyXCIpKTtcblxudmFyIF9wYXltZW50U3VibWl0dGVyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vcGF5bWVudC9wYXltZW50LXN1Ym1pdHRlclwiKSk7XG5cbnZhciBfY2xpZW50VG9rZW5HZW5lcmF0b3IgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi9wYXltZW50L2NsaWVudC10b2tlbi1nZW5lcmF0b3JcIikpO1xuXG52YXIgX3N0b3JlUmVxdWVzdFNlbmRlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uL3N0b3JlL3N0b3JlLXJlcXVlc3Qtc2VuZGVyXCIpKTtcblxudmFyIF9kZWZhdWx0Q29uZmlnID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9kZWZhdWx0LWNvbmZpZ1wiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxudmFyIENsaWVudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIF9jcmVhdGVDbGFzcyhDbGllbnQsIG51bGwsIFt7XG4gICAga2V5OiBcImNyZWF0ZVwiLFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ1xuICAgICAqIEByZXR1cm5zIHtDbGllbnR9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZShjb25maWcpIHtcbiAgICAgIHZhciBjbGllbnRDb25maWcgPSAoMCwgX29iamVjdEFzc2lnbi5kZWZhdWx0KSh7fSwgX2RlZmF1bHRDb25maWcuZGVmYXVsdCwgY29uZmlnKTtcblxuICAgICAgdmFyIG9mZnNpdGVQYXltZW50SW5pdGlhbGl6ZXIgPSBfb2Zmc2l0ZVBheW1lbnRJbml0aWFsaXplci5kZWZhdWx0LmNyZWF0ZShjbGllbnRDb25maWcpO1xuXG4gICAgICB2YXIgcGF5bWVudFN1Ym1pdHRlciA9IF9wYXltZW50U3VibWl0dGVyLmRlZmF1bHQuY3JlYXRlKGNsaWVudENvbmZpZyk7XG5cbiAgICAgIHZhciBjbGllbnRUb2tlbkdlbmVyYXRvciA9IF9jbGllbnRUb2tlbkdlbmVyYXRvci5kZWZhdWx0LmNyZWF0ZShjbGllbnRDb25maWcpO1xuXG4gICAgICB2YXIgc3RvcmVSZXF1ZXN0U2VuZGVyID0gX3N0b3JlUmVxdWVzdFNlbmRlci5kZWZhdWx0LmNyZWF0ZShjbGllbnRDb25maWcpO1xuXG4gICAgICByZXR1cm4gbmV3IENsaWVudChjbGllbnRDb25maWcsIHBheW1lbnRTdWJtaXR0ZXIsIG9mZnNpdGVQYXltZW50SW5pdGlhbGl6ZXIsIGNsaWVudFRva2VuR2VuZXJhdG9yLCBzdG9yZVJlcXVlc3RTZW5kZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gICAgICogQHBhcmFtIHtQYXltZW50U3VibWl0dGVyfSBwYXltZW50U3VibWl0dGVyXG4gICAgICogQHBhcmFtIHtPZmZzaXRlUGF5bWVudEluaXRpYWxpemVyfSBvZmZzaXRlUGF5bWVudEluaXRpYWxpemVyXG4gICAgICogQHBhcmFtIHtDbGllbnRUb2tlbkdlbmVyYXRvcn0gY2xpZW50VG9rZW5HZW5lcmF0b3JcbiAgICAgKiBAcGFyYW0ge1N0b3JlUmVxdWVzdFNlbmRlcn0gc3RvcmVSZXF1ZXN0U2VuZGVyXG4gICAgICovXG5cbiAgfV0pO1xuXG4gIGZ1bmN0aW9uIENsaWVudChjb25maWcsIHBheW1lbnRTdWJtaXR0ZXIsIG9mZnNpdGVQYXltZW50SW5pdGlhbGl6ZXIsIGNsaWVudFRva2VuR2VuZXJhdG9yLCBzdG9yZVJlcXVlc3RTZW5kZXIpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2xpZW50KTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtQYXltZW50U3VibWl0dGVyfVxuICAgICAqL1xuXG4gICAgdGhpcy5wYXltZW50U3VibWl0dGVyID0gcGF5bWVudFN1Ym1pdHRlcjtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtPZmZzaXRlUGF5bWVudEluaXRpYWxpemVyfVxuICAgICAqL1xuXG4gICAgdGhpcy5vZmZzaXRlUGF5bWVudEluaXRpYWxpemVyID0gb2Zmc2l0ZVBheW1lbnRJbml0aWFsaXplcjtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtDbGllbnRUb2tlbkdlbmVyYXRvcn1cbiAgICAgKi9cblxuICAgIHRoaXMuY2xpZW50VG9rZW5HZW5lcmF0b3IgPSBjbGllbnRUb2tlbkdlbmVyYXRvcjtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtTdG9yZVJlcXVlc3RTZW5kZXJ9XG4gICAgICovXG5cbiAgICB0aGlzLnN0b3JlUmVxdWVzdFNlbmRlciA9IHN0b3JlUmVxdWVzdFNlbmRlcjtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGhvc3RcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKENsaWVudCwgW3tcbiAgICBrZXk6IFwic2V0SG9zdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRIb3N0KGhvc3QpIHtcbiAgICAgIHRoaXMuY29uZmlnLmhvc3QgPSBob3N0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BheW1lbnRSZXF1ZXN0RGF0YX0gZGF0YVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja11cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0XG4gICAgICogQHJldHVybnMge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJpbml0aWFsaXplT2Zmc2l0ZVBheW1lbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZU9mZnNpdGVQYXltZW50KGRhdGEsIGNhbGxiYWNrLCB0YXJnZXQpIHtcbiAgICAgIHRoaXMub2Zmc2l0ZVBheW1lbnRJbml0aWFsaXplci5pbml0aWFsaXplT2Zmc2l0ZVBheW1lbnQoZGF0YSwgY2FsbGJhY2ssIHRhcmdldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UGF5bWVudFJlcXVlc3REYXRhfSBkYXRhXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXVxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic3VibWl0UGF5bWVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdWJtaXRQYXltZW50KGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLnBheW1lbnRTdWJtaXR0ZXIuc3VibWl0UGF5bWVudChkYXRhLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UGF5bWVudFJlcXVlc3REYXRhfSBkYXRhXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXVxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2VuZXJhdGVDbGllbnRUb2tlblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZW5lcmF0ZUNsaWVudFRva2VuKGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLmNsaWVudFRva2VuR2VuZXJhdG9yLmdlbmVyYXRlQ2xpZW50VG9rZW4oZGF0YSwgY2FsbGJhY2spO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhLnN0b3JlSWRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0YS5jdXN0b21lcklkXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGEuY3VycmVuY3lDb2RlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJsb2FkSW5zdHJ1bWVudHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbG9hZEluc3RydW1lbnRzKGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLnN0b3JlUmVxdWVzdFNlbmRlci5sb2FkSW5zdHJ1bWVudHMoZGF0YSwgY2FsbGJhY2spO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhLnN0b3JlSWRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0YS5jdXN0b21lcklkXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGEuY3VycmVuY3lDb2RlXG4gICAgICogQHBhcmFtIHtBZGRyZXNzRGF0YX0gZGF0YS5zaGlwcGluZ0FkZHJlc3NcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImxvYWRJbnN0cnVtZW50c1dpdGhBZGRyZXNzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxvYWRJbnN0cnVtZW50c1dpdGhBZGRyZXNzKGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLnN0b3JlUmVxdWVzdFNlbmRlci5sb2FkSW5zdHJ1bWVudHNXaXRoQWRkcmVzcyhkYXRhLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGEuc3RvcmVJZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhLmN1c3RvbWVySWRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0YS5pbnN0cnVtZW50SWRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0YS5jdXJyZW5jeUNvZGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRlbGV0ZVNob3BwZXJJbnN0cnVtZW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlbGV0ZVNob3BwZXJJbnN0cnVtZW50KGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLnN0b3JlUmVxdWVzdFNlbmRlci5kZWxldGVTaG9wcGVySW5zdHJ1bWVudChkYXRhLCBjYWxsYmFjayk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENsaWVudDtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQ2xpZW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2xpZW50LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xudmFyIERFRkFVTFRfQ09ORklHID0ge1xuICBob3N0OiAnJ1xufTtcbnZhciBfZGVmYXVsdCA9IERFRkFVTFRfQ09ORklHO1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWZhdWx0LWNvbmZpZy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuQVBQTElDQVRJT05fSlNPTiA9IHZvaWQgMDtcbnZhciBBUFBMSUNBVElPTl9KU09OID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xuZXhwb3J0cy5BUFBMSUNBVElPTl9KU09OID0gQVBQTElDQVRJT05fSlNPTjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnRlbnQtdHlwZXMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfY29udGVudFR5cGVzID0gcmVxdWlyZShcIi4vY29udGVudC10eXBlc1wiKTtcblxudmFyIF9tZXRob2RUeXBlcyA9IHJlcXVpcmUoXCIuL21ldGhvZC10eXBlc1wiKTtcblxudmFyIERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgaGVhZGVyczoge1xuICAgIEFjY2VwdDogX2NvbnRlbnRUeXBlcy5BUFBMSUNBVElPTl9KU09OLFxuICAgICdDb250ZW50LVR5cGUnOiBfY29udGVudFR5cGVzLkFQUExJQ0FUSU9OX0pTT05cbiAgfSxcbiAgbWV0aG9kOiBfbWV0aG9kVHlwZXMuR0VUXG59O1xudmFyIF9kZWZhdWx0ID0gREVGQVVMVF9PUFRJT05TO1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWZhdWx0LW9wdGlvbnMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLkRFTEVURSA9IGV4cG9ydHMuUE9TVCA9IGV4cG9ydHMuR0VUID0gdm9pZCAwO1xudmFyIEdFVCA9ICdHRVQnO1xuZXhwb3J0cy5HRVQgPSBHRVQ7XG52YXIgUE9TVCA9ICdQT1NUJztcbmV4cG9ydHMuUE9TVCA9IFBPU1Q7XG52YXIgREVMRVRFID0gJ0RFTEVURSc7XG5leHBvcnRzLkRFTEVURSA9IERFTEVURTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1ldGhvZC10eXBlcy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9vYmplY3RBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwib2JqZWN0LWFzc2lnblwiKSk7XG5cbnZhciBfY29udGVudFR5cGVzID0gcmVxdWlyZShcIi4vY29udGVudC10eXBlc1wiKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuLi91dGlsc1wiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG52YXIgUGF5bG9hZFRyYW5zZm9ybWVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gUGF5bG9hZFRyYW5zZm9ybWVyKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQYXlsb2FkVHJhbnNmb3JtZXIpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFBheWxvYWRUcmFuc2Zvcm1lciwgW3tcbiAgICBrZXk6IFwidG9SZXF1ZXN0XCIsXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY29udGVudFR5cGUgPSBBUFBMSUNBVElPTl9KU09OXVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvUmVxdWVzdChkYXRhKSB7XG4gICAgICB2YXIgY29udGVudFR5cGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IF9jb250ZW50VHlwZXMuQVBQTElDQVRJT05fSlNPTjtcblxuICAgICAgaWYgKGRhdGEgJiYgKDAsIF91dGlscy5pbmNsdWRlcykoY29udGVudFR5cGUsIF9jb250ZW50VHlwZXMuQVBQTElDQVRJT05fSlNPTikpIHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdH0geGhyXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge09iamVjdH0gZGF0YVxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzdGF0dXNcbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gc3RhdHVzVGV4dFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZnJvbVJlc3BvbnNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZyb21SZXNwb25zZSh4aHIpIHtcbiAgICAgIHZhciBoZWFkZXJzID0gdGhpcy5wYXJzZVJlc3BvbnNlSGVhZGVycyh4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpO1xuICAgICAgdmFyIGNvbnRlbnRUeXBlID0geGhyLmdldFJlc3BvbnNlSGVhZGVyKCdDb250ZW50LVR5cGUnKTtcbiAgICAgIHZhciBzdGF0dXMgPSB4aHIuc3RhdHVzLFxuICAgICAgICAgIHN0YXR1c1RleHQgPSB4aHIuc3RhdHVzVGV4dDtcbiAgICAgIHZhciBkYXRhID0gJ3Jlc3BvbnNlJyBpbiB4aHIgPyB4aHIucmVzcG9uc2UgOiB4aHIucmVzcG9uc2VUZXh0O1xuXG4gICAgICBpZiAoZGF0YSAmJiAoMCwgX3V0aWxzLmluY2x1ZGVzKShjb250ZW50VHlwZSwgX2NvbnRlbnRUeXBlcy5BUFBMSUNBVElPTl9KU09OKSkge1xuICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgc3RhdHVzOiBzdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6IHN0YXR1c1RleHRcbiAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHJhd0hlYWRlcnNcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicGFyc2VSZXNwb25zZUhlYWRlcnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcGFyc2VSZXNwb25zZUhlYWRlcnMocmF3SGVhZGVycykge1xuICAgICAgdmFyIGxpbmVzID0gcmF3SGVhZGVycyA/IHJhd0hlYWRlcnMucmVwbGFjZSgvXFxyP1xcbltcXHQgXSsvZywgJyAnKS5zcGxpdCgvXFxyP1xcbi8pIDogW107XG4gICAgICByZXR1cm4gbGluZXMucmVkdWNlKGZ1bmN0aW9uIChoZWFkZXJzLCBsaW5lKSB7XG4gICAgICAgIHZhciBwYXJ0cyA9IGxpbmUuc3BsaXQoJzonKTtcbiAgICAgICAgdmFyIGtleSA9IChwYXJ0cy5zaGlmdCgpIHx8ICcnKS50cmltKCk7XG5cbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICByZXR1cm4gaGVhZGVycztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoMCwgX29iamVjdEFzc2lnbjIuZGVmYXVsdCkoe30sIGhlYWRlcnMsIF9kZWZpbmVQcm9wZXJ0eSh7fSwga2V5LnRvTG93ZXJDYXNlKCksIHBhcnRzLmpvaW4oJzonKS50cmltKCkpKTtcbiAgICAgIH0sIHt9KTtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogXCJjcmVhdGVcIixcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtQYXlsb2FkVHJhbnNmb3JtZXJ9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICAgIHJldHVybiBuZXcgUGF5bG9hZFRyYW5zZm9ybWVyKCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFBheWxvYWRUcmFuc2Zvcm1lcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUGF5bG9hZFRyYW5zZm9ybWVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGF5bG9hZC10cmFuc2Zvcm1lci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG52YXIgUmVxdWVzdEZhY3RvcnkgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBSZXF1ZXN0RmFjdG9yeSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVxdWVzdEZhY3RvcnkpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFJlcXVlc3RGYWN0b3J5LCBbe1xuICAgIGtleTogXCJjcmVhdGVSZXF1ZXN0XCIsXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdXG4gICAgICogQHJldHVybnMge1hNTEh0dHBSZXF1ZXN0fVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVSZXF1ZXN0KHVybCwgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcih4aHIuc3RhdHVzVGV4dCkpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB4aHIub3BlbihvcHRpb25zLm1ldGhvZCwgdXJsLCB0cnVlKTtcbiAgICAgIHRoaXMuc2V0T3B0aW9ucyh4aHIsIG9wdGlvbnMpO1xuICAgICAgcmV0dXJuIHhocjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1hNTEh0dHBSZXF1ZXN0fSB4aHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaGVhZGVyc1xuICAgICAqIEByZXR1cm5zIHt2b2lkfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2V0SGVhZGVyc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRIZWFkZXJzKHhociwgaGVhZGVycykge1xuICAgICAgdmFyIGhlYWRlcktleXMgPSBPYmplY3Qua2V5cyhoZWFkZXJzKTtcbiAgICAgIGhlYWRlcktleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGhlYWRlcnNba2V5XTtcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoa2V5LCB2YWx1ZSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1hNTEh0dHBSZXF1ZXN0fSB4aHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIHt2b2lkfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2V0T3B0aW9uc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRPcHRpb25zKHhociwgb3B0aW9ucykge1xuICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IG9wdGlvbnMud2l0aENyZWRlbnRpYWxzO1xuXG4gICAgICBpZiAob3B0aW9ucy5oZWFkZXJzKSB7XG4gICAgICAgIHRoaXMuc2V0SGVhZGVycyh4aHIsIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICB9XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwiY3JlYXRlXCIsXG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7UmVxdWVzdEZhY3Rvcnl9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICAgIHJldHVybiBuZXcgUmVxdWVzdEZhY3RvcnkoKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUmVxdWVzdEZhY3Rvcnk7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFJlcXVlc3RGYWN0b3J5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVxdWVzdC1mYWN0b3J5LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX2RlZXBBc3NpZ24gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJkZWVwLWFzc2lnblwiKSk7XG5cbnZhciBfb2JqZWN0QXNzaWduID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwib2JqZWN0LWFzc2lnblwiKSk7XG5cbnZhciBfbWV0aG9kVHlwZXMgPSByZXF1aXJlKFwiLi9tZXRob2QtdHlwZXNcIik7XG5cbnZhciBfZGVmYXVsdE9wdGlvbnMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL2RlZmF1bHQtb3B0aW9uc1wiKSk7XG5cbnZhciBfcGF5bG9hZFRyYW5zZm9ybWVyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9wYXlsb2FkLXRyYW5zZm9ybWVyXCIpKTtcblxudmFyIF9yZXF1ZXN0RmFjdG9yeSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vcmVxdWVzdC1mYWN0b3J5XCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG52YXIgUmVxdWVzdFNlbmRlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIF9jcmVhdGVDbGFzcyhSZXF1ZXN0U2VuZGVyLCBudWxsLCBbe1xuICAgIGtleTogXCJjcmVhdGVcIixcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtSZXF1ZXN0U2VuZGVyfVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgICB2YXIgcmVxdWVzdEZhY3RvcnkgPSBfcmVxdWVzdEZhY3RvcnkuZGVmYXVsdC5jcmVhdGUoKTtcblxuICAgICAgdmFyIHBheWxvYWRUcmFuc2Zvcm1lciA9IF9wYXlsb2FkVHJhbnNmb3JtZXIuZGVmYXVsdC5jcmVhdGUoKTtcblxuICAgICAgcmV0dXJuIG5ldyBSZXF1ZXN0U2VuZGVyKHJlcXVlc3RGYWN0b3J5LCBwYXlsb2FkVHJhbnNmb3JtZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1JlcXVlc3RGYWN0b3J5fSByZXF1ZXN0RmFjdG9yeVxuICAgICAqIEBwYXJhbSB7UGF5bG9hZFRyYW5zZm9ybWVyfSBwYXlsb2FkVHJhbnNmb3JtZXJcbiAgICAgKi9cblxuICB9XSk7XG5cbiAgZnVuY3Rpb24gUmVxdWVzdFNlbmRlcihyZXF1ZXN0RmFjdG9yeSwgcGF5bG9hZFRyYW5zZm9ybWVyKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlcXVlc3RTZW5kZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7UmVxdWVzdEZhY3Rvcnl9XG4gICAgICovXG4gICAgdGhpcy5yZXF1ZXN0RmFjdG9yeSA9IHJlcXVlc3RGYWN0b3J5O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge1BheWxvYWRUcmFuc2Zvcm1lcn1cbiAgICAgKi9cblxuICAgIHRoaXMucGF5bG9hZFRyYW5zZm9ybWVyID0gcGF5bG9hZFRyYW5zZm9ybWVyO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXVxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoUmVxdWVzdFNlbmRlciwgW3tcbiAgICBrZXk6IFwic2VuZFJlcXVlc3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2VuZFJlcXVlc3QodXJsLCBkYXRhLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIG1lcmdlZE9wdGlvbnMgPSAoMCwgX2RlZXBBc3NpZ24uZGVmYXVsdCkoe30sIF9kZWZhdWx0T3B0aW9ucy5kZWZhdWx0LCBvcHRpb25zKTtcbiAgICAgIHZhciB4aHIgPSB0aGlzLnJlcXVlc3RGYWN0b3J5LmNyZWF0ZVJlcXVlc3QodXJsLCBtZXJnZWRPcHRpb25zLCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgdmFyIHJlc3BvbnNlID0gX3RoaXMucGF5bG9hZFRyYW5zZm9ybWVyLmZyb21SZXNwb25zZSh4aHIpO1xuXG4gICAgICAgIGlmICghY2FsbGJhY2spIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXJyb3IgfHwgIV90aGlzLmlzU3VjY2Vzc2Z1bFJlcXVlc3QoeGhyKSkge1xuICAgICAgICAgIGNhbGxiYWNrKHJlc3BvbnNlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjYWxsYmFjayhudWxsLCByZXNwb25zZSk7XG4gICAgICB9KTtcbiAgICAgIHZhciBwYXlsb2FkID0gdGhpcy5wYXlsb2FkVHJhbnNmb3JtZXIudG9SZXF1ZXN0KGRhdGEsIG1lcmdlZE9wdGlvbnMuaGVhZGVyc1snQ29udGVudC1UeXBlJ10pO1xuICAgICAgeGhyLnNlbmQocGF5bG9hZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdXG4gICAgICogQHJldHVybnMge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJwb3N0UmVxdWVzdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwb3N0UmVxdWVzdCh1cmwsIGRhdGEsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgbWVyZ2VkT3B0aW9ucyA9ICgwLCBfb2JqZWN0QXNzaWduLmRlZmF1bHQpKHt9LCBvcHRpb25zLCB7XG4gICAgICAgIG1ldGhvZDogX21ldGhvZFR5cGVzLlBPU1RcbiAgICAgIH0pO1xuICAgICAgdGhpcy5zZW5kUmVxdWVzdCh1cmwsIGRhdGEsIG1lcmdlZE9wdGlvbnMsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1hNTEh0dHBSZXF1ZXN0fSB4aHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImlzU3VjY2Vzc2Z1bFJlcXVlc3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNTdWNjZXNzZnVsUmVxdWVzdCh4aHIpIHtcbiAgICAgIHJldHVybiB4aHIuc3RhdHVzID49IDIwMCAmJiB4aHIuc3RhdHVzIDwgMzAwO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBSZXF1ZXN0U2VuZGVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBSZXF1ZXN0U2VuZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVxdWVzdC1zZW5kZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBpbmNsdWRlcztcblxuLyoqXG4gKiBAcGFyYW0ge2FycmF5fHN0cmluZ30gaXRlbXNcbiAqIEBwYXJhbSB7YXJyYXl8c3RyaW5nfSBpdGVtXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaW5jbHVkZXMoaXRlbXMsIGl0ZW0pIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGl0ZW1zKSAmJiB0eXBlb2YgaXRlbXMgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIGl0ZW1zLmluZGV4T2YoaXRlbSkgIT09IC0xO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5jbHVkZXMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJpbmNsdWRlc1wiLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW5jbHVkZXMuZGVmYXVsdDtcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJpc05pbFwiLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaXNOaWwuZGVmYXVsdDtcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJpc09iamVjdFwiLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaXNPYmplY3QuZGVmYXVsdDtcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJvbWl0RW1wdHlTdHJpbmdBbmROaWxcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX29taXRFbXB0eXN0cmluZ0FuZE5pbC5kZWZhdWx0O1xuICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIm9taXROaWxcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX29taXROaWwuZGVmYXVsdDtcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJvbWl0UHJvcGVydHlcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX29taXRQcm9wZXJ0eS5kZWZhdWx0O1xuICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInRvTnVtYmVyXCIsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF90b051bWJlci5kZWZhdWx0O1xuICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInRvU25ha2VDYXNlXCIsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF90b1NuYWtlQ2FzZS5kZWZhdWx0O1xuICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInRvU3RyaW5nXCIsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF90b1N0cmluZy5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9pbmNsdWRlcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vaW5jbHVkZXNcIikpO1xuXG52YXIgX2lzTmlsID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9pcy1uaWxcIikpO1xuXG52YXIgX2lzT2JqZWN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9pcy1vYmplY3RcIikpO1xuXG52YXIgX29taXRFbXB0eXN0cmluZ0FuZE5pbCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vb21pdC1lbXB0eXN0cmluZy1hbmQtbmlsXCIpKTtcblxudmFyIF9vbWl0TmlsID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9vbWl0LW5pbFwiKSk7XG5cbnZhciBfb21pdFByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9vbWl0LXByb3BlcnR5XCIpKTtcblxudmFyIF90b051bWJlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vdG8tbnVtYmVyXCIpKTtcblxudmFyIF90b1NuYWtlQ2FzZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vdG8tc25ha2UtY2FzZVwiKSk7XG5cbnZhciBfdG9TdHJpbmcgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3RvLXN0cmluZ1wiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGlzRW1wdHlTdHJpbmc7XG5cbi8qKlxuICogQHBhcmFtIHsqfSB2YWx1ZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzRW1wdHlTdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09PSAnJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzLWVtcHR5LXN0cmluZy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGlzRW1wdHlTdHJpbmdPck5pbDtcblxudmFyIF9pc0VtcHR5U3RyaW5nID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9pcy1lbXB0eS1zdHJpbmdcIikpO1xuXG52YXIgX2lzTmlsID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9pcy1uaWxcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKipcbiAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0VtcHR5U3RyaW5nT3JOaWwodmFsdWUpIHtcbiAgcmV0dXJuICgwLCBfaXNFbXB0eVN0cmluZy5kZWZhdWx0KSh2YWx1ZSkgfHwgKDAsIF9pc05pbC5kZWZhdWx0KSh2YWx1ZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pcy1lbXB0eXN0cmluZy1vci1uaWwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBpc05pbDtcblxuLyoqXG4gKiBAcGFyYW0geyp9IHZhbHVlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNOaWwodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzLW5pbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGlzT2JqZWN0O1xuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbi8qKlxuICogQHBhcmFtIHsqfSB2YWx1ZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiBfdHlwZW9mKHZhbHVlKSA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXMtb2JqZWN0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gb21pdEVtcHR5U3RyaW5nQW5kTmlsO1xuXG52YXIgX2lzRW1wdHlzdHJpbmdPck5pbCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vaXMtZW1wdHlzdHJpbmctb3ItbmlsXCIpKTtcblxudmFyIF9vbWl0UHJvcGVydHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL29taXQtcHJvcGVydHlcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKipcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIG9taXRFbXB0eVN0cmluZ0FuZE5pbChvYmplY3QpIHtcbiAgcmV0dXJuICgwLCBfb21pdFByb3BlcnR5LmRlZmF1bHQpKG9iamVjdCwgX2lzRW1wdHlzdHJpbmdPck5pbC5kZWZhdWx0KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9taXQtZW1wdHlzdHJpbmctYW5kLW5pbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IG9taXROaWw7XG5cbnZhciBfaXNOaWwgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL2lzLW5pbFwiKSk7XG5cbnZhciBfb21pdFByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9vbWl0LXByb3BlcnR5XCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBvbWl0TmlsKG9iamVjdCkge1xuICByZXR1cm4gKDAsIF9vbWl0UHJvcGVydHkuZGVmYXVsdCkob2JqZWN0LCBfaXNOaWwuZGVmYXVsdCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vbWl0LW5pbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IG9taXRQcm9wZXJ0eTtcblxudmFyIF9pc09iamVjdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vaXMtb2JqZWN0XCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGVGblxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gb21pdFByb3BlcnR5KG9iamVjdCwgcHJlZGljYXRlRm4pIHtcbiAgaWYgKCEoMCwgX2lzT2JqZWN0LmRlZmF1bHQpKG9iamVjdCkpIHtcbiAgICByZXR1cm4gb2JqZWN0O1xuICB9XG5cbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xuICByZXR1cm4ga2V5cy5yZWR1Y2UoZnVuY3Rpb24gKHJlc3VsdCwga2V5KSB7XG4gICAgdmFyIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICBpZiAoIXByZWRpY2F0ZUZuKHZhbHVlKSkge1xuICAgICAgcmVzdWx0W2tleV0gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LCB7fSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vbWl0LXByb3BlcnR5LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdG9OdW1iZXI7XG5cbi8qKlxuICogQHBhcmFtIHsqfSB2YWx1ZVxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gdG9OdW1iZXIodmFsdWUpIHtcbiAgcmV0dXJuIHBhcnNlRmxvYXQodmFsdWUpIHx8IDA7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10by1udW1iZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB0b1NuYWtlQ2FzZTtcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiB0b1NuYWtlQ2FzZShzdHJpbmcpIHtcbiAgaWYgKHR5cGVvZiBzdHJpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHN0cmluZztcbiAgfVxuXG4gIHJldHVybiBzdHJpbmcucmVwbGFjZSgvKFthLXpcXGRdKShbQS1aXSspL2csICckMV8kMicpLnJlcGxhY2UoL1stXFxzXSsvZywgJ18nKS50b0xvd2VyQ2FzZSgpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dG8tc25ha2UtY2FzZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHRvU3RyaW5nO1xuXG4vKipcbiAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIHRvU3RyaW5nKHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgIU51bWJlci5pc05hTih2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKTtcbiAgfVxuXG4gIHJldHVybiAnJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRvLXN0cmluZy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuY3JlYXRlQ2xpZW50ID0gY3JlYXRlQ2xpZW50O1xuXG52YXIgX2NsaWVudCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vY2xpZW50L2NsaWVudFwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogQHBhcmFtIHtPYmplY3R9IFtjb25maWddXG4gKiBAcmV0dXJucyB7Q2xpZW50fVxuICovXG5mdW5jdGlvbiBjcmVhdGVDbGllbnQoY29uZmlnKSB7XG4gIHJldHVybiBfY2xpZW50LmRlZmF1bHQuY3JlYXRlKGNvbmZpZyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9yZXF1ZXN0U2VuZGVyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vY29tbW9uL2h0dHAtcmVxdWVzdC9yZXF1ZXN0LXNlbmRlclwiKSk7XG5cbnZhciBfY2xpZW50VG9rZW5NYXBwZXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3YyL3BheW1lbnQtbWFwcGVycy9jbGllbnQtdG9rZW4tbWFwcGVyXCIpKTtcblxudmFyIF91cmxIZWxwZXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3VybC1oZWxwZXJcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbnZhciBDbGllbnRUb2tlbkdlbmVyYXRvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIF9jcmVhdGVDbGFzcyhDbGllbnRUb2tlbkdlbmVyYXRvciwgbnVsbCwgW3tcbiAgICBrZXk6IFwiY3JlYXRlXCIsXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gICAgICogQHJldHVybnMge1BheW1lbnRTdWJtaXR0ZXJ9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZShjb25maWcpIHtcbiAgICAgIHZhciB1cmxIZWxwZXIgPSBfdXJsSGVscGVyLmRlZmF1bHQuY3JlYXRlKGNvbmZpZyk7XG5cbiAgICAgIHZhciByZXF1ZXN0U2VuZGVyID0gX3JlcXVlc3RTZW5kZXIuZGVmYXVsdC5jcmVhdGUoKTtcblxuICAgICAgdmFyIGNsaWVudFRva2VuTWFwcGVyID0gX2NsaWVudFRva2VuTWFwcGVyLmRlZmF1bHQuY3JlYXRlKCk7XG5cbiAgICAgIHJldHVybiBuZXcgQ2xpZW50VG9rZW5HZW5lcmF0b3IodXJsSGVscGVyLCByZXF1ZXN0U2VuZGVyLCBjbGllbnRUb2tlbk1hcHBlcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7VXJsSGVscGVyfSB1cmxIZWxwZXJcbiAgICAgKiBAcGFyYW0ge1JlcXVlc3RTZW5kZXJ9IHJlcXVlc3RTZW5kZXJcbiAgICAgKiBAcGFyYW0ge0NsaWVudFRva2VuTWFwcGVyfSBjbGllbnRUb2tlbk1hcHBlclxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxuICAgICAqL1xuXG4gIH1dKTtcblxuICBmdW5jdGlvbiBDbGllbnRUb2tlbkdlbmVyYXRvcih1cmxIZWxwZXIsIHJlcXVlc3RTZW5kZXIsIGNsaWVudFRva2VuTWFwcGVyKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENsaWVudFRva2VuR2VuZXJhdG9yKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge1VybEhlbHBlcn1cbiAgICAgKi9cbiAgICB0aGlzLnVybEhlbHBlciA9IHVybEhlbHBlcjtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtSZXF1ZXN0U2VuZGVyfVxuICAgICAqL1xuXG4gICAgdGhpcy5yZXF1ZXN0U2VuZGVyID0gcmVxdWVzdFNlbmRlcjtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtDbGllbnRUb2tlbk1hcHBlcn1cbiAgICAgKi9cblxuICAgIHRoaXMuY2xpZW50VG9rZW5NYXBwZXIgPSBjbGllbnRUb2tlbk1hcHBlcjtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtQYXltZW50UmVxdWVzdERhdGF9IGRhdGFcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXVxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoQ2xpZW50VG9rZW5HZW5lcmF0b3IsIFt7XG4gICAga2V5OiBcImdlbmVyYXRlQ2xpZW50VG9rZW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2VuZXJhdGVDbGllbnRUb2tlbihkYXRhLCBjYWxsYmFjaykge1xuICAgICAgdmFyIHVybCA9IHRoaXMudXJsSGVscGVyLmdldEdlbmVyYXRlQ2xpZW50VG9rZW5VcmwoKTtcbiAgICAgIHZhciBwYXlsb2FkID0gdGhpcy5jbGllbnRUb2tlbk1hcHBlci5tYXBUb0NsaWVudFRva2VuKGRhdGEpO1xuICAgICAgdGhpcy5yZXF1ZXN0U2VuZGVyLnBvc3RSZXF1ZXN0KHVybCwgcGF5bG9hZCwge30sIGNhbGxiYWNrKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ2xpZW50VG9rZW5HZW5lcmF0b3I7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IENsaWVudFRva2VuR2VuZXJhdG9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2xpZW50LXRva2VuLWdlbmVyYXRvci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9mb3JtUG9zdGVyID0gcmVxdWlyZShcIkBiaWdjb21tZXJjZS9mb3JtLXBvc3RlclwiKTtcblxudmFyIF9wYXltZW50VHlwZXMgPSByZXF1aXJlKFwiLi9wYXltZW50LXR5cGVzXCIpO1xuXG52YXIgX3BheWxvYWRNYXBwZXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL29mZnNpdGUtcGF5bWVudC1tYXBwZXJzL3BheWxvYWQtbWFwcGVyXCIpKTtcblxudmFyIF91cmxIZWxwZXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3VybC1oZWxwZXJcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbnZhciBPZmZzaXRlUGF5bWVudEluaXRpYWxpemVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgX2NyZWF0ZUNsYXNzKE9mZnNpdGVQYXltZW50SW5pdGlhbGl6ZXIsIG51bGwsIFt7XG4gICAga2V5OiBcImNyZWF0ZVwiLFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ1xuICAgICAqIEByZXR1cm5zIHtPZmZzaXRlUGF5bWVudEluaXRpYWxpemVyfVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGUoY29uZmlnKSB7XG4gICAgICB2YXIgdXJsSGVscGVyID0gX3VybEhlbHBlci5kZWZhdWx0LmNyZWF0ZShjb25maWcpO1xuXG4gICAgICB2YXIgZm9ybVBvc3RlciA9ICgwLCBfZm9ybVBvc3Rlci5jcmVhdGVGb3JtUG9zdGVyKSgpO1xuXG4gICAgICB2YXIgcGF5bG9hZE1hcHBlciA9IF9wYXlsb2FkTWFwcGVyLmRlZmF1bHQuY3JlYXRlKCk7XG5cbiAgICAgIHJldHVybiBuZXcgT2Zmc2l0ZVBheW1lbnRJbml0aWFsaXplcih1cmxIZWxwZXIsIGZvcm1Qb3N0ZXIsIHBheWxvYWRNYXBwZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1VybEhlbHBlcn0gdXJsSGVscGVyXG4gICAgICogQHBhcmFtIHtGb3JtUG9zdGVyfSBmb3JtUG9zdGVyXG4gICAgICogQHBhcmFtIHtQYXlsb2FkTWFwcGVyfSBwYXlsb2FkTWFwcGVyXG4gICAgICogQHJldHVybnMge3ZvaWR9XG4gICAgICovXG5cbiAgfV0pO1xuXG4gIGZ1bmN0aW9uIE9mZnNpdGVQYXltZW50SW5pdGlhbGl6ZXIodXJsSGVscGVyLCBmb3JtUG9zdGVyLCBwYXlsb2FkTWFwcGVyKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE9mZnNpdGVQYXltZW50SW5pdGlhbGl6ZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7VXJsSGVscGVyfVxuICAgICAqL1xuICAgIHRoaXMudXJsSGVscGVyID0gdXJsSGVscGVyO1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0Zvcm1Qb3N0ZXJ9XG4gICAgICovXG5cbiAgICB0aGlzLmZvcm1Qb3N0ZXIgPSBmb3JtUG9zdGVyO1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge1BheWxvYWRNYXBwZXJ9XG4gICAgICovXG5cbiAgICB0aGlzLnBheWxvYWRNYXBwZXIgPSBwYXlsb2FkTWFwcGVyO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge1BheW1lbnRSZXF1ZXN0RGF0YX0gZGF0YVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0YXJnZXRcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqIEB0aHJvd3Mge0Vycm9yfVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhPZmZzaXRlUGF5bWVudEluaXRpYWxpemVyLCBbe1xuICAgIGtleTogXCJpbml0aWFsaXplT2Zmc2l0ZVBheW1lbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZU9mZnNpdGVQYXltZW50KGRhdGEsIGNhbGxiYWNrLCB0YXJnZXQpIHtcbiAgICAgIHZhciBfZGF0YSRwYXltZW50TWV0aG9kID0gZGF0YS5wYXltZW50TWV0aG9kLFxuICAgICAgICAgIHBheW1lbnRNZXRob2QgPSBfZGF0YSRwYXltZW50TWV0aG9kID09PSB2b2lkIDAgPyB7fSA6IF9kYXRhJHBheW1lbnRNZXRob2Q7XG5cbiAgICAgIGlmIChwYXltZW50TWV0aG9kLnR5cGUgIT09IF9wYXltZW50VHlwZXMuSE9TVEVEKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlwiLmNvbmNhdChwYXltZW50TWV0aG9kLnR5cGUsIFwiIGlzIG5vdCBzdXBwb3J0ZWQuXCIpKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHBheWxvYWQgPSB0aGlzLnBheWxvYWRNYXBwZXIubWFwVG9QYXlsb2FkKGRhdGEpO1xuICAgICAgdmFyIHVybCA9IHRoaXMudXJsSGVscGVyLmdldE9mZnNpdGVQYXltZW50VXJsKCk7XG4gICAgICB0aGlzLmZvcm1Qb3N0ZXIucG9zdEZvcm0odXJsLCBwYXlsb2FkLCBjYWxsYmFjaywgdGFyZ2V0KTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gT2Zmc2l0ZVBheW1lbnRJbml0aWFsaXplcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gT2Zmc2l0ZVBheW1lbnRJbml0aWFsaXplcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9mZnNpdGUtcGF5bWVudC1pbml0aWFsaXplci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuLi8uLi9jb21tb24vdXRpbHNcIik7XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxudmFyIEFkZHJlc3NNYXBwZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBBZGRyZXNzTWFwcGVyKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBZGRyZXNzTWFwcGVyKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhBZGRyZXNzTWFwcGVyLCBbe1xuICAgIGtleTogXCJtYXBUb0JpbGxpbmdBZGRyZXNzXCIsXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BheW1lbnRSZXF1ZXN0RGF0YX0gZGF0YVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1hcFRvQmlsbGluZ0FkZHJlc3MoZGF0YSkge1xuICAgICAgcmV0dXJuIHRoaXMubWFwVG9BZGRyZXNzKGRhdGEsICdiaWxsaW5nQWRkcmVzcycpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BheW1lbnRSZXF1ZXN0RGF0YX0gZGF0YVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJtYXBUb1NoaXBwaW5nQWRkcmVzc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXBUb1NoaXBwaW5nQWRkcmVzcyhkYXRhKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYXBUb0FkZHJlc3MoZGF0YSwgJ3NoaXBwaW5nQWRkcmVzcycpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UGF5bWVudFJlcXVlc3REYXRhfSBkYXRhXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGFkZHJlc3NLZXlcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibWFwVG9BZGRyZXNzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1hcFRvQWRkcmVzcyhkYXRhLCBhZGRyZXNzS2V5KSB7XG4gICAgICB2YXIgX29taXROaWw7XG5cbiAgICAgIHZhciBhZGRyZXNzID0gZGF0YVthZGRyZXNzS2V5XSB8fCB7fTtcbiAgICAgIHZhciBmb3JtYXR0ZWRBZGRyZXNzS2V5ID0gKDAsIF91dGlscy50b1NuYWtlQ2FzZSkoYWRkcmVzc0tleSk7XG4gICAgICByZXR1cm4gKDAsIF91dGlscy5vbWl0TmlsKSgoX29taXROaWwgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9vbWl0TmlsLCBcIlwiLmNvbmNhdChmb3JtYXR0ZWRBZGRyZXNzS2V5LCBcIl9jaXR5XCIpLCBhZGRyZXNzLmNpdHkpLCBfZGVmaW5lUHJvcGVydHkoX29taXROaWwsIFwiXCIuY29uY2F0KGZvcm1hdHRlZEFkZHJlc3NLZXksIFwiX2NvbXBhbnlcIiksIGFkZHJlc3MuY29tcGFueSksIF9kZWZpbmVQcm9wZXJ0eShfb21pdE5pbCwgXCJcIi5jb25jYXQoZm9ybWF0dGVkQWRkcmVzc0tleSwgXCJfY291bnRyeV9jb2RlXCIpLCBhZGRyZXNzLmNvdW50cnlDb2RlKSwgX2RlZmluZVByb3BlcnR5KF9vbWl0TmlsLCBcIlwiLmNvbmNhdChmb3JtYXR0ZWRBZGRyZXNzS2V5LCBcIl9jb3VudHJ5XCIpLCBhZGRyZXNzLmNvdW50cnkpLCBfZGVmaW5lUHJvcGVydHkoX29taXROaWwsIFwiXCIuY29uY2F0KGZvcm1hdHRlZEFkZHJlc3NLZXksIFwiX2ZpcnN0X25hbWVcIiksIGFkZHJlc3MuZmlyc3ROYW1lKSwgX2RlZmluZVByb3BlcnR5KF9vbWl0TmlsLCBcIlwiLmNvbmNhdChmb3JtYXR0ZWRBZGRyZXNzS2V5LCBcIl9sYXN0X25hbWVcIiksIGFkZHJlc3MubGFzdE5hbWUpLCBfZGVmaW5lUHJvcGVydHkoX29taXROaWwsIFwiXCIuY29uY2F0KGZvcm1hdHRlZEFkZHJlc3NLZXksIFwiX3Bob25lXCIpLCBhZGRyZXNzLnBob25lKSwgX2RlZmluZVByb3BlcnR5KF9vbWl0TmlsLCBcIlwiLmNvbmNhdChmb3JtYXR0ZWRBZGRyZXNzS2V5LCBcIl9zdGF0ZV9jb2RlXCIpLCBhZGRyZXNzLnByb3ZpbmNlQ29kZSksIF9kZWZpbmVQcm9wZXJ0eShfb21pdE5pbCwgXCJcIi5jb25jYXQoZm9ybWF0dGVkQWRkcmVzc0tleSwgXCJfc3RhdGVcIiksIGFkZHJlc3MucHJvdmluY2UpLCBfZGVmaW5lUHJvcGVydHkoX29taXROaWwsIFwiXCIuY29uY2F0KGZvcm1hdHRlZEFkZHJlc3NLZXksIFwiX3N0cmVldF8xXCIpLCBhZGRyZXNzLmFkZHJlc3NMaW5lMSksIF9kZWZpbmVQcm9wZXJ0eShfb21pdE5pbCwgXCJcIi5jb25jYXQoZm9ybWF0dGVkQWRkcmVzc0tleSwgXCJfc3RyZWV0XzJcIiksIGFkZHJlc3MuYWRkcmVzc0xpbmUyKSwgX2RlZmluZVByb3BlcnR5KF9vbWl0TmlsLCBcIlwiLmNvbmNhdChmb3JtYXR0ZWRBZGRyZXNzS2V5LCBcIl96aXBcIiksIGFkZHJlc3MucG9zdENvZGUpLCBfb21pdE5pbCkpO1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiBcImNyZWF0ZVwiLFxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge0FkZHJlc3NNYXBwZXJ9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICAgIHJldHVybiBuZXcgQWRkcmVzc01hcHBlcigpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBBZGRyZXNzTWFwcGVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBBZGRyZXNzTWFwcGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWRkcmVzcy1tYXBwZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi4vLi4vY29tbW9uL3V0aWxzXCIpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbnZhciBDdXN0b21lck1hcHBlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEN1c3RvbWVyTWFwcGVyKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDdXN0b21lck1hcHBlcik7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ3VzdG9tZXJNYXBwZXIsIFt7XG4gICAga2V5OiBcIm1hcFRvQ3VzdG9tZXJcIixcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UGF5bWVudFJlcXVlc3REYXRhfSBkYXRhXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gbWFwVG9DdXN0b21lcihkYXRhKSB7XG4gICAgICB2YXIgX2RhdGEkY3VzdG9tZXIgPSBkYXRhLmN1c3RvbWVyLFxuICAgICAgICAgIGN1c3RvbWVyID0gX2RhdGEkY3VzdG9tZXIgPT09IHZvaWQgMCA/IHt9IDogX2RhdGEkY3VzdG9tZXIsXG4gICAgICAgICAgX2RhdGEkcXVvdGVNZXRhID0gZGF0YS5xdW90ZU1ldGEsXG4gICAgICAgICAgcXVvdGVNZXRhID0gX2RhdGEkcXVvdGVNZXRhID09PSB2b2lkIDAgPyB7fSA6IF9kYXRhJHF1b3RlTWV0YSxcbiAgICAgICAgICBfZGF0YSRzdG9yZSA9IGRhdGEuc3RvcmUsXG4gICAgICAgICAgc3RvcmUgPSBfZGF0YSRzdG9yZSA9PT0gdm9pZCAwID8ge30gOiBfZGF0YSRzdG9yZTtcbiAgICAgIHJldHVybiAoMCwgX3V0aWxzLm9taXROaWwpKHtcbiAgICAgICAgY3VzdG9tZXJfYnJvd3Nlcl9pbmZvOiBuYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICBjdXN0b21lcl9lbWFpbDogY3VzdG9tZXIuZW1haWwsXG4gICAgICAgIGN1c3RvbWVyX2ZpcnN0X25hbWU6IGN1c3RvbWVyLmZpcnN0TmFtZSxcbiAgICAgICAgY3VzdG9tZXJfZ2VvX2lwX2NvdW50cnlfY29kZTogcXVvdGVNZXRhLnJlcXVlc3QgPyBxdW90ZU1ldGEucmVxdWVzdC5nZW9Db3VudHJ5Q29kZSA6IG51bGwsXG4gICAgICAgIGN1c3RvbWVyX2lkOiBjdXN0b21lci5jdXN0b21lcklkLFxuICAgICAgICBjdXN0b21lcl9sYXN0X25hbWU6IGN1c3RvbWVyLmxhc3ROYW1lLFxuICAgICAgICBjdXN0b21lcl9sb2NhbGU6IHN0b3JlLnN0b3JlTGFuZ3VhZ2UsXG4gICAgICAgIGN1c3RvbWVyX25hbWU6IGN1c3RvbWVyLm5hbWUsXG4gICAgICAgIGN1c3RvbWVyX3Bob25lOiBjdXN0b21lci5waG9uZU51bWJlcixcbiAgICAgICAgY3VzdG9tZXJfcmVmZXJlbmNlOiBjdXN0b21lci5lbWFpbFxuICAgICAgfSk7XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwiY3JlYXRlXCIsXG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7Q3VzdG9tZXJNYXBwZXJ9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICAgIHJldHVybiBuZXcgQ3VzdG9tZXJNYXBwZXIoKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ3VzdG9tZXJNYXBwZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEN1c3RvbWVyTWFwcGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3VzdG9tZXItbWFwcGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4uLy4uL2NvbW1vbi91dGlsc1wiKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG52YXIgTWV0YU1hcHBlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE1ldGFNYXBwZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1ldGFNYXBwZXIpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE1ldGFNYXBwZXIsIFt7XG4gICAga2V5OiBcIm1hcFRvTWV0YVwiLFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQYXltZW50UmVxdWVzdERhdGF9IGRhdGFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXBUb01ldGEoZGF0YSkge1xuICAgICAgdmFyIHNvdXJjZSA9IGRhdGEuc291cmNlO1xuICAgICAgcmV0dXJuICgwLCBfdXRpbHMub21pdE5pbCkoe1xuICAgICAgICBtZXRhX3JlZmVycmVyOiBkb2N1bWVudC5yZWZlcnJlcixcbiAgICAgICAgbWV0YV9zb3VyY2U6IHNvdXJjZSxcbiAgICAgICAgbWV0YV91c2VyX2FnZW50OiBuYXZpZ2F0b3IudXNlckFnZW50XG4gICAgICB9KTtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogXCJjcmVhdGVcIixcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtNZXRhTWFwcGVyfVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgICByZXR1cm4gbmV3IE1ldGFNYXBwZXIoKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWV0YU1hcHBlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gTWV0YU1hcHBlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1ldGEtbWFwcGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX29iamVjdEFzc2lnbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIm9iamVjdC1hc3NpZ25cIikpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4uLy4uL2NvbW1vbi91dGlsc1wiKTtcblxudmFyIF9hZGRyZXNzTWFwcGVyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9hZGRyZXNzLW1hcHBlclwiKSk7XG5cbnZhciBfY3VzdG9tZXJNYXBwZXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL2N1c3RvbWVyLW1hcHBlclwiKSk7XG5cbnZhciBfbWV0YU1hcHBlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vbWV0YS1tYXBwZXJcIikpO1xuXG52YXIgX3BheW1lbnRNZXRob2RJZE1hcHBlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uL3BheW1lbnQtbWV0aG9kLW1hcHBlcnMvcGF5bWVudC1tZXRob2QtaWQtbWFwcGVyXCIpKTtcblxudmFyIF9zdG9yZU1hcHBlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vc3RvcmUtbWFwcGVyXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG52YXIgUGF5bG9hZE1hcHBlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIF9jcmVhdGVDbGFzcyhQYXlsb2FkTWFwcGVyLCBudWxsLCBbe1xuICAgIGtleTogXCJjcmVhdGVcIixcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtQYXlsb2FkTWFwcGVyfVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgICB2YXIgYWRkcmVzc01hcHBlciA9IF9hZGRyZXNzTWFwcGVyLmRlZmF1bHQuY3JlYXRlKCk7XG5cbiAgICAgIHZhciBjdXN0b21lck1hcHBlciA9IF9jdXN0b21lck1hcHBlci5kZWZhdWx0LmNyZWF0ZSgpO1xuXG4gICAgICB2YXIgbWV0YU1hcHBlciA9IF9tZXRhTWFwcGVyLmRlZmF1bHQuY3JlYXRlKCk7XG5cbiAgICAgIHZhciBwYXltZW50TWV0aG9kSWRNYXBwZXIgPSBfcGF5bWVudE1ldGhvZElkTWFwcGVyLmRlZmF1bHQuY3JlYXRlKCk7XG5cbiAgICAgIHZhciBzdG9yZU1hcHBlciA9IF9zdG9yZU1hcHBlci5kZWZhdWx0LmNyZWF0ZSgpO1xuXG4gICAgICByZXR1cm4gbmV3IFBheWxvYWRNYXBwZXIoYWRkcmVzc01hcHBlciwgY3VzdG9tZXJNYXBwZXIsIG1ldGFNYXBwZXIsIHBheW1lbnRNZXRob2RJZE1hcHBlciwgc3RvcmVNYXBwZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0FkZHJlc3NNYXBwZXJ9IGFkZHJlc3NNYXBwZXJcbiAgICAgKiBAcGFyYW0ge0N1c3RvbWVyTWFwcGVyfSBjdXN0b21lck1hcHBlclxuICAgICAqIEBwYXJhbSB7TWV0YU1hcHBlcn0gbWV0YU1hcHBlclxuICAgICAqIEBwYXJhbSB7UGF5bWVudE1ldGhvZElkTWFwcGVyfSBwYXltZW50TWV0aG9kSWRNYXBwZXJcbiAgICAgKiBAcGFyYW0ge1N0b3JlTWFwcGVyfSBzdG9yZU1hcHBlclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG5cbiAgfV0pO1xuXG4gIGZ1bmN0aW9uIFBheWxvYWRNYXBwZXIoYWRkcmVzc01hcHBlciwgY3VzdG9tZXJNYXBwZXIsIG1ldGFNYXBwZXIsIHBheW1lbnRNZXRob2RJZE1hcHBlciwgc3RvcmVNYXBwZXIpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGF5bG9hZE1hcHBlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBZGRyZXNzTWFwcGVyfVxuICAgICAqL1xuICAgIHRoaXMuYWRkcmVzc01hcHBlciA9IGFkZHJlc3NNYXBwZXI7XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Q3VzdG9tZXJNYXBwZXJ9XG4gICAgICovXG5cbiAgICB0aGlzLmN1c3RvbWVyTWFwcGVyID0gY3VzdG9tZXJNYXBwZXI7XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7TWV0YU1hcHBlcn1cbiAgICAgKi9cblxuICAgIHRoaXMubWV0YU1hcHBlciA9IG1ldGFNYXBwZXI7XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7UGF5bWVudE1ldGhvZElkTWFwcGVyfVxuICAgICAqL1xuXG4gICAgdGhpcy5wYXltZW50TWV0aG9kSWRNYXBwZXIgPSBwYXltZW50TWV0aG9kSWRNYXBwZXI7XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7U3RvcmVNYXBwZXJ9XG4gICAgICovXG5cbiAgICB0aGlzLnN0b3JlTWFwcGVyID0gc3RvcmVNYXBwZXI7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7UGF5bWVudFJlcXVlc3REYXRhfSBkYXRhXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKFBheWxvYWRNYXBwZXIsIFt7XG4gICAga2V5OiBcIm1hcFRvUGF5bG9hZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXBUb1BheWxvYWQoZGF0YSkge1xuICAgICAgdmFyIGF1dGhUb2tlbiA9IGRhdGEuYXV0aFRva2VuLFxuICAgICAgICAgIF9kYXRhJG9yZGVyID0gZGF0YS5vcmRlcixcbiAgICAgICAgICBvcmRlciA9IF9kYXRhJG9yZGVyID09PSB2b2lkIDAgPyB7fSA6IF9kYXRhJG9yZGVyLFxuICAgICAgICAgIF9kYXRhJHBheW1lbnQgPSBkYXRhLnBheW1lbnQsXG4gICAgICAgICAgcGF5bWVudCA9IF9kYXRhJHBheW1lbnQgPT09IHZvaWQgMCA/IHt9IDogX2RhdGEkcGF5bWVudCxcbiAgICAgICAgICBfZGF0YSRwYXltZW50TWV0aG9kID0gZGF0YS5wYXltZW50TWV0aG9kLFxuICAgICAgICAgIHBheW1lbnRNZXRob2QgPSBfZGF0YSRwYXltZW50TWV0aG9kID09PSB2b2lkIDAgPyB7fSA6IF9kYXRhJHBheW1lbnRNZXRob2Q7XG4gICAgICB2YXIgcGF5bG9hZCA9ICgwLCBfb2JqZWN0QXNzaWduLmRlZmF1bHQpKHtcbiAgICAgICAgYW1vdW50OiBvcmRlci5ncmFuZFRvdGFsID8gb3JkZXIuZ3JhbmRUb3RhbC5pbnRlZ2VyQW1vdW50IDogbnVsbCxcbiAgICAgICAgYmNfYXV0aF90b2tlbjogYXV0aFRva2VuLFxuICAgICAgICBjdXJyZW5jeTogb3JkZXIuY3VycmVuY3ksXG4gICAgICAgIGdhdGV3YXk6IHRoaXMucGF5bWVudE1ldGhvZElkTWFwcGVyLm1hcFRvSWQocGF5bWVudE1ldGhvZCksXG4gICAgICAgIG5vdGlmeV91cmw6IG9yZGVyLmNhbGxiYWNrVXJsLFxuICAgICAgICBvcmRlcl9pZDogb3JkZXIub3JkZXJJZCA/ICgwLCBfdXRpbHMudG9TdHJpbmcpKG9yZGVyLm9yZGVySWQpIDogbnVsbCxcbiAgICAgICAgcGFnZV90aXRsZTogZG9jdW1lbnQudGl0bGUgPyBkb2N1bWVudC50aXRsZSA6IG51bGwsXG4gICAgICAgIHBheW1lbnRfbWV0aG9kX2lkOiBwYXltZW50TWV0aG9kLmlkLFxuICAgICAgICByZWZlcmVuY2VfaWQ6IG9yZGVyLm9yZGVySWQgPyAoMCwgX3V0aWxzLnRvU3RyaW5nKShvcmRlci5vcmRlcklkKSA6IG51bGwsXG4gICAgICAgIHJldHVybl91cmw6IHBheW1lbnRNZXRob2QucmV0dXJuVXJsIHx8IChvcmRlci5wYXltZW50ID8gb3JkZXIucGF5bWVudC5yZXR1cm5VcmwgOiBudWxsKVxuICAgICAgfSwgdGhpcy5hZGRyZXNzTWFwcGVyLm1hcFRvQmlsbGluZ0FkZHJlc3MoZGF0YSksIHRoaXMuY3VzdG9tZXJNYXBwZXIubWFwVG9DdXN0b21lcihkYXRhKSwgdGhpcy5tZXRhTWFwcGVyLm1hcFRvTWV0YShkYXRhKSwgdGhpcy5hZGRyZXNzTWFwcGVyLm1hcFRvU2hpcHBpbmdBZGRyZXNzKGRhdGEpLCB0aGlzLnN0b3JlTWFwcGVyLm1hcFRvU3RvcmUoZGF0YSkpO1xuICAgICAgdmFyIF9wYXltZW50JGZvcm1hdHRlZFBheSA9IHBheW1lbnQuZm9ybWF0dGVkUGF5bG9hZCxcbiAgICAgICAgICBmb3JtYXR0ZWRQYXlsb2FkID0gX3BheW1lbnQkZm9ybWF0dGVkUGF5ID09PSB2b2lkIDAgPyB7fSA6IF9wYXltZW50JGZvcm1hdHRlZFBheTtcbiAgICAgICgwLCBfb2JqZWN0QXNzaWduLmRlZmF1bHQpKHBheWxvYWQsIGZvcm1hdHRlZFBheWxvYWQpO1xuICAgICAgcmV0dXJuICgwLCBfdXRpbHMub21pdE5pbCkocGF5bG9hZCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFBheWxvYWRNYXBwZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFBheWxvYWRNYXBwZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXlsb2FkLW1hcHBlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuLi8uLi9jb21tb24vdXRpbHNcIik7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxudmFyIFN0b3JlTWFwcGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU3RvcmVNYXBwZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN0b3JlTWFwcGVyKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhTdG9yZU1hcHBlciwgW3tcbiAgICBrZXk6IFwibWFwVG9TdG9yZVwiLFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQYXltZW50UmVxdWVzdERhdGF9IGRhdGFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXBUb1N0b3JlKGRhdGEpIHtcbiAgICAgIHZhciBfZGF0YSRzdG9yZSA9IGRhdGEuc3RvcmUsXG4gICAgICAgICAgc3RvcmUgPSBfZGF0YSRzdG9yZSA9PT0gdm9pZCAwID8ge30gOiBfZGF0YSRzdG9yZTtcbiAgICAgIHJldHVybiAoMCwgX3V0aWxzLm9taXROaWwpKHtcbiAgICAgICAgc3RvcmVfaGFzaDogc3RvcmUuc3RvcmVIYXNoLFxuICAgICAgICBzdG9yZV9pZDogc3RvcmUuc3RvcmVJZCA/ICgwLCBfdXRpbHMudG9TdHJpbmcpKHN0b3JlLnN0b3JlSWQpIDogbnVsbFxuICAgICAgfSk7XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwiY3JlYXRlXCIsXG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7U3RvcmVNYXBwZXJ9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICAgIHJldHVybiBuZXcgU3RvcmVNYXBwZXIoKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU3RvcmVNYXBwZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFN0b3JlTWFwcGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RvcmUtbWFwcGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5QQVlQQUxfQ09NTUVSQ0VfQ1JFRElUX0NBUkRTID0gZXhwb3J0cy5QQVlQQUxfQ09NTUVSQ0VfQ1JFRElUID0gZXhwb3J0cy5QQVlQQUxfQ09NTUVSQ0VfQUxURVJOQVRJVkVfTUVUSE9EUyA9IGV4cG9ydHMuUEFZUEFMX0NPTU1FUkNFID0gZXhwb3J0cy5CUkFJTlRSRUVfR09PR0xFUEFZID0gZXhwb3J0cy5CUkFJTlRSRUVfVklTQUNIRUNLT1VUID0gZXhwb3J0cy5CUkFJTlRSRUVfUEFZUEFMX0NSRURJVCA9IGV4cG9ydHMuQlJBSU5UUkVFX1BBWVBBTCA9IGV4cG9ydHMuQlJBSU5UUkVFID0gdm9pZCAwO1xudmFyIEJSQUlOVFJFRSA9ICdicmFpbnRyZWUnO1xuZXhwb3J0cy5CUkFJTlRSRUUgPSBCUkFJTlRSRUU7XG52YXIgQlJBSU5UUkVFX1BBWVBBTCA9ICdicmFpbnRyZWVwYXlwYWwnO1xuZXhwb3J0cy5CUkFJTlRSRUVfUEFZUEFMID0gQlJBSU5UUkVFX1BBWVBBTDtcbnZhciBCUkFJTlRSRUVfUEFZUEFMX0NSRURJVCA9ICdicmFpbnRyZWVwYXlwYWxjcmVkaXQnO1xuZXhwb3J0cy5CUkFJTlRSRUVfUEFZUEFMX0NSRURJVCA9IEJSQUlOVFJFRV9QQVlQQUxfQ1JFRElUO1xudmFyIEJSQUlOVFJFRV9WSVNBQ0hFQ0tPVVQgPSAnYnJhaW50cmVldmlzYWNoZWNrb3V0JztcbmV4cG9ydHMuQlJBSU5UUkVFX1ZJU0FDSEVDS09VVCA9IEJSQUlOVFJFRV9WSVNBQ0hFQ0tPVVQ7XG52YXIgQlJBSU5UUkVFX0dPT0dMRVBBWSA9ICdnb29nbGVwYXlicmFpbnRyZWUnO1xuZXhwb3J0cy5CUkFJTlRSRUVfR09PR0xFUEFZID0gQlJBSU5UUkVFX0dPT0dMRVBBWTtcbnZhciBQQVlQQUxfQ09NTUVSQ0UgPSAncGF5cGFsY29tbWVyY2UnO1xuZXhwb3J0cy5QQVlQQUxfQ09NTUVSQ0UgPSBQQVlQQUxfQ09NTUVSQ0U7XG52YXIgUEFZUEFMX0NPTU1FUkNFX0FMVEVSTkFUSVZFX01FVEhPRFMgPSAncGF5cGFsY29tbWVyY2VhbHRlcm5hdGl2ZW1ldGhvZHMnO1xuZXhwb3J0cy5QQVlQQUxfQ09NTUVSQ0VfQUxURVJOQVRJVkVfTUVUSE9EUyA9IFBBWVBBTF9DT01NRVJDRV9BTFRFUk5BVElWRV9NRVRIT0RTO1xudmFyIFBBWVBBTF9DT01NRVJDRV9DUkVESVQgPSAncGF5cGFsY29tbWVyY2VjcmVkaXQnO1xuZXhwb3J0cy5QQVlQQUxfQ09NTUVSQ0VfQ1JFRElUID0gUEFZUEFMX0NPTU1FUkNFX0NSRURJVDtcbnZhciBQQVlQQUxfQ09NTUVSQ0VfQ1JFRElUX0NBUkRTID0gJ3BheXBhbGNvbW1lcmNlY3JlZGl0Y2FyZHMnO1xuZXhwb3J0cy5QQVlQQUxfQ09NTUVSQ0VfQ1JFRElUX0NBUkRTID0gUEFZUEFMX0NPTU1FUkNFX0NSRURJVF9DQVJEUztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBheW1lbnQtbWV0aG9kLWlkcy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9wYXltZW50TWV0aG9kVHlwZXMgPSByZXF1aXJlKFwiLi4vcGF5bWVudC1tZXRob2QtdHlwZXNcIik7XG5cbnZhciBfcGF5bWVudE1ldGhvZElkcyA9IHJlcXVpcmUoXCIuLi9wYXltZW50LW1ldGhvZC1pZHNcIik7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzQnJhaW50cmVlUGF5bWVudE1ldGhvZChpZCkge1xuICBzd2l0Y2ggKGlkKSB7XG4gICAgY2FzZSBfcGF5bWVudE1ldGhvZElkcy5CUkFJTlRSRUVfUEFZUEFMOlxuICAgIGNhc2UgX3BheW1lbnRNZXRob2RJZHMuQlJBSU5UUkVFX1BBWVBBTF9DUkVESVQ6XG4gICAgY2FzZSBfcGF5bWVudE1ldGhvZElkcy5CUkFJTlRSRUVfVklTQUNIRUNLT1VUOlxuICAgIGNhc2UgX3BheW1lbnRNZXRob2RJZHMuQlJBSU5UUkVFX0dPT0dMRVBBWTpcbiAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cblxuXG5mdW5jdGlvbiBpc1BheXBhbENvbW1lcmNlUGF5bWVudE1ldGhvZChpZCkge1xuICBzd2l0Y2ggKGlkKSB7XG4gICAgY2FzZSBfcGF5bWVudE1ldGhvZElkcy5QQVlQQUxfQ09NTUVSQ0VfQ1JFRElUOlxuICAgIGNhc2UgX3BheW1lbnRNZXRob2RJZHMuUEFZUEFMX0NPTU1FUkNFX0NSRURJVF9DQVJEUzpcbiAgICBjYXNlIF9wYXltZW50TWV0aG9kSWRzLlBBWVBBTF9DT01NRVJDRV9BTFRFUk5BVElWRV9NRVRIT0RTOlxuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbnZhciBQYXltZW50TWV0aG9kSWRNYXBwZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBQYXltZW50TWV0aG9kSWRNYXBwZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBheW1lbnRNZXRob2RJZE1hcHBlcik7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUGF5bWVudE1ldGhvZElkTWFwcGVyLCBbe1xuICAgIGtleTogXCJtYXBUb0lkXCIsXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BheW1lbnRNZXRob2R9IHBheW1lbnRNZXRob2RcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXBUb0lkKHBheW1lbnRNZXRob2QpIHtcbiAgICAgIHZhciBpZCA9IHBheW1lbnRNZXRob2QuaWQ7XG5cbiAgICAgIGlmIChwYXltZW50TWV0aG9kLm1ldGhvZCA9PT0gX3BheW1lbnRNZXRob2RUeXBlcy5NVUxUSV9PUFRJT04pIHtcbiAgICAgICAgaWQgPSBwYXltZW50TWV0aG9kLmdhdGV3YXk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0JyYWludHJlZVBheW1lbnRNZXRob2QoaWQpKSB7XG4gICAgICAgIHJldHVybiBfcGF5bWVudE1ldGhvZElkcy5CUkFJTlRSRUU7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc1BheXBhbENvbW1lcmNlUGF5bWVudE1ldGhvZChpZCkpIHtcbiAgICAgICAgcmV0dXJuIF9wYXltZW50TWV0aG9kSWRzLlBBWVBBTF9DT01NRVJDRTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGlkO1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiBcImNyZWF0ZVwiLFxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge1BheW1lbnRNZXRob2RJZE1hcHBlcn1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgICAgcmV0dXJuIG5ldyBQYXltZW50TWV0aG9kSWRNYXBwZXIoKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUGF5bWVudE1ldGhvZElkTWFwcGVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBQYXltZW50TWV0aG9kSWRNYXBwZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXltZW50LW1ldGhvZC1pZC1tYXBwZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLk1VTFRJX09QVElPTiA9IGV4cG9ydHMuQ1JFRElUX0NBUkQgPSB2b2lkIDA7XG52YXIgQ1JFRElUX0NBUkQgPSAnY3JlZGl0LWNhcmQnO1xuZXhwb3J0cy5DUkVESVRfQ0FSRCA9IENSRURJVF9DQVJEO1xudmFyIE1VTFRJX09QVElPTiA9ICdtdWx0aS1vcHRpb24nO1xuZXhwb3J0cy5NVUxUSV9PUFRJT04gPSBNVUxUSV9PUFRJT047XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXltZW50LW1ldGhvZC10eXBlcy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9wYXltZW50VHlwZXMgPSByZXF1aXJlKFwiLi9wYXltZW50LXR5cGVzXCIpO1xuXG52YXIgX3BheWxvYWRNYXBwZXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3YxL3BheW1lbnQtbWFwcGVycy9wYXlsb2FkLW1hcHBlclwiKSk7XG5cbnZhciBfcmVxdWVzdFNlbmRlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uL2NvbW1vbi9odHRwLXJlcXVlc3QvcmVxdWVzdC1zZW5kZXJcIikpO1xuXG52YXIgX3VybEhlbHBlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vdXJsLWhlbHBlclwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxudmFyIFBheW1lbnRTdWJtaXR0ZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBfY3JlYXRlQ2xhc3MoUGF5bWVudFN1Ym1pdHRlciwgbnVsbCwgW3tcbiAgICBrZXk6IFwiY3JlYXRlXCIsXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gICAgICogQHJldHVybnMge1BheW1lbnRTdWJtaXR0ZXJ9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZShjb25maWcpIHtcbiAgICAgIHZhciB1cmxIZWxwZXIgPSBfdXJsSGVscGVyLmRlZmF1bHQuY3JlYXRlKGNvbmZpZyk7XG5cbiAgICAgIHZhciByZXF1ZXN0U2VuZGVyID0gX3JlcXVlc3RTZW5kZXIuZGVmYXVsdC5jcmVhdGUoKTtcblxuICAgICAgdmFyIHBheWxvYWRNYXBwZXIgPSBfcGF5bG9hZE1hcHBlci5kZWZhdWx0LmNyZWF0ZSgpO1xuXG4gICAgICByZXR1cm4gbmV3IFBheW1lbnRTdWJtaXR0ZXIodXJsSGVscGVyLCByZXF1ZXN0U2VuZGVyLCBwYXlsb2FkTWFwcGVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtVcmxIZWxwZXJ9IHVybEhlbHBlclxuICAgICAqIEBwYXJhbSB7UmVxdWVzdFNlbmRlcn0gcmVxdWVzdFNlbmRlclxuICAgICAqIEBwYXJhbSB7UGF5bG9hZE1hcHBlcn0gcGF5bG9hZE1hcHBlclxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxuICAgICAqL1xuXG4gIH1dKTtcblxuICBmdW5jdGlvbiBQYXltZW50U3VibWl0dGVyKHVybEhlbHBlciwgcmVxdWVzdFNlbmRlciwgcGF5bG9hZE1hcHBlcikge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQYXltZW50U3VibWl0dGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge1VybEhlbHBlcn1cbiAgICAgKi9cbiAgICB0aGlzLnVybEhlbHBlciA9IHVybEhlbHBlcjtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtSZXF1ZXN0U2VuZGVyfVxuICAgICAqL1xuXG4gICAgdGhpcy5yZXF1ZXN0U2VuZGVyID0gcmVxdWVzdFNlbmRlcjtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtQYXlsb2FkTWFwcGVyfVxuICAgICAqL1xuXG4gICAgdGhpcy5wYXlsb2FkTWFwcGVyID0gcGF5bG9hZE1hcHBlcjtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtQYXltZW50UmVxdWVzdERhdGF9IGRhdGFcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXVxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICogQHRocm93cyB7RXJyb3J9XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKFBheW1lbnRTdWJtaXR0ZXIsIFt7XG4gICAga2V5OiBcInN1Ym1pdFBheW1lbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3VibWl0UGF5bWVudChkYXRhLCBjYWxsYmFjaykge1xuICAgICAgdmFyIF9kYXRhJHBheW1lbnRNZXRob2QgPSBkYXRhLnBheW1lbnRNZXRob2QsXG4gICAgICAgICAgcGF5bWVudE1ldGhvZCA9IF9kYXRhJHBheW1lbnRNZXRob2QgPT09IHZvaWQgMCA/IHt9IDogX2RhdGEkcGF5bWVudE1ldGhvZDtcblxuICAgICAgaWYgKHBheW1lbnRNZXRob2QudHlwZSAhPT0gX3BheW1lbnRUeXBlcy5BUEkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiXCIuY29uY2F0KHBheW1lbnRNZXRob2QudHlwZSwgXCIgaXMgbm90IHN1cHBvcnRlZC5cIikpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcGF5bG9hZCA9IHRoaXMucGF5bG9hZE1hcHBlci5tYXBUb1BheWxvYWQoZGF0YSk7XG4gICAgICB2YXIgdXJsID0gdGhpcy51cmxIZWxwZXIuZ2V0UGF5bWVudFVybCgpO1xuICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgIGhlYWRlcnM6IHRoaXMucGF5bG9hZE1hcHBlci5tYXBUb0hlYWRlcnMoZGF0YSlcbiAgICAgIH07XG4gICAgICB0aGlzLnJlcXVlc3RTZW5kZXIucG9zdFJlcXVlc3QodXJsLCBwYXlsb2FkLCBvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFBheW1lbnRTdWJtaXR0ZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFBheW1lbnRTdWJtaXR0ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXltZW50LXN1Ym1pdHRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuT0ZGTElORSA9IGV4cG9ydHMuSE9TVEVEID0gZXhwb3J0cy5BUEkgPSB2b2lkIDA7XG52YXIgQVBJID0gJ1BBWU1FTlRfVFlQRV9BUEknO1xuZXhwb3J0cy5BUEkgPSBBUEk7XG52YXIgSE9TVEVEID0gJ1BBWU1FTlRfVFlQRV9IT1NURUQnO1xuZXhwb3J0cy5IT1NURUQgPSBIT1NURUQ7XG52YXIgT0ZGTElORSA9ICdQQVlNRU5UX1RZUEVfT0ZGTElORSc7XG5leHBvcnRzLk9GRkxJTkUgPSBPRkZMSU5FO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGF5bWVudC10eXBlcy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG52YXIgVXJsSGVscGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgX2NyZWF0ZUNsYXNzKFVybEhlbHBlciwgbnVsbCwgW3tcbiAgICBrZXk6IFwiY3JlYXRlXCIsXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpZy5ob3N0XG4gICAgICogQHJldHVybnMge0N1c3RvbWVyTWFwcGVyfVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGUoY29uZmlnKSB7XG4gICAgICByZXR1cm4gbmV3IFVybEhlbHBlcihjb25maWcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpZy5ob3N0XG4gICAgICogQHJldHVybnMge3ZvaWR9XG4gICAgICovXG5cbiAgfV0pO1xuXG4gIGZ1bmN0aW9uIFVybEhlbHBlcihjb25maWcpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVXJsSGVscGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgfVxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoVXJsSGVscGVyLCBbe1xuICAgIGtleTogXCJnZXRPZmZzaXRlUGF5bWVudFVybFwiLFxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0T2Zmc2l0ZVBheW1lbnRVcmwoKSB7XG4gICAgICByZXR1cm4gXCJcIi5jb25jYXQodGhpcy5ob3N0LCBcIi9wYXkvaW5pdGlhbGl6ZVwiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFBheW1lbnRVcmxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UGF5bWVudFVybCgpIHtcbiAgICAgIHJldHVybiBcIlwiLmNvbmNhdCh0aGlzLmhvc3QsIFwiL2FwaS9wdWJsaWMvdjEvb3JkZXJzL3BheW1lbnRzXCIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0R2VuZXJhdGVDbGllbnRUb2tlblVybFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRHZW5lcmF0ZUNsaWVudFRva2VuVXJsKCkge1xuICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KHRoaXMuaG9zdCwgXCIvYXBpL3YyL3B1YmxpYy9wYXltZW50cy9jbGllbnRfdG9rZW5zXCIpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJob3N0XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb25maWcuaG9zdDtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVXJsSGVscGVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBVcmxIZWxwZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD11cmwtaGVscGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4uLy4uLy4uL2NvbW1vbi91dGlsc1wiKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG52YXIgQ3VzdG9tZXJNYXBwZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBDdXN0b21lck1hcHBlcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ3VzdG9tZXJNYXBwZXIpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEN1c3RvbWVyTWFwcGVyLCBbe1xuICAgIGtleTogXCJtYXBUb0N1c3RvbWVyXCIsXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BheW1lbnRSZXF1ZXN0RGF0YX0gZGF0YVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1hcFRvQ3VzdG9tZXIoZGF0YSkge1xuICAgICAgdmFyIF9kYXRhJGN1c3RvbWVyID0gZGF0YS5jdXN0b21lcixcbiAgICAgICAgICBjdXN0b21lciA9IF9kYXRhJGN1c3RvbWVyID09PSB2b2lkIDAgPyB7fSA6IF9kYXRhJGN1c3RvbWVyLFxuICAgICAgICAgIF9kYXRhJHF1b3RlTWV0YSA9IGRhdGEucXVvdGVNZXRhLFxuICAgICAgICAgIHF1b3RlTWV0YSA9IF9kYXRhJHF1b3RlTWV0YSA9PT0gdm9pZCAwID8ge30gOiBfZGF0YSRxdW90ZU1ldGE7XG4gICAgICByZXR1cm4gKDAsIF91dGlscy5vbWl0TmlsKSh7XG4gICAgICAgIGN1c3RvbWVyX2dyb3VwOiBjdXN0b21lci5jdXN0b21lckdyb3VwTmFtZSA/IHtcbiAgICAgICAgICBuYW1lOiBjdXN0b21lci5jdXN0b21lckdyb3VwTmFtZVxuICAgICAgICB9IDogbnVsbCxcbiAgICAgICAgZ2VvX2lwX2NvdW50cnlfY29kZTogcXVvdGVNZXRhLnJlcXVlc3QgPyBxdW90ZU1ldGEucmVxdWVzdC5nZW9Db3VudHJ5Q29kZSA6IG51bGwsXG4gICAgICAgIGlkOiBjdXN0b21lci5jdXN0b21lcklkID8gKDAsIF91dGlscy50b1N0cmluZykoY3VzdG9tZXIuY3VzdG9tZXJJZCkgOiBudWxsLFxuICAgICAgICBzZXNzaW9uX3Rva2VuOiBxdW90ZU1ldGEucmVxdWVzdCA/IHF1b3RlTWV0YS5yZXF1ZXN0LnNlc3Npb25IYXNoIDogbnVsbFxuICAgICAgfSk7XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwiY3JlYXRlXCIsXG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7Q3VzdG9tZXJNYXBwZXJ9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICAgIHJldHVybiBuZXcgQ3VzdG9tZXJNYXBwZXIoKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ3VzdG9tZXJNYXBwZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEN1c3RvbWVyTWFwcGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3VzdG9tZXItbWFwcGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4uLy4uLy4uL2NvbW1vbi91dGlsc1wiKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG52YXIgT3JkZXJNYXBwZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBPcmRlck1hcHBlcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgT3JkZXJNYXBwZXIpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE9yZGVyTWFwcGVyLCBbe1xuICAgIGtleTogXCJtYXBUb09yZGVyXCIsXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BheW1lbnRSZXF1ZXN0RGF0YX0gZGF0YVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1hcFRvT3JkZXIoZGF0YSkge1xuICAgICAgdmFyIF9kYXRhJG9yZGVyID0gZGF0YS5vcmRlcixcbiAgICAgICAgICBvcmRlciA9IF9kYXRhJG9yZGVyID09PSB2b2lkIDAgPyB7fSA6IF9kYXRhJG9yZGVyO1xuICAgICAgcmV0dXJuICgwLCBfdXRpbHMub21pdE5pbCkoe1xuICAgICAgICBiaWxsaW5nX2FkZHJlc3M6IHRoaXMubWFwVG9CaWxsaW5nQWRkcmVzcyhkYXRhKSxcbiAgICAgICAgY291cG9uczogdGhpcy5tYXBUb0NvdXBvbnMoZGF0YSksXG4gICAgICAgIGN1cnJlbmN5OiBvcmRlci5jdXJyZW5jeSxcbiAgICAgICAgaWQ6IG9yZGVyLm9yZGVySWQgPyAoMCwgX3V0aWxzLnRvU3RyaW5nKShvcmRlci5vcmRlcklkKSA6IG51bGwsXG4gICAgICAgIGl0ZW1zOiB0aGlzLm1hcFRvSXRlbXMoZGF0YSksXG4gICAgICAgIHNoaXBwaW5nOiB0aGlzLm1hcFRvU2hpcHBpbmcoZGF0YSksXG4gICAgICAgIHNoaXBwaW5nX2FkZHJlc3M6IHRoaXMubWFwVG9TaGlwcGluZ0FkZHJlc3MoZGF0YSksXG4gICAgICAgIHRva2VuOiBvcmRlci50b2tlbixcbiAgICAgICAgdG90YWxzOiB0aGlzLm1hcFRvT3JkZXJUb3RhbHMoZGF0YSlcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UGF5bWVudFJlcXVlc3REYXRhfSBkYXRhXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm1hcFRvQmlsbGluZ0FkZHJlc3NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWFwVG9CaWxsaW5nQWRkcmVzcyhkYXRhKSB7XG4gICAgICB2YXIgX2RhdGEkY3VzdG9tZXIgPSBkYXRhLmN1c3RvbWVyLFxuICAgICAgICAgIGN1c3RvbWVyID0gX2RhdGEkY3VzdG9tZXIgPT09IHZvaWQgMCA/IHt9IDogX2RhdGEkY3VzdG9tZXI7XG4gICAgICB2YXIgYWRkcmVzcyA9IHRoaXMubWFwVG9BZGRyZXNzKGRhdGEsICdiaWxsaW5nQWRkcmVzcycpO1xuXG4gICAgICBpZiAoY3VzdG9tZXIuZW1haWwpIHtcbiAgICAgICAgYWRkcmVzcy5lbWFpbCA9IGN1c3RvbWVyLmVtYWlsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYWRkcmVzcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtQYXltZW50UmVxdWVzdERhdGF9IGRhdGFcbiAgICAgKiBAcmV0dXJuIHtTaGlwcGluZ1tdfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibWFwVG9TaGlwcGluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXBUb1NoaXBwaW5nKGRhdGEpIHtcbiAgICAgIHZhciBfcmVmID0gZGF0YS5zaGlwcGluZ09wdGlvbiB8fCB7fSxcbiAgICAgICAgICBkZXNjcmlwdGlvbiA9IF9yZWYuZGVzY3JpcHRpb24sXG4gICAgICAgICAgdHJhbnNpdFRpbWUgPSBfcmVmLnRyYW5zaXRUaW1lO1xuXG4gICAgICBpZiAoZGVzY3JpcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIFsoMCwgX3V0aWxzLm9taXRFbXB0eVN0cmluZ0FuZE5pbCkoe1xuICAgICAgICAgIG1ldGhvZDogZGVzY3JpcHRpb24sXG4gICAgICAgICAgdHJhbnNpdF90aW1lOiB0cmFuc2l0VGltZVxuICAgICAgICB9KV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BheW1lbnRSZXF1ZXN0RGF0YX0gZGF0YVxuICAgICAqIEByZXR1cm5zIHtDb3Vwb25bXX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm1hcFRvQ291cG9uc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXBUb0NvdXBvbnMoX3JlZjIpIHtcbiAgICAgIHZhciBfcmVmMiRvcmRlciA9IF9yZWYyLm9yZGVyLFxuICAgICAgICAgIG9yZGVyID0gX3JlZjIkb3JkZXIgPT09IHZvaWQgMCA/IHt9IDogX3JlZjIkb3JkZXI7XG5cbiAgICAgIGlmIChvcmRlci5jb3Vwb24gJiYgb3JkZXIuY291cG9uLmNvdXBvbnMpIHtcbiAgICAgICAgcmV0dXJuIG9yZGVyLmNvdXBvbi5jb3Vwb25zLm1hcChmdW5jdGlvbiAoX3JlZjMpIHtcbiAgICAgICAgICB2YXIgY29kZSA9IF9yZWYzLmNvZGU7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvZGU6IGNvZGVcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UGF5bWVudFJlcXVlc3REYXRhfSBkYXRhXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm1hcFRvU2hpcHBpbmdBZGRyZXNzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1hcFRvU2hpcHBpbmdBZGRyZXNzKGRhdGEpIHtcbiAgICAgIHJldHVybiB0aGlzLm1hcFRvQWRkcmVzcyhkYXRhLCAnc2hpcHBpbmdBZGRyZXNzJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQYXltZW50UmVxdWVzdERhdGF9IGRhdGFcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYWRkcmVzc0tleVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJtYXBUb0FkZHJlc3NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWFwVG9BZGRyZXNzKGRhdGEsIGFkZHJlc3NLZXkpIHtcbiAgICAgIHZhciBhZGRyZXNzID0gZGF0YVthZGRyZXNzS2V5XSB8fCB7fTtcbiAgICAgIHJldHVybiAoMCwgX3V0aWxzLm9taXRFbXB0eVN0cmluZ0FuZE5pbCkoe1xuICAgICAgICBjaXR5OiBhZGRyZXNzLmNpdHksXG4gICAgICAgIGNvbXBhbnk6IGFkZHJlc3MuY29tcGFueSxcbiAgICAgICAgY291bnRyeV9jb2RlOiBhZGRyZXNzLmNvdW50cnlDb2RlLFxuICAgICAgICBjb3VudHJ5OiBhZGRyZXNzLmNvdW50cnksXG4gICAgICAgIGZpcnN0X25hbWU6IGFkZHJlc3MuZmlyc3ROYW1lLFxuICAgICAgICBsYXN0X25hbWU6IGFkZHJlc3MubGFzdE5hbWUsXG4gICAgICAgIHBob25lOiBhZGRyZXNzLnBob25lLFxuICAgICAgICBzdGF0ZV9jb2RlOiBhZGRyZXNzLnByb3ZpbmNlQ29kZSxcbiAgICAgICAgc3RhdGU6IGFkZHJlc3MucHJvdmluY2UsXG4gICAgICAgIHN0cmVldF8xOiBhZGRyZXNzLmFkZHJlc3NMaW5lMSxcbiAgICAgICAgc3RyZWV0XzI6IGFkZHJlc3MuYWRkcmVzc0xpbmUyLFxuICAgICAgICB6aXA6IGFkZHJlc3MucG9zdENvZGVcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UGF5bWVudFJlcXVlc3REYXRhfSBkYXRhXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm1hcFRvSXRlbXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWFwVG9JdGVtcyhkYXRhKSB7XG4gICAgICB2YXIgX2RhdGEkY2FydCA9IGRhdGEuY2FydCxcbiAgICAgICAgICBjYXJ0ID0gX2RhdGEkY2FydCA9PT0gdm9pZCAwID8ge1xuICAgICAgICBpdGVtczogW11cbiAgICAgIH0gOiBfZGF0YSRjYXJ0O1xuICAgICAgcmV0dXJuIGNhcnQuaXRlbXMubWFwKGZ1bmN0aW9uIChpdGVtRGF0YSkge1xuICAgICAgICByZXR1cm4gKDAsIF91dGlscy5vbWl0TmlsKSh7XG4gICAgICAgICAgY29kZTogaXRlbURhdGEuaWQsXG4gICAgICAgICAgdmFyaWFudF9pZDogaXRlbURhdGEudmFyaWFudElkLFxuICAgICAgICAgIG5hbWU6IGl0ZW1EYXRhLm5hbWUsXG4gICAgICAgICAgcHJpY2U6IGl0ZW1EYXRhLmludGVnZXJBbW91bnQsXG4gICAgICAgICAgdW5pdF9wcmljZTogaXRlbURhdGEuaW50ZWdlclVuaXRQcmljZSxcbiAgICAgICAgICBxdWFudGl0eTogaXRlbURhdGEucXVhbnRpdHksXG4gICAgICAgICAgc2t1OiBpdGVtRGF0YS5za3VcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BheW1lbnRSZXF1ZXN0RGF0YX0gZGF0YVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJtYXBUb09yZGVyVG90YWxzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1hcFRvT3JkZXJUb3RhbHMoZGF0YSkge1xuICAgICAgdmFyIF9kYXRhJG9yZGVyMiA9IGRhdGEub3JkZXIsXG4gICAgICAgICAgb3JkZXIgPSBfZGF0YSRvcmRlcjIgPT09IHZvaWQgMCA/IHt9IDogX2RhdGEkb3JkZXIyO1xuICAgICAgcmV0dXJuICgwLCBfdXRpbHMub21pdE5pbCkoe1xuICAgICAgICBncmFuZF90b3RhbDogb3JkZXIuZ3JhbmRUb3RhbCA/IG9yZGVyLmdyYW5kVG90YWwuaW50ZWdlckFtb3VudCA6IG51bGwsXG4gICAgICAgIGhhbmRsaW5nOiBvcmRlci5oYW5kbGluZyA/IG9yZGVyLmhhbmRsaW5nLmludGVnZXJBbW91bnQgOiBudWxsLFxuICAgICAgICBzaGlwcGluZzogb3JkZXIuc2hpcHBpbmcgPyBvcmRlci5zaGlwcGluZy5pbnRlZ2VyQW1vdW50IDogbnVsbCxcbiAgICAgICAgc3VidG90YWw6IG9yZGVyLnN1YnRvdGFsID8gb3JkZXIuc3VidG90YWwuaW50ZWdlckFtb3VudCA6IG51bGwsXG4gICAgICAgIHRheDogb3JkZXIudGF4VG90YWwgPyBvcmRlci50YXhUb3RhbC5pbnRlZ2VyQW1vdW50IDogbnVsbFxuICAgICAgfSk7XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwiY3JlYXRlXCIsXG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7T3JkZXJNYXBwZXJ9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICAgIHJldHVybiBuZXcgT3JkZXJNYXBwZXIoKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gT3JkZXJNYXBwZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IE9yZGVyTWFwcGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b3JkZXItbWFwcGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4uLy4uLy4uL2NvbW1vbi91dGlsc1wiKTtcblxudmFyIF9jdXN0b21lck1hcHBlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vY3VzdG9tZXItbWFwcGVyXCIpKTtcblxudmFyIF9vcmRlck1hcHBlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vb3JkZXItbWFwcGVyXCIpKTtcblxudmFyIF9wYXltZW50TWFwcGVyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9wYXltZW50LW1hcHBlclwiKSk7XG5cbnZhciBfc3RvcmVNYXBwZXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3N0b3JlLW1hcHBlclwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxudmFyIFBheWxvYWRNYXBwZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBfY3JlYXRlQ2xhc3MoUGF5bG9hZE1hcHBlciwgbnVsbCwgW3tcbiAgICBrZXk6IFwiY3JlYXRlXCIsXG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7UGF5bG9hZE1hcHBlcn1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgICAgdmFyIGN1c3RvbWVyTWFwcGVyID0gX2N1c3RvbWVyTWFwcGVyLmRlZmF1bHQuY3JlYXRlKCk7XG5cbiAgICAgIHZhciBvcmRlck1hcHBlciA9IF9vcmRlck1hcHBlci5kZWZhdWx0LmNyZWF0ZSgpO1xuXG4gICAgICB2YXIgcGF5bWVudE1hcHBlciA9IF9wYXltZW50TWFwcGVyLmRlZmF1bHQuY3JlYXRlKCk7XG5cbiAgICAgIHZhciBzdG9yZU1hcHBlciA9IF9zdG9yZU1hcHBlci5kZWZhdWx0LmNyZWF0ZSgpO1xuXG4gICAgICByZXR1cm4gbmV3IFBheWxvYWRNYXBwZXIoY3VzdG9tZXJNYXBwZXIsIG9yZGVyTWFwcGVyLCBwYXltZW50TWFwcGVyLCBzdG9yZU1hcHBlcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Q3VzdG9tZXJNYXBwZXJ9IGN1c3RvbWVyTWFwcGVyXG4gICAgICogQHBhcmFtIHtPcmRlck1hcHBlcn0gb3JkZXJNYXBwZXJcbiAgICAgKiBAcGFyYW0ge1BheW1lbnRNYXBwZXJ9IHBheW1lbnRNYXBwZXJcbiAgICAgKiBAcGFyYW0ge1N0b3JlTWFwcGVyfSBzdG9yZU1hcHBlclxuICAgICAqL1xuXG4gIH1dKTtcblxuICBmdW5jdGlvbiBQYXlsb2FkTWFwcGVyKGN1c3RvbWVyTWFwcGVyLCBvcmRlck1hcHBlciwgcGF5bWVudE1hcHBlciwgc3RvcmVNYXBwZXIpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGF5bG9hZE1hcHBlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtDdXN0b21lck1hcHBlcn1cbiAgICAgKi9cbiAgICB0aGlzLmN1c3RvbWVyTWFwcGVyID0gY3VzdG9tZXJNYXBwZXI7XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7T3JkZXJNYXBwZXJ9XG4gICAgICovXG5cbiAgICB0aGlzLm9yZGVyTWFwcGVyID0gb3JkZXJNYXBwZXI7XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7UGF5bWVudE1hcHBlcn1cbiAgICAgKi9cblxuICAgIHRoaXMucGF5bWVudE1hcHBlciA9IHBheW1lbnRNYXBwZXI7XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7U3RvcmVNYXBwZXJ9XG4gICAgICovXG5cbiAgICB0aGlzLnN0b3JlTWFwcGVyID0gc3RvcmVNYXBwZXI7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7UGF5bWVudFJlcXVlc3REYXRhfSBkYXRhXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKFBheWxvYWRNYXBwZXIsIFt7XG4gICAga2V5OiBcIm1hcFRvUGF5bG9hZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXBUb1BheWxvYWQoZGF0YSkge1xuICAgICAgdmFyIF9kYXRhJG9yZGVyID0gZGF0YS5vcmRlcixcbiAgICAgICAgICBvcmRlciA9IF9kYXRhJG9yZGVyID09PSB2b2lkIDAgPyB7fSA6IF9kYXRhJG9yZGVyLFxuICAgICAgICAgIGFkZGl0aW9uYWxBY3Rpb24gPSBkYXRhLmFkZGl0aW9uYWxBY3Rpb247XG4gICAgICByZXR1cm4gKDAsIF91dGlscy5vbWl0TmlsKSh7XG4gICAgICAgIGN1c3RvbWVyOiB0aGlzLmN1c3RvbWVyTWFwcGVyLm1hcFRvQ3VzdG9tZXIoZGF0YSksXG4gICAgICAgIG5vdGlmeV91cmw6IG9yZGVyLmNhbGxiYWNrVXJsLFxuICAgICAgICBvcmRlcjogdGhpcy5vcmRlck1hcHBlci5tYXBUb09yZGVyKGRhdGEpLFxuICAgICAgICBwYXltZW50OiB0aGlzLnBheW1lbnRNYXBwZXIubWFwVG9QYXltZW50KGRhdGEpLFxuICAgICAgICBzdG9yZTogdGhpcy5zdG9yZU1hcHBlci5tYXBUb1N0b3JlKGRhdGEpLFxuICAgICAgICBhZGRpdGlvbmFsX2FjdGlvbjogYWRkaXRpb25hbEFjdGlvblxuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UGF5bWVudFJlcXVlc3REYXRhfSBkYXRhXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm1hcFRvSGVhZGVyc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXBUb0hlYWRlcnMoZGF0YSkge1xuICAgICAgdmFyIGF1dGhUb2tlbiA9IGRhdGEuYXV0aFRva2VuO1xuICAgICAgcmV0dXJuICgwLCBfdXRpbHMub21pdE5pbCkoe1xuICAgICAgICBBdXRob3JpemF0aW9uOiBhdXRoVG9rZW5cbiAgICAgIH0pO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBQYXlsb2FkTWFwcGVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBQYXlsb2FkTWFwcGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGF5bG9hZC1tYXBwZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfb2JqZWN0QXNzaWduID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwib2JqZWN0LWFzc2lnblwiKSk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vY29tbW9uL3V0aWxzXCIpO1xuXG52YXIgX3BheW1lbnRNZXRob2RJZE1hcHBlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uLy4uL3BheW1lbnQtbWV0aG9kLW1hcHBlcnMvcGF5bWVudC1tZXRob2QtaWQtbWFwcGVyXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG52YXIgUGF5bWVudE1hcHBlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIF9jcmVhdGVDbGFzcyhQYXltZW50TWFwcGVyLCBudWxsLCBbe1xuICAgIGtleTogXCJjcmVhdGVcIixcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UGF5bWVudE1ldGhvZElkTWFwcGVyfSBwYXltZW50TWV0aG9kSWRNYXBwZXJcbiAgICAgKiBAcmV0dXJucyB7UGF5bWVudE1hcHBlcn1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgICAgdmFyIHBheW1lbnRNZXRob2RJZE1hcHBlciA9IF9wYXltZW50TWV0aG9kSWRNYXBwZXIuZGVmYXVsdC5jcmVhdGUoKTtcblxuICAgICAgcmV0dXJuIG5ldyBQYXltZW50TWFwcGVyKHBheW1lbnRNZXRob2RJZE1hcHBlcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UGF5bWVudE1ldGhvZElkTWFwcGVyfSBwYXltZW50TWV0aG9kSWRNYXBwZXJcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKi9cblxuICB9XSk7XG5cbiAgZnVuY3Rpb24gUGF5bWVudE1hcHBlcihwYXltZW50TWV0aG9kSWRNYXBwZXIpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGF5bWVudE1hcHBlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtQYXltZW50TWV0aG9kSWRNYXBwZXJ9XG4gICAgICovXG4gICAgdGhpcy5wYXltZW50TWV0aG9kSWRNYXBwZXIgPSBwYXltZW50TWV0aG9kSWRNYXBwZXI7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7UGF5bWVudFJlcXVlc3REYXRhfSBkYXRhXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKFBheW1lbnRNYXBwZXIsIFt7XG4gICAga2V5OiBcIm1hcFRvUGF5bWVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXBUb1BheW1lbnQoZGF0YSkge1xuICAgICAgdmFyIF9kYXRhJG9yZGVyID0gZGF0YS5vcmRlcixcbiAgICAgICAgICBvcmRlciA9IF9kYXRhJG9yZGVyID09PSB2b2lkIDAgPyB7fSA6IF9kYXRhJG9yZGVyLFxuICAgICAgICAgIF9kYXRhJG9yZGVyTWV0YSA9IGRhdGEub3JkZXJNZXRhLFxuICAgICAgICAgIG9yZGVyTWV0YSA9IF9kYXRhJG9yZGVyTWV0YSA9PT0gdm9pZCAwID8ge30gOiBfZGF0YSRvcmRlck1ldGEsXG4gICAgICAgICAgX2RhdGEkcGF5bWVudCA9IGRhdGEucGF5bWVudCxcbiAgICAgICAgICBwYXltZW50ID0gX2RhdGEkcGF5bWVudCA9PT0gdm9pZCAwID8ge30gOiBfZGF0YSRwYXltZW50LFxuICAgICAgICAgIF9kYXRhJHBheW1lbnRNZXRob2QgPSBkYXRhLnBheW1lbnRNZXRob2QsXG4gICAgICAgICAgcGF5bWVudE1ldGhvZCA9IF9kYXRhJHBheW1lbnRNZXRob2QgPT09IHZvaWQgMCA/IHt9IDogX2RhdGEkcGF5bWVudE1ldGhvZDtcbiAgICAgIHZhciBwYXlsb2FkID0ge1xuICAgICAgICBkZXZpY2VfaW5mbzogcGF5bWVudC5kZXZpY2VTZXNzaW9uSWQgPyBwYXltZW50LmRldmljZVNlc3Npb25JZCA6IG51bGwsXG4gICAgICAgIGRldmljZTogb3JkZXJNZXRhLmRldmljZUZpbmdlcnByaW50ID8ge1xuICAgICAgICAgIGZpbmdlcnByaW50X2lkOiBvcmRlck1ldGEuZGV2aWNlRmluZ2VycHJpbnRcbiAgICAgICAgfSA6IG51bGwsXG4gICAgICAgIGdhdGV3YXk6IHRoaXMucGF5bWVudE1ldGhvZElkTWFwcGVyLm1hcFRvSWQocGF5bWVudE1ldGhvZCksXG4gICAgICAgIG5vdGlmeV91cmw6IG9yZGVyLmNhbGxiYWNrVXJsLFxuICAgICAgICByZXR1cm5fdXJsOiBwYXltZW50TWV0aG9kLnJldHVyblVybCB8fCAob3JkZXIucGF5bWVudCA/IG9yZGVyLnBheW1lbnQucmV0dXJuVXJsIDogbnVsbCksXG4gICAgICAgIHZhdWx0X3BheW1lbnRfaW5zdHJ1bWVudDogIXBheW1lbnQuaW5zdHJ1bWVudElkID8gcGF5bWVudC5zaG91bGRTYXZlSW5zdHJ1bWVudCA6IG51bGwsXG4gICAgICAgIHNldF9hc19kZWZhdWx0X3N0b3JlZF9pbnN0cnVtZW50OiBwYXltZW50Lmluc3RydW1lbnRJZCB8fCBwYXltZW50LnNob3VsZFNhdmVJbnN0cnVtZW50ID8gcGF5bWVudC5zaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50IDogbnVsbFxuICAgICAgfTtcbiAgICAgIHZhciBtZXRob2QgPSBwYXltZW50TWV0aG9kLm1ldGhvZDtcblxuICAgICAgaWYgKG1ldGhvZCkge1xuICAgICAgICAoMCwgX29iamVjdEFzc2lnbi5kZWZhdWx0KShwYXlsb2FkLCB7XG4gICAgICAgICAgbWV0aG9kOiBtZXRob2RcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBub25jZSA9IHBheW1lbnQubm9uY2UgfHwgcGF5bWVudE1ldGhvZC5ub25jZTtcblxuICAgICAgaWYgKHBheW1lbnQuZm9ybWF0dGVkUGF5bG9hZCkge1xuICAgICAgICAoMCwgX29iamVjdEFzc2lnbi5kZWZhdWx0KShwYXlsb2FkLCBwYXltZW50LmZvcm1hdHRlZFBheWxvYWQpO1xuICAgICAgfSBlbHNlIGlmIChwYXltZW50Lmluc3RydW1lbnRJZCkge1xuICAgICAgICAoMCwgX29iamVjdEFzc2lnbi5kZWZhdWx0KShwYXlsb2FkLCB7XG4gICAgICAgICAgYmlncGF5X3Rva2VuOiB0aGlzLm1hcFRvQmlnUGF5VG9rZW4oZGF0YSlcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKG5vbmNlKSB7XG4gICAgICAgICgwLCBfb2JqZWN0QXNzaWduLmRlZmF1bHQpKHBheWxvYWQsIHtcbiAgICAgICAgICBjcmVkaXRfY2FyZF90b2tlbjoge1xuICAgICAgICAgICAgdG9rZW46IG5vbmNlXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocGF5bWVudC5jcnlwdG9ncmFtSWQpIHtcbiAgICAgICAgKDAsIF9vYmplY3RBc3NpZ24uZGVmYXVsdCkocGF5bG9hZCwge1xuICAgICAgICAgIGNyZWRpdF9jYXJkX2NyeXB0b2dyYW06IHRoaXMubWFwVG9DcnlwdG9ncmFtKGRhdGEpXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgKDAsIF9vYmplY3RBc3NpZ24uZGVmYXVsdCkocGF5bG9hZCwge1xuICAgICAgICAgIGNyZWRpdF9jYXJkOiB0aGlzLm1hcFRvQ3JlZGl0Q2FyZChkYXRhKVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICgwLCBfdXRpbHMub21pdE5pbCkocGF5bG9hZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQYXltZW50UmVxdWVzdERhdGF9IGRhdGFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibWFwVG9DcmVkaXRDYXJkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1hcFRvQ3JlZGl0Q2FyZChkYXRhKSB7XG4gICAgICB2YXIgX2RhdGEkcGF5bWVudDIgPSBkYXRhLnBheW1lbnQsXG4gICAgICAgICAgcGF5bWVudCA9IF9kYXRhJHBheW1lbnQyID09PSB2b2lkIDAgPyB7fSA6IF9kYXRhJHBheW1lbnQyO1xuICAgICAgcmV0dXJuICgwLCBfdXRpbHMub21pdE5pbCkoe1xuICAgICAgICBhY2NvdW50X25hbWU6IHBheW1lbnQuY2NOYW1lLFxuICAgICAgICBtb250aDogcGF5bWVudC5jY0V4cGlyeSA/ICgwLCBfdXRpbHMudG9OdW1iZXIpKHBheW1lbnQuY2NFeHBpcnkubW9udGgpIDogbnVsbCxcbiAgICAgICAgbnVtYmVyOiBwYXltZW50LmNjTnVtYmVyLFxuICAgICAgICB2ZXJpZmljYXRpb25fdmFsdWU6IHBheW1lbnQuY2NDdnYsXG4gICAgICAgIHllYXI6IHBheW1lbnQuY2NFeHBpcnkgPyAoMCwgX3V0aWxzLnRvTnVtYmVyKShwYXltZW50LmNjRXhwaXJ5LnllYXIpIDogbnVsbCxcbiAgICAgICAgY3VzdG9tZXJfY29kZTogcGF5bWVudC5jY0N1c3RvbWVyQ29kZSxcbiAgICAgICAgdGhyZWVfZF9zZWN1cmU6IHBheW1lbnQudGhyZWVEU2VjdXJlLFxuICAgICAgICBob3N0ZWRfZm9ybV9ub25jZTogcGF5bWVudC5ob3N0ZWRGb3JtTm9uY2VcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UGF5bWVudFJlcXVlc3REYXRhfSBkYXRhXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibWFwVG9CaWdQYXlUb2tlblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXBUb0JpZ1BheVRva2VuKF9yZWYpIHtcbiAgICAgIHZhciBwYXltZW50ID0gX3JlZi5wYXltZW50O1xuICAgICAgcmV0dXJuICgwLCBfdXRpbHMub21pdE5pbCkoe1xuICAgICAgICBjcmVkaXRfY2FyZF9udW1iZXJfY29uZmlybWF0aW9uOiBwYXltZW50LmNjTnVtYmVyLFxuICAgICAgICB0b2tlbjogcGF5bWVudC5pbnN0cnVtZW50SWQsXG4gICAgICAgIHZlcmlmaWNhdGlvbl92YWx1ZTogcGF5bWVudC5jY0N2dixcbiAgICAgICAgdmVyaWZpY2F0aW9uX25vbmNlOiBwYXltZW50Lm5vbmNlLFxuICAgICAgICB0aHJlZV9kX3NlY3VyZTogcGF5bWVudC50aHJlZURTZWN1cmVcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UGF5bWVudFJlcXVlc3REYXRhfSBkYXRhXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibWFwVG9DcnlwdG9ncmFtXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1hcFRvQ3J5cHRvZ3JhbShfcmVmMikge1xuICAgICAgdmFyIHBheW1lbnQgPSBfcmVmMi5wYXltZW50O1xuICAgICAgcmV0dXJuICgwLCBfdXRpbHMub21pdE5pbCkoe1xuICAgICAgICBwYXltZW50X2NyeXB0b2dyYW06IHBheW1lbnQuY3J5cHRvZ3JhbUlkLFxuICAgICAgICBlY2k6IHBheW1lbnQuZWNpLFxuICAgICAgICB4aWQ6IHBheW1lbnQudHJhbnNhY3Rpb25JZCxcbiAgICAgICAgbW9udGg6IHBheW1lbnQuY2NFeHBpcnkgPyAoMCwgX3V0aWxzLnRvTnVtYmVyKShwYXltZW50LmNjRXhwaXJ5Lm1vbnRoKSA6IG51bGwsXG4gICAgICAgIG51bWJlcjogcGF5bWVudC5jY051bWJlcixcbiAgICAgICAgeWVhcjogcGF5bWVudC5jY0V4cGlyeSA/ICgwLCBfdXRpbHMudG9OdW1iZXIpKHBheW1lbnQuY2NFeHBpcnkueWVhcikgOiBudWxsLFxuICAgICAgICBhY2NvdW50X21hc2s6IHBheW1lbnQuYWNjb3VudE1hc2tcbiAgICAgIH0pO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBQYXltZW50TWFwcGVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBQYXltZW50TWFwcGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGF5bWVudC1tYXBwZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vY29tbW9uL3V0aWxzXCIpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbnZhciBTdG9yZU1hcHBlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFN0b3JlTWFwcGVyKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdG9yZU1hcHBlcik7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoU3RvcmVNYXBwZXIsIFt7XG4gICAga2V5OiBcIm1hcFRvU3RvcmVcIixcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UGF5bWVudFJlcXVlc3REYXRhfSBkYXRhXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gbWFwVG9TdG9yZShkYXRhKSB7XG4gICAgICB2YXIgX2RhdGEkc3RvcmUgPSBkYXRhLnN0b3JlLFxuICAgICAgICAgIHN0b3JlID0gX2RhdGEkc3RvcmUgPT09IHZvaWQgMCA/IHt9IDogX2RhdGEkc3RvcmU7XG4gICAgICByZXR1cm4gKDAsIF91dGlscy5vbWl0TmlsKSh7XG4gICAgICAgIGhhc2g6IHN0b3JlLnN0b3JlSGFzaCxcbiAgICAgICAgaWQ6IHN0b3JlLnN0b3JlSWQgPyAoMCwgX3V0aWxzLnRvU3RyaW5nKShzdG9yZS5zdG9yZUlkKSA6IG51bGwsXG4gICAgICAgIG5hbWU6IHN0b3JlLnN0b3JlTmFtZVxuICAgICAgfSk7XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwiY3JlYXRlXCIsXG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7U3RvcmVNYXBwZXJ9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICAgIHJldHVybiBuZXcgU3RvcmVNYXBwZXIoKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU3RvcmVNYXBwZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFN0b3JlTWFwcGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RvcmUtbWFwcGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4uLy4uLy4uL2NvbW1vbi91dGlsc1wiKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG52YXIgQ2FydE1hcHBlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIENhcnRNYXBwZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhcnRNYXBwZXIpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENhcnRNYXBwZXIsIFt7XG4gICAga2V5OiBcIm1hcFRvQ2FydFwiLFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQYXltZW50UmVxdWVzdERhdGF9IGRhdGFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXBUb0NhcnQoZGF0YSkge1xuICAgICAgdmFyIF9kYXRhJGNhcnQgPSBkYXRhLmNhcnQsXG4gICAgICAgICAgY2FydCA9IF9kYXRhJGNhcnQgPT09IHZvaWQgMCA/IHt9IDogX2RhdGEkY2FydDtcbiAgICAgIHJldHVybiAoMCwgX3V0aWxzLm9taXROaWwpKHtcbiAgICAgICAgY3VycmVuY3lfY29kZTogY2FydC5jdXJyZW5jeSxcbiAgICAgICAgaXRlbXM6IHRoaXMubWFwVG9JdGVtcyhkYXRhKSxcbiAgICAgICAgdG90YWxzOiB0aGlzLm1hcFRvT3JkZXJUb3RhbHMoZGF0YSlcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UGF5bWVudFJlcXVlc3REYXRhfSBkYXRhXG4gICAgICogQHJldHVybnMge09iamVjdFtdfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibWFwVG9JdGVtc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXBUb0l0ZW1zKGRhdGEpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBfZGF0YSRjYXJ0MiA9IGRhdGEuY2FydCxcbiAgICAgICAgICBjYXJ0ID0gX2RhdGEkY2FydDIgPT09IHZvaWQgMCA/IHtcbiAgICAgICAgaXRlbXM6IFtdXG4gICAgICB9IDogX2RhdGEkY2FydDI7XG4gICAgICByZXR1cm4gY2FydC5pdGVtcy5tYXAoZnVuY3Rpb24gKGl0ZW1EYXRhKSB7XG4gICAgICAgIHJldHVybiAoMCwgX3V0aWxzLm9taXROaWwpKHtcbiAgICAgICAgICBkaXNjb3VudF9hbW91bnQ6IGl0ZW1EYXRhLmludGVnZXJEaXNjb3VudCxcbiAgICAgICAgICBuYW1lOiBpdGVtRGF0YS5uYW1lLFxuICAgICAgICAgIHByaWNlOiBpdGVtRGF0YS5pbnRlZ2VyQW1vdW50LFxuICAgICAgICAgIHVuaXRfcHJpY2U6IGl0ZW1EYXRhLmludGVnZXJVbml0UHJpY2UsXG4gICAgICAgICAgcXVhbnRpdHk6IGl0ZW1EYXRhLnF1YW50aXR5LFxuICAgICAgICAgIHNrdTogaXRlbURhdGEuc2t1LFxuICAgICAgICAgIHRheF9hbW91bnQ6IGl0ZW1EYXRhLmludGVnZXJUYXgsXG4gICAgICAgICAgYW1vdW50OiBpdGVtRGF0YS5pbnRlZ2VyQW1vdW50QWZ0ZXJEaXNjb3VudCxcbiAgICAgICAgICB0eXBlOiBfdGhpcy5tYXBUb1R5cGUoaXRlbURhdGEpXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQYXltZW50UmVxdWVzdERhdGF9IGRhdGFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibWFwVG9PcmRlclRvdGFsc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXBUb09yZGVyVG90YWxzKGRhdGEpIHtcbiAgICAgIHZhciBfZGF0YSRjYXJ0MyA9IGRhdGEuY2FydCxcbiAgICAgICAgICBjYXJ0ID0gX2RhdGEkY2FydDMgPT09IHZvaWQgMCA/IHt9IDogX2RhdGEkY2FydDM7XG4gICAgICByZXR1cm4gKDAsIF91dGlscy5vbWl0TmlsKSh7XG4gICAgICAgIGRpc2NvdW50X3RvdGFsOiBjYXJ0LmRpc2NvdW50ID8gY2FydC5kaXNjb3VudC5pbnRlZ2VyQW1vdW50IDogbnVsbCxcbiAgICAgICAgZ3JhbmRfdG90YWw6IGNhcnQuZ3JhbmRUb3RhbCA/IGNhcnQuZ3JhbmRUb3RhbC5pbnRlZ2VyQW1vdW50IDogbnVsbCxcbiAgICAgICAgc2hpcHBpbmdfdG90YWw6IGNhcnQuc2hpcHBpbmcgPyBjYXJ0LnNoaXBwaW5nLmludGVnZXJBbW91bnQgOiBudWxsLFxuICAgICAgICBzdWJ0b3RhbDogY2FydC5zdWJ0b3RhbCA/IGNhcnQuc3VidG90YWwuaW50ZWdlckFtb3VudCA6IG51bGwsXG4gICAgICAgIHN1cmNoYXJnZV90b3RhbDogY2FydC5oYW5kbGluZyA/IGNhcnQuaGFuZGxpbmcuaW50ZWdlckFtb3VudCA6IG51bGwsXG4gICAgICAgIHRheF90b3RhbDogY2FydC50YXhUb3RhbCA/IGNhcnQudGF4VG90YWwuaW50ZWdlckFtb3VudCA6IG51bGxcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpdGVtRGF0YVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJtYXBUb1R5cGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWFwVG9UeXBlKGl0ZW1EYXRhKSB7XG4gICAgICB2YXIgdHlwZXMgPSB7XG4gICAgICAgIEl0ZW1QaHlzaWNhbEVudGl0eTogJ3BoeXNpY2FsJyxcbiAgICAgICAgSXRlbURpZ2l0YWxFbnRpdHk6ICdkaWdpdGFsJyxcbiAgICAgICAgSXRlbUdpZnRDZXJ0aWZpY2F0ZUVudGl0eTogJ2dpZnRfY2FyZCdcbiAgICAgIH07XG4gICAgICByZXR1cm4gdHlwZXNbaXRlbURhdGEudHlwZV07XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwiY3JlYXRlXCIsXG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7Q2FydE1hcHBlcn1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgICAgcmV0dXJuIG5ldyBDYXJ0TWFwcGVyKCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENhcnRNYXBwZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IENhcnRNYXBwZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYXJ0LW1hcHBlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuLi8uLi8uLi9jb21tb24vdXRpbHNcIik7XG5cbnZhciBfY2FydE1hcHBlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vY2FydC1tYXBwZXJcIikpO1xuXG52YXIgX2dhdGV3YXlNYXBwZXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL2dhdGV3YXktbWFwcGVyXCIpKTtcblxudmFyIF9xdW90ZU1hcHBlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vcXVvdGUtbWFwcGVyXCIpKTtcblxudmFyIF9zdG9yZU1hcHBlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vc3RvcmUtbWFwcGVyXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG52YXIgQ2xpZW50VG9rZW5NYXBwZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBfY3JlYXRlQ2xhc3MoQ2xpZW50VG9rZW5NYXBwZXIsIG51bGwsIFt7XG4gICAga2V5OiBcImNyZWF0ZVwiLFxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge0NsaWVudFRva2VuTWFwcGVyfVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgICB2YXIgY2FydE1hcHBlciA9IF9jYXJ0TWFwcGVyLmRlZmF1bHQuY3JlYXRlKCk7XG5cbiAgICAgIHZhciBnYXRld2F5TWFwcGVyID0gX2dhdGV3YXlNYXBwZXIuZGVmYXVsdC5jcmVhdGUoKTtcblxuICAgICAgdmFyIHF1b3RlTWFwcGVyID0gX3F1b3RlTWFwcGVyLmRlZmF1bHQuY3JlYXRlKCk7XG5cbiAgICAgIHZhciBzdG9yZU1hcHBlciA9IF9zdG9yZU1hcHBlci5kZWZhdWx0LmNyZWF0ZSgpO1xuXG4gICAgICByZXR1cm4gbmV3IENsaWVudFRva2VuTWFwcGVyKGNhcnRNYXBwZXIsIGdhdGV3YXlNYXBwZXIsIHF1b3RlTWFwcGVyLCBzdG9yZU1hcHBlcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Q2FydE1hcHBlcn0gY2FydE1hcHBlclxuICAgICAqIEBwYXJhbSB7R2F0ZXdheU1hcHBlcn0gZ2F0ZXdheU1hcHBlclxuICAgICAqIEBwYXJhbSB7UXVvdGVNYXBwZXJ9IHF1b3RlTWFwcGVyXG4gICAgICogQHBhcmFtIHtTdG9yZU1hcHBlcn0gc3RvcmVNYXBwZXJcbiAgICAgKi9cblxuICB9XSk7XG5cbiAgZnVuY3Rpb24gQ2xpZW50VG9rZW5NYXBwZXIoY2FydE1hcHBlciwgZ2F0ZXdheU1hcHBlciwgcXVvdGVNYXBwZXIsIHN0b3JlTWFwcGVyKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENsaWVudFRva2VuTWFwcGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0NhcnRNYXBwZXJ9XG4gICAgICovXG4gICAgdGhpcy5jYXJ0TWFwcGVyID0gY2FydE1hcHBlcjtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtHYXRld2F5TWFwcGVyfVxuICAgICAqL1xuXG4gICAgdGhpcy5nYXRld2F5TWFwcGVyID0gZ2F0ZXdheU1hcHBlcjtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtRdW90ZU1hcHBlcn1cbiAgICAgKi9cblxuICAgIHRoaXMucXVvdGVNYXBwZXIgPSBxdW90ZU1hcHBlcjtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtTdG9yZU1hcHBlcn1cbiAgICAgKi9cblxuICAgIHRoaXMuc3RvcmVNYXBwZXIgPSBzdG9yZU1hcHBlcjtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtQYXltZW50UmVxdWVzdERhdGF9IGRhdGFcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoQ2xpZW50VG9rZW5NYXBwZXIsIFt7XG4gICAga2V5OiBcIm1hcFRvQ2xpZW50VG9rZW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWFwVG9DbGllbnRUb2tlbihkYXRhKSB7XG4gICAgICByZXR1cm4gKDAsIF91dGlscy5vbWl0TmlsKSh7XG4gICAgICAgIGNhcnQ6IHRoaXMuY2FydE1hcHBlci5tYXBUb0NhcnQoZGF0YSksXG4gICAgICAgIGdhdGV3YXk6IHRoaXMuZ2F0ZXdheU1hcHBlci5tYXBUb0dhdGV3YXkoZGF0YSksXG4gICAgICAgIHF1b3RlOiB0aGlzLnF1b3RlTWFwcGVyLm1hcFRvUXVvdGUoZGF0YSksXG4gICAgICAgIHN0b3JlOiB0aGlzLnN0b3JlTWFwcGVyLm1hcFRvU3RvcmUoZGF0YSlcbiAgICAgIH0pO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDbGllbnRUb2tlbk1hcHBlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQ2xpZW50VG9rZW5NYXBwZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jbGllbnQtdG9rZW4tbWFwcGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4uLy4uLy4uL2NvbW1vbi91dGlsc1wiKTtcblxudmFyIF9wYXltZW50TWV0aG9kSWRNYXBwZXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi8uLi9wYXltZW50LW1ldGhvZC1tYXBwZXJzL3BheW1lbnQtbWV0aG9kLWlkLW1hcHBlclwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxudmFyIEdhdGV3YXlNYXBwZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBfY3JlYXRlQ2xhc3MoR2F0ZXdheU1hcHBlciwgbnVsbCwgW3tcbiAgICBrZXk6IFwiY3JlYXRlXCIsXG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7R2F0ZXdheU1hcHBlcn1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgICAgdmFyIHBheW1lbnRNZXRob2RJZE1hcHBlciA9IF9wYXltZW50TWV0aG9kSWRNYXBwZXIuZGVmYXVsdC5jcmVhdGUoKTtcblxuICAgICAgcmV0dXJuIG5ldyBHYXRld2F5TWFwcGVyKHBheW1lbnRNZXRob2RJZE1hcHBlcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UGF5bWVudE1ldGhvZElkTWFwcGVyfSBwYXltZW50TWV0aG9kSWRNYXBwZXJcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKi9cblxuICB9XSk7XG5cbiAgZnVuY3Rpb24gR2F0ZXdheU1hcHBlcihwYXltZW50TWV0aG9kSWRNYXBwZXIpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR2F0ZXdheU1hcHBlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtQYXltZW50TWV0aG9kSWRNYXBwZXJ9XG4gICAgICovXG4gICAgdGhpcy5wYXltZW50TWV0aG9kSWRNYXBwZXIgPSBwYXltZW50TWV0aG9kSWRNYXBwZXI7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7UGF5bWVudFJlcXVlc3REYXRhfSBkYXRhXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKEdhdGV3YXlNYXBwZXIsIFt7XG4gICAga2V5OiBcIm1hcFRvR2F0ZXdheVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXBUb0dhdGV3YXkoZGF0YSkge1xuICAgICAgdmFyIF9kYXRhJHBheW1lbnRNZXRob2QgPSBkYXRhLnBheW1lbnRNZXRob2QsXG4gICAgICAgICAgcGF5bWVudE1ldGhvZCA9IF9kYXRhJHBheW1lbnRNZXRob2QgPT09IHZvaWQgMCA/IHt9IDogX2RhdGEkcGF5bWVudE1ldGhvZDtcbiAgICAgIHJldHVybiAoMCwgX3V0aWxzLm9taXROaWwpKHtcbiAgICAgICAgbmFtZTogdGhpcy5wYXltZW50TWV0aG9kSWRNYXBwZXIubWFwVG9JZChwYXltZW50TWV0aG9kKVxuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEdhdGV3YXlNYXBwZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEdhdGV3YXlNYXBwZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nYXRld2F5LW1hcHBlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuLi8uLi8uLi9jb21tb24vdXRpbHNcIik7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxudmFyIFF1b3RlTWFwcGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gUXVvdGVNYXBwZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFF1b3RlTWFwcGVyKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhRdW90ZU1hcHBlciwgW3tcbiAgICBrZXk6IFwibWFwVG9RdW90ZVwiLFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQYXltZW50UmVxdWVzdERhdGF9IGRhdGFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXBUb1F1b3RlKGRhdGEpIHtcbiAgICAgIHJldHVybiAoMCwgX3V0aWxzLm9taXROaWwpKHtcbiAgICAgICAgYmlsbGluZ19hZGRyZXNzOiB0aGlzLm1hcFRvQWRkcmVzcyhkYXRhLCAnYmlsbGluZ0FkZHJlc3MnKSxcbiAgICAgICAgc2hpcHBpbmdfYWRkcmVzczogdGhpcy5tYXBUb0FkZHJlc3MoZGF0YSwgJ3NoaXBwaW5nQWRkcmVzcycpXG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BheW1lbnRSZXF1ZXN0RGF0YX0gZGF0YVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhZGRyZXNzS2V5XG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm1hcFRvQWRkcmVzc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXBUb0FkZHJlc3MoZGF0YSwgYWRkcmVzc0tleSkge1xuICAgICAgdmFyIF9kYXRhJGN1c3RvbWVyID0gZGF0YS5jdXN0b21lcixcbiAgICAgICAgICBjdXN0b21lciA9IF9kYXRhJGN1c3RvbWVyID09PSB2b2lkIDAgPyB7fSA6IF9kYXRhJGN1c3RvbWVyO1xuICAgICAgdmFyIGFkZHJlc3MgPSBkYXRhW2FkZHJlc3NLZXldIHx8IHt9O1xuICAgICAgcmV0dXJuICgwLCBfdXRpbHMub21pdE5pbCkoe1xuICAgICAgICBhZGRyZXNzX2xpbmVfMTogYWRkcmVzcy5hZGRyZXNzTGluZTEsXG4gICAgICAgIGFkZHJlc3NfbGluZV8yOiBhZGRyZXNzLmFkZHJlc3NMaW5lMixcbiAgICAgICAgY2l0eTogYWRkcmVzcy5jaXR5LFxuICAgICAgICBjb21wYW55OiBhZGRyZXNzLmNvbXBhbnksXG4gICAgICAgIGNvdW50cnlfY29kZTogYWRkcmVzcy5jb3VudHJ5Q29kZSxcbiAgICAgICAgZW1haWw6IGN1c3RvbWVyLmVtYWlsLFxuICAgICAgICBmaXJzdF9uYW1lOiBhZGRyZXNzLmZpcnN0TmFtZSxcbiAgICAgICAgbGFzdF9uYW1lOiBhZGRyZXNzLmxhc3ROYW1lLFxuICAgICAgICBwaG9uZTogYWRkcmVzcy5waG9uZSxcbiAgICAgICAgcG9zdGFsX2NvZGU6IGFkZHJlc3MucG9zdENvZGUsXG4gICAgICAgIHN0YXRlOiBhZGRyZXNzLnByb3ZpbmNlXG4gICAgICB9KTtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogXCJjcmVhdGVcIixcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtRdW90ZU1hcHBlcn1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgICAgcmV0dXJuIG5ldyBRdW90ZU1hcHBlcigpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBRdW90ZU1hcHBlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUXVvdGVNYXBwZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1xdW90ZS1tYXBwZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vY29tbW9uL3V0aWxzXCIpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbnZhciBTdG9yZU1hcHBlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFN0b3JlTWFwcGVyKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdG9yZU1hcHBlcik7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoU3RvcmVNYXBwZXIsIFt7XG4gICAga2V5OiBcIm1hcFRvU3RvcmVcIixcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UGF5bWVudFJlcXVlc3REYXRhfSBkYXRhXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gbWFwVG9TdG9yZShkYXRhKSB7XG4gICAgICByZXR1cm4gKDAsIF91dGlscy5vbWl0TmlsKSh7XG4gICAgICAgIGxvY2FsZTogdGhpcy5tYXBUb0xvY2FsZShkYXRhKSxcbiAgICAgICAgc3RvcmVfaWRlbnRpdHk6IHRoaXMubWFwVG9JZGVudGl0eShkYXRhKSxcbiAgICAgICAgdXJsczogdGhpcy5tYXBUb1VybHMoZGF0YSlcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UGF5bWVudFJlcXVlc3REYXRhfSBkYXRhXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm1hcFRvTG9jYWxlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1hcFRvTG9jYWxlKGRhdGEpIHtcbiAgICAgIHZhciBfZGF0YSRzdG9yZSA9IGRhdGEuc3RvcmUsXG4gICAgICAgICAgc3RvcmUgPSBfZGF0YSRzdG9yZSA9PT0gdm9pZCAwID8ge30gOiBfZGF0YSRzdG9yZTtcbiAgICAgIHJldHVybiAoMCwgX3V0aWxzLm9taXROaWwpKHtcbiAgICAgICAgY291bnRyeV9jb2RlOiBzdG9yZS5jb3VudHJ5Q29kZSxcbiAgICAgICAgY3VycmVuY3lfY29kZTogc3RvcmUuY3VycmVuY3lDb2RlLFxuICAgICAgICBsYW5ndWFnZV9jb2RlOiBzdG9yZS5zdG9yZUxhbmd1YWdlXG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BheW1lbnRSZXF1ZXN0RGF0YX0gZGF0YVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJtYXBUb0lkZW50aXR5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1hcFRvSWRlbnRpdHkoZGF0YSkge1xuICAgICAgdmFyIF9kYXRhJHN0b3JlMiA9IGRhdGEuc3RvcmUsXG4gICAgICAgICAgc3RvcmUgPSBfZGF0YSRzdG9yZTIgPT09IHZvaWQgMCA/IHt9IDogX2RhdGEkc3RvcmUyO1xuICAgICAgcmV0dXJuICgwLCBfdXRpbHMub21pdE5pbCkoe1xuICAgICAgICBpZDogc3RvcmUuc3RvcmVJZCA/ICgwLCBfdXRpbHMudG9OdW1iZXIpKHN0b3JlLnN0b3JlSWQpIDogbnVsbCxcbiAgICAgICAgbmFtZTogc3RvcmUuc3RvcmVOYW1lXG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BheW1lbnRSZXF1ZXN0RGF0YX0gZGF0YVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJtYXBUb1VybHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWFwVG9VcmxzKGRhdGEpIHtcbiAgICAgIHZhciBfZGF0YSRzdG9yZTMgPSBkYXRhLnN0b3JlLFxuICAgICAgICAgIHN0b3JlID0gX2RhdGEkc3RvcmUzID09PSB2b2lkIDAgPyB7fSA6IF9kYXRhJHN0b3JlMztcbiAgICAgIHJldHVybiAoMCwgX3V0aWxzLm9taXROaWwpKHtcbiAgICAgICAgY2FydDogc3RvcmUuY2FydExpbmssXG4gICAgICAgIGNoZWNrb3V0OiBzdG9yZS5jaGVja291dExpbmssXG4gICAgICAgIGNvbmZpcm1hdGlvbjogc3RvcmUub3JkZXJDb25maXJtYXRpb25MaW5rLFxuICAgICAgICBob21lOiBzdG9yZS5zaG9wUGF0aFxuICAgICAgfSk7XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwiY3JlYXRlXCIsXG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7U3RvcmVNYXBwZXJ9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICAgIHJldHVybiBuZXcgU3RvcmVNYXBwZXIoKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU3RvcmVNYXBwZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFN0b3JlTWFwcGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RvcmUtbWFwcGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3JlcXVlc3RTZW5kZXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi9jb21tb24vaHR0cC1yZXF1ZXN0L3JlcXVlc3Qtc2VuZGVyXCIpKTtcblxudmFyIF9tZXRob2RUeXBlcyA9IHJlcXVpcmUoXCIuLi9jb21tb24vaHR0cC1yZXF1ZXN0L21ldGhvZC10eXBlc1wiKTtcblxudmFyIF91cmxIZWxwZXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3VybC1oZWxwZXJcIikpO1xuXG52YXIgX21hcHBlcnMgPSByZXF1aXJlKFwiLi92Mi9tYXBwZXJzXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbnZhciBTdG9yZVJlcXVlc3RTZW5kZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBfY3JlYXRlQ2xhc3MoU3RvcmVSZXF1ZXN0U2VuZGVyLCBudWxsLCBbe1xuICAgIGtleTogXCJjcmVhdGVcIixcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAgICAgKiBAcmV0dXJucyB7U3RvcmVSZXF1ZXN0U2VuZGVyfVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGUoY29uZmlnKSB7XG4gICAgICB2YXIgdXJsSGVscGVyID0gX3VybEhlbHBlci5kZWZhdWx0LmNyZWF0ZShjb25maWcpO1xuXG4gICAgICB2YXIgcmVxdWVzdFNlbmRlciA9IF9yZXF1ZXN0U2VuZGVyLmRlZmF1bHQuY3JlYXRlKCk7XG5cbiAgICAgIHJldHVybiBuZXcgU3RvcmVSZXF1ZXN0U2VuZGVyKHVybEhlbHBlciwgcmVxdWVzdFNlbmRlcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7VXJsSGVscGVyfSB1cmxIZWxwZXJcbiAgICAgKiBAcGFyYW0ge1JlcXVlc3RTZW5kZXJ9IHJlcXVlc3RTZW5kZXJcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKi9cblxuICB9XSk7XG5cbiAgZnVuY3Rpb24gU3RvcmVSZXF1ZXN0U2VuZGVyKHVybEhlbHBlciwgcmVxdWVzdFNlbmRlcikge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdG9yZVJlcXVlc3RTZW5kZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7VXJsSGVscGVyfVxuICAgICAqL1xuICAgIHRoaXMudXJsSGVscGVyID0gdXJsSGVscGVyO1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge1JlcXVlc3RTZW5kZXJ9XG4gICAgICovXG5cbiAgICB0aGlzLnJlcXVlc3RTZW5kZXIgPSByZXF1ZXN0U2VuZGVyO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKFN0b3JlUmVxdWVzdFNlbmRlciwgW3tcbiAgICBrZXk6IFwibG9hZEluc3RydW1lbnRzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxvYWRJbnN0cnVtZW50cyhkYXRhLCBjYWxsYmFjaykge1xuICAgICAgdmFyIHVybCA9IHRoaXMudXJsSGVscGVyLmdldEluc3RydW1lbnRzVXJsKGRhdGEuc3RvcmVJZCwgZGF0YS5jdXN0b21lcklkLCBkYXRhLmN1cnJlbmN5Q29kZSk7XG4gICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgaGVhZGVyczogKDAsIF9tYXBwZXJzLm1hcFRvSGVhZGVycykoZGF0YSlcbiAgICAgIH07XG4gICAgICB0aGlzLnJlcXVlc3RTZW5kZXIuc2VuZFJlcXVlc3QodXJsLCBudWxsLCBvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJsb2FkSW5zdHJ1bWVudHNXaXRoQWRkcmVzc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBsb2FkSW5zdHJ1bWVudHNXaXRoQWRkcmVzcyhkYXRhLCBjYWxsYmFjaykge1xuICAgICAgdmFyIHVybCA9IHRoaXMudXJsSGVscGVyLmdldFRydXN0ZWRTaGlwcGluZ0FkZHJlc3NVcmwoZGF0YS5zdG9yZUlkLCBkYXRhLmN1c3RvbWVySWQsIGRhdGEuY3VycmVuY3lDb2RlKTtcbiAgICAgIHZhciBwYXlsb2FkID0gKDAsIF9tYXBwZXJzLm1hcFRvVHJ1c3RlZFNoaXBwaW5nQWRkcmVzc1BheWxvYWQpKGRhdGEpO1xuICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgIG1ldGhvZDogX21ldGhvZFR5cGVzLlBPU1QsXG4gICAgICAgIGhlYWRlcnM6ICgwLCBfbWFwcGVycy5tYXBUb0hlYWRlcnMpKGRhdGEpXG4gICAgICB9O1xuICAgICAgdGhpcy5yZXF1ZXN0U2VuZGVyLnBvc3RSZXF1ZXN0KHVybCwgcGF5bG9hZCwgb3B0aW9ucywgY2FsbGJhY2spO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja11cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZGVsZXRlU2hvcHBlckluc3RydW1lbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVsZXRlU2hvcHBlckluc3RydW1lbnQoZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgIHZhciB1cmwgPSB0aGlzLnVybEhlbHBlci5nZXRJbnN0cnVtZW50QnlJZFVybChkYXRhLnN0b3JlSWQsIGRhdGEuY3VzdG9tZXJJZCwgZGF0YS5pbnN0cnVtZW50SWQsIGRhdGEuY3VycmVuY3lDb2RlKTtcbiAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICBtZXRob2Q6IF9tZXRob2RUeXBlcy5ERUxFVEUsXG4gICAgICAgIGhlYWRlcnM6ICgwLCBfbWFwcGVycy5tYXBUb0hlYWRlcnMpKGRhdGEpXG4gICAgICB9O1xuICAgICAgdGhpcy5yZXF1ZXN0U2VuZGVyLnNlbmRSZXF1ZXN0KHVybCwgbnVsbCwgb3B0aW9ucywgY2FsbGJhY2spO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTdG9yZVJlcXVlc3RTZW5kZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFN0b3JlUmVxdWVzdFNlbmRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0b3JlLXJlcXVlc3Qtc2VuZGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbnZhciBVcmxIZWxwZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBfY3JlYXRlQ2xhc3MoVXJsSGVscGVyLCBudWxsLCBbe1xuICAgIGtleTogXCJjcmVhdGVcIixcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29uZmlnLmhvc3RcbiAgICAgKiBAcmV0dXJucyB7Q3VzdG9tZXJNYXBwZXJ9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZShjb25maWcpIHtcbiAgICAgIHJldHVybiBuZXcgVXJsSGVscGVyKGNvbmZpZyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29uZmlnLmhvc3RcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKi9cblxuICB9XSk7XG5cbiAgZnVuY3Rpb24gVXJsSGVscGVyKGNvbmZpZykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBVcmxIZWxwZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICB9XG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKiBAdGhyb3dzIHtFcnJvcn1cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoVXJsSGVscGVyLCBbe1xuICAgIGtleTogXCJnZXRJbnN0cnVtZW50c1VybFwiLFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0b3JlSWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3VzdG9tZXJJZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjdXJyZW5jeUNvZGVcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbnN0cnVtZW50c1VybChzdG9yZUlkLCBjdXN0b21lcklkLCBjdXJyZW5jeUNvZGUpIHtcbiAgICAgIHJldHVybiBcIlwiLmNvbmNhdCh0aGlzLmhvc3QsIFwiL2FwaS92My9zdG9yZXMvXCIpLmNvbmNhdChzdG9yZUlkLCBcIi9zaG9wcGVycy9cIikuY29uY2F0KGN1c3RvbWVySWQsIFwiL2luc3RydW1lbnRzP2N1cnJlbmN5X2NvZGU9XCIpLmNvbmNhdChjdXJyZW5jeUNvZGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RvcmVJZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjdXN0b21lcklkXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGN1cnJlbmN5Q29kZVxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFRydXN0ZWRTaGlwcGluZ0FkZHJlc3NVcmxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VHJ1c3RlZFNoaXBwaW5nQWRkcmVzc1VybChzdG9yZUlkLCBjdXN0b21lcklkLCBjdXJyZW5jeUNvZGUpIHtcbiAgICAgIHJldHVybiBcIlwiLmNvbmNhdCh0aGlzLmhvc3QsIFwiL2FwaS92My9zdG9yZXMvXCIpLmNvbmNhdChzdG9yZUlkLCBcIi9zaG9wcGVycy9cIikuY29uY2F0KGN1c3RvbWVySWQsIFwiL2luc3RydW1lbnRzL3RydXN0ZWRfc2hpcHBpbmdfYWRkcmVzcz9jdXJyZW5jeV9jb2RlPVwiKS5jb25jYXQoY3VycmVuY3lDb2RlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0b3JlSWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3VzdG9tZXJJZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbnN0cnVtZW50SWRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY3VycmVuY3lDb2RlXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldEluc3RydW1lbnRCeUlkVXJsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEluc3RydW1lbnRCeUlkVXJsKHN0b3JlSWQsIGN1c3RvbWVySWQsIGluc3RydW1lbnRJZCwgY3VycmVuY3lDb2RlKSB7XG4gICAgICByZXR1cm4gXCJcIi5jb25jYXQodGhpcy5ob3N0LCBcIi9hcGkvdjIvc3RvcmVzL1wiKS5jb25jYXQoc3RvcmVJZCwgXCIvc2hvcHBlcnMvXCIpLmNvbmNhdChjdXN0b21lcklkLCBcIi9pbnN0cnVtZW50cy9cIikuY29uY2F0KGluc3RydW1lbnRJZCwgXCI/Y3VycmVuY3lfY29kZT1cIikuY29uY2F0KGN1cnJlbmN5Q29kZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImhvc3RcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIGlmICghdGhpcy5jb25maWcgfHwgIXRoaXMuY29uZmlnLmhvc3QpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdIb3N0IFVSTCB1bmF2YWlsYWJsZSBvciBub3Qgc3VwcGxpZWQuJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5ob3N0O1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBVcmxIZWxwZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFVybEhlbHBlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVybC1oZWxwZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLm1hcFRvSW5zdHJ1bWVudFBheWxvYWQgPSBtYXBUb0luc3RydW1lbnRQYXlsb2FkO1xuZXhwb3J0cy5tYXBUb1RydXN0ZWRTaGlwcGluZ0FkZHJlc3NQYXlsb2FkID0gbWFwVG9UcnVzdGVkU2hpcHBpbmdBZGRyZXNzUGF5bG9hZDtcbmV4cG9ydHMubWFwVG9IZWFkZXJzID0gbWFwVG9IZWFkZXJzO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4uLy4uLy4uL2NvbW1vbi91dGlsc1wiKTtcblxuLyoqXG4gKiBAcGFyYW0ge09iamVjdH0gW2RhdGE9e31dXG4gKiBAcGFyYW0ge09iamVjdH0gZGF0YS5iaWxsaW5nQWRkcmVzc1xuICogQHBhcmFtIHtDcmVkaXRDYXJkfSBkYXRhLmNyZWRpdENhcmRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gZGF0YS5kZWZhdWx0SW5zdHJ1bWVudFxuICogQHBhcmFtIHtzdHJpbmd9IGRhdGEucHJvdmlkZXJOYW1lXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIG1hcFRvSW5zdHJ1bWVudFBheWxvYWQoKSB7XG4gIHZhciBkYXRhID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgdmFyIHByb3ZpZGVyTmFtZSA9IGRhdGEucHJvdmlkZXJOYW1lLFxuICAgICAgZGVmYXVsdEluc3RydW1lbnQgPSBkYXRhLmRlZmF1bHRJbnN0cnVtZW50O1xuICB2YXIgcHJvdmlkZXIgPSAoMCwgX3V0aWxzLm9taXROaWwpKHtcbiAgICBuYW1lOiBwcm92aWRlck5hbWVcbiAgfSk7XG4gIHJldHVybiAoMCwgX3V0aWxzLm9taXROaWwpKHtcbiAgICBwcm92aWRlcjogcHJvdmlkZXIsXG4gICAgY3JlZGl0X2NhcmQ6IG1hcFRvQ3JlZGl0Q2FyZChkYXRhKSxcbiAgICBiaWxsaW5nX2FkZHJlc3M6IG1hcFRvQWRkcmVzcyhkYXRhLmJpbGxpbmdBZGRyZXNzKSxcbiAgICBkZWZhdWx0X2luc3RydW1lbnQ6IGRlZmF1bHRJbnN0cnVtZW50XG4gIH0pO1xufVxuLyoqXG4gKiBAcGFyYW0ge09iamVjdH0gW2RhdGE9e31dXG4gKiBAcGFyYW0ge09iamVjdH0gZGF0YS5zaGlwcGluZ0FkZHJlc3NcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuXG5cbmZ1bmN0aW9uIG1hcFRvVHJ1c3RlZFNoaXBwaW5nQWRkcmVzc1BheWxvYWQoKSB7XG4gIHZhciBkYXRhID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgcmV0dXJuICgwLCBfdXRpbHMub21pdE5pbCkoe1xuICAgIHNoaXBwaW5nX2FkZHJlc3M6IG1hcFRvQWRkcmVzcyhkYXRhLnNoaXBwaW5nQWRkcmVzcylcbiAgfSk7XG59XG4vKipcbiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gKiBAcGFyYW0ge3N0cmluZ30gZGF0YS5hdXRoVG9rZW5cbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuXG5cbmZ1bmN0aW9uIG1hcFRvSGVhZGVycygpIHtcbiAgdmFyIF9yZWYgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9LFxuICAgICAgQXV0aG9yaXphdGlvbiA9IF9yZWYuYXV0aFRva2VuO1xuXG4gIHJldHVybiAoMCwgX3V0aWxzLm9taXROaWwpKHtcbiAgICBBdXRob3JpemF0aW9uOiBBdXRob3JpemF0aW9uXG4gIH0pO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FkZHJlc3NEYXRhfSBhZGRyZXNzXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cblxuXG5mdW5jdGlvbiBtYXBUb0FkZHJlc3MoKSB7XG4gIHZhciBhZGRyZXNzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgdmFyIHN0YXRlID0gbWFwVG9TdGF0ZShhZGRyZXNzLnByb3ZpbmNlQ29kZSwgYWRkcmVzcy5wcm92aW5jZSk7XG4gIHJldHVybiAoMCwgX3V0aWxzLm9taXROaWwpKHtcbiAgICBhZGRyZXNzX2xpbmVfMTogYWRkcmVzcy5hZGRyZXNzTGluZTEsXG4gICAgYWRkcmVzc19saW5lXzI6IGFkZHJlc3MuYWRkcmVzc0xpbmUyLFxuICAgIGNpdHk6IGFkZHJlc3MuY2l0eSxcbiAgICBjb21wYW55OiBhZGRyZXNzLmNvbXBhbnksXG4gICAgY291bnRyeV9jb2RlOiBhZGRyZXNzLmNvdW50cnlDb2RlLFxuICAgIGVtYWlsOiBhZGRyZXNzLmVtYWlsLFxuICAgIGZpcnN0X25hbWU6IGFkZHJlc3MuZmlyc3ROYW1lLFxuICAgIGxhc3RfbmFtZTogYWRkcmVzcy5sYXN0TmFtZSxcbiAgICBwaG9uZTogYWRkcmVzcy5waG9uZSxcbiAgICBwb3N0YWxfY29kZTogYWRkcmVzcy5wb3N0Q29kZSxcbiAgICBzdGF0ZTogc3RhdGVcbiAgfSk7XG59XG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2RlXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5cblxuZnVuY3Rpb24gbWFwVG9TdGF0ZShjb2RlLCBuYW1lKSB7XG4gIHJldHVybiAoMCwgX3V0aWxzLm9taXROaWwpKHtcbiAgICBjb2RlOiBjb2RlLFxuICAgIG5hbWU6IG5hbWVcbiAgfSk7XG59XG4vKipcbiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gKiBAcGFyYW0ge0NyZWRpdENhcmR9IGRhdGEuY3JlZGl0Q2FyZFxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5cblxuZnVuY3Rpb24gbWFwVG9DcmVkaXRDYXJkKF9yZWYyKSB7XG4gIHZhciBfcmVmMiRjcmVkaXRDYXJkID0gX3JlZjIuY3JlZGl0Q2FyZCxcbiAgICAgIGNyZWRpdENhcmQgPSBfcmVmMiRjcmVkaXRDYXJkID09PSB2b2lkIDAgPyB7fSA6IF9yZWYyJGNyZWRpdENhcmQ7XG4gIHZhciB0aHJlZURTZWN1cmUgPSAoMCwgX3V0aWxzLm9taXROaWwpKGNyZWRpdENhcmQudGhyZWVEU2VjdXJlKTtcbiAgcmV0dXJuICgwLCBfdXRpbHMub21pdE5pbCkoe1xuICAgIGNhcmRob2xkZXJfbmFtZTogY3JlZGl0Q2FyZC5jYXJkaG9sZGVyTmFtZSxcbiAgICBudW1iZXI6IGNyZWRpdENhcmQubnVtYmVyLFxuICAgIG1vbnRoOiBjcmVkaXRDYXJkLm1vbnRoLFxuICAgIHllYXI6IGNyZWRpdENhcmQueWVhcixcbiAgICB2ZXJpZmljYXRpb25fY29kZTogY3JlZGl0Q2FyZC52ZXJpZmljYXRpb25Db2RlLFxuICAgIGlzc3VlX21vbnRoOiBjcmVkaXRDYXJkLmlzc3VlTW9udGgsXG4gICAgaXNzdWVfeWVhcjogY3JlZGl0Q2FyZC5pc3N1ZVllYXIsXG4gICAgaXNzdWVfbnVtYmVyOiBjcmVkaXRDYXJkLmlzc3VlTnVtYmVyLFxuICAgIHRyYWNrX2RhdGE6IGNyZWRpdENhcmQudHJhY2tEYXRhLFxuICAgIGlzX21hbnVhbF9lbnRyeTogY3JlZGl0Q2FyZC5pc01hbnVhbEVudHJ5LFxuICAgIGljY19kYXRhOiBjcmVkaXRDYXJkLmljY0RhdGEsXG4gICAgZmFsbGJhY2tfcmVhc29uOiBjcmVkaXRDYXJkLmZhbGxiYWNrUmVhc29uLFxuICAgIGlzX2NvbnRhY3RsZXNzOiBjcmVkaXRDYXJkLmlzQ29udGFjdGxlc3MsXG4gICAgZW5jcnlwdGVkX3Bpbl9jcnlwdG9ncmFtOiBjcmVkaXRDYXJkLmVuY3J5cHRlZFBpbkNyeXB0b2dyYW0sXG4gICAgZW5jcnlwdGVkX3Bpbl9rc246IGNyZWRpdENhcmQuZW5jcnlwdGVkUGluS3NuLFxuICAgIHRocmVlX2Rfc2VjdXJlOiB0aHJlZURTZWN1cmVcbiAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJtb2R1bGUuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT17fTtmdW5jdGlvbiBuKHIpe2lmKGVbcl0pcmV0dXJuIGVbcl0uZXhwb3J0czt2YXIgaT1lW3JdPXtpOnIsbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gdFtyXS5jYWxsKGkuZXhwb3J0cyxpLGkuZXhwb3J0cyxuKSxpLmw9ITAsaS5leHBvcnRzfXJldHVybiBuLm09dCxuLmM9ZSxuLmQ9ZnVuY3Rpb24odCxlLHIpe24ubyh0LGUpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHtlbnVtZXJhYmxlOiEwLGdldDpyfSl9LG4ucj1mdW5jdGlvbih0KXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxuLnQ9ZnVuY3Rpb24odCxlKXtpZigxJmUmJih0PW4odCkpLDgmZSlyZXR1cm4gdDtpZig0JmUmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIHI9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihuLnIociksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6dH0pLDImZSYmXCJzdHJpbmdcIiE9dHlwZW9mIHQpZm9yKHZhciBpIGluIHQpbi5kKHIsaSxmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0uYmluZChudWxsLGkpKTtyZXR1cm4gcn0sbi5uPWZ1bmN0aW9uKHQpe3ZhciBlPXQmJnQuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiB0LmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIHR9O3JldHVybiBuLmQoZSxcImFcIixlKSxlfSxuLm89ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSl9LG4ucD1cIlwiLG4obi5zPTE5NCl9KFtmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1yZXF1aXJlKFwidHNsaWJcIil9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXJlcXVpcmUoXCJAYmlnY29tbWVyY2UvZGF0YS1zdG9yZVwiKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9cmVxdWlyZShcImxvZGFzaFwiKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9cmVxdWlyZShcInJ4anNcIil9LCxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1yZXF1aXJlKFwiQGJpZ2NvbW1lcmNlL21lbW9pemVcIil9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcjtuLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxmdW5jdGlvbih0KXt0LkNyZWF0ZUNvbnNpZ25tZW50c1JlcXVlc3RlZD1cIkNSRUFURV9DT05TSUdOTUVOVFNfUkVRVUVTVEVEXCIsdC5DcmVhdGVDb25zaWdubWVudHNTdWNjZWVkZWQ9XCJDUkVBVEVfQ09OU0lHTk1FTlRTX1NVQ0NFRURFRFwiLHQuQ3JlYXRlQ29uc2lnbm1lbnRzRmFpbGVkPVwiQ1JFQVRFX0NPTlNJR05NRU5UU19GQUlMRURcIix0LlVwZGF0ZUNvbnNpZ25tZW50UmVxdWVzdGVkPVwiVVBEQVRFX0NPTlNJR05NRU5UX1JFUVVFU1RFRFwiLHQuVXBkYXRlQ29uc2lnbm1lbnRTdWNjZWVkZWQ9XCJVUERBVEVfQ09OU0lHTk1FTlRfU1VDQ0VFREVEXCIsdC5VcGRhdGVDb25zaWdubWVudEZhaWxlZD1cIlVQREFURV9DT05TSUdOTUVOVF9GQUlMRURcIix0LkRlbGV0ZUNvbnNpZ25tZW50UmVxdWVzdGVkPVwiREVMRVRFX0NPTlNJR05NRU5UX1JFUVVFU1RFRFwiLHQuRGVsZXRlQ29uc2lnbm1lbnRTdWNjZWVkZWQ9XCJERUxFVEVfQ09OU0lHTk1FTlRfU1VDQ0VFREVEXCIsdC5EZWxldGVDb25zaWdubWVudEZhaWxlZD1cIkRFTEVURV9DT05TSUdOTUVOVF9GQUlMRURcIix0LlVwZGF0ZVNoaXBwaW5nT3B0aW9uUmVxdWVzdGVkPVwiVVBEQVRFX1NISVBQSU5HX09QVElPTl9SRVFVRVNURURcIix0LlVwZGF0ZVNoaXBwaW5nT3B0aW9uU3VjY2VlZGVkPVwiVVBEQVRFX1NISVBQSU5HX09QVElPTl9TVUNDRUVERURcIix0LlVwZGF0ZVNoaXBwaW5nT3B0aW9uRmFpbGVkPVwiVVBEQVRFX1NISVBQSU5HX09QVElPTl9GQUlMRURcIix0LkxvYWRTaGlwcGluZ09wdGlvbnNSZXF1ZXN0ZWQ9XCJMT0FEX1NISVBQSU5HX09QVElPTlNfUkVRVUVTVEVEXCIsdC5Mb2FkU2hpcHBpbmdPcHRpb25zU3VjY2VlZGVkPVwiTE9BRF9TSElQUElOR19PUFRJT05TX1NVQ0NFRURFRFwiLHQuTG9hZFNoaXBwaW5nT3B0aW9uc0ZhaWxlZD1cIkxPQURfU0hJUFBJTkdfT1BUSU9OU19GQUlMRURcIn0ocnx8KHI9e30pKX0sLGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXJlcXVpcmUoXCJyeGpzL29wZXJhdG9yc1wiKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiByfSkpLGZ1bmN0aW9uKHQpe3QuVXBkYXRlQWRkcmVzc0ZhaWxlZD1cIlNISVBQSU5HX1NUUkFURUdZX1VQREFURV9BRERSRVNTX0ZBSUxFRFwiLHQuVXBkYXRlQWRkcmVzc1JlcXVlc3RlZD1cIlNISVBQSU5HX1NUUkFURUdZX1VQREFURV9BRERSRVNTX1JFUVVFU1RFRFwiLHQuVXBkYXRlQWRkcmVzc1N1Y2NlZWRlZD1cIlNISVBQSU5HX1NUUkFURUdZX1VQREFURV9BRERSRVNTX1NVQ0NFRURFRFwiLHQuU2VsZWN0T3B0aW9uRmFpbGVkPVwiU0hJUFBJTkdfU1RSQVRFR1lfU0VMRUNUX09QVElPTl9GQUlMRURcIix0LlNlbGVjdE9wdGlvblJlcXVlc3RlZD1cIlNISVBQSU5HX1NUUkFURUdZX1NFTEVDVF9PUFRJT05fUkVRVUVTVEVEXCIsdC5TZWxlY3RPcHRpb25TdWNjZWVkZWQ9XCJTSElQUElOR19TVFJBVEVHWV9TRUxFQ1RfT1BUSU9OX1NVQ0NFRURFRFwiLHQuSW5pdGlhbGl6ZUZhaWxlZD1cIlNISVBQSU5HX1NUUkFURUdZX0lOSVRJQUxJWkVfRkFJTEVEXCIsdC5Jbml0aWFsaXplUmVxdWVzdGVkPVwiU0hJUFBJTkdfU1RSQVRFR1lfSU5JVElBTElaRV9SRVFVRVNURURcIix0LkluaXRpYWxpemVTdWNjZWVkZWQ9XCJTSElQUElOR19TVFJBVEVHWV9JTklUSUFMSVpFX1NVQ0NFRURFRFwiLHQuRGVpbml0aWFsaXplRmFpbGVkPVwiU0hJUFBJTkdfU1RSQVRFR1lfREVJTklUSUFMSVpFX0ZBSUxFRFwiLHQuRGVpbml0aWFsaXplUmVxdWVzdGVkPVwiU0hJUFBJTkdfU1RSQVRFR1lfREVJTklUSUFMSVpFX1JFUVVFU1RFRFwiLHQuRGVpbml0aWFsaXplU3VjY2VlZGVkPVwiU0hJUFBJTkdfU1RSQVRFR1lfREVJTklUSUFMSVpFX1NVQ0NFRURFRFwiLHQuV2lkZ2V0SW50ZXJhY3Rpb25TdGFydGVkPVwiU0hJUFBJTkdfU1RSQVRFR1lfV0lER0VUX0lOVEVSQUNUSU9OX1NUQVJURURcIix0LldpZGdldEludGVyYWN0aW9uRmluaXNoZWQ9XCJTSElQUElOR19TVFJBVEVHWV9XSURHRVRfSU5URVJBQ1RJT05fRklOSVNIRURcIix0LldpZGdldEludGVyYWN0aW9uRmFpbGVkPVwiU0hJUFBJTkdfU1RSQVRFR1lfV0lER0VUX0lOVEVSQUNUSU9OX0ZBSUxFRFwifShyfHwocj17fSkpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksZnVuY3Rpb24odCl7dC5TaWduSW5GYWlsZWQ9XCJDVVNUT01FUl9TVFJBVEVHWV9TSUdOX0lOX0ZBSUxFRFwiLHQuU2lnbkluUmVxdWVzdGVkPVwiQ1VTVE9NRVJfU1RSQVRFR1lfU0lHTl9JTl9SRVFVRVNURURcIix0LlNpZ25JblN1Y2NlZWRlZD1cIkNVU1RPTUVSX1NUUkFURUdZX1NJR05fSU5fU1VDQ0VFREVEXCIsdC5TaWduT3V0RmFpbGVkPVwiQ1VTVE9NRVJfU1RSQVRFR1lfU0lHTl9PVVRfRkFJTEVEXCIsdC5TaWduT3V0UmVxdWVzdGVkPVwiQ1VTVE9NRVJfU1RSQVRFR1lfU0lHTl9PVVRfUkVRVUVTVEVEXCIsdC5TaWduT3V0U3VjY2VlZGVkPVwiQ1VTVE9NRVJfU1RSQVRFR1lfU0lHTl9PVVRfU1VDQ0VFREVEXCIsdC5Jbml0aWFsaXplRmFpbGVkPVwiQ1VTVE9NRVJfU1RSQVRFR1lfSU5JVElBTElaRV9GQUlMRURcIix0LkluaXRpYWxpemVSZXF1ZXN0ZWQ9XCJDVVNUT01FUl9TVFJBVEVHWV9JTklUSUFMSVpFX1JFUVVFU1RFRFwiLHQuSW5pdGlhbGl6ZVN1Y2NlZWRlZD1cIkNVU1RPTUVSX1NUUkFURUdZX0lOSVRJQUxJWkVfU1VDQ0VFREVEXCIsdC5EZWluaXRpYWxpemVGYWlsZWQ9XCJDVVNUT01FUl9TVFJBVEVHWV9ERUlOSVRJQUxJWkVfRkFJTEVEXCIsdC5EZWluaXRpYWxpemVSZXF1ZXN0ZWQ9XCJDVVNUT01FUl9TVFJBVEVHWV9ERUlOSVRJQUxJWkVfUkVRVUVTVEVEXCIsdC5EZWluaXRpYWxpemVTdWNjZWVkZWQ9XCJDVVNUT01FUl9TVFJBVEVHWV9ERUlOSVRJQUxJWkVfU1VDQ0VFREVEXCIsdC5XaWRnZXRJbnRlcmFjdGlvblN0YXJ0ZWQ9XCJDVVNUT01FUl9TVFJBVEVHWV9XSURHRVRfSU5URVJBQ1RJT05fU1RBUlRFRFwiLHQuV2lkZ2V0SW50ZXJhY3Rpb25GaW5pc2hlZD1cIkNVU1RPTUVSX1NUUkFURUdZX1dJREdFVF9JTlRFUkFDVElPTl9GSU5JU0hFRFwiLHQuV2lkZ2V0SW50ZXJhY3Rpb25GYWlsZWQ9XCJDVVNUT01FUl9TVFJBVEVHWV9XSURHRVRfSU5URVJBQ1RJT05fRkFJTEVEXCJ9KHJ8fChyPXt9KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcjtuLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxmdW5jdGlvbih0KXt0LkV4ZWN1dGVGYWlsZWQ9XCJQQVlNRU5UX1NUUkFURUdZX0VYRUNVVEVfRkFJTEVEXCIsdC5FeGVjdXRlUmVxdWVzdGVkPVwiUEFZTUVOVF9TVFJBVEVHWV9FWEVDVVRFX1JFUVVFU1RFRFwiLHQuRXhlY3V0ZVN1Y2NlZWRlZD1cIlBBWU1FTlRfU1RSQVRFR1lfRVhFQ1VURV9TVUNDRUVERURcIix0LkZpbmFsaXplRmFpbGVkPVwiUEFZTUVOVF9TVFJBVEVHWV9GSU5BTElaRV9GQUlMRURcIix0LkZpbmFsaXplUmVxdWVzdGVkPVwiUEFZTUVOVF9TVFJBVEVHWV9GSU5BTElaRV9SRVFVRVNURURcIix0LkZpbmFsaXplU3VjY2VlZGVkPVwiUEFZTUVOVF9TVFJBVEVHWV9GSU5BTElaRV9TVUNDRUVERURcIix0LkluaXRpYWxpemVGYWlsZWQ9XCJQQVlNRU5UX1NUUkFURUdZX0lOSVRJQUxJWkVfRkFJTEVEXCIsdC5Jbml0aWFsaXplUmVxdWVzdGVkPVwiUEFZTUVOVF9TVFJBVEVHWV9JTklUSUFMSVpFX1JFUVVFU1RFRFwiLHQuSW5pdGlhbGl6ZVN1Y2NlZWRlZD1cIlBBWU1FTlRfU1RSQVRFR1lfSU5JVElBTElaRV9TVUNDRUVERURcIix0LkRlaW5pdGlhbGl6ZUZhaWxlZD1cIlBBWU1FTlRfU1RSQVRFR1lfREVJTklUSUFMSVpFX0ZBSUxFRFwiLHQuRGVpbml0aWFsaXplUmVxdWVzdGVkPVwiUEFZTUVOVF9TVFJBVEVHWV9ERUlOSVRJQUxJWkVfUkVRVUVTVEVEXCIsdC5EZWluaXRpYWxpemVTdWNjZWVkZWQ9XCJQQVlNRU5UX1NUUkFURUdZX0RFSU5JVElBTElaRV9TVUNDRUVERURcIix0LldpZGdldEludGVyYWN0aW9uU3RhcnRlZD1cIlBBWU1FTlRfU1RSQVRFR1lfV0lER0VUX0lOVEVSQUNUSU9OX1NUQVJURURcIix0LldpZGdldEludGVyYWN0aW9uRmluaXNoZWQ9XCJQQVlNRU5UX1NUUkFURUdZX1dJREdFVF9JTlRFUkFDVElPTl9GSU5JU0hFRFwiLHQuV2lkZ2V0SW50ZXJhY3Rpb25GYWlsZWQ9XCJQQVlNRU5UX1NUUkFURUdZX1dJREdFVF9JTlRFUkFDVElPTl9GQUlMRURcIn0ocnx8KHI9e30pKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiByfSkpO3ZhciByLGk9bigwKSxvPW4oMjIpOyFmdW5jdGlvbih0KXt0W3QuTWlzc2luZ0JpbGxpbmdBZGRyZXNzPTBdPVwiTWlzc2luZ0JpbGxpbmdBZGRyZXNzXCIsdFt0Lk1pc3NpbmdDYXJ0PTFdPVwiTWlzc2luZ0NhcnRcIix0W3QuTWlzc2luZ0NoZWNrb3V0PTJdPVwiTWlzc2luZ0NoZWNrb3V0XCIsdFt0Lk1pc3NpbmdDb25zaWdubWVudHM9M109XCJNaXNzaW5nQ29uc2lnbm1lbnRzXCIsdFt0Lk1pc3NpbmdDaGVja291dENvbmZpZz00XT1cIk1pc3NpbmdDaGVja291dENvbmZpZ1wiLHRbdC5NaXNzaW5nT3JkZXI9NV09XCJNaXNzaW5nT3JkZXJcIix0W3QuTWlzc2luZ09yZGVyQ29uZmlnPTZdPVwiTWlzc2luZ09yZGVyQ29uZmlnXCIsdFt0Lk1pc3NpbmdPcmRlcklkPTddPVwiTWlzc2luZ09yZGVySWRcIix0W3QuTWlzc2luZ1BheW1lbnQ9OF09XCJNaXNzaW5nUGF5bWVudFwiLHRbdC5NaXNzaW5nUGF5bWVudEluc3RydW1lbnQ9OV09XCJNaXNzaW5nUGF5bWVudEluc3RydW1lbnRcIix0W3QuTWlzc2luZ1BheW1lbnRNZXRob2Q9MTBdPVwiTWlzc2luZ1BheW1lbnRNZXRob2RcIix0W3QuTWlzc2luZ1BheW1lbnRUb2tlbj0xMV09XCJNaXNzaW5nUGF5bWVudFRva2VuXCIsdFt0Lk1pc3NpbmdTaGlwcGluZ0FkZHJlc3M9MTJdPVwiTWlzc2luZ1NoaXBwaW5nQWRkcmVzc1wifShyfHwocj17fSkpO3ZhciBhPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2Ugci5NaXNzaW5nQmlsbGluZ0FkZHJlc3M6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGJpbGxpbmcgYWRkcmVzcyBkYXRhIGlzIHVuYXZhaWxhYmxlLlwiO2Nhc2Ugci5NaXNzaW5nQ2FydDpyZXR1cm5cIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY2FydCBkYXRhIGlzIHVuYXZhaWxhYmxlLlwiO2Nhc2Ugci5NaXNzaW5nQ29uc2lnbm1lbnRzOnJldHVyblwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBjb25zaWdubWVudHMgZGF0YSBpcyB1bmF2YWlsYWJsZS5cIjtjYXNlIHIuTWlzc2luZ0NoZWNrb3V0OnJldHVyblwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBjaGVja291dCBkYXRhIGlzIHVuYXZhaWxhYmxlLlwiO2Nhc2Ugci5NaXNzaW5nQ2hlY2tvdXRDb25maWc6Y2FzZSByLk1pc3NpbmdPcmRlckNvbmZpZzpyZXR1cm5cIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY29uZmlndXJhdGlvbiBkYXRhIGlzIHVuYXZhaWxhYmxlLlwiO2Nhc2Ugci5NaXNzaW5nT3JkZXI6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIG9yZGVyIGRhdGEgaXMgdW5hdmFpbGFibGUuXCI7Y2FzZSByLk1pc3NpbmdPcmRlcklkOnJldHVyblwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBvcmRlciBJRCBpcyB1bmF2YWlsYWJsZSBvciBub3QgZ2VuZXJhdGVkIHlldC5cIjtjYXNlIHIuTWlzc2luZ1BheW1lbnQ6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHBheW1lbnQgZGF0YSBpcyB1bmF2YWlsYWJsZS5cIjtjYXNlIHIuTWlzc2luZ1BheW1lbnRUb2tlbjpyZXR1cm5cIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHRva2VuIHJlcXVpcmVkIHRvIHN1Ym1pdCBhIHBheW1lbnQgaXMgbWlzc2luZy5cIjtjYXNlIHIuTWlzc2luZ1BheW1lbnRNZXRob2Q6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHBheW1lbnQgbWV0aG9kIGRhdGEgaXMgdW5hdmFpbGFibGUgb3Igbm90IHByb3Blcmx5IGNvbmZpZ3VyZWQuXCI7Y2FzZSByLk1pc3NpbmdTaGlwcGluZ0FkZHJlc3M6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHNoaXBwaW5nIGFkZHJlc3MgZGF0YSBpcyB1bmF2YWlsYWJsZS5cIjtkZWZhdWx0OnJldHVyblwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgcmVxdWlyZWQgZGF0YSBpcyB1bmF2YWlsYWJsZS5cIn19KGUpKXx8dGhpcztyZXR1cm4gbi5zdWJ0eXBlPWUsbi5uYW1lPVwiTWlzc2luZ0RhdGFFcnJvclwiLG4udHlwZT1cIm1pc3NpbmdfZGF0YVwiLG59cmV0dXJuIE9iamVjdChpLl9fZXh0ZW5kcykoZSx0KSxlfShvLmEpO2UuYj1hfSwsLCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksZnVuY3Rpb24odCl7dC5Mb2FkQ2hlY2tvdXRSZXF1ZXN0ZWQ9XCJMT0FEX0NIRUNLT1VUX1JFUVVFU1RFRFwiLHQuTG9hZENoZWNrb3V0U3VjY2VlZGVkPVwiTE9BRF9DSEVDS09VVF9TVUNDRUVERURcIix0LkxvYWRDaGVja291dEZhaWxlZD1cIkxPQURfQ0hFQ0tPVVRfRkFJTEVEXCIsdC5VcGRhdGVDaGVja291dFJlcXVlc3RlZD1cIlVQREFURV9DSEVDS09VVF9SRVFVRVNURURcIix0LlVwZGF0ZUNoZWNrb3V0U3VjY2VlZGVkPVwiVVBEQVRFX0NIRUNLT1VUX1NVQ0NFRURFRFwiLHQuVXBkYXRlQ2hlY2tvdXRGYWlsZWQ9XCJVUERBVEVfQ0hFQ0tPVVRfRkFJTEVEXCJ9KHJ8fChyPXt9KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcjtuLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxmdW5jdGlvbih0KXt0LkxvYWRPcmRlclJlcXVlc3RlZD1cIkxPQURfT1JERVJfUkVRVUVTVEVEXCIsdC5Mb2FkT3JkZXJTdWNjZWVkZWQ9XCJMT0FEX09SREVSX1NVQ0NFRURFRFwiLHQuTG9hZE9yZGVyRmFpbGVkPVwiTE9BRF9PUkRFUl9GQUlMRURcIix0LkxvYWRPcmRlclBheW1lbnRzUmVxdWVzdGVkPVwiTE9BRF9PUkRFUl9QQVlNRU5UU19SRVFVRVNURURcIix0LkxvYWRPcmRlclBheW1lbnRzU3VjY2VlZGVkPVwiTE9BRF9PUkRFUl9QQVlNRU5UU19TVUNDRUVERURcIix0LkxvYWRPcmRlclBheW1lbnRzRmFpbGVkPVwiTE9BRF9PUkRFUl9QQVlNRU5UU19GQUlMRURcIix0LlN1Ym1pdE9yZGVyUmVxdWVzdGVkPVwiU1VCTUlUX09SREVSX1JFUVVFU1RFRFwiLHQuU3VibWl0T3JkZXJTdWNjZWVkZWQ9XCJTVUJNSVRfT1JERVJfU1VDQ0VFREVEXCIsdC5TdWJtaXRPcmRlckZhaWxlZD1cIlNVQk1JVF9PUkRFUl9GQUlMRURcIix0LkZpbmFsaXplT3JkZXJSZXF1ZXN0ZWQ9XCJGSU5BTElaRV9PUkRFUl9SRVFVRVNURURcIix0LkZpbmFsaXplT3JkZXJTdWNjZWVkZWQ9XCJGSU5BTElaRV9PUkRFUl9TVUNDRUVERURcIix0LkZpbmFsaXplT3JkZXJGYWlsZWQ9XCJGSU5BTElaRV9PUkRFUl9GQUlMRURcIn0ocnx8KHI9e30pKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiByfSkpLGZ1bmN0aW9uKHQpe3QuTG9hZFBheW1lbnRNZXRob2RSZXF1ZXN0ZWQ9XCJMT0FEX1BBWU1FTlRfTUVUSE9EX1JFUVVFU1RFRFwiLHQuTG9hZFBheW1lbnRNZXRob2RTdWNjZWVkZWQ9XCJMT0FEX1BBWU1FTlRfTUVUSE9EX1NVQ0NFRURFRFwiLHQuTG9hZFBheW1lbnRNZXRob2RGYWlsZWQ9XCJMT0FEX1BBWU1FTlRfTUVUSE9EX0ZBSUxFRFwiLHQuTG9hZFBheW1lbnRNZXRob2RzUmVxdWVzdGVkPVwiTE9BRF9QQVlNRU5UX01FVEhPRFNfUkVRVUVTVEVEXCIsdC5Mb2FkUGF5bWVudE1ldGhvZHNTdWNjZWVkZWQ9XCJMT0FEX1BBWU1FTlRfTUVUSE9EU19TVUNDRUVERURcIix0LkxvYWRQYXltZW50TWV0aG9kc0ZhaWxlZD1cIkxPQURfUEFZTUVOVF9NRVRIT0RTX0ZBSUxFRFwifShyfHwocj17fSkpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksZnVuY3Rpb24odCl7dC5VcGRhdGVCaWxsaW5nQWRkcmVzc1JlcXVlc3RlZD1cIlVQREFURV9CSUxMSU5HX0FERFJFU1NfUkVRVUVTVEVEXCIsdC5VcGRhdGVCaWxsaW5nQWRkcmVzc1N1Y2NlZWRlZD1cIlVQREFURV9CSUxMSU5HX0FERFJFU1NfU1VDQ0VFREVEXCIsdC5VcGRhdGVCaWxsaW5nQWRkcmVzc0ZhaWxlZD1cIlVQREFURV9CSUxMSU5HX0FERFJFU1NfRkFJTEVEXCIsdC5Db250aW51ZUFzR3Vlc3RSZXF1ZXN0ZWQ9XCJDT05USU5VRV9BU19HVUVTVF9SRVFVRVNURURcIix0LkNvbnRpbnVlQXNHdWVzdFN1Y2NlZWRlZD1cIkNPTlRJTlVFX0FTX0dVRVNUX1NVQ0NFRURFRFwiLHQuQ29udGludWVBc0d1ZXN0RmFpbGVkPVwiQ09OVElOVUVfQVNfR1VFU1RfRkFJTEVEXCJ9KHJ8fChyPXt9KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcjtuLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxmdW5jdGlvbih0KXt0LkluaXRpYWxpemVCdXR0b25GYWlsZWQ9XCJJTklUSUFMSVpFX0JVVFRPTl9GQUlMRURcIix0LkluaXRpYWxpemVCdXR0b25SZXF1ZXN0ZWQ9XCJJTklUSUFMSVpFX0JVVFRPTl9SRVFVRVNURURcIix0LkluaXRpYWxpemVCdXR0b25TdWNjZWVkZWQ9XCJJTklUSUFMSVpFX0JVVFRPTl9TVUNDRUVERURcIix0LkRlaW5pdGlhbGl6ZUJ1dHRvbkZhaWxlZD1cIkRFSU5JVElBTElaRV9CVVRUT05fRkFJTEVEXCIsdC5EZWluaXRpYWxpemVCdXR0b25SZXF1ZXN0ZWQ9XCJERUlOSVRJQUxJWkVfQlVUVE9OX1JFUVVFU1RFRFwiLHQuRGVpbml0aWFsaXplQnV0dG9uU3VjY2VlZGVkPVwiREVJTklUSUFMSVpFX0JVVFRPTl9TVUNDRUVERURcIn0ocnx8KHI9e30pKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiByfSkpLGZ1bmN0aW9uKHQpe3QuQXBwbHlDb3Vwb25SZXF1ZXN0ZWQ9XCJBUFBMWV9DT1VQT05fUkVRVUVTVEVEXCIsdC5BcHBseUNvdXBvblN1Y2NlZWRlZD1cIkFQUExZX0NPVVBPTl9TVUNDRUVERURcIix0LkFwcGx5Q291cG9uRmFpbGVkPVwiQVBQTFlfQ09VUE9OX0ZBSUxFRFwiLHQuUmVtb3ZlQ291cG9uUmVxdWVzdGVkPVwiUkVNT1ZFX0NPVVBPTl9SRVFVRVNURURcIix0LlJlbW92ZUNvdXBvblN1Y2NlZWRlZD1cIlJFTU9WRV9DT1VQT05fU1VDQ0VFREVEXCIsdC5SZW1vdmVDb3Vwb25GYWlsZWQ9XCJSRU1PVkVfQ09VUE9OX0ZBSUxFRFwifShyfHwocj17fSkpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigwKTt2YXIgaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuLHIsaT10aGlzLmNvbnN0cnVjdG9yLG89dC5jYWxsKHRoaXMsZXx8XCJBbiB1bmV4cGVjdGVkIGVycm9yIGhhcyBvY2N1cnJlZC5cIil8fHRoaXM7cmV0dXJuIG8ubmFtZT1cIlN0YW5kYXJkRXJyb3JcIixvLnR5cGU9XCJzdGFuZGFyZFwiLG49byxyPWkucHJvdG90eXBlLE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YobixyKTpuLl9fcHJvdG9fXz1yLFwiZnVuY3Rpb25cIj09dHlwZW9mIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlP0Vycm9yLmNhcHR1cmVTdGFja1RyYWNlKG8saSk6by5zdGFjaz1uZXcgRXJyb3Ioby5tZXNzYWdlKS5zdGFjayxvfXJldHVybiBPYmplY3Qoci5fX2V4dGVuZHMpKGUsdCksZX0oRXJyb3IpO2UuYT1pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksZnVuY3Rpb24odCl7dC5DaGVja291dENvbXBsZXRlPVwiQ0hFQ0tPVVRfQ09NUExFVEVcIix0LkNoZWNrb3V0RXJyb3I9XCJDSEVDS09VVF9FUlJPUlwiLHQuQ2hlY2tvdXRMb2FkZWQ9XCJDSEVDS09VVF9MT0FERURcIix0LkZyYW1lRXJyb3I9XCJGUkFNRV9FUlJPUlwiLHQuRnJhbWVMb2FkZWQ9XCJGUkFNRV9MT0FERURcIix0LlNpZ25lZE91dD1cIlNJR05FRF9PVVRcIn0ocnx8KHI9e30pKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiByfSkpLGZ1bmN0aW9uKHQpe3QuTG9hZEluc3RydW1lbnRzUmVxdWVzdGVkPVwiTE9BRF9JTlNUUlVNRU5UU19SRVFVRVNURURcIix0LkxvYWRJbnN0cnVtZW50c1N1Y2NlZWRlZD1cIkxPQURfSU5TVFJVTUVOVFNfU1VDQ0VFREVEXCIsdC5Mb2FkSW5zdHJ1bWVudHNGYWlsZWQ9XCJMT0FEX0lOU1RSVU1FTlRTX0ZBSUxFRFwiLHQuRGVsZXRlSW5zdHJ1bWVudFJlcXVlc3RlZD1cIkRFTEVURV9JTlNUUlVNRU5UX1JFUVVFU1RFRFwiLHQuRGVsZXRlSW5zdHJ1bWVudFN1Y2NlZWRlZD1cIkRFTEVURV9JTlNUUlVNRU5UX1NVQ0NFRURFRFwiLHQuRGVsZXRlSW5zdHJ1bWVudEZhaWxlZD1cIkRFTEVURV9JTlNUUlVNRU5UX0ZBSUxFRFwifShyfHwocj17fSkpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksZnVuY3Rpb24odCl7dC5BcHBseUdpZnRDZXJ0aWZpY2F0ZVJlcXVlc3RlZD1cIkFQUExZX0dJRlRfQ0VSVElGSUNBVEVfUkVRVUVTVEVEXCIsdC5BcHBseUdpZnRDZXJ0aWZpY2F0ZVN1Y2NlZWRlZD1cIkFQUExZX0dJRlRfQ0VSVElGSUNBVEVfU1VDQ0VFREVEXCIsdC5BcHBseUdpZnRDZXJ0aWZpY2F0ZUZhaWxlZD1cIkFQUExZX0dJRlRfQ0VSVElGSUNBVEVfRkFJTEVEXCIsdC5SZW1vdmVHaWZ0Q2VydGlmaWNhdGVSZXF1ZXN0ZWQ9XCJSRU1PVkVfR0lGVF9DRVJUSUZJQ0FURV9SRVFVRVNURURcIix0LlJlbW92ZUdpZnRDZXJ0aWZpY2F0ZVN1Y2NlZWRlZD1cIlJFTU9WRV9HSUZUX0NFUlRJRklDQVRFX1NVQ0NFRURFRFwiLHQuUmVtb3ZlR2lmdENlcnRpZmljYXRlRmFpbGVkPVwiUkVNT1ZFX0dJRlRfQ0VSVElGSUNBVEVfRkFJTEVEXCJ9KHJ8fChyPXt9KSl9LCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksZnVuY3Rpb24odCl7dC5Jbml0aWFsaXplUmVtb3RlQmlsbGluZ1JlcXVlc3RlZD1cIklOSVRJQUxJWkVfUkVNT1RFX0JJTExJTkdfUkVRVUVTVEVEXCIsdC5Jbml0aWFsaXplUmVtb3RlQmlsbGluZ1N1Y2NlZWRlZD1cIklOSVRJQUxJWkVfUkVNT1RFX0JJTExJTkdfU1VDQ0VFREVEXCIsdC5Jbml0aWFsaXplUmVtb3RlQmlsbGluZ0ZhaWxlZD1cIklOSVRJQUxJWkVfUkVNT1RFX0JJTExJTkdfRkFJTEVEXCIsdC5Jbml0aWFsaXplUmVtb3RlU2hpcHBpbmdSZXF1ZXN0ZWQ9XCJJTklUSUFMSVpFX1JFTU9URV9TSElQUElOR19SRVFVRVNURURcIix0LkluaXRpYWxpemVSZW1vdGVTaGlwcGluZ1N1Y2NlZWRlZD1cIklOSVRJQUxJWkVfUkVNT1RFX1NISVBQSU5HX1NVQ0NFRURFRFwiLHQuSW5pdGlhbGl6ZVJlbW90ZVNoaXBwaW5nRmFpbGVkPVwiSU5JVElBTElaRV9SRU1PVEVfU0hJUFBJTkdfRkFJTEVEXCIsdC5Jbml0aWFsaXplUmVtb3RlUGF5bWVudFJlcXVlc3RlZD1cIklOSVRJQUxJWkVfUkVNT1RFX1BBWU1FTlRfUkVRVUVTVEVEXCIsdC5Jbml0aWFsaXplUmVtb3RlUGF5bWVudFN1Y2NlZWRlZD1cIklOSVRJQUxJWkVfUkVNT1RFX1BBWU1FTlRfU1VDQ0VFREVEXCIsdC5Jbml0aWFsaXplUmVtb3RlUGF5bWVudEZhaWxlZD1cIklOSVRJQUxJWkVfUkVNT1RFX1BBWU1FTlRfRkFJTEVEXCIsdC5Mb2FkUmVtb3RlU2V0dGluZ3NSZXF1ZXN0ZWQ9XCJMT0FEX1JFTU9URV9TRVRUSU5HU19SRVFVRVNURURcIix0LkxvYWRSZW1vdGVTZXR0aW5nc1N1Y2NlZWRlZD1cIkxPQURfUkVNT1RFX1NFVFRJTkdTX1NVQ0NFRURFRFwiLHQuTG9hZFJlbW90ZVNldHRpbmdzRmFpbGVkPVwiTE9BRF9SRU1PVEVfU0VUVElOR1NfRkFJTEVEXCIsdC5TaWduT3V0UmVtb3RlQ3VzdG9tZXJSZXF1ZXN0ZWQ9XCJTSUdOX09VVF9SRU1PVEVfQ1VTVE9NRVJfUkVRVUVTVEVEXCIsdC5TaWduT3V0UmVtb3RlQ3VzdG9tZXJTdWNjZWVkZWQ9XCJTSUdOX09VVF9SRU1PVEVfQ1VTVE9NRVJfU1VDQ0VFREVEXCIsdC5TaWduT3V0UmVtb3RlQ3VzdG9tZXJGYWlsZWQ9XCJTSUdOX09VVF9SRU1PVEVfQ1VTVE9NRVJfRkFJTEVEXCIsdC5VcGRhdGVSZW1vdGVDaGVja291dD1cIlVQREFURV9SRU1PVEVfQ0hFQ0tPVVRcIn0ocnx8KHI9e30pKX0sLGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcixpLG87bi5kKGUsXCJjXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksbi5kKGUsXCJiXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSksbi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSksZnVuY3Rpb24odCl7dC5Mb25nPVwibG9uZ1wiLHQuU2hvcnQ9XCJzaG9ydFwifShyfHwocj17fSkpLGZ1bmN0aW9uKHQpe3QuRGVmYXVsdD1cImRlZmF1bHRcIix0LkJsYWNrPVwiYmxhY2tcIix0LldoaXRlPVwid2hpdGVcIn0oaXx8KGk9e30pKSxmdW5jdGlvbih0KXt0Lk1pbj1cIk1JTlwiLHQuRnVsbD1cIkZVTExcIn0ob3x8KG89e30pKX0sLGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXJlcXVpcmUoXCJAYmlnY29tbWVyY2Uvc2NyaXB0LWxvYWRlclwiKX0sLGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXJlcXVpcmUoXCJjYXJkLXZhbGlkYXRvclwiKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiByfSkpLGZ1bmN0aW9uKHQpe3QuU2lnbkluQ3VzdG9tZXJSZXF1ZXN0ZWQ9XCJTSUdOX0lOX0NVU1RPTUVSX1JFUVVFU1RFRFwiLHQuU2lnbkluQ3VzdG9tZXJTdWNjZWVkZWQ9XCJTSUdOX0lOX0NVU1RPTUVSX1NVQ0NFRURFRFwiLHQuU2lnbkluQ3VzdG9tZXJGYWlsZWQ9XCJTSUdOX0lOX0NVU1RPTUVSX0ZBSUxFRFwiLHQuU2lnbk91dEN1c3RvbWVyUmVxdWVzdGVkPVwiU0lHTl9PVVRfQ1VTVE9NRVJfUkVRVUVTVEVEXCIsdC5TaWduT3V0Q3VzdG9tZXJTdWNjZWVkZWQ9XCJTSUdOX09VVF9DVVNUT01FUl9TVUNDRUVERURcIix0LlNpZ25PdXRDdXN0b21lckZhaWxlZD1cIlNJR05fT1VUX0NVU1RPTUVSX0ZBSUxFRFwiLHQuQ3JlYXRlQ3VzdG9tZXJSZXF1ZXN0ZWQ9XCJDUkVBVEVfQ1VTVE9NRVJfUkVRVUVTVEVEXCIsdC5DcmVhdGVDdXN0b21lclN1Y2NlZWRlZD1cIkNSRUFURV9DVVNUT01FUl9TVUNDRUVERURcIix0LkNyZWF0ZUN1c3RvbWVyRmFpbGVkPVwiQ1JFQVRFX0NVU1RPTUVSX0ZBSUxFRFwifShyfHwocj17fSkpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigwKSxpPW4oMjIpLG89e2JvZHk6e30saGVhZGVyczp7fSxzdGF0dXM6MH0sYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dmFyIHI9dm9pZCAwPT09bj97fTpuLGk9ci5tZXNzYWdlLGE9ci5lcnJvcnMscz10aGlzLGM9ZXx8byx1PWMuYm9keSxkPWMuaGVhZGVycyxwPWMuc3RhdHVzO3JldHVybihzPXQuY2FsbCh0aGlzLGl8fFwiQW4gdW5leHBlY3RlZCBlcnJvciBoYXMgb2NjdXJyZWQuXCIpfHx0aGlzKS5uYW1lPVwiUmVxdWVzdEVycm9yXCIscy50eXBlPVwicmVxdWVzdFwiLHMuYm9keT11LHMuaGVhZGVycz1kLHMuc3RhdHVzPXAscy5lcnJvcnM9YXx8W10sc31yZXR1cm4gT2JqZWN0KHIuX19leHRlbmRzKShlLHQpLGV9KGkuYSk7ZS5hPWF9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtuLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxuLmQoZSxcImJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKTt2YXIgcj1cIkFDS05PV0xFREdFXCIsaT1cIkZJTkFMSVpFXCJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcjtuLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxmdW5jdGlvbih0KXt0LkxvYWRDb25maWdSZXF1ZXN0ZWQ9XCJMT0FEX0NPTkZJR19SRVFVRVNURURcIix0LkxvYWRDb25maWdTdWNjZWVkZWQ9XCJMT0FEX0NPTkZJR19TVUNDRUVERURcIix0LkxvYWRDb25maWdGYWlsZWQ9XCJMT0FEX0NPTkZJR19GQUlMRURcIn0ocnx8KHI9e30pKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiByfSkpLGZ1bmN0aW9uKHQpe3QuTG9hZEZvcm1GaWVsZHNSZXF1ZXN0ZWQ9XCJMT0FEX0ZPUk1fRklFTERTX1JFUVVFU1RFRFwiLHQuTG9hZEZvcm1GaWVsZHNTdWNjZWVkZWQ9XCJMT0FEX0ZPUk1fRklFTERTX1NVQ0NFRURFRFwiLHQuTG9hZEZvcm1GaWVsZHNGYWlsZWQ9XCJMT0FEX0ZPUk1fRklFTERTX0ZBSUxFRFwifShyfHwocj17fSkpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI7IWZ1bmN0aW9uKHQpe3QuSnNvbj1cImFwcGxpY2F0aW9uL2pzb25cIix0Lkpzb25WMT1cImFwcGxpY2F0aW9uL3ZuZC5iYy52MStqc29uXCJ9KHJ8fChyPXt9KSksZS5hPXJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiBCb29sZWFuKHQuaW5zdHJ1bWVudElkKX1mdW5jdGlvbiBpKHQpe3JldHVybiBCb29sZWFuKHQuaW5zdHJ1bWVudElkKSYmIXQuaGFzT3duUHJvcGVydHkoXCJjY051bWJlclwiKSYmIXQuaGFzT3duUHJvcGVydHkoXCJjY0N2dlwiKX1mdW5jdGlvbiBvKHQpe3ZhciBlPXQuZm9ybWF0dGVkUGF5bG9hZDtyZXR1cm4hIWUmJihcInN0cmluZ1wiPT10eXBlb2YgZS5iaWdwYXlfdG9rZW58fEJvb2xlYW4oZS5iaWdwYXlfdG9rZW4mJmUuYmlncGF5X3Rva2VuLnRva2VuKSl9bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksbi5kKGUsXCJjXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSksbi5kKGUsXCJiXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtuLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKTt2YXIgcj1uKDIpO2Z1bmN0aW9uIGkodCl7cmV0dXJuIE9iamVjdChyLmlzUGxhaW5PYmplY3QpKHQpfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiByfSkpLGZ1bmN0aW9uKHQpe3QuTG9hZENvdW50cmllc1JlcXVlc3RlZD1cIkxPQURfQ09VTlRSSUVTX1JFUVVFU1RFRFwiLHQuTG9hZENvdW50cmllc1N1Y2NlZWRlZD1cIkxPQURfQ09VTlRSSUVTX1NVQ0NFRURFRFwiLHQuTG9hZENvdW50cmllc0ZhaWxlZD1cIkxPQURfQ09VTlRSSUVTX0ZBSUxFRFwifShyfHwocj17fSkpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksZnVuY3Rpb24odCl7dC5Mb2FkU2hpcHBpbmdDb3VudHJpZXNSZXF1ZXN0ZWQ9XCJMT0FEX1NISVBQSU5HX0NPVU5UUklFU19SRVFVRVNURURcIix0LkxvYWRTaGlwcGluZ0NvdW50cmllc1N1Y2NlZWRlZD1cIkxPQURfU0hJUFBJTkdfQ09VTlRSSUVTX1NVQ0NFRURFRFwiLHQuTG9hZFNoaXBwaW5nQ291bnRyaWVzRmFpbGVkPVwiTE9BRF9TSElQUElOR19DT1VOVFJJRVNfRkFJTEVEXCJ9KHJ8fChyPXt9KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcjtuLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxmdW5jdGlvbih0KXt0LlNlbmRTaWduSW5FbWFpbFJlcXVlc3RlZD1cIlNFTkRfU0lHTklOX0VNQUlMX1JFUVVFU1RFRFwiLHQuU2VuZFNpZ25JbkVtYWlsU3VjY2VlZGVkPVwiU0VORF9TSUdOSU5fRU1BSUxfU1VDQ0VFREVEXCIsdC5TZW5kU2lnbkluRW1haWxGYWlsZWQ9XCJTRU5EX1NJR05JTl9FTUFJTF9GQUlMRURcIn0ocnx8KHI9e30pKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMCksaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzLGV8fFwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgY2xpZW50IGxpYnJhcnkgb2YgYSBwYXltZW50IG1ldGhvZCBpcyBub3QgbG9hZGVkIG9yIHJlYWR5IHRvIGJlIHVzZWQuXCIpfHx0aGlzO3JldHVybiBuLm5hbWU9XCJQYXltZW50TWV0aG9kQ2xpZW50VW5hdmFpbGFibGVFcnJvclwiLG4udHlwZT1cInBheW1lbnRfbWV0aG9kX2NsaWVudF91bmF2YWlsYWJsZVwiLG59cmV0dXJuIE9iamVjdChyLl9fZXh0ZW5kcykoZSx0KSxlfShuKDIyKS5hKTtlLmE9aX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9cmVxdWlyZShcIkBiaWdjb21tZXJjZS9yZXF1ZXN0LXNlbmRlclwiKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiByfSkpLGZ1bmN0aW9uKHQpe3QuQXBwbHlTdG9yZUNyZWRpdFJlcXVlc3RlZD1cIkFQUExZX1NUT1JFX0NSRURJVF9SRVFVRVNURURcIix0LkFwcGx5U3RvcmVDcmVkaXRTdWNjZWVkZWQ9XCJBUFBMWV9TVE9SRV9DUkVESVRfU1VDQ0VFREVEXCIsdC5BcHBseVN0b3JlQ3JlZGl0RmFpbGVkPVwiQVBQTFlfU1RPUkVfQ1JFRElUX0ZBSUxFRFwifShyfHwocj17fSkpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksZnVuY3Rpb24odCl7dC5BdHRhY2hTdWNjZWVkZWQ9XCJIT1NURURfSU5QVVQ6QVRUQUNIX1NVQ0NFRURFRFwiLHQuQXR0YWNoRmFpbGVkPVwiSE9TVEVEX0lOUFVUOkFUVEFDSF9GQUlMRURcIix0LkJpbkNoYW5nZWQ9XCJIT1NURURfSU5QVVQ6QklOX0NIQU5HRURcIix0LkJsdXJyZWQ9XCJIT1NURURfSU5QVVQ6QkxVUlJFRFwiLHQuQ2hhbmdlZD1cIkhPU1RFRF9JTlBVVDpDSEFOR0VEXCIsdC5DYXJkVHlwZUNoYW5nZWQ9XCJIT1NURURfSU5QVVQ6Q0FSRF9UWVBFX0NIQU5HRURcIix0LkVudGVyZWQ9XCJIT1NURURfSU5QVVQ6RU5URVJFRFwiLHQuRm9jdXNlZD1cIkhPU1RFRF9JTlBVVDpGT0NVU0VEXCIsdC5TdWJtaXRTdWNjZWVkZWQ9XCJIT1NURURfSU5QVVQ6U1VCTUlUX1NVQ0NFRURFRFwiLHQuU3VibWl0RmFpbGVkPVwiSE9TVEVEX0lOUFVUOlNVQk1JVF9GQUlMRURcIix0LlZhbGlkYXRlZD1cIkhPU1RFRF9JTlBVVDpWQUxJREFURURcIn0ocnx8KHI9e30pKX0sLCxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1yZXF1aXJlKFwibG9jYWwtc3RvcmFnZS1mYWxsYmFja1wiKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMCksaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzLGV8fFwiSW52YWxpZCBhcmd1bWVudHMgaGF2ZSBiZWVuIHByb3ZpZGVkLlwiKXx8dGhpcztyZXR1cm4gbi5uYW1lPVwiSW52YWxpZEFyZ3VtZW50RXJyb3JcIixuLnR5cGU9XCJpbnZhbGlkX2FyZ3VtZW50XCIsbn1yZXR1cm4gT2JqZWN0KHIuX19leHRlbmRzKShlLHQpLGV9KG4oMjIpLmEpO2UuYT1pfSwsLCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUpe3JldHVybiB0LnR5cGU9PT1lfW4uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiByfSkpfSwsZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiByfSkpLG4uZChlLFwiYlwiLChmdW5jdGlvbigpe3JldHVybiBpfSkpO3ZhciByPVwiUEFZTUVOVF9UWVBFX0hPU1RFRFwiLGk9XCJQQVlNRU5UX1RZUEVfT0ZGTElORVwifSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSk7dmFyIHI9bigxMDcpO2Z1bmN0aW9uIGkodCxlKXt2YXIgbjtyZXR1cm4gT2JqZWN0KHIuYSkodCk/bj10LmlkOmUmJmUubGVuZ3RoJiYobj1lWzBdLmlkKSx7aWQ6bixmaXJzdE5hbWU6dC5maXJzdE5hbWUsbGFzdE5hbWU6dC5sYXN0TmFtZSxjb21wYW55OnQuY29tcGFueSxhZGRyZXNzTGluZTE6dC5hZGRyZXNzMSxhZGRyZXNzTGluZTI6dC5hZGRyZXNzMixjaXR5OnQuY2l0eSxwcm92aW5jZTp0LnN0YXRlT3JQcm92aW5jZSxwcm92aW5jZUNvZGU6dC5zdGF0ZU9yUHJvdmluY2VDb2RlLHBvc3RDb2RlOnQucG9zdGFsQ29kZSxjb3VudHJ5OnQuY291bnRyeSxjb3VudHJ5Q29kZTp0LmNvdW50cnlDb2RlLHBob25lOnQucGhvbmUsY3VzdG9tRmllbGRzOnQuY3VzdG9tRmllbGRzfX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcjtuLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxmdW5jdGlvbih0KXt0LlN1Ym1pdFBheW1lbnRSZXF1ZXN0ZWQ9XCJTVUJNSVRfUEFZTUVOVF9SRVFVRVNURURcIix0LlN1Ym1pdFBheW1lbnRTdWNjZWVkZWQ9XCJTVUJNSVRfUEFZTUVOVF9TVUNDRUVERURcIix0LlN1Ym1pdFBheW1lbnRGYWlsZWQ9XCJTVUJNSVRfUEFZTUVOVF9GQUlMRURcIix0LkluaXRpYWxpemVPZmZzaXRlUGF5bWVudFJlcXVlc3RlZD1cIklOSVRJQUxJWkVfT0ZGU0lURV9QQVlNRU5UX1JFUVVFU1RFRFwiLHQuSW5pdGlhbGl6ZU9mZnNpdGVQYXltZW50U3VjY2VlZGVkPVwiSU5JVElBTElaRV9PRkZTSVRFX1BBWU1FTlRfU1VDQ0VFREVEXCIsdC5Jbml0aWFsaXplT2Zmc2l0ZVBheW1lbnRGYWlsZWQ9XCJJTklUSUFMSVpFX09GRlNJVEVfUEFZTUVOVF9GQUlMRURcIn0ocnx8KHI9e30pKX0sLCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSk7dmFyIHI9bigyKTtmdW5jdGlvbiBpKHQpe3JldHVybiBPYmplY3Qoci51bmlxKSh0KS5qb2luKFwiLFwiKX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDApLGk9big3OSk7dmFyIG89big3Nik7ZnVuY3Rpb24gYSh0LGUsbil7cmV0dXJuIHZvaWQgMD09PW4mJihuPVwiaWRcIiksT2JqZWN0LmtleXModCkucmVkdWNlKChmdW5jdGlvbihhLHMpe3JldHVybiBPYmplY3Qoci5fX3NwcmVhZEFycmF5cykoYSx0W3NdLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuXCJnaWZ0Q2VydGlmaWNhdGVzXCI9PT1zP2Z1bmN0aW9uKHQsZSl7dmFyIG49bmV3IGkuYShlKTtyZXR1cm57aWQ6dC5pZCxpbWFnZVVybDpcIlwiLG5hbWU6dC5uYW1lLGFtb3VudDp0LmFtb3VudCxhbW91bnRBZnRlckRpc2NvdW50OnQuYW1vdW50LGRpc2NvdW50OjAsaW50ZWdlckFtb3VudDpuLnRvSW50ZWdlcih0LmFtb3VudCksaW50ZWdlckFtb3VudEFmdGVyRGlzY291bnQ6bi50b0ludGVnZXIodC5hbW91bnQpLGludGVnZXJVbml0UHJpY2U6bi50b0ludGVnZXIodC5hbW91bnQpLGludGVnZXJVbml0UHJpY2VBZnRlckRpc2NvdW50Om4udG9JbnRlZ2VyKHQuYW1vdW50KSxpbnRlZ2VyRGlzY291bnQ6MCxxdWFudGl0eToxLHNlbmRlcjp0LnNlbmRlcixyZWNpcGllbnQ6dC5yZWNpcGllbnQsdHlwZTpcIkl0ZW1HaWZ0Q2VydGlmaWNhdGVFbnRpdHlcIixhdHRyaWJ1dGVzOltdLHZhcmlhbnRJZDpudWxsfX0odCxlKTpPYmplY3Qoby5hKSh0LGZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlXCJwaHlzaWNhbEl0ZW1zXCI6cmV0dXJuXCJJdGVtUGh5c2ljYWxFbnRpdHlcIjtjYXNlXCJkaWdpdGFsSXRlbXNcIjpyZXR1cm5cIkl0ZW1EaWdpdGFsRW50aXR5XCI7Y2FzZVwiZ2lmdENlcnRpZmljYXRlc1wiOnJldHVyblwiSXRlbUdpZnRDZXJ0aWZpY2F0ZUVudGl0eVwiO2RlZmF1bHQ6cmV0dXJuXCJcIn19KHMpLGUsbil9KSkpfSksW10pfW4uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiBhfSkpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksZnVuY3Rpb24odCl7dC5Jbml0aWFsaXplRmFpbGVkPVwiU1BBTV9QUk9URUNUSU9OX0lOSVRJQUxJWkVfRkFJTEVEXCIsdC5Jbml0aWFsaXplU3VjY2VlZGVkPVwiU1BBTV9QUk9URUNUSU9OX0lOSVRJQUxJWkVfU1VDQ0VFREVEXCIsdC5Jbml0aWFsaXplUmVxdWVzdGVkPVwiU1BBTV9QUk9URUNUSU9OX0lOSVRJQUxJWkVfUkVRVUVTVEVEXCIsdC5WZXJpZnlDaGVja291dFJlcXVlc3RlZD1cIlNQQU1fUFJPVEVDVElPTl9DSEVDS09VVF9WRVJJRllfUkVRVUVTVEVEXCIsdC5WZXJpZnlDaGVja291dFN1Y2NlZWRlZD1cIlNQQU1fUFJPVEVDVElPTl9DSEVDS09VVF9WRVJJRllfU1VDQ0VFREVEXCIsdC5WZXJpZnlDaGVja291dEZhaWxlZD1cIlNQQU1fUFJPVEVDVElPTl9DSEVDS09VVF9WRVJJRllfRkFJTEVEXCIsdC5FeGVjdXRlUmVxdWVzdGVkPVwiU1BBTV9QUk9URUNUSU9OX0VYRUNVVEVfUkVRVUVTVEVEXCIsdC5FeGVjdXRlU3VjY2VlZGVkPVwiU1BBTV9QUk9URUNUSU9OX0VYRUNVVEVfU1VDQ0VFREVEXCIsdC5FeGVjdXRlRmFpbGVkPVwiU1BBTV9QUk9URUNUSU9OX0VYRUNVVEVfRkFJTEVEXCJ9KHJ8fChyPXt9KSl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXJlcXVpcmUoXCJzaGFsbG93ZXF1YWxcIil9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcjtuLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxmdW5jdGlvbih0KXt0LkF0dGFjaFJlcXVlc3RlZD1cIkhPU1RFRF9GSUVMRDpBVFRBQ0hfUkVRVUVTVEVEXCIsdC5TdWJtaXRSZXF1ZXN0ZWQ9XCJIT1NURURfRklFTEQ6U1VCTUlUVEVEX1JFUVVFU1RFRFwiLHQuVmFsaWRhdGVSZXF1ZXN0ZWQ9XCJIT1NURURfRklFTEQ6VkFMSURBVEVfUkVRVUVTVEVEXCJ9KHJ8fChyPXt9KSl9LCwsZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlLG4pe3JldHVybiB0PT09ZXx8KHQmJmUmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZcIm9iamVjdFwiPT10eXBlb2YgZT9BcnJheS5pc0FycmF5KHQpJiZBcnJheS5pc0FycmF5KGUpP2Z1bmN0aW9uKHQsZSxuKXtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgaT0wLG89dC5sZW5ndGg7aTxvO2krKylpZighcih0W2ldLGVbaV0sbikpcmV0dXJuITE7cmV0dXJuITB9KHQsZSxuKTohQXJyYXkuaXNBcnJheSh0KSYmIUFycmF5LmlzQXJyYXkoZSkmJih0IGluc3RhbmNlb2YgRGF0ZSYmZSBpbnN0YW5jZW9mIERhdGU/ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5nZXRUaW1lKCk9PT1lLmdldFRpbWUoKX0odCxlKTohKHQgaW5zdGFuY2VvZiBEYXRlfHxlIGluc3RhbmNlb2YgRGF0ZSkmJih0IGluc3RhbmNlb2YgUmVnRXhwJiZlIGluc3RhbmNlb2YgUmVnRXhwP2Z1bmN0aW9uKHQsZSl7cmV0dXJuIHQudG9TdHJpbmcoKT09PWUudG9TdHJpbmcoKX0odCxlKTohKHQgaW5zdGFuY2VvZiBSZWdFeHB8fGUgaW5zdGFuY2VvZiBSZWdFeHApJiZmdW5jdGlvbih0LGUsbil7dmFyIGk9biYmbi5rZXlGaWx0ZXIsbz1pP09iamVjdC5rZXlzKHQpLmZpbHRlcihpKTpPYmplY3Qua2V5cyh0KSxhPWk/T2JqZWN0LmtleXMoZSkuZmlsdGVyKGkpOk9iamVjdC5rZXlzKGUpO2lmKG8ubGVuZ3RoIT09YS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBzPTAsYz1vLmxlbmd0aDtzPGM7cysrKXt2YXIgdT1vW3NdO2lmKCFlLmhhc093blByb3BlcnR5KHUpKXJldHVybiExO2lmKCFyKHRbdV0sZVt1XSxuKSlyZXR1cm4hMX1yZXR1cm4hMH0odCxlLG4pKSk6dD09PWUpfW4uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiByfSkpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1yZXF1aXJlKFwiQGJpZ2NvbW1lcmNlL2Zvcm0tcG9zdGVyXCIpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSk7dmFyIHI9XCJUaGlzIEFQSSBlbmRwb2ludCBpcyBmb3IgaW50ZXJuYWwgdXNlIG9ubHkgYW5kIG1heSBjaGFuZ2UgaW4gdGhlIGZ1dHVyZVwifSwsLCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSk7dmFyIHI9big3OSk7ZnVuY3Rpb24gaSh0LGUsbixpKXt2b2lkIDA9PT1pJiYoaT1cImlkXCIpO3ZhciBvPW5ldyByLmEobik7cmV0dXJue2lkOnRbaV0saW1hZ2VVcmw6dC5pbWFnZVVybCxhbW91bnQ6dC5leHRlbmRlZExpc3RQcmljZSxhbW91bnRBZnRlckRpc2NvdW50OnQuZXh0ZW5kZWRTYWxlUHJpY2UsZGlzY291bnQ6dC5kaXNjb3VudEFtb3VudCxpbnRlZ2VyQW1vdW50Om8udG9JbnRlZ2VyKHQuZXh0ZW5kZWRMaXN0UHJpY2UpLGludGVnZXJBbW91bnRBZnRlckRpc2NvdW50Om8udG9JbnRlZ2VyKHQuZXh0ZW5kZWRTYWxlUHJpY2UpLGludGVnZXJEaXNjb3VudDpvLnRvSW50ZWdlcih0LmRpc2NvdW50QW1vdW50KSxpbnRlZ2VyVW5pdFByaWNlOm8udG9JbnRlZ2VyKHQubGlzdFByaWNlKSxpbnRlZ2VyVW5pdFByaWNlQWZ0ZXJEaXNjb3VudDpvLnRvSW50ZWdlcih0LnNhbGVQcmljZSksZG93bmxvYWRzUGFnZVVybDp0LmRvd25sb2FkUGFnZVVybCxuYW1lOnQubmFtZSxxdWFudGl0eTp0LnF1YW50aXR5LGJyYW5kOnQuYnJhbmQsc2t1OnQuc2t1LGNhdGVnb3J5TmFtZXM6dC5jYXRlZ29yeU5hbWVzLHZhcmlhbnRJZDp0LnZhcmlhbnRJZCxwcm9kdWN0SWQ6dC5wcm9kdWN0SWQsYXR0cmlidXRlczoodC5vcHRpb25zfHxbXSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm57bmFtZTp0Lm5hbWUsdmFsdWU6dC52YWx1ZX19KSksYWRkZWRCeVByb21vdGlvbjp0LmFkZGVkQnlQcm9tb3Rpb24sdHlwZTplfX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXJlcXVpcmUoXCJyZXNlbGVjdFwiKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlKXtyZXR1cm57ZGVzY3JpcHRpb246dC5kZXNjcmlwdGlvbixtb2R1bGU6dC50eXBlLHByaWNlOnQuY29zdCxpZDp0LmlkLHNlbGVjdGVkOmUsaXNSZWNvbW1lbmRlZDp0LmlzUmVjb21tZW5kZWQsaW1hZ2VVcmw6dC5pbWFnZVVybCx0cmFuc2l0VGltZTp0LnRyYW5zaXRUaW1lfX1uLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9kZWNpbWFsUGxhY2VzPXR9cmV0dXJuIHQucHJvdG90eXBlLnRvSW50ZWdlcj1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5yb3VuZCh0Kk1hdGgucG93KDEwLHRoaXMuX2RlY2ltYWxQbGFjZXMpKX0sdH0oKTtlLmE9cn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiBpfSkpO3ZhciByPW4oNTIpO2Z1bmN0aW9uIGkodCl7aWYoIS9eKGh0dHBzPzopP1xcL1xcLy8udGVzdCh0KSl0aHJvdyBuZXcgci5hKFwiVGhlIHByb3ZpZGVkIFVSTCBtdXN0IGJlIGFic29sdXRlLlwiKTt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtlLmhyZWY9dDt2YXIgbj1lLnBvcnQmJi0xIT09dC5pbmRleE9mKGUuaG9zdG5hbWUrXCI6XCIrZS5wb3J0KT9lLnBvcnQ6XCJcIjtyZXR1cm57aGFzaDplLmhhc2gsaG9zdG5hbWU6ZS5ob3N0bmFtZSxocmVmOmUuaHJlZixvcmlnaW46ZS5wcm90b2NvbCtcIi8vXCIrZS5ob3N0bmFtZSsobj9cIjpcIituOlwiXCIpLHBhdGhuYW1lOmUucGF0aG5hbWUscG9ydDpuLHByb3RvY29sOmUucHJvdG9jb2wsc2VhcmNoOmUuc2VhcmNofX19LCwsLCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSk7dmFyIHI9bigwKSxpPW4oNSk7ZnVuY3Rpb24gbyh0KXtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspZVtuXT1hcmd1bWVudHNbbl07dmFyIG89ZS5wb3AoKTtyZXR1cm4gdC5hcHBseSh2b2lkIDAsT2JqZWN0KHIuX19zcHJlYWRBcnJheXMpKGUsW2Z1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3ZhciBuPW8uYXBwbHkodm9pZCAwLHQpO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG4/T2JqZWN0KGkubWVtb2l6ZSkobik6bn1dKSl9fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiByfSkpLGZ1bmN0aW9uKHQpe3QuQ2xlYXJFcnJvcj1cIkNMRUFSX0VSUk9SXCJ9KHJ8fChyPXt9KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDApLGk9bigxKSxvPW4oMyksYT1uKDkyKSxzPW4oMTgpLGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3JlcXVlc3RTZW5kZXI9dH1yZXR1cm4gdC5wcm90b3R5cGUubG9hZFBheW1lbnRNZXRob2RzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIG8uT2JzZXJ2YWJsZS5jcmVhdGUoKGZ1bmN0aW9uKG4pe24ubmV4dChPYmplY3QoaS5jcmVhdGVBY3Rpb24pKHMuYS5Mb2FkUGF5bWVudE1ldGhvZHNSZXF1ZXN0ZWQpKSxlLl9yZXF1ZXN0U2VuZGVyLmxvYWRQYXltZW50TWV0aG9kcyh0KS50aGVuKChmdW5jdGlvbih0KXt2YXIgZT17ZGV2aWNlU2Vzc2lvbklkOnQuaGVhZGVyc1tcIngtZGV2aWNlLXNlc3Npb24taWRcIl0sc2Vzc2lvbkhhc2g6dC5oZWFkZXJzW1wieC1zZXNzaW9uLWhhc2hcIl19O24ubmV4dChPYmplY3QoaS5jcmVhdGVBY3Rpb24pKHMuYS5Mb2FkUGF5bWVudE1ldGhvZHNTdWNjZWVkZWQsdC5ib2R5LGUpKSxuLmNvbXBsZXRlKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe24uZXJyb3IoT2JqZWN0KGkuY3JlYXRlRXJyb3JBY3Rpb24pKHMuYS5Mb2FkUGF5bWVudE1ldGhvZHNGYWlsZWQsdCkpfSkpfSkpfSx0LnByb3RvdHlwZS5sb2FkUGF5bWVudE1ldGhvZD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIG8uT2JzZXJ2YWJsZS5jcmVhdGUoKGZ1bmN0aW9uKHIpe3IubmV4dChPYmplY3QoaS5jcmVhdGVBY3Rpb24pKHMuYS5Mb2FkUGF5bWVudE1ldGhvZFJlcXVlc3RlZCx2b2lkIDAse21ldGhvZElkOnR9KSksbi5fcmVxdWVzdFNlbmRlci5sb2FkUGF5bWVudE1ldGhvZCh0LGUpLnRoZW4oKGZ1bmN0aW9uKGUpe3IubmV4dChPYmplY3QoaS5jcmVhdGVBY3Rpb24pKHMuYS5Mb2FkUGF5bWVudE1ldGhvZFN1Y2NlZWRlZCxlLmJvZHkse21ldGhvZElkOnR9KSksci5jb21wbGV0ZSgpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtyLmVycm9yKE9iamVjdChpLmNyZWF0ZUVycm9yQWN0aW9uKShzLmEuTG9hZFBheW1lbnRNZXRob2RGYWlsZWQsZSx7bWV0aG9kSWQ6dH0pKX0pKX0pKX0sT2JqZWN0KHIuX19kZWNvcmF0ZSkoW2EuYV0sdC5wcm90b3R5cGUsXCJsb2FkUGF5bWVudE1ldGhvZFwiLG51bGwpLHR9KCk7ZS5hPWN9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDM5KSxpPW4oNzIpLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3JlcXVlc3RTZW5kZXI9dH1yZXR1cm4gdC5wcm90b3R5cGUubG9hZFBheW1lbnRNZXRob2RzPWZ1bmN0aW9uKHQpe3ZhciBlPSh2b2lkIDA9PT10P3t9OnQpLnRpbWVvdXQ7cmV0dXJuIHRoaXMuX3JlcXVlc3RTZW5kZXIuZ2V0KFwiL2FwaS9zdG9yZWZyb250L3BheW1lbnRzXCIse3RpbWVvdXQ6ZSxoZWFkZXJzOntBY2NlcHQ6ci5hLkpzb25WMSxcIlgtQVBJLUlOVEVSTkFMXCI6aS5hfX0pfSx0LnByb3RvdHlwZS5sb2FkUGF5bWVudE1ldGhvZD1mdW5jdGlvbih0LGUpe3ZhciBuPSh2b2lkIDA9PT1lP3t9OmUpLnRpbWVvdXQsbz1cIi9hcGkvc3RvcmVmcm9udC9wYXltZW50cy9cIit0O3JldHVybiB0aGlzLl9yZXF1ZXN0U2VuZGVyLmdldChvLHt0aW1lb3V0Om4saGVhZGVyczp7QWNjZXB0OnIuYS5Kc29uVjEsXCJYLUFQSS1JTlRFUk5BTFwiOmkuYX19KX0sdH0oKTtlLmE9b30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuYT1bXCJjYXJ0LmxpbmVJdGVtcy5waHlzaWNhbEl0ZW1zLm9wdGlvbnNcIixcImNhcnQubGluZUl0ZW1zLmRpZ2l0YWxJdGVtcy5vcHRpb25zXCIsXCJjdXN0b21lclwiLFwiY3VzdG9tZXIuY3VzdG9tZXJHcm91cFwiLFwicGF5bWVudHNcIixcInByb21vdGlvbnMuYmFubmVyc1wiXX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiBvfSkpO3ZhciByPW4oMSksaT1uKDMpO2Z1bmN0aW9uIG8odCxlLG4pe3JldHVybihvPWUpJiZvLnR5cGUmJm8uZXJyb3I/T2JqZWN0KGkuY29uY2F0KShPYmplY3QoaS5vZikoZSksT2JqZWN0KGkudGhyb3dFcnJvcikoT2JqZWN0KHIuY3JlYXRlRXJyb3JBY3Rpb24pKHQsZS5wYXlsb2FkLG4pKSk6T2JqZWN0KGkudGhyb3dFcnJvcikoT2JqZWN0KHIuY3JlYXRlRXJyb3JBY3Rpb24pKHQsZSxuKSk7dmFyIG99fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigwKSxpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMsZXx8XCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBjbGllbnQgbGlicmFyeSBvZiBhIHBheW1lbnQgbWV0aG9kIGhhcyB0aHJvd24gYW4gdW5leHBlY3RlZCBlcnJvci5cIil8fHRoaXM7cmV0dXJuIG4ubmFtZT1cIlBheW1lbnRNZXRob2RGYWlsZWRFcnJvclwiLG4udHlwZT1cInBheW1lbnRfbWV0aG9kX2NsaWVudF9pbnZhbGlkXCIsbn1yZXR1cm4gT2JqZWN0KHIuX19leHRlbmRzKShlLHQpLGV9KG4oMjIpLmEpO2UuYT1pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigwKSxpPW4oNSksbz1uKDMpLGE9big4KTtmdW5jdGlvbiBzKHQpe3JldHVybiBPYmplY3QoaS5tZW1vaXplKSgoZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspZVtuXT1hcmd1bWVudHNbbl07dmFyIHM9dC5jYWxsLmFwcGx5KHQsT2JqZWN0KHIuX19zcHJlYWRBcnJheXMpKFt0aGlzXSxlKSk7cmV0dXJuIHMgaW5zdGFuY2VvZiBvLk9ic2VydmFibGU/T2JqZWN0KG8uZnJvbSkocykucGlwZShPYmplY3QoYS5zaGFyZVJlcGxheSkoKSk6XCJmdW5jdGlvblwiPT10eXBlb2Ygcz9PYmplY3QoaS5tZW1vaXplKSgoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChvLmZyb20pKHModCkpLnBpcGUoT2JqZWN0KGEuc2hhcmVSZXBsYXkpKCkpfSkpOnN9KSl9ZnVuY3Rpb24gYyh0KXtyZXR1cm4gdCYmXCJib29sZWFuXCI9PXR5cGVvZiB0LnVzZUNhY2hlfWZ1bmN0aW9uIHUodCxlLG4pe3ZhciBpPW5ldyBXZWFrTWFwO2Z1bmN0aW9uIG8odCl7dmFyIG49dGhpcztyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIG8sYT1bXSx1PTA7dTxhcmd1bWVudHMubGVuZ3RoO3UrKylhW3VdPWFyZ3VtZW50c1t1XTt2YXIgZD1hW2EubGVuZ3RoLTFdLHA9KGMoZCk/ZDp7dXNlQ2FjaGU6ITF9KS51c2VDYWNoZTtpZighcClyZXR1cm4gdC5jYWxsLmFwcGx5KHQsT2JqZWN0KHIuX19zcHJlYWRBcnJheXMpKFtuXSxhKSk7dmFyIGg9aS5nZXQobil8fHt9O3JldHVybiBpLmdldChuKXx8aS5zZXQobixoKSxoW2VdfHwoaFtlXT1zKHQpKSwobz1oW2VdKS5jYWxsLmFwcGx5KG8sT2JqZWN0KHIuX19zcHJlYWRBcnJheXMpKFtuXSxhKSl9fXJldHVybntnZXQ6ZnVuY3Rpb24oKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBuLnZhbHVlKXRocm93IG5ldyBFcnJvcihcIkRlY29yYXRvciBzaG91bGQgYmUgdXNlZCBpbiBmdW5jdGlvbnNcIik7dmFyIHQ9by5jYWxsKHRoaXMsbi52YWx1ZSk7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLGUsT2JqZWN0KHIuX19hc3NpZ24pKE9iamVjdChyLl9fYXNzaWduKSh7fSxuKSx7dmFsdWU6dH0pKSx0fX19bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSl9LCwsLCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigwKTtmdW5jdGlvbiBpKHQsZSxuKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBuLnZhbHVlKXJldHVybiBuO3ZhciBpPW4udmFsdWU7cmV0dXJue2dldDpmdW5jdGlvbigpe3ZhciB0PWkuYmluZCh0aGlzKTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsZSxPYmplY3Qoci5fX2Fzc2lnbikoT2JqZWN0KHIuX19hc3NpZ24pKHt9LG4pLHt2YWx1ZTp0fSkpLHR9LHNldDpmdW5jdGlvbih0KXtpPXR9fX1lLmE9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBlJiZuP2kodCxlLG4pOmZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBPYmplY3Qoci5fX2V4dGVuZHMpKGUsdCksZX0odCk7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQucHJvdG90eXBlKS5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQucHJvdG90eXBlLG4pO3ImJlwiY29uc3RydWN0b3JcIiE9PW4mJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxuLGkodC5wcm90b3R5cGUsbixyKSl9KSksZX0odCl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSk7dmFyIHI9big1OSk7ZnVuY3Rpb24gaSh0LGUpe3ZhciBuPXQuZmlyc3ROYW1lfHxlLmZpcnN0TmFtZXx8XCJcIixpPXQubGFzdE5hbWV8fGUubGFzdE5hbWV8fFwiXCI7cmV0dXJue2FkZHJlc3NlczoodC5hZGRyZXNzZXN8fFtdKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Qoci5hKSh0KX0pKSxjdXN0b21lcklkOnQuaWQsaXNHdWVzdDp0LmlzR3Vlc3Qsc3RvcmVDcmVkaXQ6dC5zdG9yZUNyZWRpdCxlbWFpbDp0LmVtYWlsfHxlLmVtYWlsfHxcIlwiLGZpcnN0TmFtZTpuLGxhc3ROYW1lOmksbmFtZTp0LmZ1bGxOYW1lfHxbbixpXS5qb2luKFwiIFwiKSxjdXN0b21lckdyb3VwTmFtZTp0LmN1c3RvbWVyR3JvdXAmJnQuY3VzdG9tZXJHcm91cC5uYW1lfX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtuLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gY30pKTt2YXIgcj1uKDApLGk9bigyKSxvPW4oNjQpLGE9big3OSkscz1uKDExMCk7big1OCk7ZnVuY3Rpb24gYyh0LGUpe3ZvaWQgMD09PWUmJihlPXt9KTt2YXIgbixyLGM9dC5jdXJyZW5jeS5kZWNpbWFsUGxhY2VzLHU9bmV3IGEuYShjKTtyZXR1cm57aWQ6dC5vcmRlcklkLGl0ZW1zOk9iamVjdChvLmEpKHQubGluZUl0ZW1zLHQuY3VycmVuY3kuZGVjaW1hbFBsYWNlcyxcInByb2R1Y3RJZFwiKSxvcmRlcklkOnQub3JkZXJJZCxjdXJyZW5jeTp0LmN1cnJlbmN5LmNvZGUsY3VzdG9tZXJDYW5CZUNyZWF0ZWQ6dC5jdXN0b21lckNhbkJlQ3JlYXRlZCxwYXltZW50OnAodC5wYXltZW50cyxlLnBheW1lbnQpLHN1YnRvdGFsOnthbW91bnQ6dC5iYXNlQW1vdW50LGludGVnZXJBbW91bnQ6dS50b0ludGVnZXIodC5iYXNlQW1vdW50KX0sY291cG9uOntkaXNjb3VudGVkQW1vdW50Ok9iamVjdChpLnJlZHVjZSkodC5jb3Vwb25zLChmdW5jdGlvbih0LGUpe3JldHVybiB0K2UuZGlzY291bnRlZEFtb3VudH0pLDApLGNvdXBvbnM6dC5jb3Vwb25zLm1hcChzLmEpfSxkaXNjb3VudDp7YW1vdW50OnQuZGlzY291bnRBbW91bnQsaW50ZWdlckFtb3VudDp1LnRvSW50ZWdlcih0LmRpc2NvdW50QW1vdW50KX0sdG9rZW46ZS5vcmRlclRva2VuLGNhbGxiYWNrVXJsOmUuY2FsbGJhY2tVcmwsZGlzY291bnROb3RpZmljYXRpb25zOltdLGdpZnRDZXJ0aWZpY2F0ZToobj10LnBheW1lbnRzLHI9T2JqZWN0KGkuZmlsdGVyKShuLHtwcm92aWRlcklkOlwiZ2lmdGNlcnRpZmljYXRlXCJ9KSx7dG90YWxEaXNjb3VudGVkQW1vdW50Ok9iamVjdChpLnJlZHVjZSkociwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5hbW91bnQrdH0pLDApLGFwcGxpZWRHaWZ0Q2VydGlmaWNhdGVzOk9iamVjdChpLmtleUJ5KShyLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJue2NvZGU6dC5kZXRhaWwuY29kZSxkaXNjb3VudGVkQW1vdW50OnQuYW1vdW50LHJlbWFpbmluZ0JhbGFuY2U6dC5kZXRhaWwucmVtYWluaW5nLGdpZnRDZXJ0aWZpY2F0ZTp7YmFsYW5jZTp0LmFtb3VudCt0LmRldGFpbC5yZW1haW5pbmcsY29kZTp0LmRldGFpbC5jb2RlLHB1cmNoYXNlRGF0ZTpcIlwifX19KSksXCJjb2RlXCIpfSksc29jaWFsRGF0YTpsKHQpLHN0YXR1czp0LnN0YXR1cyxoYXNEaWdpdGFsSXRlbXM6dC5oYXNEaWdpdGFsSXRlbXMsaXNEb3dubG9hZGFibGU6dC5pc0Rvd25sb2FkYWJsZSxpc0NvbXBsZXRlOnQuaXNDb21wbGV0ZSxzaGlwcGluZzp7YW1vdW50OnQuc2hpcHBpbmdDb3N0VG90YWwsaW50ZWdlckFtb3VudDp1LnRvSW50ZWdlcih0LnNoaXBwaW5nQ29zdFRvdGFsKSxhbW91bnRCZWZvcmVEaXNjb3VudDp0LnNoaXBwaW5nQ29zdEJlZm9yZURpc2NvdW50LGludGVnZXJBbW91bnRCZWZvcmVEaXNjb3VudDp1LnRvSW50ZWdlcih0LnNoaXBwaW5nQ29zdEJlZm9yZURpc2NvdW50KX0sc3RvcmVDcmVkaXQ6e2Ftb3VudDpkKHQucGF5bWVudHMpfSx0YXhlczp0LnRheGVzLHRheFRvdGFsOnthbW91bnQ6dC50YXhUb3RhbCxpbnRlZ2VyQW1vdW50OnUudG9JbnRlZ2VyKHQudGF4VG90YWwpfSxoYW5kbGluZzp7YW1vdW50OnQuaGFuZGxpbmdDb3N0VG90YWwsaW50ZWdlckFtb3VudDp1LnRvSW50ZWdlcih0LmhhbmRsaW5nQ29zdFRvdGFsKX0sZ3JhbmRUb3RhbDp7YW1vdW50OnQub3JkZXJBbW91bnQsaW50ZWdlckFtb3VudDp0Lm9yZGVyQW1vdW50QXNJbnRlZ2VyfX19ZnVuY3Rpb24gdSh0KXtyZXR1cm5cIlBBWU1FTlRfU1RBVFVTX1wiK3R9ZnVuY3Rpb24gZCh0KXt2YXIgZT1PYmplY3QoaS5maW5kKSh0LHtwcm92aWRlcklkOlwic3RvcmVjcmVkaXRcIn0pO3JldHVybiBlP2UuYW1vdW50OjB9ZnVuY3Rpb24gcCh0LGUpe3ZvaWQgMD09PWUmJihlPXt9KTt2YXIgbj1PYmplY3QoaS5maW5kKSh0LGgpO3JldHVybiBuP3tpZDpuLnByb3ZpZGVySWQsc3RhdHVzOnUobi5kZXRhaWwuc3RlcCksaGVscFRleHQ6bi5kZXRhaWwuaW5zdHJ1Y3Rpb25zLHJldHVyblVybDplLnJldHVyblVybH06e319ZnVuY3Rpb24gaCh0KXtyZXR1cm5cImdpZnRjZXJ0aWZpY2F0ZVwiIT09dC5wcm92aWRlcklkJiZcInN0b3JlY3JlZGl0XCIhPT10LnByb3ZpZGVySWR9ZnVuY3Rpb24gbCh0KXt2YXIgZT17fTtyZXR1cm4gT2JqZWN0KHIuX19zcHJlYWRBcnJheXMpKHQubGluZUl0ZW1zLnBoeXNpY2FsSXRlbXMsdC5saW5lSXRlbXMuZGlnaXRhbEl0ZW1zKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgbjtlW3QuaWRdPShuPXQsW1wiZmJcIixcInR3XCIsXCJncFwiXS5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7dmFyIHI9bi5zb2NpYWxNZWRpYSYmT2JqZWN0KGkuZmluZCkobi5zb2NpYWxNZWRpYSwoZnVuY3Rpb24odCl7cmV0dXJuIHQuY29kZT09PWV9KSk7cmV0dXJuIHI/KHRbZV09e25hbWU6bi5uYW1lLGRlc2NyaXB0aW9uOm4ubmFtZSxpbWFnZTpuLmltYWdlVXJsLHVybDpyLmxpbmssc2hhcmVUZXh0OnIudGV4dCxzaGFyaW5nTGluazpyLmxpbmssY2hhbm5lbE5hbWU6ci5jaGFubmVsLGNoYW5uZWxDb2RlOnIuY29kZX0sdCk6dH0pLHt9KSl9KSksZX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDIpLGk9big3OSksbz1uKDExMCksYT1uKDE0Myk7dmFyIHM9big2NCk7ZnVuY3Rpb24gYyh0KXt2YXIgZSxuLGM9dC5jYXJ0LmN1cnJlbmN5LmRlY2ltYWxQbGFjZXMsdT1uZXcgaS5hKGMpO3JldHVybntpZDp0LmNhcnQuaWQsaXRlbXM6T2JqZWN0KHMuYSkodC5jYXJ0LmxpbmVJdGVtcyxjKSxjdXJyZW5jeTp0LmNhcnQuY3VycmVuY3kuY29kZSxjb3Vwb246e2Rpc2NvdW50ZWRBbW91bnQ6T2JqZWN0KHIucmVkdWNlKSh0LmNhcnQuY291cG9ucywoZnVuY3Rpb24odCxlKXtyZXR1cm4gdCtlLmRpc2NvdW50ZWRBbW91bnR9KSwwKSxjb3Vwb25zOnQuY2FydC5jb3Vwb25zLm1hcChvLmEpfSxkaXNjb3VudDp7YW1vdW50OnQuY2FydC5kaXNjb3VudEFtb3VudCxpbnRlZ2VyQW1vdW50OnUudG9JbnRlZ2VyKHQuY2FydC5kaXNjb3VudEFtb3VudCl9LGRpc2NvdW50Tm90aWZpY2F0aW9uczooZT10LnByb21vdGlvbnMsbj1bXSwoZXx8W10pLmZvckVhY2goKGZ1bmN0aW9uKHQpeyh0LmJhbm5lcnN8fFtdKS5mb3JFYWNoKChmdW5jdGlvbih0KXtuLnB1c2goe3BsYWNlaG9sZGVyczpbXSxkaXNjb3VudFR5cGU6bnVsbCxtZXNzYWdlOlwiXCIsbWVzc2FnZUh0bWw6dC50ZXh0fSl9KSl9KSksbiksZ2lmdENlcnRpZmljYXRlOnt0b3RhbERpc2NvdW50ZWRBbW91bnQ6T2JqZWN0KHIucmVkdWNlKSh0LmdpZnRDZXJ0aWZpY2F0ZXMsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQrZS51c2VkfSksMCksYXBwbGllZEdpZnRDZXJ0aWZpY2F0ZXM6T2JqZWN0KHIua2V5QnkpKHQuZ2lmdENlcnRpZmljYXRlcy5tYXAoYS5hKSxcImNvZGVcIil9LHNoaXBwaW5nOnthbW91bnQ6dC5zaGlwcGluZ0Nvc3RUb3RhbCxpbnRlZ2VyQW1vdW50OnUudG9JbnRlZ2VyKHQuc2hpcHBpbmdDb3N0VG90YWwpLGFtb3VudEJlZm9yZURpc2NvdW50OnQuc2hpcHBpbmdDb3N0QmVmb3JlRGlzY291bnQsaW50ZWdlckFtb3VudEJlZm9yZURpc2NvdW50OnUudG9JbnRlZ2VyKHQuc2hpcHBpbmdDb3N0QmVmb3JlRGlzY291bnQpLHJlcXVpcmVkOk9iamVjdChyLnNvbWUpKHQuY2FydC5saW5lSXRlbXMucGh5c2ljYWxJdGVtcywoZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNTaGlwcGluZ1JlcXVpcmVkfSkpfSxzdWJ0b3RhbDp7YW1vdW50OnQuc3VidG90YWwsaW50ZWdlckFtb3VudDp1LnRvSW50ZWdlcih0LnN1YnRvdGFsKX0sc3RvcmVDcmVkaXQ6e2Ftb3VudDp0LmN1c3RvbWVyP3QuY3VzdG9tZXIuc3RvcmVDcmVkaXQ6MH0sdGF4U3VidG90YWw6e2Ftb3VudDp0LnRheFRvdGFsLGludGVnZXJBbW91bnQ6dS50b0ludGVnZXIodC50YXhUb3RhbCl9LHRheGVzOnQudGF4ZXMsdGF4VG90YWw6e2Ftb3VudDp0LnRheFRvdGFsLGludGVnZXJBbW91bnQ6dS50b0ludGVnZXIodC50YXhUb3RhbCl9LGhhbmRsaW5nOnthbW91bnQ6dC5oYW5kbGluZ0Nvc3RUb3RhbCxpbnRlZ2VyQW1vdW50OnUudG9JbnRlZ2VyKHQuaGFuZGxpbmdDb3N0VG90YWwpfSxncmFuZFRvdGFsOnthbW91bnQ6dC5ncmFuZFRvdGFsLGludGVnZXJBbW91bnQ6dS50b0ludGVnZXIodC5ncmFuZFRvdGFsKX19fW4uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiBjfSkpfSwsZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9cmVxdWlyZShcIkBiaWdjb21tZXJjZS9iaWdwYXktY2xpZW50XCIpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHIsaSxvLGEscztuLmQoZSxcImNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxuLmQoZSxcImJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKSxuLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKSxmdW5jdGlvbih0KXt0LmRlPVwiZXVcIix0LmpwPVwiZmVcIix0LnVrPVwiZXVcIix0LnVzPVwibmFcIn0ocnx8KHI9e30pKSxmdW5jdGlvbih0KXt0LmVuX1VTPVwiZW5fVVNcIix0LmVuX0dCPVwiZW5fR0JcIix0LmRlX0RFPVwiZGVfREVcIix0LmZyX0ZSPVwiZnJfRlJcIix0Lml0X0lUPVwiaXRfSVRcIix0LmVzX0VTPVwiZXNfRVNcIix0LmphX0pQPVwiamFfSlBcIn0oaXx8KGk9e30pKSxmdW5jdGlvbih0KXt0LkhvbWU9XCJIb21lXCIsdC5Qcm9kdWN0PVwiUHJvZHVjdFwiLHQuQ2FydD1cIkNhcnRcIix0LkNoZWNrb3V0PVwiQ2hlY2tvdXRcIix0Lk90aGVyPVwiT3RoZXJcIn0ob3x8KG89e30pKSxmdW5jdGlvbih0KXt0LlVTRD1cIlVTRFwiLHQuRVVSPVwiRVVSXCIsdC5HQlA9XCJHQlBcIix0LkpQWT1cIkpQWVwifShhfHwoYT17fSkpLGZ1bmN0aW9uKHQpe3QuUGF5QW5kU2hpcD1cIlBheUFuZFNoaXBcIix0LlBheU9ubHk9XCJQYXlPbmx5XCJ9KHN8fChzPXt9KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDApLGk9big0NSksbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt2b2lkIDA9PT1lJiYoZT13aW5kb3cpLHRoaXMuX3NjcmlwdExvYWRlcj10LHRoaXMuX3dpbmRvdz1lfXJldHVybiB0LnByb3RvdHlwZS5sb2FkQ2xpZW50PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5fc2NyaXB0TG9hZGVyLmxvYWRTY3JpcHQoXCIvL2pzLmJyYWludHJlZWdhdGV3YXkuY29tL3dlYi8zLjU5LjAvanMvY2xpZW50Lm1pbi5qc1wiKS50aGVuKChmdW5jdGlvbigpe2lmKCF0Ll93aW5kb3cuYnJhaW50cmVlfHwhdC5fd2luZG93LmJyYWludHJlZS5jbGllbnQpdGhyb3cgbmV3IGkuYTtyZXR1cm4gdC5fd2luZG93LmJyYWludHJlZS5jbGllbnR9KSl9LHQucHJvdG90eXBlLmxvYWQzRFM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLl9zY3JpcHRMb2FkZXIubG9hZFNjcmlwdChcIi8vanMuYnJhaW50cmVlZ2F0ZXdheS5jb20vd2ViLzMuNTkuMC9qcy90aHJlZS1kLXNlY3VyZS5taW4uanNcIikudGhlbigoZnVuY3Rpb24oKXtpZighdC5fd2luZG93LmJyYWludHJlZXx8IXQuX3dpbmRvdy5icmFpbnRyZWUudGhyZWVEU2VjdXJlKXRocm93IG5ldyBpLmE7cmV0dXJuIHQuX3dpbmRvdy5icmFpbnRyZWUudGhyZWVEU2VjdXJlfSkpfSx0LnByb3RvdHlwZS5sb2FkRGF0YUNvbGxlY3Rvcj1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuX3NjcmlwdExvYWRlci5sb2FkU2NyaXB0KFwiLy9qcy5icmFpbnRyZWVnYXRld2F5LmNvbS93ZWIvMy41OS4wL2pzL2RhdGEtY29sbGVjdG9yLm1pbi5qc1wiKS50aGVuKChmdW5jdGlvbigpe2lmKCF0Ll93aW5kb3cuYnJhaW50cmVlfHwhdC5fd2luZG93LmJyYWludHJlZS5kYXRhQ29sbGVjdG9yKXRocm93IG5ldyBpLmE7cmV0dXJuIHQuX3dpbmRvdy5icmFpbnRyZWUuZGF0YUNvbGxlY3Rvcn0pKX0sdC5wcm90b3R5cGUubG9hZFBheXBhbD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuX3NjcmlwdExvYWRlci5sb2FkU2NyaXB0KFwiLy9qcy5icmFpbnRyZWVnYXRld2F5LmNvbS93ZWIvMy41OS4wL2pzL3BheXBhbC5taW4uanNcIikudGhlbigoZnVuY3Rpb24oKXtpZighdC5fd2luZG93LmJyYWludHJlZXx8IXQuX3dpbmRvdy5icmFpbnRyZWUucGF5cGFsKXRocm93IG5ldyBpLmE7cmV0dXJuIHQuX3dpbmRvdy5icmFpbnRyZWUucGF5cGFsfSkpfSx0LnByb3RvdHlwZS5sb2FkUGF5cGFsQ2hlY2tvdXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLl9zY3JpcHRMb2FkZXIubG9hZFNjcmlwdChcIi8vanMuYnJhaW50cmVlZ2F0ZXdheS5jb20vd2ViLzMuNTkuMC9qcy9wYXlwYWwtY2hlY2tvdXQubWluLmpzXCIpLnRoZW4oKGZ1bmN0aW9uKCl7aWYoIXQuX3dpbmRvdy5icmFpbnRyZWV8fCF0Ll93aW5kb3cuYnJhaW50cmVlLnBheXBhbENoZWNrb3V0KXRocm93IG5ldyBpLmE7cmV0dXJuIHQuX3dpbmRvdy5icmFpbnRyZWUucGF5cGFsQ2hlY2tvdXR9KSl9LHQucHJvdG90eXBlLmxvYWRWaXNhQ2hlY2tvdXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLl9zY3JpcHRMb2FkZXIubG9hZFNjcmlwdChcIi8vanMuYnJhaW50cmVlZ2F0ZXdheS5jb20vd2ViLzMuNTkuMC9qcy92aXNhLWNoZWNrb3V0Lm1pbi5qc1wiKS50aGVuKChmdW5jdGlvbigpe2lmKCF0Ll93aW5kb3cuYnJhaW50cmVlfHwhdC5fd2luZG93LmJyYWludHJlZS52aXNhQ2hlY2tvdXQpdGhyb3cgbmV3IGkuYTtyZXR1cm4gdC5fd2luZG93LmJyYWludHJlZS52aXNhQ2hlY2tvdXR9KSl9LHQucHJvdG90eXBlLmxvYWRHb29nbGVQYXltZW50PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5fc2NyaXB0TG9hZGVyLmxvYWRTY3JpcHQoXCIvL2pzLmJyYWludHJlZWdhdGV3YXkuY29tL3dlYi8zLjU5LjAvanMvZ29vZ2xlLXBheW1lbnQubWluLmpzXCIpLnRoZW4oKGZ1bmN0aW9uKCl7aWYoIXQuX3dpbmRvdy5icmFpbnRyZWV8fCF0Ll93aW5kb3cuYnJhaW50cmVlLmdvb2dsZVBheW1lbnQpdGhyb3cgbmV3IGkuYTtyZXR1cm4gdC5fd2luZG93LmJyYWludHJlZS5nb29nbGVQYXltZW50fSkpfSx0LnByb3RvdHlwZS5sb2FkSG9zdGVkRmllbGRzPWZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChyLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBPYmplY3Qoci5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLl9zY3JpcHRMb2FkZXIubG9hZFNjcmlwdChcIi8vanMuYnJhaW50cmVlZ2F0ZXdheS5jb20vd2ViLzMuNTkuMC9qcy9ob3N0ZWQtZmllbGRzLm1pbi5qc1wiKV07Y2FzZSAxOmlmKHQuc2VudCgpLCF0aGlzLl93aW5kb3cuYnJhaW50cmVlfHwhdGhpcy5fd2luZG93LmJyYWludHJlZS5ob3N0ZWRGaWVsZHMpdGhyb3cgbmV3IGkuYTtyZXR1cm5bMix0aGlzLl93aW5kb3cuYnJhaW50cmVlLmhvc3RlZEZpZWxkc119fSkpfSkpfSx0fSgpO2UuYT1vfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigwKSxpPW4oMTExKSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9icmFpbnRyZWVTY3JpcHRMb2FkZXI9dCx0aGlzLl9kYXRhQ29sbGVjdG9ycz17fX1yZXR1cm4gdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbih0KXt0aGlzLl9jbGllbnRUb2tlbj10fSx0LnByb3RvdHlwZS5nZXRDbGllbnQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKCF0aGlzLl9jbGllbnRUb2tlbil0aHJvdyBuZXcgaS5iKGkuYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO3JldHVybiB0aGlzLl9jbGllbnR8fCh0aGlzLl9jbGllbnQ9dGhpcy5fYnJhaW50cmVlU2NyaXB0TG9hZGVyLmxvYWRDbGllbnQoKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gZS5jcmVhdGUoe2F1dGhvcml6YXRpb246dC5fY2xpZW50VG9rZW59KX0pKSksdGhpcy5fY2xpZW50fSx0LnByb3RvdHlwZS5nZXRQYXlwYWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGF5cGFsfHwodGhpcy5fcGF5cGFsPVByb21pc2UuYWxsKFt0aGlzLmdldENsaWVudCgpLHRoaXMuX2JyYWludHJlZVNjcmlwdExvYWRlci5sb2FkUGF5cGFsKCldKS50aGVuKChmdW5jdGlvbih0KXt2YXIgZT10WzBdO3JldHVybiB0WzFdLmNyZWF0ZSh7Y2xpZW50OmV9KX0pKSksdGhpcy5fcGF5cGFsfSx0LnByb3RvdHlwZS5nZXRQYXlwYWxDaGVja291dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXlwYWxDaGVja291dHx8KHRoaXMuX3BheXBhbENoZWNrb3V0PVByb21pc2UuYWxsKFt0aGlzLmdldENsaWVudCgpLHRoaXMuX2JyYWludHJlZVNjcmlwdExvYWRlci5sb2FkUGF5cGFsQ2hlY2tvdXQoKV0pLnRoZW4oKGZ1bmN0aW9uKHQpe3ZhciBlPXRbMF07cmV0dXJuIHRbMV0uY3JlYXRlKHtjbGllbnQ6ZX0pfSkpKSx0aGlzLl9wYXlwYWxDaGVja291dH0sdC5wcm90b3R5cGUuZ2V0M0RTPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXzNkc3x8KHRoaXMuXzNkcz1Qcm9taXNlLmFsbChbdGhpcy5nZXRDbGllbnQoKSx0aGlzLl9icmFpbnRyZWVTY3JpcHRMb2FkZXIubG9hZDNEUygpXSkudGhlbigoZnVuY3Rpb24odCl7dmFyIGU9dFswXTtyZXR1cm4gdFsxXS5jcmVhdGUoe2NsaWVudDplLHZlcnNpb246Mn0pfSkpKSx0aGlzLl8zZHN9LHQucHJvdG90eXBlLmdldERhdGFDb2xsZWN0b3I9ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5wYXlwYWw/XCJwYXlwYWxcIjpcImRlZmF1bHRcIixuPXRoaXMuX2RhdGFDb2xsZWN0b3JzW2VdO3JldHVybiBufHwobj1Qcm9taXNlLmFsbChbdGhpcy5nZXRDbGllbnQoKSx0aGlzLl9icmFpbnRyZWVTY3JpcHRMb2FkZXIubG9hZERhdGFDb2xsZWN0b3IoKV0pLnRoZW4oKGZ1bmN0aW9uKGUpe3ZhciBuPWVbMF07cmV0dXJuIGVbMV0uY3JlYXRlKE9iamVjdChyLl9fYXNzaWduKSh7Y2xpZW50Om4sa291bnQ6ITB9LHQpKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7aWYodCYmXCJEQVRBX0NPTExFQ1RPUl9LT1VOVF9OT1RfRU5BQkxFRFwiPT09dC5jb2RlKXJldHVybntkZXZpY2VEYXRhOnZvaWQgMCx0ZWFyZG93bjpmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUoKX19O3Rocm93IHR9KSksdGhpcy5fZGF0YUNvbGxlY3RvcnNbZV09biksbn0sdC5wcm90b3R5cGUuZ2V0VmlzYUNoZWNrb3V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Zpc2FDaGVja291dHx8KHRoaXMuX3Zpc2FDaGVja291dD1Qcm9taXNlLmFsbChbdGhpcy5nZXRDbGllbnQoKSx0aGlzLl9icmFpbnRyZWVTY3JpcHRMb2FkZXIubG9hZFZpc2FDaGVja291dCgpXSkudGhlbigoZnVuY3Rpb24odCl7dmFyIGU9dFswXTtyZXR1cm4gdFsxXS5jcmVhdGUoe2NsaWVudDplfSl9KSkpLHRoaXMuX3Zpc2FDaGVja291dH0sdC5wcm90b3R5cGUuZ2V0R29vZ2xlUGF5bWVudENvbXBvbmVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nb29nbGVQYXl8fCh0aGlzLl9nb29nbGVQYXk9UHJvbWlzZS5hbGwoW3RoaXMuZ2V0Q2xpZW50KCksdGhpcy5fYnJhaW50cmVlU2NyaXB0TG9hZGVyLmxvYWRHb29nbGVQYXltZW50KCldKS50aGVuKChmdW5jdGlvbih0KXt2YXIgZT10WzBdO3JldHVybiB0WzFdLmNyZWF0ZSh7Y2xpZW50OmV9KX0pKSksdGhpcy5fZ29vZ2xlUGF5fSx0LnByb3RvdHlwZS5jcmVhdGVIb3N0ZWRGaWVsZHM9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChyLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLG47cmV0dXJuIE9iamVjdChyLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihpKXtzd2l0Y2goaS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LFByb21pc2UuYWxsKFt0aGlzLmdldENsaWVudCgpLHRoaXMuX2JyYWludHJlZVNjcmlwdExvYWRlci5sb2FkSG9zdGVkRmllbGRzKCldKV07Y2FzZSAxOnJldHVybiBlPWkuc2VudCgpLG49ZVswXSxbMixlWzFdLmNyZWF0ZShPYmplY3Qoci5fX2Fzc2lnbikoT2JqZWN0KHIuX19hc3NpZ24pKHt9LHQpLHtjbGllbnQ6bn0pKV19fSkpfSkpfSx0LnByb3RvdHlwZS50ZWFyZG93bj1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIFByb21pc2UuYWxsKFt0aGlzLl90ZWFyZG93bih0aGlzLl8zZHMpLHRoaXMuX3RlYXJkb3duKHRoaXMuX2RhdGFDb2xsZWN0b3JzLmRlZmF1bHQpLHRoaXMuX3RlYXJkb3duKHRoaXMuX2RhdGFDb2xsZWN0b3JzLnBheXBhbCksdGhpcy5fdGVhcmRvd24odGhpcy5fdmlzYUNoZWNrb3V0KSx0aGlzLl90ZWFyZG93bih0aGlzLl9nb29nbGVQYXkpXSkudGhlbigoZnVuY3Rpb24oKXt0Ll8zZHM9dm9pZCAwLHQuX3Zpc2FDaGVja291dD12b2lkIDAsdC5fZGF0YUNvbGxlY3RvcnM9e30sdC5fZ29vZ2xlUGF5PXZvaWQgMH0pKX0sdC5wcm90b3R5cGUuX3RlYXJkb3duPWZ1bmN0aW9uKHQpe3JldHVybiB0P3QudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIHQudGVhcmRvd24oKX0pKTpQcm9taXNlLnJlc29sdmUoKX0sdH0oKTtlLmE9b30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiByfSkpLGZ1bmN0aW9uKHQpe3QuU3R5bGVDb25maWd1cmVkPVwiU1RZTEVfQ09ORklHVVJFRFwifShyfHwocj17fSkpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdm9pZCAwIT09dC5pZH1uLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuZm9ybWF0PWZ1bmN0aW9uKHQpe3ZhciBlPXQuc3BsaXQobmV3IFJlZ0V4cChcIlxcXFxzKi9cXFxccypcIikpLG49ZVswXSxyPXZvaWQgMD09PW4/XCJcIjpuLGk9ZVsxXSxvPXZvaWQgMD09PWk/XCJcIjppLGE9ci5zbGljZSgwLDIpLHM9ND09PW8ubGVuZ3RoP28uc2xpY2UoLTIpOm8/by5zbGljZSgwLDIpOnIuc2xpY2UoMik7cmV0dXJuIHQubGVuZ3RoPDI/cjp0Lmxlbmd0aD4zJiYhcz9hOmErXCIgLyBcIitzfSx0LnByb3RvdHlwZS50b09iamVjdD1mdW5jdGlvbih0KXt2YXIgZT10LnNwbGl0KG5ldyBSZWdFeHAoXCJcXFxccyovXFxcXHMqXCIpKSxuPWVbMF0scj12b2lkIDA9PT1uP1wiXCI6bixpPWVbMV0sbz12b2lkIDA9PT1pP1wiXCI6aTtyZXR1cm4vXlxcZCskLy50ZXN0KHIpJiYvXlxcZCskLy50ZXN0KG8pP3ttb250aDoxPT09ci5sZW5ndGg/XCIwXCIrcjpyLnNsaWNlKDAsMikseWVhcjoyPT09by5sZW5ndGg/XCIyMFwiK286by5zbGljZSgwLDQpfTp7bW9udGg6XCJcIix5ZWFyOlwiXCJ9fSx0fSgpO2UuYT1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigzMyksaT1uKDIpLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5mb3JtYXQ9ZnVuY3Rpb24odCl7dmFyIGU9T2JqZWN0KHIubnVtYmVyKSh0KS5jYXJkO2lmKCFlKXJldHVybiB0O3ZhciBuPU9iamVjdChpLm1heCkoT2JqZWN0KHIuY3JlZGl0Q2FyZFR5cGUpKHQpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChpLm1heCkodC5sZW5ndGhzKX0pKSksbz10aGlzLnVuZm9ybWF0KHQpLnNsaWNlKDAsbik7cmV0dXJuIGUuZ2Fwcy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBvLmxlbmd0aD50fSkpLnJlZHVjZSgoZnVuY3Rpb24odCxlLG4pe3JldHVyblt0LnNsaWNlKDAsZStuKSx0LnNsaWNlKGUrbildLmpvaW4oXCIgXCIpfSksbyl9LHQucHJvdG90eXBlLnVuZm9ybWF0PWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Qoci5udW1iZXIpKHQpLmNhcmQ/dC5yZXBsYWNlKG5ldyBSZWdFeHAoXCIgXCIsXCJnXCIpLFwiXCIpOnR9LHR9KCk7ZS5hPW99LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtuLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKTt2YXIgcj1bXCJwZXJfaXRlbV9kaXNjb3VudFwiLFwicGVyY2VudGFnZV9kaXNjb3VudFwiLFwicGVyX3RvdGFsX2Rpc2NvdW50XCIsXCJzaGlwcGluZ19kaXNjb3VudFwiLFwiZnJlZV9zaGlwcGluZ1wiXTtmdW5jdGlvbiBpKHQpe3JldHVybntjb2RlOnQuY29kZSxkaXNjb3VudDp0LmRpc3BsYXlOYW1lLGRpc2NvdW50VHlwZTpyLmluZGV4T2YodC5jb3Vwb25UeXBlKX19fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSk7dmFyIHIsaT1uKDApLG89bigyMik7IWZ1bmN0aW9uKHQpe3RbdC5DaGVja291dEJ1dHRvbk5vdEluaXRpYWxpemVkPTBdPVwiQ2hlY2tvdXRCdXR0b25Ob3RJbml0aWFsaXplZFwiLHRbdC5DdXN0b21lck5vdEluaXRpYWxpemVkPTFdPVwiQ3VzdG9tZXJOb3RJbml0aWFsaXplZFwiLHRbdC5QYXltZW50Tm90SW5pdGlhbGl6ZWQ9Ml09XCJQYXltZW50Tm90SW5pdGlhbGl6ZWRcIix0W3QuU2hpcHBpbmdOb3RJbml0aWFsaXplZD0zXT1cIlNoaXBwaW5nTm90SW5pdGlhbGl6ZWRcIix0W3QuU3BhbVByb3RlY3Rpb25Ob3RJbml0aWFsaXplZD00XT1cIlNwYW1Qcm90ZWN0aW9uTm90SW5pdGlhbGl6ZWRcIn0ocnx8KHI9e30pKTt2YXIgYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlIHIuQ3VzdG9tZXJOb3RJbml0aWFsaXplZDpyZXR1cm5cIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIGN1c3RvbWVyIHN0ZXAgb2YgY2hlY2tvdXQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLlwiO2Nhc2Ugci5QYXltZW50Tm90SW5pdGlhbGl6ZWQ6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBwYXltZW50IHN0ZXAgb2YgY2hlY2tvdXQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLlwiO2Nhc2Ugci5TaGlwcGluZ05vdEluaXRpYWxpemVkOnJldHVyblwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgc2hpcHBpbmcgc3RlcCBvZiBjaGVja291dCBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQuXCI7Y2FzZSByLlNwYW1Qcm90ZWN0aW9uTm90SW5pdGlhbGl6ZWQ6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBjaGVja291dCBzcGFtIHByb3RlY3Rpb24gaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLlwiO2RlZmF1bHQ6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSByZXF1aXJlZCBjb21wb25lbnQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLlwifX0oZSkpfHx0aGlzO3JldHVybiBuLnN1YnR5cGU9ZSxuLm5hbWU9XCJOb3RJbml0aWFsaXplZEVycm9yXCIsbi50eXBlPVwibm90X2luaXRpYWxpemVkXCIsbn1yZXR1cm4gT2JqZWN0KGkuX19leHRlbmRzKShlLHQpLGV9KG8uYSk7ZS5iPWF9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDApLGk9big2Myksbz1uKDIpO2Z1bmN0aW9uIGEodCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9W10pLEFycmF5LmlzQXJyYXkoZSk/T2JqZWN0KGkuYSkoT2JqZWN0KHIuX19zcHJlYWRBcnJheXMpKHQsZSkpOmZ1bmN0aW9uKHQsZSl7dmFyIG49T2JqZWN0KG8ua2V5cykoT2JqZWN0KG8ucGlja0J5KShlLChmdW5jdGlvbih0KXtyZXR1cm4hdH0pKSksYT1PYmplY3Qoby5rZXlzKShPYmplY3Qoby5maWx0ZXIpKGUpKTtyZXR1cm4gT2JqZWN0KGkuYSkoT2JqZWN0KHIuX19zcHJlYWRBcnJheXMpKE9iamVjdChvLmRpZmZlcmVuY2UpKHQsbiksYSkpfSh0LGUpfW4uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiBhfSkpfSwsLCwsLCwsLCwsLCwsZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9cmVxdWlyZShcImlmcmFtZS1yZXNpemVyXCIpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1yZXF1aXJlKFwiaWZyYW1lLXJlc2l6ZXIvanMvaWZyYW1lUmVzaXplci5jb250ZW50V2luZG93XCIpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSk7dmFyIHI9bigyKTtmdW5jdGlvbiBpKHQsZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/dC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBpKHQsZSl9KSk6T2JqZWN0KHIuaXNQbGFpbk9iamVjdCkodCk/T2JqZWN0KHIudHJhbnNmb3JtKShPYmplY3Qoci5vbWl0QnkpKHQsZSksKGZ1bmN0aW9uKHQsbixyKXt0W3JdPWkobixlKX0pLHt9KTp0fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMCksaT1uKDEpLG89bigzKSxhPW4oOCkscz1uKDkwKSxjPW4oMTIpLHU9bigxNiksZD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMuX2NoZWNrb3V0UmVxdWVzdFNlbmRlcj10LHRoaXMuX2NvbmZpZ0FjdGlvbkNyZWF0b3I9ZSx0aGlzLl9mb3JtRmllbGRzQWN0aW9uQ3JlYXRvcj1ufXJldHVybiB0LnByb3RvdHlwZS5sb2FkQ2hlY2tvdXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiBPYmplY3Qoby5jb25jYXQpKE9iamVjdChvLm9mKShPYmplY3QoaS5jcmVhdGVBY3Rpb24pKHUuYS5Mb2FkQ2hlY2tvdXRSZXF1ZXN0ZWQpKSxPYmplY3Qoby5tZXJnZSkodGhpcy5fY29uZmlnQWN0aW9uQ3JlYXRvci5sb2FkQ29uZmlnKE9iamVjdChyLl9fYXNzaWduKShPYmplY3Qoci5fX2Fzc2lnbikoe30sZSkse3VzZUNhY2hlOiEwfSkpLHRoaXMuX2Zvcm1GaWVsZHNBY3Rpb25DcmVhdG9yLmxvYWRGb3JtRmllbGRzKE9iamVjdChyLl9fYXNzaWduKShPYmplY3Qoci5fX2Fzc2lnbikoe30sZSkse3VzZUNhY2hlOiEwfSkpLE9iamVjdChvLmRlZmVyKSgoZnVuY3Rpb24oKXtyZXR1cm4gbi5fY2hlY2tvdXRSZXF1ZXN0U2VuZGVyLmxvYWRDaGVja291dCh0LGUpLnRoZW4oKGZ1bmN0aW9uKHQpe3ZhciBlPXQuYm9keTtyZXR1cm4gT2JqZWN0KGkuY3JlYXRlQWN0aW9uKSh1LmEuTG9hZENoZWNrb3V0U3VjY2VlZGVkLGUpfSkpfSkpKSkucGlwZShPYmplY3QoYS5jYXRjaEVycm9yKSgoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChzLmEpKHUuYS5Mb2FkQ2hlY2tvdXRGYWlsZWQsdCl9KSkpfSx0LnByb3RvdHlwZS5sb2FkRGVmYXVsdENoZWNrb3V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBPYmplY3Qoby5jb25jYXQpKE9iamVjdChvLm9mKShPYmplY3QoaS5jcmVhdGVBY3Rpb24pKHUuYS5Mb2FkQ2hlY2tvdXRSZXF1ZXN0ZWQpKSxPYmplY3Qoby5tZXJnZSkoZS5fY29uZmlnQWN0aW9uQ3JlYXRvci5sb2FkQ29uZmlnKCksZS5fZm9ybUZpZWxkc0FjdGlvbkNyZWF0b3IubG9hZEZvcm1GaWVsZHMoT2JqZWN0KHIuX19hc3NpZ24pKE9iamVjdChyLl9fYXNzaWduKSh7fSx0KSx7dXNlQ2FjaGU6ITB9KSkpLE9iamVjdChvLmRlZmVyKSgoZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KHIuX19hd2FpdGVyKShlLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGUsbyxhO3JldHVybiBPYmplY3Qoci5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDppZihlPW4uZ2V0U3RhdGUoKSwhKG89ZS5jb25maWcuZ2V0Q29udGV4dENvbmZpZygpKXx8IW8uY2hlY2tvdXRJZCl0aHJvdyBuZXcgYy5iKGMuYS5NaXNzaW5nQ2hlY2tvdXRDb25maWcpO3JldHVybls0LHRoaXMuX2NoZWNrb3V0UmVxdWVzdFNlbmRlci5sb2FkQ2hlY2tvdXQoby5jaGVja291dElkLHQpXTtjYXNlIDE6cmV0dXJuIGE9ci5zZW50KCkuYm9keSxbMixPYmplY3QoaS5jcmVhdGVBY3Rpb24pKHUuYS5Mb2FkQ2hlY2tvdXRTdWNjZWVkZWQsYSldfX0pKX0pKX0pKSkucGlwZShPYmplY3QoYS5jYXRjaEVycm9yKSgoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChzLmEpKHUuYS5Mb2FkQ2hlY2tvdXRGYWlsZWQsdCl9KSkpfX0sdC5wcm90b3R5cGUudXBkYXRlQ2hlY2tvdXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gbmV3IG8uT2JzZXJ2YWJsZSgoZnVuY3Rpb24obyl7dmFyIGE9ci5nZXRTdGF0ZSgpLmNoZWNrb3V0LmdldENoZWNrb3V0KCk7aWYoIWEpdGhyb3cgbmV3IGMuYihjLmEuTWlzc2luZ0NoZWNrb3V0KTtvLm5leHQoT2JqZWN0KGkuY3JlYXRlQWN0aW9uKSh1LmEuVXBkYXRlQ2hlY2tvdXRSZXF1ZXN0ZWQpKSxuLl9jaGVja291dFJlcXVlc3RTZW5kZXIudXBkYXRlQ2hlY2tvdXQoYS5pZCx0LGUpLnRoZW4oKGZ1bmN0aW9uKHQpe3ZhciBlPXQuYm9keTtvLm5leHQoT2JqZWN0KGkuY3JlYXRlQWN0aW9uKSh1LmEuVXBkYXRlQ2hlY2tvdXRTdWNjZWVkZWQsZSkpLG8uY29tcGxldGUoKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7by5lcnJvcihPYmplY3QoaS5jcmVhdGVFcnJvckFjdGlvbikodS5hLlVwZGF0ZUNoZWNrb3V0RmFpbGVkLHQpKX0pKX0pKX19LHQucHJvdG90eXBlLmxvYWRDdXJyZW50Q2hlY2tvdXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24obil7dmFyIHI9bi5nZXRTdGF0ZSgpLmNoZWNrb3V0LmdldENoZWNrb3V0KCk7aWYoIXIpdGhyb3cgbmV3IGMuYihjLmEuTWlzc2luZ0NoZWNrb3V0KTtyZXR1cm4gZS5sb2FkQ2hlY2tvdXQoci5pZCx0KX19LHR9KCk7ZS5hPWR9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDApLGk9bigxKSxvPW4oMiksYT1uKDMpLHM9bigxMzgpLGM9bigxMiksdT1uKDUyKSxkPW4oNikscD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLl9jb25zaWdubWVudFJlcXVlc3RTZW5kZXI9dCx0aGlzLl9jaGVja291dFJlcXVlc3RTZW5kZXI9ZX1yZXR1cm4gdC5wcm90b3R5cGUudW5hc3NpZ25JdGVtc0J5QWRkcmVzcz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciBpPXIuZ2V0U3RhdGUoKTtpZighaS5jaGVja291dC5nZXRDaGVja291dCgpKXRocm93IG5ldyBjLmIoYy5hLk1pc3NpbmdDaGVja291dCk7dmFyIG89aS5jb25zaWdubWVudHMuZ2V0Q29uc2lnbm1lbnRCeUFkZHJlc3ModC5zaGlwcGluZ0FkZHJlc3MpO2lmKCFvKXRocm93IG5ldyB1LmEoXCJObyBjb25zaWdubWVudCBmb3VuZCBmb3IgdGhlIHNwZWNpZmllZCBhZGRyZXNzXCIpO3ZhciBhPW4uX3JlbW92ZUxpbmVJdGVtcyh0LmxpbmVJdGVtcyxvLGkuY2FydC5nZXRDYXJ0KCkpO3JldHVybiBhLmxlbmd0aD9uLnVwZGF0ZUNvbnNpZ25tZW50KHtpZDpvLmlkLHNoaXBwaW5nQWRkcmVzczp0LnNoaXBwaW5nQWRkcmVzcyxsaW5lSXRlbXM6YX0sZSkocik6bi5kZWxldGVDb25zaWdubWVudChvLmlkLGUpKHIpfX0sdC5wcm90b3R5cGUuYXNzaWduSXRlbXNCeUFkZHJlc3M9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiBmdW5jdGlvbihyKXt2YXIgaT1yLmdldFN0YXRlKCksbz1pLmNvbnNpZ25tZW50cy5nZXRDb25zaWdubWVudEJ5QWRkcmVzcyh0LnNoaXBwaW5nQWRkcmVzcyk7cmV0dXJuIG4uX2NyZWF0ZU9yVXBkYXRlQ29uc2lnbm1lbnQoe2lkOm8mJm8uaWQsc2hpcHBpbmdBZGRyZXNzOnQuc2hpcHBpbmdBZGRyZXNzLGxpbmVJdGVtczpuLl9hZGRMaW5lSXRlbXModC5saW5lSXRlbXMsbyxpLmNhcnQuZ2V0Q2FydCgpKX0sZSkocil9fSx0LnByb3RvdHlwZS5zZWxlY3RTaGlwcGluZ09wdGlvbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBhLk9ic2VydmFibGUuY3JlYXRlKChmdW5jdGlvbihvKXt2YXIgYT1yLmdldFN0YXRlKCkscz1hLmNoZWNrb3V0LmdldENoZWNrb3V0KCksdT1hLmNvbnNpZ25tZW50cy5nZXRDb25zaWdubWVudHMoKTtpZighcyl0aHJvdyBuZXcgYy5iKGMuYS5NaXNzaW5nQ2hlY2tvdXQpO2lmKCF1fHwhdS5sZW5ndGgpdGhyb3cgbmV3IGMuYihjLmEuTWlzc2luZ0NvbnNpZ25tZW50cyk7dmFyIHA9e2lkOnVbMF0uaWQsc2hpcHBpbmdPcHRpb25JZDp0fSxoPXtpZDp1WzBdLmlkfTtvLm5leHQoT2JqZWN0KGkuY3JlYXRlQWN0aW9uKShkLmEuVXBkYXRlU2hpcHBpbmdPcHRpb25SZXF1ZXN0ZWQsdm9pZCAwLGgpKSxuLl9jb25zaWdubWVudFJlcXVlc3RTZW5kZXIudXBkYXRlQ29uc2lnbm1lbnQocy5pZCxwLGUpLnRoZW4oKGZ1bmN0aW9uKHQpe3ZhciBlPXQuYm9keTtvLm5leHQoT2JqZWN0KGkuY3JlYXRlQWN0aW9uKShkLmEuVXBkYXRlU2hpcHBpbmdPcHRpb25TdWNjZWVkZWQsZSxoKSksby5jb21wbGV0ZSgpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtvLmVycm9yKE9iamVjdChpLmNyZWF0ZUVycm9yQWN0aW9uKShkLmEuVXBkYXRlU2hpcHBpbmdPcHRpb25GYWlsZWQsdCxoKSl9KSl9KSl9fSx0LnByb3RvdHlwZS5sb2FkU2hpcHBpbmdPcHRpb25zPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBhLk9ic2VydmFibGUuY3JlYXRlKChmdW5jdGlvbihvKXt2YXIgYT1uLmdldFN0YXRlKCkuY2hlY2tvdXQuZ2V0Q2hlY2tvdXQoKTtpZighYSl0aHJvdyBuZXcgYy5iKGMuYS5NaXNzaW5nQ2hlY2tvdXQpO28ubmV4dChPYmplY3QoaS5jcmVhdGVBY3Rpb24pKGQuYS5Mb2FkU2hpcHBpbmdPcHRpb25zUmVxdWVzdGVkKSksZS5fY2hlY2tvdXRSZXF1ZXN0U2VuZGVyLmxvYWRDaGVja291dChhLmlkLE9iamVjdChyLl9fYXNzaWduKShPYmplY3Qoci5fX2Fzc2lnbikoe30sdCkse3BhcmFtczp7aW5jbHVkZTpbcy5hLkF2YWlsYWJsZVNoaXBwaW5nT3B0aW9uc119fSkpLnRoZW4oKGZ1bmN0aW9uKHQpe3ZhciBlPXQuYm9keTtvLm5leHQoT2JqZWN0KGkuY3JlYXRlQWN0aW9uKShkLmEuTG9hZFNoaXBwaW5nT3B0aW9uc1N1Y2NlZWRlZCxlKSksby5jb21wbGV0ZSgpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtvLmVycm9yKE9iamVjdChpLmNyZWF0ZUVycm9yQWN0aW9uKShkLmEuTG9hZFNoaXBwaW5nT3B0aW9uc0ZhaWxlZCx0KSl9KSl9KSl9fSx0LnByb3RvdHlwZS51cGRhdGVBZGRyZXNzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gZnVuY3Rpb24ocil7dmFyIGk9bi5fZ2V0VXBkYXRlQWRkcmVzc1JlcXVlc3RCb2R5KHQsciksbz1yLmdldFN0YXRlKCkuY29uc2lnbm1lbnRzLmdldENvbnNpZ25tZW50cygpO3JldHVybiBvJiZvLmxlbmd0aCYmKGkuaWQ9b1swXS5pZCksbi5fY3JlYXRlT3JVcGRhdGVDb25zaWdubWVudChpLGUpKHIpfX0sdC5wcm90b3R5cGUuY3JlYXRlQ29uc2lnbm1lbnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGEuT2JzZXJ2YWJsZS5jcmVhdGUoKGZ1bmN0aW9uKG8pe3ZhciBhPXIuZ2V0U3RhdGUoKS5jaGVja291dC5nZXRDaGVja291dCgpO2lmKCFhfHwhYS5pZCl0aHJvdyBuZXcgYy5iKGMuYS5NaXNzaW5nQ2hlY2tvdXQpO28ubmV4dChPYmplY3QoaS5jcmVhdGVBY3Rpb24pKGQuYS5DcmVhdGVDb25zaWdubWVudHNSZXF1ZXN0ZWQpKSxuLl9jb25zaWdubWVudFJlcXVlc3RTZW5kZXIuY3JlYXRlQ29uc2lnbm1lbnRzKGEuaWQsdCxlKS50aGVuKChmdW5jdGlvbih0KXt2YXIgZT10LmJvZHk7by5uZXh0KE9iamVjdChpLmNyZWF0ZUFjdGlvbikoZC5hLkNyZWF0ZUNvbnNpZ25tZW50c1N1Y2NlZWRlZCxlKSksby5jb21wbGV0ZSgpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtvLmVycm9yKE9iamVjdChpLmNyZWF0ZUVycm9yQWN0aW9uKShkLmEuQ3JlYXRlQ29uc2lnbm1lbnRzRmFpbGVkLHQpKX0pKX0pKX19LHQucHJvdG90eXBlLnVwZGF0ZUNvbnNpZ25tZW50PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGEuT2JzZXJ2YWJsZS5jcmVhdGUoKGZ1bmN0aW9uKG8pe3ZhciBhPXIuZ2V0U3RhdGUoKS5jaGVja291dC5nZXRDaGVja291dCgpO2lmKCFhfHwhYS5pZCl0aHJvdyBuZXcgYy5iKGMuYS5NaXNzaW5nQ2hlY2tvdXQpO3ZhciBzPXtpZDp0LmlkfTtvLm5leHQoT2JqZWN0KGkuY3JlYXRlQWN0aW9uKShkLmEuVXBkYXRlQ29uc2lnbm1lbnRSZXF1ZXN0ZWQsdm9pZCAwLHMpKSxuLl9jb25zaWdubWVudFJlcXVlc3RTZW5kZXIudXBkYXRlQ29uc2lnbm1lbnQoYS5pZCx0LGUpLnRoZW4oKGZ1bmN0aW9uKHQpe3ZhciBlPXQuYm9keTtvLm5leHQoT2JqZWN0KGkuY3JlYXRlQWN0aW9uKShkLmEuVXBkYXRlQ29uc2lnbm1lbnRTdWNjZWVkZWQsZSxzKSksby5jb21wbGV0ZSgpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtvLmVycm9yKE9iamVjdChpLmNyZWF0ZUVycm9yQWN0aW9uKShkLmEuVXBkYXRlQ29uc2lnbm1lbnRGYWlsZWQsdCxzKSl9KSl9KSl9fSx0LnByb3RvdHlwZS5kZWxldGVDb25zaWdubWVudD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBhLk9ic2VydmFibGUuY3JlYXRlKChmdW5jdGlvbihvKXt2YXIgYT1yLmdldFN0YXRlKCkuY2hlY2tvdXQuZ2V0Q2hlY2tvdXQoKSxzPXtpZDp0fTtpZighYXx8IWEuaWQpdGhyb3cgbmV3IGMuYihjLmEuTWlzc2luZ0NoZWNrb3V0KTtvLm5leHQoT2JqZWN0KGkuY3JlYXRlQWN0aW9uKShkLmEuRGVsZXRlQ29uc2lnbm1lbnRSZXF1ZXN0ZWQsdm9pZCAwLHMpKSxuLl9jb25zaWdubWVudFJlcXVlc3RTZW5kZXIuZGVsZXRlQ29uc2lnbm1lbnQoYS5pZCx0LGUpLnRoZW4oKGZ1bmN0aW9uKHQpe3ZhciBlPXQuYm9keTtvLm5leHQoT2JqZWN0KGkuY3JlYXRlQWN0aW9uKShkLmEuRGVsZXRlQ29uc2lnbm1lbnRTdWNjZWVkZWQsZSxzKSksby5jb21wbGV0ZSgpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtvLmVycm9yKE9iamVjdChpLmNyZWF0ZUVycm9yQWN0aW9uKShkLmEuRGVsZXRlQ29uc2lnbm1lbnRGYWlsZWQsdCxzKSl9KSl9KSl9fSx0LnByb3RvdHlwZS51cGRhdGVTaGlwcGluZ09wdGlvbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBhLk9ic2VydmFibGUuY3JlYXRlKChmdW5jdGlvbihvKXt2YXIgYT1yLmdldFN0YXRlKCkuY2hlY2tvdXQuZ2V0Q2hlY2tvdXQoKTtpZighYXx8IWEuaWQpdGhyb3cgbmV3IGMuYihjLmEuTWlzc2luZ0NoZWNrb3V0KTt2YXIgcz17aWQ6dC5pZH07by5uZXh0KE9iamVjdChpLmNyZWF0ZUFjdGlvbikoZC5hLlVwZGF0ZVNoaXBwaW5nT3B0aW9uUmVxdWVzdGVkLHZvaWQgMCxzKSksbi5fY29uc2lnbm1lbnRSZXF1ZXN0U2VuZGVyLnVwZGF0ZUNvbnNpZ25tZW50KGEuaWQsdCxlKS50aGVuKChmdW5jdGlvbih0KXt2YXIgZT10LmJvZHk7by5uZXh0KE9iamVjdChpLmNyZWF0ZUFjdGlvbikoZC5hLlVwZGF0ZVNoaXBwaW5nT3B0aW9uU3VjY2VlZGVkLGUscykpLG8uY29tcGxldGUoKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7by5lcnJvcihPYmplY3QoaS5jcmVhdGVFcnJvckFjdGlvbikoZC5hLlVwZGF0ZVNoaXBwaW5nT3B0aW9uRmFpbGVkLHQscykpfSkpfSkpfX0sdC5wcm90b3R5cGUuX2NyZWF0ZU9yVXBkYXRlQ29uc2lnbm1lbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiBmdW5jdGlvbihyKXt2YXIgaT1yLmdldFN0YXRlKCkuY2hlY2tvdXQuZ2V0Q2hlY2tvdXQoKTtpZighaXx8IWkuaWQpdGhyb3cgbmV3IGMuYihjLmEuTWlzc2luZ0NoZWNrb3V0KTtyZXR1cm4gbi5faXNVcGRhdGVDb25zaWdubWVudFJlcXVlc3QodCk/bi51cGRhdGVDb25zaWdubWVudCh0LGUpKHIpOm4uY3JlYXRlQ29uc2lnbm1lbnRzKFt0XSxlKShyKX19LHQucHJvdG90eXBlLl9nZXRVcGRhdGVBZGRyZXNzUmVxdWVzdEJvZHk9ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmdldFN0YXRlKCkuY2FydC5nZXRDYXJ0KCk7aWYoIW4pdGhyb3cgbmV3IGMuYihjLmEuTWlzc2luZ0NhcnQpO3ZhciBpPW4ubGluZUl0ZW1zLG89aS5waHlzaWNhbEl0ZW1zLGE9aS5jdXN0b21JdGVtcyxzPXZvaWQgMD09PWE/W106YTtyZXR1cm57c2hpcHBpbmdBZGRyZXNzOnQsbGluZUl0ZW1zOk9iamVjdChyLl9fc3ByZWFkQXJyYXlzKShvLHMpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJue2l0ZW1JZDp0LmlkLHF1YW50aXR5OnQucXVhbnRpdHl9fSkpfX0sdC5wcm90b3R5cGUuX3JlbW92ZUxpbmVJdGVtcz1mdW5jdGlvbih0LGUsbil7aWYoIW4pdGhyb3cgbmV3IGMuYihjLmEuTWlzc2luZ0NhcnQpO3JldHVybiB0aGlzLl9oeWRyYXRlTGluZUl0ZW1zKGUubGluZUl0ZW1JZHMsbikubWFwKChmdW5jdGlvbihlKXt2YXIgbj1PYmplY3Qoby5maW5kKSh0LChmdW5jdGlvbih0KXtyZXR1cm4gdC5pdGVtSWQ9PT1lLml0ZW1JZH0pKTtyZXR1cm4gT2JqZWN0KHIuX19hc3NpZ24pKE9iamVjdChyLl9fYXNzaWduKSh7fSxlKSx7cXVhbnRpdHk6bj9lLnF1YW50aXR5LW4ucXVhbnRpdHk6ZS5xdWFudGl0eX0pfSkpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQucXVhbnRpdHk+MH0pKX0sdC5wcm90b3R5cGUuX2FkZExpbmVJdGVtcz1mdW5jdGlvbih0LGUsbil7aWYoIWUpcmV0dXJuIHQ7aWYoIW4pdGhyb3cgbmV3IGMuYihjLmEuTWlzc2luZ0NhcnQpO3JldHVybiB0LmNvbmNhdCh0aGlzLl9oeWRyYXRlTGluZUl0ZW1zKGUubGluZUl0ZW1JZHMsbikpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQucXVhbnRpdHk+MH0pKX0sdC5wcm90b3R5cGUuX2h5ZHJhdGVMaW5lSXRlbXM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5tYXAoKGZ1bmN0aW9uKHQpe3ZhciBuPU9iamVjdChvLmZpbmQpKGUubGluZUl0ZW1zLnBoeXNpY2FsSXRlbXMsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkPT09dH0pKTtyZXR1cm57aXRlbUlkOnQscXVhbnRpdHk6bj9uLnF1YW50aXR5OjB9fSkpfSx0LnByb3RvdHlwZS5faXNVcGRhdGVDb25zaWdubWVudFJlcXVlc3Q9ZnVuY3Rpb24odCl7cmV0dXJuISF0LmlkfSx0fSgpO2UuYT1wfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigwKSxpPW4oMzkpLG89bigxMTIpLGE9big2Mykscz1bXCJjb25zaWdubWVudHMuYXZhaWxhYmxlU2hpcHBpbmdPcHRpb25zXCIsXCJjYXJ0LmxpbmVJdGVtcy5waHlzaWNhbEl0ZW1zLm9wdGlvbnNcIixcImNhcnQubGluZUl0ZW1zLmRpZ2l0YWxJdGVtcy5vcHRpb25zXCIsXCJjdXN0b21lclwiLFwicHJvbW90aW9ucy5iYW5uZXJzXCJdLGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3JlcXVlc3RTZW5kZXI9dH1yZXR1cm4gdC5wcm90b3R5cGUuY3JlYXRlQ29uc2lnbm1lbnRzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj12b2lkIDA9PT1uP3t9Om4sYT1yLnRpbWVvdXQsYz1yLnBhcmFtcyx1PSh2b2lkIDA9PT1jP3t9OmMpLmluY2x1ZGUsZD1cIi9hcGkvc3RvcmVmcm9udC9jaGVja291dHMvXCIrdCtcIi9jb25zaWdubWVudHNcIixwPXtBY2NlcHQ6aS5hLkpzb25WMX07cmV0dXJuIHRoaXMuX3JlcXVlc3RTZW5kZXIucG9zdChkLHtib2R5OmUscGFyYW1zOntpbmNsdWRlOk9iamVjdChvLmEpKHMsdSl9LGhlYWRlcnM6cCx0aW1lb3V0OmF9KX0sdC5wcm90b3R5cGUudXBkYXRlQ29uc2lnbm1lbnQ9ZnVuY3Rpb24odCxlLG4pe3ZhciBhPXZvaWQgMD09PW4/e306bixjPWEudGltZW91dCx1PWEucGFyYW1zLGQ9KHZvaWQgMD09PXU/e306dSkuaW5jbHVkZSxwPWUuaWQsaD1PYmplY3Qoci5fX3Jlc3QpKGUsW1wiaWRcIl0pLGw9XCIvYXBpL3N0b3JlZnJvbnQvY2hlY2tvdXRzL1wiK3QrXCIvY29uc2lnbm1lbnRzL1wiK3AsbT17QWNjZXB0OmkuYS5Kc29uVjF9O3JldHVybiB0aGlzLl9yZXF1ZXN0U2VuZGVyLnB1dChsLHtib2R5OmgscGFyYW1zOntpbmNsdWRlOk9iamVjdChvLmEpKHMsZCl9LGhlYWRlcnM6bSx0aW1lb3V0OmN9KX0sdC5wcm90b3R5cGUuZGVsZXRlQ29uc2lnbm1lbnQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByPSh2b2lkIDA9PT1uP3t9Om4pLnRpbWVvdXQsbz1cIi9hcGkvc3RvcmVmcm9udC9jaGVja291dHMvXCIrdCtcIi9jb25zaWdubWVudHMvXCIrZSxjPXtBY2NlcHQ6aS5hLkpzb25WMX0sdT1PYmplY3QoYS5hKShzKTtyZXR1cm4gdGhpcy5fcmVxdWVzdFNlbmRlci5kZWxldGUobyx7cGFyYW1zOntpbmNsdWRlOnV9LGhlYWRlcnM6Yyx0aW1lb3V0OnJ9KX0sdH0oKTtlLmE9Y30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4rXCIvY2hlY2tvdXQucGhwP2FjdGlvbj1zZXRfZXh0ZXJuYWxfY2hlY2tvdXQmcHJvdmlkZXI9bWFzdGVycGFzcyZnYXRld2F5PXN0cmlwZSZvcmlnaW49XCIrdH1uLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMCksaT1uKDIpLG89big1OSksYT1uKDEwMCkscz1uKDEyKSxjPW4oOTgpLHU9bigxMDgpLGQ9bigxMDkpLHA9big5OSksaD1uKDc4KSxsPW4oNDApLG09ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5fY2FyZEV4cGlyeUZvcm1hdHRlcj1uZXcgdS5hLHRoaXMuX2NhcmROdW1iZXJGb3JtYXR0ZXI9bmV3IGQuYX1yZXR1cm4gdC5wcm90b3R5cGUudHJhbnNmb3JtPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5iaWxsaW5nQWRkcmVzcy5nZXRCaWxsaW5nQWRkcmVzcygpLHU9ZS5jaGVja291dC5nZXRDaGVja291dCgpLGQ9ZS5jdXN0b21lci5nZXRDdXN0b21lcigpLG09ZS5vcmRlci5nZXRPcmRlcigpLGY9ZS5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kKHQubWV0aG9kSWQsdC5nYXRld2F5SWQpLF89ZS5zaGlwcGluZ0FkZHJlc3MuZ2V0U2hpcHBpbmdBZGRyZXNzKCkseT1lLmNvbnNpZ25tZW50cy5nZXRDb25zaWdubWVudHMoKSxnPWUuY29uc2lnbm1lbnRzLmdldFNoaXBwaW5nT3B0aW9uKCksYj1lLmNvbmZpZy5nZXRTdG9yZUNvbmZpZygpLHY9ZS5jb25maWcuZ2V0Q29udGV4dENvbmZpZygpLEM9ZS5pbnN0cnVtZW50cy5nZXRJbnN0cnVtZW50c01ldGEoKSxPPWUucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZHNNZXRhKCksUz1lLm9yZGVyLmdldE9yZGVyTWV0YSgpLHc9ZCYmbiYmT2JqZWN0KGMuYSkoZCxuKSxJPUMmJnQucGF5bWVudERhdGEmJihPYmplY3QobC5hKSh0LnBheW1lbnREYXRhKXx8T2JqZWN0KGwuYikodC5wYXltZW50RGF0YSkpP2UucGF5bWVudC5nZXRQYXltZW50VG9rZW4oKStcIiwgXCIrQy52YXVsdEFjY2Vzc1Rva2VuOmUucGF5bWVudC5nZXRQYXltZW50VG9rZW4oKTtpZighSSl0aHJvdyBuZXcgcy5iKHMuYS5NaXNzaW5nUGF5bWVudFRva2VuKTtyZXR1cm57YWRkaXRpb25hbEFjdGlvbjp0LmFkZGl0aW9uYWxBY3Rpb24sYXV0aFRva2VuOkksY3VzdG9tZXI6dyxiaWxsaW5nQWRkcmVzczpuJiZPYmplY3Qoby5hKShuKSxzaGlwcGluZ0FkZHJlc3M6XyYmT2JqZWN0KG8uYSkoXyx5KSxzaGlwcGluZ09wdGlvbjpnJiZPYmplY3QoaC5hKShnLCEwKSxjYXJ0OnUmJk9iamVjdChhLmEpKHUpLG9yZGVyOm0mJk9iamVjdChwLmEpKG0sUyksb3JkZXJNZXRhOlMscGF5bWVudDp0LnBheW1lbnREYXRhLHBheW1lbnRNZXRob2Q6ZiYmdGhpcy5fdHJhbnNmb3JtUGF5bWVudE1ldGhvZChmKSxxdW90ZU1ldGE6e3JlcXVlc3Q6T2JqZWN0KHIuX19hc3NpZ24pKE9iamVjdChyLl9fYXNzaWduKSh7fSxPKSx7Z2VvQ291bnRyeUNvZGU6diYmdi5nZW9Db3VudHJ5Q29kZX0pfSxzb3VyY2U6XCJiaWdjb21tZXJjZS1jaGVja291dC1qcy1zZGtcIixzdG9yZTpPYmplY3QoaS5waWNrKShiJiZiLnN0b3JlUHJvZmlsZSxbXCJzdG9yZUhhc2hcIixcInN0b3JlSWRcIixcInN0b3JlTGFuZ3VhZ2VcIixcInN0b3JlTmFtZVwiXSl9fSx0LnByb3RvdHlwZS50cmFuc2Zvcm1XaXRoSG9zdGVkRm9ybURhdGE9ZnVuY3Rpb24odCxlLG4pe3ZhciBzPWUuYWRkaXRpb25hbEFjdGlvbix1PWUuYXV0aFRva2VuLGQ9ZS5jaGVja291dCxsPWUuY29uZmlnLG09ZS5vcmRlcixmPWUub3JkZXJNZXRhLF89ZS5wYXltZW50LHk9dm9pZCAwPT09Xz97fTpfLGc9ZS5wYXltZW50TWV0aG9kLGI9ZS5wYXltZW50TWV0aG9kTWV0YSx2PWQmJmQuY29uc2lnbm1lbnRzWzBdLEM9diYmdi5zaGlwcGluZ0FkZHJlc3MsTz12JiZ2LnNlbGVjdGVkU2hpcHBpbmdPcHRpb247cmV0dXJue2FkZGl0aW9uYWxBY3Rpb246cyxhdXRoVG9rZW46dSxwYXltZW50TWV0aG9kOmcmJnRoaXMuX3RyYW5zZm9ybVBheW1lbnRNZXRob2QoZyksY3VzdG9tZXI6bSYmbS5iaWxsaW5nQWRkcmVzcyYmZCYmT2JqZWN0KGMuYSkoZC5jdXN0b21lcixtLmJpbGxpbmdBZGRyZXNzKSxiaWxsaW5nQWRkcmVzczptJiZtLmJpbGxpbmdBZGRyZXNzJiZPYmplY3Qoby5hKShtLmJpbGxpbmdBZGRyZXNzKSxzaGlwcGluZ0FkZHJlc3M6QyYmZCYmT2JqZWN0KG8uYSkoQyxkLmNvbnNpZ25tZW50cyksc2hpcHBpbmdPcHRpb246TyYmT2JqZWN0KGguYSkoTywhMCksY2FydDpkJiZPYmplY3QoYS5hKShkKSxvcmRlcjptJiZPYmplY3QocC5hKShtLGYpLG9yZGVyTWV0YTpmLHBheW1lbnQ6dGhpcy5fdHJhbnNmb3JtSG9zdGVkSW5wdXRWYWx1ZXModCx5LG4pLHF1b3RlTWV0YTp7cmVxdWVzdDpPYmplY3Qoci5fX2Fzc2lnbikoT2JqZWN0KHIuX19hc3NpZ24pKHt9LGIpLHtnZW9Db3VudHJ5Q29kZTpsJiZsLmNvbnRleHQuZ2VvQ291bnRyeUNvZGV9KX0sc291cmNlOlwiYmlnY29tbWVyY2UtY2hlY2tvdXQtanMtc2RrXCIsc3RvcmU6bCYmT2JqZWN0KGkucGljaykobC5zdG9yZUNvbmZpZy5zdG9yZVByb2ZpbGUsW1wic3RvcmVIYXNoXCIsXCJzdG9yZUlkXCIsXCJzdG9yZUxhbmd1YWdlXCIsXCJzdG9yZU5hbWVcIl0pfX0sdC5wcm90b3R5cGUuX3RyYW5zZm9ybVBheW1lbnRNZXRob2Q9ZnVuY3Rpb24odCl7cmV0dXJuXCJtdWx0aS1vcHRpb25cIiE9PXQubWV0aG9kfHx0LmdhdGV3YXk/dC5pbml0aWFsaXphdGlvbkRhdGEmJnQuaW5pdGlhbGl6YXRpb25EYXRhLmdhdGV3YXk/T2JqZWN0KHIuX19hc3NpZ24pKE9iamVjdChyLl9fYXNzaWduKSh7fSx0KSx7aWQ6dC5pbml0aWFsaXphdGlvbkRhdGEuZ2F0ZXdheX0pOnQ6T2JqZWN0KHIuX19hc3NpZ24pKE9iamVjdChyLl9fYXNzaWduKSh7fSx0KSx7Z2F0ZXdheTp0LmlkfSl9LHQucHJvdG90eXBlLl90cmFuc2Zvcm1Ib3N0ZWRJbnB1dFZhbHVlcz1mdW5jdGlvbih0LGUsbil7cmV0dXJuXCJpbnN0cnVtZW50SWRcImluIGU/T2JqZWN0KHIuX19hc3NpZ24pKE9iamVjdChyLl9fYXNzaWduKSh7fSxlKSx7Y2NDdnY6dC5jYXJkQ29kZVZlcmlmaWNhdGlvbixjY051bWJlcjp0LmNhcmROdW1iZXJWZXJpZmljYXRpb24mJnRoaXMuX2NhcmROdW1iZXJGb3JtYXR0ZXIudW5mb3JtYXQodC5jYXJkTnVtYmVyVmVyaWZpY2F0aW9uKSxob3N0ZWRGb3JtTm9uY2U6bn0pOk9iamVjdChyLl9fYXNzaWduKShPYmplY3Qoci5fX2Fzc2lnbikoe30sZSkse2NjQ3Z2OnQuY2FyZENvZGUsY2NFeHBpcnk6dGhpcy5fY2FyZEV4cGlyeUZvcm1hdHRlci50b09iamVjdCh0LmNhcmRFeHBpcnl8fFwiXCIpLGNjTmFtZTp0LmNhcmROYW1lfHxcIlwiLGNjTnVtYmVyOnRoaXMuX2NhcmROdW1iZXJGb3JtYXR0ZXIudW5mb3JtYXQodC5jYXJkTnVtYmVyfHxcIlwiKSxob3N0ZWRGb3JtTm9uY2U6bn0pfSx0fSgpO2UuYT1tfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX2NsaWVudD10fXJldHVybiB0LnByb3RvdHlwZS5zdWJtaXRQYXltZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe2UuX2NsaWVudC5zdWJtaXRQYXltZW50KHQsKGZ1bmN0aW9uKHQsaSl7dD9yKGUuX3RyYW5zZm9ybVJlc3BvbnNlKHQpKTpuKGUuX3RyYW5zZm9ybVJlc3BvbnNlKGkpKX0pKX0pKX0sdC5wcm90b3R5cGUuaW5pdGlhbGl6ZU9mZnNpdGVQYXltZW50PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKCl7bi5fY2xpZW50LmluaXRpYWxpemVPZmZzaXRlUGF5bWVudCh0LG51bGwsZSl9KSl9LHQucHJvdG90eXBlLl90cmFuc2Zvcm1SZXNwb25zZT1mdW5jdGlvbih0KXtyZXR1cm57aGVhZGVyczp0LmhlYWRlcnMsYm9keTp0LmRhdGEsc3RhdHVzOnQuc3RhdHVzLHN0YXR1c1RleHQ6dC5zdGF0dXNUZXh0fX0sdH0oKTtlLmE9cn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIDA9PT0oXCJcIit0KS5pbmRleE9mKFwiJCRcIil8fDA9PT0oXCJcIit0KS5pbmRleE9mKFwiX1wiKX1uLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMCksaT1uKDEpLG89bigxNzApLGE9bigzNSkscz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dmFyIHI9dC5jYWxsKHRoaXMsZSx7bWVzc2FnZTpufHxcIkFuIHVuZXhwZWN0ZWQgZXJyb3IgaGFzIG9jY3VycmVkLiBUaGUgY2hlY2tvdXQgcHJvY2VzcyBjYW5ub3QgY29udGludWUgYXMgYSByZXN1bHQuXCJ9KXx8dGhpcztyZXR1cm4gci5uYW1lPVwiVW5yZWNvdmVyYWJsZUVycm9yXCIsci50eXBlPVwidW5yZWNvdmVyYWJsZVwiLHJ9cmV0dXJuIE9iamVjdChyLl9fZXh0ZW5kcykoZSx0KSxlfShhLmEpLGM9bigyKTtmdW5jdGlvbiB1KHQpe3JldHVybiB0LnJlZHVjZSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gZT9PYmplY3Qoci5fX3NwcmVhZEFycmF5cykodCxbZV0pOnR9KSxbXSkuam9pbihcIiBcIil9dmFyIGQ9bigxNjgpLHA9bigxNjkpLGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5fZmFjdG9yeU1ldGhvZHM9e30sdGhpcy5yZWdpc3RlcihcImRlZmF1bHRcIiwoZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IGEuYSh0LHttZXNzYWdlOmV9KX0pKSx0aGlzLnJlZ2lzdGVyKFwiaW50ZXJuYWxcIiwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgbj10LmJvZHkscj1uLmVycm9ycyxpPXZvaWQgMD09PXI/W106cjtyZXR1cm4gbmV3IGEuYSh0LHttZXNzYWdlOnUoaSl8fG4uZGV0YWlsfHxuLnRpdGxlfHxlLGVycm9yczppLmxlbmd0aD9pLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJue2NvZGU6bi50eXBlLG1lc3NhZ2U6dH19KSk6W3tjb2RlOm4udHlwZSxtZXNzYWdlOm4uZGV0YWlsfHxuLnRpdGxlfV19KX0odCxlKX0pKSx0aGlzLnJlZ2lzdGVyKFwic3RvcmVmcm9udFwiLChmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbih0LGUpe3ZhciBuPXQuYm9keTtyZXR1cm4gbmV3IGEuYSh0LHttZXNzYWdlOmV8fG4uZGV0YWlsfHxuLnRpdGxlLGVycm9yczpbe2NvZGU6bi5jb2RlfHxuLnR5cGUsbWVzc2FnZTpuLmRldGFpbHx8bi50aXRsZX1dfSl9KHQsZSl9KSksdGhpcy5yZWdpc3RlcihcInBheW1lbnRcIiwoZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0KGQuYSkodCxlKX0pKSx0aGlzLnJlZ2lzdGVyKFwidGltZW91dFwiLChmdW5jdGlvbih0KXtyZXR1cm4gbmV3IHAuYSh0KX0pKX1yZXR1cm4gdC5wcm90b3R5cGUucmVnaXN0ZXI9ZnVuY3Rpb24odCxlKXt0aGlzLl9mYWN0b3J5TWV0aG9kc1t0XT1lfSx0LnByb3RvdHlwZS5jcmVhdGVFcnJvcj1mdW5jdGlvbih0LGUpe3JldHVybih0aGlzLl9mYWN0b3J5TWV0aG9kc1t0aGlzLl9nZXRUeXBlKHQpXXx8dGhpcy5fZmFjdG9yeU1ldGhvZHMuZGVmYXVsdCkodCxlKX0sdC5wcm90b3R5cGUuX2dldFR5cGU9ZnVuY3Rpb24odCl7aWYoMD09PXQuc3RhdHVzKXJldHVyblwidGltZW91dFwiO2lmKHRoaXMuX2lzU3RvcmVmcm9udEVycm9yUmVzcG9uc2VCb2R5KHQuYm9keSkpcmV0dXJuXCJzdG9yZWZyb250XCI7aWYodGhpcy5faXNJbnRlcm5hbEVycm9yUmVzcG9uc2VCb2R5KHQuYm9keSkpe3ZhciBlPU9iamVjdChjLmxhc3QpKHQuYm9keS50eXBlLnNwbGl0KFwiL1wiKSk7cmV0dXJuIGUmJnRoaXMuX2ZhY3RvcnlNZXRob2RzW2VdP2U6XCJpbnRlcm5hbFwifXZhciBuPU9iamVjdChjLmxhc3QpKHQuYm9keSYmdC5ib2R5LmVycm9ycyk7cmV0dXJuIG4mJm4uY29kZSYmdGhpcy5fZmFjdG9yeU1ldGhvZHNbbi5jb2RlXT9uLmNvZGU6XCJwYXltZW50XCJ9LHQucHJvdG90eXBlLl9pc1N0b3JlZnJvbnRFcnJvclJlc3BvbnNlQm9keT1mdW5jdGlvbih0KXt2YXIgZT10O3JldHVybiF0aGlzLl9pc0ludGVybmFsRXJyb3JSZXNwb25zZUJvZHkodCkmJlwic3RyaW5nXCI9PXR5cGVvZiBlLnRpdGxlJiZcInN0cmluZ1wiPT10eXBlb2YgZS50eXBlJiZcIm51bWJlclwiPT10eXBlb2YgZS5zdGF0dXMmJlwic3RyaW5nXCI9PXR5cGVvZiBlLmRldGFpbH0sdC5wcm90b3R5cGUuX2lzSW50ZXJuYWxFcnJvclJlc3BvbnNlQm9keT1mdW5jdGlvbih0KXt2YXIgZT10O3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiBlLmVycm9ycyYmXCJzdHJpbmdcIj09dHlwZW9mIGUudGl0bGUmJlwic3RyaW5nXCI9PXR5cGVvZiBlLnR5cGUmJlwibnVtYmVyXCI9PXR5cGVvZiBlLnN0YXR1c30sdH0oKTt2YXIgbD1uKDMpLG09big4KTt2YXIgZj1uKDE2KSxfPW4oMTI4KSx5PW4oODYpO2Z1bmN0aW9uIGcodCxlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHQudHlwZT09PXkuYS5DbGVhckVycm9yfShlKT9PYmplY3QoXy5hKSh0LChmdW5jdGlvbih0KXtyZXR1cm4gdD09PWUucGF5bG9hZH0pKTp0fXZhciBiPW4oNzApO2Z1bmN0aW9uIHYodCxlKXtyZXR1cm4gdm9pZCAwPT09ZXx8T2JqZWN0KGIuYSkodCxlKT90OmV9ZnVuY3Rpb24gQyh0LGUsbil7dmFyIGk7cmV0dXJuIHQmJnQuaGFzT3duUHJvcGVydHkoZSkmJk9iamVjdChiLmEpKHRbZV0sbik/dDpPYmplY3Qoci5fX2Fzc2lnbikoT2JqZWN0KHIuX19hc3NpZ24pKHt9LHQpLCgoaT17fSlbZV09bixpKSl9dmFyIE89bigxNyksUz1uKDE3Miksdz1uKDE5KSxJPXtlcnJvcnM6e30sc3RhdHVzZXM6e319O2Z1bmN0aW9uIEEodCxlKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9SSksT2JqZWN0KGkuY29tYmluZVJlZHVjZXJzKSh7ZGF0YTpFLGVycm9yczpPYmplY3QoaS5jb21wb3NlUmVkdWNlcnMpKFAsZyksc3RhdHVzZXM6an0pKHQsZSl9ZnVuY3Rpb24gRSh0LGUpe3N3aXRjaChlLnR5cGUpe2Nhc2Ugdy5hLlVwZGF0ZUJpbGxpbmdBZGRyZXNzU3VjY2VlZGVkOmNhc2Ugdy5hLkNvbnRpbnVlQXNHdWVzdFN1Y2NlZWRlZDpjYXNlIGYuYS5Mb2FkQ2hlY2tvdXRTdWNjZWVkZWQ6Y2FzZSBPLmEuTG9hZE9yZGVyU3VjY2VlZGVkOnJldHVybiB2KHQsZS5wYXlsb2FkJiZlLnBheWxvYWQuYmlsbGluZ0FkZHJlc3MpO2RlZmF1bHQ6cmV0dXJuIHR9fWZ1bmN0aW9uIFAodCxlKXtzd2l0Y2godm9pZCAwPT09dCYmKHQ9SS5lcnJvcnMpLGUudHlwZSl7Y2FzZSBmLmEuTG9hZENoZWNrb3V0UmVxdWVzdGVkOmNhc2UgZi5hLkxvYWRDaGVja291dFN1Y2NlZWRlZDpyZXR1cm4gQyh0LFwibG9hZEVycm9yXCIsdm9pZCAwKTtjYXNlIGYuYS5Mb2FkQ2hlY2tvdXRGYWlsZWQ6cmV0dXJuIEModCxcImxvYWRFcnJvclwiLGUucGF5bG9hZCk7Y2FzZSB3LmEuVXBkYXRlQmlsbGluZ0FkZHJlc3NSZXF1ZXN0ZWQ6Y2FzZSB3LmEuVXBkYXRlQmlsbGluZ0FkZHJlc3NTdWNjZWVkZWQ6cmV0dXJuIEModCxcInVwZGF0ZUVycm9yXCIsdm9pZCAwKTtjYXNlIHcuYS5VcGRhdGVCaWxsaW5nQWRkcmVzc0ZhaWxlZDpyZXR1cm4gQyh0LFwidXBkYXRlRXJyb3JcIixlLnBheWxvYWQpO2Nhc2UgUy5hLlVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0ZWQ6Y2FzZSBTLmEuVXBkYXRlU3Vic2NyaXB0aW9uc1N1Y2NlZWRlZDpjYXNlIHcuYS5Db250aW51ZUFzR3Vlc3RSZXF1ZXN0ZWQ6Y2FzZSB3LmEuQ29udGludWVBc0d1ZXN0U3VjY2VlZGVkOnJldHVybiBDKHQsXCJjb250aW51ZUFzR3Vlc3RFcnJvclwiLHZvaWQgMCk7Y2FzZSBTLmEuVXBkYXRlU3Vic2NyaXB0aW9uc0ZhaWxlZDpjYXNlIHcuYS5Db250aW51ZUFzR3Vlc3RGYWlsZWQ6cmV0dXJuIEModCxcImNvbnRpbnVlQXNHdWVzdEVycm9yXCIsZS5wYXlsb2FkKTtkZWZhdWx0OnJldHVybiB0fX1mdW5jdGlvbiBqKHQsZSl7c3dpdGNoKHZvaWQgMD09PXQmJih0PUkuc3RhdHVzZXMpLGUudHlwZSl7Y2FzZSBmLmEuTG9hZENoZWNrb3V0UmVxdWVzdGVkOnJldHVybiBDKHQsXCJpc0xvYWRpbmdcIiwhMCk7Y2FzZSBmLmEuTG9hZENoZWNrb3V0U3VjY2VlZGVkOmNhc2UgZi5hLkxvYWRDaGVja291dEZhaWxlZDpyZXR1cm4gQyh0LFwiaXNMb2FkaW5nXCIsITEpO2Nhc2Ugdy5hLlVwZGF0ZUJpbGxpbmdBZGRyZXNzUmVxdWVzdGVkOnJldHVybiBDKHQsXCJpc1VwZGF0aW5nXCIsITApO2Nhc2Ugdy5hLlVwZGF0ZUJpbGxpbmdBZGRyZXNzRmFpbGVkOmNhc2Ugdy5hLlVwZGF0ZUJpbGxpbmdBZGRyZXNzU3VjY2VlZGVkOnJldHVybiBDKHQsXCJpc1VwZGF0aW5nXCIsITEpO2Nhc2Ugdy5hLkNvbnRpbnVlQXNHdWVzdFJlcXVlc3RlZDpjYXNlIFMuYS5VcGRhdGVTdWJzY3JpcHRpb25zUmVxdWVzdGVkOnJldHVybiBDKHQsXCJpc0NvbnRpbnVpbmdBc0d1ZXN0XCIsITApO2Nhc2UgUy5hLlVwZGF0ZVN1YnNjcmlwdGlvbnNTdWNjZWVkZWQ6Y2FzZSBTLmEuVXBkYXRlU3Vic2NyaXB0aW9uc0ZhaWxlZDpjYXNlIHcuYS5Db250aW51ZUFzR3Vlc3RGYWlsZWQ6Y2FzZSB3LmEuQ29udGludWVBc0d1ZXN0U3VjY2VlZGVkOnJldHVybiBDKHQsXCJpc0NvbnRpbnVpbmdBc0d1ZXN0XCIsITEpO2RlZmF1bHQ6cmV0dXJuIHR9fXZhciBrPW4oNDEpO3ZhciBNPWZ1bmN0aW9uIHQoZSxuLHIpe3ZhciBpPShyfHx7fSkubWF0Y2hPYmplY3Qsbz12b2lkIDA9PT1pP2Z1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMCE9PXQuaWQmJnQuaWQ9PT1lLmlkfTppO2lmKCFlKXJldHVybiBuO2lmKCFufHxlPT09bilyZXR1cm4gZTt2YXIgYT0wLHM9MCx1PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gYSs9dD09PWU/MTowLHMrPXQ9PT1uPzE6MCx0fSxkPW4ubWFwKChmdW5jdGlvbihuLHIpe3ZhciBpPWUmJmVbcl07cmV0dXJuIE9iamVjdChrLmEpKGkpJiZPYmplY3Qoay5hKShuKT9vKGksbik/dShUKGksbiksaSxuKTp1KHYoaSxuKSxpLG4pOk9iamVjdChjLmlzQXJyYXkpKGkpJiZPYmplY3QoYy5pc0FycmF5KShuKT91KHQoaSxuKSxpLG4pOnUodihpLG4pLGksbil9KSk7cmV0dXJuIGE9PT1uLmxlbmd0aCYmZSYmZS5sZW5ndGg9PT1uLmxlbmd0aD9lOnM9PT1uLmxlbmd0aD9uOmR9O3ZhciBUPWZ1bmN0aW9uIHQoZSxuKXtyZXR1cm4gZT9uJiZlIT09bj9PYmplY3Qua2V5cyhuKS5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7dmFyIGk9ZVtyXSxvPW5bcl07cmV0dXJuIE9iamVjdChrLmEpKGkpJiZPYmplY3Qoay5hKShvKT9DKGUscix0KGksbykpOk9iamVjdChjLmlzQXJyYXkpKGkpJiZPYmplY3QoYy5pc0FycmF5KShvKT9DKGUscixNKGksbykpOkMoZSxyLG8pfSksZSk6ZTpufSxSPW4oMjEpLEQ9bigyNSksej1uKDYpLEw9e2Vycm9yczp7fSxzdGF0dXNlczp7fX07ZnVuY3Rpb24gTih0LGUpe3JldHVybiB2b2lkIDA9PT10JiYodD1MKSxPYmplY3QoaS5jb21iaW5lUmVkdWNlcnMpKHtkYXRhOkYsZXJyb3JzOk9iamVjdChpLmNvbXBvc2VSZWR1Y2VycykoVSxnKSxzdGF0dXNlczpxfSkodCxlKX1mdW5jdGlvbiBGKHQsZSl7c3dpdGNoKGUudHlwZSl7Y2FzZSB3LmEuVXBkYXRlQmlsbGluZ0FkZHJlc3NTdWNjZWVkZWQ6Y2FzZSBmLmEuTG9hZENoZWNrb3V0U3VjY2VlZGVkOmNhc2Ugei5hLkNyZWF0ZUNvbnNpZ25tZW50c1N1Y2NlZWRlZDpjYXNlIHouYS5EZWxldGVDb25zaWdubWVudFN1Y2NlZWRlZDpjYXNlIHouYS5VcGRhdGVDb25zaWdubWVudFN1Y2NlZWRlZDpjYXNlIHouYS5VcGRhdGVTaGlwcGluZ09wdGlvblN1Y2NlZWRlZDpjYXNlIHouYS5Mb2FkU2hpcHBpbmdPcHRpb25zU3VjY2VlZGVkOmNhc2UgUi5hLkFwcGx5Q291cG9uU3VjY2VlZGVkOmNhc2UgUi5hLlJlbW92ZUNvdXBvblN1Y2NlZWRlZDpjYXNlIEQuYS5BcHBseUdpZnRDZXJ0aWZpY2F0ZVN1Y2NlZWRlZDpjYXNlIEQuYS5SZW1vdmVHaWZ0Q2VydGlmaWNhdGVTdWNjZWVkZWQ6cmV0dXJuIFQodCxlLnBheWxvYWQmJmUucGF5bG9hZC5jYXJ0KTtkZWZhdWx0OnJldHVybiB0fX1mdW5jdGlvbiBxKHQsZSl7c3dpdGNoKHZvaWQgMD09PXQmJih0PUwuc3RhdHVzZXMpLGUudHlwZSl7Y2FzZSBmLmEuTG9hZENoZWNrb3V0UmVxdWVzdGVkOnJldHVybiBDKHQsXCJpc0xvYWRpbmdcIiwhMCk7Y2FzZSBmLmEuTG9hZENoZWNrb3V0RmFpbGVkOmNhc2UgZi5hLkxvYWRDaGVja291dFN1Y2NlZWRlZDpyZXR1cm4gQyh0LFwiaXNMb2FkaW5nXCIsITEpO2RlZmF1bHQ6cmV0dXJuIHR9fWZ1bmN0aW9uIFUodCxlKXtzd2l0Y2godm9pZCAwPT09dCYmKHQ9TC5lcnJvcnMpLGUudHlwZSl7Y2FzZSBmLmEuTG9hZENoZWNrb3V0UmVxdWVzdGVkOmNhc2UgZi5hLkxvYWRDaGVja291dFN1Y2NlZWRlZDpyZXR1cm4gQyh0LFwibG9hZEVycm9yXCIsdm9pZCAwKTtjYXNlIGYuYS5Mb2FkQ2hlY2tvdXRGYWlsZWQ6cmV0dXJuIEModCxcImxvYWRFcnJvclwiLGUucGF5bG9hZCk7ZGVmYXVsdDpyZXR1cm4gdH19dmFyIHg9bigyMCksQj17ZGF0YTp7fSxlcnJvcnM6e30sc3RhdHVzZXM6e319LEc9e2luaXRpYWxpemVkQ29udGFpbmVyczp7fX0sVj17fSxZPXt9O2Z1bmN0aW9uIEgodCxlKXt2YXIgbixyLG87cmV0dXJuIHZvaWQgMD09PXQmJih0PUIpLGUubWV0YSYmZS5tZXRhLm1ldGhvZElkP09iamVjdChpLmNvbWJpbmVSZWR1Y2Vycykoe2RhdGE6T2JqZWN0KGkuY29tYmluZVJlZHVjZXJzKSgobj17fSxuW2UubWV0YS5tZXRob2RJZF09VyxuKSksZXJyb3JzOk9iamVjdChpLmNvbWJpbmVSZWR1Y2VycykoKHI9e30scltlLm1ldGEubWV0aG9kSWRdPUsscikpLHN0YXR1c2VzOk9iamVjdChpLmNvbWJpbmVSZWR1Y2VycykoKG89e30sb1tlLm1ldGEubWV0aG9kSWRdPUosbykpfSkodCxlKTp0fWZ1bmN0aW9uIFcodCxlKXt2YXIgbjtzd2l0Y2godm9pZCAwPT09dCYmKHQ9RyksZS50eXBlKXtjYXNlIHguYS5Jbml0aWFsaXplQnV0dG9uU3VjY2VlZGVkOnJldHVybiBlLm1ldGEmJmUubWV0YS5jb250YWluZXJJZD9UKHQse2luaXRpYWxpemVkQ29udGFpbmVyczoobj17fSxuW2UubWV0YS5jb250YWluZXJJZF09ITAsbil9KTp0O2Nhc2UgeC5hLkRlaW5pdGlhbGl6ZUJ1dHRvblN1Y2NlZWRlZDpyZXR1cm4gQyh0LFwiaW5pdGlhbGl6ZWRDb250YWluZXJzXCIse30pfXJldHVybiB0fWZ1bmN0aW9uIEsodCxlKXtzd2l0Y2godm9pZCAwPT09dCYmKHQ9ViksZS50eXBlKXtjYXNlIHguYS5Jbml0aWFsaXplQnV0dG9uUmVxdWVzdGVkOmNhc2UgeC5hLkluaXRpYWxpemVCdXR0b25TdWNjZWVkZWQ6cmV0dXJuIEModCxcImluaXRpYWxpemVFcnJvclwiLHZvaWQgMCk7Y2FzZSB4LmEuSW5pdGlhbGl6ZUJ1dHRvbkZhaWxlZDpyZXR1cm4gQyh0LFwiaW5pdGlhbGl6ZUVycm9yXCIsZS5wYXlsb2FkKTtjYXNlIHguYS5EZWluaXRpYWxpemVCdXR0b25SZXF1ZXN0ZWQ6Y2FzZSB4LmEuRGVpbml0aWFsaXplQnV0dG9uU3VjY2VlZGVkOnJldHVybiBDKHQsXCJkZWluaXRpYWxpemVFcnJvclwiLHZvaWQgMCk7Y2FzZSB4LmEuRGVpbml0aWFsaXplQnV0dG9uRmFpbGVkOnJldHVybiBDKHQsXCJkZWluaXRpYWxpemVFcnJvclwiLGUucGF5bG9hZCk7ZGVmYXVsdDpyZXR1cm4gdH19ZnVuY3Rpb24gSih0LGUpe3N3aXRjaCh2b2lkIDA9PT10JiYodD1ZKSxlLnR5cGUpe2Nhc2UgeC5hLkluaXRpYWxpemVCdXR0b25SZXF1ZXN0ZWQ6cmV0dXJuIEModCxcImlzSW5pdGlhbGl6aW5nXCIsITApO2Nhc2UgeC5hLkluaXRpYWxpemVCdXR0b25GYWlsZWQ6Y2FzZSB4LmEuSW5pdGlhbGl6ZUJ1dHRvblN1Y2NlZWRlZDpyZXR1cm4gQyh0LFwiaXNJbml0aWFsaXppbmdcIiwhMSk7Y2FzZSB4LmEuRGVpbml0aWFsaXplQnV0dG9uUmVxdWVzdGVkOnJldHVybiBDKHQsXCJpc0RlaW5pdGlhbGl6aW5nXCIsITApO2Nhc2UgeC5hLkRlaW5pdGlhbGl6ZUJ1dHRvbkZhaWxlZDpjYXNlIHguYS5EZWluaXRpYWxpemVCdXR0b25TdWNjZWVkZWQ6cmV0dXJuIEModCxcImlzRGVpbml0aWFsaXppbmdcIiwhMSk7ZGVmYXVsdDpyZXR1cm4gdH19dmFyIFo9bigzNyksUT17bWV0YTp7fSxlcnJvcnM6e30sc3RhdHVzZXM6e319O2Z1bmN0aW9uIFgodCxlKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9USksT2JqZWN0KGkuY29tYmluZVJlZHVjZXJzKSh7ZGF0YTokLGVycm9yczpPYmplY3QoaS5jb21wb3NlUmVkdWNlcnMpKHR0LGcpLHN0YXR1c2VzOmV0fSkodCxlKX1mdW5jdGlvbiAkKHQsZSl7c3dpdGNoKGUudHlwZSl7Y2FzZSBaLmEuTG9hZENvbmZpZ1N1Y2NlZWRlZDpyZXR1cm4gVCh0LGUucGF5bG9hZCk7ZGVmYXVsdDpyZXR1cm4gdH19ZnVuY3Rpb24gdHQodCxlKXtzd2l0Y2godm9pZCAwPT09dCYmKHQ9US5lcnJvcnMpLGUudHlwZSl7Y2FzZSBaLmEuTG9hZENvbmZpZ1N1Y2NlZWRlZDpyZXR1cm4gQyh0LFwibG9hZEVycm9yXCIsdm9pZCAwKTtjYXNlIFouYS5Mb2FkQ29uZmlnRmFpbGVkOnJldHVybiBDKHQsXCJsb2FkRXJyb3JcIixlLnBheWxvYWQpO2RlZmF1bHQ6cmV0dXJuIHR9fWZ1bmN0aW9uIGV0KHQsZSl7c3dpdGNoKHZvaWQgMD09PXQmJih0PVEuc3RhdHVzZXMpLGUudHlwZSl7Y2FzZSBaLmEuTG9hZENvbmZpZ1JlcXVlc3RlZDpyZXR1cm4gQyh0LFwiaXNMb2FkaW5nXCIsITApO2Nhc2UgWi5hLkxvYWRDb25maWdTdWNjZWVkZWQ6Y2FzZSBaLmEuTG9hZENvbmZpZ0ZhaWxlZDpyZXR1cm4gQyh0LFwiaXNMb2FkaW5nXCIsITEpO2RlZmF1bHQ6cmV0dXJuIHR9fXZhciBudD17ZXJyb3JzOnt9LHN0YXR1c2VzOnt9fTtmdW5jdGlvbiBydCh0LGUpe3JldHVybiB2b2lkIDA9PT10JiYodD1udCksT2JqZWN0KGkuY29tYmluZVJlZHVjZXJzKSh7ZGF0YTppdCxlcnJvcnM6T2JqZWN0KGkuY29tcG9zZVJlZHVjZXJzKShvdCxnKSxzdGF0dXNlczphdH0pKHQsZSl9ZnVuY3Rpb24gaXQodCxlKXtzd2l0Y2goZS50eXBlKXtjYXNlIGYuYS5Mb2FkQ2hlY2tvdXRTdWNjZWVkZWQ6Y2FzZSBSLmEuQXBwbHlDb3Vwb25TdWNjZWVkZWQ6Y2FzZSB6LmEuVXBkYXRlU2hpcHBpbmdPcHRpb25TdWNjZWVkZWQ6Y2FzZSBSLmEuUmVtb3ZlQ291cG9uU3VjY2VlZGVkOmNhc2UgTy5hLkxvYWRPcmRlclN1Y2NlZWRlZDpyZXR1cm4gTSh0LGUucGF5bG9hZCYmZS5wYXlsb2FkLmNvdXBvbnMpO2RlZmF1bHQ6cmV0dXJuIHR9fWZ1bmN0aW9uIG90KHQsZSl7c3dpdGNoKHZvaWQgMD09PXQmJih0PXt9KSxlLnR5cGUpe2Nhc2UgUi5hLkFwcGx5Q291cG9uUmVxdWVzdGVkOmNhc2UgUi5hLkFwcGx5Q291cG9uU3VjY2VlZGVkOnJldHVybiBDKHQsXCJhcHBseUNvdXBvbkVycm9yXCIsdm9pZCAwKTtjYXNlIFIuYS5BcHBseUNvdXBvbkZhaWxlZDpyZXR1cm4gQyh0LFwiYXBwbHlDb3Vwb25FcnJvclwiLGUucGF5bG9hZCk7Y2FzZSBSLmEuUmVtb3ZlQ291cG9uUmVxdWVzdGVkOmNhc2UgUi5hLlJlbW92ZUNvdXBvblN1Y2NlZWRlZDpyZXR1cm4gQyh0LFwicmVtb3ZlQ291cG9uRXJyb3JcIix2b2lkIDApO2Nhc2UgUi5hLlJlbW92ZUNvdXBvbkZhaWxlZDpyZXR1cm4gQyh0LFwicmVtb3ZlQ291cG9uRXJyb3JcIixlLnBheWxvYWQpO2RlZmF1bHQ6cmV0dXJuIHR9fWZ1bmN0aW9uIGF0KHQsZSl7c3dpdGNoKHZvaWQgMD09PXQmJih0PXt9KSxlLnR5cGUpe2Nhc2UgUi5hLkFwcGx5Q291cG9uUmVxdWVzdGVkOnJldHVybiBDKHQsXCJpc0FwcGx5aW5nQ291cG9uXCIsITApO2Nhc2UgUi5hLkFwcGx5Q291cG9uU3VjY2VlZGVkOmNhc2UgUi5hLkFwcGx5Q291cG9uRmFpbGVkOnJldHVybiBDKHQsXCJpc0FwcGx5aW5nQ291cG9uXCIsITEpO2Nhc2UgUi5hLlJlbW92ZUNvdXBvblJlcXVlc3RlZDpyZXR1cm4gQyh0LFwiaXNSZW1vdmluZ0NvdXBvblwiLCEwKTtjYXNlIFIuYS5SZW1vdmVDb3Vwb25TdWNjZWVkZWQ6Y2FzZSBSLmEuUmVtb3ZlQ291cG9uRmFpbGVkOnJldHVybiBDKHQsXCJpc1JlbW92aW5nQ291cG9uXCIsITEpO2RlZmF1bHQ6cmV0dXJuIHR9fXZhciBzdD17ZXJyb3JzOnt9LHN0YXR1c2VzOnt9fTtmdW5jdGlvbiBjdCh0LGUpe3JldHVybiB2b2lkIDA9PT10JiYodD1zdCksT2JqZWN0KGkuY29tYmluZVJlZHVjZXJzKSh7ZGF0YTp1dCxlcnJvcnM6T2JqZWN0KGkuY29tcG9zZVJlZHVjZXJzKShkdCxnKSxzdGF0dXNlczpwdH0pKHQsZSl9ZnVuY3Rpb24gdXQodCxlKXtzd2l0Y2goZS50eXBlKXtjYXNlIGYuYS5Mb2FkQ2hlY2tvdXRTdWNjZWVkZWQ6Y2FzZSB6LmEuQ3JlYXRlQ29uc2lnbm1lbnRzU3VjY2VlZGVkOmNhc2Ugei5hLlVwZGF0ZUNvbnNpZ25tZW50U3VjY2VlZGVkOmNhc2Ugei5hLkRlbGV0ZUNvbnNpZ25tZW50U3VjY2VlZGVkOmNhc2Ugei5hLlVwZGF0ZVNoaXBwaW5nT3B0aW9uU3VjY2VlZGVkOmNhc2UgUi5hLkFwcGx5Q291cG9uU3VjY2VlZGVkOmNhc2UgUi5hLlJlbW92ZUNvdXBvblN1Y2NlZWRlZDpjYXNlIEQuYS5BcHBseUdpZnRDZXJ0aWZpY2F0ZVN1Y2NlZWRlZDpjYXNlIEQuYS5SZW1vdmVHaWZ0Q2VydGlmaWNhdGVTdWNjZWVkZWQ6cmV0dXJuIE0odCxlLnBheWxvYWQmJmUucGF5bG9hZC5naWZ0Q2VydGlmaWNhdGVzKTtkZWZhdWx0OnJldHVybiB0fX1mdW5jdGlvbiBkdCh0LGUpe3N3aXRjaCh2b2lkIDA9PT10JiYodD1zdC5lcnJvcnMpLGUudHlwZSl7Y2FzZSBELmEuQXBwbHlHaWZ0Q2VydGlmaWNhdGVSZXF1ZXN0ZWQ6Y2FzZSBELmEuQXBwbHlHaWZ0Q2VydGlmaWNhdGVTdWNjZWVkZWQ6cmV0dXJuIEModCxcImFwcGx5R2lmdENlcnRpZmljYXRlRXJyb3JcIix2b2lkIDApO2Nhc2UgRC5hLkFwcGx5R2lmdENlcnRpZmljYXRlRmFpbGVkOnJldHVybiBDKHQsXCJhcHBseUdpZnRDZXJ0aWZpY2F0ZUVycm9yXCIsZS5wYXlsb2FkKTtjYXNlIEQuYS5SZW1vdmVHaWZ0Q2VydGlmaWNhdGVSZXF1ZXN0ZWQ6Y2FzZSBELmEuUmVtb3ZlR2lmdENlcnRpZmljYXRlU3VjY2VlZGVkOnJldHVybiBDKHQsXCJyZW1vdmVHaWZ0Q2VydGlmaWNhdGVFcnJvclwiLHZvaWQgMCk7Y2FzZSBELmEuUmVtb3ZlR2lmdENlcnRpZmljYXRlRmFpbGVkOnJldHVybiBDKHQsXCJyZW1vdmVHaWZ0Q2VydGlmaWNhdGVFcnJvclwiLGUucGF5bG9hZCk7ZGVmYXVsdDpyZXR1cm4gdH19ZnVuY3Rpb24gcHQodCxlKXtzd2l0Y2godm9pZCAwPT09dCYmKHQ9c3Quc3RhdHVzZXMpLGUudHlwZSl7Y2FzZSBELmEuQXBwbHlHaWZ0Q2VydGlmaWNhdGVSZXF1ZXN0ZWQ6cmV0dXJuIEModCxcImlzQXBwbHlpbmdHaWZ0Q2VydGlmaWNhdGVcIiwhMCk7Y2FzZSBELmEuQXBwbHlHaWZ0Q2VydGlmaWNhdGVTdWNjZWVkZWQ6Y2FzZSBELmEuQXBwbHlHaWZ0Q2VydGlmaWNhdGVGYWlsZWQ6cmV0dXJuIEModCxcImlzQXBwbHlpbmdHaWZ0Q2VydGlmaWNhdGVcIiwhMSk7Y2FzZSBELmEuUmVtb3ZlR2lmdENlcnRpZmljYXRlUmVxdWVzdGVkOnJldHVybiBDKHQsXCJpc1JlbW92aW5nR2lmdENlcnRpZmljYXRlXCIsITApO2Nhc2UgRC5hLlJlbW92ZUdpZnRDZXJ0aWZpY2F0ZVN1Y2NlZWRlZDpjYXNlIEQuYS5SZW1vdmVHaWZ0Q2VydGlmaWNhdGVGYWlsZWQ6cmV0dXJuIEModCxcImlzUmVtb3ZpbmdHaWZ0Q2VydGlmaWNhdGVcIiwhMSk7ZGVmYXVsdDpyZXR1cm4gdH19dmFyIGh0PW4oMzQpLGx0PXtlcnJvcnM6e30sc3RhdHVzZXM6e319O2Z1bmN0aW9uIG10KHQsZSl7cmV0dXJuIHZvaWQgMD09PXQmJih0PWx0KSxPYmplY3QoaS5jb21iaW5lUmVkdWNlcnMpKHtkYXRhOmZ0LGVycm9yczpPYmplY3QoaS5jb21wb3NlUmVkdWNlcnMpKF90LGcpLHN0YXR1c2VzOnl0fSkodCxlKX1mdW5jdGlvbiBmdCh0LGUpe3N3aXRjaChlLnR5cGUpe2Nhc2Ugdy5hLkNvbnRpbnVlQXNHdWVzdFN1Y2NlZWRlZDpjYXNlIGYuYS5Mb2FkQ2hlY2tvdXRTdWNjZWVkZWQ6cmV0dXJuIFQodCxlLnBheWxvYWQmJmUucGF5bG9hZC5jdXN0b21lcik7ZGVmYXVsdDpyZXR1cm4gdH19ZnVuY3Rpb24gX3QodCxlKXtzd2l0Y2godm9pZCAwPT09dCYmKHQ9bHQuZXJyb3JzKSxlLnR5cGUpe2Nhc2UgaHQuYS5DcmVhdGVDdXN0b21lclJlcXVlc3RlZDpjYXNlIGh0LmEuQ3JlYXRlQ3VzdG9tZXJTdWNjZWVkZWQ6cmV0dXJuIEModCxcImNyZWF0ZUVycm9yXCIsdm9pZCAwKTtjYXNlIGh0LmEuQ3JlYXRlQ3VzdG9tZXJGYWlsZWQ6cmV0dXJuIEModCxcImNyZWF0ZUVycm9yXCIsZS5wYXlsb2FkKTtkZWZhdWx0OnJldHVybiB0fX1mdW5jdGlvbiB5dCh0LGUpe3N3aXRjaCh2b2lkIDA9PT10JiYodD1sdC5zdGF0dXNlcyksZS50eXBlKXtjYXNlIGh0LmEuQ3JlYXRlQ3VzdG9tZXJSZXF1ZXN0ZWQ6cmV0dXJuIEModCxcImlzQ3JlYXRpbmdcIiwhMCk7Y2FzZSBodC5hLkNyZWF0ZUN1c3RvbWVyRmFpbGVkOmNhc2UgaHQuYS5DcmVhdGVDdXN0b21lclN1Y2NlZWRlZDpyZXR1cm4gQyh0LFwiaXNDcmVhdGluZ1wiLCExKTtkZWZhdWx0OnJldHVybiB0fX12YXIgZ3Q9bigxMCksYnQ9e2RhdGE6e30sZXJyb3JzOnt9LHN0YXR1c2VzOnt9fTtmdW5jdGlvbiB2dCh0LGUpe3JldHVybiB2b2lkIDA9PT10JiYodD1idCksT2JqZWN0KGkuY29tYmluZVJlZHVjZXJzKSh7ZGF0YTpDdCxlcnJvcnM6T2JqZWN0KGkuY29tcG9zZVJlZHVjZXJzKShPdCxnKSxzdGF0dXNlczpTdH0pKHQsZSl9ZnVuY3Rpb24gQ3QodCxlKXt2YXIgbixyO3N3aXRjaCh2b2lkIDA9PT10JiYodD1idC5kYXRhKSxlLnR5cGUpe2Nhc2UgZ3QuYS5Jbml0aWFsaXplU3VjY2VlZGVkOnJldHVybiBUKHQsKChuPXt9KVtlLm1ldGEmJmUubWV0YS5tZXRob2RJZF09e2lzSW5pdGlhbGl6ZWQ6ITB9LG4pKTtjYXNlIGd0LmEuRGVpbml0aWFsaXplU3VjY2VlZGVkOnJldHVybiBUKHQsKChyPXt9KVtlLm1ldGEmJmUubWV0YS5tZXRob2RJZF09e2lzSW5pdGlhbGl6ZWQ6ITF9LHIpKX1yZXR1cm4gdH1mdW5jdGlvbiBPdCh0LGUpe3N3aXRjaCh2b2lkIDA9PT10JiYodD1idC5lcnJvcnMpLGUudHlwZSl7Y2FzZSBndC5hLkluaXRpYWxpemVSZXF1ZXN0ZWQ6Y2FzZSBndC5hLkluaXRpYWxpemVTdWNjZWVkZWQ6cmV0dXJuIFQodCx7aW5pdGlhbGl6ZUVycm9yOnZvaWQgMCxpbml0aWFsaXplTWV0aG9kSWQ6dm9pZCAwfSk7Y2FzZSBndC5hLkluaXRpYWxpemVGYWlsZWQ6cmV0dXJuIFQodCx7aW5pdGlhbGl6ZUVycm9yOmUucGF5bG9hZCxpbml0aWFsaXplTWV0aG9kSWQ6ZS5tZXRhJiZlLm1ldGEubWV0aG9kSWR9KTtjYXNlIGd0LmEuRGVpbml0aWFsaXplUmVxdWVzdGVkOmNhc2UgZ3QuYS5EZWluaXRpYWxpemVTdWNjZWVkZWQ6cmV0dXJuIFQodCx7ZGVpbml0aWFsaXplRXJyb3I6dm9pZCAwLGRlaW5pdGlhbGl6ZU1ldGhvZElkOnZvaWQgMH0pO2Nhc2UgZ3QuYS5EZWluaXRpYWxpemVGYWlsZWQ6cmV0dXJuIFQodCx7ZGVpbml0aWFsaXplRXJyb3I6ZS5wYXlsb2FkLGRlaW5pdGlhbGl6ZU1ldGhvZElkOmUubWV0YSYmZS5tZXRhLm1ldGhvZElkfSk7Y2FzZSBndC5hLlNpZ25JblJlcXVlc3RlZDpjYXNlIGd0LmEuU2lnbkluU3VjY2VlZGVkOnJldHVybiBUKHQse3NpZ25JbkVycm9yOnZvaWQgMCxzaWduSW5NZXRob2RJZDp2b2lkIDB9KTtjYXNlIGd0LmEuU2lnbkluRmFpbGVkOnJldHVybiBUKHQse3NpZ25JbkVycm9yOmUucGF5bG9hZCxzaWduSW5NZXRob2RJZDplLm1ldGEmJmUubWV0YS5tZXRob2RJZH0pO2Nhc2UgZ3QuYS5TaWduT3V0UmVxdWVzdGVkOmNhc2UgZ3QuYS5TaWduT3V0U3VjY2VlZGVkOnJldHVybiBUKHQse3NpZ25PdXRFcnJvcjp2b2lkIDAsc2lnbk91dE1ldGhvZElkOnZvaWQgMH0pO2Nhc2UgZ3QuYS5TaWduT3V0RmFpbGVkOnJldHVybiBUKHQse3NpZ25PdXRFcnJvcjplLnBheWxvYWQsc2lnbk91dE1ldGhvZElkOmUubWV0YSYmZS5tZXRhLm1ldGhvZElkfSk7Y2FzZSBndC5hLldpZGdldEludGVyYWN0aW9uU3RhcnRlZDpjYXNlIGd0LmEuV2lkZ2V0SW50ZXJhY3Rpb25GaW5pc2hlZDpyZXR1cm4gVCh0LHt3aWRnZXRJbnRlcmFjdGlvbkVycm9yOnZvaWQgMCx3aWRnZXRJbnRlcmFjdGlvbk1ldGhvZElkOnZvaWQgMH0pO2Nhc2UgZ3QuYS5XaWRnZXRJbnRlcmFjdGlvbkZhaWxlZDpyZXR1cm4gVCh0LHt3aWRnZXRJbnRlcmFjdGlvbkVycm9yOmUucGF5bG9hZCx3aWRnZXRJbnRlcmFjdGlvbk1ldGhvZElkOmUubWV0YS5tZXRob2RJZH0pO2RlZmF1bHQ6cmV0dXJuIHR9fWZ1bmN0aW9uIFN0KHQsZSl7c3dpdGNoKHZvaWQgMD09PXQmJih0PWJ0LnN0YXR1c2VzKSxlLnR5cGUpe2Nhc2UgZ3QuYS5Jbml0aWFsaXplUmVxdWVzdGVkOnJldHVybiBUKHQse2lzSW5pdGlhbGl6aW5nOiEwLGluaXRpYWxpemVNZXRob2RJZDplLm1ldGEmJmUubWV0YS5tZXRob2RJZH0pO2Nhc2UgZ3QuYS5Jbml0aWFsaXplRmFpbGVkOmNhc2UgZ3QuYS5Jbml0aWFsaXplU3VjY2VlZGVkOnJldHVybiBUKHQse2lzSW5pdGlhbGl6aW5nOiExLGluaXRpYWxpemVNZXRob2RJZDp2b2lkIDB9KTtjYXNlIGd0LmEuRGVpbml0aWFsaXplUmVxdWVzdGVkOnJldHVybiBUKHQse2lzRGVpbml0aWFsaXppbmc6ITAsZGVpbml0aWFsaXplTWV0aG9kSWQ6ZS5tZXRhJiZlLm1ldGEubWV0aG9kSWR9KTtjYXNlIGd0LmEuRGVpbml0aWFsaXplRmFpbGVkOmNhc2UgZ3QuYS5EZWluaXRpYWxpemVTdWNjZWVkZWQ6cmV0dXJuIFQodCx7aXNEZWluaXRpYWxpemluZzohMSxkZWluaXRpYWxpemVNZXRob2RJZDp2b2lkIDB9KTtjYXNlIGd0LmEuU2lnbkluUmVxdWVzdGVkOnJldHVybiBUKHQse2lzU2lnbmluZ0luOiEwLHNpZ25Jbk1ldGhvZElkOmUubWV0YSYmZS5tZXRhLm1ldGhvZElkfSk7Y2FzZSBndC5hLlNpZ25JbkZhaWxlZDpjYXNlIGd0LmEuU2lnbkluU3VjY2VlZGVkOnJldHVybiBUKHQse2lzU2lnbmluZ0luOiExLHNpZ25Jbk1ldGhvZElkOnZvaWQgMH0pO2Nhc2UgZ3QuYS5TaWduT3V0UmVxdWVzdGVkOnJldHVybiBUKHQse2lzU2lnbmluZ091dDohMCxzaWduT3V0TWV0aG9kSWQ6ZS5tZXRhJiZlLm1ldGEubWV0aG9kSWR9KTtjYXNlIGd0LmEuU2lnbk91dEZhaWxlZDpjYXNlIGd0LmEuU2lnbk91dFN1Y2NlZWRlZDpyZXR1cm4gVCh0LHtpc1NpZ25pbmdPdXQ6ITEsc2lnbk91dE1ldGhvZElkOnZvaWQgMH0pO2Nhc2UgZ3QuYS5XaWRnZXRJbnRlcmFjdGlvblN0YXJ0ZWQ6cmV0dXJuIFQodCx7aXNXaWRnZXRJbnRlcmFjdGluZzohMCx3aWRnZXRJbnRlcmFjdGlvbk1ldGhvZElkOmUubWV0YS5tZXRob2RJZH0pO2Nhc2UgZ3QuYS5XaWRnZXRJbnRlcmFjdGlvbkZpbmlzaGVkOmNhc2UgZ3QuYS5XaWRnZXRJbnRlcmFjdGlvbkZhaWxlZDpyZXR1cm4gVCh0LHtpc1dpZGdldEludGVyYWN0aW5nOiExLHdpZGdldEludGVyYWN0aW9uTWV0aG9kSWQ6dm9pZCAwfSk7ZGVmYXVsdDpyZXR1cm4gdH19dmFyIHd0PW4oMzgpLEl0PXtlcnJvcnM6e30sc3RhdHVzZXM6e319O2Z1bmN0aW9uIEF0KHQsZSl7cmV0dXJuIHZvaWQgMD09PXQmJih0PUl0KSxPYmplY3QoaS5jb21iaW5lUmVkdWNlcnMpKHtkYXRhOkV0LGVycm9yczpPYmplY3QoaS5jb21wb3NlUmVkdWNlcnMpKFB0LGcpLHN0YXR1c2VzOmp0fSkodCxlKX1mdW5jdGlvbiBFdCh0LGUpe3N3aXRjaChlLnR5cGUpe2Nhc2Ugd3QuYS5Mb2FkRm9ybUZpZWxkc1N1Y2NlZWRlZDpyZXR1cm4gVCh0LGUucGF5bG9hZCk7ZGVmYXVsdDpyZXR1cm4gdH19ZnVuY3Rpb24gUHQodCxlKXtzd2l0Y2godm9pZCAwPT09dCYmKHQ9SXQuZXJyb3JzKSxlLnR5cGUpe2Nhc2Ugd3QuYS5Mb2FkRm9ybUZpZWxkc1N1Y2NlZWRlZDpyZXR1cm4gQyh0LFwibG9hZEVycm9yXCIsdm9pZCAwKTtjYXNlIHd0LmEuTG9hZEZvcm1GaWVsZHNGYWlsZWQ6cmV0dXJuIEModCxcImxvYWRFcnJvclwiLGUucGF5bG9hZCk7ZGVmYXVsdDpyZXR1cm4gdH19ZnVuY3Rpb24ganQodCxlKXtzd2l0Y2godm9pZCAwPT09dCYmKHQ9SXQuc3RhdHVzZXMpLGUudHlwZSl7Y2FzZSB3dC5hLkxvYWRGb3JtRmllbGRzUmVxdWVzdGVkOnJldHVybiBDKHQsXCJpc0xvYWRpbmdcIiwhMCk7Y2FzZSB3dC5hLkxvYWRGb3JtRmllbGRzU3VjY2VlZGVkOmNhc2Ugd3QuYS5Mb2FkRm9ybUZpZWxkc0ZhaWxlZDpyZXR1cm4gQyh0LFwiaXNMb2FkaW5nXCIsITEpO2RlZmF1bHQ6cmV0dXJuIHR9fXZhciBrdD1uKDQyKSxNdD17ZXJyb3JzOnt9LHN0YXR1c2VzOnt9fTtmdW5jdGlvbiBUdCh0LGUpe3JldHVybiB2b2lkIDA9PT10JiYodD1NdCksT2JqZWN0KGkuY29tYmluZVJlZHVjZXJzKSh7ZGF0YTpSdCxlcnJvcnM6T2JqZWN0KGkuY29tcG9zZVJlZHVjZXJzKShEdCxnKSxzdGF0dXNlczp6dH0pKHQsZSl9ZnVuY3Rpb24gUnQodCxlKXtzd2l0Y2goZS50eXBlKXtjYXNlIGt0LmEuTG9hZENvdW50cmllc1N1Y2NlZWRlZDpyZXR1cm4gTSh0LGUucGF5bG9hZCk7ZGVmYXVsdDpyZXR1cm4gdH19ZnVuY3Rpb24gRHQodCxlKXtzd2l0Y2godm9pZCAwPT09dCYmKHQ9TXQuZXJyb3JzKSxlLnR5cGUpe2Nhc2Uga3QuYS5Mb2FkQ291bnRyaWVzUmVxdWVzdGVkOmNhc2Uga3QuYS5Mb2FkQ291bnRyaWVzU3VjY2VlZGVkOnJldHVybiBDKHQsXCJsb2FkRXJyb3JcIix2b2lkIDApO2Nhc2Uga3QuYS5Mb2FkQ291bnRyaWVzRmFpbGVkOnJldHVybiBDKHQsXCJsb2FkRXJyb3JcIixlLnBheWxvYWQpO2RlZmF1bHQ6cmV0dXJuIHR9fWZ1bmN0aW9uIHp0KHQsZSl7c3dpdGNoKHZvaWQgMD09PXQmJih0PU10LnN0YXR1c2VzKSxlLnR5cGUpe2Nhc2Uga3QuYS5Mb2FkQ291bnRyaWVzUmVxdWVzdGVkOnJldHVybiBDKHQsXCJpc0xvYWRpbmdcIiwhMCk7Y2FzZSBrdC5hLkxvYWRDb3VudHJpZXNTdWNjZWVkZWQ6Y2FzZSBrdC5hLkxvYWRDb3VudHJpZXNGYWlsZWQ6cmV0dXJuIEModCxcImlzTG9hZGluZ1wiLCExKTtkZWZhdWx0OnJldHVybiB0fX12YXIgTHQ9e2Vycm9yczp7fSxtZXRhOnt9LHN0YXR1c2VzOnt9fTtmdW5jdGlvbiBOdCh0LGUpe3JldHVybiB2b2lkIDA9PT10JiYodD1MdCksT2JqZWN0KGkuY29tYmluZVJlZHVjZXJzKSh7ZGF0YTpGdCxlcnJvcnM6T2JqZWN0KGkuY29tcG9zZVJlZHVjZXJzKShVdCxnKSxtZXRhOnF0LHN0YXR1c2VzOnh0fSkodCxlKX1mdW5jdGlvbiBGdCh0LGUpe3N3aXRjaChlLnR5cGUpe2Nhc2UgTy5hLkxvYWRPcmRlclN1Y2NlZWRlZDpjYXNlIE8uYS5Mb2FkT3JkZXJQYXltZW50c1N1Y2NlZWRlZDpyZXR1cm4gVCh0LE9iamVjdChjLm9taXQpKGUucGF5bG9hZCxbXCJiaWxsaW5nQWRkcmVzc1wiLFwiY291cG9uc1wiXSkpO2RlZmF1bHQ6cmV0dXJuIHR9fWZ1bmN0aW9uIHF0KHQsZSl7c3dpdGNoKGUudHlwZSl7Y2FzZSBPLmEuRmluYWxpemVPcmRlclN1Y2NlZWRlZDpjYXNlIE8uYS5TdWJtaXRPcmRlclN1Y2NlZWRlZDpyZXR1cm4gVCh0LE9iamVjdChyLl9fYXNzaWduKShPYmplY3Qoci5fX2Fzc2lnbikoe30sZS5tZXRhKSx7Y2FsbGJhY2tVcmw6ZS5wYXlsb2FkJiZlLnBheWxvYWQub3JkZXIuY2FsbGJhY2tVcmwsb3JkZXJUb2tlbjplLnBheWxvYWQmJmUucGF5bG9hZC5vcmRlci50b2tlbixwYXltZW50OmUucGF5bG9hZCYmZS5wYXlsb2FkLm9yZGVyJiZlLnBheWxvYWQub3JkZXIucGF5bWVudH0pKTtkZWZhdWx0OnJldHVybiB0fX1mdW5jdGlvbiBVdCh0LGUpe3N3aXRjaCh2b2lkIDA9PT10JiYodD1MdC5lcnJvcnMpLGUudHlwZSl7Y2FzZSBPLmEuTG9hZE9yZGVyUmVxdWVzdGVkOmNhc2UgTy5hLkxvYWRPcmRlclN1Y2NlZWRlZDpjYXNlIE8uYS5Mb2FkT3JkZXJQYXltZW50c1N1Y2NlZWRlZDpjYXNlIE8uYS5Mb2FkT3JkZXJQYXltZW50c1JlcXVlc3RlZDpyZXR1cm4gQyh0LFwibG9hZEVycm9yXCIsdm9pZCAwKTtjYXNlIE8uYS5Mb2FkT3JkZXJGYWlsZWQ6Y2FzZSBPLmEuTG9hZE9yZGVyUGF5bWVudHNGYWlsZWQ6cmV0dXJuIEModCxcImxvYWRFcnJvclwiLGUucGF5bG9hZCk7ZGVmYXVsdDpyZXR1cm4gdH19ZnVuY3Rpb24geHQodCxlKXtzd2l0Y2godm9pZCAwPT09dCYmKHQ9THQuc3RhdHVzZXMpLGUudHlwZSl7Y2FzZSBPLmEuTG9hZE9yZGVyUmVxdWVzdGVkOmNhc2UgTy5hLkxvYWRPcmRlclBheW1lbnRzUmVxdWVzdGVkOnJldHVybiBDKHQsXCJpc0xvYWRpbmdcIiwhMCk7Y2FzZSBPLmEuTG9hZE9yZGVyU3VjY2VlZGVkOmNhc2UgTy5hLkxvYWRPcmRlckZhaWxlZDpjYXNlIE8uYS5Mb2FkT3JkZXJQYXltZW50c1N1Y2NlZWRlZDpjYXNlIE8uYS5Mb2FkT3JkZXJQYXltZW50c0ZhaWxlZDpyZXR1cm4gQyh0LFwiaXNMb2FkaW5nXCIsITEpO2RlZmF1bHQ6cmV0dXJuIHR9fXZhciBCdD1uKDYwKTtmdW5jdGlvbiBHdCh0LGUpe3JldHVybiB2b2lkIDA9PT10JiYodD17fSksT2JqZWN0KGkuY29tYmluZVJlZHVjZXJzKSh7ZGF0YTpWdH0pKHQsZSl9ZnVuY3Rpb24gVnQodCxlKXtzd2l0Y2goZS50eXBlKXtjYXNlIEJ0LmEuU3VibWl0UGF5bWVudFN1Y2NlZWRlZDpyZXR1cm4gZS5wYXlsb2FkO2RlZmF1bHQ6cmV0dXJuIHR9fXZhciBZdD1uKDE4KSxIdD17ZXJyb3JzOnt9LHN0YXR1c2VzOnt9fTtmdW5jdGlvbiBXdCh0LGUpe3JldHVybiB2b2lkIDA9PT10JiYodD1IdCksT2JqZWN0KGkuY29tYmluZVJlZHVjZXJzKSh7ZGF0YTpLdCxlcnJvcnM6T2JqZWN0KGkuY29tcG9zZVJlZHVjZXJzKShadCxnKSxtZXRhOkp0LHN0YXR1c2VzOlF0fSkodCxlKX1mdW5jdGlvbiBLdCh0LGUpe3N3aXRjaChlLnR5cGUpe2Nhc2UgWXQuYS5Mb2FkUGF5bWVudE1ldGhvZFN1Y2NlZWRlZDpyZXR1cm4gZnVuY3Rpb24odCxlLG4pe2lmKCFlKXJldHVybiB0O3ZhciBpPU9iamVjdChjLnBpY2spKGUsXCJpZFwiKSxvPU9iamVjdChjLmZpbmRJbmRleCkodCxcIm9iamVjdFwiPT10eXBlb2Ygbj9PYmplY3QoYy5waWNrQnkpKG4pOm58fGkpLGE9T2JqZWN0KHIuX19zcHJlYWRBcnJheXMpKHQpO2lmKC0xPT09bylhLnB1c2goZSk7ZWxzZXt2YXIgcz10W29dO2Fbb109T2JqZWN0KGsuYSkocykmJk9iamVjdChrLmEpKGUpP1QocyxlKTplfXJldHVybiBhfSh0fHxbXSxlLnBheWxvYWQsZS5wYXlsb2FkJiZ7aWQ6ZS5wYXlsb2FkLmlkLGdhdGV3YXk6ZS5wYXlsb2FkLmdhdGV3YXl9KTtjYXNlIFl0LmEuTG9hZFBheW1lbnRNZXRob2RzU3VjY2VlZGVkOnJldHVybiBNKHQsZS5wYXlsb2FkLHttYXRjaE9iamVjdDpmdW5jdGlvbih0LGUpe3JldHVybiB0LmlkPT09ZS5pZCYmdC5nYXRld2F5PT09ZS5nYXRld2F5fX0pO2RlZmF1bHQ6cmV0dXJuIHR9fWZ1bmN0aW9uIEp0KHQsZSl7c3dpdGNoKGUudHlwZSl7Y2FzZSBZdC5hLkxvYWRQYXltZW50TWV0aG9kc1N1Y2NlZWRlZDpyZXR1cm4gVCh0LGUubWV0YSk7ZGVmYXVsdDpyZXR1cm4gdH19ZnVuY3Rpb24gWnQodCxlKXtzd2l0Y2godm9pZCAwPT09dCYmKHQ9SHQuZXJyb3JzKSxlLnR5cGUpe2Nhc2UgWXQuYS5Mb2FkUGF5bWVudE1ldGhvZHNSZXF1ZXN0ZWQ6Y2FzZSBZdC5hLkxvYWRQYXltZW50TWV0aG9kc1N1Y2NlZWRlZDpyZXR1cm4gQyh0LFwibG9hZEVycm9yXCIsdm9pZCAwKTtjYXNlIFl0LmEuTG9hZFBheW1lbnRNZXRob2RzRmFpbGVkOnJldHVybiBDKHQsXCJsb2FkRXJyb3JcIixlLnBheWxvYWQpO2Nhc2UgWXQuYS5Mb2FkUGF5bWVudE1ldGhvZFJlcXVlc3RlZDpjYXNlIFl0LmEuTG9hZFBheW1lbnRNZXRob2RTdWNjZWVkZWQ6cmV0dXJuIFQodCx7bG9hZE1ldGhvZElkOnZvaWQgMCxsb2FkTWV0aG9kRXJyb3I6dm9pZCAwfSk7Y2FzZSBZdC5hLkxvYWRQYXltZW50TWV0aG9kRmFpbGVkOnJldHVybiBUKHQse2xvYWRNZXRob2RJZDplLm1ldGEubWV0aG9kSWQsbG9hZE1ldGhvZEVycm9yOmUucGF5bG9hZH0pO2RlZmF1bHQ6cmV0dXJuIHR9fWZ1bmN0aW9uIFF0KHQsZSl7c3dpdGNoKHZvaWQgMD09PXQmJih0PUh0LnN0YXR1c2VzKSxlLnR5cGUpe2Nhc2UgWXQuYS5Mb2FkUGF5bWVudE1ldGhvZHNSZXF1ZXN0ZWQ6cmV0dXJuIEModCxcImlzTG9hZGluZ1wiLCEwKTtjYXNlIFl0LmEuTG9hZFBheW1lbnRNZXRob2RzU3VjY2VlZGVkOmNhc2UgWXQuYS5Mb2FkUGF5bWVudE1ldGhvZHNGYWlsZWQ6cmV0dXJuIEModCxcImlzTG9hZGluZ1wiLCExKTtjYXNlIFl0LmEuTG9hZFBheW1lbnRNZXRob2RSZXF1ZXN0ZWQ6cmV0dXJuIFQodCx7aXNMb2FkaW5nTWV0aG9kOiEwLGxvYWRNZXRob2RJZDplLm1ldGEubWV0aG9kSWR9KTtjYXNlIFl0LmEuTG9hZFBheW1lbnRNZXRob2RTdWNjZWVkZWQ6Y2FzZSBZdC5hLkxvYWRQYXltZW50TWV0aG9kRmFpbGVkOnJldHVybiBUKHQse2lzTG9hZGluZ01ldGhvZDohMSxsb2FkTWV0aG9kSWQ6dm9pZCAwfSk7ZGVmYXVsdDpyZXR1cm4gdH19dmFyIFh0PW4oMTEpLCR0PXtkYXRhOnt9LGVycm9yczp7fSxzdGF0dXNlczp7fX07ZnVuY3Rpb24gdGUodCxlKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9JHQpLE9iamVjdChpLmNvbWJpbmVSZWR1Y2Vycykoe2RhdGE6ZWUsZXJyb3JzOk9iamVjdChpLmNvbXBvc2VSZWR1Y2VycykobmUsZyksc3RhdHVzZXM6cmV9KSh0LGUpfWZ1bmN0aW9uIGVlKHQsZSl7dmFyIG4scjtzd2l0Y2godm9pZCAwPT09dCYmKHQ9JHQuZGF0YSksZS50eXBlKXtjYXNlIFh0LmEuSW5pdGlhbGl6ZVN1Y2NlZWRlZDpyZXR1cm4gVCh0LCgobj17fSlbZS5tZXRhJiZlLm1ldGEubWV0aG9kSWRdPXtpc0luaXRpYWxpemVkOiEwfSxuKSk7Y2FzZSBYdC5hLkRlaW5pdGlhbGl6ZVN1Y2NlZWRlZDpyZXR1cm4gVCh0LCgocj17fSlbZS5tZXRhJiZlLm1ldGEubWV0aG9kSWRdPXtpc0luaXRpYWxpemVkOiExfSxyKSl9cmV0dXJuIHR9ZnVuY3Rpb24gbmUodCxlKXtzd2l0Y2godm9pZCAwPT09dCYmKHQ9JHQuZXJyb3JzKSxlLnR5cGUpe2Nhc2UgWHQuYS5Jbml0aWFsaXplUmVxdWVzdGVkOmNhc2UgWHQuYS5Jbml0aWFsaXplU3VjY2VlZGVkOnJldHVybiBUKHQse2luaXRpYWxpemVFcnJvcjp2b2lkIDAsaW5pdGlhbGl6ZU1ldGhvZElkOnZvaWQgMH0pO2Nhc2UgWHQuYS5Jbml0aWFsaXplRmFpbGVkOnJldHVybiBUKHQse2luaXRpYWxpemVFcnJvcjplLnBheWxvYWQsaW5pdGlhbGl6ZU1ldGhvZElkOmUubWV0YSYmZS5tZXRhLm1ldGhvZElkfSk7Y2FzZSBYdC5hLkRlaW5pdGlhbGl6ZVJlcXVlc3RlZDpjYXNlIFh0LmEuRGVpbml0aWFsaXplU3VjY2VlZGVkOnJldHVybiBUKHQse2RlaW5pdGlhbGl6ZUVycm9yOnZvaWQgMCxkZWluaXRpYWxpemVNZXRob2RJZDp2b2lkIDB9KTtjYXNlIFh0LmEuRGVpbml0aWFsaXplRmFpbGVkOnJldHVybiBUKHQse2RlaW5pdGlhbGl6ZUVycm9yOmUucGF5bG9hZCxkZWluaXRpYWxpemVNZXRob2RJZDplLm1ldGEmJmUubWV0YS5tZXRob2RJZH0pO2Nhc2UgWHQuYS5FeGVjdXRlUmVxdWVzdGVkOmNhc2UgWHQuYS5FeGVjdXRlU3VjY2VlZGVkOnJldHVybiBUKHQse2V4ZWN1dGVFcnJvcjp2b2lkIDAsZXhlY3V0ZU1ldGhvZElkOnZvaWQgMH0pO2Nhc2UgWHQuYS5FeGVjdXRlRmFpbGVkOnJldHVybiBUKHQse2V4ZWN1dGVFcnJvcjplLnBheWxvYWQsZXhlY3V0ZU1ldGhvZElkOmUubWV0YSYmZS5tZXRhLm1ldGhvZElkfSk7Y2FzZSBYdC5hLkZpbmFsaXplUmVxdWVzdGVkOmNhc2UgWHQuYS5GaW5hbGl6ZVN1Y2NlZWRlZDpyZXR1cm4gVCh0LHtmaW5hbGl6ZUVycm9yOnZvaWQgMCxmaW5hbGl6ZU1ldGhvZElkOnZvaWQgMH0pO2Nhc2UgWHQuYS5GaW5hbGl6ZUZhaWxlZDpyZXR1cm4gVCh0LHtmaW5hbGl6ZUVycm9yOmUucGF5bG9hZCxmaW5hbGl6ZU1ldGhvZElkOmUubWV0YSYmZS5tZXRhLm1ldGhvZElkfSk7Y2FzZSBYdC5hLldpZGdldEludGVyYWN0aW9uU3RhcnRlZDpjYXNlIFh0LmEuV2lkZ2V0SW50ZXJhY3Rpb25GaW5pc2hlZDpyZXR1cm4gVCh0LHt3aWRnZXRJbnRlcmFjdGlvbkVycm9yOnZvaWQgMCx3aWRnZXRJbnRlcmFjdGlvbk1ldGhvZElkOnZvaWQgMH0pO2Nhc2UgWHQuYS5XaWRnZXRJbnRlcmFjdGlvbkZhaWxlZDpyZXR1cm4gVCh0LHt3aWRnZXRJbnRlcmFjdGlvbkVycm9yOmUucGF5bG9hZCx3aWRnZXRJbnRlcmFjdGlvbk1ldGhvZElkOmUubWV0YS5tZXRob2RJZH0pO2RlZmF1bHQ6cmV0dXJuIHR9fWZ1bmN0aW9uIHJlKHQsZSl7c3dpdGNoKHZvaWQgMD09PXQmJih0PSR0LnN0YXR1c2VzKSxlLnR5cGUpe2Nhc2UgWHQuYS5Jbml0aWFsaXplUmVxdWVzdGVkOnJldHVybiBUKHQse2lzSW5pdGlhbGl6aW5nOiEwLGluaXRpYWxpemVNZXRob2RJZDplLm1ldGEmJmUubWV0YS5tZXRob2RJZH0pO2Nhc2UgWHQuYS5Jbml0aWFsaXplRmFpbGVkOmNhc2UgWHQuYS5Jbml0aWFsaXplU3VjY2VlZGVkOnJldHVybiBUKHQse2lzSW5pdGlhbGl6aW5nOiExLGluaXRpYWxpemVNZXRob2RJZDp2b2lkIDB9KTtjYXNlIFh0LmEuRGVpbml0aWFsaXplUmVxdWVzdGVkOnJldHVybiBUKHQse2lzRGVpbml0aWFsaXppbmc6ITAsZGVpbml0aWFsaXplTWV0aG9kSWQ6ZS5tZXRhJiZlLm1ldGEubWV0aG9kSWR9KTtjYXNlIFh0LmEuRGVpbml0aWFsaXplRmFpbGVkOmNhc2UgWHQuYS5EZWluaXRpYWxpemVTdWNjZWVkZWQ6cmV0dXJuIFQodCx7aXNEZWluaXRpYWxpemluZzohMSxkZWluaXRpYWxpemVNZXRob2RJZDp2b2lkIDB9KTtjYXNlIFh0LmEuRXhlY3V0ZVJlcXVlc3RlZDpyZXR1cm4gVCh0LHtpc0V4ZWN1dGluZzohMCxleGVjdXRlTWV0aG9kSWQ6ZS5tZXRhJiZlLm1ldGEubWV0aG9kSWR9KTtjYXNlIFh0LmEuRXhlY3V0ZUZhaWxlZDpjYXNlIFh0LmEuRXhlY3V0ZVN1Y2NlZWRlZDpyZXR1cm4gVCh0LHtpc0V4ZWN1dGluZzohMSxleGVjdXRlTWV0aG9kSWQ6dm9pZCAwfSk7Y2FzZSBYdC5hLkZpbmFsaXplUmVxdWVzdGVkOnJldHVybiBUKHQse2lzRmluYWxpemluZzohMCxmaW5hbGl6ZU1ldGhvZElkOmUubWV0YSYmZS5tZXRhLm1ldGhvZElkfSk7Y2FzZSBYdC5hLkZpbmFsaXplRmFpbGVkOmNhc2UgWHQuYS5GaW5hbGl6ZVN1Y2NlZWRlZDpyZXR1cm4gVCh0LHtpc0ZpbmFsaXppbmc6ITEsZmluYWxpemVNZXRob2RJZDp2b2lkIDB9KTtjYXNlIFh0LmEuV2lkZ2V0SW50ZXJhY3Rpb25TdGFydGVkOnJldHVybiBUKHQse2lzV2lkZ2V0SW50ZXJhY3Rpbmc6ITAsd2lkZ2V0SW50ZXJhY3Rpb25NZXRob2RJZDplLm1ldGEubWV0aG9kSWR9KTtjYXNlIFh0LmEuV2lkZ2V0SW50ZXJhY3Rpb25GaW5pc2hlZDpjYXNlIFh0LmEuV2lkZ2V0SW50ZXJhY3Rpb25GYWlsZWQ6cmV0dXJuIFQodCx7aXNXaWRnZXRJbnRlcmFjdGluZzohMSx3aWRnZXRJbnRlcmFjdGlvbk1ldGhvZElkOnZvaWQgMH0pO2RlZmF1bHQ6cmV0dXJuIHR9fXZhciBpZT1uKDI0KSxvZT17ZGF0YTpbXSxlcnJvcnM6e30sc3RhdHVzZXM6e319O2Z1bmN0aW9uIGFlKHQsZSl7cmV0dXJuIHZvaWQgMD09PXQmJih0PW9lKSxPYmplY3QoaS5jb21iaW5lUmVkdWNlcnMpKHtkYXRhOnNlLGVycm9yczpPYmplY3QoaS5jb21wb3NlUmVkdWNlcnMpKHVlLGcpLG1ldGE6Y2Usc3RhdHVzZXM6ZGV9KSh0LGUpfWZ1bmN0aW9uIHNlKHQsZSl7c3dpdGNoKHZvaWQgMD09PXQmJih0PW9lLmRhdGEpLGUudHlwZSl7Y2FzZSBpZS5hLkxvYWRJbnN0cnVtZW50c1N1Y2NlZWRlZDpyZXR1cm4gTSh0LGUucGF5bG9hZCYmZS5wYXlsb2FkLnZhdWx0ZWRJbnN0cnVtZW50c3x8W10pO2RlZmF1bHQ6cmV0dXJuIHR9fWZ1bmN0aW9uIGNlKHQsZSl7c3dpdGNoKGUudHlwZSl7Y2FzZSBpZS5hLkxvYWRJbnN0cnVtZW50c1N1Y2NlZWRlZDpjYXNlIGllLmEuRGVsZXRlSW5zdHJ1bWVudFN1Y2NlZWRlZDpyZXR1cm4gVCh0LGUubWV0YSk7ZGVmYXVsdDpyZXR1cm4gdH19ZnVuY3Rpb24gdWUodCxlKXtzd2l0Y2godm9pZCAwPT09dCYmKHQ9b2UuZXJyb3JzKSxlLnR5cGUpe2Nhc2UgaWUuYS5Mb2FkSW5zdHJ1bWVudHNSZXF1ZXN0ZWQ6Y2FzZSBpZS5hLkxvYWRJbnN0cnVtZW50c1N1Y2NlZWRlZDpyZXR1cm4gQyh0LFwibG9hZEVycm9yXCIsdm9pZCAwKTtjYXNlIGllLmEuRGVsZXRlSW5zdHJ1bWVudFJlcXVlc3RlZDpjYXNlIGllLmEuRGVsZXRlSW5zdHJ1bWVudFN1Y2NlZWRlZDpyZXR1cm4gVCh0LHtkZWxldGVFcnJvcjp2b2lkIDAsZmFpbGVkSW5zdHJ1bWVudDp2b2lkIDB9KTtjYXNlIGllLmEuTG9hZEluc3RydW1lbnRzRmFpbGVkOnJldHVybiBDKHQsXCJsb2FkRXJyb3JcIixlLnBheWxvYWQpO2Nhc2UgaWUuYS5EZWxldGVJbnN0cnVtZW50RmFpbGVkOnJldHVybiBUKHQse2RlbGV0ZUVycm9yOmUucGF5bG9hZCxmYWlsZWRJbnN0cnVtZW50OmUubWV0YS5pbnN0cnVtZW50SWR9KTtkZWZhdWx0OnJldHVybiB0fX1mdW5jdGlvbiBkZSh0LGUpe3N3aXRjaCh2b2lkIDA9PT10JiYodD1vZS5zdGF0dXNlcyksZS50eXBlKXtjYXNlIGllLmEuTG9hZEluc3RydW1lbnRzUmVxdWVzdGVkOnJldHVybiBDKHQsXCJpc0xvYWRpbmdcIiwhMCk7Y2FzZSBpZS5hLkRlbGV0ZUluc3RydW1lbnRSZXF1ZXN0ZWQ6cmV0dXJuIFQodCx7aXNEZWxldGluZzohMCxkZWxldGluZ0luc3RydW1lbnQ6ZS5tZXRhLmluc3RydW1lbnRJZH0pO2Nhc2UgaWUuYS5Mb2FkSW5zdHJ1bWVudHNTdWNjZWVkZWQ6Y2FzZSBpZS5hLkxvYWRJbnN0cnVtZW50c0ZhaWxlZDpyZXR1cm4gQyh0LFwiaXNMb2FkaW5nXCIsITEpO2Nhc2UgaWUuYS5EZWxldGVJbnN0cnVtZW50U3VjY2VlZGVkOmNhc2UgaWUuYS5EZWxldGVJbnN0cnVtZW50RmFpbGVkOnJldHVybiBUKHQse2lzRGVsZXRpbmc6ITEsZGVsZXRpbmdJbnN0cnVtZW50OnZvaWQgMH0pO2RlZmF1bHQ6cmV0dXJuIHR9fXZhciBwZT1uKDI3KSxoZT17ZGF0YTp7fX07ZnVuY3Rpb24gbGUodCxlKXt2YXIgbjtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9aGUpLGUubWV0YSYmZS5tZXRhLm1ldGhvZElkP09iamVjdChpLmNvbWJpbmVSZWR1Y2Vycykoe2RhdGE6T2JqZWN0KGkuY29tYmluZVJlZHVjZXJzKSgobj17fSxuW2UubWV0YS5tZXRob2RJZF09bWUsbikpfSkodCxlKTp0fWZ1bmN0aW9uIG1lKHQsZSl7c3dpdGNoKGUudHlwZSl7Y2FzZSBwZS5hLkluaXRpYWxpemVSZW1vdGVCaWxsaW5nU3VjY2VlZGVkOnJldHVybiBDKHQsXCJiaWxsaW5nXCIsZS5wYXlsb2FkJiZlLnBheWxvYWQuYmlsbGluZyk7Y2FzZSBwZS5hLkluaXRpYWxpemVSZW1vdGVTaGlwcGluZ1N1Y2NlZWRlZDpyZXR1cm4gQyh0LFwic2hpcHBpbmdcIixlLnBheWxvYWQmJmUucGF5bG9hZC5zaGlwcGluZyk7Y2FzZSBwZS5hLkxvYWRSZW1vdGVTZXR0aW5nc1N1Y2NlZWRlZDpyZXR1cm4gQyh0LFwic2V0dGluZ3NcIixlLnBheWxvYWQpO2Nhc2UgcGUuYS5VcGRhdGVSZW1vdGVDaGVja291dDpyZXR1cm4gVCh0LGUucGF5bG9hZCk7ZGVmYXVsdDpyZXR1cm4gdH19dmFyIGZlPXtlcnJvcnM6e3VwZGF0ZVNoaXBwaW5nT3B0aW9uRXJyb3I6e30sdXBkYXRlRXJyb3I6e30sZGVsZXRlRXJyb3I6e319LHN0YXR1c2VzOntpc1VwZGF0aW5nOnt9LGlzVXBkYXRpbmdTaGlwcGluZ09wdGlvbjp7fSxpc0RlbGV0aW5nOnt9fX07ZnVuY3Rpb24gX2UodCxlKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9ZmUpLE9iamVjdChpLmNvbWJpbmVSZWR1Y2Vycykoe2RhdGE6eWUsZXJyb3JzOk9iamVjdChpLmNvbXBvc2VSZWR1Y2VycykoZ2UsZyksc3RhdHVzZXM6YmV9KSh0LGUpfWZ1bmN0aW9uIHllKHQsZSl7c3dpdGNoKGUudHlwZSl7Y2FzZSBmLmEuTG9hZENoZWNrb3V0U3VjY2VlZGVkOmNhc2Ugei5hLkxvYWRTaGlwcGluZ09wdGlvbnNTdWNjZWVkZWQ6Y2FzZSB6LmEuQ3JlYXRlQ29uc2lnbm1lbnRzU3VjY2VlZGVkOmNhc2Ugei5hLlVwZGF0ZUNvbnNpZ25tZW50U3VjY2VlZGVkOmNhc2Ugei5hLkRlbGV0ZUNvbnNpZ25tZW50U3VjY2VlZGVkOmNhc2Ugei5hLlVwZGF0ZVNoaXBwaW5nT3B0aW9uU3VjY2VlZGVkOmNhc2UgUi5hLkFwcGx5Q291cG9uU3VjY2VlZGVkOmNhc2UgUi5hLlJlbW92ZUNvdXBvblN1Y2NlZWRlZDpyZXR1cm4gTSh0LGUucGF5bG9hZCYmZS5wYXlsb2FkLmNvbnNpZ25tZW50cyk7Y2FzZSBodC5hLlNpZ25PdXRDdXN0b21lclN1Y2NlZWRlZDpyZXR1cm4gTSh0LFtdKTtkZWZhdWx0OnJldHVybiB0fX1mdW5jdGlvbiBnZSh0LGUpe3ZhciBuLHIsaSxvLGEscztzd2l0Y2godm9pZCAwPT09dCYmKHQ9ZmUuZXJyb3JzKSxlLnR5cGUpe2Nhc2UgZi5hLkxvYWRDaGVja291dFJlcXVlc3RlZDpjYXNlIGYuYS5Mb2FkQ2hlY2tvdXRTdWNjZWVkZWQ6Y2FzZSB6LmEuTG9hZFNoaXBwaW5nT3B0aW9uc1N1Y2NlZWRlZDpjYXNlIHouYS5Mb2FkU2hpcHBpbmdPcHRpb25zUmVxdWVzdGVkOnJldHVybiBDKHQsXCJsb2FkRXJyb3JcIix2b2lkIDApO2Nhc2UgZi5hLkxvYWRDaGVja291dEZhaWxlZDpjYXNlIHouYS5Mb2FkU2hpcHBpbmdPcHRpb25zRmFpbGVkOnJldHVybiBDKHQsXCJsb2FkRXJyb3JcIixlLnBheWxvYWQpO2Nhc2Ugei5hLkNyZWF0ZUNvbnNpZ25tZW50c1JlcXVlc3RlZDpjYXNlIHouYS5DcmVhdGVDb25zaWdubWVudHNTdWNjZWVkZWQ6cmV0dXJuIEModCxcImNyZWF0ZUVycm9yXCIsdm9pZCAwKTtjYXNlIHouYS5DcmVhdGVDb25zaWdubWVudHNGYWlsZWQ6cmV0dXJuIEModCxcImNyZWF0ZUVycm9yXCIsZS5wYXlsb2FkKTtjYXNlIHouYS5VcGRhdGVDb25zaWdubWVudFN1Y2NlZWRlZDpjYXNlIHouYS5VcGRhdGVDb25zaWdubWVudFJlcXVlc3RlZDpyZXR1cm4gZS5tZXRhP1QodCx7dXBkYXRlRXJyb3I6KG49e30sbltlLm1ldGEuaWRdPXZvaWQgMCxuKX0pOnQ7Y2FzZSB6LmEuVXBkYXRlQ29uc2lnbm1lbnRGYWlsZWQ6cmV0dXJuIGUubWV0YT9UKHQse3VwZGF0ZUVycm9yOihyPXt9LHJbZS5tZXRhLmlkXT1lLnBheWxvYWQscil9KTp0O2Nhc2Ugei5hLkRlbGV0ZUNvbnNpZ25tZW50U3VjY2VlZGVkOmNhc2Ugei5hLkRlbGV0ZUNvbnNpZ25tZW50UmVxdWVzdGVkOnJldHVybiBlLm1ldGE/VCh0LHtkZWxldGVFcnJvcjooaT17fSxpW2UubWV0YS5pZF09dm9pZCAwLGkpfSk6dDtjYXNlIHouYS5EZWxldGVDb25zaWdubWVudEZhaWxlZDpyZXR1cm4gZS5tZXRhP1QodCx7ZGVsZXRlRXJyb3I6KG89e30sb1tlLm1ldGEuaWRdPWUucGF5bG9hZCxvKX0pOnQ7Y2FzZSB6LmEuVXBkYXRlU2hpcHBpbmdPcHRpb25SZXF1ZXN0ZWQ6Y2FzZSB6LmEuVXBkYXRlU2hpcHBpbmdPcHRpb25TdWNjZWVkZWQ6cmV0dXJuIGUubWV0YT9UKHQse3VwZGF0ZVNoaXBwaW5nT3B0aW9uRXJyb3I6KGE9e30sYVtlLm1ldGEuaWRdPXZvaWQgMCxhKX0pOnQ7Y2FzZSB6LmEuVXBkYXRlU2hpcHBpbmdPcHRpb25GYWlsZWQ6cmV0dXJuIGUubWV0YT9UKHQse3VwZGF0ZVNoaXBwaW5nT3B0aW9uRXJyb3I6KHM9e30sc1tlLm1ldGEuaWRdPWUucGF5bG9hZCxzKX0pOnQ7ZGVmYXVsdDpyZXR1cm4gdH19ZnVuY3Rpb24gYmUodCxlKXt2YXIgbixyLGksbyxhLHM7c3dpdGNoKHZvaWQgMD09PXQmJih0PWZlLnN0YXR1c2VzKSxlLnR5cGUpe2Nhc2UgZi5hLkxvYWRDaGVja291dFJlcXVlc3RlZDpyZXR1cm4gQyh0LFwiaXNMb2FkaW5nXCIsITApO2Nhc2Ugei5hLkxvYWRTaGlwcGluZ09wdGlvbnNSZXF1ZXN0ZWQ6cmV0dXJuIEModCxcImlzTG9hZGluZ1NoaXBwaW5nT3B0aW9uc1wiLCEwKTtjYXNlIGYuYS5Mb2FkQ2hlY2tvdXRTdWNjZWVkZWQ6Y2FzZSBmLmEuTG9hZENoZWNrb3V0RmFpbGVkOnJldHVybiBDKHQsXCJpc0xvYWRpbmdcIiwhMSk7Y2FzZSB6LmEuTG9hZFNoaXBwaW5nT3B0aW9uc1N1Y2NlZWRlZDpjYXNlIHouYS5Mb2FkU2hpcHBpbmdPcHRpb25zRmFpbGVkOnJldHVybiBDKHQsXCJpc0xvYWRpbmdTaGlwcGluZ09wdGlvbnNcIiwhMSk7Y2FzZSB6LmEuQ3JlYXRlQ29uc2lnbm1lbnRzUmVxdWVzdGVkOnJldHVybiBDKHQsXCJpc0NyZWF0aW5nXCIsITApO2Nhc2Ugei5hLkNyZWF0ZUNvbnNpZ25tZW50c1N1Y2NlZWRlZDpjYXNlIHouYS5DcmVhdGVDb25zaWdubWVudHNGYWlsZWQ6cmV0dXJuIEModCxcImlzQ3JlYXRpbmdcIiwhMSk7Y2FzZSB6LmEuVXBkYXRlQ29uc2lnbm1lbnRSZXF1ZXN0ZWQ6cmV0dXJuIGUubWV0YT9UKHQse2lzVXBkYXRpbmc6KG49e30sbltlLm1ldGEuaWRdPSEwLG4pfSk6dDtjYXNlIHouYS5VcGRhdGVDb25zaWdubWVudFN1Y2NlZWRlZDpjYXNlIHouYS5VcGRhdGVDb25zaWdubWVudEZhaWxlZDpyZXR1cm4gZS5tZXRhP1QodCx7aXNVcGRhdGluZzoocj17fSxyW2UubWV0YS5pZF09ITEscil9KTp0O2Nhc2Ugei5hLkRlbGV0ZUNvbnNpZ25tZW50UmVxdWVzdGVkOnJldHVybiBlLm1ldGE/VCh0LHtpc0RlbGV0aW5nOihpPXt9LGlbZS5tZXRhLmlkXT0hMCxpKX0pOnQ7Y2FzZSB6LmEuRGVsZXRlQ29uc2lnbm1lbnRTdWNjZWVkZWQ6Y2FzZSB6LmEuRGVsZXRlQ29uc2lnbm1lbnRGYWlsZWQ6cmV0dXJuIGUubWV0YT9UKHQse2lzRGVsZXRpbmc6KG89e30sb1tlLm1ldGEuaWRdPSExLG8pfSk6dDtjYXNlIHouYS5VcGRhdGVTaGlwcGluZ09wdGlvblJlcXVlc3RlZDpyZXR1cm4gZS5tZXRhP1QodCx7aXNVcGRhdGluZ1NoaXBwaW5nT3B0aW9uOihhPXt9LGFbZS5tZXRhLmlkXT0hMCxhKX0pOnQ7Y2FzZSB6LmEuVXBkYXRlU2hpcHBpbmdPcHRpb25TdWNjZWVkZWQ6Y2FzZSB6LmEuVXBkYXRlU2hpcHBpbmdPcHRpb25GYWlsZWQ6cmV0dXJuIGUubWV0YT9UKHQse2lzVXBkYXRpbmdTaGlwcGluZ09wdGlvbjoocz17fSxzW2UubWV0YS5pZF09ITEscyl9KTp0O2RlZmF1bHQ6cmV0dXJuIHR9fXZhciB2ZT1uKDQzKSxDZT17ZXJyb3JzOnt9LHN0YXR1c2VzOnt9fTtmdW5jdGlvbiBPZSh0LGUpe3JldHVybiB2b2lkIDA9PT10JiYodD1DZSksT2JqZWN0KGkuY29tYmluZVJlZHVjZXJzKSh7ZGF0YTpTZSxlcnJvcnM6T2JqZWN0KGkuY29tcG9zZVJlZHVjZXJzKSh3ZSxnKSxzdGF0dXNlczpJZX0pKHQsZSl9ZnVuY3Rpb24gU2UodCxlKXtzd2l0Y2goZS50eXBlKXtjYXNlIHZlLmEuTG9hZFNoaXBwaW5nQ291bnRyaWVzU3VjY2VlZGVkOnJldHVybiBNKHQsZS5wYXlsb2FkKTtkZWZhdWx0OnJldHVybiB0fX1mdW5jdGlvbiB3ZSh0LGUpe3N3aXRjaCh2b2lkIDA9PT10JiYodD1DZS5lcnJvcnMpLGUudHlwZSl7Y2FzZSB2ZS5hLkxvYWRTaGlwcGluZ0NvdW50cmllc1JlcXVlc3RlZDpjYXNlIHZlLmEuTG9hZFNoaXBwaW5nQ291bnRyaWVzU3VjY2VlZGVkOnJldHVybiBDKHQsXCJsb2FkRXJyb3JcIix2b2lkIDApO2Nhc2UgdmUuYS5Mb2FkU2hpcHBpbmdDb3VudHJpZXNGYWlsZWQ6cmV0dXJuIEModCxcImxvYWRFcnJvclwiLGUucGF5bG9hZCk7ZGVmYXVsdDpyZXR1cm4gdH19ZnVuY3Rpb24gSWUodCxlKXtzd2l0Y2godm9pZCAwPT09dCYmKHQ9Q2Uuc3RhdHVzZXMpLGUudHlwZSl7Y2FzZSB2ZS5hLkxvYWRTaGlwcGluZ0NvdW50cmllc1JlcXVlc3RlZDpyZXR1cm4gQyh0LFwiaXNMb2FkaW5nXCIsITApO2Nhc2UgdmUuYS5Mb2FkU2hpcHBpbmdDb3VudHJpZXNTdWNjZWVkZWQ6Y2FzZSB2ZS5hLkxvYWRTaGlwcGluZ0NvdW50cmllc0ZhaWxlZDpyZXR1cm4gQyh0LFwiaXNMb2FkaW5nXCIsITEpO2RlZmF1bHQ6cmV0dXJuIHR9fXZhciBBZT1uKDkpLEVlPXtkYXRhOnt9LGVycm9yczp7fSxzdGF0dXNlczp7fX07ZnVuY3Rpb24gUGUodCxlKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9RWUpLE9iamVjdChpLmNvbWJpbmVSZWR1Y2Vycykoe2RhdGE6amUsZXJyb3JzOk9iamVjdChpLmNvbXBvc2VSZWR1Y2Vycykoa2UsZyksc3RhdHVzZXM6TWV9KSh0LGUpfWZ1bmN0aW9uIGplKHQsZSl7dmFyIG4scjtzd2l0Y2godm9pZCAwPT09dCYmKHQ9RWUuZGF0YSksZS50eXBlKXtjYXNlIEFlLmEuSW5pdGlhbGl6ZVN1Y2NlZWRlZDpyZXR1cm4gVCh0LCgobj17fSlbZS5tZXRhJiZlLm1ldGEubWV0aG9kSWRdPXtpc0luaXRpYWxpemVkOiEwfSxuKSk7Y2FzZSBBZS5hLkRlaW5pdGlhbGl6ZVN1Y2NlZWRlZDpyZXR1cm4gVCh0LCgocj17fSlbZS5tZXRhJiZlLm1ldGEubWV0aG9kSWRdPXtpc0luaXRpYWxpemVkOiExfSxyKSl9cmV0dXJuIHR9ZnVuY3Rpb24ga2UodCxlKXtzd2l0Y2godm9pZCAwPT09dCYmKHQ9RWUuZXJyb3JzKSxlLnR5cGUpe2Nhc2UgQWUuYS5Jbml0aWFsaXplUmVxdWVzdGVkOmNhc2UgQWUuYS5Jbml0aWFsaXplU3VjY2VlZGVkOnJldHVybiBUKHQse2luaXRpYWxpemVFcnJvcjp2b2lkIDAsaW5pdGlhbGl6ZU1ldGhvZElkOnZvaWQgMH0pO2Nhc2UgQWUuYS5Jbml0aWFsaXplRmFpbGVkOnJldHVybiBUKHQse2luaXRpYWxpemVFcnJvcjplLnBheWxvYWQsaW5pdGlhbGl6ZU1ldGhvZElkOmUubWV0YSYmZS5tZXRhLm1ldGhvZElkfSk7Y2FzZSBBZS5hLkRlaW5pdGlhbGl6ZVJlcXVlc3RlZDpjYXNlIEFlLmEuRGVpbml0aWFsaXplU3VjY2VlZGVkOnJldHVybiBUKHQse2RlaW5pdGlhbGl6ZUVycm9yOnZvaWQgMCxkZWluaXRpYWxpemVNZXRob2RJZDp2b2lkIDB9KTtjYXNlIEFlLmEuRGVpbml0aWFsaXplRmFpbGVkOnJldHVybiBUKHQse2RlaW5pdGlhbGl6ZUVycm9yOmUucGF5bG9hZCxkZWluaXRpYWxpemVNZXRob2RJZDplLm1ldGEmJmUubWV0YS5tZXRob2RJZH0pO2Nhc2UgQWUuYS5VcGRhdGVBZGRyZXNzUmVxdWVzdGVkOmNhc2UgQWUuYS5VcGRhdGVBZGRyZXNzU3VjY2VlZGVkOnJldHVybiBUKHQse3VwZGF0ZUFkZHJlc3NFcnJvcjp2b2lkIDAsdXBkYXRlQWRkcmVzc01ldGhvZElkOnZvaWQgMH0pO2Nhc2UgQWUuYS5VcGRhdGVBZGRyZXNzRmFpbGVkOnJldHVybiBUKHQse3VwZGF0ZUFkZHJlc3NFcnJvcjplLnBheWxvYWQsdXBkYXRlQWRkcmVzc01ldGhvZElkOmUubWV0YSYmZS5tZXRhLm1ldGhvZElkfSk7Y2FzZSBBZS5hLlNlbGVjdE9wdGlvblJlcXVlc3RlZDpjYXNlIEFlLmEuU2VsZWN0T3B0aW9uU3VjY2VlZGVkOnJldHVybiBUKHQse3NlbGVjdE9wdGlvbkVycm9yOnZvaWQgMCxzZWxlY3RPcHRpb25NZXRob2RJZDp2b2lkIDB9KTtjYXNlIEFlLmEuU2VsZWN0T3B0aW9uRmFpbGVkOnJldHVybiBUKHQse3NlbGVjdE9wdGlvbkVycm9yOmUucGF5bG9hZCxzZWxlY3RPcHRpb25NZXRob2RJZDplLm1ldGEmJmUubWV0YS5tZXRob2RJZH0pO2Nhc2UgQWUuYS5XaWRnZXRJbnRlcmFjdGlvblN0YXJ0ZWQ6Y2FzZSBBZS5hLldpZGdldEludGVyYWN0aW9uRmluaXNoZWQ6cmV0dXJuIFQodCx7d2lkZ2V0SW50ZXJhY3Rpb25FcnJvcjp2b2lkIDAsd2lkZ2V0SW50ZXJhY3Rpb25NZXRob2RJZDp2b2lkIDB9KTtjYXNlIEFlLmEuV2lkZ2V0SW50ZXJhY3Rpb25GYWlsZWQ6cmV0dXJuIFQodCx7d2lkZ2V0SW50ZXJhY3Rpb25FcnJvcjplLnBheWxvYWQsd2lkZ2V0SW50ZXJhY3Rpb25NZXRob2RJZDplLm1ldGEmJmUubWV0YS5tZXRob2RJZH0pO2RlZmF1bHQ6cmV0dXJuIHR9fWZ1bmN0aW9uIE1lKHQsZSl7c3dpdGNoKHZvaWQgMD09PXQmJih0PUVlLnN0YXR1c2VzKSxlLnR5cGUpe2Nhc2UgQWUuYS5Jbml0aWFsaXplUmVxdWVzdGVkOnJldHVybiBUKHQse2lzSW5pdGlhbGl6aW5nOiEwLGluaXRpYWxpemVNZXRob2RJZDplLm1ldGEmJmUubWV0YS5tZXRob2RJZH0pO2Nhc2UgQWUuYS5Jbml0aWFsaXplRmFpbGVkOmNhc2UgQWUuYS5Jbml0aWFsaXplU3VjY2VlZGVkOnJldHVybiBUKHQse2lzSW5pdGlhbGl6aW5nOiExLGluaXRpYWxpemVNZXRob2RJZDp2b2lkIDB9KTtjYXNlIEFlLmEuRGVpbml0aWFsaXplUmVxdWVzdGVkOnJldHVybiBUKHQse2lzRGVpbml0aWFsaXppbmc6ITAsZGVpbml0aWFsaXplTWV0aG9kSWQ6ZS5tZXRhJiZlLm1ldGEubWV0aG9kSWR9KTtjYXNlIEFlLmEuRGVpbml0aWFsaXplRmFpbGVkOmNhc2UgQWUuYS5EZWluaXRpYWxpemVTdWNjZWVkZWQ6cmV0dXJuIFQodCx7aXNEZWluaXRpYWxpemluZzohMSxkZWluaXRpYWxpemVNZXRob2RJZDp2b2lkIDB9KTtjYXNlIEFlLmEuVXBkYXRlQWRkcmVzc1JlcXVlc3RlZDpyZXR1cm4gVCh0LHtpc1VwZGF0aW5nQWRkcmVzczohMCx1cGRhdGVBZGRyZXNzTWV0aG9kSWQ6ZS5tZXRhJiZlLm1ldGEubWV0aG9kSWR9KTtjYXNlIEFlLmEuVXBkYXRlQWRkcmVzc0ZhaWxlZDpjYXNlIEFlLmEuVXBkYXRlQWRkcmVzc1N1Y2NlZWRlZDpyZXR1cm4gVCh0LHtpc1VwZGF0aW5nQWRkcmVzczohMSx1cGRhdGVBZGRyZXNzTWV0aG9kSWQ6dm9pZCAwfSk7Y2FzZSBBZS5hLlNlbGVjdE9wdGlvblJlcXVlc3RlZDpyZXR1cm4gVCh0LHtpc1NlbGVjdGluZ09wdGlvbjohMCxzZWxlY3RPcHRpb25NZXRob2RJZDplLm1ldGEmJmUubWV0YS5tZXRob2RJZH0pO2Nhc2UgQWUuYS5TZWxlY3RPcHRpb25GYWlsZWQ6Y2FzZSBBZS5hLlNlbGVjdE9wdGlvblN1Y2NlZWRlZDpyZXR1cm4gVCh0LHtpc1NlbGVjdGluZ09wdGlvbjohMSxzZWxlY3RPcHRpb25NZXRob2RJZDp2b2lkIDB9KTtjYXNlIEFlLmEuV2lkZ2V0SW50ZXJhY3Rpb25TdGFydGVkOnJldHVybiBUKHQse2lzV2lkZ2V0SW50ZXJhY3Rpbmc6ITAsd2lkZ2V0SW50ZXJhY3Rpb25NZXRob2RJZDplLm1ldGEmJmUubWV0YS5tZXRob2RJZH0pO2Nhc2UgQWUuYS5XaWRnZXRJbnRlcmFjdGlvbkZpbmlzaGVkOmNhc2UgQWUuYS5XaWRnZXRJbnRlcmFjdGlvbkZhaWxlZDpyZXR1cm4gVCh0LHtpc1dpZGdldEludGVyYWN0aW5nOiExLHdpZGdldEludGVyYWN0aW9uTWV0aG9kSWQ6dm9pZCAwfSk7ZGVmYXVsdDpyZXR1cm4gdH19dmFyIFRlPW4oNDQpLFJlPXtlcnJvcnM6e30sc3RhdHVzZXM6e319O2Z1bmN0aW9uIERlKHQsZSl7cmV0dXJuIHZvaWQgMD09PXQmJih0PVJlKSxPYmplY3QoaS5jb21iaW5lUmVkdWNlcnMpKHtkYXRhOnplLGVycm9yczpPYmplY3QoaS5jb21wb3NlUmVkdWNlcnMpKExlLGcpLHN0YXR1c2VzOk5lfSkodCxlKX1mdW5jdGlvbiB6ZSh0LGUpe3N3aXRjaChlLnR5cGUpe2Nhc2UgVGUuYS5TZW5kU2lnbkluRW1haWxTdWNjZWVkZWQ6cmV0dXJuIFQodCxlLnBheWxvYWQpO2RlZmF1bHQ6cmV0dXJuIHR9fWZ1bmN0aW9uIExlKHQsZSl7c3dpdGNoKHZvaWQgMD09PXQmJih0PVJlLmVycm9ycyksZS50eXBlKXtjYXNlIFRlLmEuU2VuZFNpZ25JbkVtYWlsUmVxdWVzdGVkOmNhc2UgVGUuYS5TZW5kU2lnbkluRW1haWxTdWNjZWVkZWQ6cmV0dXJuIEModCxcInNlbmRFcnJvclwiLHZvaWQgMCk7Y2FzZSBUZS5hLlNlbmRTaWduSW5FbWFpbEZhaWxlZDpyZXR1cm4gQyh0LFwic2VuZEVycm9yXCIsZS5wYXlsb2FkKTtkZWZhdWx0OnJldHVybiB0fX1mdW5jdGlvbiBOZSh0LGUpe3N3aXRjaCh2b2lkIDA9PT10JiYodD1SZS5zdGF0dXNlcyksZS50eXBlKXtjYXNlIFRlLmEuU2VuZFNpZ25JbkVtYWlsUmVxdWVzdGVkOnJldHVybiBDKHQsXCJpc1NlbmRpbmdcIiwhMCk7Y2FzZSBUZS5hLlNlbmRTaWduSW5FbWFpbEZhaWxlZDpjYXNlIFRlLmEuU2VuZFNpZ25JbkVtYWlsU3VjY2VlZGVkOnJldHVybiBDKHQsXCJpc1NlbmRpbmdcIiwhMSk7ZGVmYXVsdDpyZXR1cm4gdH19dmFyIEZlPW4oNDcpLHFlPXtlcnJvcnM6e30sc3RhdHVzZXM6e319O2Z1bmN0aW9uIFVlKHQsZSl7cmV0dXJuIHZvaWQgMD09PXQmJih0PXFlKSxPYmplY3QoaS5jb21iaW5lUmVkdWNlcnMpKHtlcnJvcnM6T2JqZWN0KGkuY29tcG9zZVJlZHVjZXJzKSh4ZSxnKSxzdGF0dXNlczpCZX0pKHQsZSl9ZnVuY3Rpb24geGUodCxlKXtzd2l0Y2godm9pZCAwPT09dCYmKHQ9cWUuZXJyb3JzKSxlLnR5cGUpe2Nhc2UgRmUuYS5BcHBseVN0b3JlQ3JlZGl0UmVxdWVzdGVkOmNhc2UgRmUuYS5BcHBseVN0b3JlQ3JlZGl0U3VjY2VlZGVkOnJldHVybiBDKHQsXCJhcHBseUVycm9yXCIsdm9pZCAwKTtjYXNlIEZlLmEuQXBwbHlTdG9yZUNyZWRpdEZhaWxlZDpyZXR1cm4gQyh0LFwiYXBwbHlFcnJvclwiLGUucGF5bG9hZCk7ZGVmYXVsdDpyZXR1cm4gdH19ZnVuY3Rpb24gQmUodCxlKXtzd2l0Y2godm9pZCAwPT09dCYmKHQ9cWUuc3RhdHVzZXMpLGUudHlwZSl7Y2FzZSBGZS5hLkFwcGx5U3RvcmVDcmVkaXRSZXF1ZXN0ZWQ6cmV0dXJuIEModCxcImlzQXBwbHlpbmdcIiwhMCk7Y2FzZSBGZS5hLkFwcGx5U3RvcmVDcmVkaXRTdWNjZWVkZWQ6Y2FzZSBGZS5hLkFwcGx5U3RvcmVDcmVkaXRGYWlsZWQ6cmV0dXJuIEModCxcImlzQXBwbHlpbmdcIiwhMSk7ZGVmYXVsdDpyZXR1cm4gdH19dmFyIEdlPXtlcnJvcnM6e30sc3RhdHVzZXM6e319O2Z1bmN0aW9uIFZlKHQsZSl7cmV0dXJuIHZvaWQgMD09PXQmJih0PUdlKSxPYmplY3QoaS5jb21iaW5lUmVkdWNlcnMpKHtlcnJvcnM6T2JqZWN0KGkuY29tcG9zZVJlZHVjZXJzKShZZSxnKSxzdGF0dXNlczpIZX0pKHQsZSl9ZnVuY3Rpb24gWWUodCxlKXtzd2l0Y2godm9pZCAwPT09dCYmKHQ9R2UuZXJyb3JzKSxlLnR5cGUpe2Nhc2UgUy5hLlVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0ZWQ6Y2FzZSBTLmEuVXBkYXRlU3Vic2NyaXB0aW9uc1N1Y2NlZWRlZDpyZXR1cm4gQyh0LFwidXBkYXRlRXJyb3JcIix2b2lkIDApO2Nhc2UgUy5hLlVwZGF0ZVN1YnNjcmlwdGlvbnNGYWlsZWQ6cmV0dXJuIEModCxcInVwZGF0ZUVycm9yXCIsZS5wYXlsb2FkKTtkZWZhdWx0OnJldHVybiB0fX1mdW5jdGlvbiBIZSh0LGUpe3N3aXRjaCh2b2lkIDA9PT10JiYodD1HZS5zdGF0dXNlcyksZS50eXBlKXtjYXNlIFMuYS5VcGRhdGVTdWJzY3JpcHRpb25zUmVxdWVzdGVkOnJldHVybiBDKHQsXCJpc1VwZGF0aW5nXCIsITApO2Nhc2UgUy5hLlVwZGF0ZVN1YnNjcmlwdGlvbnNGYWlsZWQ6Y2FzZSBTLmEuVXBkYXRlU3Vic2NyaXB0aW9uc1N1Y2NlZWRlZDpyZXR1cm4gQyh0LFwiaXNVcGRhdGluZ1wiLCExKTtkZWZhdWx0OnJldHVybiB0fX12YXIgV2U9big2NSksS2U9e2Vycm9yczp7fSxzdGF0dXNlczp7fX07ZnVuY3Rpb24gSmUodCxlKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9S2UpLE9iamVjdChpLmNvbWJpbmVSZWR1Y2Vycykoe2RhdGE6WmUsZXJyb3JzOk9iamVjdChpLmNvbXBvc2VSZWR1Y2VycykoUWUsZyksc3RhdHVzZXM6WGV9KSh0LGUpfWZ1bmN0aW9uIFplKHQsZSl7c3dpdGNoKGUudHlwZSl7Y2FzZSBmLmEuTG9hZENoZWNrb3V0U3VjY2VlZGVkOmNhc2UgZi5hLlVwZGF0ZUNoZWNrb3V0U3VjY2VlZGVkOmNhc2UgRmUuYS5BcHBseVN0b3JlQ3JlZGl0U3VjY2VlZGVkOmNhc2Ugdy5hLlVwZGF0ZUJpbGxpbmdBZGRyZXNzU3VjY2VlZGVkOmNhc2UgUi5hLkFwcGx5Q291cG9uU3VjY2VlZGVkOmNhc2UgUi5hLlJlbW92ZUNvdXBvblN1Y2NlZWRlZDpjYXNlIHouYS5DcmVhdGVDb25zaWdubWVudHNTdWNjZWVkZWQ6Y2FzZSB6LmEuVXBkYXRlQ29uc2lnbm1lbnRTdWNjZWVkZWQ6Y2FzZSB6LmEuRGVsZXRlQ29uc2lnbm1lbnRTdWNjZWVkZWQ6Y2FzZSB6LmEuVXBkYXRlU2hpcHBpbmdPcHRpb25TdWNjZWVkZWQ6Y2FzZSB6LmEuTG9hZFNoaXBwaW5nT3B0aW9uc1N1Y2NlZWRlZDpjYXNlIEQuYS5BcHBseUdpZnRDZXJ0aWZpY2F0ZVN1Y2NlZWRlZDpjYXNlIEQuYS5SZW1vdmVHaWZ0Q2VydGlmaWNhdGVTdWNjZWVkZWQ6Y2FzZSBXZS5hLlZlcmlmeUNoZWNrb3V0U3VjY2VlZGVkOnJldHVybiBUKHQsT2JqZWN0KGMub21pdCkoZS5wYXlsb2FkLFtcImJpbGxpbmdBZGRyZXNzXCIsXCJjYXJ0XCIsXCJjb25zaWdubWVudHNcIixcImN1c3RvbWVyXCIsXCJjb3Vwb25zXCIsXCJnaWZ0Q2VydGlmaWNhdGVzXCJdKSk7Y2FzZSBPLmEuU3VibWl0T3JkZXJTdWNjZWVkZWQ6cmV0dXJuIEModCxcIm9yZGVySWRcIixlLnBheWxvYWQmJmUucGF5bG9hZC5vcmRlci5vcmRlcklkKTtkZWZhdWx0OnJldHVybiB0fX1mdW5jdGlvbiBRZSh0LGUpe3N3aXRjaCh2b2lkIDA9PT10JiYodD1LZS5lcnJvcnMpLGUudHlwZSl7Y2FzZSBmLmEuTG9hZENoZWNrb3V0UmVxdWVzdGVkOmNhc2UgZi5hLkxvYWRDaGVja291dFN1Y2NlZWRlZDpyZXR1cm4gQyh0LFwibG9hZEVycm9yXCIsdm9pZCAwKTtjYXNlIGYuYS5Mb2FkQ2hlY2tvdXRGYWlsZWQ6cmV0dXJuIEModCxcImxvYWRFcnJvclwiLGUucGF5bG9hZCk7Y2FzZSBmLmEuVXBkYXRlQ2hlY2tvdXRSZXF1ZXN0ZWQ6Y2FzZSBmLmEuVXBkYXRlQ2hlY2tvdXRTdWNjZWVkZWQ6cmV0dXJuIEModCxcInVwZGF0ZUVycm9yXCIsdm9pZCAwKTtjYXNlIGYuYS5VcGRhdGVDaGVja291dEZhaWxlZDpyZXR1cm4gQyh0LFwidXBkYXRlRXJyb3JcIixlLnBheWxvYWQpO2RlZmF1bHQ6cmV0dXJuIHR9fWZ1bmN0aW9uIFhlKHQsZSl7c3dpdGNoKHZvaWQgMD09PXQmJih0PUtlLnN0YXR1c2VzKSxlLnR5cGUpe2Nhc2UgZi5hLkxvYWRDaGVja291dFJlcXVlc3RlZDpyZXR1cm4gQyh0LFwiaXNMb2FkaW5nXCIsITApO2Nhc2UgZi5hLkxvYWRDaGVja291dEZhaWxlZDpjYXNlIGYuYS5Mb2FkQ2hlY2tvdXRTdWNjZWVkZWQ6cmV0dXJuIEModCxcImlzTG9hZGluZ1wiLCExKTtjYXNlIGYuYS5VcGRhdGVDaGVja291dFJlcXVlc3RlZDpyZXR1cm4gQyh0LFwiaXNVcGRhdGluZ1wiLCEwKTtjYXNlIGYuYS5VcGRhdGVDaGVja291dEZhaWxlZDpjYXNlIGYuYS5VcGRhdGVDaGVja291dFN1Y2NlZWRlZDpyZXR1cm4gQyh0LFwiaXNVcGRhdGluZ1wiLCExKTtjYXNlIFdlLmEuRXhlY3V0ZVJlcXVlc3RlZDpyZXR1cm4gQyh0LFwiaXNFeGVjdXRpbmdTcGFtQ2hlY2tcIiwhMCk7Y2FzZSBXZS5hLkV4ZWN1dGVGYWlsZWQ6Y2FzZSBXZS5hLkV4ZWN1dGVTdWNjZWVkZWQ6cmV0dXJuIEModCxcImlzRXhlY3V0aW5nU3BhbUNoZWNrXCIsITEpO2RlZmF1bHQ6cmV0dXJuIHR9fXZhciAkZT1uKDUpLHRuPW4oMTIpLGVuPW4oMTcxKTtmdW5jdGlvbiBubih0LGUpe2lmKG51bGw9PXQpdGhyb3cgZT9lKCk6bmV3IEVycm9yKFwiQW4gdW5leHBlY3RlZCBlcnJvciBoYXMgb2NjdXJyZWQuXCIpO3JldHVybiB0fWZ1bmN0aW9uIHJuKHQpe3JldHVybiBmdW5jdGlvbih0LGUpe3ZhciBuPU9iamVjdC5jcmVhdGUodCk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dmFyIG49T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpO2Zvcig7bjspZShuKSxuPU9iamVjdC5nZXRQcm90b3R5cGVPZihuKX0odCwoZnVuY3Rpb24ocil7T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocikuZm9yRWFjaCgoZnVuY3Rpb24ocil7XCJjb25zdHJ1Y3RvclwiIT09ciYmXCJmdW5jdGlvblwiPT10eXBlb2YgbltyXSYmXCJfXCIhPT1yLmNoYXJBdCgwKSYmKG5bcl09ZSh0LHIsbikpfSkpfSkpLG59KHQsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciBuLG89W10sYT0wO2E8YXJndW1lbnRzLmxlbmd0aDthKyspb1thXT1hcmd1bWVudHNbYV07cmV0dXJuIE9iamVjdChpLmRlZXBGcmVlemUpKChuPXRbZV0pLmNhbGwuYXBwbHkobixPYmplY3Qoci5fX3NwcmVhZEFycmF5cykoW3RdLG8pKSl9fSkpfWZ1bmN0aW9uIG9uKCl7dmFyIHQ9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kYXRhfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3ZvaWQgMD09PWUmJihlPVtdKTt2YXIgcj1PYmplY3QoYy5maW5kKShlLHtjb2RlOm59KTtyZXR1cm4odD90LnNoaXBwaW5nQWRkcmVzczpbXSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gYSh0LGUscil9KSl9fSkpLGU9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kYXRhfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3ZvaWQgMD09PWUmJihlPVtdKTt2YXIgcj1PYmplY3QoYy5maW5kKShlLHtjb2RlOm59KTtyZXR1cm4odD90LmJpbGxpbmdBZGRyZXNzOltdKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBhKHQsZSxyKX0pKX19KSksbj1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRhdGF9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQ/dC5jdXN0b21lckFjY291bnQ6W119fSkpLGk9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5lcnJvcnMubG9hZEVycm9yfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0pKSxvPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuISF0LnN0YXR1c2VzLmlzTG9hZGluZ30pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSk7ZnVuY3Rpb24gYSh0LGUsbil7cmV0dXJuXCJjb3VudHJ5Q29kZVwiPT09dC5uYW1lP2Z1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1lJiYoZT1bXSk7aWYoIWUubGVuZ3RoKXJldHVybiB0O3ZhciBpPShufHx7fSkuY29kZSxvPXZvaWQgMD09PWk/XCJcIjppLGE9ZS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybnt2YWx1ZTp0LmNvZGUsbGFiZWw6dC5uYW1lfX0pKTtyZXR1cm4gT2JqZWN0KHIuX19hc3NpZ24pKE9iamVjdChyLl9fYXNzaWduKSh7fSx0KSx7b3B0aW9uczp7aXRlbXM6YX0sZGVmYXVsdDpvLHR5cGU6XCJhcnJheVwiLGZpZWxkVHlwZTpcImRyb3Bkb3duXCIsaXRlbXR5cGU6XCJzdHJpbmdcIn0pfSh0LGUsbik6XCJzdGF0ZU9yUHJvdmluY2VcIj09PXQubmFtZT9mdW5jdGlvbih0LGUpe3ZhciBuPWV8fHt9LGk9bi5zdWJkaXZpc2lvbnMsbz12b2lkIDA9PT1pP1tdOmksYT1uLnJlcXVpcmVzU3RhdGU7aWYoIW8ubGVuZ3RoKXJldHVybiBPYmplY3Qoci5fX2Fzc2lnbikoT2JqZWN0KHIuX19hc3NpZ24pKHt9LHQpLHtyZXF1aXJlZDpudWxsIT1hJiZhfSk7dmFyIHM9by5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybnt2YWx1ZTp0LmNvZGUsbGFiZWw6dC5uYW1lfX0pKTtyZXR1cm4gT2JqZWN0KHIuX19hc3NpZ24pKE9iamVjdChyLl9fYXNzaWduKSh7fSx0KSx7bmFtZTpcInN0YXRlT3JQcm92aW5jZUNvZGVcIixvcHRpb25zOntpdGVtczpzfSxyZXF1aXJlZDpudWxsPT1hfHxhLHR5cGU6XCJhcnJheVwiLGZpZWxkVHlwZTpcImRyb3Bkb3duXCIsaXRlbXR5cGU6XCJzdHJpbmdcIn0pfSh0LG4pOlwicG9zdGFsQ29kZVwiPT09dC5uYW1lP2Z1bmN0aW9uKHQsZSl7dmFyIG49KGV8fHt9KS5oYXNQb3N0YWxDb2RlcyxpPXZvaWQgMD09PW4/W106bjtpZih2b2lkIDA9PT1pKXJldHVybiB0O3JldHVybiBPYmplY3Qoci5fX2Fzc2lnbikoT2JqZWN0KHIuX19hc3NpZ24pKHt9LHQpLHtyZXF1aXJlZDpCb29sZWFuKGkpfSl9KHQsbik6dH1yZXR1cm4gT2JqZWN0KCRlLm1lbW9pemVPbmUpKChmdW5jdGlvbihyKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9SXQpLHtnZXRTaGlwcGluZ0FkZHJlc3NGaWVsZHM6dChyKSxnZXRCaWxsaW5nQWRkcmVzc0ZpZWxkczplKHIpLGdldEN1c3RvbWVyQWNjb3VudEZpZWxkczpuKHIpLGdldExvYWRFcnJvcjppKHIpLGlzTG9hZGluZzpvKHIpfX0pKX12YXIgYW49big1OCksc249bigzNik7dmFyIGNuPXtcImFkeWVudjIuc2NoZW1lXCI6e3Byb3ZpZGVyOlwiYWR5ZW52MlwiLG1ldGhvZDpcInNjaGVtZVwifSxcImFkeWVudjIuYmNtY1wiOntwcm92aWRlcjpcImFkeWVudjJcIixtZXRob2Q6XCJiY21jXCJ9LFwiYWR5ZW52Mi5pZGVhbFwiOntwcm92aWRlcjpcImFkeWVudjJcIixtZXRob2Q6XCJpZGVhbFwifSxcImFkeWVudjIuc2VwYWRpcmVjdGRlYml0XCI6e3Byb3ZpZGVyOlwiYWR5ZW52MlwiLG1ldGhvZDpcInNlcGFkaXJlY3RkZWJpdFwifSxcImFkeWVudjIuZGlyZWN0RWJhbmtpbmdcIjp7cHJvdmlkZXI6XCJhZHllbnYyXCIsbWV0aG9kOlwiZGlyZWN0RWJhbmtpbmdcIn0sXCJhZHllbnYyLmdpcm9wYXlcIjp7cHJvdmlkZXI6XCJhZHllbnYyXCIsbWV0aG9kOlwiZ2lyb3BheVwifSxiYXJjbGF5czp7cHJvdmlkZXI6XCJiYXJjbGF5c1wiLG1ldGhvZDpcImNyZWRpdF9jYXJkXCJ9LGJyYWludHJlZTp7cHJvdmlkZXI6XCJicmFpbnRyZWVcIixtZXRob2Q6XCJjcmVkaXRfY2FyZFwifSxicmFpbnRyZWVwYXlwYWw6e3Byb3ZpZGVyOlwiYnJhaW50cmVlXCIsbWV0aG9kOlwicGF5cGFsXCJ9LGF1dGhvcml6ZW5ldDp7cHJvdmlkZXI6XCJhdXRob3JpemVuZXRcIixtZXRob2Q6XCJjcmVkaXRfY2FyZFwifSxlbGF2b246e3Byb3ZpZGVyOlwiZWxhdm9uXCIsbWV0aG9kOlwiY3JlZGl0X2NhcmRcIn0sY2hlY2tvdXRjb206e3Byb3ZpZGVyOlwiY2hlY2tvdXRjb21cIixtZXRob2Q6XCJjcmVkaXRfY2FyZFwifSxzdHJpcGU6e3Byb3ZpZGVyOlwic3RyaXBlXCIsbWV0aG9kOlwiY3JlZGl0X2NhcmRcIn0sXCJzdHJpcGV2My5jYXJkXCI6e3Byb3ZpZGVyOlwic3RyaXBldjNcIixtZXRob2Q6XCJjYXJkXCJ9LGN5YmVyc291cmNlOntwcm92aWRlcjpcImN5YmVyc291cmNlXCIsbWV0aG9kOlwiY3JlZGl0X2NhcmRcIn0sY29udmVyZ2U6e3Byb3ZpZGVyOlwiY29udmVyZ2VcIixtZXRob2Q6XCJjcmVkaXRfY2FyZFwifSxibHVlc25hcHYyOntwcm92aWRlcjpcImJsdWVzbmFwdjJcIixtZXRob2Q6XCJjcmVkaXRfY2FyZFwifSxvcmJpdGFsOntwcm92aWRlcjpcIm9yYml0YWxcIixtZXRob2Q6XCJjcmVkaXRfY2FyZFwifSxwYXltZXRyaWM6e3Byb3ZpZGVyOlwicGF5bWV0cmljXCIsbWV0aG9kOlwiY3JlZGl0X2NhcmRcIn0sYm9sdDp7cHJvdmlkZXI6XCJib2x0XCIsbWV0aG9kOlwiY3JlZGl0X2NhcmRcIn0sXCJiYXJjbGF5Y2FyZC5jcmVkaXRfY2FyZFwiOntwcm92aWRlcjpcImJhcmNsYXljYXJkXCIsbWV0aG9kOlwiY3JlZGl0X2NhcmRcIn19O2Z1bmN0aW9uIHVuKHQpe3JldHVybiBPYmplY3QoYy5waWNrQnkpKHtmaXJzdE5hbWU6dC5maXJzdE5hbWUsbGFzdE5hbWU6dC5sYXN0TmFtZSxjb21wYW55OnQuY29tcGFueSxhZGRyZXNzMTp0LmFkZHJlc3MxLGFkZHJlc3MyOnQuYWRkcmVzczIsY2l0eTp0LmNpdHksc3RhdGVPclByb3ZpbmNlOnQuc3RhdGVPclByb3ZpbmNlLGNvdW50cnlDb2RlOnQuY291bnRyeUNvZGUscG9zdGFsQ29kZTp0LnBvc3RhbENvZGUscGhvbmU6dC5waG9uZSxjdXN0b21GaWVsZHM6dC5jdXN0b21GaWVsZHN9LGMuaWRlbnRpdHkpfWZ1bmN0aW9uIGRuKCl7dmFyIHQ9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kYXRhfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0pKSxlPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGF0YX0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYodCYmdC5sZW5ndGgpcmV0dXJuIE9iamVjdChjLmZpbmQpKHQse2lkOmV9KX19KSksbj1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRhdGF9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKHQmJnQubGVuZ3RoKXJldHVybiBPYmplY3QoYy5maW5kKSh0LChmdW5jdGlvbih0KXtyZXR1cm4gbj10LnNoaXBwaW5nQWRkcmVzcyxyPWUsT2JqZWN0KGMuaXNFcXVhbCkodW4obiksdW4ocikpO3ZhciBuLHJ9KSl9fSkpLHI9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kYXRhfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe2lmKHQmJnQubGVuZ3RoKXJldHVybiB0WzBdLnNlbGVjdGVkU2hpcHBpbmdPcHRpb259fSkpLGk9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5lcnJvcnMubG9hZEVycm9yfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0pKSxvPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzLmNyZWF0ZUVycm9yfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0pKSxhPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzLmxvYWRTaGlwcGluZ09wdGlvbnNFcnJvcn0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSkscz1PYmplY3QoZW4uYSkodCwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5jYXJ0LmdldENhcnR9KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbj1lKCk7aWYoIW4pcmV0dXJuW107dmFyIHI9KHQoKXx8W10pLnJlZHVjZSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5jb25jYXQoZS5saW5lSXRlbUlkcyl9KSxbXSk7cmV0dXJuKG4ubGluZUl0ZW1zLnBoeXNpY2FsSXRlbXN8fFtdKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiByLmluZGV4T2YodC5pZCk8MH0pKX19KSksdT1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVycm9ycy51cGRhdGVFcnJvcn0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGU/dFtlXTpPYmplY3QoYy5maW5kKSh0KX19KSksZD1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVycm9ycy5kZWxldGVFcnJvcn0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGU/dFtlXTpPYmplY3QoYy5maW5kKSh0KX19KSkscD1PYmplY3QoZW4uYSkobix1LG8sKGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZnVuY3Rpb24ocil7dmFyIGk9dChyKTtyZXR1cm4gaT9lKGkuaWQpOm4oKX19KSksaD1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVycm9ycy51cGRhdGVTaGlwcGluZ09wdGlvbkVycm9yfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZT90W2VdOk9iamVjdChjLmZpbmQpKHQpfX0pKSxsPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RhdHVzZXMuaXNMb2FkaW5nfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiEwPT09dH19KSksbT1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXR1c2VzLmlzTG9hZGluZ1NoaXBwaW5nT3B0aW9uc30pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4hMD09PXR9fSkpLGY9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGF0dXNlcy5pc0NyZWF0aW5nfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiEwPT09dH19KSksXz1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXR1c2VzLmlzVXBkYXRpbmd9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBlPyEwPT09dFtlXTohMD09PU9iamVjdChjLmZpbmQpKHQpfX0pKSx5PU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RhdHVzZXMuaXNEZWxldGluZ30pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGU/ITA9PT10W2VdOiEwPT09T2JqZWN0KGMuZmluZCkodCl9fSkpLGc9T2JqZWN0KGVuLmEpKG4sXyxmLChmdW5jdGlvbih0LGUsbil7cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciBpPXQocik7cmV0dXJuIGk/ZShpLmlkKTpuKCl9fSkpLGI9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGF0dXNlcy5pc1VwZGF0aW5nU2hpcHBpbmdPcHRpb259KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBlPyEwPT09dFtlXTohMD09PU9iamVjdChjLmZpbmQpKHQpfX0pKTtyZXR1cm4gT2JqZWN0KCRlLm1lbW9pemVPbmUpKChmdW5jdGlvbihjLHYpe3JldHVybiB2b2lkIDA9PT1jJiYoYz1mZSkse2dldENvbnNpZ25tZW50czp0KGMpLGdldENvbnNpZ25tZW50QnlJZDplKGMpLGdldENvbnNpZ25tZW50QnlBZGRyZXNzOm4oYyksZ2V0U2hpcHBpbmdPcHRpb246cihjKSxnZXRMb2FkRXJyb3I6aShjKSxnZXRDcmVhdGVFcnJvcjpvKGMpLGdldExvYWRTaGlwcGluZ09wdGlvbnNFcnJvcjphKGMpLGdldFVuYXNzaWduZWRJdGVtczpzKGMse2NhcnQ6dn0pLGdldFVwZGF0ZUVycm9yOnUoYyksZ2V0RGVsZXRlRXJyb3I6ZChjKSxnZXRJdGVtQXNzaWdubWVudEVycm9yOnAoYyksZ2V0VXBkYXRlU2hpcHBpbmdPcHRpb25FcnJvcjpoKGMpLGlzTG9hZGluZzpsKGMpLGlzTG9hZGluZ1NoaXBwaW5nT3B0aW9uczptKGMpLGlzQ3JlYXRpbmc6ZihjKSxpc1VwZGF0aW5nOl8oYyksaXNEZWxldGluZzp5KGMpLGlzQXNzaWduaW5nSXRlbXM6ZyhjKSxpc1VwZGF0aW5nU2hpcHBpbmdPcHRpb246YihjKX19KSl9dmFyIHBuPXtlcnJvcnM6e30sc3RhdHVzZXM6e319O2Z1bmN0aW9uIGhuKCl7dmFyIHQsZSxuLGksbyxhLHMsdSxkLHAsaCxsLG0sZixfLHksZyxiLHYsQyxPLFMsdyxBLEUsUCxqLGssTSxULFIsRCx6LE4sRixxLFU9KHQ9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kYXRhfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0pKSxlPU9iamVjdChlbi5hKSh0LChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbm4odCgpLChmdW5jdGlvbigpe3JldHVybiBuZXcgdG4uYih0bi5hLk1pc3NpbmdCaWxsaW5nQWRkcmVzcyl9KSl9fSkpLG49T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5lcnJvcnMudXBkYXRlRXJyb3J9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSkpLGk9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5lcnJvcnMuY29udGludWVBc0d1ZXN0RXJyb3J9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSkpLG89T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5lcnJvcnMubG9hZEVycm9yfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0pKSxhPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuISF0LnN0YXR1c2VzLmlzVXBkYXRpbmd9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSkpLHM9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4hIXQuc3RhdHVzZXMuaXNDb250aW51aW5nQXNHdWVzdH0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSksdT1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiEhdC5zdGF0dXNlcy5pc0xvYWRpbmd9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSkpLE9iamVjdCgkZS5tZW1vaXplT25lKSgoZnVuY3Rpb24ocil7cmV0dXJuIHZvaWQgMD09PXImJihyPUkpLHtnZXRCaWxsaW5nQWRkcmVzczp0KHIpLGdldEJpbGxpbmdBZGRyZXNzT3JUaHJvdzplKHIpLGdldFVwZGF0ZUVycm9yOm4ociksZ2V0Q29udGludWVBc0d1ZXN0RXJyb3I6aShyKSxnZXRMb2FkRXJyb3I6byhyKSxpc1VwZGF0aW5nOmEociksaXNDb250aW51aW5nQXNHdWVzdDpzKHIpLGlzTG9hZGluZzp1KHIpfX0pKSkseD1mdW5jdGlvbigpe3ZhciB0PU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGF0YX0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSksZT1PYmplY3QoZW4uYSkodCwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5uKHQoKSwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHRuLmIodG4uYS5NaXNzaW5nQ2FydCl9KSl9fSkpLG49T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5lcnJvcnMubG9hZEVycm9yfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0pKSxyPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuISF0LnN0YXR1c2VzLmlzTG9hZGluZ30pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSk7cmV0dXJuIE9iamVjdCgkZS5tZW1vaXplT25lKSgoZnVuY3Rpb24oaSl7cmV0dXJuIHZvaWQgMD09PWkmJihpPUwpLHtnZXRDYXJ0OnQoaSksZ2V0Q2FydE9yVGhyb3c6ZShpKSxnZXRMb2FkRXJyb3I6bihpKSxpc0xvYWRpbmc6cihpKX19KSl9KCksRz0oZD1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0fSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0pKSxwPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RhdHVzZXN9KSwoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdCgkZS5tZW1vaXplKSgoZnVuY3Rpb24oZSl7aWYoZSl7dmFyIG49dFtlXTtyZXR1cm4hMD09PShuJiZuLmlzSW5pdGlhbGl6aW5nKX1yZXR1cm4gT2JqZWN0KGMuc29tZSkodCx7aXNJbml0aWFsaXppbmc6ITB9KX0pKX0pKSxoPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGF0YX0pLChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KCRlLm1lbW9pemUpKChmdW5jdGlvbihlLG4pe3ZhciByPXRbZV07cmV0dXJuISFyJiYobj8hMD09PXIuaW5pdGlhbGl6ZWRDb250YWluZXJzW25dOk9iamVjdChjLnNvbWUpKHIuaW5pdGlhbGl6ZWRDb250YWluZXJzLChmdW5jdGlvbih0KXtyZXR1cm4hMD09PXR9KSkpfSkpfSkpLGw9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGF0dXNlc30pLChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KCRlLm1lbW9pemUpKChmdW5jdGlvbihlKXtpZihlKXt2YXIgbj10W2VdO3JldHVybiEwPT09KG4mJm4uaXNEZWluaXRpYWxpemluZyl9cmV0dXJuIE9iamVjdChjLnNvbWUpKHQse2lzRGVpbml0aWFsaXppbmc6ITB9KX0pKX0pKSxtPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzfSksKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoJGUubWVtb2l6ZSkoKGZ1bmN0aW9uKGUpe3ZhciBuPWU/dFtlXTpPYmplY3QoYy5maW5kKShPYmplY3QoYy52YWx1ZXMpKHQpLChmdW5jdGlvbih0KXtyZXR1cm4hKCF0fHwhdC5pbml0aWFsaXplRXJyb3IpfSkpO3JldHVybiBuJiZuLmluaXRpYWxpemVFcnJvcn0pKX0pKSxmPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzfSksKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoJGUubWVtb2l6ZSkoKGZ1bmN0aW9uKGUpe3ZhciBuPWU/dFtlXTpPYmplY3QoYy5maW5kKShPYmplY3QoYy52YWx1ZXMpKHQpLChmdW5jdGlvbih0KXtyZXR1cm4hKCF0fHwhdC5kZWluaXRpYWxpemVFcnJvcil9KSk7cmV0dXJuIG4mJm4uZGVpbml0aWFsaXplRXJyb3J9KSl9KSksT2JqZWN0KCRlLm1lbW9pemVPbmUpKChmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9Qikse2dldFN0YXRlOmQodCksaXNJbml0aWFsaXppbmc6cCh0KSxpc0luaXRpYWxpemVkOmgodCksaXNEZWluaXRpYWxpemluZzpsKHQpLGdldEluaXRpYWxpemVFcnJvcjptKHQpLGdldERlaW5pdGlhbGl6ZUVycm9yOmYodCl9fSkpKSxWPWZ1bmN0aW9uKCl7dmFyIHQ9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kYXRhfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0pKSxlPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGF0YX0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYodCl7dmFyIG49dC5jb250ZXh0LmZsYXNoTWVzc2FnZXM7aWYobilyZXR1cm4gdm9pZCAwIT09ZT9uLmZpbHRlcigoZnVuY3Rpb24odCl7dmFyIG49dC50eXBlO3JldHVybiBlPT09bn0pKTpufX19KSksbj1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRhdGF9KSwoZnVuY3Rpb24odCxlKXt2YXIgbj1lLmZvcm1TdGF0ZTtyZXR1cm4gbiYmbi5kYXRhfSksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQmJmU/T2JqZWN0KHIuX19hc3NpZ24pKE9iamVjdChyLl9fYXNzaWduKSh7fSx0LnN0b3JlQ29uZmlnKSx7Zm9ybUZpZWxkczplfSk6dm9pZCAwfX0pKSxpPU9iamVjdChlbi5hKShuLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbm4odCgpLChmdW5jdGlvbigpe3JldHVybiBuZXcgdG4uYih0bi5hLk1pc3NpbmdDaGVja291dENvbmZpZyl9KSl9fSkpLG89T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kYXRhJiZ0LmRhdGEuY29udGV4dH0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSksYT1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm1ldGEmJnQubWV0YS5leHRlcm5hbFNvdXJjZX0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSkscz1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm1ldGEmJnQubWV0YS52YXJpYW50SWRlbnRpZmljYXRpb25Ub2tlbn0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSksYz1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVycm9ycy5sb2FkRXJyb3J9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSkpLHU9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4hIXQuc3RhdHVzZXMuaXNMb2FkaW5nfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0pKTtyZXR1cm4gT2JqZWN0KCRlLm1lbW9pemVPbmUpKChmdW5jdGlvbihyLGQpe3JldHVybiB2b2lkIDA9PT1yJiYocj1RKSx7Z2V0Q29uZmlnOnQociksZ2V0Rmxhc2hNZXNzYWdlczplKHIpLGdldFN0b3JlQ29uZmlnOm4ocix7Zm9ybVN0YXRlOmR9KSxnZXRTdG9yZUNvbmZpZ09yVGhyb3c6aShyLHtmb3JtU3RhdGU6ZH0pLGdldENvbnRleHRDb25maWc6byhyKSxnZXRFeHRlcm5hbFNvdXJjZTphKHIpLGdldFZhcmlhbnRJZGVudGlmaWNhdGlvblRva2VuOnMociksZ2V0TG9hZEVycm9yOmMociksaXNMb2FkaW5nOnUocil9fSkpfSgpLFk9ZnVuY3Rpb24oKXt2YXIgdD1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRhdGF9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSkpLGU9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5lcnJvcnMubG9hZEVycm9yfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0pKSxuPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuISF0LnN0YXR1c2VzLmlzTG9hZGluZ30pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSk7cmV0dXJuIE9iamVjdCgkZS5tZW1vaXplT25lKSgoZnVuY3Rpb24ocil7cmV0dXJuIHZvaWQgMD09PXImJihyPU10KSx7Z2V0Q291bnRyaWVzOnQociksZ2V0TG9hZEVycm9yOmUociksaXNMb2FkaW5nOm4ocil9fSkpfSgpLEg9KF89T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kYXRhfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0pKSx5PU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzLnJlbW92ZUNvdXBvbkVycm9yfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0pKSxnPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzLmFwcGx5Q291cG9uRXJyb3J9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSkpLGI9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4hIXQuc3RhdHVzZXMuaXNBcHBseWluZ0NvdXBvbn0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSksdj1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiEhdC5zdGF0dXNlcy5pc1JlbW92aW5nQ291cG9ufSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0pKSxPYmplY3QoJGUubWVtb2l6ZU9uZSkoKGZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD1udCkse2dldENvdXBvbnM6Xyh0KSxnZXRSZW1vdmVFcnJvcjp5KHQpLGdldEFwcGx5RXJyb3I6Zyh0KSxpc0FwcGx5aW5nOmIodCksaXNSZW1vdmluZzp2KHQpfX0pKSksVz0oQz1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRhdGF9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSkpLE89T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5lcnJvcnMuY3JlYXRlRXJyb3J9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSkpLFM9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4hIXQuc3RhdHVzZXMuaXNDcmVhdGluZ30pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSksT2JqZWN0KCRlLm1lbW9pemVPbmUpKChmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9bHQpLHtnZXRDdXN0b21lcjpDKHQpLGdldENyZWF0ZUFjY291bnRFcnJvcjpPKHQpLGlzQ3JlYXRpbmdDdXN0b21lckFjY291bnQ6Uyh0KX19KSkpLEs9ZnVuY3Rpb24oKXt2YXIgdD1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVycm9ycy5zaWduSW5NZXRob2RJZH0pLChmdW5jdGlvbih0KXtyZXR1cm4gdC5lcnJvcnMuc2lnbkluRXJyb3J9KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7aWYoIW58fHQ9PT1uKXJldHVybiBlfX0pKSxlPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzLnNpZ25PdXRNZXRob2RJZH0pLChmdW5jdGlvbih0KXtyZXR1cm4gdC5lcnJvcnMuc2lnbk91dEVycm9yfSksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe2lmKCFufHx0PT09bilyZXR1cm4gZX19KSksbj1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVycm9ycy5pbml0aWFsaXplTWV0aG9kSWR9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzLmluaXRpYWxpemVFcnJvcn0pLChmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtpZighbnx8dD09PW4pcmV0dXJuIGV9fSkpLHI9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5lcnJvcnMud2lkZ2V0SW50ZXJhY3Rpb25NZXRob2RJZH0pLChmdW5jdGlvbih0KXtyZXR1cm4gdC5lcnJvcnMud2lkZ2V0SW50ZXJhY3Rpb25FcnJvcn0pLChmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtpZighbnx8dD09PW4pcmV0dXJuIGV9fSkpLGk9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGF0dXNlcy5zaWduSW5NZXRob2RJZH0pLChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGF0dXNlcy5pc1NpZ25pbmdJbn0pLChmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4oIW58fHQ9PT1uKSYmISFlfX0pKSxvPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RhdHVzZXMuc2lnbk91dE1ldGhvZElkfSksKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXR1c2VzLmlzU2lnbmluZ091dH0pLChmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4oIW58fHQ9PT1uKSYmISFlfX0pKSxhPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RhdHVzZXMuaW5pdGlhbGl6ZU1ldGhvZElkfSksKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXR1c2VzLmlzSW5pdGlhbGl6aW5nfSksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybighbnx8dD09PW4pJiYhIWV9fSkpLHM9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kYXRhfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4hKCF0W2VdfHwhdFtlXS5pc0luaXRpYWxpemVkKX19KSksYz1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXR1c2VzLndpZGdldEludGVyYWN0aW9uTWV0aG9kSWR9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RhdHVzZXMuaXNXaWRnZXRJbnRlcmFjdGluZ30pLChmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4oIW58fHQ9PT1uKSYmISFlfX0pKTtyZXR1cm4gT2JqZWN0KCRlLm1lbW9pemVPbmUpKChmdW5jdGlvbih1KXtyZXR1cm4gdm9pZCAwPT09dSYmKHU9YnQpLHtnZXRTaWduSW5FcnJvcjp0KHUpLGdldFNpZ25PdXRFcnJvcjplKHUpLGdldEluaXRpYWxpemVFcnJvcjpuKHUpLGdldFdpZGdldEludGVyYWN0aW9uRXJyb3I6cih1KSxpc1NpZ25pbmdJbjppKHUpLGlzU2lnbmluZ091dDpvKHUpLGlzSW5pdGlhbGl6aW5nOmEodSksaXNJbml0aWFsaXplZDpzKHUpLGlzV2lkZ2V0SW50ZXJhY3Rpbmc6Yyh1KX19KSl9KCksSj1mdW5jdGlvbigpe3ZhciB0PU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGF0YX0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSksZT1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVycm9ycy5yZW1vdmVHaWZ0Q2VydGlmaWNhdGVFcnJvcn0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSksbj1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVycm9ycy5hcHBseUdpZnRDZXJ0aWZpY2F0ZUVycm9yfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0pKSxyPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuISF0LnN0YXR1c2VzLmlzQXBwbHlpbmdHaWZ0Q2VydGlmaWNhdGV9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSkpLGk9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4hIXQuc3RhdHVzZXMuaXNSZW1vdmluZ0dpZnRDZXJ0aWZpY2F0ZX0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSk7cmV0dXJuIE9iamVjdCgkZS5tZW1vaXplT25lKSgoZnVuY3Rpb24obyl7cmV0dXJuIHZvaWQgMD09PW8mJihvPXN0KSx7Z2V0R2lmdENlcnRpZmljYXRlczp0KG8pLGdldFJlbW92ZUVycm9yOmUobyksZ2V0QXBwbHlFcnJvcjpuKG8pLGlzQXBwbHlpbmc6cihvKSxpc1JlbW92aW5nOmkobyl9fSkpfSgpLFo9ZnVuY3Rpb24oKXt2YXIgdD1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRhdGF9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKHQpe3ZhciBuPWUuZ2F0ZXdheT9lLmdhdGV3YXkrXCIuXCIrZS5pZDplLmlkLHI9Y25bbl07cmV0dXJuIHI/T2JqZWN0KGMuZmlsdGVyKSh0LHIpOltdfX19KSksZT1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRhdGF9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PVtdKSxmdW5jdGlvbihlKXt2YXIgbj1PYmplY3QoYy52YWx1ZXMpKGNuKTtyZXR1cm4gdC5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC5iaWdwYXlUb2tlbj09PWUmJlwiY2FyZFwiPT09dC50eXBlJiZuLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoYy5pc01hdGNoKSh0LGUpfSkpfSkpfX0pKSxuPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGF0YX0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtpZih0KXJldHVybiBPYmplY3QoYy5mbGF0TWFwKShjbiwoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChjLmZpbHRlcikodCwoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChjLmlzTWF0Y2gpKHQsZSl9KSl9KSl9fSkpLHI9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5tZXRhfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0pKSxpPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzLmxvYWRFcnJvcn0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSksbz1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVycm9ycy5mYWlsZWRJbnN0cnVtZW50fSksKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVycm9ycy5kZWxldGVFcnJvcn0pLChmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtpZighbnx8dD09PW4pcmV0dXJuIGV9fSkpLGE9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGF0dXNlcy5pc0xvYWRpbmd9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuISF0fX0pKSxzPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RhdHVzZXMuZGVsZXRpbmdJbnN0cnVtZW50fSksKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXR1c2VzLmlzRGVsZXRpbmd9KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuKCFufHx0PT09bikmJiEhZX19KSk7cmV0dXJuIE9iamVjdCgkZS5tZW1vaXplT25lKSgoZnVuY3Rpb24oYyl7cmV0dXJuIHZvaWQgMD09PWMmJihjPW9lKSx7Z2V0Q2FyZEluc3RydW1lbnQ6ZShjKSxnZXRJbnN0cnVtZW50czpuKGMpLGdldEluc3RydW1lbnRzQnlQYXltZW50TWV0aG9kOnQoYyksZ2V0SW5zdHJ1bWVudHNNZXRhOnIoYyksZ2V0TG9hZEVycm9yOmkoYyksZ2V0RGVsZXRlRXJyb3I6byhjKSxpc0xvYWRpbmc6YShjKSxpc0RlbGV0aW5nOnMoYyl9fSkpfSgpLFg9b24oKSwkPWZ1bmN0aW9uKCl7dmFyIHQ9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kYXRhfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0pKSxlPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQubWV0YX0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSksbj1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRhdGF9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7cmV0dXJuIG4/T2JqZWN0KGMuZmluZCkodCx7aWQ6ZSxnYXRld2F5Om59KTpPYmplY3QoYy5maW5kKSh0LHtpZDplfSl9fSkpLHI9T2JqZWN0KGVuLmEpKG4sKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3JldHVybiBubih0KGUsbiksKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0bi5iKHRuLmEuTWlzc2luZ1BheW1lbnRNZXRob2QpfSkpfX0pKSxpPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzLmxvYWRFcnJvcn0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSksbz1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVycm9ycy5sb2FkTWV0aG9kSWR9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzLmxvYWRNZXRob2RFcnJvcn0pLChmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtpZighbnx8dD09PW4pcmV0dXJuIGV9fSkpLGE9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGF0dXNlcy5pc0xvYWRpbmd9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuISF0fX0pKSxzPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RhdHVzZXMubG9hZE1ldGhvZElkfSksKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXR1c2VzLmlzTG9hZGluZ01ldGhvZH0pLChmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4oIW58fHQ9PT1uKSYmISFlfX0pKTtyZXR1cm4gT2JqZWN0KCRlLm1lbW9pemVPbmUpKChmdW5jdGlvbihjKXtyZXR1cm4gdm9pZCAwPT09YyYmKGM9SHQpLHtnZXRQYXltZW50TWV0aG9kczp0KGMpLGdldFBheW1lbnRNZXRob2RzTWV0YTplKGMpLGdldFBheW1lbnRNZXRob2Q6bihjKSxnZXRQYXltZW50TWV0aG9kT3JUaHJvdzpyKGMpLGdldExvYWRFcnJvcjppKGMpLGdldExvYWRNZXRob2RFcnJvcjpvKGMpLGlzTG9hZGluZzphKGMpLGlzTG9hZGluZ01ldGhvZDpzKGMpfX0pKX0oKSx0dD1mdW5jdGlvbigpe3ZhciB0PU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzLmluaXRpYWxpemVNZXRob2RJZH0pLChmdW5jdGlvbih0KXtyZXR1cm4gdC5lcnJvcnMuaW5pdGlhbGl6ZUVycm9yfSksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe2lmKCFufHx0PT09bilyZXR1cm4gZX19KSksZT1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVycm9ycy5leGVjdXRlTWV0aG9kSWR9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzLmV4ZWN1dGVFcnJvcn0pLChmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtpZighbnx8dD09PW4pcmV0dXJuIGV9fSkpLG49T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5lcnJvcnMuZmluYWxpemVNZXRob2RJZH0pLChmdW5jdGlvbih0KXtyZXR1cm4gdC5lcnJvcnMuZmluYWxpemVFcnJvcn0pLChmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtpZighbnx8dD09PW4pcmV0dXJuIGV9fSkpLHI9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5lcnJvcnMud2lkZ2V0SW50ZXJhY3Rpb25NZXRob2RJZH0pLChmdW5jdGlvbih0KXtyZXR1cm4gdC5lcnJvcnMud2lkZ2V0SW50ZXJhY3Rpb25FcnJvcn0pLChmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtpZighbnx8dD09PW4pcmV0dXJuIGV9fSkpLGk9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGF0dXNlcy5pbml0aWFsaXplTWV0aG9kSWR9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RhdHVzZXMuaXNJbml0aWFsaXppbmd9KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuKCFufHx0PT09bikmJiEhZX19KSksbz1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRhdGF9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiEoIXRbZV18fCF0W2VdLmlzSW5pdGlhbGl6ZWQpfX0pKSxhPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RhdHVzZXMuZXhlY3V0ZU1ldGhvZElkfSksKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXR1c2VzLmlzRXhlY3V0aW5nfSksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybighbnx8dD09PW4pJiYhIWV9fSkpLHM9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGF0dXNlcy5maW5hbGl6ZU1ldGhvZElkfSksKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXR1c2VzLmlzRmluYWxpemluZ30pLChmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4oIW58fHQ9PT1uKSYmISFlfX0pKSxjPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RhdHVzZXMud2lkZ2V0SW50ZXJhY3Rpb25NZXRob2RJZH0pLChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGF0dXNlcy5pc1dpZGdldEludGVyYWN0aW5nfSksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybighbnx8dD09PW4pJiYhIWV9fSkpO3JldHVybiBPYmplY3QoJGUubWVtb2l6ZU9uZSkoKGZ1bmN0aW9uKHUpe3JldHVybiB2b2lkIDA9PT11JiYodT0kdCkse2dldEluaXRpYWxpemVFcnJvcjp0KHUpLGdldEV4ZWN1dGVFcnJvcjplKHUpLGdldEZpbmFsaXplRXJyb3I6bih1KSxnZXRXaWRnZXRJbnRlcmFjdGluZ0Vycm9yOnIodSksaXNJbml0aWFsaXppbmc6aSh1KSxpc0luaXRpYWxpemVkOm8odSksaXNFeGVjdXRpbmc6YSh1KSxpc0ZpbmFsaXppbmc6cyh1KSxpc1dpZGdldEludGVyYWN0aW5nOmModSl9fSkpfSgpLGV0PSh3PU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGF0YX0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19fSkpLE9iamVjdCgkZS5tZW1vaXplT25lKSgoZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PWhlKSx7Z2V0Q2hlY2tvdXQ6dyh0KX19KSkpLHJ0PShBPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGF0YX0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtpZih0JiZ0WzBdKXJldHVybiB0WzBdLnNoaXBwaW5nQWRkcmVzc319KSksT2JqZWN0KCRlLm1lbW9pemVPbmUpKChmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9ZmUpLHtnZXRTaGlwcGluZ0FkZHJlc3M6QSh0KX19KSkpLGl0PWZ1bmN0aW9uKCl7dmFyIHQ9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kYXRhfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0pKSxlPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzLmxvYWRFcnJvcn0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSksbj1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXR1c2VzLmlzTG9hZGluZ30pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4hIXR9fSkpO3JldHVybiBPYmplY3QoJGUubWVtb2l6ZU9uZSkoKGZ1bmN0aW9uKHIpe3JldHVybiB2b2lkIDA9PT1yJiYocj1DZSkse2dldFNoaXBwaW5nQ291bnRyaWVzOnQociksZ2V0TG9hZEVycm9yOmUociksaXNMb2FkaW5nOm4ocil9fSkpfSgpLG90PWZ1bmN0aW9uKCl7dmFyIHQ9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5lcnJvcnMudXBkYXRlQWRkcmVzc01ldGhvZElkfSksKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVycm9ycy51cGRhdGVBZGRyZXNzRXJyb3J9KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7aWYoIW58fHQ9PT1uKXJldHVybiBlfX0pKSxlPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzLnNlbGVjdE9wdGlvbk1ldGhvZElkfSksKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVycm9ycy5zZWxlY3RPcHRpb25FcnJvcn0pLChmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtpZighbnx8dD09PW4pcmV0dXJuIGV9fSkpLG49T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5lcnJvcnMuaW5pdGlhbGl6ZU1ldGhvZElkfSksKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVycm9ycy5pbml0aWFsaXplRXJyb3J9KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7aWYoIW58fHQ9PT1uKXJldHVybiBlfX0pKSxyPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzLndpZGdldEludGVyYWN0aW9uTWV0aG9kSWR9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzLndpZGdldEludGVyYWN0aW9uRXJyb3J9KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7aWYoIW58fHQ9PT1uKXJldHVybiBlfX0pKSxpPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RhdHVzZXMudXBkYXRlQWRkcmVzc01ldGhvZElkfSksKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXR1c2VzLmlzVXBkYXRpbmdBZGRyZXNzfSksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybighbnx8dD09PW4pJiYhIWV9fSkpLG89T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGF0dXNlcy5zZWxlY3RPcHRpb25NZXRob2RJZH0pLChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGF0dXNlcy5pc1NlbGVjdGluZ09wdGlvbn0pLChmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4oIW58fHQ9PT1uKSYmISFlfX0pKSxhPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RhdHVzZXMuaW5pdGlhbGl6ZU1ldGhvZElkfSksKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXR1c2VzLmlzSW5pdGlhbGl6aW5nfSksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybighbnx8dD09PW4pJiYhIWV9fSkpLHM9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kYXRhfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4hKCF0W2VdfHwhdFtlXS5pc0luaXRpYWxpemVkKX19KSksYz1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXR1c2VzLndpZGdldEludGVyYWN0aW9uTWV0aG9kSWR9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RhdHVzZXMuaXNXaWRnZXRJbnRlcmFjdGluZ30pLChmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4oIW58fHQ9PT1uKSYmISFlfX0pKTtyZXR1cm4gT2JqZWN0KCRlLm1lbW9pemVPbmUpKChmdW5jdGlvbih1KXtyZXR1cm4gdm9pZCAwPT09dSYmKHU9RWUpLHtnZXRVcGRhdGVBZGRyZXNzRXJyb3I6dCh1KSxnZXRTZWxlY3RPcHRpb25FcnJvcjplKHUpLGdldEluaXRpYWxpemVFcnJvcjpuKHUpLGdldFdpZGdldEludGVyYWN0aW9uRXJyb3I6cih1KSxpc1VwZGF0aW5nQWRkcmVzczppKHUpLGlzU2VsZWN0aW5nT3B0aW9uOm8odSksaXNJbml0aWFsaXppbmc6YSh1KSxpc0luaXRpYWxpemVkOnModSksaXNXaWRnZXRJbnRlcmFjdGluZzpjKHUpfX0pKX0oKSxhdD1kbigpLGN0PWZ1bmN0aW9uKCl7dmFyIHQ9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kYXRhfSksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUuYmlsbGluZ0FkZHJlc3MuZ2V0QmlsbGluZ0FkZHJlc3N9KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5jYXJ0LmdldENhcnR9KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5jdXN0b21lci5nZXRDdXN0b21lcn0pLChmdW5jdGlvbih0LGUpe3JldHVybiBlLmNvbnNpZ25tZW50cy5nZXRDb25zaWdubWVudHN9KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5jb3Vwb25zLmdldENvdXBvbnN9KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5naWZ0Q2VydGlmaWNhdGVzLmdldEdpZnRDZXJ0aWZpY2F0ZXN9KSwoZnVuY3Rpb24odCxlLG4saSxvLGEscyl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGM9ZSgpLHU9bigpLGQ9aSgpLHA9bygpfHxbXSxoPWEoKXx8W10sbD1zKCl8fFtdO2lmKHQmJnUmJmQpcmV0dXJuIE9iamVjdChyLl9fYXNzaWduKShPYmplY3Qoci5fX2Fzc2lnbikoe30sdCkse2JpbGxpbmdBZGRyZXNzOmMsY2FydDp1LGN1c3RvbWVyOmQsY29uc2lnbm1lbnRzOnAsY291cG9uczpoLGdpZnRDZXJ0aWZpY2F0ZXM6bH0pfX0pKSxlPU9iamVjdChlbi5hKSh0LChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbm4odCgpLChmdW5jdGlvbigpe3JldHVybiBuZXcgdG4uYih0bi5hLk1pc3NpbmdDaGVja291dCl9KSl9fSkpLG49T2JqZWN0KGVuLmEpKHQsKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj10KCk7aWYobil7dmFyIHI9bi5ncmFuZFRvdGFsfHwwLGk9bi5jdXN0b21lci5zdG9yZUNyZWRpdHx8MDtyZXR1cm4gZT9NYXRoLm1heChyLWksMCk6bi5vdXRzdGFuZGluZ0JhbGFuY2V9fX0pKSxpPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzLmxvYWRFcnJvcn0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSksbz1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVycm9ycy51cGRhdGVFcnJvcn0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSksYT1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXR1c2VzLmlzRXhlY3V0aW5nU3BhbUNoZWNrfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiEwPT09dH19KSkscz1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXR1c2VzLmlzTG9hZGluZ30pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4hMD09PXR9fSkpLGM9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGF0dXNlcy5pc1VwZGF0aW5nfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiEwPT09dH19KSk7cmV0dXJuIE9iamVjdCgkZS5tZW1vaXplT25lKSgoZnVuY3Rpb24ocix1LGQscCxoLGwsbSl7cmV0dXJuIHZvaWQgMD09PXImJihyPUtlKSx7Z2V0Q2hlY2tvdXQ6dChyLHtiaWxsaW5nQWRkcmVzczp1LGNhcnQ6ZCxjb25zaWdubWVudHM6cCxjb3Vwb25zOmgsY3VzdG9tZXI6bCxnaWZ0Q2VydGlmaWNhdGVzOm19KSxnZXRDaGVja291dE9yVGhyb3c6ZShyLHtiaWxsaW5nQWRkcmVzczp1LGNhcnQ6ZCxjb25zaWdubWVudHM6cCxjb3Vwb25zOmgsY3VzdG9tZXI6bCxnaWZ0Q2VydGlmaWNhdGVzOm19KSxnZXRPdXRzdGFuZGluZ0JhbGFuY2U6bihyLHtiaWxsaW5nQWRkcmVzczp1LGNhcnQ6ZCxjb25zaWdubWVudHM6cCxjb3Vwb25zOmgsY3VzdG9tZXI6bCxnaWZ0Q2VydGlmaWNhdGVzOm19KSxnZXRMb2FkRXJyb3I6aShyKSxnZXRVcGRhdGVFcnJvcjpvKHIpLGlzRXhlY3V0aW5nU3BhbUNoZWNrOmEociksaXNMb2FkaW5nOnMociksaXNVcGRhdGluZzpjKHIpfX0pKX0oKSx1dD1mdW5jdGlvbigpe3ZhciB0PU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGF0YX0pLChmdW5jdGlvbih0LGUpe3JldHVybiBlLmJpbGxpbmdBZGRyZXNzLmdldEJpbGxpbmdBZGRyZXNzKCl9KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5jb3Vwb25zLmdldENvdXBvbnMoKX0pLChmdW5jdGlvbih0LGUsbil7cmV0dXJuIHZvaWQgMD09PW4mJihuPVtdKSxmdW5jdGlvbigpe2lmKHQmJmUpcmV0dXJuIE9iamVjdChyLl9fYXNzaWduKShPYmplY3Qoci5fX2Fzc2lnbikoe30sdCkse2JpbGxpbmdBZGRyZXNzOmUsY291cG9uczpufSl9fSkpLGU9T2JqZWN0KGVuLmEpKHQsKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBubih0KCksKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0bi5iKHRuLmEuTWlzc2luZ09yZGVyKX0pKX19KSksbj1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm1ldGF9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSkpLGk9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5lcnJvcnMubG9hZEVycm9yfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0pKSxvPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuISF0LnN0YXR1c2VzLmlzTG9hZGluZ30pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSk7cmV0dXJuIE9iamVjdCgkZS5tZW1vaXplT25lKSgoZnVuY3Rpb24ocixhLHMpe3JldHVybiB2b2lkIDA9PT1yJiYocj1MdCkse2dldE9yZGVyOnQocix7YmlsbGluZ0FkZHJlc3M6YSxjb3Vwb25zOnN9KSxnZXRPcmRlck9yVGhyb3c6ZShyLHtiaWxsaW5nQWRkcmVzczphLGNvdXBvbnM6c30pLGdldE9yZGVyTWV0YTpuKHIpLGdldExvYWRFcnJvcjppKHIpLGlzTG9hZGluZzpvKHIpfX0pKX0oKSxkdD0oRT1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm9yZGVyLmdldE9yZGVyTWV0YX0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT10KCk7cmV0dXJuIGUmJmUucGF5bWVudH19KSksUD1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm9yZGVyLmdldE9yZGVyfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3ZhciBlPXQoKTtyZXR1cm4gT2JqZWN0KGMuZmluZCkoZSYmZS5wYXltZW50cywoZnVuY3Rpb24odCl7dmFyIGU9dC5wcm92aWRlcklkO3JldHVyblwiZ2lmdGNlcnRpZmljYXRlXCIhPT1lJiZcInN0b3JlY3JlZGl0XCIhPT1lfSkpfX0pKSxqPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuY2hlY2tvdXQuZ2V0Q2hlY2tvdXR9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9dCgpO3JldHVybiBPYmplY3QoYy5maW5kKShlJiZlLnBheW1lbnRzLChmdW5jdGlvbih0KXtyZXR1cm4gdC5wcm92aWRlclR5cGU9PT1hbi5hfSkpfX0pKSxrPU9iamVjdChlbi5hKShFLGosUCwoZnVuY3Rpb24odCxlLG4pe3JldHVybiBmdW5jdGlvbigpe3ZhciByPXQoKTtpZihyJiZyLmlkKXJldHVybntwcm92aWRlcklkOnIuaWQsZ2F0ZXdheUlkOnIuZ2F0ZXdheX07dmFyIGk9ZSgpfHxuKCk7cmV0dXJuIGkmJmkucHJvdmlkZXJJZD97cHJvdmlkZXJJZDppLnByb3ZpZGVySWQsZ2F0ZXdheUlkOmkuZ2F0ZXdheUlkfTp2b2lkIDB9fSkpLE09T2JqZWN0KGVuLmEpKEUsaixQLChmdW5jdGlvbih0LGUsbil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHI9dCgpO2lmKHImJnIuc3RhdHVzKXJldHVybiByLnN0YXR1cy5yZXBsYWNlKFwiUEFZTUVOVF9TVEFUVVNfXCIsXCJcIik7dmFyIGk9ZSgpfHxuKCk7cmV0dXJuIGk/aS5kZXRhaWwuc3RlcDp2b2lkIDB9fSkpLFQ9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5vcmRlci5nZXRPcmRlck1ldGF9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9dCgpO3JldHVybiBlJiZlLnRva2VufX0pKSxSPU9iamVjdChlbi5hKShFLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT10KCk7cmV0dXJuIGUmJmUucmVkaXJlY3RVcmx9fSkpLEQ9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jaGVja291dC5nZXRPdXRzdGFuZGluZ0JhbGFuY2V9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihlPSExKTt2YXIgbj10KGUpO3JldHVybiEhbiYmbj4wfX0pKSx6PU9iamVjdChlbi5hKShNLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuISghZXx8IWUubm9uY2UpfHx0KCk9PT1zbi5hfHx0KCk9PT1zbi5ifX0pKSxPYmplY3QoJGUubWVtb2l6ZU9uZSkoKGZ1bmN0aW9uKHQsZSl7cmV0dXJue2dldFBheW1lbnRJZDprKHtjaGVja291dDp0LG9yZGVyOmV9KSxnZXRQYXltZW50U3RhdHVzOk0oe2NoZWNrb3V0OnQsb3JkZXI6ZX0pLGdldFBheW1lbnRUb2tlbjpUKHtjaGVja291dDp0LG9yZGVyOmV9KSxnZXRQYXltZW50UmVkaXJlY3RVcmw6Uih7Y2hlY2tvdXQ6dCxvcmRlcjplfSksaXNQYXltZW50RGF0YVJlcXVpcmVkOkQoe2NoZWNrb3V0OnQsb3JkZXI6ZX0pLGlzUGF5bWVudERhdGFTdWJtaXR0ZWQ6eih7Y2hlY2tvdXQ6dCxvcmRlcjplfSl9fSkpKSxwdD1mdW5jdGlvbigpe3ZhciB0PU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzLmFwcGx5RXJyb3J9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSkpLGU9T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4hIXQuc3RhdHVzZXMuaXNBcHBseWluZ30pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSk7cmV0dXJuIE9iamVjdCgkZS5tZW1vaXplT25lKSgoZnVuY3Rpb24obil7cmV0dXJuIHZvaWQgMD09PW4mJihuPXBuKSx7Z2V0QXBwbHlFcnJvcjp0KG4pLGlzQXBwbHlpbmc6ZShuKX19KSl9KCksaHQ9ZnVuY3Rpb24oKXt2YXIgdD1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVycm9ycy51cGRhdGVFcnJvcn0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSksZT1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiEhdC5zdGF0dXNlcy5pc1VwZGF0aW5nfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0pKTtyZXR1cm4gT2JqZWN0KCRlLm1lbW9pemVPbmUpKChmdW5jdGlvbihuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49R2UpLHtnZXRVcGRhdGVFcnJvcjp0KG4pLGlzVXBkYXRpbmc6ZShuKX19KSl9KCksbXQ9KE49T2JqZWN0KGVuLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kYXRhfSksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0pKSxGPU9iamVjdChlbi5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3JzLnNlbmRFcnJvcn0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSkscT1PYmplY3QoZW4uYSkoKGZ1bmN0aW9uKHQpe3JldHVybiEhdC5zdGF0dXNlcy5pc1NlbmRpbmd9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSkpLE9iamVjdCgkZS5tZW1vaXplT25lKSgoZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PVJlKSx7Z2V0RW1haWw6Tih0KSxnZXRTZW5kRXJyb3I6Rih0KSxpc1NlbmRpbmc6cSh0KX19KSkpO3JldHVybiBmdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPXt9KTt2YXIgbixyPVUodC5iaWxsaW5nQWRkcmVzcyksaT14KHQuY2FydCksbz1HKHQuY2hlY2tvdXRCdXR0b24pLGE9WSh0LmNvdW50cmllcykscz1IKHQuY291cG9ucyksYz1XKHQuY3VzdG9tZXIpLHU9Syh0LmN1c3RvbWVyU3RyYXRlZ2llcyksZD1YKHQuZm9ybUZpZWxkcykscD1KKHQuZ2lmdENlcnRpZmljYXRlcyksaD1aKHQuaW5zdHJ1bWVudHMpLGw9JCh0LnBheW1lbnRNZXRob2RzKSxtPXR0KHQucGF5bWVudFN0cmF0ZWdpZXMpLGY9ZXQodC5yZW1vdGVDaGVja291dCksXz1ydCh0LmNvbnNpZ25tZW50cykseT1pdCh0LnNoaXBwaW5nQ291bnRyaWVzKSxnPW90KHQuc2hpcHBpbmdTdHJhdGVnaWVzKSxiPWh0KHQuc3Vic2NyaXB0aW9ucyksdj1wdCh0LnN0b3JlQ3JlZGl0KSxDPW10KHQuc2lnbkluRW1haWwpLE89YXQodC5jb25zaWdubWVudHMsaSksUz1jdCh0LmNoZWNrb3V0LHIsaSxPLHMsYyxwKSx3PXV0KHQub3JkZXIscixzKSxJPWR0KFMsdyksQT17YmlsbGluZ0FkZHJlc3M6cixjYXJ0OmksY2hlY2tvdXQ6UyxjaGVja291dEJ1dHRvbjpvLGNvbmZpZzpWKHQuY29uZmlnLHQuZm9ybUZpZWxkcyksY29uc2lnbm1lbnRzOk8sY291bnRyaWVzOmEsY291cG9uczpzLGN1c3RvbWVyOmMsY3VzdG9tZXJTdHJhdGVnaWVzOnUsZm9ybTpkLGdpZnRDZXJ0aWZpY2F0ZXM6cCxpbnN0cnVtZW50czpoLG9yZGVyOncscGF5bWVudDpJLHBheW1lbnRNZXRob2RzOmwscGF5bWVudFN0cmF0ZWdpZXM6bSxyZW1vdGVDaGVja291dDpmLHNoaXBwaW5nQWRkcmVzczpfLHNoaXBwaW5nQ291bnRyaWVzOnksc2hpcHBpbmdTdHJhdGVnaWVzOmcsc2lnbkluRW1haWw6QyxzdWJzY3JpcHRpb25zOmIsc3RvcmVDcmVkaXQ6dn07cmV0dXJuIGUuc2hvdWxkV2Fybk11dGF0aW9uPyhuPUEsT2JqZWN0LmtleXMobikucmVkdWNlKChmdW5jdGlvbih0LGUpe3JldHVybiB0W2VdPXJuKG5bZV0pLHR9KSx7fSkpOkF9fWZ1bmN0aW9uIGxuKHQsZSl7dm9pZCAwPT09dCYmKHQ9e30pO3ZhciBuLGEsYz0oYT1uZXcgaCxbXCJjYXRhbG9nX29ubHlcIixcImVtcHR5X2NhcnRcIixcImludmFsaWRfb3JkZXJfaWRcIixcImludmFsaWRfb3JkZXJfdG9rZW5cIixcIm1pc3Npbmdfb3JkZXJfdG9rZW5cIixcIm1pc3NpbmdfcHJvdmlkZXJfdG9rZW5cIixcIm1pc3Npbmdfc2hpcHBpbmdfbWV0aG9kXCIsXCJvcmRlcl9jb21wbGV0aW9uX2Vycm9yXCIsXCJvcmRlcl9jb3VsZF9ub3RfYmVfZmluYWxpemVkX2Vycm9yXCIsXCJvcmRlcl9jcmVhdGVfZmFpbGVkXCIsXCJwcm92aWRlcl9mYXRhbF9lcnJvclwiLFwicHJvdmlkZXJfc2V0dXBfZXJyb3JcIixcInN0b2NrX3Rvb19sb3dcIl0uZm9yRWFjaCgoZnVuY3Rpb24odCl7YS5yZWdpc3Rlcih0LChmdW5jdGlvbih0LGUpe3JldHVybiBuZXcgcyh0LGUpfSkpfSkpLGEucmVnaXN0ZXIoXCJpbnZhbGlkX3BheW1lbnRfcHJvdmlkZXJcIiwoZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBvLmEodCl9KSksYS5yZWdpc3RlcihcInBheW1lbnRfY29uZmlnX25vdF9mb3VuZFwiLChmdW5jdGlvbih0KXtyZXR1cm4gbmV3IG8uYSh0KX0pKSxuPWEsZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChsLmZyb20pKHQpLnBpcGUoT2JqZWN0KG0uY2F0Y2hFcnJvcikoKGZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBFcnJvcnx8dC5wYXlsb2FkIGluc3RhbmNlb2YgRXJyb3IpdGhyb3cgdDtpZigoaT10LnBheWxvYWQpJiZcIm9iamVjdFwiPT10eXBlb2YgaSYmW1wiYm9keVwiLFwiaGVhZGVyc1wiLFwic3RhdHVzXCIsXCJzdGF0dXNUZXh0XCJdLmV2ZXJ5KChmdW5jdGlvbih0KXtyZXR1cm4gaS5oYXNPd25Qcm9wZXJ0eSh0KX0pKSl7dmFyIGU9dC5wYXlsb2FkLmJvZHkmJnQucGF5bG9hZC5ib2R5LmRldGFpbDt0aHJvdyBPYmplY3Qoci5fX2Fzc2lnbikoT2JqZWN0KHIuX19hc3NpZ24pKHt9LHQpLHtwYXlsb2FkOm4uY3JlYXRlRXJyb3IodC5wYXlsb2FkLGUpfSl9dmFyIGk7dGhyb3cgdH0pKSl9KSx1PWhuKCk7cmV0dXJuIE9iamVjdChpLmNyZWF0ZURhdGFTdG9yZSkoT2JqZWN0KGkuY29tYmluZVJlZHVjZXJzKSh7YmlsbGluZ0FkZHJlc3M6QSxjYXJ0Ok4sY2hlY2tvdXQ6SmUsY2hlY2tvdXRCdXR0b246SCxjb25maWc6WCxjb25zaWdubWVudHM6X2UsY291bnRyaWVzOlR0LGNvdXBvbnM6cnQsY3VzdG9tZXI6bXQsY3VzdG9tZXJTdHJhdGVnaWVzOnZ0LGZvcm1GaWVsZHM6QXQsZ2lmdENlcnRpZmljYXRlczpjdCxpbnN0cnVtZW50czphZSxvcmRlcjpOdCxwYXltZW50Okd0LHBheW1lbnRNZXRob2RzOld0LHBheW1lbnRTdHJhdGVnaWVzOnRlLHJlbW90ZUNoZWNrb3V0OmxlLHNoaXBwaW5nQ291bnRyaWVzOk9lLHNoaXBwaW5nU3RyYXRlZ2llczpQZSxzaWduSW5FbWFpbDpEZSxzdWJzY3JpcHRpb25zOlZlLHN0b3JlQ3JlZGl0OlVlfSksdCxPYmplY3Qoci5fX2Fzc2lnbikoe2FjdGlvblRyYW5zZm9ybWVyOmMsc3RhdGVUcmFuc2Zvcm1lcjpmdW5jdGlvbih0KXtyZXR1cm4gdSh0KX19LGUpKX1uLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbG59KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDM5KSxpPW4oMTEyKSxvPW4oODkpLGE9bigwKSxzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMsZSx7bWVzc2FnZTplLmJvZHkudGl0bGV9KXx8dGhpcztyZXR1cm4gbi5uYW1lPVwiQ2hlY2tvdXROb3RBdmFpbGFibGVFcnJvclwiLG4udHlwZT1cImNoZWNrb3V0X25vdF9hdmFpbGFibGVcIixufXJldHVybiBPYmplY3QoYS5fX2V4dGVuZHMpKGUsdCksZX0obigzNSkuYSksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fcmVxdWVzdFNlbmRlcj10fXJldHVybiB0LnByb3RvdHlwZS5sb2FkQ2hlY2tvdXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj12b2lkIDA9PT1lP3t9OmUsYT1uLnBhcmFtcyxjPSh2b2lkIDA9PT1hP3t9OmEpLmluY2x1ZGUsdT1uLnRpbWVvdXQsZD1cIi9hcGkvc3RvcmVmcm9udC9jaGVja291dC9cIit0LHA9e0FjY2VwdDpyLmEuSnNvblYxfTtyZXR1cm4gdGhpcy5fcmVxdWVzdFNlbmRlci5nZXQoZCx7cGFyYW1zOntpbmNsdWRlOk9iamVjdChpLmEpKG8uYSxjKX0saGVhZGVyczpwLHRpbWVvdXQ6dX0pLmNhdGNoKChmdW5jdGlvbih0KXtpZih0LnN0YXR1cz49NDAwJiZ0LnN0YXR1czw1MDApdGhyb3cgbmV3IHModCk7dGhyb3cgdH0pKX0sdC5wcm90b3R5cGUudXBkYXRlQ2hlY2tvdXQ9ZnVuY3Rpb24odCxlLG4pe3ZhciBhPXZvaWQgMD09PW4/e306bixzPWEucGFyYW1zLGM9KHZvaWQgMD09PXM/e306cykuaW5jbHVkZSx1PWEudGltZW91dCxkPVwiL2FwaS9zdG9yZWZyb250L2NoZWNrb3V0L1wiK3QscD17QWNjZXB0OnIuYS5Kc29uVjF9O3JldHVybiB0aGlzLl9yZXF1ZXN0U2VuZGVyLnB1dChkLHtwYXJhbXM6e2luY2x1ZGU6T2JqZWN0KGkuYSkoby5hLGMpfSxib2R5OmUsaGVhZGVyczpwLHRpbWVvdXQ6dX0pfSx0fSgpO2UuYT1jfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksZnVuY3Rpb24odCl7dC5BdmFpbGFibGVTaGlwcGluZ09wdGlvbnM9XCJjb25zaWdubWVudHMuYXZhaWxhYmxlU2hpcHBpbmdPcHRpb25zXCIsdC5QaHlzaWNhbEl0ZW1zQ2F0ZWdvcnlOYW1lcz1cImNhcnQubGluZUl0ZW1zLnBoeXNpY2FsSXRlbXMuY2F0ZWdvcnlOYW1lc1wiLHQuRGlnaXRhbEl0ZW1zQ2F0ZWdvcnlOYW1lcz1cImNhcnQubGluZUl0ZW1zLmRpZ2l0YWxJdGVtcy5jYXRlZ29yeU5hbWVzXCJ9KHJ8fChyPXt9KSl9LCwsLCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm57Y29kZTp0LmNvZGUsZGlzY291bnRlZEFtb3VudDp0LnVzZWQscmVtYWluaW5nQmFsYW5jZTp0LnJlbWFpbmluZyxnaWZ0Q2VydGlmaWNhdGU6e2JhbGFuY2U6dC5iYWxhbmNlLGNvZGU6dC5jb2RlLHB1cmNoYXNlRGF0ZTp0LnB1cmNoYXNlRGF0ZX19fW4uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiByfSkpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigzKSxpPW4oOCksbz1uKDgwKSxhPW4oNTYpLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fdGFyZ2V0V2luZG93PWUsdGhpcy5fdGFyZ2V0T3JpZ2luPVwiKlwiPT09dD9cIipcIjpPYmplY3Qoby5hKSh0KS5vcmlnaW59cmV0dXJuIHQucHJvdG90eXBlLnBvc3Q9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO2lmKHdpbmRvdyE9PXRoaXMuX3RhcmdldFdpbmRvdyl7aWYoIXRoaXMuX3RhcmdldFdpbmRvdyl0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gcG9zdCBtZXNzYWdlIGJlY2F1c2UgdGFyZ2V0IHdpbmRvdyBpcyBub3Qgc2V0LlwiKTt2YXIgbz1lJiZPYmplY3Qoci5mcm9tRXZlbnQpKHdpbmRvdyxcIm1lc3NhZ2VcIikucGlwZShPYmplY3QoaS5maWx0ZXIpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5vcmlnaW49PT1uLl90YXJnZXRPcmlnaW4mJk9iamVjdChhLmEpKHQuZGF0YSx0LmRhdGEudHlwZSkmJi0xIT09W2Uuc3VjY2Vzc1R5cGUsZS5lcnJvclR5cGVdLmluZGV4T2YodC5kYXRhLnR5cGUpfSkpLE9iamVjdChpLm1hcCkoKGZ1bmN0aW9uKHQpe2lmKGUuZXJyb3JUeXBlPT09dC5kYXRhLnR5cGUpdGhyb3cgdC5kYXRhO3JldHVybiB0LmRhdGF9KSksT2JqZWN0KGkudGFrZSkoMSkpLnRvUHJvbWlzZSgpO3JldHVybiB0aGlzLl90YXJnZXRXaW5kb3cucG9zdE1lc3NhZ2UodCx0aGlzLl90YXJnZXRPcmlnaW4pLG99fSx0LnByb3RvdHlwZS5zZXRUYXJnZXQ9ZnVuY3Rpb24odCl7dGhpcy5fdGFyZ2V0V2luZG93PXR9LHR9KCk7ZS5hPXN9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDApLGk9big4MCksbz1uKDk3KSxhPW4oNTYpLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3NvdXJjZU9yaWdpbj1PYmplY3QoaS5hKSh0KS5vcmlnaW4sdGhpcy5faXNMaXN0ZW5pbmc9ITEsdGhpcy5fbGlzdGVuZXJzPXt9fXJldHVybiB0LnByb3RvdHlwZS5saXN0ZW49ZnVuY3Rpb24oKXt0aGlzLl9pc0xpc3RlbmluZ3x8KHRoaXMuX2lzTGlzdGVuaW5nPSEwLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHRoaXMuX2hhbmRsZU1lc3NhZ2UpKX0sdC5wcm90b3R5cGUuc3RvcExpc3Rlbj1mdW5jdGlvbigpe3RoaXMuX2lzTGlzdGVuaW5nJiYodGhpcy5faXNMaXN0ZW5pbmc9ITEsd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsdGhpcy5faGFuZGxlTWVzc2FnZSkpfSx0LnByb3RvdHlwZS5hZGRMaXN0ZW5lcj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2xpc3RlbmVyc1t0XTtufHwodGhpcy5fbGlzdGVuZXJzW3RdPW49W10pLC0xPT09bi5pbmRleE9mKGUpJiZuLnB1c2goZSl9LHQucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fbGlzdGVuZXJzW3RdO2lmKG4pe3ZhciByPW4uaW5kZXhPZihlKTtyPj0wJiZuLnNwbGljZShyLDEpfX0sdC5wcm90b3R5cGUudHJpZ2dlcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9saXN0ZW5lcnNbdC50eXBlXTtlJiZlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlKHQpfSkpfSx0LnByb3RvdHlwZS5faGFuZGxlTWVzc2FnZT1mdW5jdGlvbih0KXt0Lm9yaWdpbj09PXRoaXMuX3NvdXJjZU9yaWdpbiYmT2JqZWN0KGEuYSkodC5kYXRhLHQuZGF0YS50eXBlKSYmdGhpcy50cmlnZ2VyKHQuZGF0YSl9LE9iamVjdChyLl9fZGVjb3JhdGUpKFtvLmFdLHQucHJvdG90eXBlLFwiX2hhbmRsZU1lc3NhZ2VcIixudWxsKSx0fSgpO2UuYT1zfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big1MSksaT1uLm4ociksbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fbmFtZXNwYWNlPXR9cmV0dXJuIHQucHJvdG90eXBlLmdldEl0ZW09ZnVuY3Rpb24odCl7dmFyIGU9aS5hLmdldEl0ZW0odGhpcy53aXRoTmFtZXNwYWNlKHQpKTtpZihudWxsPT09ZSlyZXR1cm4gbnVsbDt0cnl7cmV0dXJuIEpTT04ucGFyc2UoZSl9Y2F0Y2goZSl7cmV0dXJuIHRoaXMucmVtb3ZlSXRlbSh0aGlzLndpdGhOYW1lc3BhY2UodCkpLG51bGx9fSx0LnByb3RvdHlwZS5nZXRJdGVtT25jZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEl0ZW0odCk7cmV0dXJuIHRoaXMucmVtb3ZlSXRlbSh0KSxlfSx0LnByb3RvdHlwZS5zZXRJdGVtPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkuYS5zZXRJdGVtKHRoaXMud2l0aE5hbWVzcGFjZSh0KSxKU09OLnN0cmluZ2lmeShlKSl9LHQucHJvdG90eXBlLnJlbW92ZUl0ZW09ZnVuY3Rpb24odCl7cmV0dXJuIGkuYS5yZW1vdmVJdGVtKHRoaXMud2l0aE5hbWVzcGFjZSh0KSl9LHQucHJvdG90eXBlLndpdGhOYW1lc3BhY2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX25hbWVzcGFjZStcIi5cIit0fSx0fSgpO2UuYT1vfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big3MSksaT1uKDQ2KSxvPW4oMTM2KSxhPW4oODcpLHM9big4OCksYz1uKDApO3ZhciB1PW4oMiksZD1uKDUyKTt2YXIgcD1uKDk3KSxoPW4oNSksbD1uKDE1MCksbT1uKDcwKSxmPW4oMTM1KTtmdW5jdGlvbiBfKHQpe3ZhciBlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBPYmplY3QoYy5fX2V4dGVuZHMpKGUsdCksZX0odCk7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQucHJvdG90eXBlKS5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQucHJvdG90eXBlLG4pO3ImJlwiY29uc3RydWN0b3JcIiE9PW4mJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxuLGZ1bmN0aW9uKHQsZSxuKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBuLnZhbHVlKXJldHVybiBuO3ZhciByPW5ldyBsLmEsaT1uLnZhbHVlLG89T2JqZWN0KGgubWVtb2l6ZSkoaSk7cmV0dXJuIE9iamVjdChwLmEpKHQsZSx7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxhPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLG49MDtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWVbbl09YXJndW1lbnRzW25dO3ZhciBhPW8uY2FsbC5hcHBseShvLE9iamVjdChjLl9fc3ByZWFkQXJyYXlzKShbdF0sZSkpO2lmKDE9PT1yLmdldFVzZWRDb3VudC5hcHBseShyLGUpKXJldHVybiBhO3ZhciBzPWkuY2FsbC5hcHBseShpLE9iamVjdChjLl9fc3ByZWFkQXJyYXlzKShbdF0sZSkpO3JldHVybiBPYmplY3QobS5hKShzLGEse2tleUZpbHRlcjpmdW5jdGlvbih0KXtyZXR1cm4hT2JqZWN0KGYuYSkodCl9fSk/YTooby5jYWNoZS5zZXQoci5nZXRLZXkuYXBwbHkocixlKSxzKSxzKX07cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLGUsT2JqZWN0KGMuX19hc3NpZ24pKE9iamVjdChjLl9fYXNzaWduKSh7fSxuKSx7dmFsdWU6YX0pKSxhfSxzZXQ6ZnVuY3Rpb24odCl7cj1uZXcgbC5hLGk9dCxvPU9iamVjdChoLm1lbW9pemUpKGkpfX0pfSh0LnByb3RvdHlwZSxuLHIpKX0pKSxlfXZhciB5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9jaGVja291dEJ1dHRvbj10LmNoZWNrb3V0QnV0dG9ufXJldHVybiB0LnByb3RvdHlwZS5nZXRJbml0aWFsaXplQnV0dG9uRXJyb3I9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NoZWNrb3V0QnV0dG9uLmdldEluaXRpYWxpemVFcnJvcih0KX0sdC5wcm90b3R5cGUuZ2V0RGVpbml0aWFsaXplQnV0dG9uRXJyb3I9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NoZWNrb3V0QnV0dG9uLmdldERlaW5pdGlhbGl6ZUVycm9yKHQpfSx0PU9iamVjdChjLl9fZGVjb3JhdGUpKFtfXSx0KX0oKSxnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9jaGVja291dEJ1dHRvbj10LmNoZWNrb3V0QnV0dG9ufXJldHVybiB0LnByb3RvdHlwZS5pc0luaXRpYWxpemluZ0J1dHRvbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY2hlY2tvdXRCdXR0b24uaXNJbml0aWFsaXppbmcodCl9LHQucHJvdG90eXBlLmlzRGVpbml0aWFsaXppbmdCdXR0b249ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NoZWNrb3V0QnV0dG9uLmlzRGVpbml0aWFsaXppbmcodCl9LHQ9T2JqZWN0KGMuX19kZWNvcmF0ZSkoW19dLHQpfSgpO2Z1bmN0aW9uIGIodCl7cmV0dXJue2Vycm9yczpuZXcgeSh0KSxzdGF0dXNlczpuZXcgZyh0KX19dmFyIHYsQz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt2YXIgbj10aGlzO3RoaXMuX3N0b3JlPXQsdGhpcy5fYnV0dG9uU3RyYXRlZ3lBY3Rpb25DcmVhdG9yPWUsdGhpcy5fc3RhdGU9Yih0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpKSx0aGlzLl9zdG9yZS5zdWJzY3JpYmUoKGZ1bmN0aW9uKHQpe24uX3N0YXRlPWIodCl9KSl9cmV0dXJuIHQucHJvdG90eXBlLmdldFN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXRlfSx0LnByb3RvdHlwZS5zdWJzY3JpYmU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49dGhpcyxyPVtdLGk9MTtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXJbaS0xXT1hcmd1bWVudHNbaV07cmV0dXJuKGU9dGhpcy5fc3RvcmUpLnN1YnNjcmliZS5hcHBseShlLE9iamVjdChjLl9fc3ByZWFkQXJyYXlzKShbZnVuY3Rpb24oKXtyZXR1cm4gdChuLmdldFN0YXRlKCkpfSxmdW5jdGlvbih0KXtyZXR1cm4gdC5jaGVja291dEJ1dHRvbi5nZXRTdGF0ZSgpfV0sci5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdChiKGUpKX19KSkpKX0sdC5wcm90b3R5cGUuaW5pdGlhbGl6ZUJ1dHRvbj1mdW5jdGlvbih0KXt2YXIgZSxuPXRoaXMscj0oZT10LmNvbnRhaW5lcklkLC9eXFx3W1xcd1xcLVxcOlxcLl0qJC8udGVzdChlKT9bdC5jb250YWluZXJJZF06ZnVuY3Rpb24odCxlKXt2YXIgbj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHQpO2lmKCFuLmxlbmd0aCl0aHJvdyBuZXcgZC5hKFwiVW5hYmxlIHRvIGZpbmQgYW55IGVsZW1lbnQgd2l0aCB0aGUgc3BlY2lmaWVkIHNlbGVjdG9yOiBcIit0KTtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwobikubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pZHx8KHQuaWQ9T2JqZWN0KHUudW5pcXVlSWQpKGUpKSx0LmlkfSkpfSh0LmNvbnRhaW5lcklkLHQubWV0aG9kSWQrXCItY29udGFpbmVyXCIpKTtyZXR1cm4gUHJvbWlzZS5hbGwoci5tYXAoKGZ1bmN0aW9uKGUpe3ZhciByPW4uX2J1dHRvblN0cmF0ZWd5QWN0aW9uQ3JlYXRvci5pbml0aWFsaXplKE9iamVjdChjLl9fYXNzaWduKShPYmplY3QoYy5fX2Fzc2lnbikoe30sdCkse2NvbnRhaW5lcklkOmV9KSksaT1cImNoZWNrb3V0QnV0dG9uU3RyYXRlZ3k6XCIrdC5tZXRob2RJZCtcIjpcIitlO3JldHVybiBuLl9zdG9yZS5kaXNwYXRjaChyLHtxdWV1ZUlkOml9KX0pKSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gbi5nZXRTdGF0ZSgpfSkpfSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemVCdXR0b249ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRoaXMuX2J1dHRvblN0cmF0ZWd5QWN0aW9uQ3JlYXRvci5kZWluaXRpYWxpemUodCkscj1cImNoZWNrb3V0QnV0dG9uU3RyYXRlZ3k6XCIrdC5tZXRob2RJZDtyZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2gobix7cXVldWVJZDpyfSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gZS5nZXRTdGF0ZSgpfSkpfSx0PU9iamVjdChjLl9fZGVjb3JhdGUpKFtwLmFdLHQpfSgpLE89bigxKSxTPW4oMyksdz1uKDgpLEk9big5MCksQT1uKDIwKSxFPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuX3JlZ2lzdHJ5PXQsdGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3I9ZX1yZXR1cm4gdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbihuKXt2YXIgcj17bWV0aG9kSWQ6dC5tZXRob2RJZCxjb250YWluZXJJZDp0LmNvbnRhaW5lcklkfTtyZXR1cm4gbi5nZXRTdGF0ZSgpLmNoZWNrb3V0QnV0dG9uLmlzSW5pdGlhbGl6ZWQodC5tZXRob2RJZCx0LmNvbnRhaW5lcklkKT9PYmplY3QoUy5lbXB0eSkoKTpPYmplY3QoUy5jb25jYXQpKE9iamVjdChTLm9mKShPYmplY3QoTy5jcmVhdGVBY3Rpb24pKEEuYS5Jbml0aWFsaXplQnV0dG9uUmVxdWVzdGVkLHZvaWQgMCxyKSksZS5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3IubG9hZFBheW1lbnRNZXRob2QodC5tZXRob2RJZCx7dGltZW91dDp0LnRpbWVvdXQsdXNlQ2FjaGU6ITB9KSxPYmplY3QoUy5kZWZlcikoKGZ1bmN0aW9uKCl7cmV0dXJuIGUuX3JlZ2lzdHJ5LmdldCh0Lm1ldGhvZElkKS5pbml0aWFsaXplKHQpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChPLmNyZWF0ZUFjdGlvbikoQS5hLkluaXRpYWxpemVCdXR0b25TdWNjZWVkZWQsdm9pZCAwLHIpfSkpfSkpKS5waXBlKE9iamVjdCh3LmNhdGNoRXJyb3IpKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KEkuYSkoQS5hLkluaXRpYWxpemVCdXR0b25GYWlsZWQsdCxyKX0pKSl9fSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24obil7dmFyIHI9e21ldGhvZElkOnQubWV0aG9kSWR9O3JldHVybiBuLmdldFN0YXRlKCkuY2hlY2tvdXRCdXR0b24uaXNJbml0aWFsaXplZCh0Lm1ldGhvZElkKT9PYmplY3QoUy5jb25jYXQpKE9iamVjdChTLm9mKShPYmplY3QoTy5jcmVhdGVBY3Rpb24pKEEuYS5EZWluaXRpYWxpemVCdXR0b25SZXF1ZXN0ZWQsdm9pZCAwLHIpKSxPYmplY3QoUy5kZWZlcikoKGZ1bmN0aW9uKCl7cmV0dXJuIGUuX3JlZ2lzdHJ5LmdldCh0Lm1ldGhvZElkKS5kZWluaXRpYWxpemUoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBPYmplY3QoTy5jcmVhdGVBY3Rpb24pKEEuYS5EZWluaXRpYWxpemVCdXR0b25TdWNjZWVkZWQsdm9pZCAwLHIpfSkpfSkpKS5waXBlKE9iamVjdCh3LmNhdGNoRXJyb3IpKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KEkuYSkoQS5hLkRlaW5pdGlhbGl6ZUJ1dHRvbkZhaWxlZCx0LHIpfSkpKTpPYmplY3QoUy5lbXB0eSkoKX19LHR9KCksUD1uKDMxKSxqPW4oMTI5KSxrPW4oMTM3KSxNPW4oMTc5KSxUPW4oMTczKSxSPW4oMTc0KSxEPW4oMTc2KSx6PW4oMTc3KSxMPW4oMTk3KSxOPW4oMTA1KSxGPW4oMTA0KSxxPW4oMTk4KSxVPW4oMTgyKSx4PW4oMTg0KSxCPW4oMTg1KSxHPW4oMTg2KSxWPW4oMTg3KSxZPW4oMTgzKSxIPW4oMTkwKSxXPW4oMTk2KTshZnVuY3Rpb24odCl7dC5BTUFaT05fUEFZX1YyPVwiYW1hem9ucGF5XCIsdC5CUkFJTlRSRUVfUEFZUEFMPVwiYnJhaW50cmVlcGF5cGFsXCIsdC5CUkFJTlRSRUVfUEFZUEFMX0NSRURJVD1cImJyYWludHJlZXBheXBhbGNyZWRpdFwiLHQuR09PR0xFUEFZX0FEWUVOVjI9XCJnb29nbGVwYXlhZHllbnYyXCIsdC5HT09HTEVQQVlfQVVUSE9SSVpFTkVUPVwiZ29vZ2xlcGF5YXV0aG9yaXplbmV0XCIsdC5HT09HTEVQQVlfQlJBSU5UUkVFPVwiZ29vZ2xlcGF5YnJhaW50cmVlXCIsdC5HT09HTEVQQVlfQ0hFQ0tPVVRDT009XCJnb29nbGVwYXljaGVja291dGNvbVwiLHQuR09PR0xFUEFZX1NUUklQRT1cImdvb2dsZXBheXN0cmlwZVwiLHQuTUFTVEVSUEFTUz1cIm1hc3RlcnBhc3NcIix0LlBBWVBBTEVYUFJFU1M9XCJwYXlwYWxleHByZXNzXCIsdC5QQVlQQUxDT01NRVJDRT1cInBheXBhbGNvbW1lcmNlXCJ9KHZ8fCh2PXt9KSk7dmFyIEs9dixKPW4oMTIpLFo9bigxMDMpLFE9bigyMDIpLFg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt0aGlzLl9zdG9yZT10LHRoaXMuX2NoZWNrb3V0QWN0aW9uQ3JlYXRvcj1lLHRoaXMuX2FtYXpvblBheVYyUGF5bWVudFByb2Nlc3Nvcj1ufXJldHVybiB0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoYy5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSxuLHIsaSxvO3JldHVybiBPYmplY3QoYy5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24oYSl7c3dpdGNoKGEubGFiZWwpe2Nhc2UgMDppZihlPXQuY29udGFpbmVySWQsbj10Lm1ldGhvZElkLHI9dC5hbWF6b25wYXksIWV8fCFuKXRocm93IG5ldyBkLmEoJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgXCJjb250YWluZXJJZFwiIG9yIFwibWV0aG9kSWRcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuJyk7cmV0dXJuIGk9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKS5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyhuKSxbNCx0aGlzLl9hbWF6b25QYXlWMlBheW1lbnRQcm9jZXNzb3IuaW5pdGlhbGl6ZShpKV07Y2FzZSAxOnJldHVybiBhLnNlbnQoKSxvPXRoaXMsWzQsdGhpcy5fY3JlYXRlU2lnbkluQnV0dG9uKGUsaSxyKV07Y2FzZSAyOnJldHVybiBvLl93YWxsZXRCdXR0b249YS5zZW50KCksWzJdfX0pKX0pKX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dhbGxldEJ1dHRvbiYmdGhpcy5fd2FsbGV0QnV0dG9uLnBhcmVudE5vZGUmJih0aGlzLl93YWxsZXRCdXR0b24ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl93YWxsZXRCdXR0b24pLHRoaXMuX3dhbGxldEJ1dHRvbj12b2lkIDApLFByb21pc2UucmVzb2x2ZSgpfSx0LnByb3RvdHlwZS5fY3JlYXRlU2lnbkluQnV0dG9uPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gT2JqZWN0KGMuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHIsaSxvO3JldHVybiBPYmplY3QoYy5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24oYSl7c3dpdGNoKGEubGFiZWwpe2Nhc2UgMDppZighKHI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodCkpKXRocm93IG5ldyBkLmEoXCJVbmFibGUgdG8gY3JlYXRlIHNpZ24taW4gYnV0dG9uIHdpdGhvdXQgdmFsaWQgY29udGFpbmVyIElELlwiKTtyZXR1cm4gbnVsbD09bj9bMywxXToobz1uLFszLDNdKTtjYXNlIDE6cmV0dXJuWzQsdGhpcy5fZ2V0QW1hem9uUGF5VjJCdXR0b25PcHRpb25zKGUpXTtjYXNlIDI6bz1hLnNlbnQoKSxhLmxhYmVsPTM7Y2FzZSAzOnJldHVybiBpPW8sdGhpcy5fYW1hem9uUGF5VjJQYXltZW50UHJvY2Vzc29yLmNyZWF0ZUJ1dHRvbihcIiNcIit0LGkpLFsyLHJdfX0pKX0pKX0sdC5wcm90b3R5cGUuX2dldEFtYXpvblBheVYyQnV0dG9uT3B0aW9ucz1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KGMuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGUsbixyLGksbyxhLHMsdSxkLHAsaDtyZXR1cm4gT2JqZWN0KGMuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKGMpe3N3aXRjaChjLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fY2hlY2tvdXRBY3Rpb25DcmVhdG9yLmxvYWREZWZhdWx0Q2hlY2tvdXQoKSldO2Nhc2UgMTppZihlPWMuc2VudCgpLG49ZS5jYXJ0LmdldENhcnQoKSxyPWUuY29uZmlnLmdldFN0b3JlQ29uZmlnT3JUaHJvdygpLnN0b3JlUHJvZmlsZS5zaG9wUGF0aCxpPXQuY29uZmlnLG89aS5tZXJjaGFudElkLGE9aS50ZXN0TW9kZSxzPXQuaW5pdGlhbGl6YXRpb25EYXRhLHU9cy5jaGVja291dExhbmd1YWdlLGQ9cy5sZWRnZXJDdXJyZW5jeSxwPXMuY2hlY2tvdXRTZXNzaW9uTWV0aG9kLGg9cy5leHRyYWN0QW1hem9uQ2hlY2tvdXRTZXNzaW9uSWQsIW98fCFkfHwhcil0aHJvdyBuZXcgSi5iKEouYS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7cmV0dXJuWzIse21lcmNoYW50SWQ6byxjcmVhdGVDaGVja291dFNlc3Npb246e3VybDpyK1wiL3JlbW90ZS1jaGVja291dC9cIit0LmlkK1wiL3BheW1lbnQtc2Vzc2lvblwiLG1ldGhvZDpwLGV4dHJhY3RBbWF6b25DaGVja291dFNlc3Npb25JZDpofSxzYW5kYm94OiEhYSxsZWRnZXJDdXJyZW5jeTpkLGNoZWNrb3V0TGFuZ3VhZ2U6dSxwcm9kdWN0VHlwZTpuJiYwPT09T2JqZWN0KFEuYSkobik/Wi5hLlBheU9ubHk6Wi5hLlBheUFuZFNoaXAscGxhY2VtZW50OlouYi5DYXJ0fV19fSkpfSkpfSx0fSgpLCQ9bigxMTEpLHR0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyLGksbyl7dm9pZCAwPT09byYmKG89ITEpLHRoaXMuX3N0b3JlPXQsdGhpcy5fY2hlY2tvdXRBY3Rpb25DcmVhdG9yPWUsdGhpcy5fYnJhaW50cmVlU0RLQ3JlYXRvcj1uLHRoaXMuX3BheXBhbFNjcmlwdExvYWRlcj1yLHRoaXMuX2Zvcm1Qb3N0ZXI9aSx0aGlzLl9vZmZlckNyZWRpdD1vfXJldHVybiB0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj0odGhpcy5fb2ZmZXJDcmVkaXQ/dC5icmFpbnRyZWVwYXlwYWxjcmVkaXQ6dC5icmFpbnRyZWVwYXlwYWwpfHx7fSxyPXRoaXMuX3N0b3JlLmdldFN0YXRlKCksaT10aGlzLl9wYXltZW50TWV0aG9kPXIucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZCh0Lm1ldGhvZElkKTtpZighaXx8IWkuY2xpZW50VG9rZW4pdGhyb3cgbmV3IEouYihKLmEuTWlzc2luZ1BheW1lbnRNZXRob2QpO3JldHVybiB0aGlzLl9icmFpbnRyZWVTREtDcmVhdG9yLmluaXRpYWxpemUoaS5jbGllbnRUb2tlbiksUHJvbWlzZS5hbGwoW3RoaXMuX2JyYWludHJlZVNES0NyZWF0b3IuZ2V0UGF5cGFsQ2hlY2tvdXQoKSx0aGlzLl9wYXlwYWxTY3JpcHRMb2FkZXIubG9hZFBheXBhbCgpXSkudGhlbigoZnVuY3Rpb24ocil7dmFyIG89clswXSxhPXJbMV07ZS5fcGF5cGFsQ2hlY2tvdXQ9bzt2YXIgcz1bXSxkPVtdO3JldHVybiBuLmFsbG93Q3JlZGl0P3MucHVzaChhLkZVTkRJTkcuQ1JFRElUKTpkLnB1c2goYS5GVU5ESU5HLkNSRURJVCksYS5CdXR0b24ucmVuZGVyKHtlbnY6aS5jb25maWcudGVzdE1vZGU/XCJzYW5kYm94XCI6XCJwcm9kdWN0aW9uXCIsY29tbWl0OiEhbi5zaG91bGRQcm9jZXNzUGF5bWVudCxmdW5kaW5nOnthbGxvd2VkOnMsZGlzYWxsb3dlZDpkfSxzdHlsZTpPYmplY3QoYy5fX2Fzc2lnbikoe3NoYXBlOlwicmVjdFwiLGxhYmVsOmUuX29mZmVyQ3JlZGl0P1wiY3JlZGl0XCI6dm9pZCAwfSxPYmplY3QodS5waWNrKShuLnN0eWxlLFwibGF5b3V0XCIsXCJzaXplXCIsXCJjb2xvclwiLFwibGFiZWxcIixcInNoYXBlXCIsXCJ0YWdsaW5lXCIsXCJmdW5kaW5naWNvbnNcIikpLHBheW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5fc2V0dXBQYXltZW50KG4uc2hpcHBpbmdBZGRyZXNzLG4ub25QYXltZW50RXJyb3IpfSxvbkF1dGhvcml6ZTpmdW5jdGlvbih0KXtyZXR1cm4gZS5fdG9rZW5pemVQYXltZW50KHQsbi5zaG91bGRQcm9jZXNzUGF5bWVudCxuLm9uQXV0aG9yaXplRXJyb3IpfX0sdC5jb250YWluZXJJZCl9KSl9LHQucHJvdG90eXBlLmRlaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXlwYWxDaGVja291dD12b2lkIDAsdGhpcy5fcGF5bWVudE1ldGhvZD12b2lkIDAsdGhpcy5fYnJhaW50cmVlU0RLQ3JlYXRvci50ZWFyZG93bigpLFByb21pc2UucmVzb2x2ZSgpfSx0LnByb3RvdHlwZS5fc2V0dXBQYXltZW50PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fY2hlY2tvdXRBY3Rpb25DcmVhdG9yLmxvYWREZWZhdWx0Q2hlY2tvdXQoKSkudGhlbigoZnVuY3Rpb24oZSl7dmFyIHI9ZS5jaGVja291dC5nZXRDaGVja291dCgpLGk9ZS5jb25maWcuZ2V0U3RvcmVDb25maWcoKSxvPWUuY3VzdG9tZXIuZ2V0Q3VzdG9tZXIoKSxhPXZvaWQgMD09PXQ/byYmby5hZGRyZXNzZXMmJm8uYWRkcmVzc2VzWzBdOnQ7aWYoIW4uX3BheXBhbENoZWNrb3V0KXRocm93IG5ldyAkLmIoJC5hLkNoZWNrb3V0QnV0dG9uTm90SW5pdGlhbGl6ZWQpO2lmKCFyKXRocm93IG5ldyBKLmIoSi5hLk1pc3NpbmdDaGVja291dCk7aWYoIWkpdGhyb3cgbmV3IEouYihKLmEuTWlzc2luZ0NoZWNrb3V0Q29uZmlnKTtyZXR1cm4gbi5fcGF5cGFsQ2hlY2tvdXQuY3JlYXRlUGF5bWVudCh7ZmxvdzpcImNoZWNrb3V0XCIsZW5hYmxlU2hpcHBpbmdBZGRyZXNzOiEwLHNoaXBwaW5nQWRkcmVzc0VkaXRhYmxlOiExLHNoaXBwaW5nQWRkcmVzc092ZXJyaWRlOmE/bi5fbWFwVG9CcmFpbnRyZWVBZGRyZXNzKGEpOnZvaWQgMCxhbW91bnQ6ci5vdXRzdGFuZGluZ0JhbGFuY2UsY3VycmVuY3k6aS5jdXJyZW5jeS5jb2RlLG9mZmVyQ3JlZGl0Om4uX29mZmVyQ3JlZGl0fSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3Rocm93IGUmJmUodCksdH0pKX0sdC5wcm90b3R5cGUuX3Rva2VuaXplUGF5bWVudD1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcztpZighdGhpcy5fcGF5cGFsQ2hlY2tvdXR8fCF0aGlzLl9wYXltZW50TWV0aG9kKXRocm93IG5ldyAkLmIoJC5hLkNoZWNrb3V0QnV0dG9uTm90SW5pdGlhbGl6ZWQpO3ZhciBpPXRoaXMuX3BheW1lbnRNZXRob2QuaWQ7cmV0dXJuIFByb21pc2UuYWxsKFt0aGlzLl9wYXlwYWxDaGVja291dC50b2tlbml6ZVBheW1lbnQodCksdGhpcy5fYnJhaW50cmVlU0RLQ3JlYXRvci5nZXREYXRhQ29sbGVjdG9yKHtwYXlwYWw6ITB9KV0pLnRoZW4oKGZ1bmN0aW9uKHQpe3ZhciBuPXRbMF0sbz10WzFdLmRldmljZURhdGE7cmV0dXJuIHIuX2Zvcm1Qb3N0ZXIucG9zdEZvcm0oXCIvY2hlY2tvdXQucGhwXCIse3BheW1lbnRfdHlwZTpcInBheXBhbFwiLHByb3ZpZGVyOmksYWN0aW9uOmU/XCJwcm9jZXNzX3BheW1lbnRcIjpcInNldF9leHRlcm5hbF9jaGVja291dFwiLG5vbmNlOm4ubm9uY2UsZGV2aWNlX2RhdGE6byxzaGlwcGluZ19hZGRyZXNzOkpTT04uc3RyaW5naWZ5KHIuX21hcFRvTGVnYWN5U2hpcHBpbmdBZGRyZXNzKG4pKSxiaWxsaW5nX2FkZHJlc3M6SlNPTi5zdHJpbmdpZnkoci5fbWFwVG9MZWdhY3lCaWxsaW5nQWRkcmVzcyhuKSl9KSxufSkpLmNhdGNoKChmdW5jdGlvbih0KXt0aHJvdyBuJiZuKHQpLHR9KSl9LHQucHJvdG90eXBlLl9tYXBUb0xlZ2FjeVNoaXBwaW5nQWRkcmVzcz1mdW5jdGlvbih0KXt2YXIgZT10LmRldGFpbHMuc2hpcHBpbmdBZGRyZXNzLG49KGUmJmUucmVjaXBpZW50TmFtZXx8XCJcIikuc3BsaXQoXCIgXCIpLHI9blswXSxpPW5bMV07cmV0dXJue2VtYWlsOnQuZGV0YWlscy5lbWFpbCxmaXJzdF9uYW1lOnIsbGFzdF9uYW1lOmkscGhvbmVfbnVtYmVyOnQuZGV0YWlscy5waG9uZSxhZGRyZXNzX2xpbmVfMTplJiZlLmxpbmUxLGFkZHJlc3NfbGluZV8yOmUmJmUubGluZTIsY2l0eTplJiZlLmNpdHksc3RhdGU6ZSYmZS5zdGF0ZSxjb3VudHJ5X2NvZGU6ZSYmZS5jb3VudHJ5Q29kZSxwb3N0YWxfY29kZTplJiZlLnBvc3RhbENvZGV9fSx0LnByb3RvdHlwZS5fbWFwVG9MZWdhY3lCaWxsaW5nQWRkcmVzcz1mdW5jdGlvbih0KXt2YXIgZT10LmRldGFpbHMuYmlsbGluZ0FkZHJlc3Msbj10LmRldGFpbHMuc2hpcHBpbmdBZGRyZXNzO3JldHVybiBlP3tlbWFpbDp0LmRldGFpbHMuZW1haWwsZmlyc3RfbmFtZTp0LmRldGFpbHMuZmlyc3ROYW1lLGxhc3RfbmFtZTp0LmRldGFpbHMubGFzdE5hbWUscGhvbmVfbnVtYmVyOnQuZGV0YWlscy5waG9uZSxhZGRyZXNzX2xpbmVfMTplLmxpbmUxLGFkZHJlc3NfbGluZV8yOmUubGluZTIsY2l0eTplLmNpdHksc3RhdGU6ZS5zdGF0ZSxjb3VudHJ5X2NvZGU6ZS5jb3VudHJ5Q29kZSxwb3N0YWxfY29kZTplLnBvc3RhbENvZGV9OntlbWFpbDp0LmRldGFpbHMuZW1haWwsZmlyc3RfbmFtZTp0LmRldGFpbHMuZmlyc3ROYW1lLGxhc3RfbmFtZTp0LmRldGFpbHMubGFzdE5hbWUscGhvbmVfbnVtYmVyOnQuZGV0YWlscy5waG9uZSxhZGRyZXNzX2xpbmVfMTpuJiZuLmxpbmUxLGFkZHJlc3NfbGluZV8yOm4mJm4ubGluZTIsY2l0eTpuJiZuLmNpdHksc3RhdGU6biYmbi5zdGF0ZSxjb3VudHJ5X2NvZGU6biYmbi5jb3VudHJ5Q29kZSxwb3N0YWxfY29kZTpuJiZuLnBvc3RhbENvZGV9fSx0LnByb3RvdHlwZS5fbWFwVG9CcmFpbnRyZWVBZGRyZXNzPWZ1bmN0aW9uKHQpe3JldHVybntsaW5lMTp0LmFkZHJlc3MxLGxpbmUyOnQuYWRkcmVzczIsY2l0eTp0LmNpdHksc3RhdGU6dC5zdGF0ZU9yUHJvdmluY2VDb2RlLHBvc3RhbENvZGU6dC5wb3N0YWxDb2RlLGNvdW50cnlDb2RlOnQuY291bnRyeUNvZGUscGhvbmU6dC5waG9uZSxyZWNpcGllbnROYW1lOnQuZmlyc3ROYW1lK1wiIFwiK3QubGFzdE5hbWV9fSx0fSgpLGV0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyKXt0aGlzLl9zdG9yZT10LHRoaXMuX2Zvcm1Qb3N0ZXI9ZSx0aGlzLl9jaGVja291dEFjdGlvbkNyZWF0b3I9bix0aGlzLl9nb29nbGVQYXlQYXltZW50UHJvY2Vzc29yPXJ9cmV0dXJuIHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChjLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLG47cmV0dXJuIE9iamVjdChjLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOmlmKGU9dC5jb250YWluZXJJZCxuPXQubWV0aG9kSWQsIWV8fCFuKXRocm93IG5ldyBkLmEoJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgXCJjb250YWluZXJJZFwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nKTtyZXR1cm4gdGhpcy5fbWV0aG9kSWQ9bixbNCx0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9jaGVja291dEFjdGlvbkNyZWF0b3IubG9hZERlZmF1bHRDaGVja291dCgpKV07Y2FzZSAxOnJldHVybiByLnNlbnQoKSxbNCx0aGlzLl9nb29nbGVQYXlQYXltZW50UHJvY2Vzc29yLmluaXRpYWxpemUodGhpcy5fZ2V0TWV0aG9kSWQoKSldO2Nhc2UgMjpyZXR1cm4gci5zZW50KCksdGhpcy5fd2FsbGV0QnV0dG9uPXRoaXMuX2NyZWF0ZVNpZ25JbkJ1dHRvbihlKSxbMl19fSkpfSkpfSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2FsbGV0QnV0dG9uJiZ0aGlzLl93YWxsZXRCdXR0b24ucGFyZW50Tm9kZSYmKHRoaXMuX3dhbGxldEJ1dHRvbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX3dhbGxldEJ1dHRvbiksdGhpcy5fd2FsbGV0QnV0dG9uPXZvaWQgMCksdGhpcy5fZ29vZ2xlUGF5UGF5bWVudFByb2Nlc3Nvci5kZWluaXRpYWxpemUoKX0sdC5wcm90b3R5cGUuX2NyZWF0ZVNpZ25JbkJ1dHRvbj1mdW5jdGlvbih0KXt2YXIgZT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0KTtpZighZSl0aHJvdyBuZXcgZC5hKFwiVW5hYmxlIHRvIGNyZWF0ZSBzaWduLWluIGJ1dHRvbiB3aXRob3V0IHZhbGlkIGNvbnRhaW5lciBJRC5cIik7dmFyIG49dGhpcy5fZ29vZ2xlUGF5UGF5bWVudFByb2Nlc3Nvci5jcmVhdGVCdXR0b24odGhpcy5faGFuZGxlV2FsbGV0QnV0dG9uQ2xpY2spO3JldHVybiBlLmFwcGVuZENoaWxkKG4pLG59LHQucHJvdG90eXBlLl9nZXRNZXRob2RJZD1mdW5jdGlvbigpe2lmKCF0aGlzLl9tZXRob2RJZCl0aHJvdyBuZXcgJC5iKCQuYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO3JldHVybiB0aGlzLl9tZXRob2RJZH0sdC5wcm90b3R5cGUuX2hhbmRsZVdhbGxldEJ1dHRvbkNsaWNrPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoYy5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSxuLHIsaTtyZXR1cm4gT2JqZWN0KGMuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKG8pe3N3aXRjaChvLmxhYmVsKXtjYXNlIDA6dC5wcmV2ZW50RGVmYXVsdCgpLGU9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKS5jYXJ0LmdldENhcnRPclRocm93KCksbj1PYmplY3QoUS5hKShlKT4wLG8ubGFiZWw9MTtjYXNlIDE6cmV0dXJuIG8udHJ5cy5wdXNoKFsxLDcsLDhdKSxbNCx0aGlzLl9nb29nbGVQYXlQYXltZW50UHJvY2Vzc29yLmRpc3BsYXlXYWxsZXQoKV07Y2FzZSAyOnJldHVybiByPW8uc2VudCgpLFs0LHRoaXMuX2dvb2dsZVBheVBheW1lbnRQcm9jZXNzb3IuaGFuZGxlU3VjY2VzcyhyKV07Y2FzZSAzOnJldHVybiBvLnNlbnQoKSxuJiZyLnNoaXBwaW5nQWRkcmVzcz9bNCx0aGlzLl9nb29nbGVQYXlQYXltZW50UHJvY2Vzc29yLnVwZGF0ZVNoaXBwaW5nQWRkcmVzcyhyLnNoaXBwaW5nQWRkcmVzcyldOlszLDVdO2Nhc2UgNDpvLnNlbnQoKSxvLmxhYmVsPTU7Y2FzZSA1OnJldHVybls0LHRoaXMuX29uUGF5bWVudFNlbGVjdENvbXBsZXRlKCldO2Nhc2UgNjpyZXR1cm4gby5zZW50KCksWzMsOF07Y2FzZSA3OmlmKChpPW8uc2VudCgpKSYmXCJDQU5DRUxFRFwiIT09aS5tZXNzYWdlKXRocm93IGk7cmV0dXJuWzMsOF07Y2FzZSA4OnJldHVyblsyXX19KSl9KSl9LHQucHJvdG90eXBlLl9vblBheW1lbnRTZWxlY3RDb21wbGV0ZT1mdW5jdGlvbigpe3RoaXMuX2Zvcm1Qb3N0ZXIucG9zdEZvcm0oXCIvY2hlY2tvdXQucGhwXCIse2hlYWRlcnM6e0FjY2VwdDpcInRleHQvaHRtbFwiLFwiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIn19KX0sT2JqZWN0KGMuX19kZWNvcmF0ZSkoW3AuYV0sdC5wcm90b3R5cGUsXCJfaGFuZGxlV2FsbGV0QnV0dG9uQ2xpY2tcIixudWxsKSx0fSgpLG50PW4oMTMyKSxydD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMuX3N0b3JlPXQsdGhpcy5fY2hlY2tvdXRBY3Rpb25DcmVhdG9yPWUsdGhpcy5fbWFzdGVycGFzc1NjcmlwdExvYWRlcj1ufXJldHVybiB0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10LmNvbnRhaW5lcklkLHI9dC5tZXRob2RJZDtpZighbnx8IXIpdGhyb3cgbmV3IGQuYSgnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBcImNvbnRhaW5lcklkXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicpO3JldHVybiB0aGlzLl9tZXRob2RJZD1yLHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX2NoZWNrb3V0QWN0aW9uQ3JlYXRvci5sb2FkRGVmYXVsdENoZWNrb3V0KCkpLnRoZW4oKGZ1bmN0aW9uKHQpe3ZhciBuPXQucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZChyKTtpZighbnx8IW4uaW5pdGlhbGl6YXRpb25EYXRhLmNoZWNrb3V0SWQpdGhyb3cgbmV3IEouYihKLmEuTWlzc2luZ1BheW1lbnRNZXRob2QpO3JldHVybiBlLl9tYXN0ZXJwYXNzU2NyaXB0TG9hZGVyLmxvYWQobi5jb25maWcudGVzdE1vZGUpfSkpLnRoZW4oKGZ1bmN0aW9uKHQpe2UuX21hc3RlcnBhc3NDbGllbnQ9dCxlLl9zaWduSW5CdXR0b249ZS5fY3JlYXRlU2lnbkluQnV0dG9uKG4pfSkpfSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2lnbkluQnV0dG9uJiZ0aGlzLl9zaWduSW5CdXR0b24ucGFyZW50Tm9kZSYmKHRoaXMuX3NpZ25JbkJ1dHRvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLl9oYW5kbGVXYWxsZXRCdXR0b25DbGljayksdGhpcy5fc2lnbkluQnV0dG9uLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fc2lnbkluQnV0dG9uKSx0aGlzLl9zaWduSW5CdXR0b249dm9pZCAwKSxQcm9taXNlLnJlc29sdmUoKX0sdC5wcm90b3R5cGUuX2NyZWF0ZVNpZ25JbkJ1dHRvbj1mdW5jdGlvbih0KXt2YXIgZT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0KTtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJOZWVkIGEgY29udGFpbmVyIHRvIHBsYWNlIHRoZSBidXR0b25cIik7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO3JldHVybiBuLnR5cGU9XCJpbWFnZVwiLG4uc3JjPVwiaHR0cHM6Ly9zdGF0aWMubWFzdGVycGFzcy5jb20vZHluL2ltZy9idG4vZ2xvYmFsL21wX2Noa19idG5fMTYweDAzN3B4LnN2Z1wiLGUuYXBwZW5kQ2hpbGQobiksbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLl9oYW5kbGVXYWxsZXRCdXR0b25DbGljayksbn0sdC5wcm90b3R5cGUuX2NyZWF0ZU1hc3RlcnBhc3NQYXlsb2FkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSxlPXQuY2hlY2tvdXQuZ2V0Q2hlY2tvdXQoKSxuPXRoaXMuX21ldGhvZElkP3QucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZCh0aGlzLl9tZXRob2RJZCk6bnVsbDtpZighZSl0aHJvdyBuZXcgSi5iKEouYS5NaXNzaW5nQ2hlY2tvdXQpO2lmKCFuKXRocm93IG5ldyBKLmIoSi5hLk1pc3NpbmdQYXltZW50TWV0aG9kKTtyZXR1cm57Y2hlY2tvdXRJZDpuLmluaXRpYWxpemF0aW9uRGF0YS5jaGVja291dElkLGFsbG93ZWRDYXJkVHlwZXM6bi5pbml0aWFsaXphdGlvbkRhdGEuYWxsb3dlZENhcmRUeXBlcyxhbW91bnQ6ZS5jYXJ0LmNhcnRBbW91bnQudG9TdHJpbmcoKSxjdXJyZW5jeTplLmNhcnQuY3VycmVuY3kuY29kZSxjYXJ0SWQ6ZS5jYXJ0LmlkLHN1cHByZXNzU2hpcHBpbmdBZGRyZXNzOiExLGNhbGxiYWNrVXJsOk9iamVjdChudC5hKShcImNhcnRcIil9fSx0LnByb3RvdHlwZS5faGFuZGxlV2FsbGV0QnV0dG9uQ2xpY2s9ZnVuY3Rpb24oKXtpZighdGhpcy5fbWFzdGVycGFzc0NsaWVudCl0aHJvdyBuZXcgJC5iKCQuYS5DaGVja291dEJ1dHRvbk5vdEluaXRpYWxpemVkKTt0aGlzLl9tYXN0ZXJwYXNzQ2xpZW50LmNoZWNrb3V0KHRoaXMuX2NyZWF0ZU1hc3RlcnBhc3NQYXlsb2FkKCkpfSxPYmplY3QoYy5fX2RlY29yYXRlKShbcC5hXSx0LnByb3RvdHlwZSxcIl9oYW5kbGVXYWxsZXRCdXR0b25DbGlja1wiLG51bGwpLHR9KCksaXQ9big3Miksb3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIsaSl7dm9pZCAwPT09aSYmKGk9XCJcIiksdGhpcy5fc3RvcmU9dCx0aGlzLl9jaGVja291dEFjdGlvbkNyZWF0b3I9ZSx0aGlzLl9wYXlwYWxTY3JpcHRMb2FkZXI9bix0aGlzLl9mb3JtUG9zdGVyPXIsdGhpcy5faG9zdD1pfXJldHVybiB0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10LnBheXBhbCxyPXRoaXMuX3N0b3JlLmdldFN0YXRlKCksaT10aGlzLl9wYXltZW50TWV0aG9kPXIucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZCh0Lm1ldGhvZElkKTtpZighbil0aHJvdyBuZXcgZC5hO2lmKCFpKXRocm93IG5ldyBKLmIoSi5hLk1pc3NpbmdQYXltZW50TWV0aG9kKTtyZXR1cm4gdGhpcy5fcGF5cGFsU2NyaXB0TG9hZGVyLmxvYWRQYXlwYWwoaS5jb25maWcubWVyY2hhbnRJZCkudGhlbigoZnVuY3Rpb24ocil7dmFyIG87aWYoIWl8fCFpLmNvbmZpZy5tZXJjaGFudElkKXRocm93IG5ldyBKLmIoSi5hLk1pc3NpbmdQYXltZW50TWV0aG9kKTt2YXIgYT1pLmNvbmZpZy5tZXJjaGFudElkLHM9aS5jb25maWcudGVzdE1vZGU/XCJzYW5kYm94XCI6XCJwcm9kdWN0aW9uXCIsZD0oKG89e30pW3NdPW4uY2xpZW50SWQsbykscD1bXSxoPVtdO3JldHVybiBuLmFsbG93Q3JlZGl0P3AucHVzaChyLkZVTkRJTkcuQ1JFRElUKTpoLnB1c2goci5GVU5ESU5HLkNSRURJVCksci5CdXR0b24ucmVuZGVyKHtlbnY6cyxjbGllbnQ6ZCxjb21taXQ6bi5zaG91bGRQcm9jZXNzUGF5bWVudCxmdW5kaW5nOnthbGxvd2VkOnAsZGlzYWxsb3dlZDpofSxzdHlsZTpPYmplY3QoYy5fX2Fzc2lnbikoe3NoYXBlOlwicmVjdFwifSxPYmplY3QodS5waWNrKShuLnN0eWxlLFwibGF5b3V0XCIsXCJzaXplXCIsXCJjb2xvclwiLFwibGFiZWxcIixcInNoYXBlXCIsXCJ0YWdsaW5lXCIsXCJmdW5kaW5naWNvbnNcIikpLHBheW1lbnQ6ZnVuY3Rpb24odCxyKXtyZXR1cm4gZS5fc2V0dXBQYXltZW50KGEscixuLm9uUGF5bWVudEVycm9yKX0sb25BdXRob3JpemU6ZnVuY3Rpb24odCxyKXtyZXR1cm4gZS5fdG9rZW5pemVQYXltZW50KHQscixuLnNob3VsZFByb2Nlc3NQYXltZW50LG4ub25BdXRob3JpemVFcnJvcil9fSx0LmNvbnRhaW5lcklkKX0pKX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BheW1lbnRNZXRob2Q9dm9pZCAwLFByb21pc2UucmVzb2x2ZSgpfSx0LnByb3RvdHlwZS5fc2V0dXBQYXltZW50PWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzO2lmKCFlKXRocm93IG5ldyAkLmIoJC5hLkNoZWNrb3V0QnV0dG9uTm90SW5pdGlhbGl6ZWQpO3JldHVybiB0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9jaGVja291dEFjdGlvbkNyZWF0b3IubG9hZERlZmF1bHRDaGVja291dCgpKS50aGVuKChmdW5jdGlvbihuKXt2YXIgaT1uLmNhcnQuZ2V0Q2FydCgpLG89aT9pLmlkOlwiXCI7cmV0dXJuIGUucmVxdWVzdC5wb3N0KHIuX2hvc3QrXCIvYXBpL3N0b3JlZnJvbnQvcGF5bWVudC9wYXlwYWxleHByZXNzXCIse21lcmNoYW50SWQ6dCxjYXJ0SWQ6b30se2hlYWRlcnM6e1wiWC1BUEktSU5URVJOQUxcIjppdC5hfX0pfSkpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkfSkpLmNhdGNoKChmdW5jdGlvbih0KXt0aHJvdyBuJiZuKHQpLHR9KSl9LHQucHJvdG90eXBlLl90b2tlbml6ZVBheW1lbnQ9ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9dGhpcztpZighdGhpcy5fcGF5bWVudE1ldGhvZCl0aHJvdyBuZXcgJC5iKCQuYS5DaGVja291dEJ1dHRvbk5vdEluaXRpYWxpemVkKTtpZighZSl0aHJvdyBuZXcgJC5iKCQuYS5DaGVja291dEJ1dHRvbk5vdEluaXRpYWxpemVkKTtpZighdC5wYXltZW50SUR8fCF0LnBheWVySUQpdGhyb3cgbmV3IEouYihKLmEuTWlzc2luZ1BheW1lbnQpO3ZhciBvPXRoaXMuX3BheW1lbnRNZXRob2QuaWQ7cmV0dXJuIGUucGF5bWVudC5nZXQodC5wYXltZW50SUQpLnRoZW4oKGZ1bmN0aW9uKGUpe2kuX2Zvcm1Qb3N0ZXIucG9zdEZvcm0oXCIvY2hlY2tvdXQucGhwXCIse3BheW1lbnRfdHlwZTpcInBheXBhbFwiLHByb3ZpZGVyOm8sYWN0aW9uOm4/XCJwcm9jZXNzX3BheW1lbnRcIjpcInNldF9leHRlcm5hbF9jaGVja291dFwiLHBheW1lbnRJZDp0LnBheW1lbnRJRCxwYXllcklkOnQucGF5ZXJJRCxwYXllckluZm86SlNPTi5zdHJpbmdpZnkoZS5wYXllci5wYXllcl9pbmZvKX0pfSkpfSx0fSgpLGF0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyKXt0aGlzLl9zdG9yZT10LHRoaXMuX2NoZWNrb3V0QWN0aW9uQ3JlYXRvcj1lLHRoaXMuX2Zvcm1Qb3N0ZXI9bix0aGlzLl9wYXlwYWxDb21tZXJjZVBheW1lbnRQcm9jZXNzb3I9cn1yZXR1cm4gdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gT2JqZWN0KGMuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG4scixpLG8sYSxzLHU9dGhpcztyZXR1cm4gT2JqZWN0KGMuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKGMpe3N3aXRjaChjLmxhYmVsKXtjYXNlIDA6aWYobj10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLCEocj1uLnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2RPclRocm93KHQubWV0aG9kSWQpLmluaXRpYWxpemF0aW9uRGF0YSkuY2xpZW50SWQpdGhyb3cgbmV3IGQuYTtyZXR1cm5bNCx0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9jaGVja291dEFjdGlvbkNyZWF0b3IubG9hZERlZmF1bHRDaGVja291dCgpKV07Y2FzZSAxOnJldHVybiBuPWMuc2VudCgpLGk9bi5jYXJ0LmdldENhcnRPclRocm93KCksbz17b25BcHByb3ZlOmZ1bmN0aW9uKHQpe3JldHVybiB1Ll90b2tlbml6ZVBheW1lbnQodCl9LG9uQ2xpY2s6ZnVuY3Rpb24odCl7cmV0dXJuIHUuX2hhbmRsZUNsaWNrQnV0dG9uUHJvdmlkZXIodCl9fSx0LnBheXBhbENvbW1lcmNlJiZ0LnBheXBhbENvbW1lcmNlLnN0eWxlJiYoby5zdHlsZT10LnBheXBhbENvbW1lcmNlLnN0eWxlKSxhPW51bGw9PT0oZT10LnBheXBhbENvbW1lcmNlKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5tZXNzYWdpbmdDb250YWluZXIscz1Cb29sZWFuKGEmJmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEpKSxbNCx0aGlzLl9wYXlwYWxDb21tZXJjZVBheW1lbnRQcm9jZXNzb3IuaW5pdGlhbGl6ZSh0aGlzLl9nZXRQYXJhbXNTY3JpcHQocixpKSldO2Nhc2UgMjpyZXR1cm4gYy5zZW50KCksdGhpcy5fcGF5cGFsQ29tbWVyY2VQYXltZW50UHJvY2Vzc29yLnJlbmRlckJ1dHRvbnMoaS5pZCxcIiNcIit0LmNvbnRhaW5lcklkLG8pLHMmJnRoaXMuX3BheXBhbENvbW1lcmNlUGF5bWVudFByb2Nlc3Nvci5yZW5kZXJNZXNzYWdlcyhpLmNhcnRBbW91bnQsXCIjXCIrYSksWzIsUHJvbWlzZS5yZXNvbHZlKCldfX0pKX0pKX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzQ3JlZGl0PXZvaWQgMCxQcm9taXNlLnJlc29sdmUoKX0sdC5wcm90b3R5cGUuX2hhbmRsZUNsaWNrQnV0dG9uUHJvdmlkZXI9ZnVuY3Rpb24odCl7dmFyIGU9dC5mdW5kaW5nU291cmNlO3RoaXMuX2lzQ3JlZGl0PVwiY3JlZGl0XCI9PT1lfHxcInBheWxhdGVyXCI9PT1lfSx0LnByb3RvdHlwZS5fdG9rZW5pemVQYXltZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXQub3JkZXJJRDtpZighZSl0aHJvdyBuZXcgSi5iKEouYS5NaXNzaW5nUGF5bWVudCk7cmV0dXJuIHRoaXMuX2Zvcm1Qb3N0ZXIucG9zdEZvcm0oXCIvY2hlY2tvdXQucGhwXCIse3BheW1lbnRfdHlwZTpcInBheXBhbFwiLGFjdGlvbjpcInNldF9leHRlcm5hbF9jaGVja291dFwiLHByb3ZpZGVyOnRoaXMuX2lzQ3JlZGl0P1wicGF5cGFsY29tbWVyY2VjcmVkaXRcIjpcInBheXBhbGNvbW1lcmNlXCIsb3JkZXJfaWQ6ZX0pfSx0LnByb3RvdHlwZS5fZ2V0UGFyYW1zU2NyaXB0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5jbGllbnRJZCxyPXQuaW50ZW50LGk9dC5pc1BheVBhbENyZWRpdEF2YWlsYWJsZSxvPXQubWVyY2hhbnRJZCxhPVtcImNhcmRcIl07cmV0dXJuIGl8fGEucHVzaChcImNyZWRpdFwiKSx7XCJjbGllbnQtaWRcIjpuLFwibWVyY2hhbnQtaWRcIjpvLGNvbW1pdDohMSxjdXJyZW5jeTplLmN1cnJlbmN5LmNvZGUsY29tcG9uZW50czpbXCJidXR0b25zXCIsXCJtZXNzYWdlc1wiXSxcImRpc2FibGUtZnVuZGluZ1wiOmEsaW50ZW50OnJ9fSx0fSgpO2Z1bmN0aW9uIHN0KHQpe3ZhciBlPXQmJnQuaG9zdCxuPU9iamVjdChvLmEpKCksYz1PYmplY3QoaS5jcmVhdGVSZXF1ZXN0U2VuZGVyKSh7aG9zdDplfSksdT1PYmplY3Qoci5jcmVhdGVGb3JtUG9zdGVyKSh7aG9zdDplfSk7cmV0dXJuIG5ldyBDKG4sbmV3IEUoZnVuY3Rpb24odCxlLG4scil7dmFyIGk9bmV3IE0uYSxvPU9iamVjdChQLmdldFNjcmlwdExvYWRlcikoKSxhPW5ldyBqLmEobmV3IGsuYShlKSxuZXcgVC5hKG5ldyBSLmEoZSkpLG5ldyBELmEobmV3IHouYShlKSkpLHM9T2JqZWN0KFcuYSkobyxlKTtyZXR1cm4gaS5yZWdpc3RlcihLLkJSQUlOVFJFRV9QQVlQQUwsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0dCh0LGEsbmV3IE4uYShuZXcgRi5hKG8pKSxuZXcgSC5hKG8pLG4pfSkpLGkucmVnaXN0ZXIoSy5CUkFJTlRSRUVfUEFZUEFMX0NSRURJVCwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHR0KHQsYSxuZXcgTi5hKG5ldyBGLmEobykpLG5ldyBILmEobyksbiwhMCl9KSksaS5yZWdpc3RlcihLLk1BU1RFUlBBU1MsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBydCh0LGEsbmV3IFkuYShvKSl9KSksaS5yZWdpc3RlcihLLkdPT0dMRVBBWV9BRFlFTlYyLChmdW5jdGlvbigpe3JldHVybiBuZXcgZXQodCxuLGEsT2JqZWN0KHEuYSkodCxuZXcgVS5hKSl9KSksaS5yZWdpc3RlcihLLkdPT0dMRVBBWV9BVVRIT1JJWkVORVQsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBldCh0LG4sYSxPYmplY3QocS5hKSh0LG5ldyB4LmEpKX0pKSxpLnJlZ2lzdGVyKEsuR09PR0xFUEFZX0JSQUlOVFJFRSwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGV0KHQsbixhLE9iamVjdChxLmEpKHQsbmV3IEIuYShuZXcgTi5hKG5ldyBGLmEobykpKSkpfSkpLGkucmVnaXN0ZXIoSy5HT09HTEVQQVlfQ0hFQ0tPVVRDT00sKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBldCh0LG4sYSxPYmplY3QocS5hKSh0LG5ldyBHLmEoZSkpKX0pKSxpLnJlZ2lzdGVyKEsuR09PR0xFUEFZX1NUUklQRSwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGV0KHQsbixhLE9iamVjdChxLmEpKHQsbmV3IFYuYSkpfSkpLGkucmVnaXN0ZXIoSy5QQVlQQUxFWFBSRVNTLChmdW5jdGlvbigpe3JldHVybiBuZXcgb3QodCxhLG5ldyBILmEobyksbixyKX0pKSxpLnJlZ2lzdGVyKEsuUEFZUEFMQ09NTUVSQ0UsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBhdCh0LGEsbixzKX0pKSxpLnJlZ2lzdGVyKEsuQU1BWk9OX1BBWV9WMiwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFgodCxhLE9iamVjdChMLmEpKCkpfSkpLGl9KG4sYyx1LGUpLG5ldyBhLmEobmV3IHMuYShjKSkpKX1uLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gc3R9KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcixpPW4oNDYpLG89bigxNDUpLGE9bigxNDQpLHM9bigxNDYpLGM9big4MCksdT1uKDApLGQ9big5NykscD1uKDIzKSxoPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMsZSx7bWVzc2FnZTplLmJvZHkudGl0bGV9KXx8dGhpcztyZXR1cm4gbi5uYW1lPVwiSW52YWxpZExvZ2luVG9rZW5FcnJvclwiLG4udHlwZT1cImludmFsaWRfbG9naW5fdG9rZW5cIixufXJldHVybiBPYmplY3QodS5fX2V4dGVuZHMpKGUsdCksZX0obigzNSkuYSksbD1uKDIyKTshZnVuY3Rpb24odCl7dC5NaXNzaW5nQ29udGFpbmVyPVwibWlzc2luZ19jb250YWluZXJcIix0Lk1pc3NpbmdDb250ZW50PVwibWlzc2luZ19jb250ZW50XCIsdC5Vbmtub3duRXJyb3I9XCJ1bmtub3duX2Vycm9yXCJ9KHJ8fChyPXt9KSk7dmFyIG09ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3ZvaWQgMD09PW4mJihuPXIuVW5rbm93bkVycm9yKTt2YXIgaT10LmNhbGwodGhpcyxlfHxcIlVuYWJsZSB0byBlbWJlZCB0aGUgY2hlY2tvdXQgZm9ybS5cIil8fHRoaXM7cmV0dXJuIGkuc3VidHlwZT1uLGkubmFtZT1cIk5vdEVtYmVkZGFibGVFcnJvclwiLGkudHlwZT1cIm5vdF9lbWJlZGRhYmxlXCIsaX1yZXR1cm4gT2JqZWN0KHUuX19leHRlbmRzKShlLHQpLGV9KGwuYSksZj1uKDEwNiksXz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scixpLG8sYSxzKXt2YXIgYz10aGlzO3RoaXMuX2lmcmFtZUNyZWF0b3I9dCx0aGlzLl9tZXNzYWdlTGlzdGVuZXI9ZSx0aGlzLl9tZXNzYWdlUG9zdGVyPW4sdGhpcy5fbG9hZGluZ0luZGljYXRvcj1yLHRoaXMuX3JlcXVlc3RTZW5kZXI9aSx0aGlzLl9zdG9yYWdlPW8sdGhpcy5fbG9jYXRpb249YSx0aGlzLl9vcHRpb25zPXMsdGhpcy5faXNBdHRhY2hlZD0hMSx0aGlzLl9vcHRpb25zLm9uQ29tcGxldGUmJnRoaXMuX21lc3NhZ2VMaXN0ZW5lci5hZGRMaXN0ZW5lcihwLmEuQ2hlY2tvdXRDb21wbGV0ZSx0aGlzLl9vcHRpb25zLm9uQ29tcGxldGUpLHRoaXMuX29wdGlvbnMub25FcnJvciYmdGhpcy5fbWVzc2FnZUxpc3RlbmVyLmFkZExpc3RlbmVyKHAuYS5DaGVja291dEVycm9yLHRoaXMuX29wdGlvbnMub25FcnJvciksdGhpcy5fb3B0aW9ucy5vbkxvYWQmJnRoaXMuX21lc3NhZ2VMaXN0ZW5lci5hZGRMaXN0ZW5lcihwLmEuQ2hlY2tvdXRMb2FkZWQsdGhpcy5fb3B0aW9ucy5vbkxvYWQpLHRoaXMuX29wdGlvbnMub25GcmFtZUxvYWQmJnRoaXMuX21lc3NhZ2VMaXN0ZW5lci5hZGRMaXN0ZW5lcihwLmEuRnJhbWVMb2FkZWQsdGhpcy5fb3B0aW9ucy5vbkZyYW1lTG9hZCksdGhpcy5fb3B0aW9ucy5vblNpZ25PdXQmJnRoaXMuX21lc3NhZ2VMaXN0ZW5lci5hZGRMaXN0ZW5lcihwLmEuU2lnbmVkT3V0LHRoaXMuX29wdGlvbnMub25TaWduT3V0KSx0aGlzLl9tZXNzYWdlTGlzdGVuZXIuYWRkTGlzdGVuZXIocC5hLkZyYW1lTG9hZGVkLChmdW5jdGlvbigpe3JldHVybiBjLl9jb25maWd1cmVTdHlsZXMoKX0pKX1yZXR1cm4gdC5wcm90b3R5cGUuYXR0YWNoPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5faXNBdHRhY2hlZD9Qcm9taXNlLnJlc29sdmUodGhpcyk6KHRoaXMuX2lzQXR0YWNoZWQ9ITAsdGhpcy5fbWVzc2FnZUxpc3RlbmVyLmxpc3RlbigpLHRoaXMuX2xvYWRpbmdJbmRpY2F0b3Iuc2hvdyh0aGlzLl9vcHRpb25zLmNvbnRhaW5lcklkKSx0aGlzLl9hbGxvd0Nvb2tpZSgpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX2F0dGVtcHRMb2dpbigpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9pZnJhbWVDcmVhdG9yLmNyZWF0ZUZyYW1lKGUsdC5fb3B0aW9ucy5jb250YWluZXJJZCl9KSkudGhlbigoZnVuY3Rpb24oZSl7dC5faWZyYW1lPWUsdC5fY29uZmlndXJlU3R5bGVzKCksdC5fbG9hZGluZ0luZGljYXRvci5oaWRlKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9pc0F0dGFjaGVkPSExLHQuX3JldHJ5QWxsb3dDb29raWUoZSkuY2F0Y2goKGZ1bmN0aW9uKCl7dGhyb3cgdC5fbWVzc2FnZUxpc3RlbmVyLnRyaWdnZXIoe3R5cGU6cC5hLkZyYW1lRXJyb3IscGF5bG9hZDplfSksdC5fbG9hZGluZ0luZGljYXRvci5oaWRlKCksZX0pKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0fSkpKX0sdC5wcm90b3R5cGUuZGV0YWNoPWZ1bmN0aW9uKCl7dGhpcy5faXNBdHRhY2hlZCYmKHRoaXMuX2lzQXR0YWNoZWQ9ITEsdGhpcy5fbWVzc2FnZUxpc3RlbmVyLnN0b3BMaXN0ZW4oKSx0aGlzLl9pZnJhbWUmJnRoaXMuX2lmcmFtZS5wYXJlbnROb2RlJiYodGhpcy5faWZyYW1lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5faWZyYW1lKSx0aGlzLl9pZnJhbWUuaUZyYW1lUmVzaXplci5jbG9zZSgpKSl9LHQucHJvdG90eXBlLl9jb25maWd1cmVTdHlsZXM9ZnVuY3Rpb24oKXt0aGlzLl9pZnJhbWUmJnRoaXMuX2lmcmFtZS5jb250ZW50V2luZG93JiZ0aGlzLl9vcHRpb25zLnN0eWxlcyYmKHRoaXMuX21lc3NhZ2VQb3N0ZXIuc2V0VGFyZ2V0KHRoaXMuX2lmcmFtZS5jb250ZW50V2luZG93KSx0aGlzLl9tZXNzYWdlUG9zdGVyLnBvc3Qoe3R5cGU6Zi5hLlN0eWxlQ29uZmlndXJlZCxwYXlsb2FkOnRoaXMuX29wdGlvbnMuc3R5bGVzfSkpfSx0LnByb3RvdHlwZS5fYXR0ZW1wdExvZ2luPWZ1bmN0aW9uKCl7cmV0dXJuL15cXC9sb2dpblxcL3Rva2VuLy50ZXN0KE9iamVjdChjLmEpKHRoaXMuX29wdGlvbnMudXJsKS5wYXRobmFtZSk/dGhpcy5fcmVxdWVzdFNlbmRlci5wb3N0KHRoaXMuX29wdGlvbnMudXJsKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gdC5ib2R5LnJlZGlyZWN0VXJsfSkpLmNhdGNoKChmdW5jdGlvbih0KXtyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IGgodCkpfSkpOlByb21pc2UucmVzb2x2ZSh0aGlzLl9vcHRpb25zLnVybCl9LHQucHJvdG90eXBlLl9hbGxvd0Nvb2tpZT1mdW5jdGlvbigpe2lmKHRoaXMuX3N0b3JhZ2UuZ2V0SXRlbShcImlzQ29va2llQWxsb3dlZFwiKSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7dGhpcy5fc3RvcmFnZS5zZXRJdGVtKFwiaXNDb29raWVBbGxvd2VkXCIsITApLHRoaXMuX3N0b3JhZ2Uuc2V0SXRlbShcImxhc3RBbGxvd0Nvb2tpZUF0dGVtcHRcIixEYXRlLm5vdygpKTt2YXIgdD1PYmplY3QoYy5hKSh0aGlzLl9vcHRpb25zLnVybCkub3JpZ2luK1wiL2VtYmVkZGVkLWNoZWNrb3V0L2FsbG93LWNvb2tpZT9yZXR1cm5Vcmw9XCIrZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuX2xvY2F0aW9uLmhyZWYpO3JldHVybiBkb2N1bWVudC5ib2R5LnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIix0aGlzLl9sb2NhdGlvbi5yZXBsYWNlKHQpLG5ldyBQcm9taXNlKChmdW5jdGlvbigpe30pKX0sdC5wcm90b3R5cGUuX3JldHJ5QWxsb3dDb29raWU9ZnVuY3Rpb24odCl7dmFyIGU9TnVtYmVyKHRoaXMuX3N0b3JhZ2UuZ2V0SXRlbShcImxhc3RBbGxvd0Nvb2tpZUF0dGVtcHRcIikpO3JldHVybighZXx8RGF0ZS5ub3coKS1lPjZlNSkmJnQgaW5zdGFuY2VvZiBtJiZ0LnN1YnR5cGU9PT1yLk1pc3NpbmdDb250ZW50Pyh0aGlzLl9zdG9yYWdlLnJlbW92ZUl0ZW0oXCJsYXN0QWxsb3dDb29raWVBdHRlbXB0XCIpLHRoaXMuX3N0b3JhZ2UucmVtb3ZlSXRlbShcImlzQ29va2llQWxsb3dlZFwiKSx0aGlzLl9hbGxvd0Nvb2tpZSgpKTpQcm9taXNlLnJlamVjdCgpfSx0PU9iamVjdCh1Ll9fZGVjb3JhdGUpKFtkLmFdLHQpfSgpLHk9e3NpemU6NzAsY29sb3I6XCIjZDlkOWQ5XCIsYmFja2dyb3VuZENvbG9yOlwiI2ZmZmZmZlwifSxnPVwiZW1iZWRkZWQtY2hlY2tvdXQtbG9hZGluZy1pbmRpY2F0b3Itcm90YXRpb25cIixiPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9zdHlsZXM9T2JqZWN0KHUuX19hc3NpZ24pKE9iamVjdCh1Ll9fYXNzaWduKSh7fSx5KSx0JiZ0LnN0eWxlcyksdGhpcy5fZGVmaW5lQW5pbWF0aW9uKCksdGhpcy5fY29udGFpbmVyPXRoaXMuX2J1aWxkQ29udGFpbmVyKCksdGhpcy5faW5kaWNhdG9yPXRoaXMuX2J1aWxkSW5kaWNhdG9yKCksdGhpcy5fY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuX2luZGljYXRvcil9cmV0dXJuIHQucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24odCl7aWYodCl7dmFyIGU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodCk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGF0dGFjaCB0aGUgbG9hZGluZyBpbmRpY2F0b3IgYmVjYXVzZSB0aGUgcGFyZW50IElEIGlzIG5vdCB2YWxpZC5cIik7ZS5hcHBlbmRDaGlsZCh0aGlzLl9jb250YWluZXIpfXRoaXMuX2NvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5PVwidmlzaWJsZVwiLHRoaXMuX2NvbnRhaW5lci5zdHlsZS5vcGFjaXR5PVwiMVwifSx0LnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPWZ1bmN0aW9uKCl7dC5fY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIix0Ll9jb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRyYW5zaXRpb25lbmRcIixlKX07dGhpcy5fY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFuc2l0aW9uZW5kXCIsZSksdGhpcy5fY29udGFpbmVyLnN0eWxlLm9wYWNpdHk9XCIwXCJ9LHQucHJvdG90eXBlLl9idWlsZENvbnRhaW5lcj1mdW5jdGlvbigpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cmV0dXJuIHQuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsdC5zdHlsZS5ib3R0b209XCIwXCIsdC5zdHlsZS5sZWZ0PVwiMFwiLHQuc3R5bGUuaGVpZ2h0PVwiMTAwJVwiLHQuc3R5bGUud2lkdGg9XCIxMDAlXCIsdC5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsdC5zdHlsZS5yaWdodD1cIjBcIix0LnN0eWxlLnRvcD1cIjBcIix0LnN0eWxlLnRyYW5zaXRpb249XCJhbGwgMjUwbXMgZWFzZS1vdXRcIix0LnN0eWxlLm9wYWNpdHk9XCIwXCIsdH0sdC5wcm90b3R5cGUuX2J1aWxkSW5kaWNhdG9yPWZ1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm4gdC5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIix0LnN0eWxlLndpZHRoPXRoaXMuX3N0eWxlcy5zaXplK1wicHhcIix0LnN0eWxlLmhlaWdodD10aGlzLl9zdHlsZXMuc2l6ZStcInB4XCIsdC5zdHlsZS5ib3JkZXJSYWRpdXM9dGhpcy5fc3R5bGVzLnNpemUrXCJweFwiLHQuc3R5bGUuYm9yZGVyPVwic29saWQgMXB4XCIsdC5zdHlsZS5ib3JkZXJDb2xvcj10aGlzLl9zdHlsZXMuYmFja2dyb3VuZENvbG9yK1wiIFwiK3RoaXMuX3N0eWxlcy5iYWNrZ3JvdW5kQ29sb3IrXCIgXCIrdGhpcy5fc3R5bGVzLmNvbG9yK1wiIFwiK3RoaXMuX3N0eWxlcy5jb2xvcix0LnN0eWxlLm1hcmdpbj1cIjAgYXV0b1wiLHQuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHQuc3R5bGUubGVmdD1cIjBcIix0LnN0eWxlLnJpZ2h0PVwiMFwiLHQuc3R5bGUudG9wPVwiNTAlXCIsdC5zdHlsZS50cmFuc2Zvcm09XCJ0cmFuc2xhdGVZKC01MCUpIHJvdGF0ZSgwZGVnKVwiLHQuc3R5bGUudHJhbnNmb3JtU3R5bGU9XCJwcmVzZXJ2ZS0zZFwiLHQuc3R5bGUuYW5pbWF0aW9uPWcrXCIgNTAwbXMgaW5maW5pdGUgY3ViaWMtYmV6aWVyKDAuNjksIDAuMzEsIDAuNTYsIDAuODMpXCIsdH0sdC5wcm90b3R5cGUuX2RlZmluZUFuaW1hdGlvbj1mdW5jdGlvbigpe2lmKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZChnKSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO3QuaWQ9Zyxkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHQpLHQuc2hlZXQgaW5zdGFuY2VvZiBDU1NTdHlsZVNoZWV0JiZ0LnNoZWV0Lmluc2VydFJ1bGUoXCJcXG4gICAgICAgICAgICAgICAgQGtleWZyYW1lcyBcIitnK1wiIHtcXG4gICAgICAgICAgICAgICAgICAgIDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpIHJvdGF0ZSgwZGVnKTsgfVxcbiAgICAgICAgICAgICAgICAgICAgMTAwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKSByb3RhdGUoMzYwZGVnKTsgfVxcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgXCIsMCl9fSx0fSgpLHY9big1NiksQz1uKDE5MSksTz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fb3B0aW9ucz10fXJldHVybiB0LnByb3RvdHlwZS5jcmVhdGVGcmFtZT1mdW5jdGlvbih0LGUpe3ZhciBuPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpLGk9KHRoaXMuX29wdGlvbnN8fHt9KS50aW1lb3V0LG89dm9pZCAwPT09aT82ZTQ6aTtpZighbil0aHJvdyBuZXcgbShcIlVuYWJsZSB0byBlbWJlZCB0aGUgaWZyYW1lIGJlY2F1c2UgdGhlIGNvbnRhaW5lciBlbGVtZW50IGNvdWxkIG5vdCBiZSBmb3VuZC5cIixyLk1pc3NpbmdDb250YWluZXIpO3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7cmV0dXJuIGEuc3JjPXQsYS5zdHlsZS5ib3JkZXI9XCJub25lXCIsYS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGEuc3R5bGUud2lkdGg9XCIxMDAlXCIsYS5hbGxvd1BheW1lbnRSZXF1ZXN0PSEwLG4uYXBwZW5kQ2hpbGQoYSksdGhpcy5fdG9SZXNpemFibGVGcmFtZShhLG8pLmNhdGNoKChmdW5jdGlvbih0KXt0aHJvdyBuLnJlbW92ZUNoaWxkKGEpLHR9KSl9LHQucHJvdG90eXBlLl90b1Jlc2l6YWJsZUZyYW1lPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuLGkpe3ZhciBvPXdpbmRvdy5zZXRUaW1lb3V0KChmdW5jdGlvbigpe2kobmV3IG0oXCJVbmFibGUgdG8gZW1iZWQgdGhlIGlmcmFtZSBiZWNhdXNlIHRoZSBjb250ZW50IGNvdWxkIG5vdCBiZSBsb2FkZWQuXCIpKX0pLGUpLGE9ZnVuY3Rpb24oZSl7aWYoZS5vcmlnaW49PT1PYmplY3QoYy5hKSh0LnNyYykub3JpZ2luJiYoT2JqZWN0KHYuYSkoZS5kYXRhLHAuYS5GcmFtZUVycm9yKSYmKHMoKSxpKG5ldyBtKGUuZGF0YS5wYXlsb2FkLm1lc3NhZ2Usci5NaXNzaW5nQ29udGVudCkpKSxPYmplY3Qodi5hKShlLmRhdGEscC5hLkZyYW1lTG9hZGVkKSkpe3Quc3R5bGUuZGlzcGxheT1cIlwiO3ZhciBvPWUuZGF0YS5wYXlsb2FkJiZlLmRhdGEucGF5bG9hZC5jb250ZW50SWQsYT1PYmplY3QoQy5hKSh7c2Nyb2xsaW5nOiExLHNpemVXaWR0aDohMSxoZWlnaHRDYWxjdWxhdGlvbk1ldGhvZDpvP1widGFnZ2VkRWxlbWVudFwiOlwibG93ZXN0RWxlbWVudFwifSx0KTtzKCksbihhW2EubGVuZ3RoLTFdKX19LHM9ZnVuY3Rpb24oKXt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixhKSx3aW5kb3cuY2xlYXJUaW1lb3V0KG8pfTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixhKX0pKX0sdH0oKTtuLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gd30pKTt2YXIgUz1cIkJpZ0NvbW1lcmNlLkVtYmVkZGVkQ2hlY2tvdXRcIjtmdW5jdGlvbiB3KHQpe3ZhciBlPU9iamVjdChjLmEpKHQudXJsKS5vcmlnaW47cmV0dXJuIG5ldyBfKG5ldyBPLG5ldyBvLmEoZSksbmV3IGEuYShlKSxuZXcgYih7c3R5bGVzOnQuc3R5bGVzJiZ0LnN0eWxlcy5sb2FkaW5nSW5kaWNhdG9yfSksT2JqZWN0KGkuY3JlYXRlUmVxdWVzdFNlbmRlcikoKSxuZXcgcy5hKFMpLHdpbmRvdy5sb2NhdGlvbix0KS5hdHRhY2goKX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDE5MSksaT1uKDE0NSksbz1uKDE0NCksYT1uKDIzKTtmdW5jdGlvbiBzKHQpe2lmKHQucGF5bG9hZCYmdC5wYXlsb2FkLmNvbnRlbnRJZCl7dmFyIGU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodC5wYXlsb2FkLmNvbnRlbnRJZCk7ZSYmIWUuaGFzQXR0cmlidXRlKFwiZGF0YS1pZnJhbWUtaGVpZ2h0XCIpJiZlLnNldEF0dHJpYnV0ZShcImRhdGEtaWZyYW1lLWhlaWdodFwiLFwiXCIpfX12YXIgYz1uKDApO2Z1bmN0aW9uIHUodCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQubWVzc2FnZSYmXCJzdHJpbmdcIj09dHlwZW9mIHQudHlwZSYmKFwic3RyaW5nXCI9PXR5cGVvZiB0LnN1YnR5cGV8fCF0LnN1YnR5cGUpJiZ0IGluc3RhbmNlb2YgRXJyb3J9dmFyIGQ9big5NykscD1uKDEwNiksaD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scil7dm9pZCAwPT09ciYmKHI9e30pLHRoaXMuX21lc3NhZ2VMaXN0ZW5lcj10LHRoaXMuX21lc3NhZ2VQb3N0ZXI9ZSx0aGlzLl91bnRhcmdldGVkTWVzc2FnZVBvc3Rlcj1uLHRoaXMuX21lc3NhZ2VIYW5kbGVycz1yLHRoaXMuX21lc3NhZ2VMaXN0ZW5lci5saXN0ZW4oKX1yZXR1cm4gdC5wcm90b3R5cGUucG9zdENvbXBsZXRlPWZ1bmN0aW9uKCl7dmFyIHQ9e3R5cGU6YS5hLkNoZWNrb3V0Q29tcGxldGV9O3RoaXMuX3Bvc3RNZXNzYWdlKHQpfSx0LnByb3RvdHlwZS5wb3N0RXJyb3I9ZnVuY3Rpb24odCl7dmFyIGU9e3R5cGU6YS5hLkNoZWNrb3V0RXJyb3IscGF5bG9hZDp0aGlzLl90cmFuc2Zvcm1FcnJvcih0KX07dGhpcy5fcG9zdE1lc3NhZ2UoZSl9LHQucHJvdG90eXBlLnBvc3RGcmFtZUVycm9yPWZ1bmN0aW9uKHQpe3ZhciBlPXt0eXBlOmEuYS5GcmFtZUVycm9yLHBheWxvYWQ6dGhpcy5fdHJhbnNmb3JtRXJyb3IodCl9O3RoaXMuX3Bvc3RNZXNzYWdlKGUse3VudGFyZ2V0ZWQ6ITB9KX0sdC5wcm90b3R5cGUucG9zdEZyYW1lTG9hZGVkPWZ1bmN0aW9uKHQpe3ZhciBlPXt0eXBlOmEuYS5GcmFtZUxvYWRlZCxwYXlsb2FkOnR9O3RoaXMuX3Bvc3RNZXNzYWdlKGUpfSx0LnByb3RvdHlwZS5wb3N0TG9hZGVkPWZ1bmN0aW9uKCl7dmFyIHQ9e3R5cGU6YS5hLkNoZWNrb3V0TG9hZGVkfTt0aGlzLl9wb3N0TWVzc2FnZSh0KX0sdC5wcm90b3R5cGUucG9zdFNpZ25lZE91dD1mdW5jdGlvbigpe3ZhciB0PXt0eXBlOmEuYS5TaWduZWRPdXR9O3RoaXMuX3Bvc3RNZXNzYWdlKHQpfSx0LnByb3RvdHlwZS5yZWNlaXZlU3R5bGVzPWZ1bmN0aW9uKHQpe3RoaXMuX21lc3NhZ2VMaXN0ZW5lci5hZGRMaXN0ZW5lcihwLmEuU3R5bGVDb25maWd1cmVkLChmdW5jdGlvbihlKXt2YXIgbj1lLnBheWxvYWQ7dChuKX0pKX0sdC5wcm90b3R5cGUuX3Bvc3RNZXNzYWdlPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fbm90aWZ5TWVzc2FnZUhhbmRsZXJzKHQpLGUmJmUudW50YXJnZXRlZClyZXR1cm4gdGhpcy5fdW50YXJnZXRlZE1lc3NhZ2VQb3N0ZXIucG9zdCh0KTt0aGlzLl9tZXNzYWdlUG9zdGVyLnBvc3QodCl9LHQucHJvdG90eXBlLl9ub3RpZnlNZXNzYWdlSGFuZGxlcnM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztPYmplY3Qua2V5cyh0aGlzLl9tZXNzYWdlSGFuZGxlcnMpLmZvckVhY2goKGZ1bmN0aW9uKG4pe2lmKHQudHlwZT09PW4pe3ZhciByPWUuX21lc3NhZ2VIYW5kbGVyc1tuXTtyJiZyLmNhbGwobnVsbCx0KX19KSl9LHQucHJvdG90eXBlLl90cmFuc2Zvcm1FcnJvcj1mdW5jdGlvbih0KXtyZXR1cm57bWVzc2FnZTp0Lm1lc3NhZ2UsdHlwZTp1KHQpP3QudHlwZTp2b2lkIDAsc3VidHlwZTp1KHQpP3Quc3VidHlwZTp2b2lkIDB9fSx0PU9iamVjdChjLl9fZGVjb3JhdGUpKFtkLmFdLHQpfSgpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5wb3N0Q29tcGxldGU9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLnBvc3RFcnJvcj1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUucG9zdEZyYW1lRXJyb3I9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLnBvc3RGcmFtZUxvYWRlZD1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUucG9zdExvYWRlZD1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUucG9zdFNpZ25lZE91dD1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUucmVjZWl2ZVN0eWxlcz1mdW5jdGlvbigpe30sdD1PYmplY3QoYy5fX2RlY29yYXRlKShbZC5hXSx0KX0oKTtmdW5jdGlvbiBtKHQpe3ZhciBlO09iamVjdChyLmIpKCk7dmFyIG49dC5wYXJlbnRXaW5kb3d8fHdpbmRvdy5wYXJlbnQ7cmV0dXJuIHdpbmRvdz09PW4/bmV3IGw6bmV3IGgobmV3IGkuYSh0LnBhcmVudE9yaWdpbiksbmV3IG8uYSh0LnBhcmVudE9yaWdpbixuKSxuZXcgby5hKFwiKlwiLG4pLCgoZT17fSlbYS5hLkZyYW1lTG9hZGVkXT1zLGUpKX1uLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbX0pKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMCksaT1uKDIpLG89big2NiksYT1uLm4obyk7ZnVuY3Rpb24gcyh0KXtyZXR1cm4gdC5oYXNPd25Qcm9wZXJ0eShcImNhY2hlS2V5XCIpfXZhciBjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9sYXN0SWQ9MCx0aGlzLl9tYXA9e21hcHM6W119LHRoaXMuX3VzZWRNYXBzPVtdLHRoaXMuX29wdGlvbnM9T2JqZWN0KHIuX19hc3NpZ24pKHttYXhTaXplOjAsaXNFcXVhbDphLmEsb25FeHBpcmU6aS5ub29wfSx0KX1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0S2V5PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3ZhciBuPXRoaXMuX3Jlc29sdmVNYXAuYXBwbHkodGhpcyx0KSxyPW4uaW5kZXgsaT1uLnBhcmVudE1hcCxvPW4ubWFwO3JldHVybiBvJiZvLmNhY2hlS2V5P28udXNlZENvdW50Kys6bz10aGlzLl9nZW5lcmF0ZU1hcChpLHQuc2xpY2UocikpLHRoaXMuX3JlbW92ZUxlYXN0VXNlZE1hcChvKSxvLmNhY2hlS2V5fSx0LnByb3RvdHlwZS5nZXRVc2VkQ291bnQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07dmFyIG49dGhpcy5fcmVzb2x2ZU1hcC5hcHBseSh0aGlzLHQpLm1hcDtyZXR1cm4gbj9uLnVzZWRDb3VudDowfSx0LnByb3RvdHlwZS5fcmVzb2x2ZU1hcD1mdW5jdGlvbigpe2Zvcih2YXIgdCxlPVtdLG49MDtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWVbbl09YXJndW1lbnRzW25dO2Zvcih2YXIgcj0wLGk9dGhpcy5fbWFwO2kubWFwcy5sZW5ndGg7KXtmb3IodmFyIG89ITEsYT0wO2E8aS5tYXBzLmxlbmd0aDthKyspe3ZhciBjPWkubWFwc1thXTtpZih0aGlzLl9vcHRpb25zLmlzRXF1YWwoYy52YWx1ZSxlW3JdKSl7aWYoKHQ9aS5tYXBzKS51bnNoaWZ0LmFwcGx5KHQsaS5tYXBzLnNwbGljZShhLDEpKSwoMD09PWUubGVuZ3RofHxyPT09ZS5sZW5ndGgtMSkmJnMoYykpcmV0dXJue2luZGV4OnIsbWFwOmMscGFyZW50TWFwOml9O289ITAsaT1jLHIrKzticmVha319aWYoIW8pYnJlYWt9cmV0dXJue2luZGV4OnIscGFyZW50TWFwOml9fSx0LnByb3RvdHlwZS5fZ2VuZXJhdGVNYXA9ZnVuY3Rpb24odCxlKXt2YXIgbixyPTAsaT10O2Rve249e21hcHM6W10scGFyZW50TWFwOmksdXNlZENvdW50OjEsdmFsdWU6ZVtyXX0saS5tYXBzLnVuc2hpZnQobiksaT1uLHIrK313aGlsZShyPGUubGVuZ3RoKTt2YXIgbz1uO3JldHVybiBvLmNhY2hlS2V5PVwiXCIrICsrdGhpcy5fbGFzdElkLG99LHQucHJvdG90eXBlLl9yZW1vdmVMZWFzdFVzZWRNYXA9ZnVuY3Rpb24odCl7aWYodGhpcy5fb3B0aW9ucy5tYXhTaXplKXt2YXIgZT10aGlzLl91c2VkTWFwcy5pbmRleE9mKHQpO2lmKHRoaXMuX3VzZWRNYXBzLnNwbGljZSgtMT09PWU/MDplLC0xPT09ZT8wOjEsdCksISh0aGlzLl91c2VkTWFwcy5sZW5ndGg8PXRoaXMuX29wdGlvbnMubWF4U2l6ZSkpe3ZhciBuPXRoaXMuX3VzZWRNYXBzLnBvcCgpO24mJih0aGlzLl9yZW1vdmVNYXAobiksdGhpcy5fb3B0aW9ucy5vbkV4cGlyZShuLmNhY2hlS2V5KSl9fX0sdC5wcm90b3R5cGUuX3JlbW92ZU1hcD1mdW5jdGlvbih0KXt0LnBhcmVudE1hcCYmKHQucGFyZW50TWFwLm1hcHMuc3BsaWNlKHQucGFyZW50TWFwLm1hcHMuaW5kZXhPZih0KSwxKSxmdW5jdGlvbih0KXtyZXR1cm4gdC5oYXNPd25Qcm9wZXJ0eShcInBhcmVudE1hcFwiKX0odC5wYXJlbnRNYXApfHx0aGlzLl9yZW1vdmVNYXAodC5wYXJlbnRNYXApKX0sdH0oKTtlLmE9Y30sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9cmVxdWlyZShcIm1lc3NhZ2Vmb3JtYXRcIil9LCwsLCwsLCwsLCwsLCwsLCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSk7dmFyIHI9bigwKSxpPW4oMzUpO2Z1bmN0aW9uIG8odCxlKXt2YXIgbj10LmJvZHkuZXJyb3JzLHI9dm9pZCAwPT09bj9bXTpuO3JldHVybiBuZXcgaS5hKHQse21lc3NhZ2U6YShyKXx8ZSxlcnJvcnM6cn0pfWZ1bmN0aW9uIGEodCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdC5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUmJmUubWVzc2FnZT9PYmplY3Qoci5fX3NwcmVhZEFycmF5cykodCxbZS5tZXNzYWdlXSk6dH0pLFtdKS5qb2luKFwiIFwiKX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDApLGk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyxlLHttZXNzYWdlOlwiVGhlIHJlcXVlc3QgaGFzIHRpbWVkIG91dCBvciBhYm9ydGVkLlwifSl8fHRoaXM7cmV0dXJuIG4ubmFtZT1cIlRpbWVvdXRFcnJvclwiLG4udHlwZT1cInRpbWVvdXRcIixufXJldHVybiBPYmplY3Qoci5fX2V4dGVuZHMpKGUsdCksZX0obigzNSkuYSk7ZS5hPWl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDApLGk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyxlLHttZXNzYWdlOlwiVGhlcmUgaXMgYSBwcm9ibGVtIHByb2Nlc3NpbmcgeW91ciBwYXltZW50LiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLlwifSl8fHRoaXM7cmV0dXJuIG4ubmFtZT1cIlBheW1lbnRNZXRob2RJbnZhbGlkRXJyb3JcIixuLnR5cGU9XCJwYXltZW50X21ldGhvZF9pbnZhbGlkXCIsbn1yZXR1cm4gT2JqZWN0KHIuX19leHRlbmRzKShlLHQpLGV9KG4oMzUpLmEpO2UuYT1pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big3NyksaT1uKDg1KTtlLmE9T2JqZWN0KGkuYSkoci5jcmVhdGVTZWxlY3Rvcil9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcjtuLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxmdW5jdGlvbih0KXt0LlVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0ZWQ9XCJVUERBVEVfU1VCU0NSSVBUSU9OU19SRVFVRVNURURcIix0LlVwZGF0ZVN1YnNjcmlwdGlvbnNTdWNjZWVkZWQ9XCJVUERBVEVfU1VCU0NSSVBUSU9OU19TVUNDRUVERURcIix0LlVwZGF0ZVN1YnNjcmlwdGlvbnNGYWlsZWQ9XCJVUERBVEVfU1VCU0NSSVBUSU9OU19GQUlMRURcIn0ocnx8KHI9e30pKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMCksaT1uKDEpLG89bigzKSxhPW4oOTIpLHM9bigzNyksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fY29uZmlnUmVxdWVzdFNlbmRlcj10fXJldHVybiB0LnByb3RvdHlwZS5sb2FkQ29uZmlnPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIG8uT2JzZXJ2YWJsZS5jcmVhdGUoKGZ1bmN0aW9uKG4pe24ubmV4dChPYmplY3QoaS5jcmVhdGVBY3Rpb24pKHMuYS5Mb2FkQ29uZmlnUmVxdWVzdGVkKSksZS5fY29uZmlnUmVxdWVzdFNlbmRlci5sb2FkQ29uZmlnKHQpLnRoZW4oKGZ1bmN0aW9uKHQpe24ubmV4dChPYmplY3QoaS5jcmVhdGVBY3Rpb24pKHMuYS5Mb2FkQ29uZmlnU3VjY2VlZGVkLHQuYm9keSkpLG4uY29tcGxldGUoKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7bi5lcnJvcihPYmplY3QoaS5jcmVhdGVFcnJvckFjdGlvbikocy5hLkxvYWRDb25maWdGYWlsZWQsdCkpfSkpfSkpfSxPYmplY3Qoci5fX2RlY29yYXRlKShbYS5hXSx0LnByb3RvdHlwZSxcImxvYWRDb25maWdcIixudWxsKSx0fSgpO2UuYT1jfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigzOSksaT1uKDcyKSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9yZXF1ZXN0U2VuZGVyPXR9cmV0dXJuIHQucHJvdG90eXBlLmxvYWRDb25maWc9ZnVuY3Rpb24odCl7dmFyIGU9KHZvaWQgMD09PXQ/e306dCkudGltZW91dDtyZXR1cm4gdGhpcy5fcmVxdWVzdFNlbmRlci5nZXQoXCIvYXBpL3N0b3JlZnJvbnQvY2hlY2tvdXQtc2V0dGluZ3NcIix7dGltZW91dDplLGhlYWRlcnM6e0FjY2VwdDpyLmEuSnNvblYxLFwiWC1BUEktSU5URVJOQUxcIjppLmF9fSl9LHR9KCk7ZS5hPW99LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDM5KSxpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9yZXF1ZXN0U2VuZGVyPXR9cmV0dXJuIHQucHJvdG90eXBlLnVwZGF0ZVN1YnNjcmlwdGlvbnM9ZnVuY3Rpb24odCxlKXt2YXIgbj0odm9pZCAwPT09ZT97fTplKS50aW1lb3V0LGk9e0FjY2VwdDpyLmEuSnNvblYxfTtyZXR1cm4gdGhpcy5fcmVxdWVzdFNlbmRlci5wb3N0KFwiL2FwaS9zdG9yZWZyb250L3N1YnNjcmlwdGlvbnNcIix7Ym9keTp0LGhlYWRlcnM6aSx0aW1lb3V0Om59KX0sdH0oKTtlLmE9aX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMCksaT1uKDEpLG89bigzKSxhPW4oOCkscz1uKDkyKSxjPW4oOTApLHU9bigzOCksZD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fZm9ybUZpZWxkc1JlcXVlc3RTZW5kZXI9dH1yZXR1cm4gdC5wcm90b3R5cGUubG9hZEZvcm1GaWVsZHM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gT2JqZWN0KG8uY29uY2F0KShPYmplY3Qoby5vZikoT2JqZWN0KGkuY3JlYXRlQWN0aW9uKSh1LmEuTG9hZEZvcm1GaWVsZHNSZXF1ZXN0ZWQpKSxPYmplY3Qoby5kZWZlcikoKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChyLl9fYXdhaXRlcikoZSx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlO3JldHVybiBPYmplY3Qoci5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLl9mb3JtRmllbGRzUmVxdWVzdFNlbmRlci5sb2FkRmllbGRzKHQpXTtjYXNlIDE6cmV0dXJuIGU9bi5zZW50KCkuYm9keSxbMixPYmplY3QoaS5jcmVhdGVBY3Rpb24pKHUuYS5Mb2FkRm9ybUZpZWxkc1N1Y2NlZWRlZCxlKV19fSkpfSkpfSkpKS5waXBlKE9iamVjdChhLmNhdGNoRXJyb3IpKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KGMuYSkodS5hLkxvYWRGb3JtRmllbGRzRmFpbGVkLHQpfSkpKX0sT2JqZWN0KHIuX19kZWNvcmF0ZSkoW3MuYV0sdC5wcm90b3R5cGUsXCJsb2FkRm9ybUZpZWxkc1wiLG51bGwpLHR9KCk7ZS5hPWR9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDM5KSxpPW4oNzIpLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3JlcXVlc3RTZW5kZXI9dH1yZXR1cm4gdC5wcm90b3R5cGUubG9hZEZpZWxkcz1mdW5jdGlvbih0KXt2YXIgZT0odm9pZCAwPT09dD97fTp0KS50aW1lb3V0O3JldHVybiB0aGlzLl9yZXF1ZXN0U2VuZGVyLmdldChcIi9hcGkvc3RvcmVmcm9udC9mb3JtLWZpZWxkc1wiLHt0aW1lb3V0OmUsaGVhZGVyczp7QWNjZXB0OnIuYS5Kc29uVjEsXCJYLUFQSS1JTlRFUk5BTFwiOmkuYX19KX0sdH0oKTtlLmE9b30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMCksaT1uKDM5KSxvPXtpbmNsdWRlOltcImNhcnQubGluZUl0ZW1zLnBoeXNpY2FsSXRlbXMub3B0aW9uc1wiLFwiY2FydC5saW5lSXRlbXMuZGlnaXRhbEl0ZW1zLm9wdGlvbnNcIixcImN1c3RvbWVyXCIsXCJwcm9tb3Rpb25zLmJhbm5lcnNcIl0uam9pbihcIixcIil9LGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3JlcXVlc3RTZW5kZXI9dH1yZXR1cm4gdC5wcm90b3R5cGUuY3JlYXRlQWRkcmVzcz1mdW5jdGlvbih0LGUsbil7dmFyIHI9KHZvaWQgMD09PW4/e306bikudGltZW91dCxhPVwiL2FwaS9zdG9yZWZyb250L2NoZWNrb3V0cy9cIit0K1wiL2JpbGxpbmctYWRkcmVzc1wiLHM9e0FjY2VwdDppLmEuSnNvblYxfTtyZXR1cm4gdGhpcy5fcmVxdWVzdFNlbmRlci5wb3N0KGEse2JvZHk6ZSxwYXJhbXM6byxoZWFkZXJzOnMsdGltZW91dDpyfSl9LHQucHJvdG90eXBlLnVwZGF0ZUFkZHJlc3M9ZnVuY3Rpb24odCxlLG4pe3ZhciBhPSh2b2lkIDA9PT1uP3t9Om4pLnRpbWVvdXQscz1lLmlkLGM9T2JqZWN0KHIuX19yZXN0KShlLFtcImlkXCJdKSx1PVwiL2FwaS9zdG9yZWZyb250L2NoZWNrb3V0cy9cIit0K1wiL2JpbGxpbmctYWRkcmVzcy9cIitzLGQ9e0FjY2VwdDppLmEuSnNvblYxfTtyZXR1cm4gdGhpcy5fcmVxdWVzdFNlbmRlci5wdXQodSx7cGFyYW1zOm8sYm9keTpjLGhlYWRlcnM6ZCx0aW1lb3V0OmF9KX0sdH0oKTtlLmE9YX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMCksaT1uKDUyKSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9mYWN0b3JpZXM9e30sdGhpcy5faW5zdGFuY2VzPXt9LHRoaXMuX29wdGlvbnM9T2JqZWN0KHIuX19hc3NpZ24pKHtkZWZhdWx0VG9rZW46XCJkZWZhdWx0XCJ9LHQpfXJldHVybiB0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCxlKXt0cnl7cmV0dXJuIHRoaXMuX2dldEluc3RhbmNlKHR8fHRoaXMuX29wdGlvbnMuZGVmYXVsdFRva2VuLGV8fHR8fHRoaXMuX29wdGlvbnMuZGVmYXVsdFRva2VuKX1jYXRjaCh0KXtyZXR1cm4gdGhpcy5fZ2V0SW5zdGFuY2UodGhpcy5fb3B0aW9ucy5kZWZhdWx0VG9rZW4sZXx8dGhpcy5fb3B0aW9ucy5kZWZhdWx0VG9rZW4pfX0sdC5wcm90b3R5cGUucmVnaXN0ZXI9ZnVuY3Rpb24odCxlKXtpZih0aGlzLl9oYXNGYWN0b3J5KHQpKXRocm93IG5ldyBpLmEoXCInXCIrdCtcIicgaXMgYWxyZWFkeSByZWdpc3RlcmVkLlwiKTt0aGlzLl9mYWN0b3JpZXNbdF09ZX0sdC5wcm90b3R5cGUuX2hhc0ZhY3Rvcnk9ZnVuY3Rpb24odCl7cmV0dXJuISF0aGlzLl9mYWN0b3JpZXNbdF19LHQucHJvdG90eXBlLl9oYXNJbnN0YW5jZT1mdW5jdGlvbih0KXtyZXR1cm4hIXRoaXMuX2luc3RhbmNlc1t0XX0sdC5wcm90b3R5cGUuX2dldEluc3RhbmNlPWZ1bmN0aW9uKHQsZSl7aWYoIXRoaXMuX2hhc0luc3RhbmNlKGUpKXt2YXIgbj10aGlzLl9mYWN0b3JpZXNbdF07aWYoIW4pdGhyb3cgbmV3IGkuYShcIidcIit0K1wiJyBpcyBub3QgcmVnaXN0ZXJlZC5cIik7dGhpcy5faW5zdGFuY2VzW2VdPW4oKX1yZXR1cm4gdGhpcy5faW5zdGFuY2VzW2VdfSx0fSgpO2UuYT1vfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigwKSxpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMsZXx8XCJOb3QgaW1wbGVtZW50ZWQuXCIpfHx0aGlzO3JldHVybiBuLm5hbWU9XCJOb3RJbXBsZW1lbnRlZEVycm9yXCIsbi50eXBlPVwibm90X2ltcGxlbWVudGVkXCIsbn1yZXR1cm4gT2JqZWN0KHIuX19leHRlbmRzKShlLHQpLGV9KG4oMjIpLmEpO2UuYT1pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigwKSxpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMsXCJVbmFibGUgdG8gc3luY2hyb25pemUgeW91ciBjaGVja291dCBkZXRhaWxzIHdpdGggYSB0aGlyZCBwYXJ0eSBwcm92aWRlci4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci5cIil8fHRoaXM7cmV0dXJuIG4uZXJyb3I9ZSxuLm5hbWU9XCJSZW1vdGVDaGVja291dFN5bmNocm9uaXphdGlvbkVycm9yXCIsbi50eXBlPVwicmVtb3RlX2NoZWNrb3V0X3N5bmNocm9uaXphdGlvblwiLG59cmV0dXJuIE9iamVjdChyLl9fZXh0ZW5kcykoZSx0KSxlfShuKDIyKS5hKTtlLmE9aX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMiksaT1uKDI5KSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9nZXRHb29nbGVQYXlQYXltZW50RGF0YVJlcXVlc3QodCxlLG4pKX0sdC5wcm90b3R5cGUudGVhcmRvd249ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCl9LHQucHJvdG90eXBlLnBhcnNlUmVzcG9uc2U9ZnVuY3Rpb24odCl7dmFyIGU9dC5wYXltZW50TWV0aG9kRGF0YSxuPWUudHlwZSxyPWUudG9rZW5pemF0aW9uRGF0YS50b2tlbixpPWUuaW5mbyxvPWkuY2FyZE5ldHdvcmssYT1pLmNhcmREZXRhaWxzO3JldHVybiBQcm9taXNlLnJlc29sdmUoe3R5cGU6bixub25jZTpyLGRldGFpbHM6e2NhcmRUeXBlOm8sbGFzdEZvdXI6YX19KX0sdC5wcm90b3R5cGUuX2dldEdvb2dsZVBheVBheW1lbnREYXRhUmVxdWVzdD1mdW5jdGlvbih0LGUsbil7dmFyIG89dC5vdXRzdGFuZGluZ0JhbGFuY2UsYT10LmNhcnQuY3VycmVuY3kuY29kZSxzPWUuaW5pdGlhbGl6YXRpb25EYXRhLGM9cy5nYXRld2F5TWVyY2hhbnRJZCx1PXMuc3RvcmVDb3VudHJ5LGQ9cy5nb29nbGVNZXJjaGFudE5hbWUscD1zLmdvb2dsZU1lcmNoYW50SWQ7cmV0dXJue2FwaVZlcnNpb246MixhcGlWZXJzaW9uTWlub3I6MCxtZXJjaGFudEluZm86e2F1dGhKd3Q6cy5wbGF0Zm9ybVRva2VuLG1lcmNoYW50SWQ6cCxtZXJjaGFudE5hbWU6ZH0sYWxsb3dlZFBheW1lbnRNZXRob2RzOlt7dHlwZTpcIkNBUkRcIixwYXJhbWV0ZXJzOnthbGxvd2VkQXV0aE1ldGhvZHM6W1wiUEFOX09OTFlcIixcIkNSWVBUT0dSQU1fM0RTXCJdLGFsbG93ZWRDYXJkTmV0d29ya3M6ZS5zdXBwb3J0ZWRDYXJkcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVyblwiTUNcIj09PXQ/XCJNQVNURVJDQVJEXCI6dH0pKSxiaWxsaW5nQWRkcmVzc1JlcXVpcmVkOiEwLGJpbGxpbmdBZGRyZXNzUGFyYW1ldGVyczp7Zm9ybWF0OmkuYS5GdWxsLHBob25lTnVtYmVyUmVxdWlyZWQ6ITB9fSx0b2tlbml6YXRpb25TcGVjaWZpY2F0aW9uOnt0eXBlOlwiUEFZTUVOVF9HQVRFV0FZXCIscGFyYW1ldGVyczp7Z2F0ZXdheTpcImFkeWVuXCIsZ2F0ZXdheU1lcmNoYW50SWQ6Y319fV0sdHJhbnNhY3Rpb25JbmZvOntjb3VudHJ5Q29kZTp1LGN1cnJlbmN5Q29kZTphLHRvdGFsUHJpY2VTdGF0dXM6XCJGSU5BTFwiLHRvdGFsUHJpY2U6T2JqZWN0KHIucm91bmQpKG8sMikudG9GaXhlZCgyKX0sZW1haWxSZXF1aXJlZDohMCxzaGlwcGluZ0FkZHJlc3NSZXF1aXJlZDohbixzaGlwcGluZ0FkZHJlc3NQYXJhbWV0ZXJzOntwaG9uZU51bWJlclJlcXVpcmVkOiEwfX19LHR9KCk7ZS5hPW99LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDQ1KSxpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZvaWQgMD09PWUmJihlPXdpbmRvdyksdGhpcy5fc2NyaXB0TG9hZGVyPXQsdGhpcy5fd2luZG93PWV9cmV0dXJuIHQucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5fc2NyaXB0TG9hZGVyLmxvYWRTY3JpcHQoXCIvL1wiKyh0P1wic2FuZGJveC5cIjpcIlwiKStcIm1hc3RlcnBhc3MuY29tL2ludGVncmF0aW9uL21lcmNoYW50LmpzXCIpLnRoZW4oKGZ1bmN0aW9uKCl7aWYoIWUuX3dpbmRvdy5tYXN0ZXJwYXNzKXRocm93IG5ldyByLmE7cmV0dXJuIGUuX3dpbmRvdy5tYXN0ZXJwYXNzfSkpfSx0fSgpO2UuYT1pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigwKSxpPW4oMiksbz1uKDI5KSxhPXthcGlWZXJzaW9uOjIsYXBpVmVyc2lvbk1pbm9yOjB9LHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2dldEdvb2dsZVBheW1lbnREYXRhUmVxdWVzdCh0LGUsbikpfSx0LnByb3RvdHlwZS50ZWFyZG93bj1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0sdC5wcm90b3R5cGUucGFyc2VSZXNwb25zZT1mdW5jdGlvbih0KXt2YXIgZT10LnBheW1lbnRNZXRob2REYXRhLG49ZS50eXBlLHI9ZS50b2tlbml6YXRpb25EYXRhLnRva2VuLGk9ZS5pbmZvLG89aS5jYXJkTmV0d29yayxhPWkuY2FyZERldGFpbHM7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh7dHlwZTpuLG5vbmNlOmJ0b2EociksZGV0YWlsczp7Y2FyZFR5cGU6byxsYXN0Rm91cjphfX0pfSx0LnByb3RvdHlwZS5fZ2V0R29vZ2xlUGF5bWVudERhdGFSZXF1ZXN0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10Lm91dHN0YW5kaW5nQmFsYW5jZSxzPXQuY2FydC5jdXJyZW5jeS5jb2RlLGM9ZS5pbml0aWFsaXphdGlvbkRhdGEsdT1jLnBheW1lbnRHYXRld2F5SWQsZD1jLnN0b3JlQ291bnRyeSxwPWMuZ29vZ2xlTWVyY2hhbnROYW1lLGg9Yy5nb29nbGVNZXJjaGFudElkLGw9Yy5wbGF0Zm9ybVRva2VuLG09ZS5zdXBwb3J0ZWRDYXJkcyxmPXRoaXMuX2dldFBheW1lbnRHYXRld2F5U3BlY2lmaWNhdGlvbih1KSxfPXRoaXMuX2dldENhcmRQYXltZW50TWV0aG9kKGYsbSk7cmV0dXJuIE9iamVjdChyLl9fYXNzaWduKShPYmplY3Qoci5fX2Fzc2lnbikoe30sYSkse2FsbG93ZWRQYXltZW50TWV0aG9kczpbX10sdHJhbnNhY3Rpb25JbmZvOnt0b3RhbFByaWNlU3RhdHVzOlwiRklOQUxcIix0b3RhbFByaWNlOk9iamVjdChpLnJvdW5kKShvLDIpLnRvRml4ZWQoMiksY3VycmVuY3lDb2RlOnMsY291bnRyeUNvZGU6ZH0sbWVyY2hhbnRJbmZvOnttZXJjaGFudE5hbWU6cCxtZXJjaGFudElkOmgsYXV0aEp3dDpsfSxlbWFpbFJlcXVpcmVkOiEwLHNoaXBwaW5nQWRkcmVzc1JlcXVpcmVkOiFuLHNoaXBwaW5nQWRkcmVzc1BhcmFtZXRlcnM6e3Bob25lTnVtYmVyUmVxdWlyZWQ6ITB9fSl9LHQucHJvdG90eXBlLl9nZXRQYXltZW50R2F0ZXdheVNwZWNpZmljYXRpb249ZnVuY3Rpb24odCl7cmV0dXJue3R5cGU6XCJQQVlNRU5UX0dBVEVXQVlcIixwYXJhbWV0ZXJzOntnYXRld2F5OlwiYXV0aG9yaXplbmV0XCIsZ2F0ZXdheU1lcmNoYW50SWQ6dH19fSx0LnByb3RvdHlwZS5fZ2V0Q2FyZFBheW1lbnRNZXRob2Q9ZnVuY3Rpb24odCxlKXtyZXR1cm57dHlwZTpcIkNBUkRcIixwYXJhbWV0ZXJzOnthbGxvd2VkQXV0aE1ldGhvZHM6W1wiUEFOX09OTFlcIixcIkNSWVBUT0dSQU1fM0RTXCJdLGFsbG93ZWRDYXJkTmV0d29ya3M6ZS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVyblwiTUNcIj09PXQ/XCJNQVNURVJDQVJEXCI6dH0pKSxiaWxsaW5nQWRkcmVzc1JlcXVpcmVkOiEwLGJpbGxpbmdBZGRyZXNzUGFyYW1ldGVyczp7Zm9ybWF0Om8uYS5GdWxsLHBob25lTnVtYmVyUmVxdWlyZWQ6ITB9fSx0b2tlbml6YXRpb25TcGVjaWZpY2F0aW9uOnR9fSx0fSgpO2UuYT1zfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigyKSxpPW4oMTIpLG89bigyOSksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fYnJhaW50cmVlU0RLQ3JlYXRvcj10fXJldHVybiB0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzO2lmKCFlLmNsaWVudFRva2VuKXRocm93IG5ldyBpLmIoaS5hLk1pc3NpbmdQYXltZW50TWV0aG9kKTtyZXR1cm4gdGhpcy5fYnJhaW50cmVlU0RLQ3JlYXRvci5pbml0aWFsaXplKGUuY2xpZW50VG9rZW4pLHRoaXMuX2JyYWludHJlZVNES0NyZWF0b3IuZ2V0R29vZ2xlUGF5bWVudENvbXBvbmVudCgpLnRoZW4oKGZ1bmN0aW9uKGkpe3JldHVybiByLl9nb29nbGVQYXltZW50SW5zdGFuY2U9aSxyLl9jcmVhdGVHb29nbGVQYXlQYXlsb2FkKHQsZS5pbml0aWFsaXphdGlvbkRhdGEsbil9KSl9LHQucHJvdG90eXBlLnRlYXJkb3duPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JyYWludHJlZVNES0NyZWF0b3IudGVhcmRvd24oKX0sdC5wcm90b3R5cGUucGFyc2VSZXNwb25zZT1mdW5jdGlvbih0KXt2YXIgZT1KU09OLnBhcnNlKHQucGF5bWVudE1ldGhvZERhdGEudG9rZW5pemF0aW9uRGF0YS50b2tlbikuYW5kcm9pZFBheUNhcmRzWzBdO3JldHVybiBQcm9taXNlLnJlc29sdmUoe25vbmNlOmUubm9uY2UsdHlwZTplLnR5cGUsZGVzY3JpcHRpb246ZS5kZXNjcmlwdGlvbixkZXRhaWxzOntjYXJkVHlwZTplLmRldGFpbHMuY2FyZFR5cGUsbGFzdEZvdXI6ZS5kZXRhaWxzLmxhc3RGb3VyLGxhc3RUd286ZS5kZXRhaWxzLmxhc3RUd299LGJpbkRhdGE6ZS5iaW5EYXRhfSl9LHQucHJvdG90eXBlLl9jcmVhdGVHb29nbGVQYXlQYXlsb2FkPWZ1bmN0aW9uKHQsZSxuKXtpZighZS5wbGF0Zm9ybVRva2VuKXRocm93IG5ldyBpLmIoaS5hLk1pc3NpbmdQYXltZW50TWV0aG9kKTt2YXIgbz17bWVyY2hhbnRJbmZvOnthdXRoSnd0OmUucGxhdGZvcm1Ub2tlbixtZXJjaGFudE5hbWU6ZS5nb29nbGVNZXJjaGFudE5hbWUsbWVyY2hhbnRJZDplLmdvb2dsZU1lcmNoYW50SWR9LHRyYW5zYWN0aW9uSW5mbzp7Y3VycmVuY3lDb2RlOnQuY2FydC5jdXJyZW5jeS5jb2RlLHRvdGFsUHJpY2VTdGF0dXM6XCJGSU5BTFwiLHRvdGFsUHJpY2U6T2JqZWN0KHIucm91bmQpKHQub3V0c3RhbmRpbmdCYWxhbmNlLDIpLnRvRml4ZWQoMil9LGNhcmRSZXF1aXJlbWVudHM6e2JpbGxpbmdBZGRyZXNzUmVxdWlyZWQ6ITAsYmlsbGluZ0FkZHJlc3NGb3JtYXQ6XCJGVUxMXCJ9LHNoaXBwaW5nQWRkcmVzc1JlcXVpcmVkOiFuLGVtYWlsUmVxdWlyZWQ6ITAscGhvbmVOdW1iZXJSZXF1aXJlZDohMH07cmV0dXJuIHRoaXMuX21hcEdvb2dsZVBheUJyYWludHJlZURhdGFSZXF1ZXN0VG9Hb29nbGVQYXlEYXRhUmVxdWVzdFYyKHRoaXMuX2dvb2dsZVBheW1lbnRJbnN0YW5jZS5jcmVhdGVQYXltZW50RGF0YVJlcXVlc3QobykpfSx0LnByb3RvdHlwZS5fbWFwR29vZ2xlUGF5QnJhaW50cmVlRGF0YVJlcXVlc3RUb0dvb2dsZVBheURhdGFSZXF1ZXN0VjI9ZnVuY3Rpb24odCl7cmV0dXJue2FwaVZlcnNpb246MixhcGlWZXJzaW9uTWlub3I6MCxtZXJjaGFudEluZm86e2F1dGhKd3Q6dC5tZXJjaGFudEluZm8uYXV0aEp3dCxtZXJjaGFudElkOnQubWVyY2hhbnRJbmZvLm1lcmNoYW50SWQsbWVyY2hhbnROYW1lOnQubWVyY2hhbnRJbmZvLm1lcmNoYW50TmFtZX0sYWxsb3dlZFBheW1lbnRNZXRob2RzOlt7dHlwZTpcIkNBUkRcIixwYXJhbWV0ZXJzOnthbGxvd2VkQXV0aE1ldGhvZHM6W1wiUEFOX09OTFlcIixcIkNSWVBUT0dSQU1fM0RTXCJdLGFsbG93ZWRDYXJkTmV0d29ya3M6dC5jYXJkUmVxdWlyZW1lbnRzLmFsbG93ZWRDYXJkTmV0d29ya3MsYmlsbGluZ0FkZHJlc3NSZXF1aXJlZDohMCxiaWxsaW5nQWRkcmVzc1BhcmFtZXRlcnM6e2Zvcm1hdDpvLmEuRnVsbCxwaG9uZU51bWJlclJlcXVpcmVkOiEwfX0sdG9rZW5pemF0aW9uU3BlY2lmaWNhdGlvbjp7dHlwZTpcIlBBWU1FTlRfR0FURVdBWVwiLHBhcmFtZXRlcnM6e2dhdGV3YXk6XCJicmFpbnRyZWVcIixcImJyYWludHJlZTphcGlWZXJzaW9uXCI6XCJ2MVwiLFwiYnJhaW50cmVlOmF1dGhvcml6YXRpb25GaW5nZXJwcmludFwiOnQucGF5bWVudE1ldGhvZFRva2VuaXphdGlvblBhcmFtZXRlcnMucGFyYW1ldGVyc1tcImJyYWludHJlZTphdXRob3JpemF0aW9uRmluZ2VycHJpbnRcIl0sXCJicmFpbnRyZWU6bWVyY2hhbnRJZFwiOnQucGF5bWVudE1ldGhvZFRva2VuaXphdGlvblBhcmFtZXRlcnMucGFyYW1ldGVyc1tcImJyYWludHJlZTptZXJjaGFudElkXCJdLFwiYnJhaW50cmVlOnNka1ZlcnNpb25cIjp0LnBheW1lbnRNZXRob2RUb2tlbml6YXRpb25QYXJhbWV0ZXJzLnBhcmFtZXRlcnNbXCJicmFpbnRyZWU6c2RrVmVyc2lvblwiXX19fV0sdHJhbnNhY3Rpb25JbmZvOnQudHJhbnNhY3Rpb25JbmZvLGVtYWlsUmVxdWlyZWQ6ITAsc2hpcHBpbmdBZGRyZXNzUmVxdWlyZWQ6dC5zaGlwcGluZ0FkZHJlc3NSZXF1aXJlZCxzaGlwcGluZ0FkZHJlc3NQYXJhbWV0ZXJzOntwaG9uZU51bWJlclJlcXVpcmVkOnQucGhvbmVOdW1iZXJSZXF1aXJlZH19fSx0fSgpO2UuYT1hfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigwKSxpPW4oMiksbz1uKDUyKSxhPW4oMzkpLHM9big5MSksYz1uKDI5KSx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9yZXF1ZXN0U2VuZGVyPXQsdGhpcy5fcHVibGlzaGFibGVLZXk9XCJcIix0aGlzLl90ZXN0TW9kZT0hMH1yZXR1cm4gdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIE9iamVjdChyLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBPYmplY3Qoci5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24ocil7cmV0dXJuIHRoaXMuX3B1Ymxpc2hhYmxlS2V5PWUuaW5pdGlhbGl6YXRpb25EYXRhLmNoZWNrb3V0Y29ta2V5LHRoaXMuX3Rlc3RNb2RlPSEhZS5jb25maWcudGVzdE1vZGUsWzIsdGhpcy5fbWFwR29vZ2xlUGF5Q2hlY2tvdXRjb21EYXRhUmVxdWVzdFRvR29vZ2xlUGF5RGF0YVJlcXVlc3RWMih0LGUuaW5pdGlhbGl6YXRpb25EYXRhLG4pXX0pKX0pKX0sdC5wcm90b3R5cGUudGVhcmRvd249ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCl9LHQucHJvdG90eXBlLnBhcnNlUmVzcG9uc2U9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChyLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlO3JldHVybiBPYmplY3Qoci5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDp0cnl7ZT1KU09OLnBhcnNlKHQucGF5bWVudE1ldGhvZERhdGEudG9rZW5pemF0aW9uRGF0YS50b2tlbil9Y2F0Y2godCl7dGhyb3cgbmV3IG8uYShcIlVuYWJsZSB0byBwYXJzZSByZXNwb25zZSBmcm9tIEdvb2dsZSBQYXkuXCIpfWlmKCFlLnNpZ25hdHVyZXx8IWUucHJvdG9jb2xWZXJzaW9ufHwhZS5zaWduZWRNZXNzYWdlKXRocm93IG5ldyBzLmEoXCJVbmFibGUgdG8gcGFyc2UgcmVzcG9uc2UgZnJvbSBHb29nbGUgUGF5LlwiKTtyZXR1cm5bNCx0aGlzLl9jb252ZXJ0VG9rZW4odGhpcy5fdGVzdE1vZGUsdGhpcy5fcHVibGlzaGFibGVLZXksZSldO2Nhc2UgMTpyZXR1cm5bMix7bm9uY2U6bi5zZW50KCksdHlwZTpcIkNyZWRpdENhcmRcIixkZXNjcmlwdGlvbjp0LnBheW1lbnRNZXRob2REYXRhLmRlc2NyaXB0aW9uLGRldGFpbHM6e2NhcmRUeXBlOnQucGF5bWVudE1ldGhvZERhdGEuaW5mby5jYXJkTmV0d29yayxsYXN0Rm91cjp0LnBheW1lbnRNZXRob2REYXRhLmluZm8uY2FyZERldGFpbHN9fV19fSkpfSkpfSx0LnByb3RvdHlwZS5fY29udmVydFRva2VuPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gT2JqZWN0KHIuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGk7cmV0dXJuIE9iamVjdChyLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOmlmKCFufHwhbi5wcm90b2NvbFZlcnNpb24pdGhyb3cgbmV3IHMuYShcIlVuYWJsZSB0byBwYXJzZSByZXNwb25zZSBmcm9tIEdvb2dsZVBheS5cIik7cmV0dXJuWzQsdGhpcy5fcmVxdWVzdENoZWNrb3V0Y29tVG9rZW5pemUodCxlLHt0eXBlOlwiZ29vZ2xlcGF5XCIsdG9rZW5fZGF0YTpufSldO2Nhc2UgMTppZighKGk9ci5zZW50KCkpfHwhaS50b2tlbil0aHJvdyBuZXcgcy5hKFwiVW5hYmxlIHRvIHBhcnNlIHJlc3BvbnNlIGZyb20gQ2hlY2tvdXQuY29tXCIpO3JldHVyblsyLGkudG9rZW5dfX0pKX0pKX0sdC5wcm90b3R5cGUuX3JlcXVlc3RDaGVja291dGNvbVRva2VuaXplPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49e30pLE9iamVjdChyLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBpO3JldHVybiBPYmplY3Qoci5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpyZXR1cm5cImh0dHBzOi8vYXBpLnNhbmRib3guY2hlY2tvdXQuY29tL3Rva2Vuc1wiLFwiaHR0cHM6Ly9hcGkuY2hlY2tvdXQuY29tL3Rva2Vuc1wiLGk9dD9cImh0dHBzOi8vYXBpLnNhbmRib3guY2hlY2tvdXQuY29tL3Rva2Vuc1wiOlwiaHR0cHM6Ly9hcGkuY2hlY2tvdXQuY29tL3Rva2Vuc1wiLFs0LHRoaXMuX3JlcXVlc3RTZW5kZXIucG9zdChpLHtjcmVkZW50aWFsczohMSxib2R5Om4saGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjphLmEuSnNvbixBdXRob3JpemF0aW9uOmUsXCJYLVhTUkYtVE9LRU5cIjpudWxsfX0pXTtjYXNlIDE6cmV0dXJuWzIsci5zZW50KCkuYm9keV19fSkpfSkpfSx0LnByb3RvdHlwZS5fbWFwR29vZ2xlUGF5Q2hlY2tvdXRjb21EYXRhUmVxdWVzdFRvR29vZ2xlUGF5RGF0YVJlcXVlc3RWMj1mdW5jdGlvbih0LGUsbil7cmV0dXJue2FwaVZlcnNpb246MixhcGlWZXJzaW9uTWlub3I6MCxtZXJjaGFudEluZm86e2F1dGhKd3Q6ZS5wbGF0Zm9ybVRva2VuLG1lcmNoYW50SWQ6ZS5nb29nbGVNZXJjaGFudElkLG1lcmNoYW50TmFtZTplLmdvb2dsZU1lcmNoYW50TmFtZX0sYWxsb3dlZFBheW1lbnRNZXRob2RzOlt7dHlwZTpcIkNBUkRcIixwYXJhbWV0ZXJzOnthbGxvd2VkQXV0aE1ldGhvZHM6W1wiUEFOX09OTFlcIixcIkNSWVBUT0dSQU1fM0RTXCJdLGFsbG93ZWRDYXJkTmV0d29ya3M6W1wiQU1FWFwiLFwiRElTQ09WRVJcIixcIkpDQlwiLFwiTUFTVEVSQ0FSRFwiLFwiVklTQVwiXSxiaWxsaW5nQWRkcmVzc1JlcXVpcmVkOiEwLGJpbGxpbmdBZGRyZXNzUGFyYW1ldGVyczp7Zm9ybWF0OmMuYS5GdWxsLHBob25lTnVtYmVyUmVxdWlyZWQ6ITB9fSx0b2tlbml6YXRpb25TcGVjaWZpY2F0aW9uOnt0eXBlOlwiUEFZTUVOVF9HQVRFV0FZXCIscGFyYW1ldGVyczp7Z2F0ZXdheTpcImNoZWNrb3V0bHRkXCIsZ2F0ZXdheU1lcmNoYW50SWQ6ZS5jaGVja291dGNvbWtleX19fV0sdHJhbnNhY3Rpb25JbmZvOntjdXJyZW5jeUNvZGU6dC5jYXJ0LmN1cnJlbmN5LmNvZGUsdG90YWxQcmljZVN0YXR1czpcIkZJTkFMXCIsdG90YWxQcmljZTpPYmplY3QoaS5yb3VuZCkodC5vdXRzdGFuZGluZ0JhbGFuY2UsMikudG9GaXhlZCgyKX0sZW1haWxSZXF1aXJlZDohMCxzaGlwcGluZ0FkZHJlc3NSZXF1aXJlZDohbixzaGlwcGluZ0FkZHJlc3NQYXJhbWV0ZXJzOntwaG9uZU51bWJlclJlcXVpcmVkOiEwfX19LHR9KCk7ZS5hPXV9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDIpLGk9big1Miksbz1uKDI5KSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9nZXRHb29nbGVQYXlQYXltZW50RGF0YVJlcXVlc3QodCxlLG4pKX0sdC5wcm90b3R5cGUudGVhcmRvd249ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCl9LHQucHJvdG90eXBlLnBhcnNlUmVzcG9uc2U9ZnVuY3Rpb24odCl7dHJ5e3ZhciBlPUpTT04ucGFyc2UodC5wYXltZW50TWV0aG9kRGF0YS50b2tlbml6YXRpb25EYXRhLnRva2VuKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtub25jZTplLmlkLHR5cGU6ZS50eXBlLGRldGFpbHM6e2NhcmRUeXBlOmUuY2FyZC5icmFuZCxsYXN0Rm91cjplLmNhcmQubGFzdDR9fSl9Y2F0Y2godCl7dGhyb3cgbmV3IGkuYShcIlVuYWJsZSB0byBwYXJzZSByZXNwb25zZSBmcm9tIEdvb2dsZSBQYXkuXCIpfX0sdC5wcm90b3R5cGUuX2dldEdvb2dsZVBheVBheW1lbnREYXRhUmVxdWVzdD1mdW5jdGlvbih0LGUsbil7dmFyIGk9dC5vdXRzdGFuZGluZ0JhbGFuY2UsYT10LmNhcnQuY3VycmVuY3kuY29kZSxzPWUuaW5pdGlhbGl6YXRpb25EYXRhLGM9cy5nb29nbGVNZXJjaGFudE5hbWUsdT1zLmdvb2dsZU1lcmNoYW50SWQsZD1zLnBsYXRmb3JtVG9rZW4scD1zLnN0cmlwZVZlcnNpb24saD1zLnN0cmlwZVB1Ymxpc2hhYmxlS2V5LGw9cy5zdHJpcGVDb25uZWN0ZWRBY2NvdW50O3JldHVybnthcGlWZXJzaW9uOjIsYXBpVmVyc2lvbk1pbm9yOjAsbWVyY2hhbnRJbmZvOnthdXRoSnd0OmQsbWVyY2hhbnRJZDp1LG1lcmNoYW50TmFtZTpjfSxhbGxvd2VkUGF5bWVudE1ldGhvZHM6W3t0eXBlOlwiQ0FSRFwiLHBhcmFtZXRlcnM6e2FsbG93ZWRBdXRoTWV0aG9kczpbXCJQQU5fT05MWVwiLFwiQ1JZUFRPR1JBTV8zRFNcIl0sYWxsb3dlZENhcmROZXR3b3JrczplLnN1cHBvcnRlZENhcmRzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuXCJNQ1wiPT09dD9cIk1BU1RFUkNBUkRcIjp0fSkpLGJpbGxpbmdBZGRyZXNzUmVxdWlyZWQ6ITAsYmlsbGluZ0FkZHJlc3NQYXJhbWV0ZXJzOntmb3JtYXQ6by5hLkZ1bGwscGhvbmVOdW1iZXJSZXF1aXJlZDohMH19LHRva2VuaXphdGlvblNwZWNpZmljYXRpb246e3R5cGU6XCJQQVlNRU5UX0dBVEVXQVlcIixwYXJhbWV0ZXJzOntnYXRld2F5Olwic3RyaXBlXCIsXCJzdHJpcGU6dmVyc2lvblwiOnAsXCJzdHJpcGU6cHVibGlzaGFibGVLZXlcIjpoK1wiL1wiK2x9fX1dLHRyYW5zYWN0aW9uSW5mbzp7Y3VycmVuY3lDb2RlOmEsdG90YWxQcmljZVN0YXR1czpcIkZJTkFMXCIsdG90YWxQcmljZTpPYmplY3Qoci5yb3VuZCkoaSwyKS50b0ZpeGVkKDIpfSxlbWFpbFJlcXVpcmVkOiEwLHNoaXBwaW5nQWRkcmVzc1JlcXVpcmVkOiFuLHNoaXBwaW5nQWRkcmVzc1BhcmFtZXRlcnM6e3Bob25lTnVtYmVyUmVxdWlyZWQ6ITB9fX0sdH0oKTtlLmE9YX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMCksaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzLGV8fFwiVW5hYmxlIHRvIHByb2NlZWQgZHVlIHRvIGludmFsaWQgY29uZmlndXJhdGlvbiBwcm92aWRlZCBmb3IgdGhlIGhvc3RlZCBwYXltZW50IGZvcm0uXCIpfHx0aGlzO3JldHVybiBuLm5hbWU9XCJJbnZhbGlkSG9zdGVkRm9ybUNvbmZpZ0Vycm9yXCIsbi50eXBlPVwiaW52YWxpZF9ob3N0ZWRfZm9ybV9jb25maWdcIixufXJldHVybiBPYmplY3Qoci5fX2V4dGVuZHMpKGUsdCksZX0obigyMikuYSk7ZS5hPWl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDApLGk9bigyKSxvPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMsT2JqZWN0KHIuX19zcHJlYWRBcnJheXMpKFtcIlVuYWJsZSB0byBwcm9jZWVkIGR1ZSB0byBpbnZhbGlkIHVzZXIgaW5wdXQgdmFsdWVzXCJdLE9iamVjdChpLmZsYXRNYXApKE9iamVjdChpLnZhbHVlcykoZSksKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoaS5tYXApKHQsKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm1lc3NhZ2V9KSl9KSkpLmpvaW4oXCIuIFwiKSl8fHRoaXM7cmV0dXJuIG4uZXJyb3JzPWUsbi5uYW1lPVwiSW52YWxpZEhvc3RlZEZvcm1WYWx1ZUVycm9yXCIsbi50eXBlPVwiaW52YWxpZF9ob3N0ZWRfZm9ybV92YWx1ZVwiLG59cmV0dXJuIE9iamVjdChyLl9fZXh0ZW5kcykoZSx0KSxlfShuKDIyKS5hKTtlLmE9b30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMCksaT1uKDQ1KSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9zY3JpcHRMb2FkZXI9dCx0aGlzLl93aW5kb3c9d2luZG93fXJldHVybiB0LnByb3RvdHlwZS5sb2FkUGF5cGFsPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD1cIlwiKSxPYmplY3Qoci5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSxuO3JldHVybiBPYmplY3Qoci5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZT1cIi8vd3d3LnBheXBhbG9iamVjdHMuY29tL2FwaS9jaGVja291dC5taW4uanNcIixuPXthc3luYzohMCxhdHRyaWJ1dGVzOntcImRhdGEtbWVyY2hhbnQtaWRcIjp0fX0sdD9bNCx0aGlzLl9zY3JpcHRMb2FkZXIubG9hZFNjcmlwdChlLG4pXTpbMywyXTtjYXNlIDE6cmV0dXJuIHIuc2VudCgpLFszLDRdO2Nhc2UgMjpyZXR1cm5bNCx0aGlzLl9zY3JpcHRMb2FkZXIubG9hZFNjcmlwdChlKV07Y2FzZSAzOnIuc2VudCgpLHIubGFiZWw9NDtjYXNlIDQ6aWYoIXRoaXMuX3dpbmRvdy5wYXlwYWwpdGhyb3cgbmV3IGkuYTtyZXR1cm5bMix0aGlzLl93aW5kb3cucGF5cGFsXX19KSl9KSl9LHR9KCk7ZS5hPW99LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSl7cmV0dXJuKDAsbigxMjYpLmlmcmFtZVJlc2l6ZXIpKHQsZSl9ZnVuY3Rpb24gaSgpe24oMTI3KX1uLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxuLmQoZSxcImJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKX0sLCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bi5yKGUpO3ZhciByPW4oNDYpLGk9bigzMSksbz1uKDIwMSksYT1uKDE3OCkscz1uKDg2KSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuY2xlYXJFcnJvcj1mdW5jdGlvbih0KXtyZXR1cm57dHlwZTpzLmEuQ2xlYXJFcnJvcixwYXlsb2FkOnR9fSx0fSgpO2Z1bmN0aW9uIHUoKXt0cnl7cmV0dXJuIHByb2Nlc3MuZW52Lk5PREVfRU5WfHwhMX1jYXRjaCh0KXtyZXR1cm5cImRldmVsb3BtZW50XCJ9fXZhciBkPW4oMCkscD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fY29uc29sZT10fXJldHVybiB0LnByb3RvdHlwZS5sb2c9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07dGhpcy5fbG9nVG9Db25zb2xlLmFwcGx5KHRoaXMsT2JqZWN0KGQuX19zcHJlYWRBcnJheXMpKFtcImxvZ1wiXSx0KSl9LHQucHJvdG90eXBlLmluZm89ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07dGhpcy5fbG9nVG9Db25zb2xlLmFwcGx5KHRoaXMsT2JqZWN0KGQuX19zcHJlYWRBcnJheXMpKFtcImluZm9cIl0sdCkpfSx0LnByb3RvdHlwZS53YXJuPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3RoaXMuX2xvZ1RvQ29uc29sZS5hcHBseSh0aGlzLE9iamVjdChkLl9fc3ByZWFkQXJyYXlzKShbXCJ3YXJuXCJdLHQpKX0sdC5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07dGhpcy5fbG9nVG9Db25zb2xlLmFwcGx5KHRoaXMsT2JqZWN0KGQuX19zcHJlYWRBcnJheXMpKFtcImVycm9yXCJdLHQpKX0sdC5wcm90b3R5cGUuZGVidWc9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07dGhpcy5fbG9nVG9Db25zb2xlLmFwcGx5KHRoaXMsT2JqZWN0KGQuX19zcHJlYWRBcnJheXMpKFtcImRlYnVnXCJdLHQpKX0sdC5wcm90b3R5cGUuX2xvZ1RvQ29uc29sZT1mdW5jdGlvbih0KXtmb3IodmFyIGUsbj1bXSxyPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyluW3ItMV09YXJndW1lbnRzW3JdO3RoaXMuX2NvbnNvbGUmJnRoaXMuX2NvbnNvbGVbdF0mJihlPXRoaXMuX2NvbnNvbGVbdF0pLmNhbGwuYXBwbHkoZSxPYmplY3QoZC5fX3NwcmVhZEFycmF5cykoW3RoaXMuX2NvbnNvbGVdLG4pKX0sdH0oKSxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5pbmZvPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS53YXJuPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuZGVidWc9ZnVuY3Rpb24oKXt9LHR9KCk7dmFyIGwsbT0odm9pZCAwPT09KGw9XCJ0ZXN0XCIhPT11KCkpJiYobD0hMCksbD9uZXcgcChjb25zb2xlKTpuZXcgaCk7ZnVuY3Rpb24gZigpe3JldHVybiBtfXZhciBfPW4oMTczKSx5PW4oMTc0KSxnPW4oMSksYj1uKDMpLHY9bigxMiksQz1uKDIxKSxPPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9jb3Vwb25SZXF1ZXN0U2VuZGVyPXR9cmV0dXJuIHQucHJvdG90eXBlLmFwcGx5Q291cG9uPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGIuT2JzZXJ2YWJsZS5jcmVhdGUoKGZ1bmN0aW9uKGkpe3ZhciBvPXIuZ2V0U3RhdGUoKS5jaGVja291dC5nZXRDaGVja291dCgpO2lmKCFvKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdDaGVja291dCk7aS5uZXh0KE9iamVjdChnLmNyZWF0ZUFjdGlvbikoQy5hLkFwcGx5Q291cG9uUmVxdWVzdGVkKSksbi5fY291cG9uUmVxdWVzdFNlbmRlci5hcHBseUNvdXBvbihvLmlkLHQsZSkudGhlbigoZnVuY3Rpb24odCl7dmFyIGU9dC5ib2R5O2kubmV4dChPYmplY3QoZy5jcmVhdGVBY3Rpb24pKEMuYS5BcHBseUNvdXBvblN1Y2NlZWRlZCxlKSksaS5jb21wbGV0ZSgpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtpLmVycm9yKE9iamVjdChnLmNyZWF0ZUVycm9yQWN0aW9uKShDLmEuQXBwbHlDb3Vwb25GYWlsZWQsdCkpfSkpfSkpfX0sdC5wcm90b3R5cGUucmVtb3ZlQ291cG9uPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGIuT2JzZXJ2YWJsZS5jcmVhdGUoKGZ1bmN0aW9uKGkpe3ZhciBvPXIuZ2V0U3RhdGUoKS5jaGVja291dC5nZXRDaGVja291dCgpO2lmKCFvKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdDaGVja291dCk7aS5uZXh0KE9iamVjdChnLmNyZWF0ZUFjdGlvbikoQy5hLlJlbW92ZUNvdXBvblJlcXVlc3RlZCkpLG4uX2NvdXBvblJlcXVlc3RTZW5kZXIucmVtb3ZlQ291cG9uKG8uaWQsdCxlKS50aGVuKChmdW5jdGlvbih0KXt2YXIgZT10LmJvZHk7aS5uZXh0KE9iamVjdChnLmNyZWF0ZUFjdGlvbikoQy5hLlJlbW92ZUNvdXBvblN1Y2NlZWRlZCxlKSksaS5jb21wbGV0ZSgpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtpLmVycm9yKE9iamVjdChnLmNyZWF0ZUVycm9yQWN0aW9uKShDLmEuUmVtb3ZlQ291cG9uRmFpbGVkLHQpKX0pKX0pKX19LHR9KCksUz1uKDg5KSx3PW4oMTM4KSxJPW4oMzkpLEE9big2MyksRT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fcmVxdWVzdFNlbmRlcj10fXJldHVybiB0LnByb3RvdHlwZS5hcHBseUNvdXBvbj1mdW5jdGlvbih0LGUsbil7dmFyIHI9KHZvaWQgMD09PW4/e306bikudGltZW91dCxpPVwiL2FwaS9zdG9yZWZyb250L2NoZWNrb3V0cy9cIit0K1wiL2NvdXBvbnNcIixvPXtBY2NlcHQ6SS5hLkpzb25WMX07cmV0dXJuIHRoaXMuX3JlcXVlc3RTZW5kZXIucG9zdChpLHtoZWFkZXJzOm8sdGltZW91dDpyLHBhcmFtczp7aW5jbHVkZTpPYmplY3QoQS5hKShPYmplY3QoZC5fX3NwcmVhZEFycmF5cykoUy5hLFt3LmEuQXZhaWxhYmxlU2hpcHBpbmdPcHRpb25zXSkpfSxib2R5Ontjb3Vwb25Db2RlOmV9fSl9LHQucHJvdG90eXBlLnJlbW92ZUNvdXBvbj1mdW5jdGlvbih0LGUsbil7dmFyIHI9KHZvaWQgMD09PW4/e306bikudGltZW91dCxpPVwiL2FwaS9zdG9yZWZyb250L2NoZWNrb3V0cy9cIit0K1wiL2NvdXBvbnMvXCIrZSxvPXtBY2NlcHQ6SS5hLkpzb25WMX07cmV0dXJuIHRoaXMuX3JlcXVlc3RTZW5kZXIuZGVsZXRlKGkse2hlYWRlcnM6byx0aW1lb3V0OnIscGFyYW1zOntpbmNsdWRlOk9iamVjdChBLmEpKE9iamVjdChkLl9fc3ByZWFkQXJyYXlzKShTLmEsW3cuYS5BdmFpbGFibGVTaGlwcGluZ09wdGlvbnNdKSl9fSl9LHR9KCksUD1uKDI1KSxqPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9naWZ0Q2VydGlmaWNhdGVSZXF1ZXN0U2VuZGVyPXR9cmV0dXJuIHQucHJvdG90eXBlLmFwcGx5R2lmdENlcnRpZmljYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGIuT2JzZXJ2YWJsZS5jcmVhdGUoKGZ1bmN0aW9uKGkpe3ZhciBvPXIuZ2V0U3RhdGUoKS5jaGVja291dC5nZXRDaGVja291dCgpO2lmKCFvKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdDaGVja291dCk7aS5uZXh0KE9iamVjdChnLmNyZWF0ZUFjdGlvbikoUC5hLkFwcGx5R2lmdENlcnRpZmljYXRlUmVxdWVzdGVkKSksbi5fZ2lmdENlcnRpZmljYXRlUmVxdWVzdFNlbmRlci5hcHBseUdpZnRDZXJ0aWZpY2F0ZShvLmlkLHQsZSkudGhlbigoZnVuY3Rpb24odCl7dmFyIGU9dC5ib2R5O2kubmV4dChPYmplY3QoZy5jcmVhdGVBY3Rpb24pKFAuYS5BcHBseUdpZnRDZXJ0aWZpY2F0ZVN1Y2NlZWRlZCxlKSksaS5jb21wbGV0ZSgpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtpLmVycm9yKE9iamVjdChnLmNyZWF0ZUVycm9yQWN0aW9uKShQLmEuQXBwbHlHaWZ0Q2VydGlmaWNhdGVGYWlsZWQsdCkpfSkpfSkpfX0sdC5wcm90b3R5cGUucmVtb3ZlR2lmdENlcnRpZmljYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGIuT2JzZXJ2YWJsZS5jcmVhdGUoKGZ1bmN0aW9uKGkpe3ZhciBvPXIuZ2V0U3RhdGUoKS5jaGVja291dC5nZXRDaGVja291dCgpO2lmKCFvKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdDaGVja291dCk7aS5uZXh0KE9iamVjdChnLmNyZWF0ZUFjdGlvbikoUC5hLlJlbW92ZUdpZnRDZXJ0aWZpY2F0ZVJlcXVlc3RlZCkpLG4uX2dpZnRDZXJ0aWZpY2F0ZVJlcXVlc3RTZW5kZXIucmVtb3ZlR2lmdENlcnRpZmljYXRlKG8uaWQsdCxlKS50aGVuKChmdW5jdGlvbih0KXt2YXIgZT10LmJvZHk7aS5uZXh0KE9iamVjdChnLmNyZWF0ZUFjdGlvbikoUC5hLlJlbW92ZUdpZnRDZXJ0aWZpY2F0ZVN1Y2NlZWRlZCxlKSksaS5jb21wbGV0ZSgpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtpLmVycm9yKE9iamVjdChnLmNyZWF0ZUVycm9yQWN0aW9uKShQLmEuUmVtb3ZlR2lmdENlcnRpZmljYXRlRmFpbGVkLHQpKX0pKX0pKX19LHR9KCksaz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fcmVxdWVzdFNlbmRlcj10fXJldHVybiB0LnByb3RvdHlwZS5hcHBseUdpZnRDZXJ0aWZpY2F0ZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9KHZvaWQgMD09PW4/e306bikudGltZW91dCxpPVwiL2FwaS9zdG9yZWZyb250L2NoZWNrb3V0cy9cIit0K1wiL2dpZnQtY2VydGlmaWNhdGVzXCIsbz17QWNjZXB0OkkuYS5Kc29uVjF9O3JldHVybiB0aGlzLl9yZXF1ZXN0U2VuZGVyLnBvc3QoaSx7aGVhZGVyczpvLHRpbWVvdXQ6cixwYXJhbXM6e2luY2x1ZGU6T2JqZWN0KEEuYSkoUy5hKX0sYm9keTp7Z2lmdENlcnRpZmljYXRlQ29kZTplfX0pfSx0LnByb3RvdHlwZS5yZW1vdmVHaWZ0Q2VydGlmaWNhdGU9ZnVuY3Rpb24odCxlLG4pe3ZhciByPSh2b2lkIDA9PT1uP3t9Om4pLnRpbWVvdXQsaT1cIi9hcGkvc3RvcmVmcm9udC9jaGVja291dHMvXCIrdCtcIi9naWZ0LWNlcnRpZmljYXRlcy9cIitlLG89e0FjY2VwdDpJLmEuSnNvblYxfTtyZXR1cm4gdGhpcy5fcmVxdWVzdFNlbmRlci5kZWxldGUoaSx7aGVhZGVyczpvLHRpbWVvdXQ6cixwYXJhbXM6e2luY2x1ZGU6T2JqZWN0KEEuYSkoUy5hKX19KX0sdH0oKSxNPW4oOCksVD1uKDkwKTtmdW5jdGlvbiBSKHQpe3ZhciBlPXQ7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGUmJlwib2JqZWN0XCI9PXR5cGVvZiBlLnBheWxvYWQmJlwic3RyaW5nXCI9PXR5cGVvZiBlLnBheWxvYWQudG9rZW59dmFyIEQ9bigzNCksej1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMuX2N1c3RvbWVyUmVxdWVzdFNlbmRlcj10LHRoaXMuX2NoZWNrb3V0QWN0aW9uQ3JlYXRvcj1lLHRoaXMuX3NwYW1Qcm90ZWN0aW9uQWN0aW9uQ3JlYXRvcj1ufXJldHVybiB0LnByb3RvdHlwZS5jcmVhdGVDdXN0b21lcj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciBpPXIuZ2V0U3RhdGUoKS5jb25maWcuZ2V0U3RvcmVDb25maWdPclRocm93KCkuY2hlY2tvdXRTZXR0aW5ncy5pc1N0b3JlZnJvbnRTcGFtUHJvdGVjdGlvbkVuYWJsZWQsbz1mdW5jdGlvbihpKXtyZXR1cm4gT2JqZWN0KGIuZnJvbSkobi5fY3VzdG9tZXJSZXF1ZXN0U2VuZGVyLmNyZWF0ZUFjY291bnQoT2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSx0KSx7dG9rZW46aX0pLGUpKS5waXBlKE9iamVjdChNLnN3aXRjaE1hcCkoKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChiLmNvbmNhdCkobi5fY2hlY2tvdXRBY3Rpb25DcmVhdG9yLmxvYWRDdXJyZW50Q2hlY2tvdXQoZSkociksT2JqZWN0KGIub2YpKE9iamVjdChnLmNyZWF0ZUFjdGlvbikoRC5hLkNyZWF0ZUN1c3RvbWVyU3VjY2VlZGVkKSkpfSkpKX07cmV0dXJuIE9iamVjdChiLmNvbmNhdCkoT2JqZWN0KGIub2YpKE9iamVjdChnLmNyZWF0ZUFjdGlvbikoRC5hLkNyZWF0ZUN1c3RvbWVyUmVxdWVzdGVkKSksaT9PYmplY3QoYi5mcm9tKShuLl9zcGFtUHJvdGVjdGlvbkFjdGlvbkNyZWF0b3IuZXhlY3V0ZSgpKHIpKS5waXBlKE9iamVjdChNLnN3aXRjaE1hcCkoKGZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBSKHQpP09iamVjdChiLmNvbmNhdCkoT2JqZWN0KGIub2YpKHQpLG8obnVsbD09PShlPXQucGF5bG9hZCl8fHZvaWQgMD09PWU/dm9pZCAwOmUudG9rZW4pKTpPYmplY3QoYi5vZikodCl9KSkpOm8oKSkucGlwZShPYmplY3QoTS5jYXRjaEVycm9yKSgoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChULmEpKEQuYS5DcmVhdGVDdXN0b21lckZhaWxlZCx0KX0pKSl9fSx0LnByb3RvdHlwZS5zaWduSW5DdXN0b21lcj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QoYi5jb25jYXQpKE9iamVjdChiLm9mKShPYmplY3QoZy5jcmVhdGVBY3Rpb24pKEQuYS5TaWduSW5DdXN0b21lclJlcXVlc3RlZCkpLE9iamVjdChiLmZyb20pKG4uX2N1c3RvbWVyUmVxdWVzdFNlbmRlci5zaWduSW5DdXN0b21lcih0LGUpKS5waXBlKE9iamVjdChNLnN3aXRjaE1hcCkoKGZ1bmN0aW9uKHQpe3ZhciBpPXQuYm9keTtyZXR1cm4gT2JqZWN0KGIuY29uY2F0KShuLl9jaGVja291dEFjdGlvbkNyZWF0b3IubG9hZEN1cnJlbnRDaGVja291dChlKShyKSxPYmplY3QoYi5vZikoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShELmEuU2lnbkluQ3VzdG9tZXJTdWNjZWVkZWQsaS5kYXRhKSkpfSkpKSkucGlwZShPYmplY3QoTS5jYXRjaEVycm9yKSgoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChULmEpKEQuYS5TaWduSW5DdXN0b21lckZhaWxlZCx0KX0pKSl9fSx0LnByb3RvdHlwZS5zaWduT3V0Q3VzdG9tZXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIE9iamVjdChiLmNvbmNhdCkoT2JqZWN0KGIub2YpKE9iamVjdChnLmNyZWF0ZUFjdGlvbikoRC5hLlNpZ25PdXRDdXN0b21lclJlcXVlc3RlZCkpLE9iamVjdChiLmZyb20pKGUuX2N1c3RvbWVyUmVxdWVzdFNlbmRlci5zaWduT3V0Q3VzdG9tZXIodCkpLnBpcGUoT2JqZWN0KE0uc3dpdGNoTWFwKSgoZnVuY3Rpb24ocil7dmFyIGk9ci5ib2R5O3JldHVybiBPYmplY3QoYi5jb25jYXQpKGUuX2NoZWNrb3V0QWN0aW9uQ3JlYXRvci5sb2FkQ3VycmVudENoZWNrb3V0KHQpKG4pLE9iamVjdChiLm9mKShPYmplY3QoZy5jcmVhdGVBY3Rpb24pKEQuYS5TaWduT3V0Q3VzdG9tZXJTdWNjZWVkZWQsaS5kYXRhKSkpfSkpKSkucGlwZShPYmplY3QoTS5jYXRjaEVycm9yKSgoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChULmEpKEQuYS5TaWduT3V0Q3VzdG9tZXJGYWlsZWQsdCl9KSkpfX0sdH0oKSxMPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9yZXF1ZXN0U2VuZGVyPXR9cmV0dXJuIHQucHJvdG90eXBlLmNyZWF0ZUFjY291bnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj0odm9pZCAwPT09ZT97fTplKS50aW1lb3V0O3JldHVybiB0aGlzLl9yZXF1ZXN0U2VuZGVyLnBvc3QoXCIvYXBpL3N0b3JlZnJvbnQvY3VzdG9tZXJcIix7dGltZW91dDpuLGJvZHk6dH0pfSx0LnByb3RvdHlwZS5zaWduSW5DdXN0b21lcj1mdW5jdGlvbih0LGUpe3ZhciBuPSh2b2lkIDA9PT1lP3t9OmUpLnRpbWVvdXQ7cmV0dXJuIHRoaXMuX3JlcXVlc3RTZW5kZXIucG9zdChcIi9pbnRlcm5hbGFwaS92MS9jaGVja291dC9jdXN0b21lclwiLHt0aW1lb3V0Om4sYm9keTp0fSl9LHQucHJvdG90eXBlLnNpZ25PdXRDdXN0b21lcj1mdW5jdGlvbih0KXt2YXIgZT0odm9pZCAwPT09dD97fTp0KS50aW1lb3V0O3JldHVybiB0aGlzLl9yZXF1ZXN0U2VuZGVyLmRlbGV0ZShcIi9pbnRlcm5hbGFwaS92MS9jaGVja291dC9jdXN0b21lclwiLHt0aW1lb3V0OmV9KX0sdH0oKSxOPW4oMTApLEY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3N0cmF0ZWd5UmVnaXN0cnk9dH1yZXR1cm4gdC5wcm90b3R5cGUuc2lnbkluPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gYi5PYnNlcnZhYmxlLmNyZWF0ZSgoZnVuY3Rpb24ocil7dmFyIGk9ZSYmZS5tZXRob2RJZCxvPXttZXRob2RJZDppfTtyLm5leHQoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShOLmEuU2lnbkluUmVxdWVzdGVkLHZvaWQgMCxvKSksbi5fc3RyYXRlZ3lSZWdpc3RyeS5nZXQoaSkuc2lnbkluKHQsZSkudGhlbigoZnVuY3Rpb24oKXtyLm5leHQoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShOLmEuU2lnbkluU3VjY2VlZGVkLHZvaWQgMCxvKSksci5jb21wbGV0ZSgpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtyLmVycm9yKE9iamVjdChnLmNyZWF0ZUVycm9yQWN0aW9uKShOLmEuU2lnbkluRmFpbGVkLHQsbykpfSkpfSkpfSx0LnByb3RvdHlwZS5zaWduT3V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIGIuT2JzZXJ2YWJsZS5jcmVhdGUoKGZ1bmN0aW9uKG4pe3ZhciByPXQmJnQubWV0aG9kSWQsaT17bWV0aG9kSWQ6cn07bi5uZXh0KE9iamVjdChnLmNyZWF0ZUFjdGlvbikoTi5hLlNpZ25PdXRSZXF1ZXN0ZWQsdm9pZCAwLGkpKSxlLl9zdHJhdGVneVJlZ2lzdHJ5LmdldChyKS5zaWduT3V0KHQpLnRoZW4oKGZ1bmN0aW9uKCl7bi5uZXh0KE9iamVjdChnLmNyZWF0ZUFjdGlvbikoTi5hLlNpZ25PdXRTdWNjZWVkZWQsdm9pZCAwLGkpKSxuLmNvbXBsZXRlKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe24uZXJyb3IoT2JqZWN0KGcuY3JlYXRlRXJyb3JBY3Rpb24pKE4uYS5TaWduT3V0RmFpbGVkLHQsaSkpfSkpfSkpfSx0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBiLk9ic2VydmFibGUuY3JlYXRlKChmdW5jdGlvbihyKXt2YXIgaT1uLmdldFN0YXRlKCksbz10JiZ0Lm1ldGhvZElkLGE9e21ldGhvZElkOm99O2lmKG8mJmkuY3VzdG9tZXJTdHJhdGVnaWVzLmlzSW5pdGlhbGl6ZWQobykpcmV0dXJuIHIuY29tcGxldGUoKTtyLm5leHQoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShOLmEuSW5pdGlhbGl6ZVJlcXVlc3RlZCx2b2lkIDAsYSkpLGUuX3N0cmF0ZWd5UmVnaXN0cnkuZ2V0KG8pLmluaXRpYWxpemUodCkudGhlbigoZnVuY3Rpb24oKXtyLm5leHQoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShOLmEuSW5pdGlhbGl6ZVN1Y2NlZWRlZCx2b2lkIDAsYSkpLHIuY29tcGxldGUoKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7ci5lcnJvcihPYmplY3QoZy5jcmVhdGVFcnJvckFjdGlvbikoTi5hLkluaXRpYWxpemVGYWlsZWQsdCxhKSl9KSl9KSl9fSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIGIuT2JzZXJ2YWJsZS5jcmVhdGUoKGZ1bmN0aW9uKHIpe3ZhciBpPW4uZ2V0U3RhdGUoKSxvPXQmJnQubWV0aG9kSWQsYT17bWV0aG9kSWQ6b307aWYobyYmIWkuY3VzdG9tZXJTdHJhdGVnaWVzLmlzSW5pdGlhbGl6ZWQobykpcmV0dXJuIHIuY29tcGxldGUoKTtyLm5leHQoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShOLmEuRGVpbml0aWFsaXplUmVxdWVzdGVkLHZvaWQgMCxhKSksZS5fc3RyYXRlZ3lSZWdpc3RyeS5nZXQobykuZGVpbml0aWFsaXplKHQpLnRoZW4oKGZ1bmN0aW9uKCl7ci5uZXh0KE9iamVjdChnLmNyZWF0ZUFjdGlvbikoTi5hLkRlaW5pdGlhbGl6ZVN1Y2NlZWRlZCx2b2lkIDAsYSkpLHIuY29tcGxldGUoKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7ci5lcnJvcihPYmplY3QoZy5jcmVhdGVFcnJvckFjdGlvbikoTi5hLkRlaW5pdGlhbGl6ZUZhaWxlZCx0LGEpKX0pKX0pKX19LHQucHJvdG90eXBlLndpZGdldEludGVyYWN0aW9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGIuT2JzZXJ2YWJsZS5jcmVhdGUoKGZ1bmN0aW9uKG4pe3ZhciByPXttZXRob2RJZDplJiZlLm1ldGhvZElkfTtuLm5leHQoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShOLmEuV2lkZ2V0SW50ZXJhY3Rpb25TdGFydGVkLHZvaWQgMCxyKSksdCgpLnRoZW4oKGZ1bmN0aW9uKCl7bi5uZXh0KE9iamVjdChnLmNyZWF0ZUFjdGlvbikoTi5hLldpZGdldEludGVyYWN0aW9uRmluaXNoZWQsdm9pZCAwLHIpKSxuLmNvbXBsZXRlKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe24uZXJyb3IoT2JqZWN0KGcuY3JlYXRlRXJyb3JBY3Rpb24pKE4uYS5XaWRnZXRJbnRlcmFjdGlvbkZhaWxlZCx0LHIpKX0pKX0pKX0sdH0oKSxxPW4oNzEpLFU9bigxMzcpLHg9bigxMjkpLEI9bigxNzkpLEc9bigxNzYpLFY9bigxNzcpLFk9big4NyksSD1uKDg4KSxXPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9zY3JpcHRMb2FkZXI9dCx0aGlzLl93aW5kb3c9d2luZG93fXJldHVybiB0LnByb3RvdHlwZS5sb2FkV2lkZ2V0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5jb25maWcscj1uLm1lcmNoYW50SWQsaT1uLnRlc3RNb2RlLG89dC5pbml0aWFsaXphdGlvbkRhdGEsYT0odm9pZCAwPT09bz97fTpvKS5yZWdpb24scz12b2lkIDA9PT1hP1widXNcIjphLGM9XCJodHRwczovL1wiKyhcInVzXCIhPT1zLnRvTG93ZXJDYXNlKCk/XCJzdGF0aWMtZXUuXCI6XCJzdGF0aWMtbmEuXCIpK1wicGF5bWVudHMtYW1hem9uLmNvbS9PZmZBbWF6b25QYXltZW50cy9cIitzLnRvTG93ZXJDYXNlKCkrXCIvXCIrKGk/XCJzYW5kYm94L1wiOlwiXCIpKyhcInVzXCIhPT1zLnRvTG93ZXJDYXNlKCk/XCJscGEvXCI6XCJcIikrXCJqcy9XaWRnZXRzLmpzP3NlbGxlcklkPVwiK3I7cmV0dXJuIHRoaXMuX2NvbmZpZ3VyZVdpZGdldCh0LGUpLHRoaXMuX3NjcmlwdExvYWRlci5sb2FkU2NyaXB0KGMpfSx0LnByb3RvdHlwZS5fY29uZmlndXJlV2lkZ2V0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPWZ1bmN0aW9uKCl7bi5fd2luZG93LmFtYXpvbiYmKG4uX3dpbmRvdy5hbWF6b24uTG9naW4uc2V0Q2xpZW50SWQodC5pbml0aWFsaXphdGlvbkRhdGEuY2xpZW50SWQpLG4uX3dpbmRvdy5hbWF6b24uTG9naW4uc2V0VXNlQ29va2llKCEwKSl9O3RoaXMuX3dpbmRvdy5hbWF6b24mJnRoaXMuX3dpbmRvdy5hbWF6b24uTG9naW4/cigpOnRoaXMuX3dpbmRvdy5vbkFtYXpvbkxvZ2luUmVhZHk9cix0aGlzLl93aW5kb3cuT2ZmQW1hem9uUGF5bWVudHMmJmU/ZSgpOnRoaXMuX3dpbmRvdy5vbkFtYXpvblBheW1lbnRzUmVhZHk9ZX0sdH0oKSxLPW4oMTk3KSxKPW4oMTA0KSxaPW4oMTA1KSxRPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuX2JyYWludHJlZVNES0NyZWF0b3I9dCx0aGlzLl9yZXF1ZXN0U2VuZGVyPWV9cmV0dXJuIHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fYnJhaW50cmVlU0RLQ3JlYXRvci5pbml0aWFsaXplKHQpLHRoaXMuX2JyYWludHJlZVNES0NyZWF0b3IuZ2V0VmlzYUNoZWNrb3V0KCkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIHQuY3JlYXRlSW5pdE9wdGlvbnMoe3NldHRpbmdzOntsb2NhbGU6ZS5sb2NhbGUsc2hpcHBpbmc6e2NvbGxlY3RTaGlwcGluZzplLmNvbGxlY3RTaGlwcGluZ319LHBheW1lbnRSZXF1ZXN0OntjdXJyZW5jeUNvZGU6ZS5jdXJyZW5jeUNvZGUsc3VidG90YWw6U3RyaW5nKGUuc3VidG90YWwpfX0pfSkpfSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnJhaW50cmVlU0RLQ3JlYXRvci50ZWFyZG93bigpfSx0LnByb3RvdHlwZS5oYW5kbGVTdWNjZXNzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzO3JldHVybiB0aGlzLl9icmFpbnRyZWVTREtDcmVhdG9yLmdldFZpc2FDaGVja291dCgpLnRoZW4oKGZ1bmN0aW9uKGkpe3JldHVybiBQcm9taXNlLmFsbChbaS50b2tlbml6ZSh0KSxyLl9icmFpbnRyZWVTREtDcmVhdG9yLmdldERhdGFDb2xsZWN0b3IoKV0pLnRoZW4oKGZ1bmN0aW9uKHQpe3ZhciBpPXRbMF0sbz10WzFdLGE9aS5zaGlwcGluZ0FkZHJlc3Mscz12b2lkIDA9PT1hP3IuX3RvVmlzYUNoZWNrb3V0QWRkcmVzcyhlKTphLGM9aS5iaWxsaW5nQWRkcmVzcyx1PXZvaWQgMD09PWM/ci5fdG9WaXNhQ2hlY2tvdXRBZGRyZXNzKG4pOmM7cmV0dXJuIHIuX3Bvc3RGb3JtKE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30saSkse3NoaXBwaW5nQWRkcmVzczpzLGJpbGxpbmdBZGRyZXNzOnV9KSxvKX0pKX0pKX0sdC5wcm90b3R5cGUuX3Bvc3RGb3JtPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC51c2VyRGF0YSxyPXQuYmlsbGluZ0FkZHJlc3MsaT10LnNoaXBwaW5nQWRkcmVzcyxvPXQuZGV0YWlscyxhPW4udXNlckVtYWlsLHM9ZS5kZXZpY2VEYXRhO3JldHVybiB0aGlzLl9yZXF1ZXN0U2VuZGVyLnBvc3QoXCIvY2hlY2tvdXQucGhwXCIse2hlYWRlcnM6e0FjY2VwdDpcInRleHQvaHRtbFwiLFwiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIn0sYm9keTp7cGF5bWVudF90eXBlOnQudHlwZSxub25jZTp0Lm5vbmNlLHByb3ZpZGVyOlwiYnJhaW50cmVldmlzYWNoZWNrb3V0XCIsYWN0aW9uOlwic2V0X2V4dGVybmFsX2NoZWNrb3V0XCIsZGV2aWNlX2RhdGE6cyxjYXJkX2luZm9ybWF0aW9uOnRoaXMuX2dldENhcmRJbmZvcm1hdGlvbihvKSxiaWxsaW5nX2FkZHJlc3M6dGhpcy5fZ2V0QWRkcmVzcyhhLHIpLHNoaXBwaW5nX2FkZHJlc3M6dGhpcy5fZ2V0QWRkcmVzcyhhLGkpfX0pfSx0LnByb3RvdHlwZS5fdG9WaXNhQ2hlY2tvdXRBZGRyZXNzPWZ1bmN0aW9uKHQpe3JldHVybiB0P3tmaXJzdE5hbWU6dC5maXJzdE5hbWUsbGFzdE5hbWU6dC5sYXN0TmFtZSxwaG9uZU51bWJlcjp0LnBob25lLHN0cmVldEFkZHJlc3M6dC5hZGRyZXNzMSxleHRlbmRlZEFkZHJlc3M6dC5hZGRyZXNzMixsb2NhbGl0eTp0LmNpdHkscmVnaW9uOnQuc3RhdGVPclByb3ZpbmNlQ29kZSxjb3VudHJ5Q29kZTp0LmNvdW50cnlDb2RlLHBvc3RhbENvZGU6dC5wb3N0YWxDb2RlfTp7fX0sdC5wcm90b3R5cGUuX2dldEFkZHJlc3M9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9e30pLHtlbWFpbDp0LGZpcnN0X25hbWU6ZS5maXJzdE5hbWUsbGFzdF9uYW1lOmUubGFzdE5hbWUscGhvbmVfbnVtYmVyOmUucGhvbmVOdW1iZXIsYWRkcmVzc19saW5lXzE6ZS5zdHJlZXRBZGRyZXNzLGFkZHJlc3NfbGluZV8yOmUuZXh0ZW5kZWRBZGRyZXNzLGNpdHk6ZS5sb2NhbGl0eSxzdGF0ZTplLnJlZ2lvbixjb3VudHJ5X2NvZGU6ZS5jb3VudHJ5Q29kZSxwb3N0YWxfY29kZTplLnBvc3RhbENvZGV9fSx0LnByb3RvdHlwZS5fZ2V0Q2FyZEluZm9ybWF0aW9uPWZ1bmN0aW9uKHQpe3JldHVybnt0eXBlOnQuY2FyZFR5cGUsbnVtYmVyOnQubGFzdFR3b319LHR9KCk7ZnVuY3Rpb24gWCh0LGUpe3ZhciBuPW5ldyBKLmEodCkscj1uZXcgWi5hKG4pO3JldHVybiBuZXcgUShyLGUpfXZhciAkPW4oNDUpLHR0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZvaWQgMD09PWUmJihlPXdpbmRvdyksdGhpcy5fc2NyaXB0TG9hZGVyPXQsdGhpcy5fd2luZG93PWV9cmV0dXJuIHQucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5fc2NyaXB0TG9hZGVyLmxvYWRTY3JpcHQoXCIvL1wiKyh0P1wic2FuZGJveC1cIjpcIlwiKStcImFzc2V0cy5zZWN1cmUuY2hlY2tvdXQudmlzYS5jb20vY2hlY2tvdXQtd2lkZ2V0L3Jlc291cmNlcy9qcy9pbnRlZ3JhdGlvbi92MS9zZGsuanNcIikudGhlbigoZnVuY3Rpb24oKXtpZighZS5fd2luZG93LlYpdGhyb3cgbmV3ICQuYTtyZXR1cm4gZS5fd2luZG93LlZ9KSl9LHR9KCksZXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dm9pZCAwPT09ZSYmKGU9d2luZG93KSx0aGlzLl9zY3JpcHRMb2FkZXI9dCx0aGlzLl93aW5kb3c9ZX1yZXR1cm4gdC5wcm90b3R5cGUubG9hZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiB0aGlzLl9zY3JpcHRMb2FkZXIubG9hZFNjcmlwdChcIi8vcHdjXCIrKHQ/XCJwc2JcIjpcIlwiKStcIi5jaGFzZS5jb20vcHdjL2NoZWNrb3V0L2pzL3YyMDE3MDUyMS9saXN0LmFjdGlvbj90eXBlPXJhdyZhcHBsSWQ9UFdDJmNoYW5uZWxJZD1DV0MmdmVyc2lvbj0xXCIpLnRoZW4oKGZ1bmN0aW9uKCl7aWYoIWUuX3dpbmRvdy5KUE1DKXRocm93IG5ldyAkLmE7cmV0dXJuIGUuX3dpbmRvdy5KUE1DfSkpfSx0fSgpLG50PW4oMTk4KSxydD1uKDE4MiksaXQ9bigxODQpLG90PW4oMTg1KSxhdD1uKDE4Niksc3Q9bigxODcpLGN0PW4oMTgzKSx1dD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fcmVxdWVzdFNlbmRlcj10fXJldHVybiB0LnByb3RvdHlwZS5pbml0aWFsaXplQmlsbGluZz1mdW5jdGlvbih0LGUsbil7dmFyIHI9KHZvaWQgMD09PW4/e306bikudGltZW91dCxpPVwiL3JlbW90ZS1jaGVja291dC9cIit0K1wiL2JpbGxpbmdcIjtyZXR1cm4gdGhpcy5fcmVxdWVzdFNlbmRlci5nZXQoaSx7cGFyYW1zOmUsdGltZW91dDpyfSl9LHQucHJvdG90eXBlLmluaXRpYWxpemVTaGlwcGluZz1mdW5jdGlvbih0LGUsbil7dmFyIHI9KHZvaWQgMD09PW4/e306bikudGltZW91dCxpPVwiL3JlbW90ZS1jaGVja291dC9cIit0K1wiL3NoaXBwaW5nXCI7cmV0dXJuIHRoaXMuX3JlcXVlc3RTZW5kZXIuZ2V0KGkse3BhcmFtczplLHRpbWVvdXQ6cn0pfSx0LnByb3RvdHlwZS5pbml0aWFsaXplUGF5bWVudD1mdW5jdGlvbih0LGUsbil7dmFyIHI9KHZvaWQgMD09PW4/e306bikudGltZW91dCxpPVwiL3JlbW90ZS1jaGVja291dC9cIit0K1wiL3BheW1lbnRcIjtyZXR1cm4gdGhpcy5fcmVxdWVzdFNlbmRlci5nZXQoaSx7cGFyYW1zOmUsdGltZW91dDpyfSl9LHQucHJvdG90eXBlLmxvYWRTZXR0aW5ncz1mdW5jdGlvbih0LGUpe3ZhciBuPSh2b2lkIDA9PT1lP3t9OmUpLnRpbWVvdXQscj1cIi9yZW1vdGUtY2hlY2tvdXQvXCIrdCtcIi9zZXR0aW5nc1wiO3JldHVybiB0aGlzLl9yZXF1ZXN0U2VuZGVyLmdldChyLHt0aW1lb3V0Om59KX0sdC5wcm90b3R5cGUuc2lnbk91dD1mdW5jdGlvbih0LGUpe3ZhciBuPSh2b2lkIDA9PT1lP3t9OmUpLnRpbWVvdXQscj1cIi9yZW1vdGUtY2hlY2tvdXQvXCIrdCtcIi9zaWdub3V0XCI7cmV0dXJuIHRoaXMuX3JlcXVlc3RTZW5kZXIuZ2V0KHIse3RpbWVvdXQ6bn0pfSx0LnByb3RvdHlwZS5nZW5lcmF0ZVRva2VuPWZ1bmN0aW9uKHQpe3ZhciBlPSh2b2lkIDA9PT10P3t9OnQpLnRpbWVvdXQ7cmV0dXJuIHRoaXMuX3JlcXVlc3RTZW5kZXIuZ2V0KFwiL3JlbW90ZS1jaGVja291dC10b2tlblwiLHt0aW1lb3V0OmV9KX0sdC5wcm90b3R5cGUudHJhY2tBdXRob3JpemF0aW9uRXZlbnQ9ZnVuY3Rpb24odCl7dmFyIGU9KHZvaWQgMD09PXQ/e306dCkudGltZW91dDtyZXR1cm4gdGhpcy5fcmVxdWVzdFNlbmRlci5wb3N0KFwiL3JlbW90ZS1jaGVja291dC9ldmVudHMvc2hvcHBlci1jaGVja291dC1zZXJ2aWNlLXByb3ZpZGVyLWF1dGhvcml6YXRpb24tcmVxdWVzdGVkXCIse3RpbWVvdXQ6ZX0pfSx0fSgpLGR0PW4oMjcpLHB0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9yZW1vdGVDaGVja291dFJlcXVlc3RTZW5kZXI9dH1yZXR1cm4gdC5wcm90b3R5cGUuaW5pdGlhbGl6ZUJpbGxpbmc9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXM7cmV0dXJuIGIuT2JzZXJ2YWJsZS5jcmVhdGUoKGZ1bmN0aW9uKGkpe2kubmV4dChPYmplY3QoZy5jcmVhdGVBY3Rpb24pKGR0LmEuSW5pdGlhbGl6ZVJlbW90ZUJpbGxpbmdSZXF1ZXN0ZWQsdm9pZCAwLHttZXRob2RJZDp0fSkpLHIuX3JlbW90ZUNoZWNrb3V0UmVxdWVzdFNlbmRlci5pbml0aWFsaXplQmlsbGluZyh0LGUsbikudGhlbigoZnVuY3Rpb24oZSl7dmFyIG49ZS5ib2R5LHI9dm9pZCAwPT09bj97fTpuO2kubmV4dChPYmplY3QoZy5jcmVhdGVBY3Rpb24pKGR0LmEuSW5pdGlhbGl6ZVJlbW90ZUJpbGxpbmdTdWNjZWVkZWQscix7bWV0aG9kSWQ6dH0pKSxpLmNvbXBsZXRlKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2kuZXJyb3IoT2JqZWN0KGcuY3JlYXRlRXJyb3JBY3Rpb24pKGR0LmEuSW5pdGlhbGl6ZVJlbW90ZUJpbGxpbmdGYWlsZWQsZSx7bWV0aG9kSWQ6dH0pKX0pKX0pKX0sdC5wcm90b3R5cGUuaW5pdGlhbGl6ZVNoaXBwaW5nPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzO3JldHVybiBiLk9ic2VydmFibGUuY3JlYXRlKChmdW5jdGlvbihpKXtpLm5leHQoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShkdC5hLkluaXRpYWxpemVSZW1vdGVTaGlwcGluZ1JlcXVlc3RlZCx2b2lkIDAse21ldGhvZElkOnR9KSksci5fcmVtb3RlQ2hlY2tvdXRSZXF1ZXN0U2VuZGVyLmluaXRpYWxpemVTaGlwcGluZyh0LGUsbikudGhlbigoZnVuY3Rpb24oZSl7dmFyIG49ZS5ib2R5LHI9dm9pZCAwPT09bj97fTpuO2kubmV4dChPYmplY3QoZy5jcmVhdGVBY3Rpb24pKGR0LmEuSW5pdGlhbGl6ZVJlbW90ZVNoaXBwaW5nU3VjY2VlZGVkLHIse21ldGhvZElkOnR9KSksaS5jb21wbGV0ZSgpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtpLmVycm9yKE9iamVjdChnLmNyZWF0ZUVycm9yQWN0aW9uKShkdC5hLkluaXRpYWxpemVSZW1vdGVTaGlwcGluZ0ZhaWxlZCxlLHttZXRob2RJZDp0fSkpfSkpfSkpfSx0LnByb3RvdHlwZS5pbml0aWFsaXplUGF5bWVudD1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcztyZXR1cm4gYi5PYnNlcnZhYmxlLmNyZWF0ZSgoZnVuY3Rpb24oaSl7aS5uZXh0KE9iamVjdChnLmNyZWF0ZUFjdGlvbikoZHQuYS5Jbml0aWFsaXplUmVtb3RlUGF5bWVudFJlcXVlc3RlZCx2b2lkIDAse21ldGhvZElkOnR9KSksci5fcmVtb3RlQ2hlY2tvdXRSZXF1ZXN0U2VuZGVyLmluaXRpYWxpemVQYXltZW50KHQsZSxuKS50aGVuKChmdW5jdGlvbihlKXt2YXIgbj1lLmJvZHkscj12b2lkIDA9PT1uP3t9Om47aS5uZXh0KE9iamVjdChnLmNyZWF0ZUFjdGlvbikoZHQuYS5Jbml0aWFsaXplUmVtb3RlUGF5bWVudFN1Y2NlZWRlZCxyLHttZXRob2RJZDp0fSkpLGkuY29tcGxldGUoKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7aS5lcnJvcihPYmplY3QoZy5jcmVhdGVFcnJvckFjdGlvbikoZHQuYS5Jbml0aWFsaXplUmVtb3RlUGF5bWVudEZhaWxlZCxlLHttZXRob2RJZDp0fSkpfSkpfSkpfSx0LnByb3RvdHlwZS5sb2FkU2V0dGluZ3M9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiBiLk9ic2VydmFibGUuY3JlYXRlKChmdW5jdGlvbihyKXtyLm5leHQoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShkdC5hLkxvYWRSZW1vdGVTZXR0aW5nc1JlcXVlc3RlZCx2b2lkIDAse21ldGhvZElkOnR9KSksbi5fcmVtb3RlQ2hlY2tvdXRSZXF1ZXN0U2VuZGVyLmxvYWRTZXR0aW5ncyh0LGUpLnRoZW4oKGZ1bmN0aW9uKGUpe3ZhciBuPWUuYm9keTtyLm5leHQoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShkdC5hLkxvYWRSZW1vdGVTZXR0aW5nc1N1Y2NlZWRlZCxuLHttZXRob2RJZDp0fSkpLHIuY29tcGxldGUoKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7ci5lcnJvcihPYmplY3QoZy5jcmVhdGVFcnJvckFjdGlvbikoZHQuYS5Mb2FkUmVtb3RlU2V0dGluZ3NGYWlsZWQsZSx7bWV0aG9kSWQ6dH0pKX0pKX0pKX0sdC5wcm90b3R5cGUuc2lnbk91dD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIGIuT2JzZXJ2YWJsZS5jcmVhdGUoKGZ1bmN0aW9uKHIpe3IubmV4dChPYmplY3QoZy5jcmVhdGVBY3Rpb24pKGR0LmEuU2lnbk91dFJlbW90ZUN1c3RvbWVyUmVxdWVzdGVkLHZvaWQgMCx7bWV0aG9kSWQ6dH0pKSxuLl9yZW1vdGVDaGVja291dFJlcXVlc3RTZW5kZXIuc2lnbk91dCh0LGUpLnRoZW4oKGZ1bmN0aW9uKCl7ci5uZXh0KE9iamVjdChnLmNyZWF0ZUFjdGlvbikoZHQuYS5TaWduT3V0UmVtb3RlQ3VzdG9tZXJTdWNjZWVkZWQsdm9pZCAwLHttZXRob2RJZDp0fSkpLHIuY29tcGxldGUoKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7ci5lcnJvcihPYmplY3QoZy5jcmVhdGVFcnJvckFjdGlvbikoZHQuYS5TaWduT3V0UmVtb3RlQ3VzdG9tZXJGYWlsZWQsZSx7bWV0aG9kSWQ6dH0pKX0pKX0pKX0sdC5wcm90b3R5cGUudXBkYXRlQ2hlY2tvdXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShkdC5hLlVwZGF0ZVJlbW90ZUNoZWNrb3V0LGUse21ldGhvZElkOnR9KX0sdH0oKSxodD1uKDIyKSxsdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9dC5jYWxsKHRoaXMsXCJZb3UgaGF2ZW4ndCBjb21wbGV0ZSBvdXIgc3BhbSBwcm90ZWN0aW9uIGNoYWxsZW5nZS4gUGxlYXNlIHRyeSBhZ2Fpbi5cIil8fHRoaXM7cmV0dXJuIGUubmFtZT1cIlNwYW1Qcm90ZWN0aW9uQ2hhbGxlbmdlTm90Q29tcGxldGVkRXJyb3JcIixlLnR5cGU9XCJzcGFtX3Byb3RlY3Rpb25fY2hhbGxlbmdlX25vdF9jb21wbGV0ZWRcIixlfXJldHVybiBPYmplY3QoZC5fX2V4dGVuZHMpKGUsdCksZX0oaHQuYSksbXQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPXQuY2FsbCh0aGlzLFwiV2Ugd2VyZSBub3QgYWJsZSB0byBjb21wbGV0ZSB5b3VyIHNwYW0gcHJvdGVjdGlvbiB2ZXJpZmljYXRpb24uIFBsZWFzZSB0cnkgYWdhaW4uXCIpfHx0aGlzO3JldHVybiBlLm5hbWU9XCJTcGFtUHJvdGVjdGlvbkZhaWxlZEVycm9yXCIsZS50eXBlPVwic3BhbV9wcm90ZWN0aW9uX2ZhaWxlZFwiLGV9cmV0dXJuIE9iamVjdChkLl9fZXh0ZW5kcykoZSx0KSxlfShodC5hKSxmdD1uKDY1KSxfdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLl9nb29nbGVSZWNhcHRjaGE9dCx0aGlzLl9yZXF1ZXN0U2VuZGVyPWV9cmV0dXJuIHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIE9iamVjdChiLmNvbmNhdCkoT2JqZWN0KGIub2YpKE9iamVjdChnLmNyZWF0ZUFjdGlvbikoZnQuYS5Jbml0aWFsaXplUmVxdWVzdGVkLHZvaWQgMCkpLE9iamVjdChiLmRlZmVyKSgoZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKShlLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGUscixpLG8sYTtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKHMpe3N3aXRjaChzLmxhYmVsKXtjYXNlIDA6cmV0dXJuIGU9dD90LmNvbnRhaW5lcklkOlwic3BhbVByb3RlY3Rpb25Db250YWluZXJcIix0fHxkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKXx8KChyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLnNldEF0dHJpYnV0ZShcImlkXCIsZSksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChyKSksaT1uLmdldFN0YXRlKCksbz1pLmNvbmZpZy5nZXRTdG9yZUNvbmZpZ09yVGhyb3coKSxhPW8uY2hlY2tvdXRTZXR0aW5ncy5nb29nbGVSZWNhcHRjaGFTaXRla2V5LFs0LHRoaXMuX2dvb2dsZVJlY2FwdGNoYS5sb2FkKGUsYSldO2Nhc2UgMTpyZXR1cm4gcy5zZW50KCksWzIsT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShmdC5hLkluaXRpYWxpemVTdWNjZWVkZWQpXX19KSl9KSl9KSkpLnBpcGUoT2JqZWN0KE0uY2F0Y2hFcnJvcikoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoVC5hKShmdC5hLkluaXRpYWxpemVGYWlsZWQsdCl9KSkpfX0sdC5wcm90b3R5cGUudmVyaWZ5Q2hlY2tvdXRTcGFtUHJvdGVjdGlvbj1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoYi5kZWZlcikoKGZ1bmN0aW9uKCl7dmFyIG49ZS5nZXRTdGF0ZSgpLmNoZWNrb3V0LmdldENoZWNrb3V0KCk7aWYoIW4pdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ0NoZWNrb3V0KTtyZXR1cm4gT2JqZWN0KGIuY29uY2F0KShPYmplY3QoYi5vZikoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShmdC5hLlZlcmlmeUNoZWNrb3V0UmVxdWVzdGVkKSksT2JqZWN0KGIuZnJvbSkodC5leGVjdXRlKCkoZSkpLnBpcGUoT2JqZWN0KE0uc3dpdGNoTWFwKSgoZnVuY3Rpb24oZSl7cmV0dXJuIFIoZSkmJmUucGF5bG9hZD9PYmplY3QoYi5mcm9tKSh0Ll9yZXF1ZXN0U2VuZGVyLnZhbGlkYXRlKG4uaWQsZS5wYXlsb2FkLnRva2VuKSkucGlwZShPYmplY3QoTS5zd2l0Y2hNYXApKChmdW5jdGlvbih0KXt2YXIgbj10LmJvZHk7cmV0dXJuIE9iamVjdChiLmNvbmNhdCkoT2JqZWN0KGIub2YpKGUpLE9iamVjdChiLm9mKShPYmplY3QoZy5jcmVhdGVBY3Rpb24pKGZ0LmEuVmVyaWZ5Q2hlY2tvdXRTdWNjZWVkZWQsbikpKX0pKSk6T2JqZWN0KGIub2YpKGUpfSkpKSkucGlwZShPYmplY3QoTS5jYXRjaEVycm9yKSgoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChULmEpKGZ0LmEuVmVyaWZ5Q2hlY2tvdXRGYWlsZWQsdCl9KSkpfSkpfX0sdC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoYi5jb25jYXQpKE9iamVjdChiLm9mKShPYmplY3QoZy5jcmVhdGVBY3Rpb24pKGZ0LmEuRXhlY3V0ZVJlcXVlc3RlZCkpLHQuaW5pdGlhbGl6ZSgpKGUpLHQuX2dvb2dsZVJlY2FwdGNoYS5leGVjdXRlKCkucGlwZShPYmplY3QoTS50YWtlKSgxKSkucGlwZShPYmplY3QoTS5zd2l0Y2hNYXApKChmdW5jdGlvbihlKXt2YXIgbj1lLmVycm9yLHI9ZS50b2tlbjtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0LHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbih0KXtpZihuIGluc3RhbmNlb2YgbHQpdGhyb3cgbjtpZihufHwhcil0aHJvdyBuZXcgbXQ7cmV0dXJuWzIsT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShmdC5hLkV4ZWN1dGVTdWNjZWVkZWQse3Rva2VuOnJ9KV19KSl9KSl9KSkpKS5waXBlKE9iamVjdChNLmNhdGNoRXJyb3IpKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KFQuYSkoZnQuYS5FeGVjdXRlRmFpbGVkLHQpfSkpKX19LHR9KCkseXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3ZvaWQgMD09PXQmJih0PXdpbmRvdyksdGhpcy5fd2luZG93PXR9cmV0dXJuIHQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHRoaXMuX3dpbmRvdy5NdXRhdGlvbk9ic2VydmVyKHQpfSx0fSgpLGd0PW4oNSksYnQ9bigxMTEpLHZ0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT10LmNhbGwodGhpcyxcIlNwYW0gcHJvdGVjdGlvbiBpcyBub3QgbG9hZGVkLiBQbGVhc2UgdHJ5IGFnYWluLlwiKXx8dGhpcztyZXR1cm4gZS5uYW1lPVwiU3BhbVByb3RlY3Rpb25Ob3RMb2FkZWRFcnJvclwiLGUudHlwZT1cInNwYW1fcHJvdGVjdGlvbl9mYWlsZWRcIixlfXJldHVybiBPYmplY3QoZC5fX2V4dGVuZHMpKGUsdCksZX0oaHQuYSksQ3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dmFyIG49dGhpczt0aGlzLmdvb2dsZVJlY2FwdGNoYVNjcmlwdExvYWRlcj10LHRoaXMubXV0YXRpb25PYnNlcnZlckZhY3Rvcnk9ZSx0aGlzLl9tZW1vaXplZD1PYmplY3QoZ3QubWVtb2l6ZSkoKGZ1bmN0aW9uKHQsZSxyKXt2YXIgaT1uZXcgYi5TdWJqZWN0O2lmKCFyKXRocm93IG5ldyBFcnJvcjtyZXR1cm4gbi5fd2lkZ2V0SWQ9dC5yZW5kZXIoci5pZCx7c2l0ZWtleTplLHNpemU6XCJpbnZpc2libGVcIixjYWxsYmFjazpmdW5jdGlvbigpe2kubmV4dCh7dG9rZW46dC5nZXRSZXNwb25zZShuLl93aWRnZXRJZCl9KSx0LnJlc2V0KG4uX3dpZGdldElkKX0sXCJlcnJvci1jYWxsYmFja1wiOmZ1bmN0aW9uKCl7aS5uZXh0KHtlcnJvcjpuZXcgbXR9KX19KSxpfSkse2lzRXF1YWw6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD09PWV9fSl9cmV0dXJuIHQucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiB0aGlzLmdvb2dsZVJlY2FwdGNoYVNjcmlwdExvYWRlci5sb2FkKCkudGhlbigoZnVuY3Rpb24ocil7bi5fZXZlbnQkPW4uX21lbW9pemVkKHIsZSxkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0KSksbi5fcmVjYXB0Y2hhPXJ9KSl9LHQucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiBPYmplY3QoYi5kZWZlcikoKGZ1bmN0aW9uKCl7dmFyIGU9dC5fZXZlbnQkLG49dC5fcmVjYXB0Y2hhO2lmKCFlfHwhbil0aHJvdyBuZXcgYnQuYihidC5hLlNwYW1Qcm90ZWN0aW9uTm90SW5pdGlhbGl6ZWQpO3JldHVybiBPYmplY3QoYi5kZWZlcikoKGZ1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaWZyYW1lW3NyYyo9XCJiZnJhbWVcIl0nKTtyZXR1cm4gdD9PYmplY3QoYi5vZikodCk6T2JqZWN0KGIudGhyb3dFcnJvcikobmV3IHZ0KX0pKS5waXBlKE9iamVjdChNLnJldHJ5V2hlbikoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnBpcGUoT2JqZWN0KE0uZGVsYXkpKDI1MCksT2JqZWN0KE0uc3dpdGNoTWFwKSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gZTwyOD9PYmplY3QoYi5vZikodCk6T2JqZWN0KGIudGhyb3dFcnJvcikodCl9KSkpfSkpLE9iamVjdChNLnN3aXRjaE1hcCkoKGZ1bmN0aW9uKHIpe3JldHVybiB0Ll93YXRjaFJlY2FwdGNoYUNoYWxsZW5nZVdpbmRvdyhlLHIpLG4uZXhlY3V0ZSh0Ll93aWRnZXRJZCksZX0pKSxPYmplY3QoTS5jYXRjaEVycm9yKSgoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChiLm9mKSh7ZXJyb3I6dH0pfSkpKX0pKX0sdC5wcm90b3R5cGUuX3dhdGNoUmVjYXB0Y2hhQ2hhbGxlbmdlV2luZG93PWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5wYXJlbnRFbGVtZW50O2lmKCFuKXRocm93IG5ldyB2dDt2YXIgcj1uLnBhcmVudEVsZW1lbnQ7aWYoIXIpdGhyb3cgbmV3IHZ0O3RoaXMubXV0YXRpb25PYnNlcnZlckZhY3RvcnkuY3JlYXRlKChmdW5jdGlvbigpe1wiaGlkZGVuXCI9PT1yLnN0eWxlLnZpc2liaWxpdHkmJnQubmV4dCh7ZXJyb3I6bmV3IGx0fSl9KSkub2JzZXJ2ZShyLHthdHRyaWJ1dGVzOiEwLGF0dHJpYnV0ZUZpbHRlcjpbXCJzdHlsZVwiXX0pfSx0fSgpLE90PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZvaWQgMD09PWUmJihlPXdpbmRvdyksdGhpcy5fc2NyaXB0TG9hZGVyPXQsdGhpcy5fd2luZG93PWV9cmV0dXJuIHQucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9hZFByb21pc2V8fCh0aGlzLl9sb2FkUHJvbWlzZT10aGlzLl9sb2FkU2NyaXB0KCkpLHRoaXMuX2xvYWRQcm9taXNlfSx0LnByb3RvdHlwZS5fbG9hZFNjcmlwdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1bXCJvbmxvYWQ9aW5pdFJlY2FwdGNoYVwiLFwicmVuZGVyPWV4cGxpY2l0XCJdLmpvaW4oXCImXCIpO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXt0Ll93aW5kb3cuaW5pdFJlY2FwdGNoYT1mdW5jdGlvbigpe3JldHVybiBuKHQuX3dpbmRvdy5ncmVjYXB0Y2hhKX0sdC5fc2NyaXB0TG9hZGVyLmxvYWRTY3JpcHQoXCIvL3d3dy5nb29nbGUuY29tL3JlY2FwdGNoYS9hcGkuanM/XCIrZSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3QuX2xvYWRQcm9taXNlPXZvaWQgMCxyKGUpfSkpfSkpfSx0fSgpO2Z1bmN0aW9uIFN0KHQpe3JldHVybiBuZXcgQ3QobmV3IE90KHQpLG5ldyB5dCl9dmFyIHd0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9yZXF1ZXN0U2VuZGVyPXR9cmV0dXJuIHQucHJvdG90eXBlLnZhbGlkYXRlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj0odm9pZCAwPT09bj97fTpuKS50aW1lb3V0LGk9XCIvYXBpL3N0b3JlZnJvbnQvY2hlY2tvdXRzL1wiK3QrXCIvc3BhbS1wcm90ZWN0aW9uXCIsbz17QWNjZXB0OkkuYS5Kc29uVjF9O3JldHVybiB0aGlzLl9yZXF1ZXN0U2VuZGVyLnBvc3QoaSx7Ym9keTp7dG9rZW46ZX0saGVhZGVyczpvLHRpbWVvdXQ6cn0pfSx0fSgpLEl0PW4oNTIpLEF0PW4oMTgwKSxFdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scixpKXt0aGlzLl9zdG9yZT10LHRoaXMuX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yPWUsdGhpcy5fcmVtb3RlQ2hlY2tvdXRBY3Rpb25DcmVhdG9yPW4sdGhpcy5fcmVtb3RlQ2hlY2tvdXRSZXF1ZXN0U2VuZGVyPXIsdGhpcy5fc2NyaXB0TG9hZGVyPWksdGhpcy5fd2luZG93PXdpbmRvd31yZXR1cm4gdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dC5hbWF6b24scj10Lm1ldGhvZElkO2lmKCFufHwhcil0aHJvdyBuZXcgSXQuYSgnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBcIm9wdGlvbnMuYW1hem9uXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicpO3JldHVybiB0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9wYXltZW50TWV0aG9kQWN0aW9uQ3JlYXRvci5sb2FkUGF5bWVudE1ldGhvZChyKSkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihpLG8pe2lmKGUuX3BheW1lbnRNZXRob2Q9dC5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kKHIpLCFlLl9wYXltZW50TWV0aG9kKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdQYXltZW50TWV0aG9kKTt2YXIgYT1uLm9uRXJyb3Iscz12b2lkIDA9PT1hP2Z1bmN0aW9uKCl7fTphO2UuX3NjcmlwdExvYWRlci5sb2FkV2lkZ2V0KGUuX3BheW1lbnRNZXRob2QsKGZ1bmN0aW9uKCl7ZS5fY3JlYXRlU2lnbkluQnV0dG9uKE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30sbikse29uRXJyb3I6ZnVuY3Rpb24odCl7byh0KSxzKHQpfX0pKSxpKCl9KSkuY2F0Y2gobyl9KSl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gZS5fc3RvcmUuZ2V0U3RhdGUoKX0pKX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BheW1lbnRNZXRob2Q9dm9pZCAwLFByb21pc2UucmVzb2x2ZSh0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpKX0sdC5wcm90b3R5cGUuc2lnbkluPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEF0LmEoJ0luIG9yZGVyIHRvIHNpZ24gaW4gdmlhIEFtYXpvblBheSwgdGhlIHNob3BwZXIgbXVzdCBjbGljayBvbiBcIkxvZ2luIHdpdGggQW1hem9uXCIgYnV0dG9uLicpfSx0LnByb3RvdHlwZS5zaWduT3V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3N0b3JlLmdldFN0YXRlKCkucGF5bWVudC5nZXRQYXltZW50SWQoKTtyZXR1cm4gZT90aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9yZW1vdGVDaGVja291dEFjdGlvbkNyZWF0b3Iuc2lnbk91dChlLnByb3ZpZGVySWQsdCkpOlByb21pc2UucmVzb2x2ZSh0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpKX0sdC5wcm90b3R5cGUuX2NyZWF0ZVNpZ25JbkJ1dHRvbj1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKCF0aGlzLl9wYXltZW50TWV0aG9kfHwhdGhpcy5fd2luZG93Lk9mZkFtYXpvblBheW1lbnRzKXRocm93IG5ldyBidC5iKGJ0LmEuQ3VzdG9tZXJOb3RJbml0aWFsaXplZCk7aWYoIXRoaXMuX3BheW1lbnRNZXRob2QuY29uZmlnLm1lcmNoYW50SWQpdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ1BheW1lbnRNZXRob2QpO3ZhciBuPXRoaXMuX3BheW1lbnRNZXRob2QuaW5pdGlhbGl6YXRpb25EYXRhO3JldHVybiBuZXcgdGhpcy5fd2luZG93Lk9mZkFtYXpvblBheW1lbnRzLkJ1dHRvbih0LmNvbnRhaW5lcix0aGlzLl9wYXltZW50TWV0aG9kLmNvbmZpZy5tZXJjaGFudElkLHtjb2xvcjp0LmNvbG9yfHxcIkdvbGRcIixzaXplOnQuc2l6ZXx8XCJzbWFsbFwiLHR5cGU6XCJQd0FcIix1c2VBbWF6b25BZGRyZXNzQm9vazohMCxvbkVycm9yOnQub25FcnJvcixhdXRob3JpemF0aW9uOmZ1bmN0aW9uKCl7ZS5faGFuZGxlQXV0aG9yaXphdGlvbihuKX19KX0sdC5wcm90b3R5cGUuX2hhbmRsZUF1dGhvcml6YXRpb249ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLl9yZW1vdGVDaGVja291dFJlcXVlc3RTZW5kZXIuZ2VuZXJhdGVUb2tlbigpLnRoZW4oKGZ1bmN0aW9uKG4pe3ZhciByPW4uYm9keTtpZighZS5fd2luZG93LmFtYXpvbil0aHJvdyBuZXcgYnQuYihidC5hLlNoaXBwaW5nTm90SW5pdGlhbGl6ZWQpO2UuX3dpbmRvdy5hbWF6b24uTG9naW4uYXV0aG9yaXplKHtwb3B1cDohMSxzY29wZTpcInBheW1lbnRzOnNoaXBwaW5nX2FkZHJlc3MgcGF5bWVudHM6YmlsbGluZ19hZGRyZXNzIHBheW1lbnRzOndpZGdldCBwcm9maWxlXCIsc3RhdGU6XCJcIit0LnRva2VuUHJlZml4K3IudG9rZW59LHQucmVkaXJlY3RVcmwpLGUuX3JlbW90ZUNoZWNrb3V0UmVxdWVzdFNlbmRlci50cmFja0F1dGhvcml6YXRpb25FdmVudCgpfSkpfSx0fSgpLFB0PW4oMTAzKSxqdD1uKDIwMiksa3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIpe3RoaXMuX3N0b3JlPXQsdGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3I9ZSx0aGlzLl9yZW1vdGVDaGVja291dEFjdGlvbkNyZWF0b3I9bix0aGlzLl9hbWF6b25QYXlWMlBheW1lbnRQcm9jZXNzb3I9cn1yZXR1cm4gdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGUsbixyLGk7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihvKXtzd2l0Y2goby5sYWJlbCl7Y2FzZSAwOmlmKGU9dC5tZXRob2RJZCxuPXQuYW1hem9ucGF5LCFlfHwhbil0aHJvdyBuZXcgSXQuYSgnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBcIm9wdGlvbnMubWV0aG9kSWRcIiBvciBcIm9wdGlvbnMuYW1hem9ucGF5XCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicpO3JldHVybls0LHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yLmxvYWRQYXltZW50TWV0aG9kKGUpKV07Y2FzZSAxOnJldHVybiByPW8uc2VudCgpLGk9ci5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyhlKSxbNCx0aGlzLl9hbWF6b25QYXlWMlBheW1lbnRQcm9jZXNzb3IuaW5pdGlhbGl6ZShpKV07Y2FzZSAyOnJldHVybiBvLnNlbnQoKSx0aGlzLl93YWxsZXRCdXR0b249dGhpcy5fY3JlYXRlU2lnbkluQnV0dG9uKG4uY29udGFpbmVyLGUpLFsyLHRoaXMuX3N0b3JlLmdldFN0YXRlKCldfX0pKX0pKX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dhbGxldEJ1dHRvbiYmdGhpcy5fd2FsbGV0QnV0dG9uLnBhcmVudE5vZGUmJih0aGlzLl93YWxsZXRCdXR0b24ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl93YWxsZXRCdXR0b24pLHRoaXMuX3dhbGxldEJ1dHRvbj12b2lkIDApLFByb21pc2UucmVzb2x2ZSh0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpKX0sdC5wcm90b3R5cGUuc2lnbkluPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEF0LmEoJ0luIG9yZGVyIHRvIHNpZ24gaW4gdmlhIEFtYXpvbiwgdGhlIHNob3BwZXIgbXVzdCBjbGljayBvbiBcIkFtYXpvbiBQYXlcIiBidXR0b24uJyl9LHQucHJvdG90eXBlLnNpZ25PdXQ9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLG47cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybiBlPXRoaXMuX3N0b3JlLmdldFN0YXRlKCksKG49ZS5wYXltZW50LmdldFBheW1lbnRJZCgpKT9bNCx0aGlzLl9hbWF6b25QYXlWMlBheW1lbnRQcm9jZXNzb3Iuc2lnbm91dCgpXTpbMixQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSldO2Nhc2UgMTpyZXR1cm4gci5zZW50KCksWzIsdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcmVtb3RlQ2hlY2tvdXRBY3Rpb25DcmVhdG9yLnNpZ25PdXQobi5wcm92aWRlcklkLHQpKV19fSkpfSkpfSx0LnByb3RvdHlwZS5fY3JlYXRlU2lnbkluQnV0dG9uPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodCk7aWYoIW4pdGhyb3cgbmV3IEl0LmEoXCJVbmFibGUgdG8gY3JlYXRlIHNpZ24taW4gYnV0dG9uIHdpdGhvdXQgdmFsaWQgY29udGFpbmVyIElELlwiKTt2YXIgcj10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLGk9ci5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kKGUpLG89ci5jb25maWcuZ2V0U3RvcmVDb25maWcoKSxhPXIuY2FydC5nZXRDYXJ0KCk7aWYoIW8pdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ0NoZWNrb3V0Q29uZmlnKTtpZighaSl0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7dmFyIHM9aS5jb25maWcsYz1zLm1lcmNoYW50SWQsdT1zLnRlc3RNb2RlLGQ9aS5pbml0aWFsaXphdGlvbkRhdGEscD1kLmNoZWNrb3V0TGFuZ3VhZ2UsaD1kLmxlZGdlckN1cnJlbmN5LGw9ZC5jaGVja291dFNlc3Npb25NZXRob2QsbT1kLmV4dHJhY3RBbWF6b25DaGVja291dFNlc3Npb25JZDtpZighYyl0aHJvdyBuZXcgSXQuYShcIlVuYWJsZSB0byBjcmVhdGUgc2lnbi1pbiBidXR0b24gd2l0aG91dCB2YWxpZCBtZXJjaGFudCBJRC5cIik7dmFyIGY9e21lcmNoYW50SWQ6YyxzYW5kYm94OiEhdSxjaGVja291dExhbmd1YWdlOnAsbGVkZ2VyQ3VycmVuY3k6aCxwcm9kdWN0VHlwZTphJiYwPT09T2JqZWN0KGp0LmEpKGEpP1B0LmEuUGF5T25seTpQdC5hLlBheUFuZFNoaXAsY3JlYXRlQ2hlY2tvdXRTZXNzaW9uOnttZXRob2Q6bCx1cmw6by5zdG9yZVByb2ZpbGUuc2hvcFBhdGgrXCIvcmVtb3RlLWNoZWNrb3V0L1wiK2UrXCIvcGF5bWVudC1zZXNzaW9uXCIsZXh0cmFjdEFtYXpvbkNoZWNrb3V0U2Vzc2lvbklkOm19LHBsYWNlbWVudDpQdC5iLkNoZWNrb3V0fTtyZXR1cm4gdGhpcy5fYW1hem9uUGF5VjJQYXltZW50UHJvY2Vzc29yLmNyZWF0ZUJ1dHRvbihcIiNcIit0LGYpLG59LHR9KCksTXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIsaSxvLGEpe3RoaXMuX3N0b3JlPXQsdGhpcy5fY2hlY2tvdXRBY3Rpb25DcmVhdG9yPWUsdGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3I9bix0aGlzLl9jdXN0b21lclN0cmF0ZWd5QWN0aW9uQ3JlYXRvcj1yLHRoaXMuX3JlbW90ZUNoZWNrb3V0QWN0aW9uQ3JlYXRvcj1pLHRoaXMuX2JyYWludHJlZVZpc2FDaGVja291dFBheW1lbnRQcm9jZXNzb3I9byx0aGlzLl92aXNhQ2hlY2tvdXRTY3JpcHRMb2FkZXI9YSx0aGlzLl9idXR0b25DbGFzc05hbWU9XCJ2aXNhLWNoZWNrb3V0LXdyYXBwZXJcIn1yZXR1cm4gdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dC5icmFpbnRyZWV2aXNhY2hlY2tvdXQscj10Lm1ldGhvZElkO2lmKCFufHwhcil0aHJvdyBuZXcgSXQuYSgnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBcIm9wdGlvbnMuYnJhaW50cmVldmlzYWNoZWNrb3V0XCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicpO3JldHVybiB0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9wYXltZW50TWV0aG9kQWN0aW9uQ3JlYXRvci5sb2FkUGF5bWVudE1ldGhvZChyKSkudGhlbigoZnVuY3Rpb24odCl7ZS5fcGF5bWVudE1ldGhvZD10LnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2Qocik7dmFyIGk9dC5jaGVja291dC5nZXRDaGVja291dCgpLG89dC5jb25maWcuZ2V0U3RvcmVDb25maWcoKTtpZighaSl0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nQ2hlY2tvdXQpO2lmKCFvKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdDaGVja291dENvbmZpZyk7aWYoIWUuX3BheW1lbnRNZXRob2R8fCFlLl9wYXltZW50TWV0aG9kLmNsaWVudFRva2VuKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdQYXltZW50TWV0aG9kKTt2YXIgYT1uLmNvbnRhaW5lcixzPW4ub25FcnJvcixjPXZvaWQgMD09PXM/ZnVuY3Rpb24oKXt9OnMsdT17bG9jYWxlOm8uc3RvcmVQcm9maWxlLnN0b3JlTGFuZ3VhZ2UsY29sbGVjdFNoaXBwaW5nOiEwLHN1YnRvdGFsOmkuc3VidG90YWwsY3VycmVuY3lDb2RlOm8uY3VycmVuY3kuY29kZX07cmV0dXJuIFByb21pc2UuYWxsKFtlLl92aXNhQ2hlY2tvdXRTY3JpcHRMb2FkZXIubG9hZChlLl9wYXltZW50TWV0aG9kLmNvbmZpZy50ZXN0TW9kZSksZS5fYnJhaW50cmVlVmlzYUNoZWNrb3V0UGF5bWVudFByb2Nlc3Nvci5pbml0aWFsaXplKGUuX3BheW1lbnRNZXRob2QuY2xpZW50VG9rZW4sdSldKS50aGVuKChmdW5jdGlvbih0KXt2YXIgbj10WzBdLHI9dFsxXSxpPWUuX2NyZWF0ZVNpZ25JbkJ1dHRvbihhLGUuX2J1dHRvbkNsYXNzTmFtZSk7cmV0dXJuIG4uaW5pdChyKSxuLm9uKFwicGF5bWVudC5zdWNjZXNzXCIsKGZ1bmN0aW9uKHQpe3JldHVybiBlLl9wYXltZW50SW5zdHJ1bWVudFNlbGVjdGVkKHQpLmNhdGNoKChmdW5jdGlvbih0KXtyZXR1cm4gYyh0KX0pKX0pKSxuLm9uKFwicGF5bWVudC5lcnJvclwiLChmdW5jdGlvbih0LGUpe3JldHVybiBjKGUpfSkpLGl9KSkudGhlbigoZnVuY3Rpb24odCl7dC5zdHlsZS52aXNpYmlsaXR5PVwidmlzaWJsZVwifSkpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGUuX3N0b3JlLmdldFN0YXRlKCl9KSl9LHQucHJvdG90eXBlLnNpZ25Jbj1mdW5jdGlvbigpe3Rocm93IG5ldyBBdC5hKCdJbiBvcmRlciB0byBzaWduIGluIHZpYSBWaXNhQ2hlY2tvdXQsIHRoZSBzaG9wcGVyIG11c3QgY2xpY2sgb24gXCJWaXNhIENoZWNrb3V0XCIgYnV0dG9uLicpfSx0LnByb3RvdHlwZS5zaWduT3V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9yZW1vdGVDaGVja291dEFjdGlvbkNyZWF0b3Iuc2lnbk91dChcImJyYWludHJlZXZpc2FjaGVja291dFwiLHQpKX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5fcGF5bWVudE1ldGhvZD12b2lkIDAsdGhpcy5fYnJhaW50cmVlVmlzYUNoZWNrb3V0UGF5bWVudFByb2Nlc3Nvci5kZWluaXRpYWxpemUoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0Ll9zdG9yZS5nZXRTdGF0ZSgpfSkpfSx0LnByb3RvdHlwZS5fcGF5bWVudEluc3RydW1lbnRTZWxlY3RlZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKTtpZighdGhpcy5fcGF5bWVudE1ldGhvZCl0aHJvdyBuZXcgRXJyb3IoXCJQYXltZW50IG1ldGhvZCBub3QgaW5pdGlhbGl6ZWRcIik7dmFyIHI9dGhpcy5fcGF5bWVudE1ldGhvZC5pZDtyZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fY3VzdG9tZXJTdHJhdGVneUFjdGlvbkNyZWF0b3Iud2lkZ2V0SW50ZXJhY3Rpb24oKGZ1bmN0aW9uKCl7cmV0dXJuIGUuX2JyYWludHJlZVZpc2FDaGVja291dFBheW1lbnRQcm9jZXNzb3IuaGFuZGxlU3VjY2Vzcyh0LG4uc2hpcHBpbmdBZGRyZXNzLmdldFNoaXBwaW5nQWRkcmVzcygpLG4uYmlsbGluZ0FkZHJlc3MuZ2V0QmlsbGluZ0FkZHJlc3MoKSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gZS5fc3RvcmUuZGlzcGF0Y2goZS5fY2hlY2tvdXRBY3Rpb25DcmVhdG9yLmxvYWRDdXJyZW50Q2hlY2tvdXQoKSl9KSl9KSx7bWV0aG9kSWQ6cn0pLHtxdWV1ZUlkOlwid2lkZ2V0SW50ZXJhY3Rpb25cIn0pfSx0LnByb3RvdHlwZS5fY3JlYXRlU2lnbkluQnV0dG9uPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNcIit0KTtpZighbil0aHJvdyBuZXcgRXJyb3IoXCJOZWVkIGEgY29udGFpbmVyIHRvIHBsYWNlIHRoZSBidXR0b25cIik7cmV0dXJuIG4ucXVlcnlTZWxlY3RvcihcIi5cIitlKXx8dGhpcy5faW5zZXJ0VmlzYUNoZWNrb3V0QnV0dG9uKG4sZSl9LHQucHJvdG90eXBlLl9pbnNlcnRWaXNhQ2hlY2tvdXRCdXR0b249ZnVuY3Rpb24odCxlKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3JldHVybiBuLnN0eWxlLmRpc3BsYXk9XCJmbGV4XCIsbi5zdHlsZS5mbGV4RGlyZWN0aW9uPVwiY29sdW1uXCIsbi5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCIsbi5jbGFzc05hbWU9ZSxuLmlubmVySFRNTD0nXFxuICAgICAgICAgICAgPGltZ1xcbiAgICAgICAgICAgICAgICBhbHQ9XCJWaXNhIENoZWNrb3V0XCJcXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJ2LWJ1dHRvblwiXFxuICAgICAgICAgICAgICAgIHJvbGU9XCJidXR0b25cIlxcbiAgICAgICAgICAgICAgICBzcmM9XCJodHRwczovL3NlY3VyZS5jaGVja291dC52aXNhLmNvbS93YWxsZXQtc2VydmljZXMtd2ViL3hvL2J1dHRvbi5wbmc/YWNjZXB0Q2FuYWRpYW5WaXNhRGViaXQ9ZmFsc2UmY29icmFuZD10cnVlJnNpemU9MTU0XCJcXG4gICAgICAgICAgICAgICAgLz5cXG4gICAgICAgICAgICA8YSBjbGFzcz1cInYtbGVhcm4gdi1sZWFybi1kZWZhdWx0XCIgc3R5bGU9XCJ0ZXh0LWFsaWduOiByaWdodDsgZGlzcGxheTogYmxvY2s7IGZvbnQtc2l6ZTogMTBweDsgY29sb3I6ICMwMDMzNjY7XCIgaHJlZj1cIiNcIiBkYXRhLWxvY2FsZT1cImVuX1VTXCI+VGVsbCBNZSBNb3JlPC9hPicsdC5hcHBlbmRDaGlsZChuKSxufSx0fSgpLFR0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyLGksbyl7dGhpcy5fc3RvcmU9dCx0aGlzLl9wYXltZW50TWV0aG9kQWN0aW9uQ3JlYXRvcj1lLHRoaXMuX3JlbW90ZUNoZWNrb3V0QWN0aW9uQ3JlYXRvcj1uLHRoaXMuX2NoYXNlUGF5U2NyaXB0TG9hZGVyPXIsdGhpcy5fcmVxdWVzdFNlbmRlcj1pLHRoaXMuX2Zvcm1Qb3N0ZXI9b31yZXR1cm4gdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dC5jaGFzZXBheSxyPXQubWV0aG9kSWQ7aWYoIW58fCFyKXRocm93IG5ldyBJdC5hKCdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIFwib3B0aW9ucy5jaGFzZXBheVwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nKTtyZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3IubG9hZFBheW1lbnRNZXRob2QocikpLnRoZW4oKGZ1bmN0aW9uKHQpe2UuX3BheW1lbnRNZXRob2Q9dC5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kKHIpO3ZhciBpPXQuY2FydC5nZXRDYXJ0KCksbz10LmNvbmZpZy5nZXRTdG9yZUNvbmZpZygpO2lmKCFpKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdDYXJ0KTtpZighbyl0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nQ2hlY2tvdXRDb25maWcpO2lmKCFlLl9wYXltZW50TWV0aG9kfHwhZS5fcGF5bWVudE1ldGhvZC5pbml0aWFsaXphdGlvbkRhdGEuZGlnaXRhbFNlc3Npb25JZCl0aHJvdyBuZXcgYnQuYihidC5hLlBheW1lbnROb3RJbml0aWFsaXplZCk7dmFyIGE9bi5jb250YWluZXI7cmV0dXJuIGUuX2NoYXNlUGF5U2NyaXB0TG9hZGVyLmxvYWQoZS5fcGF5bWVudE1ldGhvZC5jb25maWcudGVzdE1vZGUpLnRoZW4oKGZ1bmN0aW9uKHQpe3ZhciBuPXQuQ2hhc2VQYXk7bi5jb25maWd1cmUoe2xhbmd1YWdlOm8uc3RvcmVQcm9maWxlLnN0b3JlTGFuZ3VhZ2V9KSxuLmlzQ2hhc2VQYXlVcCYmbi5pbnNlcnRCdXR0b25zKHtjb250YWluZXJzOlthXX0pLG4ub24obi5FdmVudFR5cGUuU1RBUlRfQ0hFQ0tPVVQsKGZ1bmN0aW9uKCl7ZS5fc3RvcmUuZGlzcGF0Y2goZS5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3IubG9hZFBheW1lbnRNZXRob2QocikpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIHQ9ZS5fc3RvcmUuZ2V0U3RhdGUoKS5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kKHIpLGk9dCYmdC5pbml0aWFsaXphdGlvbkRhdGEmJnQuaW5pdGlhbGl6YXRpb25EYXRhLmRpZ2l0YWxTZXNzaW9uSWQ7aSYmbi5zdGFydENoZWNrb3V0KGkpfSkpfSkpLG4ub24obi5FdmVudFR5cGUuQ09NUExFVEVfQ0hFQ0tPVVQsKGZ1bmN0aW9uKHQpe3ZhciBuPWUuX3N0b3JlLmdldFN0YXRlKCkucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZChyKSxpPW4mJm4uaW5pdGlhbGl6YXRpb25EYXRhJiZuLmluaXRpYWxpemF0aW9uRGF0YS5tZXJjaGFudFJlcXVlc3RJZDtpJiZlLl9zZXRFeHRlcm5hbENoZWNrb3V0RGF0YSh0LGkpLnRoZW4oKGZ1bmN0aW9uKCl7ZS5fcmVsb2FkUGFnZSgpfSkpfSkpfSkpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGUuX3N0b3JlLmdldFN0YXRlKCl9KSl9LHQucHJvdG90eXBlLmRlaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSl9LHQucHJvdG90eXBlLnNpZ25Jbj1mdW5jdGlvbigpe3Rocm93IG5ldyBBdC5hKCdJbiBvcmRlciB0byBzaWduIGluIHZpYSBDaGFzZSBQYXnCriwgdGhlIHNob3BwZXIgbXVzdCBjbGljayBvbiBcIkNoYXNlIFBhecKuXCIgYnV0dG9uLicpfSx0LnByb3RvdHlwZS5zaWduT3V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3N0b3JlLmdldFN0YXRlKCkucGF5bWVudC5nZXRQYXltZW50SWQoKTtyZXR1cm4gZT90aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9yZW1vdGVDaGVja291dEFjdGlvbkNyZWF0b3Iuc2lnbk91dChlLnByb3ZpZGVySWQsdCkpOlByb21pc2UucmVzb2x2ZSh0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpKX0sdC5wcm90b3R5cGUuX3NldEV4dGVybmFsQ2hlY2tvdXREYXRhPWZ1bmN0aW9uKHQsZSl7dmFyIG49e2hlYWRlcnM6e0FjY2VwdDpcInRleHQvaHRtbFwiLFwiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLThcIn0sYm9keTp7c2Vzc2lvblRva2VuOnQuc2Vzc2lvblRva2VuLG1lcmNoYW50UmVxdWVzdElkOmV9LG1ldGhvZDpcInBvc3RcIn07cmV0dXJuIHRoaXMuX3JlcXVlc3RTZW5kZXIuc2VuZFJlcXVlc3QoXCJjaGVja291dC5waHA/cHJvdmlkZXI9Y2hhc2VwYXkmYWN0aW9uPXNldF9leHRlcm5hbF9jaGVja291dFwiLG4pfSx0LnByb3RvdHlwZS5fcmVsb2FkUGFnZT1mdW5jdGlvbigpe3RoaXMuX2Zvcm1Qb3N0ZXIucG9zdEZvcm0oXCIvY2hlY2tvdXQucGhwXCIse2hlYWRlcnM6e0FjY2VwdDpcInRleHQvaHRtbFwiLFwiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIn0scGFyYW1zOntmcm9tQ2hhc2VQYXk6ITB9fSl9LHR9KCksUnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fc3RvcmU9dCx0aGlzLl9jdXN0b21lckFjdGlvbkNyZWF0b3I9ZX1yZXR1cm4gdC5wcm90b3R5cGUuc2lnbkluPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX2N1c3RvbWVyQWN0aW9uQ3JlYXRvci5zaWduSW5DdXN0b21lcih0LGUpKX0sdC5wcm90b3R5cGUuc2lnbk91dD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fY3VzdG9tZXJBY3Rpb25DcmVhdG9yLnNpZ25PdXRDdXN0b21lcih0KSl9LHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3N0b3JlLmdldFN0YXRlKCkpfSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3N0b3JlLmdldFN0YXRlKCkpfSx0fSgpLER0PW4oOTcpLHp0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyKXt0aGlzLl9zdG9yZT10LHRoaXMuX3JlbW90ZUNoZWNrb3V0QWN0aW9uQ3JlYXRvcj1lLHRoaXMuX2dvb2dsZVBheVBheW1lbnRQcm9jZXNzb3I9bix0aGlzLl9mb3JtUG9zdGVyPXJ9cmV0dXJuIHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXQubWV0aG9kSWQscj10aGlzLl9nZXRHb29nbGVQYXlPcHRpb25zKHQpO2lmKCFuKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdQYXltZW50TWV0aG9kKTtyZXR1cm4gdGhpcy5fZ29vZ2xlUGF5UGF5bWVudFByb2Nlc3Nvci5pbml0aWFsaXplKG4pLnRoZW4oKGZ1bmN0aW9uKCl7ZS5fd2FsbGV0QnV0dG9uPWUuX2NyZWF0ZVNpZ25JbkJ1dHRvbihyLmNvbnRhaW5lcil9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gZS5fc3RvcmUuZ2V0U3RhdGUoKX0pKX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5fd2FsbGV0QnV0dG9uJiZ0aGlzLl93YWxsZXRCdXR0b24ucGFyZW50Tm9kZSYmKHRoaXMuX3dhbGxldEJ1dHRvbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX3dhbGxldEJ1dHRvbiksdGhpcy5fd2FsbGV0QnV0dG9uPXZvaWQgMCksdGhpcy5fZ29vZ2xlUGF5UGF5bWVudFByb2Nlc3Nvci5kZWluaXRpYWxpemUoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0Ll9zdG9yZS5nZXRTdGF0ZSgpfSkpfSx0LnByb3RvdHlwZS5zaWduSW49ZnVuY3Rpb24oKXt0aHJvdyBuZXcgQXQuYSgnSW4gb3JkZXIgdG8gc2lnbiBpbiB2aWEgR29vZ2xlIFBheSwgdGhlIHNob3BwZXIgbXVzdCBjbGljayBvbiBcIkdvb2dsZSBQYXlcIiBidXR0b24uJyl9LHQucHJvdG90eXBlLnNpZ25PdXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKS5wYXltZW50LmdldFBheW1lbnRJZCgpO3JldHVybiBlP3RoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3JlbW90ZUNoZWNrb3V0QWN0aW9uQ3JlYXRvci5zaWduT3V0KGUucHJvdmlkZXJJZCx0KSk6UHJvbWlzZS5yZXNvbHZlKHRoaXMuX3N0b3JlLmdldFN0YXRlKCkpfSx0LnByb3RvdHlwZS5fY3JlYXRlU2lnbkluQnV0dG9uPWZ1bmN0aW9uKHQpe3ZhciBlPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjXCIrdCk7aWYoIWUpdGhyb3cgbmV3IEl0LmEoXCJVbmFibGUgdG8gY3JlYXRlIHNpZ24taW4gYnV0dG9uIHdpdGhvdXQgdmFsaWQgY29udGFpbmVyIElELlwiKTt2YXIgbj10aGlzLl9nb29nbGVQYXlQYXltZW50UHJvY2Vzc29yLmNyZWF0ZUJ1dHRvbih0aGlzLl9oYW5kbGVXYWxsZXRCdXR0b25DbGljayk7cmV0dXJuIGUuYXBwZW5kQ2hpbGQobiksbn0sdC5wcm90b3R5cGUuX2dldEdvb2dsZVBheU9wdGlvbnM9ZnVuY3Rpb24odCl7aWYoXCJnb29nbGVwYXlhZHllbnYyXCI9PT10Lm1ldGhvZElkJiZ0Lmdvb2dsZXBheWFkeWVudjIpcmV0dXJuIHQuZ29vZ2xlcGF5YWR5ZW52MjtpZihcImdvb2dsZXBheWF1dGhvcml6ZW5ldFwiPT09dC5tZXRob2RJZCYmdC5nb29nbGVwYXlhdXRob3JpemVuZXQpcmV0dXJuIHQuZ29vZ2xlcGF5YXV0aG9yaXplbmV0O2lmKFwiZ29vZ2xlcGF5YnJhaW50cmVlXCI9PT10Lm1ldGhvZElkJiZ0Lmdvb2dsZXBheWJyYWludHJlZSlyZXR1cm4gdC5nb29nbGVwYXlicmFpbnRyZWU7aWYoXCJnb29nbGVwYXljaGVja291dGNvbVwiPT09dC5tZXRob2RJZCYmdC5nb29nbGVwYXljaGVja291dGNvbSlyZXR1cm4gdC5nb29nbGVwYXljaGVja291dGNvbTtpZihcImdvb2dsZXBheXN0cmlwZVwiPT09dC5tZXRob2RJZCYmdC5nb29nbGVwYXlzdHJpcGUpcmV0dXJuIHQuZ29vZ2xlcGF5c3RyaXBlO3Rocm93IG5ldyBJdC5hfSx0LnByb3RvdHlwZS5faGFuZGxlV2FsbGV0QnV0dG9uQ2xpY2s9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLG4scixpO3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24obyl7c3dpdGNoKG8ubGFiZWwpe2Nhc2UgMDp0LnByZXZlbnREZWZhdWx0KCksZT10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLmNhcnQuZ2V0Q2FydE9yVGhyb3coKSxuPU9iamVjdChqdC5hKShlKT4wLG8ubGFiZWw9MTtjYXNlIDE6cmV0dXJuIG8udHJ5cy5wdXNoKFsxLDcsLDhdKSxbNCx0aGlzLl9nb29nbGVQYXlQYXltZW50UHJvY2Vzc29yLmRpc3BsYXlXYWxsZXQoKV07Y2FzZSAyOnJldHVybiByPW8uc2VudCgpLFs0LHRoaXMuX2dvb2dsZVBheVBheW1lbnRQcm9jZXNzb3IuaGFuZGxlU3VjY2VzcyhyKV07Y2FzZSAzOnJldHVybiBvLnNlbnQoKSxuJiZyLnNoaXBwaW5nQWRkcmVzcz9bNCx0aGlzLl9nb29nbGVQYXlQYXltZW50UHJvY2Vzc29yLnVwZGF0ZVNoaXBwaW5nQWRkcmVzcyhyLnNoaXBwaW5nQWRkcmVzcyldOlszLDVdO2Nhc2UgNDpvLnNlbnQoKSxvLmxhYmVsPTU7Y2FzZSA1OnJldHVybls0LHRoaXMuX29uUGF5bWVudFNlbGVjdENvbXBsZXRlKCldO2Nhc2UgNjpyZXR1cm4gby5zZW50KCksWzMsOF07Y2FzZSA3OmlmKChpPW8uc2VudCgpKSYmXCJDQU5DRUxFRFwiIT09aS5tZXNzYWdlKXRocm93IGk7cmV0dXJuWzMsOF07Y2FzZSA4OnJldHVyblsyXX19KSl9KSl9LHQucHJvdG90eXBlLl9vblBheW1lbnRTZWxlY3RDb21wbGV0ZT1mdW5jdGlvbigpe3RoaXMuX2Zvcm1Qb3N0ZXIucG9zdEZvcm0oXCIvY2hlY2tvdXQucGhwXCIse2hlYWRlcnM6e0FjY2VwdDpcInRleHQvaHRtbFwiLFwiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIn19KX0sT2JqZWN0KGQuX19kZWNvcmF0ZSkoW0R0LmFdLHQucHJvdG90eXBlLFwiX2hhbmRsZVdhbGxldEJ1dHRvbkNsaWNrXCIsbnVsbCksdH0oKSxMdD1uKDEzMiksTnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIpe3RoaXMuX3N0b3JlPXQsdGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3I9ZSx0aGlzLl9yZW1vdGVDaGVja291dEFjdGlvbkNyZWF0b3I9bix0aGlzLl9tYXN0ZXJwYXNzU2NyaXB0TG9hZGVyPXJ9cmV0dXJuIHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXQubWFzdGVycGFzcyxyPXQubWV0aG9kSWQ7aWYoIW58fCFyKXRocm93IG5ldyBJdC5hKCdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIFwib3B0aW9ucy5tYXN0ZXJwYXNzXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicpO3JldHVybiB0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9wYXltZW50TWV0aG9kQWN0aW9uQ3JlYXRvci5sb2FkUGF5bWVudE1ldGhvZChyKSkudGhlbigoZnVuY3Rpb24odCl7aWYoZS5fcGF5bWVudE1ldGhvZD10LnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2QociksIWUuX3BheW1lbnRNZXRob2R8fCFlLl9wYXltZW50TWV0aG9kLmluaXRpYWxpemF0aW9uRGF0YS5jaGVja291dElkKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdQYXltZW50TWV0aG9kKTt2YXIgaT10LmNhcnQuZ2V0Q2FydCgpO2lmKCFpKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdDYXJ0KTt2YXIgbz1uLmNvbnRhaW5lcixhPXtjaGVja291dElkOmUuX3BheW1lbnRNZXRob2QuaW5pdGlhbGl6YXRpb25EYXRhLmNoZWNrb3V0SWQsYWxsb3dlZENhcmRUeXBlczplLl9wYXltZW50TWV0aG9kLmluaXRpYWxpemF0aW9uRGF0YS5hbGxvd2VkQ2FyZFR5cGVzLGFtb3VudDppLmNhcnRBbW91bnQudG9TdHJpbmcoKSxjdXJyZW5jeTppLmN1cnJlbmN5LmNvZGUsY2FydElkOmkuaWQsc3VwcHJlc3NTaGlwcGluZ0FkZHJlc3M6ITEsY2FsbGJhY2tVcmw6T2JqZWN0KEx0LmEpKFwiY2hlY2tvdXRcIil9O3JldHVybiBlLl9tYXN0ZXJwYXNzU2NyaXB0TG9hZGVyLmxvYWQoZS5fcGF5bWVudE1ldGhvZC5jb25maWcudGVzdE1vZGUpLnRoZW4oKGZ1bmN0aW9uKHQpe2UuX3NpZ25JbkJ1dHRvbj1lLl9jcmVhdGVTaWduSW5CdXR0b24obyksZS5fc2lnbkluQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLChmdW5jdGlvbigpe3QuY2hlY2tvdXQoYSl9KSl9KSl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gZS5fc3RvcmUuZ2V0U3RhdGUoKX0pKX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BheW1lbnRNZXRob2Q9dm9pZCAwLHRoaXMuX3NpZ25JbkJ1dHRvbiYmdGhpcy5fc2lnbkluQnV0dG9uLnBhcmVudE5vZGUmJih0aGlzLl9zaWduSW5CdXR0b24ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl9zaWduSW5CdXR0b24pLHRoaXMuX3NpZ25JbkJ1dHRvbj12b2lkIDApLFByb21pc2UucmVzb2x2ZSh0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpKX0sdC5wcm90b3R5cGUuc2lnbkluPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEF0LmEoJ0luIG9yZGVyIHRvIHNpZ24gaW4gdmlhIE1hc3RlcnBhc3MsIHRoZSBzaG9wcGVyIG11c3QgY2xpY2sgb24gXCJNYXN0ZXJwYXNzXCIgYnV0dG9uLicpfSx0LnByb3RvdHlwZS5zaWduT3V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3N0b3JlLmdldFN0YXRlKCkucGF5bWVudC5nZXRQYXltZW50SWQoKTtyZXR1cm4gZT90aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9yZW1vdGVDaGVja291dEFjdGlvbkNyZWF0b3Iuc2lnbk91dChlLnByb3ZpZGVySWQsdCkpOlByb21pc2UucmVzb2x2ZSh0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpKX0sdC5wcm90b3R5cGUuX2NyZWF0ZVNpZ25JbkJ1dHRvbj1mdW5jdGlvbih0KXt2YXIgZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI1wiK3QpO2lmKCFlKXRocm93IG5ldyBJdC5hKFwiVW5hYmxlIHRvIGNyZWF0ZSBzaWduLWluIGJ1dHRvbiB3aXRob3V0IHZhbGlkIGNvbnRhaW5lciBJRC5cIik7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO3JldHVybiBuLnR5cGU9XCJpbWFnZVwiLG4uc3JjPVwiaHR0cHM6Ly9zdGF0aWMubWFzdGVycGFzcy5jb20vZHluL2ltZy9idG4vZ2xvYmFsL21wX2Noa19idG5fMTYweDAzN3B4LnN2Z1wiLGUuYXBwZW5kQ2hpbGQobiksbn0sdH0oKSxGdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLl9zdG9yZT10LHRoaXMuX3JlbW90ZUNoZWNrb3V0QWN0aW9uQ3JlYXRvcj1lfXJldHVybiB0LnByb3RvdHlwZS5zaWduSW49ZnVuY3Rpb24oKXt0aHJvdyBuZXcgQXQuYSgnSW4gb3JkZXIgdG8gc2lnbiBpbiB2aWEgTWFzdGVycGFzcywgdGhlIHNob3BwZXIgbXVzdCBjbGljayBvbiBcIk1hc3RlcnBhc3NcIiBidXR0b24uJyl9LHQucHJvdG90eXBlLnNpZ25PdXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKS5wYXltZW50LmdldFBheW1lbnRJZCgpO3JldHVybiBlP3RoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3JlbW90ZUNoZWNrb3V0QWN0aW9uQ3JlYXRvci5zaWduT3V0KGUucHJvdmlkZXJJZCx0KSk6UHJvbWlzZS5yZXNvbHZlKHRoaXMuX3N0b3JlLmdldFN0YXRlKCkpfSx0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpKX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpKX0sdH0oKTt2YXIgcXQ9big0MiksVXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX2NvdW50cnlSZXF1ZXN0U2VuZGVyPXR9cmV0dXJuIHQucHJvdG90eXBlLmxvYWRDb3VudHJpZXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gYi5PYnNlcnZhYmxlLmNyZWF0ZSgoZnVuY3Rpb24obil7bi5uZXh0KE9iamVjdChnLmNyZWF0ZUFjdGlvbikocXQuYS5Mb2FkQ291bnRyaWVzUmVxdWVzdGVkKSksZS5fY291bnRyeVJlcXVlc3RTZW5kZXIubG9hZENvdW50cmllcyh0KS50aGVuKChmdW5jdGlvbih0KXtuLm5leHQoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShxdC5hLkxvYWRDb3VudHJpZXNTdWNjZWVkZWQsdC5ib2R5LmRhdGEpKSxuLmNvbXBsZXRlKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe24uZXJyb3IoT2JqZWN0KGcuY3JlYXRlRXJyb3JBY3Rpb24pKHF0LmEuTG9hZENvdW50cmllc0ZhaWxlZCx0KSl9KSl9KSl9LHR9KCkseHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fcmVxdWVzdFNlbmRlcj10LHRoaXMuX2NvbmZpZz1lfXJldHVybiB0LnByb3RvdHlwZS5sb2FkQ291bnRyaWVzPWZ1bmN0aW9uKHQpe3ZhciBlPSh2b2lkIDA9PT10P3t9OnQpLnRpbWVvdXQsbj17XCJBY2NlcHQtTGFuZ3VhZ2VcIjp0aGlzLl9jb25maWcubG9jYWxlfTtyZXR1cm4gdGhpcy5fcmVxdWVzdFNlbmRlci5nZXQoXCIvaW50ZXJuYWxhcGkvdjEvc3RvcmUvY291bnRyaWVzXCIse2hlYWRlcnM6bix0aW1lb3V0OmV9KX0sdH0oKSxCdD1uKDIpLEd0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9yZXF1ZXN0U2VuZGVyPXR9cmV0dXJuIHQucHJvdG90eXBlLmxvYWRPcmRlcj1mdW5jdGlvbih0LGUpe3ZhciBuPXZvaWQgMD09PWU/e306ZSxyPW4udGltZW91dCxpPW4ucGFyYW1zLG89XCIvYXBpL3N0b3JlZnJvbnQvb3JkZXJzL1wiK3QsYT17QWNjZXB0OkkuYS5Kc29uVjF9O3JldHVybiB0aGlzLl9yZXF1ZXN0U2VuZGVyLmdldChvLHtwYXJhbXM6e2luY2x1ZGU6T2JqZWN0KEEuYSkoT2JqZWN0KGQuX19zcHJlYWRBcnJheXMpKFtcInBheW1lbnRzXCIsXCJsaW5lSXRlbXMucGh5c2ljYWxJdGVtcy5zb2NpYWxNZWRpYVwiLFwibGluZUl0ZW1zLnBoeXNpY2FsSXRlbXMub3B0aW9uc1wiLFwibGluZUl0ZW1zLmRpZ2l0YWxJdGVtcy5zb2NpYWxNZWRpYVwiLFwibGluZUl0ZW1zLmRpZ2l0YWxJdGVtcy5vcHRpb25zXCJdLGkmJmkuaW5jbHVkZXx8W10pKX0saGVhZGVyczphLHRpbWVvdXQ6cn0pfSx0LnByb3RvdHlwZS5zdWJtaXRPcmRlcj1mdW5jdGlvbih0LGUpe3ZhciBuPXZvaWQgMD09PWU/e306ZSxyPW4uaGVhZGVycyxpPW4udGltZW91dDtyZXR1cm4gdGhpcy5fcmVxdWVzdFNlbmRlci5wb3N0KFwiL2ludGVybmFsYXBpL3YxL2NoZWNrb3V0L29yZGVyXCIse2JvZHk6dCxoZWFkZXJzOk9iamVjdChCdC5vbWl0QnkpKHtcIlgtQ2hlY2tvdXQtVmFyaWFudFwiOnImJnIuY2hlY2tvdXRWYXJpYW50LFwiWC1DaGVja291dC1TREstVmVyc2lvblwiOlwiMS4xMjMuMFwifSxCdC5pc05pbCksdGltZW91dDppfSl9LHQucHJvdG90eXBlLmZpbmFsaXplT3JkZXI9ZnVuY3Rpb24odCxlKXt2YXIgbj0odm9pZCAwPT09ZT97fTplKS50aW1lb3V0LHI9XCIvaW50ZXJuYWxhcGkvdjEvY2hlY2tvdXQvb3JkZXIvXCIrdDtyZXR1cm4gdGhpcy5fcmVxdWVzdFNlbmRlci5wb3N0KHIse3RpbWVvdXQ6bn0pfSx0fSgpLFZ0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT10LmNhbGwodGhpcyxcIllvdSBoYXZlbid0IGNvbXBsZXRlIG91ciBzcGFtIGNoZWNrLiBQbGVhc2UgdHJ5IGFnYWluLlwiKXx8dGhpcztyZXR1cm4gZS5uYW1lPVwiU3BhbVByb3RlY3Rpb25Ob3RDb21wbGV0ZWRFcnJvclwiLGUudHlwZT1cInNwYW1fcHJvdGVjdGlvbl9ub3RfY29tcGxldGVkXCIsZX1yZXR1cm4gT2JqZWN0KGQuX19leHRlbmRzKShlLHQpLGV9KGh0LmEpLFl0PW4oMTcpLEh0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuX29yZGVyUmVxdWVzdFNlbmRlcj10LHRoaXMuX2NoZWNrb3V0VmFsaWRhdG9yPWV9cmV0dXJuIHQucHJvdG90eXBlLmxvYWRPcmRlcj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBiLk9ic2VydmFibGUoKGZ1bmN0aW9uKHIpe3IubmV4dChPYmplY3QoZy5jcmVhdGVBY3Rpb24pKFl0LmEuTG9hZE9yZGVyUmVxdWVzdGVkKSksbi5fb3JkZXJSZXF1ZXN0U2VuZGVyLmxvYWRPcmRlcih0LGUpLnRoZW4oKGZ1bmN0aW9uKHQpe3IubmV4dChPYmplY3QoZy5jcmVhdGVBY3Rpb24pKFl0LmEuTG9hZE9yZGVyU3VjY2VlZGVkLHQuYm9keSkpLHIuY29tcGxldGUoKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7ci5lcnJvcihPYmplY3QoZy5jcmVhdGVFcnJvckFjdGlvbikoWXQuYS5Mb2FkT3JkZXJGYWlsZWQsdCkpfSkpfSkpfSx0LnByb3RvdHlwZS5sb2FkT3JkZXJQYXltZW50cz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBiLk9ic2VydmFibGUoKGZ1bmN0aW9uKHIpe3IubmV4dChPYmplY3QoZy5jcmVhdGVBY3Rpb24pKFl0LmEuTG9hZE9yZGVyUGF5bWVudHNSZXF1ZXN0ZWQpKSxuLl9vcmRlclJlcXVlc3RTZW5kZXIubG9hZE9yZGVyKHQsZSkudGhlbigoZnVuY3Rpb24odCl7ci5uZXh0KE9iamVjdChnLmNyZWF0ZUFjdGlvbikoWXQuYS5Mb2FkT3JkZXJQYXltZW50c1N1Y2NlZWRlZCx0LmJvZHkpKSxyLmNvbXBsZXRlKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3IuZXJyb3IoT2JqZWN0KGcuY3JlYXRlRXJyb3JBY3Rpb24pKFl0LmEuTG9hZE9yZGVyUGF5bWVudHNGYWlsZWQsdCkpfSkpfSkpfSx0LnByb3RvdHlwZS5sb2FkQ3VycmVudE9yZGVyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBPYmplY3QoYi5kZWZlcikoKGZ1bmN0aW9uKCl7dmFyIHI9ZS5fZ2V0Q3VycmVudE9yZGVySWQobi5nZXRTdGF0ZSgpKTtpZighcil0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nT3JkZXJJZCk7cmV0dXJuIGUubG9hZE9yZGVyKHIsdCl9KSl9fSx0LnByb3RvdHlwZS5zdWJtaXRPcmRlcj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QoYi5jb25jYXQpKE9iamVjdChiLm9mKShPYmplY3QoZy5jcmVhdGVBY3Rpb24pKFl0LmEuU3VibWl0T3JkZXJSZXF1ZXN0ZWQpKSxPYmplY3QoYi5kZWZlcikoKGZ1bmN0aW9uKCl7dmFyIGk9ci5nZXRTdGF0ZSgpLG89aS5jb25maWcuZ2V0RXh0ZXJuYWxTb3VyY2UoKSxhPWkuY29uZmlnLmdldFZhcmlhbnRJZGVudGlmaWNhdGlvblRva2VuKCkscz1pLmNoZWNrb3V0LmdldENoZWNrb3V0KCk7aWYoIXMpdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ0NoZWNrb3V0KTtpZihzLnNob3VsZEV4ZWN1dGVTcGFtQ2hlY2spdGhyb3cgbmV3IFZ0O3JldHVybiBPYmplY3QoYi5mcm9tKShuLl9jaGVja291dFZhbGlkYXRvci52YWxpZGF0ZShzLGUpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIG4uX29yZGVyUmVxdWVzdFNlbmRlci5zdWJtaXRPcmRlcihuLl9tYXBUb09yZGVyUmVxdWVzdEJvZHkodCxzLmN1c3RvbWVyTWVzc2FnZSxvKSxPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LGUpLHtoZWFkZXJzOntjaGVja291dFZhcmlhbnQ6YX19KSl9KSkpLnBpcGUoT2JqZWN0KE0uc3dpdGNoTWFwKSgoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChiLmNvbmNhdCkobi5sb2FkT3JkZXIodC5ib2R5LmRhdGEub3JkZXIub3JkZXJJZCxlKSxPYmplY3QoYi5vZikoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShZdC5hLlN1Ym1pdE9yZGVyU3VjY2VlZGVkLHQuYm9keS5kYXRhLE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30sdC5ib2R5Lm1ldGEpLHt0b2tlbjp0LmhlYWRlcnMudG9rZW59KSkpKX0pKSl9KSkucGlwZShPYmplY3QoTS5jYXRjaEVycm9yKSgoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChULmEpKFl0LmEuU3VibWl0T3JkZXJGYWlsZWQsdCl9KSkpKX19LHQucHJvdG90eXBlLmZpbmFsaXplT3JkZXI9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiBPYmplY3QoYi5jb25jYXQpKE9iamVjdChiLm9mKShPYmplY3QoZy5jcmVhdGVBY3Rpb24pKFl0LmEuRmluYWxpemVPcmRlclJlcXVlc3RlZCkpLE9iamVjdChiLmZyb20pKHRoaXMuX29yZGVyUmVxdWVzdFNlbmRlci5maW5hbGl6ZU9yZGVyKHQsZSkpLnBpcGUoT2JqZWN0KE0uc3dpdGNoTWFwKSgoZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdChiLmNvbmNhdCkobi5sb2FkT3JkZXIodCxlKSxPYmplY3QoYi5vZikoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShZdC5hLkZpbmFsaXplT3JkZXJTdWNjZWVkZWQsci5ib2R5LmRhdGEpKSl9KSkpKS5waXBlKE9iamVjdChNLmNhdGNoRXJyb3IpKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KFQuYSkoWXQuYS5GaW5hbGl6ZU9yZGVyRmFpbGVkLHQpfSkpKX0sdC5wcm90b3R5cGUuX2dldEN1cnJlbnRPcmRlcklkPWZ1bmN0aW9uKHQpe3ZhciBlPXQub3JkZXIuZ2V0T3JkZXIoKSxuPXQuY2hlY2tvdXQuZ2V0Q2hlY2tvdXQoKTtyZXR1cm4gZSYmZS5vcmRlcklkfHxuJiZuLm9yZGVySWR9LHQucHJvdG90eXBlLl9tYXBUb09yZGVyUmVxdWVzdEJvZHk9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXQucGF5bWVudCxpPU9iamVjdChkLl9fcmVzdCkodCxbXCJwYXltZW50XCJdKTtyZXR1cm4gcj9PYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LGkpLHtjdXN0b21lck1lc3NhZ2U6ZSxleHRlcm5hbFNvdXJjZTpuLHBheW1lbnQ6e3BheW1lbnREYXRhOnIucGF5bWVudERhdGEsbmFtZTpyLm1ldGhvZElkLGdhdGV3YXk6ci5nYXRld2F5SWR9fSk6T2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSxpKSx7Y3VzdG9tZXJNZXNzYWdlOmUsZXh0ZXJuYWxTb3VyY2U6bn0pfSx0fSgpLFd0PW4oMTAyKTt2YXIgS3QsSnQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPXQuY2FsbCh0aGlzLFwiVGhlIGN1cnJlbnQgb3JkZXIgZG9lcyBub3QgbmVlZCB0byBiZSBmaW5hbGl6ZWQgYXQgdGhpcyBzdGFnZS5cIil8fHRoaXM7cmV0dXJuIGUubmFtZT1cIk9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvclwiLGUudHlwZT1cIm9yZGVyX2ZpbmFsaXphdGlvbl9ub3RfcmVxdWlyZWRcIixlfXJldHVybiBPYmplY3QoZC5fX2V4dGVuZHMpKGUsdCksZX0oaHQuYSksWnQ9bigxMSk7IWZ1bmN0aW9uKHQpe3QuQURZRU5WMj1cImFkeWVudjJcIix0LkFEWUVOVjJfR09PR0xFUEFZPVwiZ29vZ2xlcGF5YWR5ZW52MlwiLHQuQUZGSVJNPVwiYWZmaXJtXCIsdC5BRlRFUlBBWT1cImFmdGVycGF5XCIsdC5BTUFaT049XCJhbWF6b25cIix0LkFVVEhPUklaRU5FVF9HT09HTEVfUEFZPVwiZ29vZ2xlcGF5YXV0aG9yaXplbmV0XCIsdC5BTUFaT05QQVlWMj1cImFtYXpvbnBheVwiLHQuQkFSQ0xBWVM9XCJiYXJjbGF5c1wiLHQuQkxVRVNOQVBWMj1cImJsdWVzbmFwdjJcIix0LkJPTFQ9XCJib2x0XCIsdC5DSEVDS09VVENPTT1cImNoZWNrb3V0Y29tXCIsdC5DUkVESVRfQ0FSRD1cImNyZWRpdGNhcmRcIix0LkNIRUNLT1VUQ09NX0dPT0dMRV9QQVk9XCJnb29nbGVwYXljaGVja291dGNvbVwiLHQuQ1lCRVJTT1VSQ0U9XCJjeWJlcnNvdXJjZVwiLHQuS0xBUk5BPVwia2xhcm5hXCIsdC5LTEFSTkFWMj1cImtsYXJuYXYyXCIsdC5MQVlCVVk9XCJsYXlidXlcIix0LkxFR0FDWT1cImxlZ2FjeVwiLHQuT0ZGTElORT1cIm9mZmxpbmVcIix0Lk9GRlNJVEU9XCJvZmZzaXRlXCIsdC5QQVlQQUw9XCJwYXlwYWxcIix0LlBBWVBBTF9FWFBSRVNTPVwicGF5cGFsZXhwcmVzc1wiLHQuUEFZUEFMX0VYUFJFU1NfQ1JFRElUPVwicGF5cGFsZXhwcmVzc2NyZWRpdFwiLHQuUEFZUEFMX0NPTU1FUkNFPVwicGF5cGFsY29tbWVyY2VcIix0LlBBWVBBTF9DT01NRVJDRV9DUkVESVQ9XCJwYXlwYWxjb21tZXJjZWNyZWRpdFwiLHQuUEFZUEFMX0NPTU1FUkNFX0NSRURJVF9DQVJEPVwicGF5cGFsY29tbWVyY2VjcmVkaXRjYXJkc1wiLHQuUEFZUEFMX0NPTU1FUkNFX0FMVEVSTkFUSVZFX01FVEhPRFM9XCJwYXlwYWxjb21tZXJjZWFsdGVybmF0aXZlbWV0aG9kc1wiLHQuU0FHRV9QQVk9XCJzYWdlcGF5XCIsdC5TUVVBUkU9XCJzcXVhcmV2MlwiLHQuU1RSSVBFVjM9XCJzdHJpcGV2M1wiLHQuTk9fUEFZTUVOVF9EQVRBX1JFUVVJUkVEPVwibm9wYXltZW50ZGF0YXJlcXVpcmVkXCIsdC5CUkFJTlRSRUU9XCJicmFpbnRyZWVcIix0LkJSQUlOVFJFRV9QQVlQQUw9XCJicmFpbnRyZWVwYXlwYWxcIix0LkJSQUlOVFJFRV9QQVlQQUxfQ1JFRElUPVwiYnJhaW50cmVlcGF5cGFsY3JlZGl0XCIsdC5CUkFJTlRSRUVfVklTQV9DSEVDS09VVD1cImJyYWludHJlZXZpc2FjaGVja291dFwiLHQuQlJBSU5UUkVFX0dPT0dMRV9QQVk9XCJnb29nbGVwYXlicmFpbnRyZWVcIix0LkNIQVNFX1BBWT1cImNoYXNlcGF5XCIsdC5XRV9QQVk9XCJ3ZXBheVwiLHQuTUFTVEVSUEFTUz1cIm1hc3RlcnBhc3NcIix0LlNUUklQRV9HT09HTEVfUEFZPVwiZ29vZ2xlcGF5c3RyaXBlXCIsdC5TRVpaTEU9XCJzZXp6bGVcIix0LlpJUD1cInppcFwiLHQuQ09OVkVSR0U9XCJjb252ZXJnZVwifShLdHx8KEt0PXt9KSk7dmFyIFF0PUt0LFh0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dGhpcy5fc3RyYXRlZ3lSZWdpc3RyeT10LHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvcj1lLHRoaXMuX3NwYW1Qcm90ZWN0aW9uQWN0aW9uQ3JlYXRvcj1ufXJldHVybiB0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXQucGF5bWVudCxpPXZvaWQgMD09PXI/e306cixvPXQudXNlU3RvcmVDcmVkaXQsYT17bWV0aG9kSWQ6aS5tZXRob2RJZH07cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciBzPXIuZ2V0U3RhdGUoKS5jaGVja291dC5nZXRDaGVja291dE9yVGhyb3coKS5zaG91bGRFeGVjdXRlU3BhbUNoZWNrO3JldHVybiBPYmplY3QoYi5jb25jYXQpKHM/bi5fc3BhbVByb3RlY3Rpb25BY3Rpb25DcmVhdG9yLnZlcmlmeUNoZWNrb3V0U3BhbVByb3RlY3Rpb24oKShyKTpPYmplY3QoYi5lbXB0eSkoKSxPYmplY3QoYi5vZikoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShadC5hLkV4ZWN1dGVSZXF1ZXN0ZWQsdm9pZCAwLGEpKSxPYmplY3QoYi5kZWZlcikoKGZ1bmN0aW9uKCl7dmFyIHMsYz1yLmdldFN0YXRlKCk7aWYoYy5wYXltZW50LmlzUGF5bWVudERhdGFSZXF1aXJlZChvKSl7dmFyIHU9Yy5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kKGkubWV0aG9kSWQsaS5nYXRld2F5SWQpO2lmKCF1KXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdQYXltZW50TWV0aG9kKTtzPW4uX3N0cmF0ZWd5UmVnaXN0cnkuZ2V0QnlNZXRob2QodSl9ZWxzZSBzPW4uX3N0cmF0ZWd5UmVnaXN0cnkuZ2V0KFF0Lk5PX1BBWU1FTlRfREFUQV9SRVFVSVJFRCk7cmV0dXJuIHMuZXhlY3V0ZSh0LE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30sZSkse21ldGhvZElkOmkubWV0aG9kSWQsZ2F0ZXdheUlkOmkuZ2F0ZXdheUlkfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChnLmNyZWF0ZUFjdGlvbikoWnQuYS5FeGVjdXRlU3VjY2VlZGVkLHZvaWQgMCxhKX0pKX0pKSkucGlwZShPYmplY3QoTS5jYXRjaEVycm9yKSgoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChULmEpKFp0LmEuRXhlY3V0ZUZhaWxlZCx0LGEpfSkpKX19LHQucHJvdG90eXBlLmZpbmFsaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBPYmplY3QoYi5jb25jYXQpKE9iamVjdChiLm9mKShPYmplY3QoZy5jcmVhdGVBY3Rpb24pKFp0LmEuRmluYWxpemVSZXF1ZXN0ZWQpKSxlLl9sb2FkT3JkZXJQYXltZW50c0lmTmVlZGVkKG4sdCksT2JqZWN0KGIuZGVmZXIpKChmdW5jdGlvbigpe3ZhciByPW4uZ2V0U3RhdGUoKSxpPXIucGF5bWVudC5nZXRQYXltZW50SWQoKXx8e30sbz1pLnByb3ZpZGVySWQsYT12b2lkIDA9PT1vP1wiXCI6byxzPWkuZ2F0ZXdheUlkLGM9dm9pZCAwPT09cz9cIlwiOnMsdT1yLnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2QoYSxjKTtpZighdSl0aHJvdyBuZXcgSnQ7cmV0dXJuIGUuX3N0cmF0ZWd5UmVnaXN0cnkuZ2V0QnlNZXRob2QodSkuZmluYWxpemUoT2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSx0KSx7bWV0aG9kSWQ6dS5pZCxnYXRld2F5SWQ6dS5nYXRld2F5fSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChnLmNyZWF0ZUFjdGlvbikoWnQuYS5GaW5hbGl6ZVN1Y2NlZWRlZCx2b2lkIDAse21ldGhvZElkOnUuaWR9KX0pKX0pKSkucGlwZShPYmplY3QoTS5jYXRjaEVycm9yKSgoZnVuY3Rpb24odCl7dmFyIGU9bi5nZXRTdGF0ZSgpLnBheW1lbnQuZ2V0UGF5bWVudElkKCk7cmV0dXJuIE9iamVjdChULmEpKFp0LmEuRmluYWxpemVGYWlsZWQsdCx7bWV0aG9kSWQ6ZSYmZS5wcm92aWRlcklkfSl9KSkpfX0sdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dC5tZXRob2RJZCxyPXQuZ2F0ZXdheUlkO3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4gT2JqZWN0KGIuZGVmZXIpKChmdW5jdGlvbigpe3ZhciBvPWkuZ2V0U3RhdGUoKSxhPW8ucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZChuLHIpO2lmKCFhKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdQYXltZW50TWV0aG9kKTtyZXR1cm4gbiYmby5wYXltZW50U3RyYXRlZ2llcy5pc0luaXRpYWxpemVkKG4pP09iamVjdChiLmVtcHR5KSgpOk9iamVjdChiLmNvbmNhdCkoT2JqZWN0KGIub2YpKE9iamVjdChnLmNyZWF0ZUFjdGlvbikoWnQuYS5Jbml0aWFsaXplUmVxdWVzdGVkLHZvaWQgMCx7bWV0aG9kSWQ6bn0pKSxlLl9zdHJhdGVneVJlZ2lzdHJ5LmdldEJ5TWV0aG9kKGEpLmluaXRpYWxpemUoT2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSx0KSx7bWV0aG9kSWQ6bixnYXRld2F5SWQ6cn0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBPYmplY3QoZy5jcmVhdGVBY3Rpb24pKFp0LmEuSW5pdGlhbGl6ZVN1Y2NlZWRlZCx2b2lkIDAse21ldGhvZElkOm59KX0pKSl9KSkucGlwZShPYmplY3QoTS5jYXRjaEVycm9yKSgoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChULmEpKFp0LmEuSW5pdGlhbGl6ZUZhaWxlZCx0LHttZXRob2RJZDpufSl9KSkpfX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10Lm1ldGhvZElkLHI9dC5nYXRld2F5SWQ7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiBPYmplY3QoYi5kZWZlcikoKGZ1bmN0aW9uKCl7dmFyIG89aS5nZXRTdGF0ZSgpLGE9by5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kKG4scik7aWYoIWEpdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ1BheW1lbnRNZXRob2QpO3JldHVybiBuJiYhby5wYXltZW50U3RyYXRlZ2llcy5pc0luaXRpYWxpemVkKG4pP09iamVjdChiLmVtcHR5KSgpOk9iamVjdChiLmNvbmNhdCkoT2JqZWN0KGIub2YpKE9iamVjdChnLmNyZWF0ZUFjdGlvbikoWnQuYS5EZWluaXRpYWxpemVSZXF1ZXN0ZWQsdm9pZCAwLHttZXRob2RJZDpufSkpLGUuX3N0cmF0ZWd5UmVnaXN0cnkuZ2V0QnlNZXRob2QoYSkuZGVpbml0aWFsaXplKE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30sdCkse21ldGhvZElkOm4sZ2F0ZXdheUlkOnJ9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShadC5hLkRlaW5pdGlhbGl6ZVN1Y2NlZWRlZCx2b2lkIDAse21ldGhvZElkOm59KX0pKSl9KSkucGlwZShPYmplY3QoTS5jYXRjaEVycm9yKSgoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChULmEpKFp0LmEuRGVpbml0aWFsaXplRmFpbGVkLHQse21ldGhvZElkOm59KX0pKSl9fSx0LnByb3RvdHlwZS53aWRnZXRJbnRlcmFjdGlvbj1mdW5jdGlvbih0LGUpe3ZhciBuPXttZXRob2RJZDplJiZlLm1ldGhvZElkfTtyZXR1cm4gT2JqZWN0KGIuY29uY2F0KShPYmplY3QoYi5vZikoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShadC5hLldpZGdldEludGVyYWN0aW9uU3RhcnRlZCx2b2lkIDAsbikpLE9iamVjdChiLmRlZmVyKSgoZnVuY3Rpb24oKXtyZXR1cm4gdCgpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChnLmNyZWF0ZUFjdGlvbikoWnQuYS5XaWRnZXRJbnRlcmFjdGlvbkZpbmlzaGVkLHZvaWQgMCxuKX0pKX0pKSkucGlwZShPYmplY3QoTS5jYXRjaEVycm9yKSgoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChULmEpKFp0LmEuV2lkZ2V0SW50ZXJhY3Rpb25GYWlsZWQsdCxuKX0pKSl9LHQucHJvdG90eXBlLl9sb2FkT3JkZXJQYXltZW50c0lmTmVlZGVkPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRTdGF0ZSgpLmNoZWNrb3V0LmdldENoZWNrb3V0KCk7cmV0dXJuIG4mJm4ub3JkZXJJZD90aGlzLl9vcmRlckFjdGlvbkNyZWF0b3IubG9hZE9yZGVyUGF5bWVudHMobi5vcmRlcklkLGUpOk9iamVjdChiLmVtcHR5KSgpfSx0fSgpLCR0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QoQnQuaXNFcXVhbCkodGhpcy5fbm9ybWFsaXplKHQpLHRoaXMuX25vcm1hbGl6ZShlKSl9LHQucHJvdG90eXBlLl9ub3JtYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJue2NhcnRBbW91bnQ6dC5jYXJ0QW1vdW50LGN1cnJlbmN5OnQuY3VycmVuY3ksaWQ6dC5pZCxsaW5lSXRlbXM6e2RpZ2l0YWxJdGVtczp0LmxpbmVJdGVtcy5kaWdpdGFsSXRlbXMuc2xpY2UoKS5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybihcIlwiK3QucHJvZHVjdElkK3QudmFyaWFudElkKS5sb2NhbGVDb21wYXJlKFwiXCIrZS5wcm9kdWN0SWQrZS52YXJpYW50SWQpfSkpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJue2V4dGVuZGVkU2FsZVByaWNlOnQuZXh0ZW5kZWRTYWxlUHJpY2UscHJvZHVjdElkOnQucHJvZHVjdElkLHF1YW50aXR5OnQucXVhbnRpdHksdmFyaWFudElkOnQudmFyaWFudElkfX0pKSxnaWZ0Q2VydGlmaWNhdGVzOnQubGluZUl0ZW1zLmdpZnRDZXJ0aWZpY2F0ZXMuc2xpY2UoKS5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybihcIlwiK3QuaWQpLmxvY2FsZUNvbXBhcmUoXCJcIitlLmlkKX0pKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybnthbW91bnQ6dC5hbW91bnQscmVjaXBpZW50OnQucmVjaXBpZW50fX0pKSxwaHlzaWNhbEl0ZW1zOnQubGluZUl0ZW1zLnBoeXNpY2FsSXRlbXMuc2xpY2UoKS5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybihcIlwiK3QucHJvZHVjdElkK3QudmFyaWFudElkKS5sb2NhbGVDb21wYXJlKFwiXCIrZS5wcm9kdWN0SWQrZS52YXJpYW50SWQpfSkpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJue2V4dGVuZGVkU2FsZVByaWNlOnQuZXh0ZW5kZWRTYWxlUHJpY2UscHJvZHVjdElkOnQucHJvZHVjdElkLHF1YW50aXR5OnQucXVhbnRpdHksdmFyaWFudElkOnQudmFyaWFudElkLGdpZnRXcmFwcGluZzp0LmdpZnRXcmFwcGluZ319KSl9fX0sdH0oKSx0ZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9dC5jYWxsKHRoaXMsXCJBbiB1cGRhdGUgdG8geW91ciBzaG9wcGluZyBjYXJ0IGhhcyBiZWVuIGRldGVjdGVkIGFuZCB5b3VyIGF2YWlsYWJsZSBzaGlwcGluZyBjb3N0cyBoYXZlIGJlZW4gdXBkYXRlZC5cIil8fHRoaXM7cmV0dXJuIGUubmFtZT1cIkNhcnRDaGFuZ2VkRXJyb3JcIixlLnR5cGU9XCJjYXJ0X2NoYW5nZWRcIixlfXJldHVybiBPYmplY3QoZC5fX2V4dGVuZHMpKGUsdCksZX0oaHQuYSksZWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX2NoZWNrb3V0UmVxdWVzdFNlbmRlcj10fXJldHVybiB0LnByb3RvdHlwZS52YWxpZGF0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7aWYoIXQpdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ0NoZWNrb3V0KTtyZXR1cm4gdGhpcy5fY2hlY2tvdXRSZXF1ZXN0U2VuZGVyLmxvYWRDaGVja291dCh0LmlkLGUpLnRoZW4oKGZ1bmN0aW9uKGUpe3ZhciByPW5ldyAkdDtpZighKHQub3V0c3RhbmRpbmdCYWxhbmNlPT09ZS5ib2R5Lm91dHN0YW5kaW5nQmFsYW5jZSYmbi5fY29tcGFyZUNvdXBvbnModC5jb3Vwb25zLGUuYm9keS5jb3Vwb25zKSYmbi5fY29tcGFyZUdpZnRDZXJ0aWZpY2F0ZXModC5naWZ0Q2VydGlmaWNhdGVzLGUuYm9keS5naWZ0Q2VydGlmaWNhdGVzKSYmci5pc0VxdWFsKHQuY2FydCxlLmJvZHkuY2FydCkpKXRocm93IG5ldyB0ZX0pKX0sdC5wcm90b3R5cGUuX2NvbXBhcmVDb3Vwb25zPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdChCdC5pc0VxdWFsKShPYmplY3QoQnQubWFwKSh0LFwiY29kZVwiKSxPYmplY3QoQnQubWFwKShlLFwiY29kZVwiKSl9LHQucHJvdG90eXBlLl9jb21wYXJlR2lmdENlcnRpZmljYXRlcz1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QoQnQuaXNFcXVhbCkoT2JqZWN0KEJ0Lm1hcCkodCxcImNvZGVcIiksT2JqZWN0KEJ0Lm1hcCkoZSxcImNvZGVcIikpfSx0fSgpLG5lPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj1uZXcgUHJvbWlzZSgoZnVuY3Rpb24odCxuKXtlLmNhbmNlbD1ufSkpO3RoaXMucHJvbWlzZT1Qcm9taXNlLnJhY2UoW3Qsbl0pfSxyZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzLGV8fFwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgcmVxdWlyZWQgZWxlbWVudCBpcyB1bmV4cGVjdGVkbHkgZGV0YWNoZWQgZnJvbSB0aGUgcGFnZS5cIil8fHRoaXM7cmV0dXJuIG4ubmFtZT1cIlVuZXhwZWN0ZWREZXRhY2htZW50RXJyb3JcIixuLnR5cGU9XCJ1bmV4cGVjdGVkX2RldGFjaG1lbnRcIixufXJldHVybiBPYmplY3QoZC5fX2V4dGVuZHMpKGUsdCksZX0oaHQuYSksaWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX211dGF0aW9uT2JzZXJ2ZXI9dH1yZXR1cm4gdC5wcm90b3R5cGUuZW5zdXJlUHJlc2VuY2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG4scixpLG87cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihhKXtzd2l0Y2goYS5sYWJlbCl7Y2FzZSAwOm49bmV3IG5lKGUpLChyPXRoaXMuX211dGF0aW9uT2JzZXJ2ZXIuY3JlYXRlKChmdW5jdGlvbihlKXtlLmZvckVhY2goKGZ1bmN0aW9uKGUpezAhPT1BcnJheS5mcm9tKGUucmVtb3ZlZE5vZGVzKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiB0LnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiBlPT09dHx8ZS5jb250YWlucyh0KX0pKX0pKS5sZW5ndGgmJm4uY2FuY2VsKG5ldyByZSl9KSl9KSkpLm9ic2VydmUoZG9jdW1lbnQuYm9keSx7Y2hpbGRMaXN0OiEwLHN1YnRyZWU6ITB9KSxhLmxhYmVsPTE7Y2FzZSAxOnJldHVybiBhLnRyeXMucHVzaChbMSwzLCw0XSksWzQsbi5wcm9taXNlXTtjYXNlIDI6cmV0dXJuIGk9YS5zZW50KCksci5kaXNjb25uZWN0KCksWzIsaV07Y2FzZSAzOnRocm93IG89YS5zZW50KCksci5kaXNjb25uZWN0KCksbztjYXNlIDQ6cmV0dXJuWzJdfX0pKX0pKX0sdH0oKSxvZT1uKDE0NCksYWU9bigxNDUpLHNlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT10LmNhbGwodGhpcyxcIlBsZWFzZSBjb21wbGV0ZSBvdXIgaHVtYW4gdmVyaWZpY2F0aW9uIGNoYWxsZW5nZSBhbmQgdHJ5IGFnYWluLlwiKXx8dGhpcztyZXR1cm4gZS5uYW1lPVwiQ2FyZGluZ1Byb3RlY3Rpb25DaGFsbGVuZ2VOb3RDb21wbGV0ZWRFcnJvclwiLGUudHlwZT1cImNhcmRpbmdfcHJvdGVjdGlvbl9jaGFsbGVuZ2Vfbm90X2NvbXBsZXRlZFwiLGV9cmV0dXJuIE9iamVjdChkLl9fZXh0ZW5kcykoZSx0KSxlfShodC5hKSxjZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9dC5jYWxsKHRoaXMsXCJXZSB3ZXJlIG5vdCBhYmxlIHRvIHZlcmlmeSB0aGF0IHlvdSBhcmUgbm90IGEgcm9ib3QuIFBsZWFzZSB0cnkgYWdhaW4uXCIpfHx0aGlzO3JldHVybiBlLm5hbWU9XCJDYXJkaW5nUHJvdGVjdGlvbkZhaWxlZEVycm9yXCIsZS50eXBlPVwiY2FyZGluZ19wcm90ZWN0aW9uX2ZhaWxlZFwiLGV9cmV0dXJuIE9iamVjdChkLl9fZXh0ZW5kcykoZSx0KSxlfShodC5hKSx1ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fZ29vZ2xlUmVjYXB0Y2hhPXR9cmV0dXJuIHQucHJvdG90eXBlLmhhbmRsZT1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKG4pe3N3aXRjaChuLmxhYmVsKXtjYXNlIDA6aWYoIXRoaXMuX2lzUGF5bWVudEh1bWFuVmVyaWZpY2F0aW9uUmVxdWVzdCh0KSl0aHJvdyB0O3JldHVybls0LHRoaXMuX2luaXRpYWxpemUodC5ib2R5LmFkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkLmRhdGEua2V5KV07Y2FzZSAxOnJldHVybiBuLnNlbnQoKSxbMix0aGlzLl9nb29nbGVSZWNhcHRjaGEuZXhlY3V0ZSgpLnBpcGUoT2JqZWN0KE0udGFrZSkoMSkpLnBpcGUoT2JqZWN0KE0uc3dpdGNoTWFwKSgoZnVuY3Rpb24odCl7dmFyIG49dC5lcnJvcixyPXQudG9rZW47cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikoZSx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24odCl7aWYobiBpbnN0YW5jZW9mIGx0KXRocm93IG5ldyBzZTtpZihufHwhcil0aHJvdyBuZXcgY2U7cmV0dXJuWzIse3R5cGU6XCJyZWNhcHRjaGFfdjJfdmVyaWZpY2F0aW9uXCIsZGF0YTp7aHVtYW5fdmVyaWZpY2F0aW9uX3Rva2VuOnJ9fV19KSl9KSl9KSkpLnRvUHJvbWlzZSgpXX19KSl9KSl9LHQucHJvdG90eXBlLl9pbml0aWFsaXplPWZ1bmN0aW9uKHQpe3ZhciBlPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FyZGluZ1Byb3RlY3Rpb25Db250YWluZXJcIik7cmV0dXJuIGUmJmUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpLChlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLnNldEF0dHJpYnV0ZShcImlkXCIsXCJjYXJkaW5nUHJvdGVjdGlvbkNvbnRhaW5lclwiKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGUpLHRoaXMuX2dvb2dsZVJlY2FwdGNoYS5sb2FkKFwiY2FyZGluZ1Byb3RlY3Rpb25Db250YWluZXJcIix0KX0sdC5wcm90b3R5cGUuX2lzUGF5bWVudEh1bWFuVmVyaWZpY2F0aW9uUmVxdWVzdD1mdW5jdGlvbih0KXt2YXIgZT10LmJvZHl8fHt9LG49ZS5hZGRpdGlvbmFsX2FjdGlvbl9yZXF1aXJlZDtyZXR1cm5cImFkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkXCI9PT1lLnN0YXR1cyYmbiYmXCJyZWNhcHRjaGFfdjJfdmVyaWZpY2F0aW9uXCI9PT1uLnR5cGV9LHR9KCksZGU9bigxNjgpLHBlPW4oODApLGhlPW4oMTg4KSxsZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzLGV8fFwiVW5hYmxlIHRvIHByb2NlZWQgZHVlIHRvIGFuIHVua25vd24gZXJyb3Igd2l0aCB0aGUgaG9zdGVkIHBheW1lbnQgZm9ybS5cIil8fHRoaXM7cmV0dXJuIG4ubmFtZT1cIkludmFsaWRIb3N0ZWRGb3JtRXJyb3JcIixuLnR5cGU9XCJpbnZhbGlkX2hvc3RlZF9mb3JtXCIsbn1yZXR1cm4gT2JqZWN0KGQuX19leHRlbmRzKShlLHQpLGV9KGh0LmEpLG1lPW4oMTg5KSxmZT1uKDY3KSxfZT1uKDQ4KSx5ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scixpLG8sYSxzLGMpe3RoaXMuX3R5cGU9dCx0aGlzLl9jb250YWluZXJJZD1lLHRoaXMuX3BsYWNlaG9sZGVyPW4sdGhpcy5fYWNjZXNzaWJpbGl0eUxhYmVsPXIsdGhpcy5fc3R5bGVzPWksdGhpcy5fZXZlbnRQb3N0ZXI9byx0aGlzLl9ldmVudExpc3RlbmVyPWEsdGhpcy5fZGV0YWNobWVudE9ic2VydmVyPXMsdGhpcy5fY2FyZEluc3RydW1lbnQ9Yyx0aGlzLl9pZnJhbWU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKSx0aGlzLl9pZnJhbWUuc3JjPVwiL2NoZWNrb3V0L3BheW1lbnQvaG9zdGVkLWZpZWxkP3ZlcnNpb249MS4xMjMuMFwiLHRoaXMuX2lmcmFtZS5zdHlsZS5ib3JkZXI9XCJub25lXCIsdGhpcy5faWZyYW1lLnN0eWxlLmhlaWdodD1cIjEwMCVcIix0aGlzLl9pZnJhbWUuc3R5bGUub3ZlcmZsb3c9XCJoaWRkZW5cIix0aGlzLl9pZnJhbWUuc3R5bGUud2lkdGg9XCIxMDAlXCJ9cmV0dXJuIHQucHJvdG90eXBlLmdldFR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHlwZX0sdC5wcm90b3R5cGUuYXR0YWNoPWZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LGUsbj10aGlzO3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDppZighKHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5fY29udGFpbmVySWQpKSl0aHJvdyBuZXcgaGUuYShcIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHByb3ZpZGVkIGNvbnRhaW5lciBJRCBpcyBub3QgdmFsaWQuXCIpO3JldHVybiB0LmFwcGVuZENoaWxkKHRoaXMuX2lmcmFtZSksdGhpcy5fZXZlbnRMaXN0ZW5lci5saXN0ZW4oKSxlPU9iamVjdChiLmZyb21FdmVudCkodGhpcy5faWZyYW1lLFwibG9hZFwiKS5waXBlKE9iamVjdChNLnN3aXRjaE1hcCkoKGZ1bmN0aW9uKHQpe3ZhciBlPXQudGFyZ2V0O3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKG4sdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKG4pe3N3aXRjaChuLmxhYmVsKXtjYXNlIDA6aWYoISh0PWUmJmUuY29udGVudFdpbmRvdykpdGhyb3cgbmV3IEVycm9yKFwiVGhlIGNvbnRlbnQgd2luZG93IG9mIHRoZSBpZnJhbWUgY2Fubm90IGJlIGFjY2Vzc2VkLlwiKTtyZXR1cm4gdGhpcy5fZXZlbnRQb3N0ZXIuc2V0VGFyZ2V0KHQpLFs0LHRoaXMuX2V2ZW50UG9zdGVyLnBvc3Qoe3R5cGU6ZmUuYS5BdHRhY2hSZXF1ZXN0ZWQscGF5bG9hZDp7YWNjZXNzaWJpbGl0eUxhYmVsOnRoaXMuX2FjY2Vzc2liaWxpdHlMYWJlbCxjYXJkSW5zdHJ1bWVudDp0aGlzLl9jYXJkSW5zdHJ1bWVudCxmb250VXJsczp0aGlzLl9nZXRGb250VXJscygpLHBsYWNlaG9sZGVyOnRoaXMuX3BsYWNlaG9sZGVyLHN0eWxlczp0aGlzLl9zdHlsZXMsdHlwZTp0aGlzLl90eXBlfX0se3N1Y2Nlc3NUeXBlOl9lLmEuQXR0YWNoU3VjY2VlZGVkLGVycm9yVHlwZTpfZS5hLkF0dGFjaEZhaWxlZH0pXTtjYXNlIDE6cmV0dXJuIG4uc2VudCgpLFsyXX19KSl9KSl9KSksT2JqZWN0KE0udGFrZSkoMSkpLnRvUHJvbWlzZSgpLFs0LHRoaXMuX2RldGFjaG1lbnRPYnNlcnZlci5lbnN1cmVQcmVzZW5jZShbdGhpcy5faWZyYW1lXSxlKV07Y2FzZSAxOnJldHVybiByLnNlbnQoKSxbMl19fSkpfSkpfSx0LnByb3RvdHlwZS5kZXRhY2g9ZnVuY3Rpb24oKXt0aGlzLl9pZnJhbWUucGFyZW50RWxlbWVudCYmKHRoaXMuX2lmcmFtZS5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuX2lmcmFtZSksdGhpcy5fZXZlbnRMaXN0ZW5lci5zdG9wTGlzdGVuKCkpfSx0LnByb3RvdHlwZS5zdWJtaXRGb3JtPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBuLHI7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihpKXtzd2l0Y2goaS5sYWJlbCl7Y2FzZSAwOnJldHVybiBpLnRyeXMucHVzaChbMCwyLCwzXSksbj10aGlzLl9ldmVudFBvc3Rlci5wb3N0KHt0eXBlOmZlLmEuU3VibWl0UmVxdWVzdGVkLHBheWxvYWQ6e2ZpZWxkczp0LGRhdGE6ZX19LHtzdWNjZXNzVHlwZTpfZS5hLlN1Ym1pdFN1Y2NlZWRlZCxlcnJvclR5cGU6X2UuYS5TdWJtaXRGYWlsZWR9KSxbNCx0aGlzLl9kZXRhY2htZW50T2JzZXJ2ZXIuZW5zdXJlUHJlc2VuY2UoW3RoaXMuX2lmcmFtZV0sbildO2Nhc2UgMTpyZXR1cm4gaS5zZW50KCksWzMsM107Y2FzZSAyOmlmKHI9aS5zZW50KCksdGhpcy5faXNTdWJtaXRFcnJvckV2ZW50KHIpKXtpZihcImhvc3RlZF9mb3JtX2Vycm9yXCI9PT1yLnBheWxvYWQuZXJyb3IuY29kZSl0aHJvdyBuZXcgbGUoci5wYXlsb2FkLmVycm9yLm1lc3NhZ2UpO2lmKHIucGF5bG9hZC5yZXNwb25zZSl0aHJvdyBPYmplY3QoZGUuYSkoci5wYXlsb2FkLnJlc3BvbnNlKTt0aHJvdyBuZXcgRXJyb3Ioci5wYXlsb2FkLmVycm9yLm1lc3NhZ2UpfXRocm93IHI7Y2FzZSAzOnJldHVyblsyXX19KSl9KSl9LHQucHJvdG90eXBlLnZhbGlkYXRlRm9ybT1mdW5jdGlvbigpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxlO3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdD10aGlzLl9ldmVudFBvc3Rlci5wb3N0KHt0eXBlOmZlLmEuVmFsaWRhdGVSZXF1ZXN0ZWR9LHtzdWNjZXNzVHlwZTpfZS5hLlZhbGlkYXRlZH0pLFs0LHRoaXMuX2RldGFjaG1lbnRPYnNlcnZlci5lbnN1cmVQcmVzZW5jZShbdGhpcy5faWZyYW1lXSx0KV07Y2FzZSAxOmlmKCEoZT1uLnNlbnQoKS5wYXlsb2FkKS5pc1ZhbGlkKXRocm93IG5ldyBtZS5hKGUuZXJyb3JzKTtyZXR1cm5bMl19fSkpfSkpfSx0LnByb3RvdHlwZS5fZ2V0Rm9udFVybHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImxpbmtbaHJlZio9J2ZvbnRzLmdvb2dsZWFwaXMuY29tJ11bcmVsPSdzdHlsZXNoZWV0J11cIik7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuXCJmb250cy5nb29nbGVhcGlzLmNvbVwiPT09T2JqZWN0KHBlLmEpKHQuaHJlZikuaG9zdG5hbWV9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KEJ0LnZhbHVlcykodC5fc3R5bGVzKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0LmZvbnRGYW1pbHl9KSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdH0pKS5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zcGxpdCgvLFxccy8pLnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybi0xIT09ZS5ocmVmLmluZGV4T2YodC5yZXBsYWNlKFwiIFwiLFwiK1wiKSl9KSl9KSl9KSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5ocmVmfSkpfSx0LnByb3RvdHlwZS5faXNTdWJtaXRFcnJvckV2ZW50PWZ1bmN0aW9uKHQpe3JldHVybiB0LnR5cGU9PT1fZS5hLlN1Ym1pdEZhaWxlZH0sdH0oKSxnZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scixpKXt2YXIgbz10aGlzO3RoaXMuX2ZpZWxkcz10LHRoaXMuX2V2ZW50TGlzdGVuZXI9ZSx0aGlzLl9wYXlsb2FkVHJhbnNmb3JtZXI9bix0aGlzLl9ldmVudENhbGxiYWNrcz1yLHRoaXMuX3BheW1lbnRIdW1hblZlcmlmaWNhdGlvbkhhbmRsZXI9aSx0aGlzLl9oYW5kbGVFbnRlcj1mdW5jdGlvbih0KXt2YXIgZT10LnBheWxvYWQ7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikobyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LG47cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybiByLnRyeXMucHVzaChbMCwyLCwzXSksWzQsdGhpcy52YWxpZGF0ZSgpXTtjYXNlIDE6cmV0dXJuIHIuc2VudCgpLFszLDNdO2Nhc2UgMjppZihcIkludmFsaWRIb3N0ZWRGb3JtVmFsdWVFcnJvclwiIT09KHQ9ci5zZW50KCkpLm5hbWUpdGhyb3cgdDtyZXR1cm5bMywzXTtjYXNlIDM6cmV0dXJuIG49dGhpcy5fZXZlbnRDYWxsYmFja3Mub25FbnRlciwodm9pZCAwPT09bj9CdC5ub29wOm4pKGUpLFsyXX19KSl9KSl9O3ZhciBhPXRoaXMuX2V2ZW50Q2FsbGJhY2tzLHM9YS5vbkJsdXIsYz12b2lkIDA9PT1zP0J0Lm5vb3A6cyx1PWEub25DYXJkVHlwZUNoYW5nZSxwPXZvaWQgMD09PXU/QnQubm9vcDp1LGg9YS5vbkZvY3VzLGw9dm9pZCAwPT09aD9CdC5ub29wOmgsbT1hLm9uVmFsaWRhdGUsZj12b2lkIDA9PT1tP0J0Lm5vb3A6bTt0aGlzLl9ldmVudExpc3RlbmVyLmFkZExpc3RlbmVyKF9lLmEuQmx1cnJlZCwoZnVuY3Rpb24odCl7dmFyIGU9dC5wYXlsb2FkO3JldHVybiBjKGUpfSkpLHRoaXMuX2V2ZW50TGlzdGVuZXIuYWRkTGlzdGVuZXIoX2UuYS5DYXJkVHlwZUNoYW5nZWQsKGZ1bmN0aW9uKHQpe3ZhciBlPXQucGF5bG9hZDtyZXR1cm4gcChlKX0pKSx0aGlzLl9ldmVudExpc3RlbmVyLmFkZExpc3RlbmVyKF9lLmEuRm9jdXNlZCwoZnVuY3Rpb24odCl7dmFyIGU9dC5wYXlsb2FkO3JldHVybiBsKGUpfSkpLHRoaXMuX2V2ZW50TGlzdGVuZXIuYWRkTGlzdGVuZXIoX2UuYS5WYWxpZGF0ZWQsKGZ1bmN0aW9uKHQpe3ZhciBlPXQucGF5bG9hZDtyZXR1cm4gZihlKX0pKSx0aGlzLl9ldmVudExpc3RlbmVyLmFkZExpc3RlbmVyKF9lLmEuRW50ZXJlZCx0aGlzLl9oYW5kbGVFbnRlciksdGhpcy5fZXZlbnRMaXN0ZW5lci5hZGRMaXN0ZW5lcihfZS5hLkNhcmRUeXBlQ2hhbmdlZCwoZnVuY3Rpb24odCl7dmFyIGU9dC5wYXlsb2FkO3JldHVybiBvLl9jYXJkVHlwZT1lLmNhcmRUeXBlfSkpLHRoaXMuX2V2ZW50TGlzdGVuZXIuYWRkTGlzdGVuZXIoX2UuYS5CaW5DaGFuZ2VkLChmdW5jdGlvbih0KXt2YXIgZT10LnBheWxvYWQ7cmV0dXJuIG8uX2Jpbj1lLmJpbn0pKX1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0QmluPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Jpbn0sdC5wcm90b3R5cGUuZ2V0Q2FyZFR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2FyZFR5cGV9LHQucHJvdG90eXBlLmF0dGFjaD1mdW5jdGlvbigpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxlO3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5fZXZlbnRMaXN0ZW5lci5saXN0ZW4oKSx0PXRoaXMuX2dldEZpcnN0RmllbGQoKSxlPU9iamVjdChCdC53aXRob3V0KSh0aGlzLl9maWVsZHMsdCksWzQsdC5hdHRhY2goKV07Y2FzZSAxOnJldHVybiBuLnNlbnQoKSxbNCxQcm9taXNlLmFsbChlLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuYXR0YWNoKCl9KSkpXTtjYXNlIDI6cmV0dXJuIG4uc2VudCgpLFsyXX19KSl9KSl9LHQucHJvdG90eXBlLmRldGFjaD1mdW5jdGlvbigpe3RoaXMuX2V2ZW50TGlzdGVuZXIuc3RvcExpc3RlbigpLHRoaXMuX2ZpZWxkcy5mb3JFYWNoKChmdW5jdGlvbih0KXt0LmRldGFjaCgpfSkpfSx0LnByb3RvdHlwZS5zdWJtaXQ9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLG47cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybiByLnRyeXMucHVzaChbMCwyLCw1XSksWzQsdGhpcy5fZ2V0Rmlyc3RGaWVsZCgpLnN1Ym1pdEZvcm0odGhpcy5fZmllbGRzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0VHlwZSgpfSkpLHRoaXMuX3BheWxvYWRUcmFuc2Zvcm1lci50cmFuc2Zvcm0odCkpXTtjYXNlIDE6cmV0dXJuWzIsci5zZW50KCldO2Nhc2UgMjpyZXR1cm4gZT1yLnNlbnQoKSxbNCx0aGlzLl9wYXltZW50SHVtYW5WZXJpZmljYXRpb25IYW5kbGVyLmhhbmRsZShlKV07Y2FzZSAzOnJldHVybiBuPXIuc2VudCgpLFs0LHRoaXMuX2dldEZpcnN0RmllbGQoKS5zdWJtaXRGb3JtKHRoaXMuX2ZpZWxkcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldFR5cGUoKX0pKSx0aGlzLl9wYXlsb2FkVHJhbnNmb3JtZXIudHJhbnNmb3JtKHQsbikpXTtjYXNlIDQ6cmV0dXJuWzIsci5zZW50KCldO2Nhc2UgNTpyZXR1cm5bMl19fSkpfSkpfSx0LnByb3RvdHlwZS52YWxpZGF0ZT1mdW5jdGlvbigpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5fZ2V0Rmlyc3RGaWVsZCgpLnZhbGlkYXRlRm9ybSgpXTtjYXNlIDE6cmV0dXJuWzIsdC5zZW50KCldfX0pKX0pKX0sdC5wcm90b3R5cGUuX2dldEZpcnN0RmllbGQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9maWVsZHNbMF07aWYoIXQpdGhyb3cgbmV3IGhlLmEoXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBwYXltZW50IGZvcm0gaGFzIG5vIGZpZWxkIGRlZmluZWQuXCIpO3JldHVybiB0fSx0fSgpLGJlPW4oNDApLHZlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9zdG9yZT10fXJldHVybiB0LnByb3RvdHlwZS50cmFuc2Zvcm09ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLHI9bi5jaGVja291dC5nZXRDaGVja291dCgpLGk9bi5jb25maWcuZ2V0Q29uZmlnKCksbz1uLmluc3RydW1lbnRzLmdldEluc3RydW1lbnRzTWV0YSgpLGE9bi5vcmRlci5nZXRPcmRlcigpLHM9bi5vcmRlci5nZXRPcmRlck1ldGEoKSxjPU9iamVjdChCdC5vbWl0KSh0LnBheW1lbnREYXRhLFwiY2NFeHBpcnlcIixcImNjTmFtZVwiLFwiY2NOdW1iZXJcIixcImNjQ3Z2XCIpLHU9bi5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kKHQubWV0aG9kSWQsdC5nYXRld2F5SWQpLGQ9bi5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kc01ldGEoKSxwPW8mJmMmJk9iamVjdChiZS5hKShjKT9uLnBheW1lbnQuZ2V0UGF5bWVudFRva2VuKCkrXCIsIFwiK28udmF1bHRBY2Nlc3NUb2tlbjpuLnBheW1lbnQuZ2V0UGF5bWVudFRva2VuKCk7aWYoIXApdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ1BheW1lbnRUb2tlbik7cmV0dXJue2FkZGl0aW9uYWxBY3Rpb246ZSxhdXRoVG9rZW46cCxjaGVja291dDpyLGNvbmZpZzppLG9yZGVyOmEsb3JkZXJNZXRhOnMscGF5bWVudDpjLHBheW1lbnRNZXRob2Q6dSxwYXltZW50TWV0aG9kTWV0YTpkfX0sdH0oKSxDZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fc3RvcmU9dH1yZXR1cm4gdC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPU9iamVjdC5rZXlzKGUuZmllbGRzKS5yZWR1Y2UoKGZ1bmN0aW9uKHIsaSl7dmFyIG89ZS5maWVsZHNbaV07cmV0dXJuIG8/T2JqZWN0KGQuX19zcHJlYWRBcnJheXMpKHIsW25ldyB5ZShpLG8uY29udGFpbmVySWQsby5wbGFjZWhvbGRlcnx8XCJcIixvLmFjY2Vzc2liaWxpdHlMYWJlbHx8XCJcIixlLnN0eWxlc3x8e30sbmV3IG9lLmEodCksbmV3IGFlLmEodCksbmV3IGllKG5ldyB5dCksXCJpbnN0cnVtZW50SWRcImluIG8/bi5fZ2V0Q2FyZEluc3RydW1lbnQoby5pbnN0cnVtZW50SWQpOnZvaWQgMCldKTpyfSksW10pO3JldHVybiBuZXcgZ2UocixuZXcgYWUuYSh0KSxuZXcgdmUodGhpcy5fc3RvcmUpLE9iamVjdChCdC5waWNrKShlLFwib25CbHVyXCIsXCJvbkVudGVyXCIsXCJvbkZvY3VzXCIsXCJvbkNhcmRUeXBlQ2hhbmdlXCIsXCJvblZhbGlkYXRlXCIpLG5ldyB1ZShTdChPYmplY3QoaS5jcmVhdGVTY3JpcHRMb2FkZXIpKCkpKSl9LHQucHJvdG90eXBlLl9nZXRDYXJkSW5zdHJ1bWVudD1mdW5jdGlvbih0KXt2YXIgZT0oMCx0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLmluc3RydW1lbnRzLmdldENhcmRJbnN0cnVtZW50KSh0KTtpZighZSl0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nUGF5bWVudEluc3RydW1lbnQpO3JldHVybiBlfSx0fSgpLE9lPW4oNDcpLFNlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9zdG9yZUNyZWRpdFJlcXVlc3RTZW5kZXI9dH1yZXR1cm4gdC5wcm90b3R5cGUuYXBwbHlTdG9yZUNyZWRpdD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QoYi5jb25jYXQpKE9iamVjdChiLm9mKShPYmplY3QoZy5jcmVhdGVBY3Rpb24pKE9lLmEuQXBwbHlTdG9yZUNyZWRpdFJlcXVlc3RlZCkpLE9iamVjdChiLmRlZmVyKSgoZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKShuLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG4saSxvO3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24oYSl7c3dpdGNoKGEubGFiZWwpe2Nhc2UgMDppZihuPXIuZ2V0U3RhdGUoKSwhKGk9bi5jaGVja291dC5nZXRDaGVja291dCgpKSl0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nQ2hlY2tvdXQpO3JldHVybls0LHQ/dGhpcy5fc3RvcmVDcmVkaXRSZXF1ZXN0U2VuZGVyLmFwcGx5U3RvcmVDcmVkaXQoaS5pZCxlKTp0aGlzLl9zdG9yZUNyZWRpdFJlcXVlc3RTZW5kZXIucmVtb3ZlU3RvcmVDcmVkaXQoaS5pZCxlKV07Y2FzZSAxOnJldHVybiBvPWEuc2VudCgpLmJvZHksWzIsT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShPZS5hLkFwcGx5U3RvcmVDcmVkaXRTdWNjZWVkZWQsbyldfX0pKX0pKX0pKSkucGlwZShPYmplY3QoTS5jYXRjaEVycm9yKSgoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChULmEpKE9lLmEuQXBwbHlTdG9yZUNyZWRpdEZhaWxlZCx0KX0pKSl9fSx0fSgpLHdlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9yZXF1ZXN0U2VuZGVyPXR9cmV0dXJuIHQucHJvdG90eXBlLmFwcGx5U3RvcmVDcmVkaXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj0odm9pZCAwPT09ZT97fTplKS50aW1lb3V0LHI9XCIvYXBpL3N0b3JlZnJvbnQvY2hlY2tvdXRzL1wiK3QrXCIvc3RvcmUtY3JlZGl0XCIsaT17QWNjZXB0OkkuYS5Kc29uVjF9O3JldHVybiB0aGlzLl9yZXF1ZXN0U2VuZGVyLnBvc3Qocix7aGVhZGVyczppLHRpbWVvdXQ6bixwYXJhbXM6e2luY2x1ZGU6T2JqZWN0KEEuYSkoUy5hKX19KX0sdC5wcm90b3R5cGUucmVtb3ZlU3RvcmVDcmVkaXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj0odm9pZCAwPT09ZT97fTplKS50aW1lb3V0LHI9XCIvYXBpL3N0b3JlZnJvbnQvY2hlY2tvdXRzL1wiK3QrXCIvc3RvcmUtY3JlZGl0XCIsaT17QWNjZXB0OkkuYS5Kc29uVjF9O3JldHVybiB0aGlzLl9yZXF1ZXN0U2VuZGVyLmRlbGV0ZShyLHtoZWFkZXJzOmksdGltZW91dDpuLHBhcmFtczp7aW5jbHVkZTpPYmplY3QoQS5hKShTLmEpfX0pfSx0fSgpLEllPW4oMjAwKSxBZT1uKDE3NSksRWU9big2MCksUGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIpe3ZhciBpPXRoaXM7dGhpcy5fcGF5bWVudFJlcXVlc3RTZW5kZXI9dCx0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3I9ZSx0aGlzLl9wYXltZW50UmVxdWVzdFRyYW5zZm9ybWVyPW4sdGhpcy5fcGF5bWVudEh1bWFuVmVyaWZpY2F0aW9uSGFuZGxlcj1yLHRoaXMuaW5pdGlhbGl6ZU9mZnNpdGVQYXltZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXQubWV0aG9kSWQsbj10LmdhdGV3YXlJZCxyPXQuaW5zdHJ1bWVudElkLG89dC50YXJnZXQsYT10LnByb21pc2Uscz10LnNob3VsZFNhdmVJbnN0cnVtZW50LGM9dC5zaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50O3JldHVybiBmdW5jdGlvbih0KXt2YXIgdTtyP3U9e2Zvcm1hdHRlZFBheWxvYWQ6e2JpZ3BheV90b2tlbjpyfX06cyYmKHU9e2Zvcm1hdHRlZFBheWxvYWQ6e3ZhdWx0X3BheW1lbnRfaW5zdHJ1bWVudDpzLHNldF9hc19kZWZhdWx0X3N0b3JlZF9pbnN0cnVtZW50OmN8fG51bGx9fSk7dmFyIGQ9aS5fcGF5bWVudFJlcXVlc3RUcmFuc2Zvcm1lci50cmFuc2Zvcm0oe2dhdGV3YXlJZDpuLG1ldGhvZElkOmUscGF5bWVudERhdGE6dX0sdC5nZXRTdGF0ZSgpKTtyZXR1cm4gT2JqZWN0KGIuY29uY2F0KShPYmplY3QoYi5vZikoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShFZS5hLkluaXRpYWxpemVPZmZzaXRlUGF5bWVudFJlcXVlc3RlZCkpLFByb21pc2UucmFjZShbaS5fcGF5bWVudFJlcXVlc3RTZW5kZXIuaW5pdGlhbGl6ZU9mZnNpdGVQYXltZW50KGQsbyksYV0uZmlsdGVyKEJvb2xlYW4pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBPYmplY3QoZy5jcmVhdGVBY3Rpb24pKEVlLmEuSW5pdGlhbGl6ZU9mZnNpdGVQYXltZW50U3VjY2VlZGVkKX0pKSkucGlwZShPYmplY3QoTS5jYXRjaEVycm9yKSgoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChULmEpKEVlLmEuSW5pdGlhbGl6ZU9mZnNpdGVQYXltZW50RmFpbGVkLHQpfSkpKX19fXJldHVybiB0LnByb3RvdHlwZS5zdWJtaXRQYXltZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBPYmplY3QoYi5jb25jYXQpKE9iamVjdChiLm9mKShPYmplY3QoZy5jcmVhdGVBY3Rpb24pKEVlLmEuU3VibWl0UGF5bWVudFJlcXVlc3RlZCkpLE9iamVjdChiLmRlZmVyKSgoZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKShlLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGUscjtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKGkpe3N3aXRjaChpLmxhYmVsKXtjYXNlIDA6cmV0dXJuIGkudHJ5cy5wdXNoKFswLDIsLDVdKSxbNCx0aGlzLl9wYXltZW50UmVxdWVzdFNlbmRlci5zdWJtaXRQYXltZW50KHRoaXMuX3BheW1lbnRSZXF1ZXN0VHJhbnNmb3JtZXIudHJhbnNmb3JtKHQsbi5nZXRTdGF0ZSgpKSldO2Nhc2UgMTpyZXR1cm5bMixpLnNlbnQoKV07Y2FzZSAyOnJldHVybiBlPWkuc2VudCgpLFs0LHRoaXMuX3BheW1lbnRIdW1hblZlcmlmaWNhdGlvbkhhbmRsZXIuaGFuZGxlKGUpXTtjYXNlIDM6cmV0dXJuIHI9aS5zZW50KCksWzQsdGhpcy5fcGF5bWVudFJlcXVlc3RTZW5kZXIuc3VibWl0UGF5bWVudCh0aGlzLl9wYXltZW50UmVxdWVzdFRyYW5zZm9ybWVyLnRyYW5zZm9ybShPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LHQpLHthZGRpdGlvbmFsQWN0aW9uOnJ9KSxuLmdldFN0YXRlKCkpKV07Y2FzZSA0OnJldHVyblsyLGkuc2VudCgpXTtjYXNlIDU6cmV0dXJuWzJdfX0pKX0pKX0pKS5waXBlKE9iamVjdChNLnN3aXRjaE1hcCkoKGZ1bmN0aW9uKHQpe3ZhciByPXQuYm9keTtyZXR1cm4gT2JqZWN0KGIuY29uY2F0KShlLl9vcmRlckFjdGlvbkNyZWF0b3IubG9hZEN1cnJlbnRPcmRlcigpKG4pLE9iamVjdChiLm9mKShPYmplY3QoZy5jcmVhdGVBY3Rpb24pKEVlLmEuU3VibWl0UGF5bWVudFN1Y2NlZWRlZCxyKSkpfSkpKSkucGlwZShPYmplY3QoTS5jYXRjaEVycm9yKSgoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChULmEpKEVlLmEuU3VibWl0UGF5bWVudEZhaWxlZCx0KX0pKSl9fSx0fSgpLGplPW4oMTM0KSxrZT1uKDEzMyksTWU9big1OCksVGU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3ZhciByPXQuY2FsbCh0aGlzLG4pfHx0aGlzO3JldHVybiByLl9zdG9yZT1lLHJ9cmV0dXJuIE9iamVjdChkLl9fZXh0ZW5kcykoZSx0KSxlLnByb3RvdHlwZS5nZXRCeU1ldGhvZD1mdW5jdGlvbih0KXtpZighdClyZXR1cm4gdGhpcy5nZXQoKTt2YXIgZT10aGlzLl9nZXRUb2tlbih0KSxuPVt0LmdhdGV3YXksdC5pZF0uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9dH0pKS5qb2luKFwiLVwiKTtyZXR1cm4gdGhpcy5nZXQoZSxuKX0sZS5wcm90b3R5cGUuX2dldFRva2VuPWZ1bmN0aW9uKHQpe2lmKFwia2xhcm5hXCI9PT10LmdhdGV3YXkpcmV0dXJuIFF0LktMQVJOQVYyO2lmKHQuaWQ9PT1RdC5QQVlQQUxfQ09NTUVSQ0VfQ1JFRElUfHx0LmdhdGV3YXk9PT1RdC5QQVlQQUxfQ09NTUVSQ0VfQUxURVJOQVRJVkVfTUVUSE9EUylyZXR1cm4gUXQuUEFZUEFMX0NPTU1FUkNFO3ZhciBlPXQuZ2F0ZXdheXx8dC5pZDtyZXR1cm4gdGhpcy5faGFzRmFjdG9yeUZvck1ldGhvZChlKT9lOnQudHlwZT09PU1lLmI/UXQuT0ZGTElORTp0aGlzLl9pc0xlZ2FjeU1ldGhvZCh0KT9RdC5MRUdBQ1k6dC50eXBlPT09TWUuYT9RdC5PRkZTSVRFOlF0LkNSRURJVF9DQVJEfSxlLnByb3RvdHlwZS5faGFzRmFjdG9yeUZvck1ldGhvZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5faGFzRmFjdG9yeSh0KX0sZS5wcm90b3R5cGUuX2lzTGVnYWN5TWV0aG9kPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3N0b3JlLmdldFN0YXRlKCkuY29uZmlnLmdldFN0b3JlQ29uZmlnKCk7aWYoIWUpdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ0NoZWNrb3V0Q29uZmlnKTt2YXIgbj1lLnBheW1lbnRTZXR0aW5ncy5jbGllbnRTaWRlUGF5bWVudFByb3ZpZGVycztyZXR1cm4hKCFufHxcImFkeWVuXCI9PT10LmdhdGV3YXl8fFwiYmFyY2xheWNhcmRcIj09PXQuZ2F0ZXdheSkmJiFPYmplY3QoQnQuc29tZSkobiwoZnVuY3Rpb24oZSl7cmV0dXJuIHQuaWQ9PT1lfHx0LmdhdGV3YXk9PT1lfSkpfSxlfShCLmEpO2Z1bmN0aW9uIFJlKCl7cmV0dXJue2NvbG9yX2RlcHRoOnNjcmVlbi5jb2xvckRlcHRofHwyNCxqYXZhX2VuYWJsZWQ6XCJmdW5jdGlvblwiPT10eXBlb2YgbmF2aWdhdG9yLmphdmFFbmFibGVkJiZuYXZpZ2F0b3IuamF2YUVuYWJsZWQoKSxsYW5ndWFnZTpuYXZpZ2F0b3IubGFuZ3VhZ2V8fG5hdmlnYXRvci51c2VyTGFuZ3VhZ2Usc2NyZWVuX2hlaWdodDpzY3JlZW4uaGVpZ2h0LHNjcmVlbl93aWR0aDpzY3JlZW4ud2lkdGgsdGltZV96b25lX29mZnNldDoobmV3IERhdGUpLmdldFRpbWV6b25lT2Zmc2V0KCkudG9TdHJpbmcoKX19dmFyIERlLHplLExlLE5lLEZlLHFlPW4oMzUpLFVlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dGhpcyxyPVwiVW5hYmxlIHRvIHN1Ym1pdCBwYXltZW50IGZvciB0aGUgb3JkZXIgYmVjYXVzZSB0aGUgcGF5bG9hZCBpcyBpbnZhbGlkLlwiO3JldHVybiBlJiYocj1yK1wiIE1ha2Ugc3VyZSB0aGUgZm9sbG93aW5nIGZpZWxkcyBhcmUgcHJvdmlkZWQgY29ycmVjdGx5OiBcIitlLmpvaW4oXCIsIFwiKStcIi5cIiksKG49dC5jYWxsKHRoaXMscil8fHRoaXMpLm5hbWU9XCJQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3JcIixufXJldHVybiBPYmplY3QoZC5fX2V4dGVuZHMpKGUsdCksZX0oSXQuYSkseGU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyxlfHxcIlBheW1lbnQgcHJvY2VzcyB3YXMgY2FuY2VsbGVkLlwiKXx8dGhpcztyZXR1cm4gbi5uYW1lPVwiUGF5bWVudE1ldGhvZENhbmNlbGxlZEVycm9yXCIsbi50eXBlPVwicGF5bWVudF9jYW5jZWxsZWRcIixufXJldHVybiBPYmplY3QoZC5fX2V4dGVuZHMpKGUsdCksZX0oaHQuYSk7ZnVuY3Rpb24gQmUodCl7cmV0dXJuIHQmJlwic3RyaW5nXCI9PXR5cGVvZiB0LmRhdGEucGF5bWVudE1ldGhvZC5lbmNyeXB0ZWRTZWN1cml0eUNvZGV8fFwic3RyaW5nXCI9PXR5cGVvZiB0LmRhdGEucGF5bWVudE1ldGhvZC5lbmNyeXB0ZWRFeHBpcnlNb250aH0hZnVuY3Rpb24odCl7dC5UaHJlZURTMkZpbmdlcnByaW50PVwidGhyZWVEUzJGaW5nZXJwcmludFwiLHQuVGhyZWVEUzJDaGFsbGVuZ2U9XCJ0aHJlZURTMkNoYWxsZW5nZVwiLHQuUmVkaXJlY3Q9XCJyZWRpcmVjdFwiLHQuUVJDb2RlPVwicXJDb2RlXCIsdC5Wb3VjaGVyPVwidm91Y2hlclwifShEZXx8KERlPXt9KSksZnVuY3Rpb24odCl7dC5TZWN1cmVkRmllbGRzPVwic2VjdXJlZGZpZWxkc1wifSh6ZXx8KHplPXt9KSksZnVuY3Rpb24odCl7dC5BQ0g9XCJhY2hcIix0LkFsaVBheT1cImFsaXBheVwiLHQuQmFuY29udGFjdD1cImJjbWNcIix0LkNyZWRpdENhcmQ9XCJzY2hlbWVcIix0LktsYXJuYT1cImtsYXJuYVwiLHQuS2xhcm5hUGF5Tm93PVwia2xhcm5hX3BheW5vd1wiLHQuS2xhcm5hQWNjb3VudD1cImtsYXJuYV9hY2NvdW50XCIsdC5pREVBTD1cImlkZWFsXCIsdC5HaXJvUGF5PVwiZ2lyb3BheVwiLHQuR29vZ2xlUGF5PVwicGF5d2l0aGdvb2dsZVwiLHQuU0VQQT1cInNlcGFkaXJlY3RkZWJpdFwiLHQuU29mb3J0PVwiZGlyZWN0RWJhbmtpbmdcIix0LlZpcHBzPVwidmlwcHNcIix0LldlQ2hhdFBheVFSPVwid2VjaGF0cGF5UVJcIn0oTGV8fChMZT17fSkpLGZ1bmN0aW9uKHQpe3QuUE9TVD1cIlBPU1RcIn0oTmV8fChOZT17fSkpLGZ1bmN0aW9uKHQpe3QuQ2hhbGxlbmdlU2hvcHBlcj1cIkNoYWxsZW5nZVNob3BwZXJcIix0LkVycm9yPVwiRXJyb3JcIix0LklkZW50aWZ5U2hvcHBlcj1cIklkZW50aWZ5U2hvcHBlclwifShGZXx8KEZlPXt9KSk7dmFyIEdlLFZlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyKXt0aGlzLl9zdG9yZT10LHRoaXMuX3BheW1lbnRBY3Rpb25DcmVhdG9yPWUsdGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yPW4sdGhpcy5fc2NyaXB0TG9hZGVyPXJ9cmV0dXJuIHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLG4scixpLG8sYSxzO3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24oYyl7c3dpdGNoKGMubGFiZWwpe2Nhc2UgMDppZighKGU9dC5hZHllbnYyKSl0aHJvdyBuZXcgSXQuYSgnVW5hYmxlIHRvIGluaXRpYWxpemUgcGF5bWVudCBiZWNhdXNlIFwib3B0aW9ucy5hZHllbnYyXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicpO3JldHVybiB0aGlzLl9wYXltZW50SW5pdGlhbGl6ZU9wdGlvbnM9ZSxuPXRoaXMuX3N0b3JlLmdldFN0YXRlKCkucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3codC5tZXRob2RJZCkscj17a2V5OlwiXCIsdmFsdWU6XCJcIn0sbi5pbml0aWFsaXphdGlvbkRhdGEub3JpZ2luS2V5PyhyLmtleT1cIm9yaWdpbktleVwiLHIudmFsdWU9bi5pbml0aWFsaXphdGlvbkRhdGEub3JpZ2luS2V5KTooci5rZXk9XCJjbGllbnRLZXlcIixyLnZhbHVlPW4uaW5pdGlhbGl6YXRpb25EYXRhLmNsaWVudEtleSksaT10aGlzLFs0LHRoaXMuX3NjcmlwdExvYWRlci5sb2FkKChzPXtlbnZpcm9ubWVudDpuLmluaXRpYWxpemF0aW9uRGF0YS5lbnZpcm9ubWVudCxsb2NhbGU6bmF2aWdhdG9yLmxhbmd1YWdlfSxzW3Iua2V5XT1yLnZhbHVlLHMucGF5bWVudE1ldGhvZHNSZXNwb25zZT1uLmluaXRpYWxpemF0aW9uRGF0YS5wYXltZW50TWV0aG9kc1Jlc3BvbnNlLHMpKV07Y2FzZSAxOnJldHVybiBpLl9hZHllbkNsaWVudD1jLnNlbnQoKSxvPXRoaXMsWzQsdGhpcy5fbW91bnRQYXltZW50Q29tcG9uZW50KG4pXTtjYXNlIDI6cmV0dXJuIG8uX3BheW1lbnRDb21wb25lbnQ9Yy5zZW50KCksbi5tZXRob2QhPT1MZS5DcmVkaXRDYXJkJiZuLm1ldGhvZCE9PUxlLkJhbmNvbnRhY3Q/WzMsNF06KGE9dGhpcyxbNCx0aGlzLl9tb3VudENhcmRWZXJpZmljYXRpb25Db21wb25lbnQoKV0pO2Nhc2UgMzphLl9jYXJkVmVyaWZpY2F0aW9uQ29tcG9uZW50PWMuc2VudCgpLGMubGFiZWw9NDtjYXNlIDQ6cmV0dXJuWzIsUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3N0b3JlLmdldFN0YXRlKCkpXX19KSl9KSl9LHQucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9dC5wYXltZW50LGk9T2JqZWN0KGQuX19yZXN0KSh0LFtcInBheW1lbnRcIl0pLG89ciYmci5wYXltZW50RGF0YSxhPW8mJm8uc2hvdWxkU2F2ZUluc3RydW1lbnQscz1vJiZvLnNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQ7aWYoIXIpdGhyb3cgbmV3IFVlKFtcInBheW1lbnRcIl0pO3JldHVybiB0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3Iuc3VibWl0T3JkZXIoaSxlKSkudGhlbigoZnVuY3Rpb24oKXt2YXIgdD1uLl9jb21wb25lbnRTdGF0ZTtpZighdCl0aHJvdyBuZXcgYnQuYihidC5hLlBheW1lbnROb3RJbml0aWFsaXplZCk7aWYobyYmT2JqZWN0KGJlLmEpKG8pKXt2YXIgZT17fTtpZihCZSh0KSl7dmFyIGk9dC5kYXRhLnBheW1lbnRNZXRob2QsYz1pLmVuY3J5cHRlZENhcmROdW1iZXIsdT1pLmVuY3J5cHRlZFNlY3VyaXR5Q29kZTtlPXtjcmVkaXRfY2FyZF9udW1iZXJfY29uZmlybWF0aW9uOmMsZXhwaXJ5X21vbnRoOmkuZW5jcnlwdGVkRXhwaXJ5TW9udGgsZXhwaXJ5X3llYXI6aS5lbmNyeXB0ZWRFeHBpcnlZZWFyLHZlcmlmaWNhdGlvbl92YWx1ZTp1fX1pZihCZSh0KXx8LTEhPT1bXCJpZGVhbFwiLFwic2VwYWRpcmVjdGRlYml0XCIsXCJkaXJlY3RFYmFua2luZ1wiLFwiZ2lyb3BheVwiXS5pbmRleE9mKHQuZGF0YS5wYXltZW50TWV0aG9kLnR5cGUpKXJldHVybiBuLl9zdG9yZS5kaXNwYXRjaChuLl9wYXltZW50QWN0aW9uQ3JlYXRvci5zdWJtaXRQYXltZW50KE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30scikse3BheW1lbnREYXRhOntmb3JtYXR0ZWRQYXlsb2FkOntiaWdwYXlfdG9rZW46T2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSxlKSx7dG9rZW46by5pbnN0cnVtZW50SWR9KSxicm93c2VyX2luZm86UmUoKSxzZXRfYXNfZGVmYXVsdF9zdG9yZWRfaW5zdHJ1bWVudDpzfHxudWxsfX19KSkpfXJldHVybiBuLl9zdG9yZS5kaXNwYXRjaChuLl9wYXltZW50QWN0aW9uQ3JlYXRvci5zdWJtaXRQYXltZW50KHttZXRob2RJZDpyLm1ldGhvZElkLHBheW1lbnREYXRhOntmb3JtYXR0ZWRQYXlsb2FkOntjcmVkaXRfY2FyZF90b2tlbjp7dG9rZW46SlNPTi5zdHJpbmdpZnkoT2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSx0LmRhdGEucGF5bWVudE1ldGhvZCkse29yaWdpbjp3aW5kb3cubG9jYXRpb24ub3JpZ2lufSkpfSxicm93c2VyX2luZm86UmUoKSx2YXVsdF9wYXltZW50X2luc3RydW1lbnQ6YXx8bnVsbCxzZXRfYXNfZGVmYXVsdF9zdG9yZWRfaW5zdHJ1bWVudDpzfHxudWxsfX19KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3JldHVybiBuLl9wcm9jZXNzQWRkaXRpb25hbEFjdGlvbih0LGEscyl9KSl9LHQucHJvdG90eXBlLmZpbmFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBKdCl9LHQucHJvdG90eXBlLmRlaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXltZW50Q29tcG9uZW50JiYodGhpcy5fcGF5bWVudENvbXBvbmVudC51bm1vdW50KCksdGhpcy5fcGF5bWVudENvbXBvbmVudD12b2lkIDApLHRoaXMuX2NhcmRWZXJpZmljYXRpb25Db21wb25lbnQmJih0aGlzLl9jYXJkVmVyaWZpY2F0aW9uQ29tcG9uZW50LnVubW91bnQoKSx0aGlzLl9jYXJkVmVyaWZpY2F0aW9uQ29tcG9uZW50PXZvaWQgMCksUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3N0b3JlLmdldFN0YXRlKCkpfSx0LnByb3RvdHlwZS5fZ2V0QWR5ZW5DbGllbnQ9ZnVuY3Rpb24oKXtpZighdGhpcy5fYWR5ZW5DbGllbnQpdGhyb3cgbmV3IGJ0LmIoYnQuYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO3JldHVybiB0aGlzLl9hZHllbkNsaWVudH0sdC5wcm90b3R5cGUuX2dldFBheW1lbnRJbml0aWFsaXplT3B0aW9ucz1mdW5jdGlvbigpe2lmKCF0aGlzLl9wYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMpdGhyb3cgbmV3IEl0LmEoJ1wib3B0aW9ucy5hZHllbnYyXCIgYXJndW1lbnQgd2FzIG5vdCBwcm92aWRlZCBkdXJpbmcgaW5pdGlhbGl6YXRpb24uJyk7cmV0dXJuIHRoaXMuX3BheW1lbnRJbml0aWFsaXplT3B0aW9uc30sdC5wcm90b3R5cGUuX2dldFRocmVlRFMyQ2hhbGxlbmdlV2lkZ2V0U2l6ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2dldFBheW1lbnRJbml0aWFsaXplT3B0aW9ucygpLnRocmVlRFMyT3B0aW9ucy53aWRnZXRTaXplO3JldHVybiB0fHxcIjA1XCJ9LHQucHJvdG90eXBlLl9oYW5kbGVBY3Rpb249ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7dmFyIGk9ZS5fZ2V0UGF5bWVudEluaXRpYWxpemVPcHRpb25zKCksbz1pLnRocmVlRFMyQ29udGFpbmVySWQsYT1pLmFkZGl0aW9uYWxBY3Rpb25PcHRpb25zLHM9YS5vbkJlZm9yZUxvYWQsYz1hLmNvbnRhaW5lcklkLHU9YS5vbkxvYWQsZD1hLm9uQ29tcGxldGUscD1KU09OLnBhcnNlKHQuYWN0aW9uKSxoPWUuX2dldEFkeWVuQ2xpZW50KCkuY3JlYXRlRnJvbUFjdGlvbihwLHtvbkFkZGl0aW9uYWxEZXRhaWxzOmZ1bmN0aW9uKHQpe3ZhciBlPXttZXRob2RJZDpwLnBheW1lbnRNZXRob2RUeXBlLHBheW1lbnREYXRhOntub25jZTpKU09OLnN0cmluZ2lmeSh0LmRhdGEpfX07ZCYmZCgpLG4oZSl9LHNpemU6ZS5fZ2V0VGhyZWVEUzJDaGFsbGVuZ2VXaWRnZXRTaXplKCksb25FcnJvcjpmdW5jdGlvbih0KXtyZXR1cm4gcih0KX19KTtzJiZzKHAudHlwZT09PURlLlRocmVlRFMyQ2hhbGxlbmdlfHxwLnR5cGU9PT1EZS5RUkNvZGUpLGgubW91bnQoXCIjXCIrKGN8fG8pKSx1JiZ1KChmdW5jdGlvbigpe3IobmV3IHhlKSxoLnVubW91bnQoKX0pKX0pKX0sdC5wcm90b3R5cGUuX21hcEFkeWVuUGxhY2Vob2xkZXJEYXRhPWZ1bmN0aW9uKHQpe3JldHVybiB0P3tob2xkZXJOYW1lOnQuZmlyc3ROYW1lK1wiIFwiK3QubGFzdE5hbWUsYmlsbGluZ0FkZHJlc3M6e3N0cmVldDp0LmFkZHJlc3MxLGhvdXNlTnVtYmVyT3JOYW1lOnQuYWRkcmVzczIscG9zdGFsQ29kZTp0LnBvc3RhbENvZGUsY2l0eTp0LmNpdHksc3RhdGVPclByb3ZpbmNlOnQuc3RhdGVPclByb3ZpbmNlQ29kZSxjb3VudHJ5OnQuY291bnRyeUNvZGV9fTp7fX0sdC5wcm90b3R5cGUuX21vdW50Q2FyZFZlcmlmaWNhdGlvbkNvbXBvbmVudD1mdW5jdGlvbigpe3ZhciB0LGU9dGhpcyxuPXRoaXMuX2dldFBheW1lbnRJbml0aWFsaXplT3B0aW9ucygpLHI9dGhpcy5fZ2V0QWR5ZW5DbGllbnQoKTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGksbyl7aWYobi5jYXJkVmVyaWZpY2F0aW9uQ29udGFpbmVySWQpe3Q9ci5jcmVhdGUoemUuU2VjdXJlZEZpZWxkcyxPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LG4ub3B0aW9ucykse29uQ2hhbmdlOmZ1bmN0aW9uKHQpe3JldHVybiBlLl91cGRhdGVDb21wb25lbnRTdGF0ZSh0KX0sb25FcnJvcjpmdW5jdGlvbih0KXtyZXR1cm4gZS5fdXBkYXRlQ29tcG9uZW50U3RhdGUodCl9fSkpO3RyeXt0Lm1vdW50KFwiI1wiK24uY2FyZFZlcmlmaWNhdGlvbkNvbnRhaW5lcklkKX1jYXRjaCh0KXtvKG5ldyBidC5iKGJ0LmEuUGF5bWVudE5vdEluaXRpYWxpemVkKSl9fWkodCl9KSl9LHQucHJvdG90eXBlLl9tb3VudFBheW1lbnRDb21wb25lbnQ9ZnVuY3Rpb24odCl7dmFyIGUsbj10aGlzLHI9dGhpcy5fZ2V0UGF5bWVudEluaXRpYWxpemVPcHRpb25zKCksaT10aGlzLl9nZXRBZHllbkNsaWVudCgpO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obyxhKXtzd2l0Y2godC5tZXRob2Qpe2Nhc2UgTGUuQ3JlZGl0Q2FyZDpjYXNlIExlLkFDSDpjYXNlIExlLkJhbmNvbnRhY3Q6dmFyIHM9bi5fc3RvcmUuZ2V0U3RhdGUoKS5iaWxsaW5nQWRkcmVzcy5nZXRCaWxsaW5nQWRkcmVzcygpO2U9aS5jcmVhdGUodC5tZXRob2QsT2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSxyLm9wdGlvbnMpLHtvbkNoYW5nZTpmdW5jdGlvbih0KXtyZXR1cm4gbi5fdXBkYXRlQ29tcG9uZW50U3RhdGUodCl9LGRhdGE6bi5fbWFwQWR5ZW5QbGFjZWhvbGRlckRhdGEocyl9KSk7dHJ5e2UubW91bnQoXCIjXCIrci5jb250YWluZXJJZCl9Y2F0Y2godCl7YShuZXcgYnQuYihidC5hLlBheW1lbnROb3RJbml0aWFsaXplZCkpfWJyZWFrO2Nhc2UgTGUuaURFQUw6Y2FzZSBMZS5TRVBBOmlmKHIuaGFzVmF1bHRlZEluc3RydW1lbnRzKW4uX3VwZGF0ZUNvbXBvbmVudFN0YXRlKHtkYXRhOntwYXltZW50TWV0aG9kOnt0eXBlOnQubWV0aG9kfX19KTtlbHNle2U9aS5jcmVhdGUodC5tZXRob2QsT2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSxyLm9wdGlvbnMpLHtvbkNoYW5nZTpmdW5jdGlvbih0KXtyZXR1cm4gbi5fdXBkYXRlQ29tcG9uZW50U3RhdGUodCl9fSkpO3RyeXtlLm1vdW50KFwiI1wiK3IuY29udGFpbmVySWQpfWNhdGNoKHQpe2EobmV3IGJ0LmIoYnQuYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpKX19YnJlYWs7Y2FzZSBMZS5BbGlQYXk6Y2FzZSBMZS5HaXJvUGF5OmNhc2UgTGUuU29mb3J0OmNhc2UgTGUuS2xhcm5hOmNhc2UgTGUuS2xhcm5hUGF5Tm93OmNhc2UgTGUuS2xhcm5hQWNjb3VudDpjYXNlIExlLlZpcHBzOmNhc2UgTGUuV2VDaGF0UGF5UVI6bi5fdXBkYXRlQ29tcG9uZW50U3RhdGUoe2RhdGE6e3BheW1lbnRNZXRob2Q6e3R5cGU6dC5tZXRob2R9fX0pfW8oZSl9KSl9LHQucHJvdG90eXBlLl9wcm9jZXNzQWRkaXRpb25hbEFjdGlvbj1mdW5jdGlvbih0LGUsbil7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciByLGk7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihvKXtzd2l0Y2goby5sYWJlbCl7Y2FzZSAwOnJldHVybiB0IGluc3RhbmNlb2YgcWUuYSYmT2JqZWN0KEJ0LnNvbWUpKHQuYm9keS5lcnJvcnMse2NvZGU6XCJhZGRpdGlvbmFsX2FjdGlvbl9yZXF1aXJlZFwifSk/WzQsdGhpcy5faGFuZGxlQWN0aW9uKHQuYm9keS5wcm92aWRlcl9kYXRhKV06WzIsUHJvbWlzZS5yZWplY3QodCldO2Nhc2UgMTpyPW8uc2VudCgpLG8ubGFiZWw9MjtjYXNlIDI6cmV0dXJuIG8udHJ5cy5wdXNoKFsyLDQsLDVdKSxbNCx0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9wYXltZW50QWN0aW9uQ3JlYXRvci5zdWJtaXRQYXltZW50KE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30scikse3BheW1lbnREYXRhOk9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30sci5wYXltZW50RGF0YSkse3Nob3VsZFNhdmVJbnN0cnVtZW50OmUsc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudDpufSl9KSkpXTtjYXNlIDM6cmV0dXJuWzIsby5zZW50KCldO2Nhc2UgNDpyZXR1cm4gaT1vLnNlbnQoKSxbMix0aGlzLl9wcm9jZXNzQWRkaXRpb25hbEFjdGlvbihpLGUsbildO2Nhc2UgNTpyZXR1cm5bMl19fSkpfSkpfSx0LnByb3RvdHlwZS5fdXBkYXRlQ29tcG9uZW50U3RhdGU9ZnVuY3Rpb24odCl7dGhpcy5fY29tcG9uZW50U3RhdGU9dH0sdH0oKSxZZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3ZvaWQgMD09PW4mJihuPXdpbmRvdyksdGhpcy5fc2NyaXB0TG9hZGVyPXQsdGhpcy5fc3R5bGVzaGVldExvYWRlcj1lLHRoaXMuX3dpbmRvdz1ufXJldHVybiB0LnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKGUpe3N3aXRjaChlLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsUHJvbWlzZS5hbGwoW3RoaXMuX3N0eWxlc2hlZXRMb2FkZXIubG9hZFN0eWxlc2hlZXQoXCJodHRwczovL2NoZWNrb3V0c2hvcHBlci1cIit0LmVudmlyb25tZW50K1wiLmFkeWVuLmNvbS9jaGVja291dHNob3BwZXIvc2RrLzMuMTAuMS9hZHllbi5jc3NcIiksdGhpcy5fc2NyaXB0TG9hZGVyLmxvYWRTY3JpcHQoXCJodHRwczovL2NoZWNrb3V0c2hvcHBlci1cIit0LmVudmlyb25tZW50K1wiLmFkeWVuLmNvbS9jaGVja291dHNob3BwZXIvc2RrLzMuMTAuMS9hZHllbi5qc1wiKV0pXTtjYXNlIDE6aWYoZS5zZW50KCksIXRoaXMuX3dpbmRvdy5BZHllbkNoZWNrb3V0KXRocm93IG5ldyAkLmE7cmV0dXJuWzIsbmV3IHRoaXMuX3dpbmRvdy5BZHllbkNoZWNrb3V0KHQpXX19KSl9KSl9LHR9KCksSGU9big3OSk7IWZ1bmN0aW9uKHQpe3QuRGlnaXRhbEl0ZW1zQ2F0ZWdvcmllcz1cImxpbmVJdGVtcy5kaWdpdGFsSXRlbXMuY2F0ZWdvcmllc1wiLHQuUGh5c2ljYWxJdGVtc0NhdGVnb3JpZXM9XCJsaW5lSXRlbXMucGh5c2ljYWxJdGVtcy5jYXRlZ29yaWVzXCJ9KEdlfHwoR2U9e30pKTt2YXIgV2U9bigxNzApLEtlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyLGkpe3RoaXMuX3N0b3JlPXQsdGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yPWUsdGhpcy5fcGF5bWVudEFjdGlvbkNyZWF0b3I9bix0aGlzLl9wYXltZW50TWV0aG9kQWN0aW9uQ3JlYXRvcj1yLHRoaXMuX2FmZmlybVNjcmlwdExvYWRlcj1pfXJldHVybiB0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yLmxvYWRQYXltZW50TWV0aG9kKHQubWV0aG9kSWQpKS50aGVuKChmdW5jdGlvbihuKXt2YXIgcj1uLnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2QodC5tZXRob2RJZCk7aWYoIXJ8fCFyLmNsaWVudFRva2VuKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdQYXltZW50TWV0aG9kKTt2YXIgaT1yLmNvbmZpZy50ZXN0TW9kZSxvPXIuY2xpZW50VG9rZW47cmV0dXJuIGUuX2FmZmlybVNjcmlwdExvYWRlci5sb2FkKG8saSl9KSkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIGUuX2FmZmlybT10LGUuX3N0b3JlLmdldFN0YXRlKCl9KSl9LHQucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9dC5wYXltZW50JiZ0LnBheW1lbnQubWV0aG9kSWQsaT10LnVzZVN0b3JlQ3JlZGl0LG89dGhpcy5fYWZmaXJtO2lmKCFvKXRocm93IG5ldyBidC5iKGJ0LmEuUGF5bWVudE5vdEluaXRpYWxpemVkKTtpZighcil0aHJvdyBuZXcgVWUoW1wicGF5bWVudC5tZXRob2RJZFwiXSk7dmFyIGE9T2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSxlKSx7cGFyYW1zOntpbmNsdWRlOltHZS5QaHlzaWNhbEl0ZW1zQ2F0ZWdvcmllcyxHZS5EaWdpdGFsSXRlbXNDYXRlZ29yaWVzXX19KTtyZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yLnN1Ym1pdE9yZGVyKHt1c2VTdG9yZUNyZWRpdDppfSxhKSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gby5jaGVja291dChuLl9nZXRDaGVja291dEluZm9ybWF0aW9uKCkpLG5ldyBQcm9taXNlKChmdW5jdGlvbih0LGUpe28uY2hlY2tvdXQub3Blbih7b25GYWlsOmZ1bmN0aW9uKHQpe1wiY2FuY2VsZWRcIj09PXQucmVhc29uP2UobmV3IHhlKTplKG5ldyBXZS5hKX0sb25TdWNjZXNzOmZ1bmN0aW9uKGUpe3QoZSl9fSksby51aS5lcnJvci5vbihcImNsb3NlXCIsKGZ1bmN0aW9uKCl7ZShuZXcgeGUpfSkpfSkpfSkpLnRoZW4oKGZ1bmN0aW9uKHQpe3ZhciBlPXttZXRob2RJZDpyLHBheW1lbnREYXRhOntub25jZTp0LmNoZWNrb3V0X3Rva2VufX07cmV0dXJuIG4uX3N0b3JlLmRpc3BhdGNoKG4uX3BheW1lbnRBY3Rpb25DcmVhdG9yLnN1Ym1pdFBheW1lbnQoZSkpfSkpfSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWZmaXJtJiYodGhpcy5fYWZmaXJtPXZvaWQgMCksUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3N0b3JlLmdldFN0YXRlKCkpfSx0LnByb3RvdHlwZS5maW5hbGl6ZT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlamVjdChuZXcgSnQpfSx0LnByb3RvdHlwZS5fZ2V0Q2hlY2tvdXRJbmZvcm1hdGlvbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3N0b3JlLmdldFN0YXRlKCksZT10LmNvbmZpZy5nZXRTdG9yZUNvbmZpZygpLG49dC5jb25zaWdubWVudHMuZ2V0Q29uc2lnbm1lbnRzKCkscj10Lm9yZGVyLmdldE9yZGVyKCk7aWYoIWUpdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ0NoZWNrb3V0Q29uZmlnKTtpZighcil0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nQ2hlY2tvdXQpO3ZhciBpPW5ldyBIZS5hKHIuY3VycmVuY3kuZGVjaW1hbFBsYWNlcyksbz10aGlzLl9nZXRCaWxsaW5nQWRkcmVzcygpO3JldHVybnttZXJjaGFudDp7dXNlcl9jb25maXJtYXRpb25fdXJsOmUubGlua3MuY2hlY2tvdXRMaW5rLHVzZXJfY2FuY2VsX3VybDplLmxpbmtzLmNoZWNrb3V0TGluayx1c2VyX2NvbmZpcm1hdGlvbl91cmxfYWN0aW9uOlwiUE9TVFwifSxzaGlwcGluZzp0aGlzLl9nZXRTaGlwcGluZ0FkZHJlc3MoKXx8byxiaWxsaW5nOm8saXRlbXM6dGhpcy5fZ2V0SXRlbXMoaSxyKSxtZXRhZGF0YTp7c2hpcHBpbmdfdHlwZTp0aGlzLl9nZXRTaGlwcGluZ1R5cGUobiksbW9kZTpcIm1vZGFsXCIscGxhdGZvcm1fdHlwZTpcIkJpZ0NvbW1lcmNlXCIscGxhdGZvcm1fdmVyc2lvbjpcIlwiLHBsYXRmb3JtX2FmZmlybTpcIlwifSxkaXNjb3VudHM6dGhpcy5fZ2V0RGlzY291bnRzKGksciksb3JkZXJfaWQ6ci5vcmRlcklkP3Iub3JkZXJJZC50b1N0cmluZygpOlwiXCIsc2hpcHBpbmdfYW1vdW50OmkudG9JbnRlZ2VyKHIuc2hpcHBpbmdDb3N0VG90YWwpLHRheF9hbW91bnQ6aS50b0ludGVnZXIoci50YXhUb3RhbCksdG90YWw6aS50b0ludGVnZXIoci5vcmRlckFtb3VudCl9fSx0LnByb3RvdHlwZS5fZ2V0U2hpcHBpbmdUeXBlPWZ1bmN0aW9uKHQpe2lmKCF0KXJldHVyblwiXCI7dmFyIGU9dFswXTtyZXR1cm4gZSYmZS5zZWxlY3RlZFNoaXBwaW5nT3B0aW9uP2Uuc2VsZWN0ZWRTaGlwcGluZ09wdGlvbi50eXBlOlwiXCJ9LHQucHJvdG90eXBlLl9nZXRCaWxsaW5nQWRkcmVzcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3N0b3JlLmdldFN0YXRlKCkuYmlsbGluZ0FkZHJlc3MuZ2V0QmlsbGluZ0FkZHJlc3MoKTtpZighdCl0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nQmlsbGluZ0FkZHJlc3MpO3JldHVybntuYW1lOntmaXJzdDp0LmZpcnN0TmFtZSxsYXN0OnQubGFzdE5hbWUsZnVsbDp0LmZpcnN0TmFtZStcIiBcIit0Lmxhc3ROYW1lfSxhZGRyZXNzOntsaW5lMTp0LmFkZHJlc3MxLGxpbmUyOnQuYWRkcmVzczIsY2l0eTp0LmNpdHksc3RhdGU6dC5zdGF0ZU9yUHJvdmluY2VDb2RlLHppcGNvZGU6dC5wb3N0YWxDb2RlLGNvdW50cnk6dC5jb3VudHJ5Q29kZX0scGhvbmVfbnVtYmVyOnQucGhvbmUsZW1haWw6dC5lbWFpbH19LHQucHJvdG90eXBlLl9nZXRTaGlwcGluZ0FkZHJlc3M9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLnNoaXBwaW5nQWRkcmVzcy5nZXRTaGlwcGluZ0FkZHJlc3MoKTtpZih0KXJldHVybntuYW1lOntmaXJzdDp0LmZpcnN0TmFtZSxsYXN0OnQubGFzdE5hbWUsZnVsbDp0LmZpcnN0TmFtZStcIiBcIit0Lmxhc3ROYW1lfSxhZGRyZXNzOntsaW5lMTp0LmFkZHJlc3MxLGxpbmUyOnQuYWRkcmVzczIsY2l0eTp0LmNpdHksc3RhdGU6dC5zdGF0ZU9yUHJvdmluY2VDb2RlLHppcGNvZGU6dC5wb3N0YWxDb2RlLGNvdW50cnk6dC5jb3VudHJ5Q29kZX0scGhvbmVfbnVtYmVyOnQucGhvbmV9fSx0LnByb3RvdHlwZS5fZ2V0SXRlbXM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49W10scj0wLGk9ZS5saW5lSXRlbXMucGh5c2ljYWxJdGVtcztyPGkubGVuZ3RoO3IrKyl7dmFyIG89aVtyXTtuLnB1c2goe2Rpc3BsYXlfbmFtZTpvLm5hbWUsc2t1Om8uc2t1LHVuaXRfcHJpY2U6dC50b0ludGVnZXIoby5zYWxlUHJpY2UpLHF0eTpvLnF1YW50aXR5LGl0ZW1faW1hZ2VfdXJsOm8uaW1hZ2VVcmwsaXRlbV91cmw6by51cmwsY2F0ZWdvcmllczp0aGlzLl9nZXRDYXRlZ29yaWVzKG8uY2F0ZWdvcmllcyl9KX1mb3IodmFyIGE9MCxzPWUubGluZUl0ZW1zLmRpZ2l0YWxJdGVtczthPHMubGVuZ3RoO2ErKyl7bz1zW2FdO24ucHVzaCh7ZGlzcGxheV9uYW1lOm8ubmFtZSxza3U6by5za3UsdW5pdF9wcmljZTp0LnRvSW50ZWdlcihvLnNhbGVQcmljZSkscXR5Om8ucXVhbnRpdHksaXRlbV9pbWFnZV91cmw6by5pbWFnZVVybCxpdGVtX3VybDpvLnVybCxjYXRlZ29yaWVzOnRoaXMuX2dldENhdGVnb3JpZXMoby5jYXRlZ29yaWVzKX0pfWZvcih2YXIgYz0wLHU9ZS5saW5lSXRlbXMuZ2lmdENlcnRpZmljYXRlcztjPHUubGVuZ3RoO2MrKyl7bz11W2NdO24ucHVzaCh7ZGlzcGxheV9uYW1lOm8ubmFtZSxza3U6XCJcIix1bml0X3ByaWNlOnQudG9JbnRlZ2VyKG8uYW1vdW50KSxxdHk6MSxpdGVtX2ltYWdlX3VybDpcIlwiLGl0ZW1fdXJsOlwiXCJ9KX1pZihlLmxpbmVJdGVtcy5jdXN0b21JdGVtcylmb3IodmFyIGQ9MCxwPWUubGluZUl0ZW1zLmN1c3RvbUl0ZW1zO2Q8cC5sZW5ndGg7ZCsrKXtvPXBbZF07bi5wdXNoKHtkaXNwbGF5X25hbWU6by5uYW1lLHNrdTpvLnNrdSx1bml0X3ByaWNlOnQudG9JbnRlZ2VyKG8ubGlzdFByaWNlKSxxdHk6by5xdWFudGl0eSxpdGVtX2ltYWdlX3VybDpcIlwiLGl0ZW1fdXJsOlwiXCJ9KX1yZXR1cm4gbn0sdC5wcm90b3R5cGUuX2dldERpc2NvdW50cz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj17fSxyPTAsaT1lLmNvdXBvbnM7cjxpLmxlbmd0aDtyKyspe3ZhciBvPWlbcl07by5kaXNjb3VudGVkQW1vdW50PjAmJihuW28uY29kZV09e2Rpc2NvdW50X2Ftb3VudDp0LnRvSW50ZWdlcihvLmRpc2NvdW50ZWRBbW91bnQpLGRpc2NvdW50X2Rpc3BsYXlfbmFtZTpvLmRpc3BsYXlOYW1lfSl9cmV0dXJuIGUuZGlzY291bnRBbW91bnQ+MCYmKG4uRElTQ09VTlRFRF9BTU9VTlQ9e2Rpc2NvdW50X2Ftb3VudDp0LnRvSW50ZWdlcihlLmRpc2NvdW50QW1vdW50KSxkaXNjb3VudF9kaXNwbGF5X25hbWU6XCJkaXNjb3VudFwifSksbn0sdC5wcm90b3R5cGUuX2dldENhdGVnb3JpZXM9ZnVuY3Rpb24odCl7cmV0dXJuIHQ/dC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZX0pKX0pKTpbW11dfSx0fSgpO3ZhciBKZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dm9pZCAwPT09dCYmKHQ9d2luZG93KSx0aGlzLl93aW5kb3c9dH1yZXR1cm4gdC5wcm90b3R5cGUubG9hZD1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PXQmJih0PVwiXCIpO3ZhciBuPXRoaXMuX2dldFNjcmlwdFVSSShlKTtpZihmdW5jdGlvbih0LGUsbixyLGksbyxhLHMpe3ZhciBjPXRbbl18fHt9LHU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChvKSxkPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKG8pWzBdLHA9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBmdW5jdGlvbigpe3RbZV0uXy5wdXNoKFtuLGFyZ3VtZW50c10pfX07Y1tyXT1wKGMscixcInNldFwiKTt2YXIgaD1jW3JdO2NbaV09e30sY1tpXS5fPVtdLGguXz1bXSxjLl89W10sY1tpXVthXT1wKGMsaSxhKSxjW3NdPWZ1bmN0aW9uKCl7Yy5fLnB1c2goW2EsYXJndW1lbnRzXSl9O2Zvcih2YXIgbD0wLG09XCJzZXQgYWRkIHNhdmUgcG9zdCBvcGVuIGVtcHR5IHJlc2V0IG9uIG9mZiB0cmlnZ2VyIHJlYWR5IHNldFByb2R1Y3RcIi5zcGxpdChcIiBcIik7bDxtLmxlbmd0aDtsKyspaFttW2xdXT1wKGMscixtW2xdKTtmb3IodmFyIGY9MCxfPVtcImdldFwiLFwidG9rZW5cIixcInVybFwiLFwiaXRlbXNcIl07ZjxfLmxlbmd0aDtmKyspaFtfW2ZdXT1mdW5jdGlvbigpe307dS5hc3luYz0hMCx1LnNyYz1lW29dLGQucGFyZW50Tm9kZSYmZC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh1LGQpLGRlbGV0ZSBlW29dLGgoZSksdFtuXT1jfSh3aW5kb3cse3B1YmxpY19hcGlfa2V5OnQsc2NyaXB0Om59LFwiYWZmaXJtXCIsXCJjaGVja291dFwiLFwidWlcIixcInNjcmlwdFwiLFwicmVhZHlcIixcImpzUmVhZHlcIiksIXRoaXMuX3dpbmRvdy5hZmZpcm0pdGhyb3cgbmV3ICQuYTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3dpbmRvdy5hZmZpcm0pfSx0LnByb3RvdHlwZS5fZ2V0U2NyaXB0VVJJPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD0hMSksdD9cIi8vY2RuMS1zYW5kYm94LmFmZmlybS5jb20vanMvdjIvYWZmaXJtLmpzXCI6XCIvL2NkbjEuYWZmaXJtLmNvbS9qcy92Mi9hZmZpcm0uanNcIn0sdH0oKSxaZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scixpLG8sYSl7dGhpcy5fc3RvcmU9dCx0aGlzLl9jaGVja291dFZhbGlkYXRvcj1lLHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvcj1uLHRoaXMuX3BheW1lbnRBY3Rpb25DcmVhdG9yPXIsdGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3I9aSx0aGlzLl9zdG9yZUNyZWRpdEFjdGlvbkNyZWF0b3I9byx0aGlzLl9hZnRlcnBheVNjcmlwdExvYWRlcj1hfXJldHVybiB0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSxuLHIsaSxvO3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24oYSl7c3dpdGNoKGEubGFiZWwpe2Nhc2UgMDppZihlPXRoaXMuX3N0b3JlLmdldFN0YXRlKCksbj1lLnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2QodC5tZXRob2RJZCx0LmdhdGV3YXlJZCkscj1lLmNvbmZpZy5nZXRTdG9yZUNvbmZpZygpLGk9cj9yLnN0b3JlUHJvZmlsZS5zdG9yZUNvdW50cnk6XCJcIiwhbil0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7cmV0dXJuIG89dGhpcyxbNCx0aGlzLl9hZnRlcnBheVNjcmlwdExvYWRlci5sb2FkKG4sdGhpcy5fbWFwQ291bnRyeVRvSVNPMihpKSldO2Nhc2UgMTpyZXR1cm4gby5fYWZ0ZXJwYXlTZGs9YS5zZW50KCksWzIsdGhpcy5fc3RvcmUuZ2V0U3RhdGUoKV19fSkpfSkpfSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWZ0ZXJwYXlTZGsmJih0aGlzLl9hZnRlcnBheVNkaz12b2lkIDApLFByb21pc2UucmVzb2x2ZSh0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpKX0sdC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbixyLGksbyxhO3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24ocyl7c3dpdGNoKHMubGFiZWwpe2Nhc2UgMDppZighKG49dC5wYXltZW50JiZ0LnBheW1lbnQuZ2F0ZXdheUlkKSl0aHJvdyBuZXcgVWUoW1wicGF5bWVudC5nYXRld2F5SWRcIl0pO3JldHVybiByPXRoaXMuX3N0b3JlLmdldFN0YXRlKCksaT1yLmNvbmZpZy5nZXRTdG9yZUNvbmZpZygpLG89aT9pLnN0b3JlUHJvZmlsZS5zdG9yZUNvdW50cnk6XCJcIix2b2lkIDA9PT0oYT10LnVzZVN0b3JlQ3JlZGl0KT9bMywyXTpbNCx0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9zdG9yZUNyZWRpdEFjdGlvbkNyZWF0b3IuYXBwbHlTdG9yZUNyZWRpdChhKSldO2Nhc2UgMTpyPXMuc2VudCgpLHMubGFiZWw9MjtjYXNlIDI6cmV0dXJuWzQsdGhpcy5fY2hlY2tvdXRWYWxpZGF0b3IudmFsaWRhdGUoci5jaGVja291dC5nZXRDaGVja291dCgpLGUpXTtjYXNlIDM6cmV0dXJuIHMuc2VudCgpLFs0LHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yLmxvYWRQYXltZW50TWV0aG9kKG4sZSkpXTtjYXNlIDQ6cmV0dXJuIHI9cy5zZW50KCksWzQsdGhpcy5fcmVkaXJlY3RUb0FmdGVycGF5KG8sci5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kKG4pKV07Y2FzZSA1OnJldHVybiBzLnNlbnQoKSxbMixuZXcgUHJvbWlzZSgoZnVuY3Rpb24oKXt9KSldfX0pKX0pKX0sdC5wcm90b3R5cGUuZmluYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLG4scixpO3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24obyl7c3dpdGNoKG8ubGFiZWwpe2Nhc2UgMDppZihlPXRoaXMuX3N0b3JlLmdldFN0YXRlKCksbj1lLnBheW1lbnQuZ2V0UGF5bWVudElkKCkscj1lLmNvbmZpZy5nZXRDb250ZXh0Q29uZmlnKCksIW4pdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ0NoZWNrb3V0KTtpZighcnx8IXIucGF5bWVudC50b2tlbil0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nQ2hlY2tvdXRDb25maWcpO3JldHVybiBpPXttZXRob2RJZDpuLnByb3ZpZGVySWQscGF5bWVudERhdGE6e25vbmNlOnIucGF5bWVudC50b2tlbn19LFs0LHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvci5zdWJtaXRPcmRlcih7fSx0KSldO2Nhc2UgMTpyZXR1cm4gby5zZW50KCksWzIsdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcGF5bWVudEFjdGlvbkNyZWF0b3Iuc3VibWl0UGF5bWVudChpKSldfX0pKX0pKX0sdC5wcm90b3R5cGUuX3JlZGlyZWN0VG9BZnRlcnBheT1mdW5jdGlvbih0LGUpe2lmKCF0aGlzLl9hZnRlcnBheVNka3x8IWV8fCFlLmNsaWVudFRva2VuKXRocm93IG5ldyBidC5iKGJ0LmEuUGF5bWVudE5vdEluaXRpYWxpemVkKTt0aGlzLl9hZnRlcnBheVNkay5pbml0aWFsaXplKHtjb3VudHJ5Q29kZTp0aGlzLl9tYXBDb3VudHJ5VG9JU08yKHQpfSksdGhpcy5fYWZ0ZXJwYXlTZGsucmVkaXJlY3Qoe3Rva2VuOmUuY2xpZW50VG9rZW59KX0sdC5wcm90b3R5cGUuX21hcENvdW50cnlUb0lTTzI9ZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2VcIkF1c3RyYWxpYVwiOnJldHVyblwiQVVcIjtjYXNlXCJOZXcgWmVhbGFuZFwiOnJldHVyblwiTlpcIjtjYXNlXCJVbml0ZWQgU3RhdGVzXCI6cmV0dXJuXCJVU1wiO2RlZmF1bHQ6cmV0dXJuXCJBVVwifX0sdH0oKSxRZT1cIi8vcG9ydGFsLmFmdGVycGF5LmNvbS9hZnRlcnBheS1hc3luYy5qc1wiLFhlPVwiLy9wb3J0YWwtc2FuZGJveC5hZnRlcnBheS5jb20vYWZ0ZXJwYXktYXN5bmMuanNcIiwkZT1cIi8vcG9ydGFsLmFmdGVycGF5LmNvbS9hZnRlcnBheS1hc3luYy5qc1wiLHRuPVwiLy9wb3J0YWwudXMtc2FuZGJveC5hZnRlcnBheS5jb20vYWZ0ZXJwYXktYXN5bmMuanNcIixlbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fc2NyaXB0TG9hZGVyPXR9cmV0dXJuIHQucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmNvbmZpZy50ZXN0TW9kZXx8ITEscj10aGlzLl9nZXRTY3JpcHRVUkkoZSxuKTtyZXR1cm4gdGhpcy5fc2NyaXB0TG9hZGVyLmxvYWRTY3JpcHQocikudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LkFmdGVyUGF5fSkpfSx0LnByb3RvdHlwZS5fZ2V0U2NyaXB0VVJJPWZ1bmN0aW9uKHQsZSl7cmV0dXJuXCJVU1wiPT09dD9lP3RuOiRlOmU/WGU6UWV9LHR9KCksbm49big1OSkscm49bigxMzUpLG9uPW4oMTI4KTtmdW5jdGlvbiBhbih0LGUpe3JldHVybiBPYmplY3QoQnQuaXNFcXVhbCkoc24odCksc24oZSkpfWZ1bmN0aW9uIHNuKHQpe3ZhciBlLG49W1wiaWRcIixcInByb3ZpbmNlQ29kZVwiXTtyZXR1cm4gT2JqZWN0LmtleXMoKGU9dCxPYmplY3Qob24uYSkoZSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0KHJuLmEpKGUpfSkpfHx7fSkpLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXt2YXIgaTtyZXR1cm4tMT09PW4uaW5kZXhPZihyKSYmdFtyXT9PYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LGUpLCgoaT17fSlbcl09dFtyXSxpKSk6ZX0pLHt9KX1mdW5jdGlvbiBjbih0KXtyZXR1cm57aWQ6dC5pZCxmaXJzdE5hbWU6dC5maXJzdE5hbWUsbGFzdE5hbWU6dC5sYXN0TmFtZSxjb21wYW55OnQuY29tcGFueSxhZGRyZXNzMTp0LmFkZHJlc3NMaW5lMSxhZGRyZXNzMjp0LmFkZHJlc3NMaW5lMixjaXR5OnQuY2l0eSxzdGF0ZU9yUHJvdmluY2U6dC5wcm92aW5jZSxzdGF0ZU9yUHJvdmluY2VDb2RlOnQucHJvdmluY2VDb2RlLHBvc3RhbENvZGU6dC5wb3N0Q29kZSxjb3VudHJ5OnQuY291bnRyeSxjb3VudHJ5Q29kZTp0LmNvdW50cnlDb2RlLHBob25lOnQucGhvbmUsY3VzdG9tRmllbGRzOnQuY3VzdG9tRmllbGRzfX12YXIgdW49bigxODEpLGRuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyLGkpe3RoaXMuX3N0b3JlPXQsdGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yPWUsdGhpcy5fYmlsbGluZ0FkZHJlc3NBY3Rpb25DcmVhdG9yPW4sdGhpcy5fcmVtb3RlQ2hlY2tvdXRBY3Rpb25DcmVhdG9yPXIsdGhpcy5fc2NyaXB0TG9hZGVyPWksdGhpcy5fd2luZG93PXdpbmRvdyx0aGlzLl9pc1BheW1lbnRNZXRob2RTZWxlY3RlZD0hMX1yZXR1cm4gdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dC5hbWF6b24scj10Lm1ldGhvZElkLGk9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKS5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kKHIpO2lmKCFuKXRocm93IG5ldyBJdC5hKCdVbmFibGUgdG8gaW5pdGlhbGl6ZSBwYXltZW50IGJlY2F1c2UgXCJvcHRpb25zLmFtYXpvblwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nKTtpZighaSl0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7cmV0dXJuIHRoaXMuX3dhbGxldE9wdGlvbnM9bix0aGlzLl9wYXltZW50TWV0aG9kPWksbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQscil7ZS5fc2NyaXB0TG9hZGVyLmxvYWRXaWRnZXQoaSwoZnVuY3Rpb24oKXtlLl9jcmVhdGVXYWxsZXQobikudGhlbih0KS5jYXRjaChyKX0pKS5jYXRjaChyKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBlLl9zdG9yZS5nZXRTdGF0ZSgpfSkpfSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2FsbGV0T3B0aW9ucz12b2lkIDAsUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3N0b3JlLmdldFN0YXRlKCkpfSx0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXRoaXMuX2dldE9yZGVyUmVmZXJlbmNlSWQoKSxpPXRoaXMuX2dldE1lcmNoYW50SWQoKTtpZighcnx8IWkpdGhyb3cgbmV3IGJ0LmIoYnQuYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO2lmKCF0LnBheW1lbnQpdGhyb3cgbmV3IEl0LmEoJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgXCJwYXlsb2FkLnBheW1lbnQubWV0aG9kSWRcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuJyk7aWYoIXRoaXMuX2lzUGF5bWVudE1ldGhvZFNlbGVjdGVkKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdQYXltZW50TWV0aG9kKTt2YXIgbz10LnBheW1lbnQsYT0oby5wYXltZW50RGF0YSxPYmplY3QoZC5fX3Jlc3QpKG8sW1wicGF5bWVudERhdGFcIl0pKSxzPXQudXNlU3RvcmVDcmVkaXQ7cmV0dXJuIGUmJnRoaXMuX3BheW1lbnRNZXRob2QmJnRoaXMuX3BheW1lbnRNZXRob2QuY29uZmlnLmlzM2RzRW5hYmxlZD90aGlzLl9wcm9jZXNzUGF5bWVudFdpdGgzZHMoaSxyLGEubWV0aG9kSWQscyxlKTp0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9yZW1vdGVDaGVja291dEFjdGlvbkNyZWF0b3IuaW5pdGlhbGl6ZVBheW1lbnQoYS5tZXRob2RJZCx7cmVmZXJlbmNlSWQ6cix1c2VTdG9yZUNyZWRpdDpzfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIG4uX3N0b3JlLmRpc3BhdGNoKG4uX29yZGVyQWN0aW9uQ3JlYXRvci5zdWJtaXRPcmRlcihPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LHQpLHtwYXltZW50OmF9KSxlKSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgcWUuYSYmXCJwcm92aWRlcl93aWRnZXRfZXJyb3JcIj09PXQuYm9keS50eXBlJiZuLl93YWxsZXRPcHRpb25zP24uX2NyZWF0ZVdhbGxldChuLl93YWxsZXRPcHRpb25zKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlamVjdCh0KX0pKTpQcm9taXNlLnJlamVjdCh0KX0pKX0sdC5wcm90b3R5cGUuZmluYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEp0KX0sdC5wcm90b3R5cGUuX2dldE1lcmNoYW50SWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGF5bWVudE1ldGhvZCYmdGhpcy5fcGF5bWVudE1ldGhvZC5jb25maWcubWVyY2hhbnRJZH0sdC5wcm90b3R5cGUuX2dldE9yZGVyUmVmZXJlbmNlSWQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLnJlbW90ZUNoZWNrb3V0LmdldENoZWNrb3V0KFwiYW1hem9uXCIpO3JldHVybiB0P3QucmVmZXJlbmNlSWQ6dm9pZCAwfSx0LnByb3RvdHlwZS5fZ2V0T3JkZXJSZWZlcmVuY2VJZEZyb21Jbml0aWFsaXphdGlvbkRhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGF5bWVudE1ldGhvZD90aGlzLl9wYXltZW50TWV0aG9kLmluaXRpYWxpemF0aW9uRGF0YS5vcmRlclJlZmVyZW5jZUlkOnZvaWQgMH0sdC5wcm90b3R5cGUuX2NyZWF0ZVdhbGxldD1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXt2YXIgaT10LmNvbnRhaW5lcixvPXQub25FcnJvcixhPXZvaWQgMD09PW8/QnQubm9vcDpvLHM9dC5vblBheW1lbnRTZWxlY3QsYz12b2lkIDA9PT1zP0J0Lm5vb3A6cyx1PXQub25SZWFkeSxkPXZvaWQgMD09PXU/QnQubm9vcDp1LHA9ZS5fZ2V0T3JkZXJSZWZlcmVuY2VJZCgpfHxlLl9nZXRPcmRlclJlZmVyZW5jZUlkRnJvbUluaXRpYWxpemF0aW9uRGF0YSgpLGg9ZS5fZ2V0TWVyY2hhbnRJZCgpO2lmKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpKSlyZXR1cm4gcihuZXcgSXQuYShcIlVuYWJsZSB0byBjcmVhdGUgQW1hem9uUGF5IFdhbGxldCB3aWRnZXQgd2l0aG91dCB2YWxpZCBjb250YWluZXIgSUQuXCIpKTtpZighZS5fd2luZG93Lk9mZkFtYXpvblBheW1lbnRzKXJldHVybiByKG5ldyBidC5iKGJ0LmEuUGF5bWVudE5vdEluaXRpYWxpemVkKSk7aWYoIWgpcmV0dXJuIHIobmV3IHYuYih2LmEuTWlzc2luZ1BheW1lbnRNZXRob2QpKTt2YXIgbD17YW1hem9uT3JkZXJSZWZlcmVuY2VJZDpwLGRlc2lnbjp7ZGVzaWduTW9kZTpcInJlc3BvbnNpdmVcIn0sc2NvcGU6XCJwYXltZW50czpiaWxsaW5nX2FkZHJlc3MgcGF5bWVudHM6c2hpcHBpbmdfYWRkcmVzcyBwYXltZW50czp3aWRnZXQgcHJvZmlsZVwiLHNlbGxlcklkOmgsb25FcnJvcjpmdW5jdGlvbih0KXtyKHQpLGEodCl9LG9uUGF5bWVudFNlbGVjdDpmdW5jdGlvbih0KXtlLl9zeW5jaHJvbml6ZUJpbGxpbmdBZGRyZXNzKCkudGhlbigoZnVuY3Rpb24oKXtlLl9pc1BheW1lbnRNZXRob2RTZWxlY3RlZD0hMCxjKHQpfSkpLmNhdGNoKGEpfSxvblJlYWR5OmZ1bmN0aW9uKHQpe24oKSxkKHQpfX07ZS5fZ2V0T3JkZXJSZWZlcmVuY2VJZCgpfHwobC5vblJlYWR5PWZ1bmN0aW9uKHQpe2UuX3VwZGF0ZU9yZGVyUmVmZXJlbmNlKHQpLnRoZW4oKGZ1bmN0aW9uKCl7bigpLGQodCl9KSkuY2F0Y2goYSl9KTt2YXIgbT1uZXcgZS5fd2luZG93Lk9mZkFtYXpvblBheW1lbnRzLldpZGdldHMuV2FsbGV0KGwpO3JldHVybiBtLmJpbmQoaSksbX0pKX0sdC5wcm90b3R5cGUuX3N5bmNocm9uaXplQmlsbGluZ0FkZHJlc3M9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dGhpcy5fZ2V0T3JkZXJSZWZlcmVuY2VJZCgpLG49dGhpcy5fcGF5bWVudE1ldGhvZCYmdGhpcy5fcGF5bWVudE1ldGhvZC5pZDtpZighbnx8IWUpdGhyb3cgbmV3IHVuLmE7cmV0dXJuIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3JlbW90ZUNoZWNrb3V0QWN0aW9uQ3JlYXRvci5pbml0aWFsaXplQmlsbGluZyhuLHtyZWZlcmVuY2VJZDplfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3ZhciBuPWUucmVtb3RlQ2hlY2tvdXQuZ2V0Q2hlY2tvdXQoXCJhbWF6b25cIikscj1uJiZuLmJpbGxpbmcmJm4uYmlsbGluZy5hZGRyZXNzLGk9ZS5iaWxsaW5nQWRkcmVzcy5nZXRCaWxsaW5nQWRkcmVzcygpLG89aSYmT2JqZWN0KG5uLmEpKGkpO2lmKCExPT09cil0aHJvdyBuZXcgdW4uYTtyZXR1cm4hcnx8YW4ocixvfHx7fSk/dC5fc3RvcmUuZ2V0U3RhdGUoKTp0Ll9zdG9yZS5kaXNwYXRjaCh0Ll9iaWxsaW5nQWRkcmVzc0FjdGlvbkNyZWF0b3IudXBkYXRlQWRkcmVzcyhjbihyKSkpfSkpfSx0LnByb3RvdHlwZS5fdXBkYXRlT3JkZXJSZWZlcmVuY2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3JlbW90ZUNoZWNrb3V0QWN0aW9uQ3JlYXRvci51cGRhdGVDaGVja291dChcImFtYXpvblwiLHtyZWZlcmVuY2VJZDp0LmdldEFtYXpvbk9yZGVyUmVmZXJlbmNlSWQoKX0pKX0sdC5wcm90b3R5cGUuX3Byb2Nlc3NQYXltZW50V2l0aDNkcz1mdW5jdGlvbih0LGUsbixyLGkpe3ZhciBvPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihhLHMpe3JldHVybiBvLl93aW5kb3cuT2ZmQW1hem9uUGF5bWVudHM/by5fd2luZG93Lk9mZkFtYXpvblBheW1lbnRzLmluaXRDb25maXJtYXRpb25GbG93KHQsZSwoZnVuY3Rpb24odCl7cmV0dXJuIG8uX3N0b3JlLmRpc3BhdGNoKG8uX29yZGVyQWN0aW9uQ3JlYXRvci5zdWJtaXRPcmRlcih7dXNlU3RvcmVDcmVkaXQ6cn0saSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIG8uX3N0b3JlLmRpc3BhdGNoKG8uX3JlbW90ZUNoZWNrb3V0QWN0aW9uQ3JlYXRvci5pbml0aWFsaXplUGF5bWVudChuLHtyZWZlcmVuY2VJZDplLHVzZVN0b3JlQ3JlZGl0OnJ9KSl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdC5zdWNjZXNzKCksbmV3IFByb21pc2UoKGZ1bmN0aW9uKCl7fSkpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtyZXR1cm4gdC5lcnJvcigpLHMoZSl9KSl9KSk6cyhuZXcgYnQuYihidC5hLlBheW1lbnROb3RJbml0aWFsaXplZCkpfSkpfSx0fSgpLHBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyLGksbyl7dGhpcy5fc3RvcmU9dCx0aGlzLl9wYXltZW50U3RyYXRlZ3lBY3Rpb25DcmVhdG9yPWUsdGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3I9bix0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3I9cix0aGlzLl9wYXltZW50QWN0aW9uQ3JlYXRvcj1pLHRoaXMuX2FtYXpvblBheVYyUGF5bWVudFByb2Nlc3Nvcj1vfXJldHVybiB0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSxuLHIsaSxvLGE7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihzKXtzd2l0Y2gocy5sYWJlbCl7Y2FzZSAwOmlmKGU9dC5tZXRob2RJZCxuPXQuYW1hem9ucGF5LCFlfHwhbil0aHJvdyBuZXcgSXQuYSgnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBcIm9wdGlvbnMuYW1hem9ucGF5XCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicpO3JldHVybls0LHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yLmxvYWRQYXltZW50TWV0aG9kKGUpKV07Y2FzZSAxOnJldHVybiByPXMuc2VudCgpLGk9ci5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyhlKSxbNCx0aGlzLl9hbWF6b25QYXlWMlBheW1lbnRQcm9jZXNzb3IuaW5pdGlhbGl6ZShpKV07Y2FzZSAyOnJldHVybiBzLnNlbnQoKSxvPWkuaW5pdGlhbGl6YXRpb25EYXRhLnBheW1lbnRUb2tlbixhPW4uZWRpdEJ1dHRvbklkLG8mJmE/dGhpcy5fYmluZEVkaXRCdXR0b24oYSxvLFwiY2hhbmdlUGF5bWVudFwiKTp0aGlzLl93YWxsZXRCdXR0b249dGhpcy5fY3JlYXRlU2lnbkluQnV0dG9uKGkpLFsyLHRoaXMuX3N0b3JlLmdldFN0YXRlKCldfX0pKX0pKX0sdC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbixyLGksbyxhLHMsYztyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKHUpe3N3aXRjaCh1LmxhYmVsKXtjYXNlIDA6aWYoIShuPXQucGF5bWVudCkpdGhyb3cgbmV3IFVlKFtcInBheW1lbnRcIl0pO3JldHVybiByPW4ubWV0aG9kSWQsWzQsdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3IubG9hZFBheW1lbnRNZXRob2QocikpXTtjYXNlIDE6cmV0dXJuIGk9dS5zZW50KCksbz1pLnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2RPclRocm93KHIpLChhPW8uaW5pdGlhbGl6YXRpb25EYXRhLnBheW1lbnRUb2tlbik/KHM9e21ldGhvZElkOnIscGF5bWVudERhdGE6e25vbmNlOmF9fSxbNCx0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3Iuc3VibWl0T3JkZXIodCxlKSldKTpbMyw2XTtjYXNlIDI6dS5zZW50KCksdS5sYWJlbD0zO2Nhc2UgMzpyZXR1cm4gdS50cnlzLnB1c2goWzMsNSwsNl0pLFs0LHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3BheW1lbnRBY3Rpb25DcmVhdG9yLnN1Ym1pdFBheW1lbnQocykpXTtjYXNlIDQ6cmV0dXJuWzIsdS5zZW50KCldO2Nhc2UgNTppZigoYz11LnNlbnQoKSlpbnN0YW5jZW9mIHFlLmEmJlwiYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWRcIj09PWMuYm9keS5zdGF0dXMpcmV0dXJuWzIsbmV3IFByb21pc2UoKGZ1bmN0aW9uKCl7d2luZG93LmxvY2F0aW9uLnJlcGxhY2UoYy5ib2R5LmFkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkLmRhdGEucmVkaXJlY3RfdXJsKX0pKV07dGhyb3cgYztjYXNlIDY6aWYoIXRoaXMuX3dhbGxldEJ1dHRvbil0aHJvdyBuZXcgYnQuYihidC5hLlBheW1lbnROb3RJbml0aWFsaXplZCk7cmV0dXJuIHRoaXMuX3dhbGxldEJ1dHRvbi5jbGljaygpLFsyLG5ldyBQcm9taXNlKEJ0Lm5vb3ApXX19KSl9KSl9LHQucHJvdG90eXBlLmZpbmFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBKdCl9LHQucHJvdG90eXBlLmRlaW5pdGlhbGl6ZT1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLl93YWxsZXRCdXR0b24mJnRoaXMuX3dhbGxldEJ1dHRvbi5wYXJlbnROb2RlJiYodGhpcy5fd2FsbGV0QnV0dG9uLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fd2FsbGV0QnV0dG9uKSx0aGlzLl93YWxsZXRCdXR0b249dm9pZCAwKSxbNCx0aGlzLl9hbWF6b25QYXlWMlBheW1lbnRQcm9jZXNzb3IuZGVpbml0aWFsaXplKCldO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksWzIsUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3N0b3JlLmdldFN0YXRlKCkpXX19KSl9KSl9LHQucHJvdG90eXBlLl9iaW5kRWRpdEJ1dHRvbj1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcyxpPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHQpO2lmKGkmJmkucGFyZW50Tm9kZSl7dmFyIG89aS5jbG9uZU5vZGUoITApO2kucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobyxpKSxvLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLChmdW5jdGlvbigpe3JldHVybiByLl9zaG93TG9hZGluZ1NwaW5uZXIoKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBQcm9taXNlKEJ0Lm5vb3ApfSkpfSkpLHRoaXMuX2FtYXpvblBheVYyUGF5bWVudFByb2Nlc3Nvci5iaW5kQnV0dG9uKHQsZSxuKX19LHQucHJvdG90eXBlLl9zaG93TG9hZGluZ1NwaW5uZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3BheW1lbnRTdHJhdGVneUFjdGlvbkNyZWF0b3Iud2lkZ2V0SW50ZXJhY3Rpb24oKGZ1bmN0aW9uKCl7cmV0dXJuIHQ/dCgpOlByb21pc2UucmVqZWN0KCl9KSkse3F1ZXVlSWQ6XCJ3aWRnZXRJbnRlcmFjdGlvblwifSl9LHQucHJvdG90eXBlLl9jcmVhdGVDb250YWluZXI9ZnVuY3Rpb24oKXt2YXIgdD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkFtYXpvblBheUJ1dHRvblwiKTtyZXR1cm4gdHx8KCh0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLmlkPVwiQW1hem9uUGF5QnV0dG9uXCIsdC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodCkpfSx0LnByb3RvdHlwZS5fY3JlYXRlU2lnbkluQnV0dG9uPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3N0b3JlLmdldFN0YXRlKCksbj1lLmNhcnQuZ2V0Q2FydCgpLHI9ZS5jb25maWcuZ2V0U3RvcmVDb25maWcoKTtpZighcil0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nQ2hlY2tvdXRDb25maWcpO2lmKCF0KXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdQYXltZW50TWV0aG9kKTt2YXIgaT10LmNvbmZpZyxvPWkubWVyY2hhbnRJZCxhPWkudGVzdE1vZGUscz10LmluaXRpYWxpemF0aW9uRGF0YSxjPXMuY2hlY2tvdXRMYW5ndWFnZSx1PXMubGVkZ2VyQ3VycmVuY3ksZD1zLmNoZWNrb3V0U2Vzc2lvbk1ldGhvZCxwPXMuZXh0cmFjdEFtYXpvbkNoZWNrb3V0U2Vzc2lvbklkO2lmKCFvKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdQYXltZW50TWV0aG9kKTt2YXIgaD17bWVyY2hhbnRJZDpvLHNhbmRib3g6ISFhLGNoZWNrb3V0TGFuZ3VhZ2U6YyxsZWRnZXJDdXJyZW5jeTp1LHByb2R1Y3RUeXBlOm4mJjA9PT1PYmplY3QoanQuYSkobik/UHQuYS5QYXlPbmx5OlB0LmEuUGF5QW5kU2hpcCxjcmVhdGVDaGVja291dFNlc3Npb246e21ldGhvZDpkLHVybDpyLmxpbmtzLnNpdGVMaW5rK1wiL3JlbW90ZS1jaGVja291dC9cIit0LmlkK1wiL3BheW1lbnQtc2Vzc2lvblwiLGV4dHJhY3RBbWF6b25DaGVja291dFNlc3Npb25JZDpwfSxwbGFjZW1lbnQ6UHQuYi5DaGVja291dH0sbD10aGlzLl9jcmVhdGVDb250YWluZXIoKTtyZXR1cm4gdGhpcy5fYW1hem9uUGF5VjJQYXltZW50UHJvY2Vzc29yLmNyZWF0ZUJ1dHRvbihcIiNcIitsLmlkLGgpLGx9LHR9KCksaG49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIpe3RoaXMuX3N0b3JlPXQsdGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yPWUsdGhpcy5fcGF5bWVudEFjdGlvbkNyZWF0b3I9bix0aGlzLl9ob3N0ZWRGb3JtRmFjdG9yeT1yfXJldHVybiB0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG4scjtyZXR1cm4gdGhpcy5faXNIb3N0ZWRQYXltZW50Rm9ybUVuYWJsZWQobnVsbD09PShuPXQucGF5bWVudCl8fHZvaWQgMD09PW4/dm9pZCAwOm4ubWV0aG9kSWQsbnVsbD09PShyPXQucGF5bWVudCl8fHZvaWQgMD09PXI/dm9pZCAwOnIuZ2F0ZXdheUlkKSYmdGhpcy5fc2hvdWxkUmVuZGVySG9zdGVkRm9ybT90aGlzLl9leGVjdXRlV2l0aEhvc3RlZEZvcm0odCxlKTp0aGlzLl9leGVjdXRlV2l0aG91dEhvc3RlZEZvcm0odCxlKX0sdC5wcm90b3R5cGUuZmluYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBKdCl9LHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZighdGhpcy5faXNIb3N0ZWRQYXltZW50Rm9ybUVuYWJsZWQobnVsbD09dD92b2lkIDA6dC5tZXRob2RJZCxudWxsPT10P3ZvaWQgMDp0LmdhdGV3YXlJZCl8fCF0aGlzLl9pc0hvc3RlZEZpZWxkQXZhaWxhYmxlKHQpKXJldHVybiB0aGlzLl9zaG91bGRSZW5kZXJIb3N0ZWRGb3JtPSExLFByb21pc2UucmVzb2x2ZSh0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpKTt2YXIgbj10JiZ0LmNyZWRpdENhcmQmJnQuY3JlZGl0Q2FyZC5mb3JtLHI9KHRoaXMuX3N0b3JlLmdldFN0YXRlKCkuY29uZmlnLmdldFN0b3JlQ29uZmlnKCl8fHt9KS5wYXltZW50U2V0dGluZ3MsaT0odm9pZCAwPT09cj97fTpyKS5iaWdwYXlCYXNlVXJsLG89dm9pZCAwPT09aT9cIlwiOmk7aWYoIW4pdGhyb3cgbmV3IEl0LmE7dmFyIGE9dGhpcy5faG9zdGVkRm9ybUZhY3RvcnkuY3JlYXRlKG8sbik7cmV0dXJuIGEuYXR0YWNoKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gZS5fc2hvdWxkUmVuZGVySG9zdGVkRm9ybT0hMCxlLl9ob3N0ZWRGb3JtPWEsZS5fc3RvcmUuZ2V0U3RhdGUoKX0pKX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9ob3N0ZWRGb3JtJiZ0aGlzLl9ob3N0ZWRGb3JtLmRldGFjaCgpLFByb21pc2UucmVzb2x2ZSh0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpKX0sdC5wcm90b3R5cGUuX2V4ZWN1dGVXaXRob3V0SG9zdGVkRm9ybT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj10LnBheW1lbnQsaT1PYmplY3QoZC5fX3Jlc3QpKHQsW1wicGF5bWVudFwiXSksbz1yJiZyLnBheW1lbnREYXRhO2lmKCFyfHwhbyl0aHJvdyBuZXcgVWUoW1wicGF5bWVudC5wYXltZW50RGF0YVwiXSk7cmV0dXJuIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvci5zdWJtaXRPcmRlcihpLGUpKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBuLl9zdG9yZS5kaXNwYXRjaChuLl9wYXltZW50QWN0aW9uQ3JlYXRvci5zdWJtaXRQYXltZW50KE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30scikse3BheW1lbnREYXRhOm99KSkpfSkpfSx0LnByb3RvdHlwZS5fZXhlY3V0ZVdpdGhIb3N0ZWRGb3JtPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXQucGF5bWVudCxpPU9iamVjdChkLl9fcmVzdCkodCxbXCJwYXltZW50XCJdKSxvPXRoaXMuX2hvc3RlZEZvcm07aWYoIW8pdGhyb3cgbmV3IGJ0LmIoYnQuYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO2lmKCFyfHwhci5tZXRob2RJZCl0aHJvdyBuZXcgVWUoW1wicGF5bWVudC5tZXRob2RJZFwiXSk7cmV0dXJuIG8udmFsaWRhdGUoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBuLl9zdG9yZS5kaXNwYXRjaChuLl9vcmRlckFjdGlvbkNyZWF0b3Iuc3VibWl0T3JkZXIoaSxlKSl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gby5zdWJtaXQocil9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gbi5fc3RvcmUuZGlzcGF0Y2gobi5fb3JkZXJBY3Rpb25DcmVhdG9yLmxvYWRDdXJyZW50T3JkZXIoKSl9KSl9LHQucHJvdG90eXBlLl9pc0hvc3RlZFBheW1lbnRGb3JtRW5hYmxlZD1mdW5jdGlvbih0LGUpe3JldHVybiEhdCYmITA9PT0oMCx0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2RPclRocm93KSh0LGUpLmNvbmZpZy5pc0hvc3RlZEZvcm1FbmFibGVkfSx0LnByb3RvdHlwZS5faXNIb3N0ZWRGaWVsZEF2YWlsYWJsZT1mdW5jdGlvbih0KXtyZXR1cm4hT2JqZWN0KEJ0LnZhbHVlcykodCYmdC5jcmVkaXRDYXJkJiZ0LmNyZWRpdENhcmQuZm9ybS5maWVsZHMpLmV2ZXJ5KEJ0LmlzTmlsKX0sdH0oKSxsbj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLGksbyl7dmFyIGE9dC5jYWxsKHRoaXMsZSxuLHIsaSl8fHRoaXM7cmV0dXJuIGEuX3RocmVlRFNlY3VyZUZsb3c9byxhfXJldHVybiBPYmplY3QoZC5fX2V4dGVuZHMpKGUsdCksZS5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG4scjtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKGkpe3N3aXRjaChpLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsZSldO2Nhc2UgMTpyZXR1cm4gaS5zZW50KCksbj10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2RPclRocm93LChyPW4oZS5tZXRob2RJZCkpLmNvbmZpZy5pczNkc0VuYWJsZWQ/WzQsdGhpcy5fdGhyZWVEU2VjdXJlRmxvdy5wcmVwYXJlKHIpXTpbMywzXTtjYXNlIDI6aS5zZW50KCksaS5sYWJlbD0zO2Nhc2UgMzpyZXR1cm5bMix0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpXX19KSl9KSl9LGUucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHIsaSxvO3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24oYSl7cmV0dXJuIHI9ZS5wYXltZW50LGk9KHZvaWQgMD09PXI/e306cikubWV0aG9kSWQsbz12b2lkIDA9PT1pP1wiXCI6aSwoMCx0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2RPclRocm93KShvKS5jb25maWcuaXMzZHNFbmFibGVkP1syLHRoaXMuX3RocmVlRFNlY3VyZUZsb3cuc3RhcnQodC5wcm90b3R5cGUuZXhlY3V0ZS5iaW5kKHRoaXMpLGUsbix0aGlzLl9ob3N0ZWRGb3JtKV06WzIsdC5wcm90b3R5cGUuZXhlY3V0ZS5jYWxsKHRoaXMsZSxuKV19KSl9KSl9LGV9KGhuKSxtbj1uKDM2KSxmbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMuX3N0b3JlPXQsdGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yPWUsdGhpcy5fcGF5bWVudEFjdGlvbkNyZWF0b3I9bn1yZXR1cm4gdC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbixyLGksbyxhLHM7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihjKXtzd2l0Y2goYy5sYWJlbCl7Y2FzZSAwOmlmKCEobj10LnBheW1lbnQpKXRocm93IG5ldyBVZShbXCJwYXltZW50XCJdKTtpZighdGhpcy5faW5pdGlhbGl6ZU9wdGlvbnMpdGhyb3cgbmV3IGJ0LmIoYnQuYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO3JldHVybls0LHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvci5zdWJtaXRPcmRlcih0LGUpKV07Y2FzZSAxOnJldHVybiBjLnNlbnQoKSxyPXRoaXMuX2luaXRpYWxpemVPcHRpb25zLGk9ci5vbkxvYWQsbz1yLnN0eWxlLGE9dGhpcy5fY3JlYXRlSWZyYW1lKFwiYmx1ZXNuYXB2Ml9ob3N0ZWRfcGF5bWVudF9wYWdlXCIsbykscz1uZXcgbmUobmV3IFByb21pc2UoQnQubm9vcCkpLGkoYSwoZnVuY3Rpb24oKXtyZXR1cm4gcy5jYW5jZWwobmV3IHhlKX0pKSxbMix0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9wYXltZW50QWN0aW9uQ3JlYXRvci5pbml0aWFsaXplT2Zmc2l0ZVBheW1lbnQoe21ldGhvZElkOm4ubWV0aG9kSWQsZ2F0ZXdheUlkOm4uZ2F0ZXdheUlkLHNob3VsZFNhdmVJbnN0cnVtZW50OiExLHRhcmdldDphLm5hbWUscHJvbWlzZTpzLnByb21pc2V9KSldfX0pKX0pKX0sdC5wcm90b3R5cGUuZmluYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSxuPWUub3JkZXIuZ2V0T3JkZXIoKSxyPWUucGF5bWVudC5nZXRQYXltZW50U3RhdHVzKCk7cmV0dXJuIW58fHIhPT1tbi5hJiZyIT09bW4uYj9Qcm9taXNlLnJlamVjdChuZXcgSnQpOnRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvci5maW5hbGl6ZU9yZGVyKG4ub3JkZXJJZCx0KSl9LHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2luaXRpYWxpemVPcHRpb25zPXQmJnQuYmx1ZXNuYXB2MixQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSl9LHQucHJvdG90eXBlLmRlaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSl9LHQucHJvdG90eXBlLl9jcmVhdGVJZnJhbWU9ZnVuY3Rpb24odCxlKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO2lmKG4ubmFtZT10LGUpe3ZhciByPWUuYm9yZGVyLGk9ZS5oZWlnaHQsbz1lLndpZHRoO24uc3R5bGUuYm9yZGVyPXIsbi5zdHlsZS5oZWlnaHQ9aSxuLnN0eWxlLndpZHRoPW99cmV0dXJuIG59LHR9KCk7dmFyIF9uPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyLGksbyl7dGhpcy5fc3RvcmU9dCx0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3I9ZSx0aGlzLl9wYXltZW50QWN0aW9uQ3JlYXRvcj1uLHRoaXMuX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yPXIsdGhpcy5fc3RvcmVDcmVkaXRBY3Rpb25DcmVhdG9yPWksdGhpcy5fYm9sdFNjcmlwdExvYWRlcj1vLHRoaXMuX3VzZUJvbHRDbGllbnQ9ITF9cmV0dXJuIHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLG4scixpLG8sYTtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKHMpe3N3aXRjaChzLmxhYmVsKXtjYXNlIDA6aWYoZT10LmJvbHQsbj10Lm1ldGhvZElkLHRoaXMuX3VzZUJvbHRDbGllbnQ9ISghZXx8IWUudXNlQmlnQ29tbWVyY2VDaGVja291dCksIXRoaXMuX3VzZUJvbHRDbGllbnQpcmV0dXJuWzMsMl07aWYocj10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLCEoaT1yLnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2QobikpfHwhaS5pbml0aWFsaXphdGlvbkRhdGEucHVibGlzaGFibGVLZXkpdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ1BheW1lbnRNZXRob2QpO3JldHVybiBvPWkuaW5pdGlhbGl6YXRpb25EYXRhLnB1Ymxpc2hhYmxlS2V5LGE9dGhpcyxbNCx0aGlzLl9ib2x0U2NyaXB0TG9hZGVyLmxvYWQobyxpLmNvbmZpZy50ZXN0TW9kZSldO2Nhc2UgMTphLl9ib2x0Q2xpZW50PXMuc2VudCgpLHMubGFiZWw9MjtjYXNlIDI6cmV0dXJuWzIsUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3N0b3JlLmdldFN0YXRlKCkpXX19KSl9KSl9LHQucHJvdG90eXBlLmRlaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ib2x0Q2xpZW50PXZvaWQgMCxQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSl9LHQucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5fdXNlQm9sdENsaWVudD9bMix0aGlzLl9leGVjdXRlV2l0aEJvbHRDbGllbnQodCxlKV06WzIsdGhpcy5fZXhlY3V0ZVdpdGhCb2x0Q2hlY2tvdXQodCxlKV19KSl9KSl9LHQucHJvdG90eXBlLmZpbmFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBKdCl9LHQucHJvdG90eXBlLl9leGVjdXRlV2l0aEJvbHRDbGllbnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG4scixpLG8sYSxzLGMsdSxwLGg7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihsKXtzd2l0Y2gobC5sYWJlbCl7Y2FzZSAwOmlmKG49dC5wYXltZW50LHI9T2JqZWN0KGQuX19yZXN0KSh0LFtcInBheW1lbnRcIl0pLCFuKXRocm93IG5ldyBVZShbXCJwYXltZW50XCJdKTtpZighdGhpcy5fYm9sdENsaWVudCl0aHJvdyBuZXcgYnQuYihidC5hLlBheW1lbnROb3RJbml0aWFsaXplZCk7cmV0dXJuIGk9dGhpcy5fYm9sdENsaWVudCxbNCx0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3Iuc3VibWl0T3JkZXIocixlKSldO2Nhc2UgMTpyZXR1cm4gbC5zZW50KCksdm9pZCAwPT09KG89dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKS5jaGVja291dC5nZXRDaGVja291dE9yVGhyb3coKS5pc1N0b3JlQ3JlZGl0QXBwbGllZCk/WzMsM106WzQsdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fc3RvcmVDcmVkaXRBY3Rpb25DcmVhdG9yLmFwcGx5U3RvcmVDcmVkaXQobykpXTtjYXNlIDI6bC5zZW50KCksbC5sYWJlbD0zO2Nhc2UgMzpyZXR1cm5bNCx0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9wYXltZW50TWV0aG9kQWN0aW9uQ3JlYXRvci5sb2FkUGF5bWVudE1ldGhvZChuLm1ldGhvZElkLGUpKV07Y2FzZSA0OmlmKGE9bC5zZW50KCksIShzPWEucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZChuLm1ldGhvZElkKSl8fCFzLmNsaWVudFRva2VuKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdQYXltZW50TWV0aG9kKTtyZXR1cm4gYz1zLmNsaWVudFRva2VuLFs0LG5ldyBQcm9taXNlKChmdW5jdGlvbih0LGUpe3ZhciBuPXtzdWNjZXNzOmZ1bmN0aW9uKGUsbil7dChlKSxuKCl9LGNsb3NlOmZ1bmN0aW9uKCl7ZShuZXcgeGUpfX07aS5jb25maWd1cmUoe29yZGVyVG9rZW46Y30se30sbikub3BlbigpfSkpXTtjYXNlIDU6cmV0dXJuIHU9bC5zZW50KCkscD1uLnBheW1lbnREYXRhLnNob3VsZFNhdmVJbnN0cnVtZW50LGg9e21ldGhvZElkOm4ubWV0aG9kSWQscGF5bWVudERhdGE6e25vbmNlOnUucmVmZXJlbmNlLHNob3VsZFNhdmVJbnN0cnVtZW50OnB9fSxbMix0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9wYXltZW50QWN0aW9uQ3JlYXRvci5zdWJtaXRQYXltZW50KGgpKV19fSkpfSkpfSx0LnByb3RvdHlwZS5fZXhlY3V0ZVdpdGhCb2x0Q2hlY2tvdXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG4scixpLG87cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihhKXtzd2l0Y2goYS5sYWJlbCl7Y2FzZSAwOmlmKG49dC5wYXltZW50LHI9T2JqZWN0KGQuX19yZXN0KSh0LFtcInBheW1lbnRcIl0pLCFuKXRocm93IG5ldyBVZShbXCJwYXltZW50XCJdKTtpZihpPW4ubWV0aG9kSWQsbz1uLnBheW1lbnREYXRhLCFpKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdQYXltZW50TWV0aG9kKTtpZighb3x8IUJvb2xlYW4oby5ub25jZSkpdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ1BheW1lbnQpO3JldHVybls0LHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvci5zdWJtaXRPcmRlcihyLGUpKV07Y2FzZSAxOnJldHVybiBhLnNlbnQoKSxbMix0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9wYXltZW50QWN0aW9uQ3JlYXRvci5zdWJtaXRQYXltZW50KHttZXRob2RJZDppLHBheW1lbnREYXRhOm99KSldfX0pKX0pKX0sdH0oKSx5bj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt2b2lkIDA9PT1lJiYoZT13aW5kb3cpLHRoaXMuX3NjcmlwdExvYWRlcj10LHRoaXMuX3dpbmRvdz1lfXJldHVybiB0LnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBuO3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpyZXR1cm4gbj17YXN5bmM6ITAsYXR0cmlidXRlczp7aWQ6XCJib2x0LWNvbm5lY3RcIixcImRhdGEtcHVibGlzaGFibGUta2V5XCI6dH19LFs0LHRoaXMuX3NjcmlwdExvYWRlci5sb2FkU2NyaXB0KFwiLy9jb25uZWN0XCIrKGU/XCItc2FuZGJveFwiOlwiXCIpK1wiLmJvbHQuY29tL2Nvbm5lY3QtYmlnY29tbWVyY2UuanNcIixuKV07Y2FzZSAxOmlmKHIuc2VudCgpLCF0aGlzLl93aW5kb3cuQm9sdENoZWNrb3V0KXRocm93IG5ldyAkLmE7cmV0dXJuWzIsdGhpcy5fd2luZG93LkJvbHRDaGVja291dF19fSkpfSkpfSx0fSgpO3ZhciBnbixibj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dmFyIGU9dGhpcy5fY3JlYXRlRWxlbWVudHModCksbj1lLmVsZW1lbnQscj1lLmNsb3NlRWxlbWVudCxpPWUubWFpbkVsZW1lbnQ7dGhpcy5fZWxlbWVudD1uLHRoaXMuX2Nsb3NlRWxlbWVudD1yLHRoaXMuX21haW5FbGVtZW50PWl9cmV0dXJuIHQucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLl9tYWluRWxlbWVudC5wYXJlbnRFbGVtZW50fHwodGhpcy5fcmVnaXN0ZXJDbGljayh0KSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuX21haW5FbGVtZW50KSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiBlLl9lbGVtZW50LnN0eWxlLm9wYWNpdHk9XCIxXCJ9KSkpfSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuX21haW5FbGVtZW50LnBhcmVudEVsZW1lbnQmJih0aGlzLl91bnJlZ2lzdGVyQ2xpY2smJnRoaXMuX3VucmVnaXN0ZXJDbGljaygpLHRoaXMuX3JlbW92ZUFmdGVyVHJhbnNpdGlvbigpLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX2VsZW1lbnQuc3R5bGUub3BhY2l0eT1cIjBcIn0pKSl9LHQucHJvdG90eXBlLl9jcmVhdGVFbGVtZW50cz1mdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksYT10fHx7fSxzPWEuYmFja2dyb3VuZCxjPXZvaWQgMD09PXM/XCJyZ2JhKDAsIDAsIDAsIDAuOClcIjpzLHU9YS5pZCxkPXZvaWQgMD09PXU/XCJjaGVja291dE92ZXJsYXlcIjp1LHA9YS50cmFuc2l0aW9uRHVyYXRpb24saD12b2lkIDA9PT1wPzQwMDpwLGw9YS5oYXNDbG9zZUJ1dHRvbixtPWEuaW5uZXJIdG1sLGY9bztpZihkJiYoby5pZD1kKSxtKXt2YXIgXz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2k9ZCtcIi0tb3ZlcmxheVRleHRcIixfLmNsYXNzTmFtZT1pLF8uYXBwZW5kQ2hpbGQobSksby5hcHBlbmRDaGlsZChfKX1yZXR1cm4gbCYmKHI9ZCtcIi0tY2xvc2VcIiwoZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKS5jbGFzc05hbWU9cixuPWQrXCItLWxheW91dFwiLChmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLmNsYXNzTmFtZT1uLGYuYXBwZW5kQ2hpbGQobyksZi5hcHBlbmRDaGlsZChlKSksZi5hcHBlbmRDaGlsZChmdW5jdGlvbih0KXt2YXIgZT10LmlkLG49dC5iYWNrZ3JvdW5kLHI9dC50cmFuc2l0aW9uRHVyYXRpb24saT10LmNsYXNzTGF5b3V0LG89dC5jbGFzc092ZXJsYXlUZXh0LGE9dC5jbGFzc0Nsb3NlLHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpLGM9aT9cIiwgLlwiK2k6XCJcIjtyZXR1cm4gcy5pZD1lK1wiLS1zdHlsZXNcIixzLnR5cGU9XCJ0ZXh0L2Nzc1wiLHMuaW5uZXJUZXh0PVwiXFxuICAgICAgICAjXCIrZStjK1wiIHtcXG4gICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcXG4gICAgICAgICAgICBoZWlnaHQ6IDEwMCU7XFxuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XFxuICAgICAgICAgICAgbGVmdDogMDtcXG4gICAgICAgICAgICB0b3A6IDA7XFxuICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xcbiAgICAgICAgICAgIHotaW5kZXg6IDIxNDc0ODM2NDc7XFxuICAgICAgICB9XFxuICAgICAgICAjXCIrZStcIiB7XFxuICAgICAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSBcIityK1wibXMgZWFzZS1vdXQ7XFxuICAgICAgICAgICAgYmFja2dyb3VuZDogXCIrbitcIjtcXG4gICAgICAgICAgICBvcGFjaXR5OiAwO1xcbiAgICAgICAgfVxcbiAgICBcIixvJiYocy5pbm5lclRleHQrPVwiXFxuICAgICAgICAgICAgICNcIitlK1wiIHtcXG4gICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcXG4gICAgICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gICAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgI1wiK2UrXCIgLlwiK28rXCIge1xcbiAgICAgICAgICAgICAgICBjb2xvcjogd2hpdGU7XFxuICAgICAgICAgICAgICAgIG1heC13aWR0aDogMzMwcHg7XFxuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMS4yZW07XFxuICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gICAgICAgICAgICAgfVxcbiAgICAgICAgXCIpLGEmJihzLmlubmVyVGV4dCs9XCJcXG4gICAgICAgICAgICAjXCIrZStcIiB7XFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDE7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIC5cIitpK1wiIC5cIithK1wiIHtcXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xcbiAgICAgICAgICAgICAgICByaWdodDogMTZweDtcXG4gICAgICAgICAgICAgICAgdG9wOiAxNnB4O1xcbiAgICAgICAgICAgICAgICB3aWR0aDogMTZweDtcXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAxNnB4O1xcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjY7XFxuICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gICAgICAgICAgICAgICAgei1pbmRleDogMzE0NzQ4MzY0NztcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgLlwiK2krXCIgLlwiK2ErXCI6OmFmdGVyLCAuXCIraStcIiAuXCIrYStcIjo6YmVmb3JlIHtcXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICAgICAgICAgICAgICBsZWZ0OiA4cHg7XFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcnO1xcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDE2cHg7XFxuICAgICAgICAgICAgICAgIHdpZHRoOiAycHg7XFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIC5cIitpK1wiIC5cIithK1wiOjphZnRlciB7XFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKC00NWRlZyk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIC5cIitpK1wiIC5cIithK1wiOjpiZWZvcmUge1xcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSg0NWRlZyk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgXCIpLHN9KHtpZDpkLGJhY2tncm91bmQ6Yyx0cmFuc2l0aW9uRHVyYXRpb246aCxjbGFzc0xheW91dDpuLGNsYXNzT3ZlcmxheVRleHQ6aSxjbGFzc0Nsb3NlOnJ9KSkse2VsZW1lbnQ6byxjbG9zZUVsZW1lbnQ6ZSxtYWluRWxlbWVudDpmfX0sdC5wcm90b3R5cGUuX2FkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24odCxlKXt0JiZlJiZ0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGUpfSx0LnByb3RvdHlwZS5fcmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbih0LGUpe3QmJmUmJnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZSl9LHQucHJvdG90eXBlLl9yZWdpc3RlckNsaWNrPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYodGhpcy5fdW5yZWdpc3RlckNsaWNrJiZ0aGlzLl91bnJlZ2lzdGVyQ2xpY2soKSx0KXt2YXIgbj10Lm9uQ2xpY2sscj10Lm9uQ2xpY2tDbG9zZTt0aGlzLl9hZGRFdmVudExpc3RlbmVyKHRoaXMuX2VsZW1lbnQsbiksdGhpcy5fYWRkRXZlbnRMaXN0ZW5lcih0aGlzLl9jbG9zZUVsZW1lbnQsciksdGhpcy5fdW5yZWdpc3RlckNsaWNrPWZ1bmN0aW9uKCl7ZS5fcmVtb3ZlRXZlbnRMaXN0ZW5lcihlLl9lbGVtZW50LG4pLGUuX3JlbW92ZUV2ZW50TGlzdGVuZXIoZS5fY2xvc2VFbGVtZW50LHIpLGUuX3VucmVnaXN0ZXJDbGljaz12b2lkIDB9fX0sdC5wcm90b3R5cGUuX3JlbW92ZUFmdGVyVHJhbnNpdGlvbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1mdW5jdGlvbihuKXtcIm9wYWNpdHlcIj09PW4ucHJvcGVydHlOYW1lJiYodC5fbWFpbkVsZW1lbnQucGFyZW50RWxlbWVudCYmdC5fbWFpbkVsZW1lbnQucmVtb3ZlKCksdC5fZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLGUpKX07dGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLGUpfSx0fSgpLHZuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2YXIgcj10LmNhbGwodGhpcyxufHxcIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHBheW1lbnQgZm9ybSBjb250YWlucyBpbnZhbGlkIGRhdGEuXCIpfHx0aGlzO3JldHVybiByLmRldGFpbHM9ZSxyLm5hbWU9XCJQYXltZW50SW52YWxpZEZvcm1FcnJvclwiLHIudHlwZT1cInBheW1lbnRfaW52YWxpZF9mb3JtXCIscn1yZXR1cm4gT2JqZWN0KGQuX19leHRlbmRzKShlLHQpLGV9KGh0LmEpOyFmdW5jdGlvbih0KXt0LkNhcmRDb2RlPVwiY2FyZENvZGVcIix0LkNhcmRDb2RlVmVyaWZpY2F0aW9uPVwiY2FyZENvZGVWZXJpZmljYXRpb25cIix0LkNhcmRFeHBpcnk9XCJjYXJkRXhwaXJ5XCIsdC5DYXJkTmFtZT1cImNhcmROYW1lXCIsdC5DYXJkTnVtYmVyPVwiY2FyZE51bWJlclwiLHQuQ2FyZE51bWJlclZlcmlmaWNhdGlvbj1cImNhcmROdW1iZXJWZXJpZmljYXRpb25cIn0oZ258fChnbj17fSkpO3ZhciBDbixPbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt2YXIgbixyPXRoaXM7dGhpcy5fb3B0aW9ucz10LHRoaXMuX3N0eWxlcz1lLHRoaXMuX2hhbmRsZUJsdXI9ZnVuY3Rpb24oKXt2YXIgdDtyLl9hcHBseVN0eWxlcyhudWxsPT09KHQ9ci5fc3R5bGVzKXx8dm9pZCAwPT09dD92b2lkIDA6dC5kZWZhdWx0KX0sdGhpcy5faGFuZGxlRm9jdXM9ZnVuY3Rpb24oKXt2YXIgdDtyLl9hcHBseVN0eWxlcyhudWxsPT09KHQ9ci5fc3R5bGVzKXx8dm9pZCAwPT09dD92b2lkIDA6dC5mb2N1cyl9LHRoaXMuX2lucHV0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSx0aGlzLl9pbnB1dC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9XCJ0cmFuc3BhcmVudFwiLHRoaXMuX2lucHV0LnN0eWxlLmJvcmRlcj1cIjBcIix0aGlzLl9pbnB1dC5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIix0aGlzLl9pbnB1dC5zdHlsZS5oZWlnaHQ9XCIxMDAlXCIsdGhpcy5faW5wdXQuc3R5bGUubWFyZ2luPVwiMFwiLHRoaXMuX2lucHV0LnN0eWxlLm91dGxpbmU9XCJub25lXCIsdGhpcy5faW5wdXQuc3R5bGUucGFkZGluZz1cIjBcIix0aGlzLl9pbnB1dC5zdHlsZS53aWR0aD1cIjEwMCVcIix0aGlzLl9pbnB1dC5wbGFjZWhvbGRlcj10aGlzLl9vcHRpb25zLnBsYWNlaG9sZGVyfHxcIlwiLHRoaXMuX2lucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsdGhpcy5faGFuZGxlQmx1ciksdGhpcy5faW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsdGhpcy5faGFuZGxlRm9jdXMpLHRoaXMuX2FwcGx5U3R5bGVzKG51bGw9PT0obj10aGlzLl9zdHlsZXMpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmRlZmF1bHQpfXJldHVybiB0LnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnB1dC52YWx1ZX0sdC5wcm90b3R5cGUuYXR0YWNoPWZ1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5fb3B0aW9ucy5jb250YWluZXJJZCk7aWYoIXQpdGhyb3cgbmV3IEl0LmE7dC5hcHBlbmRDaGlsZCh0aGlzLl9pbnB1dCl9LHQucHJvdG90eXBlLmRldGFjaD1mdW5jdGlvbigpe3ZhciB0O251bGw9PT0odD10aGlzLl9pbnB1dC5wYXJlbnROb2RlKXx8dm9pZCAwPT09dHx8dC5yZW1vdmVDaGlsZCh0aGlzLl9pbnB1dCl9LHQucHJvdG90eXBlLm9uPWZ1bmN0aW9uKHQsZSl7dGhpcy5faW5wdXQuYWRkRXZlbnRMaXN0ZW5lcih0LGUpfSx0LnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24odCxlKXt0aGlzLl9pbnB1dC5yZW1vdmVFdmVudExpc3RlbmVyKHQsZSl9LHQucHJvdG90eXBlLl9hcHBseVN0eWxlcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3QmJk9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKG4pe2UuX2lucHV0LnN0eWxlW25dPXRbbl18fFwiXCJ9KSl9LHR9KCk7ZnVuY3Rpb24gU24odCl7cmV0dXJuISF0LmNhcmROdW1iZXJ9IWZ1bmN0aW9uKHQpe3RbdC5DcmVkaXRDYXJkPTBdPVwiQ3JlZGl0Q2FyZFwiLHRbdC5TdG9yZWRDYXJkVmVyaWZpY2F0aW9uPTFdPVwiU3RvcmVkQ2FyZFZlcmlmaWNhdGlvblwifShDbnx8KENuPXt9KSk7dmFyIHduPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2YXIgZT10aGlzO3RoaXMuX2JyYWludHJlZVNES0NyZWF0b3I9dCx0aGlzLl9oYW5kbGVCbHVyPWZ1bmN0aW9uKHQpe3ZhciBuLHI7bnVsbD09PShyPW51bGw9PT0obj1lLl9mb3JtT3B0aW9ucyl8fHZvaWQgMD09PW4/dm9pZCAwOm4ub25CbHVyKXx8dm9pZCAwPT09cnx8ci5jYWxsKG4se2ZpZWxkVHlwZTplLl9tYXBGaWVsZFR5cGUodC5lbWl0dGVkQnkpfSl9LHRoaXMuX2hhbmRsZU5hbWVCbHVyPWZ1bmN0aW9uKCl7dmFyIHQsbjtudWxsPT09KG49bnVsbD09PSh0PWUuX2Zvcm1PcHRpb25zKXx8dm9pZCAwPT09dD92b2lkIDA6dC5vbkJsdXIpfHx2b2lkIDA9PT1ufHxuLmNhbGwodCx7ZmllbGRUeXBlOmduLkNhcmROYW1lfSl9LHRoaXMuX2hhbmRsZUZvY3VzPWZ1bmN0aW9uKHQpe3ZhciBuLHI7bnVsbD09PShyPW51bGw9PT0obj1lLl9mb3JtT3B0aW9ucyl8fHZvaWQgMD09PW4/dm9pZCAwOm4ub25Gb2N1cyl8fHZvaWQgMD09PXJ8fHIuY2FsbChuLHtmaWVsZFR5cGU6ZS5fbWFwRmllbGRUeXBlKHQuZW1pdHRlZEJ5KX0pfSx0aGlzLl9oYW5kbGVOYW1lRm9jdXM9ZnVuY3Rpb24oKXt2YXIgdCxuO251bGw9PT0obj1udWxsPT09KHQ9ZS5fZm9ybU9wdGlvbnMpfHx2b2lkIDA9PT10P3ZvaWQgMDp0Lm9uRm9jdXMpfHx2b2lkIDA9PT1ufHxuLmNhbGwodCx7ZmllbGRUeXBlOmduLkNhcmROYW1lfSl9LHRoaXMuX2hhbmRsZUNhcmRUeXBlQ2hhbmdlPWZ1bmN0aW9uKHQpe3ZhciBuLHIsaTtudWxsPT09KHI9bnVsbD09PShuPWUuX2Zvcm1PcHRpb25zKXx8dm9pZCAwPT09bj92b2lkIDA6bi5vbkNhcmRUeXBlQ2hhbmdlKXx8dm9pZCAwPT09cnx8ci5jYWxsKG4se2NhcmRUeXBlOm51bGw9PT0oaT10LmNhcmRzWzBdKXx8dm9pZCAwPT09aT92b2lkIDA6aS50eXBlfSl9LHRoaXMuX2hhbmRsZUlucHV0U3VibWl0UmVxdWVzdD1mdW5jdGlvbih0KXt2YXIgbixyO251bGw9PT0ocj1udWxsPT09KG49ZS5fZm9ybU9wdGlvbnMpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLm9uRW50ZXIpfHx2b2lkIDA9PT1yfHxyLmNhbGwobix7ZmllbGRUeXBlOmUuX21hcEZpZWxkVHlwZSh0LmVtaXR0ZWRCeSl9KX0sdGhpcy5faGFuZGxlVmFsaWRpdHlDaGFuZ2U9ZnVuY3Rpb24odCl7dmFyIG4scjtudWxsPT09KHI9bnVsbD09PShuPWUuX2Zvcm1PcHRpb25zKXx8dm9pZCAwPT09bj92b2lkIDA6bi5vblZhbGlkYXRlKXx8dm9pZCAwPT09cnx8ci5jYWxsKG4se2lzVmFsaWQ6T2JqZWN0LmtleXModC5maWVsZHMpLmV2ZXJ5KChmdW5jdGlvbihlKXt2YXIgbjtyZXR1cm4gbnVsbD09PShuPXQuZmllbGRzW2VdKXx8dm9pZCAwPT09bj92b2lkIDA6bi5pc1ZhbGlkfSkpLGVycm9yczplLl9tYXBWYWxpZGF0aW9uRXJyb3JzKHQuZmllbGRzKX0pfX1yZXR1cm4gdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGUsbjtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMuX2Zvcm1PcHRpb25zPXQsdGhpcy5fdHlwZT1Tbih0LmZpZWxkcyk/Q24uQ3JlZGl0Q2FyZDpDbi5TdG9yZWRDYXJkVmVyaWZpY2F0aW9uLGU9dGhpcy5fbWFwRmllbGRPcHRpb25zKHQuZmllbGRzKSxPYmplY3QoQnQuaXNFbXB0eSkoZSk/WzIsITFdOihuPXRoaXMsWzQsdGhpcy5fYnJhaW50cmVlU0RLQ3JlYXRvci5jcmVhdGVIb3N0ZWRGaWVsZHMoe2ZpZWxkczplLHN0eWxlczp0LnN0eWxlcyYmdGhpcy5fbWFwU3R5bGVPcHRpb25zKHQuc3R5bGVzKX0pXSk7Y2FzZSAxOnJldHVybiBuLl9jYXJkRmllbGRzPXIuc2VudCgpLHRoaXMuX2NhcmRGaWVsZHMub24oXCJibHVyXCIsdGhpcy5faGFuZGxlQmx1ciksdGhpcy5fY2FyZEZpZWxkcy5vbihcImZvY3VzXCIsdGhpcy5faGFuZGxlRm9jdXMpLHRoaXMuX2NhcmRGaWVsZHMub24oXCJjYXJkVHlwZUNoYW5nZVwiLHRoaXMuX2hhbmRsZUNhcmRUeXBlQ2hhbmdlKSx0aGlzLl9jYXJkRmllbGRzLm9uKFwidmFsaWRpdHlDaGFuZ2VcIix0aGlzLl9oYW5kbGVWYWxpZGl0eUNoYW5nZSksdGhpcy5fY2FyZEZpZWxkcy5vbihcImlucHV0U3VibWl0UmVxdWVzdFwiLHRoaXMuX2hhbmRsZUlucHV0U3VibWl0UmVxdWVzdCksU24odC5maWVsZHMpJiYodGhpcy5fY2FyZE5hbWVGaWVsZD1uZXcgT24odC5maWVsZHMuY2FyZE5hbWUsdC5zdHlsZXMpLHRoaXMuX2NhcmROYW1lRmllbGQub24oXCJibHVyXCIsdGhpcy5faGFuZGxlTmFtZUJsdXIpLHRoaXMuX2NhcmROYW1lRmllbGQub24oXCJmb2N1c1wiLHRoaXMuX2hhbmRsZU5hbWVGb2N1cyksdGhpcy5fY2FyZE5hbWVGaWVsZC5hdHRhY2goKSksWzIsITBdfX0pKX0pKX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKCl7dmFyIHQsZTtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOnJldHVybls0LG51bGw9PT0odD10aGlzLl9jYXJkRmllbGRzKXx8dm9pZCAwPT09dD92b2lkIDA6dC50ZWFyZG93bigpXTtjYXNlIDE6cmV0dXJuIG4uc2VudCgpLG51bGw9PT0oZT10aGlzLl9jYXJkTmFtZUZpZWxkKXx8dm9pZCAwPT09ZXx8ZS5kZXRhY2goKSxbMl19fSkpfSkpfSx0LnByb3RvdHlwZS50b2tlbml6ZT1mdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxvO3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgYSxzLGM7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbih1KXtzd2l0Y2godS5sYWJlbCl7Y2FzZSAwOmlmKCF0aGlzLl9jYXJkRmllbGRzKXRocm93IG5ldyBidC5iKGJ0LmEuUGF5bWVudE5vdEluaXRpYWxpemVkKTt1LmxhYmVsPTE7Y2FzZSAxOnJldHVybiB1LnRyeXMucHVzaChbMSwzLCw0XSksWzQsdGhpcy5fY2FyZEZpZWxkcy50b2tlbml6ZShPYmplY3QoQnQub21pdEJ5KSh7YmlsbGluZ0FkZHJlc3M6dCYmdGhpcy5fbWFwQmlsbGluZ0FkZHJlc3ModCksY2FyZGhvbGRlck5hbWU6bnVsbD09PShlPXRoaXMuX2NhcmROYW1lRmllbGQpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmdldFZhbHVlKCl9LEJ0LmlzTmlsKSldO2Nhc2UgMjpyZXR1cm4gYT11LnNlbnQoKS5ub25jZSxudWxsPT09KHI9bnVsbD09PShuPXRoaXMuX2Zvcm1PcHRpb25zKXx8dm9pZCAwPT09bj92b2lkIDA6bi5vblZhbGlkYXRlKXx8dm9pZCAwPT09cnx8ci5jYWxsKG4se2lzVmFsaWQ6ITAsZXJyb3JzOnt9fSksWzIse25vbmNlOmF9XTtjYXNlIDM6aWYocz11LnNlbnQoKSxjPXRoaXMuX21hcFRva2VuaXplRXJyb3IocykpdGhyb3cgbnVsbD09PShvPW51bGw9PT0oaT10aGlzLl9mb3JtT3B0aW9ucyl8fHZvaWQgMD09PWk/dm9pZCAwOmkub25WYWxpZGF0ZSl8fHZvaWQgMD09PW98fG8uY2FsbChpLHtpc1ZhbGlkOiExLGVycm9yczpjfSksbmV3IHZuKGMpO3Rocm93IHM7Y2FzZSA0OnJldHVyblsyXX19KSl9KSl9LHQucHJvdG90eXBlLnRva2VuaXplRm9yU3RvcmVkQ2FyZFZlcmlmaWNhdGlvbj1mdW5jdGlvbigpe3ZhciB0LGUsbixyLGk7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBvLGEscztyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKGMpe3N3aXRjaChjLmxhYmVsKXtjYXNlIDA6aWYoIXRoaXMuX2NhcmRGaWVsZHMpdGhyb3cgbmV3IGJ0LmIoYnQuYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO2MubGFiZWw9MTtjYXNlIDE6cmV0dXJuIGMudHJ5cy5wdXNoKFsxLDMsLDRdKSxbNCx0aGlzLl9jYXJkRmllbGRzLnRva2VuaXplKE9iamVjdChCdC5vbWl0QnkpKHtjYXJkaG9sZGVyTmFtZTpudWxsPT09KHQ9dGhpcy5fY2FyZE5hbWVGaWVsZCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZ2V0VmFsdWUoKX0sQnQuaXNOaWwpKV07Y2FzZSAyOnJldHVybiBvPWMuc2VudCgpLm5vbmNlLG51bGw9PT0obj1udWxsPT09KGU9dGhpcy5fZm9ybU9wdGlvbnMpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLm9uVmFsaWRhdGUpfHx2b2lkIDA9PT1ufHxuLmNhbGwoZSx7aXNWYWxpZDohMCxlcnJvcnM6e319KSxbMix7bm9uY2U6b31dO2Nhc2UgMzppZihhPWMuc2VudCgpLHM9dGhpcy5fbWFwVG9rZW5pemVFcnJvcihhKSl0aHJvdyBudWxsPT09KGk9bnVsbD09PShyPXRoaXMuX2Zvcm1PcHRpb25zKXx8dm9pZCAwPT09cj92b2lkIDA6ci5vblZhbGlkYXRlKXx8dm9pZCAwPT09aXx8aS5jYWxsKHIse2lzVmFsaWQ6ITEsZXJyb3JzOnN9KSxuZXcgdm4ocyk7dGhyb3cgYTtjYXNlIDQ6cmV0dXJuWzJdfX0pKX0pKX0sdC5wcm90b3R5cGUuX21hcEJpbGxpbmdBZGRyZXNzPWZ1bmN0aW9uKHQpe3JldHVybntjb3VudHJ5TmFtZTp0LmNvdW50cnkscG9zdGFsQ29kZTp0LnBvc3RhbENvZGUsc3RyZWV0QWRkcmVzczp0LmFkZHJlc3MyP3QuYWRkcmVzczErXCIgXCIrdC5hZGRyZXNzMjp0LmFkZHJlc3MxfX0sdC5wcm90b3R5cGUuX21hcEZpZWxkT3B0aW9ucz1mdW5jdGlvbih0KXtyZXR1cm4gU24odCk/T2JqZWN0KEJ0Lm9taXRCeSkoe251bWJlcjp7Y29udGFpbmVyOlwiI1wiK3QuY2FyZE51bWJlci5jb250YWluZXJJZCxwbGFjZWhvbGRlcjp0LmNhcmROdW1iZXIucGxhY2Vob2xkZXJ9LGV4cGlyYXRpb25EYXRlOntjb250YWluZXI6XCIjXCIrdC5jYXJkRXhwaXJ5LmNvbnRhaW5lcklkLHBsYWNlaG9sZGVyOnQuY2FyZEV4cGlyeS5wbGFjZWhvbGRlcn0sY3Z2OnQuY2FyZENvZGUmJntjb250YWluZXI6XCIjXCIrdC5jYXJkQ29kZS5jb250YWluZXJJZCxwbGFjZWhvbGRlcjp0LmNhcmRDb2RlLnBsYWNlaG9sZGVyfX0sQnQuaXNOaWwpOk9iamVjdChCdC5vbWl0QnkpKHtudW1iZXI6dC5jYXJkTnVtYmVyVmVyaWZpY2F0aW9uJiZ7Y29udGFpbmVyOlwiI1wiK3QuY2FyZE51bWJlclZlcmlmaWNhdGlvbi5jb250YWluZXJJZCxwbGFjZWhvbGRlcjp0LmNhcmROdW1iZXJWZXJpZmljYXRpb24ucGxhY2Vob2xkZXJ9LGN2djp0LmNhcmRDb2RlVmVyaWZpY2F0aW9uJiZ7Y29udGFpbmVyOlwiI1wiK3QuY2FyZENvZGVWZXJpZmljYXRpb24uY29udGFpbmVySWQscGxhY2Vob2xkZXI6dC5jYXJkQ29kZVZlcmlmaWNhdGlvbi5wbGFjZWhvbGRlcn19LEJ0LmlzTmlsKX0sdC5wcm90b3R5cGUuX21hcFN0eWxlT3B0aW9ucz1mdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9e30pLE9iamVjdChCdC5vbWl0QnkpKHtjb2xvcjp0LmNvbG9yLFwiZm9udC1mYW1pbHlcIjp0LmZvbnRGYW1pbHksXCJmb250LXNpemVcIjp0LmZvbnRTaXplLFwiZm9udC13ZWlnaHRcIjp0LmZvbnRXZWlnaHR9LEJ0LmlzTmlsKX07cmV0dXJue2lucHV0OmUodC5kZWZhdWx0KSxcIi5pbnZhbGlkXCI6ZSh0LmVycm9yKSxcIjpmb2N1c1wiOmUodC5mb2N1cyl9fSx0LnByb3RvdHlwZS5fbWFwRmllbGRUeXBlPWZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlXCJudW1iZXJcIjpyZXR1cm4gdGhpcy5fdHlwZT09PUNuLlN0b3JlZENhcmRWZXJpZmljYXRpb24/Z24uQ2FyZE51bWJlclZlcmlmaWNhdGlvbjpnbi5DYXJkTnVtYmVyO2Nhc2VcImV4cGlyYXRpb25EYXRlXCI6cmV0dXJuIGduLkNhcmRFeHBpcnk7Y2FzZVwiY3Z2XCI6cmV0dXJuIHRoaXMuX3R5cGU9PT1Dbi5TdG9yZWRDYXJkVmVyaWZpY2F0aW9uP2duLkNhcmRDb2RlVmVyaWZpY2F0aW9uOmduLkNhcmRDb2RlO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiVW5leHBlY3RlZCBmaWVsZCB0eXBlXCIpfX0sdC5wcm90b3R5cGUuX21hcFZhbGlkYXRpb25FcnJvcnM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gT2JqZWN0LmtleXModCkucmVkdWNlKChmdW5jdGlvbihuLHIpe3ZhciBpLG87cmV0dXJuIE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30sbiksKChpPXt9KVtlLl9tYXBGaWVsZFR5cGUocildPShudWxsPT09KG89dFtyXSl8fHZvaWQgMD09PW8/dm9pZCAwOm8uaXNWYWxpZCk/dm9pZCAwOltlLl9jcmVhdGVJbnZhbGlkRXJyb3IoZS5fbWFwRmllbGRUeXBlKHIpKV0saSkpfSkse30pfSx0LnByb3RvdHlwZS5fbWFwVG9rZW5pemVFcnJvcj1mdW5jdGlvbih0KXt2YXIgZSxuLHIsaT10aGlzO3JldHVyblwiSE9TVEVEX0ZJRUxEU19GSUVMRFNfRU1QVFlcIj09PXQuY29kZT8oKGU9e30pW3RoaXMuX21hcEZpZWxkVHlwZShcImN2dlwiKV09W3RoaXMuX2NyZWF0ZVJlcXVpcmVkRXJyb3IodGhpcy5fbWFwRmllbGRUeXBlKFwiY3Z2XCIpKV0sZVt0aGlzLl9tYXBGaWVsZFR5cGUoXCJleHBpcmF0aW9uRGF0ZVwiKV09W3RoaXMuX2NyZWF0ZVJlcXVpcmVkRXJyb3IodGhpcy5fbWFwRmllbGRUeXBlKFwiZXhwaXJhdGlvbkRhdGVcIikpXSxlW3RoaXMuX21hcEZpZWxkVHlwZShcIm51bWJlclwiKV09W3RoaXMuX2NyZWF0ZVJlcXVpcmVkRXJyb3IodGhpcy5fbWFwRmllbGRUeXBlKFwibnVtYmVyXCIpKV0sZSk6bnVsbD09PShyPW51bGw9PT0obj1udWxsPT10P3ZvaWQgMDp0LmRldGFpbHMpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmludmFsaWRGaWVsZEtleXMpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnJlZHVjZSgoZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4gT2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSx0KSwoKG49e30pW2kuX21hcEZpZWxkVHlwZShlKV09W2kuX2NyZWF0ZUludmFsaWRFcnJvcihpLl9tYXBGaWVsZFR5cGUoZSkpXSxuKSl9KSx7fSl9LHQucHJvdG90eXBlLl9jcmVhdGVSZXF1aXJlZEVycm9yPWZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlIGduLkNhcmRDb2RlVmVyaWZpY2F0aW9uOmNhc2UgZ24uQ2FyZENvZGU6cmV0dXJue2ZpZWxkVHlwZTp0LG1lc3NhZ2U6XCJDVlYgaXMgcmVxdWlyZWRcIix0eXBlOlwicmVxdWlyZWRcIn07Y2FzZSBnbi5DYXJkTnVtYmVyVmVyaWZpY2F0aW9uOmNhc2UgZ24uQ2FyZE51bWJlcjpyZXR1cm57ZmllbGRUeXBlOnQsbWVzc2FnZTpcIkNyZWRpdCBjYXJkIG51bWJlciBpcyByZXF1aXJlZFwiLHR5cGU6XCJyZXF1aXJlZFwifTtjYXNlIGduLkNhcmRFeHBpcnk6cmV0dXJue2ZpZWxkVHlwZTp0LG1lc3NhZ2U6XCJFeHBpcmF0aW9uIGRhdGUgaXMgcmVxdWlyZWRcIix0eXBlOlwicmVxdWlyZWRcIn07Y2FzZSBnbi5DYXJkTmFtZTpyZXR1cm57ZmllbGRUeXBlOnQsbWVzc2FnZTpcIkZ1bGwgbmFtZSBpcyByZXF1aXJlZFwiLHR5cGU6XCJyZXF1aXJlZFwifTtkZWZhdWx0OnJldHVybntmaWVsZFR5cGU6dCxtZXNzYWdlOlwiRmllbGQgaXMgcmVxdWlyZWRcIix0eXBlOlwicmVxdWlyZWRcIn19fSx0LnByb3RvdHlwZS5fY3JlYXRlSW52YWxpZEVycm9yPWZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlIGduLkNhcmRDb2RlVmVyaWZpY2F0aW9uOnJldHVybntmaWVsZFR5cGU6dCxtZXNzYWdlOlwiSW52YWxpZCBjYXJkIGNvZGVcIix0eXBlOlwiaW52YWxpZF9jYXJkX2NvZGVcIn07Y2FzZSBnbi5DYXJkTnVtYmVyVmVyaWZpY2F0aW9uOnJldHVybntmaWVsZFR5cGU6dCxtZXNzYWdlOlwiSW52YWxpZCBjYXJkIG51bWJlclwiLHR5cGU6XCJpbnZhbGlkX2NhcmRfbnVtYmVyXCJ9O2Nhc2UgZ24uQ2FyZENvZGU6cmV0dXJue2ZpZWxkVHlwZTp0LG1lc3NhZ2U6XCJJbnZhbGlkIGNhcmQgY29kZVwiLHR5cGU6XCJpbnZhbGlkX2NhcmRfY29kZVwifTtjYXNlIGduLkNhcmRFeHBpcnk6cmV0dXJue2ZpZWxkVHlwZTp0LG1lc3NhZ2U6XCJJbnZhbGlkIGNhcmQgZXhwaXJ5XCIsdHlwZTpcImludmFsaWRfY2FyZF9leHBpcnlcIn07Y2FzZSBnbi5DYXJkTnVtYmVyOnJldHVybntmaWVsZFR5cGU6dCxtZXNzYWdlOlwiSW52YWxpZCBjYXJkIG51bWJlclwiLHR5cGU6XCJpbnZhbGlkX2NhcmRfbnVtYmVyXCJ9O2RlZmF1bHQ6cmV0dXJue2ZpZWxkVHlwZTp0LG1lc3NhZ2U6XCJJbnZhbGlkIGZpZWxkXCIsdHlwZTpcImludmFsaWRcIn19fSx0fSgpLEluPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dGhpcy5fYnJhaW50cmVlU0RLQ3JlYXRvcj10LHRoaXMuX2JyYWludHJlZUhvc3RlZEZvcm09ZSx0aGlzLl9vdmVybGF5PW59cmV0dXJuIHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24odCxlKXt0aGlzLl9icmFpbnRyZWVTREtDcmVhdG9yLmluaXRpYWxpemUodCksdGhpcy5fdGhyZWVEU2VjdXJlT3B0aW9ucz1lJiZlLnRocmVlRFNlY3VyZX0sdC5wcm90b3R5cGUucHJlbG9hZFBheXBhbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9icmFpbnRyZWVTREtDcmVhdG9yLmdldFBheXBhbCgpfSx0LnByb3RvdHlwZS50b2tlbml6ZUNhcmQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG47cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybiBuPXRoaXMuX21hcFRvQ3JlZGl0Q2FyZCh0LnBheW1lbnREYXRhLGUpLFs0LHRoaXMuX2JyYWludHJlZVNES0NyZWF0b3IuZ2V0Q2xpZW50KCldO2Nhc2UgMTpyZXR1cm5bNCxyLnNlbnQoKS5yZXF1ZXN0KG4pXTtjYXNlIDI6cmV0dXJuWzIse25vbmNlOnIuc2VudCgpLmNyZWRpdENhcmRzWzBdLm5vbmNlfV19fSkpfSkpfSx0LnByb3RvdHlwZS52ZXJpZnlDYXJkPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHIsaSxvO3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24oYSl7c3dpdGNoKGEubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxQcm9taXNlLmFsbChbdGhpcy50b2tlbml6ZUNhcmQodCxlKSx0aGlzLl9icmFpbnRyZWVTREtDcmVhdG9yLmdldDNEUygpXSldO2Nhc2UgMTpyZXR1cm4gcj1hLnNlbnQoKSxpPXJbMF0ubm9uY2Usbz1yWzFdLFsyLHRoaXMuX3ByZXNlbnQzRFNDaGFsbGVuZ2UobyxuLGkpXX19KSl9KSl9LHQucHJvdG90eXBlLnBheXBhbD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dC5zaG91bGRTYXZlSW5zdHJ1bWVudCxyPU9iamVjdChkLl9fcmVzdCkodCxbXCJzaG91bGRTYXZlSW5zdHJ1bWVudFwiXSk7cmV0dXJuIHRoaXMuX2JyYWludHJlZVNES0NyZWF0b3IuZ2V0UGF5cGFsKCkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIGUuX292ZXJsYXkuc2hvdyh7b25DbGljazpmdW5jdGlvbigpe3JldHVybiB0LmZvY3VzV2luZG93KCl9fSksdC50b2tlbml6ZShPYmplY3QoZC5fX2Fzc2lnbikoe2VuYWJsZVNoaXBwaW5nQWRkcmVzczohMCxmbG93Om4/XCJ2YXVsdFwiOlwiY2hlY2tvdXRcIix1c2VyYWN0aW9uOlwiY29tbWl0XCJ9LHIpKX0pKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gZS5fb3ZlcmxheS5yZW1vdmUoKSx0fSkpLmNhdGNoKChmdW5jdGlvbih0KXt0aHJvdyBlLl9vdmVybGF5LnJlbW92ZSgpLHR9KSl9LHQucHJvdG90eXBlLmdldFNlc3Npb25JZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9icmFpbnRyZWVTREtDcmVhdG9yLmdldERhdGFDb2xsZWN0b3IoKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kZXZpY2VEYXRhfSkpfSx0LnByb3RvdHlwZS5hcHBlbmRTZXNzaW9uSWQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gdC50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gUHJvbWlzZS5hbGwoW3QsZS5fYnJhaW50cmVlU0RLQ3JlYXRvci5nZXREYXRhQ29sbGVjdG9yKCldKX0pKS50aGVuKChmdW5jdGlvbih0KXt2YXIgZT10WzBdLG49dFsxXS5kZXZpY2VEYXRhO3JldHVybiBPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LGUpLHtkZXZpY2VTZXNzaW9uSWQ6bn0pfSkpfSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnJhaW50cmVlU0RLQ3JlYXRvci50ZWFyZG93bigpfSx0LnByb3RvdHlwZS5pbml0aWFsaXplSG9zdGVkRm9ybT1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihlKXtzd2l0Y2goZS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuX2JyYWludHJlZUhvc3RlZEZvcm0uaW5pdGlhbGl6ZSh0KV07Y2FzZSAxOnJldHVyblsyLGUuc2VudCgpXX19KSl9KSl9LHQucHJvdG90eXBlLmRlaW5pdGlhbGl6ZUhvc3RlZEZvcm09ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuX2JyYWludHJlZUhvc3RlZEZvcm0uZGVpbml0aWFsaXplKCldO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksWzJdfX0pKX0pKX0sdC5wcm90b3R5cGUudG9rZW5pemVIb3N0ZWRGb3JtPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9icmFpbnRyZWVIb3N0ZWRGb3JtLnRva2VuaXplKHQpfSx0LnByb3RvdHlwZS50b2tlbml6ZUhvc3RlZEZvcm1Gb3JTdG9yZWRDYXJkVmVyaWZpY2F0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JyYWludHJlZUhvc3RlZEZvcm0udG9rZW5pemVGb3JTdG9yZWRDYXJkVmVyaWZpY2F0aW9uKCl9LHQucHJvdG90eXBlLnZlcmlmeUNhcmRXaXRoSG9zdGVkRm9ybT1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbixyLGk7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihvKXtzd2l0Y2goby5sYWJlbCl7Y2FzZSAwOnJldHVybls0LFByb21pc2UuYWxsKFt0aGlzLl9icmFpbnRyZWVIb3N0ZWRGb3JtLnRva2VuaXplKHQpLHRoaXMuX2JyYWludHJlZVNES0NyZWF0b3IuZ2V0M0RTKCldKV07Y2FzZSAxOnJldHVybiBuPW8uc2VudCgpLHI9blswXS5ub25jZSxpPW5bMV0sWzIsdGhpcy5fcHJlc2VudDNEU0NoYWxsZW5nZShpLGUscildfX0pKX0pKX0sdC5wcm90b3R5cGUuX3ByZXNlbnQzRFNDaGFsbGVuZ2U9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXM7aWYoIXRoaXMuX3RocmVlRFNlY3VyZU9wdGlvbnMpdGhyb3cgbmV3IGJ0LmIoYnQuYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO3ZhciBpPXRoaXMuX3RocmVlRFNlY3VyZU9wdGlvbnMsbz1pLmFkZEZyYW1lLGE9aS5yZW1vdmVGcmFtZSxzPWZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikocix2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlO3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0LmNhbmNlbFZlcmlmeUNhcmQoKV07Y2FzZSAxOnJldHVybiBlPW4uc2VudCgpLGMuY2FuY2VsKG5ldyB4ZSksWzIsZV19fSkpfSkpfSxjPW5ldyBuZSh0LnZlcmlmeUNhcmQoe2FkZEZyYW1lOmZ1bmN0aW9uKHQsZSl7byh0LGUscyl9LGFtb3VudDplLG5vbmNlOm4scmVtb3ZlRnJhbWU6YSxvbkxvb2t1cENvbXBsZXRlOmZ1bmN0aW9uKHQsZSl7ZSgpfX0pKTtyZXR1cm4gYy5wcm9taXNlfSx0LnByb3RvdHlwZS5fbWFwVG9DcmVkaXRDYXJkPWZ1bmN0aW9uKHQsZSl7cmV0dXJue2RhdGE6e2NyZWRpdENhcmQ6e2NhcmRob2xkZXJOYW1lOnQuY2NOYW1lLG51bWJlcjp0LmNjTnVtYmVyLGN2djp0LmNjQ3Z2LGV4cGlyYXRpb25EYXRlOnQuY2NFeHBpcnkubW9udGgrXCIvXCIrdC5jY0V4cGlyeS55ZWFyLG9wdGlvbnM6e3ZhbGlkYXRlOiExfSxiaWxsaW5nQWRkcmVzczplJiZ7Y291bnRyeU5hbWU6ZS5jb3VudHJ5LHBvc3RhbENvZGU6ZS5wb3N0YWxDb2RlLHN0cmVldEFkZHJlc3M6ZS5hZGRyZXNzMj9lLmFkZHJlc3MxK1wiIFwiK2UuYWRkcmVzczI6ZS5hZGRyZXNzMX19fSxlbmRwb2ludDpcInBheW1lbnRfbWV0aG9kcy9jcmVkaXRfY2FyZHNcIixtZXRob2Q6XCJwb3N0XCJ9fSx0fSgpO3ZhciBBbj1uKDkxKSxFbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scixpKXt0aGlzLl9zdG9yZT10LHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvcj1lLHRoaXMuX3BheW1lbnRBY3Rpb25DcmVhdG9yPW4sdGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3I9cix0aGlzLl9icmFpbnRyZWVQYXltZW50UHJvY2Vzc29yPWl9cmV0dXJuIHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBuLHIsaSxvLGE7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihzKXtzd2l0Y2gocy5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yLmxvYWRQYXltZW50TWV0aG9kKHQubWV0aG9kSWQpKV07Y2FzZSAxOmlmKG49cy5zZW50KCksIShyPW4ucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZCh0Lm1ldGhvZElkKSl8fCFyLmNsaWVudFRva2VuKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdQYXltZW50TWV0aG9kKTtzLmxhYmVsPTI7Y2FzZSAyOnJldHVybiBzLnRyeXMucHVzaChbMiw2LCw3XSksdGhpcy5fYnJhaW50cmVlUGF5bWVudFByb2Nlc3Nvci5pbml0aWFsaXplKHIuY2xpZW50VG9rZW4sdC5icmFpbnRyZWUpLHRoaXMuX2lzSG9zdGVkUGF5bWVudEZvcm1FbmFibGVkKHQubWV0aG9kSWQsdC5nYXRld2F5SWQpJiYobnVsbD09PShlPXQuYnJhaW50cmVlKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5mb3JtKT8oaT10aGlzLFs0LHRoaXMuX2JyYWludHJlZVBheW1lbnRQcm9jZXNzb3IuaW5pdGlhbGl6ZUhvc3RlZEZvcm0odC5icmFpbnRyZWUuZm9ybSldKTpbMyw0XTtjYXNlIDM6aS5faXNIb3N0ZWRGb3JtSW5pdGlhbGl6ZWQ9cy5zZW50KCkscy5sYWJlbD00O2Nhc2UgNDpyZXR1cm4gdGhpcy5faXMzZHNFbmFibGVkPXIuY29uZmlnLmlzM2RzRW5hYmxlZCxvPXRoaXMsWzQsdGhpcy5fYnJhaW50cmVlUGF5bWVudFByb2Nlc3Nvci5nZXRTZXNzaW9uSWQoKV07Y2FzZSA1OnJldHVybiBvLl9kZXZpY2VTZXNzaW9uSWQ9cy5zZW50KCksWzMsN107Y2FzZSA2OnJldHVybiBhPXMuc2VudCgpLHRoaXMuX2hhbmRsZUVycm9yKGEpLFszLDddO2Nhc2UgNzpyZXR1cm5bMix0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpXX19KSl9KSl9LHQucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG4scixpLG8sYSxzLGMsdSxwLGgsbCxtLGY7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihfKXtzd2l0Y2goXy5sYWJlbCl7Y2FzZSAwOmlmKG49dC5wYXltZW50LHI9T2JqZWN0KGQuX19yZXN0KSh0LFtcInBheW1lbnRcIl0pLCFuKXRocm93IG5ldyBVZShbXCJwYXltZW50XCJdKTtyZXR1cm5bNCx0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3Iuc3VibWl0T3JkZXIocixlKSldO2Nhc2UgMTppZihpPV8uc2VudCgpLG89aS5iaWxsaW5nQWRkcmVzcy5nZXRCaWxsaW5nQWRkcmVzc09yVGhyb3csYT1pLm9yZGVyLmdldE9yZGVyT3JUaHJvdywhKDAsaS5wYXltZW50LmlzUGF5bWVudERhdGFSZXF1aXJlZCkoci51c2VTdG9yZUNyZWRpdCkpcmV0dXJuWzIsaV07Xy5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gXy50cnlzLnB1c2goWzIsNywsOF0pLGM9KHM9dGhpcy5fc3RvcmUpLmRpc3BhdGNoLHA9KHU9dGhpcy5fcGF5bWVudEFjdGlvbkNyZWF0b3IpLnN1Ym1pdFBheW1lbnQsaD1bT2JqZWN0KGQuX19hc3NpZ24pKHt9LG4pXSxsPXt9LHRoaXMuX2lzSG9zdGVkRm9ybUluaXRpYWxpemVkP1s0LHRoaXMuX3ByZXBhcmVIb3N0ZWRQYXltZW50RGF0YShuLG8oKSxhKCkub3JkZXJBbW91bnQpXTpbMyw0XTtjYXNlIDM6cmV0dXJuIG09Xy5zZW50KCksWzMsNl07Y2FzZSA0OnJldHVybls0LHRoaXMuX3ByZXBhcmVQYXltZW50RGF0YShuLG8oKSxhKCkub3JkZXJBbW91bnQpXTtjYXNlIDU6bT1fLnNlbnQoKSxfLmxhYmVsPTY7Y2FzZSA2OnJldHVyblsyLGMuYXBwbHkocyxbcC5hcHBseSh1LFtkLl9fYXNzaWduLmFwcGx5KHZvaWQgMCxoLmNvbmNhdChbKGwucGF5bWVudERhdGE9bSxsKV0pKV0pXSldO2Nhc2UgNzpyZXR1cm4gZj1fLnNlbnQoKSx0aGlzLl9oYW5kbGVFcnJvcihmKSxbMyw4XTtjYXNlIDg6cmV0dXJuWzJdfX0pKX0pKX0sdC5wcm90b3R5cGUuZmluYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEp0KX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5faXNIb3N0ZWRGb3JtSW5pdGlhbGl6ZWQ9ITEsWzQsUHJvbWlzZS5hbGwoW3RoaXMuX2JyYWludHJlZVBheW1lbnRQcm9jZXNzb3IuZGVpbml0aWFsaXplKCksdGhpcy5fYnJhaW50cmVlUGF5bWVudFByb2Nlc3Nvci5kZWluaXRpYWxpemVIb3N0ZWRGb3JtKCldKV07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSxbMix0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpXX19KSl9KSl9LHQucHJvdG90eXBlLl9oYW5kbGVFcnJvcj1mdW5jdGlvbih0KXtpZihcIkJyYWludHJlZUVycm9yXCI9PT10Lm5hbWUpdGhyb3cgbmV3IEFuLmEodC5tZXNzYWdlKTt0aHJvdyB0fSx0LnByb3RvdHlwZS5fcHJlcGFyZVBheW1lbnREYXRhPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHIsaSxvLGEscyxjLHU7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihwKXtzd2l0Y2gocC5sYWJlbCl7Y2FzZSAwOnJldHVybiByPXtkZXZpY2VTZXNzaW9uSWQ6dGhpcy5fZGV2aWNlU2Vzc2lvbklkfSx0aGlzLl9pc1N1Ym1pdHRpbmdXaXRoU3RvcmVkQ2FyZCh0KXx8dGhpcy5faXNTdG9yaW5nTmV3Q2FyZCh0KT9bMixPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LHIpLHQucGF5bWVudERhdGEpXTp0aGlzLl9zaG91bGRQZXJmb3JtM0RTVmVyaWZpY2F0aW9uKHQpPyhpPVtPYmplY3QoZC5fX2Fzc2lnbikoe30scildLG89dGhpcy5fbWFwVG9Ob25jZUluc3RydW1lbnQsYT1bT2JqZWN0KGQuX19hc3NpZ24pKHt9LHQucGF5bWVudERhdGEpXSxbNCx0aGlzLl9icmFpbnRyZWVQYXltZW50UHJvY2Vzc29yLnZlcmlmeUNhcmQodCxlLG4pXSk6WzMsMl07Y2FzZSAxOnJldHVyblsyLGQuX19hc3NpZ24uYXBwbHkodm9pZCAwLGkuY29uY2F0KFtvLmFwcGx5KHRoaXMsW2QuX19hc3NpZ24uYXBwbHkodm9pZCAwLGEuY29uY2F0KFtwLnNlbnQoKV0pKV0pXSkpXTtjYXNlIDI6cmV0dXJuIHM9W09iamVjdChkLl9fYXNzaWduKSh7fSxyKV0sYz10aGlzLl9tYXBUb05vbmNlSW5zdHJ1bWVudCx1PVtPYmplY3QoZC5fX2Fzc2lnbikoe30sdC5wYXltZW50RGF0YSldLFs0LHRoaXMuX2JyYWludHJlZVBheW1lbnRQcm9jZXNzb3IudG9rZW5pemVDYXJkKHQsZSldO2Nhc2UgMzpyZXR1cm5bMixkLl9fYXNzaWduLmFwcGx5KHZvaWQgMCxzLmNvbmNhdChbYy5hcHBseSh0aGlzLFtkLl9fYXNzaWduLmFwcGx5KHZvaWQgMCx1LmNvbmNhdChbcC5zZW50KCldKSldKV0pKV19fSkpfSkpfSx0LnByb3RvdHlwZS5fcHJlcGFyZUhvc3RlZFBheW1lbnREYXRhPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHIsaSxvLGEscyxjLHUscCxoLGw7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihtKXtzd2l0Y2gobS5sYWJlbCl7Y2FzZSAwOnJldHVybiByPXtkZXZpY2VTZXNzaW9uSWQ6dGhpcy5fZGV2aWNlU2Vzc2lvbklkfSx0aGlzLl9zaG91bGRQZXJmb3JtM0RTVmVyaWZpY2F0aW9uKHQpPyhpPVtPYmplY3QoZC5fX2Fzc2lnbikoe30scildLG89dGhpcy5fbWFwVG9Ob25jZUluc3RydW1lbnQsYT1bT2JqZWN0KGQuX19hc3NpZ24pKHt9LHQucGF5bWVudERhdGEpXSxbNCx0aGlzLl9icmFpbnRyZWVQYXltZW50UHJvY2Vzc29yLnZlcmlmeUNhcmRXaXRoSG9zdGVkRm9ybShlLG4pXSk6WzMsMl07Y2FzZSAxOnJldHVyblsyLGQuX19hc3NpZ24uYXBwbHkodm9pZCAwLGkuY29uY2F0KFtvLmFwcGx5KHRoaXMsW2QuX19hc3NpZ24uYXBwbHkodm9pZCAwLGEuY29uY2F0KFttLnNlbnQoKV0pKV0pXSkpXTtjYXNlIDI6cmV0dXJuIHRoaXMuX2lzU3VibWl0dGluZ1dpdGhTdG9yZWRDYXJkKHQpPyhzPVtPYmplY3QoZC5fX2Fzc2lnbikoe30scildLGM9dGhpcy5fbWFwVG9WYXVsdGVkSW5zdHJ1bWVudFdpdGhOb25jZVZlcmlmaWNhdGlvbix1PVtPYmplY3QoZC5fX2Fzc2lnbikoe30sdC5wYXltZW50RGF0YSldLFs0LHRoaXMuX2JyYWludHJlZVBheW1lbnRQcm9jZXNzb3IudG9rZW5pemVIb3N0ZWRGb3JtRm9yU3RvcmVkQ2FyZFZlcmlmaWNhdGlvbigpXSk6WzMsNF07Y2FzZSAzOnJldHVyblsyLGQuX19hc3NpZ24uYXBwbHkodm9pZCAwLHMuY29uY2F0KFtjLmFwcGx5KHRoaXMsW2QuX19hc3NpZ24uYXBwbHkodm9pZCAwLHUuY29uY2F0KFttLnNlbnQoKV0pKV0pXSkpXTtjYXNlIDQ6cmV0dXJuIHA9W09iamVjdChkLl9fYXNzaWduKSh7fSxyKV0saD10aGlzLl9tYXBUb05vbmNlSW5zdHJ1bWVudCxsPVtPYmplY3QoZC5fX2Fzc2lnbikoe30sdC5wYXltZW50RGF0YSldLFs0LHRoaXMuX2JyYWludHJlZVBheW1lbnRQcm9jZXNzb3IudG9rZW5pemVIb3N0ZWRGb3JtKGUpXTtjYXNlIDU6cmV0dXJuWzIsZC5fX2Fzc2lnbi5hcHBseSh2b2lkIDAscC5jb25jYXQoW2guYXBwbHkodGhpcyxbZC5fX2Fzc2lnbi5hcHBseSh2b2lkIDAsbC5jb25jYXQoW20uc2VudCgpXSkpXSldKSldfX0pKX0pKX0sdC5wcm90b3R5cGUuX21hcFRvTm9uY2VJbnN0cnVtZW50PWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoQnQucGljaykodCxcIm5vbmNlXCIsXCJzaG91bGRTYXZlSW5zdHJ1bWVudFwiLFwic2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudFwiKX0sdC5wcm90b3R5cGUuX21hcFRvVmF1bHRlZEluc3RydW1lbnRXaXRoTm9uY2VWZXJpZmljYXRpb249ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChCdC5waWNrKSh0LFwibm9uY2VcIixcImluc3RydW1lbnRJZFwiKX0sdC5wcm90b3R5cGUuX2lzSG9zdGVkUGF5bWVudEZvcm1FbmFibGVkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuISF0JiYhMD09PSgwLHRoaXMuX3N0b3JlLmdldFN0YXRlKCkucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cpKHQsZSkuY29uZmlnLmlzSG9zdGVkRm9ybUVuYWJsZWR9LHQucHJvdG90eXBlLl9pc1N1Ym1pdHRpbmdXaXRoU3RvcmVkQ2FyZD1mdW5jdGlvbih0KXtyZXR1cm4hKCF0LnBheW1lbnREYXRhfHwhT2JqZWN0KGJlLmEpKHQucGF5bWVudERhdGEpKX0sdC5wcm90b3R5cGUuX2lzU3RvcmluZ05ld0NhcmQ9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuISEodC5wYXltZW50RGF0YSYmKG51bGw9PT0oZT10LnBheW1lbnREYXRhKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5zaG91bGRTYXZlSW5zdHJ1bWVudCkpfSx0LnByb3RvdHlwZS5fc2hvdWxkUGVyZm9ybTNEU1ZlcmlmaWNhdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4hKCF0aGlzLl9pczNkc0VuYWJsZWR8fHRoaXMuX2lzU3VibWl0dGluZ1dpdGhTdG9yZWRDYXJkKHQpKX0sdH0oKTt2YXIgUG49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIsaSxvKXt2b2lkIDA9PT1vJiYobz0hMSksdGhpcy5fc3RvcmU9dCx0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3I9ZSx0aGlzLl9wYXltZW50QWN0aW9uQ3JlYXRvcj1uLHRoaXMuX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yPXIsdGhpcy5fYnJhaW50cmVlUGF5bWVudFByb2Nlc3Nvcj1pLHRoaXMuX2NyZWRpdD1vfXJldHVybiB0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10LmJyYWludHJlZSxyPXQubWV0aG9kSWQ7cmV0dXJuIHRoaXMuX3BheW1lbnRNZXRob2Q9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKS5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kKHIpLHRoaXMuX3BheW1lbnRNZXRob2QmJnRoaXMuX3BheW1lbnRNZXRob2Qubm9uY2U/UHJvbWlzZS5yZXNvbHZlKHRoaXMuX3N0b3JlLmdldFN0YXRlKCkpOnRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yLmxvYWRQYXltZW50TWV0aG9kKHIpKS50aGVuKChmdW5jdGlvbih0KXtpZihlLl9wYXltZW50TWV0aG9kPXQucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZChyKSwhZS5fcGF5bWVudE1ldGhvZHx8IWUuX3BheW1lbnRNZXRob2QuY2xpZW50VG9rZW4pdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ1BheW1lbnRNZXRob2QpO3JldHVybiBlLl9icmFpbnRyZWVQYXltZW50UHJvY2Vzc29yLmluaXRpYWxpemUoZS5fcGF5bWVudE1ldGhvZC5jbGllbnRUb2tlbixuKSxlLl9icmFpbnRyZWVQYXltZW50UHJvY2Vzc29yLnByZWxvYWRQYXlwYWwoKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBlLl9zdG9yZS5nZXRTdGF0ZSgpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtyZXR1cm4gZS5faGFuZGxlRXJyb3IodCl9KSl9LHQucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9dC5wYXltZW50LGk9T2JqZWN0KGQuX19yZXN0KSh0LFtcInBheW1lbnRcIl0pO2lmKCFyKXRocm93IG5ldyBVZShbXCJwYXltZW50XCJdKTtyZXR1cm4ocj90aGlzLl9wcmVwYXJlUGF5bWVudERhdGEocixpLnVzZVN0b3JlQ3JlZGl0KTpQcm9taXNlLnJlc29sdmUocikpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBQcm9taXNlLmFsbChbdCxuLl9zdG9yZS5kaXNwYXRjaChuLl9vcmRlckFjdGlvbkNyZWF0b3Iuc3VibWl0T3JkZXIoaSxlKSldKX0pKS50aGVuKChmdW5jdGlvbih0KXt2YXIgZT10WzBdO3JldHVybiBuLl9zdG9yZS5kaXNwYXRjaChuLl9wYXltZW50QWN0aW9uQ3JlYXRvci5zdWJtaXRQYXltZW50KGUpKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7cmV0dXJuIG4uX2hhbmRsZUVycm9yKHQpfSkpfSx0LnByb3RvdHlwZS5maW5hbGl6ZT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlamVjdChuZXcgSnQpfSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLl9icmFpbnRyZWVQYXltZW50UHJvY2Vzc29yLmRlaW5pdGlhbGl6ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3N0b3JlLmdldFN0YXRlKCl9KSl9LHQucHJvdG90eXBlLl9oYW5kbGVFcnJvcj1mdW5jdGlvbih0KXtpZighZnVuY3Rpb24odCl7cmV0dXJuXCJCcmFpbnRyZWVFcnJvclwiPT09dC5uYW1lfSh0KSl0aHJvdyB0O2lmKFwiUEFZUEFMX1BPUFVQX0NMT1NFRFwiPT09dC5jb2RlKXRocm93IG5ldyB4ZSh0Lm1lc3NhZ2UpO3Rocm93IG5ldyBBbi5hKHQubWVzc2FnZSl9LHQucHJvdG90eXBlLl9wcmVwYXJlUGF5bWVudERhdGE9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSxpPXIuY2hlY2tvdXQuZ2V0T3V0c3RhbmRpbmdCYWxhbmNlKGUpLG89ci5jb25maWcuZ2V0U3RvcmVDb25maWcoKTtpZighaSl0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nQ2hlY2tvdXQpO2lmKCFvKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdDaGVja291dENvbmZpZyk7aWYoIXRoaXMuX3BheW1lbnRNZXRob2QpdGhyb3cgbmV3IGJ0LmIoYnQuYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO3ZhciBhPW8uY3VycmVuY3kscz1vLnN0b3JlUHJvZmlsZS5zdG9yZUxhbmd1YWdlLGM9dGhpcy5fcGF5bWVudE1ldGhvZCx1PWMubm9uY2UscD1jLmNvbmZpZy5pc1ZhdWx0aW5nRW5hYmxlZCxoPXQucGF5bWVudERhdGEsbD12b2lkIDA9PT1oP3t9Omg7aWYodSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30sdCkse3BheW1lbnREYXRhOnRoaXMuX2Zvcm1hdHRlZFBheWxvYWQodSl9KSk7aWYoT2JqZWN0KGJlLmEpKGwpfHxPYmplY3QoYmUuYykobCkpe2lmKCFwKXRocm93IG5ldyBJdC5hKFwiVmF1bHRpbmcgaXMgZGlzYWJsZWQgYnV0IGEgdmF1bHRlZCBpbnN0cnVtZW50IHdhcyBiZWluZyB1c2VkIGZvciB0aGlzIHRyYW5zYWN0aW9uXCIpO3JldHVybiBQcm9taXNlLnJlc29sdmUodCl9aWYobC5zaG91bGRTYXZlSW5zdHJ1bWVudCYmIXApdGhyb3cgbmV3IEl0LmEoXCJWYXVsdGluZyBpcyBkaXNhYmxlZCBidXQgc2hvdWxkU2F2ZUluc3RydW1lbnQgaXMgc2V0IHRvIHRydWVcIik7dmFyIG0sZj1yLnNoaXBwaW5nQWRkcmVzcy5nZXRTaGlwcGluZ0FkZHJlc3MoKSxfPWY/e3JlY2lwaWVudE5hbWU6KG09ZikuZmlyc3ROYW1lK1wiIFwiK20ubGFzdE5hbWUsbGluZTE6bS5hZGRyZXNzMSxsaW5lMjptLmFkZHJlc3MyLGNpdHk6bS5jaXR5LHN0YXRlOm0uc3RhdGVPclByb3ZpbmNlQ29kZSxwb3N0YWxDb2RlOm0ucG9zdGFsQ29kZSxjb3VudHJ5Q29kZTptLmNvdW50cnlDb2RlLHBob25lOm0ucGhvbmV9OnZvaWQgMDtyZXR1cm4gUHJvbWlzZS5hbGwoW3RoaXMuX2JyYWludHJlZVBheW1lbnRQcm9jZXNzb3IucGF5cGFsKHthbW91bnQ6aSxsb2NhbGU6cyxjdXJyZW5jeTphLmNvZGUsb2ZmZXJDcmVkaXQ6dGhpcy5fY3JlZGl0LHNoaXBwaW5nQWRkcmVzc092ZXJyaWRlOl8sc2hvdWxkU2F2ZUluc3RydW1lbnQ6bC5zaG91bGRTYXZlSW5zdHJ1bWVudHx8ITF9KSx0aGlzLl9icmFpbnRyZWVQYXltZW50UHJvY2Vzc29yLmdldFNlc3Npb25JZCgpXSkudGhlbigoZnVuY3Rpb24oZSl7dmFyIHI9ZVswXSxpPXZvaWQgMD09PXI/e306cixvPWkubm9uY2UsYT1pLmRldGFpbHMscz1lWzFdO3JldHVybiBPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LHQpLHtwYXltZW50RGF0YTpuLl9mb3JtYXR0ZWRQYXlsb2FkKG8sYSYmYS5lbWFpbCxzLGwuc2hvdWxkU2F2ZUluc3RydW1lbnQsbC5zaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50KX0pfSkpfSx0LnByb3RvdHlwZS5fZm9ybWF0dGVkUGF5bG9hZD1mdW5jdGlvbih0LGUsbixyLGkpe3JldHVybntmb3JtYXR0ZWRQYXlsb2FkOnt2YXVsdF9wYXltZW50X2luc3RydW1lbnQ6cnx8bnVsbCxzZXRfYXNfZGVmYXVsdF9zdG9yZWRfaW5zdHJ1bWVudDppfHxudWxsLGRldmljZV9pbmZvOm58fG51bGwscGF5cGFsX2FjY291bnQ6e3Rva2VuOnQsZW1haWw6ZXx8bnVsbH19fX0sdH0oKSxqbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scixpLG8sYSxzKXt0aGlzLl9zdG9yZT10LHRoaXMuX2NoZWNrb3V0QWN0aW9uQ3JlYXRvcj1lLHRoaXMuX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yPW4sdGhpcy5fcGF5bWVudFN0cmF0ZWd5QWN0aW9uQ3JlYXRvcj1yLHRoaXMuX3BheW1lbnRBY3Rpb25DcmVhdG9yPWksdGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yPW8sdGhpcy5fYnJhaW50cmVlVmlzYUNoZWNrb3V0UGF5bWVudFByb2Nlc3Nvcj1hLHRoaXMuX3Zpc2FDaGVja291dFNjcmlwdExvYWRlcj1zfXJldHVybiB0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10LmJyYWludHJlZXZpc2FjaGVja291dCxyPXQubWV0aG9kSWQ7aWYoIW4pdGhyb3cgbmV3IEl0LmEoJ1VuYWJsZSB0byBpbml0aWFsaXplIHBheW1lbnQgYmVjYXVzZSBcIm9wdGlvbnMuYnJhaW50cmVldmlzYWNoZWNrb3V0XCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicpO3JldHVybiB0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9wYXltZW50TWV0aG9kQWN0aW9uQ3JlYXRvci5sb2FkUGF5bWVudE1ldGhvZChyKSkudGhlbigoZnVuY3Rpb24odCl7ZS5fcGF5bWVudE1ldGhvZD10LnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2Qocik7dmFyIGk9dC5jaGVja291dC5nZXRDaGVja291dCgpLG89dC5jb25maWcuZ2V0U3RvcmVDb25maWcoKTtpZighaSl0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nQ2hlY2tvdXQpO2lmKCFvKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdDaGVja291dENvbmZpZyk7aWYoIWUuX3BheW1lbnRNZXRob2R8fCFlLl9wYXltZW50TWV0aG9kLmNsaWVudFRva2VuKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdQYXltZW50TWV0aG9kKTt2YXIgYT1uLm9uRXJyb3Iscz12b2lkIDA9PT1hP2Z1bmN0aW9uKCl7fTphLGM9bi5vblBheW1lbnRTZWxlY3QsdT12b2lkIDA9PT1jP2Z1bmN0aW9uKCl7fTpjLGQ9e2xvY2FsZTpvLnN0b3JlUHJvZmlsZS5zdG9yZUxhbmd1YWdlLGNvbGxlY3RTaGlwcGluZzohMSxzdWJ0b3RhbDppLnN1YnRvdGFsLGN1cnJlbmN5Q29kZTpvLmN1cnJlbmN5LmNvZGV9O3JldHVybiBQcm9taXNlLmFsbChbZS5fdmlzYUNoZWNrb3V0U2NyaXB0TG9hZGVyLmxvYWQoZS5fcGF5bWVudE1ldGhvZC5jb25maWcudGVzdE1vZGUpLGUuX2JyYWludHJlZVZpc2FDaGVja291dFBheW1lbnRQcm9jZXNzb3IuaW5pdGlhbGl6ZShlLl9wYXltZW50TWV0aG9kLmNsaWVudFRva2VuLGQpXSkudGhlbigoZnVuY3Rpb24odCl7dmFyIG49dFswXSxyPXRbMV07bi5pbml0KHIpLG4ub24oXCJwYXltZW50LnN1Y2Nlc3NcIiwoZnVuY3Rpb24odCl7cmV0dXJuIGUuX3BheW1lbnRJbnN0cnVtZW50U2VsZWN0ZWQodCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdSgpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtyZXR1cm4gcyh0KX0pKX0pKSxuLm9uKFwicGF5bWVudC5lcnJvclwiLChmdW5jdGlvbih0LGUpe3JldHVybiBzKGUpfSkpfSkpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGUuX3N0b3JlLmdldFN0YXRlKCl9KSl9LHQucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9dC5wYXltZW50LGk9T2JqZWN0KGQuX19yZXN0KSh0LFtcInBheW1lbnRcIl0pO2lmKCFyKXRocm93IG5ldyBJdC5hKCdVbmFibGUgdG8gc3VibWl0IHBheW1lbnQgYmVjYXVzZSBcInBheWxvYWQucGF5bWVudFwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nKTtpZighdGhpcy5fcGF5bWVudE1ldGhvZHx8IXRoaXMuX3BheW1lbnRNZXRob2QuaW5pdGlhbGl6YXRpb25EYXRhfHwhdGhpcy5fcGF5bWVudE1ldGhvZC5pbml0aWFsaXphdGlvbkRhdGEubm9uY2UpdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ1BheW1lbnRNZXRob2QpO3ZhciBvPXRoaXMuX3BheW1lbnRNZXRob2QuaW5pdGlhbGl6YXRpb25EYXRhLm5vbmNlO3JldHVybiB0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3Iuc3VibWl0T3JkZXIoaSxlKSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gbi5fc3RvcmUuZGlzcGF0Y2gobi5fcGF5bWVudEFjdGlvbkNyZWF0b3Iuc3VibWl0UGF5bWVudChPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LHIpLHtwYXltZW50RGF0YTp7bm9uY2U6b319KSkpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtyZXR1cm4gbi5faGFuZGxlRXJyb3IodCl9KSl9LHQucHJvdG90eXBlLmZpbmFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBKdCl9LHQucHJvdG90eXBlLmRlaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuX2JyYWludHJlZVZpc2FDaGVja291dFBheW1lbnRQcm9jZXNzb3IuZGVpbml0aWFsaXplKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdC5fc3RvcmUuZ2V0U3RhdGUoKX0pKX0sdC5wcm90b3R5cGUuX3BheW1lbnRJbnN0cnVtZW50U2VsZWN0ZWQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRoaXMuX3N0b3JlLmdldFN0YXRlKCk7aWYoIXRoaXMuX3BheW1lbnRNZXRob2QpdGhyb3cgbmV3IEVycm9yKFwiUGF5bWVudCBtZXRob2Qgbm90IGluaXRpYWxpemVkXCIpO3ZhciByPXRoaXMuX3BheW1lbnRNZXRob2QuaWQ7cmV0dXJuIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3BheW1lbnRTdHJhdGVneUFjdGlvbkNyZWF0b3Iud2lkZ2V0SW50ZXJhY3Rpb24oKGZ1bmN0aW9uKCl7cmV0dXJuIGUuX2JyYWludHJlZVZpc2FDaGVja291dFBheW1lbnRQcm9jZXNzb3IuaGFuZGxlU3VjY2Vzcyh0LG4uc2hpcHBpbmdBZGRyZXNzLmdldFNoaXBwaW5nQWRkcmVzcygpLG4uYmlsbGluZ0FkZHJlc3MuZ2V0QmlsbGluZ0FkZHJlc3MoKSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5hbGwoW2UuX3N0b3JlLmRpc3BhdGNoKGUuX2NoZWNrb3V0QWN0aW9uQ3JlYXRvci5sb2FkQ3VycmVudENoZWNrb3V0KCkpLGUuX3N0b3JlLmRpc3BhdGNoKGUuX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yLmxvYWRQYXltZW50TWV0aG9kKHIpKV0pfSkpfSkse21ldGhvZElkOnJ9KSx7cXVldWVJZDpcIndpZGdldEludGVyYWN0aW9uXCJ9KX0sdC5wcm90b3R5cGUuX2hhbmRsZUVycm9yPWZ1bmN0aW9uKHQpe2lmKFwiQnJhaW50cmVlRXJyb3JcIj09PXQubmFtZSl0aHJvdyBuZXcgQW4uYSh0Lm1lc3NhZ2UpO3Rocm93IHR9LHR9KCk7dmFyIGtuLE1uLFRuLFJuLERuLHpuLExuLE5uPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dGhpcy5fc3RvcmU9dCx0aGlzLl9wYXltZW50QWN0aW9uQ3JlYXRvcj1lLHRoaXMuX2NhcmRpbmFsQ2xpZW50PW59cmV0dXJuIHQucHJvdG90eXBlLnByZXBhcmU9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24oZSl7c3dpdGNoKGUubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLl9jYXJkaW5hbENsaWVudC5sb2FkKHQuaWQsdC5jb25maWcudGVzdE1vZGUpXTtjYXNlIDE6cmV0dXJuIGUuc2VudCgpLFsyXX19KSl9KSl9LHQucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpLG8sYTtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHMsYyx1LHAsaCxsLG0sZixfLHksZyxiO3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24oZCl7c3dpdGNoKGQubGFiZWwpe2Nhc2UgMDpzPXRoaXMuX3N0b3JlLmdldFN0YXRlKCkuaW5zdHJ1bWVudHMuZ2V0Q2FyZEluc3RydW1lbnQsYz1lLnBheW1lbnQscD0odT12b2lkIDA9PT1jP3ttZXRob2RJZDpcIlwifTpjKS5wYXltZW50RGF0YSxoPXZvaWQgMD09PXA/e306cCxkLmxhYmVsPTE7Y2FzZSAxOnJldHVybiBkLnRyeXMucHVzaChbMSwzLCwxM10pLFs0LHQoZSxuKV07Y2FzZSAyOnJldHVyblsyLGQuc2VudCgpXTtjYXNlIDM6cmV0dXJuKGw9ZC5zZW50KCkpaW5zdGFuY2VvZiBxZS5hJiZcImFkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkXCI9PT1sLmJvZHkuc3RhdHVzPyhtPW51bGw9PT0obz1udWxsPT09KGk9bC5ib2R5LmFkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkKXx8dm9pZCAwPT09aT92b2lkIDA6aS5kYXRhKXx8dm9pZCAwPT09bz92b2lkIDA6by50b2tlbixmPW51bGw9PT0oYT1sLmJvZHkudGhyZWVfZHNfcmVzdWx0KXx8dm9pZCAwPT09YT92b2lkIDA6YS5wYXllcl9hdXRoX3JlcXVlc3QsWzQsdGhpcy5fY2FyZGluYWxDbGllbnQuY29uZmlndXJlKG0pXSk6WzMsMTJdO2Nhc2UgNDpyZXR1cm4gZC5zZW50KCksKF89dGhpcy5fZ2V0QmluKGgscyxyKSk/WzQsdGhpcy5fY2FyZGluYWxDbGllbnQucnVuQmluUHJvY2VzcyhfKV06WzMsNl07Y2FzZSA1OmQuc2VudCgpLGQubGFiZWw9NjtjYXNlIDY6cmV0dXJuIGQudHJ5cy5wdXNoKFs2LDgsLDEyXSksWzQsdGhpcy5fc3VibWl0UGF5bWVudCh1LHt4aWQ6Zn0scildO2Nhc2UgNzpyZXR1cm5bMixkLnNlbnQoKV07Y2FzZSA4OnJldHVybih5PWQuc2VudCgpKWluc3RhbmNlb2YgcWUuYSYmT2JqZWN0KEJ0LnNvbWUpKHkuYm9keS5lcnJvcnMse2NvZGU6XCJ0aHJlZV9kX3NlY3VyZV9yZXF1aXJlZFwifSk/KGc9eS5ib2R5LnRocmVlX2RzX3Jlc3VsdCxiPW51bGw9PWc/dm9pZCAwOmcucGF5ZXJfYXV0aF9yZXF1ZXN0LFs0LHRoaXMuX2NhcmRpbmFsQ2xpZW50LmdldFRocmVlRFNlY3VyZURhdGEoZyx0aGlzLl9nZXRPcmRlckRhdGEoKSldKTpbMywxMV07Y2FzZSA5OnJldHVybiBkLnNlbnQoKSxbNCx0aGlzLl9zdWJtaXRQYXltZW50KHUse3Rva2VuOmJ9LHIpXTtjYXNlIDEwOnJldHVyblsyLGQuc2VudCgpXTtjYXNlIDExOnRocm93IHk7Y2FzZSAxMjp0aHJvdyBsO2Nhc2UgMTM6cmV0dXJuWzJdfX0pKX0pKX0sdC5wcm90b3R5cGUuX2dldE9yZGVyRGF0YT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3N0b3JlLmdldFN0YXRlKCksZT10LmJpbGxpbmdBZGRyZXNzLmdldEJpbGxpbmdBZGRyZXNzT3JUaHJvdygpLG49dC5zaGlwcGluZ0FkZHJlc3MuZ2V0U2hpcHBpbmdBZGRyZXNzKCkscj10LmNoZWNrb3V0LmdldENoZWNrb3V0T3JUaHJvdygpLmNhcnQsaT1yLmN1cnJlbmN5LmNvZGUsbz1yLmNhcnRBbW91bnQ7cmV0dXJue2JpbGxpbmdBZGRyZXNzOmUsc2hpcHBpbmdBZGRyZXNzOm4sY3VycmVuY3lDb2RlOmksaWQ6dC5vcmRlci5nZXRPcmRlck9yVGhyb3coKS5vcmRlcklkLnRvU3RyaW5nKCksYW1vdW50Om99fSx0LnByb3RvdHlwZS5fc3VibWl0UGF5bWVudD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciByO3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24oaSl7c3dpdGNoKGkubGFiZWwpe2Nhc2UgMDpyZXR1cm4gcj1PYmplY3QoQnQubWVyZ2UpKHt9LHQse3BheW1lbnREYXRhOnt0aHJlZURTZWN1cmU6ZX19KSxuP1szLDJdOls0LHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3BheW1lbnRBY3Rpb25DcmVhdG9yLnN1Ym1pdFBheW1lbnQocikpXTtjYXNlIDE6cmV0dXJuWzIsaS5zZW50KCldO2Nhc2UgMjpyZXR1cm5bNCxuLnN1Ym1pdChyKV07Y2FzZSAzOnJldHVybiBpLnNlbnQoKSxbMix0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpXX19KSl9KSl9LHQucHJvdG90eXBlLl9nZXRCaW49ZnVuY3Rpb24odCxlLG4pe3ZhciByPU9iamVjdChiZS5hKSh0KSYmZSh0Lmluc3RydW1lbnRJZCksaT1mdW5jdGlvbih0KXt2YXIgZT10O3JldHVybiFPYmplY3QoYmUuYSkoZSkmJlwic3RyaW5nXCI9PXR5cGVvZiBlLmNjTmFtZSYmXCJzdHJpbmdcIj09dHlwZW9mIGUuY2NOdW1iZXImJlwib2JqZWN0XCI9PXR5cGVvZiBlLmNjRXhwaXJ5JiZcInN0cmluZ1wiPT10eXBlb2YgZS5jY0V4cGlyeS5tb250aCYmXCJzdHJpbmdcIj09dHlwZW9mIGUuY2NFeHBpcnkueWVhcn0odCkmJnQuY2NOdW1iZXI7cmV0dXJuKHI/ci5paW46bj9udWxsPT1uP3ZvaWQgMDpuLmdldEJpbigpOmkpfHxcIlwifSx0fSgpLEZuPVsxMDAwMDQsMTAxMCwxMDExLDEwMjBdOyFmdW5jdGlvbih0KXt0LkluaXQ9XCJpbml0XCIsdC5Db21wbGV0ZT1cImNvbXBsZXRlXCIsdC5Db25maXJtPVwiY29uZmlybVwifShrbnx8KGtuPXt9KSksZnVuY3Rpb24odCl7dC5TZXR1cENvbXBsZXRlZD1cInBheW1lbnRzLnNldHVwQ29tcGxldGVcIix0LlZhbGlkYXRlZD1cInBheW1lbnRzLnZhbGlkYXRlZFwifShNbnx8KE1uPXt9KSksZnVuY3Rpb24odCl7dC5TdWNjZXNzPVwiU1VDQ0VTU1wiLHQuTm9BY3Rpb249XCJOT0FDVElPTlwiLHQuRmFpbHVyZT1cIkZBSUxVUkVcIix0LkVycm9yPVwiRVJST1JcIn0oVG58fChUbj17fSkpLGZ1bmN0aW9uKHQpe3QuQ0NBPVwiQ0NBXCIsdC5QYXlwYWw9XCJQYXlwYWxcIix0LldhbGxldD1cIldhbGxldFwiLHQuVmlzYUNoZWNrb3V0PVwiVmlzYUNoZWNrb3V0XCIsdC5BcHBsZVBheT1cIkFwcGxlUGF5XCIsdC5EaXNjb3ZlcldhbGxldD1cIkRpc2NvdmVyV2FsbGV0XCJ9KFJufHwoUm49e30pKSxmdW5jdGlvbih0KXt0LkJpblByb2Nlc3M9XCJiaW4ucHJvY2Vzc1wifShEbnx8KERuPXt9KSksZnVuY3Rpb24odCl7dC5DQ0E9XCJjY2FcIn0oem58fCh6bj17fSkpLGZ1bmN0aW9uKHQpe3QuWWVzPVwiWVwiLHQuTm89XCJOXCJ9KExufHwoTG49e30pKTt2YXIgcW4sVW49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3NjcmlwdExvYWRlcj10LHRoaXMuX3Byb3ZpZGVyPVwiXCIsdGhpcy5fdGVzdE1vZGU9ITEsdGhpcy5fY29uZmlndXJhdGlvblRva2VuPVwiXCJ9cmV0dXJuIHQucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9ITEpLHRoaXMuX3Byb3ZpZGVyPXQsdGhpcy5fdGVzdE1vZGU9ZSx0aGlzLl9zZGt8fCh0aGlzLl9zZGs9dGhpcy5fc2NyaXB0TG9hZGVyLmxvYWQodCxlKSksdGhpcy5fc2RrLnRoZW4oKGZ1bmN0aW9uKCl7fSkpfSx0LnByb3RvdHlwZS5jb25maWd1cmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZih0aGlzLl9jb25maWd1cmF0aW9uVG9rZW4pe2lmKHRoaXMuX2NvbmZpZ3VyYXRpb25Ub2tlbj09PXQpcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO3RoaXMuX3Nkaz10aGlzLl9zY3JpcHRMb2FkZXIubG9hZCh0aGlzLl9wcm92aWRlcitcIi5cIitEYXRlLm5vdygpLHRoaXMuX3Rlc3RNb2RlKX1yZXR1cm4gdGhpcy5fZ2V0Q2xpZW50U0RLKCkudGhlbigoZnVuY3Rpb24obil7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyLGkpe24ub24oTW4uU2V0dXBDb21wbGV0ZWQsKGZ1bmN0aW9uKCl7bi5vZmYoTW4uU2V0dXBDb21wbGV0ZWQpLG4ub2ZmKE1uLlZhbGlkYXRlZCksZS5fY29uZmlndXJhdGlvblRva2VuPXQscigpfSkpLG4ub24oTW4uVmFsaWRhdGVkLChmdW5jdGlvbih0KXtzd2l0Y2gobi5vZmYoTW4uU2V0dXBDb21wbGV0ZWQpLG4ub2ZmKE1uLlZhbGlkYXRlZCksdC5BY3Rpb25Db2RlKXtjYXNlIFRuLkVycm9yOk9iamVjdChCdC5pbmNsdWRlcykoRm4sdC5FcnJvck51bWJlcikmJmkobmV3IHYuYih2LmEuTWlzc2luZ1BheW1lbnRNZXRob2QpKSxpKG5ldyBBbi5hKHQuRXJyb3JEZXNjcmlwdGlvbikpfX0pKSxuLnNldHVwKGtuLkluaXQse2p3dDp0fSl9KSl9KSl9LHQucHJvdG90eXBlLnJ1bkJpblByb2Nlc3M9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2dldENsaWVudFNESygpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyaWdnZXIoRG4uQmluUHJvY2Vzcyx0KS5jYXRjaCgoZnVuY3Rpb24oKXt9KSl9KSkudGhlbigoZnVuY3Rpb24odCl7aWYoIXR8fCF0LlN0YXR1cyl0aHJvdyBuZXcgYnQuYihidC5hLlBheW1lbnROb3RJbml0aWFsaXplZCl9KSl9LHQucHJvdG90eXBlLmdldFRocmVlRFNlY3VyZURhdGE9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiB0aGlzLl9nZXRDbGllbnRTREsoKS50aGVuKChmdW5jdGlvbihyKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGksbyl7ci5vbihNbi5WYWxpZGF0ZWQsKGZ1bmN0aW9uKHQsZSl7aWYoci5vZmYoTW4uVmFsaWRhdGVkKSwhZSlyZXR1cm4gbyhuZXcgQW4uYSh0LkVycm9yRGVzY3JpcHRpb24/dC5FcnJvckRlc2NyaXB0aW9uOlwiQW4gZXJyb3Igd2FzIGVuY291bnRlcmVkIHdoaWxlIHByb2Nlc3NpbmcgdGhlIHRyYW5zYWN0aW9uLlwiKSk7aWYoIXQuQWN0aW9uQ29kZSlyZXR1cm4gaSh7dG9rZW46ZX0pO3N3aXRjaCh0LkFjdGlvbkNvZGUpe2Nhc2UgVG4uU3VjY2VzczpyZXR1cm4gaSh7dG9rZW46ZX0pO2Nhc2UgVG4uTm9BY3Rpb246cmV0dXJuIHQuRXJyb3JOdW1iZXI+MD9vKG5ldyBBbi5hKHQuRXJyb3JEZXNjcmlwdGlvbikpOnQuUGF5bWVudCYmdC5QYXltZW50LkV4dGVuZGVkRGF0YSYmdC5QYXltZW50LkV4dGVuZGVkRGF0YS5TaWduYXR1cmVWZXJpZmljYXRpb249PT1Mbi5ZZXM/aSh7dG9rZW46ZX0pOm8obmV3IEFuLmEoXCJUcmFuc2FjdGlvbiBzaWduYXR1cmUgY291bGQgbm90IGJlIHZhbGlkYXRlZC5cIikpO2Nhc2UgVG4uRmFpbHVyZTpyZXR1cm4gbyhuZXcgQW4uYShcIlVzZXIgZmFpbGVkIGF1dGhlbnRpY2F0aW9uIG9yIGFuIGVycm9yIHdhcyBlbmNvdW50ZXJlZCB3aGlsZSBwcm9jZXNzaW5nIHRoZSB0cmFuc2FjdGlvbi5cIikpO2Nhc2UgVG4uRXJyb3I6cmV0dXJuIG8obmV3IEFuLmEodC5FcnJvckRlc2NyaXB0aW9uKSl9fSkpO3ZhciBhPXtBY3NVcmw6dC5hY3NfdXJsLFBheWxvYWQ6dC5tZXJjaGFudF9kYXRhfSxzPW4uX21hcFRvUGFydGlhbE9yZGVyKGUsdC5wYXllcl9hdXRoX3JlcXVlc3QpO3IuY29udGludWUoem4uQ0NBLGEscyl9KSl9KSl9LHQucHJvdG90eXBlLl9tYXBUb1BhcnRpYWxPcmRlcj1mdW5jdGlvbih0LGUpe3ZhciBuPXtCaWxsaW5nQWRkcmVzczp0aGlzLl9tYXBUb0NhcmRpbmFsQWRkcmVzcyh0LmJpbGxpbmdBZGRyZXNzKX07cmV0dXJuIHQucGF5bWVudERhdGEmJihuLkFjY291bnQ9dGhpcy5fbWFwVG9DYXJkaW5hbEFjY291bnQodC5wYXltZW50RGF0YSkpLHQuYmlsbGluZ0FkZHJlc3MuZW1haWwmJihuLkVtYWlsMT10LmJpbGxpbmdBZGRyZXNzLmVtYWlsKSx0LnNoaXBwaW5nQWRkcmVzcyYmKG4uU2hpcHBpbmdBZGRyZXNzPXRoaXMuX21hcFRvQ2FyZGluYWxBZGRyZXNzKHQuc2hpcHBpbmdBZGRyZXNzKSkse0NvbnN1bWVyOm4sT3JkZXJEZXRhaWxzOntPcmRlck51bWJlcjp0LmlkLEFtb3VudDp0LmFtb3VudCxDdXJyZW5jeUNvZGU6dC5jdXJyZW5jeUNvZGUsT3JkZXJDaGFubmVsOlwiU1wiLFRyYW5zYWN0aW9uSWQ6ZX19fSx0LnByb3RvdHlwZS5fbWFwVG9DYXJkaW5hbEFjY291bnQ9ZnVuY3Rpb24odCl7cmV0dXJue0FjY291bnROdW1iZXI6TnVtYmVyKHQuY2NOdW1iZXIpLEV4cGlyYXRpb25Nb250aDpOdW1iZXIodC5jY0V4cGlyeS5tb250aCksRXhwaXJhdGlvblllYXI6TnVtYmVyKHQuY2NFeHBpcnkueWVhciksTmFtZU9uQWNjb3VudDp0LmNjTmFtZSxDYXJkQ29kZTpOdW1iZXIodC5jY0N2dil9fSx0LnByb3RvdHlwZS5fbWFwVG9DYXJkaW5hbEFkZHJlc3M9ZnVuY3Rpb24odCl7dmFyIGU9e0ZpcnN0TmFtZTp0LmZpcnN0TmFtZSxMYXN0TmFtZTp0Lmxhc3ROYW1lLEFkZHJlc3MxOnQuYWRkcmVzczEsQ2l0eTp0LmNpdHksU3RhdGU6dC5zdGF0ZU9yUHJvdmluY2UsUG9zdGFsQ29kZTp0LnBvc3RhbENvZGUsQ291bnRyeUNvZGU6dC5jb3VudHJ5Q29kZX07cmV0dXJuIHQuYWRkcmVzczImJihlLkFkZHJlc3MyPXQuYWRkcmVzczIpLHQucGhvbmUmJihlLlBob25lMT10LnBob25lKSxlfSx0LnByb3RvdHlwZS5fZ2V0Q2xpZW50U0RLPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX3Nkayl0aHJvdyBuZXcgYnQuYihidC5hLlBheW1lbnROb3RJbml0aWFsaXplZCk7cmV0dXJuIHRoaXMuX3Nka30sdH0oKSx4bj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt2b2lkIDA9PT1lJiYoZT13aW5kb3cpLHRoaXMuX3NjcmlwdExvYWRlcj10LHRoaXMuX3dpbmRvdz1lfXJldHVybiB0LnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPWU/XCJodHRwczovL3NvbmdiaXJkc3RhZy5jYXJkaW5hbGNvbW1lcmNlLmNvbS9lZGdlL3YxL3NvbmdiaXJkLmpzXCI6XCJodHRwczovL3NvbmdiaXJkLmNhcmRpbmFsY29tbWVyY2UuY29tL2VkZ2UvdjEvc29uZ2JpcmQuanNcIjtyZXR1cm4gdGhpcy5fc2NyaXB0TG9hZGVyLmxvYWRTY3JpcHQocitcIj92PVwiK3QpLnRoZW4oKGZ1bmN0aW9uKCl7aWYoIW4uX3dpbmRvdy5DYXJkaW5hbCl0aHJvdyBuZXcgJC5hO3JldHVybiBuLl93aW5kb3cuQ2FyZGluYWx9KSl9LHR9KCksQm49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIpe3RoaXMuX3N0b3JlPXQsdGhpcy5fcGF5bWVudEFjdGlvbkNyZWF0b3I9ZSx0aGlzLl9wYXltZW50TWV0aG9kQWN0aW9uQ3JlYXRvcj1uLHRoaXMuX2NhcmRpbmFsQ2xpZW50PXJ9cmV0dXJuIHQucHJvdG90eXBlLnByZXBhcmU9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLG47cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuX2NhcmRpbmFsQ2xpZW50LmxvYWQodC5pZCx0LmNvbmZpZy50ZXN0TW9kZSldO2Nhc2UgMTpyZXR1cm4gci5zZW50KCksbj0oZT10aGlzLl9jYXJkaW5hbENsaWVudCkuY29uZmlndXJlLFs0LHRoaXMuX2dldENsaWVudFRva2VuKHQpXTtjYXNlIDI6cmV0dXJuWzQsbi5hcHBseShlLFtyLnNlbnQoKV0pXTtjYXNlIDM6cmV0dXJuIHIuc2VudCgpLFsyXX19KSl9KSl9LHQucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgaSxvLGEscyxjLHUscCxoLGwsbSxmLF8seTtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKGQpe3N3aXRjaChkLmxhYmVsKXtjYXNlIDA6cmV0dXJuIGk9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSxvPWkuaW5zdHJ1bWVudHMuZ2V0Q2FyZEluc3RydW1lbnQsYT1pLnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2RPclRocm93LHM9ZS5wYXltZW50LHU9KGM9dm9pZCAwPT09cz97fTpzKS5tZXRob2RJZCxwPXZvaWQgMD09PXU/XCJcIjp1LGg9Yy5wYXltZW50RGF0YSxsPXZvaWQgMD09PWg/e306aCxtPU9iamVjdChiZS5hKShsKSYmbyhsLmluc3RydW1lbnRJZCksKGY9bT9tLmlpbjpyJiZyLmdldEJpbigpKT9bNCx0aGlzLl9jYXJkaW5hbENsaWVudC5ydW5CaW5Qcm9jZXNzKGYpXTpbMywyXTtjYXNlIDE6ZC5zZW50KCksZC5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gZC50cnlzLnB1c2goWzIsNCwsOV0pLFs0LHQoT2JqZWN0KEJ0Lm1lcmdlKShlLHtwYXltZW50OntwYXltZW50RGF0YTp7dGhyZWVEU2VjdXJlOnt0b2tlbjphKHApLmNsaWVudFRva2VufX19fSksbildO2Nhc2UgMzpyZXR1cm5bMixkLnNlbnQoKV07Y2FzZSA0OmlmKCEoKF89ZC5zZW50KCkpaW5zdGFuY2VvZiBxZS5hJiZPYmplY3QoQnQuc29tZSkoXy5ib2R5LmVycm9ycyx7Y29kZTpcInRocmVlX2Rfc2VjdXJlX3JlcXVpcmVkXCJ9KSkpdGhyb3cgXztyZXR1cm5bNCx0aGlzLl9jYXJkaW5hbENsaWVudC5nZXRUaHJlZURTZWN1cmVEYXRhKF8uYm9keS50aHJlZV9kc19yZXN1bHQsdGhpcy5fZ2V0T3JkZXJEYXRhKCkpXTtjYXNlIDU6cmV0dXJuIHk9ZC5zZW50KCkscj9bMyw3XTpbNCx0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9wYXltZW50QWN0aW9uQ3JlYXRvci5zdWJtaXRQYXltZW50KE9iamVjdChCdC5tZXJnZSkoZS5wYXltZW50LHtwYXltZW50RGF0YTp7dGhyZWVEU2VjdXJlOnl9fSkpKV07Y2FzZSA2OnJldHVyblsyLGQuc2VudCgpXTtjYXNlIDc6cmV0dXJuWzQsci5zdWJtaXQoT2JqZWN0KEJ0Lm1lcmdlKShlLnBheW1lbnQse3BheW1lbnREYXRhOnt0aHJlZURTZWN1cmU6eX19KSldO2Nhc2UgODpyZXR1cm4gZC5zZW50KCksWzIsdGhpcy5fc3RvcmUuZ2V0U3RhdGUoKV07Y2FzZSA5OnJldHVyblsyXX19KSl9KSl9LHQucHJvdG90eXBlLl9nZXRDbGllbnRUb2tlbj1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihlKXtzd2l0Y2goZS5sYWJlbCl7Y2FzZSAwOnJldHVybiB0LmNsaWVudFRva2VuP1syLHQuY2xpZW50VG9rZW5dOls0LHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yLmxvYWRQYXltZW50TWV0aG9kKHQuaWQpKV07Y2FzZSAxOnJldHVyblsyLCgwLGUuc2VudCgpLnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2RPclRocm93KSh0LmlkKS5jbGllbnRUb2tlbnx8XCJcIl19fSkpfSkpfSx0LnByb3RvdHlwZS5fZ2V0T3JkZXJEYXRhPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSxlPXQuYmlsbGluZ0FkZHJlc3MuZ2V0QmlsbGluZ0FkZHJlc3NPclRocm93KCksbj10LnNoaXBwaW5nQWRkcmVzcy5nZXRTaGlwcGluZ0FkZHJlc3MoKSxyPXQuY2hlY2tvdXQuZ2V0Q2hlY2tvdXRPclRocm93KCksaT10Lm9yZGVyLmdldE9yZGVyT3JUaHJvdygpO3JldHVybntiaWxsaW5nQWRkcmVzczplLHNoaXBwaW5nQWRkcmVzczpuLGN1cnJlbmN5Q29kZTpyLmNhcnQuY3VycmVuY3kuY29kZSxpZDppLm9yZGVySWQudG9TdHJpbmcoKSxhbW91bnQ6ci5jYXJ0LmNhcnRBbW91bnR9fSx0fSgpOyFmdW5jdGlvbih0KXt0LlN0YXJ0Q2hlY2tvdXQ9XCJzdGFydENoZWNrb3V0XCIsdC5Db21wbGV0ZUNoZWNrb3V0PVwiY29tcGxldGVDaGVja291dFwiLHQuQ2FuY2VsQ2hlY2tvdXQ9XCJjYW5jZWxDaGVja291dFwifShxbnx8KHFuPXt9KSk7dmFyIEduLFZuLFluPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyLGksbyxhLHMsYyl7dGhpcy5fc3RvcmU9dCx0aGlzLl9jaGVja291dEFjdGlvbkNyZWF0b3I9ZSx0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3I9bix0aGlzLl9wYXltZW50QWN0aW9uQ3JlYXRvcj1yLHRoaXMuX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yPWksdGhpcy5fcGF5bWVudFN0cmF0ZWd5QWN0aW9uQ3JlYXRvcj1vLHRoaXMuX3JlcXVlc3RTZW5kZXI9YSx0aGlzLl9jaGFzZVBheVNjcmlwdExvYWRlcj1zLHRoaXMuX3dlcGF5Umlza0NsaWVudD1jLHRoaXMuX3dhbGxldEV2ZW50JD1uZXcgYi5TdWJqZWN0fXJldHVybiB0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYodGhpcy5fbWV0aG9kSWQ9dC5tZXRob2RJZCwhdC5jaGFzZXBheSl0aHJvdyBuZXcgSXQuYSgnVW5hYmxlIHRvIGluaXRpYWxpemUgcGF5bWVudCBiZWNhdXNlIFwib3B0aW9ucy5jaGFzZXBheVwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nKTt2YXIgbj10LmNoYXNlcGF5LndhbGxldEJ1dHRvbiYmZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodC5jaGFzZXBheS53YWxsZXRCdXR0b24pO3JldHVybiBuJiYodGhpcy5fd2FsbGV0QnV0dG9uPW4sdGhpcy5fd2FsbGV0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMuX2hhbmRsZVdhbGxldEJ1dHRvbkNsaWNrKSksdGhpcy5fY29uZmlndXJlV2FsbGV0KHQuY2hhc2VwYXkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGUuX3N0b3JlLmdldFN0YXRlKCl9KSl9LHQucHJvdG90eXBlLmRlaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl93YWxsZXRCdXR0b24mJnRoaXMuX3dhbGxldEJ1dHRvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLl9oYW5kbGVXYWxsZXRCdXR0b25DbGljayksdGhpcy5fd2FsbGV0QnV0dG9uPXZvaWQgMCx0aGlzLl9jaGFzZVBheUNsaWVudD12b2lkIDAsUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3N0b3JlLmdldFN0YXRlKCkpfSx0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gdGhpcy5fZ2V0UGF5bWVudCgpLmNhdGNoKChmdW5jdGlvbih0KXtpZih0LnN1YnR5cGU9PT12LmEuTWlzc2luZ1BheW1lbnQpcmV0dXJuIG4uX2Rpc3BsYXlXYWxsZXQoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBuLl9nZXRQYXltZW50KCl9KSk7dGhyb3cgdH0pKS50aGVuKChmdW5jdGlvbihyKXtyZXR1cm4gbi5fY3JlYXRlT3JkZXIocix0LnVzZVN0b3JlQ3JlZGl0LGUpfSkpfSx0LnByb3RvdHlwZS5maW5hbGl6ZT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlamVjdChuZXcgSnQpfSx0LnByb3RvdHlwZS5fY29uZmlndXJlV2FsbGV0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLHI9bi5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kKHRoaXMuX21ldGhvZElkKSxpPW4uY29uZmlnLmdldFN0b3JlQ29uZmlnKCk7aWYoIXIpdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ1BheW1lbnRNZXRob2QpO2lmKCFpKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdDaGVja291dENvbmZpZyk7cmV0dXJuIHRoaXMuX2NoYXNlUGF5U2NyaXB0TG9hZGVyLmxvYWQoci5jb25maWcudGVzdE1vZGUpLnRoZW4oKGZ1bmN0aW9uKG4pe3ZhciByPW4uQ2hhc2VQYXk7ZS5fY2hhc2VQYXlDbGllbnQ9cix0LmxvZ29Db250YWluZXImJmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHQubG9nb0NvbnRhaW5lcikmJmUuX2NoYXNlUGF5Q2xpZW50Lmluc2VydEJyYW5kaW5ncyh7Y29sb3I6XCJ3aGl0ZVwiLGNvbnRhaW5lcnM6W3QubG9nb0NvbnRhaW5lcl19KSxlLl9jaGFzZVBheUNsaWVudC5jb25maWd1cmUoe2xhbmd1YWdlOmkuc3RvcmVQcm9maWxlLnN0b3JlTGFuZ3VhZ2V9KSxlLl9jaGFzZVBheUNsaWVudC5vbihxbi5DYW5jZWxDaGVja291dCwoZnVuY3Rpb24oKXtlLl93YWxsZXRFdmVudCQubmV4dCh7dHlwZTpxbi5DYW5jZWxDaGVja291dH0pLHQub25DYW5jZWwmJnQub25DYW5jZWwoKX0pKSxlLl9jaGFzZVBheUNsaWVudC5vbihxbi5Db21wbGV0ZUNoZWNrb3V0LChmdW5jdGlvbihuKXtlLl9zZXRTZXNzaW9uVG9rZW4obi5zZXNzaW9uVG9rZW4pLnRoZW4oKGZ1bmN0aW9uKCl7ZS5fd2FsbGV0RXZlbnQkLm5leHQoe3R5cGU6cW4uQ29tcGxldGVDaGVja291dH0pLHQub25QYXltZW50U2VsZWN0JiZ0Lm9uUGF5bWVudFNlbGVjdCgpfSkpfSkpfSkpfSx0LnByb3RvdHlwZS5fZGlzcGxheVdhbGxldD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3BheW1lbnRTdHJhdGVneUFjdGlvbkNyZWF0b3Iud2lkZ2V0SW50ZXJhY3Rpb24oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3N0b3JlLmRpc3BhdGNoKHQuX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yLmxvYWRQYXltZW50TWV0aG9kKHQuX21ldGhvZElkKSkudGhlbigoZnVuY3Rpb24oZSl7dmFyIG49ZS5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kKHQuX21ldGhvZElkKTtpZighdC5fY2hhc2VQYXlDbGllbnQpdGhyb3cgbmV3IGJ0LmIoYnQuYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO2lmKCFuKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdQYXltZW50TWV0aG9kKTt0Ll9jaGFzZVBheUNsaWVudC5zaG93TG9hZGluZ0FuaW1hdGlvbigpLHQuX2NoYXNlUGF5Q2xpZW50LnN0YXJ0Q2hlY2tvdXQobi5pbml0aWFsaXphdGlvbkRhdGEuZGlnaXRhbFNlc3Npb25JZCl9KSksbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsbil7dC5fd2FsbGV0RXZlbnQkLnBpcGUoT2JqZWN0KE0udGFrZSkoMSkpLnN1YnNjcmliZSgoZnVuY3Rpb24odCl7dC50eXBlPT09cW4uQ2FuY2VsQ2hlY2tvdXQ/bihuZXcgeGUpOnQudHlwZT09PXFuLkNvbXBsZXRlQ2hlY2tvdXQmJmUoKX0pKX0pKX0pLHttZXRob2RJZDp0aGlzLl9tZXRob2RJZH0pLHtxdWV1ZUlkOlwid2lkZ2V0SW50ZXJhY3Rpb25cIn0pfSx0LnByb3RvdHlwZS5fc2V0U2Vzc2lvblRva2VuPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2QodGhpcy5fbWV0aG9kSWQpLHI9biYmbi5pbml0aWFsaXphdGlvbkRhdGEubWVyY2hhbnRSZXF1ZXN0SWQ7cmV0dXJuIHRoaXMuX3JlcXVlc3RTZW5kZXIucG9zdChcImNoZWNrb3V0LnBocFwiLHtoZWFkZXJzOntBY2NlcHQ6XCJ0ZXh0L2h0bWxcIixcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04XCJ9LGJvZHk6e2FjdGlvbjpcInNldF9leHRlcm5hbF9jaGVja291dFwiLHByb3ZpZGVyOnRoaXMuX21ldGhvZElkLHNlc3Npb25Ub2tlbjp0LG1lcmNoYW50UmVxdWVzdElkOnJ9fSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5hbGwoW2UuX3N0b3JlLmRpc3BhdGNoKGUuX2NoZWNrb3V0QWN0aW9uQ3JlYXRvci5sb2FkQ3VycmVudENoZWNrb3V0KCkpLGUuX3N0b3JlLmRpc3BhdGNoKGUuX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yLmxvYWRQYXltZW50TWV0aG9kKGUuX21ldGhvZElkKSldKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBlLl9zdG9yZS5nZXRTdGF0ZSgpfSkpfSx0LnByb3RvdHlwZS5fZ2V0UGF5bWVudD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yLmxvYWRQYXltZW50TWV0aG9kKHRoaXMuX21ldGhvZElkKSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm5cIndlcGF5XCI9PT10Ll9tZXRob2RJZD90Ll93ZXBheVJpc2tDbGllbnQuaW5pdGlhbGl6ZSgpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldFJpc2tUb2tlbigpfSkpOlwiXCJ9KSkudGhlbigoZnVuY3Rpb24oZSl7dmFyIG49dC5fc3RvcmUuZ2V0U3RhdGUoKS5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kKHQuX21ldGhvZElkKTtpZighbil0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7aWYoIW4uaW5pdGlhbGl6YXRpb25EYXRhLnBheW1lbnRDcnlwdG9ncmFtKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdQYXltZW50KTt2YXIgcj17bWV0aG9kOnQuX21ldGhvZElkLGNyeXB0b2dyYW1JZDpuLmluaXRpYWxpemF0aW9uRGF0YS5wYXltZW50Q3J5cHRvZ3JhbSxlY2k6bi5pbml0aWFsaXphdGlvbkRhdGEuZWNpLHRyYW5zYWN0aW9uSWQ6YnRvYShuLmluaXRpYWxpemF0aW9uRGF0YS5yZXFUb2tlbklkKSxjY0V4cGlyeTp7bW9udGg6bi5pbml0aWFsaXphdGlvbkRhdGEuZXhwRGF0ZS50b1N0cmluZygpLnN1YnN0cigwLDIpLHllYXI6bi5pbml0aWFsaXphdGlvbkRhdGEuZXhwRGF0ZS50b1N0cmluZygpLnN1YnN0cigyLDIpfSxjY051bWJlcjpuLmluaXRpYWxpemF0aW9uRGF0YS5hY2NvdW50TnVtLGFjY291bnRNYXNrOm4uaW5pdGlhbGl6YXRpb25EYXRhLmFjY291bnRNYXNrLGV4dHJhRGF0YTplP3tyaXNrVG9rZW46ZX06dm9pZCAwfTtyZXR1cm57bWV0aG9kSWQ6dC5fbWV0aG9kSWQscGF5bWVudERhdGE6cn19KSl9LHQucHJvdG90eXBlLl9jcmVhdGVPcmRlcj1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcztyZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yLnN1Ym1pdE9yZGVyKHt1c2VTdG9yZUNyZWRpdDplfSxuKSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gci5fc3RvcmUuZGlzcGF0Y2goci5fcGF5bWVudEFjdGlvbkNyZWF0b3Iuc3VibWl0UGF5bWVudCh0KSl9KSl9LHQucHJvdG90eXBlLl9oYW5kbGVXYWxsZXRCdXR0b25DbGljaz1mdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCksdGhpcy5fZGlzcGxheVdhbGxldCgpfSxPYmplY3QoZC5fX2RlY29yYXRlKShbRHQuYV0sdC5wcm90b3R5cGUsXCJfaGFuZGxlV2FsbGV0QnV0dG9uQ2xpY2tcIixudWxsKSx0fSgpLEhuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsaSxvKXt2YXIgYT10LmNhbGwodGhpcyxlLG4scixpKXx8dGhpcztyZXR1cm4gYS5fZm9ybVBvc3Rlcj1vLGF9cmV0dXJuIE9iamVjdChkLl9fZXh0ZW5kcykoZSx0KSxlLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKGUsbil7dmFyIHI9dGhpcztyZXR1cm4gdC5wcm90b3R5cGUuZXhlY3V0ZS5jYWxsKHRoaXMsZSxuKS5jYXRjaCgoZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBxZS5hJiZPYmplY3QoQnQuc29tZSkodC5ib2R5LmVycm9ycyx7Y29kZTpcInRocmVlX2Rfc2VjdXJlX3JlcXVpcmVkXCJ9KT9uZXcgUHJvbWlzZSgoZnVuY3Rpb24oKXtyLl9mb3JtUG9zdGVyLnBvc3RGb3JtKHQuYm9keS50aHJlZV9kc19yZXN1bHQuYWNzX3VybCx7UGFSZXE6dC5ib2R5LnRocmVlX2RzX3Jlc3VsdC5wYXllcl9hdXRoX3JlcXVlc3QsVGVybVVybDp0LmJvZHkudGhyZWVfZHNfcmVzdWx0LmNhbGxiYWNrX3VybCxNRDp0LmJvZHkudGhyZWVfZHNfcmVzdWx0Lm1lcmNoYW50X2RhdGF9KX0pKTpQcm9taXNlLnJlamVjdCh0KX0pKX0sZS5wcm90b3R5cGUuZmluYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSxuPWUub3JkZXIuZ2V0T3JkZXIoKTtyZXR1cm4gbiYmZS5wYXltZW50LmdldFBheW1lbnRTdGF0dXMoKT09PW1uLmI/dGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yLmZpbmFsaXplT3JkZXIobi5vcmRlcklkLHQpKTpQcm9taXNlLnJlamVjdChuZXcgSnQpfSxlfShobiksV249ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixpLG8pe3ZhciBhPXQuY2FsbCh0aGlzLGUsbixyLGkpfHx0aGlzO3JldHVybiBhLl9zdG9yZT1lLGEuX29yZGVyQWN0aW9uQ3JlYXRvcj1uLGEuX3BheW1lbnRBY3Rpb25DcmVhdG9yPXIsYS5faG9zdGVkRm9ybUZhY3Rvcnk9aSxhLl9mb3JtUG9zdGVyPW8sYX1yZXR1cm4gT2JqZWN0KGQuX19leHRlbmRzKShlLHQpLGUucHJvdG90eXBlLmZpbmFsaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3N0b3JlLmdldFN0YXRlKCksbj1lLm9yZGVyLmdldE9yZGVyKCk7cmV0dXJuIG4mJmUucGF5bWVudC5nZXRQYXltZW50U3RhdHVzKCk9PT1tbi5iP3RoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvci5maW5hbGl6ZU9yZGVyKG4ub3JkZXJJZCx0KSk6UHJvbWlzZS5yZWplY3QobmV3IEp0KX0sZS5wcm90b3R5cGUuX2V4ZWN1dGVXaXRob3V0SG9zdGVkRm9ybT1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbixyLGksbyxhPXRoaXM7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihzKXtzd2l0Y2gocy5sYWJlbCl7Y2FzZSAwOmlmKG49dC5wYXltZW50LHI9T2JqZWN0KGQuX19yZXN0KSh0LFtcInBheW1lbnRcIl0pLGk9biYmbi5wYXltZW50RGF0YSwhbnx8IWkpdGhyb3cgbmV3IFVlKFtcInBheW1lbnQucGF5bWVudERhdGFcIl0pO3JldHVybls0LHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvci5zdWJtaXRPcmRlcihyLGUpKV07Y2FzZSAxOnMuc2VudCgpLHMubGFiZWw9MjtjYXNlIDI6cmV0dXJuIHMudHJ5cy5wdXNoKFsyLDQsLDVdKSxbNCx0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9wYXltZW50QWN0aW9uQ3JlYXRvci5zdWJtaXRQYXltZW50KE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30sbikse3BheW1lbnREYXRhOml9KSkpXTtjYXNlIDM6cmV0dXJuWzIscy5zZW50KCldO2Nhc2UgNDpyZXR1cm4obz1zLnNlbnQoKSlpbnN0YW5jZW9mIHFlLmEmJk9iamVjdChCdC5zb21lKShvLmJvZHkuZXJyb3JzLHtjb2RlOlwidGhyZWVfZF9zZWN1cmVfcmVxdWlyZWRcIn0pP1syLG5ldyBQcm9taXNlKChmdW5jdGlvbigpe3JldHVybiBhLl9mb3JtUG9zdGVyLnBvc3RGb3JtKG8uYm9keS50aHJlZV9kc19yZXN1bHQuYWNzX3VybCx7UGFSZXE6by5ib2R5LnRocmVlX2RzX3Jlc3VsdC5wYXllcl9hdXRoX3JlcXVlc3R8fG51bGwsVGVybVVybDpvLmJvZHkudGhyZWVfZHNfcmVzdWx0LmNhbGxiYWNrX3VybHx8bnVsbCxNRDpvLmJvZHkudGhyZWVfZHNfcmVzdWx0Lm1lcmNoYW50X2RhdGF8fG51bGx9KX0pKV06WzIsUHJvbWlzZS5yZWplY3QobyldO2Nhc2UgNTpyZXR1cm5bMl19fSkpfSkpfSxlLnByb3RvdHlwZS5fZXhlY3V0ZVdpdGhIb3N0ZWRGb3JtPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBuLHIsaSxvLGE9dGhpcztyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKHMpe3N3aXRjaChzLmxhYmVsKXtjYXNlIDA6aWYobj10LnBheW1lbnQscj1PYmplY3QoZC5fX3Jlc3QpKHQsW1wicGF5bWVudFwiXSksIShpPXRoaXMuX2hvc3RlZEZvcm0pKXRocm93IG5ldyBidC5iKGJ0LmEuUGF5bWVudE5vdEluaXRpYWxpemVkKTtpZighbnx8IW4ubWV0aG9kSWQpdGhyb3cgbmV3IFVlKFtcInBheW1lbnQubWV0aG9kSWRcIl0pO3MubGFiZWw9MTtjYXNlIDE6cmV0dXJuIHMudHJ5cy5wdXNoKFsxLDUsLDZdKSxbNCxpLnZhbGlkYXRlKCldO2Nhc2UgMjpyZXR1cm4gcy5zZW50KCksWzQsdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yLnN1Ym1pdE9yZGVyKHIsZSkpXTtjYXNlIDM6cmV0dXJuIHMuc2VudCgpLFs0LGkuc3VibWl0KG4pXTtjYXNlIDQ6cmV0dXJuIHMuc2VudCgpLFszLDZdO2Nhc2UgNTpyZXR1cm4obz1zLnNlbnQoKSlpbnN0YW5jZW9mIHFlLmEmJk9iamVjdChCdC5zb21lKShvLmJvZHkuZXJyb3JzLHtjb2RlOlwidGhyZWVfZF9zZWN1cmVfcmVxdWlyZWRcIn0pP1syLG5ldyBQcm9taXNlKChmdW5jdGlvbigpe3JldHVybiBhLl9mb3JtUG9zdGVyLnBvc3RGb3JtKG8uYm9keS50aHJlZV9kc19yZXN1bHQuYWNzX3VybCx7UGFSZXE6by5ib2R5LnRocmVlX2RzX3Jlc3VsdC5wYXllcl9hdXRoX3JlcXVlc3R8fG51bGwsVGVybVVybDpvLmJvZHkudGhyZWVfZHNfcmVzdWx0LmNhbGxiYWNrX3VybHx8bnVsbCxNRDpvLmJvZHkudGhyZWVfZHNfcmVzdWx0Lm1lcmNoYW50X2RhdGF8fG51bGx9KX0pKV06WzIsUHJvbWlzZS5yZWplY3QobyldO2Nhc2UgNjpyZXR1cm5bNCx0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3IubG9hZEN1cnJlbnRPcmRlcigpKV07Y2FzZSA3OnJldHVyblsyLHMuc2VudCgpXX19KSl9KSl9LGV9KGhuKSxLbj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLGksbyl7dmFyIGE9dC5jYWxsKHRoaXMsZSxuLHIsaSl8fHRoaXM7cmV0dXJuIGEuX3RocmVlRFNlY3VyZUZsb3c9byxhfXJldHVybiBPYmplY3QoZC5fX2V4dGVuZHMpKGUsdCksZS5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG4scjtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKGkpe3N3aXRjaChpLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsZSldO2Nhc2UgMTpyZXR1cm4gaS5zZW50KCksbj10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2RPclRocm93LChyPW4oZS5tZXRob2RJZCkpLmNvbmZpZy5pczNkc0VuYWJsZWQ/WzQsdGhpcy5fdGhyZWVEU2VjdXJlRmxvdy5wcmVwYXJlKHIpXTpbMywzXTtjYXNlIDI6aS5zZW50KCksaS5sYWJlbD0zO2Nhc2UgMzpyZXR1cm5bMix0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpXX19KSl9KSl9LGUucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHIsaSxvO3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24oYSl7cmV0dXJuIHI9ZS5wYXltZW50LGk9KHZvaWQgMD09PXI/e306cikubWV0aG9kSWQsbz12b2lkIDA9PT1pP1wiXCI6aSwoMCx0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2RPclRocm93KShvKS5jb25maWcuaXMzZHNFbmFibGVkP1syLHRoaXMuX3RocmVlRFNlY3VyZUZsb3cuc3RhcnQodC5wcm90b3R5cGUuZXhlY3V0ZS5iaW5kKHRoaXMpLGUsbix0aGlzLl9ob3N0ZWRGb3JtKV06WzIsdC5wcm90b3R5cGUuZXhlY3V0ZS5jYWxsKHRoaXMsZSxuKV19KSl9KSl9LGV9KGhuKSxKbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scil7dGhpcy5fc3RvcmU9dCx0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3I9ZSx0aGlzLl9wYXltZW50QWN0aW9uQ3JlYXRvcj1uLHRoaXMuX2Zvcm1Qb3N0ZXI9cn1yZXR1cm4gdC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbixyLGksbyxhPXRoaXM7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihzKXtzd2l0Y2gocy5sYWJlbCl7Y2FzZSAwOmlmKG49dC5wYXltZW50LHI9T2JqZWN0KGQuX19yZXN0KSh0LFtcInBheW1lbnRcIl0pLGk9biYmbi5wYXltZW50RGF0YSwhbnx8IWkpdGhyb3cgbmV3IFVlKFtcInBheW1lbnQucGF5bWVudERhdGFcIl0pO3JldHVybls0LHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvci5zdWJtaXRPcmRlcihyLGUpKV07Y2FzZSAxOnMuc2VudCgpLHMubGFiZWw9MjtjYXNlIDI6cmV0dXJuIHMudHJ5cy5wdXNoKFsyLDQsLDVdKSxbNCx0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9wYXltZW50QWN0aW9uQ3JlYXRvci5zdWJtaXRQYXltZW50KE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30sbikse3BheW1lbnREYXRhOml9KSkpXTtjYXNlIDM6cmV0dXJuWzIscy5zZW50KCldO2Nhc2UgNDpyZXR1cm4gbz1zLnNlbnQoKSx0aGlzLl9pc0FkZGl0aW9uYWxBY3Rpb25SZXF1aXJlZChvKT9bMixuZXcgUHJvbWlzZSgoZnVuY3Rpb24oKXthLl9mb3JtUG9zdGVyLnBvc3RGb3JtKG8uYm9keS5hZGRpdGlvbmFsX2FjdGlvbl9yZXF1aXJlZC5kYXRhLnJlZGlyZWN0X3VybCx7fSl9KSldOlsyLFByb21pc2UucmVqZWN0KG8pXTtjYXNlIDU6cmV0dXJuWzJdfX0pKX0pKX0sdC5wcm90b3R5cGUuZmluYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEp0KX0sdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSl9LHQucHJvdG90eXBlLmRlaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSl9LHQucHJvdG90eXBlLl9pc0FkZGl0aW9uYWxBY3Rpb25SZXF1aXJlZD1mdW5jdGlvbih0KXt2YXIgZT10LmJvZHksbj1lLmFkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkO3JldHVyblwiYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWRcIj09PWUuc3RhdHVzJiZuJiZcIm9mZnNpdGVfcmVkaXJlY3RcIj09PW4udHlwZX0sdH0oKSxabj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scixpLG8sYSxzKXt0aGlzLl9zdG9yZT10LHRoaXMuX2NoZWNrb3V0QWN0aW9uQ3JlYXRvcj1lLHRoaXMuX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yPW4sdGhpcy5fcGF5bWVudFN0cmF0ZWd5QWN0aW9uQ3JlYXRvcj1yLHRoaXMuX3BheW1lbnRBY3Rpb25DcmVhdG9yPWksdGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yPW8sdGhpcy5fZ29vZ2xlUGF5UGF5bWVudFByb2Nlc3Nvcj1hLHRoaXMuX2dvb2dsZVBheUFkeWVuVjJQYXltZW50UHJvY2Vzc29yPXN9cmV0dXJuIHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5fbWV0aG9kSWQ9dC5tZXRob2RJZCx0aGlzLl9nb29nbGVQYXlQYXltZW50UHJvY2Vzc29yLmluaXRpYWxpemUodGhpcy5fbWV0aG9kSWQpLnRoZW4oKGZ1bmN0aW9uKCl7aWYoZS5fZ29vZ2xlUGF5T3B0aW9ucz1lLl9nZXRHb29nbGVQYXlPcHRpb25zKHQpLCFlLl9nb29nbGVQYXlPcHRpb25zKXRocm93IG5ldyBJdC5hKCdVbmFibGUgdG8gaW5pdGlhbGl6ZSBwYXltZW50IGJlY2F1c2UgXCJvcHRpb25zLmdvb2dsZXBheVwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nKTt2YXIgbj1lLl9nb29nbGVQYXlPcHRpb25zLndhbGxldEJ1dHRvbiYmZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZS5fZ29vZ2xlUGF5T3B0aW9ucy53YWxsZXRCdXR0b24pO3JldHVybiBuJiYoZS5fd2FsbGV0QnV0dG9uPW4sZS5fd2FsbGV0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGUuX2hhbmRsZVdhbGxldEJ1dHRvbkNsaWNrKSksZS5fc3RvcmUuZ2V0U3RhdGUoKX0pKX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5fd2FsbGV0QnV0dG9uJiZ0aGlzLl93YWxsZXRCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5faGFuZGxlV2FsbGV0QnV0dG9uQ2xpY2spLHRoaXMuX3dhbGxldEJ1dHRvbj12b2lkIDAsdGhpcy5fZ29vZ2xlUGF5UGF5bWVudFByb2Nlc3Nvci5kZWluaXRpYWxpemUoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0Ll9zdG9yZS5nZXRTdGF0ZSgpfSkpfSx0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztpZighdGhpcy5fZ29vZ2xlUGF5T3B0aW9ucyl0aHJvdyBuZXcgSXQuYSgnVW5hYmxlIHRvIGluaXRpYWxpemUgcGF5bWVudCBiZWNhdXNlIFwib3B0aW9ucy5nb29nbGVwYXlcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuJyk7dmFyIHI9dGhpcy5fZ29vZ2xlUGF5T3B0aW9ucyxpPXIub25FcnJvcixvPXZvaWQgMD09PWk/ZnVuY3Rpb24oKXt9OmksYT1yLm9uUGF5bWVudFNlbGVjdCxzPXZvaWQgMD09PWE/ZnVuY3Rpb24oKXt9OmE7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9nZXRQYXltZW50KCkpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiB0LnBheW1lbnREYXRhLm5vbmNlJiZ0LnBheW1lbnREYXRhLmNhcmRJbmZvcm1hdGlvbj90Om4uX2dvb2dsZVBheVBheW1lbnRQcm9jZXNzb3IuZGlzcGxheVdhbGxldCgpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBuLl9wYXltZW50SW5zdHJ1bWVudFNlbGVjdGVkKHQpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHMoKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBuLl9nZXRQYXltZW50KCl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe1wiQ0FOQ0VMRURcIiE9PXQuc3RhdHVzQ29kZSYmbyh0KX0pKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBuLl9zdG9yZS5kaXNwYXRjaChuLl9vcmRlckFjdGlvbkNyZWF0b3Iuc3VibWl0T3JkZXIoe3VzZVN0b3JlQ3JlZGl0OnQudXNlU3RvcmVDcmVkaXR9LGUpKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBuLl9zdG9yZS5kaXNwYXRjaChuLl9wYXltZW50QWN0aW9uQ3JlYXRvci5zdWJtaXRQYXltZW50KG4uX2dldFBheW1lbnQoKSkpfSkpLmNhdGNoKChmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4obnVsbD09PShlPW4uX2dvb2dsZVBheUFkeWVuVjJQYXltZW50UHJvY2Vzc29yKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5wcm9jZXNzQWRkaXRpb25hbEFjdGlvbih0KSl8fFByb21pc2UucmVqZWN0KHQpfSkpfSkpfSx0LnByb3RvdHlwZS5maW5hbGl6ZT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlamVjdChuZXcgSnQpfSx0LnByb3RvdHlwZS5fZ2V0R29vZ2xlUGF5T3B0aW9ucz1mdW5jdGlvbih0KXtpZihcImdvb2dsZXBheWFkeWVudjJcIj09PXQubWV0aG9kSWQmJnQuZ29vZ2xlcGF5YWR5ZW52Mil7aWYoIXRoaXMuX2dvb2dsZVBheUFkeWVuVjJQYXltZW50UHJvY2Vzc29yKXRocm93IG5ldyBidC5iKGJ0LmEuUGF5bWVudE5vdEluaXRpYWxpemVkKTtyZXR1cm4gdGhpcy5fZ29vZ2xlUGF5QWR5ZW5WMlBheW1lbnRQcm9jZXNzb3IuaW5pdGlhbGl6ZSh0KSx0Lmdvb2dsZXBheWFkeWVudjJ9aWYoXCJnb29nbGVwYXlhdXRob3JpemVuZXRcIj09PXQubWV0aG9kSWQmJnQuZ29vZ2xlcGF5YXV0aG9yaXplbmV0KXJldHVybiB0Lmdvb2dsZXBheWF1dGhvcml6ZW5ldDtpZihcImdvb2dsZXBheWNoZWNrb3V0Y29tXCI9PT10Lm1ldGhvZElkJiZ0Lmdvb2dsZXBheWNoZWNrb3V0Y29tKXJldHVybiB0Lmdvb2dsZXBheWNoZWNrb3V0Y29tO2lmKFwiZ29vZ2xlcGF5YnJhaW50cmVlXCI9PT10Lm1ldGhvZElkJiZ0Lmdvb2dsZXBheWJyYWludHJlZSlyZXR1cm4gdC5nb29nbGVwYXlicmFpbnRyZWU7aWYoXCJnb29nbGVwYXlzdHJpcGVcIj09PXQubWV0aG9kSWQmJnQuZ29vZ2xlcGF5c3RyaXBlKXJldHVybiB0Lmdvb2dsZXBheXN0cmlwZTt0aHJvdyBuZXcgSXQuYX0sdC5wcm90b3R5cGUuX2dldFBheW1lbnQ9ZnVuY3Rpb24oKXtpZighdGhpcy5fbWV0aG9kSWQpdGhyb3cgbmV3IGJ0LmIoYnQuYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO3ZhciB0LGU9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKS5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kKHRoaXMuX21ldGhvZElkKTtpZighZSl0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7aWYoIWUuaW5pdGlhbGl6YXRpb25EYXRhLm5vbmNlKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdQYXltZW50KTt0PVwiZ29vZ2xlcGF5YWR5ZW52MlwiPT09dGhpcy5fbWV0aG9kSWQ/SlNPTi5zdHJpbmdpZnkoe3R5cGU6TGUuR29vZ2xlUGF5LGdvb2dsZVBheVRva2VuOmUuaW5pdGlhbGl6YXRpb25EYXRhLm5vbmNlLGJyb3dzZXJfaW5mbzpSZSgpfSk6ZS5pbml0aWFsaXphdGlvbkRhdGEubm9uY2U7dmFyIG49e21ldGhvZDp0aGlzLl9tZXRob2RJZCxub25jZTp0LGNhcmRJbmZvcm1hdGlvbjplLmluaXRpYWxpemF0aW9uRGF0YS5jYXJkX2luZm9ybWF0aW9ufTtyZXR1cm57bWV0aG9kSWQ6dGhpcy5fbWV0aG9kSWQscGF5bWVudERhdGE6bn19LHQucHJvdG90eXBlLl9oYW5kbGVXYWxsZXRCdXR0b25DbGljaz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKHQucHJldmVudERlZmF1bHQoKSwhdGhpcy5fbWV0aG9kSWR8fCF0aGlzLl9nb29nbGVQYXlPcHRpb25zKXRocm93IG5ldyBidC5iKGJ0LmEuUGF5bWVudE5vdEluaXRpYWxpemVkKTt2YXIgbj10aGlzLl9nb29nbGVQYXlPcHRpb25zLHI9bi5vbkVycm9yLGk9dm9pZCAwPT09cj9mdW5jdGlvbigpe306cixvPW4ub25QYXltZW50U2VsZWN0LGE9dm9pZCAwPT09bz9mdW5jdGlvbigpe306bztyZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcGF5bWVudFN0cmF0ZWd5QWN0aW9uQ3JlYXRvci53aWRnZXRJbnRlcmFjdGlvbigoZnVuY3Rpb24oKXtyZXR1cm4gZS5fZ29vZ2xlUGF5UGF5bWVudFByb2Nlc3Nvci5kaXNwbGF5V2FsbGV0KCkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIGUuX3BheW1lbnRJbnN0cnVtZW50U2VsZWN0ZWQodCl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gYSgpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtcIkNBTkNFTEVEXCIhPT10LnN0YXR1c0NvZGUmJmkodCl9KSl9KSx7bWV0aG9kSWQ6dGhpcy5fbWV0aG9kSWR9KSx7cXVldWVJZDpcIndpZGdldEludGVyYWN0aW9uXCJ9KX0sdC5wcm90b3R5cGUuX3BheW1lbnRJbnN0cnVtZW50U2VsZWN0ZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlO3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDppZighdGhpcy5fbWV0aG9kSWQpdGhyb3cgbmV3IGJ0LmIoYnQuYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO3JldHVybiBlPXRoaXMuX21ldGhvZElkLFs0LHRoaXMuX2dvb2dsZVBheVBheW1lbnRQcm9jZXNzb3IuaGFuZGxlU3VjY2Vzcyh0KV07Y2FzZSAxOnJldHVybiBuLnNlbnQoKSxbNCxQcm9taXNlLmFsbChbdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fY2hlY2tvdXRBY3Rpb25DcmVhdG9yLmxvYWRDdXJyZW50Q2hlY2tvdXQoKSksdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3IubG9hZFBheW1lbnRNZXRob2QoZSkpXSldO2Nhc2UgMjpyZXR1cm5bMixuLnNlbnQoKV19fSkpfSkpfSxPYmplY3QoZC5fX2RlY29yYXRlKShbRHQuYV0sdC5wcm90b3R5cGUsXCJfaGFuZGxlV2FsbGV0QnV0dG9uQ2xpY2tcIixudWxsKSx0fSgpLFFuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dGhpcy5fc3RvcmU9dCx0aGlzLl9wYXltZW50QWN0aW9uQ3JlYXRvcj1lLHRoaXMuX3NjcmlwdExvYWRlcj1ufXJldHVybiB0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSxuLHIsaSxvLGE7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihzKXtzd2l0Y2gocy5sYWJlbCl7Y2FzZSAwOmlmKGU9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSxuPWUucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3codC5tZXRob2RJZCksIShyPWUuY29uZmlnLmdldFN0b3JlQ29uZmlnKCkpKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdDaGVja291dENvbmZpZyk7cmV0dXJuIGk9e2tleTpcIlwiLHZhbHVlOlwiXCJ9LG4uaW5pdGlhbGl6YXRpb25EYXRhLm9yaWdpbktleT8oaS5rZXk9XCJvcmlnaW5LZXlcIixpLnZhbHVlPW4uaW5pdGlhbGl6YXRpb25EYXRhLm9yaWdpbktleSk6KGkua2V5PVwiY2xpZW50S2V5XCIsaS52YWx1ZT1uLmluaXRpYWxpemF0aW9uRGF0YS5jbGllbnRLZXkpLG89dGhpcyxbNCx0aGlzLl9zY3JpcHRMb2FkZXIubG9hZCgoYT17ZW52aXJvbm1lbnQ6bi5jb25maWcudGVzdE1vZGU/XCJURVNUXCI6XCIgUFJPRFVDVElPTlwiLGxvY2FsZTpyLnN0b3JlUHJvZmlsZS5zdG9yZUxhbmd1YWdlfSxhW2kua2V5XT1pLnZhbHVlLGEucGF5bWVudE1ldGhvZHNSZXNwb25zZT1uLmluaXRpYWxpemF0aW9uRGF0YS5wYXltZW50TWV0aG9kc1Jlc3BvbnNlLGEpKV07Y2FzZSAxOnJldHVybiBvLl9hZHllbkNsaWVudD1zLnNlbnQoKSxbMl19fSkpfSkpfSx0LnByb3RvdHlwZS5wcm9jZXNzQWRkaXRpb25hbEFjdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGUsbjtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHQgaW5zdGFuY2VvZiBxZS5hJiZPYmplY3QoQnQuc29tZSkodC5ib2R5LmVycm9ycyx7Y29kZTpcImFkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkXCJ9KT9bNCx0aGlzLl9oYW5kbGVBY3Rpb24odC5ib2R5LnByb3ZpZGVyX2RhdGEpXTpbMixQcm9taXNlLnJlamVjdCh0KV07Y2FzZSAxOmU9ci5zZW50KCksci5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gci50cnlzLnB1c2goWzIsNCwsNV0pLFs0LHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3BheW1lbnRBY3Rpb25DcmVhdG9yLnN1Ym1pdFBheW1lbnQoT2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSxlKSx7cGF5bWVudERhdGE6T2JqZWN0KGQuX19hc3NpZ24pKHt9LGUucGF5bWVudERhdGEpfSkpKV07Y2FzZSAzOnJldHVyblsyLHIuc2VudCgpXTtjYXNlIDQ6cmV0dXJuIG49ci5zZW50KCksWzIsdGhpcy5wcm9jZXNzQWRkaXRpb25hbEFjdGlvbihuKV07Y2FzZSA1OnJldHVyblsyXX19KSl9KSl9LHQucHJvdG90eXBlLl9oYW5kbGVBY3Rpb249ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7dmFyIGk9SlNPTi5wYXJzZSh0LmFjdGlvbik7ZS5fZ2V0QWR5ZW5DbGllbnQoKS5jcmVhdGVGcm9tQWN0aW9uKGkse29uQWRkaXRpb25hbERldGFpbHM6ZnVuY3Rpb24odCl7dmFyIGU9e21ldGhvZElkOmkucGF5bWVudE1ldGhvZFR5cGUscGF5bWVudERhdGE6e25vbmNlOkpTT04uc3RyaW5naWZ5KHQuZGF0YSl9fTtuKGUpfSxzaXplOlwiMDVcIixvbkVycm9yOmZ1bmN0aW9uKHQpe3JldHVybiByKHQpfX0pLm1vdW50KFwiYm9keVwiKSxyKG5ldyB4ZSl9KSl9LHQucHJvdG90eXBlLl9nZXRBZHllbkNsaWVudD1mdW5jdGlvbigpe2lmKCF0aGlzLl9hZHllbkNsaWVudCl0aHJvdyBuZXcgYnQuYihidC5hLlBheW1lbnROb3RJbml0aWFsaXplZCk7cmV0dXJuIHRoaXMuX2FkeWVuQ2xpZW50fSx0fSgpLFhuPVtcIkFUXCIsXCJDSFwiLFwiREVcIixcIkRLXCIsXCJFU1wiLFwiRklcIixcIkdCXCIsXCJOTFwiLFwiTk9cIixcIk5aXCIsXCJTRVwiXSwkbj1bXCJBVVwiXSx0cj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scixpKXt0aGlzLl9zdG9yZT10LHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvcj1lLHRoaXMuX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yPW4sdGhpcy5fcmVtb3RlQ2hlY2tvdXRBY3Rpb25DcmVhdG9yPXIsdGhpcy5fa2xhcm5hU2NyaXB0TG9hZGVyPWl9cmV0dXJuIHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5fa2xhcm5hU2NyaXB0TG9hZGVyLmxvYWQoKS50aGVuKChmdW5jdGlvbih0KXtlLl9rbGFybmFDcmVkaXQ9dH0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBlLl91bnN1YnNjcmliZT1lLl9zdG9yZS5zdWJzY3JpYmUoKGZ1bmN0aW9uKG4pe24ucGF5bWVudFN0cmF0ZWdpZXMuaXNJbml0aWFsaXplZCh0Lm1ldGhvZElkKSYmZS5fbG9hZFdpZGdldCh0KX0pLChmdW5jdGlvbih0KXt2YXIgZT10LmNoZWNrb3V0LmdldENoZWNrb3V0KCk7cmV0dXJuIGUmJmUub3V0c3RhbmRpbmdCYWxhbmNlfSksKGZ1bmN0aW9uKHQpe3ZhciBlPXQuY2hlY2tvdXQuZ2V0Q2hlY2tvdXQoKTtyZXR1cm4gZSYmZS5jb3Vwb25zfSkpLGUuX2xvYWRXaWRnZXQodCl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gZS5fc3RvcmUuZ2V0U3RhdGUoKX0pKX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Vuc3Vic2NyaWJlJiZ0aGlzLl91bnN1YnNjcmliZSgpLFByb21pc2UucmVzb2x2ZSh0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpKX0sdC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7aWYoIXQucGF5bWVudCl0aHJvdyBuZXcgSXQuYSgnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBcInBheWxvYWQucGF5bWVudFwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nKTt2YXIgcj10LnBheW1lbnQsaT0oci5wYXltZW50RGF0YSxPYmplY3QoZC5fX3Jlc3QpKHIsW1wicGF5bWVudERhdGFcIl0pKTtyZXR1cm4gdGhpcy5fYXV0aG9yaXplKCkudGhlbigoZnVuY3Rpb24odCl7dmFyIGU9dC5hdXRob3JpemF0aW9uX3Rva2VuO3JldHVybiBuLl9zdG9yZS5kaXNwYXRjaChuLl9yZW1vdGVDaGVja291dEFjdGlvbkNyZWF0b3IuaW5pdGlhbGl6ZVBheW1lbnQoaS5tZXRob2RJZCx7YXV0aG9yaXphdGlvblRva2VuOmV9KSl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gbi5fc3RvcmUuZGlzcGF0Y2gobi5fb3JkZXJBY3Rpb25DcmVhdG9yLnN1Ym1pdE9yZGVyKE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30sdCkse3BheW1lbnQ6aSx1c2VTdG9yZUNyZWRpdDp0LnVzZVN0b3JlQ3JlZGl0fSksZSkpfSkpfSx0LnByb3RvdHlwZS5maW5hbGl6ZT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlamVjdChuZXcgSnQpfSx0LnByb3RvdHlwZS5fbG9hZFdpZGdldD1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKCF0LmtsYXJuYSl0aHJvdyBuZXcgSXQuYSgnVW5hYmxlIHRvIGxvYWQgd2lkZ2V0IGJlY2F1c2UgXCJvcHRpb25zLmtsYXJuYVwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nKTt2YXIgbj10Lm1ldGhvZElkLHI9dC5rbGFybmEsaT1yLmNvbnRhaW5lcixvPXIub25Mb2FkO3JldHVybiB0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9wYXltZW50TWV0aG9kQWN0aW9uQ3JlYXRvci5sb2FkUGF5bWVudE1ldGhvZChuKSkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyKXt2YXIgYT10LnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2Qobik7aWYoIWEpdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ1BheW1lbnRNZXRob2QpO2lmKCFlLl9rbGFybmFDcmVkaXR8fCFhLmNsaWVudFRva2VuKXRocm93IG5ldyBidC5iKGJ0LmEuUGF5bWVudE5vdEluaXRpYWxpemVkKTtlLl9rbGFybmFDcmVkaXQuaW5pdCh7Y2xpZW50X3Rva2VuOmEuY2xpZW50VG9rZW59KSxlLl9rbGFybmFDcmVkaXQubG9hZCh7Y29udGFpbmVyOml9LChmdW5jdGlvbih0KXtvJiZvKHQpLHIodCl9KSl9KSl9KSl9LHQucHJvdG90eXBlLl9nZXRVcGRhdGVTZXNzaW9uRGF0YT1mdW5jdGlvbih0LGUpe2lmKCFPYmplY3QoQnQuaW5jbHVkZXMpKE9iamVjdChkLl9fc3ByZWFkQXJyYXlzKShYbiwkbiksdC5jb3VudHJ5Q29kZSkpcmV0dXJue307dmFyIG49e2JpbGxpbmdfYWRkcmVzczp0aGlzLl9tYXBUb0tsYXJuYUFkZHJlc3ModCx0LmVtYWlsKX07cmV0dXJuIGUmJihuLnNoaXBwaW5nX2FkZHJlc3M9dGhpcy5fbWFwVG9LbGFybmFBZGRyZXNzKGUsdC5lbWFpbCkpLG59LHQucHJvdG90eXBlLl9uZWVkc1N0YXRlQ29kZT1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KEJ0LmluY2x1ZGVzKSgkbix0KX0sdC5wcm90b3R5cGUuX21hcFRvS2xhcm5hQWRkcmVzcz1mdW5jdGlvbih0LGUpe3ZhciBuPXtzdHJlZXRfYWRkcmVzczp0LmFkZHJlc3MxLGNpdHk6dC5jaXR5LGNvdW50cnk6dC5jb3VudHJ5Q29kZSxnaXZlbl9uYW1lOnQuZmlyc3ROYW1lLGZhbWlseV9uYW1lOnQubGFzdE5hbWUscG9zdGFsX2NvZGU6dC5wb3N0YWxDb2RlLHJlZ2lvbjp0aGlzLl9uZWVkc1N0YXRlQ29kZSh0LmNvdW50cnlDb2RlKT90LnN0YXRlT3JQcm92aW5jZUNvZGU6dC5zdGF0ZU9yUHJvdmluY2UsZW1haWw6ZX07cmV0dXJuIHQuYWRkcmVzczImJihuLnN0cmVldF9hZGRyZXNzMj10LmFkZHJlc3MyKSx0LnBob25lJiYobi5waG9uZT10LnBob25lKSxufSx0LnByb3RvdHlwZS5fYXV0aG9yaXplPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsbil7dmFyIHI9dC5fc3RvcmUuZ2V0U3RhdGUoKS5iaWxsaW5nQWRkcmVzcy5nZXRCaWxsaW5nQWRkcmVzcygpLGk9dC5fc3RvcmUuZ2V0U3RhdGUoKS5zaGlwcGluZ0FkZHJlc3MuZ2V0U2hpcHBpbmdBZGRyZXNzKCk7aWYoIXIpdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ0JpbGxpbmdBZGRyZXNzKTtpZighdC5fa2xhcm5hQ3JlZGl0KXRocm93IG5ldyBidC5iKGJ0LmEuUGF5bWVudE5vdEluaXRpYWxpemVkKTt2YXIgbz10Ll9nZXRVcGRhdGVTZXNzaW9uRGF0YShyLGkpO3QuX2tsYXJuYUNyZWRpdC5hdXRob3JpemUobywoZnVuY3Rpb24odCl7cmV0dXJuIHQuYXBwcm92ZWQ/ZSh0KTp0LnNob3dfZm9ybT9uKG5ldyB4ZSk6dm9pZCBuKG5ldyBXZS5hKX0pKX0pKX0sdH0oKSxlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fc2NyaXB0TG9hZGVyPXR9cmV0dXJuIHQucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2NyaXB0TG9hZGVyLmxvYWRTY3JpcHQoXCIvL2NyZWRpdC5rbGFybmFjZG4ubmV0L2xpYi92MS9hcGkuanNcIikudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LktsYXJuYS5DcmVkaXR9KSl9LHR9KCksbnI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIsaSl7dGhpcy5fc3RvcmU9dCx0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3I9ZSx0aGlzLl9wYXltZW50TWV0aG9kQWN0aW9uQ3JlYXRvcj1uLHRoaXMuX3JlbW90ZUNoZWNrb3V0QWN0aW9uQ3JlYXRvcj1yLHRoaXMuX2tsYXJuYXYyU2NyaXB0TG9hZGVyPWl9cmV0dXJuIHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5fa2xhcm5hdjJTY3JpcHRMb2FkZXIubG9hZCgpLnRoZW4oKGZ1bmN0aW9uKHQpe2UuX2tsYXJuYVBheW1lbnRzPXR9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gZS5fdW5zdWJzY3JpYmU9ZS5fc3RvcmUuc3Vic2NyaWJlKChmdW5jdGlvbihuKXtuLnBheW1lbnRTdHJhdGVnaWVzLmlzSW5pdGlhbGl6ZWQodC5tZXRob2RJZCkmJmUuX2xvYWRQYXltZW50c1dpZGdldCh0KX0pLChmdW5jdGlvbih0KXt2YXIgZT10LmNoZWNrb3V0LmdldENoZWNrb3V0KCk7cmV0dXJuIGUmJmUub3V0c3RhbmRpbmdCYWxhbmNlfSksKGZ1bmN0aW9uKHQpe3ZhciBlPXQuY2hlY2tvdXQuZ2V0Q2hlY2tvdXQoKTtyZXR1cm4gZSYmZS5jb3Vwb25zfSkpLGUuX2xvYWRQYXltZW50c1dpZGdldCh0KX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBlLl9zdG9yZS5nZXRTdGF0ZSgpfSkpfSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdW5zdWJzY3JpYmUmJnRoaXMuX3Vuc3Vic2NyaWJlKCksUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3N0b3JlLmdldFN0YXRlKCkpfSx0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztpZighdC5wYXltZW50KXRocm93IG5ldyBJdC5hKCdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIFwicGF5bG9hZC5wYXltZW50XCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicpO3ZhciByPXQucGF5bWVudCxpPShyLnBheW1lbnREYXRhLE9iamVjdChkLl9fcmVzdCkocixbXCJwYXltZW50RGF0YVwiXSkpLG89aS5nYXRld2F5SWQ7aWYoIW8pdGhyb3cgbmV3IEl0LmEoJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgXCJwYXlsb2FkLnBheW1lbnQuZ2F0ZXdheUlkXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicpO3JldHVybiB0aGlzLl9hdXRob3JpemUoaS5tZXRob2RJZCkudGhlbigoZnVuY3Rpb24odCl7dmFyIGU9dC5hdXRob3JpemF0aW9uX3Rva2VuO3JldHVybiBuLl9zdG9yZS5kaXNwYXRjaChuLl9yZW1vdGVDaGVja291dEFjdGlvbkNyZWF0b3IuaW5pdGlhbGl6ZVBheW1lbnQobyx7YXV0aG9yaXphdGlvblRva2VuOmV9KSl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gbi5fc3RvcmUuZGlzcGF0Y2gobi5fb3JkZXJBY3Rpb25DcmVhdG9yLnN1Ym1pdE9yZGVyKE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30sdCkse3BheW1lbnQ6aSx1c2VTdG9yZUNyZWRpdDp0LnVzZVN0b3JlQ3JlZGl0fSksZSkpfSkpfSx0LnByb3RvdHlwZS5maW5hbGl6ZT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlamVjdChuZXcgSnQpfSx0LnByb3RvdHlwZS5fbG9hZFBheW1lbnRzV2lkZ2V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYoIXQua2xhcm5hdjIpdGhyb3cgbmV3IEl0LmEoJ1VuYWJsZSB0byBsb2FkIHdpZGdldCBiZWNhdXNlIFwib3B0aW9ucy5rbGFybmF2MlwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nKTt2YXIgbj10Lm1ldGhvZElkLHI9dC5nYXRld2F5SWQsaT10LmtsYXJuYXYyLG89aS5jb250YWluZXIsYT1pLm9uTG9hZCxzPXRoaXMuX3N0b3JlLmdldFN0YXRlKCk7aWYoIXIpdGhyb3cgbmV3IEl0LmEoJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgXCJwYXlsb2FkLnBheW1lbnQuZ2F0ZXdheUlkXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicpO3JldHVybiB0aGlzLl91cGRhdGVPcmRlcihyKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCl7dmFyIHI9cy5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyhuKTtpZighZS5fa2xhcm5hUGF5bWVudHN8fCFyLmNsaWVudFRva2VuKXRocm93IG5ldyBidC5iKGJ0LmEuUGF5bWVudE5vdEluaXRpYWxpemVkKTtlLl9rbGFybmFQYXltZW50cy5pbml0KHtjbGllbnRfdG9rZW46ci5jbGllbnRUb2tlbn0pLGUuX2tsYXJuYVBheW1lbnRzLmxvYWQoe2NvbnRhaW5lcjpvLHBheW1lbnRfbWV0aG9kX2NhdGVnb3J5OnIuaWR9LChmdW5jdGlvbihlKXthJiZhKGUpLHQoZSl9KSl9KSl9KSl9LHQucHJvdG90eXBlLl9nZXRVcGRhdGVTZXNzaW9uRGF0YT1mdW5jdGlvbih0LGUpe2lmKCFPYmplY3QoQnQuaW5jbHVkZXMpKE9iamVjdChkLl9fc3ByZWFkQXJyYXlzKShYbiwkbiksdC5jb3VudHJ5Q29kZSkpcmV0dXJue307dmFyIG49e2JpbGxpbmdfYWRkcmVzczp0aGlzLl9tYXBUb0tsYXJuYUFkZHJlc3ModCx0LmVtYWlsKX07cmV0dXJuIGUmJihuLnNoaXBwaW5nX2FkZHJlc3M9dGhpcy5fbWFwVG9LbGFybmFBZGRyZXNzKGUsdC5lbWFpbCkpLG59LHQucHJvdG90eXBlLl9uZWVkc1N0YXRlQ29kZT1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KEJ0LmluY2x1ZGVzKSgkbix0KX0sdC5wcm90b3R5cGUuX21hcFRvS2xhcm5hQWRkcmVzcz1mdW5jdGlvbih0LGUpe3ZhciBuPXtzdHJlZXRfYWRkcmVzczp0LmFkZHJlc3MxLGNpdHk6dC5jaXR5LGNvdW50cnk6dC5jb3VudHJ5Q29kZSxnaXZlbl9uYW1lOnQuZmlyc3ROYW1lLGZhbWlseV9uYW1lOnQubGFzdE5hbWUscG9zdGFsX2NvZGU6dC5wb3N0YWxDb2RlLHJlZ2lvbjp0aGlzLl9uZWVkc1N0YXRlQ29kZSh0LmNvdW50cnlDb2RlKT90LnN0YXRlT3JQcm92aW5jZUNvZGU6dC5zdGF0ZU9yUHJvdmluY2UsZW1haWw6ZX07cmV0dXJuIHQuYWRkcmVzczImJihuLnN0cmVldF9hZGRyZXNzMj10LmFkZHJlc3MyKSx0LnBob25lJiYobi5waG9uZT10LnBob25lKSxufSx0LnByb3RvdHlwZS5fdXBkYXRlT3JkZXI9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24oZSl7c3dpdGNoKGUubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLl9wYXltZW50TWV0aG9kQWN0aW9uQ3JlYXRvci5sb2FkUGF5bWVudE1ldGhvZCh0KS50b1Byb21pc2UoKV07Y2FzZSAxOnJldHVybiBlLnNlbnQoKSxbMl19fSkpfSkpfSx0LnByb3RvdHlwZS5fYXV0aG9yaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe3ZhciBpPWUuX3N0b3JlLmdldFN0YXRlKCkuYmlsbGluZ0FkZHJlc3MuZ2V0QmlsbGluZ0FkZHJlc3MoKSxvPWUuX3N0b3JlLmdldFN0YXRlKCkuc2hpcHBpbmdBZGRyZXNzLmdldFNoaXBwaW5nQWRkcmVzcygpO2lmKCFpKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdCaWxsaW5nQWRkcmVzcyk7dmFyIGE9ZS5fZ2V0VXBkYXRlU2Vzc2lvbkRhdGEoaSxvKTtpZighZS5fa2xhcm5hUGF5bWVudHMpdGhyb3cgbmV3IGJ0LmIoYnQuYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO2UuX2tsYXJuYVBheW1lbnRzLmF1dGhvcml6ZSh7cGF5bWVudF9tZXRob2RfY2F0ZWdvcnk6dH0sYSwoZnVuY3Rpb24odCl7cmV0dXJuIHQuYXBwcm92ZWQ/bih0KTp0LnNob3dfZm9ybT9yKG5ldyB4ZSk6dm9pZCByKG5ldyBXZS5hKX0pKX0pKX0sdH0oKSxycj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fc2NyaXB0TG9hZGVyPXR9cmV0dXJuIHQucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2NyaXB0TG9hZGVyLmxvYWRTY3JpcHQoXCJodHRwczovL3gua2xhcm5hY2RuLm5ldC9rcC9saWIvdjEvYXBpLmpzXCIpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5LbGFybmEuUGF5bWVudHN9KSl9LHR9KCksaXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fc3RvcmU9dCx0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3I9ZX1yZXR1cm4gdC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3Iuc3VibWl0T3JkZXIodCxlKSl9LHQucHJvdG90eXBlLmZpbmFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBKdCl9LHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3N0b3JlLmdldFN0YXRlKCkpfSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3N0b3JlLmdldFN0YXRlKCkpfSx0fSgpLG9yPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyKXt0aGlzLl9zdG9yZT10LHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvcj1lLHRoaXMuX3BheW1lbnRBY3Rpb25DcmVhdG9yPW4sdGhpcy5fbWFzdGVycGFzc1NjcmlwdExvYWRlcj1yfXJldHVybiB0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10Lm1ldGhvZElkO2lmKHRoaXMuX3BheW1lbnRNZXRob2Q9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKS5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kKG4pLCF0aGlzLl9wYXltZW50TWV0aG9kKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdQYXltZW50TWV0aG9kKTtyZXR1cm4gdGhpcy5fbWFzdGVycGFzc1NjcmlwdExvYWRlci5sb2FkKHRoaXMuX3BheW1lbnRNZXRob2QuY29uZmlnLnRlc3RNb2RlKS50aGVuKChmdW5jdGlvbihuKXtpZihlLl9tYXN0ZXJwYXNzQ2xpZW50PW4sIXQubWFzdGVycGFzcyl0aHJvdyBuZXcgSXQuYSgnVW5hYmxlIHRvIGluaXRpYWxpemUgcGF5bWVudCBiZWNhdXNlIFwib3B0aW9ucy5tYXN0ZXJwYXNzXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicpO3ZhciByPXQubWFzdGVycGFzcy53YWxsZXRCdXR0b24mJmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHQubWFzdGVycGFzcy53YWxsZXRCdXR0b24pO3JldHVybiByJiYoZS5fd2FsbGV0QnV0dG9uPXIsZS5fd2FsbGV0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGUuX2hhbmRsZVdhbGxldEJ1dHRvbkNsaWNrKSksZS5fc3RvcmUuZ2V0U3RhdGUoKX0pKX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BheW1lbnRNZXRob2Q9dm9pZCAwLHRoaXMuX3dhbGxldEJ1dHRvbiYmdGhpcy5fd2FsbGV0QnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMuX2hhbmRsZVdhbGxldEJ1dHRvbkNsaWNrKSx0aGlzLl93YWxsZXRCdXR0b249dm9pZCAwLHRoaXMuX21hc3RlcnBhc3NDbGllbnQ9dm9pZCAwLFByb21pc2UucmVzb2x2ZSh0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpKX0sdC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj10LnBheW1lbnQsaT17dXNlU3RvcmVDcmVkaXQ6dC51c2VTdG9yZUNyZWRpdH07aWYoIXIpdGhyb3cgbmV3IEl0LmEoJ1VuYWJsZSB0byBzdWJtaXQgcGF5bWVudCBiZWNhdXNlIFwicGF5bG9hZC5wYXltZW50XCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicpO2lmKCF0aGlzLl9wYXltZW50TWV0aG9kfHwhdGhpcy5fcGF5bWVudE1ldGhvZC5pbml0aWFsaXphdGlvbkRhdGF8fCF0aGlzLl9wYXltZW50TWV0aG9kLmluaXRpYWxpemF0aW9uRGF0YS5nYXRld2F5KXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdQYXltZW50TWV0aG9kKTt2YXIgbz10aGlzLl9wYXltZW50TWV0aG9kLmluaXRpYWxpemF0aW9uRGF0YS5wYXltZW50RGF0YTtpZighbyl0aHJvdyBuZXcgSXQuYSgnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBcInBheW1lbnRNZXRob2QuaW5pdGlhbGl6YXRpb25EYXRhLnBheW1lbnREYXRhXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicpO3JldHVybiB0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3Iuc3VibWl0T3JkZXIoaSxlKSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gbi5fc3RvcmUuZGlzcGF0Y2gobi5fcGF5bWVudEFjdGlvbkNyZWF0b3Iuc3VibWl0UGF5bWVudChPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LHIpLHtwYXltZW50RGF0YTpvfSkpKX0pKX0sdC5wcm90b3R5cGUuZmluYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEp0KX0sdC5wcm90b3R5cGUuX2NyZWF0ZU1hc3RlcnBhc3NQYXlsb2FkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSxlPXQuY2hlY2tvdXQuZ2V0Q2hlY2tvdXQoKSxuPXQuY29uZmlnLmdldFN0b3JlQ29uZmlnKCk7aWYoIWUpdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ0NoZWNrb3V0KTtpZighbil0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nQ2hlY2tvdXRDb25maWcpO2lmKCF0aGlzLl9wYXltZW50TWV0aG9kfHwhdGhpcy5fcGF5bWVudE1ldGhvZC5pbml0aWFsaXphdGlvbkRhdGEpdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ1BheW1lbnRNZXRob2QpO3JldHVybntjaGVja291dElkOnRoaXMuX3BheW1lbnRNZXRob2QuaW5pdGlhbGl6YXRpb25EYXRhLmNoZWNrb3V0SWQsYWxsb3dlZENhcmRUeXBlczp0aGlzLl9wYXltZW50TWV0aG9kLmluaXRpYWxpemF0aW9uRGF0YS5hbGxvd2VkQ2FyZFR5cGVzLGFtb3VudDplLnN1YnRvdGFsLnRvRml4ZWQoMiksY3VycmVuY3k6bi5jdXJyZW5jeS5jb2RlLGNhcnRJZDplLmNhcnQuaWQsc3VwcHJlc3NTaGlwcGluZ0FkZHJlc3M6ITEsY2FsbGJhY2tVcmw6T2JqZWN0KEx0LmEpKFwiY2hlY2tvdXRcIil9fSx0LnByb3RvdHlwZS5faGFuZGxlV2FsbGV0QnV0dG9uQ2xpY2s9ZnVuY3Rpb24odCl7aWYodC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX21hc3RlcnBhc3NDbGllbnQpe3ZhciBlPXRoaXMuX2NyZWF0ZU1hc3RlcnBhc3NQYXlsb2FkKCk7dGhpcy5fbWFzdGVycGFzc0NsaWVudC5jaGVja291dChlKX19LE9iamVjdChkLl9fZGVjb3JhdGUpKFtEdC5hXSx0LnByb3RvdHlwZSxcIl9oYW5kbGVXYWxsZXRCdXR0b25DbGlja1wiLG51bGwpLHR9KCksYXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fc3RvcmU9dCx0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3I9ZX1yZXR1cm4gdC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3Iuc3VibWl0T3JkZXIoT2JqZWN0KEJ0Lm9taXQpKHQsXCJwYXltZW50XCIpLGUpKX0sdC5wcm90b3R5cGUuZmluYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEp0KX0sdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSl9LHQucHJvdG90eXBlLmRlaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSl9LHR9KCksc3I9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fc3RvcmU9dCx0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3I9ZX1yZXR1cm4gdC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvci5zdWJtaXRPcmRlcihPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LHQpLHtwYXltZW50OnQucGF5bWVudD97bWV0aG9kSWQ6dC5wYXltZW50Lm1ldGhvZElkfTp2b2lkIDB9KSxlKTtyZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2gobil9LHQucHJvdG90eXBlLmZpbmFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBKdCl9LHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3N0b3JlLmdldFN0YXRlKCkpfSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3N0b3JlLmdldFN0YXRlKCkpfSx0fSgpLGNyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dGhpcy5fc3RvcmU9dCx0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3I9ZSx0aGlzLl9wYXltZW50QWN0aW9uQ3JlYXRvcj1ufXJldHVybiB0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXQucGF5bWVudCxpPU9iamVjdChkLl9fcmVzdCkodCxbXCJwYXltZW50XCJdKSxvPXRoaXMuX3Nob3VsZFN1Ym1pdEZ1bGxQYXlsb2FkKHIpP3Q6aSxhPXImJnIucGF5bWVudERhdGEscz1hJiZhLmluc3RydW1lbnRJZHx8dm9pZCAwLGM9YSYmYS5zaG91bGRTYXZlSW5zdHJ1bWVudHx8dm9pZCAwLHU9YSYmYS5zaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50fHx2b2lkIDA7aWYoIXIpdGhyb3cgbmV3IFVlKFtcInBheW1lbnRcIl0pO3ZhciBwPXIubWV0aG9kSWQsaD1yLmdhdGV3YXlJZDtyZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yLnN1Ym1pdE9yZGVyKG8sZSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIG4uX3N0b3JlLmRpc3BhdGNoKG4uX3BheW1lbnRBY3Rpb25DcmVhdG9yLmluaXRpYWxpemVPZmZzaXRlUGF5bWVudCh7bWV0aG9kSWQ6cCxnYXRld2F5SWQ6aCxpbnN0cnVtZW50SWQ6cyxzaG91bGRTYXZlSW5zdHJ1bWVudDpjLHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQ6dX0pKX0pKX0sdC5wcm90b3R5cGUuZmluYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSxuPWUub3JkZXIuZ2V0T3JkZXIoKSxyPWUucGF5bWVudC5nZXRQYXltZW50U3RhdHVzKCk7cmV0dXJuIW58fHIhPT1tbi5hJiZyIT09bW4uYj9Qcm9taXNlLnJlamVjdChuZXcgSnQpOnRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvci5maW5hbGl6ZU9yZGVyKG4ub3JkZXJJZCx0KSl9LHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3N0b3JlLmdldFN0YXRlKCkpfSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3N0b3JlLmdldFN0YXRlKCkpfSx0LnByb3RvdHlwZS5fc2hvdWxkU3VibWl0RnVsbFBheWxvYWQ9ZnVuY3Rpb24odCl7cmV0dXJuISF0JiYoXCJhZHllblwiPT09dC5nYXRld2F5SWR8fFwiYmFyY2xheWNhcmRcIj09PXQuZ2F0ZXdheUlkfHxcImNjYXZlbnVlbWFyc1wiPT09dC5tZXRob2RJZCl9LHR9KCksdXI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixpLG8pe3ZhciBhPXQuY2FsbCh0aGlzLGUsbixyLGkpfHx0aGlzO3JldHVybiBhLl90aHJlZURTZWN1cmVGbG93PW8sYX1yZXR1cm4gT2JqZWN0KGQuX19leHRlbmRzKShlLHQpLGUucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBuLHI7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihpKXtzd2l0Y2goaS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHQucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzLGUpXTtjYXNlIDE6cmV0dXJuIGkuc2VudCgpLG49dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKS5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kT3JUaHJvdywocj1uKGUubWV0aG9kSWQpKS5jb25maWcuaXMzZHNFbmFibGVkP1s0LHRoaXMuX3RocmVlRFNlY3VyZUZsb3cucHJlcGFyZShyKV06WzMsM107Y2FzZSAyOmkuc2VudCgpLGkubGFiZWw9MztjYXNlIDM6cmV0dXJuWzIsdGhpcy5fc3RvcmUuZ2V0U3RhdGUoKV19fSkpfSkpfSxlLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKGUsbil7dmFyIHI9ZS5wYXltZW50LGk9KHZvaWQgMD09PXI/e306cikubWV0aG9kSWQsbz12b2lkIDA9PT1pP1wiXCI6aSxhPXRoaXMuX3N0b3JlLmdldFN0YXRlKCkscz1hLnBheW1lbnQuZ2V0UGF5bWVudFN0YXR1cyxjPWEucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3c7cmV0dXJuIHMoKT09PW1uLmE/dGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yLnN1Ym1pdE9yZGVyKE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30sZSkse3BheW1lbnQ6e21ldGhvZElkOm99fSksbikpOmMobykuY29uZmlnLmlzM2RzRW5hYmxlZD90aGlzLl90aHJlZURTZWN1cmVGbG93LnN0YXJ0KHQucHJvdG90eXBlLmV4ZWN1dGUuYmluZCh0aGlzKSxlLG4sdGhpcy5faG9zdGVkRm9ybSk6dC5wcm90b3R5cGUuZXhlY3V0ZS5jYWxsKHRoaXMsZSxuKX0sZX0oaG4pLGRyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyKXt2b2lkIDA9PT1yJiYocj13aW5kb3cpLHRoaXMuX3N0b3JlPXQsdGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yPWUsdGhpcy5fc2NyaXB0TG9hZGVyPW4sdGhpcy5fd2luZG93PXIsdGhpcy5fdXNlUmVkaXJlY3RGbG93PSExfXJldHVybiB0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpO3JldHVybiB0aGlzLl9wYXltZW50TWV0aG9kPW4ucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZCh0Lm1ldGhvZElkKSx0aGlzLl91c2VSZWRpcmVjdEZsb3c9ITA9PT0odC5wYXlwYWxleHByZXNzJiZ0LnBheXBhbGV4cHJlc3MudXNlUmVkaXJlY3RGbG93KSx0aGlzLl9pc0luQ29udGV4dEVuYWJsZWQoKT90aGlzLl9zY3JpcHRMb2FkZXIubG9hZFBheXBhbCgpLnRoZW4oKGZ1bmN0aW9uKHQpe2lmKGUuX3BheXBhbFNkaz10LCFlLl9wYXltZW50TWV0aG9kfHwhZS5fcGF5bWVudE1ldGhvZC5jb25maWcubWVyY2hhbnRJZCl0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7ZS5fcGF5cGFsU2RrLmNoZWNrb3V0LnNldHVwKGUuX3BheW1lbnRNZXRob2QuY29uZmlnLm1lcmNoYW50SWQse2J1dHRvbjpcInBheXBhbC1idXR0b25cIixlbnZpcm9ubWVudDplLl9wYXltZW50TWV0aG9kLmNvbmZpZy50ZXN0TW9kZT9cInNhbmRib3hcIjpcInByb2R1Y3Rpb25cIn0pfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGUuX3N0b3JlLmdldFN0YXRlKCl9KSk6UHJvbWlzZS5yZXNvbHZlKHRoaXMuX3N0b3JlLmdldFN0YXRlKCkpfSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNJbkNvbnRleHRFbmFibGVkKCkmJnRoaXMuX3BheXBhbFNkayYmKHRoaXMuX3BheXBhbFNkay5jaGVja291dC5jbG9zZUZsb3coKSx0aGlzLl9wYXlwYWxTZGs9dm9pZCAwKSxQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSl9LHQucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9dGhpcy5fcGF5cGFsU2RrO2lmKHRoaXMuX2lzQWNrbm93bGVkZ2VkT3JGaW5hbGl6ZWQoKSlyZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yLnN1Ym1pdE9yZGVyKHQsZSkpO2lmKCF0aGlzLl9pc0luQ29udGV4dEVuYWJsZWQoKXx8dGhpcy5fdXNlUmVkaXJlY3RGbG93KXJldHVybiB0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3Iuc3VibWl0T3JkZXIodCxlKSkudGhlbigoZnVuY3Rpb24odCl7dmFyIGU9dC5wYXltZW50LmdldFBheW1lbnRSZWRpcmVjdFVybCgpO3JldHVybiBlJiYobi5fd2luZG93LnRvcC5sb2NhdGlvbi5ocmVmPWUpLG5ldyBQcm9taXNlKChmdW5jdGlvbigpe30pKX0pKTtpZighcil0aHJvdyBuZXcgYnQuYihidC5hLlBheW1lbnROb3RJbml0aWFsaXplZCk7cmV0dXJuIHIuY2hlY2tvdXQuaW5pdFhPKCksdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yLnN1Ym1pdE9yZGVyKHQsZSkpLnRoZW4oKGZ1bmN0aW9uKHQpe3ZhciBlPXQucGF5bWVudC5nZXRQYXltZW50UmVkaXJlY3RVcmwoKTtyZXR1cm4gZSYmci5jaGVja291dC5zdGFydEZsb3coZSksbmV3IFByb21pc2UoKGZ1bmN0aW9uKCl7fSkpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtyZXR1cm4gci5jaGVja291dC5jbG9zZUZsb3coKSxQcm9taXNlLnJlamVjdCh0KX0pKX0sdC5wcm90b3R5cGUuZmluYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKS5vcmRlci5nZXRPcmRlcigpO3JldHVybiBlJiZ0aGlzLl9pc0Fja25vd2xlZGdlZE9yRmluYWxpemVkKCk/dGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yLmZpbmFsaXplT3JkZXIoZS5vcmRlcklkLHQpKTpQcm9taXNlLnJlamVjdChuZXcgSnQpfSx0LnByb3RvdHlwZS5faXNBY2tub3dsZWRnZWRPckZpbmFsaXplZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3N0b3JlLmdldFN0YXRlKCk7cmV0dXJuIHQucGF5bWVudC5nZXRQYXltZW50U3RhdHVzKCk9PT1tbi5hfHx0LnBheW1lbnQuZ2V0UGF5bWVudFN0YXR1cygpPT09bW4uYn0sdC5wcm90b3R5cGUuX2lzSW5Db250ZXh0RW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiEoIXRoaXMuX3BheW1lbnRNZXRob2R8fCF0aGlzLl9wYXltZW50TWV0aG9kLmNvbmZpZy5tZXJjaGFudElkKX0sdH0oKSxwcj1uKDE5MCksaHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIsaSl7dGhpcy5fc3RvcmU9dCx0aGlzLl9wYXltZW50TWV0aG9kQWN0aW9uQ3JlYXRvcj1lLHRoaXMuX3BheXBhbENvbW1lcmNlSG9zdGVkRm9ybT1uLHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvcj1yLHRoaXMuX3BheW1lbnRBY3Rpb25DcmVhdG9yPWl9cmV0dXJuIHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU9dC5tZXRob2RJZCxuPXQucGF5cGFsY29tbWVyY2U7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LHIsaSxvLGEscyxjLHUscCxoO3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24oZCl7c3dpdGNoKGQubGFiZWwpe2Nhc2UgMDppZighbnx8IXRoaXMuX2lzUGF5cGFsQ29tbWVyY2VPcHRpb25zUGF5bWVudHMobikpdGhyb3cgbmV3IEl0LmEoJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgXCJvcHRpb25zLnBheXBhbGNvbW1lcmNlLmZvcm1cIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuJyk7cmV0dXJuWzQsdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3IubG9hZFBheW1lbnRNZXRob2QoZSkpXTtjYXNlIDE6aWYodD1kLnNlbnQoKSxyPXQucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3csaT10LmNhcnQuZ2V0Q2FydE9yVGhyb3csbz1yKGUpLGE9by5jbGllbnRUb2tlbixzPW8uaW5pdGlhbGl6YXRpb25EYXRhLCFhKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdQYXltZW50TWV0aG9kKTtyZXR1cm4gYz1pKCksdT1jLmlkLHA9Yy5jdXJyZW5jeS5jb2RlLGg9dGhpcy5fZ2V0T3B0aW9uc1NjcmlwdChzLHAsYSksWzQsdGhpcy5fcGF5cGFsQ29tbWVyY2VIb3N0ZWRGb3JtLmluaXRpYWxpemUobi5mb3JtLHUsaCldO2Nhc2UgMjpyZXR1cm4gZC5zZW50KCksWzIsdGhpcy5fc3RvcmUuZ2V0U3RhdGUoKV19fSkpfSkpfSx0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBuLHIsaSxvLGE7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihzKXtzd2l0Y2gocy5sYWJlbCl7Y2FzZSAwOmlmKG49dC5wYXltZW50LHI9T2JqZWN0KGQuX19yZXN0KSh0LFtcInBheW1lbnRcIl0pLCFuKXRocm93IG5ldyBVZShbXCJwYXltZW50XCJdKTtyZXR1cm4gdGhpcy5fcGF5cGFsQ29tbWVyY2VIb3N0ZWRGb3JtLnZhbGlkYXRlKCksWzQsdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yLnN1Ym1pdE9yZGVyKHIsZSkpXTtjYXNlIDE6cmV0dXJuIGk9cy5zZW50KCkucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3csWzQsdGhpcy5fcGF5cGFsQ29tbWVyY2VIb3N0ZWRGb3JtLnN1Ym1pdChpKG4ubWV0aG9kSWQpLmNvbmZpZy5pczNkc0VuYWJsZWQpXTtjYXNlIDI6cmV0dXJuIG89cy5zZW50KCkub3JkZXJJZCxhPXtmb3JtYXR0ZWRQYXlsb2FkOnt2YXVsdF9wYXltZW50X2luc3RydW1lbnQ6bnVsbCxzZXRfYXNfZGVmYXVsdF9zdG9yZWRfaW5zdHJ1bWVudDpudWxsLGRldmljZV9pbmZvOm51bGwscGF5cGFsX2FjY291bnQ6e29yZGVyX2lkOm99fX0sWzIsdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcGF5bWVudEFjdGlvbkNyZWF0b3Iuc3VibWl0UGF5bWVudChPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LG4pLHtwYXltZW50RGF0YTphfSkpKV19fSkpfSkpfSx0LnByb3RvdHlwZS5maW5hbGl6ZT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlamVjdChuZXcgSnQpfSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGF5cGFsQ29tbWVyY2VIb3N0ZWRGb3JtLmRlaW5pdGlhbGl6ZSgpLFByb21pc2UucmVzb2x2ZSh0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpKX0sdC5wcm90b3R5cGUuX2lzUGF5cGFsQ29tbWVyY2VPcHRpb25zUGF5bWVudHM9ZnVuY3Rpb24odCl7cmV0dXJuISF0LmZvcm19LHQucHJvdG90eXBlLl9nZXRPcHRpb25zU2NyaXB0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10LmNsaWVudElkLGk9dC5pbnRlbnQ7cmV0dXJue1wiY2xpZW50LWlkXCI6cixcIm1lcmNoYW50LWlkXCI6dC5tZXJjaGFudElkLFwiZGF0YS1jbGllbnQtdG9rZW5cIjpuLGNvbXBvbmVudHM6W1wiaG9zdGVkLWZpZWxkc1wiXSxjb21taXQ6ITAsY3VycmVuY3k6ZSxpbnRlbnQ6aX19LHR9KCksbHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dmFyIG4scj10aGlzO3RoaXMuX29wdGlvbnM9dCx0aGlzLl9zdHlsZXM9ZSx0aGlzLl9oYW5kbGVCbHVyPWZ1bmN0aW9uKCl7dmFyIHQ7ci5fYXBwbHlTdHlsZXMobnVsbD09PSh0PXIuX3N0eWxlcyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZGVmYXVsdCl9LHRoaXMuX2hhbmRsZUZvY3VzPWZ1bmN0aW9uKCl7dmFyIHQ7ci5fYXBwbHlTdHlsZXMobnVsbD09PSh0PXIuX3N0eWxlcyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZm9jdXMpfSx0aGlzLl9pbnB1dD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksdGhpcy5faW5wdXQuc3R5bGUuYmFja2dyb3VuZENvbG9yPVwidHJhbnNwYXJlbnRcIix0aGlzLl9pbnB1dC5zdHlsZS5ib3JkZXI9XCIwXCIsdGhpcy5faW5wdXQuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsdGhpcy5faW5wdXQuc3R5bGUuaGVpZ2h0PVwiMTAwJVwiLHRoaXMuX2lucHV0LnN0eWxlLm1hcmdpbj1cIjBcIix0aGlzLl9pbnB1dC5zdHlsZS5vdXRsaW5lPVwibm9uZVwiLHRoaXMuX2lucHV0LnN0eWxlLnBhZGRpbmc9XCIwXCIsdGhpcy5faW5wdXQuc3R5bGUud2lkdGg9XCIxMDAlXCIsdGhpcy5faW5wdXQucGxhY2Vob2xkZXI9dGhpcy5fb3B0aW9ucy5wbGFjZWhvbGRlcnx8XCJcIix0aGlzLl9pbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLHRoaXMuX2hhbmRsZUJsdXIpLHRoaXMuX2lucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLHRoaXMuX2hhbmRsZUZvY3VzKSx0aGlzLl9hcHBseVN0eWxlcyhudWxsPT09KG49dGhpcy5fc3R5bGVzKXx8dm9pZCAwPT09bj92b2lkIDA6bi5kZWZhdWx0KX1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5wdXQudmFsdWV9LHQucHJvdG90eXBlLmF0dGFjaD1mdW5jdGlvbigpe3ZhciB0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuX29wdGlvbnMuY29udGFpbmVySWQpO2lmKCF0KXRocm93IG5ldyBJdC5hO3QuYXBwZW5kQ2hpbGQodGhpcy5faW5wdXQpfSx0LnByb3RvdHlwZS5kZXRhY2g9ZnVuY3Rpb24oKXt2YXIgdDtudWxsPT09KHQ9dGhpcy5faW5wdXQucGFyZW50Tm9kZSl8fHZvaWQgMD09PXR8fHQucmVtb3ZlQ2hpbGQodGhpcy5faW5wdXQpfSx0LnByb3RvdHlwZS5fYXBwbHlTdHlsZXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0JiZPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihuKXtlLl9pbnB1dC5zdHlsZVtuXT10W25dfHxcIlwifSkpfSx0fSgpOyFmdW5jdGlvbih0KXt0LkNhcmRDb2RlPVwiY2FyZENvZGVcIix0LkNhcmRDb2RlVmVyaWZpY2F0aW9uPVwiY2FyZENvZGVWZXJpZmljYXRpb25cIix0LkNhcmRFeHBpcnk9XCJjYXJkRXhwaXJ5XCIsdC5DYXJkTmFtZT1cImNhcmROYW1lXCIsdC5DYXJkTnVtYmVyPVwiY2FyZE51bWJlclwiLHQuQ2FyZE51bWJlclZlcmlmaWNhdGlvbj1cImNhcmROdW1iZXJWZXJpZmljYXRpb25cIn0oR258fChHbj17fSkpLGZ1bmN0aW9uKHQpe3RbdC5DcmVkaXRDYXJkPTBdPVwiQ3JlZGl0Q2FyZFwiLHRbdC5TdG9yZWRDYXJkVmVyaWZpY2F0aW9uPTFdPVwiU3RvcmVkQ2FyZFZlcmlmaWNhdGlvblwifShWbnx8KFZuPXt9KSk7dmFyIG1yLGZyLF9yPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2YXIgZT10aGlzO3RoaXMuX3BheXBhbENvbW1lcmNlUGF5bWVudFByb2Nlc3Nvcj10LHRoaXMuX2hhbmRsZUJsdXI9ZnVuY3Rpb24odCl7dmFyIG4scjtudWxsPT09KHI9bnVsbD09PShuPWUuX2Zvcm1PcHRpb25zKXx8dm9pZCAwPT09bj92b2lkIDA6bi5vbkJsdXIpfHx2b2lkIDA9PT1yfHxyLmNhbGwobix7ZmllbGRUeXBlOmUuX21hcEZpZWxkVHlwZSh0LmVtaXR0ZWRCeSl9KX0sdGhpcy5faGFuZGxlRm9jdXM9ZnVuY3Rpb24odCl7dmFyIG4scjtudWxsPT09KHI9bnVsbD09PShuPWUuX2Zvcm1PcHRpb25zKXx8dm9pZCAwPT09bj92b2lkIDA6bi5vbkZvY3VzKXx8dm9pZCAwPT09cnx8ci5jYWxsKG4se2ZpZWxkVHlwZTplLl9tYXBGaWVsZFR5cGUodC5lbWl0dGVkQnkpfSl9LHRoaXMuX2hhbmRsZUNhcmRUeXBlQ2hhbmdlPWZ1bmN0aW9uKHQpe3ZhciBuLHIsaTtudWxsPT09KHI9bnVsbD09PShuPWUuX2Zvcm1PcHRpb25zKXx8dm9pZCAwPT09bj92b2lkIDA6bi5vbkNhcmRUeXBlQ2hhbmdlKXx8dm9pZCAwPT09cnx8ci5jYWxsKG4se2NhcmRUeXBlOm51bGw9PT0oaT10LmNhcmRzWzBdKXx8dm9pZCAwPT09aT92b2lkIDA6aS50eXBlfSl9LHRoaXMuX2hhbmRsZUlucHV0U3VibWl0UmVxdWVzdD1mdW5jdGlvbih0KXt2YXIgbixyO251bGw9PT0ocj1udWxsPT09KG49ZS5fZm9ybU9wdGlvbnMpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLm9uRW50ZXIpfHx2b2lkIDA9PT1yfHxyLmNhbGwobix7ZmllbGRUeXBlOmUuX21hcEZpZWxkVHlwZSh0LmVtaXR0ZWRCeSl9KX0sdGhpcy5faGFuZGxlVmFsaWRpdHlDaGFuZ2U9ZnVuY3Rpb24odCl7dmFyIG4scjtudWxsPT09KHI9bnVsbD09PShuPWUuX2Zvcm1PcHRpb25zKXx8dm9pZCAwPT09bj92b2lkIDA6bi5vblZhbGlkYXRlKXx8dm9pZCAwPT09cnx8ci5jYWxsKG4se2lzVmFsaWQ6T2JqZWN0LmtleXModC5maWVsZHMpLmV2ZXJ5KChmdW5jdGlvbihlKXt2YXIgbjtyZXR1cm4gbnVsbD09PShuPXQuZmllbGRzW2VdKXx8dm9pZCAwPT09bj92b2lkIDA6bi5pc1ZhbGlkfSkpLGVycm9yczplLl9tYXBWYWxpZGF0aW9uRXJyb3JzKHQuZmllbGRzKX0pfX1yZXR1cm4gdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciByLGk7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihvKXtzd2l0Y2goby5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuX3BheXBhbENvbW1lcmNlUGF5bWVudFByb2Nlc3Nvci5pbml0aWFsaXplKG4pXTtjYXNlIDE6cmV0dXJuIG8uc2VudCgpLHRoaXMuX2Zvcm1PcHRpb25zPXQsdGhpcy5fdHlwZT10aGlzLl9pc1BheXBhbENvbW1lcmNlRm9ybUZpZWxkc01hcCh0LmZpZWxkcyk/Vm4uQ3JlZGl0Q2FyZDpWbi5TdG9yZWRDYXJkVmVyaWZpY2F0aW9uLHI9e2ZpZWxkczp0aGlzLl9tYXBGaWVsZE9wdGlvbnModC5maWVsZHMpLHN0eWxlczp0LnN0eWxlcyYmdGhpcy5fbWFwU3R5bGVPcHRpb25zKHQuc3R5bGVzKX0saT17Ymx1cjp0aGlzLl9oYW5kbGVCbHVyLGZvY3VzOnRoaXMuX2hhbmRsZUZvY3VzLGNhcmRUeXBlQ2hhbmdlOnRoaXMuX2hhbmRsZUNhcmRUeXBlQ2hhbmdlLHZhbGlkaXR5Q2hhbmdlOnRoaXMuX2hhbmRsZVZhbGlkaXR5Q2hhbmdlLGlucHV0U3VibWl0UmVxdWVzdDp0aGlzLl9oYW5kbGVJbnB1dFN1Ym1pdFJlcXVlc3R9LFs0LHRoaXMuX3BheXBhbENvbW1lcmNlUGF5bWVudFByb2Nlc3Nvci5yZW5kZXJIb3N0ZWRGaWVsZHMoZSxyLGkpXTtjYXNlIDI6cmV0dXJuIG8uc2VudCgpLHRoaXMuX2lzUGF5cGFsQ29tbWVyY2VGb3JtRmllbGRzTWFwKHQuZmllbGRzKSYmKHRoaXMuX2NhcmROYW1lRmllbGQ9bmV3IGxyKHQuZmllbGRzLmNhcmROYW1lLHQuc3R5bGVzKSx0aGlzLl9jYXJkTmFtZUZpZWxkLmF0dGFjaCgpKSxbMl19fSkpfSkpfSx0LnByb3RvdHlwZS5zdWJtaXQ9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBuLHI7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihpKXtzd2l0Y2goaS5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLnZhbGlkYXRlKCksbj17Y2FyZGhvbGRlck5hbWU6bnVsbD09PShlPXRoaXMuX2NhcmROYW1lRmllbGQpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmdldFZhbHVlKCksY29udGluZ2VuY2llczp0P1tcIjNEX1NFQ1VSRVwiXTp2b2lkIDB9LFs0LHRoaXMuX3BheXBhbENvbW1lcmNlUGF5bWVudFByb2Nlc3Nvci5zdWJtaXRIb3N0ZWRGaWVsZHMobildO2Nhc2UgMTppZihyPWkuc2VudCgpLHQmJihcIk5PXCI9PT1yLmxpYWJpbGl0eVNoaWZ0fHxcIlVOS05PV05cIj09PXIubGlhYmlsaXR5U2hpZnQpKXRocm93IG5ldyBBbi5hKFwiRmFpbGVkIGF1dGhlbnRpY2F0aW9uLiBQbGVhc2UgdHJ5IHRvIGF1dGhvcml6ZSBhZ2Fpbi5cIik7cmV0dXJuWzIscl19fSkpfSkpfSx0LnByb3RvdHlwZS52YWxpZGF0ZT1mdW5jdGlvbigpe3ZhciB0LGUsbj10aGlzLl9wYXlwYWxDb21tZXJjZVBheW1lbnRQcm9jZXNzb3IuZ2V0SG9zdGVkRmllbGRzVmFsaWRhdGlvblN0YXRlKCkscj1uLmlzVmFsaWQsaT1uLmZpZWxkcztpZighcil7dmFyIG89dGhpcy5fbWFwVmFsaWRhdGlvbkVycm9ycyhpKTt0aHJvdyBudWxsPT09KGU9bnVsbD09PSh0PXRoaXMuX2Zvcm1PcHRpb25zKXx8dm9pZCAwPT09dD92b2lkIDA6dC5vblZhbGlkYXRlKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHQse2Vycm9yczpvLGlzVmFsaWQ6ITF9KSxuZXcgdm4obyl9fSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemU9ZnVuY3Rpb24oKXt0aGlzLl9wYXlwYWxDb21tZXJjZVBheW1lbnRQcm9jZXNzb3IuZGVpbml0aWFsaXplKCl9LHQucHJvdG90eXBlLl9tYXBGaWVsZE9wdGlvbnM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2lzUGF5cGFsQ29tbWVyY2VGb3JtRmllbGRzTWFwKHQpP09iamVjdChCdC5vbWl0QnkpKHtudW1iZXI6e3NlbGVjdG9yOlwiI1wiK3QuY2FyZE51bWJlci5jb250YWluZXJJZCxwbGFjZWhvbGRlcjp0LmNhcmROdW1iZXIucGxhY2Vob2xkZXJ9LGV4cGlyYXRpb25EYXRlOntzZWxlY3RvcjpcIiNcIit0LmNhcmRFeHBpcnkuY29udGFpbmVySWQscGxhY2Vob2xkZXI6dC5jYXJkRXhwaXJ5LnBsYWNlaG9sZGVyfSxjdnY6dC5jYXJkQ29kZSYme3NlbGVjdG9yOlwiI1wiK3QuY2FyZENvZGUuY29udGFpbmVySWQscGxhY2Vob2xkZXI6dC5jYXJkQ29kZS5wbGFjZWhvbGRlcn19LEJ0LmlzTmlsKTpPYmplY3QoQnQub21pdEJ5KSh7bnVtYmVyOnQuY2FyZE51bWJlclZlcmlmaWNhdGlvbiYme3NlbGVjdG9yOlwiI1wiK3QuY2FyZE51bWJlclZlcmlmaWNhdGlvbi5jb250YWluZXJJZCxwbGFjZWhvbGRlcjp0LmNhcmROdW1iZXJWZXJpZmljYXRpb24ucGxhY2Vob2xkZXJ9LGN2djp0LmNhcmRDb2RlVmVyaWZpY2F0aW9uJiZ7c2VsZWN0b3I6XCIjXCIrdC5jYXJkQ29kZVZlcmlmaWNhdGlvbi5jb250YWluZXJJZCxwbGFjZWhvbGRlcjp0LmNhcmRDb2RlVmVyaWZpY2F0aW9uLnBsYWNlaG9sZGVyfX0sQnQuaXNOaWwpfSx0LnByb3RvdHlwZS5fbWFwU3R5bGVPcHRpb25zPWZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD17fSksT2JqZWN0LmtleXModCkucmVkdWNlKChmdW5jdGlvbihlLG4pe3ZhciByO3JldHVybiB0W25dP09iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30sZSksKChyPXt9KVtPYmplY3QoQnQua2ViYWJDYXNlKShuKV09dFtuXSxyKSk6ZX0pLHt9KX07cmV0dXJue2lucHV0OmUodC5kZWZhdWx0KSxcIi5pbnZhbGlkXCI6ZSh0LmVycm9yKSxcIjpmb2N1c1wiOmUodC5mb2N1cyl9fSx0LnByb3RvdHlwZS5faXNQYXlwYWxDb21tZXJjZUZvcm1GaWVsZHNNYXA9ZnVuY3Rpb24odCl7cmV0dXJuISF0LmNhcmROdW1iZXJ9LHQucHJvdG90eXBlLl9tYXBGaWVsZFR5cGU9ZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2VcIm51bWJlclwiOnJldHVybiB0aGlzLl90eXBlPT09Vm4uU3RvcmVkQ2FyZFZlcmlmaWNhdGlvbj9Hbi5DYXJkTnVtYmVyVmVyaWZpY2F0aW9uOkduLkNhcmROdW1iZXI7Y2FzZVwiZXhwaXJhdGlvbkRhdGVcIjpyZXR1cm4gR24uQ2FyZEV4cGlyeTtjYXNlXCJjdnZcIjpyZXR1cm4gdGhpcy5fdHlwZT09PVZuLlN0b3JlZENhcmRWZXJpZmljYXRpb24/R24uQ2FyZENvZGVWZXJpZmljYXRpb246R24uQ2FyZENvZGU7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIGZpZWxkIHR5cGVcIil9fSx0LnByb3RvdHlwZS5fbWFwVmFsaWRhdGlvbkVycm9ycz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBPYmplY3Qua2V5cyh0KS5yZWR1Y2UoKGZ1bmN0aW9uKG4scil7dmFyIGksbztyZXR1cm4gT2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSxuKSwoKGk9e30pW2UuX21hcEZpZWxkVHlwZShyKV09KG51bGw9PT0obz10W3JdKXx8dm9pZCAwPT09bz92b2lkIDA6by5pc1ZhbGlkKT92b2lkIDA6W2UuX2NyZWF0ZUludmFsaWRFcnJvcihlLl9tYXBGaWVsZFR5cGUocikpXSxpKSl9KSx7fSl9LHQucHJvdG90eXBlLl9jcmVhdGVJbnZhbGlkRXJyb3I9ZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2UgR24uQ2FyZENvZGVWZXJpZmljYXRpb246cmV0dXJue2ZpZWxkVHlwZTp0LG1lc3NhZ2U6XCJJbnZhbGlkIGNhcmQgY29kZVwiLHR5cGU6XCJpbnZhbGlkX2NhcmRfY29kZVwifTtjYXNlIEduLkNhcmROdW1iZXJWZXJpZmljYXRpb246cmV0dXJue2ZpZWxkVHlwZTp0LG1lc3NhZ2U6XCJJbnZhbGlkIGNhcmQgbnVtYmVyXCIsdHlwZTpcImludmFsaWRfY2FyZF9udW1iZXJcIn07Y2FzZSBHbi5DYXJkQ29kZTpyZXR1cm57ZmllbGRUeXBlOnQsbWVzc2FnZTpcIkludmFsaWQgY2FyZCBjb2RlXCIsdHlwZTpcImludmFsaWRfY2FyZF9jb2RlXCJ9O2Nhc2UgR24uQ2FyZEV4cGlyeTpyZXR1cm57ZmllbGRUeXBlOnQsbWVzc2FnZTpcIkludmFsaWQgY2FyZCBleHBpcnlcIix0eXBlOlwiaW52YWxpZF9jYXJkX2V4cGlyeVwifTtjYXNlIEduLkNhcmROdW1iZXI6cmV0dXJue2ZpZWxkVHlwZTp0LG1lc3NhZ2U6XCJJbnZhbGlkIGNhcmQgbnVtYmVyXCIsdHlwZTpcImludmFsaWRfY2FyZF9udW1iZXJcIn07ZGVmYXVsdDpyZXR1cm57ZmllbGRUeXBlOnQsbWVzc2FnZTpcIkludmFsaWQgZmllbGRcIix0eXBlOlwiaW52YWxpZFwifX19LHR9KCkseXI9bigxOTYpLGdyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyLGkpe3RoaXMuX3N0b3JlPXQsdGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yPWUsdGhpcy5fcGF5bWVudEFjdGlvbkNyZWF0b3I9bix0aGlzLl9wYXlwYWxDb21tZXJjZVBheW1lbnRQcm9jZXNzb3I9cix0aGlzLl9wYXlwYWxDb21tZXJjZUZ1bmRpbmdLZXlSZXNvbHZlcj1pfXJldHVybiB0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2F0ZXdheUlkLG49dC5tZXRob2RJZCxyPXQucGF5cGFsY29tbWVyY2U7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LGksbyxhLHMsYyx1LHAsaCxsLG0sZixfLHksZyxiLHY9dGhpcztyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKEMpe3N3aXRjaChDLmxhYmVsKXtjYXNlIDA6aWYodD10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLGk9dC5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyxvPXQuY2FydC5nZXRDYXJ0T3JUaHJvdyxhPWkobixlKS5pbml0aWFsaXphdGlvbkRhdGEsYz0ocz1udWxsIT1hP2E6e30pLm9yZGVySWQsdT1zLmJ1dHRvblN0eWxlLGMpcmV0dXJuIHRoaXMuX29yZGVySWQ9YyxbMix0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpXTtpZighcil0aHJvdyBuZXcgSXQuYSgnVW5hYmxlIHRvIGluaXRpYWxpemUgcGF5bWVudCBiZWNhdXNlIFwib3B0aW9ucy5wYXlwYWxjb21tZXJjZVwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nKTtpZighdGhpcy5faXNQYXlwYWxDb21tZXJjZU9wdGlvbnNQYXltZW50cyhyKSl0aHJvdyBuZXcgSXQuYSgnVW5hYmxlIHRvIGluaXRpYWxpemUgcGF5bWVudCBiZWNhdXNlIFwib3B0aW9ucy5wYXlwYWxjb21tZXJjZVwiIGFyZ3VtZW50IHNob3VsZCBjb250YWluIFwiY29udGFpbmVyXCIsIFwib25SZW5kZXJCdXR0b25cIiwgXCJzdWJtaXRGb3JtXCIuJyk7cmV0dXJuIHA9ci5jb250YWluZXIsaD1yLm9uUmVuZGVyQnV0dG9uLGw9ci5zdWJtaXRGb3JtLG09ci5vblZhbGlkYXRlLGY9bygpLF89Zi5pZCx5PWYuY3VycmVuY3kuY29kZSxnPXRoaXMuX2dldE9wdGlvbnNTY3JpcHQoYSx5KSxiPXtzdHlsZTp1LG9uQXBwcm92ZTpmdW5jdGlvbih0KXtyZXR1cm4gdi5fdG9rZW5pemVQYXltZW50KHQsbCl9LG9uQ2xpY2s6ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh2LHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbih0KXtyZXR1cm5bMixtKGUucmVzb2x2ZSxlLnJlamVjdCldfSkpfSkpfX0sWzQsdGhpcy5fcGF5cGFsQ29tbWVyY2VQYXltZW50UHJvY2Vzc29yLmluaXRpYWxpemUoZyldO2Nhc2UgMTpyZXR1cm4gQy5zZW50KCksdGhpcy5fcGF5cGFsQ29tbWVyY2VQYXltZW50UHJvY2Vzc29yLnJlbmRlckJ1dHRvbnMoXyxwLGIse29uUmVuZGVyQnV0dG9uOmgsZnVuZGluZ0tleTp0aGlzLl9wYXlwYWxDb21tZXJjZUZ1bmRpbmdLZXlSZXNvbHZlci5yZXNvbHZlKG4sZSkscGFyYW1zRm9yUHJvdmlkZXI6e2lzQ2hlY2tvdXQ6ITB9fSksWzIsdGhpcy5fc3RvcmUuZ2V0U3RhdGUoKV19fSkpfSkpfSx0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBuLHIsaTtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKG8pe3N3aXRjaChvLmxhYmVsKXtjYXNlIDA6aWYobj10LnBheW1lbnQscj1PYmplY3QoZC5fX3Jlc3QpKHQsW1wicGF5bWVudFwiXSksIW4pdGhyb3cgbmV3IFVlKFtcInBheW1lbnRcIl0pO2lmKCF0aGlzLl9vcmRlcklkKXRocm93IG5ldyBXZS5hO3JldHVybiBpPXtmb3JtYXR0ZWRQYXlsb2FkOnt2YXVsdF9wYXltZW50X2luc3RydW1lbnQ6bnVsbCxzZXRfYXNfZGVmYXVsdF9zdG9yZWRfaW5zdHJ1bWVudDpudWxsLGRldmljZV9pbmZvOm51bGwsbWV0aG9kX2lkOm4ubWV0aG9kSWQscGF5cGFsX2FjY291bnQ6e29yZGVyX2lkOnRoaXMuX29yZGVySWR9fX0sWzQsdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yLnN1Ym1pdE9yZGVyKHIsZSkpXTtjYXNlIDE6cmV0dXJuIG8uc2VudCgpLFsyLHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3BheW1lbnRBY3Rpb25DcmVhdG9yLnN1Ym1pdFBheW1lbnQoT2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSxuKSx7cGF5bWVudERhdGE6aX0pKSldfX0pKX0pKX0sdC5wcm90b3R5cGUuZmluYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEp0KX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX29yZGVySWQ9dm9pZCAwLHRoaXMuX3BheXBhbENvbW1lcmNlUGF5bWVudFByb2Nlc3Nvci5kZWluaXRpYWxpemUoKSxbMixQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSldfSkpfSkpfSx0LnByb3RvdHlwZS5faXNQYXlwYWxDb21tZXJjZU9wdGlvbnNQYXltZW50cz1mdW5jdGlvbih0KXtyZXR1cm4hIXQuY29udGFpbmVyfSx0LnByb3RvdHlwZS5fdG9rZW5pemVQYXltZW50PWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5vcmRlcklEO3RoaXMuX29yZGVySWQ9bixlKCl9LHQucHJvdG90eXBlLl9nZXRPcHRpb25zU2NyaXB0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5jbGllbnRJZCxyPXQuaW50ZW50LGk9dC5tZXJjaGFudElkLG89dC5idXllckNvdW50cnksYT17XCJjbGllbnQtaWRcIjpuLFwibWVyY2hhbnQtaWRcIjppLGNvbW1pdDohMCxjdXJyZW5jeTplLGludGVudDpyfTtyZXR1cm4gdC5pc0RldmVsb3Blck1vZGVBcHBsaWNhYmxlP09iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30sYSkse1wiYnV5ZXItY291bnRyeVwiOm99KTphfSx0fSgpLGJyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbih0LGUpe2lmKHQ9PT1RdC5QQVlQQUxfQ09NTUVSQ0UpcmV0dXJuXCJQQVlQQUxcIjtpZih0PT09UXQuUEFZUEFMX0NPTU1FUkNFX0NSRURJVClyZXR1cm5cIlBBWUxBVEVSXCI7aWYoZT09PVF0LlBBWVBBTF9DT01NRVJDRV9BTFRFUk5BVElWRV9NRVRIT0RTKXN3aXRjaCh0KXtjYXNlXCJiYW5jb250YWN0XCI6cmV0dXJuXCJCQU5DT05UQUNUXCI7Y2FzZVwiZ2lyb3BheVwiOnJldHVyblwiR0lST1BBWVwiO2Nhc2VcInByemVsZXd5MjRcIjpyZXR1cm5cIlAyNFwiO2Nhc2VcImVwc1wiOnJldHVyblwiRVBTXCI7Y2FzZVwiaWRlYWxcIjpyZXR1cm5cIklERUFMXCI7Y2FzZVwibXliYW5rXCI6cmV0dXJuXCJNWUJBTktcIjtjYXNlXCJzb2ZvcnRcIjpyZXR1cm5cIlNPRk9SVFwiO2Nhc2VcImJsaWtcIjpyZXR1cm5cIkJMSUtcIn10aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gcmVzb2x2ZSBmdW5kaW5nIGtleVwiKX0sdH0oKSx2cj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLGksbyl7dmFyIGE9dC5jYWxsKHRoaXMsZSxuLHIsaSl8fHRoaXM7cmV0dXJuIGEuX2Zvcm1Qb3N0ZXI9byxhfXJldHVybiBPYmplY3QoZC5fX2V4dGVuZHMpKGUsdCksZS5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbihlLG4pe3ZhciByPXRoaXM7cmV0dXJuIHQucHJvdG90eXBlLmV4ZWN1dGUuY2FsbCh0aGlzLGUsbikuY2F0Y2goKGZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgcWUuYSYmT2JqZWN0KEJ0LnNvbWUpKHQuYm9keS5lcnJvcnMse2NvZGU6XCJ0aHJlZV9kX3NlY3VyZV9yZXF1aXJlZFwifSk/bmV3IFByb21pc2UoKGZ1bmN0aW9uKCl7ci5fZm9ybVBvc3Rlci5wb3N0Rm9ybSh0LmJvZHkudGhyZWVfZHNfcmVzdWx0LmFjc191cmwse1BhUmVxOnQuYm9keS50aHJlZV9kc19yZXN1bHQucGF5ZXJfYXV0aF9yZXF1ZXN0LFRlcm1Vcmw6dC5ib2R5LnRocmVlX2RzX3Jlc3VsdC5jYWxsYmFja191cmwsTUQ6dC5ib2R5LnRocmVlX2RzX3Jlc3VsdC5tZXJjaGFudF9kYXRhfSx2b2lkIDAsXCJfdG9wXCIpfSkpOlByb21pc2UucmVqZWN0KHQpfSkpfSxlLnByb3RvdHlwZS5maW5hbGl6ZT1mdW5jdGlvbihlKXt2YXIgbj10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLHI9bi5vcmRlci5nZXRPcmRlcigpO3JldHVybiByJiZuLnBheW1lbnQuZ2V0UGF5bWVudFN0YXR1cygpPT09bW4uYj90aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3IuZmluYWxpemVPcmRlcihyLm9yZGVySWQsZSkpOnQucHJvdG90eXBlLmZpbmFsaXplLmNhbGwodGhpcyxlKX0sZX0oaG4pLENyPW4oMTY5KSxPcj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzLGV8fFwiVW5zdXBwb3J0ZWQgYnJvd3NlciBlcnJvclwiKXx8dGhpcztyZXR1cm4gbi5uYW1lPVwiVW5zdXBwb3J0ZWRCcm93c2VyRXJyb3JcIixuLnR5cGU9XCJ1bnN1cHBvcnRlZF9icm93c2VyXCIsbn1yZXR1cm4gT2JqZWN0KGQuX19leHRlbmRzKShlLHQpLGV9KGh0LmEpOyFmdW5jdGlvbih0KXt0LmFtZXJpY2FuRXhwcmVzcz1cIkFNRVJJQ0FOX0VYUFJFU1NcIix0LmRpc2NvdmVyPVwiRElTQ09WRVJcIix0LmRpc2NvdmVyRGluZXJzPVwiRElTQ09WRVJfRElORVJTXCIsdC5KQ0I9XCJKQ0JcIix0Lm1hc3RlckNhcmQ9XCJNQVNURVJDQVJEXCIsdC51bmlvblBheT1cIkNISU5BX1VOSU9OUEFZXCIsdC51bmtub3duPVwiT1RIRVJfQlJBTkRcIix0LnZpc2E9XCJWSVNBXCIsdC5zcXVhcmVHaWZ0PVwiU1FVQVJFX0dJRlRfQ0FSRFwifShtcnx8KG1yPXt9KSksZnVuY3Rpb24odCl7dC5hcHBsZVBheT1cIkFQUExFUEFZXCIsdC5tYXN0ZXJwYXNzPVwiTUFTVEVSUEFTU1wiLHQubm9uZT1cIk5PTkVcIn0oZnJ8fChmcj17fSkpO3ZhciBTcix3cixJcixBcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scixpLG8sYSxzKXt0aGlzLl9zdG9yZT10LHRoaXMuX2NoZWNrb3V0QWN0aW9uQ3JlYXRvcj1lLHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvcj1uLHRoaXMuX3BheW1lbnRBY3Rpb25DcmVhdG9yPXIsdGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3I9aSx0aGlzLl9wYXltZW50U3RyYXRlZ3lBY3Rpb25DcmVhdG9yPW8sdGhpcy5fcmVxdWVzdFNlbmRlcj1hLHRoaXMuX3NjcmlwdExvYWRlcj1zfXJldHVybiB0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10Lm1ldGhvZElkO3JldHVybiB0aGlzLl9zeW5jUGF5bWVudE1ldGhvZChuKSx0aGlzLl9zY3JpcHRMb2FkZXIubG9hZCgpLnRoZW4oKGZ1bmN0aW9uKG4pe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocixpKXtlLl9wYXltZW50Rm9ybT1uKGUuX2dldEZvcm1PcHRpb25zKHQse3Jlc29sdmU6cixyZWplY3Q6aX0pKSxlLl9wYXltZW50Rm9ybS5idWlsZCgpfSkpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGUuX3N0b3JlLmdldFN0YXRlKCl9KSl9LHQucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9dC5wYXltZW50O2lmKCFyfHwhci5tZXRob2RJZCl0aHJvdyBuZXcgSXQuYSgnVW5hYmxlIHRvIHN1Ym1pdCBwYXltZW50IGJlY2F1c2UgXCJwYXlsb2FkLnBheW1lbnQubWV0aG9kSWRcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuJyk7cmV0dXJuIHRoaXMuX3N5bmNQYXltZW50TWV0aG9kKHIubWV0aG9kSWQpLHRoaXMuX2dldE5vbmNlSW5zdHJ1bWVudChyLm1ldGhvZElkKS50aGVuKChmdW5jdGlvbihpKXtyZXR1cm4gbi5fc3RvcmUuZGlzcGF0Y2gobi5fb3JkZXJBY3Rpb25DcmVhdG9yLnN1Ym1pdE9yZGVyKE9iamVjdChCdC5vbWl0KSh0LFwicGF5bWVudFwiKSxlKSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gbi5fc3RvcmUuZGlzcGF0Y2gobi5fcGF5bWVudEFjdGlvbkNyZWF0b3Iuc3VibWl0UGF5bWVudChPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LHIpLHtwYXltZW50RGF0YTppfSkpKX0pKX0pKX0sdC5wcm90b3R5cGUuZmluYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEp0KX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpKX0sdC5wcm90b3R5cGUuX3N5bmNQYXltZW50TWV0aG9kPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3N0b3JlLmdldFN0YXRlKCk7aWYodGhpcy5fcGF5bWVudE1ldGhvZD1lLnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2QodCksIXRoaXMuX3BheW1lbnRNZXRob2R8fCF0aGlzLl9wYXltZW50TWV0aG9kLmluaXRpYWxpemF0aW9uRGF0YSl0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nUGF5bWVudE1ldGhvZCl9LHQucHJvdG90eXBlLl9nZXRDb3VudHJ5Q29kZT1mdW5jdGlvbih0KXtzd2l0Y2godC50b1VwcGVyQ2FzZSgpKXtjYXNlXCJORVcgWkVMQU5EXCI6cmV0dXJuXCJOWlwiO2Nhc2VcIkFVU1RSQUxJQVwiOnJldHVyblwiQVVcIjtkZWZhdWx0OnJldHVyblwiVVNcIn19LHQucHJvdG90eXBlLl9nZXROb25jZUluc3RydW1lbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRoaXMuX3N0b3JlLmdldFN0YXRlKCkucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZCh0KTtpZihuKXt2YXIgcj1uLmluaXRpYWxpemF0aW9uRGF0YTtpZihyJiZyLnBheW1lbnREYXRhLm5vbmNlKXJldHVybiBQcm9taXNlLnJlc29sdmUoe25vbmNlOm4uaW5pdGlhbGl6YXRpb25EYXRhLnBheW1lbnREYXRhLm5vbmNlfSl9cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0LG4pe2lmKCFlLl9wYXltZW50Rm9ybSl0aHJvdyBuZXcgYnQuYihidC5hLlBheW1lbnROb3RJbml0aWFsaXplZCk7ZS5fZGVmZXJyZWRSZXF1ZXN0Tm9uY2UmJmUuX2RlZmVycmVkUmVxdWVzdE5vbmNlLnJlamVjdChuZXcgQ3IuYSksZS5fZGVmZXJyZWRSZXF1ZXN0Tm9uY2U9e3Jlc29sdmU6dCxyZWplY3Q6bn0sZS5fcGF5bWVudEZvcm0ucmVxdWVzdENhcmROb25jZSgpfSkpfSx0LnByb3RvdHlwZS5fZ2V0Rm9ybU9wdGlvbnM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9dC5zcXVhcmU7aWYoIXJ8fCF0aGlzLl9wYXltZW50TWV0aG9kKXRocm93IG5ldyBJdC5hKCdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIFwib3B0aW9ucy5zcXVhcmVcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuJyk7cmV0dXJuIHRoaXMuX3NxdWFyZU9wdGlvbnM9cixPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSx0aGlzLl9zcXVhcmVPcHRpb25zKSx0aGlzLl9wYXltZW50TWV0aG9kLmluaXRpYWxpemF0aW9uRGF0YSkse2NhbGxiYWNrczp7Y2FyZE5vbmNlUmVzcG9uc2VSZWNlaXZlZDpmdW5jdGlvbih0LGUscixpLG8pe3ImJnIuZGlnaXRhbF93YWxsZXRfdHlwZSE9PWZyLm5vbmU/bi5faGFuZGxlV2FsbGV0Tm9uY2VSZXNwb25zZSh0LGUscixpLG8pOm4uX2hhbmRsZUNhcmROb25jZVJlc3BvbnNlKHQsZSl9LGNyZWF0ZVBheW1lbnRSZXF1ZXN0OmZ1bmN0aW9uKCl7cmV0dXJuIG4uX3BheW1lbnRSZXF1ZXN0UGF5bG9hZCgpfSxtZXRob2RzU3VwcG9ydGVkOmZ1bmN0aW9uKHQpe3ZhciBlPXIubWFzdGVycGFzcztlJiZuLl9zaG93UGF5bWVudE1ldGhvZHModCxlKX0scGF5bWVudEZvcm1Mb2FkZWQ6ZnVuY3Rpb24oKXtlLnJlc29sdmUoKSxuLl9zZXRQb3N0YWxDb2RlKCl9LHVuc3VwcG9ydGVkQnJvd3NlckRldGVjdGVkOmZ1bmN0aW9uKCl7cmV0dXJuIGUucmVqZWN0KG5ldyBPcil9fX0pfSx0LnByb3RvdHlwZS5faGFuZGxlV2FsbGV0Tm9uY2VSZXNwb25zZT1mdW5jdGlvbih0LGUsbixyLGkpe3ZhciBvPXRoaXMuX3NxdWFyZU9wdGlvbnMmJnRoaXMuX3NxdWFyZU9wdGlvbnMub25FcnJvcnx8Yi5ub29wLGE9dGhpcy5fc3F1YXJlT3B0aW9ucyYmdGhpcy5fc3F1YXJlT3B0aW9ucy5vblBheW1lbnRTZWxlY3R8fGIubm9vcDt0P28odCk6ZSYmdGhpcy5fcGF5bWVudE1ldGhvZCYmdGhpcy5fcGF5bWVudEluc3RydW1lbnRTZWxlY3RlZCh0aGlzLl9wYXltZW50TWV0aG9kLmlkLGUsbixyLGkpLnRoZW4oYSkuY2F0Y2gobyl9LHQucHJvdG90eXBlLl9oYW5kbGVDYXJkTm9uY2VSZXNwb25zZT1mdW5jdGlvbih0LGUpe2lmKCF0aGlzLl9kZWZlcnJlZFJlcXVlc3ROb25jZSl0aHJvdyBuZXcgYnQuYihidC5hLlBheW1lbnROb3RJbml0aWFsaXplZCk7IWV8fHQ/KCh0aGlzLl9zcXVhcmVPcHRpb25zJiZ0aGlzLl9zcXVhcmVPcHRpb25zLm9uRXJyb3J8fGIubm9vcCkodCksdGhpcy5fZGVmZXJyZWRSZXF1ZXN0Tm9uY2UucmVqZWN0KHQpKTp0aGlzLl9kZWZlcnJlZFJlcXVlc3ROb25jZS5yZXNvbHZlKHtub25jZTplfSl9LHQucHJvdG90eXBlLl9wYXltZW50SW5zdHJ1bWVudFNlbGVjdGVkPWZ1bmN0aW9uKHQsZSxuLHIsaSl7dmFyIG89dGhpcztyZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcGF5bWVudFN0cmF0ZWd5QWN0aW9uQ3JlYXRvci53aWRnZXRJbnRlcmFjdGlvbigoZnVuY3Rpb24oKXtyZXR1cm4gby5fc2V0RXh0ZXJuYWxDaGVja291dERhdGEoZSxuLHIsaSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5hbGwoW28uX3N0b3JlLmRpc3BhdGNoKG8uX2NoZWNrb3V0QWN0aW9uQ3JlYXRvci5sb2FkQ3VycmVudENoZWNrb3V0KCkpLG8uX3N0b3JlLmRpc3BhdGNoKG8uX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yLmxvYWRQYXltZW50TWV0aG9kKHQpKV0pfSkpfSkse21ldGhvZElkOnR9KSx7cXVldWVJZDpcIndpZGdldEludGVyYWN0aW9uXCJ9KX0sdC5wcm90b3R5cGUuX3BheW1lbnRSZXF1ZXN0UGF5bG9hZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3N0b3JlLmdldFN0YXRlKCksZT10LmNoZWNrb3V0LmdldENoZWNrb3V0KCksbj10LmNvbmZpZy5nZXRTdG9yZUNvbmZpZygpO2lmKCFlKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdDaGVja291dCk7aWYoIW4pdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ0NoZWNrb3V0Q29uZmlnKTtyZXR1cm57cmVxdWVzdFNoaXBwaW5nQWRkcmVzczohMCxyZXF1ZXN0QmlsbGluZ0luZm86ITAsY3VycmVuY3lDb2RlOm4uY3VycmVuY3kuY29kZSxjb3VudHJ5Q29kZTp0aGlzLl9nZXRDb3VudHJ5Q29kZShuLnN0b3JlUHJvZmlsZS5zdG9yZUNvdW50cnkpLHRvdGFsOntsYWJlbDpuLnN0b3JlUHJvZmlsZS5zdG9yZU5hbWUsYW1vdW50OlN0cmluZyhlLnN1YnRvdGFsKSxwZW5kaW5nOiExfX19LHQucHJvdG90eXBlLl9zZXRFeHRlcm5hbENoZWNrb3V0RGF0YT1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gdGhpcy5fcmVxdWVzdFNlbmRlci5wb3N0KFwiL2NoZWNrb3V0LnBocFwiLHtoZWFkZXJzOntBY2NlcHQ6XCJ0ZXh0L2h0bWxcIixcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCJ9LGJvZHk6e25vbmNlOnQscHJvdmlkZXI6XCJzcXVhcmV2MlwiLGFjdGlvbjpcInNldF9leHRlcm5hbF9jaGVja291dFwiLGNhcmREYXRhOkpTT04uc3RyaW5naWZ5KGUpLGJpbGxpbmdDb250YWN0OkpTT04uc3RyaW5naWZ5KG4pLHNoaXBwaW5nQ29udGFjdDpKU09OLnN0cmluZ2lmeShyKX19KX0sdC5wcm90b3R5cGUuX3NldFBvc3RhbENvZGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLmJpbGxpbmdBZGRyZXNzLmdldEJpbGxpbmdBZGRyZXNzKCk7aWYoIXRoaXMuX3BheW1lbnRGb3JtKXRocm93IG5ldyBidC5iKGJ0LmEuUGF5bWVudE5vdEluaXRpYWxpemVkKTt0JiZ0LnBvc3RhbENvZGUmJnRoaXMuX3BheW1lbnRGb3JtLnNldFBvc3RhbENvZGUodC5wb3N0YWxDb2RlKX0sdC5wcm90b3R5cGUuX3Nob3dQYXltZW50TWV0aG9kcz1mdW5jdGlvbih0LGUpe3ZhciBuPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUuZWxlbWVudElkKTtuJiZ0Lm1hc3RlcnBhc3MmJihuLnN0eWxlLmRpc3BsYXk9XCJpbmxpbmUtYmxvY2tcIil9LHR9KCksRXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3NjcmlwdExvYWRlcj10fXJldHVybiB0LnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NjcmlwdExvYWRlci5sb2FkU2NyaXB0KFwiLy9qcy5zcXVhcmV1cC5jb20vdjIvcGF5bWVudGZvcm1cIikudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB3aW5kb3cuU3FQYXltZW50Rm9ybSh0KX19KSl9LHR9KCksUHI9bigxMDcpO2Z1bmN0aW9uIGpyKHQpe3JldHVybiBCb29sZWFuKHQuY2FyZE51bWJlckVsZW1lbnRPcHRpb25zKSYmQm9vbGVhbih0LmNhcmRDdmNFbGVtZW50T3B0aW9ucykmJkJvb2xlYW4odC5jYXJkRXhwaXJ5RWxlbWVudE9wdGlvbnMpfSFmdW5jdGlvbih0KXt0LlNvbGlkPVwic29saWRcIix0LkRlZmF1bHQ9XCJkZWZhdWx0XCJ9KFNyfHwoU3I9e30pKSxmdW5jdGlvbih0KXt0LkFsaXBheT1cImFsaXBheVwiLHQuQ2FyZEN2Yz1cImNhcmRDdmNcIix0LkNhcmRFeHBpcnk9XCJjYXJkRXhwaXJ5XCIsdC5DYXJkTnVtYmVyPVwiY2FyZE51bWJlclwiLHQuQ3JlZGl0Q2FyZD1cImNhcmRcIix0LmlERUFMPVwiaWRlYWxCYW5rXCIsdC5TZXBhPVwiaWJhblwifSh3cnx8KHdyPXt9KSksZnVuY3Rpb24odCl7dC5BbGlwYXk9XCJhbGlwYXlcIix0LkNyZWRpdENhcmQ9XCJjYXJkXCIsdC5pREVBTD1cImlkZWFsXCIsdC5TZXBhPVwic2VwYV9kZWJpdFwifShJcnx8KElyPXt9KSk7dmFyIGtyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyLGksbyxhKXt0aGlzLl9zdG9yZT10LHRoaXMuX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yPWUsdGhpcy5fcGF5bWVudEFjdGlvbkNyZWF0b3I9bix0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3I9cix0aGlzLl9zdHJpcGVTY3JpcHRMb2FkZXI9aSx0aGlzLl9zdG9yZUNyZWRpdEFjdGlvbkNyZWF0b3I9byx0aGlzLl9sb2NhbGU9YX1yZXR1cm4gdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGUsbixyLGksbyxhLHM7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihjKXtzd2l0Y2goYy5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLl9pbml0aWFsaXplT3B0aW9ucz10LGU9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKS5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyh0aGlzLl9nZXRJbml0aWFsaXplT3B0aW9ucygpLm1ldGhvZElkKSxuPWUuaW5pdGlhbGl6YXRpb25EYXRhLHI9bi5zdHJpcGVQdWJsaXNoYWJsZUtleSxpPW4uc3RyaXBlQ29ubmVjdGVkQWNjb3VudCxvPW4udXNlSW5kaXZpZHVhbENhcmRGaWVsZHMsdGhpcy5fdXNlSW5kaXZpZHVhbENhcmRGaWVsZHM9byxhPXRoaXMsWzQsdGhpcy5fbG9hZFN0cmlwZUpzKHIsaSldO2Nhc2UgMTpyZXR1cm4gYS5fc3RyaXBlVjNDbGllbnQ9Yy5zZW50KCkscz10aGlzLFs0LHRoaXMuX21vdW50RWxlbWVudCh0aGlzLl9nZXRJbml0aWFsaXplT3B0aW9ucygpLm1ldGhvZElkKV07Y2FzZSAyOnJldHVybiBzLl9zdHJpcGVFbGVtZW50PWMuc2VudCgpLFsyLFByb21pc2UucmVzb2x2ZSh0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpKV19fSkpfSkpfSx0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBuLHIsaSxvLGEscyxjLHUscCxoLGwsbSxmLF8seSxnLGIsdjtyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKEMpe3N3aXRjaChDLmxhYmVsKXtjYXNlIDA6aWYobj10LnBheW1lbnQscj1PYmplY3QoZC5fX3Jlc3QpKHQsW1wicGF5bWVudFwiXSksIW58fCFuLnBheW1lbnREYXRhKXRocm93IG5ldyBVZShbXCJwYXltZW50LnBheW1lbnREYXRhXCJdKTtyZXR1cm4gYT1uLnBheW1lbnREYXRhLHM9bi5nYXRld2F5SWQsYz1uLm1ldGhvZElkLHA9KHU9YSkuc2hvdWxkU2F2ZUluc3RydW1lbnQsaD12b2lkIDAhPT1wJiZwLGw9dS5zaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50LG09dm9pZCAwIT09bCYmbCxbNCx0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9vcmRlckFjdGlvbkNyZWF0b3Iuc3VibWl0T3JkZXIocixlKSldO2Nhc2UgMTpyZXR1cm4gQy5zZW50KCksKGY9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKS5jaGVja291dC5nZXRDaGVja291dE9yVGhyb3coKS5pc1N0b3JlQ3JlZGl0QXBwbGllZCk/WzQsdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fc3RvcmVDcmVkaXRBY3Rpb25DcmVhdG9yLmFwcGx5U3RvcmVDcmVkaXQoZikpXTpbMywzXTtjYXNlIDI6Qy5zZW50KCksQy5sYWJlbD0zO2Nhc2UgMzppZighT2JqZWN0KGJlLmEpKGEpKXJldHVyblszLDldO0MubGFiZWw9NDtjYXNlIDQ6cmV0dXJuIEMudHJ5cy5wdXNoKFs0LDYsLDhdKSxbNCx0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9wYXltZW50QWN0aW9uQ3JlYXRvci5zdWJtaXRQYXltZW50KE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30sbikse3BheW1lbnREYXRhOmF9KSkpXTtjYXNlIDU6cmV0dXJuWzIsQy5zZW50KCldO2Nhc2UgNjpyZXR1cm4gXz1DLnNlbnQoKSxfIGluc3RhbmNlb2YgcWUuYSYmT2JqZWN0KEJ0LnNvbWUpKF8uYm9keS5lcnJvcnMse2NvZGU6XCJ0aHJlZV9kX3NlY3VyZV9yZXF1aXJlZFwifSk/KHk9Xy5ib2R5LnRocmVlX2RzX3Jlc3VsdC50b2tlbixbNCx0aGlzLl9jb25maXJtVmF1bHRlZFBheW1lbnQoeSldKTpbMixQcm9taXNlLnJlamVjdChfKV07Y2FzZSA3OnJldHVybiBpPUMuc2VudCgpLG89e21ldGhvZElkOmMscGF5bWVudERhdGE6e25vbmNlOmkuaWR9fSxbMyw4XTtjYXNlIDg6cmV0dXJuWzMsMTJdO2Nhc2UgOTpyZXR1cm5bNCx0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9wYXltZW50TWV0aG9kQWN0aW9uQ3JlYXRvci5sb2FkUGF5bWVudE1ldGhvZChzK1wiP21ldGhvZD1cIitjKSldO2Nhc2UgMTA6cmV0dXJuIGc9Qy5zZW50KCksYj1nLnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2RPclRocm93KGMpLFs0LHRoaXMuX2NvbmZpcm1TdHJpcGVQYXltZW50KGIsaCldO2Nhc2UgMTE6aT1DLnNlbnQoKSxvPXttZXRob2RJZDpjLHBheW1lbnREYXRhOk9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30sYSkse25vbmNlOmkuaWQsc2hvdWxkU2F2ZUluc3RydW1lbnQ6aCxzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50Om19KX0sQy5sYWJlbD0xMjtjYXNlIDEyOnJldHVybiBDLnRyeXMucHVzaChbMTIsMTQsLDE2XSksWzQsdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcGF5bWVudEFjdGlvbkNyZWF0b3Iuc3VibWl0UGF5bWVudChvKSldO2Nhc2UgMTM6cmV0dXJuWzIsQy5zZW50KCldO2Nhc2UgMTQ6cmV0dXJuIHY9Qy5zZW50KCksWzQsdGhpcy5fcHJvY2Vzc0FkZGl0aW9uYWxBY3Rpb24odildO2Nhc2UgMTU6cmV0dXJuWzIsQy5zZW50KCldO2Nhc2UgMTY6cmV0dXJuWzJdfX0pKX0pKX0sdC5wcm90b3R5cGUuZmluYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEp0KX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VubW91bnRFbGVtZW50KCksUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3N0b3JlLmdldFN0YXRlKCkpfSx0LnByb3RvdHlwZS5fcHJvY2Vzc0FkZGl0aW9uYWxBY3Rpb249ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlO3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24obil7cmV0dXJuIE9iamVjdChCdC5zb21lKSh0LmJvZHkuZXJyb3JzLHtjb2RlOlwiYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWRcIn0pJiYoZT10LmJvZHkuYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWQpJiZcInJlZGlyZWN0X3RvX3VybFwiPT09ZS50eXBlP1syLG5ldyBQcm9taXNlKChmdW5jdGlvbigpe3dpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKGUuZGF0YS5yZWRpcmVjdF91cmwpfSkpXTpbMixQcm9taXNlLnJlamVjdCh0KV19KSl9KSl9LHQucHJvdG90eXBlLl9jb25maXJtU3RyaXBlUGF5bWVudD1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbixyLGksbyxhLHM9dGhpcztyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKGMpe2lmKG49dC5jbGllbnRUb2tlbixyPXQucmV0dXJuVXJsLCFuKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdQYXltZW50TWV0aG9kKTtyZXR1cm5bMixuZXcgUHJvbWlzZSgoZnVuY3Rpb24oYyx1KXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKShzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHMscCxoLGw7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihkKXtzd2l0Y2goZC5sYWJlbCl7Y2FzZSAwOnN3aXRjaCh0Lm1ldGhvZCl7Y2FzZSB3ci5BbGlwYXk6cmV0dXJuWzMsMV07Y2FzZSB3ci5DcmVkaXRDYXJkOnJldHVyblszLDNdO2Nhc2Ugd3IuaURFQUw6cmV0dXJuWzMsNV07Y2FzZSB3ci5TZXBhOnJldHVyblszLDddfXJldHVyblszLDldO2Nhc2UgMTpyZXR1cm5bNCx0aGlzLl9nZXRTdHJpcGVKcygpLmNvbmZpcm1BbGlwYXlQYXltZW50KG4se3JldHVybl91cmw6cn0se2hhbmRsZUFjdGlvbnM6ITF9KV07Y2FzZSAyOnJldHVybiBzPWQuc2VudCgpLG89cy5lcnJvcixhPXMucGF5bWVudEludGVudCxbMyw5XTtjYXNlIDM6cmV0dXJuIGk9dGhpcy5fbWFwU3RyaXBlUGF5bWVudERhdGEoSXIuQ3JlZGl0Q2FyZCxlKSxbNCx0aGlzLl9nZXRTdHJpcGVKcygpLmNvbmZpcm1DYXJkUGF5bWVudChuLGkpXTtjYXNlIDQ6cmV0dXJuIHA9ZC5zZW50KCksbz1wLmVycm9yLGE9cC5wYXltZW50SW50ZW50LFszLDldO2Nhc2UgNTpyZXR1cm4gaT10aGlzLl9tYXBTdHJpcGVQYXltZW50RGF0YShJci5pREVBTCxyKSxbNCx0aGlzLl9nZXRTdHJpcGVKcygpLmNvbmZpcm1JZGVhbFBheW1lbnQobixpLHtoYW5kbGVBY3Rpb25zOiExfSldO2Nhc2UgNjpyZXR1cm4gaD1kLnNlbnQoKSxvPWguZXJyb3IsYT1oLnBheW1lbnRJbnRlbnQsWzMsOV07Y2FzZSA3OnJldHVybiBpPXRoaXMuX21hcFN0cmlwZVBheW1lbnREYXRhKElyLlNlcGEpLFs0LHRoaXMuX2dldFN0cmlwZUpzKCkuY29uZmlybVNlcGFEZWJpdFBheW1lbnQobixpKV07Y2FzZSA4OnJldHVybiBsPWQuc2VudCgpLG89bC5lcnJvcixhPWwucGF5bWVudEludGVudCxbMyw5XTtjYXNlIDk6cmV0dXJuIG8mJnUobyksYyhhKSxbMl19fSkpfSkpfSkpXX0pKX0pKX0sdC5wcm90b3R5cGUuX2NvbmZpcm1WYXVsdGVkUGF5bWVudD1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gT2JqZWN0KGQuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKG4pe3JldHVyblsyLG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKGUsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSxpLG87cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihhKXtzd2l0Y2goYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuX2dldFN0cmlwZUpzKCkuY29uZmlybUNhcmRQYXltZW50KHQpXTtjYXNlIDE6cmV0dXJuIGU9YS5zZW50KCksaT1lLmVycm9yLG89ZS5wYXltZW50SW50ZW50LGkmJnIoaSksbihvKSxbMl19fSkpfSkpfSkpXX0pKX0pKX0sdC5wcm90b3R5cGUuX2dldEluaXRpYWxpemVPcHRpb25zPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2luaXRpYWxpemVPcHRpb25zKXRocm93IG5ldyBidC5iKGJ0LmEuUGF5bWVudE5vdEluaXRpYWxpemVkKTtyZXR1cm4gdGhpcy5faW5pdGlhbGl6ZU9wdGlvbnN9LHQucHJvdG90eXBlLl9nZXRTdHJpcGVJbml0aWFsaXplT3B0aW9ucz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2dldEluaXRpYWxpemVPcHRpb25zKCkuc3RyaXBldjM7aWYoIXQpdGhyb3cgbmV3IEl0LmEoJ1VuYWJsZSB0byBpbml0aWFsaXplIHBheW1lbnQgYmVjYXVzZSBcIm9wdGlvbnMuc3RyaXBldjNcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuJyk7cmV0dXJuIHR9LHQucHJvdG90eXBlLl9nZXRTdHJpcGVFbGVtZW50PWZ1bmN0aW9uKCl7aWYoIXRoaXMuX3N0cmlwZUVsZW1lbnQpdGhyb3cgbmV3IGJ0LmIoYnQuYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO3JldHVybiB0aGlzLl9zdHJpcGVFbGVtZW50fSx0LnByb3RvdHlwZS5fZ2V0U3RyaXBlQ2FyZEVsZW1lbnRzPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX3N0cmlwZUNhcmRFbGVtZW50cyl0aHJvdyBuZXcgYnQuYihidC5hLlBheW1lbnROb3RJbml0aWFsaXplZCk7cmV0dXJuIHRoaXMuX3N0cmlwZUNhcmRFbGVtZW50c30sdC5wcm90b3R5cGUuX2dldFN0cmlwZUpzPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX3N0cmlwZVYzQ2xpZW50KXRocm93IG5ldyBidC5iKGJ0LmEuUGF5bWVudE5vdEluaXRpYWxpemVkKTtyZXR1cm4gdGhpcy5fc3RyaXBlVjNDbGllbnR9LHQucHJvdG90eXBlLl9sb2FkU3RyaXBlSnM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLl9zdHJpcGVWM0NsaWVudD9bMixQcm9taXNlLnJlc29sdmUodGhpcy5fc3RyaXBlVjNDbGllbnQpXTpbNCx0aGlzLl9zdHJpcGVTY3JpcHRMb2FkZXIubG9hZCh0LGUsdGhpcy5fbG9jYWxlKV07Y2FzZSAxOnJldHVyblsyLG4uc2VudCgpXX19KSl9KSl9LHQucHJvdG90eXBlLl9tb3VudEVsZW1lbnQ9ZnVuY3Rpb24odCl7dmFyIGUsbj10aGlzLHI9dCxpPXRoaXMuX2dldFN0cmlwZUluaXRpYWxpemVPcHRpb25zKCksbz1pLm9wdGlvbnMsYT1pLmNvbnRhaW5lcklkO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCxpKXtzd2l0Y2gobi5fc3RyaXBlRWxlbWVudHN8fChuLl9zdHJpcGVFbGVtZW50cz1uLl9nZXRTdHJpcGVKcygpLmVsZW1lbnRzKCkpLHIpe2Nhc2Ugd3IuQ3JlZGl0Q2FyZDppZihuLl91c2VJbmRpdmlkdWFsQ2FyZEZpZWxkcyYmanIobykpe3ZhciBzPW8uY2FyZE51bWJlckVsZW1lbnRPcHRpb25zLGM9by5jYXJkRXhwaXJ5RWxlbWVudE9wdGlvbnMsdT1vLmNhcmRDdmNFbGVtZW50T3B0aW9ucyxkPW4uX3N0cmlwZUVsZW1lbnRzLmdldEVsZW1lbnQod3IuQ2FyZE51bWJlcil8fG4uX3N0cmlwZUVsZW1lbnRzLmNyZWF0ZSh3ci5DYXJkTnVtYmVyLHMpLHA9bi5fc3RyaXBlRWxlbWVudHMuZ2V0RWxlbWVudCh3ci5DYXJkRXhwaXJ5KXx8bi5fc3RyaXBlRWxlbWVudHMuY3JlYXRlKHdyLkNhcmRFeHBpcnksYyksaD1uLl9zdHJpcGVFbGVtZW50cy5nZXRFbGVtZW50KHdyLkNhcmRDdmMpfHxuLl9zdHJpcGVFbGVtZW50cy5jcmVhdGUod3IuQ2FyZEN2Yyx1KTtuLl9zdHJpcGVDYXJkRWxlbWVudHM9W2QscCxoXSxlPW4uX3N0cmlwZUNhcmRFbGVtZW50c1swXTt0cnl7ZC5tb3VudChcIiNcIitzLmNvbnRhaW5lcklkKSxwLm1vdW50KFwiI1wiK2MuY29udGFpbmVySWQpLGgubW91bnQoXCIjXCIrdS5jb250YWluZXJJZCl9Y2F0Y2godCl7aShuZXcgSXQuYShcIlVuYWJsZSB0byBtb3VudCBTdHJpcGUgY29tcG9uZW50IHdpdGhvdXQgdmFsaWQgY29udGFpbmVyIElELlwiKSl9fWVsc2V7ZT1uLl9zdHJpcGVFbGVtZW50cy5nZXRFbGVtZW50KHIpfHxuLl9zdHJpcGVFbGVtZW50cy5jcmVhdGUocixvKTt0cnl7ZS5tb3VudChcIiNcIithKX1jYXRjaCh0KXtpKG5ldyBJdC5hKFwiVW5hYmxlIHRvIG1vdW50IFN0cmlwZSBjb21wb25lbnQgd2l0aG91dCB2YWxpZCBjb250YWluZXIgSUQuXCIpKX19YnJlYWs7Y2FzZSB3ci5pREVBTDpjYXNlIHdyLlNlcGE6ZT1uLl9zdHJpcGVFbGVtZW50cy5nZXRFbGVtZW50KHIpfHxuLl9zdHJpcGVFbGVtZW50cy5jcmVhdGUocixvKTt0cnl7ZS5tb3VudChcIiNcIithKX1jYXRjaCh0KXtpKG5ldyBJdC5hKFwiVW5hYmxlIHRvIG1vdW50IFN0cmlwZSBjb21wb25lbnQgd2l0aG91dCB2YWxpZCBjb250YWluZXIgSUQuXCIpKX1icmVhaztjYXNlIHdyLkFsaXBheTp9dChlKX0pKX0sdC5wcm90b3R5cGUuX21hcFN0cmlwZUFkZHJlc3M9ZnVuY3Rpb24odCl7cmV0dXJuIHQ/e2NpdHk6dC5jaXR5LGNvdW50cnk6dC5jb3VudHJ5Q29kZSxsaW5lMTp0LmFkZHJlc3MxLGxpbmUyOnQuYWRkcmVzczIscG9zdGFsX2NvZGU6dC5wb3N0YWxDb2RlLHN0YXRlOnQuc3RhdGVPclByb3ZpbmNlQ29kZX06e2xpbmUxOlwiXCJ9fSx0LnByb3RvdHlwZS5fbWFwU3RyaXBlQmlsbGluZ0RldGFpbHM9ZnVuY3Rpb24odCxlKXt2YXIgbj10fHxlfHx7Zmlyc3ROYW1lOlwiR3Vlc3RcIixsYXN0TmFtZTpcIlwifSxyPShuLmZpcnN0TmFtZStcIiBcIituLmxhc3ROYW1lKS50cmltKCksaT10aGlzLl9nZXRTdHJpcGVJbml0aWFsaXplT3B0aW9ucygpLm9wdGlvbnM7aWYodGhpcy5fdXNlSW5kaXZpZHVhbENhcmRGaWVsZHMmJmpyKGkpKXt2YXIgbz1pLnppcENvZGVFbGVtZW50T3B0aW9ucztpZihvKXt2YXIgYT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChvLmNvbnRhaW5lcklkKT9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChvLmNvbnRhaW5lcklkKS52YWx1ZTpcIlwiO2EmJnQmJih0PU9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30sdCkse3Bvc3RhbENvZGU6YX0pKX19dmFyIHM9e2FkZHJlc3M6dGhpcy5fbWFwU3RyaXBlQWRkcmVzcyh0KX07aWYoZSYmZS5hZGRyZXNzZXNbMF0mJk9iamVjdChQci5hKShlLmFkZHJlc3Nlc1swXSkpe3ZhciBjPWUuYWRkcmVzc2VzWzBdLHU9ZS5lbWFpbDtyZXR1cm4ocD1jLnBob25lKT9PYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LHMpLHtlbWFpbDp1LG5hbWU6cixwaG9uZTpwfSk6T2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSxzKSx7ZW1haWw6dSxuYW1lOnJ9KX1pZih0KXt2YXIgcDt1PXQuZW1haWw7cmV0dXJuKHA9dC5waG9uZSk/T2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSxzKSx7ZW1haWw6dSxuYW1lOnIscGhvbmU6cH0pOk9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30scykse2VtYWlsOnUsbmFtZTpyfSl9cmV0dXJuIE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30scykse25hbWU6cn0pfSx0LnByb3RvdHlwZS5fbWFwU3RyaXBlUGF5bWVudERhdGE9ZnVuY3Rpb24odCxlKXt2YXIgbixyLGk9dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKS5jdXN0b21lci5nZXRDdXN0b21lcigpLG89dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKS5iaWxsaW5nQWRkcmVzcy5nZXRCaWxsaW5nQWRkcmVzcygpO3N3aXRjaChyPXtwYXltZW50X21ldGhvZDoobj17fSxuW3RdPXQ9PT1Jci5DcmVkaXRDYXJkJiZ0aGlzLl91c2VJbmRpdmlkdWFsQ2FyZEZpZWxkcz90aGlzLl9nZXRTdHJpcGVDYXJkRWxlbWVudHMoKVswXTp0aGlzLl9nZXRTdHJpcGVFbGVtZW50KCksbi5iaWxsaW5nX2RldGFpbHM9dGhpcy5fbWFwU3RyaXBlQmlsbGluZ0RldGFpbHMobyxpKSxuKX0sdCl7Y2FzZSBJci5DcmVkaXRDYXJkOnZhciBhPXRoaXMuX3N0b3JlLmdldFN0YXRlKCkuY2FydC5nZXRDYXJ0KCk7aWYoYSYmT2JqZWN0KGp0LmEpKGEpPjApe3ZhciBzPXRoaXMuX3N0b3JlLmdldFN0YXRlKCkuc2hpcHBpbmdBZGRyZXNzLmdldFNoaXBwaW5nQWRkcmVzcygpO3I9T2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSxyKSx7c2hpcHBpbmc6dGhpcy5fbWFwU3RyaXBlU2hpcHBpbmdBZGRyZXNzKHMsaSl9KX1yZXR1cm4gZT9PYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LHIpLHtzZXR1cF9mdXR1cmVfdXNhZ2U6XCJvZmZfc2Vzc2lvblwifSk6cjtjYXNlIElyLmlERUFMOnJldHVybiBPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LHIpLHtyZXR1cm5fdXJsOmV9KX1yZXR1cm4gcn0sdC5wcm90b3R5cGUuX21hcFN0cmlwZVNoaXBwaW5nQWRkcmVzcz1mdW5jdGlvbih0LGUpe3ZhciBuPXR8fGV8fHtmaXJzdE5hbWU6XCJHdWVzdFwiLGxhc3ROYW1lOlwiXCJ9LHI9KG4uZmlyc3ROYW1lK1wiIFwiK24ubGFzdE5hbWUpLnRyaW0oKSxpPXthZGRyZXNzOnRoaXMuX21hcFN0cmlwZUFkZHJlc3ModCl9O2lmKGUmJmUuYWRkcmVzc2VzWzBdKXt2YXIgbz1lLmFkZHJlc3Nlc1swXS5waG9uZTtyZXR1cm4gT2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSxpKSx7bmFtZTpyLHBob25lOm99KX1pZih0KXtvPXQucGhvbmU7cmV0dXJuIE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30saSkse25hbWU6cixwaG9uZTpvfSl9cmV0dXJuIE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30saSkse25hbWU6cn0pfSx0LnByb3RvdHlwZS5fdW5tb3VudEVsZW1lbnQ9ZnVuY3Rpb24oKXt0aGlzLl9zdHJpcGVFbGVtZW50JiYodGhpcy5fc3RyaXBlRWxlbWVudC51bm1vdW50KCksdGhpcy5fc3RyaXBlRWxlbWVudD12b2lkIDApfSx0fSgpLE1yPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZvaWQgMD09PWUmJihlPXdpbmRvdyksdGhpcy5fc2NyaXB0TG9hZGVyPXQsdGhpcy5fd2luZG93PWV9cmV0dXJuIHQucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXM7cmV0dXJuIHRoaXMuX3NjcmlwdExvYWRlci5sb2FkU2NyaXB0KFwiaHR0cHM6Ly9qcy5zdHJpcGUuY29tL3YzL1wiKS50aGVuKChmdW5jdGlvbigpe2lmKCFyLl93aW5kb3cuU3RyaXBlKXRocm93IG5ldyAkLmE7cmV0dXJuIHIuX3dpbmRvdy5TdHJpcGUodCx7c3RyaXBlQWNjb3VudDplLGxvY2FsZTpuLGJldGFzOltcInBheW1lbnRfaW50ZW50X2JldGFfM1wiLFwiYWxpcGF5X3BtX2JldGFfMVwiXSxhcGlWZXJzaW9uOlwiMjAyMC0wMy0wMjthbGlwYXlfYmV0YT12MVwifSl9KSl9LHR9KCksVHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3NjcmlwdExvYWRlcj10fXJldHVybiB0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5fc2NyaXB0TG9hZGVyLmxvYWRTY3JpcHQoXCIvL3N0YXRpYy53ZXBheS5jb20vbWluL2pzL3Jpc2suMS5sYXRlc3QuanNcIikudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdC5fcmlza0NsaWVudD13aW5kb3cuV2VQYXkucmlza30pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0fSkpfSx0LnByb3RvdHlwZS5nZXRSaXNrVG9rZW49ZnVuY3Rpb24oKXtpZighdGhpcy5fcmlza0NsaWVudCl0aHJvdyBuZXcgYnQuYihidC5hLlBheW1lbnROb3RJbml0aWFsaXplZCk7cmV0dXJuIHRoaXMuX3Jpc2tDbGllbnQuZ2VuZXJhdGVfcmlza190b2tlbigpLHRoaXMuX3Jpc2tDbGllbnQuZ2V0X3Jpc2tfdG9rZW4oKX0sdH0oKSxScj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLGksbyl7dmFyIGE9dC5jYWxsKHRoaXMsZSxuLHIsaSl8fHRoaXM7cmV0dXJuIGEuX3dlcGF5Umlza0NsaWVudD1vLGF9cmV0dXJuIE9iamVjdChkLl9fZXh0ZW5kcykoZSx0KSxlLnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl93ZXBheVJpc2tDbGllbnQuaW5pdGlhbGl6ZSgpLHQucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzLGUpfSxlLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKGUsbil7dmFyIHI9dGhpcy5fd2VwYXlSaXNrQ2xpZW50LmdldFJpc2tUb2tlbigpLGk9T2JqZWN0KEJ0Lm1lcmdlKSh7fSxlLHtwYXltZW50OntwYXltZW50RGF0YTp7ZGV2aWNlU2Vzc2lvbklkOnJ9fX0pO3JldHVybiB0LnByb3RvdHlwZS5leGVjdXRlLmNhbGwodGhpcyxpLG4pfSxlfShobiksRHI9big3MiksenI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyxlfHxcIlRoZSBzZWxlY3RlZCBwYXltZW50IG1ldGhvZCB3YXMgZGVjbGluZWQuIFBsZWFzZSBzZWxlY3QgYW5vdGhlciBwYXltZW50IG1ldGhvZC5cIil8fHRoaXM7cmV0dXJuIG4ubmFtZT1cIlBheW1lbnRNZXRob2REZWNsaW5lZEVycm9yXCIsbi50eXBlPVwicGF5bWVudF9kZWNsaW5lZFwiLG59cmV0dXJuIE9iamVjdChkLl9fZXh0ZW5kcykoZSx0KSxlfShodC5hKSxMcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scixpLG8sYSxzKXt0aGlzLl9zdG9yZT10LHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvcj1lLHRoaXMuX3BheW1lbnRBY3Rpb25DcmVhdG9yPW4sdGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3I9cix0aGlzLl9zdG9yZUNyZWRpdEFjdGlvbkNyZWF0b3I9aSx0aGlzLl9yZW1vdGVDaGVja291dEFjdGlvbkNyZWF0b3I9byx0aGlzLl96aXBTY3JpcHRMb2FkZXI9YSx0aGlzLl9yZXF1ZXN0U2VuZGVyPXN9cmV0dXJuIHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihlKXtzd2l0Y2goZS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuX3ppcFNjcmlwdExvYWRlci5sb2FkKCldO2Nhc2UgMTpyZXR1cm4gdD1lLnNlbnQoKSx0aGlzLl96aXBDbGllbnQ9dCxbMix0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpXX19KSl9KSl9LHQucHJvdG90eXBlLmRlaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXltZW50TWV0aG9kPXZvaWQgMCx0aGlzLl96aXBDbGllbnQ9dm9pZCAwLFByb21pc2UucmVzb2x2ZSh0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpKX0sdC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbixyLGksbyxhLHMsYz10aGlzO3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24odSl7c3dpdGNoKHUubGFiZWwpe2Nhc2UgMDppZihuPXQucGF5bWVudCxyPU9iamVjdChkLl9fcmVzdCkodCxbXCJwYXltZW50XCJdKSxpPXRoaXMuX3ppcENsaWVudCwhbil0aHJvdyBuZXcgSXQuYSgnVW5hYmxlIHRvIHN1Ym1pdCBwYXltZW50IGJlY2F1c2UgXCJwYXlsb2FkLnBheW1lbnRcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuJyk7aWYoIWkpdGhyb3cgbmV3IGJ0LmIoYnQuYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO3JldHVybiB2b2lkIDA9PT0obz10aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLmNoZWNrb3V0LmdldENoZWNrb3V0T3JUaHJvdygpLmlzU3RvcmVDcmVkaXRBcHBsaWVkKT9bMywyXTpbNCx0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9zdG9yZUNyZWRpdEFjdGlvbkNyZWF0b3IuYXBwbHlTdG9yZUNyZWRpdChvKSldO2Nhc2UgMTp1LnNlbnQoKSx1LmxhYmVsPTI7Y2FzZSAyOnJldHVybls0LHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX29yZGVyQWN0aW9uQ3JlYXRvci5zdWJtaXRPcmRlcihyLGUpKV07Y2FzZSAzOnJldHVybiB1LnNlbnQoKSxbNCx0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9yZW1vdGVDaGVja291dEFjdGlvbkNyZWF0b3IuaW5pdGlhbGl6ZVBheW1lbnQobi5tZXRob2RJZCx7dXNlU3RvcmVDcmVkaXQ6b30pKV07Y2FzZSA0OnJldHVybiB1LnNlbnQoKSxbNCx0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9wYXltZW50TWV0aG9kQWN0aW9uQ3JlYXRvci5sb2FkUGF5bWVudE1ldGhvZChuLm1ldGhvZElkLGUpKV07Y2FzZSA1OmlmKGE9dS5zZW50KCksdGhpcy5fcGF5bWVudE1ldGhvZD1hLnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2Qobi5tZXRob2RJZCksIXRoaXMuX3BheW1lbnRNZXRob2R8fCF0aGlzLl9wYXltZW50TWV0aG9kLmNsaWVudFRva2VuKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdQYXltZW50TWV0aG9kKTtyZXR1cm5bNCxuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCxlKXtpLkNoZWNrb3V0LmluaXQoe29uQ29tcGxldGU6ZnVuY3Rpb24ocil7dmFyIGk9ci5jaGVja291dElkLG89ci5zdGF0ZTtyZXR1cm4gT2JqZWN0KGQuX19hd2FpdGVyKShjLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVyblwiY2FuY2VsbGVkXCI9PT1vP1syLGUobmV3IHhlKV06XCJyZWZlcnJlZFwiPT09byYmaT9bNCx0aGlzLl9wcmVwYXJlRm9yUmVmZXJyZWRSZWdpc3RyYXRpb24obi5tZXRob2RJZCxpKV06WzMsMl07Y2FzZSAxOnJldHVybiByLnNlbnQoKSxbMix0KCldO2Nhc2UgMjpyZXR1cm5cImFwcHJvdmVkXCI9PT1vJiZpP1syLHQoaSldOlwiZGVjbGluZWRcIj09PW8/WzIsZShuZXcgenIoXCJVbmZvcnR1bmF0ZWx5IHlvdXIgYXBwbGljYXRpb24gd2FzIGRlY2xpbmVkLiBQbGVhc2Ugc2VsZWN0IGFub3RoZXIgcGF5bWVudCBtZXRob2QuXCIpKV06KGUobmV3IFdlLmEpLFsyXSl9fSkpfSkpfSxvbkNoZWNrb3V0OmZ1bmN0aW9uKHQpe2lmKCFjLl9wYXltZW50TWV0aG9kfHwhYy5fcGF5bWVudE1ldGhvZC5jbGllbnRUb2tlbil0aHJvdyBuZXcgdi5iKHYuYS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7dChKU09OLnBhcnNlKGMuX3BheW1lbnRNZXRob2QuY2xpZW50VG9rZW4pKX19KX0pKV07Y2FzZSA2OnJldHVybiB2b2lkIDAhPT0ocz11LnNlbnQoKSk/WzIsdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcGF5bWVudEFjdGlvbkNyZWF0b3Iuc3VibWl0UGF5bWVudCh7bWV0aG9kSWQ6bi5tZXRob2RJZCxwYXltZW50RGF0YTp7bm9uY2U6c319KSldOlsyLHRoaXMuX3N0b3JlLmdldFN0YXRlKCldfX0pKX0pKX0sdC5wcm90b3R5cGUuZmluYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEp0KX0sdC5wcm90b3R5cGUuX3ByZXBhcmVGb3JSZWZlcnJlZFJlZ2lzdHJhdGlvbj1mdW5jdGlvbih0LGUpe3ZhciBuPVwiL2FwaS9zdG9yZWZyb250L3BheW1lbnQvXCIrdCtcIi9zYXZlLWV4dGVybmFsLWlkXCIscj17aGVhZGVyczp7QWNjZXB0OkkuYS5Kc29uVjEsXCJYLUFQSS1JTlRFUk5BTFwiOkRyLmF9LGJvZHk6e2V4dGVybmFsSWQ6ZSxwcm92aWRlcjp0fX07cmV0dXJuIHRoaXMuX3JlcXVlc3RTZW5kZXIucG9zdChuLHIpfSx0fSgpLE5yPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZvaWQgMD09PWUmJihlPXdpbmRvdyksdGhpcy5fc2NyaXB0TG9hZGVyPXQsdGhpcy5fd2luZG93PWV9cmV0dXJuIHQucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLl9zY3JpcHRMb2FkZXIubG9hZFNjcmlwdChcIi8vc3RhdGljLnppcG1vbmV5LmNvbS5hdS9jaGVja291dC9jaGVja291dC12MS5taW4uanNcIikudGhlbigoZnVuY3Rpb24oKXtpZighdC5fd2luZG93LlppcCl0aHJvdyBuZXcgJC5hO3JldHVybiB0Ll93aW5kb3cuWmlwfSkpfSx0fSgpO2Z1bmN0aW9uIEZyKHQsZSxuLHIscyl7dmFyIGM9bmV3IFRlKHQse2RlZmF1bHRUb2tlbjpRdC5DUkVESVRfQ0FSRH0pLHU9T2JqZWN0KGkuZ2V0U2NyaXB0TG9hZGVyKSgpLGQ9bmV3IGtlLmEscD1uZXcgamUuYShlKSxoPW5ldyBvLmEobmV3IGEuYShuKSxuZXcgSWUuYShuZXcgQWUuYShuKSkpLGw9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IEouYSh0KSxuPW5ldyBaLmEoZSkscj1uZXcgd24obiksaT1uZXcgYm47cmV0dXJuIG5ldyBJbihuLHIsaSl9KHUpLG09bmV3IFUuYShuKSxmPW5ldyBlZShtKSxnPW5ldyBfdChyLG5ldyB3dChuKSksYj1uZXcgSHQobmV3IEd0KG4pLGYpLHY9bmV3IFNlKG5ldyB3ZShuKSksQz1uZXcgdWUoU3QoT2JqZWN0KGkuY3JlYXRlU2NyaXB0TG9hZGVyKSgpKSksTz1uZXcgUGUocCxiLGQsQyksUz1uZXcgWS5hKG5ldyBILmEobikpLHc9bmV3IHB0KG5ldyB1dChuKSksST1uZXcgXy5hKG5ldyB5LmEobikpLEE9bmV3IEcuYShuZXcgVi5hKG4pKSxFPW5ldyB4LmEobSxJLEEpLFA9bmV3IFh0KGMsYixnKSxqPU9iamVjdChxLmNyZWF0ZUZvcm1Qb3N0ZXIpKCksaz1uZXcgQ2UodCk7cmV0dXJuIGMucmVnaXN0ZXIoUXQuQURZRU5WMiwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFZlKHQsTyxiLG5ldyBZZSh1LE9iamVjdChpLmdldFN0eWxlc2hlZXRMb2FkZXIpKCkpKX0pKSxjLnJlZ2lzdGVyKFF0LkFEWUVOVjJfR09PR0xFUEFZLChmdW5jdGlvbigpe3JldHVybiBuZXcgWm4odCxFLFMsUCxPLGIsT2JqZWN0KG50LmEpKHQsbmV3IHJ0LmEpLG5ldyBRbih0LE8sbmV3IFllKHUsT2JqZWN0KGkuZ2V0U3R5bGVzaGVldExvYWRlcikoKSkpKX0pKSxjLnJlZ2lzdGVyKFF0LkFGRklSTSwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEtlKHQsYixPLFMsbmV3IEplKX0pKSxjLnJlZ2lzdGVyKFF0LkFGVEVSUEFZLChmdW5jdGlvbigpe3JldHVybiBuZXcgWmUodCxmLGIsTyxTLHYsbmV3IGVuKHUpKX0pKSxjLnJlZ2lzdGVyKFF0LkFNQVpPTiwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGRuKHQsYixoLHcsbmV3IFcodSkpfSkpLGMucmVnaXN0ZXIoUXQuQVVUSE9SSVpFTkVUX0dPT0dMRV9QQVksKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBabih0LEUsUyxQLE8sYixPYmplY3QobnQuYSkodCxuZXcgaXQuYSkpfSkpLGMucmVnaXN0ZXIoUXQuQU1BWk9OUEFZVjIsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBwbih0LFAsUyxiLE8sT2JqZWN0KEsuYSkoKSl9KSksYy5yZWdpc3RlcihRdC5CQVJDTEFZUywoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGxuKHQsYixPLGssbmV3IE5uKHQsTyxuZXcgVW4obmV3IHhuKHUpKSkpfSkpLGMucmVnaXN0ZXIoUXQuQkxVRVNOQVBWMiwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGZuKHQsYixPKX0pKSxjLnJlZ2lzdGVyKFF0LkNSRURJVF9DQVJELChmdW5jdGlvbigpe3JldHVybiBuZXcgaG4odCxiLE8sayl9KSksYy5yZWdpc3RlcihRdC5DSEVDS09VVENPTSwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFduKHQsYixPLGssail9KSksYy5yZWdpc3RlcihRdC5DWUJFUlNPVVJDRSwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEtuKHQsYixPLGssbmV3IEJuKHQsTyxTLG5ldyBVbihuZXcgeG4odSkpKSl9KSksYy5yZWdpc3RlcihRdC5LTEFSTkEsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0cih0LGIsUyx3LG5ldyBlcih1KSl9KSksYy5yZWdpc3RlcihRdC5LTEFSTkFWMiwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG5yKHQsYixTLHcsbmV3IHJyKHUpKX0pKSxjLnJlZ2lzdGVyKFF0LkxFR0FDWSwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGlyKHQsYil9KSksYy5yZWdpc3RlcihRdC5PRkZMSU5FLChmdW5jdGlvbigpe3JldHVybiBuZXcgc3IodCxiKX0pKSxjLnJlZ2lzdGVyKFF0Lk9GRlNJVEUsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBjcih0LGIsTyl9KSksYy5yZWdpc3RlcihRdC5QQVlQQUwsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB1cih0LGIsTyxrLG5ldyBCbih0LE8sUyxuZXcgVW4obmV3IHhuKHUpKSkpfSkpLGMucmVnaXN0ZXIoUXQuUEFZUEFMX0VYUFJFU1MsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBkcih0LGIsbmV3IHByLmEodSkpfSkpLGMucmVnaXN0ZXIoUXQuUEFZUEFMX0VYUFJFU1NfQ1JFRElULChmdW5jdGlvbigpe3JldHVybiBuZXcgZHIodCxiLG5ldyBwci5hKHUpKX0pKSxjLnJlZ2lzdGVyKFF0LlBBWVBBTF9DT01NRVJDRV9DUkVESVRfQ0FSRCwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGhyKHQsUyxuZXcgX3IoT2JqZWN0KHlyLmEpKHUsbikpLGIsTyl9KSksYy5yZWdpc3RlcihRdC5QQVlQQUxfQ09NTUVSQ0UsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBncih0LGIsTyxPYmplY3QoeXIuYSkodSxuKSxuZXcgYnIpfSkpLGMucmVnaXN0ZXIoUXQuU0FHRV9QQVksKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB2cih0LGIsTyxrLGopfSkpLGMucmVnaXN0ZXIoUXQuU1FVQVJFLChmdW5jdGlvbigpe3JldHVybiBuZXcgQXIodCxFLGIsTyxTLFAsbixuZXcgRXIodSkpfSkpLGMucmVnaXN0ZXIoUXQuTk9fUEFZTUVOVF9EQVRBX1JFUVVJUkVELChmdW5jdGlvbigpe3JldHVybiBuZXcgYXIodCxiKX0pKSxjLnJlZ2lzdGVyKFF0LkJSQUlOVFJFRSwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEVuKHQsYixPLFMsbCl9KSksYy5yZWdpc3RlcihRdC5CUkFJTlRSRUVfUEFZUEFMLChmdW5jdGlvbigpe3JldHVybiBuZXcgUG4odCxiLE8sUyxsKX0pKSxjLnJlZ2lzdGVyKFF0LkJSQUlOVFJFRV9QQVlQQUxfQ1JFRElULChmdW5jdGlvbigpe3JldHVybiBuZXcgUG4odCxiLE8sUyxsLCEwKX0pKSxjLnJlZ2lzdGVyKFF0LkJSQUlOVFJFRV9WSVNBX0NIRUNLT1VULChmdW5jdGlvbigpe3JldHVybiBuZXcgam4odCxFLFMsUCxPLGIsWCh1LG4pLG5ldyB0dCh1KSl9KSksYy5yZWdpc3RlcihRdC5DSEFTRV9QQVksKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBZbih0LEUsYixPLFMsUCxuLG5ldyBldCh1KSxuZXcgVHIodSkpfSkpLGMucmVnaXN0ZXIoUXQuQlJBSU5UUkVFX0dPT0dMRV9QQVksKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBabih0LEUsUyxQLE8sYixPYmplY3QobnQuYSkodCxuZXcgb3QuYShuZXcgWi5hKG5ldyBKLmEodSkpKSkpfSkpLGMucmVnaXN0ZXIoUXQuV0VfUEFZLChmdW5jdGlvbigpe3JldHVybiBuZXcgUnIodCxiLE8sayxuZXcgVHIodSkpfSkpLGMucmVnaXN0ZXIoUXQuTUFTVEVSUEFTUywoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG9yKHQsYixPLG5ldyBjdC5hKHUpKX0pKSxjLnJlZ2lzdGVyKFF0LlNUUklQRV9HT09HTEVfUEFZLChmdW5jdGlvbigpe3JldHVybiBuZXcgWm4odCxFLFMsUCxPLGIsT2JqZWN0KG50LmEpKHQsbmV3IHN0LmEpKX0pKSxjLnJlZ2lzdGVyKFF0LkNIRUNLT1VUQ09NX0dPT0dMRV9QQVksKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBabih0LEUsUyxQLE8sYixPYmplY3QobnQuYSkodCxuZXcgYXQuYShuKSkpfSkpLGMucmVnaXN0ZXIoUXQuWklQLChmdW5jdGlvbigpe3JldHVybiBuZXcgTHIodCxiLE8sUyx2LHcsbmV3IE5yKHUpLG4pfSkpLGMucmVnaXN0ZXIoUXQuQ09OVkVSR0UsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBIbih0LGIsTyxrLGopfSkpLGMucmVnaXN0ZXIoUXQuTEFZQlVZLChmdW5jdGlvbigpe3JldHVybiBuZXcgSm4odCxiLE8sail9KSksYy5yZWdpc3RlcihRdC5TRVpaTEUsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBKbih0LGIsTyxqKX0pKSxjLnJlZ2lzdGVyKFF0LlNUUklQRVYzLChmdW5jdGlvbigpe3JldHVybiBuZXcga3IodCxTLE8sYixuZXcgTXIodSksdixzKX0pKSxjLnJlZ2lzdGVyKFF0LkJPTFQsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBfbih0LGIsTyxTLHYsbmV3IHluKHUpKX0pKSxjfXZhciBxcj1uKDI0KSxVcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5faW5zdHJ1bWVudFJlcXVlc3RTZW5kZXI9dH1yZXR1cm4gdC5wcm90b3R5cGUubG9hZEluc3RydW1lbnRzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGIuT2JzZXJ2YWJsZS5jcmVhdGUoKGZ1bmN0aW9uKG4pe24ubmV4dChPYmplY3QoZy5jcmVhdGVBY3Rpb24pKHFyLmEuTG9hZEluc3RydW1lbnRzUmVxdWVzdGVkKSk7dmFyIHI9dC5fZ2V0U2Vzc2lvbkNvbnRleHQoZSksaT10Ll9nZXRDdXJyZW50QWNjZXNzVG9rZW4oZSksbz10Ll9nZXRTaGlwcGluZ0FkZHJlc3MoZSk7cmV0dXJuIHQuX2dldFZhbGlkQWNjZXNzVG9rZW4oaSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIHQuX2luc3RydW1lbnRSZXF1ZXN0U2VuZGVyLmxvYWRJbnN0cnVtZW50cyhPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LHIpLHthdXRoVG9rZW46ZS52YXVsdEFjY2Vzc1Rva2VufSksbykudGhlbigoZnVuY3Rpb24odCl7dmFyIHI9dC5ib2R5O24ubmV4dChPYmplY3QoZy5jcmVhdGVBY3Rpb24pKHFyLmEuTG9hZEluc3RydW1lbnRzU3VjY2VlZGVkLHIsZSkpLG4uY29tcGxldGUoKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7bi5lcnJvcihPYmplY3QoZy5jcmVhdGVFcnJvckFjdGlvbikocXIuYS5Mb2FkSW5zdHJ1bWVudHNGYWlsZWQsdCkpfSkpfSkpfX0sdC5wcm90b3R5cGUuZGVsZXRlSW5zdHJ1bWVudD1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gYi5PYnNlcnZhYmxlLmNyZWF0ZSgoZnVuY3Rpb24ocil7ci5uZXh0KE9iamVjdChnLmNyZWF0ZUFjdGlvbikocXIuYS5EZWxldGVJbnN0cnVtZW50UmVxdWVzdGVkLHZvaWQgMCx7aW5zdHJ1bWVudElkOnR9KSk7dmFyIGk9ZS5fZ2V0U2Vzc2lvbkNvbnRleHQobiksbz1lLl9nZXRDdXJyZW50QWNjZXNzVG9rZW4obik7cmV0dXJuIGUuX2dldFZhbGlkQWNjZXNzVG9rZW4obykudGhlbigoZnVuY3Rpb24obil7cmV0dXJuIGUuX2luc3RydW1lbnRSZXF1ZXN0U2VuZGVyLmRlbGV0ZUluc3RydW1lbnQoT2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSxpKSx7YXV0aFRva2VuOm4udmF1bHRBY2Nlc3NUb2tlbn0pLHQpLnRoZW4oKGZ1bmN0aW9uKGUpe3ZhciBpPWUuYm9keTtyLm5leHQoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShxci5hLkRlbGV0ZUluc3RydW1lbnRTdWNjZWVkZWQsaSxPYmplY3QoZC5fX2Fzc2lnbikoe2luc3RydW1lbnRJZDp0fSxuKSkpLHIuY29tcGxldGUoKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7ci5lcnJvcihPYmplY3QoZy5jcmVhdGVFcnJvckFjdGlvbikocXIuYS5EZWxldGVJbnN0cnVtZW50RmFpbGVkLGUse2luc3RydW1lbnRJZDp0fSkpfSkpfSkpfX0sdC5wcm90b3R5cGUuX2lzVmFsaWRWYXVsdEFjY2Vzc1Rva2VuPWZ1bmN0aW9uKHQpe2lmKCF0fHwhdC52YXVsdEFjY2Vzc1Rva2VuKXJldHVybiExO3ZhciBlLG4scjtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHQudmFsdWVPZigpPkRhdGUubm93KCl9KChlPW5ldyBEYXRlKHQudmF1bHRBY2Nlc3NFeHBpcnkpLG49Miwocj1uZXcgRGF0ZShlLmdldFRpbWUoKSkpLnNldE1pbnV0ZXMoZS5nZXRNaW51dGVzKCkrbikscikpfSx0LnByb3RvdHlwZS5fZ2V0Q3VycmVudEFjY2Vzc1Rva2VuPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0U3RhdGUoKS5pbnN0cnVtZW50cy5nZXRJbnN0cnVtZW50c01ldGEoKTtpZihlKXJldHVybnt2YXVsdEFjY2Vzc1Rva2VuOmUudmF1bHRBY2Nlc3NUb2tlbix2YXVsdEFjY2Vzc0V4cGlyeTplLnZhdWx0QWNjZXNzRXhwaXJ5fX0sdC5wcm90b3R5cGUuX2dldFZhbGlkQWNjZXNzVG9rZW49ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnRoaXMuX2lzVmFsaWRWYXVsdEFjY2Vzc1Rva2VuKHQpP1Byb21pc2UucmVzb2x2ZSh0KTp0aGlzLl9pbnN0cnVtZW50UmVxdWVzdFNlbmRlci5nZXRWYXVsdEFjY2Vzc1Rva2VuKCkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIHQuYm9keX0pKX0sdC5wcm90b3R5cGUuX2dldFNoaXBwaW5nQWRkcmVzcz1mdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRTdGF0ZSgpLnNoaXBwaW5nQWRkcmVzcy5nZXRTaGlwcGluZ0FkZHJlc3MoKX0sdC5wcm90b3R5cGUuX2dldFNlc3Npb25Db250ZXh0PWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0U3RhdGUoKSxuPWUuY29uZmlnLmdldFN0b3JlQ29uZmlnKCkscj1lLmNhcnQuZ2V0Q2FydCgpO2lmKCFuKXRocm93IG5ldyB2LmIodi5hLk1pc3NpbmdDaGVja291dENvbmZpZyk7aWYoIXIpdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ0NhcnQpO3JldHVybntjdXN0b21lcklkOnIuY3VzdG9tZXJJZCxzdG9yZUlkOm4uc3RvcmVQcm9maWxlLnN0b3JlSWQsY3VycmVuY3lDb2RlOihuLnNob3BwZXJDdXJyZW5jeS5pc1RyYW5zYWN0aW9uYWw/bi5zaG9wcGVyQ3VycmVuY3k6bi5jdXJyZW5jeSkuY29kZX19LHR9KCk7dmFyIHhyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUudHJhbnNmb3JtUmVzcG9uc2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fdHJhbnNmb3JtUmVzcG9uc2UodCksbj1lLmJvZHkscj1PYmplY3QoZC5fX3Jlc3QpKGUsW1wiYm9keVwiXSk7cmV0dXJuIE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30scikse2JvZHk6e3ZhdWx0ZWRJbnN0cnVtZW50czp0aGlzLl90cmFuc2Zvcm1WYXVsdGVkSW5zdHJ1bWVudHMobi52YXVsdGVkX2luc3RydW1lbnRzKX19KX0sdC5wcm90b3R5cGUudHJhbnNmb3JtRXJyb3JSZXNwb25zZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fdHJhbnNmb3JtUmVzcG9uc2UodCl9LHQucHJvdG90eXBlLnRyYW5zZm9ybVZhdWx0QWNjZXNzUmVzcG9uc2U9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30sdCkse2JvZHk6e3ZhdWx0QWNjZXNzVG9rZW46dC5ib2R5LmRhdGEudG9rZW4sdmF1bHRBY2Nlc3NFeHBpcnk6dC5ib2R5LmRhdGEuZXhwaXJlc19hdH19KX0sdC5wcm90b3R5cGUuX3RyYW5zZm9ybVZhdWx0ZWRJbnN0cnVtZW50cz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiB2b2lkIDA9PT10JiYodD1bXSksdC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlLl9pc1BheVBhbEluc3RydW1lbnQodCk/ZnVuY3Rpb24odCl7cmV0dXJue2JpZ3BheVRva2VuOnQuYmlncGF5X3Rva2VuLGRlZmF1bHRJbnN0cnVtZW50OnQuZGVmYXVsdF9pbnN0cnVtZW50LHByb3ZpZGVyOnQucHJvdmlkZXIsZXh0ZXJuYWxJZDp0LmV4dGVybmFsX2lkLHRydXN0ZWRTaGlwcGluZ0FkZHJlc3M6dC50cnVzdGVkX3NoaXBwaW5nX2FkZHJlc3MsbWV0aG9kOlwicGF5cGFsXCIsdHlwZTpcImFjY291bnRcIn19KHQpOmUuX2lzQmFua0luc3RydW1lbnQodCk/ZnVuY3Rpb24odCl7cmV0dXJue2JpZ3BheVRva2VuOnQuYmlncGF5X3Rva2VuLGRlZmF1bHRJbnN0cnVtZW50OnQuZGVmYXVsdF9pbnN0cnVtZW50LHByb3ZpZGVyOnQucHJvdmlkZXIsZXh0ZXJuYWxJZDp0LmV4dGVybmFsX2lkLHRydXN0ZWRTaGlwcGluZ0FkZHJlc3M6dC50cnVzdGVkX3NoaXBwaW5nX2FkZHJlc3MsYWNjb3VudE51bWJlcjp0LmFjY291bnRfbnVtYmVyLGlzc3Vlcjp0Lmlzc3VlcixpYmFuOnQuaWJhbixtZXRob2Q6dC5tZXRob2QsdHlwZTpcImJhbmtcIn19KHQpOmZ1bmN0aW9uKHQpe3JldHVybntiaWdwYXlUb2tlbjp0LmJpZ3BheV90b2tlbixkZWZhdWx0SW5zdHJ1bWVudDp0LmRlZmF1bHRfaW5zdHJ1bWVudCxwcm92aWRlcjp0LnByb3ZpZGVyLGlpbjp0LmlpbixsYXN0NDp0Lmxhc3RfNCxleHBpcnlNb250aDp0LmV4cGlyeV9tb250aCxleHBpcnlZZWFyOnQuZXhwaXJ5X3llYXIsYnJhbmQ6dC5icmFuZCx0cnVzdGVkU2hpcHBpbmdBZGRyZXNzOnQudHJ1c3RlZF9zaGlwcGluZ19hZGRyZXNzLG1ldGhvZDp0Lm1ldGhvZCx0eXBlOlwiY2FyZFwifX0odCl9KSl9LHQucHJvdG90eXBlLl9pc1BheVBhbEluc3RydW1lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuXCJwYXlwYWxcIj09PXQubWV0aG9kX3R5cGV9LHQucHJvdG90eXBlLl9pc0JhbmtJbnN0cnVtZW50PWZ1bmN0aW9uKHQpe3JldHVyblwiYmFua1wiPT09dC5tZXRob2RfdHlwZX0sdC5wcm90b3R5cGUuX3RyYW5zZm9ybVJlc3BvbnNlPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZGF0YSxuPU9iamVjdChkLl9fcmVzdCkodCxbXCJkYXRhXCJdKTtyZXR1cm4gT2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSxuKSx7Ym9keTplfSl9LHR9KCksQnI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fY2xpZW50PXQsdGhpcy5fcmVxdWVzdFNlbmRlcj1lLHRoaXMuX3RyYW5zZm9ybWVyPW5ldyB4cn1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0VmF1bHRBY2Nlc3NUb2tlbj1mdW5jdGlvbih0KXt2YXIgZT0odm9pZCAwPT09dD97fTp0KS50aW1lb3V0O3JldHVybiB0aGlzLl9yZXF1ZXN0U2VuZGVyLmdldChcIi9pbnRlcm5hbGFwaS92MS9jaGVja291dC9wYXltZW50cy92YXVsdC1hY2Nlc3MtdG9rZW5cIix7dGltZW91dDplfSkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30sdCkse2JvZHk6e3ZhdWx0QWNjZXNzVG9rZW46dC5ib2R5LmRhdGEudG9rZW4sdmF1bHRBY2Nlc3NFeHBpcnk6dC5ib2R5LmRhdGEuZXhwaXJlc19hdH19KX0pKX0sdC5wcm90b3R5cGUubG9hZEluc3RydW1lbnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU/dGhpcy5fbG9hZEluc3RydW1lbnRzV2l0aEFkZHJlc3ModCxlKTp0aGlzLl9sb2FkSW5zdHJ1bWVudHModCl9LHQucHJvdG90eXBlLmRlbGV0ZUluc3RydW1lbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9T2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSx0KSx7aW5zdHJ1bWVudElkOmV9KTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsZSl7bi5fY2xpZW50LmRlbGV0ZVNob3BwZXJJbnN0cnVtZW50KHIsKGZ1bmN0aW9uKHIsaSl7cmV0dXJuIHI/ZShuLl90cmFuc2Zvcm1lci50cmFuc2Zvcm1FcnJvclJlc3BvbnNlKHIpKTp0KG4uX3RyYW5zZm9ybWVyLnRyYW5zZm9ybVJlc3BvbnNlKGkpKX0pKX0pKX0sdC5wcm90b3R5cGUuX2xvYWRJbnN0cnVtZW50cz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXtlLl9jbGllbnQubG9hZEluc3RydW1lbnRzKHQsKGZ1bmN0aW9uKHQsaSl7cmV0dXJuIHQ/cihlLl90cmFuc2Zvcm1lci50cmFuc2Zvcm1FcnJvclJlc3BvbnNlKHQpKTpuKGUuX3RyYW5zZm9ybWVyLnRyYW5zZm9ybVJlc3BvbnNlKGkpKX0pKX0pKX0sdC5wcm90b3R5cGUuX2xvYWRJbnN0cnVtZW50c1dpdGhBZGRyZXNzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPU9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30sdCkse3NoaXBwaW5nQWRkcmVzczpPYmplY3Qobm4uYSkoZSl9KTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsZSl7bi5fY2xpZW50LmxvYWRJbnN0cnVtZW50c1dpdGhBZGRyZXNzKHIsKGZ1bmN0aW9uKHIsaSl7cmV0dXJuIHI/ZShuLl90cmFuc2Zvcm1lci50cmFuc2Zvcm1FcnJvclJlc3BvbnNlKHIpKTp0KG4uX3RyYW5zZm9ybWVyLnRyYW5zZm9ybVJlc3BvbnNlKGkpKX0pKX0pKX0sdH0oKSxHcj1uKDEzMCksVnI9bigxMzEpLFlyPW4oNDMpLEhyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9zaGlwcGluZ0NvdW50cnlSZXF1ZXN0U2VuZGVyPXR9cmV0dXJuIHQucHJvdG90eXBlLmxvYWRDb3VudHJpZXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gYi5PYnNlcnZhYmxlLmNyZWF0ZSgoZnVuY3Rpb24obil7bi5uZXh0KE9iamVjdChnLmNyZWF0ZUFjdGlvbikoWXIuYS5Mb2FkU2hpcHBpbmdDb3VudHJpZXNSZXF1ZXN0ZWQpKSxlLl9zaGlwcGluZ0NvdW50cnlSZXF1ZXN0U2VuZGVyLmxvYWRDb3VudHJpZXModCkudGhlbigoZnVuY3Rpb24odCl7bi5uZXh0KE9iamVjdChnLmNyZWF0ZUFjdGlvbikoWXIuYS5Mb2FkU2hpcHBpbmdDb3VudHJpZXNTdWNjZWVkZWQsdC5ib2R5LmRhdGEpKSxuLmNvbXBsZXRlKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe24uZXJyb3IoT2JqZWN0KGcuY3JlYXRlRXJyb3JBY3Rpb24pKFlyLmEuTG9hZFNoaXBwaW5nQ291bnRyaWVzRmFpbGVkLHQpKX0pKX0pKX0sdH0oKSxXcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLl9yZXF1ZXN0U2VuZGVyPXQsdGhpcy5fY29uZmlnPWV9cmV0dXJuIHQucHJvdG90eXBlLmxvYWRDb3VudHJpZXM9ZnVuY3Rpb24odCl7dmFyIGU9KHZvaWQgMD09PXQ/e306dCkudGltZW91dCxuPXtcIkFjY2VwdC1MYW5ndWFnZVwiOnRoaXMuX2NvbmZpZy5sb2NhbGV9O3JldHVybiB0aGlzLl9yZXF1ZXN0U2VuZGVyLmdldChcIi9pbnRlcm5hbGFwaS92MS9zaGlwcGluZy9jb3VudHJpZXNcIix7aGVhZGVyczpuLHRpbWVvdXQ6ZX0pfSx0fSgpLEtyPW4oOSksSnI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3N0cmF0ZWd5UmVnaXN0cnk9dH1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlQWRkcmVzcz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBiLk9ic2VydmFibGUuY3JlYXRlKChmdW5jdGlvbihpKXt2YXIgbz1yLmdldFN0YXRlKCkucGF5bWVudC5nZXRQYXltZW50SWQoKSxhPWUmJmUubWV0aG9kSWR8fG8mJm8ucHJvdmlkZXJJZDtpLm5leHQoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShLci5hLlVwZGF0ZUFkZHJlc3NSZXF1ZXN0ZWQsdm9pZCAwLHttZXRob2RJZDphfSkpLG4uX3N0cmF0ZWd5UmVnaXN0cnkuZ2V0KGEpLnVwZGF0ZUFkZHJlc3ModCxPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LGUpLHttZXRob2RJZDphfSkpLnRoZW4oKGZ1bmN0aW9uKCl7aS5uZXh0KE9iamVjdChnLmNyZWF0ZUFjdGlvbikoS3IuYS5VcGRhdGVBZGRyZXNzU3VjY2VlZGVkLHZvaWQgMCx7bWV0aG9kSWQ6YX0pKSxpLmNvbXBsZXRlKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2kuZXJyb3IoT2JqZWN0KGcuY3JlYXRlRXJyb3JBY3Rpb24pKEtyLmEuVXBkYXRlQWRkcmVzc0ZhaWxlZCx0LHttZXRob2RJZDphfSkpfSkpfSkpfX0sdC5wcm90b3R5cGUuc2VsZWN0T3B0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGIuT2JzZXJ2YWJsZS5jcmVhdGUoKGZ1bmN0aW9uKGkpe3ZhciBvPXIuZ2V0U3RhdGUoKS5wYXltZW50LmdldFBheW1lbnRJZCgpLGE9ZSYmZS5tZXRob2RJZHx8byYmby5wcm92aWRlcklkO2kubmV4dChPYmplY3QoZy5jcmVhdGVBY3Rpb24pKEtyLmEuU2VsZWN0T3B0aW9uUmVxdWVzdGVkLHZvaWQgMCx7bWV0aG9kSWQ6YX0pKSxuLl9zdHJhdGVneVJlZ2lzdHJ5LmdldChhKS5zZWxlY3RPcHRpb24odCxPYmplY3QoZC5fX2Fzc2lnbikoT2JqZWN0KGQuX19hc3NpZ24pKHt9LGUpLHttZXRob2RJZDphfSkpLnRoZW4oKGZ1bmN0aW9uKCl7aS5uZXh0KE9iamVjdChnLmNyZWF0ZUFjdGlvbikoS3IuYS5TZWxlY3RPcHRpb25TdWNjZWVkZWQsdm9pZCAwLHttZXRob2RJZDphfSkpLGkuY29tcGxldGUoKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7aS5lcnJvcihPYmplY3QoZy5jcmVhdGVFcnJvckFjdGlvbikoS3IuYS5TZWxlY3RPcHRpb25GYWlsZWQsdCx7bWV0aG9kSWQ6YX0pKX0pKX0pKX19LHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIGIuT2JzZXJ2YWJsZS5jcmVhdGUoKGZ1bmN0aW9uKHIpe3ZhciBpPW4uZ2V0U3RhdGUoKSxvPWkucGF5bWVudC5nZXRQYXltZW50SWQoKSxhPXQmJnQubWV0aG9kSWR8fG8mJm8ucHJvdmlkZXJJZCxzPU9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30sdCkse21ldGhvZElkOmF9KTtpZihhJiZpLnNoaXBwaW5nU3RyYXRlZ2llcy5pc0luaXRpYWxpemVkKGEpKXJldHVybiByLmNvbXBsZXRlKCk7ci5uZXh0KE9iamVjdChnLmNyZWF0ZUFjdGlvbikoS3IuYS5Jbml0aWFsaXplUmVxdWVzdGVkLHZvaWQgMCx7bWV0aG9kSWQ6YX0pKSxlLl9zdHJhdGVneVJlZ2lzdHJ5LmdldChhKS5pbml0aWFsaXplKHMpLnRoZW4oKGZ1bmN0aW9uKCl7ci5uZXh0KE9iamVjdChnLmNyZWF0ZUFjdGlvbikoS3IuYS5Jbml0aWFsaXplU3VjY2VlZGVkLHZvaWQgMCx7bWV0aG9kSWQ6YX0pKSxyLmNvbXBsZXRlKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3IuZXJyb3IoT2JqZWN0KGcuY3JlYXRlRXJyb3JBY3Rpb24pKEtyLmEuSW5pdGlhbGl6ZUZhaWxlZCx0LHttZXRob2RJZDphfSkpfSkpfSkpfX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBiLk9ic2VydmFibGUuY3JlYXRlKChmdW5jdGlvbihyKXt2YXIgaT1uLmdldFN0YXRlKCksbz1pLnBheW1lbnQuZ2V0UGF5bWVudElkKCksYT10JiZ0Lm1ldGhvZElkfHxvJiZvLnByb3ZpZGVySWQ7aWYoYSYmIWkuc2hpcHBpbmdTdHJhdGVnaWVzLmlzSW5pdGlhbGl6ZWQoYSkpcmV0dXJuIHIuY29tcGxldGUoKTtyLm5leHQoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShLci5hLkRlaW5pdGlhbGl6ZVJlcXVlc3RlZCx2b2lkIDAse21ldGhvZElkOmF9KSksZS5fc3RyYXRlZ3lSZWdpc3RyeS5nZXQoYSkuZGVpbml0aWFsaXplKE9iamVjdChkLl9fYXNzaWduKShPYmplY3QoZC5fX2Fzc2lnbikoe30sdCkse21ldGhvZElkOmF9KSkudGhlbigoZnVuY3Rpb24oKXtyLm5leHQoT2JqZWN0KGcuY3JlYXRlQWN0aW9uKShLci5hLkRlaW5pdGlhbGl6ZVN1Y2NlZWRlZCx2b2lkIDAse21ldGhvZElkOmF9KSksci5jb21wbGV0ZSgpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtyLmVycm9yKE9iamVjdChnLmNyZWF0ZUVycm9yQWN0aW9uKShLci5hLkRlaW5pdGlhbGl6ZUZhaWxlZCx0LHttZXRob2RJZDphfSkpfSkpfSkpfX0sdC5wcm90b3R5cGUud2lkZ2V0SW50ZXJhY3Rpb249ZnVuY3Rpb24odCxlKXtyZXR1cm4gYi5PYnNlcnZhYmxlLmNyZWF0ZSgoZnVuY3Rpb24obil7dmFyIHI9e21ldGhvZElkOmUmJmUubWV0aG9kSWR9O24ubmV4dChPYmplY3QoZy5jcmVhdGVBY3Rpb24pKEtyLmEuV2lkZ2V0SW50ZXJhY3Rpb25TdGFydGVkLHZvaWQgMCxyKSksdCgpLnRoZW4oKGZ1bmN0aW9uKCl7bi5uZXh0KE9iamVjdChnLmNyZWF0ZUFjdGlvbikoS3IuYS5XaWRnZXRJbnRlcmFjdGlvbkZpbmlzaGVkLHZvaWQgMCxyKSksbi5jb21wbGV0ZSgpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtuLmVycm9yKE9iamVjdChnLmNyZWF0ZUVycm9yQWN0aW9uKShLci5hLldpZGdldEludGVyYWN0aW9uRmFpbGVkLHQscikpfSkpfSkpfSx0fSgpLFpyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyLGkpe3RoaXMuX3N0b3JlPXQsdGhpcy5fY29uc2lnbm1lbnRBY3Rpb25DcmVhdG9yPWUsdGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3I9bix0aGlzLl9yZW1vdGVDaGVja291dEFjdGlvbkNyZWF0b3I9cix0aGlzLl9zY3JpcHRMb2FkZXI9aSx0aGlzLl93aW5kb3c9d2luZG93fXJldHVybiB0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10LmFtYXpvbixyPXQubWV0aG9kSWQ7aWYoIW58fCFyKXRocm93IG5ldyBJdC5hKCdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIFwib3B0aW9ucy5hbWF6b25cIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuJyk7cmV0dXJuIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yLmxvYWRQYXltZW50TWV0aG9kKHIpKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGksbyl7aWYoZS5fcGF5bWVudE1ldGhvZD10LnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2QociksIWUuX3BheW1lbnRNZXRob2QpdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ1BheW1lbnRNZXRob2QpO2UuX3NjcmlwdExvYWRlci5sb2FkV2lkZ2V0KGUuX3BheW1lbnRNZXRob2QsKGZ1bmN0aW9uKCl7ZS5fY3JlYXRlQWRkcmVzc0Jvb2sobikudGhlbihpKS5jYXRjaChvKX0pKS5jYXRjaChvKX0pKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBlLl9zdG9yZS5nZXRTdGF0ZSgpfSkpfSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGF5bWVudE1ldGhvZD12b2lkIDAsUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3N0b3JlLmdldFN0YXRlKCkpfSx0LnByb3RvdHlwZS51cGRhdGVBZGRyZXNzPWZ1bmN0aW9uKHQsZSl7dmFyIG49T2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSx0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLnNoaXBwaW5nQWRkcmVzcy5nZXRTaGlwcGluZ0FkZHJlc3MoKSkse2N1c3RvbUZpZWxkczp0LmN1c3RvbUZpZWxkc30pO3JldHVybiB0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9jb25zaWdubWVudEFjdGlvbkNyZWF0b3IudXBkYXRlQWRkcmVzcyhuLGUpKX0sdC5wcm90b3R5cGUuc2VsZWN0T3B0aW9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX2NvbnNpZ25tZW50QWN0aW9uQ3JlYXRvci5zZWxlY3RTaGlwcGluZ09wdGlvbih0LGUpKX0sdC5wcm90b3R5cGUuX2NyZWF0ZUFkZHJlc3NCb29rPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe3ZhciBpPXQuY29udGFpbmVyLG89dC5vbkFkZHJlc3NTZWxlY3QsYT12b2lkIDA9PT1vP2Z1bmN0aW9uKCl7fTpvLHM9dC5vbkVycm9yLGM9dm9pZCAwPT09cz9mdW5jdGlvbigpe306cyx1PXQub25SZWFkeSxkPXZvaWQgMD09PXU/ZnVuY3Rpb24oKXt9OnUscD1lLl9wYXltZW50TWV0aG9kJiZlLl9wYXltZW50TWV0aG9kLmNvbmZpZy5tZXJjaGFudElkO2lmKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpKSlyZXR1cm4gcihuZXcgSXQuYShcIlVuYWJsZSB0byBjcmVhdGUgQW1hem9uUGF5IEFkZHJlc3NCb29rIHdpZGdldCB3aXRob3V0IHZhbGlkIGNvbnRhaW5lciBJRC5cIikpO2lmKCFlLl93aW5kb3cuT2ZmQW1hem9uUGF5bWVudHMpcmV0dXJuIHIobmV3IGJ0LmIoYnQuYS5TaGlwcGluZ05vdEluaXRpYWxpemVkKSk7aWYoIXApcmV0dXJuIHIobmV3IHYuYih2LmEuTWlzc2luZ1BheW1lbnRNZXRob2QpKTt2YXIgaD1uZXcgZS5fd2luZG93Lk9mZkFtYXpvblBheW1lbnRzLldpZGdldHMuQWRkcmVzc0Jvb2soe2Rlc2lnbjp7ZGVzaWduTW9kZTpcInJlc3BvbnNpdmVcIn0sc2NvcGU6XCJwYXltZW50czpiaWxsaW5nX2FkZHJlc3MgcGF5bWVudHM6c2hpcHBpbmdfYWRkcmVzcyBwYXltZW50czp3aWRnZXQgcHJvZmlsZVwiLHNlbGxlcklkOnAsb25BZGRyZXNzU2VsZWN0OmZ1bmN0aW9uKHQpe2UuX3N5bmNocm9uaXplU2hpcHBpbmdBZGRyZXNzKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gYSh0KX0pKS5jYXRjaChjKX0sb25FcnJvcjpmdW5jdGlvbih0KXtyKHQpLGModCl9LG9uUmVhZHk6ZnVuY3Rpb24odCl7ZS5fdXBkYXRlT3JkZXJSZWZlcmVuY2UodCkudGhlbigoZnVuY3Rpb24oKXtuKCksZCh0KX0pKS5jYXRjaChjKX19KTtyZXR1cm4gaC5iaW5kKGkpLGh9KSl9LHQucHJvdG90eXBlLl9zeW5jaHJvbml6ZVNoaXBwaW5nQWRkcmVzcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10aGlzLl9wYXltZW50TWV0aG9kJiZ0aGlzLl9wYXltZW50TWV0aG9kLmlkLG49dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKS5yZW1vdGVDaGVja291dC5nZXRDaGVja291dChcImFtYXpvblwiKSxyPW4/bi5yZWZlcmVuY2VJZDp2b2lkIDA7aWYoIWV8fCFyKXRocm93IG5ldyB1bi5hO3JldHVybiB0aGlzLl9zdG9yZS5kaXNwYXRjaChPYmplY3QoZy5jcmVhdGVBY3Rpb24pKEtyLmEuVXBkYXRlQWRkcmVzc1JlcXVlc3RlZCx2b2lkIDAse21ldGhvZElkOmV9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdC5fc3RvcmUuZGlzcGF0Y2godC5fcmVtb3RlQ2hlY2tvdXRBY3Rpb25DcmVhdG9yLmluaXRpYWxpemVTaGlwcGluZyhlLHtyZWZlcmVuY2VJZDpyfSkpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3ZhciBuPWUucmVtb3RlQ2hlY2tvdXQuZ2V0Q2hlY2tvdXQoXCJhbWF6b25cIikscj1uJiZuLnNoaXBwaW5nJiZuLnNoaXBwaW5nLmFkZHJlc3MsaT1lLnNoaXBwaW5nQWRkcmVzcy5nZXRTaGlwcGluZ0FkZHJlc3MoKTtpZighMT09PXIpdGhyb3cgbmV3IHVuLmE7cmV0dXJuIXJ8fGFuKHIsaXx8e30pP3QuX3N0b3JlLmdldFN0YXRlKCk6dC5fc3RvcmUuZGlzcGF0Y2godC5fY29uc2lnbm1lbnRBY3Rpb25DcmVhdG9yLnVwZGF0ZUFkZHJlc3MoY24ocikpKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0Ll9zdG9yZS5kaXNwYXRjaChPYmplY3QoZy5jcmVhdGVBY3Rpb24pKEtyLmEuVXBkYXRlQWRkcmVzc1N1Y2NlZWRlZCx2b2lkIDAse21ldGhvZElkOmV9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKG4pe3JldHVybiB0Ll9zdG9yZS5kaXNwYXRjaChPYmplY3QoZy5jcmVhdGVFcnJvckFjdGlvbikoS3IuYS5VcGRhdGVBZGRyZXNzRmFpbGVkLG4se21ldGhvZElkOmV9KSl9KSl9LHQucHJvdG90eXBlLl91cGRhdGVPcmRlclJlZmVyZW5jZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcmVtb3RlQ2hlY2tvdXRBY3Rpb25DcmVhdG9yLnVwZGF0ZUNoZWNrb3V0KFwiYW1hem9uXCIse3JlZmVyZW5jZUlkOnQuZ2V0QW1hem9uT3JkZXJSZWZlcmVuY2VJZCgpfSkpfSx0fSgpLFFyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyLGkpe3RoaXMuX3N0b3JlPXQsdGhpcy5fY29uc2lnbm1lbnRBY3Rpb25DcmVhdG9yPWUsdGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3I9bix0aGlzLl9hbWF6b25QYXlWMlBheW1lbnRQcm9jZXNzb3I9cix0aGlzLl9zaGlwcGluZ1N0cmF0ZWd5QWN0aW9uQ3JlYXRvcj1pfXJldHVybiB0LnByb3RvdHlwZS51cGRhdGVBZGRyZXNzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fc3RvcmUuZ2V0U3RhdGUoKS5zaGlwcGluZ0FkZHJlc3MuZ2V0U2hpcHBpbmdBZGRyZXNzKCk7aWYoIW4pdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ1NoaXBwaW5nQWRkcmVzcyk7dmFyIHI9T2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSxuKSx7Y3VzdG9tRmllbGRzOnQuY3VzdG9tRmllbGRzfSk7cmV0dXJuIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX2NvbnNpZ25tZW50QWN0aW9uQ3JlYXRvci51cGRhdGVBZGRyZXNzKHIsZSkpfSx0LnByb3RvdHlwZS5zZWxlY3RPcHRpb249ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fY29uc2lnbm1lbnRBY3Rpb25DcmVhdG9yLnNlbGVjdFNoaXBwaW5nT3B0aW9uKHQsZSkpfSx0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoZC5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSxuLHIsaSxvLGE7cmV0dXJuIE9iamVjdChkLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihzKXtzd2l0Y2gocy5sYWJlbCl7Y2FzZSAwOmlmKGU9dC5hbWF6b25wYXksbj10Lm1ldGhvZElkLCFlfHwhbil0aHJvdyBuZXcgSXQuYSgnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBcIm9wdGlvbnMuYW1hem9ucGF5XCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicpO3JldHVybls0LHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yLmxvYWRQYXltZW50TWV0aG9kKG4pKV07Y2FzZSAxOnJldHVybiByPXMuc2VudCgpLGk9ci5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyhuKSxbNCx0aGlzLl9hbWF6b25QYXlWMlBheW1lbnRQcm9jZXNzb3IuaW5pdGlhbGl6ZShpKV07Y2FzZSAyOnJldHVybiBzLnNlbnQoKSxvPWkuaW5pdGlhbGl6YXRpb25EYXRhLnBheW1lbnRUb2tlbixhPWUuZWRpdEFkZHJlc3NCdXR0b25JZCxvJiZhJiZ0aGlzLl9iaW5kRWRpdEJ1dHRvbihhLG8sXCJjaGFuZ2VBZGRyZXNzXCIpLFsyLHRoaXMuX3N0b3JlLmdldFN0YXRlKCldfX0pKX0pKX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLl9hbWF6b25QYXlWMlBheW1lbnRQcm9jZXNzb3IuZGVpbml0aWFsaXplKCldO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksWzIsUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3N0b3JlLmdldFN0YXRlKCkpXX19KSl9KSl9LHQucHJvdG90eXBlLl9iaW5kRWRpdEJ1dHRvbj1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcyxpPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHQpO2lmKGkmJmkucGFyZW50Tm9kZSl7dmFyIG89aS5jbG9uZU5vZGUoITApO2kucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobyxpKSxvLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLChmdW5jdGlvbigpe3JldHVybiByLl9zaG93TG9hZGluZ1NwaW5uZXIoKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBQcm9taXNlKGIubm9vcCl9KSl9KSksdGhpcy5fYW1hem9uUGF5VjJQYXltZW50UHJvY2Vzc29yLmJpbmRCdXR0b24odCxlLG4pfX0sdC5wcm90b3R5cGUuX3Nob3dMb2FkaW5nU3Bpbm5lcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fc2hpcHBpbmdTdHJhdGVneUFjdGlvbkNyZWF0b3Iud2lkZ2V0SW50ZXJhY3Rpb24oKGZ1bmN0aW9uKCl7cmV0dXJuIHQ/dCgpOlByb21pc2UucmVqZWN0KCl9KSkse3F1ZXVlSWQ6XCJ3aWRnZXRJbnRlcmFjdGlvblwifSl9LHR9KCksWHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fc3RvcmU9dCx0aGlzLl9jb25zaWdubWVudEFjdGlvbkNyZWF0b3I9ZX1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlQWRkcmVzcz1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9jb25zaWdubWVudEFjdGlvbkNyZWF0b3IudXBkYXRlQWRkcmVzcyh0LGUpKX0sdC5wcm90b3R5cGUuc2VsZWN0T3B0aW9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX2NvbnNpZ25tZW50QWN0aW9uQ3JlYXRvci5zZWxlY3RTaGlwcGluZ09wdGlvbih0LGUpKX0sdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSl9LHQucHJvdG90eXBlLmRlaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmUuZ2V0U3RhdGUoKSl9LHR9KCk7dmFyICRyLHRpPW4oNDQpLGVpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9yZXF1ZXN0U2VuZGVyPXR9cmV0dXJuIHQucHJvdG90eXBlLnNlbmRTaWduSW5FbWFpbD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIE9iamVjdChiLmNvbmNhdCkoT2JqZWN0KGIub2YpKE9iamVjdChnLmNyZWF0ZUFjdGlvbikodGkuYS5TZW5kU2lnbkluRW1haWxSZXF1ZXN0ZWQpKSxPYmplY3QoYi5kZWZlcikoKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChkLl9fYXdhaXRlcikobix2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBuO3JldHVybiBPYmplY3QoZC5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLl9yZXF1ZXN0U2VuZGVyLnNlbmRTaWduSW5FbWFpbCh0LGUpXTtjYXNlIDE6cmV0dXJuIG49ci5zZW50KCkuYm9keSxbMixPYmplY3QoZy5jcmVhdGVBY3Rpb24pKHRpLmEuU2VuZFNpZ25JbkVtYWlsU3VjY2VlZGVkLG4pXX19KSl9KSl9KSkpLnBpcGUoT2JqZWN0KE0uY2F0Y2hFcnJvcikoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoVC5hKSh0aS5hLlNlbmRTaWduSW5FbWFpbEZhaWxlZCx0KX0pKSl9LHR9KCksbmk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3JlcXVlc3RTZW5kZXI9dH1yZXR1cm4gdC5wcm90b3R5cGUuc2VuZFNpZ25JbkVtYWlsPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5lbWFpbCxyPXQucmVkaXJlY3RVcmwsaT0odm9pZCAwPT09ZT97fTplKS50aW1lb3V0LG89e0FjY2VwdDpJLmEuSnNvblYxfTtyZXR1cm4gdGhpcy5fcmVxdWVzdFNlbmRlci5wb3N0KFwiL2xvZ2luLnBocD9hY3Rpb249cGFzc3dvcmRsZXNzX2xvZ2luXCIse2JvZHk6e2VtYWlsOm4scmVkaXJlY3RfdXJsOnJ8fE9iamVjdChwZS5hKSh3aW5kb3cudG9wLmxvY2F0aW9uLmhyZWYpLnBhdGhuYW1lfSxoZWFkZXJzOm8sdGltZW91dDppfSl9LHR9KCk7IWZ1bmN0aW9uKHQpe3QuU3luY2hyb25pemU9XCJTWU5DSFJPTklaRVwifSgkcnx8KCRyPXt9KSk7dmFyIHJpPW4oMTcxKSxpaT1uKDQxKSxvaT1PYmplY3QoQnQubWVtb2l6ZSkoKGZ1bmN0aW9uKHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpP3QubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gYWkodCl9KSk6T2JqZWN0KGlpLmEpKHQpP09iamVjdC5rZXlzKHQpLnJlZHVjZSgoZnVuY3Rpb24oZSxuKXt2YXIgcjtyZXR1cm4gT2JqZWN0KGQuX19hc3NpZ24pKE9iamVjdChkLl9fYXNzaWduKSh7fSxlKSwoKHI9e30pW25dPWFpKHRbbl0pLHIpKX0pLHt9KTp0fSkpO29pLmNhY2hlPW5ldyBXZWFrTWFwO3ZhciBhaT1mdW5jdGlvbih0KXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgdCYmbnVsbCE9PXQ/b2kodCk6dH07ZnVuY3Rpb24gc2kodCl7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLG49MDtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWVbbl09YXJndW1lbnRzW25dO3JldHVybiBhaSh0LmFwcGx5KHZvaWQgMCxlKSl9fXZhciBjaT1uKDc3KSx1aT1uKDY2KSxkaT1uLm4odWkpLHBpPW4oODUpLGhpPU9iamVjdChjaS5jcmVhdGVTZWxlY3RvckNyZWF0b3IpKGNpLmRlZmF1bHRNZW1vaXplLChmdW5jdGlvbih0LGUpe3JldHVybiBkaSgpKHQsZSl9KSksbGk9T2JqZWN0KHBpLmEpKGhpKTtmdW5jdGlvbiBtaSgpe3ZhciB0LGUsbixyLGksbyxhLHMsYyx1LHAsaCxsLG0sZixfLHksZyxiLHYsQyxPLFMsdyxJLEEsRSxQLGosayxNLFQsUixEPSh0PU9iamVjdChyaS5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuY2hlY2tvdXQuZ2V0Q2hlY2tvdXR9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHNpKHQpfSkpLGU9T2JqZWN0KHJpLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5vcmRlci5nZXRPcmRlcn0pLChmdW5jdGlvbih0KXtyZXR1cm4gc2kodCl9KSksbj1PYmplY3QocmkuYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbmZpZy5nZXRTdG9yZUNvbmZpZ30pLChmdW5jdGlvbih0KXtyZXR1cm4gc2kodCl9KSkscj1PYmplY3QocmkuYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnNoaXBwaW5nQWRkcmVzcy5nZXRTaGlwcGluZ0FkZHJlc3N9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHQuY29uZmlnLmdldENvbnRleHRDb25maWd9KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gc2koKGZ1bmN0aW9uKCl7dmFyIG49dCgpLHI9ZSgpO2lmKCFuKXtpZighcnx8IXIuZ2VvQ291bnRyeUNvZGUpcmV0dXJuO3JldHVybntmaXJzdE5hbWU6XCJcIixsYXN0TmFtZTpcIlwiLGNvbXBhbnk6XCJcIixhZGRyZXNzMTpcIlwiLGFkZHJlc3MyOlwiXCIsY2l0eTpcIlwiLHN0YXRlT3JQcm92aW5jZTpcIlwiLHN0YXRlT3JQcm92aW5jZUNvZGU6XCJcIixwb3N0YWxDb2RlOlwiXCIsY291bnRyeTpcIlwiLHBob25lOlwiXCIsY3VzdG9tRmllbGRzOltdLGNvdW50cnlDb2RlOnIuZ2VvQ291bnRyeUNvZGV9fXJldHVybiBufSkpfSkpLGk9T2JqZWN0KHJpLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jb25zaWdubWVudHMuZ2V0Q29uc2lnbm1lbnRzfSksKGZ1bmN0aW9uKHQpe3JldHVybiBzaSgoZnVuY3Rpb24oKXt2YXIgZT10KCk7aWYoZSYmZS5sZW5ndGgpcmV0dXJuIGVbMF0uYXZhaWxhYmxlU2hpcHBpbmdPcHRpb25zfSkpfSkpLG89T2JqZWN0KHJpLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jb25zaWdubWVudHMuZ2V0Q29uc2lnbm1lbnRzfSksKGZ1bmN0aW9uKHQpe3JldHVybiBzaSh0KX0pKSxhPU9iamVjdChyaS5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuY29uc2lnbm1lbnRzLmdldENvbnNpZ25tZW50c30pLChmdW5jdGlvbih0KXtyZXR1cm4gc2koKGZ1bmN0aW9uKCl7dmFyIGU9dCgpO2lmKGUmJmUubGVuZ3RoKXJldHVybiBlWzBdLnNlbGVjdGVkU2hpcHBpbmdPcHRpb259KSl9KSkscz1PYmplY3QocmkuYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnNoaXBwaW5nQ291bnRyaWVzLmdldFNoaXBwaW5nQ291bnRyaWVzfSksKGZ1bmN0aW9uKHQpe3JldHVybiBzaSh0KX0pKSxjPU9iamVjdChyaS5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuYmlsbGluZ0FkZHJlc3MuZ2V0QmlsbGluZ0FkZHJlc3N9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHQuY29uZmlnLmdldENvbnRleHRDb25maWd9KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gc2koKGZ1bmN0aW9uKCl7dmFyIG49dCgpLHI9ZSgpO3JldHVybighbnx8T2JqZWN0KEJ0LnZhbHVlcykoT2JqZWN0KEJ0Lm9taXQpKG4sXCJzaG91bGRTYXZlQWRkcmVzc1wiLFwiZW1haWxcIixcImlkXCIpKS5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIXR8fCF0Lmxlbmd0aH0pKSkmJnImJnIuZ2VvQ291bnRyeUNvZGU/e2lkOm4/bi5pZDpcIlwiLGZpcnN0TmFtZTpcIlwiLGxhc3ROYW1lOlwiXCIsY29tcGFueTpcIlwiLGFkZHJlc3MxOlwiXCIsYWRkcmVzczI6XCJcIixjaXR5OlwiXCIsZW1haWw6bj9uLmVtYWlsOlwiXCIsc3RhdGVPclByb3ZpbmNlOlwiXCIsc3RhdGVPclByb3ZpbmNlQ29kZTpcIlwiLHBvc3RhbENvZGU6XCJcIixjb3VudHJ5OlwiXCIscGhvbmU6XCJcIixjdXN0b21GaWVsZHM6W10sY291bnRyeUNvZGU6ci5nZW9Db3VudHJ5Q29kZX06bn0pKX0pKSx1PU9iamVjdChyaS5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuY291bnRyaWVzLmdldENvdW50cmllc30pLChmdW5jdGlvbih0KXtyZXR1cm4gc2kodCl9KSkscD1PYmplY3QocmkuYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2RzfSksKGZ1bmN0aW9uKHQpe3JldHVybiBzaSh0KX0pKSxoPU9iamVjdChyaS5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZH0pLChmdW5jdGlvbih0KXtyZXR1cm4gc2kodCl9KSksbD1PYmplY3QocmkuYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnBheW1lbnQuZ2V0UGF5bWVudElkfSksKGZ1bmN0aW9uKHQpe3JldHVybiB0LnBheW1lbnRNZXRob2RzLmdldFBheW1lbnRNZXRob2R9KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gc2koKGZ1bmN0aW9uKCl7dmFyIG49dCgpO3JldHVybiBuJiZlKG4ucHJvdmlkZXJJZCxuLmdhdGV3YXlJZCl9KSl9KSksbT1PYmplY3QocmkuYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNhcnQuZ2V0Q2FydH0pLChmdW5jdGlvbih0KXtyZXR1cm4gc2kodCl9KSksZj1PYmplY3QocmkuYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvdXBvbnMuZ2V0Q291cG9uc30pLChmdW5jdGlvbih0KXtyZXR1cm4gc2kodCl9KSksXz1PYmplY3QocmkuYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmdpZnRDZXJ0aWZpY2F0ZXMuZ2V0R2lmdENlcnRpZmljYXRlc30pLChmdW5jdGlvbih0KXtyZXR1cm4gc2kodCl9KSkseT1PYmplY3QocmkuYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmN1c3RvbWVyLmdldEN1c3RvbWVyfSksKGZ1bmN0aW9uKHQpe3JldHVybiBzaSh0KX0pKSxnPU9iamVjdChyaS5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc2lnbkluRW1haWwuZ2V0RW1haWx9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHNpKHQpfSkpLGI9T2JqZWN0KHJpLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5wYXltZW50LmlzUGF5bWVudERhdGFSZXF1aXJlZH0pLChmdW5jdGlvbih0KXtyZXR1cm4gc2kodCl9KSksdj1PYmplY3QocmkuYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnBheW1lbnQuaXNQYXltZW50RGF0YVN1Ym1pdHRlZH0pLChmdW5jdGlvbih0KXtyZXR1cm4gdC5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kfSksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHNpKChmdW5jdGlvbihuLHIpe3JldHVybiB0KGUobixyKSl9KSl9KSksQz1PYmplY3QocmkuYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lmluc3RydW1lbnRzLmdldEluc3RydW1lbnRzfSksKGZ1bmN0aW9uKHQpe3JldHVybiB0Lmluc3RydW1lbnRzLmdldEluc3RydW1lbnRzQnlQYXltZW50TWV0aG9kfSksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHNpKChmdW5jdGlvbihuKXtyZXR1cm4gbj9lKG4pOnQoKX0pKX0pKSxPPU9iamVjdChyaS5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZm9ybS5nZXRDdXN0b21lckFjY291bnRGaWVsZHN9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHNpKHQpfSkpLFM9T2JqZWN0KHJpLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5mb3JtLmdldEJpbGxpbmdBZGRyZXNzRmllbGRzfSksKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvdW50cmllcy5nZXRDb3VudHJpZXN9KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gc2koKGZ1bmN0aW9uKG4pe3JldHVybiB0KGUoKSxuKX0pKX0pKSx3PU9iamVjdChyaS5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZm9ybS5nZXRTaGlwcGluZ0FkZHJlc3NGaWVsZHN9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHQuc2hpcHBpbmdDb3VudHJpZXMuZ2V0U2hpcHBpbmdDb3VudHJpZXN9KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gc2koKGZ1bmN0aW9uKG4pe3JldHVybiB0KGUoKSxuKX0pKX0pKSxJPU9iamVjdChyaS5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuY29uZmlnLmdldEZsYXNoTWVzc2FnZXN9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHNpKHQpfSkpLE9iamVjdChndC5tZW1vaXplT25lKSgoZnVuY3Rpb24oZCl7cmV0dXJue2dldENoZWNrb3V0OnQoZCksZ2V0T3JkZXI6ZShkKSxnZXRDb25maWc6bihkKSxnZXRGbGFzaE1lc3NhZ2VzOkkoZCksZ2V0U2hpcHBpbmdBZGRyZXNzOnIoZCksZ2V0U2hpcHBpbmdPcHRpb25zOmkoZCksZ2V0Q29uc2lnbm1lbnRzOm8oZCksZ2V0U2VsZWN0ZWRTaGlwcGluZ09wdGlvbjphKGQpLGdldFNoaXBwaW5nQ291bnRyaWVzOnMoZCksZ2V0QmlsbGluZ0FkZHJlc3M6YyhkKSxnZXRCaWxsaW5nQ291bnRyaWVzOnUoZCksZ2V0UGF5bWVudE1ldGhvZHM6cChkKSxnZXRQYXltZW50TWV0aG9kOmgoZCksZ2V0U2VsZWN0ZWRQYXltZW50TWV0aG9kOmwoZCksZ2V0Q2FydDptKGQpLGdldENvdXBvbnM6ZihkKSxnZXRHaWZ0Q2VydGlmaWNhdGVzOl8oZCksZ2V0Q3VzdG9tZXI6eShkKSxpc1BheW1lbnREYXRhUmVxdWlyZWQ6YihkKSxpc1BheW1lbnREYXRhU3VibWl0dGVkOnYoZCksZ2V0U2lnbkluRW1haWw6ZyhkKSxnZXRJbnN0cnVtZW50czpDKGQpLGdldEN1c3RvbWVyQWNjb3VudEZpZWxkczpPKGQpLGdldEJpbGxpbmdBZGRyZXNzRmllbGRzOlMoZCksZ2V0U2hpcHBpbmdBZGRyZXNzRmllbGRzOncoZCl9fSkpKSx6PShBPWxpKChmdW5jdGlvbih0KXtyZXR1cm4gdH0pLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIGU9MCxuPU9iamVjdC5rZXlzKHQpO2U8bi5sZW5ndGg7ZSsrKXt2YXIgcj1uW2VdLGk9dFtyXSgpO2lmKGkpcmV0dXJuIGl9fX0pKSxFPU9iamVjdChyaS5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc2hpcHBpbmdTdHJhdGVnaWVzLmdldFNlbGVjdE9wdGlvbkVycm9yfSksKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbnNpZ25tZW50cy5nZXRVcGRhdGVTaGlwcGluZ09wdGlvbkVycm9yfSksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiB0KCl8fGUobil9fSkpLE9iamVjdChndC5tZW1vaXplT25lKSgoZnVuY3Rpb24odCl7dmFyIGU9e2dldExvYWRDaGVja291dEVycm9yOnQuY2hlY2tvdXQuZ2V0TG9hZEVycm9yLGdldFVwZGF0ZUNoZWNrb3V0RXJyb3I6dC5jaGVja291dC5nZXRVcGRhdGVFcnJvcixnZXRTdWJtaXRPcmRlckVycm9yOnQucGF5bWVudFN0cmF0ZWdpZXMuZ2V0RXhlY3V0ZUVycm9yLGdldEZpbmFsaXplT3JkZXJFcnJvcjp0LnBheW1lbnRTdHJhdGVnaWVzLmdldEZpbmFsaXplRXJyb3IsZ2V0TG9hZE9yZGVyRXJyb3I6dC5vcmRlci5nZXRMb2FkRXJyb3IsZ2V0TG9hZENhcnRFcnJvcjp0LmNhcnQuZ2V0TG9hZEVycm9yLGdldExvYWRCaWxsaW5nQ291bnRyaWVzRXJyb3I6dC5jb3VudHJpZXMuZ2V0TG9hZEVycm9yLGdldExvYWRTaGlwcGluZ0NvdW50cmllc0Vycm9yOnQuc2hpcHBpbmdDb3VudHJpZXMuZ2V0TG9hZEVycm9yLGdldExvYWRQYXltZW50TWV0aG9kc0Vycm9yOnQucGF5bWVudE1ldGhvZHMuZ2V0TG9hZEVycm9yLGdldExvYWRQYXltZW50TWV0aG9kRXJyb3I6dC5wYXltZW50TWV0aG9kcy5nZXRMb2FkTWV0aG9kRXJyb3IsZ2V0SW5pdGlhbGl6ZVBheW1lbnRFcnJvcjp0LnBheW1lbnRTdHJhdGVnaWVzLmdldEluaXRpYWxpemVFcnJvcixnZXRTaWduSW5FcnJvcjp0LmN1c3RvbWVyU3RyYXRlZ2llcy5nZXRTaWduSW5FcnJvcixnZXRTaWduT3V0RXJyb3I6dC5jdXN0b21lclN0cmF0ZWdpZXMuZ2V0U2lnbk91dEVycm9yLGdldEluaXRpYWxpemVDdXN0b21lckVycm9yOnQuY3VzdG9tZXJTdHJhdGVnaWVzLmdldEluaXRpYWxpemVFcnJvcixnZXRMb2FkU2hpcHBpbmdPcHRpb25zRXJyb3I6dC5jb25zaWdubWVudHMuZ2V0TG9hZFNoaXBwaW5nT3B0aW9uc0Vycm9yLGdldFNlbGVjdFNoaXBwaW5nT3B0aW9uRXJyb3I6RSh0KSxnZXRDb250aW51ZUFzR3Vlc3RFcnJvcjp0LmJpbGxpbmdBZGRyZXNzLmdldENvbnRpbnVlQXNHdWVzdEVycm9yLGdldFVwZGF0ZUJpbGxpbmdBZGRyZXNzRXJyb3I6dC5iaWxsaW5nQWRkcmVzcy5nZXRVcGRhdGVFcnJvcixnZXRVcGRhdGVTdWJzY3JpcHRpb25zRXJyb3I6dC5zdWJzY3JpcHRpb25zLmdldFVwZGF0ZUVycm9yLGdldFVwZGF0ZVNoaXBwaW5nQWRkcmVzc0Vycm9yOnQuc2hpcHBpbmdTdHJhdGVnaWVzLmdldFVwZGF0ZUFkZHJlc3NFcnJvcixnZXREZWxldGVDb25zaWdubWVudEVycm9yOnQuY29uc2lnbm1lbnRzLmdldERlbGV0ZUVycm9yLGdldFVwZGF0ZUNvbnNpZ25tZW50RXJyb3I6dC5jb25zaWdubWVudHMuZ2V0VXBkYXRlRXJyb3IsZ2V0Q3JlYXRlQ29uc2lnbm1lbnRzRXJyb3I6dC5jb25zaWdubWVudHMuZ2V0Q3JlYXRlRXJyb3IsZ2V0SW5pdGlhbGl6ZVNoaXBwaW5nRXJyb3I6dC5zaGlwcGluZ1N0cmF0ZWdpZXMuZ2V0SW5pdGlhbGl6ZUVycm9yLGdldEFwcGx5U3RvcmVDcmVkaXRFcnJvcjp0LnN0b3JlQ3JlZGl0LmdldEFwcGx5RXJyb3IsZ2V0QXBwbHlDb3Vwb25FcnJvcjp0LmNvdXBvbnMuZ2V0QXBwbHlFcnJvcixnZXRSZW1vdmVDb3Vwb25FcnJvcjp0LmNvdXBvbnMuZ2V0UmVtb3ZlRXJyb3IsZ2V0QXBwbHlHaWZ0Q2VydGlmaWNhdGVFcnJvcjp0LmdpZnRDZXJ0aWZpY2F0ZXMuZ2V0QXBwbHlFcnJvcixnZXRSZW1vdmVHaWZ0Q2VydGlmaWNhdGVFcnJvcjp0LmdpZnRDZXJ0aWZpY2F0ZXMuZ2V0UmVtb3ZlRXJyb3IsZ2V0TG9hZEluc3RydW1lbnRzRXJyb3I6dC5pbnN0cnVtZW50cy5nZXRMb2FkRXJyb3IsZ2V0RGVsZXRlSW5zdHJ1bWVudEVycm9yOnQuaW5zdHJ1bWVudHMuZ2V0RGVsZXRlRXJyb3IsZ2V0TG9hZENvbmZpZ0Vycm9yOnQuY29uZmlnLmdldExvYWRFcnJvcixnZXRTaWduSW5FbWFpbEVycm9yOnQuc2lnbkluRW1haWwuZ2V0U2VuZEVycm9yLGdldENyZWF0ZUN1c3RvbWVyQWNjb3VudEVycm9yOnQuY3VzdG9tZXIuZ2V0Q3JlYXRlQWNjb3VudEVycm9yfTtyZXR1cm4gT2JqZWN0KGQuX19hc3NpZ24pKHtnZXRFcnJvcjpBKGUpfSxlKX0pKSksTD0oUD1saSgoZnVuY3Rpb24odCl7cmV0dXJuIHR9KSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5rZXlzKHQpLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdKCl9KSl9fSkpLGo9T2JqZWN0KHJpLmEpKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zaGlwcGluZ1N0cmF0ZWdpZXMuaXNTZWxlY3RpbmdPcHRpb259KSwoZnVuY3Rpb24odCl7cmV0dXJuIHQuY29uc2lnbm1lbnRzLmlzVXBkYXRpbmdTaGlwcGluZ09wdGlvbn0pLChmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gdCgpfHxlKG4pfX0pKSxrPU9iamVjdChyaS5hKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuY3VzdG9tZXJTdHJhdGVnaWVzLmlzSW5pdGlhbGl6aW5nfSksKGZ1bmN0aW9uKHQpe3JldHVybiB0LmN1c3RvbWVyU3RyYXRlZ2llcy5pc1NpZ25pbmdJbn0pLChmdW5jdGlvbih0KXtyZXR1cm4gdC5jdXN0b21lclN0cmF0ZWdpZXMuaXNTaWduaW5nT3V0fSksKGZ1bmN0aW9uKHQpe3JldHVybiB0LmN1c3RvbWVyU3RyYXRlZ2llcy5pc1dpZGdldEludGVyYWN0aW5nfSksKGZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4gdChpKXx8ZShpKXx8bihpKXx8cihpKX19KSksTT1PYmplY3QocmkuYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnNoaXBwaW5nU3RyYXRlZ2llcy5pc0luaXRpYWxpemluZ30pLChmdW5jdGlvbih0KXtyZXR1cm4gdC5zaGlwcGluZ1N0cmF0ZWdpZXMuaXNVcGRhdGluZ0FkZHJlc3N9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHQuc2hpcHBpbmdTdHJhdGVnaWVzLmlzU2VsZWN0aW5nT3B0aW9ufSksKGZ1bmN0aW9uKHQpe3JldHVybiB0LnNoaXBwaW5nU3RyYXRlZ2llcy5pc1dpZGdldEludGVyYWN0aW5nfSksKGZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4gdChpKXx8ZShpKXx8bihpKXx8cihpKX19KSksVD1PYmplY3QocmkuYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnBheW1lbnRTdHJhdGVnaWVzLmlzSW5pdGlhbGl6aW5nfSksKGZ1bmN0aW9uKHQpe3JldHVybiB0LnBheW1lbnRTdHJhdGVnaWVzLmlzRXhlY3V0aW5nfSksKGZ1bmN0aW9uKHQpe3JldHVybiB0LnBheW1lbnRTdHJhdGVnaWVzLmlzRmluYWxpemluZ30pLChmdW5jdGlvbih0KXtyZXR1cm4gdC5wYXltZW50U3RyYXRlZ2llcy5pc1dpZGdldEludGVyYWN0aW5nfSksKGZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4gdChpKXx8ZShpKXx8bihpKXx8cihpKX19KSksUj1PYmplY3QocmkuYSkoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnBheW1lbnRTdHJhdGVnaWVzLmlzRXhlY3V0aW5nfSksKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNoZWNrb3V0LmlzRXhlY3V0aW5nU3BhbUNoZWNrfSksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiB0KG4pfHxlKCl9fSkpLE9iamVjdChndC5tZW1vaXplT25lKSgoZnVuY3Rpb24odCl7dmFyIGU9e2lzTG9hZGluZ0NoZWNrb3V0OnQuY2hlY2tvdXQuaXNMb2FkaW5nLGlzVXBkYXRpbmdDaGVja291dDp0LmNoZWNrb3V0LmlzVXBkYXRpbmcsaXNFeGVjdXRpbmdTcGFtQ2hlY2s6dC5jaGVja291dC5pc0V4ZWN1dGluZ1NwYW1DaGVjayxpc1N1Ym1pdHRpbmdPcmRlcjpSKHQpLGlzRmluYWxpemluZ09yZGVyOnQucGF5bWVudFN0cmF0ZWdpZXMuaXNGaW5hbGl6aW5nLGlzTG9hZGluZ09yZGVyOnQub3JkZXIuaXNMb2FkaW5nLGlzTG9hZGluZ0NhcnQ6dC5jYXJ0LmlzTG9hZGluZyxpc0xvYWRpbmdCaWxsaW5nQ291bnRyaWVzOnQuY291bnRyaWVzLmlzTG9hZGluZyxpc0xvYWRpbmdTaGlwcGluZ0NvdW50cmllczp0LnNoaXBwaW5nQ291bnRyaWVzLmlzTG9hZGluZyxpc0xvYWRpbmdQYXltZW50TWV0aG9kczp0LnBheW1lbnRNZXRob2RzLmlzTG9hZGluZyxpc0xvYWRpbmdQYXltZW50TWV0aG9kOnQucGF5bWVudE1ldGhvZHMuaXNMb2FkaW5nTWV0aG9kLGlzSW5pdGlhbGl6aW5nUGF5bWVudDp0LnBheW1lbnRTdHJhdGVnaWVzLmlzSW5pdGlhbGl6aW5nLGlzU2lnbmluZ0luOnQuY3VzdG9tZXJTdHJhdGVnaWVzLmlzU2lnbmluZ0luLGlzU2lnbmluZ091dDp0LmN1c3RvbWVyU3RyYXRlZ2llcy5pc1NpZ25pbmdPdXQsaXNJbml0aWFsaXppbmdDdXN0b21lcjp0LmN1c3RvbWVyU3RyYXRlZ2llcy5pc0luaXRpYWxpemluZyxpc0xvYWRpbmdTaGlwcGluZ09wdGlvbnM6dC5jb25zaWdubWVudHMuaXNMb2FkaW5nU2hpcHBpbmdPcHRpb25zLGlzU2VsZWN0aW5nU2hpcHBpbmdPcHRpb246aih0KSxpc1VwZGF0aW5nQmlsbGluZ0FkZHJlc3M6dC5iaWxsaW5nQWRkcmVzcy5pc1VwZGF0aW5nLGlzVXBkYXRpbmdTdWJzY3JpcHRpb25zOnQuc3Vic2NyaXB0aW9ucy5pc1VwZGF0aW5nLGlzQ3JlYXRpbmdDdXN0b21lckFjY291bnQ6dC5jdXN0b21lci5pc0NyZWF0aW5nQ3VzdG9tZXJBY2NvdW50LGlzQ29udGludWluZ0FzR3Vlc3Q6dC5iaWxsaW5nQWRkcmVzcy5pc0NvbnRpbnVpbmdBc0d1ZXN0LGlzVXBkYXRpbmdTaGlwcGluZ0FkZHJlc3M6dC5zaGlwcGluZ1N0cmF0ZWdpZXMuaXNVcGRhdGluZ0FkZHJlc3MsaXNVcGRhdGluZ0NvbnNpZ25tZW50OnQuY29uc2lnbm1lbnRzLmlzVXBkYXRpbmcsaXNEZWxldGluZ0NvbnNpZ25tZW50OnQuY29uc2lnbm1lbnRzLmlzRGVsZXRpbmcsaXNDcmVhdGluZ0NvbnNpZ25tZW50czp0LmNvbnNpZ25tZW50cy5pc0NyZWF0aW5nLGlzSW5pdGlhbGl6aW5nU2hpcHBpbmc6dC5zaGlwcGluZ1N0cmF0ZWdpZXMuaXNJbml0aWFsaXppbmcsaXNBcHBseWluZ1N0b3JlQ3JlZGl0OnQuc3RvcmVDcmVkaXQuaXNBcHBseWluZyxpc0FwcGx5aW5nQ291cG9uOnQuY291cG9ucy5pc0FwcGx5aW5nLGlzUmVtb3ZpbmdDb3Vwb246dC5jb3Vwb25zLmlzUmVtb3ZpbmcsaXNBcHBseWluZ0dpZnRDZXJ0aWZpY2F0ZTp0LmdpZnRDZXJ0aWZpY2F0ZXMuaXNBcHBseWluZyxpc1JlbW92aW5nR2lmdENlcnRpZmljYXRlOnQuZ2lmdENlcnRpZmljYXRlcy5pc1JlbW92aW5nLGlzTG9hZGluZ0luc3RydW1lbnRzOnQuaW5zdHJ1bWVudHMuaXNMb2FkaW5nLGlzRGVsZXRpbmdJbnN0cnVtZW50OnQuaW5zdHJ1bWVudHMuaXNEZWxldGluZyxpc0xvYWRpbmdDb25maWc6dC5jb25maWcuaXNMb2FkaW5nLGlzU2VuZGluZ1NpZ25JbkVtYWlsOnQuc2lnbkluRW1haWwuaXNTZW5kaW5nLGlzQ3VzdG9tZXJTdGVwUGVuZGluZzprKHQpLGlzU2hpcHBpbmdTdGVwUGVuZGluZzpNKHQpLGlzUGF5bWVudFN0ZXBQZW5kaW5nOlQodCl9O3JldHVybiBPYmplY3QoZC5fX2Fzc2lnbikoe2lzUGVuZGluZzpQKGUpfSxlKX0pKSk7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybntkYXRhOkQodCksZXJyb3JzOnoodCksc3RhdHVzZXM6TCh0KX19fXZhciBmaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fbWVzc2FnZUN1c3RvbWl6ZXI9dH1yZXR1cm4gdC5wcm90b3R5cGUudHJhbnNmb3JtPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiB0Lm1lc3NhZ2U9KGU9dGhpcy5fbWVzc2FnZUN1c3RvbWl6ZXIodCkpP2Uuc3BsaXQoLyg/OlxcclxcbnxcXG58XFxyKS8pLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZSgvXlxccysvZ20sXCJcIil9KSkuam9pbihcIiBcIikudHJpbSgpOlwiXCIsdH0sdH0oKTt2YXIgX2k9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIsaSxvLGEscyxjLGQscCxoLGwsbSxmLF8seSxiLEMsTyxTLHcpe3ZhciBJLEEsRSxQO3RoaXMuX3N0b3JlPXQsdGhpcy5fYmlsbGluZ0FkZHJlc3NBY3Rpb25DcmVhdG9yPWUsdGhpcy5fY2hlY2tvdXRBY3Rpb25DcmVhdG9yPW4sdGhpcy5fY29uZmlnQWN0aW9uQ3JlYXRvcj1yLHRoaXMuX2N1c3RvbWVyQWN0aW9uQ3JlYXRvcj1pLHRoaXMuX2NvbnNpZ25tZW50QWN0aW9uQ3JlYXRvcj1vLHRoaXMuX2NvdW50cnlBY3Rpb25DcmVhdG9yPWEsdGhpcy5fY291cG9uQWN0aW9uQ3JlYXRvcj1zLHRoaXMuX2N1c3RvbWVyU3RyYXRlZ3lBY3Rpb25DcmVhdG9yPWMsdGhpcy5fZXJyb3JBY3Rpb25DcmVhdG9yPWQsdGhpcy5fZ2lmdENlcnRpZmljYXRlQWN0aW9uQ3JlYXRvcj1wLHRoaXMuX2luc3RydW1lbnRBY3Rpb25DcmVhdG9yPWgsdGhpcy5fb3JkZXJBY3Rpb25DcmVhdG9yPWwsdGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3I9bSx0aGlzLl9wYXltZW50U3RyYXRlZ3lBY3Rpb25DcmVhdG9yPWYsdGhpcy5fc2hpcHBpbmdDb3VudHJ5QWN0aW9uQ3JlYXRvcj1fLHRoaXMuX3NoaXBwaW5nU3RyYXRlZ3lBY3Rpb25DcmVhdG9yPXksdGhpcy5fc2lnbkluRW1haWxBY3Rpb25DcmVhdG9yPWIsdGhpcy5fc3BhbVByb3RlY3Rpb25BY3Rpb25DcmVhdG9yPUMsdGhpcy5fc3RvcmVDcmVkaXRBY3Rpb25DcmVhdG9yPU8sdGhpcy5fc3Vic2NyaXB0aW9uc0FjdGlvbkNyZWF0b3I9Uyx0aGlzLl9mb3JtRmllbGRzQWN0aW9uQ3JlYXRvcj13LHRoaXMuX2Vycm9yVHJhbnNmb3JtZXI9KHZvaWQgMD09PUkmJihJPVwiZGV2ZWxvcG1lbnRcIj09PXUoKSksbmV3IGZpKChmdW5jdGlvbih0KXtpZighSXx8IWZ1bmN0aW9uKHQpe3JldHVybiEoIXQuc3VidHlwZSYmIXQudHlwZSl9KHQpKXJldHVybiB0Lm1lc3NhZ2U7c3dpdGNoKHQuc3VidHlwZXx8dC50eXBlKXtjYXNlIHYuYS5NaXNzaW5nQ29uc2lnbm1lbnRzOnJldHVyblwiXFxuICAgICAgICAgICAgICAgIFwiK3QubWVzc2FnZStcIlxcbiAgICAgICAgICAgICAgICBUaGUgZGF0YSBjb3VsZCBiZSB1bmF2YWlsYWJsZSBiZWNhdXNlIG5vIHNoaXBwaW5nIGFkZHJlc3MgaGFzIGJlZW4gcHJvdmlkZWQuXFxuICAgICAgICAgICAgICAgIFRvIGZpeCB0aGlzLCBjcmVhdGUgYSBjb25zaWdubWVudCBvciB1cGRhdGUgdGhlIHNoaXBwaW5nIGFkZHJlc3MgYmVmb3JlIHBlcmZvcm1pbmdcXG4gICAgICAgICAgICAgICAgdGhlIHNhbWUgYWN0aW9uIGFnYWluLlxcbiAgICAgICAgICAgIFwiO2Nhc2Ugdi5hLk1pc3NpbmdDYXJ0OmNhc2Ugdi5hLk1pc3NpbmdDaGVja291dDpyZXR1cm5cIlxcbiAgICAgICAgICAgICAgICBcIit0Lm1lc3NhZ2UrXCJcXG4gICAgICAgICAgICAgICAgVGhlIGRhdGEgY291bGQgYmUgdW5hdmFpbGFibGUgYmVjYXVzZSBpdCBoYXMgbm90IGxvYWRlZCBmcm9tIHRoZSBzZXJ2ZXIgeWV0LlxcbiAgICAgICAgICAgICAgICBUbyBmaXggdGhpcyBpc3N1ZSwgeW91IGNhbiB0cnkgY2FsbGluZyBgQ2hlY2tvdXRTZXJ2aWNlI2xvYWRDaGVja291dGBcXG4gICAgICAgICAgICAgICAgYmVmb3JlIHBlcmZvcm1pbmcgdGhlIHNhbWUgYWN0aW9uIGFnYWluLlxcbiAgICAgICAgICAgIFwiO2Nhc2Ugdi5hLk1pc3NpbmdDaGVja291dENvbmZpZzpyZXR1cm5cIlxcbiAgICAgICAgICAgICAgICBcIit0Lm1lc3NhZ2UrXCJcXG4gICAgICAgICAgICAgICAgVGhlIGRhdGEgY291bGQgYmUgdW5hdmFpbGFibGUgYmVjYXVzZSBpdCBoYXMgbm90IGxvYWRlZCBmcm9tIHRoZSBzZXJ2ZXIgeWV0LlxcbiAgICAgICAgICAgICAgICBUbyBmaXggdGhpcyBpc3N1ZSwgeW91IG5lZWQgdG8gbWFrZSBzdXJlIGBDaGVja291dFNlcnZpY2VgIGlzIGluaXRpYWxpemVkXFxuICAgICAgICAgICAgICAgIHByb3Blcmx5IGJ5IGNhbGxpbmcgYENoZWNrb3V0U2VydmljZSNsb2FkQ2hlY2tvdXRgIGJlZm9yZSBwZXJmb3JtaW5nIGFueVxcbiAgICAgICAgICAgICAgICBvdGhlciBhY3Rpb25zLlxcbiAgICAgICAgICAgIFwiO2Nhc2Ugdi5hLk1pc3NpbmdPcmRlcjpyZXR1cm5cIlxcbiAgICAgICAgICAgICAgICBcIit0Lm1lc3NhZ2UrXCJcXG4gICAgICAgICAgICAgICAgVGhlIGRhdGEgY291bGQgYmUgdW5hdmFpbGFibGUgYmVjYXVzZSBpdCBoYXMgbm90IGxvYWRlZCBmcm9tIHRoZSBzZXJ2ZXIgeWV0LlxcbiAgICAgICAgICAgICAgICBUbyBmaXggdGhpcyBpc3N1ZSwgeW91IGNhbiB0cnkgY2FsbGluZyBgQ2hlY2tvdXRTZXJ2aWNlI2xvYWRPcmRlcmBcXG4gICAgICAgICAgICAgICAgYmVmb3JlIHBlcmZvcm1pbmcgdGhlIHNhbWUgYWN0aW9uIGFnYWluLlxcbiAgICAgICAgICAgIFwiO2Nhc2Ugdi5hLk1pc3NpbmdPcmRlcklkOnJldHVyblwiXFxuICAgICAgICAgICAgICAgIFwiK3QubWVzc2FnZStcIlxcbiAgICAgICAgICAgICAgICBUaGUgZGF0YSBjb3VsZCBiZSB1bmF2YWlsYWJsZSBiZWNhdXNlIG5vIG9yZGVyIGhhcyBiZWVuIGNyZWF0ZWQgeWV0LiBZb3UgaGF2ZVxcbiAgICAgICAgICAgICAgICB0byBmaXJzdCBjcmVhdGUgdGhlIG9yZGVyIGJlZm9yZSB5b3UgY2FuIHBlcmZvcm0gdGhlIGFjdGlvbi5cXG4gICAgICAgICAgICBcIjtjYXNlIHYuYS5NaXNzaW5nUGF5bWVudE1ldGhvZDpyZXR1cm5cIlxcbiAgICAgICAgICAgICAgICBcIit0Lm1lc3NhZ2UrXCJcXG4gICAgICAgICAgICAgICAgVGhlIGRhdGEgY291bGQgYmUgdW5hdmFpbGFibGUgYmVjYXVzZSBpdCBoYXMgbm90IGxvYWRlZCBmcm9tIHRoZSBzZXJ2ZXIsIG9yXFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyZWQgYnkgdGhlIG1lcmNoYW50IHlldC4gVG8gZml4IHRoZSBmb3JtZXIgaXNzdWUsIHlvdSBjYW4gdHJ5IGNhbGxpbmdcXG4gICAgICAgICAgICAgICAgYENoZWNrb3V0U2VydmljZSNsb2FkUGF5bWVudE1ldGhvZHNgIGJlZm9yZSBwZXJmb3JtaW5nIHRoZSBzYW1lIGFjdGlvbiBhZ2Fpbi5cXG4gICAgICAgICAgICBcIjtjYXNlIGJ0LmEuQ3VzdG9tZXJOb3RJbml0aWFsaXplZDpyZXR1cm5cIlxcbiAgICAgICAgICAgICAgICBJbiBvcmRlciB0byBpbml0aWFsaXplIHRoZSBjdXN0b21lciBzdGVwIG9mIGNoZWNrb3V0LCB5b3UgbmVlZCB0byBjYWxsXFxuICAgICAgICAgICAgICAgIGBDaGVja291dFNlcnZpY2UjaW5pdGlhbGl6ZUN1c3RvbWVyYC4gQWZ0ZXJ3YXJkcywgeW91IHNob3VsZCBiZSBhYmxlIHRvXFxuICAgICAgICAgICAgICAgIHN1Ym1pdCBjdXN0b21lciBkZXRhaWxzLlxcbiAgICAgICAgICAgIFwiO2Nhc2UgYnQuYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQ6cmV0dXJuXCJcXG4gICAgICAgICAgICAgICAgXCIrdC5tZXNzYWdlK1wiXFxuICAgICAgICAgICAgICAgIEluIG9yZGVyIHRvIGluaXRpYWxpemUgdGhlIHBheW1lbnQgc3RlcCBvZiBjaGVja291dCwgeW91IG5lZWQgdG8gY2FsbFxcbiAgICAgICAgICAgICAgICBgQ2hlY2tvdXRTZXJ2aWNlI2luaXRpYWxpemVQYXltZW50YC4gQWZ0ZXJ3YXJkcywgeW91IHNob3VsZCBiZSBhYmxlIHRvXFxuICAgICAgICAgICAgICAgIHN1Ym1pdCBwYXltZW50IGRldGFpbHMuXFxuICAgICAgICAgICAgXCI7Y2FzZSBidC5hLlNoaXBwaW5nTm90SW5pdGlhbGl6ZWQ6cmV0dXJuXCJcXG4gICAgICAgICAgICAgICAgXCIrdC5tZXNzYWdlK1wiXFxuICAgICAgICAgICAgICAgIEluIG9yZGVyIHRvIGluaXRpYWxpemUgdGhlIHNoaXBwaW5nIHN0ZXAgb2YgY2hlY2tvdXQsIHlvdSBuZWVkIHRvIGNhbGxcXG4gICAgICAgICAgICAgICAgYENoZWNrb3V0U2VydmljZSNpbml0aWFsaXplU2hpcHBpbmdgLiBBZnRlcndhcmRzLCB5b3Ugc2hvdWxkIGJlIGFibGUgdG9cXG4gICAgICAgICAgICAgICAgc3VibWl0IHNoaXBwaW5nIGRldGFpbHMuXFxuICAgICAgICAgICAgXCI7ZGVmYXVsdDpyZXR1cm4gdC5tZXNzYWdlfX0pKSksdGhpcy5fc2VsZWN0b3JzRmFjdG9yeT1taSgpLHRoaXMuX3N0b3JlUHJvamVjdGlvbj0oQT10aGlzLl9zdG9yZSxFPXRoaXMuX3NlbGVjdG9yc0ZhY3RvcnksUD1PYmplY3QoZy5jcmVhdGVEYXRhU3RvcmUpKChmdW5jdGlvbih0LGUpe3JldHVybiBlLnR5cGU9PT0kci5TeW5jaHJvbml6ZT9lLnBheWxvYWQ6dH0pLEEuZ2V0U3RhdGUoKSx7c3RhdGVUcmFuc2Zvcm1lcjpFfSksQS5zdWJzY3JpYmUoKGZ1bmN0aW9uKHQpe1AuZGlzcGF0Y2goT2JqZWN0KGcuY3JlYXRlQWN0aW9uKSgkci5TeW5jaHJvbml6ZSx0KSl9KSx7aW5pdGlhbDohMX0pLFApfXJldHVybiB0LnByb3RvdHlwZS5nZXRTdGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdG9yZVByb2plY3Rpb24uZ2V0U3RhdGUoKX0sdC5wcm90b3R5cGUubm90aWZ5U3RhdGU9ZnVuY3Rpb24oKXt0aGlzLl9zdG9yZVByb2plY3Rpb24ubm90aWZ5U3RhdGUoKX0sdC5wcm90b3R5cGUuc3Vic2NyaWJlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuPVtdLHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKW5bci0xXT1hcmd1bWVudHNbcl07cmV0dXJuKGU9dGhpcy5fc3RvcmVQcm9qZWN0aW9uKS5zdWJzY3JpYmUuYXBwbHkoZSxPYmplY3QoZC5fX3NwcmVhZEFycmF5cykoW3RdLG4pKX0sdC5wcm90b3R5cGUubG9hZENoZWNrb3V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2Rpc3BhdGNoKHQ/dGhpcy5fY2hlY2tvdXRBY3Rpb25DcmVhdG9yLmxvYWRDaGVja291dCh0LGUpOnRoaXMuX2NoZWNrb3V0QWN0aW9uQ3JlYXRvci5sb2FkRGVmYXVsdENoZWNrb3V0KGUpKX0sdC5wcm90b3R5cGUudXBkYXRlQ2hlY2tvdXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9jaGVja291dEFjdGlvbkNyZWF0b3IudXBkYXRlQ2hlY2tvdXQodCxlKTtyZXR1cm4gdGhpcy5fZGlzcGF0Y2gobil9LHQucHJvdG90eXBlLmxvYWRPcmRlcj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj10aGlzLl9vcmRlckFjdGlvbkNyZWF0b3IubG9hZE9yZGVyKHQsZSksaT10aGlzLl9mb3JtRmllbGRzQWN0aW9uQ3JlYXRvci5sb2FkRm9ybUZpZWxkcyhlKSxvPXRoaXMuX2NvbmZpZ0FjdGlvbkNyZWF0b3IubG9hZENvbmZpZyhlKTtyZXR1cm4gUHJvbWlzZS5hbGwoW3RoaXMuX2Rpc3BhdGNoKHIpLHRoaXMuX2Rpc3BhdGNoKG8se3F1ZXVlSWQ6XCJjb25maWdcIn0pLHRoaXMuX2Rpc3BhdGNoKGkse3F1ZXVlSWQ6XCJmb3JtRmllbGRzXCJ9KV0pLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIG4uZ2V0U3RhdGUoKX0pKX0sdC5wcm90b3R5cGUuc3VibWl0T3JkZXI9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9wYXltZW50U3RyYXRlZ3lBY3Rpb25DcmVhdG9yLmV4ZWN1dGUodCxlKTtyZXR1cm4gdGhpcy5fZGlzcGF0Y2gobix7cXVldWVJZDpcInBheW1lbnRTdHJhdGVneVwifSl9LHQucHJvdG90eXBlLmZpbmFsaXplT3JkZXJJZk5lZWRlZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9wYXltZW50U3RyYXRlZ3lBY3Rpb25DcmVhdG9yLmZpbmFsaXplKHQpO3JldHVybiB0aGlzLl9kaXNwYXRjaChlLHtxdWV1ZUlkOlwicGF5bWVudFN0cmF0ZWd5XCJ9KX0sdC5wcm90b3R5cGUubG9hZFBheW1lbnRNZXRob2RzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3BheW1lbnRNZXRob2RBY3Rpb25DcmVhdG9yLmxvYWRQYXltZW50TWV0aG9kcyh0KTtyZXR1cm4gdGhpcy5fZGlzcGF0Y2goZSx7cXVldWVJZDpcInBheW1lbnRNZXRob2RzXCJ9KX0sdC5wcm90b3R5cGUubG9hZFBheW1lbnRNZXRob2Q9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9wYXltZW50TWV0aG9kQWN0aW9uQ3JlYXRvci5sb2FkUGF5bWVudE1ldGhvZCh0LGUpO3JldHVybiB0aGlzLl9kaXNwYXRjaChuLHtxdWV1ZUlkOlwicGF5bWVudE1ldGhvZHNcIn0pfSx0LnByb3RvdHlwZS5pbml0aWFsaXplUGF5bWVudD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9wYXltZW50U3RyYXRlZ3lBY3Rpb25DcmVhdG9yLmluaXRpYWxpemUodCk7cmV0dXJuIHRoaXMuX2Rpc3BhdGNoKGUse3F1ZXVlSWQ6XCJwYXltZW50U3RyYXRlZ3lcIn0pfSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemVQYXltZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3BheW1lbnRTdHJhdGVneUFjdGlvbkNyZWF0b3IuZGVpbml0aWFsaXplKHQpO3JldHVybiB0aGlzLl9kaXNwYXRjaChlLHtxdWV1ZUlkOlwicGF5bWVudFN0cmF0ZWd5XCJ9KX0sdC5wcm90b3R5cGUubG9hZEJpbGxpbmdDb3VudHJpZXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fY291bnRyeUFjdGlvbkNyZWF0b3IubG9hZENvdW50cmllcyh0KTtyZXR1cm4gdGhpcy5fZGlzcGF0Y2goZSx7cXVldWVJZDpcImJpbGxpbmdDb3VudHJpZXNcIn0pfSx0LnByb3RvdHlwZS5sb2FkU2hpcHBpbmdDb3VudHJpZXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fc2hpcHBpbmdDb3VudHJ5QWN0aW9uQ3JlYXRvci5sb2FkQ291bnRyaWVzKHQpO3JldHVybiB0aGlzLl9kaXNwYXRjaChlLHtxdWV1ZUlkOlwic2hpcHBpbmdDb3VudHJpZXNcIn0pfSx0LnByb3RvdHlwZS5sb2FkQmlsbGluZ0FkZHJlc3NGaWVsZHM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubG9hZEJpbGxpbmdDb3VudHJpZXModCl9LHQucHJvdG90eXBlLmxvYWRTaGlwcGluZ0FkZHJlc3NGaWVsZHM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubG9hZFNoaXBwaW5nQ291bnRyaWVzKHQpfSx0LnByb3RvdHlwZS5pbml0aWFsaXplQ3VzdG9tZXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fY3VzdG9tZXJTdHJhdGVneUFjdGlvbkNyZWF0b3IuaW5pdGlhbGl6ZSh0KTtyZXR1cm4gdGhpcy5fZGlzcGF0Y2goZSx7cXVldWVJZDpcImN1c3RvbWVyU3RyYXRlZ3lcIn0pfSx0LnByb3RvdHlwZS5kZWluaXRpYWxpemVDdXN0b21lcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9jdXN0b21lclN0cmF0ZWd5QWN0aW9uQ3JlYXRvci5kZWluaXRpYWxpemUodCk7cmV0dXJuIHRoaXMuX2Rpc3BhdGNoKGUse3F1ZXVlSWQ6XCJjdXN0b21lclN0cmF0ZWd5XCJ9KX0sdC5wcm90b3R5cGUuc2VuZFNpZ25JbkVtYWlsPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fc2lnbkluRW1haWxBY3Rpb25DcmVhdG9yLnNlbmRTaWduSW5FbWFpbCh0LGUpO3JldHVybiB0aGlzLl9kaXNwYXRjaChuLHtxdWV1ZUlkOlwic2lnbkluRW1haWxcIn0pfSx0LnByb3RvdHlwZS5jcmVhdGVDdXN0b21lckFjY291bnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9jdXN0b21lckFjdGlvbkNyZWF0b3IuY3JlYXRlQ3VzdG9tZXIodCxlKTtyZXR1cm4gdGhpcy5fZGlzcGF0Y2gobil9LHQucHJvdG90eXBlLnVwZGF0ZVN1YnNjcmlwdGlvbnM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9zdWJzY3JpcHRpb25zQWN0aW9uQ3JlYXRvci51cGRhdGVTdWJzY3JpcHRpb25zKHQsZSk7cmV0dXJuIHRoaXMuX2Rpc3BhdGNoKG4se3F1ZXVlSWQ6XCJzdWJzY3JpcHRpb25zXCJ9KX0sdC5wcm90b3R5cGUuY29udGludWVBc0d1ZXN0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fYmlsbGluZ0FkZHJlc3NBY3Rpb25DcmVhdG9yLmNvbnRpbnVlQXNHdWVzdCh0LGUpO3JldHVybiB0aGlzLl9kaXNwYXRjaChuKX0sdC5wcm90b3R5cGUuc2lnbkluQ3VzdG9tZXI9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9jdXN0b21lclN0cmF0ZWd5QWN0aW9uQ3JlYXRvci5zaWduSW4odCxlKTtyZXR1cm4gdGhpcy5fZGlzcGF0Y2gobix7cXVldWVJZDpcImN1c3RvbWVyU3RyYXRlZ3lcIn0pfSx0LnByb3RvdHlwZS5zaWduT3V0Q3VzdG9tZXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fY3VzdG9tZXJTdHJhdGVneUFjdGlvbkNyZWF0b3Iuc2lnbk91dCh0KTtyZXR1cm4gdGhpcy5fZGlzcGF0Y2goZSx7cXVldWVJZDpcImN1c3RvbWVyU3RyYXRlZ3lcIn0pfSx0LnByb3RvdHlwZS5sb2FkU2hpcHBpbmdPcHRpb25zPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2NvbnNpZ25tZW50QWN0aW9uQ3JlYXRvci5sb2FkU2hpcHBpbmdPcHRpb25zKHQpO3JldHVybiB0aGlzLl9kaXNwYXRjaChlKX0sdC5wcm90b3R5cGUuaW5pdGlhbGl6ZVNoaXBwaW5nPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3NoaXBwaW5nU3RyYXRlZ3lBY3Rpb25DcmVhdG9yLmluaXRpYWxpemUodCk7cmV0dXJuIHRoaXMuX2Rpc3BhdGNoKGUse3F1ZXVlSWQ6XCJzaGlwcGluZ1N0cmF0ZWd5XCJ9KX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplU2hpcHBpbmc9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fc2hpcHBpbmdTdHJhdGVneUFjdGlvbkNyZWF0b3IuZGVpbml0aWFsaXplKHQpO3JldHVybiB0aGlzLl9kaXNwYXRjaChlLHtxdWV1ZUlkOlwic2hpcHBpbmdTdHJhdGVneVwifSl9LHQucHJvdG90eXBlLnNlbGVjdFNoaXBwaW5nT3B0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fc2hpcHBpbmdTdHJhdGVneUFjdGlvbkNyZWF0b3Iuc2VsZWN0T3B0aW9uKHQsZSk7cmV0dXJuIHRoaXMuX2Rpc3BhdGNoKG4se3F1ZXVlSWQ6XCJzaGlwcGluZ1N0cmF0ZWd5XCJ9KX0sdC5wcm90b3R5cGUudXBkYXRlU2hpcHBpbmdBZGRyZXNzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fc2hpcHBpbmdTdHJhdGVneUFjdGlvbkNyZWF0b3IudXBkYXRlQWRkcmVzcyh0LGUpO3JldHVybiB0aGlzLl9kaXNwYXRjaChuLHtxdWV1ZUlkOlwic2hpcHBpbmdTdHJhdGVneVwifSl9LHQucHJvdG90eXBlLmNyZWF0ZUNvbnNpZ25tZW50cz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2NvbnNpZ25tZW50QWN0aW9uQ3JlYXRvci5jcmVhdGVDb25zaWdubWVudHModCxlKTtyZXR1cm4gdGhpcy5fZGlzcGF0Y2gobix7cXVldWVJZDpcInNoaXBwaW5nU3RyYXRlZ3lcIn0pfSx0LnByb3RvdHlwZS5kZWxldGVDb25zaWdubWVudD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2NvbnNpZ25tZW50QWN0aW9uQ3JlYXRvci5kZWxldGVDb25zaWdubWVudCh0LGUpO3JldHVybiB0aGlzLl9kaXNwYXRjaChuLHtxdWV1ZUlkOlwic2hpcHBpbmdTdHJhdGVneVwifSl9LHQucHJvdG90eXBlLnVwZGF0ZUNvbnNpZ25tZW50PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fY29uc2lnbm1lbnRBY3Rpb25DcmVhdG9yLnVwZGF0ZUNvbnNpZ25tZW50KHQsZSk7cmV0dXJuIHRoaXMuX2Rpc3BhdGNoKG4se3F1ZXVlSWQ6XCJzaGlwcGluZ1N0cmF0ZWd5XCJ9KX0sdC5wcm90b3R5cGUuYXNzaWduSXRlbXNUb0FkZHJlc3M9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9jb25zaWdubWVudEFjdGlvbkNyZWF0b3IuYXNzaWduSXRlbXNCeUFkZHJlc3ModCxlKTtyZXR1cm4gdGhpcy5fZGlzcGF0Y2gobix7cXVldWVJZDpcInNoaXBwaW5nU3RyYXRlZ3lcIn0pfSx0LnByb3RvdHlwZS51bmFzc2lnbkl0ZW1zVG9BZGRyZXNzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fY29uc2lnbm1lbnRBY3Rpb25DcmVhdG9yLnVuYXNzaWduSXRlbXNCeUFkZHJlc3ModCxlKTtyZXR1cm4gdGhpcy5fZGlzcGF0Y2gobix7cXVldWVJZDpcInNoaXBwaW5nU3RyYXRlZ3lcIn0pfSx0LnByb3RvdHlwZS5zZWxlY3RDb25zaWdubWVudFNoaXBwaW5nT3B0aW9uPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLl9jb25zaWdubWVudEFjdGlvbkNyZWF0b3IudXBkYXRlU2hpcHBpbmdPcHRpb24oe2lkOnQsc2hpcHBpbmdPcHRpb25JZDplfSxuKTtyZXR1cm4gdGhpcy5fZGlzcGF0Y2gocix7cXVldWVJZDpcInNoaXBwaW5nU3RyYXRlZ3lcIn0pfSx0LnByb3RvdHlwZS51cGRhdGVCaWxsaW5nQWRkcmVzcz1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPXt9KTt2YXIgbj10aGlzLl9iaWxsaW5nQWRkcmVzc0FjdGlvbkNyZWF0b3IudXBkYXRlQWRkcmVzcyh0LGUpO3JldHVybiB0aGlzLl9kaXNwYXRjaChuKX0sdC5wcm90b3R5cGUuYXBwbHlTdG9yZUNyZWRpdD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX3N0b3JlQ3JlZGl0QWN0aW9uQ3JlYXRvci5hcHBseVN0b3JlQ3JlZGl0KHQsZSk7cmV0dXJuIHRoaXMuX2Rpc3BhdGNoKG4pfSx0LnByb3RvdHlwZS5hcHBseUNvdXBvbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2NvdXBvbkFjdGlvbkNyZWF0b3IuYXBwbHlDb3Vwb24odCxlKTtyZXR1cm4gdGhpcy5fZGlzcGF0Y2gobil9LHQucHJvdG90eXBlLnJlbW92ZUNvdXBvbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2NvdXBvbkFjdGlvbkNyZWF0b3IucmVtb3ZlQ291cG9uKHQsZSk7cmV0dXJuIHRoaXMuX2Rpc3BhdGNoKG4pfSx0LnByb3RvdHlwZS5hcHBseUdpZnRDZXJ0aWZpY2F0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2dpZnRDZXJ0aWZpY2F0ZUFjdGlvbkNyZWF0b3IuYXBwbHlHaWZ0Q2VydGlmaWNhdGUodCxlKTtyZXR1cm4gdGhpcy5fZGlzcGF0Y2gobil9LHQucHJvdG90eXBlLnJlbW92ZUdpZnRDZXJ0aWZpY2F0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2dpZnRDZXJ0aWZpY2F0ZUFjdGlvbkNyZWF0b3IucmVtb3ZlR2lmdENlcnRpZmljYXRlKHQsZSk7cmV0dXJuIHRoaXMuX2Rpc3BhdGNoKG4pfSx0LnByb3RvdHlwZS5sb2FkSW5zdHJ1bWVudHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9pbnN0cnVtZW50QWN0aW9uQ3JlYXRvci5sb2FkSW5zdHJ1bWVudHMoKTtyZXR1cm4gdGhpcy5fZGlzcGF0Y2godCl9LHQucHJvdG90eXBlLmRlbGV0ZUluc3RydW1lbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRoaXMuX2luc3RydW1lbnRBY3Rpb25DcmVhdG9yLmRlbGV0ZUluc3RydW1lbnQodCk7cmV0dXJuIHRoaXMuX2Rpc3BhdGNoKG4pLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGUubG9hZEluc3RydW1lbnRzKCl9KSl9LHQucHJvdG90eXBlLmNsZWFyRXJyb3I9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZXJyb3JBY3Rpb25DcmVhdG9yLmNsZWFyRXJyb3IodCk7cmV0dXJuIHRoaXMuX2Rpc3BhdGNoKGUpfSx0LnByb3RvdHlwZS5pbml0aWFsaXplU3BhbVByb3RlY3Rpb249ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fc3BhbVByb3RlY3Rpb25BY3Rpb25DcmVhdG9yLmluaXRpYWxpemUodCk7cmV0dXJuIHRoaXMuX2Rpc3BhdGNoKGUse3F1ZXVlSWQ6XCJzcGFtUHJvdGVjdGlvblwifSl9LHQucHJvdG90eXBlLmV4ZWN1dGVTcGFtQ2hlY2s9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9zcGFtUHJvdGVjdGlvbkFjdGlvbkNyZWF0b3IudmVyaWZ5Q2hlY2tvdXRTcGFtUHJvdGVjdGlvbigpO3JldHVybiB0aGlzLl9kaXNwYXRjaCh0LHtxdWV1ZUlkOlwic3BhbVByb3RlY3Rpb25cIn0pfSx0LnByb3RvdHlwZS5fZGlzcGF0Y2g9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiB0aGlzLl9zdG9yZS5kaXNwYXRjaCh0LGUpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIG4uZ2V0U3RhdGUoKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7dGhyb3cgbi5fZXJyb3JUcmFuc2Zvcm1lci50cmFuc2Zvcm0odCl9KSl9LHQ9T2JqZWN0KGQuX19kZWNvcmF0ZSkoW0R0LmFdLHQpfSgpLHlpPW4oMTM2KTtmdW5jdGlvbiBnaSh0KXtcImh0dHBzOlwiIT09ZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2wmJmYoKS53YXJuKFwiVGhlIEJpZ0NvbW1lcmNlIENoZWNrb3V0IFNESyBzaG91bGQgbm90IGJlIHVzZWQgb24gYSBub24tSFRUUFMgcGFnZVwiKSxcInByb2R1Y3Rpb25cIiE9PXUoKSYmZigpLndhcm4oXCJOb3RlIHRoYXQgdGhlIGRldmVsb3BtZW50IGJ1aWxkIGlzIG5vdCBvcHRpbWl6ZWQuIFRvIGNyZWF0ZSBhIHByb2R1Y3Rpb24gYnVpbGQsIHNldCBwcm9jZXNzLmVudi5OT0RFX0VOViB0byBgcHJvZHVjdGlvbmAuXCIpO3ZhciBlPXttZXRhOntleHRlcm5hbFNvdXJjZTp0JiZ0LmV4dGVybmFsU291cmNlLHZhcmlhbnRJZGVudGlmaWNhdGlvblRva2VuOndpbmRvdy5jaGVja291dFZhcmlhbnRJZGVudGlmaWNhdGlvblRva2VufSxlcnJvcnM6e30sc3RhdHVzZXM6e319LG49dHx8e30scz1uLmxvY2FsZSxkPXZvaWQgMD09PXM/XCJcIjpzLHA9bi5zaG91bGRXYXJuTXV0YXRpb24saD12b2lkIDA9PT1wfHxwLGw9T2JqZWN0KHIuY3JlYXRlUmVxdWVzdFNlbmRlcikoe2hvc3Q6dCYmdC5ob3N0fSksbT1PYmplY3QoeWkuYSkoe2NvbmZpZzplfSx7c2hvdWxkV2Fybk11dGF0aW9uOmh9KSxnPWZ1bmN0aW9uKHQpe3ZhciBlPU9iamVjdChXdC5jcmVhdGVDbGllbnQpKCk7cmV0dXJuIHQuc3Vic2NyaWJlKChmdW5jdGlvbih0KXt2YXIgbj10LmNvbmZpZy5nZXRTdG9yZUNvbmZpZygpO24mJmUuc2V0SG9zdChuLnBheW1lbnRTZXR0aW5ncy5iaWdwYXlCYXNlVXJsKX0pLChmdW5jdGlvbih0KXtyZXR1cm4gdC5jb25maWcuZ2V0U3RvcmVDb25maWcoKX0pKSxlfShtKSxiPW5ldyBHdChsKSx2PW5ldyBVLmEobCksQz1uZXcgXy5hKG5ldyB5LmEobCkpLFM9U3QoT2JqZWN0KGkuY3JlYXRlU2NyaXB0TG9hZGVyKSgpKSx3PW5ldyB3dChsKSxJPW5ldyBfdChTLHcpLEE9bmV3IEh0KGIsbmV3IGVlKHYpKSxQPW5ldyBJZS5hKG5ldyBBZS5hKGwpKSxNPW5ldyBHLmEobmV3IFYuYShsKSksVD1uZXcgeC5hKHYsQyxNKTtyZXR1cm4gbmV3IF9pKG0sbmV3IG8uYShuZXcgYS5hKGwpLFApLFQsQyxuZXcgeihuZXcgTChsKSxULEkpLG5ldyBHci5hKG5ldyBWci5hKGwpLHYpLG5ldyBVdChuZXcgeHQobCx7bG9jYWxlOmR9KSksbmV3IE8obmV3IEUobCkpLG5ldyBGKGZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IEIuYSxyPU9iamVjdChpLmdldFNjcmlwdExvYWRlcikoKSxvPW5ldyBVLmEoZSksYT1uZXcgeC5hKG8sbmV3IF8uYShuZXcgeS5hKGUpKSxuZXcgRy5hKG5ldyBWLmEoZSkpKSxzPU9iamVjdChxLmNyZWF0ZUZvcm1Qb3N0ZXIpKCksYz1uZXcgWS5hKG5ldyBILmEoZSkpLHU9bmV3IHV0KGUpLGQ9bmV3IHB0KHUpO3JldHVybiBuLnJlZ2lzdGVyKFwiZ29vZ2xlcGF5YWR5ZW52MlwiLChmdW5jdGlvbigpe3JldHVybiBuZXcgenQodCxkLE9iamVjdChudC5hKSh0LG5ldyBydC5hKSxzKX0pKSxuLnJlZ2lzdGVyKFwiYW1hem9uXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBFdCh0LGMsZCx1LG5ldyBXKHIpKX0pKSxuLnJlZ2lzdGVyKFwiYW1hem9ucGF5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBrdCh0LGMsZCxPYmplY3QoSy5hKSgpKX0pKSxuLnJlZ2lzdGVyKFwiYnJhaW50cmVldmlzYWNoZWNrb3V0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBNdCh0LGEsYyxuZXcgRihuKSxkLFgocixlKSxuZXcgdHQocikpfSkpLG4ucmVnaXN0ZXIoXCJjaGFzZXBheVwiLChmdW5jdGlvbigpe3JldHVybiBuZXcgVHQodCxjLGQsbmV3IGV0KHIpLGUscyl9KSksbi5yZWdpc3RlcihcInNxdWFyZXYyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBGdCh0LG5ldyBwdCh1KSl9KSksbi5yZWdpc3RlcihcIm1hc3RlcnBhc3NcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IE50KHQsYyxkLG5ldyBjdC5hKHIpKX0pKSxuLnJlZ2lzdGVyKFwiZ29vZ2xlcGF5YXV0aG9yaXplbmV0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB6dCh0LGQsT2JqZWN0KG50LmEpKHQsbmV3IGl0LmEpLHMpfSkpLG4ucmVnaXN0ZXIoXCJnb29nbGVwYXlicmFpbnRyZWVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHp0KHQsZCxPYmplY3QobnQuYSkodCxuZXcgb3QuYShuZXcgWi5hKG5ldyBKLmEocikpKSkscyl9KSksbi5yZWdpc3RlcihcImdvb2dsZXBheWNoZWNrb3V0Y29tXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB6dCh0LGQsT2JqZWN0KG50LmEpKHQsbmV3IGF0LmEoZSkpLHMpfSkpLG4ucmVnaXN0ZXIoXCJnb29nbGVwYXlzdHJpcGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHp0KHQsZCxPYmplY3QobnQuYSkodCxuZXcgc3QuYSkscyl9KSksbi5yZWdpc3RlcihcImRlZmF1bHRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFJ0KHQsbmV3IHoobmV3IEwoZSksYSxuZXcgX3QoU3QociksbmV3IHd0KGUpKSkpfSkpLG59KG0sbCkpLG5ldyBjLG5ldyBqKG5ldyBrKGwpKSxuZXcgVXIobmV3IEJyKGcsbCkpLEEsbmV3IFkuYShuZXcgSC5hKGwpKSxuZXcgWHQoRnIobSxnLGwsUyxkKSxBLEkpLG5ldyBIcihuZXcgV3IobCx7bG9jYWxlOmR9KSksbmV3IEpyKGZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IEIuYSxyPW5ldyBVLmEoZSksbz1uZXcgVnIuYShlKSxhPW5ldyBHci5hKG8scik7cmV0dXJuIG4ucmVnaXN0ZXIoXCJhbWF6b25cIiwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFpyKHQsYSxuZXcgWS5hKG5ldyBILmEoZSkpLG5ldyBwdChuZXcgdXQoZSkpLG5ldyBXKE9iamVjdChpLmdldFNjcmlwdExvYWRlcikoKSkpfSkpLG4ucmVnaXN0ZXIoXCJhbWF6b25wYXlcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFFyKHQsYSxuZXcgWS5hKG5ldyBILmEoZSkpLE9iamVjdChLLmEpKCksbmV3IEpyKG4pKX0pKSxuLnJlZ2lzdGVyKFwiZGVmYXVsdFwiLChmdW5jdGlvbigpe3JldHVybiBuZXcgWHIodCxhKX0pKSxufShtLGwpKSxuZXcgZWkobmV3IG5pKGwpKSxJLG5ldyBTZShuZXcgd2UobCkpLFAsTSl9dmFyIGJpPW4oMTQ3KSx2aT1uKDE0OCksQ2k9bigxNDkpLE9pPW4oMTUxKSxTaT1uLm4oT2kpLHdpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuX2xvZ2dlcj1lO3ZhciBuPXRoaXMuX3RyYW5zZm9ybUNvbmZpZyh0KSxyPW4ubG9jYWxlLGk9bi5sb2NhbGVzLG89bi50cmFuc2xhdGlvbnM7dGhpcy5fbG9jYWxlPXIsdGhpcy5fbG9jYWxlcz1pLHRoaXMuX3RyYW5zbGF0aW9ucz1vLHRoaXMuX2Zvcm1hdHRlcnM9e319cmV0dXJuIHQucHJvdG90eXBlLm1hcEtleXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgcj1cIm9wdGltaXplZF9jaGVja291dC5cIit0W25dO2UuX3RyYW5zbGF0aW9uc1tcIm9wdGltaXplZF9jaGVja291dC5cIituXT1lLl90cmFuc2xhdGlvbnNbcl19KSl9LHQucHJvdG90eXBlLmdldExvY2FsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9oYXNUcmFuc2xhdGlvbnMoKT90aGlzLl9sb2NhbGU6XCJlblwifSx0LnByb3RvdHlwZS50cmFuc2xhdGU9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT17fSk7dmFyIG49XCJvcHRpbWl6ZWRfY2hlY2tvdXQuXCIrdDtpZihcInN0cmluZ1wiIT10eXBlb2YgdGhpcy5fdHJhbnNsYXRpb25zW25dKXJldHVybiB0aGlzLl9sb2dnZXIud2FybignVHJhbnNsYXRpb24ga2V5IFwiJytuKydcIiBpcyBtaXNzaW5nJyksbjtpZighdGhpcy5fZm9ybWF0dGVyc1tuXSl7dmFyIHI9bmV3IFNpLmEodGhpcy5fbG9jYWxlc1tuXSk7dGhpcy5fZm9ybWF0dGVyc1tuXT1yLmNvbXBpbGUodGhpcy5fdHJhbnNsYXRpb25zW25dfHxcIlwiKX1yZXR1cm4gdGhpcy5fZm9ybWF0dGVyc1tuXSh0aGlzLl90cmFuc2Zvcm1EYXRhKGUpKX0sdC5wcm90b3R5cGUuX3RyYW5zZm9ybUNvbmZpZz1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD17fSk7dmFyIGU9e2RlZmF1bHRUcmFuc2xhdGlvbnM6e30sdHJhbnNsYXRpb25zOnt9LGxvY2FsZXM6e30sbG9jYWxlOnQubG9jYWxlfHxcImVuXCJ9LG49dC5sb2NhbGVzfHx7fSxyPXRoaXMuX2ZsYXR0ZW5PYmplY3QodC50cmFuc2xhdGlvbnN8fHt9KSxpPXRoaXMuX2ZsYXR0ZW5PYmplY3QodC5kZWZhdWx0VHJhbnNsYXRpb25zfHx7fSk7cmV0dXJuIE9iamVjdChCdC51bmlvbikoT2JqZWN0LmtleXMoaSksT2JqZWN0LmtleXMocikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ImJnJbdF0/KGUudHJhbnNsYXRpb25zW3RdPXJbdF0sZS5sb2NhbGVzW3RdPW5bdF18fGUubG9jYWxlKTooZS50cmFuc2xhdGlvbnNbdF09aVt0XSxlLmxvY2FsZXNbdF09XCJlblwiKX0pKSxlfSx0LnByb3RvdHlwZS5fZmxhdHRlbk9iamVjdD1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpczt2b2lkIDA9PT1lJiYoZT17fSksdm9pZCAwPT09biYmKG49XCJcIik7dHJ5e09iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKGkpe3ZhciBvPXRbaV0sYT1uP24rXCIuXCIraTppO2lmKE9iamVjdChCdC5pc09iamVjdCkobykpcmV0dXJuIHIuX2ZsYXR0ZW5PYmplY3QobyxlLGEpO2VbYV09b30pKX1jYXRjaCh0KXt0aGlzLl9sb2dnZXIud2FybihcIlVuYWJsZSB0byBwYXJzZSBvYmplY3Q6IFwiK3QpfXJldHVybiBlfSx0LnByb3RvdHlwZS5fdHJhbnNmb3JtRGF0YT1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmtleXModCkucmVkdWNlKChmdW5jdGlvbihlLG4pe3ZhciByPXRbbl07cmV0dXJuIGVbbl09bnVsbD09cj9cIlwiOnIsZX0pLHt9KX0sdC5wcm90b3R5cGUuX2hhc1RyYW5zbGF0aW9ucz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX2xvY2FsZXMpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuX2xvY2FsZXNbZV19KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zcGxpdChcIi1cIilbMF09PT10Ll9sb2NhbGUuc3BsaXQoXCItXCIpWzBdfSkpLmxlbmd0aD4wfSx0PU9iamVjdChkLl9fZGVjb3JhdGUpKFtEdC5hXSx0KX0oKTtmdW5jdGlvbiBJaSh0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9e30pLG5ldyB3aSh0LGYoKSl9dmFyIEFpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJDdXJyZW5jeSBzZXR0aW5ncyBtaXNzaW5nXCIpO3ZhciBlPXQuZGVjaW1hbFBsYWNlcyxuPXQuc3ltYm9sTG9jYXRpb24scj10LnN5bWJvbCxpPXQudGhvdXNhbmRzU2VwYXJhdG9yLG89dC5kZWNpbWFsU2VwYXJhdG9yO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBufHxcInN0cmluZ1wiIT10eXBlb2Ygcnx8XCJzdHJpbmdcIiE9dHlwZW9mIGl8fFwic3RyaW5nXCIhPXR5cGVvZiBvfHxcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBuZXcgSXQuYShcIkludmFsaWQgY3VycmVuY3kgc2V0dGluZ3MgcHJvdmlkZWRcIik7dGhpcy5fZGVjaW1hbFBsYWNlcz1wYXJzZUludChlLDEwKSx0aGlzLl9zeW1ib2xMb2NhdGlvbj1uLHRoaXMuX3N5bWJvbD1yLHRoaXMuX3Rob3VzYW5kc1NlcGFyYXRvcj1pLHRoaXMuX2RlY2ltYWxTZXBhcmF0b3I9b31yZXR1cm4gdC5wcm90b3R5cGUuZm9ybWF0PWZ1bmN0aW9uKHQpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0KXRocm93IG5ldyBJdC5hKFwiSW52YWxpZCBhbW91bnQgcHJvdmlkZWRcIik7dmFyIGU9dGhpcy5fZm9ybWF0TnVtYmVyKHQpLG49dGhpcy5fZm9ybWF0Q3VycmVuY3koZSk7cmV0dXJuIHQ8MD9cIi1cIituOm59LHQucHJvdG90eXBlLl9mb3JtYXROdW1iZXI9ZnVuY3Rpb24odCl7dmFyIGU9TWF0aC5hYnModCksbj10aGlzLl90b0ZpeGVkKGUsdGhpcy5fZGVjaW1hbFBsYWNlcykuc3BsaXQoXCIuXCIpLHI9blswXSxpPW5bMV0sbz12b2lkIDA9PT1pP1wiXCI6aSxhPXIucmVwbGFjZSgvXFxCKD89KFxcZHszfSkrKD8hXFxkKSkvZyx0aGlzLl90aG91c2FuZHNTZXBhcmF0b3IpO3JldHVybiB0aGlzLl9kZWNpbWFsUGxhY2VzPDE/YTpbYSxvXS5qb2luKHRoaXMuX2RlY2ltYWxTZXBhcmF0b3IpfSx0LnByb3RvdHlwZS5fZm9ybWF0Q3VycmVuY3k9ZnVuY3Rpb24odCl7cmV0dXJuXCJsZWZ0XCI9PT10aGlzLl9zeW1ib2xMb2NhdGlvbi50b0xvd2VyQ2FzZSgpP1wiXCIrdGhpcy5fc3ltYm9sK3Q6XCJcIit0K3RoaXMuX3N5bWJvbH0sdC5wcm90b3R5cGUuX3RvRml4ZWQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4oKyhNYXRoLnJvdW5kKCsodCtcImVcIitlKSkrXCJlXCIrLWUpKS50b0ZpeGVkKGUpfSx0fSgpLEVpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9zdG9yZUNvbmZpZz10LHRoaXMuX2N1c3RvbWVyRm9ybWF0dGVyPW5ldyBBaSh0aGlzLl9zdG9yZUNvbmZpZy5zaG9wcGVyQ3VycmVuY3kpLHRoaXMuX3N0b3JlRm9ybWF0dGVyPW5ldyBBaSh0aGlzLl9zdG9yZUNvbmZpZy5jdXJyZW5jeSl9cmV0dXJuIHQucHJvdG90eXBlLnRvQ3VzdG9tZXJDdXJyZW5jeT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9zdG9yZUNvbmZpZy5zaG9wcGVyQ3VycmVuY3kuZXhjaGFuZ2VSYXRlO3JldHVybiB0aGlzLl9jdXN0b21lckZvcm1hdHRlci5mb3JtYXQodCplKX0sdC5wcm90b3R5cGUudG9TdG9yZUN1cnJlbmN5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zdG9yZUZvcm1hdHRlci5mb3JtYXQodCl9LHQ9T2JqZWN0KGQuX19kZWNvcmF0ZSkoW0R0LmFdLHQpfSgpO2Z1bmN0aW9uIFBpKHQpe3JldHVybiBuZXcgRWkodCl9dmFyIGppLGtpPW4oNTEpLE1pPW4ubihraSk7IWZ1bmN0aW9uKHQpe3RbdC5DVVNUT01FUj0xXT1cIkNVU1RPTUVSXCIsdFt0LlNISVBQSU5HPTJdPVwiU0hJUFBJTkdcIix0W3QuQklMTElORz0zXT1cIkJJTExJTkdcIix0W3QuUEFZTUVOVD00XT1cIlBBWU1FTlRcIn0oaml8fChqaT17fSkpO3ZhciBUaT17Y3VzdG9tZXI6amkuQ1VTVE9NRVIsc2hpcHBpbmc6amkuU0hJUFBJTkcsYmlsbGluZzpqaS5CSUxMSU5HLHBheW1lbnQ6amkuUEFZTUVOVH0sUmk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIpe3ZhciBpPSh2b2lkIDA9PT1yP3t9OnIpLmNoZWNrb3V0U3RlcHM7aWYodGhpcy5jaGVja291dFNlcnZpY2U9dCx0aGlzLnN0b3JhZ2U9ZSx0aGlzLmFuYWx5dGljcz1uLHRoaXMuX2NoZWNrb3V0U3RhcnRlZD0hMSx0aGlzLl9jb21wbGV0ZWRTdGVwcz17fSx0aGlzLl92aWV3ZWRTdGVwcz17fSx0aGlzLl9hbmFseXRpY1N0ZXBPcmRlcj1bXCJjdXN0b21lclwiLFwic2hpcHBpbmdcIixcImJpbGxpbmdcIixcInBheW1lbnRcIl0sdm9pZCAwIT09aSl7aWYoaS5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4hKHQgaW4gVGkpfSkpKXRocm93IG5ldyBJdC5hKFwiSW52YWxpZCBjaGVja291dCBzdGVwcyBwcm92aWRlZC4gVmFsaWQgdmFsdWVzIGFyZTogXCIrT2JqZWN0KEJ0LmtleXMpKFRpKS5qb2luKFwiLCBcIikrXCIuXCIpO3RoaXMuX2FuYWx5dGljU3RlcE9yZGVyPWl9fXJldHVybiB0LnByb3RvdHlwZS50cmFja0NoZWNrb3V0U3RhcnRlZD1mdW5jdGlvbigpe2lmKCF0aGlzLl9jaGVja291dFN0YXJ0ZWQpe3ZhciB0PXRoaXMuZ2V0Q2hlY2tvdXQoKTtpZih0KXt2YXIgZT10LmNvdXBvbnMsbj10LmdyYW5kVG90YWwscj10LnNoaXBwaW5nQ29zdFRvdGFsLGk9dC50YXhUb3RhbCxvPXQuY2FydCxhPW8ubGluZUl0ZW1zLHM9by5kaXNjb3VudEFtb3VudCxjPW8uaWQsdT10aGlzLnNhdmVFeHRyYUl0ZW1zRGF0YShjLGEpO3RoaXMuYW5hbHl0aWNzLnRyYWNrKFwiQ2hlY2tvdXQgU3RhcnRlZFwiLHRoaXMuZ2V0VHJhY2tpbmdQYXlsb2FkKHtyZXZlbnVlOm4sc2hpcHBpbmc6cix0YXg6aSxkaXNjb3VudDpzLGNvdXBvbnM6ZSxsaW5lSXRlbXM6YSxleHRyYUl0ZW1zRGF0YTp1fSkpLHRoaXMuX2NoZWNrb3V0U3RhcnRlZD0hMH19fSx0LnByb3RvdHlwZS50cmFja09yZGVyQ29tcGxldGU9ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMsbj10aGlzLmdldE9yZGVyKCk7aWYobil7dmFyIHI9bi5pc0NvbXBsZXRlLGk9bi5vcmRlcklkLG89bi5vcmRlckFtb3VudCxhPW4uc2hpcHBpbmdDb3N0VG90YWwscz1uLnRheFRvdGFsLGM9bi5kaXNjb3VudEFtb3VudCx1PW4uY291cG9ucyxkPW4ubGluZUl0ZW1zLHA9bi5jYXJ0SWQ7aWYocil7dmFyIGg9dGhpcy5yZWFkRXh0cmFJdGVtc0RhdGEocCk7aWYobnVsbCE9PWgpe3ZhciBsPW51bGw9PT0odD10aGlzLmNoZWNrb3V0U2VydmljZS5nZXRTdGF0ZSgpLmRhdGEuZ2V0Q29uZmlnKCkpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmNoZWNrb3V0U2V0dGluZ3MuZmVhdHVyZXNbXCJEQVRBLTY4OTEubWlzc2luZ19vcmRlcnNfd2l0aGluX0dBXCJdLG09dGhpcy5nZXRUcmFja2luZ1BheWxvYWQoe29yZGVySWQ6aSxyZXZlbnVlOm8sc2hpcHBpbmc6YSx0YXg6cyxkaXNjb3VudDpjLGNvdXBvbnM6dSxleHRyYUl0ZW1zRGF0YTpoLGxpbmVJdGVtczpkfSk7aWYobCYmdGhpcy5hbmFseXRpY3MuaGFzUGF5bG9hZExpbWl0KG0pKXJldHVybiB0aGlzLmFuYWx5dGljcy5oaXQoXCJ0cmFuc2FjdGlvblwiLHtcIiZ0aVwiOm0ub3JkZXJJZCxcIiZ0YVwiOm0uYWZmaWxpYXRpb24sXCImdHJcIjptLnJldmVudWUsXCImdHNcIjptLnNoaXBwaW5nLFwiJnR0XCI6bS50YXgsXCImdGNjXCI6bS5jb3Vwb24sXCImY3VcIjptLmN1cnJlbmN5fSksbS5wcm9kdWN0cy5tYXAoKGZ1bmN0aW9uKHQpe2UuYW5hbHl0aWNzLmhpdChcIml0ZW1cIix7XCImdGlcIjptLm9yZGVySWQsXCImaW5cIjp0Lm5hbWUsXCImaWNcIjp0LnNrdSxcIiZpdlwiOlwiXCIrdC5jYXRlZ29yeSxcIiZpcFwiOnQucHJpY2UsXCImaXFcIjp0LnF1YW50aXR5fSl9KSksdGhpcy5jbGVhckV4dHJhSXRlbURhdGEocCk7dGhpcy5hbmFseXRpY3MudHJhY2soXCJPcmRlciBDb21wbGV0ZWRcIixtKSx0aGlzLmNsZWFyRXh0cmFJdGVtRGF0YShwKX19fX0sdC5wcm90b3R5cGUudHJhY2tTdGVwVmlld2VkPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0SWRGcm9tU3RlcCh0KTtlJiYhdGhpcy5oYXNTdGVwVmlld2VkKGUpJiYodGhpcy50cmFja1ZpZXdlZChlKSx0aGlzLmJhY2tmaWxsKGUpKX0sdC5wcm90b3R5cGUudHJhY2tTdGVwQ29tcGxldGVkPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0SWRGcm9tU3RlcCh0KTtlJiYhdGhpcy5oYXNTdGVwQ29tcGxldGVkKGUpJiYodGhpcy5iYWNrZmlsbChlKSx0aGlzLnRyYWNrQ29tcGxldGVkKGUpKX0sdC5wcm90b3R5cGUuYmFja2ZpbGw9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj10aGlzLl9hbmFseXRpY1N0ZXBPcmRlcjtlPG4ubGVuZ3RoO2UrKyl7dmFyIHI9bltlXSxpPXRoaXMuZ2V0SWRGcm9tU3RlcChyKTtpZighaSlicmVhaztpZih0aGlzLmhhc1N0ZXBWaWV3ZWQoaSl8fHRoaXMudHJhY2tWaWV3ZWQoaSksaT09PXQpYnJlYWs7dGhpcy5oYXNTdGVwQ29tcGxldGVkKGkpfHx0aGlzLnRyYWNrQ29tcGxldGVkKGkpfX0sdC5wcm90b3R5cGUudHJhY2tDb21wbGV0ZWQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRTZWxlY3RlZFNoaXBwaW5nT3B0aW9uKCksbj0odGhpcy5nZXRTaG9wcGVyQ3VycmVuY3koKXx8e30pLmNvZGUscj12b2lkIDA9PT1uP1wiXCI6bixpPXRoaXMuZ2V0UGF5bWVudE1ldGhvZE5hbWUoKSxvPXtzdGVwOnQsY3VycmVuY3k6cn07ZSYmKG8uc2hpcHBpbmdNZXRob2Q9ZS5kZXNjcmlwdGlvbiksaSYmKG8ucGF5bWVudE1ldGhvZD1pKSxvLnNoaXBwaW5nTWV0aG9kfHxvLnBheW1lbnRNZXRob2R8fChvLnNoaXBwaW5nTWV0aG9kPVwiIFwiKSx0aGlzLmFuYWx5dGljcy50cmFjayhcIkNoZWNrb3V0IFN0ZXAgQ29tcGxldGVkXCIsbyk7dmFyIGE9ZT9lLmlkOlwiXCIscz10PT09amkuU0hJUFBJTkc/dCtcIi1cIithOnQ7dGhpcy5fY29tcGxldGVkU3RlcHNbc109ITB9LHQucHJvdG90eXBlLmdldFRyYWNraW5nUGF5bG9hZD1mdW5jdGlvbih0KXt2YXIgZT10Lm9yZGVySWQsbj10LnJldmVudWUscj10LnNoaXBwaW5nLGk9dC50YXgsbz10LmRpc2NvdW50LGE9dC5jb3Vwb25zLHM9dC5leHRyYUl0ZW1zRGF0YSxjPXQubGluZUl0ZW1zLHU9KHRoaXMuZ2V0U2hvcHBlckN1cnJlbmN5KCl8fHt9KS5jb2RlLGQ9dm9pZCAwPT09dT9cIlwiOnUscD0odGhpcy5nZXRTdG9yZVByb2ZpbGUoKXx8e30pLnN0b3JlTmFtZTtyZXR1cm57b3JkZXJJZDplLGFmZmlsaWF0aW9uOnZvaWQgMD09PXA/XCJcIjpwLHJldmVudWU6dGhpcy50b1Nob3BwZXJDdXJyZW5jeShuKSxzaGlwcGluZzp0aGlzLnRvU2hvcHBlckN1cnJlbmN5KHIpLHRheDp0aGlzLnRvU2hvcHBlckN1cnJlbmN5KGkpLGRpc2NvdW50OnRoaXMudG9TaG9wcGVyQ3VycmVuY3kobyksY291cG9uOihhfHxbXSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jb2RlLnRvVXBwZXJDYXNlKCl9KSkuam9pbihcIixcIiksY3VycmVuY3k6ZCxwcm9kdWN0czp0aGlzLmdldFByb2R1Y3RzKHMsYyl9fSx0LnByb3RvdHlwZS5oYXNTdGVwQ29tcGxldGVkPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0U2VsZWN0ZWRTaGlwcGluZ09wdGlvbigpLG49ZT9lLmlkOlwiXCI7cmV0dXJuIHRoaXMuX2NvbXBsZXRlZFN0ZXBzLmhhc093blByb3BlcnR5KHQpfHx0PT09amkuU0hJUFBJTkcmJnRoaXMuX2NvbXBsZXRlZFN0ZXBzLmhhc093blByb3BlcnR5KHQrXCItXCIrbil9LHQucHJvdG90eXBlLmhhc1N0ZXBWaWV3ZWQ9ZnVuY3Rpb24odCl7cmV0dXJuISF0aGlzLl92aWV3ZWRTdGVwc1t0XX0sdC5wcm90b3R5cGUuZ2V0SWRGcm9tU3RlcD1mdW5jdGlvbih0KXt2YXIgZT10LnNwbGl0KFwiLlwiKTtyZXR1cm4gVGlbZVswXV18fG51bGx9LHQucHJvdG90eXBlLnRyYWNrVmlld2VkPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0U2hvcHBlckN1cnJlbmN5KCk7dGhpcy5hbmFseXRpY3MudHJhY2soXCJDaGVja291dCBTdGVwIFZpZXdlZFwiLHtzdGVwOnQsY3VycmVuY3k6ZT9lLmNvZGU6XCJcIn0pLHRoaXMuX3ZpZXdlZFN0ZXBzW3RdPSEwfSx0LnByb3RvdHlwZS5nZXRPcmRlcj1mdW5jdGlvbigpe3JldHVybigwLHRoaXMuY2hlY2tvdXRTZXJ2aWNlLmdldFN0YXRlKCkuZGF0YS5nZXRPcmRlcikoKX0sdC5wcm90b3R5cGUuZ2V0Q2hlY2tvdXQ9ZnVuY3Rpb24oKXtyZXR1cm4oMCx0aGlzLmNoZWNrb3V0U2VydmljZS5nZXRTdGF0ZSgpLmRhdGEuZ2V0Q2hlY2tvdXQpKCl9LHQucHJvdG90eXBlLmdldFNob3BwZXJDdXJyZW5jeT1mdW5jdGlvbigpe3ZhciB0PSgwLHRoaXMuY2hlY2tvdXRTZXJ2aWNlLmdldFN0YXRlKCkuZGF0YS5nZXRDb25maWcpKCk7cmV0dXJuIHQmJnQuc2hvcHBlckN1cnJlbmN5fSx0LnByb3RvdHlwZS5nZXRTdG9yZVByb2ZpbGU9ZnVuY3Rpb24oKXt2YXIgdD0oMCx0aGlzLmNoZWNrb3V0U2VydmljZS5nZXRTdGF0ZSgpLmRhdGEuZ2V0Q29uZmlnKSgpO3JldHVybiB0JiZ0LnN0b3JlUHJvZmlsZX0sdC5wcm90b3R5cGUudG9TaG9wcGVyQ3VycmVuY3k9ZnVuY3Rpb24odCl7dmFyIGU9KHRoaXMuZ2V0U2hvcHBlckN1cnJlbmN5KCl8fHt9KS5leGNoYW5nZVJhdGUsbj12b2lkIDA9PT1lPzE6ZTtyZXR1cm4gTWF0aC5yb3VuZCh0Km4qMTAwKS8xMDB9LHQucHJvdG90eXBlLnNhdmVFeHRyYUl0ZW1zRGF0YT1mdW5jdGlvbih0LGUpe3ZhciBuPU9iamVjdChkLl9fc3ByZWFkQXJyYXlzKShlLnBoeXNpY2FsSXRlbXMsZS5kaWdpdGFsSXRlbXMpLnJlZHVjZSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdFtlLnByb2R1Y3RJZF09e2JyYW5kOmUuYnJhbmQ/ZS5icmFuZDpcIlwiLGNhdGVnb3J5OmUuY2F0ZWdvcnlOYW1lcz9lLmNhdGVnb3J5TmFtZXMuam9pbihcIiwgXCIpOlwiXCJ9LHR9KSx7fSk7dHJ5e3JldHVybiB0aGlzLnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLmdldFN0b3JhZ2VLZXkodCksSlNPTi5zdHJpbmdpZnkobikpLG59Y2F0Y2godCl7cmV0dXJue319fSx0LnByb3RvdHlwZS5nZXRTdG9yYWdlS2V5PWZ1bmN0aW9uKHQpe3JldHVybiB0P1wiT1JERVJfSVRFTVNfXCIrdDpcIlwifSx0LnByb3RvdHlwZS5yZWFkRXh0cmFJdGVtc0RhdGE9ZnVuY3Rpb24odCl7dHJ5e3ZhciBlPXRoaXMuc3RvcmFnZS5nZXRJdGVtKHRoaXMuZ2V0U3RvcmFnZUtleSh0KSk7cmV0dXJuIGU/SlNPTi5wYXJzZShlKTpudWxsfWNhdGNoKHQpe3JldHVybiBudWxsfX0sdC5wcm90b3R5cGUuY2xlYXJFeHRyYUl0ZW1EYXRhPWZ1bmN0aW9uKHQpe3RyeXt0aGlzLnN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLmdldFN0b3JhZ2VLZXkodCkpfWNhdGNoKHQpe319LHQucHJvdG90eXBlLmdldFNlbGVjdGVkU2hpcHBpbmdPcHRpb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNoZWNrb3V0U2VydmljZS5nZXRTdGF0ZSgpLmRhdGEuZ2V0U2VsZWN0ZWRTaGlwcGluZ09wdGlvbigpO3JldHVybiB0JiZ0LmlkJiZ0LmRlc2NyaXB0aW9uP3Q6bnVsbH0sdC5wcm90b3R5cGUuZ2V0UGF5bWVudE1ldGhvZE5hbWU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNoZWNrb3V0U2VydmljZS5nZXRTdGF0ZSgpLmRhdGEuZ2V0U2VsZWN0ZWRQYXltZW50TWV0aG9kKCk7cmV0dXJuIHQmJnQuY29uZmlnJiZ0LmNvbmZpZy5kaXNwbGF5TmFtZXx8XCJcIn0sdC5wcm90b3R5cGUuZ2V0UHJvZHVjdHM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9KGUuY3VzdG9tSXRlbXN8fFtdKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybntwcm9kdWN0X2lkOnQuaWQsc2t1OnQuc2t1LHByaWNlOnQubGlzdFByaWNlLHF1YW50aXR5OnQucXVhbnRpdHksbmFtZTp0Lm5hbWV9fSkpLGk9ZS5naWZ0Q2VydGlmaWNhdGVzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJue3Byb2R1Y3RfaWQ6dC5pZCxwcmljZTpuLnRvU2hvcHBlckN1cnJlbmN5KHQuYW1vdW50KSxuYW1lOnQubmFtZSxxdWFudGl0eToxfX0pKSxvPU9iamVjdChkLl9fc3ByZWFkQXJyYXlzKShlLnBoeXNpY2FsSXRlbXMsZS5kaWdpdGFsSXRlbXMpLm1hcCgoZnVuY3Rpb24oZSl7dmFyIG47cmV0dXJuIGUub3B0aW9ucyYmZS5vcHRpb25zLmxlbmd0aCYmKG49ZS5vcHRpb25zLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZStcIjpcIit0LnZhbHVlfSkpKS5zb3J0KCkse3Byb2R1Y3RfaWQ6ZS5wcm9kdWN0SWQsc2t1OmUuc2t1LHByaWNlOmUuc2FsZVByaWNlLGltYWdlX3VybDplLmltYWdlVXJsLG5hbWU6ZS5uYW1lLHF1YW50aXR5OmUucXVhbnRpdHksYnJhbmQ6dFtlLnByb2R1Y3RJZF0/dFtlLnByb2R1Y3RJZF0uYnJhbmQ6XCJcIixjYXRlZ29yeTp0W2UucHJvZHVjdElkXT90W2UucHJvZHVjdElkXS5jYXRlZ29yeTpcIlwiLHZhcmlhbnQ6KG58fFtdKS5qb2luKFwiLCBcIil9fSkpO3JldHVybiBPYmplY3QoZC5fX3NwcmVhZEFycmF5cykocixvLGkpfSx0fSgpO3ZhciBEaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLnRyYWNrQ2hlY2tvdXRTdGFydGVkPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS50cmFja09yZGVyQ29tcGxldGU9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLnRyYWNrU3RlcFZpZXdlZD1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUudHJhY2tTdGVwQ29tcGxldGVkPWZ1bmN0aW9uKCl7fSx0fSgpO2Z1bmN0aW9uIHppKHQsZSl7dmFyIG49dC5nZXRTdGF0ZSgpLmRhdGEuZ2V0Q29uZmlnKCk7aWYoIW4pdGhyb3cgbmV3IHYuYih2LmEuTWlzc2luZ0NoZWNrb3V0Q29uZmlnKTtyZXR1cm4gbi5jaGVja291dFNldHRpbmdzLmlzQW5hbHl0aWNzRW5hYmxlZCYmZnVuY3Rpb24odCl7cmV0dXJuIEJvb2xlYW4odC5hbmFseXRpY3MpfSh3aW5kb3cpP25ldyBSaSh0LE1pLmEsd2luZG93LmFuYWx5dGljcyxlKTpuZXcgRGl9bi5kKGUsXCJjcmVhdGVUaW1lb3V0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHIuY3JlYXRlVGltZW91dH0pKSxuLmQoZSxcImNyZWF0ZUNoZWNrb3V0U2VydmljZVwiLChmdW5jdGlvbigpe3JldHVybiBnaX0pKSxuLmQoZSxcImNyZWF0ZUNoZWNrb3V0QnV0dG9uSW5pdGlhbGl6ZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gYmkuYX0pKSxuLmQoZSxcImVtYmVkQ2hlY2tvdXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gdmkuYX0pKSxuLmQoZSxcImNyZWF0ZUVtYmVkZGVkQ2hlY2tvdXRNZXNzZW5nZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gQ2kuYX0pKSxuLmQoZSxcImNyZWF0ZUxhbmd1YWdlU2VydmljZVwiLChmdW5jdGlvbigpe3JldHVybiBJaX0pKSxuLmQoZSxcImNyZWF0ZUN1cnJlbmN5U2VydmljZVwiLChmdW5jdGlvbigpe3JldHVybiBQaX0pKSxuLmQoZSxcImNyZWF0ZVN0ZXBUcmFja2VyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHppfSkpfSwsZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByLGksbyxhLHM9bigwKSxjPW4oNTIpLHU9big0NSksZD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fc2NyaXB0TG9hZGVyPXQsdGhpcy5fd2luZG93PXdpbmRvd31yZXR1cm4gdC5wcm90b3R5cGUubG9hZFBheXBhbENvbW1lcmNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdChzLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBPYmplY3Qocy5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5fdmFsaWRhdGVQYXJhbXModCxlKSx0aGlzLl93aW5kb3cucGF5cGFsTG9hZFNjcmlwdD9bMywyXTooXCJodHRwczovL3VucGtnLmNvbS9AcGF5cGFsL3BheXBhbC1qc0AxLjAuMi9kaXN0L3BheXBhbC5icm93c2VyLm1pbi5qc1wiLFs0LHRoaXMuX3NjcmlwdExvYWRlci5sb2FkU2NyaXB0KFwiaHR0cHM6Ly91bnBrZy5jb20vQHBheXBhbC9wYXlwYWwtanNAMS4wLjIvZGlzdC9wYXlwYWwuYnJvd3Nlci5taW4uanNcIix7YXN5bmM6ITAsYXR0cmlidXRlczp7fX0pXSk7Y2FzZSAxOmlmKG4uc2VudCgpLCF0aGlzLl93aW5kb3cucGF5cGFsTG9hZFNjcmlwdCl0aHJvdyBuZXcgdS5hO24ubGFiZWw9MjtjYXNlIDI6cmV0dXJuWzQsdGhpcy5fd2luZG93LnBheXBhbExvYWRTY3JpcHQodCldO2Nhc2UgMzppZihuLnNlbnQoKSwhdGhpcy5fd2luZG93LnBheXBhbCl0aHJvdyBuZXcgdS5hO3JldHVyblsyLHRoaXMuX3dpbmRvdy5wYXlwYWxdfX0pKX0pKX0sdC5wcm90b3R5cGUuX3ZhbGlkYXRlUGFyYW1zPWZ1bmN0aW9uKHQsZSl7dmFyIG47aWYodD90W1wiY2xpZW50LWlkXCJdP3RbXCJtZXJjaGFudC1pZFwiXXx8ZXx8KG49XCJtZXJjaGFudC1pZFwiKTpuPVwiY2xpZW50LWlkXCI6bj1cIm9wdGlvbnNcIixuKXRocm93IG5ldyBjLmEoJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgXCInK24rJ1wiIGFyZ3VtZW50IGluIFBheVBhbCBzY3JpcHQgaXMgbm90IHByb3ZpZGVkLicpfSx0fSgpLHA9big3MiksaD1uKDM5KSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9yZXF1ZXN0U2VuZGVyPXR9cmV0dXJuIHQucHJvdG90eXBlLnNldHVwUGF5bWVudD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT17fSksT2JqZWN0KHMuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG4scixpLG8sYSxjLHU7cmV0dXJuIE9iamVjdChzLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihzKXtzd2l0Y2gocy5sYWJlbCl7Y2FzZSAwOnJldHVybiBuPWUuaXNDcmVkaXQscj1lLmlzQ2hlY2tvdXQsaT1lLmlzQ3JlZGl0Q2FyZCxvPVwicGF5cGFsY29tbWVyY2VcIixpP289XCJwYXlwYWxjb21tZXJjZWNyZWRpdGNhcmRzY2hlY2tvdXRcIjpyP289bj9cInBheXBhbGNvbW1lcmNlY3JlZGl0Y2hlY2tvdXRcIjpcInBheXBhbGNvbW1lcmNlY2hlY2tvdXRcIjpuJiYobz1cInBheXBhbGNvbW1lcmNlY3JlZGl0XCIpLGE9XCIvYXBpL3N0b3JlZnJvbnQvcGF5bWVudC9cIitvLGM9e2NhcnRJZDp0fSx1PXtcIlgtQVBJLUlOVEVSTkFMXCI6cC5hLFwiQ29udGVudC1UeXBlXCI6aC5hLkpzb259LFs0LHRoaXMuX3JlcXVlc3RTZW5kZXIucG9zdChhLHtoZWFkZXJzOnUsYm9keTpjfSldO2Nhc2UgMTpyZXR1cm5bMixzLnNlbnQoKS5ib2R5XX19KSl9KSl9LHR9KCksbT1uKDIpLGY9bigxMTEpLF89bigxODApOyFmdW5jdGlvbih0KXt0LnBheXBhbD1cInBheXBhbFwiLHQuY2hlY2tvdXQ9XCJjaGVja291dFwiLHQuYnV5bm93PVwiYnV5bm93XCIsdC5wYXk9XCJwYXlcIix0Lmluc3RhbGxtZW50PVwiaW5zdGFsbG1lbnRcIn0ocnx8KHI9e30pKSxmdW5jdGlvbih0KXt0LnZlcnRpY2FsPVwidmVydGljYWxcIix0Lmhvcml6b250YWw9XCJob3Jpem9udGFsXCJ9KGl8fChpPXt9KSksZnVuY3Rpb24odCl7dC5nb2xkPVwiZ29sZFwiLHQuYmx1ZT1cImJsdWVcIix0LnNpbHZlcj1cInNpbHZlclwiLHQuYmxhY2s9XCJibGFja1wiLHQud2hpdGU9XCJ3aGl0ZVwifShvfHwobz17fSkpLGZ1bmN0aW9uKHQpe3QucGlsbD1cInBpbGxcIix0LnJlY3Q9XCJyZWN0XCJ9KGF8fChhPXt9KSk7dmFyIHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fcGF5cGFsU2NyaXB0TG9hZGVyPXQsdGhpcy5fcGF5cGFsQ29tbWVyY2VSZXF1ZXN0U2VuZGVyPWUsdGhpcy5fdmFsaWRhdGVTdHlsZVBhcmFtcz1mdW5jdGlvbih0KXt2YXIgZT1PYmplY3Qocy5fX2Fzc2lnbikoe30sdCksbj10LmxhYmVsLGM9dC5jb2xvcix1PXQubGF5b3V0LGQ9dC5zaGFwZSxwPXQuaGVpZ2h0LGg9dC50YWdsaW5lO3JldHVybiBuJiYhcltuXSYmZGVsZXRlIGUubGFiZWwsdSYmIWlbdV0mJmRlbGV0ZSBlLmxheW91dCxjJiYhb1tjXSYmZGVsZXRlIGUuY29sb3IsZCYmIWFbZF0mJmRlbGV0ZSBlLnNoYXBlLFwibnVtYmVyXCI9PXR5cGVvZiBwP2UuaGVpZ2h0PXA8MjU/MjU6cD41NT81NTpwOmRlbGV0ZSBlLmhlaWdodCwoXCJib29sZWFuXCIhPXR5cGVvZiBofHxoJiZlLmxheW91dCE9PWlbaS5ob3Jpem9udGFsXSkmJmRlbGV0ZSBlLnRhZ2xpbmUsZX19cmV0dXJuIHQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0KHMuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG47cmV0dXJuIE9iamVjdChzLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybiBuPXRoaXMsWzQsdGhpcy5fcGF5cGFsU2NyaXB0TG9hZGVyLmxvYWRQYXlwYWxDb21tZXJjZSh0LGUpXTtjYXNlIDE6cmV0dXJuIG4uX3BheXBhbD1yLnNlbnQoKSxbMix0aGlzLl9wYXlwYWxdfX0pKX0pKX0sdC5wcm90b3R5cGUucmVuZGVyQnV0dG9ucz1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT10aGlzO2lmKHZvaWQgMD09PW4mJihuPXt9KSx2b2lkIDA9PT1yJiYocj17fSksIXRoaXMuX3BheXBhbHx8IXRoaXMuX3BheXBhbC5CdXR0b25zKXRocm93IG5ldyB1LmE7dmFyIG89ci5wYXJhbXNGb3JQcm92aWRlcixhPXIuZnVuZGluZ0tleSxjPXIub25SZW5kZXJCdXR0b24sZD1PYmplY3Qocy5fX2Fzc2lnbikoT2JqZWN0KHMuX19hc3NpZ24pKHt9LG4pLHtjcmVhdGVPcmRlcjpmdW5jdGlvbigpe3JldHVybiBpLl9zZXR1cFBheW1lbnQodCxvKX0sb25DbGljazpmdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3Qocy5fX2F3YWl0ZXIpKGksdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgcjtyZXR1cm4gT2JqZWN0KHMuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKGkpe3JldHVybiB0aGlzLl9mdW5kaW5nU291cmNlPXQuZnVuZGluZ1NvdXJjZSxbMixudWxsPT09KHI9bi5vbkNsaWNrKXx8dm9pZCAwPT09cj92b2lkIDA6ci5jYWxsKG4sdCxlKV19KSl9KSl9fSk7cmV0dXJuIG4uc3R5bGUmJihkLnN0eWxlPXRoaXMuX3ZhbGlkYXRlU3R5bGVQYXJhbXMobi5zdHlsZSkpLGEmJih0aGlzLl9mdW5kaW5nU291cmNlPXRoaXMuX3BheXBhbC5GVU5ESU5HW2FdLGQuZnVuZGluZ1NvdXJjZT10aGlzLl9mdW5kaW5nU291cmNlKSx0aGlzLl9wYXlwYWxCdXR0b25zPXRoaXMuX3BheXBhbC5CdXR0b25zKGQpLHRoaXMuX3BheXBhbEJ1dHRvbnMuaXNFbGlnaWJsZSgpfHx0aGlzLl9wcm9jZXNzTm90RWxpZ2libGUoZCxhKSxudWxsPT1jfHxjKCksdGhpcy5fcGF5cGFsQnV0dG9ucy5yZW5kZXIoZSksdGhpcy5fcGF5cGFsQnV0dG9uc30sdC5wcm90b3R5cGUucmVuZGVyTWVzc2FnZXM9ZnVuY3Rpb24odCxlKXtpZighdGhpcy5fcGF5cGFsfHwhdGhpcy5fcGF5cGFsLk1lc3NhZ2VzKXRocm93IG5ldyB1LmE7cmV0dXJuIHRoaXMuX3BheXBhbE1lc3NhZ2VzPXRoaXMuX3BheXBhbC5NZXNzYWdlcyh7YW1vdW50OnQscGxhY2VtZW50OlwiY2FydFwiLHN0eWxlOntsYXlvdXQ6XCJ0ZXh0XCJ9fSksdGhpcy5fcGF5cGFsTWVzc2FnZXMucmVuZGVyKGUpLHRoaXMuX3BheXBhbE1lc3NhZ2VzfSx0LnByb3RvdHlwZS5yZW5kZXJIb3N0ZWRGaWVsZHM9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBPYmplY3Qocy5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgcixpLG8sYT10aGlzO3JldHVybiBPYmplY3Qocy5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24ocyl7c3dpdGNoKHMubGFiZWwpe2Nhc2UgMDppZighdGhpcy5fcGF5cGFsfHwhdGhpcy5fcGF5cGFsLkhvc3RlZEZpZWxkcyl0aHJvdyBuZXcgdS5hO2lmKHI9ZS5maWVsZHMsaT1lLnN0eWxlcywhdGhpcy5fcGF5cGFsLkhvc3RlZEZpZWxkcy5pc0VsaWdpYmxlKCkpdGhyb3cgbmV3IGYuYihmLmEuUGF5bWVudE5vdEluaXRpYWxpemVkKTtyZXR1cm4gbz10aGlzLFs0LHRoaXMuX3BheXBhbC5Ib3N0ZWRGaWVsZHMucmVuZGVyKHtmaWVsZHM6cixzdHlsZXM6aSxwYXltZW50c1NESzohMCxjcmVhdGVPcmRlcjpmdW5jdGlvbigpe3JldHVybiBhLl9zZXR1cFBheW1lbnQodCx7aXNDcmVkaXRDYXJkOiEwfSl9fSldO2Nhc2UgMTpyZXR1cm4gby5faG9zdGVkRmllbGRzPXMuc2VudCgpLG4mJk9iamVjdC5rZXlzKG4pLmZvckVhY2goKGZ1bmN0aW9uKHQpe2EuX2hvc3RlZEZpZWxkcy5vbih0LG5bdF0pfSkpLFsyXX19KSl9KSl9LHQucHJvdG90eXBlLnN1Ym1pdEhvc3RlZEZpZWxkcz1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KHMuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChzLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihlKXtpZighdGhpcy5faG9zdGVkRmllbGRzKXRocm93IG5ldyBmLmIoZi5hLlBheW1lbnROb3RJbml0aWFsaXplZCk7cmV0dXJuWzIsdGhpcy5faG9zdGVkRmllbGRzLnN1Ym1pdChPYmplY3QobS5vbWl0QnkpKHQsbS5pc05pbCkpXX0pKX0pKX0sdC5wcm90b3R5cGUuZ2V0SG9zdGVkRmllbGRzVmFsaWRhdGlvblN0YXRlPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2hvc3RlZEZpZWxkcyl0aHJvdyBuZXcgZi5iKGYuYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO3ZhciB0PXRoaXMuX2hvc3RlZEZpZWxkcy5nZXRTdGF0ZSgpLmZpZWxkcztyZXR1cm57aXNWYWxpZDpPYmplY3Qua2V5cyh0KS5ldmVyeSgoZnVuY3Rpb24oZSl7dmFyIG47cmV0dXJuIG51bGw9PT0obj10W2VdKXx8dm9pZCAwPT09bj92b2lkIDA6bi5pc1ZhbGlkfSkpLGZpZWxkczp0fX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKCl7dmFyIHQsZTtudWxsPT09KGU9bnVsbD09PSh0PXRoaXMuX3BheXBhbEJ1dHRvbnMpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmNsb3NlKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHQpLHRoaXMuX3BheXBhbD12b2lkIDAsdGhpcy5fcGF5cGFsQnV0dG9ucz12b2lkIDAsdGhpcy5fZnVuZGluZ1NvdXJjZT12b2lkIDAsdGhpcy5faG9zdGVkRmllbGRzPXZvaWQgMH0sdC5wcm90b3R5cGUuX3NldHVwUGF5bWVudD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT17fSksT2JqZWN0KHMuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG47cmV0dXJuIE9iamVjdChzLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybiBuPU9iamVjdChzLl9fYXNzaWduKShPYmplY3Qocy5fX2Fzc2lnbikoe30sZSkse2lzQ3JlZGl0OlwiY3JlZGl0XCI9PT10aGlzLl9mdW5kaW5nU291cmNlfHxcInBheWxhdGVyXCI9PT10aGlzLl9mdW5kaW5nU291cmNlfSksWzQsdGhpcy5fcGF5cGFsQ29tbWVyY2VSZXF1ZXN0U2VuZGVyLnNldHVwUGF5bWVudCh0LG4pXTtjYXNlIDE6cmV0dXJuWzIsci5zZW50KCkub3JkZXJJZF19fSkpfSkpfSx0LnByb3RvdHlwZS5fcHJvY2Vzc05vdEVsaWdpYmxlPWZ1bmN0aW9uKHQsZSl7dmFyIG4scixpLG87aWYoZSE9PShudWxsPT09KG49dGhpcy5fcGF5cGFsKXx8dm9pZCAwPT09bj92b2lkIDA6bi5GVU5ESU5HLlBBWUxBVEVSKXx8KHQuZnVuZGluZ1NvdXJjZT1udWxsPT09KHI9dGhpcy5fcGF5cGFsKXx8dm9pZCAwPT09cj92b2lkIDA6ci5GVU5ESU5HLkNSRURJVCx0aGlzLl9wYXlwYWxCdXR0b25zPW51bGw9PT0oaT10aGlzLl9wYXlwYWwpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLkJ1dHRvbnModCksbnVsbD09PShvPXRoaXMuX3BheXBhbEJ1dHRvbnMpfHx2b2lkIDA9PT1vfHwhby5pc0VsaWdpYmxlKCkpKXRocm93IG5ldyBfLmEoXCJQYXlQYWwgXCIrKHRoaXMuX2Z1bmRpbmdTb3VyY2V8fFwiXCIpK1wiIGlzIG5vdCBhdmFpbGFibGUgZm9yIHlvdXIgcmVnaW9uLiBQbGVhc2UgdXNlIFBheVBhbCBDaGVja291dCBpbnN0ZWFkLlwiKX0sdH0oKTtmdW5jdGlvbiBnKHQsZSl7dmFyIG49bmV3IGQodCkscj1uZXcgbChlKTtyZXR1cm4gbmV3IHkobixyKX1uLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ30pKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMzEpLGk9bigwKSxvPW4oMTExKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9hbWF6b25QYXlWMlNjcmlwdExvYWRlcj10fXJldHVybiB0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoaS5fX2F3YWl0ZXIpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gT2JqZWN0KGkuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKG4pe3N3aXRjaChuLmxhYmVsKXtjYXNlIDA6cmV0dXJuIGU9dGhpcyxbNCx0aGlzLl9hbWF6b25QYXlWMlNjcmlwdExvYWRlci5sb2FkKHQpXTtjYXNlIDE6cmV0dXJuIGUuX2FtYXpvblBheVYyU0RLPW4uc2VudCgpLFsyXX19KSl9KSl9LHQucHJvdG90eXBlLmRlaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hbWF6b25QYXlWMlNESz12b2lkIDAsUHJvbWlzZS5yZXNvbHZlKCl9LHQucHJvdG90eXBlLmJpbmRCdXR0b249ZnVuY3Rpb24odCxlLG4pe3RoaXMuX2dldEFtYXpvblBheVYyU0RLKCkuUGF5LmJpbmRDaGFuZ2VBY3Rpb24oXCIjXCIrdCx7YW1hem9uQ2hlY2tvdXRTZXNzaW9uSWQ6ZSxjaGFuZ2VBY3Rpb246bn0pfSx0LnByb3RvdHlwZS5jcmVhdGVCdXR0b249ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fZ2V0QW1hem9uUGF5VjJTREsoKS5QYXkucmVuZGVyQnV0dG9uKHQsZSl9LHQucHJvdG90eXBlLnNpZ25vdXQ9ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGkuX19hd2FpdGVyKSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChpLl9fZ2VuZXJhdG9yKSh0aGlzLChmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYW1hem9uUGF5VjJTREsmJnRoaXMuX2FtYXpvblBheVYyU0RLLlBheS5zaWdub3V0KCksWzIsUHJvbWlzZS5yZXNvbHZlKCldfSkpfSkpfSx0LnByb3RvdHlwZS5fZ2V0QW1hem9uUGF5VjJTREs9ZnVuY3Rpb24oKXtpZighdGhpcy5fYW1hem9uUGF5VjJTREspdGhyb3cgbmV3IG8uYihvLmEuUGF5bWVudE5vdEluaXRpYWxpemVkKTtyZXR1cm4gdGhpcy5fYW1hem9uUGF5VjJTREt9LHR9KCkscz1uKDQ1KSxjPW4oMTAzKSx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZvaWQgMD09PWUmJihlPXdpbmRvdyksdGhpcy5fc2NyaXB0TG9hZGVyPXQsdGhpcy5fd2luZG93PWV9cmV0dXJuIHQucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChpLl9fYXdhaXRlcikodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLG4scixvO3JldHVybiBPYmplY3QoaS5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24oaSl7c3dpdGNoKGkubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZT10LmluaXRpYWxpemF0aW9uRGF0YSxuPSh2b2lkIDA9PT1lP3t9OmUpLnJlZ2lvbixyPXZvaWQgMD09PW4/XCJ1c1wiOm4sbz1jLmNbcl0sWzQsdGhpcy5fc2NyaXB0TG9hZGVyLmxvYWRTY3JpcHQoXCJodHRwczovL3N0YXRpYy1cIitvK1wiLnBheW1lbnRzLWFtYXpvbi5jb20vY2hlY2tvdXQuanNcIildO2Nhc2UgMTppZihpLnNlbnQoKSwhdGhpcy5fd2luZG93LmFtYXpvbil0aHJvdyBuZXcgcy5hO3JldHVyblsyLHRoaXMuX3dpbmRvdy5hbWF6b25dfX0pKX0pKX0sdH0oKTtmdW5jdGlvbiBkKCl7cmV0dXJuIG5ldyBhKG5ldyB1KE9iamVjdChyLmdldFNjcmlwdExvYWRlcikoKSkpfW4uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiBkfSkpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big0NiksaT1uKDMxKSxvPW4oMjAxKSxhPW4oMTc4KSxzPW4oMTM3KSxjPW4oMTMwKSx1PW4oMTMxKSxkPW4oMjAwKSxwPW4oMTc1KSxoPW4oODcpLGw9big4OCksbT1uKDExMSksZj1uKDEyKSxfPW4oMTgxKSx5PW4oMTcwKSxnPW4oMjkpLGI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIsaSxvLGEpe3RoaXMuX3N0b3JlPXQsdGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3I9ZSx0aGlzLl9nb29nbGVQYXlTY3JpcHRMb2FkZXI9bix0aGlzLl9nb29nbGVQYXlJbml0aWFsaXplcj1yLHRoaXMuX2JpbGxpbmdBZGRyZXNzQWN0aW9uQ3JlYXRvcj1pLHRoaXMuX2NvbnNpZ25tZW50QWN0aW9uQ3JlYXRvcj1vLHRoaXMuX3JlcXVlc3RTZW5kZXI9YX1yZXR1cm4gdC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbWV0aG9kSWQ9dCx0aGlzLl9jb25maWd1cmVXYWxsZXQoKX0sdC5wcm90b3R5cGUuZGVpbml0aWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dvb2dsZVBheUluaXRpYWxpemVyLnRlYXJkb3duKCl9LHQucHJvdG90eXBlLmNyZWF0ZUJ1dHRvbj1mdW5jdGlvbih0LGUsbil7aWYodm9pZCAwPT09ZSYmKGU9Zy5jLlNob3J0KSx2b2lkIDA9PT1uJiYobj1nLmIuRGVmYXVsdCksIXRoaXMuX2dvb2dsZVBheUNsaWVudCl0aHJvdyBuZXcgbS5iKG0uYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO3JldHVybiB0aGlzLl9nb29nbGVQYXlDbGllbnQuY3JlYXRlQnV0dG9uKHtidXR0b25Db2xvcjpuLGJ1dHRvblR5cGU6ZSxvbkNsaWNrOnR9KX0sdC5wcm90b3R5cGUuZGlzcGxheVdhbGxldD1mdW5jdGlvbigpe2lmKCF0aGlzLl9nb29nbGVQYXlDbGllbnQpdGhyb3cgbmV3IG0uYihtLmEuUGF5bWVudE5vdEluaXRpYWxpemVkKTtyZXR1cm4gdGhpcy5fZ29vZ2xlUGF5Q2xpZW50LmxvYWRQYXltZW50RGF0YSh0aGlzLl9nZXRQYXltZW50RGF0YVJlcXVlc3QoKSl9LHQucHJvdG90eXBlLmhhbmRsZVN1Y2Nlc3M9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5fZ29vZ2xlUGF5SW5pdGlhbGl6ZXIucGFyc2VSZXNwb25zZSh0KS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gZS5fcG9zdEZvcm0odCl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gZS5fdXBkYXRlQmlsbGluZ0FkZHJlc3ModCl9KSl9LHQucHJvdG90eXBlLnVwZGF0ZVNoaXBwaW5nQWRkcmVzcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fY29uc2lnbm1lbnRBY3Rpb25DcmVhdG9yLnVwZGF0ZUFkZHJlc3ModGhpcy5fbWFwR29vZ2xlUGF5QWRkcmVzc1RvU2hpcHBpbmdBZGRyZXNzKHQpKSl9LHQucHJvdG90eXBlLl9jb25maWd1cmVXYWxsZXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dGhpcy5fZ2V0TWV0aG9kSWQoKTtyZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fcGF5bWVudE1ldGhvZEFjdGlvbkNyZWF0b3IubG9hZFBheW1lbnRNZXRob2QoZSkpLnRoZW4oKGZ1bmN0aW9uKG4pe3ZhciByPW4ucGF5bWVudE1ldGhvZHMuZ2V0UGF5bWVudE1ldGhvZChlKSxpPW4uY2hlY2tvdXQuZ2V0Q2hlY2tvdXQoKSxvPSEhbi5zaGlwcGluZ0FkZHJlc3MuZ2V0U2hpcHBpbmdBZGRyZXNzKCk7aWYoIXIpdGhyb3cgbmV3IGYuYihmLmEuTWlzc2luZ1BheW1lbnRNZXRob2QpO2lmKCFpKXRocm93IG5ldyBmLmIoZi5hLk1pc3NpbmdDaGVja291dCk7dmFyIGE9ci5jb25maWcudGVzdE1vZGU7cmV0dXJuIFByb21pc2UuYWxsKFt0Ll9nb29nbGVQYXlTY3JpcHRMb2FkZXIubG9hZCgpLHQuX2dvb2dsZVBheUluaXRpYWxpemVyLmluaXRpYWxpemUoaSxyLG8pXSkudGhlbigoZnVuY3Rpb24oZSl7dmFyIG49ZVswXSxyPWVbMV07cmV0dXJuIHQuX2dvb2dsZVBheUNsaWVudD10Ll9nZXRHb29nbGVQYXlDbGllbnQobixhKSx0Ll9wYXltZW50RGF0YVJlcXVlc3Q9cix0Ll9nb29nbGVQYXlDbGllbnQuaXNSZWFkeVRvUGF5KHthbGxvd2VkUGF5bWVudE1ldGhvZHM6W3t0eXBlOnIuYWxsb3dlZFBheW1lbnRNZXRob2RzWzBdLnR5cGUscGFyYW1ldGVyczp7YWxsb3dlZEF1dGhNZXRob2RzOnIuYWxsb3dlZFBheW1lbnRNZXRob2RzWzBdLnBhcmFtZXRlcnMuYWxsb3dlZEF1dGhNZXRob2RzLGFsbG93ZWRDYXJkTmV0d29ya3M6ci5hbGxvd2VkUGF5bWVudE1ldGhvZHNbMF0ucGFyYW1ldGVycy5hbGxvd2VkQ2FyZE5ldHdvcmtzfX1dLGFwaVZlcnNpb246ci5hcGlWZXJzaW9uLGFwaVZlcnNpb25NaW5vcjpyLmFwaVZlcnNpb25NaW5vcn0pLnRoZW4oKGZ1bmN0aW9uKHQpe2lmKCF0LnJlc3VsdCl0aHJvdyBuZXcgeS5hfSkpfSkpfSkpfSx0LnByb3RvdHlwZS5fZ2V0Q2FyZEluZm9ybWF0aW9uPWZ1bmN0aW9uKHQpe3JldHVybnt0eXBlOnQuY2FyZFR5cGUsbnVtYmVyOnQubGFzdEZvdXJ9fSx0LnByb3RvdHlwZS5fZ2V0UGF5bWVudERhdGFSZXF1ZXN0PWZ1bmN0aW9uKCl7aWYoIXRoaXMuX3BheW1lbnREYXRhUmVxdWVzdCl0aHJvdyBuZXcgXy5hO3JldHVybiB0aGlzLl9wYXltZW50RGF0YVJlcXVlc3R9LHQucHJvdG90eXBlLl9nZXRHb29nbGVQYXlDbGllbnQ9ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT1lKXRocm93IG5ldyBmLmIoZi5hLk1pc3NpbmdQYXltZW50TWV0aG9kKTt2YXIgbj1lP1wiVEVTVFwiOlwiUFJPRFVDVElPTlwiO3JldHVybiBuZXcgdC5wYXltZW50cy5hcGkuUGF5bWVudHNDbGllbnQoe2Vudmlyb25tZW50Om59KX0sdC5wcm90b3R5cGUuX2dldE1ldGhvZElkPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX21ldGhvZElkKXRocm93IG5ldyBtLmIobS5hLlBheW1lbnROb3RJbml0aWFsaXplZCk7cmV0dXJuIHRoaXMuX21ldGhvZElkfSx0LnByb3RvdHlwZS5fbWFwR29vZ2xlUGF5QWRkcmVzc1RvQmlsbGluZ0FkZHJlc3M9ZnVuY3Rpb24odCxlKXtyZXR1cm57aWQ6ZSxmaXJzdE5hbWU6dC5wYXltZW50TWV0aG9kRGF0YS5pbmZvLmJpbGxpbmdBZGRyZXNzLm5hbWUuc3BsaXQoXCIgXCIpLnNsaWNlKDAsLTEpLmpvaW4oXCIgXCIpLGxhc3ROYW1lOnQucGF5bWVudE1ldGhvZERhdGEuaW5mby5iaWxsaW5nQWRkcmVzcy5uYW1lLnNwbGl0KFwiIFwiKS5zbGljZSgtMSkuam9pbihcIiBcIiksY29tcGFueTp0LnBheW1lbnRNZXRob2REYXRhLmluZm8uYmlsbGluZ0FkZHJlc3MuY29tcGFueU5hbWUsYWRkcmVzczE6dC5wYXltZW50TWV0aG9kRGF0YS5pbmZvLmJpbGxpbmdBZGRyZXNzLmFkZHJlc3MxLGFkZHJlc3MyOnQucGF5bWVudE1ldGhvZERhdGEuaW5mby5iaWxsaW5nQWRkcmVzcy5hZGRyZXNzMit0LnBheW1lbnRNZXRob2REYXRhLmluZm8uYmlsbGluZ0FkZHJlc3MuYWRkcmVzczMsY2l0eTp0LnBheW1lbnRNZXRob2REYXRhLmluZm8uYmlsbGluZ0FkZHJlc3MubG9jYWxpdHksc3RhdGVPclByb3ZpbmNlOnQucGF5bWVudE1ldGhvZERhdGEuaW5mby5iaWxsaW5nQWRkcmVzcy5hZG1pbmlzdHJhdGl2ZUFyZWEsc3RhdGVPclByb3ZpbmNlQ29kZTp0LnBheW1lbnRNZXRob2REYXRhLmluZm8uYmlsbGluZ0FkZHJlc3MuYWRtaW5pc3RyYXRpdmVBcmVhLHBvc3RhbENvZGU6dC5wYXltZW50TWV0aG9kRGF0YS5pbmZvLmJpbGxpbmdBZGRyZXNzLnBvc3RhbENvZGUsY291bnRyeUNvZGU6dC5wYXltZW50TWV0aG9kRGF0YS5pbmZvLmJpbGxpbmdBZGRyZXNzLmNvdW50cnlDb2RlLHBob25lOnQucGF5bWVudE1ldGhvZERhdGEuaW5mby5iaWxsaW5nQWRkcmVzcy5waG9uZU51bWJlcixjdXN0b21GaWVsZHM6W10sZW1haWw6dC5lbWFpbH19LHQucHJvdG90eXBlLl9tYXBHb29nbGVQYXlBZGRyZXNzVG9TaGlwcGluZ0FkZHJlc3M9ZnVuY3Rpb24odCl7cmV0dXJue2ZpcnN0TmFtZTp0Lm5hbWUuc3BsaXQoXCIgXCIpLnNsaWNlKDAsLTEpLmpvaW4oXCIgXCIpLGxhc3ROYW1lOnQubmFtZS5zcGxpdChcIiBcIikuc2xpY2UoLTEpLmpvaW4oXCIgXCIpLGNvbXBhbnk6dC5jb21wYW55TmFtZSxhZGRyZXNzMTp0LmFkZHJlc3MxLGFkZHJlc3MyOnQuYWRkcmVzczIrdC5hZGRyZXNzMyxjaXR5OnQubG9jYWxpdHksc3RhdGVPclByb3ZpbmNlOnQuYWRtaW5pc3RyYXRpdmVBcmVhLHN0YXRlT3JQcm92aW5jZUNvZGU6dC5hZG1pbmlzdHJhdGl2ZUFyZWEscG9zdGFsQ29kZTp0LnBvc3RhbENvZGUsY291bnRyeUNvZGU6dC5jb3VudHJ5Q29kZSxwaG9uZTp0LnBob25lTnVtYmVyLGN1c3RvbUZpZWxkczpbXX19LHQucHJvdG90eXBlLl9wb3N0Rm9ybT1mdW5jdGlvbih0KXt2YXIgZT10LmRldGFpbHM7cmV0dXJuIHRoaXMuX3JlcXVlc3RTZW5kZXIucG9zdChcIi9jaGVja291dC5waHBcIix7aGVhZGVyczp7QWNjZXB0OlwidGV4dC9odG1sXCIsXCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwifSxib2R5OntwYXltZW50X3R5cGU6dC50eXBlLG5vbmNlOnQubm9uY2UscHJvdmlkZXI6dGhpcy5fZ2V0TWV0aG9kSWQoKSxhY3Rpb246XCJzZXRfZXh0ZXJuYWxfY2hlY2tvdXRcIixjYXJkX2luZm9ybWF0aW9uOnRoaXMuX2dldENhcmRJbmZvcm1hdGlvbihlKX19KX0sdC5wcm90b3R5cGUuX3VwZGF0ZUJpbGxpbmdBZGRyZXNzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3N0b3JlLmdldFN0YXRlKCkuYmlsbGluZ0FkZHJlc3MuZ2V0QmlsbGluZ0FkZHJlc3MoKTtpZighZSl0aHJvdyBuZXcgZi5iKGYuYS5NaXNzaW5nQmlsbGluZ0FkZHJlc3MpO3ZhciBuPXRoaXMuX21hcEdvb2dsZVBheUFkZHJlc3NUb0JpbGxpbmdBZGRyZXNzKHQsZS5pZCk7cmV0dXJuIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX2JpbGxpbmdBZGRyZXNzQWN0aW9uQ3JlYXRvci51cGRhdGVBZGRyZXNzKG4pKX0sdH0oKSx2PW4oNDUpLEM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dm9pZCAwPT09ZSYmKGU9d2luZG93KSx0aGlzLl9zY3JpcHRMb2FkZXI9dCx0aGlzLl93aW5kb3c9ZX1yZXR1cm4gdC5wcm90b3R5cGUubG9hZD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuX3NjcmlwdExvYWRlci5sb2FkU2NyaXB0KFwiaHR0cHM6Ly9wYXkuZ29vZ2xlLmNvbS9ncC9wL2pzL3BheS5qc1wiKS50aGVuKChmdW5jdGlvbigpe2lmKCF0Ll93aW5kb3cuZ29vZ2xlKXRocm93IG5ldyB2LmE7cmV0dXJuIHQuX3dpbmRvdy5nb29nbGV9KSl9LHR9KCk7ZnVuY3Rpb24gTyh0LGUpe3ZhciBuPU9iamVjdChyLmNyZWF0ZVJlcXVlc3RTZW5kZXIpKCksbT1PYmplY3QoaS5nZXRTY3JpcHRMb2FkZXIpKCk7cmV0dXJuIG5ldyBiKHQsbmV3IGguYShuZXcgbC5hKG4pKSxuZXcgQyhtKSxlLG5ldyBvLmEobmV3IGEuYShuKSxuZXcgZC5hKG5ldyBwLmEobikpKSxuZXcgYy5hKG5ldyB1LmEobiksbmV3IHMuYShuKSksbil9bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIE99KSl9LCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigwKSxpPW4oMSksbz1uKDMpLGE9big4KSxzPW4oOTApLGM9bigxNzIpLHU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyxlKXx8dGhpcztyZXR1cm4gbi5uYW1lPVwiVXBkYXRlU3Vic2NyaXB0aW9uc0Vycm9yXCIsbi50eXBlPVwidXBkYXRlX3N1YnNjcmlwdGlvbnNcIixufXJldHVybiBPYmplY3Qoci5fX2V4dGVuZHMpKGUsdCksZX0obigzNSkuYSksZD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fc3Vic2NyaXB0aW9uc1JlcXVlc3RTZW5kZXI9dH1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlU3Vic2NyaXB0aW9ucz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIE9iamVjdChvLmNvbmNhdCkoT2JqZWN0KG8ub2YpKE9iamVjdChpLmNyZWF0ZUFjdGlvbikoYy5hLlVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0ZWQpKSxPYmplY3Qoby5kZWZlcikoKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChyLl9fYXdhaXRlcikobix2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBuO3JldHVybiBPYmplY3Qoci5fX2dlbmVyYXRvcikodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLl9zdWJzY3JpcHRpb25zUmVxdWVzdFNlbmRlci51cGRhdGVTdWJzY3JpcHRpb25zKHQsZSldO2Nhc2UgMTpyZXR1cm4gbj1yLnNlbnQoKS5ib2R5LFsyLE9iamVjdChpLmNyZWF0ZUFjdGlvbikoYy5hLlVwZGF0ZVN1YnNjcmlwdGlvbnNTdWNjZWVkZWQsbildfX0pKX0pKX0pKSkucGlwZShPYmplY3QoYS5jYXRjaEVycm9yKSgoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChzLmEpKGMuYS5VcGRhdGVTdWJzY3JpcHRpb25zRmFpbGVkLG5ldyB1KHQpKX0pKSl9LHR9KCk7ZS5hPWR9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDApLGk9bigxKSxvPW4oMyksYT1uKDgpLHM9big5MCksYz1uKDEyKSx1PW4oMTkpLGQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyxlfHxcIlVuYWJsZSB0byBjb250aW51ZSBhcyBhIGd1ZXN0IGJlY2F1c2UgdGhlIGN1c3RvbWVyIGlzIGFscmVhZHkgc2lnbmVkIGluLlwiKXx8dGhpcztyZXR1cm4gbi5uYW1lPVwiVW5hYmxlVG9Db250aW51ZUFzR3Vlc3RFcnJvclwiLG4udHlwZT1cInVuYWJsZV90b19jb250aW51ZV9hc19ndWVzdFwiLG59cmV0dXJuIE9iamVjdChyLl9fZXh0ZW5kcykoZSx0KSxlfShuKDIyKS5hKSxwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuX3JlcXVlc3RTZW5kZXI9dCx0aGlzLl9zdWJzY3JpcHRpb25BY3Rpb25DcmVhdG9yPWV9cmV0dXJuIHQucHJvdG90eXBlLmNvbnRpbnVlQXNHdWVzdD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHApe3ZhciBoPXAuZ2V0U3RhdGUoKSxsPWguY2hlY2tvdXQuZ2V0Q2hlY2tvdXQoKTtpZighbCl0aHJvdyBuZXcgYy5iKGMuYS5NaXNzaW5nQ2hlY2tvdXQpO3ZhciBtPWguY3VzdG9tZXIuZ2V0Q3VzdG9tZXIoKTtpZihtJiYhbS5pc0d1ZXN0KXRocm93IG5ldyBkO3ZhciBmLF89aC5iaWxsaW5nQWRkcmVzcy5nZXRCaWxsaW5nQWRkcmVzcygpO2lmKF8pe18uY291bnRyeTt2YXIgeT1PYmplY3Qoci5fX3Jlc3QpKF8sW1wiY291bnRyeVwiXSk7Zj1PYmplY3Qoci5fX2Fzc2lnbikoT2JqZWN0KHIuX19hc3NpZ24pKHt9LHkpLHQpfWVsc2UgZj10O3JldHVybiBPYmplY3Qoby5tZXJnZSkoT2JqZWN0KG8uY29uY2F0KShPYmplY3Qoby5vZikoT2JqZWN0KGkuY3JlYXRlQWN0aW9uKSh1LmEuQ29udGludWVBc0d1ZXN0UmVxdWVzdGVkKSksT2JqZWN0KG8uZGVmZXIpKChmdW5jdGlvbigpe3JldHVybiBPYmplY3Qoci5fX2F3YWl0ZXIpKG4sdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gT2JqZWN0KHIuX19nZW5lcmF0b3IpKHRoaXMsKGZ1bmN0aW9uKG4pe3N3aXRjaChuLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5fY3JlYXRlT3JVcGRhdGVCaWxsaW5nQWRkcmVzcyhsLmlkLGYsZSldO2Nhc2UgMTpyZXR1cm4gdD1uLnNlbnQoKS5ib2R5LFsyLE9iamVjdChpLmNyZWF0ZUFjdGlvbikodS5hLkNvbnRpbnVlQXNHdWVzdFN1Y2NlZWRlZCx0KV19fSkpfSkpfSkpKS5waXBlKE9iamVjdChhLmNhdGNoRXJyb3IpKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KHMuYSkodS5hLkNvbnRpbnVlQXNHdWVzdEZhaWxlZCx0KX0pKSksbi5fdXBkYXRlQ3VzdG9tZXJDb25zZW50KHQsZSkpfX0sdC5wcm90b3R5cGUudXBkYXRlQWRkcmVzcz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBvLk9ic2VydmFibGUuY3JlYXRlKChmdW5jdGlvbihvKXt2YXIgcz1hLmdldFN0YXRlKCksZD1zLmNoZWNrb3V0LmdldENoZWNrb3V0KCk7aWYoIWQpdGhyb3cgbmV3IGMuYihjLmEuTWlzc2luZ0NoZWNrb3V0KTtvLm5leHQoT2JqZWN0KGkuY3JlYXRlQWN0aW9uKSh1LmEuVXBkYXRlQmlsbGluZ0FkZHJlc3NSZXF1ZXN0ZWQpKTt2YXIgcD1zLmJpbGxpbmdBZGRyZXNzLmdldEJpbGxpbmdBZGRyZXNzKCksaD1PYmplY3Qoci5fX2Fzc2lnbikoT2JqZWN0KHIuX19hc3NpZ24pKHt9LHQpLHtlbWFpbDp2b2lkIDA9PT10LmVtYWlsJiZwP3AuZW1haWw6dC5lbWFpbH0pO3AmJnAuaWQmJihoLmlkPXAuaWQpLG4uX2NyZWF0ZU9yVXBkYXRlQmlsbGluZ0FkZHJlc3MoZC5pZCxoLGUpLnRoZW4oKGZ1bmN0aW9uKHQpe3ZhciBlPXQuYm9keTtvLm5leHQoT2JqZWN0KGkuY3JlYXRlQWN0aW9uKSh1LmEuVXBkYXRlQmlsbGluZ0FkZHJlc3NTdWNjZWVkZWQsZSkpLG8uY29tcGxldGUoKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7by5lcnJvcihPYmplY3QoaS5jcmVhdGVFcnJvckFjdGlvbikodS5hLlVwZGF0ZUJpbGxpbmdBZGRyZXNzRmFpbGVkLHQpKX0pKX0pKX19LHQucHJvdG90eXBlLl91cGRhdGVDdXN0b21lckNvbnNlbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmVtYWlsLHI9dC5hY2NlcHRzQWJhbmRvbmVkQ2FydEVtYWlscyxpPXQuYWNjZXB0c01hcmtldGluZ05ld3NsZXR0ZXI7cmV0dXJuIG51bGw9PXImJm51bGw9PWk/T2JqZWN0KG8uZW1wdHkpKCk6dGhpcy5fc3Vic2NyaXB0aW9uQWN0aW9uQ3JlYXRvci51cGRhdGVTdWJzY3JpcHRpb25zKHtlbWFpbDpuLGFjY2VwdHNNYXJrZXRpbmdOZXdzbGV0dGVyOml8fCExLGFjY2VwdHNBYmFuZG9uZWRDYXJ0RW1haWxzOnJ8fCExfSxlKX0sdC5wcm90b3R5cGUuX2NyZWF0ZU9yVXBkYXRlQmlsbGluZ0FkZHJlc3M9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBlLmlkP3RoaXMuX3JlcXVlc3RTZW5kZXIudXBkYXRlQWRkcmVzcyh0LGUsbik6dGhpcy5fcmVxdWVzdFNlbmRlci5jcmVhdGVBZGRyZXNzKHQsZSxuKX0sdH0oKTtlLmE9cH0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMik7ZnVuY3Rpb24gaSh0KXtyZXR1cm4gZT10LmxpbmVJdGVtcy5waHlzaWNhbEl0ZW1zLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIXQuYWRkZWRCeVByb21vdGlvbn0pKSxPYmplY3Qoci5yZWR1Y2UpKGUsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQrZS5xdWFudGl0eX0pLDApO3ZhciBlfW4uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiBpfSkpfV0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hlY2tvdXQtc2RrLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGxvZGFzaF8xID0gcmVxdWlyZShcImxvZGFzaFwiKTtcbnZhciBzaGFsbG93RXF1YWwgPSByZXF1aXJlKFwic2hhbGxvd2VxdWFsXCIpO1xuZnVuY3Rpb24gY29tYmluZVJlZHVjZXJzKHJlZHVjZXJzLCBvcHRpb25zKSB7XG4gICAgdmFyIF9hID0gKG9wdGlvbnMgfHwge30pLmVxdWFsaXR5Q2hlY2ssIGVxdWFsaXR5Q2hlY2sgPSBfYSA9PT0gdm9pZCAwID8gc2hhbGxvd0VxdWFsIDogX2E7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdGF0ZSwgYWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhyZWR1Y2VycykucmVkdWNlKGZ1bmN0aW9uIChyZXN1bHQsIGtleSkge1xuICAgICAgICAgICAgdmFyIHJlZHVjZXIgPSByZWR1Y2Vyc1trZXldO1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9IHN0YXRlID8gc3RhdGVba2V5XSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHZhciBuZXdTdGF0ZSA9IHJlZHVjZXIoY3VycmVudFN0YXRlLCBhY3Rpb24pO1xuICAgICAgICAgICAgaWYgKGVxdWFsaXR5Q2hlY2soY3VycmVudFN0YXRlLCBuZXdTdGF0ZSkgJiYgcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBsb2Rhc2hfMS5hc3NpZ24oe30sIHJlc3VsdCwgKF9hID0ge30sIF9hW2tleV0gPSBuZXdTdGF0ZSwgX2EpKTtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgfSwgc3RhdGUgfHwge30pO1xuICAgIH07XG59XG5leHBvcnRzLmRlZmF1bHQgPSBjb21iaW5lUmVkdWNlcnM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21iaW5lLXJlZHVjZXJzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgbG9kYXNoXzEgPSByZXF1aXJlKFwibG9kYXNoXCIpO1xudmFyIHNoYWxsb3dFcXVhbCA9IHJlcXVpcmUoXCJzaGFsbG93ZXF1YWxcIik7XG5mdW5jdGlvbiBjb21wb3NlUmVkdWNlcnMoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciByZWR1Y2VycyA9IGFyZ3M7XG4gICAgdmFyIG9wdGlvbnMgPSB7fTtcbiAgICBpZiAodHlwZW9mIGFyZ3NbYXJncy5sZW5ndGggLSAxXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmVkdWNlcnMgPSBhcmdzLnNsaWNlKDAsIC0xKTtcbiAgICAgICAgb3B0aW9ucyA9IHRzbGliXzEuX19hc3NpZ24oe30sIG9wdGlvbnMsIGFyZ3NbYXJncy5sZW5ndGggLSAxXSk7XG4gICAgfVxuICAgIHZhciBfYSA9IG9wdGlvbnMuZXF1YWxpdHlDaGVjaywgZXF1YWxpdHlDaGVjayA9IF9hID09PSB2b2lkIDAgPyBzaGFsbG93RXF1YWwgOiBfYTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24pIHtcbiAgICAgICAgdmFyIG5ld1N0YXRlID0gbG9kYXNoXzEuZmxvd1JpZ2h0KHJlZHVjZXJzXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChyZWR1Y2VyKSB7IHJldHVybiByZWR1Y2VyLmxlbmd0aCA9PT0gMjsgfSlcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHJlZHVjZXIpIHsgcmV0dXJuIGxvZGFzaF8xLmN1cnJ5UmlnaHQocmVkdWNlcikoYWN0aW9uKTsgfSkpKHN0YXRlKTtcbiAgICAgICAgcmV0dXJuIGVxdWFsaXR5Q2hlY2soc3RhdGUsIG5ld1N0YXRlKSA/IHN0YXRlIDogbmV3U3RhdGU7XG4gICAgfTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IGNvbXBvc2VSZWR1Y2Vycztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXBvc2UtcmVkdWNlcnMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBsb2Rhc2hfMSA9IHJlcXVpcmUoXCJsb2Rhc2hcIik7XG5mdW5jdGlvbiBjcmVhdGVBY3Rpb24odHlwZSwgcGF5bG9hZCwgbWV0YSkge1xuICAgIGlmICh0eXBlb2YgdHlwZSAhPT0gJ3N0cmluZycgfHwgdHlwZSA9PT0gJycpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdgdHlwZWAgbXVzdCBiZSBhIHN0cmluZycpO1xuICAgIH1cbiAgICByZXR1cm4gdHNsaWJfMS5fX2Fzc2lnbih7IHR5cGU6IHR5cGUgfSwgbG9kYXNoXzEub21pdEJ5KHsgcGF5bG9hZDogcGF5bG9hZCwgbWV0YTogbWV0YSB9LCBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQ7IH0pKTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IGNyZWF0ZUFjdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZS1hY3Rpb24uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgY29tYmluZV9yZWR1Y2Vyc18xID0gcmVxdWlyZShcIi4vY29tYmluZS1yZWR1Y2Vyc1wiKTtcbnZhciBkYXRhX3N0b3JlXzEgPSByZXF1aXJlKFwiLi9kYXRhLXN0b3JlXCIpO1xuZnVuY3Rpb24gY3JlYXRlRGF0YVN0b3JlKHJlZHVjZXIsIGluaXRpYWxTdGF0ZSwgb3B0aW9ucykge1xuICAgIGlmICh0eXBlb2YgcmVkdWNlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gbmV3IGRhdGFfc3RvcmVfMS5kZWZhdWx0KHJlZHVjZXIsIGluaXRpYWxTdGF0ZSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgZGF0YV9zdG9yZV8xLmRlZmF1bHQoY29tYmluZV9yZWR1Y2Vyc18xLmRlZmF1bHQocmVkdWNlciwgeyBlcXVhbGl0eUNoZWNrOiBvcHRpb25zICYmIG9wdGlvbnMuZXF1YWxpdHlDaGVjayB9KSwgaW5pdGlhbFN0YXRlLCBvcHRpb25zKTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IGNyZWF0ZURhdGFTdG9yZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZS1kYXRhLXN0b3JlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgY3JlYXRlX2FjdGlvbl8xID0gcmVxdWlyZShcIi4vY3JlYXRlLWFjdGlvblwiKTtcbmZ1bmN0aW9uIGNyZWF0ZUVycm9yQWN0aW9uKHR5cGUsIHBheWxvYWQsIG1ldGEpIHtcbiAgICByZXR1cm4gdHNsaWJfMS5fX2Fzc2lnbih7fSwgY3JlYXRlX2FjdGlvbl8xLmRlZmF1bHQodHlwZSwgcGF5bG9hZCwgbWV0YSksIHsgZXJyb3I6IHRydWUgfSk7XG59XG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVFcnJvckFjdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZS1lcnJvci1hY3Rpb24uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBsb2Rhc2hfMSA9IHJlcXVpcmUoXCJsb2Rhc2hcIik7XG52YXIgcnhqc18xID0gcmVxdWlyZShcInJ4anNcIik7XG52YXIgb3BlcmF0b3JzXzEgPSByZXF1aXJlKFwicnhqcy9vcGVyYXRvcnNcIik7XG52YXIgc2hhbGxvd0VxdWFsID0gcmVxdWlyZShcInNoYWxsb3dlcXVhbFwiKTtcbnZhciBkZWVwX2ZyZWV6ZV8xID0gcmVxdWlyZShcIi4vZGVlcC1mcmVlemVcIik7XG52YXIgaXNfb2JzZXJ2YWJsZV9hY3Rpb25fbGlrZV8xID0gcmVxdWlyZShcIi4vaXMtb2JzZXJ2YWJsZS1hY3Rpb24tbGlrZVwiKTtcbnZhciBub29wX2FjdGlvbl90cmFuc2Zvcm1lcl8xID0gcmVxdWlyZShcIi4vbm9vcC1hY3Rpb24tdHJhbnNmb3JtZXJcIik7XG52YXIgbm9vcF9zdGF0ZV90cmFuc2Zvcm1lcl8xID0gcmVxdWlyZShcIi4vbm9vcC1zdGF0ZS10cmFuc2Zvcm1lclwiKTtcbnZhciBEYXRhU3RvcmUgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERhdGFTdG9yZShyZWR1Y2VyLCBpbml0aWFsU3RhdGUsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGluaXRpYWxTdGF0ZSA9PT0gdm9pZCAwKSB7IGluaXRpYWxTdGF0ZSA9IHt9OyB9XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuX3JlZHVjZXIgPSByZWR1Y2VyO1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gdHNsaWJfMS5fX2Fzc2lnbih7IGFjdGlvblRyYW5zZm9ybWVyOiBub29wX2FjdGlvbl90cmFuc2Zvcm1lcl8xLmRlZmF1bHQsIGVxdWFsaXR5Q2hlY2s6IHNoYWxsb3dFcXVhbCwgc2hvdWxkV2Fybk11dGF0aW9uOiB0cnVlLCBzdGF0ZVRyYW5zZm9ybWVyOiBub29wX3N0YXRlX3RyYW5zZm9ybWVyXzEuZGVmYXVsdCB9LCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5fc3RhdGUkID0gbmV3IHJ4anNfMS5CZWhhdmlvclN1YmplY3QodGhpcy5fb3B0aW9ucy5zdGF0ZVRyYW5zZm9ybWVyKGluaXRpYWxTdGF0ZSkpO1xuICAgICAgICB0aGlzLl9ub3RpZmljYXRpb24kID0gbmV3IHJ4anNfMS5TdWJqZWN0KCk7XG4gICAgICAgIHRoaXMuX2Rpc3BhdGNoZXJzID0ge307XG4gICAgICAgIHRoaXMuX2Rpc3BhdGNoUXVldWUkID0gbmV3IHJ4anNfMS5TdWJqZWN0KCk7XG4gICAgICAgIHRoaXMuX2Vycm9ycyA9IHt9O1xuICAgICAgICB0aGlzLl9kaXNwYXRjaFF1ZXVlJFxuICAgICAgICAgICAgLnBpcGUob3BlcmF0b3JzXzEubWVyZ2VNYXAoZnVuY3Rpb24gKGRpc3BhdGNoZXIkKSB7IHJldHVybiBkaXNwYXRjaGVyJC5waXBlKG9wZXJhdG9yc18xLmNvbmNhdE1hcChmdW5jdGlvbiAoYWN0aW9uJCkgeyByZXR1cm4gYWN0aW9uJDsgfSkpOyB9KSwgb3BlcmF0b3JzXzEuZmlsdGVyKGZ1bmN0aW9uIChhY3Rpb24pIHsgcmV0dXJuICEhYWN0aW9uLnR5cGU7IH0pLCBvcGVyYXRvcnNfMS5zY2FuKGZ1bmN0aW9uIChzdGF0ZXMsIGFjdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLl90cmFuc2Zvcm1TdGF0ZXMoc3RhdGVzLCBhY3Rpb24pO1xuICAgICAgICB9LCB7XG4gICAgICAgICAgICBzdGF0ZTogaW5pdGlhbFN0YXRlLFxuICAgICAgICAgICAgdHJhbnNmb3JtZWRTdGF0ZTogdGhpcy5fc3RhdGUkLmdldFZhbHVlKCksXG4gICAgICAgIH0pLCBvcGVyYXRvcnNfMS5kaXN0aW5jdFVudGlsQ2hhbmdlZChmdW5jdGlvbiAoX2EsIF9iKSB7XG4gICAgICAgICAgICB2YXIgc3RhdGVBID0gX2Euc3RhdGU7XG4gICAgICAgICAgICB2YXIgc3RhdGVCID0gX2Iuc3RhdGU7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuX29wdGlvbnMuZXF1YWxpdHlDaGVjayhzdGF0ZUEsIHN0YXRlQik7XG4gICAgICAgIH0pLCBvcGVyYXRvcnNfMS5tYXAoZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICB2YXIgdHJhbnNmb3JtZWRTdGF0ZSA9IF9hLnRyYW5zZm9ybWVkU3RhdGU7XG4gICAgICAgICAgICByZXR1cm4gdHJhbnNmb3JtZWRTdGF0ZTtcbiAgICAgICAgfSkpXG4gICAgICAgICAgICAuc3Vic2NyaWJlKHRoaXMuX3N0YXRlJCk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goeyB0eXBlOiAnSU5JVCcgfSk7XG4gICAgfVxuICAgIERhdGFTdG9yZS5wcm90b3R5cGUuZGlzcGF0Y2ggPSBmdW5jdGlvbiAoYWN0aW9uLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChpc19vYnNlcnZhYmxlX2FjdGlvbl9saWtlXzEuZGVmYXVsdChhY3Rpb24pKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGlzcGF0Y2hPYnNlcnZhYmxlQWN0aW9uKGFjdGlvbiwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBhY3Rpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kaXNwYXRjaFRodW5rQWN0aW9uKGFjdGlvbiwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rpc3BhdGNoQWN0aW9uKGFjdGlvbik7XG4gICAgfTtcbiAgICBEYXRhU3RvcmUucHJvdG90eXBlLmdldFN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGUkLmdldFZhbHVlKCk7XG4gICAgfTtcbiAgICBEYXRhU3RvcmUucHJvdG90eXBlLm5vdGlmeVN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9ub3RpZmljYXRpb24kLm5leHQodGhpcy5nZXRTdGF0ZSgpKTtcbiAgICB9O1xuICAgIERhdGFTdG9yZS5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG9wdGlvbnMgPSB0eXBlb2YgYXJnc1swXSA9PT0gJ29iamVjdCcgPyBhcmdzWzBdIDogdW5kZWZpbmVkO1xuICAgICAgICB2YXIgZmlsdGVycyA9IG9wdGlvbnMgPyAob3B0aW9ucy5maWx0ZXJzIHx8IFtdKSA6IGFyZ3M7XG4gICAgICAgIHZhciBzdGF0ZSQgPSB0aGlzLl9zdGF0ZSQ7XG4gICAgICAgIGlmIChmaWx0ZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHN0YXRlJCA9IHN0YXRlJC5waXBlKG9wZXJhdG9yc18xLmRpc3RpbmN0VW50aWxDaGFuZ2VkKGZ1bmN0aW9uIChzdGF0ZUEsIHN0YXRlQikge1xuICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXJzLmV2ZXJ5KGZ1bmN0aW9uIChmaWx0ZXJGbikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX29wdGlvbnMuZXF1YWxpdHlDaGVjayhmaWx0ZXJGbihzdGF0ZUEpLCBmaWx0ZXJGbihzdGF0ZUIpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmluaXRpYWwgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBzdGF0ZSQgPSBzdGF0ZSQucGlwZShvcGVyYXRvcnNfMS5za2lwKDEpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3Vic2NyaXB0aW9ucyA9IFtcbiAgICAgICAgICAgIHN0YXRlJC5zdWJzY3JpYmUoc3Vic2NyaWJlciksXG4gICAgICAgICAgICB0aGlzLl9ub3RpZmljYXRpb24kLnN1YnNjcmliZShzdWJzY3JpYmVyKSxcbiAgICAgICAgXTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmlwdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoc3Vic2NyaXB0aW9uKSB7IHJldHVybiBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTsgfSk7IH07XG4gICAgfTtcbiAgICBEYXRhU3RvcmUucHJvdG90eXBlLl90cmFuc2Zvcm1TdGF0ZXMgPSBmdW5jdGlvbiAoc3RhdGVzLCBhY3Rpb24pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBuZXdTdGF0ZSA9IHRoaXMuX29wdGlvbnMuc2hvdWxkV2Fybk11dGF0aW9uID09PSBmYWxzZSA/XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVkdWNlcihzdGF0ZXMuc3RhdGUsIGFjdGlvbikgOlxuICAgICAgICAgICAgICAgIGRlZXBfZnJlZXplXzEuZGVmYXVsdCh0aGlzLl9yZWR1Y2VyKHN0YXRlcy5zdGF0ZSwgYWN0aW9uKSwge1xuICAgICAgICAgICAgICAgICAgICBlcXVhbGl0eUNoZWNrOiB0aGlzLl9vcHRpb25zLmVxdWFsaXR5Q2hlY2ssXG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzVmFsdWU6IHN0YXRlcy5zdGF0ZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciB0cmFuc2Zvcm1lZFN0YXRlID0gdGhpcy5fb3B0aW9ucy5zdGF0ZVRyYW5zZm9ybWVyKG5ld1N0YXRlKTtcbiAgICAgICAgICAgIHJldHVybiB7IHN0YXRlOiBuZXdTdGF0ZSwgdHJhbnNmb3JtZWRTdGF0ZTogdHJhbnNmb3JtZWRTdGF0ZSB9O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5fZ2V0RGlzcGF0Y2hFcnJvcihhY3Rpb24ubWV0YSAmJiBhY3Rpb24ubWV0YS5xdWV1ZUlkKS5uZXh0KGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiB7IHN0YXRlOiBzdGF0ZXMuc3RhdGUsIHRyYW5zZm9ybWVkU3RhdGU6IHN0YXRlcy50cmFuc2Zvcm1lZFN0YXRlIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERhdGFTdG9yZS5wcm90b3R5cGUuX2Rpc3BhdGNoQWN0aW9uID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGlzcGF0Y2hPYnNlcnZhYmxlQWN0aW9uKGFjdGlvbi5lcnJvciA/IHJ4anNfMS50aHJvd0Vycm9yKGFjdGlvbikgOiByeGpzXzEub2YoYWN0aW9uKSk7XG4gICAgfTtcbiAgICBEYXRhU3RvcmUucHJvdG90eXBlLl9kaXNwYXRjaE9ic2VydmFibGVBY3Rpb24gPSBmdW5jdGlvbiAoYWN0aW9uJCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIGVycm9yJCA9IF90aGlzLl9nZXREaXNwYXRjaEVycm9yKG9wdGlvbnMucXVldWVJZCk7XG4gICAgICAgICAgICB2YXIgdHJhbnNmb3JtZWRBY3Rpb24kID0gX3RoaXMuX29wdGlvbnMuYWN0aW9uVHJhbnNmb3JtZXIocnhqc18xLmZyb20oYWN0aW9uJCkucGlwZShvcGVyYXRvcnNfMS5tYXAoZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLnF1ZXVlSWQgP1xuICAgICAgICAgICAgICAgICAgICBsb2Rhc2hfMS5tZXJnZSh7fSwgYWN0aW9uLCB7IG1ldGE6IHsgcXVldWVJZDogb3B0aW9ucy5xdWV1ZUlkIH0gfSkgOlxuICAgICAgICAgICAgICAgICAgICBhY3Rpb247XG4gICAgICAgICAgICB9KSkpO1xuICAgICAgICAgICAgX3RoaXMuX2dldERpc3BhdGNoZXIob3B0aW9ucy5xdWV1ZUlkKS5uZXh0KHJ4anNfMS5mcm9tKHRyYW5zZm9ybWVkQWN0aW9uJClcbiAgICAgICAgICAgICAgICAucGlwZShvcGVyYXRvcnNfMS5tYXAoZnVuY3Rpb24gKGFjdGlvbiwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IkLnBpcGUob3BlcmF0b3JzXzEuZmlyc3QoKSkuc3Vic2NyaWJlKHJlamVjdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhY3Rpb24uZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGFjdGlvbi5wYXlsb2FkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjdGlvbjtcbiAgICAgICAgICAgIH0pLCBvcGVyYXRvcnNfMS5jYXRjaEVycm9yKGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICByZWplY3QoYWN0aW9uIGluc3RhbmNlb2YgRXJyb3IgPyBhY3Rpb24gOiBhY3Rpb24ucGF5bG9hZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJ4anNfMS5vZihhY3Rpb24pO1xuICAgICAgICAgICAgfSksIG9wZXJhdG9yc18xLnRhcCh7XG4gICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShfdGhpcy5nZXRTdGF0ZSgpKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBEYXRhU3RvcmUucHJvdG90eXBlLl9kaXNwYXRjaFRodW5rQWN0aW9uID0gZnVuY3Rpb24gKHRodW5rQWN0aW9uLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIHJldHVybiB0aGlzLl9kaXNwYXRjaE9ic2VydmFibGVBY3Rpb24ocnhqc18xLmRlZmVyKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRodW5rQWN0aW9uKF90aGlzKTsgfSksIG9wdGlvbnMpO1xuICAgIH07XG4gICAgRGF0YVN0b3JlLnByb3RvdHlwZS5fZ2V0RGlzcGF0Y2hlciA9IGZ1bmN0aW9uIChxdWV1ZUlkKSB7XG4gICAgICAgIGlmIChxdWV1ZUlkID09PSB2b2lkIDApIHsgcXVldWVJZCA9ICdkZWZhdWx0JzsgfVxuICAgICAgICBpZiAoIXRoaXMuX2Rpc3BhdGNoZXJzW3F1ZXVlSWRdKSB7XG4gICAgICAgICAgICB0aGlzLl9kaXNwYXRjaGVyc1txdWV1ZUlkXSA9IG5ldyByeGpzXzEuU3ViamVjdCgpO1xuICAgICAgICAgICAgdGhpcy5fZGlzcGF0Y2hRdWV1ZSQubmV4dCh0aGlzLl9kaXNwYXRjaGVyc1txdWV1ZUlkXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rpc3BhdGNoZXJzW3F1ZXVlSWRdO1xuICAgIH07XG4gICAgRGF0YVN0b3JlLnByb3RvdHlwZS5fZ2V0RGlzcGF0Y2hFcnJvciA9IGZ1bmN0aW9uIChxdWV1ZUlkKSB7XG4gICAgICAgIGlmIChxdWV1ZUlkID09PSB2b2lkIDApIHsgcXVldWVJZCA9ICdkZWZhdWx0JzsgfVxuICAgICAgICBpZiAoIXRoaXMuX2Vycm9yc1txdWV1ZUlkXSkge1xuICAgICAgICAgICAgdGhpcy5fZXJyb3JzW3F1ZXVlSWRdID0gbmV3IHJ4anNfMS5TdWJqZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2Vycm9yc1txdWV1ZUlkXTtcbiAgICB9O1xuICAgIHJldHVybiBEYXRhU3RvcmU7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gRGF0YVN0b3JlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YS1zdG9yZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBsb2Rhc2hfMSA9IHJlcXVpcmUoXCJsb2Rhc2hcIik7XG52YXIgc2hhbGxvd0VxdWFsID0gcmVxdWlyZShcInNoYWxsb3dlcXVhbFwiKTtcbmZ1bmN0aW9uIGRlZXBGcmVlemUob2JqZWN0LCBvcHRpb25zKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIF9hID0gb3B0aW9ucyB8fCB7fSwgX2IgPSBfYS5lcXVhbGl0eUNoZWNrLCBlcXVhbGl0eUNoZWNrXzEgPSBfYiA9PT0gdm9pZCAwID8gc2hhbGxvd0VxdWFsIDogX2IsIF9jID0gX2EucHJldmlvdXNWYWx1ZSwgcHJldmlvdXNWYWx1ZV8xID0gX2MgPT09IHZvaWQgMCA/IG51bGwgOiBfYztcbiAgICAgICAgaWYgKGVxdWFsaXR5Q2hlY2tfMShvYmplY3QsIHByZXZpb3VzVmFsdWVfMSkgJiYgT2JqZWN0LmlzRnJvemVuKHByZXZpb3VzVmFsdWVfMSkpIHtcbiAgICAgICAgICAgIHJldHVybiBwcmV2aW91c1ZhbHVlXzE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE9iamVjdC5pc0Zyb3plbihvYmplY3QpIHx8ICghQXJyYXkuaXNBcnJheShvYmplY3QpICYmICFsb2Rhc2hfMS5pc1BsYWluT2JqZWN0KG9iamVjdCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iamVjdCkpIHtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuZnJlZXplKG9iamVjdC5tYXAoZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWVwRnJlZXplKHZhbHVlLCB7XG4gICAgICAgICAgICAgICAgICAgIGVxdWFsaXR5Q2hlY2s6IGVxdWFsaXR5Q2hlY2tfMSxcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNWYWx1ZTogQXJyYXkuaXNBcnJheShwcmV2aW91c1ZhbHVlXzEpID8gcHJldmlvdXNWYWx1ZV8xW2luZGV4XSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZShPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmplY3QpLnJlZHVjZShmdW5jdGlvbiAocmVzdWx0LCBrZXkpIHtcbiAgICAgICAgICAgIHJlc3VsdFtrZXldID0gZGVlcEZyZWV6ZShvYmplY3Rba2V5XSwge1xuICAgICAgICAgICAgICAgIGVxdWFsaXR5Q2hlY2s6IGVxdWFsaXR5Q2hlY2tfMSxcbiAgICAgICAgICAgICAgICBwcmV2aW91c1ZhbHVlOiBwcmV2aW91c1ZhbHVlXzEgJiYgcHJldmlvdXNWYWx1ZV8xLmhhc093blByb3BlcnR5KGtleSkgP1xuICAgICAgICAgICAgICAgICAgICBwcmV2aW91c1ZhbHVlXzFba2V5XSA6XG4gICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSwge30pKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIFR5cGVFcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG59XG5leHBvcnRzLmRlZmF1bHQgPSBkZWVwRnJlZXplO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVlcC1mcmVlemUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZGF0YV9zdG9yZV8xID0gcmVxdWlyZShcIi4vZGF0YS1zdG9yZVwiKTtcbmV4cG9ydHMuRGF0YVN0b3JlID0gZGF0YV9zdG9yZV8xLmRlZmF1bHQ7XG52YXIgY29tYmluZV9yZWR1Y2Vyc18xID0gcmVxdWlyZShcIi4vY29tYmluZS1yZWR1Y2Vyc1wiKTtcbmV4cG9ydHMuY29tYmluZVJlZHVjZXJzID0gY29tYmluZV9yZWR1Y2Vyc18xLmRlZmF1bHQ7XG52YXIgY29tcG9zZV9yZWR1Y2Vyc18xID0gcmVxdWlyZShcIi4vY29tcG9zZS1yZWR1Y2Vyc1wiKTtcbmV4cG9ydHMuY29tcG9zZVJlZHVjZXJzID0gY29tcG9zZV9yZWR1Y2Vyc18xLmRlZmF1bHQ7XG52YXIgY3JlYXRlX2FjdGlvbl8xID0gcmVxdWlyZShcIi4vY3JlYXRlLWFjdGlvblwiKTtcbmV4cG9ydHMuY3JlYXRlQWN0aW9uID0gY3JlYXRlX2FjdGlvbl8xLmRlZmF1bHQ7XG52YXIgY3JlYXRlX2RhdGFfc3RvcmVfMSA9IHJlcXVpcmUoXCIuL2NyZWF0ZS1kYXRhLXN0b3JlXCIpO1xuZXhwb3J0cy5jcmVhdGVEYXRhU3RvcmUgPSBjcmVhdGVfZGF0YV9zdG9yZV8xLmRlZmF1bHQ7XG52YXIgY3JlYXRlX2Vycm9yX2FjdGlvbl8xID0gcmVxdWlyZShcIi4vY3JlYXRlLWVycm9yLWFjdGlvblwiKTtcbmV4cG9ydHMuY3JlYXRlRXJyb3JBY3Rpb24gPSBjcmVhdGVfZXJyb3JfYWN0aW9uXzEuZGVmYXVsdDtcbnZhciBkZWVwX2ZyZWV6ZV8xID0gcmVxdWlyZShcIi4vZGVlcC1mcmVlemVcIik7XG5leHBvcnRzLmRlZXBGcmVlemUgPSBkZWVwX2ZyZWV6ZV8xLmRlZmF1bHQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmZ1bmN0aW9uIGlzT2JzZXJ2YWJsZUFjdGlvbkxpa2UoYWN0aW9uKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgYWN0aW9uLnN1YnNjcmliZSA9PT0gJ2Z1bmN0aW9uJyB8fFxuICAgICAgICB0eXBlb2YgYWN0aW9uLnRoZW4gPT09ICdmdW5jdGlvbicpO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gaXNPYnNlcnZhYmxlQWN0aW9uTGlrZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzLW9ic2VydmFibGUtYWN0aW9uLWxpa2UuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5mdW5jdGlvbiBub29wQWN0aW9uVHJhbnNmb3JtZXIoYWN0aW9uKSB7XG4gICAgcmV0dXJuIGFjdGlvbjtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IG5vb3BBY3Rpb25UcmFuc2Zvcm1lcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5vb3AtYWN0aW9uLXRyYW5zZm9ybWVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZnVuY3Rpb24gbm9vcFN0YXRlVHJhbnNmb3JtZXIoc3RhdGUpIHtcbiAgICByZXR1cm4gc3RhdGU7XG59XG5leHBvcnRzLmRlZmF1bHQgPSBub29wU3RhdGVUcmFuc2Zvcm1lcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5vb3Atc3RhdGUtdHJhbnNmb3JtZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZm9ybV9idWlsZGVyXzEgPSByZXF1aXJlKFwiLi9mb3JtLWJ1aWxkZXJcIik7XG52YXIgZm9ybV9wb3N0ZXJfMSA9IHJlcXVpcmUoXCIuL2Zvcm0tcG9zdGVyXCIpO1xuZnVuY3Rpb24gY3JlYXRlRm9ybVBvc3RlcihvcHRpb25zKSB7XG4gICAgdmFyIGZvcm1CdWlsZGVyID0gbmV3IGZvcm1fYnVpbGRlcl8xLmRlZmF1bHQoKTtcbiAgICB2YXIgZm9ybVBvc3RlciA9IG5ldyBmb3JtX3Bvc3Rlcl8xLmRlZmF1bHQoZm9ybUJ1aWxkZXIsIG9wdGlvbnMpO1xuICAgIHJldHVybiBmb3JtUG9zdGVyO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gY3JlYXRlRm9ybVBvc3Rlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZS1mb3JtLXBvc3Rlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBGb3JtQnVpbGRlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRm9ybUJ1aWxkZXIoKSB7XG4gICAgfVxuICAgIEZvcm1CdWlsZGVyLnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uICh1cmwsIGRhdGEsIHRhcmdldCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcbiAgICAgICAgZm9ybS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBmb3JtLnNldEF0dHJpYnV0ZSgnYWN0aW9uJywgdXJsKTtcbiAgICAgICAgZm9ybS5zZXRBdHRyaWJ1dGUoJ21ldGhvZCcsICdQT1NUJyk7XG4gICAgICAgIGZvcm0uc2V0QXR0cmlidXRlKCd0YXJnZXQnLCB0YXJnZXQgfHwgJ190b3AnKTtcbiAgICAgICAgT2JqZWN0LmtleXMoZGF0YSlcbiAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGRhdGFba2V5XTtcbiAgICAgICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoX3RoaXMuX2NyZWF0ZUlucHV0KHZhbHVlLCBrZXkpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmb3JtO1xuICAgIH07XG4gICAgRm9ybUJ1aWxkZXIucHJvdG90eXBlLl9jcmVhdGVJbnB1dCA9IGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgIHZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnbmFtZScsIGtleSk7XG4gICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICdoaWRkZW4nKTtcbiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH07XG4gICAgcmV0dXJuIEZvcm1CdWlsZGVyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEZvcm1CdWlsZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Zm9ybS1idWlsZGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHVybF91dGlsc18xID0gcmVxdWlyZShcIi4vdXJsLXV0aWxzXCIpO1xudmFyIEZvcm1Qb3N0ZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEZvcm1Qb3N0ZXIoX2Zvcm1CdWlsZGVyLCBfb3B0aW9ucykge1xuICAgICAgICB0aGlzLl9mb3JtQnVpbGRlciA9IF9mb3JtQnVpbGRlcjtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IF9vcHRpb25zO1xuICAgIH1cbiAgICBGb3JtUG9zdGVyLnByb3RvdHlwZS5wb3N0Rm9ybSA9IGZ1bmN0aW9uICh1cmwsIGRhdGEsIGNhbGxiYWNrLCB0YXJnZXQpIHtcbiAgICAgICAgdmFyIGZvcm0gPSB0aGlzLl9mb3JtQnVpbGRlci5idWlsZCh0aGlzLl9wcmVwZW5kSG9zdCh1cmwpLCBkYXRhLCB0YXJnZXQpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndW5sb2FkJywgZnVuY3Rpb24gaGFuZGxlVW5sb2FkKCkge1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3VubG9hZCcsIGhhbmRsZVVubG9hZCk7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmb3JtKTtcbiAgICAgICAgZm9ybS5zdWJtaXQoKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChmb3JtKTtcbiAgICB9O1xuICAgIEZvcm1Qb3N0ZXIucHJvdG90eXBlLl9wcmVwZW5kSG9zdCA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9vcHRpb25zIHx8ICF0aGlzLl9vcHRpb25zLmhvc3QgfHwgdXJsX3V0aWxzXzEuaXNBYnNvbHV0ZVVybCh1cmwpKSB7XG4gICAgICAgICAgICByZXR1cm4gdXJsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1cmxfdXRpbHNfMS5qb2luUGF0aHModGhpcy5fb3B0aW9ucy5ob3N0LCB1cmwpO1xuICAgIH07XG4gICAgcmV0dXJuIEZvcm1Qb3N0ZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gRm9ybVBvc3Rlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZvcm0tcG9zdGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGNyZWF0ZV9mb3JtX3Bvc3Rlcl8xID0gcmVxdWlyZShcIi4vY3JlYXRlLWZvcm0tcG9zdGVyXCIpO1xuZXhwb3J0cy5jcmVhdGVGb3JtUG9zdGVyID0gY3JlYXRlX2Zvcm1fcG9zdGVyXzEuZGVmYXVsdDtcbnZhciBmb3JtX3Bvc3Rlcl8xID0gcmVxdWlyZShcIi4vZm9ybS1wb3N0ZXJcIik7XG5leHBvcnRzLkZvcm1Qb3N0ZXIgPSBmb3JtX3Bvc3Rlcl8xLmRlZmF1bHQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmZ1bmN0aW9uIGlzQWJzb2x1dGVVcmwodXJsKSB7XG4gICAgcmV0dXJuIC9eaHR0cHM/OlxcL1xcLy8udGVzdCh1cmwpO1xufVxuZXhwb3J0cy5pc0Fic29sdXRlVXJsID0gaXNBYnNvbHV0ZVVybDtcbmZ1bmN0aW9uIGpvaW5QYXRocyhwYXRoQSwgcGF0aEIpIHtcbiAgICByZXR1cm4gcmVtb3ZlVHJhaWxpbmdTbGFzaChwYXRoQSkgKyBcIi9cIiArIHJlbW92ZUxlYWRpbmdTbGFzaChwYXRoQik7XG59XG5leHBvcnRzLmpvaW5QYXRocyA9IGpvaW5QYXRocztcbmZ1bmN0aW9uIHJlbW92ZVRyYWlsaW5nU2xhc2gocGF0aCkge1xuICAgIHJldHVybiBwYXRoLnJlcGxhY2UoL1xcLyQvLCAnJyk7XG59XG5mdW5jdGlvbiByZW1vdmVMZWFkaW5nU2xhc2gocGF0aCkge1xuICAgIHJldHVybiBwYXRoLnJlcGxhY2UoL15cXC8vLCAnJyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11cmwtdXRpbHMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5mdW5jdGlvbiBpc1Rlcm1pbmFsQ2FjaGVLZXlNYXAobWFwKSB7XG4gICAgcmV0dXJuIG1hcC5oYXNPd25Qcm9wZXJ0eSgnY2FjaGVLZXknKTtcbn1cbmV4cG9ydHMuaXNUZXJtaW5hbENhY2hlS2V5TWFwID0gaXNUZXJtaW5hbENhY2hlS2V5TWFwO1xuZnVuY3Rpb24gaXNSb290Q2FjaGVLZXlNYXAobWFwKSB7XG4gICAgcmV0dXJuIG1hcC5oYXNPd25Qcm9wZXJ0eSgncGFyZW50TWFwJyk7XG59XG5leHBvcnRzLmlzUm9vdENhY2hlS2V5TWFwID0gaXNSb290Q2FjaGVLZXlNYXA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYWNoZS1rZXktbWFwcy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIGxvZGFzaF8xID0gcmVxdWlyZShcImxvZGFzaFwiKTtcbnZhciBzaGFsbG93ZXF1YWxfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJzaGFsbG93ZXF1YWxcIikpO1xudmFyIGNhY2hlX2tleV9tYXBzXzEgPSByZXF1aXJlKFwiLi9jYWNoZS1rZXktbWFwc1wiKTtcbnZhciBDYWNoZUtleVJlc29sdmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENhY2hlS2V5UmVzb2x2ZXIob3B0aW9ucykge1xuICAgICAgICB0aGlzLl9sYXN0SWQgPSAwO1xuICAgICAgICB0aGlzLl9tYXAgPSB7IG1hcHM6IFtdIH07XG4gICAgICAgIHRoaXMuX3VzZWRNYXBzID0gW107XG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSB0c2xpYl8xLl9fYXNzaWduKHsgaXNFcXVhbDogc2hhbGxvd2VxdWFsXzEuZGVmYXVsdCwgbWF4U2l6ZTogMCwgb25FeHBpcmU6IGxvZGFzaF8xLm5vb3AgfSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIENhY2hlS2V5UmVzb2x2ZXIucHJvdG90eXBlLmdldEtleSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5fcmVzb2x2ZU1hcC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgdmFyIGluZGV4ID0gcmVzdWx0LmluZGV4LCBwYXJlbnRNYXAgPSByZXN1bHQucGFyZW50TWFwO1xuICAgICAgICB2YXIgbWFwID0gcmVzdWx0Lm1hcDtcbiAgICAgICAgaWYgKG1hcCAmJiBtYXAuY2FjaGVLZXkpIHtcbiAgICAgICAgICAgIG1hcC51c2VkQ291bnQrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG1hcCA9IHRoaXMuX2dlbmVyYXRlTWFwKHBhcmVudE1hcCwgYXJncy5zbGljZShpbmRleCkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEtlZXAgdHJhY2sgb2YgdGhlIGxlYXN0IHVzZWQgbWFwIHNvIHdlIGNhbiByZW1vdmUgaXQgaWYgdGhlIHNpemUgb2ZcbiAgICAgICAgLy8gdGhlIHN0YWNrIGV4Y2VlZHMgdGhlIG1heGltdW0gc2l6ZS5cbiAgICAgICAgdGhpcy5fcmVtb3ZlTGVhc3RVc2VkTWFwKG1hcCk7XG4gICAgICAgIHJldHVybiBtYXAuY2FjaGVLZXk7XG4gICAgfTtcbiAgICBDYWNoZUtleVJlc29sdmVyLnByb3RvdHlwZS5nZXRVc2VkQ291bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1hcCA9IHRoaXMuX3Jlc29sdmVNYXAuYXBwbHkodGhpcywgYXJncykubWFwO1xuICAgICAgICByZXR1cm4gbWFwID8gbWFwLnVzZWRDb3VudCA6IDA7XG4gICAgfTtcbiAgICBDYWNoZUtleVJlc29sdmVyLnByb3RvdHlwZS5fcmVzb2x2ZU1hcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHZhciBwYXJlbnRNYXAgPSB0aGlzLl9tYXA7XG4gICAgICAgIC8vIFRyYXZlcnNlIHRoZSB0cmVlIHRvIGZpbmQgdGhlIGxpbmtlZCBsaXN0IG9mIG1hcHMgdGhhdCBtYXRjaCB0aGVcbiAgICAgICAgLy8gYXJndW1lbnRzIG9mIHRoZSBjYWxsLiBFYWNoIGludGVybWVkaWF0ZSBvciB0ZXJtaW5hbCBtYXAgY29udGFpbnMgYVxuICAgICAgICAvLyB2YWx1ZSB0aGF0IGNvdWxkIGJlIHVzZWQgdG8gbWF0Y2ggd2l0aCB0aGUgYXJndW1lbnRzLiBUaGUgbGFzdCBtYXAgaW5cbiAgICAgICAgLy8gdGhlIGxpc3QgKHRoZSB0ZXJtaW5hbCkgc2hvdWxkIGNvbnRhaW4gYSBjYWNoZSBrZXkuIElmIGl0IGNhbiBkb2VzXG4gICAgICAgIC8vIG5vdCBleGlzdCwgd2Ugd2lsbCByZXR1cm4gYSBmYWxzeSB2YWx1ZSBzbyB0aGF0IHRoZSBjYWxsZXIgY291bGRcbiAgICAgICAgLy8gaGFuZGxlIGFuZCBnZW5lcmF0ZSBhIG5ldyBjYWNoZSBrZXkuXG4gICAgICAgIHdoaWxlIChwYXJlbnRNYXAubWFwcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBpc01hdGNoZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGZvciAodmFyIG1hcEluZGV4ID0gMDsgbWFwSW5kZXggPCBwYXJlbnRNYXAubWFwcy5sZW5ndGg7IG1hcEluZGV4KyspIHtcbiAgICAgICAgICAgICAgICB2YXIgbWFwID0gcGFyZW50TWFwLm1hcHNbbWFwSW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fb3B0aW9ucy5pc0VxdWFsKG1hcC52YWx1ZSwgYXJnc1tpbmRleF0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBNb3ZlIHRoZSBtb3N0IHJlY2VudGx5IHVzZWQgbWFwIHRvIHRoZSB0b3Agb2YgdGhlIHN0YWNrIGZvclxuICAgICAgICAgICAgICAgIC8vIHF1aWNrZXIgYWNjZXNzXG4gICAgICAgICAgICAgICAgKF9hID0gcGFyZW50TWFwLm1hcHMpLnVuc2hpZnQuYXBwbHkoX2EsIHBhcmVudE1hcC5tYXBzLnNwbGljZShtYXBJbmRleCwgMSkpO1xuICAgICAgICAgICAgICAgIGlmICgoYXJncy5sZW5ndGggPT09IDAgfHwgaW5kZXggPT09IGFyZ3MubGVuZ3RoIC0gMSkgJiYgY2FjaGVfa2V5X21hcHNfMS5pc1Rlcm1pbmFsQ2FjaGVLZXlNYXAobWFwKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBpbmRleDogaW5kZXgsIG1hcDogbWFwLCBwYXJlbnRNYXA6IHBhcmVudE1hcCB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpc01hdGNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHBhcmVudE1hcCA9IG1hcDtcbiAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc01hdGNoZWQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBpbmRleDogaW5kZXgsIHBhcmVudE1hcDogcGFyZW50TWFwIH07XG4gICAgfTtcbiAgICBDYWNoZUtleVJlc29sdmVyLnByb3RvdHlwZS5fZ2VuZXJhdGVNYXAgPSBmdW5jdGlvbiAocGFyZW50LCBhcmdzKSB7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHZhciBwYXJlbnRNYXAgPSBwYXJlbnQ7XG4gICAgICAgIHZhciBtYXA7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIG1hcCA9IHtcbiAgICAgICAgICAgICAgICBtYXBzOiBbXSxcbiAgICAgICAgICAgICAgICBwYXJlbnRNYXA6IHBhcmVudE1hcCxcbiAgICAgICAgICAgICAgICB1c2VkQ291bnQ6IDEsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGFyZ3NbaW5kZXhdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIENvbnRpbnVlIHRvIGJ1aWxkIHRoZSB0cmVlIG9mIG1hcHMgc28gdGhhdCBpdCBjb3VsZCBiZSByZXNvbHZlZFxuICAgICAgICAgICAgLy8gbmV4dCB0aW1lIHdoZW4gdGhlIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aXRoIHRoZSBzYW1lIHNldCBvZlxuICAgICAgICAgICAgLy8gYXJndW1lbnRzLlxuICAgICAgICAgICAgcGFyZW50TWFwLm1hcHMudW5zaGlmdChtYXApO1xuICAgICAgICAgICAgcGFyZW50TWFwID0gbWFwO1xuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgfSB3aGlsZSAoaW5kZXggPCBhcmdzLmxlbmd0aCk7XG4gICAgICAgIHZhciB0ZXJtaW5hbE1hcCA9IG1hcDtcbiAgICAgICAgdGVybWluYWxNYXAuY2FjaGVLZXkgPSBcIlwiICsgKyt0aGlzLl9sYXN0SWQ7XG4gICAgICAgIHJldHVybiB0ZXJtaW5hbE1hcDtcbiAgICB9O1xuICAgIENhY2hlS2V5UmVzb2x2ZXIucHJvdG90eXBlLl9yZW1vdmVMZWFzdFVzZWRNYXAgPSBmdW5jdGlvbiAocmVjZW50bHlVc2VkTWFwKSB7XG4gICAgICAgIGlmICghdGhpcy5fb3B0aW9ucy5tYXhTaXplKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5fdXNlZE1hcHMuaW5kZXhPZihyZWNlbnRseVVzZWRNYXApO1xuICAgICAgICB0aGlzLl91c2VkTWFwcy5zcGxpY2UoaW5kZXggPT09IC0xID8gMCA6IGluZGV4LCBpbmRleCA9PT0gLTEgPyAwIDogMSwgcmVjZW50bHlVc2VkTWFwKTtcbiAgICAgICAgaWYgKHRoaXMuX3VzZWRNYXBzLmxlbmd0aCA8PSB0aGlzLl9vcHRpb25zLm1heFNpemUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWFwID0gdGhpcy5fdXNlZE1hcHMucG9wKCk7XG4gICAgICAgIGlmICghbWFwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcmVtb3ZlTWFwKG1hcCk7XG4gICAgICAgIHRoaXMuX29wdGlvbnMub25FeHBpcmUobWFwLmNhY2hlS2V5KTtcbiAgICB9O1xuICAgIENhY2hlS2V5UmVzb2x2ZXIucHJvdG90eXBlLl9yZW1vdmVNYXAgPSBmdW5jdGlvbiAobWFwKSB7XG4gICAgICAgIGlmICghbWFwLnBhcmVudE1hcCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG1hcC5wYXJlbnRNYXAubWFwcy5zcGxpY2UobWFwLnBhcmVudE1hcC5tYXBzLmluZGV4T2YobWFwKSwgMSk7XG4gICAgICAgIGlmIChjYWNoZV9rZXlfbWFwc18xLmlzUm9vdENhY2hlS2V5TWFwKG1hcC5wYXJlbnRNYXApKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcmVtb3ZlTWFwKG1hcC5wYXJlbnRNYXApO1xuICAgIH07XG4gICAgcmV0dXJuIENhY2hlS2V5UmVzb2x2ZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQ2FjaGVLZXlSZXNvbHZlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhY2hlLWtleS1yZXNvbHZlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBtZW1vaXplXzEgPSByZXF1aXJlKFwiLi9tZW1vaXplXCIpO1xuZXhwb3J0cy5tZW1vaXplID0gbWVtb2l6ZV8xLmRlZmF1bHQ7XG5leHBvcnRzLm1lbW9pemVPbmUgPSBtZW1vaXplXzEubWVtb2l6ZU9uZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgbG9kYXNoX21lbW9pemVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJsb2Rhc2gubWVtb2l6ZVwiKSk7IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bWF0Y2gtZGVmYXVsdC1leHBvcnQtbmFtZVxudmFyIHNoYWxsb3dlcXVhbF8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQocmVxdWlyZShcInNoYWxsb3dlcXVhbFwiKSk7XG52YXIgY2FjaGVfa2V5X3Jlc29sdmVyXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9jYWNoZS1rZXktcmVzb2x2ZXJcIikpO1xuZnVuY3Rpb24gbWVtb2l6ZShmbiwgb3B0aW9ucykge1xuICAgIHZhciBfYSA9IHRzbGliXzEuX19hc3NpZ24oeyBtYXhTaXplOiAwLCBpc0VxdWFsOiBzaGFsbG93ZXF1YWxfMS5kZWZhdWx0IH0sIG9wdGlvbnMpLCBtYXhTaXplID0gX2EubWF4U2l6ZSwgaXNFcXVhbCA9IF9hLmlzRXF1YWw7XG4gICAgdmFyIGNhY2hlID0gbmV3IE1hcCgpO1xuICAgIHZhciByZXNvbHZlciA9IG5ldyBjYWNoZV9rZXlfcmVzb2x2ZXJfMS5kZWZhdWx0KHtcbiAgICAgICAgaXNFcXVhbDogaXNFcXVhbCxcbiAgICAgICAgbWF4U2l6ZTogbWF4U2l6ZSxcbiAgICAgICAgb25FeHBpcmU6IGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGNhY2hlLmRlbGV0ZShrZXkpOyB9LFxuICAgIH0pO1xuICAgIHZhciBtZW1vaXplZCA9IGxvZGFzaF9tZW1vaXplXzEuZGVmYXVsdChmbiwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNvbHZlci5nZXRLZXkuYXBwbHkocmVzb2x2ZXIsIGFyZ3MpO1xuICAgIH0pO1xuICAgIG1lbW9pemVkLmNhY2hlID0gY2FjaGU7XG4gICAgcmV0dXJuIG1lbW9pemVkO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gbWVtb2l6ZTtcbmZ1bmN0aW9uIG1lbW9pemVPbmUoZm4sIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbWVtb2l6ZShmbiwgdHNsaWJfMS5fX2Fzc2lnbih7fSwgb3B0aW9ucywgeyBtYXhTaXplOiAxIH0pKTtcbn1cbmV4cG9ydHMubWVtb2l6ZU9uZSA9IG1lbW9pemVPbmU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZW1vaXplLmpzLm1hcCIsImltcG9ydCAqIGFzIHF1ZXJ5U3RyaW5nIGZyb20gJ3F1ZXJ5LXN0cmluZyc7XG52YXIgRGVmYXVsdENhY2hlID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZWZhdWx0Q2FjaGUoKSB7XG4gICAgICAgIHRoaXMuX2NhY2hlID0ge307XG4gICAgfVxuICAgIERlZmF1bHRDYWNoZS5wcm90b3R5cGUucmVhZCA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGNhY2hlS2V5ID0gdGhpcy5nZXRLZXkodXJsLCBvcHRpb25zLnBhcmFtcyk7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZVtjYWNoZUtleV0gfHwgbnVsbDtcbiAgICB9O1xuICAgIERlZmF1bHRDYWNoZS5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zLCByZXNwb25zZSkge1xuICAgICAgICB2YXIgY2FjaGVLZXkgPSB0aGlzLmdldEtleSh1cmwsIG9wdGlvbnMucGFyYW1zKTtcbiAgICAgICAgdGhpcy5fY2FjaGVbY2FjaGVLZXldID0gcmVzcG9uc2U7XG4gICAgfTtcbiAgICBEZWZhdWx0Q2FjaGUucHJvdG90eXBlLmdldEtleSA9IGZ1bmN0aW9uICh1cmwsIHBhcmFtcykge1xuICAgICAgICBpZiAocGFyYW1zID09PSB2b2lkIDApIHsgcGFyYW1zID0ge307IH1cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHBhcmFtcykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdXJsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1cmwgKyBcIj9cIiArIHF1ZXJ5U3RyaW5nLnN0cmluZ2lmeShwYXJhbXMpO1xuICAgIH07XG4gICAgcmV0dXJuIERlZmF1bHRDYWNoZTtcbn0oKSk7XG5leHBvcnQgeyBEZWZhdWx0Q2FjaGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhY2hlLmpzLm1hcCIsImltcG9ydCAqIGFzIGNvb2tpZSBmcm9tICdqcy1jb29raWUnO1xuaW1wb3J0IFBheWxvYWRUcmFuc2Zvcm1lciBmcm9tICcuL3BheWxvYWQtdHJhbnNmb3JtZXInO1xuaW1wb3J0IFJlcXVlc3RGYWN0b3J5IGZyb20gJy4vcmVxdWVzdC1mYWN0b3J5JztcbmltcG9ydCBSZXF1ZXN0U2VuZGVyIGZyb20gJy4vcmVxdWVzdC1zZW5kZXInO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlUmVxdWVzdFNlbmRlcihvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBSZXF1ZXN0U2VuZGVyKG5ldyBSZXF1ZXN0RmFjdG9yeSgpLCBuZXcgUGF5bG9hZFRyYW5zZm9ybWVyKCksIGNvb2tpZSwgb3B0aW9ucyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jcmVhdGUtcmVxdWVzdC1zZW5kZXIuanMubWFwIiwiaW1wb3J0IFRpbWVvdXQgZnJvbSAnLi90aW1lb3V0JztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZVRpbWVvdXQoZGVsYXkpIHtcbiAgICByZXR1cm4gbmV3IFRpbWVvdXQoZGVsYXkpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlLXRpbWVvdXQuanMubWFwIiwiZXhwb3J0IHsgZGVmYXVsdCBhcyBjcmVhdGVSZXF1ZXN0U2VuZGVyIH0gZnJvbSAnLi9jcmVhdGUtcmVxdWVzdC1zZW5kZXInO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBjcmVhdGVUaW1lb3V0IH0gZnJvbSAnLi9jcmVhdGUtdGltZW91dCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFJlcXVlc3RTZW5kZXIgfSBmcm9tICcuL3JlcXVlc3Qtc2VuZGVyJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgVGltZW91dCB9IGZyb20gJy4vdGltZW91dCc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc1Byb21pc2UocHJvbWlzZSkge1xuICAgIHJldHVybiAhIXByb21pc2UgJiZcbiAgICAgICAgKHR5cGVvZiBwcm9taXNlID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgcHJvbWlzZSA9PT0gJ2Z1bmN0aW9uJykgJiZcbiAgICAgICAgdHlwZW9mIHByb21pc2UudGhlbiA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzLXByb21pc2UuanMubWFwIiwiaW1wb3J0IHsgX19hc3NpZ24gfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB0b0Zvcm1VcmxFbmNvZGVkIGZyb20gJy4vdG8tZm9ybS11cmwtZW5jb2RlZCc7XG52YXIgSlNPTl9DT05URU5UX1RZUEVfUkVHRVhQID0gL2FwcGxpY2F0aW9uXFwvKFxcdytcXCspP2pzb24vO1xudmFyIEZPUk1fVVJMRU5DT0RFRF9DT05URU5UX1RZUEVfUkVHRVhQID0gL2FwcGxpY2F0aW9uXFwveC13d3ctZm9ybS11cmxlbmNvZGVkLztcbnZhciBQYXlsb2FkVHJhbnNmb3JtZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFBheWxvYWRUcmFuc2Zvcm1lcigpIHtcbiAgICB9XG4gICAgUGF5bG9hZFRyYW5zZm9ybWVyLnByb3RvdHlwZS50b1JlcXVlc3RCb2R5ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGNvbnRlbnRUeXBlID0gb3B0aW9ucy5oZWFkZXJzID8gdGhpcy5fZ2V0SGVhZGVyKG9wdGlvbnMuaGVhZGVycywgJ0NvbnRlbnQtVHlwZScpIDogJyc7XG4gICAgICAgIGlmIChvcHRpb25zLmJvZHkpIHtcbiAgICAgICAgICAgIGlmIChKU09OX0NPTlRFTlRfVFlQRV9SRUdFWFAudGVzdChjb250ZW50VHlwZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob3B0aW9ucy5ib2R5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChGT1JNX1VSTEVOQ09ERURfQ09OVEVOVF9UWVBFX1JFR0VYUC50ZXN0KGNvbnRlbnRUeXBlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0b0Zvcm1VcmxFbmNvZGVkKG9wdGlvbnMuYm9keSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9wdGlvbnMuYm9keTtcbiAgICB9O1xuICAgIFBheWxvYWRUcmFuc2Zvcm1lci5wcm90b3R5cGUudG9SZXNwb25zZSA9IGZ1bmN0aW9uICh4aHIpIHtcbiAgICAgICAgdmFyIGhlYWRlcnMgPSB0aGlzLl9wYXJzZVJlc3BvbnNlSGVhZGVycyh4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpO1xuICAgICAgICB2YXIgYm9keSA9IHRoaXMuX3BhcnNlUmVzcG9uc2VCb2R5KCdyZXNwb25zZScgaW4geGhyID8geGhyLnJlc3BvbnNlIDogeGhyLnJlc3BvbnNlVGV4dCwgaGVhZGVycyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBib2R5OiBib2R5LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHN0YXR1czogeGhyLnN0YXR1cyxcbiAgICAgICAgICAgIHN0YXR1c1RleHQ6IHhoci5zdGF0dXNUZXh0LFxuICAgICAgICB9O1xuICAgIH07XG4gICAgUGF5bG9hZFRyYW5zZm9ybWVyLnByb3RvdHlwZS5fcGFyc2VSZXNwb25zZUJvZHkgPSBmdW5jdGlvbiAoYm9keSwgaGVhZGVycykge1xuICAgICAgICB2YXIgY29udGVudFR5cGUgPSB0aGlzLl9nZXRIZWFkZXIoaGVhZGVycywgJ0NvbnRlbnQtVHlwZScpO1xuICAgICAgICBpZiAoYm9keSAmJiBKU09OX0NPTlRFTlRfVFlQRV9SRUdFWFAudGVzdChjb250ZW50VHlwZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGJvZHkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBib2R5O1xuICAgIH07XG4gICAgUGF5bG9hZFRyYW5zZm9ybWVyLnByb3RvdHlwZS5fcGFyc2VSZXNwb25zZUhlYWRlcnMgPSBmdW5jdGlvbiAocmF3SGVhZGVycykge1xuICAgICAgICB2YXIgbGluZXMgPSByYXdIZWFkZXJzID8gcmF3SGVhZGVycy5yZXBsYWNlKC9cXHI/XFxuW1xcdCBdKy9nLCAnICcpLnNwbGl0KC9cXHI/XFxuLykgOiBbXTtcbiAgICAgICAgcmV0dXJuIGxpbmVzLnJlZHVjZShmdW5jdGlvbiAoaGVhZGVycywgbGluZSkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgdmFyIHBhcnRzID0gbGluZS5zcGxpdCgnOicpO1xuICAgICAgICAgICAgdmFyIGtleSA9IChwYXJ0cy5zaGlmdCgpIHx8ICcnKS50cmltKCk7XG4gICAgICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBoZWFkZXJzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF9fYXNzaWduKF9fYXNzaWduKHt9LCBoZWFkZXJzKSwgKF9hID0ge30sIF9hW2tleS50b0xvd2VyQ2FzZSgpXSA9IHBhcnRzLmpvaW4oJzonKS50cmltKCksIF9hKSk7XG4gICAgICAgIH0sIHt9KTtcbiAgICB9O1xuICAgIFBheWxvYWRUcmFuc2Zvcm1lci5wcm90b3R5cGUuX2dldEhlYWRlciA9IGZ1bmN0aW9uIChoZWFkZXJzLCBrZXkpIHtcbiAgICAgICAgaWYgKCFoZWFkZXJzIHx8ICFrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGVhZGVyc1trZXldIHx8IGhlYWRlcnNba2V5LnRvTG93ZXJDYXNlKCldIHx8ICcnO1xuICAgIH07XG4gICAgcmV0dXJuIFBheWxvYWRUcmFuc2Zvcm1lcjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBQYXlsb2FkVHJhbnNmb3JtZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXlsb2FkLXRyYW5zZm9ybWVyLmpzLm1hcCIsImltcG9ydCAqIGFzIHF1ZXJ5U3RyaW5nIGZyb20gJ3F1ZXJ5LXN0cmluZyc7XG52YXIgUmVxdWVzdEZhY3RvcnkgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlcXVlc3RGYWN0b3J5KCkge1xuICAgIH1cbiAgICBSZXF1ZXN0RmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlUmVxdWVzdCA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICB0aGlzLl9jb25maWd1cmVSZXF1ZXN0KHhociwgdXJsLCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHhocjtcbiAgICB9O1xuICAgIFJlcXVlc3RGYWN0b3J5LnByb3RvdHlwZS5fY29uZmlndXJlUmVxdWVzdCA9IGZ1bmN0aW9uICh4aHIsIHVybCwgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICB4aHIub3BlbihvcHRpb25zLm1ldGhvZCB8fCAnR0VUJywgdGhpcy5fZm9ybWF0VXJsKHVybCwgb3B0aW9ucy5wYXJhbXMsIG9wdGlvbnMuZW5jb2RlUGFyYW1zKSwgdHJ1ZSk7XG4gICAgICAgIGlmIChvcHRpb25zLmhlYWRlcnMpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbmZpZ3VyZVJlcXVlc3RIZWFkZXJzKHhociwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuY3JlZGVudGlhbHMgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IG9wdGlvbnMuY3JlZGVudGlhbHM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLnRpbWVvdXQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB4aHIudGltZW91dCA9IG9wdGlvbnMudGltZW91dDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVxdWVzdEZhY3RvcnkucHJvdG90eXBlLl9jb25maWd1cmVSZXF1ZXN0SGVhZGVycyA9IGZ1bmN0aW9uICh4aHIsIGhlYWRlcnMpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoaGVhZGVycylcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gaGVhZGVyc1trZXldICE9PSBudWxsOyB9KVxuICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoa2V5LCBoZWFkZXJzW2tleV0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFJlcXVlc3RGYWN0b3J5LnByb3RvdHlwZS5fZm9ybWF0VXJsID0gZnVuY3Rpb24gKHVybCwgcGFyYW1zLCBlbmNvZGVQYXJhbXMpIHtcbiAgICAgICAgaWYgKGVuY29kZVBhcmFtcyA9PT0gdm9pZCAwKSB7IGVuY29kZVBhcmFtcyA9IHRydWU7IH1cbiAgICAgICAgaWYgKCFwYXJhbXMgfHwgT2JqZWN0LmtleXMocGFyYW1zKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB1cmw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVybCArIFwiP1wiICsgcXVlcnlTdHJpbmcuc3RyaW5naWZ5KHBhcmFtcywgeyBlbmNvZGU6IGVuY29kZVBhcmFtcyB9KTtcbiAgICB9O1xuICAgIHJldHVybiBSZXF1ZXN0RmFjdG9yeTtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBSZXF1ZXN0RmFjdG9yeTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlcXVlc3QtZmFjdG9yeS5qcy5tYXAiLCJpbXBvcnQgeyBfX2Fzc2lnbiB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IG1lcmdlIGZyb20gJ2xvZGFzaC5tZXJnZSc7XG5pbXBvcnQgeyBEZWZhdWx0Q2FjaGUgfSBmcm9tICcuL2NhY2hlJztcbmltcG9ydCBpc1Byb21pc2UgZnJvbSAnLi9pcy1wcm9taXNlJztcbmltcG9ydCBUaW1lb3V0IGZyb20gJy4vdGltZW91dCc7XG52YXIgUmVxdWVzdFNlbmRlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVxdWVzdFNlbmRlcihfcmVxdWVzdEZhY3RvcnksIF9wYXlsb2FkVHJhbnNmb3JtZXIsIF9jb29raWUsIF9vcHRpb25zKSB7XG4gICAgICAgIGlmIChfb3B0aW9ucyA9PT0gdm9pZCAwKSB7IF9vcHRpb25zID0ge307IH1cbiAgICAgICAgdGhpcy5fcmVxdWVzdEZhY3RvcnkgPSBfcmVxdWVzdEZhY3Rvcnk7XG4gICAgICAgIHRoaXMuX3BheWxvYWRUcmFuc2Zvcm1lciA9IF9wYXlsb2FkVHJhbnNmb3JtZXI7XG4gICAgICAgIHRoaXMuX2Nvb2tpZSA9IF9jb29raWU7XG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBfb3B0aW9ucztcbiAgICAgICAgdGhpcy5fY2FjaGUgPSB0aGlzLl9vcHRpb25zLmNhY2hlIHx8IG5ldyBEZWZhdWx0Q2FjaGUoKTtcbiAgICB9XG4gICAgUmVxdWVzdFNlbmRlci5wcm90b3R5cGUuc2VuZFJlcXVlc3QgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciByZXF1ZXN0T3B0aW9ucyA9IHRoaXMuX21lcmdlRGVmYXVsdE9wdGlvbnModXJsLCBvcHRpb25zKTtcbiAgICAgICAgdmFyIGNhY2hlZFJlcXVlc3QgPSB0aGlzLl9nZXRDYWNoZWRSZXF1ZXN0KHVybCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgICAgICBpZiAoY2FjaGVkUmVxdWVzdCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShjYWNoZWRSZXF1ZXN0KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVxdWVzdCA9IHRoaXMuX3JlcXVlc3RGYWN0b3J5LmNyZWF0ZVJlcXVlc3QodGhpcy5fcHJlcGVuZEhvc3QodXJsKSwgcmVxdWVzdE9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIHJlcXVlc3RIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciByZXNwb25zZSA9IF90aGlzLl9wYXlsb2FkVHJhbnNmb3JtZXIudG9SZXNwb25zZShyZXF1ZXN0KTtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCAzMDApIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2NhY2hlUmVxdWVzdCh1cmwsIHJlcXVlc3RPcHRpb25zLCByZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmVxdWVzdC5vbmxvYWQgPSByZXF1ZXN0SGFuZGxlcjtcbiAgICAgICAgICAgIHJlcXVlc3Qub25lcnJvciA9IHJlcXVlc3RIYW5kbGVyO1xuICAgICAgICAgICAgcmVxdWVzdC5vbmFib3J0ID0gcmVxdWVzdEhhbmRsZXI7XG4gICAgICAgICAgICByZXF1ZXN0Lm9udGltZW91dCA9IHJlcXVlc3RIYW5kbGVyO1xuICAgICAgICAgICAgaWYgKHJlcXVlc3RPcHRpb25zLnRpbWVvdXQgaW5zdGFuY2VvZiBUaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMudGltZW91dC5vbkNvbXBsZXRlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlcXVlc3QuYWJvcnQoKTsgfSk7XG4gICAgICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMudGltZW91dC5zdGFydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzUHJvbWlzZShyZXF1ZXN0T3B0aW9ucy50aW1lb3V0KSkge1xuICAgICAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zLnRpbWVvdXQudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiByZXF1ZXN0LmFib3J0KCk7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVxdWVzdC5zZW5kKF90aGlzLl9wYXlsb2FkVHJhbnNmb3JtZXIudG9SZXF1ZXN0Qm9keShyZXF1ZXN0T3B0aW9ucykpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFJlcXVlc3RTZW5kZXIucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VuZFJlcXVlc3QodXJsLCBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgb3B0aW9ucyksIHsgbWV0aG9kOiAnR0VUJyB9KSk7XG4gICAgfTtcbiAgICBSZXF1ZXN0U2VuZGVyLnByb3RvdHlwZS5wb3N0ID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5zZW5kUmVxdWVzdCh1cmwsIF9fYXNzaWduKF9fYXNzaWduKHt9LCBvcHRpb25zKSwgeyBtZXRob2Q6ICdQT1NUJyB9KSk7XG4gICAgfTtcbiAgICBSZXF1ZXN0U2VuZGVyLnByb3RvdHlwZS5wdXQgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbmRSZXF1ZXN0KHVybCwgX19hc3NpZ24oX19hc3NpZ24oe30sIG9wdGlvbnMpLCB7IG1ldGhvZDogJ1BVVCcgfSkpO1xuICAgIH07XG4gICAgUmVxdWVzdFNlbmRlci5wcm90b3R5cGUucGF0Y2ggPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbmRSZXF1ZXN0KHVybCwgX19hc3NpZ24oX19hc3NpZ24oe30sIG9wdGlvbnMpLCB7IG1ldGhvZDogJ1BBVENIJyB9KSk7XG4gICAgfTtcbiAgICBSZXF1ZXN0U2VuZGVyLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbmRSZXF1ZXN0KHVybCwgX19hc3NpZ24oX19hc3NpZ24oe30sIG9wdGlvbnMpLCB7IG1ldGhvZDogJ0RFTEVURScgfSkpO1xuICAgIH07XG4gICAgUmVxdWVzdFNlbmRlci5wcm90b3R5cGUuX21lcmdlRGVmYXVsdE9wdGlvbnMgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGNyZWRlbnRpYWxzOiB0cnVlLFxuICAgICAgICAgICAgZW5jb2RlUGFyYW1zOiB0cnVlLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGNzcmZUb2tlbiA9IHRoaXMuX2Nvb2tpZS5nZXQoJ1hTUkYtVE9LRU4nKTtcbiAgICAgICAgaWYgKGNzcmZUb2tlbiAmJiBkZWZhdWx0T3B0aW9ucy5oZWFkZXJzICYmICF0aGlzLl9pc0Fzc2V0UmVxdWVzdCh1cmwsIG9wdGlvbnMpKSB7XG4gICAgICAgICAgICBkZWZhdWx0T3B0aW9ucy5oZWFkZXJzWydYLVhTUkYtVE9LRU4nXSA9IGNzcmZUb2tlbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmJvZHkgJiYgZGVmYXVsdE9wdGlvbnMuaGVhZGVycykge1xuICAgICAgICAgICAgZGVmYXVsdE9wdGlvbnMuaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24vanNvbic7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lcmdlKHt9LCBkZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZXF1ZXN0U2VuZGVyLnByb3RvdHlwZS5fcHJlcGVuZEhvc3QgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIGlmICghdGhpcy5fb3B0aW9ucy5ob3N0IHx8IC9eaHR0cHM/OlxcL1xcLy8udGVzdCh1cmwpKSB7XG4gICAgICAgICAgICByZXR1cm4gdXJsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9vcHRpb25zLmhvc3QucmVwbGFjZSgvXFwvJC8sICcnKSArIFwiL1wiICsgdXJsLnJlcGxhY2UoL15cXC8vLCAnJyk7XG4gICAgfTtcbiAgICBSZXF1ZXN0U2VuZGVyLnByb3RvdHlwZS5fc2hvdWxkQ2FjaGVSZXF1ZXN0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIG1ldGhvZCA9IG9wdGlvbnMubWV0aG9kIHx8ICdHRVQnO1xuICAgICAgICByZXR1cm4gbWV0aG9kLnRvVXBwZXJDYXNlKCkgPT09ICdHRVQnICYmIEJvb2xlYW4ob3B0aW9ucy5jYWNoZSk7XG4gICAgfTtcbiAgICBSZXF1ZXN0U2VuZGVyLnByb3RvdHlwZS5fZ2V0Q2FjaGVkUmVxdWVzdCA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMuX3Nob3VsZENhY2hlUmVxdWVzdChvcHRpb25zKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlLnJlYWQodXJsLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIFJlcXVlc3RTZW5kZXIucHJvdG90eXBlLl9jYWNoZVJlcXVlc3QgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zLCByZXNwb25zZSkge1xuICAgICAgICBpZiAodGhpcy5fc2hvdWxkQ2FjaGVSZXF1ZXN0KG9wdGlvbnMpKSB7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZS53cml0ZSh1cmwsIG9wdGlvbnMsIHJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVxdWVzdFNlbmRlci5wcm90b3R5cGUuX2lzQXNzZXRSZXF1ZXN0ID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLm1ldGhvZCAmJiBvcHRpb25zLm1ldGhvZC50b1VwcGVyQ2FzZSgpICE9PSAnR0VUJykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAvXFwuKHBuZ3xnaWZ8anBlP2d8Y3NzfGpzfGpzb258c3ZnfGh0bWw/KSQvLnRlc3QodXJsLnNwbGl0KCc/JylbMF0pO1xuICAgIH07XG4gICAgcmV0dXJuIFJlcXVlc3RTZW5kZXI7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgUmVxdWVzdFNlbmRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlcXVlc3Qtc2VuZGVyLmpzLm1hcCIsInZhciBUaW1lb3V0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUaW1lb3V0KF9kZWxheSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLl9kZWxheSA9IF9kZWxheTtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZSA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAgICAgdGhpcy5fcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICBfdGhpcy5fcmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBUaW1lb3V0LnByb3RvdHlwZS5vbkNvbXBsZXRlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX3Byb21pc2UudGhlbihjYWxsYmFjayk7XG4gICAgfTtcbiAgICBUaW1lb3V0LnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZSgpO1xuICAgICAgICBpZiAodGhpcy5fdGltZW91dFRva2VuKSB7XG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXRUb2tlbik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRpbWVvdXQucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5fZGVsYXkpIHtcbiAgICAgICAgICAgIHRoaXMuX3RpbWVvdXRUb2tlbiA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLmNvbXBsZXRlKCk7IH0sIHRoaXMuX2RlbGF5KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFRpbWVvdXQ7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgVGltZW91dDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRpbWVvdXQuanMubWFwIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdG9Gb3JtVXJsRW5jb2RlZChkYXRhKSB7XG4gICAgaWYgKHR5cGVvZiBkYXRhICE9PSAnb2JqZWN0JyB8fCBkYXRhID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmtleXMoZGF0YSlcbiAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBkYXRhW2tleV0gIT09IHVuZGVmaW5lZDsgfSlcbiAgICAgICAgLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGRhdGFba2V5XTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBrZXkgKyBcIj1cIiArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGtleSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHZhbHVlKSB8fCAnJyk7XG4gICAgfSlcbiAgICAgICAgLmpvaW4oJyYnKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRvLWZvcm0tdXJsLWVuY29kZWQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQnJvd3NlclN1cHBvcnQgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJyb3dzZXJTdXBwb3J0KCkge1xuICAgIH1cbiAgICBCcm93c2VyU3VwcG9ydC5wcm90b3R5cGUuY2FuU3VwcG9ydFJlbCA9IGZ1bmN0aW9uIChyZWwpIHtcbiAgICAgICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7XG4gICAgICAgIHJldHVybiAhIShsaW5rLnJlbExpc3QgJiZcbiAgICAgICAgICAgIGxpbmsucmVsTGlzdC5zdXBwb3J0cyAmJlxuICAgICAgICAgICAgbGluay5yZWxMaXN0LnN1cHBvcnRzKHJlbCkpO1xuICAgIH07XG4gICAgcmV0dXJuIEJyb3dzZXJTdXBwb3J0O1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEJyb3dzZXJTdXBwb3J0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnJvd3Nlci1zdXBwb3J0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHJlcXVlc3Rfc2VuZGVyXzEgPSByZXF1aXJlKFwiQGJpZ2NvbW1lcmNlL3JlcXVlc3Qtc2VuZGVyXCIpO1xudmFyIGJyb3dzZXJfc3VwcG9ydF8xID0gcmVxdWlyZShcIi4vYnJvd3Nlci1zdXBwb3J0XCIpO1xudmFyIHNjcmlwdF9sb2FkZXJfMSA9IHJlcXVpcmUoXCIuL3NjcmlwdC1sb2FkZXJcIik7XG5mdW5jdGlvbiBjcmVhdGVTY3JpcHRMb2FkZXIoKSB7XG4gICAgcmV0dXJuIG5ldyBzY3JpcHRfbG9hZGVyXzEuZGVmYXVsdChuZXcgYnJvd3Nlcl9zdXBwb3J0XzEuZGVmYXVsdCgpLCByZXF1ZXN0X3NlbmRlcl8xLmNyZWF0ZVJlcXVlc3RTZW5kZXIoKSk7XG59XG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVTY3JpcHRMb2FkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jcmVhdGUtc2NyaXB0LWxvYWRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciByZXF1ZXN0X3NlbmRlcl8xID0gcmVxdWlyZShcIkBiaWdjb21tZXJjZS9yZXF1ZXN0LXNlbmRlclwiKTtcbnZhciBicm93c2VyX3N1cHBvcnRfMSA9IHJlcXVpcmUoXCIuL2Jyb3dzZXItc3VwcG9ydFwiKTtcbnZhciBzdHlsZXNoZWV0X2xvYWRlcl8xID0gcmVxdWlyZShcIi4vc3R5bGVzaGVldC1sb2FkZXJcIik7XG5mdW5jdGlvbiBjcmVhdGVTdHlsZXNoZWV0TG9hZGVyKCkge1xuICAgIHJldHVybiBuZXcgc3R5bGVzaGVldF9sb2FkZXJfMS5kZWZhdWx0KG5ldyBicm93c2VyX3N1cHBvcnRfMS5kZWZhdWx0KCksIHJlcXVlc3Rfc2VuZGVyXzEuY3JlYXRlUmVxdWVzdFNlbmRlcigpKTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IGNyZWF0ZVN0eWxlc2hlZXRMb2FkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jcmVhdGUtc3R5bGVzaGVldC1sb2FkZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgY3JlYXRlX3NjcmlwdF9sb2FkZXJfMSA9IHJlcXVpcmUoXCIuL2NyZWF0ZS1zY3JpcHQtbG9hZGVyXCIpO1xudmFyIGluc3RhbmNlO1xuZnVuY3Rpb24gZ2V0U2NyaXB0TG9hZGVyKCkge1xuICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgICAgaW5zdGFuY2UgPSBjcmVhdGVfc2NyaXB0X2xvYWRlcl8xLmRlZmF1bHQoKTtcbiAgICB9XG4gICAgcmV0dXJuIGluc3RhbmNlO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gZ2V0U2NyaXB0TG9hZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0LXNjcmlwdC1sb2FkZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgY3JlYXRlX3N0eWxlc2hlZXRfbG9hZGVyXzEgPSByZXF1aXJlKFwiLi9jcmVhdGUtc3R5bGVzaGVldC1sb2FkZXJcIik7XG52YXIgaW5zdGFuY2U7XG5mdW5jdGlvbiBnZXRTdHlsZXNoZWV0TG9hZGVyKCkge1xuICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgICAgaW5zdGFuY2UgPSBjcmVhdGVfc3R5bGVzaGVldF9sb2FkZXJfMS5kZWZhdWx0KCk7XG4gICAgfVxuICAgIHJldHVybiBpbnN0YW5jZTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IGdldFN0eWxlc2hlZXRMb2FkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXQtc3R5bGVzaGVldC1sb2FkZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgc2NyaXB0X2xvYWRlcl8xID0gcmVxdWlyZShcIi4vc2NyaXB0LWxvYWRlclwiKTtcbmV4cG9ydHMuU2NyaXB0TG9hZGVyID0gc2NyaXB0X2xvYWRlcl8xLmRlZmF1bHQ7XG52YXIgY3JlYXRlX3NjcmlwdF9sb2FkZXJfMSA9IHJlcXVpcmUoXCIuL2NyZWF0ZS1zY3JpcHQtbG9hZGVyXCIpO1xuZXhwb3J0cy5jcmVhdGVTY3JpcHRMb2FkZXIgPSBjcmVhdGVfc2NyaXB0X2xvYWRlcl8xLmRlZmF1bHQ7XG52YXIgZ2V0X3NjcmlwdF9sb2FkZXJfMSA9IHJlcXVpcmUoXCIuL2dldC1zY3JpcHQtbG9hZGVyXCIpO1xuZXhwb3J0cy5nZXRTY3JpcHRMb2FkZXIgPSBnZXRfc2NyaXB0X2xvYWRlcl8xLmRlZmF1bHQ7XG52YXIgc3R5bGVzaGVldF9sb2FkZXJfMSA9IHJlcXVpcmUoXCIuL3N0eWxlc2hlZXQtbG9hZGVyXCIpO1xuZXhwb3J0cy5TdHlsZXNoZWV0TG9hZGVyID0gc3R5bGVzaGVldF9sb2FkZXJfMS5kZWZhdWx0O1xudmFyIGNyZWF0ZV9zdHlsZXNoZWV0X2xvYWRlcl8xID0gcmVxdWlyZShcIi4vY3JlYXRlLXN0eWxlc2hlZXQtbG9hZGVyXCIpO1xuZXhwb3J0cy5jcmVhdGVTdHlsZXNoZWV0TG9hZGVyID0gY3JlYXRlX3N0eWxlc2hlZXRfbG9hZGVyXzEuZGVmYXVsdDtcbnZhciBnZXRfc3R5bGVzaGVldF9sb2FkZXJfMSA9IHJlcXVpcmUoXCIuL2dldC1zdHlsZXNoZWV0LWxvYWRlclwiKTtcbmV4cG9ydHMuZ2V0U3R5bGVzaGVldExvYWRlciA9IGdldF9zdHlsZXNoZWV0X2xvYWRlcl8xLmRlZmF1bHQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBTY3JpcHRMb2FkZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNjcmlwdExvYWRlcihfYnJvd3NlclN1cHBvcnQsIF9yZXF1ZXN0U2VuZGVyKSB7XG4gICAgICAgIHRoaXMuX2Jyb3dzZXJTdXBwb3J0ID0gX2Jyb3dzZXJTdXBwb3J0O1xuICAgICAgICB0aGlzLl9yZXF1ZXN0U2VuZGVyID0gX3JlcXVlc3RTZW5kZXI7XG4gICAgICAgIHRoaXMuX3NjcmlwdHMgPSB7fTtcbiAgICAgICAgdGhpcy5fcHJlbG9hZGVkU2NyaXB0cyA9IHt9O1xuICAgIH1cbiAgICBTY3JpcHRMb2FkZXIucHJvdG90eXBlLmxvYWRTY3JpcHQgPSBmdW5jdGlvbiAoc3JjLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5fc2NyaXB0c1tzcmNdKSB7XG4gICAgICAgICAgICB0aGlzLl9zY3JpcHRzW3NyY10gPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgdmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgICAgICAgICAgIHZhciBfYSA9IG9wdGlvbnMgfHwge30sIF9iID0gX2EuYXN5bmMsIGFzeW5jID0gX2IgPT09IHZvaWQgMCA/IGZhbHNlIDogX2IsIF9jID0gX2EuYXR0cmlidXRlcywgYXR0cmlidXRlcyA9IF9jID09PSB2b2lkIDAgPyB7fSA6IF9jO1xuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpXG4gICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NyaXB0LnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc2NyaXB0Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmUoKTsgfTtcbiAgICAgICAgICAgICAgICBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVzb2x2ZSgpOyB9O1xuICAgICAgICAgICAgICAgIHNjcmlwdC5vbmVycm9yID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBfdGhpcy5fc2NyaXB0c1tzcmNdO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXZlbnQpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgc2NyaXB0LmFzeW5jID0gYXN5bmM7XG4gICAgICAgICAgICAgICAgc2NyaXB0LnNyYyA9IHNyYztcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fc2NyaXB0c1tzcmNdO1xuICAgIH07XG4gICAgU2NyaXB0TG9hZGVyLnByb3RvdHlwZS5sb2FkU2NyaXB0cyA9IGZ1bmN0aW9uICh1cmxzLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbCh1cmxzLm1hcChmdW5jdGlvbiAodXJsKSB7IHJldHVybiBfdGhpcy5sb2FkU2NyaXB0KHVybCwgb3B0aW9ucyk7IH0pKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9KTtcbiAgICB9O1xuICAgIFNjcmlwdExvYWRlci5wcm90b3R5cGUucHJlbG9hZFNjcmlwdCA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLl9wcmVsb2FkZWRTY3JpcHRzW3VybF0pIHtcbiAgICAgICAgICAgIHRoaXMuX3ByZWxvYWRlZFNjcmlwdHNbdXJsXSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2EgPSAob3B0aW9ucyB8fCB7fSkucHJlZmV0Y2gsIHByZWZldGNoID0gX2EgPT09IHZvaWQgMCA/IGZhbHNlIDogX2E7XG4gICAgICAgICAgICAgICAgdmFyIHJlbCA9IHByZWZldGNoID8gJ3ByZWZldGNoJyA6ICdwcmVsb2FkJztcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX2Jyb3dzZXJTdXBwb3J0LmNhblN1cHBvcnRSZWwocmVsKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJlbG9hZGVkU2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpO1xuICAgICAgICAgICAgICAgICAgICBwcmVsb2FkZWRTY3JpcHQuYXMgPSAnc2NyaXB0JztcbiAgICAgICAgICAgICAgICAgICAgcHJlbG9hZGVkU2NyaXB0LnJlbCA9IHJlbDtcbiAgICAgICAgICAgICAgICAgICAgcHJlbG9hZGVkU2NyaXB0LmhyZWYgPSB1cmw7XG4gICAgICAgICAgICAgICAgICAgIHByZWxvYWRlZFNjcmlwdC5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHByZWxvYWRlZFNjcmlwdC5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIF90aGlzLl9wcmVsb2FkZWRTY3JpcHRzW3VybF07XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChwcmVsb2FkZWRTY3JpcHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3JlcXVlc3RTZW5kZXIuZ2V0KHVybCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qYXZhc2NyaXB0JyB9LFxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVzb2x2ZSgpOyB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKHJlamVjdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3ByZWxvYWRlZFNjcmlwdHNbdXJsXTtcbiAgICB9O1xuICAgIFNjcmlwdExvYWRlci5wcm90b3R5cGUucHJlbG9hZFNjcmlwdHMgPSBmdW5jdGlvbiAodXJscywgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwodXJscy5tYXAoZnVuY3Rpb24gKHVybCkgeyByZXR1cm4gX3RoaXMucHJlbG9hZFNjcmlwdCh1cmwsIG9wdGlvbnMpOyB9KSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gU2NyaXB0TG9hZGVyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFNjcmlwdExvYWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjcmlwdC1sb2FkZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgU3R5bGVzaGVldExvYWRlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3R5bGVzaGVldExvYWRlcihfYnJvd3NlclN1cHBvcnQsIF9yZXF1ZXN0U2VuZGVyKSB7XG4gICAgICAgIHRoaXMuX2Jyb3dzZXJTdXBwb3J0ID0gX2Jyb3dzZXJTdXBwb3J0O1xuICAgICAgICB0aGlzLl9yZXF1ZXN0U2VuZGVyID0gX3JlcXVlc3RTZW5kZXI7XG4gICAgICAgIHRoaXMuX3N0eWxlc2hlZXRzID0ge307XG4gICAgICAgIHRoaXMuX3ByZWxvYWRlZFN0eWxlc2hlZXRzID0ge307XG4gICAgfVxuICAgIFN0eWxlc2hlZXRMb2FkZXIucHJvdG90eXBlLmxvYWRTdHlsZXNoZWV0ID0gZnVuY3Rpb24gKHNyYywgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXRoaXMuX3N0eWxlc2hlZXRzW3NyY10pIHtcbiAgICAgICAgICAgIHRoaXMuX3N0eWxlc2hlZXRzW3NyY10gPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlc2hlZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7XG4gICAgICAgICAgICAgICAgdmFyIF9hID0gb3B0aW9ucyB8fCB7fSwgX2IgPSBfYS5wcmVwZW5kLCBwcmVwZW5kID0gX2IgPT09IHZvaWQgMCA/IGZhbHNlIDogX2IsIF9jID0gX2EuYXR0cmlidXRlcywgYXR0cmlidXRlcyA9IF9jID09PSB2b2lkIDAgPyB7fSA6IF9jO1xuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpXG4gICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVzaGVldC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHN0eWxlc2hlZXQub25sb2FkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVzb2x2ZSgpOyB9O1xuICAgICAgICAgICAgICAgIHN0eWxlc2hlZXQub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgX3RoaXMuX3N0eWxlc2hlZXRzW3NyY107XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChldmVudCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBzdHlsZXNoZWV0LnJlbCA9ICdzdHlsZXNoZWV0JztcbiAgICAgICAgICAgICAgICBzdHlsZXNoZWV0LmhyZWYgPSBzcmM7XG4gICAgICAgICAgICAgICAgaWYgKHByZXBlbmQgJiYgZG9jdW1lbnQuaGVhZC5jaGlsZHJlblswXSkge1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5oZWFkLmluc2VydEJlZm9yZShzdHlsZXNoZWV0LCBkb2N1bWVudC5oZWFkLmNoaWxkcmVuWzBdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVzaGVldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0eWxlc2hlZXRzW3NyY107XG4gICAgfTtcbiAgICBTdHlsZXNoZWV0TG9hZGVyLnByb3RvdHlwZS5sb2FkU3R5bGVzaGVldHMgPSBmdW5jdGlvbiAodXJscywgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwodXJscy5tYXAoZnVuY3Rpb24gKHVybCkgeyByZXR1cm4gX3RoaXMubG9hZFN0eWxlc2hlZXQodXJsLCBvcHRpb25zKTsgfSkpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0pO1xuICAgIH07XG4gICAgU3R5bGVzaGVldExvYWRlci5wcm90b3R5cGUucHJlbG9hZFN0eWxlc2hlZXQgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5fcHJlbG9hZGVkU3R5bGVzaGVldHNbdXJsXSkge1xuICAgICAgICAgICAgdGhpcy5fcHJlbG9hZGVkU3R5bGVzaGVldHNbdXJsXSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2EgPSAob3B0aW9ucyB8fCB7fSkucHJlZmV0Y2gsIHByZWZldGNoID0gX2EgPT09IHZvaWQgMCA/IGZhbHNlIDogX2E7XG4gICAgICAgICAgICAgICAgdmFyIHJlbCA9IHByZWZldGNoID8gJ3ByZWZldGNoJyA6ICdwcmVsb2FkJztcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX2Jyb3dzZXJTdXBwb3J0LmNhblN1cHBvcnRSZWwocmVsKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJlbG9hZGVkU3R5bGVzaGVldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKTtcbiAgICAgICAgICAgICAgICAgICAgcHJlbG9hZGVkU3R5bGVzaGVldC5hcyA9ICdzdHlsZSc7XG4gICAgICAgICAgICAgICAgICAgIHByZWxvYWRlZFN0eWxlc2hlZXQucmVsID0gcHJlZmV0Y2ggPyAncHJlZmV0Y2gnIDogJ3ByZWxvYWQnO1xuICAgICAgICAgICAgICAgICAgICBwcmVsb2FkZWRTdHlsZXNoZWV0LmhyZWYgPSB1cmw7XG4gICAgICAgICAgICAgICAgICAgIHByZWxvYWRlZFN0eWxlc2hlZXQub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBwcmVsb2FkZWRTdHlsZXNoZWV0Lm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBfdGhpcy5fcHJlbG9hZGVkU3R5bGVzaGVldHNbdXJsXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQocHJlbG9hZGVkU3R5bGVzaGVldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fcmVxdWVzdFNlbmRlci5nZXQodXJsLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFsczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7IEFjY2VwdDogJ3RleHQvY3NzJyB9LFxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVzb2x2ZSgpOyB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKHJlamVjdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3ByZWxvYWRlZFN0eWxlc2hlZXRzW3VybF07XG4gICAgfTtcbiAgICBTdHlsZXNoZWV0TG9hZGVyLnByb3RvdHlwZS5wcmVsb2FkU3R5bGVzaGVldHMgPSBmdW5jdGlvbiAodXJscywgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwodXJscy5tYXAoZnVuY3Rpb24gKHVybCkgeyByZXR1cm4gX3RoaXMucHJlbG9hZFN0eWxlc2hlZXQodXJsLCBvcHRpb25zKTsgfSkpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0pO1xuICAgIH07XG4gICAgcmV0dXJuIFN0eWxlc2hlZXRMb2FkZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gU3R5bGVzaGVldExvYWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0eWxlc2hlZXQtbG9hZGVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxudmFyIG9iamVjdEFzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcblxuLy8gY29tcGFyZSBhbmQgaXNCdWZmZXIgdGFrZW4gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2J1ZmZlci9ibG9iLzY4MGU5ZTVlNDg4ZjIyYWFjMjc1OTlhNTdkYzg0NGE2MzE1OTI4ZGQvaW5kZXguanNcbi8vIG9yaWdpbmFsIG5vdGljZTpcblxuLyohXG4gKiBUaGUgYnVmZmVyIG1vZHVsZSBmcm9tIG5vZGUuanMsIGZvciB0aGUgYnJvd3Nlci5cbiAqXG4gKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8ZmVyb3NzQGZlcm9zcy5vcmc+IDxodHRwOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL1xuZnVuY3Rpb24gY29tcGFyZShhLCBiKSB7XG4gIGlmIChhID09PSBiKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICB2YXIgeCA9IGEubGVuZ3RoO1xuICB2YXIgeSA9IGIubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBNYXRoLm1pbih4LCB5KTsgaSA8IGxlbjsgKytpKSB7XG4gICAgaWYgKGFbaV0gIT09IGJbaV0pIHtcbiAgICAgIHggPSBhW2ldO1xuICAgICAgeSA9IGJbaV07XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBpZiAoeCA8IHkpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgaWYgKHkgPCB4KSB7XG4gICAgcmV0dXJuIDE7XG4gIH1cbiAgcmV0dXJuIDA7XG59XG5mdW5jdGlvbiBpc0J1ZmZlcihiKSB7XG4gIGlmIChnbG9iYWwuQnVmZmVyICYmIHR5cGVvZiBnbG9iYWwuQnVmZmVyLmlzQnVmZmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGdsb2JhbC5CdWZmZXIuaXNCdWZmZXIoYik7XG4gIH1cbiAgcmV0dXJuICEhKGIgIT0gbnVsbCAmJiBiLl9pc0J1ZmZlcik7XG59XG5cbi8vIGJhc2VkIG9uIG5vZGUgYXNzZXJ0LCBvcmlnaW5hbCBub3RpY2U6XG4vLyBOQjogVGhlIFVSTCB0byB0aGUgQ29tbW9uSlMgc3BlYyBpcyBrZXB0IGp1c3QgZm9yIHRyYWRpdGlvbi5cbi8vICAgICBub2RlLWFzc2VydCBoYXMgZXZvbHZlZCBhIGxvdCBzaW5jZSB0aGVuLCBib3RoIGluIEFQSSBhbmQgYmVoYXZpb3IuXG5cbi8vIGh0dHA6Ly93aWtpLmNvbW1vbmpzLm9yZy93aWtpL1VuaXRfVGVzdGluZy8xLjBcbi8vXG4vLyBUSElTIElTIE5PVCBURVNURUQgTk9SIExJS0VMWSBUTyBXT1JLIE9VVFNJREUgVjghXG4vL1xuLy8gT3JpZ2luYWxseSBmcm9tIG5hcndoYWwuanMgKGh0dHA6Ly9uYXJ3aGFsanMub3JnKVxuLy8gQ29weXJpZ2h0IChjKSAyMDA5IFRob21hcyBSb2JpbnNvbiA8Mjgwbm9ydGguY29tPlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbi8vIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICdTb2Z0d2FyZScpLCB0b1xuLy8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGVcbi8vIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vclxuLy8gc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbi8vIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbi8vIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAnQVMgSVMnLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4vLyBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbi8vIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuLy8gQVVUSE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU5cbi8vIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT05cbi8vIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG52YXIgdXRpbCA9IHJlcXVpcmUoJ3V0aWwvJyk7XG52YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBwU2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG52YXIgZnVuY3Rpb25zSGF2ZU5hbWVzID0gKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGZvbygpIHt9Lm5hbWUgPT09ICdmb28nO1xufSgpKTtcbmZ1bmN0aW9uIHBUb1N0cmluZyAob2JqKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKTtcbn1cbmZ1bmN0aW9uIGlzVmlldyhhcnJidWYpIHtcbiAgaWYgKGlzQnVmZmVyKGFycmJ1ZikpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHR5cGVvZiBnbG9iYWwuQXJyYXlCdWZmZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHR5cGVvZiBBcnJheUJ1ZmZlci5pc1ZpZXcgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gQXJyYXlCdWZmZXIuaXNWaWV3KGFycmJ1Zik7XG4gIH1cbiAgaWYgKCFhcnJidWYpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGFycmJ1ZiBpbnN0YW5jZW9mIERhdGFWaWV3KSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKGFycmJ1Zi5idWZmZXIgJiYgYXJyYnVmLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuLy8gMS4gVGhlIGFzc2VydCBtb2R1bGUgcHJvdmlkZXMgZnVuY3Rpb25zIHRoYXQgdGhyb3dcbi8vIEFzc2VydGlvbkVycm9yJ3Mgd2hlbiBwYXJ0aWN1bGFyIGNvbmRpdGlvbnMgYXJlIG5vdCBtZXQuIFRoZVxuLy8gYXNzZXJ0IG1vZHVsZSBtdXN0IGNvbmZvcm0gdG8gdGhlIGZvbGxvd2luZyBpbnRlcmZhY2UuXG5cbnZhciBhc3NlcnQgPSBtb2R1bGUuZXhwb3J0cyA9IG9rO1xuXG4vLyAyLiBUaGUgQXNzZXJ0aW9uRXJyb3IgaXMgZGVmaW5lZCBpbiBhc3NlcnQuXG4vLyBuZXcgYXNzZXJ0LkFzc2VydGlvbkVycm9yKHsgbWVzc2FnZTogbWVzc2FnZSxcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3R1YWw6IGFjdHVhbCxcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBlY3RlZDogZXhwZWN0ZWQgfSlcblxudmFyIHJlZ2V4ID0gL1xccypmdW5jdGlvblxccysoW15cXChcXHNdKilcXHMqLztcbi8vIGJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9samhhcmIvZnVuY3Rpb24ucHJvdG90eXBlLm5hbWUvYmxvYi9hZGVlZWVjOGJmY2M2MDY4YjE4N2Q3ZDlmYjNkNWJiMWQzYTMwODk5L2ltcGxlbWVudGF0aW9uLmpzXG5mdW5jdGlvbiBnZXROYW1lKGZ1bmMpIHtcbiAgaWYgKCF1dGlsLmlzRnVuY3Rpb24oZnVuYykpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGZ1bmN0aW9uc0hhdmVOYW1lcykge1xuICAgIHJldHVybiBmdW5jLm5hbWU7XG4gIH1cbiAgdmFyIHN0ciA9IGZ1bmMudG9TdHJpbmcoKTtcbiAgdmFyIG1hdGNoID0gc3RyLm1hdGNoKHJlZ2V4KTtcbiAgcmV0dXJuIG1hdGNoICYmIG1hdGNoWzFdO1xufVxuYXNzZXJ0LkFzc2VydGlvbkVycm9yID0gZnVuY3Rpb24gQXNzZXJ0aW9uRXJyb3Iob3B0aW9ucykge1xuICB0aGlzLm5hbWUgPSAnQXNzZXJ0aW9uRXJyb3InO1xuICB0aGlzLmFjdHVhbCA9IG9wdGlvbnMuYWN0dWFsO1xuICB0aGlzLmV4cGVjdGVkID0gb3B0aW9ucy5leHBlY3RlZDtcbiAgdGhpcy5vcGVyYXRvciA9IG9wdGlvbnMub3BlcmF0b3I7XG4gIGlmIChvcHRpb25zLm1lc3NhZ2UpIHtcbiAgICB0aGlzLm1lc3NhZ2UgPSBvcHRpb25zLm1lc3NhZ2U7XG4gICAgdGhpcy5nZW5lcmF0ZWRNZXNzYWdlID0gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5tZXNzYWdlID0gZ2V0TWVzc2FnZSh0aGlzKTtcbiAgICB0aGlzLmdlbmVyYXRlZE1lc3NhZ2UgPSB0cnVlO1xuICB9XG4gIHZhciBzdGFja1N0YXJ0RnVuY3Rpb24gPSBvcHRpb25zLnN0YWNrU3RhcnRGdW5jdGlvbiB8fCBmYWlsO1xuICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcbiAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBzdGFja1N0YXJ0RnVuY3Rpb24pO1xuICB9IGVsc2Uge1xuICAgIC8vIG5vbiB2OCBicm93c2VycyBzbyB3ZSBjYW4gaGF2ZSBhIHN0YWNrdHJhY2VcbiAgICB2YXIgZXJyID0gbmV3IEVycm9yKCk7XG4gICAgaWYgKGVyci5zdGFjaykge1xuICAgICAgdmFyIG91dCA9IGVyci5zdGFjaztcblxuICAgICAgLy8gdHJ5IHRvIHN0cmlwIHVzZWxlc3MgZnJhbWVzXG4gICAgICB2YXIgZm5fbmFtZSA9IGdldE5hbWUoc3RhY2tTdGFydEZ1bmN0aW9uKTtcbiAgICAgIHZhciBpZHggPSBvdXQuaW5kZXhPZignXFxuJyArIGZuX25hbWUpO1xuICAgICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICAgIC8vIG9uY2Ugd2UgaGF2ZSBsb2NhdGVkIHRoZSBmdW5jdGlvbiBmcmFtZVxuICAgICAgICAvLyB3ZSBuZWVkIHRvIHN0cmlwIG91dCBldmVyeXRoaW5nIGJlZm9yZSBpdCAoYW5kIGl0cyBsaW5lKVxuICAgICAgICB2YXIgbmV4dF9saW5lID0gb3V0LmluZGV4T2YoJ1xcbicsIGlkeCArIDEpO1xuICAgICAgICBvdXQgPSBvdXQuc3Vic3RyaW5nKG5leHRfbGluZSArIDEpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnN0YWNrID0gb3V0O1xuICAgIH1cbiAgfVxufTtcblxuLy8gYXNzZXJ0LkFzc2VydGlvbkVycm9yIGluc3RhbmNlb2YgRXJyb3JcbnV0aWwuaW5oZXJpdHMoYXNzZXJ0LkFzc2VydGlvbkVycm9yLCBFcnJvcik7XG5cbmZ1bmN0aW9uIHRydW5jYXRlKHMsIG4pIHtcbiAgaWYgKHR5cGVvZiBzID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBzLmxlbmd0aCA8IG4gPyBzIDogcy5zbGljZSgwLCBuKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcztcbiAgfVxufVxuZnVuY3Rpb24gaW5zcGVjdChzb21ldGhpbmcpIHtcbiAgaWYgKGZ1bmN0aW9uc0hhdmVOYW1lcyB8fCAhdXRpbC5pc0Z1bmN0aW9uKHNvbWV0aGluZykpIHtcbiAgICByZXR1cm4gdXRpbC5pbnNwZWN0KHNvbWV0aGluZyk7XG4gIH1cbiAgdmFyIHJhd25hbWUgPSBnZXROYW1lKHNvbWV0aGluZyk7XG4gIHZhciBuYW1lID0gcmF3bmFtZSA/ICc6ICcgKyByYXduYW1lIDogJyc7XG4gIHJldHVybiAnW0Z1bmN0aW9uJyArICBuYW1lICsgJ10nO1xufVxuZnVuY3Rpb24gZ2V0TWVzc2FnZShzZWxmKSB7XG4gIHJldHVybiB0cnVuY2F0ZShpbnNwZWN0KHNlbGYuYWN0dWFsKSwgMTI4KSArICcgJyArXG4gICAgICAgICBzZWxmLm9wZXJhdG9yICsgJyAnICtcbiAgICAgICAgIHRydW5jYXRlKGluc3BlY3Qoc2VsZi5leHBlY3RlZCksIDEyOCk7XG59XG5cbi8vIEF0IHByZXNlbnQgb25seSB0aGUgdGhyZWUga2V5cyBtZW50aW9uZWQgYWJvdmUgYXJlIHVzZWQgYW5kXG4vLyB1bmRlcnN0b29kIGJ5IHRoZSBzcGVjLiBJbXBsZW1lbnRhdGlvbnMgb3Igc3ViIG1vZHVsZXMgY2FuIHBhc3Ncbi8vIG90aGVyIGtleXMgdG8gdGhlIEFzc2VydGlvbkVycm9yJ3MgY29uc3RydWN0b3IgLSB0aGV5IHdpbGwgYmVcbi8vIGlnbm9yZWQuXG5cbi8vIDMuIEFsbCBvZiB0aGUgZm9sbG93aW5nIGZ1bmN0aW9ucyBtdXN0IHRocm93IGFuIEFzc2VydGlvbkVycm9yXG4vLyB3aGVuIGEgY29ycmVzcG9uZGluZyBjb25kaXRpb24gaXMgbm90IG1ldCwgd2l0aCBhIG1lc3NhZ2UgdGhhdFxuLy8gbWF5IGJlIHVuZGVmaW5lZCBpZiBub3QgcHJvdmlkZWQuICBBbGwgYXNzZXJ0aW9uIG1ldGhvZHMgcHJvdmlkZVxuLy8gYm90aCB0aGUgYWN0dWFsIGFuZCBleHBlY3RlZCB2YWx1ZXMgdG8gdGhlIGFzc2VydGlvbiBlcnJvciBmb3Jcbi8vIGRpc3BsYXkgcHVycG9zZXMuXG5cbmZ1bmN0aW9uIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgb3BlcmF0b3IsIHN0YWNrU3RhcnRGdW5jdGlvbikge1xuICB0aHJvdyBuZXcgYXNzZXJ0LkFzc2VydGlvbkVycm9yKHtcbiAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgIGFjdHVhbDogYWN0dWFsLFxuICAgIGV4cGVjdGVkOiBleHBlY3RlZCxcbiAgICBvcGVyYXRvcjogb3BlcmF0b3IsXG4gICAgc3RhY2tTdGFydEZ1bmN0aW9uOiBzdGFja1N0YXJ0RnVuY3Rpb25cbiAgfSk7XG59XG5cbi8vIEVYVEVOU0lPTiEgYWxsb3dzIGZvciB3ZWxsIGJlaGF2ZWQgZXJyb3JzIGRlZmluZWQgZWxzZXdoZXJlLlxuYXNzZXJ0LmZhaWwgPSBmYWlsO1xuXG4vLyA0LiBQdXJlIGFzc2VydGlvbiB0ZXN0cyB3aGV0aGVyIGEgdmFsdWUgaXMgdHJ1dGh5LCBhcyBkZXRlcm1pbmVkXG4vLyBieSAhIWd1YXJkLlxuLy8gYXNzZXJ0Lm9rKGd1YXJkLCBtZXNzYWdlX29wdCk7XG4vLyBUaGlzIHN0YXRlbWVudCBpcyBlcXVpdmFsZW50IHRvIGFzc2VydC5lcXVhbCh0cnVlLCAhIWd1YXJkLFxuLy8gbWVzc2FnZV9vcHQpOy4gVG8gdGVzdCBzdHJpY3RseSBmb3IgdGhlIHZhbHVlIHRydWUsIHVzZVxuLy8gYXNzZXJ0LnN0cmljdEVxdWFsKHRydWUsIGd1YXJkLCBtZXNzYWdlX29wdCk7LlxuXG5mdW5jdGlvbiBvayh2YWx1ZSwgbWVzc2FnZSkge1xuICBpZiAoIXZhbHVlKSBmYWlsKHZhbHVlLCB0cnVlLCBtZXNzYWdlLCAnPT0nLCBhc3NlcnQub2spO1xufVxuYXNzZXJ0Lm9rID0gb2s7XG5cbi8vIDUuIFRoZSBlcXVhbGl0eSBhc3NlcnRpb24gdGVzdHMgc2hhbGxvdywgY29lcmNpdmUgZXF1YWxpdHkgd2l0aFxuLy8gPT0uXG4vLyBhc3NlcnQuZXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZV9vcHQpO1xuXG5hc3NlcnQuZXF1YWwgPSBmdW5jdGlvbiBlcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7XG4gIGlmIChhY3R1YWwgIT0gZXhwZWN0ZWQpIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgJz09JywgYXNzZXJ0LmVxdWFsKTtcbn07XG5cbi8vIDYuIFRoZSBub24tZXF1YWxpdHkgYXNzZXJ0aW9uIHRlc3RzIGZvciB3aGV0aGVyIHR3byBvYmplY3RzIGFyZSBub3QgZXF1YWxcbi8vIHdpdGggIT0gYXNzZXJ0Lm5vdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2Vfb3B0KTtcblxuYXNzZXJ0Lm5vdEVxdWFsID0gZnVuY3Rpb24gbm90RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkge1xuICBpZiAoYWN0dWFsID09IGV4cGVjdGVkKSB7XG4gICAgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCAnIT0nLCBhc3NlcnQubm90RXF1YWwpO1xuICB9XG59O1xuXG4vLyA3LiBUaGUgZXF1aXZhbGVuY2UgYXNzZXJ0aW9uIHRlc3RzIGEgZGVlcCBlcXVhbGl0eSByZWxhdGlvbi5cbi8vIGFzc2VydC5kZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZV9vcHQpO1xuXG5hc3NlcnQuZGVlcEVxdWFsID0gZnVuY3Rpb24gZGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHtcbiAgaWYgKCFfZGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIGZhbHNlKSkge1xuICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgJ2RlZXBFcXVhbCcsIGFzc2VydC5kZWVwRXF1YWwpO1xuICB9XG59O1xuXG5hc3NlcnQuZGVlcFN0cmljdEVxdWFsID0gZnVuY3Rpb24gZGVlcFN0cmljdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHtcbiAgaWYgKCFfZGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIHRydWUpKSB7XG4gICAgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCAnZGVlcFN0cmljdEVxdWFsJywgYXNzZXJ0LmRlZXBTdHJpY3RFcXVhbCk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIF9kZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgc3RyaWN0LCBtZW1vcykge1xuICAvLyA3LjEuIEFsbCBpZGVudGljYWwgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBhcyBkZXRlcm1pbmVkIGJ5ID09PS5cbiAgaWYgKGFjdHVhbCA9PT0gZXhwZWN0ZWQpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIGlmIChpc0J1ZmZlcihhY3R1YWwpICYmIGlzQnVmZmVyKGV4cGVjdGVkKSkge1xuICAgIHJldHVybiBjb21wYXJlKGFjdHVhbCwgZXhwZWN0ZWQpID09PSAwO1xuXG4gIC8vIDcuMi4gSWYgdGhlIGV4cGVjdGVkIHZhbHVlIGlzIGEgRGF0ZSBvYmplY3QsIHRoZSBhY3R1YWwgdmFsdWUgaXNcbiAgLy8gZXF1aXZhbGVudCBpZiBpdCBpcyBhbHNvIGEgRGF0ZSBvYmplY3QgdGhhdCByZWZlcnMgdG8gdGhlIHNhbWUgdGltZS5cbiAgfSBlbHNlIGlmICh1dGlsLmlzRGF0ZShhY3R1YWwpICYmIHV0aWwuaXNEYXRlKGV4cGVjdGVkKSkge1xuICAgIHJldHVybiBhY3R1YWwuZ2V0VGltZSgpID09PSBleHBlY3RlZC5nZXRUaW1lKCk7XG5cbiAgLy8gNy4zIElmIHRoZSBleHBlY3RlZCB2YWx1ZSBpcyBhIFJlZ0V4cCBvYmplY3QsIHRoZSBhY3R1YWwgdmFsdWUgaXNcbiAgLy8gZXF1aXZhbGVudCBpZiBpdCBpcyBhbHNvIGEgUmVnRXhwIG9iamVjdCB3aXRoIHRoZSBzYW1lIHNvdXJjZSBhbmRcbiAgLy8gcHJvcGVydGllcyAoYGdsb2JhbGAsIGBtdWx0aWxpbmVgLCBgbGFzdEluZGV4YCwgYGlnbm9yZUNhc2VgKS5cbiAgfSBlbHNlIGlmICh1dGlsLmlzUmVnRXhwKGFjdHVhbCkgJiYgdXRpbC5pc1JlZ0V4cChleHBlY3RlZCkpIHtcbiAgICByZXR1cm4gYWN0dWFsLnNvdXJjZSA9PT0gZXhwZWN0ZWQuc291cmNlICYmXG4gICAgICAgICAgIGFjdHVhbC5nbG9iYWwgPT09IGV4cGVjdGVkLmdsb2JhbCAmJlxuICAgICAgICAgICBhY3R1YWwubXVsdGlsaW5lID09PSBleHBlY3RlZC5tdWx0aWxpbmUgJiZcbiAgICAgICAgICAgYWN0dWFsLmxhc3RJbmRleCA9PT0gZXhwZWN0ZWQubGFzdEluZGV4ICYmXG4gICAgICAgICAgIGFjdHVhbC5pZ25vcmVDYXNlID09PSBleHBlY3RlZC5pZ25vcmVDYXNlO1xuXG4gIC8vIDcuNC4gT3RoZXIgcGFpcnMgdGhhdCBkbyBub3QgYm90aCBwYXNzIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JyxcbiAgLy8gZXF1aXZhbGVuY2UgaXMgZGV0ZXJtaW5lZCBieSA9PS5cbiAgfSBlbHNlIGlmICgoYWN0dWFsID09PSBudWxsIHx8IHR5cGVvZiBhY3R1YWwgIT09ICdvYmplY3QnKSAmJlxuICAgICAgICAgICAgIChleHBlY3RlZCA9PT0gbnVsbCB8fCB0eXBlb2YgZXhwZWN0ZWQgIT09ICdvYmplY3QnKSkge1xuICAgIHJldHVybiBzdHJpY3QgPyBhY3R1YWwgPT09IGV4cGVjdGVkIDogYWN0dWFsID09IGV4cGVjdGVkO1xuXG4gIC8vIElmIGJvdGggdmFsdWVzIGFyZSBpbnN0YW5jZXMgb2YgdHlwZWQgYXJyYXlzLCB3cmFwIHRoZWlyIHVuZGVybHlpbmdcbiAgLy8gQXJyYXlCdWZmZXJzIGluIGEgQnVmZmVyIGVhY2ggdG8gaW5jcmVhc2UgcGVyZm9ybWFuY2VcbiAgLy8gVGhpcyBvcHRpbWl6YXRpb24gcmVxdWlyZXMgdGhlIGFycmF5cyB0byBoYXZlIHRoZSBzYW1lIHR5cGUgYXMgY2hlY2tlZCBieVxuICAvLyBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nIChha2EgcFRvU3RyaW5nKS4gTmV2ZXIgcGVyZm9ybSBiaW5hcnlcbiAgLy8gY29tcGFyaXNvbnMgZm9yIEZsb2F0KkFycmF5cywgdGhvdWdoLCBzaW5jZSBlLmcuICswID09PSAtMCBidXQgdGhlaXJcbiAgLy8gYml0IHBhdHRlcm5zIGFyZSBub3QgaWRlbnRpY2FsLlxuICB9IGVsc2UgaWYgKGlzVmlldyhhY3R1YWwpICYmIGlzVmlldyhleHBlY3RlZCkgJiZcbiAgICAgICAgICAgICBwVG9TdHJpbmcoYWN0dWFsKSA9PT0gcFRvU3RyaW5nKGV4cGVjdGVkKSAmJlxuICAgICAgICAgICAgICEoYWN0dWFsIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5IHx8XG4gICAgICAgICAgICAgICBhY3R1YWwgaW5zdGFuY2VvZiBGbG9hdDY0QXJyYXkpKSB7XG4gICAgcmV0dXJuIGNvbXBhcmUobmV3IFVpbnQ4QXJyYXkoYWN0dWFsLmJ1ZmZlciksXG4gICAgICAgICAgICAgICAgICAgbmV3IFVpbnQ4QXJyYXkoZXhwZWN0ZWQuYnVmZmVyKSkgPT09IDA7XG5cbiAgLy8gNy41IEZvciBhbGwgb3RoZXIgT2JqZWN0IHBhaXJzLCBpbmNsdWRpbmcgQXJyYXkgb2JqZWN0cywgZXF1aXZhbGVuY2UgaXNcbiAgLy8gZGV0ZXJtaW5lZCBieSBoYXZpbmcgdGhlIHNhbWUgbnVtYmVyIG9mIG93bmVkIHByb3BlcnRpZXMgKGFzIHZlcmlmaWVkXG4gIC8vIHdpdGggT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKSwgdGhlIHNhbWUgc2V0IG9mIGtleXNcbiAgLy8gKGFsdGhvdWdoIG5vdCBuZWNlc3NhcmlseSB0aGUgc2FtZSBvcmRlciksIGVxdWl2YWxlbnQgdmFsdWVzIGZvciBldmVyeVxuICAvLyBjb3JyZXNwb25kaW5nIGtleSwgYW5kIGFuIGlkZW50aWNhbCAncHJvdG90eXBlJyBwcm9wZXJ0eS4gTm90ZTogdGhpc1xuICAvLyBhY2NvdW50cyBmb3IgYm90aCBuYW1lZCBhbmQgaW5kZXhlZCBwcm9wZXJ0aWVzIG9uIEFycmF5cy5cbiAgfSBlbHNlIGlmIChpc0J1ZmZlcihhY3R1YWwpICE9PSBpc0J1ZmZlcihleHBlY3RlZCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgbWVtb3MgPSBtZW1vcyB8fCB7YWN0dWFsOiBbXSwgZXhwZWN0ZWQ6IFtdfTtcblxuICAgIHZhciBhY3R1YWxJbmRleCA9IG1lbW9zLmFjdHVhbC5pbmRleE9mKGFjdHVhbCk7XG4gICAgaWYgKGFjdHVhbEluZGV4ICE9PSAtMSkge1xuICAgICAgaWYgKGFjdHVhbEluZGV4ID09PSBtZW1vcy5leHBlY3RlZC5pbmRleE9mKGV4cGVjdGVkKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBtZW1vcy5hY3R1YWwucHVzaChhY3R1YWwpO1xuICAgIG1lbW9zLmV4cGVjdGVkLnB1c2goZXhwZWN0ZWQpO1xuXG4gICAgcmV0dXJuIG9iakVxdWl2KGFjdHVhbCwgZXhwZWN0ZWQsIHN0cmljdCwgbWVtb3MpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzQXJndW1lbnRzKG9iamVjdCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iamVjdCkgPT0gJ1tvYmplY3QgQXJndW1lbnRzXSc7XG59XG5cbmZ1bmN0aW9uIG9iakVxdWl2KGEsIGIsIHN0cmljdCwgYWN0dWFsVmlzaXRlZE9iamVjdHMpIHtcbiAgaWYgKGEgPT09IG51bGwgfHwgYSA9PT0gdW5kZWZpbmVkIHx8IGIgPT09IG51bGwgfHwgYiA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBmYWxzZTtcbiAgLy8gaWYgb25lIGlzIGEgcHJpbWl0aXZlLCB0aGUgb3RoZXIgbXVzdCBiZSBzYW1lXG4gIGlmICh1dGlsLmlzUHJpbWl0aXZlKGEpIHx8IHV0aWwuaXNQcmltaXRpdmUoYikpXG4gICAgcmV0dXJuIGEgPT09IGI7XG4gIGlmIChzdHJpY3QgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKGEpICE9PSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoYikpXG4gICAgcmV0dXJuIGZhbHNlO1xuICB2YXIgYUlzQXJncyA9IGlzQXJndW1lbnRzKGEpO1xuICB2YXIgYklzQXJncyA9IGlzQXJndW1lbnRzKGIpO1xuICBpZiAoKGFJc0FyZ3MgJiYgIWJJc0FyZ3MpIHx8ICghYUlzQXJncyAmJiBiSXNBcmdzKSlcbiAgICByZXR1cm4gZmFsc2U7XG4gIGlmIChhSXNBcmdzKSB7XG4gICAgYSA9IHBTbGljZS5jYWxsKGEpO1xuICAgIGIgPSBwU2xpY2UuY2FsbChiKTtcbiAgICByZXR1cm4gX2RlZXBFcXVhbChhLCBiLCBzdHJpY3QpO1xuICB9XG4gIHZhciBrYSA9IG9iamVjdEtleXMoYSk7XG4gIHZhciBrYiA9IG9iamVjdEtleXMoYik7XG4gIHZhciBrZXksIGk7XG4gIC8vIGhhdmluZyB0aGUgc2FtZSBudW1iZXIgb2Ygb3duZWQgcHJvcGVydGllcyAoa2V5cyBpbmNvcnBvcmF0ZXNcbiAgLy8gaGFzT3duUHJvcGVydHkpXG4gIGlmIChrYS5sZW5ndGggIT09IGtiLmxlbmd0aClcbiAgICByZXR1cm4gZmFsc2U7XG4gIC8vdGhlIHNhbWUgc2V0IG9mIGtleXMgKGFsdGhvdWdoIG5vdCBuZWNlc3NhcmlseSB0aGUgc2FtZSBvcmRlciksXG4gIGthLnNvcnQoKTtcbiAga2Iuc29ydCgpO1xuICAvL35+fmNoZWFwIGtleSB0ZXN0XG4gIGZvciAoaSA9IGthLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgaWYgKGthW2ldICE9PSBrYltpXSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvL2VxdWl2YWxlbnQgdmFsdWVzIGZvciBldmVyeSBjb3JyZXNwb25kaW5nIGtleSwgYW5kXG4gIC8vfn5+cG9zc2libHkgZXhwZW5zaXZlIGRlZXAgdGVzdFxuICBmb3IgKGkgPSBrYS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGtleSA9IGthW2ldO1xuICAgIGlmICghX2RlZXBFcXVhbChhW2tleV0sIGJba2V5XSwgc3RyaWN0LCBhY3R1YWxWaXNpdGVkT2JqZWN0cykpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8vIDguIFRoZSBub24tZXF1aXZhbGVuY2UgYXNzZXJ0aW9uIHRlc3RzIGZvciBhbnkgZGVlcCBpbmVxdWFsaXR5LlxuLy8gYXNzZXJ0Lm5vdERlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlX29wdCk7XG5cbmFzc2VydC5ub3REZWVwRXF1YWwgPSBmdW5jdGlvbiBub3REZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkge1xuICBpZiAoX2RlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBmYWxzZSkpIHtcbiAgICBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsICdub3REZWVwRXF1YWwnLCBhc3NlcnQubm90RGVlcEVxdWFsKTtcbiAgfVxufTtcblxuYXNzZXJ0Lm5vdERlZXBTdHJpY3RFcXVhbCA9IG5vdERlZXBTdHJpY3RFcXVhbDtcbmZ1bmN0aW9uIG5vdERlZXBTdHJpY3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7XG4gIGlmIChfZGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIHRydWUpKSB7XG4gICAgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCAnbm90RGVlcFN0cmljdEVxdWFsJywgbm90RGVlcFN0cmljdEVxdWFsKTtcbiAgfVxufVxuXG5cbi8vIDkuIFRoZSBzdHJpY3QgZXF1YWxpdHkgYXNzZXJ0aW9uIHRlc3RzIHN0cmljdCBlcXVhbGl0eSwgYXMgZGV0ZXJtaW5lZCBieSA9PT0uXG4vLyBhc3NlcnQuc3RyaWN0RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZV9vcHQpO1xuXG5hc3NlcnQuc3RyaWN0RXF1YWwgPSBmdW5jdGlvbiBzdHJpY3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7XG4gIGlmIChhY3R1YWwgIT09IGV4cGVjdGVkKSB7XG4gICAgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCAnPT09JywgYXNzZXJ0LnN0cmljdEVxdWFsKTtcbiAgfVxufTtcblxuLy8gMTAuIFRoZSBzdHJpY3Qgbm9uLWVxdWFsaXR5IGFzc2VydGlvbiB0ZXN0cyBmb3Igc3RyaWN0IGluZXF1YWxpdHksIGFzXG4vLyBkZXRlcm1pbmVkIGJ5ICE9PS4gIGFzc2VydC5ub3RTdHJpY3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlX29wdCk7XG5cbmFzc2VydC5ub3RTdHJpY3RFcXVhbCA9IGZ1bmN0aW9uIG5vdFN0cmljdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHtcbiAgaWYgKGFjdHVhbCA9PT0gZXhwZWN0ZWQpIHtcbiAgICBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsICchPT0nLCBhc3NlcnQubm90U3RyaWN0RXF1YWwpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBleHBlY3RlZEV4Y2VwdGlvbihhY3R1YWwsIGV4cGVjdGVkKSB7XG4gIGlmICghYWN0dWFsIHx8ICFleHBlY3RlZCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZXhwZWN0ZWQpID09ICdbb2JqZWN0IFJlZ0V4cF0nKSB7XG4gICAgcmV0dXJuIGV4cGVjdGVkLnRlc3QoYWN0dWFsKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgaWYgKGFjdHVhbCBpbnN0YW5jZW9mIGV4cGVjdGVkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBJZ25vcmUuICBUaGUgaW5zdGFuY2VvZiBjaGVjayBkb2Vzbid0IHdvcmsgZm9yIGFycm93IGZ1bmN0aW9ucy5cbiAgfVxuXG4gIGlmIChFcnJvci5pc1Byb3RvdHlwZU9mKGV4cGVjdGVkKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBleHBlY3RlZC5jYWxsKHt9LCBhY3R1YWwpID09PSB0cnVlO1xufVxuXG5mdW5jdGlvbiBfdHJ5QmxvY2soYmxvY2spIHtcbiAgdmFyIGVycm9yO1xuICB0cnkge1xuICAgIGJsb2NrKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBlcnJvciA9IGU7XG4gIH1cbiAgcmV0dXJuIGVycm9yO1xufVxuXG5mdW5jdGlvbiBfdGhyb3dzKHNob3VsZFRocm93LCBibG9jaywgZXhwZWN0ZWQsIG1lc3NhZ2UpIHtcbiAgdmFyIGFjdHVhbDtcblxuICBpZiAodHlwZW9mIGJsb2NrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJibG9ja1wiIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBleHBlY3RlZCA9PT0gJ3N0cmluZycpIHtcbiAgICBtZXNzYWdlID0gZXhwZWN0ZWQ7XG4gICAgZXhwZWN0ZWQgPSBudWxsO1xuICB9XG5cbiAgYWN0dWFsID0gX3RyeUJsb2NrKGJsb2NrKTtcblxuICBtZXNzYWdlID0gKGV4cGVjdGVkICYmIGV4cGVjdGVkLm5hbWUgPyAnICgnICsgZXhwZWN0ZWQubmFtZSArICcpLicgOiAnLicpICtcbiAgICAgICAgICAgIChtZXNzYWdlID8gJyAnICsgbWVzc2FnZSA6ICcuJyk7XG5cbiAgaWYgKHNob3VsZFRocm93ICYmICFhY3R1YWwpIHtcbiAgICBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsICdNaXNzaW5nIGV4cGVjdGVkIGV4Y2VwdGlvbicgKyBtZXNzYWdlKTtcbiAgfVxuXG4gIHZhciB1c2VyUHJvdmlkZWRNZXNzYWdlID0gdHlwZW9mIG1lc3NhZ2UgPT09ICdzdHJpbmcnO1xuICB2YXIgaXNVbndhbnRlZEV4Y2VwdGlvbiA9ICFzaG91bGRUaHJvdyAmJiB1dGlsLmlzRXJyb3IoYWN0dWFsKTtcbiAgdmFyIGlzVW5leHBlY3RlZEV4Y2VwdGlvbiA9ICFzaG91bGRUaHJvdyAmJiBhY3R1YWwgJiYgIWV4cGVjdGVkO1xuXG4gIGlmICgoaXNVbndhbnRlZEV4Y2VwdGlvbiAmJlxuICAgICAgdXNlclByb3ZpZGVkTWVzc2FnZSAmJlxuICAgICAgZXhwZWN0ZWRFeGNlcHRpb24oYWN0dWFsLCBleHBlY3RlZCkpIHx8XG4gICAgICBpc1VuZXhwZWN0ZWRFeGNlcHRpb24pIHtcbiAgICBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsICdHb3QgdW53YW50ZWQgZXhjZXB0aW9uJyArIG1lc3NhZ2UpO1xuICB9XG5cbiAgaWYgKChzaG91bGRUaHJvdyAmJiBhY3R1YWwgJiYgZXhwZWN0ZWQgJiZcbiAgICAgICFleHBlY3RlZEV4Y2VwdGlvbihhY3R1YWwsIGV4cGVjdGVkKSkgfHwgKCFzaG91bGRUaHJvdyAmJiBhY3R1YWwpKSB7XG4gICAgdGhyb3cgYWN0dWFsO1xuICB9XG59XG5cbi8vIDExLiBFeHBlY3RlZCB0byB0aHJvdyBhbiBlcnJvcjpcbi8vIGFzc2VydC50aHJvd3MoYmxvY2ssIEVycm9yX29wdCwgbWVzc2FnZV9vcHQpO1xuXG5hc3NlcnQudGhyb3dzID0gZnVuY3Rpb24oYmxvY2ssIC8qb3B0aW9uYWwqL2Vycm9yLCAvKm9wdGlvbmFsKi9tZXNzYWdlKSB7XG4gIF90aHJvd3ModHJ1ZSwgYmxvY2ssIGVycm9yLCBtZXNzYWdlKTtcbn07XG5cbi8vIEVYVEVOU0lPTiEgVGhpcyBpcyBhbm5veWluZyB0byB3cml0ZSBvdXRzaWRlIHRoaXMgbW9kdWxlLlxuYXNzZXJ0LmRvZXNOb3RUaHJvdyA9IGZ1bmN0aW9uKGJsb2NrLCAvKm9wdGlvbmFsKi9lcnJvciwgLypvcHRpb25hbCovbWVzc2FnZSkge1xuICBfdGhyb3dzKGZhbHNlLCBibG9jaywgZXJyb3IsIG1lc3NhZ2UpO1xufTtcblxuYXNzZXJ0LmlmRXJyb3IgPSBmdW5jdGlvbihlcnIpIHsgaWYgKGVycikgdGhyb3cgZXJyOyB9O1xuXG4vLyBFeHBvc2UgYSBzdHJpY3Qgb25seSB2YXJpYW50IG9mIGFzc2VydFxuZnVuY3Rpb24gc3RyaWN0KHZhbHVlLCBtZXNzYWdlKSB7XG4gIGlmICghdmFsdWUpIGZhaWwodmFsdWUsIHRydWUsIG1lc3NhZ2UsICc9PScsIHN0cmljdCk7XG59XG5hc3NlcnQuc3RyaWN0ID0gb2JqZWN0QXNzaWduKHN0cmljdCwgYXNzZXJ0LCB7XG4gIGVxdWFsOiBhc3NlcnQuc3RyaWN0RXF1YWwsXG4gIGRlZXBFcXVhbDogYXNzZXJ0LmRlZXBTdHJpY3RFcXVhbCxcbiAgbm90RXF1YWw6IGFzc2VydC5ub3RTdHJpY3RFcXVhbCxcbiAgbm90RGVlcEVxdWFsOiBhc3NlcnQubm90RGVlcFN0cmljdEVxdWFsXG59KTtcbmFzc2VydC5zdHJpY3Quc3RyaWN0ID0gYXNzZXJ0LnN0cmljdDtcblxudmFyIG9iamVjdEtleXMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiAob2JqKSB7XG4gIHZhciBrZXlzID0gW107XG4gIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICBpZiAoaGFzT3duLmNhbGwob2JqLCBrZXkpKSBrZXlzLnB1c2goa2V5KTtcbiAgfVxuICByZXR1cm4ga2V5cztcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBudW1iZXI6IHJlcXVpcmUoJy4vc3JjL2NhcmQtbnVtYmVyJyksXG4gIGV4cGlyYXRpb25EYXRlOiByZXF1aXJlKCcuL3NyYy9leHBpcmF0aW9uLWRhdGUnKSxcbiAgZXhwaXJhdGlvbk1vbnRoOiByZXF1aXJlKCcuL3NyYy9leHBpcmF0aW9uLW1vbnRoJyksXG4gIGV4cGlyYXRpb25ZZWFyOiByZXF1aXJlKCcuL3NyYy9leHBpcmF0aW9uLXllYXInKSxcbiAgY3Z2OiByZXF1aXJlKCcuL3NyYy9jdnYnKSxcbiAgcG9zdGFsQ29kZTogcmVxdWlyZSgnLi9zcmMvcG9zdGFsLWNvZGUnKSxcbiAgY3JlZGl0Q2FyZFR5cGU6IHJlcXVpcmUoJ2NyZWRpdC1jYXJkLXR5cGUnKVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGx1aG4xMCA9IHJlcXVpcmUoJy4vbHVobi0xMCcpO1xudmFyIGdldENhcmRUeXBlcyA9IHJlcXVpcmUoJ2NyZWRpdC1jYXJkLXR5cGUnKTtcblxuZnVuY3Rpb24gdmVyaWZpY2F0aW9uKGNhcmQsIGlzUG90ZW50aWFsbHlWYWxpZCwgaXNWYWxpZCkge1xuICByZXR1cm4ge2NhcmQ6IGNhcmQsIGlzUG90ZW50aWFsbHlWYWxpZDogaXNQb3RlbnRpYWxseVZhbGlkLCBpc1ZhbGlkOiBpc1ZhbGlkfTtcbn1cblxuZnVuY3Rpb24gY2FyZE51bWJlcih2YWx1ZSwgb3B0aW9ucykge1xuICB2YXIgcG90ZW50aWFsVHlwZXMsIGNhcmRUeXBlLCBpc1BvdGVudGlhbGx5VmFsaWQsIGlzVmFsaWQsIGksIG1heExlbmd0aDtcblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgIHZhbHVlID0gU3RyaW5nKHZhbHVlKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7IHJldHVybiB2ZXJpZmljYXRpb24obnVsbCwgZmFsc2UsIGZhbHNlKTsgfVxuXG4gIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvXFwtfFxccy9nLCAnJyk7XG5cbiAgaWYgKCEvXlxcZCokLy50ZXN0KHZhbHVlKSkgeyByZXR1cm4gdmVyaWZpY2F0aW9uKG51bGwsIGZhbHNlLCBmYWxzZSk7IH1cblxuICBwb3RlbnRpYWxUeXBlcyA9IGdldENhcmRUeXBlcyh2YWx1ZSk7XG5cbiAgaWYgKHBvdGVudGlhbFR5cGVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB2ZXJpZmljYXRpb24obnVsbCwgZmFsc2UsIGZhbHNlKTtcbiAgfSBlbHNlIGlmIChwb3RlbnRpYWxUeXBlcy5sZW5ndGggIT09IDEpIHtcbiAgICByZXR1cm4gdmVyaWZpY2F0aW9uKG51bGwsIHRydWUsIGZhbHNlKTtcbiAgfVxuXG4gIGNhcmRUeXBlID0gcG90ZW50aWFsVHlwZXNbMF07XG5cbiAgaWYgKG9wdGlvbnMubWF4TGVuZ3RoICYmIHZhbHVlLmxlbmd0aCA+IG9wdGlvbnMubWF4TGVuZ3RoKSB7XG4gICAgcmV0dXJuIHZlcmlmaWNhdGlvbihjYXJkVHlwZSwgZmFsc2UsIGZhbHNlKTtcbiAgfVxuXG4gIGlmIChjYXJkVHlwZS50eXBlID09PSBnZXRDYXJkVHlwZXMudHlwZXMuVU5JT05QQVkgJiYgb3B0aW9ucy5sdWhuVmFsaWRhdGVVbmlvblBheSAhPT0gdHJ1ZSkge1xuICAgIGlzVmFsaWQgPSB0cnVlO1xuICB9IGVsc2Uge1xuICAgIGlzVmFsaWQgPSBsdWhuMTAodmFsdWUpO1xuICB9XG5cbiAgbWF4TGVuZ3RoID0gTWF0aC5tYXguYXBwbHkobnVsbCwgY2FyZFR5cGUubGVuZ3Rocyk7XG4gIGlmIChvcHRpb25zLm1heExlbmd0aCkge1xuICAgIG1heExlbmd0aCA9IE1hdGgubWluKG9wdGlvbnMubWF4TGVuZ3RoLCBtYXhMZW5ndGgpO1xuICB9XG5cbiAgZm9yIChpID0gMDsgaSA8IGNhcmRUeXBlLmxlbmd0aHMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoY2FyZFR5cGUubGVuZ3Roc1tpXSA9PT0gdmFsdWUubGVuZ3RoKSB7XG4gICAgICBpc1BvdGVudGlhbGx5VmFsaWQgPSB2YWx1ZS5sZW5ndGggPCBtYXhMZW5ndGggfHwgaXNWYWxpZDtcblxuICAgICAgcmV0dXJuIHZlcmlmaWNhdGlvbihjYXJkVHlwZSwgaXNQb3RlbnRpYWxseVZhbGlkLCBpc1ZhbGlkKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdmVyaWZpY2F0aW9uKGNhcmRUeXBlLCB2YWx1ZS5sZW5ndGggPCBtYXhMZW5ndGgsIGZhbHNlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjYXJkTnVtYmVyO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgREVGQVVMVF9MRU5HVEggPSAzO1xuXG5mdW5jdGlvbiBpbmNsdWRlcyhhcnJheSwgdGhpbmcpIHtcbiAgdmFyIGkgPSAwO1xuXG4gIGZvciAoOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAodGhpbmcgPT09IGFycmF5W2ldKSB7IHJldHVybiB0cnVlOyB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIG1heChhcnJheSkge1xuICB2YXIgbWF4aW11bSA9IERFRkFVTFRfTEVOR1RIO1xuICB2YXIgaSA9IDA7XG5cbiAgZm9yICg7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgIG1heGltdW0gPSBhcnJheVtpXSA+IG1heGltdW0gPyBhcnJheVtpXSA6IG1heGltdW07XG4gIH1cblxuICByZXR1cm4gbWF4aW11bTtcbn1cblxuZnVuY3Rpb24gdmVyaWZpY2F0aW9uKGlzVmFsaWQsIGlzUG90ZW50aWFsbHlWYWxpZCkge1xuICByZXR1cm4ge2lzVmFsaWQ6IGlzVmFsaWQsIGlzUG90ZW50aWFsbHlWYWxpZDogaXNQb3RlbnRpYWxseVZhbGlkfTtcbn1cblxuZnVuY3Rpb24gY3Z2KHZhbHVlLCBtYXhMZW5ndGgpIHtcbiAgbWF4TGVuZ3RoID0gbWF4TGVuZ3RoIHx8IERFRkFVTFRfTEVOR1RIO1xuICBtYXhMZW5ndGggPSBtYXhMZW5ndGggaW5zdGFuY2VvZiBBcnJheSA/IG1heExlbmd0aCA6IFttYXhMZW5ndGhdO1xuXG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7IHJldHVybiB2ZXJpZmljYXRpb24oZmFsc2UsIGZhbHNlKTsgfVxuICBpZiAoIS9eXFxkKiQvLnRlc3QodmFsdWUpKSB7IHJldHVybiB2ZXJpZmljYXRpb24oZmFsc2UsIGZhbHNlKTsgfVxuICBpZiAoaW5jbHVkZXMobWF4TGVuZ3RoLCB2YWx1ZS5sZW5ndGgpKSB7IHJldHVybiB2ZXJpZmljYXRpb24odHJ1ZSwgdHJ1ZSk7IH1cbiAgaWYgKHZhbHVlLmxlbmd0aCA8IE1hdGgubWluLmFwcGx5KG51bGwsIG1heExlbmd0aCkpIHsgcmV0dXJuIHZlcmlmaWNhdGlvbihmYWxzZSwgdHJ1ZSk7IH1cbiAgaWYgKHZhbHVlLmxlbmd0aCA+IG1heChtYXhMZW5ndGgpKSB7IHJldHVybiB2ZXJpZmljYXRpb24oZmFsc2UsIGZhbHNlKTsgfVxuXG4gIHJldHVybiB2ZXJpZmljYXRpb24odHJ1ZSwgdHJ1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY3Z2O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgcGFyc2VEYXRlID0gcmVxdWlyZSgnLi9wYXJzZS1kYXRlJyk7XG52YXIgZXhwaXJhdGlvbk1vbnRoID0gcmVxdWlyZSgnLi9leHBpcmF0aW9uLW1vbnRoJyk7XG52YXIgZXhwaXJhdGlvblllYXIgPSByZXF1aXJlKCcuL2V4cGlyYXRpb24teWVhcicpO1xuXG5mdW5jdGlvbiB2ZXJpZmljYXRpb24oaXNWYWxpZCwgaXNQb3RlbnRpYWxseVZhbGlkLCBtb250aCwgeWVhcikge1xuICByZXR1cm4ge1xuICAgIGlzVmFsaWQ6IGlzVmFsaWQsXG4gICAgaXNQb3RlbnRpYWxseVZhbGlkOiBpc1BvdGVudGlhbGx5VmFsaWQsXG4gICAgbW9udGg6IG1vbnRoLFxuICAgIHllYXI6IHllYXJcbiAgfTtcbn1cblxuZnVuY3Rpb24gZXhwaXJhdGlvbkRhdGUodmFsdWUsIG1heEVsYXBzZWRZZWFyKSB7XG4gIHZhciBkYXRlLCBtb250aFZhbGlkLCB5ZWFyVmFsaWQsIGlzVmFsaWRGb3JUaGlzWWVhcjtcblxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvXihcXGRcXGQpIChcXGRcXGQoXFxkXFxkKT8pJC8sICckMS8kMicpO1xuICAgIGRhdGUgPSBwYXJzZURhdGUodmFsdWUpO1xuICB9IGVsc2UgaWYgKHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICBkYXRlID0ge1xuICAgICAgbW9udGg6IFN0cmluZyh2YWx1ZS5tb250aCksXG4gICAgICB5ZWFyOiBTdHJpbmcodmFsdWUueWVhcilcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB2ZXJpZmljYXRpb24oZmFsc2UsIGZhbHNlLCBudWxsLCBudWxsKTtcbiAgfVxuXG4gIG1vbnRoVmFsaWQgPSBleHBpcmF0aW9uTW9udGgoZGF0ZS5tb250aCk7XG4gIHllYXJWYWxpZCA9IGV4cGlyYXRpb25ZZWFyKGRhdGUueWVhciwgbWF4RWxhcHNlZFllYXIpO1xuXG4gIGlmIChtb250aFZhbGlkLmlzVmFsaWQpIHtcbiAgICBpZiAoeWVhclZhbGlkLmlzQ3VycmVudFllYXIpIHtcbiAgICAgIGlzVmFsaWRGb3JUaGlzWWVhciA9IG1vbnRoVmFsaWQuaXNWYWxpZEZvclRoaXNZZWFyO1xuXG4gICAgICByZXR1cm4gdmVyaWZpY2F0aW9uKGlzVmFsaWRGb3JUaGlzWWVhciwgaXNWYWxpZEZvclRoaXNZZWFyLCBkYXRlLm1vbnRoLCBkYXRlLnllYXIpO1xuICAgIH1cblxuICAgIGlmICh5ZWFyVmFsaWQuaXNWYWxpZCkge1xuICAgICAgcmV0dXJuIHZlcmlmaWNhdGlvbih0cnVlLCB0cnVlLCBkYXRlLm1vbnRoLCBkYXRlLnllYXIpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChtb250aFZhbGlkLmlzUG90ZW50aWFsbHlWYWxpZCAmJiB5ZWFyVmFsaWQuaXNQb3RlbnRpYWxseVZhbGlkKSB7XG4gICAgcmV0dXJuIHZlcmlmaWNhdGlvbihmYWxzZSwgdHJ1ZSwgbnVsbCwgbnVsbCk7XG4gIH1cblxuICByZXR1cm4gdmVyaWZpY2F0aW9uKGZhbHNlLCBmYWxzZSwgbnVsbCwgbnVsbCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwaXJhdGlvbkRhdGU7XG4iLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIHZlcmlmaWNhdGlvbihpc1ZhbGlkLCBpc1BvdGVudGlhbGx5VmFsaWQsIGlzVmFsaWRGb3JUaGlzWWVhcikge1xuICByZXR1cm4ge1xuICAgIGlzVmFsaWQ6IGlzVmFsaWQsXG4gICAgaXNQb3RlbnRpYWxseVZhbGlkOiBpc1BvdGVudGlhbGx5VmFsaWQsXG4gICAgaXNWYWxpZEZvclRoaXNZZWFyOiBpc1ZhbGlkRm9yVGhpc1llYXIgfHwgZmFsc2VcbiAgfTtcbn1cblxuZnVuY3Rpb24gZXhwaXJhdGlvbk1vbnRoKHZhbHVlKSB7XG4gIHZhciBtb250aCwgcmVzdWx0O1xuICB2YXIgY3VycmVudE1vbnRoID0gbmV3IERhdGUoKS5nZXRNb250aCgpICsgMTtcblxuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2ZXJpZmljYXRpb24oZmFsc2UsIGZhbHNlKTtcbiAgfVxuICBpZiAodmFsdWUucmVwbGFjZSgvXFxzL2csICcnKSA9PT0gJycgfHwgdmFsdWUgPT09ICcwJykge1xuICAgIHJldHVybiB2ZXJpZmljYXRpb24oZmFsc2UsIHRydWUpO1xuICB9XG4gIGlmICghL15cXGQqJC8udGVzdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmVyaWZpY2F0aW9uKGZhbHNlLCBmYWxzZSk7XG4gIH1cblxuICBtb250aCA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG5cbiAgaWYgKGlzTmFOKHZhbHVlKSkge1xuICAgIHJldHVybiB2ZXJpZmljYXRpb24oZmFsc2UsIGZhbHNlKTtcbiAgfVxuXG4gIHJlc3VsdCA9IG1vbnRoID4gMCAmJiBtb250aCA8IDEzO1xuXG4gIHJldHVybiB2ZXJpZmljYXRpb24ocmVzdWx0LCByZXN1bHQsIHJlc3VsdCAmJiBtb250aCA+PSBjdXJyZW50TW9udGgpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cGlyYXRpb25Nb250aDtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIERFRkFVTFRfVkFMSURfTlVNQkVSX09GX1lFQVJTX0lOX1RIRV9GVVRVUkUgPSAxOTtcblxuZnVuY3Rpb24gdmVyaWZpY2F0aW9uKGlzVmFsaWQsIGlzUG90ZW50aWFsbHlWYWxpZCwgaXNDdXJyZW50WWVhcikge1xuICByZXR1cm4ge1xuICAgIGlzVmFsaWQ6IGlzVmFsaWQsXG4gICAgaXNQb3RlbnRpYWxseVZhbGlkOiBpc1BvdGVudGlhbGx5VmFsaWQsXG4gICAgaXNDdXJyZW50WWVhcjogaXNDdXJyZW50WWVhciB8fCBmYWxzZVxuICB9O1xufVxuXG5mdW5jdGlvbiBleHBpcmF0aW9uWWVhcih2YWx1ZSwgbWF4RWxhcHNlZFllYXIpIHtcbiAgdmFyIGN1cnJlbnRGaXJzdFR3bywgY3VycmVudFllYXIsIGZpcnN0VHdvLCBsZW4sIHR3b0RpZ2l0WWVhciwgdmFsaWQsIGlzQ3VycmVudFllYXI7XG5cbiAgbWF4RWxhcHNlZFllYXIgPSBtYXhFbGFwc2VkWWVhciB8fCBERUZBVUxUX1ZBTElEX05VTUJFUl9PRl9ZRUFSU19JTl9USEVfRlVUVVJFO1xuXG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZlcmlmaWNhdGlvbihmYWxzZSwgZmFsc2UpO1xuICB9XG4gIGlmICh2YWx1ZS5yZXBsYWNlKC9cXHMvZywgJycpID09PSAnJykge1xuICAgIHJldHVybiB2ZXJpZmljYXRpb24oZmFsc2UsIHRydWUpO1xuICB9XG4gIGlmICghL15cXGQqJC8udGVzdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmVyaWZpY2F0aW9uKGZhbHNlLCBmYWxzZSk7XG4gIH1cblxuICBsZW4gPSB2YWx1ZS5sZW5ndGg7XG5cbiAgaWYgKGxlbiA8IDIpIHtcbiAgICByZXR1cm4gdmVyaWZpY2F0aW9uKGZhbHNlLCB0cnVlKTtcbiAgfVxuXG4gIGN1cnJlbnRZZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpO1xuXG4gIGlmIChsZW4gPT09IDMpIHtcbiAgICAvLyAyMHggPT09IDIweFxuICAgIGZpcnN0VHdvID0gdmFsdWUuc2xpY2UoMCwgMik7XG4gICAgY3VycmVudEZpcnN0VHdvID0gU3RyaW5nKGN1cnJlbnRZZWFyKS5zbGljZSgwLCAyKTtcblxuICAgIHJldHVybiB2ZXJpZmljYXRpb24oZmFsc2UsIGZpcnN0VHdvID09PSBjdXJyZW50Rmlyc3RUd28pO1xuICB9XG5cbiAgaWYgKGxlbiA+IDQpIHtcbiAgICByZXR1cm4gdmVyaWZpY2F0aW9uKGZhbHNlLCBmYWxzZSk7XG4gIH1cblxuICB2YWx1ZSA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gIHR3b0RpZ2l0WWVhciA9IE51bWJlcihTdHJpbmcoY3VycmVudFllYXIpLnN1YnN0cigyLCAyKSk7XG5cbiAgaWYgKGxlbiA9PT0gMikge1xuICAgIGlzQ3VycmVudFllYXIgPSB0d29EaWdpdFllYXIgPT09IHZhbHVlO1xuICAgIHZhbGlkID0gdmFsdWUgPj0gdHdvRGlnaXRZZWFyICYmIHZhbHVlIDw9IHR3b0RpZ2l0WWVhciArIG1heEVsYXBzZWRZZWFyO1xuICB9IGVsc2UgaWYgKGxlbiA9PT0gNCkge1xuICAgIGlzQ3VycmVudFllYXIgPSBjdXJyZW50WWVhciA9PT0gdmFsdWU7XG4gICAgdmFsaWQgPSB2YWx1ZSA+PSBjdXJyZW50WWVhciAmJiB2YWx1ZSA8PSBjdXJyZW50WWVhciArIG1heEVsYXBzZWRZZWFyO1xuICB9XG5cbiAgcmV0dXJuIHZlcmlmaWNhdGlvbih2YWxpZCwgdmFsaWQsIGlzQ3VycmVudFllYXIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cGlyYXRpb25ZZWFyO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vLyBQb2x5ZmlsbCB0YWtlbiBmcm9tIDxodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9pc0FycmF5I1BvbHlmaWxsPi5cblxubW9kdWxlLmV4cG9ydHMgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIChhcmcpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmcpID09PSAnW29iamVjdCBBcnJheV0nO1xufTtcbiIsIi8qXG4gKiBMdWhuIGFsZ29yaXRobSBpbXBsZW1lbnRhdGlvbiBpbiBKYXZhU2NyaXB0XG4gKiBDb3B5cmlnaHQgKGMpIDIwMDkgTmljaG9sYXMgQy4gWmFrYXNcbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICovXG4ndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIGx1aG4xMChpZGVudGlmaWVyKSB7XG4gIHZhciBzdW0gPSAwO1xuICB2YXIgYWx0ID0gZmFsc2U7XG4gIHZhciBpID0gaWRlbnRpZmllci5sZW5ndGggLSAxO1xuICB2YXIgbnVtO1xuXG4gIHdoaWxlIChpID49IDApIHtcbiAgICBudW0gPSBwYXJzZUludChpZGVudGlmaWVyLmNoYXJBdChpKSwgMTApO1xuXG4gICAgaWYgKGFsdCkge1xuICAgICAgbnVtICo9IDI7XG4gICAgICBpZiAobnVtID4gOSkge1xuICAgICAgICBudW0gPSAobnVtICUgMTApICsgMTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1leHRyYS1wYXJlbnNcbiAgICAgIH1cbiAgICB9XG5cbiAgICBhbHQgPSAhYWx0O1xuXG4gICAgc3VtICs9IG51bTtcblxuICAgIGktLTtcbiAgfVxuXG4gIHJldHVybiBzdW0gJSAxMCA9PT0gMDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBsdWhuMTA7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBleHBpcmF0aW9uWWVhciA9IHJlcXVpcmUoJy4vZXhwaXJhdGlvbi15ZWFyJyk7XG52YXIgaXNBcnJheSA9IHJlcXVpcmUoJy4vbGliL2lzLWFycmF5Jyk7XG5cbmZ1bmN0aW9uIGdldE51bWJlck9mTW9udGhEaWdpdHNJbkRhdGVTdHJpbmcoZGF0ZVN0cmluZykge1xuICB2YXIgZmlyc3RDaGFyYWN0ZXIgPSBOdW1iZXIoZGF0ZVN0cmluZ1swXSk7XG4gIHZhciBhc3N1bWVkWWVhcjtcblxuICAvKlxuICAgIGlmIHRoZSBmaXJzdCBjaGFyYWN0ZXIgaW4gdGhlIHN0cmluZyBzdGFydHMgd2l0aCBgMGAsXG4gICAgd2Uga25vdyB0aGF0IHRoZSBtb250aCB3aWxsIGJlIDIgZGlnaXRzLlxuXG4gICAgJzAxMjInID0+IHttb250aDogJzAxJywgeWVhcjogJzIyJ31cbiAgKi9cbiAgaWYgKGZpcnN0Q2hhcmFjdGVyID09PSAwKSB7XG4gICAgcmV0dXJuIDI7XG4gIH1cblxuICAvKlxuICAgIGlmIHRoZSBmaXJzdCBjaGFyYWN0ZXIgaW4gdGhlIHN0cmluZyBzdGFydHMgd2l0aFxuICAgIG51bWJlciBncmVhdGVyIHRoYW4gMSwgaXQgbXVzdCBiZSBhIDEgZGlnaXQgbW9udGhcblxuICAgICczMjInID0+IHttb250aDogJzMnLCB5ZWFyOiAnMjInfVxuICAqL1xuICBpZiAoZmlyc3RDaGFyYWN0ZXIgPiAxKSB7XG4gICAgcmV0dXJuIDE7XG4gIH1cblxuICAvKlxuICAgIGlmIHRoZSBmaXJzdCAyIGNoYXJhY3RlcnMgbWFrZSB1cCBhIG51bWJlciBiZXR3ZWVuXG4gICAgMTMtMTksIHdlIGtub3cgdGhhdCB0aGUgbW9udGggcG9ydGlvbiBtdXN0IGJlIDFcblxuICAgICcxMzknID0+IHttb250aDogJzEnLCB5ZWFyOiAnMzknfVxuICAqL1xuICBpZiAoZmlyc3RDaGFyYWN0ZXIgPT09IDEgJiYgTnVtYmVyKGRhdGVTdHJpbmdbMV0pID4gMikge1xuICAgIHJldHVybiAxO1xuICB9XG5cbiAgLypcbiAgICBpZiB0aGUgZmlyc3QgMiBjaGFyYWN0ZXJzIG1ha2UgdXAgYSBudW1iZXIgYmV0d2VlblxuICAgIDEwLTEyLCB3ZSBjaGVjayBpZiB0aGUgeWVhciBwb3J0aW9uIHdvdWxkIGJlIGNvbnNpZGVyZWRcbiAgICB2YWxpZCBpZiB3ZSBhc3N1bWVkIHRoYXQgdGhlIG1vbnRoIHdhcyAxLiBJZiBpdCBpc1xuICAgIG5vdCBwb3RlbnRpYWxseSB2YWxpZCwgd2UgYXNzdW1lIHRoZSBtb250aCBtdXN0IGhhdmVcbiAgICAyIGRpZ2l0cy5cblxuICAgICcxMDknID0+IHttb250aDogJzEwJywgeWVhcjogJzknfVxuICAgICcxMjAnID0+IHttb250aDogJzEnLCB5ZWFyOiAnMjAnfSAvLyB3aGVuIGNoZWNrZWQgaW4gdGhlIHllYXIgMjAxOVxuICAgICcxMjAnID0+IHttb250aDogJzEyJywgeWVhcjogJzAnfSAvLyB3aGVuIGNoZWNrZWQgaW4gdGhlIHllYXIgMjAyMVxuICAqL1xuICBpZiAoZmlyc3RDaGFyYWN0ZXIgPT09IDEpIHtcbiAgICBhc3N1bWVkWWVhciA9IGRhdGVTdHJpbmcuc3Vic3RyKDEpO1xuXG4gICAgcmV0dXJuIGV4cGlyYXRpb25ZZWFyKGFzc3VtZWRZZWFyKS5pc1BvdGVudGlhbGx5VmFsaWQgPyAxIDogMjtcbiAgfVxuXG4gIC8qXG4gICAgSWYgdGhlIGxlbmd0aCBvZiB0aGUgdmFsdWUgaXMgZXhhY3RseSA1IGNoYXJhY3RlcnMsXG4gICAgd2UgYXNzdW1lIGEgZnVsbCB5ZWFyIHdhcyBwYXNzZWQgaW4sIG1lYW5pbmcgdGhlIHJlbWFpbmluZ1xuICAgIHNpbmdsZSBsZWFkaW5nIGRpZ2l0IG11c3QgYmUgdGhlIG1vbnRoIHZhbHVlLlxuXG4gICAgJzEyMjAyJyA9PiB7bW9udGg6ICcxJywgeWVhcjogJzIyMDInfVxuICAqL1xuICBpZiAoZGF0ZVN0cmluZy5sZW5ndGggPT09IDUpIHtcbiAgICByZXR1cm4gMTtcbiAgfVxuXG4gIC8qXG4gICAgSWYgdGhlIGxlbmd0aCBvZiB0aGUgdmFsdWUgaXMgbW9yZSB0aGFuIGZpdmUgY2hhcmFjdGVycyxcbiAgICB3ZSBhc3N1bWUgYSBmdWxsIHllYXIgd2FzIHBhc3NlZCBpbiBhZGRpdGlvbiB0byB0aGUgbW9udGhcbiAgICBhbmQgdGhlcmVmb3JlIHRoZSBtb250aCBwb3J0aW9uIG11c3QgYmUgMiBkaWdpdHMuXG5cbiAgICAnMTEyMDIwJyA9PiB7bW9udGg6ICcxMScsIHllYXI6ICcyMDIwJ31cbiAgKi9cbiAgaWYgKGRhdGVTdHJpbmcubGVuZ3RoID4gNSkge1xuICAgIHJldHVybiAyO1xuICB9XG5cbiAgLypcbiAgICBCeSBkZWZhdWx0LCB0aGUgbW9udGggdmFsdWUgaXMgdGhlIGZpcnN0IHZhbHVlXG4gICovXG4gIHJldHVybiAxO1xufVxuXG5mdW5jdGlvbiBwYXJzZURhdGUoZGF0ZSkge1xuICB2YXIgbW9udGgsIG51bWJlck9mRGlnaXRzSW5Nb250aDtcblxuICBpZiAoL15cXGR7NH0tXFxkezEsMn0kLy50ZXN0KGRhdGUpKSB7XG4gICAgZGF0ZSA9IGRhdGUuc3BsaXQoJy0nKS5yZXZlcnNlKCk7XG4gIH0gZWxzZSBpZiAoL1xcLy8udGVzdChkYXRlKSkge1xuICAgIGRhdGUgPSBkYXRlLnNwbGl0KC9cXHMqXFwvXFxzKi9nKTtcbiAgfSBlbHNlIGlmICgvXFxzLy50ZXN0KGRhdGUpKSB7XG4gICAgZGF0ZSA9IGRhdGUuc3BsaXQoLyArL2cpO1xuICB9XG5cbiAgaWYgKGlzQXJyYXkoZGF0ZSkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbW9udGg6IGRhdGVbMF0gfHwgJycsXG4gICAgICB5ZWFyOiBkYXRlLnNsaWNlKDEpLmpvaW4oKVxuICAgIH07XG4gIH1cblxuICBudW1iZXJPZkRpZ2l0c0luTW9udGggPSBnZXROdW1iZXJPZk1vbnRoRGlnaXRzSW5EYXRlU3RyaW5nKGRhdGUpO1xuXG4gIG1vbnRoID0gZGF0ZS5zdWJzdHIoMCwgbnVtYmVyT2ZEaWdpdHNJbk1vbnRoKTtcblxuICByZXR1cm4ge1xuICAgIG1vbnRoOiBtb250aCxcbiAgICB5ZWFyOiBkYXRlLnN1YnN0cihtb250aC5sZW5ndGgpXG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyc2VEYXRlO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgREVGQVVMVF9NSU5fUE9TVEFMX0NPREVfTEVOR1RIID0gMztcblxuZnVuY3Rpb24gdmVyaWZpY2F0aW9uKGlzVmFsaWQsIGlzUG90ZW50aWFsbHlWYWxpZCkge1xuICByZXR1cm4ge2lzVmFsaWQ6IGlzVmFsaWQsIGlzUG90ZW50aWFsbHlWYWxpZDogaXNQb3RlbnRpYWxseVZhbGlkfTtcbn1cblxuZnVuY3Rpb24gcG9zdGFsQ29kZSh2YWx1ZSwgb3B0aW9ucykge1xuICB2YXIgbWluTGVuZ3RoO1xuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIG1pbkxlbmd0aCA9IG9wdGlvbnMubWluTGVuZ3RoIHx8IERFRkFVTFRfTUlOX1BPU1RBTF9DT0RFX0xFTkdUSDtcblxuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2ZXJpZmljYXRpb24oZmFsc2UsIGZhbHNlKTtcbiAgfSBlbHNlIGlmICh2YWx1ZS5sZW5ndGggPCBtaW5MZW5ndGgpIHtcbiAgICByZXR1cm4gdmVyaWZpY2F0aW9uKGZhbHNlLCB0cnVlKTtcbiAgfVxuXG4gIHJldHVybiB2ZXJpZmljYXRpb24odHJ1ZSwgdHJ1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcG9zdGFsQ29kZTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHR5cGVzID0gcmVxdWlyZSgnLi9saWIvY2FyZC10eXBlcycpO1xudmFyIGNsb25lID0gcmVxdWlyZSgnLi9saWIvY2xvbmUnKTtcbnZhciBmaW5kQmVzdE1hdGNoID0gcmVxdWlyZSgnLi9saWIvZmluZC1iZXN0LW1hdGNoJyk7XG52YXIgaXNWYWxpZElucHV0VHlwZSA9IHJlcXVpcmUoJy4vbGliL2lzLXZhbGlkLWlucHV0LXR5cGUnKTtcbnZhciBhZGRNYXRjaGluZ0NhcmRzVG9SZXN1bHRzID0gcmVxdWlyZSgnLi9saWIvYWRkLW1hdGNoaW5nLWNhcmRzLXRvLXJlc3VsdHMnKTtcblxudmFyIHRlc3RPcmRlcjtcbnZhciBjdXN0b21DYXJkcyA9IHt9O1xuXG52YXIgY2FyZE5hbWVzID0ge1xuICBWSVNBOiAndmlzYScsXG4gIE1BU1RFUkNBUkQ6ICdtYXN0ZXJjYXJkJyxcbiAgQU1FUklDQU5fRVhQUkVTUzogJ2FtZXJpY2FuLWV4cHJlc3MnLFxuICBESU5FUlNfQ0xVQjogJ2RpbmVycy1jbHViJyxcbiAgRElTQ09WRVI6ICdkaXNjb3ZlcicsXG4gIEpDQjogJ2pjYicsXG4gIFVOSU9OUEFZOiAndW5pb25wYXknLFxuICBNQUVTVFJPOiAnbWFlc3RybycsXG4gIEVMTzogJ2VsbycsXG4gIE1JUjogJ21pcicsXG4gIEhJUEVSOiAnaGlwZXInLFxuICBISVBFUkNBUkQ6ICdoaXBlcmNhcmQnXG59O1xuXG52YXIgT1JJR0lOQUxfVEVTVF9PUkRFUiA9IFtcbiAgY2FyZE5hbWVzLlZJU0EsXG4gIGNhcmROYW1lcy5NQVNURVJDQVJELFxuICBjYXJkTmFtZXMuQU1FUklDQU5fRVhQUkVTUyxcbiAgY2FyZE5hbWVzLkRJTkVSU19DTFVCLFxuICBjYXJkTmFtZXMuRElTQ09WRVIsXG4gIGNhcmROYW1lcy5KQ0IsXG4gIGNhcmROYW1lcy5VTklPTlBBWSxcbiAgY2FyZE5hbWVzLk1BRVNUUk8sXG4gIGNhcmROYW1lcy5FTE8sXG4gIGNhcmROYW1lcy5NSVIsXG4gIGNhcmROYW1lcy5ISVBFUixcbiAgY2FyZE5hbWVzLkhJUEVSQ0FSRFxuXTtcblxudGVzdE9yZGVyID0gY2xvbmUoT1JJR0lOQUxfVEVTVF9PUkRFUik7XG5cbmZ1bmN0aW9uIGZpbmRUeXBlKHR5cGUpIHtcbiAgcmV0dXJuIGN1c3RvbUNhcmRzW3R5cGVdIHx8IHR5cGVzW3R5cGVdO1xufVxuXG5mdW5jdGlvbiBnZXRBbGxDYXJkVHlwZXMoKSB7XG4gIHJldHVybiB0ZXN0T3JkZXIubWFwKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgcmV0dXJuIGNsb25lKGZpbmRUeXBlKHR5cGUpKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGdldENhcmRQb3NpdGlvbihuYW1lLCBpZ25vcmVFcnJvckZvck5vdEV4aXN0aW5nKSB7XG4gIHZhciBwb3NpdGlvbiA9IHRlc3RPcmRlci5pbmRleE9mKG5hbWUpO1xuXG4gIGlmICghaWdub3JlRXJyb3JGb3JOb3RFeGlzdGluZyAmJiBwb3NpdGlvbiA9PT0gLTEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1wiJyArIG5hbWUgKyAnXCIgaXMgbm90IGEgc3VwcG9ydGVkIGNhcmQgdHlwZS4nKTtcbiAgfVxuXG4gIHJldHVybiBwb3NpdGlvbjtcbn1cblxuZnVuY3Rpb24gY3JlZGl0Q2FyZFR5cGUoY2FyZE51bWJlcikge1xuICB2YXIgYmVzdE1hdGNoO1xuICB2YXIgcmVzdWx0cyA9IFtdO1xuXG4gIGlmICghaXNWYWxpZElucHV0VHlwZShjYXJkTnVtYmVyKSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGlmIChjYXJkTnVtYmVyLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBnZXRBbGxDYXJkVHlwZXModGVzdE9yZGVyKTtcbiAgfVxuXG4gIHRlc3RPcmRlci5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgdmFyIGNhcmRDb25maWd1cmF0aW9uID0gZmluZFR5cGUodHlwZSk7XG5cbiAgICBhZGRNYXRjaGluZ0NhcmRzVG9SZXN1bHRzKGNhcmROdW1iZXIsIGNhcmRDb25maWd1cmF0aW9uLCByZXN1bHRzKTtcbiAgfSk7XG5cbiAgYmVzdE1hdGNoID0gZmluZEJlc3RNYXRjaChyZXN1bHRzKTtcblxuICBpZiAoYmVzdE1hdGNoKSB7XG4gICAgcmV0dXJuIFtiZXN0TWF0Y2hdO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdHM7XG59XG5cbmNyZWRpdENhcmRUeXBlLmdldFR5cGVJbmZvID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgcmV0dXJuIGNsb25lKGZpbmRUeXBlKHR5cGUpKTtcbn07XG5cbmNyZWRpdENhcmRUeXBlLnJlbW92ZUNhcmQgPSBmdW5jdGlvbiAobmFtZSkge1xuICB2YXIgcG9zaXRpb24gPSBnZXRDYXJkUG9zaXRpb24obmFtZSk7XG5cbiAgdGVzdE9yZGVyLnNwbGljZShwb3NpdGlvbiwgMSk7XG59O1xuXG5jcmVkaXRDYXJkVHlwZS5hZGRDYXJkID0gZnVuY3Rpb24gKGNvbmZpZykge1xuICB2YXIgZXhpc3RpbmdDYXJkUG9zaXRpb24gPSBnZXRDYXJkUG9zaXRpb24oY29uZmlnLnR5cGUsIHRydWUpO1xuXG4gIGN1c3RvbUNhcmRzW2NvbmZpZy50eXBlXSA9IGNvbmZpZztcblxuICBpZiAoZXhpc3RpbmdDYXJkUG9zaXRpb24gPT09IC0xKSB7XG4gICAgdGVzdE9yZGVyLnB1c2goY29uZmlnLnR5cGUpO1xuICB9XG59O1xuXG5jcmVkaXRDYXJkVHlwZS51cGRhdGVDYXJkID0gZnVuY3Rpb24gKGNhcmRUeXBlLCB1cGRhdGVzKSB7XG4gIHZhciBjbG9uZWRDYXJkO1xuICB2YXIgb3JpZ2luYWxPYmplY3QgPSBjdXN0b21DYXJkc1tjYXJkVHlwZV0gfHwgdHlwZXNbY2FyZFR5cGVdO1xuXG4gIGlmICghb3JpZ2luYWxPYmplY3QpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1wiJyArIGNhcmRUeXBlICsgJ1wiIGlzIG5vdCBhIHJlY29nbml6ZWQgdHlwZS4gVXNlIGBhZGRDYXJkYCBpbnN0ZWFkLicpO1xuICB9XG5cbiAgaWYgKHVwZGF0ZXMudHlwZSAmJiBvcmlnaW5hbE9iamVjdC50eXBlICE9PSB1cGRhdGVzLnR5cGUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBvdmVyd3JpdGUgdHlwZSBwYXJhbWV0ZXIuJyk7XG4gIH1cblxuICBjbG9uZWRDYXJkID0gY2xvbmUob3JpZ2luYWxPYmplY3QsIHRydWUpO1xuXG4gIE9iamVjdC5rZXlzKGNsb25lZENhcmQpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmICh1cGRhdGVzW2tleV0pIHtcbiAgICAgIGNsb25lZENhcmRba2V5XSA9IHVwZGF0ZXNba2V5XTtcbiAgICB9XG4gIH0pO1xuXG4gIGN1c3RvbUNhcmRzW2Nsb25lZENhcmQudHlwZV0gPSBjbG9uZWRDYXJkO1xufTtcblxuY3JlZGl0Q2FyZFR5cGUuY2hhbmdlT3JkZXIgPSBmdW5jdGlvbiAobmFtZSwgcG9zaXRpb24pIHtcbiAgdmFyIGN1cnJlbnRQb3NpdGlvbiA9IGdldENhcmRQb3NpdGlvbihuYW1lKTtcblxuICB0ZXN0T3JkZXIuc3BsaWNlKGN1cnJlbnRQb3NpdGlvbiwgMSk7XG4gIHRlc3RPcmRlci5zcGxpY2UocG9zaXRpb24sIDAsIG5hbWUpO1xufTtcblxuY3JlZGl0Q2FyZFR5cGUucmVzZXRNb2RpZmljYXRpb25zID0gZnVuY3Rpb24gKCkge1xuICB0ZXN0T3JkZXIgPSBjbG9uZShPUklHSU5BTF9URVNUX09SREVSKTtcbiAgY3VzdG9tQ2FyZHMgPSB7fTtcbn07XG5cbmNyZWRpdENhcmRUeXBlLnR5cGVzID0gY2FyZE5hbWVzO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNyZWRpdENhcmRUeXBlO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY2xvbmUgPSByZXF1aXJlKCcuL2Nsb25lJyk7XG52YXIgbWF0Y2hlcyA9IHJlcXVpcmUoJy4vbWF0Y2hlcycpO1xuXG5mdW5jdGlvbiBhZGRNYXRjaGluZ0NhcmRzVG9SZXN1bHRzKGNhcmROdW1iZXIsIGNhcmRDb25maWd1cmF0aW9uLCByZXN1bHRzKSB7XG4gIHZhciBpLCBwYXR0ZXJuLCBwYXR0ZXJuTGVuZ3RoLCBjbG9uZWRDYXJkQ29uZmlndXJhdGlvbjtcblxuICBmb3IgKGkgPSAwOyBpIDwgY2FyZENvbmZpZ3VyYXRpb24ucGF0dGVybnMubGVuZ3RoOyBpKyspIHtcbiAgICBwYXR0ZXJuID0gY2FyZENvbmZpZ3VyYXRpb24ucGF0dGVybnNbaV07XG5cbiAgICBpZiAoIW1hdGNoZXMoY2FyZE51bWJlciwgcGF0dGVybikpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGNsb25lZENhcmRDb25maWd1cmF0aW9uID0gY2xvbmUoY2FyZENvbmZpZ3VyYXRpb24pO1xuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkocGF0dGVybikpIHtcbiAgICAgIHBhdHRlcm5MZW5ndGggPSBTdHJpbmcocGF0dGVyblswXSkubGVuZ3RoO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXR0ZXJuTGVuZ3RoID0gU3RyaW5nKHBhdHRlcm4pLmxlbmd0aDtcbiAgICB9XG5cbiAgICBpZiAoY2FyZE51bWJlci5sZW5ndGggPj0gcGF0dGVybkxlbmd0aCkge1xuICAgICAgY2xvbmVkQ2FyZENvbmZpZ3VyYXRpb24ubWF0Y2hTdHJlbmd0aCA9IHBhdHRlcm5MZW5ndGg7XG4gICAgfVxuXG4gICAgcmVzdWx0cy5wdXNoKGNsb25lZENhcmRDb25maWd1cmF0aW9uKTtcbiAgICBicmVhaztcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFkZE1hdGNoaW5nQ2FyZHNUb1Jlc3VsdHM7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBjYXJkVHlwZXMgPSB7XG4gIHZpc2E6IHtcbiAgICBuaWNlVHlwZTogJ1Zpc2EnLFxuICAgIHR5cGU6ICd2aXNhJyxcbiAgICBwYXR0ZXJuczogW1xuICAgICAgNFxuICAgIF0sXG4gICAgZ2FwczogWzQsIDgsIDEyXSxcbiAgICBsZW5ndGhzOiBbMTYsIDE4LCAxOV0sXG4gICAgY29kZToge1xuICAgICAgbmFtZTogJ0NWVicsXG4gICAgICBzaXplOiAzXG4gICAgfVxuICB9LFxuICBtYXN0ZXJjYXJkOiB7XG4gICAgbmljZVR5cGU6ICdNYXN0ZXJjYXJkJyxcbiAgICB0eXBlOiAnbWFzdGVyY2FyZCcsXG4gICAgcGF0dGVybnM6IFtcbiAgICAgIFs1MSwgNTVdLFxuICAgICAgWzIyMjEsIDIyMjldLFxuICAgICAgWzIyMywgMjI5XSxcbiAgICAgIFsyMywgMjZdLFxuICAgICAgWzI3MCwgMjcxXSxcbiAgICAgIDI3MjBcbiAgICBdLFxuICAgIGdhcHM6IFs0LCA4LCAxMl0sXG4gICAgbGVuZ3RoczogWzE2XSxcbiAgICBjb2RlOiB7XG4gICAgICBuYW1lOiAnQ1ZDJyxcbiAgICAgIHNpemU6IDNcbiAgICB9XG4gIH0sXG4gICdhbWVyaWNhbi1leHByZXNzJzoge1xuICAgIG5pY2VUeXBlOiAnQW1lcmljYW4gRXhwcmVzcycsXG4gICAgdHlwZTogJ2FtZXJpY2FuLWV4cHJlc3MnLFxuICAgIHBhdHRlcm5zOiBbXG4gICAgICAzNCxcbiAgICAgIDM3XG4gICAgXSxcbiAgICBnYXBzOiBbNCwgMTBdLFxuICAgIGxlbmd0aHM6IFsxNV0sXG4gICAgY29kZToge1xuICAgICAgbmFtZTogJ0NJRCcsXG4gICAgICBzaXplOiA0XG4gICAgfVxuICB9LFxuICAnZGluZXJzLWNsdWInOiB7XG4gICAgbmljZVR5cGU6ICdEaW5lcnMgQ2x1YicsXG4gICAgdHlwZTogJ2RpbmVycy1jbHViJyxcbiAgICBwYXR0ZXJuczogW1xuICAgICAgWzMwMCwgMzA1XSxcbiAgICAgIDM2LFxuICAgICAgMzgsXG4gICAgICAzOVxuICAgIF0sXG4gICAgZ2FwczogWzQsIDEwXSxcbiAgICBsZW5ndGhzOiBbMTQsIDE2LCAxOV0sXG4gICAgY29kZToge1xuICAgICAgbmFtZTogJ0NWVicsXG4gICAgICBzaXplOiAzXG4gICAgfVxuICB9LFxuICBkaXNjb3Zlcjoge1xuICAgIG5pY2VUeXBlOiAnRGlzY292ZXInLFxuICAgIHR5cGU6ICdkaXNjb3ZlcicsXG4gICAgcGF0dGVybnM6IFtcbiAgICAgIDYwMTEsXG4gICAgICBbNjQ0LCA2NDldLFxuICAgICAgNjVcbiAgICBdLFxuICAgIGdhcHM6IFs0LCA4LCAxMl0sXG4gICAgbGVuZ3RoczogWzE2LCAxOV0sXG4gICAgY29kZToge1xuICAgICAgbmFtZTogJ0NJRCcsXG4gICAgICBzaXplOiAzXG4gICAgfVxuICB9LFxuICBqY2I6IHtcbiAgICBuaWNlVHlwZTogJ0pDQicsXG4gICAgdHlwZTogJ2pjYicsXG4gICAgcGF0dGVybnM6IFtcbiAgICAgIDIxMzEsXG4gICAgICAxODAwLFxuICAgICAgWzM1MjgsIDM1ODldXG4gICAgXSxcbiAgICBnYXBzOiBbNCwgOCwgMTJdLFxuICAgIGxlbmd0aHM6IFsxNiwgMTcsIDE4LCAxOV0sXG4gICAgY29kZToge1xuICAgICAgbmFtZTogJ0NWVicsXG4gICAgICBzaXplOiAzXG4gICAgfVxuICB9LFxuICB1bmlvbnBheToge1xuICAgIG5pY2VUeXBlOiAnVW5pb25QYXknLFxuICAgIHR5cGU6ICd1bmlvbnBheScsXG4gICAgcGF0dGVybnM6IFtcbiAgICAgIDYyMCxcbiAgICAgIFs2MjQsIDYyNl0sXG4gICAgICBbNjIxMDAsIDYyMTgyXSxcbiAgICAgIFs2MjE4NCwgNjIxODddLFxuICAgICAgWzYyMTg1LCA2MjE5N10sXG4gICAgICBbNjIyMDAsIDYyMjA1XSxcbiAgICAgIFs2MjIwMTAsIDYyMjk5OV0sXG4gICAgICA2MjIwMTgsXG4gICAgICBbNjIyMDE5LCA2MjI5OTldLFxuICAgICAgWzYyMjA3LCA2MjIwOV0sXG4gICAgICBbNjIyMTI2LCA2MjI5MjVdLFxuICAgICAgWzYyMywgNjI2XSxcbiAgICAgIDYyNzAsXG4gICAgICA2MjcyLFxuICAgICAgNjI3NixcbiAgICAgIFs2Mjc3MDAsIDYyNzc3OV0sXG4gICAgICBbNjI3NzgxLCA2Mjc3OTldLFxuICAgICAgWzYyODIsIDYyODldLFxuICAgICAgNjI5MSxcbiAgICAgIDYyOTIsXG4gICAgICA4MTAsXG4gICAgICBbODExMCwgODEzMV0sXG4gICAgICBbODEzMiwgODE1MV0sXG4gICAgICBbODE1MiwgODE2M10sXG4gICAgICBbODE2NCwgODE3MV1cbiAgICBdLFxuICAgIGdhcHM6IFs0LCA4LCAxMl0sXG4gICAgbGVuZ3RoczogWzE0LCAxNSwgMTYsIDE3LCAxOCwgMTldLFxuICAgIGNvZGU6IHtcbiAgICAgIG5hbWU6ICdDVk4nLFxuICAgICAgc2l6ZTogM1xuICAgIH1cbiAgfSxcbiAgbWFlc3Rybzoge1xuICAgIG5pY2VUeXBlOiAnTWFlc3RybycsXG4gICAgdHlwZTogJ21hZXN0cm8nLFxuICAgIHBhdHRlcm5zOiBbXG4gICAgICA0OTM2OTgsXG4gICAgICBbNTAwMDAwLCA1MDY2OThdLFxuICAgICAgWzUwNjc3OSwgNTA4OTk5XSxcbiAgICAgIFs1NiwgNTldLFxuICAgICAgNjMsXG4gICAgICA2NyxcbiAgICAgIDZcbiAgICBdLFxuICAgIGdhcHM6IFs0LCA4LCAxMl0sXG4gICAgbGVuZ3RoczogWzEyLCAxMywgMTQsIDE1LCAxNiwgMTcsIDE4LCAxOV0sXG4gICAgY29kZToge1xuICAgICAgbmFtZTogJ0NWQycsXG4gICAgICBzaXplOiAzXG4gICAgfVxuICB9LFxuICBlbG86IHtcbiAgICBuaWNlVHlwZTogJ0VsbycsXG4gICAgdHlwZTogJ2VsbycsXG4gICAgcGF0dGVybnM6IFtcbiAgICAgIDQwMTE3OCxcbiAgICAgIDQwMTE3OSxcbiAgICAgIDQzODkzNSxcbiAgICAgIDQ1NzYzMSxcbiAgICAgIDQ1NzYzMixcbiAgICAgIDQzMTI3NCxcbiAgICAgIDQ1MTQxNixcbiAgICAgIDQ1NzM5MyxcbiAgICAgIDUwNDE3NSxcbiAgICAgIFs1MDY2OTksIDUwNjc3OF0sXG4gICAgICBbNTA5MDAwLCA1MDk5OTldLFxuICAgICAgNjI3NzgwLFxuICAgICAgNjM2Mjk3LFxuICAgICAgNjM2MzY4LFxuICAgICAgWzY1MDAzMSwgNjUwMDMzXSxcbiAgICAgIFs2NTAwMzUsIDY1MDA1MV0sXG4gICAgICBbNjUwNDA1LCA2NTA0MzldLFxuICAgICAgWzY1MDQ4NSwgNjUwNTM4XSxcbiAgICAgIFs2NTA1NDEsIDY1MDU5OF0sXG4gICAgICBbNjUwNzAwLCA2NTA3MThdLFxuICAgICAgWzY1MDcyMCwgNjUwNzI3XSxcbiAgICAgIFs2NTA5MDEsIDY1MDk3OF0sXG4gICAgICBbNjUxNjUyLCA2NTE2NzldLFxuICAgICAgWzY1NTAwMCwgNjU1MDE5XSxcbiAgICAgIFs2NTUwMjEsIDY1NTA1OF1cbiAgICBdLFxuICAgIGdhcHM6IFs0LCA4LCAxMl0sXG4gICAgbGVuZ3RoczogWzE2XSxcbiAgICBjb2RlOiB7XG4gICAgICBuYW1lOiAnQ1ZFJyxcbiAgICAgIHNpemU6IDNcbiAgICB9XG4gIH0sXG4gIG1pcjoge1xuICAgIG5pY2VUeXBlOiAnTWlyJyxcbiAgICB0eXBlOiAnbWlyJyxcbiAgICBwYXR0ZXJuczogW1xuICAgICAgWzIyMDAsIDIyMDRdXG4gICAgXSxcbiAgICBnYXBzOiBbNCwgOCwgMTJdLFxuICAgIGxlbmd0aHM6IFsxNiwgMTcsIDE4LCAxOV0sXG4gICAgY29kZToge1xuICAgICAgbmFtZTogJ0NWUDInLFxuICAgICAgc2l6ZTogM1xuICAgIH1cbiAgfSxcbiAgaGlwZXI6IHtcbiAgICBuaWNlVHlwZTogJ0hpcGVyJyxcbiAgICB0eXBlOiAnaGlwZXInLFxuICAgIHBhdHRlcm5zOiBbXG4gICAgICA2MzcwOTUsXG4gICAgICA2Mzc1NjgsXG4gICAgICA2Mzc1OTksXG4gICAgICA2Mzc2MDksXG4gICAgICA2Mzc2MTJcbiAgICBdLFxuICAgIGdhcHM6IFs0LCA4LCAxMl0sXG4gICAgbGVuZ3RoczogWzE2XSxcbiAgICBjb2RlOiB7XG4gICAgICBuYW1lOiAnQ1ZDJyxcbiAgICAgIHNpemU6IDNcbiAgICB9XG4gIH0sXG4gIGhpcGVyY2FyZDoge1xuICAgIG5pY2VUeXBlOiAnSGlwZXJjYXJkJyxcbiAgICB0eXBlOiAnaGlwZXJjYXJkJyxcbiAgICBwYXR0ZXJuczogW1xuICAgICAgNjA2MjgyXG4gICAgXSxcbiAgICBnYXBzOiBbNCwgOCwgMTJdLFxuICAgIGxlbmd0aHM6IFsxNl0sXG4gICAgY29kZToge1xuICAgICAgbmFtZTogJ0NWQycsXG4gICAgICBzaXplOiAzXG4gICAgfVxuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNhcmRUeXBlcztcbiIsIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gY2xvbmUob3JpZ2luYWxPYmplY3QpIHtcbiAgdmFyIGR1cGU7XG5cbiAgaWYgKCFvcmlnaW5hbE9iamVjdCkgeyByZXR1cm4gbnVsbDsgfVxuXG4gIGR1cGUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9yaWdpbmFsT2JqZWN0KSk7XG5cbiAgcmV0dXJuIGR1cGU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY2xvbmU7XG4iLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIGhhc0Vub3VnaFJlc3VsdHNUb0RldGVybWluZUJlc3RNYXRjaChyZXN1bHRzKSB7XG4gIHZhciBudW1iZXJPZlJlc3VsdHNXaXRoTWF4U3RyZW5ndGhQcm9wZXJ0eSA9IHJlc3VsdHMuZmlsdGVyKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICByZXR1cm4gcmVzdWx0Lm1hdGNoU3RyZW5ndGg7XG4gIH0pLmxlbmd0aDtcblxuICAvLyBpZiBhbGwgcG9zc2libGUgcmVzdWx0cyBoYXZlIGEgbWF4U3RyZW5ndGggcHJvcGVydHlcbiAgLy8gdGhhdCBtZWFucyB0aGUgY2FyZCBudW1iZXIgaXMgc3VmZmljaWVudGx5IGxvbmdcbiAgLy8gZW5vdWdoIHRvIGRldGVybWluZSBjb25jbHVzaXZlbHkgd2hhdCB0aGUgdHlwZSBpc1xuICByZXR1cm4gbnVtYmVyT2ZSZXN1bHRzV2l0aE1heFN0cmVuZ3RoUHJvcGVydHkgPiAwICYmXG4gICAgbnVtYmVyT2ZSZXN1bHRzV2l0aE1heFN0cmVuZ3RoUHJvcGVydHkgPT09IHJlc3VsdHMubGVuZ3RoO1xufVxuXG5mdW5jdGlvbiBmaW5kQmVzdE1hdGNoKHJlc3VsdHMpIHtcbiAgaWYgKCFoYXNFbm91Z2hSZXN1bHRzVG9EZXRlcm1pbmVCZXN0TWF0Y2gocmVzdWx0cykpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICByZXR1cm4gcmVzdWx0cy5yZWR1Y2UoZnVuY3Rpb24gKGJlc3RNYXRjaCwgcmVzdWx0KSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgICBpZiAoIWJlc3RNYXRjaCkge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvLyBpZiB0aGUgY3VycmVudCBiZXN0IG1hdGNoIHBhdHRlcm4gaXMgbGVzcyBzcGVjaWZpY1xuICAgIC8vIHRoYW4gdGhpcyByZXN1bHQsIHNldCB0aGUgcmVzdWx0IGFzIHRoZSBuZXcgYmVzdCBtYXRjaFxuICAgIGlmIChiZXN0TWF0Y2gubWF0Y2hTdHJlbmd0aCA8IHJlc3VsdC5tYXRjaFN0cmVuZ3RoKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHJldHVybiBiZXN0TWF0Y2g7XG4gIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZpbmRCZXN0TWF0Y2g7XG4iLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIGlzVmFsaWRJbnB1dFR5cGUoY2FyZE51bWJlcikge1xuICByZXR1cm4gdHlwZW9mIGNhcmROdW1iZXIgPT09ICdzdHJpbmcnIHx8IGNhcmROdW1iZXIgaW5zdGFuY2VvZiBTdHJpbmc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNWYWxpZElucHV0VHlwZTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLy8gQWRhcHRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9wb2x2by1sYWJzL2NhcmQtdHlwZS9ibG9iL2FhYWIxMWY4MGZhMTkzOWJjY2M4ZjI0OTA1YTA2YWUzY2Q4NjQzNTYvc3JjL2NhcmRUeXBlLmpzI0wzNy1MNDJcbmZ1bmN0aW9uIG1hdGNoZXNSYW5nZShjYXJkTnVtYmVyLCBtaW4sIG1heCkge1xuICB2YXIgbWF4TGVuZ3RoVG9DaGVjayA9IFN0cmluZyhtaW4pLmxlbmd0aDtcbiAgdmFyIHN1YnN0ciA9IGNhcmROdW1iZXIuc3Vic3RyKDAsIG1heExlbmd0aFRvQ2hlY2spO1xuICB2YXIgaW50ZWdlclJlcHJlc2VudGF0aW9uT2ZDYXJkTnVtYmVyID0gcGFyc2VJbnQoc3Vic3RyLCAxMCk7XG5cbiAgbWluID0gcGFyc2VJbnQoU3RyaW5nKG1pbikuc3Vic3RyKDAsIHN1YnN0ci5sZW5ndGgpLCAxMCk7XG4gIG1heCA9IHBhcnNlSW50KFN0cmluZyhtYXgpLnN1YnN0cigwLCBzdWJzdHIubGVuZ3RoKSwgMTApO1xuXG4gIHJldHVybiBpbnRlZ2VyUmVwcmVzZW50YXRpb25PZkNhcmROdW1iZXIgPj0gbWluICYmIGludGVnZXJSZXByZXNlbnRhdGlvbk9mQ2FyZE51bWJlciA8PSBtYXg7XG59XG5cbmZ1bmN0aW9uIG1hdGNoZXNQYXR0ZXJuKGNhcmROdW1iZXIsIHBhdHRlcm4pIHtcbiAgcGF0dGVybiA9IFN0cmluZyhwYXR0ZXJuKTtcblxuICByZXR1cm4gcGF0dGVybi5zdWJzdHJpbmcoMCwgY2FyZE51bWJlci5sZW5ndGgpID09PSBjYXJkTnVtYmVyLnN1YnN0cmluZygwLCBwYXR0ZXJuLmxlbmd0aCk7XG59XG5cbmZ1bmN0aW9uIG1hdGNoZXMoY2FyZE51bWJlciwgcGF0dGVybikge1xuICBpZiAoQXJyYXkuaXNBcnJheShwYXR0ZXJuKSkge1xuICAgIHJldHVybiBtYXRjaGVzUmFuZ2UoY2FyZE51bWJlciwgcGF0dGVyblswXSwgcGF0dGVyblsxXSk7XG4gIH1cblxuICByZXR1cm4gbWF0Y2hlc1BhdHRlcm4oY2FyZE51bWJlciwgcGF0dGVybik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbWF0Y2hlcztcbiIsIid1c2Ugc3RyaWN0JztcbnZhciBpc09iaiA9IHJlcXVpcmUoJ2lzLW9iaicpO1xudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBwcm9wSXNFbnVtZXJhYmxlID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuZnVuY3Rpb24gdG9PYmplY3QodmFsKSB7XG5cdGlmICh2YWwgPT09IG51bGwgfHwgdmFsID09PSB1bmRlZmluZWQpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdTb3VyY2VzIGNhbm5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZCcpO1xuXHR9XG5cblx0cmV0dXJuIE9iamVjdCh2YWwpO1xufVxuXG5mdW5jdGlvbiBhc3NpZ25LZXkodG8sIGZyb20sIGtleSkge1xuXHR2YXIgdmFsID0gZnJvbVtrZXldO1xuXG5cdGlmICh2YWwgPT09IHVuZGVmaW5lZCB8fCB2YWwgPT09IG51bGwpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbCh0bywga2V5KSkge1xuXHRcdGlmICh0b1trZXldID09PSB1bmRlZmluZWQgfHwgdG9ba2V5XSA9PT0gbnVsbCkge1xuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgdW5kZWZpbmVkIG9yIG51bGwgdG8gb2JqZWN0ICgnICsga2V5ICsgJyknKTtcblx0XHR9XG5cdH1cblxuXHRpZiAoIWhhc093blByb3BlcnR5LmNhbGwodG8sIGtleSkgfHwgIWlzT2JqKHZhbCkpIHtcblx0XHR0b1trZXldID0gdmFsO1xuXHR9IGVsc2Uge1xuXHRcdHRvW2tleV0gPSBhc3NpZ24oT2JqZWN0KHRvW2tleV0pLCBmcm9tW2tleV0pO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGFzc2lnbih0bywgZnJvbSkge1xuXHRpZiAodG8gPT09IGZyb20pIHtcblx0XHRyZXR1cm4gdG87XG5cdH1cblxuXHRmcm9tID0gT2JqZWN0KGZyb20pO1xuXG5cdGZvciAodmFyIGtleSBpbiBmcm9tKSB7XG5cdFx0aWYgKGhhc093blByb3BlcnR5LmNhbGwoZnJvbSwga2V5KSkge1xuXHRcdFx0YXNzaWduS2V5KHRvLCBmcm9tLCBrZXkpO1xuXHRcdH1cblx0fVxuXG5cdGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG5cdFx0dmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGZyb20pO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzeW1ib2xzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAocHJvcElzRW51bWVyYWJsZS5jYWxsKGZyb20sIHN5bWJvbHNbaV0pKSB7XG5cdFx0XHRcdGFzc2lnbktleSh0bywgZnJvbSwgc3ltYm9sc1tpXSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRvO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRlZXBBc3NpZ24odGFyZ2V0KSB7XG5cdHRhcmdldCA9IHRvT2JqZWN0KHRhcmdldCk7XG5cblx0Zm9yICh2YXIgcyA9IDE7IHMgPCBhcmd1bWVudHMubGVuZ3RoOyBzKyspIHtcblx0XHRhc3NpZ24odGFyZ2V0LCBhcmd1bWVudHNbc10pO1xuXHR9XG5cblx0cmV0dXJuIHRhcmdldDtcbn07XG4iLCIndXNlIHN0cmljdCdcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2pzJylcbiIsIi8qXG4gKiBGaWxlOiBpZnJhbWVSZXNpemVyLmNvbnRlbnRXaW5kb3cuanNcbiAqIERlc2M6IEluY2x1ZGUgdGhpcyBmaWxlIGluIGFueSBwYWdlIGJlaW5nIGxvYWRlZCBpbnRvIGFuIGlmcmFtZVxuICogICAgICAgdG8gZm9yY2UgdGhlIGlmcmFtZSB0byByZXNpemUgdG8gdGhlIGNvbnRlbnQgc2l6ZS5cbiAqIFJlcXVpcmVzOiBpZnJhbWVSZXNpemVyLmpzIG9uIGhvc3QgcGFnZS5cbiAqIERvYzogaHR0cHM6Ly9naXRodWIuY29tL2RhdmlkamJyYWRzaGF3L2lmcmFtZS1yZXNpemVyXG4gKiBBdXRob3I6IERhdmlkIEouIEJyYWRzaGF3IC0gZGF2ZUBicmFkc2hhdy5uZXRcbiAqIENvbnRyaWJ1dG9yOiBKdXJlIE1hdiAtIGp1cmUubWF2QGdtYWlsLmNvbVxuICogQ29udHJpYnV0b3I6IElhbiBDYXVuY2UgLSBpYW5AaGFsbG5ldC5jby51a1xuICovXG5cbihmdW5jdGlvbih1bmRlZmluZWQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuOyAvLyBkb24ndCBydW4gZm9yIHNlcnZlciBzaWRlIHJlbmRlclxuXG4gIHZhciBhdXRvUmVzaXplID0gdHJ1ZSxcbiAgICBiYXNlID0gMTAsXG4gICAgYm9keUJhY2tncm91bmQgPSAnJyxcbiAgICBib2R5TWFyZ2luID0gMCxcbiAgICBib2R5TWFyZ2luU3RyID0gJycsXG4gICAgYm9keU9ic2VydmVyID0gbnVsbCxcbiAgICBib2R5UGFkZGluZyA9ICcnLFxuICAgIGNhbGN1bGF0ZVdpZHRoID0gZmFsc2UsXG4gICAgZG91YmxlRXZlbnRMaXN0ID0geyByZXNpemU6IDEsIGNsaWNrOiAxIH0sXG4gICAgZXZlbnRDYW5jZWxUaW1lciA9IDEyOCxcbiAgICBmaXJzdFJ1biA9IHRydWUsXG4gICAgaGVpZ2h0ID0gMSxcbiAgICBoZWlnaHRDYWxjTW9kZURlZmF1bHQgPSAnYm9keU9mZnNldCcsXG4gICAgaGVpZ2h0Q2FsY01vZGUgPSBoZWlnaHRDYWxjTW9kZURlZmF1bHQsXG4gICAgaW5pdExvY2sgPSB0cnVlLFxuICAgIGluaXRNc2cgPSAnJyxcbiAgICBpblBhZ2VMaW5rcyA9IHt9LFxuICAgIGludGVydmFsID0gMzIsXG4gICAgaW50ZXJ2YWxUaW1lciA9IG51bGwsXG4gICAgbG9nZ2luZyA9IGZhbHNlLFxuICAgIG1zZ0lEID0gJ1tpRnJhbWVTaXplcl0nLCAvL011c3QgbWF0Y2ggaG9zdCBwYWdlIG1zZyBJRFxuICAgIG1zZ0lkTGVuID0gbXNnSUQubGVuZ3RoLFxuICAgIG15SUQgPSAnJyxcbiAgICBvYnNlcnZlciA9IG51bGwsXG4gICAgcmVzZXRSZXF1aXJlZE1ldGhvZHMgPSB7XG4gICAgICBtYXg6IDEsXG4gICAgICBtaW46IDEsXG4gICAgICBib2R5U2Nyb2xsOiAxLFxuICAgICAgZG9jdW1lbnRFbGVtZW50U2Nyb2xsOiAxXG4gICAgfSxcbiAgICByZXNpemVGcm9tID0gJ2NoaWxkJyxcbiAgICBzZW5kUGVybWl0ID0gdHJ1ZSxcbiAgICB0YXJnZXQgPSB3aW5kb3cucGFyZW50LFxuICAgIHRhcmdldE9yaWdpbkRlZmF1bHQgPSAnKicsXG4gICAgdG9sZXJhbmNlID0gMCxcbiAgICB0cmlnZ2VyTG9ja2VkID0gZmFsc2UsXG4gICAgdHJpZ2dlckxvY2tlZFRpbWVyID0gbnVsbCxcbiAgICB0aHJvdHRsZWRUaW1lciA9IDE2LFxuICAgIHdpZHRoID0gMSxcbiAgICB3aWR0aENhbGNNb2RlRGVmYXVsdCA9ICdzY3JvbGwnLFxuICAgIHdpZHRoQ2FsY01vZGUgPSB3aWR0aENhbGNNb2RlRGVmYXVsdCxcbiAgICB3aW4gPSB3aW5kb3csXG4gICAgbWVzc2FnZUNhbGxiYWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICB3YXJuKCdNZXNzYWdlQ2FsbGJhY2sgZnVuY3Rpb24gbm90IGRlZmluZWQnKTtcbiAgICB9LFxuICAgIHJlYWR5Q2FsbGJhY2sgPSBmdW5jdGlvbigpIHt9LFxuICAgIHBhZ2VJbmZvQ2FsbGJhY2sgPSBmdW5jdGlvbigpIHt9LFxuICAgIGN1c3RvbUNhbGNNZXRob2RzID0ge1xuICAgICAgaGVpZ2h0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgd2FybignQ3VzdG9tIGhlaWdodCBjYWxjdWxhdGlvbiBmdW5jdGlvbiBub3QgZGVmaW5lZCcpO1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgICAgIH0sXG4gICAgICB3aWR0aDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHdhcm4oJ0N1c3RvbSB3aWR0aCBjYWxjdWxhdGlvbiBmdW5jdGlvbiBub3QgZGVmaW5lZCcpO1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5zY3JvbGxXaWR0aDtcbiAgICAgIH1cbiAgICB9LFxuICAgIGV2ZW50SGFuZGxlcnNCeU5hbWUgPSB7fSxcbiAgICBwYXNzaXZlU3VwcG9ydGVkID0gZmFsc2UsXG4gICAgb25jZVN1cHBvcnRlZCA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIG5vb3AoKSB7fVxuXG4gIHRyeSB7XG4gICAgdmFyIG9wdGlvbnMgPSBPYmplY3QuY3JlYXRlKFxuICAgICAge30sXG4gICAgICB7XG4gICAgICAgIHBhc3NpdmU6IHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcGFzc2l2ZVN1cHBvcnRlZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbmNlOiB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG9uY2VTdXBwb3J0ZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBub29wLCBvcHRpb25zKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndGVzdCcsIG5vb3AsIG9wdGlvbnMpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLyogKi9cbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIoZWwsIGV2dCwgZnVuYywgb3B0aW9ucykge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovIC8vIE5vdCB0ZXN0YWJsZSBpbiBwaGFudG9tSlNcbiAgICBpZiAoJ2FkZEV2ZW50TGlzdGVuZXInIGluIHdpbmRvdykge1xuICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldnQsIGZ1bmMsIHBhc3NpdmVTdXBwb3J0ZWQgPyBvcHRpb25zIHx8IHt9IDogZmFsc2UpO1xuICAgIH0gZWxzZSBpZiAoJ2F0dGFjaEV2ZW50JyBpbiB3aW5kb3cpIHtcbiAgICAgIC8vSUVcbiAgICAgIGVsLmF0dGFjaEV2ZW50KCdvbicgKyBldnQsIGZ1bmMpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXIoZWwsIGV2dCwgZnVuYykge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovIC8vIE5vdCB0ZXN0YWJsZSBpbiBwaGFudG9tSlNcbiAgICBpZiAoJ3JlbW92ZUV2ZW50TGlzdGVuZXInIGluIHdpbmRvdykge1xuICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldnQsIGZ1bmMsIGZhbHNlKTtcbiAgICB9IGVsc2UgaWYgKCdkZXRhY2hFdmVudCcgaW4gd2luZG93KSB7XG4gICAgICAvL0lFXG4gICAgICBlbC5kZXRhY2hFdmVudCgnb24nICsgZXZ0LCBmdW5jKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjYXBpdGFsaXplRmlyc3RMZXR0ZXIoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0cmluZy5zbGljZSgxKTtcbiAgfVxuXG4gIC8vQmFzZWQgb24gdW5kZXJzY29yZS5qc1xuICBmdW5jdGlvbiB0aHJvdHRsZShmdW5jKSB7XG4gICAgdmFyIGNvbnRleHQsXG4gICAgICBhcmdzLFxuICAgICAgcmVzdWx0LFxuICAgICAgdGltZW91dCA9IG51bGwsXG4gICAgICBwcmV2aW91cyA9IDAsXG4gICAgICBsYXRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBwcmV2aW91cyA9IGdldE5vdygpO1xuICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgICAgaWYgKCF0aW1lb3V0KSB7XG4gICAgICAgICAgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG5vdyA9IGdldE5vdygpO1xuXG4gICAgICBpZiAoIXByZXZpb3VzKSB7XG4gICAgICAgIHByZXZpb3VzID0gbm93O1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVtYWluaW5nID0gdGhyb3R0bGVkVGltZXIgLSAobm93IC0gcHJldmlvdXMpO1xuXG4gICAgICBjb250ZXh0ID0gdGhpcztcbiAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG5cbiAgICAgIGlmIChyZW1haW5pbmcgPD0gMCB8fCByZW1haW5pbmcgPiB0aHJvdHRsZWRUaW1lcikge1xuICAgICAgICBpZiAodGltZW91dCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByZXZpb3VzID0gbm93O1xuICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuXG4gICAgICAgIGlmICghdGltZW91dCkge1xuICAgICAgICAgIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghdGltZW91dCkge1xuICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgcmVtYWluaW5nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICB9XG5cbiAgdmFyIGdldE5vdyA9XG4gICAgRGF0ZS5ub3cgfHxcbiAgICBmdW5jdGlvbigpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIC8vIE5vdCB0ZXN0YWJsZSBpbiBQaGFudG9uSlNcbiAgICAgIHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICB9O1xuXG4gIGZ1bmN0aW9uIGZvcm1hdExvZ01zZyhtc2cpIHtcbiAgICByZXR1cm4gbXNnSUQgKyAnWycgKyBteUlEICsgJ10nICsgJyAnICsgbXNnO1xuICB9XG5cbiAgZnVuY3Rpb24gbG9nKG1zZykge1xuICAgIGlmIChsb2dnaW5nICYmICdvYmplY3QnID09PSB0eXBlb2Ygd2luZG93LmNvbnNvbGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKGZvcm1hdExvZ01zZyhtc2cpKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB3YXJuKG1zZykge1xuICAgIGlmICgnb2JqZWN0JyA9PT0gdHlwZW9mIHdpbmRvdy5jb25zb2xlKSB7XG4gICAgICBjb25zb2xlLndhcm4oZm9ybWF0TG9nTXNnKG1zZykpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgcmVhZERhdGFGcm9tUGFyZW50KCk7XG4gICAgbG9nKCdJbml0aWFsaXNpbmcgaUZyYW1lICgnICsgbG9jYXRpb24uaHJlZiArICcpJyk7XG4gICAgcmVhZERhdGFGcm9tUGFnZSgpO1xuICAgIHNldE1hcmdpbigpO1xuICAgIHNldEJvZHlTdHlsZSgnYmFja2dyb3VuZCcsIGJvZHlCYWNrZ3JvdW5kKTtcbiAgICBzZXRCb2R5U3R5bGUoJ3BhZGRpbmcnLCBib2R5UGFkZGluZyk7XG4gICAgaW5qZWN0Q2xlYXJGaXhJbnRvQm9keUVsZW1lbnQoKTtcbiAgICBjaGVja0hlaWdodE1vZGUoKTtcbiAgICBjaGVja1dpZHRoTW9kZSgpO1xuICAgIHN0b3BJbmZpbml0ZVJlc2l6aW5nT2ZJRnJhbWUoKTtcbiAgICBzZXR1cFB1YmxpY01ldGhvZHMoKTtcbiAgICBzdGFydEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgaW5QYWdlTGlua3MgPSBzZXR1cEluUGFnZUxpbmtzKCk7XG4gICAgc2VuZFNpemUoJ2luaXQnLCAnSW5pdCBtZXNzYWdlIGZyb20gaG9zdCBwYWdlJyk7XG4gICAgcmVhZHlDYWxsYmFjaygpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVhZERhdGFGcm9tUGFyZW50KCkge1xuICAgIGZ1bmN0aW9uIHN0ckJvb2woc3RyKSB7XG4gICAgICByZXR1cm4gJ3RydWUnID09PSBzdHIgPyB0cnVlIDogZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGRhdGEgPSBpbml0TXNnLnN1YnN0cihtc2dJZExlbikuc3BsaXQoJzonKTtcblxuICAgIG15SUQgPSBkYXRhWzBdO1xuICAgIGJvZHlNYXJnaW4gPSB1bmRlZmluZWQgIT09IGRhdGFbMV0gPyBOdW1iZXIoZGF0YVsxXSkgOiBib2R5TWFyZ2luOyAvL0ZvciBWMSBjb21wYXRpYmlsaXR5XG4gICAgY2FsY3VsYXRlV2lkdGggPSB1bmRlZmluZWQgIT09IGRhdGFbMl0gPyBzdHJCb29sKGRhdGFbMl0pIDogY2FsY3VsYXRlV2lkdGg7XG4gICAgbG9nZ2luZyA9IHVuZGVmaW5lZCAhPT0gZGF0YVszXSA/IHN0ckJvb2woZGF0YVszXSkgOiBsb2dnaW5nO1xuICAgIGludGVydmFsID0gdW5kZWZpbmVkICE9PSBkYXRhWzRdID8gTnVtYmVyKGRhdGFbNF0pIDogaW50ZXJ2YWw7XG4gICAgYXV0b1Jlc2l6ZSA9IHVuZGVmaW5lZCAhPT0gZGF0YVs2XSA/IHN0ckJvb2woZGF0YVs2XSkgOiBhdXRvUmVzaXplO1xuICAgIGJvZHlNYXJnaW5TdHIgPSBkYXRhWzddO1xuICAgIGhlaWdodENhbGNNb2RlID0gdW5kZWZpbmVkICE9PSBkYXRhWzhdID8gZGF0YVs4XSA6IGhlaWdodENhbGNNb2RlO1xuICAgIGJvZHlCYWNrZ3JvdW5kID0gZGF0YVs5XTtcbiAgICBib2R5UGFkZGluZyA9IGRhdGFbMTBdO1xuICAgIHRvbGVyYW5jZSA9IHVuZGVmaW5lZCAhPT0gZGF0YVsxMV0gPyBOdW1iZXIoZGF0YVsxMV0pIDogdG9sZXJhbmNlO1xuICAgIGluUGFnZUxpbmtzLmVuYWJsZSA9IHVuZGVmaW5lZCAhPT0gZGF0YVsxMl0gPyBzdHJCb29sKGRhdGFbMTJdKSA6IGZhbHNlO1xuICAgIHJlc2l6ZUZyb20gPSB1bmRlZmluZWQgIT09IGRhdGFbMTNdID8gZGF0YVsxM10gOiByZXNpemVGcm9tO1xuICAgIHdpZHRoQ2FsY01vZGUgPSB1bmRlZmluZWQgIT09IGRhdGFbMTRdID8gZGF0YVsxNF0gOiB3aWR0aENhbGNNb2RlO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVhZERhdGFGcm9tUGFnZSgpIHtcbiAgICBmdW5jdGlvbiByZWFkRGF0YSgpIHtcbiAgICAgIHZhciBkYXRhID0gd2luZG93LmlGcmFtZVJlc2l6ZXI7XG5cbiAgICAgIGxvZygnUmVhZGluZyBkYXRhIGZyb20gcGFnZTogJyArIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcblxuICAgICAgbWVzc2FnZUNhbGxiYWNrID1cbiAgICAgICAgJ21lc3NhZ2VDYWxsYmFjaycgaW4gZGF0YSA/IGRhdGEubWVzc2FnZUNhbGxiYWNrIDogbWVzc2FnZUNhbGxiYWNrO1xuICAgICAgcmVhZHlDYWxsYmFjayA9XG4gICAgICAgICdyZWFkeUNhbGxiYWNrJyBpbiBkYXRhID8gZGF0YS5yZWFkeUNhbGxiYWNrIDogcmVhZHlDYWxsYmFjaztcbiAgICAgIHRhcmdldE9yaWdpbkRlZmF1bHQgPVxuICAgICAgICAndGFyZ2V0T3JpZ2luJyBpbiBkYXRhID8gZGF0YS50YXJnZXRPcmlnaW4gOiB0YXJnZXRPcmlnaW5EZWZhdWx0O1xuICAgICAgaGVpZ2h0Q2FsY01vZGUgPVxuICAgICAgICAnaGVpZ2h0Q2FsY3VsYXRpb25NZXRob2QnIGluIGRhdGFcbiAgICAgICAgICA/IGRhdGEuaGVpZ2h0Q2FsY3VsYXRpb25NZXRob2RcbiAgICAgICAgICA6IGhlaWdodENhbGNNb2RlO1xuICAgICAgd2lkdGhDYWxjTW9kZSA9XG4gICAgICAgICd3aWR0aENhbGN1bGF0aW9uTWV0aG9kJyBpbiBkYXRhXG4gICAgICAgICAgPyBkYXRhLndpZHRoQ2FsY3VsYXRpb25NZXRob2RcbiAgICAgICAgICA6IHdpZHRoQ2FsY01vZGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0dXBDdXN0b21DYWxjTWV0aG9kcyhjYWxjTW9kZSwgY2FsY0Z1bmMpIHtcbiAgICAgIGlmICgnZnVuY3Rpb24nID09PSB0eXBlb2YgY2FsY01vZGUpIHtcbiAgICAgICAgbG9nKCdTZXR1cCBjdXN0b20gJyArIGNhbGNGdW5jICsgJ0NhbGNNZXRob2QnKTtcbiAgICAgICAgY3VzdG9tQ2FsY01ldGhvZHNbY2FsY0Z1bmNdID0gY2FsY01vZGU7XG4gICAgICAgIGNhbGNNb2RlID0gJ2N1c3RvbSc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjYWxjTW9kZTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICAnaUZyYW1lUmVzaXplcicgaW4gd2luZG93ICYmXG4gICAgICBPYmplY3QgPT09IHdpbmRvdy5pRnJhbWVSZXNpemVyLmNvbnN0cnVjdG9yXG4gICAgKSB7XG4gICAgICByZWFkRGF0YSgpO1xuICAgICAgaGVpZ2h0Q2FsY01vZGUgPSBzZXR1cEN1c3RvbUNhbGNNZXRob2RzKGhlaWdodENhbGNNb2RlLCAnaGVpZ2h0Jyk7XG4gICAgICB3aWR0aENhbGNNb2RlID0gc2V0dXBDdXN0b21DYWxjTWV0aG9kcyh3aWR0aENhbGNNb2RlLCAnd2lkdGgnKTtcbiAgICB9XG5cbiAgICBsb2coJ1RhcmdldE9yaWdpbiBmb3IgcGFyZW50IHNldCB0bzogJyArIHRhcmdldE9yaWdpbkRlZmF1bHQpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2hrQ1NTKGF0dHIsIHZhbHVlKSB7XG4gICAgaWYgKC0xICE9PSB2YWx1ZS5pbmRleE9mKCctJykpIHtcbiAgICAgIHdhcm4oJ05lZ2F0aXZlIENTUyB2YWx1ZSBpZ25vcmVkIGZvciAnICsgYXR0cik7XG4gICAgICB2YWx1ZSA9ICcnO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRCb2R5U3R5bGUoYXR0ciwgdmFsdWUpIHtcbiAgICBpZiAodW5kZWZpbmVkICE9PSB2YWx1ZSAmJiAnJyAhPT0gdmFsdWUgJiYgJ251bGwnICE9PSB2YWx1ZSkge1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZVthdHRyXSA9IHZhbHVlO1xuICAgICAgbG9nKCdCb2R5ICcgKyBhdHRyICsgJyBzZXQgdG8gXCInICsgdmFsdWUgKyAnXCInKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRNYXJnaW4oKSB7XG4gICAgLy9JZiBjYWxsZWQgdmlhIFYxIHNjcmlwdCwgY29udmVydCBib2R5TWFyZ2luIGZyb20gaW50IHRvIHN0clxuICAgIGlmICh1bmRlZmluZWQgPT09IGJvZHlNYXJnaW5TdHIpIHtcbiAgICAgIGJvZHlNYXJnaW5TdHIgPSBib2R5TWFyZ2luICsgJ3B4JztcbiAgICB9XG5cbiAgICBzZXRCb2R5U3R5bGUoJ21hcmdpbicsIGNoa0NTUygnbWFyZ2luJywgYm9keU1hcmdpblN0cikpO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RvcEluZmluaXRlUmVzaXppbmdPZklGcmFtZSgpIHtcbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gJyc7XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSAnJztcbiAgICBsb2coJ0hUTUwgJiBib2R5IGhlaWdodCBzZXQgdG8gXCJhdXRvXCInKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1hbmFnZVRyaWdnZXJFdmVudChvcHRpb25zKSB7XG4gICAgdmFyIGxpc3RlbmVyID0ge1xuICAgICAgYWRkOiBmdW5jdGlvbihldmVudE5hbWUpIHtcbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlRXZlbnQoKSB7XG4gICAgICAgICAgc2VuZFNpemUob3B0aW9ucy5ldmVudE5hbWUsIG9wdGlvbnMuZXZlbnRUeXBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGV2ZW50SGFuZGxlcnNCeU5hbWVbZXZlbnROYW1lXSA9IGhhbmRsZUV2ZW50O1xuXG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIod2luZG93LCBldmVudE5hbWUsIGhhbmRsZUV2ZW50LCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gICAgICB9LFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbihldmVudE5hbWUpIHtcbiAgICAgICAgdmFyIGhhbmRsZUV2ZW50ID0gZXZlbnRIYW5kbGVyc0J5TmFtZVtldmVudE5hbWVdO1xuICAgICAgICBkZWxldGUgZXZlbnRIYW5kbGVyc0J5TmFtZVtldmVudE5hbWVdO1xuXG4gICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIod2luZG93LCBldmVudE5hbWUsIGhhbmRsZUV2ZW50KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKG9wdGlvbnMuZXZlbnROYW1lcyAmJiBBcnJheS5wcm90b3R5cGUubWFwKSB7XG4gICAgICBvcHRpb25zLmV2ZW50TmFtZSA9IG9wdGlvbnMuZXZlbnROYW1lc1swXTtcbiAgICAgIG9wdGlvbnMuZXZlbnROYW1lcy5tYXAobGlzdGVuZXJbb3B0aW9ucy5tZXRob2RdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGlzdGVuZXJbb3B0aW9ucy5tZXRob2RdKG9wdGlvbnMuZXZlbnROYW1lKTtcbiAgICB9XG5cbiAgICBsb2coXG4gICAgICBjYXBpdGFsaXplRmlyc3RMZXR0ZXIob3B0aW9ucy5tZXRob2QpICtcbiAgICAgICAgJyBldmVudCBsaXN0ZW5lcjogJyArXG4gICAgICAgIG9wdGlvbnMuZXZlbnRUeXBlXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1hbmFnZUV2ZW50TGlzdGVuZXJzKG1ldGhvZCkge1xuICAgIG1hbmFnZVRyaWdnZXJFdmVudCh7XG4gICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIGV2ZW50VHlwZTogJ0FuaW1hdGlvbiBTdGFydCcsXG4gICAgICBldmVudE5hbWVzOiBbJ2FuaW1hdGlvbnN0YXJ0JywgJ3dlYmtpdEFuaW1hdGlvblN0YXJ0J11cbiAgICB9KTtcbiAgICBtYW5hZ2VUcmlnZ2VyRXZlbnQoe1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICBldmVudFR5cGU6ICdBbmltYXRpb24gSXRlcmF0aW9uJyxcbiAgICAgIGV2ZW50TmFtZXM6IFsnYW5pbWF0aW9uaXRlcmF0aW9uJywgJ3dlYmtpdEFuaW1hdGlvbkl0ZXJhdGlvbiddXG4gICAgfSk7XG4gICAgbWFuYWdlVHJpZ2dlckV2ZW50KHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgZXZlbnRUeXBlOiAnQW5pbWF0aW9uIEVuZCcsXG4gICAgICBldmVudE5hbWVzOiBbJ2FuaW1hdGlvbmVuZCcsICd3ZWJraXRBbmltYXRpb25FbmQnXVxuICAgIH0pO1xuICAgIG1hbmFnZVRyaWdnZXJFdmVudCh7XG4gICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIGV2ZW50VHlwZTogJ0lucHV0JyxcbiAgICAgIGV2ZW50TmFtZTogJ2lucHV0J1xuICAgIH0pO1xuICAgIG1hbmFnZVRyaWdnZXJFdmVudCh7XG4gICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIGV2ZW50VHlwZTogJ01vdXNlIFVwJyxcbiAgICAgIGV2ZW50TmFtZTogJ21vdXNldXAnXG4gICAgfSk7XG4gICAgbWFuYWdlVHJpZ2dlckV2ZW50KHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgZXZlbnRUeXBlOiAnTW91c2UgRG93bicsXG4gICAgICBldmVudE5hbWU6ICdtb3VzZWRvd24nXG4gICAgfSk7XG4gICAgbWFuYWdlVHJpZ2dlckV2ZW50KHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgZXZlbnRUeXBlOiAnT3JpZW50YXRpb24gQ2hhbmdlJyxcbiAgICAgIGV2ZW50TmFtZTogJ29yaWVudGF0aW9uY2hhbmdlJ1xuICAgIH0pO1xuICAgIG1hbmFnZVRyaWdnZXJFdmVudCh7XG4gICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIGV2ZW50VHlwZTogJ1ByaW50JyxcbiAgICAgIGV2ZW50TmFtZTogWydhZnRlcnByaW50JywgJ2JlZm9yZXByaW50J11cbiAgICB9KTtcbiAgICBtYW5hZ2VUcmlnZ2VyRXZlbnQoe1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICBldmVudFR5cGU6ICdSZWFkeSBTdGF0ZSBDaGFuZ2UnLFxuICAgICAgZXZlbnROYW1lOiAncmVhZHlzdGF0ZWNoYW5nZSdcbiAgICB9KTtcbiAgICBtYW5hZ2VUcmlnZ2VyRXZlbnQoe1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICBldmVudFR5cGU6ICdUb3VjaCBTdGFydCcsXG4gICAgICBldmVudE5hbWU6ICd0b3VjaHN0YXJ0J1xuICAgIH0pO1xuICAgIG1hbmFnZVRyaWdnZXJFdmVudCh7XG4gICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIGV2ZW50VHlwZTogJ1RvdWNoIEVuZCcsXG4gICAgICBldmVudE5hbWU6ICd0b3VjaGVuZCdcbiAgICB9KTtcbiAgICBtYW5hZ2VUcmlnZ2VyRXZlbnQoe1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICBldmVudFR5cGU6ICdUb3VjaCBDYW5jZWwnLFxuICAgICAgZXZlbnROYW1lOiAndG91Y2hjYW5jZWwnXG4gICAgfSk7XG4gICAgbWFuYWdlVHJpZ2dlckV2ZW50KHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgZXZlbnRUeXBlOiAnVHJhbnNpdGlvbiBTdGFydCcsXG4gICAgICBldmVudE5hbWVzOiBbXG4gICAgICAgICd0cmFuc2l0aW9uc3RhcnQnLFxuICAgICAgICAnd2Via2l0VHJhbnNpdGlvblN0YXJ0JyxcbiAgICAgICAgJ01TVHJhbnNpdGlvblN0YXJ0JyxcbiAgICAgICAgJ29UcmFuc2l0aW9uU3RhcnQnLFxuICAgICAgICAnb3RyYW5zaXRpb25zdGFydCdcbiAgICAgIF1cbiAgICB9KTtcbiAgICBtYW5hZ2VUcmlnZ2VyRXZlbnQoe1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICBldmVudFR5cGU6ICdUcmFuc2l0aW9uIEl0ZXJhdGlvbicsXG4gICAgICBldmVudE5hbWVzOiBbXG4gICAgICAgICd0cmFuc2l0aW9uaXRlcmF0aW9uJyxcbiAgICAgICAgJ3dlYmtpdFRyYW5zaXRpb25JdGVyYXRpb24nLFxuICAgICAgICAnTVNUcmFuc2l0aW9uSXRlcmF0aW9uJyxcbiAgICAgICAgJ29UcmFuc2l0aW9uSXRlcmF0aW9uJyxcbiAgICAgICAgJ290cmFuc2l0aW9uaXRlcmF0aW9uJ1xuICAgICAgXVxuICAgIH0pO1xuICAgIG1hbmFnZVRyaWdnZXJFdmVudCh7XG4gICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIGV2ZW50VHlwZTogJ1RyYW5zaXRpb24gRW5kJyxcbiAgICAgIGV2ZW50TmFtZXM6IFtcbiAgICAgICAgJ3RyYW5zaXRpb25lbmQnLFxuICAgICAgICAnd2Via2l0VHJhbnNpdGlvbkVuZCcsXG4gICAgICAgICdNU1RyYW5zaXRpb25FbmQnLFxuICAgICAgICAnb1RyYW5zaXRpb25FbmQnLFxuICAgICAgICAnb3RyYW5zaXRpb25lbmQnXG4gICAgICBdXG4gICAgfSk7XG4gICAgaWYgKCdjaGlsZCcgPT09IHJlc2l6ZUZyb20pIHtcbiAgICAgIG1hbmFnZVRyaWdnZXJFdmVudCh7XG4gICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICBldmVudFR5cGU6ICdJRnJhbWUgUmVzaXplZCcsXG4gICAgICAgIGV2ZW50TmFtZTogJ3Jlc2l6ZSdcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNoZWNrQ2FsY01vZGUoY2FsY01vZGUsIGNhbGNNb2RlRGVmYXVsdCwgbW9kZXMsIHR5cGUpIHtcbiAgICBpZiAoY2FsY01vZGVEZWZhdWx0ICE9PSBjYWxjTW9kZSkge1xuICAgICAgaWYgKCEoY2FsY01vZGUgaW4gbW9kZXMpKSB7XG4gICAgICAgIHdhcm4oXG4gICAgICAgICAgY2FsY01vZGUgKyAnIGlzIG5vdCBhIHZhbGlkIG9wdGlvbiBmb3IgJyArIHR5cGUgKyAnQ2FsY3VsYXRpb25NZXRob2QuJ1xuICAgICAgICApO1xuICAgICAgICBjYWxjTW9kZSA9IGNhbGNNb2RlRGVmYXVsdDtcbiAgICAgIH1cbiAgICAgIGxvZyh0eXBlICsgJyBjYWxjdWxhdGlvbiBtZXRob2Qgc2V0IHRvIFwiJyArIGNhbGNNb2RlICsgJ1wiJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNhbGNNb2RlO1xuICB9XG5cbiAgZnVuY3Rpb24gY2hlY2tIZWlnaHRNb2RlKCkge1xuICAgIGhlaWdodENhbGNNb2RlID0gY2hlY2tDYWxjTW9kZShcbiAgICAgIGhlaWdodENhbGNNb2RlLFxuICAgICAgaGVpZ2h0Q2FsY01vZGVEZWZhdWx0LFxuICAgICAgZ2V0SGVpZ2h0LFxuICAgICAgJ2hlaWdodCdcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gY2hlY2tXaWR0aE1vZGUoKSB7XG4gICAgd2lkdGhDYWxjTW9kZSA9IGNoZWNrQ2FsY01vZGUoXG4gICAgICB3aWR0aENhbGNNb2RlLFxuICAgICAgd2lkdGhDYWxjTW9kZURlZmF1bHQsXG4gICAgICBnZXRXaWR0aCxcbiAgICAgICd3aWR0aCdcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RhcnRFdmVudExpc3RlbmVycygpIHtcbiAgICBpZiAodHJ1ZSA9PT0gYXV0b1Jlc2l6ZSkge1xuICAgICAgbWFuYWdlRXZlbnRMaXN0ZW5lcnMoJ2FkZCcpO1xuICAgICAgc2V0dXBNdXRhdGlvbk9ic2VydmVyKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvZygnQXV0byBSZXNpemUgZGlzYWJsZWQnKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzdG9wTXNnc1RvUGFyZW50KCkge1xuICAgIGxvZygnRGlzYWJsZSBvdXRnb2luZyBtZXNzYWdlcycpO1xuICAgIHNlbmRQZXJtaXQgPSBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZU1zZ0xpc3RlbmVyKCkge1xuICAgIGxvZygnUmVtb3ZlIGV2ZW50IGxpc3RlbmVyOiBNZXNzYWdlJyk7XG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcih3aW5kb3csICdtZXNzYWdlJywgcmVjZWl2ZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gZGlzY29ubmVjdE11dGF0aW9uT2JzZXJ2ZXIoKSB7XG4gICAgaWYgKG51bGwgIT09IGJvZHlPYnNlcnZlcikge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gLy8gTm90IHRlc3RhYmxlIGluIFBoYW50b25KU1xuICAgICAgYm9keU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzdG9wRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgbWFuYWdlRXZlbnRMaXN0ZW5lcnMoJ3JlbW92ZScpO1xuICAgIGRpc2Nvbm5lY3RNdXRhdGlvbk9ic2VydmVyKCk7XG4gICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbFRpbWVyKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRlYXJkb3duKCkge1xuICAgIHN0b3BNc2dzVG9QYXJlbnQoKTtcbiAgICByZW1vdmVNc2dMaXN0ZW5lcigpO1xuICAgIGlmICh0cnVlID09PSBhdXRvUmVzaXplKSBzdG9wRXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluamVjdENsZWFyRml4SW50b0JvZHlFbGVtZW50KCkge1xuICAgIHZhciBjbGVhckZpeCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNsZWFyRml4LnN0eWxlLmNsZWFyID0gJ2JvdGgnO1xuICAgIGNsZWFyRml4LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOyAvL0d1YXJkIGFnYWluc3QgdGhpcyBoYXZpbmcgYmVlbiBnbG9iYWxseSByZWRlZmluZWQgaW4gQ1NTLlxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2xlYXJGaXgpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0dXBJblBhZ2VMaW5rcygpIHtcbiAgICBmdW5jdGlvbiBnZXRQYWdlUG9zaXRpb24oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB4OlxuICAgICAgICAgIHdpbmRvdy5wYWdlWE9mZnNldCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IHdpbmRvdy5wYWdlWE9mZnNldFxuICAgICAgICAgICAgOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCxcbiAgICAgICAgeTpcbiAgICAgICAgICB3aW5kb3cucGFnZVlPZmZzZXQgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyB3aW5kb3cucGFnZVlPZmZzZXRcbiAgICAgICAgICAgIDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRFbGVtZW50UG9zaXRpb24oZWwpIHtcbiAgICAgIHZhciBlbFBvc2l0aW9uID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICAgIHBhZ2VQb3NpdGlvbiA9IGdldFBhZ2VQb3NpdGlvbigpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB4OiBwYXJzZUludChlbFBvc2l0aW9uLmxlZnQsIDEwKSArIHBhcnNlSW50KHBhZ2VQb3NpdGlvbi54LCAxMCksXG4gICAgICAgIHk6IHBhcnNlSW50KGVsUG9zaXRpb24udG9wLCAxMCkgKyBwYXJzZUludChwYWdlUG9zaXRpb24ueSwgMTApXG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZpbmRUYXJnZXQobG9jYXRpb24pIHtcbiAgICAgIGZ1bmN0aW9uIGp1bXBUb1RhcmdldCh0YXJnZXQpIHtcbiAgICAgICAgdmFyIGp1bXBQb3NpdGlvbiA9IGdldEVsZW1lbnRQb3NpdGlvbih0YXJnZXQpO1xuXG4gICAgICAgIGxvZyhcbiAgICAgICAgICAnTW92aW5nIHRvIGluIHBhZ2UgbGluayAoIycgK1xuICAgICAgICAgICAgaGFzaCArXG4gICAgICAgICAgICAnKSBhdCB4OiAnICtcbiAgICAgICAgICAgIGp1bXBQb3NpdGlvbi54ICtcbiAgICAgICAgICAgICcgeTogJyArXG4gICAgICAgICAgICBqdW1wUG9zaXRpb24ueVxuICAgICAgICApO1xuICAgICAgICBzZW5kTXNnKGp1bXBQb3NpdGlvbi55LCBqdW1wUG9zaXRpb24ueCwgJ3Njcm9sbFRvT2Zmc2V0Jyk7IC8vIFgmWSByZXZlcnNlZCBhdCBzZW5kTXNnIHVzZXMgaGVpZ2h0L3dpZHRoXG4gICAgICB9XG5cbiAgICAgIHZhciBoYXNoID0gbG9jYXRpb24uc3BsaXQoJyMnKVsxXSB8fCBsb2NhdGlvbiwgLy9SZW1vdmUgIyBpZiBwcmVzZW50XG4gICAgICAgIGhhc2hEYXRhID0gZGVjb2RlVVJJQ29tcG9uZW50KGhhc2gpLFxuICAgICAgICB0YXJnZXQgPVxuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGhhc2hEYXRhKSB8fFxuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKGhhc2hEYXRhKVswXTtcblxuICAgICAgaWYgKHVuZGVmaW5lZCAhPT0gdGFyZ2V0KSB7XG4gICAgICAgIGp1bXBUb1RhcmdldCh0YXJnZXQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9nKFxuICAgICAgICAgICdJbiBwYWdlIGxpbmsgKCMnICtcbiAgICAgICAgICAgIGhhc2ggK1xuICAgICAgICAgICAgJykgbm90IGZvdW5kIGluIGlGcmFtZSwgc28gc2VuZGluZyB0byBwYXJlbnQnXG4gICAgICAgICk7XG4gICAgICAgIHNlbmRNc2coMCwgMCwgJ2luUGFnZUxpbmsnLCAnIycgKyBoYXNoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjaGVja0xvY2F0aW9uSGFzaCgpIHtcbiAgICAgIGlmICgnJyAhPT0gbG9jYXRpb24uaGFzaCAmJiAnIycgIT09IGxvY2F0aW9uLmhhc2gpIHtcbiAgICAgICAgZmluZFRhcmdldChsb2NhdGlvbi5ocmVmKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBiaW5kQW5jaG9ycygpIHtcbiAgICAgIGZ1bmN0aW9uIHNldHVwTGluayhlbCkge1xuICAgICAgICBmdW5jdGlvbiBsaW5rQ2xpY2tlZChlKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgICAgICAgICBmaW5kVGFyZ2V0KHRoaXMuZ2V0QXR0cmlidXRlKCdocmVmJykpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCcjJyAhPT0gZWwuZ2V0QXR0cmlidXRlKCdocmVmJykpIHtcbiAgICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCAnY2xpY2snLCBsaW5rQ2xpY2tlZCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYVtocmVmXj1cIiNcIl0nKSxcbiAgICAgICAgc2V0dXBMaW5rXG4gICAgICApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGJpbmRMb2NhdGlvbkhhc2goKSB7XG4gICAgICBhZGRFdmVudExpc3RlbmVyKHdpbmRvdywgJ2hhc2hjaGFuZ2UnLCBjaGVja0xvY2F0aW9uSGFzaCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5pdENoZWNrKCkge1xuICAgICAgLy9jaGVjayBpZiBwYWdlIGxvYWRlZCB3aXRoIGxvY2F0aW9uIGhhc2ggYWZ0ZXIgaW5pdCByZXNpemVcbiAgICAgIHNldFRpbWVvdXQoY2hlY2tMb2NhdGlvbkhhc2gsIGV2ZW50Q2FuY2VsVGltZXIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGVuYWJsZUluUGFnZUxpbmtzKCkge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi8gLy8gTm90IHRlc3RhYmxlIGluIHBoYW50b25KU1xuICAgICAgaWYgKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoICYmIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwpIHtcbiAgICAgICAgbG9nKCdTZXR0aW5nIHVwIGxvY2F0aW9uLmhhc2ggaGFuZGxlcnMnKTtcbiAgICAgICAgYmluZEFuY2hvcnMoKTtcbiAgICAgICAgYmluZExvY2F0aW9uSGFzaCgpO1xuICAgICAgICBpbml0Q2hlY2soKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdhcm4oXG4gICAgICAgICAgJ0luIHBhZ2UgbGlua2luZyBub3QgZnVsbHkgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlciEgKFNlZSBSRUFETUUubWQgZm9yIElFOCB3b3JrYXJvdW5kKSdcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaW5QYWdlTGlua3MuZW5hYmxlKSB7XG4gICAgICBlbmFibGVJblBhZ2VMaW5rcygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2coJ0luIHBhZ2UgbGlua2luZyBub3QgZW5hYmxlZCcpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBmaW5kVGFyZ2V0OiBmaW5kVGFyZ2V0XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldHVwUHVibGljTWV0aG9kcygpIHtcbiAgICBsb2coJ0VuYWJsZSBwdWJsaWMgbWV0aG9kcycpO1xuXG4gICAgd2luLnBhcmVudElGcmFtZSA9IHtcbiAgICAgIGF1dG9SZXNpemU6IGZ1bmN0aW9uIGF1dG9SZXNpemVGKHJlc2l6ZSkge1xuICAgICAgICBpZiAodHJ1ZSA9PT0gcmVzaXplICYmIGZhbHNlID09PSBhdXRvUmVzaXplKSB7XG4gICAgICAgICAgYXV0b1Jlc2l6ZSA9IHRydWU7XG4gICAgICAgICAgc3RhcnRFdmVudExpc3RlbmVycygpO1xuICAgICAgICAgIC8vc2VuZFNpemUoJ2F1dG9SZXNpemUnLCdBdXRvIFJlc2l6ZSBlbmFibGVkJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoZmFsc2UgPT09IHJlc2l6ZSAmJiB0cnVlID09PSBhdXRvUmVzaXplKSB7XG4gICAgICAgICAgYXV0b1Jlc2l6ZSA9IGZhbHNlO1xuICAgICAgICAgIHN0b3BFdmVudExpc3RlbmVycygpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGF1dG9SZXNpemU7XG4gICAgICB9LFxuXG4gICAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2VGKCkge1xuICAgICAgICBzZW5kTXNnKDAsIDAsICdjbG9zZScpO1xuICAgICAgICB0ZWFyZG93bigpO1xuICAgICAgfSxcblxuICAgICAgZ2V0SWQ6IGZ1bmN0aW9uIGdldElkRigpIHtcbiAgICAgICAgcmV0dXJuIG15SUQ7XG4gICAgICB9LFxuXG4gICAgICBnZXRQYWdlSW5mbzogZnVuY3Rpb24gZ2V0UGFnZUluZm9GKGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICgnZnVuY3Rpb24nID09PSB0eXBlb2YgY2FsbGJhY2spIHtcbiAgICAgICAgICBwYWdlSW5mb0NhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICAgICAgc2VuZE1zZygwLCAwLCAncGFnZUluZm8nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYWdlSW5mb0NhbGxiYWNrID0gZnVuY3Rpb24oKSB7fTtcbiAgICAgICAgICBzZW5kTXNnKDAsIDAsICdwYWdlSW5mb1N0b3AnKTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgbW92ZVRvQW5jaG9yOiBmdW5jdGlvbiBtb3ZlVG9BbmNob3JGKGhhc2gpIHtcbiAgICAgICAgaW5QYWdlTGlua3MuZmluZFRhcmdldChoYXNoKTtcbiAgICAgIH0sXG5cbiAgICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldEYoKSB7XG4gICAgICAgIHJlc2V0SUZyYW1lKCdwYXJlbnRJRnJhbWUucmVzZXQnKTtcbiAgICAgIH0sXG5cbiAgICAgIHNjcm9sbFRvOiBmdW5jdGlvbiBzY3JvbGxUb0YoeCwgeSkge1xuICAgICAgICBzZW5kTXNnKHksIHgsICdzY3JvbGxUbycpOyAvLyBYJlkgcmV2ZXJzZWQgYXQgc2VuZE1zZyB1c2VzIGhlaWdodC93aWR0aFxuICAgICAgfSxcblxuICAgICAgc2Nyb2xsVG9PZmZzZXQ6IGZ1bmN0aW9uIHNjcm9sbFRvRih4LCB5KSB7XG4gICAgICAgIHNlbmRNc2coeSwgeCwgJ3Njcm9sbFRvT2Zmc2V0Jyk7IC8vIFgmWSByZXZlcnNlZCBhdCBzZW5kTXNnIHVzZXMgaGVpZ2h0L3dpZHRoXG4gICAgICB9LFxuXG4gICAgICBzZW5kTWVzc2FnZTogZnVuY3Rpb24gc2VuZE1lc3NhZ2VGKG1zZywgdGFyZ2V0T3JpZ2luKSB7XG4gICAgICAgIHNlbmRNc2coMCwgMCwgJ21lc3NhZ2UnLCBKU09OLnN0cmluZ2lmeShtc2cpLCB0YXJnZXRPcmlnaW4pO1xuICAgICAgfSxcblxuICAgICAgc2V0SGVpZ2h0Q2FsY3VsYXRpb25NZXRob2Q6IGZ1bmN0aW9uIHNldEhlaWdodENhbGN1bGF0aW9uTWV0aG9kRihcbiAgICAgICAgaGVpZ2h0Q2FsY3VsYXRpb25NZXRob2RcbiAgICAgICkge1xuICAgICAgICBoZWlnaHRDYWxjTW9kZSA9IGhlaWdodENhbGN1bGF0aW9uTWV0aG9kO1xuICAgICAgICBjaGVja0hlaWdodE1vZGUoKTtcbiAgICAgIH0sXG5cbiAgICAgIHNldFdpZHRoQ2FsY3VsYXRpb25NZXRob2Q6IGZ1bmN0aW9uIHNldFdpZHRoQ2FsY3VsYXRpb25NZXRob2RGKFxuICAgICAgICB3aWR0aENhbGN1bGF0aW9uTWV0aG9kXG4gICAgICApIHtcbiAgICAgICAgd2lkdGhDYWxjTW9kZSA9IHdpZHRoQ2FsY3VsYXRpb25NZXRob2Q7XG4gICAgICAgIGNoZWNrV2lkdGhNb2RlKCk7XG4gICAgICB9LFxuXG4gICAgICBzZXRUYXJnZXRPcmlnaW46IGZ1bmN0aW9uIHNldFRhcmdldE9yaWdpbkYodGFyZ2V0T3JpZ2luKSB7XG4gICAgICAgIGxvZygnU2V0IHRhcmdldE9yaWdpbjogJyArIHRhcmdldE9yaWdpbik7XG4gICAgICAgIHRhcmdldE9yaWdpbkRlZmF1bHQgPSB0YXJnZXRPcmlnaW47XG4gICAgICB9LFxuXG4gICAgICBzaXplOiBmdW5jdGlvbiBzaXplRihjdXN0b21IZWlnaHQsIGN1c3RvbVdpZHRoKSB7XG4gICAgICAgIHZhciB2YWxTdHJpbmcgPVxuICAgICAgICAgICcnICtcbiAgICAgICAgICAoY3VzdG9tSGVpZ2h0ID8gY3VzdG9tSGVpZ2h0IDogJycpICtcbiAgICAgICAgICAoY3VzdG9tV2lkdGggPyAnLCcgKyBjdXN0b21XaWR0aCA6ICcnKTtcbiAgICAgICAgLy9sb2NrVHJpZ2dlcigpO1xuICAgICAgICBzZW5kU2l6ZShcbiAgICAgICAgICAnc2l6ZScsXG4gICAgICAgICAgJ3BhcmVudElGcmFtZS5zaXplKCcgKyB2YWxTdHJpbmcgKyAnKScsXG4gICAgICAgICAgY3VzdG9tSGVpZ2h0LFxuICAgICAgICAgIGN1c3RvbVdpZHRoXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRJbnRlcnZhbCgpIHtcbiAgICBpZiAoMCAhPT0gaW50ZXJ2YWwpIHtcbiAgICAgIGxvZygnc2V0SW50ZXJ2YWw6ICcgKyBpbnRlcnZhbCArICdtcycpO1xuICAgICAgaW50ZXJ2YWxUaW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICBzZW5kU2l6ZSgnaW50ZXJ2YWwnLCAnc2V0SW50ZXJ2YWw6ICcgKyBpbnRlcnZhbCk7XG4gICAgICB9LCBNYXRoLmFicyhpbnRlcnZhbCkpO1xuICAgIH1cbiAgfSAvL05vdCB0ZXN0YWJsZSBpbiBQaGFudG9tSlNcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBmdW5jdGlvbiBzZXR1cEJvZHlNdXRhdGlvbk9ic2VydmVyKCkge1xuICAgIGZ1bmN0aW9uIGFkZEltYWdlTG9hZExpc3RuZXJzKG11dGF0aW9uKSB7XG4gICAgICBmdW5jdGlvbiBhZGRJbWFnZUxvYWRMaXN0ZW5lcihlbGVtZW50KSB7XG4gICAgICAgIGlmIChmYWxzZSA9PT0gZWxlbWVudC5jb21wbGV0ZSkge1xuICAgICAgICAgIGxvZygnQXR0YWNoIGxpc3RlbmVycyB0byAnICsgZWxlbWVudC5zcmMpO1xuICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGltYWdlTG9hZGVkLCBmYWxzZSk7XG4gICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGltYWdlRXJyb3IsIGZhbHNlKTtcbiAgICAgICAgICBlbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChtdXRhdGlvbi50eXBlID09PSAnYXR0cmlidXRlcycgJiYgbXV0YXRpb24uYXR0cmlidXRlTmFtZSA9PT0gJ3NyYycpIHtcbiAgICAgICAgYWRkSW1hZ2VMb2FkTGlzdGVuZXIobXV0YXRpb24udGFyZ2V0KTtcbiAgICAgIH0gZWxzZSBpZiAobXV0YXRpb24udHlwZSA9PT0gJ2NoaWxkTGlzdCcpIHtcbiAgICAgICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChcbiAgICAgICAgICBtdXRhdGlvbi50YXJnZXQucXVlcnlTZWxlY3RvckFsbCgnaW1nJyksXG4gICAgICAgICAgYWRkSW1hZ2VMb2FkTGlzdGVuZXJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW1vdmVGcm9tQXJyYXkoZWxlbWVudCkge1xuICAgICAgZWxlbWVudHMuc3BsaWNlKGVsZW1lbnRzLmluZGV4T2YoZWxlbWVudCksIDEpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbW92ZUltYWdlTG9hZExpc3RlbmVyKGVsZW1lbnQpIHtcbiAgICAgIGxvZygnUmVtb3ZlIGxpc3RlbmVycyBmcm9tICcgKyBlbGVtZW50LnNyYyk7XG4gICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBpbWFnZUxvYWRlZCwgZmFsc2UpO1xuICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIGltYWdlRXJyb3IsIGZhbHNlKTtcbiAgICAgIHJlbW92ZUZyb21BcnJheShlbGVtZW50KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbWFnZUV2ZW50VHJpZ2dlcmVkKGV2ZW50LCB0eXBlLCB0eXBlRGVzYykge1xuICAgICAgcmVtb3ZlSW1hZ2VMb2FkTGlzdGVuZXIoZXZlbnQudGFyZ2V0KTtcbiAgICAgIHNlbmRTaXplKHR5cGUsIHR5cGVEZXNjICsgJzogJyArIGV2ZW50LnRhcmdldC5zcmMsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbWFnZUxvYWRlZChldmVudCkge1xuICAgICAgaW1hZ2VFdmVudFRyaWdnZXJlZChldmVudCwgJ2ltYWdlTG9hZCcsICdJbWFnZSBsb2FkZWQnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbWFnZUVycm9yKGV2ZW50KSB7XG4gICAgICBpbWFnZUV2ZW50VHJpZ2dlcmVkKGV2ZW50LCAnaW1hZ2VMb2FkRmFpbGVkJywgJ0ltYWdlIGxvYWQgZmFpbGVkJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbXV0YXRpb25PYnNlcnZlZChtdXRhdGlvbnMpIHtcbiAgICAgIHNlbmRTaXplKFxuICAgICAgICAnbXV0YXRpb25PYnNlcnZlcicsXG4gICAgICAgICdtdXRhdGlvbk9ic2VydmVyOiAnICsgbXV0YXRpb25zWzBdLnRhcmdldCArICcgJyArIG11dGF0aW9uc1swXS50eXBlXG4gICAgICApO1xuXG4gICAgICAvL0RlYWwgd2l0aCBXZWJLaXQgYXN5bmNpbmcgaW1hZ2UgbG9hZGluZyB3aGVuIHRhZ3MgYXJlIGluamVjdGVkIGludG8gdGhlIHBhZ2VcbiAgICAgIG11dGF0aW9ucy5mb3JFYWNoKGFkZEltYWdlTG9hZExpc3RuZXJzKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVNdXRhdGlvbk9ic2VydmVyKCkge1xuICAgICAgdmFyIHRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKSxcbiAgICAgICAgY29uZmlnID0ge1xuICAgICAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgICAgICAgYXR0cmlidXRlT2xkVmFsdWU6IGZhbHNlLFxuICAgICAgICAgIGNoYXJhY3RlckRhdGE6IHRydWUsXG4gICAgICAgICAgY2hhcmFjdGVyRGF0YU9sZFZhbHVlOiBmYWxzZSxcbiAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICAgICAgc3VidHJlZTogdHJ1ZVxuICAgICAgICB9O1xuXG4gICAgICBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKG11dGF0aW9uT2JzZXJ2ZWQpO1xuXG4gICAgICBsb2coJ0NyZWF0ZSBib2R5IE11dGF0aW9uT2JzZXJ2ZXInKTtcbiAgICAgIG9ic2VydmVyLm9ic2VydmUodGFyZ2V0LCBjb25maWcpO1xuXG4gICAgICByZXR1cm4gb2JzZXJ2ZXI7XG4gICAgfVxuXG4gICAgdmFyIGVsZW1lbnRzID0gW10sXG4gICAgICBNdXRhdGlvbk9ic2VydmVyID1cbiAgICAgICAgd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIgfHwgd2luZG93LldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsXG4gICAgICBvYnNlcnZlciA9IGNyZWF0ZU11dGF0aW9uT2JzZXJ2ZXIoKTtcblxuICAgIHJldHVybiB7XG4gICAgICBkaXNjb25uZWN0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCdkaXNjb25uZWN0JyBpbiBvYnNlcnZlcikge1xuICAgICAgICAgIGxvZygnRGlzY29ubmVjdCBib2R5IE11dGF0aW9uT2JzZXJ2ZXInKTtcbiAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgZWxlbWVudHMuZm9yRWFjaChyZW1vdmVJbWFnZUxvYWRMaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0dXBNdXRhdGlvbk9ic2VydmVyKCkge1xuICAgIHZhciBmb3JjZUludGVydmFsVGltZXIgPSAwID4gaW50ZXJ2YWw7IC8vIE5vdCB0ZXN0YWJsZSBpbiBQaGFudG9tSlNcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLyBpZiAoXG4gICAgICB3aW5kb3cuTXV0YXRpb25PYnNlcnZlciB8fFxuICAgICAgd2luZG93LldlYktpdE11dGF0aW9uT2JzZXJ2ZXJcbiAgICApIHtcbiAgICAgIGlmIChmb3JjZUludGVydmFsVGltZXIpIHtcbiAgICAgICAgaW5pdEludGVydmFsKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBib2R5T2JzZXJ2ZXIgPSBzZXR1cEJvZHlNdXRhdGlvbk9ic2VydmVyKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvZygnTXV0YXRpb25PYnNlcnZlciBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlciEnKTtcbiAgICAgIGluaXRJbnRlcnZhbCgpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vZmZzZXRIZWlnaHQgaXMgbm90IHJlbGlhYmxlLCBzb1xuICAvLyB3ZSBoYXZlIHRvIGp1bXAgdGhyb3VnaCBob29wcyB0byBnZXQgYSBiZXR0ZXIgdmFsdWUuXG4gIGZ1bmN0aW9uIGdldENvbXB1dGVkU3R5bGUocHJvcCwgZWwpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyAvL05vdCB0ZXN0YWJsZSBpbiBQaGFudG9tSlNcbiAgICBmdW5jdGlvbiBjb252ZXJ0VW5pdHNUb1B4Rm9ySUU4KHZhbHVlKSB7XG4gICAgICB2YXIgUElYRUwgPSAvXlxcZCsocHgpPyQvaTtcblxuICAgICAgaWYgKFBJWEVMLnRlc3QodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUludCh2YWx1ZSwgYmFzZSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBzdHlsZSA9IGVsLnN0eWxlLmxlZnQsXG4gICAgICAgIHJ1bnRpbWVTdHlsZSA9IGVsLnJ1bnRpbWVTdHlsZS5sZWZ0O1xuXG4gICAgICBlbC5ydW50aW1lU3R5bGUubGVmdCA9IGVsLmN1cnJlbnRTdHlsZS5sZWZ0O1xuICAgICAgZWwuc3R5bGUubGVmdCA9IHZhbHVlIHx8IDA7XG4gICAgICB2YWx1ZSA9IGVsLnN0eWxlLnBpeGVsTGVmdDtcbiAgICAgIGVsLnN0eWxlLmxlZnQgPSBzdHlsZTtcbiAgICAgIGVsLnJ1bnRpbWVTdHlsZS5sZWZ0ID0gcnVudGltZVN0eWxlO1xuXG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgdmFyIHJldFZhbCA9IDA7XG4gICAgZWwgPSBlbCB8fCBkb2N1bWVudC5ib2R5OyAvLyBOb3QgdGVzdGFibGUgaW4gcGhhbnRvbkpTXG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqLyBpZiAoXG4gICAgICAnZGVmYXVsdFZpZXcnIGluIGRvY3VtZW50ICYmXG4gICAgICAnZ2V0Q29tcHV0ZWRTdHlsZScgaW4gZG9jdW1lbnQuZGVmYXVsdFZpZXdcbiAgICApIHtcbiAgICAgIHJldFZhbCA9IGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoZWwsIG51bGwpO1xuICAgICAgcmV0VmFsID0gbnVsbCAhPT0gcmV0VmFsID8gcmV0VmFsW3Byb3BdIDogMDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy9JRThcbiAgICAgIHJldFZhbCA9IGNvbnZlcnRVbml0c1RvUHhGb3JJRTgoZWwuY3VycmVudFN0eWxlW3Byb3BdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VJbnQocmV0VmFsLCBiYXNlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNoa0V2ZW50VGhvdHRsZSh0aW1lcikge1xuICAgIGlmICh0aW1lciA+IHRocm90dGxlZFRpbWVyIC8gMikge1xuICAgICAgdGhyb3R0bGVkVGltZXIgPSAyICogdGltZXI7XG4gICAgICBsb2coJ0V2ZW50IHRocm90dGxlIGluY3JlYXNlZCB0byAnICsgdGhyb3R0bGVkVGltZXIgKyAnbXMnKTtcbiAgICB9XG4gIH1cblxuICAvL0lkZWEgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZ3VhcmRpYW4vaWZyYW1lLW1lc3NlbmdlclxuICBmdW5jdGlvbiBnZXRNYXhFbGVtZW50KHNpZGUsIGVsZW1lbnRzKSB7XG4gICAgdmFyIGVsZW1lbnRzTGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoLFxuICAgICAgZWxWYWwgPSAwLFxuICAgICAgbWF4VmFsID0gMCxcbiAgICAgIFNpZGUgPSBjYXBpdGFsaXplRmlyc3RMZXR0ZXIoc2lkZSksXG4gICAgICB0aW1lciA9IGdldE5vdygpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50c0xlbmd0aDsgaSsrKSB7XG4gICAgICBlbFZhbCA9XG4gICAgICAgIGVsZW1lbnRzW2ldLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW3NpZGVdICtcbiAgICAgICAgZ2V0Q29tcHV0ZWRTdHlsZSgnbWFyZ2luJyArIFNpZGUsIGVsZW1lbnRzW2ldKTtcbiAgICAgIGlmIChlbFZhbCA+IG1heFZhbCkge1xuICAgICAgICBtYXhWYWwgPSBlbFZhbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aW1lciA9IGdldE5vdygpIC0gdGltZXI7XG5cbiAgICBsb2coJ1BhcnNlZCAnICsgZWxlbWVudHNMZW5ndGggKyAnIEhUTUwgZWxlbWVudHMnKTtcbiAgICBsb2coJ0VsZW1lbnQgcG9zaXRpb24gY2FsY3VsYXRlZCBpbiAnICsgdGltZXIgKyAnbXMnKTtcblxuICAgIGNoa0V2ZW50VGhvdHRsZSh0aW1lcik7XG5cbiAgICByZXR1cm4gbWF4VmFsO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0QWxsTWVhc3VyZW1lbnRzKGRpbWVudGlvbikge1xuICAgIHJldHVybiBbXG4gICAgICBkaW1lbnRpb24uYm9keU9mZnNldCgpLFxuICAgICAgZGltZW50aW9uLmJvZHlTY3JvbGwoKSxcbiAgICAgIGRpbWVudGlvbi5kb2N1bWVudEVsZW1lbnRPZmZzZXQoKSxcbiAgICAgIGRpbWVudGlvbi5kb2N1bWVudEVsZW1lbnRTY3JvbGwoKVxuICAgIF07XG4gIH1cblxuICBmdW5jdGlvbiBnZXRUYWdnZWRFbGVtZW50cyhzaWRlLCB0YWcpIHtcbiAgICBmdW5jdGlvbiBub1RhZ2dlZEVsZW1lbnRzRm91bmQoKSB7XG4gICAgICB3YXJuKCdObyB0YWdnZWQgZWxlbWVudHMgKCcgKyB0YWcgKyAnKSBmb3VuZCBvbiBwYWdlJyk7XG4gICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYm9keSAqJyk7XG4gICAgfVxuXG4gICAgdmFyIGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnWycgKyB0YWcgKyAnXScpO1xuXG4gICAgaWYgKDAgPT09IGVsZW1lbnRzLmxlbmd0aCkgbm9UYWdnZWRFbGVtZW50c0ZvdW5kKCk7XG5cbiAgICByZXR1cm4gZ2V0TWF4RWxlbWVudChzaWRlLCBlbGVtZW50cyk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRBbGxFbGVtZW50cygpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYm9keSAqJyk7XG4gIH1cblxuICB2YXIgZ2V0SGVpZ2h0ID0ge1xuICAgICAgYm9keU9mZnNldDogZnVuY3Rpb24gZ2V0Qm9keU9mZnNldEhlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodCArXG4gICAgICAgICAgZ2V0Q29tcHV0ZWRTdHlsZSgnbWFyZ2luVG9wJykgK1xuICAgICAgICAgIGdldENvbXB1dGVkU3R5bGUoJ21hcmdpbkJvdHRvbScpXG4gICAgICAgICk7XG4gICAgICB9LFxuXG4gICAgICBvZmZzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gZ2V0SGVpZ2h0LmJvZHlPZmZzZXQoKTsgLy9CYWNrd2FyZHMgY29tcGF0YWJpbGl0eVxuICAgICAgfSxcblxuICAgICAgYm9keVNjcm9sbDogZnVuY3Rpb24gZ2V0Qm9keVNjcm9sbEhlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0O1xuICAgICAgfSxcblxuICAgICAgY3VzdG9tOiBmdW5jdGlvbiBnZXRDdXN0b21XaWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIGN1c3RvbUNhbGNNZXRob2RzLmhlaWdodCgpO1xuICAgICAgfSxcblxuICAgICAgZG9jdW1lbnRFbGVtZW50T2Zmc2V0OiBmdW5jdGlvbiBnZXRERU9mZnNldEhlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgICB9LFxuXG4gICAgICBkb2N1bWVudEVsZW1lbnRTY3JvbGw6IGZ1bmN0aW9uIGdldERFU2Nyb2xsSGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodDtcbiAgICAgIH0sXG5cbiAgICAgIG1heDogZnVuY3Rpb24gZ2V0TWF4SGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gTWF0aC5tYXguYXBwbHkobnVsbCwgZ2V0QWxsTWVhc3VyZW1lbnRzKGdldEhlaWdodCkpO1xuICAgICAgfSxcblxuICAgICAgbWluOiBmdW5jdGlvbiBnZXRNaW5IZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1pbi5hcHBseShudWxsLCBnZXRBbGxNZWFzdXJlbWVudHMoZ2V0SGVpZ2h0KSk7XG4gICAgICB9LFxuXG4gICAgICBncm93OiBmdW5jdGlvbiBncm93SGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gZ2V0SGVpZ2h0Lm1heCgpOyAvL1J1biBtYXggd2l0aG91dCB0aGUgZm9yY2VkIGRvd25zaXppbmdcbiAgICAgIH0sXG5cbiAgICAgIGxvd2VzdEVsZW1lbnQ6IGZ1bmN0aW9uIGdldEJlc3RIZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heChcbiAgICAgICAgICBnZXRIZWlnaHQuYm9keU9mZnNldCgpIHx8IGdldEhlaWdodC5kb2N1bWVudEVsZW1lbnRPZmZzZXQoKSxcbiAgICAgICAgICBnZXRNYXhFbGVtZW50KCdib3R0b20nLCBnZXRBbGxFbGVtZW50cygpKVxuICAgICAgICApO1xuICAgICAgfSxcblxuICAgICAgdGFnZ2VkRWxlbWVudDogZnVuY3Rpb24gZ2V0VGFnZ2VkRWxlbWVudHNIZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiBnZXRUYWdnZWRFbGVtZW50cygnYm90dG9tJywgJ2RhdGEtaWZyYW1lLWhlaWdodCcpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0V2lkdGggPSB7XG4gICAgICBib2R5U2Nyb2xsOiBmdW5jdGlvbiBnZXRCb2R5U2Nyb2xsV2lkdGgoKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5ib2R5LnNjcm9sbFdpZHRoO1xuICAgICAgfSxcblxuICAgICAgYm9keU9mZnNldDogZnVuY3Rpb24gZ2V0Qm9keU9mZnNldFdpZHRoKCkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5vZmZzZXRXaWR0aDtcbiAgICAgIH0sXG5cbiAgICAgIGN1c3RvbTogZnVuY3Rpb24gZ2V0Q3VzdG9tV2lkdGgoKSB7XG4gICAgICAgIHJldHVybiBjdXN0b21DYWxjTWV0aG9kcy53aWR0aCgpO1xuICAgICAgfSxcblxuICAgICAgZG9jdW1lbnRFbGVtZW50U2Nyb2xsOiBmdW5jdGlvbiBnZXRERVNjcm9sbFdpZHRoKCkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFdpZHRoO1xuICAgICAgfSxcblxuICAgICAgZG9jdW1lbnRFbGVtZW50T2Zmc2V0OiBmdW5jdGlvbiBnZXRERU9mZnNldFdpZHRoKCkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgICAgfSxcblxuICAgICAgc2Nyb2xsOiBmdW5jdGlvbiBnZXRNYXhXaWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KFxuICAgICAgICAgIGdldFdpZHRoLmJvZHlTY3JvbGwoKSxcbiAgICAgICAgICBnZXRXaWR0aC5kb2N1bWVudEVsZW1lbnRTY3JvbGwoKVxuICAgICAgICApO1xuICAgICAgfSxcblxuICAgICAgbWF4OiBmdW5jdGlvbiBnZXRNYXhXaWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4LmFwcGx5KG51bGwsIGdldEFsbE1lYXN1cmVtZW50cyhnZXRXaWR0aCkpO1xuICAgICAgfSxcblxuICAgICAgbWluOiBmdW5jdGlvbiBnZXRNaW5XaWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWluLmFwcGx5KG51bGwsIGdldEFsbE1lYXN1cmVtZW50cyhnZXRXaWR0aCkpO1xuICAgICAgfSxcblxuICAgICAgcmlnaHRNb3N0RWxlbWVudDogZnVuY3Rpb24gcmlnaHRNb3N0RWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIGdldE1heEVsZW1lbnQoJ3JpZ2h0JywgZ2V0QWxsRWxlbWVudHMoKSk7XG4gICAgICB9LFxuXG4gICAgICB0YWdnZWRFbGVtZW50OiBmdW5jdGlvbiBnZXRUYWdnZWRFbGVtZW50c1dpZHRoKCkge1xuICAgICAgICByZXR1cm4gZ2V0VGFnZ2VkRWxlbWVudHMoJ3JpZ2h0JywgJ2RhdGEtaWZyYW1lLXdpZHRoJyk7XG4gICAgICB9XG4gICAgfTtcblxuICBmdW5jdGlvbiBzaXplSUZyYW1lKFxuICAgIHRyaWdnZXJFdmVudCxcbiAgICB0cmlnZ2VyRXZlbnREZXNjLFxuICAgIGN1c3RvbUhlaWdodCxcbiAgICBjdXN0b21XaWR0aFxuICApIHtcbiAgICBmdW5jdGlvbiByZXNpemVJRnJhbWUoKSB7XG4gICAgICBoZWlnaHQgPSBjdXJyZW50SGVpZ2h0O1xuICAgICAgd2lkdGggPSBjdXJyZW50V2lkdGg7XG5cbiAgICAgIHNlbmRNc2coaGVpZ2h0LCB3aWR0aCwgdHJpZ2dlckV2ZW50KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1NpemVDaGFuZ2VEZXRlY3RlZCgpIHtcbiAgICAgIGZ1bmN0aW9uIGNoZWNrVG9sYXJhbmNlKGEsIGIpIHtcbiAgICAgICAgdmFyIHJldFZhbCA9IE1hdGguYWJzKGEgLSBiKSA8PSB0b2xlcmFuY2U7XG4gICAgICAgIHJldHVybiAhcmV0VmFsO1xuICAgICAgfVxuXG4gICAgICBjdXJyZW50SGVpZ2h0ID1cbiAgICAgICAgdW5kZWZpbmVkICE9PSBjdXN0b21IZWlnaHQgPyBjdXN0b21IZWlnaHQgOiBnZXRIZWlnaHRbaGVpZ2h0Q2FsY01vZGVdKCk7XG4gICAgICBjdXJyZW50V2lkdGggPVxuICAgICAgICB1bmRlZmluZWQgIT09IGN1c3RvbVdpZHRoID8gY3VzdG9tV2lkdGggOiBnZXRXaWR0aFt3aWR0aENhbGNNb2RlXSgpO1xuXG4gICAgICByZXR1cm4gKFxuICAgICAgICBjaGVja1RvbGFyYW5jZShoZWlnaHQsIGN1cnJlbnRIZWlnaHQpIHx8XG4gICAgICAgIChjYWxjdWxhdGVXaWR0aCAmJiBjaGVja1RvbGFyYW5jZSh3aWR0aCwgY3VycmVudFdpZHRoKSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNGb3JjZVJlc2l6YWJsZUV2ZW50KCkge1xuICAgICAgcmV0dXJuICEodHJpZ2dlckV2ZW50IGluIHsgaW5pdDogMSwgaW50ZXJ2YWw6IDEsIHNpemU6IDEgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNGb3JjZVJlc2l6YWJsZUNhbGNNb2RlKCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgaGVpZ2h0Q2FsY01vZGUgaW4gcmVzZXRSZXF1aXJlZE1ldGhvZHMgfHxcbiAgICAgICAgKGNhbGN1bGF0ZVdpZHRoICYmIHdpZHRoQ2FsY01vZGUgaW4gcmVzZXRSZXF1aXJlZE1ldGhvZHMpXG4gICAgICApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvZ0lnbm9yZWQoKSB7XG4gICAgICBsb2coJ05vIGNoYW5nZSBpbiBzaXplIGRldGVjdGVkJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2hlY2tEb3duU2l6aW5nKCkge1xuICAgICAgaWYgKGlzRm9yY2VSZXNpemFibGVFdmVudCgpICYmIGlzRm9yY2VSZXNpemFibGVDYWxjTW9kZSgpKSB7XG4gICAgICAgIHJlc2V0SUZyYW1lKHRyaWdnZXJFdmVudERlc2MpO1xuICAgICAgfSBlbHNlIGlmICghKHRyaWdnZXJFdmVudCBpbiB7IGludGVydmFsOiAxIH0pKSB7XG4gICAgICAgIGxvZ0lnbm9yZWQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgY3VycmVudEhlaWdodCwgY3VycmVudFdpZHRoO1xuXG4gICAgaWYgKGlzU2l6ZUNoYW5nZURldGVjdGVkKCkgfHwgJ2luaXQnID09PSB0cmlnZ2VyRXZlbnQpIHtcbiAgICAgIGxvY2tUcmlnZ2VyKCk7XG4gICAgICByZXNpemVJRnJhbWUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2hlY2tEb3duU2l6aW5nKCk7XG4gICAgfVxuICB9XG5cbiAgdmFyIHNpemVJRnJhbWVUaHJvdHRsZWQgPSB0aHJvdHRsZShzaXplSUZyYW1lKTtcblxuICBmdW5jdGlvbiBzZW5kU2l6ZSh0cmlnZ2VyRXZlbnQsIHRyaWdnZXJFdmVudERlc2MsIGN1c3RvbUhlaWdodCwgY3VzdG9tV2lkdGgpIHtcbiAgICBmdW5jdGlvbiByZWNvcmRUcmlnZ2VyKCkge1xuICAgICAgaWYgKCEodHJpZ2dlckV2ZW50IGluIHsgcmVzZXQ6IDEsIHJlc2V0UGFnZTogMSwgaW5pdDogMSB9KSkge1xuICAgICAgICBsb2coJ1RyaWdnZXIgZXZlbnQ6ICcgKyB0cmlnZ2VyRXZlbnREZXNjKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0RvdWJsZUZpcmVkRXZlbnQoKSB7XG4gICAgICByZXR1cm4gdHJpZ2dlckxvY2tlZCAmJiB0cmlnZ2VyRXZlbnQgaW4gZG91YmxlRXZlbnRMaXN0O1xuICAgIH1cblxuICAgIGlmICghaXNEb3VibGVGaXJlZEV2ZW50KCkpIHtcbiAgICAgIHJlY29yZFRyaWdnZXIoKTtcbiAgICAgIGlmICh0cmlnZ2VyRXZlbnQgPT09ICdpbml0Jykge1xuICAgICAgICBzaXplSUZyYW1lKHRyaWdnZXJFdmVudCwgdHJpZ2dlckV2ZW50RGVzYywgY3VzdG9tSGVpZ2h0LCBjdXN0b21XaWR0aCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzaXplSUZyYW1lVGhyb3R0bGVkKFxuICAgICAgICAgIHRyaWdnZXJFdmVudCxcbiAgICAgICAgICB0cmlnZ2VyRXZlbnREZXNjLFxuICAgICAgICAgIGN1c3RvbUhlaWdodCxcbiAgICAgICAgICBjdXN0b21XaWR0aFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsb2coJ1RyaWdnZXIgZXZlbnQgY2FuY2VsbGVkOiAnICsgdHJpZ2dlckV2ZW50KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBsb2NrVHJpZ2dlcigpIHtcbiAgICBpZiAoIXRyaWdnZXJMb2NrZWQpIHtcbiAgICAgIHRyaWdnZXJMb2NrZWQgPSB0cnVlO1xuICAgICAgbG9nKCdUcmlnZ2VyIGV2ZW50IGxvY2sgb24nKTtcbiAgICB9XG4gICAgY2xlYXJUaW1lb3V0KHRyaWdnZXJMb2NrZWRUaW1lcik7XG4gICAgdHJpZ2dlckxvY2tlZFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIHRyaWdnZXJMb2NrZWQgPSBmYWxzZTtcbiAgICAgIGxvZygnVHJpZ2dlciBldmVudCBsb2NrIG9mZicpO1xuICAgICAgbG9nKCctLScpO1xuICAgIH0sIGV2ZW50Q2FuY2VsVGltZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJpZ2dlclJlc2V0KHRyaWdnZXJFdmVudCkge1xuICAgIGhlaWdodCA9IGdldEhlaWdodFtoZWlnaHRDYWxjTW9kZV0oKTtcbiAgICB3aWR0aCA9IGdldFdpZHRoW3dpZHRoQ2FsY01vZGVdKCk7XG5cbiAgICBzZW5kTXNnKGhlaWdodCwgd2lkdGgsIHRyaWdnZXJFdmVudCk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldElGcmFtZSh0cmlnZ2VyRXZlbnREZXNjKSB7XG4gICAgdmFyIGhjbSA9IGhlaWdodENhbGNNb2RlO1xuICAgIGhlaWdodENhbGNNb2RlID0gaGVpZ2h0Q2FsY01vZGVEZWZhdWx0O1xuXG4gICAgbG9nKCdSZXNldCB0cmlnZ2VyIGV2ZW50OiAnICsgdHJpZ2dlckV2ZW50RGVzYyk7XG4gICAgbG9ja1RyaWdnZXIoKTtcbiAgICB0cmlnZ2VyUmVzZXQoJ3Jlc2V0Jyk7XG5cbiAgICBoZWlnaHRDYWxjTW9kZSA9IGhjbTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlbmRNc2coaGVpZ2h0LCB3aWR0aCwgdHJpZ2dlckV2ZW50LCBtc2csIHRhcmdldE9yaWdpbikge1xuICAgIGZ1bmN0aW9uIHNldFRhcmdldE9yaWdpbigpIHtcbiAgICAgIGlmICh1bmRlZmluZWQgPT09IHRhcmdldE9yaWdpbikge1xuICAgICAgICB0YXJnZXRPcmlnaW4gPSB0YXJnZXRPcmlnaW5EZWZhdWx0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9nKCdNZXNzYWdlIHRhcmdldE9yaWdpbjogJyArIHRhcmdldE9yaWdpbik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2VuZFRvUGFyZW50KCkge1xuICAgICAgdmFyIHNpemUgPSBoZWlnaHQgKyAnOicgKyB3aWR0aCxcbiAgICAgICAgbWVzc2FnZSA9XG4gICAgICAgICAgbXlJRCArXG4gICAgICAgICAgJzonICtcbiAgICAgICAgICBzaXplICtcbiAgICAgICAgICAnOicgK1xuICAgICAgICAgIHRyaWdnZXJFdmVudCArXG4gICAgICAgICAgKHVuZGVmaW5lZCAhPT0gbXNnID8gJzonICsgbXNnIDogJycpO1xuXG4gICAgICBsb2coJ1NlbmRpbmcgbWVzc2FnZSB0byBob3N0IHBhZ2UgKCcgKyBtZXNzYWdlICsgJyknKTtcbiAgICAgIHRhcmdldC5wb3N0TWVzc2FnZShtc2dJRCArIG1lc3NhZ2UsIHRhcmdldE9yaWdpbik7XG4gICAgfVxuXG4gICAgaWYgKHRydWUgPT09IHNlbmRQZXJtaXQpIHtcbiAgICAgIHNldFRhcmdldE9yaWdpbigpO1xuICAgICAgc2VuZFRvUGFyZW50KCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVjZWl2ZXIoZXZlbnQpIHtcbiAgICB2YXIgcHJvY2Vzc1JlcXVlc3RGcm9tUGFyZW50ID0ge1xuICAgICAgaW5pdDogZnVuY3Rpb24gaW5pdEZyb21QYXJlbnQoKSB7XG4gICAgICAgIGluaXRNc2cgPSBldmVudC5kYXRhO1xuICAgICAgICB0YXJnZXQgPSBldmVudC5zb3VyY2U7XG5cbiAgICAgICAgaW5pdCgpO1xuICAgICAgICBmaXJzdFJ1biA9IGZhbHNlO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGluaXRMb2NrID0gZmFsc2U7XG4gICAgICAgIH0sIGV2ZW50Q2FuY2VsVGltZXIpO1xuICAgICAgfSxcblxuICAgICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0RnJvbVBhcmVudCgpIHtcbiAgICAgICAgaWYgKCFpbml0TG9jaykge1xuICAgICAgICAgIGxvZygnUGFnZSBzaXplIHJlc2V0IGJ5IGhvc3QgcGFnZScpO1xuICAgICAgICAgIHRyaWdnZXJSZXNldCgncmVzZXRQYWdlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbG9nKCdQYWdlIHJlc2V0IGlnbm9yZWQgYnkgaW5pdCcpO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICByZXNpemU6IGZ1bmN0aW9uIHJlc2l6ZUZyb21QYXJlbnQoKSB7XG4gICAgICAgIHNlbmRTaXplKCdyZXNpemVQYXJlbnQnLCAnUGFyZW50IHdpbmRvdyByZXF1ZXN0ZWQgc2l6ZSBjaGVjaycpO1xuICAgICAgfSxcblxuICAgICAgbW92ZVRvQW5jaG9yOiBmdW5jdGlvbiBtb3ZlVG9BbmNob3JGKCkge1xuICAgICAgICBpblBhZ2VMaW5rcy5maW5kVGFyZ2V0KGdldERhdGEoKSk7XG4gICAgICB9LFxuICAgICAgaW5QYWdlTGluazogZnVuY3Rpb24gaW5QYWdlTGlua0YoKSB7XG4gICAgICAgIHRoaXMubW92ZVRvQW5jaG9yKCk7XG4gICAgICB9LCAvL0JhY2t3YXJkIGNvbXBhdGFiaWxpdHlcblxuICAgICAgcGFnZUluZm86IGZ1bmN0aW9uIHBhZ2VJbmZvRnJvbVBhcmVudCgpIHtcbiAgICAgICAgdmFyIG1zZ0JvZHkgPSBnZXREYXRhKCk7XG4gICAgICAgIGxvZygnUGFnZUluZm9Gcm9tUGFyZW50IGNhbGxlZCBmcm9tIHBhcmVudDogJyArIG1zZ0JvZHkpO1xuICAgICAgICBwYWdlSW5mb0NhbGxiYWNrKEpTT04ucGFyc2UobXNnQm9keSkpO1xuICAgICAgICBsb2coJyAtLScpO1xuICAgICAgfSxcblxuICAgICAgbWVzc2FnZTogZnVuY3Rpb24gbWVzc2FnZUZyb21QYXJlbnQoKSB7XG4gICAgICAgIHZhciBtc2dCb2R5ID0gZ2V0RGF0YSgpO1xuXG4gICAgICAgIGxvZygnTWVzc2FnZUNhbGxiYWNrIGNhbGxlZCBmcm9tIHBhcmVudDogJyArIG1zZ0JvZHkpO1xuICAgICAgICBtZXNzYWdlQ2FsbGJhY2soSlNPTi5wYXJzZShtc2dCb2R5KSk7XG4gICAgICAgIGxvZygnIC0tJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGlzTWVzc2FnZUZvclVzKCkge1xuICAgICAgcmV0dXJuIG1zZ0lEID09PSAoJycgKyBldmVudC5kYXRhKS5zdWJzdHIoMCwgbXNnSWRMZW4pOyAvLycnKyBQcm90ZWN0cyBhZ2FpbnN0IG5vbi1zdHJpbmcgbWVzc2FnZXNcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRNZXNzYWdlVHlwZSgpIHtcbiAgICAgIHJldHVybiBldmVudC5kYXRhLnNwbGl0KCddJylbMV0uc3BsaXQoJzonKVswXTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXREYXRhKCkge1xuICAgICAgcmV0dXJuIGV2ZW50LmRhdGEuc3Vic3RyKGV2ZW50LmRhdGEuaW5kZXhPZignOicpICsgMSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNNaWRkbGVUaWVyKCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgKCEodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpICYmXG4gICAgICAgICAgJ2lGcmFtZVJlc2l6ZScgaW4gd2luZG93KSB8fFxuICAgICAgICAoJ2pRdWVyeScgaW4gd2luZG93ICYmICdpRnJhbWVSZXNpemUnIGluIHdpbmRvdy5qUXVlcnkucHJvdG90eXBlKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0luaXRNc2coKSB7XG4gICAgICAvL1Rlc3QgaWYgdGhpcyBtZXNzYWdlIGlzIGZyb20gYSBjaGlsZCBiZWxvdyB1cy4gVGhpcyBpcyBhbiB1Z2x5IHRlc3QsIGhvd2V2ZXIsIHVwZGF0aW5nXG4gICAgICAvL3RoZSBtZXNzYWdlIGZvcm1hdCB3b3VsZCBicmVhayBiYWNrd2FyZHMgY29tcGF0aWJpdHkuXG4gICAgICByZXR1cm4gZXZlbnQuZGF0YS5zcGxpdCgnOicpWzJdIGluIHsgdHJ1ZTogMSwgZmFsc2U6IDEgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYWxsRnJvbVBhcmVudCgpIHtcbiAgICAgIHZhciBtZXNzYWdlVHlwZSA9IGdldE1lc3NhZ2VUeXBlKCk7XG5cbiAgICAgIGlmIChtZXNzYWdlVHlwZSBpbiBwcm9jZXNzUmVxdWVzdEZyb21QYXJlbnQpIHtcbiAgICAgICAgcHJvY2Vzc1JlcXVlc3RGcm9tUGFyZW50W21lc3NhZ2VUeXBlXSgpO1xuICAgICAgfSBlbHNlIGlmICghaXNNaWRkbGVUaWVyKCkgJiYgIWlzSW5pdE1zZygpKSB7XG4gICAgICAgIHdhcm4oJ1VuZXhwZWN0ZWQgbWVzc2FnZSAoJyArIGV2ZW50LmRhdGEgKyAnKScpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NNZXNzYWdlKCkge1xuICAgICAgaWYgKGZhbHNlID09PSBmaXJzdFJ1bikge1xuICAgICAgICBjYWxsRnJvbVBhcmVudCgpO1xuICAgICAgfSBlbHNlIGlmIChpc0luaXRNc2coKSkge1xuICAgICAgICBwcm9jZXNzUmVxdWVzdEZyb21QYXJlbnQuaW5pdCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9nKFxuICAgICAgICAgICdJZ25vcmVkIG1lc3NhZ2Ugb2YgdHlwZSBcIicgK1xuICAgICAgICAgICAgZ2V0TWVzc2FnZVR5cGUoKSArXG4gICAgICAgICAgICAnXCIuIFJlY2VpdmVkIGJlZm9yZSBpbml0aWFsaXphdGlvbi4nXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzTWVzc2FnZUZvclVzKCkpIHtcbiAgICAgIHByb2Nlc3NNZXNzYWdlKCk7XG4gICAgfVxuICB9XG5cbiAgLy9Ob3JtYWxseSB0aGUgcGFyZW50IGtpY2tzIHRoaW5ncyBvZmYgd2hlbiBpdCBkZXRlY3RzIHRoZSBpRnJhbWUgaGFzIGxvYWRlZC5cbiAgLy9JZiB0aGlzIHNjcmlwdCBpcyBhc3luYy1sb2FkZWQsIHRoZW4gdGVsbCBwYXJlbnQgcGFnZSB0byByZXRyeSBpbml0LlxuICBmdW5jdGlvbiBjaGtMYXRlTG9hZGVkKCkge1xuICAgIGlmICgnbG9hZGluZycgIT09IGRvY3VtZW50LnJlYWR5U3RhdGUpIHtcbiAgICAgIHdpbmRvdy5wYXJlbnQucG9zdE1lc3NhZ2UoJ1tpRnJhbWVSZXNpemVyQ2hpbGRdUmVhZHknLCAnKicpO1xuICAgIH1cbiAgfVxuXG4gIGFkZEV2ZW50TGlzdGVuZXIod2luZG93LCAnbWVzc2FnZScsIHJlY2VpdmVyKTtcbiAgYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csICdyZWFkeXN0YXRlY2hhbmdlJywgY2hrTGF0ZUxvYWRlZCk7XG4gIGNoa0xhdGVMb2FkZWQoKTtcblxuICBcbn0pKCk7XG4iLCIvKlxuICogRmlsZTogaWZyYW1lUmVzaXplci5qc1xuICogRGVzYzogRm9yY2UgaWZyYW1lcyB0byBzaXplIHRvIGNvbnRlbnQuXG4gKiBSZXF1aXJlczogaWZyYW1lUmVzaXplci5jb250ZW50V2luZG93LmpzIHRvIGJlIGxvYWRlZCBpbnRvIHRoZSB0YXJnZXQgZnJhbWUuXG4gKiBEb2M6IGh0dHBzOi8vZ2l0aHViLmNvbS9kYXZpZGpicmFkc2hhdy9pZnJhbWUtcmVzaXplclxuICogQXV0aG9yOiBEYXZpZCBKLiBCcmFkc2hhdyAtIGRhdmVAYnJhZHNoYXcubmV0XG4gKiBDb250cmlidXRvcjogSnVyZSBNYXYgLSBqdXJlLm1hdkBnbWFpbC5jb21cbiAqIENvbnRyaWJ1dG9yOiBSZWVkIERhZG91bmUgLSByZWVkQGRhZG91bmUuY29tXG4gKi9cblxuKGZ1bmN0aW9uKHVuZGVmaW5lZCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm47IC8vIGRvbid0IHJ1biBmb3Igc2VydmVyIHNpZGUgcmVuZGVyXG5cbiAgdmFyIGNvdW50ID0gMCxcbiAgICBsb2dFbmFibGVkID0gZmFsc2UsXG4gICAgaGlkZGVuQ2hlY2tFbmFibGVkID0gZmFsc2UsXG4gICAgbXNnSGVhZGVyID0gJ21lc3NhZ2UnLFxuICAgIG1zZ0hlYWRlckxlbiA9IG1zZ0hlYWRlci5sZW5ndGgsXG4gICAgbXNnSWQgPSAnW2lGcmFtZVNpemVyXScsIC8vTXVzdCBtYXRjaCBpZnJhbWUgbXNnIElEXG4gICAgbXNnSWRMZW4gPSBtc2dJZC5sZW5ndGgsXG4gICAgcGFnZVBvc2l0aW9uID0gbnVsbCxcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lLFxuICAgIHJlc2V0UmVxdWlyZWRNZXRob2RzID0ge1xuICAgICAgbWF4OiAxLFxuICAgICAgc2Nyb2xsOiAxLFxuICAgICAgYm9keVNjcm9sbDogMSxcbiAgICAgIGRvY3VtZW50RWxlbWVudFNjcm9sbDogMVxuICAgIH0sXG4gICAgc2V0dGluZ3MgPSB7fSxcbiAgICB0aW1lciA9IG51bGwsXG4gICAgbG9nSWQgPSAnSG9zdCBQYWdlJyxcbiAgICBkZWZhdWx0cyA9IHtcbiAgICAgIGF1dG9SZXNpemU6IHRydWUsXG4gICAgICBib2R5QmFja2dyb3VuZDogbnVsbCxcbiAgICAgIGJvZHlNYXJnaW46IG51bGwsXG4gICAgICBib2R5TWFyZ2luVjE6IDgsXG4gICAgICBib2R5UGFkZGluZzogbnVsbCxcbiAgICAgIGNoZWNrT3JpZ2luOiB0cnVlLFxuICAgICAgaW5QYWdlTGlua3M6IGZhbHNlLFxuICAgICAgZW5hYmxlUHVibGljTWV0aG9kczogdHJ1ZSxcbiAgICAgIGhlaWdodENhbGN1bGF0aW9uTWV0aG9kOiAnYm9keU9mZnNldCcsXG4gICAgICBpZDogJ2lGcmFtZVJlc2l6ZXInLFxuICAgICAgaW50ZXJ2YWw6IDMyLFxuICAgICAgbG9nOiBmYWxzZSxcbiAgICAgIG1heEhlaWdodDogSW5maW5pdHksXG4gICAgICBtYXhXaWR0aDogSW5maW5pdHksXG4gICAgICBtaW5IZWlnaHQ6IDAsXG4gICAgICBtaW5XaWR0aDogMCxcbiAgICAgIHJlc2l6ZUZyb206ICdwYXJlbnQnLFxuICAgICAgc2Nyb2xsaW5nOiBmYWxzZSxcbiAgICAgIHNpemVIZWlnaHQ6IHRydWUsXG4gICAgICBzaXplV2lkdGg6IGZhbHNlLFxuICAgICAgd2FybmluZ1RpbWVvdXQ6IDUwMDAsXG4gICAgICB0b2xlcmFuY2U6IDAsXG4gICAgICB3aWR0aENhbGN1bGF0aW9uTWV0aG9kOiAnc2Nyb2xsJyxcbiAgICAgIGNsb3NlZENhbGxiYWNrOiBmdW5jdGlvbigpIHt9LFxuICAgICAgaW5pdENhbGxiYWNrOiBmdW5jdGlvbigpIHt9LFxuICAgICAgbWVzc2FnZUNhbGxiYWNrOiBmdW5jdGlvbigpIHtcbiAgICAgICAgd2FybignTWVzc2FnZUNhbGxiYWNrIGZ1bmN0aW9uIG5vdCBkZWZpbmVkJyk7XG4gICAgICB9LFxuICAgICAgcmVzaXplZENhbGxiYWNrOiBmdW5jdGlvbigpIHt9LFxuICAgICAgc2Nyb2xsQ2FsbGJhY2s6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gIGZ1bmN0aW9uIGdldE11dGF0aW9uT2JzZXJ2ZXIoKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyIHx8IHdpbmRvdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyIHx8IHdpbmRvdy5Nb3pNdXRhdGlvbk9ic2VydmVyO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcihvYmosIGV2dCwgZnVuYykge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovIC8vIE5vdCB0ZXN0YWJsZSBpbiBQaGFudG9uSlNcbiAgICBpZiAoJ2FkZEV2ZW50TGlzdGVuZXInIGluIHdpbmRvdykge1xuICAgICAgb2JqLmFkZEV2ZW50TGlzdGVuZXIoZXZ0LCBmdW5jLCBmYWxzZSk7XG4gICAgfSBlbHNlIGlmICgnYXR0YWNoRXZlbnQnIGluIHdpbmRvdykge1xuICAgICAgLy9JRVxuICAgICAgb2JqLmF0dGFjaEV2ZW50KCdvbicgKyBldnQsIGZ1bmMpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXIoZWwsIGV2dCwgZnVuYykge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovIC8vIE5vdCB0ZXN0YWJsZSBpbiBwaGFudG9uSlNcbiAgICBpZiAoJ3JlbW92ZUV2ZW50TGlzdGVuZXInIGluIHdpbmRvdykge1xuICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldnQsIGZ1bmMsIGZhbHNlKTtcbiAgICB9IGVsc2UgaWYgKCdkZXRhY2hFdmVudCcgaW4gd2luZG93KSB7XG4gICAgICAvL0lFXG4gICAgICBlbC5kZXRhY2hFdmVudCgnb24nICsgZXZ0LCBmdW5jKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXR1cFJlcXVlc3RBbmltYXRpb25GcmFtZSgpIHtcbiAgICB2YXIgdmVuZG9ycyA9IFsnbW96JywgJ3dlYmtpdCcsICdvJywgJ21zJ10sXG4gICAgICB4O1xuXG4gICAgLy8gUmVtb3ZlIHZlbmRvciBwcmVmaXhpbmcgaWYgcHJlZml4ZWQgYW5kIGJyZWFrIGVhcmx5IGlmIG5vdFxuICAgIGZvciAoeCA9IDA7IHggPCB2ZW5kb3JzLmxlbmd0aCAmJiAhcmVxdWVzdEFuaW1hdGlvbkZyYW1lOyB4ICs9IDEpIHtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHdpbmRvd1t2ZW5kb3JzW3hdICsgJ1JlcXVlc3RBbmltYXRpb25GcmFtZSddO1xuICAgIH1cblxuICAgIGlmICghcmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB7XG4gICAgICBsb2coJ3NldHVwJywgJ1JlcXVlc3RBbmltYXRpb25GcmFtZSBub3Qgc3VwcG9ydGVkJyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0TXlJRChpZnJhbWVJZCkge1xuICAgIHZhciByZXRTdHIgPSAnSG9zdCBwYWdlOiAnICsgaWZyYW1lSWQ7XG5cbiAgICBpZiAod2luZG93LnRvcCAhPT0gd2luZG93LnNlbGYpIHtcbiAgICAgIGlmICh3aW5kb3cucGFyZW50SUZyYW1lICYmIHdpbmRvdy5wYXJlbnRJRnJhbWUuZ2V0SWQpIHtcbiAgICAgICAgcmV0U3RyID0gd2luZG93LnBhcmVudElGcmFtZS5nZXRJZCgpICsgJzogJyArIGlmcmFtZUlkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0U3RyID0gJ05lc3RlZCBob3N0IHBhZ2U6ICcgKyBpZnJhbWVJZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmV0U3RyO1xuICB9XG5cbiAgZnVuY3Rpb24gZm9ybWF0TG9nSGVhZGVyKGlmcmFtZUlkKSB7XG4gICAgcmV0dXJuIG1zZ0lkICsgJ1snICsgZ2V0TXlJRChpZnJhbWVJZCkgKyAnXSc7XG4gIH1cblxuICBmdW5jdGlvbiBpc0xvZ0VuYWJsZWQoaWZyYW1lSWQpIHtcbiAgICByZXR1cm4gc2V0dGluZ3NbaWZyYW1lSWRdID8gc2V0dGluZ3NbaWZyYW1lSWRdLmxvZyA6IGxvZ0VuYWJsZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBsb2coaWZyYW1lSWQsIG1zZykge1xuICAgIG91dHB1dCgnbG9nJywgaWZyYW1lSWQsIG1zZywgaXNMb2dFbmFibGVkKGlmcmFtZUlkKSk7XG4gIH1cblxuICBmdW5jdGlvbiBpbmZvKGlmcmFtZUlkLCBtc2cpIHtcbiAgICBvdXRwdXQoJ2luZm8nLCBpZnJhbWVJZCwgbXNnLCBpc0xvZ0VuYWJsZWQoaWZyYW1lSWQpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdhcm4oaWZyYW1lSWQsIG1zZykge1xuICAgIG91dHB1dCgnd2FybicsIGlmcmFtZUlkLCBtc2csIHRydWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gb3V0cHV0KHR5cGUsIGlmcmFtZUlkLCBtc2csIGVuYWJsZWQpIHtcbiAgICBpZiAodHJ1ZSA9PT0gZW5hYmxlZCAmJiAnb2JqZWN0JyA9PT0gdHlwZW9mIHdpbmRvdy5jb25zb2xlKSB7XG4gICAgICBjb25zb2xlW3R5cGVdKGZvcm1hdExvZ0hlYWRlcihpZnJhbWVJZCksIG1zZyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaUZyYW1lTGlzdGVuZXIoZXZlbnQpIHtcbiAgICBmdW5jdGlvbiByZXNpemVJRnJhbWUoKSB7XG4gICAgICBmdW5jdGlvbiByZXNpemUoKSB7XG4gICAgICAgIHNldFNpemUobWVzc2FnZURhdGEpO1xuICAgICAgICBzZXRQYWdlUG9zaXRpb24oaWZyYW1lSWQpO1xuICAgICAgICBjYWxsYmFjaygncmVzaXplZENhbGxiYWNrJywgbWVzc2FnZURhdGEpO1xuICAgICAgfVxuXG4gICAgICBlbnN1cmVJblJhbmdlKCdIZWlnaHQnKTtcbiAgICAgIGVuc3VyZUluUmFuZ2UoJ1dpZHRoJyk7XG5cbiAgICAgIHN5bmNSZXNpemUocmVzaXplLCBtZXNzYWdlRGF0YSwgJ2luaXQnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzTXNnKCkge1xuICAgICAgdmFyIGRhdGEgPSBtc2cuc3Vic3RyKG1zZ0lkTGVuKS5zcGxpdCgnOicpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZnJhbWU6IHNldHRpbmdzW2RhdGFbMF1dICYmIHNldHRpbmdzW2RhdGFbMF1dLmlmcmFtZSxcbiAgICAgICAgaWQ6IGRhdGFbMF0sXG4gICAgICAgIGhlaWdodDogZGF0YVsxXSxcbiAgICAgICAgd2lkdGg6IGRhdGFbMl0sXG4gICAgICAgIHR5cGU6IGRhdGFbM11cbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZW5zdXJlSW5SYW5nZShEaW1lbnNpb24pIHtcbiAgICAgIHZhciBtYXggPSBOdW1iZXIoc2V0dGluZ3NbaWZyYW1lSWRdWydtYXgnICsgRGltZW5zaW9uXSksXG4gICAgICAgIG1pbiA9IE51bWJlcihzZXR0aW5nc1tpZnJhbWVJZF1bJ21pbicgKyBEaW1lbnNpb25dKSxcbiAgICAgICAgZGltZW5zaW9uID0gRGltZW5zaW9uLnRvTG93ZXJDYXNlKCksXG4gICAgICAgIHNpemUgPSBOdW1iZXIobWVzc2FnZURhdGFbZGltZW5zaW9uXSk7XG5cbiAgICAgIGxvZyhcbiAgICAgICAgaWZyYW1lSWQsXG4gICAgICAgICdDaGVja2luZyAnICsgZGltZW5zaW9uICsgJyBpcyBpbiByYW5nZSAnICsgbWluICsgJy0nICsgbWF4XG4gICAgICApO1xuXG4gICAgICBpZiAoc2l6ZSA8IG1pbikge1xuICAgICAgICBzaXplID0gbWluO1xuICAgICAgICBsb2coaWZyYW1lSWQsICdTZXQgJyArIGRpbWVuc2lvbiArICcgdG8gbWluIHZhbHVlJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzaXplID4gbWF4KSB7XG4gICAgICAgIHNpemUgPSBtYXg7XG4gICAgICAgIGxvZyhpZnJhbWVJZCwgJ1NldCAnICsgZGltZW5zaW9uICsgJyB0byBtYXggdmFsdWUnKTtcbiAgICAgIH1cblxuICAgICAgbWVzc2FnZURhdGFbZGltZW5zaW9uXSA9ICcnICsgc2l6ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc01lc3NhZ2VGcm9tSUZyYW1lKCkge1xuICAgICAgZnVuY3Rpb24gY2hlY2tBbGxvd2VkT3JpZ2luKCkge1xuICAgICAgICBmdW5jdGlvbiBjaGVja0xpc3QoKSB7XG4gICAgICAgICAgdmFyIGkgPSAwLFxuICAgICAgICAgICAgcmV0Q29kZSA9IGZhbHNlO1xuXG4gICAgICAgICAgbG9nKFxuICAgICAgICAgICAgaWZyYW1lSWQsXG4gICAgICAgICAgICAnQ2hlY2tpbmcgY29ubmVjdGlvbiBpcyBmcm9tIGFsbG93ZWQgbGlzdCBvZiBvcmlnaW5zOiAnICtcbiAgICAgICAgICAgICAgY2hlY2tPcmlnaW5cbiAgICAgICAgICApO1xuXG4gICAgICAgICAgZm9yICg7IGkgPCBjaGVja09yaWdpbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGNoZWNrT3JpZ2luW2ldID09PSBvcmlnaW4pIHtcbiAgICAgICAgICAgICAgcmV0Q29kZSA9IHRydWU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmV0Q29kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNoZWNrU2luZ2xlKCkge1xuICAgICAgICAgIHZhciByZW1vdGVIb3N0ID0gc2V0dGluZ3NbaWZyYW1lSWRdICYmIHNldHRpbmdzW2lmcmFtZUlkXS5yZW1vdGVIb3N0O1xuICAgICAgICAgIGxvZyhpZnJhbWVJZCwgJ0NoZWNraW5nIGNvbm5lY3Rpb24gaXMgZnJvbTogJyArIHJlbW90ZUhvc3QpO1xuICAgICAgICAgIHJldHVybiBvcmlnaW4gPT09IHJlbW90ZUhvc3Q7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2hlY2tPcmlnaW4uY29uc3RydWN0b3IgPT09IEFycmF5ID8gY2hlY2tMaXN0KCkgOiBjaGVja1NpbmdsZSgpO1xuICAgICAgfVxuXG4gICAgICB2YXIgb3JpZ2luID0gZXZlbnQub3JpZ2luLFxuICAgICAgICBjaGVja09yaWdpbiA9IHNldHRpbmdzW2lmcmFtZUlkXSAmJiBzZXR0aW5nc1tpZnJhbWVJZF0uY2hlY2tPcmlnaW47XG5cbiAgICAgIGlmIChjaGVja09yaWdpbiAmJiAnJyArIG9yaWdpbiAhPT0gJ251bGwnICYmICFjaGVja0FsbG93ZWRPcmlnaW4oKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ1VuZXhwZWN0ZWQgbWVzc2FnZSByZWNlaXZlZCBmcm9tOiAnICtcbiAgICAgICAgICAgIG9yaWdpbiArXG4gICAgICAgICAgICAnIGZvciAnICtcbiAgICAgICAgICAgIG1lc3NhZ2VEYXRhLmlmcmFtZS5pZCArXG4gICAgICAgICAgICAnLiBNZXNzYWdlIHdhczogJyArXG4gICAgICAgICAgICBldmVudC5kYXRhICtcbiAgICAgICAgICAgICcuIFRoaXMgZXJyb3IgY2FuIGJlIGRpc2FibGVkIGJ5IHNldHRpbmcgdGhlIGNoZWNrT3JpZ2luOiBmYWxzZSBvcHRpb24gb3IgYnkgcHJvdmlkaW5nIG9mIGFycmF5IG9mIHRydXN0ZWQgZG9tYWlucy4nXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzTWVzc2FnZUZvclVzKCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgbXNnSWQgPT09ICgnJyArIG1zZykuc3Vic3RyKDAsIG1zZ0lkTGVuKSAmJlxuICAgICAgICBtc2cuc3Vic3RyKG1zZ0lkTGVuKS5zcGxpdCgnOicpWzBdIGluIHNldHRpbmdzXG4gICAgICApOyAvLycnK1Byb3RlY3RzIGFnYWluc3Qgbm9uLXN0cmluZyBtc2dcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc01lc3NhZ2VGcm9tTWV0YVBhcmVudCgpIHtcbiAgICAgIC8vVGVzdCBpZiB0aGlzIG1lc3NhZ2UgaXMgZnJvbSBhIHBhcmVudCBhYm92ZSB1cy4gVGhpcyBpcyBhbiB1Z2x5IHRlc3QsIGhvd2V2ZXIsIHVwZGF0aW5nXG4gICAgICAvL3RoZSBtZXNzYWdlIGZvcm1hdCB3b3VsZCBicmVhayBiYWNrd2FyZHMgY29tcGF0aWJpdHkuXG4gICAgICB2YXIgcmV0Q29kZSA9IG1lc3NhZ2VEYXRhLnR5cGUgaW4geyB0cnVlOiAxLCBmYWxzZTogMSwgdW5kZWZpbmVkOiAxIH07XG5cbiAgICAgIGlmIChyZXRDb2RlKSB7XG4gICAgICAgIGxvZyhpZnJhbWVJZCwgJ0lnbm9yaW5nIGluaXQgbWVzc2FnZSBmcm9tIG1ldGEgcGFyZW50IHBhZ2UnKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJldENvZGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0TXNnQm9keShvZmZzZXQpIHtcbiAgICAgIHJldHVybiBtc2cuc3Vic3RyKG1zZy5pbmRleE9mKCc6JykgKyBtc2dIZWFkZXJMZW4gKyBvZmZzZXQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZvcndhcmRNc2dGcm9tSUZyYW1lKG1zZ0JvZHkpIHtcbiAgICAgIGxvZyhcbiAgICAgICAgaWZyYW1lSWQsXG4gICAgICAgICdNZXNzYWdlQ2FsbGJhY2sgcGFzc2VkOiB7aWZyYW1lOiAnICtcbiAgICAgICAgICBtZXNzYWdlRGF0YS5pZnJhbWUuaWQgK1xuICAgICAgICAgICcsIG1lc3NhZ2U6ICcgK1xuICAgICAgICAgIG1zZ0JvZHkgK1xuICAgICAgICAgICd9J1xuICAgICAgKTtcbiAgICAgIGNhbGxiYWNrKCdtZXNzYWdlQ2FsbGJhY2snLCB7XG4gICAgICAgIGlmcmFtZTogbWVzc2FnZURhdGEuaWZyYW1lLFxuICAgICAgICBtZXNzYWdlOiBKU09OLnBhcnNlKG1zZ0JvZHkpXG4gICAgICB9KTtcbiAgICAgIGxvZyhpZnJhbWVJZCwgJy0tJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0UGFnZUluZm8oKSB7XG4gICAgICB2YXIgYm9keVBvc2l0aW9uID0gZG9jdW1lbnQuYm9keS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgaUZyYW1lUG9zaXRpb24gPSBtZXNzYWdlRGF0YS5pZnJhbWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGlmcmFtZUhlaWdodDogaUZyYW1lUG9zaXRpb24uaGVpZ2h0LFxuICAgICAgICBpZnJhbWVXaWR0aDogaUZyYW1lUG9zaXRpb24ud2lkdGgsXG4gICAgICAgIGNsaWVudEhlaWdodDogTWF0aC5tYXgoXG4gICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCxcbiAgICAgICAgICB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgMFxuICAgICAgICApLFxuICAgICAgICBjbGllbnRXaWR0aDogTWF0aC5tYXgoXG4gICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLFxuICAgICAgICAgIHdpbmRvdy5pbm5lcldpZHRoIHx8IDBcbiAgICAgICAgKSxcbiAgICAgICAgb2Zmc2V0VG9wOiBwYXJzZUludChpRnJhbWVQb3NpdGlvbi50b3AgLSBib2R5UG9zaXRpb24udG9wLCAxMCksXG4gICAgICAgIG9mZnNldExlZnQ6IHBhcnNlSW50KGlGcmFtZVBvc2l0aW9uLmxlZnQgLSBib2R5UG9zaXRpb24ubGVmdCwgMTApLFxuICAgICAgICBzY3JvbGxUb3A6IHdpbmRvdy5wYWdlWU9mZnNldCxcbiAgICAgICAgc2Nyb2xsTGVmdDogd2luZG93LnBhZ2VYT2Zmc2V0XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZW5kUGFnZUluZm9Ub0lmcmFtZShpZnJhbWUsIGlmcmFtZUlkKSB7XG4gICAgICBmdW5jdGlvbiBkZWJvdW5jZWRUcmlnZ2VyKCkge1xuICAgICAgICB0cmlnZ2VyKFxuICAgICAgICAgICdTZW5kIFBhZ2UgSW5mbycsXG4gICAgICAgICAgJ3BhZ2VJbmZvOicgKyBnZXRQYWdlSW5mbygpLFxuICAgICAgICAgIGlmcmFtZSxcbiAgICAgICAgICBpZnJhbWVJZFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgZGVib3VuY2VGcmFtZUV2ZW50cyhkZWJvdW5jZWRUcmlnZ2VyLCAzMiwgaWZyYW1lSWQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN0YXJ0UGFnZUluZm9Nb25pdG9yKCkge1xuICAgICAgZnVuY3Rpb24gc2V0TGlzdGVuZXIodHlwZSwgZnVuYykge1xuICAgICAgICBmdW5jdGlvbiBzZW5kUGFnZUluZm8oKSB7XG4gICAgICAgICAgaWYgKHNldHRpbmdzW2lkXSkge1xuICAgICAgICAgICAgc2VuZFBhZ2VJbmZvVG9JZnJhbWUoc2V0dGluZ3NbaWRdLmlmcmFtZSwgaWQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgWydzY3JvbGwnLCAncmVzaXplJ10uZm9yRWFjaChmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICBsb2coaWQsIHR5cGUgKyBldnQgKyAnIGxpc3RlbmVyIGZvciBzZW5kUGFnZUluZm8nKTtcbiAgICAgICAgICBmdW5jKHdpbmRvdywgZXZ0LCBzZW5kUGFnZUluZm8pO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgICAgc2V0TGlzdGVuZXIoJ1JlbW92ZSAnLCByZW1vdmVFdmVudExpc3RlbmVyKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgICAgIHNldExpc3RlbmVyKCdBZGQgJywgYWRkRXZlbnRMaXN0ZW5lcik7XG4gICAgICB9XG5cbiAgICAgIHZhciBpZCA9IGlmcmFtZUlkOyAvL0NyZWF0ZSBsb2NhbGx5IHNjb3BlZCBjb3B5IG9mIGlGcmFtZSBJRFxuXG4gICAgICBzdGFydCgpO1xuXG4gICAgICBpZiAoc2V0dGluZ3NbaWRdKSB7XG4gICAgICAgIHNldHRpbmdzW2lkXS5zdG9wUGFnZUluZm8gPSBzdG9wO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN0b3BQYWdlSW5mb01vbml0b3IoKSB7XG4gICAgICBpZiAoc2V0dGluZ3NbaWZyYW1lSWRdICYmIHNldHRpbmdzW2lmcmFtZUlkXS5zdG9wUGFnZUluZm8pIHtcbiAgICAgICAgc2V0dGluZ3NbaWZyYW1lSWRdLnN0b3BQYWdlSW5mbygpO1xuICAgICAgICBkZWxldGUgc2V0dGluZ3NbaWZyYW1lSWRdLnN0b3BQYWdlSW5mbztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjaGVja0lGcmFtZUV4aXN0cygpIHtcbiAgICAgIHZhciByZXRCb29sID0gdHJ1ZTtcblxuICAgICAgaWYgKG51bGwgPT09IG1lc3NhZ2VEYXRhLmlmcmFtZSkge1xuICAgICAgICB3YXJuKGlmcmFtZUlkLCAnSUZyYW1lICgnICsgbWVzc2FnZURhdGEuaWQgKyAnKSBub3QgZm91bmQnKTtcbiAgICAgICAgcmV0Qm9vbCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJldEJvb2w7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0RWxlbWVudFBvc2l0aW9uKHRhcmdldCkge1xuICAgICAgdmFyIGlGcmFtZVBvc2l0aW9uID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICBnZXRQYWdlUG9zaXRpb24oaWZyYW1lSWQpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB4OiBNYXRoLmZsb29yKE51bWJlcihpRnJhbWVQb3NpdGlvbi5sZWZ0KSArIE51bWJlcihwYWdlUG9zaXRpb24ueCkpLFxuICAgICAgICB5OiBNYXRoLmZsb29yKE51bWJlcihpRnJhbWVQb3NpdGlvbi50b3ApICsgTnVtYmVyKHBhZ2VQb3NpdGlvbi55KSlcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2Nyb2xsUmVxdWVzdEZyb21DaGlsZChhZGRPZmZzZXQpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIC8vTm90IHRlc3RhYmxlIGluIEthcm1hXG4gICAgICBmdW5jdGlvbiByZXBvc2l0aW9uKCkge1xuICAgICAgICBwYWdlUG9zaXRpb24gPSBuZXdQb3NpdGlvbjtcbiAgICAgICAgc2Nyb2xsVG8oKTtcbiAgICAgICAgbG9nKGlmcmFtZUlkLCAnLS0nKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY2FsY09mZnNldCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB4OiBOdW1iZXIobWVzc2FnZURhdGEud2lkdGgpICsgb2Zmc2V0LngsXG4gICAgICAgICAgeTogTnVtYmVyKG1lc3NhZ2VEYXRhLmhlaWdodCkgKyBvZmZzZXQueVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBzY3JvbGxQYXJlbnQoKSB7XG4gICAgICAgIGlmICh3aW5kb3cucGFyZW50SUZyYW1lKSB7XG4gICAgICAgICAgd2luZG93LnBhcmVudElGcmFtZVsnc2Nyb2xsVG8nICsgKGFkZE9mZnNldCA/ICdPZmZzZXQnIDogJycpXShcbiAgICAgICAgICAgIG5ld1Bvc2l0aW9uLngsXG4gICAgICAgICAgICBuZXdQb3NpdGlvbi55XG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3YXJuKFxuICAgICAgICAgICAgaWZyYW1lSWQsXG4gICAgICAgICAgICAnVW5hYmxlIHRvIHNjcm9sbCB0byByZXF1ZXN0ZWQgcG9zaXRpb24sIHdpbmRvdy5wYXJlbnRJRnJhbWUgbm90IGZvdW5kJ1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIG9mZnNldCA9IGFkZE9mZnNldFxuICAgICAgICAgID8gZ2V0RWxlbWVudFBvc2l0aW9uKG1lc3NhZ2VEYXRhLmlmcmFtZSlcbiAgICAgICAgICA6IHsgeDogMCwgeTogMCB9LFxuICAgICAgICBuZXdQb3NpdGlvbiA9IGNhbGNPZmZzZXQoKTtcblxuICAgICAgbG9nKFxuICAgICAgICBpZnJhbWVJZCxcbiAgICAgICAgJ1JlcG9zaXRpb24gcmVxdWVzdGVkIGZyb20gaUZyYW1lIChvZmZzZXQgeDonICtcbiAgICAgICAgICBvZmZzZXQueCArXG4gICAgICAgICAgJyB5OicgK1xuICAgICAgICAgIG9mZnNldC55ICtcbiAgICAgICAgICAnKSdcbiAgICAgICk7XG5cbiAgICAgIGlmICh3aW5kb3cudG9wICE9PSB3aW5kb3cuc2VsZikge1xuICAgICAgICBzY3JvbGxQYXJlbnQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcG9zaXRpb24oKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzY3JvbGxUbygpIHtcbiAgICAgIGlmIChmYWxzZSAhPT0gY2FsbGJhY2soJ3Njcm9sbENhbGxiYWNrJywgcGFnZVBvc2l0aW9uKSkge1xuICAgICAgICBzZXRQYWdlUG9zaXRpb24oaWZyYW1lSWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdW5zZXRQYWdlUG9zaXRpb24oKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmaW5kVGFyZ2V0KGxvY2F0aW9uKSB7XG4gICAgICBmdW5jdGlvbiBqdW1wVG9UYXJnZXQoKSB7XG4gICAgICAgIHZhciBqdW1wUG9zaXRpb24gPSBnZXRFbGVtZW50UG9zaXRpb24odGFyZ2V0KTtcblxuICAgICAgICBsb2coXG4gICAgICAgICAgaWZyYW1lSWQsXG4gICAgICAgICAgJ01vdmluZyB0byBpbiBwYWdlIGxpbmsgKCMnICtcbiAgICAgICAgICAgIGhhc2ggK1xuICAgICAgICAgICAgJykgYXQgeDogJyArXG4gICAgICAgICAgICBqdW1wUG9zaXRpb24ueCArXG4gICAgICAgICAgICAnIHk6ICcgK1xuICAgICAgICAgICAganVtcFBvc2l0aW9uLnlcbiAgICAgICAgKTtcbiAgICAgICAgcGFnZVBvc2l0aW9uID0ge1xuICAgICAgICAgIHg6IGp1bXBQb3NpdGlvbi54LFxuICAgICAgICAgIHk6IGp1bXBQb3NpdGlvbi55XG4gICAgICAgIH07XG5cbiAgICAgICAgc2Nyb2xsVG8oKTtcbiAgICAgICAgbG9nKGlmcmFtZUlkLCAnLS0nKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24ganVtcFRvUGFyZW50KCkge1xuICAgICAgICBpZiAod2luZG93LnBhcmVudElGcmFtZSkge1xuICAgICAgICAgIHdpbmRvdy5wYXJlbnRJRnJhbWUubW92ZVRvQW5jaG9yKGhhc2gpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxvZyhcbiAgICAgICAgICAgIGlmcmFtZUlkLFxuICAgICAgICAgICAgJ0luIHBhZ2UgbGluayAjJyArXG4gICAgICAgICAgICAgIGhhc2ggK1xuICAgICAgICAgICAgICAnIG5vdCBmb3VuZCBhbmQgd2luZG93LnBhcmVudElGcmFtZSBub3QgZm91bmQnXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgaGFzaCA9IGxvY2F0aW9uLnNwbGl0KCcjJylbMV0gfHwgJycsXG4gICAgICAgIGhhc2hEYXRhID0gZGVjb2RlVVJJQ29tcG9uZW50KGhhc2gpLFxuICAgICAgICB0YXJnZXQgPVxuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGhhc2hEYXRhKSB8fFxuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKGhhc2hEYXRhKVswXTtcblxuICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICBqdW1wVG9UYXJnZXQoKTtcbiAgICAgIH0gZWxzZSBpZiAod2luZG93LnRvcCAhPT0gd2luZG93LnNlbGYpIHtcbiAgICAgICAganVtcFRvUGFyZW50KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2coaWZyYW1lSWQsICdJbiBwYWdlIGxpbmsgIycgKyBoYXNoICsgJyBub3QgZm91bmQnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYWxsYmFjayhmdW5jTmFtZSwgdmFsKSB7XG4gICAgICByZXR1cm4gY2hrQ2FsbGJhY2soaWZyYW1lSWQsIGZ1bmNOYW1lLCB2YWwpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFjdGlvbk1zZygpIHtcbiAgICAgIGlmIChzZXR0aW5nc1tpZnJhbWVJZF0gJiYgc2V0dGluZ3NbaWZyYW1lSWRdLmZpcnN0UnVuKSBmaXJzdFJ1bigpO1xuXG4gICAgICBzd2l0Y2ggKG1lc3NhZ2VEYXRhLnR5cGUpIHtcbiAgICAgICAgY2FzZSAnY2xvc2UnOlxuICAgICAgICAgIGlmIChzZXR0aW5nc1tpZnJhbWVJZF0uY2xvc2VSZXF1ZXN0Q2FsbGJhY2spXG4gICAgICAgICAgICBjaGtDYWxsYmFjayhcbiAgICAgICAgICAgICAgaWZyYW1lSWQsXG4gICAgICAgICAgICAgICdjbG9zZVJlcXVlc3RDYWxsYmFjaycsXG4gICAgICAgICAgICAgIHNldHRpbmdzW2lmcmFtZUlkXS5pZnJhbWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgZWxzZSBjbG9zZUlGcmFtZShtZXNzYWdlRGF0YS5pZnJhbWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdtZXNzYWdlJzpcbiAgICAgICAgICBmb3J3YXJkTXNnRnJvbUlGcmFtZShnZXRNc2dCb2R5KDYpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnc2Nyb2xsVG8nOlxuICAgICAgICAgIHNjcm9sbFJlcXVlc3RGcm9tQ2hpbGQoZmFsc2UpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdzY3JvbGxUb09mZnNldCc6XG4gICAgICAgICAgc2Nyb2xsUmVxdWVzdEZyb21DaGlsZCh0cnVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncGFnZUluZm8nOlxuICAgICAgICAgIHNlbmRQYWdlSW5mb1RvSWZyYW1lKFxuICAgICAgICAgICAgc2V0dGluZ3NbaWZyYW1lSWRdICYmIHNldHRpbmdzW2lmcmFtZUlkXS5pZnJhbWUsXG4gICAgICAgICAgICBpZnJhbWVJZFxuICAgICAgICAgICk7XG4gICAgICAgICAgc3RhcnRQYWdlSW5mb01vbml0b3IoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncGFnZUluZm9TdG9wJzpcbiAgICAgICAgICBzdG9wUGFnZUluZm9Nb25pdG9yKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2luUGFnZUxpbmsnOlxuICAgICAgICAgIGZpbmRUYXJnZXQoZ2V0TXNnQm9keSg5KSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3Jlc2V0JzpcbiAgICAgICAgICByZXNldElGcmFtZShtZXNzYWdlRGF0YSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2luaXQnOlxuICAgICAgICAgIHJlc2l6ZUlGcmFtZSgpO1xuICAgICAgICAgIGNhbGxiYWNrKCdpbml0Q2FsbGJhY2snLCBtZXNzYWdlRGF0YS5pZnJhbWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlc2l6ZUlGcmFtZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhc1NldHRpbmdzKGlmcmFtZUlkKSB7XG4gICAgICB2YXIgcmV0Qm9vbCA9IHRydWU7XG5cbiAgICAgIGlmICghc2V0dGluZ3NbaWZyYW1lSWRdKSB7XG4gICAgICAgIHJldEJvb2wgPSBmYWxzZTtcbiAgICAgICAgd2FybihcbiAgICAgICAgICBtZXNzYWdlRGF0YS50eXBlICtcbiAgICAgICAgICAgICcgTm8gc2V0dGluZ3MgZm9yICcgK1xuICAgICAgICAgICAgaWZyYW1lSWQgK1xuICAgICAgICAgICAgJy4gTWVzc2FnZSB3YXM6ICcgK1xuICAgICAgICAgICAgbXNnXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXRCb29sO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlGcmFtZVJlYWR5TXNnUmVjZWl2ZWQoKSB7XG4gICAgICBmb3IgKHZhciBpZnJhbWVJZCBpbiBzZXR0aW5ncykge1xuICAgICAgICB0cmlnZ2VyKFxuICAgICAgICAgICdpRnJhbWUgcmVxdWVzdGVkIGluaXQnLFxuICAgICAgICAgIGNyZWF0ZU91dGdvaW5nTXNnKGlmcmFtZUlkKSxcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZnJhbWVJZCksXG4gICAgICAgICAgaWZyYW1lSWRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmaXJzdFJ1bigpIHtcbiAgICAgIGlmIChzZXR0aW5nc1tpZnJhbWVJZF0pIHtcbiAgICAgICAgc2V0dGluZ3NbaWZyYW1lSWRdLmZpcnN0UnVuID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xlYXJXYXJuaW5nVGltZW91dCgpIHtcbiAgICAgIGlmIChzZXR0aW5nc1tpZnJhbWVJZF0pIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHNldHRpbmdzW2lmcmFtZUlkXS5tc2dUaW1lb3V0KTtcbiAgICAgICAgc2V0dGluZ3NbaWZyYW1lSWRdLndhcm5pbmdUaW1lb3V0ID0gMDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbXNnID0gZXZlbnQuZGF0YSxcbiAgICAgIG1lc3NhZ2VEYXRhID0ge30sXG4gICAgICBpZnJhbWVJZCA9IG51bGw7XG5cbiAgICBpZiAoJ1tpRnJhbWVSZXNpemVyQ2hpbGRdUmVhZHknID09PSBtc2cpIHtcbiAgICAgIGlGcmFtZVJlYWR5TXNnUmVjZWl2ZWQoKTtcbiAgICB9IGVsc2UgaWYgKGlzTWVzc2FnZUZvclVzKCkpIHtcbiAgICAgIG1lc3NhZ2VEYXRhID0gcHJvY2Vzc01zZygpO1xuICAgICAgaWZyYW1lSWQgPSBsb2dJZCA9IG1lc3NhZ2VEYXRhLmlkO1xuICAgICAgaWYgKHNldHRpbmdzW2lmcmFtZUlkXSkge1xuICAgICAgICBzZXR0aW5nc1tpZnJhbWVJZF0ubG9hZGVkID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc01lc3NhZ2VGcm9tTWV0YVBhcmVudCgpICYmIGhhc1NldHRpbmdzKGlmcmFtZUlkKSkge1xuICAgICAgICBsb2coaWZyYW1lSWQsICdSZWNlaXZlZDogJyArIG1zZyk7XG5cbiAgICAgICAgaWYgKGNoZWNrSUZyYW1lRXhpc3RzKCkgJiYgaXNNZXNzYWdlRnJvbUlGcmFtZSgpKSB7XG4gICAgICAgICAgYWN0aW9uTXNnKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaW5mbyhpZnJhbWVJZCwgJ0lnbm9yZWQ6ICcgKyBtc2cpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNoa0NhbGxiYWNrKGlmcmFtZUlkLCBmdW5jTmFtZSwgdmFsKSB7XG4gICAgdmFyIGZ1bmMgPSBudWxsLFxuICAgICAgcmV0VmFsID0gbnVsbDtcblxuICAgIGlmIChzZXR0aW5nc1tpZnJhbWVJZF0pIHtcbiAgICAgIGZ1bmMgPSBzZXR0aW5nc1tpZnJhbWVJZF1bZnVuY05hbWVdO1xuXG4gICAgICBpZiAoJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIGZ1bmMpIHtcbiAgICAgICAgcmV0VmFsID0gZnVuYyh2YWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICBmdW5jTmFtZSArICcgb24gaUZyYW1lWycgKyBpZnJhbWVJZCArICddIGlzIG5vdCBhIGZ1bmN0aW9uJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXRWYWw7XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVJZnJhbWVMaXN0ZW5lcnMoaWZyYW1lKSB7XG4gICAgdmFyIGlmcmFtZUlkID0gaWZyYW1lLmlkO1xuICAgIGRlbGV0ZSBzZXR0aW5nc1tpZnJhbWVJZF07XG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZUlGcmFtZShpZnJhbWUpIHtcbiAgICB2YXIgaWZyYW1lSWQgPSBpZnJhbWUuaWQ7XG4gICAgbG9nKGlmcmFtZUlkLCAnUmVtb3ZpbmcgaUZyYW1lOiAnICsgaWZyYW1lSWQpO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIENhdGNoIHJhY2UgY29uZGl0aW9uIGVycm9yIHdpdGggUmVhY3RcbiAgICAgIGlmIChpZnJhbWUucGFyZW50Tm9kZSkge1xuICAgICAgICBpZnJhbWUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpZnJhbWUpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHt9XG5cbiAgICBjaGtDYWxsYmFjayhpZnJhbWVJZCwgJ2Nsb3NlZENhbGxiYWNrJywgaWZyYW1lSWQpO1xuICAgIGxvZyhpZnJhbWVJZCwgJy0tJyk7XG4gICAgcmVtb3ZlSWZyYW1lTGlzdGVuZXJzKGlmcmFtZSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRQYWdlUG9zaXRpb24oaWZyYW1lSWQpIHtcbiAgICBpZiAobnVsbCA9PT0gcGFnZVBvc2l0aW9uKSB7XG4gICAgICBwYWdlUG9zaXRpb24gPSB7XG4gICAgICAgIHg6XG4gICAgICAgICAgd2luZG93LnBhZ2VYT2Zmc2V0ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gd2luZG93LnBhZ2VYT2Zmc2V0XG4gICAgICAgICAgICA6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0LFxuICAgICAgICB5OlxuICAgICAgICAgIHdpbmRvdy5wYWdlWU9mZnNldCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IHdpbmRvdy5wYWdlWU9mZnNldFxuICAgICAgICAgICAgOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wXG4gICAgICB9O1xuICAgICAgbG9nKFxuICAgICAgICBpZnJhbWVJZCxcbiAgICAgICAgJ0dldCBwYWdlIHBvc2l0aW9uOiAnICsgcGFnZVBvc2l0aW9uLnggKyAnLCcgKyBwYWdlUG9zaXRpb24ueVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRQYWdlUG9zaXRpb24oaWZyYW1lSWQpIHtcbiAgICBpZiAobnVsbCAhPT0gcGFnZVBvc2l0aW9uKSB7XG4gICAgICB3aW5kb3cuc2Nyb2xsVG8ocGFnZVBvc2l0aW9uLngsIHBhZ2VQb3NpdGlvbi55KTtcbiAgICAgIGxvZyhcbiAgICAgICAgaWZyYW1lSWQsXG4gICAgICAgICdTZXQgcGFnZSBwb3NpdGlvbjogJyArIHBhZ2VQb3NpdGlvbi54ICsgJywnICsgcGFnZVBvc2l0aW9uLnlcbiAgICAgICk7XG4gICAgICB1bnNldFBhZ2VQb3NpdGlvbigpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVuc2V0UGFnZVBvc2l0aW9uKCkge1xuICAgIHBhZ2VQb3NpdGlvbiA9IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldElGcmFtZShtZXNzYWdlRGF0YSkge1xuICAgIGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgc2V0U2l6ZShtZXNzYWdlRGF0YSk7XG4gICAgICB0cmlnZ2VyKCdyZXNldCcsICdyZXNldCcsIG1lc3NhZ2VEYXRhLmlmcmFtZSwgbWVzc2FnZURhdGEuaWQpO1xuICAgIH1cblxuICAgIGxvZyhcbiAgICAgIG1lc3NhZ2VEYXRhLmlkLFxuICAgICAgJ1NpemUgcmVzZXQgcmVxdWVzdGVkIGJ5ICcgK1xuICAgICAgICAoJ2luaXQnID09PSBtZXNzYWdlRGF0YS50eXBlID8gJ2hvc3QgcGFnZScgOiAnaUZyYW1lJylcbiAgICApO1xuICAgIGdldFBhZ2VQb3NpdGlvbihtZXNzYWdlRGF0YS5pZCk7XG4gICAgc3luY1Jlc2l6ZShyZXNldCwgbWVzc2FnZURhdGEsICdyZXNldCcpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0U2l6ZShtZXNzYWdlRGF0YSkge1xuICAgIGZ1bmN0aW9uIHNldERpbWVuc2lvbihkaW1lbnNpb24pIHtcbiAgICAgIGlmICghbWVzc2FnZURhdGEuaWQpIHtcbiAgICAgICAgbG9nKCd1bmRlZmluZWQnLCAnbWVzc2FnZURhdGEgaWQgbm90IHNldCcpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBtZXNzYWdlRGF0YS5pZnJhbWUuc3R5bGVbZGltZW5zaW9uXSA9IG1lc3NhZ2VEYXRhW2RpbWVuc2lvbl0gKyAncHgnO1xuICAgICAgbG9nKFxuICAgICAgICBtZXNzYWdlRGF0YS5pZCxcbiAgICAgICAgJ0lGcmFtZSAoJyArXG4gICAgICAgICAgaWZyYW1lSWQgK1xuICAgICAgICAgICcpICcgK1xuICAgICAgICAgIGRpbWVuc2lvbiArXG4gICAgICAgICAgJyBzZXQgdG8gJyArXG4gICAgICAgICAgbWVzc2FnZURhdGFbZGltZW5zaW9uXSArXG4gICAgICAgICAgJ3B4J1xuICAgICAgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjaGtaZXJvKGRpbWVuc2lvbikge1xuICAgICAgLy9GaXJlRm94IHNldHMgZGltZW5zaW9uIG9mIGhpZGRlbiBpRnJhbWVzIHRvIHplcm8uXG4gICAgICAvL1NvIGlmIHdlIGRldGVjdCB0aGF0IHNldCB1cCBhbiBldmVudCB0byBjaGVjayBmb3JcbiAgICAgIC8vd2hlbiBpRnJhbWUgYmVjb21lcyB2aXNpYmxlLlxuXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyAvL05vdCB0ZXN0YWJsZSBpbiBQaGFudG9tSlNcbiAgICAgIGlmICghaGlkZGVuQ2hlY2tFbmFibGVkICYmICcwJyA9PT0gbWVzc2FnZURhdGFbZGltZW5zaW9uXSkge1xuICAgICAgICBoaWRkZW5DaGVja0VuYWJsZWQgPSB0cnVlO1xuICAgICAgICBsb2coaWZyYW1lSWQsICdIaWRkZW4gaUZyYW1lIGRldGVjdGVkLCBjcmVhdGluZyB2aXNpYmlsaXR5IGxpc3RlbmVyJyk7XG4gICAgICAgIGZpeEhpZGRlbklGcmFtZXMoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzRGltZW5zaW9uKGRpbWVuc2lvbikge1xuICAgICAgc2V0RGltZW5zaW9uKGRpbWVuc2lvbik7XG4gICAgICBjaGtaZXJvKGRpbWVuc2lvbik7XG4gICAgfVxuXG4gICAgdmFyIGlmcmFtZUlkID0gbWVzc2FnZURhdGEuaWZyYW1lLmlkO1xuXG4gICAgaWYgKHNldHRpbmdzW2lmcmFtZUlkXSkge1xuICAgICAgaWYgKHNldHRpbmdzW2lmcmFtZUlkXS5zaXplSGVpZ2h0KSB7XG4gICAgICAgIHByb2Nlc3NEaW1lbnNpb24oJ2hlaWdodCcpO1xuICAgICAgfVxuICAgICAgaWYgKHNldHRpbmdzW2lmcmFtZUlkXS5zaXplV2lkdGgpIHtcbiAgICAgICAgcHJvY2Vzc0RpbWVuc2lvbignd2lkdGgnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzeW5jUmVzaXplKGZ1bmMsIG1lc3NhZ2VEYXRhLCBkb05vdFN5bmMpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8gLy9Ob3QgdGVzdGFibGUgaW4gUGhhbnRvbUpTXG4gICAgaWYgKGRvTm90U3luYyAhPT0gbWVzc2FnZURhdGEudHlwZSAmJiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgIGxvZyhtZXNzYWdlRGF0YS5pZCwgJ1JlcXVlc3RpbmcgYW5pbWF0aW9uIGZyYW1lJyk7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuYyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZ1bmMoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB0cmlnZ2VyKGNhbGxlZU1zZywgbXNnLCBpZnJhbWUsIGlkLCBub1Jlc3BvbnNlV2FybmluZykge1xuICAgIGZ1bmN0aW9uIHBvc3RNZXNzYWdlVG9JRnJhbWUoKSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gc2V0dGluZ3NbaWRdICYmIHNldHRpbmdzW2lkXS50YXJnZXRPcmlnaW47XG4gICAgICBsb2coXG4gICAgICAgIGlkLFxuICAgICAgICAnWycgK1xuICAgICAgICAgIGNhbGxlZU1zZyArXG4gICAgICAgICAgJ10gU2VuZGluZyBtc2cgdG8gaWZyYW1lWycgK1xuICAgICAgICAgIGlkICtcbiAgICAgICAgICAnXSAoJyArXG4gICAgICAgICAgbXNnICtcbiAgICAgICAgICAnKSB0YXJnZXRPcmlnaW46ICcgK1xuICAgICAgICAgIHRhcmdldFxuICAgICAgKTtcbiAgICAgIGlmcmFtZS5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKG1zZ0lkICsgbXNnLCB0YXJnZXQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlGcmFtZU5vdEZvdW5kKCkge1xuICAgICAgd2FybihpZCwgJ1snICsgY2FsbGVlTXNnICsgJ10gSUZyYW1lKCcgKyBpZCArICcpIG5vdCBmb3VuZCcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNoa0FuZFNlbmQoKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGlmcmFtZSAmJlxuICAgICAgICAnY29udGVudFdpbmRvdycgaW4gaWZyYW1lICYmXG4gICAgICAgIG51bGwgIT09IGlmcmFtZS5jb250ZW50V2luZG93XG4gICAgICApIHtcbiAgICAgICAgLy9OdWxsIHRlc3QgZm9yIFBoYW50b21KU1xuICAgICAgICBwb3N0TWVzc2FnZVRvSUZyYW1lKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpRnJhbWVOb3RGb3VuZCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHdhcm5Pbk5vUmVzcG9uc2UoKSB7XG4gICAgICBmdW5jdGlvbiB3YXJuaW5nKCkge1xuICAgICAgICBpZiAoc2V0dGluZ3NbaWRdICYmICFzZXR0aW5nc1tpZF0ubG9hZGVkICYmICFlcnJvclNob3duKSB7XG4gICAgICAgICAgZXJyb3JTaG93biA9IHRydWU7XG4gICAgICAgICAgd2FybihcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgJ0lGcmFtZSBoYXMgbm90IHJlc3BvbmRlZCB3aXRoaW4gJyArXG4gICAgICAgICAgICAgIHNldHRpbmdzW2lkXS53YXJuaW5nVGltZW91dCAvIDEwMDAgK1xuICAgICAgICAgICAgICAnIHNlY29uZHMuIENoZWNrIGlGcmFtZVJlc2l6ZXIuY29udGVudFdpbmRvdy5qcyBoYXMgYmVlbiBsb2FkZWQgaW4gaUZyYW1lLiBUaGlzIG1lc3NhZ2UgY2FuIGJlIGlnbm9yZWQgaWYgZXZlcnl0aGluZyBpcyB3b3JraW5nLCBvciB5b3UgY2FuIHNldCB0aGUgd2FybmluZ1RpbWVvdXQgb3B0aW9uIHRvIGEgaGlnaGVyIHZhbHVlIG9yIHplcm8gdG8gc3VwcHJlc3MgdGhpcyB3YXJuaW5nLidcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChcbiAgICAgICAgISFub1Jlc3BvbnNlV2FybmluZyAmJlxuICAgICAgICBzZXR0aW5nc1tpZF0gJiZcbiAgICAgICAgISFzZXR0aW5nc1tpZF0ud2FybmluZ1RpbWVvdXRcbiAgICAgICkge1xuICAgICAgICBzZXR0aW5nc1tpZF0ubXNnVGltZW91dCA9IHNldFRpbWVvdXQoXG4gICAgICAgICAgd2FybmluZyxcbiAgICAgICAgICBzZXR0aW5nc1tpZF0ud2FybmluZ1RpbWVvdXRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgZXJyb3JTaG93biA9IGZhbHNlO1xuXG4gICAgaWQgPSBpZCB8fCBpZnJhbWUuaWQ7XG5cbiAgICBpZiAoc2V0dGluZ3NbaWRdKSB7XG4gICAgICBjaGtBbmRTZW5kKCk7XG4gICAgICB3YXJuT25Ob1Jlc3BvbnNlKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlT3V0Z29pbmdNc2coaWZyYW1lSWQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgaWZyYW1lSWQgK1xuICAgICAgJzonICtcbiAgICAgIHNldHRpbmdzW2lmcmFtZUlkXS5ib2R5TWFyZ2luVjEgK1xuICAgICAgJzonICtcbiAgICAgIHNldHRpbmdzW2lmcmFtZUlkXS5zaXplV2lkdGggK1xuICAgICAgJzonICtcbiAgICAgIHNldHRpbmdzW2lmcmFtZUlkXS5sb2cgK1xuICAgICAgJzonICtcbiAgICAgIHNldHRpbmdzW2lmcmFtZUlkXS5pbnRlcnZhbCArXG4gICAgICAnOicgK1xuICAgICAgc2V0dGluZ3NbaWZyYW1lSWRdLmVuYWJsZVB1YmxpY01ldGhvZHMgK1xuICAgICAgJzonICtcbiAgICAgIHNldHRpbmdzW2lmcmFtZUlkXS5hdXRvUmVzaXplICtcbiAgICAgICc6JyArXG4gICAgICBzZXR0aW5nc1tpZnJhbWVJZF0uYm9keU1hcmdpbiArXG4gICAgICAnOicgK1xuICAgICAgc2V0dGluZ3NbaWZyYW1lSWRdLmhlaWdodENhbGN1bGF0aW9uTWV0aG9kICtcbiAgICAgICc6JyArXG4gICAgICBzZXR0aW5nc1tpZnJhbWVJZF0uYm9keUJhY2tncm91bmQgK1xuICAgICAgJzonICtcbiAgICAgIHNldHRpbmdzW2lmcmFtZUlkXS5ib2R5UGFkZGluZyArXG4gICAgICAnOicgK1xuICAgICAgc2V0dGluZ3NbaWZyYW1lSWRdLnRvbGVyYW5jZSArXG4gICAgICAnOicgK1xuICAgICAgc2V0dGluZ3NbaWZyYW1lSWRdLmluUGFnZUxpbmtzICtcbiAgICAgICc6JyArXG4gICAgICBzZXR0aW5nc1tpZnJhbWVJZF0ucmVzaXplRnJvbSArXG4gICAgICAnOicgK1xuICAgICAgc2V0dGluZ3NbaWZyYW1lSWRdLndpZHRoQ2FsY3VsYXRpb25NZXRob2RcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0dXBJRnJhbWUoaWZyYW1lLCBvcHRpb25zKSB7XG4gICAgZnVuY3Rpb24gc2V0TGltaXRzKCkge1xuICAgICAgZnVuY3Rpb24gYWRkU3R5bGUoc3R5bGUpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIEluZmluaXR5ICE9PSBzZXR0aW5nc1tpZnJhbWVJZF1bc3R5bGVdICYmXG4gICAgICAgICAgMCAhPT0gc2V0dGluZ3NbaWZyYW1lSWRdW3N0eWxlXVxuICAgICAgICApIHtcbiAgICAgICAgICBpZnJhbWUuc3R5bGVbc3R5bGVdID0gc2V0dGluZ3NbaWZyYW1lSWRdW3N0eWxlXSArICdweCc7XG4gICAgICAgICAgbG9nKFxuICAgICAgICAgICAgaWZyYW1lSWQsXG4gICAgICAgICAgICAnU2V0ICcgKyBzdHlsZSArICcgPSAnICsgc2V0dGluZ3NbaWZyYW1lSWRdW3N0eWxlXSArICdweCdcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNoa01pbk1heChkaW1lbnNpb24pIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHNldHRpbmdzW2lmcmFtZUlkXVsnbWluJyArIGRpbWVuc2lvbl0gPlxuICAgICAgICAgIHNldHRpbmdzW2lmcmFtZUlkXVsnbWF4JyArIGRpbWVuc2lvbl1cbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgJ1ZhbHVlIGZvciBtaW4nICtcbiAgICAgICAgICAgICAgZGltZW5zaW9uICtcbiAgICAgICAgICAgICAgJyBjYW4gbm90IGJlIGdyZWF0ZXIgdGhhbiBtYXgnICtcbiAgICAgICAgICAgICAgZGltZW5zaW9uXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjaGtNaW5NYXgoJ0hlaWdodCcpO1xuICAgICAgY2hrTWluTWF4KCdXaWR0aCcpO1xuXG4gICAgICBhZGRTdHlsZSgnbWF4SGVpZ2h0Jyk7XG4gICAgICBhZGRTdHlsZSgnbWluSGVpZ2h0Jyk7XG4gICAgICBhZGRTdHlsZSgnbWF4V2lkdGgnKTtcbiAgICAgIGFkZFN0eWxlKCdtaW5XaWR0aCcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG5ld0lkKCkge1xuICAgICAgdmFyIGlkID0gKG9wdGlvbnMgJiYgb3B0aW9ucy5pZCkgfHwgZGVmYXVsdHMuaWQgKyBjb3VudCsrO1xuICAgICAgaWYgKG51bGwgIT09IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKSkge1xuICAgICAgICBpZCA9IGlkICsgY291bnQrKztcbiAgICAgIH1cbiAgICAgIHJldHVybiBpZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBlbnN1cmVIYXNJZChpZnJhbWVJZCkge1xuICAgICAgbG9nSWQgPSBpZnJhbWVJZDtcbiAgICAgIGlmICgnJyA9PT0gaWZyYW1lSWQpIHtcbiAgICAgICAgaWZyYW1lLmlkID0gaWZyYW1lSWQgPSBuZXdJZCgpO1xuICAgICAgICBsb2dFbmFibGVkID0gKG9wdGlvbnMgfHwge30pLmxvZztcbiAgICAgICAgbG9nSWQgPSBpZnJhbWVJZDtcbiAgICAgICAgbG9nKFxuICAgICAgICAgIGlmcmFtZUlkLFxuICAgICAgICAgICdBZGRlZCBtaXNzaW5nIGlmcmFtZSBJRDogJyArIGlmcmFtZUlkICsgJyAoJyArIGlmcmFtZS5zcmMgKyAnKSdcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGlmcmFtZUlkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldFNjcm9sbGluZygpIHtcbiAgICAgIGxvZyhcbiAgICAgICAgaWZyYW1lSWQsXG4gICAgICAgICdJRnJhbWUgc2Nyb2xsaW5nICcgK1xuICAgICAgICAgIChzZXR0aW5nc1tpZnJhbWVJZF0gJiYgc2V0dGluZ3NbaWZyYW1lSWRdLnNjcm9sbGluZ1xuICAgICAgICAgICAgPyAnZW5hYmxlZCdcbiAgICAgICAgICAgIDogJ2Rpc2FibGVkJykgK1xuICAgICAgICAgICcgZm9yICcgK1xuICAgICAgICAgIGlmcmFtZUlkXG4gICAgICApO1xuICAgICAgaWZyYW1lLnN0eWxlLm92ZXJmbG93ID1cbiAgICAgICAgZmFsc2UgPT09IChzZXR0aW5nc1tpZnJhbWVJZF0gJiYgc2V0dGluZ3NbaWZyYW1lSWRdLnNjcm9sbGluZylcbiAgICAgICAgICA/ICdoaWRkZW4nXG4gICAgICAgICAgOiAnYXV0byc7XG4gICAgICBzd2l0Y2ggKHNldHRpbmdzW2lmcmFtZUlkXSAmJiBzZXR0aW5nc1tpZnJhbWVJZF0uc2Nyb2xsaW5nKSB7XG4gICAgICAgIGNhc2UgJ29taXQnOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIHRydWU6XG4gICAgICAgICAgaWZyYW1lLnNjcm9sbGluZyA9ICd5ZXMnO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGZhbHNlOlxuICAgICAgICAgIGlmcmFtZS5zY3JvbGxpbmcgPSAnbm8nO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmcmFtZS5zY3JvbGxpbmcgPSBzZXR0aW5nc1tpZnJhbWVJZF1cbiAgICAgICAgICAgID8gc2V0dGluZ3NbaWZyYW1lSWRdLnNjcm9sbGluZ1xuICAgICAgICAgICAgOiAnbm8nO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vVGhlIFYxIGlGcmFtZSBzY3JpcHQgZXhwZWN0cyBhbiBpbnQsIHdoZXJlIGFzIGluIFYyIGV4cGVjdHMgYSBDU1NcbiAgICAvL3N0cmluZyB2YWx1ZSBzdWNoIGFzICcxcHggM2VtJywgc28gaWYgd2UgaGF2ZSBhbiBpbnQgZm9yIFYyLCBzZXQgVjE9VjJcbiAgICAvL2FuZCB0aGVuIGNvbnZlcnQgVjIgdG8gYSBzdHJpbmcgUFggdmFsdWUuXG4gICAgZnVuY3Rpb24gc2V0dXBCb2R5TWFyZ2luVmFsdWVzKCkge1xuICAgICAgaWYgKFxuICAgICAgICAnbnVtYmVyJyA9PT1cbiAgICAgICAgICB0eXBlb2YgKHNldHRpbmdzW2lmcmFtZUlkXSAmJiBzZXR0aW5nc1tpZnJhbWVJZF0uYm9keU1hcmdpbikgfHxcbiAgICAgICAgJzAnID09PSAoc2V0dGluZ3NbaWZyYW1lSWRdICYmIHNldHRpbmdzW2lmcmFtZUlkXS5ib2R5TWFyZ2luKVxuICAgICAgKSB7XG4gICAgICAgIHNldHRpbmdzW2lmcmFtZUlkXS5ib2R5TWFyZ2luVjEgPSBzZXR0aW5nc1tpZnJhbWVJZF0uYm9keU1hcmdpbjtcbiAgICAgICAgc2V0dGluZ3NbaWZyYW1lSWRdLmJvZHlNYXJnaW4gPVxuICAgICAgICAgICcnICsgc2V0dGluZ3NbaWZyYW1lSWRdLmJvZHlNYXJnaW4gKyAncHgnO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNoZWNrUmVzZXQoKSB7XG4gICAgICAvLyBSZWR1Y2Ugc2NvcGUgb2YgZmlyc3RSdW4gdG8gZnVuY3Rpb24sIGJlY2F1c2UgSUU4J3MgSlMgZXhlY3V0aW9uXG4gICAgICAvLyBjb250ZXh0IHN0YWNrIGlzIGJvcmtlZCBhbmQgdGhpcyB2YWx1ZSBnZXRzIGV4dGVybmFsbHlcbiAgICAgIC8vIGNoYW5nZWQgbWlkd2F5IHRocm91Z2ggcnVubmluZyB0aGlzIGZ1bmN0aW9uISEhXG4gICAgICB2YXIgZmlyc3RSdW4gPSBzZXR0aW5nc1tpZnJhbWVJZF0gJiYgc2V0dGluZ3NbaWZyYW1lSWRdLmZpcnN0UnVuLFxuICAgICAgICByZXNldFJlcXVlcnRNZXRob2QgPVxuICAgICAgICAgIHNldHRpbmdzW2lmcmFtZUlkXSAmJlxuICAgICAgICAgIHNldHRpbmdzW2lmcmFtZUlkXS5oZWlnaHRDYWxjdWxhdGlvbk1ldGhvZCBpbiByZXNldFJlcXVpcmVkTWV0aG9kcztcblxuICAgICAgaWYgKCFmaXJzdFJ1biAmJiByZXNldFJlcXVlcnRNZXRob2QpIHtcbiAgICAgICAgcmVzZXRJRnJhbWUoeyBpZnJhbWU6IGlmcmFtZSwgaGVpZ2h0OiAwLCB3aWR0aDogMCwgdHlwZTogJ2luaXQnIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldHVwSUZyYW1lT2JqZWN0KCkge1xuICAgICAgaWYgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kICYmIHNldHRpbmdzW2lmcmFtZUlkXSkge1xuICAgICAgICAvL0lnbm9yZSB1bnBvbHlmaWxsZWQgSUU4LlxuICAgICAgICBzZXR0aW5nc1tpZnJhbWVJZF0uaWZyYW1lLmlGcmFtZVJlc2l6ZXIgPSB7XG4gICAgICAgICAgY2xvc2U6IGNsb3NlSUZyYW1lLmJpbmQobnVsbCwgc2V0dGluZ3NbaWZyYW1lSWRdLmlmcmFtZSksXG5cbiAgICAgICAgICByZW1vdmVMaXN0ZW5lcnM6IHJlbW92ZUlmcmFtZUxpc3RlbmVycy5iaW5kKFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHNldHRpbmdzW2lmcmFtZUlkXS5pZnJhbWVcbiAgICAgICAgICApLFxuXG4gICAgICAgICAgcmVzaXplOiB0cmlnZ2VyLmJpbmQoXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgJ1dpbmRvdyByZXNpemUnLFxuICAgICAgICAgICAgJ3Jlc2l6ZScsXG4gICAgICAgICAgICBzZXR0aW5nc1tpZnJhbWVJZF0uaWZyYW1lXG4gICAgICAgICAgKSxcblxuICAgICAgICAgIG1vdmVUb0FuY2hvcjogZnVuY3Rpb24oYW5jaG9yKSB7XG4gICAgICAgICAgICB0cmlnZ2VyKFxuICAgICAgICAgICAgICAnTW92ZSB0byBhbmNob3InLFxuICAgICAgICAgICAgICAnbW92ZVRvQW5jaG9yOicgKyBhbmNob3IsXG4gICAgICAgICAgICAgIHNldHRpbmdzW2lmcmFtZUlkXS5pZnJhbWUsXG4gICAgICAgICAgICAgIGlmcmFtZUlkXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0sXG5cbiAgICAgICAgICBzZW5kTWVzc2FnZTogZnVuY3Rpb24obWVzc2FnZSkge1xuICAgICAgICAgICAgbWVzc2FnZSA9IEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpO1xuICAgICAgICAgICAgdHJpZ2dlcihcbiAgICAgICAgICAgICAgJ1NlbmQgTWVzc2FnZScsXG4gICAgICAgICAgICAgICdtZXNzYWdlOicgKyBtZXNzYWdlLFxuICAgICAgICAgICAgICBzZXR0aW5nc1tpZnJhbWVJZF0uaWZyYW1lLFxuICAgICAgICAgICAgICBpZnJhbWVJZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy9XZSBoYXZlIHRvIGNhbGwgdHJpZ2dlciB0d2ljZSwgYXMgd2UgY2FuIG5vdCBiZSBzdXJlIGlmIGFsbFxuICAgIC8vaWZyYW1lcyBoYXZlIGNvbXBsZXRlZCBsb2FkaW5nIHdoZW4gdGhpcyBjb2RlIHJ1bnMuIFRoZVxuICAgIC8vZXZlbnQgbGlzdGVuZXIgYWxzbyBjYXRjaGVzIHRoZSBwYWdlIGNoYW5naW5nIGluIHRoZSBpRnJhbWUuXG4gICAgZnVuY3Rpb24gaW5pdChtc2cpIHtcbiAgICAgIGZ1bmN0aW9uIGlGcmFtZUxvYWRlZCgpIHtcbiAgICAgICAgdHJpZ2dlcignaUZyYW1lLm9ubG9hZCcsIG1zZywgaWZyYW1lLCB1bmRlZmluZWQsIHRydWUpO1xuICAgICAgICBjaGVja1Jlc2V0KCk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNyZWF0ZURlc3Ryb3lPYnNlcnZlcihNdXRhdGlvbk9ic2VydmVyKSB7XG4gICAgICAgIGlmICghaWZyYW1lLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGVzdHJveU9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKG11dGF0aW9ucykge1xuICAgICAgICAgIG11dGF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChtdXRhdGlvbikge1xuICAgICAgICAgICAgdmFyIHJlbW92ZWROb2RlcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG11dGF0aW9uLnJlbW92ZWROb2Rlcyk7IC8vIFRyYW5zZm9ybSBOb2RlTGlzdCBpbnRvIGFuIEFycmF5XG4gICAgICAgICAgICByZW1vdmVkTm9kZXMuZm9yRWFjaChmdW5jdGlvbiAocmVtb3ZlZE5vZGUpIHtcbiAgICAgICAgICAgICAgaWYgKHJlbW92ZWROb2RlID09PSBpZnJhbWUpIHtcbiAgICAgICAgICAgICAgICBjbG9zZUlGcmFtZShpZnJhbWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRlc3Ryb3lPYnNlcnZlci5vYnNlcnZlKGlmcmFtZS5wYXJlbnROb2RlLCB7XG4gICAgICAgICAgY2hpbGRMaXN0OiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB2YXIgTXV0YXRpb25PYnNlcnZlciA9IGdldE11dGF0aW9uT2JzZXJ2ZXIoKTtcbiAgICAgIGlmIChNdXRhdGlvbk9ic2VydmVyKSB7XG4gICAgICAgIGNyZWF0ZURlc3Ryb3lPYnNlcnZlcihNdXRhdGlvbk9ic2VydmVyKTtcbiAgICAgIH1cblxuICAgICAgYWRkRXZlbnRMaXN0ZW5lcihpZnJhbWUsICdsb2FkJywgaUZyYW1lTG9hZGVkKTtcbiAgICAgIHRyaWdnZXIoJ2luaXQnLCBtc2csIGlmcmFtZSwgdW5kZWZpbmVkLCB0cnVlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjaGVja09wdGlvbnMob3B0aW9ucykge1xuICAgICAgaWYgKCdvYmplY3QnICE9PSB0eXBlb2Ygb3B0aW9ucykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdPcHRpb25zIGlzIG5vdCBhbiBvYmplY3QnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb3B5T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICBmb3IgKHZhciBvcHRpb24gaW4gZGVmYXVsdHMpIHtcbiAgICAgICAgaWYgKGRlZmF1bHRzLmhhc093blByb3BlcnR5KG9wdGlvbikpIHtcbiAgICAgICAgICBzZXR0aW5nc1tpZnJhbWVJZF1bb3B0aW9uXSA9IG9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0aW9uKVxuICAgICAgICAgICAgPyBvcHRpb25zW29wdGlvbl1cbiAgICAgICAgICAgIDogZGVmYXVsdHNbb3B0aW9uXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFRhcmdldE9yaWdpbihyZW1vdGVIb3N0KSB7XG4gICAgICByZXR1cm4gJycgPT09IHJlbW90ZUhvc3QgfHwgJ2ZpbGU6Ly8nID09PSByZW1vdGVIb3N0ID8gJyonIDogcmVtb3RlSG9zdDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgIHNldHRpbmdzW2lmcmFtZUlkXSA9IHtcbiAgICAgICAgZmlyc3RSdW46IHRydWUsXG4gICAgICAgIGlmcmFtZTogaWZyYW1lLFxuICAgICAgICByZW1vdGVIb3N0OiBpZnJhbWUuc3JjXG4gICAgICAgICAgLnNwbGl0KCcvJylcbiAgICAgICAgICAuc2xpY2UoMCwgMylcbiAgICAgICAgICAuam9pbignLycpXG4gICAgICB9O1xuXG4gICAgICBjaGVja09wdGlvbnMob3B0aW9ucyk7XG4gICAgICBjb3B5T3B0aW9ucyhvcHRpb25zKTtcblxuICAgICAgaWYgKHNldHRpbmdzW2lmcmFtZUlkXSkge1xuICAgICAgICBzZXR0aW5nc1tpZnJhbWVJZF0udGFyZ2V0T3JpZ2luID1cbiAgICAgICAgICB0cnVlID09PSBzZXR0aW5nc1tpZnJhbWVJZF0uY2hlY2tPcmlnaW5cbiAgICAgICAgICAgID8gZ2V0VGFyZ2V0T3JpZ2luKHNldHRpbmdzW2lmcmFtZUlkXS5yZW1vdGVIb3N0KVxuICAgICAgICAgICAgOiAnKic7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYmVlbkhlcmUoKSB7XG4gICAgICByZXR1cm4gaWZyYW1lSWQgaW4gc2V0dGluZ3MgJiYgJ2lGcmFtZVJlc2l6ZXInIGluIGlmcmFtZTtcbiAgICB9XG5cbiAgICB2YXIgaWZyYW1lSWQgPSBlbnN1cmVIYXNJZChpZnJhbWUuaWQpO1xuXG4gICAgaWYgKCFiZWVuSGVyZSgpKSB7XG4gICAgICBwcm9jZXNzT3B0aW9ucyhvcHRpb25zKTtcbiAgICAgIHNldFNjcm9sbGluZygpO1xuICAgICAgc2V0TGltaXRzKCk7XG4gICAgICBzZXR1cEJvZHlNYXJnaW5WYWx1ZXMoKTtcbiAgICAgIGluaXQoY3JlYXRlT3V0Z29pbmdNc2coaWZyYW1lSWQpKTtcbiAgICAgIHNldHVwSUZyYW1lT2JqZWN0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdhcm4oaWZyYW1lSWQsICdJZ25vcmVkIGlGcmFtZSwgYWxyZWFkeSBzZXR1cC4nKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkZWJvdWNlKGZuLCB0aW1lKSB7XG4gICAgaWYgKG51bGwgPT09IHRpbWVyKSB7XG4gICAgICB0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHRpbWVyID0gbnVsbDtcbiAgICAgICAgZm4oKTtcbiAgICAgIH0sIHRpbWUpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBmcmFtZVRpbWVyID0ge307XG4gIGZ1bmN0aW9uIGRlYm91bmNlRnJhbWVFdmVudHMoZm4sIHRpbWUsIGZyYW1lSWQpIHtcbiAgICBpZiAoIWZyYW1lVGltZXJbZnJhbWVJZF0pIHtcbiAgICAgIGZyYW1lVGltZXJbZnJhbWVJZF0gPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBmcmFtZVRpbWVyW2ZyYW1lSWRdID0gbnVsbDtcbiAgICAgICAgZm4oKTtcbiAgICAgIH0sIHRpbWUpO1xuICAgIH1cbiAgfSAvL05vdCB0ZXN0YWJsZSBpbiBQaGFudG9tSlNcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBmdW5jdGlvbiBmaXhIaWRkZW5JRnJhbWVzKCkge1xuICAgIGZ1bmN0aW9uIGNoZWNrSUZyYW1lcygpIHtcbiAgICAgIGZ1bmN0aW9uIGNoZWNrSUZyYW1lKHNldHRpbmdJZCkge1xuICAgICAgICBmdW5jdGlvbiBjaGtEaW1lbnNpb24oZGltZW5zaW9uKSB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICcwcHgnID09PVxuICAgICAgICAgICAgKHNldHRpbmdzW3NldHRpbmdJZF0gJiYgc2V0dGluZ3Nbc2V0dGluZ0lkXS5pZnJhbWUuc3R5bGVbZGltZW5zaW9uXSlcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gaXNWaXNpYmxlKGVsKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGwgIT09IGVsLm9mZnNldFBhcmVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChcbiAgICAgICAgICBzZXR0aW5nc1tzZXR0aW5nSWRdICYmXG4gICAgICAgICAgaXNWaXNpYmxlKHNldHRpbmdzW3NldHRpbmdJZF0uaWZyYW1lKSAmJlxuICAgICAgICAgIChjaGtEaW1lbnNpb24oJ2hlaWdodCcpIHx8IGNoa0RpbWVuc2lvbignd2lkdGgnKSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgdHJpZ2dlcihcbiAgICAgICAgICAgICdWaXNpYmlsaXR5IGNoYW5nZScsXG4gICAgICAgICAgICAncmVzaXplJyxcbiAgICAgICAgICAgIHNldHRpbmdzW3NldHRpbmdJZF0uaWZyYW1lLFxuICAgICAgICAgICAgc2V0dGluZ0lkXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBzZXR0aW5nSWQgaW4gc2V0dGluZ3MpIHtcbiAgICAgICAgY2hlY2tJRnJhbWUoc2V0dGluZ0lkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtdXRhdGlvbk9ic2VydmVkKG11dGF0aW9ucykge1xuICAgICAgbG9nKFxuICAgICAgICAnd2luZG93JyxcbiAgICAgICAgJ011dGF0aW9uIG9ic2VydmVkOiAnICsgbXV0YXRpb25zWzBdLnRhcmdldCArICcgJyArIG11dGF0aW9uc1swXS50eXBlXG4gICAgICApO1xuICAgICAgZGVib3VjZShjaGVja0lGcmFtZXMsIDE2KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVNdXRhdGlvbk9ic2VydmVyKCkge1xuICAgICAgdmFyIHRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKSxcbiAgICAgICAgY29uZmlnID0ge1xuICAgICAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgICAgICAgYXR0cmlidXRlT2xkVmFsdWU6IGZhbHNlLFxuICAgICAgICAgIGNoYXJhY3RlckRhdGE6IHRydWUsXG4gICAgICAgICAgY2hhcmFjdGVyRGF0YU9sZFZhbHVlOiBmYWxzZSxcbiAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICAgICAgc3VidHJlZTogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKG11dGF0aW9uT2JzZXJ2ZWQpO1xuXG4gICAgICBvYnNlcnZlci5vYnNlcnZlKHRhcmdldCwgY29uZmlnKTtcbiAgICB9XG5cbiAgICB2YXIgTXV0YXRpb25PYnNlcnZlciA9IGdldE11dGF0aW9uT2JzZXJ2ZXIoKTtcbiAgICBpZiAoTXV0YXRpb25PYnNlcnZlcikge1xuICAgICAgY3JlYXRlTXV0YXRpb25PYnNlcnZlcigpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2l6ZUlGcmFtZXMoZXZlbnQpIHtcbiAgICBmdW5jdGlvbiByZXNpemUoKSB7XG4gICAgICBzZW5kVHJpZ2dlck1zZygnV2luZG93ICcgKyBldmVudCwgJ3Jlc2l6ZScpO1xuICAgIH1cblxuICAgIGxvZygnd2luZG93JywgJ1RyaWdnZXIgZXZlbnQ6ICcgKyBldmVudCk7XG4gICAgZGVib3VjZShyZXNpemUsIDE2KTtcbiAgfSAvL05vdCB0ZXN0YWJsZSBpbiBQaGFudG9tSlNcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBmdW5jdGlvbiB0YWJWaXNpYmxlKCkge1xuICAgIGZ1bmN0aW9uIHJlc2l6ZSgpIHtcbiAgICAgIHNlbmRUcmlnZ2VyTXNnKCdUYWIgVmlzYWJsZScsICdyZXNpemUnKTtcbiAgICB9XG5cbiAgICBpZiAoJ2hpZGRlbicgIT09IGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSkge1xuICAgICAgbG9nKCdkb2N1bWVudCcsICdUcmlnZ2VyIGV2ZW50OiBWaXNpYmxpdHkgY2hhbmdlJyk7XG4gICAgICBkZWJvdWNlKHJlc2l6ZSwgMTYpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNlbmRUcmlnZ2VyTXNnKGV2ZW50TmFtZSwgZXZlbnQpIHtcbiAgICBmdW5jdGlvbiBpc0lGcmFtZVJlc2l6ZUVuYWJsZWQoaWZyYW1lSWQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHNldHRpbmdzW2lmcmFtZUlkXSAmJlxuICAgICAgICAncGFyZW50JyA9PT0gc2V0dGluZ3NbaWZyYW1lSWRdLnJlc2l6ZUZyb20gJiZcbiAgICAgICAgc2V0dGluZ3NbaWZyYW1lSWRdLmF1dG9SZXNpemUgJiZcbiAgICAgICAgIXNldHRpbmdzW2lmcmFtZUlkXS5maXJzdFJ1blxuICAgICAgKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpZnJhbWVJZCBpbiBzZXR0aW5ncykge1xuICAgICAgaWYgKGlzSUZyYW1lUmVzaXplRW5hYmxlZChpZnJhbWVJZCkpIHtcbiAgICAgICAgdHJpZ2dlcihldmVudE5hbWUsIGV2ZW50LCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZnJhbWVJZCksIGlmcmFtZUlkKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXR1cEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGFkZEV2ZW50TGlzdGVuZXIod2luZG93LCAnbWVzc2FnZScsIGlGcmFtZUxpc3RlbmVyKTtcblxuICAgIGFkZEV2ZW50TGlzdGVuZXIod2luZG93LCAncmVzaXplJywgZnVuY3Rpb24oKSB7XG4gICAgICByZXNpemVJRnJhbWVzKCdyZXNpemUnKTtcbiAgICB9KTtcblxuICAgIGFkZEV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsICd2aXNpYmlsaXR5Y2hhbmdlJywgdGFiVmlzaWJsZSk7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcihkb2N1bWVudCwgJy13ZWJraXQtdmlzaWJpbGl0eWNoYW5nZScsIHRhYlZpc2libGUpOyAvL0FuZHJpb2QgNC40XG4gICAgYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csICdmb2N1c2luJywgZnVuY3Rpb24oKSB7XG4gICAgICByZXNpemVJRnJhbWVzKCdmb2N1cycpO1xuICAgIH0pOyAvL0lFOC05XG4gICAgYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csICdmb2N1cycsIGZ1bmN0aW9uKCkge1xuICAgICAgcmVzaXplSUZyYW1lcygnZm9jdXMnKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZhY3RvcnkoKSB7XG4gICAgZnVuY3Rpb24gaW5pdChvcHRpb25zLCBlbGVtZW50KSB7XG4gICAgICBmdW5jdGlvbiBjaGtUeXBlKCkge1xuICAgICAgICBpZiAoIWVsZW1lbnQudGFnTmFtZSkge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdCBpcyBub3QgYSB2YWxpZCBET00gZWxlbWVudCcpO1xuICAgICAgICB9IGVsc2UgaWYgKCdJRlJBTUUnICE9PSBlbGVtZW50LnRhZ05hbWUudG9VcHBlckNhc2UoKSkge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgICAnRXhwZWN0ZWQgPElGUkFNRT4gdGFnLCBmb3VuZCA8JyArIGVsZW1lbnQudGFnTmFtZSArICc+J1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgY2hrVHlwZSgpO1xuICAgICAgICBzZXR1cElGcmFtZShlbGVtZW50LCBvcHRpb25zKTtcbiAgICAgICAgaUZyYW1lcy5wdXNoKGVsZW1lbnQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHdhcm5EZXByZWNhdGVkT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmVuYWJsZVB1YmxpY01ldGhvZHMpIHtcbiAgICAgICAgd2FybihcbiAgICAgICAgICAnZW5hYmxlUHVibGljTWV0aG9kcyBvcHRpb24gaGFzIGJlZW4gcmVtb3ZlZCwgcHVibGljIG1ldGhvZHMgYXJlIG5vdyBhbHdheXMgYXZhaWxhYmxlIGluIHRoZSBpRnJhbWUnXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGlGcmFtZXM7XG5cbiAgICBzZXR1cFJlcXVlc3RBbmltYXRpb25GcmFtZSgpO1xuICAgIHNldHVwRXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiBpRnJhbWVSZXNpemVGKG9wdGlvbnMsIHRhcmdldCkge1xuICAgICAgaUZyYW1lcyA9IFtdOyAvL09ubHkgcmV0dXJuIGlGcmFtZXMgcGFzdCBpbiBvbiB0aGlzIGNhbGxcblxuICAgICAgd2FybkRlcHJlY2F0ZWRPcHRpb25zKG9wdGlvbnMpO1xuXG4gICAgICBzd2l0Y2ggKHR5cGVvZiB0YXJnZXQpIHtcbiAgICAgICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKFxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0YXJnZXQgfHwgJ2lmcmFtZScpLFxuICAgICAgICAgICAgaW5pdC5iaW5kKHVuZGVmaW5lZCwgb3B0aW9ucylcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgIGluaXQob3B0aW9ucywgdGFyZ2V0KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmV4cGVjdGVkIGRhdGEgdHlwZSAoJyArIHR5cGVvZiB0YXJnZXQgKyAnKScpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaUZyYW1lcztcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlSlF1ZXJ5UHVibGljTWV0aG9kKCQpIHtcbiAgICBpZiAoISQuZm4pIHtcbiAgICAgIGluZm8oJycsICdVbmFibGUgdG8gYmluZCB0byBqUXVlcnksIGl0IGlzIG5vdCBmdWxseSBsb2FkZWQuJyk7XG4gICAgfSBlbHNlIGlmICghJC5mbi5pRnJhbWVSZXNpemUpIHtcbiAgICAgICQuZm4uaUZyYW1lUmVzaXplID0gZnVuY3Rpb24gJGlGcmFtZVJlc2l6ZUYob3B0aW9ucykge1xuICAgICAgICBmdW5jdGlvbiBpbml0KGluZGV4LCBlbGVtZW50KSB7XG4gICAgICAgICAgc2V0dXBJRnJhbWUoZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5maWx0ZXIoJ2lmcmFtZScpXG4gICAgICAgICAgLmVhY2goaW5pdClcbiAgICAgICAgICAuZW5kKCk7XG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIGlmICh3aW5kb3cualF1ZXJ5KSB7XG4gICAgY3JlYXRlSlF1ZXJ5UHVibGljTWV0aG9kKHdpbmRvdy5qUXVlcnkpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShbXSwgZmFjdG9yeSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIC8vTm9kZSBmb3IgYnJvd3NlcmZ5XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gIH1cbiAgd2luZG93LmlGcmFtZVJlc2l6ZSA9IHdpbmRvdy5pRnJhbWVSZXNpemUgfHwgZmFjdG9yeSgpO1xufSkoKTtcbiIsImV4cG9ydHMuaWZyYW1lUmVzaXplciA9IHJlcXVpcmUoJy4vaWZyYW1lUmVzaXplcicpO1xuZXhwb3J0cy5pZnJhbWVSZXNpemVyQ29udGVudFdpbmRvdyA9IHJlcXVpcmUoJy4vaWZyYW1lUmVzaXplci5jb250ZW50V2luZG93Jyk7XG4iLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh4KSB7XG5cdHZhciB0eXBlID0gdHlwZW9mIHg7XG5cdHJldHVybiB4ICE9PSBudWxsICYmICh0eXBlID09PSAnb2JqZWN0JyB8fCB0eXBlID09PSAnZnVuY3Rpb24nKTtcbn07XG4iLCIvKiFcbiAqIEphdmFTY3JpcHQgQ29va2llIHYyLjIuMVxuICogaHR0cHM6Ly9naXRodWIuY29tL2pzLWNvb2tpZS9qcy1jb29raWVcbiAqXG4gKiBDb3B5cmlnaHQgMjAwNiwgMjAxNSBLbGF1cyBIYXJ0bCAmIEZhZ25lciBCcmFja1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKi9cbjsoZnVuY3Rpb24gKGZhY3RvcnkpIHtcblx0dmFyIHJlZ2lzdGVyZWRJbk1vZHVsZUxvYWRlcjtcblx0aWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuXHRcdGRlZmluZShmYWN0b3J5KTtcblx0XHRyZWdpc3RlcmVkSW5Nb2R1bGVMb2FkZXIgPSB0cnVlO1xuXHR9XG5cdGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0XHRyZWdpc3RlcmVkSW5Nb2R1bGVMb2FkZXIgPSB0cnVlO1xuXHR9XG5cdGlmICghcmVnaXN0ZXJlZEluTW9kdWxlTG9hZGVyKSB7XG5cdFx0dmFyIE9sZENvb2tpZXMgPSB3aW5kb3cuQ29va2llcztcblx0XHR2YXIgYXBpID0gd2luZG93LkNvb2tpZXMgPSBmYWN0b3J5KCk7XG5cdFx0YXBpLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHR3aW5kb3cuQ29va2llcyA9IE9sZENvb2tpZXM7XG5cdFx0XHRyZXR1cm4gYXBpO1xuXHRcdH07XG5cdH1cbn0oZnVuY3Rpb24gKCkge1xuXHRmdW5jdGlvbiBleHRlbmQgKCkge1xuXHRcdHZhciBpID0gMDtcblx0XHR2YXIgcmVzdWx0ID0ge307XG5cdFx0Zm9yICg7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBhdHRyaWJ1dGVzID0gYXJndW1lbnRzWyBpIF07XG5cdFx0XHRmb3IgKHZhciBrZXkgaW4gYXR0cmlidXRlcykge1xuXHRcdFx0XHRyZXN1bHRba2V5XSA9IGF0dHJpYnV0ZXNba2V5XTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fVxuXG5cdGZ1bmN0aW9uIGRlY29kZSAocykge1xuXHRcdHJldHVybiBzLnJlcGxhY2UoLyglWzAtOUEtWl17Mn0pKy9nLCBkZWNvZGVVUklDb21wb25lbnQpO1xuXHR9XG5cblx0ZnVuY3Rpb24gaW5pdCAoY29udmVydGVyKSB7XG5cdFx0ZnVuY3Rpb24gYXBpKCkge31cblxuXHRcdGZ1bmN0aW9uIHNldCAoa2V5LCB2YWx1ZSwgYXR0cmlidXRlcykge1xuXHRcdFx0aWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRhdHRyaWJ1dGVzID0gZXh0ZW5kKHtcblx0XHRcdFx0cGF0aDogJy8nXG5cdFx0XHR9LCBhcGkuZGVmYXVsdHMsIGF0dHJpYnV0ZXMpO1xuXG5cdFx0XHRpZiAodHlwZW9mIGF0dHJpYnV0ZXMuZXhwaXJlcyA9PT0gJ251bWJlcicpIHtcblx0XHRcdFx0YXR0cmlidXRlcy5leHBpcmVzID0gbmV3IERhdGUobmV3IERhdGUoKSAqIDEgKyBhdHRyaWJ1dGVzLmV4cGlyZXMgKiA4NjRlKzUpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBXZSdyZSB1c2luZyBcImV4cGlyZXNcIiBiZWNhdXNlIFwibWF4LWFnZVwiIGlzIG5vdCBzdXBwb3J0ZWQgYnkgSUVcblx0XHRcdGF0dHJpYnV0ZXMuZXhwaXJlcyA9IGF0dHJpYnV0ZXMuZXhwaXJlcyA/IGF0dHJpYnV0ZXMuZXhwaXJlcy50b1VUQ1N0cmluZygpIDogJyc7XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdHZhciByZXN1bHQgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG5cdFx0XHRcdGlmICgvXltcXHtcXFtdLy50ZXN0KHJlc3VsdCkpIHtcblx0XHRcdFx0XHR2YWx1ZSA9IHJlc3VsdDtcblx0XHRcdFx0fVxuXHRcdFx0fSBjYXRjaCAoZSkge31cblxuXHRcdFx0dmFsdWUgPSBjb252ZXJ0ZXIud3JpdGUgP1xuXHRcdFx0XHRjb252ZXJ0ZXIud3JpdGUodmFsdWUsIGtleSkgOlxuXHRcdFx0XHRlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKHZhbHVlKSlcblx0XHRcdFx0XHQucmVwbGFjZSgvJSgyM3wyNHwyNnwyQnwzQXwzQ3wzRXwzRHwyRnwzRnw0MHw1Qnw1RHw1RXw2MHw3Qnw3RHw3QykvZywgZGVjb2RlVVJJQ29tcG9uZW50KTtcblxuXHRcdFx0a2V5ID0gZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhrZXkpKVxuXHRcdFx0XHQucmVwbGFjZSgvJSgyM3wyNHwyNnwyQnw1RXw2MHw3QykvZywgZGVjb2RlVVJJQ29tcG9uZW50KVxuXHRcdFx0XHQucmVwbGFjZSgvW1xcKFxcKV0vZywgZXNjYXBlKTtcblxuXHRcdFx0dmFyIHN0cmluZ2lmaWVkQXR0cmlidXRlcyA9ICcnO1xuXHRcdFx0Zm9yICh2YXIgYXR0cmlidXRlTmFtZSBpbiBhdHRyaWJ1dGVzKSB7XG5cdFx0XHRcdGlmICghYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXSkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHN0cmluZ2lmaWVkQXR0cmlidXRlcyArPSAnOyAnICsgYXR0cmlidXRlTmFtZTtcblx0XHRcdFx0aWYgKGF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0gPT09IHRydWUpIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIENvbnNpZGVycyBSRkMgNjI2NSBzZWN0aW9uIDUuMjpcblx0XHRcdFx0Ly8gLi4uXG5cdFx0XHRcdC8vIDMuICBJZiB0aGUgcmVtYWluaW5nIHVucGFyc2VkLWF0dHJpYnV0ZXMgY29udGFpbnMgYSAleDNCIChcIjtcIilcblx0XHRcdFx0Ly8gICAgIGNoYXJhY3Rlcjpcblx0XHRcdFx0Ly8gQ29uc3VtZSB0aGUgY2hhcmFjdGVycyBvZiB0aGUgdW5wYXJzZWQtYXR0cmlidXRlcyB1cCB0byxcblx0XHRcdFx0Ly8gbm90IGluY2x1ZGluZywgdGhlIGZpcnN0ICV4M0IgKFwiO1wiKSBjaGFyYWN0ZXIuXG5cdFx0XHRcdC8vIC4uLlxuXHRcdFx0XHRzdHJpbmdpZmllZEF0dHJpYnV0ZXMgKz0gJz0nICsgYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXS5zcGxpdCgnOycpWzBdO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gKGRvY3VtZW50LmNvb2tpZSA9IGtleSArICc9JyArIHZhbHVlICsgc3RyaW5naWZpZWRBdHRyaWJ1dGVzKTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBnZXQgKGtleSwganNvbikge1xuXHRcdFx0aWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgamFyID0ge307XG5cdFx0XHQvLyBUbyBwcmV2ZW50IHRoZSBmb3IgbG9vcCBpbiB0aGUgZmlyc3QgcGxhY2UgYXNzaWduIGFuIGVtcHR5IGFycmF5XG5cdFx0XHQvLyBpbiBjYXNlIHRoZXJlIGFyZSBubyBjb29raWVzIGF0IGFsbC5cblx0XHRcdHZhciBjb29raWVzID0gZG9jdW1lbnQuY29va2llID8gZG9jdW1lbnQuY29va2llLnNwbGl0KCc7ICcpIDogW107XG5cdFx0XHR2YXIgaSA9IDA7XG5cblx0XHRcdGZvciAoOyBpIDwgY29va2llcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHR2YXIgcGFydHMgPSBjb29raWVzW2ldLnNwbGl0KCc9Jyk7XG5cdFx0XHRcdHZhciBjb29raWUgPSBwYXJ0cy5zbGljZSgxKS5qb2luKCc9Jyk7XG5cblx0XHRcdFx0aWYgKCFqc29uICYmIGNvb2tpZS5jaGFyQXQoMCkgPT09ICdcIicpIHtcblx0XHRcdFx0XHRjb29raWUgPSBjb29raWUuc2xpY2UoMSwgLTEpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHR2YXIgbmFtZSA9IGRlY29kZShwYXJ0c1swXSk7XG5cdFx0XHRcdFx0Y29va2llID0gKGNvbnZlcnRlci5yZWFkIHx8IGNvbnZlcnRlcikoY29va2llLCBuYW1lKSB8fFxuXHRcdFx0XHRcdFx0ZGVjb2RlKGNvb2tpZSk7XG5cblx0XHRcdFx0XHRpZiAoanNvbikge1xuXHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0Y29va2llID0gSlNPTi5wYXJzZShjb29raWUpO1xuXHRcdFx0XHRcdFx0fSBjYXRjaCAoZSkge31cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRqYXJbbmFtZV0gPSBjb29raWU7XG5cblx0XHRcdFx0XHRpZiAoa2V5ID09PSBuYW1lKSB7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gY2F0Y2ggKGUpIHt9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBrZXkgPyBqYXJba2V5XSA6IGphcjtcblx0XHR9XG5cblx0XHRhcGkuc2V0ID0gc2V0O1xuXHRcdGFwaS5nZXQgPSBmdW5jdGlvbiAoa2V5KSB7XG5cdFx0XHRyZXR1cm4gZ2V0KGtleSwgZmFsc2UgLyogcmVhZCBhcyByYXcgKi8pO1xuXHRcdH07XG5cdFx0YXBpLmdldEpTT04gPSBmdW5jdGlvbiAoa2V5KSB7XG5cdFx0XHRyZXR1cm4gZ2V0KGtleSwgdHJ1ZSAvKiByZWFkIGFzIGpzb24gKi8pO1xuXHRcdH07XG5cdFx0YXBpLnJlbW92ZSA9IGZ1bmN0aW9uIChrZXksIGF0dHJpYnV0ZXMpIHtcblx0XHRcdHNldChrZXksICcnLCBleHRlbmQoYXR0cmlidXRlcywge1xuXHRcdFx0XHRleHBpcmVzOiAtMVxuXHRcdFx0fSkpO1xuXHRcdH07XG5cblx0XHRhcGkuZGVmYXVsdHMgPSB7fTtcblxuXHRcdGFwaS53aXRoQ29udmVydGVyID0gaW5pdDtcblxuXHRcdHJldHVybiBhcGk7XG5cdH1cblxuXHRyZXR1cm4gaW5pdChmdW5jdGlvbiAoKSB7fSk7XG59KSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmV4cG9ydHMuaGFzQ29va2llcyA9IGhhc0Nvb2tpZXM7XG5cbnZhciBfY29va2llID0gcmVxdWlyZSgnY29va2llJyk7XG5cbnZhciBfY29va2llMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Nvb2tpZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBwcmVmaXggPSAnbFNfJztcblxudmFyIENvb2tpZVN0b3JhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIENvb2tpZVN0b3JhZ2UoKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvb2tpZVN0b3JhZ2UpO1xuXG4gICAgdGhpcy5jb29raWVPcHRpb25zID0gT2JqZWN0LmFzc2lnbih7IHBhdGg6ICcvJyB9LCBvcHRpb25zKTtcbiAgICBwcmVmaXggPSBvcHRpb25zLnByZWZpeCA9PT0gdW5kZWZpbmVkID8gcHJlZml4IDogb3B0aW9ucy5wcmVmaXg7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ29va2llU3RvcmFnZSwgW3tcbiAgICBrZXk6ICdnZXRJdGVtJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SXRlbShrZXkpIHtcbiAgICAgIHZhciBjb29raWVzID0gX2Nvb2tpZTIuZGVmYXVsdC5wYXJzZShkb2N1bWVudC5jb29raWUpO1xuICAgICAgaWYgKCFjb29raWVzIHx8ICFjb29raWVzLmhhc093blByb3BlcnR5KHByZWZpeCArIGtleSkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29va2llc1twcmVmaXggKyBrZXldO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3NldEl0ZW0nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRJdGVtKGtleSwgdmFsdWUpIHtcbiAgICAgIGRvY3VtZW50LmNvb2tpZSA9IF9jb29raWUyLmRlZmF1bHQuc2VyaWFsaXplKHByZWZpeCArIGtleSwgdmFsdWUsIHRoaXMuY29va2llT3B0aW9ucyk7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVtb3ZlSXRlbScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZUl0ZW0oa2V5KSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuY29va2llT3B0aW9ucywgeyBtYXhBZ2U6IC0xIH0pO1xuICAgICAgZG9jdW1lbnQuY29va2llID0gX2Nvb2tpZTIuZGVmYXVsdC5zZXJpYWxpemUocHJlZml4ICsga2V5LCAnJywgb3B0aW9ucyk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjbGVhcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgICAgdmFyIGNvb2tpZXMgPSBfY29va2llMi5kZWZhdWx0LnBhcnNlKGRvY3VtZW50LmNvb2tpZSk7XG4gICAgICBmb3IgKHZhciBrZXkgaW4gY29va2llcykge1xuICAgICAgICBpZiAoa2V5LmluZGV4T2YocHJlZml4KSA9PT0gMCkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlSXRlbShrZXkuc3Vic3RyKHByZWZpeC5sZW5ndGgpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ29va2llU3RvcmFnZTtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQ29va2llU3RvcmFnZTtcbmZ1bmN0aW9uIGhhc0Nvb2tpZXMoKSB7XG4gIHZhciBzdG9yYWdlID0gbmV3IENvb2tpZVN0b3JhZ2UoKTtcblxuICB0cnkge1xuICAgIHZhciBURVNUX0tFWSA9ICdfX3Rlc3QnO1xuICAgIHN0b3JhZ2Uuc2V0SXRlbShURVNUX0tFWSwgJzEnKTtcbiAgICB2YXIgdmFsdWUgPSBzdG9yYWdlLmdldEl0ZW0oVEVTVF9LRVkpO1xuICAgIHN0b3JhZ2UucmVtb3ZlSXRlbShURVNUX0tFWSk7XG5cbiAgICByZXR1cm4gdmFsdWUgPT09ICcxJztcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgTWVtb3J5U3RvcmFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTWVtb3J5U3RvcmFnZSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWVtb3J5U3RvcmFnZSk7XG5cbiAgICB0aGlzLl9kYXRhID0ge307XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTWVtb3J5U3RvcmFnZSwgW3tcbiAgICBrZXk6IFwiZ2V0SXRlbVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJdGVtKGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2RhdGEuaGFzT3duUHJvcGVydHkoa2V5KSA/IHRoaXMuX2RhdGFba2V5XSA6IG51bGw7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldEl0ZW1cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0SXRlbShrZXksIHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZGF0YVtrZXldID0gU3RyaW5nKHZhbHVlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlSXRlbVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVJdGVtKGtleSkge1xuICAgICAgcmV0dXJuIGRlbGV0ZSB0aGlzLl9kYXRhW2tleV07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNsZWFyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2RhdGEgPSB7fTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWVtb3J5U3RvcmFnZTtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gTWVtb3J5U3RvcmFnZTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLk1lbW9yeVN0b3JhZ2UgPSBleHBvcnRzLkNvb2tpZVN0b3JhZ2UgPSBleHBvcnRzLmlzU3VwcG9ydGVkID0gZXhwb3J0cy5zdG9yYWdlID0gdW5kZWZpbmVkO1xuXG52YXIgX2lzU3VwcG9ydGVkID0gcmVxdWlyZSgnLi9pc1N1cHBvcnRlZCcpO1xuXG52YXIgX2lzU3VwcG9ydGVkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzU3VwcG9ydGVkKTtcblxudmFyIF9Db29raWVTdG9yYWdlID0gcmVxdWlyZSgnLi9Db29raWVTdG9yYWdlJyk7XG5cbnZhciBfQ29va2llU3RvcmFnZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db29raWVTdG9yYWdlKTtcblxudmFyIF9NZW1vcnlTdG9yYWdlID0gcmVxdWlyZSgnLi9NZW1vcnlTdG9yYWdlJyk7XG5cbnZhciBfTWVtb3J5U3RvcmFnZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NZW1vcnlTdG9yYWdlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIHN0b3JhZ2UgPSBudWxsO1xuXG5pZiAoKDAsIF9pc1N1cHBvcnRlZDIuZGVmYXVsdCkoJ2xvY2FsU3RvcmFnZScpKSB7XG4gIC8vIHVzZSBsb2NhbFN0b3JhZ2VcbiAgZXhwb3J0cy5zdG9yYWdlID0gc3RvcmFnZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2U7XG59IGVsc2UgaWYgKCgwLCBfaXNTdXBwb3J0ZWQyLmRlZmF1bHQpKCdzZXNzaW9uU3RvcmFnZScpKSB7XG4gIC8vIHVzZSBzZXNzaW9uU3RvcmFnZVxuICBleHBvcnRzLnN0b3JhZ2UgPSBzdG9yYWdlID0gd2luZG93LnNlc3Npb25TdG9yYWdlO1xufSBlbHNlIGlmICgoMCwgX2lzU3VwcG9ydGVkMi5kZWZhdWx0KSgnY29va2llU3RvcmFnZScpKSB7XG4gIC8vIHVzZSBjb29raWVzXG4gIGV4cG9ydHMuc3RvcmFnZSA9IHN0b3JhZ2UgPSBuZXcgX0Nvb2tpZVN0b3JhZ2UyLmRlZmF1bHQoKTtcbn0gZWxzZSB7XG4gIC8vIHVzZSBtZW1vcnlcbiAgZXhwb3J0cy5zdG9yYWdlID0gc3RvcmFnZSA9IG5ldyBfTWVtb3J5U3RvcmFnZTIuZGVmYXVsdCgpO1xufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBzdG9yYWdlO1xuZXhwb3J0cy5zdG9yYWdlID0gc3RvcmFnZTtcbmV4cG9ydHMuaXNTdXBwb3J0ZWQgPSBfaXNTdXBwb3J0ZWQyLmRlZmF1bHQ7XG5leHBvcnRzLkNvb2tpZVN0b3JhZ2UgPSBfQ29va2llU3RvcmFnZTIuZGVmYXVsdDtcbmV4cG9ydHMuTWVtb3J5U3RvcmFnZSA9IF9NZW1vcnlTdG9yYWdlMi5kZWZhdWx0OyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGlzU3VwcG9ydGVkO1xuXG52YXIgX0Nvb2tpZVN0b3JhZ2UgPSByZXF1aXJlKCcuL0Nvb2tpZVN0b3JhZ2UnKTtcblxudmFyIFRFU1RfS0VZID0gJ19fdGVzdCc7XG5cbmZ1bmN0aW9uIGhhc1N0b3JhZ2UobmFtZSkge1xuICB0cnkge1xuICAgIHZhciBzdG9yYWdlID0gd2luZG93W25hbWVdO1xuICAgIHN0b3JhZ2Uuc2V0SXRlbShURVNUX0tFWSwgJzEnKTtcbiAgICBzdG9yYWdlLnJlbW92ZUl0ZW0oVEVTVF9LRVkpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzU3VwcG9ydGVkKCkge1xuICB2YXIgbmFtZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJ2xvY2FsU3RvcmFnZSc7XG5cbiAgdmFyIHN0b3JhZ2UgPSBTdHJpbmcobmFtZSkucmVwbGFjZSgvc3RvcmFnZSQvaSwgJycpLnRvTG93ZXJDYXNlKCk7XG5cbiAgaWYgKHN0b3JhZ2UgPT09ICdsb2NhbCcpIHtcbiAgICByZXR1cm4gaGFzU3RvcmFnZSgnbG9jYWxTdG9yYWdlJyk7XG4gIH1cblxuICBpZiAoc3RvcmFnZSA9PT0gJ3Nlc3Npb24nKSB7XG4gICAgcmV0dXJuIGhhc1N0b3JhZ2UoJ3Nlc3Npb25TdG9yYWdlJyk7XG4gIH1cblxuICBpZiAoc3RvcmFnZSA9PT0gJ2Nvb2tpZScpIHtcbiAgICByZXR1cm4gKDAsIF9Db29raWVTdG9yYWdlLmhhc0Nvb2tpZXMpKCk7XG4gIH1cblxuICBpZiAoc3RvcmFnZSA9PT0gJ21lbW9yeScpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHRocm93IG5ldyBFcnJvcignU3RvcmFnZSBtZXRob2QgYCcgKyBuYW1lICsgJ2AgaXMgbm90IGF2YWlsYWJsZS5cXG4gICAgUGxlYXNlIHVzZSBvbmUgb2YgdGhlIGZvbGxvd2luZzogbG9jYWxTdG9yYWdlLCBzZXNzaW9uU3RvcmFnZSwgY29va2llU3RvcmFnZSwgbWVtb3J5U3RvcmFnZS4nKTtcbn0iLCIvKiFcbiAqIGNvb2tpZVxuICogQ29weXJpZ2h0KGMpIDIwMTItMjAxNCBSb21hbiBTaHR5bG1hblxuICogQ29weXJpZ2h0KGMpIDIwMTUgRG91Z2xhcyBDaHJpc3RvcGhlciBXaWxzb25cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBNb2R1bGUgZXhwb3J0cy5cbiAqIEBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLnBhcnNlID0gcGFyc2U7XG5leHBvcnRzLnNlcmlhbGl6ZSA9IHNlcmlhbGl6ZTtcblxuLyoqXG4gKiBNb2R1bGUgdmFyaWFibGVzLlxuICogQHByaXZhdGVcbiAqL1xuXG52YXIgZGVjb2RlID0gZGVjb2RlVVJJQ29tcG9uZW50O1xudmFyIGVuY29kZSA9IGVuY29kZVVSSUNvbXBvbmVudDtcbnZhciBwYWlyU3BsaXRSZWdFeHAgPSAvOyAqLztcblxuLyoqXG4gKiBSZWdFeHAgdG8gbWF0Y2ggZmllbGQtY29udGVudCBpbiBSRkMgNzIzMCBzZWMgMy4yXG4gKlxuICogZmllbGQtY29udGVudCA9IGZpZWxkLXZjaGFyIFsgMSooIFNQIC8gSFRBQiApIGZpZWxkLXZjaGFyIF1cbiAqIGZpZWxkLXZjaGFyICAgPSBWQ0hBUiAvIG9icy10ZXh0XG4gKiBvYnMtdGV4dCAgICAgID0gJXg4MC1GRlxuICovXG5cbnZhciBmaWVsZENvbnRlbnRSZWdFeHAgPSAvXltcXHUwMDA5XFx1MDAyMC1cXHUwMDdlXFx1MDA4MC1cXHUwMGZmXSskLztcblxuLyoqXG4gKiBQYXJzZSBhIGNvb2tpZSBoZWFkZXIuXG4gKlxuICogUGFyc2UgdGhlIGdpdmVuIGNvb2tpZSBoZWFkZXIgc3RyaW5nIGludG8gYW4gb2JqZWN0XG4gKiBUaGUgb2JqZWN0IGhhcyB0aGUgdmFyaW91cyBjb29raWVzIGFzIGtleXMobmFtZXMpID0+IHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAqIEByZXR1cm4ge29iamVjdH1cbiAqIEBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBwYXJzZShzdHIsIG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXJndW1lbnQgc3RyIG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgfVxuXG4gIHZhciBvYmogPSB7fVxuICB2YXIgb3B0ID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIHBhaXJzID0gc3RyLnNwbGl0KHBhaXJTcGxpdFJlZ0V4cCk7XG4gIHZhciBkZWMgPSBvcHQuZGVjb2RlIHx8IGRlY29kZTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHBhaXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHBhaXIgPSBwYWlyc1tpXTtcbiAgICB2YXIgZXFfaWR4ID0gcGFpci5pbmRleE9mKCc9Jyk7XG5cbiAgICAvLyBza2lwIHRoaW5ncyB0aGF0IGRvbid0IGxvb2sgbGlrZSBrZXk9dmFsdWVcbiAgICBpZiAoZXFfaWR4IDwgMCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgdmFyIGtleSA9IHBhaXIuc3Vic3RyKDAsIGVxX2lkeCkudHJpbSgpXG4gICAgdmFyIHZhbCA9IHBhaXIuc3Vic3RyKCsrZXFfaWR4LCBwYWlyLmxlbmd0aCkudHJpbSgpO1xuXG4gICAgLy8gcXVvdGVkIHZhbHVlc1xuICAgIGlmICgnXCInID09IHZhbFswXSkge1xuICAgICAgdmFsID0gdmFsLnNsaWNlKDEsIC0xKTtcbiAgICB9XG5cbiAgICAvLyBvbmx5IGFzc2lnbiBvbmNlXG4gICAgaWYgKHVuZGVmaW5lZCA9PSBvYmpba2V5XSkge1xuICAgICAgb2JqW2tleV0gPSB0cnlEZWNvZGUodmFsLCBkZWMpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG5cbi8qKlxuICogU2VyaWFsaXplIGRhdGEgaW50byBhIGNvb2tpZSBoZWFkZXIuXG4gKlxuICogU2VyaWFsaXplIHRoZSBhIG5hbWUgdmFsdWUgcGFpciBpbnRvIGEgY29va2llIHN0cmluZyBzdWl0YWJsZSBmb3JcbiAqIGh0dHAgaGVhZGVycy4gQW4gb3B0aW9uYWwgb3B0aW9ucyBvYmplY3Qgc3BlY2lmaWVkIGNvb2tpZSBwYXJhbWV0ZXJzLlxuICpcbiAqIHNlcmlhbGl6ZSgnZm9vJywgJ2JhcicsIHsgaHR0cE9ubHk6IHRydWUgfSlcbiAqICAgPT4gXCJmb289YmFyOyBodHRwT25seVwiXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWxcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqIEBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBzZXJpYWxpemUobmFtZSwgdmFsLCBvcHRpb25zKSB7XG4gIHZhciBvcHQgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgZW5jID0gb3B0LmVuY29kZSB8fCBlbmNvZGU7XG5cbiAgaWYgKHR5cGVvZiBlbmMgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdvcHRpb24gZW5jb2RlIGlzIGludmFsaWQnKTtcbiAgfVxuXG4gIGlmICghZmllbGRDb250ZW50UmVnRXhwLnRlc3QobmFtZSkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhcmd1bWVudCBuYW1lIGlzIGludmFsaWQnKTtcbiAgfVxuXG4gIHZhciB2YWx1ZSA9IGVuYyh2YWwpO1xuXG4gIGlmICh2YWx1ZSAmJiAhZmllbGRDb250ZW50UmVnRXhwLnRlc3QodmFsdWUpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXJndW1lbnQgdmFsIGlzIGludmFsaWQnKTtcbiAgfVxuXG4gIHZhciBzdHIgPSBuYW1lICsgJz0nICsgdmFsdWU7XG5cbiAgaWYgKG51bGwgIT0gb3B0Lm1heEFnZSkge1xuICAgIHZhciBtYXhBZ2UgPSBvcHQubWF4QWdlIC0gMDtcbiAgICBpZiAoaXNOYU4obWF4QWdlKSkgdGhyb3cgbmV3IEVycm9yKCdtYXhBZ2Ugc2hvdWxkIGJlIGEgTnVtYmVyJyk7XG4gICAgc3RyICs9ICc7IE1heC1BZ2U9JyArIE1hdGguZmxvb3IobWF4QWdlKTtcbiAgfVxuXG4gIGlmIChvcHQuZG9tYWluKSB7XG4gICAgaWYgKCFmaWVsZENvbnRlbnRSZWdFeHAudGVzdChvcHQuZG9tYWluKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignb3B0aW9uIGRvbWFpbiBpcyBpbnZhbGlkJyk7XG4gICAgfVxuXG4gICAgc3RyICs9ICc7IERvbWFpbj0nICsgb3B0LmRvbWFpbjtcbiAgfVxuXG4gIGlmIChvcHQucGF0aCkge1xuICAgIGlmICghZmllbGRDb250ZW50UmVnRXhwLnRlc3Qob3B0LnBhdGgpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdvcHRpb24gcGF0aCBpcyBpbnZhbGlkJyk7XG4gICAgfVxuXG4gICAgc3RyICs9ICc7IFBhdGg9JyArIG9wdC5wYXRoO1xuICB9XG5cbiAgaWYgKG9wdC5leHBpcmVzKSB7XG4gICAgaWYgKHR5cGVvZiBvcHQuZXhwaXJlcy50b1VUQ1N0cmluZyAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignb3B0aW9uIGV4cGlyZXMgaXMgaW52YWxpZCcpO1xuICAgIH1cblxuICAgIHN0ciArPSAnOyBFeHBpcmVzPScgKyBvcHQuZXhwaXJlcy50b1VUQ1N0cmluZygpO1xuICB9XG5cbiAgaWYgKG9wdC5odHRwT25seSkge1xuICAgIHN0ciArPSAnOyBIdHRwT25seSc7XG4gIH1cblxuICBpZiAob3B0LnNlY3VyZSkge1xuICAgIHN0ciArPSAnOyBTZWN1cmUnO1xuICB9XG5cbiAgaWYgKG9wdC5zYW1lU2l0ZSkge1xuICAgIHZhciBzYW1lU2l0ZSA9IHR5cGVvZiBvcHQuc2FtZVNpdGUgPT09ICdzdHJpbmcnXG4gICAgICA/IG9wdC5zYW1lU2l0ZS50b0xvd2VyQ2FzZSgpIDogb3B0LnNhbWVTaXRlO1xuXG4gICAgc3dpdGNoIChzYW1lU2l0ZSkge1xuICAgICAgY2FzZSB0cnVlOlxuICAgICAgICBzdHIgKz0gJzsgU2FtZVNpdGU9U3RyaWN0JztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdsYXgnOlxuICAgICAgICBzdHIgKz0gJzsgU2FtZVNpdGU9TGF4JztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzdHJpY3QnOlxuICAgICAgICBzdHIgKz0gJzsgU2FtZVNpdGU9U3RyaWN0JztcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdvcHRpb24gc2FtZVNpdGUgaXMgaW52YWxpZCcpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzdHI7XG59XG5cbi8qKlxuICogVHJ5IGRlY29kaW5nIGEgc3RyaW5nIHVzaW5nIGEgZGVjb2RpbmcgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICogQHBhcmFtIHtmdW5jdGlvbn0gZGVjb2RlXG4gKiBAcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHRyeURlY29kZShzdHIsIGRlY29kZSkge1xuICB0cnkge1xuICAgIHJldHVybiBkZWNvZGUoc3RyKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbn1cbiIsIi8qKlxuICogbG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcXVlcnkub3JnLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuXG4vKiogVXNlZCBhcyB0aGUgYFR5cGVFcnJvcmAgbWVzc2FnZSBmb3IgXCJGdW5jdGlvbnNcIiBtZXRob2RzLiAqL1xudmFyIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJztcblxuLyoqIFVzZWQgdG8gc3RhbmQtaW4gZm9yIGB1bmRlZmluZWRgIGhhc2ggdmFsdWVzLiAqL1xudmFyIEhBU0hfVU5ERUZJTkVEID0gJ19fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18nO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJztcblxuLyoqXG4gKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgXG4gKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAqL1xudmFyIHJlUmVnRXhwQ2hhciA9IC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkpLiAqL1xudmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBob3N0IG9iamVjdCBpbiBJRSA8IDkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBob3N0IG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0hvc3RPYmplY3QodmFsdWUpIHtcbiAgLy8gTWFueSBob3N0IG9iamVjdHMgYXJlIGBPYmplY3RgIG9iamVjdHMgdGhhdCBjYW4gY29lcmNlIHRvIHN0cmluZ3NcbiAgLy8gZGVzcGl0ZSBoYXZpbmcgaW1wcm9wZXJseSBkZWZpbmVkIGB0b1N0cmluZ2AgbWV0aG9kcy5cbiAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuICBpZiAodmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRyeSB7XG4gICAgICByZXN1bHQgPSAhISh2YWx1ZSArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLFxuICAgIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbnZhciBjb3JlSnNEYXRhID0gcm9vdFsnX19jb3JlLWpzX3NoYXJlZF9fJ107XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBtZXRob2RzIG1hc3F1ZXJhZGluZyBhcyBuYXRpdmUuICovXG52YXIgbWFza1NyY0tleSA9IChmdW5jdGlvbigpIHtcbiAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgcmV0dXJuIHVpZCA/ICgnU3ltYm9sKHNyYylfMS4nICsgdWlkKSA6ICcnO1xufSgpKTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBpZiBhIG1ldGhvZCBpcyBuYXRpdmUuICovXG52YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICBmdW5jVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywgJyQxLio/JykgKyAnJCdcbik7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHNwbGljZSA9IGFycmF5UHJvdG8uc3BsaWNlO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG52YXIgTWFwID0gZ2V0TmF0aXZlKHJvb3QsICdNYXAnKSxcbiAgICBuYXRpdmVDcmVhdGUgPSBnZXROYXRpdmUoT2JqZWN0LCAnY3JlYXRlJyk7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGhhc2ggb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBIYXNoKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID8gZW50cmllcy5sZW5ndGggOiAwO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKi9cbmZ1bmN0aW9uIGhhc2hDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IG5hdGl2ZUNyZWF0ZSA/IG5hdGl2ZUNyZWF0ZShudWxsKSA6IHt9O1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBoYXNoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge09iamVjdH0gaGFzaCBUaGUgaGFzaCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaERlbGV0ZShrZXkpIHtcbiAgcmV0dXJuIHRoaXMuaGFzKGtleSkgJiYgZGVsZXRlIHRoaXMuX19kYXRhX19ba2V5XTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBoYXNoIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGhhc2hHZXQoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgaWYgKG5hdGl2ZUNyZWF0ZSkge1xuICAgIHZhciByZXN1bHQgPSBkYXRhW2tleV07XG4gICAgcmV0dXJuIHJlc3VsdCA9PT0gSEFTSF9VTkRFRklORUQgPyB1bmRlZmluZWQgOiByZXN1bHQ7XG4gIH1cbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSA/IGRhdGFba2V5XSA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBoYXNoIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBoYXNoSGFzKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIHJldHVybiBuYXRpdmVDcmVhdGUgPyBkYXRhW2tleV0gIT09IHVuZGVmaW5lZCA6IGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBoYXNoIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaGFzaCBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gaGFzaFNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgZGF0YVtrZXldID0gKG5hdGl2ZUNyZWF0ZSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSA/IEhBU0hfVU5ERUZJTkVEIDogdmFsdWU7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgSGFzaGAuXG5IYXNoLnByb3RvdHlwZS5jbGVhciA9IGhhc2hDbGVhcjtcbkhhc2gucHJvdG90eXBlWydkZWxldGUnXSA9IGhhc2hEZWxldGU7XG5IYXNoLnByb3RvdHlwZS5nZXQgPSBoYXNoR2V0O1xuSGFzaC5wcm90b3R5cGUuaGFzID0gaGFzaEhhcztcbkhhc2gucHJvdG90eXBlLnNldCA9IGhhc2hTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBsaXN0IGNhY2hlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTGlzdENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID8gZW50cmllcy5sZW5ndGggOiAwO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBbXTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlRGVsZXRlKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIGxhc3RJbmRleCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgaWYgKGluZGV4ID09IGxhc3RJbmRleCkge1xuICAgIGRhdGEucG9wKCk7XG4gIH0gZWxzZSB7XG4gICAgc3BsaWNlLmNhbGwoZGF0YSwgaW5kZXgsIDEpO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVHZXQoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgcmV0dXJuIGluZGV4IDwgMCA/IHVuZGVmaW5lZCA6IGRhdGFbaW5kZXhdWzFdO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gYXNzb2NJbmRleE9mKHRoaXMuX19kYXRhX18sIGtleSkgPiAtMTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBsaXN0IGNhY2hlIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBsaXN0IGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICBkYXRhLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgfSBlbHNlIHtcbiAgICBkYXRhW2luZGV4XVsxXSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTGlzdENhY2hlYC5cbkxpc3RDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBsaXN0Q2FjaGVDbGVhcjtcbkxpc3RDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbGlzdENhY2hlRGVsZXRlO1xuTGlzdENhY2hlLnByb3RvdHlwZS5nZXQgPSBsaXN0Q2FjaGVHZXQ7XG5MaXN0Q2FjaGUucHJvdG90eXBlLmhhcyA9IGxpc3RDYWNoZUhhcztcbkxpc3RDYWNoZS5wcm90b3R5cGUuc2V0ID0gbGlzdENhY2hlU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXAgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTWFwQ2FjaGUoZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPyBlbnRyaWVzLmxlbmd0aCA6IDA7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IHtcbiAgICAnaGFzaCc6IG5ldyBIYXNoLFxuICAgICdtYXAnOiBuZXcgKE1hcCB8fCBMaXN0Q2FjaGUpLFxuICAgICdzdHJpbmcnOiBuZXcgSGFzaFxuICB9O1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVEZWxldGUoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSlbJ2RlbGV0ZSddKGtleSk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbWFwIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUdldChrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5nZXQoa2V5KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBtYXAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5oYXMoa2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBtYXAgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbWFwIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gIGdldE1hcERhdGEodGhpcywga2V5KS5zZXQoa2V5LCB2YWx1ZSk7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTWFwQ2FjaGVgLlxuTWFwQ2FjaGUucHJvdG90eXBlLmNsZWFyID0gbWFwQ2FjaGVDbGVhcjtcbk1hcENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBtYXBDYWNoZURlbGV0ZTtcbk1hcENhY2hlLnByb3RvdHlwZS5nZXQgPSBtYXBDYWNoZUdldDtcbk1hcENhY2hlLnByb3RvdHlwZS5oYXMgPSBtYXBDYWNoZUhhcztcbk1hcENhY2hlLnByb3RvdHlwZS5zZXQgPSBtYXBDYWNoZVNldDtcblxuLyoqXG4gKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgYGtleWAgaXMgZm91bmQgaW4gYGFycmF5YCBvZiBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICogQHBhcmFtIHsqfSBrZXkgVGhlIGtleSB0byBzZWFyY2ggZm9yLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAqL1xuZnVuY3Rpb24gYXNzb2NJbmRleE9mKGFycmF5LCBrZXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgaWYgKGVxKGFycmF5W2xlbmd0aF1bMF0sIGtleSkpIHtcbiAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hdGl2ZWAgd2l0aG91dCBiYWQgc2hpbSBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNOYXRpdmUodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgaXNNYXNrZWQodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwYXR0ZXJuID0gKGlzRnVuY3Rpb24odmFsdWUpIHx8IGlzSG9zdE9iamVjdCh2YWx1ZSkpID8gcmVJc05hdGl2ZSA6IHJlSXNIb3N0Q3RvcjtcbiAgcmV0dXJuIHBhdHRlcm4udGVzdCh0b1NvdXJjZSh2YWx1ZSkpO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGRhdGEgZm9yIGBtYXBgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSByZWZlcmVuY2Uga2V5LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hcCBkYXRhLlxuICovXG5mdW5jdGlvbiBnZXRNYXBEYXRhKG1hcCwga2V5KSB7XG4gIHZhciBkYXRhID0gbWFwLl9fZGF0YV9fO1xuICByZXR1cm4gaXNLZXlhYmxlKGtleSlcbiAgICA/IGRhdGFbdHlwZW9mIGtleSA9PSAnc3RyaW5nJyA/ICdzdHJpbmcnIDogJ2hhc2gnXVxuICAgIDogZGF0YS5tYXA7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbmF0aXZlIGZ1bmN0aW9uIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZCB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gaWYgaXQncyBuYXRpdmUsIGVsc2UgYHVuZGVmaW5lZGAuXG4gKi9cbmZ1bmN0aW9uIGdldE5hdGl2ZShvYmplY3QsIGtleSkge1xuICB2YXIgdmFsdWUgPSBnZXRWYWx1ZShvYmplY3QsIGtleSk7XG4gIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpID8gdmFsdWUgOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHVzZSBhcyB1bmlxdWUgb2JqZWN0IGtleS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0tleWFibGUodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAodHlwZSA9PSAnc3RyaW5nJyB8fCB0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicpXG4gICAgPyAodmFsdWUgIT09ICdfX3Byb3RvX18nKVxuICAgIDogKHZhbHVlID09PSBudWxsKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gIHJldHVybiAhIW1hc2tTcmNLZXkgJiYgKG1hc2tTcmNLZXkgaW4gZnVuYyk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYGZ1bmNgIHRvIGl0cyBzb3VyY2UgY29kZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNvdXJjZSBjb2RlLlxuICovXG5mdW5jdGlvbiB0b1NvdXJjZShmdW5jKSB7XG4gIGlmIChmdW5jICE9IG51bGwpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZ1bmNUb1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiAoZnVuYyArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiAnJztcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBtZW1vaXplcyB0aGUgcmVzdWx0IG9mIGBmdW5jYC4gSWYgYHJlc29sdmVyYCBpc1xuICogcHJvdmlkZWQsIGl0IGRldGVybWluZXMgdGhlIGNhY2hlIGtleSBmb3Igc3RvcmluZyB0aGUgcmVzdWx0IGJhc2VkIG9uIHRoZVxuICogYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbi4gQnkgZGVmYXVsdCwgdGhlIGZpcnN0IGFyZ3VtZW50XG4gKiBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24gaXMgdXNlZCBhcyB0aGUgbWFwIGNhY2hlIGtleS4gVGhlIGBmdW5jYFxuICogaXMgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gKlxuICogKipOb3RlOioqIFRoZSBjYWNoZSBpcyBleHBvc2VkIGFzIHRoZSBgY2FjaGVgIHByb3BlcnR5IG9uIHRoZSBtZW1vaXplZFxuICogZnVuY3Rpb24uIEl0cyBjcmVhdGlvbiBtYXkgYmUgY3VzdG9taXplZCBieSByZXBsYWNpbmcgdGhlIGBfLm1lbW9pemUuQ2FjaGVgXG4gKiBjb25zdHJ1Y3RvciB3aXRoIG9uZSB3aG9zZSBpbnN0YW5jZXMgaW1wbGVtZW50IHRoZVxuICogW2BNYXBgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wcm9wZXJ0aWVzLW9mLXRoZS1tYXAtcHJvdG90eXBlLW9iamVjdClcbiAqIG1ldGhvZCBpbnRlcmZhY2Ugb2YgYGRlbGV0ZWAsIGBnZXRgLCBgaGFzYCwgYW5kIGBzZXRgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaGF2ZSBpdHMgb3V0cHV0IG1lbW9pemVkLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW3Jlc29sdmVyXSBUaGUgZnVuY3Rpb24gdG8gcmVzb2x2ZSB0aGUgY2FjaGUga2V5LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyIH07XG4gKiB2YXIgb3RoZXIgPSB7ICdjJzogMywgJ2QnOiA0IH07XG4gKlxuICogdmFyIHZhbHVlcyA9IF8ubWVtb2l6ZShfLnZhbHVlcyk7XG4gKiB2YWx1ZXMob2JqZWN0KTtcbiAqIC8vID0+IFsxLCAyXVxuICpcbiAqIHZhbHVlcyhvdGhlcik7XG4gKiAvLyA9PiBbMywgNF1cbiAqXG4gKiBvYmplY3QuYSA9IDI7XG4gKiB2YWx1ZXMob2JqZWN0KTtcbiAqIC8vID0+IFsxLCAyXVxuICpcbiAqIC8vIE1vZGlmeSB0aGUgcmVzdWx0IGNhY2hlLlxuICogdmFsdWVzLmNhY2hlLnNldChvYmplY3QsIFsnYScsICdiJ10pO1xuICogdmFsdWVzKG9iamVjdCk7XG4gKiAvLyA9PiBbJ2EnLCAnYiddXG4gKlxuICogLy8gUmVwbGFjZSBgXy5tZW1vaXplLkNhY2hlYC5cbiAqIF8ubWVtb2l6ZS5DYWNoZSA9IFdlYWtNYXA7XG4gKi9cbmZ1bmN0aW9uIG1lbW9pemUoZnVuYywgcmVzb2x2ZXIpIHtcbiAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicgfHwgKHJlc29sdmVyICYmIHR5cGVvZiByZXNvbHZlciAhPSAnZnVuY3Rpb24nKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgfVxuICB2YXIgbWVtb2l6ZWQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAga2V5ID0gcmVzb2x2ZXIgPyByZXNvbHZlci5hcHBseSh0aGlzLCBhcmdzKSA6IGFyZ3NbMF0sXG4gICAgICAgIGNhY2hlID0gbWVtb2l6ZWQuY2FjaGU7XG5cbiAgICBpZiAoY2FjaGUuaGFzKGtleSkpIHtcbiAgICAgIHJldHVybiBjYWNoZS5nZXQoa2V5KTtcbiAgICB9XG4gICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgbWVtb2l6ZWQuY2FjaGUgPSBjYWNoZS5zZXQoa2V5LCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIG1lbW9pemVkLmNhY2hlID0gbmV3IChtZW1vaXplLkNhY2hlIHx8IE1hcENhY2hlKTtcbiAgcmV0dXJuIG1lbW9pemVkO1xufVxuXG4vLyBBc3NpZ24gY2FjaGUgdG8gYF8ubWVtb2l6ZWAuXG5tZW1vaXplLkNhY2hlID0gTWFwQ2FjaGU7XG5cbi8qKlxuICogUGVyZm9ybXMgYVxuICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAqXG4gKiBfLmVxKG9iamVjdCwgb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKG9iamVjdCwgb3RoZXIpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKCdhJywgJ2EnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKCdhJywgT2JqZWN0KCdhJykpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKE5hTiwgTmFOKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gZXEodmFsdWUsIG90aGVyKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNGdW5jdGlvbihfKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgLy8gaW4gU2FmYXJpIDgtOSB3aGljaCByZXR1cm5zICdvYmplY3QnIGZvciB0eXBlZCBhcnJheSBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICB2YXIgdGFnID0gaXNPYmplY3QodmFsdWUpID8gb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgOiAnJztcbiAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gISF2YWx1ZSAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG1lbW9pemU7XG4iLCIvKipcbiAqIExvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IE9wZW5KUyBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vb3BlbmpzZi5vcmcvPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG5cbi8qKiBVc2VkIGFzIHRoZSBzaXplIHRvIGVuYWJsZSBsYXJnZSBhcnJheSBvcHRpbWl6YXRpb25zLiAqL1xudmFyIExBUkdFX0FSUkFZX1NJWkUgPSAyMDA7XG5cbi8qKiBVc2VkIHRvIHN0YW5kLWluIGZvciBgdW5kZWZpbmVkYCBoYXNoIHZhbHVlcy4gKi9cbnZhciBIQVNIX1VOREVGSU5FRCA9ICdfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fJztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGhvdCBmdW5jdGlvbnMgYnkgbnVtYmVyIG9mIGNhbGxzIHdpdGhpbiBhIHNwYW4gb2YgbWlsbGlzZWNvbmRzLiAqL1xudmFyIEhPVF9DT1VOVCA9IDgwMCxcbiAgICBIT1RfU1BBTiA9IDE2O1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGFyZ3NUYWcgPSAnW29iamVjdCBBcmd1bWVudHNdJyxcbiAgICBhcnJheVRhZyA9ICdbb2JqZWN0IEFycmF5XScsXG4gICAgYXN5bmNUYWcgPSAnW29iamVjdCBBc3luY0Z1bmN0aW9uXScsXG4gICAgYm9vbFRhZyA9ICdbb2JqZWN0IEJvb2xlYW5dJyxcbiAgICBkYXRlVGFnID0gJ1tvYmplY3QgRGF0ZV0nLFxuICAgIGVycm9yVGFnID0gJ1tvYmplY3QgRXJyb3JdJyxcbiAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICBnZW5UYWcgPSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nLFxuICAgIG1hcFRhZyA9ICdbb2JqZWN0IE1hcF0nLFxuICAgIG51bWJlclRhZyA9ICdbb2JqZWN0IE51bWJlcl0nLFxuICAgIG51bGxUYWcgPSAnW29iamVjdCBOdWxsXScsXG4gICAgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XScsXG4gICAgcHJveHlUYWcgPSAnW29iamVjdCBQcm94eV0nLFxuICAgIHJlZ2V4cFRhZyA9ICdbb2JqZWN0IFJlZ0V4cF0nLFxuICAgIHNldFRhZyA9ICdbb2JqZWN0IFNldF0nLFxuICAgIHN0cmluZ1RhZyA9ICdbb2JqZWN0IFN0cmluZ10nLFxuICAgIHVuZGVmaW5lZFRhZyA9ICdbb2JqZWN0IFVuZGVmaW5lZF0nLFxuICAgIHdlYWtNYXBUYWcgPSAnW29iamVjdCBXZWFrTWFwXSc7XG5cbnZhciBhcnJheUJ1ZmZlclRhZyA9ICdbb2JqZWN0IEFycmF5QnVmZmVyXScsXG4gICAgZGF0YVZpZXdUYWcgPSAnW29iamVjdCBEYXRhVmlld10nLFxuICAgIGZsb2F0MzJUYWcgPSAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICBmbG9hdDY0VGFnID0gJ1tvYmplY3QgRmxvYXQ2NEFycmF5XScsXG4gICAgaW50OFRhZyA9ICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgIGludDE2VGFnID0gJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgIGludDMyVGFnID0gJ1tvYmplY3QgSW50MzJBcnJheV0nLFxuICAgIHVpbnQ4VGFnID0gJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgIHVpbnQ4Q2xhbXBlZFRhZyA9ICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG4gICAgdWludDE2VGFnID0gJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICB1aW50MzJUYWcgPSAnW29iamVjdCBVaW50MzJBcnJheV0nO1xuXG4vKipcbiAqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGBcbiAqIFtzeW50YXggY2hhcmFjdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcGF0dGVybnMpLlxuICovXG52YXIgcmVSZWdFeHBDaGFyID0gL1tcXFxcXiQuKis/KClbXFxde318XS9nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSkuICovXG52YXIgcmVJc0hvc3RDdG9yID0gL15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IHVuc2lnbmVkIGludGVnZXIgdmFsdWVzLiAqL1xudmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcblxuLyoqIFVzZWQgdG8gaWRlbnRpZnkgYHRvU3RyaW5nVGFnYCB2YWx1ZXMgb2YgdHlwZWQgYXJyYXlzLiAqL1xudmFyIHR5cGVkQXJyYXlUYWdzID0ge307XG50eXBlZEFycmF5VGFnc1tmbG9hdDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Zsb2F0NjRUYWddID1cbnR5cGVkQXJyYXlUYWdzW2ludDhUYWddID0gdHlwZWRBcnJheVRhZ3NbaW50MTZUYWddID1cbnR5cGVkQXJyYXlUYWdzW2ludDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQ4VGFnXSA9XG50eXBlZEFycmF5VGFnc1t1aW50OENsYW1wZWRUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDE2VGFnXSA9XG50eXBlZEFycmF5VGFnc1t1aW50MzJUYWddID0gdHJ1ZTtcbnR5cGVkQXJyYXlUYWdzW2FyZ3NUYWddID0gdHlwZWRBcnJheVRhZ3NbYXJyYXlUYWddID1cbnR5cGVkQXJyYXlUYWdzW2FycmF5QnVmZmVyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Jvb2xUYWddID1cbnR5cGVkQXJyYXlUYWdzW2RhdGFWaWV3VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2RhdGVUYWddID1cbnR5cGVkQXJyYXlUYWdzW2Vycm9yVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Z1bmNUYWddID1cbnR5cGVkQXJyYXlUYWdzW21hcFRhZ10gPSB0eXBlZEFycmF5VGFnc1tudW1iZXJUYWddID1cbnR5cGVkQXJyYXlUYWdzW29iamVjdFRhZ10gPSB0eXBlZEFycmF5VGFnc1tyZWdleHBUYWddID1cbnR5cGVkQXJyYXlUYWdzW3NldFRhZ10gPSB0eXBlZEFycmF5VGFnc1tzdHJpbmdUYWddID1cbnR5cGVkQXJyYXlUYWdzW3dlYWtNYXBUYWddID0gZmFsc2U7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBleHBvcnRzYC4gKi9cbnZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiYgIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgLiAqL1xudmFyIGZyZWVNb2R1bGUgPSBmcmVlRXhwb3J0cyAmJiB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblxuLyoqIERldGVjdCB0aGUgcG9wdWxhciBDb21tb25KUyBleHRlbnNpb24gYG1vZHVsZS5leHBvcnRzYC4gKi9cbnZhciBtb2R1bGVFeHBvcnRzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLmV4cG9ydHMgPT09IGZyZWVFeHBvcnRzO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHByb2Nlc3NgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlUHJvY2VzcyA9IG1vZHVsZUV4cG9ydHMgJiYgZnJlZUdsb2JhbC5wcm9jZXNzO1xuXG4vKiogVXNlZCB0byBhY2Nlc3MgZmFzdGVyIE5vZGUuanMgaGVscGVycy4gKi9cbnZhciBub2RlVXRpbCA9IChmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICAvLyBVc2UgYHV0aWwudHlwZXNgIGZvciBOb2RlLmpzIDEwKy5cbiAgICB2YXIgdHlwZXMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUucmVxdWlyZSAmJiBmcmVlTW9kdWxlLnJlcXVpcmUoJ3V0aWwnKS50eXBlcztcblxuICAgIGlmICh0eXBlcykge1xuICAgICAgcmV0dXJuIHR5cGVzO1xuICAgIH1cblxuICAgIC8vIExlZ2FjeSBgcHJvY2Vzcy5iaW5kaW5nKCd1dGlsJylgIGZvciBOb2RlLmpzIDwgMTAuXG4gICAgcmV0dXJuIGZyZWVQcm9jZXNzICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcgJiYgZnJlZVByb2Nlc3MuYmluZGluZygndXRpbCcpO1xuICB9IGNhdGNoIChlKSB7fVxufSgpKTtcblxuLyogTm9kZS5qcyBoZWxwZXIgcmVmZXJlbmNlcy4gKi9cbnZhciBub2RlSXNUeXBlZEFycmF5ID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNUeXBlZEFycmF5O1xuXG4vKipcbiAqIEEgZmFzdGVyIGFsdGVybmF0aXZlIHRvIGBGdW5jdGlvbiNhcHBseWAsIHRoaXMgZnVuY3Rpb24gaW52b2tlcyBgZnVuY2BcbiAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGB0aGlzQXJnYCBhbmQgdGhlIGFyZ3VtZW50cyBvZiBgYXJnc2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgYGZ1bmNgLlxuICovXG5mdW5jdGlvbiBhcHBseShmdW5jLCB0aGlzQXJnLCBhcmdzKSB7XG4gIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICBjYXNlIDA6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZyk7XG4gICAgY2FzZSAxOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0pO1xuICAgIGNhc2UgMjogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICBjYXNlIDM6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gIH1cbiAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udGltZXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kc1xuICogb3IgbWF4IGFycmF5IGxlbmd0aCBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICovXG5mdW5jdGlvbiBiYXNlVGltZXMobiwgaXRlcmF0ZWUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBBcnJheShuKTtcblxuICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoaW5kZXgpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5hcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3Igc3RvcmluZyBtZXRhZGF0YS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VVbmFyeShmdW5jKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHVuYXJ5IGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnQgdHJhbnNmb3JtZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIGFyZ3VtZW50IHRyYW5zZm9ybS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBvdmVyQXJnKGZ1bmMsIHRyYW5zZm9ybSkge1xuICByZXR1cm4gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGZ1bmModHJhbnNmb3JtKGFyZykpO1xuICB9O1xufVxuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgYXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZSxcbiAgICBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb3ZlcnJlYWNoaW5nIGNvcmUtanMgc2hpbXMuICovXG52YXIgY29yZUpzRGF0YSA9IHJvb3RbJ19fY29yZS1qc19zaGFyZWRfXyddO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqL1xudmFyIG1hc2tTcmNLZXkgPSAoZnVuY3Rpb24oKSB7XG4gIHZhciB1aWQgPSAvW14uXSskLy5leGVjKGNvcmVKc0RhdGEgJiYgY29yZUpzRGF0YS5rZXlzICYmIGNvcmVKc0RhdGEua2V5cy5JRV9QUk9UTyB8fCAnJyk7XG4gIHJldHVybiB1aWQgPyAoJ1N5bWJvbChzcmMpXzEuJyArIHVpZCkgOiAnJztcbn0oKSk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBpbmZlciB0aGUgYE9iamVjdGAgY29uc3RydWN0b3IuICovXG52YXIgb2JqZWN0Q3RvclN0cmluZyA9IGZ1bmNUb1N0cmluZy5jYWxsKE9iamVjdCk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBpZiBhIG1ldGhvZCBpcyBuYXRpdmUuICovXG52YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICBmdW5jVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywgJyQxLio/JykgKyAnJCdcbik7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIEJ1ZmZlciA9IG1vZHVsZUV4cG9ydHMgPyByb290LkJ1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICBTeW1ib2wgPSByb290LlN5bWJvbCxcbiAgICBVaW50OEFycmF5ID0gcm9vdC5VaW50OEFycmF5LFxuICAgIGFsbG9jVW5zYWZlID0gQnVmZmVyID8gQnVmZmVyLmFsbG9jVW5zYWZlIDogdW5kZWZpbmVkLFxuICAgIGdldFByb3RvdHlwZSA9IG92ZXJBcmcoT2JqZWN0LmdldFByb3RvdHlwZU9mLCBPYmplY3QpLFxuICAgIG9iamVjdENyZWF0ZSA9IE9iamVjdC5jcmVhdGUsXG4gICAgcHJvcGVydHlJc0VudW1lcmFibGUgPSBvYmplY3RQcm90by5wcm9wZXJ0eUlzRW51bWVyYWJsZSxcbiAgICBzcGxpY2UgPSBhcnJheVByb3RvLnNwbGljZSxcbiAgICBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxudmFyIGRlZmluZVByb3BlcnR5ID0gKGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIHZhciBmdW5jID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2RlZmluZVByb3BlcnR5Jyk7XG4gICAgZnVuYyh7fSwgJycsIHt9KTtcbiAgICByZXR1cm4gZnVuYztcbiAgfSBjYXRjaCAoZSkge31cbn0oKSk7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVJc0J1ZmZlciA9IEJ1ZmZlciA/IEJ1ZmZlci5pc0J1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICBuYXRpdmVNYXggPSBNYXRoLm1heCxcbiAgICBuYXRpdmVOb3cgPSBEYXRlLm5vdztcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgdGhhdCBhcmUgdmVyaWZpZWQgdG8gYmUgbmF0aXZlLiAqL1xudmFyIE1hcCA9IGdldE5hdGl2ZShyb290LCAnTWFwJyksXG4gICAgbmF0aXZlQ3JlYXRlID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2NyZWF0ZScpO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNyZWF0ZWAgd2l0aG91dCBzdXBwb3J0IGZvciBhc3NpZ25pbmdcbiAqIHByb3BlcnRpZXMgdG8gdGhlIGNyZWF0ZWQgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvdG8gVGhlIG9iamVjdCB0byBpbmhlcml0IGZyb20uXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICovXG52YXIgYmFzZUNyZWF0ZSA9IChmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gb2JqZWN0KCkge31cbiAgcmV0dXJuIGZ1bmN0aW9uKHByb3RvKSB7XG4gICAgaWYgKCFpc09iamVjdChwcm90bykpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgaWYgKG9iamVjdENyZWF0ZSkge1xuICAgICAgcmV0dXJuIG9iamVjdENyZWF0ZShwcm90byk7XG4gICAgfVxuICAgIG9iamVjdC5wcm90b3R5cGUgPSBwcm90bztcbiAgICB2YXIgcmVzdWx0ID0gbmV3IG9iamVjdDtcbiAgICBvYmplY3QucHJvdG90eXBlID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG59KCkpO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBoYXNoIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gSGFzaChlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKi9cbmZ1bmN0aW9uIGhhc2hDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IG5hdGl2ZUNyZWF0ZSA/IG5hdGl2ZUNyZWF0ZShudWxsKSA6IHt9O1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBoYXNoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge09iamVjdH0gaGFzaCBUaGUgaGFzaCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaERlbGV0ZShrZXkpIHtcbiAgdmFyIHJlc3VsdCA9IHRoaXMuaGFzKGtleSkgJiYgZGVsZXRlIHRoaXMuX19kYXRhX19ba2V5XTtcbiAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGhhc2ggdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gaGFzaEdldChrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICBpZiAobmF0aXZlQ3JlYXRlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGRhdGFba2V5XTtcbiAgICByZXR1cm4gcmVzdWx0ID09PSBIQVNIX1VOREVGSU5FRCA/IHVuZGVmaW5lZCA6IHJlc3VsdDtcbiAgfVxuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpID8gZGF0YVtrZXldIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGhhc2ggdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc2hIYXMoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgcmV0dXJuIG5hdGl2ZUNyZWF0ZSA/IChkYXRhW2tleV0gIT09IHVuZGVmaW5lZCkgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgaGFzaCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGhhc2ggaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGhhc2hTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIHRoaXMuc2l6ZSArPSB0aGlzLmhhcyhrZXkpID8gMCA6IDE7XG4gIGRhdGFba2V5XSA9IChuYXRpdmVDcmVhdGUgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkgPyBIQVNIX1VOREVGSU5FRCA6IHZhbHVlO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYEhhc2hgLlxuSGFzaC5wcm90b3R5cGUuY2xlYXIgPSBoYXNoQ2xlYXI7XG5IYXNoLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBoYXNoRGVsZXRlO1xuSGFzaC5wcm90b3R5cGUuZ2V0ID0gaGFzaEdldDtcbkhhc2gucHJvdG90eXBlLmhhcyA9IGhhc2hIYXM7XG5IYXNoLnByb3RvdHlwZS5zZXQgPSBoYXNoU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gbGlzdCBjYWNoZSBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIExpc3RDYWNoZShlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBbXTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlRGVsZXRlKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIGxhc3RJbmRleCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgaWYgKGluZGV4ID09IGxhc3RJbmRleCkge1xuICAgIGRhdGEucG9wKCk7XG4gIH0gZWxzZSB7XG4gICAgc3BsaWNlLmNhbGwoZGF0YSwgaW5kZXgsIDEpO1xuICB9XG4gIC0tdGhpcy5zaXplO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIHJldHVybiBpbmRleCA8IDAgPyB1bmRlZmluZWQgOiBkYXRhW2luZGV4XVsxXTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGFzc29jSW5kZXhPZih0aGlzLl9fZGF0YV9fLCBrZXkpID4gLTE7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbGlzdCBjYWNoZSBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbGlzdCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgKyt0aGlzLnNpemU7XG4gICAgZGF0YS5wdXNoKFtrZXksIHZhbHVlXSk7XG4gIH0gZWxzZSB7XG4gICAgZGF0YVtpbmRleF1bMV0gPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYExpc3RDYWNoZWAuXG5MaXN0Q2FjaGUucHJvdG90eXBlLmNsZWFyID0gbGlzdENhY2hlQ2xlYXI7XG5MaXN0Q2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IGxpc3RDYWNoZURlbGV0ZTtcbkxpc3RDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbGlzdENhY2hlR2V0O1xuTGlzdENhY2hlLnByb3RvdHlwZS5oYXMgPSBsaXN0Q2FjaGVIYXM7XG5MaXN0Q2FjaGUucHJvdG90eXBlLnNldCA9IGxpc3RDYWNoZVNldDtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbWFwIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIE1hcENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVDbGVhcigpIHtcbiAgdGhpcy5zaXplID0gMDtcbiAgdGhpcy5fX2RhdGFfXyA9IHtcbiAgICAnaGFzaCc6IG5ldyBIYXNoLFxuICAgICdtYXAnOiBuZXcgKE1hcCB8fCBMaXN0Q2FjaGUpLFxuICAgICdzdHJpbmcnOiBuZXcgSGFzaFxuICB9O1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVEZWxldGUoa2V5KSB7XG4gIHZhciByZXN1bHQgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSlbJ2RlbGV0ZSddKGtleSk7XG4gIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBtYXAgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlR2V0KGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmdldChrZXkpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIG1hcCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmhhcyhrZXkpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIG1hcCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBtYXAgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSksXG4gICAgICBzaXplID0gZGF0YS5zaXplO1xuXG4gIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICB0aGlzLnNpemUgKz0gZGF0YS5zaXplID09IHNpemUgPyAwIDogMTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBNYXBDYWNoZWAuXG5NYXBDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBtYXBDYWNoZUNsZWFyO1xuTWFwQ2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IG1hcENhY2hlRGVsZXRlO1xuTWFwQ2FjaGUucHJvdG90eXBlLmdldCA9IG1hcENhY2hlR2V0O1xuTWFwQ2FjaGUucHJvdG90eXBlLmhhcyA9IG1hcENhY2hlSGFzO1xuTWFwQ2FjaGUucHJvdG90eXBlLnNldCA9IG1hcENhY2hlU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBzdGFjayBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBTdGFjayhlbnRyaWVzKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGUoZW50cmllcyk7XG4gIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBzdGFjay5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBTdGFja1xuICovXG5mdW5jdGlvbiBzdGFja0NsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgc3RhY2suXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gc3RhY2tEZWxldGUoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIHJlc3VsdCA9IGRhdGFbJ2RlbGV0ZSddKGtleSk7XG5cbiAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIHN0YWNrIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBzdGFja0dldChrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX18uZ2V0KGtleSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgc3RhY2sgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBzdGFja0hhcyhrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgc3RhY2sgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgc3RhY2sgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICBpZiAoZGF0YSBpbnN0YW5jZW9mIExpc3RDYWNoZSkge1xuICAgIHZhciBwYWlycyA9IGRhdGEuX19kYXRhX187XG4gICAgaWYgKCFNYXAgfHwgKHBhaXJzLmxlbmd0aCA8IExBUkdFX0FSUkFZX1NJWkUgLSAxKSkge1xuICAgICAgcGFpcnMucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgdGhpcy5zaXplID0gKytkYXRhLnNpemU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGUocGFpcnMpO1xuICB9XG4gIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgU3RhY2tgLlxuU3RhY2sucHJvdG90eXBlLmNsZWFyID0gc3RhY2tDbGVhcjtcblN0YWNrLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBzdGFja0RlbGV0ZTtcblN0YWNrLnByb3RvdHlwZS5nZXQgPSBzdGFja0dldDtcblN0YWNrLnByb3RvdHlwZS5oYXMgPSBzdGFja0hhcztcblN0YWNrLnByb3RvdHlwZS5zZXQgPSBzdGFja1NldDtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIHRoZSBhcnJheS1saWtlIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtib29sZWFufSBpbmhlcml0ZWQgU3BlY2lmeSByZXR1cm5pbmcgaW5oZXJpdGVkIHByb3BlcnR5IG5hbWVzLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gYXJyYXlMaWtlS2V5cyh2YWx1ZSwgaW5oZXJpdGVkKSB7XG4gIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpLFxuICAgICAgaXNBcmcgPSAhaXNBcnIgJiYgaXNBcmd1bWVudHModmFsdWUpLFxuICAgICAgaXNCdWZmID0gIWlzQXJyICYmICFpc0FyZyAmJiBpc0J1ZmZlcih2YWx1ZSksXG4gICAgICBpc1R5cGUgPSAhaXNBcnIgJiYgIWlzQXJnICYmICFpc0J1ZmYgJiYgaXNUeXBlZEFycmF5KHZhbHVlKSxcbiAgICAgIHNraXBJbmRleGVzID0gaXNBcnIgfHwgaXNBcmcgfHwgaXNCdWZmIHx8IGlzVHlwZSxcbiAgICAgIHJlc3VsdCA9IHNraXBJbmRleGVzID8gYmFzZVRpbWVzKHZhbHVlLmxlbmd0aCwgU3RyaW5nKSA6IFtdLFxuICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICBpZiAoKGluaGVyaXRlZCB8fCBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSAmJlxuICAgICAgICAhKHNraXBJbmRleGVzICYmIChcbiAgICAgICAgICAgLy8gU2FmYXJpIDkgaGFzIGVudW1lcmFibGUgYGFyZ3VtZW50cy5sZW5ndGhgIGluIHN0cmljdCBtb2RlLlxuICAgICAgICAgICBrZXkgPT0gJ2xlbmd0aCcgfHxcbiAgICAgICAgICAgLy8gTm9kZS5qcyAwLjEwIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIGJ1ZmZlcnMuXG4gICAgICAgICAgIChpc0J1ZmYgJiYgKGtleSA9PSAnb2Zmc2V0JyB8fCBrZXkgPT0gJ3BhcmVudCcpKSB8fFxuICAgICAgICAgICAvLyBQaGFudG9tSlMgMiBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiB0eXBlZCBhcnJheXMuXG4gICAgICAgICAgIChpc1R5cGUgJiYgKGtleSA9PSAnYnVmZmVyJyB8fCBrZXkgPT0gJ2J5dGVMZW5ndGgnIHx8IGtleSA9PSAnYnl0ZU9mZnNldCcpKSB8fFxuICAgICAgICAgICAvLyBTa2lwIGluZGV4IHByb3BlcnRpZXMuXG4gICAgICAgICAgIGlzSW5kZXgoa2V5LCBsZW5ndGgpXG4gICAgICAgICkpKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYXNzaWduVmFsdWVgIGV4Y2VwdCB0aGF0IGl0IGRvZXNuJ3QgYXNzaWduXG4gKiBgdW5kZWZpbmVkYCB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAqL1xuZnVuY3Rpb24gYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgaWYgKCh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmICFlcShvYmplY3Rba2V5XSwgdmFsdWUpKSB8fFxuICAgICAgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkpIHtcbiAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKTtcbiAgfVxufVxuXG4vKipcbiAqIEFzc2lnbnMgYHZhbHVlYCB0byBga2V5YCBvZiBgb2JqZWN0YCBpZiB0aGUgZXhpc3RpbmcgdmFsdWUgaXMgbm90IGVxdWl2YWxlbnRcbiAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAqL1xuZnVuY3Rpb24gYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldO1xuICBpZiAoIShoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBlcShvYmpWYWx1ZSwgdmFsdWUpKSB8fFxuICAgICAgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkpIHtcbiAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKTtcbiAgfVxufVxuXG4vKipcbiAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBga2V5YCBpcyBmb3VuZCBpbiBgYXJyYXlgIG9mIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gKiBAcGFyYW0geyp9IGtleSBUaGUga2V5IHRvIHNlYXJjaCBmb3IuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICovXG5mdW5jdGlvbiBhc3NvY0luZGV4T2YoYXJyYXksIGtleSkge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICBpZiAoZXEoYXJyYXlbbGVuZ3RoXVswXSwga2V5KSkge1xuICAgICAgcmV0dXJuIGxlbmd0aDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBhc3NpZ25WYWx1ZWAgYW5kIGBhc3NpZ25NZXJnZVZhbHVlYCB3aXRob3V0XG4gKiB2YWx1ZSBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAqL1xuZnVuY3Rpb24gYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5ID09ICdfX3Byb3RvX18nICYmIGRlZmluZVByb3BlcnR5KSB7XG4gICAgZGVmaW5lUHJvcGVydHkob2JqZWN0LCBrZXksIHtcbiAgICAgICdjb25maWd1cmFibGUnOiB0cnVlLFxuICAgICAgJ2VudW1lcmFibGUnOiB0cnVlLFxuICAgICAgJ3ZhbHVlJzogdmFsdWUsXG4gICAgICAnd3JpdGFibGUnOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgfVxufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBiYXNlRm9yT3duYCB3aGljaCBpdGVyYXRlcyBvdmVyIGBvYmplY3RgXG4gKiBwcm9wZXJ0aWVzIHJldHVybmVkIGJ5IGBrZXlzRnVuY2AgYW5kIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAqIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb24gZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqL1xudmFyIGJhc2VGb3IgPSBjcmVhdGVCYXNlRm9yKCk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldFRhZ2Agd2l0aG91dCBmYWxsYmFja3MgZm9yIGJ1Z2d5IGVudmlyb25tZW50cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBiYXNlR2V0VGFnKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWRUYWcgOiBudWxsVGFnO1xuICB9XG4gIHJldHVybiAoc3ltVG9TdHJpbmdUYWcgJiYgc3ltVG9TdHJpbmdUYWcgaW4gT2JqZWN0KHZhbHVlKSlcbiAgICA/IGdldFJhd1RhZyh2YWx1ZSlcbiAgICA6IG9iamVjdFRvU3RyaW5nKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0FyZ3VtZW50c2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICovXG5mdW5jdGlvbiBiYXNlSXNBcmd1bWVudHModmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYXJnc1RhZztcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hdGl2ZWAgd2l0aG91dCBiYWQgc2hpbSBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNOYXRpdmUodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgaXNNYXNrZWQodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwYXR0ZXJuID0gaXNGdW5jdGlvbih2YWx1ZSkgPyByZUlzTmF0aXZlIDogcmVJc0hvc3RDdG9yO1xuICByZXR1cm4gcGF0dGVybi50ZXN0KHRvU291cmNlKHZhbHVlKSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNUeXBlZEFycmF5YCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc1R5cGVkQXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiZcbiAgICBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICEhdHlwZWRBcnJheVRhZ3NbYmFzZUdldFRhZyh2YWx1ZSldO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNJbmAgd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBiYXNlS2V5c0luKG9iamVjdCkge1xuICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICByZXR1cm4gbmF0aXZlS2V5c0luKG9iamVjdCk7XG4gIH1cbiAgdmFyIGlzUHJvdG8gPSBpc1Byb3RvdHlwZShvYmplY3QpLFxuICAgICAgcmVzdWx0ID0gW107XG5cbiAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgIGlmICghKGtleSA9PSAnY29uc3RydWN0b3InICYmIChpc1Byb3RvIHx8ICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1lcmdlYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gKiBAcGFyYW0ge251bWJlcn0gc3JjSW5kZXggVGhlIGluZGV4IG9mIGBzb3VyY2VgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgbWVyZ2VkIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgc291cmNlIHZhbHVlcyBhbmQgdGhlaXIgbWVyZ2VkXG4gKiAgY291bnRlcnBhcnRzLlxuICovXG5mdW5jdGlvbiBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyLCBzdGFjaykge1xuICBpZiAob2JqZWN0ID09PSBzb3VyY2UpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgYmFzZUZvcihzb3VyY2UsIGZ1bmN0aW9uKHNyY1ZhbHVlLCBrZXkpIHtcbiAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgIGlmIChpc09iamVjdChzcmNWYWx1ZSkpIHtcbiAgICAgIGJhc2VNZXJnZURlZXAob2JqZWN0LCBzb3VyY2UsIGtleSwgc3JjSW5kZXgsIGJhc2VNZXJnZSwgY3VzdG9taXplciwgc3RhY2spO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgICAgPyBjdXN0b21pemVyKHNhZmVHZXQob2JqZWN0LCBrZXkpLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbmV3VmFsdWUgPSBzcmNWYWx1ZTtcbiAgICAgIH1cbiAgICAgIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICB9XG4gIH0sIGtleXNJbik7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlTWVyZ2VgIGZvciBhcnJheXMgYW5kIG9iamVjdHMgd2hpY2ggcGVyZm9ybXNcbiAqIGRlZXAgbWVyZ2VzIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMgZW5hYmxpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyXG4gKiByZWZlcmVuY2VzIHRvIGJlIG1lcmdlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gbWVyZ2UuXG4gKiBAcGFyYW0ge251bWJlcn0gc3JjSW5kZXggVGhlIGluZGV4IG9mIGBzb3VyY2VgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gbWVyZ2VGdW5jIFRoZSBmdW5jdGlvbiB0byBtZXJnZSB2YWx1ZXMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICogIGNvdW50ZXJwYXJ0cy5cbiAqL1xuZnVuY3Rpb24gYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgbWVyZ2VGdW5jLCBjdXN0b21pemVyLCBzdGFjaykge1xuICB2YXIgb2JqVmFsdWUgPSBzYWZlR2V0KG9iamVjdCwga2V5KSxcbiAgICAgIHNyY1ZhbHVlID0gc2FmZUdldChzb3VyY2UsIGtleSksXG4gICAgICBzdGFja2VkID0gc3RhY2suZ2V0KHNyY1ZhbHVlKTtcblxuICBpZiAoc3RhY2tlZCkge1xuICAgIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIHN0YWNrZWQpO1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgPyBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgIDogdW5kZWZpbmVkO1xuXG4gIHZhciBpc0NvbW1vbiA9IG5ld1ZhbHVlID09PSB1bmRlZmluZWQ7XG5cbiAgaWYgKGlzQ29tbW9uKSB7XG4gICAgdmFyIGlzQXJyID0gaXNBcnJheShzcmNWYWx1ZSksXG4gICAgICAgIGlzQnVmZiA9ICFpc0FyciAmJiBpc0J1ZmZlcihzcmNWYWx1ZSksXG4gICAgICAgIGlzVHlwZWQgPSAhaXNBcnIgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkoc3JjVmFsdWUpO1xuXG4gICAgbmV3VmFsdWUgPSBzcmNWYWx1ZTtcbiAgICBpZiAoaXNBcnIgfHwgaXNCdWZmIHx8IGlzVHlwZWQpIHtcbiAgICAgIGlmIChpc0FycmF5KG9ialZhbHVlKSkge1xuICAgICAgICBuZXdWYWx1ZSA9IG9ialZhbHVlO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoaXNBcnJheUxpa2VPYmplY3Qob2JqVmFsdWUpKSB7XG4gICAgICAgIG5ld1ZhbHVlID0gY29weUFycmF5KG9ialZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGlzQnVmZikge1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICBuZXdWYWx1ZSA9IGNsb25lQnVmZmVyKHNyY1ZhbHVlLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGlzVHlwZWQpIHtcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgbmV3VmFsdWUgPSBjbG9uZVR5cGVkQXJyYXkoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIG5ld1ZhbHVlID0gW107XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3Qoc3JjVmFsdWUpIHx8IGlzQXJndW1lbnRzKHNyY1ZhbHVlKSkge1xuICAgICAgbmV3VmFsdWUgPSBvYmpWYWx1ZTtcbiAgICAgIGlmIChpc0FyZ3VtZW50cyhvYmpWYWx1ZSkpIHtcbiAgICAgICAgbmV3VmFsdWUgPSB0b1BsYWluT2JqZWN0KG9ialZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKCFpc09iamVjdChvYmpWYWx1ZSkgfHwgaXNGdW5jdGlvbihvYmpWYWx1ZSkpIHtcbiAgICAgICAgbmV3VmFsdWUgPSBpbml0Q2xvbmVPYmplY3Qoc3JjVmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIGlmIChpc0NvbW1vbikge1xuICAgIC8vIFJlY3Vyc2l2ZWx5IG1lcmdlIG9iamVjdHMgYW5kIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgIHN0YWNrLnNldChzcmNWYWx1ZSwgbmV3VmFsdWUpO1xuICAgIG1lcmdlRnVuYyhuZXdWYWx1ZSwgc3JjVmFsdWUsIHNyY0luZGV4LCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgc3RhY2tbJ2RlbGV0ZSddKHNyY1ZhbHVlKTtcbiAgfVxuICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVzdGAgd2hpY2ggZG9lc24ndCB2YWxpZGF0ZSBvciBjb2VyY2UgYXJndW1lbnRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VSZXN0KGZ1bmMsIHN0YXJ0KSB7XG4gIHJldHVybiBzZXRUb1N0cmluZyhvdmVyUmVzdChmdW5jLCBzdGFydCwgaWRlbnRpdHkpLCBmdW5jICsgJycpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBzZXRUb1N0cmluZ2Agd2l0aG91dCBzdXBwb3J0IGZvciBob3QgbG9vcCBzaG9ydGluZy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtGdW5jdGlvbn0gc3RyaW5nIFRoZSBgdG9TdHJpbmdgIHJlc3VsdC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gKi9cbnZhciBiYXNlU2V0VG9TdHJpbmcgPSAhZGVmaW5lUHJvcGVydHkgPyBpZGVudGl0eSA6IGZ1bmN0aW9uKGZ1bmMsIHN0cmluZykge1xuICByZXR1cm4gZGVmaW5lUHJvcGVydHkoZnVuYywgJ3RvU3RyaW5nJywge1xuICAgICdjb25maWd1cmFibGUnOiB0cnVlLFxuICAgICdlbnVtZXJhYmxlJzogZmFsc2UsXG4gICAgJ3ZhbHVlJzogY29uc3RhbnQoc3RyaW5nKSxcbiAgICAnd3JpdGFibGUnOiB0cnVlXG4gIH0pO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgY2xvbmUgb2YgIGBidWZmZXJgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0J1ZmZlcn0gYnVmZmVyIFRoZSBidWZmZXIgdG8gY2xvbmUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICogQHJldHVybnMge0J1ZmZlcn0gUmV0dXJucyB0aGUgY2xvbmVkIGJ1ZmZlci5cbiAqL1xuZnVuY3Rpb24gY2xvbmVCdWZmZXIoYnVmZmVyLCBpc0RlZXApIHtcbiAgaWYgKGlzRGVlcCkge1xuICAgIHJldHVybiBidWZmZXIuc2xpY2UoKTtcbiAgfVxuICB2YXIgbGVuZ3RoID0gYnVmZmVyLmxlbmd0aCxcbiAgICAgIHJlc3VsdCA9IGFsbG9jVW5zYWZlID8gYWxsb2NVbnNhZmUobGVuZ3RoKSA6IG5ldyBidWZmZXIuY29uc3RydWN0b3IobGVuZ3RoKTtcblxuICBidWZmZXIuY29weShyZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgYXJyYXlCdWZmZXJgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBhcnJheUJ1ZmZlciBUaGUgYXJyYXkgYnVmZmVyIHRvIGNsb25lLlxuICogQHJldHVybnMge0FycmF5QnVmZmVyfSBSZXR1cm5zIHRoZSBjbG9uZWQgYXJyYXkgYnVmZmVyLlxuICovXG5mdW5jdGlvbiBjbG9uZUFycmF5QnVmZmVyKGFycmF5QnVmZmVyKSB7XG4gIHZhciByZXN1bHQgPSBuZXcgYXJyYXlCdWZmZXIuY29uc3RydWN0b3IoYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aCk7XG4gIG5ldyBVaW50OEFycmF5KHJlc3VsdCkuc2V0KG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGNsb25lIG9mIGB0eXBlZEFycmF5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHR5cGVkQXJyYXkgVGhlIHR5cGVkIGFycmF5IHRvIGNsb25lLlxuICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCB0eXBlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gY2xvbmVUeXBlZEFycmF5KHR5cGVkQXJyYXksIGlzRGVlcCkge1xuICB2YXIgYnVmZmVyID0gaXNEZWVwID8gY2xvbmVBcnJheUJ1ZmZlcih0eXBlZEFycmF5LmJ1ZmZlcikgOiB0eXBlZEFycmF5LmJ1ZmZlcjtcbiAgcmV0dXJuIG5ldyB0eXBlZEFycmF5LmNvbnN0cnVjdG9yKGJ1ZmZlciwgdHlwZWRBcnJheS5ieXRlT2Zmc2V0LCB0eXBlZEFycmF5Lmxlbmd0aCk7XG59XG5cbi8qKlxuICogQ29waWVzIHRoZSB2YWx1ZXMgb2YgYHNvdXJjZWAgdG8gYGFycmF5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gc291cmNlIFRoZSBhcnJheSB0byBjb3B5IHZhbHVlcyBmcm9tLlxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5PVtdXSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgdG8uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAqL1xuZnVuY3Rpb24gY29weUFycmF5KHNvdXJjZSwgYXJyYXkpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBzb3VyY2UubGVuZ3RoO1xuXG4gIGFycmF5IHx8IChhcnJheSA9IEFycmF5KGxlbmd0aCkpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGFycmF5W2luZGV4XSA9IHNvdXJjZVtpbmRleF07XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufVxuXG4vKipcbiAqIENvcGllcyBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHRvIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGZyb20uXG4gKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMgdG8gY29weS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyB0by5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvcGllZCB2YWx1ZXMuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICovXG5mdW5jdGlvbiBjb3B5T2JqZWN0KHNvdXJjZSwgcHJvcHMsIG9iamVjdCwgY3VzdG9taXplcikge1xuICB2YXIgaXNOZXcgPSAhb2JqZWN0O1xuICBvYmplY3QgfHwgKG9iamVjdCA9IHt9KTtcblxuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBrZXkgPSBwcm9wc1tpbmRleF07XG5cbiAgICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgICA/IGN1c3RvbWl6ZXIob2JqZWN0W2tleV0sIHNvdXJjZVtrZXldLCBrZXksIG9iamVjdCwgc291cmNlKVxuICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgbmV3VmFsdWUgPSBzb3VyY2Vba2V5XTtcbiAgICB9XG4gICAgaWYgKGlzTmV3KSB7XG4gICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG9iamVjdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5hc3NpZ25gLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBhc3NpZ25lciBUaGUgZnVuY3Rpb24gdG8gYXNzaWduIHZhbHVlcy5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFzc2lnbmVyIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBjcmVhdGVBc3NpZ25lcihhc3NpZ25lcikge1xuICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2VzKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IHNvdXJjZXMubGVuZ3RoLFxuICAgICAgICBjdXN0b21pemVyID0gbGVuZ3RoID4gMSA/IHNvdXJjZXNbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQsXG4gICAgICAgIGd1YXJkID0gbGVuZ3RoID4gMiA/IHNvdXJjZXNbMl0gOiB1bmRlZmluZWQ7XG5cbiAgICBjdXN0b21pemVyID0gKGFzc2lnbmVyLmxlbmd0aCA+IDMgJiYgdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJylcbiAgICAgID8gKGxlbmd0aC0tLCBjdXN0b21pemVyKVxuICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoc291cmNlc1swXSwgc291cmNlc1sxXSwgZ3VhcmQpKSB7XG4gICAgICBjdXN0b21pemVyID0gbGVuZ3RoIDwgMyA/IHVuZGVmaW5lZCA6IGN1c3RvbWl6ZXI7XG4gICAgICBsZW5ndGggPSAxO1xuICAgIH1cbiAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHNvdXJjZXNbaW5kZXhdO1xuICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICBhc3NpZ25lcihvYmplY3QsIHNvdXJjZSwgaW5kZXgsIGN1c3RvbWl6ZXIpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0O1xuICB9KTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgYmFzZSBmdW5jdGlvbiBmb3IgbWV0aG9kcyBsaWtlIGBfLmZvckluYCBhbmQgYF8uZm9yT3duYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBiYXNlIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBjcmVhdGVCYXNlRm9yKGZyb21SaWdodCkge1xuICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0LCBpdGVyYXRlZSwga2V5c0Z1bmMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgaXRlcmFibGUgPSBPYmplY3Qob2JqZWN0KSxcbiAgICAgICAgcHJvcHMgPSBrZXlzRnVuYyhvYmplY3QpLFxuICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIHZhciBrZXkgPSBwcm9wc1tmcm9tUmlnaHQgPyBsZW5ndGggOiArK2luZGV4XTtcbiAgICAgIGlmIChpdGVyYXRlZShpdGVyYWJsZVtrZXldLCBrZXksIGl0ZXJhYmxlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmplY3Q7XG4gIH07XG59XG5cbi8qKlxuICogR2V0cyB0aGUgZGF0YSBmb3IgYG1hcGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHJlZmVyZW5jZSBrZXkuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWFwIGRhdGEuXG4gKi9cbmZ1bmN0aW9uIGdldE1hcERhdGEobWFwLCBrZXkpIHtcbiAgdmFyIGRhdGEgPSBtYXAuX19kYXRhX187XG4gIHJldHVybiBpc0tleWFibGUoa2V5KVxuICAgID8gZGF0YVt0eXBlb2Yga2V5ID09ICdzdHJpbmcnID8gJ3N0cmluZycgOiAnaGFzaCddXG4gICAgOiBkYXRhLm1hcDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBuYXRpdmUgZnVuY3Rpb24gYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBpZiBpdCdzIG5hdGl2ZSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAqL1xuZnVuY3Rpb24gZ2V0TmF0aXZlKG9iamVjdCwga2V5KSB7XG4gIHZhciB2YWx1ZSA9IGdldFZhbHVlKG9iamVjdCwga2V5KTtcbiAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VHZXRUYWdgIHdoaWNoIGlnbm9yZXMgYFN5bWJvbC50b1N0cmluZ1RhZ2AgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBnZXRSYXdUYWcodmFsdWUpIHtcbiAgdmFyIGlzT3duID0gaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgc3ltVG9TdHJpbmdUYWcpLFxuICAgICAgdGFnID0gdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuXG4gIHRyeSB7XG4gICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdW5kZWZpbmVkO1xuICAgIHZhciB1bm1hc2tlZCA9IHRydWU7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdmFyIHJlc3VsdCA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICBpZiAodW5tYXNrZWQpIHtcbiAgICBpZiAoaXNPd24pIHtcbiAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHRhZztcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBJbml0aWFsaXplcyBhbiBvYmplY3QgY2xvbmUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjbG9uZS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGluaXRpYWxpemVkIGNsb25lLlxuICovXG5mdW5jdGlvbiBpbml0Q2xvbmVPYmplY3Qob2JqZWN0KSB7XG4gIHJldHVybiAodHlwZW9mIG9iamVjdC5jb25zdHJ1Y3RvciA9PSAnZnVuY3Rpb24nICYmICFpc1Byb3RvdHlwZShvYmplY3QpKVxuICAgID8gYmFzZUNyZWF0ZShnZXRQcm90b3R5cGUob2JqZWN0KSlcbiAgICA6IHt9O1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBpbmRleC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD1NQVhfU0FGRV9JTlRFR0VSXSBUaGUgdXBwZXIgYm91bmRzIG9mIGEgdmFsaWQgaW5kZXguXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSW5kZXgodmFsdWUsIGxlbmd0aCkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyBNQVhfU0FGRV9JTlRFR0VSIDogbGVuZ3RoO1xuXG4gIHJldHVybiAhIWxlbmd0aCAmJlxuICAgICh0eXBlID09ICdudW1iZXInIHx8XG4gICAgICAodHlwZSAhPSAnc3ltYm9sJyAmJiByZUlzVWludC50ZXN0KHZhbHVlKSkpICYmXG4gICAgICAgICh2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDwgbGVuZ3RoKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgdGhlIGdpdmVuIGFyZ3VtZW50cyBhcmUgZnJvbSBhbiBpdGVyYXRlZSBjYWxsLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgdmFsdWUgYXJndW1lbnQuXG4gKiBAcGFyYW0geyp9IGluZGV4IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgaW5kZXggb3Iga2V5IGFyZ3VtZW50LlxuICogQHBhcmFtIHsqfSBvYmplY3QgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBvYmplY3QgYXJndW1lbnQuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGFyZ3VtZW50cyBhcmUgZnJvbSBhbiBpdGVyYXRlZSBjYWxsLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNJdGVyYXRlZUNhbGwodmFsdWUsIGluZGV4LCBvYmplY3QpIHtcbiAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciB0eXBlID0gdHlwZW9mIGluZGV4O1xuICBpZiAodHlwZSA9PSAnbnVtYmVyJ1xuICAgICAgICA/IChpc0FycmF5TGlrZShvYmplY3QpICYmIGlzSW5kZXgoaW5kZXgsIG9iamVjdC5sZW5ndGgpKVxuICAgICAgICA6ICh0eXBlID09ICdzdHJpbmcnICYmIGluZGV4IGluIG9iamVjdClcbiAgICAgICkge1xuICAgIHJldHVybiBlcShvYmplY3RbaW5kZXhdLCB2YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciB1c2UgYXMgdW5pcXVlIG9iamVjdCBrZXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNLZXlhYmxlKHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gKHR5cGUgPT0gJ3N0cmluZycgfHwgdHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nKVxuICAgID8gKHZhbHVlICE9PSAnX19wcm90b19fJylcbiAgICA6ICh2YWx1ZSA9PT0gbnVsbCk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgaXRzIHNvdXJjZSBtYXNrZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNNYXNrZWQoZnVuYykge1xuICByZXR1cm4gISFtYXNrU3JjS2V5ICYmIChtYXNrU3JjS2V5IGluIGZ1bmMpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhIHByb3RvdHlwZSBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm90b3R5cGUsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNQcm90b3R5cGUodmFsdWUpIHtcbiAgdmFyIEN0b3IgPSB2YWx1ZSAmJiB2YWx1ZS5jb25zdHJ1Y3RvcixcbiAgICAgIHByb3RvID0gKHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3Rvci5wcm90b3R5cGUpIHx8IG9iamVjdFByb3RvO1xuXG4gIHJldHVybiB2YWx1ZSA9PT0gcHJvdG87XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlXG4gKiBbYE9iamVjdC5rZXlzYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LmtleXMpXG4gKiBleGNlcHQgdGhhdCBpdCBpbmNsdWRlcyBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBuYXRpdmVLZXlzSW4ob2JqZWN0KSB7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgaWYgKG9iamVjdCAhPSBudWxsKSB7XG4gICAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcgdXNpbmcgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZVJlc3RgIHdoaWNoIHRyYW5zZm9ybXMgdGhlIHJlc3QgYXJyYXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIHJlc3QgYXJyYXkgdHJhbnNmb3JtLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCB0cmFuc2Zvcm0pIHtcbiAgc3RhcnQgPSBuYXRpdmVNYXgoc3RhcnQgPT09IHVuZGVmaW5lZCA/IChmdW5jLmxlbmd0aCAtIDEpIDogc3RhcnQsIDApO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1heChhcmdzLmxlbmd0aCAtIHN0YXJ0LCAwKSxcbiAgICAgICAgYXJyYXkgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGFycmF5W2luZGV4XSA9IGFyZ3Nbc3RhcnQgKyBpbmRleF07XG4gICAgfVxuICAgIGluZGV4ID0gLTE7XG4gICAgdmFyIG90aGVyQXJncyA9IEFycmF5KHN0YXJ0ICsgMSk7XG4gICAgd2hpbGUgKCsraW5kZXggPCBzdGFydCkge1xuICAgICAgb3RoZXJBcmdzW2luZGV4XSA9IGFyZ3NbaW5kZXhdO1xuICAgIH1cbiAgICBvdGhlckFyZ3Nbc3RhcnRdID0gdHJhbnNmb3JtKGFycmF5KTtcbiAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgb3RoZXJBcmdzKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCwgdW5sZXNzIGBrZXlgIGlzIFwiX19wcm90b19fXCIgb3IgXCJjb25zdHJ1Y3RvclwiLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gc2FmZUdldChvYmplY3QsIGtleSkge1xuICBpZiAoa2V5ID09PSAnY29uc3RydWN0b3InICYmIHR5cGVvZiBvYmplY3Rba2V5XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChrZXkgPT0gJ19fcHJvdG9fXycpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICByZXR1cm4gb2JqZWN0W2tleV07XG59XG5cbi8qKlxuICogU2V0cyB0aGUgYHRvU3RyaW5nYCBtZXRob2Qgb2YgYGZ1bmNgIHRvIHJldHVybiBgc3RyaW5nYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtGdW5jdGlvbn0gc3RyaW5nIFRoZSBgdG9TdHJpbmdgIHJlc3VsdC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gKi9cbnZhciBzZXRUb1N0cmluZyA9IHNob3J0T3V0KGJhc2VTZXRUb1N0cmluZyk7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQnbGwgc2hvcnQgb3V0IGFuZCBpbnZva2UgYGlkZW50aXR5YCBpbnN0ZWFkXG4gKiBvZiBgZnVuY2Agd2hlbiBpdCdzIGNhbGxlZCBgSE9UX0NPVU5UYCBvciBtb3JlIHRpbWVzIGluIGBIT1RfU1BBTmBcbiAqIG1pbGxpc2Vjb25kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzaG9ydGFibGUgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIHNob3J0T3V0KGZ1bmMpIHtcbiAgdmFyIGNvdW50ID0gMCxcbiAgICAgIGxhc3RDYWxsZWQgPSAwO1xuXG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RhbXAgPSBuYXRpdmVOb3coKSxcbiAgICAgICAgcmVtYWluaW5nID0gSE9UX1NQQU4gLSAoc3RhbXAgLSBsYXN0Q2FsbGVkKTtcblxuICAgIGxhc3RDYWxsZWQgPSBzdGFtcDtcbiAgICBpZiAocmVtYWluaW5nID4gMCkge1xuICAgICAgaWYgKCsrY291bnQgPj0gSE9UX0NPVU5UKSB7XG4gICAgICAgIHJldHVybiBhcmd1bWVudHNbMF07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvdW50ID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmMuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpO1xuICB9O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBmdW5jYCB0byBpdHMgc291cmNlIGNvZGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzb3VyY2UgY29kZS5cbiAqL1xuZnVuY3Rpb24gdG9Tb3VyY2UoZnVuYykge1xuICBpZiAoZnVuYyAhPSBudWxsKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmdW5jVG9TdHJpbmcuY2FsbChmdW5jKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gKGZ1bmMgKyAnJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogUGVyZm9ybXMgYVxuICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAqXG4gKiBfLmVxKG9iamVjdCwgb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKG9iamVjdCwgb3RoZXIpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKCdhJywgJ2EnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKCdhJywgT2JqZWN0KCdhJykpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKE5hTiwgTmFOKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gZXEodmFsdWUsIG90aGVyKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcmd1bWVudHMgPSBiYXNlSXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPyBiYXNlSXNBcmd1bWVudHMgOiBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgJiZcbiAgICAhcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpO1xufTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheWAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZS4gQSB2YWx1ZSBpcyBjb25zaWRlcmVkIGFycmF5LWxpa2UgaWYgaXQnc1xuICogbm90IGEgZnVuY3Rpb24gYW5kIGhhcyBhIGB2YWx1ZS5sZW5ndGhgIHRoYXQncyBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvclxuICogZXF1YWwgdG8gYDBgIGFuZCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYE51bWJlci5NQVhfU0FGRV9JTlRFR0VSYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoJ2FiYycpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgIWlzRnVuY3Rpb24odmFsdWUpO1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNBcnJheUxpa2VgIGV4Y2VwdCB0aGF0IGl0IGFsc28gY2hlY2tzIGlmIGB2YWx1ZWBcbiAqIGlzIGFuIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheS1saWtlIG9iamVjdCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5TGlrZU9iamVjdCh2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBpc0FycmF5TGlrZSh2YWx1ZSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjMuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0J1ZmZlcihuZXcgQnVmZmVyKDIpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQnVmZmVyKG5ldyBVaW50OEFycmF5KDIpKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0J1ZmZlciA9IG5hdGl2ZUlzQnVmZmVyIHx8IHN0dWJGYWxzZTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oXyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gIC8vIGluIFNhZmFyaSA5IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5cyBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICB2YXIgdGFnID0gYmFzZUdldFRhZyh2YWx1ZSk7XG4gIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnIHx8IHRhZyA9PSBhc3luY1RhZyB8fCB0YWcgPT0gcHJveHlUYWc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGxlbmd0aC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGxlbmd0aCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzTGVuZ3RoKDMpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNMZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoSW5maW5pdHkpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKCczJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0xlbmd0aCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmXG4gICAgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIHRoYXQgaXMsIGFuIG9iamVjdCBjcmVhdGVkIGJ5IHRoZVxuICogYE9iamVjdGAgY29uc3RydWN0b3Igb3Igb25lIHdpdGggYSBgW1tQcm90b3R5cGVdXWAgb2YgYG51bGxgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC44LjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5hID0gMTtcbiAqIH1cbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QobmV3IEZvbyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QoeyAneCc6IDAsICd5JzogMCB9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdExpa2UodmFsdWUpIHx8IGJhc2VHZXRUYWcodmFsdWUpICE9IG9iamVjdFRhZykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcHJvdG8gPSBnZXRQcm90b3R5cGUodmFsdWUpO1xuICBpZiAocHJvdG8gPT09IG51bGwpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB2YXIgQ3RvciA9IGhhc093blByb3BlcnR5LmNhbGwocHJvdG8sICdjb25zdHJ1Y3RvcicpICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuICByZXR1cm4gdHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yIGluc3RhbmNlb2YgQ3RvciAmJlxuICAgIGZ1bmNUb1N0cmluZy5jYWxsKEN0b3IpID09IG9iamVjdEN0b3JTdHJpbmc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIHR5cGVkIGFycmF5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1R5cGVkQXJyYXkobmV3IFVpbnQ4QXJyYXkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNUeXBlZEFycmF5KFtdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc1R5cGVkQXJyYXkgPSBub2RlSXNUeXBlZEFycmF5ID8gYmFzZVVuYXJ5KG5vZGVJc1R5cGVkQXJyYXkpIDogYmFzZUlzVHlwZWRBcnJheTtcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgcGxhaW4gb2JqZWN0IGZsYXR0ZW5pbmcgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nXG4gKiBrZXllZCBwcm9wZXJ0aWVzIG9mIGB2YWx1ZWAgdG8gb3duIHByb3BlcnRpZXMgb2YgdGhlIHBsYWluIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBwbGFpbiBvYmplY3QuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5iID0gMjtcbiAqIH1cbiAqXG4gKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICpcbiAqIF8uYXNzaWduKHsgJ2EnOiAxIH0sIG5ldyBGb28pO1xuICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gKlxuICogXy5hc3NpZ24oeyAnYSc6IDEgfSwgXy50b1BsYWluT2JqZWN0KG5ldyBGb28pKTtcbiAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9XG4gKi9cbmZ1bmN0aW9uIHRvUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgcmV0dXJuIGNvcHlPYmplY3QodmFsdWUsIGtleXNJbih2YWx1ZSkpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gKlxuICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjAuMFxuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogICB0aGlzLmIgPSAyO1xuICogfVxuICpcbiAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gKlxuICogXy5rZXlzSW4obmV3IEZvbyk7XG4gKiAvLyA9PiBbJ2EnLCAnYicsICdjJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAqL1xuZnVuY3Rpb24ga2V5c0luKG9iamVjdCkge1xuICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0LCB0cnVlKSA6IGJhc2VLZXlzSW4ob2JqZWN0KTtcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgbWVyZ2VzIG93biBhbmRcbiAqIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZSBvYmplY3RzIGludG8gdGhlXG4gKiBkZXN0aW5hdGlvbiBvYmplY3QuIFNvdXJjZSBwcm9wZXJ0aWVzIHRoYXQgcmVzb2x2ZSB0byBgdW5kZWZpbmVkYCBhcmVcbiAqIHNraXBwZWQgaWYgYSBkZXN0aW5hdGlvbiB2YWx1ZSBleGlzdHMuIEFycmF5IGFuZCBwbGFpbiBvYmplY3QgcHJvcGVydGllc1xuICogYXJlIG1lcmdlZCByZWN1cnNpdmVseS4gT3RoZXIgb2JqZWN0cyBhbmQgdmFsdWUgdHlwZXMgYXJlIG92ZXJyaWRkZW4gYnlcbiAqIGFzc2lnbm1lbnQuIFNvdXJjZSBvYmplY3RzIGFyZSBhcHBsaWVkIGZyb20gbGVmdCB0byByaWdodC4gU3Vic2VxdWVudFxuICogc291cmNlcyBvdmVyd3JpdGUgcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgc291cmNlcy5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuNS4wXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7XG4gKiAgICdhJzogW3sgJ2InOiAyIH0sIHsgJ2QnOiA0IH1dXG4gKiB9O1xuICpcbiAqIHZhciBvdGhlciA9IHtcbiAqICAgJ2EnOiBbeyAnYyc6IDMgfSwgeyAnZSc6IDUgfV1cbiAqIH07XG4gKlxuICogXy5tZXJnZShvYmplY3QsIG90aGVyKTtcbiAqIC8vID0+IHsgJ2EnOiBbeyAnYic6IDIsICdjJzogMyB9LCB7ICdkJzogNCwgJ2UnOiA1IH1dIH1cbiAqL1xudmFyIG1lcmdlID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4KSB7XG4gIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgpO1xufSk7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBgdmFsdWVgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMi40LjBcbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZXR1cm4gZnJvbSB0aGUgbmV3IGZ1bmN0aW9uLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29uc3RhbnQgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3RzID0gXy50aW1lcygyLCBfLmNvbnN0YW50KHsgJ2EnOiAxIH0pKTtcbiAqXG4gKiBjb25zb2xlLmxvZyhvYmplY3RzKTtcbiAqIC8vID0+IFt7ICdhJzogMSB9LCB7ICdhJzogMSB9XVxuICpcbiAqIGNvbnNvbGUubG9nKG9iamVjdHNbMF0gPT09IG9iamVjdHNbMV0pO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBjb25zdGFudCh2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGZpcnN0IGFyZ3VtZW50IGl0IHJlY2VpdmVzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBzaW5jZSAwLjEuMFxuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcGFyYW0geyp9IHZhbHVlIEFueSB2YWx1ZS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGB2YWx1ZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICpcbiAqIGNvbnNvbGUubG9nKF8uaWRlbnRpdHkob2JqZWN0KSA9PT0gb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gaWRlbnRpdHkodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlO1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgYGZhbHNlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMTMuMFxuICogQGNhdGVnb3J5IFV0aWxcbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udGltZXMoMiwgXy5zdHViRmFsc2UpO1xuICogLy8gPT4gW2ZhbHNlLCBmYWxzZV1cbiAqL1xuZnVuY3Rpb24gc3R1YkZhbHNlKCkge1xuICByZXR1cm4gZmFsc2U7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbWVyZ2U7XG4iLCJ2YXIgX2NjID0gW1xuICB7Y2FyZGluYWw6W1wib3RoZXJcIl0sb3JkaW5hbDpbXCJvdGhlclwiXX0sXG4gIHtjYXJkaW5hbDpbXCJvbmVcIixcIm90aGVyXCJdLG9yZGluYWw6W1wib3RoZXJcIl19LFxuICB7Y2FyZGluYWw6W1wib25lXCIsXCJvdGhlclwiXSxvcmRpbmFsOltcIm9uZVwiLFwib3RoZXJcIl19LFxuICB7Y2FyZGluYWw6W1wib25lXCIsXCJ0d29cIixcIm90aGVyXCJdLG9yZGluYWw6W1wib3RoZXJcIl19XG5dO1xuXG4oZnVuY3Rpb24gKHJvb3QsIHBsdXJhbENhdGVnb3JpZXMpIHtcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShwbHVyYWxDYXRlZ29yaWVzKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IHBsdXJhbENhdGVnb3JpZXM7XG4gIH0gZWxzZSB7XG4gICAgcm9vdC5wbHVyYWxDYXRlZ29yaWVzID0gcGx1cmFsQ2F0ZWdvcmllcztcbiAgfVxufSh0aGlzLCB7XG5hZjogX2NjWzFdLFxuYWs6IF9jY1sxXSxcbmFtOiBfY2NbMV0sXG5hcjoge2NhcmRpbmFsOltcInplcm9cIixcIm9uZVwiLFwidHdvXCIsXCJmZXdcIixcIm1hbnlcIixcIm90aGVyXCJdLG9yZGluYWw6W1wib3RoZXJcIl19LFxuYXJzOiB7Y2FyZGluYWw6W1wiemVyb1wiLFwib25lXCIsXCJ0d29cIixcImZld1wiLFwibWFueVwiLFwib3RoZXJcIl0sb3JkaW5hbDpbXCJvdGhlclwiXX0sXG5hczoge2NhcmRpbmFsOltcIm9uZVwiLFwib3RoZXJcIl0sb3JkaW5hbDpbXCJvbmVcIixcInR3b1wiLFwiZmV3XCIsXCJtYW55XCIsXCJvdGhlclwiXX0sXG5hc2E6IF9jY1sxXSxcbmFzdDogX2NjWzFdLFxuYXo6IHtjYXJkaW5hbDpbXCJvbmVcIixcIm90aGVyXCJdLG9yZGluYWw6W1wib25lXCIsXCJmZXdcIixcIm1hbnlcIixcIm90aGVyXCJdfSxcbmJlOiB7Y2FyZGluYWw6W1wib25lXCIsXCJmZXdcIixcIm1hbnlcIixcIm90aGVyXCJdLG9yZGluYWw6W1wiZmV3XCIsXCJvdGhlclwiXX0sXG5iZW06IF9jY1sxXSxcbmJlejogX2NjWzFdLFxuYmc6IF9jY1sxXSxcbmJoOiBfY2NbMV0sXG5ibTogX2NjWzBdLFxuYm46IHtjYXJkaW5hbDpbXCJvbmVcIixcIm90aGVyXCJdLG9yZGluYWw6W1wib25lXCIsXCJ0d29cIixcImZld1wiLFwibWFueVwiLFwib3RoZXJcIl19LFxuYm86IF9jY1swXSxcbmJyOiB7Y2FyZGluYWw6W1wib25lXCIsXCJ0d29cIixcImZld1wiLFwibWFueVwiLFwib3RoZXJcIl0sb3JkaW5hbDpbXCJvdGhlclwiXX0sXG5icng6IF9jY1sxXSxcbmJzOiB7Y2FyZGluYWw6W1wib25lXCIsXCJmZXdcIixcIm90aGVyXCJdLG9yZGluYWw6W1wib3RoZXJcIl19LFxuY2E6IHtjYXJkaW5hbDpbXCJvbmVcIixcIm90aGVyXCJdLG9yZGluYWw6W1wib25lXCIsXCJ0d29cIixcImZld1wiLFwib3RoZXJcIl19LFxuY2U6IF9jY1sxXSxcbmNnZzogX2NjWzFdLFxuY2hyOiBfY2NbMV0sXG5ja2I6IF9jY1sxXSxcbmNzOiB7Y2FyZGluYWw6W1wib25lXCIsXCJmZXdcIixcIm1hbnlcIixcIm90aGVyXCJdLG9yZGluYWw6W1wib3RoZXJcIl19LFxuY3k6IHtjYXJkaW5hbDpbXCJ6ZXJvXCIsXCJvbmVcIixcInR3b1wiLFwiZmV3XCIsXCJtYW55XCIsXCJvdGhlclwiXSxvcmRpbmFsOltcInplcm9cIixcIm9uZVwiLFwidHdvXCIsXCJmZXdcIixcIm1hbnlcIixcIm90aGVyXCJdfSxcbmRhOiBfY2NbMV0sXG5kZTogX2NjWzFdLFxuZHNiOiB7Y2FyZGluYWw6W1wib25lXCIsXCJ0d29cIixcImZld1wiLFwib3RoZXJcIl0sb3JkaW5hbDpbXCJvdGhlclwiXX0sXG5kdjogX2NjWzFdLFxuZHo6IF9jY1swXSxcbmVlOiBfY2NbMV0sXG5lbDogX2NjWzFdLFxuZW46IHtjYXJkaW5hbDpbXCJvbmVcIixcIm90aGVyXCJdLG9yZGluYWw6W1wib25lXCIsXCJ0d29cIixcImZld1wiLFwib3RoZXJcIl19LFxuZW86IF9jY1sxXSxcbmVzOiBfY2NbMV0sXG5ldDogX2NjWzFdLFxuZXU6IF9jY1sxXSxcbmZhOiBfY2NbMV0sXG5mZjogX2NjWzFdLFxuZmk6IF9jY1sxXSxcbmZpbDogX2NjWzJdLFxuZm86IF9jY1sxXSxcbmZyOiBfY2NbMl0sXG5mdXI6IF9jY1sxXSxcbmZ5OiBfY2NbMV0sXG5nYToge2NhcmRpbmFsOltcIm9uZVwiLFwidHdvXCIsXCJmZXdcIixcIm1hbnlcIixcIm90aGVyXCJdLG9yZGluYWw6W1wib25lXCIsXCJvdGhlclwiXX0sXG5nZDoge2NhcmRpbmFsOltcIm9uZVwiLFwidHdvXCIsXCJmZXdcIixcIm90aGVyXCJdLG9yZGluYWw6W1wib25lXCIsXCJ0d29cIixcImZld1wiLFwib3RoZXJcIl19LFxuZ2w6IF9jY1sxXSxcbmdzdzogX2NjWzFdLFxuZ3U6IHtjYXJkaW5hbDpbXCJvbmVcIixcIm90aGVyXCJdLG9yZGluYWw6W1wib25lXCIsXCJ0d29cIixcImZld1wiLFwibWFueVwiLFwib3RoZXJcIl19LFxuZ3V3OiBfY2NbMV0sXG5ndjoge2NhcmRpbmFsOltcIm9uZVwiLFwidHdvXCIsXCJmZXdcIixcIm1hbnlcIixcIm90aGVyXCJdLG9yZGluYWw6W1wib3RoZXJcIl19LFxuaGE6IF9jY1sxXSxcbmhhdzogX2NjWzFdLFxuaGU6IHtjYXJkaW5hbDpbXCJvbmVcIixcInR3b1wiLFwibWFueVwiLFwib3RoZXJcIl0sb3JkaW5hbDpbXCJvdGhlclwiXX0sXG5oaToge2NhcmRpbmFsOltcIm9uZVwiLFwib3RoZXJcIl0sb3JkaW5hbDpbXCJvbmVcIixcInR3b1wiLFwiZmV3XCIsXCJtYW55XCIsXCJvdGhlclwiXX0sXG5ocjoge2NhcmRpbmFsOltcIm9uZVwiLFwiZmV3XCIsXCJvdGhlclwiXSxvcmRpbmFsOltcIm90aGVyXCJdfSxcbmhzYjoge2NhcmRpbmFsOltcIm9uZVwiLFwidHdvXCIsXCJmZXdcIixcIm90aGVyXCJdLG9yZGluYWw6W1wib3RoZXJcIl19LFxuaHU6IF9jY1syXSxcbmh5OiBfY2NbMl0sXG5pYTogX2NjWzFdLFxuaWQ6IF9jY1swXSxcbmlnOiBfY2NbMF0sXG5paTogX2NjWzBdLFxuXCJpblwiOiBfY2NbMF0sXG5pbzogX2NjWzFdLFxuaXM6IF9jY1sxXSxcbml0OiB7Y2FyZGluYWw6W1wib25lXCIsXCJvdGhlclwiXSxvcmRpbmFsOltcIm1hbnlcIixcIm90aGVyXCJdfSxcbml1OiBfY2NbM10sXG5pdzoge2NhcmRpbmFsOltcIm9uZVwiLFwidHdvXCIsXCJtYW55XCIsXCJvdGhlclwiXSxvcmRpbmFsOltcIm90aGVyXCJdfSxcbmphOiBfY2NbMF0sXG5qYm86IF9jY1swXSxcbmpnbzogX2NjWzFdLFxuamk6IF9jY1sxXSxcbmptYzogX2NjWzFdLFxuanY6IF9jY1swXSxcbmp3OiBfY2NbMF0sXG5rYToge2NhcmRpbmFsOltcIm9uZVwiLFwib3RoZXJcIl0sb3JkaW5hbDpbXCJvbmVcIixcIm1hbnlcIixcIm90aGVyXCJdfSxcbmthYjogX2NjWzFdLFxua2FqOiBfY2NbMV0sXG5rY2c6IF9jY1sxXSxcbmtkZTogX2NjWzBdLFxua2VhOiBfY2NbMF0sXG5razoge2NhcmRpbmFsOltcIm9uZVwiLFwib3RoZXJcIl0sb3JkaW5hbDpbXCJtYW55XCIsXCJvdGhlclwiXX0sXG5ra2o6IF9jY1sxXSxcbmtsOiBfY2NbMV0sXG5rbTogX2NjWzBdLFxua246IF9jY1sxXSxcbmtvOiBfY2NbMF0sXG5rczogX2NjWzFdLFxua3NiOiBfY2NbMV0sXG5rc2g6IHtjYXJkaW5hbDpbXCJ6ZXJvXCIsXCJvbmVcIixcIm90aGVyXCJdLG9yZGluYWw6W1wib3RoZXJcIl19LFxua3U6IF9jY1sxXSxcbmt3OiBfY2NbM10sXG5reTogX2NjWzFdLFxubGFnOiB7Y2FyZGluYWw6W1wiemVyb1wiLFwib25lXCIsXCJvdGhlclwiXSxvcmRpbmFsOltcIm90aGVyXCJdfSxcbmxiOiBfY2NbMV0sXG5sZzogX2NjWzFdLFxubGt0OiBfY2NbMF0sXG5sbjogX2NjWzFdLFxubG86IHtjYXJkaW5hbDpbXCJvdGhlclwiXSxvcmRpbmFsOltcIm9uZVwiLFwib3RoZXJcIl19LFxubHQ6IHtjYXJkaW5hbDpbXCJvbmVcIixcImZld1wiLFwibWFueVwiLFwib3RoZXJcIl0sb3JkaW5hbDpbXCJvdGhlclwiXX0sXG5sdjoge2NhcmRpbmFsOltcInplcm9cIixcIm9uZVwiLFwib3RoZXJcIl0sb3JkaW5hbDpbXCJvdGhlclwiXX0sXG5tYXM6IF9jY1sxXSxcbm1nOiBfY2NbMV0sXG5tZ286IF9jY1sxXSxcbm1rOiB7Y2FyZGluYWw6W1wib25lXCIsXCJvdGhlclwiXSxvcmRpbmFsOltcIm9uZVwiLFwidHdvXCIsXCJtYW55XCIsXCJvdGhlclwiXX0sXG5tbDogX2NjWzFdLFxubW46IF9jY1sxXSxcbm1vOiB7Y2FyZGluYWw6W1wib25lXCIsXCJmZXdcIixcIm90aGVyXCJdLG9yZGluYWw6W1wib25lXCIsXCJvdGhlclwiXX0sXG5tcjoge2NhcmRpbmFsOltcIm9uZVwiLFwib3RoZXJcIl0sb3JkaW5hbDpbXCJvbmVcIixcInR3b1wiLFwiZmV3XCIsXCJvdGhlclwiXX0sXG5tczoge2NhcmRpbmFsOltcIm90aGVyXCJdLG9yZGluYWw6W1wib25lXCIsXCJvdGhlclwiXX0sXG5tdDoge2NhcmRpbmFsOltcIm9uZVwiLFwiZmV3XCIsXCJtYW55XCIsXCJvdGhlclwiXSxvcmRpbmFsOltcIm90aGVyXCJdfSxcbm15OiBfY2NbMF0sXG5uYWg6IF9jY1sxXSxcbm5hcTogX2NjWzNdLFxubmI6IF9jY1sxXSxcbm5kOiBfY2NbMV0sXG5uZTogX2NjWzJdLFxubmw6IF9jY1sxXSxcbm5uOiBfY2NbMV0sXG5ubmg6IF9jY1sxXSxcbm5vOiBfY2NbMV0sXG5ucW86IF9jY1swXSxcbm5yOiBfY2NbMV0sXG5uc286IF9jY1sxXSxcbm55OiBfY2NbMV0sXG5ueW46IF9jY1sxXSxcbm9tOiBfY2NbMV0sXG5vcjoge2NhcmRpbmFsOltcIm9uZVwiLFwib3RoZXJcIl0sb3JkaW5hbDpbXCJvbmVcIixcInR3b1wiLFwiZmV3XCIsXCJtYW55XCIsXCJvdGhlclwiXX0sXG5vczogX2NjWzFdLFxucGE6IF9jY1sxXSxcbnBhcDogX2NjWzFdLFxucGw6IHtjYXJkaW5hbDpbXCJvbmVcIixcImZld1wiLFwibWFueVwiLFwib3RoZXJcIl0sb3JkaW5hbDpbXCJvdGhlclwiXX0sXG5wcmc6IHtjYXJkaW5hbDpbXCJ6ZXJvXCIsXCJvbmVcIixcIm90aGVyXCJdLG9yZGluYWw6W1wib3RoZXJcIl19LFxucHM6IF9jY1sxXSxcbnB0OiBfY2NbMV0sXG5cInB0LVBUXCI6IF9jY1sxXSxcbnJtOiBfY2NbMV0sXG5ybzoge2NhcmRpbmFsOltcIm9uZVwiLFwiZmV3XCIsXCJvdGhlclwiXSxvcmRpbmFsOltcIm9uZVwiLFwib3RoZXJcIl19LFxucm9mOiBfY2NbMV0sXG5yb290OiBfY2NbMF0sXG5ydToge2NhcmRpbmFsOltcIm9uZVwiLFwiZmV3XCIsXCJtYW55XCIsXCJvdGhlclwiXSxvcmRpbmFsOltcIm90aGVyXCJdfSxcbnJ3azogX2NjWzFdLFxuc2FoOiBfY2NbMF0sXG5zYXE6IF9jY1sxXSxcbnNjOiB7Y2FyZGluYWw6W1wib25lXCIsXCJvdGhlclwiXSxvcmRpbmFsOltcIm1hbnlcIixcIm90aGVyXCJdfSxcbnNjbjoge2NhcmRpbmFsOltcIm9uZVwiLFwib3RoZXJcIl0sb3JkaW5hbDpbXCJtYW55XCIsXCJvdGhlclwiXX0sXG5zZDogX2NjWzFdLFxuc2RoOiBfY2NbMV0sXG5zZTogX2NjWzNdLFxuc2VoOiBfY2NbMV0sXG5zZXM6IF9jY1swXSxcbnNnOiBfY2NbMF0sXG5zaDoge2NhcmRpbmFsOltcIm9uZVwiLFwiZmV3XCIsXCJvdGhlclwiXSxvcmRpbmFsOltcIm90aGVyXCJdfSxcbnNoaToge2NhcmRpbmFsOltcIm9uZVwiLFwiZmV3XCIsXCJvdGhlclwiXSxvcmRpbmFsOltcIm90aGVyXCJdfSxcbnNpOiBfY2NbMV0sXG5zazoge2NhcmRpbmFsOltcIm9uZVwiLFwiZmV3XCIsXCJtYW55XCIsXCJvdGhlclwiXSxvcmRpbmFsOltcIm90aGVyXCJdfSxcbnNsOiB7Y2FyZGluYWw6W1wib25lXCIsXCJ0d29cIixcImZld1wiLFwib3RoZXJcIl0sb3JkaW5hbDpbXCJvdGhlclwiXX0sXG5zbWE6IF9jY1szXSxcbnNtaTogX2NjWzNdLFxuc21qOiBfY2NbM10sXG5zbW46IF9jY1szXSxcbnNtczogX2NjWzNdLFxuc246IF9jY1sxXSxcbnNvOiBfY2NbMV0sXG5zcToge2NhcmRpbmFsOltcIm9uZVwiLFwib3RoZXJcIl0sb3JkaW5hbDpbXCJvbmVcIixcIm1hbnlcIixcIm90aGVyXCJdfSxcbnNyOiB7Y2FyZGluYWw6W1wib25lXCIsXCJmZXdcIixcIm90aGVyXCJdLG9yZGluYWw6W1wib3RoZXJcIl19LFxuc3M6IF9jY1sxXSxcbnNzeTogX2NjWzFdLFxuc3Q6IF9jY1sxXSxcbnN2OiBfY2NbMl0sXG5zdzogX2NjWzFdLFxuc3lyOiBfY2NbMV0sXG50YTogX2NjWzFdLFxudGU6IF9jY1sxXSxcbnRlbzogX2NjWzFdLFxudGg6IF9jY1swXSxcbnRpOiBfY2NbMV0sXG50aWc6IF9jY1sxXSxcbnRrOiB7Y2FyZGluYWw6W1wib25lXCIsXCJvdGhlclwiXSxvcmRpbmFsOltcImZld1wiLFwib3RoZXJcIl19LFxudGw6IF9jY1syXSxcbnRuOiBfY2NbMV0sXG50bzogX2NjWzBdLFxudHI6IF9jY1sxXSxcbnRzOiBfY2NbMV0sXG50em06IF9jY1sxXSxcbnVnOiBfY2NbMV0sXG51azoge2NhcmRpbmFsOltcIm9uZVwiLFwiZmV3XCIsXCJtYW55XCIsXCJvdGhlclwiXSxvcmRpbmFsOltcImZld1wiLFwib3RoZXJcIl19LFxudXI6IF9jY1sxXSxcbnV6OiBfY2NbMV0sXG52ZTogX2NjWzFdLFxudmk6IHtjYXJkaW5hbDpbXCJvdGhlclwiXSxvcmRpbmFsOltcIm9uZVwiLFwib3RoZXJcIl19LFxudm86IF9jY1sxXSxcbnZ1bjogX2NjWzFdLFxud2E6IF9jY1sxXSxcbndhZTogX2NjWzFdLFxud286IF9jY1swXSxcbnhoOiBfY2NbMV0sXG54b2c6IF9jY1sxXSxcbnlpOiBfY2NbMV0sXG55bzogX2NjWzBdLFxueXVlOiBfY2NbMF0sXG56aDogX2NjWzBdLFxuenU6IF9jY1sxXVxufSkpO1xuIiwidmFyIF9jcCA9IFtcbmZ1bmN0aW9uKG4sIG9yZCkge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICdvdGhlcic7XG59LFxuZnVuY3Rpb24obiwgb3JkKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuZnVuY3Rpb24obiwgb3JkKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKChuID09IDBcbiAgICAgICAgICB8fCBuID09IDEpKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5mdW5jdGlvbihuLCBvcmQpIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgdjAgPSAhc1sxXTtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxICYmIHYwKSA/ICdvbmUnIDogJ290aGVyJztcbn1cbl07XG5cbihmdW5jdGlvbiAocm9vdCwgcGx1cmFscykge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKHBsdXJhbHMpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gcGx1cmFscztcbiAgfSBlbHNlIHtcbiAgICByb290LnBsdXJhbHMgPSBwbHVyYWxzO1xuICB9XG59KHRoaXMsIHtcbmFmOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuYWs6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKChuID09IDBcbiAgICAgICAgICB8fCBuID09IDEpKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmFtOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID49IDAgJiYgbiA8PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmFyOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCB0MCA9IE51bWJlcihzWzBdKSA9PSBuLFxuICAgICAgbjEwMCA9IHQwICYmIHNbMF0uc2xpY2UoLTIpO1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDApID8gJ3plcm8nXG4gICAgICA6IChuID09IDEpID8gJ29uZSdcbiAgICAgIDogKG4gPT0gMikgPyAndHdvJ1xuICAgICAgOiAoKG4xMDAgPj0gMyAmJiBuMTAwIDw9IDEwKSkgPyAnZmV3J1xuICAgICAgOiAoKG4xMDAgPj0gMTEgJiYgbjEwMCA8PSA5OSkpID8gJ21hbnknXG4gICAgICA6ICdvdGhlcic7XG59LFxuXG5hcnM6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIHQwID0gTnVtYmVyKHNbMF0pID09IG4sXG4gICAgICBuMTAwID0gdDAgJiYgc1swXS5zbGljZSgtMik7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMCkgPyAnemVybydcbiAgICAgIDogKG4gPT0gMSkgPyAnb25lJ1xuICAgICAgOiAobiA9PSAyKSA/ICd0d28nXG4gICAgICA6ICgobjEwMCA+PSAzICYmIG4xMDAgPD0gMTApKSA/ICdmZXcnXG4gICAgICA6ICgobjEwMCA+PSAxMSAmJiBuMTAwIDw9IDk5KSkgPyAnbWFueSdcbiAgICAgIDogJ290aGVyJztcbn0sXG5cbmFzOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gKChuID09IDEgfHwgbiA9PSA1IHx8IG4gPT0gNyB8fCBuID09IDggfHwgbiA9PSA5XG4gICAgICAgICAgfHwgbiA9PSAxMCkpID8gJ29uZSdcbiAgICAgIDogKChuID09IDJcbiAgICAgICAgICB8fCBuID09IDMpKSA/ICd0d28nXG4gICAgICA6IChuID09IDQpID8gJ2ZldydcbiAgICAgIDogKG4gPT0gNikgPyAnbWFueSdcbiAgICAgIDogJ290aGVyJztcbiAgcmV0dXJuIChuID49IDAgJiYgbiA8PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmFzYTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmFzdDogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgdjAgPSAhc1sxXTtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxICYmIHYwKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmF6OiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCBpID0gc1swXSwgaTEwID0gaS5zbGljZSgtMSksXG4gICAgICBpMTAwID0gaS5zbGljZSgtMiksIGkxMDAwID0gaS5zbGljZSgtMyk7XG4gIGlmIChvcmQpIHJldHVybiAoKGkxMCA9PSAxIHx8IGkxMCA9PSAyIHx8IGkxMCA9PSA1IHx8IGkxMCA9PSA3IHx8IGkxMCA9PSA4KVxuICAgICAgICAgIHx8IChpMTAwID09IDIwIHx8IGkxMDAgPT0gNTAgfHwgaTEwMCA9PSA3MFxuICAgICAgICAgIHx8IGkxMDAgPT0gODApKSA/ICdvbmUnXG4gICAgICA6ICgoaTEwID09IDMgfHwgaTEwID09IDQpIHx8IChpMTAwMCA9PSAxMDAgfHwgaTEwMDAgPT0gMjAwXG4gICAgICAgICAgfHwgaTEwMDAgPT0gMzAwIHx8IGkxMDAwID09IDQwMCB8fCBpMTAwMCA9PSA1MDAgfHwgaTEwMDAgPT0gNjAwIHx8IGkxMDAwID09IDcwMFxuICAgICAgICAgIHx8IGkxMDAwID09IDgwMFxuICAgICAgICAgIHx8IGkxMDAwID09IDkwMCkpID8gJ2ZldydcbiAgICAgIDogKGkgPT0gMCB8fCBpMTAgPT0gNiB8fCAoaTEwMCA9PSA0MCB8fCBpMTAwID09IDYwXG4gICAgICAgICAgfHwgaTEwMCA9PSA5MCkpID8gJ21hbnknXG4gICAgICA6ICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmJlOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCB0MCA9IE51bWJlcihzWzBdKSA9PSBuLFxuICAgICAgbjEwID0gdDAgJiYgc1swXS5zbGljZSgtMSksIG4xMDAgPSB0MCAmJiBzWzBdLnNsaWNlKC0yKTtcbiAgaWYgKG9yZCkgcmV0dXJuICgobjEwID09IDJcbiAgICAgICAgICB8fCBuMTAgPT0gMykgJiYgbjEwMCAhPSAxMiAmJiBuMTAwICE9IDEzKSA/ICdmZXcnIDogJ290aGVyJztcbiAgcmV0dXJuIChuMTAgPT0gMSAmJiBuMTAwICE9IDExKSA/ICdvbmUnXG4gICAgICA6ICgobjEwID49IDIgJiYgbjEwIDw9IDQpICYmIChuMTAwIDwgMTJcbiAgICAgICAgICB8fCBuMTAwID4gMTQpKSA/ICdmZXcnXG4gICAgICA6ICh0MCAmJiBuMTAgPT0gMCB8fCAobjEwID49IDUgJiYgbjEwIDw9IDkpXG4gICAgICAgICAgfHwgKG4xMDAgPj0gMTEgJiYgbjEwMCA8PSAxNCkpID8gJ21hbnknXG4gICAgICA6ICdvdGhlcic7XG59LFxuXG5iZW06IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5iZXo6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5iZzogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmJoOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICgobiA9PSAwXG4gICAgICAgICAgfHwgbiA9PSAxKSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5ibTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAnb3RoZXInO1xufSxcblxuYm46IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAoKG4gPT0gMSB8fCBuID09IDUgfHwgbiA9PSA3IHx8IG4gPT0gOCB8fCBuID09IDlcbiAgICAgICAgICB8fCBuID09IDEwKSkgPyAnb25lJ1xuICAgICAgOiAoKG4gPT0gMlxuICAgICAgICAgIHx8IG4gPT0gMykpID8gJ3R3bydcbiAgICAgIDogKG4gPT0gNCkgPyAnZmV3J1xuICAgICAgOiAobiA9PSA2KSA/ICdtYW55J1xuICAgICAgOiAnb3RoZXInO1xuICByZXR1cm4gKG4gPj0gMCAmJiBuIDw9IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuYm86IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gJ290aGVyJztcbn0sXG5cbmJyOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCB0MCA9IE51bWJlcihzWzBdKSA9PSBuLFxuICAgICAgbjEwID0gdDAgJiYgc1swXS5zbGljZSgtMSksIG4xMDAgPSB0MCAmJiBzWzBdLnNsaWNlKC0yKSxcbiAgICAgIG4xMDAwMDAwID0gdDAgJiYgc1swXS5zbGljZSgtNik7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4xMCA9PSAxICYmIG4xMDAgIT0gMTEgJiYgbjEwMCAhPSA3MSAmJiBuMTAwICE9IDkxKSA/ICdvbmUnXG4gICAgICA6IChuMTAgPT0gMiAmJiBuMTAwICE9IDEyICYmIG4xMDAgIT0gNzIgJiYgbjEwMCAhPSA5MikgPyAndHdvJ1xuICAgICAgOiAoKChuMTAgPT0gMyB8fCBuMTAgPT0gNCkgfHwgbjEwID09IDkpICYmIChuMTAwIDwgMTBcbiAgICAgICAgICB8fCBuMTAwID4gMTkpICYmIChuMTAwIDwgNzAgfHwgbjEwMCA+IDc5KSAmJiAobjEwMCA8IDkwXG4gICAgICAgICAgfHwgbjEwMCA+IDk5KSkgPyAnZmV3J1xuICAgICAgOiAobiAhPSAwICYmIHQwICYmIG4xMDAwMDAwID09IDApID8gJ21hbnknXG4gICAgICA6ICdvdGhlcic7XG59LFxuXG5icng6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5iczogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgaSA9IHNbMF0sIGYgPSBzWzFdIHx8ICcnLCB2MCA9ICFzWzFdLFxuICAgICAgaTEwID0gaS5zbGljZSgtMSksIGkxMDAgPSBpLnNsaWNlKC0yKSwgZjEwID0gZi5zbGljZSgtMSksIGYxMDAgPSBmLnNsaWNlKC0yKTtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAodjAgJiYgaTEwID09IDEgJiYgaTEwMCAhPSAxMVxuICAgICAgICAgIHx8IGYxMCA9PSAxICYmIGYxMDAgIT0gMTEpID8gJ29uZSdcbiAgICAgIDogKHYwICYmIChpMTAgPj0gMiAmJiBpMTAgPD0gNCkgJiYgKGkxMDAgPCAxMiB8fCBpMTAwID4gMTQpXG4gICAgICAgICAgfHwgKGYxMCA+PSAyICYmIGYxMCA8PSA0KSAmJiAoZjEwMCA8IDEyXG4gICAgICAgICAgfHwgZjEwMCA+IDE0KSkgPyAnZmV3J1xuICAgICAgOiAnb3RoZXInO1xufSxcblxuY2E6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIHYwID0gIXNbMV07XG4gIGlmIChvcmQpIHJldHVybiAoKG4gPT0gMVxuICAgICAgICAgIHx8IG4gPT0gMykpID8gJ29uZSdcbiAgICAgIDogKG4gPT0gMikgPyAndHdvJ1xuICAgICAgOiAobiA9PSA0KSA/ICdmZXcnXG4gICAgICA6ICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxICYmIHYwKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmNlOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuY2dnOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuY2hyOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuY2tiOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuY3M6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIGkgPSBzWzBdLCB2MCA9ICFzWzFdO1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEgJiYgdjApID8gJ29uZSdcbiAgICAgIDogKChpID49IDIgJiYgaSA8PSA0KSAmJiB2MCkgPyAnZmV3J1xuICAgICAgOiAoIXYwKSA/ICdtYW55J1xuICAgICAgOiAnb3RoZXInO1xufSxcblxuY3k6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAoKG4gPT0gMCB8fCBuID09IDcgfHwgbiA9PSA4XG4gICAgICAgICAgfHwgbiA9PSA5KSkgPyAnemVybydcbiAgICAgIDogKG4gPT0gMSkgPyAnb25lJ1xuICAgICAgOiAobiA9PSAyKSA/ICd0d28nXG4gICAgICA6ICgobiA9PSAzXG4gICAgICAgICAgfHwgbiA9PSA0KSkgPyAnZmV3J1xuICAgICAgOiAoKG4gPT0gNVxuICAgICAgICAgIHx8IG4gPT0gNikpID8gJ21hbnknXG4gICAgICA6ICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAwKSA/ICd6ZXJvJ1xuICAgICAgOiAobiA9PSAxKSA/ICdvbmUnXG4gICAgICA6IChuID09IDIpID8gJ3R3bydcbiAgICAgIDogKG4gPT0gMykgPyAnZmV3J1xuICAgICAgOiAobiA9PSA2KSA/ICdtYW55J1xuICAgICAgOiAnb3RoZXInO1xufSxcblxuZGE6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIGkgPSBzWzBdLCB0MCA9IE51bWJlcihzWzBdKSA9PSBuO1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEgfHwgIXQwICYmIChpID09IDBcbiAgICAgICAgICB8fCBpID09IDEpKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmRlOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCB2MCA9ICFzWzFdO1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEgJiYgdjApID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuZHNiOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCBpID0gc1swXSwgZiA9IHNbMV0gfHwgJycsIHYwID0gIXNbMV0sXG4gICAgICBpMTAwID0gaS5zbGljZSgtMiksIGYxMDAgPSBmLnNsaWNlKC0yKTtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAodjAgJiYgaTEwMCA9PSAxXG4gICAgICAgICAgfHwgZjEwMCA9PSAxKSA/ICdvbmUnXG4gICAgICA6ICh2MCAmJiBpMTAwID09IDJcbiAgICAgICAgICB8fCBmMTAwID09IDIpID8gJ3R3bydcbiAgICAgIDogKHYwICYmIChpMTAwID09IDMgfHwgaTEwMCA9PSA0KSB8fCAoZjEwMCA9PSAzXG4gICAgICAgICAgfHwgZjEwMCA9PSA0KSkgPyAnZmV3J1xuICAgICAgOiAnb3RoZXInO1xufSxcblxuZHY6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5kejogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAnb3RoZXInO1xufSxcblxuZWU6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5lbDogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmVuOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCB2MCA9ICFzWzFdLCB0MCA9IE51bWJlcihzWzBdKSA9PSBuLFxuICAgICAgbjEwID0gdDAgJiYgc1swXS5zbGljZSgtMSksIG4xMDAgPSB0MCAmJiBzWzBdLnNsaWNlKC0yKTtcbiAgaWYgKG9yZCkgcmV0dXJuIChuMTAgPT0gMSAmJiBuMTAwICE9IDExKSA/ICdvbmUnXG4gICAgICA6IChuMTAgPT0gMiAmJiBuMTAwICE9IDEyKSA/ICd0d28nXG4gICAgICA6IChuMTAgPT0gMyAmJiBuMTAwICE9IDEzKSA/ICdmZXcnXG4gICAgICA6ICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxICYmIHYwKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmVvOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuZXM6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5ldDogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgdjAgPSAhc1sxXTtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxICYmIHYwKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmV1OiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuZmE6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPj0gMCAmJiBuIDw9IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuZmY6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPj0gMCAmJiBuIDwgMikgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5maTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgdjAgPSAhc1sxXTtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxICYmIHYwKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmZpbDogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgaSA9IHNbMF0sIGYgPSBzWzFdIHx8ICcnLCB2MCA9ICFzWzFdLFxuICAgICAgaTEwID0gaS5zbGljZSgtMSksIGYxMCA9IGYuc2xpY2UoLTEpO1xuICBpZiAob3JkKSByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG4gIHJldHVybiAodjAgJiYgKGkgPT0gMSB8fCBpID09IDIgfHwgaSA9PSAzKVxuICAgICAgICAgIHx8IHYwICYmIGkxMCAhPSA0ICYmIGkxMCAhPSA2ICYmIGkxMCAhPSA5XG4gICAgICAgICAgfHwgIXYwICYmIGYxMCAhPSA0ICYmIGYxMCAhPSA2ICYmIGYxMCAhPSA5KSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmZvOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuZnI6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbiAgcmV0dXJuIChuID49IDAgJiYgbiA8IDIpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuZnVyOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuZnk6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIHYwID0gIXNbMV07XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSAmJiB2MCkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5nYTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgdDAgPSBOdW1iZXIoc1swXSkgPT0gbjtcbiAgaWYgKG9yZCkgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJ1xuICAgICAgOiAobiA9PSAyKSA/ICd0d28nXG4gICAgICA6ICgodDAgJiYgbiA+PSAzICYmIG4gPD0gNikpID8gJ2ZldydcbiAgICAgIDogKCh0MCAmJiBuID49IDcgJiYgbiA8PSAxMCkpID8gJ21hbnknXG4gICAgICA6ICdvdGhlcic7XG59LFxuXG5nZDogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgdDAgPSBOdW1iZXIoc1swXSkgPT0gbjtcbiAgaWYgKG9yZCkgcmV0dXJuICgobiA9PSAxXG4gICAgICAgICAgfHwgbiA9PSAxMSkpID8gJ29uZSdcbiAgICAgIDogKChuID09IDJcbiAgICAgICAgICB8fCBuID09IDEyKSkgPyAndHdvJ1xuICAgICAgOiAoKG4gPT0gM1xuICAgICAgICAgIHx8IG4gPT0gMTMpKSA/ICdmZXcnXG4gICAgICA6ICdvdGhlcic7XG4gIHJldHVybiAoKG4gPT0gMVxuICAgICAgICAgIHx8IG4gPT0gMTEpKSA/ICdvbmUnXG4gICAgICA6ICgobiA9PSAyXG4gICAgICAgICAgfHwgbiA9PSAxMikpID8gJ3R3bydcbiAgICAgIDogKCgodDAgJiYgbiA+PSAzICYmIG4gPD0gMTApXG4gICAgICAgICAgfHwgKHQwICYmIG4gPj0gMTMgJiYgbiA8PSAxOSkpKSA/ICdmZXcnXG4gICAgICA6ICdvdGhlcic7XG59LFxuXG5nbDogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgdjAgPSAhc1sxXTtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxICYmIHYwKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmdzdzogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmd1OiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gKG4gPT0gMSkgPyAnb25lJ1xuICAgICAgOiAoKG4gPT0gMlxuICAgICAgICAgIHx8IG4gPT0gMykpID8gJ3R3bydcbiAgICAgIDogKG4gPT0gNCkgPyAnZmV3J1xuICAgICAgOiAobiA9PSA2KSA/ICdtYW55J1xuICAgICAgOiAnb3RoZXInO1xuICByZXR1cm4gKG4gPj0gMCAmJiBuIDw9IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuZ3V3OiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICgobiA9PSAwXG4gICAgICAgICAgfHwgbiA9PSAxKSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5ndjogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgaSA9IHNbMF0sIHYwID0gIXNbMV0sIGkxMCA9IGkuc2xpY2UoLTEpLFxuICAgICAgaTEwMCA9IGkuc2xpY2UoLTIpO1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICh2MCAmJiBpMTAgPT0gMSkgPyAnb25lJ1xuICAgICAgOiAodjAgJiYgaTEwID09IDIpID8gJ3R3bydcbiAgICAgIDogKHYwICYmIChpMTAwID09IDAgfHwgaTEwMCA9PSAyMCB8fCBpMTAwID09IDQwIHx8IGkxMDAgPT0gNjBcbiAgICAgICAgICB8fCBpMTAwID09IDgwKSkgPyAnZmV3J1xuICAgICAgOiAoIXYwKSA/ICdtYW55J1xuICAgICAgOiAnb3RoZXInO1xufSxcblxuaGE6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5oYXc6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5oZTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgaSA9IHNbMF0sIHYwID0gIXNbMV0sIHQwID0gTnVtYmVyKHNbMF0pID09IG4sXG4gICAgICBuMTAgPSB0MCAmJiBzWzBdLnNsaWNlKC0xKTtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxICYmIHYwKSA/ICdvbmUnXG4gICAgICA6IChpID09IDIgJiYgdjApID8gJ3R3bydcbiAgICAgIDogKHYwICYmIChuIDwgMFxuICAgICAgICAgIHx8IG4gPiAxMCkgJiYgdDAgJiYgbjEwID09IDApID8gJ21hbnknXG4gICAgICA6ICdvdGhlcic7XG59LFxuXG5oaTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuIChuID09IDEpID8gJ29uZSdcbiAgICAgIDogKChuID09IDJcbiAgICAgICAgICB8fCBuID09IDMpKSA/ICd0d28nXG4gICAgICA6IChuID09IDQpID8gJ2ZldydcbiAgICAgIDogKG4gPT0gNikgPyAnbWFueSdcbiAgICAgIDogJ290aGVyJztcbiAgcmV0dXJuIChuID49IDAgJiYgbiA8PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmhyOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCBpID0gc1swXSwgZiA9IHNbMV0gfHwgJycsIHYwID0gIXNbMV0sXG4gICAgICBpMTAgPSBpLnNsaWNlKC0xKSwgaTEwMCA9IGkuc2xpY2UoLTIpLCBmMTAgPSBmLnNsaWNlKC0xKSwgZjEwMCA9IGYuc2xpY2UoLTIpO1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICh2MCAmJiBpMTAgPT0gMSAmJiBpMTAwICE9IDExXG4gICAgICAgICAgfHwgZjEwID09IDEgJiYgZjEwMCAhPSAxMSkgPyAnb25lJ1xuICAgICAgOiAodjAgJiYgKGkxMCA+PSAyICYmIGkxMCA8PSA0KSAmJiAoaTEwMCA8IDEyIHx8IGkxMDAgPiAxNClcbiAgICAgICAgICB8fCAoZjEwID49IDIgJiYgZjEwIDw9IDQpICYmIChmMTAwIDwgMTJcbiAgICAgICAgICB8fCBmMTAwID4gMTQpKSA/ICdmZXcnXG4gICAgICA6ICdvdGhlcic7XG59LFxuXG5oc2I6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIGkgPSBzWzBdLCBmID0gc1sxXSB8fCAnJywgdjAgPSAhc1sxXSxcbiAgICAgIGkxMDAgPSBpLnNsaWNlKC0yKSwgZjEwMCA9IGYuc2xpY2UoLTIpO1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICh2MCAmJiBpMTAwID09IDFcbiAgICAgICAgICB8fCBmMTAwID09IDEpID8gJ29uZSdcbiAgICAgIDogKHYwICYmIGkxMDAgPT0gMlxuICAgICAgICAgIHx8IGYxMDAgPT0gMikgPyAndHdvJ1xuICAgICAgOiAodjAgJiYgKGkxMDAgPT0gMyB8fCBpMTAwID09IDQpIHx8IChmMTAwID09IDNcbiAgICAgICAgICB8fCBmMTAwID09IDQpKSA/ICdmZXcnXG4gICAgICA6ICdvdGhlcic7XG59LFxuXG5odTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICgobiA9PSAxXG4gICAgICAgICAgfHwgbiA9PSA1KSkgPyAnb25lJyA6ICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmh5OiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG4gIHJldHVybiAobiA+PSAwICYmIG4gPCAyKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmlhOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCB2MCA9ICFzWzFdO1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEgJiYgdjApID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuaWQ6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gJ290aGVyJztcbn0sXG5cbmlnOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICdvdGhlcic7XG59LFxuXG5paTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAnb3RoZXInO1xufSxcblxuXCJpblwiOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICdvdGhlcic7XG59LFxuXG5pbzogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgdjAgPSAhc1sxXTtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxICYmIHYwKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmlzOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCBpID0gc1swXSwgdDAgPSBOdW1iZXIoc1swXSkgPT0gbixcbiAgICAgIGkxMCA9IGkuc2xpY2UoLTEpLCBpMTAwID0gaS5zbGljZSgtMik7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKHQwICYmIGkxMCA9PSAxICYmIGkxMDAgIT0gMTFcbiAgICAgICAgICB8fCAhdDApID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuaXQ6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIHYwID0gIXNbMV07XG4gIGlmIChvcmQpIHJldHVybiAoKG4gPT0gMTEgfHwgbiA9PSA4IHx8IG4gPT0gODBcbiAgICAgICAgICB8fCBuID09IDgwMCkpID8gJ21hbnknIDogJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEgJiYgdjApID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuaXU6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJ1xuICAgICAgOiAobiA9PSAyKSA/ICd0d28nXG4gICAgICA6ICdvdGhlcic7XG59LFxuXG5pdzogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgaSA9IHNbMF0sIHYwID0gIXNbMV0sIHQwID0gTnVtYmVyKHNbMF0pID09IG4sXG4gICAgICBuMTAgPSB0MCAmJiBzWzBdLnNsaWNlKC0xKTtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxICYmIHYwKSA/ICdvbmUnXG4gICAgICA6IChpID09IDIgJiYgdjApID8gJ3R3bydcbiAgICAgIDogKHYwICYmIChuIDwgMFxuICAgICAgICAgIHx8IG4gPiAxMCkgJiYgdDAgJiYgbjEwID09IDApID8gJ21hbnknXG4gICAgICA6ICdvdGhlcic7XG59LFxuXG5qYTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAnb3RoZXInO1xufSxcblxuamJvOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICdvdGhlcic7XG59LFxuXG5qZ286IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5qaTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgdjAgPSAhc1sxXTtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxICYmIHYwKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmptYzogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmp2OiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICdvdGhlcic7XG59LFxuXG5qdzogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAnb3RoZXInO1xufSxcblxua2E6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIGkgPSBzWzBdLCBpMTAwID0gaS5zbGljZSgtMik7XG4gIGlmIChvcmQpIHJldHVybiAoaSA9PSAxKSA/ICdvbmUnXG4gICAgICA6IChpID09IDAgfHwgKChpMTAwID49IDIgJiYgaTEwMCA8PSAyMCkgfHwgaTEwMCA9PSA0MCB8fCBpMTAwID09IDYwXG4gICAgICAgICAgfHwgaTEwMCA9PSA4MCkpID8gJ21hbnknXG4gICAgICA6ICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmthYjogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA+PSAwICYmIG4gPCAyKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmthajogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmtjZzogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmtkZTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAnb3RoZXInO1xufSxcblxua2VhOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICdvdGhlcic7XG59LFxuXG5razogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgdDAgPSBOdW1iZXIoc1swXSkgPT0gbixcbiAgICAgIG4xMCA9IHQwICYmIHNbMF0uc2xpY2UoLTEpO1xuICBpZiAob3JkKSByZXR1cm4gKG4xMCA9PSA2IHx8IG4xMCA9PSA5XG4gICAgICAgICAgfHwgdDAgJiYgbjEwID09IDAgJiYgbiAhPSAwKSA/ICdtYW55JyA6ICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmtrajogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmtsOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxua206IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gJ290aGVyJztcbn0sXG5cbmtuOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID49IDAgJiYgbiA8PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmtvOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICdvdGhlcic7XG59LFxuXG5rczogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmtzYjogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmtzaDogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAwKSA/ICd6ZXJvJ1xuICAgICAgOiAobiA9PSAxKSA/ICdvbmUnXG4gICAgICA6ICdvdGhlcic7XG59LFxuXG5rdTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbmt3OiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZSdcbiAgICAgIDogKG4gPT0gMikgPyAndHdvJ1xuICAgICAgOiAnb3RoZXInO1xufSxcblxua3k6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5sYWc6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIGkgPSBzWzBdO1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDApID8gJ3plcm8nXG4gICAgICA6ICgoaSA9PSAwXG4gICAgICAgICAgfHwgaSA9PSAxKSAmJiBuICE9IDApID8gJ29uZSdcbiAgICAgIDogJ290aGVyJztcbn0sXG5cbmxiOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxubGc6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5sa3Q6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gJ290aGVyJztcbn0sXG5cbmxuOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICgobiA9PSAwXG4gICAgICAgICAgfHwgbiA9PSAxKSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5sbzogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xuICByZXR1cm4gJ290aGVyJztcbn0sXG5cbmx0OiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCBmID0gc1sxXSB8fCAnJywgdDAgPSBOdW1iZXIoc1swXSkgPT0gbixcbiAgICAgIG4xMCA9IHQwICYmIHNbMF0uc2xpY2UoLTEpLCBuMTAwID0gdDAgJiYgc1swXS5zbGljZSgtMik7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4xMCA9PSAxICYmIChuMTAwIDwgMTFcbiAgICAgICAgICB8fCBuMTAwID4gMTkpKSA/ICdvbmUnXG4gICAgICA6ICgobjEwID49IDIgJiYgbjEwIDw9IDkpICYmIChuMTAwIDwgMTFcbiAgICAgICAgICB8fCBuMTAwID4gMTkpKSA/ICdmZXcnXG4gICAgICA6IChmICE9IDApID8gJ21hbnknXG4gICAgICA6ICdvdGhlcic7XG59LFxuXG5sdjogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgZiA9IHNbMV0gfHwgJycsIHYgPSBmLmxlbmd0aCxcbiAgICAgIHQwID0gTnVtYmVyKHNbMF0pID09IG4sIG4xMCA9IHQwICYmIHNbMF0uc2xpY2UoLTEpLFxuICAgICAgbjEwMCA9IHQwICYmIHNbMF0uc2xpY2UoLTIpLCBmMTAwID0gZi5zbGljZSgtMiksIGYxMCA9IGYuc2xpY2UoLTEpO1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICh0MCAmJiBuMTAgPT0gMCB8fCAobjEwMCA+PSAxMSAmJiBuMTAwIDw9IDE5KVxuICAgICAgICAgIHx8IHYgPT0gMiAmJiAoZjEwMCA+PSAxMSAmJiBmMTAwIDw9IDE5KSkgPyAnemVybydcbiAgICAgIDogKG4xMCA9PSAxICYmIG4xMDAgIT0gMTEgfHwgdiA9PSAyICYmIGYxMCA9PSAxICYmIGYxMDAgIT0gMTFcbiAgICAgICAgICB8fCB2ICE9IDIgJiYgZjEwID09IDEpID8gJ29uZSdcbiAgICAgIDogJ290aGVyJztcbn0sXG5cbm1hczogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbm1nOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICgobiA9PSAwXG4gICAgICAgICAgfHwgbiA9PSAxKSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5tZ286IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5tazogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgaSA9IHNbMF0sIGYgPSBzWzFdIHx8ICcnLCB2MCA9ICFzWzFdLFxuICAgICAgaTEwID0gaS5zbGljZSgtMSksIGkxMDAgPSBpLnNsaWNlKC0yKSwgZjEwID0gZi5zbGljZSgtMSksIGYxMDAgPSBmLnNsaWNlKC0yKTtcbiAgaWYgKG9yZCkgcmV0dXJuIChpMTAgPT0gMSAmJiBpMTAwICE9IDExKSA/ICdvbmUnXG4gICAgICA6IChpMTAgPT0gMiAmJiBpMTAwICE9IDEyKSA/ICd0d28nXG4gICAgICA6ICgoaTEwID09IDdcbiAgICAgICAgICB8fCBpMTAgPT0gOCkgJiYgaTEwMCAhPSAxNyAmJiBpMTAwICE9IDE4KSA/ICdtYW55J1xuICAgICAgOiAnb3RoZXInO1xuICByZXR1cm4gKHYwICYmIGkxMCA9PSAxICYmIGkxMDAgIT0gMTFcbiAgICAgICAgICB8fCBmMTAgPT0gMSAmJiBmMTAwICE9IDExKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbm1sOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxubW46IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5tbzogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgdjAgPSAhc1sxXSwgdDAgPSBOdW1iZXIoc1swXSkgPT0gbixcbiAgICAgIG4xMDAgPSB0MCAmJiBzWzBdLnNsaWNlKC0yKTtcbiAgaWYgKG9yZCkgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSAmJiB2MCkgPyAnb25lJ1xuICAgICAgOiAoIXYwIHx8IG4gPT0gMFxuICAgICAgICAgIHx8IG4gIT0gMSAmJiAobjEwMCA+PSAxICYmIG4xMDAgPD0gMTkpKSA/ICdmZXcnXG4gICAgICA6ICdvdGhlcic7XG59LFxuXG5tcjogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuIChuID09IDEpID8gJ29uZSdcbiAgICAgIDogKChuID09IDJcbiAgICAgICAgICB8fCBuID09IDMpKSA/ICd0d28nXG4gICAgICA6IChuID09IDQpID8gJ2ZldydcbiAgICAgIDogJ290aGVyJztcbiAgcmV0dXJuIChuID49IDAgJiYgbiA8PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbm1zOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG4gIHJldHVybiAnb3RoZXInO1xufSxcblxubXQ6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIHQwID0gTnVtYmVyKHNbMF0pID09IG4sXG4gICAgICBuMTAwID0gdDAgJiYgc1swXS5zbGljZSgtMik7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJ1xuICAgICAgOiAobiA9PSAwXG4gICAgICAgICAgfHwgKG4xMDAgPj0gMiAmJiBuMTAwIDw9IDEwKSkgPyAnZmV3J1xuICAgICAgOiAoKG4xMDAgPj0gMTEgJiYgbjEwMCA8PSAxOSkpID8gJ21hbnknXG4gICAgICA6ICdvdGhlcic7XG59LFxuXG5teTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAnb3RoZXInO1xufSxcblxubmFoOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxubmFxOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZSdcbiAgICAgIDogKG4gPT0gMikgPyAndHdvJ1xuICAgICAgOiAnb3RoZXInO1xufSxcblxubmI6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5uZDogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbm5lOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCB0MCA9IE51bWJlcihzWzBdKSA9PSBuO1xuICBpZiAob3JkKSByZXR1cm4gKCh0MCAmJiBuID49IDEgJiYgbiA8PSA0KSkgPyAnb25lJyA6ICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbm5sOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCB2MCA9ICFzWzFdO1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEgJiYgdjApID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxubm46IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5ubmg6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5ubzogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbm5xbzogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAnb3RoZXInO1xufSxcblxubnI6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5uc286IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKChuID09IDBcbiAgICAgICAgICB8fCBuID09IDEpKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbm55OiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxubnluOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxub206IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5vcjogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgdDAgPSBOdW1iZXIoc1swXSkgPT0gbjtcbiAgaWYgKG9yZCkgcmV0dXJuICgobiA9PSAxIHx8IG4gPT0gNVxuICAgICAgICAgIHx8ICh0MCAmJiBuID49IDcgJiYgbiA8PSA5KSkpID8gJ29uZSdcbiAgICAgIDogKChuID09IDJcbiAgICAgICAgICB8fCBuID09IDMpKSA/ICd0d28nXG4gICAgICA6IChuID09IDQpID8gJ2ZldydcbiAgICAgIDogKG4gPT0gNikgPyAnbWFueSdcbiAgICAgIDogJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxub3M6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5wYTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAoKG4gPT0gMFxuICAgICAgICAgIHx8IG4gPT0gMSkpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxucGFwOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxucGw6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIGkgPSBzWzBdLCB2MCA9ICFzWzFdLCBpMTAgPSBpLnNsaWNlKC0xKSxcbiAgICAgIGkxMDAgPSBpLnNsaWNlKC0yKTtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxICYmIHYwKSA/ICdvbmUnXG4gICAgICA6ICh2MCAmJiAoaTEwID49IDIgJiYgaTEwIDw9IDQpICYmIChpMTAwIDwgMTJcbiAgICAgICAgICB8fCBpMTAwID4gMTQpKSA/ICdmZXcnXG4gICAgICA6ICh2MCAmJiBpICE9IDEgJiYgKGkxMCA9PSAwIHx8IGkxMCA9PSAxKVxuICAgICAgICAgIHx8IHYwICYmIChpMTAgPj0gNSAmJiBpMTAgPD0gOSlcbiAgICAgICAgICB8fCB2MCAmJiAoaTEwMCA+PSAxMiAmJiBpMTAwIDw9IDE0KSkgPyAnbWFueSdcbiAgICAgIDogJ290aGVyJztcbn0sXG5cbnByZzogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgZiA9IHNbMV0gfHwgJycsIHYgPSBmLmxlbmd0aCxcbiAgICAgIHQwID0gTnVtYmVyKHNbMF0pID09IG4sIG4xMCA9IHQwICYmIHNbMF0uc2xpY2UoLTEpLFxuICAgICAgbjEwMCA9IHQwICYmIHNbMF0uc2xpY2UoLTIpLCBmMTAwID0gZi5zbGljZSgtMiksIGYxMCA9IGYuc2xpY2UoLTEpO1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICh0MCAmJiBuMTAgPT0gMCB8fCAobjEwMCA+PSAxMSAmJiBuMTAwIDw9IDE5KVxuICAgICAgICAgIHx8IHYgPT0gMiAmJiAoZjEwMCA+PSAxMSAmJiBmMTAwIDw9IDE5KSkgPyAnemVybydcbiAgICAgIDogKG4xMCA9PSAxICYmIG4xMDAgIT0gMTEgfHwgdiA9PSAyICYmIGYxMCA9PSAxICYmIGYxMDAgIT0gMTFcbiAgICAgICAgICB8fCB2ICE9IDIgJiYgZjEwID09IDEpID8gJ29uZSdcbiAgICAgIDogJ290aGVyJztcbn0sXG5cbnBzOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxucHQ6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIGkgPSBzWzBdO1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICgoaSA9PSAwXG4gICAgICAgICAgfHwgaSA9PSAxKSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5cInB0LVBUXCI6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIHYwID0gIXNbMV07XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSAmJiB2MCkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5ybTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbnJvOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCB2MCA9ICFzWzFdLCB0MCA9IE51bWJlcihzWzBdKSA9PSBuLFxuICAgICAgbjEwMCA9IHQwICYmIHNbMF0uc2xpY2UoLTIpO1xuICBpZiAob3JkKSByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxICYmIHYwKSA/ICdvbmUnXG4gICAgICA6ICghdjAgfHwgbiA9PSAwXG4gICAgICAgICAgfHwgbiAhPSAxICYmIChuMTAwID49IDEgJiYgbjEwMCA8PSAxOSkpID8gJ2ZldydcbiAgICAgIDogJ290aGVyJztcbn0sXG5cbnJvZjogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbnJvb3Q6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gJ290aGVyJztcbn0sXG5cbnJ1OiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCBpID0gc1swXSwgdjAgPSAhc1sxXSwgaTEwID0gaS5zbGljZSgtMSksXG4gICAgICBpMTAwID0gaS5zbGljZSgtMik7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKHYwICYmIGkxMCA9PSAxICYmIGkxMDAgIT0gMTEpID8gJ29uZSdcbiAgICAgIDogKHYwICYmIChpMTAgPj0gMiAmJiBpMTAgPD0gNCkgJiYgKGkxMDAgPCAxMlxuICAgICAgICAgIHx8IGkxMDAgPiAxNCkpID8gJ2ZldydcbiAgICAgIDogKHYwICYmIGkxMCA9PSAwIHx8IHYwICYmIChpMTAgPj0gNSAmJiBpMTAgPD0gOSlcbiAgICAgICAgICB8fCB2MCAmJiAoaTEwMCA+PSAxMSAmJiBpMTAwIDw9IDE0KSkgPyAnbWFueSdcbiAgICAgIDogJ290aGVyJztcbn0sXG5cbnJ3azogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbnNhaDogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAnb3RoZXInO1xufSxcblxuc2FxOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuc2M6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIHYwID0gIXNbMV07XG4gIGlmIChvcmQpIHJldHVybiAoKG4gPT0gMTEgfHwgbiA9PSA4IHx8IG4gPT0gODBcbiAgICAgICAgICB8fCBuID09IDgwMCkpID8gJ21hbnknIDogJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEgJiYgdjApID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuc2NuOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCB2MCA9ICFzWzFdO1xuICBpZiAob3JkKSByZXR1cm4gKChuID09IDExIHx8IG4gPT0gOCB8fCBuID09IDgwXG4gICAgICAgICAgfHwgbiA9PSA4MDApKSA/ICdtYW55JyA6ICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxICYmIHYwKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbnNkOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuc2RoOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuc2U6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJ1xuICAgICAgOiAobiA9PSAyKSA/ICd0d28nXG4gICAgICA6ICdvdGhlcic7XG59LFxuXG5zZWg6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5zZXM6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gJ290aGVyJztcbn0sXG5cbnNnOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICdvdGhlcic7XG59LFxuXG5zaDogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgaSA9IHNbMF0sIGYgPSBzWzFdIHx8ICcnLCB2MCA9ICFzWzFdLFxuICAgICAgaTEwID0gaS5zbGljZSgtMSksIGkxMDAgPSBpLnNsaWNlKC0yKSwgZjEwID0gZi5zbGljZSgtMSksIGYxMDAgPSBmLnNsaWNlKC0yKTtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAodjAgJiYgaTEwID09IDEgJiYgaTEwMCAhPSAxMVxuICAgICAgICAgIHx8IGYxMCA9PSAxICYmIGYxMDAgIT0gMTEpID8gJ29uZSdcbiAgICAgIDogKHYwICYmIChpMTAgPj0gMiAmJiBpMTAgPD0gNCkgJiYgKGkxMDAgPCAxMiB8fCBpMTAwID4gMTQpXG4gICAgICAgICAgfHwgKGYxMCA+PSAyICYmIGYxMCA8PSA0KSAmJiAoZjEwMCA8IDEyXG4gICAgICAgICAgfHwgZjEwMCA+IDE0KSkgPyAnZmV3J1xuICAgICAgOiAnb3RoZXInO1xufSxcblxuc2hpOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCB0MCA9IE51bWJlcihzWzBdKSA9PSBuO1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID49IDAgJiYgbiA8PSAxKSA/ICdvbmUnXG4gICAgICA6ICgodDAgJiYgbiA+PSAyICYmIG4gPD0gMTApKSA/ICdmZXcnXG4gICAgICA6ICdvdGhlcic7XG59LFxuXG5zaTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgaSA9IHNbMF0sIGYgPSBzWzFdIHx8ICcnO1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICgobiA9PSAwIHx8IG4gPT0gMSlcbiAgICAgICAgICB8fCBpID09IDAgJiYgZiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbnNrOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCBpID0gc1swXSwgdjAgPSAhc1sxXTtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxICYmIHYwKSA/ICdvbmUnXG4gICAgICA6ICgoaSA+PSAyICYmIGkgPD0gNCkgJiYgdjApID8gJ2ZldydcbiAgICAgIDogKCF2MCkgPyAnbWFueSdcbiAgICAgIDogJ290aGVyJztcbn0sXG5cbnNsOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCBpID0gc1swXSwgdjAgPSAhc1sxXSwgaTEwMCA9IGkuc2xpY2UoLTIpO1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICh2MCAmJiBpMTAwID09IDEpID8gJ29uZSdcbiAgICAgIDogKHYwICYmIGkxMDAgPT0gMikgPyAndHdvJ1xuICAgICAgOiAodjAgJiYgKGkxMDAgPT0gMyB8fCBpMTAwID09IDQpXG4gICAgICAgICAgfHwgIXYwKSA/ICdmZXcnXG4gICAgICA6ICdvdGhlcic7XG59LFxuXG5zbWE6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJ1xuICAgICAgOiAobiA9PSAyKSA/ICd0d28nXG4gICAgICA6ICdvdGhlcic7XG59LFxuXG5zbWk6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJ1xuICAgICAgOiAobiA9PSAyKSA/ICd0d28nXG4gICAgICA6ICdvdGhlcic7XG59LFxuXG5zbWo6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJ1xuICAgICAgOiAobiA9PSAyKSA/ICd0d28nXG4gICAgICA6ICdvdGhlcic7XG59LFxuXG5zbW46IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJ1xuICAgICAgOiAobiA9PSAyKSA/ICd0d28nXG4gICAgICA6ICdvdGhlcic7XG59LFxuXG5zbXM6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJ1xuICAgICAgOiAobiA9PSAyKSA/ICd0d28nXG4gICAgICA6ICdvdGhlcic7XG59LFxuXG5zbjogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbnNvOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuc3E6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIHQwID0gTnVtYmVyKHNbMF0pID09IG4sXG4gICAgICBuMTAgPSB0MCAmJiBzWzBdLnNsaWNlKC0xKSwgbjEwMCA9IHQwICYmIHNbMF0uc2xpY2UoLTIpO1xuICBpZiAob3JkKSByZXR1cm4gKG4gPT0gMSkgPyAnb25lJ1xuICAgICAgOiAobjEwID09IDQgJiYgbjEwMCAhPSAxNCkgPyAnbWFueSdcbiAgICAgIDogJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuc3I6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIGkgPSBzWzBdLCBmID0gc1sxXSB8fCAnJywgdjAgPSAhc1sxXSxcbiAgICAgIGkxMCA9IGkuc2xpY2UoLTEpLCBpMTAwID0gaS5zbGljZSgtMiksIGYxMCA9IGYuc2xpY2UoLTEpLCBmMTAwID0gZi5zbGljZSgtMik7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKHYwICYmIGkxMCA9PSAxICYmIGkxMDAgIT0gMTFcbiAgICAgICAgICB8fCBmMTAgPT0gMSAmJiBmMTAwICE9IDExKSA/ICdvbmUnXG4gICAgICA6ICh2MCAmJiAoaTEwID49IDIgJiYgaTEwIDw9IDQpICYmIChpMTAwIDwgMTIgfHwgaTEwMCA+IDE0KVxuICAgICAgICAgIHx8IChmMTAgPj0gMiAmJiBmMTAgPD0gNCkgJiYgKGYxMDAgPCAxMlxuICAgICAgICAgIHx8IGYxMDAgPiAxNCkpID8gJ2ZldydcbiAgICAgIDogJ290aGVyJztcbn0sXG5cbnNzOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuc3N5OiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuc3Q6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG5zdjogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgdjAgPSAhc1sxXSwgdDAgPSBOdW1iZXIoc1swXSkgPT0gbixcbiAgICAgIG4xMCA9IHQwICYmIHNbMF0uc2xpY2UoLTEpLCBuMTAwID0gdDAgJiYgc1swXS5zbGljZSgtMik7XG4gIGlmIChvcmQpIHJldHVybiAoKG4xMCA9PSAxXG4gICAgICAgICAgfHwgbjEwID09IDIpICYmIG4xMDAgIT0gMTEgJiYgbjEwMCAhPSAxMikgPyAnb25lJyA6ICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxICYmIHYwKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbnN3OiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCB2MCA9ICFzWzFdO1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEgJiYgdjApID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxuc3lyOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxudGE6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG50ZTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbnRlbzogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbnRoOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICdvdGhlcic7XG59LFxuXG50aTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAoKG4gPT0gMFxuICAgICAgICAgIHx8IG4gPT0gMSkpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxudGlnOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxudGs6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIHZhciBzID0gU3RyaW5nKG4pLnNwbGl0KCcuJyksIHQwID0gTnVtYmVyKHNbMF0pID09IG4sXG4gICAgICBuMTAgPSB0MCAmJiBzWzBdLnNsaWNlKC0xKTtcbiAgaWYgKG9yZCkgcmV0dXJuICgobjEwID09IDYgfHwgbjEwID09IDkpXG4gICAgICAgICAgfHwgbiA9PSAxMCkgPyAnZmV3JyA6ICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbnRsOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCBpID0gc1swXSwgZiA9IHNbMV0gfHwgJycsIHYwID0gIXNbMV0sXG4gICAgICBpMTAgPSBpLnNsaWNlKC0xKSwgZjEwID0gZi5zbGljZSgtMSk7XG4gIGlmIChvcmQpIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbiAgcmV0dXJuICh2MCAmJiAoaSA9PSAxIHx8IGkgPT0gMiB8fCBpID09IDMpXG4gICAgICAgICAgfHwgdjAgJiYgaTEwICE9IDQgJiYgaTEwICE9IDYgJiYgaTEwICE9IDlcbiAgICAgICAgICB8fCAhdjAgJiYgZjEwICE9IDQgJiYgZjEwICE9IDYgJiYgZjEwICE9IDkpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxudG46IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG50bzogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAnb3RoZXInO1xufSxcblxudHI6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG50czogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbnR6bTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgdDAgPSBOdW1iZXIoc1swXSkgPT0gbjtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAoKG4gPT0gMCB8fCBuID09IDEpXG4gICAgICAgICAgfHwgKHQwICYmIG4gPj0gMTEgJiYgbiA8PSA5OSkpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxudWc6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG51azogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgaSA9IHNbMF0sIHYwID0gIXNbMV0sIHQwID0gTnVtYmVyKHNbMF0pID09IG4sXG4gICAgICBuMTAgPSB0MCAmJiBzWzBdLnNsaWNlKC0xKSwgbjEwMCA9IHQwICYmIHNbMF0uc2xpY2UoLTIpLCBpMTAgPSBpLnNsaWNlKC0xKSxcbiAgICAgIGkxMDAgPSBpLnNsaWNlKC0yKTtcbiAgaWYgKG9yZCkgcmV0dXJuIChuMTAgPT0gMyAmJiBuMTAwICE9IDEzKSA/ICdmZXcnIDogJ290aGVyJztcbiAgcmV0dXJuICh2MCAmJiBpMTAgPT0gMSAmJiBpMTAwICE9IDExKSA/ICdvbmUnXG4gICAgICA6ICh2MCAmJiAoaTEwID49IDIgJiYgaTEwIDw9IDQpICYmIChpMTAwIDwgMTJcbiAgICAgICAgICB8fCBpMTAwID4gMTQpKSA/ICdmZXcnXG4gICAgICA6ICh2MCAmJiBpMTAgPT0gMCB8fCB2MCAmJiAoaTEwID49IDUgJiYgaTEwIDw9IDkpXG4gICAgICAgICAgfHwgdjAgJiYgKGkxMDAgPj0gMTEgJiYgaTEwMCA8PSAxNCkpID8gJ21hbnknXG4gICAgICA6ICdvdGhlcic7XG59LFxuXG51cjogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgdmFyIHMgPSBTdHJpbmcobikuc3BsaXQoJy4nKSwgdjAgPSAhc1sxXTtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxICYmIHYwKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbnV6OiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxudmU6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKG4gPT0gMSkgPyAnb25lJyA6ICdvdGhlcic7XG59LFxuXG52aTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xuICByZXR1cm4gJ290aGVyJztcbn0sXG5cbnZvOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxudnVuOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEpID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxud2E6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gKChuID09IDBcbiAgICAgICAgICB8fCBuID09IDEpKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbndhZTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbndvOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuICdvdGhlcic7XG59LFxuXG54aDogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbnhvZzogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAobiA9PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn0sXG5cbnlpOiBmdW5jdGlvbihuLCBvcmRcbikge1xuICB2YXIgcyA9IFN0cmluZyhuKS5zcGxpdCgnLicpLCB2MCA9ICFzWzFdO1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID09IDEgJiYgdjApID8gJ29uZScgOiAnb3RoZXInO1xufSxcblxueW86IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gJ290aGVyJztcbn0sXG5cbnl1ZTogZnVuY3Rpb24obiwgb3JkXG4pIHtcbiAgaWYgKG9yZCkgcmV0dXJuICdvdGhlcic7XG4gIHJldHVybiAnb3RoZXInO1xufSxcblxuemg6IGZ1bmN0aW9uKG4sIG9yZFxuKSB7XG4gIGlmIChvcmQpIHJldHVybiAnb3RoZXInO1xuICByZXR1cm4gJ290aGVyJztcbn0sXG5cbnp1OiBmdW5jdGlvbihuLCBvcmRcbikge1xuICBpZiAob3JkKSByZXR1cm4gJ290aGVyJztcbiAgcmV0dXJuIChuID49IDAgJiYgbiA8PSAxKSA/ICdvbmUnIDogJ290aGVyJztcbn1cbn0pKTtcbiIsIi8qXG4gKiBHZW5lcmF0ZWQgYnkgUEVHLmpzIDAuMTAuMC5cbiAqXG4gKiBodHRwOi8vcGVnanMub3JnL1xuICovXG5cblwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBwZWckc3ViY2xhc3MoY2hpbGQsIHBhcmVudCkge1xuICBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH1cbiAgY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlO1xuICBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpO1xufVxuXG5mdW5jdGlvbiBwZWckU3ludGF4RXJyb3IobWVzc2FnZSwgZXhwZWN0ZWQsIGZvdW5kLCBsb2NhdGlvbikge1xuICB0aGlzLm1lc3NhZ2UgID0gbWVzc2FnZTtcbiAgdGhpcy5leHBlY3RlZCA9IGV4cGVjdGVkO1xuICB0aGlzLmZvdW5kICAgID0gZm91bmQ7XG4gIHRoaXMubG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgdGhpcy5uYW1lICAgICA9IFwiU3ludGF4RXJyb3JcIjtcblxuICBpZiAodHlwZW9mIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBwZWckU3ludGF4RXJyb3IpO1xuICB9XG59XG5cbnBlZyRzdWJjbGFzcyhwZWckU3ludGF4RXJyb3IsIEVycm9yKTtcblxucGVnJFN5bnRheEVycm9yLmJ1aWxkTWVzc2FnZSA9IGZ1bmN0aW9uKGV4cGVjdGVkLCBmb3VuZCkge1xuICB2YXIgREVTQ1JJQkVfRVhQRUNUQVRJT05fRk5TID0ge1xuICAgICAgICBsaXRlcmFsOiBmdW5jdGlvbihleHBlY3RhdGlvbikge1xuICAgICAgICAgIHJldHVybiBcIlxcXCJcIiArIGxpdGVyYWxFc2NhcGUoZXhwZWN0YXRpb24udGV4dCkgKyBcIlxcXCJcIjtcbiAgICAgICAgfSxcblxuICAgICAgICBcImNsYXNzXCI6IGZ1bmN0aW9uKGV4cGVjdGF0aW9uKSB7XG4gICAgICAgICAgdmFyIGVzY2FwZWRQYXJ0cyA9IFwiXCIsXG4gICAgICAgICAgICAgIGk7XG5cbiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZXhwZWN0YXRpb24ucGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGVzY2FwZWRQYXJ0cyArPSBleHBlY3RhdGlvbi5wYXJ0c1tpXSBpbnN0YW5jZW9mIEFycmF5XG4gICAgICAgICAgICAgID8gY2xhc3NFc2NhcGUoZXhwZWN0YXRpb24ucGFydHNbaV1bMF0pICsgXCItXCIgKyBjbGFzc0VzY2FwZShleHBlY3RhdGlvbi5wYXJ0c1tpXVsxXSlcbiAgICAgICAgICAgICAgOiBjbGFzc0VzY2FwZShleHBlY3RhdGlvbi5wYXJ0c1tpXSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIFwiW1wiICsgKGV4cGVjdGF0aW9uLmludmVydGVkID8gXCJeXCIgOiBcIlwiKSArIGVzY2FwZWRQYXJ0cyArIFwiXVwiO1xuICAgICAgICB9LFxuXG4gICAgICAgIGFueTogZnVuY3Rpb24oZXhwZWN0YXRpb24pIHtcbiAgICAgICAgICByZXR1cm4gXCJhbnkgY2hhcmFjdGVyXCI7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZW5kOiBmdW5jdGlvbihleHBlY3RhdGlvbikge1xuICAgICAgICAgIHJldHVybiBcImVuZCBvZiBpbnB1dFwiO1xuICAgICAgICB9LFxuXG4gICAgICAgIG90aGVyOiBmdW5jdGlvbihleHBlY3RhdGlvbikge1xuICAgICAgICAgIHJldHVybiBleHBlY3RhdGlvbi5kZXNjcmlwdGlvbjtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICBmdW5jdGlvbiBoZXgoY2gpIHtcbiAgICByZXR1cm4gY2guY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxpdGVyYWxFc2NhcGUocykge1xuICAgIHJldHVybiBzXG4gICAgICAucmVwbGFjZSgvXFxcXC9nLCAnXFxcXFxcXFwnKVxuICAgICAgLnJlcGxhY2UoL1wiL2csICAnXFxcXFwiJylcbiAgICAgIC5yZXBsYWNlKC9cXDAvZywgJ1xcXFwwJylcbiAgICAgIC5yZXBsYWNlKC9cXHQvZywgJ1xcXFx0JylcbiAgICAgIC5yZXBsYWNlKC9cXG4vZywgJ1xcXFxuJylcbiAgICAgIC5yZXBsYWNlKC9cXHIvZywgJ1xcXFxyJylcbiAgICAgIC5yZXBsYWNlKC9bXFx4MDAtXFx4MEZdL2csICAgICAgICAgIGZ1bmN0aW9uKGNoKSB7IHJldHVybiAnXFxcXHgwJyArIGhleChjaCk7IH0pXG4gICAgICAucmVwbGFjZSgvW1xceDEwLVxceDFGXFx4N0YtXFx4OUZdL2csIGZ1bmN0aW9uKGNoKSB7IHJldHVybiAnXFxcXHgnICArIGhleChjaCk7IH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xhc3NFc2NhcGUocykge1xuICAgIHJldHVybiBzXG4gICAgICAucmVwbGFjZSgvXFxcXC9nLCAnXFxcXFxcXFwnKVxuICAgICAgLnJlcGxhY2UoL1xcXS9nLCAnXFxcXF0nKVxuICAgICAgLnJlcGxhY2UoL1xcXi9nLCAnXFxcXF4nKVxuICAgICAgLnJlcGxhY2UoLy0vZywgICdcXFxcLScpXG4gICAgICAucmVwbGFjZSgvXFwwL2csICdcXFxcMCcpXG4gICAgICAucmVwbGFjZSgvXFx0L2csICdcXFxcdCcpXG4gICAgICAucmVwbGFjZSgvXFxuL2csICdcXFxcbicpXG4gICAgICAucmVwbGFjZSgvXFxyL2csICdcXFxccicpXG4gICAgICAucmVwbGFjZSgvW1xceDAwLVxceDBGXS9nLCAgICAgICAgICBmdW5jdGlvbihjaCkgeyByZXR1cm4gJ1xcXFx4MCcgKyBoZXgoY2gpOyB9KVxuICAgICAgLnJlcGxhY2UoL1tcXHgxMC1cXHgxRlxceDdGLVxceDlGXS9nLCBmdW5jdGlvbihjaCkgeyByZXR1cm4gJ1xcXFx4JyAgKyBoZXgoY2gpOyB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlc2NyaWJlRXhwZWN0YXRpb24oZXhwZWN0YXRpb24pIHtcbiAgICByZXR1cm4gREVTQ1JJQkVfRVhQRUNUQVRJT05fRk5TW2V4cGVjdGF0aW9uLnR5cGVdKGV4cGVjdGF0aW9uKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlc2NyaWJlRXhwZWN0ZWQoZXhwZWN0ZWQpIHtcbiAgICB2YXIgZGVzY3JpcHRpb25zID0gbmV3IEFycmF5KGV4cGVjdGVkLmxlbmd0aCksXG4gICAgICAgIGksIGo7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgZXhwZWN0ZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGRlc2NyaXB0aW9uc1tpXSA9IGRlc2NyaWJlRXhwZWN0YXRpb24oZXhwZWN0ZWRbaV0pO1xuICAgIH1cblxuICAgIGRlc2NyaXB0aW9ucy5zb3J0KCk7XG5cbiAgICBpZiAoZGVzY3JpcHRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgIGZvciAoaSA9IDEsIGogPSAxOyBpIDwgZGVzY3JpcHRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChkZXNjcmlwdGlvbnNbaSAtIDFdICE9PSBkZXNjcmlwdGlvbnNbaV0pIHtcbiAgICAgICAgICBkZXNjcmlwdGlvbnNbal0gPSBkZXNjcmlwdGlvbnNbaV07XG4gICAgICAgICAgaisrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBkZXNjcmlwdGlvbnMubGVuZ3RoID0gajtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKGRlc2NyaXB0aW9ucy5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9uc1swXTtcblxuICAgICAgY2FzZSAyOlxuICAgICAgICByZXR1cm4gZGVzY3JpcHRpb25zWzBdICsgXCIgb3IgXCIgKyBkZXNjcmlwdGlvbnNbMV07XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBkZXNjcmlwdGlvbnMuc2xpY2UoMCwgLTEpLmpvaW4oXCIsIFwiKVxuICAgICAgICAgICsgXCIsIG9yIFwiXG4gICAgICAgICAgKyBkZXNjcmlwdGlvbnNbZGVzY3JpcHRpb25zLmxlbmd0aCAtIDFdO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRlc2NyaWJlRm91bmQoZm91bmQpIHtcbiAgICByZXR1cm4gZm91bmQgPyBcIlxcXCJcIiArIGxpdGVyYWxFc2NhcGUoZm91bmQpICsgXCJcXFwiXCIgOiBcImVuZCBvZiBpbnB1dFwiO1xuICB9XG5cbiAgcmV0dXJuIFwiRXhwZWN0ZWQgXCIgKyBkZXNjcmliZUV4cGVjdGVkKGV4cGVjdGVkKSArIFwiIGJ1dCBcIiArIGRlc2NyaWJlRm91bmQoZm91bmQpICsgXCIgZm91bmQuXCI7XG59O1xuXG5mdW5jdGlvbiBwZWckcGFyc2UoaW5wdXQsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgIT09IHZvaWQgMCA/IG9wdGlvbnMgOiB7fTtcblxuICB2YXIgcGVnJEZBSUxFRCA9IHt9LFxuXG4gICAgICBwZWckc3RhcnRSdWxlRnVuY3Rpb25zID0geyBzdGFydDogcGVnJHBhcnNlc3RhcnQgfSxcbiAgICAgIHBlZyRzdGFydFJ1bGVGdW5jdGlvbiAgPSBwZWckcGFyc2VzdGFydCxcblxuICAgICAgcGVnJGMwID0gXCIjXCIsXG4gICAgICBwZWckYzEgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiI1wiLCBmYWxzZSksXG4gICAgICBwZWckYzIgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGluUGx1cmFsWzBdOyB9LFxuICAgICAgcGVnJGMzID0gZnVuY3Rpb24oKSB7IHJldHVybiB7IHR5cGU6ICdvY3RvdGhvcnBlJyB9OyB9LFxuICAgICAgcGVnJGM0ID0gZnVuY3Rpb24oc3RyKSB7IHJldHVybiBzdHIuam9pbignJyk7IH0sXG4gICAgICBwZWckYzUgPSBcIntcIixcbiAgICAgIHBlZyRjNiA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJ7XCIsIGZhbHNlKSxcbiAgICAgIHBlZyRjNyA9IFwifVwiLFxuICAgICAgcGVnJGM4ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIn1cIiwgZmFsc2UpLFxuICAgICAgcGVnJGM5ID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdhcmd1bWVudCcsXG4gICAgICAgICAgICBhcmc6IGFyZ1xuICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICBwZWckYzEwID0gXCIsXCIsXG4gICAgICBwZWckYzExID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIixcIiwgZmFsc2UpLFxuICAgICAgcGVnJGMxMiA9IFwic2VsZWN0XCIsXG4gICAgICBwZWckYzEzID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInNlbGVjdFwiLCBmYWxzZSksXG4gICAgICBwZWckYzE0ID0gZnVuY3Rpb24oYXJnLCBtKSB7IGlmIChvcHRpb25zLnN0cmljdCkgeyBpblBsdXJhbC51bnNoaWZ0KGZhbHNlKTsgfSByZXR1cm4gbTsgfSxcbiAgICAgIHBlZyRjMTUgPSBmdW5jdGlvbihhcmcsIGNhc2VzKSB7XG4gICAgICAgICAgaWYgKG9wdGlvbnMuc3RyaWN0KSBpblBsdXJhbC5zaGlmdCgpXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdzZWxlY3QnLFxuICAgICAgICAgICAgYXJnOiBhcmcsXG4gICAgICAgICAgICBjYXNlczogY2FzZXNcbiAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgcGVnJGMxNiA9IFwicGx1cmFsXCIsXG4gICAgICBwZWckYzE3ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInBsdXJhbFwiLCBmYWxzZSksXG4gICAgICBwZWckYzE4ID0gXCJzZWxlY3RvcmRpbmFsXCIsXG4gICAgICBwZWckYzE5ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInNlbGVjdG9yZGluYWxcIiwgZmFsc2UpLFxuICAgICAgcGVnJGMyMCA9IGZ1bmN0aW9uKGFyZywgbSkgeyBpblBsdXJhbC51bnNoaWZ0KHRydWUpOyByZXR1cm4gbTsgfSxcbiAgICAgIHBlZyRjMjEgPSBmdW5jdGlvbihhcmcsIHR5cGUsIG9mZnNldCwgY2FzZXMpIHtcbiAgICAgICAgICB2YXIgbHMgPSAoKHR5cGUgPT09ICdzZWxlY3RvcmRpbmFsJykgPyBvcHRpb25zLm9yZGluYWwgOiBvcHRpb25zLmNhcmRpbmFsKVxuICAgICAgICAgICAgICAgICAgIHx8IFsnemVybycsICdvbmUnLCAndHdvJywgJ2ZldycsICdtYW55JywgJ290aGVyJ107XG4gICAgICAgICAgaWYgKGxzICYmIGxzLmxlbmd0aCkgY2FzZXMuZm9yRWFjaChmdW5jdGlvbihjKSB7XG4gICAgICAgICAgICBpZiAoaXNOYU4oYy5rZXkpICYmIGxzLmluZGV4T2YoYy5rZXkpIDwgMCkgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAnSW52YWxpZCBrZXkgYCcgKyBjLmtleSArICdgIGZvciBhcmd1bWVudCBgJyArIGFyZyArICdgLicgK1xuICAgICAgICAgICAgICAnIFZhbGlkICcgKyB0eXBlICsgJyBrZXlzIGZvciB0aGlzIGxvY2FsZSBhcmUgYCcgKyBscy5qb2luKCdgLCBgJykgK1xuICAgICAgICAgICAgICAnYCwgYW5kIGV4cGxpY2l0IGtleXMgbGlrZSBgPTBgLicpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGluUGx1cmFsLnNoaWZ0KClcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIGFyZzogYXJnLFxuICAgICAgICAgICAgb2Zmc2V0OiBvZmZzZXQgfHwgMCxcbiAgICAgICAgICAgIGNhc2VzOiBjYXNlc1xuICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICBwZWckYzIyID0gZnVuY3Rpb24oYXJnLCBrZXksIHBhcmFtKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdmdW5jdGlvbicsXG4gICAgICAgICAgICBhcmc6IGFyZyxcbiAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgcGFyYW06IHBhcmFtXG4gICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgIHBlZyRjMjMgPSBwZWckb3RoZXJFeHBlY3RhdGlvbihcImlkZW50aWZpZXJcIiksXG4gICAgICBwZWckYzI0ID0gL15bXlxcdC1cXHIgXFx4ODVcXHUyMDBFXFx1MjAwRlxcdTIwMjhcXHUyMDI5IS1cXC86LUBbLVxcXmB7LX5cXHhBMS1cXHhBN1xceEE5XFx4QUJcXHhBQ1xceEFFXFx4QjBcXHhCMVxceEI2XFx4QkJcXHhCRlxceEQ3XFx4RjdcXHUyMDEwLVxcdTIwMjdcXHUyMDMwLVxcdTIwM0VcXHUyMDQxLVxcdTIwNTNcXHUyMDU1LVxcdTIwNUVcXHUyMTkwLVxcdTI0NUZcXHUyNTAwLVxcdTI3NzVcXHUyNzk0LVxcdTJCRkZcXHUyRTAwLVxcdTJFN0ZcXHUzMDAxLVxcdTMwMDNcXHUzMDA4LVxcdTMwMjBcXHUzMDMwXFx1RkQzRVxcdUZEM0ZcXHVGRTQ1XFx1RkU0Nl0vLFxuICAgICAgcGVnJGMyNSA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtbXCJcXHRcIiwgXCJcXHJcIl0sIFwiIFwiLCBcIlxceDg1XCIsIFwiXFx1MjAwRVwiLCBcIlxcdTIwMEZcIiwgXCJcXHUyMDI4XCIsIFwiXFx1MjAyOVwiLCBbXCIhXCIsIFwiL1wiXSwgW1wiOlwiLCBcIkBcIl0sIFtcIltcIiwgXCJeXCJdLCBcImBcIiwgW1wie1wiLCBcIn5cIl0sIFtcIlxceEExXCIsIFwiXFx4QTdcIl0sIFwiXFx4QTlcIiwgXCJcXHhBQlwiLCBcIlxceEFDXCIsIFwiXFx4QUVcIiwgXCJcXHhCMFwiLCBcIlxceEIxXCIsIFwiXFx4QjZcIiwgXCJcXHhCQlwiLCBcIlxceEJGXCIsIFwiXFx4RDdcIiwgXCJcXHhGN1wiLCBbXCJcXHUyMDEwXCIsIFwiXFx1MjAyN1wiXSwgW1wiXFx1MjAzMFwiLCBcIlxcdTIwM0VcIl0sIFtcIlxcdTIwNDFcIiwgXCJcXHUyMDUzXCJdLCBbXCJcXHUyMDU1XCIsIFwiXFx1MjA1RVwiXSwgW1wiXFx1MjE5MFwiLCBcIlxcdTI0NUZcIl0sIFtcIlxcdTI1MDBcIiwgXCJcXHUyNzc1XCJdLCBbXCJcXHUyNzk0XCIsIFwiXFx1MkJGRlwiXSwgW1wiXFx1MkUwMFwiLCBcIlxcdTJFN0ZcIl0sIFtcIlxcdTMwMDFcIiwgXCJcXHUzMDAzXCJdLCBbXCJcXHUzMDA4XCIsIFwiXFx1MzAyMFwiXSwgXCJcXHUzMDMwXCIsIFwiXFx1RkQzRVwiLCBcIlxcdUZEM0ZcIiwgXCJcXHVGRTQ1XCIsIFwiXFx1RkU0NlwiXSwgdHJ1ZSwgZmFsc2UpLFxuICAgICAgcGVnJGMyNiA9IGZ1bmN0aW9uKGtleSwgdG9rZW5zKSB7IHJldHVybiB7IGtleToga2V5LCB0b2tlbnM6IHRva2VucyB9OyB9LFxuICAgICAgcGVnJGMyNyA9IGZ1bmN0aW9uKHRva2VucykgeyByZXR1cm4gdG9rZW5zOyB9LFxuICAgICAgcGVnJGMyOCA9IHBlZyRvdGhlckV4cGVjdGF0aW9uKFwicGx1cmFsIG9mZnNldFwiKSxcbiAgICAgIHBlZyRjMjkgPSBcIm9mZnNldFwiLFxuICAgICAgcGVnJGMzMCA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJvZmZzZXRcIiwgZmFsc2UpLFxuICAgICAgcGVnJGMzMSA9IFwiOlwiLFxuICAgICAgcGVnJGMzMiA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCI6XCIsIGZhbHNlKSxcbiAgICAgIHBlZyRjMzMgPSBmdW5jdGlvbihkKSB7IHJldHVybiBkOyB9LFxuICAgICAgcGVnJGMzNCA9IFwiPVwiLFxuICAgICAgcGVnJGMzNSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCI9XCIsIGZhbHNlKSxcbiAgICAgIHBlZyRjMzYgPSBcIm51bWJlclwiLFxuICAgICAgcGVnJGMzNyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJudW1iZXJcIiwgZmFsc2UpLFxuICAgICAgcGVnJGMzOCA9IFwiZGF0ZVwiLFxuICAgICAgcGVnJGMzOSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJkYXRlXCIsIGZhbHNlKSxcbiAgICAgIHBlZyRjNDAgPSBcInRpbWVcIixcbiAgICAgIHBlZyRjNDEgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwidGltZVwiLCBmYWxzZSksXG4gICAgICBwZWckYzQyID0gXCJzcGVsbG91dFwiLFxuICAgICAgcGVnJGM0MyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJzcGVsbG91dFwiLCBmYWxzZSksXG4gICAgICBwZWckYzQ0ID0gXCJvcmRpbmFsXCIsXG4gICAgICBwZWckYzQ1ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIm9yZGluYWxcIiwgZmFsc2UpLFxuICAgICAgcGVnJGM0NiA9IFwiZHVyYXRpb25cIixcbiAgICAgIHBlZyRjNDcgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiZHVyYXRpb25cIiwgZmFsc2UpLFxuICAgICAgcGVnJGM0OCA9IGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3RyaWN0IHx8IC9eXFxkLy50ZXN0KGtleSkpIHJldHVybiBmYWxzZVxuICAgICAgICAgICAgc3dpdGNoIChrZXkudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgICBjYXNlICdzZWxlY3QnOlxuICAgICAgICAgICAgICBjYXNlICdwbHVyYWwnOlxuICAgICAgICAgICAgICBjYXNlICdzZWxlY3RvcmRpbmFsJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICBwZWckYzQ5ID0gZnVuY3Rpb24oa2V5KSB7IHJldHVybiBrZXkgfSxcbiAgICAgIHBlZyRjNTAgPSBmdW5jdGlvbih0b2tlbnMpIHsgcmV0dXJuICFvcHRpb25zLnN0cmljdCB9LFxuICAgICAgcGVnJGM1MSA9IGZ1bmN0aW9uKHRva2VucykgeyByZXR1cm4geyB0b2tlbnM6IHRva2VucyB9IH0sXG4gICAgICBwZWckYzUyID0gZnVuY3Rpb24ocGFydHMpIHsgcmV0dXJuIHsgdG9rZW5zOiBbcGFydHMuam9pbignJyldIH0gfSxcbiAgICAgIHBlZyRjNTMgPSBwZWckb3RoZXJFeHBlY3RhdGlvbihcImEgdmFsaWQgKHN0cmljdCkgZnVuY3Rpb24gcGFyYW1ldGVyXCIpLFxuICAgICAgcGVnJGM1NCA9IC9eW14ne31dLyxcbiAgICAgIHBlZyRjNTUgPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbXCInXCIsIFwie1wiLCBcIn1cIl0sIHRydWUsIGZhbHNlKSxcbiAgICAgIHBlZyRjNTYgPSBmdW5jdGlvbihwKSB7IHJldHVybiBwLmpvaW4oJycpIH0sXG4gICAgICBwZWckYzU3ID0gXCInXCIsXG4gICAgICBwZWckYzU4ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIidcIiwgZmFsc2UpLFxuICAgICAgcGVnJGM1OSA9IGZ1bmN0aW9uKHF1b3RlZCkgeyByZXR1cm4gcXVvdGVkIH0sXG4gICAgICBwZWckYzYwID0gZnVuY3Rpb24ocCkgeyByZXR1cm4gJ3snICsgcC5qb2luKCcnKSArICd9JyB9LFxuICAgICAgcGVnJGM2MSA9IHBlZyRvdGhlckV4cGVjdGF0aW9uKFwiZG91YmxlZCBhcG9zdHJvcGhlXCIpLFxuICAgICAgcGVnJGM2MiA9IFwiJydcIixcbiAgICAgIHBlZyRjNjMgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiJydcIiwgZmFsc2UpLFxuICAgICAgcGVnJGM2NCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gXCInXCI7IH0sXG4gICAgICBwZWckYzY1ID0gL15bXiddLyxcbiAgICAgIHBlZyRjNjYgPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbXCInXCJdLCB0cnVlLCBmYWxzZSksXG4gICAgICBwZWckYzY3ID0gXCIne1wiLFxuICAgICAgcGVnJGM2OCA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIne1wiLCBmYWxzZSksXG4gICAgICBwZWckYzY5ID0gZnVuY3Rpb24oc3RyKSB7IHJldHVybiAnXFx1MDA3Qicrc3RyLmpvaW4oJycpOyB9LFxuICAgICAgcGVnJGM3MCA9IFwiJ31cIixcbiAgICAgIHBlZyRjNzEgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiJ31cIiwgZmFsc2UpLFxuICAgICAgcGVnJGM3MiA9IGZ1bmN0aW9uKHN0cikgeyByZXR1cm4gJ1xcdTAwN0QnK3N0ci5qb2luKCcnKTsgfSxcbiAgICAgIHBlZyRjNzMgPSBwZWckb3RoZXJFeHBlY3RhdGlvbihcImVzY2FwZWQgc3RyaW5nXCIpLFxuICAgICAgcGVnJGM3NCA9IFwiJyNcIixcbiAgICAgIHBlZyRjNzUgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiJyNcIiwgZmFsc2UpLFxuICAgICAgcGVnJGM3NiA9IGZ1bmN0aW9uKHN0cikgeyByZXR1cm4gXCIjXCIrc3RyLmpvaW4oJycpOyB9LFxuICAgICAgcGVnJGM3NyA9IGZ1bmN0aW9uKHF1b3RlZE9jdG8pIHsgcmV0dXJuIHF1b3RlZE9jdG9bMF07IH0sXG4gICAgICBwZWckYzc4ID0gcGVnJG90aGVyRXhwZWN0YXRpb24oXCJwbGFpbiBjaGFyXCIpLFxuICAgICAgcGVnJGM3OSA9IC9eW157fSNcXDAtXFx4MDhcXHgwRS1cXHgxRlxceDdGXS8sXG4gICAgICBwZWckYzgwID0gcGVnJGNsYXNzRXhwZWN0YXRpb24oW1wie1wiLCBcIn1cIiwgXCIjXCIsIFtcIlxcMFwiLCBcIlxcYlwiXSwgW1wiXFx4MEVcIiwgXCJcXHgxRlwiXSwgXCJcXHg3RlwiXSwgdHJ1ZSwgZmFsc2UpLFxuICAgICAgcGVnJGM4MSA9IGZ1bmN0aW9uKG9jdG8pIHsgcmV0dXJuICFpblBsdXJhbFswXTsgfSxcbiAgICAgIHBlZyRjODIgPSBmdW5jdGlvbihvY3RvKSB7IHJldHVybiBvY3RvOyB9LFxuICAgICAgcGVnJGM4MyA9IHBlZyRvdGhlckV4cGVjdGF0aW9uKFwiaW50ZWdlclwiKSxcbiAgICAgIHBlZyRjODQgPSAvXlswLTldLyxcbiAgICAgIHBlZyRjODUgPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbW1wiMFwiLCBcIjlcIl1dLCBmYWxzZSwgZmFsc2UpLFxuICAgICAgcGVnJGM4NiA9IHBlZyRvdGhlckV4cGVjdGF0aW9uKFwid2hpdGUgc3BhY2VcIiksXG4gICAgICBwZWckYzg3ID0gL15bXFx0LVxcciBcXHg4NVxcdTIwMEVcXHUyMDBGXFx1MjAyOFxcdTIwMjldLyxcbiAgICAgIHBlZyRjODggPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbW1wiXFx0XCIsIFwiXFxyXCJdLCBcIiBcIiwgXCJcXHg4NVwiLCBcIlxcdTIwMEVcIiwgXCJcXHUyMDBGXCIsIFwiXFx1MjAyOFwiLCBcIlxcdTIwMjlcIl0sIGZhbHNlLCBmYWxzZSksXG5cbiAgICAgIHBlZyRjdXJyUG9zICAgICAgICAgID0gMCxcbiAgICAgIHBlZyRzYXZlZFBvcyAgICAgICAgID0gMCxcbiAgICAgIHBlZyRwb3NEZXRhaWxzQ2FjaGUgID0gW3sgbGluZTogMSwgY29sdW1uOiAxIH1dLFxuICAgICAgcGVnJG1heEZhaWxQb3MgICAgICAgPSAwLFxuICAgICAgcGVnJG1heEZhaWxFeHBlY3RlZCAgPSBbXSxcbiAgICAgIHBlZyRzaWxlbnRGYWlscyAgICAgID0gMCxcblxuICAgICAgcGVnJHJlc3VsdDtcblxuICBpZiAoXCJzdGFydFJ1bGVcIiBpbiBvcHRpb25zKSB7XG4gICAgaWYgKCEob3B0aW9ucy5zdGFydFJ1bGUgaW4gcGVnJHN0YXJ0UnVsZUZ1bmN0aW9ucykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IHN0YXJ0IHBhcnNpbmcgZnJvbSBydWxlIFxcXCJcIiArIG9wdGlvbnMuc3RhcnRSdWxlICsgXCJcXFwiLlwiKTtcbiAgICB9XG5cbiAgICBwZWckc3RhcnRSdWxlRnVuY3Rpb24gPSBwZWckc3RhcnRSdWxlRnVuY3Rpb25zW29wdGlvbnMuc3RhcnRSdWxlXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRleHQoKSB7XG4gICAgcmV0dXJuIGlucHV0LnN1YnN0cmluZyhwZWckc2F2ZWRQb3MsIHBlZyRjdXJyUG9zKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvY2F0aW9uKCkge1xuICAgIHJldHVybiBwZWckY29tcHV0ZUxvY2F0aW9uKHBlZyRzYXZlZFBvcywgcGVnJGN1cnJQb3MpO1xuICB9XG5cbiAgZnVuY3Rpb24gZXhwZWN0ZWQoZGVzY3JpcHRpb24sIGxvY2F0aW9uKSB7XG4gICAgbG9jYXRpb24gPSBsb2NhdGlvbiAhPT0gdm9pZCAwID8gbG9jYXRpb24gOiBwZWckY29tcHV0ZUxvY2F0aW9uKHBlZyRzYXZlZFBvcywgcGVnJGN1cnJQb3MpXG5cbiAgICB0aHJvdyBwZWckYnVpbGRTdHJ1Y3R1cmVkRXJyb3IoXG4gICAgICBbcGVnJG90aGVyRXhwZWN0YXRpb24oZGVzY3JpcHRpb24pXSxcbiAgICAgIGlucHV0LnN1YnN0cmluZyhwZWckc2F2ZWRQb3MsIHBlZyRjdXJyUG9zKSxcbiAgICAgIGxvY2F0aW9uXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVycm9yKG1lc3NhZ2UsIGxvY2F0aW9uKSB7XG4gICAgbG9jYXRpb24gPSBsb2NhdGlvbiAhPT0gdm9pZCAwID8gbG9jYXRpb24gOiBwZWckY29tcHV0ZUxvY2F0aW9uKHBlZyRzYXZlZFBvcywgcGVnJGN1cnJQb3MpXG5cbiAgICB0aHJvdyBwZWckYnVpbGRTaW1wbGVFcnJvcihtZXNzYWdlLCBsb2NhdGlvbik7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKHRleHQsIGlnbm9yZUNhc2UpIHtcbiAgICByZXR1cm4geyB0eXBlOiBcImxpdGVyYWxcIiwgdGV4dDogdGV4dCwgaWdub3JlQ2FzZTogaWdub3JlQ2FzZSB9O1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJGNsYXNzRXhwZWN0YXRpb24ocGFydHMsIGludmVydGVkLCBpZ25vcmVDYXNlKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogXCJjbGFzc1wiLCBwYXJ0czogcGFydHMsIGludmVydGVkOiBpbnZlcnRlZCwgaWdub3JlQ2FzZTogaWdub3JlQ2FzZSB9O1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJGFueUV4cGVjdGF0aW9uKCkge1xuICAgIHJldHVybiB7IHR5cGU6IFwiYW55XCIgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRlbmRFeHBlY3RhdGlvbigpIHtcbiAgICByZXR1cm4geyB0eXBlOiBcImVuZFwiIH07XG4gIH1cblxuICBmdW5jdGlvbiBwZWckb3RoZXJFeHBlY3RhdGlvbihkZXNjcmlwdGlvbikge1xuICAgIHJldHVybiB7IHR5cGU6IFwib3RoZXJcIiwgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uIH07XG4gIH1cblxuICBmdW5jdGlvbiBwZWckY29tcHV0ZVBvc0RldGFpbHMocG9zKSB7XG4gICAgdmFyIGRldGFpbHMgPSBwZWckcG9zRGV0YWlsc0NhY2hlW3Bvc10sIHA7XG5cbiAgICBpZiAoZGV0YWlscykge1xuICAgICAgcmV0dXJuIGRldGFpbHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHAgPSBwb3MgLSAxO1xuICAgICAgd2hpbGUgKCFwZWckcG9zRGV0YWlsc0NhY2hlW3BdKSB7XG4gICAgICAgIHAtLTtcbiAgICAgIH1cblxuICAgICAgZGV0YWlscyA9IHBlZyRwb3NEZXRhaWxzQ2FjaGVbcF07XG4gICAgICBkZXRhaWxzID0ge1xuICAgICAgICBsaW5lOiAgIGRldGFpbHMubGluZSxcbiAgICAgICAgY29sdW1uOiBkZXRhaWxzLmNvbHVtblxuICAgICAgfTtcblxuICAgICAgd2hpbGUgKHAgPCBwb3MpIHtcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocCkgPT09IDEwKSB7XG4gICAgICAgICAgZGV0YWlscy5saW5lKys7XG4gICAgICAgICAgZGV0YWlscy5jb2x1bW4gPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRldGFpbHMuY29sdW1uKys7XG4gICAgICAgIH1cblxuICAgICAgICBwKys7XG4gICAgICB9XG5cbiAgICAgIHBlZyRwb3NEZXRhaWxzQ2FjaGVbcG9zXSA9IGRldGFpbHM7XG4gICAgICByZXR1cm4gZGV0YWlscztcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwZWckY29tcHV0ZUxvY2F0aW9uKHN0YXJ0UG9zLCBlbmRQb3MpIHtcbiAgICB2YXIgc3RhcnRQb3NEZXRhaWxzID0gcGVnJGNvbXB1dGVQb3NEZXRhaWxzKHN0YXJ0UG9zKSxcbiAgICAgICAgZW5kUG9zRGV0YWlscyAgID0gcGVnJGNvbXB1dGVQb3NEZXRhaWxzKGVuZFBvcyk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgc3RhcnQ6IHtcbiAgICAgICAgb2Zmc2V0OiBzdGFydFBvcyxcbiAgICAgICAgbGluZTogICBzdGFydFBvc0RldGFpbHMubGluZSxcbiAgICAgICAgY29sdW1uOiBzdGFydFBvc0RldGFpbHMuY29sdW1uXG4gICAgICB9LFxuICAgICAgZW5kOiB7XG4gICAgICAgIG9mZnNldDogZW5kUG9zLFxuICAgICAgICBsaW5lOiAgIGVuZFBvc0RldGFpbHMubGluZSxcbiAgICAgICAgY29sdW1uOiBlbmRQb3NEZXRhaWxzLmNvbHVtblxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBwZWckZmFpbChleHBlY3RlZCkge1xuICAgIGlmIChwZWckY3VyclBvcyA8IHBlZyRtYXhGYWlsUG9zKSB7IHJldHVybjsgfVxuXG4gICAgaWYgKHBlZyRjdXJyUG9zID4gcGVnJG1heEZhaWxQb3MpIHtcbiAgICAgIHBlZyRtYXhGYWlsUG9zID0gcGVnJGN1cnJQb3M7XG4gICAgICBwZWckbWF4RmFpbEV4cGVjdGVkID0gW107XG4gICAgfVxuXG4gICAgcGVnJG1heEZhaWxFeHBlY3RlZC5wdXNoKGV4cGVjdGVkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRidWlsZFNpbXBsZUVycm9yKG1lc3NhZ2UsIGxvY2F0aW9uKSB7XG4gICAgcmV0dXJuIG5ldyBwZWckU3ludGF4RXJyb3IobWVzc2FnZSwgbnVsbCwgbnVsbCwgbG9jYXRpb24pO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJGJ1aWxkU3RydWN0dXJlZEVycm9yKGV4cGVjdGVkLCBmb3VuZCwgbG9jYXRpb24pIHtcbiAgICByZXR1cm4gbmV3IHBlZyRTeW50YXhFcnJvcihcbiAgICAgIHBlZyRTeW50YXhFcnJvci5idWlsZE1lc3NhZ2UoZXhwZWN0ZWQsIGZvdW5kKSxcbiAgICAgIGV4cGVjdGVkLFxuICAgICAgZm91bmQsXG4gICAgICBsb2NhdGlvblxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VzdGFydCgpIHtcbiAgICB2YXIgczAsIHMxO1xuXG4gICAgczAgPSBbXTtcbiAgICBzMSA9IHBlZyRwYXJzZXRva2VuKCk7XG4gICAgd2hpbGUgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMC5wdXNoKHMxKTtcbiAgICAgIHMxID0gcGVnJHBhcnNldG9rZW4oKTtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2V0b2tlbigpIHtcbiAgICB2YXIgczAsIHMxLCBzMjtcblxuICAgIHMwID0gcGVnJHBhcnNlYXJndW1lbnQoKTtcbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJHBhcnNlc2VsZWN0KCk7XG4gICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczAgPSBwZWckcGFyc2VwbHVyYWwoKTtcbiAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczAgPSBwZWckcGFyc2VmdW5jdGlvbigpO1xuICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMzUpIHtcbiAgICAgICAgICAgICAgczEgPSBwZWckYzA7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxKTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgICBzMiA9IHBlZyRjMigpO1xuICAgICAgICAgICAgICBpZiAoczIpIHtcbiAgICAgICAgICAgICAgICBzMiA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczEgPSBwZWckYzMoKTtcbiAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgICAgczEgPSBbXTtcbiAgICAgICAgICAgICAgczIgPSBwZWckcGFyc2VjaGFyKCk7XG4gICAgICAgICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHdoaWxlIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgczEucHVzaChzMik7XG4gICAgICAgICAgICAgICAgICBzMiA9IHBlZyRwYXJzZWNoYXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMxID0gcGVnJGM0KHMxKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWFyZ3VtZW50KCkge1xuICAgIHZhciBzMCwgczEsIHMyLCBzMywgczQsIHM1O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDEyMykge1xuICAgICAgczEgPSBwZWckYzU7XG4gICAgICBwZWckY3VyclBvcysrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNik7IH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZV8oKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IHBlZyRwYXJzZWlkKCk7XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM0ID0gcGVnJHBhcnNlXygpO1xuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAxMjUpIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckYzc7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM4KTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMSA9IHBlZyRjOShzMyk7XG4gICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlc2VsZWN0KCkge1xuICAgIHZhciBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczcsIHM4LCBzOSwgczEwLCBzMTEsIHMxMiwgczEzO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDEyMykge1xuICAgICAgczEgPSBwZWckYzU7XG4gICAgICBwZWckY3VyclBvcysrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNik7IH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZV8oKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IHBlZyRwYXJzZWlkKCk7XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM0ID0gcGVnJHBhcnNlXygpO1xuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NCkge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRjMTA7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxMSk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNiA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczcgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA2KSA9PT0gcGVnJGMxMikge1xuICAgICAgICAgICAgICAgICAgczggPSBwZWckYzEyO1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gNjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgczggPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzEzKTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoczggIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHM3O1xuICAgICAgICAgICAgICAgICAgczggPSBwZWckYzE0KHMzLCBzOCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHM3ID0gczg7XG4gICAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBzOCA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgICAgICAgICAgIGlmIChzOCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgczkgPSBwZWckYzEwO1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgczkgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxMSk7IH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoczkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzMTAgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHMxMCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgczExID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBzMTIgPSBwZWckcGFyc2VzZWxlY3RDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoczEyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChzMTIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMTEucHVzaChzMTIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxMiA9IHBlZyRwYXJzZXNlbGVjdENhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczExID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMTEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczEyID0gcGVnJHBhcnNlXygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczEyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAxMjUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxMyA9IHBlZyRjNztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjOCk7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMTUoczMsIHMxMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZXBsdXJhbCgpIHtcbiAgICB2YXIgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3LCBzOCwgczksIHMxMCwgczExLCBzMTIsIHMxMywgczE0O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDEyMykge1xuICAgICAgczEgPSBwZWckYzU7XG4gICAgICBwZWckY3VyclBvcysrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNik7IH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZV8oKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IHBlZyRwYXJzZWlkKCk7XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM0ID0gcGVnJHBhcnNlXygpO1xuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NCkge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRjMTA7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxMSk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNiA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczcgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA2KSA9PT0gcGVnJGMxNikge1xuICAgICAgICAgICAgICAgICAgczggPSBwZWckYzE2O1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gNjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgczggPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE3KTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoczggPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDEzKSA9PT0gcGVnJGMxOCkge1xuICAgICAgICAgICAgICAgICAgICBzOCA9IHBlZyRjMTg7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDEzO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgczggPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTkpOyB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzOCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczc7XG4gICAgICAgICAgICAgICAgICBzOCA9IHBlZyRjMjAoczMsIHM4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgczcgPSBzODtcbiAgICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJHBhcnNlXygpO1xuICAgICAgICAgICAgICAgICAgaWYgKHM4ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzOSA9IHBlZyRjMTA7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBzOSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzExKTsgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzOSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgIHMxMCA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoczEwICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzMTEgPSBwZWckcGFyc2VvZmZzZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMTEgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczExID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMTEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczEyID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHMxMyA9IHBlZyRwYXJzZXBsdXJhbENhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChzMTMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxMi5wdXNoKHMxMyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMTMgPSBwZWckcGFyc2VwbHVyYWxDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxMyA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczEzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDEyNSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMTQgPSBwZWckYzc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMTQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjOCk7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMTQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGMyMShzMywgczcsIHMxMSwgczEyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VmdW5jdGlvbigpIHtcbiAgICB2YXIgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3LCBzOCwgczksIHMxMDtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAxMjMpIHtcbiAgICAgIHMxID0gcGVnJGM1O1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzYpOyB9XG4gICAgfVxuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2VfKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBwZWckcGFyc2VpZCgpO1xuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNCA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDQpIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckYzEwO1xuICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTEpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczYgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlZnVuY3Rpb25LZXkoKTtcbiAgICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJHBhcnNlXygpO1xuICAgICAgICAgICAgICAgICAgaWYgKHM4ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIHM5ID0gcGVnJHBhcnNlZnVuY3Rpb25QYXJhbSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoczkgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzOSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHM5ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAxMjUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMxMCA9IHBlZyRjNztcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMxMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjOCk7IH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHMxMCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMjIoczMsIHM3LCBzOSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWlkKCkge1xuICAgIHZhciBzMCwgczEsIHMyO1xuXG4gICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IFtdO1xuICAgIGlmIChwZWckYzI0LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgIHMyID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNSk7IH1cbiAgICB9XG4gICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICB3aGlsZSAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczEucHVzaChzMik7XG4gICAgICAgIGlmIChwZWckYzI0LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICBzMiA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI1KTsgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IGlucHV0LnN1YnN0cmluZyhzMCwgcGVnJGN1cnJQb3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMCA9IHMxO1xuICAgIH1cbiAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyMyk7IH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VzZWxlY3RDYXNlKCkge1xuICAgIHZhciBzMCwgczEsIHMyLCBzMywgczQ7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlXygpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2VpZCgpO1xuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gcGVnJHBhcnNlXygpO1xuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNCA9IHBlZyRwYXJzZWNhc2VUb2tlbnMoKTtcbiAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgczEgPSBwZWckYzI2KHMyLCBzNCk7XG4gICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZXBsdXJhbENhc2UoKSB7XG4gICAgdmFyIHMwLCBzMSwgczIsIHMzLCBzNDtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VfKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZXBsdXJhbEtleSgpO1xuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gcGVnJHBhcnNlXygpO1xuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNCA9IHBlZyRwYXJzZWNhc2VUb2tlbnMoKTtcbiAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgczEgPSBwZWckYzI2KHMyLCBzNCk7XG4gICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWNhc2VUb2tlbnMoKSB7XG4gICAgdmFyIHMwLCBzMSwgczIsIHMzLCBzNCwgczU7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMTIzKSB7XG4gICAgICBzMSA9IHBlZyRjNTtcbiAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM2KTsgfVxuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJGN1cnJQb3M7XG4gICAgICBzMyA9IHBlZyRwYXJzZV8oKTtcbiAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzNCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBwZWckc2lsZW50RmFpbHMrKztcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAxMjMpIHtcbiAgICAgICAgICBzNSA9IHBlZyRjNTtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNik7IH1cbiAgICAgICAgfVxuICAgICAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNDtcbiAgICAgICAgICBzNCA9IHZvaWQgMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczMgPSBbczMsIHM0XTtcbiAgICAgICAgICBzMiA9IHMzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczI7XG4gICAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMyO1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoczIgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIgPSBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gW107XG4gICAgICAgIHM0ID0gcGVnJHBhcnNldG9rZW4oKTtcbiAgICAgICAgd2hpbGUgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczMucHVzaChzNCk7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2V0b2tlbigpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM0ID0gcGVnJHBhcnNlXygpO1xuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAxMjUpIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckYzc7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM4KTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMSA9IHBlZyRjMjcoczMpO1xuICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZW9mZnNldCgpIHtcbiAgICB2YXIgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3O1xuXG4gICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZV8oKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDYpID09PSBwZWckYzI5KSB7XG4gICAgICAgIHMyID0gcGVnJGMyOTtcbiAgICAgICAgcGVnJGN1cnJQb3MgKz0gNjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzMwKTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gcGVnJHBhcnNlXygpO1xuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDU4KSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRjMzE7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzIpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczUgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczYgPSBwZWckcGFyc2VkaWdpdHMoKTtcbiAgICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczcgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGMzMyhzNik7XG4gICAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyOCk7IH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VwbHVyYWxLZXkoKSB7XG4gICAgdmFyIHMwLCBzMSwgczI7XG5cbiAgICBzMCA9IHBlZyRwYXJzZWlkKCk7XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA2MSkge1xuICAgICAgICBzMSA9IHBlZyRjMzQ7XG4gICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzNSk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMiA9IHBlZyRwYXJzZWRpZ2l0cygpO1xuICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICBzMSA9IHBlZyRjMzMoczIpO1xuICAgICAgICAgIHMwID0gczE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VmdW5jdGlvbktleSgpIHtcbiAgICB2YXIgczAsIHMxLCBzMiwgczMsIHM0LCBzNTtcblxuICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDYpID09PSBwZWckYzM2KSB7XG4gICAgICBzMCA9IHBlZyRjMzY7XG4gICAgICBwZWckY3VyclBvcyArPSA2O1xuICAgIH0gZWxzZSB7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzcpOyB9XG4gICAgfVxuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNCkgPT09IHBlZyRjMzgpIHtcbiAgICAgICAgczAgPSBwZWckYzM4O1xuICAgICAgICBwZWckY3VyclBvcyArPSA0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzkpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNCkgPT09IHBlZyRjNDApIHtcbiAgICAgICAgICBzMCA9IHBlZyRjNDA7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgKz0gNDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQxKTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDgpID09PSBwZWckYzQyKSB7XG4gICAgICAgICAgICBzMCA9IHBlZyRjNDI7XG4gICAgICAgICAgICBwZWckY3VyclBvcyArPSA4O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDMpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNykgPT09IHBlZyRjNDQpIHtcbiAgICAgICAgICAgICAgczAgPSBwZWckYzQ0O1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSA3O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDUpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgOCkgPT09IHBlZyRjNDYpIHtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRjNDY7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gODtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQ3KTsgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICAgICAgczEgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgICAgICBwZWckc2lsZW50RmFpbHMrKztcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA2KSA9PT0gcGVnJGMxMikge1xuICAgICAgICAgICAgICAgICAgczIgPSBwZWckYzEyO1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gNjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzEzKTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICAgICAgICAgICAgICBpZiAoczIgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHMxID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgICAgICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHMyID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICAgICAgICBwZWckc2lsZW50RmFpbHMrKztcbiAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDYpID09PSBwZWckYzE2KSB7XG4gICAgICAgICAgICAgICAgICAgIHMzID0gcGVnJGMxNjtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gNjtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE3KTsgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgcGVnJHNpbGVudEZhaWxzLS07XG4gICAgICAgICAgICAgICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgczIgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMyO1xuICAgICAgICAgICAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgICAgICAgICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDEzKSA9PT0gcGVnJGMxOCkge1xuICAgICAgICAgICAgICAgICAgICAgIHM0ID0gcGVnJGMxODtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAxMztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE5KTsgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgICAgICAgICAgICAgICAgICBpZiAoczQgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzMyA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzNCA9IHBlZyRwYXJzZWlkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHM1ID0gcGVnJGM0OChzNCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoczUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczUgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGM0OShzNCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlZnVuY3Rpb25QYXJhbSgpIHtcbiAgICB2YXIgczAsIHMxLCBzMiwgczMsIHM0O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZV8oKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDQpIHtcbiAgICAgICAgczIgPSBwZWckYzEwO1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTEpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBbXTtcbiAgICAgICAgczQgPSBwZWckcGFyc2V0b2tlbigpO1xuICAgICAgICB3aGlsZSAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMy5wdXNoKHM0KTtcbiAgICAgICAgICBzNCA9IHBlZyRwYXJzZXRva2VuKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgcGVnJHNhdmVkUG9zID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgczQgPSBwZWckYzUwKHMzKTtcbiAgICAgICAgICBpZiAoczQpIHtcbiAgICAgICAgICAgIHM0ID0gdm9pZCAwO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICBzMSA9IHBlZyRjNTEoczMpO1xuICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgczEgPSBwZWckcGFyc2VfKCk7XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NCkge1xuICAgICAgICAgIHMyID0gcGVnJGMxMDtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTEpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczMgPSBbXTtcbiAgICAgICAgICBzNCA9IHBlZyRwYXJzZXN0cmljdEZ1bmN0aW9uUGFyYW1QYXJ0KCk7XG4gICAgICAgICAgd2hpbGUgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzMy5wdXNoKHM0KTtcbiAgICAgICAgICAgIHM0ID0gcGVnJHBhcnNlc3RyaWN0RnVuY3Rpb25QYXJhbVBhcnQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgIHMxID0gcGVnJGM1MihzMyk7XG4gICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZXN0cmljdEZ1bmN0aW9uUGFyYW1QYXJ0KCkge1xuICAgIHZhciBzMCwgczEsIHMyLCBzMztcblxuICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBbXTtcbiAgICBpZiAocGVnJGM1NC50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICBzMiA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICBwZWckY3VyclBvcysrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNTUpOyB9XG4gICAgfVxuICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgd2hpbGUgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMxLnB1c2goczIpO1xuICAgICAgICBpZiAocGVnJGM1NC50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgICAgczIgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM1NSk7IH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICBzMSA9IHBlZyRjNTYoczEpO1xuICAgIH1cbiAgICBzMCA9IHMxO1xuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckcGFyc2Vkb3VibGVhcG9zKCk7XG4gICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAzOSkge1xuICAgICAgICAgIHMxID0gcGVnJGM1NztcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNTgpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczIgPSBwZWckcGFyc2VpbmFwb3MoKTtcbiAgICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMzkpIHtcbiAgICAgICAgICAgICAgczMgPSBwZWckYzU3O1xuICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNTgpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgIHMxID0gcGVnJGM1OShzMik7XG4gICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAxMjMpIHtcbiAgICAgICAgICAgIHMxID0gcGVnJGM1O1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzYpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczIgPSBbXTtcbiAgICAgICAgICAgIHMzID0gcGVnJHBhcnNlc3RyaWN0RnVuY3Rpb25QYXJhbVBhcnQoKTtcbiAgICAgICAgICAgIHdoaWxlIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzMi5wdXNoKHMzKTtcbiAgICAgICAgICAgICAgczMgPSBwZWckcGFyc2VzdHJpY3RGdW5jdGlvblBhcmFtUGFydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMTI1KSB7XG4gICAgICAgICAgICAgICAgczMgPSBwZWckYzc7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzgpOyB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczEgPSBwZWckYzYwKHMyKTtcbiAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzUzKTsgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWRvdWJsZWFwb3MoKSB7XG4gICAgdmFyIHMwLCBzMTtcblxuICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjNjIpIHtcbiAgICAgIHMxID0gcGVnJGM2MjtcbiAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM2Myk7IH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgIHMxID0gcGVnJGM2NCgpO1xuICAgIH1cbiAgICBzMCA9IHMxO1xuICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzYxKTsgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWluYXBvcygpIHtcbiAgICB2YXIgczAsIHMxLCBzMjtcblxuICAgIHMwID0gcGVnJHBhcnNlZG91YmxlYXBvcygpO1xuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIHMxID0gW107XG4gICAgICBpZiAocGVnJGM2NS50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgIHMyID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzY2KTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHdoaWxlIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMxLnB1c2goczIpO1xuICAgICAgICAgIGlmIChwZWckYzY1LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICAgIHMyID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM2Nik7IH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzQoczEpO1xuICAgICAgfVxuICAgICAgczAgPSBzMTtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VxdW90ZWRDdXJseSgpIHtcbiAgICB2YXIgczAsIHMxLCBzMiwgczM7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzY3KSB7XG4gICAgICBzMSA9IHBlZyRjNjc7XG4gICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNjgpOyB9XG4gICAgfVxuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBbXTtcbiAgICAgIHMzID0gcGVnJHBhcnNlaW5hcG9zKCk7XG4gICAgICB3aGlsZSAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIucHVzaChzMyk7XG4gICAgICAgIHMzID0gcGVnJHBhcnNlaW5hcG9zKCk7XG4gICAgICB9XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAzOSkge1xuICAgICAgICAgIHMzID0gcGVnJGM1NztcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNTgpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgczEgPSBwZWckYzY5KHMyKTtcbiAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzcwKSB7XG4gICAgICAgIHMxID0gcGVnJGM3MDtcbiAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzcxKTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyID0gW107XG4gICAgICAgIHMzID0gcGVnJHBhcnNlaW5hcG9zKCk7XG4gICAgICAgIHdoaWxlIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMyLnB1c2goczMpO1xuICAgICAgICAgIHMzID0gcGVnJHBhcnNlaW5hcG9zKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAzOSkge1xuICAgICAgICAgICAgczMgPSBwZWckYzU3O1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzU4KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgczEgPSBwZWckYzcyKHMyKTtcbiAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlcXVvdGVkKCkge1xuICAgIHZhciBzMCwgczEsIHMyLCBzMywgczQsIHM1O1xuXG4gICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgczAgPSBwZWckcGFyc2VxdW90ZWRDdXJseSgpO1xuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIHMxID0gcGVnJGN1cnJQb3M7XG4gICAgICBzMiA9IHBlZyRjdXJyUG9zO1xuICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjNzQpIHtcbiAgICAgICAgczMgPSBwZWckYzc0O1xuICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNzUpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczQgPSBbXTtcbiAgICAgICAgczUgPSBwZWckcGFyc2VpbmFwb3MoKTtcbiAgICAgICAgd2hpbGUgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQucHVzaChzNSk7XG4gICAgICAgICAgczUgPSBwZWckcGFyc2VpbmFwb3MoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDM5KSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRjNTc7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNTgpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczI7XG4gICAgICAgICAgICBzMyA9IHBlZyRjNzYoczQpO1xuICAgICAgICAgICAgczIgPSBzMztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMjtcbiAgICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMjtcbiAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczI7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBwZWckY3VyclBvcztcbiAgICAgICAgczMgPSBwZWckYzIoKTtcbiAgICAgICAgaWYgKHMzKSB7XG4gICAgICAgICAgczMgPSB2b2lkIDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMyID0gW3MyLCBzM107XG4gICAgICAgICAgczEgPSBzMjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjNzcoczEpO1xuICAgICAgfVxuICAgICAgczAgPSBzMTtcbiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDM5KSB7XG4gICAgICAgICAgczAgPSBwZWckYzU3O1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM1OCk7IH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM3Myk7IH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VwbGFpbkNoYXIoKSB7XG4gICAgdmFyIHMwLCBzMTtcblxuICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgIGlmIChwZWckYzc5LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgIHMwID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM4MCk7IH1cbiAgICB9XG4gICAgcGVnJHNpbGVudEZhaWxzLS07XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNzgpOyB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlY2hhcigpIHtcbiAgICB2YXIgczAsIHMxLCBzMjtcblxuICAgIHMwID0gcGVnJHBhcnNlZG91YmxlYXBvcygpO1xuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckcGFyc2VxdW90ZWQoKTtcbiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDM1KSB7XG4gICAgICAgICAgczEgPSBwZWckYzA7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzEpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgcGVnJHNhdmVkUG9zID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgczIgPSBwZWckYzgxKHMxKTtcbiAgICAgICAgICBpZiAoczIpIHtcbiAgICAgICAgICAgIHMyID0gdm9pZCAwO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICBzMSA9IHBlZyRjODIoczEpO1xuICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczAgPSBwZWckcGFyc2VwbGFpbkNoYXIoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWRpZ2l0cygpIHtcbiAgICB2YXIgczAsIHMxLCBzMjtcblxuICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBbXTtcbiAgICBpZiAocGVnJGM4NC50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICBzMiA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICBwZWckY3VyclBvcysrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjODUpOyB9XG4gICAgfVxuICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgd2hpbGUgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMxLnB1c2goczIpO1xuICAgICAgICBpZiAocGVnJGM4NC50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgICAgczIgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM4NSk7IH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBpbnB1dC5zdWJzdHJpbmcoczAsIHBlZyRjdXJyUG9zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgczAgPSBzMTtcbiAgICB9XG4gICAgcGVnJHNpbGVudEZhaWxzLS07XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjODMpOyB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlXygpIHtcbiAgICB2YXIgczAsIHMxLCBzMjtcblxuICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBbXTtcbiAgICBpZiAocGVnJGM4Ny50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICBzMiA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICBwZWckY3VyclBvcysrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjODgpOyB9XG4gICAgfVxuICAgIHdoaWxlIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczEucHVzaChzMik7XG4gICAgICBpZiAocGVnJGM4Ny50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgIHMyID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzg4KTsgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gaW5wdXQuc3Vic3RyaW5nKHMwLCBwZWckY3VyclBvcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMwID0gczE7XG4gICAgfVxuICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzg2KTsgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG5cbiAgICB2YXIgaW5QbHVyYWwgPSBbZmFsc2VdO1xuXG5cbiAgcGVnJHJlc3VsdCA9IHBlZyRzdGFydFJ1bGVGdW5jdGlvbigpO1xuXG4gIGlmIChwZWckcmVzdWx0ICE9PSBwZWckRkFJTEVEICYmIHBlZyRjdXJyUG9zID09PSBpbnB1dC5sZW5ndGgpIHtcbiAgICByZXR1cm4gcGVnJHJlc3VsdDtcbiAgfSBlbHNlIHtcbiAgICBpZiAocGVnJHJlc3VsdCAhPT0gcGVnJEZBSUxFRCAmJiBwZWckY3VyclBvcyA8IGlucHV0Lmxlbmd0aCkge1xuICAgICAgcGVnJGZhaWwocGVnJGVuZEV4cGVjdGF0aW9uKCkpO1xuICAgIH1cblxuICAgIHRocm93IHBlZyRidWlsZFN0cnVjdHVyZWRFcnJvcihcbiAgICAgIHBlZyRtYXhGYWlsRXhwZWN0ZWQsXG4gICAgICBwZWckbWF4RmFpbFBvcyA8IGlucHV0Lmxlbmd0aCA/IGlucHV0LmNoYXJBdChwZWckbWF4RmFpbFBvcykgOiBudWxsLFxuICAgICAgcGVnJG1heEZhaWxQb3MgPCBpbnB1dC5sZW5ndGhcbiAgICAgICAgPyBwZWckY29tcHV0ZUxvY2F0aW9uKHBlZyRtYXhGYWlsUG9zLCBwZWckbWF4RmFpbFBvcyArIDEpXG4gICAgICAgIDogcGVnJGNvbXB1dGVMb2NhdGlvbihwZWckbWF4RmFpbFBvcywgcGVnJG1heEZhaWxQb3MpXG4gICAgKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgU3ludGF4RXJyb3I6IHBlZyRTeW50YXhFcnJvcixcbiAgcGFyc2U6ICAgICAgIHBlZyRwYXJzZVxufTtcbiIsInZhciByZXNlcnZlZCA9IHJlcXVpcmUoJ3Jlc2VydmVkLXdvcmRzJyk7XG52YXIgcGFyc2UgPSByZXF1aXJlKCdtZXNzYWdlZm9ybWF0LXBhcnNlcicpLnBhcnNlO1xuXG4vKiogQ3JlYXRlcyBhIG5ldyBtZXNzYWdlIGNvbXBpbGVyLiBDYWxsZWQgaW50ZXJuYWxseSBmcm9tIHtAbGluayBNZXNzYWdlRm9ybWF0I2NvbXBpbGV9LlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7TWVzc2FnZUZvcm1hdH0gbWYgLSBBIE1lc3NhZ2VGb3JtYXQgaW5zdGFuY2VcbiAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBsb2NhbGVzIC0gVGhlIGxvY2FsZSBpZGVudGlmaWVycyB0aGF0IGFyZSB1c2VkIGJ5IHRoZSBjb21waWxlZCBmdW5jdGlvbnNcbiAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBydW50aW1lIC0gTmFtZXMgb2YgdGhlIGNvcmUgcnVudGltZSBmdW5jdGlvbnMgdGhhdCBhcmUgdXNlZCBieSB0aGUgY29tcGlsZWQgZnVuY3Rpb25zXG4gKiBAcHJvcGVydHkge29iamVjdH0gZm9ybWF0dGVycyAtIFRoZSBmb3JtYXR0ZXIgZnVuY3Rpb25zIHRoYXQgYXJlIHVzZWQgYnkgdGhlIGNvbXBpbGVkIGZ1bmN0aW9uc1xuICovXG5mdW5jdGlvbiBDb21waWxlcihtZikge1xuICB0aGlzLm1mID0gbWY7XG4gIHRoaXMubGMgPSBudWxsO1xuICB0aGlzLmxvY2FsZXMgPSB7fTtcbiAgdGhpcy5ydW50aW1lID0ge307XG4gIHRoaXMuZm9ybWF0dGVycyA9IHt9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IENvbXBpbGVyO1xuXG4vKiogVXRpbGl0eSBmdW5jdGlvbiBmb3IgcXVvdGluZyBhbiBPYmplY3QncyBrZXkgdmFsdWUgaWYgcmVxdWlyZWRcbiAqXG4gKiAgUXVvdGVzIHRoZSBrZXkgaWYgaXQgY29udGFpbnMgaW52YWxpZCBjaGFyYWN0ZXJzIG9yIGlzIGFuXG4gKiAgRUNNQVNjcmlwdCAzcmQgRWRpdGlvbiByZXNlcnZlZCB3b3JkIChmb3IgSUU4KS5cbiAqL1xuQ29tcGlsZXIucHJvcG5hbWUgPSBmdW5jdGlvbihrZXksIG9iaikge1xuICBpZiAoXG4gICAgL15bQS1aXyRdWzAtOUEtWl8kXSokL2kudGVzdChrZXkpICYmXG4gICAgW1xuICAgICAgJ2JyZWFrJyxcbiAgICAgICdjb250aW51ZScsXG4gICAgICAnZGVsZXRlJyxcbiAgICAgICdlbHNlJyxcbiAgICAgICdmb3InLFxuICAgICAgJ2Z1bmN0aW9uJyxcbiAgICAgICdpZicsXG4gICAgICAnaW4nLFxuICAgICAgJ25ldycsXG4gICAgICAncmV0dXJuJyxcbiAgICAgICd0aGlzJyxcbiAgICAgICd0eXBlb2YnLFxuICAgICAgJ3ZhcicsXG4gICAgICAndm9pZCcsXG4gICAgICAnd2hpbGUnLFxuICAgICAgJ3dpdGgnLFxuICAgICAgJ2Nhc2UnLFxuICAgICAgJ2NhdGNoJyxcbiAgICAgICdkZWZhdWx0JyxcbiAgICAgICdkbycsXG4gICAgICAnZmluYWxseScsXG4gICAgICAnaW5zdGFuY2VvZicsXG4gICAgICAnc3dpdGNoJyxcbiAgICAgICd0aHJvdycsXG4gICAgICAndHJ5J1xuICAgIF0uaW5kZXhPZihrZXkpIDwgMFxuICApIHtcbiAgICByZXR1cm4gb2JqID8gb2JqICsgJy4nICsga2V5IDoga2V5O1xuICB9IGVsc2Uge1xuICAgIHZhciBqa2V5ID0gSlNPTi5zdHJpbmdpZnkoa2V5KTtcbiAgICByZXR1cm4gb2JqID8gb2JqICsgJ1snICsgamtleSArICddJyA6IGprZXk7XG4gIH1cbn07XG5cbi8qKiBVdGlsaXR5IGZ1bmN0aW9uIGZvciBlc2NhcGluZyBhIGZ1bmN0aW9uIG5hbWUgaWYgcmVxdWlyZWRcbiAqL1xuQ29tcGlsZXIuZnVuY25hbWUgPSBmdW5jdGlvbihrZXkpIHtcbiAgdmFyIGZuID0ga2V5LnRyaW0oKS5yZXBsYWNlKC9cXFcrL2csICdfJyk7XG4gIHJldHVybiByZXNlcnZlZC5jaGVjayhmbiwgJ2VzMjAxNScsIHRydWUpIHx8IC9eXFxkLy50ZXN0KGZuKSA/ICdfJyArIGZuIDogZm47XG59O1xuXG4vKiogVXRpbGl0eSBmb3JtYXR0ZXIgZnVuY3Rpb24gZm9yIGVuZm9yY2luZyBCaWRpIFN0cnVjdHVyZWQgVGV4dCBieSB1c2luZyBVQ0NcbiAqXG4gKiAgTGlzdCBpbmxpbmVkIGZyb20gZGF0YSBleHRyYWN0ZWQgZnJvbSBDTERSIHYyNyAmIHYyOFxuICogIFRvIHZlcmlmeS9yZWNyZWF0ZSwgdXNlIHRoZSBmb2xsb3dpbmc6XG4gKlxuICogICAgIGdpdCBjbG9uZSBodHRwczovL2dpdGh1Yi5jb20vdW5pY29kZS1jbGRyL2NsZHItbWlzYy1mdWxsLmdpdFxuICogICAgIGNkIGNsZHItbWlzYy1mdWxsL21haW4vXG4gKiAgICAgZ3JlcCBjaGFyYWN0ZXJPcmRlciAtciAuIHwgdHIgJ1wiLycgJ1xcdCcgfCBjdXQgLWYyLDYgfCBncmVwIC1DNCByaWdodC10by1sZWZ0XG4gKi9cbkNvbXBpbGVyLmJpZGlNYXJrVGV4dCA9IGZ1bmN0aW9uKHRleHQsIGxvY2FsZSkge1xuICBmdW5jdGlvbiBpc0xvY2FsZVJUTChsb2NhbGUpIHtcbiAgICB2YXIgcnRsTGFuZ3VhZ2VzID0gW1xuICAgICAgJ2FyJyxcbiAgICAgICdja2InLFxuICAgICAgJ2ZhJyxcbiAgICAgICdoZScsXG4gICAgICAna3MoJHxbXmJmaF0pJyxcbiAgICAgICdscmMnLFxuICAgICAgJ216bicsXG4gICAgICAncGEtQXJhYicsXG4gICAgICAncHMnLFxuICAgICAgJ3VnJyxcbiAgICAgICd1cicsXG4gICAgICAndXotQXJhYicsXG4gICAgICAneWknXG4gICAgXTtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cCgnXicgKyBydGxMYW5ndWFnZXMuam9pbignfF4nKSkudGVzdChsb2NhbGUpO1xuICB9XG4gIHZhciBtYXJrID0gSlNPTi5zdHJpbmdpZnkoaXNMb2NhbGVSVEwobG9jYWxlKSA/ICdcXHUyMDBGJyA6ICdcXHUyMDBFJyk7XG4gIHJldHVybiBtYXJrICsgJyArICcgKyB0ZXh0ICsgJyArICcgKyBtYXJrO1xufTtcblxuLyoqIEBwcml2YXRlICovXG5Db21waWxlci5wcm90b3R5cGUuY2FzZXMgPSBmdW5jdGlvbih0b2tlbiwgcGx1cmFsKSB7XG4gIHZhciBuZWVkT3RoZXIgPSB0b2tlbi50eXBlID09PSAnc2VsZWN0JyB8fCAhdGhpcy5tZi5oYXNDdXN0b21QbHVyYWxGdW5jcztcbiAgdmFyIHIgPSB0b2tlbi5jYXNlcy5tYXAoZnVuY3Rpb24oYykge1xuICAgIGlmIChjLmtleSA9PT0gJ290aGVyJykgbmVlZE90aGVyID0gZmFsc2U7XG4gICAgdmFyIHMgPSBjLnRva2Vucy5tYXAoZnVuY3Rpb24odG9rKSB7XG4gICAgICByZXR1cm4gdGhpcy50b2tlbih0b2ssIHBsdXJhbCk7XG4gICAgfSwgdGhpcyk7XG4gICAgcmV0dXJuIENvbXBpbGVyLnByb3BuYW1lKGMua2V5KSArICc6ICcgKyAocy5qb2luKCcgKyAnKSB8fCAnXCJcIicpO1xuICB9LCB0aGlzKTtcbiAgaWYgKG5lZWRPdGhlcilcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyAnb3RoZXInIGZvcm0gZm91bmQgaW4gXCIgKyBKU09OLnN0cmluZ2lmeSh0b2tlbikpO1xuICByZXR1cm4gJ3sgJyArIHIuam9pbignLCAnKSArICcgfSc7XG59O1xuXG4vKiogQHByaXZhdGUgKi9cbkNvbXBpbGVyLnByb3RvdHlwZS50b2tlbiA9IGZ1bmN0aW9uKHRva2VuLCBwbHVyYWwpIHtcbiAgaWYgKHR5cGVvZiB0b2tlbiA9PSAnc3RyaW5nJykgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRva2VuKTtcblxuICB2YXIgZm4sXG4gICAgYXJncyA9IFtDb21waWxlci5wcm9wbmFtZSh0b2tlbi5hcmcsICdkJyldO1xuICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICBjYXNlICdhcmd1bWVudCc6XG4gICAgICByZXR1cm4gdGhpcy5tZi5iaWRpU3VwcG9ydFxuICAgICAgICA/IENvbXBpbGVyLmJpZGlNYXJrVGV4dChhcmdzWzBdLCB0aGlzLmxjKVxuICAgICAgICA6IGFyZ3NbMF07XG5cbiAgICBjYXNlICdzZWxlY3QnOlxuICAgICAgZm4gPSAnc2VsZWN0JztcbiAgICAgIGlmIChwbHVyYWwgJiYgdGhpcy5tZi5zdHJpY3ROdW1iZXJTaWduKSBwbHVyYWwgPSBudWxsO1xuICAgICAgYXJncy5wdXNoKHRoaXMuY2FzZXModG9rZW4sIHBsdXJhbCkpO1xuICAgICAgdGhpcy5ydW50aW1lLnNlbGVjdCA9IHRydWU7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NlbGVjdG9yZGluYWwnOlxuICAgICAgZm4gPSAncGx1cmFsJztcbiAgICAgIGFyZ3MucHVzaCgwLCBDb21waWxlci5mdW5jbmFtZSh0aGlzLmxjKSwgdGhpcy5jYXNlcyh0b2tlbiwgdG9rZW4pLCAxKTtcbiAgICAgIHRoaXMubG9jYWxlc1t0aGlzLmxjXSA9IHRydWU7XG4gICAgICB0aGlzLnJ1bnRpbWUucGx1cmFsID0gdHJ1ZTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAncGx1cmFsJzpcbiAgICAgIGZuID0gJ3BsdXJhbCc7XG4gICAgICBhcmdzLnB1c2goXG4gICAgICAgIHRva2VuLm9mZnNldCB8fCAwLFxuICAgICAgICBDb21waWxlci5mdW5jbmFtZSh0aGlzLmxjKSxcbiAgICAgICAgdGhpcy5jYXNlcyh0b2tlbiwgdG9rZW4pXG4gICAgICApO1xuICAgICAgdGhpcy5sb2NhbGVzW3RoaXMubGNdID0gdHJ1ZTtcbiAgICAgIHRoaXMucnVudGltZS5wbHVyYWwgPSB0cnVlO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICBpZiAoXG4gICAgICAgICEodG9rZW4ua2V5IGluIHRoaXMubWYuZm10KSAmJlxuICAgICAgICB0b2tlbi5rZXkgaW4gdGhpcy5tZi5jb25zdHJ1Y3Rvci5mb3JtYXR0ZXJzXG4gICAgICApIHtcbiAgICAgICAgdmFyIGZtdCA9IHRoaXMubWYuY29uc3RydWN0b3IuZm9ybWF0dGVyc1t0b2tlbi5rZXldO1xuICAgICAgICB0aGlzLm1mLmZtdFt0b2tlbi5rZXldID0gZm10KHRoaXMubWYpO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLm1mLmZtdFt0b2tlbi5rZXldKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ0Zvcm1hdHRpbmcgZnVuY3Rpb24gJyArIEpTT04uc3RyaW5naWZ5KHRva2VuLmtleSkgKyAnIG5vdCBmb3VuZCEnXG4gICAgICAgICk7XG4gICAgICBhcmdzLnB1c2goSlNPTi5zdHJpbmdpZnkodGhpcy5sYykpO1xuICAgICAgaWYgKHRva2VuLnBhcmFtKSB7XG4gICAgICAgIGlmIChwbHVyYWwgJiYgdGhpcy5tZi5zdHJpY3ROdW1iZXJTaWduKSBwbHVyYWwgPSBudWxsO1xuICAgICAgICB2YXIgcyA9IHRva2VuLnBhcmFtLnRva2Vucy5tYXAoZnVuY3Rpb24odG9rKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMudG9rZW4odG9rLCBwbHVyYWwpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgYXJncy5wdXNoKCcoJyArIChzLmpvaW4oJyArICcpIHx8ICdcIlwiJykgKyAnKS50cmltKCknKTtcbiAgICAgIH1cbiAgICAgIGZuID0gQ29tcGlsZXIucHJvcG5hbWUodG9rZW4ua2V5LCAnZm10Jyk7XG4gICAgICB0aGlzLmZvcm1hdHRlcnNbdG9rZW4ua2V5XSA9IHRydWU7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ29jdG90aG9ycGUnOlxuICAgICAgaWYgKCFwbHVyYWwpIHJldHVybiAnXCIjXCInO1xuICAgICAgZm4gPSAnbnVtYmVyJztcbiAgICAgIGFyZ3MgPSBbQ29tcGlsZXIucHJvcG5hbWUocGx1cmFsLmFyZywgJ2QnKSwgSlNPTi5zdHJpbmdpZnkocGx1cmFsLmFyZyldO1xuICAgICAgaWYgKHBsdXJhbC5vZmZzZXQpIGFyZ3MucHVzaChwbHVyYWwub2Zmc2V0KTtcbiAgICAgIHRoaXMucnVudGltZS5udW1iZXIgPSB0cnVlO1xuICAgICAgYnJlYWs7XG4gIH1cblxuICBpZiAoIWZuKSB0aHJvdyBuZXcgRXJyb3IoJ1BhcnNlciBlcnJvciBmb3IgdG9rZW4gJyArIEpTT04uc3RyaW5naWZ5KHRva2VuKSk7XG4gIHJldHVybiBmbiArICcoJyArIGFyZ3Muam9pbignLCAnKSArICcpJztcbn07XG5cbi8qKiBSZWN1cnNpdmVseSBjb21waWxlIGEgc3RyaW5nIG9yIGEgdHJlZSBvZiBzdHJpbmdzIHRvIEphdmFTY3JpcHQgZnVuY3Rpb24gc291cmNlc1xuICpcbiAqICBJZiBgc3JjYCBpcyBhbiBvYmplY3Qgd2l0aCBhIGtleSB0aGF0IGlzIGFsc28gcHJlc2VudCBpbiBgcGx1cmFsc2AsIHRoZSBrZXlcbiAqICBpbiBxdWVzdGlvbiB3aWxsIGJlIHVzZWQgYXMgdGhlIGxvY2FsZSBpZGVudGlmaWVyIGZvciBpdHMgdmFsdWUuIFRvIGRpc2FibGVcbiAqICB0aGUgY29tcGlsZS10aW1lIGNoZWNrcyBmb3IgcGx1cmFsICYgc2VsZWN0b3JkaW5hbCBrZXlzIHdoaWxlIG1haW50YWluaW5nXG4gKiAgbXVsdGktbG9jYWxlIHN1cHBvcnQsIHVzZSBmYWxzeSB2YWx1ZXMgaW4gYHBsdXJhbHNgLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfG9iamVjdH0gc3JjIC0gdGhlIHNvdXJjZSBmb3Igd2hpY2ggdGhlIEpTIGNvZGUgc2hvdWxkIGJlIGdlbmVyYXRlZFxuICogQHBhcmFtIHtzdHJpbmd9IGxjIC0gdGhlIGRlZmF1bHQgbG9jYWxlXG4gKiBAcGFyYW0ge29iamVjdH0gcGx1cmFscyAtIGEgbWFwIG9mIHBsdXJhbGl6YXRpb24ga2V5cyBmb3IgYWxsIGF2YWlsYWJsZSBsb2NhbGVzXG4gKi9cbkNvbXBpbGVyLnByb3RvdHlwZS5jb21waWxlID0gZnVuY3Rpb24oc3JjLCBsYywgcGx1cmFscykge1xuICBpZiAodHlwZW9mIHNyYyAhPSAnb2JqZWN0Jykge1xuICAgIHRoaXMubGMgPSBsYztcbiAgICB2YXIgcGMgPSBwbHVyYWxzW2xjXSB8fCB7IGNhcmRpbmFsOiBbXSwgb3JkaW5hbDogW10gfTtcbiAgICBwYy5zdHJpY3QgPSAhIXRoaXMubWYuc3RyaWN0TnVtYmVyU2lnbjtcbiAgICB2YXIgciA9IHBhcnNlKHNyYywgcGMpLm1hcChmdW5jdGlvbih0b2tlbikge1xuICAgICAgcmV0dXJuIHRoaXMudG9rZW4odG9rZW4pO1xuICAgIH0sIHRoaXMpO1xuICAgIHJldHVybiAnZnVuY3Rpb24oZCkgeyByZXR1cm4gJyArIChyLmpvaW4oJyArICcpIHx8ICdcIlwiJykgKyAnOyB9JztcbiAgfSBlbHNlIHtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgZm9yICh2YXIga2V5IGluIHNyYykge1xuICAgICAgdmFyIGxjS2V5ID0gcGx1cmFscy5oYXNPd25Qcm9wZXJ0eShrZXkpID8ga2V5IDogbGM7XG4gICAgICByZXN1bHRba2V5XSA9IHRoaXMuY29tcGlsZShzcmNba2V5XSwgbGNLZXksIHBsdXJhbHMpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59O1xuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tZmFsbHRocm91Z2ggKi9cblxuLyoqIFJlcHJlc2VudCBhIGRhdGUgYXMgYSBzaG9ydC9kZWZhdWx0L2xvbmcvZnVsbCBzdHJpbmdcbiAqXG4gKiBUaGUgaW5wdXQgdmFsdWUgbmVlZHMgdG8gYmUgaW4gYSBmb3JtIHRoYXQgdGhlXG4gKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvRGF0ZSBEYXRlIG9iamVjdH1cbiAqIGNhbiBwcm9jZXNzIHVzaW5nIGl0cyBzaW5nbGUtYXJndW1lbnQgZm9ybSwgYG5ldyBEYXRlKHZhbHVlKWAuXG4gKlxuICogQG1lbWJlcm9mIEZvcm1hdHRlcnNcbiAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gdmFsdWUgLSBFaXRoZXIgYSBVbml4IGVwb2NoIHRpbWUgaW4gbWlsbGlzZWNvbmRzLCBvciBhIHN0cmluZyB2YWx1ZSByZXByZXNlbnRpbmcgYSBkYXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gW3R5cGU9J2RlZmF1bHQnXSAtIE9uZSBvZiBgJ3Nob3J0J2AsIGAnZGVmYXVsdCdgLCBgJ2xvbmcnYCAsIG9yIGBmdWxsYFxuICpcbiAqIEBleGFtcGxlXG4gKiB2YXIgbWYgPSBuZXcgTWVzc2FnZUZvcm1hdChbJ2VuJywgJ2ZpJ10pO1xuICpcbiAqIG1mLmNvbXBpbGUoJ1RvZGF5IGlzIHtULCBkYXRlfScpKHsgVDogRGF0ZS5ub3coKSB9KVxuICogLy8gJ1RvZGF5IGlzIEZlYiAyMSwgMjAxNidcbiAqXG4gKiBtZi5jb21waWxlKCdUw6Ruw6TDpG4gb24ge1QsIGRhdGV9JywgJ2ZpJykoeyBUOiBEYXRlLm5vdygpIH0pXG4gKiAvLyAnVMOkbsOkw6RuIG9uIDIxLiBoZWxtaWt1dXRhIDIwMTYnXG4gKlxuICogbWYuY29tcGlsZSgnVW5peCB0aW1lIHN0YXJ0ZWQgb24ge1QsIGRhdGUsIGZ1bGx9JykoeyBUOiAwIH0pXG4gKiAvLyAnVW5peCB0aW1lIHN0YXJ0ZWQgb24gVGh1cnNkYXksIEphbnVhcnkgMSwgMTk3MCdcbiAqXG4gKiB2YXIgY2YgPSBtZi5jb21waWxlKCd7c3lzfSBiZWNhbWUgb3BlcmF0aW9uYWwgb24ge2QwLCBkYXRlLCBzaG9ydH0nKTtcbiAqIGNmKHsgc3lzOiAnSEFMIDkwMDAnLCBkMDogJzEyIEphbnVhcnkgMTk5OScgfSlcbiAqIC8vICdIQUwgOTAwMCBiZWNhbWUgb3BlcmF0aW9uYWwgb24gMS8xMi8xOTk5J1xuICovXG5mdW5jdGlvbiBkYXRlKHYsIGxjLCBwKSB7XG4gIHZhciBvID0geyBkYXk6ICdudW1lcmljJywgbW9udGg6ICdzaG9ydCcsIHllYXI6ICdudW1lcmljJyB9O1xuICBzd2l0Y2ggKHApIHtcbiAgICBjYXNlICdmdWxsJzpcbiAgICAgIG8ud2Vla2RheSA9ICdsb25nJztcbiAgICBjYXNlICdsb25nJzpcbiAgICAgIG8ubW9udGggPSAnbG9uZyc7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzaG9ydCc6XG4gICAgICBvLm1vbnRoID0gJ251bWVyaWMnO1xuICB9XG4gIHJldHVybiBuZXcgRGF0ZSh2KS50b0xvY2FsZURhdGVTdHJpbmcobGMsIG8pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZGF0ZTtcbn07XG4iLCIvKipcbiAqIFJlcHJlc2VudCBhIGR1cmF0aW9uIGluIHNlY29uZHMgYXMgYSBzdHJpbmdcbiAqXG4gKiBJbnB1dCBzaG91bGQgYmUgYSBmaW5pdGUgbnVtYmVyOyBvdXRwdXQgd2lsbCBpbmNsdWRlIG9uZSBvciB0d28gYDpgXG4gKiBzZXBhcmF0b3JzLCBhbmQgbWF0Y2ggdGhlIHBhdHRlcm4gYGhoaGg6bW06c3NgLCBwb3NzaWJseSB3aXRoIGEgbGVhZGluZyBgLWBcbiAqIGZvciBuZWdhdGl2ZSB2YWx1ZXMgYW5kIGEgdHJhaWxpbmcgYC5zc3NgIHBhcnQgZm9yIG5vbi1pbnRlZ2VyIGlucHV0XG4gKlxuICogQG1lbWJlcm9mIEZvcm1hdHRlcnNcbiAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gdmFsdWUgLSBBIGZpbml0ZSBudW1iZXIsIG9yIGl0cyBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAqXG4gKiBAZXhhbXBsZVxuICogdmFyIG1mID0gbmV3IE1lc3NhZ2VGb3JtYXQoKTtcbiAqXG4gKiBtZi5jb21waWxlKCdJdCBoYXMgYmVlbiB7RCwgZHVyYXRpb259JykoeyBEOiAxMjMgfSlcbiAqIC8vICdJdCBoYXMgYmVlbiAyOjAzJ1xuICpcbiAqIG1mLmNvbXBpbGUoJ0NvdW50ZG93bjoge0QsIGR1cmF0aW9ufScpKHsgRDogLTE1MTIwMC40MiB9KVxuICogLy8gJ0NvdW50ZG93bjogLTQyOjAwOjAwLjQyMCdcbiAqL1xuZnVuY3Rpb24gZHVyYXRpb24odmFsdWUpIHtcbiAgaWYgKCFpc0Zpbml0ZSh2YWx1ZSkpIHJldHVybiBTdHJpbmcodmFsdWUpO1xuICB2YXIgc2lnbiA9ICcnO1xuICBpZiAodmFsdWUgPCAwKSB7XG4gICAgc2lnbiA9ICctJztcbiAgICB2YWx1ZSA9IE1hdGguYWJzKHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICB2YWx1ZSA9IE51bWJlcih2YWx1ZSk7XG4gIH1cbiAgdmFyIHNlYyA9IHZhbHVlICUgNjA7XG4gIHZhciBwYXJ0cyA9IFtNYXRoLnJvdW5kKHNlYykgPT09IHNlYyA/IHNlYyA6IHNlYy50b0ZpeGVkKDMpXTtcbiAgaWYgKHZhbHVlIDwgNjApIHtcbiAgICBwYXJ0cy51bnNoaWZ0KDApOyAvLyBhdCBsZWFzdCBvbmUgOiBpcyByZXF1aXJlZFxuICB9IGVsc2Uge1xuICAgIHZhbHVlID0gTWF0aC5yb3VuZCgodmFsdWUgLSBwYXJ0c1swXSkgLyA2MCk7XG4gICAgcGFydHMudW5zaGlmdCh2YWx1ZSAlIDYwKTsgLy8gbWludXRlc1xuICAgIGlmICh2YWx1ZSA+PSA2MCkge1xuICAgICAgdmFsdWUgPSBNYXRoLnJvdW5kKCh2YWx1ZSAtIHBhcnRzWzBdKSAvIDYwKTtcbiAgICAgIHBhcnRzLnVuc2hpZnQodmFsdWUpOyAvLyBob3Vyc1xuICAgIH1cbiAgfVxuICB2YXIgZmlyc3QgPSBwYXJ0cy5zaGlmdCgpO1xuICByZXR1cm4gKFxuICAgIHNpZ24gK1xuICAgIGZpcnN0ICtcbiAgICAnOicgK1xuICAgIHBhcnRzXG4gICAgICAubWFwKGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgcmV0dXJuIG4gPCAxMCA/ICcwJyArIFN0cmluZyhuKSA6IFN0cmluZyhuKTtcbiAgICAgIH0pXG4gICAgICAuam9pbignOicpXG4gICk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBkdXJhdGlvbjtcbn07XG4iLCIvKipcbiAqIEBjbGFzc2Rlc2NcbiAqIERlZmF1bHQgbnVtYmVyIGZvcm1hdHRpbmcgZnVuY3Rpb25zIGluIHRoZSBzdHlsZSBvZiBJQ1Unc1xuICoge0BsaW5rIGh0dHA6Ly9pY3UtcHJvamVjdC5vcmcvYXBpcmVmL2ljdTRqL2NvbS9pYm0vaWN1L3RleHQvTWVzc2FnZUZvcm1hdC5odG1sIHNpbXBsZUFyZyBzeW50YXh9XG4gKiBpbXBsZW1lbnRlZCB1c2luZyB0aGVcbiAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9JbnRsIEludGx9XG4gKiBvYmplY3QgZGVmaW5lZCBieSBFQ01BLTQwMi5cbiAqXG4gKiBJbiBNZXNzYWdlRm9ybWF0IHNvdXJjZSwgYSBmb3JtYXR0ZXIgZnVuY3Rpb24gaXMgY2FsbGVkIHdpdGggdGhlIHN5bnRheFxuICogYHt2YXIsIG5hbWUsIGFyZ31gLCB3aGVyZSBgdmFyYCBpcyBhIHZhcmlhYmxlLCBgbmFtZWAgaXMgdGhlIGZvcm1hdHRlciBuYW1lXG4gKiAoYnkgZGVmYXVsdCwgZWl0aGVyIGBkYXRlYCwgYGR1cmF0aW9uYCwgYG51bWJlcmAgb3IgYHRpbWVgOyBgc3BlbGxvdXRgIGFuZFxuICogYG9yZGluYWxgIGFyZSBub3Qgc3VwcG9ydGVkIGJ5IGRlZmF1bHQpLCBhbmQgYGFyZ2AgaXMgYW4gb3B0aW9uYWwgc3RyaW5nXG4gKiBhcmd1bWVudC5cbiAqXG4gKiBJbiBKYXZhU2NyaXB0LCBhIGZvcm1hdHRlciBpcyBhIGZ1bmN0aW9uIGNhbGxlZCB3aXRoIHRocmVlIHBhcmFtZXRlcnM6XG4gKiAgIC0gVGhlICoqYHZhbHVlYCoqIG9mIHRoZSB2YXJpYWJsZTsgdGhpcyBjYW4gYmUgb2YgYW55IHVzZXItZGVmaW5lZCB0eXBlXG4gKiAgIC0gVGhlIGN1cnJlbnQgKipgbG9jYWxlYCoqIGNvZGVcbiAqICAgLSBUaGUgdHJpbW1lZCAqKmBhcmdgKiogc3RyaW5nIHZhbHVlLCBvciBgbnVsbGAgaWYgbm90IHNldFxuICpcbiAqIEFzIGZvcm1hdHRlciBmdW5jdGlvbnMgbWF5IGJlIHVzZWQgaW4gYSBwcmVjb21waWxlZCBjb250ZXh0LCB0aGV5IHNob3VsZCBub3RcbiAqIHJlZmVyIHRvIGFueSB2YXJpYWJsZXMgdGhhdCBhcmUgbm90IGRlZmluZWQgYnkgdGhlIGZ1bmN0aW9uIHBhcmFtZXRlcnMgb3JcbiAqIHdpdGhpbiB0aGUgZnVuY3Rpb24gYm9keS4gVG8gYWRkIHlvdXIgb3duIGZvcm1hdHRlciwgZWl0aGVyIGFkZCBpdCB0byB0aGVcbiAqIHN0YXRpYyBgTWVzc2FnZUZvcm1hdC5mb3JtYXR0ZXJzYCBvYmplY3QsIG9yIHVzZVxuICoge0BsaW5rIE1lc3NhZ2VGb3JtYXQjYWRkRm9ybWF0dGVyc30gdG8gYWRkIGl0IHRvIGEgTWVzc2FnZUZvcm1hdCBpbnN0YW5jZS5cbiAqXG4gKiBAY2xhc3MgRm9ybWF0dGVyc1xuICogQHByaXZhdGVcbiAqIEBoaWRlY29uc3RydWN0b3JcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZGF0ZTogcmVxdWlyZSgnLi9kYXRlJyksXG4gIGR1cmF0aW9uOiByZXF1aXJlKCcuL2R1cmF0aW9uJyksXG4gIG51bWJlcjogcmVxdWlyZSgnLi9udW1iZXInKSxcbiAgdGltZTogcmVxdWlyZSgnLi90aW1lJylcbn07XG4iLCIvKiBnbG9iYWwgQ1VSUkVOQ1ksIEludGwgKi9cblxuLyoqIFJlcHJlc2VudCBhIG51bWJlciBhcyBhbiBpbnRlZ2VyLCBwZXJjZW50IG9yIGN1cnJlbmN5IHZhbHVlXG4gKlxuICogIEF2YWlsYWJsZSBpbiBNZXNzYWdlRm9ybWF0IHN0cmluZ3MgYXMgYHtWQVIsIG51bWJlciwgaW50ZWdlcnxwZXJjZW50fGN1cnJlbmN5fWAuXG4gKiAgSW50ZXJuYWxseSwgY2FsbHMgSW50bC5OdW1iZXJGb3JtYXQgd2l0aCBhcHByb3ByaWF0ZSBwYXJhbWV0ZXJzLiBgY3VycmVuY3lgIHdpbGxcbiAqICBkZWZhdWx0IHRvIFVTRDsgdG8gY2hhbmdlLCBzZXQgYE1lc3NhZ2VGb3JtYXQjY3VycmVuY3lgIHRvIHRoZSBhcHByb3ByaWF0ZVxuICogIHRocmVlLWxldHRlciBjdXJyZW5jeSBjb2RlLCBvciB1c2UgdGhlIGBjdXJyZW5jeTpFVVJgIGZvcm0gb2YgdGhlIGFyZ3VtZW50LlxuICpcbiAqIEBtZW1iZXJvZiBGb3JtYXR0ZXJzXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gb3BlcmF0ZSBvblxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBPbmUgb2YgYCdpbnRlZ2VyJ2AsIGAncGVyY2VudCdgICwgYCdjdXJyZW5jeSdgLCBvciBgL2N1cnJlbmN5OltBLVpdezN9L2BcbiAqXG4gKiBAZXhhbXBsZVxuICogdmFyIG1mID0gbmV3IE1lc3NhZ2VGb3JtYXQoJ2VuJyk7XG4gKiBtZi5jdXJyZW5jeSA9ICdFVVInOyAgLy8gbmVlZHMgdG8gYmUgc2V0IGJlZm9yZSBmaXJzdCBjb21waWxlKCkgY2FsbFxuICpcbiAqIG1mLmNvbXBpbGUoJ3tOfSBpcyBhbG1vc3Qge04sIG51bWJlciwgaW50ZWdlcn0nKSh7IE46IDMuMTQgfSlcbiAqIC8vICczLjE0IGlzIGFsbW9zdCAzJ1xuICpcbiAqIG1mLmNvbXBpbGUoJ3tQLCBudW1iZXIsIHBlcmNlbnR9IGNvbXBsZXRlJykoeyBQOiAwLjk5IH0pXG4gKiAvLyAnOTklIGNvbXBsZXRlJ1xuICpcbiAqIG1mLmNvbXBpbGUoJ1RoZSB0b3RhbCBpcyB7ViwgbnVtYmVyLCBjdXJyZW5jeX0uJykoeyBWOiA1LjUgfSlcbiAqIC8vICdUaGUgdG90YWwgaXMg4oKsNS41MC4nXG4gKlxuICogbWYuY29tcGlsZSgnVGhlIHRvdGFsIGlzIHtWLCBudW1iZXIsIGN1cnJlbmN5OkdCUH0uJykoeyBWOiA1LjUgfSlcbiAqIC8vICdUaGUgdG90YWwgaXMgwqM1LjUwLidcbiAqL1xuXG5mdW5jdGlvbiBudW1iZXIodmFsdWUsIGxjLCBhcmcpIHtcbiAgdmFyIGEgPSAoYXJnICYmIGFyZy5zcGxpdCgnOicpKSB8fCBbXTtcbiAgdmFyIG9wdCA9IHtcbiAgICBpbnRlZ2VyOiB7IG1heGltdW1GcmFjdGlvbkRpZ2l0czogMCB9LFxuICAgIHBlcmNlbnQ6IHsgc3R5bGU6ICdwZXJjZW50JyB9LFxuICAgIGN1cnJlbmN5OiB7XG4gICAgICBzdHlsZTogJ2N1cnJlbmN5JyxcbiAgICAgIGN1cnJlbmN5OiAoYVsxXSAmJiBhWzFdLnRyaW0oKSkgfHwgQ1VSUkVOQ1ksXG4gICAgICBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IDIsXG4gICAgICBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDJcbiAgICB9XG4gIH07XG4gIHJldHVybiBuZXcgSW50bC5OdW1iZXJGb3JtYXQobGMsIG9wdFthWzBdXSB8fCB7fSkuZm9ybWF0KHZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtZikge1xuICB2YXIgcGFydHMgPSBudW1iZXJcbiAgICAudG9TdHJpbmcoKVxuICAgIC5yZXBsYWNlKCdDVVJSRU5DWScsIEpTT04uc3RyaW5naWZ5KG1mLmN1cnJlbmN5IHx8ICdVU0QnKSlcbiAgICAubWF0Y2goL1xcKChbXildKilcXClbXntdKnsoW1xcc1xcU10qKX0vKTtcbiAgcmV0dXJuIG5ldyBGdW5jdGlvbihwYXJ0c1sxXSwgcGFydHNbMl0pO1xufTtcbiIsIi8qKiBSZXByZXNlbnQgYSB0aW1lIGFzIGEgc2hvcnQvZGVmYXVsdC9sb25nIHN0cmluZ1xuICpcbiAqIFRoZSBpbnB1dCB2YWx1ZSBuZWVkcyB0byBiZSBpbiBhIGZvcm0gdGhhdCB0aGVcbiAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9EYXRlIERhdGUgb2JqZWN0fVxuICogY2FuIHByb2Nlc3MgdXNpbmcgaXRzIHNpbmdsZS1hcmd1bWVudCBmb3JtLCBgbmV3IERhdGUodmFsdWUpYC5cbiAqXG4gKiBAbWVtYmVyb2YgRm9ybWF0dGVyc1xuICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSB2YWx1ZSAtIEVpdGhlciBhIFVuaXggZXBvY2ggdGltZSBpbiBtaWxsaXNlY29uZHMsIG9yIGEgc3RyaW5nIHZhbHVlIHJlcHJlc2VudGluZyBhIGRhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBbdHlwZT0nZGVmYXVsdCddIC0gT25lIG9mIGAnc2hvcnQnYCwgYCdkZWZhdWx0J2AsIGAnbG9uZydgICwgb3IgYGZ1bGxgXG4gKlxuICogQGV4YW1wbGVcbiAqIHZhciBtZiA9IG5ldyBNZXNzYWdlRm9ybWF0KFsnZW4nLCAnZmknXSk7XG4gKlxuICogbWYuY29tcGlsZSgnVGhlIHRpbWUgaXMgbm93IHtULCB0aW1lfScpKHsgVDogRGF0ZS5ub3coKSB9KVxuICogLy8gJ1RoZSB0aW1lIGlzIG5vdyAxMToyNjozNSBQTSdcbiAqXG4gKiBtZi5jb21waWxlKCdLZWxsbyBvbiBueXQge1QsIHRpbWV9JywgJ2ZpJykoeyBUOiBEYXRlLm5vdygpIH0pXG4gKiAvLyAnS2VsbG8gb24gbnl0IDIzLjI2LjM1J1xuICpcbiAqIHZhciBjZiA9IG1mLmNvbXBpbGUoJ1RoZSBFYWdsZSBsYW5kZWQgYXQge1QsIHRpbWUsIGZ1bGx9IG9uIHtULCBkYXRlLCBmdWxsfScpO1xuICogY2YoeyBUOiAnMTk2OS0wNy0yMCAyMDoxNzo0MCBVVEMnIH0pXG4gKiAvLyAnVGhlIEVhZ2xlIGxhbmRlZCBhdCAxMDoxNzo0MCBQTSBHTVQrMiBvbiBTdW5kYXksIEp1bHkgMjAsIDE5NjknXG4gKi9cbmZ1bmN0aW9uIHRpbWUodiwgbGMsIHApIHtcbiAgdmFyIG8gPSB7IHNlY29uZDogJ251bWVyaWMnLCBtaW51dGU6ICdudW1lcmljJywgaG91cjogJ251bWVyaWMnIH07XG4gIHN3aXRjaCAocCkge1xuICAgIGNhc2UgJ2Z1bGwnOlxuICAgIGNhc2UgJ2xvbmcnOlxuICAgICAgby50aW1lWm9uZU5hbWUgPSAnc2hvcnQnO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnc2hvcnQnOlxuICAgICAgZGVsZXRlIG8uc2Vjb25kO1xuICB9XG4gIHJldHVybiBuZXcgRGF0ZSh2KS50b0xvY2FsZVRpbWVTdHJpbmcobGMsIG8pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGltZTtcbn07XG4iLCJ2YXIgQ29tcGlsZXIgPSByZXF1aXJlKCcuL2NvbXBpbGVyJyk7XG52YXIgZm9ybWF0dGVycyA9IHJlcXVpcmUoJy4vZm9ybWF0dGVycycpO1xudmFyIFBsdXJhbHMgPSByZXF1aXJlKCcuL3BsdXJhbHMnKTtcbnZhciBSdW50aW1lID0gcmVxdWlyZSgnLi9ydW50aW1lJyk7XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IE1lc3NhZ2VGb3JtYXQgY29tcGlsZXJcbiAqXG4gKiBJZiBzZXQsIHRoZSBgbG9jYWxlYCBwYXJhbWV0ZXIgbGltaXRzIHRoZSBjb21waWxlciB0byB1c2UgYSBzdWJzZXQgb2YgdGhlIDIwNFxuICogbGFuZ3VhZ2VzJyBwbHVyYWxpc2F0aW9uIHJ1bGVzIG1hZGUgYXZhaWxhYmxlIGJ5IHRoZSBVbmljb2RlIENMRFIuXG4gKlxuICogTGVhdmluZyBgbG9jYWxlYCB1bmRlZmluZWQgb3IgdXNpbmcgYW4gYXJyYXkgb2Ygc3RyaW5ncyB3aWxsIGNyZWF0ZSBhXG4gKiBNZXNzYWdlRm9ybWF0IGluc3RhbmNlIHdpdGggbXVsdGktbGFuZ3VhZ2Ugc3VwcG9ydC4gVG8gc2VsZWN0IHdoaWNoIHRvIHVzZSxcbiAqIHVzZSB0aGUgc2Vjb25kIHBhcmFtZXRlciBvZiBge0BsaW5rIE1lc3NhZ2VGb3JtYXQjY29tcGlsZSBjb21waWxlKCl9YCwgb3IgdXNlXG4gKiBtZXNzYWdlIGtleXMgY29ycmVzcG9uZGluZyB0byB5b3VyIGxvY2FsZXMuIFRoZSBkZWZhdWx0IGxvY2FsZSB3aWxsIGJlIHRoZVxuICogZmlyc3QgZW50cnkgb2YgdGhlIGFycmF5LCBvciBge0BsaW5rIE1lc3NhZ2VGb3JtYXQuZGVmYXVsdExvY2FsZSBkZWZhdWx0TG9jYWxlfWBcbiAqIGlmIG5vdCBzZXQuXG4gKlxuICogQSBzdHJpbmcgYGxvY2FsZWAgd2lsbCBjcmVhdGUgYSBzaW5nbGUtbG9jYWxlIE1lc3NhZ2VGb3JtYXQgaW5zdGFuY2UuXG4gKlxuICogVXNpbmcgYW4gb2JqZWN0IGBsb2NhbGVgIHdpdGggYWxsIHByb3BlcnRpZXMgb2YgdHlwZSBgZnVuY3Rpb25gIGFsbG93cyBmb3JcbiAqIHRoZSB1c2Ugb2YgY3VzdG9tIG9yIGV4dGVybmFsbHkgZGVmaW5lZCBwbHVyYWxpc2F0aW9uIHJ1bGVzOyBpbiB0aGlzIGNhc2VcbiAqXG4gKiBAY2xhc3NcbiAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfE9iamVjdH0gW2xvY2FsZV0gLSBUaGUgbG9jYWxlKHMpIHRvIHVzZVxuICpcbiAqIEBjbGFzc2Rlc2MgTWVzc2FnZUZvcm1hdC10by1KYXZhU2NyaXB0IGNvbXBpbGVyXG4gKlxuICogYGBgXG4gKiBpbXBvcnQgTWVzc2FnZUZvcm1hdCBmcm9tICdtZXNzYWdlZm9ybWF0J1xuICogYGBgXG4gKi9cbmZ1bmN0aW9uIE1lc3NhZ2VGb3JtYXQobG9jYWxlKSB7XG4gIHRoaXMucGx1cmFsRnVuY3MgPSB7fTtcbiAgaWYgKHR5cGVvZiBsb2NhbGUgPT09ICdzdHJpbmcnKSB7XG4gICAgdGhpcy5wbHVyYWxGdW5jc1tsb2NhbGVdID0gUGx1cmFscy5nZXQobG9jYWxlKTtcbiAgICB0aGlzLmRlZmF1bHRMb2NhbGUgPSBsb2NhbGU7XG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShsb2NhbGUpKSB7XG4gICAgbG9jYWxlLmZvckVhY2goZnVuY3Rpb24obGMpIHtcbiAgICAgIHRoaXMucGx1cmFsRnVuY3NbbGNdID0gUGx1cmFscy5nZXQobGMpO1xuICAgIH0sIHRoaXMpO1xuICAgIHRoaXMuZGVmYXVsdExvY2FsZSA9IGxvY2FsZVswXTtcbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBsYyBpbiBsb2NhbGUpXG4gICAgICBpZiAobG9jYWxlLmhhc093blByb3BlcnR5KGxjKSkge1xuICAgICAgICBpZiAodHlwZW9mIGxvY2FsZVtsY10gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAnRXhwZWN0ZWQgZnVuY3Rpb24gdmFsdWUgZm9yIGxvY2FsZSAnICsgSlNPTi5zdHJpbmdpZnkobGMpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBsdXJhbEZ1bmNzW2xjXSA9IGxvY2FsZVtsY107XG4gICAgICAgIGlmICghdGhpcy5kZWZhdWx0TG9jYWxlKSB0aGlzLmRlZmF1bHRMb2NhbGUgPSBsYztcbiAgICAgIH1cbiAgICBpZiAodGhpcy5kZWZhdWx0TG9jYWxlKSB7XG4gICAgICB0aGlzLmhhc0N1c3RvbVBsdXJhbEZ1bmNzID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kZWZhdWx0TG9jYWxlID0gTWVzc2FnZUZvcm1hdC5kZWZhdWx0TG9jYWxlO1xuICAgIH1cbiAgfVxuICB0aGlzLmZtdCA9IHt9O1xuICB0aGlzLnJ1bnRpbWUgPSBuZXcgUnVudGltZSh0aGlzKTtcbn1cblxuLyoqXG4gKiBUaGUgZGVmYXVsdCBsb2NhbGVcbiAqXG4gKiBVc2VkIGJ5IHRoZSBjb25zdHJ1Y3RvciB3aGVuIG5vIGBsb2NhbGVgIGhhcyBiZWVuIHNldCB0byBpbml0aWFsaXNlIHRoZSB2YWx1ZVxuICogb2YgaXRzIGluc3RhbmNlIGNvdW50ZXJwYXJ0LCBgTWVzc2FnZUZvcm1hdCNkZWZhdWx0TG9jYWxlYC5cbiAqXG4gKiBAbWVtYmVyb2YgTWVzc2FnZUZvcm1hdFxuICogQGRlZmF1bHQgJ2VuJ1xuICovXG5NZXNzYWdlRm9ybWF0LmRlZmF1bHRMb2NhbGUgPSAnZW4nO1xuXG4vKiogRXNjYXBlIHNwZWNpYWwgY2hhcmFjYXRlcnNcbiAqXG4gKiAgU3Vycm91bmQgdGhlIGNoYXJhY3RlcnMgYHtgIGFuZCBgfWAgaW4gdGhlIGlucHV0IHN0cmluZyB3aXRoICdxdW90ZXMnLlxuICogIFRoaXMgd2lsbCBhbGxvdyB0aG9zZSBjaGFyYWN0ZXJzIHRvIG5vdCBiZSBjb25zaWRlcmVkIGFzIE1lc3NhZ2VGb3JtYXRcbiAqICBjb250cm9sIGNoYXJhY3RlcnMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciAtIFRoZSBpbnB1dCBzdHJpbmdcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29jdG90aG9ycGU9ZmFsc2VdIC0gSW5jbHVkZSBgI2AgaW4gdGhlIGVzY2FwZWQgY2hhcmFjdGVyc1xuICogQHJldHVybnMge3N0cmluZ30gVGhlIGVzY2FwZWQgc3RyaW5nXG4gKi9cbk1lc3NhZ2VGb3JtYXQuZXNjYXBlID0gZnVuY3Rpb24oc3RyLCBvY3RvdGhvcnBlKSB7XG4gIHZhciBlc2MgPSBvY3RvdGhvcnBlID8gJ1sje31dJyA6ICdbe31dJztcbiAgcmV0dXJuIFN0cmluZyhzdHIpLnJlcGxhY2UobmV3IFJlZ0V4cChlc2MsICdnJyksIFwiJyQmJ1wiKTtcbn07XG5cbk1lc3NhZ2VGb3JtYXQuZm9ybWF0dGVycyA9IGZvcm1hdHRlcnM7XG5cbi8qKlxuICogQWRkIGN1c3RvbSBmb3JtYXR0ZXIgZnVuY3Rpb25zIHRvIHRoaXMgTWVzc2FnZUZvcm1hdCBpbnN0YW5jZS4gU2VlIHRoZVxuICoge0B0dXRvcmlhbCBndWlkZX0gZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBUaGUgZ2VuZXJhbCBzeW50YXggZm9yIGNhbGxpbmcgYSBmb3JtYXR0aW5nIGZ1bmN0aW9uIGluIE1lc3NhZ2VGb3JtYXQgaXNcbiAqIGB7dmFyLCBmblssIGFyZ119YCwgd2hlcmUgYHZhcmAgaXMgdGhlIHZhcmlhYmxlIHRoYXQgd2lsbCBiZSBzZXQgYnkgdGhlXG4gKiB1c2VyIGNvZGUsIGBmbmAgZGV0ZXJtaW5lcyB0aGUgZm9ybWF0dGluZyBmdW5jdGlvbiwgYW5kIGBhcmdgIGlzIGFuXG4gKiBvcHRpb25hbCBzdHJpbmcgYXJndW1lbnQuXG4gKlxuICogSW4gSmF2YVNjcmlwdCwgZWFjaCBmb3JtYXR0aW5nIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aXRoIHRocmVlIHBhcmFtZXRlcnM7XG4gKiB0aGUgdmFyaWFibGUgdmFsdWUgYHZgLCB0aGUgY3VycmVudCBsb2NhbGUgYGxjYCwgYW5kIGBhcmdgIGFzIGEgc3RyaW5nLCBvclxuICogdW5kZWZpbmVkIGlmIG5vdCBzZXQuIGBhcmdgIHdpbGwgYmUgdHJpbW1lZCBvZiBzdXJyb3VuZGluZyB3aGl0ZXNwYWNlLlxuICogRm9ybWF0dGluZyBmdW5jdGlvbnMgc2hvdWxkIG5vdCBoYXZlIHNpZGUgZWZmZWN0cy5cbiAqXG4gKiBAbWVtYmVyb2YgTWVzc2FnZUZvcm1hdFxuICogQHBhcmFtIHtPYmplY3QuPHN0cmluZyxmdW5jdGlvbj59IGZtdCAtIEEgbWFwIG9mIGZvcm1hdHRpbmcgZnVuY3Rpb25zXG4gKiBAcmV0dXJucyB7TWVzc2FnZUZvcm1hdH0gVGhlIE1lc3NhZ2VGb3JtYXQgaW5zdGFuY2UsIHRvIGFsbG93IGZvciBjaGFpbmluZ1xuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBtZiA9IG5ldyBNZXNzYWdlRm9ybWF0KCdlbi1HQicpXG4gKiBtZi5hZGRGb3JtYXR0ZXJzKHtcbiAqICAgdXBjYXNlOiBmdW5jdGlvbih2KSB7IHJldHVybiB2LnRvVXBwZXJDYXNlKCkgfSxcbiAqICAgbG9jYWxlOiBmdW5jdGlvbih2LCBsYykgeyByZXR1cm4gbGMgfSxcbiAqICAgcHJvcDogZnVuY3Rpb24odiwgbGMsIHApIHsgcmV0dXJuIHZbcF0gfVxuICogfSlcbiAqIGNvbnN0IG1lc3NhZ2VzID0gbWYuY29tcGlsZSh7XG4gKiAgIGRlc2NyaWJlOiAnVGhpcyBpcyB7VkFSLCB1cGNhc2V9LicsXG4gKiAgIGxvY2FsZTogJ1RoZSBjdXJyZW50IGxvY2FsZSBpcyB7XywgbG9jYWxlfS4nLFxuICogICBhbnN3ZXI6ICdBbnN3ZXI6IHtvYmosIHByb3AsIGF9J1xuICogfVxuICpcbiAqIG1lc3NhZ2VzLmRlc2NyaWJlKHsgVkFSOiAnYmlnJyB9KSAgICAgICAgLy8gJ1RoaXMgaXMgQklHLidcbiAqIG1lc3NhZ2VzLmxvY2FsZSh7fSkgICAgICAgICAgICAgICAgICAgICAgLy8gJ1RoZSBjdXJyZW50IGxvY2FsZSBpcyBlbi1HQi4nXG4gKiBtZXNzYWdlcy5hbnN3ZXIoeyBvYmo6IHtxOiAzLCBhOiA0Mn0gfSkgIC8vICdBbnN3ZXI6IDQyJ1xuICovXG5NZXNzYWdlRm9ybWF0LnByb3RvdHlwZS5hZGRGb3JtYXR0ZXJzID0gZnVuY3Rpb24oZm10KSB7XG4gIGZvciAodmFyIG5hbWUgaW4gZm10KVxuICAgIGlmIChmbXQuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgIHRoaXMuZm10W25hbWVdID0gZm10W25hbWVdO1xuICAgIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKiogRGlzYWJsZSB0aGUgdmFsaWRhdGlvbiBvZiBwbHVyYWwgJiBzZWxlY3RvcmRpbmFsIGtleXNcbiAqXG4gKiAgUHJldmlvdXMgdmVyc2lvbnMgb2YgbWVzc2FnZWZvcm1hdCBhbGxvd2VkIHRoZSB1c2Ugb2YgcGx1cmFsICZcbiAqICBzZWxlY3RvcmRpbmFsIHN0YXRlbWVudHMgd2l0aCBhbnkga2V5czsgbm93IHdlIHRocm93IGFuIGVycm9yIHdoZW4gYVxuICogIHN0YXRlbWVudCB1c2VzIGEgbm9uLW51bWVyaWNhbCBrZXkgdGhhdCB3aWxsIG5ldmVyIGJlIG1hdGNoZWQgYXMgYVxuICogIHBsdXJhbGl6YXRpb24gY2F0ZWdvcnkgZm9yIHRoZSBjdXJyZW50IGxvY2FsZS5cbiAqXG4gKiAgVXNlIHRoaXMgbWV0aG9kIHRvIGRpc2FibGUgdGhlIHZhbGlkYXRpb24gYW5kIGFsbG93IHVzYWdlIGFzIHByZXZpb3VzbHkuXG4gKiAgVG8gcmUtZW5hYmxlLCB5b3UnbGwgbmVlZCB0byBjcmVhdGUgYSBuZXcgTWVzc2FnZUZvcm1hdCBpbnN0YW5jZS5cbiAqXG4gKiBAcmV0dXJucyB7TWVzc2FnZUZvcm1hdH0gVGhlIE1lc3NhZ2VGb3JtYXQgaW5zdGFuY2UsIHRvIGFsbG93IGZvciBjaGFpbmluZ1xuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBtZiA9IG5ldyBNZXNzYWdlRm9ybWF0KCdlbicpXG4gKiBjb25zdCBtc2cgPSAne1gsIHBsdXJhbCwgemVyb3tubyBhbnN3ZXJzfSBvbmV7YW4gYW5zd2VyfSBvdGhlcnsjIGFuc3dlcnN9fSdcbiAqXG4gKiBtZi5jb21waWxlKG1zZylcbiAqIC8vIEVycm9yOiBJbnZhbGlkIGtleSBgemVyb2AgZm9yIGFyZ3VtZW50IGBYYC4gVmFsaWQgcGx1cmFsIGtleXMgZm9yIHRoaXNcbiAqIC8vICAgICAgICBsb2NhbGUgYXJlIGBvbmVgLCBgb3RoZXJgLCBhbmQgZXhwbGljaXQga2V5cyBsaWtlIGA9MGAuXG4gKlxuICogbWYuZGlzYWJsZVBsdXJhbEtleUNoZWNrcygpXG4gKiBtZi5jb21waWxlKG1zZykoeyBYOiAwIH0pICAvLyAnMCBhbnN3ZXJzJ1xuICovXG5NZXNzYWdlRm9ybWF0LnByb3RvdHlwZS5kaXNhYmxlUGx1cmFsS2V5Q2hlY2tzID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMubm9QbHVyYWxLZXlDaGVja3MgPSB0cnVlO1xuICBmb3IgKHZhciBsYyBpbiB0aGlzLnBsdXJhbEZ1bmNzKVxuICAgIGlmICh0aGlzLnBsdXJhbEZ1bmNzLmhhc093blByb3BlcnR5KGxjKSkge1xuICAgICAgdGhpcy5wbHVyYWxGdW5jc1tsY10uY2FyZGluYWwgPSBbXTtcbiAgICAgIHRoaXMucGx1cmFsRnVuY3NbbGNdLm9yZGluYWwgPSBbXTtcbiAgICB9XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqIEVuYWJsZSBvciBkaXNhYmxlIHRoZSBhZGRpdGlvbiBvZiBVbmljb2RlIGNvbnRyb2wgY2hhcmFjdGVycyB0byBhbGwgaW5wdXRcbiAqICB0byBwcmVzZXJ2ZSB0aGUgaW50ZWdyaXR5IG9mIHRoZSBvdXRwdXQgd2hlbiBtaXhpbmcgTFRSIGFuZCBSVEwgdGV4dC5cbiAqXG4gKiBAc2VlIGh0dHA6Ly9jbGRyLnVuaWNvZGUub3JnL2RldmVsb3BtZW50L2RldmVsb3BtZW50LXByb2Nlc3MvZGVzaWduLXByb3Bvc2Fscy9iaWRpLWhhbmRsaW5nLW9mLXN0cnVjdHVyZWQtdGV4dFxuICpcbiAqIEBtZW1iZXJvZiBNZXNzYWdlRm9ybWF0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtlbmFibGU9dHJ1ZV1cbiAqIEByZXR1cm5zIHtNZXNzYWdlRm9ybWF0fSBUaGUgTWVzc2FnZUZvcm1hdCBpbnN0YW5jZSwgdG8gYWxsb3cgZm9yIGNoYWluaW5nXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIHVwcGVyIGNhc2Ugc3RhbmRzIGZvciBSVEwgY2hhcmFjdGVycywgb3V0cHV0IGlzIHNob3duIGFzIHJlbmRlcmVkXG4gKiBjb25zdCBtZiA9IG5ldyBNZXNzYWdlRm9ybWF0KCdlbicpXG4gKlxuICogbWYuY29tcGlsZSgnezB9ID4+IHsxfSA+PiB7Mn0nKShbJ2ZpcnN0JywgJ1NFQ09ORCcsICdUSElSRCddKVxuICogICAvLyAnZmlyc3QgPj4gVEhJUkQgPDwgU0VDT05EJ1xuICpcbiAqIG1mLnNldEJpRGlTdXBwb3J0KHRydWUpXG4gKiBtZi5jb21waWxlKCd7MH0gPj4gezF9ID4+IHsyfScpKFsnZmlyc3QnLCAnU0VDT05EJywgJ1RISVJEJ10pXG4gKiAgIC8vICdmaXJzdCA+PiBTRUNPTkQgPj4gVEhJUkQnXG4gKi9cbk1lc3NhZ2VGb3JtYXQucHJvdG90eXBlLnNldEJpRGlTdXBwb3J0ID0gZnVuY3Rpb24oZW5hYmxlKSB7XG4gIHRoaXMuYmlkaVN1cHBvcnQgPSAhIWVuYWJsZSB8fCB0eXBlb2YgZW5hYmxlID09ICd1bmRlZmluZWQnO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKiBBY2NvcmRpbmcgdG8gdGhlIElDVSBNZXNzYWdlRm9ybWF0IHNwZWMsIGEgYCNgIGNoYXJhY3RlciBkaXJlY3RseSBpbnNpZGUgYVxuICogIGBwbHVyYWxgIG9yIGBzZWxlY3RvcmRpbmFsYCBzdGF0ZW1lbnQgc2hvdWxkIGJlIHJlcGxhY2VkIGJ5IHRoZSBudW1iZXJcbiAqICBtYXRjaGluZyB0aGUgc3Vycm91bmRpbmcgc3RhdGVtZW50LiBCeSBkZWZhdWx0LCBtZXNzYWdlZm9ybWF0IHdpbGwgcmVwbGFjZVxuICogIGAjYCBzaWducyB3aXRoIHRoZSB2YWx1ZSBvZiB0aGUgbmVhcmVzdCBzdXJyb3VuZGluZyBgcGx1cmFsYCBvclxuICogIGBzZWxlY3RvcmRpbmFsYCBzdGF0ZW1lbnQuXG4gKlxuICogIFNldCB0aGlzIHRvIHRydWUgdG8gZm9sbG93IHRoZSBzdHJpY3RlciBJQ1UgTWVzc2FnZUZvcm1hdCBzcGVjLCBhbmQgdG9cbiAqICB0aHJvdyBhIHJ1bnRpbWUgZXJyb3IgaWYgYCNgIGlzIHVzZWQgd2l0aCBub24tbnVtZXJpYyBpbnB1dC5cbiAqXG4gKiBAbWVtYmVyb2YgTWVzc2FnZUZvcm1hdFxuICogQHBhcmFtIHtib29sZWFufSBbZW5hYmxlPXRydWVdXG4gKiBAcmV0dXJucyB7TWVzc2FnZUZvcm1hdH0gVGhlIE1lc3NhZ2VGb3JtYXQgaW5zdGFuY2UsIHRvIGFsbG93IGZvciBjaGFpbmluZ1xuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBtZiA9IG5ldyBNZXNzYWdlRm9ybWF0KCdlbicpXG4gKiBjb25zdCBzcmMgPSB7XG4gKiAgIGNvb2tpZTogJyM6IHtYLCBwbHVyYWwsID0we25vIGNvb2tpZXN9IG9uZXthIGNvb2tpZX0gb3RoZXJ7IyBjb29raWVzfX0nLFxuICogICBwYXN0cnk6IGB7WCwgcGx1cmFsLFxuICogICAgIG9uZSB7e1AsIHNlbGVjdCwgY29va2lle2EgY29va2llfSBvdGhlcnthIHBpZX19fVxuICogICAgIG90aGVyIHt7UCwgc2VsZWN0LCBjb29raWV7IyBjb29raWVzfSBvdGhlcnsjIHBpZXN9fX1cbiAqICAgfWBcbiAqIH1cbiAqIGxldCBtZXNzYWdlcyA9IG1mLmNvbXBpbGUoc3JjKVxuICpcbiAqIG1lc3NhZ2VzLmNvb2tpZSh7IFg6IDMgfSkgICAgICAgICAgICAvLyAnIzogMyBjb29raWVzJ1xuICogbWVzc2FnZXMucGFzdHJ5KHsgWDogMywgUDogJ3BpZScgfSkgIC8vICczIHBpZXMnXG4gKlxuICogbWYuc2V0U3RyaWN0TnVtYmVyU2lnbih0cnVlKVxuICogbWVzc2FnZXMgPSBtZi5jb21waWxlKHNyYylcbiAqIG1lc3NhZ2VzLnBhc3RyeSh7IFg6IDMsIFA6ICdwaWUnIH0pICAvLyAnIyBwaWVzJ1xuICovXG5NZXNzYWdlRm9ybWF0LnByb3RvdHlwZS5zZXRTdHJpY3ROdW1iZXJTaWduID0gZnVuY3Rpb24oZW5hYmxlKSB7XG4gIHRoaXMuc3RyaWN0TnVtYmVyU2lnbiA9ICEhZW5hYmxlIHx8IHR5cGVvZiBlbmFibGUgPT0gJ3VuZGVmaW5lZCc7XG4gIHRoaXMucnVudGltZS5zZXRTdHJpY3ROdW1iZXIodGhpcy5zdHJpY3ROdW1iZXJTaWduKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKiogQ29tcGlsZSBtZXNzYWdlcyBpbnRvIHN0b3JhYmxlIGZ1bmN0aW9uc1xuICpcbiAqICBJZiBgbWVzc2FnZXNgIGlzIGEgc2luZ2xlIHN0cmluZyBpbmNsdWRpbmcgSUNVIE1lc3NhZ2VGb3JtYXQgZGVjbGFyYXRpb25zLFxuICogIHRoZSByZXN1bHQgb2YgYGNvbXBpbGUoKWAgaXMgYSBmdW5jdGlvbiB0YWtpbmcgYSBzaW5nbGUgT2JqZWN0IHBhcmFtZXRlclxuICogIGBkYCByZXByZXNlbnRpbmcgZWFjaCBvZiB0aGUgaW5wdXQncyBkZWZpbmVkIHZhcmlhYmxlcy5cbiAqXG4gKiAgSWYgYG1lc3NhZ2VzYCBpcyBhIGhpZXJhcmNoaWNhbCBzdHJ1Y3R1cmUgb2Ygc3VjaCBzdHJpbmdzLCB0aGUgb3V0cHV0IG9mXG4gKiAgYGNvbXBpbGUoKWAgd2lsbCBtYXRjaCB0aGF0IHN0cnVjdHVyZSwgd2l0aCBlYWNoIHN0cmluZyByZXBsYWNlZCBieSBpdHNcbiAqICBjb3JyZXNwb25kaW5nIEphdmFTY3JpcHQgZnVuY3Rpb24uXG4gKlxuICogIElmIHRoZSBpbnB1dCBgbWVzc2FnZXNgIC0tIGFuZCB0aGVyZWZvcmUgdGhlIG91dHB1dCAtLSBvZiBgY29tcGlsZSgpYCBpcyBhblxuICogIG9iamVjdCwgdGhlIG91dHB1dCBvYmplY3Qgd2lsbCBoYXZlIGEgYHRvU3RyaW5nKGdsb2JhbClgIG1ldGhvZCB0aGF0IG1heSBiZVxuICogIHVzZWQgdG8gc3RvcmUgb3IgY2FjaGUgdGhlIGNvbXBpbGVkIGZ1bmN0aW9ucyB0byBkaXNrLCBmb3IgbGF0ZXIgaW5jbHVzaW9uXG4gKiAgaW4gYW55IEpTIGVudmlyb25tZW50LCB3aXRob3V0IGEgbG9jYWwgTWVzc2FnZUZvcm1hdCBpbnN0YW5jZSByZXF1aXJlZC4gSWZcbiAqICBpdHMgYGdsb2JhbGAgcGFyYW1ldGVyIGlzIG51bGwgb3IgdW5kZWZpbmVkLCB0aGUgcmVzdWx0IGlzIGFuIEVTNiBtb2R1bGVcbiAqICB3aXRoIGEgZGVmYXVsdCBleHBvcnQuIElmIGBnbG9iYWxgIGlzIGEgc3RyaW5nIGNvbnRhaW5pbmcgYC5gLCB0aGUgcmVzdWx0XG4gKiAgd2lsbCBiZSBhIHNjcmlwdCBzZXR0aW5nIGl0cyB2YWx1ZS4gT3RoZXJ3aXNlLCB0aGUgb3V0cHV0IGRlZmF1bHRzIHRvIGFuIFVNRFxuICogIHBhdHRlcm4gdGhhdCBzZXRzIHRoZSB2YWx1ZSBvZiBgZ2xvYmFsYCBpZiB1c2VkIG91dHNpZGUgb2YgQU1EIGFuZCBDb21tb25KU1xuICogIGxvYWRlcnMuXG4gKlxuICogIElmIGBsb2NhbGVgIGlzIG5vdCBzZXQsIGl0IHdpbGwgZGVmYXVsdCB0b1xuICogIGB7QGxpbmsgTWVzc2FnZUZvcm1hdC5kZWZhdWx0TG9jYWxlIGRlZmF1bHRMb2NhbGV9YDsgdXNpbmcgYSBrZXkgYXQgYW55XG4gKiAgZGVwdGggb2YgYG1lc3NhZ2VzYCB0aGF0IGlzIGEgZGVjbGFyZWQgbG9jYWxlIHdpbGwgc2V0IGl0cyBjaGlsZCBlbGVtZW50cyB0b1xuICogIHVzZSB0aGF0IGxvY2FsZS5cbiAqXG4gKiAgSWYgYGxvY2FsZWAgaXMgc2V0LCBpdCBpcyB1c2VkIGZvciBhbGwgbWVzc2FnZXMsIGlnbm9yaW5nIGFueSBvdGhlcndpc2VcbiAqICBtYXRjaGluZyBsb2NhbGUga2V5cy4gSWYgdGhlIGNvbnN0cnVjdG9yIGRlY2xhcmVkIGFueSBsb2NhbGVzLCBgbG9jYWxlYFxuICogIG5lZWRzIHRvIGJlIG9uZSBvZiB0aGVtLlxuICpcbiAqICBJZiBgY29tcGlsZSgpYCBpcyBjYWxsZWQgd2l0aCBhIGBtZXNzYWdlc2Agb2JqZWN0IG9uIGEgTWVzc2FnZUZvcm1hdFxuICogIGluc3RhbmNlIHRoYXQgZG9lcyBub3Qgc3BlY2lmeSBhbnkgbG9jYWxlcywgaXQgd2lsbCBtYXRjaCBrZXlzIHRvICphbGwqIDIwNFxuICogIGF2YWlsYWJsZSBsb2NhbGVzLiBUaGlzIGlzIHJlYWxseSB1c2VmdWwgaWYgeW91IHdhbnQgeW91ciBtZXNzYWdlcyB0byBiZVxuICogIGNvbXBsZXRlbHkgZGV0ZXJtaW5lZCBieSB5b3VyIGRhdGEsIGJ1dCBtYXkgcHJvdmlkZSBzdXJwcmlzaW5nIHJlc3VsdHMgaWZcbiAqICB5b3VyIGlucHV0IGluY2x1ZGVzIGFueSAyLTMgbGV0dGVyIHN0cmluZ3MgdGhhdCBhcmUgbm90IGxvY2FsZSBpZGVudGlmaWVycy5cbiAqXG4gKiBAbWVtYmVyb2YgTWVzc2FnZUZvcm1hdFxuICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fSBtZXNzYWdlcyAtIFRoZSBpbnB1dCBtZXNzYWdlKHMpIHRvIGJlIGNvbXBpbGVkLCBpbiBJQ1UgTWVzc2FnZUZvcm1hdFxuICogQHBhcmFtIHtzdHJpbmd9IFtsb2NhbGVdIC0gQSBsb2NhbGUgdG8gdXNlIGZvciB0aGUgbWVzc2FnZXNcbiAqIEByZXR1cm5zIHtmdW5jdGlvbnxPYmplY3R9IFRoZSBmaXJzdCBtYXRjaCBmb3VuZCBmb3IgdGhlIGdpdmVuIGxvY2FsZShzKVxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBtZiA9IG5ldyBNZXNzYWdlRm9ybWF0KCdlbicpXG4gKiBjb25zdCBtc2cgPSBtZi5jb21waWxlKCdBIHtUWVBFfSBleGFtcGxlLicpXG4gKlxuICogbXNnKHsgVFlQRTogJ3NpbXBsZScgfSkgIC8vICdBIHNpbXBsZSBleGFtcGxlLidcbiAqXG4gKiBAZXhhbXBsZVxuICogY29uc3QgbWYgPSBuZXcgTWVzc2FnZUZvcm1hdChbJ2VuJywgJ2ZpJ10pXG4gKiBjb25zdCBtZXNzYWdlcyA9IG1mLmNvbXBpbGUoe1xuICogICBlbjogeyBhOiAnQSB7VFlQRX0gZXhhbXBsZS4nLFxuICogICAgICAgICBiOiAnVGhpcyBpcyB0aGUge0NPVU5ULCBzZWxlY3RvcmRpbmFsLCBvbmV7I3N0fSB0d297I25kfSBmZXd7I3JkfSBvdGhlcnsjdGh9fSBleGFtcGxlLicgfSxcbiAqICAgZmk6IHsgYTogJ3tUWVBFfSBlc2ltZXJra2kuJyxcbiAqICAgICAgICAgYjogJ1TDpG3DpCBvbiB7Q09VTlQsIHNlbGVjdG9yZGluYWwsIG90aGVyeyMufX0gZXNpbWVya2tpLicgfVxuICogfSlcbiAqXG4gKiBtZXNzYWdlcy5lbi5iKHsgQ09VTlQ6IDIgfSkgIC8vICdUaGlzIGlzIHRoZSAybmQgZXhhbXBsZS4nXG4gKiBtZXNzYWdlcy5maS5iKHsgQ09VTlQ6IDIgfSkgIC8vICdUw6Rtw6Qgb24gMi4gZXNpbWVya2tpLidcbiAqXG4gKiBAZXhhbXBsZVxuICogY29uc3QgZnMgPSByZXF1aXJlKCdmcycpXG4gKiBjb25zdCBtZiA9IG5ldyBNZXNzYWdlRm9ybWF0KCdlbicpXG4gKiBjb25zdCBtc2dTZXQgPSB7XG4gKiAgIGE6ICdBIHtUWVBFfSBleGFtcGxlLicsXG4gKiAgIGI6ICdUaGlzIGhhcyB7Q09VTlQsIHBsdXJhbCwgb25le29uZSBtZW1iZXJ9IG90aGVyeyMgbWVtYmVyc319LicsXG4gKiAgIGM6ICdXZSBoYXZlIHtQLCBudW1iZXIsIHBlcmNlbnR9IGNvZGUgY292ZXJhZ2UuJ1xuICogfVxuICogY29uc3QgbXNnU3RyID0gbWYuY29tcGlsZShtc2dTZXQpLnRvU3RyaW5nKCdtb2R1bGUuZXhwb3J0cycpXG4gKiBmcy53cml0ZUZpbGVTeW5jKCdtZXNzYWdlcy5qcycsIG1zZ1N0cilcbiAqXG4gKiAuLi5cbiAqXG4gKiBjb25zdCBtZXNzYWdlcyA9IHJlcXVpcmUoJy4vbWVzc2FnZXMnKVxuICpcbiAqIG1lc3NhZ2VzLmEoeyBUWVBFOiAnbW9yZSBjb21wbGV4JyB9KSAgLy8gJ0EgbW9yZSBjb21wbGV4IGV4YW1wbGUuJ1xuICogbWVzc2FnZXMuYih7IENPVU5UOiAzIH0pICAgICAgICAgICAgICAvLyAnVGhpcyBoYXMgMyBtZW1iZXJzLidcbiAqL1xuTWVzc2FnZUZvcm1hdC5wcm90b3R5cGUuY29tcGlsZSA9IGZ1bmN0aW9uKG1lc3NhZ2VzLCBsb2NhbGUpIHtcbiAgZnVuY3Rpb24gX3N0cmluZ2lmeShvYmosIGxldmVsKSB7XG4gICAgaWYgKCFsZXZlbCkgbGV2ZWwgPSAwO1xuICAgIGlmICh0eXBlb2Ygb2JqICE9ICdvYmplY3QnKSByZXR1cm4gb2JqO1xuICAgIHZhciBvID0gW10sXG4gICAgICBpbmRlbnQgPSAnJztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxldmVsOyArK2kpIGluZGVudCArPSAnICAnO1xuICAgIGZvciAodmFyIGsgaW4gb2JqKVxuICAgICAgby5wdXNoKFxuICAgICAgICAnXFxuJyArXG4gICAgICAgICAgaW5kZW50ICtcbiAgICAgICAgICAnICAnICtcbiAgICAgICAgICBDb21waWxlci5wcm9wbmFtZShrKSArXG4gICAgICAgICAgJzogJyArXG4gICAgICAgICAgX3N0cmluZ2lmeShvYmpba10sIGxldmVsICsgMSlcbiAgICAgICk7XG4gICAgcmV0dXJuICd7JyArIG8uam9pbignLCcpICsgJ1xcbicgKyBpbmRlbnQgKyAnfSc7XG4gIH1cblxuICB2YXIgcGYgPSB7fTtcbiAgaWYgKE9iamVjdC5rZXlzKHRoaXMucGx1cmFsRnVuY3MpLmxlbmd0aCA9PT0gMCkge1xuICAgIGlmIChsb2NhbGUpIHtcbiAgICAgIHZhciBwZm4wID0gUGx1cmFscy5nZXQobG9jYWxlLCB0aGlzLm5vUGx1cmFsS2V5Q2hlY2tzKTtcbiAgICAgIGlmICghcGZuMClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdMb2NhbGUgJyArIEpTT04uc3RyaW5naWZ5KGxvY2FsZSkgKyAnIG5vdCBmb3VuZCEnKTtcbiAgICAgIHBmW2xvY2FsZV0gPSBwZm4wO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhbGUgPSB0aGlzLmRlZmF1bHRMb2NhbGU7XG4gICAgICBwZiA9IFBsdXJhbHMuZ2V0QWxsKHRoaXMubm9QbHVyYWxLZXlDaGVja3MpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChsb2NhbGUpIHtcbiAgICB2YXIgcGZuMSA9IHRoaXMucGx1cmFsRnVuY3NbbG9jYWxlXTtcbiAgICBpZiAoIXBmbjEpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdMb2NhbGUgJyArXG4gICAgICAgICAgSlNPTi5zdHJpbmdpZnkobG9jYWxlKSArXG4gICAgICAgICAgJyBub3QgZm91bmQgaW4gJyArXG4gICAgICAgICAgSlNPTi5zdHJpbmdpZnkodGhpcy5wbHVyYWxGdW5jcykgK1xuICAgICAgICAgICchJ1xuICAgICAgKTtcbiAgICBwZltsb2NhbGVdID0gcGZuMTtcbiAgfSBlbHNlIHtcbiAgICBsb2NhbGUgPSB0aGlzLmRlZmF1bHRMb2NhbGU7XG4gICAgcGYgPSB0aGlzLnBsdXJhbEZ1bmNzO1xuICB9XG5cbiAgdmFyIGNvbXBpbGVyID0gbmV3IENvbXBpbGVyKHRoaXMpO1xuICB2YXIgb2JqID0gY29tcGlsZXIuY29tcGlsZShtZXNzYWdlcywgbG9jYWxlLCBwZik7XG5cbiAgaWYgKHR5cGVvZiBtZXNzYWdlcyAhPSAnb2JqZWN0Jykge1xuICAgIHZhciBmbiA9IG5ldyBGdW5jdGlvbihcbiAgICAgICdudW1iZXIsIHBsdXJhbCwgc2VsZWN0LCBmbXQnLFxuICAgICAgQ29tcGlsZXIuZnVuY25hbWUobG9jYWxlKSxcbiAgICAgICdyZXR1cm4gJyArIG9ialxuICAgICk7XG4gICAgdmFyIHJ0ID0gdGhpcy5ydW50aW1lO1xuICAgIHJldHVybiBmbihydC5udW1iZXIsIHJ0LnBsdXJhbCwgcnQuc2VsZWN0LCB0aGlzLmZtdCwgcGZbbG9jYWxlXSk7XG4gIH1cblxuICB2YXIgcnRTdHIgPSB0aGlzLnJ1bnRpbWUudG9TdHJpbmcocGYsIGNvbXBpbGVyKSArICdcXG4nO1xuICB2YXIgb2JqU3RyID0gX3N0cmluZ2lmeShvYmopO1xuICB2YXIgcmVzdWx0ID0gbmV3IEZ1bmN0aW9uKHJ0U3RyICsgJ3JldHVybiAnICsgb2JqU3RyKSgpO1xuICBpZiAocmVzdWx0Lmhhc093blByb3BlcnR5KCd0b1N0cmluZycpKVxuICAgIHRocm93IG5ldyBFcnJvcignVGhlIHRvcC1sZXZlbCBtZXNzYWdlIGtleSBgdG9TdHJpbmdgIGlzIHJlc2VydmVkJyk7XG5cbiAgcmVzdWx0LnRvU3RyaW5nID0gZnVuY3Rpb24oZ2xvYmFsKSB7XG4gICAgaWYgKCFnbG9iYWwgfHwgZ2xvYmFsID09PSAnZXhwb3J0IGRlZmF1bHQnKSB7XG4gICAgICByZXR1cm4gcnRTdHIgKyAnZXhwb3J0IGRlZmF1bHQgJyArIG9ialN0cjtcbiAgICB9IGVsc2UgaWYgKGdsb2JhbC5pbmRleE9mKCcuJykgPiAtMSkge1xuICAgICAgcmV0dXJuIHJ0U3RyICsgZ2xvYmFsICsgJyA9ICcgKyBvYmpTdHI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHJ0U3RyICtcbiAgICAgICAgW1xuICAgICAgICAgICcoZnVuY3Rpb24gKHJvb3QsIEcpIHsnLFxuICAgICAgICAgICcgIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkgeyBkZWZpbmUoRyk7IH0nLFxuICAgICAgICAgICcgIGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSBcIm9iamVjdFwiKSB7IG1vZHVsZS5leHBvcnRzID0gRzsgfScsXG4gICAgICAgICAgJyAgZWxzZSB7ICcgKyBDb21waWxlci5wcm9wbmFtZShnbG9iYWwsICdyb290JykgKyAnID0gRzsgfScsXG4gICAgICAgICAgJ30pKHRoaXMsICcgKyBvYmpTdHIgKyAnKTsnXG4gICAgICAgIF0uam9pbignXFxuJylcbiAgICAgICk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBNZXNzYWdlRm9ybWF0O1xuIiwidmFyIGNhdGVnb3JpZXMgPSByZXF1aXJlKCdtYWtlLXBsdXJhbC91bWQvcGx1cmFsQ2F0ZWdvcmllcycpO1xudmFyIHBsdXJhbHMgPSByZXF1aXJlKCdtYWtlLXBsdXJhbC91bWQvcGx1cmFscycpO1xuXG4vKipcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqIEBoaWRlY29uc3RydWN0b3JcbiAqIEBjbGFzc2Rlc2MgVXRpbGl0eSBnZXR0ZXIvd3JhcHBlciBmb3IgcGx1cmFsaXphdGlvbiBmdW5jdGlvbnMgZnJvbVxuICoge0BsaW5rIGh0dHA6Ly9naXRodWIuY29tL2VlbWVsaS9tYWtlLXBsdXJhbC5qcyBtYWtlLXBsdXJhbH1cbiAqL1xuXG5mdW5jdGlvbiB3cmFwUGx1cmFsRnVuYyhsYywgcGYsIG5vUGx1cmFsS2V5Q2hlY2tzKSB7XG4gIHZhciBmbiA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBwZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xuICBmbi50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBwZi50b1N0cmluZygpO1xuICB9O1xuICBpZiAobm9QbHVyYWxLZXlDaGVja3MpIHtcbiAgICBmbi5jYXJkaW5hbCA9IFtdO1xuICAgIGZuLm9yZGluYWwgPSBbXTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgcGMgPSBjYXRlZ29yaWVzW2xjXSB8fCB7fTtcbiAgICBmbi5jYXJkaW5hbCA9IHBjLmNhcmRpbmFsO1xuICAgIGZuLm9yZGluYWwgPSBwYy5vcmRpbmFsO1xuICB9XG4gIHJldHVybiBmbjtcbn1cblxuZnVuY3Rpb24gZ2V0KGxvY2FsZSwgbm9QbHVyYWxLZXlDaGVja3MpIHtcbiAgZm9yICh2YXIgbCA9IGxvY2FsZTsgbDsgbCA9IGwucmVwbGFjZSgvWy1fXT9bXi1fXSokLywgJycpKSB7XG4gICAgdmFyIHBmID0gcGx1cmFsc1tsXTtcbiAgICBpZiAocGYpIHJldHVybiB3cmFwUGx1cmFsRnVuYyhsLCBwZiwgbm9QbHVyYWxLZXlDaGVja3MpO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihcbiAgICAnTG9jYWxpc2F0aW9uIGZ1bmN0aW9uIG5vdCBmb3VuZCBmb3IgbG9jYWxlICcgKyBKU09OLnN0cmluZ2lmeShsb2NhbGUpXG4gICk7XG59XG5cbmZ1bmN0aW9uIGdldEFsbChub1BsdXJhbEtleUNoZWNrcykge1xuICByZXR1cm4gT2JqZWN0LmtleXMocGx1cmFscykucmVkdWNlKGZ1bmN0aW9uKGxvY2FsZXMsIGxjKSB7XG4gICAgbG9jYWxlc1tsY10gPSB3cmFwUGx1cmFsRnVuYyhsYywgcGx1cmFsc1tsY10sIG5vUGx1cmFsS2V5Q2hlY2tzKTtcbiAgICByZXR1cm4gbG9jYWxlcztcbiAgfSwge30pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZ2V0OiBnZXQsXG4gIGdldEFsbDogZ2V0QWxsXG59O1xuIiwidmFyIENvbXBpbGVyID0gcmVxdWlyZSgnLi9jb21waWxlcicpO1xuXG4vKiogQSBzZXQgb2YgdXRpbGl0eSBmdW5jdGlvbnMgdGhhdCBhcmUgY2FsbGVkIGJ5IHRoZSBjb21waWxlZCBKYXZhc2NyaXB0XG4gKiAgZnVuY3Rpb25zLCB0aGVzZSBhcmUgaW5jbHVkZWQgbG9jYWxseSBpbiB0aGUgb3V0cHV0IG9mIHtAbGlua1xuICogIE1lc3NhZ2VGb3JtYXQjY29tcGlsZSBjb21waWxlKCl9LlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7TWVzc2FnZUZvcm1hdH0gbWYgLSBBIE1lc3NhZ2VGb3JtYXQgaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gUnVudGltZShtZikge1xuICB0aGlzLm1mID0gbWY7XG4gIHRoaXMuc2V0U3RyaWN0TnVtYmVyKG1mLnN0cmljdE51bWJlclNpZ24pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFJ1bnRpbWU7XG5cbi8qKiBVdGlsaXR5IGZ1bmN0aW9uIGZvciBgI2AgaW4gcGx1cmFsIHJ1bGVzXG4gKlxuICogIFdpbGwgdGhyb3cgYW4gRXJyb3IgaWYgYHZhbHVlYCBoYXMgYSBub24tbnVtZXJpYyB2YWx1ZSBhbmQgYG9mZnNldGAgaXNcbiAqICBub24temVybyBvciB7QGxpbmsgTWVzc2FnZUZvcm1hdCNzZXRTdHJpY3ROdW1iZXJTaWdufSBpcyBzZXQuXG4gKlxuICogQGZ1bmN0aW9uIFJ1bnRpbWUjbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gb3BlcmF0ZSBvblxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgYXJndW1lbnQsIHVzZWQgZm9yIGVycm9yIHJlcG9ydGluZ1xuICogQHBhcmFtIHtudW1iZXJ9IFtvZmZzZXQ9MF0gLSBBbiBvcHRpb25hbCBvZmZzZXQsIHNldCBieSB0aGUgc3Vycm91bmRpbmcgY29udGV4dFxuICogQHJldHVybnMge251bWJlcnxzdHJpbmd9IFRoZSByZXN1bHQgb2YgYXBwbHlpbmcgdGhlIG9mZnNldCB0byB0aGUgaW5wdXQgdmFsdWVcbiAqL1xuZnVuY3Rpb24gZGVmYXVsdE51bWJlcih2YWx1ZSwgbmFtZSwgb2Zmc2V0KSB7XG4gIGlmICghb2Zmc2V0KSByZXR1cm4gdmFsdWU7XG4gIGlmIChpc05hTih2YWx1ZSkpXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJDYW4ndCBhcHBseSBvZmZzZXQ6XCIgK1xuICAgICAgICBvZmZzZXQgK1xuICAgICAgICAnIHRvIGFyZ3VtZW50IGAnICtcbiAgICAgICAgbmFtZSArXG4gICAgICAgICdgIHdpdGggbm9uLW51bWVyaWNhbCB2YWx1ZSAnICtcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkodmFsdWUpICtcbiAgICAgICAgJy4nXG4gICAgKTtcbiAgcmV0dXJuIHZhbHVlIC0gb2Zmc2V0O1xufVxuXG4vKiogQHByaXZhdGUgKi9cbmZ1bmN0aW9uIHN0cmljdE51bWJlcih2YWx1ZSwgbmFtZSwgb2Zmc2V0KSB7XG4gIGlmIChpc05hTih2YWx1ZSkpXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ0FyZ3VtZW50IGAnICtcbiAgICAgICAgbmFtZSArXG4gICAgICAgICdgIGhhcyBub24tbnVtZXJpY2FsIHZhbHVlICcgK1xuICAgICAgICBKU09OLnN0cmluZ2lmeSh2YWx1ZSkgK1xuICAgICAgICAnLidcbiAgICApO1xuICByZXR1cm4gdmFsdWUgLSAob2Zmc2V0IHx8IDApO1xufVxuXG4vKiogU2V0IGhvdyBzdHJpY3RseSB0aGUge0BsaW5rIG51bWJlcn0gbWV0aG9kIHBhcnNlcyBpdHMgaW5wdXQuXG4gKlxuICogIEFjY29yZGluZyB0byB0aGUgSUNVIE1lc3NhZ2VGb3JtYXQgc3BlYywgYCNgIGNhbiBvbmx5IGJlIHVzZWQgdG8gcmVwbGFjZSBhXG4gKiAgbnVtYmVyIGlucHV0IG9mIGEgYHBsdXJhbGAgc3RhdGVtZW50LiBCeSBkZWZhdWx0LCBtZXNzYWdlZm9ybWF0IGRvZXMgbm90XG4gKiAgdGhyb3cgYSBydW50aW1lIGVycm9yIGlmIHlvdSB1c2Ugbm9uLW51bWVyaWMgYXJndW1lbnQgd2l0aCBhIGBwbHVyYWxgIHJ1bGUsXG4gKiAgdW5sZXNzIHJ1bGUgYWxzbyBpbmNsdWRlcyBhIG5vbi16ZXJvIGBvZmZzZXRgLlxuICpcbiAqICBUaGlzIGlzIGNhbGxlZCBieSB7QGxpbmsgTWVzc2FnZUZvcm1hdCNzZXRTdHJpY3ROdW1iZXJTaWdufSB0byBmb2xsb3cgdGhlXG4gKiAgc3RyaWN0ZXIgSUNVIE1lc3NhZ2VGb3JtYXQgc3BlYy5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtlbmFibGU9ZmFsc2VdXG4gKi9cblJ1bnRpbWUucHJvdG90eXBlLnNldFN0cmljdE51bWJlciA9IGZ1bmN0aW9uKGVuYWJsZSkge1xuICB0aGlzLm51bWJlciA9IGVuYWJsZSA/IHN0cmljdE51bWJlciA6IGRlZmF1bHROdW1iZXI7XG59O1xuXG4vKiogVXRpbGl0eSBmdW5jdGlvbiBmb3IgYHtOLCBwbHVyYWx8c2VsZWN0b3JkaW5hbCwgLi4ufWBcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSBUaGUga2V5IHRvIHVzZSB0byBmaW5kIGEgcGx1cmFsaXphdGlvbiBydWxlXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gQW4gb2Zmc2V0IHRvIGFwcGx5IHRvIGB2YWx1ZWBcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGxjZnVuYyAtIEEgbG9jYWxlIGZ1bmN0aW9uIGZyb20gYHBsdXJhbEZ1bmNzYFxuICogQHBhcmFtIHtPYmplY3QuPHN0cmluZyxzdHJpbmc+fSBkYXRhIC0gVGhlIG9iamVjdCBmcm9tIHdoaWNoIHJlc3VsdHMgYXJlIGxvb2tlZCB1cFxuICogQHBhcmFtIHs/Ym9vbGVhbn0gaXNPcmRpbmFsIC0gSWYgdHJ1ZSwgdXNlIG9yZGluYWwgcmF0aGVyIHRoYW4gY2FyZGluYWwgcnVsZXNcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSByZXN1bHQgb2YgdGhlIHBsdXJhbGl6YXRpb25cbiAqL1xuUnVudGltZS5wcm90b3R5cGUucGx1cmFsID0gZnVuY3Rpb24odmFsdWUsIG9mZnNldCwgbGNmdW5jLCBkYXRhLCBpc09yZGluYWwpIHtcbiAgaWYgKHt9Lmhhc093blByb3BlcnR5LmNhbGwoZGF0YSwgdmFsdWUpKSByZXR1cm4gZGF0YVt2YWx1ZV07XG4gIGlmIChvZmZzZXQpIHZhbHVlIC09IG9mZnNldDtcbiAgdmFyIGtleSA9IGxjZnVuYyh2YWx1ZSwgaXNPcmRpbmFsKTtcbiAgaWYgKGtleSBpbiBkYXRhKSByZXR1cm4gZGF0YVtrZXldO1xuICByZXR1cm4gZGF0YS5vdGhlcjtcbn07XG5cbi8qKiBVdGlsaXR5IGZ1bmN0aW9uIGZvciBge04sIHNlbGVjdCwgLi4ufWBcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSBUaGUga2V5IHRvIHVzZSB0byBmaW5kIGEgc2VsZWN0aW9uXG4gKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLHN0cmluZz59IGRhdGEgLSBUaGUgb2JqZWN0IGZyb20gd2hpY2ggcmVzdWx0cyBhcmUgbG9va2VkIHVwXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgcmVzdWx0IG9mIHRoZSBzZWxlY3Qgc3RhdGVtZW50XG4gKi9cblJ1bnRpbWUucHJvdG90eXBlLnNlbGVjdCA9IGZ1bmN0aW9uKHZhbHVlLCBkYXRhKSB7XG4gIGlmICh7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIHZhbHVlKSkgcmV0dXJuIGRhdGFbdmFsdWVdO1xuICByZXR1cm4gZGF0YS5vdGhlcjtcbn07XG5cbi8qKiBAcHJpdmF0ZSAqL1xuUnVudGltZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbihwbHVyYWxGdW5jcywgY29tcGlsZXIpIHtcbiAgZnVuY3Rpb24gX3N0cmluZ2lmeShvLCBsZXZlbCkge1xuICAgIGlmICh0eXBlb2YgbyAhPSAnb2JqZWN0Jykge1xuICAgICAgdmFyIGZ1bmNTdHIgPSBvLnRvU3RyaW5nKCkucmVwbGFjZSgvXihmdW5jdGlvbiApXFx3Ki8sICckMScpO1xuICAgICAgdmFyIGZ1bmNJbmRlbnQgPSAvKFsgXFx0XSopXFxTLiokLy5leGVjKGZ1bmNTdHIpO1xuICAgICAgcmV0dXJuIGZ1bmNJbmRlbnRcbiAgICAgICAgPyBmdW5jU3RyLnJlcGxhY2UobmV3IFJlZ0V4cCgnXicgKyBmdW5jSW5kZW50WzFdLCAnbWcnKSwgJycpXG4gICAgICAgIDogZnVuY1N0cjtcbiAgICB9XG4gICAgdmFyIHMgPSBbXTtcbiAgICBmb3IgKHZhciBpIGluIG8pIHtcbiAgICAgIGlmIChsZXZlbCA9PT0gMClcbiAgICAgICAgcy5wdXNoKCd2YXIgJyArIGkgKyAnID0gJyArIF9zdHJpbmdpZnkob1tpXSwgbGV2ZWwgKyAxKSArICc7XFxuJyk7XG4gICAgICBlbHNlIHMucHVzaChDb21waWxlci5wcm9wbmFtZShpKSArICc6ICcgKyBfc3RyaW5naWZ5KG9baV0sIGxldmVsICsgMSkpO1xuICAgIH1cbiAgICBpZiAobGV2ZWwgPT09IDApIHJldHVybiBzLmpvaW4oJycpO1xuICAgIGlmIChzLmxlbmd0aCA9PT0gMCkgcmV0dXJuICd7fSc7XG4gICAgdmFyIGluZGVudCA9ICcgICc7XG4gICAgd2hpbGUgKC0tbGV2ZWwpIGluZGVudCArPSAnICAnO1xuICAgIHJldHVybiAne1xcbicgKyBzLmpvaW4oJyxcXG4nKS5yZXBsYWNlKC9eL2dtLCBpbmRlbnQpICsgJ1xcbn0nO1xuICB9XG5cbiAgdmFyIG9iaiA9IHt9O1xuICBPYmplY3Qua2V5cyhjb21waWxlci5sb2NhbGVzKS5mb3JFYWNoKGZ1bmN0aW9uKGxjKSB7XG4gICAgb2JqW0NvbXBpbGVyLmZ1bmNuYW1lKGxjKV0gPSBwbHVyYWxGdW5jc1tsY107XG4gIH0pO1xuICBPYmplY3Qua2V5cyhjb21waWxlci5ydW50aW1lKS5mb3JFYWNoKGZ1bmN0aW9uKGZuKSB7XG4gICAgb2JqW2ZuXSA9IHRoaXNbZm5dO1xuICB9LCB0aGlzKTtcbiAgdmFyIGZtdEtleXMgPSBPYmplY3Qua2V5cyhjb21waWxlci5mb3JtYXR0ZXJzKTtcbiAgdmFyIGZtdCA9IHRoaXMubWYuZm10O1xuICBpZiAoZm10S2V5cy5sZW5ndGgpXG4gICAgb2JqLmZtdCA9IGZtdEtleXMucmVkdWNlKGZ1bmN0aW9uKG8sIGtleSkge1xuICAgICAgb1trZXldID0gZm10W2tleV07XG4gICAgICByZXR1cm4gbztcbiAgICB9LCB7fSk7XG4gIHJldHVybiBfc3RyaW5naWZ5KG9iaiwgMCk7XG59O1xuIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsImZ1bmN0aW9uIGRlZmF1bHRFcXVhbGl0eUNoZWNrKGEsIGIpIHtcbiAgcmV0dXJuIGEgPT09IGI7XG59XG5cbmZ1bmN0aW9uIGFyZUFyZ3VtZW50c1NoYWxsb3dseUVxdWFsKGVxdWFsaXR5Q2hlY2ssIHByZXYsIG5leHQpIHtcbiAgaWYgKHByZXYgPT09IG51bGwgfHwgbmV4dCA9PT0gbnVsbCB8fCBwcmV2Lmxlbmd0aCAhPT0gbmV4dC5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBEbyB0aGlzIGluIGEgZm9yIGxvb3AgKGFuZCBub3QgYSBgZm9yRWFjaGAgb3IgYW4gYGV2ZXJ5YCkgc28gd2UgY2FuIGRldGVybWluZSBlcXVhbGl0eSBhcyBmYXN0IGFzIHBvc3NpYmxlLlxuICB2YXIgbGVuZ3RoID0gcHJldi5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIWVxdWFsaXR5Q2hlY2socHJldltpXSwgbmV4dFtpXSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRNZW1vaXplKGZ1bmMpIHtcbiAgdmFyIGVxdWFsaXR5Q2hlY2sgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGRlZmF1bHRFcXVhbGl0eUNoZWNrO1xuXG4gIHZhciBsYXN0QXJncyA9IG51bGw7XG4gIHZhciBsYXN0UmVzdWx0ID0gbnVsbDtcbiAgLy8gd2UgcmVmZXJlbmNlIGFyZ3VtZW50cyBpbnN0ZWFkIG9mIHNwcmVhZGluZyB0aGVtIGZvciBwZXJmb3JtYW5jZSByZWFzb25zXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFhcmVBcmd1bWVudHNTaGFsbG93bHlFcXVhbChlcXVhbGl0eUNoZWNrLCBsYXN0QXJncywgYXJndW1lbnRzKSkge1xuICAgICAgLy8gYXBwbHkgYXJndW1lbnRzIGluc3RlYWQgb2Ygc3ByZWFkaW5nIGZvciBwZXJmb3JtYW5jZS5cbiAgICAgIGxhc3RSZXN1bHQgPSBmdW5jLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgbGFzdEFyZ3MgPSBhcmd1bWVudHM7XG4gICAgcmV0dXJuIGxhc3RSZXN1bHQ7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldERlcGVuZGVuY2llcyhmdW5jcykge1xuICB2YXIgZGVwZW5kZW5jaWVzID0gQXJyYXkuaXNBcnJheShmdW5jc1swXSkgPyBmdW5jc1swXSA6IGZ1bmNzO1xuXG4gIGlmICghZGVwZW5kZW5jaWVzLmV2ZXJ5KGZ1bmN0aW9uIChkZXApIHtcbiAgICByZXR1cm4gdHlwZW9mIGRlcCA9PT0gJ2Z1bmN0aW9uJztcbiAgfSkpIHtcbiAgICB2YXIgZGVwZW5kZW5jeVR5cGVzID0gZGVwZW5kZW5jaWVzLm1hcChmdW5jdGlvbiAoZGVwKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIGRlcDtcbiAgICB9KS5qb2luKCcsICcpO1xuICAgIHRocm93IG5ldyBFcnJvcignU2VsZWN0b3IgY3JlYXRvcnMgZXhwZWN0IGFsbCBpbnB1dC1zZWxlY3RvcnMgdG8gYmUgZnVuY3Rpb25zLCAnICsgKCdpbnN0ZWFkIHJlY2VpdmVkIHRoZSBmb2xsb3dpbmcgdHlwZXM6IFsnICsgZGVwZW5kZW5jeVR5cGVzICsgJ10nKSk7XG4gIH1cblxuICByZXR1cm4gZGVwZW5kZW5jaWVzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2VsZWN0b3JDcmVhdG9yKG1lbW9pemUpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIG1lbW9pemVPcHRpb25zID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIG1lbW9pemVPcHRpb25zW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBmdW5jcyA9IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICBmdW5jc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgIH1cblxuICAgIHZhciByZWNvbXB1dGF0aW9ucyA9IDA7XG4gICAgdmFyIHJlc3VsdEZ1bmMgPSBmdW5jcy5wb3AoKTtcbiAgICB2YXIgZGVwZW5kZW5jaWVzID0gZ2V0RGVwZW5kZW5jaWVzKGZ1bmNzKTtcblxuICAgIHZhciBtZW1vaXplZFJlc3VsdEZ1bmMgPSBtZW1vaXplLmFwcGx5KHVuZGVmaW5lZCwgW2Z1bmN0aW9uICgpIHtcbiAgICAgIHJlY29tcHV0YXRpb25zKys7XG4gICAgICAvLyBhcHBseSBhcmd1bWVudHMgaW5zdGVhZCBvZiBzcHJlYWRpbmcgZm9yIHBlcmZvcm1hbmNlLlxuICAgICAgcmV0dXJuIHJlc3VsdEZ1bmMuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9XS5jb25jYXQobWVtb2l6ZU9wdGlvbnMpKTtcblxuICAgIC8vIElmIGEgc2VsZWN0b3IgaXMgY2FsbGVkIHdpdGggdGhlIGV4YWN0IHNhbWUgYXJndW1lbnRzIHdlIGRvbid0IG5lZWQgdG8gdHJhdmVyc2Ugb3VyIGRlcGVuZGVuY2llcyBhZ2Fpbi5cbiAgICB2YXIgc2VsZWN0b3IgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBwYXJhbXMgPSBbXTtcbiAgICAgIHZhciBsZW5ndGggPSBkZXBlbmRlbmNpZXMubGVuZ3RoO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGFwcGx5IGFyZ3VtZW50cyBpbnN0ZWFkIG9mIHNwcmVhZGluZyBhbmQgbXV0YXRlIGEgbG9jYWwgbGlzdCBvZiBwYXJhbXMgZm9yIHBlcmZvcm1hbmNlLlxuICAgICAgICBwYXJhbXMucHVzaChkZXBlbmRlbmNpZXNbaV0uYXBwbHkobnVsbCwgYXJndW1lbnRzKSk7XG4gICAgICB9XG5cbiAgICAgIC8vIGFwcGx5IGFyZ3VtZW50cyBpbnN0ZWFkIG9mIHNwcmVhZGluZyBmb3IgcGVyZm9ybWFuY2UuXG4gICAgICByZXR1cm4gbWVtb2l6ZWRSZXN1bHRGdW5jLmFwcGx5KG51bGwsIHBhcmFtcyk7XG4gICAgfSk7XG5cbiAgICBzZWxlY3Rvci5yZXN1bHRGdW5jID0gcmVzdWx0RnVuYztcbiAgICBzZWxlY3Rvci5kZXBlbmRlbmNpZXMgPSBkZXBlbmRlbmNpZXM7XG4gICAgc2VsZWN0b3IucmVjb21wdXRhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcmVjb21wdXRhdGlvbnM7XG4gICAgfTtcbiAgICBzZWxlY3Rvci5yZXNldFJlY29tcHV0YXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHJlY29tcHV0YXRpb25zID0gMDtcbiAgICB9O1xuICAgIHJldHVybiBzZWxlY3RvcjtcbiAgfTtcbn1cblxuZXhwb3J0IHZhciBjcmVhdGVTZWxlY3RvciA9IGNyZWF0ZVNlbGVjdG9yQ3JlYXRvcihkZWZhdWx0TWVtb2l6ZSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3Ioc2VsZWN0b3JzKSB7XG4gIHZhciBzZWxlY3RvckNyZWF0b3IgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGNyZWF0ZVNlbGVjdG9yO1xuXG4gIGlmICh0eXBlb2Ygc2VsZWN0b3JzICE9PSAnb2JqZWN0Jykge1xuICAgIHRocm93IG5ldyBFcnJvcignY3JlYXRlU3RydWN0dXJlZFNlbGVjdG9yIGV4cGVjdHMgZmlyc3QgYXJndW1lbnQgdG8gYmUgYW4gb2JqZWN0ICcgKyAoJ3doZXJlIGVhY2ggcHJvcGVydHkgaXMgYSBzZWxlY3RvciwgaW5zdGVhZCByZWNlaXZlZCBhICcgKyB0eXBlb2Ygc2VsZWN0b3JzKSk7XG4gIH1cbiAgdmFyIG9iamVjdEtleXMgPSBPYmplY3Qua2V5cyhzZWxlY3RvcnMpO1xuICByZXR1cm4gc2VsZWN0b3JDcmVhdG9yKG9iamVjdEtleXMubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gc2VsZWN0b3JzW2tleV07XG4gIH0pLCBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCB2YWx1ZXMgPSBBcnJheShfbGVuMyksIF9rZXkzID0gMDsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgdmFsdWVzW19rZXkzXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlcy5yZWR1Y2UoZnVuY3Rpb24gKGNvbXBvc2l0aW9uLCB2YWx1ZSwgaW5kZXgpIHtcbiAgICAgIGNvbXBvc2l0aW9uW29iamVjdEtleXNbaW5kZXhdXSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIGNvbXBvc2l0aW9uO1xuICAgIH0sIHt9KTtcbiAgfSk7XG59IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL3Jlc2VydmVkLXdvcmRzJyk7XG4iLCJ2YXIgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0Jyk7XG5cbi8qKlxuICogU3RydWN0dXJlIGZvciBzdG9yaW5nIGtleXdvcmRzLlxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3QuPFN0cmluZyxCb29sZWFuPn0gS2V5d29yZHNIYXNoXG4gKi9cblxuLyoqXG4gKiBFQ01BU2NyaXB0IGRpYWxlY3RzLlxuICpcbiAqIEBjb25zdFxuICogQHR5cGUge09iamVjdC48U3RyaW5nLE51bWJlcnxTdHJpbmc+fSAtIGtleXMgYXMgcmVhZGFibGUgbmFtZXMgYW5kIHZhbHVlcyBhcyB2ZXJzaW9uc1xuICovXG52YXIgRElBTEVDVFMgPSB7XG4gICAgZXMzOiAzLFxuICAgIGVzNTogNSxcbiAgICBlczIwMTU6IDYsXG4gICAgZXM3OiA3LFxuXG4gICAgLy8gYWxpYXNlc1xuICAgIGVzNjogNixcbiAgICAnZGVmYXVsdCc6IDUsXG4gICAgbmV4dDogNlxufTtcblxuLyoqXG4gKiBFQ01BU2NyaXB0IHJlc2VydmVkIHdvcmRzLlxuICpcbiAqIEB0eXBlIHtPYmplY3QuPFN0cmluZyxLZXl3b3Jkc0hhc2g+fVxuICovXG52YXIgS0VZV09SRFMgPSBleHBvcnRzLktFWVdPUkRTID0ge307XG5cbi8qKlxuICogQ2hlY2sgd29yZCBmb3IgYmVpbmcgYW4gcmVzZXJ2ZWQgd29yZC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gd29yZCAtIHdvcmQgdG8gY2hlY2tcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gW2RpYWxlY3RdIC0gZGlhbGVjdCBvciB2ZXJzaW9uXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtzdHJpY3RdIC0gc3RyaWN0IG1vZGVcbiAqIEByZXR1cm5zIHs/Qm9vbGVhbn1cbiAqL1xuZXhwb3J0cy5jaGVjayA9IGZ1bmN0aW9uIGNoZWNrKHdvcmQsIGRpYWxlY3QsIHN0cmljdCkge1xuICAgIGRpYWxlY3QgPSBkaWFsZWN0IHx8IERJQUxFQ1RTLmRlZmF1bHQ7XG4gICAgdmFyIHZlcnNpb24gPSBESUFMRUNUU1tkaWFsZWN0XSB8fCBkaWFsZWN0O1xuXG4gICAgaWYgKHN0cmljdCAmJiB2ZXJzaW9uID49IDUpIHtcbiAgICAgICAgdmVyc2lvbiArPSAnLXN0cmljdCc7XG4gICAgfVxuXG4gICAgYXNzZXJ0KEtFWVdPUkRTW3ZlcnNpb25dLCAnVW5rbm93biBkaWFsZWN0Jyk7XG5cbiAgICByZXR1cm4gS0VZV09SRFNbdmVyc2lvbl0uaGFzT3duUHJvcGVydHkod29yZCk7XG59O1xuXG4vKipcbiAqIFJlc2VydmVkIFdvcmRzIGZvciBFUzNcbiAqXG4gKiBFQ01BLTI2MiAzcmQ6IDcuNS4xXG4gKiBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvcHVibGljYXRpb25zL2ZpbGVzL0VDTUEtU1QtQVJDSC9FQ01BLTI2MiwlMjAzcmQlMjBlZGl0aW9uLCUyMERlY2VtYmVyJTIwMTk5OS5wZGZcbiAqXG4gKiBAdHlwZSB7S2V5d29yZHNIYXNofVxuICovXG5LRVlXT1JEU1snMyddID0gX2hhc2goXG4gICAgLy8gS2V5d29yZCwgRUNNQS0yNjIgM3JkOiA3LjUuMlxuICAgICdicmVhayAgICBlbHNlICAgICAgIG5ldyAgICAgdmFyJyxcbiAgICAnY2FzZSAgICAgZmluYWxseSAgICByZXR1cm4gIHZvaWQnLFxuICAgICdjYXRjaCAgICBmb3IgICAgICAgIHN3aXRjaCAgd2hpbGUnLFxuICAgICdjb250aW51ZSBmdW5jdGlvbiAgIHRoaXMgICAgd2l0aCcsXG4gICAgJ2RlZmF1bHQgIGlmICAgICAgICAgdGhyb3cnLFxuICAgICdkZWxldGUgICBpbiAgICAgICAgIHRyeScsXG4gICAgJ2RvICAgICAgIGluc3RhbmNlb2YgdHlwZW9mJyxcbiAgICAvLyBGdXR1cmVSZXNlcnZlZFdvcmQsIEVDTUEtMjYyIDNyZCA3LjUuM1xuICAgICdhYnN0cmFjdCBlbnVtICAgICAgIGludCAgICAgICAgc2hvcnQnLFxuICAgICdib29sZWFuICBleHBvcnQgICAgIGludGVyZmFjZSAgc3RhdGljJyxcbiAgICAnYnl0ZSAgICAgZXh0ZW5kcyAgICBsb25nICAgICAgIHN1cGVyJyxcbiAgICAnY2hhciAgICAgZmluYWwgICAgICBuYXRpdmUgICAgIHN5bmNocm9uaXplZCcsXG4gICAgJ2NsYXNzICAgIGZsb2F0ICAgICAgcGFja2FnZSAgICB0aHJvd3MnLFxuICAgICdjb25zdCAgICBnb3RvICAgICAgIHByaXZhdGUgICAgdHJhbnNpZW50JyxcbiAgICAnZGVidWdnZXIgaW1wbGVtZW50cyBwcm90ZWN0ZWQgIHZvbGF0aWxlJyxcbiAgICAnZG91YmxlICAgaW1wb3J0ICAgICBwdWJsaWMnLFxuICAgIC8vIE51bGxMaXRlcmFsICYgQm9vbGVhbkxpdGVyYWxcbiAgICAnbnVsbCB0cnVlIGZhbHNlJ1xuKTtcblxuLyoqXG4gKiBSZXNlcnZlZCBXb3JkcyBmb3IgRVM1LlxuICpcbiAqIGh0dHA6Ly9lczUuZ2l0aHViLmlvLyN4Ny42LjFcbiAqXG4gKiBAdHlwZSB7S2V5d29yZHNIYXNofVxuICovXG5LRVlXT1JEU1snNSddID0gX2hhc2goXG4gICAgLy8gS2V5d29yZFxuICAgICdicmVhayAgICBkbyAgICAgICBpbnN0YW5jZW9mIHR5cGVvZicsXG4gICAgJ2Nhc2UgICAgIGVsc2UgICAgIG5ldyAgICAgICAgdmFyJyxcbiAgICAnY2F0Y2ggICAgZmluYWxseSAgcmV0dXJuICAgICB2b2lkJyxcbiAgICAnY29udGludWUgZm9yICAgICAgc3dpdGNoICAgICB3aGlsZScsXG4gICAgJ2RlYnVnZ2VyIGZ1bmN0aW9uIHRoaXMgICAgICAgd2l0aCcsXG4gICAgJ2RlZmF1bHQgIGlmICAgICAgIHRocm93JyxcbiAgICAnZGVsZXRlICAgaW4gICAgICAgdHJ5JyxcbiAgICAvLyBGdXR1cmVSZXNlcnZlZFdvcmRcbiAgICAnY2xhc3MgZW51bSBleHRlbmRzIHN1cGVyJyxcbiAgICAnY29uc3QgZXhwb3J0IGltcG9ydCcsXG4gICAgLy8gTnVsbExpdGVyYWwgJiBCb29sZWFuTGl0ZXJhbFxuICAgICdudWxsIHRydWUgZmFsc2UnXG4pO1xuXG4vKipcbiAqIFJlc2VydmVkIFdvcmRzIGZvciBFUzUgaW4gc3RyaWN0IG1vZGUuXG4gKlxuICogQHR5cGUge0tleXdvcmRzSGFzaH1cbiAqL1xuS0VZV09SRFNbJzUtc3RyaWN0J10gPSBfaGFzaChcbiAgICBLRVlXT1JEU1snNSddLFxuICAgIC8vIEZ1dHVyZVJlc2VydmVkV29yZCwgc3RyaWN0IG1vZGUuIGh0dHA6Ly9lczUuZ2l0aHViLmlvLyN4Ny42LjEuMlxuICAgICdpbXBsZW1lbnRzIGxldCAgICAgcHJpdmF0ZSAgIHB1YmxpYyB5aWVsZCcsXG4gICAgJ2ludGVyZmFjZSAgcGFja2FnZSBwcm90ZWN0ZWQgc3RhdGljJ1xuKTtcblxuLyoqXG4gKiBSZXNlcnZlZCBXb3JkcyBmb3IgRVM2LlxuICpcbiAqIDExLjYuMlxuICogaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC9pbmRleC5odG1sI3NlYy1yZXNlcnZlZC13b3Jkc1xuICpcbiAqIEB0eXBlIHtLZXl3b3Jkc0hhc2h9XG4gKi9cbktFWVdPUkRTWyc2J10gPSBfaGFzaChcbiAgICAvLyBLZXl3b3JkcywgRVM2IDExLjYuMi4xLCBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wL2luZGV4Lmh0bWwjc2VjLWtleXdvcmRzXG4gICAgJ2JyZWFrICAgIGRvICAgICAgIGluICAgICAgICAgdHlwZW9mJyxcbiAgICAnY2FzZSAgICAgZWxzZSAgICAgaW5zdGFuY2VvZiB2YXInLFxuICAgICdjYXRjaCAgICBleHBvcnQgICBuZXcgICAgICAgIHZvaWQnLFxuICAgICdjbGFzcyAgICBleHRlbmRzICByZXR1cm4gICAgIHdoaWxlJyxcbiAgICAnY29uc3QgICAgZmluYWxseSAgc3VwZXIgICAgICB3aXRoJyxcbiAgICAnY29udGludWUgZm9yICAgICAgc3dpdGNoICAgICB5aWVsZCcsXG4gICAgJ2RlYnVnZ2VyIGZ1bmN0aW9uIHRoaXMnLFxuICAgICdkZWZhdWx0ICBpZiAgICAgICB0aHJvdycsXG4gICAgJ2RlbGV0ZSAgIGltcG9ydCAgIHRyeScsXG4gICAgLy8gRnV0dXJlIFJlc2VydmVkIFdvcmRzLCBFUzYgMTEuNi4yLjJcbiAgICAvLyBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wL2luZGV4Lmh0bWwjc2VjLWZ1dHVyZS1yZXNlcnZlZC13b3Jkc1xuICAgICdlbnVtIGF3YWl0JyxcbiAgICAvLyBOdWxsTGl0ZXJhbCAmIEJvb2xlYW5MaXRlcmFsXG4gICAgJ251bGwgdHJ1ZSBmYWxzZSdcbik7XG5cbi8qKlxuICogUmVzZXJ2ZWQgV29yZHMgZm9yIEVTNiBpbiBzdHJpY3QgbW9kZS5cbiAqXG4gKiBAdHlwZSB7S2V5d29yZHNIYXNofVxuICovXG5LRVlXT1JEU1snNi1zdHJpY3QnXSA9IF9oYXNoKFxuICAgIEtFWVdPUkRTWyc2J10sXG4gICAgLy8gS2V5d29yZHMsIEVTNiAxMS42LjIuMVxuICAgICdsZXQgc3RhdGljJyxcbiAgICAvLyBGdXR1cmUgUmVzZXJ2ZWQgV29yZHMsIEVTNiAxMS42LjIuMlxuICAgICdpbXBsZW1lbnRzIHBhY2thZ2UgcHJvdGVjdGVkJyxcbiAgICAnaW50ZXJmYWNlIHByaXZhdGUgcHVibGljJ1xuKTtcblxuLyoqXG4gKiBHZW5lcmF0ZXMgaGFzaCBmcm9tIHN0cmluZ3NcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsuLi5TdHJpbmd8S2V5d29yZHNIYXNofSBrZXl3b3JkcyAtIFNwYWNlLWRlbGltaXRlZCBzdHJpbmcgb3IgcHJldmlvdXMgcmVzdWx0IG9mIF9oYXNoXG4gKiBAcmV0dXJuIHtLZXl3b3Jkc0hhc2h9IC0gT2JqZWN0IHdpdGgga2V5d29yZHMgaW4ga2V5cyBhbmQgdHJ1ZSBpbiB2YWx1ZXNcbiAqL1xuZnVuY3Rpb24gX2hhc2goKSB7XG4gICAgdmFyIHNldCA9IEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChhcmd1bWVudHMsIGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2ID09PSAnc3RyaW5nJyA/IHYgOiBPYmplY3Qua2V5cyh2KS5qb2luKCcgJyk7XG4gICAgfSkuam9pbignICcpO1xuXG4gICAgcmV0dXJuIHNldC5zcGxpdCgvXFxzKy8pXG4gICAgICAgIC5yZWR1Y2UoZnVuY3Rpb24ocmVzLCBrZXl3b3JkKSB7XG4gICAgICAgICAgICByZXNba2V5d29yZF0gPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfSwge30pO1xufVxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4vaW50ZXJuYWwvT2JzZXJ2YWJsZSc7XG5leHBvcnQgeyBDb25uZWN0YWJsZU9ic2VydmFibGUgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvQ29ubmVjdGFibGVPYnNlcnZhYmxlJztcbmV4cG9ydCB7IEdyb3VwZWRPYnNlcnZhYmxlIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvZ3JvdXBCeSc7XG5leHBvcnQgeyBvYnNlcnZhYmxlIH0gZnJvbSAnLi9pbnRlcm5hbC9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5leHBvcnQgeyBTdWJqZWN0IH0gZnJvbSAnLi9pbnRlcm5hbC9TdWJqZWN0JztcbmV4cG9ydCB7IEJlaGF2aW9yU3ViamVjdCB9IGZyb20gJy4vaW50ZXJuYWwvQmVoYXZpb3JTdWJqZWN0JztcbmV4cG9ydCB7IFJlcGxheVN1YmplY3QgfSBmcm9tICcuL2ludGVybmFsL1JlcGxheVN1YmplY3QnO1xuZXhwb3J0IHsgQXN5bmNTdWJqZWN0IH0gZnJvbSAnLi9pbnRlcm5hbC9Bc3luY1N1YmplY3QnO1xuZXhwb3J0IHsgYXNhcCwgYXNhcFNjaGVkdWxlciB9IGZyb20gJy4vaW50ZXJuYWwvc2NoZWR1bGVyL2FzYXAnO1xuZXhwb3J0IHsgYXN5bmMsIGFzeW5jU2NoZWR1bGVyIH0gZnJvbSAnLi9pbnRlcm5hbC9zY2hlZHVsZXIvYXN5bmMnO1xuZXhwb3J0IHsgcXVldWUsIHF1ZXVlU2NoZWR1bGVyIH0gZnJvbSAnLi9pbnRlcm5hbC9zY2hlZHVsZXIvcXVldWUnO1xuZXhwb3J0IHsgYW5pbWF0aW9uRnJhbWUsIGFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyIH0gZnJvbSAnLi9pbnRlcm5hbC9zY2hlZHVsZXIvYW5pbWF0aW9uRnJhbWUnO1xuZXhwb3J0IHsgVmlydHVhbFRpbWVTY2hlZHVsZXIsIFZpcnR1YWxBY3Rpb24gfSBmcm9tICcuL2ludGVybmFsL3NjaGVkdWxlci9WaXJ0dWFsVGltZVNjaGVkdWxlcic7XG5leHBvcnQgeyBTY2hlZHVsZXIgfSBmcm9tICcuL2ludGVybmFsL1NjaGVkdWxlcic7XG5leHBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuL2ludGVybmFsL1N1YnNjcmlwdGlvbic7XG5leHBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi9pbnRlcm5hbC9TdWJzY3JpYmVyJztcbmV4cG9ydCB7IE5vdGlmaWNhdGlvbiwgTm90aWZpY2F0aW9uS2luZCB9IGZyb20gJy4vaW50ZXJuYWwvTm90aWZpY2F0aW9uJztcbmV4cG9ydCB7IHBpcGUgfSBmcm9tICcuL2ludGVybmFsL3V0aWwvcGlwZSc7XG5leHBvcnQgeyBub29wIH0gZnJvbSAnLi9pbnRlcm5hbC91dGlsL25vb3AnO1xuZXhwb3J0IHsgaWRlbnRpdHkgfSBmcm9tICcuL2ludGVybmFsL3V0aWwvaWRlbnRpdHknO1xuZXhwb3J0IHsgaXNPYnNlcnZhYmxlIH0gZnJvbSAnLi9pbnRlcm5hbC91dGlsL2lzT2JzZXJ2YWJsZSc7XG5leHBvcnQgeyBBcmd1bWVudE91dE9mUmFuZ2VFcnJvciB9IGZyb20gJy4vaW50ZXJuYWwvdXRpbC9Bcmd1bWVudE91dE9mUmFuZ2VFcnJvcic7XG5leHBvcnQgeyBFbXB0eUVycm9yIH0gZnJvbSAnLi9pbnRlcm5hbC91dGlsL0VtcHR5RXJyb3InO1xuZXhwb3J0IHsgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IgfSBmcm9tICcuL2ludGVybmFsL3V0aWwvT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3InO1xuZXhwb3J0IHsgVW5zdWJzY3JpcHRpb25FcnJvciB9IGZyb20gJy4vaW50ZXJuYWwvdXRpbC9VbnN1YnNjcmlwdGlvbkVycm9yJztcbmV4cG9ydCB7IFRpbWVvdXRFcnJvciB9IGZyb20gJy4vaW50ZXJuYWwvdXRpbC9UaW1lb3V0RXJyb3InO1xuZXhwb3J0IHsgYmluZENhbGxiYWNrIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL2JpbmRDYWxsYmFjayc7XG5leHBvcnQgeyBiaW5kTm9kZUNhbGxiYWNrIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL2JpbmROb2RlQ2FsbGJhY2snO1xuZXhwb3J0IHsgY29tYmluZUxhdGVzdCB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9jb21iaW5lTGF0ZXN0JztcbmV4cG9ydCB7IGNvbmNhdCB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9jb25jYXQnO1xuZXhwb3J0IHsgZGVmZXIgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvZGVmZXInO1xuZXhwb3J0IHsgZW1wdHkgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvZW1wdHknO1xuZXhwb3J0IHsgZm9ya0pvaW4gfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvZm9ya0pvaW4nO1xuZXhwb3J0IHsgZnJvbSB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9mcm9tJztcbmV4cG9ydCB7IGZyb21FdmVudCB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9mcm9tRXZlbnQnO1xuZXhwb3J0IHsgZnJvbUV2ZW50UGF0dGVybiB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9mcm9tRXZlbnRQYXR0ZXJuJztcbmV4cG9ydCB7IGdlbmVyYXRlIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL2dlbmVyYXRlJztcbmV4cG9ydCB7IGlpZiB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9paWYnO1xuZXhwb3J0IHsgaW50ZXJ2YWwgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvaW50ZXJ2YWwnO1xuZXhwb3J0IHsgbWVyZ2UgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvbWVyZ2UnO1xuZXhwb3J0IHsgbmV2ZXIgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvbmV2ZXInO1xuZXhwb3J0IHsgb2YgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvb2YnO1xuZXhwb3J0IHsgb25FcnJvclJlc3VtZU5leHQgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvb25FcnJvclJlc3VtZU5leHQnO1xuZXhwb3J0IHsgcGFpcnMgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvcGFpcnMnO1xuZXhwb3J0IHsgcGFydGl0aW9uIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL3BhcnRpdGlvbic7XG5leHBvcnQgeyByYWNlIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL3JhY2UnO1xuZXhwb3J0IHsgcmFuZ2UgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvcmFuZ2UnO1xuZXhwb3J0IHsgdGhyb3dFcnJvciB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS90aHJvd0Vycm9yJztcbmV4cG9ydCB7IHRpbWVyIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL3RpbWVyJztcbmV4cG9ydCB7IHVzaW5nIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL3VzaW5nJztcbmV4cG9ydCB7IHppcCB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS96aXAnO1xuZXhwb3J0IHsgc2NoZWR1bGVkIH0gZnJvbSAnLi9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVkJztcbmV4cG9ydCB7IEVNUFRZIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL2VtcHR5JztcbmV4cG9ydCB7IE5FVkVSIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL25ldmVyJztcbmV4cG9ydCB7IGNvbmZpZyB9IGZyb20gJy4vaW50ZXJuYWwvY29uZmlnJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3ViamVjdCxfU3Vic2NyaXB0aW9uIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAnLi9TdWJqZWN0JztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3Vic2NyaXB0aW9uJztcbnZhciBBc3luY1N1YmplY3QgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQXN5bmNTdWJqZWN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFzeW5jU3ViamVjdCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnZhbHVlID0gbnVsbDtcbiAgICAgICAgX3RoaXMuaGFzTmV4dCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5oYXNDb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBc3luY1N1YmplY3QucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBpZiAodGhpcy5oYXNFcnJvcikge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcih0aGlzLnRocm93bkVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBTdWJzY3JpcHRpb24uRU1QVFk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5oYXNDb21wbGV0ZWQgJiYgdGhpcy5oYXNOZXh0KSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodGhpcy52YWx1ZSk7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLl9zdWJzY3JpYmUuY2FsbCh0aGlzLCBzdWJzY3JpYmVyKTtcbiAgICB9O1xuICAgIEFzeW5jU3ViamVjdC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXMuaGFzQ29tcGxldGVkKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmhhc05leHQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBc3luY1N1YmplY3QucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIGlmICghdGhpcy5oYXNDb21wbGV0ZWQpIHtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUuZXJyb3IuY2FsbCh0aGlzLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFzeW5jU3ViamVjdC5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaGFzQ29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuaGFzTmV4dCkge1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5uZXh0LmNhbGwodGhpcywgdGhpcy52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb21wbGV0ZS5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgcmV0dXJuIEFzeW5jU3ViamVjdDtcbn0oU3ViamVjdCkpO1xuZXhwb3J0IHsgQXN5bmNTdWJqZWN0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bc3luY1N1YmplY3QuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJqZWN0LF91dGlsX09iamVjdFVuc3Vic2NyaWJlZEVycm9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAnLi9TdWJqZWN0JztcbmltcG9ydCB7IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yIH0gZnJvbSAnLi91dGlsL09iamVjdFVuc3Vic2NyaWJlZEVycm9yJztcbnZhciBCZWhhdmlvclN1YmplY3QgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQmVoYXZpb3JTdWJqZWN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEJlaGF2aW9yU3ViamVjdChfdmFsdWUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX3ZhbHVlID0gX3ZhbHVlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCZWhhdmlvclN1YmplY3QucHJvdG90eXBlLCBcInZhbHVlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRWYWx1ZSgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBCZWhhdmlvclN1YmplY3QucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gX3N1cGVyLnByb3RvdHlwZS5fc3Vic2NyaWJlLmNhbGwodGhpcywgc3Vic2NyaWJlcik7XG4gICAgICAgIGlmIChzdWJzY3JpcHRpb24gJiYgIXN1YnNjcmlwdGlvbi5jbG9zZWQpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh0aGlzLl92YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICB9O1xuICAgIEJlaGF2aW9yU3ViamVjdC5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc0Vycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyB0aGlzLnRocm93bkVycm9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQmVoYXZpb3JTdWJqZWN0LnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUubmV4dC5jYWxsKHRoaXMsIHRoaXMuX3ZhbHVlID0gdmFsdWUpO1xuICAgIH07XG4gICAgcmV0dXJuIEJlaGF2aW9yU3ViamVjdDtcbn0oU3ViamVjdCkpO1xuZXhwb3J0IHsgQmVoYXZpb3JTdWJqZWN0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CZWhhdmlvclN1YmplY3QuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi9TdWJzY3JpYmVyJztcbnZhciBJbm5lclN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoSW5uZXJTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIElubmVyU3Vic2NyaWJlcihwYXJlbnQsIG91dGVyVmFsdWUsIG91dGVySW5kZXgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICBfdGhpcy5vdXRlclZhbHVlID0gb3V0ZXJWYWx1ZTtcbiAgICAgICAgX3RoaXMub3V0ZXJJbmRleCA9IG91dGVySW5kZXg7XG4gICAgICAgIF90aGlzLmluZGV4ID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBJbm5lclN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMucGFyZW50Lm5vdGlmeU5leHQodGhpcy5vdXRlclZhbHVlLCB2YWx1ZSwgdGhpcy5vdXRlckluZGV4LCB0aGlzLmluZGV4KyssIHRoaXMpO1xuICAgIH07XG4gICAgSW5uZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQubm90aWZ5RXJyb3IoZXJyb3IsIHRoaXMpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBJbm5lclN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQubm90aWZ5Q29tcGxldGUodGhpcyk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIHJldHVybiBJbm5lclN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IElubmVyU3Vic2NyaWJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW5uZXJTdWJzY3JpYmVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfb2JzZXJ2YWJsZV9lbXB0eSxfb2JzZXJ2YWJsZV9vZixfb2JzZXJ2YWJsZV90aHJvd0Vycm9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGVtcHR5IH0gZnJvbSAnLi9vYnNlcnZhYmxlL2VtcHR5JztcbmltcG9ydCB7IG9mIH0gZnJvbSAnLi9vYnNlcnZhYmxlL29mJztcbmltcG9ydCB7IHRocm93RXJyb3IgfSBmcm9tICcuL29ic2VydmFibGUvdGhyb3dFcnJvcic7XG5leHBvcnQgdmFyIE5vdGlmaWNhdGlvbktpbmQ7XG4vKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoTm90aWZpY2F0aW9uS2luZCkge1xuICAgIE5vdGlmaWNhdGlvbktpbmRbXCJORVhUXCJdID0gXCJOXCI7XG4gICAgTm90aWZpY2F0aW9uS2luZFtcIkVSUk9SXCJdID0gXCJFXCI7XG4gICAgTm90aWZpY2F0aW9uS2luZFtcIkNPTVBMRVRFXCJdID0gXCJDXCI7XG59KShOb3RpZmljYXRpb25LaW5kIHx8IChOb3RpZmljYXRpb25LaW5kID0ge30pKTtcbnZhciBOb3RpZmljYXRpb24gPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTm90aWZpY2F0aW9uKGtpbmQsIHZhbHVlLCBlcnJvcikge1xuICAgICAgICB0aGlzLmtpbmQgPSBraW5kO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBlcnJvcjtcbiAgICAgICAgdGhpcy5oYXNWYWx1ZSA9IGtpbmQgPT09ICdOJztcbiAgICB9XG4gICAgTm90aWZpY2F0aW9uLnByb3RvdHlwZS5vYnNlcnZlID0gZnVuY3Rpb24gKG9ic2VydmVyKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5raW5kKSB7XG4gICAgICAgICAgICBjYXNlICdOJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JzZXJ2ZXIubmV4dCAmJiBvYnNlcnZlci5uZXh0KHRoaXMudmFsdWUpO1xuICAgICAgICAgICAgY2FzZSAnRSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9ic2VydmVyLmVycm9yICYmIG9ic2VydmVyLmVycm9yKHRoaXMuZXJyb3IpO1xuICAgICAgICAgICAgY2FzZSAnQyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9ic2VydmVyLmNvbXBsZXRlICYmIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE5vdGlmaWNhdGlvbi5wcm90b3R5cGUuZG8gPSBmdW5jdGlvbiAobmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBraW5kID0gdGhpcy5raW5kO1xuICAgICAgICBzd2l0Y2ggKGtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgJ04nOlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0ICYmIG5leHQodGhpcy52YWx1ZSk7XG4gICAgICAgICAgICBjYXNlICdFJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IgJiYgZXJyb3IodGhpcy5lcnJvcik7XG4gICAgICAgICAgICBjYXNlICdDJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcGxldGUgJiYgY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTm90aWZpY2F0aW9uLnByb3RvdHlwZS5hY2NlcHQgPSBmdW5jdGlvbiAobmV4dE9yT2JzZXJ2ZXIsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICBpZiAobmV4dE9yT2JzZXJ2ZXIgJiYgdHlwZW9mIG5leHRPck9ic2VydmVyLm5leHQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9ic2VydmUobmV4dE9yT2JzZXJ2ZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZG8obmV4dE9yT2JzZXJ2ZXIsIGVycm9yLCBjb21wbGV0ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE5vdGlmaWNhdGlvbi5wcm90b3R5cGUudG9PYnNlcnZhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIga2luZCA9IHRoaXMua2luZDtcbiAgICAgICAgc3dpdGNoIChraW5kKSB7XG4gICAgICAgICAgICBjYXNlICdOJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gb2YodGhpcy52YWx1ZSk7XG4gICAgICAgICAgICBjYXNlICdFJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhyb3dFcnJvcih0aGlzLmVycm9yKTtcbiAgICAgICAgICAgIGNhc2UgJ0MnOlxuICAgICAgICAgICAgICAgIHJldHVybiBlbXB0eSgpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigndW5leHBlY3RlZCBub3RpZmljYXRpb24ga2luZCB2YWx1ZScpO1xuICAgIH07XG4gICAgTm90aWZpY2F0aW9uLmNyZWF0ZU5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTm90aWZpY2F0aW9uKCdOJywgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBOb3RpZmljYXRpb24udW5kZWZpbmVkVmFsdWVOb3RpZmljYXRpb247XG4gICAgfTtcbiAgICBOb3RpZmljYXRpb24uY3JlYXRlRXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBuZXcgTm90aWZpY2F0aW9uKCdFJywgdW5kZWZpbmVkLCBlcnIpO1xuICAgIH07XG4gICAgTm90aWZpY2F0aW9uLmNyZWF0ZUNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gTm90aWZpY2F0aW9uLmNvbXBsZXRlTm90aWZpY2F0aW9uO1xuICAgIH07XG4gICAgTm90aWZpY2F0aW9uLmNvbXBsZXRlTm90aWZpY2F0aW9uID0gbmV3IE5vdGlmaWNhdGlvbignQycpO1xuICAgIE5vdGlmaWNhdGlvbi51bmRlZmluZWRWYWx1ZU5vdGlmaWNhdGlvbiA9IG5ldyBOb3RpZmljYXRpb24oJ04nLCB1bmRlZmluZWQpO1xuICAgIHJldHVybiBOb3RpZmljYXRpb247XG59KCkpO1xuZXhwb3J0IHsgTm90aWZpY2F0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ob3RpZmljYXRpb24uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF91dGlsX2NhblJlcG9ydEVycm9yLF91dGlsX3RvU3Vic2NyaWJlcixfc3ltYm9sX29ic2VydmFibGUsX3V0aWxfcGlwZSxfY29uZmlnIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGNhblJlcG9ydEVycm9yIH0gZnJvbSAnLi91dGlsL2NhblJlcG9ydEVycm9yJztcbmltcG9ydCB7IHRvU3Vic2NyaWJlciB9IGZyb20gJy4vdXRpbC90b1N1YnNjcmliZXInO1xuaW1wb3J0IHsgb2JzZXJ2YWJsZSBhcyBTeW1ib2xfb2JzZXJ2YWJsZSB9IGZyb20gJy4vc3ltYm9sL29ic2VydmFibGUnO1xuaW1wb3J0IHsgcGlwZUZyb21BcnJheSB9IGZyb20gJy4vdXRpbC9waXBlJztcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4vY29uZmlnJztcbnZhciBPYnNlcnZhYmxlID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE9ic2VydmFibGUoc3Vic2NyaWJlKSB7XG4gICAgICAgIHRoaXMuX2lzU2NhbGFyID0gZmFsc2U7XG4gICAgICAgIGlmIChzdWJzY3JpYmUpIHtcbiAgICAgICAgICAgIHRoaXMuX3N1YnNjcmliZSA9IHN1YnNjcmliZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5saWZ0ID0gZnVuY3Rpb24gKG9wZXJhdG9yKSB7XG4gICAgICAgIHZhciBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUoKTtcbiAgICAgICAgb2JzZXJ2YWJsZS5zb3VyY2UgPSB0aGlzO1xuICAgICAgICBvYnNlcnZhYmxlLm9wZXJhdG9yID0gb3BlcmF0b3I7XG4gICAgICAgIHJldHVybiBvYnNlcnZhYmxlO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgdmFyIG9wZXJhdG9yID0gdGhpcy5vcGVyYXRvcjtcbiAgICAgICAgdmFyIHNpbmsgPSB0b1N1YnNjcmliZXIob2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSk7XG4gICAgICAgIGlmIChvcGVyYXRvcikge1xuICAgICAgICAgICAgc2luay5hZGQob3BlcmF0b3IuY2FsbChzaW5rLCB0aGlzLnNvdXJjZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2luay5hZGQodGhpcy5zb3VyY2UgfHwgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nICYmICFzaW5rLnN5bmNFcnJvclRocm93YWJsZSkgP1xuICAgICAgICAgICAgICAgIHRoaXMuX3N1YnNjcmliZShzaW5rKSA6XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJ5U3Vic2NyaWJlKHNpbmspKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgIGlmIChzaW5rLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgICAgICAgIHNpbmsuc3luY0Vycm9yVGhyb3dhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKHNpbmsuc3luY0Vycm9yVGhyb3duKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IHNpbmsuc3luY0Vycm9yVmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaW5rO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuX3RyeVN1YnNjcmliZSA9IGZ1bmN0aW9uIChzaW5rKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3Vic2NyaWJlKHNpbmspO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgICAgIHNpbmsuc3luY0Vycm9yVGhyb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzaW5rLnN5bmNFcnJvclZhbHVlID0gZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNhblJlcG9ydEVycm9yKHNpbmspKSB7XG4gICAgICAgICAgICAgICAgc2luay5lcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAobmV4dCwgcHJvbWlzZUN0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcHJvbWlzZUN0b3IgPSBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcik7XG4gICAgICAgIHJldHVybiBuZXcgcHJvbWlzZUN0b3IoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IF90aGlzLnN1YnNjcmliZShmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBuZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCByZWplY3QsIHJlc29sdmUpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIHJldHVybiBzb3VyY2UgJiYgc291cmNlLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlW1N5bWJvbF9vYnNlcnZhYmxlXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5waXBlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb3BlcmF0aW9ucyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgb3BlcmF0aW9uc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcGVyYXRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBpcGVGcm9tQXJyYXkob3BlcmF0aW9ucykodGhpcyk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS50b1Byb21pc2UgPSBmdW5jdGlvbiAocHJvbWlzZUN0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcHJvbWlzZUN0b3IgPSBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcik7XG4gICAgICAgIHJldHVybiBuZXcgcHJvbWlzZUN0b3IoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICAgICAgX3RoaXMuc3Vic2NyaWJlKGZ1bmN0aW9uICh4KSB7IHJldHVybiB2YWx1ZSA9IHg7IH0sIGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIHJlamVjdChlcnIpOyB9LCBmdW5jdGlvbiAoKSB7IHJldHVybiByZXNvbHZlKHZhbHVlKTsgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5jcmVhdGUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlKSB7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShzdWJzY3JpYmUpO1xuICAgIH07XG4gICAgcmV0dXJuIE9ic2VydmFibGU7XG59KCkpO1xuZXhwb3J0IHsgT2JzZXJ2YWJsZSB9O1xuZnVuY3Rpb24gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3IpIHtcbiAgICBpZiAoIXByb21pc2VDdG9yKSB7XG4gICAgICAgIHByb21pc2VDdG9yID0gY29uZmlnLlByb21pc2UgfHwgUHJvbWlzZTtcbiAgICB9XG4gICAgaWYgKCFwcm9taXNlQ3Rvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vIFByb21pc2UgaW1wbCBmb3VuZCcpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvbWlzZUN0b3I7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYnNlcnZhYmxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfY29uZmlnLF91dGlsX2hvc3RSZXBvcnRFcnJvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyBob3N0UmVwb3J0RXJyb3IgfSBmcm9tICcuL3V0aWwvaG9zdFJlcG9ydEVycm9yJztcbmV4cG9ydCB2YXIgZW1wdHkgPSB7XG4gICAgY2xvc2VkOiB0cnVlLFxuICAgIG5leHQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyB9LFxuICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7IH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYnNlcnZlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuL1N1YnNjcmliZXInO1xudmFyIE91dGVyU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhPdXRlclN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gT3V0ZXJTdWJzY3JpYmVyKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIE91dGVyU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dCA9IGZ1bmN0aW9uIChvdXRlclZhbHVlLCBpbm5lclZhbHVlLCBvdXRlckluZGV4LCBpbm5lckluZGV4LCBpbm5lclN1Yikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQoaW5uZXJWYWx1ZSk7XG4gICAgfTtcbiAgICBPdXRlclN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUVycm9yID0gZnVuY3Rpb24gKGVycm9yLCBpbm5lclN1Yikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycm9yKTtcbiAgICB9O1xuICAgIE91dGVyU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5Q29tcGxldGUgPSBmdW5jdGlvbiAoaW5uZXJTdWIpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIE91dGVyU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgT3V0ZXJTdWJzY3JpYmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PdXRlclN1YnNjcmliZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJqZWN0LF9zY2hlZHVsZXJfcXVldWUsX1N1YnNjcmlwdGlvbixfb3BlcmF0b3JzX29ic2VydmVPbixfdXRpbF9PYmplY3RVbnN1YnNjcmliZWRFcnJvcixfU3ViamVjdFN1YnNjcmlwdGlvbiBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJy4vU3ViamVjdCc7XG5pbXBvcnQgeyBxdWV1ZSB9IGZyb20gJy4vc2NoZWR1bGVyL3F1ZXVlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IE9ic2VydmVPblN1YnNjcmliZXIgfSBmcm9tICcuL29wZXJhdG9ycy9vYnNlcnZlT24nO1xuaW1wb3J0IHsgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IgfSBmcm9tICcuL3V0aWwvT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3InO1xuaW1wb3J0IHsgU3ViamVjdFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3ViamVjdFN1YnNjcmlwdGlvbic7XG52YXIgUmVwbGF5U3ViamVjdCA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhSZXBsYXlTdWJqZWN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlcGxheVN1YmplY3QoYnVmZmVyU2l6ZSwgd2luZG93VGltZSwgc2NoZWR1bGVyKSB7XG4gICAgICAgIGlmIChidWZmZXJTaXplID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGJ1ZmZlclNpemUgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdpbmRvd1RpbWUgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgd2luZG93VGltZSA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgICAgIF90aGlzLl9ldmVudHMgPSBbXTtcbiAgICAgICAgX3RoaXMuX2luZmluaXRlVGltZVdpbmRvdyA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5fYnVmZmVyU2l6ZSA9IGJ1ZmZlclNpemUgPCAxID8gMSA6IGJ1ZmZlclNpemU7XG4gICAgICAgIF90aGlzLl93aW5kb3dUaW1lID0gd2luZG93VGltZSA8IDEgPyAxIDogd2luZG93VGltZTtcbiAgICAgICAgaWYgKHdpbmRvd1RpbWUgPT09IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSkge1xuICAgICAgICAgICAgX3RoaXMuX2luZmluaXRlVGltZVdpbmRvdyA9IHRydWU7XG4gICAgICAgICAgICBfdGhpcy5uZXh0ID0gX3RoaXMubmV4dEluZmluaXRlVGltZVdpbmRvdztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLm5leHQgPSBfdGhpcy5uZXh0VGltZVdpbmRvdztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFJlcGxheVN1YmplY3QucHJvdG90eXBlLm5leHRJbmZpbml0ZVRpbWVXaW5kb3cgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdmFyIF9ldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICAgICAgICBfZXZlbnRzLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgaWYgKF9ldmVudHMubGVuZ3RoID4gdGhpcy5fYnVmZmVyU2l6ZSkge1xuICAgICAgICAgICAgICAgIF9ldmVudHMuc2hpZnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLm5leHQuY2FsbCh0aGlzLCB2YWx1ZSk7XG4gICAgfTtcbiAgICBSZXBsYXlTdWJqZWN0LnByb3RvdHlwZS5uZXh0VGltZVdpbmRvdyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9ldmVudHMucHVzaChuZXcgUmVwbGF5RXZlbnQodGhpcy5fZ2V0Tm93KCksIHZhbHVlKSk7XG4gICAgICAgICAgICB0aGlzLl90cmltQnVmZmVyVGhlbkdldEV2ZW50cygpO1xuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUubmV4dC5jYWxsKHRoaXMsIHZhbHVlKTtcbiAgICB9O1xuICAgIFJlcGxheVN1YmplY3QucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgX2luZmluaXRlVGltZVdpbmRvdyA9IHRoaXMuX2luZmluaXRlVGltZVdpbmRvdztcbiAgICAgICAgdmFyIF9ldmVudHMgPSBfaW5maW5pdGVUaW1lV2luZG93ID8gdGhpcy5fZXZlbnRzIDogdGhpcy5fdHJpbUJ1ZmZlclRoZW5HZXRFdmVudHMoKTtcbiAgICAgICAgdmFyIHNjaGVkdWxlciA9IHRoaXMuc2NoZWR1bGVyO1xuICAgICAgICB2YXIgbGVuID0gX2V2ZW50cy5sZW5ndGg7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb247XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5pc1N0b3BwZWQgfHwgdGhpcy5oYXNFcnJvcikge1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlcnMucHVzaChzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IG5ldyBTdWJqZWN0U3Vic2NyaXB0aW9uKHRoaXMsIHN1YnNjcmliZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzY2hlZHVsZXIpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuYWRkKHN1YnNjcmliZXIgPSBuZXcgT2JzZXJ2ZU9uU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBzY2hlZHVsZXIpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX2luZmluaXRlVGltZVdpbmRvdykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW4gJiYgIXN1YnNjcmliZXIuY2xvc2VkOyBpKyspIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoX2V2ZW50c1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbiAmJiAhc3Vic2NyaWJlci5jbG9zZWQ7IGkrKykge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChfZXZlbnRzW2ldLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5oYXNFcnJvcikge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcih0aGlzLnRocm93bkVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgfTtcbiAgICBSZXBsYXlTdWJqZWN0LnByb3RvdHlwZS5fZ2V0Tm93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuc2NoZWR1bGVyIHx8IHF1ZXVlKS5ub3coKTtcbiAgICB9O1xuICAgIFJlcGxheVN1YmplY3QucHJvdG90eXBlLl90cmltQnVmZmVyVGhlbkdldEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5vdyA9IHRoaXMuX2dldE5vdygpO1xuICAgICAgICB2YXIgX2J1ZmZlclNpemUgPSB0aGlzLl9idWZmZXJTaXplO1xuICAgICAgICB2YXIgX3dpbmRvd1RpbWUgPSB0aGlzLl93aW5kb3dUaW1lO1xuICAgICAgICB2YXIgX2V2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgICAgdmFyIGV2ZW50c0NvdW50ID0gX2V2ZW50cy5sZW5ndGg7XG4gICAgICAgIHZhciBzcGxpY2VDb3VudCA9IDA7XG4gICAgICAgIHdoaWxlIChzcGxpY2VDb3VudCA8IGV2ZW50c0NvdW50KSB7XG4gICAgICAgICAgICBpZiAoKG5vdyAtIF9ldmVudHNbc3BsaWNlQ291bnRdLnRpbWUpIDwgX3dpbmRvd1RpbWUpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNwbGljZUNvdW50Kys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50c0NvdW50ID4gX2J1ZmZlclNpemUpIHtcbiAgICAgICAgICAgIHNwbGljZUNvdW50ID0gTWF0aC5tYXgoc3BsaWNlQ291bnQsIGV2ZW50c0NvdW50IC0gX2J1ZmZlclNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzcGxpY2VDb3VudCA+IDApIHtcbiAgICAgICAgICAgIF9ldmVudHMuc3BsaWNlKDAsIHNwbGljZUNvdW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX2V2ZW50cztcbiAgICB9O1xuICAgIHJldHVybiBSZXBsYXlTdWJqZWN0O1xufShTdWJqZWN0KSk7XG5leHBvcnQgeyBSZXBsYXlTdWJqZWN0IH07XG52YXIgUmVwbGF5RXZlbnQgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVwbGF5RXZlbnQodGltZSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy50aW1lID0gdGltZTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gUmVwbGF5RXZlbnQ7XG59KCkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVwbGF5U3ViamVjdC5qcy5tYXBcbiIsInZhciBTY2hlZHVsZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2NoZWR1bGVyKFNjaGVkdWxlckFjdGlvbiwgbm93KSB7XG4gICAgICAgIGlmIChub3cgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgbm93ID0gU2NoZWR1bGVyLm5vdztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLlNjaGVkdWxlckFjdGlvbiA9IFNjaGVkdWxlckFjdGlvbjtcbiAgICAgICAgdGhpcy5ub3cgPSBub3c7XG4gICAgfVxuICAgIFNjaGVkdWxlci5wcm90b3R5cGUuc2NoZWR1bGUgPSBmdW5jdGlvbiAod29yaywgZGVsYXksIHN0YXRlKSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzLlNjaGVkdWxlckFjdGlvbih0aGlzLCB3b3JrKS5zY2hlZHVsZShzdGF0ZSwgZGVsYXkpO1xuICAgIH07XG4gICAgU2NoZWR1bGVyLm5vdyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIERhdGUubm93KCk7IH07XG4gICAgcmV0dXJuIFNjaGVkdWxlcjtcbn0oKSk7XG5leHBvcnQgeyBTY2hlZHVsZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNjaGVkdWxlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX09ic2VydmFibGUsX1N1YnNjcmliZXIsX1N1YnNjcmlwdGlvbixfdXRpbF9PYmplY3RVbnN1YnNjcmliZWRFcnJvcixfU3ViamVjdFN1YnNjcmlwdGlvbixfaW50ZXJuYWxfc3ltYm9sX3J4U3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yIH0gZnJvbSAnLi91dGlsL09iamVjdFVuc3Vic2NyaWJlZEVycm9yJztcbmltcG9ydCB7IFN1YmplY3RTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YmplY3RTdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgcnhTdWJzY3JpYmVyIGFzIHJ4U3Vic2NyaWJlclN5bWJvbCB9IGZyb20gJy4uL2ludGVybmFsL3N5bWJvbC9yeFN1YnNjcmliZXInO1xudmFyIFN1YmplY3RTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFN1YmplY3RTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN1YmplY3RTdWJzY3JpYmVyKGRlc3RpbmF0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBTdWJqZWN0U3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgU3ViamVjdFN1YnNjcmliZXIgfTtcbnZhciBTdWJqZWN0ID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFN1YmplY3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3ViamVjdCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMub2JzZXJ2ZXJzID0gW107XG4gICAgICAgIF90aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5pc1N0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuaGFzRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMudGhyb3duRXJyb3IgPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN1YmplY3QucHJvdG90eXBlW3J4U3Vic2NyaWJlclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3ViamVjdFN1YnNjcmliZXIodGhpcyk7XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5saWZ0ID0gZnVuY3Rpb24gKG9wZXJhdG9yKSB7XG4gICAgICAgIHZhciBzdWJqZWN0ID0gbmV3IEFub255bW91c1N1YmplY3QodGhpcywgdGhpcyk7XG4gICAgICAgIHN1YmplY3Qub3BlcmF0b3IgPSBvcGVyYXRvcjtcbiAgICAgICAgcmV0dXJuIHN1YmplY3Q7XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdmFyIG9ic2VydmVycyA9IHRoaXMub2JzZXJ2ZXJzO1xuICAgICAgICAgICAgdmFyIGxlbiA9IG9ic2VydmVycy5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgY29weSA9IG9ic2VydmVycy5zbGljZSgpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGNvcHlbaV0ubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPYmplY3RVbnN1YnNjcmliZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGFzRXJyb3IgPSB0cnVlO1xuICAgICAgICB0aGlzLnRocm93bkVycm9yID0gZXJyO1xuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgIHZhciBvYnNlcnZlcnMgPSB0aGlzLm9ic2VydmVycztcbiAgICAgICAgdmFyIGxlbiA9IG9ic2VydmVycy5sZW5ndGg7XG4gICAgICAgIHZhciBjb3B5ID0gb2JzZXJ2ZXJzLnNsaWNlKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGNvcHlbaV0uZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9ic2VydmVycy5sZW5ndGggPSAwO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICB2YXIgb2JzZXJ2ZXJzID0gdGhpcy5vYnNlcnZlcnM7XG4gICAgICAgIHZhciBsZW4gPSBvYnNlcnZlcnMubGVuZ3RoO1xuICAgICAgICB2YXIgY29weSA9IG9ic2VydmVycy5zbGljZSgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBjb3B5W2ldLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vYnNlcnZlcnMubGVuZ3RoID0gMDtcbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5vYnNlcnZlcnMgPSBudWxsO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuX3RyeVN1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5fdHJ5U3Vic2NyaWJlLmNhbGwodGhpcywgc3Vic2NyaWJlcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPYmplY3RVbnN1YnNjcmliZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaGFzRXJyb3IpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IodGhpcy50aHJvd25FcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlcnMucHVzaChzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3ViamVjdFN1YnNjcmlwdGlvbih0aGlzLCBzdWJzY3JpYmVyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuYXNPYnNlcnZhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKCk7XG4gICAgICAgIG9ic2VydmFibGUuc291cmNlID0gdGhpcztcbiAgICAgICAgcmV0dXJuIG9ic2VydmFibGU7XG4gICAgfTtcbiAgICBTdWJqZWN0LmNyZWF0ZSA9IGZ1bmN0aW9uIChkZXN0aW5hdGlvbiwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBuZXcgQW5vbnltb3VzU3ViamVjdChkZXN0aW5hdGlvbiwgc291cmNlKTtcbiAgICB9O1xuICAgIHJldHVybiBTdWJqZWN0O1xufShPYnNlcnZhYmxlKSk7XG5leHBvcnQgeyBTdWJqZWN0IH07XG52YXIgQW5vbnltb3VzU3ViamVjdCA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhBbm9ueW1vdXNTdWJqZWN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFub255bW91c1N1YmplY3QoZGVzdGluYXRpb24sIHNvdXJjZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uO1xuICAgICAgICBfdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQW5vbnltb3VzU3ViamVjdC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICBpZiAoZGVzdGluYXRpb24gJiYgZGVzdGluYXRpb24ubmV4dCkge1xuICAgICAgICAgICAgZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFub255bW91c1N1YmplY3QucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICBpZiAoZGVzdGluYXRpb24gJiYgZGVzdGluYXRpb24uZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQW5vbnltb3VzU3ViamVjdC5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGlmIChkZXN0aW5hdGlvbiAmJiBkZXN0aW5hdGlvbi5jb21wbGV0ZSkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBbm9ueW1vdXNTdWJqZWN0LnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zb3VyY2Uuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFN1YnNjcmlwdGlvbi5FTVBUWTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFub255bW91c1N1YmplY3Q7XG59KFN1YmplY3QpKTtcbmV4cG9ydCB7IEFub255bW91c1N1YmplY3QgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN1YmplY3QuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpcHRpb24gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3Vic2NyaXB0aW9uJztcbnZhciBTdWJqZWN0U3Vic2NyaXB0aW9uID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFN1YmplY3RTdWJzY3JpcHRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3ViamVjdFN1YnNjcmlwdGlvbihzdWJqZWN0LCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnN1YmplY3QgPSBzdWJqZWN0O1xuICAgICAgICBfdGhpcy5zdWJzY3JpYmVyID0gc3Vic2NyaWJlcjtcbiAgICAgICAgX3RoaXMuY2xvc2VkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3ViamVjdFN1YnNjcmlwdGlvbi5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgdmFyIHN1YmplY3QgPSB0aGlzLnN1YmplY3Q7XG4gICAgICAgIHZhciBvYnNlcnZlcnMgPSBzdWJqZWN0Lm9ic2VydmVycztcbiAgICAgICAgdGhpcy5zdWJqZWN0ID0gbnVsbDtcbiAgICAgICAgaWYgKCFvYnNlcnZlcnMgfHwgb2JzZXJ2ZXJzLmxlbmd0aCA9PT0gMCB8fCBzdWJqZWN0LmlzU3RvcHBlZCB8fCBzdWJqZWN0LmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdWJzY3JpYmVySW5kZXggPSBvYnNlcnZlcnMuaW5kZXhPZih0aGlzLnN1YnNjcmliZXIpO1xuICAgICAgICBpZiAoc3Vic2NyaWJlckluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgb2JzZXJ2ZXJzLnNwbGljZShzdWJzY3JpYmVySW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gU3ViamVjdFN1YnNjcmlwdGlvbjtcbn0oU3Vic2NyaXB0aW9uKSk7XG5leHBvcnQgeyBTdWJqZWN0U3Vic2NyaXB0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJqZWN0U3Vic2NyaXB0aW9uLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfdXRpbF9pc0Z1bmN0aW9uLF9PYnNlcnZlcixfU3Vic2NyaXB0aW9uLF9pbnRlcm5hbF9zeW1ib2xfcnhTdWJzY3JpYmVyLF9jb25maWcsX3V0aWxfaG9zdFJlcG9ydEVycm9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgZW1wdHkgYXMgZW1wdHlPYnNlcnZlciB9IGZyb20gJy4vT2JzZXJ2ZXInO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgcnhTdWJzY3JpYmVyIGFzIHJ4U3Vic2NyaWJlclN5bWJvbCB9IGZyb20gJy4uL2ludGVybmFsL3N5bWJvbC9yeFN1YnNjcmliZXInO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHsgaG9zdFJlcG9ydEVycm9yIH0gZnJvbSAnLi91dGlsL2hvc3RSZXBvcnRFcnJvcic7XG52YXIgU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN1YnNjcmliZXIoZGVzdGluYXRpb25Pck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zeW5jRXJyb3JWYWx1ZSA9IG51bGw7XG4gICAgICAgIF90aGlzLnN5bmNFcnJvclRocm93biA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5zeW5jRXJyb3JUaHJvd2FibGUgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuaXNTdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZW1wdHlPYnNlcnZlcjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBpZiAoIWRlc3RpbmF0aW9uT3JOZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZW1wdHlPYnNlcnZlcjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGVzdGluYXRpb25Pck5leHQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXN0aW5hdGlvbk9yTmV4dCBpbnN0YW5jZW9mIFN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnN5bmNFcnJvclRocm93YWJsZSA9IGRlc3RpbmF0aW9uT3JOZXh0LnN5bmNFcnJvclRocm93YWJsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZGVzdGluYXRpb25Pck5leHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbk9yTmV4dC5hZGQoX3RoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3luY0Vycm9yVGhyb3dhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gbmV3IFNhZmVTdWJzY3JpYmVyKF90aGlzLCBkZXN0aW5hdGlvbk9yTmV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBfdGhpcy5zeW5jRXJyb3JUaHJvd2FibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gbmV3IFNhZmVTdWJzY3JpYmVyKF90aGlzLCBkZXN0aW5hdGlvbk9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN1YnNjcmliZXIucHJvdG90eXBlW3J4U3Vic2NyaWJlclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9O1xuICAgIFN1YnNjcmliZXIuY3JlYXRlID0gZnVuY3Rpb24gKG5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgc3Vic2NyaWJlciA9IG5ldyBTdWJzY3JpYmVyKG5leHQsIGVycm9yLCBjb21wbGV0ZSk7XG4gICAgICAgIHN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVyO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9uZXh0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2Vycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fdW5zdWJzY3JpYmVBbmRSZWN5Y2xlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3BhcmVudE9yUGFyZW50cyA9IHRoaXMuX3BhcmVudE9yUGFyZW50cztcbiAgICAgICAgdGhpcy5fcGFyZW50T3JQYXJlbnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wYXJlbnRPclBhcmVudHMgPSBfcGFyZW50T3JQYXJlbnRzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIHJldHVybiBTdWJzY3JpYmVyO1xufShTdWJzY3JpcHRpb24pKTtcbmV4cG9ydCB7IFN1YnNjcmliZXIgfTtcbnZhciBTYWZlU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhTYWZlU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTYWZlU3Vic2NyaWJlcihfcGFyZW50U3Vic2NyaWJlciwgb2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fcGFyZW50U3Vic2NyaWJlciA9IF9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICB2YXIgbmV4dDtcbiAgICAgICAgdmFyIGNvbnRleHQgPSBfdGhpcztcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24ob2JzZXJ2ZXJPck5leHQpKSB7XG4gICAgICAgICAgICBuZXh0ID0gb2JzZXJ2ZXJPck5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob2JzZXJ2ZXJPck5leHQpIHtcbiAgICAgICAgICAgIG5leHQgPSBvYnNlcnZlck9yTmV4dC5uZXh0O1xuICAgICAgICAgICAgZXJyb3IgPSBvYnNlcnZlck9yTmV4dC5lcnJvcjtcbiAgICAgICAgICAgIGNvbXBsZXRlID0gb2JzZXJ2ZXJPck5leHQuY29tcGxldGU7XG4gICAgICAgICAgICBpZiAob2JzZXJ2ZXJPck5leHQgIT09IGVtcHR5T2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0ID0gT2JqZWN0LmNyZWF0ZShvYnNlcnZlck9yTmV4dCk7XG4gICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oY29udGV4dC51bnN1YnNjcmliZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWRkKGNvbnRleHQudW5zdWJzY3JpYmUuYmluZChjb250ZXh0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRleHQudW5zdWJzY3JpYmUgPSBfdGhpcy51bnN1YnNjcmliZS5iaW5kKF90aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5fY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIF90aGlzLl9uZXh0ID0gbmV4dDtcbiAgICAgICAgX3RoaXMuX2Vycm9yID0gZXJyb3I7XG4gICAgICAgIF90aGlzLl9jb21wbGV0ZSA9IGNvbXBsZXRlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQgJiYgdGhpcy5fbmV4dCkge1xuICAgICAgICAgICAgdmFyIF9wYXJlbnRTdWJzY3JpYmVyID0gdGhpcy5fcGFyZW50U3Vic2NyaWJlcjtcbiAgICAgICAgICAgIGlmICghY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgfHwgIV9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX190cnlPclVuc3ViKHRoaXMuX25leHQsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX190cnlPclNldEVycm9yKF9wYXJlbnRTdWJzY3JpYmVyLCB0aGlzLl9uZXh0LCB2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdmFyIF9wYXJlbnRTdWJzY3JpYmVyID0gdGhpcy5fcGFyZW50U3Vic2NyaWJlcjtcbiAgICAgICAgICAgIHZhciB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nID0gY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmc7XG4gICAgICAgICAgICBpZiAodGhpcy5fZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgfHwgIV9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JVbnN1Yih0aGlzLl9lcnJvciwgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fX3RyeU9yU2V0RXJyb3IoX3BhcmVudFN1YnNjcmliZXIsIHRoaXMuX2Vycm9yLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIV9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICBpZiAodXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGhvc3RSZXBvcnRFcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVmFsdWUgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgIF9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBob3N0UmVwb3J0RXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHZhciBfcGFyZW50U3Vic2NyaWJlciA9IHRoaXMuX3BhcmVudFN1YnNjcmliZXI7XG4gICAgICAgICAgICBpZiAodGhpcy5fY29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgd3JhcHBlZENvbXBsZXRlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX2NvbXBsZXRlLmNhbGwoX3RoaXMuX2NvbnRleHQpOyB9O1xuICAgICAgICAgICAgICAgIGlmICghY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgfHwgIV9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JVbnN1Yih3cmFwcGVkQ29tcGxldGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JTZXRFcnJvcihfcGFyZW50U3Vic2NyaWJlciwgd3JhcHBlZENvbXBsZXRlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLl9fdHJ5T3JVbnN1YiA9IGZ1bmN0aW9uIChmbiwgdmFsdWUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZuLmNhbGwodGhpcy5fY29udGV4dCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGhvc3RSZXBvcnRFcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuX190cnlPclNldEVycm9yID0gZnVuY3Rpb24gKHBhcmVudCwgZm4sIHZhbHVlKSB7XG4gICAgICAgIGlmICghY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYmFkIGNhbGwnKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm4uY2FsbCh0aGlzLl9jb250ZXh0LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50LnN5bmNFcnJvclZhbHVlID0gZXJyO1xuICAgICAgICAgICAgICAgIHBhcmVudC5zeW5jRXJyb3JUaHJvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLl91bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9wYXJlbnRTdWJzY3JpYmVyID0gdGhpcy5fcGFyZW50U3Vic2NyaWJlcjtcbiAgICAgICAgdGhpcy5fY29udGV4dCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3BhcmVudFN1YnNjcmliZXIgPSBudWxsO1xuICAgICAgICBfcGFyZW50U3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIFNhZmVTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBTYWZlU3Vic2NyaWJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3Vic2NyaWJlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3V0aWxfaXNBcnJheSxfdXRpbF9pc09iamVjdCxfdXRpbF9pc0Z1bmN0aW9uLF91dGlsX1Vuc3Vic2NyaXB0aW9uRXJyb3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4vdXRpbC9pc0FycmF5JztcbmltcG9ydCB7IGlzT2JqZWN0IH0gZnJvbSAnLi91dGlsL2lzT2JqZWN0JztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBVbnN1YnNjcmlwdGlvbkVycm9yIH0gZnJvbSAnLi91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3InO1xudmFyIFN1YnNjcmlwdGlvbiA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdWJzY3JpcHRpb24odW5zdWJzY3JpYmUpIHtcbiAgICAgICAgdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcGFyZW50T3JQYXJlbnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9ucyA9IG51bGw7XG4gICAgICAgIGlmICh1bnN1YnNjcmliZSkge1xuICAgICAgICAgICAgdGhpcy5fY3RvclVuc3Vic2NyaWJlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX3Vuc3Vic2NyaWJlID0gdW5zdWJzY3JpYmU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVycm9ycztcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hID0gdGhpcywgX3BhcmVudE9yUGFyZW50cyA9IF9hLl9wYXJlbnRPclBhcmVudHMsIF9jdG9yVW5zdWJzY3JpYmUgPSBfYS5fY3RvclVuc3Vic2NyaWJlLCBfdW5zdWJzY3JpYmUgPSBfYS5fdW5zdWJzY3JpYmUsIF9zdWJzY3JpcHRpb25zID0gX2EuX3N1YnNjcmlwdGlvbnM7XG4gICAgICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcGFyZW50T3JQYXJlbnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9ucyA9IG51bGw7XG4gICAgICAgIGlmIChfcGFyZW50T3JQYXJlbnRzIGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICBfcGFyZW50T3JQYXJlbnRzLnJlbW92ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChfcGFyZW50T3JQYXJlbnRzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgX3BhcmVudE9yUGFyZW50cy5sZW5ndGg7ICsraW5kZXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50XzEgPSBfcGFyZW50T3JQYXJlbnRzW2luZGV4XTtcbiAgICAgICAgICAgICAgICBwYXJlbnRfMS5yZW1vdmUodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oX3Vuc3Vic2NyaWJlKSkge1xuICAgICAgICAgICAgaWYgKF9jdG9yVW5zdWJzY3JpYmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91bnN1YnNjcmliZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgX3Vuc3Vic2NyaWJlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGVycm9ycyA9IGUgaW5zdGFuY2VvZiBVbnN1YnNjcmlwdGlvbkVycm9yID8gZmxhdHRlblVuc3Vic2NyaXB0aW9uRXJyb3JzKGUuZXJyb3JzKSA6IFtlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBcnJheShfc3Vic2NyaXB0aW9ucykpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgICAgICAgdmFyIGxlbiA9IF9zdWJzY3JpcHRpb25zLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN1YiA9IF9zdWJzY3JpcHRpb25zW2luZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAoaXNPYmplY3Qoc3ViKSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycy5jb25jYXQoZmxhdHRlblVuc3Vic2NyaXB0aW9uRXJyb3JzKGUuZXJyb3JzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaChlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3JzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVW5zdWJzY3JpcHRpb25FcnJvcihlcnJvcnMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uICh0ZWFyZG93bikge1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gdGVhcmRvd247XG4gICAgICAgIGlmICghdGVhcmRvd24pIHtcbiAgICAgICAgICAgIHJldHVybiBTdWJzY3JpcHRpb24uRU1QVFk7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoICh0eXBlb2YgdGVhcmRvd24pIHtcbiAgICAgICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBuZXcgU3Vic2NyaXB0aW9uKHRlYXJkb3duKTtcbiAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbiA9PT0gdGhpcyB8fCBzdWJzY3JpcHRpb24uY2xvc2VkIHx8IHR5cGVvZiBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCEoc3Vic2NyaXB0aW9uIGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdG1wID0gc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbi5fc3Vic2NyaXB0aW9ucyA9IFt0bXBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VucmVjb2duaXplZCB0ZWFyZG93biAnICsgdGVhcmRvd24gKyAnIGFkZGVkIHRvIFN1YnNjcmlwdGlvbi4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgX3BhcmVudE9yUGFyZW50cyA9IHN1YnNjcmlwdGlvbi5fcGFyZW50T3JQYXJlbnRzO1xuICAgICAgICBpZiAoX3BhcmVudE9yUGFyZW50cyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uLl9wYXJlbnRPclBhcmVudHMgPSB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF9wYXJlbnRPclBhcmVudHMgaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIGlmIChfcGFyZW50T3JQYXJlbnRzID09PSB0aGlzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbi5fcGFyZW50T3JQYXJlbnRzID0gW19wYXJlbnRPclBhcmVudHMsIHRoaXNdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF9wYXJlbnRPclBhcmVudHMuaW5kZXhPZih0aGlzKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIF9wYXJlbnRPclBhcmVudHMucHVzaCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbnMgPSB0aGlzLl9zdWJzY3JpcHRpb25zO1xuICAgICAgICBpZiAoc3Vic2NyaXB0aW9ucyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9ucyA9IFtzdWJzY3JpcHRpb25dO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9ucy5wdXNoKHN1YnNjcmlwdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKHN1YnNjcmlwdGlvbikge1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9ucyA9IHRoaXMuX3N1YnNjcmlwdGlvbnM7XG4gICAgICAgIGlmIChzdWJzY3JpcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaXB0aW9uSW5kZXggPSBzdWJzY3JpcHRpb25zLmluZGV4T2Yoc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb25JbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb25zLnNwbGljZShzdWJzY3JpcHRpb25JbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5FTVBUWSA9IChmdW5jdGlvbiAoZW1wdHkpIHtcbiAgICAgICAgZW1wdHkuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGVtcHR5O1xuICAgIH0obmV3IFN1YnNjcmlwdGlvbigpKSk7XG4gICAgcmV0dXJuIFN1YnNjcmlwdGlvbjtcbn0oKSk7XG5leHBvcnQgeyBTdWJzY3JpcHRpb24gfTtcbmZ1bmN0aW9uIGZsYXR0ZW5VbnN1YnNjcmlwdGlvbkVycm9ycyhlcnJvcnMpIHtcbiAgICByZXR1cm4gZXJyb3JzLnJlZHVjZShmdW5jdGlvbiAoZXJycywgZXJyKSB7IHJldHVybiBlcnJzLmNvbmNhdCgoZXJyIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvcikgPyBlcnIuZXJyb3JzIDogZXJyKTsgfSwgW10pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3Vic2NyaXB0aW9uLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xudmFyIF9lbmFibGVfc3VwZXJfZ3Jvc3NfbW9kZV90aGF0X3dpbGxfY2F1c2VfYmFkX3RoaW5ncyA9IGZhbHNlO1xuZXhwb3J0IHZhciBjb25maWcgPSB7XG4gICAgUHJvbWlzZTogdW5kZWZpbmVkLFxuICAgIHNldCB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGVycm9yID0gLypAX19QVVJFX18qLyBuZXcgRXJyb3IoKTtcbiAgICAgICAgICAgIC8qQF9fUFVSRV9fKi8gY29uc29sZS53YXJuKCdERVBSRUNBVEVEISBSeEpTIHdhcyBzZXQgdG8gdXNlIGRlcHJlY2F0ZWQgc3luY2hyb25vdXMgZXJyb3IgaGFuZGxpbmcgYmVoYXZpb3IgYnkgY29kZSBhdDogXFxuJyArIGVycm9yLnN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3MpIHtcbiAgICAgICAgICAgIC8qQF9fUFVSRV9fKi8gY29uc29sZS5sb2coJ1J4SlM6IEJhY2sgdG8gYSBiZXR0ZXIgZXJyb3IgYmVoYXZpb3IuIFRoYW5rIHlvdS4gPDMnKTtcbiAgICAgICAgfVxuICAgICAgICBfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3MgPSB2YWx1ZTtcbiAgICB9LFxuICAgIGdldCB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKCkge1xuICAgICAgICByZXR1cm4gX2VuYWJsZV9zdXBlcl9ncm9zc19tb2RlX3RoYXRfd2lsbF9jYXVzZV9iYWRfdGhpbmdzO1xuICAgIH0sXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uZmlnLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlcixfT2JzZXJ2YWJsZSxfdXRpbF9zdWJzY3JpYmVUbyBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IHN1YnNjcmliZVRvIH0gZnJvbSAnLi91dGlsL3N1YnNjcmliZVRvJztcbnZhciBTaW1wbGVJbm5lclN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU2ltcGxlSW5uZXJTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNpbXBsZUlubmVyU3Vic2NyaWJlcihwYXJlbnQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFNpbXBsZUlubmVyU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQubm90aWZ5TmV4dCh2YWx1ZSk7XG4gICAgfTtcbiAgICBTaW1wbGVJbm5lclN1YnNjcmliZXIucHJvdG90eXBlLl9lcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICB0aGlzLnBhcmVudC5ub3RpZnlFcnJvcihlcnJvcik7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIFNpbXBsZUlubmVyU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnBhcmVudC5ub3RpZnlDb21wbGV0ZSgpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gU2ltcGxlSW5uZXJTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBTaW1wbGVJbm5lclN1YnNjcmliZXIgfTtcbnZhciBDb21wbGV4SW5uZXJTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKENvbXBsZXhJbm5lclN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ29tcGxleElubmVyU3Vic2NyaWJlcihwYXJlbnQsIG91dGVyVmFsdWUsIG91dGVySW5kZXgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICBfdGhpcy5vdXRlclZhbHVlID0gb3V0ZXJWYWx1ZTtcbiAgICAgICAgX3RoaXMub3V0ZXJJbmRleCA9IG91dGVySW5kZXg7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQ29tcGxleElubmVyU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQubm90aWZ5TmV4dCh0aGlzLm91dGVyVmFsdWUsIHZhbHVlLCB0aGlzLm91dGVySW5kZXgsIHRoaXMpO1xuICAgIH07XG4gICAgQ29tcGxleElubmVyU3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIHRoaXMucGFyZW50Lm5vdGlmeUVycm9yKGVycm9yKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgQ29tcGxleElubmVyU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnBhcmVudC5ub3RpZnlDb21wbGV0ZSh0aGlzKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIENvbXBsZXhJbm5lclN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IENvbXBsZXhJbm5lclN1YnNjcmliZXIgfTtcbnZhciBTaW1wbGVPdXRlclN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU2ltcGxlT3V0ZXJTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNpbXBsZU91dGVyU3Vic2NyaWJlcigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBTaW1wbGVPdXRlclN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQgPSBmdW5jdGlvbiAoaW5uZXJWYWx1ZSkge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQoaW5uZXJWYWx1ZSk7XG4gICAgfTtcbiAgICBTaW1wbGVPdXRlclN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgfTtcbiAgICBTaW1wbGVPdXRlclN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gU2ltcGxlT3V0ZXJTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBTaW1wbGVPdXRlclN1YnNjcmliZXIgfTtcbnZhciBDb21wbGV4T3V0ZXJTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKENvbXBsZXhPdXRlclN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ29tcGxleE91dGVyU3Vic2NyaWJlcigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBDb21wbGV4T3V0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlOZXh0ID0gZnVuY3Rpb24gKF9vdXRlclZhbHVlLCBpbm5lclZhbHVlLCBfb3V0ZXJJbmRleCwgX2lubmVyU3ViKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChpbm5lclZhbHVlKTtcbiAgICB9O1xuICAgIENvbXBsZXhPdXRlclN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyb3IpO1xuICAgIH07XG4gICAgQ29tcGxleE91dGVyU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5Q29tcGxldGUgPSBmdW5jdGlvbiAoX2lubmVyU3ViKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICB9O1xuICAgIHJldHVybiBDb21wbGV4T3V0ZXJTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBDb21wbGV4T3V0ZXJTdWJzY3JpYmVyIH07XG5leHBvcnQgZnVuY3Rpb24gaW5uZXJTdWJzY3JpYmUocmVzdWx0LCBpbm5lclN1YnNjcmliZXIpIHtcbiAgICBpZiAoaW5uZXJTdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgT2JzZXJ2YWJsZSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0LnN1YnNjcmliZShpbm5lclN1YnNjcmliZXIpO1xuICAgIH1cbiAgICByZXR1cm4gc3Vic2NyaWJlVG8ocmVzdWx0KShpbm5lclN1YnNjcmliZXIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5uZXJTdWJzY3JpYmUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJqZWN0LF9PYnNlcnZhYmxlLF9TdWJzY3JpYmVyLF9TdWJzY3JpcHRpb24sX29wZXJhdG9yc19yZWZDb3VudCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3ViamVjdFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJqZWN0JztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyByZWZDb3VudCBhcyBoaWdoZXJPcmRlclJlZkNvdW50IH0gZnJvbSAnLi4vb3BlcmF0b3JzL3JlZkNvdW50JztcbnZhciBDb25uZWN0YWJsZU9ic2VydmFibGUgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQ29ubmVjdGFibGVPYnNlcnZhYmxlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENvbm5lY3RhYmxlT2JzZXJ2YWJsZShzb3VyY2UsIHN1YmplY3RGYWN0b3J5KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgX3RoaXMuc3ViamVjdEZhY3RvcnkgPSBzdWJqZWN0RmFjdG9yeTtcbiAgICAgICAgX3RoaXMuX3JlZkNvdW50ID0gMDtcbiAgICAgICAgX3RoaXMuX2lzQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBDb25uZWN0YWJsZU9ic2VydmFibGUucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTdWJqZWN0KCkuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH07XG4gICAgQ29ubmVjdGFibGVPYnNlcnZhYmxlLnByb3RvdHlwZS5nZXRTdWJqZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3ViamVjdCA9IHRoaXMuX3N1YmplY3Q7XG4gICAgICAgIGlmICghc3ViamVjdCB8fCBzdWJqZWN0LmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdGhpcy5fc3ViamVjdCA9IHRoaXMuc3ViamVjdEZhY3RvcnkoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fc3ViamVjdDtcbiAgICB9O1xuICAgIENvbm5lY3RhYmxlT2JzZXJ2YWJsZS5wcm90b3R5cGUuY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbm5lY3Rpb24gPSB0aGlzLl9jb25uZWN0aW9uO1xuICAgICAgICBpZiAoIWNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX2lzQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbm5lY3Rpb24gPSB0aGlzLl9jb25uZWN0aW9uID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICAgICAgY29ubmVjdGlvbi5hZGQodGhpcy5zb3VyY2VcbiAgICAgICAgICAgICAgICAuc3Vic2NyaWJlKG5ldyBDb25uZWN0YWJsZVN1YnNjcmliZXIodGhpcy5nZXRTdWJqZWN0KCksIHRoaXMpKSk7XG4gICAgICAgICAgICBpZiAoY29ubmVjdGlvbi5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uID0gU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb25uZWN0aW9uO1xuICAgIH07XG4gICAgQ29ubmVjdGFibGVPYnNlcnZhYmxlLnByb3RvdHlwZS5yZWZDb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGhpZ2hlck9yZGVyUmVmQ291bnQoKSh0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBDb25uZWN0YWJsZU9ic2VydmFibGU7XG59KE9ic2VydmFibGUpKTtcbmV4cG9ydCB7IENvbm5lY3RhYmxlT2JzZXJ2YWJsZSB9O1xuZXhwb3J0IHZhciBjb25uZWN0YWJsZU9ic2VydmFibGVEZXNjcmlwdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBjb25uZWN0YWJsZVByb3RvID0gQ29ubmVjdGFibGVPYnNlcnZhYmxlLnByb3RvdHlwZTtcbiAgICByZXR1cm4ge1xuICAgICAgICBvcGVyYXRvcjogeyB2YWx1ZTogbnVsbCB9LFxuICAgICAgICBfcmVmQ291bnQ6IHsgdmFsdWU6IDAsIHdyaXRhYmxlOiB0cnVlIH0sXG4gICAgICAgIF9zdWJqZWN0OiB7IHZhbHVlOiBudWxsLCB3cml0YWJsZTogdHJ1ZSB9LFxuICAgICAgICBfY29ubmVjdGlvbjogeyB2YWx1ZTogbnVsbCwgd3JpdGFibGU6IHRydWUgfSxcbiAgICAgICAgX3N1YnNjcmliZTogeyB2YWx1ZTogY29ubmVjdGFibGVQcm90by5fc3Vic2NyaWJlIH0sXG4gICAgICAgIF9pc0NvbXBsZXRlOiB7IHZhbHVlOiBjb25uZWN0YWJsZVByb3RvLl9pc0NvbXBsZXRlLCB3cml0YWJsZTogdHJ1ZSB9LFxuICAgICAgICBnZXRTdWJqZWN0OiB7IHZhbHVlOiBjb25uZWN0YWJsZVByb3RvLmdldFN1YmplY3QgfSxcbiAgICAgICAgY29ubmVjdDogeyB2YWx1ZTogY29ubmVjdGFibGVQcm90by5jb25uZWN0IH0sXG4gICAgICAgIHJlZkNvdW50OiB7IHZhbHVlOiBjb25uZWN0YWJsZVByb3RvLnJlZkNvdW50IH1cbiAgICB9O1xufSkoKTtcbnZhciBDb25uZWN0YWJsZVN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQ29ubmVjdGFibGVTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENvbm5lY3RhYmxlU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgY29ubmVjdGFibGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmNvbm5lY3RhYmxlID0gY29ubmVjdGFibGU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQ29ubmVjdGFibGVTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHRoaXMuX3Vuc3Vic2NyaWJlKCk7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuX2Vycm9yLmNhbGwodGhpcywgZXJyKTtcbiAgICB9O1xuICAgIENvbm5lY3RhYmxlU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNvbm5lY3RhYmxlLl9pc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5fY29tcGxldGUuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIENvbm5lY3RhYmxlU3Vic2NyaWJlci5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29ubmVjdGFibGUgPSB0aGlzLmNvbm5lY3RhYmxlO1xuICAgICAgICBpZiAoY29ubmVjdGFibGUpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGFibGUgPSBudWxsO1xuICAgICAgICAgICAgdmFyIGNvbm5lY3Rpb24gPSBjb25uZWN0YWJsZS5fY29ubmVjdGlvbjtcbiAgICAgICAgICAgIGNvbm5lY3RhYmxlLl9yZWZDb3VudCA9IDA7XG4gICAgICAgICAgICBjb25uZWN0YWJsZS5fc3ViamVjdCA9IG51bGw7XG4gICAgICAgICAgICBjb25uZWN0YWJsZS5fY29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICBpZiAoY29ubmVjdGlvbikge1xuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIENvbm5lY3RhYmxlU3Vic2NyaWJlcjtcbn0oU3ViamVjdFN1YnNjcmliZXIpKTtcbnZhciBSZWZDb3VudE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlZkNvdW50T3BlcmF0b3IoY29ubmVjdGFibGUpIHtcbiAgICAgICAgdGhpcy5jb25uZWN0YWJsZSA9IGNvbm5lY3RhYmxlO1xuICAgIH1cbiAgICBSZWZDb3VudE9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICB2YXIgY29ubmVjdGFibGUgPSB0aGlzLmNvbm5lY3RhYmxlO1xuICAgICAgICBjb25uZWN0YWJsZS5fcmVmQ291bnQrKztcbiAgICAgICAgdmFyIHJlZkNvdW50ZXIgPSBuZXcgUmVmQ291bnRTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGNvbm5lY3RhYmxlKTtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IHNvdXJjZS5zdWJzY3JpYmUocmVmQ291bnRlcik7XG4gICAgICAgIGlmICghcmVmQ291bnRlci5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJlZkNvdW50ZXIuY29ubmVjdGlvbiA9IGNvbm5lY3RhYmxlLmNvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgIH07XG4gICAgcmV0dXJuIFJlZkNvdW50T3BlcmF0b3I7XG59KCkpO1xudmFyIFJlZkNvdW50U3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhSZWZDb3VudFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUmVmQ291bnRTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBjb25uZWN0YWJsZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuY29ubmVjdGFibGUgPSBjb25uZWN0YWJsZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBSZWZDb3VudFN1YnNjcmliZXIucHJvdG90eXBlLl91bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbm5lY3RhYmxlID0gdGhpcy5jb25uZWN0YWJsZTtcbiAgICAgICAgaWYgKCFjb25uZWN0YWJsZSkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbm5lY3RhYmxlID0gbnVsbDtcbiAgICAgICAgdmFyIHJlZkNvdW50ID0gY29ubmVjdGFibGUuX3JlZkNvdW50O1xuICAgICAgICBpZiAocmVmQ291bnQgPD0gMCkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25uZWN0YWJsZS5fcmVmQ291bnQgPSByZWZDb3VudCAtIDE7XG4gICAgICAgIGlmIChyZWZDb3VudCA+IDEpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbm5lY3Rpb24gPSB0aGlzLmNvbm5lY3Rpb247XG4gICAgICAgIHZhciBzaGFyZWRDb25uZWN0aW9uID0gY29ubmVjdGFibGUuX2Nvbm5lY3Rpb247XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgIGlmIChzaGFyZWRDb25uZWN0aW9uICYmICghY29ubmVjdGlvbiB8fCBzaGFyZWRDb25uZWN0aW9uID09PSBjb25uZWN0aW9uKSkge1xuICAgICAgICAgICAgc2hhcmVkQ29ubmVjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gUmVmQ291bnRTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db25uZWN0YWJsZU9ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9PYnNlcnZhYmxlLF9zY2hlZHVsZXJfYXNhcCxfdXRpbF9pc051bWVyaWMgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGFzYXAgfSBmcm9tICcuLi9zY2hlZHVsZXIvYXNhcCc7XG5pbXBvcnQgeyBpc051bWVyaWMgfSBmcm9tICcuLi91dGlsL2lzTnVtZXJpYyc7XG52YXIgU3Vic2NyaWJlT25PYnNlcnZhYmxlID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFN1YnNjcmliZU9uT2JzZXJ2YWJsZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdWJzY3JpYmVPbk9ic2VydmFibGUoc291cmNlLCBkZWxheVRpbWUsIHNjaGVkdWxlcikge1xuICAgICAgICBpZiAoZGVsYXlUaW1lID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5VGltZSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjaGVkdWxlciA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBzY2hlZHVsZXIgPSBhc2FwO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgX3RoaXMuZGVsYXlUaW1lID0gZGVsYXlUaW1lO1xuICAgICAgICBfdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgICAgIGlmICghaXNOdW1lcmljKGRlbGF5VGltZSkgfHwgZGVsYXlUaW1lIDwgMCkge1xuICAgICAgICAgICAgX3RoaXMuZGVsYXlUaW1lID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNjaGVkdWxlciB8fCB0eXBlb2Ygc2NoZWR1bGVyLnNjaGVkdWxlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBfdGhpcy5zY2hlZHVsZXIgPSBhc2FwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3Vic2NyaWJlT25PYnNlcnZhYmxlLmNyZWF0ZSA9IGZ1bmN0aW9uIChzb3VyY2UsIGRlbGF5LCBzY2hlZHVsZXIpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2NoZWR1bGVyID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHNjaGVkdWxlciA9IGFzYXA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBTdWJzY3JpYmVPbk9ic2VydmFibGUoc291cmNlLCBkZWxheSwgc2NoZWR1bGVyKTtcbiAgICB9O1xuICAgIFN1YnNjcmliZU9uT2JzZXJ2YWJsZS5kaXNwYXRjaCA9IGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IGFyZy5zb3VyY2UsIHN1YnNjcmliZXIgPSBhcmcuc3Vic2NyaWJlcjtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkKHNvdXJjZS5zdWJzY3JpYmUoc3Vic2NyaWJlcikpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlT25PYnNlcnZhYmxlLnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGRlbGF5ID0gdGhpcy5kZWxheVRpbWU7XG4gICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICAgICAgdmFyIHNjaGVkdWxlciA9IHRoaXMuc2NoZWR1bGVyO1xuICAgICAgICByZXR1cm4gc2NoZWR1bGVyLnNjaGVkdWxlKFN1YnNjcmliZU9uT2JzZXJ2YWJsZS5kaXNwYXRjaCwgZGVsYXksIHtcbiAgICAgICAgICAgIHNvdXJjZTogc291cmNlLCBzdWJzY3JpYmVyOiBzdWJzY3JpYmVyXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIFN1YnNjcmliZU9uT2JzZXJ2YWJsZTtcbn0oT2JzZXJ2YWJsZSkpO1xuZXhwb3J0IHsgU3Vic2NyaWJlT25PYnNlcnZhYmxlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJzY3JpYmVPbk9ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF9Bc3luY1N1YmplY3QsX29wZXJhdG9yc19tYXAsX3V0aWxfY2FuUmVwb3J0RXJyb3IsX3V0aWxfaXNBcnJheSxfdXRpbF9pc1NjaGVkdWxlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBBc3luY1N1YmplY3QgfSBmcm9tICcuLi9Bc3luY1N1YmplY3QnO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi4vb3BlcmF0b3JzL21hcCc7XG5pbXBvcnQgeyBjYW5SZXBvcnRFcnJvciB9IGZyb20gJy4uL3V0aWwvY2FuUmVwb3J0RXJyb3InO1xuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheSc7XG5pbXBvcnQgeyBpc1NjaGVkdWxlciB9IGZyb20gJy4uL3V0aWwvaXNTY2hlZHVsZXInO1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmRDYWxsYmFjayhjYWxsYmFja0Z1bmMsIHJlc3VsdFNlbGVjdG9yLCBzY2hlZHVsZXIpIHtcbiAgICBpZiAocmVzdWx0U2VsZWN0b3IpIHtcbiAgICAgICAgaWYgKGlzU2NoZWR1bGVyKHJlc3VsdFNlbGVjdG9yKSkge1xuICAgICAgICAgICAgc2NoZWR1bGVyID0gcmVzdWx0U2VsZWN0b3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYmluZENhbGxiYWNrKGNhbGxiYWNrRnVuYywgc2NoZWR1bGVyKS5hcHBseSh2b2lkIDAsIGFyZ3MpLnBpcGUobWFwKGZ1bmN0aW9uIChhcmdzKSB7IHJldHVybiBpc0FycmF5KGFyZ3MpID8gcmVzdWx0U2VsZWN0b3IuYXBwbHkodm9pZCAwLCBhcmdzKSA6IHJlc3VsdFNlbGVjdG9yKGFyZ3MpOyB9KSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuICAgICAgICB2YXIgc3ViamVjdDtcbiAgICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgICAgIGNvbnRleHQ6IGNvbnRleHQsXG4gICAgICAgICAgICBzdWJqZWN0OiBzdWJqZWN0LFxuICAgICAgICAgICAgY2FsbGJhY2tGdW5jOiBjYWxsYmFja0Z1bmMsXG4gICAgICAgICAgICBzY2hlZHVsZXI6IHNjaGVkdWxlcixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICBpZiAoIXNjaGVkdWxlcikge1xuICAgICAgICAgICAgICAgIGlmICghc3ViamVjdCkge1xuICAgICAgICAgICAgICAgICAgICBzdWJqZWN0ID0gbmV3IEFzeW5jU3ViamVjdCgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbm5lckFyZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJBcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJqZWN0Lm5leHQoaW5uZXJBcmdzLmxlbmd0aCA8PSAxID8gaW5uZXJBcmdzWzBdIDogaW5uZXJBcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YmplY3QuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrRnVuYy5hcHBseShjb250ZXh0LCBhcmdzLmNvbmNhdChbaGFuZGxlcl0pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FuUmVwb3J0RXJyb3Ioc3ViamVjdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJqZWN0LmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gc3ViamVjdC5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3M6IGFyZ3MsIHN1YnNjcmliZXI6IHN1YnNjcmliZXIsIHBhcmFtczogcGFyYW1zLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaCwgMCwgc3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xufVxuZnVuY3Rpb24gZGlzcGF0Y2goc3RhdGUpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgYXJncyA9IHN0YXRlLmFyZ3MsIHN1YnNjcmliZXIgPSBzdGF0ZS5zdWJzY3JpYmVyLCBwYXJhbXMgPSBzdGF0ZS5wYXJhbXM7XG4gICAgdmFyIGNhbGxiYWNrRnVuYyA9IHBhcmFtcy5jYWxsYmFja0Z1bmMsIGNvbnRleHQgPSBwYXJhbXMuY29udGV4dCwgc2NoZWR1bGVyID0gcGFyYW1zLnNjaGVkdWxlcjtcbiAgICB2YXIgc3ViamVjdCA9IHBhcmFtcy5zdWJqZWN0O1xuICAgIGlmICghc3ViamVjdCkge1xuICAgICAgICBzdWJqZWN0ID0gcGFyYW1zLnN1YmplY3QgPSBuZXcgQXN5bmNTdWJqZWN0KCk7XG4gICAgICAgIHZhciBoYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGlubmVyQXJncyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICBpbm5lckFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGlubmVyQXJncy5sZW5ndGggPD0gMSA/IGlubmVyQXJnc1swXSA6IGlubmVyQXJncztcbiAgICAgICAgICAgIF90aGlzLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZGlzcGF0Y2hOZXh0LCAwLCB7IHZhbHVlOiB2YWx1ZSwgc3ViamVjdDogc3ViamVjdCB9KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjYWxsYmFja0Z1bmMuYXBwbHkoY29udGV4dCwgYXJncy5jb25jYXQoW2hhbmRsZXJdKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgc3ViamVjdC5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRoaXMuYWRkKHN1YmplY3Quc3Vic2NyaWJlKHN1YnNjcmliZXIpKTtcbn1cbmZ1bmN0aW9uIGRpc3BhdGNoTmV4dChzdGF0ZSkge1xuICAgIHZhciB2YWx1ZSA9IHN0YXRlLnZhbHVlLCBzdWJqZWN0ID0gc3RhdGUuc3ViamVjdDtcbiAgICBzdWJqZWN0Lm5leHQodmFsdWUpO1xuICAgIHN1YmplY3QuY29tcGxldGUoKTtcbn1cbmZ1bmN0aW9uIGRpc3BhdGNoRXJyb3Ioc3RhdGUpIHtcbiAgICB2YXIgZXJyID0gc3RhdGUuZXJyLCBzdWJqZWN0ID0gc3RhdGUuc3ViamVjdDtcbiAgICBzdWJqZWN0LmVycm9yKGVycik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iaW5kQ2FsbGJhY2suanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF9Bc3luY1N1YmplY3QsX29wZXJhdG9yc19tYXAsX3V0aWxfY2FuUmVwb3J0RXJyb3IsX3V0aWxfaXNTY2hlZHVsZXIsX3V0aWxfaXNBcnJheSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBBc3luY1N1YmplY3QgfSBmcm9tICcuLi9Bc3luY1N1YmplY3QnO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi4vb3BlcmF0b3JzL21hcCc7XG5pbXBvcnQgeyBjYW5SZXBvcnRFcnJvciB9IGZyb20gJy4uL3V0aWwvY2FuUmVwb3J0RXJyb3InO1xuaW1wb3J0IHsgaXNTY2hlZHVsZXIgfSBmcm9tICcuLi91dGlsL2lzU2NoZWR1bGVyJztcbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuLi91dGlsL2lzQXJyYXknO1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmROb2RlQ2FsbGJhY2soY2FsbGJhY2tGdW5jLCByZXN1bHRTZWxlY3Rvciwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgICAgIGlmIChpc1NjaGVkdWxlcihyZXN1bHRTZWxlY3RvcikpIHtcbiAgICAgICAgICAgIHNjaGVkdWxlciA9IHJlc3VsdFNlbGVjdG9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJpbmROb2RlQ2FsbGJhY2soY2FsbGJhY2tGdW5jLCBzY2hlZHVsZXIpLmFwcGx5KHZvaWQgMCwgYXJncykucGlwZShtYXAoZnVuY3Rpb24gKGFyZ3MpIHsgcmV0dXJuIGlzQXJyYXkoYXJncykgPyByZXN1bHRTZWxlY3Rvci5hcHBseSh2b2lkIDAsIGFyZ3MpIDogcmVzdWx0U2VsZWN0b3IoYXJncyk7IH0pKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICAgICAgc3ViamVjdDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgYXJnczogYXJncyxcbiAgICAgICAgICAgIGNhbGxiYWNrRnVuYzogY2FsbGJhY2tGdW5jLFxuICAgICAgICAgICAgc2NoZWR1bGVyOiBzY2hlZHVsZXIsXG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIHZhciBjb250ZXh0ID0gcGFyYW1zLmNvbnRleHQ7XG4gICAgICAgICAgICB2YXIgc3ViamVjdCA9IHBhcmFtcy5zdWJqZWN0O1xuICAgICAgICAgICAgaWYgKCFzY2hlZHVsZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXN1YmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgc3ViamVjdCA9IHBhcmFtcy5zdWJqZWN0ID0gbmV3IEFzeW5jU3ViamVjdCgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbm5lckFyZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJBcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyID0gaW5uZXJBcmdzLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViamVjdC5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YmplY3QubmV4dChpbm5lckFyZ3MubGVuZ3RoIDw9IDEgPyBpbm5lckFyZ3NbMF0gOiBpbm5lckFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3ViamVjdC5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tGdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MuY29uY2F0KFtoYW5kbGVyXSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYW5SZXBvcnRFcnJvcihzdWJqZWN0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YmplY3QuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzdWJqZWN0LnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGUoZGlzcGF0Y2gsIDAsIHsgcGFyYW1zOiBwYXJhbXMsIHN1YnNjcmliZXI6IHN1YnNjcmliZXIsIGNvbnRleHQ6IGNvbnRleHQgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG59XG5mdW5jdGlvbiBkaXNwYXRjaChzdGF0ZSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIHBhcmFtcyA9IHN0YXRlLnBhcmFtcywgc3Vic2NyaWJlciA9IHN0YXRlLnN1YnNjcmliZXIsIGNvbnRleHQgPSBzdGF0ZS5jb250ZXh0O1xuICAgIHZhciBjYWxsYmFja0Z1bmMgPSBwYXJhbXMuY2FsbGJhY2tGdW5jLCBhcmdzID0gcGFyYW1zLmFyZ3MsIHNjaGVkdWxlciA9IHBhcmFtcy5zY2hlZHVsZXI7XG4gICAgdmFyIHN1YmplY3QgPSBwYXJhbXMuc3ViamVjdDtcbiAgICBpZiAoIXN1YmplY3QpIHtcbiAgICAgICAgc3ViamVjdCA9IHBhcmFtcy5zdWJqZWN0ID0gbmV3IEFzeW5jU3ViamVjdCgpO1xuICAgICAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBpbm5lckFyZ3MgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgaW5uZXJBcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZXJyID0gaW5uZXJBcmdzLnNoaWZ0KCk7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaEVycm9yLCAwLCB7IGVycjogZXJyLCBzdWJqZWN0OiBzdWJqZWN0IH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGlubmVyQXJncy5sZW5ndGggPD0gMSA/IGlubmVyQXJnc1swXSA6IGlubmVyQXJncztcbiAgICAgICAgICAgICAgICBfdGhpcy5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGRpc3BhdGNoTmV4dCwgMCwgeyB2YWx1ZTogdmFsdWUsIHN1YmplY3Q6IHN1YmplY3QgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY2FsbGJhY2tGdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MuY29uY2F0KFtoYW5kbGVyXSkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaEVycm9yLCAwLCB7IGVycjogZXJyLCBzdWJqZWN0OiBzdWJqZWN0IH0pKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmFkZChzdWJqZWN0LnN1YnNjcmliZShzdWJzY3JpYmVyKSk7XG59XG5mdW5jdGlvbiBkaXNwYXRjaE5leHQoYXJnKSB7XG4gICAgdmFyIHZhbHVlID0gYXJnLnZhbHVlLCBzdWJqZWN0ID0gYXJnLnN1YmplY3Q7XG4gICAgc3ViamVjdC5uZXh0KHZhbHVlKTtcbiAgICBzdWJqZWN0LmNvbXBsZXRlKCk7XG59XG5mdW5jdGlvbiBkaXNwYXRjaEVycm9yKGFyZykge1xuICAgIHZhciBlcnIgPSBhcmcuZXJyLCBzdWJqZWN0ID0gYXJnLnN1YmplY3Q7XG4gICAgc3ViamVjdC5lcnJvcihlcnIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmluZE5vZGVDYWxsYmFjay5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX3V0aWxfaXNTY2hlZHVsZXIsX3V0aWxfaXNBcnJheSxfT3V0ZXJTdWJzY3JpYmVyLF91dGlsX3N1YnNjcmliZVRvUmVzdWx0LF9mcm9tQXJyYXkgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGlzU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9pc1NjaGVkdWxlcic7XG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vdXRpbC9pc0FycmF5JztcbmltcG9ydCB7IE91dGVyU3Vic2NyaWJlciB9IGZyb20gJy4uL091dGVyU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb1Jlc3VsdCB9IGZyb20gJy4uL3V0aWwvc3Vic2NyaWJlVG9SZXN1bHQnO1xuaW1wb3J0IHsgZnJvbUFycmF5IH0gZnJvbSAnLi9mcm9tQXJyYXknO1xudmFyIE5PTkUgPSB7fTtcbmV4cG9ydCBmdW5jdGlvbiBjb21iaW5lTGF0ZXN0KCkge1xuICAgIHZhciBvYnNlcnZhYmxlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIG9ic2VydmFibGVzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciByZXN1bHRTZWxlY3RvciA9IHVuZGVmaW5lZDtcbiAgICB2YXIgc2NoZWR1bGVyID0gdW5kZWZpbmVkO1xuICAgIGlmIChpc1NjaGVkdWxlcihvYnNlcnZhYmxlc1tvYnNlcnZhYmxlcy5sZW5ndGggLSAxXSkpIHtcbiAgICAgICAgc2NoZWR1bGVyID0gb2JzZXJ2YWJsZXMucG9wKCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb2JzZXJ2YWJsZXNbb2JzZXJ2YWJsZXMubGVuZ3RoIC0gMV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmVzdWx0U2VsZWN0b3IgPSBvYnNlcnZhYmxlcy5wb3AoKTtcbiAgICB9XG4gICAgaWYgKG9ic2VydmFibGVzLmxlbmd0aCA9PT0gMSAmJiBpc0FycmF5KG9ic2VydmFibGVzWzBdKSkge1xuICAgICAgICBvYnNlcnZhYmxlcyA9IG9ic2VydmFibGVzWzBdO1xuICAgIH1cbiAgICByZXR1cm4gZnJvbUFycmF5KG9ic2VydmFibGVzLCBzY2hlZHVsZXIpLmxpZnQobmV3IENvbWJpbmVMYXRlc3RPcGVyYXRvcihyZXN1bHRTZWxlY3RvcikpO1xufVxudmFyIENvbWJpbmVMYXRlc3RPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb21iaW5lTGF0ZXN0T3BlcmF0b3IocmVzdWx0U2VsZWN0b3IpIHtcbiAgICAgICAgdGhpcy5yZXN1bHRTZWxlY3RvciA9IHJlc3VsdFNlbGVjdG9yO1xuICAgIH1cbiAgICBDb21iaW5lTGF0ZXN0T3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBDb21iaW5lTGF0ZXN0U3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLnJlc3VsdFNlbGVjdG9yKSk7XG4gICAgfTtcbiAgICByZXR1cm4gQ29tYmluZUxhdGVzdE9wZXJhdG9yO1xufSgpKTtcbmV4cG9ydCB7IENvbWJpbmVMYXRlc3RPcGVyYXRvciB9O1xudmFyIENvbWJpbmVMYXRlc3RTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKENvbWJpbmVMYXRlc3RTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENvbWJpbmVMYXRlc3RTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCByZXN1bHRTZWxlY3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucmVzdWx0U2VsZWN0b3IgPSByZXN1bHRTZWxlY3RvcjtcbiAgICAgICAgX3RoaXMuYWN0aXZlID0gMDtcbiAgICAgICAgX3RoaXMudmFsdWVzID0gW107XG4gICAgICAgIF90aGlzLm9ic2VydmFibGVzID0gW107XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQ29tYmluZUxhdGVzdFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKG9ic2VydmFibGUpIHtcbiAgICAgICAgdGhpcy52YWx1ZXMucHVzaChOT05FKTtcbiAgICAgICAgdGhpcy5vYnNlcnZhYmxlcy5wdXNoKG9ic2VydmFibGUpO1xuICAgIH07XG4gICAgQ29tYmluZUxhdGVzdFN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9ic2VydmFibGVzID0gdGhpcy5vYnNlcnZhYmxlcztcbiAgICAgICAgdmFyIGxlbiA9IG9ic2VydmFibGVzLmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbiA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBsZW47XG4gICAgICAgICAgICB0aGlzLnRvUmVzcG9uZCA9IGxlbjtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgb2JzZXJ2YWJsZSA9IG9ic2VydmFibGVzW2ldO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkKHN1YnNjcmliZVRvUmVzdWx0KHRoaXMsIG9ic2VydmFibGUsIHVuZGVmaW5lZCwgaSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBDb21iaW5lTGF0ZXN0U3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5Q29tcGxldGUgPSBmdW5jdGlvbiAodW51c2VkKSB7XG4gICAgICAgIGlmICgodGhpcy5hY3RpdmUgLT0gMSkgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ29tYmluZUxhdGVzdFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQgPSBmdW5jdGlvbiAoX291dGVyVmFsdWUsIGlubmVyVmFsdWUsIG91dGVySW5kZXgpIHtcbiAgICAgICAgdmFyIHZhbHVlcyA9IHRoaXMudmFsdWVzO1xuICAgICAgICB2YXIgb2xkVmFsID0gdmFsdWVzW291dGVySW5kZXhdO1xuICAgICAgICB2YXIgdG9SZXNwb25kID0gIXRoaXMudG9SZXNwb25kXG4gICAgICAgICAgICA/IDBcbiAgICAgICAgICAgIDogb2xkVmFsID09PSBOT05FID8gLS10aGlzLnRvUmVzcG9uZCA6IHRoaXMudG9SZXNwb25kO1xuICAgICAgICB2YWx1ZXNbb3V0ZXJJbmRleF0gPSBpbm5lclZhbHVlO1xuICAgICAgICBpZiAodG9SZXNwb25kID09PSAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yZXN1bHRTZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyeVJlc3VsdFNlbGVjdG9yKHZhbHVlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodmFsdWVzLnNsaWNlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBDb21iaW5lTGF0ZXN0U3Vic2NyaWJlci5wcm90b3R5cGUuX3RyeVJlc3VsdFNlbGVjdG9yID0gZnVuY3Rpb24gKHZhbHVlcykge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5yZXN1bHRTZWxlY3Rvci5hcHBseSh0aGlzLCB2YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQocmVzdWx0KTtcbiAgICB9O1xuICAgIHJldHVybiBDb21iaW5lTGF0ZXN0U3Vic2NyaWJlcjtcbn0oT3V0ZXJTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBDb21iaW5lTGF0ZXN0U3Vic2NyaWJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tYmluZUxhdGVzdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX29mLF9vcGVyYXRvcnNfY29uY2F0QWxsIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IG9mIH0gZnJvbSAnLi9vZic7XG5pbXBvcnQgeyBjb25jYXRBbGwgfSBmcm9tICcuLi9vcGVyYXRvcnMvY29uY2F0QWxsJztcbmV4cG9ydCBmdW5jdGlvbiBjb25jYXQoKSB7XG4gICAgdmFyIG9ic2VydmFibGVzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgb2JzZXJ2YWJsZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbmNhdEFsbCgpKG9mLmFwcGx5KHZvaWQgMCwgb2JzZXJ2YWJsZXMpKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmNhdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX2Zyb20sX2VtcHR5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGZyb20gfSBmcm9tICcuL2Zyb20nO1xuaW1wb3J0IHsgZW1wdHkgfSBmcm9tICcuL2VtcHR5JztcbmV4cG9ydCBmdW5jdGlvbiBkZWZlcihvYnNlcnZhYmxlRmFjdG9yeSkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaW5wdXQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpbnB1dCA9IG9ic2VydmFibGVGYWN0b3J5KCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc291cmNlID0gaW5wdXQgPyBmcm9tKGlucHV0KSA6IGVtcHR5KCk7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVmZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmV4cG9ydCB2YXIgRU1QVFkgPSAvKkBfX1BVUkVfXyovIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7IHJldHVybiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7IH0pO1xuZXhwb3J0IGZ1bmN0aW9uIGVtcHR5KHNjaGVkdWxlcikge1xuICAgIHJldHVybiBzY2hlZHVsZXIgPyBlbXB0eVNjaGVkdWxlZChzY2hlZHVsZXIpIDogRU1QVFk7XG59XG5mdW5jdGlvbiBlbXB0eVNjaGVkdWxlZChzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHsgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7IH0pOyB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVtcHR5LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfdXRpbF9pc0FycmF5LF9vcGVyYXRvcnNfbWFwLF91dGlsX2lzT2JqZWN0LF9mcm9tIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuLi91dGlsL2lzQXJyYXknO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi4vb3BlcmF0b3JzL21hcCc7XG5pbXBvcnQgeyBpc09iamVjdCB9IGZyb20gJy4uL3V0aWwvaXNPYmplY3QnO1xuaW1wb3J0IHsgZnJvbSB9IGZyb20gJy4vZnJvbSc7XG5leHBvcnQgZnVuY3Rpb24gZm9ya0pvaW4oKSB7XG4gICAgdmFyIHNvdXJjZXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBzb3VyY2VzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIGlmIChzb3VyY2VzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICB2YXIgZmlyc3RfMSA9IHNvdXJjZXNbMF07XG4gICAgICAgIGlmIChpc0FycmF5KGZpcnN0XzEpKSB7XG4gICAgICAgICAgICByZXR1cm4gZm9ya0pvaW5JbnRlcm5hbChmaXJzdF8xLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNPYmplY3QoZmlyc3RfMSkgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKGZpcnN0XzEpID09PSBPYmplY3QucHJvdG90eXBlKSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGZpcnN0XzEpO1xuICAgICAgICAgICAgcmV0dXJuIGZvcmtKb2luSW50ZXJuYWwoa2V5cy5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gZmlyc3RfMVtrZXldOyB9KSwga2V5cyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzb3VyY2VzW3NvdXJjZXMubGVuZ3RoIC0gMV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFyIHJlc3VsdFNlbGVjdG9yXzEgPSBzb3VyY2VzLnBvcCgpO1xuICAgICAgICBzb3VyY2VzID0gKHNvdXJjZXMubGVuZ3RoID09PSAxICYmIGlzQXJyYXkoc291cmNlc1swXSkpID8gc291cmNlc1swXSA6IHNvdXJjZXM7XG4gICAgICAgIHJldHVybiBmb3JrSm9pbkludGVybmFsKHNvdXJjZXMsIG51bGwpLnBpcGUobWFwKGZ1bmN0aW9uIChhcmdzKSB7IHJldHVybiByZXN1bHRTZWxlY3Rvcl8xLmFwcGx5KHZvaWQgMCwgYXJncyk7IH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIGZvcmtKb2luSW50ZXJuYWwoc291cmNlcywgbnVsbCk7XG59XG5mdW5jdGlvbiBmb3JrSm9pbkludGVybmFsKHNvdXJjZXMsIGtleXMpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGxlbiA9IHNvdXJjZXMubGVuZ3RoO1xuICAgICAgICBpZiAobGVuID09PSAwKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhbHVlcyA9IG5ldyBBcnJheShsZW4pO1xuICAgICAgICB2YXIgY29tcGxldGVkID0gMDtcbiAgICAgICAgdmFyIGVtaXR0ZWQgPSAwO1xuICAgICAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICB2YXIgc291cmNlID0gZnJvbShzb3VyY2VzW2ldKTtcbiAgICAgICAgICAgIHZhciBoYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5hZGQoc291cmNlLnN1YnNjcmliZSh7XG4gICAgICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaGFzVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc1ZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtaXR0ZWQrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbaV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiBzdWJzY3JpYmVyLmVycm9yKGVycik7IH0sXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkKys7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21wbGV0ZWQgPT09IGxlbiB8fCAhaGFzVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbWl0dGVkID09PSBsZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoa2V5cyA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleXMucmVkdWNlKGZ1bmN0aW9uIChyZXN1bHQsIGtleSwgaSkgeyByZXR1cm4gKHJlc3VsdFtrZXldID0gdmFsdWVzW2ldLCByZXN1bHQpOyB9LCB7fSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBfbG9vcF8xKGkpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mb3JrSm9pbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX3V0aWxfc3Vic2NyaWJlVG8sX3NjaGVkdWxlZF9zY2hlZHVsZWQgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG8gfSBmcm9tICcuLi91dGlsL3N1YnNjcmliZVRvJztcbmltcG9ydCB7IHNjaGVkdWxlZCB9IGZyb20gJy4uL3NjaGVkdWxlZC9zY2hlZHVsZWQnO1xuZXhwb3J0IGZ1bmN0aW9uIGZyb20oaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIGlmICghc2NoZWR1bGVyKSB7XG4gICAgICAgIGlmIChpbnB1dCBpbnN0YW5jZW9mIE9ic2VydmFibGUpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoc3Vic2NyaWJlVG8oaW5wdXQpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBzY2hlZHVsZWQoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnJvbS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX3V0aWxfc3Vic2NyaWJlVG9BcnJheSxfc2NoZWR1bGVkX3NjaGVkdWxlQXJyYXkgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG9BcnJheSB9IGZyb20gJy4uL3V0aWwvc3Vic2NyaWJlVG9BcnJheSc7XG5pbXBvcnQgeyBzY2hlZHVsZUFycmF5IH0gZnJvbSAnLi4vc2NoZWR1bGVkL3NjaGVkdWxlQXJyYXknO1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21BcnJheShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKCFzY2hlZHVsZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKHN1YnNjcmliZVRvQXJyYXkoaW5wdXQpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBzY2hlZHVsZUFycmF5KGlucHV0LCBzY2hlZHVsZXIpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZyb21BcnJheS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX3V0aWxfaXNBcnJheSxfdXRpbF9pc0Z1bmN0aW9uLF9vcGVyYXRvcnNfbWFwIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuLi91dGlsL2lzQXJyYXknO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICcuLi9vcGVyYXRvcnMvbWFwJztcbnZhciB0b1N0cmluZyA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7IH0pKCk7XG5leHBvcnQgZnVuY3Rpb24gZnJvbUV2ZW50KHRhcmdldCwgZXZlbnROYW1lLCBvcHRpb25zLCByZXN1bHRTZWxlY3Rvcikge1xuICAgIGlmIChpc0Z1bmN0aW9uKG9wdGlvbnMpKSB7XG4gICAgICAgIHJlc3VsdFNlbGVjdG9yID0gb3B0aW9ucztcbiAgICAgICAgb3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiBmcm9tRXZlbnQodGFyZ2V0LCBldmVudE5hbWUsIG9wdGlvbnMpLnBpcGUobWFwKGZ1bmN0aW9uIChhcmdzKSB7IHJldHVybiBpc0FycmF5KGFyZ3MpID8gcmVzdWx0U2VsZWN0b3IuYXBwbHkodm9pZCAwLCBhcmdzKSA6IHJlc3VsdFNlbGVjdG9yKGFyZ3MpOyB9KSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBmdW5jdGlvbiBoYW5kbGVyKGUpIHtcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZXR1cFN1YnNjcmlwdGlvbih0YXJnZXQsIGV2ZW50TmFtZSwgaGFuZGxlciwgc3Vic2NyaWJlciwgb3B0aW9ucyk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBzZXR1cFN1YnNjcmlwdGlvbihzb3VyY2VPYmosIGV2ZW50TmFtZSwgaGFuZGxlciwgc3Vic2NyaWJlciwgb3B0aW9ucykge1xuICAgIHZhciB1bnN1YnNjcmliZTtcbiAgICBpZiAoaXNFdmVudFRhcmdldChzb3VyY2VPYmopKSB7XG4gICAgICAgIHZhciBzb3VyY2VfMSA9IHNvdXJjZU9iajtcbiAgICAgICAgc291cmNlT2JqLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgICAgICAgdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBzb3VyY2VfMS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlciwgb3B0aW9ucyk7IH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzSlF1ZXJ5U3R5bGVFdmVudEVtaXR0ZXIoc291cmNlT2JqKSkge1xuICAgICAgICB2YXIgc291cmNlXzIgPSBzb3VyY2VPYmo7XG4gICAgICAgIHNvdXJjZU9iai5vbihldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgICAgICB1bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNvdXJjZV8yLm9mZihldmVudE5hbWUsIGhhbmRsZXIpOyB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChpc05vZGVTdHlsZUV2ZW50RW1pdHRlcihzb3VyY2VPYmopKSB7XG4gICAgICAgIHZhciBzb3VyY2VfMyA9IHNvdXJjZU9iajtcbiAgICAgICAgc291cmNlT2JqLmFkZExpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgICAgIHVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gc291cmNlXzMucmVtb3ZlTGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyKTsgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc291cmNlT2JqICYmIHNvdXJjZU9iai5sZW5ndGgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHNvdXJjZU9iai5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgc2V0dXBTdWJzY3JpcHRpb24oc291cmNlT2JqW2ldLCBldmVudE5hbWUsIGhhbmRsZXIsIHN1YnNjcmliZXIsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGV2ZW50IHRhcmdldCcpO1xuICAgIH1cbiAgICBzdWJzY3JpYmVyLmFkZCh1bnN1YnNjcmliZSk7XG59XG5mdW5jdGlvbiBpc05vZGVTdHlsZUV2ZW50RW1pdHRlcihzb3VyY2VPYmopIHtcbiAgICByZXR1cm4gc291cmNlT2JqICYmIHR5cGVvZiBzb3VyY2VPYmouYWRkTGlzdGVuZXIgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHNvdXJjZU9iai5yZW1vdmVMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJztcbn1cbmZ1bmN0aW9uIGlzSlF1ZXJ5U3R5bGVFdmVudEVtaXR0ZXIoc291cmNlT2JqKSB7XG4gICAgcmV0dXJuIHNvdXJjZU9iaiAmJiB0eXBlb2Ygc291cmNlT2JqLm9uID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBzb3VyY2VPYmoub2ZmID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gaXNFdmVudFRhcmdldChzb3VyY2VPYmopIHtcbiAgICByZXR1cm4gc291cmNlT2JqICYmIHR5cGVvZiBzb3VyY2VPYmouYWRkRXZlbnRMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygc291cmNlT2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIgPT09ICdmdW5jdGlvbic7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mcm9tRXZlbnQuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF91dGlsX2lzQXJyYXksX3V0aWxfaXNGdW5jdGlvbixfb3BlcmF0b3JzX21hcCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vdXRpbC9pc0FycmF5JztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi4vb3BlcmF0b3JzL21hcCc7XG5leHBvcnQgZnVuY3Rpb24gZnJvbUV2ZW50UGF0dGVybihhZGRIYW5kbGVyLCByZW1vdmVIYW5kbGVyLCByZXN1bHRTZWxlY3Rvcikge1xuICAgIGlmIChyZXN1bHRTZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gZnJvbUV2ZW50UGF0dGVybihhZGRIYW5kbGVyLCByZW1vdmVIYW5kbGVyKS5waXBlKG1hcChmdW5jdGlvbiAoYXJncykgeyByZXR1cm4gaXNBcnJheShhcmdzKSA/IHJlc3VsdFNlbGVjdG9yLmFwcGx5KHZvaWQgMCwgYXJncykgOiByZXN1bHRTZWxlY3RvcihhcmdzKTsgfSkpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZSA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICBlW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3Vic2NyaWJlci5uZXh0KGUubGVuZ3RoID09PSAxID8gZVswXSA6IGUpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgcmV0VmFsdWU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXRWYWx1ZSA9IGFkZEhhbmRsZXIoaGFuZGxlcik7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRnVuY3Rpb24ocmVtb3ZlSGFuZGxlcikpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlbW92ZUhhbmRsZXIoaGFuZGxlciwgcmV0VmFsdWUpOyB9O1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnJvbUV2ZW50UGF0dGVybi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX3V0aWxfaWRlbnRpdHksX3V0aWxfaXNTY2hlZHVsZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgaWRlbnRpdHkgfSBmcm9tICcuLi91dGlsL2lkZW50aXR5JztcbmltcG9ydCB7IGlzU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9pc1NjaGVkdWxlcic7XG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGUoaW5pdGlhbFN0YXRlT3JPcHRpb25zLCBjb25kaXRpb24sIGl0ZXJhdGUsIHJlc3VsdFNlbGVjdG9yT3JPYnNlcnZhYmxlLCBzY2hlZHVsZXIpIHtcbiAgICB2YXIgcmVzdWx0U2VsZWN0b3I7XG4gICAgdmFyIGluaXRpYWxTdGF0ZTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gaW5pdGlhbFN0YXRlT3JPcHRpb25zO1xuICAgICAgICBpbml0aWFsU3RhdGUgPSBvcHRpb25zLmluaXRpYWxTdGF0ZTtcbiAgICAgICAgY29uZGl0aW9uID0gb3B0aW9ucy5jb25kaXRpb247XG4gICAgICAgIGl0ZXJhdGUgPSBvcHRpb25zLml0ZXJhdGU7XG4gICAgICAgIHJlc3VsdFNlbGVjdG9yID0gb3B0aW9ucy5yZXN1bHRTZWxlY3RvciB8fCBpZGVudGl0eTtcbiAgICAgICAgc2NoZWR1bGVyID0gb3B0aW9ucy5zY2hlZHVsZXI7XG4gICAgfVxuICAgIGVsc2UgaWYgKHJlc3VsdFNlbGVjdG9yT3JPYnNlcnZhYmxlID09PSB1bmRlZmluZWQgfHwgaXNTY2hlZHVsZXIocmVzdWx0U2VsZWN0b3JPck9ic2VydmFibGUpKSB7XG4gICAgICAgIGluaXRpYWxTdGF0ZSA9IGluaXRpYWxTdGF0ZU9yT3B0aW9ucztcbiAgICAgICAgcmVzdWx0U2VsZWN0b3IgPSBpZGVudGl0eTtcbiAgICAgICAgc2NoZWR1bGVyID0gcmVzdWx0U2VsZWN0b3JPck9ic2VydmFibGU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpbml0aWFsU3RhdGUgPSBpbml0aWFsU3RhdGVPck9wdGlvbnM7XG4gICAgICAgIHJlc3VsdFNlbGVjdG9yID0gcmVzdWx0U2VsZWN0b3JPck9ic2VydmFibGU7XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc3RhdGUgPSBpbml0aWFsU3RhdGU7XG4gICAgICAgIGlmIChzY2hlZHVsZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGUoZGlzcGF0Y2gsIDAsIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyOiBzdWJzY3JpYmVyLFxuICAgICAgICAgICAgICAgIGl0ZXJhdGU6IGl0ZXJhdGUsXG4gICAgICAgICAgICAgICAgY29uZGl0aW9uOiBjb25kaXRpb24sXG4gICAgICAgICAgICAgICAgcmVzdWx0U2VsZWN0b3I6IHJlc3VsdFNlbGVjdG9yLFxuICAgICAgICAgICAgICAgIHN0YXRlOiBzdGF0ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKGNvbmRpdGlvbikge1xuICAgICAgICAgICAgICAgIHZhciBjb25kaXRpb25SZXN1bHQgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uUmVzdWx0ID0gY29uZGl0aW9uKHN0YXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghY29uZGl0aW9uUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHZhbHVlID0gdm9pZCAwO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHJlc3VsdFNlbGVjdG9yKHN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICBpZiAoc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBpdGVyYXRlKHN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAodHJ1ZSk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBkaXNwYXRjaChzdGF0ZSkge1xuICAgIHZhciBzdWJzY3JpYmVyID0gc3RhdGUuc3Vic2NyaWJlciwgY29uZGl0aW9uID0gc3RhdGUuY29uZGl0aW9uO1xuICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAoc3RhdGUubmVlZEl0ZXJhdGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHN0YXRlLnN0YXRlID0gc3RhdGUuaXRlcmF0ZShzdGF0ZS5zdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc3RhdGUubmVlZEl0ZXJhdGUgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoY29uZGl0aW9uKSB7XG4gICAgICAgIHZhciBjb25kaXRpb25SZXN1bHQgPSB2b2lkIDA7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25kaXRpb25SZXN1bHQgPSBjb25kaXRpb24oc3RhdGUuc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb25kaXRpb25SZXN1bHQpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciB2YWx1ZTtcbiAgICB0cnkge1xuICAgICAgICB2YWx1ZSA9IHN0YXRlLnJlc3VsdFNlbGVjdG9yKHN0YXRlLnN0YXRlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zY2hlZHVsZShzdGF0ZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZW5lcmF0ZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX2RlZmVyLF9lbXB0eSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBkZWZlciB9IGZyb20gJy4vZGVmZXInO1xuaW1wb3J0IHsgRU1QVFkgfSBmcm9tICcuL2VtcHR5JztcbmV4cG9ydCBmdW5jdGlvbiBpaWYoY29uZGl0aW9uLCB0cnVlUmVzdWx0LCBmYWxzZVJlc3VsdCkge1xuICAgIGlmICh0cnVlUmVzdWx0ID09PSB2b2lkIDApIHtcbiAgICAgICAgdHJ1ZVJlc3VsdCA9IEVNUFRZO1xuICAgIH1cbiAgICBpZiAoZmFsc2VSZXN1bHQgPT09IHZvaWQgMCkge1xuICAgICAgICBmYWxzZVJlc3VsdCA9IEVNUFRZO1xuICAgIH1cbiAgICByZXR1cm4gZGVmZXIoZnVuY3Rpb24gKCkgeyByZXR1cm4gY29uZGl0aW9uKCkgPyB0cnVlUmVzdWx0IDogZmFsc2VSZXN1bHQ7IH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aWlmLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfc2NoZWR1bGVyX2FzeW5jLF91dGlsX2lzTnVtZXJpYyBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBhc3luYyB9IGZyb20gJy4uL3NjaGVkdWxlci9hc3luYyc7XG5pbXBvcnQgeyBpc051bWVyaWMgfSBmcm9tICcuLi91dGlsL2lzTnVtZXJpYyc7XG5leHBvcnQgZnVuY3Rpb24gaW50ZXJ2YWwocGVyaW9kLCBzY2hlZHVsZXIpIHtcbiAgICBpZiAocGVyaW9kID09PSB2b2lkIDApIHtcbiAgICAgICAgcGVyaW9kID0gMDtcbiAgICB9XG4gICAgaWYgKHNjaGVkdWxlciA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHNjaGVkdWxlciA9IGFzeW5jO1xuICAgIH1cbiAgICBpZiAoIWlzTnVtZXJpYyhwZXJpb2QpIHx8IHBlcmlvZCA8IDApIHtcbiAgICAgICAgcGVyaW9kID0gMDtcbiAgICB9XG4gICAgaWYgKCFzY2hlZHVsZXIgfHwgdHlwZW9mIHNjaGVkdWxlci5zY2hlZHVsZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBzY2hlZHVsZXIgPSBhc3luYztcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHN1YnNjcmliZXIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaCwgcGVyaW9kLCB7IHN1YnNjcmliZXI6IHN1YnNjcmliZXIsIGNvdW50ZXI6IDAsIHBlcmlvZDogcGVyaW9kIH0pKTtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBkaXNwYXRjaChzdGF0ZSkge1xuICAgIHZhciBzdWJzY3JpYmVyID0gc3RhdGUuc3Vic2NyaWJlciwgY291bnRlciA9IHN0YXRlLmNvdW50ZXIsIHBlcmlvZCA9IHN0YXRlLnBlcmlvZDtcbiAgICBzdWJzY3JpYmVyLm5leHQoY291bnRlcik7XG4gICAgdGhpcy5zY2hlZHVsZSh7IHN1YnNjcmliZXI6IHN1YnNjcmliZXIsIGNvdW50ZXI6IGNvdW50ZXIgKyAxLCBwZXJpb2Q6IHBlcmlvZCB9LCBwZXJpb2QpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJ2YWwuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF91dGlsX2lzU2NoZWR1bGVyLF9vcGVyYXRvcnNfbWVyZ2VBbGwsX2Zyb21BcnJheSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc1NjaGVkdWxlciB9IGZyb20gJy4uL3V0aWwvaXNTY2hlZHVsZXInO1xuaW1wb3J0IHsgbWVyZ2VBbGwgfSBmcm9tICcuLi9vcGVyYXRvcnMvbWVyZ2VBbGwnO1xuaW1wb3J0IHsgZnJvbUFycmF5IH0gZnJvbSAnLi9mcm9tQXJyYXknO1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlKCkge1xuICAgIHZhciBvYnNlcnZhYmxlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIG9ic2VydmFibGVzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciBjb25jdXJyZW50ID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgIHZhciBzY2hlZHVsZXIgPSBudWxsO1xuICAgIHZhciBsYXN0ID0gb2JzZXJ2YWJsZXNbb2JzZXJ2YWJsZXMubGVuZ3RoIC0gMV07XG4gICAgaWYgKGlzU2NoZWR1bGVyKGxhc3QpKSB7XG4gICAgICAgIHNjaGVkdWxlciA9IG9ic2VydmFibGVzLnBvcCgpO1xuICAgICAgICBpZiAob2JzZXJ2YWJsZXMubGVuZ3RoID4gMSAmJiB0eXBlb2Ygb2JzZXJ2YWJsZXNbb2JzZXJ2YWJsZXMubGVuZ3RoIC0gMV0gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBjb25jdXJyZW50ID0gb2JzZXJ2YWJsZXMucG9wKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGxhc3QgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGNvbmN1cnJlbnQgPSBvYnNlcnZhYmxlcy5wb3AoKTtcbiAgICB9XG4gICAgaWYgKHNjaGVkdWxlciA9PT0gbnVsbCAmJiBvYnNlcnZhYmxlcy5sZW5ndGggPT09IDEgJiYgb2JzZXJ2YWJsZXNbMF0gaW5zdGFuY2VvZiBPYnNlcnZhYmxlKSB7XG4gICAgICAgIHJldHVybiBvYnNlcnZhYmxlc1swXTtcbiAgICB9XG4gICAgcmV0dXJuIG1lcmdlQWxsKGNvbmN1cnJlbnQpKGZyb21BcnJheShvYnNlcnZhYmxlcywgc2NoZWR1bGVyKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXJnZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX3V0aWxfbm9vcCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi4vdXRpbC9ub29wJztcbmV4cG9ydCB2YXIgTkVWRVIgPSAvKkBfX1BVUkVfXyovIG5ldyBPYnNlcnZhYmxlKG5vb3ApO1xuZXhwb3J0IGZ1bmN0aW9uIG5ldmVyKCkge1xuICAgIHJldHVybiBORVZFUjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5ldmVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfdXRpbF9pc1NjaGVkdWxlcixfZnJvbUFycmF5LF9zY2hlZHVsZWRfc2NoZWR1bGVBcnJheSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBpc1NjaGVkdWxlciB9IGZyb20gJy4uL3V0aWwvaXNTY2hlZHVsZXInO1xuaW1wb3J0IHsgZnJvbUFycmF5IH0gZnJvbSAnLi9mcm9tQXJyYXknO1xuaW1wb3J0IHsgc2NoZWR1bGVBcnJheSB9IGZyb20gJy4uL3NjaGVkdWxlZC9zY2hlZHVsZUFycmF5JztcbmV4cG9ydCBmdW5jdGlvbiBvZigpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHNjaGVkdWxlciA9IGFyZ3NbYXJncy5sZW5ndGggLSAxXTtcbiAgICBpZiAoaXNTY2hlZHVsZXIoc2NoZWR1bGVyKSkge1xuICAgICAgICBhcmdzLnBvcCgpO1xuICAgICAgICByZXR1cm4gc2NoZWR1bGVBcnJheShhcmdzLCBzY2hlZHVsZXIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZyb21BcnJheShhcmdzKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vZi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX2Zyb20sX3V0aWxfaXNBcnJheSxfZW1wdHkgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgZnJvbSB9IGZyb20gJy4vZnJvbSc7XG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vdXRpbC9pc0FycmF5JztcbmltcG9ydCB7IEVNUFRZIH0gZnJvbSAnLi9lbXB0eSc7XG5leHBvcnQgZnVuY3Rpb24gb25FcnJvclJlc3VtZU5leHQoKSB7XG4gICAgdmFyIHNvdXJjZXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBzb3VyY2VzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIGlmIChzb3VyY2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gRU1QVFk7XG4gICAgfVxuICAgIHZhciBmaXJzdCA9IHNvdXJjZXNbMF0sIHJlbWFpbmRlciA9IHNvdXJjZXMuc2xpY2UoMSk7XG4gICAgaWYgKHNvdXJjZXMubGVuZ3RoID09PSAxICYmIGlzQXJyYXkoZmlyc3QpKSB7XG4gICAgICAgIHJldHVybiBvbkVycm9yUmVzdW1lTmV4dC5hcHBseSh2b2lkIDAsIGZpcnN0KTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzdWJOZXh0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaWJlci5hZGQob25FcnJvclJlc3VtZU5leHQuYXBwbHkodm9pZCAwLCByZW1haW5kZXIpLnN1YnNjcmliZShzdWJzY3JpYmVyKSk7IH07XG4gICAgICAgIHJldHVybiBmcm9tKGZpcnN0KS5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24gKHZhbHVlKSB7IHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7IH0sXG4gICAgICAgICAgICBlcnJvcjogc3ViTmV4dCxcbiAgICAgICAgICAgIGNvbXBsZXRlOiBzdWJOZXh0LFxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9uRXJyb3JSZXN1bWVOZXh0LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfU3Vic2NyaXB0aW9uIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gcGFpcnMob2JqLCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoIXNjaGVkdWxlcikge1xuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGggJiYgIXN1YnNjcmliZXIuY2xvc2VkOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KFtrZXksIG9ialtrZXldXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgICAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGRpc3BhdGNoLCAwLCB7IGtleXM6IGtleXMsIGluZGV4OiAwLCBzdWJzY3JpYmVyOiBzdWJzY3JpYmVyLCBzdWJzY3JpcHRpb246IHN1YnNjcmlwdGlvbiwgb2JqOiBvYmogfSkpO1xuICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGRpc3BhdGNoKHN0YXRlKSB7XG4gICAgdmFyIGtleXMgPSBzdGF0ZS5rZXlzLCBpbmRleCA9IHN0YXRlLmluZGV4LCBzdWJzY3JpYmVyID0gc3RhdGUuc3Vic2NyaWJlciwgc3Vic2NyaXB0aW9uID0gc3RhdGUuc3Vic2NyaXB0aW9uLCBvYmogPSBzdGF0ZS5vYmo7XG4gICAgaWYgKCFzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICBpZiAoaW5kZXggPCBrZXlzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIGtleSA9IGtleXNbaW5kZXhdO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KFtrZXksIG9ialtrZXldXSk7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24uYWRkKHRoaXMuc2NoZWR1bGUoeyBrZXlzOiBrZXlzLCBpbmRleDogaW5kZXggKyAxLCBzdWJzY3JpYmVyOiBzdWJzY3JpYmVyLCBzdWJzY3JpcHRpb246IHN1YnNjcmlwdGlvbiwgb2JqOiBvYmogfSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFpcnMuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF91dGlsX25vdCxfdXRpbF9zdWJzY3JpYmVUbyxfb3BlcmF0b3JzX2ZpbHRlcixfT2JzZXJ2YWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBub3QgfSBmcm9tICcuLi91dGlsL25vdCc7XG5pbXBvcnQgeyBzdWJzY3JpYmVUbyB9IGZyb20gJy4uL3V0aWwvc3Vic2NyaWJlVG8nO1xuaW1wb3J0IHsgZmlsdGVyIH0gZnJvbSAnLi4vb3BlcmF0b3JzL2ZpbHRlcic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5leHBvcnQgZnVuY3Rpb24gcGFydGl0aW9uKHNvdXJjZSwgcHJlZGljYXRlLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgZmlsdGVyKHByZWRpY2F0ZSwgdGhpc0FyZykobmV3IE9ic2VydmFibGUoc3Vic2NyaWJlVG8oc291cmNlKSkpLFxuICAgICAgICBmaWx0ZXIobm90KHByZWRpY2F0ZSwgdGhpc0FyZykpKG5ldyBPYnNlcnZhYmxlKHN1YnNjcmliZVRvKHNvdXJjZSkpKVxuICAgIF07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJ0aXRpb24uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF91dGlsX2lzQXJyYXksX2Zyb21BcnJheSxfT3V0ZXJTdWJzY3JpYmVyLF91dGlsX3N1YnNjcmliZVRvUmVzdWx0IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vdXRpbC9pc0FycmF5JztcbmltcG9ydCB7IGZyb21BcnJheSB9IGZyb20gJy4vZnJvbUFycmF5JztcbmltcG9ydCB7IE91dGVyU3Vic2NyaWJlciB9IGZyb20gJy4uL091dGVyU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb1Jlc3VsdCB9IGZyb20gJy4uL3V0aWwvc3Vic2NyaWJlVG9SZXN1bHQnO1xuZXhwb3J0IGZ1bmN0aW9uIHJhY2UoKSB7XG4gICAgdmFyIG9ic2VydmFibGVzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgb2JzZXJ2YWJsZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgaWYgKG9ic2VydmFibGVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBpZiAoaXNBcnJheShvYnNlcnZhYmxlc1swXSkpIHtcbiAgICAgICAgICAgIG9ic2VydmFibGVzID0gb2JzZXJ2YWJsZXNbMF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZXNbMF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZyb21BcnJheShvYnNlcnZhYmxlcywgdW5kZWZpbmVkKS5saWZ0KG5ldyBSYWNlT3BlcmF0b3IoKSk7XG59XG52YXIgUmFjZU9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJhY2VPcGVyYXRvcigpIHtcbiAgICB9XG4gICAgUmFjZU9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgUmFjZVN1YnNjcmliZXIoc3Vic2NyaWJlcikpO1xuICAgIH07XG4gICAgcmV0dXJuIFJhY2VPcGVyYXRvcjtcbn0oKSk7XG5leHBvcnQgeyBSYWNlT3BlcmF0b3IgfTtcbnZhciBSYWNlU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhSYWNlU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBSYWNlU3Vic2NyaWJlcihkZXN0aW5hdGlvbikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaGFzRmlyc3QgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMub2JzZXJ2YWJsZXMgPSBbXTtcbiAgICAgICAgX3RoaXMuc3Vic2NyaXB0aW9ucyA9IFtdO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFJhY2VTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uIChvYnNlcnZhYmxlKSB7XG4gICAgICAgIHRoaXMub2JzZXJ2YWJsZXMucHVzaChvYnNlcnZhYmxlKTtcbiAgICB9O1xuICAgIFJhY2VTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvYnNlcnZhYmxlcyA9IHRoaXMub2JzZXJ2YWJsZXM7XG4gICAgICAgIHZhciBsZW4gPSBvYnNlcnZhYmxlcy5sZW5ndGg7XG4gICAgICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuICYmICF0aGlzLmhhc0ZpcnN0OyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgb2JzZXJ2YWJsZSA9IG9ic2VydmFibGVzW2ldO1xuICAgICAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSBzdWJzY3JpYmVUb1Jlc3VsdCh0aGlzLCBvYnNlcnZhYmxlLCB1bmRlZmluZWQsIGkpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN1YnNjcmlwdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2goc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQoc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub2JzZXJ2YWJsZXMgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSYWNlU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dCA9IGZ1bmN0aW9uIChfb3V0ZXJWYWx1ZSwgaW5uZXJWYWx1ZSwgb3V0ZXJJbmRleCkge1xuICAgICAgICBpZiAoIXRoaXMuaGFzRmlyc3QpIHtcbiAgICAgICAgICAgIHRoaXMuaGFzRmlyc3QgPSB0cnVlO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN1YnNjcmlwdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaSAhPT0gb3V0ZXJJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gdGhpcy5zdWJzY3JpcHRpb25zW2ldO1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmUoc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChpbm5lclZhbHVlKTtcbiAgICB9O1xuICAgIHJldHVybiBSYWNlU3Vic2NyaWJlcjtcbn0oT3V0ZXJTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBSYWNlU3Vic2NyaWJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmFjZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmdlKHN0YXJ0LCBjb3VudCwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKHN0YXJ0ID09PSB2b2lkIDApIHtcbiAgICAgICAgc3RhcnQgPSAwO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgaWYgKGNvdW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvdW50ID0gc3RhcnQ7XG4gICAgICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSBzdGFydDtcbiAgICAgICAgaWYgKHNjaGVkdWxlcikge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaCwgMCwge1xuICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCwgY291bnQ6IGNvdW50LCBzdGFydDogc3RhcnQsIHN1YnNjcmliZXI6IHN1YnNjcmliZXJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCsrID49IGNvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChjdXJyZW50KyspO1xuICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IHdoaWxlICh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRpc3BhdGNoKHN0YXRlKSB7XG4gICAgdmFyIHN0YXJ0ID0gc3RhdGUuc3RhcnQsIGluZGV4ID0gc3RhdGUuaW5kZXgsIGNvdW50ID0gc3RhdGUuY291bnQsIHN1YnNjcmliZXIgPSBzdGF0ZS5zdWJzY3JpYmVyO1xuICAgIGlmIChpbmRleCA+PSBjb3VudCkge1xuICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3Vic2NyaWJlci5uZXh0KHN0YXJ0KTtcbiAgICBpZiAoc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzdGF0ZS5pbmRleCA9IGluZGV4ICsgMTtcbiAgICBzdGF0ZS5zdGFydCA9IHN0YXJ0ICsgMTtcbiAgICB0aGlzLnNjaGVkdWxlKHN0YXRlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJhbmdlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5leHBvcnQgZnVuY3Rpb24gdGhyb3dFcnJvcihlcnJvciwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKCFzY2hlZHVsZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7IHJldHVybiBzdWJzY3JpYmVyLmVycm9yKGVycm9yKTsgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHsgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaCwgMCwgeyBlcnJvcjogZXJyb3IsIHN1YnNjcmliZXI6IHN1YnNjcmliZXIgfSk7IH0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRpc3BhdGNoKF9hKSB7XG4gICAgdmFyIGVycm9yID0gX2EuZXJyb3IsIHN1YnNjcmliZXIgPSBfYS5zdWJzY3JpYmVyO1xuICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyb3IpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGhyb3dFcnJvci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX3NjaGVkdWxlcl9hc3luYyxfdXRpbF9pc051bWVyaWMsX3V0aWxfaXNTY2hlZHVsZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgYXN5bmMgfSBmcm9tICcuLi9zY2hlZHVsZXIvYXN5bmMnO1xuaW1wb3J0IHsgaXNOdW1lcmljIH0gZnJvbSAnLi4vdXRpbC9pc051bWVyaWMnO1xuaW1wb3J0IHsgaXNTY2hlZHVsZXIgfSBmcm9tICcuLi91dGlsL2lzU2NoZWR1bGVyJztcbmV4cG9ydCBmdW5jdGlvbiB0aW1lcihkdWVUaW1lLCBwZXJpb2RPclNjaGVkdWxlciwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKGR1ZVRpbWUgPT09IHZvaWQgMCkge1xuICAgICAgICBkdWVUaW1lID0gMDtcbiAgICB9XG4gICAgdmFyIHBlcmlvZCA9IC0xO1xuICAgIGlmIChpc051bWVyaWMocGVyaW9kT3JTY2hlZHVsZXIpKSB7XG4gICAgICAgIHBlcmlvZCA9IE51bWJlcihwZXJpb2RPclNjaGVkdWxlcikgPCAxICYmIDEgfHwgTnVtYmVyKHBlcmlvZE9yU2NoZWR1bGVyKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNTY2hlZHVsZXIocGVyaW9kT3JTY2hlZHVsZXIpKSB7XG4gICAgICAgIHNjaGVkdWxlciA9IHBlcmlvZE9yU2NoZWR1bGVyO1xuICAgIH1cbiAgICBpZiAoIWlzU2NoZWR1bGVyKHNjaGVkdWxlcikpIHtcbiAgICAgICAgc2NoZWR1bGVyID0gYXN5bmM7XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgZHVlID0gaXNOdW1lcmljKGR1ZVRpbWUpXG4gICAgICAgICAgICA/IGR1ZVRpbWVcbiAgICAgICAgICAgIDogKCtkdWVUaW1lIC0gc2NoZWR1bGVyLm5vdygpKTtcbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaCwgZHVlLCB7XG4gICAgICAgICAgICBpbmRleDogMCwgcGVyaW9kOiBwZXJpb2QsIHN1YnNjcmliZXI6IHN1YnNjcmliZXJcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBkaXNwYXRjaChzdGF0ZSkge1xuICAgIHZhciBpbmRleCA9IHN0YXRlLmluZGV4LCBwZXJpb2QgPSBzdGF0ZS5wZXJpb2QsIHN1YnNjcmliZXIgPSBzdGF0ZS5zdWJzY3JpYmVyO1xuICAgIHN1YnNjcmliZXIubmV4dChpbmRleCk7XG4gICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZWxzZSBpZiAocGVyaW9kID09PSAtMSkge1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgIH1cbiAgICBzdGF0ZS5pbmRleCA9IGluZGV4ICsgMTtcbiAgICB0aGlzLnNjaGVkdWxlKHN0YXRlLCBwZXJpb2QpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGltZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF9mcm9tLF9lbXB0eSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBmcm9tIH0gZnJvbSAnLi9mcm9tJztcbmltcG9ydCB7IEVNUFRZIH0gZnJvbSAnLi9lbXB0eSc7XG5leHBvcnQgZnVuY3Rpb24gdXNpbmcocmVzb3VyY2VGYWN0b3J5LCBvYnNlcnZhYmxlRmFjdG9yeSkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgcmVzb3VyY2U7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXNvdXJjZSA9IHJlc291cmNlRmFjdG9yeSgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IG9ic2VydmFibGVGYWN0b3J5KHJlc291cmNlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzb3VyY2UgPSByZXN1bHQgPyBmcm9tKHJlc3VsdCkgOiBFTVBUWTtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IHNvdXJjZS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIGlmIChyZXNvdXJjZSkge1xuICAgICAgICAgICAgICAgIHJlc291cmNlLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2luZy5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX2Zyb21BcnJheSxfdXRpbF9pc0FycmF5LF9TdWJzY3JpYmVyLF8uLl9pbnRlcm5hbF9zeW1ib2xfaXRlcmF0b3IsX2lubmVyU3Vic2NyaWJlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBmcm9tQXJyYXkgfSBmcm9tICcuL2Zyb21BcnJheSc7XG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vdXRpbC9pc0FycmF5JztcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IGl0ZXJhdG9yIGFzIFN5bWJvbF9pdGVyYXRvciB9IGZyb20gJy4uLy4uL2ludGVybmFsL3N5bWJvbC9pdGVyYXRvcic7XG5pbXBvcnQgeyBTaW1wbGVPdXRlclN1YnNjcmliZXIsIFNpbXBsZUlubmVyU3Vic2NyaWJlciwgaW5uZXJTdWJzY3JpYmUgfSBmcm9tICcuLi9pbm5lclN1YnNjcmliZSc7XG5leHBvcnQgZnVuY3Rpb24gemlwKCkge1xuICAgIHZhciBvYnNlcnZhYmxlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIG9ic2VydmFibGVzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciByZXN1bHRTZWxlY3RvciA9IG9ic2VydmFibGVzW29ic2VydmFibGVzLmxlbmd0aCAtIDFdO1xuICAgIGlmICh0eXBlb2YgcmVzdWx0U2VsZWN0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgb2JzZXJ2YWJsZXMucG9wKCk7XG4gICAgfVxuICAgIHJldHVybiBmcm9tQXJyYXkob2JzZXJ2YWJsZXMsIHVuZGVmaW5lZCkubGlmdChuZXcgWmlwT3BlcmF0b3IocmVzdWx0U2VsZWN0b3IpKTtcbn1cbnZhciBaaXBPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBaaXBPcGVyYXRvcihyZXN1bHRTZWxlY3Rvcikge1xuICAgICAgICB0aGlzLnJlc3VsdFNlbGVjdG9yID0gcmVzdWx0U2VsZWN0b3I7XG4gICAgfVxuICAgIFppcE9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgWmlwU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLnJlc3VsdFNlbGVjdG9yKSk7XG4gICAgfTtcbiAgICByZXR1cm4gWmlwT3BlcmF0b3I7XG59KCkpO1xuZXhwb3J0IHsgWmlwT3BlcmF0b3IgfTtcbnZhciBaaXBTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFppcFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gWmlwU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgcmVzdWx0U2VsZWN0b3IsIHZhbHVlcykge1xuICAgICAgICBpZiAodmFsdWVzID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHZhbHVlcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnJlc3VsdFNlbGVjdG9yID0gcmVzdWx0U2VsZWN0b3I7XG4gICAgICAgIF90aGlzLml0ZXJhdG9ycyA9IFtdO1xuICAgICAgICBfdGhpcy5hY3RpdmUgPSAwO1xuICAgICAgICBfdGhpcy5yZXN1bHRTZWxlY3RvciA9ICh0eXBlb2YgcmVzdWx0U2VsZWN0b3IgPT09ICdmdW5jdGlvbicpID8gcmVzdWx0U2VsZWN0b3IgOiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgWmlwU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9ycyA9IHRoaXMuaXRlcmF0b3JzO1xuICAgICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGl0ZXJhdG9ycy5wdXNoKG5ldyBTdGF0aWNBcnJheUl0ZXJhdG9yKHZhbHVlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlW1N5bWJvbF9pdGVyYXRvcl0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGl0ZXJhdG9ycy5wdXNoKG5ldyBTdGF0aWNJdGVyYXRvcih2YWx1ZVtTeW1ib2xfaXRlcmF0b3JdKCkpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGl0ZXJhdG9ycy5wdXNoKG5ldyBaaXBCdWZmZXJJdGVyYXRvcih0aGlzLmRlc3RpbmF0aW9uLCB0aGlzLCB2YWx1ZSkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBaaXBTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpdGVyYXRvcnMgPSB0aGlzLml0ZXJhdG9ycztcbiAgICAgICAgdmFyIGxlbiA9IGl0ZXJhdG9ycy5sZW5ndGg7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgaWYgKGxlbiA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aXZlID0gbGVuO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYXRvcnNbaV07XG4gICAgICAgICAgICBpZiAoaXRlcmF0b3Iuc3RpbGxVbnN1YnNjcmliZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uLmFkZChpdGVyYXRvci5zdWJzY3JpYmUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZS0tO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBaaXBTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlJbmFjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5hY3RpdmUtLTtcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFppcFN1YnNjcmliZXIucHJvdG90eXBlLmNoZWNrSXRlcmF0b3JzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaXRlcmF0b3JzID0gdGhpcy5pdGVyYXRvcnM7XG4gICAgICAgIHZhciBsZW4gPSBpdGVyYXRvcnMubGVuZ3RoO1xuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYXRvcnNbaV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIGl0ZXJhdG9yLmhhc1ZhbHVlID09PSAnZnVuY3Rpb24nICYmICFpdGVyYXRvci5oYXNWYWx1ZSgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBzaG91bGRDb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYXRvcnNbaV07XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgICAgaWYgKGl0ZXJhdG9yLmhhc0NvbXBsZXRlZCgpKSB7XG4gICAgICAgICAgICAgICAgc2hvdWxkQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlc3VsdC5kb25lKSB7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhcmdzLnB1c2gocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5yZXN1bHRTZWxlY3Rvcikge1xuICAgICAgICAgICAgdGhpcy5fdHJ5cmVzdWx0U2VsZWN0b3IoYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbi5uZXh0KGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaG91bGRDb21wbGV0ZSkge1xuICAgICAgICAgICAgZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgWmlwU3Vic2NyaWJlci5wcm90b3R5cGUuX3RyeXJlc3VsdFNlbGVjdG9yID0gZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucmVzdWx0U2VsZWN0b3IuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChyZXN1bHQpO1xuICAgIH07XG4gICAgcmV0dXJuIFppcFN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IFppcFN1YnNjcmliZXIgfTtcbnZhciBTdGF0aWNJdGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdGF0aWNJdGVyYXRvcihpdGVyYXRvcikge1xuICAgICAgICB0aGlzLml0ZXJhdG9yID0gaXRlcmF0b3I7XG4gICAgICAgIHRoaXMubmV4dFJlc3VsdCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICB9XG4gICAgU3RhdGljSXRlcmF0b3IucHJvdG90eXBlLmhhc1ZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIFN0YXRpY0l0ZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5uZXh0UmVzdWx0O1xuICAgICAgICB0aGlzLm5leHRSZXN1bHQgPSB0aGlzLml0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIFN0YXRpY0l0ZXJhdG9yLnByb3RvdHlwZS5oYXNDb21wbGV0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBuZXh0UmVzdWx0ID0gdGhpcy5uZXh0UmVzdWx0O1xuICAgICAgICByZXR1cm4gQm9vbGVhbihuZXh0UmVzdWx0ICYmIG5leHRSZXN1bHQuZG9uZSk7XG4gICAgfTtcbiAgICByZXR1cm4gU3RhdGljSXRlcmF0b3I7XG59KCkpO1xudmFyIFN0YXRpY0FycmF5SXRlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3RhdGljQXJyYXlJdGVyYXRvcihhcnJheSkge1xuICAgICAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG4gICAgICAgIHRoaXMuaW5kZXggPSAwO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgIH1cbiAgICBTdGF0aWNBcnJheUl0ZXJhdG9yLnByb3RvdHlwZVtTeW1ib2xfaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFN0YXRpY0FycmF5SXRlcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIGkgPSB0aGlzLmluZGV4Kys7XG4gICAgICAgIHZhciBhcnJheSA9IHRoaXMuYXJyYXk7XG4gICAgICAgIHJldHVybiBpIDwgdGhpcy5sZW5ndGggPyB7IHZhbHVlOiBhcnJheVtpXSwgZG9uZTogZmFsc2UgfSA6IHsgdmFsdWU6IG51bGwsIGRvbmU6IHRydWUgfTtcbiAgICB9O1xuICAgIFN0YXRpY0FycmF5SXRlcmF0b3IucHJvdG90eXBlLmhhc1ZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcnJheS5sZW5ndGggPiB0aGlzLmluZGV4O1xuICAgIH07XG4gICAgU3RhdGljQXJyYXlJdGVyYXRvci5wcm90b3R5cGUuaGFzQ29tcGxldGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcnJheS5sZW5ndGggPT09IHRoaXMuaW5kZXg7XG4gICAgfTtcbiAgICByZXR1cm4gU3RhdGljQXJyYXlJdGVyYXRvcjtcbn0oKSk7XG52YXIgWmlwQnVmZmVySXRlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoWmlwQnVmZmVySXRlcmF0b3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gWmlwQnVmZmVySXRlcmF0b3IoZGVzdGluYXRpb24sIHBhcmVudCwgb2JzZXJ2YWJsZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICBfdGhpcy5vYnNlcnZhYmxlID0gb2JzZXJ2YWJsZTtcbiAgICAgICAgX3RoaXMuc3RpbGxVbnN1YnNjcmliZWQgPSB0cnVlO1xuICAgICAgICBfdGhpcy5idWZmZXIgPSBbXTtcbiAgICAgICAgX3RoaXMuaXNDb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFppcEJ1ZmZlckl0ZXJhdG9yLnByb3RvdHlwZVtTeW1ib2xfaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFppcEJ1ZmZlckl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5idWZmZXI7XG4gICAgICAgIGlmIChidWZmZXIubGVuZ3RoID09PSAwICYmIHRoaXMuaXNDb21wbGV0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG51bGwsIGRvbmU6IHRydWUgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBidWZmZXIuc2hpZnQoKSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgWmlwQnVmZmVySXRlcmF0b3IucHJvdG90eXBlLmhhc1ZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5idWZmZXIubGVuZ3RoID4gMDtcbiAgICB9O1xuICAgIFppcEJ1ZmZlckl0ZXJhdG9yLnByb3RvdHlwZS5oYXNDb21wbGV0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlci5sZW5ndGggPT09IDAgJiYgdGhpcy5pc0NvbXBsZXRlO1xuICAgIH07XG4gICAgWmlwQnVmZmVySXRlcmF0b3IucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5idWZmZXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5pc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMucGFyZW50Lm5vdGlmeUluYWN0aXZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFppcEJ1ZmZlckl0ZXJhdG9yLnByb3RvdHlwZS5ub3RpZnlOZXh0ID0gZnVuY3Rpb24gKGlubmVyVmFsdWUpIHtcbiAgICAgICAgdGhpcy5idWZmZXIucHVzaChpbm5lclZhbHVlKTtcbiAgICAgICAgdGhpcy5wYXJlbnQuY2hlY2tJdGVyYXRvcnMoKTtcbiAgICB9O1xuICAgIFppcEJ1ZmZlckl0ZXJhdG9yLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBpbm5lclN1YnNjcmliZSh0aGlzLm9ic2VydmFibGUsIG5ldyBTaW1wbGVJbm5lclN1YnNjcmliZXIodGhpcykpO1xuICAgIH07XG4gICAgcmV0dXJuIFppcEJ1ZmZlckl0ZXJhdG9yO1xufShTaW1wbGVPdXRlclN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXppcC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX2lubmVyU3Vic2NyaWJlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTaW1wbGVPdXRlclN1YnNjcmliZXIsIGlubmVyU3Vic2NyaWJlLCBTaW1wbGVJbm5lclN1YnNjcmliZXIgfSBmcm9tICcuLi9pbm5lclN1YnNjcmliZSc7XG5leHBvcnQgZnVuY3Rpb24gYXVkaXQoZHVyYXRpb25TZWxlY3Rvcikge1xuICAgIHJldHVybiBmdW5jdGlvbiBhdWRpdE9wZXJhdG9yRnVuY3Rpb24oc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2UubGlmdChuZXcgQXVkaXRPcGVyYXRvcihkdXJhdGlvblNlbGVjdG9yKSk7XG4gICAgfTtcbn1cbnZhciBBdWRpdE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEF1ZGl0T3BlcmF0b3IoZHVyYXRpb25TZWxlY3Rvcikge1xuICAgICAgICB0aGlzLmR1cmF0aW9uU2VsZWN0b3IgPSBkdXJhdGlvblNlbGVjdG9yO1xuICAgIH1cbiAgICBBdWRpdE9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgQXVkaXRTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMuZHVyYXRpb25TZWxlY3RvcikpO1xuICAgIH07XG4gICAgcmV0dXJuIEF1ZGl0T3BlcmF0b3I7XG59KCkpO1xudmFyIEF1ZGl0U3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhBdWRpdFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQXVkaXRTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBkdXJhdGlvblNlbGVjdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kdXJhdGlvblNlbGVjdG9yID0gZHVyYXRpb25TZWxlY3RvcjtcbiAgICAgICAgX3RoaXMuaGFzVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBdWRpdFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5oYXNWYWx1ZSA9IHRydWU7XG4gICAgICAgIGlmICghdGhpcy50aHJvdHRsZWQpIHtcbiAgICAgICAgICAgIHZhciBkdXJhdGlvbiA9IHZvaWQgMDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIGR1cmF0aW9uU2VsZWN0b3IgPSB0aGlzLmR1cmF0aW9uU2VsZWN0b3I7XG4gICAgICAgICAgICAgICAgZHVyYXRpb24gPSBkdXJhdGlvblNlbGVjdG9yKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGlubmVyU3Vic2NyaXB0aW9uID0gaW5uZXJTdWJzY3JpYmUoZHVyYXRpb24sIG5ldyBTaW1wbGVJbm5lclN1YnNjcmliZXIodGhpcykpO1xuICAgICAgICAgICAgaWYgKCFpbm5lclN1YnNjcmlwdGlvbiB8fCBpbm5lclN1YnNjcmlwdGlvbi5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyVGhyb3R0bGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkKHRoaXMudGhyb3R0bGVkID0gaW5uZXJTdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBBdWRpdFN1YnNjcmliZXIucHJvdG90eXBlLmNsZWFyVGhyb3R0bGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIHZhbHVlID0gX2EudmFsdWUsIGhhc1ZhbHVlID0gX2EuaGFzVmFsdWUsIHRocm90dGxlZCA9IF9hLnRocm90dGxlZDtcbiAgICAgICAgaWYgKHRocm90dGxlZCkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmUodGhyb3R0bGVkKTtcbiAgICAgICAgICAgIHRoaXMudGhyb3R0bGVkID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhyb3R0bGVkLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhc1ZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5oYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXVkaXRTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlOZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNsZWFyVGhyb3R0bGUoKTtcbiAgICB9O1xuICAgIEF1ZGl0U3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5Q29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2xlYXJUaHJvdHRsZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIEF1ZGl0U3Vic2NyaWJlcjtcbn0oU2ltcGxlT3V0ZXJTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hdWRpdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3NjaGVkdWxlcl9hc3luYyxfYXVkaXQsX29ic2VydmFibGVfdGltZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgYXN5bmMgfSBmcm9tICcuLi9zY2hlZHVsZXIvYXN5bmMnO1xuaW1wb3J0IHsgYXVkaXQgfSBmcm9tICcuL2F1ZGl0JztcbmltcG9ydCB7IHRpbWVyIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS90aW1lcic7XG5leHBvcnQgZnVuY3Rpb24gYXVkaXRUaW1lKGR1cmF0aW9uLCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoc2NoZWR1bGVyID09PSB2b2lkIDApIHtcbiAgICAgICAgc2NoZWR1bGVyID0gYXN5bmM7XG4gICAgfVxuICAgIHJldHVybiBhdWRpdChmdW5jdGlvbiAoKSB7IHJldHVybiB0aW1lcihkdXJhdGlvbiwgc2NoZWR1bGVyKTsgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hdWRpdFRpbWUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9pbm5lclN1YnNjcmliZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU2ltcGxlT3V0ZXJTdWJzY3JpYmVyLCBpbm5lclN1YnNjcmliZSwgU2ltcGxlSW5uZXJTdWJzY3JpYmVyIH0gZnJvbSAnLi4vaW5uZXJTdWJzY3JpYmUnO1xuZXhwb3J0IGZ1bmN0aW9uIGJ1ZmZlcihjbG9zaW5nTm90aWZpZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gYnVmZmVyT3BlcmF0b3JGdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBCdWZmZXJPcGVyYXRvcihjbG9zaW5nTm90aWZpZXIpKTtcbiAgICB9O1xufVxudmFyIEJ1ZmZlck9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJ1ZmZlck9wZXJhdG9yKGNsb3NpbmdOb3RpZmllcikge1xuICAgICAgICB0aGlzLmNsb3NpbmdOb3RpZmllciA9IGNsb3NpbmdOb3RpZmllcjtcbiAgICB9XG4gICAgQnVmZmVyT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBCdWZmZXJTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMuY2xvc2luZ05vdGlmaWVyKSk7XG4gICAgfTtcbiAgICByZXR1cm4gQnVmZmVyT3BlcmF0b3I7XG59KCkpO1xudmFyIEJ1ZmZlclN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQnVmZmVyU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCdWZmZXJTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBjbG9zaW5nTm90aWZpZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmJ1ZmZlciA9IFtdO1xuICAgICAgICBfdGhpcy5hZGQoaW5uZXJTdWJzY3JpYmUoY2xvc2luZ05vdGlmaWVyLCBuZXcgU2ltcGxlSW5uZXJTdWJzY3JpYmVyKF90aGlzKSkpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEJ1ZmZlclN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuYnVmZmVyLnB1c2godmFsdWUpO1xuICAgIH07XG4gICAgQnVmZmVyU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGJ1ZmZlciA9IHRoaXMuYnVmZmVyO1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IFtdO1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQoYnVmZmVyKTtcbiAgICB9O1xuICAgIHJldHVybiBCdWZmZXJTdWJzY3JpYmVyO1xufShTaW1wbGVPdXRlclN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1ZmZlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBidWZmZXJDb3VudChidWZmZXJTaXplLCBzdGFydEJ1ZmZlckV2ZXJ5KSB7XG4gICAgaWYgKHN0YXJ0QnVmZmVyRXZlcnkgPT09IHZvaWQgMCkge1xuICAgICAgICBzdGFydEJ1ZmZlckV2ZXJ5ID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGJ1ZmZlckNvdW50T3BlcmF0b3JGdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBCdWZmZXJDb3VudE9wZXJhdG9yKGJ1ZmZlclNpemUsIHN0YXJ0QnVmZmVyRXZlcnkpKTtcbiAgICB9O1xufVxudmFyIEJ1ZmZlckNvdW50T3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQnVmZmVyQ291bnRPcGVyYXRvcihidWZmZXJTaXplLCBzdGFydEJ1ZmZlckV2ZXJ5KSB7XG4gICAgICAgIHRoaXMuYnVmZmVyU2l6ZSA9IGJ1ZmZlclNpemU7XG4gICAgICAgIHRoaXMuc3RhcnRCdWZmZXJFdmVyeSA9IHN0YXJ0QnVmZmVyRXZlcnk7XG4gICAgICAgIGlmICghc3RhcnRCdWZmZXJFdmVyeSB8fCBidWZmZXJTaXplID09PSBzdGFydEJ1ZmZlckV2ZXJ5KSB7XG4gICAgICAgICAgICB0aGlzLnN1YnNjcmliZXJDbGFzcyA9IEJ1ZmZlckNvdW50U3Vic2NyaWJlcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3Vic2NyaWJlckNsYXNzID0gQnVmZmVyU2tpcENvdW50U3Vic2NyaWJlcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBCdWZmZXJDb3VudE9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgdGhpcy5zdWJzY3JpYmVyQ2xhc3Moc3Vic2NyaWJlciwgdGhpcy5idWZmZXJTaXplLCB0aGlzLnN0YXJ0QnVmZmVyRXZlcnkpKTtcbiAgICB9O1xuICAgIHJldHVybiBCdWZmZXJDb3VudE9wZXJhdG9yO1xufSgpKTtcbnZhciBCdWZmZXJDb3VudFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQnVmZmVyQ291bnRTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEJ1ZmZlckNvdW50U3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgYnVmZmVyU2l6ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYnVmZmVyU2l6ZSA9IGJ1ZmZlclNpemU7XG4gICAgICAgIF90aGlzLmJ1ZmZlciA9IFtdO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEJ1ZmZlckNvdW50U3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIGJ1ZmZlciA9IHRoaXMuYnVmZmVyO1xuICAgICAgICBidWZmZXIucHVzaCh2YWx1ZSk7XG4gICAgICAgIGlmIChidWZmZXIubGVuZ3RoID09IHRoaXMuYnVmZmVyU2l6ZSkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KGJ1ZmZlcik7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlciA9IFtdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCdWZmZXJDb3VudFN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGJ1ZmZlciA9IHRoaXMuYnVmZmVyO1xuICAgICAgICBpZiAoYnVmZmVyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChidWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuX2NvbXBsZXRlLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICByZXR1cm4gQnVmZmVyQ291bnRTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG52YXIgQnVmZmVyU2tpcENvdW50U3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhCdWZmZXJTa2lwQ291bnRTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEJ1ZmZlclNraXBDb3VudFN1YnNjcmliZXIoZGVzdGluYXRpb24sIGJ1ZmZlclNpemUsIHN0YXJ0QnVmZmVyRXZlcnkpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmJ1ZmZlclNpemUgPSBidWZmZXJTaXplO1xuICAgICAgICBfdGhpcy5zdGFydEJ1ZmZlckV2ZXJ5ID0gc3RhcnRCdWZmZXJFdmVyeTtcbiAgICAgICAgX3RoaXMuYnVmZmVycyA9IFtdO1xuICAgICAgICBfdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQnVmZmVyU2tpcENvdW50U3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgYnVmZmVyU2l6ZSA9IF9hLmJ1ZmZlclNpemUsIHN0YXJ0QnVmZmVyRXZlcnkgPSBfYS5zdGFydEJ1ZmZlckV2ZXJ5LCBidWZmZXJzID0gX2EuYnVmZmVycywgY291bnQgPSBfYS5jb3VudDtcbiAgICAgICAgdGhpcy5jb3VudCsrO1xuICAgICAgICBpZiAoY291bnQgJSBzdGFydEJ1ZmZlckV2ZXJ5ID09PSAwKSB7XG4gICAgICAgICAgICBidWZmZXJzLnB1c2goW10pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSBidWZmZXJzLmxlbmd0aDsgaS0tOykge1xuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGJ1ZmZlcnNbaV07XG4gICAgICAgICAgICBidWZmZXIucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICBpZiAoYnVmZmVyLmxlbmd0aCA9PT0gYnVmZmVyU2l6ZSkge1xuICAgICAgICAgICAgICAgIGJ1ZmZlcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChidWZmZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBCdWZmZXJTa2lwQ291bnRTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGJ1ZmZlcnMgPSBfYS5idWZmZXJzLCBkZXN0aW5hdGlvbiA9IF9hLmRlc3RpbmF0aW9uO1xuICAgICAgICB3aGlsZSAoYnVmZmVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgYnVmZmVyID0gYnVmZmVycy5zaGlmdCgpO1xuICAgICAgICAgICAgaWYgKGJ1ZmZlci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb24ubmV4dChidWZmZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuX2NvbXBsZXRlLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICByZXR1cm4gQnVmZmVyU2tpcENvdW50U3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnVmZmVyQ291bnQuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9zY2hlZHVsZXJfYXN5bmMsX1N1YnNjcmliZXIsX3V0aWxfaXNTY2hlZHVsZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGFzeW5jIH0gZnJvbSAnLi4vc2NoZWR1bGVyL2FzeW5jJztcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IGlzU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9pc1NjaGVkdWxlcic7XG5leHBvcnQgZnVuY3Rpb24gYnVmZmVyVGltZShidWZmZXJUaW1lU3Bhbikge1xuICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIHZhciBzY2hlZHVsZXIgPSBhc3luYztcbiAgICBpZiAoaXNTY2hlZHVsZXIoYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXSkpIHtcbiAgICAgICAgc2NoZWR1bGVyID0gYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXTtcbiAgICAgICAgbGVuZ3RoLS07XG4gICAgfVxuICAgIHZhciBidWZmZXJDcmVhdGlvbkludGVydmFsID0gbnVsbDtcbiAgICBpZiAobGVuZ3RoID49IDIpIHtcbiAgICAgICAgYnVmZmVyQ3JlYXRpb25JbnRlcnZhbCA9IGFyZ3VtZW50c1sxXTtcbiAgICB9XG4gICAgdmFyIG1heEJ1ZmZlclNpemUgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgaWYgKGxlbmd0aCA+PSAzKSB7XG4gICAgICAgIG1heEJ1ZmZlclNpemUgPSBhcmd1bWVudHNbMl07XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiBidWZmZXJUaW1lT3BlcmF0b3JGdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBCdWZmZXJUaW1lT3BlcmF0b3IoYnVmZmVyVGltZVNwYW4sIGJ1ZmZlckNyZWF0aW9uSW50ZXJ2YWwsIG1heEJ1ZmZlclNpemUsIHNjaGVkdWxlcikpO1xuICAgIH07XG59XG52YXIgQnVmZmVyVGltZU9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJ1ZmZlclRpbWVPcGVyYXRvcihidWZmZXJUaW1lU3BhbiwgYnVmZmVyQ3JlYXRpb25JbnRlcnZhbCwgbWF4QnVmZmVyU2l6ZSwgc2NoZWR1bGVyKSB7XG4gICAgICAgIHRoaXMuYnVmZmVyVGltZVNwYW4gPSBidWZmZXJUaW1lU3BhbjtcbiAgICAgICAgdGhpcy5idWZmZXJDcmVhdGlvbkludGVydmFsID0gYnVmZmVyQ3JlYXRpb25JbnRlcnZhbDtcbiAgICAgICAgdGhpcy5tYXhCdWZmZXJTaXplID0gbWF4QnVmZmVyU2l6ZTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgfVxuICAgIEJ1ZmZlclRpbWVPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IEJ1ZmZlclRpbWVTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMuYnVmZmVyVGltZVNwYW4sIHRoaXMuYnVmZmVyQ3JlYXRpb25JbnRlcnZhbCwgdGhpcy5tYXhCdWZmZXJTaXplLCB0aGlzLnNjaGVkdWxlcikpO1xuICAgIH07XG4gICAgcmV0dXJuIEJ1ZmZlclRpbWVPcGVyYXRvcjtcbn0oKSk7XG52YXIgQ29udGV4dCA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb250ZXh0KCkge1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IFtdO1xuICAgIH1cbiAgICByZXR1cm4gQ29udGV4dDtcbn0oKSk7XG52YXIgQnVmZmVyVGltZVN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQnVmZmVyVGltZVN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQnVmZmVyVGltZVN1YnNjcmliZXIoZGVzdGluYXRpb24sIGJ1ZmZlclRpbWVTcGFuLCBidWZmZXJDcmVhdGlvbkludGVydmFsLCBtYXhCdWZmZXJTaXplLCBzY2hlZHVsZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmJ1ZmZlclRpbWVTcGFuID0gYnVmZmVyVGltZVNwYW47XG4gICAgICAgIF90aGlzLmJ1ZmZlckNyZWF0aW9uSW50ZXJ2YWwgPSBidWZmZXJDcmVhdGlvbkludGVydmFsO1xuICAgICAgICBfdGhpcy5tYXhCdWZmZXJTaXplID0gbWF4QnVmZmVyU2l6ZTtcbiAgICAgICAgX3RoaXMuc2NoZWR1bGVyID0gc2NoZWR1bGVyO1xuICAgICAgICBfdGhpcy5jb250ZXh0cyA9IFtdO1xuICAgICAgICB2YXIgY29udGV4dCA9IF90aGlzLm9wZW5Db250ZXh0KCk7XG4gICAgICAgIF90aGlzLnRpbWVzcGFuT25seSA9IGJ1ZmZlckNyZWF0aW9uSW50ZXJ2YWwgPT0gbnVsbCB8fCBidWZmZXJDcmVhdGlvbkludGVydmFsIDwgMDtcbiAgICAgICAgaWYgKF90aGlzLnRpbWVzcGFuT25seSkge1xuICAgICAgICAgICAgdmFyIHRpbWVTcGFuT25seVN0YXRlID0geyBzdWJzY3JpYmVyOiBfdGhpcywgY29udGV4dDogY29udGV4dCwgYnVmZmVyVGltZVNwYW46IGJ1ZmZlclRpbWVTcGFuIH07XG4gICAgICAgICAgICBfdGhpcy5hZGQoY29udGV4dC5jbG9zZUFjdGlvbiA9IHNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaEJ1ZmZlclRpbWVTcGFuT25seSwgYnVmZmVyVGltZVNwYW4sIHRpbWVTcGFuT25seVN0YXRlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgY2xvc2VTdGF0ZSA9IHsgc3Vic2NyaWJlcjogX3RoaXMsIGNvbnRleHQ6IGNvbnRleHQgfTtcbiAgICAgICAgICAgIHZhciBjcmVhdGlvblN0YXRlID0geyBidWZmZXJUaW1lU3BhbjogYnVmZmVyVGltZVNwYW4sIGJ1ZmZlckNyZWF0aW9uSW50ZXJ2YWw6IGJ1ZmZlckNyZWF0aW9uSW50ZXJ2YWwsIHN1YnNjcmliZXI6IF90aGlzLCBzY2hlZHVsZXI6IHNjaGVkdWxlciB9O1xuICAgICAgICAgICAgX3RoaXMuYWRkKGNvbnRleHQuY2xvc2VBY3Rpb24gPSBzY2hlZHVsZXIuc2NoZWR1bGUoZGlzcGF0Y2hCdWZmZXJDbG9zZSwgYnVmZmVyVGltZVNwYW4sIGNsb3NlU3RhdGUpKTtcbiAgICAgICAgICAgIF90aGlzLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZGlzcGF0Y2hCdWZmZXJDcmVhdGlvbiwgYnVmZmVyQ3JlYXRpb25JbnRlcnZhbCwgY3JlYXRpb25TdGF0ZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQnVmZmVyVGltZVN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBjb250ZXh0cyA9IHRoaXMuY29udGV4dHM7XG4gICAgICAgIHZhciBsZW4gPSBjb250ZXh0cy5sZW5ndGg7XG4gICAgICAgIHZhciBmaWxsZWRCdWZmZXJDb250ZXh0O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY29udGV4dF8xID0gY29udGV4dHNbaV07XG4gICAgICAgICAgICB2YXIgYnVmZmVyID0gY29udGV4dF8xLmJ1ZmZlcjtcbiAgICAgICAgICAgIGJ1ZmZlci5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChidWZmZXIubGVuZ3RoID09IHRoaXMubWF4QnVmZmVyU2l6ZSkge1xuICAgICAgICAgICAgICAgIGZpbGxlZEJ1ZmZlckNvbnRleHQgPSBjb250ZXh0XzE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbGxlZEJ1ZmZlckNvbnRleHQpIHtcbiAgICAgICAgICAgIHRoaXMub25CdWZmZXJGdWxsKGZpbGxlZEJ1ZmZlckNvbnRleHQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCdWZmZXJUaW1lU3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB0aGlzLmNvbnRleHRzLmxlbmd0aCA9IDA7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuX2Vycm9yLmNhbGwodGhpcywgZXJyKTtcbiAgICB9O1xuICAgIEJ1ZmZlclRpbWVTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGNvbnRleHRzID0gX2EuY29udGV4dHMsIGRlc3RpbmF0aW9uID0gX2EuZGVzdGluYXRpb247XG4gICAgICAgIHdoaWxlIChjb250ZXh0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgY29udGV4dF8yID0gY29udGV4dHMuc2hpZnQoKTtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uLm5leHQoY29udGV4dF8yLmJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5fY29tcGxldGUuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIEJ1ZmZlclRpbWVTdWJzY3JpYmVyLnByb3RvdHlwZS5fdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY29udGV4dHMgPSBudWxsO1xuICAgIH07XG4gICAgQnVmZmVyVGltZVN1YnNjcmliZXIucHJvdG90eXBlLm9uQnVmZmVyRnVsbCA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY2xvc2VDb250ZXh0KGNvbnRleHQpO1xuICAgICAgICB2YXIgY2xvc2VBY3Rpb24gPSBjb250ZXh0LmNsb3NlQWN0aW9uO1xuICAgICAgICBjbG9zZUFjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICB0aGlzLnJlbW92ZShjbG9zZUFjdGlvbik7XG4gICAgICAgIGlmICghdGhpcy5jbG9zZWQgJiYgdGhpcy50aW1lc3Bhbk9ubHkpIHtcbiAgICAgICAgICAgIGNvbnRleHQgPSB0aGlzLm9wZW5Db250ZXh0KCk7XG4gICAgICAgICAgICB2YXIgYnVmZmVyVGltZVNwYW4gPSB0aGlzLmJ1ZmZlclRpbWVTcGFuO1xuICAgICAgICAgICAgdmFyIHRpbWVTcGFuT25seVN0YXRlID0geyBzdWJzY3JpYmVyOiB0aGlzLCBjb250ZXh0OiBjb250ZXh0LCBidWZmZXJUaW1lU3BhbjogYnVmZmVyVGltZVNwYW4gfTtcbiAgICAgICAgICAgIHRoaXMuYWRkKGNvbnRleHQuY2xvc2VBY3Rpb24gPSB0aGlzLnNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaEJ1ZmZlclRpbWVTcGFuT25seSwgYnVmZmVyVGltZVNwYW4sIHRpbWVTcGFuT25seVN0YXRlKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJ1ZmZlclRpbWVTdWJzY3JpYmVyLnByb3RvdHlwZS5vcGVuQ29udGV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSBuZXcgQ29udGV4dCgpO1xuICAgICAgICB0aGlzLmNvbnRleHRzLnB1c2goY29udGV4dCk7XG4gICAgICAgIHJldHVybiBjb250ZXh0O1xuICAgIH07XG4gICAgQnVmZmVyVGltZVN1YnNjcmliZXIucHJvdG90eXBlLmNsb3NlQ29udGV4dCA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChjb250ZXh0LmJ1ZmZlcik7XG4gICAgICAgIHZhciBjb250ZXh0cyA9IHRoaXMuY29udGV4dHM7XG4gICAgICAgIHZhciBzcGxpY2VJbmRleCA9IGNvbnRleHRzID8gY29udGV4dHMuaW5kZXhPZihjb250ZXh0KSA6IC0xO1xuICAgICAgICBpZiAoc3BsaWNlSW5kZXggPj0gMCkge1xuICAgICAgICAgICAgY29udGV4dHMuc3BsaWNlKGNvbnRleHRzLmluZGV4T2YoY29udGV4dCksIDEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQnVmZmVyVGltZVN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmZ1bmN0aW9uIGRpc3BhdGNoQnVmZmVyVGltZVNwYW5Pbmx5KHN0YXRlKSB7XG4gICAgdmFyIHN1YnNjcmliZXIgPSBzdGF0ZS5zdWJzY3JpYmVyO1xuICAgIHZhciBwcmV2Q29udGV4dCA9IHN0YXRlLmNvbnRleHQ7XG4gICAgaWYgKHByZXZDb250ZXh0KSB7XG4gICAgICAgIHN1YnNjcmliZXIuY2xvc2VDb250ZXh0KHByZXZDb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKCFzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICBzdGF0ZS5jb250ZXh0ID0gc3Vic2NyaWJlci5vcGVuQ29udGV4dCgpO1xuICAgICAgICBzdGF0ZS5jb250ZXh0LmNsb3NlQWN0aW9uID0gdGhpcy5zY2hlZHVsZShzdGF0ZSwgc3RhdGUuYnVmZmVyVGltZVNwYW4pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRpc3BhdGNoQnVmZmVyQ3JlYXRpb24oc3RhdGUpIHtcbiAgICB2YXIgYnVmZmVyQ3JlYXRpb25JbnRlcnZhbCA9IHN0YXRlLmJ1ZmZlckNyZWF0aW9uSW50ZXJ2YWwsIGJ1ZmZlclRpbWVTcGFuID0gc3RhdGUuYnVmZmVyVGltZVNwYW4sIHN1YnNjcmliZXIgPSBzdGF0ZS5zdWJzY3JpYmVyLCBzY2hlZHVsZXIgPSBzdGF0ZS5zY2hlZHVsZXI7XG4gICAgdmFyIGNvbnRleHQgPSBzdWJzY3JpYmVyLm9wZW5Db250ZXh0KCk7XG4gICAgdmFyIGFjdGlvbiA9IHRoaXM7XG4gICAgaWYgKCFzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICBzdWJzY3JpYmVyLmFkZChjb250ZXh0LmNsb3NlQWN0aW9uID0gc2NoZWR1bGVyLnNjaGVkdWxlKGRpc3BhdGNoQnVmZmVyQ2xvc2UsIGJ1ZmZlclRpbWVTcGFuLCB7IHN1YnNjcmliZXI6IHN1YnNjcmliZXIsIGNvbnRleHQ6IGNvbnRleHQgfSkpO1xuICAgICAgICBhY3Rpb24uc2NoZWR1bGUoc3RhdGUsIGJ1ZmZlckNyZWF0aW9uSW50ZXJ2YWwpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRpc3BhdGNoQnVmZmVyQ2xvc2UoYXJnKSB7XG4gICAgdmFyIHN1YnNjcmliZXIgPSBhcmcuc3Vic2NyaWJlciwgY29udGV4dCA9IGFyZy5jb250ZXh0O1xuICAgIHN1YnNjcmliZXIuY2xvc2VDb250ZXh0KGNvbnRleHQpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnVmZmVyVGltZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmlwdGlvbixfdXRpbF9zdWJzY3JpYmVUb1Jlc3VsdCxfT3V0ZXJTdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG9SZXN1bHQgfSBmcm9tICcuLi91dGlsL3N1YnNjcmliZVRvUmVzdWx0JztcbmltcG9ydCB7IE91dGVyU3Vic2NyaWJlciB9IGZyb20gJy4uL091dGVyU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gYnVmZmVyVG9nZ2xlKG9wZW5pbmdzLCBjbG9zaW5nU2VsZWN0b3IpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gYnVmZmVyVG9nZ2xlT3BlcmF0b3JGdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBCdWZmZXJUb2dnbGVPcGVyYXRvcihvcGVuaW5ncywgY2xvc2luZ1NlbGVjdG9yKSk7XG4gICAgfTtcbn1cbnZhciBCdWZmZXJUb2dnbGVPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCdWZmZXJUb2dnbGVPcGVyYXRvcihvcGVuaW5ncywgY2xvc2luZ1NlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMub3BlbmluZ3MgPSBvcGVuaW5ncztcbiAgICAgICAgdGhpcy5jbG9zaW5nU2VsZWN0b3IgPSBjbG9zaW5nU2VsZWN0b3I7XG4gICAgfVxuICAgIEJ1ZmZlclRvZ2dsZU9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgQnVmZmVyVG9nZ2xlU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLm9wZW5pbmdzLCB0aGlzLmNsb3NpbmdTZWxlY3RvcikpO1xuICAgIH07XG4gICAgcmV0dXJuIEJ1ZmZlclRvZ2dsZU9wZXJhdG9yO1xufSgpKTtcbnZhciBCdWZmZXJUb2dnbGVTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEJ1ZmZlclRvZ2dsZVN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQnVmZmVyVG9nZ2xlU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgb3BlbmluZ3MsIGNsb3NpbmdTZWxlY3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuY2xvc2luZ1NlbGVjdG9yID0gY2xvc2luZ1NlbGVjdG9yO1xuICAgICAgICBfdGhpcy5jb250ZXh0cyA9IFtdO1xuICAgICAgICBfdGhpcy5hZGQoc3Vic2NyaWJlVG9SZXN1bHQoX3RoaXMsIG9wZW5pbmdzKSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQnVmZmVyVG9nZ2xlU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIGNvbnRleHRzID0gdGhpcy5jb250ZXh0cztcbiAgICAgICAgdmFyIGxlbiA9IGNvbnRleHRzLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgY29udGV4dHNbaV0uYnVmZmVyLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCdWZmZXJUb2dnbGVTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHZhciBjb250ZXh0cyA9IHRoaXMuY29udGV4dHM7XG4gICAgICAgIHdoaWxlIChjb250ZXh0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgY29udGV4dF8xID0gY29udGV4dHMuc2hpZnQoKTtcbiAgICAgICAgICAgIGNvbnRleHRfMS5zdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIGNvbnRleHRfMS5idWZmZXIgPSBudWxsO1xuICAgICAgICAgICAgY29udGV4dF8xLnN1YnNjcmlwdGlvbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb250ZXh0cyA9IG51bGw7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuX2Vycm9yLmNhbGwodGhpcywgZXJyKTtcbiAgICB9O1xuICAgIEJ1ZmZlclRvZ2dsZVN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbnRleHRzID0gdGhpcy5jb250ZXh0cztcbiAgICAgICAgd2hpbGUgKGNvbnRleHRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBjb250ZXh0XzIgPSBjb250ZXh0cy5zaGlmdCgpO1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KGNvbnRleHRfMi5idWZmZXIpO1xuICAgICAgICAgICAgY29udGV4dF8yLnN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgY29udGV4dF8yLmJ1ZmZlciA9IG51bGw7XG4gICAgICAgICAgICBjb250ZXh0XzIuc3Vic2NyaXB0aW9uID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbnRleHRzID0gbnVsbDtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5fY29tcGxldGUuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIEJ1ZmZlclRvZ2dsZVN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQgPSBmdW5jdGlvbiAob3V0ZXJWYWx1ZSwgaW5uZXJWYWx1ZSkge1xuICAgICAgICBvdXRlclZhbHVlID8gdGhpcy5jbG9zZUJ1ZmZlcihvdXRlclZhbHVlKSA6IHRoaXMub3BlbkJ1ZmZlcihpbm5lclZhbHVlKTtcbiAgICB9O1xuICAgIEJ1ZmZlclRvZ2dsZVN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlID0gZnVuY3Rpb24gKGlubmVyU3ViKSB7XG4gICAgICAgIHRoaXMuY2xvc2VCdWZmZXIoaW5uZXJTdWIuY29udGV4dCk7XG4gICAgfTtcbiAgICBCdWZmZXJUb2dnbGVTdWJzY3JpYmVyLnByb3RvdHlwZS5vcGVuQnVmZmVyID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgY2xvc2luZ1NlbGVjdG9yID0gdGhpcy5jbG9zaW5nU2VsZWN0b3I7XG4gICAgICAgICAgICB2YXIgY2xvc2luZ05vdGlmaWVyID0gY2xvc2luZ1NlbGVjdG9yLmNhbGwodGhpcywgdmFsdWUpO1xuICAgICAgICAgICAgaWYgKGNsb3NpbmdOb3RpZmllcikge1xuICAgICAgICAgICAgICAgIHRoaXMudHJ5U3Vic2NyaWJlKGNsb3NpbmdOb3RpZmllcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5fZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQnVmZmVyVG9nZ2xlU3Vic2NyaWJlci5wcm90b3R5cGUuY2xvc2VCdWZmZXIgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICB2YXIgY29udGV4dHMgPSB0aGlzLmNvbnRleHRzO1xuICAgICAgICBpZiAoY29udGV4dHMgJiYgY29udGV4dCkge1xuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGNvbnRleHQuYnVmZmVyLCBzdWJzY3JpcHRpb24gPSBjb250ZXh0LnN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChidWZmZXIpO1xuICAgICAgICAgICAgY29udGV4dHMuc3BsaWNlKGNvbnRleHRzLmluZGV4T2YoY29udGV4dCksIDEpO1xuICAgICAgICAgICAgdGhpcy5yZW1vdmUoc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCdWZmZXJUb2dnbGVTdWJzY3JpYmVyLnByb3RvdHlwZS50cnlTdWJzY3JpYmUgPSBmdW5jdGlvbiAoY2xvc2luZ05vdGlmaWVyKSB7XG4gICAgICAgIHZhciBjb250ZXh0cyA9IHRoaXMuY29udGV4dHM7XG4gICAgICAgIHZhciBidWZmZXIgPSBbXTtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB7IGJ1ZmZlcjogYnVmZmVyLCBzdWJzY3JpcHRpb246IHN1YnNjcmlwdGlvbiB9O1xuICAgICAgICBjb250ZXh0cy5wdXNoKGNvbnRleHQpO1xuICAgICAgICB2YXIgaW5uZXJTdWJzY3JpcHRpb24gPSBzdWJzY3JpYmVUb1Jlc3VsdCh0aGlzLCBjbG9zaW5nTm90aWZpZXIsIGNvbnRleHQpO1xuICAgICAgICBpZiAoIWlubmVyU3Vic2NyaXB0aW9uIHx8IGlubmVyU3Vic2NyaXB0aW9uLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhpcy5jbG9zZUJ1ZmZlcihjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlubmVyU3Vic2NyaXB0aW9uLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICAgICAgdGhpcy5hZGQoaW5uZXJTdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uLmFkZChpbm5lclN1YnNjcmlwdGlvbik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBCdWZmZXJUb2dnbGVTdWJzY3JpYmVyO1xufShPdXRlclN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1ZmZlclRvZ2dsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmlwdGlvbixfaW5uZXJTdWJzY3JpYmUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBTaW1wbGVPdXRlclN1YnNjcmliZXIsIGlubmVyU3Vic2NyaWJlLCBTaW1wbGVJbm5lclN1YnNjcmliZXIgfSBmcm9tICcuLi9pbm5lclN1YnNjcmliZSc7XG5leHBvcnQgZnVuY3Rpb24gYnVmZmVyV2hlbihjbG9zaW5nU2VsZWN0b3IpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IEJ1ZmZlcldoZW5PcGVyYXRvcihjbG9zaW5nU2VsZWN0b3IpKTtcbiAgICB9O1xufVxudmFyIEJ1ZmZlcldoZW5PcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCdWZmZXJXaGVuT3BlcmF0b3IoY2xvc2luZ1NlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMuY2xvc2luZ1NlbGVjdG9yID0gY2xvc2luZ1NlbGVjdG9yO1xuICAgIH1cbiAgICBCdWZmZXJXaGVuT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBCdWZmZXJXaGVuU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLmNsb3NpbmdTZWxlY3RvcikpO1xuICAgIH07XG4gICAgcmV0dXJuIEJ1ZmZlcldoZW5PcGVyYXRvcjtcbn0oKSk7XG52YXIgQnVmZmVyV2hlblN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQnVmZmVyV2hlblN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQnVmZmVyV2hlblN1YnNjcmliZXIoZGVzdGluYXRpb24sIGNsb3NpbmdTZWxlY3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuY2xvc2luZ1NlbGVjdG9yID0gY2xvc2luZ1NlbGVjdG9yO1xuICAgICAgICBfdGhpcy5zdWJzY3JpYmluZyA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5vcGVuQnVmZmVyKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQnVmZmVyV2hlblN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuYnVmZmVyLnB1c2godmFsdWUpO1xuICAgIH07XG4gICAgQnVmZmVyV2hlblN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGJ1ZmZlciA9IHRoaXMuYnVmZmVyO1xuICAgICAgICBpZiAoYnVmZmVyKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQoYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLl9jb21wbGV0ZS5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgQnVmZmVyV2hlblN1YnNjcmliZXIucHJvdG90eXBlLl91bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5idWZmZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJpbmcgPSBmYWxzZTtcbiAgICB9O1xuICAgIEJ1ZmZlcldoZW5TdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlOZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLm9wZW5CdWZmZXIoKTtcbiAgICB9O1xuICAgIEJ1ZmZlcldoZW5TdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3Vic2NyaWJpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMub3BlbkJ1ZmZlcigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCdWZmZXJXaGVuU3Vic2NyaWJlci5wcm90b3R5cGUub3BlbkJ1ZmZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNsb3NpbmdTdWJzY3JpcHRpb24gPSB0aGlzLmNsb3NpbmdTdWJzY3JpcHRpb247XG4gICAgICAgIGlmIChjbG9zaW5nU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZShjbG9zaW5nU3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgIGNsb3NpbmdTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5idWZmZXI7XG4gICAgICAgIGlmICh0aGlzLmJ1ZmZlcikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KGJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5idWZmZXIgPSBbXTtcbiAgICAgICAgdmFyIGNsb3NpbmdOb3RpZmllcjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBjbG9zaW5nU2VsZWN0b3IgPSB0aGlzLmNsb3NpbmdTZWxlY3RvcjtcbiAgICAgICAgICAgIGNsb3NpbmdOb3RpZmllciA9IGNsb3NpbmdTZWxlY3RvcigpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgY2xvc2luZ1N1YnNjcmlwdGlvbiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgdGhpcy5jbG9zaW5nU3Vic2NyaXB0aW9uID0gY2xvc2luZ1N1YnNjcmlwdGlvbjtcbiAgICAgICAgdGhpcy5hZGQoY2xvc2luZ1N1YnNjcmlwdGlvbik7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJpbmcgPSB0cnVlO1xuICAgICAgICBjbG9zaW5nU3Vic2NyaXB0aW9uLmFkZChpbm5lclN1YnNjcmliZShjbG9zaW5nTm90aWZpZXIsIG5ldyBTaW1wbGVJbm5lclN1YnNjcmliZXIodGhpcykpKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmluZyA9IGZhbHNlO1xuICAgIH07XG4gICAgcmV0dXJuIEJ1ZmZlcldoZW5TdWJzY3JpYmVyO1xufShTaW1wbGVPdXRlclN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1ZmZlcldoZW4uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9pbm5lclN1YnNjcmliZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU2ltcGxlT3V0ZXJTdWJzY3JpYmVyLCBTaW1wbGVJbm5lclN1YnNjcmliZXIsIGlubmVyU3Vic2NyaWJlIH0gZnJvbSAnLi4vaW5uZXJTdWJzY3JpYmUnO1xuZXhwb3J0IGZ1bmN0aW9uIGNhdGNoRXJyb3Ioc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gY2F0Y2hFcnJvck9wZXJhdG9yRnVuY3Rpb24oc291cmNlKSB7XG4gICAgICAgIHZhciBvcGVyYXRvciA9IG5ldyBDYXRjaE9wZXJhdG9yKHNlbGVjdG9yKTtcbiAgICAgICAgdmFyIGNhdWdodCA9IHNvdXJjZS5saWZ0KG9wZXJhdG9yKTtcbiAgICAgICAgcmV0dXJuIChvcGVyYXRvci5jYXVnaHQgPSBjYXVnaHQpO1xuICAgIH07XG59XG52YXIgQ2F0Y2hPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDYXRjaE9wZXJhdG9yKHNlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgICB9XG4gICAgQ2F0Y2hPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IENhdGNoU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLnNlbGVjdG9yLCB0aGlzLmNhdWdodCkpO1xuICAgIH07XG4gICAgcmV0dXJuIENhdGNoT3BlcmF0b3I7XG59KCkpO1xudmFyIENhdGNoU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhDYXRjaFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ2F0Y2hTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBzZWxlY3RvciwgY2F1Z2h0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zZWxlY3RvciA9IHNlbGVjdG9yO1xuICAgICAgICBfdGhpcy5jYXVnaHQgPSBjYXVnaHQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQ2F0Y2hTdWJzY3JpYmVyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHZvaWQgMDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5zZWxlY3RvcihlcnIsIHRoaXMuY2F1Z2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIyKSB7XG4gICAgICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5lcnJvci5jYWxsKHRoaXMsIGVycjIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3Vuc3Vic2NyaWJlQW5kUmVjeWNsZSgpO1xuICAgICAgICAgICAgdmFyIGlubmVyU3Vic2NyaWJlciA9IG5ldyBTaW1wbGVJbm5lclN1YnNjcmliZXIodGhpcyk7XG4gICAgICAgICAgICB0aGlzLmFkZChpbm5lclN1YnNjcmliZXIpO1xuICAgICAgICAgICAgdmFyIGlubmVyU3Vic2NyaXB0aW9uID0gaW5uZXJTdWJzY3JpYmUocmVzdWx0LCBpbm5lclN1YnNjcmliZXIpO1xuICAgICAgICAgICAgaWYgKGlubmVyU3Vic2NyaXB0aW9uICE9PSBpbm5lclN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZChpbm5lclN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBDYXRjaFN1YnNjcmliZXI7XG59KFNpbXBsZU91dGVyU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2F0Y2hFcnJvci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX29ic2VydmFibGVfY29tYmluZUxhdGVzdCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBDb21iaW5lTGF0ZXN0T3BlcmF0b3IgfSBmcm9tICcuLi9vYnNlcnZhYmxlL2NvbWJpbmVMYXRlc3QnO1xuZXhwb3J0IGZ1bmN0aW9uIGNvbWJpbmVBbGwocHJvamVjdCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UubGlmdChuZXcgQ29tYmluZUxhdGVzdE9wZXJhdG9yKHByb2plY3QpKTsgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbWJpbmVBbGwuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF91dGlsX2lzQXJyYXksX29ic2VydmFibGVfY29tYmluZUxhdGVzdCxfb2JzZXJ2YWJsZV9mcm9tIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuLi91dGlsL2lzQXJyYXknO1xuaW1wb3J0IHsgQ29tYmluZUxhdGVzdE9wZXJhdG9yIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9jb21iaW5lTGF0ZXN0JztcbmltcG9ydCB7IGZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2Zyb20nO1xudmFyIG5vbmUgPSB7fTtcbmV4cG9ydCBmdW5jdGlvbiBjb21iaW5lTGF0ZXN0KCkge1xuICAgIHZhciBvYnNlcnZhYmxlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIG9ic2VydmFibGVzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciBwcm9qZWN0ID0gbnVsbDtcbiAgICBpZiAodHlwZW9mIG9ic2VydmFibGVzW29ic2VydmFibGVzLmxlbmd0aCAtIDFdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHByb2plY3QgPSBvYnNlcnZhYmxlcy5wb3AoKTtcbiAgICB9XG4gICAgaWYgKG9ic2VydmFibGVzLmxlbmd0aCA9PT0gMSAmJiBpc0FycmF5KG9ic2VydmFibGVzWzBdKSkge1xuICAgICAgICBvYnNlcnZhYmxlcyA9IG9ic2VydmFibGVzWzBdLnNsaWNlKCk7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UubGlmdC5jYWxsKGZyb20oW3NvdXJjZV0uY29uY2F0KG9ic2VydmFibGVzKSksIG5ldyBDb21iaW5lTGF0ZXN0T3BlcmF0b3IocHJvamVjdCkpOyB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tYmluZUxhdGVzdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX29ic2VydmFibGVfY29uY2F0IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGNvbmNhdCBhcyBjb25jYXRTdGF0aWMgfSBmcm9tICcuLi9vYnNlcnZhYmxlL2NvbmNhdCc7XG5leHBvcnQgZnVuY3Rpb24gY29uY2F0KCkge1xuICAgIHZhciBvYnNlcnZhYmxlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIG9ic2VydmFibGVzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UubGlmdC5jYWxsKGNvbmNhdFN0YXRpYy5hcHBseSh2b2lkIDAsIFtzb3VyY2VdLmNvbmNhdChvYnNlcnZhYmxlcykpKTsgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmNhdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX21lcmdlQWxsIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IG1lcmdlQWxsIH0gZnJvbSAnLi9tZXJnZUFsbCc7XG5leHBvcnQgZnVuY3Rpb24gY29uY2F0QWxsKCkge1xuICAgIHJldHVybiBtZXJnZUFsbCgxKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmNhdEFsbC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX21lcmdlTWFwIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IG1lcmdlTWFwIH0gZnJvbSAnLi9tZXJnZU1hcCc7XG5leHBvcnQgZnVuY3Rpb24gY29uY2F0TWFwKHByb2plY3QsIHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIG1lcmdlTWFwKHByb2plY3QsIHJlc3VsdFNlbGVjdG9yLCAxKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmNhdE1hcC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX2NvbmNhdE1hcCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBjb25jYXRNYXAgfSBmcm9tICcuL2NvbmNhdE1hcCc7XG5leHBvcnQgZnVuY3Rpb24gY29uY2F0TWFwVG8oaW5uZXJPYnNlcnZhYmxlLCByZXN1bHRTZWxlY3Rvcikge1xuICAgIHJldHVybiBjb25jYXRNYXAoZnVuY3Rpb24gKCkgeyByZXR1cm4gaW5uZXJPYnNlcnZhYmxlOyB9LCByZXN1bHRTZWxlY3Rvcik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25jYXRNYXBUby5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBjb3VudChwcmVkaWNhdGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLmxpZnQobmV3IENvdW50T3BlcmF0b3IocHJlZGljYXRlLCBzb3VyY2UpKTsgfTtcbn1cbnZhciBDb3VudE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvdW50T3BlcmF0b3IocHJlZGljYXRlLCBzb3VyY2UpIHtcbiAgICAgICAgdGhpcy5wcmVkaWNhdGUgPSBwcmVkaWNhdGU7XG4gICAgICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgIH1cbiAgICBDb3VudE9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgQ291bnRTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMucHJlZGljYXRlLCB0aGlzLnNvdXJjZSkpO1xuICAgIH07XG4gICAgcmV0dXJuIENvdW50T3BlcmF0b3I7XG59KCkpO1xudmFyIENvdW50U3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhDb3VudFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ291bnRTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBwcmVkaWNhdGUsIHNvdXJjZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucHJlZGljYXRlID0gcHJlZGljYXRlO1xuICAgICAgICBfdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIF90aGlzLmNvdW50ID0gMDtcbiAgICAgICAgX3RoaXMuaW5kZXggPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIENvdW50U3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMucHJlZGljYXRlKSB7XG4gICAgICAgICAgICB0aGlzLl90cnlQcmVkaWNhdGUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jb3VudCsrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDb3VudFN1YnNjcmliZXIucHJvdG90eXBlLl90cnlQcmVkaWNhdGUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucHJlZGljYXRlKHZhbHVlLCB0aGlzLmluZGV4KyssIHRoaXMuc291cmNlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgdGhpcy5jb3VudCsrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDb3VudFN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHRoaXMuY291bnQpO1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gQ291bnRTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb3VudC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX2lubmVyU3Vic2NyaWJlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTaW1wbGVPdXRlclN1YnNjcmliZXIsIGlubmVyU3Vic2NyaWJlLCBTaW1wbGVJbm5lclN1YnNjcmliZXIgfSBmcm9tICcuLi9pbm5lclN1YnNjcmliZSc7XG5leHBvcnQgZnVuY3Rpb24gZGVib3VuY2UoZHVyYXRpb25TZWxlY3Rvcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UubGlmdChuZXcgRGVib3VuY2VPcGVyYXRvcihkdXJhdGlvblNlbGVjdG9yKSk7IH07XG59XG52YXIgRGVib3VuY2VPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZWJvdW5jZU9wZXJhdG9yKGR1cmF0aW9uU2VsZWN0b3IpIHtcbiAgICAgICAgdGhpcy5kdXJhdGlvblNlbGVjdG9yID0gZHVyYXRpb25TZWxlY3RvcjtcbiAgICB9XG4gICAgRGVib3VuY2VPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IERlYm91bmNlU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLmR1cmF0aW9uU2VsZWN0b3IpKTtcbiAgICB9O1xuICAgIHJldHVybiBEZWJvdW5jZU9wZXJhdG9yO1xufSgpKTtcbnZhciBEZWJvdW5jZVN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoRGVib3VuY2VTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIERlYm91bmNlU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgZHVyYXRpb25TZWxlY3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZHVyYXRpb25TZWxlY3RvciA9IGR1cmF0aW9uU2VsZWN0b3I7XG4gICAgICAgIF90aGlzLmhhc1ZhbHVlID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgRGVib3VuY2VTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuZHVyYXRpb25TZWxlY3Rvci5jYWxsKHRoaXMsIHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90cnlOZXh0KHZhbHVlLCByZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGVib3VuY2VTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZW1pdFZhbHVlKCk7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICB9O1xuICAgIERlYm91bmNlU3Vic2NyaWJlci5wcm90b3R5cGUuX3RyeU5leHQgPSBmdW5jdGlvbiAodmFsdWUsIGR1cmF0aW9uKSB7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSB0aGlzLmR1cmF0aW9uU3Vic2NyaXB0aW9uO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMuaGFzVmFsdWUgPSB0cnVlO1xuICAgICAgICBpZiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKHN1YnNjcmlwdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgc3Vic2NyaXB0aW9uID0gaW5uZXJTdWJzY3JpYmUoZHVyYXRpb24sIG5ldyBTaW1wbGVJbm5lclN1YnNjcmliZXIodGhpcykpO1xuICAgICAgICBpZiAoc3Vic2NyaXB0aW9uICYmICFzdWJzY3JpcHRpb24uY2xvc2VkKSB7XG4gICAgICAgICAgICB0aGlzLmFkZCh0aGlzLmR1cmF0aW9uU3Vic2NyaXB0aW9uID0gc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGVib3VuY2VTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlOZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmVtaXRWYWx1ZSgpO1xuICAgIH07XG4gICAgRGVib3VuY2VTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5lbWl0VmFsdWUoKTtcbiAgICB9O1xuICAgIERlYm91bmNlU3Vic2NyaWJlci5wcm90b3R5cGUuZW1pdFZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5oYXNWYWx1ZSkge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy52YWx1ZTtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSB0aGlzLmR1cmF0aW9uU3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMuZHVyYXRpb25TdWJzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmUoc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLmhhc1ZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLl9uZXh0LmNhbGwodGhpcywgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRGVib3VuY2VTdWJzY3JpYmVyO1xufShTaW1wbGVPdXRlclN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlYm91bmNlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlcixfc2NoZWR1bGVyX2FzeW5jIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBhc3luYyB9IGZyb20gJy4uL3NjaGVkdWxlci9hc3luYyc7XG5leHBvcnQgZnVuY3Rpb24gZGVib3VuY2VUaW1lKGR1ZVRpbWUsIHNjaGVkdWxlcikge1xuICAgIGlmIChzY2hlZHVsZXIgPT09IHZvaWQgMCkge1xuICAgICAgICBzY2hlZHVsZXIgPSBhc3luYztcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBEZWJvdW5jZVRpbWVPcGVyYXRvcihkdWVUaW1lLCBzY2hlZHVsZXIpKTsgfTtcbn1cbnZhciBEZWJvdW5jZVRpbWVPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZWJvdW5jZVRpbWVPcGVyYXRvcihkdWVUaW1lLCBzY2hlZHVsZXIpIHtcbiAgICAgICAgdGhpcy5kdWVUaW1lID0gZHVlVGltZTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgfVxuICAgIERlYm91bmNlVGltZU9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgRGVib3VuY2VUaW1lU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLmR1ZVRpbWUsIHRoaXMuc2NoZWR1bGVyKSk7XG4gICAgfTtcbiAgICByZXR1cm4gRGVib3VuY2VUaW1lT3BlcmF0b3I7XG59KCkpO1xudmFyIERlYm91bmNlVGltZVN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoRGVib3VuY2VUaW1lU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBEZWJvdW5jZVRpbWVTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBkdWVUaW1lLCBzY2hlZHVsZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmR1ZVRpbWUgPSBkdWVUaW1lO1xuICAgICAgICBfdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgICAgIF90aGlzLmRlYm91bmNlZFN1YnNjcmlwdGlvbiA9IG51bGw7XG4gICAgICAgIF90aGlzLmxhc3RWYWx1ZSA9IG51bGw7XG4gICAgICAgIF90aGlzLmhhc1ZhbHVlID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgRGVib3VuY2VUaW1lU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5jbGVhckRlYm91bmNlKCk7XG4gICAgICAgIHRoaXMubGFzdFZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMuaGFzVmFsdWUgPSB0cnVlO1xuICAgICAgICB0aGlzLmFkZCh0aGlzLmRlYm91bmNlZFN1YnNjcmlwdGlvbiA9IHRoaXMuc2NoZWR1bGVyLnNjaGVkdWxlKGRpc3BhdGNoTmV4dCwgdGhpcy5kdWVUaW1lLCB0aGlzKSk7XG4gICAgfTtcbiAgICBEZWJvdW5jZVRpbWVTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGVib3VuY2VkTmV4dCgpO1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgfTtcbiAgICBEZWJvdW5jZVRpbWVTdWJzY3JpYmVyLnByb3RvdHlwZS5kZWJvdW5jZWROZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNsZWFyRGVib3VuY2UoKTtcbiAgICAgICAgaWYgKHRoaXMuaGFzVmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBsYXN0VmFsdWUgPSB0aGlzLmxhc3RWYWx1ZTtcbiAgICAgICAgICAgIHRoaXMubGFzdFZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuaGFzVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChsYXN0VmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEZWJvdW5jZVRpbWVTdWJzY3JpYmVyLnByb3RvdHlwZS5jbGVhckRlYm91bmNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGVib3VuY2VkU3Vic2NyaXB0aW9uID0gdGhpcy5kZWJvdW5jZWRTdWJzY3JpcHRpb247XG4gICAgICAgIGlmIChkZWJvdW5jZWRTdWJzY3JpcHRpb24gIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKGRlYm91bmNlZFN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICBkZWJvdW5jZWRTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIHRoaXMuZGVib3VuY2VkU3Vic2NyaXB0aW9uID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIERlYm91bmNlVGltZVN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmZ1bmN0aW9uIGRpc3BhdGNoTmV4dChzdWJzY3JpYmVyKSB7XG4gICAgc3Vic2NyaWJlci5kZWJvdW5jZWROZXh0KCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWJvdW5jZVRpbWUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdElmRW1wdHkoZGVmYXVsdFZhbHVlKSB7XG4gICAgaWYgKGRlZmF1bHRWYWx1ZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGRlZmF1bHRWYWx1ZSA9IG51bGw7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UubGlmdChuZXcgRGVmYXVsdElmRW1wdHlPcGVyYXRvcihkZWZhdWx0VmFsdWUpKTsgfTtcbn1cbnZhciBEZWZhdWx0SWZFbXB0eU9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERlZmF1bHRJZkVtcHR5T3BlcmF0b3IoZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIHRoaXMuZGVmYXVsdFZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICAgIH1cbiAgICBEZWZhdWx0SWZFbXB0eU9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgRGVmYXVsdElmRW1wdHlTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMuZGVmYXVsdFZhbHVlKSk7XG4gICAgfTtcbiAgICByZXR1cm4gRGVmYXVsdElmRW1wdHlPcGVyYXRvcjtcbn0oKSk7XG52YXIgRGVmYXVsdElmRW1wdHlTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKERlZmF1bHRJZkVtcHR5U3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBEZWZhdWx0SWZFbXB0eVN1YnNjcmliZXIoZGVzdGluYXRpb24sIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZGVmYXVsdFZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICAgICAgICBfdGhpcy5pc0VtcHR5ID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBEZWZhdWx0SWZFbXB0eVN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuaXNFbXB0eSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICAgIH07XG4gICAgRGVmYXVsdElmRW1wdHlTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRW1wdHkpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh0aGlzLmRlZmF1bHRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIERlZmF1bHRJZkVtcHR5U3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVmYXVsdElmRW1wdHkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9zY2hlZHVsZXJfYXN5bmMsX3V0aWxfaXNEYXRlLF9TdWJzY3JpYmVyLF9Ob3RpZmljYXRpb24gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGFzeW5jIH0gZnJvbSAnLi4vc2NoZWR1bGVyL2FzeW5jJztcbmltcG9ydCB7IGlzRGF0ZSB9IGZyb20gJy4uL3V0aWwvaXNEYXRlJztcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IE5vdGlmaWNhdGlvbiB9IGZyb20gJy4uL05vdGlmaWNhdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gZGVsYXkoZGVsYXksIHNjaGVkdWxlcikge1xuICAgIGlmIChzY2hlZHVsZXIgPT09IHZvaWQgMCkge1xuICAgICAgICBzY2hlZHVsZXIgPSBhc3luYztcbiAgICB9XG4gICAgdmFyIGFic29sdXRlRGVsYXkgPSBpc0RhdGUoZGVsYXkpO1xuICAgIHZhciBkZWxheUZvciA9IGFic29sdXRlRGVsYXkgPyAoK2RlbGF5IC0gc2NoZWR1bGVyLm5vdygpKSA6IE1hdGguYWJzKGRlbGF5KTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLmxpZnQobmV3IERlbGF5T3BlcmF0b3IoZGVsYXlGb3IsIHNjaGVkdWxlcikpOyB9O1xufVxudmFyIERlbGF5T3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGVsYXlPcGVyYXRvcihkZWxheSwgc2NoZWR1bGVyKSB7XG4gICAgICAgIHRoaXMuZGVsYXkgPSBkZWxheTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgfVxuICAgIERlbGF5T3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBEZWxheVN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5kZWxheSwgdGhpcy5zY2hlZHVsZXIpKTtcbiAgICB9O1xuICAgIHJldHVybiBEZWxheU9wZXJhdG9yO1xufSgpKTtcbnZhciBEZWxheVN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoRGVsYXlTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIERlbGF5U3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgZGVsYXksIHNjaGVkdWxlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZGVsYXkgPSBkZWxheTtcbiAgICAgICAgX3RoaXMuc2NoZWR1bGVyID0gc2NoZWR1bGVyO1xuICAgICAgICBfdGhpcy5xdWV1ZSA9IFtdO1xuICAgICAgICBfdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuZXJyb3JlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIERlbGF5U3Vic2NyaWJlci5kaXNwYXRjaCA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICB2YXIgc291cmNlID0gc3RhdGUuc291cmNlO1xuICAgICAgICB2YXIgcXVldWUgPSBzb3VyY2UucXVldWU7XG4gICAgICAgIHZhciBzY2hlZHVsZXIgPSBzdGF0ZS5zY2hlZHVsZXI7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHN0YXRlLmRlc3RpbmF0aW9uO1xuICAgICAgICB3aGlsZSAocXVldWUubGVuZ3RoID4gMCAmJiAocXVldWVbMF0udGltZSAtIHNjaGVkdWxlci5ub3coKSkgPD0gMCkge1xuICAgICAgICAgICAgcXVldWUuc2hpZnQoKS5ub3RpZmljYXRpb24ub2JzZXJ2ZShkZXN0aW5hdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBkZWxheV8xID0gTWF0aC5tYXgoMCwgcXVldWVbMF0udGltZSAtIHNjaGVkdWxlci5ub3coKSk7XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlKHN0YXRlLCBkZWxheV8xKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIHNvdXJjZS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGVsYXlTdWJzY3JpYmVyLnByb3RvdHlwZS5fc2NoZWR1bGUgPSBmdW5jdGlvbiAoc2NoZWR1bGVyKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gdGhpcy5kZXN0aW5hdGlvbjtcbiAgICAgICAgZGVzdGluYXRpb24uYWRkKHNjaGVkdWxlci5zY2hlZHVsZShEZWxheVN1YnNjcmliZXIuZGlzcGF0Y2gsIHRoaXMuZGVsYXksIHtcbiAgICAgICAgICAgIHNvdXJjZTogdGhpcywgZGVzdGluYXRpb246IHRoaXMuZGVzdGluYXRpb24sIHNjaGVkdWxlcjogc2NoZWR1bGVyXG4gICAgICAgIH0pKTtcbiAgICB9O1xuICAgIERlbGF5U3Vic2NyaWJlci5wcm90b3R5cGUuc2NoZWR1bGVOb3RpZmljYXRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uKSB7XG4gICAgICAgIGlmICh0aGlzLmVycm9yZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2NoZWR1bGVyID0gdGhpcy5zY2hlZHVsZXI7XG4gICAgICAgIHZhciBtZXNzYWdlID0gbmV3IERlbGF5TWVzc2FnZShzY2hlZHVsZXIubm93KCkgKyB0aGlzLmRlbGF5LCBub3RpZmljYXRpb24pO1xuICAgICAgICB0aGlzLnF1ZXVlLnB1c2gobWVzc2FnZSk7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMuX3NjaGVkdWxlKHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERlbGF5U3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU5vdGlmaWNhdGlvbihOb3RpZmljYXRpb24uY3JlYXRlTmV4dCh2YWx1ZSkpO1xuICAgIH07XG4gICAgRGVsYXlTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHRoaXMuZXJyb3JlZCA9IHRydWU7XG4gICAgICAgIHRoaXMucXVldWUgPSBbXTtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBEZWxheVN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU5vdGlmaWNhdGlvbihOb3RpZmljYXRpb24uY3JlYXRlQ29tcGxldGUoKSk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIHJldHVybiBEZWxheVN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbnZhciBEZWxheU1lc3NhZ2UgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGVsYXlNZXNzYWdlKHRpbWUsIG5vdGlmaWNhdGlvbikge1xuICAgICAgICB0aGlzLnRpbWUgPSB0aW1lO1xuICAgICAgICB0aGlzLm5vdGlmaWNhdGlvbiA9IG5vdGlmaWNhdGlvbjtcbiAgICB9XG4gICAgcmV0dXJuIERlbGF5TWVzc2FnZTtcbn0oKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWxheS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIsX09ic2VydmFibGUsX091dGVyU3Vic2NyaWJlcixfdXRpbF9zdWJzY3JpYmVUb1Jlc3VsdCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgT3V0ZXJTdWJzY3JpYmVyIH0gZnJvbSAnLi4vT3V0ZXJTdWJzY3JpYmVyJztcbmltcG9ydCB7IHN1YnNjcmliZVRvUmVzdWx0IH0gZnJvbSAnLi4vdXRpbC9zdWJzY3JpYmVUb1Jlc3VsdCc7XG5leHBvcnQgZnVuY3Rpb24gZGVsYXlXaGVuKGRlbGF5RHVyYXRpb25TZWxlY3Rvciwgc3Vic2NyaXB0aW9uRGVsYXkpIHtcbiAgICBpZiAoc3Vic2NyaXB0aW9uRGVsYXkpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3Vic2NyaXB0aW9uRGVsYXlPYnNlcnZhYmxlKHNvdXJjZSwgc3Vic2NyaXB0aW9uRGVsYXkpXG4gICAgICAgICAgICAgICAgLmxpZnQobmV3IERlbGF5V2hlbk9wZXJhdG9yKGRlbGF5RHVyYXRpb25TZWxlY3RvcikpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLmxpZnQobmV3IERlbGF5V2hlbk9wZXJhdG9yKGRlbGF5RHVyYXRpb25TZWxlY3RvcikpOyB9O1xufVxudmFyIERlbGF5V2hlbk9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERlbGF5V2hlbk9wZXJhdG9yKGRlbGF5RHVyYXRpb25TZWxlY3Rvcikge1xuICAgICAgICB0aGlzLmRlbGF5RHVyYXRpb25TZWxlY3RvciA9IGRlbGF5RHVyYXRpb25TZWxlY3RvcjtcbiAgICB9XG4gICAgRGVsYXlXaGVuT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBEZWxheVdoZW5TdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMuZGVsYXlEdXJhdGlvblNlbGVjdG9yKSk7XG4gICAgfTtcbiAgICByZXR1cm4gRGVsYXlXaGVuT3BlcmF0b3I7XG59KCkpO1xudmFyIERlbGF5V2hlblN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoRGVsYXlXaGVuU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBEZWxheVdoZW5TdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBkZWxheUR1cmF0aW9uU2VsZWN0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmRlbGF5RHVyYXRpb25TZWxlY3RvciA9IGRlbGF5RHVyYXRpb25TZWxlY3RvcjtcbiAgICAgICAgX3RoaXMuY29tcGxldGVkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmRlbGF5Tm90aWZpZXJTdWJzY3JpcHRpb25zID0gW107XG4gICAgICAgIF90aGlzLmluZGV4ID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBEZWxheVdoZW5TdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlOZXh0ID0gZnVuY3Rpb24gKG91dGVyVmFsdWUsIF9pbm5lclZhbHVlLCBfb3V0ZXJJbmRleCwgX2lubmVySW5kZXgsIGlubmVyU3ViKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChvdXRlclZhbHVlKTtcbiAgICAgICAgdGhpcy5yZW1vdmVTdWJzY3JpcHRpb24oaW5uZXJTdWIpO1xuICAgICAgICB0aGlzLnRyeUNvbXBsZXRlKCk7XG4gICAgfTtcbiAgICBEZWxheVdoZW5TdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlFcnJvciA9IGZ1bmN0aW9uIChlcnJvciwgaW5uZXJTdWIpIHtcbiAgICAgICAgdGhpcy5fZXJyb3IoZXJyb3IpO1xuICAgIH07XG4gICAgRGVsYXlXaGVuU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5Q29tcGxldGUgPSBmdW5jdGlvbiAoaW5uZXJTdWIpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5yZW1vdmVTdWJzY3JpcHRpb24oaW5uZXJTdWIpO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50cnlDb21wbGV0ZSgpO1xuICAgIH07XG4gICAgRGVsYXlXaGVuU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleCsrO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGRlbGF5Tm90aWZpZXIgPSB0aGlzLmRlbGF5RHVyYXRpb25TZWxlY3Rvcih2YWx1ZSwgaW5kZXgpO1xuICAgICAgICAgICAgaWYgKGRlbGF5Tm90aWZpZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyeURlbGF5KGRlbGF5Tm90aWZpZXIsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERlbGF5V2hlblN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnRyeUNvbXBsZXRlKCk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIERlbGF5V2hlblN1YnNjcmliZXIucHJvdG90eXBlLnJlbW92ZVN1YnNjcmlwdGlvbiA9IGZ1bmN0aW9uIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb25JZHggPSB0aGlzLmRlbGF5Tm90aWZpZXJTdWJzY3JpcHRpb25zLmluZGV4T2Yoc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgaWYgKHN1YnNjcmlwdGlvbklkeCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuZGVsYXlOb3RpZmllclN1YnNjcmlwdGlvbnMuc3BsaWNlKHN1YnNjcmlwdGlvbklkeCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbi5vdXRlclZhbHVlO1xuICAgIH07XG4gICAgRGVsYXlXaGVuU3Vic2NyaWJlci5wcm90b3R5cGUudHJ5RGVsYXkgPSBmdW5jdGlvbiAoZGVsYXlOb3RpZmllciwgdmFsdWUpIHtcbiAgICAgICAgdmFyIG5vdGlmaWVyU3Vic2NyaXB0aW9uID0gc3Vic2NyaWJlVG9SZXN1bHQodGhpcywgZGVsYXlOb3RpZmllciwgdmFsdWUpO1xuICAgICAgICBpZiAobm90aWZpZXJTdWJzY3JpcHRpb24gJiYgIW5vdGlmaWVyU3Vic2NyaXB0aW9uLmNsb3NlZCkge1xuICAgICAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gdGhpcy5kZXN0aW5hdGlvbjtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uLmFkZChub3RpZmllclN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICB0aGlzLmRlbGF5Tm90aWZpZXJTdWJzY3JpcHRpb25zLnB1c2gobm90aWZpZXJTdWJzY3JpcHRpb24pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEZWxheVdoZW5TdWJzY3JpYmVyLnByb3RvdHlwZS50cnlDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY29tcGxldGVkICYmIHRoaXMuZGVsYXlOb3RpZmllclN1YnNjcmlwdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBEZWxheVdoZW5TdWJzY3JpYmVyO1xufShPdXRlclN1YnNjcmliZXIpKTtcbnZhciBTdWJzY3JpcHRpb25EZWxheU9ic2VydmFibGUgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU3Vic2NyaXB0aW9uRGVsYXlPYnNlcnZhYmxlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN1YnNjcmlwdGlvbkRlbGF5T2JzZXJ2YWJsZShzb3VyY2UsIHN1YnNjcmlwdGlvbkRlbGF5KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgX3RoaXMuc3Vic2NyaXB0aW9uRGVsYXkgPSBzdWJzY3JpcHRpb25EZWxheTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTdWJzY3JpcHRpb25EZWxheU9ic2VydmFibGUucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbkRlbGF5LnN1YnNjcmliZShuZXcgU3Vic2NyaXB0aW9uRGVsYXlTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMuc291cmNlKSk7XG4gICAgfTtcbiAgICByZXR1cm4gU3Vic2NyaXB0aW9uRGVsYXlPYnNlcnZhYmxlO1xufShPYnNlcnZhYmxlKSk7XG52YXIgU3Vic2NyaXB0aW9uRGVsYXlTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFN1YnNjcmlwdGlvbkRlbGF5U3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdWJzY3JpcHRpb25EZWxheVN1YnNjcmliZXIocGFyZW50LCBzb3VyY2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICBfdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIF90aGlzLnNvdXJjZVN1YnNjcmliZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTdWJzY3JpcHRpb25EZWxheVN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHVudXNlZCkge1xuICAgICAgICB0aGlzLnN1YnNjcmliZVRvU291cmNlKCk7XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb25EZWxheVN1YnNjcmliZXIucHJvdG90eXBlLl9lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICB0aGlzLnBhcmVudC5lcnJvcihlcnIpO1xuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uRGVsYXlTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVUb1NvdXJjZSgpO1xuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uRGVsYXlTdWJzY3JpYmVyLnByb3RvdHlwZS5zdWJzY3JpYmVUb1NvdXJjZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNvdXJjZVN1YnNjcmliZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc291cmNlU3Vic2NyaWJlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZS5zdWJzY3JpYmUodGhpcy5wYXJlbnQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gU3Vic2NyaXB0aW9uRGVsYXlTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWxheVdoZW4uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gZGVtYXRlcmlhbGl6ZSgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gZGVtYXRlcmlhbGl6ZU9wZXJhdG9yRnVuY3Rpb24oc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2UubGlmdChuZXcgRGVNYXRlcmlhbGl6ZU9wZXJhdG9yKCkpO1xuICAgIH07XG59XG52YXIgRGVNYXRlcmlhbGl6ZU9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERlTWF0ZXJpYWxpemVPcGVyYXRvcigpIHtcbiAgICB9XG4gICAgRGVNYXRlcmlhbGl6ZU9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgRGVNYXRlcmlhbGl6ZVN1YnNjcmliZXIoc3Vic2NyaWJlcikpO1xuICAgIH07XG4gICAgcmV0dXJuIERlTWF0ZXJpYWxpemVPcGVyYXRvcjtcbn0oKSk7XG52YXIgRGVNYXRlcmlhbGl6ZVN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoRGVNYXRlcmlhbGl6ZVN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRGVNYXRlcmlhbGl6ZVN1YnNjcmliZXIoZGVzdGluYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgIH1cbiAgICBEZU1hdGVyaWFsaXplU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFsdWUub2JzZXJ2ZSh0aGlzLmRlc3RpbmF0aW9uKTtcbiAgICB9O1xuICAgIHJldHVybiBEZU1hdGVyaWFsaXplU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVtYXRlcmlhbGl6ZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX2lubmVyU3Vic2NyaWJlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTaW1wbGVPdXRlclN1YnNjcmliZXIsIGlubmVyU3Vic2NyaWJlLCBTaW1wbGVJbm5lclN1YnNjcmliZXIgfSBmcm9tICcuLi9pbm5lclN1YnNjcmliZSc7XG5leHBvcnQgZnVuY3Rpb24gZGlzdGluY3Qoa2V5U2VsZWN0b3IsIGZsdXNoZXMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLmxpZnQobmV3IERpc3RpbmN0T3BlcmF0b3Ioa2V5U2VsZWN0b3IsIGZsdXNoZXMpKTsgfTtcbn1cbnZhciBEaXN0aW5jdE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERpc3RpbmN0T3BlcmF0b3Ioa2V5U2VsZWN0b3IsIGZsdXNoZXMpIHtcbiAgICAgICAgdGhpcy5rZXlTZWxlY3RvciA9IGtleVNlbGVjdG9yO1xuICAgICAgICB0aGlzLmZsdXNoZXMgPSBmbHVzaGVzO1xuICAgIH1cbiAgICBEaXN0aW5jdE9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgRGlzdGluY3RTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMua2V5U2VsZWN0b3IsIHRoaXMuZmx1c2hlcykpO1xuICAgIH07XG4gICAgcmV0dXJuIERpc3RpbmN0T3BlcmF0b3I7XG59KCkpO1xudmFyIERpc3RpbmN0U3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhEaXN0aW5jdFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRGlzdGluY3RTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBrZXlTZWxlY3RvciwgZmx1c2hlcykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMua2V5U2VsZWN0b3IgPSBrZXlTZWxlY3RvcjtcbiAgICAgICAgX3RoaXMudmFsdWVzID0gbmV3IFNldCgpO1xuICAgICAgICBpZiAoZmx1c2hlcykge1xuICAgICAgICAgICAgX3RoaXMuYWRkKGlubmVyU3Vic2NyaWJlKGZsdXNoZXMsIG5ldyBTaW1wbGVJbm5lclN1YnNjcmliZXIoX3RoaXMpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBEaXN0aW5jdFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudmFsdWVzLmNsZWFyKCk7XG4gICAgfTtcbiAgICBEaXN0aW5jdFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIHRoaXMuX2Vycm9yKGVycm9yKTtcbiAgICB9O1xuICAgIERpc3RpbmN0U3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMua2V5U2VsZWN0b3IpIHtcbiAgICAgICAgICAgIHRoaXMuX3VzZUtleVNlbGVjdG9yKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpbmFsaXplTmV4dCh2YWx1ZSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEaXN0aW5jdFN1YnNjcmliZXIucHJvdG90eXBlLl91c2VLZXlTZWxlY3RvciA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIga2V5O1xuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAga2V5ID0gdGhpcy5rZXlTZWxlY3Rvcih2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9maW5hbGl6ZU5leHQoa2V5LCB2YWx1ZSk7XG4gICAgfTtcbiAgICBEaXN0aW5jdFN1YnNjcmliZXIucHJvdG90eXBlLl9maW5hbGl6ZU5leHQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICB2YXIgdmFsdWVzID0gdGhpcy52YWx1ZXM7XG4gICAgICAgIGlmICghdmFsdWVzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICB2YWx1ZXMuYWRkKGtleSk7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRGlzdGluY3RTdWJzY3JpYmVyO1xufShTaW1wbGVPdXRlclN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IERpc3RpbmN0U3Vic2NyaWJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGlzdGluY3QuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gZGlzdGluY3RVbnRpbENoYW5nZWQoY29tcGFyZSwga2V5U2VsZWN0b3IpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLmxpZnQobmV3IERpc3RpbmN0VW50aWxDaGFuZ2VkT3BlcmF0b3IoY29tcGFyZSwga2V5U2VsZWN0b3IpKTsgfTtcbn1cbnZhciBEaXN0aW5jdFVudGlsQ2hhbmdlZE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERpc3RpbmN0VW50aWxDaGFuZ2VkT3BlcmF0b3IoY29tcGFyZSwga2V5U2VsZWN0b3IpIHtcbiAgICAgICAgdGhpcy5jb21wYXJlID0gY29tcGFyZTtcbiAgICAgICAgdGhpcy5rZXlTZWxlY3RvciA9IGtleVNlbGVjdG9yO1xuICAgIH1cbiAgICBEaXN0aW5jdFVudGlsQ2hhbmdlZE9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgRGlzdGluY3RVbnRpbENoYW5nZWRTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMuY29tcGFyZSwgdGhpcy5rZXlTZWxlY3RvcikpO1xuICAgIH07XG4gICAgcmV0dXJuIERpc3RpbmN0VW50aWxDaGFuZ2VkT3BlcmF0b3I7XG59KCkpO1xudmFyIERpc3RpbmN0VW50aWxDaGFuZ2VkU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhEaXN0aW5jdFVudGlsQ2hhbmdlZFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRGlzdGluY3RVbnRpbENoYW5nZWRTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBjb21wYXJlLCBrZXlTZWxlY3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMua2V5U2VsZWN0b3IgPSBrZXlTZWxlY3RvcjtcbiAgICAgICAgX3RoaXMuaGFzS2V5ID0gZmFsc2U7XG4gICAgICAgIGlmICh0eXBlb2YgY29tcGFyZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgX3RoaXMuY29tcGFyZSA9IGNvbXBhcmU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBEaXN0aW5jdFVudGlsQ2hhbmdlZFN1YnNjcmliZXIucHJvdG90eXBlLmNvbXBhcmUgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICByZXR1cm4geCA9PT0geTtcbiAgICB9O1xuICAgIERpc3RpbmN0VW50aWxDaGFuZ2VkU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIGtleTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBrZXlTZWxlY3RvciA9IHRoaXMua2V5U2VsZWN0b3I7XG4gICAgICAgICAgICBrZXkgPSBrZXlTZWxlY3RvciA/IGtleVNlbGVjdG9yKHZhbHVlKSA6IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5oYXNLZXkpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbXBhcmUgPSB0aGlzLmNvbXBhcmU7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gY29tcGFyZSh0aGlzLmtleSwga2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5oYXNLZXkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICB0aGlzLmtleSA9IGtleTtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBEaXN0aW5jdFVudGlsQ2hhbmdlZFN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRpc3RpbmN0VW50aWxDaGFuZ2VkLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfZGlzdGluY3RVbnRpbENoYW5nZWQgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgZGlzdGluY3RVbnRpbENoYW5nZWQgfSBmcm9tICcuL2Rpc3RpbmN0VW50aWxDaGFuZ2VkJztcbmV4cG9ydCBmdW5jdGlvbiBkaXN0aW5jdFVudGlsS2V5Q2hhbmdlZChrZXksIGNvbXBhcmUpIHtcbiAgICByZXR1cm4gZGlzdGluY3RVbnRpbENoYW5nZWQoZnVuY3Rpb24gKHgsIHkpIHsgcmV0dXJuIGNvbXBhcmUgPyBjb21wYXJlKHhba2V5XSwgeVtrZXldKSA6IHhba2V5XSA9PT0geVtrZXldOyB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRpc3RpbmN0VW50aWxLZXlDaGFuZ2VkLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfdXRpbF9Bcmd1bWVudE91dE9mUmFuZ2VFcnJvcixfZmlsdGVyLF90aHJvd0lmRW1wdHksX2RlZmF1bHRJZkVtcHR5LF90YWtlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yIH0gZnJvbSAnLi4vdXRpbC9Bcmd1bWVudE91dE9mUmFuZ2VFcnJvcic7XG5pbXBvcnQgeyBmaWx0ZXIgfSBmcm9tICcuL2ZpbHRlcic7XG5pbXBvcnQgeyB0aHJvd0lmRW1wdHkgfSBmcm9tICcuL3Rocm93SWZFbXB0eSc7XG5pbXBvcnQgeyBkZWZhdWx0SWZFbXB0eSB9IGZyb20gJy4vZGVmYXVsdElmRW1wdHknO1xuaW1wb3J0IHsgdGFrZSB9IGZyb20gJy4vdGFrZSc7XG5leHBvcnQgZnVuY3Rpb24gZWxlbWVudEF0KGluZGV4LCBkZWZhdWx0VmFsdWUpIHtcbiAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIHRocm93IG5ldyBBcmd1bWVudE91dE9mUmFuZ2VFcnJvcigpO1xuICAgIH1cbiAgICB2YXIgaGFzRGVmYXVsdFZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+PSAyO1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2UucGlwZShmaWx0ZXIoZnVuY3Rpb24gKHYsIGkpIHsgcmV0dXJuIGkgPT09IGluZGV4OyB9KSwgdGFrZSgxKSwgaGFzRGVmYXVsdFZhbHVlXG4gICAgICAgICAgICA/IGRlZmF1bHRJZkVtcHR5KGRlZmF1bHRWYWx1ZSlcbiAgICAgICAgICAgIDogdGhyb3dJZkVtcHR5KGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBBcmd1bWVudE91dE9mUmFuZ2VFcnJvcigpOyB9KSk7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVsZW1lbnRBdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX29ic2VydmFibGVfY29uY2F0LF9vYnNlcnZhYmxlX29mIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGNvbmNhdCB9IGZyb20gJy4uL29ic2VydmFibGUvY29uY2F0JztcbmltcG9ydCB7IG9mIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9vZic7XG5leHBvcnQgZnVuY3Rpb24gZW5kV2l0aCgpIHtcbiAgICB2YXIgYXJyYXkgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcnJheVtfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gY29uY2F0KHNvdXJjZSwgb2YuYXBwbHkodm9pZCAwLCBhcnJheSkpOyB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW5kV2l0aC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBldmVyeShwcmVkaWNhdGUsIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLmxpZnQobmV3IEV2ZXJ5T3BlcmF0b3IocHJlZGljYXRlLCB0aGlzQXJnLCBzb3VyY2UpKTsgfTtcbn1cbnZhciBFdmVyeU9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEV2ZXJ5T3BlcmF0b3IocHJlZGljYXRlLCB0aGlzQXJnLCBzb3VyY2UpIHtcbiAgICAgICAgdGhpcy5wcmVkaWNhdGUgPSBwcmVkaWNhdGU7XG4gICAgICAgIHRoaXMudGhpc0FyZyA9IHRoaXNBcmc7XG4gICAgICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgIH1cbiAgICBFdmVyeU9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKG9ic2VydmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IEV2ZXJ5U3Vic2NyaWJlcihvYnNlcnZlciwgdGhpcy5wcmVkaWNhdGUsIHRoaXMudGhpc0FyZywgdGhpcy5zb3VyY2UpKTtcbiAgICB9O1xuICAgIHJldHVybiBFdmVyeU9wZXJhdG9yO1xufSgpKTtcbnZhciBFdmVyeVN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoRXZlcnlTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEV2ZXJ5U3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgcHJlZGljYXRlLCB0aGlzQXJnLCBzb3VyY2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnByZWRpY2F0ZSA9IHByZWRpY2F0ZTtcbiAgICAgICAgX3RoaXMudGhpc0FyZyA9IHRoaXNBcmc7XG4gICAgICAgIF90aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgX3RoaXMuaW5kZXggPSAwO1xuICAgICAgICBfdGhpcy50aGlzQXJnID0gdGhpc0FyZyB8fCBfdGhpcztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBFdmVyeVN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlID0gZnVuY3Rpb24gKGV2ZXJ5VmFsdWVNYXRjaCkge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQoZXZlcnlWYWx1ZU1hdGNoKTtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgIH07XG4gICAgRXZlcnlTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLnByZWRpY2F0ZS5jYWxsKHRoaXMudGhpc0FyZywgdmFsdWUsIHRoaXMuaW5kZXgrKywgdGhpcy5zb3VyY2UpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgdGhpcy5ub3RpZnlDb21wbGV0ZShmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEV2ZXJ5U3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLm5vdGlmeUNvbXBsZXRlKHRydWUpO1xuICAgIH07XG4gICAgcmV0dXJuIEV2ZXJ5U3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXZlcnkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9pbm5lclN1YnNjcmliZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU2ltcGxlT3V0ZXJTdWJzY3JpYmVyLCBpbm5lclN1YnNjcmliZSwgU2ltcGxlSW5uZXJTdWJzY3JpYmVyIH0gZnJvbSAnLi4vaW5uZXJTdWJzY3JpYmUnO1xuZXhwb3J0IGZ1bmN0aW9uIGV4aGF1c3QoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBTd2l0Y2hGaXJzdE9wZXJhdG9yKCkpOyB9O1xufVxudmFyIFN3aXRjaEZpcnN0T3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3dpdGNoRmlyc3RPcGVyYXRvcigpIHtcbiAgICB9XG4gICAgU3dpdGNoRmlyc3RPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IFN3aXRjaEZpcnN0U3Vic2NyaWJlcihzdWJzY3JpYmVyKSk7XG4gICAgfTtcbiAgICByZXR1cm4gU3dpdGNoRmlyc3RPcGVyYXRvcjtcbn0oKSk7XG52YXIgU3dpdGNoRmlyc3RTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFN3aXRjaEZpcnN0U3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTd2l0Y2hGaXJzdFN1YnNjcmliZXIoZGVzdGluYXRpb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmhhc0NvbXBsZXRlZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5oYXNTdWJzY3JpcHRpb24gPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTd2l0Y2hGaXJzdFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5oYXNTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuaGFzU3Vic2NyaXB0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuYWRkKGlubmVyU3Vic2NyaWJlKHZhbHVlLCBuZXcgU2ltcGxlSW5uZXJTdWJzY3JpYmVyKHRoaXMpKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN3aXRjaEZpcnN0U3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmhhc0NvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgIGlmICghdGhpcy5oYXNTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3dpdGNoRmlyc3RTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5oYXNTdWJzY3JpcHRpb24gPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuaGFzQ29tcGxldGVkKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBTd2l0Y2hGaXJzdFN1YnNjcmliZXI7XG59KFNpbXBsZU91dGVyU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXhoYXVzdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX21hcCxfb2JzZXJ2YWJsZV9mcm9tLF9pbm5lclN1YnNjcmliZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi9tYXAnO1xuaW1wb3J0IHsgZnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvZnJvbSc7XG5pbXBvcnQgeyBTaW1wbGVPdXRlclN1YnNjcmliZXIsIFNpbXBsZUlubmVyU3Vic2NyaWJlciwgaW5uZXJTdWJzY3JpYmUgfSBmcm9tICcuLi9pbm5lclN1YnNjcmliZSc7XG5leHBvcnQgZnVuY3Rpb24gZXhoYXVzdE1hcChwcm9qZWN0LCByZXN1bHRTZWxlY3Rvcikge1xuICAgIGlmIChyZXN1bHRTZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLnBpcGUoZXhoYXVzdE1hcChmdW5jdGlvbiAoYSwgaSkgeyByZXR1cm4gZnJvbShwcm9qZWN0KGEsIGkpKS5waXBlKG1hcChmdW5jdGlvbiAoYiwgaWkpIHsgcmV0dXJuIHJlc3VsdFNlbGVjdG9yKGEsIGIsIGksIGlpKTsgfSkpOyB9KSk7IH07XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2UubGlmdChuZXcgRXhoYXVzdE1hcE9wZXJhdG9yKHByb2plY3QpKTtcbiAgICB9O1xufVxudmFyIEV4aGF1c3RNYXBPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBFeGhhdXN0TWFwT3BlcmF0b3IocHJvamVjdCkge1xuICAgICAgICB0aGlzLnByb2plY3QgPSBwcm9qZWN0O1xuICAgIH1cbiAgICBFeGhhdXN0TWFwT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBFeGhhdXN0TWFwU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLnByb2plY3QpKTtcbiAgICB9O1xuICAgIHJldHVybiBFeGhhdXN0TWFwT3BlcmF0b3I7XG59KCkpO1xudmFyIEV4aGF1c3RNYXBTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEV4aGF1c3RNYXBTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEV4aGF1c3RNYXBTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBwcm9qZWN0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wcm9qZWN0ID0gcHJvamVjdDtcbiAgICAgICAgX3RoaXMuaGFzU3Vic2NyaXB0aW9uID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmhhc0NvbXBsZXRlZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5pbmRleCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgRXhoYXVzdE1hcFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5oYXNTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHRoaXMudHJ5TmV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEV4aGF1c3RNYXBTdWJzY3JpYmVyLnByb3RvdHlwZS50cnlOZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXgrKztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucHJvamVjdCh2YWx1ZSwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhhc1N1YnNjcmlwdGlvbiA9IHRydWU7XG4gICAgICAgIHRoaXMuX2lubmVyU3ViKHJlc3VsdCk7XG4gICAgfTtcbiAgICBFeGhhdXN0TWFwU3Vic2NyaWJlci5wcm90b3R5cGUuX2lubmVyU3ViID0gZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICB2YXIgaW5uZXJTdWJzY3JpYmVyID0gbmV3IFNpbXBsZUlubmVyU3Vic2NyaWJlcih0aGlzKTtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gdGhpcy5kZXN0aW5hdGlvbjtcbiAgICAgICAgZGVzdGluYXRpb24uYWRkKGlubmVyU3Vic2NyaWJlcik7XG4gICAgICAgIHZhciBpbm5lclN1YnNjcmlwdGlvbiA9IGlubmVyU3Vic2NyaWJlKHJlc3VsdCwgaW5uZXJTdWJzY3JpYmVyKTtcbiAgICAgICAgaWYgKGlubmVyU3Vic2NyaXB0aW9uICE9PSBpbm5lclN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uLmFkZChpbm5lclN1YnNjcmlwdGlvbik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEV4aGF1c3RNYXBTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaGFzQ29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKCF0aGlzLmhhc1N1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIEV4aGF1c3RNYXBTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlOZXh0ID0gZnVuY3Rpb24gKGlubmVyVmFsdWUpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KGlubmVyVmFsdWUpO1xuICAgIH07XG4gICAgRXhoYXVzdE1hcFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgfTtcbiAgICBFeGhhdXN0TWFwU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5Q29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaGFzU3Vic2NyaXB0aW9uID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLmhhc0NvbXBsZXRlZCkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRXhoYXVzdE1hcFN1YnNjcmliZXI7XG59KFNpbXBsZU91dGVyU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXhoYXVzdE1hcC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX2lubmVyU3Vic2NyaWJlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTaW1wbGVPdXRlclN1YnNjcmliZXIsIGlubmVyU3Vic2NyaWJlLCBTaW1wbGVJbm5lclN1YnNjcmliZXIgfSBmcm9tICcuLi9pbm5lclN1YnNjcmliZSc7XG5leHBvcnQgZnVuY3Rpb24gZXhwYW5kKHByb2plY3QsIGNvbmN1cnJlbnQsIHNjaGVkdWxlcikge1xuICAgIGlmIChjb25jdXJyZW50ID09PSB2b2lkIDApIHtcbiAgICAgICAgY29uY3VycmVudCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICB9XG4gICAgY29uY3VycmVudCA9IChjb25jdXJyZW50IHx8IDApIDwgMSA/IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSA6IGNvbmN1cnJlbnQ7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBFeHBhbmRPcGVyYXRvcihwcm9qZWN0LCBjb25jdXJyZW50LCBzY2hlZHVsZXIpKTsgfTtcbn1cbnZhciBFeHBhbmRPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBFeHBhbmRPcGVyYXRvcihwcm9qZWN0LCBjb25jdXJyZW50LCBzY2hlZHVsZXIpIHtcbiAgICAgICAgdGhpcy5wcm9qZWN0ID0gcHJvamVjdDtcbiAgICAgICAgdGhpcy5jb25jdXJyZW50ID0gY29uY3VycmVudDtcbiAgICAgICAgdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgfVxuICAgIEV4cGFuZE9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgRXhwYW5kU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLnByb2plY3QsIHRoaXMuY29uY3VycmVudCwgdGhpcy5zY2hlZHVsZXIpKTtcbiAgICB9O1xuICAgIHJldHVybiBFeHBhbmRPcGVyYXRvcjtcbn0oKSk7XG5leHBvcnQgeyBFeHBhbmRPcGVyYXRvciB9O1xudmFyIEV4cGFuZFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoRXhwYW5kU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBFeHBhbmRTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBwcm9qZWN0LCBjb25jdXJyZW50LCBzY2hlZHVsZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnByb2plY3QgPSBwcm9qZWN0O1xuICAgICAgICBfdGhpcy5jb25jdXJyZW50ID0gY29uY3VycmVudDtcbiAgICAgICAgX3RoaXMuc2NoZWR1bGVyID0gc2NoZWR1bGVyO1xuICAgICAgICBfdGhpcy5pbmRleCA9IDA7XG4gICAgICAgIF90aGlzLmFjdGl2ZSA9IDA7XG4gICAgICAgIF90aGlzLmhhc0NvbXBsZXRlZCA9IGZhbHNlO1xuICAgICAgICBpZiAoY29uY3VycmVudCA8IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSkge1xuICAgICAgICAgICAgX3RoaXMuYnVmZmVyID0gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBFeHBhbmRTdWJzY3JpYmVyLmRpc3BhdGNoID0gZnVuY3Rpb24gKGFyZykge1xuICAgICAgICB2YXIgc3Vic2NyaWJlciA9IGFyZy5zdWJzY3JpYmVyLCByZXN1bHQgPSBhcmcucmVzdWx0LCB2YWx1ZSA9IGFyZy52YWx1ZSwgaW5kZXggPSBhcmcuaW5kZXg7XG4gICAgICAgIHN1YnNjcmliZXIuc3Vic2NyaWJlVG9Qcm9qZWN0aW9uKHJlc3VsdCwgdmFsdWUsIGluZGV4KTtcbiAgICB9O1xuICAgIEV4cGFuZFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGlmIChkZXN0aW5hdGlvbi5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbXBsZXRlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleCsrO1xuICAgICAgICBpZiAodGhpcy5hY3RpdmUgPCB0aGlzLmNvbmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgcHJvamVjdCA9IHRoaXMucHJvamVjdDtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gcHJvamVjdCh2YWx1ZSwgaW5kZXgpO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5zY2hlZHVsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpYmVUb1Byb2plY3Rpb24ocmVzdWx0LCB2YWx1ZSwgaW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRlID0geyBzdWJzY3JpYmVyOiB0aGlzLCByZXN1bHQ6IHJlc3VsdCwgdmFsdWU6IHZhbHVlLCBpbmRleDogaW5kZXggfTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRlc3RpbmF0aW9uXzEgPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbl8xLmFkZCh0aGlzLnNjaGVkdWxlci5zY2hlZHVsZShFeHBhbmRTdWJzY3JpYmVyLmRpc3BhdGNoLCAwLCBzdGF0ZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb24uZXJyb3IoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlci5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRXhwYW5kU3Vic2NyaWJlci5wcm90b3R5cGUuc3Vic2NyaWJlVG9Qcm9qZWN0aW9uID0gZnVuY3Rpb24gKHJlc3VsdCwgdmFsdWUsIGluZGV4KSB7XG4gICAgICAgIHRoaXMuYWN0aXZlKys7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGRlc3RpbmF0aW9uLmFkZChpbm5lclN1YnNjcmliZShyZXN1bHQsIG5ldyBTaW1wbGVJbm5lclN1YnNjcmliZXIodGhpcykpKTtcbiAgICB9O1xuICAgIEV4cGFuZFN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5oYXNDb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5oYXNDb21wbGV0ZWQgJiYgdGhpcy5hY3RpdmUgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBFeHBhbmRTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlOZXh0ID0gZnVuY3Rpb24gKGlubmVyVmFsdWUpIHtcbiAgICAgICAgdGhpcy5fbmV4dChpbm5lclZhbHVlKTtcbiAgICB9O1xuICAgIEV4cGFuZFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5idWZmZXI7XG4gICAgICAgIHRoaXMuYWN0aXZlLS07XG4gICAgICAgIGlmIChidWZmZXIgJiYgYnVmZmVyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX25leHQoYnVmZmVyLnNoaWZ0KCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmhhc0NvbXBsZXRlZCAmJiB0aGlzLmFjdGl2ZSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRXhwYW5kU3Vic2NyaWJlcjtcbn0oU2ltcGxlT3V0ZXJTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBFeHBhbmRTdWJzY3JpYmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leHBhbmQuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyKHByZWRpY2F0ZSwgdGhpc0FyZykge1xuICAgIHJldHVybiBmdW5jdGlvbiBmaWx0ZXJPcGVyYXRvckZ1bmN0aW9uKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IEZpbHRlck9wZXJhdG9yKHByZWRpY2F0ZSwgdGhpc0FyZykpO1xuICAgIH07XG59XG52YXIgRmlsdGVyT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRmlsdGVyT3BlcmF0b3IocHJlZGljYXRlLCB0aGlzQXJnKSB7XG4gICAgICAgIHRoaXMucHJlZGljYXRlID0gcHJlZGljYXRlO1xuICAgICAgICB0aGlzLnRoaXNBcmcgPSB0aGlzQXJnO1xuICAgIH1cbiAgICBGaWx0ZXJPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IEZpbHRlclN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5wcmVkaWNhdGUsIHRoaXMudGhpc0FyZykpO1xuICAgIH07XG4gICAgcmV0dXJuIEZpbHRlck9wZXJhdG9yO1xufSgpKTtcbnZhciBGaWx0ZXJTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEZpbHRlclN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRmlsdGVyU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgcHJlZGljYXRlLCB0aGlzQXJnKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wcmVkaWNhdGUgPSBwcmVkaWNhdGU7XG4gICAgICAgIF90aGlzLnRoaXNBcmcgPSB0aGlzQXJnO1xuICAgICAgICBfdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgRmlsdGVyU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucHJlZGljYXRlLmNhbGwodGhpcy50aGlzQXJnLCB2YWx1ZSwgdGhpcy5jb3VudCsrKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEZpbHRlclN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIsX1N1YnNjcmlwdGlvbiBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiBmaW5hbGl6ZShjYWxsYmFjaykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UubGlmdChuZXcgRmluYWxseU9wZXJhdG9yKGNhbGxiYWNrKSk7IH07XG59XG52YXIgRmluYWxseU9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEZpbmFsbHlPcGVyYXRvcihjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgfVxuICAgIEZpbmFsbHlPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IEZpbmFsbHlTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMuY2FsbGJhY2spKTtcbiAgICB9O1xuICAgIHJldHVybiBGaW5hbGx5T3BlcmF0b3I7XG59KCkpO1xudmFyIEZpbmFsbHlTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEZpbmFsbHlTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEZpbmFsbHlTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYWRkKG5ldyBTdWJzY3JpcHRpb24oY2FsbGJhY2spKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gRmluYWxseVN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbmFsaXplLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmQocHJlZGljYXRlLCB0aGlzQXJnKSB7XG4gICAgaWYgKHR5cGVvZiBwcmVkaWNhdGUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigncHJlZGljYXRlIGlzIG5vdCBhIGZ1bmN0aW9uJyk7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UubGlmdChuZXcgRmluZFZhbHVlT3BlcmF0b3IocHJlZGljYXRlLCBzb3VyY2UsIGZhbHNlLCB0aGlzQXJnKSk7IH07XG59XG52YXIgRmluZFZhbHVlT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRmluZFZhbHVlT3BlcmF0b3IocHJlZGljYXRlLCBzb3VyY2UsIHlpZWxkSW5kZXgsIHRoaXNBcmcpIHtcbiAgICAgICAgdGhpcy5wcmVkaWNhdGUgPSBwcmVkaWNhdGU7XG4gICAgICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgICAgICB0aGlzLnlpZWxkSW5kZXggPSB5aWVsZEluZGV4O1xuICAgICAgICB0aGlzLnRoaXNBcmcgPSB0aGlzQXJnO1xuICAgIH1cbiAgICBGaW5kVmFsdWVPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChvYnNlcnZlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBGaW5kVmFsdWVTdWJzY3JpYmVyKG9ic2VydmVyLCB0aGlzLnByZWRpY2F0ZSwgdGhpcy5zb3VyY2UsIHRoaXMueWllbGRJbmRleCwgdGhpcy50aGlzQXJnKSk7XG4gICAgfTtcbiAgICByZXR1cm4gRmluZFZhbHVlT3BlcmF0b3I7XG59KCkpO1xuZXhwb3J0IHsgRmluZFZhbHVlT3BlcmF0b3IgfTtcbnZhciBGaW5kVmFsdWVTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEZpbmRWYWx1ZVN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRmluZFZhbHVlU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgcHJlZGljYXRlLCBzb3VyY2UsIHlpZWxkSW5kZXgsIHRoaXNBcmcpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnByZWRpY2F0ZSA9IHByZWRpY2F0ZTtcbiAgICAgICAgX3RoaXMuc291cmNlID0gc291cmNlO1xuICAgICAgICBfdGhpcy55aWVsZEluZGV4ID0geWllbGRJbmRleDtcbiAgICAgICAgX3RoaXMudGhpc0FyZyA9IHRoaXNBcmc7XG4gICAgICAgIF90aGlzLmluZGV4ID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBGaW5kVmFsdWVTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICBkZXN0aW5hdGlvbi5uZXh0KHZhbHVlKTtcbiAgICAgICAgZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgRmluZFZhbHVlU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgcHJlZGljYXRlID0gX2EucHJlZGljYXRlLCB0aGlzQXJnID0gX2EudGhpc0FyZztcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleCsrO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHByZWRpY2F0ZS5jYWxsKHRoaXNBcmcgfHwgdGhpcywgdmFsdWUsIGluZGV4LCB0aGlzLnNvdXJjZSk7XG4gICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ub3RpZnlDb21wbGV0ZSh0aGlzLnlpZWxkSW5kZXggPyBpbmRleCA6IHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEZpbmRWYWx1ZVN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5ub3RpZnlDb21wbGV0ZSh0aGlzLnlpZWxkSW5kZXggPyAtMSA6IHVuZGVmaW5lZCk7XG4gICAgfTtcbiAgICByZXR1cm4gRmluZFZhbHVlU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgRmluZFZhbHVlU3Vic2NyaWJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmluZC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX29wZXJhdG9yc19maW5kIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IEZpbmRWYWx1ZU9wZXJhdG9yIH0gZnJvbSAnLi4vb3BlcmF0b3JzL2ZpbmQnO1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmRJbmRleChwcmVkaWNhdGUsIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLmxpZnQobmV3IEZpbmRWYWx1ZU9wZXJhdG9yKHByZWRpY2F0ZSwgc291cmNlLCB0cnVlLCB0aGlzQXJnKSk7IH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maW5kSW5kZXguanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF91dGlsX0VtcHR5RXJyb3IsX2ZpbHRlcixfdGFrZSxfZGVmYXVsdElmRW1wdHksX3Rocm93SWZFbXB0eSxfdXRpbF9pZGVudGl0eSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBFbXB0eUVycm9yIH0gZnJvbSAnLi4vdXRpbC9FbXB0eUVycm9yJztcbmltcG9ydCB7IGZpbHRlciB9IGZyb20gJy4vZmlsdGVyJztcbmltcG9ydCB7IHRha2UgfSBmcm9tICcuL3Rha2UnO1xuaW1wb3J0IHsgZGVmYXVsdElmRW1wdHkgfSBmcm9tICcuL2RlZmF1bHRJZkVtcHR5JztcbmltcG9ydCB7IHRocm93SWZFbXB0eSB9IGZyb20gJy4vdGhyb3dJZkVtcHR5JztcbmltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi4vdXRpbC9pZGVudGl0eSc7XG5leHBvcnQgZnVuY3Rpb24gZmlyc3QocHJlZGljYXRlLCBkZWZhdWx0VmFsdWUpIHtcbiAgICB2YXIgaGFzRGVmYXVsdFZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+PSAyO1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UucGlwZShwcmVkaWNhdGUgPyBmaWx0ZXIoZnVuY3Rpb24gKHYsIGkpIHsgcmV0dXJuIHByZWRpY2F0ZSh2LCBpLCBzb3VyY2UpOyB9KSA6IGlkZW50aXR5LCB0YWtlKDEpLCBoYXNEZWZhdWx0VmFsdWUgPyBkZWZhdWx0SWZFbXB0eShkZWZhdWx0VmFsdWUpIDogdGhyb3dJZkVtcHR5KGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBFbXB0eUVycm9yKCk7IH0pKTsgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpcnN0LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlcixfU3Vic2NyaXB0aW9uLF9PYnNlcnZhYmxlLF9TdWJqZWN0IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJy4uL1N1YmplY3QnO1xuZXhwb3J0IGZ1bmN0aW9uIGdyb3VwQnkoa2V5U2VsZWN0b3IsIGVsZW1lbnRTZWxlY3RvciwgZHVyYXRpb25TZWxlY3Rvciwgc3ViamVjdFNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBHcm91cEJ5T3BlcmF0b3Ioa2V5U2VsZWN0b3IsIGVsZW1lbnRTZWxlY3RvciwgZHVyYXRpb25TZWxlY3Rvciwgc3ViamVjdFNlbGVjdG9yKSk7XG4gICAgfTtcbn1cbnZhciBHcm91cEJ5T3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gR3JvdXBCeU9wZXJhdG9yKGtleVNlbGVjdG9yLCBlbGVtZW50U2VsZWN0b3IsIGR1cmF0aW9uU2VsZWN0b3IsIHN1YmplY3RTZWxlY3Rvcikge1xuICAgICAgICB0aGlzLmtleVNlbGVjdG9yID0ga2V5U2VsZWN0b3I7XG4gICAgICAgIHRoaXMuZWxlbWVudFNlbGVjdG9yID0gZWxlbWVudFNlbGVjdG9yO1xuICAgICAgICB0aGlzLmR1cmF0aW9uU2VsZWN0b3IgPSBkdXJhdGlvblNlbGVjdG9yO1xuICAgICAgICB0aGlzLnN1YmplY3RTZWxlY3RvciA9IHN1YmplY3RTZWxlY3RvcjtcbiAgICB9XG4gICAgR3JvdXBCeU9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgR3JvdXBCeVN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5rZXlTZWxlY3RvciwgdGhpcy5lbGVtZW50U2VsZWN0b3IsIHRoaXMuZHVyYXRpb25TZWxlY3RvciwgdGhpcy5zdWJqZWN0U2VsZWN0b3IpKTtcbiAgICB9O1xuICAgIHJldHVybiBHcm91cEJ5T3BlcmF0b3I7XG59KCkpO1xudmFyIEdyb3VwQnlTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEdyb3VwQnlTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEdyb3VwQnlTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBrZXlTZWxlY3RvciwgZWxlbWVudFNlbGVjdG9yLCBkdXJhdGlvblNlbGVjdG9yLCBzdWJqZWN0U2VsZWN0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmtleVNlbGVjdG9yID0ga2V5U2VsZWN0b3I7XG4gICAgICAgIF90aGlzLmVsZW1lbnRTZWxlY3RvciA9IGVsZW1lbnRTZWxlY3RvcjtcbiAgICAgICAgX3RoaXMuZHVyYXRpb25TZWxlY3RvciA9IGR1cmF0aW9uU2VsZWN0b3I7XG4gICAgICAgIF90aGlzLnN1YmplY3RTZWxlY3RvciA9IHN1YmplY3RTZWxlY3RvcjtcbiAgICAgICAgX3RoaXMuZ3JvdXBzID0gbnVsbDtcbiAgICAgICAgX3RoaXMuYXR0ZW1wdGVkVG9VbnN1YnNjcmliZSA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgR3JvdXBCeVN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBrZXk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBrZXkgPSB0aGlzLmtleVNlbGVjdG9yKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLmVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZ3JvdXAodmFsdWUsIGtleSk7XG4gICAgfTtcbiAgICBHcm91cEJ5U3Vic2NyaWJlci5wcm90b3R5cGUuX2dyb3VwID0gZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgdmFyIGdyb3VwcyA9IHRoaXMuZ3JvdXBzO1xuICAgICAgICBpZiAoIWdyb3Vwcykge1xuICAgICAgICAgICAgZ3JvdXBzID0gdGhpcy5ncm91cHMgPSBuZXcgTWFwKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGdyb3VwID0gZ3JvdXBzLmdldChrZXkpO1xuICAgICAgICB2YXIgZWxlbWVudDtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudFNlbGVjdG9yKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnRTZWxlY3Rvcih2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZ3JvdXApIHtcbiAgICAgICAgICAgIGdyb3VwID0gKHRoaXMuc3ViamVjdFNlbGVjdG9yID8gdGhpcy5zdWJqZWN0U2VsZWN0b3IoKSA6IG5ldyBTdWJqZWN0KCkpO1xuICAgICAgICAgICAgZ3JvdXBzLnNldChrZXksIGdyb3VwKTtcbiAgICAgICAgICAgIHZhciBncm91cGVkT2JzZXJ2YWJsZSA9IG5ldyBHcm91cGVkT2JzZXJ2YWJsZShrZXksIGdyb3VwLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChncm91cGVkT2JzZXJ2YWJsZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5kdXJhdGlvblNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgdmFyIGR1cmF0aW9uID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gdGhpcy5kdXJhdGlvblNlbGVjdG9yKG5ldyBHcm91cGVkT2JzZXJ2YWJsZShrZXksIGdyb3VwKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuYWRkKGR1cmF0aW9uLnN1YnNjcmliZShuZXcgR3JvdXBEdXJhdGlvblN1YnNjcmliZXIoa2V5LCBncm91cCwgdGhpcykpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWdyb3VwLmNsb3NlZCkge1xuICAgICAgICAgICAgZ3JvdXAubmV4dChlbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgR3JvdXBCeVN1YnNjcmliZXIucHJvdG90eXBlLl9lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgdmFyIGdyb3VwcyA9IHRoaXMuZ3JvdXBzO1xuICAgICAgICBpZiAoZ3JvdXBzKSB7XG4gICAgICAgICAgICBncm91cHMuZm9yRWFjaChmdW5jdGlvbiAoZ3JvdXAsIGtleSkge1xuICAgICAgICAgICAgICAgIGdyb3VwLmVycm9yKGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGdyb3Vwcy5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICB9O1xuICAgIEdyb3VwQnlTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBncm91cHMgPSB0aGlzLmdyb3VwcztcbiAgICAgICAgaWYgKGdyb3Vwcykge1xuICAgICAgICAgICAgZ3JvdXBzLmZvckVhY2goZnVuY3Rpb24gKGdyb3VwLCBrZXkpIHtcbiAgICAgICAgICAgICAgICBncm91cC5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBncm91cHMuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgfTtcbiAgICBHcm91cEJ5U3Vic2NyaWJlci5wcm90b3R5cGUucmVtb3ZlR3JvdXAgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHRoaXMuZ3JvdXBzLmRlbGV0ZShrZXkpO1xuICAgIH07XG4gICAgR3JvdXBCeVN1YnNjcmliZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICB0aGlzLmF0dGVtcHRlZFRvVW5zdWJzY3JpYmUgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuY291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBHcm91cEJ5U3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xudmFyIEdyb3VwRHVyYXRpb25TdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEdyb3VwRHVyYXRpb25TdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEdyb3VwRHVyYXRpb25TdWJzY3JpYmVyKGtleSwgZ3JvdXAsIHBhcmVudCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBncm91cCkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMua2V5ID0ga2V5O1xuICAgICAgICBfdGhpcy5ncm91cCA9IGdyb3VwO1xuICAgICAgICBfdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgR3JvdXBEdXJhdGlvblN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuY29tcGxldGUoKTtcbiAgICB9O1xuICAgIEdyb3VwRHVyYXRpb25TdWJzY3JpYmVyLnByb3RvdHlwZS5fdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIHBhcmVudCA9IF9hLnBhcmVudCwga2V5ID0gX2Eua2V5O1xuICAgICAgICB0aGlzLmtleSA9IHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgcGFyZW50LnJlbW92ZUdyb3VwKGtleSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBHcm91cER1cmF0aW9uU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xudmFyIEdyb3VwZWRPYnNlcnZhYmxlID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEdyb3VwZWRPYnNlcnZhYmxlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEdyb3VwZWRPYnNlcnZhYmxlKGtleSwgZ3JvdXBTdWJqZWN0LCByZWZDb3VudFN1YnNjcmlwdGlvbikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5rZXkgPSBrZXk7XG4gICAgICAgIF90aGlzLmdyb3VwU3ViamVjdCA9IGdyb3VwU3ViamVjdDtcbiAgICAgICAgX3RoaXMucmVmQ291bnRTdWJzY3JpcHRpb24gPSByZWZDb3VudFN1YnNjcmlwdGlvbjtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBHcm91cGVkT2JzZXJ2YWJsZS5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIHJlZkNvdW50U3Vic2NyaXB0aW9uID0gX2EucmVmQ291bnRTdWJzY3JpcHRpb24sIGdyb3VwU3ViamVjdCA9IF9hLmdyb3VwU3ViamVjdDtcbiAgICAgICAgaWYgKHJlZkNvdW50U3Vic2NyaXB0aW9uICYmICFyZWZDb3VudFN1YnNjcmlwdGlvbi5jbG9zZWQpIHtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbi5hZGQobmV3IElubmVyUmVmQ291bnRTdWJzY3JpcHRpb24ocmVmQ291bnRTdWJzY3JpcHRpb24pKTtcbiAgICAgICAgfVxuICAgICAgICBzdWJzY3JpcHRpb24uYWRkKGdyb3VwU3ViamVjdC5zdWJzY3JpYmUoc3Vic2NyaWJlcikpO1xuICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgIH07XG4gICAgcmV0dXJuIEdyb3VwZWRPYnNlcnZhYmxlO1xufShPYnNlcnZhYmxlKSk7XG5leHBvcnQgeyBHcm91cGVkT2JzZXJ2YWJsZSB9O1xudmFyIElubmVyUmVmQ291bnRTdWJzY3JpcHRpb24gPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoSW5uZXJSZWZDb3VudFN1YnNjcmlwdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBJbm5lclJlZkNvdW50U3Vic2NyaXB0aW9uKHBhcmVudCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHBhcmVudC5jb3VudCsrO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIElubmVyUmVmQ291bnRTdWJzY3JpcHRpb24ucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnQ7XG4gICAgICAgIGlmICghcGFyZW50LmNsb3NlZCAmJiAhdGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUudW5zdWJzY3JpYmUuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIHBhcmVudC5jb3VudCAtPSAxO1xuICAgICAgICAgICAgaWYgKHBhcmVudC5jb3VudCA9PT0gMCAmJiBwYXJlbnQuYXR0ZW1wdGVkVG9VbnN1YnNjcmliZSkge1xuICAgICAgICAgICAgICAgIHBhcmVudC51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gSW5uZXJSZWZDb3VudFN1YnNjcmlwdGlvbjtcbn0oU3Vic2NyaXB0aW9uKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ncm91cEJ5LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIGlnbm9yZUVsZW1lbnRzKCkge1xuICAgIHJldHVybiBmdW5jdGlvbiBpZ25vcmVFbGVtZW50c09wZXJhdG9yRnVuY3Rpb24oc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2UubGlmdChuZXcgSWdub3JlRWxlbWVudHNPcGVyYXRvcigpKTtcbiAgICB9O1xufVxudmFyIElnbm9yZUVsZW1lbnRzT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSWdub3JlRWxlbWVudHNPcGVyYXRvcigpIHtcbiAgICB9XG4gICAgSWdub3JlRWxlbWVudHNPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IElnbm9yZUVsZW1lbnRzU3Vic2NyaWJlcihzdWJzY3JpYmVyKSk7XG4gICAgfTtcbiAgICByZXR1cm4gSWdub3JlRWxlbWVudHNPcGVyYXRvcjtcbn0oKSk7XG52YXIgSWdub3JlRWxlbWVudHNTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKElnbm9yZUVsZW1lbnRzU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBJZ25vcmVFbGVtZW50c1N1YnNjcmliZXIoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgSWdub3JlRWxlbWVudHNTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh1bnVzZWQpIHtcbiAgICB9O1xuICAgIHJldHVybiBJZ25vcmVFbGVtZW50c1N1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlnbm9yZUVsZW1lbnRzLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIGlzRW1wdHkoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBJc0VtcHR5T3BlcmF0b3IoKSk7IH07XG59XG52YXIgSXNFbXB0eU9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIElzRW1wdHlPcGVyYXRvcigpIHtcbiAgICB9XG4gICAgSXNFbXB0eU9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKG9ic2VydmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IElzRW1wdHlTdWJzY3JpYmVyKG9ic2VydmVyKSk7XG4gICAgfTtcbiAgICByZXR1cm4gSXNFbXB0eU9wZXJhdG9yO1xufSgpKTtcbnZhciBJc0VtcHR5U3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhJc0VtcHR5U3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBJc0VtcHR5U3Vic2NyaWJlcihkZXN0aW5hdGlvbikge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgfVxuICAgIElzRW1wdHlTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uIChpc0VtcHR5KSB7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGRlc3RpbmF0aW9uLm5leHQoaXNFbXB0eSk7XG4gICAgICAgIGRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgfTtcbiAgICBJc0VtcHR5U3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5ub3RpZnlDb21wbGV0ZShmYWxzZSk7XG4gICAgfTtcbiAgICBJc0VtcHR5U3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLm5vdGlmeUNvbXBsZXRlKHRydWUpO1xuICAgIH07XG4gICAgcmV0dXJuIElzRW1wdHlTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0VtcHR5LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfdXRpbF9FbXB0eUVycm9yLF9maWx0ZXIsX3Rha2VMYXN0LF90aHJvd0lmRW1wdHksX2RlZmF1bHRJZkVtcHR5LF91dGlsX2lkZW50aXR5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IEVtcHR5RXJyb3IgfSBmcm9tICcuLi91dGlsL0VtcHR5RXJyb3InO1xuaW1wb3J0IHsgZmlsdGVyIH0gZnJvbSAnLi9maWx0ZXInO1xuaW1wb3J0IHsgdGFrZUxhc3QgfSBmcm9tICcuL3Rha2VMYXN0JztcbmltcG9ydCB7IHRocm93SWZFbXB0eSB9IGZyb20gJy4vdGhyb3dJZkVtcHR5JztcbmltcG9ydCB7IGRlZmF1bHRJZkVtcHR5IH0gZnJvbSAnLi9kZWZhdWx0SWZFbXB0eSc7XG5pbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4uL3V0aWwvaWRlbnRpdHknO1xuZXhwb3J0IGZ1bmN0aW9uIGxhc3QocHJlZGljYXRlLCBkZWZhdWx0VmFsdWUpIHtcbiAgICB2YXIgaGFzRGVmYXVsdFZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+PSAyO1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UucGlwZShwcmVkaWNhdGUgPyBmaWx0ZXIoZnVuY3Rpb24gKHYsIGkpIHsgcmV0dXJuIHByZWRpY2F0ZSh2LCBpLCBzb3VyY2UpOyB9KSA6IGlkZW50aXR5LCB0YWtlTGFzdCgxKSwgaGFzRGVmYXVsdFZhbHVlID8gZGVmYXVsdElmRW1wdHkoZGVmYXVsdFZhbHVlKSA6IHRocm93SWZFbXB0eShmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgRW1wdHlFcnJvcigpOyB9KSk7IH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sYXN0LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIG1hcChwcm9qZWN0LCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG1hcE9wZXJhdGlvbihzb3VyY2UpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwcm9qZWN0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhcmd1bWVudCBpcyBub3QgYSBmdW5jdGlvbi4gQXJlIHlvdSBsb29raW5nIGZvciBgbWFwVG8oKWA/Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBNYXBPcGVyYXRvcihwcm9qZWN0LCB0aGlzQXJnKSk7XG4gICAgfTtcbn1cbnZhciBNYXBPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNYXBPcGVyYXRvcihwcm9qZWN0LCB0aGlzQXJnKSB7XG4gICAgICAgIHRoaXMucHJvamVjdCA9IHByb2plY3Q7XG4gICAgICAgIHRoaXMudGhpc0FyZyA9IHRoaXNBcmc7XG4gICAgfVxuICAgIE1hcE9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgTWFwU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLnByb2plY3QsIHRoaXMudGhpc0FyZykpO1xuICAgIH07XG4gICAgcmV0dXJuIE1hcE9wZXJhdG9yO1xufSgpKTtcbmV4cG9ydCB7IE1hcE9wZXJhdG9yIH07XG52YXIgTWFwU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhNYXBTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1hcFN1YnNjcmliZXIoZGVzdGluYXRpb24sIHByb2plY3QsIHRoaXNBcmcpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnByb2plY3QgPSBwcm9qZWN0O1xuICAgICAgICBfdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIF90aGlzLnRoaXNBcmcgPSB0aGlzQXJnIHx8IF90aGlzO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE1hcFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLnByb2plY3QuY2FsbCh0aGlzLnRoaXNBcmcsIHZhbHVlLCB0aGlzLmNvdW50KyspO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQocmVzdWx0KTtcbiAgICB9O1xuICAgIHJldHVybiBNYXBTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXAuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gbWFwVG8odmFsdWUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLmxpZnQobmV3IE1hcFRvT3BlcmF0b3IodmFsdWUpKTsgfTtcbn1cbnZhciBNYXBUb09wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1hcFRvT3BlcmF0b3IodmFsdWUpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBNYXBUb09wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgTWFwVG9TdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMudmFsdWUpKTtcbiAgICB9O1xuICAgIHJldHVybiBNYXBUb09wZXJhdG9yO1xufSgpKTtcbnZhciBNYXBUb1N1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoTWFwVG9TdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1hcFRvU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgdmFsdWUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgTWFwVG9TdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh0aGlzLnZhbHVlKTtcbiAgICB9O1xuICAgIHJldHVybiBNYXBUb1N1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcFRvLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlcixfTm90aWZpY2F0aW9uIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBOb3RpZmljYXRpb24gfSBmcm9tICcuLi9Ob3RpZmljYXRpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIG1hdGVyaWFsaXplKCkge1xuICAgIHJldHVybiBmdW5jdGlvbiBtYXRlcmlhbGl6ZU9wZXJhdG9yRnVuY3Rpb24oc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2UubGlmdChuZXcgTWF0ZXJpYWxpemVPcGVyYXRvcigpKTtcbiAgICB9O1xufVxudmFyIE1hdGVyaWFsaXplT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTWF0ZXJpYWxpemVPcGVyYXRvcigpIHtcbiAgICB9XG4gICAgTWF0ZXJpYWxpemVPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IE1hdGVyaWFsaXplU3Vic2NyaWJlcihzdWJzY3JpYmVyKSk7XG4gICAgfTtcbiAgICByZXR1cm4gTWF0ZXJpYWxpemVPcGVyYXRvcjtcbn0oKSk7XG52YXIgTWF0ZXJpYWxpemVTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKE1hdGVyaWFsaXplU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNYXRlcmlhbGl6ZVN1YnNjcmliZXIoZGVzdGluYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgIH1cbiAgICBNYXRlcmlhbGl6ZVN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChOb3RpZmljYXRpb24uY3JlYXRlTmV4dCh2YWx1ZSkpO1xuICAgIH07XG4gICAgTWF0ZXJpYWxpemVTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGRlc3RpbmF0aW9uLm5leHQoTm90aWZpY2F0aW9uLmNyZWF0ZUVycm9yKGVycikpO1xuICAgICAgICBkZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgIH07XG4gICAgTWF0ZXJpYWxpemVTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGRlc3RpbmF0aW9uLm5leHQoTm90aWZpY2F0aW9uLmNyZWF0ZUNvbXBsZXRlKCkpO1xuICAgICAgICBkZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIE1hdGVyaWFsaXplU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWF0ZXJpYWxpemUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9yZWR1Y2UgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgcmVkdWNlIH0gZnJvbSAnLi9yZWR1Y2UnO1xuZXhwb3J0IGZ1bmN0aW9uIG1heChjb21wYXJlcikge1xuICAgIHZhciBtYXggPSAodHlwZW9mIGNvbXBhcmVyID09PSAnZnVuY3Rpb24nKVxuICAgICAgICA/IGZ1bmN0aW9uICh4LCB5KSB7IHJldHVybiBjb21wYXJlcih4LCB5KSA+IDAgPyB4IDogeTsgfVxuICAgICAgICA6IGZ1bmN0aW9uICh4LCB5KSB7IHJldHVybiB4ID4geSA/IHggOiB5OyB9O1xuICAgIHJldHVybiByZWR1Y2UobWF4KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1heC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX29ic2VydmFibGVfbWVyZ2UgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgbWVyZ2UgYXMgbWVyZ2VTdGF0aWMgfSBmcm9tICcuLi9vYnNlcnZhYmxlL21lcmdlJztcbmV4cG9ydCBmdW5jdGlvbiBtZXJnZSgpIHtcbiAgICB2YXIgb2JzZXJ2YWJsZXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBvYnNlcnZhYmxlc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLmxpZnQuY2FsbChtZXJnZVN0YXRpYy5hcHBseSh2b2lkIDAsIFtzb3VyY2VdLmNvbmNhdChvYnNlcnZhYmxlcykpKTsgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lcmdlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfbWVyZ2VNYXAsX3V0aWxfaWRlbnRpdHkgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgbWVyZ2VNYXAgfSBmcm9tICcuL21lcmdlTWFwJztcbmltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi4vdXRpbC9pZGVudGl0eSc7XG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VBbGwoY29uY3VycmVudCkge1xuICAgIGlmIChjb25jdXJyZW50ID09PSB2b2lkIDApIHtcbiAgICAgICAgY29uY3VycmVudCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICB9XG4gICAgcmV0dXJuIG1lcmdlTWFwKGlkZW50aXR5LCBjb25jdXJyZW50KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lcmdlQWxsLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfbWFwLF9vYnNlcnZhYmxlX2Zyb20sX2lubmVyU3Vic2NyaWJlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICcuL21hcCc7XG5pbXBvcnQgeyBmcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9mcm9tJztcbmltcG9ydCB7IFNpbXBsZU91dGVyU3Vic2NyaWJlciwgU2ltcGxlSW5uZXJTdWJzY3JpYmVyLCBpbm5lclN1YnNjcmliZSB9IGZyb20gJy4uL2lubmVyU3Vic2NyaWJlJztcbmV4cG9ydCBmdW5jdGlvbiBtZXJnZU1hcChwcm9qZWN0LCByZXN1bHRTZWxlY3RvciwgY29uY3VycmVudCkge1xuICAgIGlmIChjb25jdXJyZW50ID09PSB2b2lkIDApIHtcbiAgICAgICAgY29uY3VycmVudCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiByZXN1bHRTZWxlY3RvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLnBpcGUobWVyZ2VNYXAoZnVuY3Rpb24gKGEsIGkpIHsgcmV0dXJuIGZyb20ocHJvamVjdChhLCBpKSkucGlwZShtYXAoZnVuY3Rpb24gKGIsIGlpKSB7IHJldHVybiByZXN1bHRTZWxlY3RvcihhLCBiLCBpLCBpaSk7IH0pKTsgfSwgY29uY3VycmVudCkpOyB9O1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgcmVzdWx0U2VsZWN0b3IgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGNvbmN1cnJlbnQgPSByZXN1bHRTZWxlY3RvcjtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBNZXJnZU1hcE9wZXJhdG9yKHByb2plY3QsIGNvbmN1cnJlbnQpKTsgfTtcbn1cbnZhciBNZXJnZU1hcE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1lcmdlTWFwT3BlcmF0b3IocHJvamVjdCwgY29uY3VycmVudCkge1xuICAgICAgICBpZiAoY29uY3VycmVudCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBjb25jdXJyZW50ID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJvamVjdCA9IHByb2plY3Q7XG4gICAgICAgIHRoaXMuY29uY3VycmVudCA9IGNvbmN1cnJlbnQ7XG4gICAgfVxuICAgIE1lcmdlTWFwT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAob2JzZXJ2ZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgTWVyZ2VNYXBTdWJzY3JpYmVyKG9ic2VydmVyLCB0aGlzLnByb2plY3QsIHRoaXMuY29uY3VycmVudCkpO1xuICAgIH07XG4gICAgcmV0dXJuIE1lcmdlTWFwT3BlcmF0b3I7XG59KCkpO1xuZXhwb3J0IHsgTWVyZ2VNYXBPcGVyYXRvciB9O1xudmFyIE1lcmdlTWFwU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhNZXJnZU1hcFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTWVyZ2VNYXBTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBwcm9qZWN0LCBjb25jdXJyZW50KSB7XG4gICAgICAgIGlmIChjb25jdXJyZW50ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGNvbmN1cnJlbnQgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnByb2plY3QgPSBwcm9qZWN0O1xuICAgICAgICBfdGhpcy5jb25jdXJyZW50ID0gY29uY3VycmVudDtcbiAgICAgICAgX3RoaXMuaGFzQ29tcGxldGVkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmJ1ZmZlciA9IFtdO1xuICAgICAgICBfdGhpcy5hY3RpdmUgPSAwO1xuICAgICAgICBfdGhpcy5pbmRleCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgTWVyZ2VNYXBTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5hY3RpdmUgPCB0aGlzLmNvbmN1cnJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX3RyeU5leHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5idWZmZXIucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1lcmdlTWFwU3Vic2NyaWJlci5wcm90b3R5cGUuX3RyeU5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleCsrO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5wcm9qZWN0KHZhbHVlLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aXZlKys7XG4gICAgICAgIHRoaXMuX2lubmVyU3ViKHJlc3VsdCk7XG4gICAgfTtcbiAgICBNZXJnZU1hcFN1YnNjcmliZXIucHJvdG90eXBlLl9pbm5lclN1YiA9IGZ1bmN0aW9uIChpc2gpIHtcbiAgICAgICAgdmFyIGlubmVyU3Vic2NyaWJlciA9IG5ldyBTaW1wbGVJbm5lclN1YnNjcmliZXIodGhpcyk7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGRlc3RpbmF0aW9uLmFkZChpbm5lclN1YnNjcmliZXIpO1xuICAgICAgICB2YXIgaW5uZXJTdWJzY3JpcHRpb24gPSBpbm5lclN1YnNjcmliZShpc2gsIGlubmVyU3Vic2NyaWJlcik7XG4gICAgICAgIGlmIChpbm5lclN1YnNjcmlwdGlvbiAhPT0gaW5uZXJTdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbi5hZGQoaW5uZXJTdWJzY3JpcHRpb24pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNZXJnZU1hcFN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5oYXNDb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5hY3RpdmUgPT09IDAgJiYgdGhpcy5idWZmZXIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgTWVyZ2VNYXBTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlOZXh0ID0gZnVuY3Rpb24gKGlubmVyVmFsdWUpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KGlubmVyVmFsdWUpO1xuICAgIH07XG4gICAgTWVyZ2VNYXBTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGJ1ZmZlciA9IHRoaXMuYnVmZmVyO1xuICAgICAgICB0aGlzLmFjdGl2ZS0tO1xuICAgICAgICBpZiAoYnVmZmVyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX25leHQoYnVmZmVyLnNoaWZ0KCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYWN0aXZlID09PSAwICYmIHRoaXMuaGFzQ29tcGxldGVkKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBNZXJnZU1hcFN1YnNjcmliZXI7XG59KFNpbXBsZU91dGVyU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgTWVyZ2VNYXBTdWJzY3JpYmVyIH07XG5leHBvcnQgdmFyIGZsYXRNYXAgPSBtZXJnZU1hcDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lcmdlTWFwLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfbWVyZ2VNYXAgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgbWVyZ2VNYXAgfSBmcm9tICcuL21lcmdlTWFwJztcbmV4cG9ydCBmdW5jdGlvbiBtZXJnZU1hcFRvKGlubmVyT2JzZXJ2YWJsZSwgcmVzdWx0U2VsZWN0b3IsIGNvbmN1cnJlbnQpIHtcbiAgICBpZiAoY29uY3VycmVudCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGNvbmN1cnJlbnQgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcmVzdWx0U2VsZWN0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIG1lcmdlTWFwKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlubmVyT2JzZXJ2YWJsZTsgfSwgcmVzdWx0U2VsZWN0b3IsIGNvbmN1cnJlbnQpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHJlc3VsdFNlbGVjdG9yID09PSAnbnVtYmVyJykge1xuICAgICAgICBjb25jdXJyZW50ID0gcmVzdWx0U2VsZWN0b3I7XG4gICAgfVxuICAgIHJldHVybiBtZXJnZU1hcChmdW5jdGlvbiAoKSB7IHJldHVybiBpbm5lck9ic2VydmFibGU7IH0sIGNvbmN1cnJlbnQpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVyZ2VNYXBUby5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX2lubmVyU3Vic2NyaWJlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTaW1wbGVPdXRlclN1YnNjcmliZXIsIFNpbXBsZUlubmVyU3Vic2NyaWJlciwgaW5uZXJTdWJzY3JpYmUgfSBmcm9tICcuLi9pbm5lclN1YnNjcmliZSc7XG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VTY2FuKGFjY3VtdWxhdG9yLCBzZWVkLCBjb25jdXJyZW50KSB7XG4gICAgaWYgKGNvbmN1cnJlbnQgPT09IHZvaWQgMCkge1xuICAgICAgICBjb25jdXJyZW50ID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLmxpZnQobmV3IE1lcmdlU2Nhbk9wZXJhdG9yKGFjY3VtdWxhdG9yLCBzZWVkLCBjb25jdXJyZW50KSk7IH07XG59XG52YXIgTWVyZ2VTY2FuT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTWVyZ2VTY2FuT3BlcmF0b3IoYWNjdW11bGF0b3IsIHNlZWQsIGNvbmN1cnJlbnQpIHtcbiAgICAgICAgdGhpcy5hY2N1bXVsYXRvciA9IGFjY3VtdWxhdG9yO1xuICAgICAgICB0aGlzLnNlZWQgPSBzZWVkO1xuICAgICAgICB0aGlzLmNvbmN1cnJlbnQgPSBjb25jdXJyZW50O1xuICAgIH1cbiAgICBNZXJnZVNjYW5PcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IE1lcmdlU2NhblN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5hY2N1bXVsYXRvciwgdGhpcy5zZWVkLCB0aGlzLmNvbmN1cnJlbnQpKTtcbiAgICB9O1xuICAgIHJldHVybiBNZXJnZVNjYW5PcGVyYXRvcjtcbn0oKSk7XG5leHBvcnQgeyBNZXJnZVNjYW5PcGVyYXRvciB9O1xudmFyIE1lcmdlU2NhblN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoTWVyZ2VTY2FuU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNZXJnZVNjYW5TdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBhY2N1bXVsYXRvciwgYWNjLCBjb25jdXJyZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5hY2N1bXVsYXRvciA9IGFjY3VtdWxhdG9yO1xuICAgICAgICBfdGhpcy5hY2MgPSBhY2M7XG4gICAgICAgIF90aGlzLmNvbmN1cnJlbnQgPSBjb25jdXJyZW50O1xuICAgICAgICBfdGhpcy5oYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5oYXNDb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuYnVmZmVyID0gW107XG4gICAgICAgIF90aGlzLmFjdGl2ZSA9IDA7XG4gICAgICAgIF90aGlzLmluZGV4ID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBNZXJnZVNjYW5TdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5hY3RpdmUgPCB0aGlzLmNvbmN1cnJlbnQpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXgrKztcbiAgICAgICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgICAgICB2YXIgaXNoID0gdm9pZCAwO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgYWNjdW11bGF0b3IgPSB0aGlzLmFjY3VtdWxhdG9yO1xuICAgICAgICAgICAgICAgIGlzaCA9IGFjY3VtdWxhdG9yKHRoaXMuYWNjLCB2YWx1ZSwgaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVzdGluYXRpb24uZXJyb3IoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZSsrO1xuICAgICAgICAgICAgdGhpcy5faW5uZXJTdWIoaXNoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNZXJnZVNjYW5TdWJzY3JpYmVyLnByb3RvdHlwZS5faW5uZXJTdWIgPSBmdW5jdGlvbiAoaXNoKSB7XG4gICAgICAgIHZhciBpbm5lclN1YnNjcmliZXIgPSBuZXcgU2ltcGxlSW5uZXJTdWJzY3JpYmVyKHRoaXMpO1xuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICBkZXN0aW5hdGlvbi5hZGQoaW5uZXJTdWJzY3JpYmVyKTtcbiAgICAgICAgdmFyIGlubmVyU3Vic2NyaXB0aW9uID0gaW5uZXJTdWJzY3JpYmUoaXNoLCBpbm5lclN1YnNjcmliZXIpO1xuICAgICAgICBpZiAoaW5uZXJTdWJzY3JpcHRpb24gIT09IGlubmVyU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgZGVzdGluYXRpb24uYWRkKGlubmVyU3Vic2NyaXB0aW9uKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTWVyZ2VTY2FuU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmhhc0NvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSA9PT0gMCAmJiB0aGlzLmJ1ZmZlci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmhhc1ZhbHVlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh0aGlzLmFjYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgTWVyZ2VTY2FuU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dCA9IGZ1bmN0aW9uIChpbm5lclZhbHVlKSB7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIHRoaXMuYWNjID0gaW5uZXJWYWx1ZTtcbiAgICAgICAgdGhpcy5oYXNWYWx1ZSA9IHRydWU7XG4gICAgICAgIGRlc3RpbmF0aW9uLm5leHQoaW5uZXJWYWx1ZSk7XG4gICAgfTtcbiAgICBNZXJnZVNjYW5TdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGJ1ZmZlciA9IHRoaXMuYnVmZmVyO1xuICAgICAgICB0aGlzLmFjdGl2ZS0tO1xuICAgICAgICBpZiAoYnVmZmVyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX25leHQoYnVmZmVyLnNoaWZ0KCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYWN0aXZlID09PSAwICYmIHRoaXMuaGFzQ29tcGxldGVkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5oYXNWYWx1ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodGhpcy5hY2MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTWVyZ2VTY2FuU3Vic2NyaWJlcjtcbn0oU2ltcGxlT3V0ZXJTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBNZXJnZVNjYW5TdWJzY3JpYmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXJnZVNjYW4uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9yZWR1Y2UgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgcmVkdWNlIH0gZnJvbSAnLi9yZWR1Y2UnO1xuZXhwb3J0IGZ1bmN0aW9uIG1pbihjb21wYXJlcikge1xuICAgIHZhciBtaW4gPSAodHlwZW9mIGNvbXBhcmVyID09PSAnZnVuY3Rpb24nKVxuICAgICAgICA/IGZ1bmN0aW9uICh4LCB5KSB7IHJldHVybiBjb21wYXJlcih4LCB5KSA8IDAgPyB4IDogeTsgfVxuICAgICAgICA6IGZ1bmN0aW9uICh4LCB5KSB7IHJldHVybiB4IDwgeSA/IHggOiB5OyB9O1xuICAgIHJldHVybiByZWR1Y2UobWluKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1pbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX29ic2VydmFibGVfQ29ubmVjdGFibGVPYnNlcnZhYmxlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGNvbm5lY3RhYmxlT2JzZXJ2YWJsZURlc2NyaXB0b3IgfSBmcm9tICcuLi9vYnNlcnZhYmxlL0Nvbm5lY3RhYmxlT2JzZXJ2YWJsZSc7XG5leHBvcnQgZnVuY3Rpb24gbXVsdGljYXN0KHN1YmplY3RPclN1YmplY3RGYWN0b3J5LCBzZWxlY3Rvcikge1xuICAgIHJldHVybiBmdW5jdGlvbiBtdWx0aWNhc3RPcGVyYXRvckZ1bmN0aW9uKHNvdXJjZSkge1xuICAgICAgICB2YXIgc3ViamVjdEZhY3Rvcnk7XG4gICAgICAgIGlmICh0eXBlb2Ygc3ViamVjdE9yU3ViamVjdEZhY3RvcnkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHN1YmplY3RGYWN0b3J5ID0gc3ViamVjdE9yU3ViamVjdEZhY3Rvcnk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdWJqZWN0RmFjdG9yeSA9IGZ1bmN0aW9uIHN1YmplY3RGYWN0b3J5KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdWJqZWN0T3JTdWJqZWN0RmFjdG9yeTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBzZWxlY3RvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBNdWx0aWNhc3RPcGVyYXRvcihzdWJqZWN0RmFjdG9yeSwgc2VsZWN0b3IpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29ubmVjdGFibGUgPSBPYmplY3QuY3JlYXRlKHNvdXJjZSwgY29ubmVjdGFibGVPYnNlcnZhYmxlRGVzY3JpcHRvcik7XG4gICAgICAgIGNvbm5lY3RhYmxlLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgY29ubmVjdGFibGUuc3ViamVjdEZhY3RvcnkgPSBzdWJqZWN0RmFjdG9yeTtcbiAgICAgICAgcmV0dXJuIGNvbm5lY3RhYmxlO1xuICAgIH07XG59XG52YXIgTXVsdGljYXN0T3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTXVsdGljYXN0T3BlcmF0b3Ioc3ViamVjdEZhY3RvcnksIHNlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMuc3ViamVjdEZhY3RvcnkgPSBzdWJqZWN0RmFjdG9yeTtcbiAgICAgICAgdGhpcy5zZWxlY3RvciA9IHNlbGVjdG9yO1xuICAgIH1cbiAgICBNdWx0aWNhc3RPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgdmFyIHNlbGVjdG9yID0gdGhpcy5zZWxlY3RvcjtcbiAgICAgICAgdmFyIHN1YmplY3QgPSB0aGlzLnN1YmplY3RGYWN0b3J5KCk7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSBzZWxlY3RvcihzdWJqZWN0KS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgIHN1YnNjcmlwdGlvbi5hZGQoc291cmNlLnN1YnNjcmliZShzdWJqZWN0KSk7XG4gICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgfTtcbiAgICByZXR1cm4gTXVsdGljYXN0T3BlcmF0b3I7XG59KCkpO1xuZXhwb3J0IHsgTXVsdGljYXN0T3BlcmF0b3IgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW11bHRpY2FzdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIsX05vdGlmaWNhdGlvbiBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgTm90aWZpY2F0aW9uIH0gZnJvbSAnLi4vTm90aWZpY2F0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiBvYnNlcnZlT24oc2NoZWR1bGVyLCBkZWxheSkge1xuICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGRlbGF5ID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG9ic2VydmVPbk9wZXJhdG9yRnVuY3Rpb24oc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2UubGlmdChuZXcgT2JzZXJ2ZU9uT3BlcmF0b3Ioc2NoZWR1bGVyLCBkZWxheSkpO1xuICAgIH07XG59XG52YXIgT2JzZXJ2ZU9uT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT2JzZXJ2ZU9uT3BlcmF0b3Ioc2NoZWR1bGVyLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2NoZWR1bGVyID0gc2NoZWR1bGVyO1xuICAgICAgICB0aGlzLmRlbGF5ID0gZGVsYXk7XG4gICAgfVxuICAgIE9ic2VydmVPbk9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgT2JzZXJ2ZU9uU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLnNjaGVkdWxlciwgdGhpcy5kZWxheSkpO1xuICAgIH07XG4gICAgcmV0dXJuIE9ic2VydmVPbk9wZXJhdG9yO1xufSgpKTtcbmV4cG9ydCB7IE9ic2VydmVPbk9wZXJhdG9yIH07XG52YXIgT2JzZXJ2ZU9uU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhPYnNlcnZlT25TdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE9ic2VydmVPblN1YnNjcmliZXIoZGVzdGluYXRpb24sIHNjaGVkdWxlciwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc2NoZWR1bGVyID0gc2NoZWR1bGVyO1xuICAgICAgICBfdGhpcy5kZWxheSA9IGRlbGF5O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9ic2VydmVPblN1YnNjcmliZXIuZGlzcGF0Y2ggPSBmdW5jdGlvbiAoYXJnKSB7XG4gICAgICAgIHZhciBub3RpZmljYXRpb24gPSBhcmcubm90aWZpY2F0aW9uLCBkZXN0aW5hdGlvbiA9IGFyZy5kZXN0aW5hdGlvbjtcbiAgICAgICAgbm90aWZpY2F0aW9uLm9ic2VydmUoZGVzdGluYXRpb24pO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBPYnNlcnZlT25TdWJzY3JpYmVyLnByb3RvdHlwZS5zY2hlZHVsZU1lc3NhZ2UgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uKSB7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGRlc3RpbmF0aW9uLmFkZCh0aGlzLnNjaGVkdWxlci5zY2hlZHVsZShPYnNlcnZlT25TdWJzY3JpYmVyLmRpc3BhdGNoLCB0aGlzLmRlbGF5LCBuZXcgT2JzZXJ2ZU9uTWVzc2FnZShub3RpZmljYXRpb24sIHRoaXMuZGVzdGluYXRpb24pKSk7XG4gICAgfTtcbiAgICBPYnNlcnZlT25TdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLnNjaGVkdWxlTWVzc2FnZShOb3RpZmljYXRpb24uY3JlYXRlTmV4dCh2YWx1ZSkpO1xuICAgIH07XG4gICAgT2JzZXJ2ZU9uU3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB0aGlzLnNjaGVkdWxlTWVzc2FnZShOb3RpZmljYXRpb24uY3JlYXRlRXJyb3IoZXJyKSk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIE9ic2VydmVPblN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU1lc3NhZ2UoTm90aWZpY2F0aW9uLmNyZWF0ZUNvbXBsZXRlKCkpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gT2JzZXJ2ZU9uU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgT2JzZXJ2ZU9uU3Vic2NyaWJlciB9O1xudmFyIE9ic2VydmVPbk1lc3NhZ2UgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT2JzZXJ2ZU9uTWVzc2FnZShub3RpZmljYXRpb24sIGRlc3RpbmF0aW9uKSB7XG4gICAgICAgIHRoaXMubm90aWZpY2F0aW9uID0gbm90aWZpY2F0aW9uO1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uID0gZGVzdGluYXRpb247XG4gICAgfVxuICAgIHJldHVybiBPYnNlcnZlT25NZXNzYWdlO1xufSgpKTtcbmV4cG9ydCB7IE9ic2VydmVPbk1lc3NhZ2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9ic2VydmVPbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX29ic2VydmFibGVfZnJvbSxfdXRpbF9pc0FycmF5LF9pbm5lclN1YnNjcmliZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgZnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvZnJvbSc7XG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vdXRpbC9pc0FycmF5JztcbmltcG9ydCB7IFNpbXBsZU91dGVyU3Vic2NyaWJlciwgU2ltcGxlSW5uZXJTdWJzY3JpYmVyLCBpbm5lclN1YnNjcmliZSB9IGZyb20gJy4uL2lubmVyU3Vic2NyaWJlJztcbmV4cG9ydCBmdW5jdGlvbiBvbkVycm9yUmVzdW1lTmV4dCgpIHtcbiAgICB2YXIgbmV4dFNvdXJjZXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBuZXh0U291cmNlc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICBpZiAobmV4dFNvdXJjZXMubGVuZ3RoID09PSAxICYmIGlzQXJyYXkobmV4dFNvdXJjZXNbMF0pKSB7XG4gICAgICAgIG5leHRTb3VyY2VzID0gbmV4dFNvdXJjZXNbMF07XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UubGlmdChuZXcgT25FcnJvclJlc3VtZU5leHRPcGVyYXRvcihuZXh0U291cmNlcykpOyB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIG9uRXJyb3JSZXN1bWVOZXh0U3RhdGljKCkge1xuICAgIHZhciBuZXh0U291cmNlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIG5leHRTb3VyY2VzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciBzb3VyY2UgPSB1bmRlZmluZWQ7XG4gICAgaWYgKG5leHRTb3VyY2VzLmxlbmd0aCA9PT0gMSAmJiBpc0FycmF5KG5leHRTb3VyY2VzWzBdKSkge1xuICAgICAgICBuZXh0U291cmNlcyA9IG5leHRTb3VyY2VzWzBdO1xuICAgIH1cbiAgICBzb3VyY2UgPSBuZXh0U291cmNlcy5zaGlmdCgpO1xuICAgIHJldHVybiBmcm9tKHNvdXJjZSkubGlmdChuZXcgT25FcnJvclJlc3VtZU5leHRPcGVyYXRvcihuZXh0U291cmNlcykpO1xufVxudmFyIE9uRXJyb3JSZXN1bWVOZXh0T3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT25FcnJvclJlc3VtZU5leHRPcGVyYXRvcihuZXh0U291cmNlcykge1xuICAgICAgICB0aGlzLm5leHRTb3VyY2VzID0gbmV4dFNvdXJjZXM7XG4gICAgfVxuICAgIE9uRXJyb3JSZXN1bWVOZXh0T3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBPbkVycm9yUmVzdW1lTmV4dFN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5uZXh0U291cmNlcykpO1xuICAgIH07XG4gICAgcmV0dXJuIE9uRXJyb3JSZXN1bWVOZXh0T3BlcmF0b3I7XG59KCkpO1xudmFyIE9uRXJyb3JSZXN1bWVOZXh0U3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhPbkVycm9yUmVzdW1lTmV4dFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gT25FcnJvclJlc3VtZU5leHRTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBuZXh0U291cmNlcykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBkZXN0aW5hdGlvbjtcbiAgICAgICAgX3RoaXMubmV4dFNvdXJjZXMgPSBuZXh0U291cmNlcztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPbkVycm9yUmVzdW1lTmV4dFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN1YnNjcmliZVRvTmV4dFNvdXJjZSgpO1xuICAgIH07XG4gICAgT25FcnJvclJlc3VtZU5leHRTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVUb05leHRTb3VyY2UoKTtcbiAgICB9O1xuICAgIE9uRXJyb3JSZXN1bWVOZXh0U3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB0aGlzLnN1YnNjcmliZVRvTmV4dFNvdXJjZSgpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBPbkVycm9yUmVzdW1lTmV4dFN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVUb05leHRTb3VyY2UoKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgT25FcnJvclJlc3VtZU5leHRTdWJzY3JpYmVyLnByb3RvdHlwZS5zdWJzY3JpYmVUb05leHRTb3VyY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBuZXh0ID0gdGhpcy5uZXh0U291cmNlcy5zaGlmdCgpO1xuICAgICAgICBpZiAoISFuZXh0KSB7XG4gICAgICAgICAgICB2YXIgaW5uZXJTdWJzY3JpYmVyID0gbmV3IFNpbXBsZUlubmVyU3Vic2NyaWJlcih0aGlzKTtcbiAgICAgICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgICAgICBkZXN0aW5hdGlvbi5hZGQoaW5uZXJTdWJzY3JpYmVyKTtcbiAgICAgICAgICAgIHZhciBpbm5lclN1YnNjcmlwdGlvbiA9IGlubmVyU3Vic2NyaWJlKG5leHQsIGlubmVyU3Vic2NyaWJlcik7XG4gICAgICAgICAgICBpZiAoaW5uZXJTdWJzY3JpcHRpb24gIT09IGlubmVyU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uLmFkZChpbm5lclN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBPbkVycm9yUmVzdW1lTmV4dFN1YnNjcmliZXI7XG59KFNpbXBsZU91dGVyU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b25FcnJvclJlc3VtZU5leHQuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gcGFpcndpc2UoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBQYWlyd2lzZU9wZXJhdG9yKCkpOyB9O1xufVxudmFyIFBhaXJ3aXNlT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUGFpcndpc2VPcGVyYXRvcigpIHtcbiAgICB9XG4gICAgUGFpcndpc2VPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IFBhaXJ3aXNlU3Vic2NyaWJlcihzdWJzY3JpYmVyKSk7XG4gICAgfTtcbiAgICByZXR1cm4gUGFpcndpc2VPcGVyYXRvcjtcbn0oKSk7XG52YXIgUGFpcndpc2VTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFBhaXJ3aXNlU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBQYWlyd2lzZVN1YnNjcmliZXIoZGVzdGluYXRpb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmhhc1ByZXYgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBQYWlyd2lzZVN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBwYWlyO1xuICAgICAgICBpZiAodGhpcy5oYXNQcmV2KSB7XG4gICAgICAgICAgICBwYWlyID0gW3RoaXMucHJldiwgdmFsdWVdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5oYXNQcmV2ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnByZXYgPSB2YWx1ZTtcbiAgICAgICAgaWYgKHBhaXIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChwYWlyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFBhaXJ3aXNlU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFpcndpc2UuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF91dGlsX25vdCxfZmlsdGVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IG5vdCB9IGZyb20gJy4uL3V0aWwvbm90JztcbmltcG9ydCB7IGZpbHRlciB9IGZyb20gJy4vZmlsdGVyJztcbmV4cG9ydCBmdW5jdGlvbiBwYXJ0aXRpb24ocHJlZGljYXRlLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIGZpbHRlcihwcmVkaWNhdGUsIHRoaXNBcmcpKHNvdXJjZSksXG4gICAgICAgICAgICBmaWx0ZXIobm90KHByZWRpY2F0ZSwgdGhpc0FyZykpKHNvdXJjZSlcbiAgICAgICAgXTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFydGl0aW9uLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfbWFwIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IG1hcCB9IGZyb20gJy4vbWFwJztcbmV4cG9ydCBmdW5jdGlvbiBwbHVjaygpIHtcbiAgICB2YXIgcHJvcGVydGllcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHByb3BlcnRpZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIGxlbmd0aCA9IHByb3BlcnRpZXMubGVuZ3RoO1xuICAgIGlmIChsZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdsaXN0IG9mIHByb3BlcnRpZXMgY2Fubm90IGJlIGVtcHR5LicpO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gbWFwKHBsdWNrZXIocHJvcGVydGllcywgbGVuZ3RoKSkoc291cmNlKTsgfTtcbn1cbmZ1bmN0aW9uIHBsdWNrZXIocHJvcHMsIGxlbmd0aCkge1xuICAgIHZhciBtYXBwZXIgPSBmdW5jdGlvbiAoeCkge1xuICAgICAgICB2YXIgY3VycmVudFByb3AgPSB4O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcCA9IGN1cnJlbnRQcm9wICE9IG51bGwgPyBjdXJyZW50UHJvcFtwcm9wc1tpXV0gOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAocCAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFByb3AgPSBwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VycmVudFByb3A7XG4gICAgfTtcbiAgICByZXR1cm4gbWFwcGVyO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGx1Y2suanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9TdWJqZWN0LF9tdWx0aWNhc3QgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJy4uL1N1YmplY3QnO1xuaW1wb3J0IHsgbXVsdGljYXN0IH0gZnJvbSAnLi9tdWx0aWNhc3QnO1xuZXhwb3J0IGZ1bmN0aW9uIHB1Ymxpc2goc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gc2VsZWN0b3IgP1xuICAgICAgICBtdWx0aWNhc3QoZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IFN1YmplY3QoKTsgfSwgc2VsZWN0b3IpIDpcbiAgICAgICAgbXVsdGljYXN0KG5ldyBTdWJqZWN0KCkpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHVibGlzaC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX0JlaGF2aW9yU3ViamVjdCxfbXVsdGljYXN0IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCB9IGZyb20gJy4uL0JlaGF2aW9yU3ViamVjdCc7XG5pbXBvcnQgeyBtdWx0aWNhc3QgfSBmcm9tICcuL211bHRpY2FzdCc7XG5leHBvcnQgZnVuY3Rpb24gcHVibGlzaEJlaGF2aW9yKHZhbHVlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIG11bHRpY2FzdChuZXcgQmVoYXZpb3JTdWJqZWN0KHZhbHVlKSkoc291cmNlKTsgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXB1Ymxpc2hCZWhhdmlvci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX0FzeW5jU3ViamVjdCxfbXVsdGljYXN0IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IEFzeW5jU3ViamVjdCB9IGZyb20gJy4uL0FzeW5jU3ViamVjdCc7XG5pbXBvcnQgeyBtdWx0aWNhc3QgfSBmcm9tICcuL211bHRpY2FzdCc7XG5leHBvcnQgZnVuY3Rpb24gcHVibGlzaExhc3QoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIG11bHRpY2FzdChuZXcgQXN5bmNTdWJqZWN0KCkpKHNvdXJjZSk7IH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wdWJsaXNoTGFzdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX1JlcGxheVN1YmplY3QsX211bHRpY2FzdCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBSZXBsYXlTdWJqZWN0IH0gZnJvbSAnLi4vUmVwbGF5U3ViamVjdCc7XG5pbXBvcnQgeyBtdWx0aWNhc3QgfSBmcm9tICcuL211bHRpY2FzdCc7XG5leHBvcnQgZnVuY3Rpb24gcHVibGlzaFJlcGxheShidWZmZXJTaXplLCB3aW5kb3dUaW1lLCBzZWxlY3Rvck9yU2NoZWR1bGVyLCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoc2VsZWN0b3JPclNjaGVkdWxlciAmJiB0eXBlb2Ygc2VsZWN0b3JPclNjaGVkdWxlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBzY2hlZHVsZXIgPSBzZWxlY3Rvck9yU2NoZWR1bGVyO1xuICAgIH1cbiAgICB2YXIgc2VsZWN0b3IgPSB0eXBlb2Ygc2VsZWN0b3JPclNjaGVkdWxlciA9PT0gJ2Z1bmN0aW9uJyA/IHNlbGVjdG9yT3JTY2hlZHVsZXIgOiB1bmRlZmluZWQ7XG4gICAgdmFyIHN1YmplY3QgPSBuZXcgUmVwbGF5U3ViamVjdChidWZmZXJTaXplLCB3aW5kb3dUaW1lLCBzY2hlZHVsZXIpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBtdWx0aWNhc3QoZnVuY3Rpb24gKCkgeyByZXR1cm4gc3ViamVjdDsgfSwgc2VsZWN0b3IpKHNvdXJjZSk7IH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wdWJsaXNoUmVwbGF5LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfdXRpbF9pc0FycmF5LF9vYnNlcnZhYmxlX3JhY2UgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheSc7XG5pbXBvcnQgeyByYWNlIGFzIHJhY2VTdGF0aWMgfSBmcm9tICcuLi9vYnNlcnZhYmxlL3JhY2UnO1xuZXhwb3J0IGZ1bmN0aW9uIHJhY2UoKSB7XG4gICAgdmFyIG9ic2VydmFibGVzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgb2JzZXJ2YWJsZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHJhY2VPcGVyYXRvckZ1bmN0aW9uKHNvdXJjZSkge1xuICAgICAgICBpZiAob2JzZXJ2YWJsZXMubGVuZ3RoID09PSAxICYmIGlzQXJyYXkob2JzZXJ2YWJsZXNbMF0pKSB7XG4gICAgICAgICAgICBvYnNlcnZhYmxlcyA9IG9ic2VydmFibGVzWzBdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzb3VyY2UubGlmdC5jYWxsKHJhY2VTdGF0aWMuYXBwbHkodm9pZCAwLCBbc291cmNlXS5jb25jYXQob2JzZXJ2YWJsZXMpKSk7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJhY2UuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9zY2FuLF90YWtlTGFzdCxfZGVmYXVsdElmRW1wdHksX3V0aWxfcGlwZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBzY2FuIH0gZnJvbSAnLi9zY2FuJztcbmltcG9ydCB7IHRha2VMYXN0IH0gZnJvbSAnLi90YWtlTGFzdCc7XG5pbXBvcnQgeyBkZWZhdWx0SWZFbXB0eSB9IGZyb20gJy4vZGVmYXVsdElmRW1wdHknO1xuaW1wb3J0IHsgcGlwZSB9IGZyb20gJy4uL3V0aWwvcGlwZSc7XG5leHBvcnQgZnVuY3Rpb24gcmVkdWNlKGFjY3VtdWxhdG9yLCBzZWVkKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gcmVkdWNlT3BlcmF0b3JGdW5jdGlvbldpdGhTZWVkKHNvdXJjZSkge1xuICAgICAgICAgICAgcmV0dXJuIHBpcGUoc2NhbihhY2N1bXVsYXRvciwgc2VlZCksIHRha2VMYXN0KDEpLCBkZWZhdWx0SWZFbXB0eShzZWVkKSkoc291cmNlKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHJlZHVjZU9wZXJhdG9yRnVuY3Rpb24oc291cmNlKSB7XG4gICAgICAgIHJldHVybiBwaXBlKHNjYW4oZnVuY3Rpb24gKGFjYywgdmFsdWUsIGluZGV4KSB7IHJldHVybiBhY2N1bXVsYXRvcihhY2MsIHZhbHVlLCBpbmRleCArIDEpOyB9KSwgdGFrZUxhc3QoMSkpKHNvdXJjZSk7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlZHVjZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiByZWZDb3VudCgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gcmVmQ291bnRPcGVyYXRvckZ1bmN0aW9uKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IFJlZkNvdW50T3BlcmF0b3Ioc291cmNlKSk7XG4gICAgfTtcbn1cbnZhciBSZWZDb3VudE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlZkNvdW50T3BlcmF0b3IoY29ubmVjdGFibGUpIHtcbiAgICAgICAgdGhpcy5jb25uZWN0YWJsZSA9IGNvbm5lY3RhYmxlO1xuICAgIH1cbiAgICBSZWZDb3VudE9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICB2YXIgY29ubmVjdGFibGUgPSB0aGlzLmNvbm5lY3RhYmxlO1xuICAgICAgICBjb25uZWN0YWJsZS5fcmVmQ291bnQrKztcbiAgICAgICAgdmFyIHJlZkNvdW50ZXIgPSBuZXcgUmVmQ291bnRTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGNvbm5lY3RhYmxlKTtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IHNvdXJjZS5zdWJzY3JpYmUocmVmQ291bnRlcik7XG4gICAgICAgIGlmICghcmVmQ291bnRlci5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJlZkNvdW50ZXIuY29ubmVjdGlvbiA9IGNvbm5lY3RhYmxlLmNvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgIH07XG4gICAgcmV0dXJuIFJlZkNvdW50T3BlcmF0b3I7XG59KCkpO1xudmFyIFJlZkNvdW50U3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhSZWZDb3VudFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUmVmQ291bnRTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBjb25uZWN0YWJsZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuY29ubmVjdGFibGUgPSBjb25uZWN0YWJsZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBSZWZDb3VudFN1YnNjcmliZXIucHJvdG90eXBlLl91bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbm5lY3RhYmxlID0gdGhpcy5jb25uZWN0YWJsZTtcbiAgICAgICAgaWYgKCFjb25uZWN0YWJsZSkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbm5lY3RhYmxlID0gbnVsbDtcbiAgICAgICAgdmFyIHJlZkNvdW50ID0gY29ubmVjdGFibGUuX3JlZkNvdW50O1xuICAgICAgICBpZiAocmVmQ291bnQgPD0gMCkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25uZWN0YWJsZS5fcmVmQ291bnQgPSByZWZDb3VudCAtIDE7XG4gICAgICAgIGlmIChyZWZDb3VudCA+IDEpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbm5lY3Rpb24gPSB0aGlzLmNvbm5lY3Rpb247XG4gICAgICAgIHZhciBzaGFyZWRDb25uZWN0aW9uID0gY29ubmVjdGFibGUuX2Nvbm5lY3Rpb247XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgIGlmIChzaGFyZWRDb25uZWN0aW9uICYmICghY29ubmVjdGlvbiB8fCBzaGFyZWRDb25uZWN0aW9uID09PSBjb25uZWN0aW9uKSkge1xuICAgICAgICAgICAgc2hhcmVkQ29ubmVjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gUmVmQ291bnRTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWZDb3VudC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIsX29ic2VydmFibGVfZW1wdHkgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IGVtcHR5IH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9lbXB0eSc7XG5leHBvcnQgZnVuY3Rpb24gcmVwZWF0KGNvdW50KSB7XG4gICAgaWYgKGNvdW50ID09PSB2b2lkIDApIHtcbiAgICAgICAgY291bnQgPSAtMTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgaWYgKGNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZW1wdHkoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb3VudCA8IDApIHtcbiAgICAgICAgICAgIHJldHVybiBzb3VyY2UubGlmdChuZXcgUmVwZWF0T3BlcmF0b3IoLTEsIHNvdXJjZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBSZXBlYXRPcGVyYXRvcihjb3VudCAtIDEsIHNvdXJjZSkpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbnZhciBSZXBlYXRPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXBlYXRPcGVyYXRvcihjb3VudCwgc291cmNlKSB7XG4gICAgICAgIHRoaXMuY291bnQgPSBjb3VudDtcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgfVxuICAgIFJlcGVhdE9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgUmVwZWF0U3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLmNvdW50LCB0aGlzLnNvdXJjZSkpO1xuICAgIH07XG4gICAgcmV0dXJuIFJlcGVhdE9wZXJhdG9yO1xufSgpKTtcbnZhciBSZXBlYXRTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFJlcGVhdFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUmVwZWF0U3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgY291bnQsIHNvdXJjZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuY291bnQgPSBjb3VudDtcbiAgICAgICAgX3RoaXMuc291cmNlID0gc291cmNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFJlcGVhdFN1YnNjcmliZXIucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSB0aGlzLCBzb3VyY2UgPSBfYS5zb3VyY2UsIGNvdW50ID0gX2EuY291bnQ7XG4gICAgICAgICAgICBpZiAoY291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5jb21wbGV0ZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY291bnQgPiAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY291bnQgPSBjb3VudCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKHRoaXMuX3Vuc3Vic2NyaWJlQW5kUmVjeWNsZSgpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFJlcGVhdFN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlcGVhdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YmplY3QsX2lubmVyU3Vic2NyaWJlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAnLi4vU3ViamVjdCc7XG5pbXBvcnQgeyBTaW1wbGVPdXRlclN1YnNjcmliZXIsIGlubmVyU3Vic2NyaWJlLCBTaW1wbGVJbm5lclN1YnNjcmliZXIgfSBmcm9tICcuLi9pbm5lclN1YnNjcmliZSc7XG5leHBvcnQgZnVuY3Rpb24gcmVwZWF0V2hlbihub3RpZmllcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UubGlmdChuZXcgUmVwZWF0V2hlbk9wZXJhdG9yKG5vdGlmaWVyKSk7IH07XG59XG52YXIgUmVwZWF0V2hlbk9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlcGVhdFdoZW5PcGVyYXRvcihub3RpZmllcikge1xuICAgICAgICB0aGlzLm5vdGlmaWVyID0gbm90aWZpZXI7XG4gICAgfVxuICAgIFJlcGVhdFdoZW5PcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IFJlcGVhdFdoZW5TdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMubm90aWZpZXIsIHNvdXJjZSkpO1xuICAgIH07XG4gICAgcmV0dXJuIFJlcGVhdFdoZW5PcGVyYXRvcjtcbn0oKSk7XG52YXIgUmVwZWF0V2hlblN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoUmVwZWF0V2hlblN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUmVwZWF0V2hlblN1YnNjcmliZXIoZGVzdGluYXRpb24sIG5vdGlmaWVyLCBzb3VyY2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLm5vdGlmaWVyID0gbm90aWZpZXI7XG4gICAgICAgIF90aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgX3RoaXMuc291cmNlSXNCZWluZ1N1YnNjcmliZWRUbyA9IHRydWU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgUmVwZWF0V2hlblN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc291cmNlSXNCZWluZ1N1YnNjcmliZWRUbyA9IHRydWU7XG4gICAgICAgIHRoaXMuc291cmNlLnN1YnNjcmliZSh0aGlzKTtcbiAgICB9O1xuICAgIFJlcGVhdFdoZW5TdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc291cmNlSXNCZWluZ1N1YnNjcmliZWRUbyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmNvbXBsZXRlLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlcGVhdFdoZW5TdWJzY3JpYmVyLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zb3VyY2VJc0JlaW5nU3Vic2NyaWJlZFRvID0gZmFsc2U7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5yZXRyaWVzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpYmVUb1JldHJpZXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5yZXRyaWVzU3Vic2NyaXB0aW9uIHx8IHRoaXMucmV0cmllc1N1YnNjcmlwdGlvbi5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5jb21wbGV0ZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdW5zdWJzY3JpYmVBbmRSZWN5Y2xlKCk7XG4gICAgICAgICAgICB0aGlzLm5vdGlmaWNhdGlvbnMubmV4dCh1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZXBlYXRXaGVuU3Vic2NyaWJlci5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBub3RpZmljYXRpb25zID0gX2Eubm90aWZpY2F0aW9ucywgcmV0cmllc1N1YnNjcmlwdGlvbiA9IF9hLnJldHJpZXNTdWJzY3JpcHRpb247XG4gICAgICAgIGlmIChub3RpZmljYXRpb25zKSB7XG4gICAgICAgICAgICBub3RpZmljYXRpb25zLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB0aGlzLm5vdGlmaWNhdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJldHJpZXNTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHJldHJpZXNTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIHRoaXMucmV0cmllc1N1YnNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJldHJpZXMgPSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBSZXBlYXRXaGVuU3Vic2NyaWJlci5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlQW5kUmVjeWNsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF91bnN1YnNjcmliZSA9IHRoaXMuX3Vuc3Vic2NyaWJlO1xuICAgICAgICB0aGlzLl91bnN1YnNjcmliZSA9IG51bGw7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlQW5kUmVjeWNsZS5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLl91bnN1YnNjcmliZSA9IF91bnN1YnNjcmliZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBSZXBlYXRXaGVuU3Vic2NyaWJlci5wcm90b3R5cGUuc3Vic2NyaWJlVG9SZXRyaWVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLm5vdGlmaWNhdGlvbnMgPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICB2YXIgcmV0cmllcztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBub3RpZmllciA9IHRoaXMubm90aWZpZXI7XG4gICAgICAgICAgICByZXRyaWVzID0gbm90aWZpZXIodGhpcy5ub3RpZmljYXRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuY29tcGxldGUuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJldHJpZXMgPSByZXRyaWVzO1xuICAgICAgICB0aGlzLnJldHJpZXNTdWJzY3JpcHRpb24gPSBpbm5lclN1YnNjcmliZShyZXRyaWVzLCBuZXcgU2ltcGxlSW5uZXJTdWJzY3JpYmVyKHRoaXMpKTtcbiAgICB9O1xuICAgIHJldHVybiBSZXBlYXRXaGVuU3Vic2NyaWJlcjtcbn0oU2ltcGxlT3V0ZXJTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXBlYXRXaGVuLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIHJldHJ5KGNvdW50KSB7XG4gICAgaWYgKGNvdW50ID09PSB2b2lkIDApIHtcbiAgICAgICAgY291bnQgPSAtMTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBSZXRyeU9wZXJhdG9yKGNvdW50LCBzb3VyY2UpKTsgfTtcbn1cbnZhciBSZXRyeU9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJldHJ5T3BlcmF0b3IoY291bnQsIHNvdXJjZSkge1xuICAgICAgICB0aGlzLmNvdW50ID0gY291bnQ7XG4gICAgICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgIH1cbiAgICBSZXRyeU9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgUmV0cnlTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMuY291bnQsIHRoaXMuc291cmNlKSk7XG4gICAgfTtcbiAgICByZXR1cm4gUmV0cnlPcGVyYXRvcjtcbn0oKSk7XG52YXIgUmV0cnlTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFJldHJ5U3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBSZXRyeVN1YnNjcmliZXIoZGVzdGluYXRpb24sIGNvdW50LCBzb3VyY2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmNvdW50ID0gY291bnQ7XG4gICAgICAgIF90aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBSZXRyeVN1YnNjcmliZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSB0aGlzLCBzb3VyY2UgPSBfYS5zb3VyY2UsIGNvdW50ID0gX2EuY291bnQ7XG4gICAgICAgICAgICBpZiAoY291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5lcnJvci5jYWxsKHRoaXMsIGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjb3VudCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3VudCA9IGNvdW50IC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNvdXJjZS5zdWJzY3JpYmUodGhpcy5fdW5zdWJzY3JpYmVBbmRSZWN5Y2xlKCkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gUmV0cnlTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXRyeS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YmplY3QsX2lubmVyU3Vic2NyaWJlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAnLi4vU3ViamVjdCc7XG5pbXBvcnQgeyBTaW1wbGVPdXRlclN1YnNjcmliZXIsIGlubmVyU3Vic2NyaWJlLCBTaW1wbGVJbm5lclN1YnNjcmliZXIgfSBmcm9tICcuLi9pbm5lclN1YnNjcmliZSc7XG5leHBvcnQgZnVuY3Rpb24gcmV0cnlXaGVuKG5vdGlmaWVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBSZXRyeVdoZW5PcGVyYXRvcihub3RpZmllciwgc291cmNlKSk7IH07XG59XG52YXIgUmV0cnlXaGVuT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmV0cnlXaGVuT3BlcmF0b3Iobm90aWZpZXIsIHNvdXJjZSkge1xuICAgICAgICB0aGlzLm5vdGlmaWVyID0gbm90aWZpZXI7XG4gICAgICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgIH1cbiAgICBSZXRyeVdoZW5PcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IFJldHJ5V2hlblN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5ub3RpZmllciwgdGhpcy5zb3VyY2UpKTtcbiAgICB9O1xuICAgIHJldHVybiBSZXRyeVdoZW5PcGVyYXRvcjtcbn0oKSk7XG52YXIgUmV0cnlXaGVuU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhSZXRyeVdoZW5TdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJldHJ5V2hlblN1YnNjcmliZXIoZGVzdGluYXRpb24sIG5vdGlmaWVyLCBzb3VyY2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLm5vdGlmaWVyID0gbm90aWZpZXI7XG4gICAgICAgIF90aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBSZXRyeVdoZW5TdWJzY3JpYmVyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdmFyIGVycm9ycyA9IHRoaXMuZXJyb3JzO1xuICAgICAgICAgICAgdmFyIHJldHJpZXMgPSB0aGlzLnJldHJpZXM7XG4gICAgICAgICAgICB2YXIgcmV0cmllc1N1YnNjcmlwdGlvbiA9IHRoaXMucmV0cmllc1N1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgIGlmICghcmV0cmllcykge1xuICAgICAgICAgICAgICAgIGVycm9ycyA9IG5ldyBTdWJqZWN0KCk7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5vdGlmaWVyID0gdGhpcy5ub3RpZmllcjtcbiAgICAgICAgICAgICAgICAgICAgcmV0cmllcyA9IG5vdGlmaWVyKGVycm9ycyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmVycm9yLmNhbGwodGhpcywgZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHJpZXNTdWJzY3JpcHRpb24gPSBpbm5lclN1YnNjcmliZShyZXRyaWVzLCBuZXcgU2ltcGxlSW5uZXJTdWJzY3JpYmVyKHRoaXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHRoaXMucmV0cmllc1N1YnNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3Vuc3Vic2NyaWJlQW5kUmVjeWNsZSgpO1xuICAgICAgICAgICAgdGhpcy5lcnJvcnMgPSBlcnJvcnM7XG4gICAgICAgICAgICB0aGlzLnJldHJpZXMgPSByZXRyaWVzO1xuICAgICAgICAgICAgdGhpcy5yZXRyaWVzU3Vic2NyaXB0aW9uID0gcmV0cmllc1N1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgIGVycm9ycy5uZXh0KGVycik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJldHJ5V2hlblN1YnNjcmliZXIucHJvdG90eXBlLl91bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgZXJyb3JzID0gX2EuZXJyb3JzLCByZXRyaWVzU3Vic2NyaXB0aW9uID0gX2EucmV0cmllc1N1YnNjcmlwdGlvbjtcbiAgICAgICAgaWYgKGVycm9ycykge1xuICAgICAgICAgICAgZXJyb3JzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB0aGlzLmVycm9ycyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmV0cmllc1N1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgcmV0cmllc1N1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgdGhpcy5yZXRyaWVzU3Vic2NyaXB0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmV0cmllcyA9IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIFJldHJ5V2hlblN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdW5zdWJzY3JpYmUgPSB0aGlzLl91bnN1YnNjcmliZTtcbiAgICAgICAgdGhpcy5fdW5zdWJzY3JpYmUgPSBudWxsO1xuICAgICAgICB0aGlzLl91bnN1YnNjcmliZUFuZFJlY3ljbGUoKTtcbiAgICAgICAgdGhpcy5fdW5zdWJzY3JpYmUgPSBfdW5zdWJzY3JpYmU7XG4gICAgICAgIHRoaXMuc291cmNlLnN1YnNjcmliZSh0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBSZXRyeVdoZW5TdWJzY3JpYmVyO1xufShTaW1wbGVPdXRlclN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJldHJ5V2hlbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX2lubmVyU3Vic2NyaWJlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTaW1wbGVPdXRlclN1YnNjcmliZXIsIGlubmVyU3Vic2NyaWJlLCBTaW1wbGVJbm5lclN1YnNjcmliZXIgfSBmcm9tICcuLi9pbm5lclN1YnNjcmliZSc7XG5leHBvcnQgZnVuY3Rpb24gc2FtcGxlKG5vdGlmaWVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBTYW1wbGVPcGVyYXRvcihub3RpZmllcikpOyB9O1xufVxudmFyIFNhbXBsZU9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNhbXBsZU9wZXJhdG9yKG5vdGlmaWVyKSB7XG4gICAgICAgIHRoaXMubm90aWZpZXIgPSBub3RpZmllcjtcbiAgICB9XG4gICAgU2FtcGxlT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHZhciBzYW1wbGVTdWJzY3JpYmVyID0gbmV3IFNhbXBsZVN1YnNjcmliZXIoc3Vic2NyaWJlcik7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSBzb3VyY2Uuc3Vic2NyaWJlKHNhbXBsZVN1YnNjcmliZXIpO1xuICAgICAgICBzdWJzY3JpcHRpb24uYWRkKGlubmVyU3Vic2NyaWJlKHRoaXMubm90aWZpZXIsIG5ldyBTaW1wbGVJbm5lclN1YnNjcmliZXIoc2FtcGxlU3Vic2NyaWJlcikpKTtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICB9O1xuICAgIHJldHVybiBTYW1wbGVPcGVyYXRvcjtcbn0oKSk7XG52YXIgU2FtcGxlU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhTYW1wbGVTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNhbXBsZVN1YnNjcmliZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5oYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFNhbXBsZVN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5oYXNWYWx1ZSA9IHRydWU7XG4gICAgfTtcbiAgICBTYW1wbGVTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlOZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmVtaXRWYWx1ZSgpO1xuICAgIH07XG4gICAgU2FtcGxlU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5Q29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZW1pdFZhbHVlKCk7XG4gICAgfTtcbiAgICBTYW1wbGVTdWJzY3JpYmVyLnByb3RvdHlwZS5lbWl0VmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc1ZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmhhc1ZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodGhpcy52YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBTYW1wbGVTdWJzY3JpYmVyO1xufShTaW1wbGVPdXRlclN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNhbXBsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIsX3NjaGVkdWxlcl9hc3luYyBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgYXN5bmMgfSBmcm9tICcuLi9zY2hlZHVsZXIvYXN5bmMnO1xuZXhwb3J0IGZ1bmN0aW9uIHNhbXBsZVRpbWUocGVyaW9kLCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoc2NoZWR1bGVyID09PSB2b2lkIDApIHtcbiAgICAgICAgc2NoZWR1bGVyID0gYXN5bmM7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UubGlmdChuZXcgU2FtcGxlVGltZU9wZXJhdG9yKHBlcmlvZCwgc2NoZWR1bGVyKSk7IH07XG59XG52YXIgU2FtcGxlVGltZU9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNhbXBsZVRpbWVPcGVyYXRvcihwZXJpb2QsIHNjaGVkdWxlcikge1xuICAgICAgICB0aGlzLnBlcmlvZCA9IHBlcmlvZDtcbiAgICAgICAgdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgfVxuICAgIFNhbXBsZVRpbWVPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IFNhbXBsZVRpbWVTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMucGVyaW9kLCB0aGlzLnNjaGVkdWxlcikpO1xuICAgIH07XG4gICAgcmV0dXJuIFNhbXBsZVRpbWVPcGVyYXRvcjtcbn0oKSk7XG52YXIgU2FtcGxlVGltZVN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU2FtcGxlVGltZVN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2FtcGxlVGltZVN1YnNjcmliZXIoZGVzdGluYXRpb24sIHBlcmlvZCwgc2NoZWR1bGVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wZXJpb2QgPSBwZXJpb2Q7XG4gICAgICAgIF90aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICAgICAgX3RoaXMuaGFzVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaE5vdGlmaWNhdGlvbiwgcGVyaW9kLCB7IHN1YnNjcmliZXI6IF90aGlzLCBwZXJpb2Q6IHBlcmlvZCB9KSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU2FtcGxlVGltZVN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMubGFzdFZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMuaGFzVmFsdWUgPSB0cnVlO1xuICAgIH07XG4gICAgU2FtcGxlVGltZVN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc1ZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmhhc1ZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodGhpcy5sYXN0VmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gU2FtcGxlVGltZVN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmZ1bmN0aW9uIGRpc3BhdGNoTm90aWZpY2F0aW9uKHN0YXRlKSB7XG4gICAgdmFyIHN1YnNjcmliZXIgPSBzdGF0ZS5zdWJzY3JpYmVyLCBwZXJpb2QgPSBzdGF0ZS5wZXJpb2Q7XG4gICAgc3Vic2NyaWJlci5ub3RpZnlOZXh0KCk7XG4gICAgdGhpcy5zY2hlZHVsZShzdGF0ZSwgcGVyaW9kKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNhbXBsZVRpbWUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gc2NhbihhY2N1bXVsYXRvciwgc2VlZCkge1xuICAgIHZhciBoYXNTZWVkID0gZmFsc2U7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMikge1xuICAgICAgICBoYXNTZWVkID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHNjYW5PcGVyYXRvckZ1bmN0aW9uKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IFNjYW5PcGVyYXRvcihhY2N1bXVsYXRvciwgc2VlZCwgaGFzU2VlZCkpO1xuICAgIH07XG59XG52YXIgU2Nhbk9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNjYW5PcGVyYXRvcihhY2N1bXVsYXRvciwgc2VlZCwgaGFzU2VlZCkge1xuICAgICAgICBpZiAoaGFzU2VlZCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBoYXNTZWVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY2N1bXVsYXRvciA9IGFjY3VtdWxhdG9yO1xuICAgICAgICB0aGlzLnNlZWQgPSBzZWVkO1xuICAgICAgICB0aGlzLmhhc1NlZWQgPSBoYXNTZWVkO1xuICAgIH1cbiAgICBTY2FuT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBTY2FuU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLmFjY3VtdWxhdG9yLCB0aGlzLnNlZWQsIHRoaXMuaGFzU2VlZCkpO1xuICAgIH07XG4gICAgcmV0dXJuIFNjYW5PcGVyYXRvcjtcbn0oKSk7XG52YXIgU2NhblN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU2NhblN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2NhblN1YnNjcmliZXIoZGVzdGluYXRpb24sIGFjY3VtdWxhdG9yLCBfc2VlZCwgaGFzU2VlZCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYWNjdW11bGF0b3IgPSBhY2N1bXVsYXRvcjtcbiAgICAgICAgX3RoaXMuX3NlZWQgPSBfc2VlZDtcbiAgICAgICAgX3RoaXMuaGFzU2VlZCA9IGhhc1NlZWQ7XG4gICAgICAgIF90aGlzLmluZGV4ID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2NhblN1YnNjcmliZXIucHJvdG90eXBlLCBcInNlZWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZWVkO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5oYXNTZWVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX3NlZWQgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgU2NhblN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5oYXNTZWVkKSB7XG4gICAgICAgICAgICB0aGlzLnNlZWQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJ5TmV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNjYW5TdWJzY3JpYmVyLnByb3RvdHlwZS5fdHJ5TmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4Kys7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmFjY3VtdWxhdG9yKHRoaXMuc2VlZCwgdmFsdWUsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZWVkID0gcmVzdWx0O1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQocmVzdWx0KTtcbiAgICB9O1xuICAgIHJldHVybiBTY2FuU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2Nhbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBzZXF1ZW5jZUVxdWFsKGNvbXBhcmVUbywgY29tcGFyYXRvcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UubGlmdChuZXcgU2VxdWVuY2VFcXVhbE9wZXJhdG9yKGNvbXBhcmVUbywgY29tcGFyYXRvcikpOyB9O1xufVxudmFyIFNlcXVlbmNlRXF1YWxPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTZXF1ZW5jZUVxdWFsT3BlcmF0b3IoY29tcGFyZVRvLCBjb21wYXJhdG9yKSB7XG4gICAgICAgIHRoaXMuY29tcGFyZVRvID0gY29tcGFyZVRvO1xuICAgICAgICB0aGlzLmNvbXBhcmF0b3IgPSBjb21wYXJhdG9yO1xuICAgIH1cbiAgICBTZXF1ZW5jZUVxdWFsT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBTZXF1ZW5jZUVxdWFsU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLmNvbXBhcmVUbywgdGhpcy5jb21wYXJhdG9yKSk7XG4gICAgfTtcbiAgICByZXR1cm4gU2VxdWVuY2VFcXVhbE9wZXJhdG9yO1xufSgpKTtcbmV4cG9ydCB7IFNlcXVlbmNlRXF1YWxPcGVyYXRvciB9O1xudmFyIFNlcXVlbmNlRXF1YWxTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFNlcXVlbmNlRXF1YWxTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNlcXVlbmNlRXF1YWxTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBjb21wYXJlVG8sIGNvbXBhcmF0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmNvbXBhcmVUbyA9IGNvbXBhcmVUbztcbiAgICAgICAgX3RoaXMuY29tcGFyYXRvciA9IGNvbXBhcmF0b3I7XG4gICAgICAgIF90aGlzLl9hID0gW107XG4gICAgICAgIF90aGlzLl9iID0gW107XG4gICAgICAgIF90aGlzLl9vbmVDb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbi5hZGQoY29tcGFyZVRvLnN1YnNjcmliZShuZXcgU2VxdWVuY2VFcXVhbENvbXBhcmVUb1N1YnNjcmliZXIoZGVzdGluYXRpb24sIF90aGlzKSkpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFNlcXVlbmNlRXF1YWxTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5fb25lQ29tcGxldGUgJiYgdGhpcy5fYi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdChmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9hLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgdGhpcy5jaGVja1ZhbHVlcygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTZXF1ZW5jZUVxdWFsU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fb25lQ29tcGxldGUpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdCh0aGlzLl9hLmxlbmd0aCA9PT0gMCAmJiB0aGlzLl9iLmxlbmd0aCA9PT0gMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9vbmVDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgU2VxdWVuY2VFcXVhbFN1YnNjcmliZXIucHJvdG90eXBlLmNoZWNrVmFsdWVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2MgPSB0aGlzLCBfYSA9IF9jLl9hLCBfYiA9IF9jLl9iLCBjb21wYXJhdG9yID0gX2MuY29tcGFyYXRvcjtcbiAgICAgICAgd2hpbGUgKF9hLmxlbmd0aCA+IDAgJiYgX2IubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIGEgPSBfYS5zaGlmdCgpO1xuICAgICAgICAgICAgdmFyIGIgPSBfYi5zaGlmdCgpO1xuICAgICAgICAgICAgdmFyIGFyZUVxdWFsID0gZmFsc2U7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGFyZUVxdWFsID0gY29tcGFyYXRvciA/IGNvbXBhcmF0b3IoYSwgYikgOiBhID09PSBiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFhcmVFcXVhbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNlcXVlbmNlRXF1YWxTdWJzY3JpYmVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICAgICAgICBkZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgIH07XG4gICAgU2VxdWVuY2VFcXVhbFN1YnNjcmliZXIucHJvdG90eXBlLm5leHRCID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLl9vbmVDb21wbGV0ZSAmJiB0aGlzLl9hLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5lbWl0KGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2IucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICB0aGlzLmNoZWNrVmFsdWVzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNlcXVlbmNlRXF1YWxTdWJzY3JpYmVyLnByb3RvdHlwZS5jb21wbGV0ZUIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9vbmVDb21wbGV0ZSkge1xuICAgICAgICAgICAgdGhpcy5lbWl0KHRoaXMuX2EubGVuZ3RoID09PSAwICYmIHRoaXMuX2IubGVuZ3RoID09PSAwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX29uZUNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFNlcXVlbmNlRXF1YWxTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBTZXF1ZW5jZUVxdWFsU3Vic2NyaWJlciB9O1xudmFyIFNlcXVlbmNlRXF1YWxDb21wYXJlVG9TdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFNlcXVlbmNlRXF1YWxDb21wYXJlVG9TdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNlcXVlbmNlRXF1YWxDb21wYXJlVG9TdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBwYXJlbnQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTZXF1ZW5jZUVxdWFsQ29tcGFyZVRvU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQubmV4dEIodmFsdWUpO1xuICAgIH07XG4gICAgU2VxdWVuY2VFcXVhbENvbXBhcmVUb1N1YnNjcmliZXIucHJvdG90eXBlLl9lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQuZXJyb3IoZXJyKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgU2VxdWVuY2VFcXVhbENvbXBhcmVUb1N1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQuY29tcGxldGVCKCk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIHJldHVybiBTZXF1ZW5jZUVxdWFsQ29tcGFyZVRvU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VxdWVuY2VFcXVhbC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX211bHRpY2FzdCxfcmVmQ291bnQsX1N1YmplY3QgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgbXVsdGljYXN0IH0gZnJvbSAnLi9tdWx0aWNhc3QnO1xuaW1wb3J0IHsgcmVmQ291bnQgfSBmcm9tICcuL3JlZkNvdW50JztcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICcuLi9TdWJqZWN0JztcbmZ1bmN0aW9uIHNoYXJlU3ViamVjdEZhY3RvcnkoKSB7XG4gICAgcmV0dXJuIG5ldyBTdWJqZWN0KCk7XG59XG5leHBvcnQgZnVuY3Rpb24gc2hhcmUoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHJlZkNvdW50KCkobXVsdGljYXN0KHNoYXJlU3ViamVjdEZhY3RvcnkpKHNvdXJjZSkpOyB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2hhcmUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9SZXBsYXlTdWJqZWN0IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IFJlcGxheVN1YmplY3QgfSBmcm9tICcuLi9SZXBsYXlTdWJqZWN0JztcbmV4cG9ydCBmdW5jdGlvbiBzaGFyZVJlcGxheShjb25maWdPckJ1ZmZlclNpemUsIHdpbmRvd1RpbWUsIHNjaGVkdWxlcikge1xuICAgIHZhciBjb25maWc7XG4gICAgaWYgKGNvbmZpZ09yQnVmZmVyU2l6ZSAmJiB0eXBlb2YgY29uZmlnT3JCdWZmZXJTaXplID09PSAnb2JqZWN0Jykge1xuICAgICAgICBjb25maWcgPSBjb25maWdPckJ1ZmZlclNpemU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25maWcgPSB7XG4gICAgICAgICAgICBidWZmZXJTaXplOiBjb25maWdPckJ1ZmZlclNpemUsXG4gICAgICAgICAgICB3aW5kb3dUaW1lOiB3aW5kb3dUaW1lLFxuICAgICAgICAgICAgcmVmQ291bnQ6IGZhbHNlLFxuICAgICAgICAgICAgc2NoZWR1bGVyOiBzY2hlZHVsZXJcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5saWZ0KHNoYXJlUmVwbGF5T3BlcmF0b3IoY29uZmlnKSk7IH07XG59XG5mdW5jdGlvbiBzaGFyZVJlcGxheU9wZXJhdG9yKF9hKSB7XG4gICAgdmFyIF9iID0gX2EuYnVmZmVyU2l6ZSwgYnVmZmVyU2l6ZSA9IF9iID09PSB2b2lkIDAgPyBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkgOiBfYiwgX2MgPSBfYS53aW5kb3dUaW1lLCB3aW5kb3dUaW1lID0gX2MgPT09IHZvaWQgMCA/IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSA6IF9jLCB1c2VSZWZDb3VudCA9IF9hLnJlZkNvdW50LCBzY2hlZHVsZXIgPSBfYS5zY2hlZHVsZXI7XG4gICAgdmFyIHN1YmplY3Q7XG4gICAgdmFyIHJlZkNvdW50ID0gMDtcbiAgICB2YXIgc3Vic2NyaXB0aW9uO1xuICAgIHZhciBoYXNFcnJvciA9IGZhbHNlO1xuICAgIHZhciBpc0NvbXBsZXRlID0gZmFsc2U7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHNoYXJlUmVwbGF5T3BlcmF0aW9uKHNvdXJjZSkge1xuICAgICAgICByZWZDb3VudCsrO1xuICAgICAgICB2YXIgaW5uZXJTdWI7XG4gICAgICAgIGlmICghc3ViamVjdCB8fCBoYXNFcnJvcikge1xuICAgICAgICAgICAgaGFzRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgIHN1YmplY3QgPSBuZXcgUmVwbGF5U3ViamVjdChidWZmZXJTaXplLCB3aW5kb3dUaW1lLCBzY2hlZHVsZXIpO1xuICAgICAgICAgICAgaW5uZXJTdWIgPSBzdWJqZWN0LnN1YnNjcmliZSh0aGlzKTtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IHNvdXJjZS5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyBzdWJqZWN0Lm5leHQodmFsdWUpOyB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhc0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgc3ViamVjdC5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgc3ViamVjdC5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlubmVyU3ViID0gc3ViamVjdC5zdWJzY3JpYmUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hZGQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVmQ291bnQtLTtcbiAgICAgICAgICAgIGlubmVyU3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uICYmICFpc0NvbXBsZXRlICYmIHVzZVJlZkNvdW50ICYmIHJlZkNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHN1YmplY3QgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zaGFyZVJlcGxheS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIsX3V0aWxfRW1wdHlFcnJvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgRW1wdHlFcnJvciB9IGZyb20gJy4uL3V0aWwvRW1wdHlFcnJvcic7XG5leHBvcnQgZnVuY3Rpb24gc2luZ2xlKHByZWRpY2F0ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UubGlmdChuZXcgU2luZ2xlT3BlcmF0b3IocHJlZGljYXRlLCBzb3VyY2UpKTsgfTtcbn1cbnZhciBTaW5nbGVPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTaW5nbGVPcGVyYXRvcihwcmVkaWNhdGUsIHNvdXJjZSkge1xuICAgICAgICB0aGlzLnByZWRpY2F0ZSA9IHByZWRpY2F0ZTtcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgfVxuICAgIFNpbmdsZU9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgU2luZ2xlU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLnByZWRpY2F0ZSwgdGhpcy5zb3VyY2UpKTtcbiAgICB9O1xuICAgIHJldHVybiBTaW5nbGVPcGVyYXRvcjtcbn0oKSk7XG52YXIgU2luZ2xlU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhTaW5nbGVTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNpbmdsZVN1YnNjcmliZXIoZGVzdGluYXRpb24sIHByZWRpY2F0ZSwgc291cmNlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wcmVkaWNhdGUgPSBwcmVkaWNhdGU7XG4gICAgICAgIF90aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgX3RoaXMuc2VlblZhbHVlID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmluZGV4ID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTaW5nbGVTdWJzY3JpYmVyLnByb3RvdHlwZS5hcHBseVNpbmdsZVZhbHVlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLnNlZW5WYWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcignU2VxdWVuY2UgY29udGFpbnMgbW9yZSB0aGFuIG9uZSBlbGVtZW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNlZW5WYWx1ZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnNpbmdsZVZhbHVlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNpbmdsZVN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXgrKztcbiAgICAgICAgaWYgKHRoaXMucHJlZGljYXRlKSB7XG4gICAgICAgICAgICB0aGlzLnRyeU5leHQodmFsdWUsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlTaW5nbGVWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNpbmdsZVN1YnNjcmliZXIucHJvdG90eXBlLnRyeU5leHQgPSBmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmVkaWNhdGUodmFsdWUsIGluZGV4LCB0aGlzLnNvdXJjZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5U2luZ2xlVmFsdWUodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2luZ2xlU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICBpZiAodGhpcy5pbmRleCA+IDApIHtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uLm5leHQodGhpcy5zZWVuVmFsdWUgPyB0aGlzLnNpbmdsZVZhbHVlIDogdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbi5lcnJvcihuZXcgRW1wdHlFcnJvcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBTaW5nbGVTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zaW5nbGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gc2tpcChjb3VudCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UubGlmdChuZXcgU2tpcE9wZXJhdG9yKGNvdW50KSk7IH07XG59XG52YXIgU2tpcE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNraXBPcGVyYXRvcih0b3RhbCkge1xuICAgICAgICB0aGlzLnRvdGFsID0gdG90YWw7XG4gICAgfVxuICAgIFNraXBPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IFNraXBTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMudG90YWwpKTtcbiAgICB9O1xuICAgIHJldHVybiBTa2lwT3BlcmF0b3I7XG59KCkpO1xudmFyIFNraXBTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFNraXBTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNraXBTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCB0b3RhbCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudG90YWwgPSB0b3RhbDtcbiAgICAgICAgX3RoaXMuY291bnQgPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFNraXBTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIGlmICgrK3RoaXMuY291bnQgPiB0aGlzLnRvdGFsKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQoeCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBTa2lwU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2tpcC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIsX3V0aWxfQXJndW1lbnRPdXRPZlJhbmdlRXJyb3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yIH0gZnJvbSAnLi4vdXRpbC9Bcmd1bWVudE91dE9mUmFuZ2VFcnJvcic7XG5leHBvcnQgZnVuY3Rpb24gc2tpcExhc3QoY291bnQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLmxpZnQobmV3IFNraXBMYXN0T3BlcmF0b3IoY291bnQpKTsgfTtcbn1cbnZhciBTa2lwTGFzdE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNraXBMYXN0T3BlcmF0b3IoX3NraXBDb3VudCkge1xuICAgICAgICB0aGlzLl9za2lwQ291bnQgPSBfc2tpcENvdW50O1xuICAgICAgICBpZiAodGhpcy5fc2tpcENvdW50IDwgMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIFNraXBMYXN0T3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIGlmICh0aGlzLl9za2lwQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBTdWJzY3JpYmVyKHN1YnNjcmliZXIpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBTa2lwTGFzdFN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5fc2tpcENvdW50KSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBTa2lwTGFzdE9wZXJhdG9yO1xufSgpKTtcbnZhciBTa2lwTGFzdFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU2tpcExhc3RTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNraXBMYXN0U3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgX3NraXBDb3VudCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX3NraXBDb3VudCA9IF9za2lwQ291bnQ7XG4gICAgICAgIF90aGlzLl9jb3VudCA9IDA7XG4gICAgICAgIF90aGlzLl9yaW5nID0gbmV3IEFycmF5KF9za2lwQ291bnQpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFNraXBMYXN0U3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHNraXBDb3VudCA9IHRoaXMuX3NraXBDb3VudDtcbiAgICAgICAgdmFyIGNvdW50ID0gdGhpcy5fY291bnQrKztcbiAgICAgICAgaWYgKGNvdW50IDwgc2tpcENvdW50KSB7XG4gICAgICAgICAgICB0aGlzLl9yaW5nW2NvdW50XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IGNvdW50ICUgc2tpcENvdW50O1xuICAgICAgICAgICAgdmFyIHJpbmcgPSB0aGlzLl9yaW5nO1xuICAgICAgICAgICAgdmFyIG9sZFZhbHVlID0gcmluZ1tjdXJyZW50SW5kZXhdO1xuICAgICAgICAgICAgcmluZ1tjdXJyZW50SW5kZXhdID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQob2xkVmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gU2tpcExhc3RTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1za2lwTGFzdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX2lubmVyU3Vic2NyaWJlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTaW1wbGVPdXRlclN1YnNjcmliZXIsIFNpbXBsZUlubmVyU3Vic2NyaWJlciwgaW5uZXJTdWJzY3JpYmUgfSBmcm9tICcuLi9pbm5lclN1YnNjcmliZSc7XG5leHBvcnQgZnVuY3Rpb24gc2tpcFVudGlsKG5vdGlmaWVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBTa2lwVW50aWxPcGVyYXRvcihub3RpZmllcikpOyB9O1xufVxudmFyIFNraXBVbnRpbE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNraXBVbnRpbE9wZXJhdG9yKG5vdGlmaWVyKSB7XG4gICAgICAgIHRoaXMubm90aWZpZXIgPSBub3RpZmllcjtcbiAgICB9XG4gICAgU2tpcFVudGlsT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoZGVzdGluYXRpb24sIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgU2tpcFVudGlsU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgdGhpcy5ub3RpZmllcikpO1xuICAgIH07XG4gICAgcmV0dXJuIFNraXBVbnRpbE9wZXJhdG9yO1xufSgpKTtcbnZhciBTa2lwVW50aWxTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFNraXBVbnRpbFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2tpcFVudGlsU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgbm90aWZpZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmhhc1ZhbHVlID0gZmFsc2U7XG4gICAgICAgIHZhciBpbm5lclN1YnNjcmliZXIgPSBuZXcgU2ltcGxlSW5uZXJTdWJzY3JpYmVyKF90aGlzKTtcbiAgICAgICAgX3RoaXMuYWRkKGlubmVyU3Vic2NyaWJlcik7XG4gICAgICAgIF90aGlzLmlubmVyU3Vic2NyaXB0aW9uID0gaW5uZXJTdWJzY3JpYmVyO1xuICAgICAgICB2YXIgaW5uZXJTdWJzY3JpcHRpb24gPSBpbm5lclN1YnNjcmliZShub3RpZmllciwgaW5uZXJTdWJzY3JpYmVyKTtcbiAgICAgICAgaWYgKGlubmVyU3Vic2NyaXB0aW9uICE9PSBpbm5lclN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIF90aGlzLmFkZChpbm5lclN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICBfdGhpcy5pbm5lclN1YnNjcmlwdGlvbiA9IGlubmVyU3Vic2NyaXB0aW9uO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU2tpcFVudGlsU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzVmFsdWUpIHtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUuX25leHQuY2FsbCh0aGlzLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNraXBVbnRpbFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaGFzVmFsdWUgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5pbm5lclN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgdGhpcy5pbm5lclN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTa2lwVW50aWxTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB9O1xuICAgIHJldHVybiBTa2lwVW50aWxTdWJzY3JpYmVyO1xufShTaW1wbGVPdXRlclN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNraXBVbnRpbC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBza2lwV2hpbGUocHJlZGljYXRlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBTa2lwV2hpbGVPcGVyYXRvcihwcmVkaWNhdGUpKTsgfTtcbn1cbnZhciBTa2lwV2hpbGVPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTa2lwV2hpbGVPcGVyYXRvcihwcmVkaWNhdGUpIHtcbiAgICAgICAgdGhpcy5wcmVkaWNhdGUgPSBwcmVkaWNhdGU7XG4gICAgfVxuICAgIFNraXBXaGlsZU9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgU2tpcFdoaWxlU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLnByZWRpY2F0ZSkpO1xuICAgIH07XG4gICAgcmV0dXJuIFNraXBXaGlsZU9wZXJhdG9yO1xufSgpKTtcbnZhciBTa2lwV2hpbGVTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFNraXBXaGlsZVN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2tpcFdoaWxlU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wcmVkaWNhdGUgPSBwcmVkaWNhdGU7XG4gICAgICAgIF90aGlzLnNraXBwaW5nID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMuaW5kZXggPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFNraXBXaGlsZVN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGlmICh0aGlzLnNraXBwaW5nKSB7XG4gICAgICAgICAgICB0aGlzLnRyeUNhbGxQcmVkaWNhdGUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5za2lwcGluZykge1xuICAgICAgICAgICAgZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNraXBXaGlsZVN1YnNjcmliZXIucHJvdG90eXBlLnRyeUNhbGxQcmVkaWNhdGUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLnByZWRpY2F0ZSh2YWx1ZSwgdGhpcy5pbmRleCsrKTtcbiAgICAgICAgICAgIHRoaXMuc2tpcHBpbmcgPSBCb29sZWFuKHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gU2tpcFdoaWxlU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2tpcFdoaWxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfb2JzZXJ2YWJsZV9jb25jYXQsX3V0aWxfaXNTY2hlZHVsZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgY29uY2F0IH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9jb25jYXQnO1xuaW1wb3J0IHsgaXNTY2hlZHVsZXIgfSBmcm9tICcuLi91dGlsL2lzU2NoZWR1bGVyJztcbmV4cG9ydCBmdW5jdGlvbiBzdGFydFdpdGgoKSB7XG4gICAgdmFyIGFycmF5ID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJyYXlbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHNjaGVkdWxlciA9IGFycmF5W2FycmF5Lmxlbmd0aCAtIDFdO1xuICAgIGlmIChpc1NjaGVkdWxlcihzY2hlZHVsZXIpKSB7XG4gICAgICAgIGFycmF5LnBvcCgpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gY29uY2F0KGFycmF5LCBzb3VyY2UsIHNjaGVkdWxlcik7IH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gY29uY2F0KGFycmF5LCBzb3VyY2UpOyB9O1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0YXJ0V2l0aC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX29ic2VydmFibGVfU3Vic2NyaWJlT25PYnNlcnZhYmxlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IFN1YnNjcmliZU9uT2JzZXJ2YWJsZSB9IGZyb20gJy4uL29ic2VydmFibGUvU3Vic2NyaWJlT25PYnNlcnZhYmxlJztcbmV4cG9ydCBmdW5jdGlvbiBzdWJzY3JpYmVPbihzY2hlZHVsZXIsIGRlbGF5KSB7XG4gICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgZGVsYXkgPSAwO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gc3Vic2NyaWJlT25PcGVyYXRvckZ1bmN0aW9uKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IFN1YnNjcmliZU9uT3BlcmF0b3Ioc2NoZWR1bGVyLCBkZWxheSkpO1xuICAgIH07XG59XG52YXIgU3Vic2NyaWJlT25PcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdWJzY3JpYmVPbk9wZXJhdG9yKHNjaGVkdWxlciwgZGVsYXkpIHtcbiAgICAgICAgdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgICAgIHRoaXMuZGVsYXkgPSBkZWxheTtcbiAgICB9XG4gICAgU3Vic2NyaWJlT25PcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdWJzY3JpYmVPbk9ic2VydmFibGUoc291cmNlLCB0aGlzLmRlbGF5LCB0aGlzLnNjaGVkdWxlcikuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH07XG4gICAgcmV0dXJuIFN1YnNjcmliZU9uT3BlcmF0b3I7XG59KCkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3Vic2NyaWJlT24uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9zd2l0Y2hNYXAsX3V0aWxfaWRlbnRpdHkgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgc3dpdGNoTWFwIH0gZnJvbSAnLi9zd2l0Y2hNYXAnO1xuaW1wb3J0IHsgaWRlbnRpdHkgfSBmcm9tICcuLi91dGlsL2lkZW50aXR5JztcbmV4cG9ydCBmdW5jdGlvbiBzd2l0Y2hBbGwoKSB7XG4gICAgcmV0dXJuIHN3aXRjaE1hcChpZGVudGl0eSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zd2l0Y2hBbGwuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9tYXAsX29ic2VydmFibGVfZnJvbSxfaW5uZXJTdWJzY3JpYmUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IG1hcCB9IGZyb20gJy4vbWFwJztcbmltcG9ydCB7IGZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2Zyb20nO1xuaW1wb3J0IHsgU2ltcGxlT3V0ZXJTdWJzY3JpYmVyLCBTaW1wbGVJbm5lclN1YnNjcmliZXIsIGlubmVyU3Vic2NyaWJlIH0gZnJvbSAnLi4vaW5uZXJTdWJzY3JpYmUnO1xuZXhwb3J0IGZ1bmN0aW9uIHN3aXRjaE1hcChwcm9qZWN0LCByZXN1bHRTZWxlY3Rvcikge1xuICAgIGlmICh0eXBlb2YgcmVzdWx0U2VsZWN0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5waXBlKHN3aXRjaE1hcChmdW5jdGlvbiAoYSwgaSkgeyByZXR1cm4gZnJvbShwcm9qZWN0KGEsIGkpKS5waXBlKG1hcChmdW5jdGlvbiAoYiwgaWkpIHsgcmV0dXJuIHJlc3VsdFNlbGVjdG9yKGEsIGIsIGksIGlpKTsgfSkpOyB9KSk7IH07XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UubGlmdChuZXcgU3dpdGNoTWFwT3BlcmF0b3IocHJvamVjdCkpOyB9O1xufVxudmFyIFN3aXRjaE1hcE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN3aXRjaE1hcE9wZXJhdG9yKHByb2plY3QpIHtcbiAgICAgICAgdGhpcy5wcm9qZWN0ID0gcHJvamVjdDtcbiAgICB9XG4gICAgU3dpdGNoTWFwT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBTd2l0Y2hNYXBTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMucHJvamVjdCkpO1xuICAgIH07XG4gICAgcmV0dXJuIFN3aXRjaE1hcE9wZXJhdG9yO1xufSgpKTtcbnZhciBTd2l0Y2hNYXBTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFN3aXRjaE1hcFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3dpdGNoTWFwU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgcHJvamVjdCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucHJvamVjdCA9IHByb2plY3Q7XG4gICAgICAgIF90aGlzLmluZGV4ID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTd2l0Y2hNYXBTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4Kys7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLnByb2plY3QodmFsdWUsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2lubmVyU3ViKHJlc3VsdCk7XG4gICAgfTtcbiAgICBTd2l0Y2hNYXBTdWJzY3JpYmVyLnByb3RvdHlwZS5faW5uZXJTdWIgPSBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIHZhciBpbm5lclN1YnNjcmlwdGlvbiA9IHRoaXMuaW5uZXJTdWJzY3JpcHRpb247XG4gICAgICAgIGlmIChpbm5lclN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgaW5uZXJTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5uZXJTdWJzY3JpYmVyID0gbmV3IFNpbXBsZUlubmVyU3Vic2NyaWJlcih0aGlzKTtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gdGhpcy5kZXN0aW5hdGlvbjtcbiAgICAgICAgZGVzdGluYXRpb24uYWRkKGlubmVyU3Vic2NyaWJlcik7XG4gICAgICAgIHRoaXMuaW5uZXJTdWJzY3JpcHRpb24gPSBpbm5lclN1YnNjcmliZShyZXN1bHQsIGlubmVyU3Vic2NyaWJlcik7XG4gICAgICAgIGlmICh0aGlzLmlubmVyU3Vic2NyaXB0aW9uICE9PSBpbm5lclN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uLmFkZCh0aGlzLmlubmVyU3Vic2NyaXB0aW9uKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3dpdGNoTWFwU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaW5uZXJTdWJzY3JpcHRpb24gPSB0aGlzLmlubmVyU3Vic2NyaXB0aW9uO1xuICAgICAgICBpZiAoIWlubmVyU3Vic2NyaXB0aW9uIHx8IGlubmVyU3Vic2NyaXB0aW9uLmNsb3NlZCkge1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5fY29tcGxldGUuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBTd2l0Y2hNYXBTdWJzY3JpYmVyLnByb3RvdHlwZS5fdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaW5uZXJTdWJzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBTd2l0Y2hNYXBTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5pbm5lclN1YnNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLl9jb21wbGV0ZS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTd2l0Y2hNYXBTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlOZXh0ID0gZnVuY3Rpb24gKGlubmVyVmFsdWUpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KGlubmVyVmFsdWUpO1xuICAgIH07XG4gICAgcmV0dXJuIFN3aXRjaE1hcFN1YnNjcmliZXI7XG59KFNpbXBsZU91dGVyU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3dpdGNoTWFwLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfc3dpdGNoTWFwIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IHN3aXRjaE1hcCB9IGZyb20gJy4vc3dpdGNoTWFwJztcbmV4cG9ydCBmdW5jdGlvbiBzd2l0Y2hNYXBUbyhpbm5lck9ic2VydmFibGUsIHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIHJlc3VsdFNlbGVjdG9yID8gc3dpdGNoTWFwKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlubmVyT2JzZXJ2YWJsZTsgfSwgcmVzdWx0U2VsZWN0b3IpIDogc3dpdGNoTWFwKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlubmVyT2JzZXJ2YWJsZTsgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zd2l0Y2hNYXBUby5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIsX3V0aWxfQXJndW1lbnRPdXRPZlJhbmdlRXJyb3IsX29ic2VydmFibGVfZW1wdHkgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yIH0gZnJvbSAnLi4vdXRpbC9Bcmd1bWVudE91dE9mUmFuZ2VFcnJvcic7XG5pbXBvcnQgeyBlbXB0eSB9IGZyb20gJy4uL29ic2VydmFibGUvZW1wdHknO1xuZXhwb3J0IGZ1bmN0aW9uIHRha2UoY291bnQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICBpZiAoY291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBlbXB0eSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBUYWtlT3BlcmF0b3IoY291bnQpKTtcbiAgICAgICAgfVxuICAgIH07XG59XG52YXIgVGFrZU9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRha2VPcGVyYXRvcih0b3RhbCkge1xuICAgICAgICB0aGlzLnRvdGFsID0gdG90YWw7XG4gICAgICAgIGlmICh0aGlzLnRvdGFsIDwgMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIFRha2VPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IFRha2VTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMudG90YWwpKTtcbiAgICB9O1xuICAgIHJldHVybiBUYWtlT3BlcmF0b3I7XG59KCkpO1xudmFyIFRha2VTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFRha2VTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFRha2VTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCB0b3RhbCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudG90YWwgPSB0b3RhbDtcbiAgICAgICAgX3RoaXMuY291bnQgPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFRha2VTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgdG90YWwgPSB0aGlzLnRvdGFsO1xuICAgICAgICB2YXIgY291bnQgPSArK3RoaXMuY291bnQ7XG4gICAgICAgIGlmIChjb3VudCA8PSB0b3RhbCkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChjb3VudCA9PT0gdG90YWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gVGFrZVN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRha2UuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyLF91dGlsX0FyZ3VtZW50T3V0T2ZSYW5nZUVycm9yLF9vYnNlcnZhYmxlX2VtcHR5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBBcmd1bWVudE91dE9mUmFuZ2VFcnJvciB9IGZyb20gJy4uL3V0aWwvQXJndW1lbnRPdXRPZlJhbmdlRXJyb3InO1xuaW1wb3J0IHsgZW1wdHkgfSBmcm9tICcuLi9vYnNlcnZhYmxlL2VtcHR5JztcbmV4cG9ydCBmdW5jdGlvbiB0YWtlTGFzdChjb3VudCkge1xuICAgIHJldHVybiBmdW5jdGlvbiB0YWtlTGFzdE9wZXJhdG9yRnVuY3Rpb24oc291cmNlKSB7XG4gICAgICAgIGlmIChjb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGVtcHR5KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IFRha2VMYXN0T3BlcmF0b3IoY291bnQpKTtcbiAgICAgICAgfVxuICAgIH07XG59XG52YXIgVGFrZUxhc3RPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUYWtlTGFzdE9wZXJhdG9yKHRvdGFsKSB7XG4gICAgICAgIHRoaXMudG90YWwgPSB0b3RhbDtcbiAgICAgICAgaWYgKHRoaXMudG90YWwgPCAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQXJndW1lbnRPdXRPZlJhbmdlRXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgVGFrZUxhc3RPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IFRha2VMYXN0U3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLnRvdGFsKSk7XG4gICAgfTtcbiAgICByZXR1cm4gVGFrZUxhc3RPcGVyYXRvcjtcbn0oKSk7XG52YXIgVGFrZUxhc3RTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFRha2VMYXN0U3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBUYWtlTGFzdFN1YnNjcmliZXIoZGVzdGluYXRpb24sIHRvdGFsKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy50b3RhbCA9IHRvdGFsO1xuICAgICAgICBfdGhpcy5yaW5nID0gbmV3IEFycmF5KCk7XG4gICAgICAgIF90aGlzLmNvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBUYWtlTGFzdFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciByaW5nID0gdGhpcy5yaW5nO1xuICAgICAgICB2YXIgdG90YWwgPSB0aGlzLnRvdGFsO1xuICAgICAgICB2YXIgY291bnQgPSB0aGlzLmNvdW50Kys7XG4gICAgICAgIGlmIChyaW5nLmxlbmd0aCA8IHRvdGFsKSB7XG4gICAgICAgICAgICByaW5nLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gY291bnQgJSB0b3RhbDtcbiAgICAgICAgICAgIHJpbmdbaW5kZXhdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRha2VMYXN0U3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICB2YXIgY291bnQgPSB0aGlzLmNvdW50O1xuICAgICAgICBpZiAoY291bnQgPiAwKSB7XG4gICAgICAgICAgICB2YXIgdG90YWwgPSB0aGlzLmNvdW50ID49IHRoaXMudG90YWwgPyB0aGlzLnRvdGFsIDogdGhpcy5jb3VudDtcbiAgICAgICAgICAgIHZhciByaW5nID0gdGhpcy5yaW5nO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlkeCA9IChjb3VudCsrKSAlIHRvdGFsO1xuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uLm5leHQocmluZ1tpZHhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIFRha2VMYXN0U3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGFrZUxhc3QuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9pbm5lclN1YnNjcmliZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgaW5uZXJTdWJzY3JpYmUsIFNpbXBsZUlubmVyU3Vic2NyaWJlciwgU2ltcGxlT3V0ZXJTdWJzY3JpYmVyIH0gZnJvbSAnLi4vaW5uZXJTdWJzY3JpYmUnO1xuZXhwb3J0IGZ1bmN0aW9uIHRha2VVbnRpbChub3RpZmllcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UubGlmdChuZXcgVGFrZVVudGlsT3BlcmF0b3Iobm90aWZpZXIpKTsgfTtcbn1cbnZhciBUYWtlVW50aWxPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUYWtlVW50aWxPcGVyYXRvcihub3RpZmllcikge1xuICAgICAgICB0aGlzLm5vdGlmaWVyID0gbm90aWZpZXI7XG4gICAgfVxuICAgIFRha2VVbnRpbE9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICB2YXIgdGFrZVVudGlsU3Vic2NyaWJlciA9IG5ldyBUYWtlVW50aWxTdWJzY3JpYmVyKHN1YnNjcmliZXIpO1xuICAgICAgICB2YXIgbm90aWZpZXJTdWJzY3JpcHRpb24gPSBpbm5lclN1YnNjcmliZSh0aGlzLm5vdGlmaWVyLCBuZXcgU2ltcGxlSW5uZXJTdWJzY3JpYmVyKHRha2VVbnRpbFN1YnNjcmliZXIpKTtcbiAgICAgICAgaWYgKG5vdGlmaWVyU3Vic2NyaXB0aW9uICYmICF0YWtlVW50aWxTdWJzY3JpYmVyLnNlZW5WYWx1ZSkge1xuICAgICAgICAgICAgdGFrZVVudGlsU3Vic2NyaWJlci5hZGQobm90aWZpZXJTdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUodGFrZVVudGlsU3Vic2NyaWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRha2VVbnRpbFN1YnNjcmliZXI7XG4gICAgfTtcbiAgICByZXR1cm4gVGFrZVVudGlsT3BlcmF0b3I7XG59KCkpO1xudmFyIFRha2VVbnRpbFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoVGFrZVVudGlsU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBUYWtlVW50aWxTdWJzY3JpYmVyKGRlc3RpbmF0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zZWVuVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBUYWtlVW50aWxTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlOZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNlZW5WYWx1ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuY29tcGxldGUoKTtcbiAgICB9O1xuICAgIFRha2VVbnRpbFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgIH07XG4gICAgcmV0dXJuIFRha2VVbnRpbFN1YnNjcmliZXI7XG59KFNpbXBsZU91dGVyU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGFrZVVudGlsLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIHRha2VXaGlsZShwcmVkaWNhdGUsIGluY2x1c2l2ZSkge1xuICAgIGlmIChpbmNsdXNpdmUgPT09IHZvaWQgMCkge1xuICAgICAgICBpbmNsdXNpdmUgPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBUYWtlV2hpbGVPcGVyYXRvcihwcmVkaWNhdGUsIGluY2x1c2l2ZSkpO1xuICAgIH07XG59XG52YXIgVGFrZVdoaWxlT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGFrZVdoaWxlT3BlcmF0b3IocHJlZGljYXRlLCBpbmNsdXNpdmUpIHtcbiAgICAgICAgdGhpcy5wcmVkaWNhdGUgPSBwcmVkaWNhdGU7XG4gICAgICAgIHRoaXMuaW5jbHVzaXZlID0gaW5jbHVzaXZlO1xuICAgIH1cbiAgICBUYWtlV2hpbGVPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IFRha2VXaGlsZVN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5wcmVkaWNhdGUsIHRoaXMuaW5jbHVzaXZlKSk7XG4gICAgfTtcbiAgICByZXR1cm4gVGFrZVdoaWxlT3BlcmF0b3I7XG59KCkpO1xudmFyIFRha2VXaGlsZVN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoVGFrZVdoaWxlU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBUYWtlV2hpbGVTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBwcmVkaWNhdGUsIGluY2x1c2l2ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucHJlZGljYXRlID0gcHJlZGljYXRlO1xuICAgICAgICBfdGhpcy5pbmNsdXNpdmUgPSBpbmNsdXNpdmU7XG4gICAgICAgIF90aGlzLmluZGV4ID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBUYWtlV2hpbGVTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5wcmVkaWNhdGUodmFsdWUsIHRoaXMuaW5kZXgrKyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5leHRPckNvbXBsZXRlKHZhbHVlLCByZXN1bHQpO1xuICAgIH07XG4gICAgVGFrZVdoaWxlU3Vic2NyaWJlci5wcm90b3R5cGUubmV4dE9yQ29tcGxldGUgPSBmdW5jdGlvbiAodmFsdWUsIHByZWRpY2F0ZVJlc3VsdCkge1xuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICBpZiAoQm9vbGVhbihwcmVkaWNhdGVSZXN1bHQpKSB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbi5uZXh0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmluY2x1c2l2ZSkge1xuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFRha2VXaGlsZVN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRha2VXaGlsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIsX3V0aWxfbm9vcCxfdXRpbF9pc0Z1bmN0aW9uIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi4vdXRpbC9ub29wJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIHRhcChuZXh0T3JPYnNlcnZlciwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHRhcE9wZXJhdG9yRnVuY3Rpb24oc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2UubGlmdChuZXcgRG9PcGVyYXRvcihuZXh0T3JPYnNlcnZlciwgZXJyb3IsIGNvbXBsZXRlKSk7XG4gICAgfTtcbn1cbnZhciBEb09wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERvT3BlcmF0b3IobmV4dE9yT2JzZXJ2ZXIsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB0aGlzLm5leHRPck9ic2VydmVyID0gbmV4dE9yT2JzZXJ2ZXI7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBlcnJvcjtcbiAgICAgICAgdGhpcy5jb21wbGV0ZSA9IGNvbXBsZXRlO1xuICAgIH1cbiAgICBEb09wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgVGFwU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLm5leHRPck9ic2VydmVyLCB0aGlzLmVycm9yLCB0aGlzLmNvbXBsZXRlKSk7XG4gICAgfTtcbiAgICByZXR1cm4gRG9PcGVyYXRvcjtcbn0oKSk7XG52YXIgVGFwU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhUYXBTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFRhcFN1YnNjcmliZXIoZGVzdGluYXRpb24sIG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl90YXBOZXh0ID0gbm9vcDtcbiAgICAgICAgX3RoaXMuX3RhcEVycm9yID0gbm9vcDtcbiAgICAgICAgX3RoaXMuX3RhcENvbXBsZXRlID0gbm9vcDtcbiAgICAgICAgX3RoaXMuX3RhcEVycm9yID0gZXJyb3IgfHwgbm9vcDtcbiAgICAgICAgX3RoaXMuX3RhcENvbXBsZXRlID0gY29tcGxldGUgfHwgbm9vcDtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24ob2JzZXJ2ZXJPck5leHQpKSB7XG4gICAgICAgICAgICBfdGhpcy5fY29udGV4dCA9IF90aGlzO1xuICAgICAgICAgICAgX3RoaXMuX3RhcE5leHQgPSBvYnNlcnZlck9yTmV4dDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvYnNlcnZlck9yTmV4dCkge1xuICAgICAgICAgICAgX3RoaXMuX2NvbnRleHQgPSBvYnNlcnZlck9yTmV4dDtcbiAgICAgICAgICAgIF90aGlzLl90YXBOZXh0ID0gb2JzZXJ2ZXJPck5leHQubmV4dCB8fCBub29wO1xuICAgICAgICAgICAgX3RoaXMuX3RhcEVycm9yID0gb2JzZXJ2ZXJPck5leHQuZXJyb3IgfHwgbm9vcDtcbiAgICAgICAgICAgIF90aGlzLl90YXBDb21wbGV0ZSA9IG9ic2VydmVyT3JOZXh0LmNvbXBsZXRlIHx8IG5vb3A7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBUYXBTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5fdGFwTmV4dC5jYWxsKHRoaXMuX2NvbnRleHQsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHZhbHVlKTtcbiAgICB9O1xuICAgIFRhcFN1YnNjcmliZXIucHJvdG90eXBlLl9lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuX3RhcEVycm9yLmNhbGwodGhpcy5fY29udGV4dCwgZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgIH07XG4gICAgVGFwU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5fdGFwQ29tcGxldGUuY2FsbCh0aGlzLl9jb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICB9O1xuICAgIHJldHVybiBUYXBTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10YXAuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9pbm5lclN1YnNjcmliZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU2ltcGxlT3V0ZXJTdWJzY3JpYmVyLCBpbm5lclN1YnNjcmliZSwgU2ltcGxlSW5uZXJTdWJzY3JpYmVyIH0gZnJvbSAnLi4vaW5uZXJTdWJzY3JpYmUnO1xuZXhwb3J0IHZhciBkZWZhdWx0VGhyb3R0bGVDb25maWcgPSB7XG4gICAgbGVhZGluZzogdHJ1ZSxcbiAgICB0cmFpbGluZzogZmFsc2Vcbn07XG5leHBvcnQgZnVuY3Rpb24gdGhyb3R0bGUoZHVyYXRpb25TZWxlY3RvciwgY29uZmlnKSB7XG4gICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGNvbmZpZyA9IGRlZmF1bHRUaHJvdHRsZUNvbmZpZztcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBUaHJvdHRsZU9wZXJhdG9yKGR1cmF0aW9uU2VsZWN0b3IsICEhY29uZmlnLmxlYWRpbmcsICEhY29uZmlnLnRyYWlsaW5nKSk7IH07XG59XG52YXIgVGhyb3R0bGVPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUaHJvdHRsZU9wZXJhdG9yKGR1cmF0aW9uU2VsZWN0b3IsIGxlYWRpbmcsIHRyYWlsaW5nKSB7XG4gICAgICAgIHRoaXMuZHVyYXRpb25TZWxlY3RvciA9IGR1cmF0aW9uU2VsZWN0b3I7XG4gICAgICAgIHRoaXMubGVhZGluZyA9IGxlYWRpbmc7XG4gICAgICAgIHRoaXMudHJhaWxpbmcgPSB0cmFpbGluZztcbiAgICB9XG4gICAgVGhyb3R0bGVPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IFRocm90dGxlU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLmR1cmF0aW9uU2VsZWN0b3IsIHRoaXMubGVhZGluZywgdGhpcy50cmFpbGluZykpO1xuICAgIH07XG4gICAgcmV0dXJuIFRocm90dGxlT3BlcmF0b3I7XG59KCkpO1xudmFyIFRocm90dGxlU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhUaHJvdHRsZVN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVGhyb3R0bGVTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBkdXJhdGlvblNlbGVjdG9yLCBfbGVhZGluZywgX3RyYWlsaW5nKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uO1xuICAgICAgICBfdGhpcy5kdXJhdGlvblNlbGVjdG9yID0gZHVyYXRpb25TZWxlY3RvcjtcbiAgICAgICAgX3RoaXMuX2xlYWRpbmcgPSBfbGVhZGluZztcbiAgICAgICAgX3RoaXMuX3RyYWlsaW5nID0gX3RyYWlsaW5nO1xuICAgICAgICBfdGhpcy5faGFzVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBUaHJvdHRsZVN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2hhc1ZhbHVlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fc2VuZFZhbHVlID0gdmFsdWU7XG4gICAgICAgIGlmICghdGhpcy5fdGhyb3R0bGVkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGVhZGluZykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy50aHJvdHRsZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRocm90dGxlU3Vic2NyaWJlci5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgX2hhc1ZhbHVlID0gX2EuX2hhc1ZhbHVlLCBfc2VuZFZhbHVlID0gX2EuX3NlbmRWYWx1ZTtcbiAgICAgICAgaWYgKF9oYXNWYWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KF9zZW5kVmFsdWUpO1xuICAgICAgICAgICAgdGhpcy50aHJvdHRsZShfc2VuZFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9oYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9zZW5kVmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBUaHJvdHRsZVN1YnNjcmliZXIucHJvdG90eXBlLnRocm90dGxlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBkdXJhdGlvbiA9IHRoaXMudHJ5RHVyYXRpb25TZWxlY3Rvcih2YWx1ZSk7XG4gICAgICAgIGlmICghIWR1cmF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmFkZCh0aGlzLl90aHJvdHRsZWQgPSBpbm5lclN1YnNjcmliZShkdXJhdGlvbiwgbmV3IFNpbXBsZUlubmVyU3Vic2NyaWJlcih0aGlzKSkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUaHJvdHRsZVN1YnNjcmliZXIucHJvdG90eXBlLnRyeUR1cmF0aW9uU2VsZWN0b3IgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmR1cmF0aW9uU2VsZWN0b3IodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUaHJvdHRsZVN1YnNjcmliZXIucHJvdG90eXBlLnRocm90dGxpbmdEb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBfdGhyb3R0bGVkID0gX2EuX3Rocm90dGxlZCwgX3RyYWlsaW5nID0gX2EuX3RyYWlsaW5nO1xuICAgICAgICBpZiAoX3Rocm90dGxlZCkge1xuICAgICAgICAgICAgX3Rocm90dGxlZC51bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Rocm90dGxlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKF90cmFpbGluZykge1xuICAgICAgICAgICAgdGhpcy5zZW5kKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRocm90dGxlU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50aHJvdHRsaW5nRG9uZSgpO1xuICAgIH07XG4gICAgVGhyb3R0bGVTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50aHJvdHRsaW5nRG9uZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIFRocm90dGxlU3Vic2NyaWJlcjtcbn0oU2ltcGxlT3V0ZXJTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aHJvdHRsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIsX3NjaGVkdWxlcl9hc3luYyxfdGhyb3R0bGUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IGFzeW5jIH0gZnJvbSAnLi4vc2NoZWR1bGVyL2FzeW5jJztcbmltcG9ydCB7IGRlZmF1bHRUaHJvdHRsZUNvbmZpZyB9IGZyb20gJy4vdGhyb3R0bGUnO1xuZXhwb3J0IGZ1bmN0aW9uIHRocm90dGxlVGltZShkdXJhdGlvbiwgc2NoZWR1bGVyLCBjb25maWcpIHtcbiAgICBpZiAoc2NoZWR1bGVyID09PSB2b2lkIDApIHtcbiAgICAgICAgc2NoZWR1bGVyID0gYXN5bmM7XG4gICAgfVxuICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkge1xuICAgICAgICBjb25maWcgPSBkZWZhdWx0VGhyb3R0bGVDb25maWc7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UubGlmdChuZXcgVGhyb3R0bGVUaW1lT3BlcmF0b3IoZHVyYXRpb24sIHNjaGVkdWxlciwgY29uZmlnLmxlYWRpbmcsIGNvbmZpZy50cmFpbGluZykpOyB9O1xufVxudmFyIFRocm90dGxlVGltZU9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRocm90dGxlVGltZU9wZXJhdG9yKGR1cmF0aW9uLCBzY2hlZHVsZXIsIGxlYWRpbmcsIHRyYWlsaW5nKSB7XG4gICAgICAgIHRoaXMuZHVyYXRpb24gPSBkdXJhdGlvbjtcbiAgICAgICAgdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgICAgIHRoaXMubGVhZGluZyA9IGxlYWRpbmc7XG4gICAgICAgIHRoaXMudHJhaWxpbmcgPSB0cmFpbGluZztcbiAgICB9XG4gICAgVGhyb3R0bGVUaW1lT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBUaHJvdHRsZVRpbWVTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMuZHVyYXRpb24sIHRoaXMuc2NoZWR1bGVyLCB0aGlzLmxlYWRpbmcsIHRoaXMudHJhaWxpbmcpKTtcbiAgICB9O1xuICAgIHJldHVybiBUaHJvdHRsZVRpbWVPcGVyYXRvcjtcbn0oKSk7XG52YXIgVGhyb3R0bGVUaW1lU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhUaHJvdHRsZVRpbWVTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFRocm90dGxlVGltZVN1YnNjcmliZXIoZGVzdGluYXRpb24sIGR1cmF0aW9uLCBzY2hlZHVsZXIsIGxlYWRpbmcsIHRyYWlsaW5nKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kdXJhdGlvbiA9IGR1cmF0aW9uO1xuICAgICAgICBfdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgICAgIF90aGlzLmxlYWRpbmcgPSBsZWFkaW5nO1xuICAgICAgICBfdGhpcy50cmFpbGluZyA9IHRyYWlsaW5nO1xuICAgICAgICBfdGhpcy5faGFzVHJhaWxpbmdWYWx1ZSA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5fdHJhaWxpbmdWYWx1ZSA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgVGhyb3R0bGVUaW1lU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMudGhyb3R0bGVkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFpbGluZykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYWlsaW5nVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9oYXNUcmFpbGluZ1ZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWRkKHRoaXMudGhyb3R0bGVkID0gdGhpcy5zY2hlZHVsZXIuc2NoZWR1bGUoZGlzcGF0Y2hOZXh0LCB0aGlzLmR1cmF0aW9uLCB7IHN1YnNjcmliZXI6IHRoaXMgfSkpO1xuICAgICAgICAgICAgaWYgKHRoaXMubGVhZGluZykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnRyYWlsaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJhaWxpbmdWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX2hhc1RyYWlsaW5nVmFsdWUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBUaHJvdHRsZVRpbWVTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9oYXNUcmFpbGluZ1ZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodGhpcy5fdHJhaWxpbmdWYWx1ZSk7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRocm90dGxlVGltZVN1YnNjcmliZXIucHJvdG90eXBlLmNsZWFyVGhyb3R0bGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0aHJvdHRsZWQgPSB0aGlzLnRocm90dGxlZDtcbiAgICAgICAgaWYgKHRocm90dGxlZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMudHJhaWxpbmcgJiYgdGhpcy5faGFzVHJhaWxpbmdWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh0aGlzLl90cmFpbGluZ1ZhbHVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmFpbGluZ1ZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLl9oYXNUcmFpbGluZ1ZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdHRsZWQudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKHRocm90dGxlZCk7XG4gICAgICAgICAgICB0aGlzLnRocm90dGxlZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBUaHJvdHRsZVRpbWVTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5mdW5jdGlvbiBkaXNwYXRjaE5leHQoYXJnKSB7XG4gICAgdmFyIHN1YnNjcmliZXIgPSBhcmcuc3Vic2NyaWJlcjtcbiAgICBzdWJzY3JpYmVyLmNsZWFyVGhyb3R0bGUoKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRocm90dGxlVGltZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX3V0aWxfRW1wdHlFcnJvcixfU3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgRW1wdHlFcnJvciB9IGZyb20gJy4uL3V0aWwvRW1wdHlFcnJvcic7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gdGhyb3dJZkVtcHR5KGVycm9yRmFjdG9yeSkge1xuICAgIGlmIChlcnJvckZhY3RvcnkgPT09IHZvaWQgMCkge1xuICAgICAgICBlcnJvckZhY3RvcnkgPSBkZWZhdWx0RXJyb3JGYWN0b3J5O1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IFRocm93SWZFbXB0eU9wZXJhdG9yKGVycm9yRmFjdG9yeSkpO1xuICAgIH07XG59XG52YXIgVGhyb3dJZkVtcHR5T3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGhyb3dJZkVtcHR5T3BlcmF0b3IoZXJyb3JGYWN0b3J5KSB7XG4gICAgICAgIHRoaXMuZXJyb3JGYWN0b3J5ID0gZXJyb3JGYWN0b3J5O1xuICAgIH1cbiAgICBUaHJvd0lmRW1wdHlPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IFRocm93SWZFbXB0eVN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5lcnJvckZhY3RvcnkpKTtcbiAgICB9O1xuICAgIHJldHVybiBUaHJvd0lmRW1wdHlPcGVyYXRvcjtcbn0oKSk7XG52YXIgVGhyb3dJZkVtcHR5U3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhUaHJvd0lmRW1wdHlTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFRocm93SWZFbXB0eVN1YnNjcmliZXIoZGVzdGluYXRpb24sIGVycm9yRmFjdG9yeSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZXJyb3JGYWN0b3J5ID0gZXJyb3JGYWN0b3J5O1xuICAgICAgICBfdGhpcy5oYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFRocm93SWZFbXB0eVN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuaGFzVmFsdWUgPSB0cnVlO1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICAgIH07XG4gICAgVGhyb3dJZkVtcHR5U3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuaGFzVmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBlcnIgPSB2b2lkIDA7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGVyciA9IHRoaXMuZXJyb3JGYWN0b3J5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGVyciA9IGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gVGhyb3dJZkVtcHR5U3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZnVuY3Rpb24gZGVmYXVsdEVycm9yRmFjdG9yeSgpIHtcbiAgICByZXR1cm4gbmV3IEVtcHR5RXJyb3IoKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRocm93SWZFbXB0eS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3NjaGVkdWxlcl9hc3luYyxfc2Nhbixfb2JzZXJ2YWJsZV9kZWZlcixfbWFwIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGFzeW5jIH0gZnJvbSAnLi4vc2NoZWR1bGVyL2FzeW5jJztcbmltcG9ydCB7IHNjYW4gfSBmcm9tICcuL3NjYW4nO1xuaW1wb3J0IHsgZGVmZXIgfSBmcm9tICcuLi9vYnNlcnZhYmxlL2RlZmVyJztcbmltcG9ydCB7IG1hcCB9IGZyb20gJy4vbWFwJztcbmV4cG9ydCBmdW5jdGlvbiB0aW1lSW50ZXJ2YWwoc2NoZWR1bGVyKSB7XG4gICAgaWYgKHNjaGVkdWxlciA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHNjaGVkdWxlciA9IGFzeW5jO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gZGVmZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZS5waXBlKHNjYW4oZnVuY3Rpb24gKF9hLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50ID0gX2EuY3VycmVudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gKHsgdmFsdWU6IHZhbHVlLCBjdXJyZW50OiBzY2hlZHVsZXIubm93KCksIGxhc3Q6IGN1cnJlbnQgfSk7XG4gICAgICAgICAgICB9LCB7IGN1cnJlbnQ6IHNjaGVkdWxlci5ub3coKSwgdmFsdWU6IHVuZGVmaW5lZCwgbGFzdDogdW5kZWZpbmVkIH0pLCBtYXAoZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSBfYS5jdXJyZW50LCBsYXN0ID0gX2EubGFzdCwgdmFsdWUgPSBfYS52YWx1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFRpbWVJbnRlcnZhbCh2YWx1ZSwgY3VycmVudCAtIGxhc3QpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KTtcbiAgICB9O1xufVxudmFyIFRpbWVJbnRlcnZhbCA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUaW1lSW50ZXJ2YWwodmFsdWUsIGludGVydmFsKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5pbnRlcnZhbCA9IGludGVydmFsO1xuICAgIH1cbiAgICByZXR1cm4gVGltZUludGVydmFsO1xufSgpKTtcbmV4cG9ydCB7IFRpbWVJbnRlcnZhbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGltZUludGVydmFsLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfc2NoZWR1bGVyX2FzeW5jLF91dGlsX1RpbWVvdXRFcnJvcixfdGltZW91dFdpdGgsX29ic2VydmFibGVfdGhyb3dFcnJvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBhc3luYyB9IGZyb20gJy4uL3NjaGVkdWxlci9hc3luYyc7XG5pbXBvcnQgeyBUaW1lb3V0RXJyb3IgfSBmcm9tICcuLi91dGlsL1RpbWVvdXRFcnJvcic7XG5pbXBvcnQgeyB0aW1lb3V0V2l0aCB9IGZyb20gJy4vdGltZW91dFdpdGgnO1xuaW1wb3J0IHsgdGhyb3dFcnJvciB9IGZyb20gJy4uL29ic2VydmFibGUvdGhyb3dFcnJvcic7XG5leHBvcnQgZnVuY3Rpb24gdGltZW91dChkdWUsIHNjaGVkdWxlcikge1xuICAgIGlmIChzY2hlZHVsZXIgPT09IHZvaWQgMCkge1xuICAgICAgICBzY2hlZHVsZXIgPSBhc3luYztcbiAgICB9XG4gICAgcmV0dXJuIHRpbWVvdXRXaXRoKGR1ZSwgdGhyb3dFcnJvcihuZXcgVGltZW91dEVycm9yKCkpLCBzY2hlZHVsZXIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGltZW91dC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX3NjaGVkdWxlcl9hc3luYyxfdXRpbF9pc0RhdGUsX2lubmVyU3Vic2NyaWJlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBhc3luYyB9IGZyb20gJy4uL3NjaGVkdWxlci9hc3luYyc7XG5pbXBvcnQgeyBpc0RhdGUgfSBmcm9tICcuLi91dGlsL2lzRGF0ZSc7XG5pbXBvcnQgeyBTaW1wbGVPdXRlclN1YnNjcmliZXIsIGlubmVyU3Vic2NyaWJlLCBTaW1wbGVJbm5lclN1YnNjcmliZXIgfSBmcm9tICcuLi9pbm5lclN1YnNjcmliZSc7XG5leHBvcnQgZnVuY3Rpb24gdGltZW91dFdpdGgoZHVlLCB3aXRoT2JzZXJ2YWJsZSwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKHNjaGVkdWxlciA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHNjaGVkdWxlciA9IGFzeW5jO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICB2YXIgYWJzb2x1dGVUaW1lb3V0ID0gaXNEYXRlKGR1ZSk7XG4gICAgICAgIHZhciB3YWl0Rm9yID0gYWJzb2x1dGVUaW1lb3V0ID8gKCtkdWUgLSBzY2hlZHVsZXIubm93KCkpIDogTWF0aC5hYnMoZHVlKTtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBUaW1lb3V0V2l0aE9wZXJhdG9yKHdhaXRGb3IsIGFic29sdXRlVGltZW91dCwgd2l0aE9ic2VydmFibGUsIHNjaGVkdWxlcikpO1xuICAgIH07XG59XG52YXIgVGltZW91dFdpdGhPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUaW1lb3V0V2l0aE9wZXJhdG9yKHdhaXRGb3IsIGFic29sdXRlVGltZW91dCwgd2l0aE9ic2VydmFibGUsIHNjaGVkdWxlcikge1xuICAgICAgICB0aGlzLndhaXRGb3IgPSB3YWl0Rm9yO1xuICAgICAgICB0aGlzLmFic29sdXRlVGltZW91dCA9IGFic29sdXRlVGltZW91dDtcbiAgICAgICAgdGhpcy53aXRoT2JzZXJ2YWJsZSA9IHdpdGhPYnNlcnZhYmxlO1xuICAgICAgICB0aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICB9XG4gICAgVGltZW91dFdpdGhPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IFRpbWVvdXRXaXRoU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLmFic29sdXRlVGltZW91dCwgdGhpcy53YWl0Rm9yLCB0aGlzLndpdGhPYnNlcnZhYmxlLCB0aGlzLnNjaGVkdWxlcikpO1xuICAgIH07XG4gICAgcmV0dXJuIFRpbWVvdXRXaXRoT3BlcmF0b3I7XG59KCkpO1xudmFyIFRpbWVvdXRXaXRoU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhUaW1lb3V0V2l0aFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVGltZW91dFdpdGhTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBhYnNvbHV0ZVRpbWVvdXQsIHdhaXRGb3IsIHdpdGhPYnNlcnZhYmxlLCBzY2hlZHVsZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmFic29sdXRlVGltZW91dCA9IGFic29sdXRlVGltZW91dDtcbiAgICAgICAgX3RoaXMud2FpdEZvciA9IHdhaXRGb3I7XG4gICAgICAgIF90aGlzLndpdGhPYnNlcnZhYmxlID0gd2l0aE9ic2VydmFibGU7XG4gICAgICAgIF90aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICAgICAgX3RoaXMuc2NoZWR1bGVUaW1lb3V0KCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgVGltZW91dFdpdGhTdWJzY3JpYmVyLmRpc3BhdGNoVGltZW91dCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciB3aXRoT2JzZXJ2YWJsZSA9IHN1YnNjcmliZXIud2l0aE9ic2VydmFibGU7XG4gICAgICAgIHN1YnNjcmliZXIuX3Vuc3Vic2NyaWJlQW5kUmVjeWNsZSgpO1xuICAgICAgICBzdWJzY3JpYmVyLmFkZChpbm5lclN1YnNjcmliZSh3aXRoT2JzZXJ2YWJsZSwgbmV3IFNpbXBsZUlubmVyU3Vic2NyaWJlcihzdWJzY3JpYmVyKSkpO1xuICAgIH07XG4gICAgVGltZW91dFdpdGhTdWJzY3JpYmVyLnByb3RvdHlwZS5zY2hlZHVsZVRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhY3Rpb24gPSB0aGlzLmFjdGlvbjtcbiAgICAgICAgaWYgKGFjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5hY3Rpb24gPSBhY3Rpb24uc2NoZWR1bGUodGhpcywgdGhpcy53YWl0Rm9yKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWRkKHRoaXMuYWN0aW9uID0gdGhpcy5zY2hlZHVsZXIuc2NoZWR1bGUoVGltZW91dFdpdGhTdWJzY3JpYmVyLmRpc3BhdGNoVGltZW91dCwgdGhpcy53YWl0Rm9yLCB0aGlzKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRpbWVvdXRXaXRoU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmFic29sdXRlVGltZW91dCkge1xuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZVRpbWVvdXQoKTtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLl9uZXh0LmNhbGwodGhpcywgdmFsdWUpO1xuICAgIH07XG4gICAgVGltZW91dFdpdGhTdWJzY3JpYmVyLnByb3RvdHlwZS5fdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYWN0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnNjaGVkdWxlciA9IG51bGw7XG4gICAgICAgIHRoaXMud2l0aE9ic2VydmFibGUgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIFRpbWVvdXRXaXRoU3Vic2NyaWJlcjtcbn0oU2ltcGxlT3V0ZXJTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aW1lb3V0V2l0aC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3NjaGVkdWxlcl9hc3luYyxfbWFwIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGFzeW5jIH0gZnJvbSAnLi4vc2NoZWR1bGVyL2FzeW5jJztcbmltcG9ydCB7IG1hcCB9IGZyb20gJy4vbWFwJztcbmV4cG9ydCBmdW5jdGlvbiB0aW1lc3RhbXAoc2NoZWR1bGVyKSB7XG4gICAgaWYgKHNjaGVkdWxlciA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHNjaGVkdWxlciA9IGFzeW5jO1xuICAgIH1cbiAgICByZXR1cm4gbWFwKGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gbmV3IFRpbWVzdGFtcCh2YWx1ZSwgc2NoZWR1bGVyLm5vdygpKTsgfSk7XG59XG52YXIgVGltZXN0YW1wID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRpbWVzdGFtcCh2YWx1ZSwgdGltZXN0YW1wKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy50aW1lc3RhbXAgPSB0aW1lc3RhbXA7XG4gICAgfVxuICAgIHJldHVybiBUaW1lc3RhbXA7XG59KCkpO1xuZXhwb3J0IHsgVGltZXN0YW1wIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aW1lc3RhbXAuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9yZWR1Y2UgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgcmVkdWNlIH0gZnJvbSAnLi9yZWR1Y2UnO1xuZnVuY3Rpb24gdG9BcnJheVJlZHVjZXIoYXJyLCBpdGVtLCBpbmRleCkge1xuICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gW2l0ZW1dO1xuICAgIH1cbiAgICBhcnIucHVzaChpdGVtKTtcbiAgICByZXR1cm4gYXJyO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRvQXJyYXkoKSB7XG4gICAgcmV0dXJuIHJlZHVjZSh0b0FycmF5UmVkdWNlciwgW10pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dG9BcnJheS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YmplY3QsX2lubmVyU3Vic2NyaWJlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAnLi4vU3ViamVjdCc7XG5pbXBvcnQgeyBTaW1wbGVPdXRlclN1YnNjcmliZXIsIGlubmVyU3Vic2NyaWJlLCBTaW1wbGVJbm5lclN1YnNjcmliZXIgfSBmcm9tICcuLi9pbm5lclN1YnNjcmliZSc7XG5leHBvcnQgZnVuY3Rpb24gd2luZG93KHdpbmRvd0JvdW5kYXJpZXMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gd2luZG93T3BlcmF0b3JGdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBXaW5kb3dPcGVyYXRvcih3aW5kb3dCb3VuZGFyaWVzKSk7XG4gICAgfTtcbn1cbnZhciBXaW5kb3dPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBXaW5kb3dPcGVyYXRvcih3aW5kb3dCb3VuZGFyaWVzKSB7XG4gICAgICAgIHRoaXMud2luZG93Qm91bmRhcmllcyA9IHdpbmRvd0JvdW5kYXJpZXM7XG4gICAgfVxuICAgIFdpbmRvd09wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICB2YXIgd2luZG93U3Vic2NyaWJlciA9IG5ldyBXaW5kb3dTdWJzY3JpYmVyKHN1YnNjcmliZXIpO1xuICAgICAgICB2YXIgc291cmNlU3Vic2NyaXB0aW9uID0gc291cmNlLnN1YnNjcmliZSh3aW5kb3dTdWJzY3JpYmVyKTtcbiAgICAgICAgaWYgKCFzb3VyY2VTdWJzY3JpcHRpb24uY2xvc2VkKSB7XG4gICAgICAgICAgICB3aW5kb3dTdWJzY3JpYmVyLmFkZChpbm5lclN1YnNjcmliZSh0aGlzLndpbmRvd0JvdW5kYXJpZXMsIG5ldyBTaW1wbGVJbm5lclN1YnNjcmliZXIod2luZG93U3Vic2NyaWJlcikpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc291cmNlU3Vic2NyaXB0aW9uO1xuICAgIH07XG4gICAgcmV0dXJuIFdpbmRvd09wZXJhdG9yO1xufSgpKTtcbnZhciBXaW5kb3dTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFdpbmRvd1N1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gV2luZG93U3Vic2NyaWJlcihkZXN0aW5hdGlvbikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMud2luZG93ID0gbmV3IFN1YmplY3QoKTtcbiAgICAgICAgZGVzdGluYXRpb24ubmV4dChfdGhpcy53aW5kb3cpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFdpbmRvd1N1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMub3BlbldpbmRvdygpO1xuICAgIH07XG4gICAgV2luZG93U3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5RXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5fZXJyb3IoZXJyb3IpO1xuICAgIH07XG4gICAgV2luZG93U3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5Q29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2NvbXBsZXRlKCk7XG4gICAgfTtcbiAgICBXaW5kb3dTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLndpbmRvdy5uZXh0KHZhbHVlKTtcbiAgICB9O1xuICAgIFdpbmRvd1N1YnNjcmliZXIucHJvdG90eXBlLl9lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgdGhpcy53aW5kb3cuZXJyb3IoZXJyKTtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgIH07XG4gICAgV2luZG93U3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLndpbmRvdy5jb21wbGV0ZSgpO1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgfTtcbiAgICBXaW5kb3dTdWJzY3JpYmVyLnByb3RvdHlwZS5fdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMud2luZG93ID0gbnVsbDtcbiAgICB9O1xuICAgIFdpbmRvd1N1YnNjcmliZXIucHJvdG90eXBlLm9wZW5XaW5kb3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwcmV2V2luZG93ID0gdGhpcy53aW5kb3c7XG4gICAgICAgIGlmIChwcmV2V2luZG93KSB7XG4gICAgICAgICAgICBwcmV2V2luZG93LmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gdGhpcy5kZXN0aW5hdGlvbjtcbiAgICAgICAgdmFyIG5ld1dpbmRvdyA9IHRoaXMud2luZG93ID0gbmV3IFN1YmplY3QoKTtcbiAgICAgICAgZGVzdGluYXRpb24ubmV4dChuZXdXaW5kb3cpO1xuICAgIH07XG4gICAgcmV0dXJuIFdpbmRvd1N1YnNjcmliZXI7XG59KFNpbXBsZU91dGVyU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2luZG93LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlcixfU3ViamVjdCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJy4uL1N1YmplY3QnO1xuZXhwb3J0IGZ1bmN0aW9uIHdpbmRvd0NvdW50KHdpbmRvd1NpemUsIHN0YXJ0V2luZG93RXZlcnkpIHtcbiAgICBpZiAoc3RhcnRXaW5kb3dFdmVyeSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHN0YXJ0V2luZG93RXZlcnkgPSAwO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gd2luZG93Q291bnRPcGVyYXRvckZ1bmN0aW9uKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IFdpbmRvd0NvdW50T3BlcmF0b3Iod2luZG93U2l6ZSwgc3RhcnRXaW5kb3dFdmVyeSkpO1xuICAgIH07XG59XG52YXIgV2luZG93Q291bnRPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBXaW5kb3dDb3VudE9wZXJhdG9yKHdpbmRvd1NpemUsIHN0YXJ0V2luZG93RXZlcnkpIHtcbiAgICAgICAgdGhpcy53aW5kb3dTaXplID0gd2luZG93U2l6ZTtcbiAgICAgICAgdGhpcy5zdGFydFdpbmRvd0V2ZXJ5ID0gc3RhcnRXaW5kb3dFdmVyeTtcbiAgICB9XG4gICAgV2luZG93Q291bnRPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IFdpbmRvd0NvdW50U3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLndpbmRvd1NpemUsIHRoaXMuc3RhcnRXaW5kb3dFdmVyeSkpO1xuICAgIH07XG4gICAgcmV0dXJuIFdpbmRvd0NvdW50T3BlcmF0b3I7XG59KCkpO1xudmFyIFdpbmRvd0NvdW50U3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhXaW5kb3dDb3VudFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gV2luZG93Q291bnRTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCB3aW5kb3dTaXplLCBzdGFydFdpbmRvd0V2ZXJ5KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uO1xuICAgICAgICBfdGhpcy53aW5kb3dTaXplID0gd2luZG93U2l6ZTtcbiAgICAgICAgX3RoaXMuc3RhcnRXaW5kb3dFdmVyeSA9IHN0YXJ0V2luZG93RXZlcnk7XG4gICAgICAgIF90aGlzLndpbmRvd3MgPSBbbmV3IFN1YmplY3QoKV07XG4gICAgICAgIF90aGlzLmNvdW50ID0gMDtcbiAgICAgICAgZGVzdGluYXRpb24ubmV4dChfdGhpcy53aW5kb3dzWzBdKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBXaW5kb3dDb3VudFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBzdGFydFdpbmRvd0V2ZXJ5ID0gKHRoaXMuc3RhcnRXaW5kb3dFdmVyeSA+IDApID8gdGhpcy5zdGFydFdpbmRvd0V2ZXJ5IDogdGhpcy53aW5kb3dTaXplO1xuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICB2YXIgd2luZG93U2l6ZSA9IHRoaXMud2luZG93U2l6ZTtcbiAgICAgICAgdmFyIHdpbmRvd3MgPSB0aGlzLndpbmRvd3M7XG4gICAgICAgIHZhciBsZW4gPSB3aW5kb3dzLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW4gJiYgIXRoaXMuY2xvc2VkOyBpKyspIHtcbiAgICAgICAgICAgIHdpbmRvd3NbaV0ubmV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGMgPSB0aGlzLmNvdW50IC0gd2luZG93U2l6ZSArIDE7XG4gICAgICAgIGlmIChjID49IDAgJiYgYyAlIHN0YXJ0V2luZG93RXZlcnkgPT09IDAgJiYgIXRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICB3aW5kb3dzLnNoaWZ0KCkuY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKyt0aGlzLmNvdW50ICUgc3RhcnRXaW5kb3dFdmVyeSA9PT0gMCAmJiAhdGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHZhciB3aW5kb3dfMSA9IG5ldyBTdWJqZWN0KCk7XG4gICAgICAgICAgICB3aW5kb3dzLnB1c2god2luZG93XzEpO1xuICAgICAgICAgICAgZGVzdGluYXRpb24ubmV4dCh3aW5kb3dfMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFdpbmRvd0NvdW50U3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB2YXIgd2luZG93cyA9IHRoaXMud2luZG93cztcbiAgICAgICAgaWYgKHdpbmRvd3MpIHtcbiAgICAgICAgICAgIHdoaWxlICh3aW5kb3dzLmxlbmd0aCA+IDAgJiYgIXRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgd2luZG93cy5zaGlmdCgpLmVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgIH07XG4gICAgV2luZG93Q291bnRTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB3aW5kb3dzID0gdGhpcy53aW5kb3dzO1xuICAgICAgICBpZiAod2luZG93cykge1xuICAgICAgICAgICAgd2hpbGUgKHdpbmRvd3MubGVuZ3RoID4gMCAmJiAhdGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3dzLnNoaWZ0KCkuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgfTtcbiAgICBXaW5kb3dDb3VudFN1YnNjcmliZXIucHJvdG90eXBlLl91bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIHRoaXMud2luZG93cyA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gV2luZG93Q291bnRTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD13aW5kb3dDb3VudC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YmplY3QsX3NjaGVkdWxlcl9hc3luYyxfU3Vic2NyaWJlcixfdXRpbF9pc051bWVyaWMsX3V0aWxfaXNTY2hlZHVsZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICcuLi9TdWJqZWN0JztcbmltcG9ydCB7IGFzeW5jIH0gZnJvbSAnLi4vc2NoZWR1bGVyL2FzeW5jJztcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IGlzTnVtZXJpYyB9IGZyb20gJy4uL3V0aWwvaXNOdW1lcmljJztcbmltcG9ydCB7IGlzU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9pc1NjaGVkdWxlcic7XG5leHBvcnQgZnVuY3Rpb24gd2luZG93VGltZSh3aW5kb3dUaW1lU3Bhbikge1xuICAgIHZhciBzY2hlZHVsZXIgPSBhc3luYztcbiAgICB2YXIgd2luZG93Q3JlYXRpb25JbnRlcnZhbCA9IG51bGw7XG4gICAgdmFyIG1heFdpbmRvd1NpemUgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgaWYgKGlzU2NoZWR1bGVyKGFyZ3VtZW50c1szXSkpIHtcbiAgICAgICAgc2NoZWR1bGVyID0gYXJndW1lbnRzWzNdO1xuICAgIH1cbiAgICBpZiAoaXNTY2hlZHVsZXIoYXJndW1lbnRzWzJdKSkge1xuICAgICAgICBzY2hlZHVsZXIgPSBhcmd1bWVudHNbMl07XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzTnVtZXJpYyhhcmd1bWVudHNbMl0pKSB7XG4gICAgICAgIG1heFdpbmRvd1NpemUgPSBOdW1iZXIoYXJndW1lbnRzWzJdKTtcbiAgICB9XG4gICAgaWYgKGlzU2NoZWR1bGVyKGFyZ3VtZW50c1sxXSkpIHtcbiAgICAgICAgc2NoZWR1bGVyID0gYXJndW1lbnRzWzFdO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc051bWVyaWMoYXJndW1lbnRzWzFdKSkge1xuICAgICAgICB3aW5kb3dDcmVhdGlvbkludGVydmFsID0gTnVtYmVyKGFyZ3VtZW50c1sxXSk7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiB3aW5kb3dUaW1lT3BlcmF0b3JGdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBXaW5kb3dUaW1lT3BlcmF0b3Iod2luZG93VGltZVNwYW4sIHdpbmRvd0NyZWF0aW9uSW50ZXJ2YWwsIG1heFdpbmRvd1NpemUsIHNjaGVkdWxlcikpO1xuICAgIH07XG59XG52YXIgV2luZG93VGltZU9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFdpbmRvd1RpbWVPcGVyYXRvcih3aW5kb3dUaW1lU3Bhbiwgd2luZG93Q3JlYXRpb25JbnRlcnZhbCwgbWF4V2luZG93U2l6ZSwgc2NoZWR1bGVyKSB7XG4gICAgICAgIHRoaXMud2luZG93VGltZVNwYW4gPSB3aW5kb3dUaW1lU3BhbjtcbiAgICAgICAgdGhpcy53aW5kb3dDcmVhdGlvbkludGVydmFsID0gd2luZG93Q3JlYXRpb25JbnRlcnZhbDtcbiAgICAgICAgdGhpcy5tYXhXaW5kb3dTaXplID0gbWF4V2luZG93U2l6ZTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgfVxuICAgIFdpbmRvd1RpbWVPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IFdpbmRvd1RpbWVTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMud2luZG93VGltZVNwYW4sIHRoaXMud2luZG93Q3JlYXRpb25JbnRlcnZhbCwgdGhpcy5tYXhXaW5kb3dTaXplLCB0aGlzLnNjaGVkdWxlcikpO1xuICAgIH07XG4gICAgcmV0dXJuIFdpbmRvd1RpbWVPcGVyYXRvcjtcbn0oKSk7XG52YXIgQ291bnRlZFN1YmplY3QgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQ291bnRlZFN1YmplY3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ291bnRlZFN1YmplY3QoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fbnVtYmVyT2ZOZXh0ZWRWYWx1ZXMgPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIENvdW50ZWRTdWJqZWN0LnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX251bWJlck9mTmV4dGVkVmFsdWVzKys7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUubmV4dC5jYWxsKHRoaXMsIHZhbHVlKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb3VudGVkU3ViamVjdC5wcm90b3R5cGUsIFwibnVtYmVyT2ZOZXh0ZWRWYWx1ZXNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9udW1iZXJPZk5leHRlZFZhbHVlcztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIENvdW50ZWRTdWJqZWN0O1xufShTdWJqZWN0KSk7XG52YXIgV2luZG93VGltZVN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoV2luZG93VGltZVN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gV2luZG93VGltZVN1YnNjcmliZXIoZGVzdGluYXRpb24sIHdpbmRvd1RpbWVTcGFuLCB3aW5kb3dDcmVhdGlvbkludGVydmFsLCBtYXhXaW5kb3dTaXplLCBzY2hlZHVsZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZGVzdGluYXRpb247XG4gICAgICAgIF90aGlzLndpbmRvd1RpbWVTcGFuID0gd2luZG93VGltZVNwYW47XG4gICAgICAgIF90aGlzLndpbmRvd0NyZWF0aW9uSW50ZXJ2YWwgPSB3aW5kb3dDcmVhdGlvbkludGVydmFsO1xuICAgICAgICBfdGhpcy5tYXhXaW5kb3dTaXplID0gbWF4V2luZG93U2l6ZTtcbiAgICAgICAgX3RoaXMuc2NoZWR1bGVyID0gc2NoZWR1bGVyO1xuICAgICAgICBfdGhpcy53aW5kb3dzID0gW107XG4gICAgICAgIHZhciB3aW5kb3cgPSBfdGhpcy5vcGVuV2luZG93KCk7XG4gICAgICAgIGlmICh3aW5kb3dDcmVhdGlvbkludGVydmFsICE9PSBudWxsICYmIHdpbmRvd0NyZWF0aW9uSW50ZXJ2YWwgPj0gMCkge1xuICAgICAgICAgICAgdmFyIGNsb3NlU3RhdGUgPSB7IHN1YnNjcmliZXI6IF90aGlzLCB3aW5kb3c6IHdpbmRvdywgY29udGV4dDogbnVsbCB9O1xuICAgICAgICAgICAgdmFyIGNyZWF0aW9uU3RhdGUgPSB7IHdpbmRvd1RpbWVTcGFuOiB3aW5kb3dUaW1lU3Bhbiwgd2luZG93Q3JlYXRpb25JbnRlcnZhbDogd2luZG93Q3JlYXRpb25JbnRlcnZhbCwgc3Vic2NyaWJlcjogX3RoaXMsIHNjaGVkdWxlcjogc2NoZWR1bGVyIH07XG4gICAgICAgICAgICBfdGhpcy5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGRpc3BhdGNoV2luZG93Q2xvc2UsIHdpbmRvd1RpbWVTcGFuLCBjbG9zZVN0YXRlKSk7XG4gICAgICAgICAgICBfdGhpcy5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGRpc3BhdGNoV2luZG93Q3JlYXRpb24sIHdpbmRvd0NyZWF0aW9uSW50ZXJ2YWwsIGNyZWF0aW9uU3RhdGUpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciB0aW1lU3Bhbk9ubHlTdGF0ZSA9IHsgc3Vic2NyaWJlcjogX3RoaXMsIHdpbmRvdzogd2luZG93LCB3aW5kb3dUaW1lU3Bhbjogd2luZG93VGltZVNwYW4gfTtcbiAgICAgICAgICAgIF90aGlzLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZGlzcGF0Y2hXaW5kb3dUaW1lU3Bhbk9ubHksIHdpbmRvd1RpbWVTcGFuLCB0aW1lU3Bhbk9ubHlTdGF0ZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgV2luZG93VGltZVN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciB3aW5kb3dzID0gdGhpcy53aW5kb3dzO1xuICAgICAgICB2YXIgbGVuID0gd2luZG93cy5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB3aW5kb3dfMSA9IHdpbmRvd3NbaV07XG4gICAgICAgICAgICBpZiAoIXdpbmRvd18xLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIHdpbmRvd18xLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmICh3aW5kb3dfMS5udW1iZXJPZk5leHRlZFZhbHVlcyA+PSB0aGlzLm1heFdpbmRvd1NpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZVdpbmRvdyh3aW5kb3dfMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBXaW5kb3dUaW1lU3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB2YXIgd2luZG93cyA9IHRoaXMud2luZG93cztcbiAgICAgICAgd2hpbGUgKHdpbmRvd3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgd2luZG93cy5zaGlmdCgpLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgIH07XG4gICAgV2luZG93VGltZVN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHdpbmRvd3MgPSB0aGlzLndpbmRvd3M7XG4gICAgICAgIHdoaWxlICh3aW5kb3dzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciB3aW5kb3dfMiA9IHdpbmRvd3Muc2hpZnQoKTtcbiAgICAgICAgICAgIGlmICghd2luZG93XzIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgd2luZG93XzIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgfTtcbiAgICBXaW5kb3dUaW1lU3Vic2NyaWJlci5wcm90b3R5cGUub3BlbldpbmRvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHdpbmRvdyA9IG5ldyBDb3VudGVkU3ViamVjdCgpO1xuICAgICAgICB0aGlzLndpbmRvd3MucHVzaCh3aW5kb3cpO1xuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICBkZXN0aW5hdGlvbi5uZXh0KHdpbmRvdyk7XG4gICAgICAgIHJldHVybiB3aW5kb3c7XG4gICAgfTtcbiAgICBXaW5kb3dUaW1lU3Vic2NyaWJlci5wcm90b3R5cGUuY2xvc2VXaW5kb3cgPSBmdW5jdGlvbiAod2luZG93KSB7XG4gICAgICAgIHdpbmRvdy5jb21wbGV0ZSgpO1xuICAgICAgICB2YXIgd2luZG93cyA9IHRoaXMud2luZG93cztcbiAgICAgICAgd2luZG93cy5zcGxpY2Uod2luZG93cy5pbmRleE9mKHdpbmRvdyksIDEpO1xuICAgIH07XG4gICAgcmV0dXJuIFdpbmRvd1RpbWVTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5mdW5jdGlvbiBkaXNwYXRjaFdpbmRvd1RpbWVTcGFuT25seShzdGF0ZSkge1xuICAgIHZhciBzdWJzY3JpYmVyID0gc3RhdGUuc3Vic2NyaWJlciwgd2luZG93VGltZVNwYW4gPSBzdGF0ZS53aW5kb3dUaW1lU3Bhbiwgd2luZG93ID0gc3RhdGUud2luZG93O1xuICAgIGlmICh3aW5kb3cpIHtcbiAgICAgICAgc3Vic2NyaWJlci5jbG9zZVdpbmRvdyh3aW5kb3cpO1xuICAgIH1cbiAgICBzdGF0ZS53aW5kb3cgPSBzdWJzY3JpYmVyLm9wZW5XaW5kb3coKTtcbiAgICB0aGlzLnNjaGVkdWxlKHN0YXRlLCB3aW5kb3dUaW1lU3Bhbik7XG59XG5mdW5jdGlvbiBkaXNwYXRjaFdpbmRvd0NyZWF0aW9uKHN0YXRlKSB7XG4gICAgdmFyIHdpbmRvd1RpbWVTcGFuID0gc3RhdGUud2luZG93VGltZVNwYW4sIHN1YnNjcmliZXIgPSBzdGF0ZS5zdWJzY3JpYmVyLCBzY2hlZHVsZXIgPSBzdGF0ZS5zY2hlZHVsZXIsIHdpbmRvd0NyZWF0aW9uSW50ZXJ2YWwgPSBzdGF0ZS53aW5kb3dDcmVhdGlvbkludGVydmFsO1xuICAgIHZhciB3aW5kb3cgPSBzdWJzY3JpYmVyLm9wZW5XaW5kb3coKTtcbiAgICB2YXIgYWN0aW9uID0gdGhpcztcbiAgICB2YXIgY29udGV4dCA9IHsgYWN0aW9uOiBhY3Rpb24sIHN1YnNjcmlwdGlvbjogbnVsbCB9O1xuICAgIHZhciB0aW1lU3BhblN0YXRlID0geyBzdWJzY3JpYmVyOiBzdWJzY3JpYmVyLCB3aW5kb3c6IHdpbmRvdywgY29udGV4dDogY29udGV4dCB9O1xuICAgIGNvbnRleHQuc3Vic2NyaXB0aW9uID0gc2NoZWR1bGVyLnNjaGVkdWxlKGRpc3BhdGNoV2luZG93Q2xvc2UsIHdpbmRvd1RpbWVTcGFuLCB0aW1lU3BhblN0YXRlKTtcbiAgICBhY3Rpb24uYWRkKGNvbnRleHQuc3Vic2NyaXB0aW9uKTtcbiAgICBhY3Rpb24uc2NoZWR1bGUoc3RhdGUsIHdpbmRvd0NyZWF0aW9uSW50ZXJ2YWwpO1xufVxuZnVuY3Rpb24gZGlzcGF0Y2hXaW5kb3dDbG9zZShzdGF0ZSkge1xuICAgIHZhciBzdWJzY3JpYmVyID0gc3RhdGUuc3Vic2NyaWJlciwgd2luZG93ID0gc3RhdGUud2luZG93LCBjb250ZXh0ID0gc3RhdGUuY29udGV4dDtcbiAgICBpZiAoY29udGV4dCAmJiBjb250ZXh0LmFjdGlvbiAmJiBjb250ZXh0LnN1YnNjcmlwdGlvbikge1xuICAgICAgICBjb250ZXh0LmFjdGlvbi5yZW1vdmUoY29udGV4dC5zdWJzY3JpcHRpb24pO1xuICAgIH1cbiAgICBzdWJzY3JpYmVyLmNsb3NlV2luZG93KHdpbmRvdyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD13aW5kb3dUaW1lLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3ViamVjdCxfU3Vic2NyaXB0aW9uLF9PdXRlclN1YnNjcmliZXIsX3V0aWxfc3Vic2NyaWJlVG9SZXN1bHQgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICcuLi9TdWJqZWN0JztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBPdXRlclN1YnNjcmliZXIgfSBmcm9tICcuLi9PdXRlclN1YnNjcmliZXInO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG9SZXN1bHQgfSBmcm9tICcuLi91dGlsL3N1YnNjcmliZVRvUmVzdWx0JztcbmV4cG9ydCBmdW5jdGlvbiB3aW5kb3dUb2dnbGUob3BlbmluZ3MsIGNsb3NpbmdTZWxlY3Rvcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UubGlmdChuZXcgV2luZG93VG9nZ2xlT3BlcmF0b3Iob3BlbmluZ3MsIGNsb3NpbmdTZWxlY3RvcikpOyB9O1xufVxudmFyIFdpbmRvd1RvZ2dsZU9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFdpbmRvd1RvZ2dsZU9wZXJhdG9yKG9wZW5pbmdzLCBjbG9zaW5nU2VsZWN0b3IpIHtcbiAgICAgICAgdGhpcy5vcGVuaW5ncyA9IG9wZW5pbmdzO1xuICAgICAgICB0aGlzLmNsb3NpbmdTZWxlY3RvciA9IGNsb3NpbmdTZWxlY3RvcjtcbiAgICB9XG4gICAgV2luZG93VG9nZ2xlT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBXaW5kb3dUb2dnbGVTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMub3BlbmluZ3MsIHRoaXMuY2xvc2luZ1NlbGVjdG9yKSk7XG4gICAgfTtcbiAgICByZXR1cm4gV2luZG93VG9nZ2xlT3BlcmF0b3I7XG59KCkpO1xudmFyIFdpbmRvd1RvZ2dsZVN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoV2luZG93VG9nZ2xlU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBXaW5kb3dUb2dnbGVTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBvcGVuaW5ncywgY2xvc2luZ1NlbGVjdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5vcGVuaW5ncyA9IG9wZW5pbmdzO1xuICAgICAgICBfdGhpcy5jbG9zaW5nU2VsZWN0b3IgPSBjbG9zaW5nU2VsZWN0b3I7XG4gICAgICAgIF90aGlzLmNvbnRleHRzID0gW107XG4gICAgICAgIF90aGlzLmFkZChfdGhpcy5vcGVuU3Vic2NyaXB0aW9uID0gc3Vic2NyaWJlVG9SZXN1bHQoX3RoaXMsIG9wZW5pbmdzLCBvcGVuaW5ncykpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFdpbmRvd1RvZ2dsZVN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBjb250ZXh0cyA9IHRoaXMuY29udGV4dHM7XG4gICAgICAgIGlmIChjb250ZXh0cykge1xuICAgICAgICAgICAgdmFyIGxlbiA9IGNvbnRleHRzLmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0c1tpXS53aW5kb3cubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFdpbmRvd1RvZ2dsZVN1YnNjcmliZXIucHJvdG90eXBlLl9lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgdmFyIGNvbnRleHRzID0gdGhpcy5jb250ZXh0cztcbiAgICAgICAgdGhpcy5jb250ZXh0cyA9IG51bGw7XG4gICAgICAgIGlmIChjb250ZXh0cykge1xuICAgICAgICAgICAgdmFyIGxlbiA9IGNvbnRleHRzLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgICAgICB2YXIgY29udGV4dF8xID0gY29udGV4dHNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGNvbnRleHRfMS53aW5kb3cuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0XzEuc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5fZXJyb3IuY2FsbCh0aGlzLCBlcnIpO1xuICAgIH07XG4gICAgV2luZG93VG9nZ2xlU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29udGV4dHMgPSB0aGlzLmNvbnRleHRzO1xuICAgICAgICB0aGlzLmNvbnRleHRzID0gbnVsbDtcbiAgICAgICAgaWYgKGNvbnRleHRzKSB7XG4gICAgICAgICAgICB2YXIgbGVuID0gY29udGV4dHMubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbikge1xuICAgICAgICAgICAgICAgIHZhciBjb250ZXh0XzIgPSBjb250ZXh0c1tpbmRleF07XG4gICAgICAgICAgICAgICAgY29udGV4dF8yLndpbmRvdy5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIGNvbnRleHRfMi5zdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLl9jb21wbGV0ZS5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgV2luZG93VG9nZ2xlU3Vic2NyaWJlci5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29udGV4dHMgPSB0aGlzLmNvbnRleHRzO1xuICAgICAgICB0aGlzLmNvbnRleHRzID0gbnVsbDtcbiAgICAgICAgaWYgKGNvbnRleHRzKSB7XG4gICAgICAgICAgICB2YXIgbGVuID0gY29udGV4dHMubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbikge1xuICAgICAgICAgICAgICAgIHZhciBjb250ZXh0XzMgPSBjb250ZXh0c1tpbmRleF07XG4gICAgICAgICAgICAgICAgY29udGV4dF8zLndpbmRvdy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIGNvbnRleHRfMy5zdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgV2luZG93VG9nZ2xlU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dCA9IGZ1bmN0aW9uIChvdXRlclZhbHVlLCBpbm5lclZhbHVlLCBvdXRlckluZGV4LCBpbm5lckluZGV4LCBpbm5lclN1Yikge1xuICAgICAgICBpZiAob3V0ZXJWYWx1ZSA9PT0gdGhpcy5vcGVuaW5ncykge1xuICAgICAgICAgICAgdmFyIGNsb3NpbmdOb3RpZmllciA9IHZvaWQgMDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIGNsb3NpbmdTZWxlY3RvciA9IHRoaXMuY2xvc2luZ1NlbGVjdG9yO1xuICAgICAgICAgICAgICAgIGNsb3NpbmdOb3RpZmllciA9IGNsb3NpbmdTZWxlY3Rvcihpbm5lclZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3IoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgd2luZG93XzEgPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgICAgIHZhciBjb250ZXh0XzQgPSB7IHdpbmRvdzogd2luZG93XzEsIHN1YnNjcmlwdGlvbjogc3Vic2NyaXB0aW9uIH07XG4gICAgICAgICAgICB0aGlzLmNvbnRleHRzLnB1c2goY29udGV4dF80KTtcbiAgICAgICAgICAgIHZhciBpbm5lclN1YnNjcmlwdGlvbiA9IHN1YnNjcmliZVRvUmVzdWx0KHRoaXMsIGNsb3NpbmdOb3RpZmllciwgY29udGV4dF80KTtcbiAgICAgICAgICAgIGlmIChpbm5lclN1YnNjcmlwdGlvbi5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlV2luZG93KHRoaXMuY29udGV4dHMubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbm5lclN1YnNjcmlwdGlvbi5jb250ZXh0ID0gY29udGV4dF80O1xuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbi5hZGQoaW5uZXJTdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHdpbmRvd18xKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VXaW5kb3codGhpcy5jb250ZXh0cy5pbmRleE9mKG91dGVyVmFsdWUpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgV2luZG93VG9nZ2xlU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5RXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHRoaXMuZXJyb3IoZXJyKTtcbiAgICB9O1xuICAgIFdpbmRvd1RvZ2dsZVN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlID0gZnVuY3Rpb24gKGlubmVyKSB7XG4gICAgICAgIGlmIChpbm5lciAhPT0gdGhpcy5vcGVuU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlV2luZG93KHRoaXMuY29udGV4dHMuaW5kZXhPZihpbm5lci5jb250ZXh0KSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFdpbmRvd1RvZ2dsZVN1YnNjcmliZXIucHJvdG90eXBlLmNsb3NlV2luZG93ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29udGV4dHMgPSB0aGlzLmNvbnRleHRzO1xuICAgICAgICB2YXIgY29udGV4dCA9IGNvbnRleHRzW2luZGV4XTtcbiAgICAgICAgdmFyIHdpbmRvdyA9IGNvbnRleHQud2luZG93LCBzdWJzY3JpcHRpb24gPSBjb250ZXh0LnN1YnNjcmlwdGlvbjtcbiAgICAgICAgY29udGV4dHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgd2luZG93LmNvbXBsZXRlKCk7XG4gICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIFdpbmRvd1RvZ2dsZVN1YnNjcmliZXI7XG59KE91dGVyU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2luZG93VG9nZ2xlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3ViamVjdCxfT3V0ZXJTdWJzY3JpYmVyLF91dGlsX3N1YnNjcmliZVRvUmVzdWx0IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAnLi4vU3ViamVjdCc7XG5pbXBvcnQgeyBPdXRlclN1YnNjcmliZXIgfSBmcm9tICcuLi9PdXRlclN1YnNjcmliZXInO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG9SZXN1bHQgfSBmcm9tICcuLi91dGlsL3N1YnNjcmliZVRvUmVzdWx0JztcbmV4cG9ydCBmdW5jdGlvbiB3aW5kb3dXaGVuKGNsb3NpbmdTZWxlY3Rvcikge1xuICAgIHJldHVybiBmdW5jdGlvbiB3aW5kb3dXaGVuT3BlcmF0b3JGdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBXaW5kb3dPcGVyYXRvcihjbG9zaW5nU2VsZWN0b3IpKTtcbiAgICB9O1xufVxudmFyIFdpbmRvd09wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFdpbmRvd09wZXJhdG9yKGNsb3NpbmdTZWxlY3Rvcikge1xuICAgICAgICB0aGlzLmNsb3NpbmdTZWxlY3RvciA9IGNsb3NpbmdTZWxlY3RvcjtcbiAgICB9XG4gICAgV2luZG93T3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBXaW5kb3dTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMuY2xvc2luZ1NlbGVjdG9yKSk7XG4gICAgfTtcbiAgICByZXR1cm4gV2luZG93T3BlcmF0b3I7XG59KCkpO1xudmFyIFdpbmRvd1N1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoV2luZG93U3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBXaW5kb3dTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBjbG9zaW5nU2VsZWN0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZGVzdGluYXRpb247XG4gICAgICAgIF90aGlzLmNsb3NpbmdTZWxlY3RvciA9IGNsb3NpbmdTZWxlY3RvcjtcbiAgICAgICAgX3RoaXMub3BlbldpbmRvdygpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFdpbmRvd1N1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQgPSBmdW5jdGlvbiAoX291dGVyVmFsdWUsIF9pbm5lclZhbHVlLCBfb3V0ZXJJbmRleCwgX2lubmVySW5kZXgsIGlubmVyU3ViKSB7XG4gICAgICAgIHRoaXMub3BlbldpbmRvdyhpbm5lclN1Yik7XG4gICAgfTtcbiAgICBXaW5kb3dTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlFcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICB0aGlzLl9lcnJvcihlcnJvcik7XG4gICAgfTtcbiAgICBXaW5kb3dTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uIChpbm5lclN1Yikge1xuICAgICAgICB0aGlzLm9wZW5XaW5kb3coaW5uZXJTdWIpO1xuICAgIH07XG4gICAgV2luZG93U3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy53aW5kb3cubmV4dCh2YWx1ZSk7XG4gICAgfTtcbiAgICBXaW5kb3dTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHRoaXMud2luZG93LmVycm9yKGVycik7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZUNsb3NpbmdOb3RpZmljYXRpb24oKTtcbiAgICB9O1xuICAgIFdpbmRvd1N1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy53aW5kb3cuY29tcGxldGUoKTtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlQ2xvc2luZ05vdGlmaWNhdGlvbigpO1xuICAgIH07XG4gICAgV2luZG93U3Vic2NyaWJlci5wcm90b3R5cGUudW5zdWJzY3JpYmVDbG9zaW5nTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jbG9zaW5nTm90aWZpY2F0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NpbmdOb3RpZmljYXRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgV2luZG93U3Vic2NyaWJlci5wcm90b3R5cGUub3BlbldpbmRvdyA9IGZ1bmN0aW9uIChpbm5lclN1Yikge1xuICAgICAgICBpZiAoaW5uZXJTdWIgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgaW5uZXJTdWIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbm5lclN1Yikge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmUoaW5uZXJTdWIpO1xuICAgICAgICAgICAgaW5uZXJTdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJldldpbmRvdyA9IHRoaXMud2luZG93O1xuICAgICAgICBpZiAocHJldldpbmRvdykge1xuICAgICAgICAgICAgcHJldldpbmRvdy5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB3aW5kb3cgPSB0aGlzLndpbmRvdyA9IG5ldyBTdWJqZWN0KCk7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh3aW5kb3cpO1xuICAgICAgICB2YXIgY2xvc2luZ05vdGlmaWVyO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGNsb3NpbmdTZWxlY3RvciA9IHRoaXMuY2xvc2luZ1NlbGVjdG9yO1xuICAgICAgICAgICAgY2xvc2luZ05vdGlmaWVyID0gY2xvc2luZ1NlbGVjdG9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZSk7XG4gICAgICAgICAgICB0aGlzLndpbmRvdy5lcnJvcihlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFkZCh0aGlzLmNsb3NpbmdOb3RpZmljYXRpb24gPSBzdWJzY3JpYmVUb1Jlc3VsdCh0aGlzLCBjbG9zaW5nTm90aWZpZXIpKTtcbiAgICB9O1xuICAgIHJldHVybiBXaW5kb3dTdWJzY3JpYmVyO1xufShPdXRlclN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdpbmRvd1doZW4uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9PdXRlclN1YnNjcmliZXIsX3V0aWxfc3Vic2NyaWJlVG9SZXN1bHQgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IE91dGVyU3Vic2NyaWJlciB9IGZyb20gJy4uL091dGVyU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb1Jlc3VsdCB9IGZyb20gJy4uL3V0aWwvc3Vic2NyaWJlVG9SZXN1bHQnO1xuZXhwb3J0IGZ1bmN0aW9uIHdpdGhMYXRlc3RGcm9tKCkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICB2YXIgcHJvamVjdDtcbiAgICAgICAgaWYgKHR5cGVvZiBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHByb2plY3QgPSBhcmdzLnBvcCgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvYnNlcnZhYmxlcyA9IGFyZ3M7XG4gICAgICAgIHJldHVybiBzb3VyY2UubGlmdChuZXcgV2l0aExhdGVzdEZyb21PcGVyYXRvcihvYnNlcnZhYmxlcywgcHJvamVjdCkpO1xuICAgIH07XG59XG52YXIgV2l0aExhdGVzdEZyb21PcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBXaXRoTGF0ZXN0RnJvbU9wZXJhdG9yKG9ic2VydmFibGVzLCBwcm9qZWN0KSB7XG4gICAgICAgIHRoaXMub2JzZXJ2YWJsZXMgPSBvYnNlcnZhYmxlcztcbiAgICAgICAgdGhpcy5wcm9qZWN0ID0gcHJvamVjdDtcbiAgICB9XG4gICAgV2l0aExhdGVzdEZyb21PcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IFdpdGhMYXRlc3RGcm9tU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLm9ic2VydmFibGVzLCB0aGlzLnByb2plY3QpKTtcbiAgICB9O1xuICAgIHJldHVybiBXaXRoTGF0ZXN0RnJvbU9wZXJhdG9yO1xufSgpKTtcbnZhciBXaXRoTGF0ZXN0RnJvbVN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoV2l0aExhdGVzdEZyb21TdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFdpdGhMYXRlc3RGcm9tU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgb2JzZXJ2YWJsZXMsIHByb2plY3QpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLm9ic2VydmFibGVzID0gb2JzZXJ2YWJsZXM7XG4gICAgICAgIF90aGlzLnByb2plY3QgPSBwcm9qZWN0O1xuICAgICAgICBfdGhpcy50b1Jlc3BvbmQgPSBbXTtcbiAgICAgICAgdmFyIGxlbiA9IG9ic2VydmFibGVzLmxlbmd0aDtcbiAgICAgICAgX3RoaXMudmFsdWVzID0gbmV3IEFycmF5KGxlbik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIF90aGlzLnRvUmVzcG9uZC5wdXNoKGkpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBvYnNlcnZhYmxlID0gb2JzZXJ2YWJsZXNbaV07XG4gICAgICAgICAgICBfdGhpcy5hZGQoc3Vic2NyaWJlVG9SZXN1bHQoX3RoaXMsIG9ic2VydmFibGUsIHVuZGVmaW5lZCwgaSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgV2l0aExhdGVzdEZyb21TdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlOZXh0ID0gZnVuY3Rpb24gKF9vdXRlclZhbHVlLCBpbm5lclZhbHVlLCBvdXRlckluZGV4KSB7XG4gICAgICAgIHRoaXMudmFsdWVzW291dGVySW5kZXhdID0gaW5uZXJWYWx1ZTtcbiAgICAgICAgdmFyIHRvUmVzcG9uZCA9IHRoaXMudG9SZXNwb25kO1xuICAgICAgICBpZiAodG9SZXNwb25kLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBmb3VuZCA9IHRvUmVzcG9uZC5pbmRleE9mKG91dGVySW5kZXgpO1xuICAgICAgICAgICAgaWYgKGZvdW5kICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHRvUmVzcG9uZC5zcGxpY2UoZm91bmQsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBXaXRoTGF0ZXN0RnJvbVN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgIH07XG4gICAgV2l0aExhdGVzdEZyb21TdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy50b1Jlc3BvbmQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IFt2YWx1ZV0uY29uY2F0KHRoaXMudmFsdWVzKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb2plY3QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90cnlQcm9qZWN0KGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBXaXRoTGF0ZXN0RnJvbVN1YnNjcmliZXIucHJvdG90eXBlLl90cnlQcm9qZWN0ID0gZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucHJvamVjdC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHJlc3VsdCk7XG4gICAgfTtcbiAgICByZXR1cm4gV2l0aExhdGVzdEZyb21TdWJzY3JpYmVyO1xufShPdXRlclN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdpdGhMYXRlc3RGcm9tLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfb2JzZXJ2YWJsZV96aXAgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgemlwIGFzIHppcFN0YXRpYyB9IGZyb20gJy4uL29ic2VydmFibGUvemlwJztcbmV4cG9ydCBmdW5jdGlvbiB6aXAoKSB7XG4gICAgdmFyIG9ic2VydmFibGVzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgb2JzZXJ2YWJsZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHppcE9wZXJhdG9yRnVuY3Rpb24oc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2UubGlmdC5jYWxsKHppcFN0YXRpYy5hcHBseSh2b2lkIDAsIFtzb3VyY2VdLmNvbmNhdChvYnNlcnZhYmxlcykpKTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9emlwLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfb2JzZXJ2YWJsZV96aXAgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgWmlwT3BlcmF0b3IgfSBmcm9tICcuLi9vYnNlcnZhYmxlL3ppcCc7XG5leHBvcnQgZnVuY3Rpb24gemlwQWxsKHByb2plY3QpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLmxpZnQobmV3IFppcE9wZXJhdG9yKHByb2plY3QpKTsgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXppcEFsbC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX1N1YnNjcmlwdGlvbiBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlQXJyYXkoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc3ViID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChpID09PSBpbnB1dC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGlucHV0W2krK10pO1xuICAgICAgICAgICAgaWYgKCFzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIHN1Yi5hZGQodGhpcy5zY2hlZHVsZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gc3ViO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVBcnJheS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX1N1YnNjcmlwdGlvbixfc3ltYm9sX2l0ZXJhdG9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBpdGVyYXRvciBhcyBTeW1ib2xfaXRlcmF0b3IgfSBmcm9tICcuLi9zeW1ib2wvaXRlcmF0b3InO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlSXRlcmFibGUoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIGlmICghaW5wdXQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJdGVyYWJsZSBjYW5ub3QgYmUgbnVsbCcpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHN1YiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgdmFyIGl0ZXJhdG9yO1xuICAgICAgICBzdWIuYWRkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChpdGVyYXRvciAmJiB0eXBlb2YgaXRlcmF0b3IucmV0dXJuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpdGVyYXRvciA9IGlucHV0W1N5bWJvbF9pdGVyYXRvcl0oKTtcbiAgICAgICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgICAgICAgICAgdmFyIGRvbmU7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGRvbmUgPSByZXN1bHQuZG9uZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gc3ViO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVJdGVyYWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX1N1YnNjcmlwdGlvbixfc3ltYm9sX29ic2VydmFibGUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVPYnNlcnZhYmxlKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHN1YiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG9ic2VydmFibGUgPSBpbnB1dFtTeW1ib2xfb2JzZXJ2YWJsZV0oKTtcbiAgICAgICAgICAgIHN1Yi5hZGQob2JzZXJ2YWJsZS5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLm5leHQodmFsdWUpOyB9KSk7IH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlcnIpIHsgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaWJlci5lcnJvcihlcnIpOyB9KSk7IH0sXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHsgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaWJlci5jb21wbGV0ZSgpOyB9KSk7IH0sXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIHN1YjtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlT2JzZXJ2YWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX1N1YnNjcmlwdGlvbiBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlUHJvbWlzZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzdWIgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dC50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaWJlci5jb21wbGV0ZSgpOyB9KSk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuZXJyb3IoZXJyKTsgfSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIHN1YjtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlUHJvbWlzZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3NjaGVkdWxlT2JzZXJ2YWJsZSxfc2NoZWR1bGVQcm9taXNlLF9zY2hlZHVsZUFycmF5LF9zY2hlZHVsZUl0ZXJhYmxlLF91dGlsX2lzSW50ZXJvcE9ic2VydmFibGUsX3V0aWxfaXNQcm9taXNlLF91dGlsX2lzQXJyYXlMaWtlLF91dGlsX2lzSXRlcmFibGUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgc2NoZWR1bGVPYnNlcnZhYmxlIH0gZnJvbSAnLi9zY2hlZHVsZU9ic2VydmFibGUnO1xuaW1wb3J0IHsgc2NoZWR1bGVQcm9taXNlIH0gZnJvbSAnLi9zY2hlZHVsZVByb21pc2UnO1xuaW1wb3J0IHsgc2NoZWR1bGVBcnJheSB9IGZyb20gJy4vc2NoZWR1bGVBcnJheSc7XG5pbXBvcnQgeyBzY2hlZHVsZUl0ZXJhYmxlIH0gZnJvbSAnLi9zY2hlZHVsZUl0ZXJhYmxlJztcbmltcG9ydCB7IGlzSW50ZXJvcE9ic2VydmFibGUgfSBmcm9tICcuLi91dGlsL2lzSW50ZXJvcE9ic2VydmFibGUnO1xuaW1wb3J0IHsgaXNQcm9taXNlIH0gZnJvbSAnLi4vdXRpbC9pc1Byb21pc2UnO1xuaW1wb3J0IHsgaXNBcnJheUxpa2UgfSBmcm9tICcuLi91dGlsL2lzQXJyYXlMaWtlJztcbmltcG9ydCB7IGlzSXRlcmFibGUgfSBmcm9tICcuLi91dGlsL2lzSXRlcmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlZChpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGlzSW50ZXJvcE9ic2VydmFibGUoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVPYnNlcnZhYmxlKGlucHV0LCBzY2hlZHVsZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzUHJvbWlzZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZVByb21pc2UoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNBcnJheUxpa2UoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVBcnJheShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0l0ZXJhYmxlKGlucHV0KSB8fCB0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVJdGVyYWJsZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKChpbnB1dCAhPT0gbnVsbCAmJiB0eXBlb2YgaW5wdXQgfHwgaW5wdXQpICsgJyBpcyBub3Qgb2JzZXJ2YWJsZScpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVkLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaXB0aW9uIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xudmFyIEFjdGlvbiA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhBY3Rpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQWN0aW9uKHNjaGVkdWxlciwgd29yaykge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICB9XG4gICAgQWN0aW9uLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIHJldHVybiBBY3Rpb247XG59KFN1YnNjcmlwdGlvbikpO1xuZXhwb3J0IHsgQWN0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BY3Rpb24uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9Bc3luY0FjdGlvbiBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgQXN5bmNBY3Rpb24gfSBmcm9tICcuL0FzeW5jQWN0aW9uJztcbnZhciBBbmltYXRpb25GcmFtZUFjdGlvbiA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhBbmltYXRpb25GcmFtZUFjdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBbmltYXRpb25GcmFtZUFjdGlvbihzY2hlZHVsZXIsIHdvcmspIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc2NoZWR1bGVyLCB3b3JrKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgICAgIF90aGlzLndvcmsgPSB3b3JrO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEFuaW1hdGlvbkZyYW1lQWN0aW9uLnByb3RvdHlwZS5yZXF1ZXN0QXN5bmNJZCA9IGZ1bmN0aW9uIChzY2hlZHVsZXIsIGlkLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWxheSAhPT0gbnVsbCAmJiBkZWxheSA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLnJlcXVlc3RBc3luY0lkLmNhbGwodGhpcywgc2NoZWR1bGVyLCBpZCwgZGVsYXkpO1xuICAgICAgICB9XG4gICAgICAgIHNjaGVkdWxlci5hY3Rpb25zLnB1c2godGhpcyk7XG4gICAgICAgIHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGVkIHx8IChzY2hlZHVsZXIuc2NoZWR1bGVkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNjaGVkdWxlci5mbHVzaChudWxsKTsgfSkpO1xuICAgIH07XG4gICAgQW5pbWF0aW9uRnJhbWVBY3Rpb24ucHJvdG90eXBlLnJlY3ljbGVBc3luY0lkID0gZnVuY3Rpb24gKHNjaGVkdWxlciwgaWQsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChkZWxheSAhPT0gbnVsbCAmJiBkZWxheSA+IDApIHx8IChkZWxheSA9PT0gbnVsbCAmJiB0aGlzLmRlbGF5ID4gMCkpIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLnJlY3ljbGVBc3luY0lkLmNhbGwodGhpcywgc2NoZWR1bGVyLCBpZCwgZGVsYXkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzY2hlZHVsZXIuYWN0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGlkKTtcbiAgICAgICAgICAgIHNjaGVkdWxlci5zY2hlZHVsZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIHJldHVybiBBbmltYXRpb25GcmFtZUFjdGlvbjtcbn0oQXN5bmNBY3Rpb24pKTtcbmV4cG9ydCB7IEFuaW1hdGlvbkZyYW1lQWN0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BbmltYXRpb25GcmFtZUFjdGlvbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX0FzeW5jU2NoZWR1bGVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBBc3luY1NjaGVkdWxlciB9IGZyb20gJy4vQXN5bmNTY2hlZHVsZXInO1xudmFyIEFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIEFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xuICAgICAgICB0aGlzLnNjaGVkdWxlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIGFjdGlvbnMgPSB0aGlzLmFjdGlvbnM7XG4gICAgICAgIHZhciBlcnJvcjtcbiAgICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICAgIHZhciBjb3VudCA9IGFjdGlvbnMubGVuZ3RoO1xuICAgICAgICBhY3Rpb24gPSBhY3Rpb24gfHwgYWN0aW9ucy5zaGlmdCgpO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAoZXJyb3IgPSBhY3Rpb24uZXhlY3V0ZShhY3Rpb24uc3RhdGUsIGFjdGlvbi5kZWxheSkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoKytpbmRleCA8IGNvdW50ICYmIChhY3Rpb24gPSBhY3Rpb25zLnNoaWZ0KCkpKTtcbiAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICB3aGlsZSAoKytpbmRleCA8IGNvdW50ICYmIChhY3Rpb24gPSBhY3Rpb25zLnNoaWZ0KCkpKSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyO1xufShBc3luY1NjaGVkdWxlcikpO1xuZXhwb3J0IHsgQW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfdXRpbF9JbW1lZGlhdGUsX0FzeW5jQWN0aW9uIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBJbW1lZGlhdGUgfSBmcm9tICcuLi91dGlsL0ltbWVkaWF0ZSc7XG5pbXBvcnQgeyBBc3luY0FjdGlvbiB9IGZyb20gJy4vQXN5bmNBY3Rpb24nO1xudmFyIEFzYXBBY3Rpb24gPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQXNhcEFjdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBc2FwQWN0aW9uKHNjaGVkdWxlciwgd29yaykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBzY2hlZHVsZXIsIHdvcmspIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICAgICAgX3RoaXMud29yayA9IHdvcms7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQXNhcEFjdGlvbi5wcm90b3R5cGUucmVxdWVzdEFzeW5jSWQgPSBmdW5jdGlvbiAoc2NoZWR1bGVyLCBpZCwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVsYXkgIT09IG51bGwgJiYgZGVsYXkgPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5yZXF1ZXN0QXN5bmNJZC5jYWxsKHRoaXMsIHNjaGVkdWxlciwgaWQsIGRlbGF5KTtcbiAgICAgICAgfVxuICAgICAgICBzY2hlZHVsZXIuYWN0aW9ucy5wdXNoKHRoaXMpO1xuICAgICAgICByZXR1cm4gc2NoZWR1bGVyLnNjaGVkdWxlZCB8fCAoc2NoZWR1bGVyLnNjaGVkdWxlZCA9IEltbWVkaWF0ZS5zZXRJbW1lZGlhdGUoc2NoZWR1bGVyLmZsdXNoLmJpbmQoc2NoZWR1bGVyLCBudWxsKSkpO1xuICAgIH07XG4gICAgQXNhcEFjdGlvbi5wcm90b3R5cGUucmVjeWNsZUFzeW5jSWQgPSBmdW5jdGlvbiAoc2NoZWR1bGVyLCBpZCwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKGRlbGF5ICE9PSBudWxsICYmIGRlbGF5ID4gMCkgfHwgKGRlbGF5ID09PSBudWxsICYmIHRoaXMuZGVsYXkgPiAwKSkge1xuICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUucmVjeWNsZUFzeW5jSWQuY2FsbCh0aGlzLCBzY2hlZHVsZXIsIGlkLCBkZWxheSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjaGVkdWxlci5hY3Rpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgSW1tZWRpYXRlLmNsZWFySW1tZWRpYXRlKGlkKTtcbiAgICAgICAgICAgIHNjaGVkdWxlci5zY2hlZHVsZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIHJldHVybiBBc2FwQWN0aW9uO1xufShBc3luY0FjdGlvbikpO1xuZXhwb3J0IHsgQXNhcEFjdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXNhcEFjdGlvbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX0FzeW5jU2NoZWR1bGVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBBc3luY1NjaGVkdWxlciB9IGZyb20gJy4vQXN5bmNTY2hlZHVsZXInO1xudmFyIEFzYXBTY2hlZHVsZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQXNhcFNjaGVkdWxlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBc2FwU2NoZWR1bGVyKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIEFzYXBTY2hlZHVsZXIucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVkID0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgYWN0aW9ucyA9IHRoaXMuYWN0aW9ucztcbiAgICAgICAgdmFyIGVycm9yO1xuICAgICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgICAgdmFyIGNvdW50ID0gYWN0aW9ucy5sZW5ndGg7XG4gICAgICAgIGFjdGlvbiA9IGFjdGlvbiB8fCBhY3Rpb25zLnNoaWZ0KCk7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGlmIChlcnJvciA9IGFjdGlvbi5leGVjdXRlKGFjdGlvbi5zdGF0ZSwgYWN0aW9uLmRlbGF5KSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlICgrK2luZGV4IDwgY291bnQgJiYgKGFjdGlvbiA9IGFjdGlvbnMuc2hpZnQoKSkpO1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHdoaWxlICgrK2luZGV4IDwgY291bnQgJiYgKGFjdGlvbiA9IGFjdGlvbnMuc2hpZnQoKSkpIHtcbiAgICAgICAgICAgICAgICBhY3Rpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQXNhcFNjaGVkdWxlcjtcbn0oQXN5bmNTY2hlZHVsZXIpKTtcbmV4cG9ydCB7IEFzYXBTY2hlZHVsZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFzYXBTY2hlZHVsZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9BY3Rpb24gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IEFjdGlvbiB9IGZyb20gJy4vQWN0aW9uJztcbnZhciBBc3luY0FjdGlvbiA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhBc3luY0FjdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBc3luY0FjdGlvbihzY2hlZHVsZXIsIHdvcmspIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc2NoZWR1bGVyLCB3b3JrKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgICAgIF90aGlzLndvcmsgPSB3b3JrO1xuICAgICAgICBfdGhpcy5wZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKHN0YXRlLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICB2YXIgaWQgPSB0aGlzLmlkO1xuICAgICAgICB2YXIgc2NoZWR1bGVyID0gdGhpcy5zY2hlZHVsZXI7XG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmlkID0gdGhpcy5yZWN5Y2xlQXN5bmNJZChzY2hlZHVsZXIsIGlkLCBkZWxheSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kZWxheSA9IGRlbGF5O1xuICAgICAgICB0aGlzLmlkID0gdGhpcy5pZCB8fCB0aGlzLnJlcXVlc3RBc3luY0lkKHNjaGVkdWxlciwgdGhpcy5pZCwgZGVsYXkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5yZXF1ZXN0QXN5bmNJZCA9IGZ1bmN0aW9uIChzY2hlZHVsZXIsIGlkLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZXRJbnRlcnZhbChzY2hlZHVsZXIuZmx1c2guYmluZChzY2hlZHVsZXIsIHRoaXMpLCBkZWxheSk7XG4gICAgfTtcbiAgICBBc3luY0FjdGlvbi5wcm90b3R5cGUucmVjeWNsZUFzeW5jSWQgPSBmdW5jdGlvbiAoc2NoZWR1bGVyLCBpZCwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVsYXkgIT09IG51bGwgJiYgdGhpcy5kZWxheSA9PT0gZGVsYXkgJiYgdGhpcy5wZW5kaW5nID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIGlkO1xuICAgICAgICB9XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoaWQpO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbiAoc3RhdGUsIGRlbGF5KSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignZXhlY3V0aW5nIGEgY2FuY2VsbGVkIGFjdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGVuZGluZyA9IGZhbHNlO1xuICAgICAgICB2YXIgZXJyb3IgPSB0aGlzLl9leGVjdXRlKHN0YXRlLCBkZWxheSk7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucGVuZGluZyA9PT0gZmFsc2UgJiYgdGhpcy5pZCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmlkID0gdGhpcy5yZWN5Y2xlQXN5bmNJZCh0aGlzLnNjaGVkdWxlciwgdGhpcy5pZCwgbnVsbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5fZXhlY3V0ZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcbiAgICAgICAgdmFyIGVycm9yZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGVycm9yVmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLndvcmsoc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBlcnJvcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGVycm9yVmFsdWUgPSAhIWUgJiYgZSB8fCBuZXcgRXJyb3IoZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycm9yZWQpIHtcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIHJldHVybiBlcnJvclZhbHVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBc3luY0FjdGlvbi5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaWQgPSB0aGlzLmlkO1xuICAgICAgICB2YXIgc2NoZWR1bGVyID0gdGhpcy5zY2hlZHVsZXI7XG4gICAgICAgIHZhciBhY3Rpb25zID0gc2NoZWR1bGVyLmFjdGlvbnM7XG4gICAgICAgIHZhciBpbmRleCA9IGFjdGlvbnMuaW5kZXhPZih0aGlzKTtcbiAgICAgICAgdGhpcy53b3JrID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMucGVuZGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNjaGVkdWxlciA9IG51bGw7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIGFjdGlvbnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5pZCA9IHRoaXMucmVjeWNsZUFzeW5jSWQoc2NoZWR1bGVyLCBpZCwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWxheSA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gQXN5bmNBY3Rpb247XG59KEFjdGlvbikpO1xuZXhwb3J0IHsgQXN5bmNBY3Rpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFzeW5jQWN0aW9uLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU2NoZWR1bGVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTY2hlZHVsZXIgfSBmcm9tICcuLi9TY2hlZHVsZXInO1xudmFyIEFzeW5jU2NoZWR1bGVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEFzeW5jU2NoZWR1bGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFzeW5jU2NoZWR1bGVyKFNjaGVkdWxlckFjdGlvbiwgbm93KSB7XG4gICAgICAgIGlmIChub3cgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgbm93ID0gU2NoZWR1bGVyLm5vdztcbiAgICAgICAgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBTY2hlZHVsZXJBY3Rpb24sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChBc3luY1NjaGVkdWxlci5kZWxlZ2F0ZSAmJiBBc3luY1NjaGVkdWxlci5kZWxlZ2F0ZSAhPT0gX3RoaXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gQXN5bmNTY2hlZHVsZXIuZGVsZWdhdGUubm93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmFjdGlvbnMgPSBbXTtcbiAgICAgICAgX3RoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnNjaGVkdWxlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBc3luY1NjaGVkdWxlci5wcm90b3R5cGUuc2NoZWR1bGUgPSBmdW5jdGlvbiAod29yaywgZGVsYXksIHN0YXRlKSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEFzeW5jU2NoZWR1bGVyLmRlbGVnYXRlICYmIEFzeW5jU2NoZWR1bGVyLmRlbGVnYXRlICE9PSB0aGlzKSB7XG4gICAgICAgICAgICByZXR1cm4gQXN5bmNTY2hlZHVsZXIuZGVsZWdhdGUuc2NoZWR1bGUod29yaywgZGVsYXksIHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLnNjaGVkdWxlLmNhbGwodGhpcywgd29yaywgZGVsYXksIHN0YXRlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXN5bmNTY2hlZHVsZXIucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICB2YXIgYWN0aW9ucyA9IHRoaXMuYWN0aW9ucztcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlKSB7XG4gICAgICAgICAgICBhY3Rpb25zLnB1c2goYWN0aW9uKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXJyb3I7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKGVycm9yID0gYWN0aW9uLmV4ZWN1dGUoYWN0aW9uLnN0YXRlLCBhY3Rpb24uZGVsYXkpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKGFjdGlvbiA9IGFjdGlvbnMuc2hpZnQoKSk7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgd2hpbGUgKGFjdGlvbiA9IGFjdGlvbnMuc2hpZnQoKSkge1xuICAgICAgICAgICAgICAgIGFjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBBc3luY1NjaGVkdWxlcjtcbn0oU2NoZWR1bGVyKSk7XG5leHBvcnQgeyBBc3luY1NjaGVkdWxlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXN5bmNTY2hlZHVsZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9Bc3luY0FjdGlvbiBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgQXN5bmNBY3Rpb24gfSBmcm9tICcuL0FzeW5jQWN0aW9uJztcbnZhciBRdWV1ZUFjdGlvbiA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhRdWV1ZUFjdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBRdWV1ZUFjdGlvbihzY2hlZHVsZXIsIHdvcmspIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc2NoZWR1bGVyLCB3b3JrKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgICAgIF90aGlzLndvcmsgPSB3b3JrO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFF1ZXVlQWN0aW9uLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVsYXkgPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5zY2hlZHVsZS5jYWxsKHRoaXMsIHN0YXRlLCBkZWxheSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWxheSA9IGRlbGF5O1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVyLmZsdXNoKHRoaXMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFF1ZXVlQWN0aW9uLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24gKHN0YXRlLCBkZWxheSkge1xuICAgICAgICByZXR1cm4gKGRlbGF5ID4gMCB8fCB0aGlzLmNsb3NlZCkgP1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5leGVjdXRlLmNhbGwodGhpcywgc3RhdGUsIGRlbGF5KSA6XG4gICAgICAgICAgICB0aGlzLl9leGVjdXRlKHN0YXRlLCBkZWxheSk7XG4gICAgfTtcbiAgICBRdWV1ZUFjdGlvbi5wcm90b3R5cGUucmVxdWVzdEFzeW5jSWQgPSBmdW5jdGlvbiAoc2NoZWR1bGVyLCBpZCwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKGRlbGF5ICE9PSBudWxsICYmIGRlbGF5ID4gMCkgfHwgKGRlbGF5ID09PSBudWxsICYmIHRoaXMuZGVsYXkgPiAwKSkge1xuICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUucmVxdWVzdEFzeW5jSWQuY2FsbCh0aGlzLCBzY2hlZHVsZXIsIGlkLCBkZWxheSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlci5mbHVzaCh0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBRdWV1ZUFjdGlvbjtcbn0oQXN5bmNBY3Rpb24pKTtcbmV4cG9ydCB7IFF1ZXVlQWN0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1RdWV1ZUFjdGlvbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX0FzeW5jU2NoZWR1bGVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBBc3luY1NjaGVkdWxlciB9IGZyb20gJy4vQXN5bmNTY2hlZHVsZXInO1xudmFyIFF1ZXVlU2NoZWR1bGVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFF1ZXVlU2NoZWR1bGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFF1ZXVlU2NoZWR1bGVyKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBRdWV1ZVNjaGVkdWxlcjtcbn0oQXN5bmNTY2hlZHVsZXIpKTtcbmV4cG9ydCB7IFF1ZXVlU2NoZWR1bGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1RdWV1ZVNjaGVkdWxlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX0FzeW5jQWN0aW9uLF9Bc3luY1NjaGVkdWxlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgQXN5bmNBY3Rpb24gfSBmcm9tICcuL0FzeW5jQWN0aW9uJztcbmltcG9ydCB7IEFzeW5jU2NoZWR1bGVyIH0gZnJvbSAnLi9Bc3luY1NjaGVkdWxlcic7XG52YXIgVmlydHVhbFRpbWVTY2hlZHVsZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoVmlydHVhbFRpbWVTY2hlZHVsZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVmlydHVhbFRpbWVTY2hlZHVsZXIoU2NoZWR1bGVyQWN0aW9uLCBtYXhGcmFtZXMpIHtcbiAgICAgICAgaWYgKFNjaGVkdWxlckFjdGlvbiA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBTY2hlZHVsZXJBY3Rpb24gPSBWaXJ0dWFsQWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXhGcmFtZXMgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgbWF4RnJhbWVzID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIFNjaGVkdWxlckFjdGlvbiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuZnJhbWU7IH0pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLm1heEZyYW1lcyA9IG1heEZyYW1lcztcbiAgICAgICAgX3RoaXMuZnJhbWUgPSAwO1xuICAgICAgICBfdGhpcy5pbmRleCA9IC0xO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFZpcnR1YWxUaW1lU2NoZWR1bGVyLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgYWN0aW9ucyA9IF9hLmFjdGlvbnMsIG1heEZyYW1lcyA9IF9hLm1heEZyYW1lcztcbiAgICAgICAgdmFyIGVycm9yLCBhY3Rpb247XG4gICAgICAgIHdoaWxlICgoYWN0aW9uID0gYWN0aW9uc1swXSkgJiYgYWN0aW9uLmRlbGF5IDw9IG1heEZyYW1lcykge1xuICAgICAgICAgICAgYWN0aW9ucy5zaGlmdCgpO1xuICAgICAgICAgICAgdGhpcy5mcmFtZSA9IGFjdGlvbi5kZWxheTtcbiAgICAgICAgICAgIGlmIChlcnJvciA9IGFjdGlvbi5leGVjdXRlKGFjdGlvbi5zdGF0ZSwgYWN0aW9uLmRlbGF5KSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgd2hpbGUgKGFjdGlvbiA9IGFjdGlvbnMuc2hpZnQoKSkge1xuICAgICAgICAgICAgICAgIGFjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZpcnR1YWxUaW1lU2NoZWR1bGVyLmZyYW1lVGltZUZhY3RvciA9IDEwO1xuICAgIHJldHVybiBWaXJ0dWFsVGltZVNjaGVkdWxlcjtcbn0oQXN5bmNTY2hlZHVsZXIpKTtcbmV4cG9ydCB7IFZpcnR1YWxUaW1lU2NoZWR1bGVyIH07XG52YXIgVmlydHVhbEFjdGlvbiA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhWaXJ0dWFsQWN0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFZpcnR1YWxBY3Rpb24oc2NoZWR1bGVyLCB3b3JrLCBpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgaW5kZXggPSBzY2hlZHVsZXIuaW5kZXggKz0gMTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBzY2hlZHVsZXIsIHdvcmspIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICAgICAgX3RoaXMud29yayA9IHdvcms7XG4gICAgICAgIF90aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIF90aGlzLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIF90aGlzLmluZGV4ID0gc2NoZWR1bGVyLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgVmlydHVhbEFjdGlvbi5wcm90b3R5cGUuc2NoZWR1bGUgPSBmdW5jdGlvbiAoc3RhdGUsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5zY2hlZHVsZS5jYWxsKHRoaXMsIHN0YXRlLCBkZWxheSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdmFyIGFjdGlvbiA9IG5ldyBWaXJ0dWFsQWN0aW9uKHRoaXMuc2NoZWR1bGVyLCB0aGlzLndvcmspO1xuICAgICAgICB0aGlzLmFkZChhY3Rpb24pO1xuICAgICAgICByZXR1cm4gYWN0aW9uLnNjaGVkdWxlKHN0YXRlLCBkZWxheSk7XG4gICAgfTtcbiAgICBWaXJ0dWFsQWN0aW9uLnByb3RvdHlwZS5yZXF1ZXN0QXN5bmNJZCA9IGZ1bmN0aW9uIChzY2hlZHVsZXIsIGlkLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVsYXkgPSBzY2hlZHVsZXIuZnJhbWUgKyBkZWxheTtcbiAgICAgICAgdmFyIGFjdGlvbnMgPSBzY2hlZHVsZXIuYWN0aW9ucztcbiAgICAgICAgYWN0aW9ucy5wdXNoKHRoaXMpO1xuICAgICAgICBhY3Rpb25zLnNvcnQoVmlydHVhbEFjdGlvbi5zb3J0QWN0aW9ucyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgVmlydHVhbEFjdGlvbi5wcm90b3R5cGUucmVjeWNsZUFzeW5jSWQgPSBmdW5jdGlvbiAoc2NoZWR1bGVyLCBpZCwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgVmlydHVhbEFjdGlvbi5wcm90b3R5cGUuX2V4ZWN1dGUgPSBmdW5jdGlvbiAoc3RhdGUsIGRlbGF5KSB7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuX2V4ZWN1dGUuY2FsbCh0aGlzLCBzdGF0ZSwgZGVsYXkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWaXJ0dWFsQWN0aW9uLnNvcnRBY3Rpb25zID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgaWYgKGEuZGVsYXkgPT09IGIuZGVsYXkpIHtcbiAgICAgICAgICAgIGlmIChhLmluZGV4ID09PSBiLmluZGV4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChhLmluZGV4ID4gYi5pbmRleCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGEuZGVsYXkgPiBiLmRlbGF5KSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFZpcnR1YWxBY3Rpb247XG59KEFzeW5jQWN0aW9uKSk7XG5leHBvcnQgeyBWaXJ0dWFsQWN0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1WaXJ0dWFsVGltZVNjaGVkdWxlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX0FuaW1hdGlvbkZyYW1lQWN0aW9uLF9BbmltYXRpb25GcmFtZVNjaGVkdWxlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBBbmltYXRpb25GcmFtZUFjdGlvbiB9IGZyb20gJy4vQW5pbWF0aW9uRnJhbWVBY3Rpb24nO1xuaW1wb3J0IHsgQW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIgfSBmcm9tICcuL0FuaW1hdGlvbkZyYW1lU2NoZWR1bGVyJztcbmV4cG9ydCB2YXIgYW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIgPSAvKkBfX1BVUkVfXyovIG5ldyBBbmltYXRpb25GcmFtZVNjaGVkdWxlcihBbmltYXRpb25GcmFtZUFjdGlvbik7XG5leHBvcnQgdmFyIGFuaW1hdGlvbkZyYW1lID0gYW5pbWF0aW9uRnJhbWVTY2hlZHVsZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hbmltYXRpb25GcmFtZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX0FzYXBBY3Rpb24sX0FzYXBTY2hlZHVsZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgQXNhcEFjdGlvbiB9IGZyb20gJy4vQXNhcEFjdGlvbic7XG5pbXBvcnQgeyBBc2FwU2NoZWR1bGVyIH0gZnJvbSAnLi9Bc2FwU2NoZWR1bGVyJztcbmV4cG9ydCB2YXIgYXNhcFNjaGVkdWxlciA9IC8qQF9fUFVSRV9fKi8gbmV3IEFzYXBTY2hlZHVsZXIoQXNhcEFjdGlvbik7XG5leHBvcnQgdmFyIGFzYXAgPSBhc2FwU2NoZWR1bGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXNhcC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX0FzeW5jQWN0aW9uLF9Bc3luY1NjaGVkdWxlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBBc3luY0FjdGlvbiB9IGZyb20gJy4vQXN5bmNBY3Rpb24nO1xuaW1wb3J0IHsgQXN5bmNTY2hlZHVsZXIgfSBmcm9tICcuL0FzeW5jU2NoZWR1bGVyJztcbmV4cG9ydCB2YXIgYXN5bmNTY2hlZHVsZXIgPSAvKkBfX1BVUkVfXyovIG5ldyBBc3luY1NjaGVkdWxlcihBc3luY0FjdGlvbik7XG5leHBvcnQgdmFyIGFzeW5jID0gYXN5bmNTY2hlZHVsZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hc3luYy5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX1F1ZXVlQWN0aW9uLF9RdWV1ZVNjaGVkdWxlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBRdWV1ZUFjdGlvbiB9IGZyb20gJy4vUXVldWVBY3Rpb24nO1xuaW1wb3J0IHsgUXVldWVTY2hlZHVsZXIgfSBmcm9tICcuL1F1ZXVlU2NoZWR1bGVyJztcbmV4cG9ydCB2YXIgcXVldWVTY2hlZHVsZXIgPSAvKkBfX1BVUkVfXyovIG5ldyBRdWV1ZVNjaGVkdWxlcihRdWV1ZUFjdGlvbik7XG5leHBvcnQgdmFyIHF1ZXVlID0gcXVldWVTY2hlZHVsZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1xdWV1ZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTeW1ib2xJdGVyYXRvcigpIHtcbiAgICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ2Z1bmN0aW9uJyB8fCAhU3ltYm9sLml0ZXJhdG9yKSB7XG4gICAgICAgIHJldHVybiAnQEBpdGVyYXRvcic7XG4gICAgfVxuICAgIHJldHVybiBTeW1ib2wuaXRlcmF0b3I7XG59XG5leHBvcnQgdmFyIGl0ZXJhdG9yID0gLypAX19QVVJFX18qLyBnZXRTeW1ib2xJdGVyYXRvcigpO1xuZXhwb3J0IHZhciAkJGl0ZXJhdG9yID0gaXRlcmF0b3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pdGVyYXRvci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCB2YXIgb2JzZXJ2YWJsZSA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLm9ic2VydmFibGUgfHwgJ0BAb2JzZXJ2YWJsZSc7IH0pKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vYnNlcnZhYmxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IHZhciByeFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyAvKkBfX1BVUkVfXyovIFN5bWJvbCgncnhTdWJzY3JpYmVyJylcbiAgICAgICAgOiAnQEByeFN1YnNjcmliZXJfJyArIC8qQF9fUFVSRV9fKi8gTWF0aC5yYW5kb20oKTtcbn0pKCk7XG5leHBvcnQgdmFyICQkcnhTdWJzY3JpYmVyID0gcnhTdWJzY3JpYmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cnhTdWJzY3JpYmVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xudmFyIEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9ySW1wbCA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBcmd1bWVudE91dE9mUmFuZ2VFcnJvckltcGwoKSB7XG4gICAgICAgIEVycm9yLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9ICdhcmd1bWVudCBvdXQgb2YgcmFuZ2UnO1xuICAgICAgICB0aGlzLm5hbWUgPSAnQXJndW1lbnRPdXRPZlJhbmdlRXJyb3InO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgQXJndW1lbnRPdXRPZlJhbmdlRXJyb3JJbXBsLnByb3RvdHlwZSA9IC8qQF9fUFVSRV9fKi8gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuICAgIHJldHVybiBBcmd1bWVudE91dE9mUmFuZ2VFcnJvckltcGw7XG59KSgpO1xuZXhwb3J0IHZhciBBcmd1bWVudE91dE9mUmFuZ2VFcnJvciA9IEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9ySW1wbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xudmFyIEVtcHR5RXJyb3JJbXBsID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEVtcHR5RXJyb3JJbXBsKCkge1xuICAgICAgICBFcnJvci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSAnbm8gZWxlbWVudHMgaW4gc2VxdWVuY2UnO1xuICAgICAgICB0aGlzLm5hbWUgPSAnRW1wdHlFcnJvcic7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBFbXB0eUVycm9ySW1wbC5wcm90b3R5cGUgPSAvKkBfX1BVUkVfXyovIE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKTtcbiAgICByZXR1cm4gRW1wdHlFcnJvckltcGw7XG59KSgpO1xuZXhwb3J0IHZhciBFbXB0eUVycm9yID0gRW1wdHlFcnJvckltcGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FbXB0eUVycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xudmFyIG5leHRIYW5kbGUgPSAxO1xudmFyIFJFU09MVkVEID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkgeyByZXR1cm4gLypAX19QVVJFX18qLyBQcm9taXNlLnJlc29sdmUoKTsgfSkoKTtcbnZhciBhY3RpdmVIYW5kbGVzID0ge307XG5mdW5jdGlvbiBmaW5kQW5kQ2xlYXJIYW5kbGUoaGFuZGxlKSB7XG4gICAgaWYgKGhhbmRsZSBpbiBhY3RpdmVIYW5kbGVzKSB7XG4gICAgICAgIGRlbGV0ZSBhY3RpdmVIYW5kbGVzW2hhbmRsZV07XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnQgdmFyIEltbWVkaWF0ZSA9IHtcbiAgICBzZXRJbW1lZGlhdGU6IGZ1bmN0aW9uIChjYikge1xuICAgICAgICB2YXIgaGFuZGxlID0gbmV4dEhhbmRsZSsrO1xuICAgICAgICBhY3RpdmVIYW5kbGVzW2hhbmRsZV0gPSB0cnVlO1xuICAgICAgICBSRVNPTFZFRC50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZpbmRBbmRDbGVhckhhbmRsZShoYW5kbGUpICYmIGNiKCk7IH0pO1xuICAgICAgICByZXR1cm4gaGFuZGxlO1xuICAgIH0sXG4gICAgY2xlYXJJbW1lZGlhdGU6IGZ1bmN0aW9uIChoYW5kbGUpIHtcbiAgICAgICAgZmluZEFuZENsZWFySGFuZGxlKGhhbmRsZSk7XG4gICAgfSxcbn07XG5leHBvcnQgdmFyIFRlc3RUb29scyA9IHtcbiAgICBwZW5kaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhhY3RpdmVIYW5kbGVzKS5sZW5ndGg7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUltbWVkaWF0ZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbnZhciBPYmplY3RVbnN1YnNjcmliZWRFcnJvckltcGwgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JJbXBsKCkge1xuICAgICAgICBFcnJvci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSAnb2JqZWN0IHVuc3Vic2NyaWJlZCc7XG4gICAgICAgIHRoaXMubmFtZSA9ICdPYmplY3RVbnN1YnNjcmliZWRFcnJvcic7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBPYmplY3RVbnN1YnNjcmliZWRFcnJvckltcGwucHJvdG90eXBlID0gLypAX19QVVJFX18qLyBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG4gICAgcmV0dXJuIE9iamVjdFVuc3Vic2NyaWJlZEVycm9ySW1wbDtcbn0pKCk7XG5leHBvcnQgdmFyIE9iamVjdFVuc3Vic2NyaWJlZEVycm9yID0gT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JJbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG52YXIgVGltZW91dEVycm9ySW1wbCA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUaW1lb3V0RXJyb3JJbXBsKCkge1xuICAgICAgICBFcnJvci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSAnVGltZW91dCBoYXMgb2NjdXJyZWQnO1xuICAgICAgICB0aGlzLm5hbWUgPSAnVGltZW91dEVycm9yJztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIFRpbWVvdXRFcnJvckltcGwucHJvdG90eXBlID0gLypAX19QVVJFX18qLyBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG4gICAgcmV0dXJuIFRpbWVvdXRFcnJvckltcGw7XG59KSgpO1xuZXhwb3J0IHZhciBUaW1lb3V0RXJyb3IgPSBUaW1lb3V0RXJyb3JJbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGltZW91dEVycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xudmFyIFVuc3Vic2NyaXB0aW9uRXJyb3JJbXBsID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFVuc3Vic2NyaXB0aW9uRXJyb3JJbXBsKGVycm9ycykge1xuICAgICAgICBFcnJvci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBlcnJvcnMgP1xuICAgICAgICAgICAgZXJyb3JzLmxlbmd0aCArIFwiIGVycm9ycyBvY2N1cnJlZCBkdXJpbmcgdW5zdWJzY3JpcHRpb246XFxuXCIgKyBlcnJvcnMubWFwKGZ1bmN0aW9uIChlcnIsIGkpIHsgcmV0dXJuIGkgKyAxICsgXCIpIFwiICsgZXJyLnRvU3RyaW5nKCk7IH0pLmpvaW4oJ1xcbiAgJykgOiAnJztcbiAgICAgICAgdGhpcy5uYW1lID0gJ1Vuc3Vic2NyaXB0aW9uRXJyb3InO1xuICAgICAgICB0aGlzLmVycm9ycyA9IGVycm9ycztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIFVuc3Vic2NyaXB0aW9uRXJyb3JJbXBsLnByb3RvdHlwZSA9IC8qQF9fUFVSRV9fKi8gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuICAgIHJldHVybiBVbnN1YnNjcmlwdGlvbkVycm9ySW1wbDtcbn0pKCk7XG5leHBvcnQgdmFyIFVuc3Vic2NyaXB0aW9uRXJyb3IgPSBVbnN1YnNjcmlwdGlvbkVycm9ySW1wbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVVuc3Vic2NyaXB0aW9uRXJyb3IuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBjYW5SZXBvcnRFcnJvcihvYnNlcnZlcikge1xuICAgIHdoaWxlIChvYnNlcnZlcikge1xuICAgICAgICB2YXIgX2EgPSBvYnNlcnZlciwgY2xvc2VkXzEgPSBfYS5jbG9zZWQsIGRlc3RpbmF0aW9uID0gX2EuZGVzdGluYXRpb24sIGlzU3RvcHBlZCA9IF9hLmlzU3RvcHBlZDtcbiAgICAgICAgaWYgKGNsb3NlZF8xIHx8IGlzU3RvcHBlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRlc3RpbmF0aW9uICYmIGRlc3RpbmF0aW9uIGluc3RhbmNlb2YgU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgb2JzZXJ2ZXIgPSBkZXN0aW5hdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9ic2VydmVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhblJlcG9ydEVycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhvc3RSZXBvcnRFcnJvcihlcnIpIHtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgdGhyb3cgZXJyOyB9LCAwKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhvc3RSZXBvcnRFcnJvci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBpZGVudGl0eSh4KSB7XG4gICAgcmV0dXJuIHg7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pZGVudGl0eS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCB2YXIgaXNBcnJheSA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHsgcmV0dXJuIEFycmF5LmlzQXJyYXkgfHwgKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4ICYmIHR5cGVvZiB4Lmxlbmd0aCA9PT0gJ251bWJlcic7IH0pOyB9KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNBcnJheS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCB2YXIgaXNBcnJheUxpa2UgPSAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHggJiYgdHlwZW9mIHgubGVuZ3RoID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgeCAhPT0gJ2Z1bmN0aW9uJzsgfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0FycmF5TGlrZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0RhdGUodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBEYXRlICYmICFpc05hTigrdmFsdWUpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNEYXRlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRnVuY3Rpb24oeCkge1xuICAgIHJldHVybiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzRnVuY3Rpb24uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9zeW1ib2xfb2JzZXJ2YWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi4vc3ltYm9sL29ic2VydmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIGlzSW50ZXJvcE9ic2VydmFibGUoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQgJiYgdHlwZW9mIGlucHV0W1N5bWJvbF9vYnNlcnZhYmxlXSA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzSW50ZXJvcE9ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9zeW1ib2xfaXRlcmF0b3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgaXRlcmF0b3IgYXMgU3ltYm9sX2l0ZXJhdG9yIH0gZnJvbSAnLi4vc3ltYm9sL2l0ZXJhdG9yJztcbmV4cG9ydCBmdW5jdGlvbiBpc0l0ZXJhYmxlKGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0ICYmIHR5cGVvZiBpbnB1dFtTeW1ib2xfaXRlcmF0b3JdID09PSAnZnVuY3Rpb24nO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNJdGVyYWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX2lzQXJyYXkgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4vaXNBcnJheSc7XG5leHBvcnQgZnVuY3Rpb24gaXNOdW1lcmljKHZhbCkge1xuICAgIHJldHVybiAhaXNBcnJheSh2YWwpICYmICh2YWwgLSBwYXJzZUZsb2F0KHZhbCkgKyAxKSA+PSAwO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNOdW1lcmljLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0KHgpIHtcbiAgICByZXR1cm4geCAhPT0gbnVsbCAmJiB0eXBlb2YgeCA9PT0gJ29iamVjdCc7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc09iamVjdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIGlzT2JzZXJ2YWJsZShvYmopIHtcbiAgICByZXR1cm4gISFvYmogJiYgKG9iaiBpbnN0YW5jZW9mIE9ic2VydmFibGUgfHwgKHR5cGVvZiBvYmoubGlmdCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygb2JqLnN1YnNjcmliZSA9PT0gJ2Z1bmN0aW9uJykpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNPYnNlcnZhYmxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUHJvbWlzZSh2YWx1ZSkge1xuICAgIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZS5zdWJzY3JpYmUgIT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHZhbHVlLnRoZW4gPT09ICdmdW5jdGlvbic7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1Byb21pc2UuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gaXNTY2hlZHVsZXIodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlLnNjaGVkdWxlID09PSAnZnVuY3Rpb24nO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNTY2hlZHVsZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gbm9vcCgpIHsgfVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bm9vcC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBub3QocHJlZCwgdGhpc0FyZykge1xuICAgIGZ1bmN0aW9uIG5vdFByZWQoKSB7XG4gICAgICAgIHJldHVybiAhKG5vdFByZWQucHJlZC5hcHBseShub3RQcmVkLnRoaXNBcmcsIGFyZ3VtZW50cykpO1xuICAgIH1cbiAgICBub3RQcmVkLnByZWQgPSBwcmVkO1xuICAgIG5vdFByZWQudGhpc0FyZyA9IHRoaXNBcmc7XG4gICAgcmV0dXJuIG5vdFByZWQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ub3QuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9pZGVudGl0eSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4vaWRlbnRpdHknO1xuZXhwb3J0IGZ1bmN0aW9uIHBpcGUoKSB7XG4gICAgdmFyIGZucyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGZuc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gcGlwZUZyb21BcnJheShmbnMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBpcGVGcm9tQXJyYXkoZm5zKSB7XG4gICAgaWYgKGZucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGlkZW50aXR5O1xuICAgIH1cbiAgICBpZiAoZm5zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gZm5zWzBdO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gcGlwZWQoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGZucy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGZuKSB7IHJldHVybiBmbihwcmV2KTsgfSwgaW5wdXQpO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1waXBlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfc3Vic2NyaWJlVG9BcnJheSxfc3Vic2NyaWJlVG9Qcm9taXNlLF9zdWJzY3JpYmVUb0l0ZXJhYmxlLF9zdWJzY3JpYmVUb09ic2VydmFibGUsX2lzQXJyYXlMaWtlLF9pc1Byb21pc2UsX2lzT2JqZWN0LF9zeW1ib2xfaXRlcmF0b3IsX3N5bWJvbF9vYnNlcnZhYmxlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IHN1YnNjcmliZVRvQXJyYXkgfSBmcm9tICcuL3N1YnNjcmliZVRvQXJyYXknO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG9Qcm9taXNlIH0gZnJvbSAnLi9zdWJzY3JpYmVUb1Byb21pc2UnO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG9JdGVyYWJsZSB9IGZyb20gJy4vc3Vic2NyaWJlVG9JdGVyYWJsZSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb09ic2VydmFibGUgfSBmcm9tICcuL3N1YnNjcmliZVRvT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc0FycmF5TGlrZSB9IGZyb20gJy4vaXNBcnJheUxpa2UnO1xuaW1wb3J0IHsgaXNQcm9taXNlIH0gZnJvbSAnLi9pc1Byb21pc2UnO1xuaW1wb3J0IHsgaXNPYmplY3QgfSBmcm9tICcuL2lzT2JqZWN0JztcbmltcG9ydCB7IGl0ZXJhdG9yIGFzIFN5bWJvbF9pdGVyYXRvciB9IGZyb20gJy4uL3N5bWJvbC9pdGVyYXRvcic7XG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi4vc3ltYm9sL29ic2VydmFibGUnO1xuZXhwb3J0IHZhciBzdWJzY3JpYmVUbyA9IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICBpZiAoISFyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdFtTeW1ib2xfb2JzZXJ2YWJsZV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZVRvT2JzZXJ2YWJsZShyZXN1bHQpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0FycmF5TGlrZShyZXN1bHQpKSB7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVUb0FycmF5KHJlc3VsdCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzUHJvbWlzZShyZXN1bHQpKSB7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVUb1Byb21pc2UocmVzdWx0KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoISFyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdFtTeW1ib2xfaXRlcmF0b3JdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVUb0l0ZXJhYmxlKHJlc3VsdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgdmFsdWUgPSBpc09iamVjdChyZXN1bHQpID8gJ2FuIGludmFsaWQgb2JqZWN0JyA6IFwiJ1wiICsgcmVzdWx0ICsgXCInXCI7XG4gICAgICAgIHZhciBtc2cgPSBcIllvdSBwcm92aWRlZCBcIiArIHZhbHVlICsgXCIgd2hlcmUgYSBzdHJlYW0gd2FzIGV4cGVjdGVkLlwiXG4gICAgICAgICAgICArICcgWW91IGNhbiBwcm92aWRlIGFuIE9ic2VydmFibGUsIFByb21pc2UsIEFycmF5LCBvciBJdGVyYWJsZS4nO1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKG1zZyk7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN1YnNjcmliZVRvLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IHZhciBzdWJzY3JpYmVUb0FycmF5ID0gZnVuY3Rpb24gKGFycmF5KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnJheS5sZW5ndGg7IGkgPCBsZW4gJiYgIXN1YnNjcmliZXIuY2xvc2VkOyBpKyspIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChhcnJheVtpXSk7XG4gICAgICAgIH1cbiAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3Vic2NyaWJlVG9BcnJheS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3N5bWJvbF9pdGVyYXRvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBpdGVyYXRvciBhcyBTeW1ib2xfaXRlcmF0b3IgfSBmcm9tICcuLi9zeW1ib2wvaXRlcmF0b3InO1xuZXhwb3J0IHZhciBzdWJzY3JpYmVUb0l0ZXJhYmxlID0gZnVuY3Rpb24gKGl0ZXJhYmxlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhYmxlW1N5bWJvbF9pdGVyYXRvcl0oKTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSB2b2lkIDA7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGl0ZW0gPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzdWJzY3JpYmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGl0ZW0uZG9uZSkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChpdGVtLnZhbHVlKTtcbiAgICAgICAgICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlICh0cnVlKTtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVyYXRvci5yZXR1cm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuYWRkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVyO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3Vic2NyaWJlVG9JdGVyYWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3N5bWJvbF9vYnNlcnZhYmxlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5leHBvcnQgdmFyIHN1YnNjcmliZVRvT2JzZXJ2YWJsZSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIG9icyA9IG9ialtTeW1ib2xfb2JzZXJ2YWJsZV0oKTtcbiAgICAgICAgaWYgKHR5cGVvZiBvYnMuc3Vic2NyaWJlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcm92aWRlZCBvYmplY3QgZG9lcyBub3QgY29ycmVjdGx5IGltcGxlbWVudCBTeW1ib2wub2JzZXJ2YWJsZScpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG9icy5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN1YnNjcmliZVRvT2JzZXJ2YWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX2hvc3RSZXBvcnRFcnJvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBob3N0UmVwb3J0RXJyb3IgfSBmcm9tICcuL2hvc3RSZXBvcnRFcnJvcic7XG5leHBvcnQgdmFyIHN1YnNjcmliZVRvUHJvbWlzZSA9IGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikgeyByZXR1cm4gc3Vic2NyaWJlci5lcnJvcihlcnIpOyB9KVxuICAgICAgICAgICAgLnRoZW4obnVsbCwgaG9zdFJlcG9ydEVycm9yKTtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJzY3JpYmVUb1Byb21pc2UuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9Jbm5lclN1YnNjcmliZXIsX3N1YnNjcmliZVRvLF9PYnNlcnZhYmxlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IElubmVyU3Vic2NyaWJlciB9IGZyb20gJy4uL0lubmVyU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBzdWJzY3JpYmVUbyB9IGZyb20gJy4vc3Vic2NyaWJlVG8nO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIHN1YnNjcmliZVRvUmVzdWx0KG91dGVyU3Vic2NyaWJlciwgcmVzdWx0LCBvdXRlclZhbHVlLCBvdXRlckluZGV4LCBpbm5lclN1YnNjcmliZXIpIHtcbiAgICBpZiAoaW5uZXJTdWJzY3JpYmVyID09PSB2b2lkIDApIHtcbiAgICAgICAgaW5uZXJTdWJzY3JpYmVyID0gbmV3IElubmVyU3Vic2NyaWJlcihvdXRlclN1YnNjcmliZXIsIG91dGVyVmFsdWUsIG91dGVySW5kZXgpO1xuICAgIH1cbiAgICBpZiAoaW5uZXJTdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgT2JzZXJ2YWJsZSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0LnN1YnNjcmliZShpbm5lclN1YnNjcmliZXIpO1xuICAgIH1cbiAgICByZXR1cm4gc3Vic2NyaWJlVG8ocmVzdWx0KShpbm5lclN1YnNjcmliZXIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3Vic2NyaWJlVG9SZXN1bHQuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9TdWJzY3JpYmVyLF9zeW1ib2xfcnhTdWJzY3JpYmVyLF9PYnNlcnZlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyByeFN1YnNjcmliZXIgYXMgcnhTdWJzY3JpYmVyU3ltYm9sIH0gZnJvbSAnLi4vc3ltYm9sL3J4U3Vic2NyaWJlcic7XG5pbXBvcnQgeyBlbXB0eSBhcyBlbXB0eU9ic2VydmVyIH0gZnJvbSAnLi4vT2JzZXJ2ZXInO1xuZXhwb3J0IGZ1bmN0aW9uIHRvU3Vic2NyaWJlcihuZXh0T3JPYnNlcnZlciwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgaWYgKG5leHRPck9ic2VydmVyKSB7XG4gICAgICAgIGlmIChuZXh0T3JPYnNlcnZlciBpbnN0YW5jZW9mIFN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXh0T3JPYnNlcnZlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV4dE9yT2JzZXJ2ZXJbcnhTdWJzY3JpYmVyU3ltYm9sXSkge1xuICAgICAgICAgICAgcmV0dXJuIG5leHRPck9ic2VydmVyW3J4U3Vic2NyaWJlclN5bWJvbF0oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIW5leHRPck9ic2VydmVyICYmICFlcnJvciAmJiAhY29tcGxldGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdWJzY3JpYmVyKGVtcHR5T2JzZXJ2ZXIpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFN1YnNjcmliZXIobmV4dE9yT2JzZXJ2ZXIsIGVycm9yLCBjb21wbGV0ZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b1N1YnNjcmliZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgeyBhdWRpdCB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9hdWRpdCc7XG5leHBvcnQgeyBhdWRpdFRpbWUgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvYXVkaXRUaW1lJztcbmV4cG9ydCB7IGJ1ZmZlciB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9idWZmZXInO1xuZXhwb3J0IHsgYnVmZmVyQ291bnQgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvYnVmZmVyQ291bnQnO1xuZXhwb3J0IHsgYnVmZmVyVGltZSB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9idWZmZXJUaW1lJztcbmV4cG9ydCB7IGJ1ZmZlclRvZ2dsZSB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9idWZmZXJUb2dnbGUnO1xuZXhwb3J0IHsgYnVmZmVyV2hlbiB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9idWZmZXJXaGVuJztcbmV4cG9ydCB7IGNhdGNoRXJyb3IgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvY2F0Y2hFcnJvcic7XG5leHBvcnQgeyBjb21iaW5lQWxsIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2NvbWJpbmVBbGwnO1xuZXhwb3J0IHsgY29tYmluZUxhdGVzdCB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9jb21iaW5lTGF0ZXN0JztcbmV4cG9ydCB7IGNvbmNhdCB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9jb25jYXQnO1xuZXhwb3J0IHsgY29uY2F0QWxsIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2NvbmNhdEFsbCc7XG5leHBvcnQgeyBjb25jYXRNYXAgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvY29uY2F0TWFwJztcbmV4cG9ydCB7IGNvbmNhdE1hcFRvIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2NvbmNhdE1hcFRvJztcbmV4cG9ydCB7IGNvdW50IH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2NvdW50JztcbmV4cG9ydCB7IGRlYm91bmNlIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2RlYm91bmNlJztcbmV4cG9ydCB7IGRlYm91bmNlVGltZSB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9kZWJvdW5jZVRpbWUnO1xuZXhwb3J0IHsgZGVmYXVsdElmRW1wdHkgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZGVmYXVsdElmRW1wdHknO1xuZXhwb3J0IHsgZGVsYXkgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZGVsYXknO1xuZXhwb3J0IHsgZGVsYXlXaGVuIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2RlbGF5V2hlbic7XG5leHBvcnQgeyBkZW1hdGVyaWFsaXplIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2RlbWF0ZXJpYWxpemUnO1xuZXhwb3J0IHsgZGlzdGluY3QgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZGlzdGluY3QnO1xuZXhwb3J0IHsgZGlzdGluY3RVbnRpbENoYW5nZWQgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZGlzdGluY3RVbnRpbENoYW5nZWQnO1xuZXhwb3J0IHsgZGlzdGluY3RVbnRpbEtleUNoYW5nZWQgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZGlzdGluY3RVbnRpbEtleUNoYW5nZWQnO1xuZXhwb3J0IHsgZWxlbWVudEF0IH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2VsZW1lbnRBdCc7XG5leHBvcnQgeyBlbmRXaXRoIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2VuZFdpdGgnO1xuZXhwb3J0IHsgZXZlcnkgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZXZlcnknO1xuZXhwb3J0IHsgZXhoYXVzdCB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9leGhhdXN0JztcbmV4cG9ydCB7IGV4aGF1c3RNYXAgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZXhoYXVzdE1hcCc7XG5leHBvcnQgeyBleHBhbmQgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZXhwYW5kJztcbmV4cG9ydCB7IGZpbHRlciB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9maWx0ZXInO1xuZXhwb3J0IHsgZmluYWxpemUgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZmluYWxpemUnO1xuZXhwb3J0IHsgZmluZCB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9maW5kJztcbmV4cG9ydCB7IGZpbmRJbmRleCB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9maW5kSW5kZXgnO1xuZXhwb3J0IHsgZmlyc3QgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZmlyc3QnO1xuZXhwb3J0IHsgZ3JvdXBCeSB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9ncm91cEJ5JztcbmV4cG9ydCB7IGlnbm9yZUVsZW1lbnRzIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2lnbm9yZUVsZW1lbnRzJztcbmV4cG9ydCB7IGlzRW1wdHkgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvaXNFbXB0eSc7XG5leHBvcnQgeyBsYXN0IH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2xhc3QnO1xuZXhwb3J0IHsgbWFwIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL21hcCc7XG5leHBvcnQgeyBtYXBUbyB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9tYXBUbyc7XG5leHBvcnQgeyBtYXRlcmlhbGl6ZSB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9tYXRlcmlhbGl6ZSc7XG5leHBvcnQgeyBtYXggfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvbWF4JztcbmV4cG9ydCB7IG1lcmdlIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlJztcbmV4cG9ydCB7IG1lcmdlQWxsIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlQWxsJztcbmV4cG9ydCB7IG1lcmdlTWFwLCBmbGF0TWFwIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlTWFwJztcbmV4cG9ydCB7IG1lcmdlTWFwVG8gfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VNYXBUbyc7XG5leHBvcnQgeyBtZXJnZVNjYW4gfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VTY2FuJztcbmV4cG9ydCB7IG1pbiB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9taW4nO1xuZXhwb3J0IHsgbXVsdGljYXN0IH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL211bHRpY2FzdCc7XG5leHBvcnQgeyBvYnNlcnZlT24gfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvb2JzZXJ2ZU9uJztcbmV4cG9ydCB7IG9uRXJyb3JSZXN1bWVOZXh0IH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL29uRXJyb3JSZXN1bWVOZXh0JztcbmV4cG9ydCB7IHBhaXJ3aXNlIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3BhaXJ3aXNlJztcbmV4cG9ydCB7IHBhcnRpdGlvbiB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9wYXJ0aXRpb24nO1xuZXhwb3J0IHsgcGx1Y2sgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvcGx1Y2snO1xuZXhwb3J0IHsgcHVibGlzaCB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9wdWJsaXNoJztcbmV4cG9ydCB7IHB1Ymxpc2hCZWhhdmlvciB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9wdWJsaXNoQmVoYXZpb3InO1xuZXhwb3J0IHsgcHVibGlzaExhc3QgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvcHVibGlzaExhc3QnO1xuZXhwb3J0IHsgcHVibGlzaFJlcGxheSB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9wdWJsaXNoUmVwbGF5JztcbmV4cG9ydCB7IHJhY2UgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvcmFjZSc7XG5leHBvcnQgeyByZWR1Y2UgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvcmVkdWNlJztcbmV4cG9ydCB7IHJlcGVhdCB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9yZXBlYXQnO1xuZXhwb3J0IHsgcmVwZWF0V2hlbiB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9yZXBlYXRXaGVuJztcbmV4cG9ydCB7IHJldHJ5IH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3JldHJ5JztcbmV4cG9ydCB7IHJldHJ5V2hlbiB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9yZXRyeVdoZW4nO1xuZXhwb3J0IHsgcmVmQ291bnQgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvcmVmQ291bnQnO1xuZXhwb3J0IHsgc2FtcGxlIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3NhbXBsZSc7XG5leHBvcnQgeyBzYW1wbGVUaW1lIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3NhbXBsZVRpbWUnO1xuZXhwb3J0IHsgc2NhbiB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9zY2FuJztcbmV4cG9ydCB7IHNlcXVlbmNlRXF1YWwgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvc2VxdWVuY2VFcXVhbCc7XG5leHBvcnQgeyBzaGFyZSB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9zaGFyZSc7XG5leHBvcnQgeyBzaGFyZVJlcGxheSB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9zaGFyZVJlcGxheSc7XG5leHBvcnQgeyBzaW5nbGUgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvc2luZ2xlJztcbmV4cG9ydCB7IHNraXAgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvc2tpcCc7XG5leHBvcnQgeyBza2lwTGFzdCB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9za2lwTGFzdCc7XG5leHBvcnQgeyBza2lwVW50aWwgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvc2tpcFVudGlsJztcbmV4cG9ydCB7IHNraXBXaGlsZSB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9za2lwV2hpbGUnO1xuZXhwb3J0IHsgc3RhcnRXaXRoIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3N0YXJ0V2l0aCc7XG5leHBvcnQgeyBzdWJzY3JpYmVPbiB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9zdWJzY3JpYmVPbic7XG5leHBvcnQgeyBzd2l0Y2hBbGwgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvc3dpdGNoQWxsJztcbmV4cG9ydCB7IHN3aXRjaE1hcCB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy9zd2l0Y2hNYXAnO1xuZXhwb3J0IHsgc3dpdGNoTWFwVG8gfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvc3dpdGNoTWFwVG8nO1xuZXhwb3J0IHsgdGFrZSB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy90YWtlJztcbmV4cG9ydCB7IHRha2VMYXN0IH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3Rha2VMYXN0JztcbmV4cG9ydCB7IHRha2VVbnRpbCB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy90YWtlVW50aWwnO1xuZXhwb3J0IHsgdGFrZVdoaWxlIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3Rha2VXaGlsZSc7XG5leHBvcnQgeyB0YXAgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvdGFwJztcbmV4cG9ydCB7IHRocm90dGxlIH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3Rocm90dGxlJztcbmV4cG9ydCB7IHRocm90dGxlVGltZSB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy90aHJvdHRsZVRpbWUnO1xuZXhwb3J0IHsgdGhyb3dJZkVtcHR5IH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3Rocm93SWZFbXB0eSc7XG5leHBvcnQgeyB0aW1lSW50ZXJ2YWwgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvdGltZUludGVydmFsJztcbmV4cG9ydCB7IHRpbWVvdXQgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvdGltZW91dCc7XG5leHBvcnQgeyB0aW1lb3V0V2l0aCB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy90aW1lb3V0V2l0aCc7XG5leHBvcnQgeyB0aW1lc3RhbXAgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvdGltZXN0YW1wJztcbmV4cG9ydCB7IHRvQXJyYXkgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvdG9BcnJheSc7XG5leHBvcnQgeyB3aW5kb3cgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvd2luZG93JztcbmV4cG9ydCB7IHdpbmRvd0NvdW50IH0gZnJvbSAnLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3dpbmRvd0NvdW50JztcbmV4cG9ydCB7IHdpbmRvd1RpbWUgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvd2luZG93VGltZSc7XG5leHBvcnQgeyB3aW5kb3dUb2dnbGUgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvd2luZG93VG9nZ2xlJztcbmV4cG9ydCB7IHdpbmRvd1doZW4gfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvd2luZG93V2hlbic7XG5leHBvcnQgeyB3aXRoTGF0ZXN0RnJvbSB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy93aXRoTGF0ZXN0RnJvbSc7XG5leHBvcnQgeyB6aXAgfSBmcm9tICcuLi9pbnRlcm5hbC9vcGVyYXRvcnMvemlwJztcbmV4cG9ydCB7IHppcEFsbCB9IGZyb20gJy4uL2ludGVybmFsL29wZXJhdG9ycy96aXBBbGwnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iLCIvL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNoYWxsb3dFcXVhbChvYmpBLCBvYmpCLCBjb21wYXJlLCBjb21wYXJlQ29udGV4dCkge1xuICB2YXIgcmV0ID0gY29tcGFyZSA/IGNvbXBhcmUuY2FsbChjb21wYXJlQ29udGV4dCwgb2JqQSwgb2JqQikgOiB2b2lkIDA7XG5cbiAgaWYgKHJldCAhPT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuICEhcmV0O1xuICB9XG5cbiAgaWYgKG9iakEgPT09IG9iakIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb2JqQSAhPT0gXCJvYmplY3RcIiB8fCAhb2JqQSB8fCB0eXBlb2Ygb2JqQiAhPT0gXCJvYmplY3RcIiB8fCAhb2JqQikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBrZXlzQSA9IE9iamVjdC5rZXlzKG9iakEpO1xuICB2YXIga2V5c0IgPSBPYmplY3Qua2V5cyhvYmpCKTtcblxuICBpZiAoa2V5c0EubGVuZ3RoICE9PSBrZXlzQi5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgYkhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5iaW5kKG9iakIpO1xuXG4gIC8vIFRlc3QgZm9yIEEncyBrZXlzIGRpZmZlcmVudCBmcm9tIEIuXG4gIGZvciAodmFyIGlkeCA9IDA7IGlkeCA8IGtleXNBLmxlbmd0aDsgaWR4KyspIHtcbiAgICB2YXIga2V5ID0ga2V5c0FbaWR4XTtcblxuICAgIGlmICghYkhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgdmFsdWVBID0gb2JqQVtrZXldO1xuICAgIHZhciB2YWx1ZUIgPSBvYmpCW2tleV07XG5cbiAgICByZXQgPSBjb21wYXJlID8gY29tcGFyZS5jYWxsKGNvbXBhcmVDb250ZXh0LCB2YWx1ZUEsIHZhbHVlQiwga2V5KSA6IHZvaWQgMDtcblxuICAgIGlmIChyZXQgPT09IGZhbHNlIHx8IChyZXQgPT09IHZvaWQgMCAmJiB2YWx1ZUEgIT09IHZhbHVlQikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG4iLCIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jcmVhdGVCaW5kaW5nKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgb1trMl0gPSBtW2tdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gZ2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHByaXZhdGVNYXAuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHByaXZhdGVNYXAsIHZhbHVlKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gc2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZU1hcC5zZXQocmVjZWl2ZXIsIHZhbHVlKTtcclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG4iLCJpZiAodHlwZW9mIE9iamVjdC5jcmVhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgLy8gaW1wbGVtZW50YXRpb24gZnJvbSBzdGFuZGFyZCBub2RlLmpzICd1dGlsJyBtb2R1bGVcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7XG4gICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICB2YWx1ZTogY3RvcixcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn0gZWxzZSB7XG4gIC8vIG9sZCBzY2hvb2wgc2hpbSBmb3Igb2xkIGJyb3dzZXJzXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICB2YXIgVGVtcEN0b3IgPSBmdW5jdGlvbiAoKSB7fVxuICAgIFRlbXBDdG9yLnByb3RvdHlwZSA9IHN1cGVyQ3Rvci5wcm90b3R5cGVcbiAgICBjdG9yLnByb3RvdHlwZSA9IG5ldyBUZW1wQ3RvcigpXG4gICAgY3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjdG9yXG4gIH1cbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNCdWZmZXIoYXJnKSB7XG4gIHJldHVybiBhcmcgJiYgdHlwZW9mIGFyZyA9PT0gJ29iamVjdCdcbiAgICAmJiB0eXBlb2YgYXJnLmNvcHkgPT09ICdmdW5jdGlvbidcbiAgICAmJiB0eXBlb2YgYXJnLmZpbGwgPT09ICdmdW5jdGlvbidcbiAgICAmJiB0eXBlb2YgYXJnLnJlYWRVSW50OCA9PT0gJ2Z1bmN0aW9uJztcbn0iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxudmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyB8fFxuICBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG9iaikge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICB2YXIgZGVzY3JpcHRvcnMgPSB7fTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGRlc2NyaXB0b3JzW2tleXNbaV1dID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleXNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gZGVzY3JpcHRvcnM7XG4gIH07XG5cbnZhciBmb3JtYXRSZWdFeHAgPSAvJVtzZGolXS9nO1xuZXhwb3J0cy5mb3JtYXQgPSBmdW5jdGlvbihmKSB7XG4gIGlmICghaXNTdHJpbmcoZikpIHtcbiAgICB2YXIgb2JqZWN0cyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBvYmplY3RzLnB1c2goaW5zcGVjdChhcmd1bWVudHNbaV0pKTtcbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdHMuam9pbignICcpO1xuICB9XG5cbiAgdmFyIGkgPSAxO1xuICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgdmFyIGxlbiA9IGFyZ3MubGVuZ3RoO1xuICB2YXIgc3RyID0gU3RyaW5nKGYpLnJlcGxhY2UoZm9ybWF0UmVnRXhwLCBmdW5jdGlvbih4KSB7XG4gICAgaWYgKHggPT09ICclJScpIHJldHVybiAnJSc7XG4gICAgaWYgKGkgPj0gbGVuKSByZXR1cm4geDtcbiAgICBzd2l0Y2ggKHgpIHtcbiAgICAgIGNhc2UgJyVzJzogcmV0dXJuIFN0cmluZyhhcmdzW2krK10pO1xuICAgICAgY2FzZSAnJWQnOiByZXR1cm4gTnVtYmVyKGFyZ3NbaSsrXSk7XG4gICAgICBjYXNlICclaic6XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFyZ3NbaSsrXSk7XG4gICAgICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgICByZXR1cm4gJ1tDaXJjdWxhcl0nO1xuICAgICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4geDtcbiAgICB9XG4gIH0pO1xuICBmb3IgKHZhciB4ID0gYXJnc1tpXTsgaSA8IGxlbjsgeCA9IGFyZ3NbKytpXSkge1xuICAgIGlmIChpc051bGwoeCkgfHwgIWlzT2JqZWN0KHgpKSB7XG4gICAgICBzdHIgKz0gJyAnICsgeDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyICs9ICcgJyArIGluc3BlY3QoeCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdHI7XG59O1xuXG5cbi8vIE1hcmsgdGhhdCBhIG1ldGhvZCBzaG91bGQgbm90IGJlIHVzZWQuXG4vLyBSZXR1cm5zIGEgbW9kaWZpZWQgZnVuY3Rpb24gd2hpY2ggd2FybnMgb25jZSBieSBkZWZhdWx0LlxuLy8gSWYgLS1uby1kZXByZWNhdGlvbiBpcyBzZXQsIHRoZW4gaXQgaXMgYSBuby1vcC5cbmV4cG9ydHMuZGVwcmVjYXRlID0gZnVuY3Rpb24oZm4sIG1zZykge1xuICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHByb2Nlc3Mubm9EZXByZWNhdGlvbiA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiBmbjtcbiAgfVxuXG4gIC8vIEFsbG93IGZvciBkZXByZWNhdGluZyB0aGluZ3MgaW4gdGhlIHByb2Nlc3Mgb2Ygc3RhcnRpbmcgdXAuXG4gIGlmICh0eXBlb2YgcHJvY2VzcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZXhwb3J0cy5kZXByZWNhdGUoZm4sIG1zZykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9XG5cbiAgdmFyIHdhcm5lZCA9IGZhbHNlO1xuICBmdW5jdGlvbiBkZXByZWNhdGVkKCkge1xuICAgIGlmICghd2FybmVkKSB7XG4gICAgICBpZiAocHJvY2Vzcy50aHJvd0RlcHJlY2F0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLnRyYWNlRGVwcmVjYXRpb24pIHtcbiAgICAgICAgY29uc29sZS50cmFjZShtc2cpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihtc2cpO1xuICAgICAgfVxuICAgICAgd2FybmVkID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICByZXR1cm4gZGVwcmVjYXRlZDtcbn07XG5cblxudmFyIGRlYnVncyA9IHt9O1xudmFyIGRlYnVnRW52aXJvbjtcbmV4cG9ydHMuZGVidWdsb2cgPSBmdW5jdGlvbihzZXQpIHtcbiAgaWYgKGlzVW5kZWZpbmVkKGRlYnVnRW52aXJvbikpXG4gICAgZGVidWdFbnZpcm9uID0gcHJvY2Vzcy5lbnYuTk9ERV9ERUJVRyB8fCAnJztcbiAgc2V0ID0gc2V0LnRvVXBwZXJDYXNlKCk7XG4gIGlmICghZGVidWdzW3NldF0pIHtcbiAgICBpZiAobmV3IFJlZ0V4cCgnXFxcXGInICsgc2V0ICsgJ1xcXFxiJywgJ2knKS50ZXN0KGRlYnVnRW52aXJvbikpIHtcbiAgICAgIHZhciBwaWQgPSBwcm9jZXNzLnBpZDtcbiAgICAgIGRlYnVnc1tzZXRdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBtc2cgPSBleHBvcnRzLmZvcm1hdC5hcHBseShleHBvcnRzLCBhcmd1bWVudHMpO1xuICAgICAgICBjb25zb2xlLmVycm9yKCclcyAlZDogJXMnLCBzZXQsIHBpZCwgbXNnKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlYnVnc1tzZXRdID0gZnVuY3Rpb24oKSB7fTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRlYnVnc1tzZXRdO1xufTtcblxuXG4vKipcbiAqIEVjaG9zIHRoZSB2YWx1ZSBvZiBhIHZhbHVlLiBUcnlzIHRvIHByaW50IHRoZSB2YWx1ZSBvdXRcbiAqIGluIHRoZSBiZXN0IHdheSBwb3NzaWJsZSBnaXZlbiB0aGUgZGlmZmVyZW50IHR5cGVzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogVGhlIG9iamVjdCB0byBwcmludCBvdXQuXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0cyBPcHRpb25hbCBvcHRpb25zIG9iamVjdCB0aGF0IGFsdGVycyB0aGUgb3V0cHV0LlxuICovXG4vKiBsZWdhY3k6IG9iaiwgc2hvd0hpZGRlbiwgZGVwdGgsIGNvbG9ycyovXG5mdW5jdGlvbiBpbnNwZWN0KG9iaiwgb3B0cykge1xuICAvLyBkZWZhdWx0IG9wdGlvbnNcbiAgdmFyIGN0eCA9IHtcbiAgICBzZWVuOiBbXSxcbiAgICBzdHlsaXplOiBzdHlsaXplTm9Db2xvclxuICB9O1xuICAvLyBsZWdhY3kuLi5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMykgY3R4LmRlcHRoID0gYXJndW1lbnRzWzJdO1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSA0KSBjdHguY29sb3JzID0gYXJndW1lbnRzWzNdO1xuICBpZiAoaXNCb29sZWFuKG9wdHMpKSB7XG4gICAgLy8gbGVnYWN5Li4uXG4gICAgY3R4LnNob3dIaWRkZW4gPSBvcHRzO1xuICB9IGVsc2UgaWYgKG9wdHMpIHtcbiAgICAvLyBnb3QgYW4gXCJvcHRpb25zXCIgb2JqZWN0XG4gICAgZXhwb3J0cy5fZXh0ZW5kKGN0eCwgb3B0cyk7XG4gIH1cbiAgLy8gc2V0IGRlZmF1bHQgb3B0aW9uc1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LnNob3dIaWRkZW4pKSBjdHguc2hvd0hpZGRlbiA9IGZhbHNlO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmRlcHRoKSkgY3R4LmRlcHRoID0gMjtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5jb2xvcnMpKSBjdHguY29sb3JzID0gZmFsc2U7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguY3VzdG9tSW5zcGVjdCkpIGN0eC5jdXN0b21JbnNwZWN0ID0gdHJ1ZTtcbiAgaWYgKGN0eC5jb2xvcnMpIGN0eC5zdHlsaXplID0gc3R5bGl6ZVdpdGhDb2xvcjtcbiAgcmV0dXJuIGZvcm1hdFZhbHVlKGN0eCwgb2JqLCBjdHguZGVwdGgpO1xufVxuZXhwb3J0cy5pbnNwZWN0ID0gaW5zcGVjdDtcblxuXG4vLyBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0FOU0lfZXNjYXBlX2NvZGUjZ3JhcGhpY3Ncbmluc3BlY3QuY29sb3JzID0ge1xuICAnYm9sZCcgOiBbMSwgMjJdLFxuICAnaXRhbGljJyA6IFszLCAyM10sXG4gICd1bmRlcmxpbmUnIDogWzQsIDI0XSxcbiAgJ2ludmVyc2UnIDogWzcsIDI3XSxcbiAgJ3doaXRlJyA6IFszNywgMzldLFxuICAnZ3JleScgOiBbOTAsIDM5XSxcbiAgJ2JsYWNrJyA6IFszMCwgMzldLFxuICAnYmx1ZScgOiBbMzQsIDM5XSxcbiAgJ2N5YW4nIDogWzM2LCAzOV0sXG4gICdncmVlbicgOiBbMzIsIDM5XSxcbiAgJ21hZ2VudGEnIDogWzM1LCAzOV0sXG4gICdyZWQnIDogWzMxLCAzOV0sXG4gICd5ZWxsb3cnIDogWzMzLCAzOV1cbn07XG5cbi8vIERvbid0IHVzZSAnYmx1ZScgbm90IHZpc2libGUgb24gY21kLmV4ZVxuaW5zcGVjdC5zdHlsZXMgPSB7XG4gICdzcGVjaWFsJzogJ2N5YW4nLFxuICAnbnVtYmVyJzogJ3llbGxvdycsXG4gICdib29sZWFuJzogJ3llbGxvdycsXG4gICd1bmRlZmluZWQnOiAnZ3JleScsXG4gICdudWxsJzogJ2JvbGQnLFxuICAnc3RyaW5nJzogJ2dyZWVuJyxcbiAgJ2RhdGUnOiAnbWFnZW50YScsXG4gIC8vIFwibmFtZVwiOiBpbnRlbnRpb25hbGx5IG5vdCBzdHlsaW5nXG4gICdyZWdleHAnOiAncmVkJ1xufTtcblxuXG5mdW5jdGlvbiBzdHlsaXplV2l0aENvbG9yKHN0ciwgc3R5bGVUeXBlKSB7XG4gIHZhciBzdHlsZSA9IGluc3BlY3Quc3R5bGVzW3N0eWxlVHlwZV07XG5cbiAgaWYgKHN0eWxlKSB7XG4gICAgcmV0dXJuICdcXHUwMDFiWycgKyBpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMF0gKyAnbScgKyBzdHIgK1xuICAgICAgICAgICAnXFx1MDAxYlsnICsgaW5zcGVjdC5jb2xvcnNbc3R5bGVdWzFdICsgJ20nO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBzdHlsaXplTm9Db2xvcihzdHIsIHN0eWxlVHlwZSkge1xuICByZXR1cm4gc3RyO1xufVxuXG5cbmZ1bmN0aW9uIGFycmF5VG9IYXNoKGFycmF5KSB7XG4gIHZhciBoYXNoID0ge307XG5cbiAgYXJyYXkuZm9yRWFjaChmdW5jdGlvbih2YWwsIGlkeCkge1xuICAgIGhhc2hbdmFsXSA9IHRydWU7XG4gIH0pO1xuXG4gIHJldHVybiBoYXNoO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFZhbHVlKGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcykge1xuICAvLyBQcm92aWRlIGEgaG9vayBmb3IgdXNlci1zcGVjaWZpZWQgaW5zcGVjdCBmdW5jdGlvbnMuXG4gIC8vIENoZWNrIHRoYXQgdmFsdWUgaXMgYW4gb2JqZWN0IHdpdGggYW4gaW5zcGVjdCBmdW5jdGlvbiBvbiBpdFxuICBpZiAoY3R4LmN1c3RvbUluc3BlY3QgJiZcbiAgICAgIHZhbHVlICYmXG4gICAgICBpc0Z1bmN0aW9uKHZhbHVlLmluc3BlY3QpICYmXG4gICAgICAvLyBGaWx0ZXIgb3V0IHRoZSB1dGlsIG1vZHVsZSwgaXQncyBpbnNwZWN0IGZ1bmN0aW9uIGlzIHNwZWNpYWxcbiAgICAgIHZhbHVlLmluc3BlY3QgIT09IGV4cG9ydHMuaW5zcGVjdCAmJlxuICAgICAgLy8gQWxzbyBmaWx0ZXIgb3V0IGFueSBwcm90b3R5cGUgb2JqZWN0cyB1c2luZyB0aGUgY2lyY3VsYXIgY2hlY2suXG4gICAgICAhKHZhbHVlLmNvbnN0cnVjdG9yICYmIHZhbHVlLmNvbnN0cnVjdG9yLnByb3RvdHlwZSA9PT0gdmFsdWUpKSB7XG4gICAgdmFyIHJldCA9IHZhbHVlLmluc3BlY3QocmVjdXJzZVRpbWVzLCBjdHgpO1xuICAgIGlmICghaXNTdHJpbmcocmV0KSkge1xuICAgICAgcmV0ID0gZm9ybWF0VmFsdWUoY3R4LCByZXQsIHJlY3Vyc2VUaW1lcyk7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG4gIH1cblxuICAvLyBQcmltaXRpdmUgdHlwZXMgY2Fubm90IGhhdmUgcHJvcGVydGllc1xuICB2YXIgcHJpbWl0aXZlID0gZm9ybWF0UHJpbWl0aXZlKGN0eCwgdmFsdWUpO1xuICBpZiAocHJpbWl0aXZlKSB7XG4gICAgcmV0dXJuIHByaW1pdGl2ZTtcbiAgfVxuXG4gIC8vIExvb2sgdXAgdGhlIGtleXMgb2YgdGhlIG9iamVjdC5cbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh2YWx1ZSk7XG4gIHZhciB2aXNpYmxlS2V5cyA9IGFycmF5VG9IYXNoKGtleXMpO1xuXG4gIGlmIChjdHguc2hvd0hpZGRlbikge1xuICAgIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSk7XG4gIH1cblxuICAvLyBJRSBkb2Vzbid0IG1ha2UgZXJyb3IgZmllbGRzIG5vbi1lbnVtZXJhYmxlXG4gIC8vIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9pZS9kd3c1MnNidCh2PXZzLjk0KS5hc3B4XG4gIGlmIChpc0Vycm9yKHZhbHVlKVxuICAgICAgJiYgKGtleXMuaW5kZXhPZignbWVzc2FnZScpID49IDAgfHwga2V5cy5pbmRleE9mKCdkZXNjcmlwdGlvbicpID49IDApKSB7XG4gICAgcmV0dXJuIGZvcm1hdEVycm9yKHZhbHVlKTtcbiAgfVxuXG4gIC8vIFNvbWUgdHlwZSBvZiBvYmplY3Qgd2l0aG91dCBwcm9wZXJ0aWVzIGNhbiBiZSBzaG9ydGN1dHRlZC5cbiAgaWYgKGtleXMubGVuZ3RoID09PSAwKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICB2YXIgbmFtZSA9IHZhbHVlLm5hbWUgPyAnOiAnICsgdmFsdWUubmFtZSA6ICcnO1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCdbRnVuY3Rpb24nICsgbmFtZSArICddJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gICAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTtcbiAgICB9XG4gICAgaWYgKGlzRGF0ZSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZShEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ2RhdGUnKTtcbiAgICB9XG4gICAgaWYgKGlzRXJyb3IodmFsdWUpKSB7XG4gICAgICByZXR1cm4gZm9ybWF0RXJyb3IodmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBiYXNlID0gJycsIGFycmF5ID0gZmFsc2UsIGJyYWNlcyA9IFsneycsICd9J107XG5cbiAgLy8gTWFrZSBBcnJheSBzYXkgdGhhdCB0aGV5IGFyZSBBcnJheVxuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBhcnJheSA9IHRydWU7XG4gICAgYnJhY2VzID0gWydbJywgJ10nXTtcbiAgfVxuXG4gIC8vIE1ha2UgZnVuY3Rpb25zIHNheSB0aGF0IHRoZXkgYXJlIGZ1bmN0aW9uc1xuICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICB2YXIgbiA9IHZhbHVlLm5hbWUgPyAnOiAnICsgdmFsdWUubmFtZSA6ICcnO1xuICAgIGJhc2UgPSAnIFtGdW5jdGlvbicgKyBuICsgJ10nO1xuICB9XG5cbiAgLy8gTWFrZSBSZWdFeHBzIHNheSB0aGF0IHRoZXkgYXJlIFJlZ0V4cHNcbiAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICB9XG5cbiAgLy8gTWFrZSBkYXRlcyB3aXRoIHByb3BlcnRpZXMgZmlyc3Qgc2F5IHRoZSBkYXRlXG4gIGlmIChpc0RhdGUodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIERhdGUucHJvdG90eXBlLnRvVVRDU3RyaW5nLmNhbGwodmFsdWUpO1xuICB9XG5cbiAgLy8gTWFrZSBlcnJvciB3aXRoIG1lc3NhZ2UgZmlyc3Qgc2F5IHRoZSBlcnJvclxuICBpZiAoaXNFcnJvcih2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgZm9ybWF0RXJyb3IodmFsdWUpO1xuICB9XG5cbiAgaWYgKGtleXMubGVuZ3RoID09PSAwICYmICghYXJyYXkgfHwgdmFsdWUubGVuZ3RoID09IDApKSB7XG4gICAgcmV0dXJuIGJyYWNlc1swXSArIGJhc2UgKyBicmFjZXNbMV07XG4gIH1cblxuICBpZiAocmVjdXJzZVRpbWVzIDwgMCkge1xuICAgIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZShSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAncmVnZXhwJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZSgnW09iamVjdF0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuXG4gIGN0eC5zZWVuLnB1c2godmFsdWUpO1xuXG4gIHZhciBvdXRwdXQ7XG4gIGlmIChhcnJheSkge1xuICAgIG91dHB1dCA9IGZvcm1hdEFycmF5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleXMpO1xuICB9IGVsc2Uge1xuICAgIG91dHB1dCA9IGtleXMubWFwKGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleSwgYXJyYXkpO1xuICAgIH0pO1xuICB9XG5cbiAgY3R4LnNlZW4ucG9wKCk7XG5cbiAgcmV0dXJuIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKTtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSkge1xuICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgndW5kZWZpbmVkJywgJ3VuZGVmaW5lZCcpO1xuICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgdmFyIHNpbXBsZSA9ICdcXCcnICsgSlNPTi5zdHJpbmdpZnkodmFsdWUpLnJlcGxhY2UoL15cInxcIiQvZywgJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvJy9nLCBcIlxcXFwnXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxcXFwiL2csICdcIicpICsgJ1xcJyc7XG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKHNpbXBsZSwgJ3N0cmluZycpO1xuICB9XG4gIGlmIChpc051bWJlcih2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCcnICsgdmFsdWUsICdudW1iZXInKTtcbiAgaWYgKGlzQm9vbGVhbih2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCcnICsgdmFsdWUsICdib29sZWFuJyk7XG4gIC8vIEZvciBzb21lIHJlYXNvbiB0eXBlb2YgbnVsbCBpcyBcIm9iamVjdFwiLCBzbyBzcGVjaWFsIGNhc2UgaGVyZS5cbiAgaWYgKGlzTnVsbCh2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCdudWxsJywgJ251bGwnKTtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRFcnJvcih2YWx1ZSkge1xuICByZXR1cm4gJ1snICsgRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpICsgJ10nO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdEFycmF5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleXMpIHtcbiAgdmFyIG91dHB1dCA9IFtdO1xuICBmb3IgKHZhciBpID0gMCwgbCA9IHZhbHVlLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eSh2YWx1ZSwgU3RyaW5nKGkpKSkge1xuICAgICAgb3V0cHV0LnB1c2goZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cyxcbiAgICAgICAgICBTdHJpbmcoaSksIHRydWUpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0cHV0LnB1c2goJycpO1xuICAgIH1cbiAgfVxuICBrZXlzLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgaWYgKCFrZXkubWF0Y2goL15cXGQrJC8pKSB7XG4gICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLFxuICAgICAgICAgIGtleSwgdHJ1ZSkpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBvdXRwdXQ7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSkge1xuICB2YXIgbmFtZSwgc3RyLCBkZXNjO1xuICBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih2YWx1ZSwga2V5KSB8fCB7IHZhbHVlOiB2YWx1ZVtrZXldIH07XG4gIGlmIChkZXNjLmdldCkge1xuICAgIGlmIChkZXNjLnNldCkge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXIvU2V0dGVyXScsICdzcGVjaWFsJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbR2V0dGVyXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChkZXNjLnNldCkge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tTZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cbiAgaWYgKCFoYXNPd25Qcm9wZXJ0eSh2aXNpYmxlS2V5cywga2V5KSkge1xuICAgIG5hbWUgPSAnWycgKyBrZXkgKyAnXSc7XG4gIH1cbiAgaWYgKCFzdHIpIHtcbiAgICBpZiAoY3R4LnNlZW4uaW5kZXhPZihkZXNjLnZhbHVlKSA8IDApIHtcbiAgICAgIGlmIChpc051bGwocmVjdXJzZVRpbWVzKSkge1xuICAgICAgICBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIGRlc2MudmFsdWUsIG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RyID0gZm9ybWF0VmFsdWUoY3R4LCBkZXNjLnZhbHVlLCByZWN1cnNlVGltZXMgLSAxKTtcbiAgICAgIH1cbiAgICAgIGlmIChzdHIuaW5kZXhPZignXFxuJykgPiAtMSkge1xuICAgICAgICBpZiAoYXJyYXkpIHtcbiAgICAgICAgICBzdHIgPSBzdHIuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyAgJyArIGxpbmU7XG4gICAgICAgICAgfSkuam9pbignXFxuJykuc3Vic3RyKDIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0ciA9ICdcXG4nICsgc3RyLnNwbGl0KCdcXG4nKS5tYXAoZnVuY3Rpb24obGluZSkge1xuICAgICAgICAgICAgcmV0dXJuICcgICAnICsgbGluZTtcbiAgICAgICAgICB9KS5qb2luKCdcXG4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0NpcmN1bGFyXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG4gIGlmIChpc1VuZGVmaW5lZChuYW1lKSkge1xuICAgIGlmIChhcnJheSAmJiBrZXkubWF0Y2goL15cXGQrJC8pKSB7XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgICBuYW1lID0gSlNPTi5zdHJpbmdpZnkoJycgKyBrZXkpO1xuICAgIGlmIChuYW1lLm1hdGNoKC9eXCIoW2EtekEtWl9dW2EtekEtWl8wLTldKilcIiQvKSkge1xuICAgICAgbmFtZSA9IG5hbWUuc3Vic3RyKDEsIG5hbWUubGVuZ3RoIC0gMik7XG4gICAgICBuYW1lID0gY3R4LnN0eWxpemUobmFtZSwgJ25hbWUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZSgvJy9nLCBcIlxcXFwnXCIpXG4gICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJylcbiAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLyheXCJ8XCIkKS9nLCBcIidcIik7XG4gICAgICBuYW1lID0gY3R4LnN0eWxpemUobmFtZSwgJ3N0cmluZycpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuYW1lICsgJzogJyArIHN0cjtcbn1cblxuXG5mdW5jdGlvbiByZWR1Y2VUb1NpbmdsZVN0cmluZyhvdXRwdXQsIGJhc2UsIGJyYWNlcykge1xuICB2YXIgbnVtTGluZXNFc3QgPSAwO1xuICB2YXIgbGVuZ3RoID0gb3V0cHV0LnJlZHVjZShmdW5jdGlvbihwcmV2LCBjdXIpIHtcbiAgICBudW1MaW5lc0VzdCsrO1xuICAgIGlmIChjdXIuaW5kZXhPZignXFxuJykgPj0gMCkgbnVtTGluZXNFc3QrKztcbiAgICByZXR1cm4gcHJldiArIGN1ci5yZXBsYWNlKC9cXHUwMDFiXFxbXFxkXFxkP20vZywgJycpLmxlbmd0aCArIDE7XG4gIH0sIDApO1xuXG4gIGlmIChsZW5ndGggPiA2MCkge1xuICAgIHJldHVybiBicmFjZXNbMF0gK1xuICAgICAgICAgICAoYmFzZSA9PT0gJycgPyAnJyA6IGJhc2UgKyAnXFxuICcpICtcbiAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgb3V0cHV0LmpvaW4oJyxcXG4gICcpICtcbiAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgYnJhY2VzWzFdO1xuICB9XG5cbiAgcmV0dXJuIGJyYWNlc1swXSArIGJhc2UgKyAnICcgKyBvdXRwdXQuam9pbignLCAnKSArICcgJyArIGJyYWNlc1sxXTtcbn1cblxuXG4vLyBOT1RFOiBUaGVzZSB0eXBlIGNoZWNraW5nIGZ1bmN0aW9ucyBpbnRlbnRpb25hbGx5IGRvbid0IHVzZSBgaW5zdGFuY2VvZmBcbi8vIGJlY2F1c2UgaXQgaXMgZnJhZ2lsZSBhbmQgY2FuIGJlIGVhc2lseSBmYWtlZCB3aXRoIGBPYmplY3QuY3JlYXRlKClgLlxuZnVuY3Rpb24gaXNBcnJheShhcikge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShhcik7XG59XG5leHBvcnRzLmlzQXJyYXkgPSBpc0FycmF5O1xuXG5mdW5jdGlvbiBpc0Jvb2xlYW4oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnYm9vbGVhbic7XG59XG5leHBvcnRzLmlzQm9vbGVhbiA9IGlzQm9vbGVhbjtcblxuZnVuY3Rpb24gaXNOdWxsKGFyZykge1xuICByZXR1cm4gYXJnID09PSBudWxsO1xufVxuZXhwb3J0cy5pc051bGwgPSBpc051bGw7XG5cbmZ1bmN0aW9uIGlzTnVsbE9yVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09IG51bGw7XG59XG5leHBvcnRzLmlzTnVsbE9yVW5kZWZpbmVkID0gaXNOdWxsT3JVbmRlZmluZWQ7XG5cbmZ1bmN0aW9uIGlzTnVtYmVyKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ251bWJlcic7XG59XG5leHBvcnRzLmlzTnVtYmVyID0gaXNOdW1iZXI7XG5cbmZ1bmN0aW9uIGlzU3RyaW5nKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N0cmluZyc7XG59XG5leHBvcnRzLmlzU3RyaW5nID0gaXNTdHJpbmc7XG5cbmZ1bmN0aW9uIGlzU3ltYm9sKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCc7XG59XG5leHBvcnRzLmlzU3ltYm9sID0gaXNTeW1ib2w7XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09PSB2b2lkIDA7XG59XG5leHBvcnRzLmlzVW5kZWZpbmVkID0gaXNVbmRlZmluZWQ7XG5cbmZ1bmN0aW9uIGlzUmVnRXhwKHJlKSB7XG4gIHJldHVybiBpc09iamVjdChyZSkgJiYgb2JqZWN0VG9TdHJpbmcocmUpID09PSAnW29iamVjdCBSZWdFeHBdJztcbn1cbmV4cG9ydHMuaXNSZWdFeHAgPSBpc1JlZ0V4cDtcblxuZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG59XG5leHBvcnRzLmlzT2JqZWN0ID0gaXNPYmplY3Q7XG5cbmZ1bmN0aW9uIGlzRGF0ZShkKSB7XG4gIHJldHVybiBpc09iamVjdChkKSAmJiBvYmplY3RUb1N0cmluZyhkKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufVxuZXhwb3J0cy5pc0RhdGUgPSBpc0RhdGU7XG5cbmZ1bmN0aW9uIGlzRXJyb3IoZSkge1xuICByZXR1cm4gaXNPYmplY3QoZSkgJiZcbiAgICAgIChvYmplY3RUb1N0cmluZyhlKSA9PT0gJ1tvYmplY3QgRXJyb3JdJyB8fCBlIGluc3RhbmNlb2YgRXJyb3IpO1xufVxuZXhwb3J0cy5pc0Vycm9yID0gaXNFcnJvcjtcblxuZnVuY3Rpb24gaXNGdW5jdGlvbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbic7XG59XG5leHBvcnRzLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuXG5mdW5jdGlvbiBpc1ByaW1pdGl2ZShhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gbnVsbCB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnbnVtYmVyJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N0cmluZycgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdzeW1ib2wnIHx8ICAvLyBFUzYgc3ltYm9sXG4gICAgICAgICB0eXBlb2YgYXJnID09PSAndW5kZWZpbmVkJztcbn1cbmV4cG9ydHMuaXNQcmltaXRpdmUgPSBpc1ByaW1pdGl2ZTtcblxuZXhwb3J0cy5pc0J1ZmZlciA9IHJlcXVpcmUoJy4vc3VwcG9ydC9pc0J1ZmZlcicpO1xuXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyhvKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobyk7XG59XG5cblxuZnVuY3Rpb24gcGFkKG4pIHtcbiAgcmV0dXJuIG4gPCAxMCA/ICcwJyArIG4udG9TdHJpbmcoMTApIDogbi50b1N0cmluZygxMCk7XG59XG5cblxudmFyIG1vbnRocyA9IFsnSmFuJywgJ0ZlYicsICdNYXInLCAnQXByJywgJ01heScsICdKdW4nLCAnSnVsJywgJ0F1ZycsICdTZXAnLFxuICAgICAgICAgICAgICAnT2N0JywgJ05vdicsICdEZWMnXTtcblxuLy8gMjYgRmViIDE2OjE5OjM0XG5mdW5jdGlvbiB0aW1lc3RhbXAoKSB7XG4gIHZhciBkID0gbmV3IERhdGUoKTtcbiAgdmFyIHRpbWUgPSBbcGFkKGQuZ2V0SG91cnMoKSksXG4gICAgICAgICAgICAgIHBhZChkLmdldE1pbnV0ZXMoKSksXG4gICAgICAgICAgICAgIHBhZChkLmdldFNlY29uZHMoKSldLmpvaW4oJzonKTtcbiAgcmV0dXJuIFtkLmdldERhdGUoKSwgbW9udGhzW2QuZ2V0TW9udGgoKV0sIHRpbWVdLmpvaW4oJyAnKTtcbn1cblxuXG4vLyBsb2cgaXMganVzdCBhIHRoaW4gd3JhcHBlciB0byBjb25zb2xlLmxvZyB0aGF0IHByZXBlbmRzIGEgdGltZXN0YW1wXG5leHBvcnRzLmxvZyA9IGZ1bmN0aW9uKCkge1xuICBjb25zb2xlLmxvZygnJXMgLSAlcycsIHRpbWVzdGFtcCgpLCBleHBvcnRzLmZvcm1hdC5hcHBseShleHBvcnRzLCBhcmd1bWVudHMpKTtcbn07XG5cblxuLyoqXG4gKiBJbmhlcml0IHRoZSBwcm90b3R5cGUgbWV0aG9kcyBmcm9tIG9uZSBjb25zdHJ1Y3RvciBpbnRvIGFub3RoZXIuXG4gKlxuICogVGhlIEZ1bmN0aW9uLnByb3RvdHlwZS5pbmhlcml0cyBmcm9tIGxhbmcuanMgcmV3cml0dGVuIGFzIGEgc3RhbmRhbG9uZVxuICogZnVuY3Rpb24gKG5vdCBvbiBGdW5jdGlvbi5wcm90b3R5cGUpLiBOT1RFOiBJZiB0aGlzIGZpbGUgaXMgdG8gYmUgbG9hZGVkXG4gKiBkdXJpbmcgYm9vdHN0cmFwcGluZyB0aGlzIGZ1bmN0aW9uIG5lZWRzIHRvIGJlIHJld3JpdHRlbiB1c2luZyBzb21lIG5hdGl2ZVxuICogZnVuY3Rpb25zIGFzIHByb3RvdHlwZSBzZXR1cCB1c2luZyBub3JtYWwgSmF2YVNjcmlwdCBkb2VzIG5vdCB3b3JrIGFzXG4gKiBleHBlY3RlZCBkdXJpbmcgYm9vdHN0cmFwcGluZyAoc2VlIG1pcnJvci5qcyBpbiByMTE0OTAzKS5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjdG9yIENvbnN0cnVjdG9yIGZ1bmN0aW9uIHdoaWNoIG5lZWRzIHRvIGluaGVyaXQgdGhlXG4gKiAgICAgcHJvdG90eXBlLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gc3VwZXJDdG9yIENvbnN0cnVjdG9yIGZ1bmN0aW9uIHRvIGluaGVyaXQgcHJvdG90eXBlIGZyb20uXG4gKi9cbmV4cG9ydHMuaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xuXG5leHBvcnRzLl9leHRlbmQgPSBmdW5jdGlvbihvcmlnaW4sIGFkZCkge1xuICAvLyBEb24ndCBkbyBhbnl0aGluZyBpZiBhZGQgaXNuJ3QgYW4gb2JqZWN0XG4gIGlmICghYWRkIHx8ICFpc09iamVjdChhZGQpKSByZXR1cm4gb3JpZ2luO1xuXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMoYWRkKTtcbiAgdmFyIGkgPSBrZXlzLmxlbmd0aDtcbiAgd2hpbGUgKGktLSkge1xuICAgIG9yaWdpbltrZXlzW2ldXSA9IGFkZFtrZXlzW2ldXTtcbiAgfVxuICByZXR1cm4gb3JpZ2luO1xufTtcblxuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn1cblxudmFyIGtDdXN0b21Qcm9taXNpZmllZFN5bWJvbCA9IHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnID8gU3ltYm9sKCd1dGlsLnByb21pc2lmeS5jdXN0b20nKSA6IHVuZGVmaW5lZDtcblxuZXhwb3J0cy5wcm9taXNpZnkgPSBmdW5jdGlvbiBwcm9taXNpZnkob3JpZ2luYWwpIHtcbiAgaWYgKHR5cGVvZiBvcmlnaW5hbCAhPT0gJ2Z1bmN0aW9uJylcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJvcmlnaW5hbFwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbicpO1xuXG4gIGlmIChrQ3VzdG9tUHJvbWlzaWZpZWRTeW1ib2wgJiYgb3JpZ2luYWxba0N1c3RvbVByb21pc2lmaWVkU3ltYm9sXSkge1xuICAgIHZhciBmbiA9IG9yaWdpbmFsW2tDdXN0b21Qcm9taXNpZmllZFN5bWJvbF07XG4gICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwidXRpbC5wcm9taXNpZnkuY3VzdG9tXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uJyk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwga0N1c3RvbVByb21pc2lmaWVkU3ltYm9sLCB7XG4gICAgICB2YWx1ZTogZm4sIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogZmFsc2UsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBmbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZuKCkge1xuICAgIHZhciBwcm9taXNlUmVzb2x2ZSwgcHJvbWlzZVJlamVjdDtcbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHByb21pc2VSZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgIHByb21pc2VSZWplY3QgPSByZWplY3Q7XG4gICAgfSk7XG5cbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgICB9XG4gICAgYXJncy5wdXNoKGZ1bmN0aW9uIChlcnIsIHZhbHVlKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHByb21pc2VSZWplY3QoZXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb21pc2VSZXNvbHZlKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRyeSB7XG4gICAgICBvcmlnaW5hbC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHByb21pc2VSZWplY3QoZXJyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIE9iamVjdC5zZXRQcm90b3R5cGVPZihmbiwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG9yaWdpbmFsKSk7XG5cbiAgaWYgKGtDdXN0b21Qcm9taXNpZmllZFN5bWJvbCkgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCBrQ3VzdG9tUHJvbWlzaWZpZWRTeW1ib2wsIHtcbiAgICB2YWx1ZTogZm4sIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogZmFsc2UsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFxuICAgIGZuLFxuICAgIGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMob3JpZ2luYWwpXG4gICk7XG59XG5cbmV4cG9ydHMucHJvbWlzaWZ5LmN1c3RvbSA9IGtDdXN0b21Qcm9taXNpZmllZFN5bWJvbFxuXG5mdW5jdGlvbiBjYWxsYmFja2lmeU9uUmVqZWN0ZWQocmVhc29uLCBjYikge1xuICAvLyBgIXJlYXNvbmAgZ3VhcmQgaW5zcGlyZWQgYnkgYmx1ZWJpcmQgKFJlZjogaHR0cHM6Ly9nb28uZ2wvdDVJUzZNKS5cbiAgLy8gQmVjYXVzZSBgbnVsbGAgaXMgYSBzcGVjaWFsIGVycm9yIHZhbHVlIGluIGNhbGxiYWNrcyB3aGljaCBtZWFucyBcIm5vIGVycm9yXG4gIC8vIG9jY3VycmVkXCIsIHdlIGVycm9yLXdyYXAgc28gdGhlIGNhbGxiYWNrIGNvbnN1bWVyIGNhbiBkaXN0aW5ndWlzaCBiZXR3ZWVuXG4gIC8vIFwidGhlIHByb21pc2UgcmVqZWN0ZWQgd2l0aCBudWxsXCIgb3IgXCJ0aGUgcHJvbWlzZSBmdWxmaWxsZWQgd2l0aCB1bmRlZmluZWRcIi5cbiAgaWYgKCFyZWFzb24pIHtcbiAgICB2YXIgbmV3UmVhc29uID0gbmV3IEVycm9yKCdQcm9taXNlIHdhcyByZWplY3RlZCB3aXRoIGEgZmFsc3kgdmFsdWUnKTtcbiAgICBuZXdSZWFzb24ucmVhc29uID0gcmVhc29uO1xuICAgIHJlYXNvbiA9IG5ld1JlYXNvbjtcbiAgfVxuICByZXR1cm4gY2IocmVhc29uKTtcbn1cblxuZnVuY3Rpb24gY2FsbGJhY2tpZnkob3JpZ2luYWwpIHtcbiAgaWYgKHR5cGVvZiBvcmlnaW5hbCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcIm9yaWdpbmFsXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uJyk7XG4gIH1cblxuICAvLyBXZSBETyBOT1QgcmV0dXJuIHRoZSBwcm9taXNlIGFzIGl0IGdpdmVzIHRoZSB1c2VyIGEgZmFsc2Ugc2Vuc2UgdGhhdFxuICAvLyB0aGUgcHJvbWlzZSBpcyBhY3R1YWxseSBzb21laG93IHJlbGF0ZWQgdG8gdGhlIGNhbGxiYWNrJ3MgZXhlY3V0aW9uXG4gIC8vIGFuZCB0aGF0IHRoZSBjYWxsYmFjayB0aHJvd2luZyB3aWxsIHJlamVjdCB0aGUgcHJvbWlzZS5cbiAgZnVuY3Rpb24gY2FsbGJhY2tpZmllZCgpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgICB9XG5cbiAgICB2YXIgbWF5YmVDYiA9IGFyZ3MucG9wKCk7XG4gICAgaWYgKHR5cGVvZiBtYXliZUNiICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgbGFzdCBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24nKTtcbiAgICB9XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBjYiA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG1heWJlQ2IuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcbiAgICB9O1xuICAgIC8vIEluIHRydWUgbm9kZSBzdHlsZSB3ZSBwcm9jZXNzIHRoZSBjYWxsYmFjayBvbiBgbmV4dFRpY2tgIHdpdGggYWxsIHRoZVxuICAgIC8vIGltcGxpY2F0aW9ucyAoc3RhY2ssIGB1bmNhdWdodEV4Y2VwdGlvbmAsIGBhc3luY19ob29rc2ApXG4gICAgb3JpZ2luYWwuYXBwbHkodGhpcywgYXJncylcbiAgICAgIC50aGVuKGZ1bmN0aW9uKHJldCkgeyBwcm9jZXNzLm5leHRUaWNrKGNiLCBudWxsLCByZXQpIH0sXG4gICAgICAgICAgICBmdW5jdGlvbihyZWopIHsgcHJvY2Vzcy5uZXh0VGljayhjYWxsYmFja2lmeU9uUmVqZWN0ZWQsIHJlaiwgY2IpIH0pO1xuICB9XG5cbiAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGNhbGxiYWNraWZpZWQsIE9iamVjdC5nZXRQcm90b3R5cGVPZihvcmlnaW5hbCkpO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjYWxsYmFja2lmaWVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG9yaWdpbmFsKSk7XG4gIHJldHVybiBjYWxsYmFja2lmaWVkO1xufVxuZXhwb3J0cy5jYWxsYmFja2lmeSA9IGNhbGxiYWNraWZ5O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==
=======
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function i(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0}function o(t){return e.Buffer&&"function"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var a=n(306),s=Object.prototype.hasOwnProperty,c=Array.prototype.slice,u="foo"===function(){}.name;function d(t){return Object.prototype.toString.call(t)}function l(t){return!o(t)&&("function"==typeof e.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}var p=t.exports=g,h=/\s*function\s+([^\(\s]*)\s*/;function f(t){if(a.isFunction(t)){if(u)return t.name;var e=t.toString().match(h);return e&&e[1]}}function m(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function y(t){if(u||!a.isFunction(t))return a.inspect(t);var e=f(t);return"[Function"+(e?": "+e:"")+"]"}function _(t,e,n,r,i){throw new p.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:i})}function g(t,e){t||_(t,!0,e,"==",p.ok)}function b(t,e,n,r){if(t===e)return!0;if(o(t)&&o(e))return 0===i(t,e);if(a.isDate(t)&&a.isDate(e))return t.getTime()===e.getTime();if(a.isRegExp(t)&&a.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(l(t)&&l(e)&&d(t)===d(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===i(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(o(t)!==o(e))return!1;var s=(r=r||{actual:[],expected:[]}).actual.indexOf(t);return-1!==s&&s===r.expected.indexOf(e)||(r.actual.push(t),r.expected.push(e),function(t,e,n,r){if(null==t||null==e)return!1;if(a.isPrimitive(t)||a.isPrimitive(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=v(t),o=v(e);if(i&&!o||!i&&o)return!1;if(i)return t=c.call(t),e=c.call(e),b(t,e,n);var s,u,d=C(t),l=C(e);if(d.length!==l.length)return!1;for(d.sort(),l.sort(),u=d.length-1;u>=0;u--)if(d[u]!==l[u])return!1;for(u=d.length-1;u>=0;u--)if(s=d[u],!b(t[s],e[s],n,r))return!1;return!0}(t,e,n,r))}return n?t===e:t==e}function v(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function w(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function O(t,e,n,r){var i;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(t){var e;try{t()}catch(t){e=t}return e}(e),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!i&&_(i,n,"Missing expected exception"+r);var o="string"==typeof r,s=!t&&i&&!n;if((!t&&a.isError(i)&&o&&w(i,n)||s)&&_(i,n,"Got unwanted exception"+r),t&&i&&n&&!w(i,n)||!t&&i)throw i}p.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=function(t){return m(y(t.actual),128)+" "+t.operator+" "+m(y(t.expected),128)}(this),this.generatedMessage=!0);var e=t.stackStartFunction||_;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var r=n.stack,i=f(e),o=r.indexOf("\n"+i);if(o>=0){var a=r.indexOf("\n",o+1);r=r.substring(a+1)}this.stack=r}}},a.inherits(p.AssertionError,Error),p.fail=_,p.ok=g,p.equal=function(t,e,n){t!=e&&_(t,e,n,"==",p.equal)},p.notEqual=function(t,e,n){t==e&&_(t,e,n,"!=",p.notEqual)},p.deepEqual=function(t,e,n){b(t,e,!1)||_(t,e,n,"deepEqual",p.deepEqual)},p.deepStrictEqual=function(t,e,n){b(t,e,!0)||_(t,e,n,"deepStrictEqual",p.deepStrictEqual)},p.notDeepEqual=function(t,e,n){b(t,e,!1)&&_(t,e,n,"notDeepEqual",p.notDeepEqual)},p.notDeepStrictEqual=function t(e,n,r){b(e,n,!0)&&_(e,n,r,"notDeepStrictEqual",t)},p.strictEqual=function(t,e,n){t!==e&&_(t,e,n,"===",p.strictEqual)},p.notStrictEqual=function(t,e,n){t===e&&_(t,e,n,"!==",p.notStrictEqual)},p.throws=function(t,e,n){O(!0,t,e,n)},p.doesNotThrow=function(t,e,n){O(!1,t,e,n)},p.ifError=function(t){if(t)throw t},p.strict=r((function t(e,n){e||_(e,!0,n,"==",t)}),p,{equal:p.strictEqual,deepEqual:p.deepStrictEqual,notEqual:p.notStrictEqual,notDeepEqual:p.notDeepStrictEqual}),p.strict.strict=p.strict;var C=Object.keys||function(t){var e=[];for(var n in t)s.call(t,n)&&e.push(n);return e}}).call(this,n(50))},function(t,e,n){(function(t){var r=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},i=/%[sdj%]/g;e.format=function(t){if(!_(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(s(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(t).replace(i,(function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}})),c=r[n];n<o;c=r[++n])m(c)||!v(c)?a+=" "+c:a+=" "+s(c);return a},e.deprecate=function(n,r){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,a={};function s(t,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),f(n)?r.showHidden=n:n&&e._extend(r,n),g(r.showHidden)&&(r.showHidden=!1),g(r.depth)&&(r.depth=2),g(r.colors)&&(r.colors=!1),g(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),d(r,t,r.depth)}function c(t,e){var n=s.styles[e];return n?"["+s.colors[n][0]+"m"+t+"["+s.colors[n][1]+"m":t}function u(t,e){return t}function d(t,n,r){if(t.customInspect&&n&&C(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return _(i)||(i=d(t,i,r)),i}var o=function(t,e){if(g(e))return t.stylize("undefined","undefined");if(_(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(y(e))return t.stylize(""+e,"number");if(f(e))return t.stylize(""+e,"boolean");if(m(e))return t.stylize("null","null")}(t,n);if(o)return o;var a=Object.keys(n),s=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),O(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(n);if(0===a.length){if(C(n)){var c=n.name?": "+n.name:"";return t.stylize("[Function"+c+"]","special")}if(b(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return t.stylize(Date.prototype.toString.call(n),"date");if(O(n))return l(n)}var u,v="",S=!1,I=["{","}"];(h(n)&&(S=!0,I=["[","]"]),C(n))&&(v=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(v=" "+RegExp.prototype.toString.call(n)),w(n)&&(v=" "+Date.prototype.toUTCString.call(n)),O(n)&&(v=" "+l(n)),0!==a.length||S&&0!=n.length?r<0?b(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),u=S?function(t,e,n,r,i){for(var o=[],a=0,s=e.length;a<s;++a)j(e,String(a))?o.push(p(t,e,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(p(t,e,n,r,i,!0))})),o}(t,n,r,s,a):a.map((function(e){return p(t,n,r,s,e,S)})),t.seen.pop(),function(t,e,n){if(t.reduce((function(t,e){return e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(u,v,I)):I[0]+v+I[1]}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,n,r,i,o){var a,s,c;if((c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?s=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(s=t.stylize("[Setter]","special")),j(r,i)||(a="["+i+"]"),s||(t.seen.indexOf(c.value)<0?(s=m(n)?d(t,c.value,null):d(t,c.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+s.split("\n").map((function(t){return"   "+t})).join("\n")):s=t.stylize("[Circular]","special")),g(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function h(t){return Array.isArray(t)}function f(t){return"boolean"==typeof t}function m(t){return null===t}function y(t){return"number"==typeof t}function _(t){return"string"==typeof t}function g(t){return void 0===t}function b(t){return v(t)&&"[object RegExp]"===S(t)}function v(t){return"object"==typeof t&&null!==t}function w(t){return v(t)&&"[object Date]"===S(t)}function O(t){return v(t)&&("[object Error]"===S(t)||t instanceof Error)}function C(t){return"function"==typeof t}function S(t){return Object.prototype.toString.call(t)}function I(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(g(o)&&(o=t.env.NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=t.pid;a[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else a[n]=function(){};return a[n]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=h,e.isBoolean=f,e.isNull=m,e.isNullOrUndefined=function(t){return null==t},e.isNumber=y,e.isString=_,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=g,e.isRegExp=b,e.isObject=v,e.isDate=w,e.isError=O,e.isFunction=C,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(308);var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(){var t=new Date,e=[I(t.getHours()),I(t.getMinutes()),I(t.getSeconds())].join(":");return[t.getDate(),E[t.getMonth()],e].join(" ")}function j(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",A(),e.format.apply(e,arguments))},e.inherits=n(309),e._extend=function(t,e){if(!e||!v(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var P="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function k(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(P&&t[P]){var e;if("function"!=typeof(e=t[P]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,P,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise((function(t,r){e=t,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(t,r){t?n(t):e(r)}));try{t.apply(this,i)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),P&&Object.defineProperty(e,P,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,r(t))},e.promisify.custom=P,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};e.apply(this,n).then((function(e){t.nextTick(a,null,e)}),(function(e){t.nextTick(k,e,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,r(e)),n}}).call(this,n(307))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var c,u=[],d=!1,l=-1;function p(){d&&c&&(d=!1,c.length?u=c.concat(u):l=-1,u.length&&h())}function h(){if(!d){var t=s(p);d=!0;for(var e=u.length;e;){for(c=u,u=[];++l<e;)c&&c[l].run();l=-1,e=u.length}c=null,d=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new f(t,e)),1!==u.length||d||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";function r(t,e,n,i){this.message=t,this.expected=e,this.found=n,this.location=i,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)}!function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}(r,Error),r.buildMessage=function(t,e){var n={literal:function(t){return'"'+i(t.text)+'"'},class:function(t){var e,n="";for(e=0;e<t.parts.length;e++)n+=t.parts[e]instanceof Array?o(t.parts[e][0])+"-"+o(t.parts[e][1]):o(t.parts[e]);return"["+(t.inverted?"^":"")+n+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function r(t){return t.charCodeAt(0).toString(16).toUpperCase()}function i(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+r(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+r(t)}))}function o(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+r(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+r(t)}))}return"Expected "+function(t){var e,r,i,o=new Array(t.length);for(e=0;e<t.length;e++)o[e]=(i=t[e],n[i.type](i));if(o.sort(),o.length>0){for(e=1,r=1;e<o.length;e++)o[e-1]!==o[e]&&(o[r]=o[e],r++);o.length=r}switch(o.length){case 1:return o[0];case 2:return o[0]+" or "+o[1];default:return o.slice(0,-1).join(", ")+", or "+o[o.length-1]}}(t)+" but "+function(t){return t?'"'+i(t)+'"':"end of input"}(e)+" found."},t.exports={SyntaxError:r,parse:function(t,e){e=void 0!==e?e:{};var n,i={},o={start:dt},a=dt,s=rt("#",!1),c=function(){return Ct[0]},u=function(t){return t.join("")},d=rt("{",!1),l=rt("}",!1),p=rt(",",!1),h=rt("select",!1),f=rt("plural",!1),m="selectordinal",y=rt("selectordinal",!1),_=ot("identifier"),g=/^[^\t-\r \x85\u200E\u200F\u2028\u2029!-\/:-@[-\^`{-~\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u2010-\u2027\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46]/,b=it([["\t","\r"]," ","","","","\u2028","\u2029",["!","/"],[":","@"],["[","^"],"`",["{","~"],["",""],"","","","","","","","","","","",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"","","","",""],!0,!1),v=function(t,e){return{key:t,tokens:e}},w=ot("plural offset"),O=rt("offset",!1),C=rt(":",!1),S=rt("=",!1),I=rt("number",!1),E=rt("date",!1),A=rt("time",!1),j=rt("spellout",!1),P=rt("ordinal",!1),k=rt("duration",!1),T=ot("a valid (strict) function parameter"),M=/^[^'{}]/,x=it(["'","{","}"],!0,!1),R=rt("'",!1),N=ot("doubled apostrophe"),z=rt("''",!1),D=/^[^']/,L=it(["'"],!0,!1),F=rt("'{",!1),q=rt("'}",!1),U=ot("escaped string"),B=rt("'#",!1),V=ot("plain char"),G=/^[^{}#\0-\x08\x0E-\x1F\x7F]/,Y=it(["{","}","#",["\0","\b"],["",""],""],!0,!1),H=ot("integer"),W=/^[0-9]/,K=it([["0","9"]],!1,!1),J=ot("white space"),Z=/^[\t-\r \x85\u200E\u200F\u2028\u2029]/,Q=it([["\t","\r"]," ","","","","\u2028","\u2029"],!1,!1),$=0,X=[{line:1,column:1}],tt=0,et=[],nt=0;if("startRule"in e){if(!(e.startRule in o))throw new Error("Can't start parsing from rule \""+e.startRule+'".');a=o[e.startRule]}function rt(t,e){return{type:"literal",text:t,ignoreCase:e}}function it(t,e,n){return{type:"class",parts:t,inverted:e,ignoreCase:n}}function ot(t){return{type:"other",description:t}}function at(e){var n,r=X[e];if(r)return r;for(n=e-1;!X[n];)n--;for(r={line:(r=X[n]).line,column:r.column};n<e;)10===t.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return X[e]=r,r}function st(t,e){var n=at(t),r=at(e);return{start:{offset:t,line:n.line,column:n.column},end:{offset:e,line:r.line,column:r.column}}}function ct(t){$<tt||($>tt&&(tt=$,et=[]),et.push(t))}function ut(t,e,n){return new r(r.buildMessage(t,e),t,e,n)}function dt(){var t,e;for(t=[],e=lt();e!==i;)t.push(e),e=lt();return t}function lt(){var n,r,o;if((n=function(){var e,n,r,o;e=$,123===t.charCodeAt($)?(n="{",$++):(n=i,0===nt&&ct(d));n!==i&&Ot()!==i&&(r=pt())!==i&&Ot()!==i?(125===t.charCodeAt($)?(o="}",$++):(o=i,0===nt&&ct(l)),o!==i?(e,e=n={type:"argument",arg:r}):($=e,e=i)):($=e,e=i);return e}())===i&&(n=function(){var n,r,o,a,s,c,u,f,m,y;n=$,123===t.charCodeAt($)?(r="{",$++):(r=i,0===nt&&ct(d));if(r!==i)if(Ot()!==i)if((o=pt())!==i)if(Ot()!==i)if(44===t.charCodeAt($)?(a=",",$++):(a=i,0===nt&&ct(p)),a!==i)if(Ot()!==i)if(s=$,"select"===t.substr($,6)?(c="select",$+=6):(c=i,0===nt&&ct(h)),c!==i&&(s,b=c,e.strict&&Ct.unshift(!1),c=b),(s=c)!==i)if((c=Ot())!==i)if(44===t.charCodeAt($)?(u=",",$++):(u=i,0===nt&&ct(p)),u!==i)if(Ot()!==i){if(f=[],(m=ht())!==i)for(;m!==i;)f.push(m),m=ht();else f=i;f!==i&&(m=Ot())!==i?(125===t.charCodeAt($)?(y="}",$++):(y=i,0===nt&&ct(l)),y!==i?(n,_=o,g=f,e.strict&&Ct.shift(),n=r={type:"select",arg:_,cases:g}):($=n,n=i)):($=n,n=i)}else $=n,n=i;else $=n,n=i;else $=n,n=i;else $=n,n=i;else $=n,n=i;else $=n,n=i;else $=n,n=i;else $=n,n=i;else $=n,n=i;else $=n,n=i;var _,g;var b;return n}())===i&&(n=function(){var n,r,o,a,s,c,u,h,_,g,b;n=$,123===t.charCodeAt($)?(r="{",$++):(r=i,0===nt&&ct(d));if(r!==i)if(Ot()!==i)if((o=pt())!==i)if(Ot()!==i)if(44===t.charCodeAt($)?(a=",",$++):(a=i,0===nt&&ct(p)),a!==i)if(Ot()!==i)if(s=$,"plural"===t.substr($,6)?(c="plural",$+=6):(c=i,0===nt&&ct(f)),c===i&&(t.substr($,13)===m?(c=m,$+=13):(c=i,0===nt&&ct(y))),c!==i&&(s,j=c,Ct.unshift(!0),c=j),(s=c)!==i)if((c=Ot())!==i)if(44===t.charCodeAt($)?(u=",",$++):(u=i,0===nt&&ct(p)),u!==i)if(Ot()!==i)if((h=function(){var e,n,r,o;nt++,e=$,Ot()!==i?("offset"===t.substr($,6)?(n="offset",$+=6):(n=i,0===nt&&ct(O)),n!==i&&Ot()!==i?(58===t.charCodeAt($)?(r=":",$++):(r=i,0===nt&&ct(C)),r!==i&&Ot()!==i&&(o=wt())!==i&&Ot()!==i?(e,e=o):($=e,e=i)):($=e,e=i)):($=e,e=i);nt--,e===i&&(i,0===nt&&ct(w));return e}())===i&&(h=null),h!==i){if(_=[],(g=ft())!==i)for(;g!==i;)_.push(g),g=ft();else _=i;_!==i&&(g=Ot())!==i?(125===t.charCodeAt($)?(b="}",$++):(b=i,0===nt&&ct(l)),b!==i?(n,v=o,I=h,E=_,(A=("selectordinal"===(S=s)?e.ordinal:e.cardinal)||["zero","one","two","few","many","other"])&&A.length&&E.forEach((function(t){if(isNaN(t.key)&&A.indexOf(t.key)<0)throw new Error("Invalid key `"+t.key+"` for argument `"+v+"`. Valid "+S+" keys for this locale are `"+A.join("`, `")+"`, and explicit keys like `=0`.")})),Ct.shift(),n=r={type:S,arg:v,offset:I||0,cases:E}):($=n,n=i)):($=n,n=i)}else $=n,n=i;else $=n,n=i;else $=n,n=i;else $=n,n=i;else $=n,n=i;else $=n,n=i;else $=n,n=i;else $=n,n=i;else $=n,n=i;else $=n,n=i;else $=n,n=i;var v,S,I,E,A;var j;return n}())===i&&(n=function(){var n,r,o,a,s,c,u;n=$,123===t.charCodeAt($)?(r="{",$++):(r=i,0===nt&&ct(d));r!==i&&Ot()!==i&&(o=pt())!==i&&Ot()!==i?(44===t.charCodeAt($)?(a=",",$++):(a=i,0===nt&&ct(p)),a!==i&&Ot()!==i&&(s=function(){var n,r,o,a,s;"number"===t.substr($,6)?(n="number",$+=6):(n=i,0===nt&&ct(I));n===i&&("date"===t.substr($,4)?(n="date",$+=4):(n=i,0===nt&&ct(E)),n===i&&("time"===t.substr($,4)?(n="time",$+=4):(n=i,0===nt&&ct(A)),n===i&&("spellout"===t.substr($,8)?(n="spellout",$+=8):(n=i,0===nt&&ct(j)),n===i&&("ordinal"===t.substr($,7)?(n="ordinal",$+=7):(n=i,0===nt&&ct(P)),n===i&&("duration"===t.substr($,8)?(n="duration",$+=8):(n=i,0===nt&&ct(k)),n===i&&(n=$,r=$,nt++,"select"===t.substr($,6)?(o="select",$+=6):(o=i,0===nt&&ct(h)),nt--,o===i?r=void 0:($=r,r=i),r!==i?(o=$,nt++,"plural"===t.substr($,6)?(a="plural",$+=6):(a=i,0===nt&&ct(f)),nt--,a===i?o=void 0:($=o,o=i),o!==i?(a=$,nt++,t.substr($,13)===m?(s=m,$+=13):(s=i,0===nt&&ct(y)),nt--,s===i?a=void 0:($=a,a=i),a!==i&&(s=pt())!==i?($,(function(t){if(e.strict||/^\d/.test(t))return!1;switch(t.toLowerCase()){case"select":case"plural":case"selectordinal":return!1;default:return!0}}(s)?void 0:i)!==i?(n,n=r=s):($=n,n=i)):($=n,n=i)):($=n,n=i)):($=n,n=i)))))));return n}())!==i&&Ot()!==i?((c=function(){var n,r,o,a,s;if(n=$,(r=Ot())!==i)if(44===t.charCodeAt($)?(o=",",$++):(o=i,0===nt&&ct(p)),o!==i){for(a=[],s=lt();s!==i;)a.push(s),s=lt();a!==i?($,(s=(s=!e.strict)?void 0:i)!==i?(n,n=r={tokens:a}):($=n,n=i)):($=n,n=i)}else $=n,n=i;else $=n,n=i;if(n===i)if(n=$,(r=Ot())!==i)if(44===t.charCodeAt($)?(o=",",$++):(o=i,0===nt&&ct(p)),o!==i){for(a=[],s=yt();s!==i;)a.push(s),s=yt();a!==i?(n,r={tokens:[a.join("")]},n=r):($=n,n=i)}else $=n,n=i;else $=n,n=i;return n}())===i&&(c=null),c!==i?(125===t.charCodeAt($)?(u="}",$++):(u=i,0===nt&&ct(l)),u!==i?(n,n=r={type:"function",arg:o,key:s,param:c}):($=n,n=i)):($=n,n=i)):($=n,n=i)):($=n,n=i);return n}())===i&&(n=$,35===t.charCodeAt($)?(r="#",$++):(r=i,0===nt&&ct(s)),r!==i?($,(o=(o=c())?void 0:i)!==i?(n,n=r={type:"octothorpe"}):($=n,n=i)):($=n,n=i),n===i)){if(n=$,r=[],(o=vt())!==i)for(;o!==i;)r.push(o),o=vt();else r=i;r!==i&&(n,r=u(r)),n=r}return n}function pt(){var e,n,r;if(nt++,e=$,n=[],g.test(t.charAt($))?(r=t.charAt($),$++):(r=i,0===nt&&ct(b)),r!==i)for(;r!==i;)n.push(r),g.test(t.charAt($))?(r=t.charAt($),$++):(r=i,0===nt&&ct(b));else n=i;return e=n!==i?t.substring(e,$):n,nt--,e===i&&(n=i,0===nt&&ct(_)),e}function ht(){var t,e,n;return t=$,Ot()!==i&&(e=pt())!==i&&Ot()!==i&&(n=mt())!==i?(t,t=v(e,n)):($=t,t=i),t}function ft(){var e,n,r;return e=$,Ot()!==i&&(n=function(){var e,n,r;(e=pt())===i&&(e=$,61===t.charCodeAt($)?(n="=",$++):(n=i,0===nt&&ct(S)),n!==i&&(r=wt())!==i?(e,e=n=r):($=e,e=i));return e}())!==i&&Ot()!==i&&(r=mt())!==i?(e,e=v(n,r)):($=e,e=i),e}function mt(){var e,n,r,o,a,s;if(e=$,123===t.charCodeAt($)?(n="{",$++):(n=i,0===nt&&ct(d)),n!==i)if(r=$,(o=Ot())!==i?(a=$,nt++,123===t.charCodeAt($)?(s="{",$++):(s=i,0===nt&&ct(d)),nt--,s!==i?($=a,a=void 0):a=i,a!==i?r=o=[o,a]:($=r,r=i)):($=r,r=i),r===i&&(r=null),r!==i){for(o=[],a=lt();a!==i;)o.push(a),a=lt();o!==i&&(a=Ot())!==i?(125===t.charCodeAt($)?(s="}",$++):(s=i,0===nt&&ct(l)),s!==i?(e,e=n=o):($=e,e=i)):($=e,e=i)}else $=e,e=i;else $=e,e=i;return e}function yt(){var e,n,r,o;if(nt++,e=$,n=[],M.test(t.charAt($))?(r=t.charAt($),$++):(r=i,0===nt&&ct(x)),r!==i)for(;r!==i;)n.push(r),M.test(t.charAt($))?(r=t.charAt($),$++):(r=i,0===nt&&ct(x));else n=i;if(n!==i&&(e,n=n.join("")),(e=n)===i&&(e=_t())===i&&(e=$,39===t.charCodeAt($)?(n="'",$++):(n=i,0===nt&&ct(R)),n!==i&&(r=gt())!==i?(39===t.charCodeAt($)?(o="'",$++):(o=i,0===nt&&ct(R)),o!==i?(e,e=n=r):($=e,e=i)):($=e,e=i),e===i))if(e=$,123===t.charCodeAt($)?(n="{",$++):(n=i,0===nt&&ct(d)),n!==i){for(r=[],o=yt();o!==i;)r.push(o),o=yt();r!==i?(125===t.charCodeAt($)?(o="}",$++):(o=i,0===nt&&ct(l)),o!==i?(e,e=n=function(t){return"{"+t.join("")+"}"}(r)):($=e,e=i)):($=e,e=i)}else $=e,e=i;return nt--,e===i&&(n=i,0===nt&&ct(T)),e}function _t(){var e,n;return nt++,e=$,"''"===t.substr($,2)?(n="''",$+=2):(n=i,0===nt&&ct(z)),n!==i&&(e,n="'"),nt--,(e=n)===i&&(n=i,0===nt&&ct(N)),e}function gt(){var e,n,r;if((e=_t())===i){if(e=$,n=[],D.test(t.charAt($))?(r=t.charAt($),$++):(r=i,0===nt&&ct(L)),r!==i)for(;r!==i;)n.push(r),D.test(t.charAt($))?(r=t.charAt($),$++):(r=i,0===nt&&ct(L));else n=i;n!==i&&(e,n=u(n)),e=n}return e}function bt(){var e,n,r,o,a,s;if(nt++,(e=function(){var e,n,r,o;if(e=$,"'{"===t.substr($,2)?(n="'{",$+=2):(n=i,0===nt&&ct(F)),n!==i){for(r=[],o=gt();o!==i;)r.push(o),o=gt();r!==i?(39===t.charCodeAt($)?(o="'",$++):(o=i,0===nt&&ct(R)),o!==i?(e,e=n="{"+r.join("")):($=e,e=i)):($=e,e=i)}else $=e,e=i;if(e===i)if(e=$,"'}"===t.substr($,2)?(n="'}",$+=2):(n=i,0===nt&&ct(q)),n!==i){for(r=[],o=gt();o!==i;)r.push(o),o=gt();r!==i?(39===t.charCodeAt($)?(o="'",$++):(o=i,0===nt&&ct(R)),o!==i?(e,e=n=function(t){return"}"+t.join("")}(r)):($=e,e=i)):($=e,e=i)}else $=e,e=i;return e}())===i){if(e=$,n=$,r=$,"'#"===t.substr($,2)?(o="'#",$+=2):(o=i,0===nt&&ct(B)),o!==i){for(a=[],s=gt();s!==i;)a.push(s),s=gt();a!==i?(39===t.charCodeAt($)?(s="'",$++):(s=i,0===nt&&ct(R)),s!==i?(r,r=o="#"+a.join("")):($=r,r=i)):($=r,r=i)}else $=r,r=i;r!==i?($,(o=(o=c())?void 0:i)!==i?n=r=[r,o]:($=n,n=i)):($=n,n=i),n!==i&&(e,n=n[0]),(e=n)===i&&(39===t.charCodeAt($)?(e="'",$++):(e=i,0===nt&&ct(R)))}return nt--,e===i&&(n=i,0===nt&&ct(U)),e}function vt(){var e,n;return(e=_t())===i&&(e=bt())===i&&(e=$,35===t.charCodeAt($)?(n="#",$++):(n=i,0===nt&&ct(s)),n!==i?($,(!Ct[0]?void 0:i)!==i?(e,e=n=n):($=e,e=i)):($=e,e=i),e===i&&(e=function(){var e;return nt++,G.test(t.charAt($))?(e=t.charAt($),$++):(e=i,0===nt&&ct(Y)),nt--,e===i&&(i,0===nt&&ct(V)),e}())),e}function wt(){var e,n,r;if(nt++,e=$,n=[],W.test(t.charAt($))?(r=t.charAt($),$++):(r=i,0===nt&&ct(K)),r!==i)for(;r!==i;)n.push(r),W.test(t.charAt($))?(r=t.charAt($),$++):(r=i,0===nt&&ct(K));else n=i;return e=n!==i?t.substring(e,$):n,nt--,e===i&&(n=i,0===nt&&ct(H)),e}function Ot(){var e,n,r;for(nt++,e=$,n=[],Z.test(t.charAt($))?(r=t.charAt($),$++):(r=i,0===nt&&ct(Q));r!==i;)n.push(r),Z.test(t.charAt($))?(r=t.charAt($),$++):(r=i,0===nt&&ct(Q));return e=n!==i?t.substring(e,$):n,nt--,e===i&&(n=i,0===nt&&ct(J)),e}var Ct=[!1];if((n=a())!==i&&$===t.length)return n;throw n!==i&&$<t.length&&ct({type:"end"}),ut(et,tt<t.length?t.charAt(tt):null,tt<t.length?st(tt,tt+1):st(tt,tt))}}},function(t,e,n){t.exports={date:n(312),duration:n(313),number:n(314),time:n(315)}},function(t,e){function n(t,e,n){var r={day:"numeric",month:"short",year:"numeric"};switch(n){case"full":r.weekday="long";case"long":r.month="long";break;case"short":r.month="numeric"}return new Date(t).toLocaleDateString(e,r)}t.exports=function(){return n}},function(t,e){function n(t){if(!isFinite(t))return String(t);var e="";t<0?(e="-",t=Math.abs(t)):t=Number(t);var n=t%60,r=[Math.round(n)===n?n:n.toFixed(3)];return t<60?r.unshift(0):(t=Math.round((t-r[0])/60),r.unshift(t%60),t>=60&&(t=Math.round((t-r[0])/60),r.unshift(t))),e+r.shift()+":"+r.map((function(t){return t<10?"0"+String(t):String(t)})).join(":")}t.exports=function(){return n}},function(t,e){function n(t,e,n){var r=n&&n.split(":")||[],i={integer:{maximumFractionDigits:0},percent:{style:"percent"},currency:{style:"currency",currency:r[1]&&r[1].trim()||CURRENCY,minimumFractionDigits:2,maximumFractionDigits:2}};return new Intl.NumberFormat(e,i[r[0]]||{}).format(t)}t.exports=function(t){var e=n.toString().replace("CURRENCY",JSON.stringify(t.currency||"USD")).match(/\(([^)]*)\)[^{]*{([\s\S]*)}/);return new Function(e[1],e[2])}},function(t,e){function n(t,e,n){var r={second:"numeric",minute:"numeric",hour:"numeric"};switch(n){case"full":case"long":r.timeZoneName="short";break;case"short":delete r.second}return new Date(t).toLocaleTimeString(e,r)}t.exports=function(){return n}},function(t,e,n){var r=n(317),i=n(318);function o(t,e,n){var i=function(){return e.apply(this,arguments)};if(i.toString=function(){return e.toString()},n)i.cardinal=[],i.ordinal=[];else{var o=r[t]||{};i.cardinal=o.cardinal,i.ordinal=o.ordinal}return i}t.exports={get:function(t,e){for(var n=t;n;n=n.replace(/[-_]?[^-_]*$/,"")){var r=i[n];if(r)return o(n,r,e)}throw new Error("Localisation function not found for locale "+JSON.stringify(t))},getAll:function(t){return Object.keys(i).reduce((function(e,n){return e[n]=o(n,i[n],t),e}),{})}}},function(t,e,n){var r,i,o=[{cardinal:["other"],ordinal:["other"]},{cardinal:["one","other"],ordinal:["other"]},{cardinal:["one","other"],ordinal:["one","other"]},{cardinal:["one","two","other"],ordinal:["other"]}];void 0===(i="function"==typeof(r={af:o[1],ak:o[1],am:o[1],ar:{cardinal:["zero","one","two","few","many","other"],ordinal:["other"]},ars:{cardinal:["zero","one","two","few","many","other"],ordinal:["other"]},as:{cardinal:["one","other"],ordinal:["one","two","few","many","other"]},asa:o[1],ast:o[1],az:{cardinal:["one","other"],ordinal:["one","few","many","other"]},be:{cardinal:["one","few","many","other"],ordinal:["few","other"]},bem:o[1],bez:o[1],bg:o[1],bh:o[1],bm:o[0],bn:{cardinal:["one","other"],ordinal:["one","two","few","many","other"]},bo:o[0],br:{cardinal:["one","two","few","many","other"],ordinal:["other"]},brx:o[1],bs:{cardinal:["one","few","other"],ordinal:["other"]},ca:{cardinal:["one","other"],ordinal:["one","two","few","other"]},ce:o[1],cgg:o[1],chr:o[1],ckb:o[1],cs:{cardinal:["one","few","many","other"],ordinal:["other"]},cy:{cardinal:["zero","one","two","few","many","other"],ordinal:["zero","one","two","few","many","other"]},da:o[1],de:o[1],dsb:{cardinal:["one","two","few","other"],ordinal:["other"]},dv:o[1],dz:o[0],ee:o[1],el:o[1],en:{cardinal:["one","other"],ordinal:["one","two","few","other"]},eo:o[1],es:o[1],et:o[1],eu:o[1],fa:o[1],ff:o[1],fi:o[1],fil:o[2],fo:o[1],fr:o[2],fur:o[1],fy:o[1],ga:{cardinal:["one","two","few","many","other"],ordinal:["one","other"]},gd:{cardinal:["one","two","few","other"],ordinal:["one","two","few","other"]},gl:o[1],gsw:o[1],gu:{cardinal:["one","other"],ordinal:["one","two","few","many","other"]},guw:o[1],gv:{cardinal:["one","two","few","many","other"],ordinal:["other"]},ha:o[1],haw:o[1],he:{cardinal:["one","two","many","other"],ordinal:["other"]},hi:{cardinal:["one","other"],ordinal:["one","two","few","many","other"]},hr:{cardinal:["one","few","other"],ordinal:["other"]},hsb:{cardinal:["one","two","few","other"],ordinal:["other"]},hu:o[2],hy:o[2],ia:o[1],id:o[0],ig:o[0],ii:o[0],in:o[0],io:o[1],is:o[1],it:{cardinal:["one","other"],ordinal:["many","other"]},iu:o[3],iw:{cardinal:["one","two","many","other"],ordinal:["other"]},ja:o[0],jbo:o[0],jgo:o[1],ji:o[1],jmc:o[1],jv:o[0],jw:o[0],ka:{cardinal:["one","other"],ordinal:["one","many","other"]},kab:o[1],kaj:o[1],kcg:o[1],kde:o[0],kea:o[0],kk:{cardinal:["one","other"],ordinal:["many","other"]},kkj:o[1],kl:o[1],km:o[0],kn:o[1],ko:o[0],ks:o[1],ksb:o[1],ksh:{cardinal:["zero","one","other"],ordinal:["other"]},ku:o[1],kw:o[3],ky:o[1],lag:{cardinal:["zero","one","other"],ordinal:["other"]},lb:o[1],lg:o[1],lkt:o[0],ln:o[1],lo:{cardinal:["other"],ordinal:["one","other"]},lt:{cardinal:["one","few","many","other"],ordinal:["other"]},lv:{cardinal:["zero","one","other"],ordinal:["other"]},mas:o[1],mg:o[1],mgo:o[1],mk:{cardinal:["one","other"],ordinal:["one","two","many","other"]},ml:o[1],mn:o[1],mo:{cardinal:["one","few","other"],ordinal:["one","other"]},mr:{cardinal:["one","other"],ordinal:["one","two","few","other"]},ms:{cardinal:["other"],ordinal:["one","other"]},mt:{cardinal:["one","few","many","other"],ordinal:["other"]},my:o[0],nah:o[1],naq:o[3],nb:o[1],nd:o[1],ne:o[2],nl:o[1],nn:o[1],nnh:o[1],no:o[1],nqo:o[0],nr:o[1],nso:o[1],ny:o[1],nyn:o[1],om:o[1],or:{cardinal:["one","other"],ordinal:["one","two","few","many","other"]},os:o[1],pa:o[1],pap:o[1],pl:{cardinal:["one","few","many","other"],ordinal:["other"]},prg:{cardinal:["zero","one","other"],ordinal:["other"]},ps:o[1],pt:o[1],"pt-PT":o[1],rm:o[1],ro:{cardinal:["one","few","other"],ordinal:["one","other"]},rof:o[1],root:o[0],ru:{cardinal:["one","few","many","other"],ordinal:["other"]},rwk:o[1],sah:o[0],saq:o[1],sc:{cardinal:["one","other"],ordinal:["many","other"]},scn:{cardinal:["one","other"],ordinal:["many","other"]},sd:o[1],sdh:o[1],se:o[3],seh:o[1],ses:o[0],sg:o[0],sh:{cardinal:["one","few","other"],ordinal:["other"]},shi:{cardinal:["one","few","other"],ordinal:["other"]},si:o[1],sk:{cardinal:["one","few","many","other"],ordinal:["other"]},sl:{cardinal:["one","two","few","other"],ordinal:["other"]},sma:o[3],smi:o[3],smj:o[3],smn:o[3],sms:o[3],sn:o[1],so:o[1],sq:{cardinal:["one","other"],ordinal:["one","many","other"]},sr:{cardinal:["one","few","other"],ordinal:["other"]},ss:o[1],ssy:o[1],st:o[1],sv:o[2],sw:o[1],syr:o[1],ta:o[1],te:o[1],teo:o[1],th:o[0],ti:o[1],tig:o[1],tk:{cardinal:["one","other"],ordinal:["few","other"]},tl:o[2],tn:o[1],to:o[0],tr:o[1],ts:o[1],tzm:o[1],ug:o[1],uk:{cardinal:["one","few","many","other"],ordinal:["few","other"]},ur:o[1],uz:o[1],ve:o[1],vi:{cardinal:["other"],ordinal:["one","other"]},vo:o[1],vun:o[1],wa:o[1],wae:o[1],wo:o[0],xh:o[1],xog:o[1],yi:o[1],yo:o[0],yue:o[0],zh:o[0],zu:o[1]})?r.call(e,n,e,t):r)||(t.exports=i)},function(t,e,n){var r,i;void 0===(i="function"==typeof(r={af:function(t,e){return e?"other":1==t?"one":"other"},ak:function(t,e){return e?"other":0==t||1==t?"one":"other"},am:function(t,e){return e?"other":t>=0&&t<=1?"one":"other"},ar:function(t,e){var n=String(t).split("."),r=Number(n[0])==t&&n[0].slice(-2);return e?"other":0==t?"zero":1==t?"one":2==t?"two":r>=3&&r<=10?"few":r>=11&&r<=99?"many":"other"},ars:function(t,e){var n=String(t).split("."),r=Number(n[0])==t&&n[0].slice(-2);return e?"other":0==t?"zero":1==t?"one":2==t?"two":r>=3&&r<=10?"few":r>=11&&r<=99?"many":"other"},as:function(t,e){return e?1==t||5==t||7==t||8==t||9==t||10==t?"one":2==t||3==t?"two":4==t?"few":6==t?"many":"other":t>=0&&t<=1?"one":"other"},asa:function(t,e){return e?"other":1==t?"one":"other"},ast:function(t,e){var n=!String(t).split(".")[1];return e?"other":1==t&&n?"one":"other"},az:function(t,e){var n=String(t).split(".")[0],r=n.slice(-1),i=n.slice(-2),o=n.slice(-3);return e?1==r||2==r||5==r||7==r||8==r||20==i||50==i||70==i||80==i?"one":3==r||4==r||100==o||200==o||300==o||400==o||500==o||600==o||700==o||800==o||900==o?"few":0==n||6==r||40==i||60==i||90==i?"many":"other":1==t?"one":"other"},be:function(t,e){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-1),o=r&&n[0].slice(-2);return e?2!=i&&3!=i||12==o||13==o?"other":"few":1==i&&11!=o?"one":i>=2&&i<=4&&(o<12||o>14)?"few":r&&0==i||i>=5&&i<=9||o>=11&&o<=14?"many":"other"},bem:function(t,e){return e?"other":1==t?"one":"other"},bez:function(t,e){return e?"other":1==t?"one":"other"},bg:function(t,e){return e?"other":1==t?"one":"other"},bh:function(t,e){return e?"other":0==t||1==t?"one":"other"},bm:function(t,e){return"other"},bn:function(t,e){return e?1==t||5==t||7==t||8==t||9==t||10==t?"one":2==t||3==t?"two":4==t?"few":6==t?"many":"other":t>=0&&t<=1?"one":"other"},bo:function(t,e){return"other"},br:function(t,e){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-1),o=r&&n[0].slice(-2),a=r&&n[0].slice(-6);return e?"other":1==i&&11!=o&&71!=o&&91!=o?"one":2==i&&12!=o&&72!=o&&92!=o?"two":(3==i||4==i||9==i)&&(o<10||o>19)&&(o<70||o>79)&&(o<90||o>99)?"few":0!=t&&r&&0==a?"many":"other"},brx:function(t,e){return e?"other":1==t?"one":"other"},bs:function(t,e){var n=String(t).split("."),r=n[0],i=n[1]||"",o=!n[1],a=r.slice(-1),s=r.slice(-2),c=i.slice(-1),u=i.slice(-2);return e?"other":o&&1==a&&11!=s||1==c&&11!=u?"one":o&&a>=2&&a<=4&&(s<12||s>14)||c>=2&&c<=4&&(u<12||u>14)?"few":"other"},ca:function(t,e){var n=!String(t).split(".")[1];return e?1==t||3==t?"one":2==t?"two":4==t?"few":"other":1==t&&n?"one":"other"},ce:function(t,e){return e?"other":1==t?"one":"other"},cgg:function(t,e){return e?"other":1==t?"one":"other"},chr:function(t,e){return e?"other":1==t?"one":"other"},ckb:function(t,e){return e?"other":1==t?"one":"other"},cs:function(t,e){var n=String(t).split("."),r=n[0],i=!n[1];return e?"other":1==t&&i?"one":r>=2&&r<=4&&i?"few":i?"other":"many"},cy:function(t,e){return e?0==t||7==t||8==t||9==t?"zero":1==t?"one":2==t?"two":3==t||4==t?"few":5==t||6==t?"many":"other":0==t?"zero":1==t?"one":2==t?"two":3==t?"few":6==t?"many":"other"},da:function(t,e){var n=String(t).split("."),r=n[0],i=Number(n[0])==t;return e||1!=t&&(i||0!=r&&1!=r)?"other":"one"},de:function(t,e){var n=!String(t).split(".")[1];return e?"other":1==t&&n?"one":"other"},dsb:function(t,e){var n=String(t).split("."),r=n[0],i=n[1]||"",o=!n[1],a=r.slice(-2),s=i.slice(-2);return e?"other":o&&1==a||1==s?"one":o&&2==a||2==s?"two":o&&(3==a||4==a)||3==s||4==s?"few":"other"},dv:function(t,e){return e?"other":1==t?"one":"other"},dz:function(t,e){return"other"},ee:function(t,e){return e?"other":1==t?"one":"other"},el:function(t,e){return e?"other":1==t?"one":"other"},en:function(t,e){var n=String(t).split("."),r=!n[1],i=Number(n[0])==t,o=i&&n[0].slice(-1),a=i&&n[0].slice(-2);return e?1==o&&11!=a?"one":2==o&&12!=a?"two":3==o&&13!=a?"few":"other":1==t&&r?"one":"other"},eo:function(t,e){return e?"other":1==t?"one":"other"},es:function(t,e){return e?"other":1==t?"one":"other"},et:function(t,e){var n=!String(t).split(".")[1];return e?"other":1==t&&n?"one":"other"},eu:function(t,e){return e?"other":1==t?"one":"other"},fa:function(t,e){return e?"other":t>=0&&t<=1?"one":"other"},ff:function(t,e){return e?"other":t>=0&&t<2?"one":"other"},fi:function(t,e){var n=!String(t).split(".")[1];return e?"other":1==t&&n?"one":"other"},fil:function(t,e){var n=String(t).split("."),r=n[0],i=n[1]||"",o=!n[1],a=r.slice(-1),s=i.slice(-1);return e?1==t?"one":"other":o&&(1==r||2==r||3==r)||o&&4!=a&&6!=a&&9!=a||!o&&4!=s&&6!=s&&9!=s?"one":"other"},fo:function(t,e){return e?"other":1==t?"one":"other"},fr:function(t,e){return e?1==t?"one":"other":t>=0&&t<2?"one":"other"},fur:function(t,e){return e?"other":1==t?"one":"other"},fy:function(t,e){var n=!String(t).split(".")[1];return e?"other":1==t&&n?"one":"other"},ga:function(t,e){var n=String(t).split("."),r=Number(n[0])==t;return e?1==t?"one":"other":1==t?"one":2==t?"two":r&&t>=3&&t<=6?"few":r&&t>=7&&t<=10?"many":"other"},gd:function(t,e){var n=String(t).split("."),r=Number(n[0])==t;return e?1==t||11==t?"one":2==t||12==t?"two":3==t||13==t?"few":"other":1==t||11==t?"one":2==t||12==t?"two":r&&t>=3&&t<=10||r&&t>=13&&t<=19?"few":"other"},gl:function(t,e){var n=!String(t).split(".")[1];return e?"other":1==t&&n?"one":"other"},gsw:function(t,e){return e?"other":1==t?"one":"other"},gu:function(t,e){return e?1==t?"one":2==t||3==t?"two":4==t?"few":6==t?"many":"other":t>=0&&t<=1?"one":"other"},guw:function(t,e){return e?"other":0==t||1==t?"one":"other"},gv:function(t,e){var n=String(t).split("."),r=n[0],i=!n[1],o=r.slice(-1),a=r.slice(-2);return e?"other":i&&1==o?"one":i&&2==o?"two":!i||0!=a&&20!=a&&40!=a&&60!=a&&80!=a?i?"other":"many":"few"},ha:function(t,e){return e?"other":1==t?"one":"other"},haw:function(t,e){return e?"other":1==t?"one":"other"},he:function(t,e){var n=String(t).split("."),r=n[0],i=!n[1],o=Number(n[0])==t,a=o&&n[0].slice(-1);return e?"other":1==t&&i?"one":2==r&&i?"two":i&&(t<0||t>10)&&o&&0==a?"many":"other"},hi:function(t,e){return e?1==t?"one":2==t||3==t?"two":4==t?"few":6==t?"many":"other":t>=0&&t<=1?"one":"other"},hr:function(t,e){var n=String(t).split("."),r=n[0],i=n[1]||"",o=!n[1],a=r.slice(-1),s=r.slice(-2),c=i.slice(-1),u=i.slice(-2);return e?"other":o&&1==a&&11!=s||1==c&&11!=u?"one":o&&a>=2&&a<=4&&(s<12||s>14)||c>=2&&c<=4&&(u<12||u>14)?"few":"other"},hsb:function(t,e){var n=String(t).split("."),r=n[0],i=n[1]||"",o=!n[1],a=r.slice(-2),s=i.slice(-2);return e?"other":o&&1==a||1==s?"one":o&&2==a||2==s?"two":o&&(3==a||4==a)||3==s||4==s?"few":"other"},hu:function(t,e){return e?1==t||5==t?"one":"other":1==t?"one":"other"},hy:function(t,e){return e?1==t?"one":"other":t>=0&&t<2?"one":"other"},ia:function(t,e){var n=!String(t).split(".")[1];return e?"other":1==t&&n?"one":"other"},id:function(t,e){return"other"},ig:function(t,e){return"other"},ii:function(t,e){return"other"},in:function(t,e){return"other"},io:function(t,e){var n=!String(t).split(".")[1];return e?"other":1==t&&n?"one":"other"},is:function(t,e){var n=String(t).split("."),r=n[0],i=Number(n[0])==t,o=r.slice(-1),a=r.slice(-2);return e?"other":i&&1==o&&11!=a||!i?"one":"other"},it:function(t,e){var n=!String(t).split(".")[1];return e?11==t||8==t||80==t||800==t?"many":"other":1==t&&n?"one":"other"},iu:function(t,e){return e?"other":1==t?"one":2==t?"two":"other"},iw:function(t,e){var n=String(t).split("."),r=n[0],i=!n[1],o=Number(n[0])==t,a=o&&n[0].slice(-1);return e?"other":1==t&&i?"one":2==r&&i?"two":i&&(t<0||t>10)&&o&&0==a?"many":"other"},ja:function(t,e){return"other"},jbo:function(t,e){return"other"},jgo:function(t,e){return e?"other":1==t?"one":"other"},ji:function(t,e){var n=!String(t).split(".")[1];return e?"other":1==t&&n?"one":"other"},jmc:function(t,e){return e?"other":1==t?"one":"other"},jv:function(t,e){return"other"},jw:function(t,e){return"other"},ka:function(t,e){var n=String(t).split(".")[0],r=n.slice(-2);return e?1==n?"one":0==n||r>=2&&r<=20||40==r||60==r||80==r?"many":"other":1==t?"one":"other"},kab:function(t,e){return e?"other":t>=0&&t<2?"one":"other"},kaj:function(t,e){return e?"other":1==t?"one":"other"},kcg:function(t,e){return e?"other":1==t?"one":"other"},kde:function(t,e){return"other"},kea:function(t,e){return"other"},kk:function(t,e){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-1);return e?6==i||9==i||r&&0==i&&0!=t?"many":"other":1==t?"one":"other"},kkj:function(t,e){return e?"other":1==t?"one":"other"},kl:function(t,e){return e?"other":1==t?"one":"other"},km:function(t,e){return"other"},kn:function(t,e){return e?"other":t>=0&&t<=1?"one":"other"},ko:function(t,e){return"other"},ks:function(t,e){return e?"other":1==t?"one":"other"},ksb:function(t,e){return e?"other":1==t?"one":"other"},ksh:function(t,e){return e?"other":0==t?"zero":1==t?"one":"other"},ku:function(t,e){return e?"other":1==t?"one":"other"},kw:function(t,e){return e?"other":1==t?"one":2==t?"two":"other"},ky:function(t,e){return e?"other":1==t?"one":"other"},lag:function(t,e){var n=String(t).split(".")[0];return e?"other":0==t?"zero":0!=n&&1!=n||0==t?"other":"one"},lb:function(t,e){return e?"other":1==t?"one":"other"},lg:function(t,e){return e?"other":1==t?"one":"other"},lkt:function(t,e){return"other"},ln:function(t,e){return e?"other":0==t||1==t?"one":"other"},lo:function(t,e){return e&&1==t?"one":"other"},lt:function(t,e){var n=String(t).split("."),r=n[1]||"",i=Number(n[0])==t,o=i&&n[0].slice(-1),a=i&&n[0].slice(-2);return e?"other":1==o&&(a<11||a>19)?"one":o>=2&&o<=9&&(a<11||a>19)?"few":0!=r?"many":"other"},lv:function(t,e){var n=String(t).split("."),r=n[1]||"",i=r.length,o=Number(n[0])==t,a=o&&n[0].slice(-1),s=o&&n[0].slice(-2),c=r.slice(-2),u=r.slice(-1);return e?"other":o&&0==a||s>=11&&s<=19||2==i&&c>=11&&c<=19?"zero":1==a&&11!=s||2==i&&1==u&&11!=c||2!=i&&1==u?"one":"other"},mas:function(t,e){return e?"other":1==t?"one":"other"},mg:function(t,e){return e?"other":0==t||1==t?"one":"other"},mgo:function(t,e){return e?"other":1==t?"one":"other"},mk:function(t,e){var n=String(t).split("."),r=n[0],i=n[1]||"",o=!n[1],a=r.slice(-1),s=r.slice(-2),c=i.slice(-1),u=i.slice(-2);return e?1==a&&11!=s?"one":2==a&&12!=s?"two":7!=a&&8!=a||17==s||18==s?"other":"many":o&&1==a&&11!=s||1==c&&11!=u?"one":"other"},ml:function(t,e){return e?"other":1==t?"one":"other"},mn:function(t,e){return e?"other":1==t?"one":"other"},mo:function(t,e){var n=String(t).split("."),r=!n[1],i=Number(n[0])==t&&n[0].slice(-2);return e?1==t?"one":"other":1==t&&r?"one":!r||0==t||1!=t&&i>=1&&i<=19?"few":"other"},mr:function(t,e){return e?1==t?"one":2==t||3==t?"two":4==t?"few":"other":t>=0&&t<=1?"one":"other"},ms:function(t,e){return e&&1==t?"one":"other"},mt:function(t,e){var n=String(t).split("."),r=Number(n[0])==t&&n[0].slice(-2);return e?"other":1==t?"one":0==t||r>=2&&r<=10?"few":r>=11&&r<=19?"many":"other"},my:function(t,e){return"other"},nah:function(t,e){return e?"other":1==t?"one":"other"},naq:function(t,e){return e?"other":1==t?"one":2==t?"two":"other"},nb:function(t,e){return e?"other":1==t?"one":"other"},nd:function(t,e){return e?"other":1==t?"one":"other"},ne:function(t,e){var n=String(t).split("."),r=Number(n[0])==t;return e?r&&t>=1&&t<=4?"one":"other":1==t?"one":"other"},nl:function(t,e){var n=!String(t).split(".")[1];return e?"other":1==t&&n?"one":"other"},nn:function(t,e){return e?"other":1==t?"one":"other"},nnh:function(t,e){return e?"other":1==t?"one":"other"},no:function(t,e){return e?"other":1==t?"one":"other"},nqo:function(t,e){return"other"},nr:function(t,e){return e?"other":1==t?"one":"other"},nso:function(t,e){return e?"other":0==t||1==t?"one":"other"},ny:function(t,e){return e?"other":1==t?"one":"other"},nyn:function(t,e){return e?"other":1==t?"one":"other"},om:function(t,e){return e?"other":1==t?"one":"other"},or:function(t,e){var n=String(t).split("."),r=Number(n[0])==t;return e?1==t||5==t||r&&t>=7&&t<=9?"one":2==t||3==t?"two":4==t?"few":6==t?"many":"other":1==t?"one":"other"},os:function(t,e){return e?"other":1==t?"one":"other"},pa:function(t,e){return e?"other":0==t||1==t?"one":"other"},pap:function(t,e){return e?"other":1==t?"one":"other"},pl:function(t,e){var n=String(t).split("."),r=n[0],i=!n[1],o=r.slice(-1),a=r.slice(-2);return e?"other":1==t&&i?"one":i&&o>=2&&o<=4&&(a<12||a>14)?"few":i&&1!=r&&(0==o||1==o)||i&&o>=5&&o<=9||i&&a>=12&&a<=14?"many":"other"},prg:function(t,e){var n=String(t).split("."),r=n[1]||"",i=r.length,o=Number(n[0])==t,a=o&&n[0].slice(-1),s=o&&n[0].slice(-2),c=r.slice(-2),u=r.slice(-1);return e?"other":o&&0==a||s>=11&&s<=19||2==i&&c>=11&&c<=19?"zero":1==a&&11!=s||2==i&&1==u&&11!=c||2!=i&&1==u?"one":"other"},ps:function(t,e){return e?"other":1==t?"one":"other"},pt:function(t,e){var n=String(t).split(".")[0];return e?"other":0==n||1==n?"one":"other"},"pt-PT":function(t,e){var n=!String(t).split(".")[1];return e?"other":1==t&&n?"one":"other"},rm:function(t,e){return e?"other":1==t?"one":"other"},ro:function(t,e){var n=String(t).split("."),r=!n[1],i=Number(n[0])==t&&n[0].slice(-2);return e?1==t?"one":"other":1==t&&r?"one":!r||0==t||1!=t&&i>=1&&i<=19?"few":"other"},rof:function(t,e){return e?"other":1==t?"one":"other"},root:function(t,e){return"other"},ru:function(t,e){var n=String(t).split("."),r=n[0],i=!n[1],o=r.slice(-1),a=r.slice(-2);return e?"other":i&&1==o&&11!=a?"one":i&&o>=2&&o<=4&&(a<12||a>14)?"few":i&&0==o||i&&o>=5&&o<=9||i&&a>=11&&a<=14?"many":"other"},rwk:function(t,e){return e?"other":1==t?"one":"other"},sah:function(t,e){return"other"},saq:function(t,e){return e?"other":1==t?"one":"other"},sc:function(t,e){var n=!String(t).split(".")[1];return e?11==t||8==t||80==t||800==t?"many":"other":1==t&&n?"one":"other"},scn:function(t,e){var n=!String(t).split(".")[1];return e?11==t||8==t||80==t||800==t?"many":"other":1==t&&n?"one":"other"},sd:function(t,e){return e?"other":1==t?"one":"other"},sdh:function(t,e){return e?"other":1==t?"one":"other"},se:function(t,e){return e?"other":1==t?"one":2==t?"two":"other"},seh:function(t,e){return e?"other":1==t?"one":"other"},ses:function(t,e){return"other"},sg:function(t,e){return"other"},sh:function(t,e){var n=String(t).split("."),r=n[0],i=n[1]||"",o=!n[1],a=r.slice(-1),s=r.slice(-2),c=i.slice(-1),u=i.slice(-2);return e?"other":o&&1==a&&11!=s||1==c&&11!=u?"one":o&&a>=2&&a<=4&&(s<12||s>14)||c>=2&&c<=4&&(u<12||u>14)?"few":"other"},shi:function(t,e){var n=String(t).split("."),r=Number(n[0])==t;return e?"other":t>=0&&t<=1?"one":r&&t>=2&&t<=10?"few":"other"},si:function(t,e){var n=String(t).split("."),r=n[0],i=n[1]||"";return e?"other":0==t||1==t||0==r&&1==i?"one":"other"},sk:function(t,e){var n=String(t).split("."),r=n[0],i=!n[1];return e?"other":1==t&&i?"one":r>=2&&r<=4&&i?"few":i?"other":"many"},sl:function(t,e){var n=String(t).split("."),r=n[0],i=!n[1],o=r.slice(-2);return e?"other":i&&1==o?"one":i&&2==o?"two":i&&(3==o||4==o)||!i?"few":"other"},sma:function(t,e){return e?"other":1==t?"one":2==t?"two":"other"},smi:function(t,e){return e?"other":1==t?"one":2==t?"two":"other"},smj:function(t,e){return e?"other":1==t?"one":2==t?"two":"other"},smn:function(t,e){return e?"other":1==t?"one":2==t?"two":"other"},sms:function(t,e){return e?"other":1==t?"one":2==t?"two":"other"},sn:function(t,e){return e?"other":1==t?"one":"other"},so:function(t,e){return e?"other":1==t?"one":"other"},sq:function(t,e){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-1),o=r&&n[0].slice(-2);return e?1==t?"one":4==i&&14!=o?"many":"other":1==t?"one":"other"},sr:function(t,e){var n=String(t).split("."),r=n[0],i=n[1]||"",o=!n[1],a=r.slice(-1),s=r.slice(-2),c=i.slice(-1),u=i.slice(-2);return e?"other":o&&1==a&&11!=s||1==c&&11!=u?"one":o&&a>=2&&a<=4&&(s<12||s>14)||c>=2&&c<=4&&(u<12||u>14)?"few":"other"},ss:function(t,e){return e?"other":1==t?"one":"other"},ssy:function(t,e){return e?"other":1==t?"one":"other"},st:function(t,e){return e?"other":1==t?"one":"other"},sv:function(t,e){var n=String(t).split("."),r=!n[1],i=Number(n[0])==t,o=i&&n[0].slice(-1),a=i&&n[0].slice(-2);return e?1!=o&&2!=o||11==a||12==a?"other":"one":1==t&&r?"one":"other"},sw:function(t,e){var n=!String(t).split(".")[1];return e?"other":1==t&&n?"one":"other"},syr:function(t,e){return e?"other":1==t?"one":"other"},ta:function(t,e){return e?"other":1==t?"one":"other"},te:function(t,e){return e?"other":1==t?"one":"other"},teo:function(t,e){return e?"other":1==t?"one":"other"},th:function(t,e){return"other"},ti:function(t,e){return e?"other":0==t||1==t?"one":"other"},tig:function(t,e){return e?"other":1==t?"one":"other"},tk:function(t,e){var n=String(t).split("."),r=Number(n[0])==t&&n[0].slice(-1);return e?6==r||9==r||10==t?"few":"other":1==t?"one":"other"},tl:function(t,e){var n=String(t).split("."),r=n[0],i=n[1]||"",o=!n[1],a=r.slice(-1),s=i.slice(-1);return e?1==t?"one":"other":o&&(1==r||2==r||3==r)||o&&4!=a&&6!=a&&9!=a||!o&&4!=s&&6!=s&&9!=s?"one":"other"},tn:function(t,e){return e?"other":1==t?"one":"other"},to:function(t,e){return"other"},tr:function(t,e){return e?"other":1==t?"one":"other"},ts:function(t,e){return e?"other":1==t?"one":"other"},tzm:function(t,e){var n=String(t).split("."),r=Number(n[0])==t;return e?"other":0==t||1==t||r&&t>=11&&t<=99?"one":"other"},ug:function(t,e){return e?"other":1==t?"one":"other"},uk:function(t,e){var n=String(t).split("."),r=n[0],i=!n[1],o=Number(n[0])==t,a=o&&n[0].slice(-1),s=o&&n[0].slice(-2),c=r.slice(-1),u=r.slice(-2);return e?3==a&&13!=s?"few":"other":i&&1==c&&11!=u?"one":i&&c>=2&&c<=4&&(u<12||u>14)?"few":i&&0==c||i&&c>=5&&c<=9||i&&u>=11&&u<=14?"many":"other"},ur:function(t,e){var n=!String(t).split(".")[1];return e?"other":1==t&&n?"one":"other"},uz:function(t,e){return e?"other":1==t?"one":"other"},ve:function(t,e){return e?"other":1==t?"one":"other"},vi:function(t,e){return e&&1==t?"one":"other"},vo:function(t,e){return e?"other":1==t?"one":"other"},vun:function(t,e){return e?"other":1==t?"one":"other"},wa:function(t,e){return e?"other":0==t||1==t?"one":"other"},wae:function(t,e){return e?"other":1==t?"one":"other"},wo:function(t,e){return"other"},xh:function(t,e){return e?"other":1==t?"one":"other"},xog:function(t,e){return e?"other":1==t?"one":"other"},yi:function(t,e){var n=!String(t).split(".")[1];return e?"other":1==t&&n?"one":"other"},yo:function(t,e){return"other"},yue:function(t,e){return"other"},zh:function(t,e){return"other"},zu:function(t,e){return e?"other":t>=0&&t<=1?"one":"other"}})?r.call(e,n,e,t):r)||(t.exports=i)},function(t,e,n){var r=n(185);function i(t){this.mf=t,this.setStrictNumber(t.strictNumberSign)}function o(t,e,n){if(!n)return t;if(isNaN(t))throw new Error("Can't apply offset:"+n+" to argument `"+e+"` with non-numerical value "+JSON.stringify(t)+".");return t-n}function a(t,e,n){if(isNaN(t))throw new Error("Argument `"+e+"` has non-numerical value "+JSON.stringify(t)+".");return t-(n||0)}t.exports=i,i.prototype.setStrictNumber=function(t){this.number=t?a:o},i.prototype.plural=function(t,e,n,r,i){if({}.hasOwnProperty.call(r,t))return r[t];e&&(t-=e);var o=n(t,i);return o in r?r[o]:r.other},i.prototype.select=function(t,e){return{}.hasOwnProperty.call(e,t)?e[t]:e.other},i.prototype.toString=function(t,e){var n={};Object.keys(e.locales).forEach((function(e){n[r.funcname(e)]=t[e]})),Object.keys(e.runtime).forEach((function(t){n[t]=this[t]}),this);var i=Object.keys(e.formatters),o=this.mf.fmt;return i.length&&(n.fmt=i.reduce((function(t,e){return t[e]=o[e],t}),{})),function t(e,n){if("object"!=typeof e){var i=e.toString().replace(/^(function )\w*/,"$1"),o=/([ \t]*)\S.*$/.exec(i);return o?i.replace(new RegExp("^"+o[1],"mg"),""):i}var a=[];for(var s in e)0===n?a.push("var "+s+" = "+t(e[s],n+1)+";\n"):a.push(r.propname(s)+": "+t(e[s],n+1));if(0===n)return a.join("");if(0===a.length)return"{}";for(var c="  ";--n;)c+="  ";return"{\n"+a.join(",\n").replace(/^/gm,c)+"\n}"}(n,0)}}])]);
//# sourceMappingURL=theme-bundle.chunk.5.js.map
>>>>>>> 44f31af017b7f2ab5f385252ef164cf06d8421dd
